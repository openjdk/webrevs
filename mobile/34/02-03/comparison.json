{"files":[{"patch":"@@ -13,0 +13,45 @@\n+\n+## Build static image for iOS\n+\n+> [!NOTE]\n+> Follow the instructions in [building.md](building.md) to make sure\n+> you can build the JDK targeting macOS before trying to build for iOS\n+\n+### Pre-requisites\n+Following are the prerequisites to build JDK on Mac targeting iOS:\n+1. Download and unzip pre-built JDK24 to be used as boot JDK\n+2. Download the [support zip](https:\/\/download2.gluonhq.com\/mobile\/mobile-support-20250106.zip) which contains an ios build for libffi and cups. Unzip it in the root directory of the project.\n+3. Install `autoconf` on mac via homebrew: `brew install autoconf`\n+\n+### Clone the mobile repository\n+Clone the openjdk\/mobile repository. The following command can be used:\n+\n+```\n+git clone git@github.com:openjdk\/mobile.git\n+```\n+\n+### Configure\n+Modify the configure script below so that it has the correct paths to your JDK24 directory,\n+the unzipped 'support' directory, and the correct location of the iPhoneOS.platform.\n+\n+```\n+sh configure \\\n+--with-conf-name=zero-ios-aarch64 \\\n+--disable-warnings-as-errors \\\n+--openjdk-target=aarch64-macos-ios \\\n+--with-boot-jdk=\/Users\/abhinay\/.sdkman\/candidates\/java\/24.ea.29-open \\\n+--with-jvm-variants=zero \\\n+--with-libffi-include=<support-dir-absolute-path>\/libffi\/include \\\n+--with-libffi-lib=<support-dir-absolute-path>\/libffi\/libs \\\n+--with-cups-include=<support-dir-absolute-path>\/cups-2.3.6\n+--with-sysroot=\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/iPhoneOS.platform\/Developer\/SDKs\/iPhoneOS.sdk \\\n+```\n+\n+### Build static image\n+Execute the `make` command:\n+\n+```\n+make CONF=zero-ios-aarch64 static-libs-image\n+```\n+\n+Once the build is successful, it should have created a directory in `build\/zero-ios-aarch64\/images\/static-libs\/lib\/zero` with a file `libjvm.a`.\n\\ No newline at end of file\n","filename":"README.md","additions":45,"deletions":0,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -1,47 +0,0 @@\n-# Building the JDK targeting iOS\n-\n-> [!NOTE]\n-> Follow the instructions in [building.md](building.md) to make sure\n-> you can build the JDK targeting macOS before trying to build for iOS\n-\n-## Build static image for iOS\n-\n-### Pre-requisites\n-Following are the prerequisites to build JDK on Mac targeting iOS:\n-1. Download and unzip pre-built JDK24 to be used as boot JDK\n-2. Download the [support zip](https:\/\/download2.gluonhq.com\/mobile\/mobile-support-20250106.zip) which contains an ios build for libffi and cups. Unzip it in the root directory of the project.\n-3. Install `autoconf` on mac via homebrew: `brew install autoconf`\n-\n-### Clone the mobile repository\n-Clone the openjdk\/mobile repository. The following command can be used:\n-\n-```\n-git clone git@github.com:openjdk\/mobile.git\n-```\n-\n-### Configure\n-Modify the configure script below so that it has the correct paths to your JDK24 directory,\n-the unzipped 'support' directory, and the correct location of the iPhoneOS.platform.\n-\n-```\n-sh configure \\\n---with-conf-name=zero-ios-aarch64 \\\n---disable-warnings-as-errors \\\n---openjdk-target=aarch64-macos-ios \\\n---with-boot-jdk=path-to-jdk24 \\\n---with-jvm-variants=zero \\\n---with-libffi-include=support\/libffi\/include \\\n---with-libffi-lib=support\/libffi\/libs \\\n---with-sysroot=\/Applications\/Xcode.app\/Contents\/Developer\/Platforms\/iPhoneOS.platform\/Developer\/SDKs\/iPhoneOS.sdk \\\n---with-cups-include=support\/cups-2.3.6\n-```\n-\n-### Build static image\n-Move into  `build\/zero-ios-aarch64` and execute the `make` command:\n-\n-```\n-cd build\/zero-ios-aarch64\n-make static-libs-image\n-```\n-\n-Once the build is successful, it should have created a directory in `build\/zero-ios-aarch64\/images\/static-libs\/lib\/zero` with a file `libjvm.a`.\n\\ No newline at end of file\n","filename":"doc\/building_ios.md","additions":0,"deletions":47,"binary":false,"changes":47,"status":"deleted"}]}
{"files":[{"patch":"@@ -35,1 +35,1 @@\n-ifeq ($(call isTargetOs, linux aix android ios), true)\n+ifeq ($(call isTargetOs, linux aix), true)\n","filename":"make\/modules\/java.desktop\/Gensrc.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,33 +33,0 @@\n-$(eval $(call SetupJdkLibrary, BUILD_LIBINSTRUMENT, \\\n-    NAME := instrument, \\\n-    OPTIMIZATION := LOW, \\\n-    CFLAGS_windows := -Dstrcasecmp=stricmp, \\\n-    CFLAGS_debug := -DJPLIS_LOGGING, \\\n-    CFLAGS_release := -DNO_JPLIS_LOGGING, \\\n-    EXTRA_HEADER_DIRS := java.base:libjli, \\\n-    LDFLAGS_linux := -L$(call FindLibDirForModule, java.base), \\\n-    LDFLAGS_macosx := -L$(call FindLibDirForModule, java.base), \\\n-    LDFLAGS_aix := -L$(SUPPORT_OUTPUTDIR)\/native\/java.base, \\\n-    JDK_LIBS := $(JDKLIB_LIBS), \\\n-    JDK_LIBS_linux := -ljli, \\\n-    JDK_LIBS_macosx := -ljli, \\\n-    JDK_LIBS_aix := -ljli_static, \\\n-    JDK_LIBS_windows := $(WIN_JAVA_LIB) \\\n-        $(SUPPORT_OUTPUTDIR)\/native\/java.base\/libjli\/jli.lib jvm.lib, \\\n-    LIBS_unix := $(LIBZ_LIBS), \\\n-    LIBS_linux := $(LIBDL), \\\n-    LIBS_aix := $(LIBDL) -liconv, \\\n-    LIBS_macosx := -liconv \\\n-        -framework ApplicationServices \\\n-        -framework Cocoa \\\n-        -framework Security, \\\n-    LIBS_windows := advapi32.lib, \\\n-))\n-\n-ifeq ($(call isTargetOs, aix), true)\n-  $(BUILD_LIBINSTRUMENT): $(call FindStaticLib, java.base, jli_static)\n-else\n-  $(BUILD_LIBINSTRUMENT): $(call FindLib, java.base, jli)\n-endif\n-$(BUILD_LIBINSTRUMENT): $(call FindLib, java.base, java)\n-\n@@ -67,0 +34,33 @@\n+  $(eval $(call SetupJdkLibrary, BUILD_LIBINSTRUMENT, \\\n+      NAME := instrument, \\\n+      OPTIMIZATION := LOW, \\\n+      CFLAGS_windows := -Dstrcasecmp=stricmp, \\\n+      CFLAGS_debug := -DJPLIS_LOGGING, \\\n+      CFLAGS_release := -DNO_JPLIS_LOGGING, \\\n+      EXTRA_HEADER_DIRS := java.base:libjli, \\\n+      LDFLAGS_linux := -L$(call FindLibDirForModule, java.base), \\\n+      LDFLAGS_macosx := -L$(call FindLibDirForModule, java.base), \\\n+      LDFLAGS_aix := -L$(SUPPORT_OUTPUTDIR)\/native\/java.base, \\\n+      JDK_LIBS := $(JDKLIB_LIBS), \\\n+      JDK_LIBS_linux := -ljli, \\\n+      JDK_LIBS_macosx := -ljli, \\\n+      JDK_LIBS_aix := -ljli_static, \\\n+      JDK_LIBS_windows := $(WIN_JAVA_LIB) \\\n+          $(SUPPORT_OUTPUTDIR)\/native\/java.base\/libjli\/jli.lib jvm.lib, \\\n+      LIBS_unix := $(LIBZ_LIBS), \\\n+      LIBS_linux := $(LIBDL), \\\n+      LIBS_aix := $(LIBDL) -liconv, \\\n+      LIBS_macosx := -liconv \\\n+          -framework ApplicationServices \\\n+          -framework Cocoa \\\n+          -framework Security, \\\n+      LIBS_windows := advapi32.lib, \\\n+  ))\n+  \n+  ifeq ($(call isTargetOs, aix), true)\n+    $(BUILD_LIBINSTRUMENT): $(call FindStaticLib, java.base, jli_static)\n+  else\n+    $(BUILD_LIBINSTRUMENT): $(call FindLib, java.base, jli)\n+  endif\n+  $(BUILD_LIBINSTRUMENT): $(call FindLib, java.base, java)\n+\n","filename":"make\/modules\/java.instrument\/Lib.gmk","additions":33,"deletions":33,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -56,17 +56,18 @@\n-$(eval $(call SetupJdkLibrary, BUILD_LIBSAPROC, \\\n-    NAME := saproc, \\\n-    LINK_TYPE := $(LIBSAPROC_LINK_TYPE), \\\n-    OPTIMIZATION := HIGH, \\\n-    DISABLED_WARNINGS_gcc := sign-compare, \\\n-    DISABLED_WARNINGS_gcc_ps_core.c := pointer-arith, \\\n-    DISABLED_WARNINGS_clang_ps_core.c := pointer-arith, \\\n-    DISABLED_WARNINGS_clang := sign-compare, \\\n-    DISABLED_WARNINGS_clang_libproc_impl.c := format-nonliteral, \\\n-    DISABLED_WARNINGS_clang_sadis.c := format-nonliteral, \\\n-    CFLAGS := $(LIBSAPROC_CFLAGS), \\\n-    CXXFLAGS := $(LIBSAPROC_CFLAGS) $(LIBSAPROC_CXXFLAGS), \\\n-    EXTRA_SRC := $(LIBSAPROC_EXTRA_SRC), \\\n-    JDK_LIBS_unix := -ljava, \\\n-    JDK_LIBS_windows := $(WIN_JAVA_LIB), \\\n-    LIBS_linux := $(LIBDL), \\\n-    LIBS_macosx := \\\n+ifeq ($(call isTargetOs, android ios), false)\n+  $(eval $(call SetupJdkLibrary, BUILD_LIBSAPROC, \\\n+      NAME := saproc, \\\n+      LINK_TYPE := $(LIBSAPROC_LINK_TYPE), \\\n+      OPTIMIZATION := HIGH, \\\n+      DISABLED_WARNINGS_gcc := sign-compare, \\\n+      DISABLED_WARNINGS_gcc_ps_core.c := pointer-arith, \\\n+      DISABLED_WARNINGS_clang_ps_core.c := pointer-arith, \\\n+      DISABLED_WARNINGS_clang := sign-compare, \\\n+      DISABLED_WARNINGS_clang_libproc_impl.c := format-nonliteral, \\\n+      DISABLED_WARNINGS_clang_sadis.c := format-nonliteral, \\\n+      CFLAGS := $(LIBSAPROC_CFLAGS), \\\n+      CXXFLAGS := $(LIBSAPROC_CFLAGS) $(LIBSAPROC_CXXFLAGS), \\\n+      EXTRA_SRC := $(LIBSAPROC_EXTRA_SRC), \\\n+      JDK_LIBS_unix := -ljava, \\\n+      JDK_LIBS_windows := $(WIN_JAVA_LIB), \\\n+      LIBS_linux := $(LIBDL), \\\n+      LIBS_macosx := \\\n@@ -77,2 +78,2 @@\n-    LIBS_windows := dbgeng.lib, \\\n-))\n+      LIBS_windows := dbgeng.lib, \\\n+  ))\n@@ -80,2 +81,1 @@\n-ifeq ($(call isTargetOs, android ios), false)\n-  TARGETS += $(BUILD_LIBSA)\n+  TARGETS += $(BUILD_LIBSAPROC)\n","filename":"make\/modules\/jdk.hotspot.agent\/Lib.gmk","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -53,17 +53,18 @@\n-$(eval $(call SetupJdkLibrary, BUILD_LIBJDWP, \\\n-    NAME := jdwp, \\\n-    OPTIMIZATION := LOW, \\\n-    CFLAGS := -DJDWP_LOGGING, \\\n-    DISABLED_WARNINGS_gcc_SDE.c := unused-function, \\\n-    DISABLED_WARNINGS_clang_error_messages.c := format-nonliteral, \\\n-    DISABLED_WARNINGS_clang_EventRequestImpl.c := self-assign, \\\n-    DISABLED_WARNINGS_clang_inStream.c := sometimes-uninitialized, \\\n-    DISABLED_WARNINGS_clang_log_messages.c := format-nonliteral, \\\n-    EXTRA_HEADER_DIRS := \\\n-        include \\\n-        libjdwp\/export, \\\n-    JDK_LIBS := $(JDKLIB_LIBS), \\\n-    LIBS_linux := $(LIBDL), \\\n-    LIBS_macosx := -liconv, \\\n-    LIBS_aix := -liconv, \\\n-))\n+ifeq ($(call isTargetOs, android ios), false)\n+  $(eval $(call SetupJdkLibrary, BUILD_LIBJDWP, \\\n+      NAME := jdwp, \\\n+      OPTIMIZATION := LOW, \\\n+      CFLAGS := -DJDWP_LOGGING, \\\n+      DISABLED_WARNINGS_gcc_SDE.c := unused-function, \\\n+      DISABLED_WARNINGS_clang_error_messages.c := format-nonliteral, \\\n+      DISABLED_WARNINGS_clang_EventRequestImpl.c := self-assign, \\\n+      DISABLED_WARNINGS_clang_inStream.c := sometimes-uninitialized, \\\n+      DISABLED_WARNINGS_clang_log_messages.c := format-nonliteral, \\\n+      EXTRA_HEADER_DIRS := \\\n+          include \\\n+          libjdwp\/export, \\\n+      JDK_LIBS := $(JDKLIB_LIBS), \\\n+      LIBS_linux := $(LIBDL), \\\n+      LIBS_macosx := -liconv, \\\n+      LIBS_aix := -liconv, \\\n+  ))\n@@ -71,1 +72,1 @@\n-$(BUILD_LIBJDWP): $(call FindLib, java.base, java)\n+  $(BUILD_LIBJDWP): $(call FindLib, java.base, java)\n@@ -73,1 +74,0 @@\n-ifeq ($(call isTargetOs, android ios), false)\n","filename":"make\/modules\/jdk.jdwp.agent\/Lib.gmk","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -321,1 +321,1 @@\n-    return (100);\n+    return 100;\n","filename":"src\/jdk.management\/unix\/native\/libmanagement_ext\/OperatingSystemImpl.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
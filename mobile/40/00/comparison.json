{"files":[{"patch":"@@ -73,1 +73,1 @@\n-  if test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n+  if test \"x$TOOLCHAIN_TYPE\" = xgcc || test \"x$OPENJDK_TARGET_OS\" = xandroid; then\n@@ -435,2 +435,2 @@\n-    CFLAGS_OS_DEF_JVM=\"-target aarch64-linux-android -DLINUX -D_ALLBSD_SOURCE -DANDROID\"\n-    CFLAGS_OS_DEF_JDK=\"-target aarch64-linux-android -DLINUX -D__USE_BSD\"\n+    CFLAGS_OS_DEF_JVM=\"-target aarch64-linux-android32 -DLINUX -D_ALLBSD_SOURCE -DANDROID\"\n+    CFLAGS_OS_DEF_JDK=\"-target aarch64-linux-android32 -DLINUX -D__USE_BSD\"\n","filename":"make\/autoconf\/flags-cflags.m4","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -542,0 +542,3 @@\n+  if test \"x$OPENJDK_$1_OS\" = xandroid; then\n+    HOTSPOT_$1_OS=linux\n+  fi\n","filename":"make\/autoconf\/platform.m4","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -627,0 +627,1 @@\n+#ifndef __BIONIC__\n@@ -633,0 +634,1 @@\n+#endif\n@@ -680,0 +682,1 @@\n+#ifndef __BIONIC__\n@@ -684,0 +687,1 @@\n+#endif\n@@ -690,0 +694,3 @@\n+#elif defined(__BIONIC__)\n+  os::Linux::set_libc_version(\"bionic - unknown\");\n+  os::Linux::set_libpthread_version(\"bionic - unknown\");\n@@ -2008,0 +2015,3 @@\n+#ifdef __BIONIC__\n+  return nullptr;\n+#else\n@@ -2017,0 +2027,1 @@\n+#endif\n@@ -3125,0 +3136,1 @@\n+  #ifndef __BIONIC__\n@@ -3126,0 +3138,3 @@\n+  #else\n+  void *f = dlsym(handle, name);\n+  #endif\n@@ -3135,0 +3150,1 @@\n+  #ifndef __BIONIC__\n@@ -3136,0 +3152,3 @@\n+  #else\n+  return dlsym(handle, name);\n+  #endif\n@@ -4364,0 +4383,4 @@\n+#ifdef __BIONIC__\n+  char dummy2;\n+  FLAG_SET_DEFAULT(UseMadvPopulateWrite, (::madvise(&dummy2, 1, MADV_POPULATE_WRITE) == 0));\n+#else\n@@ -4365,0 +4388,1 @@\n+#endif\n@@ -5113,0 +5137,1 @@\n+  #ifndef __BIONIC__\n@@ -5114,0 +5139,3 @@\n+  #else\n+  return -1;\n+  #endif\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1012,0 +1012,1 @@\n+#ifndef __BIONIC__\n@@ -1036,0 +1037,3 @@\n+#else\n+  return -1;\n+#endif\n","filename":"src\/hotspot\/os\/linux\/os_perf_linux.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2104,0 +2104,1 @@\n+#ifndef __BIONIC__\n@@ -2140,0 +2141,3 @@\n+#else\n+  return -1;\n+#endif\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -860,0 +860,1 @@\n+#ifndef __BIONIC__\n@@ -864,0 +865,6 @@\n+#else\n+      JImageOpen = JIMAGE_Open;\n+      JImageClose = JIMAGE_Close;\n+      JImageFindResource = JIMAGE_FindResource;\n+      JImageGetResource = JIMAGE_GetResource;\n+#endif\n","filename":"src\/hotspot\/share\/classfile\/classLoader.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -44,0 +44,1 @@\n+#if !defined(__BIONIC__)\n@@ -46,0 +47,1 @@\n+#endif\n@@ -52,0 +54,1 @@\n+#if !defined(__BIONIC__)\n@@ -83,0 +86,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/utilities\/forbiddenFunctions.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -585,0 +585,1 @@\n+#ifndef __BIONIC__\n@@ -586,0 +587,3 @@\n+#else\n+    return -1;\n+#endif\n","filename":"src\/java.base\/unix\/native\/libjava\/ProcessImpl_md.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -291,0 +291,1 @@\n+#ifndef __BIONIC__\n@@ -292,0 +293,3 @@\n+#else\n+            p = \"UTF-8\";\n+#endif\n","filename":"src\/java.base\/unix\/native\/libjava\/java_props_md.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -61,0 +61,1 @@\n+#ifndef __BIONIC__\n@@ -95,0 +96,1 @@\n+#endif\n@@ -104,0 +106,1 @@\n+#ifndef __BIONIC__\n@@ -142,0 +145,1 @@\n+#endif\n","filename":"src\/java.instrument\/unix\/native\/libinstrument\/EncodingSupport_md.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -463,0 +463,1 @@\n+#ifndef __BIONIC__\n@@ -533,0 +534,3 @@\n+#else\n+    return -1;\n+#endif\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libjdwp\/utf_util.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}
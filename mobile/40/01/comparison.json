{"files":[{"patch":"@@ -73,1 +73,1 @@\n-  if test \"x$TOOLCHAIN_TYPE\" = xgcc; then\n+  if test \"x$TOOLCHAIN_TYPE\" = xgcc || test \"x$OPENJDK_TARGET_OS\" = xandroid; then\n@@ -447,2 +447,2 @@\n-    CFLAGS_OS_DEF_JVM=\"-target aarch64-linux-android -DLINUX -D_ALLBSD_SOURCE -DANDROID\"\n-    CFLAGS_OS_DEF_JDK=\"-target aarch64-linux-android -DLINUX -D__USE_BSD\"\n+    CFLAGS_OS_DEF_JVM=\"-target aarch64-linux-android32 -DLINUX -D_ALLBSD_SOURCE -DANDROID\"\n+    CFLAGS_OS_DEF_JDK=\"-target aarch64-linux-android32 -DLINUX -D__USE_BSD\"\n","filename":"make\/autoconf\/flags-cflags.m4","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -542,0 +542,3 @@\n+  if test \"x$OPENJDK_$1_OS\" = xandroid; then\n+    HOTSPOT_$1_OS=linux\n+  fi\n","filename":"make\/autoconf\/platform.m4","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -608,0 +608,1 @@\n+#ifndef __BIONIC__\n@@ -614,0 +615,1 @@\n+#endif\n@@ -661,0 +663,1 @@\n+#ifndef __BIONIC__\n@@ -665,0 +668,1 @@\n+#endif\n@@ -671,0 +675,3 @@\n+#elif defined(__BIONIC__)\n+  os::Linux::set_libc_version(\"bionic - unknown\");\n+  os::Linux::set_libpthread_version(\"bionic - unknown\");\n@@ -1957,0 +1964,3 @@\n+#ifdef __BIONIC__\n+  return nullptr;\n+#else\n@@ -1966,0 +1976,1 @@\n+#endif\n@@ -3106,0 +3117,1 @@\n+  #ifndef __BIONIC__\n@@ -3107,0 +3119,3 @@\n+  #else\n+  void *f = dlsym(handle, name);\n+  #endif\n@@ -3116,0 +3131,1 @@\n+  #ifndef __BIONIC__\n@@ -3117,0 +3133,3 @@\n+  #else\n+  return dlsym(handle, name);\n+  #endif\n@@ -4412,0 +4431,4 @@\n+#ifdef __BIONIC__\n+  char dummy2;\n+  FLAG_SET_DEFAULT(UseMadvPopulateWrite, (::madvise(&dummy2, 1, MADV_POPULATE_WRITE) == 0));\n+#else\n@@ -4413,0 +4436,1 @@\n+#endif\n@@ -5044,0 +5068,1 @@\n+  #ifndef __BIONIC__\n@@ -5045,0 +5070,3 @@\n+  #else\n+  return -1;\n+  #endif\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1006,0 +1006,1 @@\n+#ifndef __BIONIC__\n@@ -1030,0 +1031,3 @@\n+#else\n+  return -1;\n+#endif\n","filename":"src\/hotspot\/os\/linux\/os_perf_linux.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2128,0 +2128,1 @@\n+#ifndef __BIONIC__\n@@ -2164,0 +2165,3 @@\n+#else\n+  return -1;\n+#endif\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -859,0 +859,1 @@\n+#ifndef __BIONIC__\n@@ -863,0 +864,6 @@\n+#else\n+      JImageOpen = JIMAGE_Open;\n+      JImageClose = JIMAGE_Close;\n+      JImageFindResource = JIMAGE_FindResource;\n+      JImageGetResource = JIMAGE_GetResource;\n+#endif\n","filename":"src\/hotspot\/share\/classfile\/classLoader.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -44,0 +44,1 @@\n+#if !defined(__BIONIC__)\n@@ -46,0 +47,1 @@\n+#endif\n@@ -52,0 +54,1 @@\n+#if !defined(__BIONIC__)\n@@ -83,0 +86,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/utilities\/forbiddenFunctions.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -585,0 +585,1 @@\n+#ifndef __BIONIC__\n@@ -586,0 +587,3 @@\n+#else\n+    return -1;\n+#endif\n","filename":"src\/java.base\/unix\/native\/libjava\/ProcessImpl_md.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -291,0 +291,1 @@\n+#ifndef __BIONIC__\n@@ -292,0 +293,3 @@\n+#else\n+            p = \"UTF-8\";\n+#endif\n","filename":"src\/java.base\/unix\/native\/libjava\/java_props_md.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -61,0 +61,1 @@\n+#ifndef __BIONIC__\n@@ -95,0 +96,1 @@\n+#endif\n@@ -104,0 +106,1 @@\n+#ifndef __BIONIC__\n@@ -142,0 +145,1 @@\n+#endif\n","filename":"src\/java.instrument\/unix\/native\/libinstrument\/EncodingSupport_md.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -463,0 +463,1 @@\n+#ifndef __BIONIC__\n@@ -533,0 +534,3 @@\n+#else\n+    return -1;\n+#endif\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libjdwp\/utf_util.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}
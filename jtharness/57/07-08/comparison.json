{"files":[{"patch":"@@ -3,2 +3,0 @@\n-import com.oracle.tck.lib.autd2.unittests.exec.AutoPassTransformer;\n-import com.sun.javatest.exec.StatusTransformer;\n@@ -6,0 +4,2 @@\n+import org.junit.ClassRule;\n+import org.junit.Rule;\n@@ -7,0 +7,1 @@\n+import org.junit.rules.TemporaryFolder;\n@@ -14,1 +15,2 @@\n-    public class ScriptFailImpl extends Script{\n+    @ClassRule\n+    public static final TemporaryFolder tempDir = new TemporaryFolder();\n@@ -16,0 +18,1 @@\n+    public class ScriptFailImpl extends Script{\n@@ -34,1 +37,1 @@\n-        Assert.assertTrue(runScript(script));\n+        runScript(script);\n@@ -43,1 +46,1 @@\n-        Assert.assertTrue(runScript(script));\n+        runScript(script);\n@@ -49,2 +52,1 @@\n-    private boolean runScript(Script script){\n-        File dir = new File(\"temp\");\n+    private void runScript(Script script){\n@@ -52,0 +54,1 @@\n+            File dir = tempDir.newFolder();\n@@ -54,1 +57,1 @@\n-            script.initTestDescription(new TestDescription(dir, dir, emptyMap));\n+            script.initTestDescription(new TestDescription(dir.getParentFile(), dir, emptyMap));\n@@ -60,17 +63,0 @@\n-        return cleanup(dir);\n-    }\n-\n-\n-    private boolean cleanup(File file){\n-        String[]entries = file.list();\n-        boolean success = true;\n-        for(String s: entries){\n-            File currentFile = new File(file.getPath(),s);\n-            if(currentFile.isDirectory()){\n-                success = success && cleanup(currentFile);\n-            }\n-            else {\n-                success = success && currentFile.delete();\n-            }\n-        }\n-        return success && file.delete();\n","filename":"unit-tests\/com\/sun\/javatest\/ScriptTest.java","additions":11,"deletions":25,"binary":false,"changes":36,"status":"modified"}]}
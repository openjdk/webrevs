{"files":[{"patch":"@@ -149,4 +149,12 @@\n-      if( v == cmp ) continue;  \/\/ The compare is OK\n-      if( (v->is_ConstraintCast()) &&\n-          v->in(0)->in(0) == iff )\n-        continue;               \/\/ CastPP\/II of the IfNode is OK\n+      if (v == cmp) continue;  \/\/ The compare is OK\n+      if (v->is_ConstraintCast()) {\n+        \/\/ If the cast is derived from data flow edges, it may not have a control edge.\n+        \/\/ If so, it should be safe to split. But follow-up code can not deal with\n+        \/\/ this (l. 359). So skip.\n+        if (v->in(0) == NULL) {\n+          return NULL;\n+        }\n+        if (v->in(0)->in(0) == iff) {\n+          continue;               \/\/ CastPP\/II of the IfNode is OK\n+        }\n+      }\n","filename":"hotspot\/src\/share\/vm\/opto\/ifnode.cpp","additions":12,"deletions":4,"binary":false,"changes":16,"status":"modified"}]}
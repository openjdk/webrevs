{"files":[{"patch":"@@ -26,0 +26,1 @@\n+#include \"gc_implementation\/shenandoah\/shenandoahHeap.hpp\"\n@@ -620,0 +621,23 @@\n+bool IfNode::is_shenandoah_marking_if(PhaseTransform *phase) const {\n+  if (!UseShenandoahGC) {\n+    return false;\n+  }\n+\n+  if (Opcode() != Op_If) {\n+    return false;\n+  }\n+\n+  Node* bol = in(1);\n+  assert(bol->is_Bool(), \"\");\n+  Node* cmpx = bol->in(1);\n+  if (bol->as_Bool()->_test._test == BoolTest::ne &&\n+      cmpx->is_Cmp() && cmpx->in(2) == phase->intcon(0) &&\n+      cmpx->in(1)->in(1)->is_shenandoah_state_load() &&\n+      cmpx->in(1)->in(2)->is_Con() &&\n+      cmpx->in(1)->in(2) == phase->intcon(ShenandoahHeap::MARKING)) {\n+    return true;\n+  }\n+\n+  return false;\n+}\n+\n","filename":"hotspot\/src\/share\/vm\/opto\/ifnode.cpp","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -241,0 +241,2 @@\n+  \/\/ Since end_range_of_interest may not align on a card boundary, last_relevant_card_index is conservative.  Not all of the\n+  \/\/ memory within the last relevant card's span is < right.\n@@ -343,3 +345,2 @@\n-        assert(_rs->addr_for_card_index(following_card_index) + get_first_start(following_card_index),\n-               \"Result must precede right\");\n-        return _rs->addr_for_card_index(following_card_index) + get_first_start(following_card_index);\n+        HeapWord* result_candidate = _rs->addr_for_card_index(following_card_index) + get_first_start(following_card_index);\n+        return (result_candidate >= right)? nullptr: result_candidate;\n@@ -369,0 +370,1 @@\n+#ifdef ASSERT\n@@ -371,6 +373,1 @@\n-#ifdef ASSERT\n-#define WALK_FORWARD_IN_BLOCK_START true\n-#else\n-#define WALK_FORWARD_IN_BLOCK_START false\n-#endif \/\/ ASSERT\n-  while (WALK_FORWARD_IN_BLOCK_START && p + obj->size() < left) {\n+  while (p + obj->size() < left) {\n@@ -382,1 +379,1 @@\n-    guarantee(false, \"Should never need forward walk in block start\");\n+    fatal(\"Should never need forward walk in block start\");\n@@ -384,1 +381,0 @@\n-#undef WALK_FORWARD_IN_BLOCK_START\n@@ -387,0 +383,1 @@\n+#endif \/\/ ASSERT\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahScanRemembered.cpp","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"}]}
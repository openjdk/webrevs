{"files":[{"patch":"@@ -2471,0 +2471,1 @@\n+  assert(ret == 0, \"sysinfo failed: %s\", os::strerror(errno));\n@@ -2584,2 +2585,2 @@\n-  sysinfo(&si);\n-\n+  int ret = sysinfo(&si);\n+  assert(ret == 0, \"sysinfo failed: %s\", os::strerror(errno));\n@@ -2590,4 +2591,6 @@\n-  st->print(\", swap \" UINT64_FORMAT \"k\",\n-            ((jlong)si.totalswap * si.mem_unit) >> 10);\n-  st->print(\"(\" UINT64_FORMAT \"k free)\",\n-            ((jlong)si.freeswap * si.mem_unit) >> 10);\n+  if (ret == 0) {\n+    st->print(\", swap \" UINT64_FORMAT \"k\",\n+              ((jlong)si.totalswap * si.mem_unit) >> 10);\n+    st->print(\"(\" UINT64_FORMAT \"k free)\",\n+              ((jlong)si.freeswap * si.mem_unit) >> 10);\n+  }\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -391,2 +391,6 @@\n-        sysinfo(SI_ISALIST, list, sizeof(list));\n-        sprops.cpu_isalist = strdup(list);\n+        int ret = sysinfo(SI_ISALIST, list, sizeof(list));\n+        if (ret == 0) {\n+            sprops.cpu_isalist = strdup(list);\n+        } else {\n+            sprops.cpu_isalist = NULL;\n+        }\n","filename":"src\/java.base\/unix\/native\/libjava\/java_props_md.c","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}
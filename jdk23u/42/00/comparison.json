{"files":[{"patch":"@@ -3538,3 +3538,1 @@\n-  if (default_vtable_indices() != nullptr) {\n-    st->print(BULLET\"default vtable indices:   \"); default_vtable_indices()->print_value_on(st);       st->cr();\n-  }\n+  print_on_maybe_null(st, BULLET\"default vtable indices:   \", default_vtable_indices());\n@@ -3567,10 +3565,3 @@\n-  if (class_loader_data() != nullptr) {\n-    st->print(BULLET\"class loader data:  \");\n-    class_loader_data()->print_value_on(st);\n-    st->cr();\n-  }\n-  if (source_file_name() != nullptr) {\n-    st->print(BULLET\"source file:       \");\n-    source_file_name()->print_value_on(st);\n-    st->cr();\n-  }\n+\n+  print_on_maybe_null(st, BULLET\"class loader data:  \", class_loader_data());\n+  print_on_maybe_null(st, BULLET\"source file:       \", source_file_name());\n@@ -3582,4 +3573,4 @@\n-  st->print(BULLET\"class annotations:       \"); class_annotations()->print_value_on(st); st->cr();\n-  st->print(BULLET\"class type annotations:  \"); class_type_annotations()->print_value_on(st); st->cr();\n-  st->print(BULLET\"field annotations:       \"); fields_annotations()->print_value_on(st); st->cr();\n-  st->print(BULLET\"field type annotations:  \"); fields_type_annotations()->print_value_on(st); st->cr();\n+  print_on_maybe_null(st, BULLET\"class annotations:       \", class_annotations());\n+  print_on_maybe_null(st, BULLET\"class type annotations:  \", class_type_annotations());\n+  print_on_maybe_null(st, BULLET\"field annotations:       \", fields_annotations());\n+  print_on_maybe_null(st, BULLET\"field type annotations:  \", fields_type_annotations());\n@@ -3600,5 +3591,1 @@\n-  if (generic_signature() != nullptr) {\n-    st->print(BULLET\"generic signature: \");\n-    generic_signature()->print_value_on(st);\n-    st->cr();\n-  }\n+  print_on_maybe_null(st, BULLET\"generic signature: \", generic_signature());\n@@ -3607,3 +3594,1 @@\n-  if (record_components() != nullptr) {\n-    st->print(BULLET\"record components:     \"); record_components()->print_value_on(st);     st->cr();\n-  }\n+  print_on_maybe_null(st, BULLET\"record components:     \", record_components());\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":10,"deletions":25,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -79,0 +79,9 @@\n+template <typename M>\n+static void print_on_maybe_null(outputStream* st, const char* str, const M* m) {\n+  if (nullptr != m) {\n+    st->print_raw(str);\n+    m->print_value_on(st);\n+    st->cr();\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/oops\/metadata.hpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -44,1 +44,1 @@\n-#include \"runtime\/jniHandles.inline.hpp\"\n+#include \"runtime\/jniHandles.hpp\"\n@@ -626,1 +626,1 @@\n-  trace_new_stub(blob, \"UpcallStub - \", name);\n+  trace_new_stub(blob, \"UpcallStub\");\n@@ -775,4 +775,0 @@\n-  st->print_cr(\"Frame data offset: %d\", (int) _frame_data_offset);\n-  oop recv = JNIHandles::resolve(_receiver);\n-  st->print(\"Receiver MH=\");\n-  recv->print_on(st);\n","filename":"src\/hotspot\/share\/code\/codeBlob.cpp","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -140,0 +140,2 @@\n+  ResourceMark rm;\n+  \/\/ Based on CATCH macro\n@@ -141,3 +143,2 @@\n-  Handle exception_h(Thread::current(), exception);\n-  java_lang_Throwable::print_stack_trace(exception_h, tty);\n-  fatal(\"Unrecoverable uncaught exception encountered\");\n+  exception->print();\n+  ShouldNotReachHere();\n","filename":"src\/hotspot\/share\/prims\/upcallLinker.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -722,2 +722,0 @@\n-    } else if (_cb->is_upcall_stub()) {\n-      st->print(\"v  ~UpcallStub::%s \" PTR_FORMAT, _cb->name(), p2i(pc()));\n@@ -1121,13 +1119,0 @@\n-void frame::oops_upcall_do(OopClosure* f, const RegisterMap* map) const {\n-  assert(map != nullptr, \"map must be set\");\n-  if (map->include_argument_oops()) {\n-    \/\/ Upcall stubs call a MethodHandle impl method of which only the receiver\n-    \/\/ is ever an oop.\n-    \/\/ Currently we should not be able to get here, since there are no\n-    \/\/ safepoints in the one resolve stub we can get into (handle_wrong_method)\n-    \/\/ Leave this here as a trap in case we ever do:\n-    ShouldNotReachHere(); \/\/ not implemented\n-  }\n-  _cb->as_upcall_stub()->oops_do(f, *this);\n-}\n-\n@@ -1165,1 +1150,1 @@\n-    oops_upcall_do(f, map);\n+    _cb->as_upcall_stub()->oops_do(f, *this);\n","filename":"src\/hotspot\/share\/runtime\/frame.cpp","additions":1,"deletions":16,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -463,1 +463,0 @@\n-  void oops_upcall_do(OopClosure* f, const RegisterMap* map) const;\n","filename":"src\/hotspot\/share\/runtime\/frame.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
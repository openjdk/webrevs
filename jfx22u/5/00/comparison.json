{"files":[{"patch":"@@ -121,1 +121,1 @@\n-    auto platformPathCopy = createEmptyPath();\n+    RefPtr<RQRef> platformPathCopy(copyPath(platformPath()));\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/WebCore\/platform\/graphics\/java\/PathJava.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,61 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package test.javafx.scene.web;\n+\n+import org.junit.Test;\n+import static org.junit.Assert.*;\n+\n+\n+public class PathContructorTest extends TestBase {\n+\n+    @Test public void testCanvasPathConstructor() {\n+        final String htmlCanvasContent = \"<!DOCTYPE html>\\n\" +\n+                \"<html>\\n\" +\n+                \"<body style='margin: 0px 0px;'>\\n\" +\n+                \"<canvas id=\\\"myCanvas\\\" width=\\\"200\\\" height=\\\"100\\\" style=\\\"border:1px solid grey;\\\"><\/canvas>\\n\" +\n+                \"<script>\\n\" +\n+                \"const canvas = document.getElementById(\\\"myCanvas\\\");\\n\" +\n+                \"const ctx = canvas.getContext(\\\"2d\\\");\\n\" +\n+                \"p1 = new Path2D();\\n\" +\n+                \"p1.rect(0,0,200,200);\\n\" +\n+                \"ctx.fillStyle = 'yellow';\\n\" +\n+                \"ctx.fill(p1);\\n\" +\n+                \"p2 = new Path2D(p1);\\n\" +\n+                \"ctx.fillStyle = 'green';\\n\" +\n+                \"ctx.fill(p2);\\n\" +\n+                \"<\/script>\\n\" +\n+                \"<\/body>\\n\" +\n+                \"<\/html>\";\n+\n+        loadContent(htmlCanvasContent);\n+\n+        submit(() -> {\n+            int greenColor = 128;\n+            assertEquals(\"First rect center\", greenColor, (int) getEngine().executeScript(\n+                    \"document.getElementById('myCanvas').getContext('2d').getImageData(21, 21, 1, 1).data[1]\"));\n+        });\n+    }\n+}\n","filename":"modules\/javafx.web\/src\/test\/java\/test\/javafx\/scene\/web\/PathContructorTest.java","additions":61,"deletions":0,"binary":false,"changes":61,"status":"added"}]}
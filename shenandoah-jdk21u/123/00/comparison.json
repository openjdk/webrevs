{"files":[{"patch":"@@ -301,2 +301,1 @@\n-  TASKQUEUE_STATS_ONLY(task_queues()->print_taskqueue_stats());\n-  TASKQUEUE_STATS_ONLY(task_queues()->reset_taskqueue_stats());\n+  TASKQUEUE_STATS_ONLY(task_queues()->print_and_reset_taskqueue_stats(\"\"));\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentMark.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -146,2 +146,1 @@\n-  TASKQUEUE_STATS_ONLY(task_queues()->print_taskqueue_stats());\n-  TASKQUEUE_STATS_ONLY(task_queues()->reset_taskqueue_stats());\n+  TASKQUEUE_STATS_ONLY(task_queues()->print_and_reset_taskqueue_stats(\"\"));\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahSTWMark.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -54,39 +54,0 @@\n-#if TASKQUEUE_STATS\n-void ShenandoahObjToScanQueueSet::print_taskqueue_stats_hdr(outputStream* const st) {\n-  st->print_raw_cr(\"GC Task Stats\");\n-  st->print_raw(\"thr \"); TaskQueueStats::print_header(1, st); st->cr();\n-  st->print_raw(\"--- \"); TaskQueueStats::print_header(2, st); st->cr();\n-}\n-\n-void ShenandoahObjToScanQueueSet::print_taskqueue_stats() const {\n-  if (!log_develop_is_enabled(Trace, gc, task, stats)) {\n-    return;\n-  }\n-  Log(gc, task, stats) log;\n-  ResourceMark rm;\n-  LogStream ls(log.trace());\n-  outputStream* st = &ls;\n-  print_taskqueue_stats_hdr(st);\n-\n-  ShenandoahObjToScanQueueSet* queues = const_cast<ShenandoahObjToScanQueueSet*>(this);\n-  TaskQueueStats totals;\n-  const uint n = size();\n-  for (uint i = 0; i < n; ++i) {\n-    st->print(UINT32_FORMAT_W(3), i);\n-    queues->queue(i)->stats.print(st);\n-    st->cr();\n-    totals += queues->queue(i)->stats;\n-  }\n-  st->print(\"tot \"); totals.print(st); st->cr();\n-  DEBUG_ONLY(totals.verify());\n-\n-}\n-\n-void ShenandoahObjToScanQueueSet::reset_taskqueue_stats() {\n-  const uint n = size();\n-  for (uint i = 0; i < n; ++i) {\n-    queue(i)->stats.reset();\n-  }\n-}\n-#endif \/\/ TASKQUEUE_STATS\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahTaskqueue.cpp","additions":0,"deletions":39,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -357,6 +357,0 @@\n-\n-#if TASKQUEUE_STATS\n-  static void print_taskqueue_stats_hdr(outputStream* const st);\n-  void print_taskqueue_stats() const;\n-  void reset_taskqueue_stats();\n-#endif \/\/ TASKQUEUE_STATS\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahTaskqueue.hpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"}]}
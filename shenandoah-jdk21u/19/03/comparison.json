{"files":[{"patch":"@@ -45,0 +45,1 @@\n+  echo 'failure=true' >> $GITHUB_OUTPUT\n","filename":".github\/scripts\/gen-test-summary.sh","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -63,1 +63,3 @@\n-          - 'hs\/tier1 compiler'\n+          - 'hs\/tier1 compiler part 1'\n+          - 'hs\/tier1 compiler part 2'\n+          - 'hs\/tier1 compiler part 3'\n@@ -88,2 +90,10 @@\n-          - test-name: 'hs\/tier1 compiler'\n-            test-suite: 'test\/hotspot\/jtreg\/:tier1_compiler'\n+          - test-name: 'hs\/tier1 compiler part 1'\n+            test-suite: 'test\/hotspot\/jtreg\/:tier1_compiler_1'\n+            debug-suffix: -debug\n+\n+          - test-name: 'hs\/tier1 compiler part 2'\n+            test-suite: 'test\/hotspot\/jtreg\/:tier1_compiler_2 test\/hotspot\/jtreg\/:tier1_compiler_not_xcomp'\n+            debug-suffix: -debug\n+\n+          - test-name: 'hs\/tier1 compiler part 3'\n+            test-suite: 'test\/hotspot\/jtreg\/:tier1_compiler_3'\n","filename":".github\/workflows\/test.yml","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -4,1 +4,1 @@\n-version=21\n+version=21.0.3\n","filename":".jcheck\/conf","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -580,3 +580,6 @@\n-correctly, the system property <code>test.nss.lib.paths<\/code> is\n-required on Ubuntu 18.04 to specify the alternative NSS lib\n-directories.<\/p>\n+correctly, the system property\n+<code>jdk.test.lib.artifacts.&lt;NAME&gt;<\/code> is required on Ubuntu\n+18.04 to specify the alternative NSS lib directory. The\n+<code>&lt;NAME&gt;<\/code> component should be replaced with the name\n+element of the appropriate <code>@Artifact<\/code> class. (See\n+<code>test\/jdk\/sun\/security\/pkcs11\/PKCS11Test.java<\/code>)<\/p>\n@@ -585,1 +588,1 @@\n-    JTREG=&quot;JAVA_OPTIONS=-Dtest.nss.lib.paths=\/path\/to\/your\/latest\/NSS-libs&quot;<\/code><\/pre>\n+    JTREG=&quot;JAVA_OPTIONS=-Djdk.test.lib.artifacts.nsslib-linux_aarch64=\/path\/to\/NSS-libs&quot;<\/code><\/pre>\n","filename":"doc\/testing.html","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -603,2 +603,4 @@\n-correctly, the system property `test.nss.lib.paths` is required on Ubuntu 18.04\n-to specify the alternative NSS lib directories.\n+correctly, the system property `jdk.test.lib.artifacts.<NAME>` is required on\n+Ubuntu 18.04 to specify the alternative NSS lib directory. The `<NAME>`\n+component should be replaced with the name element of the appropriate\n+`@Artifact` class. (See `test\/jdk\/sun\/security\/pkcs11\/PKCS11Test.java`)\n@@ -610,1 +612,1 @@\n-    JTREG=\"JAVA_OPTIONS=-Dtest.nss.lib.paths=\/path\/to\/your\/latest\/NSS-libs\"\n+    JTREG=\"JAVA_OPTIONS=-Djdk.test.lib.artifacts.nsslib-linux_aarch64=\/path\/to\/NSS-libs\"\n","filename":"doc\/testing.md","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -804,0 +804,1 @@\n+  # The minidumps are disabled by default on client Windows, so enable them\n@@ -806,0 +807,1 @@\n+    $1_JTREG_BASIC_OPTIONS += -vmoption:-XX:+CreateCoredumpOnCrash\n","filename":"make\/RunTests.gmk","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -428,1 +428,1 @@\n-    CFLAGS_OS_DEF_JVM=\"-DLINUX\"\n+    CFLAGS_OS_DEF_JVM=\"-DLINUX -D_FILE_OFFSET_BITS=64\"\n","filename":"make\/autoconf\/flags-cflags.m4","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -113,0 +113,9 @@\n+  # Set the JDK RC Company name\n+  # Otherwise uses the value set for \"vendor-name\".\n+  UTIL_ARG_WITH(NAME: jdk-rc-company-name, TYPE: string,\n+    DEFAULT: $COMPANY_NAME,\n+    DESC: [Set JDK RC company name. This is used for CompanyName properties of MS Windows binaries.],\n+    DEFAULT_DESC: [from branding.conf],\n+    CHECK_VALUE: [UTIL_CHECK_STRING_NON_EMPTY_PRINTABLE])\n+  AC_SUBST(JDK_RC_COMPANY_NAME)\n+\n","filename":"make\/autoconf\/jdk-version.m4","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -194,0 +194,1 @@\n+JDK_RC_COMPANY_NAME:=@JDK_RC_COMPANY_NAME@\n","filename":"make\/autoconf\/spec.gmk.in","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -392,0 +392,4 @@\n+\n+  # filter out some unwanted additions autoconf may add to CXX; we saw this on macOS with autoconf 2.72\n+  UTIL_GET_NON_MATCHING_VALUES(cxx_filtered, $CXX, -std=c++11 -std=gnu++11)\n+  CXX=\"$cxx_filtered\"\n","filename":"make\/autoconf\/toolchain.m4","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -202,1 +202,1 @@\n-    result=`$GREP -Fvx \"$legal_values\" <<< \"$values_to_check\" | $GREP -v '^$'`\n+    result=`$GREP -Fvx -- \"$legal_values\" <<< \"$values_to_check\" | $GREP -v '^$'`\n@@ -229,1 +229,1 @@\n-    result=`$GREP -Fx \"$illegal_values\" <<< \"$values_to_check\" | $GREP -v '^$'`\n+    result=`$GREP -Fx -- \"$illegal_values\" <<< \"$values_to_check\" | $GREP -v '^$'`\n","filename":"make\/autoconf\/util.m4","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-    -D\"JDK_COMPANY=$(COMPANY_NAME)\" \\\n+    -D\"JDK_COMPANY=$(JDK_RC_COMPANY_NAME)\" \\\n","filename":"make\/common\/JdkNativeCompilation.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-DEFAULT_VERSION_UPDATE=2\n+DEFAULT_VERSION_UPDATE=3\n@@ -36,1 +36,1 @@\n-DEFAULT_VERSION_DATE=2024-01-16\n+DEFAULT_VERSION_DATE=2024-04-16\n@@ -42,1 +42,1 @@\n-DEFAULT_PROMOTED_VERSION_PRE=\n+DEFAULT_PROMOTED_VERSION_PRE=ea\n","filename":"make\/conf\/version-numbers.conf","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"","filename":"make\/data\/charsetmapping\/MS950_HKSCS.map","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"make\/data\/charsetmapping\/HKSCS2008.map","status":"copied"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+import java.util.Arrays;\n@@ -342,3 +343,9 @@\n-            if (tableEntry == INVALID_COUNTRY_ENTRY ||\n-                    (tableEntry & SPECIAL_CASE_COUNTRY_MASK) != 0 ||\n-                    (tableEntry & SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) != (currencyCode.charAt(2) - 'A')) {\n+\n+            \/\/ Do not allow a future currency to be classified as an otherCurrency,\n+            \/\/ otherwise it will leak out into Currency:getAvailableCurrencies\n+            boolean futureCurrency = Arrays.asList(specialCaseNewCurrencies).contains(currencyCode);\n+            boolean simpleCurrency = (tableEntry & SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) == (currencyCode.charAt(2) - 'A');\n+\n+            \/\/ If neither a simple currency, or one defined in the future\n+            \/\/ then the current currency is applicable to be added to the otherTable\n+            if (!futureCurrency && !simpleCurrency) {\n","filename":"make\/jdk\/src\/classes\/build\/tools\/generatecurrencydata\/GenerateCurrencyData.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -285,1 +285,2 @@\n-      __ ldp(r19, r20, Address(OSR_buf, slot_offset));\n+      __ ldr(r19, Address(OSR_buf, slot_offset));\n+      __ ldr(r20, Address(OSR_buf, slot_offset + BytesPerWord));\n@@ -2726,0 +2727,1 @@\n+    assert_different_registers(obj, tmp, rscratch1, rscratch2, mdo_addr.base(), mdo_addr.index());\n@@ -2727,0 +2729,2 @@\n+  } else {\n+    assert_different_registers(obj, rscratch1, rscratch2, mdo_addr.base(), mdo_addr.index());\n@@ -2783,2 +2787,2 @@\n-          \/\/ There is a chance that the checks above (re-reading profiling\n-          \/\/ data from memory) fail if another thread has just set the\n+          \/\/ There is a chance that the checks above\n+          \/\/ fail if another thread has just set the\n@@ -2787,0 +2791,1 @@\n+          __ eor(tmp, tmp, rscratch2); \/\/ get back original value before XOR\n@@ -2811,0 +2816,4 @@\n+#ifdef ASSERT\n+        __ andr(tmp, tmp, TypeEntries::type_mask);\n+        __ verify_klass_ptr(tmp);\n+#endif\n@@ -2842,0 +2851,4 @@\n+#ifdef ASSERT\n+        __ andr(tmp, tmp, TypeEntries::type_mask);\n+        __ verify_klass_ptr(tmp);\n+#endif\n","filename":"src\/hotspot\/cpu\/aarch64\/c1_LIRAssembler_aarch64.cpp","additions":17,"deletions":4,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -481,0 +481,9 @@\n+  if (AbortVMOnException) {\n+    __ mov(rscratch1, exception_oop);\n+    __ enter();\n+    save_live_registers(sasm);\n+    __ call_VM_leaf(CAST_FROM_FN_PTR(address, check_abort_on_vm_exception), rscratch1);\n+    restore_live_registers(sasm);\n+    __ leave();\n+  }\n+\n","filename":"src\/hotspot\/cpu\/aarch64\/c1_Runtime1_aarch64.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -168,1 +168,1 @@\n-  frame(intptr_t* sp, intptr_t* unextended_sp, intptr_t* fp, address pc, CodeBlob* cb);\n+  frame(intptr_t* sp, intptr_t* unextended_sp, intptr_t* fp, address pc, CodeBlob* cb, bool allow_cb_null = false);\n","filename":"src\/hotspot\/cpu\/aarch64\/frame_aarch64.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-inline frame::frame(intptr_t* sp, intptr_t* unextended_sp, intptr_t* fp, address pc, CodeBlob* cb) {\n+inline frame::frame(intptr_t* sp, intptr_t* unextended_sp, intptr_t* fp, address pc, CodeBlob* cb, bool allow_cb_null) {\n@@ -106,1 +106,1 @@\n-  assert(_cb != nullptr, \"pc: \" INTPTR_FORMAT, p2i(pc));\n+  assert(_cb != nullptr || allow_cb_null, \"pc: \" INTPTR_FORMAT, p2i(pc));\n","filename":"src\/hotspot\/cpu\/aarch64\/frame_aarch64.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -44,0 +44,2 @@\n+#define DEFAULT_CACHE_LINE_SIZE 64\n+\n","filename":"src\/hotspot\/cpu\/aarch64\/globalDefinitions_aarch64.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1672,1 +1672,1 @@\n-  assert_different_registers(obj, rscratch1);\n+  assert_different_registers(obj, rscratch1, mdo_addr.base(), mdo_addr.index());\n@@ -1694,1 +1694,0 @@\n-  ldr(rscratch1, mdo_addr);\n@@ -1698,2 +1697,2 @@\n-  \/\/ There is a chance that the checks above (re-reading profiling\n-  \/\/ data from memory) fail if another thread has just set the\n+  \/\/ There is a chance that the checks above\n+  \/\/ fail if another thread has just set the\n@@ -1701,0 +1700,1 @@\n+  eor(obj, obj, rscratch1); \/\/ get back original value before XOR\n@@ -1713,0 +1713,4 @@\n+#ifdef ASSERT\n+  andr(obj, obj, TypeEntries::type_mask);\n+  verify_klass_ptr(obj);\n+#endif\n","filename":"src\/hotspot\/cpu\/aarch64\/interp_masm_aarch64.cpp","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -353,0 +353,7 @@\n+\n+  if (AbortVMOnException) {\n+    save_live_registers(sasm);\n+    __ call_VM_leaf(CAST_FROM_FN_PTR(address, check_abort_on_vm_exception), Rexception_obj);\n+    restore_live_registers(sasm);\n+  }\n+\n","filename":"src\/hotspot\/cpu\/arm\/c1_Runtime1_arm.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -51,0 +51,2 @@\n+#define DEFAULT_CACHE_LINE_SIZE 64\n+\n","filename":"src\/hotspot\/cpu\/arm\/globalDefinitions_arm.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2638,0 +2638,7 @@\n+  \/\/ There might be a volatile load before this Unsafe CAS.\n+  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n+    __ sync();\n+  } else {\n+    __ lwsync();\n+  }\n+\n@@ -2999,3 +3006,18 @@\n-  Register Rco = noreg;\n-  if (UseCompressedOops && data->is_oop()) {\n-    Rco = __ encode_heap_oop(Rtmp, data->as_register());\n+  Register Robj = noreg;\n+  if (data->is_oop()) {\n+    if (UseCompressedOops) {\n+      Robj = __ encode_heap_oop(Rtmp, data->as_register());\n+    } else {\n+      Robj = data->as_register();\n+      if (Robj == dest->as_register()) { \/\/ May happen with ZGC.\n+        __ mr(Rtmp, Robj);\n+        Robj = Rtmp;\n+      }\n+    }\n+  }\n+\n+  \/\/ There might be a volatile load before this Unsafe OP.\n+  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n+    __ sync();\n+  } else {\n+    __ lwsync();\n@@ -3021,0 +3043,1 @@\n+    assert_different_registers(Rptr, Rold, Robj);\n@@ -3022,1 +3045,0 @@\n-      assert_different_registers(Rptr, Rold, Rco);\n@@ -3024,1 +3046,1 @@\n-      __ stwcx_(Rco, Rptr);\n+      __ stwcx_(Robj, Rptr);\n@@ -3026,7 +3048,0 @@\n-      Register Robj = data->as_register();\n-      assert_different_registers(Rptr, Rold, Rtmp);\n-      assert_different_registers(Rptr, Robj, Rtmp);\n-      if (Robj == Rold) { \/\/ May happen with ZGC.\n-        __ mr(Rtmp, Robj);\n-        Robj = Rtmp;\n-      }\n@@ -3060,0 +3075,6 @@\n+\n+  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n+    __ isync();\n+  } else {\n+    __ sync();\n+  }\n","filename":"src\/hotspot\/cpu\/ppc\/c1_LIRAssembler_ppc.cpp","additions":33,"deletions":12,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -642,7 +642,0 @@\n-  \/\/ Volatile load may be followed by Unsafe CAS.\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar();\n-  } else {\n-    __ membar_release();\n-  }\n-\n@@ -673,8 +666,0 @@\n-\n-  \/\/ Volatile load may be followed by Unsafe CAS.\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar();\n-  } else {\n-    __ membar_release();\n-  }\n-\n@@ -682,6 +667,0 @@\n-\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar_acquire();\n-  } else {\n-    __ membar();\n-  }\n@@ -697,8 +676,0 @@\n-\n-  \/\/ Volatile load may be followed by Unsafe CAS.\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar(); \/\/ To be safe. Unsafe semantics are unclear.\n-  } else {\n-    __ membar_release();\n-  }\n-\n@@ -706,6 +677,0 @@\n-\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar_acquire();\n-  } else {\n-    __ membar();\n-  }\n","filename":"src\/hotspot\/cpu\/ppc\/c1_LIRGenerator_ppc.cpp","additions":0,"deletions":35,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -555,0 +555,6 @@\n+        if (AbortVMOnException) {\n+          save_live_registers(sasm);\n+          __ call_VM_leaf(CAST_FROM_FN_PTR(address, check_abort_on_vm_exception), Rexception);\n+          restore_live_registers(sasm, noreg, noreg);\n+        }\n+\n","filename":"src\/hotspot\/cpu\/ppc\/c1_Runtime1_ppc.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 2018, 2021, Red Hat, Inc. All rights reserved.\n- * Copyright (c) 2012, 2022 SAP SE. All rights reserved.\n+ * Copyright (c) 2018, 2023, Red Hat, Inc. All rights reserved.\n+ * Copyright (c) 2012, 2023 SAP SE. All rights reserved.\n@@ -56,2 +56,7 @@\n-  \/\/ Due to the memory barriers emitted in ShenandoahBarrierSetC1::atomic_cmpxchg_at_resolved,\n-  \/\/ there is no need to specify stronger memory semantics.\n+  \/\/ There might be a volatile load before this Unsafe CAS.\n+  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n+    __ sync();\n+  } else {\n+    __ lwsync();\n+  }\n+\n@@ -66,0 +71,6 @@\n+  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n+    __ isync();\n+  } else {\n+    __ sync();\n+  }\n+\n@@ -83,8 +94,0 @@\n-    if (ShenandoahCASBarrier) {\n-      if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-        __ membar();\n-      } else {\n-        __ membar_release();\n-      }\n-    }\n-\n@@ -111,6 +114,0 @@\n-      if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-        __ membar_acquire();\n-      } else {\n-        __ membar();\n-      }\n-\n@@ -138,6 +135,0 @@\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar();\n-  } else {\n-    __ membar_release();\n-  }\n-\n@@ -169,6 +160,0 @@\n-  if (support_IRIW_for_not_multiple_copy_atomic_cpu) {\n-    __ membar_acquire();\n-  } else {\n-    __ membar();\n-  }\n-\n","filename":"src\/hotspot\/cpu\/ppc\/gc\/shenandoah\/c1\/shenandoahBarrierSetC1_ppc.cpp","additions":15,"deletions":30,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -343,1 +343,2 @@\n-                MacroAssembler::MemBarNone, MacroAssembler::cmpxchgx_hint_atomic_update());\n+                MacroAssembler::MemBarNone, MacroAssembler::cmpxchgx_hint_atomic_update(),\n+                noreg, need_restore ? nullptr : &slow_path);\n@@ -346,0 +347,1 @@\n+      __ bne(CCR0, slow_path);\n@@ -347,1 +349,0 @@\n-    __ bne(CCR0, slow_path);\n","filename":"src\/hotspot\/cpu\/ppc\/gc\/z\/zBarrierSetAssembler_ppc.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2917,0 +2917,11 @@\n+  \/\/ Decode the given instruction, checking if it's a 16-bit compressed\n+  \/\/ instruction and return the address of the next instruction.\n+  static address locate_next_instruction(address inst) {\n+    \/\/ Instruction wider than 16 bits has the two least-significant bits set.\n+    if ((0x3 & *inst) == 0x3) {\n+      return inst + instruction_size;\n+    } else {\n+      return inst + compressed_instruction_size;\n+    }\n+  }\n+\n","filename":"src\/hotspot\/cpu\/riscv\/assembler_riscv.hpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -1651,2 +1651,2 @@\n-      \/\/ There is a chance that the checks above (re-reading profiling\n-      \/\/ data from memory) fail if another thread has just set the\n+      \/\/ There is a chance that the checks above\n+      \/\/ fail if another thread has just set the\n@@ -1655,0 +1655,1 @@\n+      __ xorr(tmp, tmp, t1); \/\/ get back original value before XOR\n@@ -1681,0 +1682,4 @@\n+#ifdef ASSERT\n+    __ andi(tmp, tmp, TypeEntries::type_mask);\n+    __ verify_klass_ptr(tmp);\n+#endif\n@@ -1715,0 +1720,4 @@\n+#ifdef ASSERT\n+    __ andi(tmp, tmp, TypeEntries::type_mask);\n+    __ verify_klass_ptr(tmp);\n+#endif\n","filename":"src\/hotspot\/cpu\/riscv\/c1_LIRAssembler_riscv.cpp","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -501,0 +501,8 @@\n+  if (AbortVMOnException) {\n+    __ enter();\n+    save_live_registers(sasm);\n+    __ call_VM_leaf(CAST_FROM_FN_PTR(address, check_abort_on_vm_exception), x10);\n+    restore_live_registers(sasm);\n+    __ leave();\n+  }\n+\n","filename":"src\/hotspot\/cpu\/riscv\/c1_Runtime1_riscv.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1735,2 +1735,2 @@\n-  ld(t0, mdo_addr);\n-  xorr(obj, obj, t0);\n+  ld(tmp, mdo_addr);\n+  xorr(obj, obj, tmp);\n@@ -1746,6 +1746,5 @@\n-  ld(t0, mdo_addr);\n-  beqz(t0, none);\n-  mv(tmp, (u1)TypeEntries::null_seen);\n-  beq(t0, tmp, none);\n-  \/\/ There is a chance that the checks above (re-reading profiling\n-  \/\/ data from memory) fail if another thread has just set the\n+  beqz(tmp, none);\n+  mv(t0, (u1)TypeEntries::null_seen);\n+  beq(tmp, t0, none);\n+  \/\/ There is a chance that the checks above\n+  \/\/ fail if another thread has just set the\n@@ -1753,2 +1752,3 @@\n-  ld(t0, mdo_addr);\n-  xorr(obj, obj, t0);\n+  xorr(obj, obj, tmp); \/\/ get back original value before XOR\n+  ld(tmp, mdo_addr);\n+  xorr(obj, obj, tmp);\n@@ -1765,0 +1765,4 @@\n+#ifdef ASSERT\n+  andi(obj, obj, TypeEntries::type_mask);\n+  verify_klass_ptr(obj);\n+#endif\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":14,"deletions":10,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -4223,0 +4223,51 @@\n+\/\/ java.lang.Math.round(float a)\n+\/\/ Returns the closest int to the argument, with ties rounding to positive infinity.\n+void MacroAssembler::java_round_float(Register dst, FloatRegister src, FloatRegister ftmp) {\n+  \/\/ this instructions calling sequence provides performance improvement on all tested devices;\n+  \/\/ don't change it without re-verification\n+  Label done;\n+  mv(t0, jint_cast(0.5f));\n+  fmv_w_x(ftmp, t0);\n+\n+  \/\/ dst = 0 if NaN\n+  feq_s(t0, src, src); \/\/ replacing fclass with feq as performance optimization\n+  mv(dst, zr);\n+  beqz(t0, done);\n+\n+  \/\/ dst = (src + 0.5f) rounded down towards negative infinity\n+  \/\/   Adding 0.5f to some floats exceeds the precision limits for a float and rounding takes place.\n+  \/\/   RDN is required for fadd_s, RNE gives incorrect results:\n+  \/\/     --------------------------------------------------------------------\n+  \/\/     fadd.s rne (src + 0.5f): src = 8388609.000000  ftmp = 8388610.000000\n+  \/\/     fcvt.w.s rdn: ftmp = 8388610.000000 dst = 8388610\n+  \/\/     --------------------------------------------------------------------\n+  \/\/     fadd.s rdn (src + 0.5f): src = 8388609.000000  ftmp = 8388609.000000\n+  \/\/     fcvt.w.s rdn: ftmp = 8388609.000000 dst = 8388609\n+  \/\/     --------------------------------------------------------------------\n+  fadd_s(ftmp, src, ftmp, RoundingMode::rdn);\n+  fcvt_w_s(dst, ftmp, RoundingMode::rdn);\n+\n+  bind(done);\n+}\n+\n+\/\/ java.lang.Math.round(double a)\n+\/\/ Returns the closest long to the argument, with ties rounding to positive infinity.\n+void MacroAssembler::java_round_double(Register dst, FloatRegister src, FloatRegister ftmp) {\n+  \/\/ this instructions calling sequence provides performance improvement on all tested devices;\n+  \/\/ don't change it without re-verification\n+  Label done;\n+  mv(t0, julong_cast(0.5));\n+  fmv_d_x(ftmp, t0);\n+\n+  \/\/ dst = 0 if NaN\n+  feq_d(t0, src, src); \/\/ replacing fclass with feq as performance optimization\n+  mv(dst, zr);\n+  beqz(t0, done);\n+\n+  \/\/ dst = (src + 0.5) rounded down towards negative infinity\n+  fadd_d(ftmp, src, ftmp, RoundingMode::rdn); \/\/ RDN is required here otherwise some inputs produce incorrect results\n+  fcvt_l_d(dst, ftmp, RoundingMode::rdn);\n+\n+  bind(done);\n+}\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":51,"deletions":0,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -1238,0 +1238,3 @@\n+  void java_round_float(Register dst, FloatRegister src, FloatRegister ftmp);\n+  void java_round_double(Register dst, FloatRegister src, FloatRegister ftmp);\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -8224,0 +8224,28 @@\n+instruct round_double_reg(iRegLNoSp dst, fRegD src, fRegD ftmp) %{\n+  match(Set dst (RoundD src));\n+\n+  ins_cost(XFER_COST + BRANCH_COST);\n+  effect(TEMP ftmp);\n+  format %{ \"java_round_double $dst, $src\\t#@round_double_reg\" %}\n+\n+  ins_encode %{\n+    __ java_round_double($dst$$Register, as_FloatRegister($src$$reg), as_FloatRegister($ftmp$$reg));\n+  %}\n+\n+  ins_pipe(pipe_slow);\n+%}\n+\n+instruct round_float_reg(iRegINoSp dst, fRegF src, fRegF ftmp) %{\n+  match(Set dst (RoundF src));\n+\n+  ins_cost(XFER_COST + BRANCH_COST);\n+  effect(TEMP ftmp);\n+  format %{ \"java_round_float $dst, $src\\t#@round_float_reg\" %}\n+\n+  ins_encode %{\n+    __ java_round_float($dst$$Register, as_FloatRegister($src$$reg), as_FloatRegister($ftmp$$reg));\n+  %}\n+\n+  ins_pipe(pipe_slow);\n+%}\n+\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -204,0 +204,3 @@\n+\n+  \/\/ RISCV64 supports fast class initialization checks\n+  static bool supports_fast_class_init_checks() { return true; }\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -236,0 +236,6 @@\n+  if (AbortVMOnException) {\n+    save_live_registers(sasm);\n+    __ call_VM_leaf(CAST_FROM_FN_PTR(address, check_abort_on_vm_exception), Z_EXC_OOP);\n+    restore_live_registers(sasm);\n+  }\n+\n","filename":"src\/hotspot\/cpu\/s390\/c1_Runtime1_s390.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -318,1 +318,1 @@\n-    return _xmmindex->is_valid() && _xmmindex->encoding() >= 8;\n+    return _xmmindex->is_valid() && ((_xmmindex->encoding() & 8) == 8);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3643,2 +3643,13 @@\n-  if (tmp != obj) {\n-    __ mov(tmp, obj);\n+#ifdef ASSERT\n+  if (obj == tmp) {\n+#ifdef _LP64\n+    assert_different_registers(obj, rscratch1, mdo_addr.base(), mdo_addr.index());\n+#else\n+    assert_different_registers(obj, mdo_addr.base(), mdo_addr.index());\n+#endif\n+  } else {\n+#ifdef _LP64\n+    assert_different_registers(obj, tmp, rscratch1, mdo_addr.base(), mdo_addr.index());\n+#else\n+    assert_different_registers(obj, tmp, mdo_addr.base(), mdo_addr.index());\n+#endif\n@@ -3646,0 +3657,1 @@\n+#endif\n@@ -3647,1 +3659,1 @@\n-    __ testptr(tmp, tmp);\n+    __ testptr(obj, obj);\n@@ -3650,0 +3662,8 @@\n+      __ testptr(mdo_addr, TypeEntries::null_seen);\n+#ifndef ASSERT\n+      __ jccb(Assembler::notZero, next); \/\/ already set\n+#else\n+      __ jcc(Assembler::notZero, next); \/\/ already set\n+#endif\n+      \/\/ atomic update to prevent overwriting Klass* with 0\n+      __ lock();\n@@ -3660,1 +3680,1 @@\n-    __ testptr(tmp, tmp);\n+    __ testptr(obj, obj);\n@@ -3672,1 +3692,1 @@\n-      __ load_klass(tmp, tmp, tmp_load_klass);\n+      __ load_klass(tmp, obj, tmp_load_klass);\n@@ -3687,1 +3707,1 @@\n-          __ load_klass(tmp, tmp, tmp_load_klass);\n+          __ load_klass(tmp, obj, tmp_load_klass);\n@@ -3689,1 +3709,3 @@\n-\n+#ifdef _LP64\n+        __ mov(rscratch1, tmp); \/\/ save original value before XOR\n+#endif\n@@ -3700,4 +3722,3 @@\n-          __ cmpptr(mdo_addr, 0);\n-          __ jccb(Assembler::equal, none);\n-          __ cmpptr(mdo_addr, TypeEntries::null_seen);\n-          __ jccb(Assembler::equal, none);\n+          __ testptr(mdo_addr, TypeEntries::type_mask);\n+          __ jccb(Assembler::zero, none);\n+#ifdef _LP64\n@@ -3707,0 +3728,1 @@\n+          __ mov(tmp, rscratch1); \/\/ get back original value before XOR\n@@ -3710,0 +3732,1 @@\n+#endif\n@@ -3715,2 +3738,1 @@\n-        __ movptr(tmp, mdo_addr);\n-        __ testptr(tmp, TypeEntries::type_unknown);\n+        __ testptr(mdo_addr, TypeEntries::type_unknown);\n@@ -3729,0 +3751,4 @@\n+#ifdef ASSERT\n+        __ andptr(tmp, TypeEntries::type_klass_mask);\n+        __ verify_klass_ptr(tmp);\n+#endif\n@@ -3743,4 +3769,2 @@\n-          __ cmpptr(mdo_addr, 0);\n-          __ jcc(Assembler::equal, ok);\n-          __ cmpptr(mdo_addr, TypeEntries::null_seen);\n-          __ jcc(Assembler::equal, ok);\n+          __ testptr(mdo_addr, TypeEntries::type_mask);\n+          __ jcc(Assembler::zero, ok);\n@@ -3762,0 +3786,4 @@\n+#ifdef ASSERT\n+        __ andptr(tmp, TypeEntries::type_klass_mask);\n+        __ verify_klass_ptr(tmp);\n+#endif\n@@ -3766,2 +3794,1 @@\n-        __ movptr(tmp, mdo_addr);\n-        __ testptr(tmp, TypeEntries::type_unknown);\n+        __ testptr(mdo_addr, TypeEntries::type_unknown);\n@@ -3773,2 +3800,0 @@\n-\n-    __ bind(next);\n@@ -3776,0 +3801,1 @@\n+  __ bind(next);\n","filename":"src\/hotspot\/cpu\/x86\/c1_LIRAssembler_x86.cpp","additions":47,"deletions":21,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -801,0 +801,8 @@\n+  if (AbortVMOnException) {\n+    __ enter();\n+    save_live_registers(sasm, 2);\n+    __ call_VM_leaf(CAST_FROM_FN_PTR(address, check_abort_on_vm_exception), rax);\n+    restore_live_registers(sasm);\n+    __ leave();\n+  }\n+\n","filename":"src\/hotspot\/cpu\/x86\/c1_Runtime1_x86.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -54,0 +54,6 @@\n+#ifdef _LP64\n+  assert_different_registers(obj, rscratch1, mdo_addr.base(), mdo_addr.index());\n+#else\n+  assert_different_registers(obj, mdo_addr.base(), mdo_addr.index());\n+#endif\n+\n@@ -58,0 +64,4 @@\n+  testptr(mdo_addr, TypeEntries::null_seen);\n+  jccb(Assembler::notZero, next); \/\/ null already seen. Nothing to do anymore.\n+  \/\/ atomic update to prevent overwriting Klass* with 0\n+  lock();\n@@ -63,0 +73,3 @@\n+#ifdef _LP64\n+  mov(rscratch1, obj);\n+#endif\n@@ -77,0 +90,1 @@\n+#ifdef _LP64\n@@ -80,0 +94,1 @@\n+  mov(obj, rscratch1);\n@@ -83,0 +98,1 @@\n+#endif\n@@ -91,0 +107,4 @@\n+#ifdef ASSERT\n+  andptr(obj, TypeEntries::type_klass_mask);\n+  verify_klass_ptr(obj);\n+#endif\n","filename":"src\/hotspot\/cpu\/x86\/interp_masm_x86.cpp","additions":20,"deletions":0,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -879,0 +879,1 @@\n+  void testptr(Address src, int32_t imm32) {  LP64_ONLY(testq(src, imm32)) NOT_LP64(testl(src, imm32)); }\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -2327,1 +2327,1 @@\n-  const Address  dp_mem(rbp, 6 * wordSize);  \/\/ length is on stack on Win64\n+  const Address dp_mem(rbp, 6 * wordSize);  \/\/ length is on stack on Win64\n@@ -2549,0 +2549,1 @@\n+    __ addq(length, start_offset);\n@@ -2553,0 +2554,1 @@\n+    __ subq(length, start_offset);\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -333,0 +333,1 @@\n+  __ vzeroupper();\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64_adler.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -294,0 +294,3 @@\n+  if (outlen == 256) {\n+    __ vzeroupper();\n+  }\n@@ -463,0 +466,1 @@\n+  __ vzeroupper();\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64_chacha.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1127,0 +1127,1 @@\n+#ifdef _LP64\n@@ -1142,0 +1143,7 @@\n+#else\n+  \/\/ No support currently for ChaCha20 intrinsics on 32-bit platforms\n+  if (UseChaCha20Intrinsics) {\n+      warning(\"ChaCha20 intrinsics are not available on this CPU.\");\n+      FLAG_SET_DEFAULT(UseChaCha20Intrinsics, false);\n+  }\n+#endif \/\/ _LP64\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -33,0 +33,2 @@\n+#define DEFAULT_CACHE_LINE_SIZE 64\n+\n","filename":"src\/hotspot\/cpu\/zero\/globalDefinitions_zero.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-  void* _libhandle = os::dll_load(libodmname, ebuf, sizeof(ebuf));\n+  _libhandle = os::dll_load(libodmname, ebuf, sizeof(ebuf));\n@@ -51,1 +51,1 @@\n-    dlclose(_libhandle);\n+    os::dll_unload(_libhandle);\n@@ -58,1 +58,1 @@\n-  if (_libhandle) { dlclose(_libhandle); }\n+  if (_libhandle) { os::dll_unload(_libhandle); }\n","filename":"src\/hotspot\/os\/aix\/libodm_aix.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-    dlclose(g_libhandle);\n+    os::dll_unload(g_libhandle);\n","filename":"src\/hotspot\/os\/aix\/libperfstat_aix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1014,0 +1014,4 @@\n+void os::prepare_native_symbols() {\n+  LoadedLibraries::reload();\n+}\n+\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -894,0 +894,3 @@\n+void os::prepare_native_symbols() {\n+}\n+\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -186,0 +186,2 @@\n+  static_assert(sizeof(off_t) == 8, \"Expected Large File Support in this file\");\n+\n@@ -448,1 +450,1 @@\n-  struct stat64 st;\n+  struct stat st;\n@@ -455,1 +457,1 @@\n-  RESTARTABLE(::stat64(fn, &st), ret);\n+  RESTARTABLE(::stat(fn, &st), ret);\n@@ -475,2 +477,2 @@\n-  struct stat64 st;\n-  ret = stat64(LinuxAttachListener::path(), &st);\n+  struct stat st;\n+  ret = stat(LinuxAttachListener::path(), &st);\n@@ -515,1 +517,1 @@\n-  struct stat64 st;\n+  struct stat st;\n@@ -517,1 +519,1 @@\n-  RESTARTABLE(::stat64(fn, &st), ret);\n+  RESTARTABLE(::stat(fn, &st), ret);\n@@ -522,1 +524,1 @@\n-    RESTARTABLE(::stat64(fn, &st), ret);\n+    RESTARTABLE(::stat(fn, &st), ret);\n","filename":"src\/hotspot\/os\/linux\/attachListener_linux.cpp","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2015, 2022 SAP SE. All rights reserved.\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2024 SAP SE. All rights reserved.\n@@ -1463,0 +1463,3 @@\n+void os::prepare_native_symbols() {\n+}\n+\n@@ -2038,1 +2041,0 @@\n-  \"\/etc\/SuSE-release\",\n@@ -2046,0 +2048,1 @@\n+  \"\/etc\/SuSE-release\", \/\/ Deprecated in favor of os-release since SuSE 12\n@@ -2157,0 +2160,2 @@\n+  _print_ascii_file_h(\"\/sys\/kernel\/mm\/transparent_hugepage\/hpage_pmd_size\",\n+                      \"\/sys\/kernel\/mm\/transparent_hugepage\/hpage_pmd_size\", st);\n@@ -2693,0 +2698,2 @@\n+  static_assert(sizeof(off_t) == 8, \"Expected Large File Support in this file\");\n+\n@@ -5011,1 +5018,1 @@\n-  int fd = ::open64(path, oflag, mode);\n+  int fd = ::open(path, oflag, mode);\n@@ -5016,3 +5023,3 @@\n-    struct stat64 buf64;\n-    int ret = ::fstat64(fd, &buf64);\n-    int st_mode = buf64.st_mode;\n+    struct stat buf;\n+    int ret = ::fstat(fd, &buf);\n+    int st_mode = buf.st_mode;\n@@ -5055,1 +5062,1 @@\n-  return ::open64(path, oflags, S_IREAD | S_IWRITE);\n+  return ::open(path, oflags, S_IREAD | S_IWRITE);\n@@ -5060,1 +5067,1 @@\n-  return (jlong)::lseek64(fd, (off64_t)0, SEEK_CUR);\n+  return (jlong)::lseek(fd, (off_t)0, SEEK_CUR);\n@@ -5065,1 +5072,1 @@\n-  return (jlong)::lseek64(fd, (off64_t)offset, SEEK_SET);\n+  return (jlong)::lseek(fd, (off_t)offset, SEEK_SET);\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":17,"deletions":10,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -296,0 +296,1 @@\n+  static_assert(sizeof(off_t) == 8, \"Expected Large File Support in this file\");\n@@ -759,1 +760,1 @@\n-  return (jlong) BSD_ONLY(::lseek) NOT_BSD(::lseek64)(fd, offset, whence);\n+  return (jlong) ::lseek(fd, offset, whence);\n@@ -763,1 +764,1 @@\n-   return BSD_ONLY(::ftruncate) NOT_BSD(::ftruncate64)(fd, length);\n+   return ::ftruncate(fd, length);\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-\/\/ non-Posix functionality. For example, the use of lseek64 and ftruncate64.\n+\/\/ non-Posix functionality.\n","filename":"src\/hotspot\/os\/posix\/os_posix.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1398,0 +1398,3 @@\n+void os::prepare_native_symbols() {\n+}\n+\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -180,1 +180,1 @@\n-  return frame(fr->link(), fr->link(), fr->sender_pc());\n+  return frame(fr->sender_sp(), fr->link(), fr->sender_pc());\n","filename":"src\/hotspot\/os_cpu\/bsd_aarch64\/os_bsd_aarch64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -289,16 +289,4 @@\n-static void atomic_copy64(const volatile void *src, volatile void *dst) {\n-#if defined(PPC32)\n-  double tmp;\n-  asm volatile (\"lfd  %0, 0(%1)\\n\"\n-                \"stfd %0, 0(%2)\\n\"\n-                : \"=f\"(tmp)\n-                : \"b\"(src), \"b\"(dst));\n-#elif defined(S390) && !defined(_LP64)\n-  double tmp;\n-  asm volatile (\"ld  %0, 0(%1)\\n\"\n-                \"std %0, 0(%2)\\n\"\n-                : \"=r\"(tmp)\n-                : \"a\"(src), \"a\"(dst));\n-#else\n-  *(jlong *) dst = *(const jlong *) src;\n-#endif\n+inline void atomic_copy64(const volatile void *src, volatile void *dst) {\n+  int64_t tmp;\n+  __atomic_load(reinterpret_cast<const volatile int64_t*>(src), &tmp, __ATOMIC_RELAXED);\n+  __atomic_store(reinterpret_cast<volatile int64_t*>(dst), &tmp, __ATOMIC_RELAXED);\n@@ -311,3 +299,3 @@\n-  volatile int64_t dest;\n-  atomic_copy64(reinterpret_cast<const volatile int64_t*>(src), reinterpret_cast<volatile int64_t*>(&dest));\n-  return PrimitiveConversions::cast<T>(dest);\n+  T dest;\n+  __atomic_load(const_cast<T*>(src), &dest, __ATOMIC_RELAXED);\n+  return dest;\n@@ -321,1 +309,1 @@\n-  atomic_copy64(reinterpret_cast<const volatile int64_t*>(&store_value), reinterpret_cast<volatile int64_t*>(dest));\n+  __atomic_store(dest, &store_value, __ATOMIC_RELAXED);\n","filename":"src\/hotspot\/os_cpu\/bsd_zero\/atomic_bsd_zero.hpp","additions":8,"deletions":20,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -155,0 +155,10 @@\n+\/\/ The \"Procedure Call Standard for the Arm 64-bit Architecture\" doesn't\n+\/\/ specify a location for the frame record within a stack frame (6.4.6).\n+\/\/ GCC currently chooses to save it at the top of the frame (lowest address).\n+\/\/ This means that using fr->sender_sp() to set the caller's frame _unextended_sp,\n+\/\/ as we do in x86, is wrong. Using fr->link() instead only makes sense for\n+\/\/ native frames. Setting a correct value for _unextended_sp is important\n+\/\/ if this value is later used to get that frame's caller. This will happen\n+\/\/ if we end up calling frame::sender_for_compiled_frame(), which will be the\n+\/\/ case if the _pc is associated with a CodeBlob that has a _frame_size > 0\n+\/\/ (nmethod, runtime stub, safepoint stub, etc).\n@@ -156,1 +166,6 @@\n-  return frame(fr->link(), fr->link(), fr->sender_pc());\n+  address pc = fr->sender_pc();\n+  CodeBlob* cb = CodeCache::find_blob(pc);\n+  bool use_codeblob = cb != nullptr && cb->frame_size() > 0;\n+  assert(!use_codeblob || !Interpreter::contains(pc), \"should not be an interpreter frame\");\n+  intptr_t* sender_sp = use_codeblob ? (fr->link() + frame::metadata_words - cb->frame_size()) : fr->link();\n+  return frame(sender_sp, sender_sp, fr->link(), pc, cb, true \/* allow_cb_null *\/);\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/os_linux_aarch64.cpp","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -235,1 +235,1 @@\n-          address next_pc = pc + NativeCall::instruction_size;\n+          address next_pc = Assembler::locate_next_instruction(pc);\n@@ -276,1 +276,1 @@\n-      address next_pc = pc + NativeCall::instruction_size;\n+      address next_pc = Assembler::locate_next_instruction(pc);\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/os_linux_riscv.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -171,1 +171,1 @@\n-  if (!strcmp(vm_mode, \"sv39\")) {\n+  if (!strncmp(vm_mode, \"sv39\", sizeof \"sv39\" - 1)) {\n@@ -173,1 +173,1 @@\n-  } else if (!strcmp(vm_mode, \"sv48\")) {\n+  } else if (!strncmp(vm_mode, \"sv48\", sizeof \"sv48\" - 1)) {\n@@ -175,1 +175,1 @@\n-  } else if (!strcmp(vm_mode, \"sv57\")) {\n+  } else if (!strncmp(vm_mode, \"sv57\", sizeof \"sv57\" - 1)) {\n@@ -177,1 +177,1 @@\n-  } else if (!strcmp(vm_mode, \"sv64\")) {\n+  } else if (!strncmp(vm_mode, \"sv64\", sizeof \"sv64\" - 1)) {\n@@ -199,1 +199,1 @@\n-          mode = VM_Version::parse_satp_mode(p);\n+          mode = VM_Version::parse_satp_mode(p + 2);\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/vm_version_linux_riscv.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -137,39 +137,3 @@\n-#if defined(PPC32) && !defined(__SPE__)\n-  double tmp;\n-  asm volatile (\"lfd  %0, %2\\n\"\n-                \"stfd %0, %1\\n\"\n-                : \"=&f\"(tmp), \"=Q\"(*(volatile double*)dst)\n-                : \"Q\"(*(volatile double*)src));\n-#elif defined(PPC32) && defined(__SPE__)\n-  long tmp;\n-  asm volatile (\"evldd  %0, %2\\n\"\n-                \"evstdd %0, %1\\n\"\n-                : \"=&r\"(tmp), \"=Q\"(*(volatile long*)dst)\n-                : \"Q\"(*(volatile long*)src));\n-#elif defined(S390) && !defined(_LP64)\n-  double tmp;\n-  asm volatile (\"ld  %0, %2\\n\"\n-                \"std %0, %1\\n\"\n-                : \"=&f\"(tmp), \"=Q\"(*(volatile double*)dst)\n-                : \"Q\"(*(volatile double*)src));\n-#elif defined(__ARM_ARCH_7A__)\n-  \/\/ The only way to perform the atomic 64-bit load\/store\n-  \/\/ is to use ldrexd\/strexd for both reads and writes.\n-  \/\/ For store, we need to have the matching (fake) load first.\n-  \/\/ Put clrex between exclusive ops on src and dst for clarity.\n-  uint64_t tmp_r, tmp_w;\n-  uint32_t flag_w;\n-  asm volatile (\"ldrexd %[tmp_r], [%[src]]\\n\"\n-                \"clrex\\n\"\n-                \"1:\\n\"\n-                \"ldrexd %[tmp_w], [%[dst]]\\n\"\n-                \"strexd %[flag_w], %[tmp_r], [%[dst]]\\n\"\n-                \"cmp    %[flag_w], 0\\n\"\n-                \"bne    1b\\n\"\n-                : [tmp_r] \"=&r\" (tmp_r), [tmp_w] \"=&r\" (tmp_w),\n-                  [flag_w] \"=&r\" (flag_w)\n-                : [src] \"r\" (src), [dst] \"r\" (dst)\n-                : \"cc\", \"memory\");\n-#else\n-  *(jlong *) dst = *(const jlong *) src;\n-#endif\n+  int64_t tmp;\n+  __atomic_load(reinterpret_cast<const volatile int64_t*>(src), &tmp, __ATOMIC_RELAXED);\n+  __atomic_store(reinterpret_cast<volatile int64_t*>(dst), &tmp, __ATOMIC_RELAXED);\n@@ -182,3 +146,3 @@\n-  volatile int64_t dest;\n-  atomic_copy64(reinterpret_cast<const volatile int64_t*>(src), reinterpret_cast<volatile int64_t*>(&dest));\n-  return PrimitiveConversions::cast<T>(dest);\n+  T dest;\n+  __atomic_load(const_cast<T*>(src), &dest, __ATOMIC_RELAXED);\n+  return dest;\n@@ -192,1 +156,1 @@\n-  atomic_copy64(reinterpret_cast<const volatile int64_t*>(&store_value), reinterpret_cast<volatile int64_t*>(dest));\n+  __atomic_store(dest, &store_value, __ATOMIC_RELAXED);\n","filename":"src\/hotspot\/os_cpu\/linux_zero\/atomic_linux_zero.hpp","additions":7,"deletions":43,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -1507,0 +1507,13 @@\n+\/\/ Check exception if AbortVMOnException flag set\n+JRT_LEAF(void, Runtime1::check_abort_on_vm_exception(oopDesc* ex))\n+  ResourceMark rm;\n+  const char* message = nullptr;\n+  if (ex->is_a(vmClasses::Throwable_klass())) {\n+    oop msg = java_lang_Throwable::message(ex);\n+    if (msg != nullptr) {\n+      message = java_lang_String::as_utf8_string(msg);\n+    }\n+  }\n+  Exceptions::debug_check_abort(ex->klass()->external_name(), message);\n+JRT_END\n+\n","filename":"src\/hotspot\/share\/c1\/c1_Runtime1.cpp","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -194,0 +194,2 @@\n+  static void check_abort_on_vm_exception(oopDesc* ex);\n+\n","filename":"src\/hotspot\/share\/c1\/c1_Runtime1.hpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -244,1 +244,1 @@\n-    Handle pd = get_protection_domain_from_classloader(class_loader, url, THREAD);\n+    Handle pd = get_protection_domain_from_classloader(class_loader, url, CHECK_NH);\n","filename":"src\/hotspot\/share\/cds\/cdsProtectionDomain.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -523,1 +523,2 @@\n-    update_class_path_entry_list(current, path, false, false, false);\n+    update_class_path_entry_list(current, path, \/* check_for_duplicates *\/ true,\n+                                 \/* is_boot_append *\/ false, \/* from_class_path_attr *\/ false);\n@@ -668,1 +669,2 @@\n-      update_class_path_entry_list(current, path, false, true, false);\n+      update_class_path_entry_list(current, path, \/* check_for_duplicates *\/ false,\n+                                    \/* is_boot_append *\/ true, \/* from_class_path_attr *\/ false);\n@@ -803,1 +805,1 @@\n-void ClassLoader::add_to_app_classpath_entries(JavaThread* current,\n+bool ClassLoader::add_to_app_classpath_entries(JavaThread* current,\n@@ -813,1 +815,1 @@\n-        return;\n+        return false;\n@@ -832,0 +834,1 @@\n+  return true;\n@@ -854,1 +857,4 @@\n-      add_to_app_classpath_entries(current, new_entry, check_for_duplicates);\n+      if (!add_to_app_classpath_entries(current, new_entry, check_for_duplicates)) {\n+        \/\/ new_entry is not saved, free it now\n+        delete new_entry;\n+      }\n","filename":"src\/hotspot\/share\/classfile\/classLoader.cpp","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -224,1 +224,1 @@\n-  static void add_to_app_classpath_entries(JavaThread* current,\n+  static bool add_to_app_classpath_entries(JavaThread* current,\n","filename":"src\/hotspot\/share\/classfile\/classLoader.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -351,1 +351,1 @@\n-    pp1->extend_loader_constraint(class_name, loader1, klass);\n+    pp1->extend_loader_constraint(class_name, loader2, klass);\n","filename":"src\/hotspot\/share\/classfile\/loaderConstraints.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -122,5 +122,0 @@\n-\n- ~CodeBlob() {\n-    _asm_remarks.clear();\n-    _dbg_strings.clear();\n-  }\n@@ -135,0 +130,3 @@\n+\n+  void operator delete(void* p) { }\n+\n@@ -139,0 +137,4 @@\n+  virtual ~CodeBlob() {\n+    assert(_oop_maps == nullptr, \"Not flushed\");\n+  }\n+\n@@ -407,4 +409,0 @@\n-  \/\/ This ordinary operator delete is needed even though not used, so the\n-  \/\/ below two-argument operator delete will be treated as a placement\n-  \/\/ delete rather than an ordinary sized delete; see C++14 3.7.4.2\/p2.\n-  void operator delete(void* p);\n@@ -495,4 +493,0 @@\n-  \/\/ This ordinary operator delete is needed even though not used, so the\n-  \/\/ below two-argument operator delete will be treated as a placement\n-  \/\/ delete rather than an ordinary sized delete; see C++14 3.7.4.2\/p2.\n-  void operator delete(void* p);\n@@ -535,4 +529,0 @@\n-  \/\/ This ordinary operator delete is needed even though not used, so the\n-  \/\/ below two-argument operator delete will be treated as a placement\n-  \/\/ delete rather than an ordinary sized delete; see C++14 3.7.4.2\/p2.\n-  void operator delete(void* p);\n@@ -753,4 +743,0 @@\n-  \/\/ This ordinary operator delete is needed even though not used, so the\n-  \/\/ below two-argument operator delete will be treated as a placement\n-  \/\/ delete rather than an ordinary sized delete; see C++14 3.7.4.2\/p2.\n-  void operator delete(void* p);\n","filename":"src\/hotspot\/share\/code\/codeBlob.hpp","additions":7,"deletions":21,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -475,1 +475,1 @@\n-CodeHeap* CodeCache::get_code_heap(const CodeBlob* cb) {\n+CodeHeap* CodeCache::get_code_heap(const void* cb) {\n@@ -478,1 +478,1 @@\n-    if ((*heap)->contains_blob(cb)) {\n+    if ((*heap)->contains(cb)) {\n@@ -607,0 +607,1 @@\n+  cb->~CodeBlob();\n","filename":"src\/hotspot\/share\/code\/codeCache.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-  static CodeHeap* get_code_heap(const CodeBlob* cb);         \/\/ Returns the CodeHeap for the given CodeBlob\n+  static CodeHeap* get_code_heap(const void* cb);             \/\/ Returns the CodeHeap for the given CodeBlob\n@@ -400,1 +400,1 @@\n-      while(!(*_heap)->contains_blob(_code_blob)) {\n+      while(!(*_heap)->contains(_code_blob)) {\n@@ -403,1 +403,1 @@\n-      assert((*_heap)->contains_blob(_code_blob), \"match not found\");\n+      assert((*_heap)->contains(_code_blob), \"match not found\");\n","filename":"src\/hotspot\/share\/code\/codeCache.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -131,0 +131,1 @@\n+#ifdef ASSERT\n@@ -134,1 +135,0 @@\n-    _call->set_destination_mt_safe(entry_point);\n@@ -136,0 +136,2 @@\n+#endif\n+  _call->set_destination_mt_safe(entry_point);\n","filename":"src\/hotspot\/share\/code\/compiledIC.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -143,1 +143,1 @@\n-  _buffer = new StubQueue(new ICStubInterface, 10*K, InlineCacheBuffer_lock, \"InlineCacheBuffer\");\n+  _buffer = new StubQueue(new ICStubInterface, checked_cast<int>(InlineCacheBufferSize), InlineCacheBuffer_lock, \"InlineCacheBuffer\");\n","filename":"src\/hotspot\/share\/code\/icBuffer.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -397,0 +397,1 @@\n+  MACOS_AARCH64_ONLY(ThreadWXEnable wx(WXWrite, Thread::current());)\n@@ -2754,3 +2755,0 @@\n-  \/\/ Decoding an nmethod can write to a PcDescCache (see PcDescCache::add_pc_desc)\n-  MACOS_AARCH64_ONLY(ThreadWXEnable wx(WXWrite, Thread::current());)\n-\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -220,2 +220,0 @@\n-  guarantee(_buffer_size  % stub_alignment() == 0, \"_buffer_size  not aligned\");\n-  guarantee(_buffer_limit % stub_alignment() == 0, \"_buffer_limit not aligned\");\n","filename":"src\/hotspot\/share\/code\/stubs.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1775,0 +1775,9 @@\n+void CompileBroker::free_buffer_blob_if_allocated(CompilerThread* thread) {\n+  BufferBlob* blob = thread->get_buffer_blob();\n+  if (blob != nullptr) {\n+    blob->flush();\n+    MutexLocker mu(CodeCache_lock, Mutex::_no_safepoint_check_flag);\n+    CodeCache::free(blob);\n+  }\n+}\n+\n@@ -1781,5 +1790,1 @@\n-  \/\/ Free buffer blob, if allocated\n-  if (thread->get_buffer_blob() != nullptr) {\n-    MutexLocker mu(CodeCache_lock, Mutex::_no_safepoint_check_flag);\n-    CodeCache::free(thread->get_buffer_blob());\n-  }\n+  free_buffer_blob_if_allocated(thread);\n@@ -1924,5 +1929,1 @@\n-          \/\/ Free buffer blob, if allocated\n-          if (thread->get_buffer_blob() != nullptr) {\n-            MutexLocker mu(CodeCache_lock, Mutex::_no_safepoint_check_flag);\n-            CodeCache::free(thread->get_buffer_blob());\n-          }\n+          free_buffer_blob_if_allocated(thread);\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -255,0 +255,2 @@\n+  static void free_buffer_blob_if_allocated(CompilerThread* thread);\n+\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -500,0 +500,5 @@\n+  } else if (InlineCacheBufferSize > NonNMethodCodeHeapSize \/ 2) {\n+    jio_fprintf(defaultStream::error_stream(),\n+                \"Invalid InlineCacheBufferSize=\" SIZE_FORMAT \"K. Must be less than or equal to \" SIZE_FORMAT \"K.\\n\",\n+                InlineCacheBufferSize\/K, NonNMethodCodeHeapSize\/2\/K);\n+    status = false;\n@@ -617,0 +622,1 @@\n+    StressIncrementalInlining = false;\n","filename":"src\/hotspot\/share\/compiler\/compilerDefinitions.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+#include \"utilities\/spinYield.hpp\"\n@@ -126,7 +127,7 @@\n-\/\/ postcondition: ret is a dirty card or end_card\n-CardTable::CardValue* PSCardTable::find_first_dirty_card(CardValue* const start_card,\n-                                                         CardValue* const end_card) {\n-  for (CardValue* i_card = start_card; i_card < end_card; ++i_card) {\n-    if (*i_card != PSCardTable::clean_card_val()) {\n-      return i_card;\n-    }\n+void PSCardTable::scan_obj_with_limit(PSPromotionManager* pm,\n+                                      oop obj,\n+                                      HeapWord* start,\n+                                      HeapWord* end) {\n+  if (!obj->is_typeArray()) {\n+    prefetch_write(start);\n+    pm->push_contents_bounded(obj, start, end);\n@@ -134,1 +135,0 @@\n-  return end_card;\n@@ -137,24 +137,57 @@\n-\/\/ postcondition: ret is a clean card or end_card\n-\/\/ Note: if a part of an object is on a dirty card, all cards this object\n-\/\/ resides on are considered dirty.\n-CardTable::CardValue* PSCardTable::find_first_clean_card(ObjectStartArray* const start_array,\n-                                                         CardValue* const start_card,\n-                                                         CardValue* const end_card) {\n-  assert(start_card == end_card ||\n-         *start_card != PSCardTable::clean_card_val(), \"precondition\");\n-  \/\/ Skip the first dirty card.\n-  CardValue* i_card = start_card + 1;\n-  while (i_card < end_card) {\n-    if (*i_card != PSCardTable::clean_card_val()) {\n-      i_card++;\n-      continue;\n-    }\n-    assert(i_card - 1 >= start_card, \"inv\");\n-    assert(*(i_card - 1) != PSCardTable::clean_card_val(), \"prev card must be dirty\");\n-    \/\/ Find the final obj on the prev dirty card.\n-    HeapWord* obj_addr = start_array->object_start(addr_for(i_card)-1);\n-    HeapWord* obj_end_addr = obj_addr + cast_to_oop(obj_addr)->size();\n-    CardValue* final_card_by_obj = byte_for(obj_end_addr - 1);\n-    assert(final_card_by_obj < end_card, \"inv\");\n-    if (final_card_by_obj <= i_card) {\n-      return i_card;\n+void PSCardTable::pre_scavenge(HeapWord* old_gen_bottom, uint active_workers) {\n+  _preprocessing_active_workers = active_workers;\n+}\n+\n+\/\/ The \"shadow\" table is a copy of the card table entries of the current stripe.\n+\/\/ It is used to separate card reading, clearing and redirtying which reduces\n+\/\/ complexity significantly.\n+class PSStripeShadowCardTable {\n+  typedef CardTable::CardValue CardValue;\n+\n+  const uint _card_shift;\n+  const uint _card_size;\n+  CardValue _table[PSCardTable::num_cards_in_stripe];\n+  const CardValue* _table_base;\n+\n+public:\n+  PSStripeShadowCardTable(PSCardTable* pst, HeapWord* const start, HeapWord* const end) :\n+    _card_shift(CardTable::card_shift()),\n+    _card_size(CardTable::card_size()),\n+    _table_base(_table - (uintptr_t(start) >> _card_shift)) {\n+    size_t stripe_byte_size = pointer_delta(end, start) * HeapWordSize;\n+    size_t copy_length = align_up(stripe_byte_size, _card_size) >> _card_shift;\n+    \/\/ The end of the last stripe may not be card aligned as it is equal to old\n+    \/\/ gen top at scavenge start. We should not clear the card containing old gen\n+    \/\/ top if not card aligned because there can be promoted objects on that\n+    \/\/ same card. If it was marked dirty because of the promoted objects and we\n+    \/\/ cleared it, we would loose a card mark.\n+    size_t clear_length = align_down(stripe_byte_size, _card_size) >> _card_shift;\n+    CardValue* stripe_start_card = pst->byte_for(start);\n+    memcpy(_table, stripe_start_card, copy_length);\n+    memset(stripe_start_card, CardTable::clean_card_val(), clear_length);\n+  }\n+\n+  HeapWord* addr_for(const CardValue* const card) {\n+    assert(card >= _table && card <=  &_table[PSCardTable::num_cards_in_stripe], \"out of bounds\");\n+    return (HeapWord*) ((card - _table_base) << _card_shift);\n+  }\n+\n+  const CardValue* card_for(HeapWord* addr) {\n+    return &_table_base[uintptr_t(addr) >> _card_shift];\n+  }\n+\n+  bool is_dirty(const CardValue* const card) {\n+    return !is_clean(card);\n+  }\n+\n+  bool is_clean(const CardValue* const card) {\n+    assert(card >= _table && card <  &_table[PSCardTable::num_cards_in_stripe], \"out of bounds\");\n+    return *card == PSCardTable::clean_card_val();\n+  }\n+\n+  const CardValue* find_first_dirty_card(const CardValue* const start,\n+                                         const CardValue* const end) {\n+    for (const CardValue* i = start; i < end; ++i) {\n+      if (is_dirty(i)) {\n+        return i;\n+      }\n@@ -162,3 +195,9 @@\n-    \/\/ This final obj extends beyond i_card, check if this new card is dirty.\n-    if (*final_card_by_obj == PSCardTable::clean_card_val()) {\n-      return final_card_by_obj;\n+    return end;\n+  }\n+\n+  const CardValue* find_first_clean_card(const CardValue* const start,\n+                                         const CardValue* const end) {\n+    for (const CardValue* i = start; i < end; ++i) {\n+      if (is_clean(i)) {\n+        return i;\n+      }\n@@ -166,2 +205,1 @@\n-    \/\/ This new card is dirty, continuing the search...\n-    i_card = final_card_by_obj + 1;\n+    return end;\n@@ -169,2 +207,14 @@\n-  return end_card;\n-}\n+};\n+\n+template <typename Func>\n+void PSCardTable::process_range(Func&& object_start,\n+                                PSPromotionManager* pm,\n+                                HeapWord* const start,\n+                                HeapWord* const end) {\n+  assert(start < end, \"precondition\");\n+  assert(is_card_aligned(start), \"precondition\");\n+\n+  PSStripeShadowCardTable sct(this, start, end);\n+\n+  \/\/ end might not be card-aligned.\n+  const CardValue* end_card = sct.card_for(end - 1) + 1;\n@@ -172,3 +222,49 @@\n-void PSCardTable::clear_cards(CardValue* const start, CardValue* const end) {\n-  for (CardValue* i_card = start; i_card < end; ++i_card) {\n-    *i_card = clean_card;\n+  for (HeapWord* i_addr = start; i_addr < end; \/* empty *\/) {\n+    const CardValue* dirty_l = sct.find_first_dirty_card(sct.card_for(i_addr), end_card);\n+    const CardValue* dirty_r = sct.find_first_clean_card(dirty_l, end_card);\n+\n+    assert(dirty_l <= dirty_r, \"inv\");\n+\n+    if (dirty_l == dirty_r) {\n+      assert(dirty_r == end_card, \"inv\");\n+      break;\n+    }\n+\n+    \/\/ Located a non-empty dirty chunk [dirty_l, dirty_r).\n+    HeapWord* addr_l = sct.addr_for(dirty_l);\n+    HeapWord* addr_r = MIN2(sct.addr_for(dirty_r), end);\n+\n+    \/\/ Scan objects overlapping [addr_l, addr_r) limited to [start, end).\n+    HeapWord* obj_addr = object_start(addr_l);\n+\n+    while (true) {\n+      assert(obj_addr < addr_r, \"inv\");\n+\n+      oop obj = cast_to_oop(obj_addr);\n+      const bool is_obj_array = obj->is_objArray();\n+      HeapWord* const obj_end_addr = obj_addr + obj->size();\n+\n+      if (is_obj_array) {\n+        \/\/ Always scan obj arrays precisely (they are always marked precisely)\n+        \/\/ to avoid unnecessary work.\n+        scan_obj_with_limit(pm, obj, addr_l, addr_r);\n+      } else {\n+        if (obj_addr < i_addr && i_addr > start) {\n+          \/\/ Already scanned this object. Has been one that spans multiple dirty chunks.\n+          \/\/ The second condition makes sure objects reaching in the stripe are scanned once.\n+        } else {\n+          scan_obj_with_limit(pm, obj, addr_l, end);\n+        }\n+      }\n+\n+      if (obj_end_addr >= addr_r) {\n+        i_addr = is_obj_array ? addr_r : obj_end_addr;\n+        break;\n+      }\n+\n+      \/\/ Move to next obj inside this dirty chunk.\n+      obj_addr = obj_end_addr;\n+    }\n+\n+    \/\/ Finished a dirty chunk.\n+    pm->drain_stacks_cond_depth();\n@@ -178,10 +274,30 @@\n-void PSCardTable::scan_objects_in_range(PSPromotionManager* pm,\n-                                        HeapWord* start,\n-                                        HeapWord* end) {\n-  HeapWord* obj_addr = start;\n-  while (obj_addr < end) {\n-    oop obj = cast_to_oop(obj_addr);\n-    assert(oopDesc::is_oop(obj), \"inv\");\n-    prefetch_write(obj_addr);\n-    pm->push_contents(obj);\n-    obj_addr += obj->size();\n+template <typename Func>\n+void PSCardTable::preprocess_card_table_parallel(Func&& object_start,\n+                                                 HeapWord* old_gen_bottom,\n+                                                 HeapWord* old_gen_top,\n+                                                 uint stripe_index,\n+                                                 uint n_stripes) {\n+  const size_t num_cards_in_slice = num_cards_in_stripe * n_stripes;\n+  CardValue* cur_card = byte_for(old_gen_bottom) + stripe_index * num_cards_in_stripe;\n+  CardValue* const end_card = byte_for(old_gen_top - 1) + 1;\n+\n+  for (\/* empty *\/; cur_card < end_card; cur_card += num_cards_in_slice) {\n+    HeapWord* stripe_addr = addr_for(cur_card);\n+    if (is_dirty(cur_card)) {\n+      \/\/ The first card of this stripe is already dirty, no need to see if the\n+      \/\/ reaching-in object is a potentially imprecisely marked non-array\n+      \/\/ object.\n+      continue;\n+    }\n+    HeapWord* first_obj_addr = object_start(stripe_addr);\n+    if (first_obj_addr == stripe_addr) {\n+      \/\/ No object reaching into this stripe.\n+      continue;\n+    }\n+    oop first_obj = cast_to_oop(first_obj_addr);\n+    if (!first_obj->is_array() && is_dirty(byte_for(first_obj_addr))) {\n+      \/\/ Found a non-array object reaching into the stripe that has\n+      \/\/ potentially been marked imprecisely. Mark first card of the stripe\n+      \/\/ dirty so it will be processed later.\n+      *cur_card = dirty_card_val();\n+    }\n@@ -189,1 +305,0 @@\n-  pm->drain_stacks_cond_depth();\n@@ -230,0 +345,8 @@\n+\/\/ Scavenging and accesses to the card table are strictly limited to the stripe.\n+\/\/ In particular scavenging of an object crossing stripe boundaries is shared\n+\/\/ among the threads assigned to the stripes it resides on. This reduces\n+\/\/ complexity and enables shared scanning of large objects.\n+\/\/ It requires preprocessing of the card table though where imprecise card marks of\n+\/\/ objects crossing stripe boundaries are propagated to the first card of\n+\/\/ each stripe covered by the individual object.\n+\n@@ -231,2 +354,2 @@\n-                                             MutableSpace* sp,\n-                                             HeapWord* space_top,\n+                                             HeapWord* old_gen_bottom,\n+                                             HeapWord* old_gen_top,\n@@ -236,14 +359,11 @@\n-  const size_t num_cards_in_stripe = 128;\n-  const size_t stripe_size_in_words = num_cards_in_stripe * _card_size_in_words;\n-  const size_t slice_size_in_words = stripe_size_in_words * n_stripes;\n-\n-  HeapWord* cur_stripe_addr = sp->bottom() + stripe_index * stripe_size_in_words;\n-\n-  for (\/* empty *\/; cur_stripe_addr < space_top; cur_stripe_addr += slice_size_in_words) {\n-    \/\/ exclusive\n-    HeapWord* const cur_stripe_end_addr = MIN2(cur_stripe_addr + stripe_size_in_words,\n-                                               space_top);\n-\n-    \/\/ Process a stripe iff it contains any obj-start\n-    if (!start_array->object_starts_in_range(cur_stripe_addr, cur_stripe_end_addr)) {\n-      continue;\n+  \/\/ ObjectStartArray queries can be expensive for large objects. We cache known objects.\n+  struct {\n+    HeapWord* start_addr;\n+    HeapWord* end_addr;\n+  } cached_obj {nullptr, old_gen_bottom};\n+\n+  \/\/ Queries must be monotonic because we don't check addr >= cached_obj.start_addr.\n+  auto object_start = [&] (HeapWord* addr) {\n+    if (addr < cached_obj.end_addr) {\n+      assert(cached_obj.start_addr != nullptr, \"inv\");\n+      return cached_obj.start_addr;\n@@ -251,0 +371,1 @@\n+    HeapWord* result = start_array->object_start(addr);\n@@ -252,21 +373,2 @@\n-    \/\/ Constraints:\n-    \/\/ 1. range of cards checked for being dirty or clean: [iter_limit_l, iter_limit_r)\n-    \/\/ 2. range of cards can be cleared: [clear_limit_l, clear_limit_r)\n-    \/\/ 3. range of objs (obj-start) can be scanned: [first_obj_addr, cur_stripe_end_addr)\n-\n-    CardValue* iter_limit_l;\n-    CardValue* iter_limit_r;\n-    CardValue* clear_limit_l;\n-    CardValue* clear_limit_r;\n-\n-    \/\/ Identify left ends and the first obj-start inside this stripe.\n-    HeapWord* first_obj_addr = start_array->object_start(cur_stripe_addr);\n-    if (first_obj_addr < cur_stripe_addr) {\n-      \/\/ this obj belongs to previous stripe; can't clear any cards it occupies\n-      first_obj_addr += cast_to_oop(first_obj_addr)->size();\n-      clear_limit_l = byte_for(first_obj_addr - 1) + 1;\n-      iter_limit_l = byte_for(first_obj_addr);\n-    } else {\n-      assert(first_obj_addr == cur_stripe_addr, \"inv\");\n-      iter_limit_l = clear_limit_l = byte_for(cur_stripe_addr);\n-    }\n+    cached_obj.start_addr = result;\n+    cached_obj.end_addr = result + cast_to_oop(result)->size();\n@@ -274,2 +376,2 @@\n-    assert(cur_stripe_addr <= first_obj_addr, \"inside this stripe\");\n-    assert(first_obj_addr <= cur_stripe_end_addr, \"can be empty\");\n+    return result;\n+  };\n@@ -277,31 +379,2 @@\n-    {\n-      \/\/ Identify right ends.\n-      HeapWord* obj_addr = start_array->object_start(cur_stripe_end_addr - 1);\n-      HeapWord* obj_end_addr = obj_addr + cast_to_oop(obj_addr)->size();\n-      assert(obj_end_addr >= cur_stripe_end_addr, \"inv\");\n-      clear_limit_r = byte_for(obj_end_addr);\n-      iter_limit_r = byte_for(obj_end_addr - 1) + 1;\n-    }\n-\n-    assert(iter_limit_l <= clear_limit_l &&\n-           clear_limit_r <= iter_limit_r, \"clear cards only if we iterate over them\");\n-\n-    \/\/ Process dirty chunks, i.e. consecutive dirty cards [dirty_l, dirty_r),\n-    \/\/ chunk by chunk inside [iter_limit_l, iter_limit_r).\n-    CardValue* dirty_l;\n-    CardValue* dirty_r;\n-\n-    for (CardValue* cur_card = iter_limit_l; cur_card < iter_limit_r; cur_card = dirty_r + 1) {\n-      dirty_l = find_first_dirty_card(cur_card, iter_limit_r);\n-      dirty_r = find_first_clean_card(start_array, dirty_l, iter_limit_r);\n-      assert(dirty_l <= dirty_r, \"inv\");\n-\n-      \/\/ empty\n-      if (dirty_l == dirty_r) {\n-        assert(dirty_r == iter_limit_r, \"no more dirty cards in this stripe\");\n-        break;\n-      }\n-\n-      assert(*dirty_l != clean_card, \"inv\");\n-      assert(*dirty_r == clean_card || dirty_r >= clear_limit_r,\n-             \"clean card or belonging to next stripe\");\n+  \/\/ Prepare scavenge.\n+  preprocess_card_table_parallel(object_start, old_gen_bottom, old_gen_top, stripe_index, n_stripes);\n@@ -309,11 +382,6 @@\n-      \/\/ Process this non-empty dirty chunk in two steps:\n-      {\n-        \/\/ 1. Clear card in [dirty_l, dirty_r) subject to [clear_limit_l, clear_limit_r) constraint\n-        clear_cards(MAX2(dirty_l, clear_limit_l),\n-                    MIN2(dirty_r, clear_limit_r));\n-      }\n-\n-      {\n-        \/\/ 2. Scan objs in [dirty_l, dirty_r) subject to [first_obj_addr, cur_stripe_end_addr) constraint\n-        HeapWord* obj_l = MAX2(start_array->object_start(addr_for(dirty_l)),\n-                               first_obj_addr);\n+  \/\/ Sync with other workers.\n+  Atomic::dec(&_preprocessing_active_workers);\n+  SpinYield spin_yield;\n+  while (Atomic::load_acquire(&_preprocessing_active_workers) > 0) {\n+    spin_yield.wait();\n+  }\n@@ -321,2 +389,9 @@\n-        HeapWord* obj_r = MIN2(addr_for(dirty_r),\n-                               cur_stripe_end_addr);\n+  \/\/ Scavenge\n+  cached_obj = {nullptr, old_gen_bottom};\n+  const size_t stripe_size_in_words = num_cards_in_stripe * _card_size_in_words;\n+  const size_t slice_size_in_words = stripe_size_in_words * n_stripes;\n+  HeapWord* cur_addr = old_gen_bottom + stripe_index * stripe_size_in_words;\n+  for (\/* empty *\/; cur_addr < old_gen_top; cur_addr += slice_size_in_words) {\n+    HeapWord* const stripe_l = cur_addr;\n+    HeapWord* const stripe_r = MIN2(cur_addr + stripe_size_in_words,\n+                                    old_gen_top);\n@@ -324,3 +399,1 @@\n-        scan_objects_in_range(pm, obj_l, obj_r);\n-      }\n-    }\n+    process_range(object_start, pm, stripe_l, stripe_r);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psCardTable.cpp","additions":212,"deletions":139,"binary":false,"changes":351,"status":"modified"},{"patch":"@@ -36,1 +36,29 @@\n- private:\n+  friend class PSStripeShadowCardTable;\n+  static constexpr size_t num_cards_in_stripe = 128;\n+  static_assert(num_cards_in_stripe >= 1, \"progress\");\n+\n+  volatile int _preprocessing_active_workers;\n+\n+  bool is_dirty(CardValue* card) {\n+    return !is_clean(card);\n+  }\n+\n+  bool is_clean(CardValue* card) {\n+    return *card == clean_card_val();\n+  }\n+\n+  \/\/ Iterate the stripes with the given index and copy imprecise card marks of\n+  \/\/ objects reaching into a stripe to its first card.\n+  template <typename Func>\n+  void preprocess_card_table_parallel(Func&& object_start,\n+                                      HeapWord* old_gen_bottom,\n+                                      HeapWord* old_gen_top,\n+                                      uint stripe_index,\n+                                      uint n_stripes);\n+\n+  \/\/ Scavenge contents on dirty cards of the given stripe [start, end).\n+  template <typename Func>\n+  void process_range(Func&& object_start,\n+                     PSPromotionManager* pm,\n+                     HeapWord* const start,\n+                     HeapWord* const end);\n@@ -45,12 +73,4 @@\n-  CardValue* find_first_dirty_card(CardValue* const start_card,\n-                                   CardValue* const end_card);\n-\n-  CardValue* find_first_clean_card(ObjectStartArray* start_array,\n-                                   CardValue* const start_card,\n-                                   CardValue* const end_card);\n-\n-  void clear_cards(CardValue* const start, CardValue* const end);\n-\n-  void scan_objects_in_range(PSPromotionManager* pm,\n-                             HeapWord* start,\n-                             HeapWord* end);\n+  void scan_obj_with_limit(PSPromotionManager* pm,\n+                           oop obj,\n+                           HeapWord* start,\n+                           HeapWord* end);\n@@ -59,1 +79,2 @@\n-  PSCardTable(MemRegion whole_heap) : CardTable(whole_heap) {}\n+  PSCardTable(MemRegion whole_heap) : CardTable(whole_heap),\n+                                      _preprocessing_active_workers(0) {}\n@@ -65,0 +86,2 @@\n+  void pre_scavenge(HeapWord* old_gen_bottom, uint active_workers);\n+  \/\/ Scavenge contents of stripes with the given index.\n@@ -66,2 +89,2 @@\n-                                  MutableSpace* sp,\n-                                  HeapWord* space_top,\n+                                  HeapWord* old_gen_bottom,\n+                                  HeapWord* old_gen_top,\n","filename":"src\/hotspot\/share\/gc\/parallel\/psCardTable.hpp","additions":39,"deletions":16,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -180,0 +180,1 @@\n+  void push_contents_bounded(oop obj, HeapWord* left, HeapWord* right);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psPromotionManager.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -134,0 +134,5 @@\n+inline void PSPromotionManager::push_contents_bounded(oop obj, HeapWord* left, HeapWord* right) {\n+  PSPushContentsClosure pcc(this);\n+  obj->oop_iterate(&pcc, MemRegion(left, right));\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/parallel\/psPromotionManager.inline.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -90,1 +90,0 @@\n-  PSScavengeRootsClosure roots_closure(pm);\n@@ -304,0 +303,5 @@\n+\n+    if (!_is_old_gen_empty) {\n+      PSCardTable* card_table = ParallelScavengeHeap::heap()->card_table();\n+      card_table->pre_scavenge(_old_gen->object_space()->bottom(), active_workers);\n+    }\n@@ -317,0 +321,1 @@\n+        \/\/ The top of the old gen changes during scavenge when objects are promoted.\n@@ -318,1 +323,1 @@\n-                                               _old_gen->object_space(),\n+                                               _old_gen->object_space()->bottom(),\n","filename":"src\/hotspot\/share\/gc\/parallel\/psScavenge.cpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -630,1 +630,1 @@\n-    return BarrierSetC2::load_at_resolved(access, val_type);;\n+    return BarrierSetC2::load_at_resolved(access, val_type);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahBarrierSetC2.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,0 @@\n-    bool attempt_more_loopopts = ShenandoahLoopOptsAfterExpansion;\n@@ -58,7 +57,0 @@\n-    PhaseIdealLoop::verify(igvn);\n-    if (attempt_more_loopopts) {\n-      C->set_major_progress();\n-      if (!C->optimize_loops(igvn, LoopOptsShenandoahPostExpand)) {\n-        return false;\n-      }\n-      C->clear_major_progress();\n@@ -66,2 +58,3 @@\n-      C->process_for_post_loop_opts_igvn(igvn);\n-      if (C->failing()) return false;\n+    C->set_major_progress();\n+    if (!C->optimize_loops(igvn, LoopOptsShenandoahPostExpand)) {\n+      return false;\n@@ -69,0 +62,4 @@\n+    C->clear_major_progress();\n+    C->process_for_post_loop_opts_igvn(igvn);\n+    if (C->failing()) return false;\n+\n@@ -1390,1 +1387,1 @@\n-    if (ShenandoahSelfFixing) {\n+    {\n@@ -1393,2 +1390,0 @@\n-    } else {\n-      addr = phase->igvn().zerocon(T_OBJECT);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahSupport.cpp","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -42,6 +42,0 @@\n-\n-  \/\/ If class unloading is globally enabled, aggressive does unloading even with\n-  \/\/ concurrent cycles.\n-  if (ClassUnloading) {\n-    SHENANDOAH_ERGO_OVERRIDE_DEFAULT(ShenandoahUnloadClassesFrequency, 1);\n-  }\n@@ -67,1 +61,1 @@\n-  if (!can_unload_classes_normal()) return false;\n+  if (!can_unload_classes()) return false;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahAggressiveHeuristics.cpp","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -57,5 +57,0 @@\n-  \/\/ No unloading during concurrent mark? Communicate that to heuristics\n-  if (!ClassUnloadingWithConcurrentMark) {\n-    FLAG_SET_DEFAULT(ShenandoahUnloadClassesFrequency, 0);\n-  }\n-\n@@ -260,8 +255,0 @@\n-bool ShenandoahHeuristics::can_unload_classes_normal() {\n-  if (!can_unload_classes()) return false;\n-  if (has_metaspace_oom()) return true;\n-  if (!ClassUnloadingWithConcurrentMark) return false;\n-  if (ShenandoahUnloadClassesFrequency == 0) return false;\n-  return true;\n-}\n-\n@@ -269,1 +256,1 @@\n-  if (!can_unload_classes_normal()) return false;\n+  if (!can_unload_classes()) return false;\n@@ -271,6 +258,1 @@\n-  size_t cycle = ShenandoahHeap::heap()->shenandoah_policy()->cycle_counter();\n-  \/\/ Unload classes every Nth GC cycle.\n-  \/\/ This should not happen in the same cycle as process_references to amortize costs.\n-  \/\/ Offsetting by one is enough to break the rendezvous when periods are equal.\n-  \/\/ When periods are not equal, offsetting by one is just as good as any other guess.\n-  return (cycle + 1) % ShenandoahUnloadClassesFrequency == 0;\n+  return ClassUnloadingWithConcurrentMark;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahHeuristics.cpp","additions":2,"deletions":20,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -157,1 +157,0 @@\n-  virtual bool can_unload_classes_normal();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahHeuristics.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -53,1 +53,0 @@\n-  SHENANDOAH_ERGO_OVERRIDE_DEFAULT(ShenandoahUnloadClassesFrequency, 0);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/mode\/shenandoahGenerationalMode.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-  if (ShenandoahSelfFixing && load_addr != nullptr && fwd != obj) {\n+  if (load_addr != nullptr && fwd != obj) {\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahBarrierSet.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -224,1 +224,1 @@\n-#endif \/\/ SHARE_GC_SHENANDOAH_SHENANDOAHCLOSURES_HPP\n+#endif \/\/ SHARE_GC_SHENANDOAH_SHENANDOAHCLOSURES_INLINE_HPP\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahClosures.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,64 +39,0 @@\n-ShenandoahParallelCodeCacheIterator::ShenandoahParallelCodeCacheIterator(const GrowableArray<CodeHeap*>* heaps) {\n-  _length = heaps->length();\n-  _iters = NEW_C_HEAP_ARRAY(ShenandoahParallelCodeHeapIterator, _length, mtGC);\n-  for (int h = 0; h < _length; h++) {\n-    _iters[h] = ShenandoahParallelCodeHeapIterator(heaps->at(h));\n-  }\n-}\n-\n-ShenandoahParallelCodeCacheIterator::~ShenandoahParallelCodeCacheIterator() {\n-  FREE_C_HEAP_ARRAY(ParallelCodeHeapIterator, _iters);\n-}\n-\n-void ShenandoahParallelCodeCacheIterator::parallel_blobs_do(CodeBlobClosure* f) {\n-  for (int c = 0; c < _length; c++) {\n-    _iters[c].parallel_blobs_do(f);\n-  }\n-}\n-\n-ShenandoahParallelCodeHeapIterator::ShenandoahParallelCodeHeapIterator(CodeHeap* heap) :\n-        _heap(heap), _claimed_idx(0), _finished(false) {\n-}\n-\n-void ShenandoahParallelCodeHeapIterator::parallel_blobs_do(CodeBlobClosure* f) {\n-  assert(SafepointSynchronize::is_at_safepoint(), \"Must be at safepoint\");\n-\n-  \/*\n-   * Parallel code heap walk.\n-   *\n-   * This code makes all threads scan all code heaps, but only one thread would execute the\n-   * closure on given blob. This is achieved by recording the \"claimed\" blocks: if a thread\n-   * had claimed the block, it can process all blobs in it. Others have to fast-forward to\n-   * next attempt without processing.\n-   *\n-   * Late threads would return immediately if iterator is finished.\n-   *\/\n-\n-  if (_finished) {\n-    return;\n-  }\n-\n-  int stride = 256; \/\/ educated guess\n-  int stride_mask = stride - 1;\n-  assert (is_power_of_2(stride), \"sanity\");\n-\n-  int count = 0;\n-  bool process_block = true;\n-\n-  for (CodeBlob *cb = CodeCache::first_blob(_heap); cb != nullptr; cb = CodeCache::next_blob(_heap, cb)) {\n-    int current = count++;\n-    if ((current & stride_mask) == 0) {\n-      process_block = (current >= _claimed_idx) &&\n-                      (Atomic::cmpxchg(&_claimed_idx, current, current + stride, memory_order_relaxed) == current);\n-    }\n-    if (process_block) {\n-      f->do_code_blob(cb);\n-#ifdef ASSERT\n-      if (cb->is_nmethod())\n-        Universe::heap()->verify_nmethod((nmethod*)cb);\n-#endif\n-    }\n-  }\n-\n-  _finished = true;\n-}\n@@ -306,1 +242,0 @@\n-        _par_iterator(CodeCache::heaps()),\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCodeRoots.cpp","additions":0,"deletions":65,"binary":false,"changes":65,"status":"modified"},{"patch":"@@ -42,27 +42,0 @@\n-class ShenandoahParallelCodeHeapIterator {\n-  friend class CodeCache;\n-private:\n-  CodeHeap*     _heap;\n-  shenandoah_padding(0);\n-  volatile int  _claimed_idx;\n-  volatile bool _finished;\n-  shenandoah_padding(1);\n-public:\n-  ShenandoahParallelCodeHeapIterator(CodeHeap* heap);\n-  void parallel_blobs_do(CodeBlobClosure* f);\n-};\n-\n-class ShenandoahParallelCodeCacheIterator {\n-  friend class CodeCache;\n-private:\n-  ShenandoahParallelCodeHeapIterator* _iters;\n-  int                       _length;\n-\n-  NONCOPYABLE(ShenandoahParallelCodeCacheIterator);\n-\n-public:\n-  ShenandoahParallelCodeCacheIterator(const GrowableArray<CodeHeap*>* heaps);\n-  ~ShenandoahParallelCodeCacheIterator();\n-  void parallel_blobs_do(CodeBlobClosure* f);\n-};\n-\n@@ -72,2 +45,0 @@\n-  ShenandoahParallelCodeCacheIterator _par_iterator;\n-  ShenandoahSharedFlag _seq_claimed;\n@@ -91,1 +62,0 @@\n-  static void flush_nmethod(nmethod* nm);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCodeRoots.hpp","additions":0,"deletions":30,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -757,1 +757,1 @@\n-  if (ShenandoahElasticTLAB && req.is_lab_alloc()) {\n+  if (req.is_lab_alloc()) {\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1361,0 +1361,3 @@\n+      if (ZapUnusedHeapArea) {\n+        SpaceMangler::mangle_region(MemRegion(r->top(), r->end()));\n+      }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFullGC.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -71,1 +71,0 @@\n-    ShenandoahHeap* heap = ShenandoahHeap::heap();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGC.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1414,1 +1414,1 @@\n-          if (ShenandoahElasticTLAB && req.is_lab_alloc() && (req.min_size() < young_words_available)) {\n+          if (req.is_lab_alloc() && (req.min_size() < young_words_available)) {\n@@ -1934,8 +1934,2 @@\n-  if (ShenandoahElasticTLAB) {\n-    if (mode()->is_generational()) {\n-      return MIN2(ShenandoahHeapRegion::max_tlab_size_bytes(), young_generation()->available());\n-    } else {\n-      \/\/ With Elastic TLABs, return the max allowed size, and let the allocation path\n-      \/\/ figure out the safe size for current allocation.\n-      return ShenandoahHeapRegion::max_tlab_size_bytes();\n-    }\n+  if (mode()->is_generational()) {\n+    return MIN2(ShenandoahHeapRegion::max_tlab_size_bytes(), young_generation()->available());\n@@ -1943,1 +1937,3 @@\n-    return MIN2(_free_set->unsafe_peek_free(), ShenandoahHeapRegion::max_tlab_size_bytes());\n+    \/\/ Return the max allowed size, and let the allocation path\n+    \/\/ figure out the safe size for current allocation.\n+    return ShenandoahHeapRegion::max_tlab_size_bytes();\n@@ -2637,4 +2633,0 @@\n-address ShenandoahHeap::gc_state_addr() {\n-  return (address) ShenandoahHeap::heap()->_gc_state.addr_of();\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.cpp","additions":6,"deletions":14,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -390,1 +390,0 @@\n-  static address gc_state_addr();\n@@ -418,1 +417,1 @@\n-  inline bool is_gc_in_progress_mask(uint mask) const;\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -724,4 +724,0 @@\n-inline bool ShenandoahHeap::is_gc_in_progress_mask(uint mask) const {\n-  return _gc_state.is_set(mask);\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.inline.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -866,18 +866,0 @@\n-  \/\/ The rationale for trimming the TLAB sizes has to do with the raciness in\n-  \/\/ TLAB allocation machinery. It may happen that TLAB sizing policy polls Shenandoah\n-  \/\/ about next free size, gets the answer for region #N, goes away for a while, then\n-  \/\/ tries to allocate in region #N, and fail because some other thread have claimed part\n-  \/\/ of the region #N, and then the freeset allocation code has to retire the region #N,\n-  \/\/ before moving the allocation to region #N+1.\n-  \/\/\n-  \/\/ The worst case realizes when \"answer\" is \"region size\", which means it could\n-  \/\/ prematurely retire an entire region. Having smaller TLABs does not fix that\n-  \/\/ completely, but reduces the probability of too wasteful region retirement.\n-  \/\/ With current divisor, we will waste no more than 1\/8 of region size in the worst\n-  \/\/ case. This also has a secondary effect on collection set selection: even under\n-  \/\/ the race, the regions would be at least 7\/8 used, which allows relying on\n-  \/\/ \"used\" - \"live\" for cset selection. Otherwise, we can get the fragmented region\n-  \/\/ below the garbage threshold that would never be considered for collection.\n-  \/\/\n-  \/\/ The whole thing is mitigated if Elastic TLABs are enabled.\n-  \/\/\n@@ -885,1 +867,1 @@\n-  MaxTLABSizeWords = MIN2(ShenandoahElasticTLAB ? RegionSizeWords : (RegionSizeWords \/ 8), HumongousThresholdWords);\n+  MaxTLABSizeWords = MIN2(RegionSizeWords, HumongousThresholdWords);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeapRegion.cpp","additions":1,"deletions":19,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-#endif \/\/ SHARE_VM_GC_SHENANDOAH_SHENANDOAHJFRSUPPORT_HPP\n+#endif \/\/ SHARE_GC_SHENANDOAH_SHENANDOAHJFRSUPPORT_HPP\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahJfrSupport.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,0 @@\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahMark.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -55,33 +55,0 @@\n-class ShenandoahHasCSetOopClosure : public OopClosure {\n-private:\n-  ShenandoahHeap* const _heap;\n-  bool                  _has_cset_oops;\n-\n-public:\n-  ShenandoahHasCSetOopClosure(ShenandoahHeap *heap) :\n-    _heap(heap),\n-    _has_cset_oops(false) {\n-  }\n-\n-  bool has_cset_oops() const {\n-    return _has_cset_oops;\n-  }\n-\n-  void do_oop(oop* p) {\n-    oop value = RawAccess<>::oop_load(p);\n-    if (!_has_cset_oops && _heap->in_collection_set(value)) {\n-      _has_cset_oops = true;\n-    }\n-  }\n-\n-  void do_oop(narrowOop* p) {\n-    ShouldNotReachHere();\n-  }\n-};\n-\n-bool ShenandoahNMethod::has_cset_oops(ShenandoahHeap *heap) {\n-  ShenandoahHasCSetOopClosure cl(heap);\n-  oops_do(&cl);\n-  return cl.has_cset_oops();\n-}\n-\n@@ -212,4 +179,0 @@\n-\n-  bool has_oops() {\n-    return !_oops.is_empty();\n-  }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahNMethod.cpp","additions":0,"deletions":37,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -58,6 +58,0 @@\n-  bool has_cset_oops(ShenandoahHeap* heap);\n-\n-  inline int oop_count() const;\n-  inline bool has_oops() const;\n-\n-  inline void mark_unregistered();\n@@ -80,1 +74,0 @@\n-  bool has_non_immed_oops() const { return _has_non_immed_oops; }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahNMethod.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -42,12 +42,0 @@\n-int ShenandoahNMethod::oop_count() const {\n-  return _oops_count + static_cast<int>(nm()->oops_end() - nm()->oops_begin());\n-}\n-\n-bool ShenandoahNMethod::has_oops() const {\n-  return oop_count() > 0;\n-}\n-\n-void ShenandoahNMethod::mark_unregistered() {\n-  _unregistered = true;\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahNMethod.inline.hpp","additions":0,"deletions":12,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -412,1 +412,1 @@\n-  _ref_proc_thread_locals->inc_encountered(type);\n+  _ref_proc_thread_locals[worker_id].inc_encountered(type);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahReferenceProcessor.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -92,1 +92,0 @@\n-  _phase(phase),\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -137,1 +137,0 @@\n-  const ShenandoahPhaseTimings::Phase _phase;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -171,5 +171,0 @@\n-  product(uintx, ShenandoahUnloadClassesFrequency, 1, EXPERIMENTAL,         \\\n-          \"Unload the classes every Nth cycle. Normally affects concurrent \"\\\n-          \"GC cycles, as degenerated and full GCs would try to unload \"     \\\n-          \"classes regardless. Set to zero to disable class unloading.\")    \\\n-                                                                            \\\n@@ -353,4 +348,0 @@\n-  product(bool, ShenandoahElasticTLAB, true, DIAGNOSTIC,                    \\\n-          \"Use Elastic TLABs with Shenandoah. This allows Shenandoah to \"   \\\n-          \"decrease the size of a TLAB to fit in a region's remaining space\") \\\n-                                                                            \\\n@@ -586,1 +577,1 @@\n-  develop(bool, ShenandoahVerifyOptoBarriers, false,                        \\\n+  develop(bool, ShenandoahVerifyOptoBarriers, trueInDebug,                  \\\n@@ -589,7 +580,0 @@\n-  product(bool, ShenandoahLoopOptsAfterExpansion, true, DIAGNOSTIC,         \\\n-          \"Attempt more loop opts after barrier expansion.\")                \\\n-                                                                            \\\n-  product(bool, ShenandoahSelfFixing, true, DIAGNOSTIC,                     \\\n-          \"Fix references with load reference barrier. Disabling this \"     \\\n-          \"might degrade performance.\")                                     \\\n-                                                                            \\\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoah_globals.hpp","additions":1,"deletions":17,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -40,0 +40,4 @@\n+void XArguments::initialize_heap_flags_and_sizes() {\n+  \/\/ Nothing extra to do\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/x\/xArguments.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+  static void initialize_heap_flags_and_sizes();\n","filename":"src\/hotspot\/share\/gc\/x\/xArguments.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,0 +41,10 @@\n+void ZSharedArguments::initialize_heap_flags_and_sizes() {\n+  GCArguments::initialize_heap_flags_and_sizes();\n+\n+  if (ZGenerational) {\n+    ZArguments::initialize_heap_flags_and_sizes();\n+  } else {\n+    XArguments::initialize_heap_flags_and_sizes();\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/z\/shared\/zSharedArguments.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+  virtual void initialize_heap_flags_and_sizes();\n","filename":"src\/hotspot\/share\/gc\/z\/shared\/zSharedArguments.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -40,0 +40,13 @@\n+void ZArguments::initialize_heap_flags_and_sizes() {\n+  if (!FLAG_IS_CMDLINE(MaxHeapSize) &&\n+      !FLAG_IS_CMDLINE(MaxRAMFraction) &&\n+      !FLAG_IS_CMDLINE(MaxRAMPercentage) &&\n+      !FLAG_IS_CMDLINE(SoftMaxHeapSize)) {\n+    \/\/ We are really just guessing how much memory the program needs.\n+    \/\/ When that is the case, we don't want the soft and hard limits to be the same\n+    \/\/ as it can cause flakyness in the number of GC threads used, in order to keep\n+    \/\/ to a random number we just pulled out of thin air.\n+    FLAG_SET_ERGO(SoftMaxHeapSize, MaxHeapSize * 90 \/ 100);\n+  }\n+}\n+\n@@ -129,10 +142,0 @@\n-  if (!FLAG_IS_CMDLINE(MaxHeapSize) &&\n-      !FLAG_IS_CMDLINE(MaxRAMFraction) &&\n-      !FLAG_IS_CMDLINE(MaxRAMPercentage)) {\n-    \/\/ We are really just guessing how much memory the program needs.\n-    \/\/ When that is the case, we don't want the soft and hard limits to be the same\n-    \/\/ as it can cause flakyness in the number of GC threads used, in order to keep\n-    \/\/ to a random number we just pulled out of thin air.\n-    FLAG_SET_ERGO_IF_DEFAULT(SoftMaxHeapSize, MaxHeapSize * 90 \/ 100);\n-  }\n-\n@@ -143,0 +146,3 @@\n+  \/\/ Set medium page size here because MaxTenuringThreshold may use it.\n+  ZHeuristics::set_medium_page_size();\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.cpp","additions":16,"deletions":10,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+  static void initialize_heap_flags_and_sizes();\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -155,0 +155,13 @@\n+void ZBarrierSet::clone_obj_array(objArrayOop src_obj, objArrayOop dst_obj, size_t size) {\n+  volatile zpointer* src = (volatile zpointer*)src_obj->base();\n+  volatile zpointer* dst = (volatile zpointer*)dst_obj->base();\n+\n+  for (const zpointer* const end = cast_from_oop<const zpointer*>(src_obj) + size; src < end; src++, dst++) {\n+    zaddress elem = ZBarrier::load_barrier_on_oop_field(src);\n+    \/\/ We avoid healing here because the store below colors the pointer store good,\n+    \/\/ hence avoiding the cost of a CAS.\n+    ZBarrier::store_barrier_on_heap_oop_field(dst, false \/* heal *\/);\n+    Atomic::store(dst, ZAddress::store_good(elem));\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zBarrierSet.cpp","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -42,0 +42,2 @@\n+  static void clone_obj_array(objArrayOop src, objArrayOop dst, size_t size);\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zBarrierSet.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -406,1 +406,1 @@\n-class ZStoreBarrierOopClosure : public BasicOopIterateClosure {\n+class ZColorStoreGoodOopClosure : public BasicOopIterateClosure {\n@@ -412,2 +412,1 @@\n-    ZBarrier::store_barrier_on_heap_oop_field(p, false \/* heal *\/);\n-    *p = ZAddress::store_good(addr);\n+    Atomic::store(p, ZAddress::store_good(addr));\n@@ -436,0 +435,11 @@\n+  if (dst->is_objArray()) {\n+    \/\/ Cloning an object array is similar to performing array copy.\n+    \/\/ If an array is large enough to have its allocation segmented,\n+    \/\/ this operation might require GC barriers. However, the intrinsics\n+    \/\/ for cloning arrays transform the clone to an optimized allocation\n+    \/\/ and arraycopy sequence, so the performance of this runtime call\n+    \/\/ does not matter for object arrays.\n+    clone_obj_array(objArrayOop(src), objArrayOop(dst), size);\n+    return;\n+  }\n+\n@@ -443,1 +453,1 @@\n-  assert(ZHeap::heap()->is_young(to_zaddress(dst)), \"ZColorStoreGoodOopClosure is only valid for young objects\");\n+  assert(dst->is_typeArray() || ZHeap::heap()->is_young(to_zaddress(dst)), \"ZColorStoreGoodOopClosure is only valid for young objects\");\n@@ -446,1 +456,1 @@\n-  ZStoreBarrierOopClosure cl_sg;\n+  ZColorStoreGoodOopClosure cl_sg;\n","filename":"src\/hotspot\/share\/gc\/z\/zBarrierSet.inline.hpp","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-  return MaxHeapSize * ZFragmentationLimit;\n+  return MaxHeapSize * (ZFragmentationLimit \/ 100);\n@@ -108,1 +108,1 @@\n-  return MaxHeapSize * ZYoungCompactionLimit;\n+  return MaxHeapSize * (ZYoungCompactionLimit \/ 100);\n","filename":"src\/hotspot\/share\/gc\/z\/zHeuristics.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-#include \"gc\/z\/zHeuristics.hpp\"\n@@ -57,1 +56,0 @@\n-  ZHeuristics::set_medium_page_size();\n","filename":"src\/hotspot\/share\/gc\/z\/zInitialize.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-  ZRootStatTimer timer(ZSubPhaseConcurrentWeakRootsOopStorageSet, _generation);\n+  ZRootStatTimer timer(ZSubPhaseConcurrentRootsOopStorageSet, _generation);\n","filename":"src\/hotspot\/share\/gc\/z\/zRootsIterator.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -174,3 +174,0 @@\n-  bool contains_blob(const CodeBlob* blob) const {\n-    return contains((void*)blob);\n-  }\n","filename":"src\/hotspot\/share\/memory\/heap.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -338,1 +338,1 @@\n-      _fillerArrayKlassObj = TypeArrayKlass::create_klass(T_INT, \"Ljdk\/internal\/vm\/FillerArray;\", CHECK);\n+      _fillerArrayKlassObj = TypeArrayKlass::create_klass(T_INT, \"[Ljdk\/internal\/vm\/FillerElement;\", CHECK);\n","filename":"src\/hotspot\/share\/memory\/universe.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -771,0 +771,2 @@\n+  bool debug_logging_enabled = log_is_enabled(Debug, class, init);\n+\n@@ -773,0 +775,5 @@\n+    if (debug_logging_enabled) {\n+      ResourceMark rm(current);\n+      log_debug(class, init)(\"Thread \\\"%s\\\" waiting for linking of %s by thread \\\"%s\\\"\",\n+                             current->name(), external_name(), init_thread_name());\n+    }\n@@ -778,0 +785,5 @@\n+    if (debug_logging_enabled) {\n+      ResourceMark rm(current);\n+      log_debug(class, init)(\"Thread \\\"%s\\\" recursively linking %s\",\n+                             current->name(), external_name());\n+    }\n@@ -783,0 +795,5 @@\n+    if (debug_logging_enabled) {\n+      ResourceMark rm(current);\n+      log_debug(class, init)(\"Thread \\\"%s\\\" linking %s\",\n+                             current->name(), external_name());\n+    }\n@@ -785,0 +802,6 @@\n+  } else {\n+    if (debug_logging_enabled) {\n+      ResourceMark rm(current);\n+      log_debug(class, init)(\"Thread \\\"%s\\\" found %s already linked\",\n+                             current->name(), external_name());\n+      }\n@@ -1050,0 +1073,2 @@\n+  bool debug_logging_enabled = log_is_enabled(Debug, class, init);\n+\n@@ -1053,1 +1078,1 @@\n-    MonitorLocker ml(THREAD, _init_monitor);\n+    MonitorLocker ml(jt, _init_monitor);\n@@ -1057,0 +1082,6 @@\n+      if (debug_logging_enabled) {\n+        ResourceMark rm(jt);\n+        log_debug(class, init)(\"Thread \\\"%s\\\" waiting for initialization of %s by thread \\\"%s\\\"\",\n+                               jt->name(), external_name(), init_thread_name());\n+      }\n+\n@@ -1065,0 +1096,5 @@\n+      if (debug_logging_enabled) {\n+        ResourceMark rm(jt);\n+        log_debug(class, init)(\"Thread \\\"%s\\\" recursively initializing %s\",\n+                               jt->name(), external_name());\n+      }\n@@ -1071,0 +1107,5 @@\n+      if (debug_logging_enabled) {\n+        ResourceMark rm(jt);\n+        log_debug(class, init)(\"Thread \\\"%s\\\" found %s already initialized\",\n+                               jt->name(), external_name());\n+      }\n@@ -1077,0 +1118,5 @@\n+      if (debug_logging_enabled) {\n+        ResourceMark rm(jt);\n+        log_debug(class, init)(\"Thread \\\"%s\\\" found %s is in error state\",\n+                               jt->name(), external_name());\n+      }\n@@ -1083,0 +1129,5 @@\n+      if (debug_logging_enabled) {\n+        ResourceMark rm(jt);\n+        log_debug(class, init)(\"Thread \\\"%s\\\" is initializing %s\",\n+                               jt->name(), external_name());\n+      }\n@@ -1556,1 +1607,3 @@\n-    ls.print_cr(\"%s (\" PTR_FORMAT \")\", h_method() == nullptr ? \"(no method)\" : \"\", p2i(this));\n+    ls.print_cr(\"%s (\" PTR_FORMAT \") by thread \\\"%s\\\"\",\n+                h_method() == nullptr ? \"(no method)\" : \"\", p2i(this),\n+                THREAD->name());\n@@ -4062,0 +4115,17 @@\n+\/\/ This nulls out jmethodIDs for all methods in 'klass'\n+\/\/ It needs to be called explicitly for all previous versions of a class because these may not be cleaned up\n+\/\/ during class unloading.\n+\/\/ We can not use the jmethodID cache associated with klass directly because the 'previous' versions\n+\/\/ do not have the jmethodID cache filled in. Instead, we need to lookup jmethodID for each method and this\n+\/\/ is expensive - O(n) for one jmethodID lookup. For all contained methods it is O(n^2).\n+\/\/ The reason for expensive jmethodID lookup for each method is that there is no direct link between method and jmethodID.\n+void InstanceKlass::clear_jmethod_ids(InstanceKlass* klass) {\n+  Array<Method*>* method_refs = klass->methods();\n+  for (int k = 0; k < method_refs->length(); k++) {\n+    Method* method = method_refs->at(k);\n+    if (method != nullptr && method->is_obsolete()) {\n+      method->clear_jmethod_id();\n+    }\n+  }\n+}\n+\n@@ -4105,0 +4175,1 @@\n+      clear_jmethod_ids(pv_node); \/\/ jmethodID maintenance for the unloaded class\n@@ -4324,1 +4395,0 @@\n-\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":73,"deletions":3,"binary":false,"changes":76,"status":"modified"},{"patch":"@@ -494,0 +494,8 @@\n+\n+  JavaThread* init_thread()  { return Atomic::load(&_init_thread); }\n+  \/\/ We can safely access the name as long as we hold the _init_monitor.\n+  const char* init_thread_name() {\n+    assert(_init_monitor->owned_by_self(), \"Must hold _init_monitor here\");\n+    return init_thread()->name_raw();\n+  }\n+\n@@ -503,1 +511,1 @@\n-  bool is_init_thread(JavaThread *thread)  { return thread == Atomic::load(&_init_thread); }\n+  bool is_init_thread(JavaThread *thread)  { return thread == init_thread(); }\n@@ -1080,0 +1088,2 @@\n+  \/\/ This nulls out jmethodIDs for all methods in 'klass'\n+  static void clear_jmethod_ids(InstanceKlass* klass);\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.hpp","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2265,0 +2265,14 @@\n+void Method::clear_jmethod_id() {\n+  \/\/ Being at a safepoint prevents racing against other class redefinitions\n+  assert(SafepointSynchronize::is_at_safepoint(), \"should be at safepoint\");\n+  \/\/ The jmethodID is not stored in the Method instance, we need to look it up first\n+  jmethodID methodid = find_jmethod_id_or_null();\n+  \/\/ We need to make sure that jmethodID actually resolves to this method\n+  \/\/ - multiple redefined versions may share jmethodID slots and if a method\n+  \/\/   has already been rewired to a newer version we could be removing reference\n+  \/\/   to a still existing method instance\n+  if (methodid != nullptr && *((Method**)methodid) == this) {\n+    *((Method**)methodid) = nullptr;\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -776,0 +776,1 @@\n+  void clear_jmethod_id();\n","filename":"src\/hotspot\/share\/oops\/method.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -56,0 +56,3 @@\n+  product(bool, StressIncrementalInlining, false, DIAGNOSTIC,               \\\n+          \"Randomize the incremental inlining decision\")                    \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/opto\/c2_globals.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -435,1 +435,1 @@\n-    assert(!cg->is_late_inline() || cg->is_mh_late_inline() || AlwaysIncrementalInline, \"we're doing late inlining\");\n+    assert(!cg->is_late_inline() || cg->is_mh_late_inline() || AlwaysIncrementalInline || StressIncrementalInlining, \"we're doing late inlining\");\n@@ -557,1 +557,1 @@\n-    assert(!cg->is_late_inline() || cg->is_mh_late_inline() || AlwaysIncrementalInline, \"we're doing late inlining\");\n+    assert(!cg->is_late_inline() || cg->is_mh_late_inline() || AlwaysIncrementalInline || StressIncrementalInlining, \"we're doing late inlining\");\n@@ -992,0 +992,1 @@\n+  bool should_delay = C->should_delay_inlining();\n@@ -993,1 +994,1 @@\n-    if (AlwaysIncrementalInline) {\n+    if (should_delay) {\n@@ -1004,1 +1005,1 @@\n-      (input_not_const || !C->inlining_incrementally() || C->over_inlining_cutoff())) {\n+      (should_delay || input_not_const || !C->inlining_incrementally() || C->over_inlining_cutoff())) {\n","filename":"src\/hotspot\/share\/opto\/callGenerator.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -265,73 +265,0 @@\n-  \/\/ Try to improve the type of the CastII if we recognize a CmpI\/If pattern.\n-  \/\/\n-  \/\/ in1  in2\n-  \/\/  |    |\n-  \/\/  +--- | --+\n-  \/\/  |    |   |\n-  \/\/ CmpINode  |\n-  \/\/    |      |\n-  \/\/ BoolNode  |\n-  \/\/    |      |\n-  \/\/  IfNode   |\n-  \/\/    |      |\n-  \/\/  IfProj   |\n-  \/\/    |      |\n-  \/\/   CastIINode\n-  \/\/\n-  if (carry_dependency()) {\n-    if (in(0) != nullptr && in(0)->in(0) != nullptr && in(0)->in(0)->is_If()) {\n-      assert(in(0)->is_IfFalse() || in(0)->is_IfTrue(), \"should be If proj\");\n-      Node* proj = in(0);\n-      if (proj->in(0)->in(1)->is_Bool()) {\n-        Node* b = proj->in(0)->in(1);\n-        if (b->in(1)->Opcode() == Op_CmpI) {\n-          Node* cmp = b->in(1);\n-          if (cmp->in(1) == in(1) && phase->type(cmp->in(2))->isa_int()) {\n-            const TypeInt* in2_t = phase->type(cmp->in(2))->is_int();\n-            const Type* t = TypeInt::INT;\n-            BoolTest test = b->as_Bool()->_test;\n-            if (proj->is_IfFalse()) {\n-              test = test.negate();\n-            }\n-            BoolTest::mask m = test._test;\n-            jlong lo_long = min_jint;\n-            jlong hi_long = max_jint;\n-            if (m == BoolTest::le || m == BoolTest::lt) {\n-              hi_long = in2_t->_hi;\n-              if (m == BoolTest::lt) {\n-                hi_long -= 1;\n-              }\n-            } else if (m == BoolTest::ge || m == BoolTest::gt) {\n-              lo_long = in2_t->_lo;\n-              if (m == BoolTest::gt) {\n-                lo_long += 1;\n-              }\n-            } else if (m == BoolTest::eq) {\n-              lo_long = in2_t->_lo;\n-              hi_long = in2_t->_hi;\n-            } else if (m == BoolTest::ne) {\n-              \/\/ can't do any better\n-            } else {\n-              stringStream ss;\n-              test.dump_on(&ss);\n-              fatal(\"unexpected comparison %s\", ss.freeze());\n-            }\n-            int lo_int = (int)lo_long;\n-            int hi_int = (int)hi_long;\n-\n-            if (lo_long != (jlong)lo_int) {\n-              lo_int = min_jint;\n-            }\n-            if (hi_long != (jlong)hi_int) {\n-              hi_int = max_jint;\n-            }\n-\n-            t = TypeInt::make(lo_int, hi_int, Type::WidenMax);\n-\n-            res = res->filter_speculative(t);\n-            return res;\n-          }\n-        }\n-      }\n-    }\n-  }\n","filename":"src\/hotspot\/share\/opto\/castnode.cpp","additions":0,"deletions":73,"binary":false,"changes":73,"status":"modified"},{"patch":"@@ -554,1 +554,0 @@\n-  ttyLocker ttyl;\n@@ -559,6 +558,6 @@\n-  if (xtty != nullptr) {\n-    xtty->head(\"ideal compile_id='%d'%s compile_phase='%s'\",\n-               compile_id(),\n-               is_osr_compilation() ? \" compile_kind='osr'\" : \"\",\n-               phase_name);\n-  }\n+\n+  \/\/ Node dumping can cause a safepoint, which can break the tty lock.\n+  \/\/ Buffer all node dumps, so that all safepoints happen before we lock.\n+  ResourceMark rm;\n+  stringStream ss;\n+\n@@ -566,1 +565,1 @@\n-    tty->print_cr(\"AFTER: %s\", phase_name);\n+    ss.print_cr(\"AFTER: %s\", phase_name);\n@@ -568,1 +567,1 @@\n-    root()->dump_bfs(MaxNodeLimit, nullptr, \"+S$\");\n+    root()->dump_bfs(MaxNodeLimit, nullptr, \"+S$\", &ss);\n@@ -571,1 +570,1 @@\n-    _output->print_scheduling();\n+    _output->print_scheduling(&ss);\n@@ -574,0 +573,3 @@\n+  \/\/ Check that the lock is not broken by a safepoint.\n+  NoSafepointVerifier nsv;\n+  ttyLocker ttyl;\n@@ -575,0 +577,5 @@\n+    xtty->head(\"ideal compile_id='%d'%s compile_phase='%s'\",\n+               compile_id(),\n+               is_osr_compilation() ? \" compile_kind='osr'\" : \"\",\n+               phase_name);\n+    xtty->print(\"%s\", ss.as_string()); \/\/ print to tty would use xml escape encoding\n@@ -576,0 +583,2 @@\n+  } else {\n+    tty->print(\"%s\", ss.as_string());\n@@ -829,2 +838,2 @@\n-  if (StressLCM || StressGCM || StressIGVN || StressCCP) {\n-    if (FLAG_IS_DEFAULT(StressSeed) || (FLAG_IS_ERGO(StressSeed) && RepeatCompilation)) {\n+  if (StressLCM || StressGCM || StressIGVN || StressCCP || StressIncrementalInlining) {\n+    if (FLAG_IS_DEFAULT(StressSeed) || (FLAG_IS_ERGO(StressSeed) && directive->RepeatCompilationOption)) {\n@@ -2247,1 +2256,1 @@\n-    if (AlwaysIncrementalInline) {\n+    if (AlwaysIncrementalInline || StressIncrementalInlining) {\n@@ -4994,2 +5003,2 @@\n-void NodeCloneInfo::dump() const {\n-  tty->print(\" {%d:%d} \", idx(), gen());\n+void NodeCloneInfo::dump_on(outputStream* st) const {\n+  st->print(\" {%d:%d} \", idx(), gen());\n@@ -5042,1 +5051,1 @@\n-void CloneMap::dump(node_idx_t key) const {\n+void CloneMap::dump(node_idx_t key, outputStream* st) const {\n@@ -5046,1 +5055,1 @@\n-    ni.dump();\n+    ni.dump_on(st);\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":26,"deletions":17,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-  void dump() const;\n+  void dump_on(outputStream* st) const;\n@@ -161,1 +161,1 @@\n-  void dump(node_idx_t key)       const;\n+  void dump(node_idx_t key, outputStream* st) const;\n@@ -1035,0 +1035,1 @@\n+  bool should_delay_inlining() { return AlwaysIncrementalInline || (StressIncrementalInlining && (random() % 2) == 0); }\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -175,1 +175,1 @@\n-      bool should_delay = AlwaysIncrementalInline;\n+      bool should_delay = C->should_delay_inlining();\n@@ -194,1 +194,3 @@\n-          if (should_delay_string_inlining(callee, jvms)) {\n+          if (should_delay) {\n+            return CallGenerator::for_late_inline(callee, cg);\n+          } else if (should_delay_string_inlining(callee, jvms)) {\n@@ -200,2 +202,0 @@\n-          } else if (should_delay) {\n-            return CallGenerator::for_late_inline(callee, cg);\n","filename":"src\/hotspot\/share\/opto\/doCall.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1111,0 +1111,1 @@\n+  clear_upper_avx();\n@@ -1365,0 +1366,1 @@\n+  clear_upper_avx();\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4238,0 +4238,6 @@\n+      }\n+\n+      assert(current->vect_type() != nullptr, \"must have vector type\");\n+      if (current->vect_type() != last_ur->vect_type()) {\n+        \/\/ Reductions do not have the same vector type (length and element type).\n+        break; \/\/ Chain traversal fails.\n","filename":"src\/hotspot\/share\/opto\/loopopts.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1762,2 +1762,2 @@\n-  PrintBFS(const Node* start, const int max_distance, const Node* target, const char* options)\n-  : _start(start), _max_distance(max_distance), _target(target), _options(options),\n+  PrintBFS(const Node* start, const int max_distance, const Node* target, const char* options, outputStream* st)\n+  : _start(start), _max_distance(max_distance), _target(target), _options(options), _output(st),\n@@ -1783,0 +1783,1 @@\n+  outputStream* _output;\n@@ -1822,1 +1823,1 @@\n-  static void print_options_help(bool print_examples);\n+  void print_options_help(bool print_examples);\n@@ -1839,3 +1840,3 @@\n-  static void print_node_idx(const Node* n); \/\/ to tty\n-  static void print_block_id(const Block* b); \/\/ to tty\n-  static void print_node_block(const Node* n); \/\/ to tty: _pre_order, head idx, _idom, _dom_depth\n+  void print_node_idx(const Node* n);\n+  void print_block_id(const Block* b);\n+  void print_node_block(const Node* n); \/\/ _pre_order, head idx, _idom, _dom_depth\n@@ -1906,1 +1907,1 @@\n-    tty->print(\"dump_bfs: max_distance must be non-negative!\\n\");\n+    _output->print_cr(\"dump_bfs: max_distance must be non-negative!\");\n@@ -1944,1 +1945,1 @@\n-      tty->print(\"Could not find target in BFS.\\n\");\n+      _output->print_cr(\"Could not find target in BFS.\");\n@@ -2040,1 +2041,1 @@\n-    tty->print(\"No nodes to print.\\n\");\n+    _output->print_cr(\"No nodes to print.\");\n@@ -2045,57 +2046,57 @@\n-  tty->print(\"Usage: node->dump_bfs(int max_distance, Node* target, char* options)\\n\");\n-  tty->print(\"\\n\");\n-  tty->print(\"Use cases:\\n\");\n-  tty->print(\"  BFS traversal: no target required\\n\");\n-  tty->print(\"  shortest path: set target\\n\");\n-  tty->print(\"  all paths: set target and put 'A' in options\\n\");\n-  tty->print(\"  detect loop: subcase of all paths, have start==target\\n\");\n-  tty->print(\"\\n\");\n-  tty->print(\"Arguments:\\n\");\n-  tty->print(\"  this\/start: staring point of BFS\\n\");\n-  tty->print(\"  target:\\n\");\n-  tty->print(\"    if null: simple BFS\\n\");\n-  tty->print(\"    else: shortest path or all paths between this\/start and target\\n\");\n-  tty->print(\"  options:\\n\");\n-  tty->print(\"    if null: same as \\\"cdmox@B\\\"\\n\");\n-  tty->print(\"    else: use combination of following characters\\n\");\n-  tty->print(\"      h: display this help info\\n\");\n-  tty->print(\"      H: display this help info, with examples\\n\");\n-  tty->print(\"      +: traverse in-edges (on if neither + nor -)\\n\");\n-  tty->print(\"      -: traverse out-edges\\n\");\n-  tty->print(\"      c: visit control nodes\\n\");\n-  tty->print(\"      d: visit data nodes\\n\");\n-  tty->print(\"      m: visit memory nodes\\n\");\n-  tty->print(\"      o: visit other nodes\\n\");\n-  tty->print(\"      x: visit mixed nodes\\n\");\n-  tty->print(\"      C: boundary control nodes\\n\");\n-  tty->print(\"      D: boundary data nodes\\n\");\n-  tty->print(\"      M: boundary memory nodes\\n\");\n-  tty->print(\"      O: boundary other nodes\\n\");\n-  tty->print(\"      X: boundary mixed nodes\\n\");\n-  tty->print(\"      #: display node category in color (not supported in all terminals)\\n\");\n-  tty->print(\"      S: sort displayed nodes by node idx\\n\");\n-  tty->print(\"      A: all paths (not just shortest path to target)\\n\");\n-  tty->print(\"      @: print old nodes - before matching (if available)\\n\");\n-  tty->print(\"      B: print scheduling blocks (if available)\\n\");\n-  tty->print(\"      $: dump only, no header, no other columns\\n\");\n-  tty->print(\"\\n\");\n-  tty->print(\"recursively follow edges to nodes with permitted visit types,\\n\");\n-  tty->print(\"on the boundary additionally display nodes allowed in boundary types\\n\");\n-  tty->print(\"Note: the categories can be overlapping. For example a mixed node\\n\");\n-  tty->print(\"      can contain control and memory output. Some from the other\\n\");\n-  tty->print(\"      category are also control (Halt, Return, etc).\\n\");\n-  tty->print(\"\\n\");\n-  tty->print(\"output columns:\\n\");\n-  tty->print(\"  dist:  BFS distance to this\/start\\n\");\n-  tty->print(\"  apd:   all paths distance (d_start + d_target)\\n\");\n-  tty->print(\"  block: block identifier, based on _pre_order\\n\");\n-  tty->print(\"  head:  first node in block\\n\");\n-  tty->print(\"  idom:  head node of idom block\\n\");\n-  tty->print(\"  depth: depth of block (_dom_depth)\\n\");\n-  tty->print(\"  old:   old IR node - before matching\\n\");\n-  tty->print(\"  dump:  node->dump()\\n\");\n-  tty->print(\"\\n\");\n-  tty->print(\"Note: if none of the \\\"cmdxo\\\" characters are in the options string\\n\");\n-  tty->print(\"      then we set all of them.\\n\");\n-  tty->print(\"      This allows for short strings like \\\"#\\\" for colored input traversal\\n\");\n-  tty->print(\"      or \\\"-#\\\" for colored output traversal.\\n\");\n+  _output->print_cr(\"Usage: node->dump_bfs(int max_distance, Node* target, char* options)\");\n+  _output->print_cr(\"\");\n+  _output->print_cr(\"Use cases:\");\n+  _output->print_cr(\"  BFS traversal: no target required\");\n+  _output->print_cr(\"  shortest path: set target\");\n+  _output->print_cr(\"  all paths: set target and put 'A' in options\");\n+  _output->print_cr(\"  detect loop: subcase of all paths, have start==target\");\n+  _output->print_cr(\"\");\n+  _output->print_cr(\"Arguments:\");\n+  _output->print_cr(\"  this\/start: staring point of BFS\");\n+  _output->print_cr(\"  target:\");\n+  _output->print_cr(\"    if null: simple BFS\");\n+  _output->print_cr(\"    else: shortest path or all paths between this\/start and target\");\n+  _output->print_cr(\"  options:\");\n+  _output->print_cr(\"    if null: same as \\\"cdmox@B\\\"\");\n+  _output->print_cr(\"    else: use combination of following characters\");\n+  _output->print_cr(\"      h: display this help info\");\n+  _output->print_cr(\"      H: display this help info, with examples\");\n+  _output->print_cr(\"      +: traverse in-edges (on if neither + nor -)\");\n+  _output->print_cr(\"      -: traverse out-edges\");\n+  _output->print_cr(\"      c: visit control nodes\");\n+  _output->print_cr(\"      d: visit data nodes\");\n+  _output->print_cr(\"      m: visit memory nodes\");\n+  _output->print_cr(\"      o: visit other nodes\");\n+  _output->print_cr(\"      x: visit mixed nodes\");\n+  _output->print_cr(\"      C: boundary control nodes\");\n+  _output->print_cr(\"      D: boundary data nodes\");\n+  _output->print_cr(\"      M: boundary memory nodes\");\n+  _output->print_cr(\"      O: boundary other nodes\");\n+  _output->print_cr(\"      X: boundary mixed nodes\");\n+  _output->print_cr(\"      #: display node category in color (not supported in all terminals)\");\n+  _output->print_cr(\"      S: sort displayed nodes by node idx\");\n+  _output->print_cr(\"      A: all paths (not just shortest path to target)\");\n+  _output->print_cr(\"      @: print old nodes - before matching (if available)\");\n+  _output->print_cr(\"      B: print scheduling blocks (if available)\");\n+  _output->print_cr(\"      $: dump only, no header, no other columns\");\n+  _output->print_cr(\"\");\n+  _output->print_cr(\"recursively follow edges to nodes with permitted visit types,\");\n+  _output->print_cr(\"on the boundary additionally display nodes allowed in boundary types\");\n+  _output->print_cr(\"Note: the categories can be overlapping. For example a mixed node\");\n+  _output->print_cr(\"      can contain control and memory output. Some from the other\");\n+  _output->print_cr(\"      category are also control (Halt, Return, etc).\");\n+  _output->print_cr(\"\");\n+  _output->print_cr(\"output columns:\");\n+  _output->print_cr(\"  dist:  BFS distance to this\/start\");\n+  _output->print_cr(\"  apd:   all paths distance (d_outputart + d_target)\");\n+  _output->print_cr(\"  block: block identifier, based on _pre_order\");\n+  _output->print_cr(\"  head:  first node in block\");\n+  _output->print_cr(\"  idom:  head node of idom block\");\n+  _output->print_cr(\"  depth: depth of block (_dom_depth)\");\n+  _output->print_cr(\"  old:   old IR node - before matching\");\n+  _output->print_cr(\"  dump:  node->dump()\");\n+  _output->print_cr(\"\");\n+  _output->print_cr(\"Note: if none of the \\\"cmdxo\\\" characters are in the options string\");\n+  _output->print_cr(\"      then we set all of them.\");\n+  _output->print_cr(\"      This allows for short strings like \\\"#\\\" for colored input traversal\");\n+  _output->print_cr(\"      or \\\"-#\\\" for colored output traversal.\");\n@@ -2103,27 +2104,27 @@\n-    tty->print(\"\\n\");\n-    tty->print(\"Examples:\\n\");\n-    tty->print(\"  if->dump_bfs(10, 0, \\\"+cxo\\\")\\n\");\n-    tty->print(\"    starting at some if node, traverse inputs recursively\\n\");\n-    tty->print(\"    only along control (mixed and other can also be control)\\n\");\n-    tty->print(\"  phi->dump_bfs(5, 0, \\\"-dxo\\\")\\n\");\n-    tty->print(\"    starting at phi node, traverse outputs recursively\\n\");\n-    tty->print(\"    only along data (mixed and other can also have data flow)\\n\");\n-    tty->print(\"  find_node(385)->dump_bfs(3, 0, \\\"cdmox+#@B\\\")\\n\");\n-    tty->print(\"    find inputs of node 385, up to 3 nodes up (+)\\n\");\n-    tty->print(\"    traverse all nodes (cdmox), use colors (#)\\n\");\n-    tty->print(\"    display old nodes and blocks, if they exist\\n\");\n-    tty->print(\"    useful call to start with\\n\");\n-    tty->print(\"  find_node(102)->dump_bfs(10, 0, \\\"dCDMOX-\\\")\\n\");\n-    tty->print(\"    find non-data dependencies of a data node\\n\");\n-    tty->print(\"    follow data node outputs until we find another category\\n\");\n-    tty->print(\"    node as the boundary\\n\");\n-    tty->print(\"  x->dump_bfs(10, y, 0)\\n\");\n-    tty->print(\"    find shortest path from x to y, along any edge or node\\n\");\n-    tty->print(\"    will not find a path if it is longer than 10\\n\");\n-    tty->print(\"    useful to find how x and y are related\\n\");\n-    tty->print(\"  find_node(741)->dump_bfs(20, find_node(746), \\\"c+\\\")\\n\");\n-    tty->print(\"    find shortest control path between two nodes\\n\");\n-    tty->print(\"  find_node(741)->dump_bfs(8, find_node(746), \\\"cdmox+A\\\")\\n\");\n-    tty->print(\"    find all paths (A) between two nodes of length at most 8\\n\");\n-    tty->print(\"  find_node(741)->dump_bfs(7, find_node(741), \\\"c+A\\\")\\n\");\n-    tty->print(\"    find all control loops for this node\\n\");\n+    _output->print_cr(\"\");\n+    _output->print_cr(\"Examples:\");\n+    _output->print_cr(\"  if->dump_bfs(10, 0, \\\"+cxo\\\")\");\n+    _output->print_cr(\"    starting at some if node, traverse inputs recursively\");\n+    _output->print_cr(\"    only along control (mixed and other can also be control)\");\n+    _output->print_cr(\"  phi->dump_bfs(5, 0, \\\"-dxo\\\")\");\n+    _output->print_cr(\"    starting at phi node, traverse outputs recursively\");\n+    _output->print_cr(\"    only along data (mixed and other can also have data flow)\");\n+    _output->print_cr(\"  find_node(385)->dump_bfs(3, 0, \\\"cdmox+#@B\\\")\");\n+    _output->print_cr(\"    find inputs of node 385, up to 3 nodes up (+)\");\n+    _output->print_cr(\"    traverse all nodes (cdmox), use colors (#)\");\n+    _output->print_cr(\"    display old nodes and blocks, if they exist\");\n+    _output->print_cr(\"    useful call to start with\");\n+    _output->print_cr(\"  find_node(102)->dump_bfs(10, 0, \\\"dCDMOX-\\\")\");\n+    _output->print_cr(\"    find non-data dependencies of a data node\");\n+    _output->print_cr(\"    follow data node outputs until we find another category\");\n+    _output->print_cr(\"    node as the boundary\");\n+    _output->print_cr(\"  x->dump_bfs(10, y, 0)\");\n+    _output->print_cr(\"    find shortest path from x to y, along any edge or node\");\n+    _output->print_cr(\"    will not find a path if it is longer than 10\");\n+    _output->print_cr(\"    useful to find how x and y are related\");\n+    _output->print_cr(\"  find_node(741)->dump_bfs(20, find_node(746), \\\"c+\\\")\");\n+    _output->print_cr(\"    find shortest control path between two nodes\");\n+    _output->print_cr(\"  find_node(741)->dump_bfs(8, find_node(746), \\\"cdmox+A\\\")\");\n+    _output->print_cr(\"    find all paths (A) between two nodes of length at most 8\");\n+    _output->print_cr(\"  find_node(741)->dump_bfs(7, find_node(741), \\\"c+A\\\")\");\n+    _output->print_cr(\"    find all control loops for this node\");\n@@ -2201,2 +2202,2 @@\n-        tty->print_cr(\"dump_bfs: Unrecognized option \\'%c\\'\", _options[i]);\n-        tty->print_cr(\"for help, run: find_node(0)->dump_bfs(0,0,\\\"H\\\")\");\n+        _output->print_cr(\"dump_bfs: Unrecognized option \\'%c\\'\", _options[i]);\n+        _output->print_cr(\"for help, run: find_node(0)->dump_bfs(0,0,\\\"H\\\")\");\n@@ -2281,1 +2282,1 @@\n-  tty->print(\"%6s\", buf);\n+  _output->print(\"%6s\", buf);\n@@ -2288,1 +2289,1 @@\n-  tty->print(\"%7s\", buf);\n+  _output->print(\"%7s\", buf);\n@@ -2297,4 +2298,4 @@\n-    tty->print(\"      _\"); \/\/ Block\n-    tty->print(\"     _\");  \/\/ head\n-    tty->print(\"     _\");  \/\/ idom\n-    tty->print(\"      _\"); \/\/ depth\n+    _output->print(\"      _\"); \/\/ Block\n+    _output->print(\"     _\");  \/\/ head\n+    _output->print(\"     _\");  \/\/ idom\n+    _output->print(\"      _\"); \/\/ depth\n@@ -2307,1 +2308,1 @@\n-      tty->print(\"     _\"); \/\/ idom\n+      _output->print(\"     _\"); \/\/ idom\n@@ -2309,1 +2310,1 @@\n-    tty->print(\"%6d \", b->_dom_depth);\n+    _output->print(\"%6d \", b->_dom_depth);\n@@ -2339,1 +2340,1 @@\n-  tty->print(\"dist\");                         \/\/ distance\n+  _output->print(\"dist\");                         \/\/ distance\n@@ -2341,1 +2342,1 @@\n-    tty->print(\" apd\");                       \/\/ all paths distance\n+    _output->print(\" apd\");                       \/\/ all paths distance\n@@ -2344,1 +2345,1 @@\n-    tty->print(\" [block  head  idom depth]\"); \/\/ block\n+    _output->print(\" [block  head  idom depth]\"); \/\/ block\n@@ -2347,1 +2348,1 @@\n-    tty->print(\"   old\");                     \/\/ old node\n+    _output->print(\"   old\");                     \/\/ old node\n@@ -2349,2 +2350,2 @@\n-  tty->print(\" dump\\n\");                      \/\/ node dump\n-  tty->print(\"---------------------------------------------\\n\");\n+  _output->print(\" dump\\n\");                      \/\/ node dump\n+  _output->print_cr(\"---------------------------------------------\");\n@@ -2355,1 +2356,1 @@\n-    n->dump(\"\\n\", false, tty, &_dcc);\n+    n->dump(\"\\n\", false, _output, &_dcc);\n@@ -2358,1 +2359,1 @@\n-  tty->print(\"%4d\", find_info(n)->distance());\/\/ distance\n+  _output->print(\"%4d\", find_info(n)->distance());\/\/ distance\n@@ -2362,1 +2363,1 @@\n-    tty->print(\"%4d\", apd);                   \/\/ all paths distance\n+    _output->print(\"%4d\", apd);                   \/\/ all paths distance\n@@ -2365,1 +2366,1 @@\n-    print_node_block(n);                      \/\/ block\n+    print_node_block(n);                          \/\/ block\n@@ -2368,1 +2369,1 @@\n-    print_node_idx(old_node(n));              \/\/ old node\n+    print_node_idx(old_node(n));                  \/\/ old node\n@@ -2370,2 +2371,2 @@\n-  tty->print(\" \");\n-  n->dump(\"\\n\", false, tty, &_dcc);           \/\/ node dump\n+  _output->print(\" \");\n+  n->dump(\"\\n\", false, _output, &_dcc);           \/\/ node dump\n@@ -2381,1 +2382,6 @@\n-  PrintBFS bfs(this, max_distance, target, options);\n+  dump_bfs(max_distance, target, options, tty);\n+}\n+\n+\/\/ Used to dump to stream.\n+void Node::dump_bfs(const int max_distance, Node* target, const char* options, outputStream* st) const {\n+  PrintBFS bfs(this, max_distance, target, options, st);\n@@ -2525,1 +2531,1 @@\n-    C->clone_map().dump(_idx);\n+    C->clone_map().dump(_idx, st);\n","filename":"src\/hotspot\/share\/opto\/node.cpp","additions":124,"deletions":118,"binary":false,"changes":242,"status":"modified"},{"patch":"@@ -1218,1 +1218,2 @@\n-  void dump_bfs(const int max_distance, Node* target, const char* options) const; \/\/ Print BFS traversal\n+  void dump_bfs(const int max_distance, Node* target, const char* options, outputStream* st) const;\n+  void dump_bfs(const int max_distance, Node* target, const char* options) const; \/\/ directly to tty\n","filename":"src\/hotspot\/share\/opto\/node.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2071,2 +2071,6 @@\n-    tty->print(\"\\n---- After ScheduleAndBundle ----\\n\");\n-    print_scheduling();\n+    \/\/ Buffer and print all at once\n+    ResourceMark rm;\n+    stringStream ss;\n+    ss.print(\"\\n---- After ScheduleAndBundle ----\\n\");\n+    print_scheduling(&ss);\n+    tty->print(\"%s\", ss.as_string());\n@@ -2080,0 +2084,4 @@\n+  print_scheduling(tty);\n+}\n+\n+void PhaseOutput::print_scheduling(outputStream* output_stream) {\n@@ -2081,1 +2089,1 @@\n-    tty->print(\"\\nBB#%03d:\\n\", i);\n+    output_stream->print(\"\\nBB#%03d:\\n\", i);\n@@ -2086,2 +2094,2 @@\n-      tty->print(\" %-6s \", reg >= 0 && reg < REG_COUNT ? Matcher::regName[reg] : \"\");\n-      n->dump();\n+      output_stream->print(\" %-6s \", reg >= 0 && reg < REG_COUNT ? Matcher::regName[reg] : \"\");\n+      n->dump(\"\\n\", false, output_stream);\n","filename":"src\/hotspot\/share\/opto\/output.cpp","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -225,1 +225,2 @@\n-  void print_scheduling();\n+  void print_scheduling(outputStream* output_stream);\n+  void print_scheduling(); \/\/ to tty for debugging\n","filename":"src\/hotspot\/share\/opto\/output.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -158,1 +158,1 @@\n-    if (out->is_CountedLoopEnd()) {\n+    if (out->is_BaseCountedLoopEnd()) {\n","filename":"src\/hotspot\/share\/opto\/subnode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1406,0 +1406,1 @@\n+  if (s1->is_Bool() && s1->as_Bool()->_test._test != s2->as_Bool()->_test._test) return false;\n@@ -2707,1 +2708,0 @@\n-        SWPointer p1(n->as_Mem(), this, nullptr, false);\n@@ -2709,6 +2709,2 @@\n-          SWPointer p2(mem->as_Mem(), this, nullptr, false);\n-          if (p1.not_equal(p2)) {\n-            \/\/ Either Less or Greater -> provably no overlap between the two memory regions.\n-            mem = mem->in(MemNode::Memory);\n-          } else {\n-            \/\/ No proof that there is no overlap. Stop here.\n+          SWPointer p_store(mem->as_Mem(), this, nullptr, false);\n+          if (p_store.overlap_possible_with_any_in(p)) {\n@@ -2716,0 +2712,2 @@\n+          } else {\n+            mem = mem->in(MemNode::Memory);\n@@ -2802,0 +2800,8 @@\n+#ifdef ASSERT\n+        for (uint j = 0; j < p_bol->size(); j++) {\n+          Node* m = p_bol->at(j);\n+          assert(m->as_Bool()->_test._test == bol_test,\n+                 \"all bool nodes must have same test\");\n+        }\n+#endif\n+\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -725,0 +725,14 @@\n+  bool overlap_possible_with_any_in(Node_List* p) {\n+    for (uint k = 0; k < p->size(); k++) {\n+      MemNode* mem = p->at(k)->as_Mem();\n+      SWPointer p_mem(mem, _slp, nullptr, false);\n+      \/\/ Only if we know that we have Less or Greater can we\n+      \/\/ be sure that there can never be an overlap between\n+      \/\/ the two memory regions.\n+      if (!not_equal(p_mem)) {\n+        return true;\n+      }\n+    }\n+    return false;\n+  }\n+\n","filename":"src\/hotspot\/share\/opto\/superword.hpp","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -64,0 +64,1 @@\n+  { Bad,             T_ARRAY,      \"interfaces:\",   false, Node::NotAMachineReg, relocInfo::none          },  \/\/ Interfaces\n@@ -123,2 +124,2 @@\n-const TypePtr::InterfaceSet* TypeAryPtr::_array_interfaces = nullptr;\n-const TypePtr::InterfaceSet* TypeAryKlassPtr::_array_interfaces = nullptr;\n+const TypeInterfaces* TypeAryPtr::_array_interfaces = nullptr;\n+const TypeInterfaces* TypeAryKlassPtr::_array_interfaces = nullptr;\n@@ -574,1 +575,1 @@\n-  TypeAryPtr::_array_interfaces = new TypePtr::InterfaceSet(&array_interfaces);\n+  TypeAryPtr::_array_interfaces = TypeInterfaces::make(&array_interfaces);\n@@ -3255,2 +3256,2 @@\n-TypePtr::InterfaceSet::InterfaceSet()\n-        : _list(Compile::current()->type_arena(), 0, 0, nullptr),\n+TypeInterfaces::TypeInterfaces()\n+        : Type(Interfaces), _list(Compile::current()->type_arena(), 0, 0, nullptr),\n@@ -3261,2 +3262,2 @@\n-TypePtr::InterfaceSet::InterfaceSet(GrowableArray<ciInstanceKlass*>* interfaces)\n-        : _list(Compile::current()->type_arena(), interfaces->length(), 0, nullptr),\n+TypeInterfaces::TypeInterfaces(GrowableArray<ciInstanceKlass*>* interfaces)\n+        : Type(Interfaces), _list(Compile::current()->type_arena(), interfaces->length(), 0, nullptr),\n@@ -3270,1 +3271,6 @@\n-void TypePtr::InterfaceSet::initialize() {\n+const TypeInterfaces* TypeInterfaces::make(GrowableArray<ciInstanceKlass*>* interfaces) {\n+  TypeInterfaces* result = (interfaces == nullptr) ? new TypeInterfaces() : new TypeInterfaces(interfaces);\n+  return (const TypeInterfaces*)result->hashcons();\n+}\n+\n+void TypeInterfaces::initialize() {\n@@ -3276,1 +3282,1 @@\n-int TypePtr::InterfaceSet::compare(ciKlass* const& k1, ciKlass* const& k2) {\n+int TypeInterfaces::compare(ciInstanceKlass* const& k1, ciInstanceKlass* const& k2) {\n@@ -3285,1 +3291,1 @@\n-void TypePtr::InterfaceSet::add(ciKlass* interface) {\n+void TypeInterfaces::add(ciInstanceKlass* interface) {\n@@ -3291,7 +3297,3 @@\n-void TypePtr::InterfaceSet::raw_add(ciKlass* interface) {\n-  assert(interface->is_interface(), \"for interfaces only\");\n-  _list.push(interface);\n-}\n-\n-bool TypePtr::InterfaceSet::eq(const InterfaceSet& other) const {\n-  if (_list.length() != other._list.length()) {\n+bool TypeInterfaces::eq(const Type* t) const {\n+  const TypeInterfaces* other = (const TypeInterfaces*)t;\n+  if (_list.length() != other->_list.length()) {\n@@ -3302,1 +3304,1 @@\n-    ciKlass* k2 = other._list.at(i);\n+    ciKlass* k2 = other->_list.at(i);\n@@ -3310,1 +3312,1 @@\n-bool TypePtr::InterfaceSet::eq(ciInstanceKlass* k) const {\n+bool TypeInterfaces::eq(ciInstanceKlass* k) const {\n@@ -3312,1 +3314,1 @@\n-  GrowableArray<ciInstanceKlass *>* interfaces = k->as_instance_klass()->transitive_interfaces();\n+  GrowableArray<ciInstanceKlass *>* interfaces = k->transitive_interfaces();\n@@ -3318,1 +3320,1 @@\n-    _list.find_sorted<ciKlass*, compare>(interfaces->at(i), found);\n+    _list.find_sorted<ciInstanceKlass*, compare>(interfaces->at(i), found);\n@@ -3327,1 +3329,1 @@\n-uint TypePtr::InterfaceSet::hash() const {\n+uint TypeInterfaces::hash() const {\n@@ -3332,1 +3334,5 @@\n-void TypePtr::InterfaceSet::compute_hash() {\n+const Type* TypeInterfaces::xdual() const {\n+  return this;\n+}\n+\n+void TypeInterfaces::compute_hash() {\n@@ -3341,1 +3347,1 @@\n-static int compare_interfaces(ciKlass** k1, ciKlass** k2) {\n+static int compare_interfaces(ciInstanceKlass** k1, ciInstanceKlass** k2) {\n@@ -3345,1 +3351,1 @@\n-void TypePtr::InterfaceSet::dump(outputStream* st) const {\n+void TypeInterfaces::dump(outputStream* st) const {\n@@ -3351,1 +3357,1 @@\n-  GrowableArray<ciKlass*> interfaces;\n+  GrowableArray<ciInstanceKlass*> interfaces;\n@@ -3366,1 +3372,1 @@\n-void TypePtr::InterfaceSet::verify() const {\n+void TypeInterfaces::verify() const {\n@@ -3368,2 +3374,2 @@\n-    ciKlass* k1 = _list.at(i-1);\n-    ciKlass* k2 = _list.at(i);\n+    ciInstanceKlass* k1 = _list.at(i-1);\n+    ciInstanceKlass* k2 = _list.at(i);\n@@ -3376,2 +3382,2 @@\n-TypePtr::InterfaceSet TypeOopPtr::InterfaceSet::union_with(const InterfaceSet& other) const {\n-  InterfaceSet result;\n+const TypeInterfaces* TypeInterfaces::union_with(const TypeInterfaces* other) const {\n+  GrowableArray<ciInstanceKlass*> result_list;\n@@ -3380,1 +3386,1 @@\n-  while (i < _list.length() || j < other._list.length()) {\n+  while (i < _list.length() || j < other->_list.length()) {\n@@ -3382,3 +3388,3 @@\n-           (j >= other._list.length() ||\n-            compare(_list.at(i), other._list.at(j)) < 0)) {\n-      result.raw_add(_list.at(i));\n+           (j >= other->_list.length() ||\n+            compare(_list.at(i), other->_list.at(j)) < 0)) {\n+      result_list.push(_list.at(i));\n@@ -3387,1 +3393,1 @@\n-    while (j < other._list.length() &&\n+    while (j < other->_list.length() &&\n@@ -3389,2 +3395,2 @@\n-            compare(other._list.at(j), _list.at(i)) < 0)) {\n-      result.raw_add(other._list.at(j));\n+            compare(other->_list.at(j), _list.at(i)) < 0)) {\n+      result_list.push(other->_list.at(j));\n@@ -3394,3 +3400,3 @@\n-        j < other._list.length() &&\n-        _list.at(i) == other._list.at(j)) {\n-      result.raw_add(_list.at(i));\n+        j < other->_list.length() &&\n+        _list.at(i) == other->_list.at(j)) {\n+      result_list.push(_list.at(i));\n@@ -3401,1 +3407,1 @@\n-  result.initialize();\n+  const TypeInterfaces* result = TypeInterfaces::make(&result_list);\n@@ -3403,1 +3409,1 @@\n-  result.verify();\n+  result->verify();\n@@ -3405,1 +3411,1 @@\n-    assert(result._list.contains(_list.at(i)), \"missing\");\n+    assert(result->_list.contains(_list.at(i)), \"missing\");\n@@ -3407,2 +3413,2 @@\n-  for (int i = 0; i < other._list.length(); i++) {\n-    assert(result._list.contains(other._list.at(i)), \"missing\");\n+  for (int i = 0; i < other->_list.length(); i++) {\n+    assert(result->_list.contains(other->_list.at(i)), \"missing\");\n@@ -3410,2 +3416,2 @@\n-  for (int i = 0; i < result._list.length(); i++) {\n-    assert(_list.contains(result._list.at(i)) || other._list.contains(result._list.at(i)), \"missing\");\n+  for (int i = 0; i < result->_list.length(); i++) {\n+    assert(_list.contains(result->_list.at(i)) || other->_list.contains(result->_list.at(i)), \"missing\");\n@@ -3417,2 +3423,2 @@\n-TypePtr::InterfaceSet TypeOopPtr::InterfaceSet::intersection_with(const InterfaceSet& other) const {\n-  InterfaceSet result;\n+const TypeInterfaces* TypeInterfaces::intersection_with(const TypeInterfaces* other) const {\n+  GrowableArray<ciInstanceKlass*> result_list;\n@@ -3421,1 +3427,1 @@\n-  while (i < _list.length() || j < other._list.length()) {\n+  while (i < _list.length() || j < other->_list.length()) {\n@@ -3423,2 +3429,2 @@\n-           (j >= other._list.length() ||\n-            compare(_list.at(i), other._list.at(j)) < 0)) {\n+           (j >= other->_list.length() ||\n+            compare(_list.at(i), other->_list.at(j)) < 0)) {\n@@ -3427,1 +3433,1 @@\n-    while (j < other._list.length() &&\n+    while (j < other->_list.length() &&\n@@ -3429,1 +3435,1 @@\n-            compare(other._list.at(j), _list.at(i)) < 0)) {\n+            compare(other->_list.at(j), _list.at(i)) < 0)) {\n@@ -3433,3 +3439,3 @@\n-        j < other._list.length() &&\n-        _list.at(i) == other._list.at(j)) {\n-      result.raw_add(_list.at(i));\n+        j < other->_list.length() &&\n+        _list.at(i) == other->_list.at(j)) {\n+      result_list.push(_list.at(i));\n@@ -3440,1 +3446,1 @@\n-  result.initialize();\n+  const TypeInterfaces* result = TypeInterfaces::make(&result_list);\n@@ -3442,1 +3448,1 @@\n-  result.verify();\n+  result->verify();\n@@ -3444,1 +3450,1 @@\n-    assert(!other._list.contains(_list.at(i)) || result._list.contains(_list.at(i)), \"missing\");\n+    assert(!other->_list.contains(_list.at(i)) || result->_list.contains(_list.at(i)), \"missing\");\n@@ -3446,2 +3452,2 @@\n-  for (int i = 0; i < other._list.length(); i++) {\n-    assert(!_list.contains(other._list.at(i)) || result._list.contains(other._list.at(i)), \"missing\");\n+  for (int i = 0; i < other->_list.length(); i++) {\n+    assert(!_list.contains(other->_list.at(i)) || result->_list.contains(other->_list.at(i)), \"missing\");\n@@ -3449,2 +3455,2 @@\n-  for (int i = 0; i < result._list.length(); i++) {\n-    assert(_list.contains(result._list.at(i)) && other._list.contains(result._list.at(i)), \"missing\");\n+  for (int i = 0; i < result->_list.length(); i++) {\n+    assert(_list.contains(result->_list.at(i)) && other->_list.contains(result->_list.at(i)), \"missing\");\n@@ -3457,1 +3463,1 @@\n-ciKlass* TypePtr::InterfaceSet::exact_klass() const {\n+ciInstanceKlass* TypeInterfaces::exact_klass() const {\n@@ -3462,1 +3468,1 @@\n-void TypePtr::InterfaceSet::compute_exact_klass() {\n+void TypeInterfaces::compute_exact_klass() {\n@@ -3467,1 +3473,1 @@\n-  ciKlass* res = nullptr;\n+  ciInstanceKlass* res = nullptr;\n@@ -3469,1 +3475,1 @@\n-    ciInstanceKlass* interface = _list.at(i)->as_instance_klass();\n+    ciInstanceKlass* interface = _list.at(i);\n@@ -3479,1 +3485,1 @@\n-void TypePtr::InterfaceSet::verify_is_loaded() const {\n+void TypeInterfaces::verify_is_loaded() const {\n@@ -3487,0 +3493,11 @@\n+\/\/ Can't be implemented because there's no way to know if the type is above or below the center line.\n+const Type* TypeInterfaces::xmeet(const Type* t) const {\n+  ShouldNotReachHere();\n+  return Type::xmeet(t);\n+}\n+\n+bool TypeInterfaces::singleton(void) const {\n+  ShouldNotReachHere();\n+  return Type::singleton();\n+}\n+\n@@ -3488,1 +3505,1 @@\n-TypeOopPtr::TypeOopPtr(TYPES t, PTR ptr, ciKlass* k, const InterfaceSet& interfaces, bool xk, ciObject* o, int offset,\n+TypeOopPtr::TypeOopPtr(TYPES t, PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, bool xk, ciObject* o, int offset,\n@@ -3500,1 +3517,1 @@\n-    interfaces.verify_is_loaded();\n+    interfaces->verify_is_loaded();\n@@ -3577,1 +3594,2 @@\n-  return (TypeOopPtr*)(new TypeOopPtr(OopPtr, ptr, k, InterfaceSet(), xk, o, offset, instance_id, speculative, inline_depth))->hashcons();\n+  const TypeInterfaces* interfaces = TypeInterfaces::make();\n+  return (TypeOopPtr*)(new TypeOopPtr(OopPtr, ptr, k, interfaces, xk, o, offset, instance_id, speculative, inline_depth))->hashcons();\n@@ -3722,1 +3740,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(klass, true, true, false, interface_handling);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(klass, true, true, false, interface_handling);\n@@ -3955,1 +3973,1 @@\n-TypePtr::InterfaceSet TypeOopPtr::meet_interfaces(const TypeOopPtr* other) const {\n+const TypeInterfaces* TypeOopPtr::meet_interfaces(const TypeOopPtr* other) const {\n@@ -3957,1 +3975,1 @@\n-    return _interfaces.union_with(other->_interfaces);\n+    return _interfaces->union_with(other->_interfaces);\n@@ -3963,1 +3981,1 @@\n-  return _interfaces.intersection_with(other->_interfaces);\n+  return _interfaces->intersection_with(other->_interfaces);\n@@ -3992,1 +4010,1 @@\n-  if (_interfaces.empty()) {\n+  if (_interfaces->empty()) {\n@@ -3996,1 +4014,1 @@\n-    if (_interfaces.eq(_klass->as_instance_klass())) {\n+    if (_interfaces->eq(_klass->as_instance_klass())) {\n@@ -4001,1 +4019,1 @@\n-  return _interfaces.exact_klass();\n+  return _interfaces->exact_klass();\n@@ -4005,1 +4023,1 @@\n-TypeInstPtr::TypeInstPtr(PTR ptr, ciKlass* k, const InterfaceSet& interfaces, bool xk, ciObject* o, int off,\n+TypeInstPtr::TypeInstPtr(PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, bool xk, ciObject* o, int off,\n@@ -4017,1 +4035,1 @@\n-                                     const InterfaceSet& interfaces,\n+                                     const TypeInterfaces* interfaces,\n@@ -4049,1 +4067,1 @@\n-TypePtr::InterfaceSet TypePtr::interfaces(ciKlass*& k, bool klass, bool interface, bool array, InterfaceHandling interface_handling) {\n+const TypeInterfaces* TypePtr::interfaces(ciKlass*& k, bool klass, bool interface, bool array, InterfaceHandling interface_handling) {\n@@ -4055,1 +4073,1 @@\n-        InterfaceSet interfaces;\n+        const TypeInterfaces* interfaces = TypeInterfaces::make();\n@@ -4059,1 +4077,1 @@\n-      InterfaceSet interfaces(k_interfaces);\n+      const TypeInterfaces* interfaces = TypeInterfaces::make(k_interfaces);\n@@ -4068,1 +4086,1 @@\n-    InterfaceSet interfaces;\n+    const TypeInterfaces* interfaces = TypeInterfaces::make();\n@@ -4079,1 +4097,1 @@\n-  return *TypeAryPtr::_array_interfaces;\n+  return TypeAryPtr::_array_interfaces;\n@@ -4133,1 +4151,1 @@\n-const TypeInstPtr *TypeInstPtr::xmeet_unloaded(const TypeInstPtr *tinst, const InterfaceSet& interfaces) const {\n+const TypeInstPtr *TypeInstPtr::xmeet_unloaded(const TypeInstPtr *tinst, const TypeInterfaces* interfaces) const {\n@@ -4290,1 +4308,1 @@\n-    InterfaceSet interfaces = meet_interfaces(tinst);\n+    const TypeInterfaces* interfaces = meet_interfaces(tinst);\n@@ -4350,2 +4368,2 @@\n-template<class T> TypePtr::MeetResult TypePtr::meet_instptr(PTR& ptr, InterfaceSet& interfaces, const T* this_type, const T* other_type,\n-                      ciKlass*& res_klass, bool& res_xk) {\n+template<class T> TypePtr::MeetResult TypePtr::meet_instptr(PTR& ptr, const TypeInterfaces*& interfaces, const T* this_type, const T* other_type,\n+                                                            ciKlass*& res_klass, bool& res_xk) {\n@@ -4358,2 +4376,2 @@\n-  InterfaceSet this_interfaces = this_type->interfaces();\n-  InterfaceSet other_interfaces = other_type->interfaces();\n+  const TypeInterfaces* this_interfaces = this_type->interfaces();\n+  const TypeInterfaces* other_interfaces = other_type->interfaces();\n@@ -4444,1 +4462,1 @@\n-  interfaces = this_interfaces.intersection_with(other_interfaces);\n+  interfaces = this_interfaces->intersection_with(other_interfaces);\n@@ -4480,1 +4498,1 @@\n-    _interfaces.eq(p->_interfaces) &&\n+    _interfaces->eq(p->_interfaces) &&\n@@ -4487,1 +4505,1 @@\n-  return klass()->hash() + TypeOopPtr::hash() + _interfaces.hash();\n+  return klass()->hash() + TypeOopPtr::hash() + _interfaces->hash();\n@@ -4510,1 +4528,1 @@\n-  _interfaces.dump(st);\n+  _interfaces->dump(st);\n@@ -4594,1 +4612,1 @@\n-    if (_interfaces.eq(ik)) {\n+    if (_interfaces->eq(ik)) {\n@@ -4611,1 +4629,1 @@\n-  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces.empty()) {\n+  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces->empty()) {\n@@ -4616,1 +4634,1 @@\n-         (!this_xk || this_one->_interfaces.contains(other->_interfaces));\n+         (!this_xk || this_one->_interfaces->contains(other->_interfaces));\n@@ -4626,1 +4644,1 @@\n-  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces.empty()) {\n+  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces->empty()) {\n@@ -4631,1 +4649,1 @@\n-    return other->klass() == ciEnv::current()->Object_klass() && this_one->_interfaces.contains(other->_interfaces);\n+    return other->klass() == ciEnv::current()->Object_klass() && this_one->_interfaces->contains(other->_interfaces);\n@@ -4648,1 +4666,1 @@\n-    return this_one->_klass->is_subtype_of(other->_klass);\n+    return this_one->klass()->is_subtype_of(other->klass());\n@@ -4974,3 +4992,3 @@\n-    InterfaceSet interfaces = meet_interfaces(tp);\n-    InterfaceSet tp_interfaces = tp->_interfaces;\n-    InterfaceSet this_interfaces = _interfaces;\n+    const TypeInterfaces* interfaces = meet_interfaces(tp);\n+    const TypeInterfaces* tp_interfaces = tp->_interfaces;\n+    const TypeInterfaces* this_interfaces = _interfaces;\n@@ -4984,1 +5002,1 @@\n-      if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces.contains(tp_interfaces) && !tp->klass_is_exact()) {\n+      if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces->contains(tp_interfaces) && !tp->klass_is_exact()) {\n@@ -4990,1 +5008,1 @@\n-        interfaces = this_interfaces.intersection_with(tp_interfaces);\n+        interfaces = this_interfaces->intersection_with(tp_interfaces);\n@@ -5003,1 +5021,1 @@\n-        if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces.contains(tp_interfaces) && !tp->klass_is_exact()) {\n+        if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces->contains(tp_interfaces) && !tp->klass_is_exact()) {\n@@ -5017,1 +5035,1 @@\n-      interfaces = this_interfaces.intersection_with(tp_interfaces);\n+      interfaces = this_interfaces->intersection_with(tp_interfaces);\n@@ -5131,1 +5149,1 @@\n-  _interfaces.dump(st);\n+  _interfaces->dump(st);\n@@ -5581,1 +5599,1 @@\n-    const InterfaceSet interfaces = TypePtr::interfaces(klass, true, true, false, interface_handling);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(klass, true, true, false, interface_handling);\n@@ -5589,1 +5607,1 @@\n-TypeKlassPtr::TypeKlassPtr(TYPES t, PTR ptr, ciKlass* klass, const InterfaceSet& interfaces, int offset)\n+TypeKlassPtr::TypeKlassPtr(TYPES t, PTR ptr, ciKlass* klass, const TypeInterfaces* interfaces, int offset)\n@@ -5598,1 +5616,1 @@\n-  if (_interfaces.empty()) {\n+  if (_interfaces->empty()) {\n@@ -5602,1 +5620,1 @@\n-    if (_interfaces.eq(_klass->as_instance_klass())) {\n+    if (_interfaces->eq(_klass->as_instance_klass())) {\n@@ -5607,1 +5625,1 @@\n-  return _interfaces.exact_klass();\n+  return _interfaces->exact_klass();\n@@ -5615,1 +5633,1 @@\n-    _interfaces.eq(p->_interfaces) &&\n+    _interfaces->eq(p->_interfaces) &&\n@@ -5622,1 +5640,1 @@\n-  return TypePtr::hash() + _interfaces.hash();\n+  return TypePtr::hash() + _interfaces->hash();\n@@ -5649,1 +5667,1 @@\n-TypePtr::InterfaceSet TypeKlassPtr::meet_interfaces(const TypeKlassPtr* other) const {\n+const TypeInterfaces* TypeKlassPtr::meet_interfaces(const TypeKlassPtr* other) const {\n@@ -5651,1 +5669,1 @@\n-    return _interfaces.union_with(other->_interfaces);\n+    return _interfaces->union_with(other->_interfaces);\n@@ -5657,1 +5675,1 @@\n-  return _interfaces.intersection_with(other->_interfaces);\n+  return _interfaces->intersection_with(other->_interfaces);\n@@ -5697,1 +5715,1 @@\n-      _interfaces.dump(st);\n+      _interfaces->dump(st);\n@@ -5738,1 +5756,1 @@\n-const TypeInstKlassPtr *TypeInstKlassPtr::make(PTR ptr, ciKlass* k, const InterfaceSet& interfaces, int offset) {\n+const TypeInstKlassPtr *TypeInstKlassPtr::make(PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, int offset) {\n@@ -5790,1 +5808,1 @@\n-  TypePtr::InterfaceSet interfaces = _interfaces;\n+  const TypeInterfaces* interfaces = _interfaces;\n@@ -5799,1 +5817,1 @@\n-        if (_interfaces.eq(sub)) {\n+        if (_interfaces->eq(sub)) {\n@@ -5883,1 +5901,1 @@\n-    InterfaceSet interfaces = meet_interfaces(tkls);\n+    const TypeInterfaces* interfaces = meet_interfaces(tkls);\n@@ -5906,3 +5924,3 @@\n-    InterfaceSet interfaces = meet_interfaces(tp);\n-    InterfaceSet tp_interfaces = tp->_interfaces;\n-    InterfaceSet this_interfaces = _interfaces;\n+    const TypeInterfaces* interfaces = meet_interfaces(tp);\n+    const TypeInterfaces* tp_interfaces = tp->_interfaces;\n+    const TypeInterfaces* this_interfaces = _interfaces;\n@@ -5916,1 +5934,1 @@\n-      if (klass()->equals(ciEnv::current()->Object_klass()) && tp_interfaces.contains(this_interfaces) && !klass_is_exact()) {\n+      if (klass()->equals(ciEnv::current()->Object_klass()) && tp_interfaces->contains(this_interfaces) && !klass_is_exact()) {\n@@ -5921,1 +5939,1 @@\n-        interfaces = _interfaces.intersection_with(tp->_interfaces);\n+        interfaces = _interfaces->intersection_with(tp->_interfaces);\n@@ -5934,1 +5952,1 @@\n-        if (klass()->equals(ciEnv::current()->Object_klass()) && tp_interfaces.contains(this_interfaces) && !klass_is_exact()) {\n+        if (klass()->equals(ciEnv::current()->Object_klass()) && tp_interfaces->contains(this_interfaces) && !klass_is_exact()) {\n@@ -5944,1 +5962,1 @@\n-      interfaces = this_interfaces.intersection_with(tp_interfaces);\n+      interfaces = this_interfaces->intersection_with(tp_interfaces);\n@@ -5973,1 +5991,1 @@\n-  if (other->klass()->equals(ciEnv::current()->Object_klass()) && other->_interfaces.empty()) {\n+  if (other->klass()->equals(ciEnv::current()->Object_klass()) && other->_interfaces->empty()) {\n@@ -5977,1 +5995,1 @@\n-  return this_one->_klass->is_subtype_of(other->_klass) && this_one->_interfaces.contains(other->_interfaces);\n+  return this_one->klass()->is_subtype_of(other->klass()) && this_one->_interfaces->contains(other->_interfaces);\n@@ -5992,1 +6010,1 @@\n-  return this_one->_klass->equals(other->_klass) && this_one->_interfaces.eq(other->_interfaces);\n+  return this_one->klass()->equals(other->klass()) && this_one->_interfaces->eq(other->_interfaces);\n@@ -6006,1 +6024,1 @@\n-    return !this_exact && this_one->_klass->equals(ciEnv::current()->Object_klass())  && other->_interfaces.contains(this_one->_interfaces);\n+    return !this_exact && this_one->klass()->equals(ciEnv::current()->Object_klass())  && other->_interfaces->contains(this_one->_interfaces);\n@@ -6015,1 +6033,1 @@\n-  if (!this_one->_klass->is_subtype_of(other->_klass) && !other->_klass->is_subtype_of(this_one->_klass)) {\n+  if (!this_one->klass()->is_subtype_of(other->klass()) && !other->klass()->is_subtype_of(this_one->klass())) {\n@@ -6020,1 +6038,1 @@\n-    return this_one->_klass->is_subtype_of(other->_klass) && this_one->_interfaces.contains(other->_interfaces);\n+    return this_one->klass()->is_subtype_of(other->klass()) && this_one->_interfaces->contains(other->_interfaces);\n@@ -6038,1 +6056,1 @@\n-  TypePtr::InterfaceSet interfaces = _interfaces;\n+  const TypeInterfaces* interfaces = _interfaces;\n@@ -6046,1 +6064,1 @@\n-        if (_interfaces.eq(sub)) {\n+        if (_interfaces->eq(sub)) {\n@@ -6100,1 +6118,1 @@\n-ciKlass* TypeAryPtr::compute_klass(DEBUG_ONLY(bool verify)) const {\n+ciKlass* TypeAryPtr::compute_klass() const {\n@@ -6121,22 +6139,1 @@\n-    \/\/ Cannot compute array klass directly from basic type,\n-    \/\/ since subtypes of TypeInt all have basic type T_INT.\n-#ifdef ASSERT\n-    if (verify && el->isa_int()) {\n-      \/\/ Check simple cases when verifying klass.\n-      BasicType bt = T_ILLEGAL;\n-      if (el == TypeInt::BYTE) {\n-        bt = T_BYTE;\n-      } else if (el == TypeInt::SHORT) {\n-        bt = T_SHORT;\n-      } else if (el == TypeInt::CHAR) {\n-        bt = T_CHAR;\n-      } else if (el == TypeInt::INT) {\n-        bt = T_INT;\n-      } else {\n-        return _klass; \/\/ just return specified klass\n-      }\n-      return ciTypeArrayKlass::make(bt);\n-    }\n-#endif\n-    assert(!el->isa_int(),\n-           \"integral arrays must be pre-equipped with a class\");\n+    assert(!el->isa_int(), \"integral arrays must be pre-equipped with a class\");\n@@ -6340,3 +6337,3 @@\n-    InterfaceSet interfaces = meet_interfaces(tp);\n-    InterfaceSet tp_interfaces = tp->_interfaces;\n-    InterfaceSet this_interfaces = _interfaces;\n+    const TypeInterfaces* interfaces = meet_interfaces(tp);\n+    const TypeInterfaces* tp_interfaces = tp->_interfaces;\n+    const TypeInterfaces* this_interfaces = _interfaces;\n@@ -6350,1 +6347,1 @@\n-      if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces.intersection_with(tp_interfaces).eq(tp_interfaces) && !tp->klass_is_exact()) {\n+      if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces->intersection_with(tp_interfaces)->eq(tp_interfaces) && !tp->klass_is_exact()) {\n@@ -6355,1 +6352,1 @@\n-        interfaces = this_interfaces.intersection_with(tp->_interfaces);\n+        interfaces = this_interfaces->intersection_with(tp->_interfaces);\n@@ -6368,1 +6365,1 @@\n-        if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces.intersection_with(tp_interfaces).eq(tp_interfaces) && !tp->klass_is_exact()) {\n+        if (tp->klass()->equals(ciEnv::current()->Object_klass()) && this_interfaces->intersection_with(tp_interfaces)->eq(tp_interfaces) && !tp->klass_is_exact()) {\n@@ -6377,1 +6374,1 @@\n-      interfaces = this_interfaces.intersection_with(tp_interfaces);\n+      interfaces = this_interfaces->intersection_with(tp_interfaces);\n@@ -6390,1 +6387,1 @@\n-  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces.empty() && other_exact) {\n+  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces->empty() && other_exact) {\n@@ -6402,1 +6399,1 @@\n-    return other->klass() == ciEnv::current()->Object_klass() && other->_interfaces.intersection_with(this_one->_interfaces).eq(other->_interfaces) && other_exact;\n+    return other->klass() == ciEnv::current()->Object_klass() && other->_interfaces->intersection_with(this_one->_interfaces)->eq(other->_interfaces) && other_exact;\n@@ -6418,1 +6415,1 @@\n-    return this_one->_klass->is_subtype_of(other->_klass);\n+    return this_one->klass()->is_subtype_of(other->klass());\n@@ -6450,2 +6447,1 @@\n-    assert(this_one->_klass != nullptr && other->_klass != nullptr, \"\");\n-    return this_one->_klass->equals(other->_klass);\n+    return this_one->klass()->equals(other->klass());\n@@ -6462,1 +6458,1 @@\n-  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces.empty() && other_exact) {\n+  if (other->klass() == ciEnv::current()->Object_klass() && other->_interfaces->empty() && other_exact) {\n@@ -6471,1 +6467,1 @@\n-    return other->_klass->equals(ciEnv::current()->Object_klass()) && other->_interfaces.intersection_with(this_one->_interfaces).eq(other->_interfaces);\n+    return other->klass()->equals(ciEnv::current()->Object_klass()) && other->_interfaces->intersection_with(this_one->_interfaces)->eq(other->_interfaces);\n@@ -6490,1 +6486,1 @@\n-    return this_one->_klass->is_subtype_of(other->_klass);\n+    return this_one->klass()->is_subtype_of(other->klass());\n@@ -6546,1 +6542,1 @@\n-      _interfaces.dump(st);\n+      _interfaces->dump(st);\n","filename":"src\/hotspot\/share\/opto\/type.cpp","additions":176,"deletions":180,"binary":false,"changes":356,"status":"modified"},{"patch":"@@ -97,0 +97,2 @@\n+    Interfaces,                 \/\/ Set of implemented interfaces for oop types\n+\n@@ -875,0 +877,42 @@\n+\/\/ Set of implemented interfaces. Referenced from TypeOopPtr and TypeKlassPtr.\n+class TypeInterfaces : public Type {\n+private:\n+  GrowableArray<ciInstanceKlass*> _list;\n+  uint _hash;\n+  ciInstanceKlass* _exact_klass;\n+  DEBUG_ONLY(bool _initialized;)\n+\n+  void initialize();\n+\n+  void add(ciInstanceKlass* interface);\n+  void verify() const NOT_DEBUG_RETURN;\n+  void compute_hash();\n+  void compute_exact_klass();\n+  TypeInterfaces();\n+  TypeInterfaces(GrowableArray<ciInstanceKlass*>* interfaces);\n+\n+  NONCOPYABLE(TypeInterfaces);\n+public:\n+  static const TypeInterfaces* make(GrowableArray<ciInstanceKlass*>* interfaces = nullptr);\n+  bool eq(const Type* other) const;\n+  bool eq(ciInstanceKlass* k) const;\n+  uint hash() const;\n+  const Type *xdual() const;\n+  void dump(outputStream* st) const;\n+  const TypeInterfaces* union_with(const TypeInterfaces* other) const;\n+  const TypeInterfaces* intersection_with(const TypeInterfaces* other) const;\n+  bool contains(const TypeInterfaces* other) const {\n+    return intersection_with(other)->eq(other);\n+  }\n+  bool empty() const { return _list.length() == 0; }\n+\n+  ciInstanceKlass* exact_klass() const;\n+  void verify_is_loaded() const NOT_DEBUG_RETURN;\n+\n+  static int compare(ciInstanceKlass* const& k1, ciInstanceKlass* const& k2);\n+\n+  const Type* xmeet(const Type* t) const;\n+\n+  bool singleton(void) const;\n+};\n+\n@@ -884,41 +928,1 @@\n-  class InterfaceSet {\n-  private:\n-    GrowableArray<ciKlass*> _list;\n-    uint _hash;\n-    ciKlass* _exact_klass;\n-    DEBUG_ONLY(bool _initialized;)\n-\n-    void initialize();\n-    void raw_add(ciKlass* interface);\n-    void add(ciKlass* interface);\n-    void verify() const NOT_DEBUG_RETURN;\n-    void compute_hash();\n-    void compute_exact_klass();\n-  public:\n-    InterfaceSet();\n-    InterfaceSet(GrowableArray<ciInstanceKlass*>* interfaces);\n-    bool eq(const InterfaceSet& other) const;\n-    bool eq(ciInstanceKlass* k) const;\n-    uint hash() const;\n-    void dump(outputStream* st) const;\n-    InterfaceSet union_with(const InterfaceSet& other) const;\n-    InterfaceSet intersection_with(const InterfaceSet& other) const;\n-    bool contains(const InterfaceSet& other) const {\n-      return intersection_with(other).eq(other);\n-    }\n-    bool empty() const { return _list.length() == 0; }\n-\n-    inline void* operator new(size_t x) throw() {\n-      Compile* compile = Compile::current();\n-      return compile->type_arena()->AmallocWords(x);\n-    }\n-    inline void operator delete(void* ptr) {\n-      ShouldNotReachHere();\n-    }\n-    ciKlass* exact_klass() const;\n-    void verify_is_loaded() const NOT_DEBUG_RETURN;\n-\n-    static int compare(ciKlass* const& k1, ciKlass* const& k2);\n-  };\n-\n-  static InterfaceSet interfaces(ciKlass*& k, bool klass, bool interface, bool array, InterfaceHandling interface_handling);\n+  static const TypeInterfaces* interfaces(ciKlass*& k, bool klass, bool interface, bool array, InterfaceHandling interface_handling);\n@@ -984,1 +988,1 @@\n-  template<class T> static TypePtr::MeetResult meet_instptr(PTR& ptr, InterfaceSet& interfaces, const T* this_type,\n+  template<class T> static TypePtr::MeetResult meet_instptr(PTR& ptr, const TypeInterfaces*& interfaces, const T* this_type,\n@@ -1106,2 +1110,2 @@\n- TypeOopPtr(TYPES t, PTR ptr, ciKlass* k, const InterfaceSet& interfaces, bool xk, ciObject* o, int offset, int instance_id,\n-             const TypePtr* speculative, int inline_depth);\n+ TypeOopPtr(TYPES t, PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, bool xk, ciObject* o, int offset, int instance_id,\n+            const TypePtr* speculative, int inline_depth);\n@@ -1123,1 +1127,1 @@\n-  const InterfaceSet _interfaces;\n+  const TypeInterfaces* _interfaces;\n@@ -1141,1 +1145,1 @@\n-  InterfaceSet meet_interfaces(const TypeOopPtr* other) const;\n+  const TypeInterfaces* meet_interfaces(const TypeOopPtr* other) const;\n@@ -1255,1 +1259,1 @@\n-  virtual const InterfaceSet interfaces() const {\n+  virtual const TypeInterfaces* interfaces() const {\n@@ -1276,1 +1280,1 @@\n-  TypeInstPtr(PTR ptr, ciKlass* k, const InterfaceSet& interfaces, bool xk, ciObject* o, int offset, int instance_id,\n+  TypeInstPtr(PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, bool xk, ciObject* o, int off, int instance_id,\n@@ -1298,1 +1302,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n@@ -1304,1 +1308,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n@@ -1310,1 +1314,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(klass, true, true, false, interface_handling);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(klass, true, true, false, interface_handling);\n@@ -1316,1 +1320,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(klass, true, false, false, ignore_interfaces);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(klass, true, false, false, ignore_interfaces);\n@@ -1322,1 +1326,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(klass, true, false, false, ignore_interfaces);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(klass, true, false, false, ignore_interfaces);\n@@ -1326,1 +1330,1 @@\n-  static const TypeInstPtr *make(PTR ptr, ciKlass* k, const InterfaceSet& interfaces, bool xk, ciObject* o, int offset,\n+  static const TypeInstPtr *make(PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, bool xk, ciObject* o, int offset,\n@@ -1332,1 +1336,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n@@ -1360,1 +1364,1 @@\n-  virtual const TypeInstPtr *xmeet_unloaded(const TypeInstPtr *t, const InterfaceSet& interfaces) const;\n+  virtual const TypeInstPtr *xmeet_unloaded(const TypeInstPtr *tinst, const TypeInterfaces* interfaces) const;\n@@ -1379,1 +1383,1 @@\n-    return _klass->equals(other->is_instptr()->_klass) && _interfaces.eq(other->is_instptr()->_interfaces);\n+    return _klass->equals(other->is_instptr()->_klass) && _interfaces->eq(other->is_instptr()->_interfaces);\n@@ -1393,1 +1397,1 @@\n-    : TypeOopPtr(AryPtr,ptr,k,*_array_interfaces,xk,o,offset, instance_id, speculative, inline_depth),\n+    : TypeOopPtr(AryPtr,ptr,k,_array_interfaces,xk,o,offset, instance_id, speculative, inline_depth),\n@@ -1412,1 +1416,1 @@\n-  ciKlass* compute_klass(DEBUG_ONLY(bool verify = false)) const;\n+  ciKlass* compute_klass() const;\n@@ -1416,1 +1420,1 @@\n-  static const InterfaceSet* _array_interfaces;\n+  static const TypeInterfaces* _array_interfaces;\n@@ -1554,1 +1558,1 @@\n-  TypeKlassPtr(TYPES t, PTR ptr, ciKlass* klass, const InterfaceSet& interfaces, int offset);\n+  TypeKlassPtr(TYPES t, PTR ptr, ciKlass* klass, const TypeInterfaces* interfaces, int offset);\n@@ -1566,2 +1570,2 @@\n-  const InterfaceSet _interfaces;\n-  InterfaceSet meet_interfaces(const TypeKlassPtr* other) const;\n+  const TypeInterfaces* _interfaces;\n+  const TypeInterfaces* meet_interfaces(const TypeKlassPtr* other) const;\n@@ -1626,1 +1630,1 @@\n-  virtual const InterfaceSet interfaces() const {\n+  virtual const TypeInterfaces* interfaces() const {\n@@ -1646,1 +1650,1 @@\n-  TypeInstKlassPtr(PTR ptr, ciKlass* klass, const InterfaceSet& interfaces, int offset)\n+  TypeInstKlassPtr(PTR ptr, ciKlass* klass, const TypeInterfaces* interfaces, int offset)\n@@ -1665,1 +1669,1 @@\n-    InterfaceSet interfaces = TypePtr::interfaces(k, true, true, false, interface_handling);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(k, true, true, false, interface_handling);\n@@ -1668,1 +1672,1 @@\n-  static const TypeInstKlassPtr* make(PTR ptr, ciKlass* k, const InterfaceSet& interfaces, int offset);\n+  static const TypeInstKlassPtr* make(PTR ptr, ciKlass* k, const TypeInterfaces* interfaces, int offset);\n@@ -1671,1 +1675,1 @@\n-    const TypePtr::InterfaceSet interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n+    const TypeInterfaces* interfaces = TypePtr::interfaces(k, true, false, false, ignore_interfaces);\n@@ -1706,1 +1710,1 @@\n-  static const InterfaceSet* _array_interfaces;\n+  static const TypeInterfaces* _array_interfaces;\n@@ -1708,1 +1712,1 @@\n-    : TypeKlassPtr(AryKlassPtr, ptr, klass, *_array_interfaces, offset), _elem(elem) {\n+    : TypeKlassPtr(AryKlassPtr, ptr, klass, _array_interfaces, offset), _elem(elem) {\n","filename":"src\/hotspot\/share\/opto\/type.hpp","additions":74,"deletions":70,"binary":false,"changes":144,"status":"modified"},{"patch":"@@ -933,0 +933,5 @@\n+  if (selected_method->is_abstract()) {\n+    ResourceMark rm(THREAD);\n+    THROW_MSG(vmSymbols::java_lang_AbstractMethodError(), selected_method->name()->as_C_string());\n+  }\n+\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1868,0 +1868,6 @@\n+WB_ENTRY(jobjectArray, WB_GetResolvedReferences(JNIEnv* env, jobject wb, jclass klass))\n+  InstanceKlass* ik = InstanceKlass::cast(java_lang_Class::as_Klass(JNIHandles::resolve(klass)));\n+  objArrayOop resolved_refs= ik->constants()->resolved_references();\n+  return (jobjectArray)JNIHandles::make_local(THREAD, resolved_refs);\n+WB_END\n+\n@@ -2561,0 +2567,4 @@\n+WB_ENTRY(void, WB_CleanMetaspaces(JNIEnv* env, jobject target))\n+  ClassLoaderDataGraph::safepoint_and_clean_metaspaces();\n+WB_END\n+\n@@ -2748,0 +2758,1 @@\n+  {CC\"getResolvedReferences0\", CC\"(Ljava\/lang\/Class;)[Ljava\/lang\/Object;\", (void*)&WB_GetResolvedReferences},\n@@ -2841,0 +2852,1 @@\n+  {CC\"cleanMetaspaces\", CC\"()V\",                      (void*)&WB_CleanMetaspaces},\n","filename":"src\/hotspot\/share\/prims\/whitebox.cpp","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -243,0 +243,10 @@\n+      #elif _MSC_VER == 1934\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.4 (VS2022)\"\n+      #elif _MSC_VER == 1935\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.5 (VS2022)\"\n+      #elif _MSC_VER == 1936\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.6 (VS2022)\"\n+      #elif _MSC_VER == 1937\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.7 (VS2022)\"\n+      #elif _MSC_VER == 1938\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.8 (VS2022)\"\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -1618,0 +1618,4 @@\n+  \/\/ These objects may escape when we return to Interpreter after deoptimization.\n+  \/\/ We need barrier so that stores that initialize these objects can't be reordered\n+  \/\/ with subsequent stores that make these objects accessible by other threads.\n+  OrderAccess::storestore();\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -298,0 +298,3 @@\n+  product(size_t, InlineCacheBufferSize, 10*K, EXPERIMENTAL,                \\\n+          \"InlineCacheBuffer size\")                                         \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1590,0 +1590,7 @@\n+\/\/ Like name() but doesn't include the protection check. This must only be\n+\/\/ called when it is known to be safe, even though the protection check can't tell\n+\/\/ that e.g. when this thread is the init_thread() - see instanceKlass.cpp.\n+const char* JavaThread::name_raw() const  {\n+  return get_thread_name_string();\n+}\n+\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -907,0 +907,1 @@\n+  const char* name_raw() const;\n","filename":"src\/hotspot\/share\/runtime\/javaThread.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -107,10 +107,4 @@\n-  if (!SafepointSynchronize::is_at_safepoint() && !is_owning_thread()) {\n-    \/\/ When a foreign thread inspects this thread's lock-stack, it may see\n-    \/\/ bad references here when a concurrent collector has not gotten\n-    \/\/ to processing the lock-stack, yet. Call StackWaterMark::start_processing()\n-    \/\/ to ensure that all references are valid.\n-    StackWatermark* watermark = StackWatermarkSet::get(get_thread(), StackWatermarkKind::gc);\n-    if (watermark != nullptr) {\n-      watermark->start_processing();\n-    }\n-  }\n+\n+  \/\/ Can't poke around in thread oops without having started stack watermark processing.\n+  assert(StackWatermarkSet::processing_started(get_thread()), \"Processing must have started!\");\n+\n","filename":"src\/hotspot\/share\/runtime\/lockStack.inline.hpp","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -279,4 +279,1 @@\n-  if (!_object.is_null()) {\n-    \/\/ Release object's oop storage if it hasn't already been done.\n-    release_object();\n-  }\n+  _object.release(_oop_storage);\n@@ -287,3 +284,0 @@\n-  if (_object.is_null()) {\n-    return nullptr;\n-  }\n@@ -294,3 +288,0 @@\n-  if (_object.is_null()) {\n-    return nullptr;\n-  }\n@@ -601,3 +592,0 @@\n-  \/\/ Release object's oop storage since the ObjectMonitor has been deflated:\n-  release_object();\n-\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.cpp","additions":1,"deletions":13,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -366,1 +366,0 @@\n-  void      release_object() { _object.release(_oop_storage); _object.set_null(); }\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -666,0 +666,2 @@\n+  static void           prepare_native_symbols();\n+\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1649,1 +1649,2 @@\n-static size_t delete_monitors(GrowableArray<ObjectMonitor*>* delete_list) {\n+static size_t delete_monitors(Thread* current, GrowableArray<ObjectMonitor*>* delete_list,\n+                              LogStream* ls, elapsedTimer* timer_p) {\n@@ -1651,1 +1652,1 @@\n-  size_t count = 0;\n+  size_t deleted_count = 0;\n@@ -1654,1 +1655,6 @@\n-    count++;\n+    deleted_count++;\n+    if (current->is_Java_thread()) {\n+      \/\/ A JavaThread must check for a safepoint\/handshake and honor it.\n+      ObjectSynchronizer::chk_for_block_req(JavaThread::cast(current), \"deletion\", \"deleted_count\",\n+                                            deleted_count, ls, timer_p);\n+    }\n@@ -1656,1 +1662,1 @@\n-  return count;\n+  return deleted_count;\n@@ -1734,24 +1740,1 @@\n-    if (current->is_Java_thread()) {\n-      if (ls != NULL) {\n-        timer.stop();\n-        ls->print_cr(\"before setting blocked: unlinked_count=\" SIZE_FORMAT\n-                     \", in_use_list stats: ceiling=\" SIZE_FORMAT \", count=\"\n-                     SIZE_FORMAT \", max=\" SIZE_FORMAT,\n-                     unlinked_count, in_use_list_ceiling(),\n-                     _in_use_list.count(), _in_use_list.max());\n-      }\n-      \/\/ Mark the calling JavaThread blocked (safepoint safe) while we free\n-      \/\/ the ObjectMonitors so we don't delay safepoints whilst doing that.\n-      ThreadBlockInVM tbivm(JavaThread::cast(current));\n-      if (ls != NULL) {\n-        ls->print_cr(\"after setting blocked: in_use_list stats: ceiling=\"\n-                     SIZE_FORMAT \", count=\" SIZE_FORMAT \", max=\" SIZE_FORMAT,\n-                     in_use_list_ceiling(), _in_use_list.count(), _in_use_list.max());\n-        timer.start();\n-      }\n-      deleted_count = delete_monitors(&delete_list);\n-      \/\/ ThreadBlockInVM is destroyed here\n-    } else {\n-      \/\/ A non-JavaThread can just free the ObjectMonitors:\n-      deleted_count = delete_monitors(&delete_list);\n-    }\n+    deleted_count = delete_monitors(current, &delete_list, ls, &timer);\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.cpp","additions":11,"deletions":28,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -83,0 +83,1 @@\n+#include \"runtime\/stackWatermarkSet.inline.hpp\"\n@@ -1232,0 +1233,6 @@\n+    \/\/ Need to start processing before accessing oops in the thread.\n+    StackWatermark* watermark = StackWatermarkSet::get(q, StackWatermarkKind::gc);\n+    if (watermark != nullptr) {\n+      watermark->start_processing();\n+    }\n+\n","filename":"src\/hotspot\/share\/runtime\/threads.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -644,1 +644,1 @@\n-  #define DEFAULT_CACHE_LINE_SIZE 64\n+#error \"Platform should define DEFAULT_CACHE_LINE_SIZE\"\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -77,4 +77,0 @@\n-#ifdef AIX\n-#include \"loadlib_aix.hpp\"\n-#endif\n-\n@@ -433,1 +429,1 @@\n-    if (fr.is_java_frame() || fr.is_native_frame() || fr.is_runtime_frame()) {\n+    if (fr.is_interpreted_frame() || (fr.cb() != nullptr && fr.cb()->frame_size() > 0)) {\n@@ -489,1 +485,1 @@\n-    st->print_cr(\"#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\");\n+    st->print_cr(\"#   This process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\");\n@@ -721,0 +717,5 @@\n+  \/\/ avoid the cache update for malloc\/mmap errors\n+  if (should_report_bug(_id)) {\n+    os::prepare_native_symbols();\n+  }\n+\n@@ -827,1 +828,1 @@\n-          st->print(\" bytes\");\n+          st->print(\" bytes.\");\n@@ -829,1 +830,1 @@\n-            st->print(\" for \");\n+            st->print(\" Error detail: \");\n@@ -1344,1 +1345,1 @@\n-  AIX_ONLY(LoadedLibraries::reload());\n+  os::prepare_native_symbols();\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -718,0 +718,1 @@\n+        toStringCache = null;\n@@ -729,0 +730,1 @@\n+        toStringCache = null;\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringBuffer.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1146,1 +1146,2 @@\n-        offer(e);\n+        Objects.requireNonNull(e);\n+        xfer(e, -1L);\n@@ -1159,1 +1160,3 @@\n-        return offer(e);\n+        Objects.requireNonNull(e);\n+        xfer(e, -1L);\n+        return true;\n@@ -1184,1 +1187,3 @@\n-        return offer(e);\n+        Objects.requireNonNull(e);\n+        xfer(e, -1L);\n+        return true;\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/LinkedTransferQueue.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -122,1 +122,9 @@\n-                    if (ioe != null)\n+                    if (ioe != null) {\n+                        Arrays.fill(passwd, ' ');\n+                        try {\n+                            if (reader instanceof LineReader lr) {\n+                                lr.zeroOut();\n+                            }\n+                        } catch (IOException x) {\n+                            \/\/ ignore\n+                        }\n@@ -124,0 +132,1 @@\n+                    }\n@@ -198,0 +207,3 @@\n+                if (reader instanceof LineReader lr) {\n+                    lr.zeroOut();\n+                }\n@@ -231,0 +243,5 @@\n+        public void zeroOut() throws IOException {\n+            if (in instanceof StreamDecoder sd) {\n+                sd.fillZeroToPosition();\n+            }\n+        }\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/io\/JdkConsoleImpl.java","additions":19,"deletions":2,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -45,0 +45,2 @@\n+import java.util.Arrays;\n+\n@@ -274,0 +276,19 @@\n+    public void fillZeroToPosition() throws IOException {\n+        Object lock = this.lock;\n+        if (lock instanceof InternalLock locker) {\n+            locker.lock();\n+            try {\n+                lockedFillZeroToPosition();\n+            } finally {\n+                locker.unlock();\n+            }\n+        } else {\n+            synchronized (lock) {\n+                lockedFillZeroToPosition();\n+            }\n+        }\n+    }\n+\n+    private void lockedFillZeroToPosition() {\n+        Arrays.fill(bb.array(), bb.arrayOffset(), bb.arrayOffset() + bb.position(), (byte)0);\n+    }\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/cs\/StreamDecoder.java","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -155,0 +155,4 @@\n+        if (content == null) {\n+            throw new ParsingException(\"content is null\");\n+        }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/security\/pkcs\/PKCS7.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -272,0 +272,1 @@\n+XCG=XCG\n@@ -497,0 +498,1 @@\n+xcg=Caribbean Guilder\n","filename":"src\/java.base\/share\/classes\/sun\/util\/resources\/CurrencyNames.properties","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-dataVersion=175\n+dataVersion=176\n@@ -58,1 +58,1 @@\n-    XBB956-XBC957-XBD958-XCD951-XDR960-XFO000-XFU000-XOF952-XPD964-XPF953-\\\n+    XBB956-XBC957-XBD958-XCD951-XCG532-XDR960-XFO000-XFU000-XOF952-XPD964-XPF953-\\\n@@ -192,1 +192,1 @@\n-HR=HRK;2022-12-31-23-00-00;EUR\n+HR=EUR\n@@ -196,1 +196,1 @@\n-CW=ANG\n+CW=ANG;2025-04-01-04-00-00;XCG\n@@ -513,1 +513,1 @@\n-SX=ANG\n+SX=ANG;2025-04-01-04-00-00;XCG\n","filename":"src\/java.base\/share\/data\/currency\/CurrencyData.properties","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1,2 +1,2 @@\n-Github: https:\/\/raw.githubusercontent.com\/publicsuffix\/list\/88467c960d6cdad2ca1623e892e5e17506bc269f\/public_suffix_list.dat\n-Date: 2023-04-14\n+Github: https:\/\/raw.githubusercontent.com\/publicsuffix\/list\/b5bf572c52988dbe9d865b8f090ea819024a9936\/public_suffix_list.dat\n+Date: 2023-11-09\n","filename":"src\/java.base\/share\/data\/publicsuffixlist\/VERSION","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1062,3 +1062,1 @@\n-\/\/ Former \"domaines sectoriels\", still registration suffixes\n-aeroport.fr\n-avocat.fr\n+\/\/ Other SLDs now selfmanaged out of AFNIC range. Former \"domaines sectoriels\", still registration suffixes\n@@ -1067,4 +1065,0 @@\n-chambagri.fr\n-chirurgiens-dentistes.fr\n-experts-comptables.fr\n-geometre-expert.fr\n@@ -1073,5 +1067,0 @@\n-medecin.fr\n-notaires.fr\n-pharmacien.fr\n-port.fr\n-veterinaire.fr\n@@ -5149,0 +5138,1 @@\n+griw.gov.pl\n@@ -5151,1 +5141,0 @@\n-us.gov.pl\n@@ -5153,0 +5142,1 @@\n+konsulat.gov.pl\n@@ -5154,3 +5144,0 @@\n-kwpsp.gov.pl\n-psp.gov.pl\n-wskr.gov.pl\n@@ -5158,0 +5145,2 @@\n+kwpsp.gov.pl\n+mup.gov.pl\n@@ -5159,7 +5148,6 @@\n-ug.gov.pl\n-um.gov.pl\n-umig.gov.pl\n-ugim.gov.pl\n-upow.gov.pl\n-uw.gov.pl\n-starostwo.gov.pl\n+oia.gov.pl\n+oirm.gov.pl\n+oke.gov.pl\n+oow.gov.pl\n+oschr.gov.pl\n+oum.gov.pl\n@@ -5167,0 +5155,2 @@\n+pinb.gov.pl\n+piw.gov.pl\n@@ -5168,0 +5158,2 @@\n+pr.gov.pl\n+psp.gov.pl\n@@ -5172,0 +5164,2 @@\n+sdn.gov.pl\n+sko.gov.pl\n@@ -5174,2 +5168,9 @@\n-wsa.gov.pl\n-sko.gov.pl\n+starostwo.gov.pl\n+ug.gov.pl\n+ugim.gov.pl\n+um.gov.pl\n+umig.gov.pl\n+upow.gov.pl\n+uppo.gov.pl\n+us.gov.pl\n+uw.gov.pl\n@@ -5177,0 +5178,1 @@\n+wif.gov.pl\n@@ -5179,1 +5181,0 @@\n-pinb.gov.pl\n@@ -5182,2 +5183,0 @@\n-wzmiuw.gov.pl\n-piw.gov.pl\n@@ -5185,7 +5184,4 @@\n-griw.gov.pl\n-wif.gov.pl\n-oum.gov.pl\n-sdn.gov.pl\n-zp.gov.pl\n-uppo.gov.pl\n-mup.gov.pl\n+wkz.gov.pl\n+wsa.gov.pl\n+wskr.gov.pl\n+wsse.gov.pl\n@@ -5193,2 +5189,3 @@\n-konsulat.gov.pl\n-oirm.gov.pl\n+wzmiuw.gov.pl\n+zp.gov.pl\n+zpisdn.gov.pl\n@@ -5879,0 +5876,1 @@\n+kropyvnytskyi.ua\n@@ -5886,0 +5884,1 @@\n+luhansk.ua\n@@ -5909,0 +5908,1 @@\n+uzhhorod.ua\n@@ -5914,0 +5914,1 @@\n+zakarpattia.ua\n@@ -6025,1 +6026,0 @@\n-k12.de.us\n@@ -6267,1 +6267,2 @@\n-\/\/ vn : https:\/\/www.dot.vn\/vnnic\/vnnic\/domainregistration.jsp\n+\/\/ vn : https:\/\/www.vnnic.vn\/en\/domain\/cctld-vn\n+\/\/ https:\/\/vnnic.vn\/sites\/default\/files\/tailieu\/vn.cctld.domains.txt\n@@ -6269,0 +6270,3 @@\n+ac.vn\n+ai.vn\n+biz.vn\n@@ -6270,2 +6274,0 @@\n-net.vn\n-org.vn\n@@ -6274,3 +6276,2 @@\n-int.vn\n-ac.vn\n-biz.vn\n+health.vn\n+id.vn\n@@ -6278,0 +6279,2 @@\n+int.vn\n+io.vn\n@@ -6279,0 +6282,2 @@\n+net.vn\n+org.vn\n@@ -6280,1 +6285,65 @@\n-health.vn\n+\n+\/\/ vn geographical names\n+angiang.vn\n+bacgiang.vn\n+backan.vn\n+baclieu.vn\n+bacninh.vn\n+baria-vungtau.vn\n+bentre.vn\n+binhdinh.vn\n+binhduong.vn\n+binhphuoc.vn\n+binhthuan.vn\n+camau.vn\n+cantho.vn\n+caobang.vn\n+daklak.vn\n+daknong.vn\n+danang.vn\n+dienbien.vn\n+dongnai.vn\n+dongthap.vn\n+gialai.vn\n+hagiang.vn\n+haiduong.vn\n+haiphong.vn\n+hanam.vn\n+hanoi.vn\n+hatinh.vn\n+haugiang.vn\n+hoabinh.vn\n+hungyen.vn\n+khanhhoa.vn\n+kiengiang.vn\n+kontum.vn\n+laichau.vn\n+lamdong.vn\n+langson.vn\n+laocai.vn\n+longan.vn\n+namdinh.vn\n+nghean.vn\n+ninhbinh.vn\n+ninhthuan.vn\n+phutho.vn\n+phuyen.vn\n+quangbinh.vn\n+quangnam.vn\n+quangngai.vn\n+quangninh.vn\n+quangtri.vn\n+soctrang.vn\n+sonla.vn\n+tayninh.vn\n+thaibinh.vn\n+thainguyen.vn\n+thanhhoa.vn\n+thanhphohochiminh.vn\n+thuathienhue.vn\n+tiengiang.vn\n+travinh.vn\n+tuyenquang.vn\n+vinhlong.vn\n+vinhphuc.vn\n+yenbai.vn\n@@ -6644,1 +6713,1 @@\n-\/\/ List of new gTLDs imported from https:\/\/www.icann.org\/resources\/registries\/gtlds\/v2\/gtlds.json on 2023-04-14T15:13:16Z\n+\/\/ List of new gTLDs imported from https:\/\/www.icann.org\/resources\/registries\/gtlds\/v2\/gtlds.json on 2023-11-03T15:13:18Z\n@@ -6646,1 +6715,2 @@\n-\/\/ aaa : 2015-02-26 American Automobile Association, Inc.\n+\/\/ aaa : American Automobile Association, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aaa.html\n@@ -6649,1 +6719,2 @@\n-\/\/ aarp : 2015-05-21 AARP\n+\/\/ aarp : AARP\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aarp.html\n@@ -6652,4 +6723,2 @@\n-\/\/ abarth : 2015-07-30 Fiat Chrysler Automobiles N.V.\n-abarth\n-\n-\/\/ abb : 2014-10-24 ABB Ltd\n+\/\/ abb : ABB Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/abb.html\n@@ -6658,1 +6727,2 @@\n-\/\/ abbott : 2014-07-24 Abbott Laboratories, Inc.\n+\/\/ abbott : Abbott Laboratories, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/abbott.html\n@@ -6661,1 +6731,2 @@\n-\/\/ abbvie : 2015-07-30 AbbVie Inc.\n+\/\/ abbvie : AbbVie Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/abbvie.html\n@@ -6664,1 +6735,2 @@\n-\/\/ abc : 2015-07-30 Disney Enterprises, Inc.\n+\/\/ abc : Disney Enterprises, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/abc.html\n@@ -6667,1 +6739,2 @@\n-\/\/ able : 2015-06-25 Able Inc.\n+\/\/ able : Able Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/able.html\n@@ -6670,1 +6743,2 @@\n-\/\/ abogado : 2014-04-24 Registry Services, LLC\n+\/\/ abogado : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/abogado.html\n@@ -6673,1 +6747,2 @@\n-\/\/ abudhabi : 2015-07-30 Abu Dhabi Systems and Information Centre\n+\/\/ abudhabi : Abu Dhabi Systems and Information Centre\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/abudhabi.html\n@@ -6676,1 +6751,2 @@\n-\/\/ academy : 2013-11-07 Binky Moon, LLC\n+\/\/ academy : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/academy.html\n@@ -6679,1 +6755,2 @@\n-\/\/ accenture : 2014-08-15 Accenture plc\n+\/\/ accenture : Accenture plc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/accenture.html\n@@ -6682,1 +6759,2 @@\n-\/\/ accountant : 2014-11-20 dot Accountant Limited\n+\/\/ accountant : dot Accountant Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/accountant.html\n@@ -6685,1 +6763,2 @@\n-\/\/ accountants : 2014-03-20 Binky Moon, LLC\n+\/\/ accountants : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/accountants.html\n@@ -6688,1 +6767,2 @@\n-\/\/ aco : 2015-01-08 ACO Severin Ahlmann GmbH & Co. KG\n+\/\/ aco : ACO Severin Ahlmann GmbH & Co. KG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aco.html\n@@ -6691,1 +6771,2 @@\n-\/\/ actor : 2013-12-12 Dog Beach, LLC\n+\/\/ actor : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/actor.html\n@@ -6694,1 +6775,2 @@\n-\/\/ ads : 2014-12-04 Charleston Road Registry Inc.\n+\/\/ ads : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ads.html\n@@ -6697,1 +6779,2 @@\n-\/\/ adult : 2014-10-16 ICM Registry AD LLC\n+\/\/ adult : ICM Registry AD LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/adult.html\n@@ -6700,1 +6783,2 @@\n-\/\/ aeg : 2015-03-19 Aktiebolaget Electrolux\n+\/\/ aeg : Aktiebolaget Electrolux\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aeg.html\n@@ -6703,1 +6787,2 @@\n-\/\/ aetna : 2015-05-21 Aetna Life Insurance Company\n+\/\/ aetna : Aetna Life Insurance Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aetna.html\n@@ -6706,1 +6791,2 @@\n-\/\/ afl : 2014-10-02 Australian Football League\n+\/\/ afl : Australian Football League\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/afl.html\n@@ -6709,1 +6795,2 @@\n-\/\/ africa : 2014-03-24 ZA Central Registry NPC trading as Registry.Africa\n+\/\/ africa : ZA Central Registry NPC trading as Registry.Africa\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/africa.html\n@@ -6712,1 +6799,2 @@\n-\/\/ agakhan : 2015-04-23 Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ agakhan : Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/agakhan.html\n@@ -6715,1 +6803,2 @@\n-\/\/ agency : 2013-11-14 Binky Moon, LLC\n+\/\/ agency : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/agency.html\n@@ -6718,1 +6807,2 @@\n-\/\/ aig : 2014-12-18 American International Group, Inc.\n+\/\/ aig : American International Group, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aig.html\n@@ -6721,1 +6811,2 @@\n-\/\/ airbus : 2015-07-30 Airbus S.A.S.\n+\/\/ airbus : Airbus S.A.S.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/airbus.html\n@@ -6724,1 +6815,2 @@\n-\/\/ airforce : 2014-03-06 Dog Beach, LLC\n+\/\/ airforce : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/airforce.html\n@@ -6727,1 +6819,2 @@\n-\/\/ airtel : 2014-10-24 Bharti Airtel Limited\n+\/\/ airtel : Bharti Airtel Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/airtel.html\n@@ -6730,1 +6823,2 @@\n-\/\/ akdn : 2015-04-23 Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ akdn : Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/akdn.html\n@@ -6733,4 +6827,2 @@\n-\/\/ alfaromeo : 2015-07-31 Fiat Chrysler Automobiles N.V.\n-alfaromeo\n-\n-\/\/ alibaba : 2015-01-15 Alibaba Group Holding Limited\n+\/\/ alibaba : Alibaba Group Holding Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/alibaba.html\n@@ -6739,1 +6831,2 @@\n-\/\/ alipay : 2015-01-15 Alibaba Group Holding Limited\n+\/\/ alipay : Alibaba Group Holding Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/alipay.html\n@@ -6742,1 +6835,2 @@\n-\/\/ allfinanz : 2014-07-03 Allfinanz Deutsche Vermgensberatung Aktiengesellschaft\n+\/\/ allfinanz : Allfinanz Deutsche Vermgensberatung Aktiengesellschaft\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/allfinanz.html\n@@ -6745,1 +6839,2 @@\n-\/\/ allstate : 2015-07-31 Allstate Fire and Casualty Insurance Company\n+\/\/ allstate : Allstate Fire and Casualty Insurance Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/allstate.html\n@@ -6748,1 +6843,2 @@\n-\/\/ ally : 2015-06-18 Ally Financial Inc.\n+\/\/ ally : Ally Financial Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ally.html\n@@ -6751,1 +6847,2 @@\n-\/\/ alsace : 2014-07-02 Region Grand Est\n+\/\/ alsace : Region Grand Est\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/alsace.html\n@@ -6754,1 +6851,2 @@\n-\/\/ alstom : 2015-07-30 ALSTOM\n+\/\/ alstom : ALSTOM\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/alstom.html\n@@ -6757,1 +6855,2 @@\n-\/\/ amazon : 2019-12-19 Amazon Registry Services, Inc.\n+\/\/ amazon : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/amazon.html\n@@ -6760,1 +6859,2 @@\n-\/\/ americanexpress : 2015-07-31 American Express Travel Related Services Company, Inc.\n+\/\/ americanexpress : American Express Travel Related Services Company, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/americanexpress.html\n@@ -6763,1 +6863,2 @@\n-\/\/ americanfamily : 2015-07-23 AmFam, Inc.\n+\/\/ americanfamily : AmFam, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/americanfamily.html\n@@ -6766,1 +6867,2 @@\n-\/\/ amex : 2015-07-31 American Express Travel Related Services Company, Inc.\n+\/\/ amex : American Express Travel Related Services Company, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/amex.html\n@@ -6769,1 +6871,2 @@\n-\/\/ amfam : 2015-07-23 AmFam, Inc.\n+\/\/ amfam : AmFam, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/amfam.html\n@@ -6772,1 +6875,2 @@\n-\/\/ amica : 2015-05-28 Amica Mutual Insurance Company\n+\/\/ amica : Amica Mutual Insurance Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/amica.html\n@@ -6775,1 +6879,2 @@\n-\/\/ amsterdam : 2014-07-24 Gemeente Amsterdam\n+\/\/ amsterdam : Gemeente Amsterdam\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/amsterdam.html\n@@ -6778,1 +6883,2 @@\n-\/\/ analytics : 2014-12-18 Campus IP LLC\n+\/\/ analytics : Campus IP LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/analytics.html\n@@ -6781,1 +6887,2 @@\n-\/\/ android : 2014-08-07 Charleston Road Registry Inc.\n+\/\/ android : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/android.html\n@@ -6784,1 +6891,2 @@\n-\/\/ anquan : 2015-01-08 Beijing Qihu Keji Co., Ltd.\n+\/\/ anquan : Beijing Qihu Keji Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/anquan.html\n@@ -6787,1 +6895,2 @@\n-\/\/ anz : 2015-07-31 Australia and New Zealand Banking Group Limited\n+\/\/ anz : Australia and New Zealand Banking Group Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/anz.html\n@@ -6790,1 +6899,2 @@\n-\/\/ aol : 2015-09-17 Oath Inc.\n+\/\/ aol : Oath Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aol.html\n@@ -6793,1 +6903,2 @@\n-\/\/ apartments : 2014-12-11 Binky Moon, LLC\n+\/\/ apartments : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/apartments.html\n@@ -6796,1 +6907,2 @@\n-\/\/ app : 2015-05-14 Charleston Road Registry Inc.\n+\/\/ app : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/app.html\n@@ -6799,1 +6911,2 @@\n-\/\/ apple : 2015-05-14 Apple Inc.\n+\/\/ apple : Apple Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/apple.html\n@@ -6802,1 +6915,2 @@\n-\/\/ aquarelle : 2014-07-24 Aquarelle.com\n+\/\/ aquarelle : Aquarelle.com\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aquarelle.html\n@@ -6805,1 +6919,2 @@\n-\/\/ arab : 2015-11-12 League of Arab States\n+\/\/ arab : League of Arab States\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/arab.html\n@@ -6808,1 +6923,2 @@\n-\/\/ aramco : 2014-11-20 Aramco Services Company\n+\/\/ aramco : Aramco Services Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aramco.html\n@@ -6811,1 +6927,2 @@\n-\/\/ archi : 2014-02-06 Identity Digital Limited\n+\/\/ archi : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/archi.html\n@@ -6814,1 +6931,2 @@\n-\/\/ army : 2014-03-06 Dog Beach, LLC\n+\/\/ army : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/army.html\n@@ -6817,1 +6935,2 @@\n-\/\/ art : 2016-03-24 UK Creative Ideas Limited\n+\/\/ art : UK Creative Ideas Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/art.html\n@@ -6820,1 +6939,2 @@\n-\/\/ arte : 2014-12-11 Association Relative  la Tlvision Europenne G.E.I.E.\n+\/\/ arte : Association Relative  la Tlvision Europenne G.E.I.E.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/arte.html\n@@ -6823,1 +6943,2 @@\n-\/\/ asda : 2015-07-31 Wal-Mart Stores, Inc.\n+\/\/ asda : Wal-Mart Stores, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/asda.html\n@@ -6826,1 +6947,2 @@\n-\/\/ associates : 2014-03-06 Binky Moon, LLC\n+\/\/ associates : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/associates.html\n@@ -6829,1 +6951,2 @@\n-\/\/ athleta : 2015-07-30 The Gap, Inc.\n+\/\/ athleta : The Gap, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/athleta.html\n@@ -6832,1 +6955,2 @@\n-\/\/ attorney : 2014-03-20 Dog Beach, LLC\n+\/\/ attorney : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/attorney.html\n@@ -6835,1 +6959,2 @@\n-\/\/ auction : 2014-03-20 Dog Beach, LLC\n+\/\/ auction : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/auction.html\n@@ -6838,1 +6963,2 @@\n-\/\/ audi : 2015-05-21 AUDI Aktiengesellschaft\n+\/\/ audi : AUDI Aktiengesellschaft\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/audi.html\n@@ -6841,1 +6967,2 @@\n-\/\/ audible : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ audible : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/audible.html\n@@ -6844,1 +6971,2 @@\n-\/\/ audio : 2014-03-20 XYZ.COM LLC\n+\/\/ audio : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/audio.html\n@@ -6847,1 +6975,2 @@\n-\/\/ auspost : 2015-08-13 Australian Postal Corporation\n+\/\/ auspost : Australian Postal Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/auspost.html\n@@ -6850,1 +6979,2 @@\n-\/\/ author : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ author : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/author.html\n@@ -6853,1 +6983,2 @@\n-\/\/ auto : 2014-11-13 XYZ.COM LLC\n+\/\/ auto : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/auto.html\n@@ -6856,1 +6987,2 @@\n-\/\/ autos : 2014-01-09 XYZ.COM LLC\n+\/\/ autos : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/autos.html\n@@ -6859,1 +6991,2 @@\n-\/\/ avianca : 2015-01-08 Avianca Inc.\n+\/\/ avianca : Avianca Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/avianca.html\n@@ -6862,1 +6995,2 @@\n-\/\/ aws : 2015-06-25 AWS Registry LLC\n+\/\/ aws : AWS Registry LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/aws.html\n@@ -6865,1 +6999,2 @@\n-\/\/ axa : 2013-12-19 AXA Group Operations SAS\n+\/\/ axa : AXA Group Operations SAS\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/axa.html\n@@ -6868,1 +7003,2 @@\n-\/\/ azure : 2014-12-18 Microsoft Corporation\n+\/\/ azure : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/azure.html\n@@ -6871,1 +7007,2 @@\n-\/\/ baby : 2015-04-09 XYZ.COM LLC\n+\/\/ baby : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/baby.html\n@@ -6874,1 +7011,2 @@\n-\/\/ baidu : 2015-01-08 Baidu, Inc.\n+\/\/ baidu : Baidu, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/baidu.html\n@@ -6877,1 +7015,2 @@\n-\/\/ banamex : 2015-07-30 Citigroup Inc.\n+\/\/ banamex : Citigroup Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/banamex.html\n@@ -6880,1 +7019,2 @@\n-\/\/ bananarepublic : 2015-07-31 The Gap, Inc.\n+\/\/ bananarepublic : The Gap, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bananarepublic.html\n@@ -6883,1 +7023,2 @@\n-\/\/ band : 2014-06-12 Dog Beach, LLC\n+\/\/ band : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/band.html\n@@ -6886,1 +7027,2 @@\n-\/\/ bank : 2014-09-25 fTLD Registry Services LLC\n+\/\/ bank : fTLD Registry Services LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bank.html\n@@ -6889,1 +7031,2 @@\n-\/\/ bar : 2013-12-12 Punto 2012 Sociedad Anonima Promotora de Inversion de Capital Variable\n+\/\/ bar : Punto 2012 Sociedad Anonima Promotora de Inversion de Capital Variable\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bar.html\n@@ -6892,1 +7035,2 @@\n-\/\/ barcelona : 2014-07-24 Municipi de Barcelona\n+\/\/ barcelona : Municipi de Barcelona\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/barcelona.html\n@@ -6895,1 +7039,2 @@\n-\/\/ barclaycard : 2014-11-20 Barclays Bank PLC\n+\/\/ barclaycard : Barclays Bank PLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/barclaycard.html\n@@ -6898,1 +7043,2 @@\n-\/\/ barclays : 2014-11-20 Barclays Bank PLC\n+\/\/ barclays : Barclays Bank PLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/barclays.html\n@@ -6901,1 +7047,2 @@\n-\/\/ barefoot : 2015-06-11 Gallo Vineyards, Inc.\n+\/\/ barefoot : Gallo Vineyards, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/barefoot.html\n@@ -6904,1 +7051,2 @@\n-\/\/ bargains : 2013-11-14 Binky Moon, LLC\n+\/\/ bargains : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bargains.html\n@@ -6907,1 +7055,2 @@\n-\/\/ baseball : 2015-10-29 MLB Advanced Media DH, LLC\n+\/\/ baseball : MLB Advanced Media DH, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/baseball.html\n@@ -6910,1 +7059,2 @@\n-\/\/ basketball : 2015-08-20 Fdration Internationale de Basketball (FIBA)\n+\/\/ basketball : Fdration Internationale de Basketball (FIBA)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/basketball.html\n@@ -6913,1 +7063,2 @@\n-\/\/ bauhaus : 2014-04-17 Werkhaus GmbH\n+\/\/ bauhaus : Werkhaus GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bauhaus.html\n@@ -6916,1 +7067,2 @@\n-\/\/ bayern : 2014-01-23 Bayern Connect GmbH\n+\/\/ bayern : Bayern Connect GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bayern.html\n@@ -6919,1 +7071,2 @@\n-\/\/ bbc : 2014-12-18 British Broadcasting Corporation\n+\/\/ bbc : British Broadcasting Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bbc.html\n@@ -6922,1 +7075,2 @@\n-\/\/ bbt : 2015-07-23 BB&T Corporation\n+\/\/ bbt : BB&T Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bbt.html\n@@ -6925,1 +7079,2 @@\n-\/\/ bbva : 2014-10-02 BANCO BILBAO VIZCAYA ARGENTARIA, S.A.\n+\/\/ bbva : BANCO BILBAO VIZCAYA ARGENTARIA, S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bbva.html\n@@ -6928,1 +7083,2 @@\n-\/\/ bcg : 2015-04-02 The Boston Consulting Group, Inc.\n+\/\/ bcg : The Boston Consulting Group, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bcg.html\n@@ -6931,1 +7087,2 @@\n-\/\/ bcn : 2014-07-24 Municipi de Barcelona\n+\/\/ bcn : Municipi de Barcelona\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bcn.html\n@@ -6934,1 +7091,2 @@\n-\/\/ beats : 2015-05-14 Beats Electronics, LLC\n+\/\/ beats : Beats Electronics, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/beats.html\n@@ -6937,1 +7095,2 @@\n-\/\/ beauty : 2015-12-03 XYZ.COM LLC\n+\/\/ beauty : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/beauty.html\n@@ -6940,1 +7099,2 @@\n-\/\/ beer : 2014-01-09 Registry Services, LLC\n+\/\/ beer : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/beer.html\n@@ -6943,1 +7103,2 @@\n-\/\/ bentley : 2014-12-18 Bentley Motors Limited\n+\/\/ bentley : Bentley Motors Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bentley.html\n@@ -6946,1 +7107,2 @@\n-\/\/ berlin : 2013-10-31 dotBERLIN GmbH & Co. KG\n+\/\/ berlin : dotBERLIN GmbH & Co. KG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/berlin.html\n@@ -6949,1 +7111,2 @@\n-\/\/ best : 2013-12-19 BestTLD Pty Ltd\n+\/\/ best : BestTLD Pty Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/best.html\n@@ -6952,1 +7115,2 @@\n-\/\/ bestbuy : 2015-07-31 BBY Solutions, Inc.\n+\/\/ bestbuy : BBY Solutions, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bestbuy.html\n@@ -6955,1 +7119,2 @@\n-\/\/ bet : 2015-05-07 Identity Digital Limited\n+\/\/ bet : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bet.html\n@@ -6958,1 +7123,2 @@\n-\/\/ bharti : 2014-01-09 Bharti Enterprises (Holding) Private Limited\n+\/\/ bharti : Bharti Enterprises (Holding) Private Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bharti.html\n@@ -6961,1 +7127,2 @@\n-\/\/ bible : 2014-06-19 American Bible Society\n+\/\/ bible : American Bible Society\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bible.html\n@@ -6964,1 +7131,2 @@\n-\/\/ bid : 2013-12-19 dot Bid Limited\n+\/\/ bid : dot Bid Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bid.html\n@@ -6967,1 +7135,2 @@\n-\/\/ bike : 2013-08-27 Binky Moon, LLC\n+\/\/ bike : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bike.html\n@@ -6970,1 +7139,2 @@\n-\/\/ bing : 2014-12-18 Microsoft Corporation\n+\/\/ bing : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bing.html\n@@ -6973,1 +7143,2 @@\n-\/\/ bingo : 2014-12-04 Binky Moon, LLC\n+\/\/ bingo : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bingo.html\n@@ -6976,1 +7147,2 @@\n-\/\/ bio : 2014-03-06 Identity Digital Limited\n+\/\/ bio : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bio.html\n@@ -6979,1 +7151,2 @@\n-\/\/ black : 2014-01-16 Identity Digital Limited\n+\/\/ black : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/black.html\n@@ -6982,1 +7155,2 @@\n-\/\/ blackfriday : 2014-01-16 Registry Services, LLC\n+\/\/ blackfriday : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/blackfriday.html\n@@ -6985,1 +7159,2 @@\n-\/\/ blockbuster : 2015-07-30 Dish DBS Corporation\n+\/\/ blockbuster : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/blockbuster.html\n@@ -6988,1 +7163,2 @@\n-\/\/ blog : 2015-05-14 Knock Knock WHOIS There, LLC\n+\/\/ blog : Knock Knock WHOIS There, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/blog.html\n@@ -6991,1 +7167,2 @@\n-\/\/ bloomberg : 2014-07-17 Bloomberg IP Holdings LLC\n+\/\/ bloomberg : Bloomberg IP Holdings LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bloomberg.html\n@@ -6994,1 +7171,2 @@\n-\/\/ blue : 2013-11-07 Identity Digital Limited\n+\/\/ blue : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/blue.html\n@@ -6997,1 +7175,2 @@\n-\/\/ bms : 2014-10-30 Bristol-Myers Squibb Company\n+\/\/ bms : Bristol-Myers Squibb Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bms.html\n@@ -7000,1 +7179,2 @@\n-\/\/ bmw : 2014-01-09 Bayerische Motoren Werke Aktiengesellschaft\n+\/\/ bmw : Bayerische Motoren Werke Aktiengesellschaft\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bmw.html\n@@ -7003,1 +7183,2 @@\n-\/\/ bnpparibas : 2014-05-29 BNP Paribas\n+\/\/ bnpparibas : BNP Paribas\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bnpparibas.html\n@@ -7006,1 +7187,2 @@\n-\/\/ boats : 2014-12-04 XYZ.COM LLC\n+\/\/ boats : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/boats.html\n@@ -7009,1 +7191,2 @@\n-\/\/ boehringer : 2015-07-09 Boehringer Ingelheim International GmbH\n+\/\/ boehringer : Boehringer Ingelheim International GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/boehringer.html\n@@ -7012,1 +7195,2 @@\n-\/\/ bofa : 2015-07-31 Bank of America Corporation\n+\/\/ bofa : Bank of America Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bofa.html\n@@ -7015,1 +7199,2 @@\n-\/\/ bom : 2014-10-16 Ncleo de Informao e Coordenao do Ponto BR - NIC.br\n+\/\/ bom : Ncleo de Informao e Coordenao do Ponto BR - NIC.br\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bom.html\n@@ -7018,1 +7203,2 @@\n-\/\/ bond : 2014-06-05 ShortDot SA\n+\/\/ bond : ShortDot SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bond.html\n@@ -7021,1 +7207,2 @@\n-\/\/ boo : 2014-01-30 Charleston Road Registry Inc.\n+\/\/ boo : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/boo.html\n@@ -7024,1 +7211,2 @@\n-\/\/ book : 2015-08-27 Amazon Registry Services, Inc.\n+\/\/ book : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/book.html\n@@ -7027,1 +7215,2 @@\n-\/\/ booking : 2015-07-16 Booking.com B.V.\n+\/\/ booking : Booking.com B.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/booking.html\n@@ -7030,1 +7219,2 @@\n-\/\/ bosch : 2015-06-18 Robert Bosch GMBH\n+\/\/ bosch : Robert Bosch GMBH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bosch.html\n@@ -7033,1 +7223,2 @@\n-\/\/ bostik : 2015-05-28 Bostik SA\n+\/\/ bostik : Bostik SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bostik.html\n@@ -7036,1 +7227,2 @@\n-\/\/ boston : 2015-12-10 Registry Services, LLC\n+\/\/ boston : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/boston.html\n@@ -7039,1 +7231,2 @@\n-\/\/ bot : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ bot : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bot.html\n@@ -7042,1 +7235,2 @@\n-\/\/ boutique : 2013-11-14 Binky Moon, LLC\n+\/\/ boutique : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/boutique.html\n@@ -7045,1 +7239,2 @@\n-\/\/ box : 2015-11-12 Intercap Registry Inc.\n+\/\/ box : Intercap Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/box.html\n@@ -7048,1 +7243,2 @@\n-\/\/ bradesco : 2014-12-18 Banco Bradesco S.A.\n+\/\/ bradesco : Banco Bradesco S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bradesco.html\n@@ -7051,1 +7247,2 @@\n-\/\/ bridgestone : 2014-12-18 Bridgestone Corporation\n+\/\/ bridgestone : Bridgestone Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bridgestone.html\n@@ -7054,1 +7251,2 @@\n-\/\/ broadway : 2014-12-22 Celebrate Broadway, Inc.\n+\/\/ broadway : Celebrate Broadway, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/broadway.html\n@@ -7057,1 +7255,2 @@\n-\/\/ broker : 2014-12-11 Dog Beach, LLC\n+\/\/ broker : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/broker.html\n@@ -7060,1 +7259,2 @@\n-\/\/ brother : 2015-01-29 Brother Industries, Ltd.\n+\/\/ brother : Brother Industries, Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/brother.html\n@@ -7063,1 +7263,2 @@\n-\/\/ brussels : 2014-02-06 DNS.be vzw\n+\/\/ brussels : DNS.be vzw\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/brussels.html\n@@ -7066,1 +7267,2 @@\n-\/\/ build : 2013-11-07 Plan Bee LLC\n+\/\/ build : Plan Bee LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/build.html\n@@ -7069,1 +7271,2 @@\n-\/\/ builders : 2013-11-07 Binky Moon, LLC\n+\/\/ builders : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/builders.html\n@@ -7072,1 +7275,2 @@\n-\/\/ business : 2013-11-07 Binky Moon, LLC\n+\/\/ business : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/business.html\n@@ -7075,1 +7279,2 @@\n-\/\/ buy : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ buy : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/buy.html\n@@ -7078,1 +7283,2 @@\n-\/\/ buzz : 2013-10-02 DOTSTRATEGY CO.\n+\/\/ buzz : DOTSTRATEGY CO.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/buzz.html\n@@ -7081,1 +7287,2 @@\n-\/\/ bzh : 2014-02-27 Association www.bzh\n+\/\/ bzh : Association www.bzh\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/bzh.html\n@@ -7084,1 +7291,2 @@\n-\/\/ cab : 2013-10-24 Binky Moon, LLC\n+\/\/ cab : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cab.html\n@@ -7087,1 +7295,2 @@\n-\/\/ cafe : 2015-02-11 Binky Moon, LLC\n+\/\/ cafe : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cafe.html\n@@ -7090,1 +7299,2 @@\n-\/\/ cal : 2014-07-24 Charleston Road Registry Inc.\n+\/\/ cal : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cal.html\n@@ -7093,1 +7303,2 @@\n-\/\/ call : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ call : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/call.html\n@@ -7096,1 +7307,2 @@\n-\/\/ calvinklein : 2015-07-30 PVH gTLD Holdings LLC\n+\/\/ calvinklein : PVH gTLD Holdings LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/calvinklein.html\n@@ -7099,1 +7311,2 @@\n-\/\/ cam : 2016-04-21 Cam Connecting SARL\n+\/\/ cam : Cam Connecting SARL\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cam.html\n@@ -7102,1 +7315,2 @@\n-\/\/ camera : 2013-08-27 Binky Moon, LLC\n+\/\/ camera : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/camera.html\n@@ -7105,1 +7319,2 @@\n-\/\/ camp : 2013-11-07 Binky Moon, LLC\n+\/\/ camp : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/camp.html\n@@ -7108,1 +7323,2 @@\n-\/\/ canon : 2014-09-12 Canon Inc.\n+\/\/ canon : Canon Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/canon.html\n@@ -7111,1 +7327,2 @@\n-\/\/ capetown : 2014-03-24 ZA Central Registry NPC trading as ZA Central Registry\n+\/\/ capetown : ZA Central Registry NPC trading as ZA Central Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/capetown.html\n@@ -7114,1 +7331,2 @@\n-\/\/ capital : 2014-03-06 Binky Moon, LLC\n+\/\/ capital : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/capital.html\n@@ -7117,1 +7335,2 @@\n-\/\/ capitalone : 2015-08-06 Capital One Financial Corporation\n+\/\/ capitalone : Capital One Financial Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/capitalone.html\n@@ -7120,1 +7339,2 @@\n-\/\/ car : 2015-01-22 XYZ.COM LLC\n+\/\/ car : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/car.html\n@@ -7123,1 +7343,2 @@\n-\/\/ caravan : 2013-12-12 Caravan International, Inc.\n+\/\/ caravan : Caravan International, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/caravan.html\n@@ -7126,1 +7347,2 @@\n-\/\/ cards : 2013-12-05 Binky Moon, LLC\n+\/\/ cards : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cards.html\n@@ -7129,1 +7351,2 @@\n-\/\/ care : 2014-03-06 Binky Moon, LLC\n+\/\/ care : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/care.html\n@@ -7132,1 +7355,2 @@\n-\/\/ career : 2013-10-09 dotCareer LLC\n+\/\/ career : dotCareer LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/career.html\n@@ -7135,1 +7359,2 @@\n-\/\/ careers : 2013-10-02 Binky Moon, LLC\n+\/\/ careers : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/careers.html\n@@ -7138,1 +7363,2 @@\n-\/\/ cars : 2014-11-13 XYZ.COM LLC\n+\/\/ cars : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cars.html\n@@ -7141,1 +7367,2 @@\n-\/\/ casa : 2013-11-21 Registry Services, LLC\n+\/\/ casa : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/casa.html\n@@ -7144,1 +7371,2 @@\n-\/\/ case : 2015-09-03 Digity, LLC\n+\/\/ case : Digity, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/case.html\n@@ -7147,1 +7375,2 @@\n-\/\/ cash : 2014-03-06 Binky Moon, LLC\n+\/\/ cash : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cash.html\n@@ -7150,1 +7379,2 @@\n-\/\/ casino : 2014-12-18 Binky Moon, LLC\n+\/\/ casino : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/casino.html\n@@ -7153,1 +7383,2 @@\n-\/\/ catering : 2013-12-05 Binky Moon, LLC\n+\/\/ catering : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/catering.html\n@@ -7156,1 +7387,2 @@\n-\/\/ catholic : 2015-10-21 Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ catholic : Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/catholic.html\n@@ -7159,1 +7391,2 @@\n-\/\/ cba : 2014-06-26 COMMONWEALTH BANK OF AUSTRALIA\n+\/\/ cba : COMMONWEALTH BANK OF AUSTRALIA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cba.html\n@@ -7162,1 +7395,2 @@\n-\/\/ cbn : 2014-08-22 The Christian Broadcasting Network, Inc.\n+\/\/ cbn : The Christian Broadcasting Network, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cbn.html\n@@ -7165,1 +7399,2 @@\n-\/\/ cbre : 2015-07-02 CBRE, Inc.\n+\/\/ cbre : CBRE, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cbre.html\n@@ -7168,4 +7403,2 @@\n-\/\/ cbs : 2015-08-06 CBS Domains Inc.\n-cbs\n-\n-\/\/ center : 2013-11-07 Binky Moon, LLC\n+\/\/ center : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/center.html\n@@ -7174,1 +7407,2 @@\n-\/\/ ceo : 2013-11-07 CEOTLD Pty Ltd\n+\/\/ ceo : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ceo.html\n@@ -7177,1 +7411,2 @@\n-\/\/ cern : 2014-06-05 European Organization for Nuclear Research (\"CERN\")\n+\/\/ cern : European Organization for Nuclear Research (\"CERN\")\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cern.html\n@@ -7180,1 +7415,2 @@\n-\/\/ cfa : 2014-08-28 CFA Institute\n+\/\/ cfa : CFA Institute\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cfa.html\n@@ -7183,1 +7419,2 @@\n-\/\/ cfd : 2014-12-11 ShortDot SA\n+\/\/ cfd : ShortDot SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cfd.html\n@@ -7186,1 +7423,2 @@\n-\/\/ chanel : 2015-04-09 Chanel International B.V.\n+\/\/ chanel : Chanel International B.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/chanel.html\n@@ -7189,1 +7427,2 @@\n-\/\/ channel : 2014-05-08 Charleston Road Registry Inc.\n+\/\/ channel : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/channel.html\n@@ -7192,1 +7431,2 @@\n-\/\/ charity : 2018-04-11 Public Interest Registry\n+\/\/ charity : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/charity.html\n@@ -7195,1 +7435,2 @@\n-\/\/ chase : 2015-04-30 JPMorgan Chase Bank, National Association\n+\/\/ chase : JPMorgan Chase Bank, National Association\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/chase.html\n@@ -7198,1 +7439,2 @@\n-\/\/ chat : 2014-12-04 Binky Moon, LLC\n+\/\/ chat : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/chat.html\n@@ -7201,1 +7443,2 @@\n-\/\/ cheap : 2013-11-14 Binky Moon, LLC\n+\/\/ cheap : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cheap.html\n@@ -7204,1 +7447,2 @@\n-\/\/ chintai : 2015-06-11 CHINTAI Corporation\n+\/\/ chintai : CHINTAI Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/chintai.html\n@@ -7207,1 +7451,2 @@\n-\/\/ christmas : 2013-11-21 XYZ.COM LLC\n+\/\/ christmas : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/christmas.html\n@@ -7210,1 +7455,2 @@\n-\/\/ chrome : 2014-07-24 Charleston Road Registry Inc.\n+\/\/ chrome : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/chrome.html\n@@ -7213,1 +7459,2 @@\n-\/\/ church : 2014-02-06 Binky Moon, LLC\n+\/\/ church : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/church.html\n@@ -7216,1 +7463,2 @@\n-\/\/ cipriani : 2015-02-19 Hotel Cipriani Srl\n+\/\/ cipriani : Hotel Cipriani Srl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cipriani.html\n@@ -7219,1 +7467,2 @@\n-\/\/ circle : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ circle : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/circle.html\n@@ -7222,1 +7471,2 @@\n-\/\/ cisco : 2014-12-22 Cisco Technology, Inc.\n+\/\/ cisco : Cisco Technology, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cisco.html\n@@ -7225,1 +7475,2 @@\n-\/\/ citadel : 2015-07-23 Citadel Domain LLC\n+\/\/ citadel : Citadel Domain LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/citadel.html\n@@ -7228,1 +7479,2 @@\n-\/\/ citi : 2015-07-30 Citigroup Inc.\n+\/\/ citi : Citigroup Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/citi.html\n@@ -7231,1 +7483,2 @@\n-\/\/ citic : 2014-01-09 CITIC Group Corporation\n+\/\/ citic : CITIC Group Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/citic.html\n@@ -7234,1 +7487,2 @@\n-\/\/ city : 2014-05-29 Binky Moon, LLC\n+\/\/ city : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/city.html\n@@ -7237,4 +7491,2 @@\n-\/\/ cityeats : 2014-12-11 Lifestyle Domain Holdings, Inc.\n-cityeats\n-\n-\/\/ claims : 2014-03-20 Binky Moon, LLC\n+\/\/ claims : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/claims.html\n@@ -7243,1 +7495,2 @@\n-\/\/ cleaning : 2013-12-05 Binky Moon, LLC\n+\/\/ cleaning : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cleaning.html\n@@ -7246,1 +7499,2 @@\n-\/\/ click : 2014-06-05 Internet Naming Company LLC\n+\/\/ click : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/click.html\n@@ -7249,1 +7503,2 @@\n-\/\/ clinic : 2014-03-20 Binky Moon, LLC\n+\/\/ clinic : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/clinic.html\n@@ -7252,1 +7507,2 @@\n-\/\/ clinique : 2015-10-01 The Este Lauder Companies Inc.\n+\/\/ clinique : The Este Lauder Companies Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/clinique.html\n@@ -7255,1 +7511,2 @@\n-\/\/ clothing : 2013-08-27 Binky Moon, LLC\n+\/\/ clothing : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/clothing.html\n@@ -7258,1 +7515,2 @@\n-\/\/ cloud : 2015-04-16 Aruba PEC S.p.A.\n+\/\/ cloud : Aruba PEC S.p.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cloud.html\n@@ -7261,1 +7519,2 @@\n-\/\/ club : 2013-11-08 Registry Services, LLC\n+\/\/ club : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/club.html\n@@ -7264,1 +7523,2 @@\n-\/\/ clubmed : 2015-06-25 Club Mditerrane S.A.\n+\/\/ clubmed : Club Mditerrane S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/clubmed.html\n@@ -7267,1 +7527,2 @@\n-\/\/ coach : 2014-10-09 Binky Moon, LLC\n+\/\/ coach : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/coach.html\n@@ -7270,1 +7531,2 @@\n-\/\/ codes : 2013-10-31 Binky Moon, LLC\n+\/\/ codes : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/codes.html\n@@ -7273,1 +7535,2 @@\n-\/\/ coffee : 2013-10-17 Binky Moon, LLC\n+\/\/ coffee : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/coffee.html\n@@ -7276,1 +7539,2 @@\n-\/\/ college : 2014-01-16 XYZ.COM LLC\n+\/\/ college : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/college.html\n@@ -7279,1 +7543,2 @@\n-\/\/ cologne : 2014-02-05 dotKoeln GmbH\n+\/\/ cologne : dotKoeln GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cologne.html\n@@ -7282,1 +7547,2 @@\n-\/\/ comcast : 2015-07-23 Comcast IP Holdings I, LLC\n+\/\/ comcast : Comcast IP Holdings I, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/comcast.html\n@@ -7285,1 +7551,2 @@\n-\/\/ commbank : 2014-06-26 COMMONWEALTH BANK OF AUSTRALIA\n+\/\/ commbank : COMMONWEALTH BANK OF AUSTRALIA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/commbank.html\n@@ -7288,1 +7555,2 @@\n-\/\/ community : 2013-12-05 Binky Moon, LLC\n+\/\/ community : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/community.html\n@@ -7291,1 +7559,2 @@\n-\/\/ company : 2013-11-07 Binky Moon, LLC\n+\/\/ company : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/company.html\n@@ -7294,1 +7563,2 @@\n-\/\/ compare : 2015-10-08 Registry Services, LLC\n+\/\/ compare : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/compare.html\n@@ -7297,1 +7567,2 @@\n-\/\/ computer : 2013-10-24 Binky Moon, LLC\n+\/\/ computer : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/computer.html\n@@ -7300,1 +7571,2 @@\n-\/\/ comsec : 2015-01-08 VeriSign, Inc.\n+\/\/ comsec : VeriSign, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/comsec.html\n@@ -7303,1 +7575,2 @@\n-\/\/ condos : 2013-12-05 Binky Moon, LLC\n+\/\/ condos : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/condos.html\n@@ -7306,1 +7579,2 @@\n-\/\/ construction : 2013-09-16 Binky Moon, LLC\n+\/\/ construction : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/construction.html\n@@ -7309,1 +7583,2 @@\n-\/\/ consulting : 2013-12-05 Dog Beach, LLC\n+\/\/ consulting : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/consulting.html\n@@ -7312,1 +7587,2 @@\n-\/\/ contact : 2015-01-08 Dog Beach, LLC\n+\/\/ contact : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/contact.html\n@@ -7315,1 +7591,2 @@\n-\/\/ contractors : 2013-09-10 Binky Moon, LLC\n+\/\/ contractors : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/contractors.html\n@@ -7318,1 +7595,2 @@\n-\/\/ cooking : 2013-11-21 Registry Services, LLC\n+\/\/ cooking : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cooking.html\n@@ -7321,4 +7599,2 @@\n-\/\/ cookingchannel : 2015-07-02 Lifestyle Domain Holdings, Inc.\n-cookingchannel\n-\n-\/\/ cool : 2013-11-14 Binky Moon, LLC\n+\/\/ cool : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cool.html\n@@ -7327,1 +7603,2 @@\n-\/\/ corsica : 2014-09-25 Collectivit de Corse\n+\/\/ corsica : Collectivit de Corse\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/corsica.html\n@@ -7330,1 +7607,2 @@\n-\/\/ country : 2013-12-19 Internet Naming Company LLC\n+\/\/ country : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/country.html\n@@ -7333,1 +7611,2 @@\n-\/\/ coupon : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ coupon : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/coupon.html\n@@ -7336,1 +7615,2 @@\n-\/\/ coupons : 2015-03-26 Binky Moon, LLC\n+\/\/ coupons : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/coupons.html\n@@ -7339,1 +7619,2 @@\n-\/\/ courses : 2014-12-04 Registry Services, LLC\n+\/\/ courses : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/courses.html\n@@ -7342,1 +7623,2 @@\n-\/\/ cpa : 2019-06-10 American Institute of Certified Public Accountants\n+\/\/ cpa : American Institute of Certified Public Accountants\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cpa.html\n@@ -7345,1 +7627,2 @@\n-\/\/ credit : 2014-03-20 Binky Moon, LLC\n+\/\/ credit : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/credit.html\n@@ -7348,1 +7631,2 @@\n-\/\/ creditcard : 2014-03-20 Binky Moon, LLC\n+\/\/ creditcard : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/creditcard.html\n@@ -7351,1 +7635,2 @@\n-\/\/ creditunion : 2015-01-22 DotCooperation LLC\n+\/\/ creditunion : DotCooperation LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/creditunion.html\n@@ -7354,1 +7639,2 @@\n-\/\/ cricket : 2014-10-09 dot Cricket Limited\n+\/\/ cricket : dot Cricket Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cricket.html\n@@ -7357,1 +7643,2 @@\n-\/\/ crown : 2014-10-24 Crown Equipment Corporation\n+\/\/ crown : Crown Equipment Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/crown.html\n@@ -7360,1 +7647,2 @@\n-\/\/ crs : 2014-04-03 Federated Co-operatives Limited\n+\/\/ crs : Federated Co-operatives Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/crs.html\n@@ -7363,1 +7651,2 @@\n-\/\/ cruise : 2015-12-10 Viking River Cruises (Bermuda) Ltd.\n+\/\/ cruise : Viking River Cruises (Bermuda) Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cruise.html\n@@ -7366,1 +7655,2 @@\n-\/\/ cruises : 2013-12-05 Binky Moon, LLC\n+\/\/ cruises : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cruises.html\n@@ -7369,1 +7659,2 @@\n-\/\/ cuisinella : 2014-04-03 SCHMIDT GROUPE S.A.S.\n+\/\/ cuisinella : SCHMIDT GROUPE S.A.S.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cuisinella.html\n@@ -7372,1 +7663,2 @@\n-\/\/ cymru : 2014-05-08 Nominet UK\n+\/\/ cymru : Nominet UK\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cymru.html\n@@ -7375,1 +7667,2 @@\n-\/\/ cyou : 2015-01-22 ShortDot SA\n+\/\/ cyou : ShortDot SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/cyou.html\n@@ -7378,1 +7671,2 @@\n-\/\/ dabur : 2014-02-06 Dabur India Limited\n+\/\/ dabur : Dabur India Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dabur.html\n@@ -7381,1 +7675,2 @@\n-\/\/ dad : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ dad : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dad.html\n@@ -7384,1 +7679,2 @@\n-\/\/ dance : 2013-10-24 Dog Beach, LLC\n+\/\/ dance : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dance.html\n@@ -7387,1 +7683,2 @@\n-\/\/ data : 2016-06-02 Dish DBS Corporation\n+\/\/ data : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/data.html\n@@ -7390,1 +7687,2 @@\n-\/\/ date : 2014-11-20 dot Date Limited\n+\/\/ date : dot Date Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/date.html\n@@ -7393,1 +7691,2 @@\n-\/\/ dating : 2013-12-05 Binky Moon, LLC\n+\/\/ dating : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dating.html\n@@ -7396,1 +7695,2 @@\n-\/\/ datsun : 2014-03-27 NISSAN MOTOR CO., LTD.\n+\/\/ datsun : NISSAN MOTOR CO., LTD.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/datsun.html\n@@ -7399,1 +7699,2 @@\n-\/\/ day : 2014-01-30 Charleston Road Registry Inc.\n+\/\/ day : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/day.html\n@@ -7402,1 +7703,2 @@\n-\/\/ dclk : 2014-11-20 Charleston Road Registry Inc.\n+\/\/ dclk : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dclk.html\n@@ -7405,1 +7707,2 @@\n-\/\/ dds : 2015-05-07 Registry Services, LLC\n+\/\/ dds : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dds.html\n@@ -7408,1 +7711,2 @@\n-\/\/ deal : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ deal : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/deal.html\n@@ -7411,1 +7715,2 @@\n-\/\/ dealer : 2014-12-22 Intercap Registry Inc.\n+\/\/ dealer : Intercap Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dealer.html\n@@ -7414,1 +7719,2 @@\n-\/\/ deals : 2014-05-22 Binky Moon, LLC\n+\/\/ deals : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/deals.html\n@@ -7417,1 +7723,2 @@\n-\/\/ degree : 2014-03-06 Dog Beach, LLC\n+\/\/ degree : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/degree.html\n@@ -7420,1 +7727,2 @@\n-\/\/ delivery : 2014-09-11 Binky Moon, LLC\n+\/\/ delivery : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/delivery.html\n@@ -7423,1 +7731,2 @@\n-\/\/ dell : 2014-10-24 Dell Inc.\n+\/\/ dell : Dell Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dell.html\n@@ -7426,1 +7735,2 @@\n-\/\/ deloitte : 2015-07-31 Deloitte Touche Tohmatsu\n+\/\/ deloitte : Deloitte Touche Tohmatsu\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/deloitte.html\n@@ -7429,1 +7739,2 @@\n-\/\/ delta : 2015-02-19 Delta Air Lines, Inc.\n+\/\/ delta : Delta Air Lines, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/delta.html\n@@ -7432,1 +7743,2 @@\n-\/\/ democrat : 2013-10-24 Dog Beach, LLC\n+\/\/ democrat : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/democrat.html\n@@ -7435,1 +7747,2 @@\n-\/\/ dental : 2014-03-20 Binky Moon, LLC\n+\/\/ dental : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dental.html\n@@ -7438,1 +7751,2 @@\n-\/\/ dentist : 2014-03-20 Dog Beach, LLC\n+\/\/ dentist : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dentist.html\n@@ -7441,4 +7755,2 @@\n-\/\/ desi : 2013-11-14 Desi Networks LLC\n-desi\n-\n-\/\/ design : 2014-11-07 Registry Services, LLC\n+\/\/ design : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/design.html\n@@ -7447,1 +7759,2 @@\n-\/\/ dev : 2014-10-16 Charleston Road Registry Inc.\n+\/\/ dev : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dev.html\n@@ -7450,1 +7763,2 @@\n-\/\/ dhl : 2015-07-23 Deutsche Post AG\n+\/\/ dhl : Deutsche Post AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dhl.html\n@@ -7453,1 +7767,2 @@\n-\/\/ diamonds : 2013-09-22 Binky Moon, LLC\n+\/\/ diamonds : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/diamonds.html\n@@ -7456,1 +7771,2 @@\n-\/\/ diet : 2014-06-26 XYZ.COM LLC\n+\/\/ diet : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/diet.html\n@@ -7459,1 +7775,2 @@\n-\/\/ digital : 2014-03-06 Binky Moon, LLC\n+\/\/ digital : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/digital.html\n@@ -7462,1 +7779,2 @@\n-\/\/ direct : 2014-04-10 Binky Moon, LLC\n+\/\/ direct : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/direct.html\n@@ -7465,1 +7783,2 @@\n-\/\/ directory : 2013-09-20 Binky Moon, LLC\n+\/\/ directory : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/directory.html\n@@ -7468,1 +7787,2 @@\n-\/\/ discount : 2014-03-06 Binky Moon, LLC\n+\/\/ discount : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/discount.html\n@@ -7471,1 +7791,2 @@\n-\/\/ discover : 2015-07-23 Discover Financial Services\n+\/\/ discover : Discover Financial Services\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/discover.html\n@@ -7474,1 +7795,2 @@\n-\/\/ dish : 2015-07-30 Dish DBS Corporation\n+\/\/ dish : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dish.html\n@@ -7477,1 +7799,2 @@\n-\/\/ diy : 2015-11-05 Lifestyle Domain Holdings, Inc.\n+\/\/ diy : Lifestyle Domain Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/diy.html\n@@ -7480,1 +7803,2 @@\n-\/\/ dnp : 2013-12-13 Dai Nippon Printing Co., Ltd.\n+\/\/ dnp : Dai Nippon Printing Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dnp.html\n@@ -7483,1 +7807,2 @@\n-\/\/ docs : 2014-10-16 Charleston Road Registry Inc.\n+\/\/ docs : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/docs.html\n@@ -7486,1 +7811,2 @@\n-\/\/ doctor : 2016-06-02 Binky Moon, LLC\n+\/\/ doctor : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/doctor.html\n@@ -7489,1 +7815,2 @@\n-\/\/ dog : 2014-12-04 Binky Moon, LLC\n+\/\/ dog : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dog.html\n@@ -7492,1 +7819,2 @@\n-\/\/ domains : 2013-10-17 Binky Moon, LLC\n+\/\/ domains : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/domains.html\n@@ -7495,1 +7823,2 @@\n-\/\/ dot : 2015-05-21 Dish DBS Corporation\n+\/\/ dot : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dot.html\n@@ -7498,1 +7827,2 @@\n-\/\/ download : 2014-11-20 dot Support Limited\n+\/\/ download : dot Support Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/download.html\n@@ -7501,1 +7831,2 @@\n-\/\/ drive : 2015-03-05 Charleston Road Registry Inc.\n+\/\/ drive : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/drive.html\n@@ -7504,1 +7835,2 @@\n-\/\/ dtv : 2015-06-04 Dish DBS Corporation\n+\/\/ dtv : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dtv.html\n@@ -7507,1 +7839,2 @@\n-\/\/ dubai : 2015-01-01 Dubai Smart Government Department\n+\/\/ dubai : Dubai Smart Government Department\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dubai.html\n@@ -7510,1 +7843,2 @@\n-\/\/ dunlop : 2015-07-02 The Goodyear Tire & Rubber Company\n+\/\/ dunlop : The Goodyear Tire & Rubber Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dunlop.html\n@@ -7513,1 +7847,2 @@\n-\/\/ dupont : 2015-06-25 DuPont Specialty Products USA, LLC\n+\/\/ dupont : DuPont Specialty Products USA, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dupont.html\n@@ -7516,1 +7851,2 @@\n-\/\/ durban : 2014-03-24 ZA Central Registry NPC trading as ZA Central Registry\n+\/\/ durban : ZA Central Registry NPC trading as ZA Central Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/durban.html\n@@ -7519,1 +7855,2 @@\n-\/\/ dvag : 2014-06-23 Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ dvag : Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dvag.html\n@@ -7522,1 +7859,2 @@\n-\/\/ dvr : 2016-05-26 DISH Technologies L.L.C.\n+\/\/ dvr : DISH Technologies L.L.C.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/dvr.html\n@@ -7525,1 +7863,2 @@\n-\/\/ earth : 2014-12-04 Interlink Systems Innovation Institute K.K.\n+\/\/ earth : Interlink Systems Innovation Institute K.K.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/earth.html\n@@ -7528,1 +7867,2 @@\n-\/\/ eat : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ eat : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/eat.html\n@@ -7531,1 +7871,2 @@\n-\/\/ eco : 2016-07-08 Big Room Inc.\n+\/\/ eco : Big Room Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/eco.html\n@@ -7534,1 +7875,2 @@\n-\/\/ edeka : 2014-12-18 EDEKA Verband kaufmnnischer Genossenschaften e.V.\n+\/\/ edeka : EDEKA Verband kaufmnnischer Genossenschaften e.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/edeka.html\n@@ -7537,1 +7879,2 @@\n-\/\/ education : 2013-11-07 Binky Moon, LLC\n+\/\/ education : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/education.html\n@@ -7540,1 +7883,2 @@\n-\/\/ email : 2013-10-31 Binky Moon, LLC\n+\/\/ email : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/email.html\n@@ -7543,1 +7887,2 @@\n-\/\/ emerck : 2014-04-03 Merck KGaA\n+\/\/ emerck : Merck KGaA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/emerck.html\n@@ -7546,1 +7891,2 @@\n-\/\/ energy : 2014-09-11 Binky Moon, LLC\n+\/\/ energy : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/energy.html\n@@ -7549,1 +7895,2 @@\n-\/\/ engineer : 2014-03-06 Dog Beach, LLC\n+\/\/ engineer : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/engineer.html\n@@ -7552,1 +7899,2 @@\n-\/\/ engineering : 2014-03-06 Binky Moon, LLC\n+\/\/ engineering : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/engineering.html\n@@ -7555,1 +7903,2 @@\n-\/\/ enterprises : 2013-09-20 Binky Moon, LLC\n+\/\/ enterprises : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/enterprises.html\n@@ -7558,1 +7907,2 @@\n-\/\/ epson : 2014-12-04 Seiko Epson Corporation\n+\/\/ epson : Seiko Epson Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/epson.html\n@@ -7561,1 +7911,2 @@\n-\/\/ equipment : 2013-08-27 Binky Moon, LLC\n+\/\/ equipment : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/equipment.html\n@@ -7564,1 +7915,2 @@\n-\/\/ ericsson : 2015-07-09 Telefonaktiebolaget L M Ericsson\n+\/\/ ericsson : Telefonaktiebolaget L M Ericsson\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ericsson.html\n@@ -7567,1 +7919,2 @@\n-\/\/ erni : 2014-04-03 ERNI Group Holding AG\n+\/\/ erni : ERNI Group Holding AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/erni.html\n@@ -7570,1 +7923,2 @@\n-\/\/ esq : 2014-05-08 Charleston Road Registry Inc.\n+\/\/ esq : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/esq.html\n@@ -7573,1 +7927,2 @@\n-\/\/ estate : 2013-08-27 Binky Moon, LLC\n+\/\/ estate : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/estate.html\n@@ -7576,1 +7931,2 @@\n-\/\/ etisalat : 2015-09-03 Emirates Telecommunications Corporation (trading as Etisalat)\n+\/\/ etisalat : Emirates Telecommunications Corporation (trading as Etisalat)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/etisalat.html\n@@ -7579,1 +7935,2 @@\n-\/\/ eurovision : 2014-04-24 European Broadcasting Union (EBU)\n+\/\/ eurovision : European Broadcasting Union (EBU)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/eurovision.html\n@@ -7582,1 +7939,2 @@\n-\/\/ eus : 2013-12-12 Puntueus Fundazioa\n+\/\/ eus : Puntueus Fundazioa\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/eus.html\n@@ -7585,1 +7943,2 @@\n-\/\/ events : 2013-12-05 Binky Moon, LLC\n+\/\/ events : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/events.html\n@@ -7588,1 +7947,2 @@\n-\/\/ exchange : 2014-03-06 Binky Moon, LLC\n+\/\/ exchange : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/exchange.html\n@@ -7591,1 +7951,2 @@\n-\/\/ expert : 2013-11-21 Binky Moon, LLC\n+\/\/ expert : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/expert.html\n@@ -7594,1 +7955,2 @@\n-\/\/ exposed : 2013-12-05 Binky Moon, LLC\n+\/\/ exposed : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/exposed.html\n@@ -7597,1 +7959,2 @@\n-\/\/ express : 2015-02-11 Binky Moon, LLC\n+\/\/ express : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/express.html\n@@ -7600,1 +7963,2 @@\n-\/\/ extraspace : 2015-05-14 Extra Space Storage LLC\n+\/\/ extraspace : Extra Space Storage LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/extraspace.html\n@@ -7603,1 +7967,2 @@\n-\/\/ fage : 2014-12-18 Fage International S.A.\n+\/\/ fage : Fage International S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fage.html\n@@ -7606,1 +7971,2 @@\n-\/\/ fail : 2014-03-06 Binky Moon, LLC\n+\/\/ fail : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fail.html\n@@ -7609,1 +7975,2 @@\n-\/\/ fairwinds : 2014-11-13 FairWinds Partners, LLC\n+\/\/ fairwinds : FairWinds Partners, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fairwinds.html\n@@ -7612,1 +7979,2 @@\n-\/\/ faith : 2014-11-20 dot Faith Limited\n+\/\/ faith : dot Faith Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/faith.html\n@@ -7615,1 +7983,2 @@\n-\/\/ family : 2015-04-02 Dog Beach, LLC\n+\/\/ family : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/family.html\n@@ -7618,1 +7987,2 @@\n-\/\/ fan : 2014-03-06 Dog Beach, LLC\n+\/\/ fan : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fan.html\n@@ -7621,1 +7991,2 @@\n-\/\/ fans : 2014-11-07 ZDNS International Limited\n+\/\/ fans : ZDNS International Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fans.html\n@@ -7624,1 +7995,2 @@\n-\/\/ farm : 2013-11-07 Binky Moon, LLC\n+\/\/ farm : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/farm.html\n@@ -7627,1 +7999,2 @@\n-\/\/ farmers : 2015-07-09 Farmers Insurance Exchange\n+\/\/ farmers : Farmers Insurance Exchange\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/farmers.html\n@@ -7630,1 +8003,2 @@\n-\/\/ fashion : 2014-07-03 Registry Services, LLC\n+\/\/ fashion : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fashion.html\n@@ -7633,1 +8007,2 @@\n-\/\/ fast : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ fast : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fast.html\n@@ -7636,1 +8011,2 @@\n-\/\/ fedex : 2015-08-06 Federal Express Corporation\n+\/\/ fedex : Federal Express Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fedex.html\n@@ -7639,1 +8015,2 @@\n-\/\/ feedback : 2013-12-19 Top Level Spectrum, Inc.\n+\/\/ feedback : Top Level Spectrum, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/feedback.html\n@@ -7642,1 +8019,2 @@\n-\/\/ ferrari : 2015-07-31 Fiat Chrysler Automobiles N.V.\n+\/\/ ferrari : Fiat Chrysler Automobiles N.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ferrari.html\n@@ -7645,1 +8023,2 @@\n-\/\/ ferrero : 2014-12-18 Ferrero Trading Lux S.A.\n+\/\/ ferrero : Ferrero Trading Lux S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ferrero.html\n@@ -7648,4 +8027,2 @@\n-\/\/ fiat : 2015-07-31 Fiat Chrysler Automobiles N.V.\n-fiat\n-\n-\/\/ fidelity : 2015-07-30 Fidelity Brokerage Services LLC\n+\/\/ fidelity : Fidelity Brokerage Services LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fidelity.html\n@@ -7654,1 +8031,2 @@\n-\/\/ fido : 2015-08-06 Rogers Communications Canada Inc.\n+\/\/ fido : Rogers Communications Canada Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fido.html\n@@ -7657,1 +8035,2 @@\n-\/\/ film : 2015-01-08 Motion Picture Domain Registry Pty Ltd\n+\/\/ film : Motion Picture Domain Registry Pty Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/film.html\n@@ -7660,1 +8039,2 @@\n-\/\/ final : 2014-10-16 Ncleo de Informao e Coordenao do Ponto BR - NIC.br\n+\/\/ final : Ncleo de Informao e Coordenao do Ponto BR - NIC.br\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/final.html\n@@ -7663,1 +8043,2 @@\n-\/\/ finance : 2014-03-20 Binky Moon, LLC\n+\/\/ finance : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/finance.html\n@@ -7666,1 +8047,2 @@\n-\/\/ financial : 2014-03-06 Binky Moon, LLC\n+\/\/ financial : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/financial.html\n@@ -7669,1 +8051,2 @@\n-\/\/ fire : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ fire : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fire.html\n@@ -7672,1 +8055,2 @@\n-\/\/ firestone : 2014-12-18 Bridgestone Licensing Services, Inc\n+\/\/ firestone : Bridgestone Licensing Services, Inc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/firestone.html\n@@ -7675,1 +8059,2 @@\n-\/\/ firmdale : 2014-03-27 Firmdale Holdings Limited\n+\/\/ firmdale : Firmdale Holdings Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/firmdale.html\n@@ -7678,1 +8063,2 @@\n-\/\/ fish : 2013-12-12 Binky Moon, LLC\n+\/\/ fish : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fish.html\n@@ -7681,1 +8067,2 @@\n-\/\/ fishing : 2013-11-21 Registry Services, LLC\n+\/\/ fishing : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fishing.html\n@@ -7684,1 +8071,2 @@\n-\/\/ fit : 2014-11-07 Registry Services, LLC\n+\/\/ fit : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fit.html\n@@ -7687,1 +8075,2 @@\n-\/\/ fitness : 2014-03-06 Binky Moon, LLC\n+\/\/ fitness : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fitness.html\n@@ -7690,1 +8079,2 @@\n-\/\/ flickr : 2015-04-02 Flickr, Inc.\n+\/\/ flickr : Flickr, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/flickr.html\n@@ -7693,1 +8083,2 @@\n-\/\/ flights : 2013-12-05 Binky Moon, LLC\n+\/\/ flights : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/flights.html\n@@ -7696,1 +8087,2 @@\n-\/\/ flir : 2015-07-23 FLIR Systems, Inc.\n+\/\/ flir : FLIR Systems, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/flir.html\n@@ -7699,1 +8091,2 @@\n-\/\/ florist : 2013-11-07 Binky Moon, LLC\n+\/\/ florist : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/florist.html\n@@ -7702,1 +8095,2 @@\n-\/\/ flowers : 2014-10-09 XYZ.COM LLC\n+\/\/ flowers : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/flowers.html\n@@ -7705,1 +8099,2 @@\n-\/\/ fly : 2014-05-08 Charleston Road Registry Inc.\n+\/\/ fly : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fly.html\n@@ -7708,1 +8103,2 @@\n-\/\/ foo : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ foo : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/foo.html\n@@ -7711,1 +8107,2 @@\n-\/\/ food : 2016-04-21 Lifestyle Domain Holdings, Inc.\n+\/\/ food : Lifestyle Domain Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/food.html\n@@ -7714,4 +8111,2 @@\n-\/\/ foodnetwork : 2015-07-02 Lifestyle Domain Holdings, Inc.\n-foodnetwork\n-\n-\/\/ football : 2014-12-18 Binky Moon, LLC\n+\/\/ football : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/football.html\n@@ -7720,1 +8115,2 @@\n-\/\/ ford : 2014-11-13 Ford Motor Company\n+\/\/ ford : Ford Motor Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ford.html\n@@ -7723,1 +8119,2 @@\n-\/\/ forex : 2014-12-11 Dog Beach, LLC\n+\/\/ forex : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/forex.html\n@@ -7726,1 +8123,2 @@\n-\/\/ forsale : 2014-05-22 Dog Beach, LLC\n+\/\/ forsale : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/forsale.html\n@@ -7729,1 +8127,2 @@\n-\/\/ forum : 2015-04-02 Fegistry, LLC\n+\/\/ forum : Fegistry, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/forum.html\n@@ -7732,1 +8131,2 @@\n-\/\/ foundation : 2013-12-05 Public Interest Registry\n+\/\/ foundation : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/foundation.html\n@@ -7735,1 +8135,2 @@\n-\/\/ fox : 2015-09-11 FOX Registry, LLC\n+\/\/ fox : FOX Registry, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fox.html\n@@ -7738,1 +8139,2 @@\n-\/\/ free : 2015-12-10 Amazon Registry Services, Inc.\n+\/\/ free : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/free.html\n@@ -7741,1 +8143,2 @@\n-\/\/ fresenius : 2015-07-30 Fresenius Immobilien-Verwaltungs-GmbH\n+\/\/ fresenius : Fresenius Immobilien-Verwaltungs-GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fresenius.html\n@@ -7744,1 +8147,2 @@\n-\/\/ frl : 2014-05-15 FRLregistry B.V.\n+\/\/ frl : FRLregistry B.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/frl.html\n@@ -7747,1 +8151,2 @@\n-\/\/ frogans : 2013-12-19 OP3FT\n+\/\/ frogans : OP3FT\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/frogans.html\n@@ -7750,4 +8155,2 @@\n-\/\/ frontdoor : 2015-07-02 Lifestyle Domain Holdings, Inc.\n-frontdoor\n-\n-\/\/ frontier : 2015-02-05 Frontier Communications Corporation\n+\/\/ frontier : Frontier Communications Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/frontier.html\n@@ -7756,1 +8159,2 @@\n-\/\/ ftr : 2015-07-16 Frontier Communications Corporation\n+\/\/ ftr : Frontier Communications Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ftr.html\n@@ -7759,1 +8163,2 @@\n-\/\/ fujitsu : 2015-07-30 Fujitsu Limited\n+\/\/ fujitsu : Fujitsu Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fujitsu.html\n@@ -7762,1 +8167,2 @@\n-\/\/ fun : 2016-01-14 Radix FZC\n+\/\/ fun : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fun.html\n@@ -7765,1 +8171,2 @@\n-\/\/ fund : 2014-03-20 Binky Moon, LLC\n+\/\/ fund : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fund.html\n@@ -7768,1 +8175,2 @@\n-\/\/ furniture : 2014-03-20 Binky Moon, LLC\n+\/\/ furniture : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/furniture.html\n@@ -7771,1 +8179,2 @@\n-\/\/ futbol : 2013-09-20 Dog Beach, LLC\n+\/\/ futbol : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/futbol.html\n@@ -7774,1 +8183,2 @@\n-\/\/ fyi : 2015-04-02 Binky Moon, LLC\n+\/\/ fyi : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/fyi.html\n@@ -7777,1 +8187,2 @@\n-\/\/ gal : 2013-11-07 Asociacin puntoGAL\n+\/\/ gal : Asociacin puntoGAL\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gal.html\n@@ -7780,1 +8191,2 @@\n-\/\/ gallery : 2013-09-13 Binky Moon, LLC\n+\/\/ gallery : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gallery.html\n@@ -7783,1 +8195,2 @@\n-\/\/ gallo : 2015-06-11 Gallo Vineyards, Inc.\n+\/\/ gallo : Gallo Vineyards, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gallo.html\n@@ -7786,1 +8199,2 @@\n-\/\/ gallup : 2015-02-19 Gallup, Inc.\n+\/\/ gallup : Gallup, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gallup.html\n@@ -7789,1 +8203,2 @@\n-\/\/ game : 2015-05-28 XYZ.COM LLC\n+\/\/ game : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/game.html\n@@ -7792,1 +8207,2 @@\n-\/\/ games : 2015-05-28 Dog Beach, LLC\n+\/\/ games : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/games.html\n@@ -7795,1 +8211,2 @@\n-\/\/ gap : 2015-07-31 The Gap, Inc.\n+\/\/ gap : The Gap, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gap.html\n@@ -7798,1 +8215,2 @@\n-\/\/ garden : 2014-06-26 Registry Services, LLC\n+\/\/ garden : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/garden.html\n@@ -7801,1 +8219,2 @@\n-\/\/ gay : 2019-05-23 Top Level Design, LLC\n+\/\/ gay : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gay.html\n@@ -7804,1 +8223,2 @@\n-\/\/ gbiz : 2014-07-17 Charleston Road Registry Inc.\n+\/\/ gbiz : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gbiz.html\n@@ -7807,1 +8227,2 @@\n-\/\/ gdn : 2014-07-31 Joint Stock Company \"Navigation-information systems\"\n+\/\/ gdn : Joint Stock Company \"Navigation-information systems\"\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gdn.html\n@@ -7810,1 +8231,2 @@\n-\/\/ gea : 2014-12-04 GEA Group Aktiengesellschaft\n+\/\/ gea : GEA Group Aktiengesellschaft\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gea.html\n@@ -7813,1 +8235,2 @@\n-\/\/ gent : 2014-01-23 Easyhost BV\n+\/\/ gent : Easyhost BV\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gent.html\n@@ -7816,1 +8239,2 @@\n-\/\/ genting : 2015-03-12 Resorts World Inc Pte. Ltd.\n+\/\/ genting : Resorts World Inc Pte. Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/genting.html\n@@ -7819,1 +8243,2 @@\n-\/\/ george : 2015-07-31 Wal-Mart Stores, Inc.\n+\/\/ george : Wal-Mart Stores, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/george.html\n@@ -7822,1 +8247,2 @@\n-\/\/ ggee : 2014-01-09 GMO Internet, Inc.\n+\/\/ ggee : GMO Internet, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ggee.html\n@@ -7825,1 +8251,2 @@\n-\/\/ gift : 2013-10-17 DotGift, LLC\n+\/\/ gift : DotGift, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gift.html\n@@ -7828,1 +8255,2 @@\n-\/\/ gifts : 2014-07-03 Binky Moon, LLC\n+\/\/ gifts : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gifts.html\n@@ -7831,1 +8259,2 @@\n-\/\/ gives : 2014-03-06 Public Interest Registry\n+\/\/ gives : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gives.html\n@@ -7834,1 +8263,2 @@\n-\/\/ giving : 2014-11-13 Public Interest Registry\n+\/\/ giving : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/giving.html\n@@ -7837,1 +8267,2 @@\n-\/\/ glass : 2013-11-07 Binky Moon, LLC\n+\/\/ glass : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/glass.html\n@@ -7840,1 +8271,2 @@\n-\/\/ gle : 2014-07-24 Charleston Road Registry Inc.\n+\/\/ gle : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gle.html\n@@ -7843,1 +8275,2 @@\n-\/\/ global : 2014-04-17 Identity Digital Limited\n+\/\/ global : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/global.html\n@@ -7846,1 +8279,2 @@\n-\/\/ globo : 2013-12-19 Globo Comunicao e Participaes S.A\n+\/\/ globo : Globo Comunicao e Participaes S.A\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/globo.html\n@@ -7849,1 +8283,2 @@\n-\/\/ gmail : 2014-05-01 Charleston Road Registry Inc.\n+\/\/ gmail : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gmail.html\n@@ -7852,1 +8287,2 @@\n-\/\/ gmbh : 2016-01-29 Binky Moon, LLC\n+\/\/ gmbh : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gmbh.html\n@@ -7855,1 +8291,2 @@\n-\/\/ gmo : 2014-01-09 GMO Internet, Inc.\n+\/\/ gmo : GMO Internet, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gmo.html\n@@ -7858,1 +8295,2 @@\n-\/\/ gmx : 2014-04-24 1&1 Mail & Media GmbH\n+\/\/ gmx : 1&1 Mail & Media GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gmx.html\n@@ -7861,1 +8299,2 @@\n-\/\/ godaddy : 2015-07-23 Go Daddy East, LLC\n+\/\/ godaddy : Go Daddy East, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/godaddy.html\n@@ -7864,1 +8303,2 @@\n-\/\/ gold : 2015-01-22 Binky Moon, LLC\n+\/\/ gold : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gold.html\n@@ -7867,1 +8307,2 @@\n-\/\/ goldpoint : 2014-11-20 YODOBASHI CAMERA CO.,LTD.\n+\/\/ goldpoint : YODOBASHI CAMERA CO.,LTD.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/goldpoint.html\n@@ -7870,1 +8311,2 @@\n-\/\/ golf : 2014-12-18 Binky Moon, LLC\n+\/\/ golf : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/golf.html\n@@ -7873,1 +8315,2 @@\n-\/\/ goo : 2014-12-18 NTT Resonant Inc.\n+\/\/ goo : NTT Resonant Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/goo.html\n@@ -7876,1 +8319,2 @@\n-\/\/ goodyear : 2015-07-02 The Goodyear Tire & Rubber Company\n+\/\/ goodyear : The Goodyear Tire & Rubber Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/goodyear.html\n@@ -7879,1 +8323,2 @@\n-\/\/ goog : 2014-11-20 Charleston Road Registry Inc.\n+\/\/ goog : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/goog.html\n@@ -7882,1 +8327,2 @@\n-\/\/ google : 2014-07-24 Charleston Road Registry Inc.\n+\/\/ google : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/google.html\n@@ -7885,1 +8331,2 @@\n-\/\/ gop : 2014-01-16 Republican State Leadership Committee, Inc.\n+\/\/ gop : Republican State Leadership Committee, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gop.html\n@@ -7888,1 +8335,2 @@\n-\/\/ got : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ got : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/got.html\n@@ -7891,1 +8339,2 @@\n-\/\/ grainger : 2015-05-07 Grainger Registry Services, LLC\n+\/\/ grainger : Grainger Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/grainger.html\n@@ -7894,1 +8343,2 @@\n-\/\/ graphics : 2013-09-13 Binky Moon, LLC\n+\/\/ graphics : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/graphics.html\n@@ -7897,1 +8347,2 @@\n-\/\/ gratis : 2014-03-20 Binky Moon, LLC\n+\/\/ gratis : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gratis.html\n@@ -7900,1 +8351,2 @@\n-\/\/ green : 2014-05-08 Identity Digital Limited\n+\/\/ green : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/green.html\n@@ -7903,1 +8355,2 @@\n-\/\/ gripe : 2014-03-06 Binky Moon, LLC\n+\/\/ gripe : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gripe.html\n@@ -7906,1 +8359,2 @@\n-\/\/ grocery : 2016-06-16 Wal-Mart Stores, Inc.\n+\/\/ grocery : Wal-Mart Stores, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/grocery.html\n@@ -7909,1 +8363,2 @@\n-\/\/ group : 2014-08-15 Binky Moon, LLC\n+\/\/ group : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/group.html\n@@ -7912,1 +8367,2 @@\n-\/\/ guardian : 2015-07-30 The Guardian Life Insurance Company of America\n+\/\/ guardian : The Guardian Life Insurance Company of America\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/guardian.html\n@@ -7915,1 +8371,2 @@\n-\/\/ gucci : 2014-11-13 Guccio Gucci S.p.a.\n+\/\/ gucci : Guccio Gucci S.p.a.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/gucci.html\n@@ -7918,1 +8375,2 @@\n-\/\/ guge : 2014-08-28 Charleston Road Registry Inc.\n+\/\/ guge : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/guge.html\n@@ -7921,1 +8379,2 @@\n-\/\/ guide : 2013-09-13 Binky Moon, LLC\n+\/\/ guide : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/guide.html\n@@ -7924,1 +8383,2 @@\n-\/\/ guitars : 2013-11-14 XYZ.COM LLC\n+\/\/ guitars : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/guitars.html\n@@ -7927,1 +8387,2 @@\n-\/\/ guru : 2013-08-27 Binky Moon, LLC\n+\/\/ guru : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/guru.html\n@@ -7930,1 +8391,2 @@\n-\/\/ hair : 2015-12-03 XYZ.COM LLC\n+\/\/ hair : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hair.html\n@@ -7933,1 +8395,2 @@\n-\/\/ hamburg : 2014-02-20 Hamburg Top-Level-Domain GmbH\n+\/\/ hamburg : Hamburg Top-Level-Domain GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hamburg.html\n@@ -7936,1 +8399,2 @@\n-\/\/ hangout : 2014-11-13 Charleston Road Registry Inc.\n+\/\/ hangout : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hangout.html\n@@ -7939,1 +8403,2 @@\n-\/\/ haus : 2013-12-05 Dog Beach, LLC\n+\/\/ haus : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/haus.html\n@@ -7942,1 +8407,2 @@\n-\/\/ hbo : 2015-07-30 HBO Registry Services, Inc.\n+\/\/ hbo : HBO Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hbo.html\n@@ -7945,1 +8411,2 @@\n-\/\/ hdfc : 2015-07-30 HOUSING DEVELOPMENT FINANCE CORPORATION LIMITED\n+\/\/ hdfc : HOUSING DEVELOPMENT FINANCE CORPORATION LIMITED\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hdfc.html\n@@ -7948,1 +8415,2 @@\n-\/\/ hdfcbank : 2015-02-12 HDFC Bank Limited\n+\/\/ hdfcbank : HDFC Bank Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hdfcbank.html\n@@ -7951,1 +8419,2 @@\n-\/\/ health : 2015-02-11 DotHealth, LLC\n+\/\/ health : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/health.html\n@@ -7954,1 +8423,2 @@\n-\/\/ healthcare : 2014-06-12 Binky Moon, LLC\n+\/\/ healthcare : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/healthcare.html\n@@ -7957,1 +8427,2 @@\n-\/\/ help : 2014-06-26 Innovation service Limited\n+\/\/ help : Innovation service Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/help.html\n@@ -7960,1 +8431,2 @@\n-\/\/ helsinki : 2015-02-05 City of Helsinki\n+\/\/ helsinki : City of Helsinki\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/helsinki.html\n@@ -7963,1 +8435,2 @@\n-\/\/ here : 2014-02-06 Charleston Road Registry Inc.\n+\/\/ here : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/here.html\n@@ -7966,1 +8439,2 @@\n-\/\/ hermes : 2014-07-10 HERMES INTERNATIONAL\n+\/\/ hermes : HERMES INTERNATIONAL\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hermes.html\n@@ -7969,4 +8443,2 @@\n-\/\/ hgtv : 2015-07-02 Lifestyle Domain Holdings, Inc.\n-hgtv\n-\n-\/\/ hiphop : 2014-03-06 Dot Hip Hop, LLC\n+\/\/ hiphop : Dot Hip Hop, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hiphop.html\n@@ -7975,1 +8447,2 @@\n-\/\/ hisamitsu : 2015-07-16 Hisamitsu Pharmaceutical Co.,Inc.\n+\/\/ hisamitsu : Hisamitsu Pharmaceutical Co.,Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hisamitsu.html\n@@ -7978,1 +8451,2 @@\n-\/\/ hitachi : 2014-10-31 Hitachi, Ltd.\n+\/\/ hitachi : Hitachi, Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hitachi.html\n@@ -7981,1 +8455,2 @@\n-\/\/ hiv : 2014-03-13 Internet Naming Company LLC\n+\/\/ hiv : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hiv.html\n@@ -7984,1 +8459,2 @@\n-\/\/ hkt : 2015-05-14 PCCW-HKT DataCom Services Limited\n+\/\/ hkt : PCCW-HKT DataCom Services Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hkt.html\n@@ -7987,1 +8463,2 @@\n-\/\/ hockey : 2015-03-19 Binky Moon, LLC\n+\/\/ hockey : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hockey.html\n@@ -7990,1 +8467,2 @@\n-\/\/ holdings : 2013-08-27 Binky Moon, LLC\n+\/\/ holdings : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/holdings.html\n@@ -7993,1 +8471,2 @@\n-\/\/ holiday : 2013-11-07 Binky Moon, LLC\n+\/\/ holiday : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/holiday.html\n@@ -7996,1 +8475,2 @@\n-\/\/ homedepot : 2015-04-02 Home Depot Product Authority, LLC\n+\/\/ homedepot : Home Depot Product Authority, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/homedepot.html\n@@ -7999,1 +8479,2 @@\n-\/\/ homegoods : 2015-07-16 The TJX Companies, Inc.\n+\/\/ homegoods : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/homegoods.html\n@@ -8002,1 +8483,2 @@\n-\/\/ homes : 2014-01-09 XYZ.COM LLC\n+\/\/ homes : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/homes.html\n@@ -8005,1 +8487,2 @@\n-\/\/ homesense : 2015-07-16 The TJX Companies, Inc.\n+\/\/ homesense : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/homesense.html\n@@ -8008,1 +8491,2 @@\n-\/\/ honda : 2014-12-18 Honda Motor Co., Ltd.\n+\/\/ honda : Honda Motor Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/honda.html\n@@ -8011,1 +8495,2 @@\n-\/\/ horse : 2013-11-21 Registry Services, LLC\n+\/\/ horse : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/horse.html\n@@ -8014,1 +8499,2 @@\n-\/\/ hospital : 2016-10-20 Binky Moon, LLC\n+\/\/ hospital : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hospital.html\n@@ -8017,1 +8503,2 @@\n-\/\/ host : 2014-04-17 Radix FZC\n+\/\/ host : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/host.html\n@@ -8020,1 +8507,2 @@\n-\/\/ hosting : 2014-05-29 XYZ.COM LLC\n+\/\/ hosting : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hosting.html\n@@ -8023,1 +8511,2 @@\n-\/\/ hot : 2015-08-27 Amazon Registry Services, Inc.\n+\/\/ hot : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hot.html\n@@ -8026,4 +8515,2 @@\n-\/\/ hoteles : 2015-03-05 Travel Reservations SRL\n-hoteles\n-\n-\/\/ hotels : 2016-04-07 Booking.com B.V.\n+\/\/ hotels : Booking.com B.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hotels.html\n@@ -8032,1 +8519,2 @@\n-\/\/ hotmail : 2014-12-18 Microsoft Corporation\n+\/\/ hotmail : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hotmail.html\n@@ -8035,1 +8523,2 @@\n-\/\/ house : 2013-11-07 Binky Moon, LLC\n+\/\/ house : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/house.html\n@@ -8038,1 +8527,2 @@\n-\/\/ how : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ how : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/how.html\n@@ -8041,1 +8531,2 @@\n-\/\/ hsbc : 2014-10-24 HSBC Global Services (UK) Limited\n+\/\/ hsbc : HSBC Global Services (UK) Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hsbc.html\n@@ -8044,1 +8535,2 @@\n-\/\/ hughes : 2015-07-30 Hughes Satellite Systems Corporation\n+\/\/ hughes : Hughes Satellite Systems Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hughes.html\n@@ -8047,1 +8539,2 @@\n-\/\/ hyatt : 2015-07-30 Hyatt GTLD, L.L.C.\n+\/\/ hyatt : Hyatt GTLD, L.L.C.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hyatt.html\n@@ -8050,1 +8543,2 @@\n-\/\/ hyundai : 2015-07-09 Hyundai Motor Company\n+\/\/ hyundai : Hyundai Motor Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/hyundai.html\n@@ -8053,1 +8547,2 @@\n-\/\/ ibm : 2014-07-31 International Business Machines Corporation\n+\/\/ ibm : International Business Machines Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ibm.html\n@@ -8056,1 +8551,2 @@\n-\/\/ icbc : 2015-02-19 Industrial and Commercial Bank of China Limited\n+\/\/ icbc : Industrial and Commercial Bank of China Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/icbc.html\n@@ -8059,1 +8555,2 @@\n-\/\/ ice : 2014-10-30 IntercontinentalExchange, Inc.\n+\/\/ ice : IntercontinentalExchange, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ice.html\n@@ -8062,1 +8559,2 @@\n-\/\/ icu : 2015-01-08 ShortDot SA\n+\/\/ icu : ShortDot SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/icu.html\n@@ -8065,1 +8563,2 @@\n-\/\/ ieee : 2015-07-23 IEEE Global LLC\n+\/\/ ieee : IEEE Global LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ieee.html\n@@ -8068,1 +8567,2 @@\n-\/\/ ifm : 2014-01-30 ifm electronic gmbh\n+\/\/ ifm : ifm electronic gmbh\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ifm.html\n@@ -8071,1 +8571,2 @@\n-\/\/ ikano : 2015-07-09 Ikano S.A.\n+\/\/ ikano : Ikano S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ikano.html\n@@ -8074,1 +8575,2 @@\n-\/\/ imamat : 2015-08-06 Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ imamat : Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/imamat.html\n@@ -8077,1 +8579,2 @@\n-\/\/ imdb : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ imdb : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/imdb.html\n@@ -8080,1 +8583,2 @@\n-\/\/ immo : 2014-07-10 Binky Moon, LLC\n+\/\/ immo : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/immo.html\n@@ -8083,1 +8587,2 @@\n-\/\/ immobilien : 2013-11-07 Dog Beach, LLC\n+\/\/ immobilien : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/immobilien.html\n@@ -8086,1 +8591,2 @@\n-\/\/ inc : 2018-03-10 Intercap Registry Inc.\n+\/\/ inc : Intercap Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/inc.html\n@@ -8089,1 +8595,2 @@\n-\/\/ industries : 2013-12-05 Binky Moon, LLC\n+\/\/ industries : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/industries.html\n@@ -8092,1 +8599,2 @@\n-\/\/ infiniti : 2014-03-27 NISSAN MOTOR CO., LTD.\n+\/\/ infiniti : NISSAN MOTOR CO., LTD.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/infiniti.html\n@@ -8095,1 +8603,2 @@\n-\/\/ ing : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ ing : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ing.html\n@@ -8098,1 +8607,2 @@\n-\/\/ ink : 2013-12-05 Top Level Design, LLC\n+\/\/ ink : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ink.html\n@@ -8101,1 +8611,2 @@\n-\/\/ institute : 2013-11-07 Binky Moon, LLC\n+\/\/ institute : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/institute.html\n@@ -8104,1 +8615,2 @@\n-\/\/ insurance : 2015-02-19 fTLD Registry Services LLC\n+\/\/ insurance : fTLD Registry Services LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/insurance.html\n@@ -8107,1 +8619,2 @@\n-\/\/ insure : 2014-03-20 Binky Moon, LLC\n+\/\/ insure : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/insure.html\n@@ -8110,1 +8623,2 @@\n-\/\/ international : 2013-11-07 Binky Moon, LLC\n+\/\/ international : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/international.html\n@@ -8113,1 +8627,2 @@\n-\/\/ intuit : 2015-07-30 Intuit Administrative Services, Inc.\n+\/\/ intuit : Intuit Administrative Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/intuit.html\n@@ -8116,1 +8631,2 @@\n-\/\/ investments : 2014-03-20 Binky Moon, LLC\n+\/\/ investments : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/investments.html\n@@ -8119,1 +8635,2 @@\n-\/\/ ipiranga : 2014-08-28 Ipiranga Produtos de Petroleo S.A.\n+\/\/ ipiranga : Ipiranga Produtos de Petroleo S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ipiranga.html\n@@ -8122,1 +8639,2 @@\n-\/\/ irish : 2014-08-07 Binky Moon, LLC\n+\/\/ irish : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/irish.html\n@@ -8125,1 +8643,2 @@\n-\/\/ ismaili : 2015-08-06 Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ ismaili : Fondation Aga Khan (Aga Khan Foundation)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ismaili.html\n@@ -8128,1 +8647,2 @@\n-\/\/ ist : 2014-08-28 Istanbul Metropolitan Municipality\n+\/\/ ist : Istanbul Metropolitan Municipality\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ist.html\n@@ -8131,1 +8651,2 @@\n-\/\/ istanbul : 2014-08-28 Istanbul Metropolitan Municipality\n+\/\/ istanbul : Istanbul Metropolitan Municipality\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/istanbul.html\n@@ -8134,1 +8655,2 @@\n-\/\/ itau : 2014-10-02 Itau Unibanco Holding S.A.\n+\/\/ itau : Itau Unibanco Holding S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/itau.html\n@@ -8137,1 +8659,2 @@\n-\/\/ itv : 2015-07-09 ITV Services Limited\n+\/\/ itv : ITV Services Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/itv.html\n@@ -8140,1 +8663,2 @@\n-\/\/ jaguar : 2014-11-13 Jaguar Land Rover Ltd\n+\/\/ jaguar : Jaguar Land Rover Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jaguar.html\n@@ -8143,1 +8667,2 @@\n-\/\/ java : 2014-06-19 Oracle Corporation\n+\/\/ java : Oracle Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/java.html\n@@ -8146,1 +8671,2 @@\n-\/\/ jcb : 2014-11-20 JCB Co., Ltd.\n+\/\/ jcb : JCB Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jcb.html\n@@ -8149,1 +8675,2 @@\n-\/\/ jeep : 2015-07-30 FCA US LLC.\n+\/\/ jeep : FCA US LLC.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jeep.html\n@@ -8152,1 +8679,2 @@\n-\/\/ jetzt : 2014-01-09 Binky Moon, LLC\n+\/\/ jetzt : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jetzt.html\n@@ -8155,1 +8683,2 @@\n-\/\/ jewelry : 2015-03-05 Binky Moon, LLC\n+\/\/ jewelry : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jewelry.html\n@@ -8158,1 +8687,2 @@\n-\/\/ jio : 2015-04-02 Reliance Industries Limited\n+\/\/ jio : Reliance Industries Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jio.html\n@@ -8161,1 +8691,2 @@\n-\/\/ jll : 2015-04-02 Jones Lang LaSalle Incorporated\n+\/\/ jll : Jones Lang LaSalle Incorporated\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jll.html\n@@ -8164,1 +8695,2 @@\n-\/\/ jmp : 2015-03-26 Matrix IP LLC\n+\/\/ jmp : Matrix IP LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jmp.html\n@@ -8167,1 +8699,2 @@\n-\/\/ jnj : 2015-06-18 Johnson & Johnson Services, Inc.\n+\/\/ jnj : Johnson & Johnson Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jnj.html\n@@ -8170,1 +8703,2 @@\n-\/\/ joburg : 2014-03-24 ZA Central Registry NPC trading as ZA Central Registry\n+\/\/ joburg : ZA Central Registry NPC trading as ZA Central Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/joburg.html\n@@ -8173,1 +8707,2 @@\n-\/\/ jot : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ jot : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jot.html\n@@ -8176,1 +8711,2 @@\n-\/\/ joy : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ joy : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/joy.html\n@@ -8179,1 +8715,2 @@\n-\/\/ jpmorgan : 2015-04-30 JPMorgan Chase Bank, National Association\n+\/\/ jpmorgan : JPMorgan Chase Bank, National Association\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jpmorgan.html\n@@ -8182,1 +8719,2 @@\n-\/\/ jprs : 2014-09-18 Japan Registry Services Co., Ltd.\n+\/\/ jprs : Japan Registry Services Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/jprs.html\n@@ -8185,1 +8723,2 @@\n-\/\/ juegos : 2014-03-20 Internet Naming Company LLC\n+\/\/ juegos : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/juegos.html\n@@ -8188,1 +8727,2 @@\n-\/\/ juniper : 2015-07-30 JUNIPER NETWORKS, INC.\n+\/\/ juniper : JUNIPER NETWORKS, INC.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/juniper.html\n@@ -8191,1 +8731,2 @@\n-\/\/ kaufen : 2013-11-07 Dog Beach, LLC\n+\/\/ kaufen : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kaufen.html\n@@ -8194,1 +8735,2 @@\n-\/\/ kddi : 2014-09-12 KDDI CORPORATION\n+\/\/ kddi : KDDI CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kddi.html\n@@ -8197,1 +8739,2 @@\n-\/\/ kerryhotels : 2015-04-30 Kerry Trading Co. Limited\n+\/\/ kerryhotels : Kerry Trading Co. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kerryhotels.html\n@@ -8200,1 +8743,2 @@\n-\/\/ kerrylogistics : 2015-04-09 Kerry Trading Co. Limited\n+\/\/ kerrylogistics : Kerry Trading Co. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kerrylogistics.html\n@@ -8203,1 +8747,2 @@\n-\/\/ kerryproperties : 2015-04-09 Kerry Trading Co. Limited\n+\/\/ kerryproperties : Kerry Trading Co. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kerryproperties.html\n@@ -8206,1 +8751,2 @@\n-\/\/ kfh : 2014-12-04 Kuwait Finance House\n+\/\/ kfh : Kuwait Finance House\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kfh.html\n@@ -8209,1 +8755,2 @@\n-\/\/ kia : 2015-07-09 KIA MOTORS CORPORATION\n+\/\/ kia : KIA MOTORS CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kia.html\n@@ -8212,1 +8759,2 @@\n-\/\/ kids : 2021-08-13 DotKids Foundation Limited\n+\/\/ kids : DotKids Foundation Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kids.html\n@@ -8215,1 +8763,2 @@\n-\/\/ kim : 2013-09-23 Identity Digital Limited\n+\/\/ kim : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kim.html\n@@ -8218,4 +8767,2 @@\n-\/\/ kinder : 2014-11-07 Ferrero Trading Lux S.A.\n-kinder\n-\n-\/\/ kindle : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ kindle : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kindle.html\n@@ -8224,1 +8771,2 @@\n-\/\/ kitchen : 2013-09-20 Binky Moon, LLC\n+\/\/ kitchen : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kitchen.html\n@@ -8227,1 +8775,2 @@\n-\/\/ kiwi : 2013-09-20 DOT KIWI LIMITED\n+\/\/ kiwi : DOT KIWI LIMITED\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kiwi.html\n@@ -8230,1 +8779,2 @@\n-\/\/ koeln : 2014-01-09 dotKoeln GmbH\n+\/\/ koeln : dotKoeln GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/koeln.html\n@@ -8233,1 +8783,2 @@\n-\/\/ komatsu : 2015-01-08 Komatsu Ltd.\n+\/\/ komatsu : Komatsu Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/komatsu.html\n@@ -8236,1 +8787,2 @@\n-\/\/ kosher : 2015-08-20 Kosher Marketing Assets LLC\n+\/\/ kosher : Kosher Marketing Assets LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kosher.html\n@@ -8239,1 +8791,2 @@\n-\/\/ kpmg : 2015-04-23 KPMG International Cooperative (KPMG International Genossenschaft)\n+\/\/ kpmg : KPMG International Cooperative (KPMG International Genossenschaft)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kpmg.html\n@@ -8242,1 +8795,2 @@\n-\/\/ kpn : 2015-01-08 Koninklijke KPN N.V.\n+\/\/ kpn : Koninklijke KPN N.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kpn.html\n@@ -8245,1 +8799,2 @@\n-\/\/ krd : 2013-12-05 KRG Department of Information Technology\n+\/\/ krd : KRG Department of Information Technology\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/krd.html\n@@ -8248,1 +8803,2 @@\n-\/\/ kred : 2013-12-19 KredTLD Pty Ltd\n+\/\/ kred : KredTLD Pty Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kred.html\n@@ -8251,1 +8807,2 @@\n-\/\/ kuokgroup : 2015-04-09 Kerry Trading Co. Limited\n+\/\/ kuokgroup : Kerry Trading Co. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kuokgroup.html\n@@ -8254,1 +8811,2 @@\n-\/\/ kyoto : 2014-11-07 Academic Institution: Kyoto Jyoho Gakuen\n+\/\/ kyoto : Academic Institution: Kyoto Jyoho Gakuen\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/kyoto.html\n@@ -8257,1 +8815,2 @@\n-\/\/ lacaixa : 2014-01-09 Fundacin Bancaria Caixa dEstalvis i Pensions de Barcelona, la Caixa\n+\/\/ lacaixa : Fundacin Bancaria Caixa dEstalvis i Pensions de Barcelona, la Caixa\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lacaixa.html\n@@ -8260,1 +8819,2 @@\n-\/\/ lamborghini : 2015-06-04 Automobili Lamborghini S.p.A.\n+\/\/ lamborghini : Automobili Lamborghini S.p.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lamborghini.html\n@@ -8263,1 +8823,2 @@\n-\/\/ lamer : 2015-10-01 The Este Lauder Companies Inc.\n+\/\/ lamer : The Este Lauder Companies Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lamer.html\n@@ -8266,1 +8827,2 @@\n-\/\/ lancaster : 2015-02-12 LANCASTER\n+\/\/ lancaster : LANCASTER\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lancaster.html\n@@ -8269,4 +8831,2 @@\n-\/\/ lancia : 2015-07-31 Fiat Chrysler Automobiles N.V.\n-lancia\n-\n-\/\/ land : 2013-09-10 Binky Moon, LLC\n+\/\/ land : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/land.html\n@@ -8275,1 +8835,2 @@\n-\/\/ landrover : 2014-11-13 Jaguar Land Rover Ltd\n+\/\/ landrover : Jaguar Land Rover Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/landrover.html\n@@ -8278,1 +8839,2 @@\n-\/\/ lanxess : 2015-07-30 LANXESS Corporation\n+\/\/ lanxess : LANXESS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lanxess.html\n@@ -8281,1 +8843,2 @@\n-\/\/ lasalle : 2015-04-02 Jones Lang LaSalle Incorporated\n+\/\/ lasalle : Jones Lang LaSalle Incorporated\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lasalle.html\n@@ -8284,1 +8847,2 @@\n-\/\/ lat : 2014-10-16 XYZ.COM LLC\n+\/\/ lat : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lat.html\n@@ -8287,1 +8851,2 @@\n-\/\/ latino : 2015-07-30 Dish DBS Corporation\n+\/\/ latino : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/latino.html\n@@ -8290,1 +8855,2 @@\n-\/\/ latrobe : 2014-06-16 La Trobe University\n+\/\/ latrobe : La Trobe University\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/latrobe.html\n@@ -8293,1 +8859,2 @@\n-\/\/ law : 2015-01-22 Registry Services, LLC\n+\/\/ law : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/law.html\n@@ -8296,1 +8863,2 @@\n-\/\/ lawyer : 2014-03-20 Dog Beach, LLC\n+\/\/ lawyer : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lawyer.html\n@@ -8299,1 +8867,2 @@\n-\/\/ lds : 2014-03-20 IRI Domain Management, LLC\n+\/\/ lds : IRI Domain Management, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lds.html\n@@ -8302,1 +8871,2 @@\n-\/\/ lease : 2014-03-06 Binky Moon, LLC\n+\/\/ lease : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lease.html\n@@ -8305,1 +8875,2 @@\n-\/\/ leclerc : 2014-08-07 A.C.D. LEC Association des Centres Distributeurs Edouard Leclerc\n+\/\/ leclerc : A.C.D. LEC Association des Centres Distributeurs Edouard Leclerc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/leclerc.html\n@@ -8308,1 +8879,2 @@\n-\/\/ lefrak : 2015-07-16 LeFrak Organization, Inc.\n+\/\/ lefrak : LeFrak Organization, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lefrak.html\n@@ -8311,1 +8883,2 @@\n-\/\/ legal : 2014-10-16 Binky Moon, LLC\n+\/\/ legal : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/legal.html\n@@ -8314,1 +8887,2 @@\n-\/\/ lego : 2015-07-16 LEGO Juris A\/S\n+\/\/ lego : LEGO Juris A\/S\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lego.html\n@@ -8317,1 +8891,2 @@\n-\/\/ lexus : 2015-04-23 TOYOTA MOTOR CORPORATION\n+\/\/ lexus : TOYOTA MOTOR CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lexus.html\n@@ -8320,1 +8895,2 @@\n-\/\/ lgbt : 2014-05-08 Identity Digital Limited\n+\/\/ lgbt : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lgbt.html\n@@ -8323,1 +8899,2 @@\n-\/\/ lidl : 2014-09-18 Schwarz Domains und Services GmbH & Co. KG\n+\/\/ lidl : Schwarz Domains und Services GmbH & Co. KG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lidl.html\n@@ -8326,1 +8903,2 @@\n-\/\/ life : 2014-02-06 Binky Moon, LLC\n+\/\/ life : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/life.html\n@@ -8329,1 +8907,2 @@\n-\/\/ lifeinsurance : 2015-01-15 American Council of Life Insurers\n+\/\/ lifeinsurance : American Council of Life Insurers\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lifeinsurance.html\n@@ -8332,1 +8911,2 @@\n-\/\/ lifestyle : 2014-12-11 Lifestyle Domain Holdings, Inc.\n+\/\/ lifestyle : Lifestyle Domain Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lifestyle.html\n@@ -8335,1 +8915,2 @@\n-\/\/ lighting : 2013-08-27 Binky Moon, LLC\n+\/\/ lighting : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lighting.html\n@@ -8338,1 +8919,2 @@\n-\/\/ like : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ like : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/like.html\n@@ -8341,1 +8923,2 @@\n-\/\/ lilly : 2015-07-31 Eli Lilly and Company\n+\/\/ lilly : Eli Lilly and Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lilly.html\n@@ -8344,1 +8927,2 @@\n-\/\/ limited : 2014-03-06 Binky Moon, LLC\n+\/\/ limited : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/limited.html\n@@ -8347,1 +8931,2 @@\n-\/\/ limo : 2013-10-17 Binky Moon, LLC\n+\/\/ limo : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/limo.html\n@@ -8350,1 +8935,2 @@\n-\/\/ lincoln : 2014-11-13 Ford Motor Company\n+\/\/ lincoln : Ford Motor Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lincoln.html\n@@ -8353,1 +8939,2 @@\n-\/\/ link : 2013-11-14 Nova Registry Ltd\n+\/\/ link : Nova Registry Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/link.html\n@@ -8356,1 +8943,2 @@\n-\/\/ lipsy : 2015-06-25 Lipsy Ltd\n+\/\/ lipsy : Lipsy Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lipsy.html\n@@ -8359,1 +8947,2 @@\n-\/\/ live : 2014-12-04 Dog Beach, LLC\n+\/\/ live : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/live.html\n@@ -8362,1 +8951,2 @@\n-\/\/ living : 2015-07-30 Lifestyle Domain Holdings, Inc.\n+\/\/ living : Lifestyle Domain Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/living.html\n@@ -8365,1 +8955,2 @@\n-\/\/ llc : 2017-12-14 Identity Digital Limited\n+\/\/ llc : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/llc.html\n@@ -8368,1 +8959,2 @@\n-\/\/ llp : 2019-08-26 Intercap Registry Inc.\n+\/\/ llp : Intercap Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/llp.html\n@@ -8371,1 +8963,2 @@\n-\/\/ loan : 2014-11-20 dot Loan Limited\n+\/\/ loan : dot Loan Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/loan.html\n@@ -8374,1 +8967,2 @@\n-\/\/ loans : 2014-03-20 Binky Moon, LLC\n+\/\/ loans : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/loans.html\n@@ -8377,1 +8971,2 @@\n-\/\/ locker : 2015-06-04 Dish DBS Corporation\n+\/\/ locker : Orange Domains LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/locker.html\n@@ -8380,1 +8975,2 @@\n-\/\/ locus : 2015-06-25 Locus Analytics LLC\n+\/\/ locus : Locus Analytics LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/locus.html\n@@ -8383,1 +8979,2 @@\n-\/\/ lol : 2015-01-30 XYZ.COM LLC\n+\/\/ lol : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lol.html\n@@ -8386,1 +8983,2 @@\n-\/\/ london : 2013-11-14 Dot London Domains Limited\n+\/\/ london : Dot London Domains Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/london.html\n@@ -8389,1 +8987,2 @@\n-\/\/ lotte : 2014-11-07 Lotte Holdings Co., Ltd.\n+\/\/ lotte : Lotte Holdings Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lotte.html\n@@ -8392,1 +8991,2 @@\n-\/\/ lotto : 2014-04-10 Identity Digital Limited\n+\/\/ lotto : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lotto.html\n@@ -8395,1 +8995,2 @@\n-\/\/ love : 2014-12-22 Merchant Law Group LLP\n+\/\/ love : Merchant Law Group LLP\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/love.html\n@@ -8398,1 +8999,2 @@\n-\/\/ lpl : 2015-07-30 LPL Holdings, Inc.\n+\/\/ lpl : LPL Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lpl.html\n@@ -8401,1 +9003,2 @@\n-\/\/ lplfinancial : 2015-07-30 LPL Holdings, Inc.\n+\/\/ lplfinancial : LPL Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lplfinancial.html\n@@ -8404,1 +9007,2 @@\n-\/\/ ltd : 2014-09-25 Binky Moon, LLC\n+\/\/ ltd : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ltd.html\n@@ -8407,1 +9011,2 @@\n-\/\/ ltda : 2014-04-17 InterNetX, Corp\n+\/\/ ltda : InterNetX, Corp\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ltda.html\n@@ -8410,1 +9015,2 @@\n-\/\/ lundbeck : 2015-08-06 H. Lundbeck A\/S\n+\/\/ lundbeck : H. Lundbeck A\/S\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/lundbeck.html\n@@ -8413,1 +9019,2 @@\n-\/\/ luxe : 2014-01-09 Registry Services, LLC\n+\/\/ luxe : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/luxe.html\n@@ -8416,1 +9023,2 @@\n-\/\/ luxury : 2013-10-17 Luxury Partners, LLC\n+\/\/ luxury : Luxury Partners, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/luxury.html\n@@ -8419,1 +9027,2 @@\n-\/\/ madrid : 2014-05-01 Comunidad de Madrid\n+\/\/ madrid : Comunidad de Madrid\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/madrid.html\n@@ -8422,1 +9031,2 @@\n-\/\/ maif : 2014-10-02 Mutuelle Assurance Instituteur France (MAIF)\n+\/\/ maif : Mutuelle Assurance Instituteur France (MAIF)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/maif.html\n@@ -8425,1 +9035,2 @@\n-\/\/ maison : 2013-12-05 Binky Moon, LLC\n+\/\/ maison : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/maison.html\n@@ -8428,1 +9039,2 @@\n-\/\/ makeup : 2015-01-15 XYZ.COM LLC\n+\/\/ makeup : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/makeup.html\n@@ -8431,1 +9043,2 @@\n-\/\/ man : 2014-12-04 MAN SE\n+\/\/ man : MAN SE\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/man.html\n@@ -8434,1 +9047,2 @@\n-\/\/ management : 2013-11-07 Binky Moon, LLC\n+\/\/ management : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/management.html\n@@ -8437,1 +9051,2 @@\n-\/\/ mango : 2013-10-24 PUNTO FA S.L.\n+\/\/ mango : PUNTO FA S.L.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mango.html\n@@ -8440,1 +9055,2 @@\n-\/\/ map : 2016-06-09 Charleston Road Registry Inc.\n+\/\/ map : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/map.html\n@@ -8443,1 +9059,2 @@\n-\/\/ market : 2014-03-06 Dog Beach, LLC\n+\/\/ market : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/market.html\n@@ -8446,1 +9063,2 @@\n-\/\/ marketing : 2013-11-07 Binky Moon, LLC\n+\/\/ marketing : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/marketing.html\n@@ -8449,1 +9067,2 @@\n-\/\/ markets : 2014-12-11 Dog Beach, LLC\n+\/\/ markets : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/markets.html\n@@ -8452,1 +9071,2 @@\n-\/\/ marriott : 2014-10-09 Marriott Worldwide Corporation\n+\/\/ marriott : Marriott Worldwide Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/marriott.html\n@@ -8455,1 +9075,2 @@\n-\/\/ marshalls : 2015-07-16 The TJX Companies, Inc.\n+\/\/ marshalls : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/marshalls.html\n@@ -8458,4 +9079,2 @@\n-\/\/ maserati : 2015-07-31 Fiat Chrysler Automobiles N.V.\n-maserati\n-\n-\/\/ mattel : 2015-08-06 Mattel Sites, Inc.\n+\/\/ mattel : Mattel Sites, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mattel.html\n@@ -8464,1 +9083,2 @@\n-\/\/ mba : 2015-04-02 Binky Moon, LLC\n+\/\/ mba : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mba.html\n@@ -8467,1 +9087,2 @@\n-\/\/ mckinsey : 2015-07-31 McKinsey Holdings, Inc.\n+\/\/ mckinsey : McKinsey Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mckinsey.html\n@@ -8470,1 +9091,2 @@\n-\/\/ med : 2015-08-06 Medistry LLC\n+\/\/ med : Medistry LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/med.html\n@@ -8473,1 +9095,2 @@\n-\/\/ media : 2014-03-06 Binky Moon, LLC\n+\/\/ media : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/media.html\n@@ -8476,1 +9099,2 @@\n-\/\/ meet : 2014-01-16 Charleston Road Registry Inc.\n+\/\/ meet : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/meet.html\n@@ -8479,1 +9103,2 @@\n-\/\/ melbourne : 2014-05-29 The Crown in right of the State of Victoria, represented by its Department of State Development, Business and Innovation\n+\/\/ melbourne : The Crown in right of the State of Victoria, represented by its Department of State Development, Business and Innovation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/melbourne.html\n@@ -8482,1 +9107,2 @@\n-\/\/ meme : 2014-01-30 Charleston Road Registry Inc.\n+\/\/ meme : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/meme.html\n@@ -8485,1 +9111,2 @@\n-\/\/ memorial : 2014-10-16 Dog Beach, LLC\n+\/\/ memorial : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/memorial.html\n@@ -8488,1 +9115,2 @@\n-\/\/ men : 2015-02-26 Exclusive Registry Limited\n+\/\/ men : Exclusive Registry Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/men.html\n@@ -8491,1 +9119,2 @@\n-\/\/ menu : 2013-09-11 Dot Menu Registry, LLC\n+\/\/ menu : Dot Menu Registry, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/menu.html\n@@ -8494,1 +9123,2 @@\n-\/\/ merckmsd : 2016-07-14 MSD Registry Holdings, Inc.\n+\/\/ merckmsd : MSD Registry Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/merckmsd.html\n@@ -8497,1 +9127,2 @@\n-\/\/ miami : 2013-12-19 Registry Services, LLC\n+\/\/ miami : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/miami.html\n@@ -8500,1 +9131,2 @@\n-\/\/ microsoft : 2014-12-18 Microsoft Corporation\n+\/\/ microsoft : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/microsoft.html\n@@ -8503,1 +9135,2 @@\n-\/\/ mini : 2014-01-09 Bayerische Motoren Werke Aktiengesellschaft\n+\/\/ mini : Bayerische Motoren Werke Aktiengesellschaft\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mini.html\n@@ -8506,1 +9139,2 @@\n-\/\/ mint : 2015-07-30 Intuit Administrative Services, Inc.\n+\/\/ mint : Intuit Administrative Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mint.html\n@@ -8509,1 +9143,2 @@\n-\/\/ mit : 2015-07-02 Massachusetts Institute of Technology\n+\/\/ mit : Massachusetts Institute of Technology\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mit.html\n@@ -8512,1 +9147,2 @@\n-\/\/ mitsubishi : 2015-07-23 Mitsubishi Corporation\n+\/\/ mitsubishi : Mitsubishi Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mitsubishi.html\n@@ -8515,1 +9151,2 @@\n-\/\/ mlb : 2015-05-21 MLB Advanced Media DH, LLC\n+\/\/ mlb : MLB Advanced Media DH, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mlb.html\n@@ -8518,1 +9155,2 @@\n-\/\/ mls : 2015-04-23 The Canadian Real Estate Association\n+\/\/ mls : The Canadian Real Estate Association\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mls.html\n@@ -8521,1 +9159,2 @@\n-\/\/ mma : 2014-11-07 MMA IARD\n+\/\/ mma : MMA IARD\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mma.html\n@@ -8524,1 +9163,2 @@\n-\/\/ mobile : 2016-06-02 Dish DBS Corporation\n+\/\/ mobile : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mobile.html\n@@ -8527,1 +9167,2 @@\n-\/\/ moda : 2013-11-07 Dog Beach, LLC\n+\/\/ moda : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/moda.html\n@@ -8530,1 +9171,2 @@\n-\/\/ moe : 2013-11-13 Interlink Systems Innovation Institute K.K.\n+\/\/ moe : Interlink Systems Innovation Institute K.K.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/moe.html\n@@ -8533,1 +9175,2 @@\n-\/\/ moi : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ moi : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/moi.html\n@@ -8536,1 +9179,2 @@\n-\/\/ mom : 2015-04-16 XYZ.COM LLC\n+\/\/ mom : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mom.html\n@@ -8539,1 +9183,2 @@\n-\/\/ monash : 2013-09-30 Monash University\n+\/\/ monash : Monash University\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/monash.html\n@@ -8542,1 +9187,2 @@\n-\/\/ money : 2014-10-16 Binky Moon, LLC\n+\/\/ money : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/money.html\n@@ -8545,1 +9191,2 @@\n-\/\/ monster : 2015-09-11 XYZ.COM LLC\n+\/\/ monster : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/monster.html\n@@ -8548,1 +9195,2 @@\n-\/\/ mormon : 2013-12-05 IRI Domain Management, LLC\n+\/\/ mormon : IRI Domain Management, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mormon.html\n@@ -8551,1 +9199,2 @@\n-\/\/ mortgage : 2014-03-20 Dog Beach, LLC\n+\/\/ mortgage : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mortgage.html\n@@ -8554,1 +9203,2 @@\n-\/\/ moscow : 2013-12-19 Foundation for Assistance for Internet Technologies and Infrastructure Development (FAITID)\n+\/\/ moscow : Foundation for Assistance for Internet Technologies and Infrastructure Development (FAITID)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/moscow.html\n@@ -8557,1 +9207,2 @@\n-\/\/ moto : 2015-06-04 Motorola Trademark Holdings, LLC\n+\/\/ moto : Motorola Trademark Holdings, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/moto.html\n@@ -8560,1 +9211,2 @@\n-\/\/ motorcycles : 2014-01-09 XYZ.COM LLC\n+\/\/ motorcycles : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/motorcycles.html\n@@ -8563,1 +9215,2 @@\n-\/\/ mov : 2014-01-30 Charleston Road Registry Inc.\n+\/\/ mov : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mov.html\n@@ -8566,1 +9219,2 @@\n-\/\/ movie : 2015-02-05 Binky Moon, LLC\n+\/\/ movie : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/movie.html\n@@ -8569,1 +9223,2 @@\n-\/\/ msd : 2015-07-23 MSD Registry Holdings, Inc.\n+\/\/ msd : MSD Registry Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/msd.html\n@@ -8572,1 +9227,2 @@\n-\/\/ mtn : 2014-12-04 MTN Dubai Limited\n+\/\/ mtn : MTN Dubai Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mtn.html\n@@ -8575,1 +9231,2 @@\n-\/\/ mtr : 2015-03-12 MTR Corporation Limited\n+\/\/ mtr : MTR Corporation Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/mtr.html\n@@ -8578,1 +9235,2 @@\n-\/\/ music : 2021-05-04 DotMusic Limited\n+\/\/ music : DotMusic Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/music.html\n@@ -8581,4 +9239,2 @@\n-\/\/ mutual : 2015-04-02 Northwestern Mutual MU TLD Registry, LLC\n-mutual\n-\n-\/\/ nab : 2015-08-20 National Australia Bank Limited\n+\/\/ nab : National Australia Bank Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nab.html\n@@ -8587,1 +9243,2 @@\n-\/\/ nagoya : 2013-10-24 GMO Registry, Inc.\n+\/\/ nagoya : GMO Registry, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nagoya.html\n@@ -8590,1 +9247,2 @@\n-\/\/ natura : 2015-03-12 NATURA COSMTICOS S.A.\n+\/\/ natura : NATURA COSMTICOS S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/natura.html\n@@ -8593,1 +9251,2 @@\n-\/\/ navy : 2014-03-06 Dog Beach, LLC\n+\/\/ navy : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/navy.html\n@@ -8596,1 +9255,2 @@\n-\/\/ nba : 2015-07-31 NBA REGISTRY, LLC\n+\/\/ nba : NBA REGISTRY, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nba.html\n@@ -8599,1 +9259,2 @@\n-\/\/ nec : 2015-01-08 NEC Corporation\n+\/\/ nec : NEC Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nec.html\n@@ -8602,1 +9263,2 @@\n-\/\/ netbank : 2014-06-26 COMMONWEALTH BANK OF AUSTRALIA\n+\/\/ netbank : COMMONWEALTH BANK OF AUSTRALIA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/netbank.html\n@@ -8605,1 +9267,2 @@\n-\/\/ netflix : 2015-06-18 Netflix, Inc.\n+\/\/ netflix : Netflix, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/netflix.html\n@@ -8608,1 +9271,2 @@\n-\/\/ network : 2013-11-14 Binky Moon, LLC\n+\/\/ network : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/network.html\n@@ -8611,1 +9275,2 @@\n-\/\/ neustar : 2013-12-05 NeuStar, Inc.\n+\/\/ neustar : NeuStar, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/neustar.html\n@@ -8614,1 +9279,2 @@\n-\/\/ new : 2014-01-30 Charleston Road Registry Inc.\n+\/\/ new : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/new.html\n@@ -8617,1 +9283,2 @@\n-\/\/ news : 2014-12-18 Dog Beach, LLC\n+\/\/ news : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/news.html\n@@ -8620,1 +9287,2 @@\n-\/\/ next : 2015-06-18 Next plc\n+\/\/ next : Next plc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/next.html\n@@ -8623,1 +9291,2 @@\n-\/\/ nextdirect : 2015-06-18 Next plc\n+\/\/ nextdirect : Next plc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nextdirect.html\n@@ -8626,1 +9295,2 @@\n-\/\/ nexus : 2014-07-24 Charleston Road Registry Inc.\n+\/\/ nexus : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nexus.html\n@@ -8629,1 +9299,2 @@\n-\/\/ nfl : 2015-07-23 NFL Reg Ops LLC\n+\/\/ nfl : NFL Reg Ops LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nfl.html\n@@ -8632,1 +9303,2 @@\n-\/\/ ngo : 2014-03-06 Public Interest Registry\n+\/\/ ngo : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ngo.html\n@@ -8635,1 +9307,2 @@\n-\/\/ nhk : 2014-02-13 Japan Broadcasting Corporation (NHK)\n+\/\/ nhk : Japan Broadcasting Corporation (NHK)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nhk.html\n@@ -8638,1 +9311,2 @@\n-\/\/ nico : 2014-12-04 DWANGO Co., Ltd.\n+\/\/ nico : DWANGO Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nico.html\n@@ -8641,1 +9315,2 @@\n-\/\/ nike : 2015-07-23 NIKE, Inc.\n+\/\/ nike : NIKE, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nike.html\n@@ -8644,1 +9319,2 @@\n-\/\/ nikon : 2015-05-21 NIKON CORPORATION\n+\/\/ nikon : NIKON CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nikon.html\n@@ -8647,1 +9323,2 @@\n-\/\/ ninja : 2013-11-07 Dog Beach, LLC\n+\/\/ ninja : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ninja.html\n@@ -8650,1 +9327,2 @@\n-\/\/ nissan : 2014-03-27 NISSAN MOTOR CO., LTD.\n+\/\/ nissan : NISSAN MOTOR CO., LTD.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nissan.html\n@@ -8653,1 +9331,2 @@\n-\/\/ nissay : 2015-10-29 Nippon Life Insurance Company\n+\/\/ nissay : Nippon Life Insurance Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nissay.html\n@@ -8656,1 +9335,2 @@\n-\/\/ nokia : 2015-01-08 Nokia Corporation\n+\/\/ nokia : Nokia Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nokia.html\n@@ -8659,4 +9339,2 @@\n-\/\/ northwesternmutual : 2015-06-18 Northwestern Mutual Registry, LLC\n-northwesternmutual\n-\n-\/\/ norton : 2014-12-04 NortonLifeLock Inc.\n+\/\/ norton : NortonLifeLock Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/norton.html\n@@ -8665,1 +9343,2 @@\n-\/\/ now : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ now : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/now.html\n@@ -8668,1 +9347,2 @@\n-\/\/ nowruz : 2014-09-04 Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ nowruz : Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nowruz.html\n@@ -8671,1 +9351,2 @@\n-\/\/ nowtv : 2015-05-14 Starbucks (HK) Limited\n+\/\/ nowtv : Starbucks (HK) Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nowtv.html\n@@ -8674,1 +9355,2 @@\n-\/\/ nra : 2014-05-22 NRA Holdings Company, INC.\n+\/\/ nra : NRA Holdings Company, INC.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nra.html\n@@ -8677,1 +9359,2 @@\n-\/\/ nrw : 2013-11-21 Minds + Machines GmbH\n+\/\/ nrw : Minds + Machines GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nrw.html\n@@ -8680,1 +9363,2 @@\n-\/\/ ntt : 2014-10-31 NIPPON TELEGRAPH AND TELEPHONE CORPORATION\n+\/\/ ntt : NIPPON TELEGRAPH AND TELEPHONE CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ntt.html\n@@ -8683,1 +9367,2 @@\n-\/\/ nyc : 2014-01-23 The City of New York by and through the New York City Department of Information Technology & Telecommunications\n+\/\/ nyc : The City of New York by and through the New York City Department of Information Technology & Telecommunications\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/nyc.html\n@@ -8686,1 +9371,2 @@\n-\/\/ obi : 2014-09-25 OBI Group Holding SE & Co. KGaA\n+\/\/ obi : OBI Group Holding SE & Co. KGaA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/obi.html\n@@ -8689,1 +9375,2 @@\n-\/\/ observer : 2015-04-30 Dog Beach, LLC\n+\/\/ observer : Fegistry, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/observer.html\n@@ -8692,1 +9379,2 @@\n-\/\/ office : 2015-03-12 Microsoft Corporation\n+\/\/ office : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/office.html\n@@ -8695,1 +9383,2 @@\n-\/\/ okinawa : 2013-12-05 BRregistry, Inc.\n+\/\/ okinawa : BRregistry, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/okinawa.html\n@@ -8698,1 +9387,2 @@\n-\/\/ olayan : 2015-05-14 Crescent Holding GmbH\n+\/\/ olayan : Competrol (Luxembourg) Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/olayan.html\n@@ -8701,1 +9391,2 @@\n-\/\/ olayangroup : 2015-05-14 Crescent Holding GmbH\n+\/\/ olayangroup : Competrol (Luxembourg) Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/olayangroup.html\n@@ -8704,1 +9395,2 @@\n-\/\/ oldnavy : 2015-07-31 The Gap, Inc.\n+\/\/ oldnavy : The Gap, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/oldnavy.html\n@@ -8707,1 +9399,2 @@\n-\/\/ ollo : 2015-06-04 Dish DBS Corporation\n+\/\/ ollo : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ollo.html\n@@ -8710,1 +9403,2 @@\n-\/\/ omega : 2015-01-08 The Swatch Group Ltd\n+\/\/ omega : The Swatch Group Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/omega.html\n@@ -8713,1 +9407,2 @@\n-\/\/ one : 2014-11-07 One.com A\/S\n+\/\/ one : One.com A\/S\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/one.html\n@@ -8716,1 +9411,2 @@\n-\/\/ ong : 2014-03-06 Public Interest Registry\n+\/\/ ong : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ong.html\n@@ -8719,1 +9415,2 @@\n-\/\/ onl : 2013-09-16 iRegistry GmbH\n+\/\/ onl : iRegistry GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/onl.html\n@@ -8722,1 +9419,2 @@\n-\/\/ online : 2015-01-15 Radix FZC\n+\/\/ online : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/online.html\n@@ -8725,1 +9423,2 @@\n-\/\/ ooo : 2014-01-09 INFIBEAM AVENUES LIMITED\n+\/\/ ooo : INFIBEAM AVENUES LIMITED\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ooo.html\n@@ -8728,1 +9427,2 @@\n-\/\/ open : 2015-07-31 American Express Travel Related Services Company, Inc.\n+\/\/ open : American Express Travel Related Services Company, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/open.html\n@@ -8731,1 +9431,2 @@\n-\/\/ oracle : 2014-06-19 Oracle Corporation\n+\/\/ oracle : Oracle Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/oracle.html\n@@ -8734,1 +9435,2 @@\n-\/\/ orange : 2015-03-12 Orange Brand Services Limited\n+\/\/ orange : Orange Brand Services Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/orange.html\n@@ -8737,1 +9439,2 @@\n-\/\/ organic : 2014-03-27 Identity Digital Limited\n+\/\/ organic : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/organic.html\n@@ -8740,1 +9443,2 @@\n-\/\/ origins : 2015-10-01 The Este Lauder Companies Inc.\n+\/\/ origins : The Este Lauder Companies Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/origins.html\n@@ -8743,1 +9447,2 @@\n-\/\/ osaka : 2014-09-04 Osaka Registry Co., Ltd.\n+\/\/ osaka : Osaka Registry Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/osaka.html\n@@ -8746,1 +9451,2 @@\n-\/\/ otsuka : 2013-10-11 Otsuka Holdings Co., Ltd.\n+\/\/ otsuka : Otsuka Holdings Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/otsuka.html\n@@ -8749,1 +9455,2 @@\n-\/\/ ott : 2015-06-04 Dish DBS Corporation\n+\/\/ ott : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ott.html\n@@ -8752,1 +9459,2 @@\n-\/\/ ovh : 2014-01-16 MdiaBC\n+\/\/ ovh : MdiaBC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ovh.html\n@@ -8755,1 +9463,2 @@\n-\/\/ page : 2014-12-04 Charleston Road Registry Inc.\n+\/\/ page : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/page.html\n@@ -8758,1 +9467,2 @@\n-\/\/ panasonic : 2015-07-30 Panasonic Holdings Corporation\n+\/\/ panasonic : Panasonic Holdings Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/panasonic.html\n@@ -8761,1 +9471,2 @@\n-\/\/ paris : 2014-01-30 City of Paris\n+\/\/ paris : City of Paris\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/paris.html\n@@ -8764,1 +9475,2 @@\n-\/\/ pars : 2014-09-04 Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ pars : Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pars.html\n@@ -8767,1 +9479,2 @@\n-\/\/ partners : 2013-12-05 Binky Moon, LLC\n+\/\/ partners : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/partners.html\n@@ -8770,1 +9483,2 @@\n-\/\/ parts : 2013-12-05 Binky Moon, LLC\n+\/\/ parts : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/parts.html\n@@ -8773,1 +9487,2 @@\n-\/\/ party : 2014-09-11 Blue Sky Registry Limited\n+\/\/ party : Blue Sky Registry Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/party.html\n@@ -8776,4 +9491,2 @@\n-\/\/ passagens : 2015-03-05 Travel Reservations SRL\n-passagens\n-\n-\/\/ pay : 2015-08-27 Amazon Registry Services, Inc.\n+\/\/ pay : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pay.html\n@@ -8782,1 +9495,2 @@\n-\/\/ pccw : 2015-05-14 PCCW Enterprises Limited\n+\/\/ pccw : PCCW Enterprises Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pccw.html\n@@ -8785,1 +9499,2 @@\n-\/\/ pet : 2015-05-07 Identity Digital Limited\n+\/\/ pet : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pet.html\n@@ -8788,1 +9503,2 @@\n-\/\/ pfizer : 2015-09-11 Pfizer Inc.\n+\/\/ pfizer : Pfizer Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pfizer.html\n@@ -8791,1 +9507,2 @@\n-\/\/ pharmacy : 2014-06-19 National Association of Boards of Pharmacy\n+\/\/ pharmacy : National Association of Boards of Pharmacy\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pharmacy.html\n@@ -8794,1 +9511,2 @@\n-\/\/ phd : 2016-07-28 Charleston Road Registry Inc.\n+\/\/ phd : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/phd.html\n@@ -8797,1 +9515,2 @@\n-\/\/ philips : 2014-11-07 Koninklijke Philips N.V.\n+\/\/ philips : Koninklijke Philips N.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/philips.html\n@@ -8800,1 +9519,2 @@\n-\/\/ phone : 2016-06-02 Dish DBS Corporation\n+\/\/ phone : Dish DBS Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/phone.html\n@@ -8803,1 +9523,2 @@\n-\/\/ photo : 2013-11-14 Registry Services, LLC\n+\/\/ photo : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/photo.html\n@@ -8806,1 +9527,2 @@\n-\/\/ photography : 2013-09-20 Binky Moon, LLC\n+\/\/ photography : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/photography.html\n@@ -8809,1 +9531,2 @@\n-\/\/ photos : 2013-10-17 Binky Moon, LLC\n+\/\/ photos : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/photos.html\n@@ -8812,1 +9535,2 @@\n-\/\/ physio : 2014-05-01 PhysBiz Pty Ltd\n+\/\/ physio : PhysBiz Pty Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/physio.html\n@@ -8815,1 +9539,2 @@\n-\/\/ pics : 2013-11-14 XYZ.COM LLC\n+\/\/ pics : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pics.html\n@@ -8818,1 +9543,2 @@\n-\/\/ pictet : 2014-06-26 Pictet Europe S.A.\n+\/\/ pictet : Pictet Europe S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pictet.html\n@@ -8821,1 +9547,2 @@\n-\/\/ pictures : 2014-03-06 Binky Moon, LLC\n+\/\/ pictures : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pictures.html\n@@ -8824,1 +9551,2 @@\n-\/\/ pid : 2015-01-08 Top Level Spectrum, Inc.\n+\/\/ pid : Top Level Spectrum, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pid.html\n@@ -8827,1 +9555,2 @@\n-\/\/ pin : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ pin : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pin.html\n@@ -8830,1 +9559,2 @@\n-\/\/ ping : 2015-06-11 Ping Registry Provider, Inc.\n+\/\/ ping : Ping Registry Provider, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ping.html\n@@ -8833,1 +9563,2 @@\n-\/\/ pink : 2013-10-01 Identity Digital Limited\n+\/\/ pink : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pink.html\n@@ -8836,1 +9567,2 @@\n-\/\/ pioneer : 2015-07-16 Pioneer Corporation\n+\/\/ pioneer : Pioneer Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pioneer.html\n@@ -8839,1 +9571,2 @@\n-\/\/ pizza : 2014-06-26 Binky Moon, LLC\n+\/\/ pizza : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pizza.html\n@@ -8842,1 +9575,2 @@\n-\/\/ place : 2014-04-24 Binky Moon, LLC\n+\/\/ place : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/place.html\n@@ -8845,1 +9579,2 @@\n-\/\/ play : 2015-03-05 Charleston Road Registry Inc.\n+\/\/ play : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/play.html\n@@ -8848,1 +9583,2 @@\n-\/\/ playstation : 2015-07-02 Sony Interactive Entertainment Inc.\n+\/\/ playstation : Sony Interactive Entertainment Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/playstation.html\n@@ -8851,1 +9587,2 @@\n-\/\/ plumbing : 2013-09-10 Binky Moon, LLC\n+\/\/ plumbing : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/plumbing.html\n@@ -8854,1 +9591,2 @@\n-\/\/ plus : 2015-02-05 Binky Moon, LLC\n+\/\/ plus : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/plus.html\n@@ -8857,1 +9595,2 @@\n-\/\/ pnc : 2015-07-02 PNC Domain Co., LLC\n+\/\/ pnc : PNC Domain Co., LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pnc.html\n@@ -8860,1 +9599,2 @@\n-\/\/ pohl : 2014-06-23 Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ pohl : Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pohl.html\n@@ -8863,1 +9603,2 @@\n-\/\/ poker : 2014-07-03 Identity Digital Limited\n+\/\/ poker : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/poker.html\n@@ -8866,1 +9607,2 @@\n-\/\/ politie : 2015-08-20 Politie Nederland\n+\/\/ politie : Politie Nederland\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/politie.html\n@@ -8869,1 +9611,2 @@\n-\/\/ porn : 2014-10-16 ICM Registry PN LLC\n+\/\/ porn : ICM Registry PN LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/porn.html\n@@ -8872,1 +9615,2 @@\n-\/\/ pramerica : 2015-07-30 Prudential Financial, Inc.\n+\/\/ pramerica : Prudential Financial, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pramerica.html\n@@ -8875,1 +9619,2 @@\n-\/\/ praxi : 2013-12-05 Praxi S.p.A.\n+\/\/ praxi : Praxi S.p.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/praxi.html\n@@ -8878,1 +9623,2 @@\n-\/\/ press : 2014-04-03 Radix FZC\n+\/\/ press : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/press.html\n@@ -8881,1 +9627,2 @@\n-\/\/ prime : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ prime : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/prime.html\n@@ -8884,1 +9631,2 @@\n-\/\/ prod : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ prod : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/prod.html\n@@ -8887,1 +9635,2 @@\n-\/\/ productions : 2013-12-05 Binky Moon, LLC\n+\/\/ productions : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/productions.html\n@@ -8890,1 +9639,2 @@\n-\/\/ prof : 2014-07-24 Charleston Road Registry Inc.\n+\/\/ prof : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/prof.html\n@@ -8893,1 +9643,2 @@\n-\/\/ progressive : 2015-07-23 Progressive Casualty Insurance Company\n+\/\/ progressive : Progressive Casualty Insurance Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/progressive.html\n@@ -8896,1 +9647,2 @@\n-\/\/ promo : 2014-12-18 Identity Digital Limited\n+\/\/ promo : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/promo.html\n@@ -8899,1 +9651,2 @@\n-\/\/ properties : 2013-12-05 Binky Moon, LLC\n+\/\/ properties : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/properties.html\n@@ -8902,1 +9655,2 @@\n-\/\/ property : 2014-05-22 Internet Naming Company LLC\n+\/\/ property : Digital Property Infrastructure Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/property.html\n@@ -8905,1 +9659,2 @@\n-\/\/ protection : 2015-04-23 XYZ.COM LLC\n+\/\/ protection : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/protection.html\n@@ -8908,1 +9663,2 @@\n-\/\/ pru : 2015-07-30 Prudential Financial, Inc.\n+\/\/ pru : Prudential Financial, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pru.html\n@@ -8911,1 +9667,2 @@\n-\/\/ prudential : 2015-07-30 Prudential Financial, Inc.\n+\/\/ prudential : Prudential Financial, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/prudential.html\n@@ -8914,1 +9671,2 @@\n-\/\/ pub : 2013-12-12 Dog Beach, LLC\n+\/\/ pub : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pub.html\n@@ -8917,1 +9675,2 @@\n-\/\/ pwc : 2015-10-29 PricewaterhouseCoopers LLP\n+\/\/ pwc : PricewaterhouseCoopers LLP\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/pwc.html\n@@ -8920,1 +9679,2 @@\n-\/\/ qpon : 2013-11-14 dotQPON LLC\n+\/\/ qpon : dotQPON LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/qpon.html\n@@ -8923,1 +9683,2 @@\n-\/\/ quebec : 2013-12-19 PointQubec Inc\n+\/\/ quebec : PointQubec Inc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/quebec.html\n@@ -8926,1 +9687,2 @@\n-\/\/ quest : 2015-03-26 XYZ.COM LLC\n+\/\/ quest : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/quest.html\n@@ -8929,1 +9691,2 @@\n-\/\/ racing : 2014-12-04 Premier Registry Limited\n+\/\/ racing : Premier Registry Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/racing.html\n@@ -8932,1 +9695,2 @@\n-\/\/ radio : 2016-07-21 European Broadcasting Union (EBU)\n+\/\/ radio : European Broadcasting Union (EBU)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/radio.html\n@@ -8935,1 +9699,2 @@\n-\/\/ read : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ read : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/read.html\n@@ -8938,1 +9703,2 @@\n-\/\/ realestate : 2015-09-11 dotRealEstate LLC\n+\/\/ realestate : dotRealEstate LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/realestate.html\n@@ -8941,1 +9707,2 @@\n-\/\/ realtor : 2014-05-29 Real Estate Domains LLC\n+\/\/ realtor : Real Estate Domains LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/realtor.html\n@@ -8944,1 +9711,2 @@\n-\/\/ realty : 2015-03-19 Dog Beach, LLC\n+\/\/ realty : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/realty.html\n@@ -8947,1 +9715,2 @@\n-\/\/ recipes : 2013-10-17 Binky Moon, LLC\n+\/\/ recipes : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/recipes.html\n@@ -8950,1 +9719,2 @@\n-\/\/ red : 2013-11-07 Identity Digital Limited\n+\/\/ red : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/red.html\n@@ -8953,1 +9723,2 @@\n-\/\/ redstone : 2014-10-31 Redstone Haute Couture Co., Ltd.\n+\/\/ redstone : Redstone Haute Couture Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/redstone.html\n@@ -8956,1 +9727,2 @@\n-\/\/ redumbrella : 2015-03-26 Travelers TLD, LLC\n+\/\/ redumbrella : Travelers TLD, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/redumbrella.html\n@@ -8959,1 +9731,2 @@\n-\/\/ rehab : 2014-03-06 Dog Beach, LLC\n+\/\/ rehab : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rehab.html\n@@ -8962,1 +9735,2 @@\n-\/\/ reise : 2014-03-13 Binky Moon, LLC\n+\/\/ reise : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/reise.html\n@@ -8965,1 +9739,2 @@\n-\/\/ reisen : 2014-03-06 Binky Moon, LLC\n+\/\/ reisen : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/reisen.html\n@@ -8968,1 +9743,2 @@\n-\/\/ reit : 2014-09-04 National Association of Real Estate Investment Trusts, Inc.\n+\/\/ reit : National Association of Real Estate Investment Trusts, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/reit.html\n@@ -8971,1 +9747,2 @@\n-\/\/ reliance : 2015-04-02 Reliance Industries Limited\n+\/\/ reliance : Reliance Industries Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/reliance.html\n@@ -8974,1 +9751,2 @@\n-\/\/ ren : 2013-12-12 ZDNS International Limited\n+\/\/ ren : ZDNS International Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ren.html\n@@ -8977,1 +9755,2 @@\n-\/\/ rent : 2014-12-04 XYZ.COM LLC\n+\/\/ rent : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rent.html\n@@ -8980,1 +9759,2 @@\n-\/\/ rentals : 2013-12-05 Binky Moon, LLC\n+\/\/ rentals : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rentals.html\n@@ -8983,1 +9763,2 @@\n-\/\/ repair : 2013-11-07 Binky Moon, LLC\n+\/\/ repair : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/repair.html\n@@ -8986,1 +9767,2 @@\n-\/\/ report : 2013-12-05 Binky Moon, LLC\n+\/\/ report : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/report.html\n@@ -8989,1 +9771,2 @@\n-\/\/ republican : 2014-03-20 Dog Beach, LLC\n+\/\/ republican : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/republican.html\n@@ -8992,1 +9775,2 @@\n-\/\/ rest : 2013-12-19 Punto 2012 Sociedad Anonima Promotora de Inversion de Capital Variable\n+\/\/ rest : Punto 2012 Sociedad Anonima Promotora de Inversion de Capital Variable\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rest.html\n@@ -8995,1 +9779,2 @@\n-\/\/ restaurant : 2014-07-03 Binky Moon, LLC\n+\/\/ restaurant : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/restaurant.html\n@@ -8998,1 +9783,2 @@\n-\/\/ review : 2014-11-20 dot Review Limited\n+\/\/ review : dot Review Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/review.html\n@@ -9001,1 +9787,2 @@\n-\/\/ reviews : 2013-09-13 Dog Beach, LLC\n+\/\/ reviews : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/reviews.html\n@@ -9004,1 +9791,2 @@\n-\/\/ rexroth : 2015-06-18 Robert Bosch GMBH\n+\/\/ rexroth : Robert Bosch GMBH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rexroth.html\n@@ -9007,1 +9795,2 @@\n-\/\/ rich : 2013-11-21 iRegistry GmbH\n+\/\/ rich : iRegistry GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rich.html\n@@ -9010,1 +9799,2 @@\n-\/\/ richardli : 2015-05-14 Pacific Century Asset Management (HK) Limited\n+\/\/ richardli : Pacific Century Asset Management (HK) Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/richardli.html\n@@ -9013,1 +9803,2 @@\n-\/\/ ricoh : 2014-11-20 Ricoh Company, Ltd.\n+\/\/ ricoh : Ricoh Company, Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ricoh.html\n@@ -9016,1 +9807,2 @@\n-\/\/ ril : 2015-04-02 Reliance Industries Limited\n+\/\/ ril : Reliance Industries Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ril.html\n@@ -9019,1 +9811,2 @@\n-\/\/ rio : 2014-02-27 Empresa Municipal de Informtica SA - IPLANRIO\n+\/\/ rio : Empresa Municipal de Informtica SA - IPLANRIO\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rio.html\n@@ -9022,1 +9815,2 @@\n-\/\/ rip : 2014-07-10 Dog Beach, LLC\n+\/\/ rip : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rip.html\n@@ -9025,4 +9819,2 @@\n-\/\/ rocher : 2014-12-18 Ferrero Trading Lux S.A.\n-rocher\n-\n-\/\/ rocks : 2013-11-14 Dog Beach, LLC\n+\/\/ rocks : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rocks.html\n@@ -9031,1 +9823,2 @@\n-\/\/ rodeo : 2013-12-19 Registry Services, LLC\n+\/\/ rodeo : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rodeo.html\n@@ -9034,1 +9827,2 @@\n-\/\/ rogers : 2015-08-06 Rogers Communications Canada Inc.\n+\/\/ rogers : Rogers Communications Canada Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rogers.html\n@@ -9037,1 +9831,2 @@\n-\/\/ room : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ room : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/room.html\n@@ -9040,1 +9835,2 @@\n-\/\/ rsvp : 2014-05-08 Charleston Road Registry Inc.\n+\/\/ rsvp : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rsvp.html\n@@ -9043,1 +9839,2 @@\n-\/\/ rugby : 2016-12-15 World Rugby Strategic Developments Limited\n+\/\/ rugby : World Rugby Strategic Developments Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rugby.html\n@@ -9046,1 +9843,2 @@\n-\/\/ ruhr : 2013-10-02 dotSaarland GmbH\n+\/\/ ruhr : dotSaarland GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ruhr.html\n@@ -9049,1 +9847,2 @@\n-\/\/ run : 2015-03-19 Binky Moon, LLC\n+\/\/ run : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/run.html\n@@ -9052,1 +9851,2 @@\n-\/\/ rwe : 2015-04-02 RWE AG\n+\/\/ rwe : RWE AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/rwe.html\n@@ -9055,1 +9855,2 @@\n-\/\/ ryukyu : 2014-01-09 BRregistry, Inc.\n+\/\/ ryukyu : BRregistry, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ryukyu.html\n@@ -9058,1 +9859,2 @@\n-\/\/ saarland : 2013-12-12 dotSaarland GmbH\n+\/\/ saarland : dotSaarland GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/saarland.html\n@@ -9061,1 +9863,2 @@\n-\/\/ safe : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ safe : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/safe.html\n@@ -9064,1 +9867,2 @@\n-\/\/ safety : 2015-01-08 Safety Registry Services, LLC.\n+\/\/ safety : Safety Registry Services, LLC.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/safety.html\n@@ -9067,1 +9871,2 @@\n-\/\/ sakura : 2014-12-18 SAKURA Internet Inc.\n+\/\/ sakura : SAKURA Internet Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sakura.html\n@@ -9070,1 +9875,2 @@\n-\/\/ sale : 2014-10-16 Dog Beach, LLC\n+\/\/ sale : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sale.html\n@@ -9073,1 +9879,2 @@\n-\/\/ salon : 2014-12-11 Binky Moon, LLC\n+\/\/ salon : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/salon.html\n@@ -9076,1 +9883,2 @@\n-\/\/ samsclub : 2015-07-31 Wal-Mart Stores, Inc.\n+\/\/ samsclub : Wal-Mart Stores, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/samsclub.html\n@@ -9079,1 +9887,2 @@\n-\/\/ samsung : 2014-04-03 SAMSUNG SDS CO., LTD\n+\/\/ samsung : SAMSUNG SDS CO., LTD\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/samsung.html\n@@ -9082,1 +9891,2 @@\n-\/\/ sandvik : 2014-11-13 Sandvik AB\n+\/\/ sandvik : Sandvik AB\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sandvik.html\n@@ -9085,1 +9895,2 @@\n-\/\/ sandvikcoromant : 2014-11-07 Sandvik AB\n+\/\/ sandvikcoromant : Sandvik AB\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sandvikcoromant.html\n@@ -9088,1 +9899,2 @@\n-\/\/ sanofi : 2014-10-09 Sanofi\n+\/\/ sanofi : Sanofi\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sanofi.html\n@@ -9091,1 +9903,2 @@\n-\/\/ sap : 2014-03-27 SAP AG\n+\/\/ sap : SAP AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sap.html\n@@ -9094,1 +9907,2 @@\n-\/\/ sarl : 2014-07-03 Binky Moon, LLC\n+\/\/ sarl : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sarl.html\n@@ -9097,1 +9911,2 @@\n-\/\/ sas : 2015-04-02 Research IP LLC\n+\/\/ sas : Research IP LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sas.html\n@@ -9100,1 +9915,2 @@\n-\/\/ save : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ save : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/save.html\n@@ -9103,1 +9919,2 @@\n-\/\/ saxo : 2014-10-31 Saxo Bank A\/S\n+\/\/ saxo : Saxo Bank A\/S\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/saxo.html\n@@ -9106,1 +9923,2 @@\n-\/\/ sbi : 2015-03-12 STATE BANK OF INDIA\n+\/\/ sbi : STATE BANK OF INDIA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sbi.html\n@@ -9109,1 +9927,2 @@\n-\/\/ sbs : 2014-11-07 ShortDot SA\n+\/\/ sbs : ShortDot SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sbs.html\n@@ -9112,1 +9931,2 @@\n-\/\/ sca : 2014-03-13 SVENSKA CELLULOSA AKTIEBOLAGET SCA (publ)\n+\/\/ sca : SVENSKA CELLULOSA AKTIEBOLAGET SCA (publ)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sca.html\n@@ -9115,1 +9935,2 @@\n-\/\/ scb : 2014-02-20 The Siam Commercial Bank Public Company Limited (\"SCB\")\n+\/\/ scb : The Siam Commercial Bank Public Company Limited (\"SCB\")\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/scb.html\n@@ -9118,1 +9939,2 @@\n-\/\/ schaeffler : 2015-08-06 Schaeffler Technologies AG & Co. KG\n+\/\/ schaeffler : Schaeffler Technologies AG & Co. KG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/schaeffler.html\n@@ -9121,1 +9943,2 @@\n-\/\/ schmidt : 2014-04-03 SCHMIDT GROUPE S.A.S.\n+\/\/ schmidt : SCHMIDT GROUPE S.A.S.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/schmidt.html\n@@ -9124,1 +9947,2 @@\n-\/\/ scholarships : 2014-04-24 Scholarships.com, LLC\n+\/\/ scholarships : Scholarships.com, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/scholarships.html\n@@ -9127,1 +9951,2 @@\n-\/\/ school : 2014-12-18 Binky Moon, LLC\n+\/\/ school : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/school.html\n@@ -9130,1 +9955,2 @@\n-\/\/ schule : 2014-03-06 Binky Moon, LLC\n+\/\/ schule : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/schule.html\n@@ -9133,1 +9959,2 @@\n-\/\/ schwarz : 2014-09-18 Schwarz Domains und Services GmbH & Co. KG\n+\/\/ schwarz : Schwarz Domains und Services GmbH & Co. KG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/schwarz.html\n@@ -9136,1 +9963,2 @@\n-\/\/ science : 2014-09-11 dot Science Limited\n+\/\/ science : dot Science Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/science.html\n@@ -9139,1 +9967,2 @@\n-\/\/ scot : 2014-01-23 Dot Scot Registry Limited\n+\/\/ scot : Dot Scot Registry Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/scot.html\n@@ -9142,1 +9971,2 @@\n-\/\/ search : 2016-06-09 Charleston Road Registry Inc.\n+\/\/ search : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/search.html\n@@ -9145,1 +9975,2 @@\n-\/\/ seat : 2014-05-22 SEAT, S.A. (Sociedad Unipersonal)\n+\/\/ seat : SEAT, S.A. (Sociedad Unipersonal)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/seat.html\n@@ -9148,1 +9979,2 @@\n-\/\/ secure : 2015-08-27 Amazon Registry Services, Inc.\n+\/\/ secure : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/secure.html\n@@ -9151,1 +9983,2 @@\n-\/\/ security : 2015-05-14 XYZ.COM LLC\n+\/\/ security : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/security.html\n@@ -9154,1 +9987,2 @@\n-\/\/ seek : 2014-12-04 Seek Limited\n+\/\/ seek : Seek Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/seek.html\n@@ -9157,1 +9991,2 @@\n-\/\/ select : 2015-10-08 Registry Services, LLC\n+\/\/ select : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/select.html\n@@ -9160,1 +9995,2 @@\n-\/\/ sener : 2014-10-24 Sener Ingeniera y Sistemas, S.A.\n+\/\/ sener : Sener Ingeniera y Sistemas, S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sener.html\n@@ -9163,1 +9999,2 @@\n-\/\/ services : 2014-02-27 Binky Moon, LLC\n+\/\/ services : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/services.html\n@@ -9166,1 +10003,2 @@\n-\/\/ seven : 2015-08-06 Seven West Media Ltd\n+\/\/ seven : Seven West Media Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/seven.html\n@@ -9169,1 +10007,2 @@\n-\/\/ sew : 2014-07-17 SEW-EURODRIVE GmbH & Co KG\n+\/\/ sew : SEW-EURODRIVE GmbH & Co KG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sew.html\n@@ -9172,1 +10011,2 @@\n-\/\/ sex : 2014-11-13 ICM Registry SX LLC\n+\/\/ sex : ICM Registry SX LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sex.html\n@@ -9175,1 +10015,2 @@\n-\/\/ sexy : 2013-09-11 Internet Naming Company LLC\n+\/\/ sexy : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sexy.html\n@@ -9178,1 +10019,2 @@\n-\/\/ sfr : 2015-08-13 Societe Francaise du Radiotelephone - SFR\n+\/\/ sfr : Societe Francaise du Radiotelephone - SFR\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sfr.html\n@@ -9181,1 +10023,2 @@\n-\/\/ shangrila : 2015-09-03 ShangriLa International Hotel Management Limited\n+\/\/ shangrila : ShangriLa International Hotel Management Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shangrila.html\n@@ -9184,1 +10027,2 @@\n-\/\/ sharp : 2014-05-01 Sharp Corporation\n+\/\/ sharp : Sharp Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sharp.html\n@@ -9187,1 +10031,2 @@\n-\/\/ shaw : 2015-04-23 Shaw Cablesystems G.P.\n+\/\/ shaw : Shaw Cablesystems G.P.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shaw.html\n@@ -9190,1 +10035,2 @@\n-\/\/ shell : 2015-07-30 Shell Information Technology International Inc\n+\/\/ shell : Shell Information Technology International Inc\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shell.html\n@@ -9193,1 +10039,2 @@\n-\/\/ shia : 2014-09-04 Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ shia : Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shia.html\n@@ -9196,1 +10043,2 @@\n-\/\/ shiksha : 2013-11-14 Identity Digital Limited\n+\/\/ shiksha : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shiksha.html\n@@ -9199,1 +10047,2 @@\n-\/\/ shoes : 2013-10-02 Binky Moon, LLC\n+\/\/ shoes : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shoes.html\n@@ -9202,1 +10051,2 @@\n-\/\/ shop : 2016-04-08 GMO Registry, Inc.\n+\/\/ shop : GMO Registry, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shop.html\n@@ -9205,1 +10055,2 @@\n-\/\/ shopping : 2016-03-31 Binky Moon, LLC\n+\/\/ shopping : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shopping.html\n@@ -9208,1 +10059,2 @@\n-\/\/ shouji : 2015-01-08 Beijing Qihu Keji Co., Ltd.\n+\/\/ shouji : Beijing Qihu Keji Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/shouji.html\n@@ -9211,1 +10063,2 @@\n-\/\/ show : 2015-03-05 Binky Moon, LLC\n+\/\/ show : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/show.html\n@@ -9214,4 +10067,2 @@\n-\/\/ showtime : 2015-08-06 CBS Domains Inc.\n-showtime\n-\n-\/\/ silk : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ silk : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/silk.html\n@@ -9220,1 +10071,2 @@\n-\/\/ sina : 2015-03-12 Sina Corporation\n+\/\/ sina : Sina Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sina.html\n@@ -9223,1 +10075,2 @@\n-\/\/ singles : 2013-08-27 Binky Moon, LLC\n+\/\/ singles : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/singles.html\n@@ -9226,1 +10079,2 @@\n-\/\/ site : 2015-01-15 Radix FZC\n+\/\/ site : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/site.html\n@@ -9229,1 +10083,2 @@\n-\/\/ ski : 2015-04-09 Identity Digital Limited\n+\/\/ ski : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ski.html\n@@ -9232,1 +10087,2 @@\n-\/\/ skin : 2015-01-15 XYZ.COM LLC\n+\/\/ skin : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/skin.html\n@@ -9235,1 +10091,2 @@\n-\/\/ sky : 2014-06-19 Sky International AG\n+\/\/ sky : Sky International AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sky.html\n@@ -9238,1 +10095,2 @@\n-\/\/ skype : 2014-12-18 Microsoft Corporation\n+\/\/ skype : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/skype.html\n@@ -9241,1 +10099,2 @@\n-\/\/ sling : 2015-07-30 DISH Technologies L.L.C.\n+\/\/ sling : DISH Technologies L.L.C.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sling.html\n@@ -9244,1 +10103,2 @@\n-\/\/ smart : 2015-07-09 Smart Communications, Inc. (SMART)\n+\/\/ smart : Smart Communications, Inc. (SMART)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/smart.html\n@@ -9247,1 +10107,2 @@\n-\/\/ smile : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ smile : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/smile.html\n@@ -9250,1 +10111,2 @@\n-\/\/ sncf : 2015-02-19 Socit Nationale SNCF\n+\/\/ sncf : Socit Nationale SNCF\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sncf.html\n@@ -9253,1 +10115,2 @@\n-\/\/ soccer : 2015-03-26 Binky Moon, LLC\n+\/\/ soccer : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/soccer.html\n@@ -9256,1 +10119,2 @@\n-\/\/ social : 2013-11-07 Dog Beach, LLC\n+\/\/ social : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/social.html\n@@ -9259,1 +10123,2 @@\n-\/\/ softbank : 2015-07-02 SoftBank Group Corp.\n+\/\/ softbank : SoftBank Group Corp.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/softbank.html\n@@ -9262,1 +10127,2 @@\n-\/\/ software : 2014-03-20 Dog Beach, LLC\n+\/\/ software : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/software.html\n@@ -9265,1 +10131,2 @@\n-\/\/ sohu : 2013-12-19 Sohu.com Limited\n+\/\/ sohu : Sohu.com Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sohu.html\n@@ -9268,1 +10135,2 @@\n-\/\/ solar : 2013-11-07 Binky Moon, LLC\n+\/\/ solar : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/solar.html\n@@ -9271,1 +10139,2 @@\n-\/\/ solutions : 2013-11-07 Binky Moon, LLC\n+\/\/ solutions : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/solutions.html\n@@ -9274,1 +10143,2 @@\n-\/\/ song : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ song : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/song.html\n@@ -9277,1 +10147,2 @@\n-\/\/ sony : 2015-01-08 Sony Corporation\n+\/\/ sony : Sony Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sony.html\n@@ -9280,1 +10151,2 @@\n-\/\/ soy : 2014-01-23 Charleston Road Registry Inc.\n+\/\/ soy : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/soy.html\n@@ -9283,1 +10155,2 @@\n-\/\/ spa : 2019-09-19 Asia Spa and Wellness Promotion Council Limited\n+\/\/ spa : Asia Spa and Wellness Promotion Council Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/spa.html\n@@ -9286,1 +10159,2 @@\n-\/\/ space : 2014-04-03 Radix FZC\n+\/\/ space : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/space.html\n@@ -9289,1 +10163,2 @@\n-\/\/ sport : 2017-11-16 Global Association of International Sports Federations (GAISF)\n+\/\/ sport : SportAccord\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sport.html\n@@ -9292,1 +10167,2 @@\n-\/\/ spot : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ spot : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/spot.html\n@@ -9295,1 +10171,2 @@\n-\/\/ srl : 2015-05-07 InterNetX, Corp\n+\/\/ srl : InterNetX, Corp\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/srl.html\n@@ -9298,1 +10175,2 @@\n-\/\/ stada : 2014-11-13 STADA Arzneimittel AG\n+\/\/ stada : STADA Arzneimittel AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/stada.html\n@@ -9301,1 +10179,2 @@\n-\/\/ staples : 2015-07-30 Staples, Inc.\n+\/\/ staples : Staples, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/staples.html\n@@ -9304,1 +10183,2 @@\n-\/\/ star : 2015-01-08 Star India Private Limited\n+\/\/ star : Star India Private Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/star.html\n@@ -9307,1 +10187,2 @@\n-\/\/ statebank : 2015-03-12 STATE BANK OF INDIA\n+\/\/ statebank : STATE BANK OF INDIA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/statebank.html\n@@ -9310,1 +10191,2 @@\n-\/\/ statefarm : 2015-07-30 State Farm Mutual Automobile Insurance Company\n+\/\/ statefarm : State Farm Mutual Automobile Insurance Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/statefarm.html\n@@ -9313,1 +10195,2 @@\n-\/\/ stc : 2014-10-09 Saudi Telecom Company\n+\/\/ stc : Saudi Telecom Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/stc.html\n@@ -9316,1 +10199,2 @@\n-\/\/ stcgroup : 2014-10-09 Saudi Telecom Company\n+\/\/ stcgroup : Saudi Telecom Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/stcgroup.html\n@@ -9319,1 +10203,2 @@\n-\/\/ stockholm : 2014-12-18 Stockholms kommun\n+\/\/ stockholm : Stockholms kommun\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/stockholm.html\n@@ -9322,1 +10207,2 @@\n-\/\/ storage : 2014-12-22 XYZ.COM LLC\n+\/\/ storage : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/storage.html\n@@ -9325,1 +10211,2 @@\n-\/\/ store : 2015-04-09 Radix FZC\n+\/\/ store : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/store.html\n@@ -9328,1 +10215,2 @@\n-\/\/ stream : 2016-01-08 dot Stream Limited\n+\/\/ stream : dot Stream Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/stream.html\n@@ -9331,1 +10219,2 @@\n-\/\/ studio : 2015-02-11 Dog Beach, LLC\n+\/\/ studio : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/studio.html\n@@ -9334,1 +10223,2 @@\n-\/\/ study : 2014-12-11 Registry Services, LLC\n+\/\/ study : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/study.html\n@@ -9337,1 +10227,2 @@\n-\/\/ style : 2014-12-04 Binky Moon, LLC\n+\/\/ style : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/style.html\n@@ -9340,1 +10231,2 @@\n-\/\/ sucks : 2014-12-22 Vox Populi Registry Ltd.\n+\/\/ sucks : Vox Populi Registry Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sucks.html\n@@ -9343,1 +10235,2 @@\n-\/\/ supplies : 2013-12-19 Binky Moon, LLC\n+\/\/ supplies : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/supplies.html\n@@ -9346,1 +10239,2 @@\n-\/\/ supply : 2013-12-19 Binky Moon, LLC\n+\/\/ supply : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/supply.html\n@@ -9349,1 +10243,2 @@\n-\/\/ support : 2013-10-24 Binky Moon, LLC\n+\/\/ support : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/support.html\n@@ -9352,1 +10247,2 @@\n-\/\/ surf : 2014-01-09 Registry Services, LLC\n+\/\/ surf : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/surf.html\n@@ -9355,1 +10251,2 @@\n-\/\/ surgery : 2014-03-20 Binky Moon, LLC\n+\/\/ surgery : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/surgery.html\n@@ -9358,1 +10255,2 @@\n-\/\/ suzuki : 2014-02-20 SUZUKI MOTOR CORPORATION\n+\/\/ suzuki : SUZUKI MOTOR CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/suzuki.html\n@@ -9361,1 +10259,2 @@\n-\/\/ swatch : 2015-01-08 The Swatch Group Ltd\n+\/\/ swatch : The Swatch Group Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/swatch.html\n@@ -9364,1 +10263,2 @@\n-\/\/ swiss : 2014-10-16 Swiss Confederation\n+\/\/ swiss : Swiss Confederation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/swiss.html\n@@ -9367,1 +10267,2 @@\n-\/\/ sydney : 2014-09-18 State of New South Wales, Department of Premier and Cabinet\n+\/\/ sydney : State of New South Wales, Department of Premier and Cabinet\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/sydney.html\n@@ -9370,1 +10271,2 @@\n-\/\/ systems : 2013-11-07 Binky Moon, LLC\n+\/\/ systems : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/systems.html\n@@ -9373,1 +10275,2 @@\n-\/\/ tab : 2014-12-04 Tabcorp Holdings Limited\n+\/\/ tab : Tabcorp Holdings Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tab.html\n@@ -9376,1 +10279,2 @@\n-\/\/ taipei : 2014-07-10 Taipei City Government\n+\/\/ taipei : Taipei City Government\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/taipei.html\n@@ -9379,1 +10283,2 @@\n-\/\/ talk : 2015-04-09 Amazon Registry Services, Inc.\n+\/\/ talk : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/talk.html\n@@ -9382,1 +10287,2 @@\n-\/\/ taobao : 2015-01-15 Alibaba Group Holding Limited\n+\/\/ taobao : Alibaba Group Holding Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/taobao.html\n@@ -9385,1 +10291,2 @@\n-\/\/ target : 2015-07-31 Target Domain Holdings, LLC\n+\/\/ target : Target Domain Holdings, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/target.html\n@@ -9388,1 +10295,2 @@\n-\/\/ tatamotors : 2015-03-12 Tata Motors Ltd\n+\/\/ tatamotors : Tata Motors Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tatamotors.html\n@@ -9391,1 +10299,2 @@\n-\/\/ tatar : 2014-04-24 Limited Liability Company \"Coordination Center of Regional Domain of Tatarstan Republic\"\n+\/\/ tatar : Limited Liability Company \"Coordination Center of Regional Domain of Tatarstan Republic\"\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tatar.html\n@@ -9394,1 +10303,2 @@\n-\/\/ tattoo : 2013-08-30 Top Level Design, LLC\n+\/\/ tattoo : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tattoo.html\n@@ -9397,1 +10307,2 @@\n-\/\/ tax : 2014-03-20 Binky Moon, LLC\n+\/\/ tax : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tax.html\n@@ -9400,1 +10311,2 @@\n-\/\/ taxi : 2015-03-19 Binky Moon, LLC\n+\/\/ taxi : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/taxi.html\n@@ -9403,1 +10315,2 @@\n-\/\/ tci : 2014-09-12 Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ tci : Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tci.html\n@@ -9406,1 +10319,2 @@\n-\/\/ tdk : 2015-06-11 TDK Corporation\n+\/\/ tdk : TDK Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tdk.html\n@@ -9409,1 +10323,2 @@\n-\/\/ team : 2015-03-05 Binky Moon, LLC\n+\/\/ team : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/team.html\n@@ -9412,1 +10327,2 @@\n-\/\/ tech : 2015-01-30 Radix FZC\n+\/\/ tech : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tech.html\n@@ -9415,1 +10331,2 @@\n-\/\/ technology : 2013-09-13 Binky Moon, LLC\n+\/\/ technology : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/technology.html\n@@ -9418,1 +10335,2 @@\n-\/\/ temasek : 2014-08-07 Temasek Holdings (Private) Limited\n+\/\/ temasek : Temasek Holdings (Private) Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/temasek.html\n@@ -9421,1 +10339,2 @@\n-\/\/ tennis : 2014-12-04 Binky Moon, LLC\n+\/\/ tennis : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tennis.html\n@@ -9424,1 +10343,2 @@\n-\/\/ teva : 2015-07-02 Teva Pharmaceutical Industries Limited\n+\/\/ teva : Teva Pharmaceutical Industries Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/teva.html\n@@ -9427,1 +10347,2 @@\n-\/\/ thd : 2015-04-02 Home Depot Product Authority, LLC\n+\/\/ thd : Home Depot Product Authority, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/thd.html\n@@ -9430,1 +10351,2 @@\n-\/\/ theater : 2015-03-19 Binky Moon, LLC\n+\/\/ theater : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/theater.html\n@@ -9433,1 +10355,2 @@\n-\/\/ theatre : 2015-05-07 XYZ.COM LLC\n+\/\/ theatre : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/theatre.html\n@@ -9436,1 +10359,2 @@\n-\/\/ tiaa : 2015-07-23 Teachers Insurance and Annuity Association of America\n+\/\/ tiaa : Teachers Insurance and Annuity Association of America\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tiaa.html\n@@ -9439,1 +10363,2 @@\n-\/\/ tickets : 2015-02-05 XYZ.COM LLC\n+\/\/ tickets : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tickets.html\n@@ -9442,1 +10367,2 @@\n-\/\/ tienda : 2013-11-14 Binky Moon, LLC\n+\/\/ tienda : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tienda.html\n@@ -9445,4 +10371,2 @@\n-\/\/ tiffany : 2015-01-30 Tiffany and Company\n-tiffany\n-\n-\/\/ tips : 2013-09-20 Binky Moon, LLC\n+\/\/ tips : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tips.html\n@@ -9451,1 +10375,2 @@\n-\/\/ tires : 2014-11-07 Binky Moon, LLC\n+\/\/ tires : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tires.html\n@@ -9454,1 +10379,2 @@\n-\/\/ tirol : 2014-04-24 punkt Tirol GmbH\n+\/\/ tirol : punkt Tirol GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tirol.html\n@@ -9457,1 +10383,2 @@\n-\/\/ tjmaxx : 2015-07-16 The TJX Companies, Inc.\n+\/\/ tjmaxx : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tjmaxx.html\n@@ -9460,1 +10387,2 @@\n-\/\/ tjx : 2015-07-16 The TJX Companies, Inc.\n+\/\/ tjx : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tjx.html\n@@ -9463,1 +10391,2 @@\n-\/\/ tkmaxx : 2015-07-16 The TJX Companies, Inc.\n+\/\/ tkmaxx : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tkmaxx.html\n@@ -9466,1 +10395,2 @@\n-\/\/ tmall : 2015-01-15 Alibaba Group Holding Limited\n+\/\/ tmall : Alibaba Group Holding Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tmall.html\n@@ -9469,1 +10399,2 @@\n-\/\/ today : 2013-09-20 Binky Moon, LLC\n+\/\/ today : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/today.html\n@@ -9472,1 +10403,2 @@\n-\/\/ tokyo : 2013-11-13 GMO Registry, Inc.\n+\/\/ tokyo : GMO Registry, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tokyo.html\n@@ -9475,1 +10407,2 @@\n-\/\/ tools : 2013-11-21 Binky Moon, LLC\n+\/\/ tools : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tools.html\n@@ -9478,1 +10411,2 @@\n-\/\/ top : 2014-03-20 .TOP Registry\n+\/\/ top : .TOP Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/top.html\n@@ -9481,1 +10415,2 @@\n-\/\/ toray : 2014-12-18 Toray Industries, Inc.\n+\/\/ toray : Toray Industries, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/toray.html\n@@ -9484,1 +10419,2 @@\n-\/\/ toshiba : 2014-04-10 TOSHIBA Corporation\n+\/\/ toshiba : TOSHIBA Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/toshiba.html\n@@ -9487,1 +10423,2 @@\n-\/\/ total : 2015-08-06 TotalEnergies SE\n+\/\/ total : TotalEnergies SE\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/total.html\n@@ -9490,1 +10427,2 @@\n-\/\/ tours : 2015-01-22 Binky Moon, LLC\n+\/\/ tours : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tours.html\n@@ -9493,1 +10431,2 @@\n-\/\/ town : 2014-03-06 Binky Moon, LLC\n+\/\/ town : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/town.html\n@@ -9496,1 +10435,2 @@\n-\/\/ toyota : 2015-04-23 TOYOTA MOTOR CORPORATION\n+\/\/ toyota : TOYOTA MOTOR CORPORATION\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/toyota.html\n@@ -9499,1 +10439,2 @@\n-\/\/ toys : 2014-03-06 Binky Moon, LLC\n+\/\/ toys : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/toys.html\n@@ -9502,1 +10443,2 @@\n-\/\/ trade : 2014-01-23 Elite Registry Limited\n+\/\/ trade : Elite Registry Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/trade.html\n@@ -9505,1 +10447,2 @@\n-\/\/ trading : 2014-12-11 Dog Beach, LLC\n+\/\/ trading : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/trading.html\n@@ -9508,1 +10451,2 @@\n-\/\/ training : 2013-11-07 Binky Moon, LLC\n+\/\/ training : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/training.html\n@@ -9511,1 +10455,2 @@\n-\/\/ travel : 2015-10-09 Dog Beach, LLC\n+\/\/ travel : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/travel.html\n@@ -9514,4 +10459,2 @@\n-\/\/ travelchannel : 2015-07-02 Lifestyle Domain Holdings, Inc.\n-travelchannel\n-\n-\/\/ travelers : 2015-03-26 Travelers TLD, LLC\n+\/\/ travelers : Travelers TLD, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/travelers.html\n@@ -9520,1 +10463,2 @@\n-\/\/ travelersinsurance : 2015-03-26 Travelers TLD, LLC\n+\/\/ travelersinsurance : Travelers TLD, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/travelersinsurance.html\n@@ -9523,1 +10467,2 @@\n-\/\/ trust : 2014-10-16 Internet Naming Company LLC\n+\/\/ trust : Internet Naming Company LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/trust.html\n@@ -9526,1 +10471,2 @@\n-\/\/ trv : 2015-03-26 Travelers TLD, LLC\n+\/\/ trv : Travelers TLD, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/trv.html\n@@ -9529,1 +10475,2 @@\n-\/\/ tube : 2015-06-11 Latin American Telecom LLC\n+\/\/ tube : Latin American Telecom LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tube.html\n@@ -9532,1 +10479,2 @@\n-\/\/ tui : 2014-07-03 TUI AG\n+\/\/ tui : TUI AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tui.html\n@@ -9535,1 +10483,2 @@\n-\/\/ tunes : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ tunes : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tunes.html\n@@ -9538,1 +10487,2 @@\n-\/\/ tushu : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ tushu : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tushu.html\n@@ -9541,1 +10491,2 @@\n-\/\/ tvs : 2015-02-19 T V SUNDRAM IYENGAR  & SONS LIMITED\n+\/\/ tvs : T V SUNDRAM IYENGAR  & SONS LIMITED\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/tvs.html\n@@ -9544,1 +10495,2 @@\n-\/\/ ubank : 2015-08-20 National Australia Bank Limited\n+\/\/ ubank : National Australia Bank Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ubank.html\n@@ -9547,1 +10499,2 @@\n-\/\/ ubs : 2014-12-11 UBS AG\n+\/\/ ubs : UBS AG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ubs.html\n@@ -9550,1 +10503,2 @@\n-\/\/ unicom : 2015-10-15 China United Network Communications Corporation Limited\n+\/\/ unicom : China United Network Communications Corporation Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/unicom.html\n@@ -9553,1 +10507,2 @@\n-\/\/ university : 2014-03-06 Binky Moon, LLC\n+\/\/ university : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/university.html\n@@ -9556,1 +10511,2 @@\n-\/\/ uno : 2013-09-11 Radix FZC\n+\/\/ uno : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/uno.html\n@@ -9559,1 +10515,2 @@\n-\/\/ uol : 2014-05-01 UBN INTERNET LTDA.\n+\/\/ uol : UBN INTERNET LTDA.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/uol.html\n@@ -9562,1 +10519,2 @@\n-\/\/ ups : 2015-06-25 UPS Market Driver, Inc.\n+\/\/ ups : UPS Market Driver, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ups.html\n@@ -9565,1 +10523,2 @@\n-\/\/ vacations : 2013-12-05 Binky Moon, LLC\n+\/\/ vacations : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vacations.html\n@@ -9568,1 +10527,2 @@\n-\/\/ vana : 2014-12-11 Lifestyle Domain Holdings, Inc.\n+\/\/ vana : Lifestyle Domain Holdings, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vana.html\n@@ -9571,1 +10531,2 @@\n-\/\/ vanguard : 2015-09-03 The Vanguard Group, Inc.\n+\/\/ vanguard : The Vanguard Group, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vanguard.html\n@@ -9574,1 +10535,2 @@\n-\/\/ vegas : 2014-01-16 Dot Vegas, Inc.\n+\/\/ vegas : Dot Vegas, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vegas.html\n@@ -9577,1 +10539,2 @@\n-\/\/ ventures : 2013-08-27 Binky Moon, LLC\n+\/\/ ventures : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/ventures.html\n@@ -9580,1 +10543,2 @@\n-\/\/ verisign : 2015-08-13 VeriSign, Inc.\n+\/\/ verisign : VeriSign, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/verisign.html\n@@ -9583,1 +10547,2 @@\n-\/\/ versicherung : 2014-03-20 tldbox GmbH\n+\/\/ versicherung : tldbox GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/versicherung.html\n@@ -9586,1 +10551,2 @@\n-\/\/ vet : 2014-03-06 Dog Beach, LLC\n+\/\/ vet : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vet.html\n@@ -9589,1 +10555,2 @@\n-\/\/ viajes : 2013-10-17 Binky Moon, LLC\n+\/\/ viajes : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/viajes.html\n@@ -9592,1 +10559,2 @@\n-\/\/ video : 2014-10-16 Dog Beach, LLC\n+\/\/ video : Dog Beach, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/video.html\n@@ -9595,1 +10563,2 @@\n-\/\/ vig : 2015-05-14 VIENNA INSURANCE GROUP AG Wiener Versicherung Gruppe\n+\/\/ vig : VIENNA INSURANCE GROUP AG Wiener Versicherung Gruppe\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vig.html\n@@ -9598,1 +10567,2 @@\n-\/\/ viking : 2015-04-02 Viking River Cruises (Bermuda) Ltd.\n+\/\/ viking : Viking River Cruises (Bermuda) Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/viking.html\n@@ -9601,1 +10571,2 @@\n-\/\/ villas : 2013-12-05 Binky Moon, LLC\n+\/\/ villas : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/villas.html\n@@ -9604,1 +10575,2 @@\n-\/\/ vin : 2015-06-18 Binky Moon, LLC\n+\/\/ vin : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vin.html\n@@ -9607,1 +10579,2 @@\n-\/\/ vip : 2015-01-22 Registry Services, LLC\n+\/\/ vip : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vip.html\n@@ -9610,1 +10583,2 @@\n-\/\/ virgin : 2014-09-25 Virgin Enterprises Limited\n+\/\/ virgin : Virgin Enterprises Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/virgin.html\n@@ -9613,1 +10587,2 @@\n-\/\/ visa : 2015-07-30 Visa Worldwide Pte. Limited\n+\/\/ visa : Visa Worldwide Pte. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/visa.html\n@@ -9616,1 +10591,2 @@\n-\/\/ vision : 2013-12-05 Binky Moon, LLC\n+\/\/ vision : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vision.html\n@@ -9619,1 +10595,2 @@\n-\/\/ viva : 2014-11-07 Saudi Telecom Company\n+\/\/ viva : Saudi Telecom Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/viva.html\n@@ -9622,1 +10599,2 @@\n-\/\/ vivo : 2015-07-31 Telefonica Brasil S.A.\n+\/\/ vivo : Telefonica Brasil S.A.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vivo.html\n@@ -9625,1 +10603,2 @@\n-\/\/ vlaanderen : 2014-02-06 DNS.be vzw\n+\/\/ vlaanderen : DNS.be vzw\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vlaanderen.html\n@@ -9628,1 +10607,2 @@\n-\/\/ vodka : 2013-12-19 Registry Services, LLC\n+\/\/ vodka : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vodka.html\n@@ -9631,1 +10611,2 @@\n-\/\/ volkswagen : 2015-05-14 Volkswagen Group of America Inc.\n+\/\/ volkswagen : Volkswagen Group of America Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/volkswagen.html\n@@ -9634,1 +10615,2 @@\n-\/\/ volvo : 2015-11-12 Volvo Holding Sverige Aktiebolag\n+\/\/ volvo : Volvo Holding Sverige Aktiebolag\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/volvo.html\n@@ -9637,1 +10619,2 @@\n-\/\/ vote : 2013-11-21 Monolith Registry LLC\n+\/\/ vote : Monolith Registry LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/vote.html\n@@ -9640,1 +10623,2 @@\n-\/\/ voting : 2013-11-13 Valuetainment Corp.\n+\/\/ voting : Valuetainment Corp.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/voting.html\n@@ -9643,1 +10627,2 @@\n-\/\/ voto : 2013-11-21 Monolith Registry LLC\n+\/\/ voto : Monolith Registry LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/voto.html\n@@ -9646,1 +10631,2 @@\n-\/\/ voyage : 2013-08-27 Binky Moon, LLC\n+\/\/ voyage : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/voyage.html\n@@ -9649,4 +10635,2 @@\n-\/\/ vuelos : 2015-03-05 Travel Reservations SRL\n-vuelos\n-\n-\/\/ wales : 2014-05-08 Nominet UK\n+\/\/ wales : Nominet UK\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wales.html\n@@ -9655,1 +10639,2 @@\n-\/\/ walmart : 2015-07-31 Wal-Mart Stores, Inc.\n+\/\/ walmart : Wal-Mart Stores, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/walmart.html\n@@ -9658,1 +10643,2 @@\n-\/\/ walter : 2014-11-13 Sandvik AB\n+\/\/ walter : Sandvik AB\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/walter.html\n@@ -9661,1 +10647,2 @@\n-\/\/ wang : 2013-10-24 Zodiac Wang Limited\n+\/\/ wang : Zodiac Wang Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wang.html\n@@ -9664,1 +10651,2 @@\n-\/\/ wanggou : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ wanggou : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wanggou.html\n@@ -9667,1 +10655,2 @@\n-\/\/ watch : 2013-11-14 Binky Moon, LLC\n+\/\/ watch : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/watch.html\n@@ -9670,1 +10659,2 @@\n-\/\/ watches : 2014-12-22 Identity Digital Limited\n+\/\/ watches : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/watches.html\n@@ -9673,1 +10663,2 @@\n-\/\/ weather : 2015-01-08 International Business Machines Corporation\n+\/\/ weather : International Business Machines Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/weather.html\n@@ -9676,1 +10667,2 @@\n-\/\/ weatherchannel : 2015-03-12 International Business Machines Corporation\n+\/\/ weatherchannel : International Business Machines Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/weatherchannel.html\n@@ -9679,1 +10671,2 @@\n-\/\/ webcam : 2014-01-23 dot Webcam Limited\n+\/\/ webcam : dot Webcam Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/webcam.html\n@@ -9682,1 +10675,2 @@\n-\/\/ weber : 2015-06-04 Saint-Gobain Weber SA\n+\/\/ weber : Saint-Gobain Weber SA\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/weber.html\n@@ -9685,1 +10679,2 @@\n-\/\/ website : 2014-04-03 Radix FZC\n+\/\/ website : Radix FZC DMCC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/website.html\n@@ -9688,1 +10683,2 @@\n-\/\/ wedding : 2014-04-24 Registry Services, LLC\n+\/\/ wedding : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wedding.html\n@@ -9691,1 +10687,2 @@\n-\/\/ weibo : 2015-03-05 Sina Corporation\n+\/\/ weibo : Sina Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/weibo.html\n@@ -9694,1 +10691,2 @@\n-\/\/ weir : 2015-01-29 Weir Group IP Limited\n+\/\/ weir : Weir Group IP Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/weir.html\n@@ -9697,1 +10695,2 @@\n-\/\/ whoswho : 2014-02-20 Who's Who Registry\n+\/\/ whoswho : Who's Who Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/whoswho.html\n@@ -9700,1 +10699,2 @@\n-\/\/ wien : 2013-10-28 punkt.wien GmbH\n+\/\/ wien : punkt.wien GmbH\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wien.html\n@@ -9703,1 +10703,2 @@\n-\/\/ wiki : 2013-11-07 Top Level Design, LLC\n+\/\/ wiki : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wiki.html\n@@ -9706,1 +10707,2 @@\n-\/\/ williamhill : 2014-03-13 William Hill Organization Limited\n+\/\/ williamhill : William Hill Organization Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/williamhill.html\n@@ -9709,1 +10711,2 @@\n-\/\/ win : 2014-11-20 First Registry Limited\n+\/\/ win : First Registry Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/win.html\n@@ -9712,1 +10715,2 @@\n-\/\/ windows : 2014-12-18 Microsoft Corporation\n+\/\/ windows : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/windows.html\n@@ -9715,1 +10719,2 @@\n-\/\/ wine : 2015-06-18 Binky Moon, LLC\n+\/\/ wine : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wine.html\n@@ -9718,1 +10723,2 @@\n-\/\/ winners : 2015-07-16 The TJX Companies, Inc.\n+\/\/ winners : The TJX Companies, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/winners.html\n@@ -9721,1 +10727,2 @@\n-\/\/ wme : 2014-02-13 William Morris Endeavor Entertainment, LLC\n+\/\/ wme : William Morris Endeavor Entertainment, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wme.html\n@@ -9724,1 +10731,2 @@\n-\/\/ wolterskluwer : 2015-08-06 Wolters Kluwer N.V.\n+\/\/ wolterskluwer : Wolters Kluwer N.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wolterskluwer.html\n@@ -9727,1 +10735,2 @@\n-\/\/ woodside : 2015-07-09 Woodside Petroleum Limited\n+\/\/ woodside : Woodside Petroleum Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/woodside.html\n@@ -9730,1 +10739,2 @@\n-\/\/ work : 2013-12-19 Registry Services, LLC\n+\/\/ work : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/work.html\n@@ -9733,1 +10743,2 @@\n-\/\/ works : 2013-11-14 Binky Moon, LLC\n+\/\/ works : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/works.html\n@@ -9736,1 +10747,2 @@\n-\/\/ world : 2014-06-12 Binky Moon, LLC\n+\/\/ world : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/world.html\n@@ -9739,1 +10751,2 @@\n-\/\/ wow : 2015-10-08 Amazon Registry Services, Inc.\n+\/\/ wow : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wow.html\n@@ -9742,1 +10755,2 @@\n-\/\/ wtc : 2013-12-19 World Trade Centers Association, Inc.\n+\/\/ wtc : World Trade Centers Association, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wtc.html\n@@ -9745,1 +10759,2 @@\n-\/\/ wtf : 2014-03-06 Binky Moon, LLC\n+\/\/ wtf : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/wtf.html\n@@ -9748,1 +10763,2 @@\n-\/\/ xbox : 2014-12-18 Microsoft Corporation\n+\/\/ xbox : Microsoft Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xbox.html\n@@ -9751,1 +10767,2 @@\n-\/\/ xerox : 2014-10-24 Xerox DNHC LLC\n+\/\/ xerox : Xerox DNHC LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xerox.html\n@@ -9754,1 +10771,2 @@\n-\/\/ xfinity : 2015-07-09 Comcast IP Holdings I, LLC\n+\/\/ xfinity : Comcast IP Holdings I, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xfinity.html\n@@ -9757,1 +10775,2 @@\n-\/\/ xihuan : 2015-01-08 Beijing Qihu Keji Co., Ltd.\n+\/\/ xihuan : Beijing Qihu Keji Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xihuan.html\n@@ -9760,1 +10779,2 @@\n-\/\/ xin : 2014-12-11 Elegant Leader Limited\n+\/\/ xin : Elegant Leader Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xin.html\n@@ -9763,1 +10783,2 @@\n-\/\/ xn--11b4c3d : 2015-01-15 VeriSign Sarl\n+\/\/ xn--11b4c3d : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--11b4c3d.html\n@@ -9766,1 +10787,2 @@\n-\/\/ xn--1ck2e1b : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ xn--1ck2e1b : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--1ck2e1b.html\n@@ -9769,1 +10791,2 @@\n-\/\/ xn--1qqw23a : 2014-01-09 Guangzhou YU Wei Information Technology Co., Ltd.\n+\/\/ xn--1qqw23a : Guangzhou YU Wei Information Technology Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--1qqw23a.html\n@@ -9772,1 +10795,2 @@\n-\/\/ xn--30rr7y : 2014-06-12 Excellent First Limited\n+\/\/ xn--30rr7y : Excellent First Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--30rr7y.html\n@@ -9775,1 +10799,2 @@\n-\/\/ xn--3bst00m : 2013-09-13 Eagle Horizon Limited\n+\/\/ xn--3bst00m : Eagle Horizon Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--3bst00m.html\n@@ -9778,1 +10803,2 @@\n-\/\/ xn--3ds443g : 2013-09-08 TLD REGISTRY LIMITED OY\n+\/\/ xn--3ds443g : TLD REGISTRY LIMITED OY\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--3ds443g.html\n@@ -9781,1 +10807,2 @@\n-\/\/ xn--3pxu8k : 2015-01-15 VeriSign Sarl\n+\/\/ xn--3pxu8k : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--3pxu8k.html\n@@ -9784,1 +10811,2 @@\n-\/\/ xn--42c2d9a : 2015-01-15 VeriSign Sarl\n+\/\/ xn--42c2d9a : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--42c2d9a.html\n@@ -9787,1 +10815,2 @@\n-\/\/ xn--45q11c : 2013-11-21 Zodiac Gemini Ltd\n+\/\/ xn--45q11c : Zodiac Gemini Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--45q11c.html\n@@ -9790,1 +10819,2 @@\n-\/\/ xn--4gbrim : 2013-10-04 Helium TLDs Ltd\n+\/\/ xn--4gbrim : Helium TLDs Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--4gbrim.html\n@@ -9793,1 +10823,2 @@\n-\/\/ xn--55qw42g : 2013-11-08 China Organizational Name Administration Center\n+\/\/ xn--55qw42g : China Organizational Name Administration Center\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--55qw42g.html\n@@ -9796,1 +10827,2 @@\n-\/\/ xn--55qx5d : 2013-11-14 China Internet Network Information Center (CNNIC)\n+\/\/ xn--55qx5d : China Internet Network Information Center (CNNIC)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--55qx5d.html\n@@ -9799,1 +10831,2 @@\n-\/\/ xn--5su34j936bgsg : 2015-09-03 ShangriLa International Hotel Management Limited\n+\/\/ xn--5su34j936bgsg : ShangriLa International Hotel Management Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--5su34j936bgsg.html\n@@ -9802,1 +10835,2 @@\n-\/\/ xn--5tzm5g : 2014-12-22 Global Website TLD Asia Limited\n+\/\/ xn--5tzm5g : Global Website TLD Asia Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--5tzm5g.html\n@@ -9805,1 +10839,2 @@\n-\/\/ xn--6frz82g : 2013-09-23 Identity Digital Limited\n+\/\/ xn--6frz82g : Identity Digital Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--6frz82g.html\n@@ -9808,1 +10843,2 @@\n-\/\/ xn--6qq986b3xl : 2013-09-13 Tycoon Treasure Limited\n+\/\/ xn--6qq986b3xl : Tycoon Treasure Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--6qq986b3xl.html\n@@ -9811,1 +10847,2 @@\n-\/\/ xn--80adxhks : 2013-12-19 Foundation for Assistance for Internet Technologies and Infrastructure Development (FAITID)\n+\/\/ xn--80adxhks : Foundation for Assistance for Internet Technologies and Infrastructure Development (FAITID)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--80adxhks.html\n@@ -9814,1 +10851,2 @@\n-\/\/ xn--80aqecdr1a : 2015-10-21 Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ xn--80aqecdr1a : Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--80aqecdr1a.html\n@@ -9817,1 +10855,2 @@\n-\/\/ xn--80asehdb : 2013-07-14 CORE Association\n+\/\/ xn--80asehdb : CORE Association\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--80asehdb.html\n@@ -9820,1 +10859,2 @@\n-\/\/ xn--80aswg : 2013-07-14 CORE Association\n+\/\/ xn--80aswg : CORE Association\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--80aswg.html\n@@ -9823,1 +10863,2 @@\n-\/\/ xn--8y0a063a : 2015-03-26 China United Network Communications Corporation Limited\n+\/\/ xn--8y0a063a : China United Network Communications Corporation Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--8y0a063a.html\n@@ -9826,1 +10867,2 @@\n-\/\/ xn--9dbq2a : 2015-01-15 VeriSign Sarl\n+\/\/ xn--9dbq2a : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--9dbq2a.html\n@@ -9829,1 +10871,2 @@\n-\/\/ xn--9et52u : 2014-06-12 RISE VICTORY LIMITED\n+\/\/ xn--9et52u : RISE VICTORY LIMITED\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--9et52u.html\n@@ -9832,1 +10875,2 @@\n-\/\/ xn--9krt00a : 2015-03-12 Sina Corporation\n+\/\/ xn--9krt00a : Sina Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--9krt00a.html\n@@ -9835,1 +10879,2 @@\n-\/\/ xn--b4w605ferd : 2014-08-07 Temasek Holdings (Private) Limited\n+\/\/ xn--b4w605ferd : Temasek Holdings (Private) Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--b4w605ferd.html\n@@ -9838,1 +10883,2 @@\n-\/\/ xn--bck1b9a5dre4c : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ xn--bck1b9a5dre4c : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--bck1b9a5dre4c.html\n@@ -9841,1 +10887,2 @@\n-\/\/ xn--c1avg : 2013-11-14 Public Interest Registry\n+\/\/ xn--c1avg : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--c1avg.html\n@@ -9844,1 +10891,2 @@\n-\/\/ xn--c2br7g : 2015-01-15 VeriSign Sarl\n+\/\/ xn--c2br7g : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--c2br7g.html\n@@ -9847,1 +10895,2 @@\n-\/\/ xn--cck2b3b : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ xn--cck2b3b : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--cck2b3b.html\n@@ -9850,1 +10899,2 @@\n-\/\/ xn--cckwcxetd : 2019-12-19 Amazon Registry Services, Inc.\n+\/\/ xn--cckwcxetd : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--cckwcxetd.html\n@@ -9853,1 +10903,2 @@\n-\/\/ xn--cg4bki : 2013-09-27 SAMSUNG SDS CO., LTD\n+\/\/ xn--cg4bki : SAMSUNG SDS CO., LTD\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--cg4bki.html\n@@ -9856,1 +10907,2 @@\n-\/\/ xn--czr694b : 2014-01-16 Internet DotTrademark Organisation Limited\n+\/\/ xn--czr694b : Internet DotTrademark Organisation Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--czr694b.html\n@@ -9859,1 +10911,2 @@\n-\/\/ xn--czrs0t : 2013-12-19 Binky Moon, LLC\n+\/\/ xn--czrs0t : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--czrs0t.html\n@@ -9862,1 +10915,2 @@\n-\/\/ xn--czru2d : 2013-11-21 Zodiac Aquarius Limited\n+\/\/ xn--czru2d : Zodiac Aquarius Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--czru2d.html\n@@ -9865,1 +10919,2 @@\n-\/\/ xn--d1acj3b : 2013-11-20 The Foundation for Network Initiatives The Smart Internet\n+\/\/ xn--d1acj3b : The Foundation for Network Initiatives The Smart Internet\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--d1acj3b.html\n@@ -9868,1 +10923,2 @@\n-\/\/ xn--eckvdtc9d : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ xn--eckvdtc9d : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--eckvdtc9d.html\n@@ -9871,1 +10927,2 @@\n-\/\/ xn--efvy88h : 2014-08-22 Guangzhou YU Wei Information Technology Co., Ltd.\n+\/\/ xn--efvy88h : Guangzhou YU Wei Information Technology Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--efvy88h.html\n@@ -9874,1 +10931,2 @@\n-\/\/ xn--fct429k : 2015-04-09 Amazon Registry Services, Inc.\n+\/\/ xn--fct429k : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--fct429k.html\n@@ -9877,1 +10935,2 @@\n-\/\/ xn--fhbei : 2015-01-15 VeriSign Sarl\n+\/\/ xn--fhbei : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--fhbei.html\n@@ -9880,1 +10939,2 @@\n-\/\/ xn--fiq228c5hs : 2013-09-08 TLD REGISTRY LIMITED OY\n+\/\/ xn--fiq228c5hs : TLD REGISTRY LIMITED OY\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--fiq228c5hs.html\n@@ -9883,1 +10943,2 @@\n-\/\/ xn--fiq64b : 2013-10-14 CITIC Group Corporation\n+\/\/ xn--fiq64b : CITIC Group Corporation\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--fiq64b.html\n@@ -9886,1 +10947,2 @@\n-\/\/ xn--fjq720a : 2014-05-22 Binky Moon, LLC\n+\/\/ xn--fjq720a : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--fjq720a.html\n@@ -9889,1 +10951,2 @@\n-\/\/ xn--flw351e : 2014-07-31 Charleston Road Registry Inc.\n+\/\/ xn--flw351e : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--flw351e.html\n@@ -9892,1 +10955,2 @@\n-\/\/ xn--fzys8d69uvgm : 2015-05-14 PCCW Enterprises Limited\n+\/\/ xn--fzys8d69uvgm : PCCW Enterprises Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--fzys8d69uvgm.html\n@@ -9895,1 +10959,2 @@\n-\/\/ xn--g2xx48c : 2015-01-30 Nawang Heli(Xiamen) Network Service Co., LTD.\n+\/\/ xn--g2xx48c : Nawang Heli(Xiamen) Network Service Co., LTD.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--g2xx48c.html\n@@ -9898,1 +10963,2 @@\n-\/\/ xn--gckr3f0f : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ xn--gckr3f0f : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--gckr3f0f.html\n@@ -9901,1 +10967,2 @@\n-\/\/ xn--gk3at1e : 2015-10-08 Amazon Registry Services, Inc.\n+\/\/ xn--gk3at1e : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--gk3at1e.html\n@@ -9904,1 +10971,2 @@\n-\/\/ xn--hxt814e : 2014-05-15 Zodiac Taurus Limited\n+\/\/ xn--hxt814e : Zodiac Taurus Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--hxt814e.html\n@@ -9907,1 +10975,2 @@\n-\/\/ xn--i1b6b1a6a2e : 2013-11-14 Public Interest Registry\n+\/\/ xn--i1b6b1a6a2e : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--i1b6b1a6a2e.html\n@@ -9910,1 +10979,2 @@\n-\/\/ xn--imr513n : 2014-12-11 Internet DotTrademark Organisation Limited\n+\/\/ xn--imr513n : Internet DotTrademark Organisation Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--imr513n.html\n@@ -9913,1 +10983,2 @@\n-\/\/ xn--io0a7i : 2013-11-14 China Internet Network Information Center (CNNIC)\n+\/\/ xn--io0a7i : China Internet Network Information Center (CNNIC)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--io0a7i.html\n@@ -9916,1 +10987,2 @@\n-\/\/ xn--j1aef : 2015-01-15 VeriSign Sarl\n+\/\/ xn--j1aef : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--j1aef.html\n@@ -9919,1 +10991,2 @@\n-\/\/ xn--jlq480n2rg : 2019-12-19 Amazon Registry Services, Inc.\n+\/\/ xn--jlq480n2rg : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--jlq480n2rg.html\n@@ -9922,1 +10995,2 @@\n-\/\/ xn--jvr189m : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ xn--jvr189m : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--jvr189m.html\n@@ -9925,1 +10999,2 @@\n-\/\/ xn--kcrx77d1x4a : 2014-11-07 Koninklijke Philips N.V.\n+\/\/ xn--kcrx77d1x4a : Koninklijke Philips N.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--kcrx77d1x4a.html\n@@ -9928,1 +11003,2 @@\n-\/\/ xn--kput3i : 2014-02-13 Beijing RITT-Net Technology Development Co., Ltd\n+\/\/ xn--kput3i : Beijing RITT-Net Technology Development Co., Ltd\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--kput3i.html\n@@ -9931,1 +11007,2 @@\n-\/\/ xn--mgba3a3ejt : 2014-11-20 Aramco Services Company\n+\/\/ xn--mgba3a3ejt : Aramco Services Company\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgba3a3ejt.html\n@@ -9934,1 +11011,2 @@\n-\/\/ xn--mgba7c0bbn0a : 2015-05-14 Crescent Holding GmbH\n+\/\/ xn--mgba7c0bbn0a : Competrol (Luxembourg) Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgba7c0bbn0a.html\n@@ -9937,1 +11015,2 @@\n-\/\/ xn--mgbaakc7dvf : 2015-09-03 Emirates Telecommunications Corporation (trading as Etisalat)\n+\/\/ xn--mgbaakc7dvf : Emirates Telecommunications Corporation (trading as Etisalat)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgbaakc7dvf.html\n@@ -9940,1 +11019,2 @@\n-\/\/ xn--mgbab2bd : 2013-10-31 CORE Association\n+\/\/ xn--mgbab2bd : CORE Association\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgbab2bd.html\n@@ -9943,1 +11023,2 @@\n-\/\/ xn--mgbca7dzdo : 2015-07-30 Abu Dhabi Systems and Information Centre\n+\/\/ xn--mgbca7dzdo : Abu Dhabi Systems and Information Centre\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgbca7dzdo.html\n@@ -9946,1 +11027,2 @@\n-\/\/ xn--mgbi4ecexp : 2015-10-21 Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ xn--mgbi4ecexp : Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgbi4ecexp.html\n@@ -9949,1 +11031,2 @@\n-\/\/ xn--mgbt3dhd : 2014-09-04 Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ xn--mgbt3dhd : Asia Green IT System Bilgisayar San. ve Tic. Ltd. Sti.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mgbt3dhd.html\n@@ -9952,1 +11035,2 @@\n-\/\/ xn--mk1bu44c : 2015-01-15 VeriSign Sarl\n+\/\/ xn--mk1bu44c : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mk1bu44c.html\n@@ -9955,1 +11039,2 @@\n-\/\/ xn--mxtq1m : 2014-03-06 Net-Chinese Co., Ltd.\n+\/\/ xn--mxtq1m : Net-Chinese Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--mxtq1m.html\n@@ -9958,1 +11043,2 @@\n-\/\/ xn--ngbc5azd : 2013-07-13 International Domain Registry Pty. Ltd.\n+\/\/ xn--ngbc5azd : International Domain Registry Pty. Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--ngbc5azd.html\n@@ -9961,1 +11047,2 @@\n-\/\/ xn--ngbe9e0a : 2014-12-04 Kuwait Finance House\n+\/\/ xn--ngbe9e0a : Kuwait Finance House\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--ngbe9e0a.html\n@@ -9964,1 +11051,2 @@\n-\/\/ xn--ngbrx : 2015-11-12 League of Arab States\n+\/\/ xn--ngbrx : League of Arab States\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--ngbrx.html\n@@ -9967,1 +11055,2 @@\n-\/\/ xn--nqv7f : 2013-11-14 Public Interest Registry\n+\/\/ xn--nqv7f : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--nqv7f.html\n@@ -9970,1 +11059,2 @@\n-\/\/ xn--nqv7fs00ema : 2013-11-14 Public Interest Registry\n+\/\/ xn--nqv7fs00ema : Public Interest Registry\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--nqv7fs00ema.html\n@@ -9973,1 +11063,2 @@\n-\/\/ xn--nyqy26a : 2014-11-07 Stable Tone Limited\n+\/\/ xn--nyqy26a : Stable Tone Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--nyqy26a.html\n@@ -9976,1 +11067,2 @@\n-\/\/ xn--otu796d : 2017-08-06 Jiang Yu Liang Cai Technology Company Limited\n+\/\/ xn--otu796d : Jiang Yu Liang Cai Technology Company Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--otu796d.html\n@@ -9979,1 +11071,2 @@\n-\/\/ xn--p1acf : 2013-12-12 Rusnames Limited\n+\/\/ xn--p1acf : Rusnames Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--p1acf.html\n@@ -9982,1 +11075,2 @@\n-\/\/ xn--pssy2u : 2015-01-15 VeriSign Sarl\n+\/\/ xn--pssy2u : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--pssy2u.html\n@@ -9985,1 +11079,2 @@\n-\/\/ xn--q9jyb4c : 2013-09-17 Charleston Road Registry Inc.\n+\/\/ xn--q9jyb4c : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--q9jyb4c.html\n@@ -9988,1 +11083,2 @@\n-\/\/ xn--qcka1pmc : 2014-07-31 Charleston Road Registry Inc.\n+\/\/ xn--qcka1pmc : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--qcka1pmc.html\n@@ -9991,1 +11087,2 @@\n-\/\/ xn--rhqv96g : 2013-09-11 Stable Tone Limited\n+\/\/ xn--rhqv96g : Stable Tone Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--rhqv96g.html\n@@ -9994,1 +11091,2 @@\n-\/\/ xn--rovu88b : 2015-02-26 Amazon Registry Services, Inc.\n+\/\/ xn--rovu88b : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--rovu88b.html\n@@ -9997,1 +11095,2 @@\n-\/\/ xn--ses554g : 2014-01-16 KNET Co., Ltd.\n+\/\/ xn--ses554g : KNET Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--ses554g.html\n@@ -10000,1 +11099,2 @@\n-\/\/ xn--t60b56a : 2015-01-15 VeriSign Sarl\n+\/\/ xn--t60b56a : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--t60b56a.html\n@@ -10003,1 +11103,2 @@\n-\/\/ xn--tckwe : 2015-01-15 VeriSign Sarl\n+\/\/ xn--tckwe : VeriSign Sarl\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--tckwe.html\n@@ -10006,1 +11107,2 @@\n-\/\/ xn--tiq49xqyj : 2015-10-21 Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ xn--tiq49xqyj : Pontificium Consilium de Comunicationibus Socialibus (PCCS) (Pontifical Council for Social Communication)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--tiq49xqyj.html\n@@ -10009,1 +11111,2 @@\n-\/\/ xn--unup4y : 2013-07-14 Binky Moon, LLC\n+\/\/ xn--unup4y : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--unup4y.html\n@@ -10012,1 +11115,2 @@\n-\/\/ xn--vermgensberater-ctb : 2014-06-23 Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ xn--vermgensberater-ctb : Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--vermgensberater-ctb.html\n@@ -10015,1 +11119,2 @@\n-\/\/ xn--vermgensberatung-pwb : 2014-06-23 Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ xn--vermgensberatung-pwb : Deutsche Vermgensberatung Aktiengesellschaft DVAG\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--vermgensberatung-pwb.html\n@@ -10018,1 +11123,2 @@\n-\/\/ xn--vhquv : 2013-08-27 Binky Moon, LLC\n+\/\/ xn--vhquv : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--vhquv.html\n@@ -10021,1 +11127,2 @@\n-\/\/ xn--vuq861b : 2014-10-16 Beijing Tele-info Network Technology Co., Ltd.\n+\/\/ xn--vuq861b : Beijing Tele-info Technology Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--vuq861b.html\n@@ -10024,1 +11131,2 @@\n-\/\/ xn--w4r85el8fhu5dnra : 2015-04-30 Kerry Trading Co. Limited\n+\/\/ xn--w4r85el8fhu5dnra : Kerry Trading Co. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--w4r85el8fhu5dnra.html\n@@ -10027,1 +11135,2 @@\n-\/\/ xn--w4rs40l : 2015-07-30 Kerry Trading Co. Limited\n+\/\/ xn--w4rs40l : Kerry Trading Co. Limited\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--w4rs40l.html\n@@ -10030,1 +11139,2 @@\n-\/\/ xn--xhq521b : 2013-11-14 Guangzhou YU Wei Information Technology Co., Ltd.\n+\/\/ xn--xhq521b : Guangzhou YU Wei Information Technology Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--xhq521b.html\n@@ -10033,1 +11143,2 @@\n-\/\/ xn--zfr164b : 2013-11-08 China Organizational Name Administration Center\n+\/\/ xn--zfr164b : China Organizational Name Administration Center\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xn--zfr164b.html\n@@ -10036,1 +11147,2 @@\n-\/\/ xyz : 2013-12-05 XYZ.COM LLC\n+\/\/ xyz : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/xyz.html\n@@ -10039,1 +11151,2 @@\n-\/\/ yachts : 2014-01-09 XYZ.COM LLC\n+\/\/ yachts : XYZ.COM LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yachts.html\n@@ -10042,1 +11155,2 @@\n-\/\/ yahoo : 2015-04-02 Oath Inc.\n+\/\/ yahoo : Oath Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yahoo.html\n@@ -10045,1 +11159,2 @@\n-\/\/ yamaxun : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ yamaxun : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yamaxun.html\n@@ -10048,1 +11163,2 @@\n-\/\/ yandex : 2014-04-10 Yandex Europe B.V.\n+\/\/ yandex : Yandex Europe B.V.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yandex.html\n@@ -10051,1 +11167,2 @@\n-\/\/ yodobashi : 2014-11-20 YODOBASHI CAMERA CO.,LTD.\n+\/\/ yodobashi : YODOBASHI CAMERA CO.,LTD.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yodobashi.html\n@@ -10054,1 +11171,2 @@\n-\/\/ yoga : 2014-05-29 Registry Services, LLC\n+\/\/ yoga : Registry Services, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yoga.html\n@@ -10057,1 +11175,2 @@\n-\/\/ yokohama : 2013-12-12 GMO Registry, Inc.\n+\/\/ yokohama : GMO Registry, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yokohama.html\n@@ -10060,1 +11179,2 @@\n-\/\/ you : 2015-04-09 Amazon Registry Services, Inc.\n+\/\/ you : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/you.html\n@@ -10063,1 +11183,2 @@\n-\/\/ youtube : 2014-05-01 Charleston Road Registry Inc.\n+\/\/ youtube : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/youtube.html\n@@ -10066,1 +11187,2 @@\n-\/\/ yun : 2015-01-08 Beijing Qihu Keji Co., Ltd.\n+\/\/ yun : Beijing Qihu Keji Co., Ltd.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/yun.html\n@@ -10069,1 +11191,2 @@\n-\/\/ zappos : 2015-06-25 Amazon Registry Services, Inc.\n+\/\/ zappos : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/zappos.html\n@@ -10072,1 +11195,2 @@\n-\/\/ zara : 2014-11-07 Industria de Diseo Textil, S.A. (INDITEX, S.A.)\n+\/\/ zara : Industria de Diseo Textil, S.A. (INDITEX, S.A.)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/zara.html\n@@ -10075,1 +11199,2 @@\n-\/\/ zero : 2014-12-18 Amazon Registry Services, Inc.\n+\/\/ zero : Amazon Registry Services, Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/zero.html\n@@ -10078,1 +11203,2 @@\n-\/\/ zip : 2014-05-08 Charleston Road Registry Inc.\n+\/\/ zip : Charleston Road Registry Inc.\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/zip.html\n@@ -10081,1 +11207,2 @@\n-\/\/ zone : 2013-11-14 Binky Moon, LLC\n+\/\/ zone : Binky Moon, LLC\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/zone.html\n@@ -10084,1 +11211,2 @@\n-\/\/ zuerich : 2014-11-07 Kanton Zrich (Canton of Zurich)\n+\/\/ zuerich : Kanton Zrich (Canton of Zurich)\n+\/\/ https:\/\/www.iana.org\/domains\/root\/db\/zuerich.html\n@@ -10192,0 +11320,36 @@\n+\/\/ Amazon API Gateway\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 4d863337-ff98-4501-a6f2-361eba8445d6\n+execute-api.cn-north-1.amazonaws.com.cn\n+execute-api.cn-northwest-1.amazonaws.com.cn\n+execute-api.af-south-1.amazonaws.com\n+execute-api.ap-east-1.amazonaws.com\n+execute-api.ap-northeast-1.amazonaws.com\n+execute-api.ap-northeast-2.amazonaws.com\n+execute-api.ap-northeast-3.amazonaws.com\n+execute-api.ap-south-1.amazonaws.com\n+execute-api.ap-south-2.amazonaws.com\n+execute-api.ap-southeast-1.amazonaws.com\n+execute-api.ap-southeast-2.amazonaws.com\n+execute-api.ap-southeast-3.amazonaws.com\n+execute-api.ap-southeast-4.amazonaws.com\n+execute-api.ca-central-1.amazonaws.com\n+execute-api.eu-central-1.amazonaws.com\n+execute-api.eu-central-2.amazonaws.com\n+execute-api.eu-north-1.amazonaws.com\n+execute-api.eu-south-1.amazonaws.com\n+execute-api.eu-south-2.amazonaws.com\n+execute-api.eu-west-1.amazonaws.com\n+execute-api.eu-west-2.amazonaws.com\n+execute-api.eu-west-3.amazonaws.com\n+execute-api.il-central-1.amazonaws.com\n+execute-api.me-central-1.amazonaws.com\n+execute-api.me-south-1.amazonaws.com\n+execute-api.sa-east-1.amazonaws.com\n+execute-api.us-east-1.amazonaws.com\n+execute-api.us-east-2.amazonaws.com\n+execute-api.us-gov-east-1.amazonaws.com\n+execute-api.us-gov-west-1.amazonaws.com\n+execute-api.us-west-1.amazonaws.com\n+execute-api.us-west-2.amazonaws.com\n+\n@@ -10197,0 +11361,31 @@\n+\/\/ Amazon Cognito\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 7bee1013-f456-47df-bfe8-03c78d946d61\n+auth.af-south-1.amazoncognito.com\n+auth.ap-northeast-1.amazoncognito.com\n+auth.ap-northeast-2.amazoncognito.com\n+auth.ap-northeast-3.amazoncognito.com\n+auth.ap-south-1.amazoncognito.com\n+auth.ap-southeast-1.amazoncognito.com\n+auth.ap-southeast-2.amazoncognito.com\n+auth.ap-southeast-3.amazoncognito.com\n+auth.ca-central-1.amazoncognito.com\n+auth.eu-central-1.amazoncognito.com\n+auth.eu-north-1.amazoncognito.com\n+auth.eu-south-1.amazoncognito.com\n+auth.eu-west-1.amazoncognito.com\n+auth.eu-west-2.amazoncognito.com\n+auth.eu-west-3.amazoncognito.com\n+auth.il-central-1.amazoncognito.com\n+auth.me-south-1.amazoncognito.com\n+auth.sa-east-1.amazoncognito.com\n+auth.us-east-1.amazoncognito.com\n+auth-fips.us-east-1.amazoncognito.com\n+auth.us-east-2.amazoncognito.com\n+auth-fips.us-east-2.amazoncognito.com\n+auth-fips.us-gov-west-1.amazoncognito.com\n+auth.us-west-1.amazoncognito.com\n+auth-fips.us-west-1.amazoncognito.com\n+auth.us-west-2.amazoncognito.com\n+auth-fips.us-west-2.amazoncognito.com\n+\n@@ -10205,0 +11400,106 @@\n+\/\/ Amazon EMR\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 597f3f8e-9283-4e48-8e32-7ee25a1ff6ab\n+emrappui-prod.cn-north-1.amazonaws.com.cn\n+emrnotebooks-prod.cn-north-1.amazonaws.com.cn\n+emrstudio-prod.cn-north-1.amazonaws.com.cn\n+emrappui-prod.cn-northwest-1.amazonaws.com.cn\n+emrnotebooks-prod.cn-northwest-1.amazonaws.com.cn\n+emrstudio-prod.cn-northwest-1.amazonaws.com.cn\n+emrappui-prod.af-south-1.amazonaws.com\n+emrnotebooks-prod.af-south-1.amazonaws.com\n+emrstudio-prod.af-south-1.amazonaws.com\n+emrappui-prod.ap-east-1.amazonaws.com\n+emrnotebooks-prod.ap-east-1.amazonaws.com\n+emrstudio-prod.ap-east-1.amazonaws.com\n+emrappui-prod.ap-northeast-1.amazonaws.com\n+emrnotebooks-prod.ap-northeast-1.amazonaws.com\n+emrstudio-prod.ap-northeast-1.amazonaws.com\n+emrappui-prod.ap-northeast-2.amazonaws.com\n+emrnotebooks-prod.ap-northeast-2.amazonaws.com\n+emrstudio-prod.ap-northeast-2.amazonaws.com\n+emrappui-prod.ap-northeast-3.amazonaws.com\n+emrnotebooks-prod.ap-northeast-3.amazonaws.com\n+emrstudio-prod.ap-northeast-3.amazonaws.com\n+emrappui-prod.ap-south-1.amazonaws.com\n+emrnotebooks-prod.ap-south-1.amazonaws.com\n+emrstudio-prod.ap-south-1.amazonaws.com\n+emrappui-prod.ap-southeast-1.amazonaws.com\n+emrnotebooks-prod.ap-southeast-1.amazonaws.com\n+emrstudio-prod.ap-southeast-1.amazonaws.com\n+emrappui-prod.ap-southeast-2.amazonaws.com\n+emrnotebooks-prod.ap-southeast-2.amazonaws.com\n+emrstudio-prod.ap-southeast-2.amazonaws.com\n+emrappui-prod.ap-southeast-3.amazonaws.com\n+emrnotebooks-prod.ap-southeast-3.amazonaws.com\n+emrstudio-prod.ap-southeast-3.amazonaws.com\n+emrappui-prod.ca-central-1.amazonaws.com\n+emrnotebooks-prod.ca-central-1.amazonaws.com\n+emrstudio-prod.ca-central-1.amazonaws.com\n+emrappui-prod.eu-central-1.amazonaws.com\n+emrnotebooks-prod.eu-central-1.amazonaws.com\n+emrstudio-prod.eu-central-1.amazonaws.com\n+emrappui-prod.eu-north-1.amazonaws.com\n+emrnotebooks-prod.eu-north-1.amazonaws.com\n+emrstudio-prod.eu-north-1.amazonaws.com\n+emrappui-prod.eu-south-1.amazonaws.com\n+emrnotebooks-prod.eu-south-1.amazonaws.com\n+emrstudio-prod.eu-south-1.amazonaws.com\n+emrappui-prod.eu-west-1.amazonaws.com\n+emrnotebooks-prod.eu-west-1.amazonaws.com\n+emrstudio-prod.eu-west-1.amazonaws.com\n+emrappui-prod.eu-west-2.amazonaws.com\n+emrnotebooks-prod.eu-west-2.amazonaws.com\n+emrstudio-prod.eu-west-2.amazonaws.com\n+emrappui-prod.eu-west-3.amazonaws.com\n+emrnotebooks-prod.eu-west-3.amazonaws.com\n+emrstudio-prod.eu-west-3.amazonaws.com\n+emrappui-prod.me-central-1.amazonaws.com\n+emrnotebooks-prod.me-central-1.amazonaws.com\n+emrstudio-prod.me-central-1.amazonaws.com\n+emrappui-prod.me-south-1.amazonaws.com\n+emrnotebooks-prod.me-south-1.amazonaws.com\n+emrstudio-prod.me-south-1.amazonaws.com\n+emrappui-prod.sa-east-1.amazonaws.com\n+emrnotebooks-prod.sa-east-1.amazonaws.com\n+emrstudio-prod.sa-east-1.amazonaws.com\n+emrappui-prod.us-east-1.amazonaws.com\n+emrnotebooks-prod.us-east-1.amazonaws.com\n+emrstudio-prod.us-east-1.amazonaws.com\n+emrappui-prod.us-east-2.amazonaws.com\n+emrnotebooks-prod.us-east-2.amazonaws.com\n+emrstudio-prod.us-east-2.amazonaws.com\n+emrappui-prod.us-gov-east-1.amazonaws.com\n+emrnotebooks-prod.us-gov-east-1.amazonaws.com\n+emrstudio-prod.us-gov-east-1.amazonaws.com\n+emrappui-prod.us-gov-west-1.amazonaws.com\n+emrnotebooks-prod.us-gov-west-1.amazonaws.com\n+emrstudio-prod.us-gov-west-1.amazonaws.com\n+emrappui-prod.us-west-1.amazonaws.com\n+emrnotebooks-prod.us-west-1.amazonaws.com\n+emrstudio-prod.us-west-1.amazonaws.com\n+emrappui-prod.us-west-2.amazonaws.com\n+emrnotebooks-prod.us-west-2.amazonaws.com\n+emrstudio-prod.us-west-2.amazonaws.com\n+\n+\/\/ Amazon Managed Workflows for Apache Airflow\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 4ab55e6f-90c0-4a8d-b6a0-52ca5dbb1c2e\n+*.cn-north-1.airflow.amazonaws.com.cn\n+*.cn-northwest-1.airflow.amazonaws.com.cn\n+*.ap-northeast-1.airflow.amazonaws.com\n+*.ap-northeast-2.airflow.amazonaws.com\n+*.ap-south-1.airflow.amazonaws.com\n+*.ap-southeast-1.airflow.amazonaws.com\n+*.ap-southeast-2.airflow.amazonaws.com\n+*.ca-central-1.airflow.amazonaws.com\n+*.eu-central-1.airflow.amazonaws.com\n+*.eu-north-1.airflow.amazonaws.com\n+*.eu-west-1.airflow.amazonaws.com\n+*.eu-west-2.airflow.amazonaws.com\n+*.eu-west-3.airflow.amazonaws.com\n+*.sa-east-1.airflow.amazonaws.com\n+*.us-east-1.airflow.amazonaws.com\n+*.us-east-2.airflow.amazonaws.com\n+*.us-west-2.airflow.amazonaws.com\n+\n@@ -10206,2 +11507,5 @@\n-\/\/ Submitted by Luke Wells <psl-maintainers@amazon.com>\n-\/\/ Reference: d068bd97-f0a9-4838-a6d8-954b622ef4ae\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 0e801048-08f2-4064-9cb8-e7373e0b57f4\n+s3.dualstack.cn-north-1.amazonaws.com.cn\n+s3-accesspoint.dualstack.cn-north-1.amazonaws.com.cn\n+s3-website.dualstack.cn-north-1.amazonaws.com.cn\n@@ -10209,0 +11513,23 @@\n+s3-accesspoint.cn-north-1.amazonaws.com.cn\n+s3-deprecated.cn-north-1.amazonaws.com.cn\n+s3-object-lambda.cn-north-1.amazonaws.com.cn\n+s3-website.cn-north-1.amazonaws.com.cn\n+s3.dualstack.cn-northwest-1.amazonaws.com.cn\n+s3-accesspoint.dualstack.cn-northwest-1.amazonaws.com.cn\n+s3.cn-northwest-1.amazonaws.com.cn\n+s3-accesspoint.cn-northwest-1.amazonaws.com.cn\n+s3-object-lambda.cn-northwest-1.amazonaws.com.cn\n+s3-website.cn-northwest-1.amazonaws.com.cn\n+s3.dualstack.af-south-1.amazonaws.com\n+s3-accesspoint.dualstack.af-south-1.amazonaws.com\n+s3-website.dualstack.af-south-1.amazonaws.com\n+s3.af-south-1.amazonaws.com\n+s3-accesspoint.af-south-1.amazonaws.com\n+s3-object-lambda.af-south-1.amazonaws.com\n+s3-website.af-south-1.amazonaws.com\n+s3.dualstack.ap-east-1.amazonaws.com\n+s3-accesspoint.dualstack.ap-east-1.amazonaws.com\n+s3.ap-east-1.amazonaws.com\n+s3-accesspoint.ap-east-1.amazonaws.com\n+s3-object-lambda.ap-east-1.amazonaws.com\n+s3-website.ap-east-1.amazonaws.com\n@@ -10210,0 +11537,6 @@\n+s3-accesspoint.dualstack.ap-northeast-1.amazonaws.com\n+s3-website.dualstack.ap-northeast-1.amazonaws.com\n+s3.ap-northeast-1.amazonaws.com\n+s3-accesspoint.ap-northeast-1.amazonaws.com\n+s3-object-lambda.ap-northeast-1.amazonaws.com\n+s3-website.ap-northeast-1.amazonaws.com\n@@ -10211,0 +11544,2 @@\n+s3-accesspoint.dualstack.ap-northeast-2.amazonaws.com\n+s3-website.dualstack.ap-northeast-2.amazonaws.com\n@@ -10212,0 +11547,2 @@\n+s3-accesspoint.ap-northeast-2.amazonaws.com\n+s3-object-lambda.ap-northeast-2.amazonaws.com\n@@ -10213,0 +11550,7 @@\n+s3.dualstack.ap-northeast-3.amazonaws.com\n+s3-accesspoint.dualstack.ap-northeast-3.amazonaws.com\n+s3-website.dualstack.ap-northeast-3.amazonaws.com\n+s3.ap-northeast-3.amazonaws.com\n+s3-accesspoint.ap-northeast-3.amazonaws.com\n+s3-object-lambda.ap-northeast-3.amazonaws.com\n+s3-website.ap-northeast-3.amazonaws.com\n@@ -10214,0 +11558,2 @@\n+s3-accesspoint.dualstack.ap-south-1.amazonaws.com\n+s3-website.dualstack.ap-south-1.amazonaws.com\n@@ -10215,0 +11561,2 @@\n+s3-accesspoint.ap-south-1.amazonaws.com\n+s3-object-lambda.ap-south-1.amazonaws.com\n@@ -10216,0 +11564,6 @@\n+s3.dualstack.ap-south-2.amazonaws.com\n+s3-accesspoint.dualstack.ap-south-2.amazonaws.com\n+s3.ap-south-2.amazonaws.com\n+s3-accesspoint.ap-south-2.amazonaws.com\n+s3-object-lambda.ap-south-2.amazonaws.com\n+s3-website.ap-south-2.amazonaws.com\n@@ -10217,0 +11571,6 @@\n+s3-accesspoint.dualstack.ap-southeast-1.amazonaws.com\n+s3-website.dualstack.ap-southeast-1.amazonaws.com\n+s3.ap-southeast-1.amazonaws.com\n+s3-accesspoint.ap-southeast-1.amazonaws.com\n+s3-object-lambda.ap-southeast-1.amazonaws.com\n+s3-website.ap-southeast-1.amazonaws.com\n@@ -10218,0 +11578,18 @@\n+s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com\n+s3-website.dualstack.ap-southeast-2.amazonaws.com\n+s3.ap-southeast-2.amazonaws.com\n+s3-accesspoint.ap-southeast-2.amazonaws.com\n+s3-object-lambda.ap-southeast-2.amazonaws.com\n+s3-website.ap-southeast-2.amazonaws.com\n+s3.dualstack.ap-southeast-3.amazonaws.com\n+s3-accesspoint.dualstack.ap-southeast-3.amazonaws.com\n+s3.ap-southeast-3.amazonaws.com\n+s3-accesspoint.ap-southeast-3.amazonaws.com\n+s3-object-lambda.ap-southeast-3.amazonaws.com\n+s3-website.ap-southeast-3.amazonaws.com\n+s3.dualstack.ap-southeast-4.amazonaws.com\n+s3-accesspoint.dualstack.ap-southeast-4.amazonaws.com\n+s3.ap-southeast-4.amazonaws.com\n+s3-accesspoint.ap-southeast-4.amazonaws.com\n+s3-object-lambda.ap-southeast-4.amazonaws.com\n+s3-website.ap-southeast-4.amazonaws.com\n@@ -10219,0 +11597,4 @@\n+s3-accesspoint.dualstack.ca-central-1.amazonaws.com\n+s3-accesspoint-fips.dualstack.ca-central-1.amazonaws.com\n+s3-fips.dualstack.ca-central-1.amazonaws.com\n+s3-website.dualstack.ca-central-1.amazonaws.com\n@@ -10220,0 +11602,4 @@\n+s3-accesspoint.ca-central-1.amazonaws.com\n+s3-accesspoint-fips.ca-central-1.amazonaws.com\n+s3-fips.ca-central-1.amazonaws.com\n+s3-object-lambda.ca-central-1.amazonaws.com\n@@ -10222,0 +11608,2 @@\n+s3-accesspoint.dualstack.eu-central-1.amazonaws.com\n+s3-website.dualstack.eu-central-1.amazonaws.com\n@@ -10223,0 +11611,2 @@\n+s3-accesspoint.eu-central-1.amazonaws.com\n+s3-object-lambda.eu-central-1.amazonaws.com\n@@ -10224,0 +11614,25 @@\n+s3.dualstack.eu-central-2.amazonaws.com\n+s3-accesspoint.dualstack.eu-central-2.amazonaws.com\n+s3.eu-central-2.amazonaws.com\n+s3-accesspoint.eu-central-2.amazonaws.com\n+s3-object-lambda.eu-central-2.amazonaws.com\n+s3-website.eu-central-2.amazonaws.com\n+s3.dualstack.eu-north-1.amazonaws.com\n+s3-accesspoint.dualstack.eu-north-1.amazonaws.com\n+s3.eu-north-1.amazonaws.com\n+s3-accesspoint.eu-north-1.amazonaws.com\n+s3-object-lambda.eu-north-1.amazonaws.com\n+s3-website.eu-north-1.amazonaws.com\n+s3.dualstack.eu-south-1.amazonaws.com\n+s3-accesspoint.dualstack.eu-south-1.amazonaws.com\n+s3-website.dualstack.eu-south-1.amazonaws.com\n+s3.eu-south-1.amazonaws.com\n+s3-accesspoint.eu-south-1.amazonaws.com\n+s3-object-lambda.eu-south-1.amazonaws.com\n+s3-website.eu-south-1.amazonaws.com\n+s3.dualstack.eu-south-2.amazonaws.com\n+s3-accesspoint.dualstack.eu-south-2.amazonaws.com\n+s3.eu-south-2.amazonaws.com\n+s3-accesspoint.eu-south-2.amazonaws.com\n+s3-object-lambda.eu-south-2.amazonaws.com\n+s3-website.eu-south-2.amazonaws.com\n@@ -10225,0 +11640,7 @@\n+s3-accesspoint.dualstack.eu-west-1.amazonaws.com\n+s3-website.dualstack.eu-west-1.amazonaws.com\n+s3.eu-west-1.amazonaws.com\n+s3-accesspoint.eu-west-1.amazonaws.com\n+s3-deprecated.eu-west-1.amazonaws.com\n+s3-object-lambda.eu-west-1.amazonaws.com\n+s3-website.eu-west-1.amazonaws.com\n@@ -10226,0 +11648,1 @@\n+s3-accesspoint.dualstack.eu-west-2.amazonaws.com\n@@ -10227,0 +11650,2 @@\n+s3-accesspoint.eu-west-2.amazonaws.com\n+s3-object-lambda.eu-west-2.amazonaws.com\n@@ -10229,0 +11654,2 @@\n+s3-accesspoint.dualstack.eu-west-3.amazonaws.com\n+s3-website.dualstack.eu-west-3.amazonaws.com\n@@ -10230,0 +11657,2 @@\n+s3-accesspoint.eu-west-3.amazonaws.com\n+s3-object-lambda.eu-west-3.amazonaws.com\n@@ -10231,0 +11660,18 @@\n+s3.dualstack.il-central-1.amazonaws.com\n+s3-accesspoint.dualstack.il-central-1.amazonaws.com\n+s3.il-central-1.amazonaws.com\n+s3-accesspoint.il-central-1.amazonaws.com\n+s3-object-lambda.il-central-1.amazonaws.com\n+s3-website.il-central-1.amazonaws.com\n+s3.dualstack.me-central-1.amazonaws.com\n+s3-accesspoint.dualstack.me-central-1.amazonaws.com\n+s3.me-central-1.amazonaws.com\n+s3-accesspoint.me-central-1.amazonaws.com\n+s3-object-lambda.me-central-1.amazonaws.com\n+s3-website.me-central-1.amazonaws.com\n+s3.dualstack.me-south-1.amazonaws.com\n+s3-accesspoint.dualstack.me-south-1.amazonaws.com\n+s3.me-south-1.amazonaws.com\n+s3-accesspoint.me-south-1.amazonaws.com\n+s3-object-lambda.me-south-1.amazonaws.com\n+s3-website.me-south-1.amazonaws.com\n@@ -10232,0 +11679,2 @@\n+s3-1.amazonaws.com\n+s3-ap-east-1.amazonaws.com\n@@ -10234,0 +11683,1 @@\n+s3-ap-northeast-3.amazonaws.com\n@@ -10239,0 +11689,1 @@\n+s3-eu-north-1.amazonaws.com\n@@ -10243,0 +11694,1 @@\n+s3-fips-us-gov-east-1.amazonaws.com\n@@ -10244,0 +11696,2 @@\n+mrap.accesspoint.s3-global.amazonaws.com\n+s3-me-south-1.amazonaws.com\n@@ -10246,0 +11700,1 @@\n+s3-us-gov-east-1.amazonaws.com\n@@ -10255,0 +11710,1 @@\n+s3-website-us-gov-west-1.amazonaws.com\n@@ -10258,0 +11714,6 @@\n+s3-accesspoint.dualstack.sa-east-1.amazonaws.com\n+s3-website.dualstack.sa-east-1.amazonaws.com\n+s3.sa-east-1.amazonaws.com\n+s3-accesspoint.sa-east-1.amazonaws.com\n+s3-object-lambda.sa-east-1.amazonaws.com\n+s3-website.sa-east-1.amazonaws.com\n@@ -10259,0 +11721,11 @@\n+s3-accesspoint.dualstack.us-east-1.amazonaws.com\n+s3-accesspoint-fips.dualstack.us-east-1.amazonaws.com\n+s3-fips.dualstack.us-east-1.amazonaws.com\n+s3-website.dualstack.us-east-1.amazonaws.com\n+s3.us-east-1.amazonaws.com\n+s3-accesspoint.us-east-1.amazonaws.com\n+s3-accesspoint-fips.us-east-1.amazonaws.com\n+s3-deprecated.us-east-1.amazonaws.com\n+s3-fips.us-east-1.amazonaws.com\n+s3-object-lambda.us-east-1.amazonaws.com\n+s3-website.us-east-1.amazonaws.com\n@@ -10260,0 +11733,3 @@\n+s3-accesspoint.dualstack.us-east-2.amazonaws.com\n+s3-accesspoint-fips.dualstack.us-east-2.amazonaws.com\n+s3-fips.dualstack.us-east-2.amazonaws.com\n@@ -10261,0 +11737,5 @@\n+s3-accesspoint.us-east-2.amazonaws.com\n+s3-accesspoint-fips.us-east-2.amazonaws.com\n+s3-deprecated.us-east-2.amazonaws.com\n+s3-fips.us-east-2.amazonaws.com\n+s3-object-lambda.us-east-2.amazonaws.com\n@@ -10262,0 +11743,142 @@\n+s3.dualstack.us-gov-east-1.amazonaws.com\n+s3-accesspoint.dualstack.us-gov-east-1.amazonaws.com\n+s3-accesspoint-fips.dualstack.us-gov-east-1.amazonaws.com\n+s3-fips.dualstack.us-gov-east-1.amazonaws.com\n+s3.us-gov-east-1.amazonaws.com\n+s3-accesspoint.us-gov-east-1.amazonaws.com\n+s3-accesspoint-fips.us-gov-east-1.amazonaws.com\n+s3-fips.us-gov-east-1.amazonaws.com\n+s3-object-lambda.us-gov-east-1.amazonaws.com\n+s3-website.us-gov-east-1.amazonaws.com\n+s3.dualstack.us-gov-west-1.amazonaws.com\n+s3-accesspoint.dualstack.us-gov-west-1.amazonaws.com\n+s3-accesspoint-fips.dualstack.us-gov-west-1.amazonaws.com\n+s3-fips.dualstack.us-gov-west-1.amazonaws.com\n+s3.us-gov-west-1.amazonaws.com\n+s3-accesspoint.us-gov-west-1.amazonaws.com\n+s3-accesspoint-fips.us-gov-west-1.amazonaws.com\n+s3-fips.us-gov-west-1.amazonaws.com\n+s3-object-lambda.us-gov-west-1.amazonaws.com\n+s3-website.us-gov-west-1.amazonaws.com\n+s3.dualstack.us-west-1.amazonaws.com\n+s3-accesspoint.dualstack.us-west-1.amazonaws.com\n+s3-accesspoint-fips.dualstack.us-west-1.amazonaws.com\n+s3-fips.dualstack.us-west-1.amazonaws.com\n+s3-website.dualstack.us-west-1.amazonaws.com\n+s3.us-west-1.amazonaws.com\n+s3-accesspoint.us-west-1.amazonaws.com\n+s3-accesspoint-fips.us-west-1.amazonaws.com\n+s3-fips.us-west-1.amazonaws.com\n+s3-object-lambda.us-west-1.amazonaws.com\n+s3-website.us-west-1.amazonaws.com\n+s3.dualstack.us-west-2.amazonaws.com\n+s3-accesspoint.dualstack.us-west-2.amazonaws.com\n+s3-accesspoint-fips.dualstack.us-west-2.amazonaws.com\n+s3-fips.dualstack.us-west-2.amazonaws.com\n+s3-website.dualstack.us-west-2.amazonaws.com\n+s3.us-west-2.amazonaws.com\n+s3-accesspoint.us-west-2.amazonaws.com\n+s3-accesspoint-fips.us-west-2.amazonaws.com\n+s3-deprecated.us-west-2.amazonaws.com\n+s3-fips.us-west-2.amazonaws.com\n+s3-object-lambda.us-west-2.amazonaws.com\n+s3-website.us-west-2.amazonaws.com\n+\n+\/\/ Amazon SageMaker Notebook Instances\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: fe8c9e94-5a22-486d-8750-991a3a9b13c6\n+notebook.af-south-1.sagemaker.aws\n+notebook.ap-east-1.sagemaker.aws\n+notebook.ap-northeast-1.sagemaker.aws\n+notebook.ap-northeast-2.sagemaker.aws\n+notebook.ap-northeast-3.sagemaker.aws\n+notebook.ap-south-1.sagemaker.aws\n+notebook.ap-south-2.sagemaker.aws\n+notebook.ap-southeast-1.sagemaker.aws\n+notebook.ap-southeast-2.sagemaker.aws\n+notebook.ap-southeast-3.sagemaker.aws\n+notebook.ap-southeast-4.sagemaker.aws\n+notebook.ca-central-1.sagemaker.aws\n+notebook.eu-central-1.sagemaker.aws\n+notebook.eu-central-2.sagemaker.aws\n+notebook.eu-north-1.sagemaker.aws\n+notebook.eu-south-1.sagemaker.aws\n+notebook.eu-south-2.sagemaker.aws\n+notebook.eu-west-1.sagemaker.aws\n+notebook.eu-west-2.sagemaker.aws\n+notebook.eu-west-3.sagemaker.aws\n+notebook.il-central-1.sagemaker.aws\n+notebook.me-central-1.sagemaker.aws\n+notebook.me-south-1.sagemaker.aws\n+notebook.sa-east-1.sagemaker.aws\n+notebook.us-east-1.sagemaker.aws\n+notebook-fips.us-east-1.sagemaker.aws\n+notebook.us-east-2.sagemaker.aws\n+notebook-fips.us-east-2.sagemaker.aws\n+notebook.us-gov-east-1.sagemaker.aws\n+notebook-fips.us-gov-east-1.sagemaker.aws\n+notebook.us-gov-west-1.sagemaker.aws\n+notebook-fips.us-gov-west-1.sagemaker.aws\n+notebook.us-west-1.sagemaker.aws\n+notebook.us-west-2.sagemaker.aws\n+notebook-fips.us-west-2.sagemaker.aws\n+notebook.cn-north-1.sagemaker.com.cn\n+notebook.cn-northwest-1.sagemaker.com.cn\n+\n+\/\/ Amazon SageMaker Studio\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 057ee397-6bf8-4f20-b807-d7bc145ac980\n+studio.af-south-1.sagemaker.aws\n+studio.ap-east-1.sagemaker.aws\n+studio.ap-northeast-1.sagemaker.aws\n+studio.ap-northeast-2.sagemaker.aws\n+studio.ap-northeast-3.sagemaker.aws\n+studio.ap-south-1.sagemaker.aws\n+studio.ap-southeast-1.sagemaker.aws\n+studio.ap-southeast-2.sagemaker.aws\n+studio.ap-southeast-3.sagemaker.aws\n+studio.ca-central-1.sagemaker.aws\n+studio.eu-central-1.sagemaker.aws\n+studio.eu-north-1.sagemaker.aws\n+studio.eu-south-1.sagemaker.aws\n+studio.eu-west-1.sagemaker.aws\n+studio.eu-west-2.sagemaker.aws\n+studio.eu-west-3.sagemaker.aws\n+studio.il-central-1.sagemaker.aws\n+studio.me-central-1.sagemaker.aws\n+studio.me-south-1.sagemaker.aws\n+studio.sa-east-1.sagemaker.aws\n+studio.us-east-1.sagemaker.aws\n+studio.us-east-2.sagemaker.aws\n+studio.us-gov-east-1.sagemaker.aws\n+studio-fips.us-gov-east-1.sagemaker.aws\n+studio.us-gov-west-1.sagemaker.aws\n+studio-fips.us-gov-west-1.sagemaker.aws\n+studio.us-west-1.sagemaker.aws\n+studio.us-west-2.sagemaker.aws\n+studio.cn-north-1.sagemaker.com.cn\n+studio.cn-northwest-1.sagemaker.com.cn\n+\n+\/\/ Analytics on AWS\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 955f9f40-a495-4e73-ae85-67b77ac9cadd\n+analytics-gateway.ap-northeast-1.amazonaws.com\n+analytics-gateway.ap-northeast-2.amazonaws.com\n+analytics-gateway.ap-south-1.amazonaws.com\n+analytics-gateway.ap-southeast-1.amazonaws.com\n+analytics-gateway.ap-southeast-2.amazonaws.com\n+analytics-gateway.eu-central-1.amazonaws.com\n+analytics-gateway.eu-west-1.amazonaws.com\n+analytics-gateway.us-east-1.amazonaws.com\n+analytics-gateway.us-east-2.amazonaws.com\n+analytics-gateway.us-west-2.amazonaws.com\n+\n+\/\/ AWS Amplify\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 5ecce854-c033-4fc4-a755-1a9916d9a9bb\n+*.amplifyapp.com\n+\n+\/\/ AWS App Runner\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: 6828c008-ba5d-442f-ade5-48da4e7c2316\n+*.awsapprunner.com\n@@ -10265,1 +11888,2 @@\n-\/\/ Reference: 2b6dfa9a-3a7f-4367-b2e7-0321e77c0d59\n+\/\/ Reference: 05c44955-977c-4b57-938a-f2af92733f9f\n+webview-assets.aws-cloud9.af-south-1.amazonaws.com\n@@ -10268,0 +11892,1 @@\n+webview-assets.aws-cloud9.ap-east-1.amazonaws.com\n@@ -10270,0 +11895,1 @@\n+webview-assets.aws-cloud9.ap-northeast-1.amazonaws.com\n@@ -10272,0 +11898,1 @@\n+webview-assets.aws-cloud9.ap-northeast-2.amazonaws.com\n@@ -10274,0 +11901,1 @@\n+webview-assets.aws-cloud9.ap-northeast-3.amazonaws.com\n@@ -10276,0 +11904,1 @@\n+webview-assets.aws-cloud9.ap-south-1.amazonaws.com\n@@ -10278,0 +11907,1 @@\n+webview-assets.aws-cloud9.ap-southeast-1.amazonaws.com\n@@ -10280,0 +11910,1 @@\n+webview-assets.aws-cloud9.ap-southeast-2.amazonaws.com\n@@ -10282,0 +11913,1 @@\n+webview-assets.aws-cloud9.ca-central-1.amazonaws.com\n@@ -10284,0 +11916,1 @@\n+webview-assets.aws-cloud9.eu-central-1.amazonaws.com\n@@ -10286,0 +11919,1 @@\n+webview-assets.aws-cloud9.eu-north-1.amazonaws.com\n@@ -10288,0 +11922,1 @@\n+webview-assets.aws-cloud9.eu-south-1.amazonaws.com\n@@ -10290,0 +11925,1 @@\n+webview-assets.aws-cloud9.eu-west-1.amazonaws.com\n@@ -10292,0 +11928,1 @@\n+webview-assets.aws-cloud9.eu-west-2.amazonaws.com\n@@ -10294,0 +11931,1 @@\n+webview-assets.aws-cloud9.eu-west-3.amazonaws.com\n@@ -10296,0 +11934,1 @@\n+webview-assets.aws-cloud9.me-south-1.amazonaws.com\n@@ -10298,0 +11937,1 @@\n+webview-assets.aws-cloud9.sa-east-1.amazonaws.com\n@@ -10300,0 +11940,1 @@\n+webview-assets.aws-cloud9.us-east-1.amazonaws.com\n@@ -10302,0 +11943,1 @@\n+webview-assets.aws-cloud9.us-east-2.amazonaws.com\n@@ -10304,0 +11946,1 @@\n+webview-assets.aws-cloud9.us-west-1.amazonaws.com\n@@ -10306,0 +11949,1 @@\n+webview-assets.aws-cloud9.us-west-2.amazonaws.com\n@@ -10310,2 +11954,2 @@\n-\/\/ Submitted by Luke Wells <psl-maintainers@amazon.com>\n-\/\/ Reference: aa202394-43a0-4857-b245-8db04549137e\n+\/\/ Submitted by AWS Security <psl-maintainers@amazon.com>\n+\/\/ Reference: bb5a965c-dec3-4967-aa22-e306ad064797\n@@ -10315,0 +11959,2 @@\n+af-south-1.elasticbeanstalk.com\n+ap-east-1.elasticbeanstalk.com\n@@ -10321,0 +11967,1 @@\n+ap-southeast-3.elasticbeanstalk.com\n@@ -10323,0 +11970,2 @@\n+eu-north-1.elasticbeanstalk.com\n+eu-south-1.elasticbeanstalk.com\n@@ -10326,0 +11975,2 @@\n+il-central-1.elasticbeanstalk.com\n+me-south-1.elasticbeanstalk.com\n@@ -10329,0 +11980,1 @@\n+us-gov-east-1.elasticbeanstalk.com\n@@ -11591,1 +13243,1 @@\n-\/\/ Futureweb OG : http:\/\/www.futureweb.at\n+\/\/ Futureweb GmbH : https:\/\/www.futureweb.at\n@@ -12098,1 +13750,0 @@\n-users.scale.virtualcloud.com.br\n@@ -12122,1 +13773,0 @@\n-clicketcloud.com\n@@ -12124,1 +13774,0 @@\n-hidora.com\n@@ -12439,0 +14088,4 @@\n+4.azurestaticapps.net\n+5.azurestaticapps.net\n+6.azurestaticapps.net\n+7.azurestaticapps.net\n@@ -12519,0 +14172,3 @@\n+\/\/ Nicolaus Copernicus University in Torun - MSK TORMAN (https:\/\/www.man.torun.pl)\n+torun.pl\n+\n@@ -13233,0 +14889,14 @@\n+\/\/ Smallregistry by Promopixel SARL: https:\/\/www.smallregistry.net\n+\/\/ Former AFNIC's SLDs \n+\/\/ Submitted by Jrme Lipowicz <support@promopixel.com>\n+aeroport.fr\n+avocat.fr\n+chambagri.fr\n+chirurgiens-dentistes.fr\n+experts-comptables.fr\n+medecin.fr\n+notaires.fr\n+pharmacien.fr\n+port.fr\n+veterinaire.fr\n+\n@@ -13326,0 +14996,4 @@\n+\/\/ Storipress : https:\/\/storipress.com\n+\/\/ Submitted by Benno Liu <benno@storipress.com>\n+storipress.app\n+\n@@ -13693,0 +15367,2 @@\n+wixstudio.io\n+wix.run\n","filename":"src\/java.base\/share\/data\/publicsuffixlist\/public_suffix_list.dat","additions":2922,"deletions":1246,"binary":false,"changes":4168,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-tzdata2023c\n+tzdata2023d\n","filename":"src\/java.base\/share\/data\/tzdata\/VERSION","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -311,7 +311,0 @@\n-# From Paul Eggert (2014-06-04):\n-# Sarah El Deeb and Lee Keath of AP report that the Egyptian government says\n-# the change is because of blackouts in Cairo, even though Ahram Online (cited\n-# above) says DST had no affect on electricity consumption.  There is\n-# no information about when DST will end this fall.  See:\n-# http:\/\/abcnews.go.com\/International\/wireStory\/el-sissi-pushes-egyptians-line-23614833\n-\n","filename":"src\/java.base\/share\/data\/tzdata\/africa","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -106,0 +106,5 @@\n+# From Paul Eggert (2023-12-20):\n+# Transitions from 2021 on are taken from:\n+# https:\/\/www.timeanddate.com\/time\/zone\/antarctica\/casey\n+# retrieved at various dates.\n+\n@@ -119,1 +124,6 @@\n-\t\t\t11:00\t-\t+11\n+\t\t\t11:00\t-\t+11\t2021 Mar 14  0:00\n+\t\t\t 8:00\t-\t+08\t2021 Oct  3  0:01\n+\t\t\t11:00\t-\t+11\t2022 Mar 13  0:00\n+\t\t\t 8:00\t-\t+08\t2022 Oct  2  0:01\n+\t\t\t11:00\t-\t+11\t2023 Mar  9  3:00\n+\t\t\t 8:00\t-\t+08\n@@ -266,1 +276,44 @@\n-# See Asia\/Urumqi.\n+# From Craig Mundell (1994-12-15):\n+# http:\/\/quest.arc.nasa.gov\/antarctica\/QA\/computers\/Directions,Time,ZIP\n+# Vostok, which is one of the Russian stations, is set on the same\n+# time as Moscow, Russia.\n+#\n+# From Lee Hotz (2001-03-08):\n+# I queried the folks at Columbia who spent the summer at Vostok and this is\n+# what they had to say about time there:\n+# \"in the US Camp (East Camp) we have been on New Zealand (McMurdo)\n+# time, which is 12 hours ahead of GMT. The Russian Station Vostok was\n+# 6 hours behind that (although only 2 miles away, i.e. 6 hours ahead\n+# of GMT). This is a time zone I think two hours east of Moscow. The\n+# natural time zone is in between the two: 8 hours ahead of GMT.\"\n+#\n+# From Paul Eggert (2001-05-04):\n+# This seems to be hopelessly confusing, so I asked Lee Hotz about it\n+# in person.  He said that some Antarctic locations set their local\n+# time so that noon is the warmest part of the day, and that this\n+# changes during the year and does not necessarily correspond to mean\n+# solar noon.  So the Vostok time might have been whatever the clocks\n+# happened to be during their visit.  So we still don't really know what time\n+# it is at Vostok.\n+#\n+# From Zakhary V. Akulov (2023-12-17 22:00:48 +0700):\n+# ... from December, 18, 2023 00:00 by my decision the local time of\n+# the Antarctic research base Vostok will correspond to UTC+5.\n+# (2023-12-19): We constantly interact with Progress base, with company who\n+# builds new wintering station, with sledge convoys, with aviation - they all\n+# use UTC+5. Besides, difference between Moscow time is just 2 hours now, not 4.\n+# (2023-12-19, in response to the question \"Has local time at Vostok\n+# been UTC+6 ever since 1957, or has it changed before?\"): No. At least\n+# since my antarctic career start, 10 years ago, Vostok base has UTC+7.\n+# (In response to a 2023-12-18 question \"from 02:00 to 00:00 today\"): This.\n+#\n+# From Paul Eggert (2023-12-18):\n+# For lack of better info, guess Vostok was at +07 from founding through today,\n+# except when closed.\n+\n+# Zone\tNAME\t\tSTDOFF\tRULES\tFORMAT\t[UNTIL]\n+Zone Antarctica\/Vostok\t0\t-\t-00\t1957 Dec 16\n+\t\t\t7:00\t-\t+07\t1994 Feb\n+\t\t\t0\t-\t-00\t1994 Nov\n+\t\t\t7:00\t-\t+07\t2023 Dec 18  2:00\n+\t\t\t5:00\t-\t+05\n","filename":"src\/java.base\/share\/data\/tzdata\/antarctica","additions":55,"deletions":2,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -681,1 +681,0 @@\n-# Vostok base in Antarctica matches this since 1970.\n@@ -3453,0 +3452,3 @@\n+# From Heba Hemad (2023-10-09):\n+# ... winter time will begin in Palestine from Saturday 10-28-2023,\n+# 02:00 AM by 60 minutes back.\n@@ -3574,0 +3576,1 @@\n+Rule Palestine\t2072\tmax\t-\tOct\tSat<=30\t2:00\t0\t-\n@@ -3580,1 +3583,0 @@\n-Rule Palestine\t2075\tmax\t-\tOct\tSat<=30\t2:00\t0\t-\n","filename":"src\/java.base\/share\/data\/tzdata\/asia","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -417,0 +417,6 @@\n+\n+# From Almaz Mingaleev (2023-10-06):\n+# Cabinet approved the suspension of Daylight Saving and appropriate\n+# legislative changes will be considered including the repeal of the\n+# Daylight Saving Act 1998\n+# https:\/\/www.fiji.gov.fj\/Media-Centre\/Speeches\/English\/CABINET-DECISIONS-3-OCTOBER-2023\n@@ -418,1 +424,1 @@\n-# From Paul Eggert (2022-10-27):\n+# From Paul Eggert (2023-10-06):\n","filename":"src\/java.base\/share\/data\/tzdata\/australasia","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -231,1 +231,0 @@\n-Link\tAsia\/Urumqi\t\tAntarctica\/Vostok\n","filename":"src\/java.base\/share\/data\/tzdata\/backward","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1149,0 +1149,17 @@\n+#\n+# From Mte Bourup Egede via Jgvan Svabo Samuelsen (2023-03-15):\n+# Greenland will not switch to Daylight Saving Time this year, 2023,\n+# because the standard time for Greenland will change from UTC -3 to UTC -2.\n+# However, Greenland will change to Daylight Saving Time again in 2024\n+# and onwards.\n+\n+# From a contributor who wishes to remain anonymous for now (2023-10-29):\n+# https:\/\/www.dr.dk\/nyheder\/seneste\/i-nat-skal-uret-stilles-en-time-tilbage-men-foerste-gang-sker-det-ikke-i-groenland\n+# with a link to that page:\n+# https:\/\/naalakkersuisut.gl\/Nyheder\/2023\/10\/2710_sommertid\n+# ... Ittoqqortoormiit joins the time of Nuuk at March 2024.\n+# What would mean that America\/Scoresbysund would either be in -01 year round\n+# or in -02\/-01 like America\/Nuuk, but no longer in -01\/+00.\n+#\n+# From Paul Eggert (2023-10-29):\n+# For now, assume it will be like America\/Nuuk.\n@@ -1169,1 +1186,2 @@\n-\t\t\t-1:00\tEU\t-01\/+00\n+\t\t\t-1:00\tEU\t-01\/+00 2024 Mar 31\n+\t\t\t-2:00\tEU\t-02\/-01\n@@ -1172,1 +1190,2 @@\n-\t\t\t-3:00\tEU\t-03\/-02\t2023 Oct 29  1:00u\n+\t\t\t-3:00\tEU\t-03\/-02\t2023 Mar 26  1:00u\n+\t\t\t-2:00\t-\t-02\t2023 Oct 29  1:00u\n@@ -3737,5 +3756,1 @@\n-# The next change in October 1996 happened under EU rules....\n-# TZ database holds three other zones for Ukraine.... I have not yet\n-# worked out the consequences for these three zones, as we (me and my\n-# US colleague David Cochrane) are still trying to get more\n-# information upon these local deviations from Kiev rules.\n+# The next change in October 1996 happened under EU rules.\n","filename":"src\/java.base\/share\/data\/tzdata\/europe","additions":22,"deletions":7,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-# From Paul Eggert (2022-11-18):\n+# From Paul Eggert (2023-09-06):\n@@ -35,5 +35,10 @@\n-#     ISO 3166-1 N1087 (2022-09-02).  See: Updates on ISO 3166-1\n-#     https:\/\/isotc.iso.org\/livelink\/livelink\/Open\/16944257\n-# 2.  The usual English name for the coded region,\n-#     chosen so that alphabetic sorting of subsets produces helpful lists.\n-#     This is not the same as the English name in the ISO 3166 tables.\n+#     ISO\/TC 46 N1108 (2023-04-05).  See: ISO\/TC 46 Documents\n+#     https:\/\/www.iso.org\/committee\/48750.html?view=documents\n+# 2.  The usual English name for the coded region.  This sometimes\n+#     departs from ISO-listed names, sometimes so that sorted subsets\n+#     of names are useful (e.g., \"Samoa (American)\" and \"Samoa\n+#     (western)\" rather than \"American Samoa\" and \"Samoa\"),\n+#     sometimes to avoid confusion among non-experts (e.g.,\n+#     \"Czech Republic\" and \"Turkey\" rather than \"Czechia\" and \"Trkiye\"),\n+#     and sometimes to omit needless detail or churn (e.g., \"Netherlands\"\n+#     rather than \"Netherlands (the)\" or \"Netherlands (Kingdom of the)\").\n","filename":"src\/java.base\/share\/data\/tzdata\/iso3166.tab","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -98,1 +98,1 @@\n-#Expires 2023\tDec\t28\t00:00:00\n+#Expires 2024\tJun\t28\t00:00:00\n@@ -102,1 +102,1 @@\n-#expires 1703721600 (2023-12-28 00:00:00 UTC)\n+#expires 1719532800 (2024-06-28 00:00:00 UTC)\n@@ -104,2 +104,2 @@\n-#\tUpdated through IERS Bulletin C65\n-#\tFile expires on:  28 December 2023\n+#\tUpdated through IERS Bulletin C66\n+#\tFile expires on:  28 June 2024\n","filename":"src\/java.base\/share\/data\/tzdata\/leapseconds","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -0,0 +1,1 @@\n+#\n@@ -1478,1 +1479,1 @@\n-# St John's has an apostrophe, but Posix file names can't have apostrophes.\n+# St John's has an apostrophe, but POSIX file names can't have apostrophes.\n","filename":"src\/java.base\/share\/data\/tzdata\/northamerica","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1723,0 +1723,6 @@\n+#\n+# From Paul Eggert (2023-07-26):\n+# Transition dates are now set by Law No. 7115, not by presidential decree.\n+# https:\/\/www.abc.com.py\/politica\/2023\/07\/12\/promulgacion-el-cambio-de-hora-sera-por-ley\/\n+# From Carlos Ral Perasso (2023-07-27):\n+# http:\/\/silpy.congreso.gov.py\/descarga\/ley-144138\n","filename":"src\/java.base\/share\/data\/tzdata\/southamerica","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-AR\t-2828-06547\tAmerica\/Argentina\/Catamarca\tCatamarca (CT); Chubut (CH)\n+AR\t-2828-06547\tAmerica\/Argentina\/Catamarca\tCatamarca (CT), Chubut (CH)\n@@ -113,1 +113,1 @@\n-BR\t-0127-04829\tAmerica\/Belem\tPara (east); Amapa\n+BR\t-0127-04829\tAmerica\/Belem\tPara (east), Amapa\n@@ -133,2 +133,2 @@\n-CA\t+4734-05243\tAmerica\/St_Johns\tNewfoundland; Labrador (southeast)\n-CA\t+4439-06336\tAmerica\/Halifax\tAtlantic - NS (most areas); PE\n+CA\t+4734-05243\tAmerica\/St_Johns\tNewfoundland, Labrador (SE)\n+CA\t+4439-06336\tAmerica\/Halifax\tAtlantic - NS (most areas), PE\n@@ -139,1 +139,1 @@\n-CA\t+4339-07923\tAmerica\/Toronto\tEastern - ON, QC (most areas)\n+CA\t+4339-07923\tAmerica\/Toronto\tEastern - ON & QC (most areas)\n@@ -141,2 +141,2 @@\n-CA\t+484531-0913718\tAmerica\/Atikokan\tEST - ON (Atikokan); NU (Coral H)\n-CA\t+4953-09709\tAmerica\/Winnipeg\tCentral - ON (west); Manitoba\n+CA\t+484531-0913718\tAmerica\/Atikokan\tEST - ON (Atikokan), NU (Coral H)\n+CA\t+4953-09709\tAmerica\/Winnipeg\tCentral - ON (west), Manitoba\n@@ -147,1 +147,1 @@\n-CA\t+5333-11328\tAmerica\/Edmonton\tMountain - AB; BC (E); NT (E); SK (W)\n+CA\t+5333-11328\tAmerica\/Edmonton\tMountain - AB, BC(E), NT(E), SK(W)\n@@ -233,2 +233,2 @@\n-ID\t-0507+11924\tAsia\/Makassar\tBorneo (east, south); Sulawesi\/Celebes, Bali, Nusa Tengarra; Timor (west)\n-ID\t-0232+14042\tAsia\/Jayapura\tNew Guinea (West Papua \/ Irian Jaya); Malukus\/Moluccas\n+ID\t-0507+11924\tAsia\/Makassar\tBorneo (east, south), Sulawesi\/Celebes, Bali, Nusa Tengarra, Timor (west)\n+ID\t-0232+14042\tAsia\/Jayapura\tNew Guinea (West Papua \/ Irian Jaya), Malukus\/Moluccas\n@@ -381,1 +381,1 @@\n-RU\t+6728+15343\tAsia\/Srednekolymsk\tMSK+08 - Sakha (E); N Kuril Is\n+RU\t+6728+15343\tAsia\/Srednekolymsk\tMSK+08 - Sakha (E), N Kuril Is\n@@ -444,1 +444,1 @@\n-US\t+433649-1161209\tAmerica\/Boise\tMountain - ID (south); OR (east)\n+US\t+433649-1161209\tAmerica\/Boise\tMountain - ID (south), OR (east)\n","filename":"src\/java.base\/share\/data\/tzdata\/zone.tab","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -14,1 +14,1 @@\n-https:\/\/raw.githubusercontent.com\/publicsuffix\/list\/88467c960d6cdad2ca1623e892e5e17506bc269f\/public_suffix_list.dat.\n+https:\/\/raw.githubusercontent.com\/publicsuffix\/list\/b5bf572c52988dbe9d865b8f090ea819024a9936\/public_suffix_list.dat.\n","filename":"src\/java.base\/share\/legal\/public_suffix.md","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1568,0 +1568,9 @@\n+\\f[V]-XX:+VerifySharedSpaces\\f[R]\n+If this option is specified, the JVM will load a CDS archive file only\n+if it passes an integrity check based on CRC32 checksums.\n+The purpose of this flag is to check for unintentional damage to CDS\n+archive files in transmission or storage.\n+To guarantee the security and proper operation of CDS, the user must\n+ensure that the CDS archive files used by Java applications cannot be\n+modified without proper authorization.\n+.TP\n","filename":"src\/java.base\/share\/man\/java.1","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -266,1 +266,5 @@\n-        setsockopt(fd, IPPROTO_IP, IP_TTL, &ttl, sizeof(ttl));\n+        if (setsockopt(fd, IPPROTO_IP, IP_TTL, &ttl, sizeof(ttl)) < 0) {\n+            NET_ThrowNew(env, errno, \"setsockopt IP_TTL failed\");\n+            close(fd);\n+            return JNI_FALSE;\n+        }\n@@ -352,1 +356,5 @@\n-    setsockopt(fd, SOL_SOCKET, SO_RCVBUF, &size, sizeof(size));\n+    if (setsockopt(fd, SOL_SOCKET, SO_RCVBUF, &size, sizeof(size)) < 0) {\n+        NET_ThrowNew(env, errno, \"setsockopt SO_RCVBUF failed\");\n+        close(fd);\n+        return JNI_FALSE;\n+    }\n@@ -356,1 +364,5 @@\n-        setsockopt(fd, IPPROTO_IP, IP_TTL, &ttl, sizeof(ttl));\n+        if (setsockopt(fd, IPPROTO_IP, IP_TTL, &ttl, sizeof(ttl)) < 0) {\n+            NET_ThrowNew(env, errno, \"setsockopt IP_TTL failed\");\n+            close(fd);\n+            return JNI_FALSE;\n+        }\n","filename":"src\/java.base\/unix\/native\/libnet\/Inet4AddressImpl.c","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -466,1 +466,5 @@\n-        setsockopt(fd, IPPROTO_IPV6, IPV6_UNICAST_HOPS, &ttl, sizeof(ttl));\n+        if (setsockopt(fd, IPPROTO_IPV6, IPV6_UNICAST_HOPS, &ttl, sizeof(ttl)) < 0) {\n+            NET_ThrowNew(env, errno, \"setsockopt IPV6_UNICAST_HOPS failed\");\n+            close(fd);\n+            return JNI_FALSE;\n+        }\n@@ -471,1 +475,1 @@\n-        if (bind(fd, &netif->sa, sizeof(struct sockaddr_in6)) <0) {\n+        if (bind(fd, &netif->sa, sizeof(struct sockaddr_in6)) < 0) {\n@@ -560,1 +564,5 @@\n-    setsockopt(fd, SOL_SOCKET, SO_RCVBUF, &size, sizeof(size));\n+    if (setsockopt(fd, SOL_SOCKET, SO_RCVBUF, &size, sizeof(size)) < 0) {\n+        NET_ThrowNew(env, errno, \"setsockopt SO_RCVBUF failed\");\n+        close(fd);\n+        return JNI_FALSE;\n+    }\n@@ -564,1 +572,5 @@\n-        setsockopt(fd, IPPROTO_IPV6, IPV6_UNICAST_HOPS, &ttl, sizeof(ttl));\n+        if (setsockopt(fd, IPPROTO_IPV6, IPV6_UNICAST_HOPS, &ttl, sizeof(ttl)) < 0) {\n+            NET_ThrowNew(env, errno, \"setsockopt IPV6_UNICAST_HOPS failed\");\n+            close(fd);\n+            return JNI_FALSE;\n+        }\n","filename":"src\/java.base\/unix\/native\/libnet\/Inet6AddressImpl.c","additions":16,"deletions":4,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -618,1 +618,3 @@\n-            setsockopt(fd, level, SO_REUSEPORT, arg, len);\n+            if (setsockopt(fd, level, SO_REUSEPORT, arg, len) < 0) {\n+                return -1;\n+            }\n","filename":"src\/java.base\/unix\/native\/libnet\/net_util_md.c","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -141,1 +141,2 @@\n-        || (errval == ERROR_NETWORK_ACCESS_DENIED)) {\n+        || (errval == ERROR_NETWORK_ACCESS_DENIED)\n+        || (errval == ERROR_NO_MORE_FILES)) {\n","filename":"src\/java.base\/windows\/native\/libjava\/canonicalize_md.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -235,1 +235,5 @@\n-        setsockopt(fd, IPPROTO_IP, IP_TTL, (const char *)&ttl, sizeof(ttl));\n+        if (setsockopt(fd, IPPROTO_IP, IP_TTL, (const char *)&ttl, sizeof(ttl)) == SOCKET_ERROR) {\n+            NET_ThrowNew(env, WSAGetLastError(), \"setsockopt IP_TTL failed\");\n+            closesocket(fd);\n+            return JNI_FALSE;\n+        }\n","filename":"src\/java.base\/windows\/native\/libnet\/Inet4AddressImpl.c","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -313,1 +313,5 @@\n-        setsockopt(fd, IPPROTO_IPV6, IPV6_UNICAST_HOPS, (const char *)&ttl, sizeof(ttl));\n+        if (setsockopt(fd, IPPROTO_IPV6, IPV6_UNICAST_HOPS, (const char *)&ttl, sizeof(ttl)) == SOCKET_ERROR) {\n+            NET_ThrowNew(env, WSAGetLastError(), \"setsockopt IPV6_UNICAST_HOPS failed\");\n+            closesocket(fd);\n+            return JNI_FALSE;\n+        }\n","filename":"src\/java.base\/windows\/native\/libnet\/Inet6AddressImpl.c","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -159,1 +159,1 @@\n-        \/* IPV6_V6ONLY is true by default *\/\n+        \/* Attempt to disable IPV6_V6ONLY to ensure dual-socket support; ignore errors *\/\n","filename":"src\/java.base\/windows\/native\/libnio\/ch\/Net.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -134,1 +134,3 @@\n-    setsockopt(s2, SOL_SOCKET, SO_UPDATE_ACCEPT_CONTEXT, (char *)&s1, sizeof(s1));\n+    if (setsockopt(s2, SOL_SOCKET, SO_UPDATE_ACCEPT_CONTEXT, (char *)&s1, sizeof(s1)) == SOCKET_ERROR) {\n+        JNU_ThrowIOExceptionWithLastError(env, \"setsockopt failed\");\n+    }\n","filename":"src\/java.base\/windows\/native\/libnio\/ch\/WindowsAsynchronousServerSocketChannelImpl.c","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -126,1 +126,3 @@\n-    setsockopt(s, SOL_SOCKET, SO_UPDATE_CONNECT_CONTEXT, NULL, 0);\n+    if (setsockopt(s, SOL_SOCKET, SO_UPDATE_CONNECT_CONTEXT, NULL, 0) == SOCKET_ERROR) {\n+        JNU_ThrowIOExceptionWithLastError(env, \"setsockopt failed\");\n+    }\n","filename":"src\/java.base\/windows\/native\/libnio\/ch\/WindowsAsynchronousSocketChannelImpl.c","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -341,11 +341,1 @@\n-        final String text;\n-        final Icon icon = b.getIcon();\n-        final View v = (View)c.getClientProperty(BasicHTML.propertyKey);\n-        if (v != null && icon == null) {\n-            \/\/ use zero insets for HTML without an icon\n-            \/\/ since layout only handles text calculations\n-            text = layoutAndGetText(g, b, aquaBorder, new Insets(0,0,0,0),\n-                    viewRect, iconRect, textRect);\n-        } else {\n-            text = layoutAndGetText(g, b, aquaBorder, i, viewRect, iconRect, textRect);\n-        }\n+        final String text = layoutAndGetText(g, b, aquaBorder, i, viewRect, iconRect, textRect);\n@@ -354,1 +344,1 @@\n-        if (icon != null) {\n+        if (b.getIcon() != null) {\n@@ -363,0 +353,1 @@\n+            final View v = (View)c.getClientProperty(BasicHTML.propertyKey);\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaButtonUI.java","additions":3,"deletions":12,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+import java.lang.reflect.Constructor;\n@@ -66,0 +67,1 @@\n+import javax.swing.tree.TreePath;\n@@ -760,0 +762,15 @@\n+    private static Accessible createAccessibleTreeNode(JTree t, TreePath p) {\n+        Accessible a = null;\n+\n+        try {\n+            Class<?> accessibleJTreeNodeClass = Class.forName(\"javax.swing.JTree$AccessibleJTree$AccessibleJTreeNode\");\n+            Constructor<?> constructor = accessibleJTreeNodeClass.getConstructor(t.getAccessibleContext().getClass(), JTree.class, TreePath.class, Accessible.class);\n+            constructor.setAccessible(true);\n+            a = ((Accessible) constructor.newInstance(t.getAccessibleContext(), t, p, null));\n+        } catch (Exception e) {\n+            e.printStackTrace();\n+        }\n+\n+        return a;\n+    }\n+\n@@ -766,1 +783,0 @@\n-                ArrayList<Object> currentLevelChildren = new ArrayList<Object>();\n@@ -768,0 +784,47 @@\n+\n+                Accessible at = null;\n+                if (a instanceof CAccessible) {\n+                    at = CAccessible.getSwingAccessible(a);\n+                } else {\n+                    at = a;\n+                }\n+\n+                if (at instanceof JTree) {\n+                    JTree tree = ((JTree) at);\n+\n+                    if (whichChildren == JAVA_AX_ALL_CHILDREN) {\n+                        int count = tree.getRowCount();\n+                        for (int i = 0; i < count; i++) {\n+                            TreePath path = tree.getPathForRow(i);\n+                            Accessible an = createAccessibleTreeNode(tree, path);\n+                            if (an != null) {\n+                                AccessibleContext ac = an.getAccessibleContext();\n+                                if (ac != null) {\n+                                    allChildren.add(an);\n+                                    allChildren.add(ac.getAccessibleRole());;\n+                                    allChildren.add(String.valueOf((tree.isRootVisible() ? path.getPathCount() : path.getPathCount() - 1)));\n+                                }\n+                            }\n+                        }\n+                    }\n+\n+                    if (whichChildren == JAVA_AX_SELECTED_CHILDREN) {\n+                        int count = tree.getSelectionCount();\n+                        for (int i = 0; i < count; i++) {\n+                            TreePath path = tree.getSelectionPaths()[i];\n+                            Accessible an = createAccessibleTreeNode(tree, path);\n+                            if (an != null) {\n+                                AccessibleContext ac = an.getAccessibleContext();\n+                                if (ac != null) {\n+                                    allChildren.add(an);\n+                                    allChildren.add(ac.getAccessibleRole());\n+                                    allChildren.add(String.valueOf((tree.isRootVisible() ? path.getPathCount() : path.getPathCount() - 1)));\n+                                }\n+                            }\n+                        }\n+                    }\n+\n+                    return allChildren.toArray();\n+                }\n+\n+                ArrayList<Object> currentLevelChildren = new ArrayList<Object>();\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CAccessibility.java","additions":64,"deletions":1,"binary":false,"changes":65,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,0 @@\n-import sun.awt.AppContext;\n-import sun.swing.SwingUtilities2;\n@@ -64,0 +62,3 @@\n+import sun.awt.AppContext;\n+import sun.swing.SwingUtilities2;\n+\n@@ -601,9 +602,1 @@\n-        Insets i;\n-\n-        final View v = (View)b.getClientProperty(BasicHTML.propertyKey);\n-        if (v != null) {\n-            i = new Insets(0, 0, 0, 0);\n-        } else {\n-            i = b.getInsets();\n-        }\n-\n+        Insets i = b.getInsets();\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicButtonUI.java","additions":5,"deletions":12,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -27,2 +27,0 @@\n-import sun.swing.MenuItemLayoutHelper;\n-import sun.swing.SwingUtilities2;\n@@ -40,1 +38,0 @@\n-import javax.swing.JButton;\n@@ -47,0 +44,3 @@\n+import sun.swing.MenuItemLayoutHelper;\n+import sun.swing.SwingUtilities2;\n+\n@@ -395,13 +395,4 @@\n-        final View v = (View)c.getClientProperty(BasicHTML.propertyKey);\n-\n-        if (c instanceof JButton && v != null) {\n-            paintViewR.x = 0;\n-            paintViewR.y = 0;\n-            paintViewR.width = c.getWidth();\n-            paintViewR.height = c.getHeight();\n-        } else {\n-            paintViewR.x = insets.left;\n-            paintViewR.y = insets.top;\n-            paintViewR.width = c.getWidth() - (insets.left + insets.right);\n-            paintViewR.height = c.getHeight() - (insets.top + insets.bottom);\n-        }\n+        paintViewR.x = insets.left;\n+        paintViewR.y = insets.top;\n+        paintViewR.width = c.getWidth() - (insets.left + insets.right);\n+        paintViewR.height = c.getHeight() - (insets.top + insets.bottom);\n@@ -433,0 +424,1 @@\n+            View v = (View) c.getClientProperty(BasicHTML.propertyKey);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthGraphicsUtils.java","additions":8,"deletions":16,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,4 @@\n+import java.nio.ByteBuffer;\n+import java.nio.CharBuffer;\n+import java.nio.charset.CharsetDecoder;\n+import java.nio.charset.CoderResult;\n@@ -72,0 +76,5 @@\n+    \/\/ For fcharset control word\n+    protected CharsetDecoder decoder = null;\n+    private byte[] ba = new byte[2];\n+    protected ByteBuffer decoderBB = ByteBuffer.wrap(ba);\n+\n@@ -103,0 +112,3 @@\n+    \/\/ Defined for replacement character\n+    static final char REPLACEMENT_CHAR = '\\uFFFD';\n+\n@@ -112,0 +124,3 @@\n+    \/\/ Initialize byte buffer for CharsetDecoder\n+    decoderBB.clear();\n+    decoderBB.limit(1);\n@@ -185,0 +200,3 @@\n+          \/\/ SBCS: ASCII character\n+          \/\/ DBCS: Non lead byte\n+          ch = decode(ch);\n@@ -304,1 +322,3 @@\n-          ch = translationTable[pendingCharacter];\n+          \/\/ Use translationTable if decoder is not defined\n+          ch = decoder == null ? translationTable[pendingCharacter]\n+                               : decode((char)pendingCharacter);\n@@ -363,0 +383,33 @@\n+    \/\/ For fcharset control word\n+    private char[] ca = new char[1];\n+    private CharBuffer decoderCB = CharBuffer.wrap(ca);\n+\n+    private char decode(char ch) {\n+        if (decoder == null) return ch;\n+        decoderBB.put((byte) ch);\n+        decoderBB.rewind();\n+        decoderCB.clear();\n+        CoderResult cr = decoder.decode(decoderBB, decoderCB, false);\n+        if (cr.isUnderflow()) {\n+            if (decoderCB.position() == 1) {\n+                \/\/ Converted to Unicode (including replacement character)\n+                decoder.reset();\n+                decoderBB.clear();\n+                decoderBB.limit(1);\n+                return ca[0];\n+            } else {\n+                \/\/ Detected lead byte\n+                decoder.reset();\n+                decoderBB.limit(2);\n+                decoderBB.position(1);\n+                return 0; \/\/ Skip write operation if return value is 0\n+            }\n+        } else {\n+            \/\/ Fallback, should not be called\n+            decoder.reset();\n+            decoderBB.clear();\n+            decoderBB.limit(1);\n+            return REPLACEMENT_CHAR;\n+        }\n+    }\n+\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/rtf\/RTFParser.java","additions":55,"deletions":2,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,5 @@\n+import java.nio.ByteBuffer;\n+import java.nio.CharBuffer;\n+import java.nio.charset.Charset;\n+import java.nio.charset.CharsetDecoder;\n+import java.nio.charset.CodingErrorAction;\n@@ -90,0 +95,4 @@\n+  \/** This Dictionary maps Integer font numbers to Charset font charset. *\/\n+  Dictionary<Integer, Charset> fcharsetTable;\n+  \/** This Dictionary maps String font charset to String code page. *\/\n+  static Dictionary<String, String> fcharsetToCP = null;\n@@ -136,0 +145,1 @@\n+      textKeywords.put(\"line\",       \"\\n\");\n@@ -162,1 +172,44 @@\n-\/* TODO: per-font font encodings ( \\fcharset control word ) ? *\/\n+    \/**\n+     * Windows font charset\n+     *\/\n+    private static final int ANSI_CHARSET        = 0;\n+    private static final int DEFAULT_CHARSET     = 1;\n+    private static final int SYMBOL_CHARSET      = 2;\n+    private static final int MAC_CHARSET         = 77;\n+    private static final int SHIFTJIS_CHARSET    = 128;\n+    private static final int HANGUL_CHARSET      = 129;\n+    private static final int JOHAB_CHARSET       = 130;\n+    private static final int GB2312_CHARSET      = 134;\n+    private static final int CHINESEBIG5_CHARSET = 136;\n+    private static final int GREEK_CHARSET       = 161;\n+    private static final int TURKISH_CHARSET     = 162;\n+    private static final int VIETNAMESE_CHARSET  = 163;\n+    private static final int HEBREW_CHARSET      = 177;\n+    private static final int ARABIC_CHARSET      = 178;\n+    private static final int BALTIC_CHARSET      = 186;\n+    private static final int RUSSIAN_CHARSET     = 204;\n+    private static final int THAI_CHARSET        = 222;\n+    private static final int EASTEUROPE_CHARSET  = 238;\n+    private static final int OEM_CHARSET         = 255;\n+\n+    static {\n+        fcharsetToCP = new Hashtable<String, String>();\n+        fcharsetToCP.put(\"fcharset\" + ANSI_CHARSET, \"windows-1252\");\n+        fcharsetToCP.put(\"fcharset\" + SHIFTJIS_CHARSET, \"ms932\");\n+        fcharsetToCP.put(\"fcharset\" + HANGUL_CHARSET, \"ms949\");\n+        fcharsetToCP.put(\"fcharset\" + JOHAB_CHARSET, \"ms1361\");\n+        fcharsetToCP.put(\"fcharset\" + GB2312_CHARSET, \"ms936\");\n+        fcharsetToCP.put(\"fcharset\" + CHINESEBIG5_CHARSET, \"ms950\");\n+        fcharsetToCP.put(\"fcharset\" + GREEK_CHARSET, \"windows-1253\");\n+        fcharsetToCP.put(\"fcharset\" + TURKISH_CHARSET, \"windows-1254\");\n+        fcharsetToCP.put(\"fcharset\" + VIETNAMESE_CHARSET, \"windows-1258\");\n+        fcharsetToCP.put(\"fcharset\" + HEBREW_CHARSET, \"windows-1255\");\n+        fcharsetToCP.put(\"fcharset\" + ARABIC_CHARSET, \"windows-1256\");\n+        fcharsetToCP.put(\"fcharset\" + BALTIC_CHARSET, \"windows-1257\");\n+        fcharsetToCP.put(\"fcharset\" + RUSSIAN_CHARSET, \"windows-1251\");\n+        fcharsetToCP.put(\"fcharset\" + THAI_CHARSET, \"ms874\");\n+        fcharsetToCP.put(\"fcharset\" + EASTEUROPE_CHARSET, \"windows-1250\");\n+    }\n+\n+    \/\/ Defined for replacement character\n+    private static final String REPLACEMENT_CHAR = \"\\uFFFD\";\n@@ -177,0 +230,1 @@\n+    fcharsetTable = new Hashtable<Integer, Charset>();\n@@ -765,0 +819,19 @@\n+        \/\/ For fcharset control word\n+        if (keyword.equals(\"fcharset\")) {\n+            String fcharset = keyword+parameter;\n+            String csName = fcharsetToCP.get(fcharset);\n+            Charset cs;\n+            if (csName != null) {\n+                try {\n+                    cs = Charset.forName(csName);\n+                } catch (IllegalArgumentException iae) {\n+                    \/\/ Fallback, should not be called\n+                    cs = ISO_8859_1;\n+                }\n+            } else {\n+                \/\/ Fallback, fcharset control word number is not defined\n+                cs = ISO_8859_1;\n+            }\n+            fcharsetTable.put(nextFontNumber, cs);\n+            return true;\n+        }\n@@ -1219,0 +1292,19 @@\n+\n+            \/\/ Check lead byte is stored or not\n+            if (decoderBB.position() == 1) {\n+                handleText(REPLACEMENT_CHAR);\n+            }\n+            \/\/ Reset decoder byte buffer\n+            decoderBB.clear();\n+            decoderBB.limit(1);\n+            \/\/ Check fcharset is used or not\n+            Charset cs = fcharsetTable.get(parameter);\n+            if (cs != null) {\n+                decoder = cs.newDecoder();\n+                decoder.onMalformedInput(CodingErrorAction.REPLACE)\n+                       .onUnmappableCharacter(CodingErrorAction.REPLACE);\n+            } else {\n+                \/\/ fcharset is not used, use translationTable\n+                decoder = null;\n+            }\n+\n@@ -1613,0 +1705,6 @@\n+            \/\/ Check lead byte is stored or not\n+            if (decoderBB.position() == 1) {\n+                handleText(REPLACEMENT_CHAR);\n+                decoderBB.clear();\n+                decoderBB.limit(1);\n+            }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/rtf\/RTFReader.java","additions":100,"deletions":2,"binary":false,"changes":102,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-## The FreeType Project: Freetype v2.13.0\n+## The FreeType Project: Freetype v2.13.2\n","filename":"src\/java.desktop\/share\/legal\/freetype.md","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -664,1 +664,1 @@\n-   * details on the LEAN option.\n+   * details on this option.\n@@ -666,28 +666,4 @@\n-   * There are three possible values.\n-   *\n-   * Value 1:\n-   *   This value is associated with the 'Infinality' moniker, contributed by\n-   *   an individual nicknamed Infinality with the goal of making TrueType\n-   *   fonts render better than on Windows.  A high amount of configurability\n-   *   and flexibility, down to rules for single glyphs in fonts, but also\n-   *   very slow.  Its experimental and slow nature and the original\n-   *   developer losing interest meant that this option was never enabled in\n-   *   default builds.\n-   *\n-   *   The corresponding interpreter version is v38.\n-   *\n-   * Value 2:\n-   *   The new default mode for the TrueType driver.  The Infinality code\n-   *   base was stripped to the bare minimum and all configurability removed\n-   *   in the name of speed and simplicity.  The configurability was mainly\n-   *   aimed at legacy fonts like 'Arial', 'Times New Roman', or 'Courier'.\n-   *   Legacy fonts are fonts that modify vertical stems to achieve clean\n-   *   black-and-white bitmaps.  The new mode focuses on applying a minimal\n-   *   set of rules to all fonts indiscriminately so that modern and web\n-   *   fonts render well while legacy fonts render okay.\n-   *\n-   *   The corresponding interpreter version is v40.\n-   *\n-   * Value 3:\n-   *   Compile both, making both v38 and v40 available (the latter is the\n-   *   default).\n+   * The new default mode focuses on applying a minimal set of rules to all\n+   * fonts indiscriminately so that modern and web fonts render well while\n+   * legacy fonts render okay.  The corresponding interpreter version is v40.\n+   * The so-called Infinality mode (v38) is no longer available in FreeType.\n@@ -708,3 +684,1 @@\n-\/* #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  1         *\/\n-#define TT_CONFIG_OPTION_SUBPIXEL_HINTING  2\n-\/* #define TT_CONFIG_OPTION_SUBPIXEL_HINTING  ( 1 | 2 ) *\/\n+#define TT_CONFIG_OPTION_SUBPIXEL_HINTING\n@@ -980,1 +954,1 @@\n-   * The next three macros are defined if native TrueType hinting is\n+   * The next two macros are defined if native TrueType hinting is\n@@ -985,1 +959,0 @@\n-\n@@ -987,5 +960,0 @@\n-#if TT_CONFIG_OPTION_SUBPIXEL_HINTING & 1\n-#define  TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-#endif\n-\n-#if TT_CONFIG_OPTION_SUBPIXEL_HINTING & 2\n@@ -994,1 +962,0 @@\n-#endif\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/config\/ftoption.h","additions":7,"deletions":40,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -114,7 +114,7 @@\n-#define FT_FILE     FILE\n-#define ft_fclose   fclose\n-#define ft_fopen    fopen\n-#define ft_fread    fread\n-#define ft_fseek    fseek\n-#define ft_ftell    ftell\n-#define ft_sprintf  sprintf\n+#define FT_FILE      FILE\n+#define ft_fclose    fclose\n+#define ft_fopen     fopen\n+#define ft_fread     fread\n+#define ft_fseek     fseek\n+#define ft_ftell     ftell\n+#define ft_snprintf  snprintf\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/config\/ftstdlib.h","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -105,10 +105,0 @@\n-\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-  \/*                                                                       *\/\n-  \/*                        B A S I C   T Y P E S                          *\/\n-  \/*                                                                       *\/\n-  \/*************************************************************************\/\n-  \/*************************************************************************\/\n-\n-\n@@ -118,1 +108,1 @@\n-   *   base_interface\n+   *   font_testing_macros\n@@ -121,1 +111,1 @@\n-   *   Base Interface\n+   *   Font Testing Macros\n@@ -124,1 +114,1 @@\n-   *   The FreeType~2 base font interface.\n+   *   Macros to test various properties of fonts.\n@@ -127,2 +117,1 @@\n-   *   This section describes the most important public high-level API\n-   *   functions of FreeType~2.\n+   *   Macros to test the most important font properties.\n@@ -130,29 +119,3 @@\n-   * @order:\n-   *   FT_Library\n-   *   FT_Face\n-   *   FT_Size\n-   *   FT_GlyphSlot\n-   *   FT_CharMap\n-   *   FT_Encoding\n-   *   FT_ENC_TAG\n-   *\n-   *   FT_FaceRec\n-   *\n-   *   FT_FACE_FLAG_SCALABLE\n-   *   FT_FACE_FLAG_FIXED_SIZES\n-   *   FT_FACE_FLAG_FIXED_WIDTH\n-   *   FT_FACE_FLAG_HORIZONTAL\n-   *   FT_FACE_FLAG_VERTICAL\n-   *   FT_FACE_FLAG_COLOR\n-   *   FT_FACE_FLAG_SFNT\n-   *   FT_FACE_FLAG_CID_KEYED\n-   *   FT_FACE_FLAG_TRICKY\n-   *   FT_FACE_FLAG_KERNING\n-   *   FT_FACE_FLAG_MULTIPLE_MASTERS\n-   *   FT_FACE_FLAG_VARIATION\n-   *   FT_FACE_FLAG_GLYPH_NAMES\n-   *   FT_FACE_FLAG_EXTERNAL_STREAM\n-   *   FT_FACE_FLAG_HINTER\n-   *   FT_FACE_FLAG_SVG\n-   *   FT_FACE_FLAG_SBIX\n-   *   FT_FACE_FLAG_SBIX_OVERLAY\n+   *   It is recommended to use these high-level macros instead of directly\n+   *   testing the corresponding flags, which are scattered over various\n+   *   structures.\n@@ -160,0 +123,1 @@\n+   * @order:\n@@ -179,2 +143,7 @@\n-   *   FT_STYLE_FLAG_BOLD\n-   *   FT_STYLE_FLAG_ITALIC\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   library_setup\n@@ -182,2 +151,2 @@\n-   *   FT_SizeRec\n-   *   FT_Size_Metrics\n+   * @title:\n+   *   Library Setup\n@@ -185,3 +154,2 @@\n-   *   FT_GlyphSlotRec\n-   *   FT_Glyph_Metrics\n-   *   FT_SubGlyph\n+   * @abstract:\n+   *   Functions to start and end the usage of the FreeType library.\n@@ -189,1 +157,6 @@\n-   *   FT_Bitmap_Size\n+   * @description:\n+   *   Functions to start and end the usage of the FreeType library.\n+   *\n+   *   Note that @FT_Library_Version and @FREETYPE_XXX are of limited use\n+   *   because even a new release of FreeType with only documentation\n+   *   changes increases the version number.\n@@ -191,0 +164,2 @@\n+   * @order:\n+   *   FT_Library\n@@ -194,0 +169,27 @@\n+   *   FT_Library_Version\n+   *   FREETYPE_XXX\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   face_creation\n+   *\n+   * @title:\n+   *   Face Creation\n+   *\n+   * @abstract:\n+   *   Functions to manage fonts.\n+   *\n+   * @description:\n+   *   The functions and structures collected in this section operate on\n+   *   fonts globally.\n+   *\n+   * @order:\n+   *   FT_Face\n+   *   FT_FaceRec\n+   *   FT_FACE_FLAG_XXX\n+   *   FT_STYLE_FLAG_XXX\n+   *\n@@ -201,0 +203,1 @@\n+   *   FT_OPEN_XXX\n@@ -205,0 +208,25 @@\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizing_and_scaling\n+   *\n+   * @title:\n+   *   Sizing and Scaling\n+   *\n+   * @abstract:\n+   *   Functions to manage font sizes.\n+   *\n+   * @description:\n+   *   The functions and structures collected in this section are related to\n+   *   selecting and manipulating the size of a font globally.\n+   *\n+   * @order:\n+   *   FT_Size\n+   *   FT_SizeRec\n+   *   FT_Size_Metrics\n+   *\n+   *   FT_Bitmap_Size\n+   *\n@@ -212,0 +240,1 @@\n+   *\n@@ -214,5 +243,0 @@\n-   *   FT_Load_Glyph\n-   *   FT_Get_Char_Index\n-   *   FT_Get_First_Char\n-   *   FT_Get_Next_Char\n-   *   FT_Load_Char\n@@ -220,28 +244,17 @@\n-   *   FT_OPEN_MEMORY\n-   *   FT_OPEN_STREAM\n-   *   FT_OPEN_PATHNAME\n-   *   FT_OPEN_DRIVER\n-   *   FT_OPEN_PARAMS\n-   *\n-   *   FT_LOAD_DEFAULT\n-   *   FT_LOAD_RENDER\n-   *   FT_LOAD_MONOCHROME\n-   *   FT_LOAD_LINEAR_DESIGN\n-   *   FT_LOAD_NO_SCALE\n-   *   FT_LOAD_NO_HINTING\n-   *   FT_LOAD_NO_BITMAP\n-   *   FT_LOAD_SBITS_ONLY\n-   *   FT_LOAD_NO_AUTOHINT\n-   *   FT_LOAD_COLOR\n-   *\n-   *   FT_LOAD_VERTICAL_LAYOUT\n-   *   FT_LOAD_IGNORE_TRANSFORM\n-   *   FT_LOAD_FORCE_AUTOHINT\n-   *   FT_LOAD_NO_RECURSE\n-   *   FT_LOAD_PEDANTIC\n-   *\n-   *   FT_LOAD_TARGET_NORMAL\n-   *   FT_LOAD_TARGET_LIGHT\n-   *   FT_LOAD_TARGET_MONO\n-   *   FT_LOAD_TARGET_LCD\n-   *   FT_LOAD_TARGET_LCD_V\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   * @title:\n+   *   Glyph Retrieval\n+   *\n+   * @abstract:\n+   *   Functions to manage glyphs.\n+   *\n+   * @description:\n+   *   The functions and structures collected in this section operate on\n+   *   single glyphs, of which @FT_Load_Glyph is most important.\n@@ -249,0 +262,7 @@\n+   * @order:\n+   *   FT_GlyphSlot\n+   *   FT_GlyphSlotRec\n+   *   FT_Glyph_Metrics\n+   *\n+   *   FT_Load_Glyph\n+   *   FT_LOAD_XXX\n@@ -250,0 +270,1 @@\n+   *   FT_LOAD_TARGET_XXX\n@@ -257,0 +278,25 @@\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   character_mapping\n+   *\n+   * @title:\n+   *   Character Mapping\n+   *\n+   * @abstract:\n+   *   Functions to manage character-to-glyph maps.\n+   *\n+   * @description:\n+   *   This section holds functions and structures that are related to\n+   *   mapping character input codes to glyph indices.\n+   *\n+   *   Note that for many scripts the simplistic approach used by FreeType\n+   *   of mapping a single character to a single glyph is not valid or\n+   *   possible!  In general, a higher-level library like HarfBuzz or ICU\n+   *   should be used for handling text strings.\n+   *\n+   * @order:\n+   *   FT_CharMap\n@@ -258,0 +304,3 @@\n+   *   FT_Encoding\n+   *   FT_ENC_TAG\n+   *\n@@ -262,0 +311,26 @@\n+   *   FT_Get_Char_Index\n+   *   FT_Get_First_Char\n+   *   FT_Get_Next_Char\n+   *   FT_Load_Char\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   information_retrieval\n+   *\n+   * @title:\n+   *   Information Retrieval\n+   *\n+   * @abstract:\n+   *   Functions to retrieve font and glyph information.\n+   *\n+   * @description:\n+   *   Functions to retrieve font and glyph information.  Only some very\n+   *   basic data is covered; see also the chapter on the format-specific\n+   *   API for more.\n+   *\n+   *\n+   * @order:\n@@ -266,0 +341,1 @@\n+   *   FT_FSTYPE_XXX\n@@ -267,0 +343,15 @@\n+   *   FT_SUBGLYPH_FLAG_XXX\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   other_api_data\n+   *\n+   * @title:\n+   *   Other API Data\n+   *\n+   * @abstract:\n+   *   Other structures, enumerations, and macros.\n@@ -268,0 +359,5 @@\n+   * @description:\n+   *   Other structures, enumerations, and macros.  Deprecated functions are\n+   *   also listed here.\n+   *\n+   * @order:\n@@ -272,7 +368,1 @@\n-   *   FT_FACE_FLAG_XXX\n-   *   FT_STYLE_FLAG_XXX\n-   *   FT_OPEN_XXX\n-   *   FT_LOAD_XXX\n-   *   FT_LOAD_TARGET_XXX\n-   *   FT_SUBGLYPH_FLAG_XXX\n-   *   FT_FSTYPE_XXX\n+   *   FT_SubGlyph\n@@ -281,0 +371,2 @@\n+   *   FT_Face_CheckTrueTypePatents\n+   *   FT_Face_SetUnpatentedHinting\n@@ -285,0 +377,16 @@\n+  \/*************************************************************************\/\n+  \/*************************************************************************\/\n+  \/*                                                                       *\/\n+  \/*                        B A S I C   T Y P E S                          *\/\n+  \/*                                                                       *\/\n+  \/*************************************************************************\/\n+  \/*************************************************************************\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   *\/\n+\n@@ -352,0 +460,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizing_and_scaling\n+   *\n+   *\/\n+\n@@ -412,0 +527,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   library_setup\n+   *\n+   *\/\n+\n@@ -486,1 +608,1 @@\n-   *   base_interface\n+   *   face_creation\n@@ -522,0 +644,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizing_and_scaling\n+   *\n+   *\/\n+\n@@ -554,0 +683,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   *\/\n+\n@@ -573,0 +709,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   character_mapping\n+   *\n+   *\/\n+\n@@ -880,0 +1023,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   other_api_data\n+   *\n+   *\/\n+\n@@ -895,0 +1045,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   face_creation\n+   *\n+   *\/\n+\n@@ -921,1 +1078,1 @@\n-   *     Bit 31 is always zero (this is, `face_index` is always a positive\n+   *     Bit 31 is always zero (that is, `face_index` is always a positive\n@@ -939,1 +1096,1 @@\n-   *     (sub)font.  Bit 31 is always zero (this is, `style_flags` is always\n+   *     (sub)font.  Bit 31 is always zero (that is, `style_flags` is always\n@@ -1005,1 +1162,1 @@\n-   *     Note that the bounding box does not vary in OpenType variable fonts\n+   *     Note that the bounding box does not vary in OpenType variation fonts\n@@ -1093,3 +1250,3 @@\n-    \/*# The following member variables (down to `underline_thickness`) *\/\n-    \/*# are only relevant to scalable outlines; cf. @FT_Bitmap_Size    *\/\n-    \/*# for bitmap fonts.                                              *\/\n+    \/* The following member variables (down to `underline_thickness`) *\/\n+    \/* are only relevant to scalable outlines; cf. @FT_Bitmap_Size    *\/\n+    \/* for bitmap fonts.                                              *\/\n@@ -1113,1 +1270,1 @@\n-    \/*@private begin *\/\n+    \/* private fields, internal to FreeType *\/\n@@ -1126,2 +1283,0 @@\n-    \/*@private end *\/\n-\n@@ -1210,1 +1365,1 @@\n-   *     Note that CID-keyed fonts that are in an SFNT wrapper (this is, all\n+   *     Note that CID-keyed fonts that are in an SFNT wrapper (that is, all\n@@ -1216,1 +1371,1 @@\n-   *     The face is 'tricky', this is, it always needs the font format's\n+   *     The face is 'tricky', that is, it always needs the font format's\n@@ -1238,2 +1393,2 @@\n-   *     @FT_Set_Var_Design_Coordinates, or @FT_Set_Var_Blend_Coordinates.\n-   *     This flag is unset by a call to @FT_Set_Named_Instance.\n+   *     @FT_Set_Var_Design_Coordinates, @FT_Set_Var_Blend_Coordinates, or\n+   *     @FT_Set_MM_WeightVector to select a non-default instance.\n@@ -1275,0 +1430,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   font_testing_macros\n+   *\n+   *\/\n+\n@@ -1384,0 +1546,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   other_api_data\n+   *\n+   *\/\n+\n@@ -1396,0 +1565,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   font_testing_macros\n+   *\n+   *\/\n+\n@@ -1454,2 +1630,2 @@\n-   *   @FT_Set_MM_Design_Coordinates, @FT_Set_Var_Design_Coordinates, or\n-   *   @FT_Set_Var_Blend_Coordinates.\n+   *   @FT_Set_MM_Design_Coordinates, @FT_Set_Var_Design_Coordinates,\n+   *   @FT_Set_Var_Blend_Coordinates, or @FT_Set_MM_WeightVector.\n@@ -1631,0 +1807,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   face_creation\n+   *\n+   *\/\n+\n@@ -1657,0 +1840,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   other_api_data\n+   *\n+   *\/\n+\n@@ -1669,0 +1859,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizing_and_scaling\n+   *\n+   *\/\n+\n@@ -1820,0 +2017,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   other_api_data\n+   *\n+   *\/\n+\n@@ -1851,0 +2055,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   *\/\n+\n@@ -2095,0 +2306,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   library_setup\n+   *\n+   *\/\n+\n@@ -2152,0 +2370,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   face_creation\n+   *\n+   *\/\n+\n@@ -2454,1 +2679,1 @@\n-   *   One @FT_Library instance can have multiple face objects, this is,\n+   *   One @FT_Library instance can have multiple face objects, that is,\n@@ -2653,0 +2878,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizing_and_scaling\n+   *\n+   *\/\n+\n@@ -2682,1 +2914,1 @@\n-   *   if the default instance is active (this is, no glyph variation takes\n+   *   if the default instance is active (that is, no glyph variation takes\n@@ -2945,0 +3177,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   *\/\n+\n@@ -2979,1 +3218,1 @@\n-   *   for invalid CID values (this is, for CID values that don't have a\n+   *   for invalid CID values (that is, for CID values that don't have a\n@@ -2993,0 +3232,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   character_mapping\n+   *\n+   *\/\n+\n@@ -3036,0 +3282,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   *\/\n+\n@@ -3175,4 +3428,5 @@\n-   *     set the `format` field of @FT_GlyphSlotRec to @FT_GLYPH_FORMAT_SVG.\n-   *     Note that FreeType itself can't render SVG documents; however, the\n-   *     library provides hooks to seamlessly integrate an external renderer.\n-   *     See sections @ot_svg_driver and @svg_fonts for more.\n+   *     set the `format` field of @FT_GlyphSlotRec to @FT_GLYPH_FORMAT_SVG\n+   *     ([since 2.13.1] provided @FT_LOAD_NO_SVG is not set).  Note that\n+   *     FreeType itself can't render SVG documents; however, the library\n+   *     provides hooks to seamlessly integrate an external renderer.  See\n+   *     sections @ot_svg_driver and @svg_fonts for more.\n@@ -3192,0 +3446,3 @@\n+   *   FT_LOAD_NO_SVG ::\n+   *     [Since 2.13.1] Ignore SVG glyph data when loading.\n+   *\n@@ -3257,0 +3514,1 @@\n+#define FT_LOAD_NO_SVG                       ( 1L << 24 )\n@@ -3375,0 +3633,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   sizing_and_scaling\n+   *\n+   *\/\n+\n@@ -3450,0 +3715,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   glyph_retrieval\n+   *\n+   *\/\n+\n@@ -3844,0 +4116,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   character_mapping\n+   *\n+   *\/\n+\n@@ -4060,0 +4339,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   face_creation\n+   *\n+   *\/\n+\n@@ -4158,0 +4444,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   information_retrieval\n+   *\n+   *\/\n+\n@@ -4269,3 +4562,4 @@\n-   *   the font has corresponding entries in its 'fvar' table).  If\n-   *   @FT_IS_VARIATION returns true, the algorithmically derived PostScript\n-   *   name is provided, not looking up special entries for named instances.\n+   *   the font has corresponding entries in its 'fvar' table or is the\n+   *   default named instance).  If @FT_IS_VARIATION returns true, the\n+   *   algorithmically derived PostScript name is provided, not looking up\n+   *   special entries for named instances.\n@@ -4903,22 +5197,1 @@\n-   *   version\n-   *\n-   * @title:\n-   *   FreeType Version\n-   *\n-   * @abstract:\n-   *   Functions and macros related to FreeType versions.\n-   *\n-   * @description:\n-   *   Note that those functions and macros are of limited use because even a\n-   *   new release of FreeType with only documentation changes increases the\n-   *   version number.\n-   *\n-   * @order:\n-   *   FT_Library_Version\n-   *\n-   *   FREETYPE_MAJOR\n-   *   FREETYPE_MINOR\n-   *   FREETYPE_PATCH\n-   *\n-   *   FT_Face_CheckTrueTypePatents\n-   *   FT_Face_SetUnpatentedHinting\n+   *   library_setup\n@@ -4928,1 +5201,0 @@\n-\n@@ -4953,1 +5225,1 @@\n-#define FREETYPE_PATCH  0\n+#define FREETYPE_PATCH  2\n@@ -4995,0 +5267,7 @@\n+  \/**************************************************************************\n+   *\n+   * @section:\n+   *   other_api_data\n+   *\n+   *\/\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/freetype.h","additions":421,"deletions":142,"binary":false,"changes":563,"status":"modified"},{"patch":"@@ -34,1 +34,0 @@\n-   *   version\n@@ -36,1 +35,21 @@\n-   *   base_interface\n+   *   library_setup\n+   *   face_creation\n+   *   font_testing_macros\n+   *   sizing_and_scaling\n+   *   glyph_retrieval\n+   *   character_mapping\n+   *   information_retrieval\n+   *   other_api_data\n+   *\n+   *\/\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @chapter:\n+   *   extended_api\n+   *\n+   * @title:\n+   *   Extended API\n+   *\n+   * @sections:\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftchapters.h","additions":21,"deletions":2,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-   *   Hstems (this is, hint values defined in the font to help align\n+   *   Hstems (that is, hint values defined in the font to help align\n@@ -449,1 +449,1 @@\n-   *   switched off by default (this is, `no-stem-darkening` is set to TRUE\n+   *   switched off by default (that is, `no-stem-darkening` is set to TRUE\n@@ -654,5 +654,2 @@\n-   *     Version~38 corresponds to MS rasterizer v.1.9; it is roughly\n-   *     equivalent to the hinting provided by DirectWrite ClearType (as can\n-   *     be found, for example, in the Internet Explorer~9 running on\n-   *     Windows~7).  It is used in FreeType to select the 'Infinality'\n-   *     subpixel hinting code.  The code may be removed in a future version.\n+   *     Version~38 is the same Version~40. The original 'Infinality' code is\n+   *     no longer available.\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftdriver.h","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -22,1 +22,1 @@\n-   *       FT_Outlines into FT_Bitmaps.\n+   *       `FT_Outline`s into `FT_Bitmap`s.\n@@ -259,0 +259,6 @@\n+   *\n+   * @note:\n+   *   `width` and `rows` refer to the *physical* size of the bitmap, not the\n+   *   *logical* one.  For example, if @FT_Pixel_Mode is set to\n+   *   `FT_PIXEL_MODE_LCD`, the logical width is a just a third of the\n+   *   physical one.\n@@ -859,1 +865,1 @@\n-   *   this is, from completely transparent to completely opaque.\n+   *   that is, from completely transparent to completely opaque.\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftimage.h","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-   *   FT_Trace_Set_Level( \"any:7 memory:0 );\n+   *   FT_Trace_Set_Level( \"any:7 memory:0\" );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftlogging.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -156,1 +156,1 @@\n-   *   values are integers.\n+   *   values are whole numbers (i.e., the fractional part is zero).\n@@ -402,2 +402,2 @@\n-   *   OpenType variation fonts.  For Adobe MM fonts, the values are\n-   *   integers.\n+   *   OpenType variation fonts.  For Adobe MM fonts, the values are supposed\n+   *   to be whole numbers (i.e., the fractional part is zero).\n@@ -449,2 +449,2 @@\n-   *   OpenType variation fonts.  For Adobe MM fonts, the values are\n-   *   integers.\n+   *   OpenType variation fonts.  For Adobe MM fonts, the values are whole\n+   *   numbers (i.e., the fractional part is zero).\n@@ -605,1 +605,1 @@\n-   *   length of the weight vector to~16.\n+   *   length of the weight vector to 16~elements.\n@@ -607,2 +607,4 @@\n-   *   If `len` is zero and `weightvector` is `NULL`, the weight vector array\n-   *   is reset to the default values.\n+   *   If `len` is larger than zero, this function sets the\n+   *   @FT_FACE_FLAG_VARIATION bit in @FT_Face's `face_flags` field (i.e.,\n+   *   @FT_IS_VARIATION will return true).  If `len` is zero, this bit flag\n+   *   is unset and the weight vector array is reset to the default values.\n@@ -756,0 +758,39 @@\n+\n+  \/**************************************************************************\n+   *\n+   * @function:\n+   *   FT_Get_Default_Named_Instance\n+   *\n+   * @description:\n+   *   Retrieve the index of the default named instance, to be used with\n+   *   @FT_Set_Named_Instance.\n+   *\n+   *   The default instance of a variation font is that instance for which\n+   *   the nth axis coordinate is equal to `axis[n].def` (as specified in the\n+   *   @FT_MM_Var structure), with~n covering all axes.\n+   *\n+   *   FreeType synthesizes a named instance for the default instance if the\n+   *   font does not contain such an entry.\n+   *\n+   * @input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @output:\n+   *   instance_index ::\n+   *     The index of the default named instance.\n+   *\n+   * @return:\n+   *   FreeType error code.  0~means success.\n+   *\n+   * @note:\n+   *   For Adobe MM fonts (which don't have named instances) this function\n+   *   always returns zero for `instance_index`.\n+   *\n+   * @since:\n+   *   2.13.1\n+   *\/\n+  FT_EXPORT( FT_Error )\n+  FT_Get_Default_Named_Instance( FT_Face   face,\n+                                 FT_UInt  *instance_index );\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftmm.h","additions":49,"deletions":8,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n-   *   (doing nothing, this is, not calling any emitter); if necessary, you\n+   *   (doing nothing, that is, not calling any emitter); if necessary, you\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftoutln.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -161,1 +161,1 @@\n-    FT_Raster_Funcs*           raster_class;\n+    const FT_Raster_Funcs*     raster_class;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftrender.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,0 +71,12 @@\n+  \/* Precisely adjust the glyph weight either horizontally or vertically.  *\/\n+  \/* The `xdelta` and `ydelta` values are fractions of the face Em size    *\/\n+  \/* (in fixed-point format).  Considering that a regular face would have  *\/\n+  \/* stem widths on the order of 0.1 Em, a delta of 0.05 (0x0CCC) should   *\/\n+  \/* be very noticeable.  To increase or decrease the weight, use positive *\/\n+  \/* or negative values, respectively.                                     *\/\n+  FT_EXPORT( void )\n+  FT_GlyphSlot_AdjustWeight( FT_GlyphSlot  slot,\n+                             FT_Fixed      xdelta,\n+                             FT_Fixed      ydelta );\n+\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftsynth.h","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -232,2 +232,1 @@\n-   *     The offset from the start of the stream to seek to if this is a seek\n-   *     operation (see note).\n+   *     The offset from the start of the stream to seek to.\n@@ -242,10 +241,3 @@\n-   *   The number of bytes effectively read by the stream.\n-   *\n-   * @note:\n-   *   This function performs a seek *or* a read operation depending on the\n-   *   argument values.  If `count` is zero, the operation is a seek to\n-   *   `offset` bytes.  If `count` is >~0, the operation is a read of `count`\n-   *   bytes from the current position in the stream, and the `offset` value\n-   *   should be ignored.\n-   *\n-   *   For seek operations, a non-zero return value indicates an error.\n+   *   If count >~0, return the number of bytes effectively read by the\n+   *   stream (after seeking to `offset`).  If count ==~0, return the status\n+   *   of the seek operation (non-zero indicates an error).\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/ftsystem.h","additions":4,"deletions":12,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -44,2 +44,5 @@\n-#  elif ( defined( __GNUC__ ) && __GNUC__ >= 7 )          || \\\n-        ( defined( __clang__ ) && __clang_major__ >= 10 )\n+#  elif ( defined( __GNUC__ ) && __GNUC__ >= 7 )       || \\\n+        ( defined( __clang__ )                      &&    \\\n+          ( defined( __apple_build_version__ )            \\\n+              ? __apple_build_version__ >= 12000000       \\\n+              : __clang_major__ >= 10 ) )\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/compiler-macros.h","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -335,1 +335,1 @@\n-   *   50 * abs(xx*yy - xy*yx) < xx^2 + xy^2 + yx^2 + yy^2\n+   *   32 * abs(xx*yy - xy*yx) < xx^2 + xy^2 + yx^2 + yy^2\n@@ -337,1 +337,1 @@\n-   * Value 50 is heuristic.\n+   * Value 32 is heuristic.\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/ftcalc.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -160,0 +160,1 @@\n+   *\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/ftdrv.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -31,7 +31,13 @@\n-    FT_UInt            itemCount;       \/* number of delta sets per item    *\/\n-    FT_UInt            regionIdxCount;  \/* number of region indices         *\/\n-    FT_UInt*           regionIndices;   \/* array of `regionCount' indices;  *\/\n-                                        \/* these index `varRegionList'      *\/\n-    FT_ItemVarDelta*   deltaSet;        \/* array of `itemCount' deltas      *\/\n-                                        \/* use `innerIndex' for this array  *\/\n-\n+    FT_UInt            itemCount;      \/* Number of delta sets per item.   *\/\n+    FT_UInt            regionIdxCount; \/* Number of region indices.        *\/\n+    FT_UInt*           regionIndices;  \/* Array of `regionCount` indices;  *\/\n+                                       \/* these index `varRegionList`.     *\/\n+    FT_Byte*           deltaSet;       \/* Array of `itemCount` deltas;     *\/\n+                                       \/* use `innerIndex` for this array. *\/\n+    FT_UShort          wordDeltaCount; \/* Number of the first 32-bit ints  *\/\n+                                       \/* or 16-bit ints of `deltaSet`     *\/\n+                                       \/* depending on `longWords`.        *\/\n+    FT_Bool            longWords;      \/* If true, `deltaSet` is a 32-bit  *\/\n+                                       \/* array followed by a 16-bit       *\/\n+                                       \/* array, otherwise a 16-bit array  *\/\n+                                       \/* followed by an 8-bit array.      *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/ftmmtypes.h","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -80,0 +80,3 @@\n+  typedef FT_Error\n+  (*FT_Size_Reset_Func)( FT_Size  size );\n+\n@@ -93,0 +96,1 @@\n+    FT_Size_Reset_Func       size_reset;\n@@ -104,1 +108,2 @@\n-                                                metrics_adjust_  ) \\\n+                                                metrics_adjust_,   \\\n+                                                size_reset_      ) \\\n@@ -114,1 +119,2 @@\n-    metrics_adjust_                                                \\\n+    metrics_adjust_,                                               \\\n+    size_reset_                                                    \\\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/services\/svmetric.h","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -63,3 +63,3 @@\n-  (*FT_Set_MM_Blend_Func)( FT_Face   face,\n-                           FT_UInt   num_coords,\n-                           FT_Long*  coords );\n+  (*FT_Set_MM_Blend_Func)( FT_Face    face,\n+                           FT_UInt    num_coords,\n+                           FT_Fixed*  coords );\n@@ -73,2 +73,2 @@\n-  (*FT_Set_Instance_Func)( FT_Face  face,\n-                           FT_UInt  instance_index );\n+  (*FT_Set_Named_Instance_Func)( FT_Face  face,\n+                                 FT_UInt  instance_index );\n@@ -77,3 +77,7 @@\n-  (*FT_Get_MM_Blend_Func)( FT_Face   face,\n-                           FT_UInt   num_coords,\n-                           FT_Long*  coords );\n+  (*FT_Get_Default_Named_Instance_Func)( FT_Face   face,\n+                                         FT_UInt  *instance_index );\n+\n+  typedef FT_Error\n+  (*FT_Get_MM_Blend_Func)( FT_Face    face,\n+                           FT_UInt    num_coords,\n+                           FT_Fixed*  coords );\n@@ -89,1 +93,1 @@\n-  (*FT_Done_Blend_Func)( FT_Face );\n+  (*FT_Done_Blend_Func)( FT_Face  face );\n@@ -101,0 +105,3 @@\n+  typedef void\n+  (*FT_Construct_PS_Name_Func)( FT_Face  face );\n+\n@@ -137,1 +144,2 @@\n-    FT_Set_Instance_Func                  set_instance;\n+    FT_Set_Named_Instance_Func            set_named_instance;\n+    FT_Get_Default_Named_Instance_Func    get_default_named_instance;\n@@ -142,0 +150,1 @@\n+    FT_Construct_PS_Name_Func             construct_ps_name;\n@@ -152,37 +161,43 @@\n-#define FT_DEFINE_SERVICE_MULTIMASTERSREC( class_,                  \\\n-                                           get_mm_,                 \\\n-                                           set_mm_design_,          \\\n-                                           set_mm_blend_,           \\\n-                                           get_mm_blend_,           \\\n-                                           get_mm_var_,             \\\n-                                           set_var_design_,         \\\n-                                           get_var_design_,         \\\n-                                           set_instance_,           \\\n-                                           set_weightvector_,       \\\n-                                           get_weightvector_,       \\\n-                                           load_delta_set_idx_map_, \\\n-                                           load_item_var_store_,    \\\n-                                           get_item_delta_,         \\\n-                                           done_item_var_store_,    \\\n-                                           done_delta_set_idx_map_, \\\n-                                           get_var_blend_,          \\\n-                                           done_blend_ )            \\\n-  static const FT_Service_MultiMastersRec  class_ =                 \\\n-  {                                                                 \\\n-    get_mm_,                                                        \\\n-    set_mm_design_,                                                 \\\n-    set_mm_blend_,                                                  \\\n-    get_mm_blend_,                                                  \\\n-    get_mm_var_,                                                    \\\n-    set_var_design_,                                                \\\n-    get_var_design_,                                                \\\n-    set_instance_,                                                  \\\n-    set_weightvector_,                                              \\\n-    get_weightvector_,                                              \\\n-    load_delta_set_idx_map_,                                        \\\n-    load_item_var_store_,                                           \\\n-    get_item_delta_,                                                \\\n-    done_item_var_store_,                                           \\\n-    done_delta_set_idx_map_,                                        \\\n-    get_var_blend_,                                                 \\\n-    done_blend_                                                     \\\n+#define FT_DEFINE_SERVICE_MULTIMASTERSREC( class_,                      \\\n+                                           get_mm_,                     \\\n+                                           set_mm_design_,              \\\n+                                           set_mm_blend_,               \\\n+                                           get_mm_blend_,               \\\n+                                           get_mm_var_,                 \\\n+                                           set_var_design_,             \\\n+                                           get_var_design_,             \\\n+                                           set_named_instance_,         \\\n+                                           get_default_named_instance_, \\\n+                                           set_mm_weightvector_,        \\\n+                                           get_mm_weightvector_,        \\\n+                                                                        \\\n+                                           construct_ps_name_,          \\\n+                                           load_delta_set_idx_map_,     \\\n+                                           load_item_var_store_,        \\\n+                                           get_item_delta_,             \\\n+                                           done_item_var_store_,        \\\n+                                           done_delta_set_idx_map_,     \\\n+                                           get_var_blend_,              \\\n+                                           done_blend_ )                \\\n+  static const FT_Service_MultiMastersRec  class_ =                     \\\n+  {                                                                     \\\n+    get_mm_,                                                            \\\n+    set_mm_design_,                                                     \\\n+    set_mm_blend_,                                                      \\\n+    get_mm_blend_,                                                      \\\n+    get_mm_var_,                                                        \\\n+    set_var_design_,                                                    \\\n+    get_var_design_,                                                    \\\n+    set_named_instance_,                                                \\\n+    get_default_named_instance_,                                        \\\n+    set_mm_weightvector_,                                               \\\n+    get_mm_weightvector_,                                               \\\n+                                                                        \\\n+    construct_ps_name_,                                                 \\\n+    load_delta_set_idx_map_,                                            \\\n+    load_item_var_store_,                                               \\\n+    get_item_delta_,                                                    \\\n+    done_item_var_store_,                                               \\\n+    done_delta_set_idx_map_,                                            \\\n+    get_var_blend_,                                                     \\\n+    done_blend_                                                         \\\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/services\/svmm.h","additions":62,"deletions":47,"binary":false,"changes":109,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-  typedef FT_UInt32\n+  typedef FT_UInt\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/services\/svpscmap.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -204,7 +204,7 @@\n-    FT_FaceRec      root;\n-    T1_FontRec      type1;\n-    const void*     psnames;\n-    const void*     psaux;\n-    const void*     afm_data;\n-    FT_CharMapRec   charmaprecs[2];\n-    FT_CharMap      charmaps[2];\n+    FT_FaceRec     root;\n+    T1_FontRec     type1;\n+    const void*    psnames;\n+    const void*    psaux;\n+    const void*    afm_data;\n+    FT_CharMapRec  charmaprecs[2];\n+    FT_CharMap     charmaps[2];\n@@ -213,1 +213,1 @@\n-    PS_Blend        blend;\n+    PS_Blend       blend;\n@@ -218,2 +218,2 @@\n-    FT_Int           ndv_idx;\n-    FT_Int           cdv_idx;\n+    FT_Int         ndv_idx;\n+    FT_Int         cdv_idx;\n@@ -223,2 +223,2 @@\n-    FT_UInt          len_buildchar;\n-    FT_Long*         buildchar;\n+    FT_UInt        len_buildchar;\n+    FT_Long*       buildchar;\n@@ -227,1 +227,1 @@\n-    const void*     pshinter;\n+    const void*    pshinter;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/t1types.h","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -782,1 +782,1 @@\n-   *   TT_Post_20Rec\n+   *   TT_Post_NamesRec\n@@ -785,2 +785,1 @@\n-   *   Postscript names sub-table, format 2.0.  Stores the PS name of each\n-   *   glyph in the font face.\n+   *   Postscript names table, either format 2.0 or 2.5.\n@@ -789,0 +788,3 @@\n+   *   loaded ::\n+   *     A flag to indicate whether the PS names are loaded.\n+   *\n@@ -801,1 +803,1 @@\n-  typedef struct  TT_Post_20Rec_\n+  typedef struct  TT_Post_NamesRec_\n@@ -803,0 +805,1 @@\n+    FT_Bool     loaded;\n@@ -806,57 +809,1 @@\n-    FT_Char**   glyph_names;\n-\n-  } TT_Post_20Rec, *TT_Post_20;\n-\n-\n-  \/**************************************************************************\n-   *\n-   * @struct:\n-   *   TT_Post_25Rec\n-   *\n-   * @description:\n-   *   Postscript names sub-table, format 2.5.  Stores the PS name of each\n-   *   glyph in the font face.\n-   *\n-   * @fields:\n-   *   num_glyphs ::\n-   *     The number of glyphs in the table.\n-   *\n-   *   offsets ::\n-   *     An array of signed offsets in a normal Mac Postscript name encoding.\n-   *\/\n-  typedef struct  TT_Post_25_\n-  {\n-    FT_UShort  num_glyphs;\n-    FT_Char*   offsets;\n-\n-  } TT_Post_25Rec, *TT_Post_25;\n-\n-\n-  \/**************************************************************************\n-   *\n-   * @struct:\n-   *   TT_Post_NamesRec\n-   *\n-   * @description:\n-   *   Postscript names table, either format 2.0 or 2.5.\n-   *\n-   * @fields:\n-   *   loaded ::\n-   *     A flag to indicate whether the PS names are loaded.\n-   *\n-   *   format_20 ::\n-   *     The sub-table used for format 2.0.\n-   *\n-   *   format_25 ::\n-   *     The sub-table used for format 2.5.\n-   *\/\n-  typedef struct  TT_Post_NamesRec_\n-  {\n-    FT_Bool  loaded;\n-\n-    union\n-    {\n-      TT_Post_20Rec  format_20;\n-      TT_Post_25Rec  format_25;\n-\n-    } names;\n+    FT_Byte**   glyph_names;\n@@ -1256,2 +1203,3 @@\n-   *   var ::\n-   *     A pointer to the Metrics Variations service.\n+   *   tt_var ::\n+   *     A pointer to the Metrics Variations service for the \"truetype\"\n+   *     driver.\n@@ -1259,3 +1207,6 @@\n-   *   hdmx ::\n-   *     The face's horizontal device metrics ('hdmx' table).  This table is\n-   *     optional in TrueType\/OpenType fonts.\n+   *   face_var ::\n+   *     A pointer to the Metrics Variations service for this `TT_Face`'s\n+   *     driver.\n+   *\n+   *   psaux ::\n+   *     A pointer to the PostScript Auxiliary service.\n@@ -1367,0 +1318,6 @@\n+   *   var_default_named_instance ::\n+   *     The index of the default named instance.\n+   *\n+   *   non_var_style_name ::\n+   *     The non-variation style name, used as a backup.\n+   *\n@@ -1413,8 +1370,0 @@\n-   *   cpal ::\n-   *     A pointer to data related to the 'CPAL' table.  `NULL` if the table\n-   *     is not available.\n-   *\n-   *   colr ::\n-   *     A pointer to data related to the 'COLR' table.  `NULL` if the table\n-   *     is not available.\n-   *\n@@ -1448,8 +1397,0 @@\n-   *   sph_found_func_flags ::\n-   *     Flags identifying special bytecode functions (used by the v38\n-   *     implementation of the bytecode interpreter).\n-   *\n-   *   sph_compatibility_mode ::\n-   *     This flag is set if we are in ClearType backward compatibility mode\n-   *     (used by the v38 implementation of the bytecode interpreter).\n-   *\n@@ -1461,0 +1402,12 @@\n+   *\n+   *   cpal ::\n+   *     A pointer to data related to the 'CPAL' table.  `NULL` if the table\n+   *     is not available.\n+   *\n+   *   colr ::\n+   *     A pointer to data related to the 'COLR' table.  `NULL` if the table\n+   *     is not available.\n+   *\n+   *   svg ::\n+   *     A pointer to data related to the 'SVG' table.  `NULL` if the table\n+   *     is not available.\n@@ -1511,2 +1464,8 @@\n-    \/* used to handle the HVAR, VVAR, and MVAR OpenType tables         *\/\n-    void*                 var;\n+    \/* used to handle the HVAR, VVAR, and MVAR OpenType tables by the  *\/\n+    \/* \"truetype\" driver                                               *\/\n+    void*                 tt_var;\n+\n+    \/* a typeless pointer to the FT_Service_MetricsVariationsRec table *\/\n+    \/* used to handle the HVAR, VVAR, and MVAR OpenType tables by this *\/\n+    \/* TT_Face's driver                                                *\/\n+    void*                 face_var;             \/* since 2.13.1 *\/\n@@ -1594,0 +1553,3 @@\n+    FT_UInt               var_default_named_instance;  \/* since 2.13.1 *\/\n+\n+    const char*           non_var_style_name;  \/* since 2.13.1 *\/\n@@ -1630,7 +1592,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    \/* since 2.4.12 *\/\n-    FT_ULong              sph_found_func_flags; \/* special functions found *\/\n-                                                \/* for this face           *\/\n-    FT_Bool               sph_compatibility_mode;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/include\/freetype\/internal\/tttypes.h","additions":46,"deletions":91,"binary":false,"changes":137,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-  \/\/ guaranteed to have the same vertical position with joining (this is,\n+  \/\/ guaranteed to have the same vertical position with joining (that is,\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afblue.dat","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -420,2 +420,1 @@\n-          FT_Int  first = 0;\n-          FT_Int  last  = -1;\n+          FT_Int  pp, first, last;\n@@ -424,1 +423,2 @@\n-          for ( nn = 0; nn < outline.n_contours; first = last + 1, nn++ )\n+          last = -1;\n+          for ( nn = 0; nn < outline.n_contours; nn++ )\n@@ -426,4 +426,2 @@\n-            FT_Int  pp;\n-\n-\n-            last = outline.contours[nn];\n+            first = last + 1;\n+            last  = outline.contours[nn];\n@@ -572,2 +570,2 @@\n-    FT_Bool   started = 0, same_width = 1;\n-    FT_Fixed  advance = 0, old_advance = 0;\n+    FT_Bool  started = 0, same_width = 1;\n+    FT_Long  advance = 0, old_advance = 0;\n@@ -638,2 +636,2 @@\n-  af_cjk_metrics_init( AF_CJKMetrics  metrics,\n-                       FT_Face        face )\n+  af_cjk_metrics_init( AF_StyleMetrics  metrics_,  \/* AF_CJKMetrics *\/\n+                       FT_Face          face )\n@@ -641,1 +639,2 @@\n-    FT_CharMap  oldmap = face->charmap;\n+    AF_CJKMetrics  metrics = (AF_CJKMetrics)metrics_;\n+    FT_CharMap     oldmap  = face->charmap;\n@@ -759,2 +758,2 @@\n-  af_cjk_metrics_scale( AF_CJKMetrics  metrics,\n-                        AF_Scaler      scaler )\n+  af_cjk_metrics_scale( AF_StyleMetrics  metrics_,   \/* AF_CJKMetrics *\/\n+                        AF_Scaler        scaler )\n@@ -762,0 +761,3 @@\n+    AF_CJKMetrics  metrics = (AF_CJKMetrics)metrics_;\n+\n+\n@@ -774,4 +776,4 @@\n-  FT_LOCAL_DEF( void )\n-  af_cjk_get_standard_widths( AF_CJKMetrics  metrics,\n-                              FT_Pos*        stdHW,\n-                              FT_Pos*        stdVW )\n+  FT_CALLBACK_DEF( void )\n+  af_cjk_get_standard_widths( AF_StyleMetrics  metrics_,  \/* AF_CJKMetrics *\/\n+                              FT_Pos*          stdHW,\n+                              FT_Pos*          stdVW )\n@@ -779,0 +781,3 @@\n+    AF_CJKMetrics  metrics = (AF_CJKMetrics)metrics_;\n+\n+\n@@ -1379,2 +1384,2 @@\n-  af_cjk_hints_init( AF_GlyphHints  hints,\n-                     AF_CJKMetrics  metrics )\n+  af_cjk_hints_init( AF_GlyphHints    hints,\n+                     AF_StyleMetrics  metrics_ )   \/* AF_CJKMetrics *\/\n@@ -1382,0 +1387,1 @@\n+    AF_CJKMetrics   metrics = (AF_CJKMetrics)metrics_;\n@@ -1631,1 +1637,1 @@\n-    FT_TRACE5(( \"  CJKLINK: edge %ld @%d (opos=%.2f) linked to %.2f,\"\n+    FT_TRACE5(( \"  CJKLINK: edge %td @%d (opos=%.2f) linked to %.2f,\"\n@@ -1855,1 +1861,1 @@\n-        FT_TRACE5(( \"  CJKBLUE: edge %ld @%d (opos=%.2f) snapped to %.2f,\"\n+        FT_TRACE5(( \"  CJKBLUE: edge %td @%d (opos=%.2f) snapped to %.2f,\"\n@@ -1919,1 +1925,1 @@\n-        FT_TRACE5(( \"ASSERTION FAILED for edge %ld\\n\", edge2-edges ));\n+        FT_TRACE5(( \"ASSERTION FAILED for edge %td\\n\", edge2 - edges ));\n@@ -2271,4 +2277,4 @@\n-  af_cjk_hints_apply( FT_UInt        glyph_index,\n-                      AF_GlyphHints  hints,\n-                      FT_Outline*    outline,\n-                      AF_CJKMetrics  metrics )\n+  af_cjk_hints_apply( FT_UInt          glyph_index,\n+                      AF_GlyphHints    hints,\n+                      FT_Outline*      outline,\n+                      AF_StyleMetrics  metrics_ )   \/* AF_CJKMetrics *\/\n@@ -2276,0 +2282,2 @@\n+    AF_CJKMetrics  metrics = (AF_CJKMetrics)metrics_;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afcjk.c","additions":35,"deletions":27,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -106,2 +106,2 @@\n-  af_cjk_metrics_init( AF_CJKMetrics  metrics,\n-                       FT_Face        face );\n+  af_cjk_metrics_init( AF_StyleMetrics  metrics,\n+                       FT_Face          face );\n@@ -110,2 +110,2 @@\n-  af_cjk_metrics_scale( AF_CJKMetrics  metrics,\n-                        AF_Scaler      scaler );\n+  af_cjk_metrics_scale( AF_StyleMetrics  metrics,\n+                        AF_Scaler        scaler );\n@@ -114,2 +114,2 @@\n-  af_cjk_hints_init( AF_GlyphHints  hints,\n-                     AF_CJKMetrics  metrics );\n+  af_cjk_hints_init( AF_GlyphHints    hints,\n+                     AF_StyleMetrics  metrics );\n@@ -118,4 +118,4 @@\n-  af_cjk_hints_apply( FT_UInt        glyph_index,\n-                      AF_GlyphHints  hints,\n-                      FT_Outline*    outline,\n-                      AF_CJKMetrics  metrics );\n+  af_cjk_hints_apply( FT_UInt          glyph_index,\n+                      AF_GlyphHints    hints,\n+                      FT_Outline*      outline,\n+                      AF_StyleMetrics  metrics );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afcjk.h","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -379,1 +379,1 @@\n-  af_face_globals_free( AF_FaceGlobals  globals )\n+  af_face_globals_free( void*  globals_ )\n@@ -381,0 +381,3 @@\n+    AF_FaceGlobals  globals = (AF_FaceGlobals)globals_;\n+\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afglobal.c","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -159,1 +159,1 @@\n-  af_face_globals_free( AF_FaceGlobals  globals );\n+  af_face_globals_free( void*  globals );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afglobal.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -323,2 +323,3 @@\n-  af_print_idx( char* p,\n-                int   idx )\n+  af_print_idx( char*   p,\n+                size_t  n,\n+                int     idx )\n@@ -333,1 +334,1 @@\n-      ft_sprintf( p, \"%d\", idx );\n+      ft_snprintf( p, n, \"%d\", idx );\n@@ -460,1 +461,1 @@\n-                af_print_idx( buf1,\n+                af_print_idx( buf1, 16,\n@@ -462,2 +463,2 @@\n-                af_print_idx( buf2, segment_idx_1 ),\n-                af_print_idx( buf3,\n+                af_print_idx( buf2, 16, segment_idx_1 ),\n+                af_print_idx( buf3, 16,\n@@ -465,1 +466,1 @@\n-                af_print_idx( buf4, segment_idx_0 ),\n+                af_print_idx( buf4, 16, segment_idx_0 ),\n@@ -479,12 +480,16 @@\n-                af_print_idx( buf5, af_get_strong_edge_index( hints,\n-                                                              point->before,\n-                                                              1 ) ),\n-                af_print_idx( buf6, af_get_strong_edge_index( hints,\n-                                                              point->after,\n-                                                              1 ) ),\n-                af_print_idx( buf7, af_get_strong_edge_index( hints,\n-                                                              point->before,\n-                                                              0 ) ),\n-                af_print_idx( buf8, af_get_strong_edge_index( hints,\n-                                                              point->after,\n-                                                              0 ) ) ));\n+                af_print_idx( buf5, 16,\n+                              af_get_strong_edge_index( hints,\n+                                                        point->before,\n+                                                        1 ) ),\n+                af_print_idx( buf6, 16,\n+                              af_get_strong_edge_index( hints,\n+                                                        point->after,\n+                                                        1 ) ),\n+                af_print_idx( buf7, 16,\n+                              af_get_strong_edge_index( hints,\n+                                                        point->before,\n+                                                        0 ) ),\n+                af_print_idx( buf8, 16,\n+                              af_get_strong_edge_index( hints,\n+                                                        point->after,\n+                                                        0 ) ) ));\n@@ -577,3 +582,6 @@\n-                  af_print_idx( buf1, AF_INDEX_NUM( seg->link, segments ) ),\n-                  af_print_idx( buf2, AF_INDEX_NUM( seg->serif, segments ) ),\n-                  af_print_idx( buf3, AF_INDEX_NUM( seg->edge, edges ) ),\n+                  af_print_idx( buf1, 16,\n+                                AF_INDEX_NUM( seg->link, segments ) ),\n+                  af_print_idx( buf2, 16,\n+                                AF_INDEX_NUM( seg->serif, segments ) ),\n+                  af_print_idx( buf3, 16,\n+                                AF_INDEX_NUM( seg->edge, edges ) ),\n@@ -719,2 +727,4 @@\n-                  af_print_idx( buf1, AF_INDEX_NUM( edge->link, edges ) ),\n-                  af_print_idx( buf2, AF_INDEX_NUM( edge->serif, edges ) ),\n+                  af_print_idx( buf1, 16,\n+                                AF_INDEX_NUM( edge->link, edges ) ),\n+                  af_print_idx( buf2, 16,\n+                                AF_INDEX_NUM( edge->serif, edges ) ),\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afhints.c","additions":34,"deletions":24,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -31,2 +31,2 @@\n-  af_indic_metrics_init( AF_CJKMetrics  metrics,\n-                         FT_Face        face )\n+  af_indic_metrics_init( AF_StyleMetrics  metrics_, \/* AF_CJKMetrics *\/\n+                         FT_Face          face )\n@@ -34,0 +34,3 @@\n+    AF_CJKMetrics  metrics = (AF_CJKMetrics)metrics_;\n+\n+\n@@ -58,2 +61,2 @@\n-  af_indic_metrics_scale( AF_CJKMetrics  metrics,\n-                          AF_Scaler      scaler )\n+  af_indic_metrics_scale( AF_StyleMetrics  metrics,\n+                          AF_Scaler        scaler )\n@@ -67,2 +70,2 @@\n-  af_indic_hints_init( AF_GlyphHints  hints,\n-                       AF_CJKMetrics  metrics )\n+  af_indic_hints_init( AF_GlyphHints    hints,\n+                       AF_StyleMetrics  metrics )\n@@ -76,4 +79,4 @@\n-  af_indic_hints_apply( FT_UInt        glyph_index,\n-                        AF_GlyphHints  hints,\n-                        FT_Outline*    outline,\n-                        AF_CJKMetrics  metrics )\n+  af_indic_hints_apply( FT_UInt          glyph_index,\n+                        AF_GlyphHints    hints,\n+                        FT_Outline*      outline,\n+                        AF_StyleMetrics  metrics )\n@@ -90,3 +93,3 @@\n-  af_indic_get_standard_widths( AF_CJKMetrics  metrics,\n-                                FT_Pos*        stdHW,\n-                                FT_Pos*        stdVW )\n+  af_indic_get_standard_widths( AF_StyleMetrics  metrics_, \/* AF_CJKMetrics *\/\n+                                FT_Pos*          stdHW,\n+                                FT_Pos*          stdVW )\n@@ -94,0 +97,3 @@\n+    AF_CJKMetrics  metrics = (AF_CJKMetrics)metrics_;\n+\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afindic.c","additions":19,"deletions":13,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -499,0 +499,2 @@\n+          best_contour_first = -1;\n+          best_contour_last  = -1;\n@@ -500,2 +502,0 @@\n-          best_contour_first = 0;  \/* ditto *\/\n-          best_contour_last  = 0;  \/* ditto *\/\n@@ -505,2 +505,1 @@\n-            FT_Int  first = 0;\n-            FT_Int  last  = -1;\n+            FT_Int  pp, first, last;\n@@ -509,1 +508,2 @@\n-            for ( nn = 0; nn < outline.n_contours; first = last + 1, nn++ )\n+            last = -1;\n+            for ( nn = 0; nn < outline.n_contours; nn++ )\n@@ -511,5 +511,2 @@\n-              FT_Int  old_best_point = best_point;\n-              FT_Int  pp;\n-\n-\n-              last = outline.contours[nn];\n+              first = last + 1;\n+              last  = outline.contours[nn];\n@@ -554,1 +551,1 @@\n-              if ( best_point != old_best_point )\n+              if ( best_point > best_contour_last )\n@@ -1028,1 +1025,1 @@\n-                      \" adjusting %s %ld to %ld\\n\",\n+                      \" adjusting %s %td to %ld\\n\",\n@@ -1071,2 +1068,2 @@\n-    FT_Bool   started = 0, same_width = 1;\n-    FT_Fixed  advance = 0, old_advance = 0;\n+    FT_Bool  started = 0, same_width = 1;\n+    FT_Long  advance = 0, old_advance = 0;\n@@ -1137,1 +1134,1 @@\n-  af_latin_metrics_init( AF_LatinMetrics  metrics,\n+  af_latin_metrics_init( AF_StyleMetrics  metrics_,   \/* AF_LatinMetrics *\/\n@@ -1140,0 +1137,2 @@\n+    AF_LatinMetrics  metrics = (AF_LatinMetrics)metrics_;\n+\n@@ -1492,1 +1491,1 @@\n-  af_latin_metrics_scale( AF_LatinMetrics  metrics,\n+  af_latin_metrics_scale( AF_StyleMetrics  metrics_,   \/* AF_LatinMetrics *\/\n@@ -1495,0 +1494,3 @@\n+    AF_LatinMetrics  metrics = (AF_LatinMetrics)metrics_;\n+\n+\n@@ -1507,2 +1509,2 @@\n-  FT_LOCAL_DEF( void )\n-  af_latin_get_standard_widths( AF_LatinMetrics  metrics,\n+  FT_CALLBACK_DEF( void )\n+  af_latin_get_standard_widths( AF_StyleMetrics  metrics_, \/* AF_LatinMetrics *\/\n@@ -1512,0 +1514,3 @@\n+    AF_LatinMetrics  metrics = (AF_LatinMetrics)metrics_;\n+\n+\n@@ -2044,1 +2049,1 @@\n-          \/* (this is, how much they overlap)                          *\/\n+          \/* (that is, how much they overlap)                          *\/\n@@ -2613,1 +2618,1 @@\n-                       AF_LatinMetrics  metrics )\n+                       AF_StyleMetrics  metrics_ )   \/* AF_LatinMetrics *\/\n@@ -2615,0 +2620,2 @@\n+    AF_LatinMetrics  metrics = (AF_LatinMetrics)metrics_;\n+\n@@ -2956,1 +2963,1 @@\n-    FT_TRACE5(( \"  LINK: edge %ld (opos=%.2f) linked to %.2f,\"\n+    FT_TRACE5(( \"  LINK: edge %td (opos=%.2f) linked to %.2f,\"\n@@ -3081,2 +3088,2 @@\n-          FT_TRACE5(( \"  BLUE_ANCHOR: edge %ld (opos=%.2f) snapped to %.2f,\"\n-                      \" was %.2f (anchor=edge %ld)\\n\",\n+          FT_TRACE5(( \"  BLUE_ANCHOR: edge %td (opos=%.2f) snapped to %.2f,\"\n+                      \" was %.2f (anchor=edge %td)\\n\",\n@@ -3087,1 +3094,1 @@\n-          FT_TRACE5(( \"  BLUE: edge %ld (opos=%.2f) snapped to %.2f,\"\n+          FT_TRACE5(( \"  BLUE: edge %td (opos=%.2f) snapped to %.2f,\"\n@@ -3137,1 +3144,1 @@\n-        FT_TRACE5(( \"  ASSERTION FAILED for edge %ld\\n\", edge2 - edges ));\n+        FT_TRACE5(( \"  ASSERTION FAILED for edge %td\\n\", edge2 - edges ));\n@@ -3205,1 +3212,1 @@\n-        FT_TRACE5(( \"  ANCHOR: edge %ld (opos=%.2f) and %ld (opos=%.2f)\"\n+        FT_TRACE5(( \"  ANCHOR: edge %td (opos=%.2f) and %td (opos=%.2f)\"\n@@ -3234,1 +3241,1 @@\n-          FT_TRACE5(( \"  ADJUST: edge %ld (pos=%.2f) moved to %.2f\\n\",\n+          FT_TRACE5(( \"  ADJUST: edge %td (pos=%.2f) moved to %.2f\\n\",\n@@ -3275,1 +3282,1 @@\n-          FT_TRACE5(( \"  STEM: edge %ld (opos=%.2f) linked to %ld (opos=%.2f)\"\n+          FT_TRACE5(( \"  STEM: edge %td (opos=%.2f) linked to %td (opos=%.2f)\"\n@@ -3306,1 +3313,1 @@\n-          FT_TRACE5(( \"  STEM: edge %ld (opos=%.2f) linked to %ld (opos=%.2f)\"\n+          FT_TRACE5(( \"  STEM: edge %td (opos=%.2f) linked to %td (opos=%.2f)\"\n@@ -3329,1 +3336,1 @@\n-            FT_TRACE5(( \"  BOUND: edge %ld (pos=%.2f) moved to %.2f\\n\",\n+            FT_TRACE5(( \"  BOUND: edge %td (pos=%.2f) moved to %.2f\\n\",\n@@ -3431,1 +3438,1 @@\n-          FT_TRACE5(( \"  SERIF: edge %ld (opos=%.2f) serif to %ld (opos=%.2f)\"\n+          FT_TRACE5(( \"  SERIF: edge %td (opos=%.2f) serif to %td (opos=%.2f)\"\n@@ -3441,1 +3448,1 @@\n-          FT_TRACE5(( \"  SERIF_ANCHOR: edge %ld (opos=%.2f)\"\n+          FT_TRACE5(( \"  SERIF_ANCHOR: edge %td (opos=%.2f)\"\n@@ -3443,1 +3450,1 @@\n-                      edge-edges,\n+                      edge - edges,\n@@ -3470,2 +3477,2 @@\n-            FT_TRACE5(( \"  SERIF_LINK1: edge %ld (opos=%.2f) snapped to %.2f\"\n-                        \" from %ld (opos=%.2f)\\n\",\n+            FT_TRACE5(( \"  SERIF_LINK1: edge %td (opos=%.2f) snapped to %.2f\"\n+                        \" from %td (opos=%.2f)\\n\",\n@@ -3480,1 +3487,1 @@\n-            FT_TRACE5(( \"  SERIF_LINK2: edge %ld (opos=%.2f)\"\n+            FT_TRACE5(( \"  SERIF_LINK2: edge %td (opos=%.2f)\"\n@@ -3501,1 +3508,1 @@\n-            FT_TRACE5(( \"  BOUND: edge %ld (pos=%.2f) moved to %.2f\\n\",\n+            FT_TRACE5(( \"  BOUND: edge %td (pos=%.2f) moved to %.2f\\n\",\n@@ -3522,1 +3529,1 @@\n-            FT_TRACE5(( \"  BOUND: edge %ld (pos=%.2f) moved to %.2f\\n\",\n+            FT_TRACE5(( \"  BOUND: edge %td (pos=%.2f) moved to %.2f\\n\",\n@@ -3550,1 +3557,1 @@\n-                        AF_LatinMetrics  metrics )\n+                        AF_StyleMetrics  metrics_ )    \/* AF_LatinMetrics *\/\n@@ -3552,0 +3559,2 @@\n+    AF_LatinMetrics  metrics = (AF_LatinMetrics)metrics_;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/aflatin.c","additions":48,"deletions":39,"binary":false,"changes":87,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-  af_latin_metrics_init( AF_LatinMetrics  metrics,\n+  af_latin_metrics_init( AF_StyleMetrics  metrics,\n@@ -123,1 +123,1 @@\n-  af_latin_metrics_scale( AF_LatinMetrics  metrics,\n+  af_latin_metrics_scale( AF_StyleMetrics  metrics,\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/aflatin.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -58,4 +58,2 @@\n-        face->autohint.data =\n-          (FT_Pointer)loader->globals;\n-        face->autohint.finalizer =\n-          (FT_Generic_Finalizer)af_face_globals_free;\n+        face->autohint.data      = (FT_Pointer)loader->globals;\n+        face->autohint.finalizer = af_face_globals_free;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afloader.c","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -92,4 +92,2 @@\n-        face->autohint.data =\n-          (FT_Pointer)globals;\n-        face->autohint.finalizer =\n-          (FT_Generic_Finalizer)af_face_globals_free;\n+        face->autohint.data      = (FT_Pointer)globals;\n+        face->autohint.finalizer = af_face_globals_free;\n@@ -377,2 +375,3 @@\n-    (FT_Properties_SetFunc)af_property_set,        \/* set_property *\/\n-    (FT_Properties_GetFunc)af_property_get )       \/* get_property *\/\n+    af_property_set,  \/* FT_Properties_SetFunc set_property *\/\n+    af_property_get   \/* FT_Properties_GetFunc get_property *\/\n+  )\n@@ -433,5 +432,5 @@\n-  af_autofitter_load_glyph( AF_Module     module,\n-                            FT_GlyphSlot  slot,\n-                            FT_Size       size,\n-                            FT_UInt       glyph_index,\n-                            FT_Int32      load_flags )\n+  af_autofitter_load_glyph( FT_AutoHinter  module_,\n+                            FT_GlyphSlot   slot,\n+                            FT_Size        size,\n+                            FT_UInt        glyph_index,\n+                            FT_Int32       load_flags )\n@@ -439,0 +438,2 @@\n+    AF_Module  module = (AF_Module)module_;\n+\n@@ -502,4 +503,4 @@\n-    NULL,                                                    \/* reset_face *\/\n-    NULL,                                              \/* get_global_hints *\/\n-    NULL,                                             \/* done_global_hints *\/\n-    (FT_AutoHinter_GlyphLoadFunc)af_autofitter_load_glyph    \/* load_glyph *\/\n+    NULL,                     \/* FT_AutoHinter_GlobalResetFunc reset_face        *\/\n+    NULL,                     \/* FT_AutoHinter_GlobalGetFunc   get_global_hints  *\/\n+    NULL,                     \/* FT_AutoHinter_GlobalDoneFunc  done_global_hints *\/\n+    af_autofitter_load_glyph  \/* FT_AutoHinter_GlyphLoadFunc   load_glyph        *\/\n@@ -520,3 +521,3 @@\n-    (FT_Module_Constructor)af_autofitter_init,  \/* module_init   *\/\n-    (FT_Module_Destructor) af_autofitter_done,  \/* module_done   *\/\n-    (FT_Module_Requester)  af_get_interface     \/* get_interface *\/\n+    af_autofitter_init,  \/* FT_Module_Constructor module_init   *\/\n+    af_autofitter_done,  \/* FT_Module_Destructor  module_done   *\/\n+    af_get_interface     \/* FT_Module_Requester   get_interface *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afmodule.c","additions":19,"deletions":18,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -261,1 +261,1 @@\n-     * (this is, not a single character is covered), we skip this coverage.\n+     * (that is, not a single character is covered), we skip this coverage.\n@@ -316,1 +316,1 @@\n-     * glyphs are `real', this is, they have a zero vertical offset, but\n+     * glyphs are `real', that is, they have a zero vertical offset, but\n@@ -318,1 +318,1 @@\n-     * position (this is, the `sups' feature is present in both the GSUB and\n+     * position (that is, the `sups' feature is present in both the GSUB and\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/autofit\/afshaper.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -85,3 +85,3 @@\n-  static int\n-  BBox_Move_To( FT_Vector*  to,\n-                TBBox_Rec*  user )\n+  FT_CALLBACK_DEF( int )\n+  BBox_Move_To( const FT_Vector*  to,\n+                void*             user_ )\n@@ -89,0 +89,3 @@\n+    TBBox_Rec*  user = (TBBox_Rec*)user_;\n+\n+\n@@ -119,3 +122,3 @@\n-  static int\n-  BBox_Line_To( FT_Vector*  to,\n-                TBBox_Rec*  user )\n+  FT_CALLBACK_DEF( int )\n+  BBox_Line_To( const FT_Vector*  to,\n+                void*             user_ )\n@@ -123,0 +126,3 @@\n+    TBBox_Rec*  user = (TBBox_Rec*)user_;\n+\n+\n@@ -208,4 +214,4 @@\n-  static int\n-  BBox_Conic_To( FT_Vector*  control,\n-                 FT_Vector*  to,\n-                 TBBox_Rec*  user )\n+  FT_CALLBACK_DEF( int )\n+  BBox_Conic_To( const FT_Vector*  control,\n+                 const FT_Vector*  to,\n+                 void*             user_ )\n@@ -213,0 +219,3 @@\n+    TBBox_Rec*  user = (TBBox_Rec*)user_;\n+\n+\n@@ -413,5 +422,5 @@\n-  static int\n-  BBox_Cubic_To( FT_Vector*  control1,\n-                 FT_Vector*  control2,\n-                 FT_Vector*  to,\n-                 TBBox_Rec*  user )\n+  FT_CALLBACK_DEF( int )\n+  BBox_Cubic_To( const FT_Vector*  control1,\n+                 const FT_Vector*  control2,\n+                 const FT_Vector*  to,\n+                 void*             user_ )\n@@ -419,0 +428,3 @@\n+    TBBox_Rec*  user = (TBBox_Rec*)user_;\n+\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftbbox.c","additions":27,"deletions":15,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -752,5 +752,4 @@\n-    FT_Matrix  m;\n-    FT_Fixed   val[4];\n-    FT_Fixed   nonzero_minval, maxval;\n-    FT_Fixed   temp1, temp2;\n-    FT_UInt    i;\n+    FT_Fixed  xx, xy, yx, yy;\n+    FT_Fixed  val;\n+    FT_Int    shift;\n+    FT_ULong  temp1, temp2;\n@@ -762,4 +761,5 @@\n-    val[0] = FT_ABS( matrix->xx );\n-    val[1] = FT_ABS( matrix->xy );\n-    val[2] = FT_ABS( matrix->yx );\n-    val[3] = FT_ABS( matrix->yy );\n+    xx  = matrix->xx;\n+    xy  = matrix->xy;\n+    yx  = matrix->yx;\n+    yy  = matrix->yy;\n+    val = FT_ABS( xx ) | FT_ABS( xy ) | FT_ABS( yx ) | FT_ABS( yy );\n@@ -767,21 +767,2 @@\n-    \/*\n-     * To avoid overflow, we ensure that each value is not larger than\n-     *\n-     *   int(sqrt(2^31 \/ 4)) = 23170  ;\n-     *\n-     * we also check that no value becomes zero if we have to scale.\n-     *\/\n-\n-    maxval         = 0;\n-    nonzero_minval = FT_LONG_MAX;\n-\n-    for ( i = 0; i < 4; i++ )\n-    {\n-      if ( val[i] > maxval )\n-        maxval = val[i];\n-      if ( val[i] && val[i] < nonzero_minval )\n-        nonzero_minval = val[i];\n-    }\n-\n-    \/* we only handle 32bit values *\/\n-    if ( maxval > 0x7FFFFFFFL )\n+    \/* we only handle non-zero 32-bit values *\/\n+    if ( !val || val > 0x7FFFFFFFL )\n@@ -790,4 +771,2 @@\n-    if ( maxval > 23170 )\n-    {\n-      FT_Fixed  scale = FT_DivFix( maxval, 23170 );\n-\n+    \/* Scale matrix to avoid the temp1 overflow, which is *\/\n+    \/* more stringent than avoiding the temp2 overflow.   *\/\n@@ -795,2 +774,1 @@\n-      if ( !FT_DivFix( nonzero_minval, scale ) )\n-        return 0;    \/* value range too large *\/\n+    shift = FT_MSB( val ) - 12;\n@@ -798,4 +776,6 @@\n-      m.xx = FT_DivFix( matrix->xx, scale );\n-      m.xy = FT_DivFix( matrix->xy, scale );\n-      m.yx = FT_DivFix( matrix->yx, scale );\n-      m.yy = FT_DivFix( matrix->yy, scale );\n+    if ( shift > 0 )\n+    {\n+      xx >>= shift;\n+      xy >>= shift;\n+      yx >>= shift;\n+      yy >>= shift;\n@@ -803,2 +783,0 @@\n-    else\n-      m = *matrix;\n@@ -806,2 +784,3 @@\n-    temp1 = FT_ABS( m.xx * m.yy - m.xy * m.yx );\n-    temp2 = m.xx * m.xx + m.xy * m.xy + m.yx * m.yx + m.yy * m.yy;\n+    temp1 = 32U * (FT_ULong)FT_ABS( xx * yy - xy * yx );\n+    temp2 = (FT_ULong)( xx * xx ) + (FT_ULong)( xy * xy ) +\n+            (FT_ULong)( yx * yx ) + (FT_ULong)( yy * yy );\n@@ -809,2 +788,1 @@\n-    if ( temp1 == 0         ||\n-         temp2 \/ temp1 > 50 )\n+    if ( temp1 <= temp2 )\n@@ -1064,1 +1042,1 @@\n-    \/* vectors is `dominant', this is, much larger than the      *\/\n+    \/* vectors is `dominant', that is, much larger than the      *\/\n@@ -1095,3 +1073,0 @@\n-#ifndef FT_INT64\n-    FT_Int64  halfUnit;\n-#endif\n@@ -1106,1 +1081,1 @@\n-    return ( temp + 0x8000 ) >> 16;\n+    return (FT_Int32)( ( temp + 0x8000 ) >> 16 );\n@@ -1142,4 +1117,3 @@\n-    \/* Round value. *\/\n-    halfUnit.hi = 0;\n-    halfUnit.lo = 0x8000;\n-    FT_Add64( &temp, &halfUnit, &temp );\n+    \/* Shift and round value. *\/\n+    return (FT_Int32)( ( ( temp.hi << 16 ) | ( temp.lo >> 16 ) )\n+                                     + ( 1 & ( temp.lo >> 15 ) ) );\n@@ -1147,2 +1121,0 @@\n-    return (FT_Int32)( ( (FT_Int32)( temp.hi & 0xFFFF ) << 16 ) |\n-                                   ( temp.lo >> 16 )            );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftcalc.c","additions":29,"deletions":57,"binary":false,"changes":86,"status":"modified"},{"patch":"@@ -966,1 +966,1 @@\n-  typedef int  _debug_mem_dummy;\n+  typedef int  debug_mem_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftdbgmem.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1085,1 +1085,1 @@\n-  typedef int  _ft_mac_dummy;\n+  typedef int  ft_mac_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftmac.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -188,0 +188,8 @@\n+\n+      if ( !error )\n+      {\n+        if ( num_coords )\n+          face->face_flags |= FT_FACE_FLAG_VARIATION;\n+        else\n+          face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+      }\n@@ -223,0 +231,8 @@\n+\n+      if ( !error )\n+      {\n+        if ( len )\n+          face->face_flags |= FT_FACE_FLAG_VARIATION;\n+        else\n+          face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+      }\n@@ -286,0 +302,24 @@\n+      if ( !error || error == -1 )\n+      {\n+        FT_Bool  is_variation_old = FT_IS_VARIATION( face );\n+\n+\n+        if ( num_coords )\n+          face->face_flags |= FT_FACE_FLAG_VARIATION;\n+        else\n+          face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+\n+        if ( service_mm->construct_ps_name )\n+        {\n+          if ( error == -1 )\n+          {\n+            \/* The PS name of a named instance and a non-named instance *\/\n+            \/* usually differs, even if the axis values are identical.  *\/\n+            if ( is_variation_old != FT_IS_VARIATION( face ) )\n+              service_mm->construct_ps_name( face );\n+          }\n+          else\n+            service_mm->construct_ps_name( face );\n+        }\n+      }\n+\n@@ -362,0 +402,24 @@\n+      if ( !error || error == -1 )\n+      {\n+        FT_Bool  is_variation_old = FT_IS_VARIATION( face );\n+\n+\n+        if ( num_coords )\n+          face->face_flags |= FT_FACE_FLAG_VARIATION;\n+        else\n+          face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+\n+        if ( service_mm->construct_ps_name )\n+        {\n+          if ( error == -1 )\n+          {\n+            \/* The PS name of a named instance and a non-named instance *\/\n+            \/* usually differs, even if the axis values are identical.  *\/\n+            if ( is_variation_old != FT_IS_VARIATION( face ) )\n+              service_mm->construct_ps_name( face );\n+          }\n+          else\n+            service_mm->construct_ps_name( face );\n+        }\n+      }\n+\n@@ -413,0 +477,24 @@\n+      if ( !error || error == -1 )\n+      {\n+        FT_Bool  is_variation_old = FT_IS_VARIATION( face );\n+\n+\n+        if ( num_coords )\n+          face->face_flags |= FT_FACE_FLAG_VARIATION;\n+        else\n+          face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+\n+        if ( service_mm->construct_ps_name )\n+        {\n+          if ( error == -1 )\n+          {\n+            \/* The PS name of a named instance and a non-named instance *\/\n+            \/* usually differs, even if the axis values are identical.  *\/\n+            if ( is_variation_old != FT_IS_VARIATION( face ) )\n+              service_mm->construct_ps_name( face );\n+          }\n+          else\n+            service_mm->construct_ps_name( face );\n+        }\n+      }\n+\n@@ -538,2 +626,29 @@\n-      if ( service_mm->set_instance )\n-        error = service_mm->set_instance( face, instance_index );\n+      if ( service_mm->set_named_instance )\n+        error = service_mm->set_named_instance( face, instance_index );\n+\n+      if ( !error || error == -1 )\n+      {\n+        FT_Bool  is_variation_old = FT_IS_VARIATION( face );\n+\n+\n+        face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+        face->face_index  = ( instance_index << 16 )        |\n+                            ( face->face_index & 0xFFFFL );\n+\n+        if ( service_mm->construct_ps_name )\n+        {\n+          if ( error == -1 )\n+          {\n+            \/* The PS name of a named instance and a non-named instance *\/\n+            \/* usually differs, even if the axis values are identical.  *\/\n+            if ( is_variation_old != FT_IS_VARIATION( face ) )\n+              service_mm->construct_ps_name( face );\n+          }\n+          else\n+            service_mm->construct_ps_name( face );\n+        }\n+      }\n+\n+      \/* internal error code -1 means `no change'; we can exit immediately *\/\n+      if ( error == -1 )\n+        return FT_Err_Ok;\n@@ -557,0 +672,18 @@\n+    return error;\n+  }\n+\n+\n+  \/* documentation is in ftmm.h *\/\n+\n+  FT_EXPORT_DEF( FT_Error )\n+  FT_Get_Default_Named_Instance( FT_Face   face,\n+                                 FT_UInt  *instance_index )\n+  {\n+    FT_Error  error;\n+\n+    FT_Service_MultiMasters  service_mm = NULL;\n+\n+\n+    \/* check of `face' delayed to `ft_face_get_mm_service' *\/\n+\n+    error = ft_face_get_mm_service( face, &service_mm );\n@@ -559,3 +692,6 @@\n-      face->face_index  = ( instance_index << 16 )        |\n-                          ( face->face_index & 0xFFFFL );\n-      face->face_flags &= ~FT_FACE_FLAG_VARIATION;\n+      \/* no error if `get_default_named_instance` is not available *\/\n+      if ( service_mm->get_default_named_instance )\n+        error = service_mm->get_default_named_instance( face,\n+                                                        instance_index );\n+      else\n+        error = FT_Err_Ok;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftmm.c","additions":141,"deletions":5,"binary":false,"changes":146,"status":"modified"},{"patch":"@@ -1022,1 +1022,2 @@\n-      if ( FT_HAS_SVG( face ) )\n+      if ( ( load_flags & FT_LOAD_NO_SVG ) == 0 &&\n+           FT_HAS_SVG( face )                   )\n@@ -1248,2 +1249,2 @@\n-                FT_Size    size,\n-                FT_Driver  driver )\n+                void*      size_,\n+                void*      driver_ )\n@@ -1251,0 +1252,4 @@\n+    FT_Size    size   = (FT_Size)size_;\n+    FT_Driver  driver = (FT_Driver)driver_;\n+\n+\n@@ -1296,2 +1301,2 @@\n-                FT_Face    face,\n-                FT_Driver  driver )\n+                void*      face_,\n+                void*      driver_ )\n@@ -1299,1 +1304,3 @@\n-    FT_Driver_Class  clazz = driver->clazz;\n+    FT_Face          face   = (FT_Face)face_;\n+    FT_Driver        driver = (FT_Driver)driver_;\n+    FT_Driver_Class  clazz  = driver->clazz;\n@@ -1313,1 +1320,1 @@\n-                      (FT_List_Destructor)destroy_size,\n+                      destroy_size,\n@@ -1349,1 +1356,1 @@\n-                      (FT_List_Destructor)destroy_face,\n+                      destroy_face,\n@@ -1743,1 +1750,2 @@\n-    args.flags = 0;\n+    args.driver = NULL;\n+    args.flags  = 0;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftobjs.c","additions":17,"deletions":9,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -61,1 +61,3 @@\n-    FT_UInt  first;     \/* index of first point in contour *\/\n+    FT_Int   first;     \/* index of first point in contour *\/\n+    FT_Int   last;      \/* index of last point in contour  *\/\n+\n@@ -76,1 +78,0 @@\n-    first = 0;\n@@ -78,0 +79,1 @@\n+    last = -1;\n@@ -80,4 +82,1 @@\n-      FT_Int  last;  \/* index of last point in contour *\/\n-\n-\n-      FT_TRACE5(( \"FT_Outline_Decompose: Outline %d\\n\", n ));\n+      FT_TRACE5(( \"FT_Outline_Decompose: Contour %d\\n\", n ));\n@@ -85,2 +84,3 @@\n-      last = outline->contours[n];\n-      if ( last < 0 )\n+      first = last + 1;\n+      last  = outline->contours[n];\n+      if ( last < first )\n@@ -88,0 +88,1 @@\n+\n@@ -285,2 +286,0 @@\n-\n-      first = (FT_UInt)last + 1;\n@@ -371,1 +370,1 @@\n-      end0 = end = -1;\n+      end0 = -1;\n@@ -383,1 +382,1 @@\n-      if ( end != n_points - 1 )\n+      if ( end0 != n_points - 1 )\n@@ -391,1 +390,1 @@\n-    return FT_THROW( Invalid_Argument );\n+    return FT_THROW( Invalid_Outline );\n@@ -553,2 +552,1 @@\n-    first = 0;\n-\n+    last = -1;\n@@ -557,0 +555,3 @@\n+      \/* keep the first contour point as is and swap points around it *\/\n+      \/* to guarantee that the cubic arches stay valid after reverse  *\/\n+      first = last + 2;\n@@ -594,2 +595,0 @@\n-\n-      first = last + 1;\n@@ -944,1 +943,1 @@\n-    first = 0;\n+    last = -1;\n@@ -952,2 +951,3 @@\n-      l_in = 0;\n-      last = outline->contours[c];\n+      first = last + 1;\n+      last  = outline->contours[c];\n+      l_in  = 0;\n@@ -1040,2 +1040,0 @@\n-\n-      first = last + 1;\n@@ -1057,1 +1055,1 @@\n-    FT_Int      c, n, first;\n+    FT_Int      c, n, first, last;\n@@ -1089,1 +1087,1 @@\n-    first = 0;\n+    last = -1;\n@@ -1092,2 +1090,2 @@\n-      FT_Int  last = outline->contours[c];\n-\n+      first = last + 1;\n+      last  = outline->contours[c];\n@@ -1109,2 +1107,0 @@\n-\n-      first = last + 1;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftoutln.c","additions":24,"deletions":28,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -144,1 +144,3 @@\n-      FT_MEM_COPY( buffer, stream->base + pos, read_bytes );\n+      \/* Allow \"reading\" zero bytes without UB even if buffer is NULL *\/\n+      if ( count )\n+        FT_MEM_COPY( buffer, stream->base + pos, read_bytes );\n@@ -181,1 +183,3 @@\n-      FT_MEM_COPY( buffer, stream->base + stream->pos, read_bytes );\n+      \/* Allow \"reading\" zero bytes without UB even if buffer is NULL *\/\n+      if ( count )\n+        FT_MEM_COPY( buffer, stream->base + stream->pos, read_bytes );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftstream.c","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2058,1 +2058,3 @@\n-    FT_UInt     first;     \/* index of first point in contour *\/\n+    FT_Int      first;     \/* index of first point in contour *\/\n+    FT_Int      last;      \/* index of last point in contour  *\/\n+\n@@ -2070,2 +2072,1 @@\n-    first = 0;\n-\n+    last = -1;\n@@ -2074,5 +2075,2 @@\n-      FT_UInt  last;  \/* index of last point in contour *\/\n-\n-\n-      last  = (FT_UInt)outline->contours[n];\n-      limit = outline->points + last;\n+      first = last + 1;\n+      last  = outline->contours[n];\n@@ -2082,2 +2080,0 @@\n-      {\n-        first = last + 1;\n@@ -2085,1 +2081,2 @@\n-      }\n+\n+      limit = outline->points + last;\n@@ -2234,2 +2231,0 @@\n-\n-      first = last + 1;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftstroke.c","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -100,0 +100,9 @@\n+  {\n+    FT_GlyphSlot_AdjustWeight( slot, 0x0AAA, 0x0AAA );\n+  }\n+\n+\n+  FT_EXPORT_DEF( void )\n+  FT_GlyphSlot_AdjustWeight( FT_GlyphSlot  slot,\n+                             FT_Fixed      xdelta,\n+                             FT_Fixed      ydelta )\n@@ -102,1 +111,1 @@\n-    FT_Face     face;\n+    FT_Size     size;\n@@ -111,1 +120,1 @@\n-    face    = slot->face;\n+    size    = slot->face->size;\n@@ -117,4 +126,3 @@\n-    \/* some reasonable strength *\/\n-    xstr = FT_MulFix( face->units_per_EM,\n-                      face->size->metrics.y_scale ) \/ 24;\n-    ystr = xstr;\n+    \/* express deltas in pixels in 26.6 format *\/\n+    xstr = (FT_Pos)size->metrics.x_ppem * xdelta \/ 1024;\n+    ystr = (FT_Pos)size->metrics.y_ppem * ydelta \/ 1024;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftsynth.c","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -209,1 +209,1 @@\n-   *   The number of bytes actually read.  If `count' is zero (this is,\n+   *   The number of bytes actually read.  If `count' is zero (that is,\n@@ -222,1 +222,1 @@\n-    if ( !count && offset > stream->size )\n+    if ( offset > stream->size && !count )\n@@ -230,0 +230,5 @@\n+    \/* Avoid calling `fread` with `buffer=NULL` and `count=0`, *\/\n+    \/* which is undefined behaviour.                           *\/\n+    if ( !count )\n+      return 0;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/base\/ftsystem.c","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -35,2 +35,2 @@\n-  cff_cmap_encoding_init( CFF_CMapStd  cmap,\n-                          FT_Pointer   pointer )\n+  cff_cmap_encoding_init( FT_CMap     cmap,\n+                          FT_Pointer  pointer )\n@@ -38,0 +38,1 @@\n+    CFF_CMapStd   cffcmap  = (CFF_CMapStd)cmap;\n@@ -45,1 +46,1 @@\n-    cmap->gids  = encoding->codes;\n+    cffcmap->gids = encoding->codes;\n@@ -52,1 +53,1 @@\n-  cff_cmap_encoding_done( CFF_CMapStd  cmap )\n+  cff_cmap_encoding_done( FT_CMap  cmap )\n@@ -54,1 +55,4 @@\n-    cmap->gids  = NULL;\n+    CFF_CMapStd  cffcmap = (CFF_CMapStd)cmap;\n+\n+\n+    cffcmap->gids = NULL;\n@@ -59,2 +63,2 @@\n-  cff_cmap_encoding_char_index( CFF_CMapStd  cmap,\n-                                FT_UInt32    char_code )\n+  cff_cmap_encoding_char_index( FT_CMap    cmap,\n+                                FT_UInt32  char_code )\n@@ -62,1 +66,2 @@\n-    FT_UInt  result = 0;\n+    CFF_CMapStd  cffcmap = (CFF_CMapStd)cmap;\n+    FT_UInt      result  = 0;\n@@ -66,1 +71,1 @@\n-      result = cmap->gids[char_code];\n+      result = cffcmap->gids[char_code];\n@@ -72,3 +77,3 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  cff_cmap_encoding_char_next( CFF_CMapStd   cmap,\n-                               FT_UInt32    *pchar_code )\n+  FT_CALLBACK_DEF( FT_UInt )\n+  cff_cmap_encoding_char_next( FT_CMap     cmap,\n+                               FT_UInt32  *pchar_code )\n@@ -76,2 +81,3 @@\n-    FT_UInt    result    = 0;\n-    FT_UInt32  char_code = *pchar_code;\n+    CFF_CMapStd  cffcmap   = (CFF_CMapStd)cmap;\n+    FT_UInt      result    = 0;\n+    FT_UInt32    char_code = *pchar_code;\n@@ -80,3 +86,1 @@\n-    *pchar_code = 0;\n-\n-    if ( char_code < 255 )\n+    while ( char_code < 255 )\n@@ -84,4 +88,2 @@\n-      FT_UInt  code = (FT_UInt)( char_code + 1 );\n-\n-\n-      for (;;)\n+      result = cffcmap->gids[++char_code];\n+      if ( result )\n@@ -89,11 +91,2 @@\n-        if ( code >= 256 )\n-          break;\n-\n-        result = cmap->gids[code];\n-        if ( result != 0 )\n-        {\n-          *pchar_code = code;\n-          break;\n-        }\n-\n-        code++;\n+        *pchar_code = char_code;\n+        break;\n@@ -102,0 +95,1 @@\n+\n@@ -133,1 +127,1 @@\n-  cff_sid_to_glyph_name( TT_Face  face,\n+  cff_sid_to_glyph_name( void*    face_,  \/* TT_Face *\/\n@@ -136,0 +130,1 @@\n+    TT_Face      face    = (TT_Face)face_;\n@@ -146,1 +141,1 @@\n-  cff_cmap_unicode_init( PS_Unicodes  unicodes,\n+  cff_cmap_unicode_init( FT_CMap      cmap,     \/* PS_Unicodes *\/\n@@ -149,5 +144,6 @@\n-    TT_Face             face    = (TT_Face)FT_CMAP_FACE( unicodes );\n-    FT_Memory           memory  = FT_FACE_MEMORY( face );\n-    CFF_Font            cff     = (CFF_Font)face->extra.data;\n-    CFF_Charset         charset = &cff->charset;\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)cff->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    TT_Face             face     = (TT_Face)FT_CMAP_FACE( cmap );\n+    FT_Memory           memory   = FT_FACE_MEMORY( face );\n+    CFF_Font            cff      = (CFF_Font)face->extra.data;\n+    CFF_Charset         charset  = &cff->charset;\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)cff->psnames;\n@@ -169,1 +165,1 @@\n-                                   (PS_GetGlyphNameFunc)&cff_sid_to_glyph_name,\n+                                   &cff_sid_to_glyph_name,\n@@ -176,1 +172,1 @@\n-  cff_cmap_unicode_done( PS_Unicodes  unicodes )\n+  cff_cmap_unicode_done( FT_CMap  cmap )    \/* PS_Unicodes *\/\n@@ -178,2 +174,3 @@\n-    FT_Face    face   = FT_CMAP_FACE( unicodes );\n-    FT_Memory  memory = FT_FACE_MEMORY( face );\n+    PS_Unicodes  unicodes = (PS_Unicodes)cmap;\n+    FT_Face      face     = FT_CMAP_FACE( cmap );\n+    FT_Memory    memory   = FT_FACE_MEMORY( face );\n@@ -188,2 +185,2 @@\n-  cff_cmap_unicode_char_index( PS_Unicodes  unicodes,\n-                               FT_UInt32    char_code )\n+  cff_cmap_unicode_char_index( FT_CMap    cmap,       \/* PS_Unicodes *\/\n+                               FT_UInt32  char_code )\n@@ -191,3 +188,4 @@\n-    TT_Face             face    = (TT_Face)FT_CMAP_FACE( unicodes );\n-    CFF_Font            cff     = (CFF_Font)face->extra.data;\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)cff->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    TT_Face             face     = (TT_Face)FT_CMAP_FACE( cmap );\n+    CFF_Font            cff      = (CFF_Font)face->extra.data;\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)cff->psnames;\n@@ -200,3 +198,3 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  cff_cmap_unicode_char_next( PS_Unicodes  unicodes,\n-                              FT_UInt32   *pchar_code )\n+  FT_CALLBACK_DEF( FT_UInt )\n+  cff_cmap_unicode_char_next( FT_CMap     cmap,        \/* PS_Unicodes *\/\n+                              FT_UInt32  *pchar_code )\n@@ -204,3 +202,4 @@\n-    TT_Face             face    = (TT_Face)FT_CMAP_FACE( unicodes );\n-    CFF_Font            cff     = (CFF_Font)face->extra.data;\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)cff->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    TT_Face             face     = (TT_Face)FT_CMAP_FACE( cmap );\n+    CFF_Font            cff      = (CFF_Font)face->extra.data;\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)cff->psnames;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffcmap.c","additions":53,"deletions":54,"binary":false,"changes":107,"status":"modified"},{"patch":"@@ -111,1 +111,1 @@\n-  cff_get_kerning( FT_Face     ttface,          \/* TT_Face *\/\n+  cff_get_kerning( FT_Face     face,          \/* CFF_Face *\/\n@@ -116,2 +116,2 @@\n-    TT_Face       face = (TT_Face)ttface;\n-    SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n+    CFF_Face      cffface = (CFF_Face)face;\n+    SFNT_Service  sfnt    = (SFNT_Service)cffface->sfnt;\n@@ -124,1 +124,1 @@\n-      kerning->x = sfnt->get_kerning( face, left_glyph, right_glyph );\n+      kerning->x = sfnt->get_kerning( cffface, left_glyph, right_glyph );\n@@ -161,2 +161,2 @@\n-  cff_glyph_load( FT_GlyphSlot  cffslot,      \/* CFF_GlyphSlot *\/\n-                  FT_Size       cffsize,      \/* CFF_Size      *\/\n+  cff_glyph_load( FT_GlyphSlot  slot,        \/* CFF_GlyphSlot *\/\n+                  FT_Size       size,        \/* CFF_Size      *\/\n@@ -167,2 +167,2 @@\n-    CFF_GlyphSlot  slot = (CFF_GlyphSlot)cffslot;\n-    CFF_Size       size = (CFF_Size)cffsize;\n+    CFF_GlyphSlot  cffslot = (CFF_GlyphSlot)slot;\n+    CFF_Size       cffsize = (CFF_Size)size;\n@@ -171,1 +171,1 @@\n-    if ( !slot )\n+    if ( !cffslot )\n@@ -177,1 +177,1 @@\n-    if ( !size )\n+    if ( !cffsize )\n@@ -187,1 +187,1 @@\n-      if ( cffsize->face != cffslot->face )\n+      if ( size->face != slot->face )\n@@ -192,1 +192,1 @@\n-    error = cff_slot_load( slot, size, glyph_index, load_flags );\n+    error = cff_slot_load( cffslot, cffsize, glyph_index, load_flags );\n@@ -219,1 +219,1 @@\n-      TT_Face   ttface = (TT_Face)face;\n+      CFF_Face  cffface = (CFF_Face)face;\n@@ -228,1 +228,1 @@\n-             !( ttface->variation_support & TT_FACE_FLAG_VAR_VADVANCE )  )\n+             !( cffface->variation_support & TT_FACE_FLAG_VAR_VADVANCE ) )\n@@ -236,1 +236,1 @@\n-        if ( !ttface->vertical_info )\n+        if ( !cffface->vertical_info )\n@@ -244,5 +244,5 @@\n-          ( (SFNT_Service)ttface->sfnt )->get_metrics( ttface,\n-                                                       1,\n-                                                       start + nn,\n-                                                       &dummy,\n-                                                       &ah );\n+          ( (SFNT_Service)cffface->sfnt )->get_metrics( cffface,\n+                                                        1,\n+                                                        start + nn,\n+                                                        &dummy,\n+                                                        &ah );\n@@ -262,1 +262,1 @@\n-             !( ttface->variation_support & TT_FACE_FLAG_VAR_HADVANCE )  )\n+             !( cffface->variation_support & TT_FACE_FLAG_VAR_HADVANCE ) )\n@@ -267,1 +267,1 @@\n-        if ( !ttface->horizontal.number_Of_HMetrics )\n+        if ( !cffface->horizontal.number_Of_HMetrics )\n@@ -275,5 +275,5 @@\n-          ( (SFNT_Service)ttface->sfnt )->get_metrics( ttface,\n-                                                       0,\n-                                                       start + nn,\n-                                                       &dummy,\n-                                                       &aw );\n+          ( (SFNT_Service)cffface->sfnt )->get_metrics( cffface,\n+                                                        0,\n+                                                        start + nn,\n+                                                        &dummy,\n+                                                        &aw );\n@@ -315,2 +315,2 @@\n-  static FT_Error\n-  cff_get_glyph_name( CFF_Face    face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_glyph_name( FT_Face     face,        \/* CFF_Face *\/\n@@ -321,1 +321,2 @@\n-    CFF_Font    font   = (CFF_Font)face->extra.data;\n+    CFF_Face    cffface = (CFF_Face)face;\n+    CFF_Font    font    = (CFF_Font)cffface->extra.data;\n@@ -341,4 +342,1 @@\n-        return service->get_name( FT_FACE( face ),\n-                                  glyph_index,\n-                                  buffer,\n-                                  buffer_max );\n+        return service->get_name( face, glyph_index, buffer, buffer_max );\n@@ -369,1 +367,1 @@\n-    \/* now, lookup the name itself *\/\n+    \/* now, look up the name itself *\/\n@@ -382,2 +380,2 @@\n-  static FT_UInt\n-  cff_get_name_index( CFF_Face          face,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  cff_get_name_index( FT_Face           face,        \/* CFF_Face *\/\n@@ -386,2 +384,3 @@\n-    CFF_Font            cff;\n-    CFF_Charset         charset;\n+    CFF_Face            cffface = (CFF_Face)face;\n+    CFF_Font            cff     = (CFF_Font)cffface->extra.data;\n+    CFF_Charset         charset = &cff->charset;\n@@ -394,3 +393,0 @@\n-    cff     = (CFF_FontRec *)face->extra.data;\n-    charset = &cff->charset;\n-\n@@ -411,1 +407,1 @@\n-        return service->name_index( FT_FACE( face ), glyph_name );\n+        return service->name_index( face, glyph_name );\n@@ -449,2 +445,2 @@\n-    (FT_GlyphDict_GetNameFunc)  cff_get_glyph_name,      \/* get_name   *\/\n-    (FT_GlyphDict_NameIndexFunc)cff_get_name_index       \/* name_index *\/\n+    cff_get_glyph_name,  \/* FT_GlyphDict_GetNameFunc   get_name   *\/\n+    cff_get_name_index   \/* FT_GlyphDict_NameIndexFunc name_index *\/\n@@ -459,1 +455,1 @@\n-  static FT_Int\n+  FT_CALLBACK_DEF( FT_Int )\n@@ -466,2 +462,2 @@\n-  static FT_Error\n-  cff_ps_get_font_info( CFF_Face         face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_ps_get_font_info( FT_Face          face,        \/* CFF_Face *\/\n@@ -470,2 +466,3 @@\n-    CFF_Font  cff   = (CFF_Font)face->extra.data;\n-    FT_Error  error = FT_Err_Ok;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    CFF_Font  cff     = (CFF_Font)cffface->extra.data;\n+    FT_Error  error   = FT_Err_Ok;\n@@ -474,0 +471,6 @@\n+    if ( cffface->is_cff2 )\n+    {\n+      error = FT_THROW( Invalid_Argument );\n+      goto Fail;\n+    }\n+\n@@ -477,1 +480,1 @@\n-      FT_Memory        memory    = face->root.memory;\n+      FT_Memory        memory    = FT_FACE_MEMORY( face );\n@@ -510,2 +513,2 @@\n-  static FT_Error\n-  cff_ps_get_font_extra( CFF_Face          face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_ps_get_font_extra( FT_Face           face,         \/* CFF_Face *\/\n@@ -514,2 +517,3 @@\n-    CFF_Font  cff   = (CFF_Font)face->extra.data;\n-    FT_Error  error = FT_Err_Ok;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    CFF_Font  cff     = (CFF_Font)cffface->extra.data;\n+    FT_Error  error   = FT_Err_Ok;\n@@ -521,1 +525,1 @@\n-      FT_Memory         memory     = face->root.memory;\n+      FT_Memory         memory     = FT_FACE_MEMORY( face );\n@@ -591,3 +595,3 @@\n-    (PS_GetFontInfoFunc)   cff_ps_get_font_info,    \/* ps_get_font_info    *\/\n-    (PS_GetFontExtraFunc)  cff_ps_get_font_extra,   \/* ps_get_font_extra   *\/\n-    (PS_HasGlyphNamesFunc) cff_ps_has_glyph_names,  \/* ps_has_glyph_names  *\/\n+    cff_ps_get_font_info,    \/* PS_GetFontInfoFunc    ps_get_font_info    *\/\n+    cff_ps_get_font_extra,   \/* PS_GetFontExtraFunc   ps_get_font_extra   *\/\n+    cff_ps_has_glyph_names,  \/* PS_HasGlyphNamesFunc  ps_has_glyph_names  *\/\n@@ -595,1 +599,1 @@\n-    (PS_GetFontPrivateFunc)NULL,                    \/* ps_get_font_private *\/\n+    NULL,                    \/* PS_GetFontPrivateFunc ps_get_font_private *\/\n@@ -597,1 +601,1 @@\n-    (PS_GetFontValueFunc)  NULL                     \/* ps_get_font_value   *\/\n+    NULL                     \/* PS_GetFontValueFunc   ps_get_font_value   *\/\n@@ -606,2 +610,2 @@\n-  static const char*\n-  cff_get_ps_name( CFF_Face  face )\n+  FT_CALLBACK_DEF( const char* )\n+  cff_get_ps_name( FT_Face  face )    \/* CFF_Face *\/\n@@ -609,2 +613,3 @@\n-    CFF_Font      cff  = (CFF_Font)face->extra.data;\n-    SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n+    CFF_Face      cffface = (CFF_Face)face;\n+    CFF_Font      cff     = (CFF_Font)cffface->extra.data;\n+    SFNT_Service  sfnt    = (SFNT_Service)cffface->sfnt;\n@@ -616,1 +621,1 @@\n-    if ( FT_IS_SFNT( FT_FACE( face ) ) && sfnt )\n+    if ( FT_IS_SFNT( face ) && sfnt )\n@@ -628,1 +633,1 @@\n-        return service->get_ps_font_name( FT_FACE( face ) );\n+        return service->get_ps_font_name( face );\n@@ -631,1 +636,1 @@\n-    return (const char*)cff->font_name;\n+    return cff ? (const char*)cff->font_name : NULL;\n@@ -638,1 +643,1 @@\n-    (FT_PsName_GetFunc)cff_get_ps_name      \/* get_ps_font_name *\/\n+    cff_get_ps_name  \/* FT_PsName_GetFunc get_ps_font_name *\/\n@@ -652,1 +657,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -686,1 +691,1 @@\n-    (TT_CMap_Info_GetFunc)cff_get_cmap_info    \/* get_cmap_info *\/\n+    cff_get_cmap_info  \/* TT_CMap_Info_GetFunc get_cmap_info *\/\n@@ -694,2 +699,2 @@\n-  static FT_Error\n-  cff_get_ros( CFF_Face      face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_ros( FT_Face       face,        \/* FT_Face *\/\n@@ -700,2 +705,3 @@\n-    FT_Error  error = FT_Err_Ok;\n-    CFF_Font  cff   = (CFF_Font)face->extra.data;\n+    FT_Error  error   = FT_Err_Ok;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    CFF_Font  cff     = (CFF_Font)cffface->extra.data;\n@@ -751,2 +757,2 @@\n-  static FT_Error\n-  cff_get_is_cid( CFF_Face  face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_is_cid( FT_Face   face,    \/* CFF_Face *\/\n@@ -755,2 +761,3 @@\n-    FT_Error  error = FT_Err_Ok;\n-    CFF_Font  cff   = (CFF_Font)face->extra.data;\n+    FT_Error  error   = FT_Err_Ok;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    CFF_Font  cff     = (CFF_Font)cffface->extra.data;\n@@ -774,2 +781,2 @@\n-  static FT_Error\n-  cff_get_cid_from_glyph_index( CFF_Face  face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_cid_from_glyph_index( FT_Face   face,        \/* CFF_Face *\/\n@@ -779,3 +786,3 @@\n-    FT_Error  error = FT_Err_Ok;\n-    CFF_Font  cff;\n-\n+    FT_Error  error   = FT_Err_Ok;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    CFF_Font  cff     = (CFF_Font)cffface->extra.data;\n@@ -783,1 +790,0 @@\n-    cff = (CFF_Font)face->extra.data;\n@@ -817,6 +823,6 @@\n-    (FT_CID_GetRegistryOrderingSupplementFunc)\n-      cff_get_ros,                             \/* get_ros                  *\/\n-    (FT_CID_GetIsInternallyCIDKeyedFunc)\n-      cff_get_is_cid,                          \/* get_is_cid               *\/\n-    (FT_CID_GetCIDFromGlyphIndexFunc)\n-      cff_get_cid_from_glyph_index             \/* get_cid_from_glyph_index *\/\n+    cff_get_ros,\n+      \/* FT_CID_GetRegistryOrderingSupplementFunc get_ros                  *\/\n+    cff_get_is_cid,\n+      \/* FT_CID_GetIsInternallyCIDKeyedFunc       get_is_cid               *\/\n+    cff_get_cid_from_glyph_index\n+      \/* FT_CID_GetCIDFromGlyphIndexFunc          get_cid_from_glyph_index *\/\n@@ -834,3 +840,3 @@\n-    (FT_Properties_SetFunc)ps_property_set,      \/* set_property *\/\n-    (FT_Properties_GetFunc)ps_property_get )     \/* get_property *\/\n-\n+    ps_property_set,  \/* FT_Properties_SetFunc set_property *\/\n+    ps_property_get   \/* FT_Properties_GetFunc get_property *\/\n+  )\n@@ -845,2 +851,2 @@\n-  static FT_Error\n-  cff_set_mm_blend( CFF_Face   face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_set_mm_blend( FT_Face    face,        \/* CFF_Face *\/\n@@ -850,1 +856,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -853,1 +860,1 @@\n-    return mm->set_mm_blend( FT_FACE( face ), num_coords, coords );\n+    return mm->set_mm_blend( face, num_coords, coords );\n@@ -857,2 +864,2 @@\n-  static FT_Error\n-  cff_get_mm_blend( CFF_Face   face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_mm_blend( FT_Face    face,       \/* CFF_Face *\/\n@@ -862,1 +869,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -865,1 +873,1 @@\n-    return mm->get_mm_blend( FT_FACE( face ), num_coords, coords );\n+    return mm->get_mm_blend( face, num_coords, coords );\n@@ -869,2 +877,2 @@\n-  static FT_Error\n-  cff_set_mm_weightvector( CFF_Face   face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_set_mm_weightvector( FT_Face    face,          \/* CFF_Face *\/\n@@ -874,1 +882,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -877,1 +886,1 @@\n-    return mm->set_mm_weightvector( FT_FACE( face ), len, weightvector );\n+    return mm->set_mm_weightvector( face, len, weightvector );\n@@ -881,2 +890,2 @@\n-  static FT_Error\n-  cff_get_mm_weightvector( CFF_Face   face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_mm_weightvector( FT_Face    face,          \/* CFF_Face *\/\n@@ -886,1 +895,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -889,1 +899,1 @@\n-    return mm->get_mm_weightvector( FT_FACE( face ), len, weightvector );\n+    return mm->get_mm_weightvector( face, len, weightvector );\n@@ -893,2 +903,13 @@\n-  static FT_Error\n-  cff_get_mm_var( CFF_Face     face,\n+  FT_CALLBACK_DEF( void )\n+  cff_construct_ps_name( FT_Face  face )  \/* CFF_Face *\/\n+  {\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n+\n+\n+    mm->construct_ps_name( face );\n+  }\n+\n+\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_mm_var( FT_Face      face,    \/* CFF_Face *\/\n@@ -897,1 +918,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -900,1 +922,1 @@\n-    return mm->get_mm_var( FT_FACE( face ), master );\n+    return mm->get_mm_var( face, master );\n@@ -904,2 +926,2 @@\n-  static FT_Error\n-  cff_set_var_design( CFF_Face   face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_set_var_design( FT_Face    face,       \/* CFF_Face *\/\n@@ -909,1 +931,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -912,1 +935,1 @@\n-    return mm->set_var_design( FT_FACE( face ), num_coords, coords );\n+    return mm->set_var_design( face, num_coords, coords );\n@@ -916,2 +939,2 @@\n-  static FT_Error\n-  cff_get_var_design( CFF_Face   face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_var_design( FT_Face    face,       \/* CFF_Face *\/\n@@ -921,1 +944,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -924,1 +948,1 @@\n-    return mm->get_var_design( FT_FACE( face ), num_coords, coords );\n+    return mm->get_var_design( face, num_coords, coords );\n@@ -928,3 +952,3 @@\n-  static FT_Error\n-  cff_set_instance( CFF_Face  face,\n-                    FT_UInt   instance_index )\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_set_named_instance( FT_Face   face,            \/* CFF_Face *\/\n+                          FT_UInt   instance_index )\n@@ -932,1 +956,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -935,1 +960,1 @@\n-    return mm->set_instance( FT_FACE( face ), instance_index );\n+    return mm->set_named_instance( face, instance_index );\n@@ -939,2 +964,14 @@\n-  static FT_Error\n-  cff_load_item_variation_store( CFF_Face         face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_get_default_named_instance( FT_Face   face,            \/* CFF_Face *\/\n+                                  FT_UInt  *instance_index )\n+  {\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n+\n+\n+    return mm->get_default_named_instance( face, instance_index );\n+  }\n+\n+\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_load_item_variation_store( FT_Face          face,       \/* CFF_Face *\/\n@@ -944,1 +981,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -947,1 +985,1 @@\n-    return mm->load_item_var_store( FT_FACE(face), offset, itemStore );\n+    return mm->load_item_var_store( face, offset, itemStore );\n@@ -951,2 +989,2 @@\n-  static FT_Error\n-  cff_load_delta_set_index_mapping( CFF_Face           face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_load_delta_set_index_mapping( FT_Face            face,   \/* CFF_Face *\/\n@@ -958,1 +996,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -961,1 +1000,1 @@\n-    return mm->load_delta_set_idx_map( FT_FACE( face ), offset, map,\n+    return mm->load_delta_set_idx_map( face, offset, map,\n@@ -966,2 +1005,2 @@\n-  static FT_Int\n-  cff_get_item_delta( CFF_Face         face,\n+  FT_CALLBACK_DEF( FT_Int )\n+  cff_get_item_delta( FT_Face          face,        \/* CFF_Face *\/\n@@ -972,1 +1011,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -975,2 +1015,1 @@\n-    return mm->get_item_delta( FT_FACE( face ), itemStore,\n-                               outerIndex, innerIndex );\n+    return mm->get_item_delta( face, itemStore, outerIndex, innerIndex );\n@@ -980,2 +1019,2 @@\n-  static void\n-  cff_done_item_variation_store( CFF_Face          face,\n+  FT_CALLBACK_DEF( void )\n+  cff_done_item_variation_store( FT_Face          face,       \/* CFF_Face *\/\n@@ -984,1 +1023,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -987,1 +1027,1 @@\n-    mm->done_item_var_store( FT_FACE( face ), itemStore );\n+    mm->done_item_var_store( face, itemStore );\n@@ -991,2 +1031,2 @@\n-  static void\n-  cff_done_delta_set_index_map( CFF_Face           face,\n+  FT_CALLBACK_DEF( void )\n+  cff_done_delta_set_index_map( FT_Face            face,       \/* CFF_Face *\/\n@@ -995,1 +1035,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -998,1 +1039,1 @@\n-    mm->done_delta_set_idx_map( FT_FACE ( face ), deltaSetIdxMap );\n+    mm->done_delta_set_idx_map( face, deltaSetIdxMap );\n@@ -1006,30 +1047,29 @@\n-    (FT_Get_MM_Func)        NULL,               \/* get_mm                    *\/\n-    (FT_Set_MM_Design_Func) NULL,               \/* set_mm_design             *\/\n-    (FT_Set_MM_Blend_Func)  cff_set_mm_blend,   \/* set_mm_blend              *\/\n-    (FT_Get_MM_Blend_Func)  cff_get_mm_blend,   \/* get_mm_blend              *\/\n-    (FT_Get_MM_Var_Func)    cff_get_mm_var,     \/* get_mm_var                *\/\n-    (FT_Set_Var_Design_Func)cff_set_var_design, \/* set_var_design            *\/\n-    (FT_Get_Var_Design_Func)cff_get_var_design, \/* get_var_design            *\/\n-    (FT_Set_Instance_Func)  cff_set_instance,   \/* set_instance              *\/\n-    (FT_Set_MM_WeightVector_Func)\n-                            cff_set_mm_weightvector,\n-                                                \/* set_mm_weightvector       *\/\n-    (FT_Get_MM_WeightVector_Func)\n-                            cff_get_mm_weightvector,\n-                                                \/* get_mm_weightvector       *\/\n-    (FT_Var_Load_Delta_Set_Idx_Map_Func)\n-                            cff_load_delta_set_index_mapping,\n-                                                \/* load_delta_set_idx_map    *\/\n-    (FT_Var_Load_Item_Var_Store_Func)\n-                            cff_load_item_variation_store,\n-                                                \/* load_item_variation_store *\/\n-    (FT_Var_Get_Item_Delta_Func)\n-                            cff_get_item_delta, \/* get_item_delta            *\/\n-    (FT_Var_Done_Item_Var_Store_Func)\n-                            cff_done_item_variation_store,\n-                                                \/* done_item_variation_store *\/\n-    (FT_Var_Done_Delta_Set_Idx_Map_Func)\n-                            cff_done_delta_set_index_map,\n-                                                \/* done_delta_set_index_map  *\/\n-    (FT_Get_Var_Blend_Func) cff_get_var_blend,  \/* get_var_blend             *\/\n-    (FT_Done_Blend_Func)    cff_done_blend      \/* done_blend                *\/\n+    NULL,                \/* FT_Get_MM_Func         get_mm                     *\/\n+    NULL,                \/* FT_Set_MM_Design_Func  set_mm_design              *\/\n+    cff_set_mm_blend,    \/* FT_Set_MM_Blend_Func   set_mm_blend               *\/\n+    cff_get_mm_blend,    \/* FT_Get_MM_Blend_Func   get_mm_blend               *\/\n+    cff_get_mm_var,      \/* FT_Get_MM_Var_Func     get_mm_var                 *\/\n+    cff_set_var_design,  \/* FT_Set_Var_Design_Func set_var_design             *\/\n+    cff_get_var_design,  \/* FT_Get_Var_Design_Func get_var_design             *\/\n+    cff_set_named_instance,\n+             \/* FT_Set_Named_Instance_Func         set_named_instance         *\/\n+    cff_get_default_named_instance,\n+             \/* FT_Get_Default_Named_Instance_Func get_default_named_instance *\/\n+    cff_set_mm_weightvector,\n+             \/* FT_Set_MM_WeightVector_Func        set_mm_weightvector        *\/\n+    cff_get_mm_weightvector,\n+             \/* FT_Get_MM_WeightVector_Func        get_mm_weightvector        *\/\n+    cff_construct_ps_name,\n+             \/* FT_Construct_PS_Name_Func          construct_ps_name          *\/\n+    cff_load_delta_set_index_mapping,\n+             \/* FT_Var_Load_Delta_Set_Idx_Map_Func load_delta_set_idx_map     *\/\n+    cff_load_item_variation_store,\n+             \/* FT_Var_Load_Item_Var_Store_Func    load_item_variation_store  *\/\n+    cff_get_item_delta,\n+             \/* FT_Var_Get_Item_Delta_Func         get_item_delta             *\/\n+    cff_done_item_variation_store,\n+             \/* FT_Var_Done_Item_Var_Store_Func    done_item_variation_store  *\/\n+    cff_done_delta_set_index_map,\n+             \/* FT_Var_Done_Delta_Set_Idx_Map_Func done_delta_set_index_map   *\/\n+    cff_get_var_blend,   \/* FT_Get_Var_Blend_Func  get_var_blend              *\/\n+    cff_done_blend       \/* FT_Done_Blend_Func     done_blend                 *\/\n@@ -1044,2 +1084,2 @@\n-  static FT_Error\n-  cff_hadvance_adjust( CFF_Face  face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cff_hadvance_adjust( FT_Face   face,    \/* CFF_Face *\/\n@@ -1049,1 +1089,3 @@\n-    FT_Service_MetricsVariations  var = (FT_Service_MetricsVariations)face->var;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    FT_Service_MetricsVariations\n+              var     = (FT_Service_MetricsVariations)cffface->tt_var;\n@@ -1052,1 +1094,1 @@\n-    return var->hadvance_adjust( FT_FACE( face ), gindex, avalue );\n+    return var->hadvance_adjust( face, gindex, avalue );\n@@ -1056,2 +1098,2 @@\n-  static void\n-  cff_metrics_adjust( CFF_Face  face )\n+  FT_CALLBACK_DEF( void )\n+  cff_metrics_adjust( FT_Face  face )    \/* CFF_Face *\/\n@@ -1059,1 +1101,3 @@\n-    FT_Service_MetricsVariations  var = (FT_Service_MetricsVariations)face->var;\n+    CFF_Face  cffface = (CFF_Face)face;\n+    FT_Service_MetricsVariations\n+              var     = (FT_Service_MetricsVariations)cffface->tt_var;\n@@ -1062,1 +1106,1 @@\n-    var->metrics_adjust( FT_FACE( face ) );\n+    var->metrics_adjust( face );\n@@ -1069,3 +1113,3 @@\n-    (FT_HAdvance_Adjust_Func)cff_hadvance_adjust,    \/* hadvance_adjust *\/\n-    (FT_LSB_Adjust_Func)     NULL,                   \/* lsb_adjust      *\/\n-    (FT_RSB_Adjust_Func)     NULL,                   \/* rsb_adjust      *\/\n+    cff_hadvance_adjust,  \/* FT_HAdvance_Adjust_Func hadvance_adjust *\/\n+    NULL,                 \/* FT_LSB_Adjust_Func      lsb_adjust      *\/\n+    NULL,                 \/* FT_RSB_Adjust_Func      rsb_adjust      *\/\n@@ -1073,4 +1117,4 @@\n-    (FT_VAdvance_Adjust_Func)NULL,                   \/* vadvance_adjust *\/\n-    (FT_TSB_Adjust_Func)     NULL,                   \/* tsb_adjust      *\/\n-    (FT_BSB_Adjust_Func)     NULL,                   \/* bsb_adjust      *\/\n-    (FT_VOrg_Adjust_Func)    NULL,                   \/* vorg_adjust     *\/\n+    NULL,                 \/* FT_VAdvance_Adjust_Func vadvance_adjust *\/\n+    NULL,                 \/* FT_TSB_Adjust_Func      tsb_adjust      *\/\n+    NULL,                 \/* FT_BSB_Adjust_Func      bsb_adjust      *\/\n+    NULL,                 \/* FT_VOrg_Adjust_Func     vorg_adjust     *\/\n@@ -1078,1 +1122,2 @@\n-    (FT_Metrics_Adjust_Func) cff_metrics_adjust      \/* metrics_adjust  *\/\n+    cff_metrics_adjust,   \/* FT_Metrics_Adjust_Func  metrics_adjust  *\/\n+    NULL                  \/* FT_Size_Reset_Func      size_reset      *\/\n@@ -1091,5 +1136,5 @@\n-    (FT_Get_Standard_Encoding_Func)cff_get_standard_encoding,\n-    (FT_Load_Private_Dict_Func)    cff_load_private_dict,\n-    (FT_FD_Select_Get_Func)        cff_fd_select_get,\n-    (FT_Blend_Check_Vector_Func)   cff_blend_check_vector,\n-    (FT_Blend_Build_Vector_Func)   cff_blend_build_vector\n+    cff_get_standard_encoding,  \/* FT_Get_Standard_Encoding_Func get_standard_encoding *\/\n+    cff_load_private_dict,      \/* FT_Load_Private_Dict_Func     load_private_dict     *\/\n+    cff_fd_select_get,          \/* FT_FD_Select_Get_Func         fd_select_get         *\/\n+    cff_blend_check_vector,     \/* FT_Blend_Check_Vector_Func    blend_check_vector    *\/\n+    cff_blend_build_vector      \/* FT_Blend_Build_Vector_Func    blend_build_vector    *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffdrivr.c","additions":244,"deletions":199,"binary":false,"changes":443,"status":"modified"},{"patch":"@@ -359,1 +359,3 @@\n-    if ( ( load_flags & FT_LOAD_COLOR ) && face->svg )\n+    if ( ( load_flags & FT_LOAD_NO_SVG ) == 0 &&\n+         ( load_flags & FT_LOAD_COLOR )       &&\n+         face->svg                            )\n@@ -366,1 +368,1 @@\n-      SFNT_Service  sfnt  = (SFNT_Service)face->sfnt;\n+      SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffgload.c","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -403,1 +403,1 @@\n-  \/* entries to C-style strings (this is, null-terminated).       *\/\n+  \/* entries to C-style strings (that is, null-terminated).       *\/\n@@ -1364,1 +1364,1 @@\n-      FT_UInt32        sum;\n+      FT_Fixed         sum;\n@@ -1367,2 +1367,2 @@\n-      \/* convert inputs to 16.16 fixed-point *\/\n-      sum = cff_parse_num( parser, &parser->stack[i + base] ) * 0x10000;\n+      \/* convert inputs to 16.16 fixed point *\/\n+      sum = cff_parse_fixed( parser, &parser->stack[i + base] );\n@@ -1371,1 +1371,2 @@\n-        sum += cff_parse_num( parser, &parser->stack[delta++] ) * *weight++;\n+        sum += FT_MulFix( cff_parse_fixed( parser, &parser->stack[delta++] ),\n+                          *weight++ );\n@@ -1592,1 +1593,1 @@\n-  cff_get_var_blend( CFF_Face     face,\n+  cff_get_var_blend( FT_Face      face,             \/* CFF_Face *\/\n@@ -1598,1 +1599,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -1601,1 +1603,1 @@\n-    return mm->get_var_blend( FT_FACE( face ),\n+    return mm->get_var_blend( face,\n@@ -1610,1 +1612,1 @@\n-  cff_done_blend( CFF_Face  face )\n+  cff_done_blend( FT_Face  face )    \/* CFF_Face *\/\n@@ -1612,1 +1614,2 @@\n-    FT_Service_MultiMasters  mm = (FT_Service_MultiMasters)face->mm;\n+    CFF_Face                 cffface = (CFF_Face)face;\n+    FT_Service_MultiMasters  mm      = (FT_Service_MultiMasters)cffface->mm;\n@@ -1615,2 +1618,2 @@\n-    if (mm)\n-      mm->done_blend( FT_FACE( face ) );\n+    if ( mm )\n+      mm->done_blend( face );\n@@ -1653,7 +1656,0 @@\n-    \/* Zero out the code to gid\/sid mappings. *\/\n-    for ( j = 0; j < 256; j++ )\n-    {\n-      encoding->sids [j] = 0;\n-      encoding->codes[j] = 0;\n-    }\n-\n@@ -1674,0 +1670,4 @@\n+      \/* Zero out the code to gid\/sid mappings. *\/\n+      FT_ARRAY_ZERO( encoding->sids,  256 );\n+      FT_ARRAY_ZERO( encoding->codes, 256 );\n+\n@@ -2015,1 +2015,1 @@\n-                             &subfont->font_dict,\n+                             top,\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffload.c","additions":20,"deletions":20,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -108,1 +108,1 @@\n-  cff_get_var_blend( CFF_Face     face,\n+  cff_get_var_blend( FT_Face      face,\n@@ -115,1 +115,1 @@\n-  cff_done_blend( CFF_Face  face );\n+  cff_done_blend( FT_Face  face );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffload.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -72,2 +72,2 @@\n-    module = FT_Get_Module( size->root.face->driver->root.library,\n-                            \"pshinter\" );\n+    module = FT_Get_Module( font->library, \"pshinter\" );\n+\n@@ -185,2 +185,1 @@\n-    error = funcs->create( cffsize->face->memory, &priv,\n-                             &internal->topfont );\n+    error = funcs->create( memory, &priv, &internal->topfont );\n@@ -196,2 +195,1 @@\n-      error = funcs->create( cffsize->face->memory, &priv,\n-                               &internal->subfonts[i - 1] );\n+      error = funcs->create( memory, &priv, &internal->subfonts[i - 1] );\n@@ -384,2 +382,1 @@\n-      module = FT_Get_Module( slot->face->driver->root.library,\n-                              \"pshinter\" );\n+      module = FT_Get_Module( slot->library, \"pshinter\" );\n@@ -725,3 +722,0 @@\n-        FT_Service_MultiMasters       mm  = (FT_Service_MultiMasters)face->mm;\n-        FT_Service_MetricsVariations  var = (FT_Service_MetricsVariations)face->var;\n-\n@@ -732,1 +726,0 @@\n-             mm                                 &&\n@@ -735,1 +728,1 @@\n-          error = mm->set_instance( cffface, instance_index );\n+          error = FT_Set_Named_Instance( cffface, instance_index );\n@@ -738,3 +731,0 @@\n-\n-          if ( var )\n-            var->metrics_adjust( cffface );\n@@ -1163,1 +1153,1 @@\n-    cff_done_blend( face );\n+    cff_done_blend( cffface );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffobjs.c","additions":7,"deletions":17,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -66,2 +66,0 @@\n-    {\n-      FT_FREE( parser->stack );\n@@ -69,1 +67,0 @@\n-    }\n@@ -79,17 +76,0 @@\n-#ifdef CFF_CONFIG_OPTION_OLD_ENGINE\n-  static void\n-  finalize_t2_strings( FT_Memory  memory,\n-                       void*      data,\n-                       void*      user )\n-  {\n-    CFF_T2_String  t2 = (CFF_T2_String)data;\n-\n-\n-    FT_UNUSED( user );\n-\n-    memory->free( memory, t2->start );\n-    memory->free( memory, data );\n-  }\n-#endif \/* CFF_CONFIG_OPTION_OLD_ENGINE *\/\n-\n-\n@@ -105,4 +85,1 @@\n-    FT_List_Finalize( &parser->t2_strings,\n-                      finalize_t2_strings,\n-                      memory,\n-                      NULL );\n+    FT_List_Finalize( &parser->t2_strings, NULL, memory, NULL );\n@@ -113,44 +90,3 @@\n-  \/* Assuming `first >= last'. *\/\n-\n-  static FT_Error\n-  cff_parser_within_limits( CFF_Parser  parser,\n-                            FT_Byte*    first,\n-                            FT_Byte*    last )\n-  {\n-#ifndef CFF_CONFIG_OPTION_OLD_ENGINE\n-\n-    \/* Fast path for regular FreeType builds with the \"new\" engine; *\/\n-    \/*   `first >= parser->start' can be assumed.                   *\/\n-\n-    FT_UNUSED( first );\n-\n-    return last < parser->limit ? FT_Err_Ok : FT_THROW( Invalid_Argument );\n-\n-#else \/* CFF_CONFIG_OPTION_OLD_ENGINE *\/\n-\n-    FT_ListNode  node;\n-\n-\n-    if ( first >= parser->start &&\n-         last  <  parser->limit )\n-      return FT_Err_Ok;\n-\n-    node = parser->t2_strings.head;\n-\n-    while ( node )\n-    {\n-      CFF_T2_String  t2 = (CFF_T2_String)node->data;\n-\n-\n-      if ( first >= t2->start &&\n-           last  <  t2->limit )\n-        return FT_Err_Ok;\n-\n-      node = node->next;\n-    }\n-\n-    return FT_THROW( Invalid_Argument );\n-\n-#endif \/* CFF_CONFIG_OPTION_OLD_ENGINE *\/\n-  }\n-\n+  \/* The parser limit checks in the next two functions are supposed *\/\n+  \/* to detect the immediate crossing of the stream boundary.  They *\/\n+  \/* shall not be triggered from the distant t2_strings buffers.    *\/\n@@ -160,2 +96,2 @@\n-  cff_parse_integer( CFF_Parser  parser,\n-                     FT_Byte*    start )\n+  cff_parse_integer( FT_Byte*  start,\n+                     FT_Byte*  limit )\n@@ -170,1 +106,1 @@\n-      if ( cff_parser_within_limits( parser, p, p + 1 ) )\n+      if ( p + 2 > limit && limit >= p )\n@@ -177,1 +113,1 @@\n-      if ( cff_parser_within_limits( parser, p, p + 3 ) )\n+      if ( p + 4 > limit && limit >= p )\n@@ -191,1 +127,1 @@\n-      if ( cff_parser_within_limits( parser, p, p ) )\n+      if ( p + 1 > limit && limit >= p )\n@@ -198,1 +134,1 @@\n-      if ( cff_parser_within_limits( parser, p, p ) )\n+      if ( p + 1 > limit && limit >= p )\n@@ -247,4 +183,4 @@\n-  cff_parse_real( CFF_Parser  parser,\n-                  FT_Byte*    start,\n-                  FT_Long     power_ten,\n-                  FT_Long*    scaling )\n+  cff_parse_real( FT_Byte*  start,\n+                  FT_Byte*  limit,\n+                  FT_Long   power_ten,\n+                  FT_Long*  scaling )\n@@ -285,1 +221,1 @@\n-        if ( cff_parser_within_limits( parser, p, p ) )\n+        if ( p + 1 > limit && limit >= p )\n@@ -322,1 +258,1 @@\n-          if ( cff_parser_within_limits( parser, p, p ) )\n+          if ( p + 1 > limit && limit >= p )\n@@ -361,1 +297,1 @@\n-          if ( cff_parser_within_limits( parser, p, p ) )\n+          if ( p + 1 > limit && limit >= p )\n@@ -528,1 +464,1 @@\n-      return cff_parse_real( parser, *d, 0, NULL ) >> 16;\n+      return cff_parse_real( *d, parser->limit, 0, NULL ) >> 16;\n@@ -554,1 +490,1 @@\n-      return cff_parse_integer( parser, *d );\n+      return cff_parse_integer( *d, parser->limit );\n@@ -565,1 +501,19 @@\n-      return cff_parse_real( parser, *d, scaling, NULL );\n+      return cff_parse_real( *d, parser->limit, scaling, NULL );\n+    else if ( **d == 255 )\n+    {\n+      FT_Fixed val = ( ( ( (FT_UInt32)*( d[0] + 1 ) << 24 ) |\n+                         ( (FT_UInt32)*( d[0] + 2 ) << 16 ) |\n+                         ( (FT_UInt32)*( d[0] + 3 ) <<  8 ) |\n+                           (FT_UInt32)*( d[0] + 4 )         ) );\n+\n+      if ( scaling )\n+      {\n+        if ( FT_ABS( val ) > power_ten_limits[scaling] )\n+        {\n+           FT_TRACE4(( \"!!!OVERFLOW:!!!\" ));\n+           return val > 0 ? 0x7FFFFFFFL : -0x7FFFFFFFL;\n+        }\n+        val *= power_tens[scaling];\n+      }\n+      return val;\n+    }\n@@ -568,1 +522,1 @@\n-      FT_Long  val = cff_parse_integer( parser, *d );\n+      FT_Long  val = cff_parse_integer( *d, parser->limit );\n@@ -573,1 +527,1 @@\n-        if ( FT_ABS( val ) > power_ten_limits[scaling] )\n+        if ( ( FT_ABS( val ) << 16 ) > power_ten_limits[scaling] )\n@@ -603,1 +557,1 @@\n-  static FT_Fixed\n+  FT_LOCAL_DEF( FT_Fixed )\n@@ -633,1 +587,1 @@\n-      return cff_parse_real( parser, *d, 0, scaling );\n+      return cff_parse_real( *d, parser->limit, 0, scaling );\n@@ -640,1 +594,1 @@\n-      number = cff_parse_integer( parser, d[0] );\n+      number = cff_parse_integer( *d, parser->limit );\n@@ -689,1 +643,1 @@\n-      \/* We expect a well-formed font matrix, this is, the matrix elements *\/\n+      \/* We expect a well-formed font matrix, that is, the matrix elements *\/\n@@ -1267,5 +1221,2 @@\n-        FT_Fixed*      stack;\n-        FT_ListNode    node;\n-        CFF_T2_String  t2;\n-        FT_Fixed       t2_size;\n-        FT_Byte*       q;\n+        FT_Fixed*  stack;\n+        FT_Byte*   q = NULL;\n@@ -1312,0 +1263,4 @@\n+        \/* The maximum required size is 5 bytes per stack element.     *\/\n+        if ( FT_QALLOC( q, (FT_Long)( 2 * sizeof ( FT_ListNode ) ) +\n+                           5 * ( decoder.top - decoder.stack ) ) )\n+          goto Exit;\n@@ -1313,25 +1268,1 @@\n-        node = (FT_ListNode)memory->alloc( memory,\n-                                           sizeof ( FT_ListNodeRec ) );\n-        if ( !node )\n-          goto Out_Of_Memory_Error;\n-\n-        FT_List_Add( &parser->t2_strings, node );\n-\n-        t2 = (CFF_T2_String)memory->alloc( memory,\n-                                           sizeof ( CFF_T2_StringRec ) );\n-        if ( !t2 )\n-          goto Out_Of_Memory_Error;\n-\n-        node->data = t2;\n-\n-        \/* `5' is the conservative upper bound of required bytes per stack *\/\n-        \/* element.                                                        *\/\n-\n-        t2_size = 5 * ( decoder.top - decoder.stack );\n-\n-        q = (FT_Byte*)memory->alloc( memory, t2_size );\n-        if ( !q )\n-          goto Out_Of_Memory_Error;\n-\n-        t2->start = q;\n-        t2->limit = q + t2_size;\n+        FT_List_Add( &parser->t2_strings, (FT_ListNode)q );\n@@ -1339,1 +1270,1 @@\n-        stack = decoder.stack;\n+        q += 2 * sizeof ( FT_ListNode );\n@@ -1341,1 +1272,1 @@\n-        while ( stack < decoder.top )\n+        for ( stack = decoder.stack; stack < decoder.top; stack++ )\n@@ -1343,2 +1274,1 @@\n-          FT_ULong  num;\n-          FT_Bool   neg;\n+          FT_Long  num = *stack;\n@@ -1352,11 +1282,0 @@\n-          if ( *stack < 0 )\n-          {\n-            num = (FT_ULong)NEG_LONG( *stack );\n-            neg = 1;\n-          }\n-          else\n-          {\n-            num = (FT_ULong)*stack;\n-            neg = 0;\n-          }\n-\n@@ -1365,3 +1284,0 @@\n-            if ( neg )\n-              num = (FT_ULong)-num;\n-\n@@ -1369,4 +1285,4 @@\n-            *q++ = ( num & 0xFF000000U ) >> 24;\n-            *q++ = ( num & 0x00FF0000U ) >> 16;\n-            *q++ = ( num & 0x0000FF00U ) >>  8;\n-            *q++ =   num & 0x000000FFU;\n+            *q++ = (FT_Byte)( ( num >> 24 ) & 0xFF );\n+            *q++ = (FT_Byte)( ( num >> 16 ) & 0xFF );\n+            *q++ = (FT_Byte)( ( num >>  8 ) & 0xFF );\n+            *q++ = (FT_Byte)( ( num       ) & 0xFF );\n@@ -1378,1 +1294,3 @@\n-            if ( neg )\n+            if ( -107 <= num && num <= 107 )\n+              *q++ = (FT_Byte)( num + 139 );\n+            else if ( 108 <= num && num <= 1131 )\n@@ -1380,15 +1298,7 @@\n-              if ( num <= 107 )\n-                *q++ = (FT_Byte)( 139 - num );\n-              else if ( num <= 1131 )\n-              {\n-                *q++ = (FT_Byte)( ( ( num - 108 ) >> 8 ) + 251 );\n-                *q++ = (FT_Byte)( ( num - 108 ) & 0xFF );\n-              }\n-              else\n-              {\n-                num = (FT_ULong)-num;\n-\n-                *q++ = 28;\n-                *q++ = (FT_Byte)( num >> 8 );\n-                *q++ = (FT_Byte)( num & 0xFF );\n-              }\n+              *q++ = (FT_Byte)( ( ( num - 108 ) >> 8 ) + 247 );\n+              *q++ = (FT_Byte)( ( num - 108 ) & 0xFF );\n+            }\n+            else if ( -1131 <= num && num <= -108 )\n+            {\n+              *q++ = (FT_Byte)( ( ( -num - 108 ) >> 8 ) + 251 );\n+              *q++ = (FT_Byte)( ( -num - 108) & 0xFF );\n@@ -1398,13 +1308,3 @@\n-              if ( num <= 107 )\n-                *q++ = (FT_Byte)( num + 139 );\n-              else if ( num <= 1131 )\n-              {\n-                *q++ = (FT_Byte)( ( ( num - 108 ) >> 8 ) + 247 );\n-                *q++ = (FT_Byte)( ( num - 108 ) & 0xFF );\n-              }\n-              else\n-              {\n-                *q++ = 28;\n-                *q++ = (FT_Byte)( num >> 8 );\n-                *q++ = (FT_Byte)( num & 0xFF );\n-              }\n+              *q++ = 28;\n+              *q++ = (FT_Byte)( num >> 8 );\n+              *q++ = (FT_Byte)( num & 0xFF );\n@@ -1413,2 +1313,0 @@\n-\n-          stack++;\n@@ -1601,6 +1499,0 @@\n-#ifdef CFF_CONFIG_OPTION_OLD_ENGINE\n-  Out_Of_Memory_Error:\n-    error = FT_THROW( Out_Of_Memory );\n-    goto Exit;\n-#endif\n-\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffparse.c","additions":71,"deletions":179,"binary":false,"changes":250,"status":"modified"},{"patch":"@@ -79,0 +79,4 @@\n+  FT_LOCAL( FT_Fixed )\n+  cff_parse_fixed( CFF_Parser  parser,\n+                   FT_Byte**   d );\n+\n@@ -136,9 +140,0 @@\n-#ifdef CFF_CONFIG_OPTION_OLD_ENGINE\n-  typedef struct  CFF_T2_String_\n-  {\n-    FT_Byte*  start;\n-    FT_Byte*  limit;\n-\n-  } CFF_T2_StringRec, *CFF_T2_String;\n-#endif \/* CFF_CONFIG_OPTION_OLD_ENGINE *\/\n-\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cff\/cffparse.h","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -43,0 +43,111 @@\n+  \/*\n+   * A helper function to compute FD number (`fd_select`), the offset to the\n+   * head of the glyph data (`off1`), and the offset to the and of the glyph\n+   * data (`off2`).\n+   *\n+   * The number how many times `cid_get_offset` is invoked can be controlled\n+   * by the number of non-NULL arguments.  If `fd_select` is non-NULL but\n+   * `off1` and `off2` are NULL, `cid_get_offset` is invoked only for\n+   * `fd_select`; `off1` and `off2` are not validated.\n+   *\n+   *\/\n+  FT_LOCAL_DEF( FT_Error )\n+  cid_compute_fd_and_offsets( CID_Face   face,\n+                              FT_UInt    glyph_index,\n+                              FT_ULong*  fd_select_p,\n+                              FT_ULong*  off1_p,\n+                              FT_ULong*  off2_p )\n+  {\n+    FT_Error  error = FT_Err_Ok;\n+\n+    CID_FaceInfo  cid       = &face->cid;\n+    FT_Stream     stream    =  face->cid_stream;\n+    FT_UInt       entry_len = cid->fd_bytes + cid->gd_bytes;\n+\n+    FT_Byte*  p;\n+    FT_Bool   need_frame_exit = 0;\n+    FT_ULong  fd_select, off1, off2;\n+\n+\n+    \/* For ordinary fonts, read the CID font dictionary index *\/\n+    \/* and charstring offset from the CIDMap.                 *\/\n+\n+    if ( FT_STREAM_SEEK( cid->data_offset + cid->cidmap_offset +\n+                         glyph_index * entry_len )               ||\n+         FT_FRAME_ENTER( 2 * entry_len )                         )\n+      goto Exit;\n+\n+    need_frame_exit = 1;\n+\n+    p         = (FT_Byte*)stream->cursor;\n+    fd_select = cid_get_offset( &p, cid->fd_bytes );\n+    off1      = cid_get_offset( &p, cid->gd_bytes );\n+\n+    p    += cid->fd_bytes;\n+    off2  = cid_get_offset( &p, cid->gd_bytes );\n+\n+    if ( fd_select_p )\n+      *fd_select_p = fd_select;\n+    if ( off1_p )\n+      *off1_p = off1;\n+    if ( off2_p )\n+      *off2_p = off2;\n+\n+    if ( fd_select >= cid->num_dicts )\n+    {\n+      \/*\n+       * fd_select == 0xFF is often used to indicate that the CID\n+       * has no charstring to be rendered, similar to GID = 0xFFFF\n+       * in TrueType fonts.\n+       *\/\n+      if ( ( cid->fd_bytes == 1 && fd_select == 0xFFU   ) ||\n+           ( cid->fd_bytes == 2 && fd_select == 0xFFFFU ) )\n+      {\n+        FT_TRACE1(( \"cid_load_glyph: fail for glyph index %d:\\n\",\n+                    glyph_index ));\n+        FT_TRACE1(( \"                FD number %ld is the maximum\\n\",\n+                    fd_select ));\n+        FT_TRACE1(( \"                integer fitting into %d byte%s\\n\",\n+                    cid->fd_bytes, cid->fd_bytes == 1 ? \"\" : \"s\" ));\n+      }\n+      else\n+      {\n+        FT_TRACE0(( \"cid_load_glyph: fail for glyph index %d:\\n\",\n+                    glyph_index ));\n+        FT_TRACE0(( \"                FD number %ld is larger\\n\",\n+                    fd_select ));\n+        FT_TRACE0(( \"                than number of dictionaries (%d)\\n\",\n+                    cid->num_dicts ));\n+      }\n+\n+      error = FT_THROW( Invalid_Offset );\n+      goto Exit;\n+    }\n+    else if ( off2 > stream->size )\n+    {\n+      FT_TRACE0(( \"cid_load_glyph: fail for glyph index %d:\\n\",\n+                  glyph_index ));\n+      FT_TRACE0(( \"               end of the glyph data\\n\" ));\n+      FT_TRACE0(( \"               is beyond the data stream\\n\" ));\n+\n+      error = FT_THROW( Invalid_Offset );\n+      goto Exit;\n+    }\n+    else if ( off1 > off2 )\n+    {\n+      FT_TRACE0(( \"cid_load_glyph: fail for glyph index %d:\\n\",\n+                  glyph_index ));\n+      FT_TRACE0(( \"                the end position of glyph data\\n\" ));\n+      FT_TRACE0(( \"                is set before the start position\\n\" ));\n+\n+      error = FT_THROW( Invalid_Offset );\n+    }\n+\n+    Exit:\n+      if ( need_frame_exit )\n+        FT_FRAME_EXIT();\n+\n+    return error;\n+  }\n+\n+\n@@ -100,3 +211,0 @@\n-\n-    \/* For ordinary fonts read the CID font dictionary index *\/\n-    \/* and charstring offset from the CIDMap.                *\/\n@@ -104,1 +212,0 @@\n-      FT_UInt   entry_len = cid->fd_bytes + cid->gd_bytes;\n@@ -108,18 +215,3 @@\n-      if ( FT_STREAM_SEEK( cid->data_offset + cid->cidmap_offset +\n-                           glyph_index * entry_len )               ||\n-           FT_FRAME_ENTER( 2 * entry_len )                         )\n-        goto Exit;\n-\n-      p         = (FT_Byte*)stream->cursor;\n-      fd_select = cid_get_offset( &p, cid->fd_bytes );\n-      off1      = cid_get_offset( &p, cid->gd_bytes );\n-      p        += cid->fd_bytes;\n-      off2      = cid_get_offset( &p, cid->gd_bytes );\n-      FT_FRAME_EXIT();\n-\n-      if ( fd_select >= cid->num_dicts ||\n-           off2 > stream->size         ||\n-           off1 > off2                 )\n-      {\n-        FT_TRACE0(( \"cid_load_glyph: invalid glyph stream offsets\\n\" ));\n-        error = FT_THROW( Invalid_Offset );\n+      error = cid_compute_fd_and_offsets( face, glyph_index,\n+                                          &fd_select, &off1, &off2 );\n+      if ( error )\n@@ -127,1 +219,0 @@\n-      }\n@@ -164,1 +255,3 @@\n-        FT_TRACE0(( \"cid_load_glyph: invalid glyph stream offsets\\n\" ));\n+        FT_TRACE0(( \"cid_load_glyph: fail for glyph_index=%d, \"\n+                    \"offset to the charstring is beyond glyph length\\n\",\n+                    glyph_index ));\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cid\/cidgload.c","additions":117,"deletions":24,"binary":false,"changes":141,"status":"modified"},{"patch":"@@ -45,0 +45,8 @@\n+  FT_LOCAL( FT_Error )\n+  cid_compute_fd_and_offsets( CID_Face   face,\n+                              FT_UInt    glyph_index,\n+                              FT_ULong*  fd_select_p,\n+                              FT_ULong*  off1_p,\n+                              FT_ULong*  off2_p );\n+\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cid\/cidgload.h","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -158,2 +158,2 @@\n-  cid_parse_font_matrix( CID_Face     face,\n-                         CID_Parser*  parser )\n+  cid_parse_font_matrix( FT_Face  face,     \/* CID_Face *\/\n+                         void*    parser_ )\n@@ -161,0 +161,2 @@\n+    CID_Face      cidface = (CID_Face)face;\n+    CID_Parser*   parser  = (CID_Parser*)parser_;\n@@ -162,1 +164,0 @@\n-    FT_Face       root = (FT_Face)&face->root;\n@@ -167,1 +168,1 @@\n-    if ( parser->num_dict < face->cid.num_dicts )\n+    if ( parser->num_dict < cidface->cid.num_dicts )\n@@ -174,1 +175,1 @@\n-      dict   = face->cid.font_dicts + parser->num_dict;\n+      dict   = cidface->cid.font_dicts + parser->num_dict;\n@@ -207,1 +208,1 @@\n-        root->units_per_EM = (FT_UShort)FT_DivFix( 1000, temp_scale );\n+        face->units_per_EM = (FT_UShort)FT_DivFix( 1000, temp_scale );\n@@ -240,2 +241,2 @@\n-  parse_fd_array( CID_Face     face,\n-                  CID_Parser*  parser )\n+  parse_fd_array( FT_Face  face,     \/* CID_Face *\/\n+                  void*    parser_ )\n@@ -243,4 +244,6 @@\n-    CID_FaceInfo  cid    = &face->cid;\n-    FT_Memory     memory = face->root.memory;\n-    FT_Stream     stream = parser->stream;\n-    FT_Error      error  = FT_Err_Ok;\n+    CID_Face      cidface = (CID_Face)face;\n+    CID_Parser*   parser  = (CID_Parser*)parser_;\n+    CID_FaceInfo  cid     = &cidface->cid;\n+    FT_Memory     memory  = FT_FACE_MEMORY( face );\n+    FT_Stream     stream  = parser->stream;\n+    FT_Error      error   = FT_Err_Ok;\n@@ -316,1 +319,1 @@\n-  \/* changed).  We simply copy the value.                         *\/\n+  \/* be thus changed).  We simply copy the value.                 *\/\n@@ -319,2 +322,2 @@\n-  parse_expansion_factor( CID_Face     face,\n-                          CID_Parser*  parser )\n+  parse_expansion_factor( FT_Face  face,    \/* CID_Face *\/\n+                          void*    parser_ )\n@@ -322,0 +325,2 @@\n+    CID_Face      cidface = (CID_Face)face;\n+    CID_Parser*   parser  = (CID_Parser*)parser_;\n@@ -325,1 +330,1 @@\n-    if ( parser->num_dict < face->cid.num_dicts )\n+    if ( parser->num_dict < cidface->cid.num_dicts )\n@@ -327,1 +332,1 @@\n-      dict = face->cid.font_dicts + parser->num_dict;\n+      dict = cidface->cid.font_dicts + parser->num_dict;\n@@ -344,2 +349,2 @@\n-  parse_font_name( CID_Face     face,\n-                   CID_Parser*  parser )\n+  parse_font_name( FT_Face  face,     \/* CID_Face *\/\n+                   void*    parser_ )\n@@ -348,1 +353,5 @@\n-    if ( parser->num_dict < face->cid.num_dicts )\n+    CID_Face      cidface = (CID_Face)face;\n+    CID_Parser*   parser  = (CID_Parser*)parser_;\n+\n+\n+    if ( parser->num_dict < cidface->cid.num_dicts )\n@@ -364,1 +373,1 @@\n-    FT_UNUSED( parser );\n+    FT_UNUSED( parser_ );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cid\/cidload.c","additions":30,"deletions":21,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -72,2 +72,1 @@\n-      module = FT_Get_Module( slot->face->driver->root.library,\n-                              \"pshinter\" );\n+      module = FT_Get_Module( slot->library, \"pshinter\" );\n@@ -271,1 +270,2 @@\n-   *     The source font stream.\n+   *     Dummy argument for compatibility with the `FT_Face_InitFunc` API.\n+   *     Ignored.  The stream should be passed through `face->root.stream`.\n@@ -378,0 +378,8 @@\n+      \/*\n+       * For the sfnt-wrapped CID fonts for MacOS, currently,\n+       * its `cmap' tables are ignored, and the content in\n+       * its `CID ' table is treated the same as naked CID-keyed\n+       * font.  See ft_lookup_PS_in_sfnt_stream().\n+       *\/\n+      cidface->face_flags |= FT_FACE_FLAG_CID_KEYED;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cid\/cidobjs.c","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -217,3 +217,2 @@\n-        if ( ft_strncmp( (char*)arg1, \"(Hex)\", 5 ) == 0 )\n-        {\n-          FT_Long  tmp = ft_strtol( (const char *)arg2, NULL, 10 );\n+        T1_TokenRec  type_token;\n+        FT_Long      binary_length;\n@@ -222,1 +221,8 @@\n-          if ( tmp < 0 )\n+        parser->root.cursor = arg1;\n+        cid_parser_to_token( parser, &type_token );\n+        if ( type_token.limit - type_token.start == 5              &&\n+             ft_memcmp( (char*)type_token.start, \"(Hex)\", 5 ) == 0 )\n+        {\n+          parser->root.cursor = arg2;\n+          binary_length = cid_parser_to_int( parser );\n+          if ( binary_length < 0 )\n@@ -228,1 +234,1 @@\n-            parser->binary_length = (FT_ULong)tmp;\n+            parser->binary_length = (FT_ULong)binary_length;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cid\/cidparse.c","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -51,2 +51,2 @@\n-  static const char*\n-  cid_get_postscript_name( CID_Face  face )\n+  FT_CALLBACK_DEF( const char* )\n+  cid_get_postscript_name( FT_Face  face )    \/* CID_Face *\/\n@@ -54,1 +54,2 @@\n-    const char*  result = face->cid.cid_font_name;\n+    CID_Face     cidface = (CID_Face)face;\n+    const char*  result  = cidface->cid.cid_font_name;\n@@ -75,2 +76,2 @@\n-  static FT_Error\n-  cid_ps_get_font_info( FT_Face          face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cid_ps_get_font_info( FT_Face          face,        \/* CID_Face *\/\n@@ -79,1 +80,1 @@\n-    *afont_info = ((CID_Face)face)->cid.font_info;\n+    *afont_info = ( (CID_Face)face )->cid.font_info;\n@@ -84,3 +85,4 @@\n-  static FT_Error\n-  cid_ps_get_font_extra( FT_Face          face,\n-                        PS_FontExtraRec*  afont_extra )\n+\n+  FT_CALLBACK_DEF( FT_Error )\n+  cid_ps_get_font_extra( FT_Face           face,         \/* CID_Face *\/\n+                         PS_FontExtraRec*  afont_extra )\n@@ -88,1 +90,1 @@\n-    *afont_extra = ((CID_Face)face)->font_extra;\n+    *afont_extra = ( (CID_Face)face )->font_extra;\n@@ -93,0 +95,1 @@\n+\n@@ -95,2 +98,2 @@\n-    (PS_GetFontInfoFunc)   cid_ps_get_font_info,   \/* ps_get_font_info    *\/\n-    (PS_GetFontExtraFunc)  cid_ps_get_font_extra,  \/* ps_get_font_extra   *\/\n+    cid_ps_get_font_info,   \/* PS_GetFontInfoFunc    ps_get_font_info    *\/\n+    cid_ps_get_font_extra,  \/* PS_GetFontExtraFunc   ps_get_font_extra   *\/\n@@ -98,1 +101,1 @@\n-    (PS_HasGlyphNamesFunc) NULL,                   \/* ps_has_glyph_names  *\/\n+    NULL,                   \/* PS_HasGlyphNamesFunc  ps_has_glyph_names  *\/\n@@ -100,1 +103,1 @@\n-    (PS_GetFontPrivateFunc)NULL,                   \/* ps_get_font_private *\/\n+    NULL,                   \/* PS_GetFontPrivateFunc ps_get_font_private *\/\n@@ -102,1 +105,1 @@\n-    (PS_GetFontValueFunc)  NULL                    \/* ps_get_font_value   *\/\n+    NULL                    \/* PS_GetFontValueFunc   ps_get_font_value   *\/\n@@ -110,2 +113,2 @@\n-  static FT_Error\n-  cid_get_ros( CID_Face      face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cid_get_ros( FT_Face       face,        \/* CID_Face *\/\n@@ -116,1 +119,2 @@\n-    CID_FaceInfo  cid = &face->cid;\n+    CID_Face      cidface = (CID_Face)face;\n+    CID_FaceInfo  cid     = &cidface->cid;\n@@ -132,2 +136,2 @@\n-  static FT_Error\n-  cid_get_is_cid( CID_Face  face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cid_get_is_cid( FT_Face   face,    \/* CID_Face *\/\n@@ -140,0 +144,6 @@\n+    \/*\n+     * XXX: If the ROS is Adobe-Identity-H or -V,\n+     * the font has no reliable information about\n+     * its glyph collection.  Should we not set\n+     * *is_cid in such cases?\n+     *\/\n@@ -141,1 +151,1 @@\n-      *is_cid = 1; \/* cid driver is only used for CID keyed fonts *\/\n+      *is_cid = 1;\n@@ -147,2 +157,2 @@\n-  static FT_Error\n-  cid_get_cid_from_glyph_index( CID_Face  face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  cid_get_cid_from_glyph_index( FT_Face   face,        \/* CID_Face *\/\n@@ -152,6 +162,16 @@\n-    FT_Error  error = FT_Err_Ok;\n-    FT_UNUSED( face );\n-\n-\n-    if ( cid )\n-      *cid = glyph_index; \/* identity mapping *\/\n+    FT_Error  error   = FT_Err_Ok;\n+    CID_Face  cidface = (CID_Face)face;\n+\n+\n+    \/*\n+     * Currently, FreeType does not support incrementally-defined, CID-keyed\n+     * fonts that store the glyph description data in a `\/GlyphDirectory`\n+     * array or dictionary.  Fonts loaded by the incremental loading feature\n+     * are thus not handled here.\n+     *\/\n+    error = cid_compute_fd_and_offsets( cidface, glyph_index,\n+                                        NULL, NULL, NULL );\n+    if ( error )\n+      *cid = 0;\n+    else\n+      *cid = glyph_index;\n@@ -165,6 +185,6 @@\n-    (FT_CID_GetRegistryOrderingSupplementFunc)\n-      cid_get_ros,                             \/* get_ros                  *\/\n-    (FT_CID_GetIsInternallyCIDKeyedFunc)\n-      cid_get_is_cid,                          \/* get_is_cid               *\/\n-    (FT_CID_GetCIDFromGlyphIndexFunc)\n-      cid_get_cid_from_glyph_index             \/* get_cid_from_glyph_index *\/\n+    cid_get_ros,\n+      \/* FT_CID_GetRegistryOrderingSupplementFunc get_ros                  *\/\n+    cid_get_is_cid,\n+      \/* FT_CID_GetIsInternallyCIDKeyedFunc       get_is_cid               *\/\n+    cid_get_cid_from_glyph_index\n+      \/* FT_CID_GetCIDFromGlyphIndexFunc          get_cid_from_glyph_index *\/\n@@ -182,3 +202,3 @@\n-    (FT_Properties_SetFunc)ps_property_set,      \/* set_property *\/\n-    (FT_Properties_GetFunc)ps_property_get )     \/* get_property *\/\n-\n+    ps_property_set,  \/* FT_Properties_SetFunc set_property *\/\n+    ps_property_get   \/* FT_Properties_GetFunc get_property *\/\n+  )\n@@ -212,1 +232,0 @@\n-\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/cid\/cidriver.c","additions":58,"deletions":39,"binary":false,"changes":97,"status":"modified"},{"patch":"@@ -1089,1 +1089,1 @@\n-  typedef int  _afm_parse_dummy;\n+  typedef int  afm_parse_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/psaux\/afmparse.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2156,1 +2156,1 @@\n-            FT_TRACE4(( \" callsubr (idx %d, entering level %ld)\\n\",\n+            FT_TRACE4(( \" callsubr (idx %d, entering level %td)\\n\",\n@@ -2200,1 +2200,1 @@\n-            FT_TRACE4(( \" callgsubr (idx %d, entering level %ld)\\n\",\n+            FT_TRACE4(( \" callgsubr (idx %d, entering level %td)\\n\",\n@@ -2239,1 +2239,1 @@\n-          FT_TRACE4(( \" return (leaving level %ld)\\n\",\n+          FT_TRACE4(( \" return (leaving level %td)\\n\",\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/psaux\/cffdecode.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -313,1 +313,1 @@\n-      FT_TRACE6(( \"  %3ld    %7.2f  %7.2f  %5d  %s%s%s%s\\n\",\n+      FT_TRACE6(( \"  %3zu    %7.2f  %7.2f  %5d  %s%s%s%s\\n\",\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/psaux\/pshints.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-  t1_cmap_std_done( T1_CMapStd  cmap )\n+  t1_cmap_std_done( FT_CMap  cmap_ )   \/* T1_CMapStd *\/\n@@ -55,0 +55,3 @@\n+    T1_CMapStd  cmap = (T1_CMapStd)cmap_;\n+\n+\n@@ -63,2 +66,2 @@\n-  t1_cmap_std_char_index( T1_CMapStd  cmap,\n-                          FT_UInt32   char_code )\n+  t1_cmap_std_char_index( FT_CMap    cmap,       \/* T1_CMapStd *\/\n+                          FT_UInt32  char_code )\n@@ -66,1 +69,2 @@\n-    FT_UInt  result = 0;\n+    T1_CMapStd  t1cmap = (T1_CMapStd)cmap;\n+    FT_UInt     result = 0;\n@@ -76,2 +80,2 @@\n-      code       = cmap->code_to_sid[char_code];\n-      glyph_name = cmap->sid_to_string( code );\n+      code       = t1cmap->code_to_sid[char_code];\n+      glyph_name = t1cmap->sid_to_string( code );\n@@ -80,1 +84,1 @@\n-      for ( n = 0; n < cmap->num_glyphs; n++ )\n+      for ( n = 0; n < t1cmap->num_glyphs; n++ )\n@@ -82,1 +86,1 @@\n-        const char* gname = cmap->glyph_names[n];\n+        const char* gname = t1cmap->glyph_names[n];\n@@ -98,3 +102,3 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  t1_cmap_std_char_next( T1_CMapStd   cmap,\n-                         FT_UInt32   *pchar_code )\n+  FT_CALLBACK_DEF( FT_UInt )\n+  t1_cmap_std_char_next( FT_CMap     cmap,\n+                         FT_UInt32  *pchar_code )\n@@ -123,1 +127,1 @@\n-  t1_cmap_standard_init( T1_CMapStd  cmap,\n+  t1_cmap_standard_init( FT_CMap     cmap,     \/* T1_CMapStd *\/\n@@ -126,0 +130,1 @@\n+    T1_CMapStd  t1cmap = (T1_CMapStd)cmap;\n@@ -129,1 +134,1 @@\n-    t1_cmap_std_init( cmap, 0 );\n+    t1_cmap_std_init( t1cmap, 0 );\n@@ -153,1 +158,1 @@\n-  t1_cmap_expert_init( T1_CMapStd  cmap,\n+  t1_cmap_expert_init( FT_CMap     cmap,     \/* T1_CMapStd *\/\n@@ -156,0 +161,1 @@\n+    T1_CMapStd  t1cmap = (T1_CMapStd)cmap;\n@@ -159,1 +165,1 @@\n-    t1_cmap_std_init( cmap, 1 );\n+    t1_cmap_std_init( t1cmap, 1 );\n@@ -191,2 +197,2 @@\n-  t1_cmap_custom_init( T1_CMapCustom  cmap,\n-                       FT_Pointer     pointer )\n+  t1_cmap_custom_init( FT_CMap     cmap,     \/* T1_CMapCustom *\/\n+                       FT_Pointer  pointer )\n@@ -194,2 +200,3 @@\n-    T1_Face      face     = (T1_Face)FT_CMAP_FACE( cmap );\n-    T1_Encoding  encoding = &face->type1.encoding;\n+    T1_CMapCustom  t1cmap   = (T1_CMapCustom)cmap;\n+    T1_Face        face     = (T1_Face)FT_CMAP_FACE( cmap );\n+    T1_Encoding    encoding = &face->type1.encoding;\n@@ -200,3 +207,3 @@\n-    cmap->first   = (FT_UInt)encoding->code_first;\n-    cmap->count   = (FT_UInt)encoding->code_last - cmap->first;\n-    cmap->indices = encoding->char_index;\n+    t1cmap->first   = (FT_UInt)encoding->code_first;\n+    t1cmap->count   = (FT_UInt)encoding->code_last - t1cmap->first;\n+    t1cmap->indices = encoding->char_index;\n@@ -204,1 +211,1 @@\n-    FT_ASSERT( cmap->indices );\n+    FT_ASSERT( t1cmap->indices );\n@@ -212,1 +219,1 @@\n-  t1_cmap_custom_done( T1_CMapCustom  cmap )\n+  t1_cmap_custom_done( FT_CMap  cmap )   \/* T1_CMapCustom *\/\n@@ -214,3 +221,6 @@\n-    cmap->indices = NULL;\n-    cmap->first   = 0;\n-    cmap->count   = 0;\n+    T1_CMapCustom  t1cmap = (T1_CMapCustom)cmap;\n+\n+\n+    t1cmap->indices = NULL;\n+    t1cmap->first   = 0;\n+    t1cmap->count   = 0;\n@@ -221,2 +231,2 @@\n-  t1_cmap_custom_char_index( T1_CMapCustom  cmap,\n-                             FT_UInt32      char_code )\n+  t1_cmap_custom_char_index( FT_CMap    cmap,       \/* T1_CMapCustom *\/\n+                             FT_UInt32  char_code )\n@@ -224,1 +234,2 @@\n-    FT_UInt    result = 0;\n+    T1_CMapCustom  t1cmap = (T1_CMapCustom)cmap;\n+    FT_UInt        result = 0;\n@@ -227,3 +238,3 @@\n-    if ( ( char_code >= cmap->first )                  &&\n-         ( char_code < ( cmap->first + cmap->count ) ) )\n-      result = cmap->indices[char_code];\n+    if ( char_code >= t1cmap->first                    &&\n+         char_code < ( t1cmap->first + t1cmap->count ) )\n+      result = t1cmap->indices[char_code];\n@@ -235,3 +246,3 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  t1_cmap_custom_char_next( T1_CMapCustom  cmap,\n-                            FT_UInt32     *pchar_code )\n+  FT_CALLBACK_DEF( FT_UInt )\n+  t1_cmap_custom_char_next( FT_CMap     cmap,        \/* T1_CMapCustom *\/\n+                            FT_UInt32  *pchar_code )\n@@ -239,2 +250,3 @@\n-    FT_UInt    result = 0;\n-    FT_UInt32  char_code = *pchar_code;\n+    T1_CMapCustom  t1cmap    = (T1_CMapCustom)cmap;\n+    FT_UInt        result    = 0;\n+    FT_UInt32      char_code = *pchar_code;\n@@ -245,2 +257,2 @@\n-    if ( char_code < cmap->first )\n-      char_code = cmap->first;\n+    if ( char_code < t1cmap->first )\n+      char_code = t1cmap->first;\n@@ -248,1 +260,1 @@\n-    for ( ; char_code < ( cmap->first + cmap->count ); char_code++ )\n+    for ( ; char_code < ( t1cmap->first + t1cmap->count ); char_code++ )\n@@ -250,1 +262,1 @@\n-      result = cmap->indices[char_code];\n+      result = t1cmap->indices[char_code];\n@@ -290,1 +302,1 @@\n-  psaux_get_glyph_name( T1_Face  face,\n+  psaux_get_glyph_name( void*    face_,\n@@ -293,0 +305,3 @@\n+    T1_Face  face = (T1_Face)face_;\n+\n+\n@@ -298,2 +313,2 @@\n-  t1_cmap_unicode_init( PS_Unicodes  unicodes,\n-                        FT_Pointer   pointer )\n+  t1_cmap_unicode_init( FT_CMap     cmap,     \/* PS_Unicodes *\/\n+                        FT_Pointer  pointer )\n@@ -301,3 +316,4 @@\n-    T1_Face             face    = (T1_Face)FT_CMAP_FACE( unicodes );\n-    FT_Memory           memory  = FT_FACE_MEMORY( face );\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)face->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    T1_Face             face     = (T1_Face)FT_CMAP_FACE( cmap );\n+    FT_Memory           memory   = FT_FACE_MEMORY( face );\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)face->psnames;\n@@ -314,1 +330,1 @@\n-                                   (PS_GetGlyphNameFunc)&psaux_get_glyph_name,\n+                                   &psaux_get_glyph_name,\n@@ -321,1 +337,1 @@\n-  t1_cmap_unicode_done( PS_Unicodes  unicodes )\n+  t1_cmap_unicode_done( FT_CMap  cmap )   \/* PS_Unicodes *\/\n@@ -323,2 +339,3 @@\n-    FT_Face    face   = FT_CMAP_FACE( unicodes );\n-    FT_Memory  memory = FT_FACE_MEMORY( face );\n+    PS_Unicodes  unicodes = (PS_Unicodes)cmap;\n+    FT_Face      face     = FT_CMAP_FACE( cmap );\n+    FT_Memory    memory   = FT_FACE_MEMORY( face );\n@@ -333,2 +350,2 @@\n-  t1_cmap_unicode_char_index( PS_Unicodes  unicodes,\n-                              FT_UInt32    char_code )\n+  t1_cmap_unicode_char_index( FT_CMap    cmap,       \/* PS_Unicodes *\/\n+                              FT_UInt32  char_code )\n@@ -336,2 +353,3 @@\n-    T1_Face             face    = (T1_Face)FT_CMAP_FACE( unicodes );\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)face->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    T1_Face             face     = (T1_Face)FT_CMAP_FACE( cmap );\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)face->psnames;\n@@ -344,3 +362,3 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  t1_cmap_unicode_char_next( PS_Unicodes  unicodes,\n-                             FT_UInt32   *pchar_code )\n+  FT_CALLBACK_DEF( FT_UInt )\n+  t1_cmap_unicode_char_next( FT_CMap     cmap,        \/* PS_Unicodes *\/\n+                             FT_UInt32  *pchar_code )\n@@ -348,2 +366,3 @@\n-    T1_Face             face    = (T1_Face)FT_CMAP_FACE( unicodes );\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)face->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    T1_Face             face     = (T1_Face)FT_CMAP_FACE( cmap );\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)face->psnames;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/psaux\/t1cmap.c","additions":80,"deletions":61,"binary":false,"changes":141,"status":"modified"},{"patch":"@@ -523,1 +523,1 @@\n-        FT_TRACE5(( \" (%ld)\", decoder->top - decoder->stack ));\n+        FT_TRACE5(( \" (%td)\", decoder->top - decoder->stack ));\n@@ -1168,1 +1168,1 @@\n-                        \" (seen %ld, expected %d)\\n\",\n+                        \" (seen %td, expected %d)\\n\",\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/psaux\/t1decode.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -519,1 +519,1 @@\n-            \/* keep original relation between hints, this is, use the *\/\n+            \/* keep original relation between hints, that is, use the *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/pshinter\/pshalgo.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-  ps_hinter_done( PS_Hinter_Module  module )\n+  ps_hinter_done( FT_Module  module_ )    \/* PS_Hinter_Module *\/\n@@ -42,0 +42,3 @@\n+    PS_Hinter_Module  module = (PS_Hinter_Module)module_;\n+\n+\n@@ -51,1 +54,1 @@\n-  ps_hinter_init( PS_Hinter_Module  module )\n+  ps_hinter_init( FT_Module  module_ )    \/* PS_Hinter_Module *\/\n@@ -53,0 +56,2 @@\n+    PS_Hinter_Module  module = (PS_Hinter_Module)module_;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/pshinter\/pshmod.c","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -854,1 +854,1 @@\n-  ps_hints_t1stem3( PS_Hints   hints,\n+  ps_hints_t1stem3( T1_Hints   hints_,    \/* PS_Hints *\/\n@@ -858,0 +858,1 @@\n+    PS_Hints  hints = (PS_Hints)hints_;\n@@ -917,1 +918,1 @@\n-  ps_hints_t1reset( PS_Hints  hints,\n+  ps_hints_t1reset( T1_Hints  hints_,     \/* PS_Hints *\/\n@@ -920,0 +921,1 @@\n+    PS_Hints  hints = (PS_Hints)hints_;\n@@ -956,1 +958,1 @@\n-  ps_hints_t2mask( PS_Hints        hints,\n+  ps_hints_t2mask( T2_Hints        hints_,    \/* PS_Hints *\/\n@@ -961,0 +963,1 @@\n+    PS_Hints  hints = (PS_Hints)hints_;\n@@ -1002,1 +1005,1 @@\n-  ps_hints_t2counter( PS_Hints        hints,\n+  ps_hints_t2counter( T2_Hints        hints_,    \/* PS_Hints *\/\n@@ -1006,0 +1009,1 @@\n+    PS_Hints  hints = (PS_Hints)hints_;\n@@ -1090,0 +1094,7 @@\n+  static FT_Error\n+  t1_hints_close( T1_Hints  hints,\n+                  FT_UInt   end_point )\n+  {\n+    return ps_hints_close( (PS_Hints)hints, end_point );\n+  }\n+\n@@ -1105,0 +1116,10 @@\n+  static FT_Error\n+  t1_hints_apply( T1_Hints        hints,\n+                  FT_Outline*     outline,\n+                  PSH_Globals     globals,\n+                  FT_Render_Mode  hint_mode )\n+  {\n+    return ps_hints_apply( (PS_Hints)hints, outline, globals, hint_mode );\n+  }\n+\n+\n@@ -1111,1 +1132,1 @@\n-    funcs->close = (T1_Hints_CloseFunc)   ps_hints_close;\n+    funcs->close = (T1_Hints_CloseFunc)   t1_hints_close;\n@@ -1115,1 +1136,1 @@\n-    funcs->apply = (T1_Hints_ApplyFunc)   ps_hints_apply;\n+    funcs->apply = (T1_Hints_ApplyFunc)   t1_hints_apply;\n@@ -1134,0 +1155,8 @@\n+  static FT_Error\n+  t2_hints_close( T2_Hints  hints,\n+                  FT_UInt   end_point )\n+  {\n+    return ps_hints_close( (PS_Hints)hints, end_point );\n+  }\n+\n+\n@@ -1171,0 +1200,10 @@\n+  static FT_Error\n+  t2_hints_apply( T2_Hints        hints,\n+                  FT_Outline*     outline,\n+                  PSH_Globals     globals,\n+                  FT_Render_Mode  hint_mode )\n+  {\n+    return ps_hints_apply( (PS_Hints)hints, outline, globals, hint_mode );\n+  }\n+\n+\n@@ -1176,6 +1215,6 @@\n-    funcs->open    = (T2_Hints_OpenFunc)   t2_hints_open;\n-    funcs->close   = (T2_Hints_CloseFunc)  ps_hints_close;\n-    funcs->stems   = (T2_Hints_StemsFunc)  t2_hints_stems;\n-    funcs->hintmask= (T2_Hints_MaskFunc)   ps_hints_t2mask;\n-    funcs->counter = (T2_Hints_CounterFunc)ps_hints_t2counter;\n-    funcs->apply   = (T2_Hints_ApplyFunc)  ps_hints_apply;\n+    funcs->open     = (T2_Hints_OpenFunc)   t2_hints_open;\n+    funcs->close    = (T2_Hints_CloseFunc)  t2_hints_close;\n+    funcs->stems    = (T2_Hints_StemsFunc)  t2_hints_stems;\n+    funcs->hintmask = (T2_Hints_MaskFunc)   ps_hints_t2mask;\n+    funcs->counter  = (T2_Hints_CounterFunc)ps_hints_t2counter;\n+    funcs->apply    = (T2_Hints_ApplyFunc)  t2_hints_apply;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/pshinter\/pshrec.c","additions":51,"deletions":12,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-  static FT_UInt32\n+  FT_CALLBACK_DEF( FT_UInt32 )\n@@ -312,1 +312,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -411,1 +411,1 @@\n-  static FT_UInt\n+  FT_CALLBACK_DEF( FT_UInt )\n@@ -456,1 +456,1 @@\n-  static FT_UInt32\n+  FT_CALLBACK_DEF( FT_UInt )\n@@ -521,1 +521,1 @@\n-  static const char*\n+  FT_CALLBACK_DEF( const char* )\n@@ -531,1 +531,1 @@\n-  static const char*\n+  FT_CALLBACK_DEF( const char* )\n@@ -546,4 +546,4 @@\n-    (PS_Unicode_ValueFunc)     ps_unicode_value,        \/* unicode_value         *\/\n-    (PS_Unicodes_InitFunc)     ps_unicodes_init,        \/* unicodes_init         *\/\n-    (PS_Unicodes_CharIndexFunc)ps_unicodes_char_index,  \/* unicodes_char_index   *\/\n-    (PS_Unicodes_CharNextFunc) ps_unicodes_char_next,   \/* unicodes_char_next    *\/\n+    ps_unicode_value,         \/* PS_Unicode_ValueFunc      unicode_value         *\/\n+    ps_unicodes_init,         \/* PS_Unicodes_InitFunc      unicodes_init         *\/\n+    ps_unicodes_char_index,   \/* PS_Unicodes_CharIndexFunc unicodes_char_index   *\/\n+    ps_unicodes_char_next,    \/* PS_Unicodes_CharNextFunc  unicodes_char_next    *\/\n@@ -551,2 +551,2 @@\n-    (PS_Macintosh_NameFunc)    ps_get_macintosh_name,   \/* macintosh_name        *\/\n-    (PS_Adobe_Std_StringsFunc) ps_get_standard_strings, \/* adobe_std_strings     *\/\n+    ps_get_macintosh_name,    \/* PS_Macintosh_NameFunc     macintosh_name        *\/\n+    ps_get_standard_strings,  \/* PS_Adobe_Std_StringsFunc  adobe_std_strings     *\/\n@@ -563,4 +563,4 @@\n-    NULL,                                               \/* unicode_value         *\/\n-    NULL,                                               \/* unicodes_init         *\/\n-    NULL,                                               \/* unicodes_char_index   *\/\n-    NULL,                                               \/* unicodes_char_next    *\/\n+    NULL,                     \/* PS_Unicode_ValueFunc      unicode_value         *\/\n+    NULL,                     \/* PS_Unicodes_InitFunc      unicodes_init         *\/\n+    NULL,                     \/* PS_Unicodes_CharIndexFunc unicodes_char_index   *\/\n+    NULL,                     \/* PS_Unicodes_CharNextFunc  unicodes_char_next    *\/\n@@ -568,2 +568,2 @@\n-    (PS_Macintosh_NameFunc)    ps_get_macintosh_name,   \/* macintosh_name        *\/\n-    (PS_Adobe_Std_StringsFunc) ps_get_standard_strings, \/* adobe_std_strings     *\/\n+    ps_get_macintosh_name,    \/* PS_Macintosh_NameFunc     macintosh_name        *\/\n+    ps_get_standard_strings,  \/* PS_Adobe_Std_StringsFunc  adobe_std_strings     *\/\n@@ -615,3 +615,3 @@\n-    (FT_Module_Constructor)NULL,                                       \/* module_init   *\/\n-    (FT_Module_Destructor) NULL,                                       \/* module_done   *\/\n-    (FT_Module_Requester)  PUT_PS_NAMES_SERVICE( psnames_get_service ) \/* get_interface *\/\n+    NULL,                                        \/* FT_Module_Constructor module_init   *\/\n+    NULL,                                        \/* FT_Module_Destructor  module_done   *\/\n+    PUT_PS_NAMES_SERVICE( psnames_get_service )  \/* FT_Module_Requester   get_interface *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/psnames\/psmodule.c","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -1745,3 +1745,3 @@\n-  Decompose_Curve( RAS_ARGS UShort  first,\n-                            UShort  last,\n-                            Int     flipped )\n+  Decompose_Curve( RAS_ARGS Int  first,\n+                            Int  last,\n+                            Int  flipped )\n@@ -1972,2 +1972,2 @@\n-    Int   i;\n-    UInt  start;\n+    Int  i;\n+    Int  first, last;\n@@ -1988,2 +1988,1 @@\n-    start = 0;\n-\n+    last = -1;\n@@ -1999,4 +1998,2 @@\n-      if ( Decompose_Curve( RAS_VARS (UShort)start,\n-                                     (UShort)ras.outline.contours[i],\n-                                     flipped ) )\n-        return FAILURE;\n+      first = last + 1;\n+      last  = ras.outline.contours[i];\n@@ -2004,1 +2001,2 @@\n-      start = (UShort)ras.outline.contours[i] + 1;\n+      if ( Decompose_Curve( RAS_VARS first, last, flipped ) )\n+        return FAILURE;\n@@ -3170,2 +3168,2 @@\n-  ft_black_new( FT_Memory       memory,\n-                black_PRaster  *araster )\n+  ft_black_new( void*       memory_,    \/* FT_Memory     *\/\n+                FT_Raster  *araster_ )  \/* black_PRaster *\/\n@@ -3173,0 +3171,3 @@\n+    FT_Memory       memory = (FT_Memory)memory_;\n+    black_PRaster  *araster = (black_PRaster*)araster_;\n+\n@@ -3187,1 +3188,1 @@\n-  ft_black_done( black_PRaster  raster )\n+  ft_black_done( FT_Raster  raster_ )   \/* black_PRaster *\/\n@@ -3189,1 +3190,2 @@\n-    FT_Memory  memory = (FT_Memory)raster->memory;\n+    black_PRaster  raster = (black_PRaster)raster_;\n+    FT_Memory      memory = (FT_Memory)raster->memory;\n@@ -3284,5 +3286,5 @@\n-    (FT_Raster_New_Func)     ft_black_new,       \/* raster_new      *\/\n-    (FT_Raster_Reset_Func)   ft_black_reset,     \/* raster_reset    *\/\n-    (FT_Raster_Set_Mode_Func)ft_black_set_mode,  \/* raster_set_mode *\/\n-    (FT_Raster_Render_Func)  ft_black_render,    \/* raster_render   *\/\n-    (FT_Raster_Done_Func)    ft_black_done       \/* raster_done     *\/\n+    ft_black_new,       \/* FT_Raster_New_Func      raster_new      *\/\n+    ft_black_reset,     \/* FT_Raster_Reset_Func    raster_reset    *\/\n+    ft_black_set_mode,  \/* FT_Raster_Set_Mode_Func raster_set_mode *\/\n+    ft_black_render,    \/* FT_Raster_Render_Func   raster_render   *\/\n+    ft_black_done       \/* FT_Raster_Done_Func     raster_done     *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/raster\/ftraster.c","additions":23,"deletions":21,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-  ft_raster1_init( FT_Renderer  render )\n+  ft_raster1_init( FT_Module  module )   \/* FT_Renderer *\/\n@@ -32,0 +32,3 @@\n+    FT_Renderer  render = (FT_Renderer)module;\n+\n+\n@@ -191,3 +194,3 @@\n-      (FT_Module_Constructor)ft_raster1_init,  \/* module_init   *\/\n-      (FT_Module_Destructor) NULL,             \/* module_done   *\/\n-      (FT_Module_Requester)  NULL,             \/* get_interface *\/\n+      ft_raster1_init,  \/* FT_Module_Constructor module_init   *\/\n+      NULL,             \/* FT_Module_Destructor  module_done   *\/\n+      NULL,             \/* FT_Module_Requester   get_interface *\/\n@@ -197,4 +200,4 @@\n-    (FT_Renderer_RenderFunc)   ft_raster1_render,     \/* render_glyph    *\/\n-    (FT_Renderer_TransformFunc)ft_raster1_transform,  \/* transform_glyph *\/\n-    (FT_Renderer_GetCBoxFunc)  ft_raster1_get_cbox,   \/* get_glyph_cbox  *\/\n-    (FT_Renderer_SetModeFunc)  ft_raster1_set_mode,   \/* set_mode        *\/\n+    ft_raster1_render,     \/* FT_Renderer_RenderFunc    render_glyph    *\/\n+    ft_raster1_transform,  \/* FT_Renderer_TransformFunc transform_glyph *\/\n+    ft_raster1_get_cbox,   \/* FT_Renderer_GetCBoxFunc   get_glyph_cbox  *\/\n+    ft_raster1_set_mode,   \/* FT_Renderer_SetModeFunc   set_mode        *\/\n@@ -202,1 +205,1 @@\n-    (FT_Raster_Funcs*)&ft_standard_raster             \/* raster_class    *\/\n+    &ft_standard_raster    \/* FT_Raster_Funcs*          raster_class    *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/raster\/ftrend1.c","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -409,4 +409,1 @@\n-    default:\n-      \/* Shouldn't happen, but ... *\/\n-      FALL_THROUGH;\n-\n+    default:  \/* Shouldn't happen, but ... *\/\n@@ -460,1 +457,1 @@\n-  typedef int  _pngshim_dummy;\n+  typedef int  pngshim_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/pngshim.c","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -82,2 +82,16 @@\n-  static void*\n-  get_sfnt_table( TT_Face      face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  sfnt_load_table( FT_Face    face,    \/* TT_Face *\/\n+                   FT_ULong   tag,\n+                   FT_Long    offset,\n+                   FT_Byte*   buffer,\n+                   FT_ULong*  length )\n+  {\n+    TT_Face  ttface = (TT_Face)face;\n+\n+\n+    return tt_face_load_any( ttface, tag, offset, buffer, length );\n+  }\n+\n+\n+  FT_CALLBACK_DEF( void* )\n+  get_sfnt_table( FT_Face      face,  \/* TT_Face *\/\n@@ -86,0 +100,2 @@\n+    TT_Face  ttface = (TT_Face)face;\n+\n@@ -92,1 +108,1 @@\n-      table = &face->header;\n+      table = &ttface->header;\n@@ -96,1 +112,1 @@\n-      table = &face->horizontal;\n+      table = &ttface->horizontal;\n@@ -100,1 +116,1 @@\n-      table = face->vertical_info ? &face->vertical : NULL;\n+      table = ttface->vertical_info ? &ttface->vertical : NULL;\n@@ -104,1 +120,1 @@\n-      table = ( face->os2.version == 0xFFFFU ) ? NULL : &face->os2;\n+      table = ( ttface->os2.version == 0xFFFFU ) ? NULL : &ttface->os2;\n@@ -108,1 +124,1 @@\n-      table = &face->postscript;\n+      table = &ttface->postscript;\n@@ -112,1 +128,1 @@\n-      table = &face->max_profile;\n+      table = &ttface->max_profile;\n@@ -116,1 +132,1 @@\n-      table = face->pclt.Version ? &face->pclt : NULL;\n+      table = ttface->pclt.Version ? &ttface->pclt : NULL;\n@@ -127,2 +143,2 @@\n-  static FT_Error\n-  sfnt_table_info( TT_Face    face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  sfnt_table_info( FT_Face    face,    \/* TT_Face *\/\n@@ -134,0 +150,3 @@\n+    TT_Face  ttface = (TT_Face)face;\n+\n+\n@@ -138,1 +157,1 @@\n-      *length = face->num_tables;\n+      *length = ttface->num_tables;\n@@ -141,1 +160,1 @@\n-      if ( idx >= face->num_tables )\n+      if ( idx >= ttface->num_tables )\n@@ -144,3 +163,3 @@\n-      *tag    = face->dir_tables[idx].Tag;\n-      *offset = face->dir_tables[idx].Offset;\n-      *length = face->dir_tables[idx].Length;\n+      *tag    = ttface->dir_tables[idx].Tag;\n+      *offset = ttface->dir_tables[idx].Offset;\n+      *length = ttface->dir_tables[idx].Length;\n@@ -156,3 +175,3 @@\n-    (FT_SFNT_TableLoadFunc)tt_face_load_any,     \/* load_table *\/\n-    (FT_SFNT_TableGetFunc) get_sfnt_table,       \/* get_table  *\/\n-    (FT_SFNT_TableInfoFunc)sfnt_table_info       \/* table_info *\/\n+    sfnt_load_table,  \/* FT_SFNT_TableLoadFunc load_table *\/\n+    get_sfnt_table,   \/* FT_SFNT_TableGetFunc  get_table  *\/\n+    sfnt_table_info   \/* FT_SFNT_TableInfoFunc table_info *\/\n@@ -169,1 +188,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -187,1 +206,1 @@\n-  static FT_UInt\n+  FT_CALLBACK_DEF( FT_UInt )\n@@ -224,2 +243,2 @@\n-    (FT_GlyphDict_GetNameFunc)  sfnt_get_glyph_name,    \/* get_name   *\/\n-    (FT_GlyphDict_NameIndexFunc)sfnt_get_name_index     \/* name_index *\/\n+    sfnt_get_glyph_name,  \/* FT_GlyphDict_GetNameFunc   get_name   *\/\n+    sfnt_get_name_index   \/* FT_GlyphDict_NameIndexFunc name_index *\/\n@@ -526,1 +545,1 @@\n-        break;\n+        continue;\n@@ -529,2 +548,1 @@\n-    if ( !len )\n-      *r = '\\0';\n+    *r = '\\0';\n@@ -534,1 +552,1 @@\n-    if ( !len )\n+    if ( r != result )\n@@ -583,1 +601,1 @@\n-        break;\n+        continue;\n@@ -586,2 +604,1 @@\n-    if ( !len )\n-      *r = '\\0';\n+    *r = '\\0';\n@@ -591,1 +608,1 @@\n-    if ( !len )\n+    if ( r != result )\n@@ -605,1 +622,1 @@\n-  static FT_Bool\n+  FT_CALLBACK_DEF( FT_Bool )\n@@ -822,3 +839,3 @@\n-        \/* as a last resort we try the family name; note that this is *\/\n-        \/* not in the Adobe TechNote, but GX fonts (which predate the *\/\n-        \/* TechNote) benefit from this behaviour                      *\/\n+        \/* according to the 'name' documentation in the OpenType   *\/\n+        \/* specification the font family name is to be used if the *\/\n+        \/* typographic family name is missing, so let's do that    *\/\n@@ -856,0 +873,4 @@\n+        \/* XXX It probably makes sense to never let this fail *\/\n+        \/*     since an arbitrary prefix should work, too.    *\/\n+        \/*     On the other hand, it is very unlikely that    *\/\n+        \/*     we ever reach this code at all.                *\/\n@@ -1044,2 +1065,2 @@\n-  static const char*\n-  sfnt_get_ps_name( TT_Face  face )\n+  FT_CALLBACK_DEF( const char* )\n+  sfnt_get_ps_name( FT_Face  face )    \/* TT_Face *\/\n@@ -1047,0 +1068,2 @@\n+    TT_Face  ttface = (TT_Face)face;\n+\n@@ -1051,2 +1074,2 @@\n-    if ( face->postscript_name )\n-      return face->postscript_name;\n+    if ( ttface->postscript_name )\n+      return ttface->postscript_name;\n@@ -1055,3 +1078,3 @@\n-    if ( face->blend                                 &&\n-         ( FT_IS_NAMED_INSTANCE( FT_FACE( face ) ) ||\n-           FT_IS_VARIATION( FT_FACE( face ) )      ) )\n+    if ( ttface->blend                    &&\n+         ( FT_IS_NAMED_INSTANCE( face ) ||\n+           FT_IS_VARIATION( face )      ) )\n@@ -1059,2 +1082,2 @@\n-      face->postscript_name = sfnt_get_var_ps_name( face );\n-      return face->postscript_name;\n+      ttface->postscript_name = sfnt_get_var_ps_name( ttface );\n+      return ttface->postscript_name;\n@@ -1066,1 +1089,1 @@\n-    found = sfnt_get_name_id( face, TT_NAME_ID_PS_NAME, &win, &apple );\n+    found = sfnt_get_name_id( ttface, TT_NAME_ID_PS_NAME, &win, &apple );\n@@ -1072,3 +1095,3 @@\n-      result = get_win_string( face->root.memory,\n-                               face->name_table.stream,\n-                               face->name_table.names + win,\n+      result = get_win_string( FT_FACE_MEMORY( face ),\n+                               ttface->name_table.stream,\n+                               ttface->name_table.names + win,\n@@ -1078,3 +1101,3 @@\n-      result = get_apple_string( face->root.memory,\n-                                 face->name_table.stream,\n-                                 face->name_table.names + apple,\n+      result = get_apple_string( FT_FACE_MEMORY( face ),\n+                                 ttface->name_table.stream,\n+                                 ttface->name_table.names + apple,\n@@ -1084,1 +1107,1 @@\n-    face->postscript_name = result;\n+    ttface->postscript_name = result;\n@@ -1093,1 +1116,1 @@\n-    (FT_PsName_GetFunc)sfnt_get_ps_name       \/* get_ps_font_name *\/\n+    sfnt_get_ps_name  \/* FT_PsName_GetFunc get_ps_font_name *\/\n@@ -1103,1 +1126,1 @@\n-    (TT_CMap_Info_GetFunc)tt_get_cmap_info    \/* get_cmap_info *\/\n+    tt_get_cmap_info  \/* TT_CMap_Info_GetFunc get_cmap_info *\/\n@@ -1110,1 +1133,1 @@\n-  sfnt_get_charset_id( TT_Face       face,\n+  sfnt_get_charset_id( FT_Face       face,\n@@ -1148,2 +1171,2 @@\n-    (FT_BDF_GetCharsetIdFunc)sfnt_get_charset_id,     \/* get_charset_id *\/\n-    (FT_BDF_GetPropertyFunc) tt_face_find_bdf_prop    \/* get_property   *\/\n+    sfnt_get_charset_id,   \/* FT_BDF_GetCharsetIdFunc get_charset_id *\/\n+    tt_face_find_bdf_prop  \/* FT_BDF_GetPropertyFunc  get_property   *\/\n@@ -1340,3 +1363,3 @@\n-    (FT_Module_Constructor)NULL,               \/* module_init   *\/\n-    (FT_Module_Destructor) NULL,               \/* module_done   *\/\n-    (FT_Module_Requester)  sfnt_get_interface  \/* get_interface *\/\n+    NULL,               \/* FT_Module_Constructor module_init   *\/\n+    NULL,               \/* FT_Module_Destructor  module_done   *\/\n+    sfnt_get_interface  \/* FT_Module_Requester   get_interface *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/sfdriver.c","additions":83,"deletions":60,"binary":false,"changes":143,"status":"modified"},{"patch":"@@ -537,1 +537,1 @@\n-    if ( !face->var )\n+    if ( !face->tt_var )\n@@ -544,3 +544,3 @@\n-      face->var = ft_module_get_service( tt_module,\n-                                         FT_SERVICE_ID_METRICS_VARIATIONS,\n-                                         0 );\n+      face->tt_var = ft_module_get_service( tt_module,\n+                                            FT_SERVICE_ID_METRICS_VARIATIONS,\n+                                            0 );\n@@ -548,0 +548,6 @@\n+\n+    if ( !face->face_var )\n+      face->face_var = ft_module_get_service(\n+                         &face->root.driver->root,\n+                         FT_SERVICE_ID_METRICS_VARIATIONS,\n+                         0 );\n@@ -695,0 +701,3 @@\n+        \/* named instance indices start with value 1 *\/\n+        face->var_default_named_instance = i + 1;\n+\n@@ -1057,0 +1066,10 @@\n+#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n+    {\n+      FT_Memory  memory = face->root.memory;\n+\n+\n+      if ( FT_STRDUP( face->non_var_style_name, face->root.style_name ) )\n+        goto Exit;\n+    }\n+#endif\n+\n@@ -1224,1 +1243,1 @@\n-          FT_Memory        memory   = face->root.stream->memory;\n+          FT_Memory        memory   = face->root.memory;\n@@ -1503,0 +1522,1 @@\n+    FT_FREE( face->non_var_style_name );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/sfobjs.c","additions":25,"deletions":5,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -429,1 +429,1 @@\n-  typedef int  _sfwoff_dummy;\n+  typedef int  sfwoff_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/sfwoff.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,0 +39,2 @@\n+  \/* An arbitrary, heuristic size limit (67MByte) for expanded WOFF2 data. *\/\n+#define MAX_SFNT_SIZE  ( 1 << 26 )\n@@ -2183,3 +2185,2 @@\n-      \/* Value 1<<26 = 67108864 is heuristic. *\/\n-      if (sfnt_size >= (1 << 26))\n-        sfnt_size = 1 << 26;\n+      if ( sfnt_size >= MAX_SFNT_SIZE )\n+        sfnt_size = MAX_SFNT_SIZE;\n@@ -2260,1 +2261,6 @@\n-    if ( woff2.uncompressed_size > sfnt_size )\n+    \/* We must not blindly trust `uncompressed_size` since its   *\/\n+    \/* value might be corrupted.  If it is too large, reject the *\/\n+    \/* font.  In other words, we don't accept a WOFF2 font that  *\/\n+    \/* expands to something larger than MAX_SFNT_SIZE.  If ever  *\/\n+    \/* necessary, this limit can be easily adjusted.             *\/\n+    if ( woff2.uncompressed_size > MAX_SFNT_SIZE )\n@@ -2262,2 +2268,2 @@\n-      FT_ERROR(( \"woff2_open_font: SFNT table lengths are too large.\\n\" ));\n-      error = FT_THROW( Invalid_Table );\n+      FT_ERROR(( \"Uncompressed font too large.\\n\" ));\n+      error = FT_THROW( Array_Too_Large );\n@@ -2381,1 +2387,1 @@\n-  typedef int  _sfwoff2_dummy;\n+  typedef int  sfwoff2_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/sfwoff2.c","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -62,2 +62,2 @@\n-  tt_cmap_init( TT_CMap   cmap,\n-                FT_Byte*  table )\n+  tt_cmap_init( FT_CMap  cmap,    \/* TT_CMap *\/\n+                void*    table_ )\n@@ -65,1 +65,5 @@\n-    cmap->data = table;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  table  = (FT_Byte*)table_;\n+\n+\n+    ttcmap->data = table;\n@@ -131,1 +135,1 @@\n-  tt_cmap0_char_index( TT_CMap    cmap,\n+  tt_cmap0_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -134,1 +138,2 @@\n-    FT_Byte*  table = cmap->data;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  table  = ttcmap->data;\n@@ -141,2 +146,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap0_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap0_char_next( FT_CMap     cmap,        \/* TT_CMap *\/\n@@ -145,1 +150,2 @@\n-    FT_Byte*   table    = cmap->data;\n+    TT_CMap    ttcmap   = (TT_CMap)cmap;\n+    FT_Byte*   table    = ttcmap->data;\n@@ -168,1 +174,1 @@\n-  tt_cmap0_get_info( TT_CMap       cmap,\n+  tt_cmap0_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -171,1 +177,2 @@\n-    FT_Byte*  p = cmap->data + 4;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 4;\n@@ -456,1 +463,1 @@\n-  tt_cmap2_char_index( TT_CMap    cmap,\n+  tt_cmap2_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -459,1 +466,2 @@\n-    FT_Byte*  table   = cmap->data;\n+    TT_CMap   ttcmap  = (TT_CMap)cmap;\n+    FT_Byte*  table   = ttcmap->data;\n@@ -494,2 +502,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap2_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap2_char_next( FT_CMap     cmap,       \/* TT_CMap *\/\n@@ -498,1 +506,2 @@\n-    FT_Byte*   table    = cmap->data;\n+    TT_CMap    ttcmap   = (TT_CMap)cmap;\n+    FT_Byte*   table    = ttcmap->data;\n@@ -582,1 +591,1 @@\n-  tt_cmap2_get_info( TT_CMap       cmap,\n+  tt_cmap2_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -585,1 +594,2 @@\n-    FT_Byte*  p = cmap->data + 4;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 4;\n@@ -709,2 +719,2 @@\n-  tt_cmap4_init( TT_CMap4  cmap,\n-                 FT_Byte*  table )\n+  tt_cmap4_init( FT_CMap  cmap,    \/* TT_CMap4 *\/\n+                 void*    table_ )\n@@ -712,0 +722,2 @@\n+    TT_CMap4  ttcmap = (TT_CMap4)cmap;\n+    FT_Byte*  table  = (FT_Byte*)table_;\n@@ -715,1 +727,1 @@\n-    cmap->cmap.data    = table;\n+    ttcmap->cmap.data = table;\n@@ -717,4 +729,4 @@\n-    p                  = table + 6;\n-    cmap->num_ranges   = FT_PEEK_USHORT( p ) >> 1;\n-    cmap->cur_charcode = (FT_UInt32)0xFFFFFFFFUL;\n-    cmap->cur_gindex   = 0;\n+    p                    = table + 6;\n+    ttcmap->num_ranges   = FT_PEEK_USHORT( p ) >> 1;\n+    ttcmap->cur_charcode = (FT_UInt32)0xFFFFFFFFUL;\n+    ttcmap->cur_gindex   = 0;\n@@ -758,1 +770,1 @@\n-        TT_Face   face  = (TT_Face)cmap->cmap.cmap.charmap.face;\n+        TT_Face   face  = (TT_Face)FT_CMAP_FACE( cmap );\n@@ -791,1 +803,1 @@\n-    TT_Face   face  = (TT_Face)cmap->cmap.cmap.charmap.face;\n+    TT_Face   face  = (TT_Face)FT_CMAP_FACE( cmap );\n@@ -797,3 +809,0 @@\n-    if ( cmap->cur_charcode >= 0xFFFFUL )\n-      goto Fail;\n-\n@@ -885,1 +894,0 @@\n-  Fail:\n@@ -1100,1 +1108,1 @@\n-    TT_Face   face  = (TT_Face)cmap->cmap.charmap.face;\n+    TT_Face   face  = (TT_Face)FT_CMAP_FACE( cmap );\n@@ -1107,1 +1115,1 @@\n-    FT_UInt32  charcode = *pcharcode;\n+    FT_UInt32  charcode = *pcharcode + next;\n@@ -1114,3 +1122,1 @@\n-    num_segs2 = FT_PAD_FLOOR( TT_PEEK_USHORT( p ), 2 );\n-\n-    num_segs = num_segs2 >> 1;\n+    num_segs = TT_PEEK_USHORT( p ) >> 1;\n@@ -1121,5 +1127,1 @@\n-    if ( next )\n-      charcode++;\n-\n-    if ( charcode > 0xFFFFU )\n-      return 0;\n+    num_segs2 = num_segs << 1;\n@@ -1235,1 +1237,1 @@\n-    TT_Face   face  = (TT_Face)cmap->cmap.charmap.face;\n+    TT_Face   face  = (TT_Face)FT_CMAP_FACE( cmap );\n@@ -1241,1 +1243,1 @@\n-    FT_UInt   charcode = (FT_UInt)*pcharcode;\n+    FT_UInt   charcode = (FT_UInt)*pcharcode + next;\n@@ -1247,1 +1249,1 @@\n-    num_segs2 = FT_PAD_FLOOR( TT_PEEK_USHORT( p ), 2 );\n+    num_segs = TT_PEEK_USHORT( p ) >> 1;\n@@ -1249,1 +1251,1 @@\n-    if ( !num_segs2 )\n+    if ( !num_segs )\n@@ -1252,8 +1254,1 @@\n-    num_segs = num_segs2 >> 1;\n-\n-    \/* make compiler happy *\/\n-    mid = num_segs;\n-    end = 0xFFFFU;\n-\n-    if ( next )\n-      charcode++;\n+    num_segs2 = num_segs << 1;\n@@ -1265,1 +1260,1 @@\n-    while ( min < max )\n+    do\n@@ -1448,0 +1443,1 @@\n+    while ( min < max );\n@@ -1457,6 +1453,2 @@\n-      if ( charcode > end )\n-      {\n-        mid++;\n-        if ( mid == num_segs )\n-          return 0;\n-      }\n+      if ( charcode > end && ++mid == num_segs )\n+        return 0;\n@@ -1477,1 +1469,0 @@\n-          cmap4->cur_charcode = charcode;\n@@ -1492,1 +1483,1 @@\n-  tt_cmap4_char_index( TT_CMap    cmap,\n+  tt_cmap4_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -1495,0 +1486,3 @@\n+    TT_CMap  ttcmap = (TT_CMap)cmap;\n+\n+\n@@ -1498,2 +1492,2 @@\n-    if ( cmap->flags & TT_CMAP_FLAG_UNSORTED )\n-      return tt_cmap4_char_map_linear( cmap, &char_code, 0 );\n+    if ( ttcmap->flags & TT_CMAP_FLAG_UNSORTED )\n+      return tt_cmap4_char_map_linear( ttcmap, &char_code, 0 );\n@@ -1501,1 +1495,1 @@\n-      return tt_cmap4_char_map_binary( cmap, &char_code, 0 );\n+      return tt_cmap4_char_map_binary( ttcmap, &char_code, 0 );\n@@ -1505,2 +1499,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap4_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap4_char_next( FT_CMap     cmap,        \/* TT_CMap *\/\n@@ -1509,0 +1503,1 @@\n+    TT_CMap  ttcmap = (TT_CMap)cmap;\n@@ -1515,2 +1510,2 @@\n-    if ( cmap->flags & TT_CMAP_FLAG_UNSORTED )\n-      gindex = tt_cmap4_char_map_linear( cmap, pchar_code, 1 );\n+    if ( ttcmap->flags & TT_CMAP_FLAG_UNSORTED )\n+      gindex = tt_cmap4_char_map_linear( ttcmap, pchar_code, 1 );\n@@ -1531,1 +1526,1 @@\n-        gindex = tt_cmap4_char_map_binary( cmap, pchar_code, 1 );\n+        gindex = tt_cmap4_char_map_binary( ttcmap, pchar_code, 1 );\n@@ -1539,1 +1534,1 @@\n-  tt_cmap4_get_info( TT_CMap       cmap,\n+  tt_cmap4_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -1542,1 +1537,2 @@\n-    FT_Byte*  p = cmap->data + 4;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 4;\n@@ -1643,1 +1639,1 @@\n-  tt_cmap6_char_index( TT_CMap    cmap,\n+  tt_cmap6_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -1646,1 +1642,2 @@\n-    FT_Byte*  table  = cmap->data;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  table  = ttcmap->data;\n@@ -1664,2 +1661,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap6_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap6_char_next( FT_CMap     cmap,        \/* TT_CMap *\/\n@@ -1668,1 +1665,2 @@\n-    FT_Byte*   table     = cmap->data;\n+    TT_CMap    ttcmap    = (TT_CMap)cmap;\n+    FT_Byte*   table     = ttcmap->data;\n@@ -1709,1 +1707,1 @@\n-  tt_cmap6_get_info( TT_CMap       cmap,\n+  tt_cmap6_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -1712,1 +1710,2 @@\n-    FT_Byte*  p = cmap->data + 4;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 4;\n@@ -1903,1 +1902,1 @@\n-  tt_cmap8_char_index( TT_CMap    cmap,\n+  tt_cmap8_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -1906,1 +1905,2 @@\n-    FT_Byte*   table      = cmap->data;\n+    TT_CMap    ttcmap     = (TT_CMap)cmap;\n+    FT_Byte*   table      = ttcmap->data;\n@@ -1935,2 +1935,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap8_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap8_char_next( FT_CMap     cmap,        \/* TT_CMap *\/\n@@ -1939,1 +1939,2 @@\n-    FT_Face    face       = cmap->cmap.charmap.face;\n+    TT_CMap    ttcmap     = (TT_CMap)cmap;\n+    FT_Face    face       = FT_CMAP_FACE( cmap );\n@@ -1943,1 +1944,1 @@\n-    FT_Byte*   table      = cmap->data;\n+    FT_Byte*   table      = ttcmap->data;\n@@ -2003,1 +2004,1 @@\n-  tt_cmap8_get_info( TT_CMap       cmap,\n+  tt_cmap8_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -2006,1 +2007,2 @@\n-    FT_Byte*  p = cmap->data + 8;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 8;\n@@ -2107,1 +2109,1 @@\n-  tt_cmap10_char_index( TT_CMap    cmap,\n+  tt_cmap10_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -2110,1 +2112,2 @@\n-    FT_Byte*   table  = cmap->data;\n+    TT_CMap    ttcmap = (TT_CMap)cmap;\n+    FT_Byte*   table  = ttcmap->data;\n@@ -2133,2 +2136,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap10_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap10_char_next( FT_CMap     cmap,        \/* TT_CMap *\/\n@@ -2137,1 +2140,2 @@\n-    FT_Byte*   table     = cmap->data;\n+    TT_CMap    ttcmap    = (TT_CMap)cmap;\n+    FT_Byte*   table     = ttcmap->data;\n@@ -2175,1 +2179,1 @@\n-  tt_cmap10_get_info( TT_CMap       cmap,\n+  tt_cmap10_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -2178,1 +2182,2 @@\n-    FT_Byte*  p = cmap->data + 8;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 8;\n@@ -2256,2 +2261,2 @@\n-  tt_cmap12_init( TT_CMap12  cmap,\n-                  FT_Byte*   table )\n+  tt_cmap12_init( FT_CMap  cmap,    \/* TT_CMap12 *\/\n+                  void*    table_ )\n@@ -2259,1 +2264,3 @@\n-    cmap->cmap.data  = table;\n+    TT_CMap12  ttcmap = (TT_CMap12)cmap;\n+    FT_Byte*   table  = (FT_Byte*)table_;\n+\n@@ -2261,2 +2268,1 @@\n-    table           += 12;\n-    cmap->num_groups = FT_PEEK_ULONG( table );\n+    ttcmap->cmap.data  = table;\n@@ -2264,1 +2270,4 @@\n-    cmap->valid      = 0;\n+    table             += 12;\n+    ttcmap->num_groups = FT_PEEK_ULONG( table );\n+\n+    ttcmap->valid      = 0;\n@@ -2334,1 +2343,1 @@\n-  tt_cmap12_next( TT_CMap12  cmap )\n+  tt_cmap12_next( FT_CMap  cmap )    \/* TT_CMap12 *\/\n@@ -2336,6 +2345,6 @@\n-    FT_Face   face = cmap->cmap.cmap.charmap.face;\n-    FT_Byte*  p;\n-    FT_ULong  start, end, start_id, char_code;\n-    FT_ULong  n;\n-    FT_UInt   gindex;\n-\n+    TT_CMap12  ttcmap = (TT_CMap12)cmap;\n+    FT_Face    face   = FT_CMAP_FACE( cmap );\n+    FT_Byte*   p;\n+    FT_ULong   start, end, start_id, char_code;\n+    FT_ULong   n;\n+    FT_UInt    gindex;\n@@ -2343,2 +2352,0 @@\n-    if ( cmap->cur_charcode >= 0xFFFFFFFFUL )\n-      goto Fail;\n@@ -2346,1 +2353,1 @@\n-    char_code = cmap->cur_charcode + 1;\n+    char_code = ttcmap->cur_charcode + 1;\n@@ -2348,1 +2355,1 @@\n-    for ( n = cmap->cur_group; n < cmap->num_groups; n++ )\n+    for ( n = ttcmap->cur_group; n < ttcmap->num_groups; n++ )\n@@ -2350,1 +2357,1 @@\n-      p        = cmap->cmap.data + 16 + 12 * n;\n+      p        = ttcmap->cmap.data + 16 + 12 * n;\n@@ -2382,3 +2389,3 @@\n-        cmap->cur_charcode = char_code;\n-        cmap->cur_gindex   = gindex;\n-        cmap->cur_group    = n;\n+        ttcmap->cur_charcode = char_code;\n+        ttcmap->cur_gindex   = gindex;\n+        ttcmap->cur_group    = n;\n@@ -2391,1 +2398,1 @@\n-    cmap->valid = 0;\n+    ttcmap->valid = 0;\n@@ -2403,1 +2410,1 @@\n-    FT_UInt32  char_code  = *pchar_code;\n+    FT_UInt32  char_code  = *pchar_code + next;\n@@ -2411,12 +2418,0 @@\n-    \/* make compiler happy *\/\n-    mid = num_groups;\n-    end = 0xFFFFFFFFUL;\n-\n-    if ( next )\n-    {\n-      if ( char_code >= 0xFFFFFFFFUL )\n-        return 0;\n-\n-      char_code++;\n-    }\n-\n@@ -2427,1 +2422,1 @@\n-    while ( min < max )\n+    do\n@@ -2451,0 +2446,1 @@\n+    while ( min < max );\n@@ -2454,1 +2450,1 @@\n-      FT_Face    face   = cmap->cmap.charmap.face;\n+      FT_Face    face   = FT_CMAP_FACE( cmap );\n@@ -2461,6 +2457,2 @@\n-      if ( char_code > end )\n-      {\n-        mid++;\n-        if ( mid == num_groups )\n-          return 0;\n-      }\n+      if ( char_code > end && ++mid == num_groups )\n+        return 0;\n@@ -2477,1 +2469,1 @@\n-        tt_cmap12_next( cmap12 );\n+        tt_cmap12_next( FT_CMAP( cmap12 ) );\n@@ -2493,1 +2485,1 @@\n-  tt_cmap12_char_index( TT_CMap    cmap,\n+  tt_cmap12_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -2496,1 +2488,1 @@\n-    return tt_cmap12_char_map_binary( cmap, &char_code, 0 );\n+    return tt_cmap12_char_map_binary( (TT_CMap)cmap, &char_code, 0 );\n@@ -2500,2 +2492,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap12_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap12_char_next( FT_CMap     cmap,        \/* TT_CMap12 *\/\n@@ -2508,0 +2500,3 @@\n+    if ( *pchar_code >= 0xFFFFFFFFUL )\n+      return 0;\n+\n@@ -2511,1 +2506,1 @@\n-      tt_cmap12_next( cmap12 );\n+      tt_cmap12_next( FT_CMAP( cmap12 ) );\n@@ -2521,1 +2516,1 @@\n-      gindex = tt_cmap12_char_map_binary( cmap, pchar_code, 1 );\n+      gindex = tt_cmap12_char_map_binary( (TT_CMap)cmap, pchar_code, 1 );\n@@ -2528,1 +2523,1 @@\n-  tt_cmap12_get_info( TT_CMap       cmap,\n+  tt_cmap12_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -2531,1 +2526,2 @@\n-    FT_Byte*  p = cmap->data + 8;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 8;\n@@ -2609,2 +2605,2 @@\n-  tt_cmap13_init( TT_CMap13  cmap,\n-                  FT_Byte*   table )\n+  tt_cmap13_init( FT_CMap  cmap,    \/* TT_CMap13 *\/\n+                  void*    table_ )\n@@ -2612,1 +2608,5 @@\n-    cmap->cmap.data  = table;\n+    TT_CMap13  ttcmap = (TT_CMap13)cmap;\n+    FT_Byte*   table  = (FT_Byte*)table_;\n+\n+\n+    ttcmap->cmap.data  = table;\n@@ -2614,2 +2614,2 @@\n-    table           += 12;\n-    cmap->num_groups = FT_PEEK_ULONG( table );\n+    table             += 12;\n+    ttcmap->num_groups = FT_PEEK_ULONG( table );\n@@ -2617,1 +2617,1 @@\n-    cmap->valid      = 0;\n+    ttcmap->valid      = 0;\n@@ -2682,1 +2682,1 @@\n-  tt_cmap13_next( TT_CMap13  cmap )\n+  tt_cmap13_next( FT_CMap  cmap )    \/* TT_CMap13 *\/\n@@ -2684,6 +2684,6 @@\n-    FT_Face   face = cmap->cmap.cmap.charmap.face;\n-    FT_Byte*  p;\n-    FT_ULong  start, end, glyph_id, char_code;\n-    FT_ULong  n;\n-    FT_UInt   gindex;\n-\n+    TT_CMap13  ttcmap = (TT_CMap13)cmap;\n+    FT_Face    face = FT_CMAP_FACE( cmap );\n+    FT_Byte*   p;\n+    FT_ULong   start, end, glyph_id, char_code;\n+    FT_ULong   n;\n+    FT_UInt    gindex;\n@@ -2691,2 +2691,0 @@\n-    if ( cmap->cur_charcode >= 0xFFFFFFFFUL )\n-      goto Fail;\n@@ -2694,1 +2692,1 @@\n-    char_code = cmap->cur_charcode + 1;\n+    char_code = ttcmap->cur_charcode + 1;\n@@ -2696,1 +2694,1 @@\n-    for ( n = cmap->cur_group; n < cmap->num_groups; n++ )\n+    for ( n = ttcmap->cur_group; n < ttcmap->num_groups; n++ )\n@@ -2698,1 +2696,1 @@\n-      p        = cmap->cmap.data + 16 + 12 * n;\n+      p        = ttcmap->cmap.data + 16 + 12 * n;\n@@ -2712,3 +2710,3 @@\n-          cmap->cur_charcode = char_code;\n-          cmap->cur_gindex   = gindex;\n-          cmap->cur_group    = n;\n+          ttcmap->cur_charcode = char_code;\n+          ttcmap->cur_gindex   = gindex;\n+          ttcmap->cur_group    = n;\n@@ -2721,2 +2719,1 @@\n-  Fail:\n-    cmap->valid = 0;\n+    ttcmap->valid = 0;\n@@ -2734,1 +2731,1 @@\n-    FT_UInt32  char_code  = *pchar_code;\n+    FT_UInt32  char_code  = *pchar_code + next;\n@@ -2742,12 +2739,0 @@\n-    \/* make compiler happy *\/\n-    mid = num_groups;\n-    end = 0xFFFFFFFFUL;\n-\n-    if ( next )\n-    {\n-      if ( char_code >= 0xFFFFFFFFUL )\n-        return 0;\n-\n-      char_code++;\n-    }\n-\n@@ -2758,1 +2743,1 @@\n-    while ( min < max )\n+    do\n@@ -2777,0 +2762,1 @@\n+    while ( min < max );\n@@ -2787,6 +2773,2 @@\n-      if ( char_code > end )\n-      {\n-        mid++;\n-        if ( mid == num_groups )\n-          return 0;\n-      }\n+      if ( char_code > end && ++mid == num_groups )\n+        return 0;\n@@ -2803,1 +2785,1 @@\n-        tt_cmap13_next( cmap13 );\n+        tt_cmap13_next( FT_CMAP( cmap13 ) );\n@@ -2819,1 +2801,1 @@\n-  tt_cmap13_char_index( TT_CMap    cmap,\n+  tt_cmap13_char_index( FT_CMap    cmap,       \/* TT_CMap *\/\n@@ -2822,1 +2804,1 @@\n-    return tt_cmap13_char_map_binary( cmap, &char_code, 0 );\n+    return tt_cmap13_char_map_binary( (TT_CMap)cmap, &char_code, 0 );\n@@ -2826,2 +2808,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap13_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap13_char_next( FT_CMap     cmap,        \/* TT_CMap13 *\/\n@@ -2834,0 +2816,3 @@\n+    if ( *pchar_code >= 0xFFFFFFFFUL )\n+      return 0;\n+\n@@ -2837,1 +2822,1 @@\n-      tt_cmap13_next( cmap13 );\n+      tt_cmap13_next( FT_CMAP( cmap13 ) );\n@@ -2847,1 +2832,1 @@\n-      gindex = tt_cmap13_char_map_binary( cmap, pchar_code, 1 );\n+      gindex = tt_cmap13_char_map_binary( (TT_CMap)cmap, pchar_code, 1 );\n@@ -2854,1 +2839,1 @@\n-  tt_cmap13_get_info( TT_CMap       cmap,\n+  tt_cmap13_get_info( FT_CharMap    cmap,       \/* TT_CMap *\/\n@@ -2857,1 +2842,2 @@\n-    FT_Byte*  p = cmap->data + 8;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = ttcmap->data + 8;\n@@ -2972,1 +2958,1 @@\n-  tt_cmap14_done( TT_CMap14  cmap )\n+  tt_cmap14_done( FT_CMap  cmap )    \/* TT_CMap14 *\/\n@@ -2974,1 +2960,2 @@\n-    FT_Memory  memory = cmap->memory;\n+    TT_CMap14  ttcmap = (TT_CMap14)cmap;\n+    FT_Memory  memory = ttcmap->memory;\n@@ -2977,3 +2964,3 @@\n-    cmap->max_results = 0;\n-    if ( memory && cmap->results )\n-      FT_FREE( cmap->results );\n+    ttcmap->max_results = 0;\n+    if ( memory && ttcmap->results )\n+      FT_FREE( ttcmap->results );\n@@ -3007,2 +2994,2 @@\n-  tt_cmap14_init( TT_CMap14  cmap,\n-                  FT_Byte*   table )\n+  tt_cmap14_init( FT_CMap  cmap,    \/* TT_CMap14 *\/\n+                  void*    table_ )\n@@ -3010,1 +2997,3 @@\n-    cmap->cmap.data = table;\n+    TT_CMap14  ttcmap = (TT_CMap14)cmap;\n+    FT_Byte*   table  = (FT_Byte*)table_;\n+\n@@ -3012,4 +3001,6 @@\n-    table               += 6;\n-    cmap->num_selectors  = FT_PEEK_ULONG( table );\n-    cmap->max_results    = 0;\n-    cmap->results        = NULL;\n+    ttcmap->cmap.data = table;\n+\n+    table                 += 6;\n+    ttcmap->num_selectors  = FT_PEEK_ULONG( table );\n+    ttcmap->max_results    = 0;\n+    ttcmap->results        = NULL;\n@@ -3145,1 +3136,1 @@\n-  tt_cmap14_char_index( TT_CMap    cmap,\n+  tt_cmap14_char_index( FT_CMap    cmap,\n@@ -3156,2 +3147,2 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap14_char_next( TT_CMap     cmap,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap14_char_next( FT_CMap     cmap,\n@@ -3169,1 +3160,1 @@\n-  tt_cmap14_get_info( TT_CMap       cmap,\n+  tt_cmap14_get_info( FT_CharMap    cmap,\n@@ -3283,2 +3274,2 @@\n-  tt_cmap14_char_var_index( TT_CMap    cmap,\n-                            TT_CMap    ucmap,\n+  tt_cmap14_char_var_index( FT_CMap    cmap,             \/* TT_CMap *\/\n+                            FT_CMap    ucmap,            \/* TT_CMap *\/\n@@ -3288,1 +3279,5 @@\n-    FT_Byte*  p = tt_cmap14_find_variant( cmap->data + 6, variantSelector );\n+    TT_CMap  ttcmap  = (TT_CMap)cmap;\n+    TT_CMap  ttucmap = (TT_CMap)ucmap;\n+\n+    FT_Byte*  p = tt_cmap14_find_variant( ttcmap->data + 6,\n+                                          variantSelector );\n@@ -3299,2 +3294,2 @@\n-    if ( defOff != 0                                                    &&\n-         tt_cmap14_char_map_def_binary( cmap->data + defOff, charcode ) )\n+    if ( defOff != 0                                                      &&\n+         tt_cmap14_char_map_def_binary( ttcmap->data + defOff, charcode ) )\n@@ -3304,1 +3299,1 @@\n-      return ucmap->cmap.clazz->char_index( &ucmap->cmap, charcode );\n+      return ttucmap->cmap.clazz->char_index( &ttucmap->cmap, charcode );\n@@ -3308,1 +3303,1 @@\n-      return tt_cmap14_char_map_nondef_binary( cmap->data + nondefOff,\n+      return tt_cmap14_char_map_nondef_binary( ttcmap->data + nondefOff,\n@@ -3316,1 +3311,1 @@\n-  tt_cmap14_char_var_isdefault( TT_CMap    cmap,\n+  tt_cmap14_char_var_isdefault( FT_CMap    cmap,             \/* TT_CMap *\/\n@@ -3320,1 +3315,3 @@\n-    FT_Byte*  p = tt_cmap14_find_variant( cmap->data + 6, variantSelector );\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte*  p      = tt_cmap14_find_variant( ttcmap->data + 6,\n+                                               variantSelector );\n@@ -3331,2 +3328,2 @@\n-    if ( defOff != 0                                                    &&\n-         tt_cmap14_char_map_def_binary( cmap->data + defOff, charcode ) )\n+    if ( defOff != 0                                                      &&\n+         tt_cmap14_char_map_def_binary( ttcmap->data + defOff, charcode ) )\n@@ -3335,3 +3332,3 @@\n-    if ( nondefOff != 0                                            &&\n-         tt_cmap14_char_map_nondef_binary( cmap->data + nondefOff,\n-                                           charcode ) != 0         )\n+    if ( nondefOff != 0                                              &&\n+         tt_cmap14_char_map_nondef_binary( ttcmap->data + nondefOff,\n+                                           charcode ) != 0           )\n@@ -3345,1 +3342,1 @@\n-  tt_cmap14_variants( TT_CMap    cmap,\n+  tt_cmap14_variants( FT_CMap    cmap,    \/* TT_CMap14 *\/\n@@ -3348,0 +3345,1 @@\n+    TT_CMap     ttcmap = (TT_CMap)cmap;\n@@ -3350,1 +3348,1 @@\n-    FT_Byte*    p      = cmap->data + 10;\n+    FT_Byte*    p      = ttcmap->data + 10;\n@@ -3371,1 +3369,1 @@\n-  tt_cmap14_char_variants( TT_CMap    cmap,\n+  tt_cmap14_char_variants( FT_CMap    cmap,      \/* TT_CMap14 *\/\n@@ -3375,1 +3373,2 @@\n-    TT_CMap14   cmap14 = (TT_CMap14)  cmap;\n+    TT_CMap     ttcmap = (TT_CMap)cmap;\n+    TT_CMap14   cmap14 = (TT_CMap14)cmap;\n@@ -3377,1 +3376,1 @@\n-    FT_Byte*    p      = cmap->data + 10;\n+    FT_Byte*    p      = ttcmap->data + 10;\n@@ -3391,6 +3390,6 @@\n-      if ( ( defOff != 0                                               &&\n-             tt_cmap14_char_map_def_binary( cmap->data + defOff,\n-                                            charCode )                 ) ||\n-           ( nondefOff != 0                                            &&\n-             tt_cmap14_char_map_nondef_binary( cmap->data + nondefOff,\n-                                               charCode ) != 0         ) )\n+      if ( ( defOff != 0                                                 &&\n+             tt_cmap14_char_map_def_binary( ttcmap->data + defOff,\n+                                            charCode )                   ) ||\n+           ( nondefOff != 0                                              &&\n+             tt_cmap14_char_map_nondef_binary( ttcmap->data + nondefOff,\n+                                               charCode ) != 0           ) )\n@@ -3492,1 +3491,1 @@\n-  tt_cmap14_variant_chars( TT_CMap    cmap,\n+  tt_cmap14_variant_chars( FT_CMap    cmap,             \/* TT_CMap *\/\n@@ -3496,5 +3495,6 @@\n-    FT_Byte    *p  = tt_cmap14_find_variant( cmap->data + 6,\n-                                             variantSelector );\n-    FT_Int      i;\n-    FT_ULong    defOff;\n-    FT_ULong    nondefOff;\n+    TT_CMap   ttcmap = (TT_CMap)cmap;\n+    FT_Byte  *p      = tt_cmap14_find_variant( ttcmap->data + 6,\n+                                               variantSelector );\n+    FT_Int    i;\n+    FT_ULong  defOff;\n+    FT_ULong  nondefOff;\n@@ -3513,1 +3513,1 @@\n-      return tt_cmap14_get_nondef_chars( cmap, cmap->data + nondefOff,\n+      return tt_cmap14_get_nondef_chars( ttcmap, ttcmap->data + nondefOff,\n@@ -3516,1 +3516,1 @@\n-      return tt_cmap14_get_def_chars( cmap, cmap->data + defOff,\n+      return tt_cmap14_get_def_chars( ttcmap, ttcmap->data + defOff,\n@@ -3522,1 +3522,1 @@\n-      TT_CMap14  cmap14 = (TT_CMap14) cmap;\n+      TT_CMap14  cmap14 = (TT_CMap14)cmap;\n@@ -3534,2 +3534,2 @@\n-      p  = cmap->data + nondefOff;\n-      dp = cmap->data + defOff;\n+      p  = ttcmap->data + nondefOff;\n+      dp = ttcmap->data + defOff;\n@@ -3542,1 +3542,1 @@\n-        return tt_cmap14_get_def_chars( cmap, cmap->data + defOff,\n+        return tt_cmap14_get_def_chars( ttcmap, ttcmap->data + defOff,\n@@ -3545,1 +3545,1 @@\n-        return tt_cmap14_get_nondef_chars( cmap, cmap->data + nondefOff,\n+        return tt_cmap14_get_nondef_chars( ttcmap, ttcmap->data + nondefOff,\n@@ -3667,1 +3667,1 @@\n-  tt_get_glyph_name( TT_Face  face,\n+  tt_get_glyph_name( void*    face_,   \/* TT_Face *\/\n@@ -3670,0 +3670,1 @@\n+    TT_Face     face   = (TT_Face)face_;\n@@ -3680,2 +3681,2 @@\n-  tt_cmap_unicode_init( PS_Unicodes  unicodes,\n-                        FT_Pointer   pointer )\n+  tt_cmap_unicode_init( FT_CMap     cmap,     \/* PS_Unicodes *\/\n+                        FT_Pointer  pointer )\n@@ -3683,3 +3684,4 @@\n-    TT_Face             face    = (TT_Face)FT_CMAP_FACE( unicodes );\n-    FT_Memory           memory  = FT_FACE_MEMORY( face );\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)face->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    TT_Face             face     = (TT_Face)FT_CMAP_FACE( cmap );\n+    FT_Memory           memory   = FT_FACE_MEMORY( face );\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)face->psnames;\n@@ -3696,1 +3698,1 @@\n-                                   (PS_GetGlyphNameFunc)&tt_get_glyph_name,\n+                                   &tt_get_glyph_name,\n@@ -3703,1 +3705,1 @@\n-  tt_cmap_unicode_done( PS_Unicodes  unicodes )\n+  tt_cmap_unicode_done( FT_CMap  cmap )    \/* PS_Unicodes *\/\n@@ -3705,2 +3707,3 @@\n-    FT_Face    face   = FT_CMAP_FACE( unicodes );\n-    FT_Memory  memory = FT_FACE_MEMORY( face );\n+    PS_Unicodes  unicodes = (PS_Unicodes)cmap;\n+    FT_Face      face     = FT_CMAP_FACE( cmap );\n+    FT_Memory    memory   = FT_FACE_MEMORY( face );\n@@ -3715,2 +3718,2 @@\n-  tt_cmap_unicode_char_index( PS_Unicodes  unicodes,\n-                              FT_UInt32    char_code )\n+  tt_cmap_unicode_char_index( FT_CMap    cmap,       \/* PS_Unicodes *\/\n+                              FT_UInt32  char_code )\n@@ -3718,2 +3721,3 @@\n-    TT_Face             face    = (TT_Face)FT_CMAP_FACE( unicodes );\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)face->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    TT_Face             face     = (TT_Face)FT_CMAP_FACE( cmap );\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)face->psnames;\n@@ -3726,3 +3730,3 @@\n-  FT_CALLBACK_DEF( FT_UInt32 )\n-  tt_cmap_unicode_char_next( PS_Unicodes  unicodes,\n-                             FT_UInt32   *pchar_code )\n+  FT_CALLBACK_DEF( FT_UInt )\n+  tt_cmap_unicode_char_next( FT_CMap     cmap,        \/* PS_Unicodes *\/\n+                             FT_UInt32  *pchar_code )\n@@ -3730,2 +3734,3 @@\n-    TT_Face             face    = (TT_Face)FT_CMAP_FACE( unicodes );\n-    FT_Service_PsCMaps  psnames = (FT_Service_PsCMaps)face->psnames;\n+    PS_Unicodes         unicodes = (PS_Unicodes)cmap;\n+    TT_Face             face     = (TT_Face)FT_CMAP_FACE( cmap );\n+    FT_Service_PsCMaps  psnames  = (FT_Service_PsCMaps)face->psnames;\n@@ -3886,1 +3891,1 @@\n-    FT_CMap        cmap  = (FT_CMap)charmap;\n+    FT_CMap        cmap  = FT_CMAP( charmap );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttcmap.c","additions":276,"deletions":271,"binary":false,"changes":547,"status":"modified"},{"patch":"@@ -232,1 +232,1 @@\n-      if ( base_glyphs_offset_v1 + 4 >= table_size )\n+      if ( base_glyphs_offset_v1 >= table_size - 4 )\n@@ -252,1 +252,1 @@\n-        if ( layer_offset_v1 + 4 >= table_size )\n+        if ( layer_offset_v1 >= table_size - 4 )\n@@ -702,1 +702,1 @@\n-        apaint->u.solid.color.alpha += item_deltas[0];\n+        apaint->u.solid.color.alpha += (FT_F2Dot14)item_deltas[0];\n@@ -1649,1 +1649,1 @@\n-        color_stop->color.alpha += item_deltas[1];\n+        color_stop->color.alpha += (FT_F2Dot14)item_deltas[1];\n@@ -1917,1 +1917,1 @@\n-  typedef int  _tt_colr_dummy;\n+  typedef int  tt_colr_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttcolr.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -306,1 +306,1 @@\n-  typedef int  _tt_cpal_dummy;\n+  typedef int  tt_cpal_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttcpal.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -507,0 +507,7 @@\n+    if ( !valid_entries )\n+    {\n+      FT_TRACE2(( \"tt_face_load_font_dir: no valid tables found\\n\" ));\n+      error = FT_THROW( Unknown_File_Format );\n+      goto Exit;\n+    }\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttload.c","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -242,1 +242,1 @@\n-      (FT_Service_MetricsVariations)face->var;\n+      (FT_Service_MetricsVariations)face->tt_var;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttmtx.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -159,3 +159,4 @@\n-  load_format_20( TT_Face    face,\n-                  FT_Stream  stream,\n-                  FT_ULong   post_len )\n+  load_format_20( TT_Post_Names  names,\n+                  FT_Stream      stream,\n+                  FT_UShort      num_glyphs,\n+                  FT_ULong       post_len )\n@@ -166,2 +167,2 @@\n-    FT_Int      num_glyphs;\n-    FT_UShort   num_names;\n+    FT_UShort   n;\n+    FT_UShort   num_names = 0;\n@@ -170,2 +171,2 @@\n-    FT_Char**   name_strings  = NULL;\n-    FT_Byte*    strings       = NULL;\n+    FT_Byte**   name_strings  = NULL;\n+    FT_Byte*    q;\n@@ -174,11 +175,1 @@\n-    if ( FT_READ_USHORT( num_glyphs ) )\n-      goto Exit;\n-\n-    \/* UNDOCUMENTED!  The number of glyphs in this table can be smaller *\/\n-    \/* than the value in the maxp table (cf. cyberbit.ttf).             *\/\n-\n-    \/* There already exist fonts which have more than 32768 glyph names *\/\n-    \/* in this table, so the test for this threshold has been dropped.  *\/\n-\n-    if ( num_glyphs > face->max_profile.numGlyphs  ||\n-         (FT_ULong)num_glyphs * 2UL > post_len - 2 )\n+    if ( (FT_ULong)num_glyphs * 2 > post_len )\n@@ -190,11 +181,4 @@\n-    \/* load the indices *\/\n-    {\n-      FT_Int  n;\n-\n-\n-      if ( FT_QNEW_ARRAY( glyph_indices, num_glyphs ) ||\n-           FT_FRAME_ENTER( num_glyphs * 2L )          )\n-        goto Fail;\n-\n-      for ( n = 0; n < num_glyphs; n++ )\n-        glyph_indices[n] = FT_GET_USHORT();\n+    \/* load the indices and note their maximum *\/\n+    if ( FT_QNEW_ARRAY( glyph_indices, num_glyphs ) ||\n+         FT_FRAME_ENTER( num_glyphs * 2 )           )\n+      goto Fail;\n@@ -202,2 +186,1 @@\n-      FT_FRAME_EXIT();\n-    }\n+    q = (FT_Byte*)stream->cursor;\n@@ -205,1 +188,1 @@\n-    \/* compute number of names stored in table *\/\n+    for ( n = 0; n < num_glyphs; n++ )\n@@ -207,1 +190,1 @@\n-      FT_Int  n;\n+      FT_UShort  idx = FT_NEXT_USHORT( q );\n@@ -210,1 +193,2 @@\n-      num_names = 0;\n+      if ( idx > num_names )\n+        num_names = idx;\n@@ -212,3 +196,2 @@\n-      for ( n = 0; n < num_glyphs; n++ )\n-      {\n-        FT_Int  idx;\n+      glyph_indices[n] = idx;\n+    }\n@@ -216,0 +199,1 @@\n+    FT_FRAME_EXIT();\n@@ -217,9 +201,2 @@\n-        idx = glyph_indices[n];\n-        if ( idx >= 258 )\n-        {\n-          idx -= 257;\n-          if ( idx > num_names )\n-            num_names = (FT_UShort)idx;\n-        }\n-      }\n-    }\n+    \/* compute number of names stored in the table *\/\n+    num_names = num_names > 257 ? num_names - 257 : 0;\n@@ -230,1 +207,0 @@\n-      FT_UShort  n;\n@@ -232,0 +208,1 @@\n+      FT_Byte*   strings;\n@@ -234,1 +211,5 @@\n-      post_len -= (FT_ULong)num_glyphs * 2UL + 2;\n+      post_len -= (FT_ULong)num_glyphs * 2;\n+\n+      if ( FT_QALLOC( name_strings, num_names * sizeof ( FT_Byte* ) +\n+                                    post_len + 1 ) )\n+        goto Fail;\n@@ -236,3 +217,2 @@\n-      if ( FT_QALLOC( strings, post_len + 1 )       ||\n-           FT_STREAM_READ( strings, post_len )      ||\n-           FT_QNEW_ARRAY( name_strings, num_names ) )\n+      strings = (FT_Byte*)( name_strings + num_names );\n+      if ( FT_STREAM_READ( strings, post_len ) )\n@@ -254,1 +234,1 @@\n-        name_strings[n] = (FT_Char*)strings + p + 1;\n+        name_strings[n] = strings + p + 1;\n@@ -262,9 +242,2 @@\n-        if ( post_len == 0 )\n-        {\n-          \/* fake empty string *\/\n-          if ( FT_QREALLOC( strings, 1, 2 ) )\n-            goto Fail;\n-\n-          post_len          = 1;\n-          strings[post_len] = 0;\n-        }\n+        FT_TRACE4(( \"load_format_20: %hu PostScript names are truncated\\n\",\n+                    num_names - n ));\n@@ -272,4 +245,0 @@\n-        FT_ERROR(( \"load_format_20:\"\n-                   \" all entries in post table are already parsed,\"\n-                   \" using NULL names for gid %d - %d\\n\",\n-                    n, num_names - 1 ));\n@@ -277,1 +246,1 @@\n-          name_strings[n] = (FT_Char*)strings + post_len;\n+          name_strings[n] = strings + post_len;\n@@ -282,3 +251,4 @@\n-    {\n-      TT_Post_20  table = &face->postscript_names.names.format_20;\n-\n+    names->num_glyphs    = num_glyphs;\n+    names->num_names     = num_names;\n+    names->glyph_indices = glyph_indices;\n+    names->glyph_names   = name_strings;\n@@ -286,5 +256,0 @@\n-      table->num_glyphs    = (FT_UShort)num_glyphs;\n-      table->num_names     = (FT_UShort)num_names;\n-      table->glyph_indices = glyph_indices;\n-      table->glyph_names   = name_strings;\n-    }\n@@ -295,1 +260,0 @@\n-    FT_FREE( strings );\n@@ -304,3 +268,4 @@\n-  load_format_25( TT_Face    face,\n-                  FT_Stream  stream,\n-                  FT_ULong   post_len )\n+  load_format_25( TT_Post_Names  names,\n+                  FT_Stream      stream,\n+                  FT_UShort      num_glyphs,\n+                  FT_ULong       post_len )\n@@ -311,4 +276,3 @@\n-    FT_Int     num_glyphs;\n-    FT_Char*   offset_table = NULL;\n-\n-    FT_UNUSED( post_len );\n+    FT_UShort   n;\n+    FT_UShort*  glyph_indices = NULL;\n+    FT_Byte*    q;\n@@ -317,7 +281,3 @@\n-    if ( FT_READ_USHORT( num_glyphs ) )\n-      goto Exit;\n-\n-    \/* check the number of glyphs *\/\n-    if ( num_glyphs > face->max_profile.numGlyphs ||\n-         num_glyphs > 258                         ||\n-         num_glyphs < 1                           )\n+    \/* check the number of glyphs, including the theoretical limit *\/\n+    if ( num_glyphs > post_len  ||\n+         num_glyphs > 258 + 128 )\n@@ -329,2 +289,3 @@\n-    if ( FT_QNEW_ARRAY( offset_table, num_glyphs )  ||\n-         FT_STREAM_READ( offset_table, num_glyphs ) )\n+    \/* load the indices and check their Mac range *\/\n+    if ( FT_QNEW_ARRAY( glyph_indices, num_glyphs ) ||\n+         FT_FRAME_ENTER( num_glyphs )               )\n@@ -333,3 +294,1 @@\n-    \/* now check the offset table *\/\n-    {\n-      FT_Int  n;\n+    q = (FT_Byte*)stream->cursor;\n@@ -337,0 +296,3 @@\n+    for ( n = 0; n < num_glyphs; n++ )\n+    {\n+      FT_Int  idx = n + FT_NEXT_CHAR( q );\n@@ -338,3 +300,0 @@\n-      for ( n = 0; n < num_glyphs; n++ )\n-      {\n-        FT_Long  idx = (FT_Long)n + offset_table[n];\n@@ -342,0 +301,2 @@\n+      if ( idx < 0 || idx > 257 )\n+        idx = 0;\n@@ -343,6 +304,1 @@\n-        if ( idx < 0 || idx > num_glyphs )\n-        {\n-          error = FT_THROW( Invalid_File_Format );\n-          goto Fail;\n-        }\n-      }\n+      glyph_indices[n] = (FT_UShort)idx;\n@@ -351,4 +307,1 @@\n-    \/* OK, set table fields and exit successfully *\/\n-    {\n-      TT_Post_25  table = &face->postscript_names.names.format_25;\n-\n+    FT_FRAME_EXIT();\n@@ -356,3 +309,3 @@\n-      table->num_glyphs = (FT_UShort)num_glyphs;\n-      table->offsets    = offset_table;\n-    }\n+    \/* OK, set table fields and exit successfully *\/\n+    names->num_glyphs    = num_glyphs;\n+    names->glyph_indices = glyph_indices;\n@@ -363,1 +316,1 @@\n-    FT_FREE( offset_table );\n+    FT_FREE( glyph_indices );\n@@ -373,3 +326,3 @@\n-    FT_Stream  stream;\n-    FT_Error   error;\n-    FT_Fixed   format;\n+    FT_Error   error = FT_Err_Ok;\n+    FT_Stream  stream = face->root.stream;\n+    FT_Fixed   format = face->postscript.FormatType;\n@@ -377,0 +330,1 @@\n+    FT_UShort  num_glyphs;\n@@ -379,3 +333,0 @@\n-    \/* get a stream for the face's resource *\/\n-    stream = face->root.stream;\n-\n@@ -387,4 +338,7 @@\n-    format = face->postscript.FormatType;\n-\n-    \/* go to beginning of subtable *\/\n-    if ( FT_STREAM_SKIP( 32 ) )\n+    \/* UNDOCUMENTED!  The number of glyphs in this table can be smaller *\/\n+    \/* than the value in the maxp table (cf. cyberbit.ttf).             *\/\n+    if ( post_len < 34                            ||\n+         FT_STREAM_SKIP( 32 )                     ||\n+         FT_READ_USHORT( num_glyphs )             ||\n+         num_glyphs > face->max_profile.numGlyphs ||\n+         num_glyphs == 0 )\n@@ -393,9 +347,7 @@\n-    \/* now read postscript table *\/\n-    if ( format == 0x00020000L && post_len >= 34 )\n-      error = load_format_20( face, stream, post_len - 32 );\n-    else if ( format == 0x00025000L && post_len >= 34 )\n-      error = load_format_25( face, stream, post_len - 32 );\n-    else\n-      error = FT_THROW( Invalid_File_Format );\n-\n-    face->postscript_names.loaded = 1;\n+    \/* now read postscript names data *\/\n+    if ( format == 0x00020000L )\n+      error = load_format_20( &face->postscript_names, stream,\n+                              num_glyphs, post_len - 34 );\n+    else if ( format == 0x00025000L )\n+      error = load_format_25( &face->postscript_names, stream,\n+                              num_glyphs, post_len - 34 );\n@@ -404,0 +356,1 @@\n+    face->postscript_names.loaded = 1;  \/* even if failed *\/\n@@ -413,1 +366,0 @@\n-    FT_Fixed       format;\n@@ -416,1 +368,1 @@\n-    if ( names->loaded )\n+    if ( names->num_glyphs )\n@@ -418,23 +370,3 @@\n-      format = face->postscript.FormatType;\n-\n-      if ( format == 0x00020000L )\n-      {\n-        TT_Post_20  table = &names->names.format_20;\n-\n-\n-        FT_FREE( table->glyph_indices );\n-        table->num_glyphs = 0;\n-\n-        if ( table->num_names )\n-        {\n-          table->glyph_names[0]--;\n-          FT_FREE( table->glyph_names[0] );\n-\n-          FT_FREE( table->glyph_names );\n-          table->num_names = 0;\n-        }\n-      }\n-      else if ( format == 0x00025000L )\n-      {\n-        TT_Post_25  table = &names->names.format_25;\n-\n+      FT_FREE( names->glyph_indices );\n+      names->num_glyphs = 0;\n+    }\n@@ -442,3 +374,4 @@\n-        FT_FREE( table->offsets );\n-        table->num_glyphs = 0;\n-      }\n+    if ( names->num_names )\n+    {\n+      FT_FREE( names->glyph_names );\n+      names->num_names = 0;\n@@ -446,0 +379,1 @@\n+\n@@ -481,1 +415,0 @@\n-    TT_Post_Names  names;\n@@ -501,2 +434,0 @@\n-    names = &face->postscript_names;\n-\n@@ -513,1 +444,2 @@\n-    else if ( format == 0x00020000L )\n+    else if ( format == 0x00020000L ||\n+              format == 0x00025000L )\n@@ -515,1 +447,1 @@\n-      TT_Post_20  table = &names->names.format_20;\n+      TT_Post_Names  names = &face->postscript_names;\n@@ -525,1 +457,1 @@\n-      if ( idx < (FT_UInt)table->num_glyphs )\n+      if ( idx < (FT_UInt)names->num_glyphs )\n@@ -527,1 +459,1 @@\n-        FT_UShort  name_index = table->glyph_indices[idx];\n+        FT_UShort  name_index = names->glyph_indices[idx];\n@@ -532,14 +464,2 @@\n-        else\n-          *PSname = (FT_String*)table->glyph_names[name_index - 258];\n-      }\n-    }\n-    else if ( format == 0x00025000L )\n-    {\n-      TT_Post_25  table = &names->names.format_25;\n-\n-\n-      if ( !names->loaded )\n-      {\n-        error = load_post_names( face );\n-        if ( error )\n-          goto End;\n+        else  \/* only for version 2.0 *\/\n+          *PSname = (FT_String*)names->glyph_names[name_index - 258];\n@@ -547,3 +467,0 @@\n-\n-      if ( idx < (FT_UInt)table->num_glyphs )    \/* paranoid checking *\/\n-        *PSname = MAC_NAME( (FT_Int)idx + table->offsets[idx] );\n@@ -555,0 +472,1 @@\n+    \/* post format errors ignored *\/\n@@ -561,1 +479,1 @@\n-  typedef int  _tt_post_dummy;\n+  typedef int  tt_post_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttpost.c","additions":101,"deletions":183,"binary":false,"changes":284,"status":"modified"},{"patch":"@@ -1680,1 +1680,1 @@\n-  typedef int  _tt_sbit_dummy;\n+  typedef int  tt_sbit_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/ttsbit.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -114,1 +114,1 @@\n-  typedef int  _woff2tags_dummy;\n+  typedef int  woff2tags_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/sfnt\/woff2tags.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1009,4 +1009,5 @@\n-#if defined( __SSE2__ )                          || \\\n-    defined( __x86_64__ )                        || \\\n-    defined( _M_AMD64 )                          || \\\n-    ( defined( _M_IX86_FP ) && _M_IX86_FP >= 2 )\n+#if ( defined( __SSE2__ )                          ||   \\\n+      defined( __x86_64__ )                        ||   \\\n+      defined( _M_AMD64 )                          ||   \\\n+      ( defined( _M_IX86_FP ) && _M_IX86_FP >= 2 ) ) && \\\n+    !defined( __VMS )\n@@ -1430,1 +1431,1 @@\n-                gray_PWorker      worker )\n+                void*             worker_ )  \/* gray_PWorker *\/\n@@ -1432,0 +1433,2 @@\n+    gray_PWorker  worker = (gray_PWorker)worker_;\n+\n@@ -1449,1 +1452,1 @@\n-                gray_PWorker      worker )\n+                void*             worker_ )   \/* gray_PWorker *\/\n@@ -1451,0 +1454,3 @@\n+    gray_PWorker  worker = (gray_PWorker)worker_;\n+\n+\n@@ -1459,1 +1465,1 @@\n-                 gray_PWorker      worker )\n+                 void*             worker_ )   \/* gray_PWorker *\/\n@@ -1461,0 +1467,3 @@\n+    gray_PWorker  worker = (gray_PWorker)worker_;\n+\n+\n@@ -1470,1 +1479,1 @@\n-                 gray_PWorker      worker )\n+                 void*             worker_ )   \/* gray_PWorker *\/\n@@ -1472,0 +1481,3 @@\n+    gray_PWorker  worker = (gray_PWorker)worker_;\n+\n+\n@@ -1669,0 +1681,2 @@\n+    int   last;      \/* index of last point in contour  *\/\n+\n@@ -1683,1 +1697,0 @@\n-    first = 0;\n@@ -1685,0 +1698,1 @@\n+    last = -1;\n@@ -1687,4 +1701,1 @@\n-      int  last;  \/* index of last point in contour *\/\n-\n-\n-      FT_TRACE5(( \"FT_Outline_Decompose: Outline %d\\n\", n ));\n+      FT_TRACE5(( \"FT_Outline_Decompose: Contour %d\\n\", n ));\n@@ -1692,0 +1703,1 @@\n+      first = last + 1;\n@@ -1693,1 +1705,1 @@\n-      if ( last < 0 )\n+      if ( last < first )\n@@ -1695,0 +1707,1 @@\n+\n@@ -1877,1 +1890,1 @@\n-   Close:\n+    Close:\n@@ -1880,2 +1893,0 @@\n-\n-      first = last + 1;\n@@ -1926,1 +1937,1 @@\n-      FT_TRACE7(( \"band [%d..%d]: %ld cell%s remaining\/\\n\",\n+      FT_TRACE7(( \"band [%d..%d]: %td cell%s remaining\/\\n\",\n@@ -2159,2 +2170,2 @@\n-  gray_raster_new( FT_Memory      memory,\n-                   gray_PRaster*  araster )\n+  gray_raster_new( void*       memory_,\n+                   FT_Raster*  araster_ )\n@@ -2162,0 +2173,3 @@\n+    FT_Memory      memory  = (FT_Memory)memory_;\n+    gray_PRaster*  araster = (gray_PRaster*)araster_;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/smooth\/ftgrays.c","additions":34,"deletions":20,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-  ft_smooth_init( FT_Renderer  render )\n+  ft_smooth_init( FT_Module  module )   \/* FT_Renderer *\/\n@@ -92,0 +92,2 @@\n+    FT_Renderer  render = (FT_Renderer)module;\n+\n@@ -114,1 +116,1 @@\n-                       TOrigin*        target )\n+                       void*           target_ )   \/* TOrigin* *\/\n@@ -116,0 +118,2 @@\n+    TOrigin*  target = (TOrigin*)target_;\n+\n@@ -144,1 +148,1 @@\n-    params.gray_spans = (FT_SpanFunc)ft_smooth_lcd_spans;\n+    params.gray_spans = ft_smooth_lcd_spans;\n@@ -259,1 +263,1 @@\n-  ft_smooth_init( FT_Renderer  render )\n+  ft_smooth_init( FT_Module  module )   \/* FT_Renderer *\/\n@@ -261,0 +265,3 @@\n+    FT_Renderer  render = (FT_Renderer)module;\n+\n+\n@@ -343,1 +350,1 @@\n-                           TOrigin*        target )\n+                           void*           target_ )\n@@ -345,0 +352,3 @@\n+    TOrigin*  target = (TOrigin*)target_;\n+\n+\n@@ -389,1 +399,1 @@\n-    params.gray_spans = (FT_SpanFunc)ft_smooth_overlap_spans;\n+    params.gray_spans = ft_smooth_overlap_spans;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/smooth\/ftsmooth.c","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -96,4 +96,8 @@\n-      if ( interpreter_version == TT_INTERPRETER_VERSION_35\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-           || interpreter_version == TT_INTERPRETER_VERSION_38\n-#endif\n+      switch ( interpreter_version )\n+      {\n+      case TT_INTERPRETER_VERSION_35:\n+        driver->interpreter_version = TT_INTERPRETER_VERSION_35;\n+        break;\n+\n+      case TT_INTERPRETER_VERSION_38:\n+      case TT_INTERPRETER_VERSION_40:\n@@ -101,1 +105,2 @@\n-           || interpreter_version == TT_INTERPRETER_VERSION_40\n+        driver->interpreter_version = TT_INTERPRETER_VERSION_40;\n+      break;\n@@ -103,3 +108,2 @@\n-         )\n-        driver->interpreter_version = interpreter_version;\n-      else\n+\n+      default:\n@@ -107,0 +111,1 @@\n+      }\n@@ -117,1 +122,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -120,1 +125,1 @@\n-                   const void*  value )\n+                   void*        value )\n@@ -147,2 +152,2 @@\n-    (FT_Properties_SetFunc)tt_property_set,     \/* set_property *\/\n-    (FT_Properties_GetFunc)tt_property_get      \/* get_property *\/\n+    tt_property_set,  \/* FT_Properties_SetFunc set_property *\/\n+    tt_property_get   \/* FT_Properties_GetFunc get_property *\/\n@@ -201,2 +206,2 @@\n-  static FT_Error\n-  tt_get_kerning( FT_Face     ttface,          \/* TT_Face *\/\n+  FT_CALLBACK_DEF( FT_Error )\n+  tt_get_kerning( FT_Face     face,        \/* TT_Face *\/\n@@ -207,2 +212,2 @@\n-    TT_Face       face = (TT_Face)ttface;\n-    SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n+    TT_Face       ttface = (TT_Face)face;\n+    SFNT_Service  sfnt   = (SFNT_Service)ttface->sfnt;\n@@ -215,1 +220,1 @@\n-      kerning->x = sfnt->get_kerning( face, left_glyph, right_glyph );\n+      kerning->x = sfnt->get_kerning( ttface, left_glyph, right_glyph );\n@@ -221,2 +226,2 @@\n-  static FT_Error\n-  tt_get_advances( FT_Face    ttface,\n+  FT_CALLBACK_DEF( FT_Error )\n+  tt_get_advances( FT_Face    face,      \/* TT_Face *\/\n@@ -229,1 +234,1 @@\n-    TT_Face  face = (TT_Face)ttface;\n+    TT_Face  ttface = (TT_Face)face;\n@@ -238,2 +243,2 @@\n-      if ( ( FT_IS_NAMED_INSTANCE( ttface ) || FT_IS_VARIATION( ttface ) ) &&\n-           !( face->variation_support & TT_FACE_FLAG_VAR_VADVANCE )        )\n+      if ( ( FT_IS_NAMED_INSTANCE( face ) || FT_IS_VARIATION( face ) ) &&\n+           !( ttface->variation_support & TT_FACE_FLAG_VAR_VADVANCE )  )\n@@ -250,1 +255,1 @@\n-        TT_Get_VMetrics( face, start + nn, 0, &tsb, &ah );\n+        TT_Get_VMetrics( ttface, start + nn, 0, &tsb, &ah );\n@@ -258,2 +263,2 @@\n-      if ( ( FT_IS_NAMED_INSTANCE( ttface ) || FT_IS_VARIATION( ttface ) ) &&\n-           !( face->variation_support & TT_FACE_FLAG_VAR_HADVANCE )        )\n+      if ( ( FT_IS_NAMED_INSTANCE( face ) || FT_IS_VARIATION( face ) ) &&\n+           !( ttface->variation_support & TT_FACE_FLAG_VAR_HADVANCE )  )\n@@ -269,1 +274,1 @@\n-        TT_Get_HMetrics( face, start + nn, &lsb, &aw );\n+        TT_Get_HMetrics( ttface, start + nn, &lsb, &aw );\n@@ -293,1 +298,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -309,1 +314,1 @@\n-      tt_size_reset( ttsize, 0 ); \/* ignore return value *\/\n+      tt_size_reset( ttsize ); \/* ignore return value *\/\n@@ -330,1 +335,1 @@\n-  static FT_Error\n+  FT_CALLBACK_DEF( FT_Error )\n@@ -370,1 +375,1 @@\n-      error = tt_size_reset( ttsize, 0 );\n+      error = tt_size_reset( ttsize );\n@@ -429,3 +434,3 @@\n-  static FT_Error\n-  tt_glyph_load( FT_GlyphSlot  ttslot,      \/* TT_GlyphSlot *\/\n-                 FT_Size       ttsize,      \/* TT_Size      *\/\n+  FT_CALLBACK_DEF( FT_Error )\n+  tt_glyph_load( FT_GlyphSlot  slot,        \/* TT_GlyphSlot *\/\n+                 FT_Size       size,        \/* TT_Size      *\/\n@@ -435,3 +440,3 @@\n-    TT_GlyphSlot  slot = (TT_GlyphSlot)ttslot;\n-    TT_Size       size = (TT_Size)ttsize;\n-    FT_Face       face = ttslot->face;\n+    TT_GlyphSlot  ttslot = (TT_GlyphSlot)slot;\n+    TT_Size       ttsize = (TT_Size)size;\n+    FT_Face       face   = ttslot->face;\n@@ -479,3 +484,3 @@\n-    size->metrics = ( load_flags & FT_LOAD_NO_HINTING )\n-                      ? &ttsize->metrics\n-                      : &size->hinted_metrics;\n+    ttsize->metrics = ( load_flags & FT_LOAD_NO_HINTING )\n+                        ? &size->metrics\n+                        : &ttsize->hinted_metrics;\n@@ -484,1 +489,1 @@\n-    error = TT_Load_Glyph( size, slot, glyph_index, load_flags );\n+    error = TT_Load_Glyph( ttsize, ttslot, glyph_index, load_flags );\n@@ -510,28 +515,25 @@\n-    (FT_Get_MM_Func)        NULL,                  \/* get_mm                    *\/\n-    (FT_Set_MM_Design_Func) NULL,                  \/* set_mm_design             *\/\n-    (FT_Set_MM_Blend_Func)  TT_Set_MM_Blend,       \/* set_mm_blend              *\/\n-    (FT_Get_MM_Blend_Func)  TT_Get_MM_Blend,       \/* get_mm_blend              *\/\n-    (FT_Get_MM_Var_Func)    TT_Get_MM_Var,         \/* get_mm_var                *\/\n-    (FT_Set_Var_Design_Func)TT_Set_Var_Design,     \/* set_var_design            *\/\n-    (FT_Get_Var_Design_Func)TT_Get_Var_Design,     \/* get_var_design            *\/\n-    (FT_Set_Instance_Func)  TT_Set_Named_Instance, \/* set_instance              *\/\n-    (FT_Set_MM_WeightVector_Func)\n-                            NULL,                  \/* set_mm_weightvector       *\/\n-    (FT_Get_MM_WeightVector_Func)\n-                            NULL,                  \/* get_mm_weightvector       *\/\n-    (FT_Var_Load_Delta_Set_Idx_Map_Func)\n-                            tt_var_load_delta_set_index_mapping,\n-                                                   \/* load_delta_set_idx_map    *\/\n-    (FT_Var_Load_Item_Var_Store_Func)\n-                            tt_var_load_item_variation_store,\n-                                                   \/* load_item_variation_store *\/\n-    (FT_Var_Get_Item_Delta_Func)\n-                            tt_var_get_item_delta, \/* get_item_delta            *\/\n-    (FT_Var_Done_Item_Var_Store_Func)\n-                            tt_var_done_item_variation_store,\n-                                                   \/* done_item_variation_store *\/\n-    (FT_Var_Done_Delta_Set_Idx_Map_Func)\n-                            tt_var_done_delta_set_index_map,\n-                                                   \/* done_delta_set_index_map  *\/\n-    (FT_Get_Var_Blend_Func) tt_get_var_blend,      \/* get_var_blend             *\/\n-    (FT_Done_Blend_Func)    tt_done_blend          \/* done_blend                *\/\n+    NULL,                  \/* FT_Get_MM_Func              get_mm                     *\/\n+    NULL,                  \/* FT_Set_MM_Design_Func       set_mm_design              *\/\n+    TT_Set_MM_Blend,       \/* FT_Set_MM_Blend_Func        set_mm_blend               *\/\n+    TT_Get_MM_Blend,       \/* FT_Get_MM_Blend_Func        get_mm_blend               *\/\n+    TT_Get_MM_Var,         \/* FT_Get_MM_Var_Func          get_mm_var                 *\/\n+    TT_Set_Var_Design,     \/* FT_Set_Var_Design_Func      set_var_design             *\/\n+    TT_Get_Var_Design,     \/* FT_Get_Var_Design_Func      get_var_design             *\/\n+    TT_Set_Named_Instance, \/* FT_Set_Named_Instance_Func  set_named_instance         *\/\n+    TT_Get_Default_Named_Instance,\n+                    \/* FT_Get_Default_Named_Instance_Func get_default_named_instance *\/\n+    NULL,                  \/* FT_Set_MM_WeightVector_Func set_mm_weightvector        *\/\n+    NULL,                  \/* FT_Get_MM_WeightVector_Func get_mm_weightvector        *\/\n+\n+    tt_construct_ps_name,  \/* FT_Construct_PS_Name_Func   construct_ps_name          *\/\n+    tt_var_load_delta_set_index_mapping,\n+                    \/* FT_Var_Load_Delta_Set_Idx_Map_Func load_delta_set_idx_map     *\/\n+    tt_var_load_item_variation_store,\n+                    \/* FT_Var_Load_Item_Var_Store_Func    load_item_variation_store  *\/\n+    tt_var_get_item_delta, \/* FT_Var_Get_Item_Delta_Func  get_item_delta             *\/\n+    tt_var_done_item_variation_store,\n+                    \/* FT_Var_Done_Item_Var_Store_Func    done_item_variation_store  *\/\n+    tt_var_done_delta_set_index_map,\n+                    \/* FT_Var_Done_Delta_Set_Idx_Map_Func done_delta_set_index_map   *\/\n+    tt_get_var_blend,      \/* FT_Get_Var_Blend_Func       get_var_blend              *\/\n+    tt_done_blend          \/* FT_Done_Blend_Func          done_blend                 *\/\n@@ -543,3 +545,3 @@\n-    (FT_HAdvance_Adjust_Func)tt_hadvance_adjust,     \/* hadvance_adjust *\/\n-    (FT_LSB_Adjust_Func)     NULL,                   \/* lsb_adjust      *\/\n-    (FT_RSB_Adjust_Func)     NULL,                   \/* rsb_adjust      *\/\n+    tt_hadvance_adjust,   \/* FT_HAdvance_Adjust_Func hadvance_adjust *\/\n+    NULL,                 \/* FT_LSB_Adjust_Func      lsb_adjust      *\/\n+    NULL,                 \/* FT_RSB_Adjust_Func      rsb_adjust      *\/\n@@ -547,4 +549,4 @@\n-    (FT_VAdvance_Adjust_Func)tt_vadvance_adjust,     \/* vadvance_adjust *\/\n-    (FT_TSB_Adjust_Func)     NULL,                   \/* tsb_adjust      *\/\n-    (FT_BSB_Adjust_Func)     NULL,                   \/* bsb_adjust      *\/\n-    (FT_VOrg_Adjust_Func)    NULL,                   \/* vorg_adjust     *\/\n+    tt_vadvance_adjust,   \/* FT_VAdvance_Adjust_Func vadvance_adjust *\/\n+    NULL,                 \/* FT_TSB_Adjust_Func      tsb_adjust      *\/\n+    NULL,                 \/* FT_BSB_Adjust_Func      bsb_adjust      *\/\n+    NULL,                 \/* FT_VOrg_Adjust_Func     vorg_adjust     *\/\n@@ -552,1 +554,2 @@\n-    (FT_Metrics_Adjust_Func) tt_apply_mvar           \/* metrics_adjust  *\/\n+    tt_apply_mvar,        \/* FT_Metrics_Adjust_Func  metrics_adjust  *\/\n+    tt_size_reset_height  \/* FT_Size_Reset_Func      size_reset      *\/\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttdriver.c","additions":80,"deletions":77,"binary":false,"changes":157,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-#include \"ttsubpix.h\"\n@@ -155,3 +154,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    TT_Driver  driver = (TT_Driver)FT_FACE_DRIVER( face );\n-#endif\n@@ -186,14 +182,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 &&\n-         loader->exec                                             )\n-    {\n-      loader->exec->sph_tweak_flags = 0;\n-\n-      \/* This may not be the right place for this, but it works...  *\/\n-      \/* Note that we have to unconditionally load the tweaks since *\/\n-      \/* it is possible that glyphs individually switch ClearType's *\/\n-      \/* backward compatibility mode on and off.                    *\/\n-      sph_set_tweaks( loader, glyph_index );\n-    }\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -365,0 +347,1 @@\n+    FT_Outline*     outline    = &gloader->current.outline;\n@@ -366,2 +349,0 @@\n-    FT_Outline*     outline;\n-    FT_UShort       n_ins;\n@@ -369,0 +350,1 @@\n+    FT_UShort       n_ins;\n@@ -374,2 +356,1 @@\n-    FT_Short        *cont, *cont_limit, prev_cont;\n-    FT_Int          xy_size = 0;\n+    FT_Short        *cont, *cont_limit, last;\n@@ -383,4 +364,0 @@\n-    \/* reading the contours' endpoints & number of points *\/\n-    cont       = gloader->current.outline.contours;\n-    cont_limit = cont + n_contours;\n-\n@@ -388,1 +365,1 @@\n-    if ( n_contours >= 0xFFF || p + ( n_contours + 1 ) * 2 > limit )\n+    if ( n_contours >= 0xFFF || p + 2 * n_contours + 2 > limit )\n@@ -391,7 +368,3 @@\n-    prev_cont = FT_NEXT_SHORT( p );\n-\n-    if ( n_contours > 0 )\n-      cont[0] = prev_cont;\n-\n-    if ( prev_cont < 0 )\n-      goto Invalid_Outline;\n+    \/* reading the contours' endpoints & number of points *\/\n+    cont       = outline->contours;\n+    cont_limit = cont + n_contours;\n@@ -399,1 +372,2 @@\n-    for ( cont++; cont < cont_limit; cont++ )\n+    last = -1;\n+    for ( ; cont < cont_limit; cont++ )\n@@ -401,8 +375,1 @@\n-      cont[0] = FT_NEXT_SHORT( p );\n-      if ( cont[0] <= prev_cont )\n-      {\n-        \/* unordered contours: this is invalid *\/\n-        goto Invalid_Outline;\n-      }\n-      prev_cont = cont[0];\n-    }\n+      *cont = FT_NEXT_SHORT( p );\n@@ -410,5 +377,1 @@\n-    n_points = 0;\n-    if ( n_contours > 0 )\n-    {\n-      n_points = cont[-1] + 1;\n-      if ( n_points < 0 )\n+      if ( *cont <= last )\n@@ -416,0 +379,2 @@\n+\n+      last = *cont;\n@@ -418,0 +383,2 @@\n+    n_points = last + 1;\n+\n@@ -425,7 +392,1 @@\n-    \/* reading the bytecode instructions *\/\n-    load->glyph->control_len  = 0;\n-    load->glyph->control_data = NULL;\n-\n-    if ( p + 2 > limit )\n-      goto Invalid_Outline;\n-\n+    \/* space checked above *\/\n@@ -436,0 +397,8 @@\n+    \/* check instructions size *\/\n+    if ( p + n_ins > limit )\n+    {\n+      FT_TRACE1(( \"TT_Load_Simple_Glyph: excessive instruction count\\n\" ));\n+      error = FT_THROW( Too_Many_Hints );\n+      goto Fail;\n+    }\n+\n@@ -440,1 +409,2 @@\n-      FT_ULong  tmp;\n+      TT_ExecContext  exec = load->exec;\n+      FT_Memory       memory = exec->memory;\n@@ -443,7 +413,3 @@\n-      \/* check instructions size *\/\n-      if ( ( limit - p ) < n_ins )\n-      {\n-        FT_TRACE1(( \"TT_Load_Simple_Glyph: instruction count mismatch\\n\" ));\n-        error = FT_THROW( Too_Many_Hints );\n-        goto Fail;\n-      }\n+      if ( exec->glyphSize )\n+        FT_FREE( exec->glyphIns );\n+      exec->glyphSize = 0;\n@@ -452,12 +418,5 @@\n-      \/* and thus update the bytecode array size by ourselves       *\/\n-\n-      tmp   = load->exec->glyphSize;\n-      error = Update_Max( load->exec->memory,\n-                          &tmp,\n-                          sizeof ( FT_Byte ),\n-                          (void*)&load->exec->glyphIns,\n-                          n_ins );\n-\n-      load->exec->glyphSize = (FT_UInt)tmp;\n-      if ( error )\n-        return error;\n+      \/* and thus allocate the bytecode array size by ourselves     *\/\n+      if ( n_ins )\n+      {\n+        if ( FT_QNEW_ARRAY( exec->glyphIns, n_ins ) )\n+          return error;\n@@ -465,2 +424,1 @@\n-      load->glyph->control_len  = n_ins;\n-      load->glyph->control_data = load->exec->glyphIns;\n+        FT_MEM_COPY( exec->glyphIns, p, (FT_Long)n_ins );\n@@ -468,2 +426,2 @@\n-      if ( n_ins )\n-        FT_MEM_COPY( load->exec->glyphIns, p, (FT_Long)n_ins );\n+        exec->glyphSize  = n_ins;\n+      }\n@@ -476,2 +434,0 @@\n-    outline = &gloader->current.outline;\n-\n@@ -515,3 +471,0 @@\n-    if ( p + xy_size > limit )\n-      goto Invalid_Outline;\n-\n@@ -547,1 +500,1 @@\n-    vec       = gloader->current.outline.points;\n+    vec       = outline->points;\n@@ -830,2 +783,1 @@\n-#if defined TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY || \\\n-    defined TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n+#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n@@ -839,1 +791,2 @@\n-    FT_Long       n_ins;\n+    TT_ExecContext  exec  = loader->exec;\n+    FT_Long         n_ins = exec->glyphSize;\n@@ -846,2 +799,0 @@\n-    n_ins = loader->glyph->control_len;\n-\n@@ -853,1 +804,1 @@\n-    loader->exec->GS = loader->size->GS;\n+    exec->GS = loader->size->GS;\n@@ -859,2 +810,2 @@\n-      loader->exec->metrics.x_scale = 1 << 16;\n-      loader->exec->metrics.y_scale = 1 << 16;\n+      exec->metrics.x_scale = 1 << 16;\n+      exec->metrics.y_scale = 1 << 16;\n@@ -866,2 +817,2 @@\n-      loader->exec->metrics.x_scale = loader->size->metrics->x_scale;\n-      loader->exec->metrics.y_scale = loader->size->metrics->y_scale;\n+      exec->metrics.x_scale = loader->size->metrics->x_scale;\n+      exec->metrics.y_scale = loader->size->metrics->y_scale;\n@@ -887,3 +838,0 @@\n-      FT_GlyphLoader  gloader         = loader->gloader;\n-      FT_Outline      current_outline = gloader->current.outline;\n-\n@@ -891,2 +839,1 @@\n-      TT_Set_CodeRange( loader->exec, tt_coderange_glyph,\n-                        loader->exec->glyphIns, n_ins );\n+      TT_Set_CodeRange( exec, tt_coderange_glyph, exec->glyphIns, n_ins );\n@@ -894,2 +841,2 @@\n-      loader->exec->is_composite = is_composite;\n-      loader->exec->pts          = *zone;\n+      exec->is_composite = is_composite;\n+      exec->pts          = *zone;\n@@ -897,2 +844,2 @@\n-      error = TT_Run_Context( loader->exec );\n-      if ( error && loader->exec->pedantic_hinting )\n+      error = TT_Run_Context( exec );\n+      if ( error && exec->pedantic_hinting )\n@@ -902,2 +849,2 @@\n-      current_outline.tags[0] |=\n-        ( loader->exec->GS.scan_type << 5 ) | FT_CURVE_TAG_HAS_SCANMODE;\n+      loader->gloader->current.outline.tags[0] |=\n+        ( exec->GS.scan_type << 5 ) | FT_CURVE_TAG_HAS_SCANMODE;\n@@ -908,1 +855,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n@@ -912,8 +858,1 @@\n-    if ( !( driver->interpreter_version == TT_INTERPRETER_VERSION_40 &&\n-            loader->exec->backward_compatibility ) )\n-    {\n-#endif\n-      loader->pp1 = zone->cur[zone->n_points - 4];\n-      loader->pp2 = zone->cur[zone->n_points - 3];\n-      loader->pp3 = zone->cur[zone->n_points - 2];\n-      loader->pp4 = zone->cur[zone->n_points - 1];\n+\n@@ -921,1 +860,3 @@\n-    }\n+    if ( driver->interpreter_version == TT_INTERPRETER_VERSION_40 &&\n+         exec->backward_compatibility )\n+      return FT_Err_Ok;\n@@ -924,10 +865,4 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 )\n-    {\n-      if ( loader->exec->sph_tweak_flags & SPH_TWEAK_DEEMBOLDEN )\n-        FT_Outline_EmboldenXY( &loader->gloader->current.outline, -24, 0 );\n-\n-      else if ( loader->exec->sph_tweak_flags & SPH_TWEAK_EMBOLDEN )\n-        FT_Outline_EmboldenXY( &loader->gloader->current.outline, 24, 0 );\n-    }\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n+    loader->pp1 = zone->cur[zone->n_points - 4];\n+    loader->pp2 = zone->cur[zone->n_points - 3];\n+    loader->pp3 = zone->cur[zone->n_points - 2];\n+    loader->pp4 = zone->cur[zone->n_points - 1];\n@@ -952,4 +887,4 @@\n-    FT_GlyphLoader  gloader = loader->gloader;\n-    FT_Error        error   = FT_Err_Ok;\n-    FT_Outline*     outline;\n-    FT_Int          n_points;\n+    FT_Error        error    = FT_Err_Ok;\n+    FT_GlyphLoader  gloader  = loader->gloader;\n+    FT_Outline*     outline  = &gloader->current.outline;\n+    FT_Int          n_points = outline->n_points;\n@@ -963,3 +898,0 @@\n-    outline  = &gloader->current.outline;\n-    n_points = outline->n_points;\n-\n@@ -967,1 +899,0 @@\n-\n@@ -979,1 +910,1 @@\n-      if ( FT_NEW_ARRAY( unrounded, n_points ) )\n+      if ( FT_QNEW_ARRAY( unrounded, n_points ) )\n@@ -1001,10 +932,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      TT_Face    face   = loader->face;\n-      TT_Driver  driver = (TT_Driver)FT_FACE_DRIVER( face );\n-\n-      FT_String*  family         = face->root.family_name;\n-      FT_UInt     ppem           = loader->size->metrics->x_ppem;\n-      FT_String*  style          = face->root.style_name;\n-      FT_UInt     x_scale_factor = 1000;\n-#endif\n-\n@@ -1020,46 +941,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-      if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 )\n-      {\n-        \/* scale, but only if enabled and only if TT hinting is being used *\/\n-        if ( IS_HINTED( loader->load_flags ) )\n-          x_scale_factor = sph_test_tweak_x_scaling( face,\n-                                                     family,\n-                                                     ppem,\n-                                                     style,\n-                                                     loader->glyph_index );\n-        \/* scale the glyph *\/\n-        if ( ( loader->load_flags & FT_LOAD_NO_SCALE ) == 0 ||\n-             x_scale_factor != 1000                         )\n-        {\n-          x_scale = FT_MulDiv( loader->size->metrics->x_scale,\n-                               (FT_Long)x_scale_factor, 1000 );\n-          y_scale = loader->size->metrics->y_scale;\n-\n-          \/* compensate for any scaling by de\/emboldening; *\/\n-          \/* the amount was determined via experimentation *\/\n-          if ( x_scale_factor != 1000 && ppem > 11 )\n-          {\n-#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n-            FT_Vector*  orig_points = outline->points;\n-\n-\n-            if ( !IS_DEFAULT_INSTANCE( FT_FACE( loader->face ) ) )\n-              outline->points = unrounded;\n-#endif\n-            FT_Outline_EmboldenXY( outline,\n-                                   FT_MulFix( 1280 * ppem,\n-                                              1000 - x_scale_factor ),\n-                                   0 );\n-#ifdef TT_CONFIG_OPTION_GX_VAR_SUPPORT\n-            if ( !IS_DEFAULT_INSTANCE( FT_FACE( loader->face ) ) )\n-              outline->points = orig_points;\n-#endif\n-          }\n-          do_scale = TRUE;\n-        }\n-      }\n-      else\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -1334,1 +1209,3 @@\n-    FT_Outline*  outline;\n+    FT_Outline*  outline = &loader->gloader->base.outline;\n+    FT_Stream    stream = loader->stream;\n+    FT_UShort    n_ins;\n@@ -1338,2 +1215,0 @@\n-    outline = &loader->gloader->base.outline;\n-\n@@ -1355,3 +1230,3 @@\n-      FT_Stream  stream = loader->stream;\n-      FT_UShort  n_ins, max_ins;\n-      FT_ULong   tmp;\n+      TT_ExecContext  exec = loader->exec;\n+      FT_Memory       memory = exec->memory;\n+\n@@ -1359,0 +1234,3 @@\n+      if ( exec->glyphSize )\n+        FT_FREE( exec->glyphIns );\n+      exec->glyphSize = 0;\n@@ -1368,20 +1246,2 @@\n-      \/* check it *\/\n-      max_ins = loader->face->max_profile.maxSizeOfInstructions;\n-      if ( n_ins > max_ins )\n-      {\n-        \/* don't trust `maxSizeOfInstructions'; *\/\n-        \/* only do a rough safety check         *\/\n-        if ( n_ins > loader->byte_len )\n-        {\n-          FT_TRACE1(( \"TT_Process_Composite_Glyph:\"\n-                      \" too many instructions (%hu) for glyph with length %u\\n\",\n-                      n_ins, loader->byte_len ));\n-          return FT_THROW( Too_Many_Hints );\n-        }\n-\n-        tmp   = loader->exec->glyphSize;\n-        error = Update_Max( loader->exec->memory,\n-                            &tmp,\n-                            sizeof ( FT_Byte ),\n-                            (void*)&loader->exec->glyphIns,\n-                            n_ins );\n+      if ( !n_ins )\n+        return FT_Err_Ok;\n@@ -1389,3 +1249,8 @@\n-        loader->exec->glyphSize = (FT_UShort)tmp;\n-        if ( error )\n-          return error;\n+      \/* don't trust `maxSizeOfInstructions'; *\/\n+      \/* only do a rough safety check         *\/\n+      if ( n_ins > loader->byte_len )\n+      {\n+        FT_TRACE1(( \"TT_Process_Composite_Glyph:\"\n+                    \" too many instructions (%hu) for glyph with length %u\\n\",\n+                    n_ins, loader->byte_len ));\n+        return FT_THROW( Too_Many_Hints );\n@@ -1393,2 +1258,0 @@\n-      else if ( n_ins == 0 )\n-        return FT_Err_Ok;\n@@ -1396,1 +1259,2 @@\n-      if ( FT_STREAM_READ( loader->exec->glyphIns, n_ins ) )\n+      if ( FT_QNEW_ARRAY( exec->glyphIns, n_ins )  ||\n+           FT_STREAM_READ( exec->glyphIns, n_ins ) )\n@@ -1399,2 +1263,1 @@\n-      loader->glyph->control_data = loader->exec->glyphIns;\n-      loader->glyph->control_len  = n_ins;\n+      exec->glyphSize = n_ins;\n@@ -1504,30 +1367,0 @@\n-    FT_Bool  subpixel_hinting = 0;\n-    FT_Bool  grayscale        = 0;\n-    FT_Bool  use_aw_2         = 0;\n-\n-#ifdef TT_CONFIG_OPTION_SUBPIXEL_HINTING\n-    TT_Driver driver = (TT_Driver)FT_FACE_DRIVER( loader->face );\n-#endif\n-\n-\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 )\n-    {\n-      subpixel_hinting = loader->exec ? loader->exec->subpixel_hinting\n-                                      : 0;\n-      grayscale        = loader->exec ? loader->exec->grayscale\n-                                      : 0;\n-    }\n-#endif\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n-    if ( driver->interpreter_version == TT_INTERPRETER_VERSION_40 )\n-    {\n-      subpixel_hinting = loader->exec ? loader->exec->subpixel_hinting_lean\n-                                      : 0;\n-      grayscale        = loader->exec ? loader->exec->grayscale_cleartype\n-                                      : 0;\n-    }\n-#endif\n-\n-    use_aw_2 = FT_BOOL( subpixel_hinting && grayscale );\n-\n@@ -1539,1 +1372,1 @@\n-    loader->pp3.x = use_aw_2 ? loader->advance \/ 2 : 0;\n+    loader->pp3.x = 0;\n@@ -1541,1 +1374,1 @@\n-    loader->pp4.x = use_aw_2 ? loader->advance \/ 2 : 0;\n+    loader->pp4.x = 0;\n@@ -1543,0 +1376,16 @@\n+\n+#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n+    {\n+      TT_Driver driver = (TT_Driver)FT_FACE_DRIVER( loader->face );\n+\n+\n+      if ( driver->interpreter_version == TT_INTERPRETER_VERSION_40 &&\n+           loader->exec                                             &&\n+           loader->exec->subpixel_hinting_lean                      &&\n+           loader->exec->grayscale_cleartype                        )\n+      {\n+        loader->pp3.x = loader->advance \/ 2;\n+        loader->pp4.x = loader->advance \/ 2;\n+      }\n+    }\n+#endif\n@@ -1665,0 +1514,3 @@\n+    {\n+      FT_ULong  len;\n+\n@@ -1666,1 +1518,4 @@\n-      offset = tt_face_get_location( face, glyph_index, &loader->byte_len );\n+      offset = tt_face_get_location( FT_FACE( face ), glyph_index, &len );\n+\n+      loader->byte_len = (FT_UInt)len;\n+    }\n@@ -1892,4 +1747,1 @@\n-        FT_Outline  outline;\n-        FT_Vector*  points    = NULL;\n-        char*       tags      = NULL;\n-        short*      contours  = NULL;\n+        FT_Outline  outline = { 0, 0, NULL, NULL, NULL, 0 };\n@@ -1903,10 +1755,4 @@\n-        outline.n_contours = outline.n_points = limit;\n-\n-        outline.points   = NULL;\n-        outline.tags     = NULL;\n-        outline.contours = NULL;\n-\n-        if ( FT_NEW_ARRAY( points, limit + 4 )    ||\n-             FT_NEW_ARRAY( tags, limit + 4 )      ||\n-             FT_NEW_ARRAY( contours, limit + 4 )  ||\n-             FT_NEW_ARRAY( unrounded, limit + 4 ) )\n+        if ( FT_QNEW_ARRAY( outline.points, limit + 4 ) ||\n+             FT_QNEW_ARRAY( outline.tags, limit )       ||\n+             FT_QNEW_ARRAY( outline.contours, limit )   ||\n+             FT_QNEW_ARRAY( unrounded, limit + 4 )      )\n@@ -1915,0 +1761,2 @@\n+        outline.n_contours = outline.n_points = limit;\n+\n@@ -1922,4 +1770,4 @@\n-          points[i].x = subglyph->arg1;\n-          points[i].y = subglyph->arg2;\n-          tags[i]     = 1;\n-          contours[i] = i;\n+          outline.points[i].x = subglyph->arg1;\n+          outline.points[i].y = subglyph->arg2;\n+          outline.tags[i]     = ON_CURVE_POINT;\n+          outline.contours[i] = i;\n@@ -1928,8 +1776,4 @@\n-        points[i++] = loader->pp1;\n-        points[i++] = loader->pp2;\n-        points[i++] = loader->pp3;\n-        points[i  ] = loader->pp4;\n-\n-        outline.points   = points;\n-        outline.tags     = tags;\n-        outline.contours = contours;\n+        outline.points[i++] = loader->pp1;\n+        outline.points[i++] = loader->pp2;\n+        outline.points[i++] = loader->pp3;\n+        outline.points[i  ] = loader->pp4;\n@@ -1950,2 +1794,2 @@\n-            subglyph->arg1 = (FT_Int16)points[i].x;\n-            subglyph->arg2 = (FT_Int16)points[i].y;\n+            subglyph->arg1 = (FT_Int16)outline.points[i].x;\n+            subglyph->arg2 = (FT_Int16)outline.points[i].y;\n@@ -2335,2 +2179,1 @@\n-#if defined TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY || \\\n-    defined TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n+#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n@@ -2356,14 +2199,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      FT_Bool  subpixel_hinting = FALSE;\n-\n-#if 0\n-      \/* not used yet *\/\n-      FT_Bool  compatible_widths;\n-      FT_Bool  symmetrical_smoothing;\n-      FT_Bool  bgr;\n-      FT_Bool  vertical_lcd;\n-      FT_Bool  subpixel_positioned;\n-      FT_Bool  gray_cleartype;\n-#endif\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -2389,0 +2218,3 @@\n+      grayscale = FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n+                             FT_RENDER_MODE_MONO             );\n+\n@@ -2405,0 +2237,1 @@\n+        grayscale = FT_BOOL( grayscale && !subpixel_hinting_lean );\n@@ -2414,69 +2247,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-      if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 )\n-      {\n-        subpixel_hinting = FT_BOOL( ( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                                      FT_RENDER_MODE_MONO               )  &&\n-                                    SPH_OPTION_SET_SUBPIXEL                );\n-\n-        if ( subpixel_hinting )\n-          grayscale = FALSE;\n-        else if ( SPH_OPTION_SET_GRAYSCALE )\n-        {\n-          grayscale        = TRUE;\n-          subpixel_hinting = FALSE;\n-        }\n-        else\n-          grayscale = FALSE;\n-\n-        if ( FT_IS_TRICKY( glyph->face ) )\n-          subpixel_hinting = FALSE;\n-\n-        exec->ignore_x_mode      = subpixel_hinting || grayscale;\n-        exec->rasterizer_version = SPH_OPTION_SET_RASTERIZER_VERSION;\n-        if ( exec->sph_tweak_flags & SPH_TWEAK_RASTERIZER_35 )\n-          exec->rasterizer_version = TT_INTERPRETER_VERSION_35;\n-\n-#if 1\n-        exec->compatible_widths     = SPH_OPTION_SET_COMPATIBLE_WIDTHS;\n-        exec->symmetrical_smoothing = TRUE;\n-        exec->bgr                   = FALSE;\n-        exec->vertical_lcd          = FALSE;\n-        exec->subpixel_positioned   = TRUE;\n-        exec->gray_cleartype        = FALSE;\n-#else \/* 0 *\/\n-        exec->compatible_widths =\n-          FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                   TT_LOAD_COMPATIBLE_WIDTHS );\n-        exec->symmetrical_smoothing =\n-          FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                   TT_LOAD_SYMMETRICAL_SMOOTHING );\n-        exec->bgr =\n-          FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                   TT_LOAD_BGR );\n-        exec->vertical_lcd =\n-          FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                   TT_LOAD_VERTICAL_LCD );\n-        exec->subpixel_positioned =\n-          FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                   TT_LOAD_SUBPIXEL_POSITIONED );\n-        exec->gray_cleartype =\n-          FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                   TT_LOAD_GRAY_CLEARTYPE );\n-#endif \/* 0 *\/\n-\n-      }\n-      else\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n-      if ( driver->interpreter_version == TT_INTERPRETER_VERSION_40 )\n-        grayscale = FT_BOOL( !subpixel_hinting_lean               &&\n-                             FT_LOAD_TARGET_MODE( load_flags ) !=\n-                               FT_RENDER_MODE_MONO                );\n-      else\n-#endif\n-        grayscale = FT_BOOL( FT_LOAD_TARGET_MODE( load_flags ) !=\n-                               FT_RENDER_MODE_MONO             );\n-\n@@ -2487,30 +2251,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-      if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 )\n-      {\n-        \/* a change from mono to subpixel rendering (and vice versa) *\/\n-        \/* requires a re-execution of the CVT program                *\/\n-        if ( subpixel_hinting != exec->subpixel_hinting )\n-        {\n-          FT_TRACE4(( \"tt_loader_init: subpixel hinting change,\"\n-                      \" re-executing `prep' table\\n\" ));\n-\n-          exec->subpixel_hinting = subpixel_hinting;\n-          reexecute              = TRUE;\n-        }\n-\n-        \/* a change from mono to grayscale rendering (and vice versa) *\/\n-        \/* requires a re-execution of the CVT program                 *\/\n-        if ( grayscale != exec->grayscale )\n-        {\n-          FT_TRACE4(( \"tt_loader_init: grayscale hinting change,\"\n-                      \" re-executing `prep' table\\n\" ));\n-\n-          exec->grayscale = grayscale;\n-          reexecute       = TRUE;\n-        }\n-      }\n-      else\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -2518,1 +2252,0 @@\n-\n@@ -2576,8 +2309,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      \/* check whether we have a font hinted for ClearType --           *\/\n-      \/* note that this flag can also be modified in a glyph's bytecode *\/\n-      if ( driver->interpreter_version == TT_INTERPRETER_VERSION_38 &&\n-           exec->GS.instruct_control & 4                            )\n-        exec->ignore_x_mode = FALSE;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -2619,7 +2344,0 @@\n-#endif\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-           !( driver->interpreter_version == TT_INTERPRETER_VERSION_38  &&\n-              !SPH_OPTION_BITMAP_WIDTHS                                 &&\n-              FT_LOAD_TARGET_MODE( loader->load_flags ) !=\n-                                                   FT_RENDER_MODE_MONO  &&\n-              exec->compatible_widths                                   ) &&\n@@ -2860,1 +2578,3 @@\n-    if ( ( load_flags & FT_LOAD_COLOR ) && face->svg )\n+    if ( ( load_flags & FT_LOAD_NO_SVG ) == 0 &&\n+         ( load_flags & FT_LOAD_COLOR )       &&\n+         face->svg                            )\n@@ -2958,0 +2678,3 @@\n+        glyph->control_data = loader.exec->glyphIns;\n+        glyph->control_len  = loader.exec->glyphSize;\n+\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttgload.c","additions":141,"deletions":418,"binary":false,"changes":559,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+#include <freetype\/internal\/services\/svmetric.h>\n@@ -468,1 +469,1 @@\n-                face,\n+                FT_FACE( face ),\n@@ -478,1 +479,1 @@\n-                face,\n+                FT_FACE( face ),\n@@ -495,1 +496,1 @@\n-  tt_var_load_item_variation_store( TT_Face          face,\n+  tt_var_load_item_variation_store( FT_Face          face,      \/* TT_Face *\/\n@@ -499,0 +500,1 @@\n+    TT_Face    ttface = (TT_Face)face;\n@@ -510,1 +512,1 @@\n-    FT_UInt  i, j, k;\n+    FT_UInt  i, j;\n@@ -513,1 +515,1 @@\n-    GX_Blend   blend           = face->blend;\n+    GX_Blend   blend           = ttface->blend;\n@@ -622,3 +624,4 @@\n-      FT_UInt  item_count;\n-      FT_UInt  word_delta_count;\n-      FT_UInt  region_idx_count;\n+      FT_UInt    item_count;\n+      FT_UShort  word_delta_count;\n+      FT_UInt    region_idx_count;\n+      FT_UInt    per_region_size;\n@@ -661,0 +664,2 @@\n+      varData->wordDeltaCount = word_delta_count;\n+      varData->longWords      = long_words;\n@@ -676,9 +681,3 @@\n-      \/* Parse delta set.                                                  *\/\n-      \/*                                                                   *\/\n-      \/* On input, deltas are (word_delta_count + region_idx_count) bytes  *\/\n-      \/* each if `long_words` isn't set, and twice as much otherwise.      *\/\n-      \/*                                                                   *\/\n-      \/* On output, deltas are expanded to `region_idx_count` shorts each. *\/\n-      if ( FT_NEW_ARRAY( varData->deltaSet, item_count * region_idx_count ) )\n-        goto Exit;\n-      varData->itemCount = item_count;\n+      per_region_size = word_delta_count + region_idx_count;\n+      if ( long_words )\n+        per_region_size *= 2;\n@@ -686,1 +685,5 @@\n-      for ( j = 0; j < item_count * region_idx_count; )\n+      if ( FT_NEW_ARRAY( varData->deltaSet, per_region_size * item_count ) )\n+        goto Exit;\n+      if ( FT_Stream_Read( stream,\n+                           varData->deltaSet,\n+                           per_region_size * item_count ) )\n@@ -688,18 +691,3 @@\n-        if ( long_words )\n-        {\n-          for ( k = 0; k < word_delta_count; k++, j++ )\n-            if ( FT_READ_LONG( varData->deltaSet[j] ) )\n-              goto Exit;\n-          for ( ; k < region_idx_count; k++, j++ )\n-            if ( FT_READ_SHORT( varData->deltaSet[j] ) )\n-              goto Exit;\n-        }\n-        else\n-        {\n-          for ( k = 0; k < word_delta_count; k++, j++ )\n-            if ( FT_READ_SHORT( varData->deltaSet[j] ) )\n-              goto Exit;\n-          for ( ; k < region_idx_count; k++, j++ )\n-            if ( FT_READ_CHAR( varData->deltaSet[j] ) )\n-              goto Exit;\n-        }\n+        FT_TRACE2(( \"deltaSet read failed.\" ));\n+        error = FT_THROW( Invalid_Table );\n+        goto Exit;\n@@ -707,0 +695,2 @@\n+\n+      varData->itemCount = item_count;\n@@ -717,1 +707,1 @@\n-  tt_var_load_delta_set_index_mapping( TT_Face            face,\n+  tt_var_load_delta_set_index_mapping( FT_Face            face, \/* TT_Face *\/\n@@ -944,1 +934,1 @@\n-              face,\n+              FT_FACE( face ),\n@@ -953,1 +943,1 @@\n-                face,\n+                FT_FACE( face ),\n@@ -995,1 +985,1 @@\n-  tt_var_get_item_delta( TT_Face          face,\n+  tt_var_get_item_delta( FT_Face          face,        \/* TT_Face *\/\n@@ -1000,0 +990,1 @@\n+    TT_Face    ttface = (TT_Face)face;\n@@ -1005,1 +996,5 @@\n-    FT_ItemVarDelta*  deltaSet;\n+    FT_ItemVarDelta*  deltaSet = NULL;\n+    FT_ItemVarDelta   deltaSetStack[16];\n+\n+    FT_Fixed*  scalars = NULL;\n+    FT_Fixed   scalarsStack[16];\n@@ -1008,2 +1003,3 @@\n-    FT_Fixed*        scalars = NULL;\n-    FT_ItemVarDelta  returnValue;\n+    FT_ItemVarDelta  returnValue = 0;\n+    FT_UInt          per_region_size;\n+    FT_Byte*         bytes;\n@@ -1012,1 +1008,1 @@\n-    if ( !face->blend || !face->blend->normalizedcoords )\n+    if ( !ttface->blend || !ttface->blend->normalizedcoords )\n@@ -1026,3 +1022,1 @@\n-    varData  = &itemStore->varData[outerIndex];\n-    deltaSet = FT_OFFSET( varData->deltaSet,\n-                          varData->regionIdxCount * innerIndex );\n+    varData = &itemStore->varData[outerIndex];\n@@ -1033,2 +1027,37 @@\n-    if ( FT_QNEW_ARRAY( scalars, varData->regionIdxCount ) )\n-      return 0;\n+    if ( varData->regionIdxCount < 16 )\n+    {\n+      deltaSet = deltaSetStack;\n+      scalars  = scalarsStack;\n+    }\n+    else\n+    {\n+      if ( FT_QNEW_ARRAY( deltaSet, varData->regionIdxCount ) )\n+        goto Exit;\n+      if ( FT_QNEW_ARRAY( scalars, varData->regionIdxCount ) )\n+        goto Exit;\n+    }\n+\n+    \/* Parse delta set.                                            *\/\n+    \/*                                                             *\/\n+    \/* Deltas are (word_delta_count + region_idx_count) bytes each *\/\n+    \/* if `longWords` isn't set, and twice as much otherwise.      *\/\n+    per_region_size = varData->wordDeltaCount + varData->regionIdxCount;\n+    if ( varData->longWords )\n+      per_region_size *= 2;\n+\n+    bytes = varData->deltaSet + per_region_size * innerIndex;\n+\n+    if ( varData->longWords )\n+    {\n+      for ( master = 0; master < varData->wordDeltaCount; master++ )\n+        deltaSet[master] = FT_NEXT_LONG( bytes );\n+      for ( ; master < varData->regionIdxCount; master++ )\n+        deltaSet[master] = FT_NEXT_SHORT( bytes );\n+    }\n+    else\n+    {\n+      for ( master = 0; master < varData->wordDeltaCount; master++ )\n+        deltaSet[master] = FT_NEXT_SHORT( bytes );\n+      for ( ; master < varData->regionIdxCount; master++ )\n+        deltaSet[master] = FT_NEXT_CHAR( bytes );\n+    }\n@@ -1063,1 +1092,1 @@\n-        else if ( face->blend->normalizedcoords[j] == axis->peakCoord )\n+        else if ( ttface->blend->normalizedcoords[j] == axis->peakCoord )\n@@ -1067,2 +1096,2 @@\n-        else if ( face->blend->normalizedcoords[j] <= axis->startCoord ||\n-                  face->blend->normalizedcoords[j] >= axis->endCoord   )\n+        else if ( ttface->blend->normalizedcoords[j] <= axis->startCoord ||\n+                  ttface->blend->normalizedcoords[j] >= axis->endCoord   )\n@@ -1075,1 +1104,1 @@\n-        else if ( face->blend->normalizedcoords[j] < axis->peakCoord )\n+        else if ( ttface->blend->normalizedcoords[j] < axis->peakCoord )\n@@ -1078,1 +1107,1 @@\n-                       face->blend->normalizedcoords[j] - axis->startCoord,\n+                       ttface->blend->normalizedcoords[j] - axis->startCoord,\n@@ -1083,1 +1112,1 @@\n-                       axis->endCoord - face->blend->normalizedcoords[j],\n+                       axis->endCoord - ttface->blend->normalizedcoords[j],\n@@ -1109,1 +1138,5 @@\n-    FT_FREE( scalars );\n+  Exit:\n+    if ( scalars != scalarsStack )\n+      FT_FREE( scalars );\n+    if ( deltaSet != deltaSetStack )\n+      FT_FREE( deltaSet );\n@@ -1209,1 +1242,1 @@\n-    delta = tt_var_get_item_delta( face,\n+    delta = tt_var_get_item_delta( FT_FACE( face ),\n@@ -1232,1 +1265,1 @@\n-  tt_hadvance_adjust( TT_Face  face,\n+  tt_hadvance_adjust( FT_Face  face,    \/* TT_Face *\/\n@@ -1236,1 +1269,1 @@\n-    return tt_hvadvance_adjust( face, gindex, avalue, 0 );\n+    return tt_hvadvance_adjust( (TT_Face)face, gindex, avalue, 0 );\n@@ -1241,1 +1274,1 @@\n-  tt_vadvance_adjust( TT_Face  face,\n+  tt_vadvance_adjust( FT_Face  face,    \/* TT_Face *\/\n@@ -1245,1 +1278,1 @@\n-    return tt_hvadvance_adjust( face, gindex, avalue, 1 );\n+    return tt_hvadvance_adjust( (TT_Face)face, gindex, avalue, 1 );\n@@ -1392,1 +1425,1 @@\n-              face,\n+              FT_FACE( face ),\n@@ -1465,1 +1498,1 @@\n-  tt_size_reset_iterator( FT_ListNode  node,\n+  ft_size_reset_iterator( FT_ListNode  node,\n@@ -1468,3 +1501,2 @@\n-    TT_Size  size = (TT_Size)node->data;\n-\n-    FT_UNUSED( user );\n+    FT_Size                       size = (FT_Size)node->data;\n+    FT_Service_MetricsVariations  var  = (FT_Service_MetricsVariations)user;\n@@ -1473,1 +1505,1 @@\n-    tt_size_reset( size, 1 );\n+    var->size_reset( size );\n@@ -1492,1 +1524,1 @@\n-  tt_apply_mvar( TT_Face  face )\n+  tt_apply_mvar( FT_Face  face )  \/* TT_Face *\/\n@@ -1494,1 +1526,3 @@\n-    GX_Blend  blend = face->blend;\n+    TT_Face  ttface = (TT_Face)face;\n+\n+    GX_Blend  blend = ttface->blend;\n@@ -1496,0 +1530,1 @@\n+\n@@ -1501,1 +1536,1 @@\n-    if ( !( face->variation_support & TT_FACE_FLAG_VAR_MVAR ) )\n+    if ( !( ttface->variation_support & TT_FACE_FLAG_VAR_MVAR ) )\n@@ -1509,1 +1544,1 @@\n-      FT_Short*  p = ft_var_get_value_pointer( face, value->tag );\n+      FT_Short*  p = ft_var_get_value_pointer( ttface, value->tag );\n@@ -1546,1 +1581,2 @@\n-      FT_Face  root = &face->root;\n+      FT_Service_MetricsVariations  var =\n+        (FT_Service_MetricsVariations)ttface->face_var;\n@@ -1574,2 +1610,2 @@\n-      FT_Short  current_line_gap = root->height - root->ascender +\n-                                   root->descender;\n+      FT_Short  current_line_gap = face->height - face->ascender +\n+                                   face->descender;\n@@ -1578,3 +1614,3 @@\n-      root->ascender  = root->ascender + mvar_hasc_delta;\n-      root->descender = root->descender + mvar_hdsc_delta;\n-      root->height    = root->ascender - root->descender +\n+      face->ascender  = face->ascender + mvar_hasc_delta;\n+      face->descender = face->descender + mvar_hdsc_delta;\n+      face->height    = face->ascender - face->descender +\n@@ -1583,3 +1619,3 @@\n-      root->underline_position  = face->postscript.underlinePosition -\n-                                  face->postscript.underlineThickness \/ 2;\n-      root->underline_thickness = face->postscript.underlineThickness;\n+      face->underline_position  = ttface->postscript.underlinePosition -\n+                                  ttface->postscript.underlineThickness \/ 2;\n+      face->underline_thickness = ttface->postscript.underlineThickness;\n@@ -1587,5 +1623,6 @@\n-      \/* iterate over all FT_Size objects and call `tt_size_reset' *\/\n-      \/* to propagate the metrics changes                          *\/\n-      FT_List_Iterate( &root->sizes_list,\n-                       tt_size_reset_iterator,\n-                       NULL );\n+      \/* iterate over all FT_Size objects and call `var->size_reset' *\/\n+      \/* to propagate the metrics changes                            *\/\n+      if ( var && var->size_reset )\n+        FT_List_Iterate( &face->sizes_list,\n+                         ft_size_reset_iterator,\n+                         (void*)var );\n@@ -2102,1 +2139,1 @@\n-          delta = tt_var_get_item_delta( face,\n+          delta = tt_var_get_item_delta( FT_FACE( face ),\n@@ -2264,1 +2301,1 @@\n-  TT_Get_MM_Var( TT_Face      face,\n+  TT_Get_MM_Var( FT_Face      face,    \/* TT_Face *\/\n@@ -2267,2 +2304,3 @@\n-    FT_Stream            stream     = face->root.stream;\n-    FT_Memory            memory     = face->root.memory;\n+    TT_Face              ttface     = (TT_Face)face;\n+    FT_Stream            stream     = FT_FACE_STREAM( face );\n+    FT_Memory            memory     = FT_FACE_MEMORY( face );\n@@ -2332,1 +2370,1 @@\n-    num_instances = (FT_UInt)face->root.style_flags >> 16;\n+    num_instances = (FT_UInt)face->style_flags >> 16;\n@@ -2337,1 +2375,1 @@\n-    need_init = !face->blend;\n+    need_init = !ttface->blend;\n@@ -2343,2 +2381,2 @@\n-      if ( FT_SET_ERROR( face->goto_table( face, TTAG_fvar,\n-                                           stream, &table_len ) ) )\n+      if ( FT_SET_ERROR( ttface->goto_table( ttface, TTAG_fvar,\n+                                             stream, &table_len ) ) )\n@@ -2377,1 +2415,1 @@\n-      if ( FT_NEW( face->blend ) )\n+      if ( FT_NEW( ttface->blend ) )\n@@ -2380,2 +2418,2 @@\n-      num_axes              = fvar_head.axisCount;\n-      face->blend->num_axis = num_axes;\n+      num_axes                = fvar_head.axisCount;\n+      ttface->blend->num_axis = num_axes;\n@@ -2384,1 +2422,1 @@\n-      num_axes = face->blend->num_axis;\n+      num_axes = ttface->blend->num_axis;\n@@ -2413,8 +2451,8 @@\n-      face->blend->mmvar_len = mmvar_size       +\n-                               axis_flags_size  +\n-                               axis_size        +\n-                               namedstyle_size  +\n-                               next_coords_size +\n-                               next_name_size;\n-\n-      if ( FT_ALLOC( mmvar, face->blend->mmvar_len ) )\n+      ttface->blend->mmvar_len = mmvar_size       +\n+                                 axis_flags_size  +\n+                                 axis_size        +\n+                                 namedstyle_size  +\n+                                 next_coords_size +\n+                                 next_name_size;\n+\n+      if ( FT_ALLOC( mmvar, ttface->blend->mmvar_len ) )\n@@ -2422,1 +2460,1 @@\n-      face->blend->mmvar = mmvar;\n+      ttface->blend->mmvar = mmvar;\n@@ -2528,1 +2566,1 @@\n-      if ( FT_NEW_ARRAY( face->blend->normalized_stylecoords,\n+      if ( FT_NEW_ARRAY( ttface->blend->normalized_stylecoords,\n@@ -2532,1 +2570,1 @@\n-      if ( fvar_head.instanceCount && !face->blend->avar_loaded )\n+      if ( fvar_head.instanceCount && !ttface->blend->avar_loaded )\n@@ -2537,1 +2575,1 @@\n-        ft_var_load_avar( face );\n+        ft_var_load_avar( ttface );\n@@ -2543,1 +2581,1 @@\n-      FT_TRACE5(( \"%d instance%s\\n\",\n+      FT_TRACE5(( \"%d named instance%s\\n\",\n@@ -2548,1 +2586,1 @@\n-      nsc = face->blend->normalized_stylecoords;\n+      nsc = ttface->blend->normalized_stylecoords;\n@@ -2571,1 +2609,1 @@\n-          SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n+          SFNT_Service  sfnt = (SFNT_Service)ttface->sfnt;\n@@ -2583,1 +2621,1 @@\n-            (void)sfnt->get_name( face,\n+            (void)sfnt->get_name( ttface,\n@@ -2592,1 +2630,1 @@\n-            (void)sfnt->get_name( face,\n+            (void)sfnt->get_name( ttface,\n@@ -2601,1 +2639,1 @@\n-          FT_TRACE5(( \"  instance %d (%s%s%s, %s%s%s)\\n\",\n+          FT_TRACE5(( \"  named instance %d (%s%s%s, %s%s%s)\\n\",\n@@ -2615,1 +2653,1 @@\n-        ft_var_to_normalized( face, num_axes, ns->coords, nsc );\n+        ft_var_to_normalized( ttface, num_axes, ns->coords, nsc );\n@@ -2623,1 +2661,1 @@\n-        SFNT_Service  sfnt = (SFNT_Service)face->sfnt;\n+        SFNT_Service  sfnt = (SFNT_Service)ttface->sfnt;\n@@ -2629,3 +2667,5 @@\n-        \/* the default instance is missing in array the   *\/\n-        \/* of named instances; try to synthesize an entry *\/\n-        found = sfnt->get_name_id( face,\n+        \/* The default instance is missing in array the    *\/\n+        \/* of named instances; try to synthesize an entry. *\/\n+        \/* If this fails, `default_named_instance` remains *\/\n+        \/* at value zero, which doesn't do any harm.       *\/\n+        found = sfnt->get_name_id( ttface,\n@@ -2639,1 +2679,1 @@\n-          found = sfnt->get_name_id( face,\n+          found = sfnt->get_name_id( ttface,\n@@ -2649,1 +2689,1 @@\n-          found = sfnt->get_name_id( face,\n+          found = sfnt->get_name_id( ttface,\n@@ -2658,0 +2698,3 @@\n+            \/* named instance indices start with value 1 *\/\n+            ttface->var_default_named_instance = num_instances;\n+\n@@ -2671,1 +2714,1 @@\n-      ft_var_load_mvar( face );\n+      ft_var_load_mvar( ttface );\n@@ -2681,1 +2724,1 @@\n-      if ( FT_ALLOC( mmvar, face->blend->mmvar_len ) )\n+      if ( FT_ALLOC( mmvar, ttface->blend->mmvar_len ) )\n@@ -2683,1 +2726,1 @@\n-      FT_MEM_COPY( mmvar, face->blend->mmvar, face->blend->mmvar_len );\n+      FT_MEM_COPY( mmvar, ttface->blend->mmvar, ttface->blend->mmvar_len );\n@@ -2759,1 +2802,1 @@\n-      if ( FT_SET_ERROR( TT_Get_MM_Var( face, NULL ) ) )\n+      if ( FT_SET_ERROR( TT_Get_MM_Var( FT_FACE( face ), NULL ) ) )\n@@ -2844,1 +2887,1 @@\n-      if ( FT_IS_NAMED_INSTANCE( FT_FACE( face ) ) )\n+      if ( !have_diff )\n@@ -2846,1 +2889,3 @@\n-        FT_UInt  instance_index = (FT_UInt)face->root.face_index >> 16;\n+        if ( FT_IS_NAMED_INSTANCE( FT_FACE( face ) ) )\n+        {\n+          FT_UInt  instance_index = (FT_UInt)face->root.face_index >> 16;\n@@ -2849,4 +2894,4 @@\n-        c = blend->normalizedcoords + i;\n-        n = blend->normalized_stylecoords            +\n-            ( instance_index - 1 ) * mmvar->num_axis +\n-            i;\n+          c = blend->normalizedcoords + i;\n+          n = blend->normalized_stylecoords            +\n+              ( instance_index - 1 ) * mmvar->num_axis +\n+              i;\n@@ -2854,10 +2899,11 @@\n-        for ( j = i; j < mmvar->num_axis; j++, n++, c++ )\n-          if ( *c != *n )\n-            have_diff = 1;\n-      }\n-      else\n-      {\n-        c = blend->normalizedcoords + i;\n-        for ( j = i; j < mmvar->num_axis; j++, c++ )\n-          if ( *c != 0 )\n-            have_diff = 1;\n+          for ( j = i; j < mmvar->num_axis; j++, n++, c++ )\n+            if ( *c != *n )\n+              have_diff = 1;\n+        }\n+        else\n+        {\n+          c = blend->normalizedcoords + i;\n+          for ( j = i; j < mmvar->num_axis; j++, c++ )\n+            if ( *c != 0 )\n+              have_diff = 1;\n+        }\n@@ -2927,3 +2973,0 @@\n-    \/* enforce recomputation of the PostScript name; *\/\n-    FT_FREE( face->postscript_name );\n-\n@@ -2961,1 +3004,2 @@\n-   *   FreeType error code.  0 means success.\n+   *   FreeType error code.  0 means success, -1 means success and unchanged\n+   *   axis values.\n@@ -2964,1 +3008,1 @@\n-  TT_Set_MM_Blend( TT_Face    face,\n+  TT_Set_MM_Blend( FT_Face    face,       \/* TT_Face *\/\n@@ -2968,13 +3012,1 @@\n-    FT_Error  error;\n-\n-\n-    error = tt_set_mm_blend( face, num_coords, coords, 1 );\n-    if ( error )\n-      return error;\n-\n-    if ( num_coords )\n-      face->root.face_flags |= FT_FACE_FLAG_VARIATION;\n-    else\n-      face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n-\n-    return FT_Err_Ok;\n+    return tt_set_mm_blend( (TT_Face)face, num_coords, coords, 1 );\n@@ -3008,1 +3040,2 @@\n-   *   FreeType error code.  0 means success.\n+   *   FreeType error code.  0 means success, -1 means success and unchanged\n+   *   axis values.\n@@ -3011,1 +3044,1 @@\n-  TT_Get_MM_Blend( TT_Face    face,\n+  TT_Get_MM_Blend( FT_Face    face,       \/* TT_Face *\/\n@@ -3015,0 +3048,2 @@\n+    TT_Face  ttface = (TT_Face)face;\n+\n@@ -3020,1 +3055,1 @@\n-    if ( !face->blend )\n+    if ( !ttface->blend )\n@@ -3026,1 +3061,1 @@\n-    blend = face->blend;\n+    blend = ttface->blend;\n@@ -3032,1 +3067,1 @@\n-      if ( FT_SET_ERROR( tt_set_mm_blend( face, 0, NULL, 1 ) ) )\n+      if ( FT_SET_ERROR( tt_set_mm_blend( ttface, 0, NULL, 1 ) ) )\n@@ -3045,1 +3080,1 @@\n-    if ( face->doblend )\n+    if ( ttface->doblend )\n@@ -3092,1 +3127,1 @@\n-  TT_Set_Var_Design( TT_Face    face,\n+  TT_Set_Var_Design( FT_Face    face,       \/* TT_Face *\/\n@@ -3096,0 +3131,1 @@\n+    TT_Face     ttface = (TT_Face)face;\n@@ -3100,1 +3136,1 @@\n-    FT_Memory   memory = face->root.memory;\n+    FT_Memory   memory = FT_FACE_MEMORY( face );\n@@ -3109,1 +3145,1 @@\n-    if ( !face->blend )\n+    if ( !ttface->blend )\n@@ -3115,1 +3151,1 @@\n-    blend = face->blend;\n+    blend = ttface->blend;\n@@ -3143,1 +3179,1 @@\n-    if ( FT_IS_NAMED_INSTANCE( FT_FACE( face ) ) )\n+    if ( FT_IS_NAMED_INSTANCE( face ) )\n@@ -3149,1 +3185,1 @@\n-      instance_index = (FT_UInt)face->root.face_index >> 16;\n+      instance_index = (FT_UInt)face->face_index >> 16;\n@@ -3186,2 +3222,2 @@\n-    if ( !face->blend->avar_loaded )\n-      ft_var_load_avar( face );\n+    if ( !ttface->blend->avar_loaded )\n+      ft_var_load_avar( ttface );\n@@ -3191,1 +3227,1 @@\n-    ft_var_to_normalized( face, num_coords, blend->coords, normalized );\n+    ft_var_to_normalized( ttface, num_coords, blend->coords, normalized );\n@@ -3193,1 +3229,1 @@\n-    error = tt_set_mm_blend( face, mmvar->num_axis, normalized, 0 );\n+    error = tt_set_mm_blend( ttface, mmvar->num_axis, normalized, 0 );\n@@ -3197,5 +3233,0 @@\n-    if ( num_coords )\n-      face->root.face_flags |= FT_FACE_FLAG_VARIATION;\n-    else\n-      face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n-\n@@ -3234,1 +3265,1 @@\n-  TT_Get_Var_Design( TT_Face    face,\n+  TT_Get_Var_Design( FT_Face    face,       \/* TT_Face *\/\n@@ -3238,1 +3269,2 @@\n-    FT_Error  error = FT_Err_Ok;\n+    TT_Face   ttface = (TT_Face)face;\n+    FT_Error  error  = FT_Err_Ok;\n@@ -3243,1 +3275,1 @@\n-    if ( !face->blend )\n+    if ( !ttface->blend )\n@@ -3249,1 +3281,1 @@\n-    blend = face->blend;\n+    blend = ttface->blend;\n@@ -3255,1 +3287,1 @@\n-      if ( FT_SET_ERROR( tt_set_mm_blend( face, 0, NULL, 1 ) ) )\n+      if ( FT_SET_ERROR( tt_set_mm_blend( ttface, 0, NULL, 1 ) ) )\n@@ -3268,1 +3300,1 @@\n-    if ( face->doblend )\n+    if ( ttface->doblend )\n@@ -3304,1 +3336,2 @@\n-   *   FreeType error code.  0~means success.\n+   *   FreeType error code.  0~means success, -1 means success and unchanged\n+   *   axis values.\n@@ -3307,1 +3340,1 @@\n-  TT_Set_Named_Instance( TT_Face  face,\n+  TT_Set_Named_Instance( FT_Face  face,            \/* TT_Face *\/\n@@ -3310,0 +3343,1 @@\n+    TT_Face     ttface = (TT_Face)face;\n@@ -3314,0 +3348,2 @@\n+    FT_Memory  memory = FT_FACE_MEMORY( face );\n+\n@@ -3317,1 +3353,1 @@\n-    if ( !face->blend )\n+    if ( !ttface->blend )\n@@ -3323,1 +3359,1 @@\n-    blend = face->blend;\n+    blend = ttface->blend;\n@@ -3326,1 +3362,1 @@\n-    num_instances = (FT_UInt)face->root.style_flags >> 16;\n+    num_instances = (FT_UInt)face->style_flags >> 16;\n@@ -3337,2 +3373,1 @@\n-      FT_Memory     memory = face->root.memory;\n-      SFNT_Service  sfnt   = (SFNT_Service)face->sfnt;\n+      SFNT_Service  sfnt = (SFNT_Service)ttface->sfnt;\n@@ -3346,1 +3381,1 @@\n-      error = sfnt->get_name( face,\n+      error = sfnt->get_name( ttface,\n@@ -3353,2 +3388,2 @@\n-      FT_FREE( face->root.style_name );\n-      face->root.style_name = style_name;\n+      FT_FREE( face->style_name );\n+      face->style_name = style_name;\n@@ -3360,7 +3395,0 @@\n-      if ( error )\n-      {\n-        \/* internal error code -1 means `no change' *\/\n-        if ( error == -1 )\n-          error = FT_Err_Ok;\n-        goto Exit;\n-      }\n@@ -3369,0 +3397,5 @@\n+    {\n+      \/* restore non-VF style name *\/\n+      FT_FREE( face->style_name );\n+      if ( FT_STRDUP( face->style_name, ttface->non_var_style_name ) )\n+        goto Exit;\n@@ -3370,0 +3403,32 @@\n+    }\n+\n+  Exit:\n+    return error;\n+  }\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   TT_Get_Default_Named_Instance\n+   *\n+   * @Description:\n+   *   Get the default named instance.\n+   *\n+   * @Input:\n+   *   face ::\n+   *     A handle to the source face.\n+   *\n+   * @Output:\n+   *   instance_index ::\n+   *     The default named instance index.\n+   *\n+   * @Return:\n+   *   FreeType error code.  0~means success.\n+   *\/\n+  FT_LOCAL_DEF( FT_Error )\n+  TT_Get_Default_Named_Instance( FT_Face   face,\n+                                 FT_UInt  *instance_index )\n+  {\n+    TT_Face   ttface = (TT_Face)face;\n+    FT_Error  error  = FT_Err_Ok;\n@@ -3371,3 +3436,8 @@\n-    face->root.face_index  = ( instance_index << 16 )             |\n-                             ( face->root.face_index & 0xFFFFL );\n-    face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n+\n+    if ( !ttface->blend )\n+    {\n+      if ( FT_SET_ERROR( TT_Get_MM_Var( face, NULL ) ) )\n+        goto Exit;\n+    }\n+\n+    *instance_index = ttface->var_default_named_instance;\n@@ -3380,0 +3450,14 @@\n+  \/* This function triggers (lazy) recomputation of the `postscript_name` *\/\n+  \/* field in `TT_Face`.                                                  *\/\n+\n+  FT_LOCAL_DEF( void )\n+  tt_construct_ps_name( FT_Face  face )\n+  {\n+    TT_Face    ttface = (TT_Face)face;\n+    FT_Memory  memory = FT_FACE_MEMORY( face );\n+\n+\n+    FT_FREE( ttface->postscript_name );\n+  }\n+\n+\n@@ -4412,1 +4496,1 @@\n-  tt_get_var_blend( TT_Face      face,\n+  tt_get_var_blend( FT_Face      face,             \/* TT_Face *\/\n@@ -4418,1 +4502,4 @@\n-    if ( face->blend )\n+    TT_Face  ttface = (TT_Face)face;\n+\n+\n+    if ( ttface->blend )\n@@ -4421,1 +4508,1 @@\n-        *num_coords       = face->blend->num_axis;\n+        *num_coords       = ttface->blend->num_axis;\n@@ -4423,1 +4510,1 @@\n-        *coords           = face->blend->coords;\n+        *coords           = ttface->blend->coords;\n@@ -4425,1 +4512,1 @@\n-        *normalizedcoords = face->blend->normalizedcoords;\n+        *normalizedcoords = ttface->blend->normalizedcoords;\n@@ -4427,1 +4514,1 @@\n-        *mm_var           = face->blend->mmvar;\n+        *mm_var           = ttface->blend->mmvar;\n@@ -4444,1 +4531,1 @@\n-  tt_var_done_item_variation_store( TT_Face          face,\n+  tt_var_done_item_variation_store( FT_Face          face,\n@@ -4473,1 +4560,1 @@\n-  tt_var_done_delta_set_index_map( TT_Face            face,\n+  tt_var_done_delta_set_index_map( FT_Face            face,\n@@ -4493,1 +4580,1 @@\n-  tt_done_blend( TT_Face  face )\n+  tt_done_blend( FT_Face  face )\n@@ -4495,0 +4582,1 @@\n+    TT_Face    ttface = (TT_Face)face;\n@@ -4496,1 +4584,1 @@\n-    GX_Blend   blend  = face->blend;\n+    GX_Blend   blend  = ttface->blend;\n@@ -4568,1 +4656,1 @@\n-  typedef int  _tt_gxvar_dummy;\n+  typedef int  tt_gxvar_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttgxvar.c","additions":306,"deletions":218,"binary":false,"changes":524,"status":"modified"},{"patch":"@@ -350,1 +350,1 @@\n-  TT_Set_MM_Blend( TT_Face    face,\n+  TT_Set_MM_Blend( FT_Face    face,\n@@ -355,1 +355,1 @@\n-  TT_Get_MM_Blend( TT_Face    face,\n+  TT_Get_MM_Blend( FT_Face    face,\n@@ -360,1 +360,1 @@\n-  TT_Set_Var_Design( TT_Face    face,\n+  TT_Set_Var_Design( FT_Face    face,\n@@ -365,1 +365,1 @@\n-  TT_Get_MM_Var( TT_Face      face,\n+  TT_Get_MM_Var( FT_Face      face,\n@@ -369,1 +369,1 @@\n-  TT_Get_Var_Design( TT_Face    face,\n+  TT_Get_Var_Design( FT_Face    face,\n@@ -374,1 +374,1 @@\n-  TT_Set_Named_Instance( TT_Face  face,\n+  TT_Set_Named_Instance( FT_Face  face,\n@@ -377,0 +377,7 @@\n+  FT_LOCAL( FT_Error )\n+  TT_Get_Default_Named_Instance( FT_Face   face,\n+                                 FT_UInt  *instance_index );\n+\n+  FT_LOCAL( void )\n+  tt_construct_ps_name( FT_Face  face );\n+\n@@ -388,1 +395,1 @@\n-  tt_hadvance_adjust( TT_Face  face,\n+  tt_hadvance_adjust( FT_Face  face,\n@@ -393,1 +400,1 @@\n-  tt_vadvance_adjust( TT_Face  face,\n+  tt_vadvance_adjust( FT_Face  face,\n@@ -398,2 +405,1 @@\n-  tt_apply_mvar( TT_Face  face );\n-\n+  tt_apply_mvar( FT_Face  face );\n@@ -402,1 +408,1 @@\n-  tt_var_load_item_variation_store( TT_Face          face,\n+  tt_var_load_item_variation_store( FT_Face          face,\n@@ -407,1 +413,1 @@\n-  tt_var_load_delta_set_index_mapping( TT_Face            face,\n+  tt_var_load_delta_set_index_mapping( FT_Face            face,\n@@ -414,1 +420,1 @@\n-  tt_var_get_item_delta( TT_Face          face,\n+  tt_var_get_item_delta( FT_Face          face,\n@@ -420,1 +426,1 @@\n-  tt_var_done_item_variation_store( TT_Face          face,\n+  tt_var_done_item_variation_store( FT_Face          face,\n@@ -424,1 +430,1 @@\n-  tt_var_done_delta_set_index_map( TT_Face            face,\n+  tt_var_done_delta_set_index_map( FT_Face            face,\n@@ -429,1 +435,1 @@\n-  tt_get_var_blend( TT_Face      face,\n+  tt_get_var_blend( FT_Face      face,\n@@ -436,1 +442,1 @@\n-  tt_done_blend( TT_Face  face );\n+  tt_done_blend( FT_Face  face );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttgxvar.h","additions":23,"deletions":17,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-#include \"ttsubpix.h\"\n@@ -55,6 +54,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-#define SUBPIXEL_HINTING_INFINALITY                                          \\\n-          ( ((TT_Driver)FT_FACE_DRIVER( exc->face ))->interpreter_version == \\\n-            TT_INTERPRETER_VERSION_38 )\n-#endif\n-\n@@ -278,51 +271,0 @@\n-  \/**************************************************************************\n-   *\n-   * @Function:\n-   *   Update_Max\n-   *\n-   * @Description:\n-   *   Checks the size of a buffer and reallocates it if necessary.\n-   *\n-   * @Input:\n-   *   memory ::\n-   *     A handle to the parent memory object.\n-   *\n-   *   multiplier ::\n-   *     The size in bytes of each element in the buffer.\n-   *\n-   *   new_max ::\n-   *     The new capacity (size) of the buffer.\n-   *\n-   * @InOut:\n-   *   size ::\n-   *     The address of the buffer's current size expressed\n-   *     in elements.\n-   *\n-   *   buff ::\n-   *     The address of the buffer base pointer.\n-   *\n-   * @Return:\n-   *   FreeType error code.  0 means success.\n-   *\/\n-  FT_LOCAL_DEF( FT_Error )\n-  Update_Max( FT_Memory  memory,\n-              FT_ULong*  size,\n-              FT_ULong   multiplier,\n-              void*      _pbuff,\n-              FT_ULong   new_max )\n-  {\n-    FT_Error  error;\n-    void**    pbuff = (void**)_pbuff;\n-\n-\n-    if ( *size < new_max )\n-    {\n-      if ( FT_QREALLOC( *pbuff, *size * multiplier, new_max * multiplier ) )\n-        return error;\n-      *size = new_max;\n-    }\n-\n-    return FT_Err_Ok;\n-  }\n-\n-\n@@ -362,1 +304,0 @@\n-    FT_ULong        tmp;\n@@ -365,0 +306,1 @@\n+    FT_Memory       memory = exec->memory;\n@@ -409,8 +351,3 @@\n-    tmp = (FT_ULong)exec->stackSize;\n-    error = Update_Max( exec->memory,\n-                        &tmp,\n-                        sizeof ( FT_F26Dot6 ),\n-                        (void*)&exec->stack,\n-                        maxp->maxStackElements + 32 );\n-    exec->stackSize = (FT_Long)tmp;\n-    if ( error )\n+    if ( FT_QRENEW_ARRAY( exec->stack,\n+                          exec->stackSize,\n+                          maxp->maxStackElements + 32 ) )\n@@ -418,0 +355,1 @@\n+    exec->stackSize = maxp->maxStackElements + 32;\n@@ -419,9 +357,3 @@\n-    tmp = (FT_ULong)exec->glyphSize;\n-    error = Update_Max( exec->memory,\n-                        &tmp,\n-                        sizeof ( FT_Byte ),\n-                        (void*)&exec->glyphIns,\n-                        maxp->maxSizeOfInstructions );\n-    exec->glyphSize = (FT_UInt)tmp;\n-    if ( error )\n-      return error;\n+    \/* free previous glyph code range *\/\n+    FT_FREE( exec->glyphIns );\n+    exec->glyphSize = 0;\n@@ -1533,6 +1465,7 @@\n-      exc->error = Update_Max( exc->memory,\n-                               &exc->glyfCvtSize,\n-                               sizeof ( FT_Long ),\n-                               (void*)&exc->glyfCvt,\n-                               exc->cvtSize );\n-      if ( exc->error )\n+      FT_Memory  memory = exc->memory;\n+      FT_Error   error;\n+\n+\n+      FT_MEM_QRENEW_ARRAY( exc->glyfCvt, exc->glyfCvtSize, exc->cvtSize );\n+      exc->error = error;\n+      if ( error )\n@@ -1541,0 +1474,1 @@\n+      exc->glyfCvtSize = exc->cvtSize;\n@@ -1747,11 +1681,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY                            &&\n-           ( !exc->ignore_x_mode                                ||\n-             ( exc->sph_tweak_flags & SPH_TWEAK_ALLOW_X_DMOVE ) ) )\n-        zone->cur[point].x = ADD_LONG( zone->cur[point].x,\n-                                       FT_MulDiv( distance,\n-                                                  v,\n-                                                  exc->F_dot_P ) );\n-      else\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -1863,6 +1786,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY && !exc->ignore_x_mode )\n-      zone->cur[point].x = ADD_LONG( zone->cur[point].x, distance );\n-    else\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -3072,22 +2989,1 @@\n-    {\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      \/* subpixel hinting - avoid Typeman Dstroke and *\/\n-      \/* IStroke and Vacuform rounds                  *\/\n-      if ( SUBPIXEL_HINTING_INFINALITY                 &&\n-           exc->ignore_x_mode                          &&\n-           ( ( I == 24                             &&\n-               ( exc->face->sph_found_func_flags &\n-                 ( SPH_FDEF_SPACING_1 |\n-                   SPH_FDEF_SPACING_2 )          ) ) ||\n-             ( I == 22                      &&\n-               ( exc->sph_in_func_flags   &\n-                 SPH_FDEF_TYPEMAN_STROKES ) )        ||\n-             ( I == 8                              &&\n-               ( exc->face->sph_found_func_flags &\n-                 SPH_FDEF_VACUFORM_ROUND_1       ) &&\n-               exc->iup_called                     ) ) )\n-        args[0] = 0;\n-      else\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-        args[0] = exc->storage[I];\n-    }\n+      args[0] = exc->storage[I];\n@@ -3120,1 +3016,2 @@\n-        FT_ULong  tmp = (FT_ULong)exc->glyfStoreSize;\n+        FT_Memory  memory = exc->memory;\n+        FT_Error   error;\n@@ -3123,7 +3020,5 @@\n-        exc->error = Update_Max( exc->memory,\n-                                 &tmp,\n-                                 sizeof ( FT_Long ),\n-                                 (void*)&exc->glyfStorage,\n-                                 exc->storeSize );\n-        exc->glyfStoreSize = (FT_UShort)tmp;\n-        if ( exc->error )\n+        FT_MEM_QRENEW_ARRAY( exc->glyfStorage,\n+                             exc->glyfStoreSize,\n+                             exc->storeSize );\n+        exc->error  = error;\n+        if ( error )\n@@ -3132,0 +3027,1 @@\n+        exc->glyfStoreSize = exc->storeSize;\n@@ -3607,100 +3503,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    \/* arguments to opcodes are skipped by `SKIP_Code' *\/\n-    FT_Byte    opcode_pattern[9][12] = {\n-                 \/* #0 inline delta function 1 *\/\n-                 {\n-                   0x4B, \/* PPEM    *\/\n-                   0x53, \/* GTEQ    *\/\n-                   0x23, \/* SWAP    *\/\n-                   0x4B, \/* PPEM    *\/\n-                   0x51, \/* LTEQ    *\/\n-                   0x5A, \/* AND     *\/\n-                   0x58, \/* IF      *\/\n-                   0x38, \/*   SHPIX *\/\n-                   0x1B, \/* ELSE    *\/\n-                   0x21, \/*   POP   *\/\n-                   0x21, \/*   POP   *\/\n-                   0x59  \/* EIF     *\/\n-                 },\n-                 \/* #1 inline delta function 2 *\/\n-                 {\n-                   0x4B, \/* PPEM    *\/\n-                   0x54, \/* EQ      *\/\n-                   0x58, \/* IF      *\/\n-                   0x38, \/*   SHPIX *\/\n-                   0x1B, \/* ELSE    *\/\n-                   0x21, \/*   POP   *\/\n-                   0x21, \/*   POP   *\/\n-                   0x59  \/* EIF     *\/\n-                 },\n-                 \/* #2 diagonal stroke function *\/\n-                 {\n-                   0x20, \/* DUP     *\/\n-                   0x20, \/* DUP     *\/\n-                   0xB0, \/* PUSHB_1 *\/\n-                         \/*   1     *\/\n-                   0x60, \/* ADD     *\/\n-                   0x46, \/* GC_cur  *\/\n-                   0xB0, \/* PUSHB_1 *\/\n-                         \/*   64    *\/\n-                   0x23, \/* SWAP    *\/\n-                   0x42  \/* WS      *\/\n-                 },\n-                 \/* #3 VacuFormRound function *\/\n-                 {\n-                   0x45, \/* RCVT    *\/\n-                   0x23, \/* SWAP    *\/\n-                   0x46, \/* GC_cur  *\/\n-                   0x60, \/* ADD     *\/\n-                   0x20, \/* DUP     *\/\n-                   0xB0  \/* PUSHB_1 *\/\n-                         \/*   38    *\/\n-                 },\n-                 \/* #4 TTFautohint bytecode (old) *\/\n-                 {\n-                   0x20, \/* DUP     *\/\n-                   0x64, \/* ABS     *\/\n-                   0xB0, \/* PUSHB_1 *\/\n-                         \/*   32    *\/\n-                   0x60, \/* ADD     *\/\n-                   0x66, \/* FLOOR   *\/\n-                   0x23, \/* SWAP    *\/\n-                   0xB0  \/* PUSHB_1 *\/\n-                 },\n-                 \/* #5 spacing function 1 *\/\n-                 {\n-                   0x01, \/* SVTCA_x *\/\n-                   0xB0, \/* PUSHB_1 *\/\n-                         \/*   24    *\/\n-                   0x43, \/* RS      *\/\n-                   0x58  \/* IF      *\/\n-                 },\n-                 \/* #6 spacing function 2 *\/\n-                 {\n-                   0x01, \/* SVTCA_x *\/\n-                   0x18, \/* RTG     *\/\n-                   0xB0, \/* PUSHB_1 *\/\n-                         \/*   24    *\/\n-                   0x43, \/* RS      *\/\n-                   0x58  \/* IF      *\/\n-                 },\n-                 \/* #7 TypeMan Talk DiagEndCtrl function *\/\n-                 {\n-                   0x01, \/* SVTCA_x *\/\n-                   0x20, \/* DUP     *\/\n-                   0xB0, \/* PUSHB_1 *\/\n-                         \/*   3     *\/\n-                   0x25, \/* CINDEX  *\/\n-                 },\n-                 \/* #8 TypeMan Talk Align *\/\n-                 {\n-                   0x06, \/* SPVTL   *\/\n-                   0x7D, \/* RDTG    *\/\n-                 },\n-               };\n-    FT_UShort  opcode_patterns   = 9;\n-    FT_UShort  opcode_pointer[9] = {  0, 0, 0, 0, 0, 0, 0, 0, 0 };\n-    FT_UShort  opcode_size[9]    = { 12, 8, 8, 6, 7, 4, 5, 4, 2 };\n-    FT_UShort  i;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -3751,2 +3547,0 @@\n-    rec->inline_delta   = FALSE;\n-    rec->sph_fdef_flags = 0x0000;\n@@ -3757,7 +3551,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    \/* We don't know for sure these are typeman functions, *\/\n-    \/* however they are only active when RS 22 is called   *\/\n-    if ( n >= 64 && n <= 66 )\n-      rec->sph_fdef_flags |= SPH_FDEF_TYPEMAN_STROKES;\n-#endif\n-\n@@ -3769,112 +3556,0 @@\n-\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-      if ( SUBPIXEL_HINTING_INFINALITY )\n-      {\n-        for ( i = 0; i < opcode_patterns; i++ )\n-        {\n-          if ( opcode_pointer[i] < opcode_size[i]                  &&\n-               exc->opcode == opcode_pattern[i][opcode_pointer[i]] )\n-          {\n-            opcode_pointer[i] += 1;\n-\n-            if ( opcode_pointer[i] == opcode_size[i] )\n-            {\n-              FT_TRACE6(( \"sph: Function %d, opcode ptrn: %ld, %s %s\\n\",\n-                          i, n,\n-                          exc->face->root.family_name,\n-                          exc->face->root.style_name ));\n-\n-              switch ( i )\n-              {\n-              case 0:\n-                rec->sph_fdef_flags             |= SPH_FDEF_INLINE_DELTA_1;\n-                exc->face->sph_found_func_flags |= SPH_FDEF_INLINE_DELTA_1;\n-                break;\n-\n-              case 1:\n-                rec->sph_fdef_flags             |= SPH_FDEF_INLINE_DELTA_2;\n-                exc->face->sph_found_func_flags |= SPH_FDEF_INLINE_DELTA_2;\n-                break;\n-\n-              case 2:\n-                switch ( n )\n-                {\n-                  \/* needs to be implemented still *\/\n-                case 58:\n-                  rec->sph_fdef_flags             |= SPH_FDEF_DIAGONAL_STROKE;\n-                  exc->face->sph_found_func_flags |= SPH_FDEF_DIAGONAL_STROKE;\n-                }\n-                break;\n-\n-              case 3:\n-                switch ( n )\n-                {\n-                case 0:\n-                  rec->sph_fdef_flags             |= SPH_FDEF_VACUFORM_ROUND_1;\n-                  exc->face->sph_found_func_flags |= SPH_FDEF_VACUFORM_ROUND_1;\n-                }\n-                break;\n-\n-              case 4:\n-                \/* probably not necessary to detect anymore *\/\n-                rec->sph_fdef_flags             |= SPH_FDEF_TTFAUTOHINT_1;\n-                exc->face->sph_found_func_flags |= SPH_FDEF_TTFAUTOHINT_1;\n-                break;\n-\n-              case 5:\n-                switch ( n )\n-                {\n-                case 0:\n-                case 1:\n-                case 2:\n-                case 4:\n-                case 7:\n-                case 8:\n-                  rec->sph_fdef_flags             |= SPH_FDEF_SPACING_1;\n-                  exc->face->sph_found_func_flags |= SPH_FDEF_SPACING_1;\n-                }\n-                break;\n-\n-              case 6:\n-                switch ( n )\n-                {\n-                case 0:\n-                case 1:\n-                case 2:\n-                case 4:\n-                case 7:\n-                case 8:\n-                  rec->sph_fdef_flags             |= SPH_FDEF_SPACING_2;\n-                  exc->face->sph_found_func_flags |= SPH_FDEF_SPACING_2;\n-                }\n-                break;\n-\n-               case 7:\n-                 rec->sph_fdef_flags             |= SPH_FDEF_TYPEMAN_DIAGENDCTRL;\n-                 exc->face->sph_found_func_flags |= SPH_FDEF_TYPEMAN_DIAGENDCTRL;\n-                 break;\n-\n-               case 8:\n-#if 0\n-                 rec->sph_fdef_flags             |= SPH_FDEF_TYPEMAN_DIAGENDCTRL;\n-                 exc->face->sph_found_func_flags |= SPH_FDEF_TYPEMAN_DIAGENDCTRL;\n-#endif\n-                 break;\n-              }\n-              opcode_pointer[i] = 0;\n-            }\n-          }\n-\n-          else\n-            opcode_pointer[i] = 0;\n-        }\n-\n-        \/* Set sph_compatibility_mode only when deltas are detected *\/\n-        exc->face->sph_compatibility_mode =\n-          ( ( exc->face->sph_found_func_flags & SPH_FDEF_INLINE_DELTA_1 ) |\n-            ( exc->face->sph_found_func_flags & SPH_FDEF_INLINE_DELTA_2 ) );\n-      }\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -3908,4 +3583,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    exc->sph_in_func_flags = 0x0000;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -3999,11 +3670,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY                                    &&\n-         exc->ignore_x_mode                                             &&\n-         ( ( exc->iup_called                                        &&\n-             ( exc->sph_tweak_flags & SPH_TWEAK_NO_CALL_AFTER_IUP ) ) ||\n-           ( def->sph_fdef_flags & SPH_FDEF_VACUFORM_ROUND_1 )        ) )\n-      goto Fail;\n-    else\n-      exc->sph_in_func_flags = def->sph_fdef_flags;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -4087,9 +3747,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY                         &&\n-         exc->ignore_x_mode                                  &&\n-         ( def->sph_fdef_flags & SPH_FDEF_VACUFORM_ROUND_1 ) )\n-      goto Fail;\n-    else\n-      exc->sph_in_func_flags = def->sph_fdef_flags;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -5001,8 +4652,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    \/* Disable Type 2 Vacuform Rounds - e.g. Arial Narrow *\/\n-    if ( SUBPIXEL_HINTING_INFINALITY         &&\n-         exc->ignore_x_mode                  &&\n-         ( D < 0 ? NEG_LONG( D ) : D ) == 64 )\n-      D += 1;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -5270,7 +4913,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      \/* INSTCTRL modifying flag 3 also has an effect *\/\n-      \/* outside of the CVT program                   *\/\n-      if ( SUBPIXEL_HINTING_INFINALITY )\n-        exc->ignore_x_mode = !FT_BOOL( L == 4 );\n-#endif\n-\n@@ -5608,6 +5244,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      \/* doesn't follow Cleartype spec but produces better result *\/\n-      if ( SUBPIXEL_HINTING_INFINALITY && exc->ignore_x_mode )\n-        Move_Zp2_Point( exc, point, 0, dy, TRUE );\n-      else\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n@@ -5774,70 +5404,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY &&\n-           exc->ignore_x_mode          )\n-      {\n-        FT_Int  B1, B2;\n-\n-\n-        \/*  If not using ignore_x_mode rendering, allow ZP2 move.        *\/\n-        \/*  If inline deltas aren't allowed, skip ZP2 move.              *\/\n-        \/*  If using ignore_x_mode rendering, allow ZP2 point move if:   *\/\n-        \/*   - freedom vector is y and sph_compatibility_mode is off     *\/\n-        \/*   - the glyph is composite and the move is in the Y direction *\/\n-        \/*   - the glyph is specifically set to allow SHPIX moves        *\/\n-        \/*   - the move is on a previously Y-touched point               *\/\n-\n-        \/* save point for later comparison *\/\n-        B1 = exc->zp2.cur[point].y;\n-\n-        if ( exc->face->sph_compatibility_mode )\n-        {\n-          if ( exc->sph_tweak_flags & SPH_TWEAK_ROUND_NONPIXEL_Y_MOVES )\n-            dy = FT_PIX_ROUND( B1 + dy ) - B1;\n-\n-          \/* skip post-iup deltas *\/\n-          if ( exc->iup_called                                          &&\n-               ( ( exc->sph_in_func_flags & SPH_FDEF_INLINE_DELTA_1 ) ||\n-                 ( exc->sph_in_func_flags & SPH_FDEF_INLINE_DELTA_2 ) ) )\n-            goto Skip;\n-\n-          if ( !( exc->sph_tweak_flags & SPH_TWEAK_ALWAYS_SKIP_DELTAP ) &&\n-                ( ( exc->is_composite && exc->GS.freeVector.y != 0 ) ||\n-                  ( exc->zp2.tags[point] & FT_CURVE_TAG_TOUCH_Y )    ||\n-                  ( exc->sph_tweak_flags & SPH_TWEAK_DO_SHPIX )      )  )\n-            Move_Zp2_Point( exc, point, 0, dy, TRUE );\n-\n-          \/* save new point *\/\n-          if ( exc->GS.freeVector.y != 0 )\n-          {\n-            B2 = exc->zp2.cur[point].y;\n-\n-            \/* reverse any disallowed moves *\/\n-            if ( ( B1 & 63 ) == 0 &&\n-                 ( B2 & 63 ) != 0 &&\n-                 B1 != B2         )\n-              Move_Zp2_Point( exc, point, 0, NEG_LONG( dy ), TRUE );\n-          }\n-        }\n-        else if ( exc->GS.freeVector.y != 0 )\n-        {\n-          Move_Zp2_Point( exc, point, dx, dy, TRUE );\n-\n-          \/* save new point *\/\n-          B2 = exc->zp2.cur[point].y;\n-\n-          \/* reverse any disallowed moves *\/\n-          if ( ( exc->sph_tweak_flags & SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES ) &&\n-               ( B1 & 63 ) != 0                                           &&\n-               ( B2 & 63 ) != 0                                           &&\n-               B1 != B2                                                   )\n-            Move_Zp2_Point( exc,\n-                            point,\n-                            NEG_LONG( dx ),\n-                            NEG_LONG( dy ),\n-                            TRUE );\n-        }\n-        else if ( exc->sph_in_func_flags & SPH_FDEF_TYPEMAN_DIAGENDCTRL )\n-          Move_Zp2_Point( exc, point, dx, dy, TRUE );\n-      }\n-      else\n-#endif\n@@ -5863,3 +5423,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    Skip:\n-#endif\n@@ -5910,22 +5467,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    \/* subpixel hinting - make MSIRP respect CVT cut-in; *\/\n-    if ( SUBPIXEL_HINTING_INFINALITY &&\n-         exc->ignore_x_mode          &&\n-         exc->GS.freeVector.x != 0   )\n-    {\n-      FT_F26Dot6  control_value_cutin = exc->GS.control_value_cutin;\n-      FT_F26Dot6  delta;\n-\n-\n-      if ( !( exc->sph_tweak_flags & SPH_TWEAK_NORMAL_ROUND ) )\n-        control_value_cutin = 0;\n-\n-      delta = SUB_LONG( distance, args[1] );\n-      if ( delta < 0 )\n-        delta = NEG_LONG( delta );\n-\n-      if ( delta >= control_value_cutin )\n-        distance = args[1];\n-    }\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -5972,8 +5507,1 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY &&\n-           exc->ignore_x_mode          &&\n-           exc->GS.freeVector.x != 0   )\n-        distance = SUB_LONG( Round_None( exc, cur_dist, 3 ), cur_dist );\n-      else\n-#endif\n-        distance = SUB_LONG( exc->func_round( exc, cur_dist, 3 ), cur_dist );\n+      distance = SUB_LONG( exc->func_round( exc, cur_dist, 3 ), cur_dist );\n@@ -6042,8 +5570,1 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      \/* Only adjust if not in sph_compatibility_mode or ignore_x_mode. *\/\n-      \/* Determined via experimentation and may be incorrect...         *\/\n-      if ( !( SUBPIXEL_HINTING_INFINALITY           &&\n-              ( exc->ignore_x_mode                &&\n-                exc->face->sph_compatibility_mode ) ) )\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-        exc->zp0.org[point].x = TT_MulFix14( distance,\n+      exc->zp0.org[point].x = TT_MulFix14( distance,\n@@ -6055,8 +5576,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY                    &&\n-         exc->ignore_x_mode                             &&\n-         ( exc->sph_tweak_flags & SPH_TWEAK_MIAP_HACK ) &&\n-         distance > 0                                   &&\n-         exc->GS.freeVector.y != 0                      )\n-      distance = 0;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n@@ -6072,9 +5585,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY                        &&\n-           exc->ignore_x_mode                                 &&\n-           exc->GS.freeVector.x != 0                          &&\n-           exc->GS.freeVector.y == 0                          &&\n-           !( exc->sph_tweak_flags & SPH_TWEAK_NORMAL_ROUND ) )\n-        control_value_cutin = 0;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -6088,8 +5592,1 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY &&\n-           exc->ignore_x_mode          &&\n-           exc->GS.freeVector.x != 0   )\n-        distance = Round_None( exc, distance, 3 );\n-      else\n-#endif\n-        distance = exc->func_round( exc, distance, 3 );\n+      distance = exc->func_round( exc, distance, 3 );\n@@ -6188,8 +5685,1 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY &&\n-           exc->ignore_x_mode          &&\n-           exc->GS.freeVector.x != 0   )\n-        distance = Round_None( exc, org_dist, exc->opcode & 3 );\n-      else\n-#endif\n-        distance = exc->func_round( exc, org_dist, exc->opcode & 3 );\n+      distance = exc->func_round( exc, org_dist, exc->opcode & 3 );\n@@ -6207,8 +5697,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY                        &&\n-           exc->ignore_x_mode                                 &&\n-           exc->GS.freeVector.x != 0                          &&\n-           !( exc->sph_tweak_flags & SPH_TWEAK_NORMAL_ROUND ) )\n-        minimum_distance = 0;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -6357,33 +5839,0 @@\n-    {\n-\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      \/* do cvt cut-in always in MIRP for sph *\/\n-      if ( SUBPIXEL_HINTING_INFINALITY  &&\n-           exc->ignore_x_mode           &&\n-           exc->GS.gep0 == exc->GS.gep1 )\n-      {\n-        FT_F26Dot6  control_value_cutin = exc->GS.control_value_cutin;\n-\n-\n-        if ( exc->GS.freeVector.x != 0                          &&\n-             !( exc->sph_tweak_flags & SPH_TWEAK_NORMAL_ROUND ) )\n-          control_value_cutin = 0;\n-\n-        if ( exc->GS.freeVector.y != 0                                 &&\n-             ( exc->sph_tweak_flags & SPH_TWEAK_TIMES_NEW_ROMAN_HACK ) )\n-        {\n-          if ( cur_dist < -64 )\n-            cvt_dist -= 16;\n-          else if ( cur_dist > 64 && cur_dist < 84 )\n-            cvt_dist += 32;\n-        }\n-\n-        delta = SUB_LONG( cvt_dist, org_dist );\n-        if ( delta < 0 )\n-          delta = NEG_LONG( delta );\n-\n-        if ( delta > control_value_cutin )\n-          cvt_dist = org_dist;\n-      }\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -6391,1 +5840,0 @@\n-    }\n@@ -6400,8 +5848,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-      if ( SUBPIXEL_HINTING_INFINALITY                        &&\n-           exc->ignore_x_mode                                 &&\n-           exc->GS.freeVector.x != 0                          &&\n-           !( exc->sph_tweak_flags & SPH_TWEAK_NORMAL_ROUND ) )\n-        minimum_distance = 0;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -6420,45 +5860,4 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY &&\n-         exc->ignore_x_mode          &&\n-         exc->GS.freeVector.y != 0   )\n-    {\n-      FT_Int   B1, B2;\n-\n-\n-      B1 = exc->zp1.cur[point].y;\n-\n-      \/* Round moves if necessary *\/\n-      if ( exc->sph_tweak_flags & SPH_TWEAK_ROUND_NONPIXEL_Y_MOVES )\n-        distance = FT_PIX_ROUND( B1 + distance - cur_dist ) - B1 + cur_dist;\n-\n-      if ( ( exc->opcode & 16 ) == 0                               &&\n-           ( exc->opcode & 8 ) == 0                                &&\n-           ( exc->sph_tweak_flags & SPH_TWEAK_COURIER_NEW_2_HACK ) )\n-        distance += 64;\n-\n-      exc->func_move( exc,\n-                      &exc->zp1,\n-                      point,\n-                      SUB_LONG( distance, cur_dist ) );\n-\n-      B2 = exc->zp1.cur[point].y;\n-\n-      \/* Reverse move if necessary *\/\n-      if ( ( exc->face->sph_compatibility_mode &&\n-             ( B1 & 63 ) == 0                  &&\n-             ( B2 & 63 ) != 0                  )                          ||\n-           ( ( exc->sph_tweak_flags & SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES ) &&\n-             ( B1 & 63 ) != 0                                           &&\n-             ( B2 & 63 ) != 0                                           ) )\n-        exc->func_move( exc,\n-                        &exc->zp1,\n-                        point,\n-                        SUB_LONG( cur_dist, distance ) );\n-    }\n-    else\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n-      exc->func_move( exc,\n-                      &exc->zp1,\n-                      point,\n-                      SUB_LONG( distance, cur_dist ) );\n+    exc->func_move( exc,\n+                    &exc->zp1,\n+                    point,\n+                    SUB_LONG( distance, cur_dist ) );\n@@ -6489,11 +5888,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY                               &&\n-         exc->ignore_x_mode                                        &&\n-         exc->iup_called                                           &&\n-         ( exc->sph_tweak_flags & SPH_TWEAK_NO_ALIGNRP_AFTER_IUP ) )\n-    {\n-      exc->error = FT_THROW( Invalid_Reference );\n-      goto Fail;\n-    }\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -7058,10 +6446,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY &&\n-         exc->ignore_x_mode          )\n-    {\n-      exc->iup_called = TRUE;\n-      if ( exc->sph_tweak_flags & SPH_TWEAK_SKIP_IUP )\n-        return;\n-    }\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -7140,8 +6518,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    if ( SUBPIXEL_HINTING_INFINALITY                              &&\n-         exc->ignore_x_mode                                       &&\n-         exc->iup_called                                          &&\n-         ( exc->sph_tweak_flags & SPH_TWEAK_NO_DELTAP_AFTER_IUP ) )\n-      goto Fail;\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -7200,1 +6570,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n@@ -7202,1 +6571,5 @@\n-          if ( SUBPIXEL_HINTING_INFINALITY )\n+#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n+          \/* See `ttinterp.h' for details on backward compatibility *\/\n+          \/* mode.                                                  *\/\n+          if ( SUBPIXEL_HINTING_MINIMAL    &&\n+               exc->backward_compatibility )\n@@ -7204,11 +6577,3 @@\n-            \/*\n-             * Allow delta move if\n-             *\n-             * - not using ignore_x_mode rendering,\n-             * - glyph is specifically set to allow it, or\n-             * - glyph is composite and freedom vector is not in subpixel\n-             *   direction.\n-             *\/\n-            if ( !exc->ignore_x_mode                                   ||\n-                 ( exc->sph_tweak_flags & SPH_TWEAK_ALWAYS_DO_DELTAP ) ||\n-                 ( exc->is_composite && exc->GS.freeVector.y != 0 )    )\n+            if ( !( exc->iupx_called && exc->iupy_called )              &&\n+                 ( ( exc->is_composite && exc->GS.freeVector.y != 0 ) ||\n+                   ( exc->zp0.tags[A] & FT_CURVE_TAG_TOUCH_Y )        ) )\n@@ -7216,44 +6581,0 @@\n-\n-            \/* Otherwise, apply subpixel hinting and compatibility mode *\/\n-            \/* rules, always skipping deltas in subpixel direction.     *\/\n-            else if ( exc->ignore_x_mode && exc->GS.freeVector.y != 0 )\n-            {\n-              FT_UShort  B1, B2;\n-\n-\n-              \/* save the y value of the point now; compare after move *\/\n-              B1 = (FT_UShort)exc->zp0.cur[A].y;\n-\n-              \/* Standard subpixel hinting: Allow y move for y-touched *\/\n-              \/* points.  This messes up DejaVu ...                    *\/\n-              if ( !exc->face->sph_compatibility_mode          &&\n-                   ( exc->zp0.tags[A] & FT_CURVE_TAG_TOUCH_Y ) )\n-                exc->func_move( exc, &exc->zp0, A, B );\n-\n-              \/* compatibility mode *\/\n-              else if ( exc->face->sph_compatibility_mode                        &&\n-                        !( exc->sph_tweak_flags & SPH_TWEAK_ALWAYS_SKIP_DELTAP ) )\n-              {\n-                if ( exc->sph_tweak_flags & SPH_TWEAK_ROUND_NONPIXEL_Y_MOVES )\n-                  B = FT_PIX_ROUND( B1 + B ) - B1;\n-\n-                \/* Allow delta move if using sph_compatibility_mode,   *\/\n-                \/* IUP has not been called, and point is touched on Y. *\/\n-                if ( !exc->iup_called                            &&\n-                     ( exc->zp0.tags[A] & FT_CURVE_TAG_TOUCH_Y ) )\n-                  exc->func_move( exc, &exc->zp0, A, B );\n-              }\n-\n-              B2 = (FT_UShort)exc->zp0.cur[A].y;\n-\n-              \/* Reverse this move if it results in a disallowed move *\/\n-              if ( exc->GS.freeVector.y != 0                          &&\n-                   ( ( exc->face->sph_compatibility_mode          &&\n-                       ( B1 & 63 ) == 0                           &&\n-                       ( B2 & 63 ) != 0                           ) ||\n-                     ( ( exc->sph_tweak_flags                   &\n-                         SPH_TWEAK_SKIP_NONPIXEL_Y_MOVES_DELTAP ) &&\n-                       ( B1 & 63 ) != 0                           &&\n-                       ( B2 & 63 ) != 0                           ) ) )\n-                exc->func_move( exc, &exc->zp0, A, NEG_LONG( B ) );\n-            }\n@@ -7262,16 +6583,0 @@\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n-          {\n-\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL\n-            \/* See `ttinterp.h' for details on backward compatibility *\/\n-            \/* mode.                                                  *\/\n-            if ( SUBPIXEL_HINTING_MINIMAL    &&\n-                 exc->backward_compatibility )\n-            {\n-              if ( !( exc->iupx_called && exc->iupy_called )              &&\n-                   ( ( exc->is_composite && exc->GS.freeVector.y != 0 ) ||\n-                     ( exc->zp0.tags[A] & FT_CURVE_TAG_TOUCH_Y )        ) )\n-                exc->func_move( exc, &exc->zp0, A, B );\n-            }\n-            else\n@@ -7279,2 +6584,1 @@\n-              exc->func_move( exc, &exc->zp0, A, B );\n-          }\n+            exc->func_move( exc, &exc->zp0, A, B );\n@@ -7383,8 +6687,0 @@\n-   *\n-   * XXX: UNDOCUMENTED: Selector bits higher than 9 are currently (May\n-   *      2015) not documented in the OpenType specification.\n-   *\n-   *      Selector bit 11 is incorrectly described as bit 8, while the\n-   *      real meaning of bit 8 (vertical LCD subpixels) stays\n-   *      undocumented.  The same mistake can be found in Greg Hitchcock's\n-   *      whitepaper.\n@@ -7402,25 +6698,2 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    \/*********************************\n-     * RASTERIZER VERSION\n-     * Selector Bit:  0\n-     * Return Bit(s): 0-7\n-     *\/\n-    if ( SUBPIXEL_HINTING_INFINALITY &&\n-         ( args[0] & 1 ) != 0        &&\n-         exc->subpixel_hinting       )\n-    {\n-      if ( exc->ignore_x_mode )\n-      {\n-        \/* if in ClearType backward compatibility mode,         *\/\n-        \/* we sometimes change the TrueType version dynamically *\/\n-        K = exc->rasterizer_version;\n-        FT_TRACE6(( \"Setting rasterizer version %d\\n\",\n-                    exc->rasterizer_version ));\n-      }\n-      else\n-        K = TT_INTERPRETER_VERSION_38;\n-    }\n-    else\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-      if ( ( args[0] & 1 ) != 0 )\n-        K = driver->interpreter_version;\n+    if ( ( args[0] & 1 ) != 0 )\n+      K = driver->interpreter_version;\n@@ -7449,2 +6722,0 @@\n-     *\n-     * XXX: UNDOCUMENTED!\n@@ -7525,83 +6796,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-    if ( SUBPIXEL_HINTING_INFINALITY                          &&\n-         exc->rasterizer_version >= TT_INTERPRETER_VERSION_35 )\n-    {\n-\n-      if ( exc->rasterizer_version >= 37 )\n-      {\n-        \/*********************************\n-         * HINTING FOR SUBPIXEL\n-         * Selector Bit:  6\n-         * Return Bit(s): 13\n-         *\/\n-        if ( ( args[0] & 64 ) != 0 && exc->subpixel_hinting )\n-          K |= 1 << 13;\n-\n-        \/*********************************\n-         * COMPATIBLE WIDTHS ENABLED\n-         * Selector Bit:  7\n-         * Return Bit(s): 14\n-         *\n-         * Functionality still needs to be added\n-         *\/\n-        if ( ( args[0] & 128 ) != 0 && exc->compatible_widths )\n-          K |= 1 << 14;\n-\n-        \/*********************************\n-         * VERTICAL LCD SUBPIXELS?\n-         * Selector Bit:  8\n-         * Return Bit(s): 15\n-         *\n-         * Functionality still needs to be added\n-         *\/\n-        if ( ( args[0] & 256 ) != 0 && exc->vertical_lcd )\n-          K |= 1 << 15;\n-\n-        \/*********************************\n-         * HINTING FOR BGR?\n-         * Selector Bit:  9\n-         * Return Bit(s): 16\n-         *\n-         * Functionality still needs to be added\n-         *\/\n-        if ( ( args[0] & 512 ) != 0 && exc->bgr )\n-          K |= 1 << 16;\n-\n-        if ( exc->rasterizer_version >= 38 )\n-        {\n-          \/*********************************\n-           * SUBPIXEL POSITIONED?\n-           * Selector Bit:  10\n-           * Return Bit(s): 17\n-           *\n-           * Functionality still needs to be added\n-           *\/\n-          if ( ( args[0] & 1024 ) != 0 && exc->subpixel_positioned )\n-            K |= 1 << 17;\n-\n-          \/*********************************\n-           * SYMMETRICAL SMOOTHING\n-           * Selector Bit:  11\n-           * Return Bit(s): 18\n-           *\n-           * Functionality still needs to be added\n-           *\/\n-          if ( ( args[0] & 2048 ) != 0 && exc->symmetrical_smoothing )\n-            K |= 1 << 18;\n-\n-          \/*********************************\n-           * GRAY CLEARTYPE\n-           * Selector Bit:  12\n-           * Return Bit(s): 19\n-           *\n-           * Functionality still needs to be added\n-           *\/\n-          if ( ( args[0] & 4096 ) != 0 && exc->gray_cleartype )\n-            K |= 1 << 19;\n-        }\n-      }\n-    }\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -7742,1 +6930,1 @@\n-  TT_RunIns( TT_ExecContext  exc )\n+  TT_RunIns( void*  exec )\n@@ -7744,0 +6932,2 @@\n+    TT_ExecContext  exc = (TT_ExecContext)exec;\n+\n@@ -7748,13 +6938,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    FT_Byte    opcode_pattern[1][2] = {\n-                  \/* #8 TypeMan Talk Align *\/\n-                  {\n-                    0x06, \/* SPVTL   *\/\n-                    0x7D, \/* RDTG    *\/\n-                  },\n-                };\n-    FT_UShort  opcode_patterns   = 1;\n-    FT_UShort  opcode_pointer[1] = { 0 };\n-    FT_UShort  opcode_size[1]    = { 1 };\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -7838,3 +7015,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    exc->iup_called  = FALSE;\n-#endif\n@@ -7909,1 +7083,1 @@\n-        \/* this is, calling any of the GX API functions on the current *\/\n+        \/* that is, calling any of the GX API functions on the current *\/\n@@ -7930,33 +7104,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-      if ( SUBPIXEL_HINTING_INFINALITY )\n-      {\n-        for ( i = 0; i < opcode_patterns; i++ )\n-        {\n-          if ( opcode_pointer[i] < opcode_size[i]                  &&\n-               exc->opcode == opcode_pattern[i][opcode_pointer[i]] )\n-          {\n-            opcode_pointer[i] += 1;\n-\n-            if ( opcode_pointer[i] == opcode_size[i] )\n-            {\n-              FT_TRACE6(( \"sph: opcode ptrn: %d, %s %s\\n\",\n-                          i,\n-                          exc->face->root.family_name,\n-                          exc->face->root.style_name ));\n-\n-              switch ( i )\n-              {\n-              case 0:\n-                break;\n-              }\n-              opcode_pointer[i] = 0;\n-            }\n-          }\n-          else\n-            opcode_pointer[i] = 0;\n-        }\n-      }\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -8469,1 +7610,1 @@\n-          \/* this is, calling any of the GX API functions on the current *\/\n+          \/* that is, calling any of the GX API functions on the current *\/\n@@ -8607,1 +7748,1 @@\n-  typedef int  _tt_interp_dummy;\n+  typedef int  tt_interp_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttinterp.c","additions":50,"deletions":909,"binary":false,"changes":959,"status":"modified"},{"patch":"@@ -101,42 +101,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-\n-  \/**************************************************************************\n-   *\n-   * These structures define rules used to tweak subpixel hinting for\n-   * various fonts.  \"\", 0, \"\", NULL value indicates to match any value.\n-   *\/\n-\n-#define SPH_MAX_NAME_SIZE      32\n-#define SPH_MAX_CLASS_MEMBERS  100\n-\n-  typedef struct  SPH_TweakRule_\n-  {\n-    const char      family[SPH_MAX_NAME_SIZE];\n-    const FT_UInt   ppem;\n-    const char      style[SPH_MAX_NAME_SIZE];\n-    const FT_ULong  glyph;\n-\n-  } SPH_TweakRule;\n-\n-\n-  typedef struct  SPH_ScaleRule_\n-  {\n-    const char      family[SPH_MAX_NAME_SIZE];\n-    const FT_UInt   ppem;\n-    const char      style[SPH_MAX_NAME_SIZE];\n-    const FT_ULong  glyph;\n-    const FT_ULong  scale;\n-\n-  } SPH_ScaleRule;\n-\n-\n-  typedef struct  SPH_Font_Class_\n-  {\n-    const char  name[SPH_MAX_NAME_SIZE];\n-    const char  member[SPH_MAX_CLASS_MEMBERS][SPH_MAX_NAME_SIZE];\n-\n-  } SPH_Font_Class;\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n-\n@@ -402,32 +360,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    TT_Round_Func      func_round_sphn;   \/* subpixel rounding function *\/\n-\n-    FT_Bool            subpixel_hinting;  \/* Using subpixel hinting?       *\/\n-    FT_Bool            ignore_x_mode;     \/* Standard rendering mode for   *\/\n-                                          \/* subpixel hinting.  On if gray *\/\n-                                          \/* or subpixel hinting is on.    *\/\n-\n-    \/* The following 6 aren't fully implemented but here for MS rasterizer *\/\n-    \/* compatibility.                                                      *\/\n-    FT_Bool            compatible_widths;     \/* compatible widths?        *\/\n-    FT_Bool            symmetrical_smoothing; \/* symmetrical_smoothing?    *\/\n-    FT_Bool            bgr;                   \/* bgr instead of rgb?       *\/\n-    FT_Bool            vertical_lcd;          \/* long side of LCD subpixel *\/\n-                                              \/* rectangles is horizontal  *\/\n-    FT_Bool            subpixel_positioned;   \/* subpixel positioned       *\/\n-                                              \/* (DirectWrite ClearType)?  *\/\n-    FT_Bool            gray_cleartype;        \/* ClearType hinting but     *\/\n-                                              \/* grayscale rendering       *\/\n-\n-    FT_Int             rasterizer_version;    \/* MS rasterizer version     *\/\n-\n-    FT_Bool            iup_called;            \/* IUP called for glyph?     *\/\n-\n-    FT_ULong           sph_tweak_flags;       \/* flags to control          *\/\n-                                              \/* hint tweaks               *\/\n-\n-    FT_ULong           sph_in_func_flags;     \/* flags to indicate if in   *\/\n-                                              \/* special functions         *\/\n-\n-#endif \/* TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY *\/\n-\n@@ -463,8 +389,0 @@\n-\n-\n-  FT_LOCAL( FT_Error )\n-  Update_Max( FT_Memory  memory,\n-              FT_ULong*  size,\n-              FT_ULong   multiplier,\n-              void*      _pbuff,\n-              FT_ULong   new_max );\n@@ -539,1 +457,1 @@\n-  TT_RunIns( TT_ExecContext  exec );\n+  TT_RunIns( void*  exec );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttinterp.h","additions":1,"deletions":83,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -315,1 +315,2 @@\n-                                       [TRICK_SFNT_IDS_PER_FACE] = {\n+                                       [TRICK_SFNT_IDS_PER_FACE] =\n+    {\n@@ -584,1 +585,1 @@\n-    FT_UInt   asize;\n+    FT_ULong  asize;\n@@ -592,1 +593,1 @@\n-      tt_face_get_location( face, i, &asize );\n+      tt_face_get_location( ttface, i, &asize );\n@@ -780,1 +781,0 @@\n-\n@@ -788,1 +788,1 @@\n-        error = TT_Set_Named_Instance( face, instance_index );\n+        error = FT_Set_Named_Instance( ttface, instance_index );\n@@ -791,2 +791,0 @@\n-\n-        tt_apply_mvar( face );\n@@ -795,1 +793,0 @@\n-\n@@ -861,1 +858,1 @@\n-    tt_done_blend( face );\n+    tt_done_blend( ttface );\n@@ -1341,1 +1338,1 @@\n-   *   tt_size_reset\n+   *   tt_size_reset_height\n@@ -1344,2 +1341,3 @@\n-   *   Reset a TrueType size when resolutions and character dimensions\n-   *   have been changed.\n+   *   Recompute a TrueType size's ascender, descender, and height\n+   *   when resolutions and character dimensions have been changed.\n+   *   Used for variation fonts as an iterator function.\n@@ -1348,7 +1346,5 @@\n-   *   size ::\n-   *     A handle to the target size object.\n-   *\n-   *   only_height ::\n-   *     Only recompute ascender, descender, and height;\n-   *     this flag is used for variation fonts where\n-   *     `tt_size_reset' is used as an iterator function.\n+   *   ft_size ::\n+   *     A handle to the target TT_Size object. This function will be called\n+   *     through a `FT_Size_Reset_Func` pointer which takes `FT_Size`. This\n+   *     function must take `FT_Size` as a result. The passed `FT_Size` is\n+   *     expected to point to a `TT_Size`.\n@@ -1357,2 +1353,1 @@\n-  tt_size_reset( TT_Size  size,\n-                 FT_Bool  only_height )\n+  tt_size_reset_height( FT_Size  ft_size )\n@@ -1360,9 +1355,3 @@\n-    TT_Face           face;\n-    FT_Size_Metrics*  size_metrics;\n-\n-\n-    face = (TT_Face)size->root.face;\n-\n-    \/* nothing to do for CFF2 *\/\n-    if ( face->is_cff2 )\n-      return FT_Err_Ok;\n+    TT_Size           size         = (TT_Size)ft_size;\n+    TT_Face           face         = (TT_Face)size->root.face;\n+    FT_Size_Metrics*  size_metrics = &size->hinted_metrics;\n@@ -1372,2 +1361,0 @@\n-    size_metrics = &size->hinted_metrics;\n-\n@@ -1400,6 +1387,28 @@\n-    if ( only_height )\n-    {\n-      \/* we must not recompute the scaling values here since       *\/\n-      \/* `tt_size_reset' was already called (with only_height = 0) *\/\n-      return FT_Err_Ok;\n-    }\n+    return FT_Err_Ok;\n+  }\n+\n+\n+  \/**************************************************************************\n+   *\n+   * @Function:\n+   *   tt_size_reset\n+   *\n+   * @Description:\n+   *   Reset a TrueType size when resolutions and character dimensions\n+   *   have been changed.\n+   *\n+   * @Input:\n+   *   size ::\n+   *     A handle to the target size object.\n+   *\/\n+  FT_LOCAL_DEF( FT_Error )\n+  tt_size_reset( TT_Size  size )\n+  {\n+    FT_Error          error;\n+    TT_Face           face         = (TT_Face)size->root.face;\n+    FT_Size_Metrics*  size_metrics = &size->hinted_metrics;\n+\n+\n+    error = tt_size_reset_height( (FT_Size)size );\n+    if ( error )\n+      return error;\n@@ -1475,3 +1484,0 @@\n-#ifdef TT_SUPPORT_SUBPIXEL_HINTING_INFINALITY\n-    driver->interpreter_version = TT_INTERPRETER_VERSION_38;\n-#endif\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttobjs.c","additions":47,"deletions":41,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -165,2 +165,0 @@\n-    FT_Bool   inline_delta;   \/* is function that defines inline delta? *\/\n-    FT_ULong  sph_fdef_flags; \/* flags to identify special functions    *\/\n@@ -394,2 +392,4 @@\n-  tt_size_reset( TT_Size  size,\n-                 FT_Bool  only_height );\n+  tt_size_reset_height( FT_Size  size );\n+\n+  FT_LOCAL( FT_Error )\n+  tt_size_reset( TT_Size  size );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttobjs.h","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -183,3 +183,3 @@\n-  tt_face_get_location( TT_Face   face,\n-                        FT_UInt   gindex,\n-                        FT_UInt  *asize )\n+  tt_face_get_location( FT_Face    face,   \/* TT_Face *\/\n+                        FT_UInt    gindex,\n+                        FT_ULong  *asize )\n@@ -187,0 +187,1 @@\n+    TT_Face   ttface = (TT_Face)face;\n@@ -194,1 +195,1 @@\n-    if ( gindex < face->num_locations )\n+    if ( gindex < ttface->num_locations )\n@@ -196,1 +197,1 @@\n-      if ( face->header.Index_To_Loc_Format != 0 )\n+      if ( ttface->header.Index_To_Loc_Format != 0 )\n@@ -198,2 +199,2 @@\n-        p       = face->glyph_locations + gindex * 4;\n-        p_limit = face->glyph_locations + face->num_locations * 4;\n+        p       = ttface->glyph_locations + gindex * 4;\n+        p_limit = ttface->glyph_locations + ttface->num_locations * 4;\n@@ -209,2 +210,2 @@\n-        p       = face->glyph_locations + gindex * 2;\n-        p_limit = face->glyph_locations + face->num_locations * 2;\n+        p       = ttface->glyph_locations + gindex * 2;\n+        p_limit = ttface->glyph_locations + ttface->num_locations * 2;\n@@ -224,1 +225,1 @@\n-    if ( pos1 > face->glyf_len )\n+    if ( pos1 > ttface->glyf_len )\n@@ -231,1 +232,1 @@\n-                  face->glyf_len ));\n+                  ttface->glyf_len ));\n@@ -236,1 +237,1 @@\n-    if ( pos2 > face->glyf_len )\n+    if ( pos2 > ttface->glyf_len )\n@@ -239,1 +240,1 @@\n-      if ( gindex == face->num_locations - 2 )\n+      if ( gindex == ttface->num_locations - 2 )\n@@ -246,2 +247,2 @@\n-                    face->glyf_len - pos1 ));\n-        pos2 = face->glyf_len;\n+                    ttface->glyf_len - pos1 ));\n+        pos2 = ttface->glyf_len;\n@@ -256,1 +257,1 @@\n-                    face->glyf_len ));\n+                    ttface->glyf_len ));\n@@ -271,1 +272,1 @@\n-      *asize = (FT_UInt)( pos2 - pos1 );\n+      *asize = (FT_ULong)( pos2 - pos1 );\n@@ -273,1 +274,1 @@\n-      *asize = (FT_UInt)( face->glyf_len - pos1 );\n+      *asize = (FT_ULong)( ttface->glyf_len - pos1 );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttpload.c","additions":19,"deletions":18,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -34,3 +34,3 @@\n-  tt_face_get_location( TT_Face   face,\n-                        FT_UInt   gindex,\n-                        FT_UInt  *asize );\n+  tt_face_get_location( FT_Face    face,\n+                        FT_UInt    gindex,\n+                        FT_ULong  *asize );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/truetype\/ttpload.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -408,1 +408,1 @@\n-  typedef int  _t1_afm_dummy;\n+  typedef int  t1_afm_dummy_;\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/type1\/t1afm.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -59,2 +59,2 @@\n-  static FT_Error\n-  t1_get_glyph_name( T1_Face     face,\n+  FT_CALLBACK_DEF( FT_Error )\n+  t1_get_glyph_name( FT_Face     face,        \/* T1_Face *\/\n@@ -65,1 +65,4 @@\n-    FT_STRCPYN( buffer, face->type1.glyph_names[glyph_index], buffer_max );\n+    T1_Face  t1face = (T1_Face)face;\n+\n+\n+    FT_STRCPYN( buffer, t1face->type1.glyph_names[glyph_index], buffer_max );\n@@ -71,2 +74,2 @@\n-  static FT_UInt\n-  t1_get_name_index( T1_Face           face,\n+  FT_CALLBACK_DEF( FT_UInt )\n+  t1_get_name_index( FT_Face           face,        \/* T1_Face *\/\n@@ -75,1 +78,2 @@\n-    FT_Int  i;\n+    T1_Face  t1face = (T1_Face)face;\n+    FT_Int   i;\n@@ -78,1 +82,1 @@\n-    for ( i = 0; i < face->type1.num_glyphs; i++ )\n+    for ( i = 0; i < t1face->type1.num_glyphs; i++ )\n@@ -80,1 +84,1 @@\n-      FT_String*  gname = face->type1.glyph_names[i];\n+      FT_String*  gname = t1face->type1.glyph_names[i];\n@@ -93,2 +97,2 @@\n-    (FT_GlyphDict_GetNameFunc)  t1_get_glyph_name,    \/* get_name   *\/\n-    (FT_GlyphDict_NameIndexFunc)t1_get_name_index     \/* name_index *\/\n+    t1_get_glyph_name,  \/* FT_GlyphDict_GetNameFunc   get_name   *\/\n+    t1_get_name_index   \/* FT_GlyphDict_NameIndexFunc name_index *\/\n@@ -104,1 +108,1 @@\n-  t1_get_ps_name( T1_Face  face )\n+  t1_get_ps_name( FT_Face  face )    \/* T1_Face *\/\n@@ -106,1 +110,4 @@\n-    return (const char*) face->type1.font_name;\n+    T1_Face  t1face = (T1_Face)face;\n+\n+\n+    return (const char*) t1face->type1.font_name;\n@@ -124,24 +131,22 @@\n-    (FT_Get_MM_Func)        T1_Get_Multi_Master,    \/* get_mm                    *\/\n-    (FT_Set_MM_Design_Func) T1_Set_MM_Design,       \/* set_mm_design             *\/\n-    (FT_Set_MM_Blend_Func)  T1_Set_MM_Blend,        \/* set_mm_blend              *\/\n-    (FT_Get_MM_Blend_Func)  T1_Get_MM_Blend,        \/* get_mm_blend              *\/\n-    (FT_Get_MM_Var_Func)    T1_Get_MM_Var,          \/* get_mm_var                *\/\n-    (FT_Set_Var_Design_Func)T1_Set_Var_Design,      \/* set_var_design            *\/\n-    (FT_Get_Var_Design_Func)T1_Get_Var_Design,      \/* get_var_design            *\/\n-    (FT_Set_Instance_Func)  T1_Reset_MM_Blend,      \/* set_instance              *\/\n-    (FT_Set_MM_WeightVector_Func)\n-                            T1_Set_MM_WeightVector, \/* set_mm_weightvector       *\/\n-    (FT_Get_MM_WeightVector_Func)\n-                            T1_Get_MM_WeightVector, \/* get_mm_weightvector       *\/\n-    (FT_Var_Load_Delta_Set_Idx_Map_Func)\n-                            NULL,                   \/* load_delta_set_idx_map    *\/\n-    (FT_Var_Load_Item_Var_Store_Func)\n-                            NULL,                   \/* load_item_variation_store *\/\n-    (FT_Var_Get_Item_Delta_Func)\n-                            NULL,                   \/* get_item_delta            *\/\n-    (FT_Var_Done_Item_Var_Store_Func)\n-                            NULL,                   \/* done_item_variation_store *\/\n-    (FT_Var_Done_Delta_Set_Idx_Map_Func)\n-                            NULL,                   \/* done_delta_set_index_map  *\/\n-    (FT_Get_Var_Blend_Func) NULL,                   \/* get_var_blend             *\/\n-    (FT_Done_Blend_Func)    T1_Done_Blend           \/* done_blend                *\/\n+    T1_Get_Multi_Master,    \/* FT_Get_MM_Func             get_mm             *\/\n+    T1_Set_MM_Design,       \/* FT_Set_MM_Design_Func      set_mm_design      *\/\n+    T1_Set_MM_Blend,        \/* FT_Set_MM_Blend_Func       set_mm_blend       *\/\n+    T1_Get_MM_Blend,        \/* FT_Get_MM_Blend_Func       get_mm_blend       *\/\n+    T1_Get_MM_Var,          \/* FT_Get_MM_Var_Func         get_mm_var         *\/\n+    T1_Set_Var_Design,      \/* FT_Set_Var_Design_Func     set_var_design     *\/\n+    T1_Get_Var_Design,      \/* FT_Get_Var_Design_Func     get_var_design     *\/\n+    T1_Reset_MM_Blend,      \/* FT_Set_Named_Instance_Func set_named_instance *\/\n+    NULL,   \/* FT_Get_Default_Named_Instance_Func get_default_named_instance *\/\n+    T1_Set_MM_WeightVector,\n+            \/* FT_Set_MM_WeightVector_Func        set_mm_weightvector        *\/\n+    T1_Get_MM_WeightVector,\n+            \/* FT_Get_MM_WeightVector_Func        get_mm_weightvector        *\/\n+\n+    NULL,   \/* FT_Construct_PS_Name_Func          construct_ps_name          *\/\n+    NULL,   \/* FT_Var_Load_Delta_Set_Idx_Map_Func load_delta_set_idx_map     *\/\n+    NULL,   \/* FT_Var_Load_Item_Var_Store_Func    load_item_variation_store  *\/\n+    NULL,   \/* FT_Var_Get_Item_Delta_Func         get_item_delta             *\/\n+    NULL,   \/* FT_Var_Done_Item_Var_Store_Func    done_item_variation_store  *\/\n+    NULL,   \/* FT_Var_Done_Delta_Set_Idx_Map_Func done_delta_set_index_map   *\/\n+    NULL,           \/* FT_Get_Var_Blend_Func      get_var_blend              *\/\n+    T1_Done_Blend   \/* FT_Done_Blend_Func         done_blend                 *\/\n@@ -635,5 +640,5 @@\n-    (PS_GetFontInfoFunc)   t1_ps_get_font_info,    \/* ps_get_font_info    *\/\n-    (PS_GetFontExtraFunc)  t1_ps_get_font_extra,   \/* ps_get_font_extra   *\/\n-    (PS_HasGlyphNamesFunc) t1_ps_has_glyph_names,  \/* ps_has_glyph_names  *\/\n-    (PS_GetFontPrivateFunc)t1_ps_get_font_private, \/* ps_get_font_private *\/\n-    (PS_GetFontValueFunc)  t1_ps_get_font_value,   \/* ps_get_font_value   *\/\n+    t1_ps_get_font_info,     \/* PS_GetFontInfoFunc    ps_get_font_info    *\/\n+    t1_ps_get_font_extra,    \/* PS_GetFontExtraFunc   ps_get_font_extra   *\/\n+    t1_ps_has_glyph_names,   \/* PS_HasGlyphNamesFunc  ps_has_glyph_names  *\/\n+    t1_ps_get_font_private,  \/* PS_GetFontPrivateFunc ps_get_font_private *\/\n+    t1_ps_get_font_value,    \/* PS_GetFontValueFunc   ps_get_font_value   *\/\n@@ -659,3 +664,3 @@\n-    (FT_Properties_SetFunc)ps_property_set,      \/* set_property *\/\n-    (FT_Properties_GetFunc)ps_property_get )     \/* get_property *\/\n-\n+    ps_property_set,  \/* FT_Properties_SetFunc set_property *\/\n+    ps_property_get   \/* FT_Properties_GetFunc get_property *\/\n+  )\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/type1\/t1driver.c","additions":49,"deletions":44,"binary":false,"changes":93,"status":"modified"},{"patch":"@@ -76,1 +76,2 @@\n-#define IS_INCREMENTAL  FT_BOOL( face->root.internal->incremental_interface )\n+#define IS_INCREMENTAL  \\\n+          FT_BOOL( FT_FACE( face )->internal->incremental_interface )\n@@ -177,1 +178,1 @@\n-  T1_Get_Multi_Master( T1_Face           face,\n+  T1_Get_Multi_Master( FT_Face           face,    \/* T1_Face *\/\n@@ -180,1 +181,2 @@\n-    PS_Blend  blend = face->blend;\n+    T1_Face   t1face = (T1_Face)face;\n+    PS_Blend  blend  = t1face->blend;\n@@ -228,5 +230,6 @@\n-        return INT_TO_FIXED( axismap->design_points[j - 1] ) +\n-               ( axismap->design_points[j] - axismap->design_points[j - 1] ) *\n-               FT_DivFix( ncv - axismap->blend_points[j - 1],\n-                          axismap->blend_points[j] -\n-                            axismap->blend_points[j - 1] );\n+        return INT_TO_FIXED( axismap->design_points[j - 1] +\n+                               FT_MulDiv( ncv - axismap->blend_points[j - 1],\n+                                          axismap->design_points[j] -\n+                                            axismap->design_points[j - 1],\n+                                          axismap->blend_points[j] -\n+                                            axismap->blend_points[j - 1] ) );\n@@ -287,1 +290,1 @@\n-  T1_Get_MM_Var( T1_Face      face,\n+  T1_Get_MM_Var( FT_Face      face,    \/* T1_Face *\/\n@@ -290,2 +293,3 @@\n-    FT_Memory        memory = face->root.memory;\n-    FT_MM_Var       *mmvar = NULL;\n+    T1_Face          t1face = (T1_Face)face;\n+    FT_Memory        memory = FT_FACE_MEMORY( face );\n+    FT_MM_Var       *mmvar  = NULL;\n@@ -296,1 +300,1 @@\n-    PS_Blend         blend = face->blend;\n+    PS_Blend         blend  = t1face->blend;\n@@ -322,3 +326,3 @@\n-    if ( FT_ALLOC( mmvar, mmvar_size +\n-                          axis_flags_size +\n-                          axis_size ) )\n+    if ( FT_QALLOC( mmvar, mmvar_size +\n+                           axis_flags_size +\n+                           axis_size ) )\n@@ -335,2 +339,1 @@\n-    for ( i = 0; i < mmaster.num_axis; i++ )\n-      axis_flags[i] = 0;\n+    FT_ARRAY_ZERO( axis_flags, mmaster.num_axis );\n@@ -441,1 +444,1 @@\n-  T1_Set_MM_Blend( T1_Face    face,\n+  T1_Set_MM_Blend( FT_Face    face,       \/* T1_Face *\/\n@@ -445,13 +448,1 @@\n-    FT_Error  error;\n-\n-\n-    error = t1_set_mm_blend( face, num_coords, coords );\n-    if ( error )\n-      return error;\n-\n-    if ( num_coords )\n-      face->root.face_flags |= FT_FACE_FLAG_VARIATION;\n-    else\n-      face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n-\n-    return FT_Err_Ok;\n+    return t1_set_mm_blend( (T1_Face)face, num_coords, coords );\n@@ -462,1 +453,1 @@\n-  T1_Get_MM_Blend( T1_Face    face,\n+  T1_Get_MM_Blend( FT_Face    face,       \/* T1_Face *\/\n@@ -466,1 +457,2 @@\n-    PS_Blend  blend = face->blend;\n+    T1_Face   t1face = (T1_Face)face;\n+    PS_Blend  blend  = t1face->blend;\n@@ -497,1 +489,1 @@\n-  T1_Set_MM_WeightVector( T1_Face    face,\n+  T1_Set_MM_WeightVector( FT_Face    face,          \/* T1_Face *\/\n@@ -501,1 +493,2 @@\n-    PS_Blend  blend = face->blend;\n+    T1_Face   t1face = (T1_Face)face;\n+    PS_Blend  blend  = t1face->blend;\n@@ -525,5 +518,0 @@\n-\n-      if ( len )\n-        face->root.face_flags |= FT_FACE_FLAG_VARIATION;\n-      else\n-        face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n@@ -537,1 +525,1 @@\n-  T1_Get_MM_WeightVector( T1_Face    face,\n+  T1_Get_MM_WeightVector( FT_Face    face,          \/* T1_Face *\/\n@@ -541,1 +529,2 @@\n-    PS_Blend  blend = face->blend;\n+    T1_Face   t1face = (T1_Face)face;\n+    PS_Blend  blend  = t1face->blend;\n@@ -566,1 +555,1 @@\n-  T1_Set_MM_Design( T1_Face   face,\n+  T1_Set_MM_Design( FT_Face   face,       \/* T1_Face *\/\n@@ -570,0 +559,1 @@\n+    T1_Face   t1face = (T1_Face)face;\n@@ -571,1 +561,1 @@\n-    PS_Blend  blend = face->blend;\n+    PS_Blend  blend  = t1face->blend;\n@@ -637,1 +627,1 @@\n-    error = t1_set_mm_blend( face, blend->num_axis, final_blends );\n+    error = t1_set_mm_blend( t1face, blend->num_axis, final_blends );\n@@ -641,5 +631,0 @@\n-    if ( num_coords )\n-      face->root.face_flags |= FT_FACE_FLAG_VARIATION;\n-    else\n-      face->root.face_flags &= ~FT_FACE_FLAG_VARIATION;\n-\n@@ -653,1 +638,1 @@\n-  T1_Reset_MM_Blend( T1_Face  face,\n+  T1_Reset_MM_Blend( FT_Face  face,\n@@ -668,1 +653,1 @@\n-  T1_Set_Var_Design( T1_Face    face,\n+  T1_Set_Var_Design( FT_Face    face,       \/* T1_Face *\/\n@@ -687,1 +672,1 @@\n-  T1_Get_Var_Design( T1_Face    face,\n+  T1_Get_Var_Design( FT_Face    face,       \/* T1_Face *\/\n@@ -691,1 +676,2 @@\n-    PS_Blend  blend = face->blend;\n+    T1_Face   t1face = (T1_Face)face;\n+    PS_Blend  blend  = t1face->blend;\n@@ -723,1 +709,1 @@\n-  T1_Done_Blend( T1_Face  face )\n+  T1_Done_Blend( FT_Face  face )    \/* T1_Face *\/\n@@ -725,2 +711,3 @@\n-    FT_Memory  memory = face->root.memory;\n-    PS_Blend   blend  = face->blend;\n+    T1_Face    t1face = (T1_Face)face;\n+    FT_Memory  memory = FT_FACE_MEMORY( face );\n+    PS_Blend   blend  = t1face->blend;\n@@ -771,1 +758,1 @@\n-      FT_FREE( face->blend );\n+      FT_FREE( t1face->blend );\n@@ -777,2 +764,2 @@\n-  parse_blend_axis_types( T1_Face    face,\n-                          T1_Loader  loader )\n+  parse_blend_axis_types( FT_Face  face,     \/* T1_Face *\/\n+                          void*    loader_ )\n@@ -780,0 +767,2 @@\n+    T1_Face      t1face = (T1_Face)face;\n+    T1_Loader    loader = (T1_Loader)loader_;\n@@ -782,1 +771,1 @@\n-    FT_Error     error = FT_Err_Ok;\n+    FT_Error     error  = FT_Err_Ok;\n@@ -784,1 +773,1 @@\n-    FT_Memory    memory;\n+    FT_Memory    memory = FT_FACE_MEMORY( face );\n@@ -804,1 +793,1 @@\n-    error = t1_allocate_blend( face, 0, (FT_UInt)num_axis );\n+    error = t1_allocate_blend( t1face, 0, (FT_UInt)num_axis );\n@@ -810,2 +799,1 @@\n-    blend  = face->blend;\n-    memory = face->root.memory;\n+    blend = t1face->blend;\n@@ -859,2 +847,2 @@\n-  parse_blend_design_positions( T1_Face    face,\n-                                T1_Loader  loader )\n+  parse_blend_design_positions( FT_Face  face,     \/* T1_Face *\/\n+                                void*    loader_ )\n@@ -862,0 +850,2 @@\n+    T1_Face      t1face   = (T1_Face)face;\n+    T1_Loader    loader   = (T1_Loader)loader_;\n@@ -866,1 +856,1 @@\n-    FT_Memory    memory   = face->root.memory;\n+    FT_Memory    memory   = FT_FACE_MEMORY( face );\n@@ -924,1 +914,1 @@\n-          error = t1_allocate_blend( face,\n+          error = t1_allocate_blend( t1face,\n@@ -965,1 +955,1 @@\n-      blend = face->blend;\n+      blend = t1face->blend;\n@@ -983,2 +973,2 @@\n-  parse_blend_design_map( T1_Face    face,\n-                          T1_Loader  loader )\n+  parse_blend_design_map( FT_Face  face,     \/* T1_Face *\/\n+                          void*    loader_ )\n@@ -986,0 +976,2 @@\n+    T1_Face      t1face = (T1_Face)face;\n+    T1_Loader    loader = (T1_Loader)loader_;\n@@ -993,1 +985,1 @@\n-    FT_Memory    memory = face->root.memory;\n+    FT_Memory    memory = FT_FACE_MEMORY( face );\n@@ -1014,1 +1006,1 @@\n-    error = t1_allocate_blend( face, 0, (FT_UInt)num_axis );\n+    error = t1_allocate_blend( t1face, 0, (FT_UInt)num_axis );\n@@ -1017,1 +1009,1 @@\n-    blend = face->blend;\n+    blend = t1face->blend;\n@@ -1092,2 +1084,2 @@\n-  parse_weight_vector( T1_Face    face,\n-                       T1_Loader  loader )\n+  parse_weight_vector( FT_Face  face,     \/* T1_Face *\/\n+                       void*    loader_ )\n@@ -1095,0 +1087,2 @@\n+    T1_Face      t1face = (T1_Face)face;\n+    T1_Loader    loader = (T1_Loader)loader_;\n@@ -1098,1 +1092,1 @@\n-    FT_Memory    memory = face->root.memory;\n+    FT_Memory    memory = FT_FACE_MEMORY( face );\n@@ -1100,1 +1094,1 @@\n-    PS_Blend     blend  = face->blend;\n+    PS_Blend     blend  = t1face->blend;\n@@ -1125,1 +1119,1 @@\n-      error = t1_allocate_blend( face, (FT_UInt)num_designs, 0 );\n+      error = t1_allocate_blend( t1face, (FT_UInt)num_designs, 0 );\n@@ -1128,1 +1122,1 @@\n-      blend = face->blend;\n+      blend = t1face->blend;\n@@ -1176,2 +1170,2 @@\n-  parse_buildchar( T1_Face    face,\n-                   T1_Loader  loader )\n+  parse_buildchar( FT_Face  face,     \/* T1_Face *\/\n+                   void*    loader_ )\n@@ -1179,2 +1173,6 @@\n-    face->len_buildchar = (FT_UInt)T1_ToFixedArray( &loader->parser,\n-                                                    0, NULL, 0 );\n+    T1_Face    t1face = (T1_Face)face;\n+    T1_Loader  loader = (T1_Loader)loader_;\n+\n+\n+    t1face->len_buildchar = (FT_UInt)T1_ToFixedArray( &loader->parser,\n+                                                      0, NULL, 0 );\n@@ -1188,1 +1186,1 @@\n-      for ( i = 0; i < face->len_buildchar; i++ )\n+      for ( i = 0; i < t1face->len_buildchar; i++ )\n@@ -1338,2 +1336,2 @@\n-  parse_private( T1_Face    face,\n-                 T1_Loader  loader )\n+  parse_private( FT_Face  face,\n+                 void*    loader_ )\n@@ -1341,0 +1339,1 @@\n+    T1_Loader  loader = (T1_Loader)loader_;\n@@ -1404,2 +1403,2 @@\n-  t1_parse_font_matrix( T1_Face    face,\n-                        T1_Loader  loader )\n+  t1_parse_font_matrix( FT_Face  face,     \/* T1_Face *\/\n+                        void*    loader_ )\n@@ -1407,0 +1406,2 @@\n+    T1_Face     t1face = (T1_Face)face;\n+    T1_Loader   loader = (T1_Loader)loader_;\n@@ -1408,3 +1409,2 @@\n-    FT_Matrix*  matrix = &face->type1.font_matrix;\n-    FT_Vector*  offset = &face->type1.font_offset;\n-    FT_Face     root   = (FT_Face)&face->root;\n+    FT_Matrix*  matrix = &t1face->type1.font_matrix;\n+    FT_Vector*  offset = &t1face->type1.font_offset;\n@@ -1446,1 +1446,1 @@\n-      root->units_per_EM = (FT_UShort)FT_DivFix( 1000, temp_scale );\n+      face->units_per_EM = (FT_UShort)FT_DivFix( 1000, temp_scale );\n@@ -1474,2 +1474,2 @@\n-  parse_encoding( T1_Face    face,\n-                  T1_Loader  loader )\n+  parse_encoding( FT_Face  face,     \/* T1_Face *\/\n+                  void*    loader_ )\n@@ -1477,0 +1477,2 @@\n+    T1_Face    t1face = (T1_Face)face;\n+    T1_Loader  loader = (T1_Loader)loader_;\n@@ -1481,1 +1483,1 @@\n-    PSAux_Service  psaux = (PSAux_Service)face->psaux;\n+    PSAux_Service  psaux = (PSAux_Service)t1face->psaux;\n@@ -1497,1 +1499,1 @@\n-      T1_Encoding  encode          = &face->type1.encoding;\n+      T1_Encoding  encode          = &t1face->type1.encoding;\n@@ -1679,1 +1681,1 @@\n-      face->type1.encoding_type = T1_ENCODING_TYPE_ARRAY;\n+      t1face->type1.encoding_type = T1_ENCODING_TYPE_ARRAY;\n@@ -1690,1 +1692,1 @@\n-        face->type1.encoding_type = T1_ENCODING_TYPE_STANDARD;\n+        t1face->type1.encoding_type = T1_ENCODING_TYPE_STANDARD;\n@@ -1697,1 +1699,1 @@\n-        face->type1.encoding_type = T1_ENCODING_TYPE_EXPERT;\n+        t1face->type1.encoding_type = T1_ENCODING_TYPE_EXPERT;\n@@ -1704,1 +1706,1 @@\n-        face->type1.encoding_type = T1_ENCODING_TYPE_ISOLATIN1;\n+        t1face->type1.encoding_type = T1_ENCODING_TYPE_ISOLATIN1;\n@@ -1718,2 +1720,2 @@\n-  parse_subrs( T1_Face    face,\n-               T1_Loader  loader )\n+  parse_subrs( FT_Face  face,     \/* T1_Face *\/\n+               void*    loader_ )\n@@ -1721,0 +1723,2 @@\n+    T1_Face    t1face = (T1_Face)face;\n+    T1_Loader  loader = (T1_Loader)loader_;\n@@ -1728,1 +1732,1 @@\n-    PSAux_Service  psaux = (PSAux_Service)face->psaux;\n+    PSAux_Service  psaux = (PSAux_Service)t1face->psaux;\n@@ -1772,1 +1776,1 @@\n-                  \" (from %d to %ld)\\n\",\n+                  \" (from %d to %zu)\\n\",\n@@ -1860,1 +1864,1 @@\n-      if ( face->type1.private_dict.lenIV >= 0 )\n+      if ( t1face->type1.private_dict.lenIV >= 0 )\n@@ -1868,1 +1872,1 @@\n-        if ( size < (FT_ULong)face->type1.private_dict.lenIV )\n+        if ( size < (FT_ULong)t1face->type1.private_dict.lenIV )\n@@ -1879,3 +1883,5 @@\n-        size -= (FT_ULong)face->type1.private_dict.lenIV;\n-        error = T1_Add_Table( table, (FT_Int)idx,\n-                              temp + face->type1.private_dict.lenIV, size );\n+        size -= (FT_ULong)t1face->type1.private_dict.lenIV;\n+        error = T1_Add_Table( table,\n+                              (FT_Int)idx,\n+                              temp + t1face->type1.private_dict.lenIV,\n+                              size );\n@@ -1913,2 +1919,2 @@\n-  parse_charstrings( T1_Face    face,\n-                     T1_Loader  loader )\n+  parse_charstrings( FT_Face  face,     \/* T1_Face *\/\n+                     void*    loader_ )\n@@ -1916,0 +1922,2 @@\n+    T1_Face        t1face       = (T1_Face)face;\n+    T1_Loader      loader       = (T1_Loader)loader_;\n@@ -1923,1 +1931,1 @@\n-    PSAux_Service  psaux        = (PSAux_Service)face->psaux;\n+    PSAux_Service  psaux        = (PSAux_Service)t1face->psaux;\n@@ -1943,1 +1951,1 @@\n-                  \" (from %d to %ld)\\n\",\n+                  \" (from %d to %zu)\\n\",\n@@ -2072,1 +2080,1 @@\n-        if ( face->type1.private_dict.lenIV >= 0 &&\n+        if ( t1face->type1.private_dict.lenIV >= 0 &&\n@@ -2078,1 +2086,1 @@\n-          if ( size <= (FT_ULong)face->type1.private_dict.lenIV )\n+          if ( size <= (FT_ULong)t1face->type1.private_dict.lenIV )\n@@ -2089,3 +2097,5 @@\n-          size -= (FT_ULong)face->type1.private_dict.lenIV;\n-          error = T1_Add_Table( code_table, n,\n-                                temp + face->type1.private_dict.lenIV, size );\n+          size -= (FT_ULong)t1face->type1.private_dict.lenIV;\n+          error = T1_Add_Table( code_table,\n+                                n,\n+                                temp + t1face->type1.private_dict.lenIV,\n+                                size );\n@@ -2573,1 +2583,1 @@\n-      T1_Done_Blend( face );\n+      T1_Done_Blend( FT_FACE( face ) );\n@@ -2593,1 +2603,1 @@\n-      T1_Done_Blend( face );\n+      T1_Done_Blend( FT_FACE( face ) );\n@@ -2597,1 +2607,1 @@\n-      T1_Done_Blend( face );\n+      T1_Done_Blend( FT_FACE( face ) );\n@@ -2601,1 +2611,1 @@\n-      T1_Done_Blend( face );\n+      T1_Done_Blend( FT_FACE( face ) );\n@@ -2612,1 +2622,1 @@\n-          T1_Done_Blend( face );\n+          T1_Done_Blend( FT_FACE( face ) );\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/type1\/t1load.c","additions":135,"deletions":125,"binary":false,"changes":260,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-  T1_Get_Multi_Master( T1_Face           face,\n+  T1_Get_Multi_Master( FT_Face           face,\n@@ -73,1 +73,1 @@\n-  T1_Get_MM_Var( T1_Face      face,\n+  T1_Get_MM_Var( FT_Face      face,\n@@ -77,1 +77,1 @@\n-  T1_Set_MM_Blend( T1_Face    face,\n+  T1_Set_MM_Blend( FT_Face    face,\n@@ -82,1 +82,1 @@\n-  T1_Get_MM_Blend( T1_Face    face,\n+  T1_Get_MM_Blend( FT_Face    face,\n@@ -87,1 +87,1 @@\n-  T1_Set_MM_Design( T1_Face   face,\n+  T1_Set_MM_Design( FT_Face   face,\n@@ -92,1 +92,1 @@\n-  T1_Reset_MM_Blend( T1_Face  face,\n+  T1_Reset_MM_Blend( FT_Face  face,\n@@ -96,1 +96,1 @@\n-  T1_Get_Var_Design( T1_Face    face,\n+  T1_Get_Var_Design( FT_Face    face,\n@@ -101,1 +101,1 @@\n-  T1_Set_Var_Design( T1_Face    face,\n+  T1_Set_Var_Design( FT_Face    face,\n@@ -106,1 +106,1 @@\n-  T1_Done_Blend( T1_Face  face );\n+  T1_Done_Blend( FT_Face  face );\n@@ -109,1 +109,1 @@\n-  T1_Set_MM_WeightVector( T1_Face    face,\n+  T1_Set_MM_WeightVector( FT_Face    face,\n@@ -114,1 +114,1 @@\n-  T1_Get_MM_WeightVector( T1_Face    face,\n+  T1_Get_MM_WeightVector( FT_Face    face,\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/type1\/t1load.h","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -170,2 +170,1 @@\n-      module = FT_Get_Module( slot->face->driver->root.library,\n-                              \"pshinter\" );\n+      module = FT_Get_Module( slot->library, \"pshinter\" );\n@@ -230,1 +229,1 @@\n-    T1_Done_Blend( face );\n+    T1_Done_Blend( t1face );\n@@ -293,1 +292,2 @@\n-   *     input stream where to load font data.\n+   *     Dummy argument for compatibility with the `FT_Face_InitFunc` API.\n+   *     Ignored.  The stream should be passed through `face->root.stream`.\n","filename":"src\/java.desktop\/share\/native\/libfreetype\/src\/type1\/t1objs.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -124,0 +124,1 @@\n+    UBYTE* msg;\n@@ -136,0 +137,1 @@\n+    msg = data;\n@@ -137,1 +139,1 @@\n-        data++;\n+        msg++;\n@@ -140,1 +142,1 @@\n-    MIDI_OUT_SendLongMessage((MidiDeviceHandle*) (UINT_PTR) deviceHandle, data,\n+    MIDI_OUT_SendLongMessage((MidiDeviceHandle*) (UINT_PTR) deviceHandle, msg,\n","filename":"src\/java.desktop\/share\/native\/libjsound\/MidiOutDevice.c","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -505,0 +505,15 @@\n+                    Window oppositeWindow = e.getOppositeWindow();\n+\n+                    \/\/ The focus can move between the window calling the popup,\n+                    \/\/ and the popup window itself.\n+                    \/\/ We only dismiss the popup in other cases.\n+                    if (oppositeWindow != null) {\n+                        if (window == oppositeWindow.getParent() ) {\n+                            addWaylandWindowFocusListenerToWindow(oppositeWindow);\n+                            return;\n+                        }\n+                        if (window.getParent() == oppositeWindow) {\n+                            return;\n+                        }\n+                    }\n+\n@@ -519,0 +534,9 @@\n+    private static void addWaylandWindowFocusListenerToWindow(Window window) {\n+        if (!Arrays\n+                .asList(window.getWindowFocusListeners())\n+                .contains(waylandWindowFocusListener)\n+        ) {\n+            window.addWindowFocusListener(waylandWindowFocusListener);\n+        }\n+    }\n+\n@@ -521,6 +545,1 @@\n-        if (!isOnWayland()\n-                || invoker == null\n-                || Arrays\n-                    .asList(invoker.getWindowFocusListeners())\n-                    .contains(waylandWindowFocusListener)\n-        ) {\n+        if (!isOnWayland() || invoker == null) {\n@@ -530,1 +549,1 @@\n-        invoker.addWindowFocusListener(waylandWindowFocusListener);\n+        addWaylandWindowFocusListenerToWindow(invoker);\n@@ -540,0 +559,3 @@\n+        for (Window ownedWindow : invoker.getOwnedWindows()) {\n+            ownedWindow.removeWindowFocusListener(waylandWindowFocusListener);\n+        }\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/UNIXToolkit.java","additions":29,"deletions":7,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -60,1 +60,3 @@\n-    \/** The namespace for CONF file **\/\n+    \/**\n+     * The namespace for CONF file\n+     **\/\n@@ -64,1 +66,1 @@\n-        com.sun.org.slf4j.internal.LoggerFactory.getLogger(Init.class);\n+            com.sun.org.slf4j.internal.LoggerFactory.getLogger(Init.class);\n@@ -66,1 +68,3 @@\n-    \/** Field alreadyInitialized *\/\n+    \/**\n+     * Field alreadyInitialized\n+     *\/\n@@ -71,0 +75,1 @@\n+     *\n@@ -79,1 +84,0 @@\n-     *\n@@ -85,0 +89,7 @@\n+        PrivilegedAction<InputStream> action = () -> {\n+            String cfile = System.getProperty(\"com.sun.org.apache.xml.internal.security.resource.config\");\n+            if (cfile == null) {\n+                return null;\n+            }\n+            return getResourceAsStream(cfile, Init.class);\n+        };\n@@ -86,21 +97,6 @@\n-        @SuppressWarnings(\"removal\")\n-        InputStream is =    \/\/NOPMD\n-            AccessController.doPrivileged(\n-                (PrivilegedAction<InputStream>)\n-                    () -> {\n-                        String cfile =\n-                            System.getProperty(\"com.sun.org.apache.xml.internal.security.resource.config\");\n-                        if (cfile == null) {\n-                            return null;\n-                        }\n-                        return getResourceAsStream(cfile, Init.class);\n-                    }\n-                );\n-        if (is == null) {\n-            dynamicInit();\n-        } else {\n-            fileInit(is);\n-            try {\n-                is.close();\n-            } catch (IOException ex) {\n-                LOG.warn(ex.getMessage());\n+        try (@SuppressWarnings(\"removal\")\n+             InputStream is = AccessController.doPrivileged(action)) {\n+            if (is == null) {\n+                dynamicInit();\n+            } else {\n+                fileInit(is);\n@@ -108,0 +104,2 @@\n+        } catch (IOException ex) {\n+            LOG.warn(ex.getMessage(), ex);\n@@ -415,0 +413,1 @@\n+            @Override\n@@ -418,0 +417,1 @@\n+            @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/Init.java","additions":25,"deletions":25,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -43,1 +43,3 @@\n-    private static String providerName;\n+    private static String globalProviderName;\n+\n+    private static final ThreadLocal<String> threadSpecificProviderName = new ThreadLocal<>();\n@@ -347,1 +349,4 @@\n-        return providerName;\n+        if (threadSpecificProviderName.get() != null) {\n+            return threadSpecificProviderName.get();\n+        }\n+        return globalProviderName;\n@@ -358,1 +363,12 @@\n-        providerName = provider;\n+        globalProviderName = provider;\n+    }\n+\n+    \/**\n+     * Sets the default Provider for this thread to obtain the security algorithms\n+     * @param threadSpecificProviderName the default providerId.\n+     * @throws SecurityException if a security manager is installed and the\n+     *    caller does not have permission to register the JCE algorithm\n+     *\/\n+    public static void setThreadSpecificProviderName(String threadSpecificProviderName) {\n+        JavaUtils.checkRegisterPermission();\n+        JCEMapper.threadSpecificProviderName.set(threadSpecificProviderName);\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/JCEMapper.java","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -259,0 +259,1 @@\n+    @Override\n@@ -264,0 +265,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/MessageDigestAlgorithm.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,5 @@\n-import com.sun.org.apache.xml.internal.security.algorithms.implementations.*;\n+import com.sun.org.apache.xml.internal.security.algorithms.implementations.IntegrityHmac;\n+import com.sun.org.apache.xml.internal.security.algorithms.implementations.SignatureBaseRSA;\n+import com.sun.org.apache.xml.internal.security.algorithms.implementations.SignatureDSA;\n+import com.sun.org.apache.xml.internal.security.algorithms.implementations.SignatureECDSA;\n+import com.sun.org.apache.xml.internal.security.algorithms.implementations.SignatureEDDSA;\n@@ -527,0 +531,1 @@\n+    @Override\n@@ -536,0 +541,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/SignatureAlgorithm.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -25,1 +25,6 @@\n-import java.security.*;\n+import java.security.InvalidKeyException;\n+import java.security.Key;\n+import java.security.PrivateKey;\n+import java.security.PublicKey;\n+import java.security.SecureRandom;\n+import java.security.Signature;\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/SignatureAlgorithmSpi.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -31,1 +31,6 @@\n-import java.security.spec.*;\n+import java.security.spec.ECField;\n+import java.security.spec.ECFieldF2m;\n+import java.security.spec.ECFieldFp;\n+import java.security.spec.ECParameterSpec;\n+import java.security.spec.ECPoint;\n+import java.security.spec.EllipticCurve;\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/implementations\/ECDSAUtils.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -93,0 +93,1 @@\n+    @Override\n@@ -105,0 +106,1 @@\n+    @Override\n@@ -127,0 +129,1 @@\n+    @Override\n@@ -153,0 +156,1 @@\n+    @Override\n@@ -173,0 +177,1 @@\n+    @Override\n@@ -184,0 +189,1 @@\n+    @Override\n@@ -216,0 +222,1 @@\n+    @Override\n@@ -228,0 +235,1 @@\n+    @Override\n@@ -243,0 +251,1 @@\n+    @Override\n@@ -260,0 +269,1 @@\n+    @Override\n@@ -273,0 +283,1 @@\n+    @Override\n@@ -282,0 +293,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/implementations\/IntegrityHmac.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -34,0 +34,2 @@\n+import java.security.spec.MGF1ParameterSpec;\n+import java.security.spec.PSSParameterSpec;\n@@ -46,2 +48,0 @@\n-import java.security.spec.MGF1ParameterSpec;\n-import java.security.spec.PSSParameterSpec;\n@@ -68,1 +68,4 @@\n-        LOG.debug(\"Created SignatureRSA using {}\", algorithmID);\n+        this.signatureAlgorithm = getSignature(provider, algorithmID);\n+        LOG.debug(\"Created SignatureRSA using {0} and provider {1}\",\n+            algorithmID, signatureAlgorithm.getProvider());\n+    }\n@@ -70,0 +73,2 @@\n+    Signature getSignature(Provider provider, String algorithmID)\n+        throws XMLSignatureException {\n@@ -74,1 +79,1 @@\n-                    this.signatureAlgorithm = Signature.getInstance(algorithmID);\n+                    return Signature.getInstance(algorithmID);\n@@ -77,1 +82,1 @@\n-                    this.signatureAlgorithm = Signature.getInstance(algorithmID, providerId);\n+                    return Signature.getInstance(algorithmID, providerId);\n@@ -81,1 +86,1 @@\n-                this.signatureAlgorithm = Signature.getInstance(algorithmID, provider);\n+                return Signature.getInstance(algorithmID, provider);\n@@ -91,0 +96,1 @@\n+    @Override\n@@ -101,0 +107,1 @@\n+    @Override\n@@ -110,0 +117,1 @@\n+    @Override\n@@ -115,0 +123,1 @@\n+    @Override\n@@ -124,0 +133,1 @@\n+    @Override\n@@ -130,0 +140,1 @@\n+    @Override\n@@ -135,0 +146,1 @@\n+    @Override\n@@ -144,0 +156,1 @@\n+    @Override\n@@ -153,0 +166,1 @@\n+    @Override\n@@ -162,0 +176,1 @@\n+    @Override\n@@ -167,0 +182,1 @@\n+    @Override\n@@ -172,0 +188,1 @@\n+    @Override\n@@ -178,0 +195,1 @@\n+    @Override\n@@ -359,0 +377,39 @@\n+    public abstract static class SignatureBaseRSAPSS extends SignatureBaseRSA {\n+\n+        public SignatureBaseRSAPSS() throws XMLSignatureException {\n+            super();\n+        }\n+\n+        public SignatureBaseRSAPSS(Provider provider) throws XMLSignatureException {\n+            super(provider);\n+        }\n+\n+        @Override\n+        Signature getSignature(Provider provider, String algorithmID)\n+            throws XMLSignatureException {\n+            try {\n+                Signature sig;\n+                if (provider == null) {\n+                    String providerId = JCEMapper.getProviderId();\n+                    if (providerId == null) {\n+                        sig = Signature.getInstance(\"RSASSA-PSS\");\n+                    } else {\n+                        sig = Signature.getInstance(\"RSASSA-PSS\", providerId);\n+                    }\n+                } else {\n+                    sig = Signature.getInstance(\"RSASSA-PSS\", provider);\n+                }\n+                try {\n+                    sig.setParameter(getPSSParameterSpec());\n+                } catch (InvalidAlgorithmParameterException e) {\n+                    throw new NoSuchAlgorithmException(\"Should not happen\", e);\n+                }\n+                return sig;\n+            } catch (NoSuchAlgorithmException | NoSuchProviderException e) {\n+                return super.getSignature(provider, algorithmID);\n+            }\n+        }\n+\n+        abstract PSSParameterSpec getPSSParameterSpec();\n+    }\n+\n@@ -362,1 +419,5 @@\n-    public static class SignatureRSASHA1MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA1MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA1_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA-1\", \"MGF1\", MGF1ParameterSpec.SHA1,\n+                20, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -382,0 +443,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA1_MGF1_PARAMS;\n+        }\n@@ -387,1 +453,5 @@\n-    public static class SignatureRSASHA224MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA224MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA224_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA-224\", \"MGF1\", MGF1ParameterSpec.SHA224,\n+                28, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -407,0 +477,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA224_MGF1_PARAMS;\n+        }\n@@ -412,1 +487,5 @@\n-    public static class SignatureRSASHA256MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA256MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA256_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA-256\", \"MGF1\", MGF1ParameterSpec.SHA256,\n+                32, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -432,0 +511,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA256_MGF1_PARAMS;\n+        }\n@@ -437,1 +521,5 @@\n-    public static class SignatureRSASHA384MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA384MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA384_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA-384\", \"MGF1\", MGF1ParameterSpec.SHA384,\n+                48, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -457,0 +545,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA384_MGF1_PARAMS;\n+        }\n@@ -462,1 +555,5 @@\n-    public static class SignatureRSASHA512MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA512MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA512_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA-512\", \"MGF1\", MGF1ParameterSpec.SHA512,\n+                64, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -482,0 +579,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA512_MGF1_PARAMS;\n+        }\n@@ -487,1 +589,6 @@\n-    public static class SignatureRSASHA3_224MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA3_224MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA3_224_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-224\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-224\"),\n+                28, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -507,0 +614,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_224_MGF1_PARAMS;\n+        }\n@@ -512,1 +624,6 @@\n-    public static class SignatureRSASHA3_256MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA3_256MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA3_256_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-256\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-256\"),\n+                32, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -532,0 +649,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_256_MGF1_PARAMS;\n+        }\n@@ -537,1 +659,6 @@\n-    public static class SignatureRSASHA3_384MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA3_384MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA3_384_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-384\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-384\"),\n+                48, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -557,0 +684,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_384_MGF1_PARAMS;\n+        }\n@@ -562,1 +694,6 @@\n-    public static class SignatureRSASHA3_512MGF1 extends SignatureBaseRSA {\n+    public static class SignatureRSASHA3_512MGF1 extends SignatureBaseRSAPSS {\n+\n+        private static final PSSParameterSpec SHA3_512_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-512\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-512\"),\n+                64, PSSParameterSpec.TRAILER_FIELD_BC);\n@@ -582,0 +719,5 @@\n+\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_512_MGF1_PARAMS;\n+        }\n@@ -585,1 +727,1 @@\n-        PSSParameterSpec pssParameterSpec;\n+        private PSSParameterSpec pssParameterSpec;\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/implementations\/SignatureBaseRSA.java","additions":158,"deletions":16,"binary":false,"changes":174,"status":"modified"},{"patch":"@@ -63,0 +63,1 @@\n+    @Override\n@@ -103,0 +104,1 @@\n+    @Override\n@@ -115,0 +117,1 @@\n+    @Override\n@@ -133,0 +136,1 @@\n+    @Override\n@@ -141,0 +145,1 @@\n+    @Override\n@@ -154,0 +159,1 @@\n+    @Override\n@@ -163,0 +169,1 @@\n+    @Override\n@@ -170,0 +177,1 @@\n+    @Override\n@@ -181,0 +189,1 @@\n+    @Override\n@@ -192,0 +201,1 @@\n+    @Override\n@@ -205,0 +215,1 @@\n+    @Override\n@@ -214,0 +225,1 @@\n+    @Override\n@@ -224,0 +236,1 @@\n+    @Override\n@@ -235,0 +248,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/implementations\/SignatureDSA.java","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -29,1 +29,8 @@\n-import java.security.*;\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.Key;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.NoSuchProviderException;\n+import java.security.Provider;\n+import java.security.SecureRandom;\n+import java.security.Signature;\n+import java.security.SignatureException;\n@@ -121,0 +128,1 @@\n+    @Override\n@@ -131,0 +139,1 @@\n+    @Override\n@@ -146,0 +155,1 @@\n+    @Override\n@@ -151,0 +161,1 @@\n+    @Override\n@@ -161,0 +172,1 @@\n+    @Override\n@@ -172,0 +184,1 @@\n+    @Override\n@@ -177,0 +190,1 @@\n+    @Override\n@@ -186,0 +200,1 @@\n+    @Override\n@@ -195,0 +210,1 @@\n+    @Override\n@@ -204,0 +220,1 @@\n+    @Override\n@@ -209,0 +226,1 @@\n+    @Override\n@@ -214,0 +232,1 @@\n+    @Override\n@@ -220,0 +239,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/implementations\/SignatureECDSA.java","additions":21,"deletions":1,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -25,0 +25,10 @@\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.Key;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.NoSuchProviderException;\n+import java.security.Provider;\n+import java.security.SecureRandom;\n+import java.security.Signature;\n+import java.security.SignatureException;\n+import java.security.spec.AlgorithmParameterSpec;\n+\n@@ -31,4 +41,0 @@\n-import java.io.IOException;\n-import java.security.*;\n-import java.security.spec.AlgorithmParameterSpec;\n-\n@@ -80,0 +86,1 @@\n+    @Override\n@@ -90,0 +97,1 @@\n+    @Override\n@@ -104,0 +112,1 @@\n+    @Override\n@@ -109,0 +118,1 @@\n+    @Override\n@@ -118,0 +128,1 @@\n+    @Override\n@@ -125,0 +136,1 @@\n+    @Override\n@@ -130,0 +142,1 @@\n+    @Override\n@@ -139,0 +152,1 @@\n+    @Override\n@@ -148,0 +162,1 @@\n+    @Override\n@@ -157,0 +172,1 @@\n+    @Override\n@@ -162,0 +178,1 @@\n+    @Override\n@@ -167,0 +184,1 @@\n+    @Override\n@@ -173,0 +191,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/algorithms\/implementations\/SignatureEDDSA.java","additions":23,"deletions":4,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-    public static final Canonicalizer getInstance(String algorithmURI)\n+    public static Canonicalizer getInstance(String algorithmURI)\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/Canonicalizer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,2 +25,0 @@\n-import com.sun.org.apache.xml.internal.security.utils.Constants;\n-import org.w3c.dom.Attr;\n@@ -30,0 +28,3 @@\n+import com.sun.org.apache.xml.internal.security.utils.Constants;\n+import org.w3c.dom.Attr;\n+\n@@ -72,0 +73,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/helper\/AttrCompare.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer11_OmitComments.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer11_WithComments.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -86,0 +86,1 @@\n+    @Override\n@@ -101,0 +102,1 @@\n+    @Override\n@@ -116,0 +118,1 @@\n+    @Override\n@@ -300,0 +303,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer20010315.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -85,0 +85,1 @@\n+    @Override\n@@ -98,0 +99,1 @@\n+    @Override\n@@ -113,0 +115,1 @@\n+    @Override\n@@ -158,0 +161,1 @@\n+    @Override\n@@ -339,0 +343,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer20010315Excl.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer20010315ExclOmitComments.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer20010315ExclWithComments.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer20010315OmitComments.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/Canonicalizer20010315WithComments.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -110,0 +110,1 @@\n+    @Override\n@@ -122,0 +123,1 @@\n+    @Override\n@@ -460,2 +462,1 @@\n-    protected int isVisibleDO(Node currentNode, int level)\n-            throws CanonicalizationException {\n+    protected int isVisibleDO(Node currentNode, int level) throws CanonicalizationException {\n@@ -480,2 +481,1 @@\n-    protected int isVisibleInt(Node currentNode)\n-            throws CanonicalizationException {\n+    protected int isVisibleInt(Node currentNode) throws CanonicalizationException {\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/CanonicalizerBase.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+    @Override\n@@ -86,0 +87,1 @@\n+    @Override\n@@ -101,0 +103,1 @@\n+    @Override\n@@ -168,0 +171,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/CanonicalizerPhysical.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-\n@@ -77,1 +76,1 @@\n-        for (NameSpaceSymbEntry n : symb.entrySet()) {\n+        for (NameSpaceSymbEntry nsEntry : symb.entrySet()) {\n@@ -79,2 +78,2 @@\n-            if (!n.rendered && n.n != null) {\n-                n = n.clone();\n+            if (!nsEntry.rendered && nsEntry.n != null) {\n+                nsEntry = nsEntry.clone();\n@@ -82,3 +81,3 @@\n-                symb.put(n.prefix, n);\n-                n.lastrendered = n.uri;\n-                n.rendered = true;\n+                symb.put(nsEntry.prefix, nsEntry);\n+                nsEntry.lastrendered = nsEntry.uri;\n+                nsEntry.rendered = true;\n@@ -86,1 +85,1 @@\n-                result.add(n.n);\n+                result.add(nsEntry.n);\n@@ -314,0 +313,1 @@\n+    @Override\n@@ -347,3 +347,3 @@\n-        for (int i = 0;i < entries.length;i++) {\n-            if (entries[i] != null && entries[i].uri.length() != 0) {\n-                a.add(entries[i]);\n+        for (NameSpaceSymbEntry nsEntry : entries) {\n+            if (nsEntry != null && !nsEntry.uri.isEmpty()) {\n+                a.add(nsEntry);\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/c14n\/implementations\/NameSpaceSymbTable.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -163,0 +163,1 @@\n+    @Override\n@@ -184,0 +185,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/exceptions\/XMLSecurityException.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1187,0 +1187,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/KeyInfo.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -101,0 +101,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/DEREncodedKeyValue.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -98,0 +98,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/KeyInfoReference.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -68,0 +68,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/KeyName.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -163,0 +163,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/KeyValue.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/MgmtData.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/PGPData.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -132,0 +132,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/RetrievalMethod.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/SPKIData.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -531,0 +531,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/X509Data.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -100,0 +100,1 @@\n+    @Override\n@@ -126,0 +127,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/keyvalues\/DSAKeyValue.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,5 +43,0 @@\n-import org.w3c.dom.Document;\n-import org.w3c.dom.Element;\n-import org.w3c.dom.Node;\n-import org.w3c.dom.Text;\n-\n@@ -53,0 +48,4 @@\n+import org.w3c.dom.Document;\n+import org.w3c.dom.Element;\n+import org.w3c.dom.Node;\n+import org.w3c.dom.Text;\n@@ -164,0 +163,1 @@\n+    @Override\n@@ -213,0 +213,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/keyvalues\/ECKeyValue.java","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -96,0 +96,1 @@\n+    @Override\n@@ -118,0 +119,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/keyvalues\/RSAKeyValue.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/x509\/XMLX509CRL.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -130,0 +130,1 @@\n+    @Override\n@@ -142,0 +143,1 @@\n+    @Override\n@@ -146,2 +148,2 @@\n-            for (int i = 0; i < bytes.length; i++) {\n-                result = 31 * result + bytes[i];\n+            for (byte element : bytes) {\n+                result = 31 * result + element;\n@@ -156,0 +158,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/x509\/XMLX509Certificate.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -135,0 +135,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/x509\/XMLX509Digest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -135,0 +135,1 @@\n+    @Override\n@@ -146,0 +147,1 @@\n+    @Override\n@@ -154,0 +156,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/x509\/XMLX509IssuerSerial.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -148,0 +148,1 @@\n+    @Override\n@@ -162,0 +163,1 @@\n+    @Override\n@@ -166,2 +168,2 @@\n-            for (int i = 0; i < bytes.length; i++) {\n-                result = 31 * result + bytes[i];\n+            for (byte element : bytes) {\n+                result = 31 * result + element;\n@@ -177,0 +179,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/x509\/XMLX509SKI.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -83,0 +83,1 @@\n+    @Override\n@@ -95,0 +96,1 @@\n+    @Override\n@@ -102,0 +104,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/content\/x509\/XMLX509SubjectName.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -34,3 +34,0 @@\n-import org.w3c.dom.Element;\n-import org.w3c.dom.Node;\n-\n@@ -50,0 +47,2 @@\n+import org.w3c.dom.Element;\n+import org.w3c.dom.Node;\n@@ -298,0 +297,1 @@\n+        @Override\n@@ -302,0 +302,1 @@\n+        @Override\n@@ -311,0 +312,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/KeyResolver.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+\n@@ -36,0 +37,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/PrivateKeyResolver.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/RSAKeyValueResolver.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+\n@@ -31,0 +32,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/SecretKeyResolver.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+\n@@ -29,0 +30,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/SingleKeyResolver.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -89,2 +89,2 @@\n-            for (int i = 0; i < els.length; i++) {\n-                XMLX509Certificate xmlCert = new XMLX509Certificate(els[i], baseURI);\n+            for (Element el : els) {\n+                XMLX509Certificate xmlCert = new XMLX509Certificate(el, baseURI);\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/X509CertificateResolver.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -137,2 +137,1 @@\n-                for (int i = 0; i < x509Digests.length; i++) {\n-                    XMLX509Digest keyInfoDigest = x509Digests[i];\n+                for (XMLX509Digest keyInfoDigest : x509Digests) {\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/X509DigestResolver.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-\n@@ -98,1 +97,0 @@\n-\n@@ -105,1 +103,1 @@\n-                X509Certificate cert = (X509Certificate)storageIterator.next();\n+                X509Certificate cert = (X509Certificate) storageIterator.next();\n@@ -108,2 +106,2 @@\n-                for (int i = 0; i < x509childObject.length; i++) {\n-                    if (certSKI.equals(x509childObject[i])) {\n+                for (XMLX509SKI childNodeSKI : x509childObject) {\n+                    if (certSKI.equals(childNodeSKI)) {\n@@ -111,1 +109,0 @@\n-\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/X509SKIResolver.java","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-\n@@ -104,4 +103,2 @@\n-                X509Certificate cert = (X509Certificate)storageIterator.next();\n-                XMLX509SubjectName certSN =\n-                    new XMLX509SubjectName(element.getOwnerDocument(), cert);\n-\n+                X509Certificate cert = (X509Certificate) storageIterator.next();\n+                XMLX509SubjectName certSN = new XMLX509SubjectName(element.getOwnerDocument(), cert);\n@@ -110,2 +107,2 @@\n-                for (int i = 0; i < x509childObject.length; i++) {\n-                    LOG.debug(\"Found Element SN:     {}\", x509childObject[i].getSubjectName());\n+                for (XMLX509SubjectName childSubject : x509childObject) {\n+                    LOG.debug(\"Found Element SN:     {}\", childSubject.getSubjectName());\n@@ -113,1 +110,1 @@\n-                    if (certSN.equals(x509childObject[i])) {\n+                    if (certSN.equals(childSubject)) {\n@@ -115,1 +112,0 @@\n-\n@@ -125,1 +121,0 @@\n-\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/keyresolver\/implementations\/X509SubjectNameResolver.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -136,0 +136,1 @@\n+        @Override\n@@ -150,0 +151,1 @@\n+        @Override\n@@ -161,0 +163,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/storage\/StorageResolver.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+    @Override\n@@ -106,0 +107,1 @@\n+        @Override\n@@ -111,0 +113,1 @@\n+        @Override\n@@ -122,0 +125,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/storage\/implementations\/KeyStoreResolver.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+    @Override\n@@ -74,0 +75,1 @@\n+        @Override\n@@ -79,0 +81,1 @@\n+        @Override\n@@ -90,0 +93,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/keys\/storage\/implementations\/SingleCertificateResolver.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,0 +34,9 @@\n+    \/**\n+     * Parses a document from the input stream.\n+     * Caller is responsible for closing the stream.\n+     *\n+     * @param inputStream\n+     * @param disallowDocTypeDeclarations\n+     * @return {@link Document}\n+     * @throws XMLParserException\n+     *\/\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/parser\/XMLParser.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-            Collections.synchronizedMap(new WeakHashMap<ClassLoader, Queue<DocumentBuilder>>());\n+            Collections.synchronizedMap(new WeakHashMap<>());\n@@ -57,1 +57,1 @@\n-            Collections.synchronizedMap(new WeakHashMap<ClassLoader, Queue<DocumentBuilder>>());\n+            Collections.synchronizedMap(new WeakHashMap<>());\n@@ -122,0 +122,1 @@\n+                @Override\n@@ -135,0 +136,1 @@\n+                @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/parser\/XMLParserImpl.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -578,0 +578,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/Manifest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -133,0 +133,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/ObjectContainer.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -196,0 +196,1 @@\n+            @Override\n@@ -200,0 +201,1 @@\n+            @Override\n@@ -615,0 +617,1 @@\n+                    @Override\n@@ -811,0 +814,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/Reference.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -142,0 +142,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/SignatureProperties.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -129,0 +129,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/SignatureProperty.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+\n@@ -41,1 +42,0 @@\n-\n@@ -404,0 +404,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/SignedInfo.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1034,0 +1034,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/XMLSignature.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -394,0 +394,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/XMLSignatureInput.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+\n@@ -54,0 +55,1 @@\n+    @Override\n@@ -81,0 +83,1 @@\n+        @Override\n@@ -89,0 +92,1 @@\n+        @Override\n@@ -101,0 +105,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/signature\/reference\/ReferenceSubTreeData.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -111,1 +111,1 @@\n-    static final byte[] getBytes(BigInteger big, int bitlen) {\n+    static byte[] getBytes(BigInteger big, int bitlen) {\n@@ -151,1 +151,1 @@\n-    public static final String encode(BigInteger big) {\n+    public static String encode(BigInteger big) {\n@@ -167,1 +167,1 @@\n-    public static final byte[] encode(BigInteger big, int bitlen) {\n+    public static byte[] encode(BigInteger big, int bitlen) {\n@@ -208,1 +208,1 @@\n-    public static final BigInteger decodeBigIntegerFromElement(Element element)\n+    public static BigInteger decodeBigIntegerFromElement(Element element)\n@@ -219,1 +219,1 @@\n-    public static final BigInteger decodeBigIntegerFromText(Text text)\n+    public static BigInteger decodeBigIntegerFromText(Text text)\n@@ -231,1 +231,1 @@\n-    public static final void fillElementWithBigInteger(Element element, BigInteger biginteger) {\n+    public static void fillElementWithBigInteger(Element element, BigInteger biginteger) {\n@@ -256,1 +256,1 @@\n-    public static final byte[] decode(Element element) throws Base64DecodingException {\n+    public static byte[] decode(Element element) throws Base64DecodingException {\n@@ -282,1 +282,1 @@\n-    public static final Element encodeToElement(Document doc, String localName, byte[] bytes) {\n+    public static Element encodeToElement(Document doc, String localName, byte[] bytes) {\n@@ -299,1 +299,1 @@\n-    public static final byte[] decode(byte[] base64) throws Base64DecodingException  {\n+    public static byte[] decode(byte[] base64) throws Base64DecodingException  {\n@@ -310,1 +310,1 @@\n-    public static final String encode(byte[] binaryData) {\n+    public static String encode(byte[] binaryData) {\n@@ -326,1 +326,1 @@\n-    public static final byte[] decode(BufferedReader reader)\n+    public static byte[] decode(BufferedReader reader)\n@@ -345,1 +345,1 @@\n-    protected static final boolean isWhiteSpace(byte octet) {\n+    protected static boolean isWhiteSpace(byte octet) {\n@@ -349,1 +349,1 @@\n-    protected static final boolean isPad(byte octet) {\n+    protected static boolean isPad(byte octet) {\n@@ -367,1 +367,1 @@\n-    public static final String  encode(byte[] binaryData, int length) {\n+    public static String  encode(byte[] binaryData, int length) {\n@@ -477,1 +477,1 @@\n-    public static final byte[] decode(String encoded) throws Base64DecodingException {\n+    public static byte[] decode(String encoded) throws Base64DecodingException {\n@@ -486,1 +486,1 @@\n-    protected static final int getBytesInternal(String s, byte[] result) {\n+    protected static int getBytesInternal(String s, byte[] result) {\n@@ -499,1 +499,1 @@\n-    protected static final byte[] decodeInternal(byte[] base64Data, int len)\n+    protected static byte[] decodeInternal(byte[] base64Data, int len)\n@@ -594,1 +594,1 @@\n-    public static final void decode(String base64Data, OutputStream os)\n+    public static void decode(String base64Data, OutputStream os)\n@@ -609,1 +609,1 @@\n-    public static final void decode(byte[] base64Data, OutputStream os)\n+    public static void decode(byte[] base64Data, OutputStream os)\n@@ -614,1 +614,1 @@\n-    protected static final void decode(byte[] base64Data, OutputStream os, int len)\n+    protected static void decode(byte[] base64Data, OutputStream os, int len)\n@@ -697,1 +697,1 @@\n-    public static final void decode(InputStream is, OutputStream os)\n+    public static void decode(InputStream is, OutputStream os)\n@@ -774,1 +774,1 @@\n-    protected static final int removeWhiteSpace(byte[] data) {\n+    protected static int removeWhiteSpace(byte[] data) {\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/Base64.java","additions":22,"deletions":22,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -87,0 +87,1 @@\n+    @Override\n@@ -110,0 +111,1 @@\n+    @Override\n@@ -143,0 +145,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/DOMNamespaceContext.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -46,0 +46,1 @@\n+    @Override\n@@ -51,1 +52,2 @@\n-    public void write(int arg0) {\n+    @Override\n+    public synchronized void write(int arg0) {\n@@ -56,0 +58,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/DigesterOutputStream.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import java.util.concurrent.ConcurrentHashMap;\n@@ -28,0 +27,1 @@\n+import java.util.concurrent.ConcurrentHashMap;\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/ElementProxy.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,0 +60,1 @@\n+    @Override\n@@ -69,0 +70,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/HelperNodeList.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,0 +60,1 @@\n+    @Override\n@@ -95,0 +96,1 @@\n+    @Override\n@@ -125,0 +127,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/JDKXPathAPI.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/JDKXPathFactory.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -98,1 +98,1 @@\n-     * returns them as a byte array.\n+     * returns them as a byte array. The method doesn't close the input stream.\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/JavaUtils.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -72,0 +72,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/Signature11ElementProxy.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -66,0 +66,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/SignatureElementProxy.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+    @Override\n@@ -56,0 +57,1 @@\n+    @Override\n@@ -65,0 +67,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/SignerOutputStream.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+    @Override\n@@ -59,0 +60,1 @@\n+    @Override\n@@ -71,0 +73,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/UnsyncByteArrayOutputStream.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -25,0 +25,3 @@\n+import java.io.BufferedInputStream;\n+import java.io.BufferedOutputStream;\n+import java.io.File;\n@@ -30,0 +33,1 @@\n+import java.nio.file.Files;\n@@ -45,0 +49,2 @@\n+import com.sun.org.slf4j.internal.Logger;\n+import com.sun.org.slf4j.internal.LoggerFactory;\n@@ -53,0 +59,2 @@\n+import static java.nio.charset.StandardCharsets.UTF_8;\n+\n@@ -64,2 +72,1 @@\n-    private static final com.sun.org.slf4j.internal.Logger LOG =\n-            com.sun.org.slf4j.internal.LoggerFactory.getLogger(XMLUtils.class);\n+    private static final Logger LOG = LoggerFactory.getLogger(XMLUtils.class);\n@@ -77,1 +84,1 @@\n-                                LOG.error(\"Error instantiating XMLParser. Falling back to XMLParserImpl\");\n+                                LOG.error(\"Error instantiating XMLParser. Falling back to XMLParserImpl\", e);\n@@ -152,1 +159,1 @@\n-     * @param com whether comments or not\n+     * @param comments whether comments or not\n@@ -154,1 +161,1 @@\n-    public static void getSet(Node rootNode, Set<Node> result, Node exclude, boolean com) {\n+    public static void getSet(Node rootNode, Set<Node> result, Node exclude, boolean comments) {\n@@ -158,1 +165,1 @@\n-        getSetRec(rootNode, result, exclude, com);\n+        getSetRec(rootNode, result, exclude, comments);\n@@ -163,1 +170,1 @@\n-                                final Node exclude, final boolean com) {\n+                                final Node exclude, final boolean comments) {\n@@ -190,1 +197,1 @@\n-                getSetRec(r, result, exclude, com);\n+                getSetRec(r, result, exclude, comments);\n@@ -194,1 +201,1 @@\n-            if (com) {\n+            if (comments) {\n@@ -205,0 +212,12 @@\n+    \/**\n+     * Outputs a DOM tree to a {@link File}.\n+     *\n+     * @param contextNode root node of the DOM tree\n+     * @param outputFile the file to write to\n+     * @throws IOException\n+     *\/\n+    public static void outputDOM(Node contextNode, File outputFile) throws IOException {\n+        try (OutputStream os = new BufferedOutputStream(Files.newOutputStream(outputFile.toPath()), 8192)) {\n+            outputDOM(contextNode, os, false);\n+        }\n+    }\n@@ -213,1 +232,1 @@\n-        XMLUtils.outputDOM(contextNode, os, false);\n+        outputDOM(contextNode, os, false);\n@@ -228,1 +247,1 @@\n-                os.write(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\".getBytes(java.nio.charset.StandardCharsets.UTF_8));\n+                os.write(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\".getBytes(UTF_8));\n@@ -230,1 +249,0 @@\n-\n@@ -234,1 +252,1 @@\n-            LOG.debug(ex.getMessage(), ex);\n+            LOG.error(ex.getMessage(), ex);\n@@ -256,1 +274,1 @@\n-            LOG.debug(ex.getMessage(), ex);\n+            LOG.error(ex.getMessage(), ex);\n@@ -865,1 +883,1 @@\n-                                LOG.debug(\"Multiple elements with the same 'Id' attribute value!\");\n+                                LOG.warn(\"Multiple elements with the same 'Id' attribute value!\");\n@@ -924,2 +942,2 @@\n-                        if (attr.isId() && id.equals(attr.getValue()) && se != knownElement) {\n-                            LOG.debug(\"Multiple elements with the same 'Id' attribute value!\");\n+                        if (attr.isId() && id.equals(attr.getValue()) && !knownElement.isSameNode(se)) {\n+                            LOG.warn(\"Multiple elements with the same 'Id' attribute value!\");\n@@ -955,0 +973,43 @@\n+    \/**\n+     * Reads a document from the input stream.\n+     *\n+     * @param file\n+     * @param disallowDocTypeDeclarations\n+     * @return {@link Document}\n+     * @throws XMLParserException\n+     * @throws IOException\n+     *\/\n+    public static Document read(File file, boolean disallowDocTypeDeclarations) throws XMLParserException, IOException {\n+        try (InputStream inputStream = new BufferedInputStream(Files.newInputStream(file.toPath()), 8192)) {\n+            return read(inputStream, disallowDocTypeDeclarations);\n+        }\n+    }\n+\n+    \/**\n+     * Reads a document from the input stream and closes it.\n+     *\n+     * @param name - resource name to be opened by the class loader\n+     * @param loader\n+     * @param disallowDocTypeDeclarations\n+     * @return {@link Document}\n+     * @throws XMLParserException\n+     * @throws IOException inputStream.close() failed.\n+     *\/\n+    public static Document readResource(String name, ClassLoader loader, boolean disallowDocTypeDeclarations)\n+        throws XMLParserException, IOException {\n+        \/\/ Delegate to XMLParser implementation\n+        try (InputStream inputStream = loader.getResourceAsStream(name)) {\n+            return read(inputStream, disallowDocTypeDeclarations);\n+        }\n+\n+    }\n+\n+    \/**\n+     * Reads a document from the input stream.\n+     * Caller is responsible for closing the stream.\n+     *\n+     * @param inputStream\n+     * @param disallowDocTypeDeclarations\n+     * @return {@link Document}\n+     * @throws XMLParserException\n+     *\/\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/XMLUtils.java","additions":78,"deletions":17,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n-import java.net.URISyntaxException;\n@@ -32,0 +31,1 @@\n+import java.net.URISyntaxException;\n@@ -208,0 +208,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/resolver\/implementations\/ResolverDirectHTTP.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -113,0 +113,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/resolver\/implementations\/ResolverFragment.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/resolver\/implementations\/ResolverLocalFilesystem.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -107,0 +107,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/com\/sun\/org\/apache\/xml\/internal\/security\/utils\/resolver\/implementations\/ResolverXPointer.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -278,0 +278,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/javax\/xml\/crypto\/dsig\/SignatureMethod.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -74,0 +74,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/DigesterOutputStream.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/MacOutputStream.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import java.security.Key;\n@@ -29,0 +28,1 @@\n+import java.security.Key;\n@@ -31,0 +31,1 @@\n+\n@@ -35,0 +36,1 @@\n+import javax.xml.crypto.dsig.XMLSignContext;\n@@ -37,1 +39,0 @@\n-import javax.xml.crypto.dsig.XMLSignContext;\n@@ -40,0 +41,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/AbstractDOMSignatureMethod.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import java.security.spec.AlgorithmParameterSpec;\n@@ -33,0 +32,1 @@\n+import java.security.spec.AlgorithmParameterSpec;\n@@ -35,1 +35,6 @@\n-import javax.xml.crypto.*;\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.NodeSetData;\n+import javax.xml.crypto.OctetStreamData;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n@@ -64,0 +69,1 @@\n+    @Override\n@@ -69,0 +75,1 @@\n+    @Override\n@@ -87,0 +94,1 @@\n+    @Override\n@@ -185,0 +193,1 @@\n+    @Override\n@@ -252,0 +261,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/ApacheCanonicalizer.java","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/ApacheData.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+\n@@ -35,2 +36,0 @@\n-import com.sun.org.apache.xml.internal.security.transforms.TransformationException;\n-import org.w3c.dom.Node;\n@@ -39,0 +38,1 @@\n+import com.sun.org.apache.xml.internal.security.transforms.TransformationException;\n@@ -40,0 +40,1 @@\n+import org.w3c.dom.Node;\n@@ -49,0 +50,1 @@\n+    @Override\n@@ -64,0 +66,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/ApacheNodeSetData.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+\n@@ -30,0 +31,1 @@\n+\n@@ -44,0 +46,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/ApacheOctetStreamData.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -33,5 +33,0 @@\n-import org.w3c.dom.Document;\n-import org.w3c.dom.Element;\n-import org.w3c.dom.Node;\n-import com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput;\n-import com.sun.org.apache.xml.internal.security.transforms.Transform;\n@@ -39,1 +34,6 @@\n-import javax.xml.crypto.*;\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.NodeSetData;\n+import javax.xml.crypto.OctetStreamData;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n@@ -41,1 +41,2 @@\n-import javax.xml.crypto.dsig.*;\n+import javax.xml.crypto.dsig.TransformException;\n+import javax.xml.crypto.dsig.TransformService;\n@@ -44,0 +45,8 @@\n+import com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput;\n+import com.sun.org.apache.xml.internal.security.transforms.Transform;\n+import com.sun.org.apache.xml.internal.security.transforms.Transforms;\n+\n+import org.w3c.dom.Document;\n+import org.w3c.dom.Element;\n+import org.w3c.dom.Node;\n+\n@@ -67,0 +76,1 @@\n+    @Override\n@@ -85,0 +95,1 @@\n+    @Override\n@@ -103,0 +114,1 @@\n+    @Override\n@@ -112,0 +124,1 @@\n+    @Override\n@@ -200,0 +213,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/ApacheTransform.java","additions":21,"deletions":7,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -28,4 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.spec.TransformParameterSpec;\n-\n@@ -34,0 +30,5 @@\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dsig.TransformException;\n+import javax.xml.crypto.dsig.spec.TransformParameterSpec;\n+\n@@ -48,0 +49,1 @@\n+    @Override\n@@ -56,0 +58,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMCanonicalXMLC14N11Method.java","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -28,4 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.spec.TransformParameterSpec;\n-\n@@ -34,0 +30,6 @@\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.TransformException;\n+import javax.xml.crypto.dsig.spec.TransformParameterSpec;\n+\n@@ -44,0 +46,1 @@\n+    @Override\n@@ -52,0 +55,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMCanonicalXMLC14NMethod.java","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -36,1 +36,6 @@\n-import org.w3c.dom.Element;\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.TransformException;\n+import javax.xml.crypto.dsig.TransformService;\n@@ -38,2 +43,1 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n+import org.w3c.dom.Element;\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMCanonicalizationMethod.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -29,1 +29,2 @@\n-import javax.xml.crypto.*;\n+\n+import javax.xml.crypto.MarshalException;\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMCryptoBinary.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -28,1 +28,4 @@\n-import javax.xml.crypto.*;\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.spec.AlgorithmParameterSpec;\n+\n+import javax.xml.crypto.MarshalException;\n@@ -30,1 +33,2 @@\n-import javax.xml.crypto.dsig.*;\n+import javax.xml.crypto.dsig.DigestMethod;\n+import javax.xml.crypto.dsig.XMLSignature;\n@@ -33,2 +37,0 @@\n-import java.security.InvalidAlgorithmParameterException;\n-import java.security.spec.AlgorithmParameterSpec;\n@@ -150,0 +152,1 @@\n+    @Override\n@@ -254,0 +257,1 @@\n+        @Override\n@@ -257,0 +261,1 @@\n+        @Override\n@@ -288,0 +293,1 @@\n+        @Override\n@@ -291,0 +297,1 @@\n+        @Override\n@@ -304,0 +311,1 @@\n+        @Override\n@@ -307,0 +315,1 @@\n+        @Override\n@@ -320,0 +329,1 @@\n+        @Override\n@@ -323,0 +333,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMDigestMethod.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+\n@@ -38,0 +39,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMEnvelopedTransform.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,2 +28,11 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.spec.AlgorithmParameterSpec;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.TransformException;\n@@ -34,5 +43,0 @@\n-import java.security.InvalidAlgorithmParameterException;\n-import java.security.spec.AlgorithmParameterSpec;\n-import java.util.*;\n-\n-import org.w3c.dom.Element;\n@@ -41,0 +45,1 @@\n+import org.w3c.dom.Element;\n@@ -50,0 +55,1 @@\n+    @Override\n@@ -62,0 +68,1 @@\n+    @Override\n@@ -140,0 +147,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMExcC14NMethod.java","additions":15,"deletions":7,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -28,5 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.spec.HMACParameterSpec;\n-import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n-\n@@ -41,0 +36,1 @@\n+\n@@ -43,2 +39,9 @@\n-import org.w3c.dom.Document;\n-import org.w3c.dom.Element;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.dsig.SignatureMethod;\n+import javax.xml.crypto.dsig.SignedInfo;\n+import javax.xml.crypto.dsig.XMLSignContext;\n+import javax.xml.crypto.dsig.XMLSignature;\n+import javax.xml.crypto.dsig.XMLSignatureException;\n+import javax.xml.crypto.dsig.XMLValidateContext;\n+import javax.xml.crypto.dsig.spec.HMACParameterSpec;\n+import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n@@ -47,0 +50,2 @@\n+import org.w3c.dom.Document;\n+import org.w3c.dom.Element;\n@@ -121,0 +126,1 @@\n+    @Override\n@@ -125,0 +131,1 @@\n+    @Override\n@@ -138,0 +145,1 @@\n+    @Override\n@@ -150,0 +158,1 @@\n+    @Override\n@@ -181,0 +190,1 @@\n+    @Override\n@@ -209,0 +219,1 @@\n+    @Override\n@@ -221,0 +232,1 @@\n+    @Override\n@@ -238,0 +250,1 @@\n+        @Override\n@@ -241,0 +254,1 @@\n+        @Override\n@@ -244,0 +258,1 @@\n+        @Override\n@@ -279,0 +294,1 @@\n+        @Override\n@@ -282,0 +298,1 @@\n+        @Override\n@@ -285,0 +302,1 @@\n+        @Override\n@@ -298,0 +316,1 @@\n+        @Override\n@@ -301,0 +320,1 @@\n+        @Override\n@@ -304,0 +324,1 @@\n+        @Override\n@@ -317,0 +338,1 @@\n+        @Override\n@@ -320,0 +342,1 @@\n+        @Override\n@@ -323,0 +346,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMHMACSignatureMethod.java","additions":31,"deletions":7,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -144,0 +144,1 @@\n+    @Override\n@@ -148,0 +149,1 @@\n+    @Override\n@@ -152,0 +154,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMKeyInfo.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import java.security.interfaces.ECPublicKey;\n@@ -33,0 +32,1 @@\n+import java.security.interfaces.ECPublicKey;\n@@ -62,0 +62,1 @@\n+    @Override\n@@ -67,0 +68,1 @@\n+    @Override\n@@ -72,0 +74,1 @@\n+    @Override\n@@ -76,0 +79,1 @@\n+    @Override\n@@ -89,0 +93,1 @@\n+    @Override\n@@ -93,0 +98,1 @@\n+    @Override\n@@ -98,0 +104,1 @@\n+    @Override\n@@ -103,0 +110,1 @@\n+    @Override\n@@ -107,0 +115,1 @@\n+    @Override\n@@ -116,0 +125,1 @@\n+    @Override\n@@ -127,0 +137,1 @@\n+    @Override\n@@ -135,0 +146,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMKeyInfoFactory.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMKeyName.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -104,0 +104,1 @@\n+    @Override\n@@ -201,0 +202,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMKeyValue.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,4 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dsig.*;\n-\n@@ -33,1 +29,10 @@\n-import java.util.*;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.Manifest;\n+import javax.xml.crypto.dsig.Reference;\n+import javax.xml.crypto.dsig.XMLSignature;\n@@ -117,0 +122,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMManifest.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -28,1 +28,3 @@\n-import java.util.*;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n@@ -30,1 +32,2 @@\n-import javax.xml.crypto.*;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLStructure;\n@@ -35,0 +38,1 @@\n+import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n@@ -39,2 +43,0 @@\n-import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n-\n@@ -174,0 +176,1 @@\n+    @Override\n@@ -178,0 +181,1 @@\n+    @Override\n@@ -182,0 +186,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMPGPData.java","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -28,5 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.spec.RSAPSSParameterSpec;\n-import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n-\n@@ -34,1 +29,9 @@\n-import java.security.*;\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.InvalidKeyException;\n+import java.security.Key;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.PrivateKey;\n+import java.security.Provider;\n+import java.security.PublicKey;\n+import java.security.Signature;\n+import java.security.SignatureException;\n@@ -39,4 +42,5 @@\n-import org.w3c.dom.DOMException;\n-import org.w3c.dom.Document;\n-import org.w3c.dom.Element;\n-import org.w3c.dom.Text;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.dsig.*;\n+import javax.xml.crypto.dsig.spec.RSAPSSParameterSpec;\n+import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n+\n@@ -47,0 +51,4 @@\n+import org.w3c.dom.DOMException;\n+import org.w3c.dom.Document;\n+import org.w3c.dom.Element;\n+import org.w3c.dom.Text;\n@@ -128,0 +136,1 @@\n+    @Override\n@@ -132,0 +141,1 @@\n+    @Override\n@@ -206,0 +216,1 @@\n+    @Override\n@@ -253,0 +264,1 @@\n+    @Override\n@@ -294,0 +306,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMRSAPSSSignatureMethod.java","additions":23,"deletions":10,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -35,6 +35,3 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dom.DOMURIReference;\n-\n-import java.io.*;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n@@ -43,2 +40,31 @@\n-import java.security.*;\n-import java.util.*;\n+import java.security.AccessController;\n+import java.security.MessageDigest;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.PrivilegedAction;\n+import java.security.Provider;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Set;\n+\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.NodeSetData;\n+import javax.xml.crypto.OctetStreamData;\n+import javax.xml.crypto.URIDereferencer;\n+import javax.xml.crypto.URIReferenceException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dom.DOMURIReference;\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.DigestMethod;\n+import javax.xml.crypto.dsig.Reference;\n+import javax.xml.crypto.dsig.Transform;\n+import javax.xml.crypto.dsig.TransformException;\n+import javax.xml.crypto.dsig.TransformService;\n+import javax.xml.crypto.dsig.XMLSignContext;\n+import javax.xml.crypto.dsig.XMLSignature;\n+import javax.xml.crypto.dsig.XMLSignatureException;\n+import javax.xml.crypto.dsig.XMLValidateContext;\n@@ -46,0 +72,4 @@\n+import org.jcp.xml.dsig.internal.DigesterOutputStream;\n+import com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput;\n+import com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream;\n+import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n@@ -51,6 +81,0 @@\n-import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n-\n-import org.jcp.xml.dsig.internal.DigesterOutputStream;\n-import com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput;\n-import com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream;\n-\n@@ -273,0 +297,1 @@\n+    @Override\n@@ -277,0 +302,1 @@\n+    @Override\n@@ -281,0 +307,1 @@\n+    @Override\n@@ -285,0 +312,1 @@\n+    @Override\n@@ -289,0 +317,1 @@\n+    @Override\n@@ -293,0 +322,1 @@\n+    @Override\n@@ -297,0 +327,1 @@\n+    @Override\n@@ -375,0 +406,1 @@\n+    @Override\n@@ -397,0 +429,1 @@\n+    @Override\n@@ -401,0 +434,1 @@\n+    @Override\n@@ -571,0 +605,1 @@\n+    @Override\n@@ -634,0 +669,1 @@\n+                        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMReference.java","additions":50,"deletions":14,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -179,0 +179,1 @@\n+    @Override\n@@ -183,0 +184,1 @@\n+    @Override\n@@ -187,0 +189,1 @@\n+    @Override\n@@ -222,0 +225,1 @@\n+    @Override\n@@ -226,0 +230,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMRetrievalMethod.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -28,4 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n-\n@@ -33,1 +29,9 @@\n-import java.security.*;\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.InvalidKeyException;\n+import java.security.Key;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.PrivateKey;\n+import java.security.Provider;\n+import java.security.PublicKey;\n+import java.security.Signature;\n+import java.security.SignatureException;\n@@ -40,1 +44,8 @@\n-import org.w3c.dom.Element;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.dsig.SignatureMethod;\n+import javax.xml.crypto.dsig.SignedInfo;\n+import javax.xml.crypto.dsig.XMLSignContext;\n+import javax.xml.crypto.dsig.XMLSignatureException;\n+import javax.xml.crypto.dsig.XMLValidateContext;\n+import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n@@ -42,0 +53,1 @@\n+import org.jcp.xml.dsig.internal.SignerOutputStream;\n@@ -44,1 +56,2 @@\n-import org.jcp.xml.dsig.internal.SignerOutputStream;\n+import org.w3c.dom.Element;\n+\n@@ -106,0 +119,8 @@\n+    static final String RSA_SHA3_224_MGF1 =\n+        \"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-224-rsa-MGF1\";\n+    static final String RSA_SHA3_256_MGF1 =\n+        \"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-256-rsa-MGF1\";\n+    static final String RSA_SHA3_384_MGF1 =\n+        \"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-384-rsa-MGF1\";\n+    static final String RSA_SHA3_512_MGF1 =\n+        \"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-512-rsa-MGF1\";\n@@ -197,0 +218,8 @@\n+        } else if (alg.equals(RSA_SHA3_224_MGF1)) {\n+            return new SHA3_224withRSAandMGF1(smElem);\n+        } else if (alg.equals(RSA_SHA3_256_MGF1)) {\n+            return new SHA3_256withRSAandMGF1(smElem);\n+        } else if (alg.equals(RSA_SHA3_384_MGF1)) {\n+            return new SHA3_384withRSAandMGF1(smElem);\n+        } else if (alg.equals(RSA_SHA3_512_MGF1)) {\n+            return new SHA3_512withRSAandMGF1(smElem);\n@@ -239,0 +268,1 @@\n+    @Override\n@@ -260,0 +290,1 @@\n+    @Override\n@@ -326,0 +357,1 @@\n+    @Override\n@@ -385,0 +417,5 @@\n+\n+        @Override\n+        Type getAlgorithmType() {\n+            return Type.RSA;\n+        }\n@@ -399,1 +436,1 @@\n-        abstract public PSSParameterSpec getPSSParameterSpec();\n+        public abstract PSSParameterSpec getPSSParameterSpec();\n@@ -415,3 +452,1 @@\n-                return (p == null)\n-                        ? Signature.getInstance(getJCAAlgorithm())\n-                        : Signature.getInstance(getJCAAlgorithm(), p);\n+                return super.getSignature(p);\n@@ -511,0 +546,5 @@\n+\n+        @Override\n+        Type getAlgorithmType() {\n+            return Type.DSA;\n+        }\n@@ -552,0 +592,5 @@\n+\n+        @Override\n+        Type getAlgorithmType() {\n+            return Type.ECDSA;\n+        }\n@@ -585,0 +630,4 @@\n+        @Override\n+        Type getAlgorithmType() {\n+            return Type.EDDSA;\n+        }\n@@ -603,4 +652,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -617,0 +662,1 @@\n+        @Override\n@@ -620,0 +666,1 @@\n+        @Override\n@@ -623,3 +670,0 @@\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -636,0 +680,1 @@\n+        @Override\n@@ -639,0 +684,1 @@\n+        @Override\n@@ -642,3 +688,0 @@\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -655,0 +698,1 @@\n+        @Override\n@@ -658,0 +702,1 @@\n+        @Override\n@@ -661,3 +706,0 @@\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -674,0 +716,1 @@\n+        @Override\n@@ -677,0 +720,1 @@\n+        @Override\n@@ -680,3 +724,0 @@\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -701,4 +742,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -709,1 +746,1 @@\n-        private static PSSParameterSpec spec\n+        private static final PSSParameterSpec SHA1_MGF1_PARAMS\n@@ -726,1 +763,1 @@\n-            return spec;\n+            return SHA1_MGF1_PARAMS;\n@@ -732,4 +769,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -740,1 +773,1 @@\n-        private static PSSParameterSpec spec\n+        private static final PSSParameterSpec SHA224_MGF1_PARAMS\n@@ -757,1 +790,1 @@\n-            return spec;\n+            return SHA224_MGF1_PARAMS;\n@@ -763,4 +796,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -771,1 +800,1 @@\n-        private static PSSParameterSpec spec\n+        private static final PSSParameterSpec SHA256_MGF1_PARAMS\n@@ -788,1 +817,1 @@\n-            return spec;\n+            return SHA256_MGF1_PARAMS;\n@@ -794,4 +823,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -802,1 +827,1 @@\n-        private static PSSParameterSpec spec\n+        private static final PSSParameterSpec SHA384_MGF1_PARAMS\n@@ -819,1 +844,1 @@\n-            return spec;\n+            return SHA384_MGF1_PARAMS;\n@@ -825,4 +850,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -833,1 +854,1 @@\n-        private static PSSParameterSpec spec\n+        private static final PSSParameterSpec SHA512_MGF1_PARAMS\n@@ -850,1 +871,1 @@\n-            return spec;\n+            return SHA512_MGF1_PARAMS;\n@@ -856,0 +877,16 @@\n+    }\n+\n+    static final class SHA3_224withRSAandMGF1 extends AbstractRSAPSSSignatureMethod {\n+\n+        private static final PSSParameterSpec SHA3_224_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-224\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-224\"), 28,\n+                PSSParameterSpec.TRAILER_FIELD_BC);\n+\n+        SHA3_224withRSAandMGF1(AlgorithmParameterSpec params)\n+            throws InvalidAlgorithmParameterException {\n+            super(params);\n+        }\n+        SHA3_224withRSAandMGF1(Element dmElem) throws MarshalException {\n+            super(dmElem);\n+        }\n@@ -857,2 +894,94 @@\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n+        public String getAlgorithm() {\n+            return RSA_SHA3_224_MGF1;\n+        }\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_224_MGF1_PARAMS;\n+        }\n+        @Override\n+        String getJCAAlgorithm() {\n+            return \"SHA3-224withRSAandMGF1\";\n+        }\n+    }\n+\n+    static final class SHA3_256withRSAandMGF1 extends AbstractRSAPSSSignatureMethod {\n+\n+        private static final PSSParameterSpec SHA3_256_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-256\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-256\"), 32,\n+                PSSParameterSpec.TRAILER_FIELD_BC);\n+\n+        SHA3_256withRSAandMGF1(AlgorithmParameterSpec params)\n+            throws InvalidAlgorithmParameterException {\n+            super(params);\n+        }\n+        SHA3_256withRSAandMGF1(Element dmElem) throws MarshalException {\n+            super(dmElem);\n+        }\n+        @Override\n+        public String getAlgorithm() {\n+            return RSA_SHA3_256_MGF1;\n+        }\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_256_MGF1_PARAMS;\n+        }\n+        @Override\n+        String getJCAAlgorithm() {\n+            return \"SHA3-256withRSAandMGF1\";\n+        }\n+    }\n+\n+    static final class SHA3_384withRSAandMGF1 extends AbstractRSAPSSSignatureMethod {\n+\n+        private static final PSSParameterSpec SHA3_384_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-384\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-384\"), 48,\n+                PSSParameterSpec.TRAILER_FIELD_BC);\n+\n+        SHA3_384withRSAandMGF1(AlgorithmParameterSpec params)\n+            throws InvalidAlgorithmParameterException {\n+            super(params);\n+        }\n+        SHA3_384withRSAandMGF1(Element dmElem) throws MarshalException {\n+            super(dmElem);\n+        }\n+        @Override\n+        public String getAlgorithm() {\n+            return RSA_SHA3_384_MGF1;\n+        }\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_384_MGF1_PARAMS;\n+        }\n+        @Override\n+        String getJCAAlgorithm() {\n+            return \"SHA3-384withRSAandMGF1\";\n+        }\n+    }\n+\n+    static final class SHA3_512withRSAandMGF1 extends AbstractRSAPSSSignatureMethod {\n+\n+        private static final PSSParameterSpec SHA3_512_MGF1_PARAMS\n+                = new PSSParameterSpec(\"SHA3-512\", \"MGF1\",\n+                new MGF1ParameterSpec(\"SHA3-512\"), 64,\n+                PSSParameterSpec.TRAILER_FIELD_BC);\n+\n+        SHA3_512withRSAandMGF1(AlgorithmParameterSpec params)\n+            throws InvalidAlgorithmParameterException {\n+            super(params);\n+        }\n+        SHA3_512withRSAandMGF1(Element dmElem) throws MarshalException {\n+            super(dmElem);\n+        }\n+        @Override\n+        public String getAlgorithm() {\n+            return RSA_SHA3_512_MGF1;\n+        }\n+        @Override\n+        public PSSParameterSpec getPSSParameterSpec() {\n+            return SHA3_512_MGF1_PARAMS;\n+        }\n+        @Override\n+        String getJCAAlgorithm() {\n+            return \"SHA3-512withRSAandMGF1\";\n@@ -878,4 +1007,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.RSA;\n-        }\n@@ -892,0 +1017,1 @@\n+        @Override\n@@ -895,0 +1021,1 @@\n+        @Override\n@@ -898,0 +1025,1 @@\n+        @Override\n@@ -901,3 +1029,0 @@\n-        Type getAlgorithmType() {\n-            return Type.DSA;\n-        }\n@@ -914,0 +1039,1 @@\n+        @Override\n@@ -917,0 +1043,1 @@\n+        @Override\n@@ -920,0 +1047,1 @@\n+        @Override\n@@ -923,3 +1051,0 @@\n-        Type getAlgorithmType() {\n-            return Type.DSA;\n-        }\n@@ -936,0 +1061,1 @@\n+        @Override\n@@ -939,0 +1065,1 @@\n+        @Override\n@@ -942,0 +1069,1 @@\n+        @Override\n@@ -945,3 +1073,0 @@\n-        Type getAlgorithmType() {\n-            return Type.ECDSA;\n-        }\n@@ -966,0 +1091,1 @@\n+        @Override\n@@ -969,4 +1095,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.ECDSA;\n-        }\n@@ -983,0 +1105,1 @@\n+        @Override\n@@ -986,0 +1109,1 @@\n+        @Override\n@@ -989,0 +1113,1 @@\n+        @Override\n@@ -992,3 +1117,0 @@\n-        Type getAlgorithmType() {\n-            return Type.ECDSA;\n-        }\n@@ -1005,0 +1127,1 @@\n+        @Override\n@@ -1008,0 +1131,1 @@\n+        @Override\n@@ -1011,0 +1135,1 @@\n+        @Override\n@@ -1014,3 +1139,0 @@\n-        Type getAlgorithmType() {\n-            return Type.ECDSA;\n-        }\n@@ -1027,0 +1149,1 @@\n+        @Override\n@@ -1030,0 +1153,1 @@\n+        @Override\n@@ -1033,0 +1157,1 @@\n+        @Override\n@@ -1036,3 +1161,0 @@\n-        Type getAlgorithmType() {\n-            return Type.ECDSA;\n-        }\n@@ -1057,0 +1179,1 @@\n+        @Override\n@@ -1060,4 +1183,0 @@\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.ECDSA;\n-        }\n@@ -1086,5 +1205,0 @@\n-\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.EDDSA;\n-        }\n@@ -1112,5 +1226,0 @@\n-\n-        @Override\n-        Type getAlgorithmType() {\n-            return Type.EDDSA;\n-        }\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMSignatureMethod.java","additions":208,"deletions":99,"binary":false,"changes":307,"status":"modified"},{"patch":"@@ -28,3 +28,3 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dsig.*;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n@@ -32,1 +32,5 @@\n-import java.util.*;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.SignatureProperties;\n+import javax.xml.crypto.dsig.SignatureProperty;\n+import javax.xml.crypto.dsig.XMLSignature;\n@@ -120,0 +124,1 @@\n+    @Override\n@@ -124,0 +129,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMSignatureProperties.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -28,3 +28,3 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dsig.*;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n@@ -32,1 +32,5 @@\n-import java.util.*;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLStructure;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.SignatureProperty;\n+import javax.xml.crypto.dsig.XMLSignature;\n@@ -120,0 +124,1 @@\n+    @Override\n@@ -124,0 +129,1 @@\n+    @Override\n@@ -128,0 +134,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMSignatureProperty.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -28,5 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.spec.RSAPSSParameterSpec;\n-\n@@ -35,0 +30,1 @@\n+import java.io.IOException;\n@@ -37,1 +33,0 @@\n-import java.io.IOException;\n@@ -42,1 +37,15 @@\n-import java.util.*;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.Reference;\n+import javax.xml.crypto.dsig.SignatureMethod;\n+import javax.xml.crypto.dsig.SignedInfo;\n+import javax.xml.crypto.dsig.TransformException;\n+import javax.xml.crypto.dsig.XMLSignature;\n+import javax.xml.crypto.dsig.XMLSignatureException;\n+import javax.xml.crypto.dsig.spec.RSAPSSParameterSpec;\n@@ -45,0 +54,2 @@\n+import com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream;\n+import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n@@ -48,2 +59,1 @@\n-import com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream;\n-import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n+\n@@ -60,3 +70,3 @@\n-    private List<Reference> references;\n-    private CanonicalizationMethod canonicalizationMethod;\n-    private SignatureMethod signatureMethod;\n+    private final List<Reference> references;\n+    private final CanonicalizationMethod canonicalizationMethod;\n+    private final SignatureMethod signatureMethod;\n@@ -89,2 +99,1 @@\n-        this.references = Collections.unmodifiableList(\n-            new ArrayList<>(references));\n+        this.references = Collections.unmodifiableList(new ArrayList<>(references));\n@@ -92,2 +101,1 @@\n-            throw new IllegalArgumentException(\"list of references must \" +\n-                \"contain at least one entry\");\n+            throw new IllegalArgumentException(\"list of references must contain at least one entry\");\n@@ -95,2 +103,1 @@\n-        for (int i = 0, size = this.references.size(); i < size; i++) {\n-            Object obj = this.references.get(i);\n+        for (Object obj : this.references) {\n@@ -98,2 +105,1 @@\n-                throw new ClassCastException(\"list of references contains \" +\n-                    \"an illegal type\");\n+                throw new ClassCastException(\"list of references contains an illegal \" + obj.getClass());\n@@ -213,0 +219,1 @@\n+    @Override\n@@ -217,0 +224,1 @@\n+    @Override\n@@ -221,0 +229,1 @@\n+    @Override\n@@ -225,0 +234,1 @@\n+    @Override\n@@ -229,0 +239,1 @@\n+    @Override\n@@ -252,2 +263,2 @@\n-                for (int i = 0; i < signedInfoBytes.length; i++) {\n-                    sb.append((char)signedInfoBytes[i]);\n+                for (byte signedInfoByte : signedInfoBytes) {\n+                    sb.append((char) signedInfoByte);\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMSignedInfo.java","additions":33,"deletions":22,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -28,0 +28,2 @@\n+import java.util.List;\n+\n@@ -31,1 +33,0 @@\n-import org.w3c.dom.Node;\n@@ -33,1 +34,1 @@\n-import java.util.List;\n+import org.w3c.dom.Node;\n@@ -41,0 +42,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMStructure.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import javax.xml.crypto.NodeSetData;\n@@ -34,0 +33,3 @@\n+\n+import javax.xml.crypto.NodeSetData;\n+\n@@ -82,0 +84,1 @@\n+        @Override\n@@ -90,0 +93,1 @@\n+        @Override\n@@ -102,0 +106,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMSubTreeData.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -101,0 +101,1 @@\n+    @Override\n@@ -105,0 +106,1 @@\n+    @Override\n@@ -148,0 +150,1 @@\n+    @Override\n@@ -167,0 +170,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMTransform.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,3 +28,7 @@\n-import org.w3c.dom.Attr;\n-import org.w3c.dom.Element;\n-import org.w3c.dom.Node;\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.URIDereferencer;\n+import javax.xml.crypto.URIReference;\n+import javax.xml.crypto.URIReferenceException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dom.DOMURIReference;\n@@ -33,0 +37,1 @@\n+import com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput;\n@@ -36,1 +41,3 @@\n-import com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput;\n+import org.w3c.dom.Attr;\n+import org.w3c.dom.Element;\n+import org.w3c.dom.Node;\n@@ -38,2 +45,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.*;\n@@ -56,0 +61,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMURIDereferencer.java","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n@@ -53,2 +54,0 @@\n-import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n-\n@@ -137,0 +136,1 @@\n+    @Override\n@@ -150,2 +150,1 @@\n-        for (int i = 0, size = content.size(); i < size; i++) {\n-            Object object = content.get(i);\n+        for (Object object : content) {\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMX509Data.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -28,0 +28,3 @@\n+import java.math.BigInteger;\n+\n+import javax.security.auth.x500.X500Principal;\n@@ -33,3 +36,0 @@\n-import java.math.BigInteger;\n-\n-import javax.security.auth.x500.X500Principal;\n@@ -91,0 +91,1 @@\n+    @Override\n@@ -95,0 +96,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMX509IssuerSerial.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -28,4 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dsig.*;\n-\n@@ -33,1 +29,10 @@\n-import java.util.*;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.XMLObject;\n+import javax.xml.crypto.dsig.XMLSignature;\n@@ -148,0 +153,1 @@\n+    @Override\n@@ -152,0 +158,1 @@\n+    @Override\n@@ -156,0 +163,1 @@\n+    @Override\n@@ -160,0 +168,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMXMLObject.java","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -35,7 +35,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.*;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.dom.DOMSignContext;\n-import javax.xml.crypto.dsig.dom.DOMValidateContext;\n-import javax.xml.crypto.dsig.keyinfo.KeyInfo;\n-\n@@ -45,1 +38,0 @@\n-import java.util.Collections;\n@@ -47,0 +39,1 @@\n+import java.util.Collections;\n@@ -51,0 +44,22 @@\n+import javax.xml.crypto.KeySelector;\n+import javax.xml.crypto.KeySelectorException;\n+import javax.xml.crypto.KeySelectorResult;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.Manifest;\n+import javax.xml.crypto.dsig.Reference;\n+import javax.xml.crypto.dsig.SignatureMethod;\n+import javax.xml.crypto.dsig.SignedInfo;\n+import javax.xml.crypto.dsig.Transform;\n+import javax.xml.crypto.dsig.XMLObject;\n+import javax.xml.crypto.dsig.XMLSignContext;\n+import javax.xml.crypto.dsig.XMLSignature;\n+import javax.xml.crypto.dsig.XMLSignatureException;\n+import javax.xml.crypto.dsig.XMLValidateContext;\n+import javax.xml.crypto.dsig.dom.DOMSignContext;\n+import javax.xml.crypto.dsig.dom.DOMValidateContext;\n+import javax.xml.crypto.dsig.keyinfo.KeyInfo;\n+\n+import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n@@ -56,2 +71,0 @@\n-import com.sun.org.apache.xml.internal.security.utils.XMLUtils;\n-\n@@ -67,2 +80,2 @@\n-    private String id;\n-    private SignatureValue sv;\n+    private final String id;\n+    private final SignatureValue sv;\n@@ -71,1 +84,1 @@\n-    private SignedInfo si;\n+    private final SignedInfo si;\n@@ -177,0 +190,1 @@\n+    @Override\n@@ -181,0 +195,1 @@\n+    @Override\n@@ -185,0 +200,1 @@\n+    @Override\n@@ -189,0 +205,1 @@\n+    @Override\n@@ -193,0 +210,1 @@\n+    @Override\n@@ -197,0 +215,1 @@\n+    @Override\n@@ -237,2 +256,2 @@\n-        for (int i = 0, size = objects.size(); i < size; i++) {\n-            ((DOMXMLObject)objects.get(i)).marshal(sigElem, dsPrefix, context);\n+        for (XMLObject object : objects) {\n+            ((DOMXMLObject)object).marshal(sigElem, dsPrefix, context);\n@@ -463,1 +482,1 @@\n-                    digestReference((DOMReference)xs, signContext);\n+                    digestReference((DOMReference) xs, signContext);\n@@ -465,1 +484,1 @@\n-                    Manifest man = (Manifest)xs;\n+                    Manifest man = (Manifest) xs;\n@@ -467,3 +486,2 @@\n-                    for (int i = 0, size = manRefs.size(); i < size; i++) {\n-                        digestReference((DOMReference)manRefs.get(i),\n-                                        signContext);\n+                    for (Reference manRef : manRefs) {\n+                        digestReference((DOMReference) manRef, signContext);\n@@ -521,0 +539,1 @@\n+        @Override\n@@ -525,0 +544,1 @@\n+        @Override\n@@ -608,0 +628,1 @@\n+        @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMXMLSignature.java","additions":41,"deletions":20,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -28,7 +28,0 @@\n-import javax.xml.crypto.*;\n-import javax.xml.crypto.dom.DOMCryptoContext;\n-import javax.xml.crypto.dsig.*;\n-import javax.xml.crypto.dsig.dom.DOMValidateContext;\n-import javax.xml.crypto.dsig.keyinfo.*;\n-import javax.xml.crypto.dsig.spec.*;\n-\n@@ -39,0 +32,27 @@\n+import javax.xml.crypto.Data;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.URIDereferencer;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n+import javax.xml.crypto.dom.DOMCryptoContext;\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.DigestMethod;\n+import javax.xml.crypto.dsig.Manifest;\n+import javax.xml.crypto.dsig.Reference;\n+import javax.xml.crypto.dsig.SignatureMethod;\n+import javax.xml.crypto.dsig.SignatureProperties;\n+import javax.xml.crypto.dsig.SignatureProperty;\n+import javax.xml.crypto.dsig.SignedInfo;\n+import javax.xml.crypto.dsig.Transform;\n+import javax.xml.crypto.dsig.TransformService;\n+import javax.xml.crypto.dsig.XMLObject;\n+import javax.xml.crypto.dsig.XMLSignature;\n+import javax.xml.crypto.dsig.XMLSignatureFactory;\n+import javax.xml.crypto.dsig.XMLValidateContext;\n+import javax.xml.crypto.dsig.dom.DOMValidateContext;\n+import javax.xml.crypto.dsig.keyinfo.KeyInfo;\n+import javax.xml.crypto.dsig.spec.C14NMethodParameterSpec;\n+import javax.xml.crypto.dsig.spec.DigestMethodParameterSpec;\n+import javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec;\n+import javax.xml.crypto.dsig.spec.TransformParameterSpec;\n+\n@@ -54,0 +74,1 @@\n+    @Override\n@@ -58,0 +79,1 @@\n+    @Override\n@@ -64,0 +86,1 @@\n+    @Override\n@@ -68,0 +91,1 @@\n+    @Override\n@@ -92,0 +116,1 @@\n+    @Override\n@@ -102,0 +127,1 @@\n+    @Override\n@@ -108,0 +134,1 @@\n+    @Override\n@@ -115,0 +142,1 @@\n+    @Override\n@@ -121,0 +149,1 @@\n+    @Override\n@@ -126,0 +155,1 @@\n+    @Override\n@@ -131,0 +161,1 @@\n+    @Override\n@@ -136,0 +167,1 @@\n+    @Override\n@@ -142,0 +174,1 @@\n+    @Override\n@@ -151,0 +184,1 @@\n+    @Override\n@@ -204,0 +238,1 @@\n+    @Override\n@@ -212,0 +247,1 @@\n+    @Override\n@@ -245,0 +281,1 @@\n+    @Override\n@@ -273,0 +310,8 @@\n+        } else if (algorithm.equals(DOMSignatureMethod.RSA_SHA3_224_MGF1)) {\n+            return new DOMSignatureMethod.SHA3_224withRSAandMGF1(params);\n+        } else if (algorithm.equals(DOMSignatureMethod.RSA_SHA3_256_MGF1)) {\n+            return new DOMSignatureMethod.SHA3_256withRSAandMGF1(params);\n+        } else if (algorithm.equals(DOMSignatureMethod.RSA_SHA3_384_MGF1)) {\n+            return new DOMSignatureMethod.SHA3_384withRSAandMGF1(params);\n+        } else if (algorithm.equals(DOMSignatureMethod.RSA_SHA3_512_MGF1)) {\n+            return new DOMSignatureMethod.SHA3_512withRSAandMGF1(params);\n@@ -314,0 +359,1 @@\n+    @Override\n@@ -333,0 +379,1 @@\n+    @Override\n@@ -355,0 +402,1 @@\n+    @Override\n@@ -373,0 +421,1 @@\n+    @Override\n@@ -395,0 +444,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMXMLSignatureFactory.java","additions":57,"deletions":7,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -61,0 +61,1 @@\n+    @Override\n@@ -73,0 +74,1 @@\n+    @Override\n@@ -128,0 +130,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMXPathFilter2Transform.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -64,0 +64,1 @@\n+    @Override\n@@ -92,0 +93,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMXPathTransform.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,2 +29,0 @@\n-import org.w3c.dom.Element;\n-import org.w3c.dom.Node;\n@@ -32,1 +30,3 @@\n-import javax.xml.crypto.*;\n+import javax.xml.crypto.MarshalException;\n+import javax.xml.crypto.XMLCryptoContext;\n+import javax.xml.crypto.XMLStructure;\n@@ -36,0 +36,3 @@\n+import org.w3c.dom.Element;\n+import org.w3c.dom.Node;\n+\n@@ -55,0 +58,1 @@\n+    @Override\n@@ -67,0 +71,1 @@\n+    @Override\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/DOMXSLTTransform.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -33,1 +33,4 @@\n-import java.util.*;\n+import java.util.HashSet;\n+import java.util.Iterator;\n+import java.util.Set;\n+\n@@ -35,0 +38,1 @@\n+\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/Utils.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -35,4 +35,12 @@\n-import java.util.*;\n-import java.security.*;\n-\n-import javax.xml.crypto.dsig.*;\n+import java.security.AccessController;\n+import java.security.InvalidParameterException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.PrivilegedAction;\n+import java.security.Provider;\n+import java.security.ProviderException;\n+import java.util.Arrays;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import javax.xml.crypto.dsig.CanonicalizationMethod;\n+import javax.xml.crypto.dsig.Transform;\n@@ -137,1 +145,1 @@\n-        \/\/ Apache Santuario XML Security for Java, version 3.0.2\n+        \/\/ Apache Santuario XML Security for Java, version 3.0.3\n","filename":"src\/java.xml.crypto\/share\/classes\/org\/jcp\/xml\/dsig\/internal\/dom\/XMLDSigRI.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-## Apache Santuario v3.0.2\n+## Apache Santuario v3.0.3\n","filename":"src\/java.xml.crypto\/share\/legal\/santuario.md","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2401,0 +2401,1 @@\n+            @SuppressWarnings(\"fallthrough\")\n@@ -2404,9 +2405,13 @@\n-                    switch (s.getKind()) {\n-                        case OTHER:\n-                        case UNION:\n-                        case INTERSECTION:\n-                        case PACKAGE:\n-                        case EXECUTABLE:\n-                        case NONE:\n-                        case VOID:\n-                        case ERROR:\n+                    switch (s.getTag()) {\n+                        case CLASS:\n+                            if (s instanceof UnionClassType ||\n+                                s instanceof IntersectionClassType) {\n+                                return s;\n+                            }\n+                            \/\/fall-through\n+                        case BYTE, CHAR, SHORT, LONG, FLOAT, INT, DOUBLE, BOOLEAN,\n+                             ARRAY, MODULE, TYPEVAR, WILDCARD, BOT:\n+                            return s.dropMetadata(Annotations.class);\n+                        case VOID, METHOD, PACKAGE, FORALL, DEFERRED,\n+                             NONE, ERROR, UNKNOWN, UNDETVAR, UNINITIALIZED_THIS,\n+                             UNINITIALIZED_OBJECT:\n@@ -2414,1 +2419,2 @@\n-                        default: return s.dropMetadata(Annotations.class);\n+                        default:\n+                            throw new AssertionError(s.getTag().name());\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Types.java","additions":16,"deletions":10,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -4638,1 +4638,1 @@\n-                    hasBindings(patternLabel.pat)) {\n+                    (hasBindings(patternLabel.pat) || hasBindings(c.guard))) {\n@@ -4642,1 +4642,1 @@\n-                           hasBindings(patternLabel.pat) &&\n+                           (hasBindings(patternLabel.pat) || hasBindings(c.guard)) &&\n@@ -4651,1 +4651,1 @@\n-    boolean hasBindings(JCPattern p) {\n+    boolean hasBindings(JCTree p) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -509,1 +509,1 @@\n-        MethodSymbol sym = (MethodSymbol)TreeInfo.symbolFor(invoke.meth);\n+        Symbol sym = TreeInfo.symbolFor(invoke.meth);\n@@ -533,1 +533,1 @@\n-    private void invoke(JCTree site, MethodSymbol sym, List<JCExpression> args, RefSet<?> receiverRefs) {\n+    private void invoke(JCTree site, Symbol sym, List<JCExpression> args, RefSet<?> receiverRefs) {\n@@ -813,0 +813,4 @@\n+        if (tree.type.isErroneous()) {\n+            \/\/error recovery - ignore erroneous member references\n+            return ;\n+        }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/ThisEscapeAnalyzer.java","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2488,1 +2488,1 @@\n-        if (parameterNameIndicesMp != null\n+        if (parameterNameIndicesMp != null && mpIndex < parameterNameIndicesMp.length\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassReader.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -913,0 +913,1 @@\n+                checkNoMods(pos, mods.flags & Flags.FINAL);\n@@ -2856,0 +2857,1 @@\n+                    case BYTE, CHAR, SHORT, INT, LONG, FLOAT, DOUBLE, VOID, BOOLEAN:\n@@ -3364,0 +3366,2 @@\n+                case FINAL:\n+                    if (parenDepth > 0) return PatternResult.PATTERN;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1653,1 +1653,1 @@\n-                    node.body.stats.nonEmpty() && TreeInfo.isSuperCall(node.body.stats.head) &&\n+                    node.body != null && node.body.stats.nonEmpty() && TreeInfo.isSuperCall(node.body.stats.head) &&\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/processing\/JavacProcessingEnvironment.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -70,0 +70,3 @@\n+        private final Terminal terminal;\n+        private volatile LineReader jline;\n+\n@@ -111,0 +114,2 @@\n+            } finally {\n+                jline.zeroOut();\n@@ -129,3 +134,0 @@\n-        private final LineReader jline;\n-        private final Terminal terminal;\n-\n","filename":"src\/jdk.internal.le\/share\/classes\/jdk\/internal\/org\/jline\/JdkConsoleProviderImpl.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -87,0 +87,4 @@\n+    \/\/ JDK specific modification\n+    default void zeroOut() {\n+        throw new UnsupportedOperationException();\n+    }\n","filename":"src\/jdk.internal.le\/share\/classes\/jdk\/internal\/org\/jline\/reader\/Buffer.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -753,0 +753,5 @@\n+\n+    \/\/ JDK specific modification\n+    default void zeroOut() {\n+        throw new UnsupportedOperationException();\n+    }\n","filename":"src\/jdk.internal.le\/share\/classes\/jdk\/internal\/org\/jline\/reader\/LineReader.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -11,0 +11,1 @@\n+import java.util.Arrays;\n@@ -372,0 +373,6 @@\n+\n+    \/\/ JDK specific modification\n+    @Override\n+    public void zeroOut() {\n+        Arrays.fill(buffer, 0);\n+    }\n","filename":"src\/jdk.internal.le\/share\/classes\/jdk\/internal\/org\/jline\/reader\/impl\/BufferImpl.java","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -6253,0 +6253,6 @@\n+    \/\/ JDK specific modification\n+    @Override\n+    public void zeroOut() {\n+        buf.zeroOut();\n+        parsedLine = null;\n+    }\n","filename":"src\/jdk.internal.le\/share\/classes\/jdk\/internal\/org\/jline\/reader\/impl\/LineReaderImpl.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -295,0 +295,3 @@\n+                if (!ok) {\n+                    return false;\n+                }\n@@ -341,0 +344,3 @@\n+                if (!ok) {\n+                    return false;\n+                }\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/tools\/jar\/Main.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -113,0 +113,5 @@\n+    @Override\n+    public boolean isIndexable() {\n+        return true;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AbstractOverviewIndexWriter.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -464,0 +464,5 @@\n+\n+    @Override\n+    public boolean isIndexable() {\n+        return true;\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ClassWriterImpl.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -302,0 +302,5 @@\n+\n+        @Override\n+        public boolean isIndexable() {\n+            return true;\n+        }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/DocFilesHandlerImpl.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -402,0 +402,14 @@\n+    \/**\n+     * {@return true if the page written by this writer should be indexed,\n+     * false otherwise}\n+     *\n+     * Some pages merely aggregate filtered information available on other pages\n+     * and, thus, have no indexing value. In fact, if indexed, they would\n+     * clutter the index and mislead the reader.\n+     *\n+     * @implSpec The default implementation returns {@code false}.\n+     *\/\n+    public boolean isIndexable() {\n+        return false;\n+    }\n+\n@@ -1404,1 +1418,2 @@\n-                    if (node.getName().toString().matches(\"(?i)h[1-6]\")) {\n+                    if (node.getName().toString().matches(\"(?i)h[1-6]\")\n+                            && isIndexable()) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -848,0 +848,5 @@\n+\n+    @Override\n+    public boolean isIndexable() {\n+        return true;\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ModuleWriterImpl.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -378,0 +378,5 @@\n+\n+    @Override\n+    public boolean isIndexable() {\n+        return true;\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/PackageWriterImpl.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -905,1 +905,2 @@\n-        if (context.isFirstSentence && context.inSummary || context.inTags.contains(DocTree.Kind.INDEX)) {\n+        if (context.isFirstSentence && context.inSummary || context.inTags.contains(DocTree.Kind.INDEX)\n+                || !htmlWriter.isIndexable()) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TagletWriterImpl.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -758,1 +758,1 @@\n-                if (isEqualIPv6Addr(listenAddr, in6addr_any)) {\n+                if (isEqualIPv6Addr(ai, in6addr_any)) {\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libdt_socket\/socketTransport.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -66,5 +66,1 @@\n-                Batch batch = task.getBatch();\n-                \/\/ If new task, or period has changed, find new batch\n-                if (batch == null) {\n-                    batch = findBatch(task.getPeriod());\n-                }\n+                Batch batch = findBatch(task.getPeriod(), task.getBatch());\n@@ -92,1 +88,1 @@\n-    private Batch findBatch(long period) {\n+    private Batch findBatch(long period, Batch oldBatch) {\n@@ -105,1 +101,1 @@\n-        Batch batch = new Batch(period);\n+        Batch batch = oldBatch != null ? oldBatch : new Batch(period);\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/periodic\/BatchManager.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+serviceability\/sa\/jmap-hprof\/JMapHProfLargeHeapTest.java      8276539   generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList-zgc.txt","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+compiler\/vectorapi\/reshape\/TestVectorReinterpret.java 8320897 aix-ppc64,linux-ppc64le\n@@ -73,2 +74,0 @@\n-compiler\/c2\/irTests\/TestVectorConditionalMove.java 8306922 generic-all\n-\n@@ -85,0 +84,5 @@\n+gc\/TestAllocHumongousFragment.java#adaptive 8298781 generic-all\n+gc\/TestAllocHumongousFragment.java#aggressive 8298781 generic-all\n+gc\/TestAllocHumongousFragment.java#iu-aggressive 8298781 generic-all\n+gc\/TestAllocHumongousFragment.java#g1 8298781 generic-all\n+gc\/TestAllocHumongousFragment.java#static 8298781 generic-all\n@@ -106,1 +110,1 @@\n-runtime\/ErrorHandling\/TestDwarf.java 8305489 linux-all\n+runtime\/ErrorHandling\/TestDwarf.java#checkDecoder 8305489 linux-all\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -35,1 +35,2 @@\n-keys=stress headful intermittent randomness cgroups\n+# flag-sensitive:       test is sensitive to certain flags and might fail when flags are passed using -vmoptions and -javaoptions\n+keys=stress headful intermittent randomness cgroups flag-sensitive\n","filename":"test\/hotspot\/jtreg\/TEST.ROOT","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(getCmd(args))\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(getCmd(args))\n","filename":"test\/hotspot\/jtreg\/applications\/jcstress\/JcstressRunner.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -112,1 +112,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/applications\/jcstress\/TestGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-        OutputAnalyzer output = new OutputAnalyzer(ProcessTools.createTestJvm(\n+        OutputAnalyzer output = new OutputAnalyzer(ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/applications\/scimark\/Scimark.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -193,1 +193,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/compiler\/arguments\/CheckCICompilerCount.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -341,1 +341,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/compiler\/arguments\/CheckCompileThresholdScaling.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/arguments\/TestCodeEntryAlignment.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n@@ -72,1 +72,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/arguments\/TestOptoLoopAlignment.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/arguments\/TestPrintOptoAssemblyLineNumbers.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -176,1 +176,1 @@\n-                    ProcessBuilder pb = ProcessTools.createTestJvm(mix(c, \"-Xmx256m\", className));\n+                    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(mix(c, \"-Xmx256m\", className));\n","filename":"test\/hotspot\/jtreg\/compiler\/arraycopy\/stress\/TestStressArrayCopy.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n@@ -75,1 +75,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/blackhole\/BlackholeExistingIntrinsicWarningTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n@@ -75,1 +75,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/blackhole\/BlackholeExperimentalUnlockTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline);\n","filename":"test\/hotspot\/jtreg\/compiler\/blackhole\/BlackholeIntrinsicTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/blackhole\/BlackholeNonEmptyWarningTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/blackhole\/BlackholeNonStaticWarningTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmdline(args));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmdline(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/blackhole\/BlackholeNonVoidWarningTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,146 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8310844\n+ * @summary Verify that monitors with large offset in the OSR buffer are handled properly.\n+ * @run main\/othervm -Xbatch -XX:CompileCommand=compileonly,TestLargeMonitorOffset::* TestLargeMonitorOffset\n+ *\/\n+\n+public class TestLargeMonitorOffset {\n+\n+    public static void test() {\n+        long l1,   l2,   l3,   l4,   l5,   l6,   l7,   l8,   l9,   l10,\n+             l11,  l12,  l13,  l14,  l15,  l16,  l17,  l18,  l19,  l20,\n+             l21,  l22,  l23,  l24,  l25,  l26,  l27,  l28,  l29,  l30,\n+             l31,  l32,  l33,  l34,  l35,  l36,  l37,  l38,  l39,  l40,\n+             l41,  l42,  l43,  l44,  l45,  l46,  l47,  l48,  l49,  l50,\n+             l51,  l52,  l53,  l54,  l55,  l56,  l57,  l58,  l59,  l60,\n+             l61,  l62,  l63,  l64,  l65,  l66,  l67,  l68,  l69,  l70,\n+             l71,  l72,  l73,  l74,  l75,  l76,  l77,  l78,  l79,  l80,\n+             l81,  l82,  l83,  l84,  l85,  l86,  l87,  l88,  l89,  l90,\n+             l91,  l92,  l93,  l94,  l95,  l96,  l97,  l98,  l99,  l100,\n+             l101, l102, l103, l104, l105, l106, l107, l108, l109, l110,\n+             l111, l112, l113, l114, l115, l116, l117, l118, l119, l120,\n+             l121, l122, l123, l124, l125, l126, l127, l128, l129, l130,\n+             l131, l132, l133, l134, l135, l136, l137, l138, l139, l140,\n+             l141, l142, l143, l144, l145, l146, l147, l148, l149, l150,\n+             l151, l152, l153, l154, l155, l156, l157, l158, l159, l160,\n+             l161, l162, l163, l164, l165, l166, l167, l168, l169, l170,\n+             l171, l172, l173, l174, l175, l176, l177, l178, l179, l180,\n+             l181, l182, l183, l184, l185, l186, l187, l188, l189, l190,\n+             l191, l192, l193, l194, l195, l196, l197, l198, l199, l200,\n+             l201, l202, l203, l204, l205, l206, l207, l208, l209, l210,\n+             l211, l212, l213, l214, l215, l216, l217, l218, l219, l220,\n+             l221, l222, l223, l224, l225, l226, l227, l228, l229, l230,\n+             l231, l232, l233, l234, l235, l236, l237, l238, l239, l240,\n+             l241, l242, l243, l244, l245, l246, l247, l248, l249, l250,\n+             l251, l252, l253, l254, l255, l256, l257, l258, l259, l260,\n+             l261, l262, l263, l264, l265, l266, l267, l268, l269, l270,\n+             l271, l272, l273, l274, l275, l276, l277, l278, l279, l280,\n+             l281, l282, l283, l284, l285, l286, l287, l288, l289, l290,\n+             l291, l292, l293, l294, l295, l296, l297, l298, l299, l300,\n+             l301, l302, l303, l304, l305, l306, l307, l308, l309, l310,\n+             l311, l312, l313, l314, l315, l316, l317, l318, l319, l320,\n+             l321, l322, l323, l324, l325, l326, l327, l328, l329, l330,\n+             l331, l332, l333, l334, l335, l336, l337, l338, l339, l340,\n+             l341, l342, l343, l344, l345, l346, l347, l348, l349, l350,\n+             l351, l352, l353, l354, l355, l356, l357, l358, l359, l360,\n+             l361, l362, l363, l364, l365, l366, l367, l368, l369, l370,\n+             l371, l372, l373, l374, l375, l376, l377, l378, l379, l380,\n+             l381, l382, l383, l384, l385, l386, l387, l388, l389, l390,\n+             l391, l392, l393, l394, l395, l396, l397, l398, l399, l400,\n+             l401, l402, l403, l404, l405, l406, l407, l408, l409, l410,\n+             l411, l412, l413, l414, l415, l416, l417, l418, l419, l420,\n+             l421, l422, l423, l424, l425, l426, l427, l428, l429, l430,\n+             l431, l432, l433, l434, l435, l436, l437, l438, l439, l440,\n+             l441, l442, l443, l444, l445, l446, l447, l448, l449, l450,\n+             l451, l452, l453, l454, l455, l456, l457, l458, l459, l460,\n+             l461, l462, l463, l464, l465, l466, l467, l468, l469, l470,\n+             l471, l472, l473, l474, l475, l476, l477, l478, l479, l480,\n+             l481, l482, l483, l484, l485, l486, l487, l488, l489, l490,\n+             l491, l492, l493, l494, l495, l496, l497, l498, l499, l500,\n+             l501, l502, l503, l504, l505, l506, l507, l508, l509, l510,\n+             l511, l512, l513, l514, l515, l516, l517, l518, l519, l520,\n+             l521, l522, l523, l524, l525, l526, l527, l528, l529, l530,\n+             l531, l532, l533, l534, l535, l536, l537, l538, l539, l540,\n+             l541, l542, l543, l544, l545, l546, l547, l548, l549, l550,\n+             l551, l552, l553, l554, l555, l556, l557, l558, l559, l560,\n+             l561, l562, l563, l564, l565, l566, l567, l568, l569, l570,\n+             l571, l572, l573, l574, l575, l576, l577, l578, l579, l580,\n+             l581, l582, l583, l584, l585, l586, l587, l588, l589, l590,\n+             l591, l592, l593, l594, l595, l596, l597, l598, l599, l600,\n+             l601, l602, l603, l604, l605, l606, l607, l608, l609, l610,\n+             l611, l612, l613, l614, l615, l616, l617, l618, l619, l620,\n+             l621, l622, l623, l624, l625, l626, l627, l628, l629, l630,\n+             l631, l632, l633, l634, l635, l636, l637, l638, l639, l640,\n+             l641, l642, l643, l644, l645, l646, l647, l648, l649, l650,\n+             l651, l652, l653, l654, l655, l656, l657, l658, l659, l660,\n+             l661, l662, l663, l664, l665, l666, l667, l668, l669, l670,\n+             l671, l672, l673, l674, l675, l676, l677, l678, l679, l680,\n+             l681, l682, l683, l684, l685, l686, l687, l688, l689, l690,\n+             l691, l692, l693, l694, l695, l696, l697, l698, l699, l700,\n+             l701, l702, l703, l704, l705, l706, l707, l708, l709, l710,\n+             l711, l712, l713, l714, l715, l716, l717, l718, l719, l720,\n+             l721, l722, l723, l724, l725, l726, l727, l728, l729, l730,\n+             l731, l732, l733, l734, l735, l736, l737, l738, l739, l740,\n+             l741, l742, l743, l744, l745, l746, l747, l748, l749, l750,\n+             l751, l752, l753, l754, l755, l756, l757, l758, l759, l760,\n+             l761, l762, l763, l764, l765, l766, l767, l768, l769, l770,\n+             l771, l772, l773, l774, l775, l776, l777, l778, l779, l780,\n+             l781, l782, l783, l784, l785, l786, l787, l788, l789, l790,\n+             l791, l792, l793, l794, l795, l796, l797, l798, l799, l800,\n+             l801, l802, l803, l804, l805, l806, l807, l808, l809, l810,\n+             l811, l812, l813, l814, l815, l816, l817, l818, l819, l820,\n+             l821, l822, l823, l824, l825, l826, l827, l828, l829, l830,\n+             l831, l832, l833, l834, l835, l836, l837, l838, l839, l840,\n+             l841, l842, l843, l844, l845, l846, l847, l848, l849, l850,\n+             l851, l852, l853, l854, l855, l856, l857, l858, l859, l860,\n+             l861, l862, l863, l864, l865, l866, l867, l868, l869, l870,\n+             l871, l872, l873, l874, l875, l876, l877, l878, l879, l880,\n+             l881, l882, l883, l884, l885, l886, l887, l888, l889, l890,\n+             l891, l892, l893, l894, l895, l896, l897, l898, l899, l900,\n+             l901, l902, l903, l904, l905, l906, l907, l908, l909, l910,\n+             l911, l912, l913, l914, l915, l916, l917, l918, l919, l920,\n+             l921, l922, l923, l924, l925, l926, l927, l928, l929, l930,\n+             l931, l932, l933, l934, l935, l936, l937, l938, l939, l940,\n+             l941, l942, l943, l944, l945, l946, l947, l948, l949, l950,\n+             l951, l952, l953, l954, l955, l956, l957, l958, l959, l960,\n+             l961, l962, l963, l964, l965, l966, l967, l968, l969, l970,\n+             l971, l972, l973, l974, l975, l976, l977, l978, l979, l980,\n+             l981, l982, l983, l984, l985, l986, l987, l988, l989, l990,\n+             l991, l992, l993, l994, l995, l996, l997, l998, l999, l1000;\n+\n+        synchronized (TestLargeMonitorOffset.class) {\n+            \/\/ Trigger OSR compilation with monitor in the OSR buffer\n+            for (int i = 0; i < 1_000_000; ++i) {\n+\n+            }\n+        }\n+    }\n+\n+    public static void main(String[] args) {\n+        test();\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/c1\/TestLargeMonitorOffset.java","additions":146,"deletions":0,"binary":false,"changes":146,"status":"added"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n@@ -77,1 +77,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n@@ -97,1 +97,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/c1\/TestRangeCheckEliminated.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestBit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-    @IR(failOn = {IRNode.MIN_V})\n+    @IR(failOn = {IRNode.MIN_VI, IRNode.MIN_VF, IRNode.MIN_VD})\n@@ -80,1 +80,1 @@\n-    @IR(failOn = {IRNode.MAX_V})\n+    @IR(failOn = {IRNode.MAX_VI, IRNode.MAX_VF, IRNode.MAX_VD})\n@@ -95,1 +95,1 @@\n-    @IR(failOn = {IRNode.MIN_V})\n+    @IR(failOn = {IRNode.MIN_VI, IRNode.MIN_VF, IRNode.MIN_VD})\n@@ -111,1 +111,1 @@\n-    @IR(failOn = {IRNode.MAX_V})\n+    @IR(failOn = {IRNode.MAX_VI, IRNode.MAX_VF, IRNode.MAX_VD})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestMinMaxSubword.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -0,0 +1,49 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package compiler.c2;\n+\n+\/*\n+ * @test\n+ * @bug 8323154\n+ * @summary Long counted loop exit check should not be transformed into an unsigned check\n+ *\n+ * @run main\/othervm -Xbatch -XX:CompileCommand=compileonly,compiler.c2.TestMinValueStrideLongCountedLoop::test\n+ *                   compiler.c2.TestMinValueStrideLongCountedLoop\n+ *\/\n+\n+public class TestMinValueStrideLongCountedLoop {\n+    static long limit = 0;\n+    static long res = 0;\n+\n+    public static void main(String[] args) {\n+        for (int i = 0; i < 10000; i++) {\n+            test();\n+        }\n+    }\n+\n+    static void test() {\n+        for (long i = 0; i >= limit + (Long.MIN_VALUE + 1); i += Long.MIN_VALUE) {\n+            res += 42;\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestMinValueStrideLongCountedLoop.java","additions":49,"deletions":0,"binary":false,"changes":49,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+\/*\n+ * Copyright (c) 2023, Red Hat, Inc. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8319372\n+ * @summary CastII because of condition guarding it becomes top\n+ * @requires vm.compiler2.enabled\n+ * @run main\/othervm -Xcomp -XX:CompileOnly=TestTopCastIIOnUndetectedDeadPath::test -XX:CompileCommand=quiet -XX:-TieredCompilation\n+ *                   -XX:+UnlockDiagnosticVMOptions -XX:StressSeed=426264791 -XX:+StressIGVN TestTopCastIIOnUndetectedDeadPath\n+ * @run main\/othervm -Xcomp -XX:CompileOnly=TestTopCastIIOnUndetectedDeadPath::test -XX:CompileCommand=quiet -XX:-TieredCompilation\n+ *                   -XX:+UnlockDiagnosticVMOptions -XX:+StressIGVN TestTopCastIIOnUndetectedDeadPath\n+ *\/\n+\n+public class TestTopCastIIOnUndetectedDeadPath {\n+    static class X {\n+        static void m(int[] a) {\n+\n+        }\n+    }\n+\n+    static int array[] = new int[10];\n+\n+    static void test(int val) {\n+        for (int i = 1; i < 10; ++i) {\n+            for (int j = i; j < 10; ++j) {\n+                if (i == 0 && j != 0) {\n+                    X.m(array);\n+                }\n+                array[j - 1] = val;\n+            }\n+        }\n+    }\n+\n+    public static void main(String[] arg) {\n+        test(42);\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestTopCastIIOnUndetectedDeadPath.java","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,55 @@\n+\/*\n+ * Copyright (c) 2023, Red Hat, Inc. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8319372\n+ * @summary CastII because of condition guarding it becomes top\n+ * @requires vm.compiler2.enabled\n+ * @run main\/othervm -XX:CompileCommand=quiet -XX:CompileCommand=compileonly,TestTopCastIIOnUndetectedDeadPath2::test -XX:-TieredCompilation\n+ *                   -Xbatch -XX:+UnlockDiagnosticVMOptions -XX:+StressIGVN -XX:StressSeed=256120824 TestTopCastIIOnUndetectedDeadPath2\n+ * @run main\/othervm -XX:CompileCommand=quiet -XX:CompileCommand=compileonly,TestTopCastIIOnUndetectedDeadPath2::test -XX:-TieredCompilation\n+ *                   -Xbatch -XX:+UnlockDiagnosticVMOptions -XX:+StressIGVN TestTopCastIIOnUndetectedDeadPath2\n+ *\/\n+\n+public class TestTopCastIIOnUndetectedDeadPath2 {\n+    static int array[] = new int[100];\n+\n+    static int test() {\n+        int res = 0;\n+        for (int i = 1; i < 100; ++i) {\n+            try {\n+                res = array[i - 1];\n+                int x = (42 % i);\n+            } catch (ArithmeticException e) {\n+            }\n+        }\n+        return res;\n+    }\n+\n+    public static void main(String[] args) {\n+        for (int i = 0; i < 10_000; i++) {\n+            test();\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestTopCastIIOnUndetectedDeadPath2.java","additions":55,"deletions":0,"binary":false,"changes":55,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+\/*\n+ * Copyright (c) 2023, Red Hat, Inc. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8319372\n+ * @summary CastII because of condition guarding it becomes top\n+ * @run main\/othervm -Xcomp -XX:CompileOnly=TestTopCastIIOnUndetectedDeadPath3::* -XX:-TieredCompilation TestTopCastIIOnUndetectedDeadPath3\n+ *\/\n+\n+public class TestTopCastIIOnUndetectedDeadPath3 {\n+\n+    static long test() {\n+        int x = 6, y = 5;\n+        int[] iArr = new int[200];\n+        for (int i = 129; i > 5; i -= 2) { \/\/ OSR compiled\n+            try {\n+                y = iArr[i - 1];\n+                x = iArr[i + 1];\n+                x = 1 \/ i;\n+            } catch (ArithmeticException a_e) {\n+            }\n+        }\n+        Foo.empty();\n+        return x + y;\n+    }\n+\n+    public static void main(String[] strArr) {\n+        new TestTopCastIIOnUndetectedDeadPath3();\n+        for (int i = 0; i < 2000; i++) {\n+            test();\n+        }\n+    }\n+}\n+\n+class Foo {\n+    public static void empty() {}\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestTopCastIIOnUndetectedDeadPath3.java","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,54 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8321974\n+ * @summary Test that the TypeAryPtr::_klass field is properly initialized on use.\n+ * @comment This test only reproduces the issue with release builds of the JVM because\n+ *          verification code in debug builds leads to eager initialization of the field.\n+ * @run main\/othervm -Xbatch -XX:CompileCommand=compileonly,TestUninitializedKlassField::test*\n+ *                   -XX:-TieredCompilation TestUninitializedKlassField\n+ *\/\n+\n+public class TestUninitializedKlassField {\n+    static void test(long array2[]) {\n+        long array1[] = new long[1];\n+        \/\/ Loop is needed to create a backedge phi that is processed only during IGVN.\n+        for (int i = 0; i < 1; i++) {\n+            \/\/ CmpPNode::sub will check if classes of array1 and array2 are unrelated\n+            \/\/ and the subtype checks will crash if the _klass field is not initialized.\n+            if (array2 != array1) {\n+                array1 = new long[2];\n+            }\n+        }\n+    }\n+\n+    public static void main(String[] args) {\n+        for (int i = 0; i < 50_000; ++i) {\n+            test(null);\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestUninitializedKlassField.java","additions":54,"deletions":0,"binary":false,"changes":54,"status":"added"},{"patch":"@@ -98,1 +98,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/aarch64\/TestFarJump.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,23 +2,23 @@\n-* Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n-* Copyright (c) 2020, Arm Limited. All rights reserved.\n-* DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-*\n-* This code is free software; you can redistribute it and\/or modify it\n-* under the terms of the GNU General Public License version 2 only, as\n-* published by the Free Software Foundation.\n-*\n-* This code is distributed in the hope that it will be useful, but WITHOUT\n-* ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-* FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-* version 2 for more details (a copy is included in the LICENSE file that\n-* accompanied this code).\n-*\n-* You should have received a copy of the GNU General Public License version\n-* 2 along with this work; if not, write to the Free Software Foundation,\n-* Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-*\n-* Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-* or visit www.oracle.com if you need additional information or have any\n-* questions.\n-*\n-*\/\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, Arm Limited. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n@@ -82,1 +82,1 @@\n-        return ProcessTools.createJavaProcessBuilder(vmopts.toArray(new String[vmopts.size()]));\n+        return ProcessTools.createLimitedTestJavaProcessBuilder(vmopts.toArray(new String[vmopts.size()]));\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/aarch64\/TestSVEWithJNI.java","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(command);\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/aarch64\/TestTrampoline.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -135,1 +135,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/aarch64\/TestVolatiles.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR,  \" >0 \"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,  \" >0 \"})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestAutoVecCountingDownLoop.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,3 +51,6 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR,  \" >0 \" })\n-    @IR(counts = { IRNode.ADD_VD,       \" >0 \" })\n-    @IR(counts = { IRNode.STORE_VECTOR, \" >0 \" })\n+    \/\/ Given small iteration count, the unrolling factor is not very predictable,\n+    \/\/ hence it is difficult to exactly predict the vector size. But let's at least\n+    \/\/ check that there is some vectorization of any size.\n+    @IR(counts = { IRNode.LOAD_VECTOR_D, IRNode.VECTOR_SIZE_ANY, \" >0 \" })\n+    @IR(counts = { IRNode.ADD_VD,        IRNode.VECTOR_SIZE_ANY, \" >0 \" })\n+    @IR(counts = { IRNode.STORE_VECTOR,                          \" >0 \" })\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestAutoVectorization2DArray.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    @IR(failOn = {IRNode.VECTOR_CAST_D2X})\n+    @IR(failOn = {IRNode.VECTOR_CAST_D2I})\n@@ -64,1 +64,1 @@\n-    @IR(failOn = {IRNode.VECTOR_CAST_L2X})\n+    @IR(failOn = {IRNode.VECTOR_CAST_L2F})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestDisableAutoVectOpcodes.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n- * @bug 8289422 8306088\n+ * @bug 8289422 8306088 8313720\n@@ -46,4 +46,1 @@\n-        TestFramework.runWithFlags(\"-XX:-TieredCompilation\",\n-                                   \"-XX:+UseCMoveUnconditionally\",\n-                                   \"-XX:+UseVectorCmov\",\n-                                   \"-XX:CompileCommand=compileonly,*.TestVectorConditionalMove.test*\");\n+        TestFramework.runWithFlags(\"-XX:+UseCMoveUnconditionally\", \"-XX:+UseVectorCmov\");\n@@ -209,1 +206,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -218,1 +218,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -227,1 +230,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -236,1 +242,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -245,1 +254,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -254,1 +266,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -263,1 +278,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -272,1 +290,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -281,1 +302,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -290,1 +314,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -300,1 +327,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -309,1 +339,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -318,1 +351,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -327,1 +363,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -336,1 +375,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -345,1 +387,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -354,1 +399,56 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveFLTforFConstH2(float[] a, float[] b, float[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] < b[i+0]) ? 0.1f : -0.1f;\n+            c[i+1] = (a[i+1] < b[i+1]) ? 0.1f : -0.1f;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveFLEforFConstH2(float[] a, float[] b, float[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] <= b[i+0]) ? 0.1f : -0.1f;\n+            c[i+1] = (a[i+1] <= b[i+1]) ? 0.1f : -0.1f;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"=0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \"=0\",\n+                  IRNode.VECTOR_BLEND_F, \"=0\",\n+                  IRNode.STORE_VECTOR, \"=0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveFYYforFConstH2(float[] a, float[] b, float[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] <= b[i+0]) ? 0.1f : -0.1f;\n+            c[i+1] = (a[i+1] <  b[i+1]) ? 0.1f : -0.1f;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"=0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \"=0\",\n+                  IRNode.VECTOR_BLEND_F, \"=0\",\n+                  IRNode.STORE_VECTOR, \"=0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveFXXforFConstH2(float[] a, float[] b, float[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] <  b[i+0]) ? 0.1f : -0.1f;\n+            c[i+1] = (a[i+1] <= b[i+1]) ? 0.1f : -0.1f;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -363,1 +463,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -372,1 +475,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -381,1 +487,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -390,1 +499,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -399,1 +511,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -407,0 +522,52 @@\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveDLTforDConstH2(double[] a, double[] b, double[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] < b[i+0]) ? 0.1 : -0.1;\n+            c[i+1] = (a[i+1] < b[i+1]) ? 0.1 : -0.1;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveDLEforDConstH2(double[] a, double[] b, double[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] <= b[i+0]) ? 0.1 : -0.1;\n+            c[i+1] = (a[i+1] <= b[i+1]) ? 0.1 : -0.1;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"=0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \"=0\",\n+                  IRNode.VECTOR_BLEND_D, \"=0\",\n+                  IRNode.STORE_VECTOR, \"=0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveDYYforDConstH2(double[] a, double[] b, double[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] <= b[i+0]) ? 0.1 : -0.1;\n+            c[i+1] = (a[i+1] <  b[i+1]) ? 0.1 : -0.1;\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"=0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \"=0\",\n+                  IRNode.VECTOR_BLEND_D, \"=0\",\n+                  IRNode.STORE_VECTOR, \"=0\"},\n+        applyIfCPUFeatureOr = {\"avx\", \"true\", \"asimd\", \"true\"})\n+    private static void testCMoveDXXforDConstH2(double[] a, double[] b, double[] c) {\n+        for (int i = 0; i < a.length; i+=2) {\n+            c[i+0] = (a[i+0] <  b[i+0]) ? 0.1 : -0.1;\n+            c[i+1] = (a[i+1] <= b[i+1]) ? 0.1 : -0.1;\n+        }\n+    }\n+\n@@ -414,1 +581,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -425,1 +592,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -436,1 +603,5 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_int, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_int, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -448,1 +619,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -459,1 +630,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -470,1 +641,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -481,1 +652,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -492,1 +663,5 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_long, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_long, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -505,1 +680,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -516,1 +691,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -527,1 +702,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -539,1 +717,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -550,1 +728,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -561,1 +739,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -572,1 +750,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -583,1 +761,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, \">0\",\n+                  IRNode.VECTOR_BLEND_D, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -596,1 +777,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -608,1 +792,4 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.VECTOR_MASK_CMP, \">0\", IRNode.VECTOR_BLEND, \">0\", IRNode.STORE_VECTOR, \">0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, \">0\",\n+                  IRNode.VECTOR_BLEND_F, \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n@@ -621,1 +808,1 @@\n-    @IR(failOn = {IRNode.VECTOR_MASK_CMP, IRNode.VECTOR_BLEND})\n+    @IR(failOn = {IRNode.STORE_VECTOR})\n@@ -636,1 +823,5 @@\n-                 \"testCMoveDLEforDConst\", \"testCMoveDEQforDConst\", \"testCMoveDNEQforDConst\"})\n+                 \"testCMoveDLEforDConst\", \"testCMoveDEQforDConst\", \"testCMoveDNEQforDConst\",\n+                 \"testCMoveFLTforFConstH2\", \"testCMoveFLEforFConstH2\",\n+                 \"testCMoveFYYforFConstH2\", \"testCMoveFXXforFConstH2\",\n+                 \"testCMoveDLTforDConstH2\", \"testCMoveDLEforDConstH2\",\n+                 \"testCMoveDYYforDConstH2\", \"testCMoveDXXforDConstH2\"})\n@@ -735,0 +926,33 @@\n+\n+        \/\/ Hand-unrolled (H2) examples:\n+        testCMoveFLTforFConstH2(floata, floatb, floatc);\n+        testCMoveDLTforDConstH2(doublea, doubleb, doublec);\n+        for (int i = 0; i < SIZE; i++) {\n+            Asserts.assertEquals(floatc[i], cmoveFLTforFConst(floata[i], floatb[i]));\n+            Asserts.assertEquals(doublec[i], cmoveDLTforDConst(doublea[i], doubleb[i]));\n+        }\n+\n+        testCMoveFLEforFConstH2(floata, floatb, floatc);\n+        testCMoveDLEforDConstH2(doublea, doubleb, doublec);\n+        for (int i = 0; i < SIZE; i++) {\n+            Asserts.assertEquals(floatc[i], cmoveFLEforFConst(floata[i], floatb[i]));\n+            Asserts.assertEquals(doublec[i], cmoveDLEforDConst(doublea[i], doubleb[i]));\n+        }\n+\n+        testCMoveFYYforFConstH2(floata, floatb, floatc);\n+        testCMoveDYYforDConstH2(doublea, doubleb, doublec);\n+        for (int i = 0; i < SIZE; i+=2) {\n+            Asserts.assertEquals(floatc[i+0], cmoveFLEforFConst(floata[i+0], floatb[i+0]));\n+            Asserts.assertEquals(doublec[i+0], cmoveDLEforDConst(doublea[i+0], doubleb[i+0]));\n+            Asserts.assertEquals(floatc[i+1], cmoveFLTforFConst(floata[i+1], floatb[i+1]));\n+            Asserts.assertEquals(doublec[i+1], cmoveDLTforDConst(doublea[i+1], doubleb[i+1]));\n+        }\n+\n+        testCMoveFXXforFConstH2(floata, floatb, floatc);\n+        testCMoveDXXforDConstH2(doublea, doubleb, doublec);\n+        for (int i = 0; i < SIZE; i+=2) {\n+            Asserts.assertEquals(floatc[i+0], cmoveFLTforFConst(floata[i+0], floatb[i+0]));\n+            Asserts.assertEquals(doublec[i+0], cmoveDLTforDConst(doublea[i+0], doubleb[i+0]));\n+            Asserts.assertEquals(floatc[i+1], cmoveFLEforFConst(floata[i+1], floatb[i+1]));\n+            Asserts.assertEquals(doublec[i+1], cmoveDLEforDConst(doublea[i+1], doubleb[i+1]));\n+        }\n@@ -901,4 +1125,11 @@\n-            a[i] = RANDOM.nextFloat();\n-            if (RANDOM.nextInt() % 20 == 0) {\n-                a[i] = Float.NaN;\n-            }\n+            a[i] = switch(RANDOM.nextInt() % 20) {\n+                case 0  -> Float.NaN;\n+                case 1  -> 0;\n+                case 2  -> 1;\n+                case 3  -> Float.POSITIVE_INFINITY;\n+                case 4  -> Float.NEGATIVE_INFINITY;\n+                case 5  -> Float.MAX_VALUE;\n+                case 6  -> Float.MIN_VALUE;\n+                case 7, 8, 9 -> RANDOM.nextFloat();\n+                default -> Float.intBitsToFloat(RANDOM.nextInt());\n+            };\n@@ -910,4 +1141,11 @@\n-            a[i] = RANDOM.nextDouble();\n-            if (RANDOM.nextInt() % 20 == 0) {\n-                a[i] = Double.NaN;\n-            }\n+            a[i] = switch(RANDOM.nextInt() % 20) {\n+                case 0  -> Double.NaN;\n+                case 1  -> 0;\n+                case 2  -> 1;\n+                case 3  -> Double.POSITIVE_INFINITY;\n+                case 4  -> Double.NEGATIVE_INFINITY;\n+                case 5  -> Double.MAX_VALUE;\n+                case 6  -> Double.MIN_VALUE;\n+                case 7, 8, 9 -> RANDOM.nextDouble();\n+                default -> Double.longBitsToDouble(RANDOM.nextLong());\n+            };\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorConditionalMove.java","additions":293,"deletions":55,"binary":false,"changes":348,"status":"modified"},{"patch":"@@ -153,1 +153,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -166,1 +166,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -179,1 +179,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -192,1 +192,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -206,1 +206,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -220,1 +220,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -234,1 +234,1 @@\n-    \/\/@IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    \/\/@IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -247,1 +247,1 @@\n-    @IR(failOn = { IRNode.LOAD_VECTOR, IRNode.STORE_VECTOR })\n+    @IR(failOn = { IRNode.LOAD_VECTOR_L, IRNode.STORE_VECTOR })\n@@ -260,1 +260,1 @@\n-    @IR(failOn = { IRNode.LOAD_VECTOR, IRNode.STORE_VECTOR })\n+    @IR(failOn = { IRNode.LOAD_VECTOR_L, IRNode.STORE_VECTOR })\n@@ -274,1 +274,1 @@\n-    @IR(failOn = { IRNode.LOAD_VECTOR, IRNode.STORE_VECTOR })\n+    @IR(failOn = { IRNode.LOAD_VECTOR_L, IRNode.STORE_VECTOR })\n@@ -288,1 +288,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -301,1 +301,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -314,1 +314,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -327,1 +327,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorizationMismatchedAccess.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -78,1 +78,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_B, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n@@ -109,1 +109,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_I, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorizationMultiInvar.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-    @IR(counts = { IRNode.LOAD_VECTOR, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n+    @IR(counts = { IRNode.LOAD_VECTOR_L, \">=1\", IRNode.STORE_VECTOR, \">=1\" })\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorizationNotRun.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -58,2 +58,3 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\",\n-                  IRNode.VECTOR_CAST_I2X, \">0\",\n+    \/\/ Mixing types of different sizes has the effect that some vectors are shorter than the type allows.\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,   IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_CAST_I2D, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n@@ -71,3 +72,5 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\",\n-                  IRNode.VECTOR_CAST_I2X, \">0\",\n-                  IRNode.VECTOR_CAST_L2X, \">0\",\n+    \/\/ Mixing types of different sizes has the effect that some vectors are shorter than the type allows.\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,   IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \">0\",\n+                  IRNode.LOAD_VECTOR_I,   IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \">0\",\n+                  IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \">0\",\n+                  IRNode.VECTOR_CAST_L2I, IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \">0\",\n@@ -83,3 +86,5 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\",\n-                  IRNode.VECTOR_CAST_D2X, \">0\",\n-                  IRNode.VECTOR_CAST_F2X, \">0\",\n+    \/\/ Mixing types of different sizes has the effect that some vectors are shorter than the type allows.\n+    @IR(counts = {IRNode.LOAD_VECTOR_F,   IRNode.VECTOR_SIZE + \"min(max_float, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,   IRNode.VECTOR_SIZE + \"min(max_float, max_double)\", \">0\",\n+                  IRNode.VECTOR_CAST_D2F, IRNode.VECTOR_SIZE + \"min(max_float, max_double)\", \">0\",\n+                  IRNode.VECTOR_CAST_F2D, IRNode.VECTOR_SIZE + \"min(max_float, max_double)\", \">0\",\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorizeTypeConversion.java","additions":13,"deletions":8,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.RSHIFT_VB, \">0\", IRNode.STORE_VECTOR, \">0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \">0\", IRNode.RSHIFT_VB, \">0\", IRNode.STORE_VECTOR, \">0\"})\n@@ -81,1 +81,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.RSHIFT_VB, \">0\", IRNode.STORE_VECTOR, \">0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \">0\", IRNode.RSHIFT_VB, \">0\", IRNode.STORE_VECTOR, \">0\"})\n@@ -89,1 +89,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.RSHIFT_VB, IRNode.STORE_VECTOR})\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.RSHIFT_VB, IRNode.STORE_VECTOR})\n@@ -97,1 +97,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.RSHIFT_VS, \">0\", IRNode.STORE_VECTOR, \">0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \">0\", IRNode.RSHIFT_VS, \">0\", IRNode.STORE_VECTOR, \">0\"})\n@@ -105,1 +105,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">0\", IRNode.RSHIFT_VS, \">0\", IRNode.STORE_VECTOR, \">0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \">0\", IRNode.RSHIFT_VS, \">0\", IRNode.STORE_VECTOR, \">0\"})\n@@ -113,1 +113,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.RSHIFT_VS, IRNode.STORE_VECTOR})\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.RSHIFT_VS, IRNode.STORE_VECTOR})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorizeURShiftSubword.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -180,1 +180,1 @@\n-                                ProcessTools.createTestJvm(options.toArray(new String[0]))));\n+                                ProcessTools.createTestJavaProcessBuilder(options.toArray(new String[0]))));\n@@ -184,1 +184,1 @@\n-                crashOut = ProcessTools.executeProcess(ProcessTools.createTestJvm(options));\n+                crashOut = ProcessTools.executeProcess(ProcessTools.createTestJavaProcessBuilder(options));\n@@ -291,1 +291,1 @@\n-            String cmd = ProcessTools.getCommandLine(ProcessTools.createTestJvm(args));\n+            String cmd = ProcessTools.getCommandLine(ProcessTools.createTestJavaProcessBuilder(args));\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/CiReplayBase.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,1 +82,1 @@\n-            oa = ProcessTools.executeProcess(ProcessTools.createTestJvm(options));\n+            oa = ProcessTools.executeProcess(ProcessTools.createTestJavaProcessBuilder(options));\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/DumpReplayBase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,1 +74,1 @@\n-            pb = ProcessTools.createTestJvm(\"--add-modules\", \"jdk.hotspot.agent\",\n+            pb = ProcessTools.createTestJavaProcessBuilder(\"--add-modules\", \"jdk.hotspot.agent\",\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/SABase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+        commandLineNormal.add(\"-XX:-StressIncrementalInlining\");\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/TestIncrementalInlining.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/TestInvalidReplayFile.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,3 +31,1 @@\n- * @run driver jdk.test.lib.helpers.ClassFileInstaller\n- * @run main\/othervm -Xbootclasspath\/a:. -XX:+UnlockDiagnosticVMOptions\n- *                   compiler.codecache.CheckCodeCacheInfo\n+ * @run driver compiler.codecache.CheckCodeCacheInfo\n@@ -71,3 +69,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintCodeCache\",\n-                                                   \"-XX:+Verbose\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createTestJavaProcessBuilder(\"-XX:+PrintCodeCache\",\n+                                                       \"-XX:+Verbose\",\n+                                                       \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/CheckCodeCacheInfo.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/CheckLargePages.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,2 +45,2 @@\n-        pb1 = ProcessTools.createJavaProcessBuilder(\"-XX:InitialCodeCacheSize=4m\", \"-XX:ReservedCodeCacheSize=8m\", \"-version\");\n-        pb2 = ProcessTools.createJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=8m\", \"-XX:InitialCodeCacheSize=4m\", \"-version\");\n+        pb1 = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:InitialCodeCacheSize=4m\", \"-XX:ReservedCodeCacheSize=8m\", \"-version\");\n+        pb2 = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=8m\", \"-XX:InitialCodeCacheSize=4m\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/CheckReservedInitialCodeCacheSizeArgOrder.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,3 +92,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=239m\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=239m\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -98,3 +98,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:-TieredCompilation\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:-TieredCompilation\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -104,4 +104,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+TieredCompilation\",\n-                                                   \"-XX:ReservedCodeCacheSize=240m\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+TieredCompilation\",\n+                                                              \"-XX:ReservedCodeCacheSize=240m\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -109,4 +109,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+TieredCompilation\",\n-                                                   \"-XX:ReservedCodeCacheSize=400m\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+TieredCompilation\",\n+                                                              \"-XX:ReservedCodeCacheSize=400m\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -116,5 +116,5 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n-                                                   \"-XX:-TieredCompilation\",\n-                                                   \"-XX:ReservedCodeCacheSize=239m\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n+                                                              \"-XX:-TieredCompilation\",\n+                                                              \"-XX:ReservedCodeCacheSize=239m\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -125,4 +125,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n-                                                   \"-Xint\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n+                                                              \"-Xint\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -133,4 +133,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n-                                                   \"-XX:TieredStopAtLevel=0\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n+                                                              \"-XX:TieredStopAtLevel=0\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -138,4 +138,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n-                                                   \"-XX:TieredStopAtLevel=1\",\n-                                                   \"-XX:+PrintCodeCache\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n+                                                              \"-XX:TieredStopAtLevel=1\",\n+                                                              \"-XX:+PrintCodeCache\",\n+                                                              \"-version\");\n@@ -145,2 +145,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:NonNMethodCodeHeapSize=100K\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:NonNMethodCodeHeapSize=100K\",\n+                                                              \"-version\");\n@@ -150,6 +150,6 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n-                                                   \"-XX:ReservedCodeCacheSize=10M\",\n-                                                   \"-XX:NonNMethodCodeHeapSize=5M\",\n-                                                   \"-XX:ProfiledCodeHeapSize=5M\",\n-                                                   \"-XX:NonProfiledCodeHeapSize=5M\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n+                                                              \"-XX:ReservedCodeCacheSize=10M\",\n+                                                              \"-XX:NonNMethodCodeHeapSize=5M\",\n+                                                              \"-XX:ProfiledCodeHeapSize=5M\",\n+                                                              \"-XX:NonProfiledCodeHeapSize=5M\",\n+                                                              \"-version\");\n@@ -162,4 +162,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n-                                                   \"-XX:ReservedCodeCacheSize=\" + minSize,\n-                                                   \"-XX:InitialCodeCacheSize=100K\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+SegmentedCodeCache\",\n+                                                              \"-XX:ReservedCodeCacheSize=\" + minSize,\n+                                                              \"-XX:InitialCodeCacheSize=100K\",\n+                                                              \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/CheckSegmentedCodeCache.java","additions":44,"deletions":44,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=2049m\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=2049m\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/CheckUpperLimit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+ * @requires vm.compMode != \"Xint\"\n@@ -57,1 +58,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/CodeCacheFullCountTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/cli\/TestSegmentedCodeCacheOption.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/cli\/codeheapsize\/TestCodeHeapSizeOptions.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/cli\/printcodecache\/TestPrintCodeCacheOption.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -55,1 +55,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/compilercontrol\/TestConflictInlineCommands.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+RestoreMXCSROnJNICalls\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+RestoreMXCSROnJNICalls\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/cpuflags\/RestoreMXCSR.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -61,1 +61,1 @@\n-            new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(procArgs).start())\n+            new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(procArgs).start())\n","filename":"test\/hotspot\/jtreg\/compiler\/debug\/TestGenerateStressSeed.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-        ProcessBuilder pb  = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb  = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/debug\/TestStressCM.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-            \"-Xcomp\", \"-XX:-TieredCompilation\", \"-XX:-Inline\",\n+            \"-Xcomp\", \"-XX:-TieredCompilation\", \"-XX:-Inline\", \"-XX:+CICountNative\",\n@@ -51,1 +51,1 @@\n-        ProcessBuilder pb  = ProcessTools.createJavaProcessBuilder(procArgs);\n+        ProcessBuilder pb  = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/debug\/TestStressIGVNAndCCP.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xcomp\", \"-XX:+IgnoreUnrecognizedVMOptions\",\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xcomp\", \"-XX:+IgnoreUnrecognizedVMOptions\",\n","filename":"test\/hotspot\/jtreg\/compiler\/debug\/VerifyAdapterSharing.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/escapeAnalysis\/TestIterativeEA.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -100,1 +100,0 @@\n- *                   -XX:+IgnoreUnrecognizedVMOptions -XX:+ShenandoahVerifyOptoBarriers\n","filename":"test\/hotspot\/jtreg\/compiler\/gcbarriers\/UnsafeIntrinsicsTest.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/inlining\/InlineAccessors.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/inlining\/PrintInlining.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -81,1 +81,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -118,1 +118,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/inlining\/ResolvedClassTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,1 @@\n+import java.util.HexFormat;\n@@ -53,0 +54,2 @@\n+import static java.lang.String.format;\n+\n@@ -72,0 +75,2 @@\n+        length_checks();\n+\n@@ -305,0 +310,114 @@\n+\n+    static final int POSITIONS = 30_000;\n+    static final int BASE_LENGTH = 256;\n+    static final HexFormat HEX_FORMAT = HexFormat.of().withUpperCase().withDelimiter(\" \");\n+\n+    static int[] plainOffsets = new int[POSITIONS + 1];\n+    static byte[] plainBytes;\n+    static int[] base64Offsets = new int[POSITIONS + 1];\n+    static byte[] base64Bytes;\n+\n+    static {\n+        \/\/ Set up ByteBuffer with characters to be encoded\n+        int plainLength = 0;\n+        for (int i = 0; i < plainOffsets.length; i++) {\n+            plainOffsets[i] = plainLength;\n+            int positionLength = (BASE_LENGTH + i) % 2048;\n+            plainLength += positionLength;\n+        }\n+        \/\/ Put one of each possible byte value into ByteBuffer\n+        plainBytes = new byte[plainLength];\n+        for (int i = 0; i < plainBytes.length; i++) {\n+            plainBytes[i] = (byte) i;\n+        }\n+\n+        \/\/ Grab various slices of the ByteBuffer and encode them\n+        ByteBuffer plainBuffer = ByteBuffer.wrap(plainBytes);\n+        int base64Length = 0;\n+        for (int i = 0; i < POSITIONS; i++) {\n+            base64Offsets[i] = base64Length;\n+            int offset = plainOffsets[i];\n+            int length = plainOffsets[i + 1] - offset;\n+            ByteBuffer plainSlice = plainBuffer.slice(offset, length);\n+            base64Length += Base64.getEncoder().encode(plainSlice).remaining();\n+        }\n+\n+        \/\/ Decode the slices created above and ensure lengths match\n+        base64Offsets[base64Offsets.length - 1] = base64Length;\n+        base64Bytes = new byte[base64Length];\n+        for (int i = 0; i < POSITIONS; i++) {\n+            int plainOffset = plainOffsets[i];\n+            ByteBuffer plainSlice = plainBuffer.slice(plainOffset, plainOffsets[i + 1] - plainOffset);\n+            ByteBuffer encodedBytes = Base64.getEncoder().encode(plainSlice);\n+            int base64Offset = base64Offsets[i];\n+            int expectedLength = base64Offsets[i + 1] - base64Offset;\n+            if (expectedLength != encodedBytes.remaining()) {\n+                throw new IllegalStateException(format(\"Unexpected length: %s <> %s\", encodedBytes.remaining(), expectedLength));\n+            }\n+            encodedBytes.get(base64Bytes, base64Offset, expectedLength);\n+        }\n+    }\n+\n+    public static void length_checks() {\n+        decodeAndCheck();\n+        encodeDecode();\n+        System.out.println(\"Test complete, no invalid decodes detected\");\n+    }\n+\n+    \/\/ Use ByteBuffer to cause decode() to use the base + offset form of decode\n+    \/\/ Checks for bug reported in JDK-8321599 where padding characters appear\n+    \/\/ within the beginning of the ByteBuffer *before* the offset.  This caused\n+    \/\/ the decoded string length to be off by 1 or 2 bytes.\n+    static void decodeAndCheck() {\n+        for (int i = 0; i < POSITIONS; i++) {\n+            ByteBuffer encodedBytes = base64BytesAtPosition(i);\n+            ByteBuffer decodedBytes = Base64.getDecoder().decode(encodedBytes);\n+\n+            if (!decodedBytes.equals(plainBytesAtPosition(i))) {\n+                String base64String = base64StringAtPosition(i);\n+                String plainHexString = plainHexStringAtPosition(i);\n+                String decodedHexString = HEX_FORMAT.formatHex(decodedBytes.array(), decodedBytes.arrayOffset() + decodedBytes.position(), decodedBytes.arrayOffset() + decodedBytes.limit());\n+                throw new IllegalStateException(format(\"Mismatch for %s\\n\\nExpected:\\n%s\\n\\nActual:\\n%s\", base64String, plainHexString, decodedHexString));\n+            }\n+        }\n+    }\n+\n+    \/\/ Encode strings of lengths 1-1K, decode, and ensure length and contents correct.\n+    \/\/ This checks that padding characters are properly handled by decode.\n+    static void encodeDecode() {\n+        String allAs = \"A(=)\".repeat(128);\n+        for (int i = 1; i <= 512; i++) {\n+            String encStr = Base64.getEncoder().encodeToString(allAs.substring(0, i).getBytes());\n+            String decStr = new String(Base64.getDecoder().decode(encStr));\n+\n+            if ((decStr.length() != allAs.substring(0, i).length()) ||\n+                (!Objects.equals(decStr, allAs.substring(0, i)))\n+               ) {\n+                throw new IllegalStateException(format(\"Mismatch: Expected: %s\\n          Actual: %s\\n\", allAs.substring(0, i), decStr));\n+            }\n+        }\n+    }\n+\n+    static ByteBuffer plainBytesAtPosition(int position) {\n+        int offset = plainOffsets[position];\n+        int length = plainOffsets[position + 1] - offset;\n+        return ByteBuffer.wrap(plainBytes, offset, length);\n+    }\n+\n+    static String plainHexStringAtPosition(int position) {\n+        int offset = plainOffsets[position];\n+        int length = plainOffsets[position + 1] - offset;\n+        return HEX_FORMAT.formatHex(plainBytes, offset, offset + length);\n+    }\n+\n+    static String base64StringAtPosition(int position) {\n+        int offset = base64Offsets[position];\n+        int length = base64Offsets[position + 1] - offset;\n+        return new String(base64Bytes, offset, length, StandardCharsets.UTF_8);\n+    }\n+\n+    static ByteBuffer base64BytesAtPosition(int position) {\n+        int offset = base64Offsets[position];\n+        int length = base64Offsets[position + 1] - offset;\n+        return ByteBuffer.wrap(base64Bytes, offset, length);\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/base64\/TestBase64.java","additions":120,"deletions":1,"binary":false,"changes":121,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -130,1 +130,1 @@\n-                    ProcessBuilder pb = ProcessTools.createTestJvm(\n+                    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/chacha\/TestChaCha20.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- *                   -XX:-AlwaysIncrementalInline\n+ *                   -XX:-AlwaysIncrementalInline -XX:-StressIncrementalInlining\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/klass\/CastNullCheckDroppingsTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run main\/othervm -Xbatch -XX:CompileThreshold=100 compiler.intrinsics.string.TestStringIntrinsicRangeChecks\n+ * @run main\/othervm\/timeout=300 -Xbatch -XX:CompileThreshold=100 compiler.intrinsics.string.TestStringIntrinsicRangeChecks\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/string\/TestStringIntrinsicRangeChecks.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(argsList);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(argsList);\n","filename":"test\/hotspot\/jtreg\/compiler\/jsr292\/ContinuousCallSiteTargetChange.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jsr292\/MHInlineTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jsr292\/PollutedTrapCounts.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/TestEnableJVMCIProduct.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/TestInvalidJVMCIOption.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/TestJVMCIPrintProperties.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/TestUncaughtErrorInCompileMethod.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/compilerToVM\/GetFlagValueTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -162,1 +162,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/jdk.vm.ci.hotspot.test\/src\/jdk\/vm\/ci\/hotspot\/test\/TestHotSpotJVMCIRuntime.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n@@ -72,0 +73,11 @@\n+ *     <li><p>Vector IR nodes:  The IR node placeholder string contains an additional {@link #VECTOR_PREFIX}.\n+ *                              Using this IR node, one can check for the type and size of a vector. The type must\n+ *                              be directly specified in {@link #vectorNode}. The size can be specified directly with\n+ *                              an additional argument using {@link #VECTOR_SIZE}, followed by a size tag or a comma\n+ *                              separated list of sizes. If the size argument is not given, then a default size of\n+ *                              {@link #VECTOR_SIZE_MAX} is taken, which is the number of elements that can fit in a\n+ *                              vector of the specified type (depends on the VM flag MaxVectorSize and CPU features).\n+ *                              However, when using {@link IR#failOn} or {@link IR#counts()} with comparison {@code <},\n+ *                              or {@code <=} or {@code =0}, the default size is {@link #VECTOR_SIZE_ANY}, allowing any\n+ *                              size. The motivation for these default values is that in most cases one wants to have\n+ *                              vectorization with maximal vector width, or no vectorization of any vector width.\n@@ -83,0 +95,5 @@\n+    \/**\n+     * Prefix for vector IR nodes.\n+     *\/\n+    private static final String VECTOR_PREFIX = PREFIX + \"V#\";\n+\n@@ -93,0 +110,19 @@\n+    public static final String VECTOR_SIZE = \"_@\";\n+    public static final String VECTOR_SIZE_TAG_ANY = \"any\";\n+    public static final String VECTOR_SIZE_TAG_MAX = \"max_for_type\";\n+    public static final String VECTOR_SIZE_ANY = VECTOR_SIZE + VECTOR_SIZE_TAG_ANY; \/\/ default for counts \"=0\" and failOn\n+    public static final String VECTOR_SIZE_MAX = VECTOR_SIZE + VECTOR_SIZE_TAG_MAX; \/\/ default in counts\n+    public static final String VECTOR_SIZE_2   = VECTOR_SIZE + \"2\";\n+    public static final String VECTOR_SIZE_4   = VECTOR_SIZE + \"4\";\n+    public static final String VECTOR_SIZE_8   = VECTOR_SIZE + \"8\";\n+    public static final String VECTOR_SIZE_16  = VECTOR_SIZE + \"16\";\n+    public static final String VECTOR_SIZE_32  = VECTOR_SIZE + \"32\";\n+    public static final String VECTOR_SIZE_64  = VECTOR_SIZE + \"64\";\n+\n+    private static final String TYPE_BYTE   = \"byte\";\n+    private static final String TYPE_CHAR   = \"char\";\n+    private static final String TYPE_SHORT  = \"short\";\n+    private static final String TYPE_INT    = \"int\";\n+    private static final String TYPE_LONG   = \"long\";\n+    private static final String TYPE_FLOAT  = \"float\";\n+    private static final String TYPE_DOUBLE = \"double\";\n@@ -99,0 +135,5 @@\n+    \/**\n+     * Map every vectorNode to a type string.\n+     *\/\n+    private static final Map<String, String> VECTOR_NODE_TYPE = new HashMap<>();\n+\n@@ -102,1 +143,1 @@\n-     * nodes (see class description above).\n+     * nodes, or VECTOR_PREFIX for vector nodes (see class description above).\n@@ -106,1 +147,1 @@\n-     * public static final String IR_NODE = [PREFIX|COMPOSITE_PREFIX] + \"IR_NODE\" + POSTFIX;\n+     * public static final String IR_NODE = [PREFIX|COMPOSITE_PREFIX|VECTOR_PREFIX] + \"IR_NODE\" + POSTFIX;\n@@ -134,1 +175,28 @@\n-    public static final String ABS_V = PREFIX + \"ABS_V\" + POSTFIX;\n+    public static final String ABS_VB = VECTOR_PREFIX + \"ABS_VB\" + POSTFIX;\n+    static {\n+        vectorNode(ABS_VB, \"AbsVB\", TYPE_BYTE);\n+    }\n+\n+    \/\/ ABS_VC \/ AbsVC does not exist (char is 2 byte unsigned)\n+\n+    public static final String ABS_VS = VECTOR_PREFIX + \"ABS_VS\" + POSTFIX;\n+    static {\n+        vectorNode(ABS_VS, \"AbsVS\", TYPE_SHORT);\n+    }\n+\n+    public static final String ABS_VI = VECTOR_PREFIX + \"ABS_VI\" + POSTFIX;\n+    static {\n+        vectorNode(ABS_VI, \"AbsVI\", TYPE_INT);\n+    }\n+\n+    public static final String ABS_VL = VECTOR_PREFIX + \"ABS_VL\" + POSTFIX;\n+    static {\n+        vectorNode(ABS_VL, \"AbsVL\", TYPE_LONG);\n+    }\n+\n+    public static final String ABS_VF = VECTOR_PREFIX + \"ABS_VF\" + POSTFIX;\n+    static {\n+        vectorNode(ABS_VF, \"AbsVF\", TYPE_FLOAT);\n+    }\n+\n+    public static final String ABS_VD = VECTOR_PREFIX + \"ABS_VD\" + POSTFIX;\n@@ -136,1 +204,1 @@\n-        beforeMatchingNameRegex(ABS_V, \"AbsV(B|S|I|L|F|D)\");\n+        vectorNode(ABS_VD, \"AbsVD\", TYPE_DOUBLE);\n@@ -154,1 +222,6 @@\n-    public static final String ADD_V = PREFIX + \"ADD_V\" + POSTFIX;\n+    public static final String ADD_VD = VECTOR_PREFIX + \"ADD_VD\" + POSTFIX;\n+    static {\n+        vectorNode(ADD_VD, \"AddVD\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String ADD_VI = VECTOR_PREFIX + \"ADD_VI\" + POSTFIX;\n@@ -156,1 +229,1 @@\n-        beforeMatchingNameRegex(ADD_V, \"AddV(B|S|I|L|F|D)\");\n+        vectorNode(ADD_VI, \"AddVI\", TYPE_INT);\n@@ -159,1 +232,1 @@\n-    public static final String ADD_VD = PREFIX + \"ADD_VD\" + POSTFIX;\n+    public static final String ADD_VF = VECTOR_PREFIX + \"ADD_VF\" + POSTFIX;\n@@ -161,1 +234,1 @@\n-        beforeMatchingNameRegex(ADD_VD, \"AddVD\");\n+        vectorNode(ADD_VF, \"AddVF\", TYPE_FLOAT);\n@@ -164,1 +237,1 @@\n-    public static final String ADD_VI = PREFIX + \"ADD_VI\" + POSTFIX;\n+    public static final String ADD_VB = VECTOR_PREFIX + \"ADD_VB\" + POSTFIX;\n@@ -166,1 +239,1 @@\n-        beforeMatchingNameRegex(ADD_VI, \"AddVI\");\n+        vectorNode(ADD_VB, \"AddVB\", TYPE_BYTE);\n@@ -169,1 +242,1 @@\n-    public static final String ADD_VF = PREFIX + \"ADD_VF\" + POSTFIX;\n+    public static final String ADD_VS = VECTOR_PREFIX + \"ADD_VS\" + POSTFIX;\n@@ -171,1 +244,6 @@\n-        beforeMatchingNameRegex(ADD_VF, \"AddVF\");\n+        vectorNode(ADD_VS, \"AddVS\", TYPE_SHORT);\n+    }\n+\n+    public static final String ADD_VL = VECTOR_PREFIX + \"ADD_VL\" + POSTFIX;\n+    static {\n+        vectorNode(ADD_VL, \"AddVL\", TYPE_LONG);\n@@ -238,1 +316,21 @@\n-    public static final String AND_V = PREFIX + \"AND_V\" + POSTFIX;\n+    public static final String AND_VB = VECTOR_PREFIX + \"AND_VB\" + POSTFIX;\n+    static {\n+        vectorNode(AND_VB, \"AndV\", TYPE_BYTE);\n+    }\n+\n+    public static final String AND_VC = VECTOR_PREFIX + \"AND_VC\" + POSTFIX;\n+    static {\n+        vectorNode(AND_VC, \"AndV\", TYPE_CHAR);\n+    }\n+\n+    public static final String AND_VS = VECTOR_PREFIX + \"AND_VS\" + POSTFIX;\n+    static {\n+        vectorNode(AND_VS, \"AndV\", TYPE_SHORT);\n+    }\n+\n+    public static final String AND_VI = VECTOR_PREFIX + \"AND_VI\" + POSTFIX;\n+    static {\n+        vectorNode(AND_VI, \"AndV\", TYPE_INT);\n+    }\n+\n+    public static final String AND_VL = VECTOR_PREFIX + \"AND_VL\" + POSTFIX;\n@@ -240,1 +338,1 @@\n-        beforeMatchingNameRegex(AND_V, \"AndV\");\n+        vectorNode(AND_VL, \"AndV\", TYPE_LONG);\n@@ -389,1 +487,1 @@\n-    public static final String DIV_V = PREFIX + \"DIV_V\" + POSTFIX;\n+    public static final String DIV_VF = VECTOR_PREFIX + \"DIV_VF\" + POSTFIX;\n@@ -391,1 +489,6 @@\n-        beforeMatchingNameRegex(DIV_V, \"DivV(F|D)\");\n+        vectorNode(DIV_VF, \"DivVF\", TYPE_FLOAT);\n+    }\n+\n+    public static final String DIV_VD = VECTOR_PREFIX + \"DIV_VD\" + POSTFIX;\n+    static {\n+        vectorNode(DIV_VD, \"DivVD\", TYPE_DOUBLE);\n@@ -421,1 +524,6 @@\n-    public static final String FMA_V = PREFIX + \"FMA_V\" + POSTFIX;\n+    public static final String FMA_VF = VECTOR_PREFIX + \"FMA_VF\" + POSTFIX;\n+    static {\n+        vectorNode(FMA_VF, \"FmaVF\", TYPE_FLOAT);\n+    }\n+\n+    public static final String FMA_VD = VECTOR_PREFIX + \"FMA_VD\" + POSTFIX;\n@@ -423,1 +531,1 @@\n-        beforeMatchingNameRegex(FMA_V, \"FmaV(F|D)\");\n+        vectorNode(FMA_VD, \"FmaVD\", TYPE_DOUBLE);\n@@ -585,1 +693,26 @@\n-    public static final String LOAD_VECTOR = PREFIX + \"LOAD_VECTOR\" + POSTFIX;\n+    public static final String LOAD_VECTOR_B = VECTOR_PREFIX + \"LOAD_VECTOR_B\" + POSTFIX;\n+    static {\n+        vectorNode(LOAD_VECTOR_B, \"LoadVector\", TYPE_BYTE);\n+    }\n+\n+    public static final String LOAD_VECTOR_C = VECTOR_PREFIX + \"LOAD_VECTOR_C\" + POSTFIX;\n+    static {\n+        vectorNode(LOAD_VECTOR_C, \"LoadVector\", TYPE_CHAR);\n+    }\n+\n+    public static final String LOAD_VECTOR_S = VECTOR_PREFIX + \"LOAD_VECTOR_S\" + POSTFIX;\n+    static {\n+        vectorNode(LOAD_VECTOR_S, \"LoadVector\", TYPE_SHORT);\n+    }\n+\n+    public static final String LOAD_VECTOR_I = VECTOR_PREFIX + \"LOAD_VECTOR_I\" + POSTFIX;\n+    static {\n+        vectorNode(LOAD_VECTOR_I, \"LoadVector\", TYPE_INT);\n+    }\n+\n+    public static final String LOAD_VECTOR_L = VECTOR_PREFIX + \"LOAD_VECTOR_L\" + POSTFIX;\n+    static {\n+        vectorNode(LOAD_VECTOR_L, \"LoadVector\", TYPE_LONG);\n+    }\n+\n+    public static final String LOAD_VECTOR_F = VECTOR_PREFIX + \"LOAD_VECTOR_F\" + POSTFIX;\n@@ -587,1 +720,6 @@\n-        beforeMatchingNameRegex(LOAD_VECTOR, \"LoadVector\");\n+        vectorNode(LOAD_VECTOR_F, \"LoadVector\", TYPE_FLOAT);\n+    }\n+\n+    public static final String LOAD_VECTOR_D = VECTOR_PREFIX + \"LOAD_VECTOR_D\" + POSTFIX;\n+    static {\n+        vectorNode(LOAD_VECTOR_D, \"LoadVector\", TYPE_DOUBLE);\n@@ -627,1 +765,11 @@\n-    public static final String LSHIFT_V = PREFIX + \"LSHIFT_V\" + POSTFIX;\n+    public static final String LSHIFT_VB = VECTOR_PREFIX + \"LSHIFT_VB\" + POSTFIX;\n+    static {\n+        vectorNode(LSHIFT_VB, \"LShiftVB\", TYPE_BYTE);\n+    }\n+\n+    public static final String LSHIFT_VS = VECTOR_PREFIX + \"LSHIFT_VS\" + POSTFIX;\n+    static {\n+        vectorNode(LSHIFT_VS, \"LShiftVS\", TYPE_SHORT);\n+    }\n+\n+    public static final String LSHIFT_VC = VECTOR_PREFIX + \"LSHIFT_VC\" + POSTFIX;\n@@ -629,1 +777,11 @@\n-        beforeMatchingNameRegex(LSHIFT_V, \"LShiftV(B|S|I|L)\");\n+        vectorNode(LSHIFT_VC, \"LShiftVS\", TYPE_CHAR); \/\/ using short op with char type\n+    }\n+\n+    public static final String LSHIFT_VI = VECTOR_PREFIX + \"LSHIFT_VI\" + POSTFIX;\n+    static {\n+        vectorNode(LSHIFT_VI, \"LShiftVI\", TYPE_INT);\n+    }\n+\n+    public static final String LSHIFT_VL = VECTOR_PREFIX + \"LSHIFT_VL\" + POSTFIX;\n+    static {\n+        vectorNode(LSHIFT_VL, \"LShiftVL\", TYPE_LONG);\n@@ -672,1 +830,1 @@\n-    public static final String MAX_V = PREFIX + \"MAX_V\" + POSTFIX;\n+    public static final String MAX_VI = VECTOR_PREFIX + \"MAX_VI\" + POSTFIX;\n@@ -674,1 +832,11 @@\n-        beforeMatchingNameRegex(MAX_V, \"MaxV\");\n+        vectorNode(MAX_VI, \"MaxV\", TYPE_INT);\n+    }\n+\n+    public static final String MAX_VF = VECTOR_PREFIX + \"MAX_VF\" + POSTFIX;\n+    static {\n+        vectorNode(MAX_VF, \"MaxV\", TYPE_FLOAT);\n+    }\n+\n+    public static final String MAX_VD = VECTOR_PREFIX + \"MAX_VD\" + POSTFIX;\n+    static {\n+        vectorNode(MAX_VD, \"MaxV\", TYPE_DOUBLE);\n@@ -722,1 +890,6 @@\n-    public static final String MIN_V = PREFIX + \"MIN_V\" + POSTFIX;\n+    public static final String MIN_VI = VECTOR_PREFIX + \"MIN_VI\" + POSTFIX;\n+    static {\n+        vectorNode(MIN_VI, \"MinV\", TYPE_INT);\n+    }\n+\n+    public static final String MIN_VF = VECTOR_PREFIX + \"MIN_VF\" + POSTFIX;\n@@ -724,1 +897,6 @@\n-        beforeMatchingNameRegex(MIN_V, \"MinV\");\n+        vectorNode(MIN_VF, \"MinV\", TYPE_FLOAT);\n+    }\n+\n+    public static final String MIN_VD = VECTOR_PREFIX + \"MIN_VD\" + POSTFIX;\n+    static {\n+        vectorNode(MIN_VD, \"MinV\", TYPE_DOUBLE);\n@@ -752,1 +930,6 @@\n-    public static final String MUL_V = PREFIX + \"MUL_V\" + POSTFIX;\n+    public static final String MUL_VL = VECTOR_PREFIX + \"MUL_VL\" + POSTFIX;\n+    static {\n+        vectorNode(MUL_VL, \"MulVL\", TYPE_LONG);\n+    }\n+\n+    public static final String MUL_VI = VECTOR_PREFIX + \"MUL_VI\" + POSTFIX;\n@@ -754,1 +937,1 @@\n-        beforeMatchingNameRegex(MUL_V, \"MulV(B|S|I|L|F|D)\");\n+        vectorNode(MUL_VI, \"MulVI\", TYPE_INT);\n@@ -757,1 +940,1 @@\n-    public static final String MUL_VL = PREFIX + \"MUL_VL\" + POSTFIX;\n+    public static final String MUL_VF = VECTOR_PREFIX + \"MUL_VF\" + POSTFIX;\n@@ -759,1 +942,1 @@\n-        beforeMatchingNameRegex(MUL_VL, \"MulVL\");\n+        vectorNode(MUL_VF, \"MulVF\", TYPE_FLOAT);\n@@ -762,1 +945,1 @@\n-    public static final String MUL_VI = PREFIX + \"MUL_VI\" + POSTFIX;\n+    public static final String MUL_VD = VECTOR_PREFIX + \"MUL_VD\" + POSTFIX;\n@@ -764,1 +947,1 @@\n-        beforeMatchingNameRegex(MUL_VI, \"MulVI\");\n+        vectorNode(MUL_VD, \"MulVD\", TYPE_DOUBLE);\n@@ -767,1 +950,1 @@\n-    public static final String MUL_VF = PREFIX + \"MUL_VF\" + POSTFIX;\n+    public static final String MUL_VB = VECTOR_PREFIX + \"MUL_VB\" + POSTFIX;\n@@ -769,1 +952,1 @@\n-        beforeMatchingNameRegex(MUL_VF, \"MulVF\");\n+        vectorNode(MUL_VB, \"MulVB\", TYPE_BYTE);\n@@ -772,1 +955,1 @@\n-    public static final String MUL_VD = PREFIX + \"MUL_VD\" + POSTFIX;\n+    public static final String MUL_VS = VECTOR_PREFIX + \"MUL_VS\" + POSTFIX;\n@@ -774,1 +957,1 @@\n-        beforeMatchingNameRegex(MUL_VD, \"MulVD\");\n+        vectorNode(MUL_VS, \"MulVS\", TYPE_SHORT);\n@@ -807,1 +990,1 @@\n-    public static final String NEG_V = PREFIX + \"NEG_V\" + POSTFIX;\n+    public static final String NEG_VF = VECTOR_PREFIX + \"NEG_VF\" + POSTFIX;\n@@ -809,1 +992,6 @@\n-        beforeMatchingNameRegex(NEG_V, \"NegV(F|D)\");\n+        vectorNode(NEG_VF, \"NegVF\", TYPE_FLOAT);\n+    }\n+\n+    public static final String NEG_VD = VECTOR_PREFIX + \"NEG_VD\" + POSTFIX;\n+    static {\n+        vectorNode(NEG_VD, \"NegVD\", TYPE_DOUBLE);\n@@ -822,1 +1010,11 @@\n-    public static final String OR_V = PREFIX + \"OR_V\" + POSTFIX;\n+    public static final String OR_VB = VECTOR_PREFIX + \"OR_VB\" + POSTFIX;\n+    static {\n+        vectorNode(OR_VB, \"OrV\", TYPE_BYTE);\n+    }\n+\n+    public static final String OR_VS = VECTOR_PREFIX + \"OR_VS\" + POSTFIX;\n+    static {\n+        vectorNode(OR_VS, \"OrV\", TYPE_SHORT);\n+    }\n+\n+    public static final String OR_VI = VECTOR_PREFIX + \"OR_VI\" + POSTFIX;\n@@ -824,1 +1022,6 @@\n-        beforeMatchingNameRegex(OR_V, \"OrV\");\n+        vectorNode(OR_VI, \"OrV\", TYPE_INT);\n+    }\n+\n+    public static final String OR_VL = VECTOR_PREFIX + \"OR_VL\" + POSTFIX;\n+    static {\n+        vectorNode(OR_VL, \"OrV\", TYPE_LONG);\n@@ -853,1 +1056,1 @@\n-    public static final String POPCOUNT_VI = PREFIX + \"POPCOUNT_VI\" + POSTFIX;\n+    public static final String POPCOUNT_VI = VECTOR_PREFIX + \"POPCOUNT_VI\" + POSTFIX;\n@@ -855,1 +1058,1 @@\n-        superWordNodes(POPCOUNT_VI, \"PopCountVI\");\n+        vectorNode(POPCOUNT_VI, \"PopCountVI\", TYPE_INT);\n@@ -858,1 +1061,1 @@\n-    public static final String POPCOUNT_VL = PREFIX + \"POPCOUNT_VL\" + POSTFIX;\n+    public static final String POPCOUNT_VL = VECTOR_PREFIX + \"POPCOUNT_VL\" + POSTFIX;\n@@ -860,1 +1063,1 @@\n-        superWordNodes(POPCOUNT_VL, \"PopCountVL\");\n+        vectorNode(POPCOUNT_VL, \"PopCountVL\", TYPE_LONG);\n@@ -863,1 +1066,1 @@\n-    public static final String COUNTTRAILINGZEROS_VL = PREFIX + \"COUNTTRAILINGZEROS_VL\" + POSTFIX;\n+    public static final String COUNTTRAILINGZEROS_VL = VECTOR_PREFIX + \"COUNTTRAILINGZEROS_VL\" + POSTFIX;\n@@ -865,1 +1068,1 @@\n-        superWordNodes(COUNTTRAILINGZEROS_VL, \"CountTrailingZerosV\");\n+        vectorNode(COUNTTRAILINGZEROS_VL, \"CountTrailingZerosV\", TYPE_LONG);\n@@ -868,1 +1071,1 @@\n-    public static final String COUNTLEADINGZEROS_VL = PREFIX + \"COUNTLEADINGZEROS_VL\" + POSTFIX;\n+    public static final String COUNTLEADINGZEROS_VL = VECTOR_PREFIX + \"COUNTLEADINGZEROS_VL\" + POSTFIX;\n@@ -870,1 +1073,1 @@\n-        superWordNodes(COUNTLEADINGZEROS_VL, \"CountLeadingZerosV\");\n+        vectorNode(COUNTLEADINGZEROS_VL, \"CountLeadingZerosV\", TYPE_LONG);\n@@ -939,1 +1142,16 @@\n-    public static final String REVERSE_BYTES_V = PREFIX + \"REVERSE_BYTES_V\" + POSTFIX;\n+    public static final String REVERSE_BYTES_VB = VECTOR_PREFIX + \"REVERSE_BYTES_VB\" + POSTFIX;\n+    static {\n+        vectorNode(REVERSE_BYTES_VB, \"ReverseBytesV\", TYPE_BYTE);\n+    }\n+\n+    public static final String REVERSE_BYTES_VS = VECTOR_PREFIX + \"REVERSE_BYTES_VS\" + POSTFIX;\n+    static {\n+        vectorNode(REVERSE_BYTES_VS, \"ReverseBytesV\", TYPE_SHORT);\n+    }\n+\n+    public static final String REVERSE_BYTES_VI = VECTOR_PREFIX + \"REVERSE_BYTES_VI\" + POSTFIX;\n+    static {\n+        vectorNode(REVERSE_BYTES_VI, \"ReverseBytesV\", TYPE_INT);\n+    }\n+\n+    public static final String REVERSE_BYTES_VL = VECTOR_PREFIX + \"REVERSE_BYTES_VL\" + POSTFIX;\n@@ -941,1 +1159,1 @@\n-        beforeMatchingNameRegex(REVERSE_BYTES_V, \"ReverseBytesV\");\n+        vectorNode(REVERSE_BYTES_VL, \"ReverseBytesV\", TYPE_LONG);\n@@ -954,1 +1172,6 @@\n-    public static final String REVERSE_V = PREFIX + \"REVERSE_V\" + POSTFIX;\n+    public static final String REVERSE_VI = VECTOR_PREFIX + \"REVERSE_VI\" + POSTFIX;\n+    static {\n+        vectorNode(REVERSE_VI, \"ReverseV\", TYPE_INT);\n+    }\n+\n+    public static final String REVERSE_VL = VECTOR_PREFIX + \"REVERSE_VL\" + POSTFIX;\n@@ -956,1 +1179,1 @@\n-        beforeMatchingNameRegex(REVERSE_V, \"ReverseV\");\n+        vectorNode(REVERSE_VL, \"ReverseV\", TYPE_LONG);\n@@ -959,1 +1182,1 @@\n-    public static final String ROUND_VD = PREFIX + \"ROUND_VD\" + POSTFIX;\n+    public static final String ROUND_VD = VECTOR_PREFIX + \"ROUND_VD\" + POSTFIX;\n@@ -961,1 +1184,1 @@\n-        beforeMatchingNameRegex(ROUND_VD, \"RoundVD\");\n+        vectorNode(ROUND_VD, \"RoundVD\", TYPE_LONG);\n@@ -964,1 +1187,1 @@\n-    public static final String ROUND_VF = PREFIX + \"ROUND_VF\" + POSTFIX;\n+    public static final String ROUND_VF = VECTOR_PREFIX + \"ROUND_VF\" + POSTFIX;\n@@ -966,1 +1189,1 @@\n-        beforeMatchingNameRegex(ROUND_VF, \"RoundVF\");\n+        vectorNode(ROUND_VF, \"RoundVF\", TYPE_INT);\n@@ -989,1 +1212,1 @@\n-    public static final String ROUND_DOUBLE_MODE_V = PREFIX + \"ROUND_DOUBLE_MODE_V\" + POSTFIX;\n+    public static final String ROUND_DOUBLE_MODE_V = VECTOR_PREFIX + \"ROUND_DOUBLE_MODE_V\" + POSTFIX;\n@@ -991,1 +1214,1 @@\n-        beforeMatchingNameRegex(ROUND_DOUBLE_MODE_V, \"RoundDoubleModeV\");\n+        vectorNode(ROUND_DOUBLE_MODE_V, \"RoundDoubleModeV\", TYPE_DOUBLE);\n@@ -1009,1 +1232,1 @@\n-    public static final String RSHIFT_VB = PREFIX + \"RSHIFT_VB\" + POSTFIX;\n+    public static final String RSHIFT_VB = VECTOR_PREFIX + \"RSHIFT_VB\" + POSTFIX;\n@@ -1011,1 +1234,1 @@\n-        beforeMatchingNameRegex(RSHIFT_VB, \"RShiftVB\");\n+        vectorNode(RSHIFT_VB, \"RShiftVB\", TYPE_BYTE);\n@@ -1014,1 +1237,1 @@\n-    public static final String RSHIFT_VS = PREFIX + \"RSHIFT_VS\" + POSTFIX;\n+    public static final String RSHIFT_VS = VECTOR_PREFIX + \"RSHIFT_VS\" + POSTFIX;\n@@ -1016,1 +1239,1 @@\n-        beforeMatchingNameRegex(RSHIFT_VS, \"RShiftVS\");\n+        vectorNode(RSHIFT_VS, \"RShiftVS\", TYPE_SHORT);\n@@ -1019,1 +1242,1 @@\n-    public static final String RSHIFT_V = PREFIX + \"RSHIFT_V\" + POSTFIX;\n+    public static final String RSHIFT_VC = VECTOR_PREFIX + \"RSHIFT_VC\" + POSTFIX;\n@@ -1021,1 +1244,11 @@\n-        beforeMatchingNameRegex(RSHIFT_V, \"RShiftV(B|S|I|L)\");\n+        vectorNode(RSHIFT_VC, \"RShiftVS\", TYPE_CHAR); \/\/ short computation with char type\n+    }\n+\n+    public static final String RSHIFT_VI = VECTOR_PREFIX + \"RSHIFT_VI\" + POSTFIX;\n+    static {\n+        vectorNode(RSHIFT_VI, \"RShiftVI\", TYPE_INT);\n+    }\n+\n+    public static final String RSHIFT_VL = VECTOR_PREFIX + \"RSHIFT_VL\" + POSTFIX;\n+    static {\n+        vectorNode(RSHIFT_VL, \"RShiftVL\", TYPE_LONG);\n@@ -1035,1 +1268,1 @@\n-    public static final String SIGNUM_VD = PREFIX + \"SIGNUM_VD\" + POSTFIX;\n+    public static final String SIGNUM_VD = VECTOR_PREFIX + \"SIGNUM_VD\" + POSTFIX;\n@@ -1037,1 +1270,1 @@\n-        beforeMatchingNameRegex(SIGNUM_VD, \"SignumVD\");\n+        vectorNode(SIGNUM_VD, \"SignumVD\", TYPE_DOUBLE);\n@@ -1040,1 +1273,1 @@\n-    public static final String SIGNUM_VF = PREFIX + \"SIGNUM_VF\" + POSTFIX;\n+    public static final String SIGNUM_VF = VECTOR_PREFIX + \"SIGNUM_VF\" + POSTFIX;\n@@ -1042,1 +1275,1 @@\n-        beforeMatchingNameRegex(SIGNUM_VF, \"SignumVF\");\n+        vectorNode(SIGNUM_VF, \"SignumVF\", TYPE_FLOAT);\n@@ -1045,1 +1278,1 @@\n-    public static final String SQRT_V = PREFIX + \"SQRT_V\" + POSTFIX;\n+    public static final String SQRT_VF = VECTOR_PREFIX + \"SQRT_VF\" + POSTFIX;\n@@ -1047,1 +1280,6 @@\n-        beforeMatchingNameRegex(SQRT_V, \"SqrtV(F|D)\");\n+        vectorNode(SQRT_VF, \"SqrtVF\", TYPE_FLOAT);\n+    }\n+\n+    public static final String SQRT_VD = VECTOR_PREFIX + \"SQRT_VD\" + POSTFIX;\n+    static {\n+        vectorNode(SQRT_VD, \"SqrtVD\", TYPE_DOUBLE);\n@@ -1186,1 +1424,11 @@\n-    public static final String SUB_V = PREFIX + \"SUB_V\" + POSTFIX;\n+    public static final String SUB_VB = VECTOR_PREFIX + \"SUB_VB\" + POSTFIX;\n+    static {\n+        vectorNode(SUB_VB, \"SubVB\", TYPE_BYTE);\n+    }\n+\n+    public static final String SUB_VS = VECTOR_PREFIX + \"SUB_VS\" + POSTFIX;\n+    static {\n+        vectorNode(SUB_VS, \"SubVS\", TYPE_SHORT);\n+    }\n+\n+    public static final String SUB_VI = VECTOR_PREFIX + \"SUB_VI\" + POSTFIX;\n@@ -1188,1 +1436,16 @@\n-        beforeMatchingNameRegex(SUB_V, \"SubV(B|S|I|L|F|D)\");\n+        vectorNode(SUB_VI, \"SubVI\", TYPE_INT);\n+    }\n+\n+    public static final String SUB_VL = VECTOR_PREFIX + \"SUB_VL\" + POSTFIX;\n+    static {\n+        vectorNode(SUB_VL, \"SubVL\", TYPE_LONG);\n+    }\n+\n+    public static final String SUB_VF = VECTOR_PREFIX + \"SUB_VF\" + POSTFIX;\n+    static {\n+        vectorNode(SUB_VF, \"SubVF\", TYPE_FLOAT);\n+    }\n+\n+    public static final String SUB_VD = VECTOR_PREFIX + \"SUB_VD\" + POSTFIX;\n+    static {\n+        vectorNode(SUB_VD, \"SubVD\", TYPE_DOUBLE);\n@@ -1266,1 +1529,1 @@\n-    public static final String URSHIFT_V = PREFIX + \"URSHIFT_V\" + POSTFIX;\n+    public static final String URSHIFT_VB = VECTOR_PREFIX + \"URSHIFT_VB\" + POSTFIX;\n@@ -1268,1 +1531,21 @@\n-        beforeMatchingNameRegex(URSHIFT_V, \"URShiftV(B|S|I|L)\");\n+        vectorNode(URSHIFT_VB, \"URShiftVB\", TYPE_BYTE);\n+    }\n+\n+    public static final String URSHIFT_VS = VECTOR_PREFIX + \"URSHIFT_VS\" + POSTFIX;\n+    static {\n+        vectorNode(URSHIFT_VS, \"URShiftVS\", TYPE_SHORT);\n+    }\n+\n+    public static final String URSHIFT_VC = VECTOR_PREFIX + \"URSHIFT_VC\" + POSTFIX;\n+    static {\n+        vectorNode(URSHIFT_VC, \"URShiftVS\", TYPE_CHAR); \/\/ short computation with char type\n+    }\n+\n+    public static final String URSHIFT_VI = VECTOR_PREFIX + \"URSHIFT_VI\" + POSTFIX;\n+    static {\n+        vectorNode(URSHIFT_VI, \"URShiftVI\", TYPE_INT);\n+    }\n+\n+    public static final String URSHIFT_VL = VECTOR_PREFIX + \"URSHIFT_VL\" + POSTFIX;\n+    static {\n+        vectorNode(URSHIFT_VL, \"URShiftVL\", TYPE_LONG);\n@@ -1281,1 +1564,81 @@\n-    public static final String VECTOR_BLEND = PREFIX + \"VECTOR_BLEND\" + POSTFIX;\n+    public static final String VECTOR_BLEND_B = VECTOR_PREFIX + \"VECTOR_BLEND_B\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_BLEND_B, \"VectorBlend\", TYPE_BYTE);\n+    }\n+\n+    public static final String VECTOR_BLEND_F = VECTOR_PREFIX + \"VECTOR_BLEND_F\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_BLEND_F, \"VectorBlend\", TYPE_FLOAT);\n+    }\n+\n+    public static final String VECTOR_BLEND_D = VECTOR_PREFIX + \"VECTOR_BLEND_D\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_BLEND_D, \"VectorBlend\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String VECTOR_MASK_CMP_I = VECTOR_PREFIX + \"VECTOR_MASK_CMP_I\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_MASK_CMP_I, \"VectorMaskCmp\", TYPE_INT);\n+    }\n+\n+    public static final String VECTOR_MASK_CMP_L = VECTOR_PREFIX + \"VECTOR_MASK_CMP_L\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_MASK_CMP_L, \"VectorMaskCmp\", TYPE_LONG);\n+    }\n+\n+    public static final String VECTOR_MASK_CMP_F = VECTOR_PREFIX + \"VECTOR_MASK_CMP_F\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_MASK_CMP_F, \"VectorMaskCmp\", TYPE_FLOAT);\n+    }\n+\n+    public static final String VECTOR_MASK_CMP_D = VECTOR_PREFIX + \"VECTOR_MASK_CMP_D\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_MASK_CMP_D, \"VectorMaskCmp\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String VECTOR_CAST_B2S = VECTOR_PREFIX + \"VECTOR_CAST_B2S\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_B2S, \"VectorCastB2X\", TYPE_SHORT);\n+    }\n+\n+    public static final String VECTOR_CAST_B2I = VECTOR_PREFIX + \"VECTOR_CAST_B2I\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_B2I, \"VectorCastB2X\", TYPE_INT);\n+    }\n+\n+    public static final String VECTOR_CAST_B2L = VECTOR_PREFIX + \"VECTOR_CAST_B2L\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_B2L, \"VectorCastB2X\", TYPE_LONG);\n+    }\n+\n+    public static final String VECTOR_CAST_B2F = VECTOR_PREFIX + \"VECTOR_CAST_B2F\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_B2F, \"VectorCastB2X\", TYPE_FLOAT);\n+    }\n+\n+    public static final String VECTOR_CAST_B2D = VECTOR_PREFIX + \"VECTOR_CAST_B2D\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_B2D, \"VectorCastB2X\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String VECTOR_CAST_D2B = VECTOR_PREFIX + \"VECTOR_CAST_D2B\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_D2B, \"VectorCastD2X\", TYPE_BYTE);\n+    }\n+\n+    public static final String VECTOR_CAST_D2S = VECTOR_PREFIX + \"VECTOR_CAST_D2S\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_D2S, \"VectorCastD2X\", TYPE_SHORT);\n+    }\n+\n+    public static final String VECTOR_CAST_D2I = VECTOR_PREFIX + \"VECTOR_CAST_D2I\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_D2I, \"VectorCastD2X\", TYPE_INT);\n+    }\n+\n+    public static final String VECTOR_CAST_D2L = VECTOR_PREFIX + \"VECTOR_CAST_D2L\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_D2L, \"VectorCastD2X\", TYPE_LONG);\n+    }\n+\n+    public static final String VECTOR_CAST_D2F = VECTOR_PREFIX + \"VECTOR_CAST_D2F\" + POSTFIX;\n@@ -1283,1 +1646,1 @@\n-        beforeMatchingNameRegex(VECTOR_BLEND, \"VectorBlend\");\n+        vectorNode(VECTOR_CAST_D2F, \"VectorCastD2X\", TYPE_FLOAT);\n@@ -1286,1 +1649,1 @@\n-    public static final String VECTOR_MASK_CMP = PREFIX + \"VECTOR_MASK_CMP\" + POSTFIX;\n+    public static final String VECTOR_CAST_F2B = VECTOR_PREFIX + \"VECTOR_CAST_F2B\" + POSTFIX;\n@@ -1288,1 +1651,1 @@\n-        beforeMatchingNameRegex(VECTOR_MASK_CMP, \"VectorMaskCmp\");\n+        vectorNode(VECTOR_CAST_F2B, \"VectorCastF2X\", TYPE_BYTE);\n@@ -1291,1 +1654,1 @@\n-    public static final String VECTOR_CAST_B2X = PREFIX + \"VECTOR_CAST_B2X\" + POSTFIX;\n+    public static final String VECTOR_CAST_F2S = VECTOR_PREFIX + \"VECTOR_CAST_F2S\" + POSTFIX;\n@@ -1293,1 +1656,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_B2X, \"VectorCastB2X\");\n+        vectorNode(VECTOR_CAST_F2S, \"VectorCastF2X\", TYPE_SHORT);\n@@ -1296,1 +1659,1 @@\n-    public static final String VECTOR_CAST_D2X = PREFIX + \"VECTOR_CAST_D2X\" + POSTFIX;\n+    public static final String VECTOR_CAST_F2I = VECTOR_PREFIX + \"VECTOR_CAST_F2I\" + POSTFIX;\n@@ -1298,1 +1661,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_D2X, \"VectorCastD2X\");\n+        vectorNode(VECTOR_CAST_F2I, \"VectorCastF2X\", TYPE_INT);\n@@ -1301,1 +1664,1 @@\n-    public static final String VECTOR_CAST_F2X = PREFIX + \"VECTOR_CAST_F2X\" + POSTFIX;\n+    public static final String VECTOR_CAST_F2L = VECTOR_PREFIX + \"VECTOR_CAST_F2L\" + POSTFIX;\n@@ -1303,1 +1666,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_F2X, \"VectorCastF2X\");\n+        vectorNode(VECTOR_CAST_F2L, \"VectorCastF2X\", TYPE_LONG);\n@@ -1306,1 +1669,1 @@\n-    public static final String VECTOR_CAST_I2X = PREFIX + \"VECTOR_CAST_I2X\" + POSTFIX;\n+    public static final String VECTOR_CAST_F2D = VECTOR_PREFIX + \"VECTOR_CAST_F2D\" + POSTFIX;\n@@ -1308,1 +1671,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_I2X, \"VectorCastI2X\");\n+        vectorNode(VECTOR_CAST_F2D, \"VectorCastF2X\", TYPE_DOUBLE);\n@@ -1311,1 +1674,1 @@\n-    public static final String VECTOR_CAST_L2X = PREFIX + \"VECTOR_CAST_L2X\" + POSTFIX;\n+    public static final String VECTOR_CAST_I2B = VECTOR_PREFIX + \"VECTOR_CAST_I2B\" + POSTFIX;\n@@ -1313,1 +1676,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_L2X, \"VectorCastL2X\");\n+        vectorNode(VECTOR_CAST_I2B, \"VectorCastI2X\", TYPE_BYTE);\n@@ -1316,1 +1679,1 @@\n-    public static final String VECTOR_CAST_S2X = PREFIX + \"VECTOR_CAST_S2X\" + POSTFIX;\n+    public static final String VECTOR_CAST_I2S = VECTOR_PREFIX + \"VECTOR_CAST_I2S\" + POSTFIX;\n@@ -1318,1 +1681,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_S2X, \"VectorCastS2X\");\n+        vectorNode(VECTOR_CAST_I2S, \"VectorCastI2X\", TYPE_SHORT);\n@@ -1321,1 +1684,1 @@\n-    public static final String VECTOR_CAST_F2HF = PREFIX + \"VECTOR_CAST_F2HF\" + POSTFIX;\n+    public static final String VECTOR_CAST_I2L = VECTOR_PREFIX + \"VECTOR_CAST_I2L\" + POSTFIX;\n@@ -1323,1 +1686,1 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_F2HF, \"VectorCastF2HF\");\n+        vectorNode(VECTOR_CAST_I2L, \"VectorCastI2X\", TYPE_LONG);\n@@ -1326,1 +1689,1 @@\n-    public static final String VECTOR_CAST_HF2F = PREFIX + \"VECTOR_CAST_HF2F\" + POSTFIX;\n+    public static final String VECTOR_CAST_I2F = VECTOR_PREFIX + \"VECTOR_CAST_I2F\" + POSTFIX;\n@@ -1328,1 +1691,66 @@\n-        beforeMatchingNameRegex(VECTOR_CAST_HF2F, \"VectorCastHF2F\");\n+        vectorNode(VECTOR_CAST_I2F, \"VectorCastI2X\", TYPE_FLOAT);\n+    }\n+\n+    public static final String VECTOR_CAST_I2D = VECTOR_PREFIX + \"VECTOR_CAST_I2D\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_I2D, \"VectorCastI2X\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String VECTOR_CAST_L2B = VECTOR_PREFIX + \"VECTOR_CAST_L2B\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_L2B, \"VectorCastL2X\", TYPE_BYTE);\n+    }\n+\n+    public static final String VECTOR_CAST_L2S = VECTOR_PREFIX + \"VECTOR_CAST_L2S\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_L2S, \"VectorCastL2X\", TYPE_SHORT);\n+    }\n+\n+    public static final String VECTOR_CAST_L2I = VECTOR_PREFIX + \"VECTOR_CAST_L2I\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_L2I, \"VectorCastL2X\", TYPE_INT);\n+    }\n+\n+    public static final String VECTOR_CAST_L2F = VECTOR_PREFIX + \"VECTOR_CAST_L2F\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_L2F, \"VectorCastL2X\", TYPE_FLOAT);\n+    }\n+\n+    public static final String VECTOR_CAST_L2D = VECTOR_PREFIX + \"VECTOR_CAST_L2D\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_L2D, \"VectorCastL2X\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String VECTOR_CAST_S2B = VECTOR_PREFIX + \"VECTOR_CAST_S2B\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_S2B, \"VectorCastS2X\", TYPE_BYTE);\n+    }\n+\n+    public static final String VECTOR_CAST_S2I = VECTOR_PREFIX + \"VECTOR_CAST_S2I\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_S2I, \"VectorCastS2X\", TYPE_INT);\n+    }\n+\n+    public static final String VECTOR_CAST_S2L = VECTOR_PREFIX + \"VECTOR_CAST_S2L\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_S2L, \"VectorCastS2X\", TYPE_LONG);\n+    }\n+\n+    public static final String VECTOR_CAST_S2F = VECTOR_PREFIX + \"VECTOR_CAST_S2F\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_S2F, \"VectorCastS2X\", TYPE_FLOAT);\n+    }\n+\n+    public static final String VECTOR_CAST_S2D = VECTOR_PREFIX + \"VECTOR_CAST_S2D\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_S2D, \"VectorCastS2X\", TYPE_DOUBLE);\n+    }\n+\n+    public static final String VECTOR_CAST_F2HF = VECTOR_PREFIX + \"VECTOR_CAST_F2HF\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_F2HF, \"VectorCastF2HF\", TYPE_SHORT);\n+    }\n+\n+    public static final String VECTOR_CAST_HF2F = VECTOR_PREFIX + \"VECTOR_CAST_HF2F\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_CAST_HF2F, \"VectorCastHF2F\", TYPE_FLOAT);\n@@ -1341,1 +1769,1 @@\n-    public static final String VECTOR_UCAST_B2X = PREFIX + \"VECTOR_UCAST_B2X\" + POSTFIX;\n+    public static final String VECTOR_UCAST_B2S = VECTOR_PREFIX + \"VECTOR_UCAST_B2S\" + POSTFIX;\n@@ -1343,1 +1771,1 @@\n-        beforeMatchingNameRegex(VECTOR_UCAST_B2X, \"VectorUCastB2X\");\n+        vectorNode(VECTOR_UCAST_B2S, \"VectorUCastB2X\", TYPE_SHORT);\n@@ -1346,1 +1774,1 @@\n-    public static final String VECTOR_UCAST_I2X = PREFIX + \"VECTOR_UCAST_I2X\" + POSTFIX;\n+    public static final String VECTOR_UCAST_B2I = VECTOR_PREFIX + \"VECTOR_UCAST_B2I\" + POSTFIX;\n@@ -1348,1 +1776,1 @@\n-        beforeMatchingNameRegex(VECTOR_UCAST_I2X, \"VectorUCastI2X\");\n+        vectorNode(VECTOR_UCAST_B2I, \"VectorUCastB2X\", TYPE_INT);\n@@ -1351,1 +1779,1 @@\n-    public static final String VECTOR_UCAST_S2X = PREFIX + \"VECTOR_UCAST_S2X\" + POSTFIX;\n+    public static final String VECTOR_UCAST_B2L = VECTOR_PREFIX + \"VECTOR_UCAST_B2L\" + POSTFIX;\n@@ -1353,1 +1781,16 @@\n-        beforeMatchingNameRegex(VECTOR_UCAST_S2X, \"VectorUCastS2X\");\n+        vectorNode(VECTOR_UCAST_B2L, \"VectorUCastB2X\", TYPE_LONG);\n+    }\n+\n+    public static final String VECTOR_UCAST_I2L = VECTOR_PREFIX + \"VECTOR_UCAST_I2L\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_UCAST_I2L, \"VectorUCastI2X\", TYPE_LONG);\n+    }\n+\n+    public static final String VECTOR_UCAST_S2I = VECTOR_PREFIX + \"VECTOR_UCAST_S2I\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_UCAST_S2I, \"VectorUCastS2X\", TYPE_INT);\n+    }\n+\n+    public static final String VECTOR_UCAST_S2L = VECTOR_PREFIX + \"VECTOR_UCAST_S2L\" + POSTFIX;\n+    static {\n+        vectorNode(VECTOR_UCAST_S2L, \"VectorUCastS2X\", TYPE_LONG);\n@@ -1501,1 +1944,16 @@\n-    public static final String XOR_V = PREFIX + \"XOR_V\" + POSTFIX;\n+    public static final String XOR_VB = VECTOR_PREFIX + \"XOR_VB\" + POSTFIX;\n+    static {\n+        vectorNode(XOR_VB, \"XorV\", TYPE_BYTE);\n+    }\n+\n+    public static final String XOR_VS = VECTOR_PREFIX + \"XOR_VS\" + POSTFIX;\n+    static {\n+        vectorNode(XOR_VS, \"XorV\", TYPE_SHORT);\n+    }\n+\n+    public static final String XOR_VI = VECTOR_PREFIX + \"XOR_VI\" + POSTFIX;\n+    static {\n+        vectorNode(XOR_VI, \"XorV\", TYPE_INT);\n+    }\n+\n+    public static final String XOR_VL = VECTOR_PREFIX + \"XOR_VL\" + POSTFIX;\n@@ -1503,1 +1961,1 @@\n-        beforeMatchingNameRegex(XOR_V, \"XorV\");\n+        vectorNode(XOR_VL, \"XorV\", TYPE_LONG);\n@@ -1526,1 +1984,6 @@\n-    public static final String COMPRESS_BITSV = PREFIX + \"COMPRESS_BITSV\" + POSTFIX;\n+    public static final String COMPRESS_BITS_VI = VECTOR_PREFIX + \"COMPRESS_BITS_VI\" + POSTFIX;\n+    static {\n+        vectorNode(COMPRESS_BITS_VI, \"CompressBitsV\", TYPE_INT);\n+    }\n+\n+    public static final String COMPRESS_BITS_VL = VECTOR_PREFIX + \"COMPRESS_BITS_VL\" + POSTFIX;\n@@ -1528,1 +1991,1 @@\n-        beforeMatchingNameRegex(COMPRESS_BITSV, \"CompressBitsV\");\n+        vectorNode(COMPRESS_BITS_VL, \"CompressBitsV\", TYPE_LONG);\n@@ -1531,1 +1994,1 @@\n-    public static final String EXPAND_BITSV = PREFIX + \"EXPAND_BITSV\" + POSTFIX;\n+    public static final String EXPAND_BITS_VI = VECTOR_PREFIX + \"EXPAND_BITS_VI\" + POSTFIX;\n@@ -1533,1 +1996,6 @@\n-        beforeMatchingNameRegex(EXPAND_BITSV, \"ExpandBitsV\");\n+        vectorNode(EXPAND_BITS_VI, \"ExpandBitsV\", TYPE_INT);\n+    }\n+\n+    public static final String EXPAND_BITS_VL = VECTOR_PREFIX + \"EXPAND_BITS_VL\" + POSTFIX;\n+    static {\n+        vectorNode(EXPAND_BITS_VL, \"ExpandBitsV\", TYPE_LONG);\n@@ -1575,0 +2043,14 @@\n+    \/**\n+     * Apply {@code irNodeRegex} as regex for the IR vector node name on all machine independent ideal graph phases up to and\n+     * including {@link CompilePhase#BEFORE_MATCHING}. Since this is a vector node, we can also check the vector element\n+     * type {@code typeString} and the vector size (number of elements), {@see VECTOR_SIZE}.\n+     *\/\n+    private static void vectorNode(String irNodePlaceholder, String irNodeRegex, String typeString) {\n+        TestFramework.check(isVectorIRNode(irNodePlaceholder), \"vectorNode: failed prefix check for irNodePlaceholder \"\n+                                                               + irNodePlaceholder + \" -> did you use VECTOR_PREFIX?\");\n+        \/\/ IS_REPLACED is later replaced with the specific type and size of the vector.\n+        String regex = START + irNodeRegex + MID  + IS_REPLACED + END;\n+        IR_NODE_MAPPINGS.put(irNodePlaceholder, new RegexTypeEntry(RegexType.IDEAL_INDEPENDENT, regex));\n+        VECTOR_NODE_TYPE.put(irNodePlaceholder, typeString);\n+    }\n+\n@@ -1690,0 +2172,143 @@\n+    \/**\n+     * Is {@code irVectorNodeString} an IR vector node placeholder string?\n+     *\/\n+    public static boolean isVectorIRNode(String irVectorNodeString) {\n+        return irVectorNodeString.startsWith(VECTOR_PREFIX);\n+    }\n+\n+    \/**\n+     * Is {@code irVectorSizeString} a vector size string?\n+     *\/\n+    public static boolean isVectorSize(String irVectorSizeString) {\n+        return irVectorSizeString.startsWith(VECTOR_SIZE);\n+    }\n+\n+    \/**\n+     * Parse {@code sizeString} and generate a regex pattern to match for the size in the IR dump.\n+     *\/\n+    public static String parseVectorNodeSize(String sizeString, String typeString, VMInfo vmInfo) {\n+        if (sizeString.equals(VECTOR_SIZE_TAG_ANY)) {\n+            return \"\\\\\\\\d+\"; \/\/ match with any number\n+        }\n+        \/\/ Try to parse any tags, convert to comma separated list of ints\n+        sizeString = parseVectorNodeSizeTag(sizeString, typeString, vmInfo);\n+        \/\/ Parse comma separated list of numbers\n+        String[] sizes = sizeString.split(\",\");\n+        String regex = \"\";\n+        for (int i = 0; i < sizes.length; i++) {\n+            int size = 0;\n+            try {\n+                size = Integer.parseInt(sizes[i]);\n+            } catch (NumberFormatException e) {\n+                throw new TestFormatException(\"Vector node has invalid size \\\"\" + sizes[i] + \"\\\", in \\\"\" + sizeString + \"\\\"\");\n+            }\n+            TestFormat.checkNoReport(size > 1, \"Vector node size must be 2 or larger, but got \\\"\" + sizes[i] + \"\\\", in \\\"\" + sizeString + \"\\\"\");\n+            regex += ((i > 0) ? \"|\" : \"\") + size;\n+        }\n+        if (sizes.length > 1) {\n+           regex = \"(\" + regex + \")\";\n+        }\n+        return regex;\n+    }\n+\n+    \/**\n+     * If {@code sizeTagString} is a size tag, return the list of accepted sizes, else return sizeTagString.\n+     *\/\n+    public static String parseVectorNodeSizeTag(String sizeTagString, String typeString, VMInfo vmInfo) {\n+        \/\/ Parse out \"min(a,b,c,...)\"\n+        if (sizeTagString.startsWith(\"min(\") && sizeTagString.endsWith(\")\")) {\n+            return parseVectorNodeSizeTagMin(sizeTagString, typeString, vmInfo);\n+        }\n+\n+        \/\/ Parse individual tags\n+        return switch (sizeTagString) {\n+            case VECTOR_SIZE_TAG_MAX -> String.valueOf(getMaxElementsForType(typeString, vmInfo));\n+            case \"max_byte\"          -> String.valueOf(getMaxElementsForType(TYPE_BYTE, vmInfo));\n+            case \"max_char\"          -> String.valueOf(getMaxElementsForType(TYPE_CHAR, vmInfo));\n+            case \"max_short\"         -> String.valueOf(getMaxElementsForType(TYPE_SHORT, vmInfo));\n+            case \"max_int\"           -> String.valueOf(getMaxElementsForType(TYPE_INT, vmInfo));\n+            case \"max_long\"          -> String.valueOf(getMaxElementsForType(TYPE_LONG, vmInfo));\n+            case \"max_float\"         -> String.valueOf(getMaxElementsForType(TYPE_FLOAT, vmInfo));\n+            case \"max_double\"        -> String.valueOf(getMaxElementsForType(TYPE_DOUBLE, vmInfo));\n+            case \"LoopMaxUnroll\"     -> String.valueOf(vmInfo.getLongValue(\"LoopMaxUnroll\"));\n+            default                  -> sizeTagString;\n+        };\n+    }\n+\n+    \/**\n+     * Parse {@code sizeTagString}, which must be a min-clause.\n+     *\/\n+    public static String parseVectorNodeSizeTagMin(String sizeTagString, String typeString, VMInfo vmInfo) {\n+        String[] tags = sizeTagString.substring(4, sizeTagString.length() - 1).split(\",\");\n+        TestFormat.checkNoReport(tags.length > 1, \"Vector node size \\\"min(...)\\\" must have at least 2 comma separated arguments, got \\\"\" + sizeTagString + \"\\\"\");\n+        int minVal = 1024;\n+        for (int i = 0; i < tags.length; i++) {\n+            String tag = parseVectorNodeSizeTag(tags[i].trim(), typeString, vmInfo);\n+            int tag_val = 0;\n+            try {\n+                tag_val = Integer.parseInt(tag);\n+            } catch (NumberFormatException e) {\n+                throw new TestFormatException(\"Vector node has invalid size in \\\"min(...)\\\", argument \" + i + \", \\\"\" + tag + \"\\\", in \\\"\" + sizeTagString + \"\\\"\");\n+            }\n+            minVal = Math.min(minVal, tag_val);\n+        }\n+        return String.valueOf(minVal);\n+    }\n+\n+    \/**\n+     * Return maximal number of elements that can fit in a vector of the specified type.\n+     *\/\n+    public static long getMaxElementsForType(String typeString, VMInfo vmInfo) {\n+        long maxVectorSize = vmInfo.getLongValue(\"MaxVectorSize\");\n+        TestFormat.checkNoReport(maxVectorSize > 0, \"VMInfo: MaxVectorSize is not larger than zero\");\n+        long maxBytes = maxVectorSize;\n+\n+        if (Platform.isX64() || Platform.isX86()) {\n+            maxBytes = Math.min(maxBytes, getMaxElementsForTypeOnX86(typeString, vmInfo));\n+        }\n+\n+        \/\/ compute elements per vector: vector bytes divided by bytes per element\n+        int bytes = getTypeSizeInBytes(typeString);\n+        return maxBytes \/ bytes;\n+    }\n+\n+    \/**\n+     * Return maximal number of elements that can fit in a vector of the specified type, on x86 \/ x64.\n+     *\/\n+    public static long getMaxElementsForTypeOnX86(String typeString, VMInfo vmInfo) {\n+        \/\/ restrict maxBytes for specific features, see Matcher::vector_width_in_bytes in x86.ad:\n+        boolean avx1 = vmInfo.hasCPUFeature(\"avx\");\n+        boolean avx2 = vmInfo.hasCPUFeature(\"avx2\");\n+        boolean avx512 = vmInfo.hasCPUFeature(\"avx512f\");\n+        boolean avx512bw = vmInfo.hasCPUFeature(\"avx512bw\");\n+        long maxBytes;\n+        if (avx512) {\n+            maxBytes = 64;\n+        } else if (avx2) {\n+            maxBytes = 32;\n+        } else {\n+            maxBytes = 16;\n+        }\n+        if (avx1 && (typeString.equals(TYPE_FLOAT) || typeString.equals(TYPE_DOUBLE))) {\n+            maxBytes = avx512 ? 64 : 32;\n+        }\n+        if (avx512 && (typeString.equals(TYPE_BYTE) || typeString.equals(TYPE_SHORT) || typeString.equals(TYPE_CHAR))) {\n+            maxBytes = avx512bw ? 64 : 32;\n+        }\n+\n+        return maxBytes;\n+    }\n+\n+    \/**\n+     * Return size in bytes of type named by {@code typeString}, return 0 if it does not name a type.\n+     *\/\n+    public static int getTypeSizeInBytes(String typeString) {\n+        return switch (typeString) {\n+            case TYPE_BYTE              -> 1;\n+            case TYPE_CHAR, TYPE_SHORT  -> 2;\n+            case TYPE_INT, TYPE_FLOAT   -> 4;\n+            case TYPE_LONG, TYPE_DOUBLE -> 8;\n+            default                     -> 0;\n+        };\n+    }\n+\n@@ -1699,0 +2324,4 @@\n+        } else if (isVectorIRNode(irNodeString)) {\n+            TestFramework.check(irNodeString.length() > VECTOR_PREFIX.length() + POSTFIX.length(),\n+                                \"Invalid vector node placeholder: \" + irNodeString);\n+            prefixLength = VECTOR_PREFIX.length();\n@@ -1773,0 +2402,7 @@\n+\n+    public static String getVectorNodeType(String irNode) {\n+        String typeString = VECTOR_NODE_TYPE.get(irNode);\n+        String failMsg = \"\\\"\" + irNode + \"\\\" is not a Vector IR node defined in class IRNode\";\n+        TestFormat.check(typeString != null, failMsg);\n+        return typeString;\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":742,"deletions":106,"binary":false,"changes":848,"status":"modified"},{"patch":"@@ -74,0 +74,20 @@\n+#### Vector IR Nodes\n+For vector nodes, we not only check for the presence of the node, but also its type and size (number of elements in the vector). Every node has an associated type, for example `IRNode.LOAD_VECTOR_I` has type `int` and `IRNode.LOAD_VECTOR_F` has type `float`. The size can be explicitly specified as an additional argument. For example:\n+\n+```\n+@IR(counts = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_16, \"> 0\"},\n+    applyIf = {\"MaxVectorSize\", \"=64\"},\n+    applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+static float[] test() {\n+    float[] a = new float[1024*8];\n+    for (int i = 0; i < a.length; i++) {\n+        a[i]++;\n+    }\n+    return a;\n+}\n+```\n+\n+However, the size does not have to be specified. In most cases, one either wants to have vectorization at the maximal possible vector width, or no vectorization at all. Hence, for lower bound counts ('>' or '>=') and equal count comparisons with strictly positive count (e.g. \"=2\") the default size is `IRNode.VECTOR_SIZE_MAX`, and for upper bound counts ('<' or '<=' or '=0' or failOn) the default is `IRNode.VECTOR_SIZE_ANY`. On machines with 'canTrustVectorSize == false' (default Cascade Lake) the maximal vector width is not predictable currently (32 byte for SuperWord and 64 byte for VectorAPI). Hence, on such a machine we have to automatically weaken the IR rules. All lower bound counts are performed checking with `IRNode.VECTOR_SIZE_ANY`. Upper bound counts with no user specified size are performed with `IRNode.VECTOR_SIZE_ANY` but upper bound counts with a user specified size are not checked at all. Equal count comparisons with strictly positive count are also not checked at all. Details and reasoning can be found in [RawIRNode](.\/driver\/irmatching\/irrule\/checkattribute\/parsing\/RawIRNode.java).\n+\n+More examples can be found in [IRExample](..\/..\/..\/testlibrary_tests\/ir_framework\/examples\/IRExample.java). You can also find many examples in the Vector API and SuperWord tests, when searching for `IRNode.VECTOR_SIZE` or `IRNode.LOAD_VECTOR`.\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/README.md","additions":20,"deletions":0,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package compiler.lib.ir_framework.driver;\n+\n+import compiler.lib.ir_framework.driver.irmatching.irrule.constraint.Constraint;\n+\n+\/**\n+ * Exception used to signal that a {@link Constraint} should always succeed.\n+ *\/\n+public class SuccessOnlyConstraintException extends RuntimeException {\n+    public SuccessOnlyConstraintException(String message) {\n+        super(\"Unhandled SuccessOnlyConstraintException, should have created a Constraint that always succeeds:\" + System.lineSeparator() + message);\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/SuccessOnlyConstraintException.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -149,1 +149,1 @@\n-        ProcessBuilder process = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder process = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/TestVMProcess.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n@@ -53,1 +54,1 @@\n-    public IRMethod(Method method, int[] ruleIds, IR[] irAnnos, Compilation compilation) {\n+    public IRMethod(Method method, int[] ruleIds, IR[] irAnnos, Compilation compilation, VMInfo vmInfo) {\n@@ -55,1 +56,1 @@\n-        this.matcher = new MatchableMatcher(createIRRules(method, ruleIds, irAnnos, compilation));\n+        this.matcher = new MatchableMatcher(createIRRules(method, ruleIds, irAnnos, compilation, vmInfo));\n@@ -58,1 +59,1 @@\n-    private List<Matchable> createIRRules(Method method, int[] ruleIds, IR[] irAnnos, Compilation compilation) {\n+    private List<Matchable> createIRRules(Method method, int[] ruleIds, IR[] irAnnos, Compilation compilation, VMInfo vmInfo) {\n@@ -62,1 +63,1 @@\n-                irRules.add(new IRRule(ruleId, irAnnos[ruleId - 1], compilation));\n+                irRules.add(new IRRule(ruleId, irAnnos[ruleId - 1], compilation, vmInfo));\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irmethod\/IRMethod.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n@@ -47,1 +48,1 @@\n-    public IRRule(int ruleId, IR irAnno, Compilation compilation) {\n+    public IRRule(int ruleId, IR irAnno, Compilation compilation, VMInfo vmInfo) {\n@@ -50,1 +51,1 @@\n-        this.matcher = new MatchableMatcher(new CompilePhaseIRRuleBuilder(irAnno, compilation).build());\n+        this.matcher = new MatchableMatcher(new CompilePhaseIRRuleBuilder(irAnno, compilation).build(vmInfo));\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/IRRule.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -63,8 +63,3 @@\n-            String irNode = IRNode.getIRNodeAccessString(node);\n-            int nextIndex = iterator.nextIndex();\n-            TestFormat.checkNoReport(iterator.hasNext(), \"Must provide additional value at index \" +\n-                                                         nextIndex + \" right after \" + irNode);\n-            CheckAttributeString userPostfix = new CheckAttributeString(iterator.next());\n-            TestFormat.checkNoReport(userPostfix.isValidUserPostfix(), \"Provided empty string for composite node \" +\n-                                                                       irNode + \" at index \" + nextIndex);\n-            return userPostfix;\n+            return readUserPostfixForCompositeIRNode(node);\n+        } else if (IRNode.isVectorIRNode(node)) {\n+            return readUserPostfixForVectorIRNode(node);\n@@ -75,0 +70,23 @@\n+\n+    private final CheckAttributeString readUserPostfixForCompositeIRNode(String node) {\n+        String irNode = IRNode.getIRNodeAccessString(node);\n+        int nextIndex = iterator.nextIndex();\n+        TestFormat.checkNoReport(iterator.hasNext(), \"Must provide additional value at index \" +\n+                                                     nextIndex + \" right after \" + irNode);\n+        CheckAttributeString userPostfix = new CheckAttributeString(iterator.next());\n+        TestFormat.checkNoReport(userPostfix.isValidUserPostfix(), \"Provided empty string for composite node \" +\n+                                                                   irNode + \" at index \" + nextIndex);\n+        return userPostfix;\n+    }\n+\n+    private final CheckAttributeString readUserPostfixForVectorIRNode(String node) {\n+        if (iterator.hasNext()) {\n+            String maybeVectorType = iterator.next();\n+            if (IRNode.isVectorSize(maybeVectorType)) {\n+                return new CheckAttributeString(maybeVectorType);\n+            }\n+            \/\/ If we do not find that pattern, then revert the iterator once\n+            iterator.previous();\n+        }\n+        return CheckAttributeString.invalid();\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/checkattribute\/parsing\/CheckAttributeReader.java","additions":26,"deletions":8,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,4 @@\n+import compiler.lib.ir_framework.shared.Comparison;\n+import compiler.lib.ir_framework.shared.TestFormat;\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n+import compiler.lib.ir_framework.driver.SuccessOnlyConstraintException;\n@@ -54,1 +58,1 @@\n-    public String regex(CompilePhase compilePhase) {\n+    public String regex(CompilePhase compilePhase, VMInfo vmInfo, Comparison.Bound bound) {\n@@ -58,1 +62,3 @@\n-            if (userPostfix.isValid()) {\n+            if (IRNode.isVectorIRNode(node)) {\n+                nodeRegex = regexForVectorIRNode(nodeRegex, vmInfo, bound);\n+            } else if (userPostfix.isValid()) {\n@@ -64,0 +70,69 @@\n+\n+    private String regexForVectorIRNode(String nodeRegex, VMInfo vmInfo, Comparison.Bound bound) {\n+        String type = IRNode.getVectorNodeType(node);\n+        TestFormat.checkNoReport(IRNode.getTypeSizeInBytes(type) > 0,\n+                                 \"Vector node's type must have valid type, got \\\"\" + type + \"\\\" for \\\"\" + node + \"\\\"\");\n+        String size = null;\n+        if (userPostfix.isValid()) {\n+            \/\/ Size is explicitly stated\n+            String value = userPostfix.value();\n+            TestFormat.checkNoReport(value.startsWith(IRNode.VECTOR_SIZE),\n+                                     \"Vector node's vector size must start with IRNode.VECTOR_SIZE, got: \\\"\" + value + \"\\\"\");\n+            size = value.substring(2);\n+\n+            if (!vmInfo.canTrustVectorSize()) {\n+                \/\/ Parse it already just to get errors before we overwrite size\n+                IRNode.parseVectorNodeSize(size, type, vmInfo);\n+            }\n+        }\n+\n+        \/\/ Set default values in some cases:\n+        if (!userPostfix.isValid() || !vmInfo.canTrustVectorSize()) {\n+            switch (bound) {\n+                case LOWER -> {\n+                    \/\/ For lower bound we check for the maximal size by default. But if we cannot trust the\n+                    \/\/ vector size we at least check there are vectors of any size.\n+                    if (vmInfo.canTrustVectorSize()) {\n+                        \/\/ No size specified, so assume maximal size\n+                        size = IRNode.VECTOR_SIZE_TAG_MAX;\n+                    } else {\n+                        System.out.println(\"WARNING: you are on a system with \\\"canTrustVectorSize == false\\\" (default Cascade Lake).\");\n+                        System.out.println(\"         The lower bound rule for \\\"\" + node + \"\\\" is now performed with\");\n+                        System.out.println(\"         \\\"IRNode.VECTOR_SIZE_TAG_ANY\\\" instead of \\\"IRNode.VECTOR_SIZE_TAG_MAX\\\".\");\n+                        size = IRNode.VECTOR_SIZE_TAG_ANY;\n+                    }\n+                }\n+                case UPPER -> {\n+                    if (userPostfix.isValid()) {\n+                        TestFormat.checkNoReport(!vmInfo.canTrustVectorSize(), \"sanity\");\n+                        \/\/ If we have a size specified but cannot trust the size, and must check an upper\n+                        \/\/ bound, this can be impossible to count correctly - if we have an incorrect size\n+                        \/\/ we may count either too many nodes. We just create an impossible regex which will\n+                        \/\/ always have count zero and make the upper bound rule pass.\n+                        System.out.println(\"WARNING: you are on a system with \\\"canTrustVectorSize == false\\\" (default Cascade Lake).\");\n+                        System.out.println(\"         The upper bound rule for \\\"\" + node + \"\\\" cannot be checked.\");\n+                        throw new SuccessOnlyConstraintException(\"upper bound with specified size\");\n+                    } else {\n+                        \/\/ For upper bound we check for vectors of any size by default.\n+                        size = IRNode.VECTOR_SIZE_TAG_ANY;\n+                    }\n+                }\n+                case EQUAL -> {\n+                    if (vmInfo.canTrustVectorSize()) {\n+                        \/\/ No size specified, so assume maximal size\n+                        size = IRNode.VECTOR_SIZE_TAG_MAX;\n+                    } else {\n+                        \/\/ Equal comparison to a strictly positive number would lead us to an impossible\n+                        \/\/ situation: we might have to know the exact vector size or else we count too many\n+                        \/\/ or too few cases. We therefore skip such a constraint and treat it as success.\n+                        System.out.println(\"WARNING: you are on a system with \\\"canTrustVectorSize == false\\\" (default Cascade Lake).\");\n+                        System.out.println(\"         The equal count comparison rule for \\\"\" + node + \"\\\" cannot be checked.\");\n+                        throw new SuccessOnlyConstraintException(\"equal count comparison\");\n+                    }\n+                }\n+            }\n+        }\n+        String sizeRegex = IRNode.parseVectorNodeSize(size, type, vmInfo);\n+        return nodeRegex.replaceAll(IRNode.IS_REPLACED,\n+                                    \"vector[A-Za-z]\\\\\\\\[\" + sizeRegex + \"\\\\\\\\]:\\\\\\\\{\" + type + \"\\\\\\\\}\");\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/checkattribute\/parsing\/RawIRNode.java","additions":78,"deletions":3,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -64,0 +64,6 @@\n+    public static Constraint createSuccess() {\n+        String nodeRegex = \"impossible_regex\";\n+        String compilationOutput = \"\"; \/\/ empty\n+        return new Constraint(new SuccessConstraintCheck(), nodeRegex, compilationOutput);\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/constraint\/Constraint.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -0,0 +1,41 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package compiler.lib.ir_framework.driver.irmatching.irrule.constraint;\n+\n+import compiler.lib.ir_framework.driver.irmatching.MatchResult;\n+\n+import java.util.List;\n+\n+\/**\n+ * This class provides a check that always succeeds.\n+ *\n+ * @see Constraint\n+ *\/\n+class SuccessConstraintCheck implements ConstraintCheck {\n+\n+    @Override\n+    public MatchResult check(List<String> matchedNodes) {\n+        return SuccessResult.getInstance();\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/constraint\/SuccessConstraintCheck.java","additions":41,"deletions":0,"binary":false,"changes":41,"status":"added"},{"patch":"@@ -30,0 +30,1 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n@@ -41,1 +42,1 @@\n-    Constraint parse(CompilePhase compilePhase, String compilationOutput);\n+    Constraint parse(CompilePhase compilePhase, String compilationOutput, VMInfo vmInfo);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/constraint\/raw\/RawConstraint.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import compiler.lib.ir_framework.IRNode;\n@@ -32,0 +33,2 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n+import compiler.lib.ir_framework.driver.SuccessOnlyConstraintException;\n@@ -33,0 +36,2 @@\n+import compiler.lib.ir_framework.shared.TestFormat;\n+import compiler.lib.ir_framework.shared.TestFormatException;\n@@ -55,0 +60,36 @@\n+    private Comparison.Bound getComparisonBound() {\n+        switch (comparison.getComparator()) {\n+            case \"<\" -> {\n+                TestFormat.checkNoReport(comparison.getGivenValue() > 0, \"Node count comparison \\\"<\" +\n+                                         comparison.getGivenValue() + \"\\\" is not allowed: always false.\");\n+                TestFormat.checkNoReport(comparison.getGivenValue() > 1, \"Node count comparison \\\"<\" +\n+                                         comparison.getGivenValue() + \"\\\" should be rewritten as \\\"=0\\\"\");\n+                return Comparison.Bound.UPPER;\n+            }\n+            case \"<=\" -> {\n+                TestFormat.checkNoReport(comparison.getGivenValue() >= 0, \"Node count comparison \\\"<=\" +\n+                                         comparison.getGivenValue() + \"\\\" is not allowed: always false.\");\n+                TestFormat.checkNoReport(comparison.getGivenValue() >= 1, \"Node count comparison \\\"<=\" +\n+                                         comparison.getGivenValue() + \"\\\" should be rewritten as \\\"=0\\\"\");\n+                return Comparison.Bound.UPPER;\n+            }\n+            case \"=\" -> {\n+                \/\/ \"=0\" is same as setting upper bound - just like for failOn. But if we compare equals a\n+                \/\/ strictly positive number it is like setting both upper and lower bound (equal).\n+                return comparison.getGivenValue() > 0 ? Comparison.Bound.EQUAL : Comparison.Bound.UPPER;\n+            }\n+            case \">\" -> {\n+                TestFormat.checkNoReport(comparison.getGivenValue() >= 0, \"Node count comparison \\\">\" +\n+                                         comparison.getGivenValue() + \"\\\" is useless, please only use positive numbers.\");\n+                return Comparison.Bound.LOWER;\n+            }\n+            case \">=\" -> {\n+                TestFormat.checkNoReport(comparison.getGivenValue() > 0, \"Node count comparison \\\">=\" +\n+                                         comparison.getGivenValue() + \"\\\" is useless, please only use strictly positive numbers with greater-equal.\");\n+                return Comparison.Bound.LOWER;\n+            }\n+            case \"!=\" -> throw new TestFormatException(\"Not-equal comparator not supported. Please rewrite the rule.\");\n+            default -> throw new TestFormatException(\"Comparator not handled: \" + comparison.getComparator());\n+        }\n+    }\n+\n@@ -56,1 +97,1 @@\n-    public Constraint parse(CompilePhase compilePhase, String compilationOutput) {\n+    public Constraint parse(CompilePhase compilePhase, String compilationOutput, VMInfo vmInfo) {\n@@ -58,1 +99,5 @@\n-        return Constraint.createCounts(rawIRNode.regex(compilePhase), constraintIndex, comparison, compilationOutput);\n+        try {\n+            return Constraint.createCounts(rawIRNode.regex(compilePhase, vmInfo, getComparisonBound()), constraintIndex, comparison, compilationOutput);\n+        } catch (SuccessOnlyConstraintException e) {\n+            return Constraint.createSuccess();\n+        }\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/constraint\/raw\/RawCountsConstraint.java","additions":47,"deletions":2,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import compiler.lib.ir_framework.driver.SuccessOnlyConstraintException;\n@@ -31,0 +32,2 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n+import compiler.lib.ir_framework.shared.Comparison;\n@@ -52,1 +55,1 @@\n-    public Constraint parse(CompilePhase compilePhase, String compilationOutput) {\n+    public Constraint parse(CompilePhase compilePhase, String compilationOutput, VMInfo vmInfo) {\n@@ -54,1 +57,5 @@\n-        return Constraint.createFailOn(rawIRNode.regex(compilePhase), constraintIndex, compilationOutput);\n+        try {\n+            return Constraint.createFailOn(rawIRNode.regex(compilePhase, vmInfo, Comparison.Bound.UPPER), constraintIndex, compilationOutput);\n+        } catch (SuccessOnlyConstraintException e) {\n+            return Constraint.createSuccess();\n+        }\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/constraint\/raw\/RawFailOnConstraint.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n@@ -63,1 +64,1 @@\n-    public SortedSet<CompilePhaseIRRuleMatchable> build() {\n+    public SortedSet<CompilePhaseIRRuleMatchable> build(VMInfo vmInfo) {\n@@ -69,1 +70,1 @@\n-                createCompilePhaseIRRulesForDefault();\n+                createCompilePhaseIRRulesForDefault(vmInfo);\n@@ -71,1 +72,1 @@\n-                createCompilePhaseIRRule(compilePhase);\n+                createCompilePhaseIRRule(compilePhase, vmInfo);\n@@ -77,1 +78,1 @@\n-    private void createCompilePhaseIRRulesForDefault() {\n+    private void createCompilePhaseIRRulesForDefault(VMInfo vmInfo) {\n@@ -80,1 +81,1 @@\n-                parser.parse(rawFailOnConstraints, rawCountsConstraints);\n+                parser.parse(rawFailOnConstraints, rawCountsConstraints, vmInfo);\n@@ -91,3 +92,3 @@\n-    private void createCompilePhaseIRRule(CompilePhase compilePhase) {\n-        List<Constraint> failOnConstraints = parseRawConstraints(rawFailOnConstraints, compilePhase);\n-        List<Constraint> countsConstraints = parseRawConstraints(rawCountsConstraints, compilePhase);\n+    private void createCompilePhaseIRRule(CompilePhase compilePhase, VMInfo vmInfo) {\n+        List<Constraint> failOnConstraints = parseRawConstraints(rawFailOnConstraints, compilePhase, vmInfo);\n+        List<Constraint> countsConstraints = parseRawConstraints(rawCountsConstraints, compilePhase, vmInfo);\n@@ -116,1 +117,2 @@\n-                                                 CompilePhase compilePhase) {\n+                                                 CompilePhase compilePhase,\n+                                                 VMInfo vmInfo) {\n@@ -119,1 +121,1 @@\n-            constraintResultList.add(rawConstraint.parse(compilePhase, compilation.output(compilePhase)));\n+            constraintResultList.add(rawConstraint.parse(compilePhase, compilation.output(compilePhase), vmInfo));\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/phase\/CompilePhaseIRRuleBuilder.java","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import compiler.lib.ir_framework.driver.irmatching.parser.VMInfo;\n@@ -55,1 +56,2 @@\n-                                                    List<RawConstraint> rawCountsConstraints) {\n+                                                    List<RawConstraint> rawCountsConstraints,\n+                                                    VMInfo vmInfo) {\n@@ -57,1 +59,2 @@\n-                                                                                 CheckAttributeType.FAIL_ON);\n+                                                                                 CheckAttributeType.FAIL_ON,\n+                                                                                 vmInfo);\n@@ -59,1 +62,2 @@\n-                                                                                 CheckAttributeType.COUNTS);\n+                                                                                 CheckAttributeType.COUNTS,\n+                                                                                 vmInfo);\n@@ -64,1 +68,2 @@\n-                                                             CheckAttributeType checkAttributeType) {\n+                                                             CheckAttributeType checkAttributeType,\n+                                                             VMInfo vmInfo) {\n@@ -70,1 +75,1 @@\n-            checkAttribute.add(rawConstraint.parse(compilePhase, compilation.output(compilePhase)));\n+            checkAttribute.add(rawConstraint.parse(compilePhase, compilation.output(compilePhase), vmInfo));\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/irrule\/phase\/DefaultPhaseRawConstraintParser.java","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-    public SortedSet<IRMethodMatchable> build() {\n+    public SortedSet<IRMethodMatchable> build(VMInfo vmInfo) {\n@@ -57,1 +57,1 @@\n-                (methodName, testMethod) -> irMethods.add(createIRMethod(methodName, testMethod)));\n+                (methodName, testMethod) -> irMethods.add(createIRMethod(methodName, testMethod, vmInfo)));\n@@ -61,1 +61,1 @@\n-    private IRMethodMatchable createIRMethod(String methodName, TestMethod testMethod) {\n+    private IRMethodMatchable createIRMethod(String methodName, TestMethod testMethod, VMInfo vmInfo) {\n@@ -65,1 +65,1 @@\n-                                new Compilation(loggedMethod.compilationOutput()));\n+                                new Compilation(loggedMethod.compilationOutput()), vmInfo);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/parser\/IRMethodBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+        VMInfo vmInfo = VMInfoParser.parseVMInfo(irEncoding);\n@@ -60,1 +61,1 @@\n-            return createTestClass(testMethods, loggedMethods);\n+            return createTestClass(testMethods, loggedMethods, vmInfo);\n@@ -69,1 +70,1 @@\n-    private Matchable createTestClass(TestMethods testMethods, LoggedMethods loggedMethods) {\n+    private Matchable createTestClass(TestMethods testMethods, LoggedMethods loggedMethods, VMInfo vmInfo) {\n@@ -71,1 +72,1 @@\n-        SortedSet<IRMethodMatchable> irMethods = irMethodBuilder.build();\n+        SortedSet<IRMethodMatchable> irMethods = irMethodBuilder.build(vmInfo);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/parser\/TestClassParser.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -0,0 +1,107 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package compiler.lib.ir_framework.driver.irmatching.parser;\n+\n+import compiler.lib.ir_framework.TestFramework;\n+import compiler.lib.ir_framework.shared.TestFrameworkException;\n+\n+import java.util.Map;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+\/**\n+ * This class stores the key value mapping from the VMInfo.\n+ *\n+ * @see IREncodingParser\n+ *\/\n+public class VMInfo {\n+    \/**\n+     * Stores the key-value mapping.\n+     *\/\n+    private final Map<String, String> keyValueMap;\n+\n+    private static final Pattern CPU_SKYLAKE_PATTERN =\n+            Pattern.compile(\"family 6 model 85 stepping (\\\\d) \");\n+\n+    public VMInfo(Map<String, String> map) {\n+        this.keyValueMap = map;\n+\n+        TestFramework.check(isKey(\"cpuFeatures\"),   \"VMInfo does not contain cpuFeatures\");\n+        TestFramework.check(isKey(\"MaxVectorSize\"), \"VMInfo does not contain MaxVectorSize\");\n+        TestFramework.check(isKey(\"MaxVectorSizeIsDefault\"), \"VMInfo does not contain MaxVectorSizeIsDefault\");\n+        TestFramework.check(isKey(\"LoopMaxUnroll\"), \"VMInfo does not contain LoopMaxUnroll\");\n+        TestFramework.check(isKey(\"UseAVX\"), \"VMInfo does not contain UseAVX\");\n+        TestFramework.check(isKey(\"UseAVXIsDefault\"), \"VMInfo does not contain UseAVXIsDefault\");\n+    }\n+\n+    public String getStringValue(String key) {\n+        TestFramework.check(isKey(key), \"VMInfo does not contain \\\"\" + key + \"\\\"\");\n+        return keyValueMap.get(key);\n+    }\n+\n+    public long getLongValue(String key) {\n+        try {\n+            return Long.parseLong(getStringValue(key));\n+        } catch (NumberFormatException e) {\n+            throw new TestFrameworkException(\"VMInfo value for \\\"\" + key + \"\\\" is not a long, got \\\"\" + getStringValue(key) + \"\\\"\");\n+        }\n+    }\n+\n+    public boolean hasCPUFeature(String feature) {\n+        String features = getStringValue(\"cpuFeatures\") + \",\";\n+        return features.contains(\" \" + feature + \",\");\n+    }\n+\n+    public boolean isCascadeLake() {\n+        Matcher matcher = CPU_SKYLAKE_PATTERN.matcher(getStringValue(\"cpuFeatures\"));\n+        if (!matcher.find()) {\n+            return false; \/\/ skylake pattern not found\n+        }\n+        String stepping = matcher.group(1).trim();\n+        return Long.parseLong(stepping) >= 5; \/\/ this makes it Cascade Lake\n+    }\n+\n+    public boolean isDefaultCascadeLake() {\n+        \/\/ See VM_Version::is_default_intel_cascade_lake\n+        return isCascadeLake() &&\n+               getLongValue(\"MaxVectorSizeIsDefault\") == 1 &&\n+               getLongValue(\"UseAVXIsDefault\") == 1 &&\n+               getLongValue(\"UseAVX\") > 2;\n+    }\n+\n+    \/**\n+     * Some platforms do not behave as expected, and one cannot trust that the vectors\n+     * make use of the full MaxVectorSize. For Cascade Lake, we only use 32 bytes for\n+     * SuperWord by default even though MaxVectorSize is 64. But the VectorAPI still\n+     * uses 64 bytes. Thus MaxVectorSize is not a reliable indicator for the expected\n+     * maximal vector size on that platform.\n+     *\/\n+    public boolean canTrustVectorSize() {\n+        return !isDefaultCascadeLake();\n+    }\n+\n+    public boolean isKey(String key) {\n+        return keyValueMap.containsKey(key);\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/parser\/VMInfo.java","additions":107,"deletions":0,"binary":false,"changes":107,"status":"added"},{"patch":"@@ -0,0 +1,77 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package compiler.lib.ir_framework.driver.irmatching.parser;\n+\n+import compiler.lib.ir_framework.TestFramework;\n+import compiler.lib.ir_framework.shared.TestFrameworkException;\n+import compiler.lib.ir_framework.test.VMInfoPrinter;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+\/**\n+ * Class to parse the VMInfo emitted by the test VM and creating {@link VMInfo} objects for each entry.\n+ *\n+ * @see VMInfo\n+ *\/\n+public class VMInfoParser {\n+\n+    private static final Pattern VM_INFO_PATTERN =\n+            Pattern.compile(\"(?<=\" + VMInfoPrinter.START_VM_INFO + \"\\r?\\n).*\\\\R([\\\\s\\\\S]*)(?=\" + VMInfoPrinter.END_VM_INFO + \")\");\n+\n+    \/**\n+     * Extract VMInfo from the irEncoding.\n+     *\/\n+    public static VMInfo parseVMInfo(String irEncoding) {\n+        Map<String, String> map = new HashMap<>();\n+        String[] lines = getVMInfoLines(irEncoding);\n+        for (String s : lines) {\n+            String line = s.trim();\n+            String[] splitLine = line.split(\":\", 2);\n+            if (splitLine.length != 2) {\n+                throw new TestFrameworkException(\"Invalid VMInfo key:value encoding. Found: \" + splitLine[0]);\n+            }\n+            String key = splitLine[0];\n+            String value = splitLine[1];\n+            map.put(key, value);\n+        }\n+        return new VMInfo(map);\n+    }\n+\n+    \/**\n+     * Extract the VMInfo from the irEncoding string, strip away the header and return the individual key-value lines.\n+     *\/\n+    private static String[] getVMInfoLines(String irEncoding) {\n+        Matcher matcher = VM_INFO_PATTERN.matcher(irEncoding);\n+        TestFramework.check(matcher.find(), \"Did not find VMInfo in:\" + System.lineSeparator() + irEncoding);\n+        String lines = matcher.group(1).trim();\n+        if (lines.isEmpty()) {\n+            \/\/ Nothing to IR match.\n+            return new String[0];\n+        }\n+        return lines.split(\"\\\\R\");\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/irmatching\/parser\/VMInfoParser.java","additions":77,"deletions":0,"binary":false,"changes":77,"status":"added"},{"patch":"@@ -41,0 +41,6 @@\n+    public enum Bound {\n+        LOWER,\n+        UPPER,\n+        EQUAL,\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/shared\/Comparison.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -269,0 +269,1 @@\n+            VMInfoPrinter.emit();\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/test\/TestVM.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,70 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package compiler.lib.ir_framework.test;\n+\n+import compiler.lib.ir_framework.shared.TestFrameworkSocket;\n+import jdk.test.whitebox.WhiteBox;\n+\n+\/**\n+ * Prints some test VM info to the socket.\n+ *\/\n+public class VMInfoPrinter {\n+    public static final String START_VM_INFO = \"##### IRMatchingVMInfo - used by TestFramework #####\";\n+    public static final String END_VM_INFO = \"----- END VMInfo -----\";\n+\n+    private static final WhiteBox WHITE_BOX = WhiteBox.getWhiteBox();\n+\n+    public static void emit() {\n+        StringBuilder vmInfo = new StringBuilder();\n+        vmInfo.append(START_VM_INFO).append(System.lineSeparator());\n+        vmInfo.append(\"<key>:<value>\").append(System.lineSeparator());\n+\n+        \/\/ CPU feature independent info\n+        String cpuFeatures = WHITE_BOX.getCPUFeatures();\n+        vmInfo.append(\"cpuFeatures:\").append(cpuFeatures).append(System.lineSeparator());\n+        long maxVectorSize = WHITE_BOX.getIntxVMFlag(\"MaxVectorSize\");\n+        vmInfo.append(\"MaxVectorSize:\").append(maxVectorSize).append(System.lineSeparator());\n+        boolean maxVectorSizeIsDefault = WHITE_BOX.isDefaultVMFlag(\"MaxVectorSize\");\n+        vmInfo.append(\"MaxVectorSizeIsDefault:\")\n+              .append(maxVectorSizeIsDefault ? 1 : 0)\n+              .append(System.lineSeparator());\n+        long loopMaxUnroll = WHITE_BOX.getIntxVMFlag(\"LoopMaxUnroll\");\n+        vmInfo.append(\"LoopMaxUnroll:\").append(loopMaxUnroll).append(System.lineSeparator());\n+\n+        \/\/ CPU feature dependent info\n+        long useAVX = 0;\n+        boolean useAVXIsDefault = true;\n+        if (cpuFeatures.contains(\" sse, \")) {\n+            useAVX = WHITE_BOX.getIntVMFlag(\"UseAVX\");\n+            useAVXIsDefault = WHITE_BOX.isDefaultVMFlag(\"UseAVX\");\n+        }\n+        vmInfo.append(\"UseAVX:\").append(useAVX).append(System.lineSeparator());\n+        vmInfo.append(\"UseAVXIsDefault:\")\n+              .append(useAVXIsDefault ? 1 : 0)\n+              .append(System.lineSeparator());\n+\n+        vmInfo.append(END_VM_INFO);\n+        TestFrameworkSocket.write(vmInfo.toString(), \"VMInfo\");\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/test\/VMInfoPrinter.java","additions":70,"deletions":0,"binary":false,"changes":70,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/linkage\/TestLinkageErrorInGenerateOopMap.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-        failOn = {IRNode.ADD_REDUCTION_VD, IRNode.ABS_V, IRNode.NEG_V})\n+        failOn = {IRNode.ADD_REDUCTION_VD, IRNode.ABS_VD, IRNode.NEG_VD})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/SumRedAbsNeg_Double.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-        failOn = {IRNode.ADD_REDUCTION_VF, IRNode.ABS_V, IRNode.NEG_V})\n+        failOn = {IRNode.ADD_REDUCTION_VF, IRNode.ABS_VF, IRNode.NEG_VF})\n@@ -96,1 +96,3 @@\n-        counts = {IRNode.ADD_REDUCTION_VF, \">= 1\", IRNode.ABS_V, \">= 1\", IRNode.NEG_V, \">= 1\"})\n+        counts = {IRNode.ADD_REDUCTION_VF, \">= 1\",\n+                  IRNode.ABS_VF, IRNode.VECTOR_SIZE + \"min(LoopMaxUnroll, max_float)\", \">= 1\",\n+                  IRNode.NEG_VF, IRNode.VECTOR_SIZE + \"min(LoopMaxUnroll, max_float)\", \">= 1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/SumRedAbsNeg_Float.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-        failOn = {IRNode.ADD_REDUCTION_VD, IRNode.SQRT_V})\n+        failOn = {IRNode.ADD_REDUCTION_VD, IRNode.SQRT_VD})\n@@ -93,1 +93,1 @@\n-        counts = {IRNode.ADD_REDUCTION_VD, \">= 1\", IRNode.SQRT_V, \">= 1\"})\n+        counts = {IRNode.ADD_REDUCTION_VD, \">= 1\", IRNode.SQRT_VD, \">= 1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/SumRedSqrt_Double.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -243,1 +243,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.ADD_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -349,1 +349,1 @@\n-    @IR(counts = {IRNode.ADD_VF, \"> 0\"},\n+    @IR(counts = {IRNode.ADD_VF, IRNode.VECTOR_SIZE + \"min(max_int, max_float)\", \"> 0\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestCyclicDependency.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n- *       https:\/\/bugs.openjdk.org\/browse\/JDK-8298935\n+ *       https:\/\/bugs.openjdk.org\/browse\/JDK-8310308\n@@ -1394,1 +1394,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1398,1 +1398,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1402,1 +1402,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1406,1 +1406,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1426,1 +1426,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1430,1 +1430,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1434,1 +1434,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1438,1 +1438,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1442,1 +1442,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1446,1 +1446,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1450,1 +1450,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1454,1 +1454,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1502,1 +1502,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1506,1 +1506,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1510,1 +1510,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1514,1 +1514,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1535,1 +1535,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1540,1 +1540,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1545,1 +1545,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1550,1 +1550,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1570,1 +1570,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1574,1 +1574,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1578,1 +1578,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1582,1 +1582,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1586,1 +1586,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1590,1 +1590,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1594,1 +1594,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1598,1 +1598,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1619,1 +1619,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1624,1 +1624,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1629,1 +1629,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1634,1 +1634,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1654,1 +1654,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1658,1 +1658,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1662,1 +1662,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1666,1 +1666,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1686,1 +1686,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1690,1 +1690,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1695,1 +1695,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1700,1 +1700,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1705,1 +1705,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1725,1 +1725,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1729,1 +1729,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1733,1 +1733,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1737,1 +1737,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1741,1 +1741,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1745,1 +1745,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1749,1 +1749,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1753,1 +1753,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -1773,1 +1773,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1778,1 +1778,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1783,1 +1783,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1788,1 +1788,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1808,1 +1808,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1812,1 +1812,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1816,1 +1816,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1820,1 +1820,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1840,1 +1840,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1844,1 +1844,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1848,1 +1848,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1852,1 +1852,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1857,1 +1857,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1861,1 +1861,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1865,1 +1865,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1885,1 +1885,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1889,1 +1889,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1893,1 +1893,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1897,1 +1897,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1917,1 +1917,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1921,1 +1921,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1926,1 +1926,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1930,1 +1930,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1950,1 +1950,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1954,1 +1954,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1958,1 +1958,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1962,1 +1962,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1982,1 +1982,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1986,1 +1986,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1990,1 +1990,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1994,1 +1994,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -1998,1 +1998,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2002,1 +2002,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2006,1 +2006,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2010,1 +2010,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2030,1 +2030,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2034,1 +2034,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2038,1 +2038,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2042,1 +2042,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2062,1 +2062,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2066,1 +2066,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2070,1 +2070,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2074,1 +2074,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2094,1 +2094,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2098,1 +2098,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2102,1 +2102,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2106,1 +2106,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2126,1 +2126,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2130,1 +2130,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2134,1 +2134,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2138,1 +2138,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2142,1 +2142,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2162,1 +2162,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2166,1 +2166,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2170,1 +2170,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2174,1 +2174,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2178,1 +2178,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2182,1 +2182,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2186,1 +2186,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2190,1 +2190,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2210,1 +2210,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2214,1 +2214,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2218,1 +2218,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2222,1 +2222,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2242,1 +2242,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2246,1 +2246,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2250,1 +2250,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2254,1 +2254,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2274,1 +2274,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2278,1 +2278,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2282,1 +2282,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2286,1 +2286,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2290,1 +2290,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2294,1 +2294,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2298,1 +2298,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2302,1 +2302,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2322,1 +2322,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2326,1 +2326,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2330,1 +2330,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2334,1 +2334,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2338,1 +2338,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2342,1 +2342,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2346,1 +2346,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2350,1 +2350,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2370,1 +2370,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2374,1 +2374,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2378,1 +2378,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2382,1 +2382,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2402,1 +2402,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2406,1 +2406,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2410,1 +2410,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2414,1 +2414,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2434,1 +2434,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2438,1 +2438,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2442,1 +2442,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2446,1 +2446,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2450,1 +2450,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2454,1 +2454,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2458,1 +2458,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2462,1 +2462,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2482,1 +2482,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2486,1 +2486,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2490,1 +2490,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2494,1 +2494,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2498,1 +2498,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2502,1 +2502,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2506,1 +2506,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2510,1 +2510,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2530,1 +2530,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2534,1 +2534,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2538,1 +2538,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2542,1 +2542,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2562,1 +2562,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2566,1 +2566,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2570,1 +2570,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2574,1 +2574,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2594,1 +2594,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2598,1 +2598,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2602,1 +2602,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2606,1 +2606,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2610,1 +2610,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2614,1 +2614,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2618,1 +2618,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2622,1 +2622,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2642,1 +2642,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2646,1 +2646,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2650,1 +2650,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2654,1 +2654,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2658,1 +2658,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2662,1 +2662,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2666,1 +2666,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2670,1 +2670,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_I, IRNode.MUL_VI, IRNode.STORE_VECTOR},\n@@ -2690,1 +2690,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2694,1 +2694,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2698,1 +2698,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2702,1 +2702,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2722,1 +2722,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2726,1 +2726,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2730,1 +2730,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2734,1 +2734,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2754,1 +2754,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2758,1 +2758,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2762,1 +2762,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2766,1 +2766,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2770,1 +2770,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2774,1 +2774,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2778,1 +2778,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2782,1 +2782,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2802,1 +2802,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2806,1 +2806,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2810,1 +2810,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2814,1 +2814,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2834,1 +2834,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2838,1 +2838,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -2842,1 +2842,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2846,1 +2846,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -2850,1 +2850,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2854,1 +2854,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -2858,1 +2858,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2862,1 +2862,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -2910,1 +2910,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2914,1 +2914,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2918,1 +2918,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2922,1 +2922,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2942,1 +2942,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2946,1 +2946,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2951,1 +2951,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2956,1 +2956,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2961,1 +2961,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2981,1 +2981,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2985,1 +2985,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -2989,1 +2989,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -2993,1 +2993,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -2997,1 +2997,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3001,1 +3001,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3005,1 +3005,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3009,1 +3009,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3029,1 +3029,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3034,1 +3034,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3039,1 +3039,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3044,1 +3044,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3064,1 +3064,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3068,1 +3068,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3072,1 +3072,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3076,1 +3076,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3096,1 +3096,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3100,1 +3100,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3104,1 +3104,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3108,1 +3108,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3113,1 +3113,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3117,1 +3117,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3121,1 +3121,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3141,1 +3141,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3145,1 +3145,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3149,1 +3149,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3153,1 +3153,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3157,1 +3157,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3161,1 +3161,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3165,1 +3165,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3169,1 +3169,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3189,1 +3189,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3193,1 +3193,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3198,1 +3198,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3202,1 +3202,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3222,1 +3222,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3226,1 +3226,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3230,1 +3230,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3234,1 +3234,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3254,1 +3254,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3258,1 +3258,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3262,1 +3262,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3266,1 +3266,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3270,1 +3270,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3274,1 +3274,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3278,1 +3278,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3282,1 +3282,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3302,1 +3302,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3306,1 +3306,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3310,1 +3310,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3314,1 +3314,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3334,1 +3334,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3338,1 +3338,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3342,1 +3342,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3346,1 +3346,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3350,1 +3350,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3370,1 +3370,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3374,1 +3374,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3378,1 +3378,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3382,1 +3382,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3402,1 +3402,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3406,1 +3406,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3410,1 +3410,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3414,1 +3414,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3418,1 +3418,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3422,1 +3422,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3426,1 +3426,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3430,1 +3430,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3450,1 +3450,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3454,1 +3454,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3458,1 +3458,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3462,1 +3462,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3482,1 +3482,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3486,1 +3486,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3490,1 +3490,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3494,1 +3494,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3498,1 +3498,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3518,1 +3518,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3522,1 +3522,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3526,1 +3526,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3530,1 +3530,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3550,1 +3550,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3554,1 +3554,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3558,1 +3558,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3562,1 +3562,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3566,1 +3566,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3570,1 +3570,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3574,1 +3574,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3594,1 +3594,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3598,1 +3598,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3602,1 +3602,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3606,1 +3606,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3610,1 +3610,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3614,1 +3614,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3618,1 +3618,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3622,1 +3622,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3642,1 +3642,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3646,1 +3646,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3650,1 +3650,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3654,1 +3654,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3674,1 +3674,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3678,1 +3678,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3682,1 +3682,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3686,1 +3686,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3706,1 +3706,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3710,1 +3710,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3714,1 +3714,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3718,1 +3718,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3722,1 +3722,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3726,1 +3726,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3730,1 +3730,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3734,1 +3734,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3754,1 +3754,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3758,1 +3758,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3762,1 +3762,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3766,1 +3766,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3770,1 +3770,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3774,1 +3774,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3778,1 +3778,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3782,1 +3782,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3802,1 +3802,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3806,1 +3806,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3810,1 +3810,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3814,1 +3814,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3834,1 +3834,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3838,1 +3838,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3842,1 +3842,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3846,1 +3846,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3866,1 +3866,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3870,1 +3870,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3874,1 +3874,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3878,1 +3878,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3882,1 +3882,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3886,1 +3886,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3890,1 +3890,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3894,1 +3894,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3914,1 +3914,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3918,1 +3918,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3922,1 +3922,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3926,1 +3926,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3930,1 +3930,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3934,1 +3934,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3938,1 +3938,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3942,1 +3942,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -3962,1 +3962,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3966,1 +3966,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3970,1 +3970,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3974,1 +3974,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3994,1 +3994,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -3998,1 +3998,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4002,1 +4002,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4006,1 +4006,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4026,1 +4026,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4030,1 +4030,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4034,1 +4034,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4038,1 +4038,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4042,1 +4042,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4046,1 +4046,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4050,1 +4050,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4054,1 +4054,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4074,1 +4074,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4078,1 +4078,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -4082,1 +4082,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4086,1 +4086,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -4090,1 +4090,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4094,1 +4094,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -4098,1 +4098,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4102,1 +4102,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.ADD_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_L, IRNode.ADD_VL, IRNode.STORE_VECTOR},\n@@ -4122,1 +4122,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4126,1 +4126,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4130,1 +4130,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4134,1 +4134,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4154,1 +4154,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4158,1 +4158,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4162,1 +4162,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4166,1 +4166,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4186,1 +4186,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4190,1 +4190,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4194,1 +4194,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4198,1 +4198,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4202,1 +4202,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4206,1 +4206,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4210,1 +4210,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4214,1 +4214,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4234,1 +4234,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4238,1 +4238,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4242,1 +4242,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4246,1 +4246,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4266,1 +4266,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4270,1 +4270,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4274,1 +4274,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4278,1 +4278,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4282,1 +4282,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4286,1 +4286,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4290,1 +4290,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4294,1 +4294,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4342,1 +4342,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4346,1 +4346,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4350,1 +4350,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4354,1 +4354,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4375,1 +4375,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4380,1 +4380,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4385,1 +4385,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4390,1 +4390,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4410,1 +4410,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4414,1 +4414,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4418,1 +4418,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4422,1 +4422,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4426,1 +4426,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4430,1 +4430,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4434,1 +4434,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4438,1 +4438,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4459,1 +4459,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4464,1 +4464,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4469,1 +4469,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4474,1 +4474,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4494,1 +4494,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4498,1 +4498,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4502,1 +4502,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4506,1 +4506,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4527,1 +4527,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4532,1 +4532,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4537,1 +4537,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4542,1 +4542,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4562,1 +4562,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4566,1 +4566,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4570,1 +4570,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4574,1 +4574,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4578,1 +4578,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4582,1 +4582,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4586,1 +4586,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4590,1 +4590,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4611,1 +4611,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4616,1 +4616,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4621,1 +4621,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4626,1 +4626,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4646,1 +4646,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4650,1 +4650,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4654,1 +4654,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4658,1 +4658,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4678,1 +4678,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4682,1 +4682,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4687,1 +4687,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4692,1 +4692,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4697,1 +4697,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4717,1 +4717,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4721,1 +4721,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4725,1 +4725,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4729,1 +4729,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4749,1 +4749,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4754,1 +4754,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4759,1 +4759,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4764,1 +4764,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4784,1 +4784,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4788,1 +4788,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4792,1 +4792,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4796,1 +4796,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4816,1 +4816,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4820,1 +4820,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4824,1 +4824,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4828,1 +4828,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4833,1 +4833,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4837,1 +4837,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4841,1 +4841,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4861,1 +4861,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4865,1 +4865,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4869,1 +4869,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4873,1 +4873,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4893,1 +4893,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4897,1 +4897,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4902,1 +4902,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4906,1 +4906,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4926,1 +4926,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4930,1 +4930,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4934,1 +4934,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4938,1 +4938,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4958,1 +4958,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4962,1 +4962,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4967,1 +4967,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4971,1 +4971,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4991,1 +4991,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -4995,1 +4995,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -4999,1 +4999,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5003,1 +5003,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5007,1 +5007,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5011,1 +5011,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5015,1 +5015,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5019,1 +5019,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5039,1 +5039,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5043,1 +5043,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5048,1 +5048,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5052,1 +5052,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5072,1 +5072,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5076,1 +5076,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5080,1 +5080,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5084,1 +5084,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5104,1 +5104,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5108,1 +5108,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5112,1 +5112,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5116,1 +5116,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5120,1 +5120,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5124,1 +5124,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5128,1 +5128,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5132,1 +5132,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5152,1 +5152,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5156,1 +5156,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5160,1 +5160,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5164,1 +5164,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5168,1 +5168,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5172,1 +5172,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5176,1 +5176,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5180,1 +5180,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5200,1 +5200,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5204,1 +5204,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5208,1 +5208,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5212,1 +5212,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5232,1 +5232,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5236,1 +5236,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5240,1 +5240,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5244,1 +5244,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5264,1 +5264,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5268,1 +5268,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5272,1 +5272,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5276,1 +5276,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5280,1 +5280,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5284,1 +5284,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5288,1 +5288,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5292,1 +5292,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5312,1 +5312,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5316,1 +5316,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5320,1 +5320,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5324,1 +5324,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5328,1 +5328,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5332,1 +5332,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5336,1 +5336,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5340,1 +5340,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5360,1 +5360,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5364,1 +5364,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5368,1 +5368,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5372,1 +5372,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5392,1 +5392,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5396,1 +5396,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5400,1 +5400,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5404,1 +5404,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5424,1 +5424,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5428,1 +5428,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5432,1 +5432,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5436,1 +5436,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5440,1 +5440,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5444,1 +5444,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5448,1 +5448,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5452,1 +5452,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5472,1 +5472,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5476,1 +5476,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5480,1 +5480,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5484,1 +5484,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5488,1 +5488,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5492,1 +5492,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5496,1 +5496,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5500,1 +5500,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_S, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5520,1 +5520,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5524,1 +5524,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5528,1 +5528,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5532,1 +5532,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5552,1 +5552,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5556,1 +5556,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5560,1 +5560,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5564,1 +5564,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5584,1 +5584,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5588,1 +5588,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5592,1 +5592,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5596,1 +5596,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5600,1 +5600,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5604,1 +5604,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5608,1 +5608,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5612,1 +5612,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5632,1 +5632,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5636,1 +5636,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5640,1 +5640,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5644,1 +5644,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5664,1 +5664,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5668,1 +5668,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5672,1 +5672,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5676,1 +5676,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5680,1 +5680,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5684,1 +5684,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5688,1 +5688,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5692,1 +5692,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5740,1 +5740,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5744,1 +5744,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5748,1 +5748,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5752,1 +5752,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5773,1 +5773,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5778,1 +5778,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5783,1 +5783,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5788,1 +5788,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5808,1 +5808,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5812,1 +5812,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5816,1 +5816,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5820,1 +5820,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5824,1 +5824,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5828,1 +5828,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5832,1 +5832,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5836,1 +5836,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5857,1 +5857,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5862,1 +5862,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5867,1 +5867,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5872,1 +5872,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5892,1 +5892,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5896,1 +5896,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5900,1 +5900,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5904,1 +5904,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5925,1 +5925,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5930,1 +5930,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5935,1 +5935,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5940,1 +5940,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5960,1 +5960,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5964,1 +5964,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5968,1 +5968,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5972,1 +5972,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5976,1 +5976,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5980,1 +5980,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -5984,1 +5984,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -5988,1 +5988,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6009,1 +6009,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6014,1 +6014,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6019,1 +6019,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6024,1 +6024,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6044,1 +6044,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6048,1 +6048,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6052,1 +6052,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6056,1 +6056,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6076,1 +6076,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6080,1 +6080,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6085,1 +6085,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6090,1 +6090,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6095,1 +6095,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6115,1 +6115,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6119,1 +6119,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6123,1 +6123,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6127,1 +6127,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6147,1 +6147,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6152,1 +6152,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6157,1 +6157,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6162,1 +6162,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6182,1 +6182,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6186,1 +6186,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6190,1 +6190,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6194,1 +6194,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6214,1 +6214,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6218,1 +6218,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6222,1 +6222,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6226,1 +6226,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6231,1 +6231,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6235,1 +6235,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6239,1 +6239,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6259,1 +6259,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6263,1 +6263,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6267,1 +6267,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6271,1 +6271,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6291,1 +6291,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6295,1 +6295,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6300,1 +6300,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6304,1 +6304,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6324,1 +6324,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6328,1 +6328,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6332,1 +6332,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6336,1 +6336,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6356,1 +6356,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6360,1 +6360,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6365,1 +6365,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6369,1 +6369,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6389,1 +6389,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6393,1 +6393,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6397,1 +6397,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6401,1 +6401,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6405,1 +6405,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6409,1 +6409,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6413,1 +6413,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6417,1 +6417,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6437,1 +6437,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6441,1 +6441,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6446,1 +6446,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6450,1 +6450,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6470,1 +6470,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6474,1 +6474,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6478,1 +6478,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6482,1 +6482,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6502,1 +6502,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6506,1 +6506,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6510,1 +6510,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6514,1 +6514,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6518,1 +6518,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6522,1 +6522,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6526,1 +6526,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6530,1 +6530,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6550,1 +6550,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6554,1 +6554,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6558,1 +6558,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6562,1 +6562,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6566,1 +6566,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6570,1 +6570,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6574,1 +6574,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6578,1 +6578,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6598,1 +6598,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6602,1 +6602,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6606,1 +6606,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6610,1 +6610,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6630,1 +6630,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6634,1 +6634,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6638,1 +6638,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6642,1 +6642,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6662,1 +6662,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6666,1 +6666,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6670,1 +6670,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6674,1 +6674,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6678,1 +6678,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6682,1 +6682,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6686,1 +6686,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6690,1 +6690,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6710,1 +6710,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6714,1 +6714,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6718,1 +6718,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6722,1 +6722,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6726,1 +6726,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6730,1 +6730,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6734,1 +6734,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6738,1 +6738,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6758,1 +6758,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6762,1 +6762,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6766,1 +6766,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6770,1 +6770,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6790,1 +6790,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6794,1 +6794,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6798,1 +6798,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6802,1 +6802,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6822,1 +6822,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6826,1 +6826,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6830,1 +6830,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6834,1 +6834,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6838,1 +6838,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6842,1 +6842,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6846,1 +6846,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6850,1 +6850,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6870,1 +6870,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6874,1 +6874,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6878,1 +6878,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6882,1 +6882,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6886,1 +6886,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6890,1 +6890,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6894,1 +6894,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6898,1 +6898,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_C, IRNode.MUL_VS, IRNode.STORE_VECTOR},\n@@ -6918,1 +6918,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6922,1 +6922,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6926,1 +6926,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6930,1 +6930,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6950,1 +6950,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6954,1 +6954,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6958,1 +6958,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6962,1 +6962,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6982,1 +6982,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6986,1 +6986,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6990,1 +6990,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6994,1 +6994,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -6998,1 +6998,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7002,1 +7002,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7006,1 +7006,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7010,1 +7010,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.MUL_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7030,1 +7030,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7034,1 +7034,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7038,1 +7038,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7042,1 +7042,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7062,1 +7062,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7066,1 +7066,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7070,1 +7070,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7074,1 +7074,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7078,1 +7078,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7082,1 +7082,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7086,1 +7086,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7090,1 +7090,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7138,1 +7138,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7142,1 +7142,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7146,1 +7146,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7150,1 +7150,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7154,1 +7154,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7158,1 +7158,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7162,1 +7162,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7166,1 +7166,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7214,1 +7214,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7218,1 +7218,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7222,1 +7222,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7226,1 +7226,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7230,1 +7230,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7234,1 +7234,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7238,1 +7238,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7242,1 +7242,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7290,1 +7290,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7294,1 +7294,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7298,1 +7298,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7302,1 +7302,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7323,1 +7323,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7328,1 +7328,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7333,1 +7333,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7338,1 +7338,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7358,1 +7358,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7362,1 +7362,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7366,1 +7366,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7370,1 +7370,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7374,1 +7374,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7378,1 +7378,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7382,1 +7382,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7386,1 +7386,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7407,1 +7407,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7412,1 +7412,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7417,1 +7417,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7422,1 +7422,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7442,1 +7442,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7446,1 +7446,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7450,1 +7450,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7454,1 +7454,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7475,1 +7475,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7480,1 +7480,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7485,1 +7485,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7490,1 +7490,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7510,1 +7510,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7514,1 +7514,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7518,1 +7518,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7522,1 +7522,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7526,1 +7526,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7530,1 +7530,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7534,1 +7534,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7538,1 +7538,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7559,1 +7559,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7564,1 +7564,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7569,1 +7569,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7574,1 +7574,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7594,1 +7594,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7598,1 +7598,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7602,1 +7602,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7606,1 +7606,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7626,1 +7626,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7630,1 +7630,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7635,1 +7635,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7640,1 +7640,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7645,1 +7645,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7665,1 +7665,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7669,1 +7669,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7673,1 +7673,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7677,1 +7677,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7681,1 +7681,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7685,1 +7685,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7689,1 +7689,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7693,1 +7693,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7713,1 +7713,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7718,1 +7718,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7723,1 +7723,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7728,1 +7728,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7748,1 +7748,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7752,1 +7752,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7756,1 +7756,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7760,1 +7760,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7780,1 +7780,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7785,1 +7785,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7790,1 +7790,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7795,1 +7795,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7815,1 +7815,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7819,1 +7819,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7823,1 +7823,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7827,1 +7827,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7831,1 +7831,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7835,1 +7835,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7839,1 +7839,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7843,1 +7843,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7863,1 +7863,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7868,1 +7868,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7873,1 +7873,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7878,1 +7878,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7898,1 +7898,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7902,1 +7902,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7906,1 +7906,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7910,1 +7910,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7930,1 +7930,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7934,1 +7934,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7938,1 +7938,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7942,1 +7942,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7947,1 +7947,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7951,1 +7951,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7955,1 +7955,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7975,1 +7975,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7979,1 +7979,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7983,1 +7983,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7987,1 +7987,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7991,1 +7991,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -7995,1 +7995,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -7999,1 +7999,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8003,1 +8003,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8023,1 +8023,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8027,1 +8027,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8032,1 +8032,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8036,1 +8036,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8056,1 +8056,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8060,1 +8060,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8064,1 +8064,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8068,1 +8068,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8088,1 +8088,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8092,1 +8092,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8096,1 +8096,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8100,1 +8100,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8104,1 +8104,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8108,1 +8108,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8112,1 +8112,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8116,1 +8116,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8136,1 +8136,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8140,1 +8140,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8144,1 +8144,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8148,1 +8148,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8152,1 +8152,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8156,1 +8156,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8160,1 +8160,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8164,1 +8164,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8184,1 +8184,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8188,1 +8188,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8192,1 +8192,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8196,1 +8196,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8216,1 +8216,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8220,1 +8220,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8224,1 +8224,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8228,1 +8228,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8248,1 +8248,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8252,1 +8252,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8256,1 +8256,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8260,1 +8260,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8264,1 +8264,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8268,1 +8268,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8272,1 +8272,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8276,1 +8276,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8296,1 +8296,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8300,1 +8300,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8304,1 +8304,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8308,1 +8308,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8312,1 +8312,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8316,1 +8316,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8320,1 +8320,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8324,1 +8324,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_B, IRNode.MUL_VB, IRNode.STORE_VECTOR},\n@@ -8344,1 +8344,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8348,1 +8348,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8352,1 +8352,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8356,1 +8356,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8376,1 +8376,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8380,1 +8380,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8384,1 +8384,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8388,1 +8388,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8408,1 +8408,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8412,1 +8412,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8416,1 +8416,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8420,1 +8420,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8424,1 +8424,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8428,1 +8428,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8432,1 +8432,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8436,1 +8436,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.MUL_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8456,1 +8456,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8460,1 +8460,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8464,1 +8464,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8468,1 +8468,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8488,1 +8488,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8492,1 +8492,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8496,1 +8496,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8500,1 +8500,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8504,1 +8504,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8508,1 +8508,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8512,1 +8512,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8516,1 +8516,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8564,1 +8564,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8568,1 +8568,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8572,1 +8572,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8576,1 +8576,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8597,1 +8597,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8602,1 +8602,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8607,1 +8607,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8612,1 +8612,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8632,1 +8632,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8636,1 +8636,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8640,1 +8640,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8644,1 +8644,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8648,1 +8648,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8652,1 +8652,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8656,1 +8656,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8660,1 +8660,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8681,1 +8681,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8686,1 +8686,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8691,1 +8691,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8696,1 +8696,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8716,1 +8716,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8720,1 +8720,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8724,1 +8724,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8728,1 +8728,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8748,1 +8748,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8752,1 +8752,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8757,1 +8757,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8762,1 +8762,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8767,1 +8767,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8787,1 +8787,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8791,1 +8791,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8795,1 +8795,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8799,1 +8799,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8803,1 +8803,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8807,1 +8807,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8811,1 +8811,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8815,1 +8815,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -8835,1 +8835,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8840,1 +8840,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8845,1 +8845,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8850,1 +8850,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8870,1 +8870,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8874,1 +8874,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8878,1 +8878,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8882,1 +8882,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8902,1 +8902,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8906,1 +8906,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8910,1 +8910,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8914,1 +8914,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8919,1 +8919,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8923,1 +8923,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8927,1 +8927,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8947,1 +8947,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8951,1 +8951,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8955,1 +8955,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8959,1 +8959,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8979,1 +8979,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8983,1 +8983,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8988,1 +8988,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -8992,1 +8992,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9012,1 +9012,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9016,1 +9016,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9020,1 +9020,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9024,1 +9024,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9044,1 +9044,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9048,1 +9048,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9052,1 +9052,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9056,1 +9056,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9060,1 +9060,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9064,1 +9064,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9068,1 +9068,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9072,1 +9072,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9092,1 +9092,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9096,1 +9096,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9100,1 +9100,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9104,1 +9104,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9124,1 +9124,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9128,1 +9128,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9132,1 +9132,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9136,1 +9136,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9156,1 +9156,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9160,1 +9160,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9164,1 +9164,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9168,1 +9168,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9188,1 +9188,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9192,1 +9192,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9196,1 +9196,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9200,1 +9200,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9204,1 +9204,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9224,1 +9224,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9228,1 +9228,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9232,1 +9232,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9236,1 +9236,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9240,1 +9240,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9244,1 +9244,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9248,1 +9248,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9252,1 +9252,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9272,1 +9272,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9276,1 +9276,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9280,1 +9280,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9284,1 +9284,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9304,1 +9304,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9308,1 +9308,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9312,1 +9312,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9316,1 +9316,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9336,1 +9336,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9340,1 +9340,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9344,1 +9344,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9348,1 +9348,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9352,1 +9352,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9356,1 +9356,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9360,1 +9360,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9364,1 +9364,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9384,1 +9384,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9388,1 +9388,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9392,1 +9392,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9396,1 +9396,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9400,1 +9400,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9404,1 +9404,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9408,1 +9408,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9412,1 +9412,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9432,1 +9432,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9436,1 +9436,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9440,1 +9440,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9444,1 +9444,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9464,1 +9464,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9468,1 +9468,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9472,1 +9472,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9476,1 +9476,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9496,1 +9496,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9500,1 +9500,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9504,1 +9504,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9508,1 +9508,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9512,1 +9512,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9516,1 +9516,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9520,1 +9520,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9524,1 +9524,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9544,1 +9544,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9548,1 +9548,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9552,1 +9552,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9556,1 +9556,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9560,1 +9560,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9564,1 +9564,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9568,1 +9568,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9572,1 +9572,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9592,1 +9592,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9596,1 +9596,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9600,1 +9600,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9604,1 +9604,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9624,1 +9624,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9628,1 +9628,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9632,1 +9632,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9636,1 +9636,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9656,1 +9656,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9660,1 +9660,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9664,1 +9664,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9668,1 +9668,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9672,1 +9672,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9676,1 +9676,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9680,1 +9680,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9684,1 +9684,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9704,1 +9704,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9708,1 +9708,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9712,1 +9712,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9716,1 +9716,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9720,1 +9720,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9724,1 +9724,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9728,1 +9728,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9732,1 +9732,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.MUL_VF, IRNode.STORE_VECTOR},\n@@ -9752,1 +9752,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9756,1 +9756,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9760,1 +9760,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9764,1 +9764,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9784,1 +9784,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9788,1 +9788,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9792,1 +9792,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9796,1 +9796,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9816,1 +9816,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9820,1 +9820,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9824,1 +9824,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9828,1 +9828,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9832,1 +9832,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9836,1 +9836,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9840,1 +9840,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9844,1 +9844,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9864,1 +9864,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9868,1 +9868,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9872,1 +9872,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9876,1 +9876,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9896,1 +9896,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9900,1 +9900,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -9904,1 +9904,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9908,1 +9908,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -9912,1 +9912,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9916,1 +9916,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -9920,1 +9920,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9924,1 +9924,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -9972,1 +9972,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9976,1 +9976,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9980,1 +9980,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -9984,1 +9984,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10004,1 +10004,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10008,1 +10008,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10013,1 +10013,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10018,1 +10018,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10023,1 +10023,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10043,1 +10043,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10047,1 +10047,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10051,1 +10051,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10055,1 +10055,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10059,1 +10059,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10063,1 +10063,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10067,1 +10067,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10071,1 +10071,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10091,1 +10091,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10096,1 +10096,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10101,1 +10101,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10106,1 +10106,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10126,1 +10126,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10130,1 +10130,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10134,1 +10134,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10138,1 +10138,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10158,1 +10158,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10162,1 +10162,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10166,1 +10166,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10170,1 +10170,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10175,1 +10175,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10179,1 +10179,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10183,1 +10183,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10203,1 +10203,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10207,1 +10207,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10211,1 +10211,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10215,1 +10215,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10219,1 +10219,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10223,1 +10223,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10227,1 +10227,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10231,1 +10231,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10251,1 +10251,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10255,1 +10255,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10260,1 +10260,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10264,1 +10264,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10284,1 +10284,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10288,1 +10288,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10292,1 +10292,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10296,1 +10296,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10316,1 +10316,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10320,1 +10320,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10324,1 +10324,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10328,1 +10328,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10332,1 +10332,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10336,1 +10336,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10340,1 +10340,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10344,1 +10344,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10364,1 +10364,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10368,1 +10368,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10372,1 +10372,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10376,1 +10376,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10396,1 +10396,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10400,1 +10400,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10404,1 +10404,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10408,1 +10408,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10412,1 +10412,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10432,1 +10432,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10436,1 +10436,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10440,1 +10440,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10444,1 +10444,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10464,1 +10464,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10468,1 +10468,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10472,1 +10472,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10476,1 +10476,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10480,1 +10480,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10484,1 +10484,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10488,1 +10488,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10492,1 +10492,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10512,1 +10512,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10516,1 +10516,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10520,1 +10520,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10524,1 +10524,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10544,1 +10544,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10548,1 +10548,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10552,1 +10552,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10556,1 +10556,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10560,1 +10560,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10580,1 +10580,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10584,1 +10584,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10588,1 +10588,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10592,1 +10592,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10612,1 +10612,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10616,1 +10616,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10620,1 +10620,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10624,1 +10624,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10628,1 +10628,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10632,1 +10632,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10636,1 +10636,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10656,1 +10656,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10660,1 +10660,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10664,1 +10664,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10668,1 +10668,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10672,1 +10672,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10676,1 +10676,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10680,1 +10680,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10684,1 +10684,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10704,1 +10704,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10708,1 +10708,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10712,1 +10712,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10716,1 +10716,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10736,1 +10736,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10740,1 +10740,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10744,1 +10744,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10748,1 +10748,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10768,1 +10768,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10772,1 +10772,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10776,1 +10776,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10780,1 +10780,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10784,1 +10784,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10788,1 +10788,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10792,1 +10792,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10796,1 +10796,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10816,1 +10816,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10820,1 +10820,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10824,1 +10824,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10828,1 +10828,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10832,1 +10832,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10836,1 +10836,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10840,1 +10840,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10844,1 +10844,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10864,1 +10864,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10868,1 +10868,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10872,1 +10872,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10876,1 +10876,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10896,1 +10896,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10900,1 +10900,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10904,1 +10904,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10908,1 +10908,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10928,1 +10928,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10932,1 +10932,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10936,1 +10936,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10940,1 +10940,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10944,1 +10944,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10948,1 +10948,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10952,1 +10952,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10956,1 +10956,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10976,1 +10976,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10980,1 +10980,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10984,1 +10984,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10988,1 +10988,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -10992,1 +10992,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -10996,1 +10996,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -11000,1 +11000,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11004,1 +11004,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -11024,1 +11024,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11028,1 +11028,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11032,1 +11032,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11036,1 +11036,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11056,1 +11056,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11060,1 +11060,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11064,1 +11064,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11068,1 +11068,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11088,1 +11088,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11092,1 +11092,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11096,1 +11096,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11100,1 +11100,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11104,1 +11104,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11108,1 +11108,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11112,1 +11112,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11116,1 +11116,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11136,1 +11136,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11140,1 +11140,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -11144,1 +11144,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11148,1 +11148,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -11152,1 +11152,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11156,1 +11156,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -11160,1 +11160,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11164,1 +11164,1 @@\n-    @IR(failOn = {IRNode.LOAD_VECTOR, IRNode.MUL_V, IRNode.STORE_VECTOR},\n+    @IR(failOn = {IRNode.LOAD_VECTOR_D, IRNode.MUL_VD, IRNode.STORE_VECTOR},\n@@ -11184,1 +11184,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11188,1 +11188,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11192,1 +11192,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11196,1 +11196,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11216,1 +11216,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11220,1 +11220,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11224,1 +11224,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11228,1 +11228,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11248,1 +11248,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11252,1 +11252,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11256,1 +11256,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11260,1 +11260,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11264,1 +11264,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11268,1 +11268,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11272,1 +11272,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -11276,1 +11276,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.MUL_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.MUL_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestDependencyOffsets.java","additions":1381,"deletions":1381,"binary":false,"changes":2762,"status":"modified"},{"patch":"@@ -146,1 +146,1 @@\n-    @IR(counts = {IRNode.ADD_VI, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.VECTOR_CAST_F2X, \"> 0\", IRNode.VECTOR_CAST_I2X, \"> 0\"},\n+    @IR(counts = {IRNode.ADD_VI, \"> 0\", IRNode.MUL_VF, \"> 0\", IRNode.VECTOR_CAST_F2I, \"> 0\", IRNode.VECTOR_CAST_I2F, \"> 0\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestIndependentPacksWithCyclicDependency.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,2 @@\n- * @bug 8316679\n+ * @requires vm.cpu.features ~= \".*avx2.*\"\n+ * @bug 8316679 8316594\n@@ -31,0 +32,1 @@\n+ * @modules java.base\/jdk.internal.misc\n@@ -35,0 +37,1 @@\n+ *                   --add-modules java.base --add-exports java.base\/jdk.internal.misc=ALL-UNNAMED\n@@ -41,0 +44,1 @@\n+import jdk.internal.misc.Unsafe;\n@@ -45,0 +49,2 @@\n+    static int NINE = 9;\n+\n@@ -46,0 +52,1 @@\n+    static Unsafe UNSAFE = Unsafe.getUnsafe();\n@@ -49,0 +56,1 @@\n+        byte b[] = new byte[RANGE];\n@@ -59,0 +67,24 @@\n+        for (int i = 0; i < 100; i++) {\n+            for (int j = 0; j < a.length; j++) {\n+                a[j] = (byte)random.nextInt();\n+                b[j] = (byte)random.nextInt();\n+            }\n+            byte[] a_ref = a.clone();\n+            byte[] b_ref = b.clone();\n+            byte[] a_res = a.clone();\n+            byte[] b_res = b.clone();\n+            ref2(a_ref, b_ref);\n+            test2(a_res, b_res);\n+            verify(\"a in test2\", a_ref, a_res, a);\n+            verify(\"b in test2\", b_ref, b_res, b);\n+        }\n+        for (int i = 0; i < 100; i++) {\n+            for (int j = 0; j < a.length; j++) {\n+                a[j] = (byte)random.nextInt();\n+            }\n+            byte[] a_ref = a.clone();\n+            byte[] a_res = a.clone();\n+            ref3(a_ref);\n+            test3(a_res);\n+            verify(\"a in test3\", a_ref, a_res, a);\n+        }\n@@ -99,0 +131,56 @@\n+\n+    static void test2(byte[] a, byte[] b) {\n+        for (int i = 46; i < 6000; i++) {\n+            a[47 + i + 0]++;\n+            a[47 + i + 1]++;\n+            a[47 + i + 2]++;\n+            a[47 + i + 3]++;\n+            b[NINE + i + 0]++;\n+            b[NINE + i + 1]++;\n+            b[NINE + i + 2]++;\n+            b[NINE + i + 3]++;\n+        }\n+    }\n+\n+    static void ref2(byte[] a, byte[] b) {\n+        for (int i = 46; i < 6000; i++) {\n+            a[47 + i + 0]++;\n+            a[47 + i + 1]++;\n+            a[47 + i + 2]++;\n+            a[47 + i + 3]++;\n+            b[NINE + i + 0]++;\n+            b[NINE + i + 1]++;\n+            b[NINE + i + 2]++;\n+            b[NINE + i + 3]++;\n+        }\n+    }\n+\n+    static void test3(byte[] a) {\n+        for (int i = 51; i < 6000; i++) {\n+            int adr = UNSAFE.ARRAY_BYTE_BASE_OFFSET + 42 + i;\n+            UNSAFE.putIntUnaligned(a, adr + 0*4, UNSAFE.getIntUnaligned(a, adr + 0*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 1*4, UNSAFE.getIntUnaligned(a, adr + 1*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 2*4, UNSAFE.getIntUnaligned(a, adr + 2*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 3*4, UNSAFE.getIntUnaligned(a, adr + 3*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 4*4, UNSAFE.getIntUnaligned(a, adr + 4*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 5*4, UNSAFE.getIntUnaligned(a, adr + 5*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 6*4, UNSAFE.getIntUnaligned(a, adr + 6*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 7*4, UNSAFE.getIntUnaligned(a, adr + 7*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 8*4, UNSAFE.getIntUnaligned(a, adr + 8*4) + 1);\n+        }\n+    }\n+\n+    static void ref3(byte[] a) {\n+        for (int i = 51; i < 6000; i++) {\n+            int adr = UNSAFE.ARRAY_BYTE_BASE_OFFSET + 42 + i;\n+            UNSAFE.putIntUnaligned(a, adr + 0*4, UNSAFE.getIntUnaligned(a, adr + 0*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 1*4, UNSAFE.getIntUnaligned(a, adr + 1*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 2*4, UNSAFE.getIntUnaligned(a, adr + 2*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 3*4, UNSAFE.getIntUnaligned(a, adr + 3*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 4*4, UNSAFE.getIntUnaligned(a, adr + 4*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 5*4, UNSAFE.getIntUnaligned(a, adr + 5*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 6*4, UNSAFE.getIntUnaligned(a, adr + 6*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 7*4, UNSAFE.getIntUnaligned(a, adr + 7*4) + 1);\n+            UNSAFE.putIntUnaligned(a, adr + 8*4, UNSAFE.getIntUnaligned(a, adr + 8*4) + 1);\n+        }\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestMovingLoadBeforeStore.java","additions":89,"deletions":1,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -25,2 +25,2 @@\n- * @test\n- * @bug 8302652\n+ * @test id=Vanilla-Unaligned\n+ * @bug 8302652 8314612\n@@ -28,0 +28,1 @@\n+ * @requires vm.compiler2.enabled\n@@ -29,1 +30,28 @@\n- * @run driver compiler.loopopts.superword.TestUnorderedReduction\n+ * @run driver compiler.loopopts.superword.TestUnorderedReduction Vanilla-Unaligned\n+ *\/\n+\n+\/**\n+ * @test id=Vanilla-Aligned\n+ * @bug 8302652 8314612\n+ * @summary Special test cases for PhaseIdealLoop::move_unordered_reduction_out_of_loop\n+ * @requires vm.compiler2.enabled\n+ * @library \/test\/lib \/\n+ * @run driver compiler.loopopts.superword.TestUnorderedReduction Vanilla-Aligned\n+ *\/\n+\n+\/**\n+ * @test id=MaxVectorSize16-Unaligned\n+ * @bug 8302652 8314612\n+ * @summary Special test cases for PhaseIdealLoop::move_unordered_reduction_out_of_loop\n+ * @requires vm.compiler2.enabled\n+ * @library \/test\/lib \/\n+ * @run driver compiler.loopopts.superword.TestUnorderedReduction MaxVectorSize16-Unaligned\n+ *\/\n+\n+\/**\n+ * @test id=MaxVectorSize32-Aligned\n+ * @bug 8302652 8314612\n+ * @summary Special test cases for PhaseIdealLoop::move_unordered_reduction_out_of_loop\n+ * @requires vm.compiler2.enabled\n+ * @library \/test\/lib \/\n+ * @run driver compiler.loopopts.superword.TestUnorderedReduction MaxVectorSize32-Aligned\n@@ -41,3 +69,16 @@\n-        TestFramework.runWithFlags(\"-Xbatch\",\n-                                   \"-XX:CompileCommand=compileonly,compiler.loopopts.superword.TestUnorderedReduction::test*\",\n-                                   \"-XX:MaxVectorSize=16\");\n+        TestFramework framework = new TestFramework(TestUnorderedReduction.class);\n+        framework.addFlags(\"-Xbatch\",\n+                           \"-XX:CompileCommand=compileonly,compiler.loopopts.superword.TestUnorderedReduction::test*\");\n+\n+        if (args.length != 1) {\n+            throw new RuntimeException(\"Test requires exactly one argument!\");\n+        }\n+\n+        switch (args[0]) {\n+            case \"Vanilla-Unaligned\"         -> { framework.addFlags(\"-XX:-AlignVector\"); }\n+            case \"Vanilla-Aligned\"           -> { framework.addFlags(\"-XX:+AlignVector\"); }\n+            case \"MaxVectorSize16-Unaligned\" -> { framework.addFlags(\"-XX:-AlignVector\", \"-XX:MaxVectorSize=16\"); }\n+            case \"MaxVectorSize32-Aligned\"   -> { framework.addFlags(\"-XX:+AlignVector\", \"-XX:MaxVectorSize=32\"); }\n+            default -> { throw new RuntimeException(\"Test argument not recognized: \" + args[0]); }\n+        }\n+        framework.start();\n@@ -78,1 +119,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\",\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\",\n@@ -81,0 +122,1 @@\n+        applyIfAnd = {\"MaxVectorSize\", \"=16\", \"AlignVector\", \"false\"},\n@@ -117,1 +159,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\",\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\",\n@@ -121,0 +163,1 @@\n+        applyIfAnd = {\"MaxVectorSize\", \"=16\", \"AlignVector\", \"false\"},\n@@ -152,1 +195,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\",\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\",\n@@ -156,0 +199,1 @@\n+        applyIfAnd = {\"MaxVectorSize\", \"=16\", \"AlignVector\", \"false\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestUnorderedReduction.java","additions":53,"deletions":9,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -62,2 +62,3 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\",\n-                  IRNode.OR_REDUCTION_V, \"> 0\",},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,   IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.OR_REDUCTION_V,                                                 \"> 0\",},\n@@ -78,1 +79,1 @@\n-            sum |= v;        \/\/ long reduction\n+            sum |= v;        \/\/ long reduction (and implicit cast from int to long)\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestUnorderedReductionPartialVectorization.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\", \"-XX:+PrintFlagsFinal\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\", \"-XX:+PrintFlagsFinal\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/loopstripmining\/CheckLoopStripMiningIterShortLoop.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n","filename":"test\/hotspot\/jtreg\/compiler\/loopstripmining\/TestNoWarningLoopStripMiningIterSet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWait.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(command);\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWaitAArch64.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-            checkFinalFlagsEqualTo(ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:+PrintFlagsFinal\", \"-version\"),\n+            checkFinalFlagsEqualTo(ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:+PrintFlagsFinal\", \"-version\"),\n@@ -92,1 +92,1 @@\n-            checkFinalFlagsEqualTo(ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:OnSpinWaitInstCount=2\", \"-XX:+PrintFlagsFinal\", \"-version\"),\n+            checkFinalFlagsEqualTo(ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:OnSpinWaitInstCount=2\", \"-XX:+PrintFlagsFinal\", \"-version\"),\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWaitAArch64DefaultFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWaitC1.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(command);\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWaitNoneAArch64.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(command);\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWaitRISCV64.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -254,1 +254,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n@@ -269,1 +269,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n@@ -280,1 +280,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/compiler\/oracle\/CheckCompileCommandOption.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/compiler\/oracle\/TestCompileCommand.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/compiler\/oracle\/TestInvalidCompileCommand.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/rangechecks\/TestRangeCheckHoistingScaledIV.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,1 @@\n-            oa = ProcessTools.executeProcess(ProcessTools.createTestJvm(\n+            oa = ProcessTools.executeProcess(ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/runtime\/cr8015436\/Driver8015436.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,2 +26,1 @@\n- * @test SharedStubToInterpTest\n- * @summary Checks that stubs to the interpreter can be shared for static or final method.\n+ * @test id=C1\n@@ -29,0 +28,1 @@\n+ * @summary Checks that stubs to the interpreter can be shared for static or final method.\n@@ -30,0 +30,4 @@\n+ * @requires vm.opt.TieredStopAtLevel == null & vm.opt.TieredCompilation == null\n+ * @requires vm.simpleArch == \"x86\" | vm.simpleArch == \"x64\" | vm.simpleArch == \"aarch64\" | vm.simpleArch == \"riscv64\"\n+ * @requires vm.debug\n+ * @run driver compiler.sharedstubs.SharedStubToInterpTest -XX:TieredStopAtLevel=1\n@@ -31,1 +35,3 @@\n- * @requires os.arch==\"amd64\" | os.arch==\"x86_64\" | os.arch==\"i386\" | os.arch==\"x86\" | os.arch==\"aarch64\" | os.arch==\"riscv64\"\n+ * @test id=C2\n+ * @requires vm.opt.TieredStopAtLevel == null & vm.opt.TieredCompilation == null\n+ * @requires vm.simpleArch == \"x86\" | vm.simpleArch == \"x64\" | vm.simpleArch == \"aarch64\" | vm.simpleArch == \"riscv64\"\n@@ -33,0 +39,1 @@\n+ * @run driver compiler.sharedstubs.SharedStubToInterpTest -XX:-TieredCompilation\n@@ -34,1 +41,0 @@\n- * @run driver compiler.sharedstubs.SharedStubToInterpTest\n@@ -48,1 +54,1 @@\n-    private static void runTest(String compiler, String test) throws Exception {\n+    private static void runTest(String test) throws Exception {\n@@ -51,1 +57,0 @@\n-        command.add(compiler);\n@@ -64,1 +69,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(command);\n@@ -76,8 +81,3 @@\n-        List<String> compilers = java.util.Arrays.asList(\"-XX:-TieredCompilation\" \/* C2 *\/,\n-            \"-XX:TieredStopAtLevel=1\" \/* C1 *\/);\n-        List<String> tests = java.util.Arrays.asList(\"StaticMethodTest\",\n-            \"FinalClassTest\", \"FinalMethodTest\");\n-        for (String compiler : compilers) {\n-            for (String test : tests) {\n-                runTest(compiler, test);\n-            }\n+        String[] methods = new String[] { \"StaticMethodTest\", \"FinalClassTest\", \"FinalMethodTest\"};\n+        for (String methodName : methods) {\n+            runTest(methodName);\n","filename":"test\/hotspot\/jtreg\/compiler\/sharedstubs\/SharedStubToInterpTest.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test SharedTrampolineTest\n+ * @test SharedTrampolineTest id=C2\n@@ -31,0 +31,1 @@\n+ * @requires vm.opt.TieredCompilation == null\n@@ -34,1 +35,1 @@\n- * @run driver compiler.sharedstubs.SharedTrampolineTest\n+ * @run driver compiler.sharedstubs.SharedTrampolineTest -XX:-TieredCompilation\n@@ -40,1 +41,0 @@\n-import java.util.Iterator;\n@@ -42,1 +42,0 @@\n-import java.util.stream.Collectors;\n@@ -50,1 +49,1 @@\n-    private static void runTest(String compiler, String test) throws Exception {\n+    private static void runTest(String test) throws Exception {\n@@ -53,1 +52,0 @@\n-        command.add(compiler);\n@@ -63,1 +61,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(command);\n@@ -75,6 +73,3 @@\n-        List<String> compilers = List.of(\"-XX:-TieredCompilation\" \/* C2 *\/);\n-        List<String> tests = List.of(\"StaticMethodTest\");\n-        for (String compiler : compilers) {\n-            for (String test : tests) {\n-                runTest(compiler, test);\n-            }\n+        String[] tests = new String[] {\"StaticMethodTest\"};\n+        for (String test : tests) {\n+            runTest(test);\n","filename":"test\/hotspot\/jtreg\/compiler\/sharedstubs\/SharedTrampolineTest.java","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:CICompilerCount=-1\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:CICompilerCount=-1\");\n","filename":"test\/hotspot\/jtreg\/compiler\/startup\/NumCompilerThreadsCheck.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,4 +47,4 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=3m\",\n-                                                                  \"-XX:CICompilerCount=64\",\n-                                                                  \"-Xcomp\",\n-                                                                  \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ReservedCodeCacheSize=3m\",\n+                                                                             \"-XX:CICompilerCount=64\",\n+                                                                             \"-Xcomp\",\n+                                                                             \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/startup\/SmallCodeCacheStartup.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xint\", \"-XX:+DisplayVMOutputToStdout\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xint\", \"-XX:+DisplayVMOutputToStdout\", \"-version\");\n@@ -51,1 +51,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xint\", \"-XX:ReservedCodeCacheSize=1770K\", \"-XX:InitialCodeCacheSize=4K\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xint\", \"-XX:ReservedCodeCacheSize=1770K\", \"-XX:InitialCodeCacheSize=4K\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/compiler\/startup\/StartupOutput.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-                = ProcessTools.createJavaProcessBuilder(\n+                = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -86,1 +86,1 @@\n-                = ProcessTools.createJavaProcessBuilder(\n+                = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/compiler\/testlibrary\/rtm\/RTMTestBase.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -207,1 +207,2 @@\n-            private final int iter = 10;\n+            \/\/ Make sure that loop backedge is never taken to prevent unexpected OSR compilations.\n+            private final int iter = 1;\n","filename":"test\/hotspot\/jtreg\/compiler\/tiered\/LevelTransitionTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -89,1 +89,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createTestJvm(OPTIONS);\n+        ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(OPTIONS);\n","filename":"test\/hotspot\/jtreg\/compiler\/types\/correctness\/OffTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- *                   -XX:+IgnoreUnrecognizedVMOptions -XX:-AlwaysIncrementalInline\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:-AlwaysIncrementalInline -XX:-StressIncrementalInlining\n","filename":"test\/hotspot\/jtreg\/compiler\/uncommontrap\/Decompile.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -283,1 +283,3 @@\n-    @IR(applyIfAnd = {\"UseAVX\", \"3\", \"UseSSE\", \" > 3 \"}, counts = {IRNode.AND_V, \" > 0 \", IRNode.XOR_V, \" > 0 \"})\n+    @IR(applyIfAnd = {\"UseAVX\", \"3\", \"UseSSE\", \" > 3 \"},\n+        counts = {IRNode.AND_VI, IRNode.VECTOR_SIZE_4, \" > 0 \",\n+                  IRNode.XOR_VI, IRNode.VECTOR_SIZE_4, \" > 0 \"})\n@@ -288,1 +290,3 @@\n-    @IR(applyIfAnd = {\"UseAVX\", \"3\", \"UseSSE\", \" > 3 \"}, counts = {IRNode.AND_V, \" > 0 \", IRNode.XOR_V, \" > 0 \"})\n+    @IR(applyIfAnd = {\"UseAVX\", \"3\", \"UseSSE\", \" > 3 \"},\n+        counts = {IRNode.AND_VI, IRNode.VECTOR_SIZE_8, \" > 0 \",\n+                  IRNode.XOR_VI, IRNode.VECTOR_SIZE_8, \" > 0 \"})\n@@ -293,1 +297,3 @@\n-    @IR(applyIfAnd = {\"UseAVX\", \"3\", \"UseSSE\", \" > 3 \"}, counts = {IRNode.AND_V, \" > 0 \", IRNode.XOR_V, \" > 0 \"})\n+    @IR(applyIfAnd = {\"UseAVX\", \"3\", \"UseSSE\", \" > 3 \"},\n+        counts = {IRNode.AND_VI, IRNode.VECTOR_SIZE_16, \" > 0 \",\n+                  IRNode.XOR_VI, IRNode.VECTOR_SIZE_16, \" > 0 \"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/TestMaskedMacroLogicVector.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_V , \" > 0 \"})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_VL, \" > 0 \"})\n@@ -103,1 +103,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_V , \" > 0 \"})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_VL, \" > 0 \"})\n@@ -123,1 +123,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, failOn = {IRNode.REVERSE_BYTES_VL})\n@@ -141,1 +141,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_V , \" > 0 \"})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_VI, \" > 0 \"})\n@@ -160,1 +160,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_V , \" > 0 \"})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_VI, \" > 0 \"})\n@@ -180,1 +180,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, failOn = {IRNode.REVERSE_BYTES_VI})\n@@ -198,1 +198,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_V , \" > 0 \"})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_VS, \" > 0 \"})\n@@ -217,1 +217,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_V , \" > 0 \"})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, counts = {IRNode.REVERSE_BYTES_VS, \" > 0 \"})\n@@ -237,1 +237,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"avx2\", \"true\"}, failOn = {IRNode.REVERSE_BYTES_VS})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/TestReverseByteTransforms.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-    @IR(applyIf = {\"UseSVE\", \" > 0\"}, failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(applyIf = {\"UseSVE\", \" > 0\"}, failOn = {IRNode.REVERSE_BYTES_VL})\n@@ -100,1 +100,1 @@\n-    @IR(applyIf = {\"UseSVE\", \" > 0\"}, failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(applyIf = {\"UseSVE\", \" > 0\"}, failOn = {IRNode.REVERSE_BYTES_VI})\n@@ -119,1 +119,1 @@\n-    @IR(applyIf = {\"UseSVE\", \" > 0\"}, failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(applyIf = {\"UseSVE\", \" > 0\"}, failOn = {IRNode.REVERSE_BYTES_VS})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/TestReverseByteTransformsSVE.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-    @IR(counts = {IRNode.COMPRESS_BITSV, \"> 0\"})\n+    @IR(counts = {IRNode.COMPRESS_BITS_VI, \"> 0\"})\n@@ -99,1 +99,1 @@\n-    @IR(counts = {IRNode.EXPAND_BITSV, \"> 0\"})\n+    @IR(counts = {IRNode.EXPAND_BITS_VI, \"> 0\"})\n@@ -118,1 +118,1 @@\n-    @IR(counts = {IRNode.COMPRESS_BITSV, \"> 0\"})\n+    @IR(counts = {IRNode.COMPRESS_BITS_VL, \"> 0\"})\n@@ -137,1 +137,1 @@\n-    @IR(counts = {IRNode.EXPAND_BITSV, \"> 0\"})\n+    @IR(counts = {IRNode.EXPAND_BITS_VL, \"> 0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/TestVectorCompressExpandBits.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -89,1 +89,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_F2X, \"> 0\"}, applyIfCPUFeature = {\"avx512f\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2I, IRNode.VECTOR_SIZE_16, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512f\", \"true\"})\n@@ -106,1 +107,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_F2X, \"> 0\"}, applyIfCPUFeature = {\"avx512dq\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE_8, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512dq\", \"true\"})\n@@ -123,1 +125,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_F2X, \"> 0\"}, applyIfCPUFeature = {\"avx512f\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE_16, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512f\", \"true\"})\n@@ -140,1 +143,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_F2X, \"> 0\"}, applyIfCPUFeature = {\"avx512f\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2B, IRNode.VECTOR_SIZE_16, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512f\", \"true\"})\n@@ -157,1 +161,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_D2X, \"> 0\"}, applyIfCPUFeature = {\"avx512f\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2I, IRNode.VECTOR_SIZE_8, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512f\", \"true\"})\n@@ -174,1 +179,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_D2X, \"> 0\"}, applyIfCPUFeature = {\"avx512dq\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE_8, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512dq\", \"true\"})\n@@ -191,1 +197,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_D2X, \"> 0\"}, applyIfCPUFeature = {\"avx512f\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE_8, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512f\", \"true\"})\n@@ -208,1 +215,2 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_D2X, \"> 0\"}, applyIfCPUFeature = {\"avx512f\", \"true\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2B, IRNode.VECTOR_SIZE_8, \"> 0\"},\n+        applyIfCPUFeature = {\"avx512f\", \"true\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorFPtoIntCastTest.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-    @IR(failOn = IRNode.AND_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.AND_VB, counts = {IRNode.LOAD_VECTOR_B, \">=1\"})\n@@ -120,1 +120,1 @@\n-    @IR(failOn = IRNode.AND_V, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.AND_VS, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -133,1 +133,1 @@\n-    @IR(failOn = IRNode.AND_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.AND_VI, counts = {IRNode.LOAD_VECTOR_I, \">=1\"})\n@@ -146,1 +146,1 @@\n-    @IR(failOn = IRNode.AND_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.AND_VL, counts = {IRNode.LOAD_VECTOR_L, \">=1\"})\n@@ -166,2 +166,2 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">=1\"})\n-    @IR(failOn = IRNode.AND_V, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \">=1\"})\n+    @IR(failOn = IRNode.AND_VB, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n@@ -188,1 +188,1 @@\n-    @IR(failOn = IRNode.AND_V, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n+    @IR(failOn = IRNode.AND_VS, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n@@ -207,1 +207,1 @@\n-    @IR(failOn = IRNode.AND_V, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.AND_VI, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -226,1 +226,1 @@\n-    @IR(failOn = IRNode.AND_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.AND_VL, counts = {IRNode.LOAD_VECTOR_L, \">=1\"})\n@@ -245,1 +245,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"})\n+    @IR(counts = {IRNode.AND_VI, \"1\"})\n@@ -260,1 +260,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"})\n+    @IR(counts = {IRNode.AND_VL, \"1\"})\n@@ -275,1 +275,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"})\n+    @IR(counts = {IRNode.AND_VI, \"1\"})\n@@ -290,1 +290,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"})\n+    @IR(counts = {IRNode.AND_VL, \"1\"})\n@@ -305,1 +305,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n+    @IR(counts = {IRNode.AND_VI, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n@@ -326,1 +326,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n+    @IR(counts = {IRNode.AND_VL, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n@@ -347,1 +347,1 @@\n-    @IR(counts = {IRNode.AND_V, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n+    @IR(counts = {IRNode.AND_VI, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n@@ -371,1 +371,1 @@\n-    @IR(failOn = IRNode.OR_V, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.OR_VB, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -384,1 +384,1 @@\n-    @IR(failOn = IRNode.OR_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.OR_VS, counts = {IRNode.LOAD_VECTOR_S, \">=1\"})\n@@ -397,1 +397,1 @@\n-    @IR(failOn = IRNode.OR_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.OR_VI, counts = {IRNode.LOAD_VECTOR_I, \">=1\"})\n@@ -412,1 +412,1 @@\n-    @IR(failOn = IRNode.OR_V, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n+    @IR(failOn = IRNode.OR_VB, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n@@ -431,1 +431,1 @@\n-    @IR(failOn = IRNode.OR_V, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.OR_VB, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -450,1 +450,1 @@\n-    @IR(failOn = IRNode.OR_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.OR_VS, counts = {IRNode.LOAD_VECTOR_S, \">=1\"})\n@@ -470,2 +470,2 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \">=1\"})\n-    @IR(failOn = IRNode.OR_V, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \">=1\"})\n+    @IR(failOn = IRNode.OR_VB, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n@@ -490,1 +490,1 @@\n-    @IR(failOn = IRNode.OR_V, counts = {IRNode.LOAD_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.OR_VL, counts = {IRNode.LOAD_VECTOR_L, \">=1\"})\n@@ -509,1 +509,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"})\n+    @IR(counts = {IRNode.OR_VI, \"1\"})\n@@ -524,1 +524,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"})\n+    @IR(counts = {IRNode.OR_VL, \"1\"})\n@@ -539,1 +539,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"})\n+    @IR(counts = {IRNode.OR_VI, \"1\"})\n@@ -554,1 +554,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"})\n+    @IR(counts = {IRNode.OR_VL, \"1\"})\n@@ -569,1 +569,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n+    @IR(counts = {IRNode.OR_VI, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n@@ -590,1 +590,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n+    @IR(counts = {IRNode.OR_VL, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n@@ -611,1 +611,1 @@\n-    @IR(counts = {IRNode.OR_V, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n+    @IR(counts = {IRNode.OR_VI, \"1\"}, applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx512\", \"true\"})\n@@ -635,1 +635,1 @@\n-    @IR(failOn = IRNode.XOR_V, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = IRNode.XOR_VB, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -650,1 +650,1 @@\n-    @IR(failOn = IRNode.XOR_V, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n+    @IR(failOn = IRNode.XOR_VS, applyIfCPUFeatureAnd = {\"asimd\", \"true\", \"sve\", \"false\"})\n@@ -669,1 +669,1 @@\n-    @IR(failOn = {IRNode.AND_V, IRNode.AND_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.AND_VI, IRNode.AND_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -683,1 +683,1 @@\n-    @IR(failOn = {IRNode.AND_V, IRNode.AND_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.AND_VS, IRNode.AND_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -697,1 +697,1 @@\n-    @IR(failOn = {IRNode.AND_V, IRNode.AND_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.AND_VB, IRNode.AND_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -710,1 +710,1 @@\n-    @IR(failOn = {IRNode.OR_V, IRNode.OR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.OR_VS, IRNode.OR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -724,1 +724,1 @@\n-    @IR(failOn = {IRNode.OR_V, IRNode.OR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.OR_VI, IRNode.OR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -738,1 +738,1 @@\n-    @IR(failOn = {IRNode.OR_V, IRNode.OR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.OR_VB, IRNode.OR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n@@ -751,1 +751,1 @@\n-    @IR(failOn = {IRNode.XOR_V, IRNode.XOR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n+    @IR(failOn = {IRNode.XOR_VI, IRNode.XOR_V_MASK}, counts = {IRNode.STORE_VECTOR, \">=1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorLogicalOpIdentityTest.java","additions":41,"deletions":41,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    @IR(failOn = IRNode.REVERSE_BYTES_V)\n+    @IR(failOn = IRNode.REVERSE_BYTES_VB)\n@@ -87,2 +87,2 @@\n-    @IR(failOn = IRNode.REVERSE_BYTES_V)\n-    @IR(failOn = IRNode.VECTOR_BLEND)\n+    @IR(failOn = IRNode.REVERSE_BYTES_VB)\n+    @IR(failOn = IRNode.VECTOR_BLEND_B)\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorReverseBytesTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastAVX1\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastAVX1\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX1.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastAVX2\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastAVX2\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX2.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastAVX512\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastAVX512\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX512.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastAVX512BW\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastAVX512BW\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX512BW.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastAVX512DQ\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastAVX512DQ\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX512DQ.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastNeon\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastNeon\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastNeon.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * @run main compiler.vectorapi.reshape.TestVectorCastSVE\n+ * @run main\/timeout=300 compiler.vectorapi.reshape.TestVectorCastSVE\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastSVE.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import compiler.lib.ir_framework.IRNode;\n@@ -47,1 +48,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2S, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -58,1 +59,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2S, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -69,1 +70,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2S, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -80,1 +81,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2S, IRNode.VECTOR_SIZE_32, \"1\"})\n@@ -91,1 +92,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -102,1 +103,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -113,1 +114,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -124,1 +125,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2I, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -135,1 +136,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -146,1 +147,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -157,1 +158,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -168,1 +169,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -179,1 +180,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2F, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -190,1 +191,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2F, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -201,1 +202,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2F, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -212,1 +213,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2F, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -223,1 +224,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -234,1 +235,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -245,1 +246,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2D, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -256,1 +257,1 @@\n-    @IR(counts = {B2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_B2D, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -267,1 +268,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2B, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -278,1 +279,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2B, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -289,1 +290,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2B, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -300,1 +301,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2B, IRNode.VECTOR_SIZE_32, \"1\"})\n@@ -311,1 +312,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -322,1 +323,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -333,1 +334,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -344,1 +345,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2I, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -355,1 +356,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -366,1 +367,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -377,1 +378,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -388,1 +389,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -399,1 +400,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2F, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -410,1 +411,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2F, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -421,1 +422,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2F, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -432,1 +433,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2F, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -443,1 +444,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -454,1 +455,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -465,1 +466,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2D, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -476,1 +477,1 @@\n-    @IR(counts = {S2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_S2D, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -487,1 +488,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2B, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -498,1 +499,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2B, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -509,1 +510,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2B, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -520,1 +521,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2B, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -531,1 +532,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2S, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -542,1 +543,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2S, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -553,1 +554,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2S, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -564,1 +565,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2S, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -575,1 +576,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -586,1 +587,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -597,1 +598,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -608,1 +609,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -619,1 +620,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2F, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -630,1 +631,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2F, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -641,1 +642,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2F, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -652,1 +653,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2F, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -663,1 +664,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -674,1 +675,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -685,1 +686,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2D, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -696,1 +697,1 @@\n-    @IR(counts = {I2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_I2D, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -707,1 +708,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2B, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -718,1 +719,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2B, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -729,1 +730,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2B, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -740,1 +741,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2B, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -751,1 +752,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2S, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -762,1 +763,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2S, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -773,1 +774,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2S, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -784,1 +785,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2S, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -795,1 +796,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -806,1 +807,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -817,1 +818,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -828,1 +829,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -839,1 +840,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2F, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -850,1 +851,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2F, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -861,1 +862,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2F, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -872,1 +873,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2F, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -883,1 +884,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -894,1 +895,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -905,1 +906,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2D, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -916,1 +917,1 @@\n-    @IR(counts = {L2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_L2D, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -927,1 +928,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2B, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -938,1 +939,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2B, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -949,1 +950,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2B, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -960,1 +961,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2B, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -971,1 +972,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -982,1 +983,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -993,1 +994,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1004,1 +1005,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -1015,1 +1016,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1026,1 +1027,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1037,1 +1038,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1048,1 +1049,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2I, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -1059,1 +1060,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1070,1 +1071,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1081,1 +1082,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1092,1 +1093,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1103,1 +1104,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1114,1 +1115,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2D, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1125,1 +1126,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2D, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1136,1 +1137,1 @@\n-    @IR(counts = {F2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2D, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1147,1 +1148,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2B, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1158,1 +1159,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2B, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1169,1 +1170,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2B, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1180,1 +1181,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2B, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1191,1 +1192,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1202,1 +1203,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1213,1 +1214,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1224,1 +1225,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1235,1 +1236,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1246,1 +1247,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1257,1 +1258,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1268,1 +1269,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1279,1 +1280,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1290,1 +1291,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1301,1 +1302,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1312,1 +1313,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1323,1 +1324,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1334,1 +1335,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2F, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1345,1 +1346,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2F, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1356,1 +1357,1 @@\n-    @IR(counts = {D2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_D2F, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1367,1 +1368,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2S, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1378,1 +1379,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2S, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1389,1 +1390,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2S, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -1400,1 +1401,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2S, IRNode.VECTOR_SIZE_32, \"1\"})\n@@ -1411,1 +1412,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1422,1 +1423,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1433,1 +1434,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1444,1 +1445,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2I, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -1455,1 +1456,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1466,1 +1467,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1477,1 +1478,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1488,1 +1489,1 @@\n-    @IR(counts = {UB2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_B2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1499,1 +1500,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2I, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1510,1 +1511,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2I, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1521,1 +1522,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2I, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1532,1 +1533,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2I, IRNode.VECTOR_SIZE_16, \"1\"})\n@@ -1543,1 +1544,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1554,1 +1555,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1565,1 +1566,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1576,1 +1577,1 @@\n-    @IR(counts = {US2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_S2L, IRNode.VECTOR_SIZE_8, \"1\"})\n@@ -1587,1 +1588,1 @@\n-    @IR(counts = {UI2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_I2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1598,1 +1599,1 @@\n-    @IR(counts = {UI2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_I2L, IRNode.VECTOR_SIZE_2, \"1\"})\n@@ -1609,1 +1610,1 @@\n-    @IR(counts = {UI2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_I2L, IRNode.VECTOR_SIZE_4, \"1\"})\n@@ -1620,1 +1621,1 @@\n-    @IR(counts = {UI2X_NODE, \"1\"})\n+    @IR(counts = {IRNode.VECTOR_UCAST_I2L, IRNode.VECTOR_SIZE_8, \"1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/tests\/TestVectorCast.java","additions":145,"deletions":144,"binary":false,"changes":289,"status":"modified"},{"patch":"@@ -74,9 +74,0 @@\n-    public static final String B2X_NODE  = IRNode.VECTOR_CAST_B2X;\n-    public static final String S2X_NODE  = IRNode.VECTOR_CAST_S2X;\n-    public static final String I2X_NODE  = IRNode.VECTOR_CAST_I2X;\n-    public static final String L2X_NODE  = IRNode.VECTOR_CAST_L2X;\n-    public static final String F2X_NODE  = IRNode.VECTOR_CAST_F2X;\n-    public static final String D2X_NODE  = IRNode.VECTOR_CAST_D2X;\n-    public static final String UB2X_NODE = IRNode.VECTOR_UCAST_B2X;\n-    public static final String US2X_NODE = IRNode.VECTOR_UCAST_S2X;\n-    public static final String UI2X_NODE = IRNode.VECTOR_UCAST_I2X;\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/utils\/VectorReshapeHelper.java","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -65,2 +65,2 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR,  \" >0 \"})\n-    @IR(counts = {IRNode.MIN_V, \" >0 \"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,  \" >0 \"})\n+    @IR(counts = {IRNode.MIN_VI, \" >0 \"})\n@@ -76,2 +76,2 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR,  \" >0 \"})\n-    @IR(counts = {IRNode.MIN_V, \" >0 \"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,  \" >0 \"})\n+    @IR(counts = {IRNode.MIN_VI, \" >0 \"})\n@@ -87,2 +87,2 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR,  \" >0 \"})\n-    @IR(counts = {IRNode.MAX_V, \" >0 \"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,  \" >0 \"})\n+    @IR(counts = {IRNode.MAX_VI, \" >0 \"})\n@@ -98,2 +98,2 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR,  \" >0 \"})\n-    @IR(counts = {IRNode.MAX_V, \" >0 \"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,  \" >0 \"})\n+    @IR(counts = {IRNode.MAX_VI, \" >0 \"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestAutoVecIntMinMax.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -227,5 +227,5 @@\n-            pb = ProcessTools.createJavaProcessBuilder(\"-XX:-BackgroundCompilation\",\n-                                                       \"-XX:+TraceNewVectors\",\n-                                                       \"compiler.vectorization.TestBufferVectorization\",\n-                                                       testName,\n-                                                       \"run\");\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:-BackgroundCompilation\",\n+                                                                  \"-XX:+TraceNewVectors\",\n+                                                                  \"compiler.vectorization.TestBufferVectorization\",\n+                                                                  testName,\n+                                                                  \"run\");\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestBufferVectorization.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_F2HF, \"> 0\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_F2HF, IRNode.VECTOR_SIZE + \"min(max_float, max_short)\", \"> 0\"})\n@@ -81,1 +81,1 @@\n-    @IR(counts = {IRNode.VECTOR_CAST_HF2F, \"> 0\"})\n+    @IR(counts = {IRNode.VECTOR_CAST_HF2F, IRNode.VECTOR_SIZE + \"min(max_float, max_short)\", \"> 0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestFloatConversionsVector.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -37,2 +37,2 @@\n-    static final int RANGE = 512;\n-    static final int ITER  = 100;\n+    static int RANGE = 1024*2;\n+    static int ITER  = 100;\n@@ -223,1 +223,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.ADD_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -234,1 +234,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.REPLICATE_I, \"> 0\", IRNode.ADD_VI, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\", IRNode.REPLICATE_I, \"> 0\", IRNode.ADD_VI, \"> 0\", IRNode.MUL_VI, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -276,1 +276,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -286,1 +286,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_L, \"> 0\", IRNode.ADD_VL, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -350,1 +350,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.ADD_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -360,1 +360,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_S, \"> 0\", IRNode.ADD_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -423,1 +423,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.ADD_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -433,1 +433,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_B, \"> 0\", IRNode.ADD_VB, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -496,1 +496,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.ADD_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -506,1 +506,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_C, \"> 0\", IRNode.ADD_VS, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -568,1 +568,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.ADD_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -578,1 +578,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\", IRNode.ADD_VF, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -640,1 +640,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.ADD_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n@@ -650,1 +650,1 @@\n-    @IR(counts = {IRNode.LOAD_VECTOR, \"> 0\", IRNode.ADD_V, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n+    @IR(counts = {IRNode.LOAD_VECTOR_D, \"> 0\", IRNode.ADD_VD, \"> 0\", IRNode.STORE_VECTOR, \"> 0\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestOptionVectorizeIR.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -76,1 +76,1 @@\n-  @IR(counts = {IRNode.REVERSE_V, \"> 0\"})\n+  @IR(counts = {IRNode.REVERSE_VL, \"> 0\"})\n@@ -92,1 +92,1 @@\n-  @IR(failOn = {IRNode.REVERSE_V, IRNode.REVERSE_L})\n+  @IR(failOn = {IRNode.REVERSE_VL, IRNode.REVERSE_L})\n@@ -108,1 +108,1 @@\n-  @IR(failOn = {IRNode.REVERSE_V, IRNode.REVERSE_L})\n+  @IR(failOn = {IRNode.REVERSE_VL, IRNode.REVERSE_L})\n@@ -124,1 +124,1 @@\n-  @IR(counts = {IRNode.REVERSE_V, \"> 0\"})\n+  @IR(counts = {IRNode.REVERSE_VI, \"> 0\"})\n@@ -140,1 +140,1 @@\n-  @IR(failOn = {IRNode.REVERSE_V, IRNode.REVERSE_I})\n+  @IR(failOn = {IRNode.REVERSE_VI, IRNode.REVERSE_I})\n@@ -156,1 +156,1 @@\n-  @IR(failOn = {IRNode.REVERSE_V, IRNode.REVERSE_I})\n+  @IR(failOn = {IRNode.REVERSE_VI, IRNode.REVERSE_I})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestReverseBitsVector.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-  @IR(counts = {IRNode.REVERSE_BYTES_V, \"> 0\"})\n+  @IR(counts = {IRNode.REVERSE_BYTES_VL, \"> 0\"})\n@@ -93,1 +93,1 @@\n-  @IR(counts = {IRNode.REVERSE_BYTES_V, \"> 0\"})\n+  @IR(counts = {IRNode.REVERSE_BYTES_VI, \"> 0\"})\n@@ -109,1 +109,1 @@\n-  @IR(counts = {IRNode.REVERSE_BYTES_V, \"> 0\"})\n+  @IR(counts = {IRNode.REVERSE_BYTES_VS, \"> 0\"})\n@@ -125,1 +125,1 @@\n-  @IR(counts = {IRNode.REVERSE_BYTES_V, \"> 0\"})\n+  @IR(counts = {IRNode.REVERSE_BYTES_VS, \"> 0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestReverseBytes.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-    @IR(failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(failOn = {IRNode.REVERSE_BYTES_VS})\n@@ -78,1 +78,1 @@\n-    @IR(failOn = {IRNode.REVERSE_BYTES_V})\n+    @IR(failOn = {IRNode.REVERSE_BYTES_VS})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestSubwordReverseBytes.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VI, \">0\"})\n@@ -112,1 +112,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VI, \">0\"})\n@@ -123,1 +123,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VS, \">0\"})\n@@ -134,1 +134,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VS, \">0\"})\n@@ -145,1 +145,1 @@\n-        counts = {IRNode.LSHIFT_V, \">0\"})\n+        counts = {IRNode.LSHIFT_VL, \">0\"})\n@@ -156,1 +156,1 @@\n-        counts = {IRNode.URSHIFT_V, \">0\"})\n+        counts = {IRNode.URSHIFT_VL, \">0\"})\n@@ -189,1 +189,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VS, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/ArrayShiftOpTest.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -135,1 +135,1 @@\n-        counts = {IRNode.VECTOR_CAST_I2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_I2F, IRNode.VECTOR_SIZE + \"min(max_int, max_float)\", \">0\"})\n@@ -149,1 +149,1 @@\n-        counts = {IRNode.VECTOR_CAST_I2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_I2D, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\"})\n@@ -160,1 +160,1 @@\n-        counts = {IRNode.VECTOR_CAST_L2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_L2F, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\"})\n@@ -171,1 +171,1 @@\n-        counts = {IRNode.VECTOR_CAST_L2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_L2D, IRNode.VECTOR_SIZE + \"min(max_long, max_double)\", \">0\"})\n@@ -183,1 +183,1 @@\n-        counts = {IRNode.VECTOR_CAST_S2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_S2F, IRNode.VECTOR_SIZE + \"min(max_short, max_float)\", \">0\"})\n@@ -195,1 +195,1 @@\n-        counts = {IRNode.VECTOR_CAST_S2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_S2D, IRNode.VECTOR_SIZE + \"min(max_short, max_double)\", \">0\"})\n@@ -225,1 +225,1 @@\n-        counts = {IRNode.VECTOR_CAST_F2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_F2I, IRNode.VECTOR_SIZE + \"min(max_float, max_int)\", \">0\"})\n@@ -239,1 +239,1 @@\n-        counts = {IRNode.VECTOR_CAST_F2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_F2L, IRNode.VECTOR_SIZE + \"min(max_float, max_long)\", \">0\"})\n@@ -250,1 +250,1 @@\n-        counts = {IRNode.VECTOR_CAST_D2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_D2I, IRNode.VECTOR_SIZE + \"min(max_double, max_int)\", \">0\"})\n@@ -261,1 +261,1 @@\n-        counts = {IRNode.VECTOR_CAST_D2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_D2L, IRNode.VECTOR_SIZE + \"min(max_double, max_long)\", \">0\"})\n@@ -273,1 +273,1 @@\n-        counts = {IRNode.VECTOR_CAST_F2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE + \"min(max_float, max_short)\", \">0\"})\n@@ -284,1 +284,1 @@\n-        counts = {IRNode.VECTOR_CAST_F2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_F2S, IRNode.VECTOR_SIZE + \"min(max_float, max_char)\", \">0\"})\n@@ -296,1 +296,1 @@\n-        counts = {IRNode.VECTOR_CAST_D2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE + \"min(max_double, max_short)\", \">0\"})\n@@ -308,1 +308,1 @@\n-        counts = {IRNode.VECTOR_CAST_D2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_D2S, IRNode.VECTOR_SIZE + \"min(max_double, max_char)\", \">0\"})\n@@ -323,1 +323,1 @@\n-        counts = {IRNode.VECTOR_CAST_F2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_F2D, IRNode.VECTOR_SIZE + \"min(max_float, max_double)\", \">0\"})\n@@ -334,1 +334,1 @@\n-        counts = {IRNode.VECTOR_CAST_D2X, \">0\"})\n+        counts = {IRNode.VECTOR_CAST_D2F, IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/ArrayTypeConvertTest.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-    private static final int SIZE = 543;\n+    private static final int SIZE = 6543;\n@@ -75,1 +75,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VB, \">0\"})\n@@ -77,1 +77,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VB, \">0\"})\n@@ -90,1 +90,1 @@\n-        counts = {IRNode.OR_V, \">0\"})\n+        counts = {IRNode.OR_VB, \">0\"})\n@@ -101,1 +101,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VB, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicBooleanOpTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -37,0 +37,2 @@\n+ *                   -XX:CompileCommand=CompileOnly,compiler.vectorization.runner.BasicByteOpTest::*\n+ *                   -XX:LoopUnrollLimit=1000\n@@ -48,1 +50,1 @@\n-    private static final int SIZE = 543;\n+    private static int SIZE = 6543;\n@@ -68,1 +70,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VB, \">0\"})\n@@ -79,1 +81,1 @@\n-        counts = {IRNode.ABS_V, \">0\"})\n+        counts = {IRNode.ABS_VB, \">0\"})\n@@ -90,1 +92,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VB, \">0\"})\n@@ -101,1 +103,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VB, \">0\"})\n@@ -112,1 +114,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VB, \">0\"})\n@@ -123,1 +125,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.MUL_VB, \">0\", IRNode.ADD_VB, \">0\"})\n@@ -134,1 +136,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.MUL_VB, \">0\", IRNode.SUB_VB, \">0\"})\n@@ -146,1 +148,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VB, \">0\"})\n@@ -157,1 +159,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VB, \">0\"})\n@@ -168,1 +170,1 @@\n-        counts = {IRNode.OR_V, \">0\"})\n+        counts = {IRNode.OR_VB, \">0\"})\n@@ -179,1 +181,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VB, \">0\"})\n@@ -191,1 +193,1 @@\n-        counts = {IRNode.LSHIFT_V, \">0\"})\n+        counts = {IRNode.LSHIFT_VB, \">0\"})\n@@ -202,1 +204,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VB, \">0\"})\n@@ -213,1 +215,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VB, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicByteOpTest.java","additions":17,"deletions":15,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VS, \">0\"})\n@@ -82,1 +82,1 @@\n-    @IR(failOn = {IRNode.ABS_V})\n+    @IR(failOn = {IRNode.ABS_VI, IRNode.ABS_VB, IRNode.ABS_VL}) \/\/ AVS_VC does not exist\n@@ -93,1 +93,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VS, \">0\"}) \/\/ char add same as for short\n@@ -104,1 +104,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VS, \">0\"})\n@@ -115,1 +115,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VS, \">0\"})\n@@ -126,1 +126,2 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.MUL_VS, \">0\",\n+                  IRNode.ADD_VS, \">0\"}) \/\/ char add same as for short\n@@ -137,1 +138,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.MUL_VS, \">0\", IRNode.SUB_VS, \">0\"})\n@@ -149,1 +150,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VS, \">0\"})\n@@ -160,1 +161,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VS, \">0\"})\n@@ -171,1 +172,1 @@\n-        counts = {IRNode.OR_V, \">0\"})\n+        counts = {IRNode.OR_VS, \">0\"})\n@@ -182,1 +183,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VS, \">0\"})\n@@ -194,1 +195,1 @@\n-        counts = {IRNode.LSHIFT_V, \">0\"})\n+        counts = {IRNode.LSHIFT_VC, \">0\"})\n@@ -205,1 +206,1 @@\n-        counts = {IRNode.URSHIFT_V, \">0\"})\n+        counts = {IRNode.URSHIFT_VC, \">0\"})\n@@ -216,1 +217,1 @@\n-        counts = {IRNode.URSHIFT_V, \">0\"})\n+        counts = {IRNode.URSHIFT_VC, \">0\"})\n@@ -228,1 +229,1 @@\n-        counts = {IRNode.REVERSE_BYTES_V, \">0\"})\n+        counts = {IRNode.REVERSE_BYTES_VS, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicCharOpTest.java","additions":16,"deletions":15,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        counts = {IRNode.NEG_V, \">0\"})\n+        counts = {IRNode.NEG_VD, \">0\"})\n@@ -79,1 +79,1 @@\n-        counts = {IRNode.ABS_V, \">0\"})\n+        counts = {IRNode.ABS_VD, \">0\"})\n@@ -90,1 +90,1 @@\n-        counts = {IRNode.SQRT_V, \">0\"})\n+        counts = {IRNode.SQRT_VD, \">0\"})\n@@ -134,1 +134,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VD, \">0\"})\n@@ -145,1 +145,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VD, \">0\"})\n@@ -156,1 +156,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VD, \">0\"})\n@@ -167,1 +167,1 @@\n-        counts = {IRNode.DIV_V, \">0\"})\n+        counts = {IRNode.DIV_VD, \">0\"})\n@@ -178,1 +178,1 @@\n-        counts = {IRNode.MAX_V, \">0\"})\n+        counts = {IRNode.MAX_VD, \">0\"})\n@@ -189,1 +189,1 @@\n-        counts = {IRNode.MIN_V, \">0\"})\n+        counts = {IRNode.MIN_VD, \">0\"})\n@@ -200,1 +200,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -202,1 +202,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -213,1 +213,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -215,1 +215,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -226,1 +226,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -228,1 +228,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -239,1 +239,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -241,1 +241,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -252,1 +252,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -254,1 +254,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -265,1 +265,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n@@ -267,1 +267,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VD, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicDoubleOpTest.java","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        counts = {IRNode.NEG_V, \">0\"})\n+        counts = {IRNode.NEG_VF, \">0\"})\n@@ -79,1 +79,1 @@\n-        counts = {IRNode.ABS_V, \">0\"})\n+        counts = {IRNode.ABS_VF, \">0\"})\n@@ -90,1 +90,1 @@\n-        counts = {IRNode.SQRT_V, \">0\"})\n+        counts = {IRNode.SQRT_VF, \">0\"})\n@@ -101,1 +101,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VF, \">0\"})\n@@ -112,1 +112,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VF, \">0\"})\n@@ -123,1 +123,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VF, \">0\"})\n@@ -134,1 +134,1 @@\n-        counts = {IRNode.DIV_V, \">0\"})\n+        counts = {IRNode.DIV_VF, \">0\"})\n@@ -145,1 +145,1 @@\n-        counts = {IRNode.MAX_V, \">0\"})\n+        counts = {IRNode.MAX_VF, \">0\"})\n@@ -156,1 +156,1 @@\n-        counts = {IRNode.MIN_V, \">0\"})\n+        counts = {IRNode.MIN_VF, \">0\"})\n@@ -167,1 +167,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -169,1 +169,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -180,1 +180,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -182,1 +182,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -193,1 +193,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -195,1 +195,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -206,1 +206,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -208,1 +208,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -219,1 +219,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -221,1 +221,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -232,1 +232,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n@@ -234,1 +234,1 @@\n-        counts = {IRNode.FMA_V, \">0\"})\n+        counts = {IRNode.FMA_VF, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicFloatOpTest.java","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VI, \">0\"})\n@@ -79,1 +79,1 @@\n-        counts = {IRNode.ABS_V, \">0\"})\n+        counts = {IRNode.ABS_VI, \">0\"})\n@@ -90,1 +90,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VI, \">0\"})\n@@ -101,1 +101,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VI, \">0\"})\n@@ -112,1 +112,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\"})\n@@ -123,1 +123,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\", IRNode.ADD_VI, \">0\"})\n@@ -134,1 +134,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\", IRNode.SUB_VI, \">0\"})\n@@ -157,1 +157,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VI, \">0\"})\n@@ -168,1 +168,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VI, \">0\"})\n@@ -179,1 +179,1 @@\n-        counts = {IRNode.OR_V, \">0\"})\n+        counts = {IRNode.OR_VI, \">0\"})\n@@ -190,1 +190,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VI, \">0\"})\n@@ -202,1 +202,1 @@\n-        counts = {IRNode.LSHIFT_V, \">0\"})\n+        counts = {IRNode.LSHIFT_VI, \">0\"})\n@@ -213,1 +213,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VI, \">0\"})\n@@ -224,1 +224,1 @@\n-        counts = {IRNode.URSHIFT_V, \">0\"})\n+        counts = {IRNode.URSHIFT_VI, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicIntOpTest.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VL, \">0\"})\n@@ -80,1 +80,1 @@\n-        counts = {IRNode.ABS_V, \">0\"})\n+        counts = {IRNode.ABS_VL, \">0\"})\n@@ -91,1 +91,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VL, \">0\"})\n@@ -102,1 +102,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VL, \">0\"})\n@@ -113,1 +113,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VL, \">0\"})\n@@ -124,1 +124,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VL, \">0\"})\n@@ -126,1 +126,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VL, \">0\"})\n@@ -137,1 +137,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.MUL_VL, \">0\", IRNode.SUB_VL, \">0\"})\n@@ -149,1 +149,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VL, \">0\"})\n@@ -160,1 +160,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VL, \">0\"})\n@@ -171,1 +171,1 @@\n-        counts = {IRNode.OR_V, \">0\"})\n+        counts = {IRNode.OR_VL, \">0\"})\n@@ -182,1 +182,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VL, \">0\"})\n@@ -194,1 +194,1 @@\n-        counts = {IRNode.LSHIFT_V, \">0\"})\n+        counts = {IRNode.LSHIFT_VL, \">0\"})\n@@ -205,1 +205,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VL, \">0\"})\n@@ -216,1 +216,1 @@\n-        counts = {IRNode.URSHIFT_V, \">0\"})\n+        counts = {IRNode.URSHIFT_VL, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicLongOpTest.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VS, \">0\"})\n@@ -81,1 +81,1 @@\n-        counts = {IRNode.ABS_V, \">0\"})\n+        counts = {IRNode.ABS_VS, \">0\"})\n@@ -92,1 +92,1 @@\n-        counts = {IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.ADD_VS, \">0\"})\n@@ -103,1 +103,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VS, \">0\"})\n@@ -114,1 +114,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VS, \">0\"})\n@@ -125,1 +125,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.ADD_V, \">0\"})\n+        counts = {IRNode.MUL_VS, \">0\", IRNode.ADD_VS, \">0\"})\n@@ -136,1 +136,1 @@\n-        counts = {IRNode.MUL_V, \">0\", IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.MUL_VS, \">0\", IRNode.SUB_VS, \">0\"})\n@@ -148,1 +148,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VS, \">0\"})\n@@ -159,1 +159,1 @@\n-        counts = {IRNode.AND_V, \">0\"})\n+        counts = {IRNode.AND_VS, \">0\"})\n@@ -170,1 +170,1 @@\n-        counts = {IRNode.OR_V, \">0\"})\n+        counts = {IRNode.OR_VS, \">0\"})\n@@ -181,1 +181,1 @@\n-        counts = {IRNode.XOR_V, \">0\"})\n+        counts = {IRNode.XOR_VS, \">0\"})\n@@ -193,1 +193,1 @@\n-        counts = {IRNode.LSHIFT_V, \">0\"})\n+        counts = {IRNode.LSHIFT_VS, \">0\"})\n@@ -204,1 +204,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VS, \">0\"})\n@@ -240,1 +240,1 @@\n-        counts = {IRNode.RSHIFT_V, \">0\"})\n+        counts = {IRNode.RSHIFT_VS, \">0\"})\n@@ -252,1 +252,1 @@\n-        counts = {IRNode.REVERSE_BYTES_V, \">0\"})\n+        counts = {IRNode.REVERSE_BYTES_VS, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/BasicShortOpTest.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-    private static final int SIZE = 543;\n+    private static final int SIZE = 6543;\n@@ -98,1 +98,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\"})\n@@ -111,1 +111,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\"})\n@@ -125,1 +125,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\"})\n@@ -139,1 +139,1 @@\n-        counts = {IRNode.MUL_V, \">0\"})\n+        counts = {IRNode.MUL_VI, \">0\"})\n@@ -153,1 +153,1 @@\n-        counts = {IRNode.SUB_V, \">0\"})\n+        counts = {IRNode.SUB_VI, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/LoopArrayIndexComputeTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -82,3 +82,2 @@\n-        counts = {IRNode.LOAD_VECTOR, \">0\"})\n-    @IR(applyIfCPUFeatureOr = {\"asimd\", \"true\", \"sse3\", \"true\"},\n-        counts = {IRNode.ADD_REDUCTION_V, \">0\"})\n+        counts = {IRNode.LOAD_VECTOR_I, \">0\",\n+                  IRNode.ADD_REDUCTION_V, \">0\"})\n@@ -124,3 +123,2 @@\n-        counts = {IRNode.LOAD_VECTOR, \">0\"})\n-    @IR(applyIfCPUFeatureOr = {\"sve\", \"true\", \"avx2\", \"true\"},\n-        counts = {IRNode.ADD_REDUCTION_V, \">0\"})\n+        counts = {IRNode.LOAD_VECTOR_I, \">0\",\n+                  IRNode.ADD_REDUCTION_V, \">0\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/LoopReductionOpTest.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+container=trace\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+container=trace\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/containers\/cgroup\/PlainRead.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,1 +69,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestAgeOutput.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-    ProcessBuilder pb = ProcessTools.createTestJvm(\n+    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestAllocateHeapAt.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-    ProcessBuilder pb = ProcessTools.createTestJvm(\n+    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestAllocateHeapAtError.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-      ProcessBuilder pb = ProcessTools.createTestJvm(flags);\n+      ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(flags);\n","filename":"test\/hotspot\/jtreg\/gc\/TestAllocateHeapAtMultiple.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestCardTablePageCommits.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-        testInstantiationFails(\"jdk.internal.vm.FillerArray\");\n+        testInstantiationFails(\"jdk.internal.vm.FillerElement\");\n","filename":"test\/hotspot\/jtreg\/gc\/TestFillerObjectInstantiation.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -61,1 +61,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestNumWorkerOutput.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(testArguments);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(testArguments);\n","filename":"test\/hotspot\/jtreg\/gc\/TestPLABAdaptToMinTLABSize.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -99,1 +99,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestSmallHeap.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createTestJvm(\n+    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/TestVerifyDuringStartup.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(vmOpts);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(vmOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/TestVerifySilently.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(vmOpts);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(vmOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/TestVerifySubSet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,2 +69,2 @@\n-    static public ProcessBuilder createJavaProcessBuilder(List<String> arguments) {\n-        return createJavaProcessBuilder(arguments.toArray(String[]::new));\n+    static public ProcessBuilder createLimitedTestJavaProcessBuilder(List<String> arguments) {\n+        return createLimitedTestJavaProcessBuilder(arguments.toArray(String[]::new));\n@@ -73,2 +73,2 @@\n-    static public ProcessBuilder createJavaProcessBuilder(String... arguments) {\n-        return ProcessTools.createJavaProcessBuilder(withDefaults(arguments));\n+    static public ProcessBuilder createLimitedTestJavaProcessBuilder(String... arguments) {\n+        return ProcessTools.createLimitedTestJavaProcessBuilder(withDefaults(arguments));\n@@ -77,2 +77,2 @@\n-    static public ProcessBuilder createTestJvm(List<String> arguments) {\n-        return createTestJvm(arguments.toArray(String[]::new));\n+    static public ProcessBuilder createTestJavaProcessBuilder(List<String> arguments) {\n+        return createTestJavaProcessBuilder(arguments.toArray(String[]::new));\n@@ -81,2 +81,2 @@\n-    static public ProcessBuilder createTestJvm(String... arguments) {\n-        return ProcessTools.createTestJvm(withDefaults(arguments));\n+    static public ProcessBuilder createTestJavaProcessBuilder(String... arguments) {\n+        return ProcessTools.createTestJavaProcessBuilder(withDefaults(arguments));\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/GCArguments.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -68,1 +68,1 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+        ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestAggressiveHeap.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\n@@ -80,1 +80,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestArrayAllocatorMallocLimit.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+ * @requires vm.opt.CompressedClassSpaceSize == null & vm.opt.UseCompressedClassPointers == null\n@@ -53,1 +54,1 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestCompressedClassFlags.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,7 +43,7 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\"-XX:-UseSerialGC\",\n-                                                                 \"-XX:-UseParallelGC\",\n-                                                                 \"-XX:-UseG1GC\",\n-                                                                 \"-XX:-UseZGC\",\n-                                                                 \"-XX:+UnlockExperimentalVMOptions\",\n-                                                                 \"-XX:-UseShenandoahGC\",\n-                                                                 \"-version\");\n+        ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\"-XX:-UseSerialGC\",\n+                                                                     \"-XX:-UseParallelGC\",\n+                                                                     \"-XX:-UseG1GC\",\n+                                                                     \"-XX:-UseZGC\",\n+                                                                     \"-XX:+UnlockExperimentalVMOptions\",\n+                                                                     \"-XX:-UseShenandoahGC\",\n+                                                                     \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestDisableDefaultGC.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @requires vm.gc.G1\n+ * @requires vm.gc.G1 & vm.opt.G1ConcMarkStepDurationMillis == null\n@@ -81,1 +81,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(vmOpts);\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(vmOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestG1ConcMarkStepDurationMillis.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @requires vm.gc.G1\n+ * @requires vm.gc.G1 & vm.opt.G1ConcRefinementThreads == null\n@@ -72,1 +72,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(vmOpts);\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(vmOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestG1ConcRefinementThreads.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @requires vm.gc.G1\n+ * @requires vm.gc.G1 & vm.opt.G1HeapRegionSize == null\n@@ -56,1 +56,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(flagList);\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(flagList);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestG1HeapRegionSize.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,0 @@\n- * @requires vm.gc.G1\n@@ -31,0 +30,2 @@\n+ * @key flag-sensitive\n+ * @requires vm.gc.G1 & vm.opt.x.Xmx == null & vm.opt.x.Xms == null & vm.opt.MinHeapSize == null & vm.opt.MaxHeapSize == null & vm.opt.InitialHeapSize == null\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestG1HeapSizeFlags.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @requires vm.gc.G1\n+ * @requires vm.gc.G1 & vm.opt.G1ConfidencePercent == null\n@@ -66,2 +66,1 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n-                \"-XX:+UseG1GC\", flag, \"-version\");\n+        ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\"-XX:+UseG1GC\", flag, \"-version\");\n@@ -76,2 +75,1 @@\n-    private static\n-    void check(String name, String value, boolean is_valid) throws Exception {\n+    private static void check(String name, String value, boolean is_valid) throws Exception {\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestG1PercentageOptions.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @requires vm.gc.G1\n+ * @requires vm.gc.G1 & vm.opt.UnlockExperimentalVMOptions == null & vm.opt.G1RemSetHowlNumBuckets == null & vm.opt.G1RemSetHowlMaxNumBuckets == null\n@@ -51,1 +51,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(flagList);\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(flagList);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestG1RemSetFlags.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @requires vm.opt.x.Xminf == null & vm.opt.x.Xmaxf == null & vm.opt.MinHeapFreeRatio == null & vm.opt.MaxHeapFreeRatio == null\n@@ -50,1 +51,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestHeapFreeRatio.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @requires vm.gc.Parallel\n+ * @requires vm.gc.Parallel & vm.opt.InitialTenuringThreshold == null & vm.opt.MaxTenuringThreshold == null\n@@ -44,1 +44,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\n@@ -61,1 +61,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\n@@ -63,0 +63,1 @@\n+      \"-XX:+UseParallelGC\",\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestInitialTenuringThreshold.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,0 @@\n-import java.util.regex.Matcher;\n-import java.util.regex.Pattern;\n@@ -30,0 +28,2 @@\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n@@ -118,1 +118,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(gcflag,\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(gcflag,\n@@ -211,1 +211,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(finalargs.toArray(String[]::new));\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(finalargs.toArray(String[]::new));\n@@ -311,1 +311,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(flags);\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(flags);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestMaxHeapSizeTools.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -101,1 +101,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n@@ -126,1 +126,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestMaxMinHeapFreeRatioFlags.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,2 @@\n- * @requires vm.gc.Serial\n+ * @key flag-sensitive\n+ * @requires vm.gc.Serial & vm.opt.MaxNewSize == null & vm.opt.NewRatio == null & vm.opt.NewSize == null & vm.opt.OldSize == null & vm.opt.x.Xms == null & vm.opt.x.Xmx == null\n@@ -45,1 +46,2 @@\n- * @requires vm.gc.Parallel\n+ * @key flag-sensitive\n+ * @requires vm.gc.Parallel & vm.opt.MaxNewSize == null & vm.opt.NewRatio == null & vm.opt.NewSize == null & vm.opt.OldSize == null & vm.opt.x.Xms == null & vm.opt.x.Xmx == null\n@@ -59,1 +61,2 @@\n- * @requires vm.gc.G1\n+ * @key flag-sensitive\n+ * @requires vm.gc.G1 & vm.opt.MaxNewSize == null & vm.opt.NewRatio == null & vm.opt.NewSize == null & vm.opt.OldSize == null & vm.opt.x.Xms == null & vm.opt.x.Xmx == null\n@@ -82,2 +85,2 @@\n-    System.out.println(actual);\n-    if (actual.compareTo(new BigInteger((new Long(heapsize)).toString())) == 1) {\n+    System.out.println(\"asserting: \" + actual + \" <= \" + heapsize);\n+    if (actual.compareTo(new BigInteger(\"\" + heapsize)) > 0) {\n@@ -89,19 +92,0 @@\n-  private static void checkIncompatibleNewSize(String[] flags) throws Exception {\n-    ArrayList<String> finalargs = new ArrayList<String>();\n-    finalargs.addAll(Arrays.asList(flags));\n-    finalargs.add(\"-version\");\n-\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(finalargs);\n-    OutputAnalyzer output = new OutputAnalyzer(pb.start());\n-    output.shouldContain(\"Initial young gen size set larger than the maximum young gen size\");\n-  }\n-\n-  private static boolean isRunningG1(String[] args) {\n-    for (int i = 0; i < args.length; i++) {\n-      if (args[i].contains(\"+UseG1GC\")) {\n-        return true;\n-      }\n-    }\n-    return false;\n-  }\n-\n@@ -111,3 +95,0 @@\n-    if (isRunningG1(flags)) {\n-      finalargs.add(\"-XX:G1HeapRegionSize=1M\");\n-    }\n@@ -117,1 +98,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(finalargs);\n+    ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(finalargs);\n@@ -121,1 +102,0 @@\n-    \/\/System.out.println(stdout);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestMaxNewSize.java","additions":10,"deletions":30,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(args);\n@@ -87,1 +87,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestMaxRAMFlags.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -105,1 +105,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestMinAndInitialSurvivorRatioFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestNewRatioFlag.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -169,1 +169,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestNewSizeFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -68,7 +68,7 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\"-XX:+UseSerialGC\",\n-                                                             \"-Xms96M\",\n-                                                             \"-Xmx128M\",\n-                                                             \"-XX:NewRatio=2\",\n-                                                             \"-Xlog:gc+heap+ergo=debug\",\n-                                                             \"-XX:NewSizeThreadIncrease=\"+expectedValue,\n-                                                             GCTest.class.getName());\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\"-XX:+UseSerialGC\",\n+                                                                        \"-Xms96M\",\n+                                                                        \"-Xmx128M\",\n+                                                                        \"-XX:NewRatio=2\",\n+                                                                        \"-Xlog:gc+heap+ergo=debug\",\n+                                                                        \"-XX:NewSizeThreadIncrease=\"+expectedValue,\n+                                                                        GCTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestNewSizeThreadIncrease.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -164,1 +164,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(vmOpts);\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(vmOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestObjectTenuringFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\n@@ -97,1 +97,1 @@\n-      ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+      ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\n@@ -127,1 +127,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(flags);\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(flags);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestParallelGCThreads.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,2 @@\n- * @requires vm.gc.Parallel\n+ * @key flag-sensitive\n+ * @requires vm.gc.Parallel & vm.opt.x.Xmx == null & vm.opt.x.Xms == null & vm.opt.MinHeapSize == null & vm.opt.MaxHeapSize == null & vm.opt.InitialHeapSize == null\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestParallelHeapSizeFlags.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -80,1 +80,1 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(result);\n+        ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(result);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestParallelRefProc.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+        ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestSelectDefaultGC.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,2 @@\n+ * @key flag-sensitive\n+ * @requires vm.gc.Serial & vm.opt.x.Xmx == null & vm.opt.x.Xms == null & vm.opt.MinHeapSize == null & vm.opt.MaxHeapSize == null & vm.opt.InitialHeapSize == null\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestSerialHeapSizeFlags.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-    ProcessBuilder pb_enabled = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb_enabled = GCArguments.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestSmallInitialHeapWithLargePageAndNUMA.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -90,1 +90,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestSurvivorRatioFlag.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -119,1 +119,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n@@ -154,1 +154,1 @@\n-        ProcessBuilder procBuilder = GCArguments.createJavaProcessBuilder(vmOptions);\n+        ProcessBuilder procBuilder = GCArguments.createLimitedTestJavaProcessBuilder(vmOptions);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestTargetSurvivorRatioFlag.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(\n@@ -53,1 +53,1 @@\n-    pb = GCArguments.createJavaProcessBuilder(\n+    pb = GCArguments.createLimitedTestJavaProcessBuilder(\n@@ -64,1 +64,1 @@\n-    pb = GCArguments.createJavaProcessBuilder(\n+    pb = GCArguments.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestUnrecognizedVMOptionsHandling.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -96,1 +96,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(finalargs);\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(finalargs);\n@@ -160,1 +160,1 @@\n-    ProcessBuilder pb = GCArguments.createJavaProcessBuilder(flags);\n+    ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(flags);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestUseCompressedOopsErgoTools.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-    String cmd = ProcessTools.getCommandLine(ProcessTools.createTestJvm(args.toArray(String[]::new)));\n+    String cmd = ProcessTools.getCommandLine(ProcessTools.createTestJavaProcessBuilder(args.toArray(String[]::new)));\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestUseCompressedOopsFlagsWithUlimit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-        ProcessBuilder pb = GCArguments.createTestJvm(\n+        ProcessBuilder pb = GCArguments.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestUseNUMAInterleaving.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -102,1 +102,1 @@\n-        ProcessBuilder pb = GCArguments.createJavaProcessBuilder(vmOpts);\n+        ProcessBuilder pb = GCArguments.createLimitedTestJavaProcessBuilder(vmOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestVerifyBeforeAndAfterGCFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/class_unloading\/TestG1ClassUnloadingHWM.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n@@ -47,1 +47,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestDieDefault.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n@@ -48,1 +48,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestDieWithHeapDump.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n@@ -50,1 +50,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestDieWithOnError.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-    ProcessBuilder pb_enabled = ProcessTools.createJavaProcessBuilder(baseArgs);\n+    ProcessBuilder pb_enabled = ProcessTools.createLimitedTestJavaProcessBuilder(baseArgs);\n@@ -84,1 +84,1 @@\n-    pb_enabled = ProcessTools.createJavaProcessBuilder(parRefArgs);\n+    pb_enabled = ProcessTools.createLimitedTestJavaProcessBuilder(parRefArgs);\n","filename":"test\/hotspot\/jtreg\/gc\/ergonomics\/TestDynamicNumberOfGCThreads.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-    ProcessBuilder pb_enabled = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb_enabled = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/ergonomics\/TestInitialGCThreadLogging.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(testArguments);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(testArguments);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/Test2GbHeap.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,1 +83,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestEagerReclaimHumongousRegions.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestEagerReclaimHumongousRegionsClearMarkBits.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestEagerReclaimHumongousRegionsLog.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -95,1 +95,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestEagerReclaimHumongousRegionsWithRefs.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,9 +46,9 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-Xmx32M\",\n-                                                                  \"-Xmn16M\",\n-                                                                  \"-XX:+G1EvacuationFailureALot\",\n-                                                                  \"-XX:G1EvacuationFailureALotCount=100\",\n-                                                                  \"-XX:G1EvacuationFailureALotInterval=1\",\n-                                                                  \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                                  \"-Xlog:gc\",\n-                                                                  GCTestWithEvacuationFailure.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-Xmx32M\",\n+                                                                             \"-Xmn16M\",\n+                                                                             \"-XX:+G1EvacuationFailureALot\",\n+                                                                             \"-XX:G1EvacuationFailureALotCount=100\",\n+                                                                             \"-XX:G1EvacuationFailureALotInterval=1\",\n+                                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                             \"-Xlog:gc\",\n+                                                                             GCTestWithEvacuationFailure.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestEvacuationFailure.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestG1SkipCompaction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,8 +44,8 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                               \"-Xms128M\",\n-                                               \"-Xmx128M\",\n-                                               \"-Xmn16M\",\n-                                               \"-XX:G1HeapRegionSize=1M\",\n-                                               \"-Xlog:gc+phases=trace,gc+humongous=trace\",\n-                                               \"-XX:+UnlockExperimentalVMOptions\",\n-                                               GCWithHumongousObjectTest.class.getName());\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                         \"-Xms128M\",\n+                                                                         \"-Xmx128M\",\n+                                                                         \"-Xmn16M\",\n+                                                                         \"-XX:G1HeapRegionSize=1M\",\n+                                                                         \"-Xlog:gc+phases=trace,gc+humongous=trace\",\n+                                                                         \"-XX:+UnlockExperimentalVMOptions\",\n+                                                                         GCWithHumongousObjectTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestG1TraceEagerReclaimHumongousObjects.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -220,3 +220,3 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-Xmx10M\",\n-                                                                  GCTest.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-Xmx10M\",\n+                                                                             GCTest.class.getName());\n@@ -228,4 +228,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                   \"-Xmx10M\",\n-                                                   \"-Xlog:gc+phases=debug\",\n-                                                   GCTest.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                              \"-Xmx10M\",\n+                                                              \"-Xlog:gc+phases=debug\",\n+                                                              GCTest.class.getName());\n@@ -236,4 +236,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                   \"-Xmx10M\",\n-                                                   \"-Xlog:gc+phases=trace\",\n-                                                   GCTest.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                              \"-Xmx10M\",\n+                                                              \"-Xlog:gc+phases=trace\",\n+                                                              GCTest.class.getName());\n@@ -255,4 +255,4 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-Xmx10M\",\n-                                                                  \"-Xlog:gc+refine+stats=debug\",\n-                                                                  GCTest.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-Xmx10M\",\n+                                                                             \"-Xlog:gc+refine+stats=debug\",\n+                                                                             GCTest.class.getName());\n@@ -271,9 +271,9 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-Xmx32M\",\n-                                                                  \"-Xmn16M\",\n-                                                                  \"-XX:+G1EvacuationFailureALot\",\n-                                                                  \"-XX:G1EvacuationFailureALotCount=100\",\n-                                                                  \"-XX:G1EvacuationFailureALotInterval=1\",\n-                                                                  \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                                  \"-Xlog:gc+phases=debug\",\n-                                                                  GCTestWithEvacuationFailure.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-Xmx32M\",\n+                                                                             \"-Xmn16M\",\n+                                                                             \"-XX:+G1EvacuationFailureALot\",\n+                                                                             \"-XX:G1EvacuationFailureALotCount=100\",\n+                                                                             \"-XX:G1EvacuationFailureALotInterval=1\",\n+                                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                             \"-Xlog:gc+phases=debug\",\n+                                                                             GCTestWithEvacuationFailure.class.getName());\n@@ -285,7 +285,7 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                   \"-Xmx32M\",\n-                                                   \"-Xmn16M\",\n-                                                   \"-Xms32M\",\n-                                                   \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                   \"-Xlog:gc+phases=trace\",\n-                                                   GCTestWithEvacuationFailure.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                              \"-Xmx32M\",\n+                                                              \"-Xmn16M\",\n+                                                              \"-Xms32M\",\n+                                                              \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                              \"-Xlog:gc+phases=trace\",\n+                                                              GCTestWithEvacuationFailure.class.getName());\n@@ -304,7 +304,7 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-Xmx10M\",\n-                                                                  \"-Xbootclasspath\/a:.\",\n-                                                                  \"-Xlog:gc*=debug\",\n-                                                                  \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                                  \"-XX:+WhiteBoxAPI\",\n-                                                                  GCTestWithConcurrentStart.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-Xmx10M\",\n+                                                                             \"-Xbootclasspath\/a:.\",\n+                                                                             \"-Xlog:gc*=debug\",\n+                                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                             \"-XX:+WhiteBoxAPI\",\n+                                                                             GCTestWithConcurrentStart.class.getName());\n@@ -318,7 +318,7 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-Xmx10M\",\n-                                                                  \"-Xbootclasspath\/a:.\",\n-                                                                  \"-Xlog:gc+ergo+heap=debug\",\n-                                                                  \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                                  \"-XX:+WhiteBoxAPI\",\n-                                                                  GCTest.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-Xmx10M\",\n+                                                                             \"-Xbootclasspath\/a:.\",\n+                                                                             \"-Xlog:gc+ergo+heap=debug\",\n+                                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                             \"-XX:+WhiteBoxAPI\",\n+                                                                             GCTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java","additions":46,"deletions":46,"binary":false,"changes":92,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestHumongousAllocConcurrentStart.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestHumongousAllocNearlyFullRegion.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -109,1 +109,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(finalargs);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(finalargs);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestHumongousCodeCacheRoots.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestHumongousConcurrentStartUndo.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -126,1 +126,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(getOpts(heapsize, true));\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(getOpts(heapsize, true));\n@@ -140,1 +140,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(getOpts(heapsize, false));\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(getOpts(heapsize, false));\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestLargePageUseForAuxMemory.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -90,6 +90,6 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                   \"-XX:G1HeapRegionSize=\" + regionSize,\n-                                                   \"-Xmx128m\",\n-                                                   \"-Xlog:gc+init,pagesize,gc+heap+coops=debug\",\n-                                                   \"-XX:+UseLargePages\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                              \"-XX:G1HeapRegionSize=\" + regionSize,\n+                                                              \"-Xmx128m\",\n+                                                              \"-Xlog:gc+init,pagesize,gc+heap+coops=debug\",\n+                                                              \"-XX:+UseLargePages\",\n+                                                              \"-version\");\n@@ -103,6 +103,6 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                   \"-XX:G1HeapRegionSize=\" + regionSize,\n-                                                   \"-Xmx128m\",\n-                                                   \"-Xlog:gc+init,pagesize,gc+heap+coops=debug\",\n-                                                   \"-XX:-UseLargePages\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                              \"-XX:G1HeapRegionSize=\" + regionSize,\n+                                                              \"-Xmx128m\",\n+                                                              \"-Xlog:gc+init,pagesize,gc+heap+coops=debug\",\n+                                                              \"-XX:-UseLargePages\",\n+                                                              \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestLargePageUseForHeap.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,1 +53,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(testArguments);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(testArguments);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestMarkStackSizes.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -112,1 +112,1 @@\n-        ProcessBuilder procBuilder =  ProcessTools.createJavaProcessBuilder(basicOpts);\n+        ProcessBuilder procBuilder =  ProcessTools.createLimitedTestJavaProcessBuilder(basicOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestMixedGCLiveThreshold.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestOneEdenRegionAfterGC.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestPLABOutput.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -65,1 +65,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(testArguments);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(testArguments);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestPLABSizeBounds.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,5 +43,5 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                                  \"-XX:G1PeriodicGCInterval=0\",\n-                                                                  \"-Xlog:gc+init,gc+periodic=debug\",\n-                                                                  \"-Xmx10M\",\n-                                                                  GCTest.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                             \"-XX:G1PeriodicGCInterval=0\",\n+                                                                             \"-Xlog:gc+init,gc+periodic=debug\",\n+                                                                             \"-Xmx10M\",\n+                                                                             GCTest.class.getName());\n@@ -54,5 +54,5 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                   \"-XX:G1PeriodicGCInterval=100\",\n-                                                   \"-Xlog:gc+init,gc+periodic=debug\",\n-                                                   \"-Xmx10M\",\n-                                                   GCTest.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                              \"-XX:G1PeriodicGCInterval=100\",\n+                                                              \"-Xlog:gc+init,gc+periodic=debug\",\n+                                                              \"-Xmx10M\",\n+                                                              GCTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestPeriodicLogMessages.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,1 +72,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(finalargs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(finalargs);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestPrintRegionRememberedSetInfo.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,6 +47,6 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\",\n-                                                              \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                              \"-Xlog:gc+remset+exit=trace\",\n-                                                              \"-XX:G1ConcRefinementThreads=\" + refinementThreads,\n-                                                              \"-XX:ParallelGCThreads=\" + workerThreads,\n-                                                              \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\",\n+                                                                         \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                         \"-Xlog:gc+remset+exit=trace\",\n+                                                                         \"-XX:G1ConcRefinementThreads=\" + refinementThreads,\n+                                                                         \"-XX:ParallelGCThreads=\" + workerThreads,\n+                                                                         \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestRemsetLoggingThreads.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -80,1 +80,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(finalargs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(finalargs);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestRemsetLoggingTools.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(dump_args);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(dump_args);\n@@ -75,1 +75,1 @@\n-            pb = ProcessTools.createJavaProcessBuilder(load_args.toArray(new String[0]));\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(load_args.toArray(new String[0]));\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestSharedArchiveWithPreTouch.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -91,1 +91,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(opts);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(opts);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestShrinkAuxiliaryData.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestShrinkDefragmentedHeap.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,10 +43,10 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xbootclasspath\/a:.\",\n-                                                                  \"-XX:+UseG1GC\",\n-                                                                  \"-XX:+UnlockExperimentalVMOptions\",\n-                                                                  \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                                  \"-XX:+WhiteBoxAPI\",\n-                                                                  \"-XX:G1MixedGCLiveThresholdPercent=20\",\n-                                                                  \"-Xlog:gc+marking=debug,gc+phases=debug,gc+remset+tracking=trace\",\n-                                                                  \"-Xms10M\",\n-                                                                  \"-Xmx10M\",\n-                                                                  GCTest.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xbootclasspath\/a:.\",\n+                                                                             \"-XX:+UseG1GC\",\n+                                                                             \"-XX:+UnlockExperimentalVMOptions\",\n+                                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                             \"-XX:+WhiteBoxAPI\",\n+                                                                             \"-XX:G1MixedGCLiveThresholdPercent=20\",\n+                                                                             \"-Xlog:gc+marking=debug,gc+phases=debug,gc+remset+tracking=trace\",\n+                                                                             \"-Xms10M\",\n+                                                                             \"-Xmx10M\",\n+                                                                             GCTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestSkipRebuildRemsetPhase.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -181,1 +181,1 @@\n-        ProcessBuilder procBuilder =  ProcessTools.createJavaProcessBuilder(basicOpts);\n+        ProcessBuilder procBuilder =  ProcessTools.createLimitedTestJavaProcessBuilder(basicOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestVerifyGCType.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -93,1 +93,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(testOpts);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(testOpts);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/mixedgc\/TestLogging.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -184,1 +184,1 @@\n-        ProcessBuilder pb_enabled = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb_enabled = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/numa\/TestG1NUMATouchRegions.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintGC\", DoGC.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintGC\", DoGC.class.getName());\n@@ -55,1 +55,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintGCDetails\", DoGC.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintGCDetails\", DoGC.class.getName());\n@@ -66,1 +66,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xloggc:\" + fileName, DoGC.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xloggc:\" + fileName, DoGC.class.getName());\n@@ -83,1 +83,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintGCDetails\", \"-Xloggc:\" + fileName, DoGC.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintGCDetails\", \"-Xloggc:\" + fileName, DoGC.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/logging\/TestDeprecatedPrintFlags.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -77,1 +77,1 @@\n-      ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\", \"-XX:+\" + gcFlag, \"-Xlog:gc\", \"-Xmx10M\", GCTest.class.getName());\n+      ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\", \"-XX:+\" + gcFlag, \"-Xlog:gc\", \"-Xmx10M\", GCTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/logging\/TestGCId.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -98,1 +98,1 @@\n-      ProcessTools.createTestJvm(\n+      ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/logging\/TestMetaSpaceLog.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,4 +70,4 @@\n-        ProcessBuilder pb_enabled = ProcessTools.createJavaProcessBuilder(\"-Xlog:gc+ref+phases=debug\",\n-                                                                          \"-XX:+UseG1GC\",\n-                                                                          \"-Xmx32M\",\n-                                                                          GCTest.class.getName());\n+        ProcessBuilder pb_enabled = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:gc+ref+phases=debug\",\n+                                                                                     \"-XX:+UseG1GC\",\n+                                                                                     \"-Xmx32M\",\n+                                                                                     GCTest.class.getName());\n@@ -98,7 +98,7 @@\n-        ProcessBuilder pb_enabled = ProcessTools.createJavaProcessBuilder(\"-Xlog:gc+phases+ref=debug\",\n-                                                                          \"-XX:+UseG1GC\",\n-                                                                          \"-Xmx32M\",\n-                                                                          \"-XX:\" + (parallelRefProcEnabled ? \"+\" : \"-\") + \"ParallelRefProcEnabled\",\n-                                                                          \"-XX:-UseDynamicNumberOfGCThreads\",\n-                                                                          \"-XX:ParallelGCThreads=2\",\n-                                                                          GCTest.class.getName());\n+        ProcessBuilder pb_enabled = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:gc+phases+ref=debug\",\n+                                                                                     \"-XX:+UseG1GC\",\n+                                                                                     \"-Xmx32M\",\n+                                                                                     \"-XX:\" + (parallelRefProcEnabled ? \"+\" : \"-\") + \"ParallelRefProcEnabled\",\n+                                                                                     \"-XX:-UseDynamicNumberOfGCThreads\",\n+                                                                                     \"-XX:ParallelGCThreads=2\",\n+                                                                                     GCTest.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/logging\/TestPrintReferences.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -87,1 +87,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/metaspace\/TestMetaspaceSizeFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -122,1 +122,1 @@\n-    final ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(jvmArgs);\n+    final ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(jvmArgs);\n","filename":"test\/hotspot\/jtreg\/gc\/metaspace\/TestSizeTransitions.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx128m\", \"-Xmn100m\", \"-XX:+UseSerialGC\", \"-Xlog:gc\", HeapFiller.class.getName());\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx128m\", \"-Xmn100m\", \"-XX:+UseSerialGC\", \"-Xlog:gc\", HeapFiller.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/serial\/HeapChangeLogging.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,80 +0,0 @@\n-\/*\n- * Copyright (c) 2018, Red Hat, Inc. All rights reserved.\n- * Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-\n-\/*\n- * @test id=default\n- * @key randomness\n- * @summary Test that Shenandoah is able to work with elastic TLABs\n- * @requires vm.gc.Shenandoah\n- * @library \/test\/lib\n- *\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:-UseTLAB -XX:-ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:-UseTLAB -XX:-ShenandoahElasticTLAB                       TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:-UseTLAB -XX:+ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:-UseTLAB -XX:+ShenandoahElasticTLAB                       TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:+UseTLAB -XX:-ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:+UseTLAB -XX:-ShenandoahElasticTLAB                       TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:+UseTLAB -XX:+ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -Xmx1g -XX:+UseTLAB -XX:+ShenandoahElasticTLAB                       TestElasticTLAB\n- *\/\n-\n-\/*\n- * @test id=generational\n- * @key randomness\n- * @summary Test that Shenandoah is able to work with elastic TLABs\n- * @requires vm.gc.Shenandoah\n- * @library \/test\/lib\n- *\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:-UseTLAB -XX:-ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:-UseTLAB -XX:-ShenandoahElasticTLAB                       TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:-UseTLAB -XX:+ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:-UseTLAB -XX:+ShenandoahElasticTLAB                       TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:+UseTLAB -XX:-ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:+UseTLAB -XX:-ShenandoahElasticTLAB                       TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:+UseTLAB -XX:+ShenandoahElasticTLAB -XX:+ShenandoahVerify TestElasticTLAB\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+UnlockExperimentalVMOptions -XX:+UseShenandoahGC -XX:ShenandoahGCMode=generational -Xmx1g -XX:+UseTLAB -XX:+ShenandoahElasticTLAB                       TestElasticTLAB\n- *\/\n-\n-import java.util.Random;\n-import jdk.test.lib.Utils;\n-\n-public class TestElasticTLAB {\n-\n-    static final long TARGET_MB = Long.getLong(\"target\", 10_000); \/\/ 10 Gb allocation\n-\n-    static volatile Object sink;\n-\n-    public static void main(String[] args) throws Exception {\n-        final int min = 0;\n-        final int max = 384 * 1024;\n-        long count = TARGET_MB * 1024 * 1024 \/ (16 + 4 * (min + (max - min) \/ 2));\n-\n-        Random r = Utils.getRandomInstance();\n-        for (long c = 0; c < count; c++) {\n-            sink = new int[min + r.nextInt(max - min)];\n-        }\n-    }\n-\n-}\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/TestElasticTLAB.java","additions":0,"deletions":80,"binary":false,"changes":80,"status":"deleted"},{"patch":"@@ -71,1 +71,1 @@\n-                    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xms128m\",\n+                    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xms128m\",\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/TestEvilSyncBug.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/TestObjItrWithHeapDump.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n@@ -62,1 +62,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/TestPeriodicGC.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,0 @@\n- * Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n@@ -44,24 +43,0 @@\n-\/*\n- * @test id=default-debug\n- * @summary Tests that we pass at least one jcstress-like test with all verification turned on\n- * @requires vm.gc.Shenandoah\n- * @requires vm.debug\n- * @modules java.base\/jdk.internal.misc\n- *          java.management\n- *\n- * @run main\/othervm -Xmx1g -Xms1g -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions\n- *      -XX:+UseShenandoahGC -XX:ShenandoahGCHeuristics=adaptive\n- *      -XX:+ShenandoahVerify -XX:+ShenandoahVerifyOptoBarriers\n- *      TestVerifyJCStress\n- *\n- * @run main\/othervm -Xmx1g -Xms1g -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions\n- *      -XX:+UseShenandoahGC -XX:ShenandoahGCHeuristics=compact\n- *      -XX:+ShenandoahVerify -XX:+ShenandoahVerifyOptoBarriers\n- *      TestVerifyJCStress\n- *\n- * @run main\/othervm -Xmx1g -Xms1g -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions\n- *      -XX:+UseShenandoahGC -XX:ShenandoahGCHeuristics=adaptive -XX:ShenandoahGCMode=generational\n- *      -XX:+ShenandoahVerify -XX:+ShenandoahVerifyOptoBarriers\n- *      TestVerifyJCStress\n- *\/\n-\n@@ -85,5 +60,0 @@\n- *\n- * @run main\/othervm -Xmx1g -Xms1g -XX:+UnlockExperimentalVMOptions -XX:+UnlockDiagnosticVMOptions\n- *      -XX:+UseShenandoahGC -XX:ShenandoahGCHeuristics=adaptive -XX:ShenandoahGCMode=generational\n- *      -XX:+ShenandoahVerify\n- *      TestVerifyJCStress\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/TestVerifyJCStress.java","additions":0,"deletions":30,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -135,1 +135,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n@@ -142,1 +142,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/oom\/TestAllocOutOfMemory.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(pbArgs.toArray(new String[0]));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(pbArgs.toArray(new String[0]));\n@@ -145,2 +145,0 @@\n-                passWith(\"-XX:ShenandoahGCMode=\" + mode, \"-XX:ShenandoahGCHeuristics=\" + h, \"-XX:+ClassUnloading\", \"-XX:-ClassUnloadingWithConcurrentMark\", \"-XX:ShenandoahUnloadClassesFrequency=0\");\n-                passWith(\"-XX:ShenandoahGCMode=\" + mode, \"-XX:ShenandoahGCHeuristics=\" + h, \"-XX:+ClassUnloading\", \"-XX:+ClassUnloadingWithConcurrentMark\", \"-XX:ShenandoahUnloadClassesFrequency=0\");\n@@ -151,2 +149,0 @@\n-                failWith(\"-XX:ShenandoahGCMode=\" + mode, \"-XX:ShenandoahGCHeuristics=\" + h, \"-XX:-ClassUnloading\", \"-XX:+ClassUnloadingWithConcurrentMark\", \"-XX:ShenandoahUnloadClassesFrequency=1\");\n-                failWith(\"-XX:ShenandoahGCMode=\" + mode, \"-XX:ShenandoahGCHeuristics=\" + h, \"-XX:-ClassUnloading\", \"-XX:-ClassUnloadingWithConcurrentMark\", \"-XX:ShenandoahUnloadClassesFrequency=1\");\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/oom\/TestClassLoaderLeak.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -80,1 +80,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -82,1 +82,1 @@\n-                    \"-XX:+UnlockExperimentalVMOptions\",\n+                    \"-XX:+UnlockExperimentalVMOptions\", \n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/oom\/TestThreadFailure.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -60,1 +60,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -71,1 +71,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -86,1 +86,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -97,1 +97,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -108,1 +108,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -119,1 +119,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestArgumentRanges.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestClassUnloadingArguments.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -80,1 +80,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -98,1 +98,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -116,1 +116,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -134,1 +134,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestExplicitGC.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestExplicitGCNoConcurrent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -76,1 +76,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -97,1 +97,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestHeuristicsUnlock.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -54,1 +54,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -65,1 +65,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestHumongousThresholdArgs.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmds);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmds);\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestLoopMiningArguments.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -77,1 +77,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -98,1 +98,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestModeUnlock.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -58,1 +58,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -68,1 +68,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -80,1 +80,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -91,1 +91,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -103,1 +103,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -114,1 +114,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -125,1 +125,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -137,1 +137,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -148,1 +148,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -163,1 +163,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -175,1 +175,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -187,1 +187,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -199,1 +199,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -214,1 +214,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -226,1 +226,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestRegionSizeArgs.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n- * @requires vm.debug\n@@ -40,1 +39,1 @@\n- * @run driver TestSelectiveBarrierFlags -Xbatch -XX:CompileThreshold=100 -XX:-TieredCompilation -XX:+ShenandoahVerifyOptoBarriers\n+ * @run driver TestSelectiveBarrierFlags -Xbatch -XX:CompileThreshold=100 -XX:-TieredCompilation\n@@ -93,1 +92,1 @@\n-                    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(conf.toArray(new String[0]));\n+                    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(conf.toArray(new String[0]));\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestSelectiveBarrierFlags.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -52,1 +52,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n@@ -63,1 +63,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\",\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestSoftMaxHeapSize.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestThreadCounts.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -56,1 +56,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestThreadCountsOverride.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -84,1 +84,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestWrongBarrierDisable.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -76,1 +76,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/options\/TestWrongBarrierEnable.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseG1GC\", \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseG1GC\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/startup_warnings\/TestG1.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseParallelGC\", \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseParallelGC\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/startup_warnings\/TestParallelGC.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseSerialGC\", \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseSerialGC\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/startup_warnings\/TestSerialGC.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\", \"-XX:+UseShenandoahGC\", \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockExperimentalVMOptions\", \"-XX:+UseShenandoahGC\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/gc\/startup_warnings\/TestShenandoah.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(baseargs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(baseargs);\n","filename":"test\/hotspot\/jtreg\/gc\/stress\/TestReclaimStringsLeaksMemory.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -104,1 +104,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(options);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(options);\n","filename":"test\/hotspot\/jtreg\/gc\/stress\/TestStressG1Humongous.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(options);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(options);\n","filename":"test\/hotspot\/jtreg\/gc\/stress\/TestStressG1Uncommit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -302,1 +302,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(args);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationTools.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/whitebox\/TestWBGC.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n+        ProcessTools.executeProcess(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/x\/TestAllocateHeapAt.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -71,1 +71,1 @@\n-        ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n+        ProcessTools.executeProcess(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/x\/TestPageCacheFlush.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,1 +56,1 @@\n-            ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n+            ProcessTools.executeProcess(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/x\/TestSmallHeap.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-        ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n+        ProcessTools.executeProcess(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/z\/TestAllocateHeapAt.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-        ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n+        ProcessTools.executeProcess(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/z\/TestPageCacheFlush.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-            ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n+            ProcessTools.executeProcess(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/z\/TestSmallHeap.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-        OutputAnalyzer oa = ProcessTools.executeProcess(ProcessTools.createTestJvm(\n+        OutputAnalyzer oa = ProcessTools.executeProcess(ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/z\/TestZForceDiscontiguousHeapReservations.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-        OutputAnalyzer oa = ProcessTools.executeProcess(ProcessTools.createTestJvm(\n+        OutputAnalyzer oa = ProcessTools.executeProcess(ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/gc\/z\/TestZNMT.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n-        ProcessBuilder pt = ProcessTools.createTestJvm(\"-Xmx4000m\", \"-javaagent:agent.jar\",  \"GetObjectSizeOverflowAgent\");\n+        ProcessBuilder pt = ProcessTools.createTestJavaProcessBuilder(\"-Xmx4000m\", \"-javaagent:agent.jar\",  \"GetObjectSizeOverflowAgent\");\n","filename":"test\/hotspot\/jtreg\/resourcehogs\/serviceability\/jvmti\/GetObjectSizeOverflow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/7162488\/TestUnrecognizedVmOption.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n-import static jdk.test.lib.process.ProcessTools.createJavaProcessBuilder;\n+import static jdk.test.lib.process.ProcessTools.createLimitedTestJavaProcessBuilder;\n@@ -232,1 +232,1 @@\n-        ProcessBuilder pb = createJavaProcessBuilder(\n+        ProcessBuilder pb = createLimitedTestJavaProcessBuilder(\n@@ -253,1 +253,1 @@\n-            ProcessBuilder pb = createJavaProcessBuilder(\n+            ProcessBuilder pb = createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/8176717\/TestInheritFD.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"--patch-module=java.base=mods\/java.base\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--patch-module=java.base=mods\/java.base\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/BadObjectClass\/BootstrapRedefine.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/BootClassAppendProp\/BootClassPathAppend.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -110,1 +110,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-cp\", \".\",  classTestCName);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-cp\", \".\",  classTestCName);\n","filename":"test\/hotspot\/jtreg\/runtime\/BootstrapMethod\/BSMCalledTwice.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"TestPkg.Lambda\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"TestPkg.Lambda\");\n","filename":"test\/hotspot\/jtreg\/runtime\/BootstrapMethod\/TestLambdaExceptionInInitializer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -53,1 +53,1 @@\n-      pb = ProcessTools.createJavaProcessBuilder(\n+      pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CDSCompressedKPtrs\/CDSCompressedKPtrs.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -58,1 +58,1 @@\n-            pb = ProcessTools.createJavaProcessBuilder(\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CDSCompressedKPtrs\/XShareAuto.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"BadHelloWorld\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"BadHelloWorld\");\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/FormatCheckingTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/JsrRewriting.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/OomWhileParsingRepeatedJsr.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -64,1 +64,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"--enable-preview\",\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--enable-preview\",\n@@ -71,1 +71,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"--enable-preview\", \"-Xlog:class+preview\",\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--enable-preview\", \"-Xlog:class+preview\",\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/PreviewVersion.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/TestCheckedExceptions.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-cp\", \".\",  \"ClassFile\");\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-cp\", \".\",  \"ClassFile\");\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/UnsupportedClassFileVersion.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -46,1 +47,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/BooleanFlagWithInvalidValue.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -49,1 +50,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:CompileCommandFile=hs_comp.txt\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:CompileCommandFile=hs_comp.txt\", \"-version\");\n@@ -63,1 +64,1 @@\n-            pb = ProcessTools.createJavaProcessBuilder(\"-version\");\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/CompilerConfigFileWarning.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -53,1 +54,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/ConfigFileParsing.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -49,1 +50,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:Flags=hs_flags.txt\",\"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:Flags=hs_flags.txt\",\"-version\");\n@@ -60,1 +61,1 @@\n-            pb = ProcessTools.createJavaProcessBuilder(\"-version\");\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/ConfigFileWarning.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:SweeperThreshold=\" + value, \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:SweeperThreshold=\" + value, \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/DoubleFlagWithIntegerValue.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/FlagWithInvalidValue.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,1 +32,1 @@\n- *\n+ * @requires vm.flagless\n@@ -41,1 +41,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/IgnoreUnrecognizedVMOptions.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -46,1 +47,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/NonBooleanFlagWithInvalidBooleanPrefix.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @requires vm.flagless\n@@ -43,1 +44,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -51,1 +52,1 @@\n-    ProcessBuilder pb2 = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb2 = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/ObsoleteFlagErrorMessage.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -53,1 +54,1 @@\n-        output = new OutputAnalyzer((ProcessTools.createJavaProcessBuilder(\n+        output = new OutputAnalyzer((ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/TestJcmdOutput.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @requires vm.flagless\n@@ -41,0 +42,1 @@\n+ * @requires vm.flagless\n@@ -52,0 +54,1 @@\n+ * @requires vm.flagless\n@@ -63,0 +66,1 @@\n+ * @requires vm.flagless\n@@ -74,0 +78,1 @@\n+ * @requires vm.flagless\n@@ -85,0 +90,1 @@\n+ * @requires vm.flagless\n@@ -96,0 +102,1 @@\n+ * @requires vm.flagless\n@@ -107,0 +114,1 @@\n+ * @requires vm.flagless\n@@ -118,0 +126,1 @@\n+ * @requires vm.flagless\n@@ -129,0 +138,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/TestOptionsWithRanges.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/TestOptionsWithRangesDynamic.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-# Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n-for i in {1..10}; do \n+for i in {1..10}; do\n@@ -33,0 +33,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/TestOptionsWithRanges_generate.sh","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -420,1 +420,1 @@\n-        out = new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(runJava).start());\n+        out = new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(runJava).start());\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/common\/optionsvalidation\/JVMOption.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -472,1 +472,1 @@\n-        p = ProcessTools.createJavaProcessBuilder(runJava).start();\n+        p = ProcessTools.createLimitedTestJavaProcessBuilder(runJava).start();\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/common\/optionsvalidation\/JVMOptionsUtils.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -41,1 +42,1 @@\n-      ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+      ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -47,1 +48,1 @@\n-      pb = ProcessTools.createJavaProcessBuilder(\n+      pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/TestHexArguments.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -45,1 +46,1 @@\n-        output = new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(\"-XX:\" + VERY_LONG_OPTION, \"-version\").start());\n+        output = new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:\" + VERY_LONG_OPTION, \"-version\").start());\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/TestLongUnrecognizedVMOption.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+ * @requires vm.flagless\n@@ -60,1 +61,1 @@\n-                ProcessTools.createJavaProcessBuilder(testOption, \"-version\");\n+                ProcessTools.createLimitedTestJavaProcessBuilder(testOption, \"-version\");\n@@ -67,1 +68,0 @@\n-\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/TestNullTerminatedFlags.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -40,1 +41,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -48,1 +49,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -57,1 +58,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\"-XX:Flags=\"+s);\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:Flags=\"+s);\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/TestVMOptions.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -40,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/TraceExceptionsTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -46,1 +47,1 @@\n-      ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+      ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/UnrecognizedVMOption.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @requires vm.flagless\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/VMAliasOptions.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+ * @requires vm.flagless\n@@ -103,1 +104,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -116,1 +117,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/VMDeprecatedOptions.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -40,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+AlwaysSafeConstructors\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+AlwaysSafeConstructors\", \"-version\");\n@@ -50,1 +51,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintInlining\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintInlining\", \"-version\");\n@@ -55,1 +56,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+VerifyStack\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+VerifyStack\", \"-version\");\n@@ -60,1 +61,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+CheckCompressedOops\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+CheckCompressedOops\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/VMOptionWarning.java","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -250,1 +251,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(runJava);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(runJava);\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/VMOptionsFile\/TestVMOptionsFile.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -79,1 +79,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -97,1 +97,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -122,1 +122,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -143,1 +143,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -157,1 +157,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -168,1 +168,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -184,1 +184,1 @@\n-          pb = ProcessTools.createJavaProcessBuilder(\n+          pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -203,1 +203,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -219,1 +219,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -239,1 +239,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -259,1 +259,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -273,1 +273,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -286,1 +286,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -304,1 +304,1 @@\n-          pb = ProcessTools.createJavaProcessBuilder(\n+          pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/CompressedClassPointers.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,2 +45,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:CompressedClassSpaceSize=0\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:CompressedClassSpaceSize=0\",\n+                                                              \"-version\");\n@@ -52,2 +52,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:CompressedClassSpaceSize=-1\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:CompressedClassSpaceSize=-1\",\n+                                                              \"-version\");\n@@ -60,2 +60,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:CompressedClassSpaceSize=4g\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:CompressedClassSpaceSize=4g\",\n+                                                              \"-version\");\n@@ -70,4 +70,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\",\n-                                                   \"-XX:CompressedClassSpaceSize=1m\",\n-                                                   \"-Xlog:gc+metaspace=trace\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\",\n+                                                              \"-XX:CompressedClassSpaceSize=1m\",\n+                                                              \"-Xlog:gc+metaspace=trace\",\n+                                                              \"-version\");\n@@ -80,4 +80,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\",\n-                                                   \"-XX:CompressedClassSpaceSize=3g\",\n-                                                   \"-Xlog:gc+metaspace=trace\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\",\n+                                                              \"-XX:CompressedClassSpaceSize=3g\",\n+                                                              \"-Xlog:gc+metaspace=trace\",\n+                                                              \"-version\");\n@@ -89,3 +89,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:-UseCompressedClassPointers\",\n-                                                   \"-XX:CompressedClassSpaceSize=1m\",\n-                                                   \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:-UseCompressedClassPointers\",\n+                                                              \"-XX:CompressedClassSpaceSize=1m\",\n+                                                              \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/CompressedClassSpaceSize.java","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,1 +53,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/CompressedKlassPointerAndOops.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -77,2 +77,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:ObjectAlignmentInBytes=\" + alignment,\n-                                                                  \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ObjectAlignmentInBytes=\" + alignment,\n+                                                                             \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/ObjectAlignment.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -192,1 +192,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/UseCompressedOops.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Dictionary\/CleanProtectionDomain.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -101,1 +101,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Dictionary\/ProtectionDomainCacheTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"EnclMethTest\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"EnclMethTest\");\n","filename":"test\/hotspot\/jtreg\/runtime\/EnclosingMethodAttr\/EnclMethodAttr.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+ * @requires vm.flagless\n@@ -47,1 +48,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/BadNativeStackInErrorHandlingTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -53,3 +54,3 @@\n-            ProcessTools.createJavaProcessBuilder(\"-XX:-CreateCoredumpOnCrash\",\n-                                                  \"-XX:ErrorHandlerTest=14\",\n-                                                  \"-XX:+ErrorFileToStdout\");\n+            ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:-CreateCoredumpOnCrash\",\n+                                                             \"-XX:ErrorHandlerTest=14\",\n+                                                             \"-XX:+ErrorFileToStdout\");\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ClassPathEnvVar.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-            ProcessTools.createJavaProcessBuilder(\n+            ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/CreateCoredumpOnCrash.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @requires vm.flagless\n@@ -99,1 +100,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -125,1 +126,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ErrorFileOverwriteTest.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @requires vm.flagless\n@@ -50,1 +51,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ErrorFileRedirectTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -117,1 +118,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/MachCodeFramesInErrorFile.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+ * @requires vm.flagless\n@@ -55,1 +56,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/NestedThreadsListHandleInErrorHandlingTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+ * @requires vm.flagless\n@@ -49,1 +50,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ProblematicFrameTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -59,1 +60,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ReattemptErrorTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @requires vm.flagless\n@@ -50,1 +51,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ResourceMarkTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+ * @requires vm.flagless\n@@ -49,1 +50,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/SafeFetchInErrorHandlingTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @requires vm.flagless\n@@ -41,0 +42,1 @@\n+ * @requires vm.flagless\n@@ -81,1 +83,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/SecondaryErrorTest.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+ * @requires vm.flagless\n@@ -57,1 +58,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ShowRegistersOnAssertTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,134 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+import jdk.test.lib.Utils;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+\/*\n+ * @test StackWalkNativeToJava\n+ * @bug 8316309\n+ * @summary Check that walking the stack works fine when going from C++ frame to Java frame.\n+ * @requires os.arch==\"amd64\" | os.arch==\"x86_64\" | os.arch==\"aarch64\"\n+ * @requires os.family != \"windows\"\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @run driver StackWalkNativeToJava\n+ *\/\n+\n+public class StackWalkNativeToJava {\n+\n+    public static void main(String[] args) throws Exception {\n+        \/\/ Check stack walking works fine when sender of C++ frame\n+        \/\/ is a Java native method.\n+        testStackWalkNativeToJavaNative(\"-Xint\");\n+        testStackWalkNativeToJavaNative(\"-Xcomp\", \"-XX:CompileCommand=dontinline,StackWalkNativeToJava$TestNativeToJavaNative::*\");\n+\n+        \/\/ Check stack walking works fine when sender of C++ frame\n+        \/\/ is a runtime stub or interpreted Java method (VM call from Java).\n+        testStackWalkNativeToJava(\"-Xint\");\n+        testStackWalkNativeToJava(\"-Xcomp\", \"-XX:TieredStopAtLevel=3\",\n+                                  \"-XX:CompileCommand=dontinline,StackWalkNativeToJava$TestNativeToJava::*\");\n+    }\n+\n+    public static void testStackWalkNativeToJavaNative(String... extraFlags) throws Exception {\n+        List<String> commands = new ArrayList<>();\n+        commands.add(\"-Xbootclasspath\/a:.\");\n+        commands.add(\"-XX:-CreateCoredumpOnCrash\");\n+        commands.add(\"-XX:+UnlockDiagnosticVMOptions\");\n+        commands.add(\"-XX:AbortVMOnException=java.lang.IllegalMonitorStateException\");\n+        commands.add(\"-XX:+ErrorFileToStdout\");\n+        commands.addAll(Arrays.asList(extraFlags));\n+        commands.add(\"StackWalkNativeToJava$TestNativeToJavaNative\");\n+\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(commands);\n+        OutputAnalyzer output = new OutputAnalyzer(pb.start());\n+        output.shouldNotContain(\"java.lang.RuntimeException: Reached statement after obj.wait()\");\n+        output.shouldNotContain(\"[error occurred during error reporting (printing native stack\");\n+        String[] res = output.getOutput().split(\"StackWalkNativeToJava\\\\$TestNativeToJavaNative\\\\.callNativeMethod\\\\(\\\\)V\");\n+        assertTrue(res.length - 1 == 2, res.length - 1);\n+        output.shouldNotHaveExitValue(0);\n+    }\n+\n+    public static class TestNativeToJavaNative {\n+        public static void main(String[] args) throws Exception {\n+            TestNativeToJavaNative test = new TestNativeToJavaNative();\n+            test.callNativeMethod();\n+        }\n+\n+        public void callNativeMethod() throws Exception {\n+            Object obj = new Object();\n+            \/\/ Trigger a fatal exit due to IllegalMonitorStateException during\n+            \/\/ a call to the VM from a Java native method.\n+            obj.wait();\n+            throw new RuntimeException(\"Reached statement after obj.wait()\");\n+        }\n+    }\n+\n+    public static void testStackWalkNativeToJava(String... extraFlags) throws Exception {\n+        List<String> commands = new ArrayList<>();\n+        commands.add(\"-Xbootclasspath\/a:.\");\n+        commands.add(\"-XX:-CreateCoredumpOnCrash\");\n+        commands.add(\"-XX:+UnlockDiagnosticVMOptions\");\n+        commands.add(\"-XX:DiagnoseSyncOnValueBasedClasses=1\");\n+        commands.add(\"-XX:+ErrorFileToStdout\");\n+        commands.addAll(Arrays.asList(extraFlags));\n+        commands.add(\"StackWalkNativeToJava$TestNativeToJava\");\n+\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(commands);\n+        OutputAnalyzer output = new OutputAnalyzer(pb.start());\n+        output.shouldNotContain(\"java.lang.RuntimeException: Reached statement after synchronized\");\n+        output.shouldNotContain(\"[error occurred during error reporting (printing native stack\");\n+        String[] res = output.getOutput().split(\"StackWalkNativeToJava\\\\$TestNativeToJava\\\\.callVMMethod\\\\(\\\\)V\");\n+        assertTrue(res.length - 1 == 2, res.length - 1);\n+        output.shouldNotHaveExitValue(0);\n+    }\n+\n+    public static class TestNativeToJava {\n+        static Integer counter = 0;\n+\n+        public static void main(String[] args) throws Exception {\n+            TestNativeToJava test = new TestNativeToJava();\n+            test.callVMMethod();\n+        }\n+\n+        public void callVMMethod() throws Exception {\n+            \/\/ Trigger a fatal exit for trying to synchronize on a value based class\n+            \/\/ during a call to the VM from a Java method.\n+            synchronized (counter) {\n+                counter++;\n+            }\n+            throw new RuntimeException(\"Reached statement after synchronized\");\n+        }\n+    }\n+\n+    private static void assertTrue(boolean condition, int count) {\n+        if (!condition) {\n+            throw new RuntimeException(\"Count error: count was \" + count);\n+        }\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/StackWalkNativeToJava.java","additions":134,"deletions":0,"binary":false,"changes":134,"status":"added"},{"patch":"@@ -0,0 +1,90 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test TestAbortVmOnException\n+ * @summary Test -XX:AbortVMOnException=MyAbortException with C1 compilation\n+ * @library \/test\/lib\n+ * @run driver TestAbortVmOnException\n+ * @bug 8264899\n+ *\/\n+\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+\n+import java.io.IOException;\n+\n+\n+public class TestAbortVmOnException {\n+\n+    public static void main(String[] args) throws Exception {\n+        if (args.length == 1) {\n+            if (args[0].equals(\"throwExceptionWithMessage\")) {\n+                throw new MyAbortException(\"MyExceptionMessage\");\n+            } else {\n+                throw new MyAbortException();\n+            }\n+        }\n+        \/\/ Run process throwing MyException\n+        Process myExceptionThrowingProcess = runProcess( \"MyAbortException\", false, null);\n+        parseOutput(myExceptionThrowingProcess, \"fatal error: Saw MyAbortException, aborting\");\n+        \/\/ Run process throwing MyException with message\n+        Process myExceptionThrowingWithMessageProcess = runProcess( \"MyAbortException\", true, null);\n+        parseOutput(myExceptionThrowingWithMessageProcess, \"fatal error: Saw MyAbortException: MyExceptionMessage, aborting\");\n+        \/\/ Run process throwing MyException with message and check message\n+        Process myExceptionThrowingWithMessageCheckProcess = runProcess( \"MyAbortException\", true, \"MyExceptionMessage\");\n+        parseOutput(myExceptionThrowingWithMessageCheckProcess, \"fatal error: Saw MyAbortException: MyExceptionMessage, aborting\");\n+        System.out.println(\"PASSED\");\n+    }\n+\n+    private static Process runProcess(String exceptionName, boolean withMessage, String exceptionMessage) throws IOException {\n+        if (exceptionMessage == null) {\n+            return ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\",\n+                \"-XX:AbortVMOnException=\" + exceptionName, \"-Xcomp\", \"-XX:TieredStopAtLevel=3\", \"-XX:-CreateCoredumpOnCrash\",\n+                \"-XX:CompileCommand=compileonly,TestAbortVmOnException::*\", TestAbortVmOnException.class.getName(),\n+                withMessage ? \"throwExceptionWithMessage\" : \"throwException\").start();\n+        } else {\n+            return ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\",\n+                \"-XX:AbortVMOnException=\" + exceptionName, \"-XX:AbortVMOnExceptionMessage=\" + exceptionMessage,\n+                \"-Xcomp\", \"-XX:TieredStopAtLevel=3\", \"-XX:-CreateCoredumpOnCrash\", \"-XX:CompileCommand=compileonly,TestAbortVmOnException::*\",\n+                TestAbortVmOnException.class.getName(),withMessage ? \"throwExceptionWithMessage\" : \"throwException\").start();\n+        }\n+    }\n+\n+    private static void parseOutput(Process process, String expectedString) throws IOException {\n+        OutputAnalyzer output = new OutputAnalyzer(process);\n+        output.stdoutShouldNotBeEmpty();\n+        output.shouldContain(expectedString);\n+    }\n+\n+}\n+\n+class MyAbortException extends RuntimeException {\n+    public MyAbortException() {\n+        super();\n+    }\n+\n+    public MyAbortException(String message) {\n+        super(message);\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestAbortVmOnException.java","additions":90,"deletions":0,"binary":false,"changes":90,"status":"added"},{"patch":"@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -56,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+CrashOnOutOfMemoryError\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+CrashOnOutOfMemoryError\",\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestCrashOnOutOfMemoryError.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n- * @test\n+ * @test id=checkDecoder\n@@ -33,1 +33,9 @@\n- * @run main\/native\/othervm -Xbootclasspath\/a:. -XX:-CreateCoredumpOnCrash TestDwarf\n+ * @run main\/native\/othervm -Xbootclasspath\/a:. -XX:-CreateCoredumpOnCrash -DcheckDecoder=true TestDwarf\n+ *\/\n+\n+\/*\n+ * @test id=dontCheckDecoder\n+ * @library \/ \/test\/lib\n+ * @requires vm.debug == true & vm.flagless & vm.compMode != \"Xint\" & os.family == \"linux\" & !vm.graal.enabled & vm.gc.G1\n+ * @modules java.base\/jdk.internal.misc\n+ * @run main\/native\/othervm -Xbootclasspath\/a:. -XX:-CreateCoredumpOnCrash -DcheckDecoder=false TestDwarf\n@@ -58,0 +66,2 @@\n+    static boolean checkDecoder = Boolean.getBoolean(\"checkDecoder\");\n+\n@@ -121,0 +131,7 @@\n+    \/\/ The full pattern accepts lines like:\n+    \/\/  V [libjvm.so+0x8f4ed8] report_fatal(VMErrorType, char const*, int, char const*, ...)+0x78 (debug.cpp:212)\n+    \/\/ but if the decoder is not available we only get\n+    \/\/  V [libjvm.so+0x8f4ed8] (debug.cpp:212)\n+    private static final String FULL_PATTERN =\"[CV][\\\\s\\\\t]+\\\\[([a-zA-Z0-9_.]+)\\\\+0x.+][\\\\s\\\\t]+.*\\\\+0x.+[\\\\s\\\\t]+\\\\([a-zA-Z0-9_.]+\\\\.[a-z]+:[1-9][0-9]*\\\\)\";\n+    private static final String NO_DECODER_PATTERN =\"[CV][\\\\s\\\\t]+\\\\[([a-zA-Z0-9_.]+)\\\\+0x.+].*\\\\([a-zA-Z0-9_.]+\\\\.[a-z]+:[1-9][0-9]*\\\\)\";\n+\n@@ -123,1 +140,1 @@\n-        crashOut = ProcessTools.executeProcess(ProcessTools.createTestJvm(flags.getFlags()));\n+        crashOut = ProcessTools.executeProcess(ProcessTools.createTestJavaProcessBuilder(flags.getFlags()));\n@@ -135,1 +152,3 @@\n-            Pattern pattern = Pattern.compile(\"[CV][\\\\s\\\\t]+\\\\[([a-zA-Z0-9_.]+)\\\\+0x.+][\\\\s\\\\t]+.*\\\\+0x.+[\\\\s\\\\t]+\\\\([a-zA-Z0-9_.]+\\\\.[a-z]+:[1-9][0-9]*\\\\)\");\n+\n+            Pattern pattern = Pattern.compile(checkDecoder ? FULL_PATTERN : NO_DECODER_PATTERN);\n+\n@@ -150,1 +169,1 @@\n-                            checkNoSourceLine(crashOutputString, line);\n+                            checkMissingElement(crashOutputString, line);\n@@ -171,1 +190,2 @@\n-     * There are some valid cases where we cannot find source information. Check these.\n+     * After we failed to match the pattern, try to determine what element was missing.\n+     * There are some valid cases where we cannot find source information.\n@@ -173,1 +193,2 @@\n-    private static void checkNoSourceLine(String crashOutputString, String line) {\n+    private static void checkMissingElement(String crashOutputString, String line) {\n+        \/\/ First check if we got the library name.\n@@ -177,0 +198,1 @@\n+\n@@ -184,0 +206,8 @@\n+            \/\/ Symbols were fine so check if we expected decoder output and didn't find it.\n+            if (checkDecoder) {\n+                pattern = Pattern.compile(NO_DECODER_PATTERN);\n+                matcher = pattern.matcher(line);\n+                if (matcher.find()) {\n+                    Asserts.fail(\"Could not find decoded method signature in \\\"\" + line + \"\\\"\");\n+                }\n+            }\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestDwarf.java","additions":37,"deletions":7,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -51,1 +52,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+ExitOnOutOfMemoryError\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+ExitOnOutOfMemoryError\",\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestExitOnOutOfMemoryError.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +36,1 @@\n+ * @requires vm.flagless\n@@ -64,1 +66,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestGZippedHeapDumpOnOutOfMemoryError.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -35,0 +36,1 @@\n+ * @requires vm.flagless\n@@ -76,1 +78,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+HeapDumpOnOutOfMemoryError\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+HeapDumpOnOutOfMemoryError\",\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestHeapDumpOnOutOfMemoryError.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -56,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+HeapDumpOnOutOfMemoryError\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+HeapDumpOnOutOfMemoryError\",\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestHeapDumpPath.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @requires vm.flagless\n@@ -43,1 +44,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestOnError.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -49,1 +50,1 @@\n-        ProcessBuilder pb_single = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb_single = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -54,1 +55,1 @@\n-        ProcessBuilder pb_multiple = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb_multiple = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestOnOutOfMemoryError.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+ * @requires vm.flagless\n@@ -48,1 +49,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestSigInfoInHsErrFile.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestSymbolsInHsErrFile.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+ * @requires vm.flagless\n@@ -55,1 +56,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/ThreadsListHandleInErrorHandlingTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -4,1 +4,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,1 @@\n+ * @requires vm.flagless\n@@ -56,0 +57,1 @@\n+ * @requires vm.flagless\n@@ -109,1 +111,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(arguments);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TimeoutInErrorHandlingTest.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+ * @requires vm.flagless\n@@ -52,2 +53,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n-            \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/VeryEarlyAssertTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/GenerateOopMap\/TestGenerateOopMapCrash.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx128M\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx128M\",\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invocationC1Tests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx128M\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx128M\",\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invocationOldCHATests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx128M\", option,\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx128M\", option,\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invokeinterfaceTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx128M\", option,\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx128M\", option,\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invokespecialTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx128M\", option,\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx128M\", option,\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invokevirtualTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/LoadClass\/LoadClassNegative.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -85,1 +85,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -100,1 +100,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -125,1 +125,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -142,1 +142,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(bootCP, \"Hello\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(bootCP, \"Hello\");\n@@ -154,1 +154,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/LoadClass\/LongBCP.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -134,4 +134,4 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintClassLoaderDataGraphAtExit\",\n-                                                              \"-Xlog:safepoint+cleanup,class+loader+data\",\n-                                                              \"TriggerResize\",\n-                                                              String.valueOf(CLASSES_TO_LOAD));\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintClassLoaderDataGraphAtExit\",\n+                                                                         \"-Xlog:safepoint+cleanup,class+loader+data\",\n+                                                                         \"TriggerResize\",\n+                                                                         String.valueOf(CLASSES_TO_LOAD));\n","filename":"test\/hotspot\/jtreg\/runtime\/LoadClass\/TestResize.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,5 +40,5 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xint\",\n-                                                                  \"--add-opens\",   \"java.base\/java.lang=ALL-UNNAMED\",\n-                                                                  \"--add-opens\",   \"java.base\/java.lang.invoke=ALL-UNNAMED\",\n-                                                                  \"--add-exports\", \"java.base\/jdk.internal.vm=ALL-UNNAMED\",\n-                                                                  \"LocalLongHelper\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xint\",\n+                                                                             \"--add-opens\",   \"java.base\/java.lang=ALL-UNNAMED\",\n+                                                                             \"--add-opens\",   \"java.base\/java.lang.invoke=ALL-UNNAMED\",\n+                                                                             \"--add-exports\", \"java.base\/jdk.internal.vm=ALL-UNNAMED\",\n+                                                                             \"LocalLongHelper\");\n","filename":"test\/hotspot\/jtreg\/runtime\/LocalLong\/LocalLongTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,4 +44,1 @@\n-        String jarFile = System.getProperty(\"test.src\") + \"\/testcase.jar\";\n-\n-        \/\/ java -cp $testSrc\/testcase.jar DuplicateLVT\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"DuplicateLVT\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"DuplicateLVT\");\n@@ -52,2 +49,1 @@\n-        \/\/ java -cp $testclasses\/testcase.jar DuplicateLVTT\n-        pb = ProcessTools.createJavaProcessBuilder(\"DuplicateLVTT\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"DuplicateLVTT\");\n@@ -58,2 +54,1 @@\n-        \/\/ java -cp $testclasses\/testcase.jar NotFoundLVTT\n-        pb = ProcessTools.createJavaProcessBuilder(\"NotFoundLVTT\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"NotFoundLVTT\");\n","filename":"test\/hotspot\/jtreg\/runtime\/LocalVariableTable\/TestLVT.java","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -129,1 +129,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/MemberName\/MemberNameLeak.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -84,1 +84,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(flag, main, max);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(flag, main, max);\n@@ -99,1 +99,1 @@\n-            pb = ProcessTools.createJavaProcessBuilder(main, max);\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(main, max);\n@@ -115,1 +115,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(rcFileFlag, main, max);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(rcFileFlag, main, max);\n","filename":"test\/hotspot\/jtreg\/runtime\/Metaspace\/MaxMetaspaceSizeEnvVarTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Metaspace\/MaxMetaspaceSizeTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-Xshare:dump\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-Xshare:dump\");\n@@ -46,1 +46,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-Xshare:on\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-Xshare:on\");\n@@ -51,1 +51,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-Xshare:auto\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-Xshare:auto\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/MinimalVM\/CDS.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-Xcheck:jni\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-Xcheck:jni\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/MinimalVM\/CheckJNI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/MinimalVM\/Instrumentation.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-XX:+ManagementServer\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-XX:+ManagementServer\", \"-version\");\n@@ -46,1 +46,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-Dcom.sun.management \", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-Dcom.sun.management \", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/MinimalVM\/JMX.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/MinimalVM\/JVMTI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-XX:NativeMemoryTracking=detail\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-XX:NativeMemoryTracking=detail\", \"-version\");\n@@ -46,1 +46,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-XX:NativeMemoryTracking=summary\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-XX:NativeMemoryTracking=summary\", \"-version\");\n@@ -51,1 +51,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-minimal\", \"-XX:NativeMemoryTracking=off\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-minimal\", \"-XX:NativeMemoryTracking=off\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/MinimalVM\/NMT.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -275,1 +275,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(opts);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(opts);\n","filename":"test\/hotspot\/jtreg\/runtime\/Monitor\/DeflationIntervalsTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Monitor\/MonitorUsedDeflationThresholdTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(fatalTests[i]);\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(fatalTests[i]);\n@@ -94,1 +94,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(logTests[i]);\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(logTests[i]);\n@@ -174,1 +174,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(vtTest);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(vtTest);\n@@ -182,1 +182,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(vtTest);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(vtTest);\n","filename":"test\/hotspot\/jtreg\/runtime\/Monitor\/SyncOnValueBasedClassTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/CheckForProperDetailStackTrace.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/CommandLineDetail.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:NativeMemoryTracking=\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:NativeMemoryTracking=\");\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/CommandLineEmptyArgument.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:NativeMemoryTracking=apa\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:NativeMemoryTracking=apa\");\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/CommandLineInvalidArgument.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/CommandLineSummary.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/CommandLineTurnOffNMT.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -53,1 +54,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Dtest.jdk=\" + testjdkPath, \"JcmdWithNMTDisabled\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Dtest.jdk=\" + testjdkPath, \"JcmdWithNMTDisabled\");\n@@ -59,1 +60,1 @@\n-      pb = ProcessTools.createJavaProcessBuilder(\"-Dtest.jdk=\" + testjdkPath, \"-XX:NativeMemoryTracking=off\", \"JcmdWithNMTDisabled\");\n+      pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Dtest.jdk=\" + testjdkPath, \"-XX:NativeMemoryTracking=off\", \"JcmdWithNMTDisabled\");\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/JcmdWithNMTDisabled.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @requires vm.flagless\n@@ -37,0 +38,1 @@\n+ * @requires vm.flagless\n@@ -45,0 +47,1 @@\n+ * @requires vm.flagless\n@@ -53,0 +56,1 @@\n+ * @requires vm.flagless\n@@ -61,0 +65,1 @@\n+ * @requires vm.flagless\n@@ -69,0 +74,1 @@\n+ * @requires vm.flagless\n@@ -95,1 +101,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/MallocLimitTest.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -159,1 +159,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(vmArgs);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(vmArgs);\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/NMTInitializationTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/NMTJavaHeapTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\n+    pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -48,1 +48,1 @@\n-      pb = ProcessTools.createJavaProcessBuilder(\n+      pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/NMTWithCDS.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -58,1 +58,1 @@\n-    ProcessBuilder pb1 = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb1 = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/PrintNMTStatistics.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -39,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/PrintNMTStatisticsWithNMTDisabled.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PerfAllowAtExitRegistration\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PerfAllowAtExitRegistration\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/PerfMemDestroy\/PerfMemDestroy.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,1 +37,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/PrintStringTableStats\/PrintStringTableStatsTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -257,1 +257,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:StackReservedPages=1\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:StackReservedPages=1\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/ReservedStack\/ReservedStackTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Safepoint\/TestAbortOnVMOperationTimeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Safepoint\/TestAbortVMOnSafepointTimeout.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-cp\", \".\",  \"Large\");\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-cp\", \".\",  \"Large\");\n","filename":"test\/hotspot\/jtreg\/runtime\/StackTrace\/LargeClassTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -93,1 +93,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/TestAlwaysPreTouchStacks.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-Djava.library.path=\" + Utils.TEST_NATIVE_PATH, main);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-Djava.library.path=\" + Utils.TEST_NATIVE_PATH, main);\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/TestBreakSignalThreadDump.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -97,1 +97,1 @@\n-            return ProcessTools.createJavaProcessBuilder(\n+            return ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -104,1 +104,1 @@\n-            return ProcessTools.createJavaProcessBuilder(\n+            return ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/TooSmallStackSize.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,5 +54,5 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:stacktrace=info\",\n-                                                                  \"-XX:MaxJavaStackTraceDepth=1024\",\n-                                                                  \"--add-opens\",\n-                                                                  \"java.base\/java.lang=ALL-UNNAMED\",\n-                                                                  \"TestThrowable\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:stacktrace=info\",\n+                                                                             \"-XX:MaxJavaStackTraceDepth=1024\",\n+                                                                             \"--add-opens\",\n+                                                                             \"java.base\/java.lang=ALL-UNNAMED\",\n+                                                                             \"TestThrowable\");\n","filename":"test\/hotspot\/jtreg\/runtime\/Throwable\/StackTraceLogging.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,2 +46,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xmx64m\",\n-                                                                  \"-Xlog:exceptions=trace\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xmx64m\",\n+                                                                             \"-Xlog:exceptions=trace\",\n@@ -49,1 +49,1 @@\n-                                                                  \"TestCatchThrowableOOM$OOM\");\n+                                                                             \"TestCatchThrowableOOM$OOM\");\n","filename":"test\/hotspot\/jtreg\/runtime\/Throwable\/TestCatchThrowableOOM.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,5 +82,5 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:stacktrace=info\",\n-                                                                  \"-XX:MaxJavaStackTraceDepth=\" + d,\n-                                                                  \"--add-opens\",\n-                                                                  \"java.base\/java.lang=ALL-UNNAMED\",\n-                                                                  \"TestMaxJavaStackTraceDepth\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:stacktrace=info\",\n+                                                                             \"-XX:MaxJavaStackTraceDepth=\" + d,\n+                                                                             \"--add-opens\",\n+                                                                             \"java.base\/java.lang=ALL-UNNAMED\",\n+                                                                             \"TestMaxJavaStackTraceDepth\");\n","filename":"test\/hotspot\/jtreg\/runtime\/Throwable\/TestMaxJavaStackTraceDepth.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/Unsafe\/RangeCheck.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xcheck:jni\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xcheck:jni\", \"-version\");\n@@ -71,1 +71,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xcheck:jni\", \"-verbose:jni\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xcheck:jni\", \"-verbose:jni\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/XCheckJniJsig\/XCheckJSig.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,1 +55,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(processArgs);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(processArgs);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/MaxMetaspaceSize.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -59,1 +59,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/SharedStrings.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-         ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+CrashOnOutOfMemoryError\",\n+         ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+CrashOnOutOfMemoryError\",\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/TestCDSVMCrash.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -58,0 +58,2 @@\n+    String[] classlist = { \"CpAttr1\", \"CpAttr2\", \"CpAttr3\", \"CpAttr4\", \"CpAttr5\"};\n+    String jar4 = TestCommon.getTestJar(\"cpattr4.jar\");\n@@ -60,1 +62,0 @@\n-      String jar4 = TestCommon.getTestJar(\"cpattr4.jar\");\n@@ -68,5 +69,1 @@\n-      TestCommon.testDump(cp, TestCommon.list(\"CpAttr1\",\n-                                                          \"CpAttr2\",\n-                                                          \"CpAttr3\",\n-                                                          \"CpAttr4\",\n-                                                          \"CpAttr5\"));\n+      TestCommon.testDump(cp, classlist);\n@@ -89,0 +86,10 @@\n+\n+    \/\/ test duplicate jars in the \"Class-path\" attribute in the jar manifest\n+    buildCpAttr(\"cpattr_dup\", \"cpattr_dup.mf\", \"CpAttr1\", \"CpAttr1\");\n+    String cp = TestCommon.getTestJar(\"cpattr_dup.jar\") + File.pathSeparator + jar4;\n+    TestCommon.testDump(cp, classlist);\n+\n+    TestCommon.run(\n+        \"-cp\", cp,\n+        \"CpAttr1\")\n+      .assertNormalExit();\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/ClassPathAttr.java","additions":13,"deletions":6,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -163,1 +163,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/CommandLineFlagCombo.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,42 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+\/*\n+ * @test\n+ * @summary duplicate class paths test\n+ * @requires vm.cds\n+ * @library \/test\/lib\n+ * @compile test-classes\/Hello.java\n+ * @run driver DuplicateClassPaths\n+ *\/\n+\n+import java.io.File;\n+\n+public class DuplicateClassPaths {\n+    public static void main(String[] args) throws Exception {\n+        String appJar = JarBuilder.getOrCreateHelloJar();\n+        String jars = appJar + File.pathSeparator + appJar;\n+        TestCommon.test(jars, TestCommon.list(\"Hello\"), \"Hello\");\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/DuplicateClassPaths.java","additions":42,"deletions":0,"binary":false,"changes":42,"status":"added"},{"patch":"@@ -38,1 +38,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -45,1 +45,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/FillerObjectLoadTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -303,1 +303,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmd);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n@@ -450,1 +450,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmd);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TestCommon.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -115,1 +115,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(launchArgs);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(launchArgs);\n@@ -140,1 +140,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(launchArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(launchArgs);\n@@ -166,1 +166,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(launchArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(launchArgs);\n@@ -187,1 +187,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(launchArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(launchArgs);\n@@ -208,1 +208,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(launchArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(launchArgs);\n@@ -228,1 +228,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(launchArgs);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(launchArgs);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TestDumpClassListSource.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:cds\", \"-XX:+VerifySharedSpaces\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:cds\", \"-XX:+VerifySharedSpaces\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/VerifyWithDefaultArchive.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -264,1 +264,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmdLine);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmdLine);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicArchiveTestBase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -136,1 +136,1 @@\n-        \/\/ Do not use ProcessTools.createTestJvm(cmd) here, it copies jtreg env.\n+        \/\/ Do not use ProcessTools.createTestJavaProcessBuilder(cmd) here, it copies jtreg env.\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jcmd\/JCmdTestDynamicDump.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,75 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * @test ResolvedReferencesNotNullTest\n+ * @bug 8313638\n+ * @summary Testing resolved references array to ensure elements are non-null\n+ * @requires vm.cds.write.archived.java.heap\n+ * @library \/test\/lib \/test\/hotspot\/jtreg\/runtime\/cds\/appcds\n+ * @build jdk.test.whitebox.WhiteBox ResolvedReferencesWb ResolvedReferencesTestApp\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n+ * @run driver ResolvedReferencesNotNullTest\n+ *\/\n+\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+import jdk.test.whitebox.WhiteBox;\n+\n+public class ResolvedReferencesNotNullTest {\n+    public static void main(String[] args) throws Exception {\n+        SharedStringsUtils.buildJarAndWhiteBox(\"ResolvedReferencesWb\", \"ResolvedReferencesTestApp\");\n+        String appJar = TestCommon.getTestJar(SharedStringsUtils.TEST_JAR_NAME_FULL);\n+        String whiteboxParam = SharedStringsUtils.getWbParam();\n+\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-cp\",\n+                                                                             appJar,\n+                                                                             whiteboxParam,\n+                                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                                             \"-XX:+WhiteBoxAPI\",\n+                                                                             \"ResolvedReferencesWb\",\n+                                                                             \"false\" \/\/ ResolvedReferencesTestApp is not archived\n+                                                                             );\n+        OutputAnalyzer output = new OutputAnalyzer(pb.start());\n+        output.shouldHaveExitValue(0);\n+\n+        TestCommon.dump(appJar,\n+                        TestCommon.list(\"ResolvedReferencesWb\", \"ResolvedReferencesTestApp\"),\n+                        TestCommon.concat(\"-XX:SharedArchiveFile=ResolvedRef.jsa\",\n+                                          \"-XX:+UnlockDiagnosticVMOptions\",\n+                                          \"-XX:+WhiteBoxAPI\",\n+                                          whiteboxParam));\n+\n+        \/\/ Since ResolvedReferencesTestApp is now archived, all of the strings should be in the resolved\n+        \/\/ references array\n+        TestCommon.run(\"-cp\",\n+                       appJar,\n+                       whiteboxParam,\n+                       \"-XX:SharedArchiveFile=ResolvedRef.jsa\",\n+                       \"-XX:+UnlockDiagnosticVMOptions\",\n+                       \"-XX:+WhiteBoxAPI\",\n+                       \"ResolvedReferencesWb\",\n+                       \"true\" \/\/ ResolvedReferencesTestApp is archived\n+                       ).assertNormalExit();\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/sharedStrings\/ResolvedReferencesNotNullTest.java","additions":75,"deletions":0,"binary":false,"changes":75,"status":"added"},{"patch":"@@ -0,0 +1,31 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+public class ResolvedReferencesTestApp {\n+    \/\/ These strings must be in the resolved references array\n+    static String foo = \"fooString\";\n+    static String bar = \"barString\";\n+\n+    \/\/ This method is never called so the string should not be added to the resolved references array\n+    String qux() { return \"quxString\"; }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/sharedStrings\/ResolvedReferencesTestApp.java","additions":31,"deletions":0,"binary":false,"changes":31,"status":"added"},{"patch":"@@ -0,0 +1,83 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import jdk.test.whitebox.WhiteBox;\n+\n+public class ResolvedReferencesWb {\n+    public static void main(String[] args) throws Exception {\n+        WhiteBox wb = WhiteBox.getWhiteBox();\n+\n+        if (args.length < 1) {\n+            throw new RuntimeException(\"Test requires arg: [true|false]\");\n+        }\n+\n+        if (!args[0].equals(\"true\") && !args[0].equals(\"false\")) {\n+            throw new RuntimeException(\"Invalid argument: Test requires arg: [true|false]\");\n+        }\n+\n+        ResolvedReferencesTestApp t = new ResolvedReferencesTestApp();\n+        Object[] resolvedReferences = wb.getResolvedReferences(ResolvedReferencesTestApp.class);\n+        boolean isArchived = (args[0].equals(\"true\"));\n+\n+        if (resolvedReferences.length <= 0) {\n+            throw new RuntimeException(\"Resolved reference should not be null\");\n+        }\n+\n+        boolean foundFoo = false;\n+        boolean foundBar = false;\n+        boolean foundQux = false;\n+\n+        for (Object o : resolvedReferences) {\n+            if (o != null) {\n+                foundFoo |= (o.equals(\"fooString\"));\n+                foundBar |= (o.equals(\"barString\"));\n+                foundQux |= (o.equals(\"quxString\"));\n+            }\n+        }\n+\n+        if (isArchived) {\n+            \/\/ CDS eagerly resolves all the string literals in the ConstantPool. At this point, all\n+            \/\/ three strings should be in the resolvedReferences array.\n+            if (!foundFoo || !foundBar || !foundQux) {\n+                throwException(resolvedReferences, \"Incorrect resolved references array, all strings should be present\");\n+            }\n+        } else {\n+            \/\/ If the class is not archived, the string literals in the ConstantPool are resolved\n+            \/\/ on-demand. At this point, ResolvedReferencesTestApp::<clinit> has been executed\n+            \/\/ so the two strings used there should be in the resolvedReferences array.\n+            \/\/ ResolvedReferencesTestApp::qux() is not executed so \"quxString\"\n+            \/\/ should not yet be resolved.\n+            if (!foundFoo || !foundBar || foundQux) {\n+                throwException(resolvedReferences, \"Incorrect resolved references array, quxString should not be archived\");\n+            }\n+        }\n+    }\n+\n+    static void throwException(Object[] resolvedRefs, String errMsg) throws RuntimeException {\n+        System.out.printf(\"Resolved References Array Length: %d\\n\", resolvedRefs.length);\n+        for (Object o : resolvedRefs) {\n+            System.out.println(o);\n+        }\n+        throw new RuntimeException(errMsg);\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/sharedStrings\/ResolvedReferencesWb.java","additions":83,"deletions":0,"binary":false,"changes":83,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+Manifest-Version: 1.0\n+Class-Path: cpattr2.jar cpattr2.jar\n+Created-By: 1.9.0-internal (Oracle Corporation)\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/test-classes\/cpattr_dup.mf","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/classFileParserBug\/Bad_NCDFE_Msg.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"LambdaMath\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"LambdaMath\");\n","filename":"test\/hotspot\/jtreg\/runtime\/classFileParserBug\/ClassFileParserBug.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/classFileParserBug\/TestBadPackageWithInterface.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,1 +53,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -68,1 +68,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/classFileParserBug\/TestEmptyBootstrapMethodsAttr.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"CondyUsesIndyBSM\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"CondyUsesIndyBSM\");\n@@ -53,1 +53,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"IndyUsesCondyBSM\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"IndyUsesCondyBSM\");\n","filename":"test\/hotspot\/jtreg\/runtime\/condy\/BadBSMUseTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,2 +45,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xverify:all\",\n-                                                                  \"CondyUseLDC_W\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xverify:all\",\n+                                                                             \"CondyUseLDC_W\");\n@@ -53,2 +53,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xverify:all\",\n-                                                   \"CondyBadLDC2_W\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xverify:all\",\n+                                                              \"CondyBadLDC2_W\");\n@@ -62,2 +62,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xverify:all\",\n-                                                   \"CondyBadLDC\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xverify:all\",\n+                                                              \"CondyBadLDC\");\n","filename":"test\/hotspot\/jtreg\/runtime\/condy\/CondyLDCTest.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,2 +41,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xverify:all\",\n-                                                                  \"CondyNewInvokeSpecial\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xverify:all\",\n+                                                                             \"CondyNewInvokeSpecial\");\n","filename":"test\/hotspot\/jtreg\/runtime\/condy\/CondyNewInvokeSpecialTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/condy\/escapeAnalysis\/TestEscapeCondy.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"Example\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"Example\");\n","filename":"test\/hotspot\/jtreg\/runtime\/condy\/staticInit\/TestInitException.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=-128\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=-128\", \"-version\");\n@@ -49,1 +49,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=-8\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=-8\", \"-version\");\n@@ -55,1 +55,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=-1\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=-1\", \"-version\");\n@@ -61,1 +61,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=0\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=0\", \"-version\");\n@@ -65,1 +65,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=1\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=1\", \"-version\");\n@@ -71,1 +71,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8\", \"-version\");\n@@ -75,1 +75,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8184\", \"-version\"); \/\/ 8192-8 = 8184\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8184\", \"-version\"); \/\/ 8192-8 = 8184\n@@ -79,1 +79,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8191\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8191\", \"-version\");\n@@ -85,1 +85,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8192\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8192\", \"-version\");\n@@ -89,1 +89,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8193\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8193\", \"-version\");\n@@ -95,1 +95,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8200\", \"-version\"); \/\/ 8192+8 = 8200\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:ContendedPaddingWidth=8200\", \"-version\"); \/\/ 8192+8 = 8200\n","filename":"test\/hotspot\/jtreg\/runtime\/contended\/Options.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(test);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(test);\n","filename":"test\/hotspot\/jtreg\/runtime\/duplAttributes\/DuplAttributesTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -59,1 +59,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -68,1 +68,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/execstack\/Testexecstack.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(\n+        new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/getSysPackage\/GetPackageXbootclasspath.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -104,1 +104,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xbootclasspath\/a:bl_dir\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xbootclasspath\/a:bl_dir\",\n","filename":"test\/hotspot\/jtreg\/runtime\/getSysPackage\/GetSysPkgTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-            ProcessTools.createTestJvm(\n+            ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/handshake\/HandshakeTimeoutTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,1 +55,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(commands);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(commands);\n","filename":"test\/hotspot\/jtreg\/runtime\/handshake\/HandshakeTransitionTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(commands);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(commands);\n","filename":"test\/hotspot\/jtreg\/runtime\/handshake\/SystemMembarHandshakeTransitionTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,43 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\/*\n+ *  This is a non-abstract class with an abstract method.\n+ *\n+ *\/\n+super public class AbstractMethodClass\n+      extends java\/lang\/Object\n+              version 51:0  \/\/ Java 7 version\n+{\n+\n+    public Method \"<init>\":\"()V\"\n+       stack 1 locals 1\n+    {\n+        aload_0;\n+        invokespecial Method java\/lang\/Object.\"<init>\":\"()V\";\n+        return;\n+    }\n+\n+    public abstract Method \"abstractM\":\"()V\";\n+\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/abstractMethod\/AbstractMethodClass.jasm","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -0,0 +1,68 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8323243\n+ * @summary Test that invocation of an abstract method from JNI works correctly\n+ * @compile AbstractMethodClass.jasm\n+ * @run main\/othervm\/native TestJNIAbstractMethod\n+ *\/\n+\n+\/**\n+ * We are testing invocation of an abstract method from JNI - which should\n+ * simply result in throwning AbstractMethodError. To invoke an abstract method\n+ * we must have an instance method (as abstract static methods are illegal),\n+ * but instantiating an abstract class is also illegal at the Java language\n+ * level, so we have to use a custom jasm class that contains an abstract method\n+ * declaration, but which is not itself declared as an abstract class.\n+ *\/\n+public class TestJNIAbstractMethod {\n+\n+    \/\/ Invokes an abstract method from JNI and throws AbstractMethodError.\n+    private static native void invokeAbstractM(Class<?> AMclass,\n+                                               AbstractMethodClass receiver);\n+\n+    static {\n+        System.loadLibrary(\"JNIAbstractMethod\");\n+    }\n+\n+    public static void main(String[] args) {\n+        AbstractMethodClass obj = new AbstractMethodClass();\n+        try {\n+            System.out.println(\"Attempting direct invocation via Java\");\n+            obj.abstractM();\n+            throw new RuntimeException(\"Did not get AbstractMethodError from Java!\");\n+        } catch (AbstractMethodError expected) {\n+            System.out.println(\"ok - got expected exception: \" + expected);\n+        }\n+        try {\n+            System.out.println(\"Attempting direct invocation via JNI\");\n+            invokeAbstractM(obj.getClass(), obj);\n+            throw new RuntimeException(\"Did not get AbstractMethodError from JNI!\");\n+        } catch (AbstractMethodError expected) {\n+            System.out.println(\"ok - got expected exception: \" + expected);\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/abstractMethod\/TestJNIAbstractMethod.java","additions":68,"deletions":0,"binary":false,"changes":68,"status":"added"},{"patch":"@@ -0,0 +1,43 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+#include <jni.h>\n+#include <stdio.h>\n+#include <stdlib.h>\n+\n+JNIEXPORT void JNICALL Java_TestJNIAbstractMethod_invokeAbstractM(JNIEnv* env,\n+                                                                  jclass this_cls,\n+                                                                  jclass target_cls,\n+                                                                  jobject receiver) {\n+\n+  jmethodID mid = (*env)->GetMethodID(env, target_cls, \"abstractM\", \"()V\");\n+  if (mid == NULL) {\n+    fprintf(stderr, \"Error looking up method abstractM\\n\");\n+    (*env)->ExceptionDescribe(env);\n+    exit(1);\n+  }\n+\n+  printf(\"Invoking abstract method ...\\n\");\n+  (*env)->CallVoidMethod(env, receiver, mid);  \/\/ Should raise exception\n+\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/abstractMethod\/libJNIAbstractMethod.c","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,3 +51,3 @@\n-                ProcessTools.createJavaProcessBuilder(\"-Xcheck:jni\",\n-                                                      \"-Djava.library.path=\" + Utils.TEST_NATIVE_PATH,\n-                                                      \"TestCheckedReleaseArrayElements\");\n+                ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xcheck:jni\",\n+                                                                 \"-Djava.library.path=\" + Utils.TEST_NATIVE_PATH,\n+                                                                 \"TestCheckedReleaseArrayElements\");\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/checked\/TestCheckedReleaseArrayElements.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(pbArgs.toArray(new String[0]));\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(pbArgs.toArray(new String[0]));\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/checked\/TestPrimitiveArrayCriticalWithBadParam.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/jsig\/Testjsig.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,4 +44,4 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:class+init=info\",\n-                                                                  \"-Xverify:all\",\n-                                                                  \"-Xmx128m\",\n-                                                                  \"BadMap50\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:class+init=info\",\n+                                                                             \"-Xverify:all\",\n+                                                                             \"-Xmx128m\",\n+                                                                             \"BadMap50\");\n@@ -57,4 +57,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:class+init=off\",\n-                                                   \"-Xverify:all\",\n-                                                   \"-Xmx128m\",\n-                                                   \"BadMap50\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:class+init=off\",\n+                                                              \"-Xverify:all\",\n+                                                              \"-Xmx128m\",\n+                                                              \"BadMap50\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ClassInitializationTest.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -87,1 +87,1 @@\n-        return ProcessTools.createJavaProcessBuilder(argsList);\n+        return ProcessTools.createLimitedTestJavaProcessBuilder(argsList);\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ClassLoadUnloadTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,2 +63,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:class+resolve=debug\",\n-                                                                  ClassResolutionTestMain.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:class+resolve=debug\",\n+                                                                             ClassResolutionTestMain.class.getName());\n@@ -71,3 +71,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:class+resolve=debug\",\n-                                                   \"-Xlog:class+resolve=off\",\n-                                                   ClassResolutionTestMain.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:class+resolve=debug\",\n+                                                              \"-Xlog:class+resolve=off\",\n+                                                              ClassResolutionTestMain.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ClassResolutionTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,3 +54,3 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseCompressedOops\",\n-                                                   \"-Xlog:gc+heap+coops=debug\",\n-                                                   InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseCompressedOops\",\n+                                                                             \"-Xlog:gc+heap+coops=debug\",\n+                                                                             InnerClass.class.getName());\n@@ -59,3 +59,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseCompressedOops\",\n-                                                   \"-Xlog:gc+heap+coops\",\n-                                                   InnerClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseCompressedOops\",\n+                                                              \"-Xlog:gc+heap+coops\",\n+                                                              InnerClass.class.getName());\n@@ -65,3 +65,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UseCompressedOops\",\n-                                                   \"-Xlog:gc+heap+coops=off\",\n-                                                   InnerClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UseCompressedOops\",\n+                                                              \"-Xlog:gc+heap+coops=off\",\n+                                                              InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/CompressedOopsTest.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,2 +43,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:methodhandles\",\n-                                                                  \"CondyIndy\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:methodhandles\",\n+                                                                             \"CondyIndy\");\n@@ -52,2 +52,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:methodhandles+condy=debug\",\n-                                                   \"CondyIndy\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:methodhandles+condy=debug\",\n+                                                              \"CondyIndy\");\n@@ -61,2 +61,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:methodhandles+indy=debug\",\n-                                                   \"CondyIndy\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:methodhandles+indy=debug\",\n+                                                              \"CondyIndy\");\n@@ -70,4 +70,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:methodhandles=info\",\n-                                                   \"-Xlog:methodhandles+condy=debug\",\n-                                                   \"-Xlog:methodhandles+indy=debug\",\n-                                                   \"CondyIndy\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:methodhandles=info\",\n+                                                              \"-Xlog:methodhandles+condy=debug\",\n+                                                              \"-Xlog:methodhandles+indy=debug\",\n+                                                              \"CondyIndy\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/CondyIndyTest.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,2 +40,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:defaultmethods=debug\",\n-                                                                  InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:defaultmethods=debug\",\n+                                                                             InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/DefaultMethodsTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,2 +60,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:exceptions=info\",\n-                                                                  InternalClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:exceptions=info\",\n+                                                                             InternalClass.class.getName());\n@@ -64,2 +64,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:exceptions=off\",\n-                                                   InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:exceptions=off\",\n+                                                              InternalClass.class.getName());\n@@ -68,1 +68,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(InternalClass.class.getName());\n@@ -72,1 +72,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(InternalClass.class.getName());\n@@ -76,3 +76,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:VMOptionsFile=\" + System.getProperty(\"test.src\", \".\")\n-                                                   + File.separator + \"ExceptionsTest_options_file\",\n-                                                   InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:VMOptionsFile=\" + System.getProperty(\"test.src\", \".\")\n+                                                              + File.separator + \"ExceptionsTest_options_file\",\n+                                                              InternalClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ExceptionsTest.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,1 +82,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(Xlog, InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(Xlog, InternalClass.class.getName());\n@@ -86,1 +86,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(Xlog, InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(Xlog, InternalClass.class.getName());\n@@ -90,1 +90,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(Xlog, InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(Xlog, InternalClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/FoldMultilinesTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:itables=trace\", \"ClassB\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:itables=trace\", \"ClassB\");\n@@ -56,1 +56,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:itables=trace\", \"ItablesVtableTest\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:itables=trace\", \"ItablesVtableTest\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ItablesTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,1 +69,1 @@\n-        return ProcessTools.createJavaProcessBuilder(argsList);\n+        return ProcessTools.createLimitedTestJavaProcessBuilder(argsList);\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/LoaderConstraintsTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -78,1 +78,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ModulesTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,2 +54,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:monitorinflation=trace\",\n-                                                                  InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:monitorinflation=trace\",\n+                                                                             InnerClass.class.getName());\n@@ -58,2 +58,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:monitorinflation=off\",\n-                                                   InnerClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:monitorinflation=off\",\n+                                                              InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/MonitorInflationTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,4 +43,4 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xcomp\",\n-                                                                  \"-XX:+TieredCompilation\",\n-                                                                  \"-Xlog:monitormismatch=info\",\n-                                                                  \"MonitorMismatchHelper\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xcomp\",\n+                                                                             \"-XX:+TieredCompilation\",\n+                                                                             \"-Xlog:monitormismatch=info\",\n+                                                                             \"MonitorMismatchHelper\");\n@@ -52,4 +52,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xcomp\",\n-                                                   \"-XX:+TieredCompilation\",\n-                                                   \"-Xlog:monitormismatch=off\",\n-                                                   \"MonitorMismatchHelper\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xcomp\",\n+                                                              \"-XX:+TieredCompilation\",\n+                                                              \"-Xlog:monitormismatch=off\",\n+                                                              \"MonitorMismatchHelper\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/MonitorMismatchTest.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -39,2 +39,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:vmmutex\",\n-                                                                  \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:vmmutex\",\n+                                                                             \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/MutexRankTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,1 +55,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+cpu\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+cpu\", \"-version\");\n@@ -61,2 +61,2 @@\n-             ? ProcessTools.createJavaProcessBuilder(\"-Xlog:os\", \"-XX:-UseSIGTRAP\", \"-version\")\n-             : ProcessTools.createJavaProcessBuilder(\"-Xlog:os\", \"-version\");\n+             ? ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os\", \"-XX:-UseSIGTRAP\", \"-version\")\n+             : ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/OsCpuLoggingTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,4 +42,4 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:protectiondomain=trace\",\n-                                                                  \"-Xmx128m\",\n-                                                                  \"-Djava.security.manager=allow\",\n-                                                                  Hello.class.getName(), \"security_manager\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:protectiondomain=trace\",\n+                                                                             \"-Xmx128m\",\n+                                                                             \"-Djava.security.manager=allow\",\n+                                                                             Hello.class.getName(), \"security_manager\");\n@@ -52,4 +52,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:protectiondomain=debug\",\n-                                                                  \"-Xmx128m\",\n-                                                                  \"-Djava.security.manager=allow\",\n-                                                                  Hello.class.getName(), \"security_manager\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:protectiondomain=debug\",\n+                                                              \"-Xmx128m\",\n+                                                              \"-Djava.security.manager=allow\",\n+                                                              Hello.class.getName(), \"security_manager\");\n@@ -62,4 +62,4 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:protectiondomain=trace\",\n-                                                   \"-Xmx128m\",\n-                                                   \"-Djava.security.manager=disallow\",\n-                                                   Hello.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:protectiondomain=trace\",\n+                                                              \"-Xmx128m\",\n+                                                              \"-Djava.security.manager=disallow\",\n+                                                              Hello.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ProtectionDomainVerificationTest.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,2 +54,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:safepoint+cleanup=info\",\n-                                                                  InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:safepoint+cleanup=info\",\n+                                                                             InnerClass.class.getName());\n@@ -58,2 +58,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:safepoint+cleanup=off\",\n-                                                   InnerClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:safepoint+cleanup=off\",\n+                                                              InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/SafepointCleanupTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,2 +41,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:safepoint=trace\",\n-                                                                  InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:safepoint=trace\",\n+                                                                             InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/SafepointTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,2 +52,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:stackwalk=debug\",\n-                                                                  InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:stackwalk=debug\",\n+                                                                             InnerClass.class.getName());\n@@ -56,2 +56,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:stackwalk=off\",\n-                                                   InnerClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:stackwalk=off\",\n+                                                              InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/StackWalkTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,2 +55,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:startuptime\",\n-                                                                  InnerClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:startuptime\",\n+                                                                             InnerClass.class.getName());\n@@ -59,2 +59,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:startuptime=off\",\n-                                                   InnerClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:startuptime=off\",\n+                                                              InnerClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/StartupTimeTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+thread\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+thread\", \"-version\");\n@@ -68,1 +68,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+thread=debug\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+thread=debug\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/ThreadLoggingTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,4 +41,4 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:vmoperation=debug\",\n-                                                                  \"-Xmx128m\",\n-                                                                  \"-Xms128m\",\n-                                                                  InternalClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:vmoperation=debug\",\n+                                                                             \"-Xmx128m\",\n+                                                                             \"-Xms128m\",\n+                                                                             InternalClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/VMOperationTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,2 +66,2 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:verification=info\",\n-                                                                  InternalClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:verification=info\",\n+                                                                             InternalClass.class.getName());\n@@ -70,2 +70,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:verification=off\",\n-                                                   InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:verification=off\",\n+                                                              InternalClass.class.getName());\n@@ -75,2 +75,2 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:verification=debug\",\n-                                                   InternalClass.class.getName());\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:verification=debug\",\n+                                                              InternalClass.class.getName());\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/VerificationTest.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:vtables=trace\", \"ClassB\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:vtables=trace\", \"ClassB\");\n@@ -58,1 +58,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:vtables=trace\", \"p1\/C\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:vtables=trace\", \"p1\/C\");\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/VtablesTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -121,1 +121,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/loadLibraryTest\/LoadLibraryTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -331,1 +331,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/runtime\/memory\/LargePages\/TestLargePagesFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/memory\/ReadFromNoaccessArea.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-      ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+      ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/memory\/ReserveMemory.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ClassLoaderNoUnnamedModuleTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -65,1 +65,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/IgnoreModulePropertiesTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -54,1 +54,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ModuleOptionsTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -51,1 +51,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -58,1 +58,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -65,1 +65,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -72,1 +72,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -79,1 +79,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -86,1 +86,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -93,1 +93,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -100,1 +100,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -107,1 +107,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -114,1 +114,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintWarnings\", \"-version\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintWarnings\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ModuleOptionsWarn.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ModuleStress\/ExportModuleStressTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,1 +53,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -88,1 +88,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -102,1 +102,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -119,1 +119,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ModuleStress\/ModuleStress.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,1 +75,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ModuleStress\/ModuleStressGC.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModule2Dirs.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -72,1 +72,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -87,1 +87,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -101,1 +101,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleCDS.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -101,1 +101,1 @@\n-        pb = ProcessTools.createTestJvm(\n+        pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -133,1 +133,1 @@\n-        pb = ProcessTools.createTestJvm(\n+        pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleClassList.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleDupJavaBase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleDupModule.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"--patch-module=java.base=mods\/java.base\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--patch-module=java.base=mods\/java.base\",\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleJavaBase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"--patch-module=java.naming=mods\/java.naming\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--patch-module=java.naming=mods\/java.naming\",\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -79,1 +79,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"--patch-module=java.naming=\" + moduleJar,\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--patch-module=java.naming=\" + moduleJar,\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTestJar.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -95,7 +95,7 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"--patch-module=java.naming=\" +\n-                                                                           moduleJar +\n-                                                                           File.pathSeparator +\n-                                                                           System.getProperty(\"test.classes\") + \"\/mods\/java.naming\",\n-                                                                  \"PatchModule2DirsMain\",\n-                                                                  \"javax.naming.spi.NamingManager1\",\n-                                                                  \"javax.naming.spi.NamingManager2\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--patch-module=java.naming=\" +\n+                                                                                 moduleJar +\n+                                                                                 File.pathSeparator +\n+                                                                                 System.getProperty(\"test.classes\") + \"\/mods\/java.naming\",\n+                                                                             \"PatchModule2DirsMain\",\n+                                                                             \"javax.naming.spi.NamingManager1\",\n+                                                                             \"javax.naming.spi.NamingManager2\");\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTestJarDir.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,1 +56,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"--patch-module=java.naming=mods\/java.naming\",\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"--patch-module=java.naming=mods\/java.naming\",\n@@ -80,1 +80,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Xbootclasspath\/a:xbcp\",\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xbootclasspath\/a:xbcp\",\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTraceCL.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -89,1 +89,1 @@\n-      new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(\n+      new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/Visibility\/PatchModuleVisibility.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-        new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(\n+        new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/Visibility\/XbootcpNoVisibility.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -107,1 +107,1 @@\n-        new OutputAnalyzer(ProcessTools.createJavaProcessBuilder(\n+        new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/Visibility\/XbootcpVisibility.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,2 +72,2 @@\n-                    ProcessTools.createJavaProcessBuilder(\"-Xlog:os=trace\",\n-                                                          \"AvailableProcessors\");\n+                    ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os=trace\",\n+                                                                     \"AvailableProcessors\");\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/AvailableProcessors.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -180,1 +180,1 @@\n-                ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(finalargs);\n+                ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(finalargs);\n@@ -217,1 +217,1 @@\n-                ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(finalargs);\n+                ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(finalargs);\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/THPsInThreadStackPreventionTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -149,1 +149,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(allOptions.toArray(new String[0]));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(allOptions.toArray(new String[0]));\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestHugePageDecisionsAtVMStartup.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestHugePageDetection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+thread\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+thread\",\n@@ -55,1 +55,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+thread\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+thread\",\n@@ -67,1 +67,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+thread\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+thread\",\n@@ -85,1 +85,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:os+thread\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os+thread\",\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestTimerSlack.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n- * @requires vm.gc != \"Z\"\n+ * @requires vm.gc != \"Z\" & vm.gc != \"Shenandoah\"\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestTracePageSizes.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -162,1 +162,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(prepareOptions(extraOptions, programOptions));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(prepareOptions(extraOptions, programOptions));\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestTrimNative.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,4 +45,4 @@\n-            ProcessTools.createJavaProcessBuilder(\"-Xlog:os=trace\",\n-                                                  \"-XX:+UnlockDiagnosticVMOptions\",\n-                                                  \"-XX:+UseCpuAllocPath\",\n-                                                  \"-version\");\n+            ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:os=trace\",\n+                                                             \"-XX:+UnlockDiagnosticVMOptions\",\n+                                                             \"-XX:+UseCpuAllocPath\",\n+                                                             \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestUseCpuAllocPath.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,9 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            \/\/ We run the VM in interpreted mode, because the JIT might mark\n+            \/\/ a Java method as not-entrant, which means turning the first instruction\n+            \/\/ into an illegal one. Calling such a method after establishing\n+            \/\/ the new SIGILL signal handler with TestPosixSig.changeSigActionFor(4)\n+            \/\/ below, but before the JNI checker noted and reacted on this signal handler\n+            \/\/ modification, the JVM may crash or hang in an endless loop, where the\n+            \/\/ illegal instruction will be continously executed, raising SIGILL, and\n+            \/\/ the signal handler will return to the illegal instruction again...\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -49,0 +57,1 @@\n+                \"-Xint\",\n","filename":"test\/hotspot\/jtreg\/runtime\/posixSig\/TestPosixSig.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -105,1 +105,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/records\/RedefineRecord.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -129,1 +129,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(javaArgs1);\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(javaArgs1);\n","filename":"test\/hotspot\/jtreg\/runtime\/sealedClasses\/RedefinePermittedSubclass.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -111,1 +111,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(javaArgs1);\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(javaArgs1);\n","filename":"test\/hotspot\/jtreg\/runtime\/sealedClasses\/RedefineSealedClass.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:+VerifyStringTableAtExit\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:+VerifyStringTableAtExit\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/runtime\/stringtable\/StringTableVerifyTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,2 +92,2 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:symboltable=trace\",\n-                                                              \"-version\");\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:symboltable=trace\",\n+                                                                         \"-version\");\n@@ -96,3 +96,3 @@\n-    pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintSymbolTableSizeHistogram\",\n-                                               LotsOfTempSymbols.class.getName(),\n-                                               Integer.toString(size));\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintSymbolTableSizeHistogram\",\n+                                                          LotsOfTempSymbols.class.getName(),\n+                                                          Integer.toString(size));\n","filename":"test\/hotspot\/jtreg\/runtime\/symboltable\/ShortLivedSymbolCleanup.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -128,1 +128,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-cp\", \".\",  \"Overrider\");\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-cp\", \".\",  \"Overrider\");\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/OverriderMsg.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,1 +72,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-verify\", \"-cp\", \".\",  classCName);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-verify\", \"-cp\", \".\",  classCName);\n@@ -81,1 +81,1 @@\n-        pb = ProcessTools.createTestJvm(\"-verify\", \"-cp\", \".\",  classCName);\n+        pb = ProcessTools.createTestJavaProcessBuilder(\"-verify\", \"-cp\", \".\",  classCName);\n@@ -98,1 +98,1 @@\n-        pb = ProcessTools.createTestJvm(\"-verify\", \"-cp\", \".\",  classCName);\n+        pb = ProcessTools.createTestJavaProcessBuilder(\"-verify\", \"-cp\", \".\",  classCName);\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/TestANewArray.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-cp\", \".\",  \"ClassFile\");\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-cp\", \".\",  \"ClassFile\");\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/TestMultiANewArray.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/TraceClassRes.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/runtime\/whitebox\/TestWBDeflateIdleMonitors.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-    return ProcessTools.createJavaProcessBuilder(\n+    return ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/attach\/AttachSetGetFlag.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+    ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/attach\/AttachWithStalePidFile.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -97,2 +97,1 @@\n-        return ProcessTools.createJavaProcessBuilder(\n-                \"-Xdebug\",\n+        return ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/attach\/ShMemLongName.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n-        ProcessBuilder testAppPb = ProcessTools.createJavaProcessBuilder(javaArgs);\n+        ProcessBuilder testAppPb = ProcessTools.createLimitedTestJavaProcessBuilder(javaArgs);\n","filename":"test\/hotspot\/jtreg\/serviceability\/dcmd\/gc\/RunFinalizationTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-            var pb = ProcessTools.createJavaProcessBuilder(\"-XX:+\" + opt, \"-version\");\n+            var pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+\" + opt, \"-version\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/dtrace\/DTraceOptionsTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,6 +75,0 @@\n-    @Override\n-    public void onDebuggeeError(String message) {\n-        System.err.println(\"Debuggee error: '\" + message + \"'\");\n-        System.exit(1);\n-    }\n-\n","filename":"test\/hotspot\/jtreg\/serviceability\/jdwp\/AllModulesCommandTest.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,0 @@\n-import jdk.test.lib.JDKToolFinder;\n@@ -28,0 +27,1 @@\n+import jdk.test.lib.process.ProcessTools;\n@@ -48,6 +48,0 @@\n-        \/**\n-         * Callback to handle any debuggee error\n-         *\n-         * @param line line from the debuggee's stderr\n-         *\/\n-        void onDebuggeeError(String line);\n@@ -57,1 +51,0 @@\n-    private static final String CLS_DIR = System.getProperty(\"test.classes\", \"\").trim();\n@@ -59,0 +52,2 @@\n+    private static final String JDWP_OPT = \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0\";\n+\n@@ -61,2 +56,0 @@\n-    private StreamHandler inputHandler;\n-    private StreamHandler errorHandler;\n@@ -73,1 +66,1 @@\n-     * debuggee's stdout and stderr outputs\n+     * debuggee's stdout output. stderr might contain jvm output, which is just printed to the log.\n@@ -79,1 +72,1 @@\n-        ProcessBuilder pb = new ProcessBuilder(getCommand());\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(JDWP_OPT, DEBUGGEE);\n@@ -81,2 +74,2 @@\n-        inputHandler = new StreamHandler(p.getInputStream(), this);\n-        errorHandler = new StreamHandler(p.getErrorStream(), this);\n+        StreamHandler inputHandler = new StreamHandler(p.getInputStream(), this);\n+        StreamHandler errorHandler = new StreamHandler(p.getErrorStream(), l -> System.out.println(\"[stderr]: \" + l));\n@@ -87,16 +80,0 @@\n-    \/**\n-     * Command to start the debuggee with the JDWP options and using the JDK\n-     * under test\n-     *\n-     * @return the command\n-     *\/\n-    private String[] getCommand() {\n-        return new String[]{\n-            JDKToolFinder.getTestJDKTool(\"java\"),\n-            getJdwpOptions(),\n-            \"-cp\",\n-            CLS_DIR,\n-            DEBUGGEE\n-        };\n-    }\n-\n@@ -112,9 +89,0 @@\n-    \/**\n-     * Debuggee JDWP options\n-     *\n-     * @return the JDWP options to start the debuggee with\n-     *\/\n-    private static String getJdwpOptions() {\n-        return \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0\";\n-    }\n-\n@@ -132,10 +100,2 @@\n-    public void onStringRead(StreamHandler handler, String line) {\n-        if (handler.equals(errorHandler)) {\n-            terminateDebuggee();\n-            listener.onDebuggeeError(line);\n-        } else {\n-            processDebuggeeOutput(line);\n-        }\n-    }\n-\n-    private void processDebuggeeOutput(String line) {\n+    public void onStringRead(String line) {\n+        System.out.println(\"[stdout]: \" + line);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jdwp\/DebuggeeLauncher.java","additions":10,"deletions":50,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-         * @param handler this StreamHandler\n@@ -43,1 +42,1 @@\n-        void onStringRead(StreamHandler handler, String s);\n+        void onStringRead(String s);\n@@ -74,1 +73,1 @@\n-                listener.onStringRead(this, line);\n+                listener.onStringRead(line);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jdwp\/StreamHandler.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -128,1 +128,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/CanGenerateAllClassHook\/CanGenerateAllClassHook.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n-        ProcessBuilder pt = ProcessTools.createTestJvm(\"-javaagent:agent.jar\",  \"GetObjectSizeClassAgent\");\n+        ProcessBuilder pt = ProcessTools.createTestJavaProcessBuilder(\"-javaagent:agent.jar\",  \"GetObjectSizeClassAgent\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/GetObjectSizeClass.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,1 +108,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefineLeak.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -87,1 +87,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder( \"-javaagent:redefineagent.jar\",\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder( \"-javaagent:redefineagent.jar\",\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefinePreviousVersions.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-                ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(offCommand);\n+                ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(offCommand);\n@@ -92,1 +92,1 @@\n-                ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(onCommand);\n+                ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(onCommand);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefineSharedClassJFR.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n-                ProcessTools.createJavaProcessBuilder(\n+                ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RetransformClassesZeroLength.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n-                ProcessTools.createJavaProcessBuilder(\n+                ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/TransformerDeadlockTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,82 @@\n+\/*\n+ * Copyright (c) 2023, Datadog, Inc. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * @test\n+ * @bug 8313816\n+ * @summary Test that a sequence of method retransformation and stacktrace capture while the old method\n+ *          version is still on stack does not lead to a crash when that method's jmethodID is used as\n+ *          an argument for JVMTI functions.\n+ * @requires vm.jvmti\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @build jdk.test.whitebox.WhiteBox\n+ * @modules java.instrument\n+ *          java.compiler\n+ * @compile GetStackTraceAndRetransformTest.java\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n+ * @run main RedefineClassHelper\n+ * @run main\/othervm\/native -Xbootclasspath\/a:. -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI -javaagent:redefineagent.jar -agentlib:GetStackTraceAndRetransformTest GetStackTraceAndRetransformTest\n+ *\/\n+\n+import jdk.test.whitebox.WhiteBox;\n+\n+class Transformable {\n+  static final String newClass = \"\"\"\n+    class Transformable {\n+      static final String newClass = \"\";\n+      static void redefineAndStacktrace() throws Exception {}\n+      static void stacktrace() throws Exception {\n+        capture(Thread.currentThread());\n+      }\n+      public static native void capture(Thread thread);\n+    }\n+  \"\"\";\n+  static void redefineAndStacktrace() throws Exception {\n+    \/\/ This call will cause the class to be retransformed.\n+    \/\/ However, this method is still on stack so the subsequent attempt to capture the stacktrace\n+    \/\/ will result into this frame being identified by the jmethodID of the previous method version.\n+    RedefineClassHelper.redefineClass(Transformable.class, newClass);\n+    capture(Thread.currentThread());\n+  }\n+\n+  static void stacktrace() throws Exception {\n+  }\n+\n+  public static native void capture(Thread thread);\n+}\n+\n+public class GetStackTraceAndRetransformTest {\n+    public static void main(String args[]) throws Throwable {\n+        initialize(Transformable.class);\n+\n+        Transformable.redefineAndStacktrace();\n+        Transformable.stacktrace();\n+\n+        WhiteBox.getWhiteBox().cleanMetaspaces();\n+        check(2);\n+    }\n+\n+    public static native void initialize(Class<?> target);\n+    public static native void check(int expected);\n+}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/thread\/GetStackTrace\/GetStackTraceAndRetransformTest\/GetStackTraceAndRetransformTest.java","additions":82,"deletions":0,"binary":false,"changes":82,"status":"added"},{"patch":"@@ -0,0 +1,82 @@\n+\/*\n+ * Copyright (c) 2023, Datadog, Inc. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+#include <stdio.h>\n+#include <string.h>\n+#include \"jvmti.h\"\n+#include \"jvmti_common.h\"\n+#include \"..\/get_stack_trace.h\"\n+\n+\n+extern \"C\" {\n+\n+static jvmtiEnv *jvmti = NULL;\n+static jmethodID* ids = NULL;\n+static int ids_size = 0;\n+\n+JNIEXPORT jint JNICALL\n+Agent_OnLoad(JavaVM *jvm, char *options, void *reserved) {\n+  jint res = jvm->GetEnv((void **) &jvmti, JVMTI_VERSION_1_1);\n+  if (res != JNI_OK || jvmti == NULL) {\n+    printf(\"Wrong result of a valid call to GetEnv!\\n\");\n+    return JNI_ERR;\n+  }\n+  ids = (jmethodID*)malloc(sizeof(jmethodID) * 10);\n+  return JNI_OK;\n+}\n+\n+JNIEXPORT void JNICALL\n+Java_GetStackTraceAndRetransformTest_initialize(JNIEnv *env, jclass cls, jclass tgt) {\n+  \/\/ we need to force jmethodids to be created for the methods we are going to retransform\n+  env->GetStaticMethodID(tgt, \"redefineAndStacktrace\", \"()V\");\n+  env->GetStaticMethodID(tgt, \"stacktrace\", \"()V\");\n+}\n+\n+JNIEXPORT void JNICALL\n+Java_Transformable_capture(JNIEnv *env, jclass cls, jthread thread) {\n+  jint count;\n+  const int MAX_NUMBER_OF_FRAMES = 32;\n+  jvmtiFrameInfo frames[MAX_NUMBER_OF_FRAMES];\n+\n+  jvmtiError err = jvmti->GetStackTrace(thread, 0, MAX_NUMBER_OF_FRAMES, frames, &count);\n+  check_jvmti_status(env, err, \"GetStackTrace failed.\");\n+\n+  ids[ids_size++] = frames[1].method;\n+}\n+\n+JNIEXPORT void JNICALL\n+Java_GetStackTraceAndRetransformTest_check(JNIEnv *jni, jclass cls, jint expected) {\n+  if (ids_size != expected) {\n+    fprintf(stderr, \"Unexpected number methods captured: %d (expected %d)\\n\", ids_size, expected);\n+    exit(2);\n+  }\n+  for (int i = 0; i < ids_size; i++) {\n+    jclass rslt = NULL;\n+    char* class_name = NULL;\n+    jvmti->GetMethodDeclaringClass(ids[i], &rslt);\n+    if (rslt != NULL) {\n+        jvmti->GetClassSignature(rslt, &class_name, NULL);\n+    }\n+  }\n+}\n+}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/thread\/GetStackTrace\/GetStackTraceAndRetransformTest\/libGetStackTraceAndRetransformTest.cpp","additions":82,"deletions":0,"binary":false,"changes":82,"status":"added"},{"patch":"@@ -40,1 +40,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-javaagent:agent.jar\",  \"-version\");\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-javaagent:agent.jar\",  \"-version\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/vthread\/premain\/AgentWithVThreadTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:all=trace\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:all=trace\", \"-version\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/logging\/TestBasicLogOutput.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:badTag\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:badTag\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/logging\/TestDefaultLogOutput.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,3 +66,3 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:logging=trace\",\n-                                                                      \"-Xlog:all=trace:\" + logOutput,\n-                                                                      \"-version\");\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:logging=trace\",\n+                                                                                 \"-Xlog:all=trace:\" + logOutput,\n+                                                                                 \"-version\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/logging\/TestFullNames.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/logging\/TestLogRotation.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,7 +39,7 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:logging=debug\",\n-                                                                  \"-Xlog:logging=trace\",\n-                                                                  \"-Xlog:defaultmethods=trace\",\n-                                                                  \"-Xlog:defaultmethods=warning\",\n-                                                                  \"-Xlog:safepoint=info\",\n-                                                                  \"-Xlog:safepoint=info\",\n-                                                                  \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:logging=debug\",\n+                                                                             \"-Xlog:logging=trace\",\n+                                                                             \"-Xlog:defaultmethods=trace\",\n+                                                                             \"-Xlog:defaultmethods=warning\",\n+                                                                             \"-Xlog:safepoint=info\",\n+                                                                             \"-Xlog:safepoint=info\",\n+                                                                             \"-version\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/logging\/TestMultipleXlogArgs.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,3 +76,3 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:logging=trace\",\n-                                                                      \"-Xlog:all=trace:\" + logOutput,\n-                                                                      \"-version\");\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:logging=trace\",\n+                                                                                 \"-Xlog:all=trace:\" + logOutput,\n+                                                                                 \"-version\");\n@@ -101,3 +101,3 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:logging=trace\",\n-                                                                      \"-Xlog:all=trace:\" + logOutput,\n-                                                                      \"-version\");\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:logging=trace\",\n+                                                                                 \"-Xlog:all=trace:\" + logOutput,\n+                                                                                 \"-version\");\n","filename":"test\/hotspot\/jtreg\/serviceability\/logging\/TestQuotedLogOutputs.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -93,1 +93,1 @@\n-               ProcessBuilder pb = ProcessTools.createTestJvm(options);\n+               ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(options);\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/ClhsdbCDSCore.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -71,1 +71,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestClassDump.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -94,1 +94,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestCpoolForInvokeDynamic.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -101,1 +101,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestDefaultMethods.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,1 +75,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestG1HeapRegion.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-            ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestInstanceKlassSize.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -106,1 +106,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestInstanceKlassSizeForInterface.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,1 +74,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\"-XX:+CreateCoredumpOnCrash\",\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-XX:+CreateCoredumpOnCrash\",\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestJmapCore.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestObjectAlignment.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -76,1 +76,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestObjectMonitorIterate.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,1 +69,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestRevPtrsForInvokeDynamic.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -149,1 +149,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/UniqueVtableTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import java.io.InputStreamReader;\n@@ -32,1 +33,0 @@\n-import java.util.Scanner;\n@@ -80,1 +80,1 @@\n-        ProcessBuilder procBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder procBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -85,2 +85,2 @@\n-        try (Scanner largeHeapScanner = new Scanner(\n-                largeHeapProc.getInputStream());) {\n+        try (BufferedReader r = new BufferedReader(\n+                new InputStreamReader(largeHeapProc.getInputStream()))) {\n@@ -88,2 +88,8 @@\n-            if (!largeHeapScanner.hasNext()) {\n-                throw new RuntimeException (\"Test failed: could not open largeHeapScanner.\");\n+            while ((pidstring = r.readLine()) != null) {\n+                \/\/ The output might contain different VM output, skip it while searching PID line.\n+                if (pidstring.matches(\"PID\\\\[[0-9].*\\\\]\")) {\n+                    System.out.println(\"Found: \" + pidstring);\n+                    break;\n+                } else {\n+                    System.out.println(\"Ignoring: \" + pidstring);\n+                }\n@@ -91,2 +97,2 @@\n-            while ((pidstring = largeHeapScanner.findInLine(\"PID\\\\[[0-9].*\\\\]\")) == null) {\n-                Thread.sleep(500);\n+            if (pidstring == null) {\n+                throw new RuntimeException(\"Not able to find string matching PID.\");\n@@ -94,0 +100,1 @@\n+\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/jmap-hprof\/JMapHProfLargeHeapTest.java","additions":16,"deletions":9,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-                ProcessBuilder pb = ProcessTools.createTestJvm(cmd);\n+                ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n","filename":"test\/hotspot\/jtreg\/testlibrary\/ctw\/src\/sun\/hotspot\/tools\/ctw\/CtwRunner.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(args);\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(args);\n","filename":"test\/hotspot\/jtreg\/testlibrary\/jittester\/src\/jdk\/test\/lib\/jittester\/jtreg\/JitTesterDriver.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -106,1 +106,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmd);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ctw\/CtwTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -122,0 +122,103 @@\n+\n+    \/\/ Rules for vector nodes.\n+    @Test\n+    \/\/ By default, we search for the maximal size possible\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ We can also specify that we want the maximum explicitly\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE_MAX, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ Explicitly take the maximum size for this type (here int)\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"max_for_type\", \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ Exlicitly take the maximum size for the int type\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"max_int\", \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ As a last resort, we can match with any size\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE_ANY, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ Specify comma separated list of numbers, match for any of them\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"2,4,8,16,32,64\", \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ Two or more arguments to min(...): the minimal value is applied\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"min(max_for_type, max_int, LoopMaxUnroll, 64)\", \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    static int[] testVectorNode() {\n+        int[] a = new int[1024*8];\n+        for (int i = 0; i < a.length; i++) {\n+            a[i]++;\n+        }\n+        return a;\n+    }\n+\n+    \/\/ Rules for vector nodes.\n+    @Test\n+    \/\/ By default, we search for the maximal size possible\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ In some cases, we can know the exact size, here 16\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_16, \"> 0\"},\n+        applyIf = {\"MaxVectorSize\", \"=64\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_8, \"> 0\"},\n+        applyIf = {\"MaxVectorSize\", \"=32\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ In some cases, we can know the exact size, here 4\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_4, \"> 0\"},\n+        applyIf = {\"MaxVectorSize\", \"=16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    static float[] testVectorNodeExactSize1() {\n+        float[] a = new float[1024*8];\n+        for (int i = 0; i < a.length; i++) {\n+            a[i]++;\n+        }\n+        return a;\n+    }\n+\n+    \/\/ Rules for vector nodes. Same as badTestVectorNodeSize but with good rules.\n+    @Test\n+    \/\/ In some cases, we can know the exact size, here 4\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_4, \"> 0\"},\n+        applyIf = {\"MaxVectorSize\", \">=16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ Hence, we know any other sizes are impossible.\n+    \/\/ We can also specify that explicitly for failOn\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_2,\n+                  IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_8,\n+                  IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_16,\n+                  IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_32,\n+                  IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE_64,\n+                  IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE + \"2,8,16,32,64\"},\n+        applyIf = {\"MaxVectorSize\", \">=16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    static float[] testVectorNodeExactSize2() {\n+        float[] a = new float[1024*8];\n+        for (int i = 0; i < a.length\/8; i++) {\n+            a[i*8 + 0]++; \/\/ block of 4, then gap of 4\n+            a[i*8 + 1]++;\n+            a[i*8 + 2]++;\n+            a[i*8 + 3]++;\n+        }\n+        return a;\n+    }\n+\n+    @Test\n+    \/\/ Here, we can pack at most 8 given the 8-blocks and 8-gaps.\n+    \/\/ But we can also never pack more than max_float\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, IRNode.VECTOR_SIZE + \"min(8, max_float)\", \"> 0\"},\n+        applyIf = {\"MaxVectorSize\", \">=16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    static float[] testVectorNodeSizeMinClause() {\n+        float[] a = new float[1024*8];\n+        for (int i = 0; i < a.length\/16; i++) {\n+            a[i*16 + 0]++; \/\/ block of 8, then gap of 8\n+            a[i*16 + 1]++;\n+            a[i*16 + 2]++;\n+            a[i*16 + 3]++;\n+            a[i*16 + 4]++;\n+            a[i*16 + 5]++;\n+            a[i*16 + 6]++;\n+            a[i*16 + 7]++;\n+        }\n+        return a;\n+    }\n@@ -197,0 +300,25 @@\n+\n+    \/\/ Failing rules for vector nodes. Same as testVectorNodeExactSize2 but with bad rules.\n+    @Test\n+    \/\/ By default we look for the IRNode.VECTOR_SIZE_MAX, which is more than 4.\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"> 0\"},\n+        applyIf = {\"MaxVectorSize\", \">16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ By default, we look for IRNode.VECTOR_SIZE_ANY. But there are some of size 4.\n+    @IR(failOn = {IRNode.LOAD_VECTOR_F},\n+        applyIf = {\"MaxVectorSize\", \">=16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    \/\/ By default, we look for IRNode.VECTOR_SIZE_ANY. But there are at least two of size 4.\n+    @IR(counts = {IRNode.LOAD_VECTOR_F, \"<2\"},\n+        applyIf = {\"MaxVectorSize\", \">=16\"},\n+        applyIfCPUFeatureOr = {\"sse2\", \"true\", \"asimd\", \"true\"})\n+    static float[] badTestVectorNodeSize() {\n+        float[] a = new float[1024*8];\n+        for (int i = 0; i < a.length\/8; i++) {\n+            a[i*8 + 0]++; \/\/ block of 4, then gap of 4\n+            a[i*8 + 1]++;\n+            a[i*8 + 2]++;\n+            a[i*8 + 3]++;\n+        }\n+        return a;\n+    }\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/examples\/IRExample.java","additions":128,"deletions":0,"binary":false,"changes":128,"status":"modified"},{"patch":"@@ -1002,1 +1002,1 @@\n-    @FailCount(45)\n+    @FailCount(51)\n@@ -1028,0 +1028,6 @@\n+    @IR(counts = {IRNode.STORE, \"!= 1000\"})\n+    @IR(counts = {IRNode.STORE, \"< 0\"})\n+    @IR(counts = {IRNode.STORE, \"< 1\"})\n+    @IR(counts = {IRNode.STORE, \"<= 0\"})\n+    @IR(counts = {IRNode.STORE, \"> -1\"})\n+    @IR(counts = {IRNode.STORE, \">= 0\"})\n@@ -1049,0 +1055,21 @@\n+\n+    @Test\n+    @FailCount(8)\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE_MAX, \"> 0\"}) \/\/ valid\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE_ANY, \"> 0\"}) \/\/ valid\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"xxx\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"min()\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"min(max_for_type)\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"2,4,8,16,32,64,max_int\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"2,4,8,16,32,64,-3\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"min(max_for_type, xxx)\", \"> 0\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I, IRNode.VECTOR_SIZE + \"min(max_for_type, min(max_for_type, max_for_type))\", \"> 0\"})\n+    public int[] badVectorNodeSize() {\n+        int[] a = new int[1024*8];\n+        for (int i = 0; i < a.length; i++) {\n+            a[i]++;\n+        }\n+        return a;\n+    }\n@@ -1099,1 +1126,1 @@\n-    @IR(failOn = IRNode.LOAD_VECTOR, phase = CompilePhase.BEFORE_REMOVEUSELESS) \/\/ works\n+    @IR(failOn = IRNode.LOAD_VECTOR_I, phase = CompilePhase.BEFORE_REMOVEUSELESS) \/\/ works\n@@ -1101,2 +1128,2 @@\n-    @IR(failOn = IRNode.VECTOR_CAST_B2X, phase = CompilePhase.BEFORE_REMOVEUSELESS) \/\/ works\n-    @IR(failOn = IRNode.LOAD_VECTOR, phase = CompilePhase.BEFORE_MATCHING) \/\/ works\n+    @IR(failOn = IRNode.VECTOR_CAST_B2I, phase = CompilePhase.BEFORE_REMOVEUSELESS) \/\/ works\n+    @IR(failOn = IRNode.LOAD_VECTOR_I, phase = CompilePhase.BEFORE_MATCHING) \/\/ works\n@@ -1104,2 +1131,2 @@\n-    @IR(failOn = IRNode.VECTOR_CAST_B2X, phase = CompilePhase.BEFORE_MATCHING) \/\/ works\n-    @IR(failOn = IRNode.LOAD_VECTOR, phase = {CompilePhase.MATCHING, CompilePhase.MATCHING})\n+    @IR(failOn = IRNode.VECTOR_CAST_B2I, phase = CompilePhase.BEFORE_MATCHING) \/\/ works\n+    @IR(failOn = IRNode.LOAD_VECTOR_I, phase = {CompilePhase.MATCHING, CompilePhase.MATCHING})\n@@ -1107,2 +1134,2 @@\n-    @IR(failOn = IRNode.VECTOR_CAST_B2X, phase = {CompilePhase.MATCHING, CompilePhase.MATCHING})\n-    @IR(failOn = IRNode.LOAD_VECTOR, phase = CompilePhase.FINAL_CODE)\n+    @IR(failOn = IRNode.VECTOR_CAST_B2I, phase = {CompilePhase.MATCHING, CompilePhase.MATCHING})\n+    @IR(failOn = IRNode.LOAD_VECTOR_I, phase = CompilePhase.FINAL_CODE)\n@@ -1110,1 +1137,1 @@\n-    @IR(failOn = IRNode.VECTOR_CAST_B2X, phase = CompilePhase.FINAL_CODE)\n+    @IR(failOn = IRNode.VECTOR_CAST_B2I, phase = CompilePhase.FINAL_CODE)\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/tests\/TestBadFormat.java","additions":36,"deletions":9,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-            ProcessBuilder process = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder process = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/tests\/TestDScenarios.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -100,1 +100,1 @@\n-        ProcessBuilder process = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder process = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/tests\/TestDTestAndExclude.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-        runCheck(BadCountsConstraint.create(BadCount.class, \"bad1()\", 1, 1, \"Load\"),\n+        runCheck(BadCountsConstraint.create(BadCount.class, \"bad1()\", 1, 2, \"Load\"),\n@@ -106,3 +106,3 @@\n-                 BadCountsConstraint.create(BadCount.class, \"bad2()\", 2,  1, \"Store\"),\n-                 BadCountsConstraint.create(BadCount.class, \"bad3()\", 1,  1, \"Load\"),\n-                 BadCountsConstraint.create(BadCount.class, \"bad3()\", 2,  1, \"Store\")\n+                 BadCountsConstraint.create(BadCount.class, \"bad2()\", 2,  2, \"Store\"),\n+                 BadCountsConstraint.create(BadCount.class, \"bad3()\", 1,  2, \"Load\"),\n+                 BadCountsConstraint.create(BadCount.class, \"bad3()\", 2,  2, \"Store\")\n@@ -632,4 +632,0 @@\n-                  IRNode.STORE, \"!= 0\",\n-                  IRNode.STORE, \"!=0\",\n-                  IRNode.STORE, \" != 0\",\n-                  IRNode.STORE, \"  !=  0\",\n@@ -826,0 +822,1 @@\n+    int iFld2;\n@@ -827,0 +824,1 @@\n+    int result2;\n@@ -828,1 +826,1 @@\n-    @IR(counts = {IRNode.LOAD, \"!= 1\"}) \/\/ fail\n+    @IR(counts = {IRNode.LOAD, \"> 1000\"}) \/\/ fail\n@@ -832,0 +830,1 @@\n+        result2 = iFld2;\n@@ -835,2 +834,2 @@\n-    @IR(counts = {IRNode.LOAD, \"1\"}) \/\/ fail\n-    @IR(counts = {IRNode.STORE, \"< 1\"})\n+    @IR(counts = {IRNode.LOAD, \"2\"}) \/\/ fail\n+    @IR(counts = {IRNode.STORE, \"< 2\"})\n@@ -839,0 +838,1 @@\n+        result2 = iFld2;\n@@ -844,1 +844,1 @@\n-    @IR(counts = {IRNode.STORE, \" <= 0\"}) \/\/ fail\n+    @IR(counts = {IRNode.STORE, \" <= 1\"}) \/\/ fail\n@@ -847,0 +847,1 @@\n+        result2 = iFld2;\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/tests\/TestIRMatching.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -78,0 +78,9 @@\n+                ##### IRMatchingVMInfo - used by TestFramework #####\n+                <key>:<value>\n+                cpuFeatures:empty_cpu_info\n+                MaxVectorSize:64\n+                MaxVectorSizeIsDefault:1\n+                LoopMaxUnroll:64\n+                UseAVX:1\n+                UseAVXIsDefault:1\n+                ----- END VMInfo -----\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/tests\/TestSafepointWhilePrinting.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -96,1 +96,1 @@\n-        var pb = ProcessTools.createTestJvm(cmd);\n+        var pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n@@ -109,1 +109,1 @@\n-        var pb = ProcessTools.createTestJvm(cmd);\n+        var pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/gc\/huge\/quicklook\/largeheap\/MemOptions\/MemOptionsTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,2 +43,2 @@\n-            ProcessTools.createTestJvm(\"-XX:MaxMetaspaceSize=100m\",\n-                                       maxMetaspaceSize.class.getName());\n+            ProcessTools.createTestJavaProcessBuilder(\"-XX:MaxMetaspaceSize=100m\",\n+                                                      maxMetaspaceSize.class.getName());\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/metaspace\/flags\/maxMetaspaceSize\/TestMaxMetaspaceSize.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -95,1 +95,0 @@\n-                \"-Xdebug\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/AttachingConnector\/attach\/attach004\/TestDriver.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,1 +83,1 @@\n-        String cmd = ProcessTools.getCommandLine(ProcessTools.createTestJvm(\n+        String cmd = ProcessTools.getCommandLine(ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/Allocate\/alloc001\/alloc001.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -71,1 +71,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RetransformClasses\/retransform003\/TestDriver.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/SetNativeMethodPrefix\/SetNativeMethodPrefix002\/TestDriver.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -331,2 +331,0 @@\n-        args.add(\"-Xdebug\");\n-\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jpda\/DebugeeBinder.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,24 +0,0 @@\n-#\n-# Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-exclusiveAccess.dirs=.\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/stress\/jni\/TEST.properties","additions":0,"deletions":24,"binary":false,"changes":24,"status":"deleted"},{"patch":"@@ -1,24 +0,0 @@\n-#\n-# Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-exclusiveAccess.dirs=.\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/stress\/thread\/TEST.properties","additions":0,"deletions":24,"binary":false,"changes":24,"status":"deleted"},{"patch":"@@ -35,1 +35,1 @@\n- * @run main\/othervm nsk.stress.thread.thread007 500 2m 5s\n+ * @run main\/othervm\/timeout=300 nsk.stress.thread.thread007 500 2m 5s\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/stress\/thread\/thread007.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * @run main\/othervm nsk.stress.thread.thread008 500 2m 5s\n+ * @run main\/othervm\/timeout=300 nsk.stress.thread.thread008 500 2m 5s\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/stress\/thread\/thread008.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,1 +72,1 @@\n-            var pb = ProcessTools.createTestJvm(\n+            var pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -82,1 +82,1 @@\n-            var pb = ProcessTools.createTestJvm(\n+            var pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/vm\/compiler\/CodeCacheInfo\/Test.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-        var pb = ProcessTools.createTestJvm(\n+        var pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/vm\/compiler\/CodeCacheInfoOnCompilation\/Test.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,0 +31,3 @@\n+\n+sun\/tools\/jhsdb\/JShellHeapDumpTest.java            8276539 generic-all\n+sun\/tools\/jhsdb\/HeapDumpTestWithActiveProcess.java 8276539 generic-all\n","filename":"test\/jdk\/ProblemList-zgc.txt","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -499,1 +499,0 @@\n-java\/io\/File\/createTempFile\/SpecialTempFile.java                8274122 windows11\n@@ -620,8 +619,1 @@\n-sun\/security\/tools\/keytool\/NssTest.java                         8295343 linux-all\n-sun\/security\/pkcs11\/Signature\/TestRSAKeyLength.java             8295343 linux-all\n-sun\/security\/pkcs11\/rsa\/TestSignatures.java                     8295343 linux-all\n-sun\/security\/pkcs11\/rsa\/TestKeyPairGenerator.java               8295343 linux-all\n-sun\/security\/pkcs11\/rsa\/TestKeyFactory.java                     8295343 linux-all\n-sun\/security\/pkcs11\/KeyStore\/Basic.java                         8295343 linux-all\n-sun\/security\/pkcs11\/Cipher\/TestKATForGCM.java                   8240611 linux-x64,macosx-x64\n-\n+sun\/security\/pkcs11\/sslecc\/ClientJSSEServerJSSE.java            8316183 linux-ppc64le\n@@ -745,0 +737,1 @@\n+sun\/tools\/jhsdb\/HeapDumpTestWithActiveProcess.java              8313798 generic-aarch64\n","filename":"test\/jdk\/ProblemList.txt","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -56,0 +56,1 @@\n+    vm.flagless \\\n","filename":"test\/jdk\/TEST.ROOT","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -589,1 +589,0 @@\n-    java\/util\/zip\/ZipFile\/TestTooManyEntries.java \\\n","filename":"test\/jdk\/TEST.groups","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,2 +36,0 @@\n-import java.awt.event.ActionEvent;\n-import java.awt.event.ActionListener;\n@@ -41,1 +39,0 @@\n-import javax.swing.JButton;\n@@ -51,1 +48,0 @@\n-    private static JButton getSelectedFilesButton;\n@@ -53,3 +49,1 @@\n-    private static boolean passed;\n-    private static File[] testDir;\n-    private static File[] tempFile;\n+    private static volatile Point clickLocation;\n@@ -61,20 +55,4 @@\n-\n-        try {\n-            \/\/ create test directory\n-            String tmpDir = System.getProperty(\"user.home\");\n-            testDir = new File[1];\n-            testDir[0] = new File(tmpDir, \"testDir\");\n-            if (!testDir[0].exists())\n-                testDir[0].mkdir();\n-            testDir[0].deleteOnExit();\n-\n-            \/\/ create temporary files inside testDir\n-            tempFile = new File[5];\n-            for (int i = 0; i < 5; ++i) {\n-                tempFile[i] = File.createTempFile(\"temp\", \".txt\",\n-                        new File(testDir[0].getAbsolutePath()));\n-                tempFile[i].deleteOnExit();\n-            }\n-        } catch (Exception e) {\n-            e.printStackTrace();\n-        }\n+        File testDirDirs = createFoldersOnlyDir();\n+        File testDirFiles = createFilesOnlyDir();\n+        populateDirs(testDirDirs);\n+        populateFiles(testDirFiles);\n@@ -82,1 +60,1 @@\n-                        UIManager.getInstalledLookAndFeels()) {\n+                UIManager.getInstalledLookAndFeels()) {\n@@ -85,3 +63,3 @@\n-            checkFileOnlyTest(laf);\n-            checkDirectoriesOnlyTest(laf);\n-            checkFilesAndDirectoriesTest(laf);\n+            checkFileOnlyTest(laf, testDirFiles);\n+            checkDirectoriesOnlyTest(laf, testDirDirs);\n+            checkFilesAndDirectoriesTest(laf, testDirDirs);\n@@ -92,2 +70,38 @@\n-    private static void checkFileOnlyTest(UIManager.LookAndFeelInfo laf)\n-            throws Exception {\n+    private static File createFoldersOnlyDir() {\n+        String tmpDir = System.getProperty(\"java.io.tmpdir\");\n+        File dirsDir = new File(tmpDir, \"dirsDir\");\n+        if (!dirsDir.exists()) {\n+            dirsDir.mkdir();\n+        }\n+        dirsDir.deleteOnExit();\n+        return dirsDir;\n+    }\n+\n+    private static void populateDirs(File parent) {\n+        for (int i = 0; i < 10; ++i) {\n+            File subDir = new File(parent, \"subDir_\" + (i+1));\n+            subDir.mkdir();\n+            subDir.deleteOnExit();\n+        }\n+    }\n+\n+    private static File createFilesOnlyDir() {\n+        String tmpDir = System.getProperty(\"java.io.tmpdir\");\n+        File filesDir = new File(tmpDir, \"filesDir\");\n+        if (!filesDir.exists()) {\n+            filesDir.mkdir();\n+        }\n+        filesDir.deleteOnExit();\n+        return filesDir;\n+    }\n+\n+    private static void populateFiles(File parent) throws Exception {\n+        for (int i = 0; i < 10; ++i) {\n+            File subFile = new File(parent, \"subFiles_\" + (i+1));\n+            subFile.createNewFile();\n+            subFile.deleteOnExit();\n+        }\n+    }\n+\n+    private static void checkFileOnlyTest(UIManager.LookAndFeelInfo laf,\n+                                          File dir) throws Exception {\n@@ -98,1 +112,2 @@\n-                fileChooser.setCurrentDirectory(testDir[0]);\n+                fileChooser.setCurrentDirectory(dir);\n+                fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);\n@@ -103,2 +118,6 @@\n-            fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);\n-            doTesting(laf, 230);\n+            if (laf.getClassName().contains(\"Motif\")\n+                || laf.getClassName().contains(\"GTK\")) {\n+                doTesting(laf, 230);\n+            } else {\n+                doTesting(laf, 50);\n+            }\n@@ -106,5 +125,1 @@\n-            SwingUtilities.invokeAndWait(() -> {\n-                if (frame != null) {\n-                    frame.dispose();\n-                }\n-            });\n+            disposeFrame();\n@@ -114,2 +129,2 @@\n-    private static void checkDirectoriesOnlyTest(UIManager.LookAndFeelInfo laf)\n-            throws Exception {\n+    private static void checkDirectoriesOnlyTest(UIManager.LookAndFeelInfo laf,\n+                                                 File dir) throws Exception {\n@@ -120,0 +135,2 @@\n+                fileChooser.setCurrentDirectory(dir);\n+                fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n@@ -123,1 +140,0 @@\n-            fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n@@ -126,5 +142,1 @@\n-            SwingUtilities.invokeAndWait(() -> {\n-                if (frame != null) {\n-                    frame.dispose();\n-                }\n-            });\n+            disposeFrame();\n@@ -134,2 +146,2 @@\n-    private static void checkFilesAndDirectoriesTest(UIManager.LookAndFeelInfo laf)\n-            throws Exception {\n+    private static void checkFilesAndDirectoriesTest(UIManager.LookAndFeelInfo laf,\n+                                                     File dir) throws Exception {\n@@ -140,0 +152,2 @@\n+                fileChooser.setCurrentDirectory(dir);\n+                fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\n@@ -143,1 +157,0 @@\n-            fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\n@@ -146,5 +159,1 @@\n-            SwingUtilities.invokeAndWait(() -> {\n-                if (frame != null) {\n-                    frame.dispose();\n-                }\n-            });\n+            disposeFrame();\n@@ -157,1 +166,1 @@\n-        fileChooser = new JFileChooser(\"user.home\");\n+        fileChooser = new JFileChooser();\n@@ -160,13 +169,0 @@\n-\n-        getSelectedFilesButton = new JButton();\n-        getSelectedFilesButton.setText(\"Print selected Files\");\n-        getSelectedFilesButton.addActionListener(new ActionListener() {\n-            public void actionPerformed(ActionEvent evt) {\n-                passed = false;\n-                File files[] = fileChooser.getSelectedFiles();\n-                if (files.length != 0) {\n-                    passed = true;\n-                }\n-            }\n-        });\n-\n@@ -174,1 +170,0 @@\n-        frame.getContentPane().add(getSelectedFilesButton, BorderLayout.SOUTH);\n@@ -192,10 +187,8 @@\n-    private static void doTesting(UIManager.LookAndFeelInfo laf, int xOffset) {\n-        Point frameLocation = fileChooser.getLocationOnScreen();\n-        int frameWidth = frame.getWidth();\n-        int frameHeight = frame.getHeight();\n-\n-        Point btnLocation = getSelectedFilesButton.getLocationOnScreen();\n-        int btnWidth = getSelectedFilesButton.getWidth();\n-        int btnHeight = getSelectedFilesButton.getHeight();\n-        clickMouse(frameLocation, 0, frameHeight, xOffset);\n-        clickMouse(btnLocation, btnWidth, btnHeight, 0);\n+    private static void doTesting(UIManager.LookAndFeelInfo laf, int xOffset)\n+                                    throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            Point fileChooserLocation = fileChooser.getLocationOnScreen();\n+            fileChooserLocation.y += frame.getHeight() \/ 3;\n+            clickLocation = new Point(fileChooserLocation);\n+        });\n+        clickMouse(clickLocation, xOffset);\n@@ -205,3 +198,2 @@\n-    private static void clickMouse(Point point, int width, int height,\n-                                   int xOffset) {\n-        robot.mouseMove(point.x + width\/2 + xOffset , point.y + height\/3);\n+    private static void clickMouse(Point point, int xOffset) {\n+        robot.mouseMove(point.x + xOffset , point.y);\n@@ -211,0 +203,11 @@\n+        robot.waitForIdle();\n+    }\n+\n+    private static void checkResult(UIManager.LookAndFeelInfo laf) throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            File[] files = fileChooser.getSelectedFiles();\n+            if (files.length == 0) {\n+                throw new RuntimeException(\"getSelectedFiles returned \" +\n+                        \"empty array for LAF: \" + laf.getClassName());\n+            }\n+        });\n@@ -213,4 +216,6 @@\n-    private static void checkResult(UIManager.LookAndFeelInfo laf) {\n-        if (!passed)\n-            throw new RuntimeException(\"getSelectedFiles returned \" +\n-                    \"empty array for LAF: \"+laf.getClassName());\n+    private static void disposeFrame() throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            if (frame != null) {\n+                frame.dispose();\n+            }\n+        });\n","filename":"test\/jdk\/com\/sun\/java\/swing\/plaf\/gtk\/TestFileChooserSingleDirectorySelection.java","additions":95,"deletions":90,"binary":false,"changes":185,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -107,1 +107,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm();\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder();\n","filename":"test\/jdk\/com\/sun\/jdi\/JITDebug.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(cmd);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(cmd);\n","filename":"test\/jdk\/com\/sun\/jdi\/NoLaunchOptionTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/com\/sun\/jdi\/PrivateTransportTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -61,2 +61,0 @@\n-    public static final String TESTCLASSES = System.getProperty(\"test.classes\");\n-\n@@ -74,1 +72,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -76,1 +74,0 @@\n-                \"-classpath\", TESTCLASSES,\n","filename":"test\/jdk\/com\/sun\/jdi\/ProcessAttachTest.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,1 +82,1 @@\n-        ProcessBuilder launcher = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder launcher = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/com\/sun\/jdi\/RunToExit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-        \/\/ These are the arguments passed to createJavaProcessBuilder() to launch\n+        \/\/ These are the arguments passed to createLimitedTestJavaProcessBuilder() to launch\n@@ -70,1 +70,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -83,1 +83,1 @@\n-        pb = ProcessTools.createTestJvm(testArgs);\n+        pb = ProcessTools.createTestJavaProcessBuilder(testArgs);\n","filename":"test\/jdk\/com\/sun\/jdi\/cds\/CDSJDITest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-            return ProcessTools.createTestJvm(debuggeeArgs);\n+            return ProcessTools.createTestJavaProcessBuilder(debuggeeArgs);\n","filename":"test\/jdk\/com\/sun\/jdi\/lib\/jdb\/Debuggee.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -127,1 +127,1 @@\n-                        || msg.contains(\"No route to host\"));\n+                        || msg.contains(\"No route to host\") || msg.contains(\"Connection timed out\"));\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/LdapPoolTimeoutTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @requires vm.flagless\n@@ -62,1 +63,1 @@\n-                createJavaProcessBuilder(\n+                createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/com\/sun\/management\/HotSpotDiagnosticMXBean\/CheckOrigin.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,1 +56,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/com\/sun\/tools\/attach\/RunnerUtil.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -151,1 +151,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/awt\/MenuBar\/TestNoScreenMenuBar.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/awt\/Robot\/NonEmptyErrorStream.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -105,1 +105,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/awt\/Toolkit\/ScreenInsetsDPIVariation\/ScreenInsetsDPIVariation.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -152,1 +152,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/awt\/Window\/MainKeyWindowTest\/TestMainKeyWindow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -113,1 +113,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/awt\/Window\/MinimumSizeDPIVariation\/MinimumSizeDPIVariation.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/awt\/color\/ICC_ColorSpace\/MTTransformReplacedProfile.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,132 @@\n+\/*\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Dimension;\n+import java.awt.EventQueue;\n+import java.awt.FlowLayout;\n+import java.awt.Frame;\n+import java.awt.List;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.TextArea;\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+import java.awt.event.MouseListener;\n+\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 4454304\n+ * @summary On Solaris, TextArea triggers MouseEntered when the mouse is inside the component\n+ * @run main MouseEnterExitTest\n+ *\/\n+public class MouseEnterExitTest {\n+\n+    private static Frame frame;\n+\n+    private volatile static boolean entered = false;\n+    private volatile static boolean exited = false;\n+    private volatile static boolean passed = true;\n+\n+    private volatile static Point compAt;\n+    private volatile static Dimension compSize;\n+\n+    private static final MouseListener mouseListener = new MouseAdapter() {\n+        @Override\n+        public void mouseEntered(MouseEvent e) {\n+            System.out.println(\n+                \"MouseEntered component \" + e.getSource().getClass().getName());\n+            if (entered) {\n+                passed = false;\n+            }\n+            entered = true;\n+            exited = false;\n+        }\n+\n+        @Override\n+        public void mouseExited(MouseEvent e) {\n+            System.out.println(\n+                \"MouseExited component \" + e.getSource().getClass().getName());\n+            if (exited) {\n+                passed = false;\n+            }\n+            entered = false;\n+            exited = true;\n+        }\n+    };\n+\n+    private static void initializeGUI() {\n+        frame = new Frame(\"MouseEnterExitTest\");\n+        frame.setLayout(new FlowLayout());\n+        List list = new List(4);\n+        for (int i = 0; i < 10; i++) {\n+            list.add(\"item \" + i);\n+        }\n+        list.addMouseListener(mouseListener);\n+        frame.add(list);\n+\n+        TextArea textArea = new TextArea(\"TextArea\", 10, 20);\n+        textArea.addMouseListener(mouseListener);\n+        frame.add(textArea);\n+\n+        frame.pack();\n+        frame.setLocationRelativeTo(null);\n+        frame.setVisible(true);\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            Robot robot = new Robot();\n+            robot.setAutoDelay(100);\n+            robot.setAutoWaitForIdle(true);\n+\n+            EventQueue.invokeAndWait(MouseEnterExitTest::initializeGUI);\n+            robot.waitForIdle();\n+\n+            EventQueue.invokeAndWait(() -> {\n+                compAt = frame.getLocationOnScreen();\n+                compSize = frame.getSize();\n+            });\n+            compAt.y += compSize.getHeight() \/ 2;\n+            int xr = compAt.x + compSize.width + 1;\n+            for (int i = compAt.x - 5; (i < xr) && passed; i++) {\n+                robot.mouseMove(i, compAt.y);\n+            }\n+\n+            if (!passed || entered || !exited) {\n+                throw new RuntimeException(\n+                    \"MouseEnterExitTest FAILED. MouseEntered\/MouseExited \"\n+                        + \"not properly triggered. Please see the log\");\n+            }\n+            System.out.println(\"Test PASSED\");\n+        } finally {\n+            EventQueue.invokeAndWait(MouseEnterExitTest::disposeFrame);\n+        }\n+    }\n+\n+    private static void disposeFrame() {\n+        if (frame != null) {\n+            frame.dispose();\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/event\/MouseEvent\/MouseEnterExitTest.java","additions":132,"deletions":0,"binary":false,"changes":132,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,11 +24,11 @@\n-\/*\n-   @test\n-   @key headful\n-   @bug 8041470\n-   @summary JButtons stay pressed after they have lost focus if you use the mouse wheel\n-   @author Anton Nashatyrev\n- *\/\n-\n-import javax.swing.*;\n-import java.awt.*;\n-import java.awt.event.*;\n+import java.awt.AWTEvent;\n+import java.awt.Dimension;\n+import java.awt.FlowLayout;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.Toolkit;\n+import java.awt.event.AWTEventListener;\n+import java.awt.event.FocusAdapter;\n+import java.awt.event.FocusEvent;\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n@@ -36,0 +36,1 @@\n+import java.util.concurrent.TimeUnit;\n@@ -37,0 +38,10 @@\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.SwingUtilities;\n+\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 8041470\n+ * @summary JButtons stay pressed after they have lost focus if you use the mouse wheel\n+ *\/\n@@ -42,3 +53,4 @@\n-    CountDownLatch pressSema = new CountDownLatch(1);\n-    CountDownLatch exitSema = new CountDownLatch(1);\n-    CountDownLatch releaseSema = new CountDownLatch(1);\n+    final CountDownLatch focusSema = new CountDownLatch(1);\n+    final CountDownLatch pressSema = new CountDownLatch(1);\n+    final CountDownLatch exitSema = new CountDownLatch(1);\n+    final CountDownLatch releaseSema = new CountDownLatch(1);\n@@ -47,0 +59,3 @@\n+    private volatile Point sLoc;\n+    private volatile Dimension bSize;\n+\n@@ -50,0 +65,8 @@\n+\n+        fb.addFocusListener(new FocusAdapter() {\n+            @Override\n+            public void focusGained(FocusEvent focusEvent) {\n+                focusSema.countDown();\n+            }\n+        });\n+\n@@ -60,1 +83,0 @@\n-\n@@ -97,0 +119,5 @@\n+        System.out.println(\"# Started\");\n+        if (!focusSema.await(2, TimeUnit.SECONDS)) {\n+            throw new RuntimeException(\"Didn't receive focus in time\");\n+        }\n+\n@@ -99,1 +126,0 @@\n-        System.out.println(\"# Started\");\n@@ -101,2 +127,5 @@\n-        Point sLoc = fb.getLocationOnScreen();\n-        Dimension bSize = fb.getSize();\n+        SwingUtilities.invokeAndWait(() -> {\n+            sLoc = fb.getLocationOnScreen();\n+            bSize = fb.getSize();\n+        });\n+\n@@ -104,2 +133,4 @@\n-        r.mousePress(MouseEvent.BUTTON1_MASK);\n-        pressSema.await();\n+        r.mousePress(MouseEvent.BUTTON1_DOWN_MASK);\n+        if (!pressSema.await(2, TimeUnit.SECONDS)) {\n+            throw new RuntimeException(\"Mouse is not pressed\");\n+        }\n@@ -109,1 +140,3 @@\n-        exitSema.await();\n+        if (!exitSema.await(1, TimeUnit.SECONDS)) {\n+            throw new RuntimeException(\"Mouse did not exit\");\n+        }\n@@ -114,1 +147,3 @@\n-        wheelSema.await();\n+        if (!wheelSema.await(1, TimeUnit.SECONDS)) {\n+            throw new RuntimeException(\"Mouse is not wheeled 1\");\n+        }\n@@ -119,1 +154,3 @@\n-        wheelSema.await();\n+        if (!wheelSema.await(1, TimeUnit.SECONDS)) {\n+            throw new RuntimeException(\"Mouse is not wheeled 2\");\n+        }\n@@ -122,2 +159,4 @@\n-        r.mouseRelease(MouseEvent.BUTTON1_MASK);\n-        releaseSema.await();\n+        r.mouseRelease(MouseEvent.BUTTON1_DOWN_MASK);\n+        if (!releaseSema.await(1, TimeUnit.SECONDS)) {\n+            throw new RuntimeException(\"Mouse is not released\");\n+        }\n@@ -130,2 +169,10 @@\n-        SwingUtilities.invokeAndWait(() -> test.createGui());\n-        test.run();\n+        try {\n+            SwingUtilities.invokeAndWait(test::createGui);\n+            test.run();\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (test.f != null) {\n+                    test.f.dispose();\n+                }\n+            });\n+        }\n","filename":"test\/jdk\/java\/awt\/event\/MouseWheelEvent\/WheelModifier\/WheelModifier.java","additions":75,"deletions":28,"binary":false,"changes":103,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\"-Xcheck:jni\", FreeTypeScalerJNICheck.class.getName(), \"runtest\");\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-Xcheck:jni\", FreeTypeScalerJNICheck.class.getName(), \"runtest\");\n","filename":"test\/jdk\/java\/awt\/font\/JNICheck\/FreeTypeScalerJNICheck.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-        Process process = ProcessTools.createTestJvm(command).start();\n+        Process process = ProcessTools.createTestJavaProcessBuilder(command).start();\n","filename":"test\/jdk\/java\/foreign\/UpcallTestHelper.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-            var pb = ProcessTools.createTestJvm(\n+            var pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/io\/Console\/RedirectTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-                ProcessTools.createTestJvm(MacPathTest.class.getName());\n+                ProcessTools.createTestJavaProcessBuilder(MacPathTest.class.getName());\n","filename":"test\/jdk\/java\/io\/File\/MacPath.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @modules java.base\/jdk.internal.util\n@@ -35,1 +36,0 @@\n-import java.nio.file.Paths;\n@@ -37,1 +37,2 @@\n-public class SpecialTempFile {\n+import jdk.internal.util.OperatingSystem;\n+import jdk.internal.util.OSVersion;\n@@ -39,0 +40,1 @@\n+public class SpecialTempFile {\n@@ -51,1 +53,1 @@\n-        Path testPath = Paths.get(System.getProperty(\"test.dir\", \".\"));\n+        Path testPath = Path.of(System.getProperty(\"test.dir\", \".\"));\n@@ -102,1 +104,1 @@\n-        if (!System.getProperty(\"os.name\").startsWith(\"Windows\"))\n+        if (!OperatingSystem.isWindows())\n@@ -108,1 +110,4 @@\n-        test(\"ReservedName\", resvPre, resvSuf, true);\n+        boolean exceptionExpected =\n+            !(System.getProperty(\"os.name\").endsWith(\"11\") ||\n+              new OSVersion(10, 0).compareTo(OSVersion.current()) > 0);\n+        test(\"ReservedName\", resvPre, resvSuf, exceptionExpected);\n","filename":"test\/jdk\/java\/io\/File\/createTempFile\/SpecialTempFile.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -105,1 +105,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(params);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(params);\n","filename":"test\/jdk\/java\/io\/Serializable\/class\/NonSerializableTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -84,1 +84,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -96,1 +96,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/io\/Serializable\/evolution\/RenamePackage\/RenamePackageTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -121,1 +121,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/java\/lang\/ClassLoader\/GetSystemPackage.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(data.arg);\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(data.arg);\n","filename":"test\/jdk\/java\/lang\/Object\/InvalidFinalizationOption.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8024521\n+ * @bug 8024521 8315721\n@@ -31,0 +31,2 @@\n+ * @comment Don't allow -Xcomp, it disturbs the timing\n+ * @requires (vm.compMode != \"Xcomp\")\n@@ -38,0 +40,2 @@\n+ * @comment Don't allow -Xcomp, it disturbs the timing\n+ * @requires (vm.compMode != \"Xcomp\")\n","filename":"test\/jdk\/java\/lang\/ProcessBuilder\/CloseRace.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(arguments);\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(arguments);\n","filename":"test\/jdk\/java\/lang\/ProcessBuilder\/InheritIOTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -81,3 +81,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n-                                                   \"JspawnhelperProtocol\",\n-                                                   \"normalExec\");\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n+                                                              \"JspawnhelperProtocol\",\n+                                                              \"normalExec\");\n@@ -96,3 +96,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n-                                                   \"JspawnhelperProtocol\",\n-                                                   \"simulateCrashInChild\" + stage);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n+                                                              \"JspawnhelperProtocol\",\n+                                                              \"simulateCrashInChild\" + stage);\n@@ -129,3 +129,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n-                                                   \"JspawnhelperProtocol\",\n-                                                   \"simulateCrashInParent\" + stage);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n+                                                              \"JspawnhelperProtocol\",\n+                                                              \"simulateCrashInParent\" + stage);\n@@ -175,3 +175,3 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n-                                                   \"JspawnhelperProtocol\",\n-                                                   \"simulateTruncatedWriteInParent\" + stage);\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Djdk.lang.Process.launchMechanism=posix_spawn\",\n+                                                              \"JspawnhelperProtocol\",\n+                                                              \"simulateTruncatedWriteInParent\" + stage);\n","filename":"test\/jdk\/java\/lang\/ProcessBuilder\/JspawnhelperProtocol.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"ReaderWriterTest$ChildWithCharset\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"ReaderWriterTest$ChildWithCharset\");\n@@ -124,1 +124,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"ReaderWriterTest$ChildWithCharset\");\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"ReaderWriterTest$ChildWithCharset\");\n@@ -194,1 +194,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -220,1 +220,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -266,1 +266,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/lang\/ProcessBuilder\/ReaderWriterTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,1 @@\n-import static jdk.test.lib.process.ProcessTools.createTestJvm;\n+import static jdk.test.lib.process.ProcessTools.createTestJavaProcessBuilder;\n@@ -41,1 +41,1 @@\n-            ProcessBuilder pb = createTestJvm(\"ShutdownInterruptedMain\");\n+            ProcessBuilder pb = createTestJavaProcessBuilder(\"ShutdownInterruptedMain\");\n","filename":"test\/jdk\/java\/lang\/RuntimeTests\/shutdown\/ShutdownInterruptedMain.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/java\/lang\/SecurityManager\/modules\/CustomSecurityManagerTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\"CallerFromMain\");\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"CallerFromMain\");\n","filename":"test\/jdk\/java\/lang\/StackWalker\/CallerFromMain.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n- * @bug 8302323\n+ * @bug 8302323 8322512\n@@ -132,0 +132,13 @@\n+        \/\/ toStringCache\n+\n+        sb.setLength(0);\n+        sb.toString();\n+        sb.repeat('*', 5);\n+        expected = \"*****\";\n+        assertEquals(sb.toString(), expected);\n+        sb.setLength(0);\n+        sb.toString();\n+        sb.repeat(\"*\", 5);\n+        assertEquals(sb.toString(), expected);\n+\n+\n","filename":"test\/jdk\/java\/lang\/StringBuilder\/StringBufferRepeat.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-        var pb = ProcessTools.createTestJvm(cmds);\n+        var pb = ProcessTools.createTestJavaProcessBuilder(cmds);\n","filename":"test\/jdk\/java\/lang\/System\/FileEncodingTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,1 +58,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmds);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmds);\n","filename":"test\/jdk\/java\/lang\/System\/MacEncoding\/MacJNUEncoding.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,1 +83,1 @@\n-        pb = ProcessTools.createTestJvm(cmds);\n+        pb = ProcessTools.createTestJavaProcessBuilder(cmds);\n","filename":"test\/jdk\/java\/lang\/System\/i18nEnvArg.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(cmd);\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(cmd);\n","filename":"test\/jdk\/java\/lang\/Thread\/UncaughtExceptionsTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+import java.util.concurrent.atomic.AtomicReference;\n@@ -78,1 +79,1 @@\n-            System.out.println(events);\n+            System.err.println(events);\n@@ -82,2 +83,2 @@\n-            assertTrue(startCount == 100);\n-            assertTrue(endCount == 100);\n+            assertEquals(100, startCount);\n+            assertEquals(100, endCount);\n@@ -92,0 +93,5 @@\n+        Runnable[] parkers = new Runnable[] {\n+            () -> LockSupport.park(),\n+            () -> LockSupport.parkNanos(Duration.ofDays(1).toNanos())\n+        };\n+\n@@ -93,2 +99,1 @@\n-            recording.enable(\"jdk.VirtualThreadPinned\")\n-                     .withThreshold(Duration.ofMillis(500));\n+            recording.enable(\"jdk.VirtualThreadPinned\");\n@@ -96,1 +101,0 @@\n-            \/\/ execute task in a virtual thread, carrier thread is pinned 3 times.\n@@ -98,10 +102,15 @@\n-            ThreadFactory factory = Thread.ofVirtual().factory();\n-            try (var executor = Executors.newThreadPerTaskExecutor(factory)) {\n-                executor.submit(() -> {\n-                    synchronized (lock) {\n-                        \/\/ pinned, duration < 500ms\n-                        Thread.sleep(1);\n-\n-                        \/\/ pinned, duration > 500ms\n-                        Thread.sleep(Duration.ofSeconds(3));\n-                        Thread.sleep(Duration.ofSeconds(3));\n+            try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n+                for (Runnable parker : parkers) {\n+                    \/\/ execute parking task in virtual thread\n+                    var threadRef = new AtomicReference<Thread>();\n+                    executor.submit(() -> {\n+                        threadRef.set(Thread.currentThread());\n+                        synchronized (lock) {\n+                            parker.run();   \/\/ should pin carrier\n+                        }\n+                    });\n+\n+                    \/\/ wait for the task to start and the virtual thread to park\n+                    Thread thread;\n+                    while ((thread = threadRef.get()) == null) {\n+                        Thread.sleep(10);\n@@ -109,2 +118,10 @@\n-                    return null;\n-                });\n+                    try {\n+                        Thread.State state = thread.getState();\n+                        while (state != Thread.State.WAITING && state != Thread.State.TIMED_WAITING) {\n+                            Thread.sleep(10);\n+                            state = thread.getState();\n+                        }\n+                    } finally {\n+                        LockSupport.unpark(thread);\n+                    }\n+                }\n@@ -116,1 +133,1 @@\n-            System.out.println(events);\n+            System.err.println(events);\n@@ -118,1 +135,1 @@\n-            \/\/ should have two pinned events recorded\n+            \/\/ should have a pinned event for each park\n@@ -120,1 +137,1 @@\n-            assertTrue(pinnedCount == 2);\n+            assertEquals(parkers.length, pinnedCount);\n@@ -167,1 +184,1 @@\n-            System.out.println(events);\n+            System.err.println(events);\n@@ -170,1 +187,1 @@\n-            assertTrue(count == 2);\n+            assertEquals(2, count);\n","filename":"test\/jdk\/java\/lang\/Thread\/virtual\/JfrEvents.java","additions":40,"deletions":23,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-import static jdk.test.lib.process.ProcessTools.createTestJvm;\n+import static jdk.test.lib.process.ProcessTools.createTestJavaProcessBuilder;\n@@ -39,1 +39,1 @@\n-            ProcessBuilder pb = createTestJvm(\"ShutdownHook\");\n+            ProcessBuilder pb = createTestJavaProcessBuilder(\"ShutdownHook\");\n","filename":"test\/jdk\/java\/lang\/Thread\/virtual\/ShutdownHook.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,1 +58,1 @@\n-        var processBuilder = ProcessTools.createJavaProcessBuilder(command)\n+        var processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(command)\n","filename":"test\/jdk\/java\/lang\/annotation\/LoaderLeakTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,12 @@\n-\"$JAVA\" ${TESTVMOPTS} -classpath \"${TESTCLASSES}\" Setup \"${TESTCLASSES}\" Agent\n+OS=`uname -s`\n+case ${OS} in\n+    CYGWIN*)\n+        CYGWIN=\"CYGWIN\"\n+        ;;\n+    *)\n+        CYGWIN=\"\"\n+        ;;\n+esac\n+\n+\"$JAVA\" ${TESTVMOPTS} -classpath \"${TESTCLASSES}\" Setup \"${TESTCLASSES}\" Agent \"${CYGWIN}\"\n+\n","filename":"test\/jdk\/java\/lang\/instrument\/BootClassPath\/BootClassPathTest.sh","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,0 +48,4 @@\n+        boolean isCygwin = false;\n+        if (args.length == 3 && args[2].equals(\"CYGWIN\")) {\n+            isCygwin = true;\n+        }\n@@ -97,1 +101,6 @@\n-            out.write(bootDir.getBytes(filePathEncoding));\n+            if (osName.startsWith(\"Windows\") && isCygwin) {\n+                out.write(bootDir.getBytes(\"UTF-8\"));\n+            }\n+            else {\n+                out.write(bootDir.getBytes(filePathEncoding));\n+            }\n@@ -134,1 +143,1 @@\n-            { \"windows-1256\",   null,           \"\"              },\n+            { \"Cp1256\",         null,           \"\"              },\n@@ -139,3 +148,3 @@\n-            { \"x-windows-950\",  null,           t_chinese       },\n-            { \"x-MS950-HKSCS\",  null,           t_chinese       },\n-            { \"x-euc-tw\",       t_chinese,      null            },\n+            { \"MS950\",          null,           t_chinese       },\n+            { \"MS950_HKSCS_XP\", null,           t_chinese       },\n+            { \"EUC-TW\",         t_chinese,      null            },\n@@ -147,1 +156,1 @@\n-            { \"windows-1253\",   null,           \"\"              },\n+            { \"Cp1253\",         null,           \"\"              },\n@@ -149,3 +158,3 @@\n-            { \"windows-1255\",   null,           \"\"              },\n-            { \"iso8859-8\",      hebrew,         null            },\n-            { \"windows-31j\",    null,           japanese        },\n+            { \"Cp1255\",         null,           \"\"              },\n+            { \"iso-8859-8\",     hebrew,         null            },\n+            { \"MS932\",          null,           japanese        },\n@@ -153,1 +162,1 @@\n-            { \"x-EUC-JP-LINUX\", japanese,       null            },\n+            { \"EUC-JP-LINUX\",   japanese,       null            },\n@@ -155,1 +164,1 @@\n-            { \"x-windows-949\",  null,           korean          },\n+            { \"MS949\",          null,           korean          },\n@@ -157,1 +166,1 @@\n-            { \"windows-1257\",   null,           \"\"              },\n+            { \"Cp1257\",         null,           \"\"              },\n@@ -159,1 +168,1 @@\n-            { \"windows-1250\",   null,           \"\"              },\n+            { \"Cp1250\",         null,           \"\"              },\n@@ -161,1 +170,1 @@\n-            { \"windows-1254\",   null,           \"\"              },\n+            { \"Cp1254\",         null,           \"\"              },\n@@ -163,1 +172,1 @@\n-            { \"windows-1252\",   null,           \"\"              },\n+            { \"Cp1252\",         null,           \"\"              },\n@@ -166,1 +175,1 @@\n-            { \"x-windows-874\",  null,           thai            },\n+            { \"MS874\",          null,           thai            },\n","filename":"test\/jdk\/java\/lang\/instrument\/BootClassPath\/Setup.java","additions":26,"deletions":17,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,1 +32,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\"-javaagent:DummyAgent.jar\", \"TestDaemonThread\", \".\");\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"-javaagent:DummyAgent.jar\", \"TestDaemonThread\", \".\");\n","filename":"test\/jdk\/java\/lang\/instrument\/DaemonThread\/TestDaemonThreadLauncher.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/lang\/instrument\/NegativeAgentRunner.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/PremainClassTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-        \/\/ can't use ProcessTools.createJavaProcessBuilder as it always adds -cp\n+        \/\/ can't use ProcessTools.createLimitedTestJavaProcessBuilder as it always adds -cp\n","filename":"test\/jdk\/java\/lang\/instrument\/modules\/AppendToClassPathModuleTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"CondyNestedResolution\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"CondyNestedResolution\");\n","filename":"test\/jdk\/java\/lang\/invoke\/condy\/CondyNestedResolutionTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -30,5 +30,5 @@\n- * @run main\/othervm -Xint                   -Dpremature=false ReachabilityFenceTest\n- * @run main\/othervm -XX:TieredStopAtLevel=1 -Dpremature=true  ReachabilityFenceTest\n- * @run main\/othervm -XX:TieredStopAtLevel=2 -Dpremature=true  ReachabilityFenceTest\n- * @run main\/othervm -XX:TieredStopAtLevel=3 -Dpremature=true  ReachabilityFenceTest\n- * @run main\/othervm -XX:TieredStopAtLevel=4 -Dpremature=true  ReachabilityFenceTest\n+ * @run main\/othervm -Xint                           -Dpremature=false ReachabilityFenceTest\n+ * @run main\/othervm -Xbatch -XX:TieredStopAtLevel=1 -Dpremature=true  ReachabilityFenceTest\n+ * @run main\/othervm -Xbatch -XX:TieredStopAtLevel=2 -Dpremature=true  ReachabilityFenceTest\n+ * @run main\/othervm -Xbatch -XX:TieredStopAtLevel=3 -Dpremature=true  ReachabilityFenceTest\n+ * @run main\/othervm -Xbatch -XX:TieredStopAtLevel=4 -Dpremature=true  ReachabilityFenceTest\n@@ -57,1 +57,1 @@\n-     * The test methods should be appropriately compiled, therefore we do several iterations.\n+     * The test methods should be appropriately compiled, therefore we do several iterations and run with -Xbatch.\n","filename":"test\/jdk\/java\/lang\/ref\/ReachabilityFenceTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,3 @@\n+import jdk.test.lib.Platform;\n+import jdk.test.lib.NetworkConfiguration;\n+\n@@ -45,0 +48,3 @@\n+ * @library \/test\/lib\n+ * @build jdk.test.lib.NetworkConfiguration\n+ * @run main\/othervm Inet6AddressSerializationTest\n@@ -180,0 +186,1 @@\n+            String dName = netIF.getDisplayName();\n@@ -181,1 +188,0 @@\n-                String dName = netIF.getDisplayName();\n@@ -186,0 +192,7 @@\n+            \/\/ skip awdl and llw interfaces on macosx\n+            if (Platform.isOSX()) {\n+                if((dName != null) &&\n+                        ((dName.contains(\"awdl\")) || (dName.contains(\"llw\")))) {\n+                        continue;\n+                }\n+            }\n@@ -625,2 +638,2 @@\n-        } else if (!expectedNetworkInterface\n-                .equals(deserializedNetworkInterface)) {\n+        } else if (!NetworkConfiguration.isSameInterface(expectedNetworkInterface,\n+                      deserializedNetworkInterface)) {\n","filename":"test\/jdk\/java\/net\/Inet6Address\/serialize\/Inet6AddressSerializationTest.java","additions":17,"deletions":4,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -140,1 +140,1 @@\n-            checkDuration(startMillis, timeout-100, timeout+2000);\n+            checkDuration(startMillis, timeout-100, timeout+20_000);\n@@ -310,1 +310,1 @@\n-                checkDuration(startMillis, timeout-100, timeout+2000);\n+                checkDuration(startMillis, timeout-100, timeout+20_000);\n@@ -388,1 +388,1 @@\n-                checkDuration(startMillis, delay-100, delay+2000);\n+                checkDuration(startMillis, delay-100, delay+20_000);\n@@ -410,1 +410,1 @@\n-                checkDuration(startMillis, timeout-100, timeout+2000);\n+                checkDuration(startMillis, timeout-100, timeout+20_000);\n@@ -436,1 +436,1 @@\n-                checkDuration(startMillis, timeout-100, timeout+2000);\n+                checkDuration(startMillis, timeout-100, timeout+20_000);\n@@ -466,1 +466,1 @@\n-            checkDuration(startMillis, timeout-100, timeout+2000);\n+            checkDuration(startMillis, timeout-100, timeout+20_000);\n@@ -508,1 +508,1 @@\n-            checkDuration(startMillis, timeout-100, timeout+2000);\n+            checkDuration(startMillis, timeout-100, timeout+20_000);\n","filename":"test\/jdk\/java\/net\/Socket\/Timeouts.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -24,3 +24,0 @@\n-import com.sun.net.httpserver.HttpServer;\n-import com.sun.net.httpserver.HttpsConfigurator;\n-import com.sun.net.httpserver.HttpsServer;\n@@ -36,1 +33,0 @@\n-import org.testng.annotations.Test;\n@@ -45,2 +41,0 @@\n-import java.net.InetAddress;\n-import java.net.InetSocketAddress;\n@@ -49,1 +43,0 @@\n-import java.net.http.HttpHeaders;\n@@ -66,1 +59,1 @@\n-import java.util.concurrent.Flow;\n+import java.util.concurrent.Flow.Subscription;\n@@ -75,1 +68,0 @@\n-import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -102,0 +94,1 @@\n+    static final int REPEAT_RESPONSE = 3;\n@@ -316,1 +309,2 @@\n-            assertEquals(URI.create(body).getPath(), URI.create(uri2).getPath());\n+            Stream.of(body.split(\"\\n\")).forEach(u ->\n+                assertEquals(URI.create(u).getPath(), URI.create(uri2).getPath()));\n@@ -446,0 +440,1 @@\n+        var throwing = thrower;\n@@ -454,0 +449,3 @@\n+\n+            thrower = thrower(where, throwing);\n+\n@@ -471,6 +469,3 @@\n-                    Throwable throwable = t.getCause();\n-                    assert throwable != null;\n-\n-                    if (thrower.test(throwable)) {\n-                        System.out.println(now() + \"Got expected exception: \" + throwable);\n-                    } else throw causeNotFound(where, t);\n+                    Throwable throwable = findCause(t, thrower);\n+                    if (throwable == null) throw causeNotFound(where, t);\n+                    System.out.println(now() + \"Got expected exception: \" + throwable);\n@@ -661,0 +656,28 @@\n+    static final class BodyCFThrower implements Thrower {\n+        final Thrower thrower;\n+        BodyCFThrower(Thrower thrower) {\n+            this.thrower = thrower;\n+        }\n+        @Override\n+        public boolean test(Throwable throwable) {\n+            \/\/ In case of BODY_CF we also cancel the stream,\n+            \/\/ which can cause \"Stream XX cancelled\" to be reported\n+            return thrower.test(throwable) ||\n+                    throwable instanceof IOException io && (\n+                            io.getMessage().matches(\"Stream [0-9]+ cancelled\") ||\n+                            io.getMessage().equals(\"subscription cancelled\")\n+                    );\n+        }\n+        @Override\n+        public void accept(Where where) {\n+            thrower.accept(where);\n+        }\n+    }\n+\n+    static Thrower thrower(Where where, Thrower thrower) {\n+        return switch (where) {\n+            case BODY_CF -> new BodyCFThrower(thrower);\n+            default -> thrower;\n+        };\n+    }\n+\n@@ -663,1 +686,2 @@\n-        volatile boolean onSubscribeCalled;\n+        volatile Subscription subscription;\n+        final CompletableFuture<Subscription> subscriptionCF = new CompletableFuture<>();\n@@ -671,1 +695,1 @@\n-        public void onSubscribe(Flow.Subscription subscription) {\n+        public void onSubscribe(Subscription subscription) {\n@@ -673,1 +697,1 @@\n-            onSubscribeCalled = true;\n+            this.subscription = subscription;\n@@ -676,0 +700,5 @@\n+            subscriptionCF.complete(subscription);\n+        }\n+\n+        boolean onSubscribeCalled() {\n+            return subscription != null;\n@@ -681,1 +710,1 @@\n-            assertTrue(onSubscribeCalled);\n+            assertTrue(onSubscribeCalled(), \"onNext called before onSubscribe\");\n@@ -689,1 +718,1 @@\n-            assertTrue(onSubscribeCalled);\n+            assertTrue(onSubscribeCalled(), \"onError called before onSubscribe\");\n@@ -697,1 +726,1 @@\n-            assertTrue(onSubscribeCalled, \"onComplete called before onSubscribe\");\n+            assertTrue(onSubscribeCalled(), \"onComplete called before onSubscribe\");\n@@ -705,0 +734,1 @@\n+            boolean shouldCancel = false;\n@@ -708,0 +738,1 @@\n+                shouldCancel = true;\n@@ -709,0 +740,7 @@\n+            } finally {\n+                \/\/ if a BodySubscriber returns a failed future, it\n+                \/\/ should take responsibility for cancelling the\n+                \/\/ subscription explicitly if needed.\n+                if (shouldCancel) {\n+                    subscriptionCF.thenAccept(Subscription::cancel);\n+                }\n@@ -788,2 +826,2 @@\n-            byte[] resp = t.getRequestURI().toString().getBytes(StandardCharsets.UTF_8);\n-            t.sendResponseHeaders(200, resp.length);  \/\/fixed content length\n+            byte[] resp = (t.getRequestURI() + \"\\n\").getBytes(StandardCharsets.UTF_8);\n+            t.sendResponseHeaders(200, resp.length * 3);  \/\/fixed content length\n@@ -791,1 +829,4 @@\n-                os.write(resp);\n+                for (int i=0 ; i < REPEAT_RESPONSE; i++) {\n+                    os.write(resp);\n+                    os.flush();\n+                }\n@@ -800,1 +841,1 @@\n-            byte[] resp = t.getRequestURI().toString().getBytes(StandardCharsets.UTF_8);\n+            byte[] resp = (t.getRequestURI() + \"\\n\").getBytes(StandardCharsets.UTF_8);\n@@ -806,1 +847,4 @@\n-                os.write(resp);\n+                for (int i=0 ; i < REPEAT_RESPONSE; i++) {\n+                    os.write(resp);\n+                    os.flush();\n+                }\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingSubscribers.java","additions":71,"deletions":27,"binary":false,"changes":98,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @run main\/othervm Connect\n@@ -33,1 +34,1 @@\n-import java.nio.charset.*;\n+import java.time.Instant;\n@@ -40,0 +41,2 @@\n+import static java.nio.charset.StandardCharsets.US_ASCII;\n+\n@@ -42,1 +45,6 @@\n-    static PrintStream log = System.err;\n+    static final PrintStream err = System.err;\n+    static final String TIME_STAMP = Instant.now().toString();\n+    static final String MESSAGE = \"Hello \" + TIME_STAMP;\n+    static final String OTHER = \"Hey \" + TIME_STAMP;\n+    static final String RESPONSE = \"Hi \" + TIME_STAMP;\n+    static final int MAX = Math.max(256, MESSAGE.getBytes(US_ASCII).length + 16);\n@@ -45,0 +53,3 @@\n+        assert MAX > MESSAGE.getBytes(US_ASCII).length;\n+        assert MAX > OTHER.getBytes(US_ASCII).length;\n+        assert MAX > RESPONSE.getBytes(US_ASCII).length;\n@@ -102,2 +113,3 @@\n-                ByteBuffer bb = ByteBuffer.allocateDirect(256);\n-                bb.put(\"hello\".getBytes());\n+                byte[] bytes = MESSAGE.getBytes(US_ASCII);\n+                ByteBuffer bb = ByteBuffer.allocateDirect(MAX);\n+                bb.put(bytes);\n@@ -105,1 +117,1 @@\n-                log.println(\"Initiator connecting to \" + connectSocketAddress);\n+                err.println(\"Initiator connecting to: \" + connectSocketAddress);\n@@ -107,0 +119,1 @@\n+                err.println(\"Initiator bound to: \" + dc.getLocalAddress());\n@@ -109,1 +122,1 @@\n-                log.println(\"Initiator attempting to write to Responder at \" + connectSocketAddress.toString());\n+                err.println(\"Initiator attempting to write to Responder at \" + connectSocketAddress);\n@@ -116,3 +129,10 @@\n-                    InetSocketAddress otherAddress = new InetSocketAddress(loopback, (port == 3333 ? 3332 : 3333));\n-                    log.println(\"Testing if Initiator throws AlreadyConnectedException\" + otherAddress.toString());\n-                    dc.send(bb, otherAddress);\n+                    try (DatagramChannel other = DatagramChannel.open()) {\n+                        InetSocketAddress otherAddress = new InetSocketAddress(loopback, 0);\n+                        other.bind(otherAddress);\n+                        err.println(\"Testing if Initiator throws AlreadyConnectedException\");\n+                        otherAddress = (InetSocketAddress) other.getLocalAddress();\n+                        assert port != otherAddress.getPort();\n+                        assert !connectSocketAddress.equals(otherAddress);\n+                        err.printf(\"Initiator sending \\\"%s\\\" to other address %s%n\", OTHER, otherAddress);\n+                        dc.send(ByteBuffer.wrap(OTHER.getBytes(US_ASCII)), otherAddress);\n+                    }\n@@ -122,0 +142,1 @@\n+                    err.println(\"Initiator got expected \" + ace);\n@@ -124,8 +145,19 @@\n-                \/\/ Read a reply\n-                bb.flip();\n-                log.println(\"Initiator waiting to read\");\n-                dc.read(bb);\n-                bb.flip();\n-                CharBuffer cb = StandardCharsets.US_ASCII.\n-                        newDecoder().decode(bb);\n-                log.println(\"Initiator received from Responder at \" + connectSocketAddress + \": \" + cb);\n+                \/\/ wait for response\n+                while (true) {\n+                    \/\/ zero out buffer\n+                    bb.clear();\n+                    bb.put(new byte[bb.remaining()]);\n+                    bb.flip();\n+\n+                    \/\/ Read a reply\n+                    err.println(\"Initiator waiting to read\");\n+                    dc.read(bb);\n+                    bb.flip();\n+                    CharBuffer cb = US_ASCII.newDecoder().decode(bb);\n+                    err.println(\"Initiator received from Responder at \" + connectSocketAddress + \": \" + cb);\n+                    if (!RESPONSE.equals(cb.toString())) {\n+                        err.println(\"Initiator received unexpected message: continue waiting\");\n+                        continue;\n+                    }\n+                    break;\n+                }\n@@ -133,1 +165,1 @@\n-                log.println(\"Initiator threw exception: \" + ex);\n+                err.println(\"Initiator threw exception: \" + ex);\n@@ -136,1 +168,1 @@\n-                log.println(\"Initiator finished\");\n+                err.println(\"Initiator finished\");\n@@ -159,0 +191,1 @@\n+            ByteBuffer bb = ByteBuffer.allocateDirect(MAX);\n@@ -160,14 +193,24 @@\n-                \/\/ Listen for a message\n-                ByteBuffer bb = ByteBuffer.allocateDirect(100);\n-                log.println(\"Responder waiting to receive\");\n-                SocketAddress sa = dc.receive(bb);\n-                bb.flip();\n-                CharBuffer cb = StandardCharsets.US_ASCII.\n-                        newDecoder().decode(bb);\n-                log.println(\"Responder received from Initiator at\" + sa +  \": \" + cb);\n-\n-                \/\/ Reply to sender\n-                dc.connect(sa);\n-                bb.flip();\n-                log.println(\"Responder attempting to write: \" + dc.getRemoteAddress().toString());\n-                dc.write(bb);\n+                while (true) {\n+                    \/\/ Listen for a message\n+                    err.println(\"Responder waiting to receive\");\n+                    SocketAddress sa = dc.receive(bb);\n+                    bb.flip();\n+                    CharBuffer cb = US_ASCII.\n+                            newDecoder().decode(bb);\n+                    err.println(\"Responder received from Initiator at \" + sa + \": \" + cb);\n+                    if (!MESSAGE.equals(cb.toString())) {\n+                        err.println(\"Responder received unexpected message: continue waiting\");\n+                        bb.clear();\n+                        continue;\n+                    }\n+\n+                    \/\/ Reply to sender\n+                    dc.connect(sa);\n+                    bb.clear();\n+                    bb.put(RESPONSE.getBytes(US_ASCII));\n+                    bb.flip();\n+                    err.println(\"Responder attempting to write: \" + dc.getRemoteAddress());\n+                    dc.write(bb);\n+                    bb.flip();\n+                    break;\n+                }\n@@ -175,1 +218,1 @@\n-                log.println(\"Responder threw exception: \" + ex);\n+                err.println(\"Responder threw exception: \" + ex);\n@@ -178,1 +221,1 @@\n-                log.println(\"Responder finished\");\n+                err.println(\"Responder finished\");\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/Connect.java","additions":79,"deletions":36,"binary":false,"changes":115,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-            ProcessTools.createJavaProcessBuilder(LotsOfUpdates.class.getName()));\n+            ProcessTools.createLimitedTestJavaProcessBuilder(LotsOfUpdates.class.getName()));\n","filename":"test\/jdk\/java\/nio\/channels\/Selector\/LotsOfUpdatesTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-            = ProcessTools.createTestJvm(Default.class.getName());\n+            = ProcessTools.createTestJavaProcessBuilder(Default.class.getName());\n","filename":"test\/jdk\/java\/nio\/charset\/Charset\/DefaultCharsetTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @modules java.base\/jdk.internal.util\n@@ -36,0 +37,1 @@\n+import java.util.ArrayList;\n@@ -39,0 +41,3 @@\n+import jdk.internal.util.OperatingSystem;\n+import jdk.internal.util.OSVersion;\n+\n@@ -44,3 +49,0 @@\n-    private static final boolean IS_UNIX =\n-        ! System.getProperty(\"os.name\").startsWith(\"Windows\");\n-\n@@ -82,1 +84,1 @@\n-            if (IS_UNIX) {\n+            if (!OperatingSystem.isWindows()) {\n@@ -101,1 +103,1 @@\n-    static int checkContentTypes(ExType[] exTypes)\n+    static int checkContentTypes(List<ExType> exTypes)\n@@ -104,3 +106,3 @@\n-        for (int i = 0; i < exTypes.length; i++) {\n-            String extension = exTypes[i].extension();\n-            List<String> expectedTypes = exTypes[i].expectedTypes();\n+        for (ExType exType : exTypes) {\n+            String extension = exType.extension();\n+            List<String> expectedTypes = exType.expectedTypes();\n@@ -158,34 +160,49 @@\n-        var exTypes = new ExType[] {\n-                new ExType(\"adoc\", List.of(\"text\/plain\")),\n-                new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\", \"application\/x-bzip\")),\n-                new ExType(\"css\", List.of(\"text\/css\")),\n-                new ExType(\"csv\", List.of(\"text\/csv\")),\n-                new ExType(\"doc\", List.of(\"application\/msword\")),\n-                new ExType(\"docx\", List.of(\"application\/vnd.openxmlformats-officedocument.wordprocessingml.document\")),\n-                new ExType(\"gz\", List.of(\"application\/gzip\", \"application\/x-gzip\")),\n-                new ExType(\"jar\", List.of(\"application\/java-archive\", \"application\/x-java-archive\", \"application\/jar\")),\n-                new ExType(\"jpg\", List.of(\"image\/jpeg\")),\n-                new ExType(\"js\", List.of(\"text\/plain\", \"text\/javascript\", \"application\/javascript\")),\n-                new ExType(\"json\", List.of(\"application\/json\")),\n-                new ExType(\"markdown\", List.of(\"text\/markdown\")),\n-                new ExType(\"md\", List.of(\"text\/markdown\", \"application\/x-genesis-rom\")),\n-                new ExType(\"mp3\", List.of(\"audio\/mpeg\")),\n-                new ExType(\"mp4\", List.of(\"video\/mp4\")),\n-                new ExType(\"odp\", List.of(\"application\/vnd.oasis.opendocument.presentation\")),\n-                new ExType(\"ods\", List.of(\"application\/vnd.oasis.opendocument.spreadsheet\")),\n-                new ExType(\"odt\", List.of(\"application\/vnd.oasis.opendocument.text\")),\n-                new ExType(\"pdf\", List.of(\"application\/pdf\")),\n-                new ExType(\"php\", List.of(\"text\/plain\", \"text\/php\", \"application\/x-php\")),\n-                new ExType(\"png\", List.of(\"image\/png\")),\n-                new ExType(\"ppt\", List.of(\"application\/vnd.ms-powerpoint\")),\n-                new ExType(\"pptx\",List.of(\"application\/vnd.openxmlformats-officedocument.presentationml.presentation\")),\n-                new ExType(\"py\", List.of(\"text\/plain\", \"text\/x-python\", \"text\/x-python-script\")),\n-                new ExType(\"rar\", List.of(\"application\/rar\", \"application\/vnd.rar\", \"application\/x-rar\", \"application\/x-rar-compressed\")),\n-                new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\")),\n-                new ExType(\"webm\", List.of(\"video\/webm\")),\n-                new ExType(\"webp\", List.of(\"image\/webp\")),\n-                new ExType(\"xls\", List.of(\"application\/vnd.ms-excel\")),\n-                new ExType(\"xlsx\", List.of(\"application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet\")),\n-                new ExType(\"7z\", List.of(\"application\/x-7z-compressed\")),\n-                new ExType(\"wasm\", List.of(\"application\/wasm\")),\n-        };\n+        List<ExType> exTypes = new ArrayList<ExType>();\n+\n+        \/\/ extensions with consistent content type\n+        exTypes.add(new ExType(\"adoc\", List.of(\"text\/plain\")));\n+        exTypes.add(new ExType(\"css\", List.of(\"text\/css\")));\n+        exTypes.add(new ExType(\"doc\", List.of(\"application\/msword\")));\n+        exTypes.add(new ExType(\"docx\", List.of(\"application\/vnd.openxmlformats-officedocument.wordprocessingml.document\")));\n+        exTypes.add(new ExType(\"gz\", List.of(\"application\/gzip\", \"application\/x-gzip\")));\n+        exTypes.add(new ExType(\"jar\", List.of(\"application\/java-archive\", \"application\/x-java-archive\", \"application\/jar\")));\n+        exTypes.add(new ExType(\"jpg\", List.of(\"image\/jpeg\")));\n+        exTypes.add(new ExType(\"js\", List.of(\"text\/plain\", \"text\/javascript\", \"application\/javascript\")));\n+        exTypes.add(new ExType(\"json\", List.of(\"application\/json\")));\n+        exTypes.add(new ExType(\"markdown\", List.of(\"text\/markdown\")));\n+        exTypes.add(new ExType(\"md\", List.of(\"text\/markdown\", \"application\/x-genesis-rom\")));\n+        exTypes.add(new ExType(\"mp3\", List.of(\"audio\/mpeg\")));\n+        exTypes.add(new ExType(\"mp4\", List.of(\"video\/mp4\")));\n+        exTypes.add(new ExType(\"odp\", List.of(\"application\/vnd.oasis.opendocument.presentation\")));\n+        exTypes.add(new ExType(\"ods\", List.of(\"application\/vnd.oasis.opendocument.spreadsheet\")));\n+        exTypes.add(new ExType(\"odt\", List.of(\"application\/vnd.oasis.opendocument.text\")));\n+        exTypes.add(new ExType(\"pdf\", List.of(\"application\/pdf\")));\n+        exTypes.add(new ExType(\"php\", List.of(\"text\/plain\", \"text\/php\", \"application\/x-php\")));\n+        exTypes.add(new ExType(\"png\", List.of(\"image\/png\")));\n+        exTypes.add(new ExType(\"ppt\", List.of(\"application\/vnd.ms-powerpoint\")));\n+        exTypes.add(new ExType(\"pptx\", List.of(\"application\/vnd.openxmlformats-officedocument.presentationml.presentation\")));\n+        exTypes.add(new ExType(\"py\", List.of(\"text\/plain\", \"text\/x-python\", \"text\/x-python-script\")));\n+        exTypes.add(new ExType(\"webm\", List.of(\"video\/webm\")));\n+        exTypes.add(new ExType(\"webp\", List.of(\"image\/webp\")));\n+        exTypes.add(new ExType(\"xls\", List.of(\"application\/vnd.ms-excel\")));\n+        exTypes.add(new ExType(\"xlsx\", List.of(\"application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet\")));\n+        exTypes.add(new ExType(\"wasm\", List.of(\"application\/wasm\")));\n+\n+        \/\/ extensions with content type that differs on Windows 11+\n+        if (OperatingSystem.isWindows() &&\n+            (System.getProperty(\"os.name\").endsWith(\"11\") ||\n+                new OSVersion(10, 0).compareTo(OSVersion.current()) > 0)) {\n+            System.out.println(\"Windows 11+ detected: using different types\");\n+            exTypes.add(new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\", \"application\/x-bzip\", \"application\/x-compressed\")));\n+            exTypes.add(new ExType(\"csv\", List.of(\"text\/csv\", \"application\/vnd.ms-excel\")));\n+            exTypes.add(new ExType(\"rar\", List.of(\"application\/rar\", \"application\/vnd.rar\", \"application\/x-rar\", \"application\/x-rar-compressed\", \"application\/x-compressed\")));\n+            exTypes.add(new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\", \"application\/msword\")));\n+            exTypes.add(new ExType(\"7z\", List.of(\"application\/x-7z-compressed\", \"application\/x-compressed\")));\n+        } else {\n+            exTypes.add(new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\", \"application\/x-bzip\")));\n+            exTypes.add(new ExType(\"csv\", List.of(\"text\/csv\")));\n+            exTypes.add(new ExType(\"rar\", List.of(\"application\/rar\", \"application\/vnd.rar\", \"application\/x-rar\", \"application\/x-rar-compressed\")));\n+            exTypes.add(new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\")));\n+            exTypes.add(new ExType(\"7z\", List.of(\"application\/x-7z-compressed\")));\n+        }\n+\n","filename":"test\/jdk\/java\/nio\/file\/Files\/probeContentType\/Basic.java","additions":60,"deletions":43,"binary":false,"changes":103,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,1 @@\n-            pb = ProcessTools.createTestJvm(option, MacPath.class.getName());\n+            pb = ProcessTools.createTestJavaProcessBuilder(option, MacPath.class.getName());\n@@ -54,1 +54,1 @@\n-            pb = ProcessTools.createTestJvm(MacPath.class.getName());\n+            pb = ProcessTools.createTestJavaProcessBuilder(MacPath.class.getName());\n","filename":"test\/jdk\/java\/nio\/file\/Path\/MacPathTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n- * @bug 4313887 6838333 7029979 8295753\n+ * @bug 4313887 6838333 7029979\n@@ -35,2 +35,0 @@\n-import static java.nio.file.LinkOption.*;\n-\n@@ -40,2 +38,0 @@\n-    static boolean supportsLinks;\n-\n@@ -45,2 +41,0 @@\n-            supportsLinks = TestUtil.supportsLinks(dir);\n-\n@@ -52,5 +46,0 @@\n-\n-            \/\/ toRealPath method\n-            testToRealPath(dir);\n-\n-\n@@ -95,130 +84,0 @@\n-    \/**\n-     * Exercise toRealPath method\n-     *\/\n-    static void testToRealPath(Path dir) throws IOException {\n-        final Path file = Files.createFile(dir.resolve(\"foo\"));\n-        final Path link = dir.resolve(\"link\");\n-\n-        \/**\n-         * Test: toRealPath() will access same file as toRealPath(NOFOLLOW_LINKS)\n-         *\/\n-        assertTrue(Files.isSameFile(file.toRealPath(), file.toRealPath(NOFOLLOW_LINKS)));\n-\n-        \/**\n-         * Test: toRealPath should fail if file does not exist\n-         *\/\n-        Path doesNotExist = dir.resolve(\"DoesNotExist\");\n-        try {\n-            doesNotExist.toRealPath();\n-            throw new RuntimeException(\"IOException expected\");\n-        } catch (IOException expected) {\n-        }\n-        try {\n-            doesNotExist.toRealPath(NOFOLLOW_LINKS);\n-            throw new RuntimeException(\"IOException expected\");\n-        } catch (IOException expected) {\n-        }\n-\n-        \/**\n-         * Test: toRealPath() should resolve links\n-         *\/\n-        if (supportsLinks) {\n-            Path resolvedFile = file;\n-            if (Platform.isWindows()) {\n-                \/\/ Path::toRealPath does not work with environments using the\n-                \/\/ legacy subst mechanism. This is a workaround to keep the\n-                \/\/ test working if 'dir' points to a location on a subst drive.\n-                \/\/ See JDK-8213216.\n-                \/\/\n-                Path tempLink = dir.resolve(\"tempLink\");\n-                Files.createSymbolicLink(tempLink, dir.toAbsolutePath());\n-                Path resolvedDir = tempLink.toRealPath();\n-                Files.delete(tempLink);\n-                resolvedFile = resolvedDir.resolve(file.getFileName());\n-            }\n-\n-            Files.createSymbolicLink(link, resolvedFile.toAbsolutePath());\n-            assertTrue(link.toRealPath().equals(resolvedFile.toRealPath()));\n-            Files.delete(link);\n-        }\n-\n-        \/**\n-         * Test: toRealPath(NOFOLLOW_LINKS) should not resolve links\n-         *\/\n-        if (supportsLinks) {\n-            Files.createSymbolicLink(link, file.toAbsolutePath());\n-            assertTrue(link.toRealPath(NOFOLLOW_LINKS).getFileName().equals(link.getFileName()));\n-            Files.delete(link);\n-        }\n-\n-        \/**\n-         * Test: toRealPath(NOFOLLOW_LINKS) with broken link\n-         *\/\n-        if (supportsLinks) {\n-            Path broken = Files.createSymbolicLink(link, doesNotExist);\n-            assertTrue(link.toRealPath(NOFOLLOW_LINKS).getFileName().equals(link.getFileName()));\n-            Files.delete(link);\n-        }\n-\n-        \/**\n-         * Test: toRealPath should eliminate \".\"\n-         *\/\n-        assertTrue(dir.resolve(\".\").toRealPath().equals(dir.toRealPath()));\n-        assertTrue(dir.resolve(\".\").toRealPath(NOFOLLOW_LINKS).equals(dir.toRealPath(NOFOLLOW_LINKS)));\n-\n-        \/**\n-         * Test: toRealPath should eliminate \"..\" when it doesn't follow a\n-         *       symbolic link\n-         *\/\n-        Path subdir = Files.createDirectory(dir.resolve(\"subdir\"));\n-        assertTrue(subdir.resolve(\"..\").toRealPath().equals(dir.toRealPath()));\n-        assertTrue(subdir.resolve(\"..\").toRealPath(NOFOLLOW_LINKS).equals(dir.toRealPath(NOFOLLOW_LINKS)));\n-\n-        \/**\n-         * Test: toRealPath yields accurate case of path elements when\n-         *       not following links\n-         *\/\n-        if (Platform.isOSX()) {\n-            \/\/ theTarget = dir\/subdir\/theTarget\n-            Path theTarget = Path.of(subdir.toString(), \"theTarget\");\n-            Files.createFile(theTarget);\n-\n-            \/\/ dir\/theLink -> dir\/subdir\n-            Path theLink = Path.of(dir.toString(), \"theLink\");\n-            Files.createSymbolicLink(theLink, subdir);\n-\n-            \/\/ thePath = dir\/thelink\/thetarget (all lower case)\n-            Path thePath = Path.of(dir.toString(), \"thelink\", \"thetarget\");\n-            Path noFollow = thePath.toRealPath(NOFOLLOW_LINKS);\n-            int nc = noFollow.getNameCount();\n-\n-            \/\/ Real path should retain case as dir\/theLink\/theTarget\n-            assertTrue(noFollow.getName(nc - 2).equals(Path.of(\"theLink\")));\n-            assertTrue(noFollow.getName(nc - 1).equals(Path.of(\"theTarget\")));\n-            assertTrue(noFollow.toString().equals(\n-                Path.of(dir.toString(), \"theLink\", \"theTarget\").toString()));\n-\n-            \/\/ Test where a link is preceded by \"..\" in the path\n-            Path superBeforeLink =\n-                Path.of(subdir.toString(), \"..\", \"thelink\", \"thetarget\");\n-            noFollow = superBeforeLink.toRealPath(NOFOLLOW_LINKS);\n-            nc = noFollow.getNameCount();\n-            assertTrue(noFollow.getName(nc - 2).equals(Path.of(\"theLink\")));\n-            assertTrue(noFollow.getName(nc - 1).equals(Path.of(\"theTarget\")));\n-\n-            \/\/ Test where a link is followed by \"..\" in the path\n-            Path linkBeforeSuper =\n-                Path.of(dir.toString(), \"thelink\", \"..\", \"subdir\", \"thetarget\");\n-            noFollow = linkBeforeSuper.toRealPath(NOFOLLOW_LINKS);\n-            nc = noFollow.getNameCount();\n-            assertTrue(noFollow.getName(nc - 4).equals(Path.of(\"theLink\")));\n-            assertTrue(noFollow.getName(nc - 1).equals(Path.of(\"theTarget\")));\n-\n-            Files.delete(theTarget);\n-        }\n-\n-        \/\/ clean-up\n-        Files.delete(subdir);\n-        Files.delete(file);\n-    }\n-\n","filename":"test\/jdk\/java\/nio\/file\/Path\/Misc.java","additions":2,"deletions":143,"binary":false,"changes":145,"status":"modified"},{"patch":"@@ -0,0 +1,191 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+ * @bug 8295753\n+ * @summary Verify correct operation of Path.toRealPath\n+ * @library .. \/test\/lib\n+ * @build ToRealPath jdk.test.lib.Platform\n+ * @run junit ToRealPath\n+ *\/\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+import jdk.test.lib.Platform;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.condition.EnabledIf;\n+import org.junit.jupiter.api.condition.EnabledOnOs;\n+import org.junit.jupiter.api.condition.OS;\n+\n+import static java.nio.file.LinkOption.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+\n+public class ToRealPath {\n+    static final boolean SUPPORTS_LINKS;\n+    static final Path DIR;\n+    static final Path SUBDIR;\n+    static final Path FILE;\n+    static final Path LINK;\n+\n+    static {\n+        try {\n+            DIR = TestUtil.createTemporaryDirectory();\n+            SUBDIR = Files.createDirectory(DIR.resolve(\"subdir\"));\n+            FILE = Files.createFile(DIR.resolve(\"foo\"));\n+            LINK = DIR.resolve(\"link\");\n+            SUPPORTS_LINKS = TestUtil.supportsLinks(DIR);\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);\n+        }\n+    };\n+\n+    public boolean supportsLinks() {\n+        return SUPPORTS_LINKS;\n+    }\n+\n+    @Test\n+    public void locateSameFile() throws IOException {\n+        assertTrue(Files.isSameFile(FILE.toRealPath(),\n+                                    FILE.toRealPath(NOFOLLOW_LINKS)));\n+    }\n+\n+    @Test\n+    public void failNotExist() {\n+        Path doesNotExist = DIR.resolve(\"DoesNotExist\");\n+        assertThrows(IOException.class, () -> doesNotExist.toRealPath());\n+    }\n+\n+    @Test\n+    public void failNotExistNoFollow() {\n+        Path doesNotExist = DIR.resolve(\"DoesNotExist\");\n+        assertThrows(IOException.class,\n+                     () -> doesNotExist.toRealPath(NOFOLLOW_LINKS));\n+    }\n+\n+    @EnabledIf(\"supportsLinks\")\n+    @Test\n+    public void shouldResolveLinks() throws IOException {\n+        Path resolvedFile = FILE;\n+        if (Platform.isWindows()) {\n+            \/\/ Path::toRealPath does not work with environments using the\n+            \/\/ legacy subst mechanism. This is a workaround to keep the\n+            \/\/ test working if 'dir' points to a location on a subst drive.\n+            \/\/ See JDK-8213216.\n+            \/\/\n+            Path tempLink = DIR.resolve(\"tempLink\");\n+            Files.createSymbolicLink(tempLink, DIR.toAbsolutePath());\n+            Path resolvedDir = tempLink.toRealPath();\n+            Files.delete(tempLink);\n+            resolvedFile = resolvedDir.resolve(FILE.getFileName());\n+        }\n+\n+        Files.createSymbolicLink(LINK, resolvedFile.toAbsolutePath());\n+        assertTrue(LINK.toRealPath().equals(resolvedFile.toRealPath()));\n+        Files.delete(LINK);\n+    }\n+\n+    @Test\n+    @EnabledIf(\"supportsLinks\")\n+    public void shouldNotResolveLinks() throws IOException {\n+        Files.createSymbolicLink(LINK, FILE.toAbsolutePath());\n+        assertEquals(LINK.toRealPath(NOFOLLOW_LINKS).getFileName(),\n+                     LINK.getFileName());\n+        Files.delete(LINK);\n+    }\n+\n+    @Test\n+    public void eliminateDot() throws IOException {\n+        assertEquals(DIR.resolve(\".\").toRealPath(),\n+                     DIR.toRealPath());\n+    }\n+\n+    @Test\n+    public void eliminateDotNoFollow() throws IOException {\n+        assertEquals(DIR.resolve(\".\").toRealPath(NOFOLLOW_LINKS),\n+                     DIR.toRealPath(NOFOLLOW_LINKS));\n+    }\n+\n+    @Test\n+    public void eliminateDots() throws IOException {\n+        assertEquals(SUBDIR.resolve(\"..\").toRealPath(),\n+                     DIR.toRealPath());\n+    }\n+\n+    @Test\n+    public void eliminateDotsNoFollow() throws IOException {\n+        assertEquals(SUBDIR.resolve(\"..\").toRealPath(NOFOLLOW_LINKS),\n+                     DIR.toRealPath(NOFOLLOW_LINKS));\n+    }\n+\n+    @Test\n+    @EnabledOnOs(OS.MAC)\n+    public final void macOSTests() throws IOException {\n+        \/\/ theTarget = dir\/subdir\/theTarget\n+        Path theTarget = Path.of(SUBDIR.toString(), \"theTarget\");\n+        Files.createFile(theTarget);\n+\n+        \/\/ dir\/theLink -> dir\/subdir\n+        Path theLink = Path.of(DIR.toString(), \"theLink\");\n+        Files.createSymbolicLink(theLink, SUBDIR);\n+\n+        \/\/ thePath = dir\/thelink\/thetarget (all lower case)\n+        Path thePath = Path.of(DIR.toString(), \"thelink\", \"thetarget\");\n+        Path noFollow = thePath.toRealPath(NOFOLLOW_LINKS);\n+        int nc = noFollow.getNameCount();\n+\n+        \/\/ Real path should retain case as dir\/theLink\/theTarget\n+        assertEquals(noFollow.getName(nc - 2), Path.of(\"theLink\"));\n+        assertEquals(noFollow.getName(nc - 1), Path.of(\"theTarget\"));\n+        assertEquals(noFollow.toString(),\n+                     Path.of(DIR.toString(), \"theLink\", \"theTarget\").toString());\n+\n+        \/\/ Test where a link is preceded by \"..\" in the path\n+        Path superBeforeLink =\n+            Path.of(SUBDIR.toString(), \"..\", \"thelink\", \"thetarget\");\n+        noFollow = superBeforeLink.toRealPath(NOFOLLOW_LINKS);\n+        nc = noFollow.getNameCount();\n+        assertEquals(noFollow.getName(nc - 2), Path.of(\"theLink\"));\n+        assertEquals(noFollow.getName(nc - 1), Path.of(\"theTarget\"));\n+\n+        \/\/ Test where a link is followed by \"..\" in the path\n+        Path linkBeforeSuper =\n+            Path.of(DIR.toString(), \"thelink\", \"..\", \"subdir\", \"thetarget\");\n+        noFollow = linkBeforeSuper.toRealPath(NOFOLLOW_LINKS);\n+        nc = noFollow.getNameCount();\n+        assertEquals(noFollow.getName(nc - 4), Path.of(\"theLink\"));\n+        assertEquals(noFollow.getName(nc - 1), Path.of(\"theTarget\"));\n+\n+        Files.delete(theTarget);\n+    }\n+\n+    @AfterAll\n+    public static void cleanup() throws IOException {\n+        Files.delete(SUBDIR);\n+        Files.delete(FILE);\n+    }\n+}\n","filename":"test\/jdk\/java\/nio\/file\/Path\/ToRealPath.java","additions":191,"deletions":0,"binary":false,"changes":191,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-        String[] keytoolCmd = new String[command.length + 1];\n+        String[] keytoolCmd = new String[command.length + 3];\n@@ -66,1 +66,4 @@\n-            System.arraycopy(command, 0, keytoolCmd, 1, command.length);\n+            \/\/ Ensure the keytool process is always ran under English locale\n+            keytoolCmd[1] = \"-J-Duser.language=en\";\n+            keytoolCmd[2] = \"-J-Duser.country=US\";\n+            System.arraycopy(command, 0, keytoolCmd, 3, command.length);\n","filename":"test\/jdk\/java\/security\/KeyStore\/PKCS12\/Utils.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,1 +75,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -88,1 +88,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n+        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/security\/SignedJar\/SignedJarWithCustomClassLoader.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -192,1 +192,1 @@\n-        boolean readyStatus = rootOcsp.awaitServerReady(5, TimeUnit.SECONDS);\n+        boolean readyStatus = rootOcsp.awaitServerReady(60, TimeUnit.SECONDS);\n","filename":"test\/jdk\/java\/security\/cert\/CertPathValidator\/OCSP\/OCSPTimeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,153 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6801704\n+ * @summary Test the expected behavior for a wide range of patterns (both\n+ *          correct and incorrect). This test documents the behavior of incorrect\n+ *          ChoiceFormat patterns either throwing an exception, or discarding\n+ *          the incorrect portion of a pattern.\n+ * @run junit PatternsTest\n+ *\/\n+\n+import java.text.ChoiceFormat;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertDoesNotThrow;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.params.provider.Arguments.arguments;\n+\n+public class PatternsTest {\n+\n+    private static final String ERR1 =\n+            \"Each interval must contain a number before a format\";\n+    private static final String ERR2 =\n+            \"Incorrect order of intervals, must be in ascending order\";\n+\n+    \/\/ Check that some valid patterns do not throw an exception. Check\n+    \/\/ them against the expected values they should be formatted as.\n+    @ParameterizedTest\n+    @MethodSource\n+    public void validPatternsTest(String pattern, String[] expectedValues) {\n+        var fmt = new ChoiceFormat(pattern);\n+        for (int i=1; i<=expectedValues.length; i++) {\n+            assertEquals(expectedValues[i-1], fmt.format(i),\n+                    String.format(\"ChoiceFormat formatted %s incorrectly:\", i));\n+        }\n+    }\n+\n+    \/\/ Valid patterns ranging from normal appearing to odd. These should not\n+    \/\/ throw an exception or discard any portions of the pattern.\n+    private static Arguments[] validPatternsTest() {\n+        return new Arguments[] {\n+                \/\/ Multi pattern with trailing empty string Format\n+                arguments(\"1#foo|2#bar|3#\", new String[]{\"foo\", \"bar\", \"\"}),\n+                \/\/ Multi patten with trailing '|'\n+                arguments(\"1#foo|2#bar|\", new String[]{\"foo\", \"bar\"}),\n+                \/\/ Using a '>' (not a Relation) within a Format\n+                arguments(\"1#foo|2#bar>\", new String[]{\"foo\", \"bar>\"}),\n+                \/\/ Standard Multi Pattern\n+                arguments(\"1#foo|2#bar\", new String[]{\"foo\", \"bar\"}),\n+                \/\/ Same numerical value Limits, different Relations\n+                arguments(\"1#foo|1<baz\", new String[]{\"foo\", \"baz\"}),\n+                \/\/ Standard Single Pattern\n+                arguments(\"1#foo\", new String[]{\"foo\"}),\n+                \/\/ Single pattern with empty string Format\n+                arguments(\"1#\", new String[]{\"\"})\n+        };\n+    }\n+\n+    \/\/ Check that the incorrect pattern throws an IAE with the desired error msg\n+    \/\/ This also tests applyPattern, as the ChoiceFormat constructor calls applyPattern\n+    @ParameterizedTest\n+    @MethodSource\n+    public void invalidPatternsThrowsTest(String pattern, String errMsg) {\n+        var ex = assertThrows(IllegalArgumentException.class,\n+                () -> new ChoiceFormat(pattern));\n+        assertEquals(errMsg, ex.getMessage());\n+    }\n+\n+    \/\/ Variety of patterns that break the ChoiceFormat pattern syntax and throw\n+    \/\/ an exception.\n+    private static Arguments[] invalidPatternsThrowsTest() {\n+        return new Arguments[] {\n+                arguments(\"#foo\", ERR1), \/\/ No Limit\n+                arguments(\"0#foo|#|1#bar\", ERR1), \/\/ Missing Relation in SubPattern\n+                arguments(\"#|\", ERR1), \/\/ Missing Limit\n+                arguments(\"##|\", ERR1), \/\/ Double Relations\n+                arguments(\"0#foo1#\", ERR1), \/\/ SubPattern not separated by '|'\n+                arguments(\"0#foo#\", ERR1), \/\/ Using a Relation in a format\n+                arguments(\"0#test|#\", ERR1), \/\/ SubPattern missing Limit\n+                arguments(\"0#foo|3#bar|1#baz\", ERR2), \/\/ Non-ascending Limits\n+        };\n+    }\n+\n+    \/\/ Check that the incorrect pattern discards the trailing incorrect portion.\n+    \/\/ These incorrect patterns should ideally throw an exception, but for\n+    \/\/ behavioral compatibility reasons do not.\n+    @ParameterizedTest\n+    @MethodSource\n+    public void invalidPatternsDiscardedTest(String brokenPattern, String actualPattern) {\n+        var cf1 = new ChoiceFormat(brokenPattern);\n+        var cf2 = new ChoiceFormat(actualPattern);\n+        assertEquals(cf2, cf1,\n+                String.format(\"Expected %s, but got %s\", cf2.toPattern(), cf1.toPattern()));\n+    }\n+\n+    \/\/ Variety of incorrect patterns with the actual expected pattern\n+    \/\/ after discarding occurs.\n+    private static Arguments[] invalidPatternsDiscardedTest() {\n+        return new Arguments[] {\n+                \/\/ Incomplete SubPattern at the end of the Pattern\n+                arguments(\"0#foo|1#bar|baz\", \"0#foo|1#bar\"),\n+\n+                \/\/ --- These throw an ArrayIndexOutOfBoundsException\n+                \/\/ when attempting to format with them ---\n+                \/\/ SubPattern with only a Limit (which is interpreted as a Format)\n+                arguments(\"0\", \"\"),\n+                \/\/ SubPattern with only a Format\n+                arguments(\"foo\", \"\"),\n+                \/\/ empty string\n+                arguments(\"\", \"\")\n+        };\n+    }\n+\n+    \/\/ Calling format() with empty limits and formats\n+    \/\/ throws an ArrayIndexOutOfBoundsException\n+    @Test\n+    public void emptyLimitsAndFormatsTest() {\n+        var cf1 = new ChoiceFormat(\"\");\n+        assertThrows(ArrayIndexOutOfBoundsException.class,\n+                () -> cf1.format(1));\n+\n+        var cf2 = new ChoiceFormat(new double[]{}, new String[]{});\n+        assertThrows(ArrayIndexOutOfBoundsException.class,\n+                () -> cf2.format(2));\n+    }\n+}\n","filename":"test\/jdk\/java\/text\/Format\/ChoiceFormat\/PatternsTest.java","additions":153,"deletions":0,"binary":false,"changes":153,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,1 +37,7 @@\n-import static java.util.Calendar.*;\n+import java.util.stream.Stream;\n+\n+import static java.util.Calendar.DAY_OF_YEAR;\n+import static java.util.Calendar.ERA;\n+import static java.util.Calendar.FEBRUARY;\n+import static java.util.Calendar.LONG;\n+import static java.util.Calendar.YEAR;\n@@ -40,1 +46,0 @@\n-import jdk.test.lib.JDKToolLauncher;\n@@ -94,13 +99,12 @@\n-            throws Throwable{\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(Utils.TEST_CLASS_PATH)\n-                .addToolArg(\"-Djdk.calendar.japanese.supplemental.era=\" + property)\n-                .addToolArg(\"SupplementalJapaneseEraTest\");\n-        for (String para: javaParam) {\n-            launcher.addToolArg(para);\n-        }\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                .getExitValue();\n+            throws Throwable {\n+        List<String> params = List.of(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", Utils.TEST_CLASS_PATH,\n+                \"-Djdk.calendar.japanese.supplemental.era=\" + property,\n+                \"SupplementalJapaneseEraTest\");\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(params.stream(), javaParam.stream()).toList());\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n+\n","filename":"test\/jdk\/java\/util\/Calendar\/SupplementalJapaneseEraTestRun.java","additions":20,"deletions":16,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -1,68 +0,0 @@\n-\/*\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\/*\n- * @test\n- * @bug 4512215 4818420 4819436\n- * @summary Updated currency data.\n- *\/\n-\n-import java.util.Currency;\n-import java.util.Locale;\n-\n-public class Bug4512215 {\n-\n-    public static void main(String[] args) throws Exception {\n-        testCurrencyDefined(\"XBD\", -1);\n-        testCountryCurrency(\"TJ\", \"TJS\", 2);\n-        testCountryCurrency(\"FO\", \"DKK\", 2);\n-        testCountryCurrency(\"FK\", \"FKP\", 2);\n-\n-        testCountryCurrency(\"AF\", \"AFN\", 2);    \/\/ changed from \"AFA\"\n-\n-        \/\/ Newsletter V-5 on ISO 3166-1 (2002-05-20)\n-        testCountryCurrency(\"TL\", \"USD\", 2);    \/\/ successor to TP\/TPE\n-\n-        \/\/ Newsletter V-8 on ISO 3166-1 (2003-07-23)\n-        testCountryCurrency(\"CS\", \"CSD\", 2);    \/\/ successor to YU\/YUM\n-    }\n-\n-    private static void testCountryCurrency(String country, String currencyCode,\n-            int digits) {\n-        testCurrencyDefined(currencyCode, digits);\n-        Currency currency = Currency.getInstance(Locale.of(\"\", country));\n-        if (!currency.getCurrencyCode().equals(currencyCode)) {\n-            throw new RuntimeException(\"[\" + country\n-                    + \"] expected: \" + currencyCode\n-                    + \"; got: \" + currency.getCurrencyCode());\n-        }\n-    }\n-\n-    private static void testCurrencyDefined(String currencyCode, int digits) {\n-        Currency currency = Currency.getInstance(currencyCode);\n-        if (currency.getDefaultFractionDigits() != digits) {\n-            throw new RuntimeException(\"[\" + currencyCode\n-                    + \"] expected: \" + digits\n-                    + \"; got: \" + currency.getDefaultFractionDigits());\n-        }\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/Currency\/Bug4512215.java","additions":0,"deletions":68,"binary":false,"changes":68,"status":"deleted"},{"patch":"@@ -1,84 +0,0 @@\n-\/*\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\/*\n- * @test\n- * @bug 6807534\n- * @summary check whether the default implementation of\n- *    CurrencNameProvider.getDisplayName(String, Locale) throws appropriate\n- *    exceptions when necessary.\n- *\/\n-\n-import java.util.Locale;\n-import java.util.spi.CurrencyNameProvider;\n-\n-public class Bug6807534 {\n-\n-    static final CurrencyNameProvider cnp = new CurrencyNameProviderImpl();\n-\n-    public static void main(String[] args) throws Exception {\n-        \/\/ test for NullPointerException (currencyCode)\n-        try {\n-            cnp.getDisplayName(null, Locale.US);\n-            throwException(\"NPE was not thrown with null currencyCode\");\n-        } catch (NullPointerException npe) {}\n-\n-        \/\/ test for NullPointerException (locale)\n-        try {\n-            cnp.getDisplayName(\"USD\", null);\n-            throwException(\"NPE was not thrown with null locale\");\n-        } catch (NullPointerException npe) {}\n-\n-        \/\/ test for IllegalArgumentException (illegal currencyCode)\n-        try {\n-            cnp.getDisplayName(\"INVALID\", Locale.US);\n-            throwException(\"IllegalArgumentException was not thrown with invalid currency code\");\n-        } catch (IllegalArgumentException iae) {}\n-        try {\n-            cnp.getDisplayName(\"inv\", Locale.US);\n-            throwException(\"IllegalArgumentException was not thrown with invalid currency code\");\n-        } catch (IllegalArgumentException iae) {}\n-\n-        \/\/ test for IllegalArgumentException (non-supported locale)\n-        try {\n-            cnp.getDisplayName(\"USD\", Locale.JAPAN);\n-            throwException(\"IllegalArgumentException was not thrown with non-supported locale\");\n-        } catch (IllegalArgumentException iae) {}\n-    }\n-\n-    static void throwException(String msg) {\n-        throw new RuntimeException(\"test failed. \"+msg);\n-    }\n-\n-    static class CurrencyNameProviderImpl extends CurrencyNameProvider {\n-        \/\/ dummy implementation\n-        public String getSymbol(String currencyCode, Locale locale) {\n-            return \"\";\n-        }\n-\n-        public Locale[] getAvailableLocales() {\n-            Locale[] avail = new Locale[1];\n-            avail[0] = Locale.US;\n-            return avail;\n-        }\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/Currency\/Bug6807534.java","additions":0,"deletions":84,"binary":false,"changes":84,"status":"deleted"},{"patch":"@@ -1,55 +0,0 @@\n-\/*\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\/*\n- * @test\n- * @bug 8154295\n- * @summary Check getNumericCodeAsString() method which returns numeric code as a 3 digit String.\n- *\/\n-\n-import java.util.Currency;\n-\n-public class Bug8154295 {\n-\n-    public static void main(String[] args) {\n-\n-        String numericCode = Currency.getInstance(\"AFA\").getNumericCodeAsString();\n-        if (!numericCode.equals(\"004\")) { \/\/should return \"004\" (a 3 digit string)\n-           throw new RuntimeException(\"[Expected 004, \"\n-                + \"found \"+numericCode+\" for AFA]\");\n-        }\n-\n-        numericCode = Currency.getInstance(\"AUD\").getNumericCodeAsString();\n-        if (!numericCode.equals(\"036\")) { \/\/should return \"036\" (a 3 digit string)\n-            throw new RuntimeException(\"[Expected 036, \"\n-                + \"found \"+numericCode+\" for AUD]\");\n-        }\n-\n-        numericCode = Currency.getInstance(\"USD\").getNumericCodeAsString();\n-        if (!numericCode.equals(\"840\")) {\/\/ should return \"840\" (a 3 digit string)\n-            throw new RuntimeException(\"[Expected 840, \"\n-                + \"found \"+numericCode+\" for USD]\");\n-        }\n-\n-    }\n-\n-}\n","filename":"test\/jdk\/java\/util\/Currency\/Bug8154295.java","additions":0,"deletions":55,"binary":false,"changes":55,"status":"deleted"},{"patch":"@@ -0,0 +1,101 @@\n+\/*\n+ * Copyright (c) 2010, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6807534\n+ * @summary check whether the default implementation of\n+ *    CurrencyNameProvider.getDisplayName(String, Locale) throws appropriate\n+ *    exceptions when necessary.\n+ * @run junit CNPGetDisplayName\n+ *\/\n+\n+import java.util.Locale;\n+import java.util.spi.CurrencyNameProvider;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+\n+public class CNPGetDisplayName {\n+\n+    static final CurrencyNameProvider cnp = new CurrencyNameProviderImpl();\n+\n+    \/**\n+     * Tests that the currency name provider throws a NullPointerException\n+     * under the expected circumstances.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource(\"nullArgProvider\")\n+    public void NPETest(String currencyCode, Locale locale, String err) {\n+        assertThrows(NullPointerException.class,\n+                () -> cnp.getDisplayName(currencyCode, locale), err);\n+    }\n+\n+    \/**\n+     * Tests that the currency name provider throws a IllegalArgumentException\n+     * under the expected circumstances.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource(\"illegalArgProvider\")\n+    public void IAETest(String currencyCode, Locale locale, String err) {\n+        assertThrows(IllegalArgumentException.class,\n+                () -> cnp.getDisplayName(currencyCode, locale), err);\n+    }\n+\n+    private static Stream<Arguments> nullArgProvider() {\n+        return Stream.of(\n+                Arguments.of(null, Locale.US,\n+                        \"NPE was not thrown with null currencyCode\"),\n+                Arguments.of(\"USD\", null,\n+                        \"NPE was not thrown with null locale\")\n+        );\n+    }\n+\n+    private static Stream<Arguments> illegalArgProvider() {\n+        return Stream.of(\n+                Arguments.of(\"INVALID\", Locale.US,\n+                        \"IAE was not thrown with invalid currency code\"),\n+                Arguments.of(\"inv\", Locale.US,\n+                        \"IAE was not thrown with invalid currency code\"),\n+                Arguments.of(\"USD\", Locale.JAPAN,\n+                        \"IllegalArgumentException was not thrown with non-supported locale\")\n+        );\n+    }\n+\n+    static class CurrencyNameProviderImpl extends CurrencyNameProvider {\n+        \/\/ dummy implementation\n+        public String getSymbol(String currencyCode, Locale locale) {\n+            return \"\";\n+        }\n+\n+        public Locale[] getAvailableLocales() {\n+            Locale[] avail = new Locale[1];\n+            avail[0] = Locale.US;\n+            return avail;\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Currency\/CNPGetDisplayName.java","additions":101,"deletions":0,"binary":false,"changes":101,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,4 +23,5 @@\n-\/**\n- *\n- *\n- * Check the consistency between the regression tests and the currency data in the JRE\n+\n+\n+\/*\n+  Check the consistency between the regression tests and the currency\n+  data in the JRE. This class is used by other test classes.\n@@ -29,3 +30,8 @@\n-import java.io.*;\n-import java.lang.reflect.*;\n-import java.security.*;\n+import java.io.BufferedReader;\n+import java.io.DataInputStream;\n+import java.io.File;\n+import java.io.FileReader;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n","filename":"test\/jdk\/java\/util\/Currency\/CheckDataVersion.java","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,0 +23,1 @@\n+\n@@ -31,0 +32,1 @@\n+ * @run junit CurrencyTest\n@@ -41,0 +43,1 @@\n+import java.util.ArrayList;\n@@ -42,0 +45,1 @@\n+import java.util.List;\n@@ -43,0 +47,11 @@\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.api.Disabled;\n+import org.junit.jupiter.api.Nested;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n@@ -47,1 +62,3 @@\n-    public static void main(String[] args) throws Exception {\n+    \/\/ 'tablea1.txt' should be up-to-date before testing\n+    @Test\n+    public void dataVersionTest() {\n@@ -49,7 +66,0 @@\n-        testCurrencyCodeValidation();\n-        testLocaleMapping();\n-        testSymbols();\n-        testFractionDigits();\n-        testSerialization();\n-        testDisplayNames();\n-        testFundsCodes();\n@@ -58,14 +68,8 @@\n-    static void testCurrencyCodeValidation() {\n-        \/\/ test creation of some valid currencies\n-        testValidCurrency(\"USD\");\n-        testValidCurrency(\"EUR\");\n-        testValidCurrency(\"GBP\");\n-        testValidCurrency(\"JPY\");\n-        testValidCurrency(\"CNY\");\n-        testValidCurrency(\"CHF\");\n-\n-        \/\/ test creation of some fictitious currencies\n-        testInvalidCurrency(\"AQD\");\n-        testInvalidCurrency(\"US$\");\n-        testInvalidCurrency(\"\\u20AC\");\n-    }\n+    @Nested\n+    class CodeValidationTests {\n+        \/\/ Calling getInstance() on equal currency codes should return equal currencies\n+        @ParameterizedTest\n+        @MethodSource(\"validCurrencies\")\n+        public void validCurrencyTest(String currencyCode) {\n+            compareCurrencies(currencyCode);\n+        }\n@@ -73,5 +77,10 @@\n-    static void testValidCurrency(String currencyCode) {\n-        Currency currency1 = Currency.getInstance(currencyCode);\n-        Currency currency2 = Currency.getInstance(currencyCode);\n-        if (currency1 != currency2) {\n-            throw new RuntimeException(\"Didn't get same instance for same currency code\");\n+        private static Stream<String> validCurrencies() {\n+            return Stream.of(\"USD\", \"EUR\", \"GBP\", \"JPY\", \"CNY\", \"CHF\");\n+        }\n+\n+        \/\/ Calling getInstance() with an invalid currency code should throw an IAE\n+        @ParameterizedTest\n+        @MethodSource(\"invalidCurrencies\")\n+        public void invalidCurrencyTest(String currencyCode) {\n+            assertThrows(IllegalArgumentException.class, () ->\n+                    Currency.getInstance(currencyCode), \"getInstance() did not throw IAE\");\n@@ -79,2 +88,3 @@\n-        if (!currency1.getCurrencyCode().equals(currencyCode)) {\n-            throw new RuntimeException(\"Currency code changed\");\n+\n+        private static Stream<String> invalidCurrencies() {\n+            return Stream.of(\"AQD\", \"US$\", \"\\u20AC\");\n@@ -84,6 +94,7 @@\n-    static void testInvalidCurrency(String currencyCode) {\n-        boolean gotException = false;\n-        try {\n-            Currency currency = Currency.getInstance(currencyCode);\n-        } catch (IllegalArgumentException e) {\n-            gotException = true;\n+    @Nested\n+    class FundsCodesTests {\n+        \/\/ Calling getInstance() on equal currency codes should return equal currencies\n+        @ParameterizedTest\n+        @MethodSource(\"fundsCodes\")\n+        public void validCurrencyTest(String currencyCode) {\n+            compareCurrencies(currencyCode);\n@@ -91,2 +102,25 @@\n-        if (!gotException) {\n-            throw new RuntimeException(\"didn't get specified exception\");\n+\n+        \/\/ Verify a currency has the expected fractional digits\n+        @ParameterizedTest\n+        @MethodSource(\"fundsCodes\")\n+        public void fractionDigitTest(String currencyCode, int expectedFractionDigits) {\n+            compareFractionDigits(currencyCode, expectedFractionDigits);\n+        }\n+\n+        \/\/ Verify a currency has the expected numeric code\n+        @ParameterizedTest\n+        @MethodSource(\"fundsCodes\")\n+        public void numericCodeTest(String currencyCode, int ignored, int expectedNumeric) {\n+            int numeric = Currency.getInstance(currencyCode).getNumericCode();\n+            assertEquals(numeric, expectedNumeric, String.format(\n+                    \"Wrong numeric code for currency %s, expected %s, got %s\",\n+                    currencyCode, expectedNumeric, numeric));\n+        }\n+\n+        private static Stream<Arguments> fundsCodes() {\n+            return Stream.of(\n+                    Arguments.of(\"BOV\", 2, 984), Arguments.of(\"CHE\", 2, 947),\n+                    Arguments.of(\"CHW\", 2, 948), Arguments.of(\"CLF\", 4, 990),\n+                    Arguments.of(\"COU\", 2, 970), Arguments.of(\"MXV\", 2, 979),\n+                    Arguments.of(\"USN\", 2, 997), Arguments.of(\"UYI\", 0, 940)\n+            );\n@@ -96,1 +130,3 @@\n-    static void testLocaleMapping() {\n+    @Nested\n+    class LocaleMappingTests {\n+\n@@ -99,25 +135,19 @@\n-        Locale[] locales = Locale.getAvailableLocales();\n-        int goodCountries = 0;\n-        int ownCurrencies = 0;\n-        for (int i = 0; i < locales.length; i++) {\n-            Locale locale = locales[i];\n-            String ctryCode = locale.getCountry();\n-            int ctryLength = ctryCode.length();\n-            if (ctryLength == 0 ||\n-                ctryLength == 3 || \/\/ UN M.49 code\n-                ctryCode.matches(\"AA|Q[M-Z]|X[A-JL-Z]|ZZ\" + \/\/ user defined codes, excluding \"XK\" (Kosovo)\n-                                 \"AC|CP|DG|EA|EU|FX|IC|SU|TA|UK\")) { \/\/ exceptional reservation codes\n-                boolean gotException = false;\n-                try {\n-                    Currency.getInstance(locale);\n-                } catch (IllegalArgumentException e) {\n-                    gotException = true;\n-                }\n-                if (!gotException) {\n-                    throw new RuntimeException(\"didn't get specified exception\");\n-                }\n-            } else {\n-                goodCountries++;\n-                Currency currency = Currency.getInstance(locale);\n-                if (currency.getCurrencyCode().indexOf(locale.getCountry()) == 0) {\n-                    ownCurrencies++;\n+        @Test\n+        public void localeMappingTest() {\n+            Locale[] locales = Locale.getAvailableLocales();\n+            int goodCountries = 0;\n+            int ownCurrencies = 0;\n+            for (Locale locale : locales) {\n+                String ctryCode = locale.getCountry();\n+                int ctryLength = ctryCode.length();\n+                if (ctryLength == 0 ||\n+                        ctryLength == 3 || \/\/ UN M.49 code\n+                        ctryCode.matches(\"AA|Q[M-Z]|X[A-JL-Z]|ZZ\" + \/\/ user defined codes, excluding \"XK\" (Kosovo)\n+                                \"AC|CP|DG|EA|EU|FX|IC|SU|TA|UK\")) { \/\/ exceptional reservation codes\n+                    assertThrows(IllegalArgumentException.class, () -> Currency.getInstance(locale), \"Did not throw IAE\");\n+                } else {\n+                    goodCountries++;\n+                    Currency currency = Currency.getInstance(locale);\n+                    if (currency.getCurrencyCode().indexOf(locale.getCountry()) == 0) {\n+                        ownCurrencies++;\n+                    }\n@@ -126,0 +156,5 @@\n+            System.out.println(\"Countries tested: \" + goodCountries +\n+                    \", own currencies: \" + ownCurrencies);\n+            if (ownCurrencies < (goodCountries \/ 2 + 1)) {\n+                throw new RuntimeException(\"suspicious: not enough countries have their own currency.\");\n+            }\n@@ -127,4 +162,6 @@\n-        System.out.println(\"Countries tested: \" + goodCountries +\n-                \", own currencies: \" + ownCurrencies);\n-        if (ownCurrencies < (goodCountries \/ 2 + 1)) {\n-            throw new RuntimeException(\"suspicious: not enough countries have their own currency.\");\n+\n+        \/\/ Check an invalid country code\n+        @Test\n+        public void invalidCountryTest() {\n+            assertThrows(IllegalArgumentException.class, ()->\n+                    Currency.getInstance(Locale.of(\"\", \"EU\")), \"Did not throw IAE\");\n@@ -133,5 +170,9 @@\n-        \/\/ check a few countries that don't change their currencies too often\n-        String[] country1 = {\"US\", \"CA\", \"JP\", \"CN\", \"SG\", \"CH\"};\n-        String[] currency1 = {\"USD\", \"CAD\", \"JPY\", \"CNY\", \"SGD\", \"CHF\"};\n-        for (int i = 0; i < country1.length; i++) {\n-            checkCountryCurrency(country1[i], currency1[i]);\n+        \/\/ Ensure a selection of countries have the expected currency\n+        @ParameterizedTest\n+        @MethodSource({\"countryProvider\", \"switchedOverCountries\"})\n+        public void countryCurrencyTest(String countryCode, String expected) {\n+            Locale locale = Locale.of(\"\", countryCode);\n+            Currency currency = Currency.getInstance(locale);\n+            String code = (currency != null) ? currency.getCurrencyCode() : null;\n+            assertEquals(expected, code, generateErrMsg(\n+                    \"currency for\", locale.getDisplayCountry(), expected, code));\n@@ -140,21 +181,12 @@\n-        \/*\n-        * check currency changes\n-        * In current implementation, there is no data of old currency and transition date at jdk\/src\/java.base\/share\/data\/currency\/CurrencyData.properties.\n-        * So, all the switch data arrays are empty. In the future, if data of old currency and transition date are necessary for any country, the\n-        * arrays here can be updated so that the program can check the currency switch.\n-        *\/\n-        String[] switchOverCtry = {};\n-        String[] switchOverOld = {};\n-        String[] switchOverNew = {};\n-        String[] switchOverTZ = {};\n-        int[] switchOverYear = {};\n-        int[] switchOverMonth = {}; \/\/ java.time APIs accept month starting from 1 i.e. 01 for January\n-        int[] switchOverDay = {};\n-\n-        for (int i = 0; i < switchOverCtry.length; i++) {\n-            ZoneId zoneId = ZoneId.of(switchOverTZ[i]);\n-            ZonedDateTime zonedDateAndTime  = ZonedDateTime.of(LocalDate.of(switchOverYear[i], switchOverMonth[i], switchOverDay[i]),\n-                                                  LocalTime.MIDNIGHT, zoneId);\n-            ZonedDateTime currentZonedDateAndTime =  ZonedDateTime.now(zoneId);\n-            checkCountryCurrency(switchOverCtry[i], (currentZonedDateAndTime.isAfter(zonedDateAndTime) ||\n-                        currentZonedDateAndTime.isEqual(zonedDateAndTime)) ? switchOverNew[i] : switchOverOld[i]);\n+        private static Stream<Arguments> countryProvider() {\n+            return Stream.of(\n+                    \/\/ Check country that does not have a currency\n+                    Arguments.of(\"AQ\", null),\n+                    \/\/ Check some countries that don't change their currencies often\n+                    Arguments.of(\"US\", \"USD\"),\n+                    Arguments.of(\"CA\", \"CAD\"),\n+                    Arguments.of(\"JP\", \"JPY\"),\n+                    Arguments.of(\"CN\", \"CNY\"),\n+                    Arguments.of(\"SG\", \"SGD\"),\n+                    Arguments.of(\"CH\", \"CHF\")\n+            );\n@@ -163,2 +195,17 @@\n-        \/\/ check a country code which doesn't have a currency\n-        checkCountryCurrency(\"AQ\", null);\n+        \/*\n+         * Check Currency Changes\n+         * In the current implementation, there is no data of old currency and transition\n+         * date at jdk\/src\/java.base\/share\/data\/currency\/CurrencyData.properties.\n+         * So, all the switch data arrays are empty. In the future, if data of old\n+         * currency and transition date are necessary for any country, the\n+         * arrays here can be updated so that the program can check the currency switch.\n+         *\/\n+        private static List<Arguments> switchedOverCountries() {\n+            List<Arguments> switched = new ArrayList<Arguments>();\n+            String[] switchOverCtry = {};\n+            String[] switchOverOld = {};\n+            String[] switchOverNew = {};\n+            String[] switchOverTZ = {};\n+            int[] switchOverYear = {};\n+            int[] switchOverMonth = {}; \/\/ java.time APIs accept month starting from 1 i.e. 01 for January\n+            int[] switchOverDay = {};\n@@ -166,9 +213,9 @@\n-        \/\/ check an invalid country code\n-        boolean gotException = false;\n-        try {\n-            Currency.getInstance(Locale.of(\"\", \"EU\"));\n-        } catch (IllegalArgumentException e) {\n-            gotException = true;\n-        }\n-        if (!gotException) {\n-            throw new RuntimeException(\"didn't get specified exception.\");\n+            for (int i = 0; i < switchOverCtry.length; i++) {\n+                ZoneId zoneId = ZoneId.of(switchOverTZ[i]);\n+                ZonedDateTime zonedDateAndTime  = ZonedDateTime.of(LocalDate.of(\n+                        switchOverYear[i], switchOverMonth[i], switchOverDay[i]), LocalTime.MIDNIGHT, zoneId);\n+                ZonedDateTime currentZonedDateAndTime =  ZonedDateTime.now(zoneId);\n+                switched.add(Arguments.of(switchOverCtry[i], (currentZonedDateAndTime.isAfter(zonedDateAndTime)\n+                        || currentZonedDateAndTime.isEqual(zonedDateAndTime)) ? switchOverNew[i] : switchOverOld[i]));\n+            }\n+            return switched;\n@@ -178,10 +225,1 @@\n-    static void checkCountryCurrency(String countryCode, String expected) {\n-        Locale locale = Locale.of(\"\", countryCode);\n-        Currency currency = Currency.getInstance(locale);\n-        String code = (currency != null) ? currency.getCurrencyCode() : null;\n-        if (!(expected == null ? code == null : expected.equals(code))) {\n-            throw new RuntimeException(\"Wrong currency for \" +\n-                    locale.getDisplayCountry() +\n-                    \": expected \" + expected + \", got \" + code);\n-        }\n-    }\n+    \/\/ NON-NESTED TESTS\n@@ -189,4 +227,5 @@\n-    static void testSymbols() {\n-        testSymbol(\"USD\", Locale.US, \"$\");\n-        testSymbol(\"EUR\", Locale.GERMANY, \"\\u20AC\");\n-        testSymbol(\"USD\", Locale.PRC, \"US$\");\n+    \/\/ Ensure selection of currencies have the correct fractional digits\n+    @ParameterizedTest\n+    @MethodSource(\"expectedFractionsProvider\")\n+    public void fractionDigitsTest(String currencyCode, int expectedFractionDigits) {\n+        compareFractionDigits(currencyCode, expectedFractionDigits);\n@@ -195,7 +234,12 @@\n-    static void testSymbol(String currencyCode, Locale locale, String expectedSymbol) {\n-        String symbol = Currency.getInstance(currencyCode).getSymbol(locale);\n-        if (!symbol.equals(expectedSymbol)) {\n-            throw new RuntimeException(\"Wrong symbol for currency \" +\n-                    currencyCode +\": expected \" + expectedSymbol +\n-                    \", got \" + symbol);\n-        }\n+    private static Stream<Arguments> expectedFractionsProvider() {\n+        return Stream.of(\n+                Arguments.of(\"USD\", 2), Arguments.of(\"EUR\", 2),\n+                Arguments.of(\"JPY\", 0), Arguments.of(\"XDR\", -1),\n+                Arguments.of(\"BHD\", 3), Arguments.of(\"IQD\", 3),\n+                Arguments.of(\"JOD\", 3), Arguments.of(\"KWD\", 3),\n+                Arguments.of(\"LYD\", 3), Arguments.of(\"OMR\", 3),\n+                Arguments.of(\"TND\", 3),\n+\n+                \/\/ Old and New Turkish Lira\n+                Arguments.of(\"TRL\", 0), Arguments.of(\"TRY\", 2)\n+        );\n@@ -204,17 +248,7 @@\n-    static void testFractionDigits() {\n-        testFractionDigits(\"USD\", 2);\n-        testFractionDigits(\"EUR\", 2);\n-        testFractionDigits(\"JPY\", 0);\n-        testFractionDigits(\"XDR\", -1);\n-\n-        testFractionDigits(\"BHD\", 3);\n-        testFractionDigits(\"IQD\", 3);\n-        testFractionDigits(\"JOD\", 3);\n-        testFractionDigits(\"KWD\", 3);\n-        testFractionDigits(\"LYD\", 3);\n-        testFractionDigits(\"OMR\", 3);\n-        testFractionDigits(\"TND\", 3);\n-\n-        \/\/ Turkish Lira\n-        testFractionDigits(\"TRL\", 0);\n-        testFractionDigits(\"TRY\", 2);\n+    \/\/ Ensure selection of currencies have the expected symbol\n+    @ParameterizedTest\n+    @MethodSource(\"symbolProvider\")\n+    public void symbolTest(String currencyCode, Locale locale, String expectedSymbol) {\n+        String symbol = Currency.getInstance(currencyCode).getSymbol(locale);\n+        assertEquals(symbol, expectedSymbol, generateErrMsg(\n+                \"symbol for\", currencyCode, expectedSymbol, symbol));\n@@ -223,7 +257,6 @@\n-    static void testFractionDigits(String currencyCode, int expectedFractionDigits) {\n-        int digits = Currency.getInstance(currencyCode).getDefaultFractionDigits();\n-        if (digits != expectedFractionDigits) {\n-            throw new RuntimeException(\"Wrong number of fraction digits for currency \" +\n-                    currencyCode +\": expected \" + expectedFractionDigits +\n-                    \", got \" + digits);\n-        }\n+    private static Stream<Arguments> symbolProvider() {\n+        return Stream.of(\n+                Arguments.of(\"USD\", Locale.US, \"$\"),\n+                Arguments.of(\"EUR\", Locale.GERMANY, \"\\u20AC\"),\n+                Arguments.of(\"USD\", Locale.PRC, \"US$\")\n+        );\n@@ -232,1 +265,4 @@\n-    static void testSerialization() throws Exception {\n+    \/\/ Ensure serialization does not break class invariant.\n+    \/\/ Currency should be able to round-trip and remain the same value.\n+    @Test\n+    public void serializationTest() throws Exception {\n@@ -244,4 +280,1 @@\n-\n-        if (currency1 != currency2) {\n-            throw new RuntimeException(\"serialization breaks class invariant\");\n-        }\n+        assertEquals(currency1, currency2, \"serialization breaks class invariant\");\n@@ -250,17 +283,5 @@\n-    static void testDisplayNames() {\n-        \/\/ null argument test\n-        try {\n-            testDisplayName(\"USD\", null, \"\");\n-            throw new RuntimeException(\"getDisplayName(NULL) did not throw an NPE.\");\n-        } catch (NullPointerException npe) {}\n-\n-        testDisplayName(\"USD\", Locale.ENGLISH, \"US Dollar\");\n-        testDisplayName(\"FRF\", Locale.FRENCH, \"franc fran\\u00e7ais\");\n-        testDisplayName(\"DEM\", Locale.GERMAN, \"Deutsche Mark\");\n-        testDisplayName(\"ESP\", Locale.of(\"es\"), \"peseta espa\\u00f1ola\");\n-        testDisplayName(\"ITL\", Locale.ITALIAN, \"lira italiana\");\n-        testDisplayName(\"JPY\", Locale.JAPANESE, \"\\u65e5\\u672c\\u5186\");\n-        testDisplayName(\"KRW\", Locale.KOREAN, \"\\ub300\\ud55c\\ubbfc\\uad6d \\uc6d0\");\n-        testDisplayName(\"SEK\", Locale.of(\"sv\"), \"svensk krona\");\n-        testDisplayName(\"CNY\", Locale.SIMPLIFIED_CHINESE, \"\\u4eba\\u6c11\\u5e01\");\n-        testDisplayName(\"TWD\", Locale.TRADITIONAL_CHINESE, \"\\u65b0\\u53f0\\u5e63\");\n+    \/\/ Ensure getInstance() throws null when passed a null locale\n+    @Test\n+    public void nullDisplayNameTest() {\n+        assertThrows(NullPointerException.class, ()->\n+                Currency.getInstance(\"USD\").getDisplayName(null));\n@@ -269,1 +290,4 @@\n-    static void testDisplayName(String currencyCode, Locale locale, String expectedName) {\n+    \/\/ Ensure a selection of currencies\/locale combos have the correct display name\n+    @ParameterizedTest\n+    @MethodSource(\"displayNameProvider\")\n+    public void displayNameTest(String currencyCode, Locale locale, String expectedName) {\n@@ -271,5 +295,2 @@\n-        if (!name.equals(expectedName)) {\n-            throw new RuntimeException(\"Wrong display name for currency \" +\n-                    currencyCode +\": expected '\" + expectedName +\n-                    \"', got '\" + name + \"'\");\n-        }\n+        assertEquals(name, expectedName, generateErrMsg(\n+                \"display name for\", currencyCode, expectedName, name));\n@@ -277,27 +298,14 @@\n-    static void testFundsCodes() {\n-        testValidCurrency(\"BOV\");\n-        testValidCurrency(\"CHE\");\n-        testValidCurrency(\"CHW\");\n-        testValidCurrency(\"CLF\");\n-        testValidCurrency(\"COU\");\n-        testValidCurrency(\"MXV\");\n-        testValidCurrency(\"USN\");\n-        testValidCurrency(\"UYI\");\n-\n-        testFractionDigits(\"BOV\", 2);\n-        testFractionDigits(\"CHE\", 2);\n-        testFractionDigits(\"CHW\", 2);\n-        testFractionDigits(\"CLF\", 4);\n-        testFractionDigits(\"COU\", 2);\n-        testFractionDigits(\"MXV\", 2);\n-        testFractionDigits(\"USN\", 2);\n-        testFractionDigits(\"UYI\", 0);\n-\n-        testNumericCode(\"BOV\", 984);\n-        testNumericCode(\"CHE\", 947);\n-        testNumericCode(\"CHW\", 948);\n-        testNumericCode(\"CLF\", 990);\n-        testNumericCode(\"COU\", 970);\n-        testNumericCode(\"MXV\", 979);\n-        testNumericCode(\"USN\", 997);\n-        testNumericCode(\"UYI\", 940);\n+\n+    private static Stream<Arguments> displayNameProvider() {\n+        return Stream.of(\n+                Arguments.of(\"USD\", Locale.ENGLISH, \"US Dollar\"),\n+                Arguments.of(\"FRF\", Locale.FRENCH, \"franc fran\\u00e7ais\"),\n+                Arguments.of(\"DEM\", Locale.GERMAN, \"Deutsche Mark\"),\n+                Arguments.of(\"ESP\", Locale.of(\"es\"), \"peseta espa\\u00f1ola\"),\n+                Arguments.of(\"ITL\", Locale.ITALIAN, \"lira italiana\"),\n+                Arguments.of(\"JPY\", Locale.JAPANESE, \"\\u65e5\\u672c\\u5186\"),\n+                Arguments.of(\"KRW\", Locale.KOREAN, \"\\ub300\\ud55c\\ubbfc\\uad6d \\uc6d0\"),\n+                Arguments.of(\"SEK\", Locale.of(\"sv\"), \"svensk krona\"),\n+                Arguments.of(\"CNY\", Locale.SIMPLIFIED_CHINESE, \"\\u4eba\\u6c11\\u5e01\"),\n+                Arguments.of(\"TWD\", Locale.TRADITIONAL_CHINESE, \"\\u65b0\\u53f0\\u5e63\")\n+        );\n@@ -306,7 +314,27 @@\n-    static void testNumericCode(String currencyCode, int expectedNumeric) {\n-        int numeric = Currency.getInstance(currencyCode).getNumericCode();\n-        if (numeric != expectedNumeric) {\n-            throw new RuntimeException(\"Wrong numeric code for currency \" +\n-                    currencyCode +\": expected \" + expectedNumeric +\n-                    \", got \" + numeric);\n-        }\n+    \/\/ HELPER FUNCTIONS\n+\n+    \/\/ A Currency instance returned from getInstance() should always be\n+    \/\/ equal if supplied the same currencyCode. getCurrencyCode() should\n+    \/\/ always be equal to the currencyCode used to create the Currency.\n+    private static void compareCurrencies(String currencyCode) {\n+        Currency currency1 = Currency.getInstance(currencyCode);\n+        Currency currency2 = Currency.getInstance(currencyCode);\n+        assertEquals(currency1, currency2, \"Didn't get same instance for same currency code\");\n+        assertEquals(currency1.getCurrencyCode(), currencyCode, \"getCurrencyCode()\" +\n+                \" did not return the expected value\");\n+    }\n+\n+    \/\/ Ensures the getDefaultFractionDigits() method returns the expected amount\n+    private static void compareFractionDigits(String currencyCode,\n+                                              int expectedFractionDigits) {\n+        int digits = Currency.getInstance(currencyCode).getDefaultFractionDigits();\n+        assertEquals(digits, expectedFractionDigits, generateErrMsg(\n+                \"number of fraction digits for currency\",\n+                currencyCode, Integer.toString(expectedFractionDigits), Integer.toString(digits)));\n+    }\n+\n+    \/\/ Used for logging on failing tests\n+    private static String generateErrMsg(String subject, String currency,\n+                                         String expected, String got) {\n+        return String.format(\"Wrong %s %s: expected '%s', got '%s'\",\n+                subject, currency, expected, got);\n","filename":"test\/jdk\/java\/util\/Currency\/CurrencyTest.java","additions":240,"deletions":212,"binary":false,"changes":452,"status":"modified"},{"patch":"@@ -0,0 +1,66 @@\n+\/*\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4512215 4818420 4819436 8310923\n+ * @summary Test currencies without minor units.\n+ * @run junit NoMinorUnitCurrenciesTest\n+ *\/\n+\n+import java.util.Currency;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+public class NoMinorUnitCurrenciesTest {\n+\n+    \/**\n+     * Spot check some minor undefined currencies and ensure their default fraction\n+     * digits are not 2.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource(\"minorUndefined\")\n+    public void checkFractionDigits(String currencyCode, int digits) {\n+        Currency currency = Currency.getInstance(currencyCode);\n+        assertEquals(currency.getCurrencyCode(), currencyCode);\n+        assertEquals(currency.getDefaultFractionDigits(), digits, String.format(\n+                \"[%s] expected: %s; got: %s\", currencyCode, digits, currency.getDefaultFractionDigits()));\n+    }\n+\n+    \/\/ Currencies from the minorUndefined key of CurrencyData.properties\n+    \/\/ (These are currencies without minor units)\n+    private static Stream<Arguments> minorUndefined() {\n+        return Stream.of(\n+                Arguments.of(\"XBD\", -1),\n+                Arguments.of(\"XAG\", -1),\n+                Arguments.of(\"XAU\", -1),\n+                Arguments.of(\"XBA\", -1),\n+                Arguments.of(\"XBB\", -1)\n+        );\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Currency\/NoMinorUnitCurrenciesTest.java","additions":66,"deletions":0,"binary":false,"changes":66,"status":"added"},{"patch":"@@ -0,0 +1,61 @@\n+\/*\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8154295\n+ * @summary Check getNumericCodeAsString() method which returns numeric code as a 3 digit String.\n+ * @run junit NumCodeAsStringTest\n+ *\/\n+\n+import java.util.Currency;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+public class NumCodeAsStringTest {\n+\n+    \/**\n+     * Ensure getNumericCodeAsString() returns the correct 3-digit numeric code\n+     * for the associated currency Code.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource(\"codeProvider\")\n+    public void checkNumCodeTest(String currCode, String expectedNumCode) {\n+        String actualNumCode = Currency.getInstance(currCode).getNumericCodeAsString();\n+        assertEquals(expectedNumCode, actualNumCode, String.format(\n+                \"Expected: %s, but got: %s, for %s\", expectedNumCode, actualNumCode, currCode));\n+    }\n+\n+    private static Stream<Arguments> codeProvider() {\n+        return Stream.of(\n+                Arguments.of(\"AFA\", \"004\"),\n+                Arguments.of(\"AUD\", \"036\"),\n+                Arguments.of(\"USD\", \"840\")\n+        );\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Currency\/NumCodeAsStringTest.java","additions":61,"deletions":0,"binary":false,"changes":61,"status":"added"},{"patch":"@@ -1,144 +0,0 @@\n-#!\/bin\/sh\n-\n-# Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# @test\n-# @bug 6332666 6863624 7180362 8003846 8074350 8074351 8130246 8149735 7102969\n-#      8157138 8190904\n-# @summary tests the capability of replacing the currency data with user\n-#     specified currency properties file\n-# @build PropertiesTest\n-# @run shell\/timeout=600 PropertiesTest.sh\n-\n-if [ \"${TESTSRC}\" = \"\" ]\n-then\n-  echo \"TESTSRC not set.  Test cannot execute.  Failed.\"\n-  exit 1\n-fi\n-echo \"TESTSRC=${TESTSRC}\"\n-if [ \"${TESTJAVA}\" = \"\" ]\n-then\n-  echo \"TESTJAVA not set.  Test cannot execute.  Failed.\"\n-  exit 1\n-fi\n-echo \"TESTJAVA=${TESTJAVA}\"\n-if [ \"${TESTCLASSES}\" = \"\" ]\n-then\n-  echo \"TESTCLASSES not set.  Test cannot execute.  Failed.\"\n-  exit 1\n-fi\n-echo \"TESTCLASSES=${TESTCLASSES}\"\n-echo \"CLASSPATH=${CLASSPATH}\"\n-\n-# set platform-dependent variables\n-OS=`uname -s`\n-case \"$OS\" in\n-  Linux | Darwin | AIX )\n-    PS=\":\"\n-    FS=\"\/\"\n-    ;;\n-  Windows* )\n-    PS=\";\"\n-    FS=\"\/\"\n-    ;;\n-  CYGWIN*|MSYS*|MINGW* )\n-    PS=\";\"\n-    FS=\"\/\"\n-    TESTJAVA=`cygpath -u ${TESTJAVA}`\n-    ;;\n-  * )\n-    echo \"Unrecognized system!\"\n-    exit 1;\n-    ;;\n-esac\n-\n-failures=0\n-\n-run() {\n-    echo ''\n-    ${TESTJAVA}${FS}bin${FS}java ${TESTVMOPTS} -cp ${TESTCLASSES} $* 2>&1\n-    if [ $? != 0 ]; then failures=`expr $failures + 1`; fi\n-}\n-\n-PROPS=${TESTSRC}${FS}currency.properties\n-\n-\n-# Dump built-in currency data\n-\n-run PropertiesTest -d dump1\n-if [ ! -f dump1 ]; then  echo \"file dump1 not created. Test cannot execute.  Failed.\"; exit 1; fi\n-\n-# Dump built-in currency data + overrides in properties file specified\n-# by system property.\n-\n-run -Djava.util.currency.data=${PROPS} PropertiesTest -d dump2\n-if [ ! -f dump2 ]; then  echo \"file dump2 not created. Test cannot execute.  Failed.\"; exit 1; fi\n-run PropertiesTest -c dump1 dump2 ${PROPS}\n-\n-\n-# Dump built-in currency data + overrides in properties file copied into\n-# JRE image.\n-\n-# Make a private copy of the jdk so we can write to the properties file location\n-# without disturbing other users, including concurrently executing tests.\n-WRITABLEJDK=.${FS}testjava\n-cp -H -R $TESTJAVA $WRITABLEJDK || exit 1\n-PROPLOCATION=${WRITABLEJDK}${FS}lib\n-chmod -R u+w $WRITABLEJDK || exit 1\n-cp ${PROPS} $PROPLOCATION || exit 1\n-echo \"Properties location: ${PROPLOCATION}\"\n-\n-# run\n-echo ''\n-${WRITABLEJDK}${FS}bin${FS}java ${TESTVMOPTS} -cp ${TESTCLASSES} PropertiesTest -d dump3\n-if [ $? != 0 ]; then failures=`expr $failures + 1`; fi\n-if [ ! -f dump3 ]; then  echo \"file dump3 not created. Test cannot execute.  Failed.\"; exit 1; fi\n-\n-# run bug7102969 test\n-echo ''\n-${WRITABLEJDK}${FS}bin${FS}java ${TESTVMOPTS} -cp ${TESTCLASSES} PropertiesTest bug7102969\n-if [ $? != 0 ]; then failures=`expr $failures + 1`; fi\n-\n-# run bug8157138 test\n-echo ''\n-${WRITABLEJDK}${FS}bin${FS}java ${TESTVMOPTS} -cp ${TESTCLASSES} PropertiesTest bug8157138\n-if [ $? != 0 ]; then failures=`expr $failures + 1`; fi\n-\n-# run bug8190904 test\n-echo ''\n-${WRITABLEJDK}${FS}bin${FS}java ${TESTVMOPTS} -cp ${TESTCLASSES} PropertiesTest bug8190904\n-if [ $? != 0 ]; then failures=`expr $failures + 1`; fi\n-\n-# Cleanup\n-rm -rf $WRITABLEJDK\n-\n-# compare the two dump files\n-run PropertiesTest -c dump1 dump3 ${PROPS}\n-\n-\n-# Results\n-echo ''\n-if [ $failures -gt 0 ];\n-  then echo \"$failures tests failed\";\n-  else echo \"All tests passed\"; fi\n-exit $failures\n","filename":"test\/jdk\/java\/util\/Currency\/PropertiesTest.sh","additions":0,"deletions":144,"binary":false,"changes":144,"status":"deleted"},{"patch":"@@ -0,0 +1,157 @@\n+\/*\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6332666 6863624 7180362 8003846 8074350 8074351 8130246 8149735 7102969\n+ *      8157138 8190904 8210410\n+ * @summary Tests the capability of replacing the currency data with a user\n+ *          specified currency properties file in lib directory (old way) or\n+ *          via the system property in the cmdline (new way).\n+ * @library \/test\/lib\n+ * @build PropertiesTest\n+ * @run junit PropertiesTestRun\n+ *\/\n+\n+import jdk.test.lib.Utils;\n+import jdk.test.lib.process.ProcessTools;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import java.util.Arrays;\n+import java.util.stream.Stream;\n+\n+import static org.junit.jupiter.api.Assertions.fail;\n+\n+public class PropertiesTestRun {\n+\n+    \/\/ String paths used for the cmdline processes\n+    private static final String TEST_JDK = Utils.TEST_JDK;\n+    private static final String TEST_PROPS =\n+            Utils.TEST_SRC+Utils.FILE_SEPARATOR+\"currency.properties\";\n+    private static final String WRITABLE_JDK =\n+            \".\"+Utils.FILE_SEPARATOR+\"WRITABLE_JDK\";\n+    private static final String WRITABLE_JDK_LIB =\n+            WRITABLE_JDK+Utils.FILE_SEPARATOR+\"lib\";\n+    private static final String WRITABLE_JDK_BIN =\n+            WRITABLE_JDK+Utils.FILE_SEPARATOR+\"bin\";\n+    private static final String WRITABLE_JDK_JAVA_PATH =\n+            WRITABLE_JDK_BIN + Utils.FILE_SEPARATOR + \"java\";\n+\n+    \/\/ Create a writable JDK and set up dumps 1-3\n+    @BeforeAll\n+    static void setUp() throws Throwable {\n+        \/\/ Create separate JDK to supersede currencies via lib directory\n+        createWritableJDK();\n+        \/\/ Create dump without user defined prop file\n+        executeTestJDKMethod(\"PropertiesTest\", \"-d\", \"dump1\");\n+        \/\/ Create dump with user defined prop file (via system property)\n+        executeTestJDKMethod(\"-Djava.util.currency.data=\"+TEST_PROPS,\n+                \"PropertiesTest\", \"-d\", \"dump2\");\n+        \/\/ Create dump with user defined prop file (via lib)\n+        executeWritableJDKMethod(\"PropertiesTest\", \"-d\", \"dump3\");\n+    }\n+\n+    \/\/ Need to create a separate JDK to insert the user defined properties file\n+    \/\/ into the lib folder. Create separate JDK to not disturb current TEST JDK.\n+    private static void createWritableJDK() throws Throwable {\n+        \/\/ Copy Test JDK into a separate JDK folder\n+        executeProcess(new String[]{\"cp\", \"-H\", \"-R\", TEST_JDK, WRITABLE_JDK});\n+        \/\/ Make the separate JDK writable\n+        executeProcess(new String[]{\"chmod\", \"-R\", \"u+w\", WRITABLE_JDK_LIB});\n+        \/\/ Copy the properties file into the writable JDK lib folder\n+        executeProcess(new String[]{\"cp\", TEST_PROPS, WRITABLE_JDK_LIB});\n+    }\n+\n+    \/\/ Compares the dumped output is expected between the default currencies\n+    \/\/ and the user-defined custom currencies\n+    @Test\n+    void compareDumps() throws Throwable {\n+        \/\/ Compare dump (from sys prop)\n+        executeTestJDKMethod(\"PropertiesTest\", \"-c\", \"dump1\", \"dump2\",\n+                TEST_PROPS);\n+        \/\/ Compare dump (from lib)\n+        executeTestJDKMethod(\"PropertiesTest\", \"-c\", \"dump1\", \"dump3\",\n+                TEST_PROPS);\n+    }\n+\n+    \/\/ Launch a test from PropertiesTest. See PropertiesTest.java for more\n+    \/\/ detail regarding a specific test that was launched.\n+    @ParameterizedTest\n+    @MethodSource(\"PropertiesTestMethods\")\n+    void launchPropertiesTests(String methodName) throws Throwable {\n+        \/\/ Test via both the lib and system property\n+        executeWritableJDKMethod(\"PropertiesTest\", methodName);\n+        executeTestJDKMethod(\"-Djava.util.currency.data=\"+TEST_PROPS,\n+                \"PropertiesTest\", methodName);\n+    }\n+\n+    private static Stream<String> PropertiesTestMethods() {\n+        return Stream.of(\"bug7102969\", \"bug8157138\", \"bug8190904\");\n+    }\n+\n+    \/\/ Launch a PropertiesTest method using the TEST JDK\n+    private static void executeTestJDKMethod(String... params) throws Throwable {\n+        int exitStatus = ProcessTools.executeTestJvm(params).getExitValue();\n+        if (exitStatus != 0) {\n+            fail(\"Process started with: \" + Arrays.toString(params) + \" failed\");\n+        }\n+    }\n+\n+    \/\/ Launch a PropertiesTest method using the WRITABLE JDK\n+    private static void executeWritableJDKMethod(String... params) throws Throwable {\n+        \/\/ Need to include WritableJDK javapath, TEST JDK classpath\n+        String[] allParams = new String[3+params.length+Utils.getTestJavaOpts().length];\n+        \/\/ We don't use executeTestJvm() because we want to point to separate JDK java path\n+        allParams[0] = WRITABLE_JDK_JAVA_PATH;\n+        allParams[1] = \"-cp\";\n+        allParams[2] = System.getProperty(\"java.class.path\");\n+        \/\/ Add test.vm.opts and test.java.opts\n+        System.arraycopy(Utils.getTestJavaOpts(), 0, allParams, 3,\n+                Utils.getTestJavaOpts().length);\n+        \/\/ Add the rest of the actual arguments\n+        System.arraycopy(params, 0, allParams, Utils.getTestJavaOpts().length+3,\n+                params.length);\n+        \/\/ Launch the actual test method with all parameters set\n+        executeProcess(allParams);\n+    }\n+\n+    \/\/ Execute a process and fail if the command is not successful\n+    private static void executeProcess(String[] params) throws Throwable {\n+        System.out.println(\"Command line: \" + Arrays.toString(params));\n+        int exitStatus = ProcessTools.executeProcess(params).getExitValue();\n+        if (exitStatus != 0) {\n+            fail(\"Process started with: \" + Arrays.toString(params) + \" failed\");\n+        }\n+    }\n+\n+    @AfterAll\n+    static void tearDown() throws Throwable {\n+        \/\/ Remove the copied writable JDK image from scratch folder\n+        executeProcess(new String[]{\"rm\", \"-rf\", WRITABLE_JDK});\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Currency\/PropertiesTestRun.java","additions":157,"deletions":0,"binary":false,"changes":157,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,0 +23,1 @@\n+\n@@ -27,1 +28,1 @@\n- *      8208746 8209775 8264792 8274658 8283277 8296239\n+ *      8208746 8209775 8264792 8274658 8283277 8296239 8321480\n@@ -31,0 +32,1 @@\n+ * @run junit ValidateISO4217\n@@ -33,21 +35,31 @@\n-\/*\n- * ############################################################################\n- *\n- *  ValidateISO4217 is a tool to detect differences between the latest ISO 4217\n- *  data and Java's currency data which is based on ISO 4217.\n- *  If there is a difference, the following file which includes currency data\n- *  may need to be updated.\n- *      src\/share\/classes\/java\/util\/CurrencyData.properties\n- *\n- * ############################################################################\n- *\n- * 1) Make a golden-data file.\n- *      From BSi's ISO4217 data (TABLE A1.doc), extract four (or eight, if currency is changing)\n- *      fields and save as .\/tablea1.txt.\n- *        <Country code>\\t<Currency code>\\t<Numeric code>\\t<Minor unit>[\\t<Cutover Date>\\t<new Currency code>\\t<new Numeric code>\\t<new Minor unit>]\n- *      The Cutover Date is given in SimpleDateFormat's 'yyyy-MM-dd-HH-mm-ss' format in the GMT time zone.\n- *\n- * 2) Compile ValidateISO4217.java\n- *\n- * 3) Execute ValidateISO4217 as follows:\n- *      java ValidateISO4217\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.FileReader;\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.ArrayList;\n+import java.util.Currency;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Set;\n+import java.util.StringTokenizer;\n+import java.util.TimeZone;\n+\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNull;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+\/**\n+ * This class tests the latest ISO 4217 data and Java's currency data which is\n+ * based on ISO 4217. The golden-data file (ISO 4217 data) 'tablea1.txt' has the following\n+ * format: <Country code>\\t<Currency code>\\t<Numeric code>\\t<Minor unit>[\\t<Cutover Date>\\t<new Currency code>\\t<new Numeric code>\\t<new Minor unit>]\n+ * The Cutover Date is given in SimpleDateFormat's 'yyyy-MM-dd-HH-mm-ss' format in the GMT time zone.\n@@ -55,5 +67,0 @@\n-\n-import java.io.*;\n-import java.text.*;\n-import java.util.*;\n-\n@@ -62,36 +69,44 @@\n-    static final int ALPHA_NUM = 26;\n-\n-    static final byte UNDEFINED = 0;\n-    static final byte DEFINED = 1;\n-    static final byte SKIPPED = 2;\n-\n-    \/* input files *\/\n-    static final String datafile = \"tablea1.txt\";\n-\n-    \/* alpha2-code table *\/\n-    static byte[] codes = new byte[ALPHA_NUM * ALPHA_NUM];\n-\n-    static final String[][] additionalCodes = {\n-        \/* Defined in ISO 4217 list, but don't have code and minor unit info. *\/\n-        {\"AQ\", \"\", \"\", \"0\"},    \/\/ Antarctica\n-\n-        \/*\n-         * Defined in ISO 4217 list, but don't have code and minor unit info in\n-         * it. On the other hand, both code and minor unit are defined in\n-         * .properties file. I don't know why, though.\n-         *\/\n-        {\"GS\", \"GBP\", \"826\", \"2\"},      \/\/ South Georgia And The South Sandwich Islands\n-\n-        \/* Not defined in ISO 4217 list, but defined in .properties file. *\/\n-        {\"AX\", \"EUR\", \"978\", \"2\"},      \/\/ \\u00c5LAND ISLANDS\n-        {\"PS\", \"ILS\", \"376\", \"2\"},      \/\/ Palestinian Territory, Occupied\n-\n-        \/* Not defined in ISO 4217 list, but added in ISO 3166 country code list *\/\n-        {\"JE\", \"GBP\", \"826\", \"2\"},      \/\/ Jersey\n-        {\"GG\", \"GBP\", \"826\", \"2\"},      \/\/ Guernsey\n-        {\"IM\", \"GBP\", \"826\", \"2\"},      \/\/ Isle of Man\n-        {\"BL\", \"EUR\", \"978\", \"2\"},      \/\/ Saint Barthelemy\n-        {\"MF\", \"EUR\", \"978\", \"2\"},      \/\/ Saint Martin\n-\n-        \/* Defined neither in ISO 4217 nor ISO 3166 list *\/\n-        {\"XK\", \"EUR\", \"978\", \"2\"},      \/\/ Kosovo\n+    \/\/ Input golden-data file\n+    private static final File dataFile = new File(System.getProperty(\n+            \"test.src\", \".\"), \"tablea1.txt\");\n+    \/\/ Code statuses\n+    private static final byte UNDEFINED = 0;\n+    private static final byte DEFINED = 1;\n+    private static final byte SKIPPED = 2;\n+    private static final byte TESTED = 4;\n+    private static final int ALPHA_NUM = 26;\n+    \/\/ An alpha2 code table which maps the status of a country\n+    private static final byte[] codes = new byte[ALPHA_NUM * ALPHA_NUM];\n+    \/\/ Codes derived from ISO4217 golden-data file\n+    private static final List<Arguments> ISO4217Codes = new ArrayList<Arguments>();\n+    \/\/ Additional codes not from the ISO4217 golden-data file\n+    private static final List<Arguments> additionalCodes = new ArrayList<Arguments>();\n+    \/\/ Currencies to test (derived from ISO4217Codes and additionalCodes)\n+    private static final Set<Currency> testCurrencies = new HashSet<>();\n+    \/\/ Codes that are obsolete, do not have related country, extra currency\n+    private static final String otherCodes =\n+            \"ADP-AFA-ATS-AYM-AZM-BEF-BGL-BOV-BYB-BYR-CHE-CHW-CLF-COU-CUC-CYP-\"\n+                    + \"DEM-EEK-ESP-FIM-FRF-GHC-GRD-GWP-HRK-IEP-ITL-LTL-LUF-LVL-MGF-MRO-MTL-MXV-MZM-NLG-\"\n+                    + \"PTE-ROL-RUR-SDD-SIT-SLL-SKK-SRG-STD-TMM-TPE-TRL-VEF-UYI-USN-USS-VEB-VED-\"\n+                    + \"XAG-XAU-XBA-XBB-XBC-XBD-XDR-XFO-XFU-XPD-XPT-XSU-XTS-XUA-XXX-\"\n+                    + \"YUM-ZMK-ZWD-ZWN-ZWR\";\n+    private static final String[][] extraCodes = {\n+            \/* Defined in ISO 4217 list, but don't have code and minor unit info. *\/\n+            {\"AQ\", \"\", \"\", \"0\"},    \/\/ Antarctica\n+            \/*\n+             * Defined in ISO 4217 list, but don't have code and minor unit info in\n+             * it. On the other hand, both code and minor unit are defined in\n+             * .properties file. I don't know why, though.\n+             *\/\n+            {\"GS\", \"GBP\", \"826\", \"2\"},      \/\/ South Georgia And The South Sandwich Islands\n+            \/* Not defined in ISO 4217 list, but defined in .properties file. *\/\n+            {\"AX\", \"EUR\", \"978\", \"2\"},      \/\/ \\u00c5LAND ISLANDS\n+            {\"PS\", \"ILS\", \"376\", \"2\"},      \/\/ Palestinian Territory, Occupied\n+            \/* Not defined in ISO 4217 list, but added in ISO 3166 country code list *\/\n+            {\"JE\", \"GBP\", \"826\", \"2\"},      \/\/ Jersey\n+            {\"GG\", \"GBP\", \"826\", \"2\"},      \/\/ Guernsey\n+            {\"IM\", \"GBP\", \"826\", \"2\"},      \/\/ Isle of Man\n+            {\"BL\", \"EUR\", \"978\", \"2\"},      \/\/ Saint Barthelemy\n+            {\"MF\", \"EUR\", \"978\", \"2\"},      \/\/ Saint Martin\n+            \/* Defined neither in ISO 4217 nor ISO 3166 list *\/\n+            {\"XK\", \"EUR\", \"978\", \"2\"},      \/\/ Kosovo\n@@ -99,22 +114,11 @@\n-\n-    \/* Codes that are obsolete, do not have related country, extra currency *\/\n-    static final String otherCodes =\n-        \"ADP-AFA-ATS-AYM-AZM-BEF-BGL-BOV-BYB-BYR-CHE-CHW-CLF-COU-CUC-CYP-\"\n-        + \"DEM-EEK-ESP-FIM-FRF-GHC-GRD-GWP-IEP-ITL-LTL-LUF-LVL-MGF-MRO-MTL-MXV-MZM-NLG-\"\n-        + \"PTE-ROL-RUR-SDD-SIT-SLL-SKK-SRG-STD-TMM-TPE-TRL-VEF-UYI-USN-USS-VEB-VED-\"\n-        + \"XAG-XAU-XBA-XBB-XBC-XBD-XDR-XFO-XFU-XPD-XPT-XSU-XTS-XUA-XXX-\"\n-        + \"YUM-ZMK-ZWD-ZWN-ZWR\";\n-\n-    static boolean err = false;\n-\n-    static Set<Currency> testCurrencies = new HashSet<Currency>();\n-\n-    public static void main(String[] args) throws Exception {\n-        CheckDataVersion.check();\n-        test1();\n-        test2();\n-        getAvailableCurrenciesTest();\n-\n-        if (err) {\n-            throw new RuntimeException(\"Failed: Validation ISO 4217 data\");\n-        }\n+    private static SimpleDateFormat format = null;\n+\n+    \/\/ Sets up the following test data:\n+    \/\/ ISO4217Codes, additionalCodes, testCurrencies, codes\n+    @BeforeAll\n+    static void setUpTestingData() throws Exception {\n+        \/\/ These functions laterally setup 'testCurrencies' and 'codes'\n+        \/\/ at the same time\n+        setUpISO4217Codes();\n+        setUpAdditionalCodes();\n+        setUpOtherCurrencies();\n@@ -123,3 +127,3 @@\n-    static void test1() throws Exception {\n-\n-        try (FileReader fr = new FileReader(new File(System.getProperty(\"test.src\", \".\"), datafile));\n+    \/\/ Parse the ISO4217 file and populate ISO4217Codes and testCurrencies.\n+    private static void setUpISO4217Codes() throws Exception{\n+        try (FileReader fr = new FileReader(dataFile);\n@@ -129,2 +133,0 @@\n-            SimpleDateFormat format = null;\n-\n@@ -133,0 +135,1 @@\n+                    \/\/ Skip comments and empty lines\n@@ -135,1 +138,0 @@\n-\n@@ -139,0 +141,1 @@\n+                    \/\/ Skip invalid countries\n@@ -141,0 +144,5 @@\n+                \/\/ If the country is valid, process the additional columns\n+                processColumns(tokens, country);\n+            }\n+        }\n+    }\n@@ -142,9 +150,23 @@\n-                String currency;\n-                String numeric;\n-                String minorUnit;\n-                int tokensCount = tokens.countTokens();\n-                if (tokensCount < 3) {\n-                    currency = \"\";\n-                    numeric = \"0\";\n-                    minorUnit = \"0\";\n-                } else {\n+    private static void processColumns(StringTokenizer tokens, String country) throws ParseException {\n+        String currency;\n+        String numeric;\n+        String minorUnit;\n+        int tokensCount = tokens.countTokens();\n+        if (tokensCount < 3) {\n+            \/\/ Ill-defined columns\n+            currency = \"\";\n+            numeric = \"0\";\n+            minorUnit = \"0\";\n+        } else {\n+            \/\/ Fully defined columns\n+            currency = tokens.nextToken();\n+            numeric = tokens.nextToken();\n+            minorUnit = tokens.nextToken();\n+            testCurrencies.add(Currency.getInstance(currency));\n+            \/\/ Check for the cut-over if a currency is changing\n+            if (tokensCount > 3) {\n+                if (format == null) {\n+                    createDateFormat();\n+                }\n+                \/\/ If the cut-over already passed, use the new curency for ISO4217Codes\n+                if (format.parse(tokens.nextToken()).getTime() < System.currentTimeMillis()) {\n@@ -155,16 +177,0 @@\n-\n-                    \/\/ check for the cutover\n-                    if (tokensCount > 3) {\n-                        if (format == null) {\n-                            format = new SimpleDateFormat(\"yyyy-MM-dd-HH-mm-ss\", Locale.US);\n-                            format.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n-                            format.setLenient(false);\n-                        }\n-                        if (format.parse(tokens.nextToken()).getTime() <\n-                            System.currentTimeMillis()) {\n-                            currency = tokens.nextToken();\n-                            numeric = tokens.nextToken();\n-                            minorUnit = tokens.nextToken();\n-                            testCurrencies.add(Currency.getInstance(currency));\n-                        }\n-                    }\n@@ -172,3 +178,0 @@\n-                int index = toIndex(country);\n-                testCountryCurrency(country, currency, Integer.parseInt(numeric),\n-                    Integer.parseInt(minorUnit), index);\n@@ -177,0 +180,16 @@\n+        int index = toIndex(country);\n+        ISO4217Codes.add(Arguments.of(country, currency, Integer.parseInt(numeric),\n+                Integer.parseInt(minorUnit), index));\n+        codes[index] = DEFINED;\n+    }\n+\n+    \/\/ Generates a unique index for an alpha-2 country\n+    private static int toIndex(String country) {\n+        return ((country.charAt(0) - 'A') * ALPHA_NUM + country.charAt(1) - 'A');\n+    }\n+\n+    private static void createDateFormat() {\n+        format = new SimpleDateFormat(\"yyyy-MM-dd-HH-mm-ss\", Locale.US);\n+        format.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n+        format.setLenient(false);\n+    }\n@@ -178,7 +197,9 @@\n-        for (int i = 0; i < additionalCodes.length; i++) {\n-            int index = toIndex(additionalCodes[i][0]);\n-            if (additionalCodes[i][1].length() != 0) {\n-                testCountryCurrency(additionalCodes[i][0], additionalCodes[i][1],\n-                    Integer.parseInt(additionalCodes[i][2]),\n-                    Integer.parseInt(additionalCodes[i][3]), index);\n-                testCurrencies.add(Currency.getInstance(additionalCodes[i][1]));\n+    \/\/ Process 'extraCodes', turning them into JUnit arguments and populate\n+    \/\/ both additionalCodes and testCurrencies.\n+    private static void setUpAdditionalCodes() {\n+        for (String[] extraCode : extraCodes) {\n+            int index = toIndex(extraCode[0]);\n+            if (extraCode[1].length() != 0) {\n+                additionalCodes.add(Arguments.of(extraCode[0], extraCode[1],\n+                        Integer.parseInt(extraCode[2]), Integer.parseInt(extraCode[3]), index));\n+                testCurrencies.add(Currency.getInstance(extraCode[1]));\n@@ -186,1 +207,1 @@\n-                codes[index] = SKIPPED;\n+                codes[index] = SKIPPED; \/\/ For example, Antarctica\n@@ -191,2 +212,8 @@\n-    static int toIndex(String s) {\n-        return ((s.charAt(0) - 'A') * ALPHA_NUM + s.charAt(1) - 'A');\n+    \/\/ The previous set-up method populated most of testCurrencies. This\n+    \/\/ method finishes populating the list with 'otherCodes'.\n+    private static void setUpOtherCurrencies() {\n+        \/\/ Add otherCodes\n+        StringTokenizer st = new StringTokenizer(otherCodes, \"-\");\n+        while (st.hasMoreTokens()) {\n+            testCurrencies.add(Currency.getInstance(st.nextToken()));\n+        }\n@@ -195,6 +222,5 @@\n-    static void testCountryCurrency(String country, String currencyCode,\n-                                int numericCode, int digits, int index) {\n-        if (currencyCode.length() == 0) {\n-            return;\n-        }\n-        testCurrencyDefined(currencyCode, numericCode, digits);\n+    \/\/ Check that the data file is up-to-date\n+    @Test\n+    public void dataVersionTest() {\n+        CheckDataVersion.check();\n+    }\n@@ -202,9 +228,14 @@\n-        Locale loc = Locale.of(\"\", country);\n-        try {\n-            Currency currency = Currency.getInstance(loc);\n-            if (!currency.getCurrencyCode().equals(currencyCode)) {\n-                System.err.println(\"Error: [\" + country + \":\" +\n-                    loc.getDisplayCountry() + \"] expected: \" + currencyCode +\n-                    \", got: \" + currency.getCurrencyCode());\n-                err = true;\n-            }\n+    \/**\n+     * Tests the JDK's ISO4217 data and ensures the values for getNumericCode(),\n+     * getDefaultFractionDigits(), and getCurrencyCode() are as expected.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource({\"ISO4217CodesProvider\", \"additionalCodesProvider\"})\n+    public void countryCurrencyTest(String country, String currencyCode,\n+                                    int numericCode, int digits, int index) {\n+        currencyTest(currencyCode, numericCode, digits);\n+        countryTest(country, currencyCode);\n+        assertNotEquals(codes[index], TESTED,\n+                \"Error: Re-testing a previously defined code, possible duplication\");\n+        codes[index] = TESTED;\n+    }\n@@ -212,11 +243,12 @@\n-            if (codes[index] != UNDEFINED) {\n-                System.out.println(\"Warning: [\" + country + \":\" +\n-                    loc.getDisplayCountry() +\n-                    \"] multiple definitions. currency code=\" + currencyCode);\n-            }\n-            codes[index] = DEFINED;\n-        }\n-        catch (Exception e) {\n-            System.err.println(\"Error: \" + e + \": Country=\" + country);\n-            err = true;\n-        }\n+    \/\/ Test a Currency built from currencyCode\n+    private static void currencyTest(String currencyCode, int numericCode, int digits) {\n+        Currency currency = Currency.getInstance(currencyCode);\n+        assertEquals(currency.getNumericCode(), numericCode);\n+        assertEquals(currency.getDefaultFractionDigits(), digits);\n+    }\n+\n+    \/\/ Test a Currency built from country\n+    private static void countryTest(String country, String currencyCode) {\n+        Locale loc = Locale.of(\"\", country);\n+        Currency currency = Currency.getInstance(loc);\n+        assertEquals(currency.getCurrencyCode(), currencyCode);\n@@ -225,3 +257,3 @@\n-    static void testCurrencyDefined(String currencyCode, int numericCode, int digits) {\n-        try {\n-            Currency currency = currency = Currency.getInstance(currencyCode);\n+    private static List<Arguments> ISO4217CodesProvider() {\n+        return ISO4217Codes;\n+    }\n@@ -229,5 +261,3 @@\n-            if (currency.getNumericCode() != numericCode) {\n-                System.err.println(\"Error: [\" + currencyCode + \"] expected: \" +\n-                    numericCode + \"; got: \" + currency.getNumericCode());\n-                err = true;\n-            }\n+    private static List<Arguments> additionalCodesProvider() {\n+        return additionalCodes;\n+    }\n@@ -235,4 +265,19 @@\n-            if (currency.getDefaultFractionDigits() != digits) {\n-                System.err.println(\"Error: [\" + currencyCode + \"] expected: \" +\n-                    digits + \"; got: \" + currency.getDefaultFractionDigits());\n-                err = true;\n+    \/**\n+     * Tests trying to create a Currency from an invalid alpha-2 country either\n+     * throws an IllegalArgumentException or returns null. The test data\n+     * supplied is every possible combination of AA -> ZZ.\n+     *\/\n+    @Test\n+    public void twoLetterCodesTest() {\n+        for (String country : codeCombos()) {\n+            if (codes[toIndex(country)] == UNDEFINED) {\n+                \/\/ if a code is undefined \/ 0, creating a Currency from it\n+                \/\/ should throw an IllegalArgumentException\n+                assertThrows(IllegalArgumentException.class,\n+                        () -> Currency.getInstance(Locale.of(\"\", country)),\n+                        \"Error: This should be an undefined code and throw IllegalArgumentException: \" + country);\n+            } else if (codes[toIndex(country)] == SKIPPED) {\n+                \/\/ if a code is marked as skipped \/ 2, creating a Currency from it\n+                \/\/ should return null\n+                assertNull(Currency.getInstance(Locale.of(\"\", country)),\n+                        \"Error: Currency.getInstance() for this locale should return null: \" + country);\n@@ -241,5 +286,0 @@\n-        catch (Exception e) {\n-            System.err.println(\"Error: \" + e + \": Currency code=\" +\n-                currencyCode);\n-            err = true;\n-        }\n@@ -248,1 +288,3 @@\n-    static void test2() {\n+    \/\/ This method generates code combos from AA to ZZ\n+    private static List<String> codeCombos() {\n+        List<String> codeCombos = new ArrayList<>();\n@@ -252,34 +294,3 @@\n-                code[0] = (char)('A'+ i);\n-                code[1] = (char)('A'+ j);\n-                String country = new String(code);\n-                boolean ex;\n-\n-                if (codes[toIndex(country)] == UNDEFINED) {\n-                    ex = false;\n-                    try {\n-                        Currency.getInstance(Locale.of(\"\", country));\n-                    }\n-                    catch (IllegalArgumentException e) {\n-                        ex = true;\n-                    }\n-                    if (!ex) {\n-                        System.err.println(\"Error: This should be an undefined code and throw IllegalArgumentException: \" +\n-                            country);\n-                        err = true;\n-                    }\n-                } else if (codes[toIndex(country)] == SKIPPED) {\n-                    Currency cur = null;\n-                    try {\n-                        cur = Currency.getInstance(Locale.of(\"\", country));\n-                    }\n-                    catch (Exception e) {\n-                        System.err.println(\"Error: \" + e + \": Country=\" +\n-                            country);\n-                        err = true;\n-                    }\n-                    if (cur != null) {\n-                        System.err.println(\"Error: Currency.getInstance() for an this locale should return null: \" +\n-                            country);\n-                        err = true;\n-                    }\n-                }\n+                code[0] = (char) ('A' + i);\n+                code[1] = (char) ('A' + j);\n+                codeCombos.add(new String(code));\n@@ -288,0 +299,1 @@\n+        return codeCombos;\n@@ -290,4 +302,4 @@\n-    \/**\n-     * This test depends on test1(), where 'testCurrencies' set is constructed\n-     *\/\n-    static void getAvailableCurrenciesTest() {\n+    \/\/ This method ensures that getAvailableCurrencies() returns\n+    \/\/ the expected amount of currencies.\n+    @Test\n+    public void getAvailableCurrenciesTest() {\n@@ -295,0 +307,4 @@\n+        \/\/ Ensure that testCurrencies has all the JRE currency codes\n+        assertTrue(testCurrencies.containsAll(jreCurrencies),\n+                getSetDiffs(jreCurrencies, testCurrencies));\n+    }\n@@ -296,14 +312,6 @@\n-        \/\/ add otherCodes\n-        StringTokenizer st = new StringTokenizer(otherCodes, \"-\");\n-        while (st.hasMoreTokens()) {\n-            testCurrencies.add(Currency.getInstance(st.nextToken()));\n-        }\n-\n-        if (!testCurrencies.containsAll(jreCurrencies)) {\n-            System.err.print(\"Error: getAvailableCurrencies() returned extra currencies than expected: \");\n-            jreCurrencies.removeAll(testCurrencies);\n-            for (Currency c : jreCurrencies) {\n-                System.err.print(\" \"+c);\n-            }\n-            System.err.println();\n-            err = true;\n+    private static String getSetDiffs(Set<Currency> jreCurrencies, Set<Currency> testCurrencies) {\n+        StringBuilder bldr = new StringBuilder();\n+        bldr.append(\"Error: getAvailableCurrencies() returned unexpected currencies: \");\n+        jreCurrencies.removeAll(testCurrencies);\n+        for (Currency curr : jreCurrencies) {\n+            bldr.append(\" \" + curr);\n@@ -311,0 +319,2 @@\n+        bldr.append(\"\\n\");\n+        return bldr.toString();\n","filename":"test\/jdk\/java\/util\/Currency\/ValidateISO4217.java","additions":236,"deletions":226,"binary":false,"changes":462,"status":"modified"},{"patch":"@@ -3,2 +3,2 @@\n-# Amendments up until ISO 4217 AMENDMENT NUMBER 175\n-#   (As of 31 March 2023)\n+# Amendments up until ISO 4217 AMENDMENT NUMBER 176\n+#   (As of 06 December 2023)\n@@ -9,1 +9,1 @@\n-DATAVERSION=175\n+DATAVERSION=176\n@@ -70,1 +70,1 @@\n-HR\tHRK\t191\t2\t2022-12-31-23-00-00\tEUR\t978\t2\n+HR\tEUR\t978\t2\n@@ -72,1 +72,1 @@\n-CW\tANG\t532\t2\n+CW\tANG\t532\t2\t2025-04-01-04-00-00\tXCG\t532\t2\n@@ -236,1 +236,1 @@\n-SX\tANG\t532\t2\n+SX\tANG\t532\t2\t2025-04-01-04-00-00\tXCG\t532\t2\n","filename":"test\/jdk\/java\/util\/Currency\/tablea1.txt","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(JAVA_OPTS, TEST_CLASS);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(JAVA_OPTS, TEST_CLASS);\n","filename":"test\/jdk\/java\/util\/Formatter\/BasicTestLauncher.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,98 @@\n+\/*\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+ \/*\n+ * @test\n+ * @bug 8179071 8202537 8231273 8251317\n+ * @summary Test that language aliases of CLDR supplemental metadata are handled correctly.\n+ * @modules jdk.localedata\n+ * @run junit\/othervm -Djava.locale.providers=CLDR AliasesShouldBeRecognizedInCLDR\n+ *\/\n+\n+\/*\n+ * This fix is dependent on a particular version of CLDR data.\n+ *\/\n+\n+import java.time.Month;\n+import java.time.format.TextStyle;\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Locale;\n+import java.util.Set;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+public class AliasesShouldBeRecognizedInCLDR {\n+\n+    \/*\n+     * Deprecated and Legacy tags.\n+     * As of CLDR 38, language aliases for some legacy tags have been removed.\n+     *\/\n+    private static final Set<String> LegacyAliases = Set.of(\n+            \"zh-guoyu\", \"zh-min-nan\", \"i-klingon\", \"i-tsu\",\n+            \"sgn-CH-DE\", \"mo\", \"i-tay\", \"scc\",\n+            \"i-hak\", \"sgn-BE-FR\", \"i-lux\", \"tl\", \"zh-hakka\", \"i-ami\", \"aa-SAAHO\",\n+            \"zh-xiang\", \"i-pwn\", \"sgn-BE-NL\", \"jw\", \"sh\", \"i-bnn\");\n+\n+    \/\/ Ensure the display name for the given tag's January is correct\n+    @ParameterizedTest\n+    @MethodSource(\"shortJanuaryNames\")\n+    public void janDisplayNameTest(String tag, String expected) {\n+        Locale target = Locale.forLanguageTag(tag);\n+        Month day = Month.JANUARY;\n+        TextStyle style = TextStyle.SHORT;\n+        String actual = day.getDisplayName(style, target);\n+        assertEquals(expected, actual);\n+    }\n+\n+    \/\/ Expected month format data for locales after language aliases replacement.\n+    private static Stream<Arguments> shortJanuaryNames() {\n+        return Stream.of(\n+                Arguments.of(\"pa-PK\", \"\\u0a1c\\u0a28\"),\n+                Arguments.of(\"uz-AF\", \"yan\"),\n+                Arguments.of(\"sr-ME\", \"\\u0458\\u0430\\u043d\"),\n+                Arguments.of(\"scc\", \"\\u0458\\u0430\\u043d\"),\n+                Arguments.of(\"sh\", \"jan\"),\n+                Arguments.of(\"ha-Latn-NE\", \"Jan\"),\n+                Arguments.of(\"i-lux\", \"Jan.\")\n+        );\n+    }\n+\n+    \/\/ getAvailableLocales() should not contain any deprecated or Legacy language tags\n+    @Test\n+    public void invalidTagsTest() {\n+        Set<String> invalidTags = new HashSet<>();\n+        Arrays.stream(Locale.getAvailableLocales())\n+                .map(Locale::toLanguageTag)\n+                .forEach(tag -> {if(LegacyAliases.contains(tag)) {invalidTags.add(tag);}});\n+        assertTrue(invalidTags.isEmpty(),\n+                \"Deprecated and Legacy tags found  \" + invalidTags + \" in AvailableLocales \");\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/AliasesShouldBeRecognizedInCLDR.java","additions":98,"deletions":0,"binary":false,"changes":98,"status":"added"},{"patch":"@@ -1,76 +0,0 @@\n-\/*\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\/*\n- * @test\n- * @bug 4152725\n- * @summary Verify that the default locale can be specified from the\n- * command line.\n- * @run main\/othervm -Duser.language=de -Duser.country=DE -Duser.variant=EURO\n- *      Bug4152725 de_DE_EURO\n- * @run main\/othervm -Duser.language=ja -Duser.country= -Duser.variant=\n- *      Bug4152725 ja\n- * @run main\/othervm -Duser.language=en -Duser.country=SG -Duser.variant=\n- *      Bug4152725 en_SG\n- * @run main\/othervm -Duser.language= -Duser.country=DE -Duser.variant=EURO\n- *      Bug4152725 _DE_EURO\n- * @run main\/othervm -Duser.language=ja -Duser.country= -Duser.variant=YOMI\n- *      Bug4152725 ja__YOMI\n- * @run main\/othervm -Duser.language= -Duser.country= -Duser.variant=EURO\n- *      Bug4152725 __EURO\n- * @run main\/othervm -Duser.language=de -Duser.region=DE_EURO\n- *      Bug4152725 de_DE_EURO\n- *\/\n-\n-import java.util.Locale;\n-\n-public class Bug4152725 {\n-\n-    public static void main(String[] args) {\n-\n-        if (args.length != 1) {\n-            throw new RuntimeException(\"expected locale needs to be specified\");\n-        }\n-\n-        Locale locale = Locale.getDefault();\n-\n-        \/\/ don't use Locale.toString - it's bogus\n-        String language = locale.getLanguage();\n-        String country = locale.getCountry();\n-        String variant = locale.getVariant();\n-        String localeID = null;\n-        if (variant.length() > 0) {\n-            localeID = language + \"_\" + country + \"_\" + variant;\n-        } else if (country.length() > 0) {\n-            localeID = language + \"_\" + country;\n-        } else {\n-            localeID = language;\n-        }\n-\n-        if (localeID.equals(args[0])) {\n-            System.out.println(\"Correctly set from command line: \" + localeID);\n-        } else {\n-            throw new RuntimeException(\"expected default locale: \" + args[0]\n-                    + \", actual default locale: \" + localeID);\n-        }\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/Bug4152725.java","additions":0,"deletions":76,"binary":false,"changes":76,"status":"deleted"},{"patch":"@@ -1,86 +0,0 @@\n-\/*\n- * Copyright (c) 2010, 2012, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/*\n- * @test\n- * @bug 6989440\n- * @summary Verify ConcurrentModificationException is not thrown with multiple\n- *     thread accesses.\n- * @modules java.base\/sun.util.locale.provider\n- * @compile -XDignore.symbol.file=true Bug6989440.java\n- * @run main Bug6989440\n- *\/\n-import java.text.spi.DateFormatProvider;\n-import java.util.spi.LocaleNameProvider;\n-import java.util.spi.LocaleServiceProvider;\n-import java.util.spi.TimeZoneNameProvider;\n-\n-import sun.util.locale.provider.LocaleServiceProviderPool;\n-\n-public class Bug6989440 {\n-    static volatile boolean failed;  \/\/ false\n-    static final int THREADS = 50;\n-\n-    public static void main(String[] args) throws Exception {\n-        Thread[] threads = new Thread[THREADS];\n-        for (int i=0; i<threads.length; i++)\n-            threads[i] = new TestThread();\n-        for (int i=0; i<threads.length; i++)\n-            threads[i].start();\n-        for (int i=0; i<threads.length; i++)\n-            threads[i].join();\n-\n-        if (failed)\n-            throw new RuntimeException(\"Failed: check output\");\n-    }\n-\n-    static class TestThread extends Thread {\n-        private Class<? extends LocaleServiceProvider> cls;\n-        private static int count;\n-\n-        public TestThread(Class<? extends LocaleServiceProvider> providerClass) {\n-            cls = providerClass;\n-        }\n-\n-        public TestThread() {\n-            int which = count++ % 3;\n-            switch (which) {\n-                case 0 : cls = LocaleNameProvider.class; break;\n-                case 1 : cls = TimeZoneNameProvider.class; break;\n-                case 2 : cls = DateFormatProvider.class; break;\n-                default : throw new AssertionError(\"Should not reach here\");\n-            }\n-        }\n-\n-        public void run() {\n-            try {\n-                LocaleServiceProviderPool pool = LocaleServiceProviderPool.getPool(cls);\n-                pool.getAvailableLocales();\n-            } catch (Exception e) {\n-                System.out.println(e);\n-                e.printStackTrace();\n-                failed = true;\n-            }\n-        }\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/Bug6989440.java","additions":0,"deletions":86,"binary":false,"changes":86,"status":"deleted"},{"patch":"@@ -1,159 +0,0 @@\n-\/*\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\/*\n- * @test\n- * @bug 8035133\n- * @summary Checks that the tags matching the range with quality weight q=0\n- *          e.g. en;q=0 must be elimited and must not be the part of output\n- *\/\n-\n-import java.util.ArrayList;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Locale;\n-\n-\n-public class Bug8035133 {\n-\n-    private static boolean err = false;\n-\n-    public static void main(String[] args) {\n-\n-        \/\/ checking Locale.lookup with de-ch;q=0\n-        checkLookup(\"en;q=0.1, *-ch;q=0.5, de-ch;q=0\",\n-                \"de-ch, en, fr-ch\", \"fr-CH\");\n-\n-        \/* checking Locale.lookup with *;q=0 '*' should be ignored\n-         * in lookup\n-         *\/\n-        checkLookup(\"en;q=0.1, *-ch;q=0.5, *;q=0\",\n-                \"de-ch, en, fr-ch\", \"de-CH\");\n-\n-        \/\/ checking Locale.filter with fr-ch;q=0 in BASIC_FILTERING\n-        checkFilter(\"en;q=0.1, fr-ch;q=0.0, de-ch;q=0.5\",\n-                \"de-ch, en, fr-ch\", \"de-CH, en\");\n-\n-        \/\/ checking Locale.filter with *;q=0 in BASIC_FILTERING\n-        checkFilter(\"de-ch;q=0.6, *;q=0\", \"de-ch, fr-ch\", \"\");\n-\n-        \/\/ checking Locale.filter with *;q=0 in BASIC_FILTERING\n-        checkFilter(\"de-ch;q=0.6, de;q=0\", \"de-ch\", \"\");\n-\n-        \/\/ checking Locale.filter with *;q=0.6, en;q=0 in BASIC_FILTERING\n-        checkFilter(\"*;q=0.6, en;q=0\", \"de-ch, hi-in, en\", \"de-CH, hi-IN\");\n-\n-        \/\/ checking Locale.filter with de-ch;q=0 in EXTENDED_FILTERING\n-        checkFilter(\"en;q=0.1, *-ch;q=0.5, de-ch;q=0\",\n-                \"de-ch, en, fr-ch\", \"fr-CH, en\");\n-\n-        \/* checking Locale.filter with *-ch;q=0 in EXTENDED_FILTERING which\n-         * must make filter to return \"\" empty or no match\n-         *\/\n-        checkFilter(\"de-ch;q=0.5, *-ch;q=0\", \"de-ch, fr-ch\", \"\");\n-\n-        \/* checking Locale.filter with *;q=0 in EXTENDED_FILTERING which\n-         * must make filter to return \"\" empty or no match\n-         *\/\n-        checkFilter(\"*-ch;q=0.5, *;q=0\", \"de-ch, fr-ch\", \"\");\n-\n-        \/* checking Locale.filter with *;q=0.6, *-Latn;q=0 in\n-         * EXTENDED_FILTERING\n-         *\/\n-        checkFilter(\"*;q=0.6, *-Latn;q=0\", \"de-ch, hi-in, en-Latn\",\n-                \"de-CH, hi-IN\");\n-\n-        if (err) {\n-            throw new RuntimeException(\"[LocaleMatcher method(s) failed]\");\n-        }\n-\n-    }\n-\n-    private static void checkLookup(String ranges, String tags,\n-            String expectedLocale) {\n-\n-        List<Locale.LanguageRange> priorityList = Locale.LanguageRange\n-                .parse(ranges);\n-        List<Locale> localeList = generateLocales(tags);\n-        Locale loc = Locale.lookup(priorityList, localeList);\n-        String actualLocale\n-                = loc.toLanguageTag();\n-\n-        if (!actualLocale.equals(expectedLocale)) {\n-            System.err.println(\"Locale.lookup failed with ranges: \" + ranges\n-                    + \" Expected: \" + expectedLocale\n-                    + \" Actual: \" + actualLocale);\n-            err = true;\n-        }\n-\n-    }\n-\n-    private static void checkFilter(String ranges, String tags,\n-            String expectedLocales) {\n-\n-        List<Locale.LanguageRange> priorityList = Locale.LanguageRange\n-                .parse(ranges);\n-        List<Locale> localeList = generateLocales(tags);\n-        String actualLocales = getLocalesAsString(\n-                Locale.filter(priorityList, localeList));\n-\n-        if (!actualLocales.equals(expectedLocales)) {\n-            System.err.println(\"Locale.filter failed with ranges: \" + ranges\n-                    + \" Expected: \" + expectedLocales\n-                    + \" Actual: \" + actualLocales);\n-            err = true;\n-        }\n-\n-    }\n-\n-    private static List<Locale> generateLocales(String tags) {\n-        if (tags == null) {\n-            return null;\n-        }\n-\n-        List<Locale> localeList = new ArrayList<>();\n-        if (tags.equals(\"\")) {\n-            return localeList;\n-        }\n-        String[] t = tags.split(\", \");\n-        for (String tag : t) {\n-            localeList.add(Locale.forLanguageTag(tag));\n-        }\n-        return localeList;\n-    }\n-\n-    private static String getLocalesAsString(List<Locale> locales) {\n-        StringBuilder sb = new StringBuilder();\n-\n-        Iterator<Locale> itr = locales.iterator();\n-        if (itr.hasNext()) {\n-            sb.append(itr.next().toLanguageTag());\n-        }\n-        while (itr.hasNext()) {\n-            sb.append(\", \");\n-            sb.append(itr.next().toLanguageTag());\n-        }\n-\n-        return sb.toString().trim();\n-    }\n-\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/Bug8035133.java","additions":0,"deletions":159,"binary":false,"changes":159,"status":"deleted"},{"patch":"@@ -1,81 +0,0 @@\n-\/*\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/*\n- * @test\n- * @bug 8135061\n- * @summary Checks that the Locale.lookup executes properly without throwing\n- *          any exception for some specific language ranges\n- * @run main Bug8135061\n- *\/\n-\n-import java.util.Collection;\n-import java.util.Collections;\n-import java.util.List;\n-import java.util.Locale;\n-import java.util.Locale.LanguageRange;\n-\n-public class Bug8135061 {\n-\n-    public static void main(String[] args) {\n-\n-        \/* lookup should run without throwing any exception and\n-         * return null as the language range does not match with the language\n-         * tag\n-         *\/\n-        List<LanguageRange> ranges = LanguageRange.parse(\"nv\");\n-        Collection<Locale> locales = Collections.singleton(Locale.ENGLISH);\n-\n-        try {\n-            Locale match = Locale.lookup(ranges, locales);\n-            if (match != null) {\n-                throw new RuntimeException(\"Locale.lookup returned non-null: \"\n-                        + match);\n-            }\n-        } catch (Exception ex) {\n-            throw new RuntimeException(\"[Locale.lookup failed on language\"\n-                    + \" range: \" + ranges + \" and language tags \"\n-                    + locales + \"]\", ex);\n-        }\n-\n-        \/* lookup should run without throwing any exception and\n-         * return \"nv\" as the matching tag\n-         *\/\n-        ranges = LanguageRange.parse(\"i-navajo\");\n-        locales = Collections.singleton(Locale.of(\"nv\"));\n-\n-        try {\n-            Locale match = Locale.lookup(ranges, locales);\n-            if (!match.toLanguageTag().equals(\"nv\")) {\n-                throw new RuntimeException(\"Locale.lookup returned unexpected\"\n-                        + \" result: \" + match);\n-            }\n-        } catch (Exception ex) {\n-            throw new RuntimeException(\"[Locale.lookup failed on language\"\n-                    + \" range: \" + ranges + \" and language tags \"\n-                    + locales + \"]\", ex);\n-        }\n-\n-    }\n-\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/Bug8135061.java","additions":0,"deletions":81,"binary":false,"changes":81,"status":"deleted"},{"patch":"@@ -1,224 +0,0 @@\n-\/*\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/*\n- * @test\n- * @bug 8159420\n- * @summary Checks the proper execution of LanguageRange.parse() and\n- *          other LocaleMatcher methods when used in the locales like\n- *          Turkish, because the toLowerCase() method is invoked in the\n- *          parse() and other LocaleMatcher methods.\n- *          e.g. \"HI-Deva\".toLowerCase() in the Turkish locale returns\n- *          \"h-deva\", where '' is the LATIN SMALL LETTER DOTLESS I character\n- *          which is not allowed in the language ranges\/tags.\n- * @compile -encoding utf-8 Bug8159420.java\n- * @run main Bug8159420\n- *\/\n-\n-import java.util.List;\n-import java.util.Locale;\n-import java.util.Locale.LanguageRange;\n-import java.util.Locale.FilteringMode;\n-import java.util.LinkedHashMap;\n-import java.util.HashMap;\n-import java.util.Iterator;\n-import java.util.ArrayList;\n-import static java.util.Locale.FilteringMode.EXTENDED_FILTERING;\n-import static java.util.Locale.FilteringMode.AUTOSELECT_FILTERING;\n-\n-public class Bug8159420 {\n-\n-    static boolean err = false;\n-\n-    public static void main(String[] args) {\n-\n-        Locale origLocale = null;\n-        try {\n-\n-            origLocale = Locale.getDefault();\n-            Locale.setDefault(Locale.of(\"tr\", \"TR\"));\n-            testParse();\n-            testFilter(EXTENDED_FILTERING);\n-            testFilter(AUTOSELECT_FILTERING);\n-            testLookup();\n-            testMapEquivalents();\n-\n-            if (err) {\n-                throw new RuntimeException(\"[LocaleMatcher method(s) in turkish\"\n-                        + \" locale failed]\");\n-            }\n-\n-        } finally {\n-            Locale.setDefault(origLocale);\n-        }\n-\n-    }\n-\n-    \/* Before the fix, the testParse() method was throwing\n-     * IllegalArgumentException in Turkish Locale\n-     *\/\n-    private static void testParse() {\n-        String ranges = \"HI-Deva, ja-hIrA-JP, RKI\";\n-        try {\n-            LanguageRange.parse(ranges);\n-        } catch (Exception ex) {\n-            System.err.println(\"[testParse() failed on range string: \"\n-                    + ranges + \"] due to \"+ex);\n-            err = true;\n-        }\n-    }\n-\n-    \/* Before the fix, the testFilter() method was returning empty list in\n-     * Turkish Locale\n-     *\/\n-    private static void testFilter(FilteringMode mode) {\n-\n-        String ranges = \"hi-IN, itc-Ital\";\n-        String tags = \"hi-IN, itc-Ital\";\n-        List<LanguageRange> priorityList = LanguageRange.parse(ranges);\n-        List<Locale> tagList = generateLocales(tags);\n-        String actualLocales = showLocales(Locale.filter(priorityList, tagList, mode));\n-        String expectedLocales = \"hi-IN, itc-Ital\";\n-\n-        if (!expectedLocales.equals(actualLocales)) {\n-            System.err.println(\"testFilter(\" + mode + \") failed on language ranges:\"\n-                    + \" [\" + ranges + \"] and language tags: [\" + tags + \"]\");\n-            err = true;\n-        }\n-    }\n-\n-    \/* Before the fix, the testLookup() method was returning null in Turkish\n-     * Locale\n-     *\/\n-    private static void testLookup() {\n-        boolean error = false;\n-        String ranges = \"hi-IN, itc-Ital\";\n-        String tags = \"hi-IN, itc-Ital\";\n-        List<LanguageRange> priorityList = LanguageRange.parse(ranges);\n-        List<Locale> localeList = generateLocales(tags);\n-        Locale actualLocale\n-                = Locale.lookup(priorityList, localeList);\n-        String actualLocaleString = \"\";\n-\n-        if (actualLocale != null) {\n-            actualLocaleString = actualLocale.toLanguageTag();\n-        } else {\n-            error = true;\n-        }\n-\n-        String expectedLocale = \"hi-IN\";\n-\n-        if (!expectedLocale.equals(actualLocaleString)) {\n-            error = true;\n-        }\n-\n-        if (error) {\n-            System.err.println(\"testLookup() failed on language ranges:\"\n-                    + \" [\" + ranges + \"] and language tags: [\" + tags + \"]\");\n-            err = true;\n-        }\n-\n-    }\n-\n-    \/* Before the fix, testMapEquivalents() method was returning only \"hi-in\"\n-     * in Turkish Locale\n-     *\/\n-    private static void testMapEquivalents() {\n-\n-        String ranges = \"HI-IN\";\n-        List<LanguageRange> priorityList = LanguageRange.parse(ranges);\n-        HashMap<String, List<String>> map = new LinkedHashMap<>();\n-        List<String> equivalentList = new ArrayList<>();\n-        equivalentList.add(\"HI\");\n-        equivalentList.add(\"HI-Deva\");\n-        map.put(\"HI\", equivalentList);\n-\n-        List<LanguageRange> expected = new ArrayList<>();\n-        expected.add(new LanguageRange(\"hi-in\"));\n-        expected.add(new LanguageRange(\"hi-deva-in\"));\n-        List<LanguageRange> got\n-                = LanguageRange.mapEquivalents(priorityList, map);\n-\n-        if (!areEqual(expected, got)) {\n-            System.err.println(\"testMapEquivalents() failed\");\n-            err = true;\n-        }\n-\n-    }\n-\n-    private static boolean areEqual(List<LanguageRange> expected,\n-            List<LanguageRange> got) {\n-\n-        boolean error = false;\n-        if (expected.equals(got)) {\n-            return !error;\n-        }\n-\n-        List<LanguageRange> cloneExpected = new ArrayList<>(expected);\n-        cloneExpected.removeAll(got);\n-        if (!cloneExpected.isEmpty()) {\n-            error = true;\n-            System.err.println(\"Found missing range(s): \" + cloneExpected);\n-        }\n-\n-        \/\/ not creating the 'got' clone as the list will not be used after this\n-        got.removeAll(expected);\n-        if (!got.isEmpty()) {\n-            error = true;\n-            System.err.println(\"Found extra range(s): \" + got);\n-        }\n-        return !error;\n-    }\n-\n-    private static List<Locale> generateLocales(String tags) {\n-        if (tags == null) {\n-            return null;\n-        }\n-\n-        List<Locale> localeList = new ArrayList<>();\n-        if (tags.equals(\"\")) {\n-            return localeList;\n-        }\n-        String[] t = tags.split(\", \");\n-        for (String tag : t) {\n-            localeList.add(Locale.forLanguageTag(tag));\n-        }\n-        return localeList;\n-    }\n-\n-    private static String showLocales(List<Locale> locales) {\n-        StringBuilder sb = new StringBuilder();\n-\n-        Iterator<Locale> itr = locales.iterator();\n-        if (itr.hasNext()) {\n-            sb.append(itr.next().toLanguageTag());\n-        }\n-        while (itr.hasNext()) {\n-            sb.append(\", \");\n-            sb.append(itr.next().toLanguageTag());\n-        }\n-\n-        return sb.toString().trim();\n-    }\n-\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/Bug8159420.java","additions":0,"deletions":224,"binary":false,"changes":224,"status":"deleted"},{"patch":"@@ -1,74 +0,0 @@\n-\/*\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\/*\n- * @test\n- * @bug 8166884\n- * @summary Checks the subsequent call to parse the same language ranges\n- *          which must generate the same list of language ranges\n- *          i.e. the priority list containing equivalents, as in the\n- *          first call\n- *\/\n-\n-import java.util.Arrays;\n-import java.util.List;\n-import java.util.Locale;\n-import java.util.stream.Collectors;\n-\n-public class Bug8166994 {\n-\n-    public static void main(String[] args) {\n-        List<String> list = Arrays.asList(\"ccq-aa\", \"ybd-aa\", \"rki-aa\");\n-        String ranges = \"ccq-aa\";\n-        testParseConsistency(list, ranges);\n-\n-        \/\/ consecutive call to check the language range parse consistency\n-        testParseConsistency(list, ranges);\n-\n-        \/\/ another case with ranges consisting of multiple equivalents and\n-        \/\/ single equivalents\n-        list = Arrays.asList(\"gfx-xz\", \"oun-xz\", \"mwj-xz\", \"vaj-xz\",\n-                \"taj-xy\", \"tsf-xy\");\n-        ranges = \"gfx-xz, taj-xy\";\n-        testParseConsistency(list, ranges);\n-        \/\/ consecutive call to check the language range parse consistency\n-        testParseConsistency(list, ranges);\n-\n-    }\n-\n-    private static void testParseConsistency(List<String> list, String ranges) {\n-        List<String> priorityList = parseRanges(ranges);\n-        if (!list.equals(priorityList)) {\n-            throw new RuntimeException(\"Failed to parse the language range [\"\n-                    + ranges + \"], Expected: \" + list + \" Found: \"\n-                    + priorityList);\n-        }\n-    }\n-\n-    private static List<String> parseRanges(String s) {\n-        return Locale.LanguageRange.parse(s).stream()\n-                .map(Locale.LanguageRange::getRange)\n-                .collect(Collectors.toList());\n-    }\n-\n-}\n-\n","filename":"test\/jdk\/java\/util\/Locale\/Bug8166994.java","additions":0,"deletions":74,"binary":false,"changes":74,"status":"deleted"},{"patch":"@@ -1,90 +0,0 @@\n-\/*\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n- \/*\n- * @test\n- * @bug 8179071 8202537 8231273 8251317\n- * @summary Test that language aliases of CLDR supplemental metadata are handled correctly.\n- * @modules jdk.localedata\n- * @run main\/othervm -Djava.locale.providers=CLDR Bug8179071\n- *\/\n-\n-\/**\n- * This fix is dependent on a particular version of CLDR data.\n- *\/\n-\n-import java.time.Month;\n-import java.time.format.TextStyle;\n-import java.util.Arrays;\n-import java.util.HashSet;\n-import java.util.Locale;\n-import java.util.Map;\n-import java.util.Set;\n-\n-public class Bug8179071 {\n-\n-    \/\/ Deprecated and Legacy tags.\n-    \/\/ As of CLDR 38, language aliases for some of the legacy tags have been removed.\n-    private static final Set<String> LegacyAliases = Set.of(\n-            \"zh-guoyu\", \"zh-min-nan\", \"i-klingon\", \"i-tsu\",\n-            \"sgn-CH-DE\", \"mo\", \"i-tay\", \"scc\",\n-            \"i-hak\", \"sgn-BE-FR\", \"i-lux\", \"tl\", \"zh-hakka\", \"i-ami\", \"aa-SAAHO\",\n-            \"zh-xiang\", \"i-pwn\", \"sgn-BE-NL\", \"jw\", \"sh\", \"i-bnn\");\n-    \/\/ expected month format data for  locales after language aliases replacement.\n-    private static final Map<String, String> shortJanuaryNames = Map.of( \"pa-PK\", \"\\u0a1c\\u0a28\",\n-                                                          \"uz-AF\" , \"yan\",\n-                                                          \"sr-ME\", \"\\u0458\\u0430\\u043d\",\n-                                                          \"scc\", \"\\u0458\\u0430\\u043d\",\n-                                                          \"sh\", \"jan\",\n-                                                          \"ha-Latn-NE\", \"Jan\",\n-                                                          \"i-lux\", \"Jan.\");\n-\n-\n-    private static void test(String tag, String expected) {\n-        Locale target = Locale.forLanguageTag(tag);\n-        Month day = Month.JANUARY;\n-        TextStyle style = TextStyle.SHORT;\n-        String actual = day.getDisplayName(style, target);\n-        if (!actual.equals(expected)) {\n-            throw new RuntimeException(\"failed for locale  \" + tag + \" actual output \" + actual +\"  does not match with  \" + expected);\n-        }\n-    }\n-\n-    \/**\n-     * getAvailableLocales() should not contain any deprecated or Legacy language tags\n-     *\/\n-    private static void checkInvalidTags() {\n-        Set<String> invalidTags = new HashSet<>();\n-        Arrays.asList(Locale.getAvailableLocales()).stream()\n-                .map(loc -> loc.toLanguageTag())\n-                .forEach( tag -> {if(LegacyAliases.contains(tag)) {invalidTags.add(tag);}});\n-        if (!invalidTags.isEmpty()) {\n-          throw new RuntimeException(\"failed: Deprecated and Legacy tags found  \" + invalidTags  + \" in AvailableLocales \");\n-        }\n-    }\n-\n-    public static void main(String[] args) {\n-        shortJanuaryNames.forEach(Bug8179071::test);\n-        checkInvalidTags();\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/Bug8179071.java","additions":0,"deletions":90,"binary":false,"changes":90,"status":"deleted"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run main FilteringModeTest\n+ * @run junit FilteringModeTest\n@@ -35,0 +35,9 @@\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n@@ -37,6 +46,0 @@\n-    private static boolean err = false;\n-    private static List<String> modeNames = List.of(\"AUTOSELECT_FILTERING\",\n-                                                    \"EXTENDED_FILTERING\",\n-                                                    \"IGNORE_EXTENDED_RANGES\",\n-                                                    \"MAP_EXTENDED_RANGES\",\n-                                                    \"REJECT_EXTENDED_RANGES\");\n@@ -44,3 +47,7 @@\n-    public static void main(String[] args) throws Exception {\n-        testValues();\n-        testValueOf();\n+    private static final List<String> expectedModeNames = List.of(\n+            \"AUTOSELECT_FILTERING\",\n+            \"EXTENDED_FILTERING\",\n+            \"IGNORE_EXTENDED_RANGES\",\n+            \"MAP_EXTENDED_RANGES\",\n+            \"REJECT_EXTENDED_RANGES\"\n+    );\n@@ -48,3 +55,7 @@\n-        if (err) {\n-            throw new RuntimeException(\"Failed.\");\n-        }\n+    \/\/ Ensure valueOf() exceptions are thrown\n+    @Test\n+    public void valueOfExceptionsTest() {\n+        assertThrows(IllegalArgumentException.class,\n+                () -> FilteringMode.valueOf(\"\").name());\n+        assertThrows(NullPointerException.class,\n+                () -> FilteringMode.valueOf(null).name());\n@@ -53,14 +64,7 @@\n-    private static void testValueOf() {\n-        try {\n-            FilteringMode.valueOf(\"\").name();\n-            err = true;\n-            System.err.println(\"IAE should be thrown for valueOf(\\\"\\\").\");\n-        } catch (IllegalArgumentException ex) {\n-        }\n-\n-        try {\n-            FilteringMode.valueOf(null).name();\n-            err = true;\n-            System.err.println(\"NPE should be thrown for valueOf(null).\");\n-        } catch (NullPointerException ex) {\n-        }\n+    \/\/ Ensure valueOf() returns expected results\n+    @ParameterizedTest\n+    @MethodSource(\"modes\")\n+    public void valueOfTest(String expectedName) {\n+        String name = FilteringMode.valueOf(expectedName).name();\n+        assertEquals(expectedName, name);\n+    }\n@@ -68,9 +72,2 @@\n-        modeNames.forEach((expectedName) -> {\n-            String name = FilteringMode.valueOf(expectedName).name();\n-            if (!expectedName.equals(name)) {\n-                err = true;\n-                System.err.println(\"FilteringMode.valueOf(\" + expectedName\n-                        + \") returned unexpected value. Expected: \"\n-                        + expectedName + \", got: \" + name);\n-            }\n-        });\n+    private static Stream<String> modes() {\n+        return expectedModeNames.stream();\n@@ -79,1 +76,3 @@\n-    private static void testValues() {\n+    \/\/ Ensure values() returns expected results\n+    @Test\n+    public void valuesTest() {\n@@ -81,1 +80,1 @@\n-        List<String> modeNames2 = Arrays.stream(modeArray)\n+        List<String> actualNames = Arrays.stream(modeArray)\n@@ -84,6 +83,1 @@\n-\n-        if (!modeNames.equals(modeNames2)) {\n-            err = true;\n-            System.err.println(\"FilteringMode.values() returned unexpected value. Expected:\"\n-                    + modeNames + \" Got:\" + modeNames2);\n-        }\n+        assertEquals(expectedModeNames, actualNames);\n","filename":"test\/jdk\/java\/util\/Locale\/FilteringModeTest.java","additions":39,"deletions":45,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @run main Bug4518797 10\n+ * @run main HashCodeShouldBeThreadSafe 10\n@@ -30,2 +30,6 @@\n-import java.util.*;\n-import java.io.*;\n+import java.io.ByteArrayInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+import java.util.Locale;\n@@ -33,2 +37,2 @@\n-\/\/ Usage: java Bug4518797 [duration]\n-public class Bug4518797 {\n+\/\/ Usage: java HashCodeShouldBeThreadSafe [duration]\n+public class HashCodeShouldBeThreadSafe {\n","filename":"test\/jdk\/java\/util\/Locale\/HashCodeShouldBeThreadSafe.java","additions":10,"deletions":6,"binary":false,"changes":16,"previous_filename":"test\/jdk\/java\/util\/Locale\/Bug4518797.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,0 +23,1 @@\n+\n@@ -28,0 +29,1 @@\n+ * @run junit HashCodeTest\n@@ -34,0 +36,4 @@\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+\n@@ -36,1 +42,3 @@\n-    public static void main(String[] args) {\n+    \/\/ Ensure Locale.hashCode() has less than 10% conflicts\n+    @Test\n+    public void hashConflictsTest() {\n@@ -43,2 +51,1 @@\n-        for (int i = 0; i < locales.length; i++) {\n-            Locale loc = locales[i];\n+        for (Locale loc : locales) {\n@@ -58,4 +65,2 @@\n-        if (conflicts >= (locales.length \/ 10)) {\n-            throw new RuntimeException(\"too many conflicts: \" + conflicts\n-                    + \" per \" + locales.length + \" locales\");\n-        }\n+        assertFalse(conflicts >= (locales.length \/ 10),\n+                String.format(\"%s conflicts per %s locales\", conflicts, locales.length));\n","filename":"test\/jdk\/java\/util\/Locale\/HashCodeTest.java","additions":13,"deletions":8,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+    @bug 4184873\n@@ -27,2 +28,1 @@\n-    @run main Bug4184873Test\n-    @bug 4184873\n+    @run main LegacyCodesClassInvariant\n@@ -64,2 +64,6 @@\n-import java.util.*;\n-import java.io.*;\n+import java.io.File;\n+import java.io.FileInputStream;\n+import java.io.FileOutputStream;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+import java.util.Locale;\n@@ -70,1 +74,1 @@\n-public class Bug4184873Test extends IntlTest {\n+public class LegacyCodesClassInvariant extends IntlTest {\n@@ -75,1 +79,1 @@\n-            new Bug4184873Test().run(args);\n+            new LegacyCodesClassInvariant().run(args);\n@@ -107,1 +111,1 @@\n-            final File f = new File(System.getProperty(\"test.src\", \".\"), \"Bug4184873_\"+lang);\n+            final File f = new File(System.getProperty(\"test.src\", \".\"), \"LegacyCodesClassInvariant_\"+lang);\n@@ -128,1 +132,1 @@\n-                    new FileOutputStream(\"Bug4184873_\"+lang));\n+                    new FileOutputStream(\"LegacyCodesClassInvariant_\"+lang));\n","filename":"test\/jdk\/java\/util\/Locale\/LegacyCodesClassInvariant.java","additions":13,"deletions":9,"binary":false,"changes":22,"previous_filename":"test\/jdk\/java\/util\/Locale\/Bug4184873Test.java","status":"renamed"},{"patch":"","filename":"test\/jdk\/java\/util\/Locale\/LegacyCodesClassInvariant_he","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/jdk\/java\/util\/Locale\/Bug4184873_he","status":"renamed"},{"patch":"","filename":"test\/jdk\/java\/util\/Locale\/LegacyCodesClassInvariant_id","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/jdk\/java\/util\/Locale\/Bug4184873_id","status":"renamed"},{"patch":"","filename":"test\/jdk\/java\/util\/Locale\/LegacyCodesClassInvariant_yi","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/jdk\/java\/util\/Locale\/Bug4184873_yi","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm Bug7069824\n+ * @run testng\/othervm LocaleMatchingTest\n@@ -31,2 +31,10 @@\n-import java.util.*;\n-import java.util.Locale.*;\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Locale.FilteringMode;\n+import java.util.Locale.LanguageRange;\n+import java.util.Map;\n+\n@@ -40,1 +48,1 @@\n-public class Bug7069824 {\n+public class LocaleMatchingTest {\n","filename":"test\/jdk\/java\/util\/Locale\/LocaleMatchingTest.java","additions":13,"deletions":5,"binary":false,"changes":18,"previous_filename":"test\/jdk\/java\/util\/Locale\/Bug7069824.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,0 @@\n-import jdk.test.lib.JDKToolLauncher;\n@@ -181,16 +180,12 @@\n-            String param1, String param2, String param3) throws Throwable{\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(Utils.TEST_CLASS_PATH)\n-                .addToolArg(\"-Djava.util.logging.config.class=LocaleProviders$LogConfig\")\n-                .addToolArg(\"-Djava.locale.providers=\" + prefList)\n-                .addToolArg(\"--add-exports=java.base\/sun.util.locale.provider=ALL-UNNAMED\")\n-                .addToolArg(\"LocaleProviders\")\n-                .addToolArg(methodName)\n-                .addToolArg(param1)\n-                .addToolArg(param2)\n-                .addToolArg(param3);\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                .getExitValue();\n+            String param1, String param2, String param3) throws Throwable {\n+\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", Utils.TEST_CLASS_PATH,\n+                \"-Djava.util.logging.config.class=LocaleProviders$LogConfig\",\n+                \"-Djava.locale.providers=\" + prefList,\n+                \"--add-exports=java.base\/sun.util.locale.provider=ALL-UNNAMED\",\n+                \"LocaleProviders\", methodName, param1, param2, param3);\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n","filename":"test\/jdk\/java\/util\/Locale\/LocaleProvidersRun.java","additions":13,"deletions":18,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -0,0 +1,76 @@\n+\/*\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+ * @test\n+ * @bug 4152725\n+ * @summary Verify that the default locale can be specified from the\n+ * command line.\n+ * @run main\/othervm -Duser.language=de -Duser.country=DE -Duser.variant=EURO\n+ *      LocaleShouldSetFromCLI de_DE_EURO\n+ * @run main\/othervm -Duser.language=ja -Duser.country= -Duser.variant=\n+ *      LocaleShouldSetFromCLI ja\n+ * @run main\/othervm -Duser.language=en -Duser.country=SG -Duser.variant=\n+ *      LocaleShouldSetFromCLI en_SG\n+ * @run main\/othervm -Duser.language= -Duser.country=DE -Duser.variant=EURO\n+ *      LocaleShouldSetFromCLI _DE_EURO\n+ * @run main\/othervm -Duser.language=ja -Duser.country= -Duser.variant=YOMI\n+ *      LocaleShouldSetFromCLI ja__YOMI\n+ * @run main\/othervm -Duser.language= -Duser.country= -Duser.variant=EURO\n+ *      LocaleShouldSetFromCLI __EURO\n+ * @run main\/othervm -Duser.language=de -Duser.region=DE_EURO\n+ *      LocaleShouldSetFromCLI de_DE_EURO\n+ *\/\n+\n+import java.util.Locale;\n+\n+public class LocaleShouldSetFromCLI {\n+\n+    public static void main(String[] args) {\n+\n+        if (args.length != 1) {\n+            throw new RuntimeException(\"expected locale needs to be specified\");\n+        }\n+\n+        Locale locale = Locale.getDefault();\n+\n+        \/\/ don't use Locale.toString - it's bogus\n+        String language = locale.getLanguage();\n+        String country = locale.getCountry();\n+        String variant = locale.getVariant();\n+        String localeID = null;\n+        if (variant.length() > 0) {\n+            localeID = language + \"_\" + country + \"_\" + variant;\n+        } else if (country.length() > 0) {\n+            localeID = language + \"_\" + country;\n+        } else {\n+            localeID = language;\n+        }\n+\n+        if (localeID.equals(args[0])) {\n+            System.out.println(\"Correctly set from command line: \" + localeID);\n+        } else {\n+            throw new RuntimeException(\"expected default locale: \" + args[0]\n+                    + \", actual default locale: \" + localeID);\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/LocaleShouldSetFromCLI.java","additions":76,"deletions":0,"binary":false,"changes":76,"status":"added"},{"patch":"@@ -0,0 +1,80 @@\n+\/*\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8135061\n+ * @summary Checks that the Locale.lookup executes properly without throwing\n+ *          any exception for some specific language ranges\n+ * @run junit LookupOnValidRangeTest\n+ *\/\n+\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Locale.LanguageRange;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNull;\n+\n+public class LookupOnValidRangeTest {\n+\n+    \/**\n+     * Lookup should run without throwing any exception and return null as\n+     * the language range does not match with the language tag.\n+     *\/\n+    @Test\n+    public void lookupReturnNullTest() {\n+        List<LanguageRange> ranges = LanguageRange.parse(\"nv\");\n+        Collection<Locale> locales = Collections.singleton(Locale.ENGLISH);\n+        try {\n+            Locale match = Locale.lookup(ranges, locales);\n+            assertNull(match);\n+        } catch (Exception ex) {\n+            throw new RuntimeException(\"[Locale.lookup failed on language\"\n+                    + \" range: \" + ranges + \" and language tags \"\n+                    + locales + \"]\", ex);\n+        }\n+    }\n+\n+    \/**\n+     * Lookup should run without throwing any exception and return \"nv\"\n+     * as the matching tag.\n+     *\/\n+    @Test\n+    public void lookupReturnValueTest() {\n+        List<LanguageRange> ranges = LanguageRange.parse(\"i-navajo\");\n+        Collection<Locale> locales = Collections.singleton(Locale.of(\"nv\"));\n+        try {\n+            Locale match = Locale.lookup(ranges, locales);\n+            assertEquals(match.toLanguageTag(), \"nv\");\n+        } catch (Exception ex) {\n+            throw new RuntimeException(\"[Locale.lookup failed on language\"\n+                    + \" range: \" + ranges + \" and language tags \"\n+                    + locales + \"]\", ex);\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/LookupOnValidRangeTest.java","additions":80,"deletions":0,"binary":false,"changes":80,"status":"added"},{"patch":"@@ -0,0 +1,144 @@\n+\/*\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+ * @test\n+ * @bug 8035133\n+ * @summary Checks that the tags matching the range with quality weight q=0\n+ *          e.g. en;q=0 must be elimited and must not be the part of output\n+ * @run junit MatchEmptyWeightCorrectly\n+ *\/\n+\n+import java.util.ArrayList;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+public class MatchEmptyWeightCorrectly {\n+\n+    \/\/ Ensure weights with 'q=0' work as expected during lookup\n+    @ParameterizedTest\n+    @MethodSource(\"lookupProvider\")\n+    public void lookupTest(String ranges, String tags,\n+            String expectedLocale) {\n+\n+        List<Locale.LanguageRange> priorityList = Locale.LanguageRange\n+                .parse(ranges);\n+        List<Locale> localeList = generateLocales(tags);\n+        Locale loc = Locale.lookup(priorityList, localeList);\n+        String actualLocale = loc.toLanguageTag();\n+        assertEquals(expectedLocale, actualLocale);\n+    }\n+\n+    private static Stream<Arguments> lookupProvider() {\n+        return Stream.of(\n+                \/\/ checking Locale.lookup with de-ch;q=0\n+                Arguments.of(\"en;q=0.1, *-ch;q=0.5, de-ch;q=0\",\n+                        \"de-ch, en, fr-ch\", \"fr-CH\"),\n+                \/\/ checking Locale.lookup with *;q=0 '*' should be ignored in lookup\n+                Arguments.of(\"en;q=0.1, *-ch;q=0.5, *;q=0\",\n+                        \"de-ch, en, fr-ch\", \"de-CH\")\n+        );\n+    }\n+\n+    \/\/ Ensure weights with 'q=0' work as expected during filtering\n+    @ParameterizedTest\n+    @MethodSource(\"filterProvider\")\n+    public void filterTest(String ranges, String tags,\n+            String expectedLocales) {\n+\n+        List<Locale.LanguageRange> priorityList = Locale.LanguageRange\n+                .parse(ranges);\n+        List<Locale> localeList = generateLocales(tags);\n+        String actualLocales = getLocalesAsString(\n+                Locale.filter(priorityList, localeList));\n+        assertEquals(expectedLocales, actualLocales);\n+    }\n+\n+    private static Stream<Arguments> filterProvider() {\n+        return Stream.of(\n+                \/\/ checking Locale.filter with fr-ch;q=0 in BASIC_FILTERING\n+                Arguments.of(\"en;q=0.1, fr-ch;q=0.0, de-ch;q=0.5\",\n+                        \"de-ch, en, fr-ch\", \"de-CH, en\"),\n+                \/\/ checking Locale.filter with *;q=0 in BASIC_FILTERING\n+                Arguments.of(\"de-ch;q=0.6, *;q=0\", \"de-ch, fr-ch\", \"\"),\n+                \/\/ checking Locale.filter with *;q=0 in BASIC_FILTERING\n+                Arguments.of(\"de-ch;q=0.6, de;q=0\", \"de-ch\", \"\"),\n+                \/\/ checking Locale.filter with *;q=0.6, en;q=0 in BASIC_FILTERING\n+                Arguments.of(\"*;q=0.6, en;q=0\", \"de-ch, hi-in, en\", \"de-CH, hi-IN\"),\n+                \/\/ checking Locale.filter with de-ch;q=0 in EXTENDED_FILTERING\n+                Arguments.of(\"en;q=0.1, *-ch;q=0.5, de-ch;q=0\",\n+                        \"de-ch, en, fr-ch\", \"fr-CH, en\"),\n+                \/* checking Locale.filter with *-ch;q=0 in EXTENDED_FILTERING which\n+                 * must make filter to return \"\" empty or no match\n+                 *\/\n+                Arguments.of(\"de-ch;q=0.5, *-ch;q=0\", \"de-ch, fr-ch\", \"\"),\n+                \/* checking Locale.filter with *;q=0 in EXTENDED_FILTERING which\n+                 * must make filter to return \"\" empty or no match\n+                 *\/\n+                Arguments.of(\"*-ch;q=0.5, *;q=0\", \"de-ch, fr-ch\", \"\"),\n+                \/* checking Locale.filter with *;q=0.6, *-Latn;q=0 in\n+                 * EXTENDED_FILTERING\n+                 *\/\n+                Arguments.of(\"*;q=0.6, *-Latn;q=0\", \"de-ch, hi-in, en-Latn\",\n+                        \"de-CH, hi-IN\")\n+        );\n+    }\n+\n+    private static List<Locale> generateLocales(String tags) {\n+        if (tags == null) {\n+            return null;\n+        }\n+\n+        List<Locale> localeList = new ArrayList<>();\n+        if (tags.equals(\"\")) {\n+            return localeList;\n+        }\n+        String[] t = tags.split(\", \");\n+        for (String tag : t) {\n+            localeList.add(Locale.forLanguageTag(tag));\n+        }\n+        return localeList;\n+    }\n+\n+    private static String getLocalesAsString(List<Locale> locales) {\n+        StringBuilder sb = new StringBuilder();\n+\n+        Iterator<Locale> itr = locales.iterator();\n+        if (itr.hasNext()) {\n+            sb.append(itr.next().toLanguageTag());\n+        }\n+        while (itr.hasNext()) {\n+            sb.append(\", \");\n+            sb.append(itr.next().toLanguageTag());\n+        }\n+\n+        return sb.toString().trim();\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/MatchEmptyWeightCorrectly.java","additions":144,"deletions":0,"binary":false,"changes":144,"status":"added"},{"patch":"@@ -0,0 +1,88 @@\n+\/*\n+ * Copyright (c) 2010, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6989440\n+ * @summary Verify ConcurrentModificationException is not thrown with multiple\n+ *     thread accesses.\n+ * @modules java.base\/sun.util.locale.provider\n+ * @compile -XDignore.symbol.file=true ProviderPoolMultiThreadAccess.java\n+ * @run junit ProviderPoolMultiThreadAccess\n+ *\/\n+import java.text.spi.DateFormatProvider;\n+import java.util.spi.LocaleNameProvider;\n+import java.util.spi.LocaleServiceProvider;\n+import java.util.spi.TimeZoneNameProvider;\n+\n+import sun.util.locale.provider.LocaleServiceProviderPool;\n+\n+import org.junit.jupiter.api.Test;\n+\n+public class ProviderPoolMultiThreadAccess {\n+    static volatile boolean failed;  \/\/ false\n+    static final int THREADS = 50;\n+\n+    \/* Multiple instances of Locale Service Provider Pool calling\n+     * getAvailableLocales() should not throw ConcurrentModificationException\n+     *\/\n+    @Test\n+    public void multiThreadAccessTest() throws Exception {\n+        Thread[] threads = new Thread[THREADS];\n+        for (int i=0; i<threads.length; i++)\n+            threads[i] = new TestThread();\n+        for (int i=0; i<threads.length; i++)\n+            threads[i].start();\n+        for (int i=0; i<threads.length; i++)\n+            threads[i].join();\n+\n+        if (failed)\n+            throw new RuntimeException(\"Failed: check output\");\n+    }\n+\n+    static class TestThread extends Thread {\n+        private Class<? extends LocaleServiceProvider> cls;\n+        private static int count;\n+\n+        public TestThread() {\n+            int which = count++ % 3;\n+            switch (which) {\n+                case 0 -> cls = LocaleNameProvider.class;\n+                case 1 -> cls = TimeZoneNameProvider.class;\n+                case 2 -> cls = DateFormatProvider.class;\n+                default -> throw new AssertionError(\"Should not reach here\");\n+            }\n+        }\n+\n+        public void run() {\n+            try {\n+                LocaleServiceProviderPool pool = LocaleServiceProviderPool.getPool(cls);\n+                pool.getAvailableLocales();\n+            } catch (Exception e) {\n+                System.out.println(e);\n+                e.printStackTrace();\n+                failed = true;\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/ProviderPoolMultiThreadAccess.java","additions":88,"deletions":0,"binary":false,"changes":88,"status":"added"},{"patch":"@@ -0,0 +1,81 @@\n+\/*\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8166994\n+ * @summary Checks the subsequent call to parse the same language ranges\n+ *          which must generate the same list of language ranges\n+ *          i.e. the priority list containing equivalents, as in the\n+ *          first call\n+ * @run junit SubsequentRangeParsingTest\n+ *\/\n+\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+public class SubsequentRangeParsingTest {\n+\n+    \/*\n+     * Checks that consecutive calls to parse the same language ranges\n+     * generate the same list of language ranges.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource(\"ranges\")\n+    public void parseConsistencyTest(List<String> list, String ranges) {\n+        \/\/ consecutive call to check the language range parse consistency\n+        testParseConsistency(list, ranges);\n+        testParseConsistency(list, ranges);\n+    }\n+\n+    \/\/ Ensure that parsing the ranges returns the expected list.\n+    private static void testParseConsistency(List<String> list, String ranges) {\n+        List<String> priorityList = parseRanges(ranges);\n+        assertEquals(list, priorityList, \"Failed to parse the language range:\");\n+    }\n+\n+    private static List<String> parseRanges(String s) {\n+        return Locale.LanguageRange.parse(s).stream()\n+                .map(Locale.LanguageRange::getRange)\n+                .collect(Collectors.toList());\n+    }\n+\n+    \/\/ Ranges that have multiple equivalents and single equivalents.\n+    private static Stream<Arguments> ranges() {\n+        return Stream.of(\n+                Arguments.of(Arrays.asList(\"ccq-aa\", \"ybd-aa\", \"rki-aa\"),\n+                        \"ccq-aa\"),\n+                Arguments.of(Arrays.asList(\"gfx-xz\", \"oun-xz\", \"mwj-xz\",\n+                        \"vaj-xz\", \"taj-xy\", \"tsf-xy\"), \"gfx-xz, taj-xy\")\n+        );\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/SubsequentRangeParsingTest.java","additions":81,"deletions":0,"binary":false,"changes":81,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,1 +23,2 @@\n-\/**\n+\n+\/*\n@@ -26,0 +27,1 @@\n+ * @summary Tests some localized methods with Thai locale\n@@ -28,1 +30,1 @@\n- * @run main\/othervm -Djava.locale.providers=COMPAT ThaiGov\n+ * @run junit\/othervm -Djava.locale.providers=COMPAT ThaiGov\n@@ -31,4 +33,6 @@\n-import java.util.*;\n-import java.text.*;\n-\n-public class ThaiGov {\n+import java.text.DateFormat;\n+import java.text.NumberFormat;\n+import java.util.Calendar;\n+import java.util.Date;\n+import java.util.Locale;\n+import java.util.TimeZone;\n@@ -36,2 +40,1 @@\n-    ThaiGov() {\n-        System.out.println(\"ThaiGov locale test...\");\n+import org.junit.jupiter.api.Test;\n@@ -39,5 +42,1 @@\n-    }\n-\n-    void numberTest() throws RuntimeException {\n-        final String strExpected = \"\\u0E51\\u0E52\\u002C\\u0E53\\u0E54\\u0E55\\u002C\\u0E56\\u0E57\\u0E58\\u002E\\u0E52\\u0E53\\u0E54\";\n-        final double value =  12345678.234;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n@@ -45,5 +44,1 @@\n-        Locale locTH = Locale.of(\"th\", \"TH\", \"TH\");\n-\n-        \/\/ th_TH_TH test\n-        NumberFormat nf = NumberFormat.getInstance(locTH);\n-        String str = nf.format(value);\n+public class ThaiGov {\n@@ -51,3 +46,2 @@\n-        if (!strExpected.equals(str)) {\n-            throw new RuntimeException();\n-        }\n+    private static final double VALUE = 12345678.234;\n+    private static final Locale TH = Locale.of(\"th\", \"TH\", \"TH\");\n@@ -55,0 +49,7 @@\n+    \/\/ Test number formatting for thai\n+    @Test\n+    public void numberTest() {\n+        final String strExpected = \"\\u0E51\\u0E52\\u002C\\u0E53\\u0E54\\u0E55\\u002C\\u0E56\\u0E57\\u0E58\\u002E\\u0E52\\u0E53\\u0E54\";\n+        NumberFormat nf = NumberFormat.getInstance(TH);\n+        String str = nf.format(VALUE);\n+        assertEquals(strExpected, str);\n@@ -57,1 +58,3 @@\n-    void currencyTest() throws RuntimeException {\n+    \/\/ Test currency formatting for Thai\n+    @Test\n+    public void currencyTest() {\n@@ -59,12 +62,3 @@\n-        final double value =  12345678.234;\n-\n-        Locale locTH = Locale.of(\"th\", \"TH\", \"TH\");\n-\n-        \/\/ th_TH_TH test\n-        NumberFormat nf = NumberFormat.getCurrencyInstance(locTH);\n-        String str = nf.format(value);\n-\n-        if (!strExpected.equals(str)) {\n-            throw new RuntimeException();\n-        }\n-\n+        NumberFormat nf = NumberFormat.getCurrencyInstance(TH);\n+        String str = nf.format(VALUE);\n+        assertEquals(strExpected, str);\n@@ -73,4 +67,4 @@\n-    void dateTest() throws RuntimeException {\n-        Locale locTH = Locale.of(\"th\", \"TH\", \"TH\");\n-        TimeZone tz = TimeZone.getTimeZone(\"PST\");\n-\n+    \/\/ Test date formatting for Thai\n+    @Test\n+    public void dateTest() {\n+        TimeZone tz = TimeZone.getTimeZone(\"America\/Los_Angeles\");\n@@ -81,1 +75,1 @@\n-        Calendar cal = Calendar.getInstance(tz, locTH);\n+        Calendar cal = Calendar.getInstance(tz, TH);\n@@ -87,1 +81,1 @@\n-        Date value =  cal.getTime();\n+        Date value = cal.getTime();\n@@ -90,1 +84,1 @@\n-        DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL, locTH);\n+        DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL, TH);\n@@ -93,5 +87,1 @@\n-\n-        if (!strExpected.equals(str)) {\n-            throw new RuntimeException();\n-        }\n-\n+        assertEquals(strExpected, str);\n@@ -99,18 +89,0 @@\n-\n-    public static void main(String[] args) {\n-\n-        ThaiGov app = new ThaiGov();\n-        System.out.print(\"Running numberTest...\");\n-        app.numberTest();\n-        System.out.print(\"Finished\\n\");\n-        System.out.print(\"Running currencyTest...\");\n-        app.currencyTest();\n-        System.out.print(\"Finished\\n\");\n-        System.out.print(\"Running dateTest...\");\n-        app.dateTest();\n-        System.out.print(\"Finished\\n\");\n-\n-        System.out.println(\"PASSED\");\n-    }\n-\n-\n","filename":"test\/jdk\/java\/util\/Locale\/ThaiGov.java","additions":37,"deletions":65,"binary":false,"changes":102,"status":"modified"},{"patch":"@@ -0,0 +1,185 @@\n+\/*\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8159420\n+ * @summary Checks the proper execution of LanguageRange.parse() and\n+ *          other LocaleMatcher methods when used in the locales like\n+ *          Turkish, because the toLowerCase() method is invoked in the\n+ *          parse() and other LocaleMatcher methods.\n+ *          e.g. \"HI-Deva\".toLowerCase() in the Turkish locale returns\n+ *          \"h-deva\", where '' is the LATIN SMALL LETTER DOTLESS I character\n+ *          which is not allowed in the language ranges\/tags.\n+ * @compile -encoding utf-8 TurkishLangRangeTest.java\n+ * @run junit\/othervm -Duser.language=tr -Duser.country=TR TurkishLangRangeTest\n+ *\/\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.Locale.LanguageRange;\n+import java.util.Locale.FilteringMode;\n+import java.util.LinkedHashMap;\n+import java.util.stream.Stream;\n+\n+import static java.util.Locale.FilteringMode.EXTENDED_FILTERING;\n+import static java.util.Locale.FilteringMode.AUTOSELECT_FILTERING;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertDoesNotThrow;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+\n+public class TurkishLangRangeTest {\n+\n+    \/*\n+     * Ensure parse() does not throw IllegalArgumentException for the Turkish Locale\n+     * with the given input.\n+     *\/\n+    @Test\n+    public void parseTest() {\n+        String ranges = \"HI-Deva, ja-hIrA-JP, RKI\";\n+        assertDoesNotThrow(() -> LanguageRange.parse(ranges));\n+    }\n+\n+    \/*\n+     * Ensure filter() does not return empty list for the Turkish Locale\n+     * with the given input.\n+     *\/\n+    @ParameterizedTest\n+    @MethodSource(\"modes\")\n+    public void filterTest(FilteringMode mode) {\n+        String ranges = \"hi-IN, itc-Ital\";\n+        String tags = \"hi-IN, itc-Ital\";\n+        List<LanguageRange> priorityList = LanguageRange.parse(ranges);\n+        List<Locale> tagList = generateLocales(tags);\n+        String actualLocales = showLocales(Locale.filter(priorityList, tagList, mode));\n+        String expectedLocales = \"hi-IN, itc-Ital\";\n+        assertEquals(expectedLocales, actualLocales);\n+    }\n+\n+    private static Stream<FilteringMode> modes() {\n+        return Stream.of(\n+                EXTENDED_FILTERING,\n+                AUTOSELECT_FILTERING\n+        );\n+    }\n+\n+    \/*\n+     * Ensure lookup() does not return null for the Turkish Locale with\n+     * the given input.\n+     *\/\n+    @Test\n+    public void lookupTest() {\n+        String ranges = \"hi-IN, itc-Ital\";\n+        String tags = \"hi-IN, itc-Ital\";\n+        List<LanguageRange> priorityList = LanguageRange.parse(ranges);\n+        List<Locale> localeList = generateLocales(tags);\n+        Locale actualLocale = Locale.lookup(priorityList, localeList);\n+        assertNotNull(actualLocale);\n+        String actualLocaleString = actualLocale.toLanguageTag();\n+        String expectedLocale = \"hi-IN\";\n+        assertEquals(expectedLocale, actualLocaleString);\n+    }\n+\n+    \/*\n+     * Ensure mapEquivalents() does not only return \"hi-in\" for the Turkish\n+     * Locale with the given input.\n+     *\/\n+    @Test\n+    public void mapEquivalentsTest() {\n+        String ranges = \"HI-IN\";\n+        List<LanguageRange> priorityList = LanguageRange.parse(ranges);\n+        HashMap<String, List<String>> map = new LinkedHashMap<>();\n+        List<String> equivalentList = new ArrayList<>();\n+        equivalentList.add(\"HI\");\n+        equivalentList.add(\"HI-Deva\");\n+        map.put(\"HI\", equivalentList);\n+\n+        List<LanguageRange> expected = new ArrayList<>();\n+        expected.add(new LanguageRange(\"hi-in\"));\n+        expected.add(new LanguageRange(\"hi-deva-in\"));\n+        List<LanguageRange> got =\n+                LanguageRange.mapEquivalents(priorityList, map);\n+        assertEquals(expected, got, getDifferences(expected, got));\n+    }\n+\n+    private static String getDifferences(List<LanguageRange> expected,\n+            List<LanguageRange> got) {\n+        StringBuilder diffs = new StringBuilder();\n+        List<LanguageRange> cloneExpected = new ArrayList<>(expected);\n+        cloneExpected.removeAll(got);\n+        if (!cloneExpected.isEmpty()) {\n+            diffs.append(\"Found missing range(s): \")\n+                    .append(cloneExpected)\n+                    .append(System.lineSeparator());\n+        }\n+        List<LanguageRange> cloneGot = new ArrayList<>(got);\n+        cloneGot.removeAll(expected);\n+        if (!got.isEmpty()) {\n+            diffs.append(\"Got extra range(s): \")\n+                    .append(cloneGot)\n+                    .append(System.lineSeparator());\n+        }\n+        return diffs.toString();\n+    }\n+\n+    private static List<Locale> generateLocales(String tags) {\n+        if (tags == null) {\n+            return null;\n+        }\n+\n+        List<Locale> localeList = new ArrayList<>();\n+        if (tags.equals(\"\")) {\n+            return localeList;\n+        }\n+        String[] t = tags.split(\", \");\n+        for (String tag : t) {\n+            localeList.add(Locale.forLanguageTag(tag));\n+        }\n+        return localeList;\n+    }\n+\n+    private static String showLocales(List<Locale> locales) {\n+        StringBuilder sb = new StringBuilder();\n+\n+        Iterator<Locale> itr = locales.iterator();\n+        if (itr.hasNext()) {\n+            sb.append(itr.next().toLanguageTag());\n+        }\n+        while (itr.hasNext()) {\n+            sb.append(\", \");\n+            sb.append(itr.next().toLanguageTag());\n+        }\n+\n+        return sb.toString().trim();\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/Locale\/TurkishLangRangeTest.java","additions":185,"deletions":0,"binary":false,"changes":185,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,1 +23,2 @@\n-\/**\n+\n+\/*\n@@ -28,1 +29,1 @@\n- * @run main UseOldISOCodesTest\n+ * @run junit UseOldISOCodesTest\n@@ -30,0 +31,1 @@\n+\n@@ -33,0 +35,4 @@\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n@@ -34,1 +40,4 @@\n-    public static void main(String[] args) throws Exception {\n+\n+    \/\/ Ensure java.locale.useOldISOCodes is only interpreted at runtime startup\n+    @Test\n+    public void staticInitializationTest() throws Exception {\n@@ -46,0 +55,1 @@\n+            \/\/ Should have no effect\n@@ -48,3 +58,2 @@\n-            if(!obsoleteCode.equals(locale.getLanguage())){\n-                throw new RuntimeException(\"Expected that newcode mapped to old \");\n-            }\n+            assertEquals(obsoleteCode, locale.getLanguage(),\n+                    \"newCode 'he' was not mapped to 'iw' with useOldISOCodes=true\");\n","filename":"test\/jdk\/java\/util\/Locale\/UseOldISOCodesTest.java","additions":16,"deletions":7,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -1,1 +0,0 @@\n-<APPLET CODE=\"bug4123285.class\" CODEBASE=\".\/\" WIDTH=\"250\" HEIGHT=\"325\" ALIGN=\"TOP\"><\/APPLET>\n","filename":"test\/jdk\/java\/util\/Locale\/bug4123285.html","additions":0,"deletions":1,"binary":false,"changes":1,"status":"deleted"},{"patch":"@@ -1,60 +0,0 @@\n-\/*\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-import java.util.Locale;\n-\n-public class bug4123285 extends java.applet.Applet {\n-    public void start() {\n-        System.out.println(\"Hello, world!\");\n-        Locale[] systemLocales = null;\n-        try {\n-            System.out.println(\"Default locale = \" + Locale.getDefault());\n-            systemLocales = Locale.getAvailableLocales();\n-            System.out.println(\"Found \" + systemLocales.length + \" locales:\");\n-            Locale[] locales = new Locale[systemLocales.length];\n-            for (int i = 0; i < locales.length; i++) {\n-                Locale lowest = null;\n-                for (int j = 0; j < systemLocales.length; j++) {\n-                    if (i > 0 && locales[i - 1].toString().compareTo(systemLocales[j].toString()) >= 0)\n-                       continue;\n-                    if (lowest == null || systemLocales[j].toString().compareTo(lowest.toString()) < 0)\n-                       lowest = systemLocales[j];\n-                }\n-                locales[i] = lowest;\n-            }\n-            for (int i = 0; i < locales.length; i++) {\n-                if (locales[i].getCountry().length() == 0)\n-                   System.out.println(\"    \" + locales[i].getDisplayLanguage() + \":\");\n-                else {\n-                    if (locales[i].getVariant().length() == 0)\n-                       System.out.println(\"        \" + locales[i].getDisplayCountry());\n-                    else\n-                        System.out.println(\"        \" + locales[i].getDisplayCountry() + \", \"\n-                                    + locales[i].getDisplayVariant());\n-                }\n-            }\n-        }\n-        catch (Exception e) {\n-            e.printStackTrace();\n-        }\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/Locale\/bug4123285.java","additions":0,"deletions":60,"binary":false,"changes":60,"status":"deleted"},{"patch":"@@ -95,1 +95,1 @@\n-            final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+            final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -137,1 +137,1 @@\n-            final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+            final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -181,1 +181,1 @@\n-            final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+            final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -211,1 +211,1 @@\n-            final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+            final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -243,1 +243,1 @@\n-            final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+            final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -275,1 +275,1 @@\n-            final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+            final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -304,1 +304,1 @@\n-                final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+                final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n@@ -346,1 +346,1 @@\n-                final ProcessBuilder processBuilder = ProcessTools.createTestJvm(\n+                final ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/java\/util\/Properties\/StoreReproducibilityTest.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -87,9 +87,7 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(cp)\n-                .addToolArg(\"MissingResourceCauseTest\");\n-\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                .getExitValue();\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", cp,\n+                \"MissingResourceCauseTest\");\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n","filename":"test\/jdk\/java\/util\/ResourceBundle\/Control\/MissingResourceCauseTestRun.java","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+import jdk.test.lib.Utils;\n@@ -136,11 +137,9 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-p\")\n-                .addToolArg(mp)\n-                .addToolArg(\"-m\")\n-                .addToolArg(mn);\n-        localeList.forEach(launcher::addToolArg);\n-\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                                   .getExitValue();\n+        List<String> args = List.of(\n+                \"-ea\", \"-esa\",\n+                \"-p\", mp,\n+                \"-m\", mn);\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(args.stream(), localeList.stream()).toList());\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n@@ -164,10 +163,10 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(cp)\n-                .addToolArg(\"-p\")\n-                .addToolArg(mp)\n-                .addToolArg(\"-m\")\n-                .addToolArg(mn);\n-        localeList.forEach(launcher::addToolArg);\n+        List<String> args = List.of(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", cp,\n+                \"-p\", mp,\n+                \"-m\", mn);\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(args.stream(), localeList.stream()).toList());\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n@@ -175,2 +174,0 @@\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                                   .getExitValue();\n@@ -201,9 +198,10 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-Djava.locale.useOldISOCodes=true\")\n-                .addToolArg(\"-p\")\n-                .addToolArg(mp)\n-                .addToolArg(\"-m\")\n-                .addToolArg(mn);\n-        localeList.forEach(launcher::addToolArg);\n+        List<String> args = List.of(\n+                \"-ea\", \"-esa\",\n+                \"-Djava.locale.useOldISOCodes=true\",\n+                \"-p\", mp,\n+                \"-m\", mn);\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(args.stream(), localeList.stream()).toList());\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n@@ -211,2 +209,0 @@\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                .getExitValue();\n","filename":"test\/jdk\/java\/util\/ResourceBundle\/modules\/ModuleTestUtil.java","additions":31,"deletions":35,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,10 +74,7 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(Utils.TEST_CLASSES)\n-                .addToolArg(\"Main\")\n-                .addToolArg(Utils.TEST_CLASSES);\n-\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                                   .getExitValue();\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", Utils.TEST_CLASSES,\n+                \"Main\", Utils.TEST_CLASSES);\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n","filename":"test\/jdk\/java\/util\/ResourceBundle\/modules\/layer\/LayerTest.java","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import java.util.stream.Stream;\n@@ -76,14 +77,10 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(Utils.TEST_CLASSES)\n-                .addToolArg(\"--module-path\")\n-                .addToolArg(MODS_DIR.toString())\n-                .addToolArg(\"--add-modules\")\n-                .addToolArg(\"bundles\")\n-                .addToolArg(\"Main\");\n-        LOCALE_LIST.forEach(launcher::addToolArg);\n-\n-        int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                                   .getExitValue();\n+        List<String> args = List.of(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", Utils.TEST_CLASSES,\n+                \"--module-path\", MODS_DIR.toString(),\n+                \"--add-modules\", \"bundles\",\n+                \"Main\");\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(args.stream(), LOCALE_LIST.stream()).toList());\n+        \/\/ Evaluate process status\n+        int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n@@ -96,13 +93,9 @@\n-        launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\")\n-                .addToolArg(\"-cp\")\n-                .addToolArg(Utils.TEST_CLASSES)\n-                .addToolArg(\"--module-path\")\n-                .addToolArg(MODS_DIR.toString())\n-                .addToolArg(\"--add-modules\")\n-                .addToolArg(\"bundles\")\n-                .addToolArg(\"--add-opens\")\n-                .addToolArg(\"bundles\/jdk.test.internal.resources=ALL-UNNAMED\")\n-                .addToolArg(\"Main\");\n-        LOCALE_LIST.forEach(launcher::addToolArg);\n+        List<String> argsWithOpens = List.of(\n+                \"-ea\", \"-esa\",\n+                \"-cp\", Utils.TEST_CLASSES,\n+                \"--module-path\", MODS_DIR.toString(),\n+                \"--add-modules\", \"bundles\",\n+                \"--add-opens\", \"bundles\/jdk.test.internal.resources=ALL-UNNAMED\",\n+                \"Main\");\n+        pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(argsWithOpens.stream(), LOCALE_LIST.stream()).toList());\n@@ -110,2 +103,2 @@\n-        exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                               .getExitValue();\n+        \/\/ Evaluate process status\n+        exitCode = ProcessTools.executeCommand(pb).getExitValue();\n","filename":"test\/jdk\/java\/util\/ResourceBundle\/modules\/unnamed\/UnNamedTest.java","additions":23,"deletions":30,"binary":false,"changes":53,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import java.util.stream.Stream;\n@@ -46,0 +47,1 @@\n+\n@@ -331,6 +333,5 @@\n-        JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-        launcher.addToolArg(\"-ea\")\n-                .addToolArg(\"-esa\");\n-        argsList.forEach(launcher::addToolArg);\n-\n-        return ProcessTools.executeCommand(launcher.getCommand()).getExitValue();\n+        \/\/ Build process (with VM flags)\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                Stream.concat(Stream.of(\"-ea\", \"-esa\"), argsList.stream()).toList());\n+        \/\/ Evaluate process status\n+        return ProcessTools.executeCommand(pb).getExitValue();\n@@ -338,1 +339,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"test\/jdk\/java\/util\/ResourceBundle\/modules\/visibility\/VisibilityTest.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+\n@@ -34,1 +35,0 @@\n-import java.util.List;\n@@ -40,0 +40,1 @@\n+\n@@ -42,0 +43,1 @@\n+\n@@ -49,1 +51,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(List.of(\"CustomTzIDCheckDST\", \"runTZTest\"));\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\"CustomTzIDCheckDST\", \"runTZTest\");\n","filename":"test\/jdk\/java\/util\/TimeZone\/CustomTzIDCheckDST.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-tzdata2023c\n+tzdata2023d\n","filename":"test\/jdk\/java\/util\/TimeZone\/TimeZoneData\/VERSION","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -151,1 +151,0 @@\n-Link\tAsia\/Urumqi\t\tAntarctica\/Vostok\n","filename":"test\/jdk\/java\/util\/TimeZone\/TimeZoneData\/aliases.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,11 +69,9 @@\n-            JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"java\");\n-            launcher.addToolArg(\"-Djava.security.manager\")\n-                    .addToolArg(\"-Djava.security.debug=access,failure,policy\")\n-                    .addToolArg(\"-ea\")\n-                    .addToolArg(\"-esa\")\n-                    .addToolArg(\"-cp\")\n-                    .addToolArg(jarPath)\n-                    .addToolArg(\"TimeZoneDatePermissionCheck\");\n-\n-            int exitCode = ProcessTools.executeCommand(launcher.getCommand())\n-                    .getExitValue();\n+            \/\/ Build process (with VM flags)\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                    \"-Djava.security.manager\",\n+                    \"-Djava.security.debug=access,failure,policy\",\n+                    \"-ea\", \"-esa\",\n+                    \"-cp\", jarPath,\n+                    \"TimeZoneDatePermissionCheck\");\n+            \/\/ Evaluate process status\n+            int exitCode = ProcessTools.executeCommand(pb).getExitValue();\n","filename":"test\/jdk\/java\/util\/TimeZone\/TimeZoneDatePermissionCheckRun.java","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -284,30 +284,0 @@\n-    \/**\n-     * Actions that append an element, and are expected to\n-     * leave at most one slack node at tail.\n-     *\/\n-    @DataProvider\n-    public Object[][] addActions() {\n-        return List.<Consumer<ConcurrentLinkedQueue>>of(\n-            q -> q.add(1),\n-            q -> q.offer(1))\n-            .stream().map(x -> new Object[]{ x }).toArray(Object[][]::new);\n-    }\n-\n-    @Test(dataProvider = \"addActions\")\n-    public void addActionsOneNodeSlack(\n-        Consumer<ConcurrentLinkedQueue> addAction) {\n-        ConcurrentLinkedQueue q = new ConcurrentLinkedQueue();\n-        int n = 1 + rnd.nextInt(5);\n-        for (int i = 0; i < n; i++) {\n-            boolean slack = next(tail(q)) != null;\n-            addAction.accept(q);\n-            if (slack)\n-                assertNull(next(tail(q)));\n-            else {\n-                assertNotNull(next(tail(q)));\n-                assertNull(next(next(tail(q))));\n-            }\n-            assertInvariants(q);\n-        }\n-    }\n-\n","filename":"test\/jdk\/java\/util\/concurrent\/ConcurrentLinkedQueue\/WhiteBox.java","additions":0,"deletions":30,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -0,0 +1,67 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8323659\n+ * @summary Ensures that the implementation of LTQ add and put methods does\n+ *  not call overridable offer. This test specifically asserts implementation\n+ *  details of LTQ. It's not that such impl details cannot change, just that\n+ *  such a change should be deliberately done with suitable consideration\n+ *  to compatibility.\n+ * @run testng SubclassTest\n+ *\/\n+\n+import java.util.concurrent.LinkedTransferQueue;\n+import java.util.concurrent.TimeUnit;\n+import org.testng.annotations.Test;\n+import static org.testng.Assert.assertEquals;\n+\n+@Test\n+public class SubclassTest {\n+\n+    public void testPut() {\n+        var queue = new TestLinkedTransferQueue();\n+        queue.put(new Object());\n+        assertEquals(queue.size(), 1);\n+    }\n+\n+    public void testAdd() {\n+        var queue = new TestLinkedTransferQueue();\n+        queue.add(new Object());\n+        assertEquals(queue.size(), 1);\n+    }\n+\n+    public void testTimedOffer() {\n+        var queue = new TestLinkedTransferQueue();\n+        queue.offer(new Object(), 60, TimeUnit.SECONDS);\n+        assertEquals(queue.size(), 1);\n+    }\n+\n+    static class TestLinkedTransferQueue extends LinkedTransferQueue<Object> {\n+        @Override\n+        public boolean offer(Object obj) {\n+            return false;  \/\/  simulate fails to add the given obj\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/concurrent\/LinkedTransferQueue\/SubclassTest.java","additions":67,"deletions":0,"binary":false,"changes":67,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,2 @@\n+ * @key randomness\n+ * @library \/test\/lib\n@@ -32,1 +34,0 @@\n- * @key randomness\n@@ -53,1 +54,0 @@\n-import java.util.Arrays;\n@@ -66,0 +66,2 @@\n+import jdk.test.lib.process.ProcessTools;\n+\n@@ -77,1 +79,3 @@\n-            ProcessBuilder pb = new ProcessBuilder(javaChildArgs);\n+            \/\/ Build process (with VM flags)\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n+                    javaChildArgs);\n@@ -154,3 +158,0 @@\n-    private static final String javaExe =\n-        System.getProperty(\"java.home\") +\n-        File.separator + \"bin\" + File.separator + \"java\";\n@@ -164,4 +165,2 @@\n-    private static final List<String> javaChildArgs =\n-        Arrays.asList(new String[]\n-            { javaExe, \"-classpath\", classpath,\n-              \"LoggingDeadlock2$JavaChild\"});\n+   private static final List<String> javaChildArgs = List.of(\n+       \"-classpath\", classpath, \"LoggingDeadlock2$JavaChild\");\n","filename":"test\/jdk\/java\/util\/logging\/LoggingDeadlock2.java","additions":10,"deletions":11,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-import java.nio.file.Paths;\n@@ -164,5 +163,1 @@\n-        String javaHome = System.getProperty(\"java.home\");\n-        String java = Paths.get(javaHome, \"bin\", \"java\").toString();\n-        String[] cmd = { java, \"-jar\", zipFile.getName() };\n-        ProcessBuilder pb = new ProcessBuilder(cmd);\n-        OutputAnalyzer a = ProcessTools.executeProcess(pb);\n+        OutputAnalyzer a = ProcessTools.executeTestJvm(\"-jar\", zipFile.getName());\n","filename":"test\/jdk\/java\/util\/zip\/EntryCount64k.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -0,0 +1,226 @@\n+\/*\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+ * @bug 8272746\n+ * @summary Verify that ZipFile rejects a ZIP with a CEN size which does not fit in a Java byte array\n+ * @run junit CenSizeTooLarge\n+ *\/\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import java.io.*;\n+import java.nio.ByteBuffer;\n+import java.nio.ByteOrder;\n+import java.nio.channels.FileChannel;\n+import java.nio.charset.StandardCharsets;\n+import java.time.LocalDateTime;\n+import java.util.Arrays;\n+import java.util.zip.ZipEntry;\n+import java.util.zip.ZipException;\n+import java.util.zip.ZipFile;\n+import java.util.zip.ZipOutputStream;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+\n+public class CenSizeTooLarge {\n+    \/\/ Maximum allowed CEN size allowed by the ZipFile implementation\n+    static final int MAX_CEN_SIZE = Integer.MAX_VALUE - ZipFile.ENDHDR - 1;\n+\n+    \/**\n+     * From the APPNOTE.txt specification:\n+     *    4.4.10 file name length: (2 bytes)\n+     *    4.4.11 extra field length: (2 bytes)\n+     *    4.4.12 file comment length: (2 bytes)\n+     *\n+     *        The length of the file name, extra field, and comment\n+     *        fields respectively.  The combined length of any\n+     *        directory record and these three fields SHOULD NOT\n+     *        generally exceed 65,535 bytes.\n+     *\n+     *  Since ZipOutputStream does not enforce the 'combined length' clause,\n+     *  we simply use 65,535 (0xFFFF) for the purpose of this test.\n+     *\/\n+    static final int MAX_EXTRA_FIELD_SIZE = 65_535;\n+\n+    \/\/ Data size (unsigned short)\n+    \/\/ Field size minus the leading header 'tag' and 'data size' fields (2 bytes each)\n+    static final short MAX_DATA_SIZE = (short) (MAX_EXTRA_FIELD_SIZE - 2 * Short.BYTES);\n+\n+    \/\/ Tag for the 'unknown' field type, specified in APPNOTE.txt 'Third party mappings'\n+    static final short UNKNOWN_ZIP_TAG = (short) 0x9902;\n+\n+    \/\/ Entry names produced in this test are fixed-length\n+    public static final int NAME_LENGTH = 10;\n+\n+    \/\/ Use a shared LocalDateTime on all entries to save processing time\n+    static final LocalDateTime TIME_LOCAL = LocalDateTime.now();\n+\n+    \/\/ The size of one CEN header, including the name and the extra field\n+    static final int CEN_HEADER_SIZE = ZipFile.CENHDR + NAME_LENGTH + MAX_EXTRA_FIELD_SIZE;\n+\n+    \/\/ The number of entries needed to exceed the MAX_CEN_SIZE\n+    static final int NUM_ENTRIES = (MAX_CEN_SIZE \/ CEN_HEADER_SIZE) + 1;\n+\n+    \/\/ Helps SparseOutputStream detect write of the last CEN entry\n+    private static final String LAST_CEN_COMMENT = \"LastCEN\";\n+    private static final byte[] LAST_CEN_COMMENT_BYTES = LAST_CEN_COMMENT.getBytes(StandardCharsets.UTF_8);\n+\n+    \/\/ Expected ZipException message when the CEN does not fit in a Java byte array\n+    private static final String CEN_TOO_LARGE_MESSAGE = \"invalid END header (central directory size too large)\";\n+\n+    \/\/ Zip file to create for testing\n+    private File hugeZipFile;\n+\n+    \/**\n+     * Create a zip file with a CEN size which does not fit within a Java byte array\n+     *\/\n+    @Before\n+    public void setup() throws IOException {\n+        hugeZipFile = new File(\"cen-too-large.zip\");\n+        hugeZipFile.deleteOnExit();\n+\n+        try (OutputStream out = new SparseOutputStream(new FileOutputStream(hugeZipFile));\n+             ZipOutputStream zip = new ZipOutputStream(out)) {\n+\n+            \/\/ Keep track of entries so we can update extra data before the CEN is written\n+            ZipEntry[] entries = new ZipEntry[NUM_ENTRIES];\n+\n+            \/\/ Add entries until MAX_CEN_SIZE is reached\n+            for (int i = 0; i < NUM_ENTRIES; i++) {\n+                \/\/ Create a fixed-length name for the entry\n+                String name = Integer.toString(i);\n+                name = \"0\".repeat(NAME_LENGTH - name.length()) + name;\n+\n+                \/\/ Create and track the entry\n+                ZipEntry entry = entries[i] = new ZipEntry(name);\n+\n+                \/\/ Use STORED for faster processing\n+                entry.setMethod(ZipEntry.STORED);\n+                entry.setSize(0);\n+                entry.setCrc(0);\n+\n+                \/\/ Set the time\/date field for faster processing\n+                entry.setTimeLocal(TIME_LOCAL);\n+\n+                if (i == NUM_ENTRIES -1) {\n+                    \/\/ Help SparseOutputStream detect the last CEN entry write\n+                    entry.setComment(LAST_CEN_COMMENT);\n+                }\n+                \/\/ Add the entry\n+                zip.putNextEntry(entry);\n+\n+\n+            }\n+            \/\/ Finish writing the last entry\n+            zip.closeEntry();\n+\n+            \/\/ Before the CEN headers are written, set the extra data on each entry\n+            byte[] extra = makeLargeExtraField();\n+            for (ZipEntry entry : entries) {\n+                entry.setExtra(extra);\n+            }\n+        }\n+    }\n+\n+    \/**\n+     * Validates that a ZipException is thrown with the expected message when\n+     * the ZipFile is initialized with a ZIP whose CEN exeeds {@link #MAX_CEN_SIZE}\n+     *\/\n+    @Test\n+    public void centralDirectoryTooLargeToFitInByteArray() {\n+        ZipException ex = assertThrows(ZipException.class, () -> new ZipFile(hugeZipFile));\n+        assertEquals(CEN_TOO_LARGE_MESSAGE, ex.getMessage());\n+    }\n+\n+    \/**\n+     * We can reduce the number of written CEN headers by making each CEN header maximally large.\n+     * We do this by adding the extra field produced by this method to each CEN header.\n+     * <p>\n+     * The structure of an extra field is as follows:\n+     * <p>\n+     * Header ID  (Two bytes, describes the type of the field, also called 'tag')\n+     * Data Size  (Two byte short)\n+     * Data Block (Contents depend on field type)\n+     *\/\n+    private byte[] makeLargeExtraField() {\n+        \/\/ Make a maximally sized extra field\n+        byte[] extra = new byte[MAX_EXTRA_FIELD_SIZE];\n+        \/\/ Little-endian ByteBuffer for updating the header fields\n+        ByteBuffer buffer = ByteBuffer.wrap(extra).order(ByteOrder.LITTLE_ENDIAN);\n+\n+        \/\/ We use the 'unknown' tag, specified in APPNOTE.TXT, 4.6.1 Third party mappings'\n+        buffer.putShort(UNKNOWN_ZIP_TAG);\n+\n+        \/\/ Size of the actual (empty) data\n+        buffer.putShort(MAX_DATA_SIZE);\n+        return extra;\n+    }\n+\n+    \/**\n+     * By writing sparse 'holes' until the last CEN is detected, we can save disk space\n+     * used by this test from ~2GB to ~4K. Instances of this class should be passed\n+     * directly to the ZipOutputStream constructor, without any buffering. Otherwise,\n+     * writes from ZipOutputStream may not be detected correctly.\n+     *\/\n+    private static class SparseOutputStream extends FilterOutputStream {\n+        private final FileChannel channel;\n+        private boolean sparse = true; \/\/ True until the last CEN is written\n+        private long position = 0;\n+\n+        public SparseOutputStream(FileOutputStream fos) {\n+            super(fos);\n+            this.channel = fos.getChannel();\n+        }\n+\n+        @Override\n+        public void write(byte[] b, int off, int len) throws IOException {\n+            position += len;\n+            if (sparse) {\n+                \/\/ Until finding the last CEN, we don't actually write anything,\n+                \/\/ but instead simply advance the position, creating a sparse file\n+                channel.position(position);\n+                \/\/ Check for last CEN record\n+                if (Arrays.equals(LAST_CEN_COMMENT_BYTES, 0, LAST_CEN_COMMENT_BYTES.length, b, off, len)) {\n+                    \/\/ From here on, write actual bytes\n+                    sparse = false;\n+                }\n+            } else {\n+                \/\/ Regular write\n+                out.write(b, off, len);\n+            }\n+        }\n+\n+        @Override\n+        public void write(int b) throws IOException {\n+            position++;\n+            if (sparse) {\n+                channel.position(position);\n+            } else {\n+                out.write(b);\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/util\/zip\/ZipFile\/CenSizeTooLarge.java","additions":226,"deletions":0,"binary":false,"changes":226,"status":"added"},{"patch":"@@ -1,89 +0,0 @@\n-\/*\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/* @test\n- * @bug 8272746\n- * @summary ZipFile can't open big file (NegativeArraySizeException)\n- * @requires (sun.arch.data.model == \"64\" & os.maxMemory > 8g)\n- * @run testng\/manual\/othervm -Xmx8g TestTooManyEntries\n- *\/\n-\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n-\n-import java.io.File;\n-import java.io.BufferedOutputStream;\n-import java.io.FileOutputStream;\n-import java.io.IOException;\n-import java.util.zip.ZipEntry;\n-import java.util.zip.ZipException;\n-import java.util.zip.ZipFile;\n-import java.util.zip.ZipOutputStream;\n-import java.util.UUID;\n-\n-import static org.testng.Assert.assertThrows;\n-\n-public class TestTooManyEntries {\n-    \/\/ Number of directories in the zip file\n-    private static final int DIR_COUNT = 25000;\n-    \/\/ Number of entries per directory\n-    private static final int ENTRIES_IN_DIR = 1000;\n-\n-    \/\/ Zip file to create for testing\n-    private File hugeZipFile;\n-\n-    \/**\n-     * Create a zip file and add entries that exceed the CEN limit.\n-     * @throws IOException if an error occurs creating the ZIP File\n-     *\/\n-    @BeforeTest\n-    public void setup() throws IOException {\n-        hugeZipFile = File.createTempFile(\"hugeZip\", \".zip\", new File(\".\"));\n-        hugeZipFile.deleteOnExit();\n-        long startTime = System.currentTimeMillis();\n-        try (ZipOutputStream zip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(hugeZipFile)))) {\n-            for (int dirN = 0; dirN < DIR_COUNT; dirN++) {\n-                String dirName = UUID.randomUUID() + \"\/\";\n-                for (int fileN = 0; fileN < ENTRIES_IN_DIR; fileN++) {\n-                    ZipEntry entry = new ZipEntry(dirName + UUID.randomUUID());\n-                    zip.putNextEntry(entry);\n-                    zip.closeEntry(); \/\/ all files are empty\n-                }\n-                if ((dirN + 1) % 1000 == 0) {\n-                    System.out.printf(\"%s \/ %s of entries written, file size is %sMb (%ss)%n\",\n-                            (dirN + 1) * ENTRIES_IN_DIR, DIR_COUNT * ENTRIES_IN_DIR, hugeZipFile.length() \/ 1024 \/ 1024,\n-                            (System.currentTimeMillis() - startTime) \/ 1000);\n-                }\n-            }\n-        }\n-    }\n-\n-    \/**\n-     * Validates that the ZipException is thrown when the ZipFile class\n-     * is initialized with a zip file whose entries exceed the CEN limit.\n-     *\/\n-    @Test\n-    public void test() {\n-        assertThrows(ZipException.class, () -> new ZipFile(hugeZipFile));\n-    }\n-}\n","filename":"test\/jdk\/java\/util\/zip\/ZipFile\/TestTooManyEntries.java","additions":0,"deletions":89,"binary":false,"changes":89,"status":"deleted"},{"patch":"@@ -283,1 +283,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/javax\/management\/remote\/mandatory\/connection\/DefaultAgentFilterTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -442,1 +442,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -484,1 +484,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/javax\/management\/security\/HashedPasswordFileTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        ProcessBuilder pb = createJavaProcessBuilder(javaPath, clazz, props);\n+        ProcessBuilder pb = createLimitedTestJavaProcessBuilder(javaPath, clazz, props);\n@@ -53,1 +53,1 @@\n-    private static ProcessBuilder createJavaProcessBuilder(Path javaPath,\n+    private static ProcessBuilder createLimitedTestJavaProcessBuilder(Path javaPath,\n","filename":"test\/jdk\/javax\/net\/ssl\/TLSCommon\/interop\/ProcUtils.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n-  \"${TESTCLASSES}${PS}${TESTCLASSES}\/badfactoty.jar\" \\\n+  \"${TESTCLASSES}${PS}${TESTCLASSES}\/badfactory.jar\" \\\n","filename":"test\/jdk\/javax\/script\/JDK_8196959\/BadFactoryTest.sh","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,1 @@\n-public class DoAs {\n+public class DoAsTest {\n","filename":"test\/jdk\/javax\/security\/auth\/Subject\/DoAsTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"test\/jdk\/javax\/security\/auth\/Subject\/DoAs.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,2 +37,3 @@\n- * @bug 8237495\n- * @summary fail with a dereferenced memory error when asked to send a raw 0xF7\n+ * @bug 8237495 8301310\n+ * @summary fail with memory errors when asked to send a sysex message starting\n+ *          with 0xF7\n@@ -116,0 +117,10 @@\n+                System.err.println(\"sysex part 1 of 3\");\n+                r.send(new SysexMessage(new byte[]{\n+                        (byte) SYSTEM_EXCLUSIVE, 0x7D, 0x01, 0x02}, 4), -1);\n+                System.err.println(\"sysex part 2 of 3\");\n+                r.send(new SysexMessage(new byte[]{\n+                        (byte) SPECIAL_SYSTEM_EXCLUSIVE, 0x03, 0x04}, 3), -1);\n+                System.err.println(\"sysex part 3 of 3\");\n+                r.send(new SysexMessage(new byte[]{\n+                        (byte) SPECIAL_SYSTEM_EXCLUSIVE, 0x05, 0x06, 0x07,\n+                        (byte) SPECIAL_SYSTEM_EXCLUSIVE}, 4), -1);\n","filename":"test\/jdk\/javax\/sound\/midi\/SysexMessage\/SendRawSysexMessage.java","additions":14,"deletions":3,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -1,145 +0,0 @@\n-\/*\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n-*\/\n-\n-\/*\n- * @test\n- * @bug 8015854\n- * @summary Tests HTML image as JButton text for unwanted padding\n- * @run main HtmlButtonImageTest\n- *\/\n-\n-import java.awt.Color;\n-import java.awt.Dimension;\n-import java.awt.Graphics2D;\n-import java.awt.image.BufferedImage;\n-import java.io.File;\n-import java.io.IOException;\n-import java.nio.file.Path;\n-\n-import javax.imageio.ImageIO;\n-import javax.swing.JButton;\n-import javax.swing.SwingUtilities;\n-import javax.swing.UIManager;\n-import javax.swing.UnsupportedLookAndFeelException;\n-\n-import static java.awt.image.BufferedImage.TYPE_INT_ARGB;\n-\n-public final class HtmlButtonImageTest {\n-    private static JButton button;\n-    private static Path testDir;\n-    private static BufferedImage image;\n-\n-    private static final int BUTTON_HEIGHT = 37;\n-    private static final int BUTTON_WIDTH = 37;\n-    private static final int SQUARE_HEIGHT = 19;\n-    private static final int SQUARE_WIDTH = 19;\n-    private static final int centerX = BUTTON_WIDTH \/ 2;\n-    private static final int centerY = BUTTON_HEIGHT \/ 2;\n-    private static final int minX = centerX - (SQUARE_WIDTH \/ 2);\n-    private static final int minY = centerY - (SQUARE_HEIGHT \/ 2);\n-    private static final int maxX = centerX + (SQUARE_WIDTH \/ 2);\n-    private static final int maxY = centerY + (SQUARE_HEIGHT \/ 2);\n-\n-    private static boolean supportedLaf;\n-    private static int failCount = 0;\n-    private static String currentLaf = new String();\n-    private static StringBuffer failedLafs = new StringBuffer();\n-\n-\n-    public static void main(String[] args) throws Exception {\n-        testDir = Path.of(System.getProperty(\"test.classes\", \".\"));\n-        generateRedSquare();\n-\n-        for (UIManager.LookAndFeelInfo laf : UIManager.getInstalledLookAndFeels()) {\n-            SwingUtilities.invokeAndWait(() -> setLookAndFeel(laf));\n-            if(supportedLaf) {\n-                currentLaf = laf.getName();\n-                SwingUtilities.invokeAndWait(HtmlButtonImageTest::createButton);\n-                SwingUtilities.invokeAndWait(HtmlButtonImageTest::paintButton);\n-\n-                testImageCentering(image.getRGB(centerX, centerY),\n-                        image.getRGB(minX, minY),\n-                        image.getRGB(minX, maxY),\n-                        image.getRGB(maxX, minY),\n-                        image.getRGB(maxX, maxY));\n-            }\n-        }\n-\n-        if(!failedLafs.isEmpty()) {\n-            if(failCount > 1) {\n-                failedLafs.setLength(failedLafs.length() - 2);\n-            }\n-            throw new RuntimeException(\"HTML image not centered in button \" +\n-                    \"for these L&F's: \" + failedLafs);\n-        }\n-    }\n-\n-    private static void generateRedSquare() throws IOException {\n-        BufferedImage bImg = new BufferedImage(SQUARE_WIDTH, SQUARE_HEIGHT,\n-                TYPE_INT_ARGB);\n-        Graphics2D cg = bImg.createGraphics();\n-        cg.setColor(Color.RED);\n-        cg.fillRect(0, 0, SQUARE_WIDTH, SQUARE_HEIGHT);\n-        ImageIO.write(bImg, \"png\", new File(testDir + \"\/red_square.png\"));\n-    }\n-\n-    private static void createButton() {\n-        button = new JButton();\n-        button.setSize(new Dimension(BUTTON_WIDTH, BUTTON_HEIGHT));\n-        button.setText(\"<html><img src='\"\n-                + testDir.resolve(\"red_square.png\").toUri() + \"'><\/html>\");\n-    }\n-\n-    private static void paintButton() {\n-        image = new BufferedImage(BUTTON_HEIGHT, BUTTON_WIDTH, TYPE_INT_ARGB);\n-        Graphics2D graphics2D = image.createGraphics();\n-        button.paint(graphics2D);\n-        graphics2D.dispose();\n-    }\n-\n-    private static boolean checkRedColor(int rgb) {\n-        return (rgb == Color.RED.getRGB());\n-    }\n-\n-    private static void testImageCentering(int... colors) throws IOException {\n-        for (int c : colors) {\n-            if (!checkRedColor(c)) {\n-                failCount++;\n-                ImageIO.write(image, \"png\", new File(testDir + \"\/fail_image_\" +\n-                        currentLaf.replaceAll(\"[^\\\\w\\\\s]\",\"\") + \".png\"));\n-                failedLafs.append(currentLaf + \", \");\n-                break;\n-            }\n-        }\n-    }\n-\n-    private static void setLookAndFeel(UIManager.LookAndFeelInfo laf) {\n-        try {\n-            UIManager.setLookAndFeel(laf.getClassName());\n-            supportedLaf = true;\n-        } catch (UnsupportedLookAndFeelException | ClassNotFoundException |\n-                InstantiationException | IllegalAccessException e) {\n-            supportedLaf = false;\n-        }\n-    }\n-}\n","filename":"test\/jdk\/javax\/swing\/JButton\/HtmlButtonImageTest\/HtmlButtonImageTest.java","additions":0,"deletions":145,"binary":false,"changes":145,"status":"deleted"},{"patch":"@@ -0,0 +1,63 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4268949\n+ * @summary Tests if JInternalFrame can do setBackground()\n+ * @run main bug4268949\n+ *\/\n+\n+import java.awt.Color;\n+import javax.swing.JInternalFrame;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4268949 {\n+\n+    static Color c1;\n+    static Color c2;\n+    static Color c3;\n+\n+    public static void main(String[] argv) throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            JInternalFrame if1, if2, if3;\n+            if1 = new JInternalFrame(\"Frame 1\");\n+            if2 = new JInternalFrame(\"Frame 2\");\n+            if3 = new JInternalFrame(\"Frame 3\");\n+            if1.setBounds(20, 20, 95, 95);\n+            if2.setBounds(120, 20, 95, 95);\n+            if3.setBounds(220, 20, 95, 95);\n+            if1.setBackground(Color.red);\n+            if2.setBackground(Color.blue);\n+            if3.setBackground(Color.green);\n+            c1 = if1.getContentPane().getBackground();\n+            c2 = if2.getContentPane().getBackground();\n+            c3 = if3.getContentPane().getBackground();\n+        });\n+        if (!(c1.equals(Color.red)) || !(c2.equals(Color.blue))\n+                || !(c3.equals(Color.green))) {\n+            throw new RuntimeException(\"Test failed: JInternalFrame \" +\n+                    \"cannot do setBackground()\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JInternalFrame\/bug4268949.java","additions":63,"deletions":0,"binary":false,"changes":63,"status":"added"},{"patch":"@@ -0,0 +1,110 @@\n+\/*\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4309079\n+ * @summary Tests that when a JInternalFrame is activated,\n+            focused JTextField shows cursor.\n+ * @key headful\n+ * @run main bug4309079\n+ *\/\n+\n+import java.awt.FlowLayout;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.event.InputEvent;\n+import java.awt.event.FocusEvent;\n+import java.awt.event.FocusListener;\n+import javax.swing.JFrame;\n+import javax.swing.JDesktopPane;\n+import javax.swing.JInternalFrame;\n+import javax.swing.JTextField;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4309079 {\n+\n+    private static JFrame f;\n+    private static JTextField tf;\n+    private static JDesktopPane desktop;\n+    private static JInternalFrame f1;\n+    private static JInternalFrame f2;\n+    private static volatile boolean passed = true;\n+    private static volatile Point p;\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            Robot robot = new Robot();\n+            robot.setAutoDelay(100);\n+            SwingUtilities.invokeAndWait(() -> {\n+                f = new JFrame();\n+                f.setSize(500, 300);\n+                tf = new JTextField(10);\n+                tf.addFocusListener(new FocusListener() {\n+                    public void focusGained(FocusEvent e) {\n+                        passed = tf.getCaret().isVisible();\n+                    }\n+                    public void focusLost(FocusEvent e) {\n+                    }\n+                });\n+                tf.requestFocus();\n+                f1 = AddFrame(new JTextField(10));\n+                f2 = AddFrame(tf);\n+                f.getContentPane().add(desktop);\n+                f.setVisible(true);\n+            });\n+            robot.waitForIdle();\n+            robot.delay(500);\n+\n+            SwingUtilities.invokeAndWait(() -> {\n+                f1.toFront();\n+                f2.toFront();\n+                p = tf.getLocationOnScreen();\n+            });\n+            robot.mouseMove(p.x, p.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK );\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK );\n+\n+            if (!passed) {\n+                throw new RuntimeException(\"Test failed.\");\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (f != null) {\n+                    f.dispose();\n+                }\n+            });\n+        }\n+    }\n+\n+    private static JInternalFrame AddFrame(JTextField tf) {\n+        JInternalFrame frame = new JInternalFrame();\n+        desktop = new JDesktopPane();\n+        desktop.add(frame);\n+        frame.getContentPane().setLayout(new FlowLayout());\n+        frame.getContentPane().add(tf);\n+        frame.setSize(300, 200);\n+        frame.setVisible(true);\n+        return frame;\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JInternalFrame\/bug4309079.java","additions":110,"deletions":0,"binary":false,"changes":110,"status":"added"},{"patch":"@@ -0,0 +1,151 @@\n+\/*\n+ * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4732229\n+ * @summary Ctrl+Space, bringing up System menu on a JIF errors using Win LAF\n+ * @key headful\n+ * @run main bug4732229\n+ *\/\n+\n+import javax.swing.JFrame;\n+import javax.swing.JDesktopPane;\n+import javax.swing.JInternalFrame;\n+import javax.swing.JTextArea;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+import java.awt.Robot;\n+import java.awt.event.FocusAdapter;\n+import java.awt.event.FocusEvent;\n+import java.awt.event.KeyEvent;\n+\n+public class bug4732229 {\n+\n+    JFrame frame;\n+    JDesktopPane desktop;\n+    JInternalFrame jif;\n+    JTextArea ta;\n+    Robot robot;\n+    volatile boolean keyTyped = false;\n+\n+    public static void main(String[] args) throws Exception {\n+        bug4732229 b = new bug4732229();\n+        b.init();\n+    }\n+\n+    public void init() throws Exception {\n+        robot = new Robot();\n+        robot.setAutoDelay(100);\n+        try {\n+            SwingUtilities.invokeAndWait(() -> {\n+                frame = new JFrame(\"bug4732229\");\n+                desktop = new JDesktopPane();\n+                frame.getContentPane().add(desktop);\n+\n+                ta = new JTextArea();\n+                ta.addFocusListener(new FocusAdapter() {\n+                    public void focusGained(FocusEvent e) {\n+                        synchronized (bug4732229.this) {\n+                            keyTyped = true;\n+                            bug4732229.this.notifyAll();\n+                        }\n+                    }\n+                });\n+                frame.setSize(200, 200);\n+                frame.setLocationRelativeTo(null);\n+                frame.setVisible(true);\n+                jif = new JInternalFrame(\"Internal Frame\", true, false, true,\n+                        true);\n+                jif.setBounds(10, 10, 100, 100);\n+                jif.getContentPane().add(ta);\n+                jif.setVisible(true);\n+                desktop.add(jif);\n+                try {\n+                    jif.setSelected(true);\n+                } catch (Exception e) {\n+                    throw new RuntimeException(e);\n+                }\n+\n+            });\n+            synchronized (this) {\n+                while (!keyTyped) {\n+                    bug4732229.this.wait();\n+                }\n+            }\n+            robot.waitForIdle();\n+            robot.delay(200);\n+            robot.keyPress(KeyEvent.VK_CONTROL);\n+            robot.keyPress(KeyEvent.VK_SPACE);\n+            robot.keyRelease(KeyEvent.VK_SPACE);\n+            robot.keyRelease(KeyEvent.VK_CONTROL);\n+            robot.waitForIdle();\n+            robot.delay(200);\n+            SwingUtilities.invokeAndWait(() -> {\n+                try {\n+                    jif.setSelected(false);\n+                } catch (Exception e) {\n+                    throw new RuntimeException(e);\n+                }\n+                jif.setVisible(false);\n+                desktop.remove(jif);\n+                try {\n+                    UIManager.setLookAndFeel(\n+                            UIManager.getSystemLookAndFeelClassName());\n+                } catch (Exception e) {\n+                    throw new RuntimeException(e);\n+                }\n+                desktop.updateUI();\n+\n+                jif = new JInternalFrame(\"Internal Frame\", true, false, true,\n+                        true);\n+                jif.setBounds(10, 10, 100, 100);\n+                jif.getContentPane().add(ta);\n+                jif.setVisible(true);\n+                desktop.add(jif);\n+                try {\n+                    jif.setSelected(true);\n+                } catch (Exception e) {\n+                    throw new RuntimeException(e);\n+                }\n+            });\n+            synchronized (this) {\n+                while (!keyTyped) {\n+                    bug4732229.this.wait();\n+                }\n+            }\n+            robot.keyPress(KeyEvent.VK_CONTROL);\n+            robot.keyPress(KeyEvent.VK_SPACE);\n+            robot.keyRelease(KeyEvent.VK_SPACE);\n+            robot.keyRelease(KeyEvent.VK_CONTROL);\n+            robot.waitForIdle();\n+            robot.delay(200);\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (frame != null) {\n+                    frame.dispose();\n+                }\n+            });\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JInternalFrame\/bug4732229.java","additions":151,"deletions":0,"binary":false,"changes":151,"status":"added"},{"patch":"@@ -0,0 +1,67 @@\n+\/*\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 5009724\n+ * @requires (os.family == \"linux\")\n+ * @summary JInternalFrame not serializable in GTK L&F\n+ * @key headful\n+ * @run main bug5009724\n+ *\/\n+\n+import java.awt.event.ActionEvent;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.ObjectOutputStream;\n+import java.io.Serializable;\n+import javax.swing.AbstractAction;\n+import javax.swing.JInternalFrame;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+\n+public class bug5009724 {\n+\n+    public static void main(String []args) throws Exception {\n+        UIManager.setLookAndFeel(\"com.sun.java.swing.plaf.gtk.GTKLookAndFeel\");\n+        SwingUtilities.invokeAndWait(() -> {\n+            JInternalFrame frame = new JInternalFrame();\n+            ObjectOutputStream out = null;\n+            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n+            try {\n+                out = new ObjectOutputStream(byteStream);\n+            } catch (IOException e) {\n+\n+            }\n+            if (out != null) {\n+                System.out.println(\"Testing...\");\n+                try {\n+                    out.writeObject(frame);\n+                } catch (Exception e) {\n+                    System.out.println(e);\n+                    throw new RuntimeException(\"Serialization exception. Test failed.\");\n+                }\n+            }\n+        });\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JInternalFrame\/bug5009724.java","additions":67,"deletions":0,"binary":false,"changes":67,"status":"added"},{"patch":"@@ -0,0 +1,50 @@\n+\/*\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4300224\n+ * @summary BasicListUI.ListDataHandler improperly updates list selection on insertion\n+ * @run main bug4300224\n+ *\/\n+\n+import javax.swing.JList;\n+import javax.swing.DefaultListModel;\n+\n+public class bug4300224 {\n+\n+    public static void main(String[] args) throws Exception {\n+        DefaultListModel<String> model = new DefaultListModel<>();\n+        JList<String> list = new JList<>(model);\n+\n+        model.addElement(\"List Item 1\");\n+        model.addElement(\"List Item 2\");\n+        model.addElement(\"List Item 3\");\n+        model.addElement(\"List Item 4\");\n+        list.setSelectedIndex(2);\n+        model.insertElementAt(\"Inserted Item\", 0);\n+        if (list.getSelectedIndex() != 3) {\n+            throw new RuntimeException(\"Inserted element improperly updates list selection\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JList\/bug4300224.java","additions":50,"deletions":0,"binary":false,"changes":50,"status":"added"},{"patch":"@@ -0,0 +1,46 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4487689\n+ * @summary JList.setSelectedValue() throws ArrayIndexOutOfBoundsException on empty list.\n+ * @run main bug4487689\n+ *\/\n+\n+import java.util.Vector;\n+import javax.swing.JList;\n+\n+public class bug4487689 {\n+\n+    public static void main(String[] args) throws Exception {\n+        JList<String> list = new JList<>(new Vector<String>());\n+\n+        list.setSelectedIndex(0);\n+        list.getSelectedValue();\n+\n+        int[] indices = {0,1};\n+        list.setSelectedIndices(indices);\n+        list.getSelectedValues();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JList\/bug4487689.java","additions":46,"deletions":0,"binary":false,"changes":46,"status":"added"},{"patch":"@@ -0,0 +1,66 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4832765\n+ * @summary JList vertical scrolling doesn't work properly.\n+ * @run main bug4832765\n+ *\/\n+\n+import java.awt.Dimension;\n+import java.awt.Rectangle;\n+import javax.swing.JFrame;\n+import javax.swing.JList;\n+import javax.swing.JScrollPane;\n+import javax.swing.SwingConstants;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4832765 {\n+\n+    public static void main(String[] argv) throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            String[] data = {\"One\", \"Two\", \"Three\", \"Four\",\n+                    \"Five\", \"Six \", \"Seven\", \"Eight\",\n+                    \"Nine\", \"Ten\", \"Eleven\", \"Twelv\"};\n+            JList<String> list = new JList<>(data);\n+            list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\n+\n+            JScrollPane jsp = new JScrollPane(list);\n+            Rectangle rect = list.getCellBounds(5, 5);\n+            Dimension d = new Dimension(200, rect.height);\n+            jsp.setPreferredSize(d);\n+            jsp.setMinimumSize(d);\n+\n+            list.scrollRectToVisible(rect);\n+\n+            int unit = list.getScrollableUnitIncrement(rect,\n+                    SwingConstants.VERTICAL,\n+                    -1);\n+            if (unit <= 0) {\n+                throw new RuntimeException(\"JList scrollable unit increment\" +\n+                        \" should be greate than 0.\");\n+            }\n+        });\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JList\/bug4832765.java","additions":66,"deletions":0,"binary":false,"changes":66,"status":"added"},{"patch":"@@ -0,0 +1,66 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4191374\n+ * @summary Verify if JMenuBar.getSubElements returns an array\n+            with null values\n+ * @run main bug4191374\n+ *\/\n+\n+import javax.swing.Box;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.MenuElement;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4191374 {\n+    static JMenuBar mb;\n+    static volatile boolean pass = true;\n+\n+    public static void main(String[] args) throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            mb = new JMenuBar();\n+            newMenu(mb);\n+            newMenu(mb);\n+            mb.add(Box.createGlue());\n+            mb.add(new JMenu(\"Help\"));\n+            MenuElement[] me = mb.getSubElements();\n+            for (int i = 0; i < me.length; i++) {\n+                if (me[i] == null)\n+                    pass = false;\n+            }\n+        });\n+        if (!pass) {\n+            throw new RuntimeException(\"Bug 4191374 FAILED\");\n+        }\n+    }\n+\n+    public static void newMenu(JMenuBar mb) {\n+        JMenu m = (JMenu) mb.add(new JMenu(\"File\"));\n+        m.add(\"Menu item\");\n+        m.add(\"Menu item\");\n+        m.add(\"Menu item\");\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenuBar\/bug4191374.java","additions":66,"deletions":0,"binary":false,"changes":66,"status":"added"},{"patch":"@@ -0,0 +1,87 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4802656\n+ * @summary Problem with keyboard navigation in JMenus JMenuItems if setVisible(false)\n+ * @key headful\n+ * @run main bug4802656\n+ *\/\n+\n+import java.awt.Robot;\n+import java.awt.event.KeyEvent;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4802656 {\n+\n+    public static JFrame mainFrame;\n+    public static JMenu menu2;\n+    public static volatile boolean menu2Selected = true;\n+\n+    public static void main(String[] args) throws Exception {\n+        Robot robo = new Robot();\n+        robo.setAutoDelay(100);\n+        try {\n+            SwingUtilities.invokeAndWait(() -> {\n+                mainFrame = new JFrame(\"Bug4802656\");\n+                JMenuBar menuBar = new JMenuBar();\n+                JMenu menu1 = new JMenu(\"File\");\n+                menu2 = new JMenu(\"Hidden\");\n+                JMenu menu3 = new JMenu(\"Help\");\n+                menuBar.add(menu1);\n+                menuBar.add(menu2);\n+                menuBar.add(menu3);\n+                menu2.setVisible(false);\n+                mainFrame.setJMenuBar(menuBar);\n+                mainFrame.setSize(200, 200);\n+                mainFrame.setLocationRelativeTo(null);\n+                mainFrame.setVisible(true);\n+            });\n+            robo.waitForIdle();\n+            robo.delay(1000);\n+            robo.keyPress(KeyEvent.VK_F10);\n+            robo.keyRelease(KeyEvent.VK_F10);\n+            robo.keyPress(KeyEvent.VK_RIGHT);\n+            robo.keyRelease(KeyEvent.VK_RIGHT);\n+            robo.delay(500);\n+\n+            SwingUtilities.invokeAndWait(() -> {\n+                menu2Selected = menu2.isSelected();\n+            });\n+\n+            if (menu2Selected) {\n+                throw new RuntimeException(\"Test failed\");\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (mainFrame != null) {\n+                    mainFrame.dispose();\n+                }\n+            });\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenuBar\/bug4802656.java","additions":87,"deletions":0,"binary":false,"changes":87,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,0 @@\n- * @author Alexander Potochkin\n@@ -35,1 +34,6 @@\n-import javax.swing.*;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.JMenuItem;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n@@ -37,1 +41,2 @@\n-import java.awt.*;\n+import java.awt.Point;\n+import java.awt.Robot;\n@@ -51,1 +56,1 @@\n-            if(systemLAF.endsWith(\"MotifLookAndFeel\")){\n+            if (systemLAF.endsWith(\"MotifLookAndFeel\")) {\n@@ -57,1 +62,2 @@\n-            robot.setAutoDelay(10);\n+            robot.setAutoWaitForIdle(true);\n+            robot.setAutoDelay(100);\n@@ -59,1 +65,1 @@\n-            SwingUtilities.invokeAndWait(new Runnable() {\n+            SwingUtilities.invokeAndWait(() -> createAndShowUI());\n@@ -61,4 +67,0 @@\n-                public void run() {\n-                    createAndShowUI();\n-                }\n-            });\n@@ -66,0 +68,1 @@\n+            robot.delay(1000);\n@@ -68,4 +71,5 @@\n-            Point point = Util.getCenterPoint(menu);\n-            robot.mouseMove(point.x, point.y);\n-            robot.mousePress(InputEvent.BUTTON1_MASK);\n-            robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+            Point menuLocation = Util.getCenterPoint(menu);\n+            System.out.println(\"Menu Location \" + menuLocation);\n+            robot.mouseMove(menuLocation.x, menuLocation.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -73,0 +77,1 @@\n+            robot.delay(250);\n@@ -74,4 +79,5 @@\n-            point = Util.getCenterPoint(menuItem);\n-            robot.mouseMove(point.x, point.y);\n-            robot.mousePress(InputEvent.BUTTON1_MASK);\n-            robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+            Point itemLocation = Util.getCenterPoint(menuItem);\n+            System.out.println(\"MenuItem Location \" + itemLocation);\n+            robot.mouseMove(itemLocation.x, itemLocation.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -79,0 +85,1 @@\n+            robot.delay(250);\n@@ -84,24 +91,0 @@\n-            \/\/ test mouse drag\n-            point = Util.getCenterPoint(menu);\n-            robot.mouseMove(point.x, point.y);\n-            Point menuLocation = Util.invokeOnEDT(new Callable<Point>() {\n-\n-                @Override\n-                public Point call() throws Exception {\n-                    return menu.getLocationOnScreen();\n-                }\n-            });\n-\n-            Point itemLocation = Util.invokeOnEDT(new Callable<Point>() {\n-\n-                @Override\n-                public Point call() throws Exception {\n-                    return menuItem.getLocationOnScreen();\n-                }\n-            });\n-\n-            int x0 = menuLocation.x + 10;\n-            int y0 = menuLocation.y + 10;\n-            int x1 = itemLocation.x + 10;\n-            int y1 = itemLocation.y + 10;\n-\n@@ -109,2 +92,3 @@\n-            robot.mousePress(InputEvent.BUTTON1_MASK);\n-            robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+            robot.mouseMove(menuLocation.x, menuLocation.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -112,0 +96,1 @@\n+            robot.delay(250);\n@@ -113,3 +98,6 @@\n-            robot.mousePress(InputEvent.BUTTON1_MASK);\n-            Util.glide(robot, x0, y0, x1, y1);\n-            robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+            \/\/ test mouse drag\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.delay(250);\n+            Util.glide(robot, menuLocation.x, menuLocation.y,\n+                              itemLocation.x, itemLocation.y);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -122,1 +110,5 @@\n-            if (frame != null) SwingUtilities.invokeAndWait(() -> frame.dispose());\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (frame != null) {\n+                    frame.dispose();\n+                }\n+            });\n@@ -154,1 +146,0 @@\n-\n@@ -157,0 +148,1 @@\n+\n","filename":"test\/jdk\/javax\/swing\/JMenuItem\/4654927\/bug4654927.java","additions":42,"deletions":50,"binary":false,"changes":92,"status":"modified"},{"patch":"@@ -0,0 +1,94 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+ \/*\n+  * @test\n+  * @key headful\n+  * @bug 8319103\n+  * @requires (os.family == \"linux\")\n+  * @library \/java\/awt\/regtesthelpers\n+  * @build PassFailJFrame\n+  * @summary Tests if the focusable popup can be dismissed when the parent\n+  *          window or the popup itself loses focus in Wayland.\n+  * @run main\/manual FocusablePopupDismissTest\n+  *\/\n+\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JPopupMenu;\n+import javax.swing.JTextField;\n+import java.awt.Window;\n+import java.util.List;\n+\n+public class FocusablePopupDismissTest {\n+    private static final String INSTRUCTIONS = \"\"\"\n+            A frame with a \"Click me\" button should appear next to the window\n+            with this instruction.\n+\n+            Click on the \"Click me\" button.\n+\n+            If the JTextField popup with \"Some text\" is not showing on the screen,\n+            click Fail.\n+\n+            The following steps require some focusable system window to be displayed\n+            on the screen. This could be a system settings window, file manager, etc.\n+\n+            Click on the \"Click me\" button if the popup is not displayed\n+            on the screen.\n+\n+            While the popup is displayed, click on some other window on the desktop.\n+            If the popup has disappeared, click Pass, otherwise click Fail.\n+            \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        if (System.getenv(\"WAYLAND_DISPLAY\") == null) {\n+            \/\/test is valid only when running on Wayland.\n+            return;\n+        }\n+\n+        PassFailJFrame.builder()\n+                .title(\"FocusablePopupDismissTest\")\n+                .instructions(INSTRUCTIONS)\n+                .rows(20)\n+                .columns(45)\n+                .testUI(FocusablePopupDismissTest::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    static List<Window> createTestUI() {\n+        JFrame frame = new JFrame(\"FocusablePopupDismissTest\");\n+        JButton button = new JButton(\"Click me\");\n+        frame.add(button);\n+\n+        button.addActionListener(e -> {\n+            JPopupMenu popupMenu = new JPopupMenu();\n+            JTextField textField = new JTextField(\"Some text\", 10);\n+            popupMenu.add(textField);\n+            popupMenu.show(button, 0, button.getHeight());\n+        });\n+        frame.pack();\n+\n+        return List.of(frame);\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JPopupMenu\/FocusablePopupDismissTest.java","additions":94,"deletions":0,"binary":false,"changes":94,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+import java.awt.MouseInfo;\n@@ -50,0 +51,1 @@\n+    static volatile Point mouseLoc;\n@@ -52,0 +54,1 @@\n+    static volatile boolean ignoreFirst = false;\n@@ -56,0 +59,1 @@\n+            robot.mouseMove(100, 100);\n@@ -77,0 +81,1 @@\n+                mouseLoc = MouseInfo.getPointerInfo().getLocation();\n@@ -81,0 +86,6 @@\n+            if ((mouseLoc.x >= point.x) && (mouseLoc.x < point.x + width) &&\n+                (mouseLoc.y >= point.y) && (mouseLoc.y < point.y + height)) {\n+                 System.out.println(\"pointer is within window\");\n+                 ignoreFirst = true;\n+                 MyTableHeaderUI.testValue = 0;\n+            }\n@@ -84,1 +95,1 @@\n-            for(int i = -shift; i < width + 2*shift; i++) {\n+            for (int i = -shift; i < width + 2*shift; i++) {\n@@ -105,1 +116,1 @@\n-        private static int testValue;\n+        private static volatile int testValue;\n@@ -110,0 +121,8 @@\n+            System.out.println(\"oldColumn \" + oldColumn + \" newColumn \" + newColumn +\n+                        \" header.getCursor \" + header.getCursor() + \" cursor \" + cursor);\n+            if (ignoreFirst) {\n+                ignoreFirst = false;\n+                if (newColumn == 0) {\n+                    return;\n+                }\n+            }\n@@ -112,2 +131,0 @@\n-                System.out.println(\"oldColumn \" + oldColumn + \" newColumn \" + newColumn +\n-                        \"header.getCursor \" + header.getCursor() + \" cursor \" + cursor);\n","filename":"test\/jdk\/javax\/swing\/JTableHeader\/6889007\/bug6889007.java","additions":22,"deletions":5,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -227,1 +227,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/javax\/swing\/UI\/UnninstallUIMemoryLeaks\/UnninstallUIMemoryLeaks.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,114 @@\n+\/*\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Robot;\n+import java.awt.Shape;\n+import javax.swing.JEditorPane;\n+import javax.swing.JFrame;\n+import javax.swing.SwingUtilities;\n+import javax.swing.text.BadLocationException;\n+import javax.swing.text.Document;\n+import javax.swing.text.Element;\n+import javax.swing.text.Position;\n+import javax.swing.text.StyleConstants;\n+import javax.swing.text.View;\n+import javax.swing.text.ViewFactory;\n+import javax.swing.text.html.HTML;\n+import javax.swing.text.html.HTMLEditorKit;\n+import javax.swing.text.html.ParagraphView;\n+\n+\/*\n+ * @test\n+ * @bug 4398059\n+ * @key headful\n+ * @summary Tests that CompositeView doesn't throw NPE.\n+ *\/\n+\n+public class bug4398059 {\n+    private static JFrame jFrame;\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            Robot robot = new Robot();\n+            SwingUtilities.invokeAndWait(bug4398059::createAndShowUI);\n+            robot.waitForIdle();\n+            robot.delay(1000);\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (jFrame != null) {\n+                    jFrame.dispose();\n+                }\n+            });\n+        }\n+    }\n+\n+    public static void createAndShowUI() {\n+        String text = \"<H1>text\";\n+        jFrame = new JFrame(\"CompositeView Test\");\n+        JEditorPane jep = new JEditorPane();\n+        jep.setEditorKit(new MyHTMLEditorKit());\n+        jep.setText(text);\n+\n+        Document doc = jep.getDocument();\n+        jep.setCaretPosition(doc.getLength() - 1);\n+\n+        jFrame.getContentPane().add(jep);\n+        jFrame.setSize(200,200);\n+        jFrame.setVisible(true);\n+    }\n+\n+    static class MyHTMLEditorKit extends HTMLEditorKit {\n+        private static final ViewFactory defaultFactory = new MyHTMLFactory();\n+\n+        public ViewFactory getViewFactory() {\n+            return defaultFactory;\n+        }\n+\n+        static class MyHTMLFactory extends HTMLEditorKit.HTMLFactory {\n+            public View create(Element elem) {\n+                Object obj = elem.getAttributes().getAttribute(StyleConstants.NameAttribute);\n+                if (obj instanceof HTML.Tag kind) {\n+                    if (kind == HTML.Tag.H1) {\n+                        return new MyParagraphView(elem);\n+                    }\n+                }\n+                return super.create(elem);\n+            }\n+        }\n+\n+        static class MyParagraphView extends ParagraphView {\n+            public MyParagraphView(Element elem) {\n+                super(elem);\n+            }\n+\n+            public Shape getChildAllocation(int index, Shape a) {\n+                return null;\n+            }\n+\n+            public Shape modelToView(int pos, Shape a, Position.Bias b)\n+                                      throws BadLocationException {\n+                return super.modelToView(pos, a, b);\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/CompositeView\/bug4398059.java","additions":114,"deletions":0,"binary":false,"changes":114,"status":"added"},{"patch":"@@ -0,0 +1,106 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Point;\n+import java.awt.Rectangle;\n+import java.awt.Robot;\n+import java.awt.event.InputEvent;\n+import java.awt.event.KeyAdapter;\n+import java.awt.event.KeyEvent;\n+import javax.swing.JFrame;\n+import javax.swing.JTextArea;\n+import javax.swing.SwingUtilities;\n+\n+\/*\n+ * @test\n+ * @bug 4197894\n+ * @key headful\n+ * @summary Tests if shift-click adjusts selection in text areas.\n+ *\/\n+\n+public class bug4197894 {\n+    private static JFrame jFrame;\n+    private static JTextArea ta;\n+\n+    private static volatile Point point = null;\n+    private static volatile Rectangle bounds;\n+\n+    private static volatile boolean passed = true;\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            Robot robot = new Robot();\n+            robot.setAutoDelay(50);\n+            robot.setAutoWaitForIdle(true);\n+\n+            SwingUtilities.invokeAndWait(bug4197894::createAndShowUI);\n+            robot.waitForIdle();\n+            robot.delay(1000);\n+\n+            SwingUtilities.invokeAndWait(() -> {\n+                point = ta.getLocationOnScreen();\n+                bounds = ta.getBounds();\n+            });\n+            robot.waitForIdle();\n+            robot.delay(300);\n+\n+            robot.mouseMove((point.x + bounds.width \/ 4),\n+                    (point.y + bounds.height \/ 4));\n+\n+            robot.keyPress(KeyEvent.VK_SHIFT);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.keyRelease(KeyEvent.VK_SHIFT);\n+            robot.delay(300);\n+\n+            if (!passed) {\n+                throw new RuntimeException(\"Test failed.\" +\n+                        \" Shift-Click Text Selection does not work!\");\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (jFrame != null) {\n+                    jFrame.dispose();\n+                }\n+            });\n+        }\n+    }\n+\n+    private static void createAndShowUI() {\n+        jFrame = new JFrame(\"Shift-Click Text Selection\");\n+        ta = new JTextArea();\n+        ta.addKeyListener(new KeyAdapter() {\n+            public void keyReleased(KeyEvent e) {\n+                String selText = ta.getSelectedText();\n+                passed = !(selText == null || (selText.length() == 0));\n+            }\n+        });\n+        ta.setText(\"12345\\n12345\\n12345\\n12345\\n12345\\n12345\\n12345\");\n+        ta.setCaretPosition(ta.getDocument().getLength());\n+        jFrame.getContentPane().add(ta);\n+        jFrame.pack();\n+        jFrame.setLocationRelativeTo(null);\n+        jFrame.setAlwaysOnTop(true);\n+        jFrame.setVisible(true);\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultCaret\/bug4197894.java","additions":106,"deletions":0,"binary":false,"changes":106,"status":"added"},{"patch":"@@ -0,0 +1,134 @@\n+\/*\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Container;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.event.InputEvent;\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+import javax.swing.BoxLayout;\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JTextField;\n+import javax.swing.SwingUtilities;\n+\n+\/*\n+ * @test\n+ * @bug 4203175\n+ * @key headful\n+ * @summary Tests that double-click on disabled JTextField doesn't\n+ *          cause other text-field to select content.\n+ *\/\n+\n+public class bug4203175 {\n+    private static JFrame jFrame;\n+    private static JTextField tf1, tf2;\n+    private static JButton b;\n+    private static volatile Point point;\n+    private static volatile boolean passed = true;\n+    private static int clicks = 0;\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            Robot robot = new Robot();\n+            robot.setAutoDelay(50);\n+            robot.setAutoWaitForIdle(true);\n+\n+            SwingUtilities.invokeAndWait(bug4203175::createAndShowUI);\n+            robot.delay(1000);\n+\n+            SwingUtilities.invokeAndWait(() -> point = tf1.getLocationOnScreen());\n+            robot.mouseMove(point.x, point.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.delay(200);\n+\n+            SwingUtilities.invokeAndWait(() -> point = b.getLocationOnScreen());\n+            robot.mouseMove(point.x, point.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.delay(200);\n+\n+            SwingUtilities.invokeAndWait(() -> point = tf2.getLocationOnScreen());\n+            robot.mouseMove(point.x, point.y);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.delay(200);\n+\n+            if (!passed) {\n+                throw new RuntimeException(\"Test failed!! Text selection on disabled\" +\n+                                           \" TextField does not work as expected!\");\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (jFrame != null) {\n+                    jFrame.dispose();\n+                }\n+            });\n+        }\n+    }\n+\n+    private static void createAndShowUI() {\n+        jFrame = new JFrame(\"JTextField Text Selection\");\n+        Container cont = jFrame.getContentPane();\n+        cont.setLayout(new BoxLayout(cont, BoxLayout.Y_AXIS));\n+\n+        tf1 = new JTextField(20);\n+        tf1.setText(\"sometext\");\n+        tf1.setName(\"Field 1\");\n+        tf1.setCaretPosition(tf1.getDocument().getLength());\n+        cont.add(tf1);\n+\n+        tf2 = new JTextField(20);\n+        tf2.setName(\"Field 2\");\n+        tf2.addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mouseClicked(MouseEvent e) {\n+                super.mouseClicked(e);\n+                clicks++;\n+                if (clicks == 2) {\n+                    String selText = tf1.getSelectedText();\n+                    passed = (selText == null || (selText.length() == 0));\n+                }\n+            }\n+        });\n+        cont.add(tf2);\n+\n+        b = new JButton(\"Toggle Enabled\");\n+        cont.add(b);\n+        b.addActionListener(e -> {\n+            if (e.getSource() == b) {\n+                boolean b = tf1.isEnabled();\n+                tf1.setEnabled(!b);\n+                tf2.setEnabled(!b);\n+            }\n+        });\n+\n+        jFrame.pack();\n+        jFrame.setLocationRelativeTo(null);\n+        jFrame.setVisible(true);\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultCaret\/bug4203175.java","additions":134,"deletions":0,"binary":false,"changes":134,"status":"added"},{"patch":"@@ -0,0 +1,52 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.event.ActionEvent;\n+import javax.swing.Action;\n+import javax.swing.JTextPane;\n+import javax.swing.text.DefaultEditorKit;\n+\n+\/*\n+ * @test\n+ * @bug 4265242\n+ * @summary Tests endParagraphAction in JTextPane\n+ *\/\n+\n+public class bug4265242 {\n+    public static void main(String[] args) {\n+        JTextPane jTextPane = new JTextPane();\n+        jTextPane.setText(\"Merry sparrow\");\n+\n+        Action[] actions = jTextPane.getActions();\n+        Action endPara = null;\n+        for (Action action : actions) {\n+            String name = (String) action.getValue(Action.NAME);\n+            if (name.equals(DefaultEditorKit.endParagraphAction)) {\n+                endPara = action;\n+            }\n+        }\n+        endPara.actionPerformed(new ActionEvent(jTextPane,\n+                ActionEvent.ACTION_PERFORMED,\n+                DefaultEditorKit.endParagraphAction));\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultEditorKit\/bug4265242.java","additions":52,"deletions":0,"binary":false,"changes":52,"status":"added"},{"patch":"@@ -0,0 +1,62 @@\n+\/*\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Color;\n+import javax.swing.text.DefaultStyledDocument;\n+import javax.swing.text.Element;\n+import javax.swing.text.MutableAttributeSet;\n+import javax.swing.text.SimpleAttributeSet;\n+import javax.swing.text.StyleConstants;\n+import javax.swing.text.StyledDocument;\n+\n+\/*\n+ * @test\n+ * @bug 4472852\n+ * @summary Tests DefaultStyledDocument.split(int, int)\n+ *\/\n+\n+public class bug4472852 {\n+\n+    public static void main(String[] args) throws Exception {\n+        \/\/ create a Document and insert some text there\n+        StyledDocument doc = new DefaultStyledDocument();\n+        doc.insertString(0, \"this\", null);\n+\n+        \/\/ add style to the last word\n+        Element root = doc.getDefaultRootElement();\n+        int end = root.getEndOffset();\n+        MutableAttributeSet as = new SimpleAttributeSet();\n+        StyleConstants.setBackground(as, Color.BLUE);\n+        doc.setCharacterAttributes(end-5, 5, as, true);\n+\n+        \/\/ inspect Elements of the only Paragraph --\n+        \/\/ there should be no empty Elements\n+        Element para = root.getElement(0);\n+        for (int i = 0; i < para.getElementCount(); i++) {\n+            Element el = para.getElement(i);\n+            if (el.getStartOffset() == el.getEndOffset()) {\n+                throw new RuntimeException(\"Failed: empty Element found\");\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultStyledDocument\/bug4472852.java","additions":62,"deletions":0,"binary":false,"changes":62,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,1 +55,1 @@\n-        return ProcessTools.createJavaProcessBuilder(argsList.toArray(new String[argsList.size()]));\n+        return ProcessTools.createLimitedTestJavaProcessBuilder(argsList.toArray(new String[argsList.size()]));\n","filename":"test\/jdk\/javax\/swing\/text\/html\/CSS\/bug8234913.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,61 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4267840\n+   @summary Tests how HTMLEditorKit.write() works on small documents\n+   @run main bug4267840\n+*\/\n+\n+import javax.swing.JTextPane;\n+import javax.swing.text.EditorKit;\n+import javax.swing.SwingUtilities;\n+import java.io.File;\n+import java.io.FileOutputStream;\n+\n+public class bug4267840 {\n+    public static void main(String[] args) throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            final JTextPane textpane = new JTextPane();\n+            textpane.setContentType(\"text\/html\");\n+            final EditorKit kit = textpane.getEditorKit();\n+\n+            textpane.setText(\"A word\");\n+            File file = new File(\"bug4267840.out\");\n+            try {\n+                FileOutputStream out = new FileOutputStream(file);\n+                kit.write(out, textpane.getDocument(), 0,\n+                          textpane.getDocument().getLength());\n+                out.close();\n+            } catch (Exception e) {}\n+            try {\n+                if (file.length() < 6) {  \/\/ simply can't be\n+                    throw new RuntimeException(\"Failed: \" +\n+                                          \" HTMLEditorKit.write() is broken\");\n+                }\n+            } finally {\n+                file.delete();\n+            }\n+        });\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/html\/HTMLEditorKit\/bug4267840.java","additions":61,"deletions":0,"binary":false,"changes":61,"status":"added"},{"patch":"@@ -0,0 +1,53 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4218254\n+   @summary Serialization Bug on StyleSheet.\n+   @run main bug4218254\n+*\/\n+\n+import javax.swing.text.html.StyleSheet;\n+import java.io.ByteArrayInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+\n+\n+public class bug4218254 {\n+\n+    public static void main(String[] args) throws Exception {\n+        StyleSheet ssw = new StyleSheet();\n+        StyleSheet ssr = null;\n+\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream oos = new ObjectOutputStream(baos);\n+        oos.writeObject(ssw);\n+        byte[] buf = baos.toByteArray();\n+        oos.close();\n+        ByteArrayInputStream bais = new ByteArrayInputStream(buf);\n+        ObjectInputStream ois = new ObjectInputStream(bais);\n+        ssr = (StyleSheet)ois.readObject();\n+        ois.close();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/html\/StyleSheet\/bug4218254.java","additions":53,"deletions":0,"binary":false,"changes":53,"status":"added"},{"patch":"@@ -0,0 +1,54 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4243463\n+   @summary Tests that StyleSheet has following methods:\n+            public void addStyleSheet(StyleSheet ss);\n+            public void removeStyleSheet(StyleSheet ss);\n+            public Enumeration getStyleSheets()\n+   @run main bug4243463\n+*\/\n+\n+import javax.swing.text.html.StyleSheet;\n+\n+public class bug4243463 {\n+\n+    public static void main(String[] argv) throws Exception {\n+        StyleSheet main = new StyleSheet();\n+        StyleSheet ss = new StyleSheet();\n+        ss.addRule(\"p {color:red;}\");\n+\n+        main.addStyleSheet(ss);\n+        StyleSheet[] sheets = main.getStyleSheets();\n+        if (sheets.length != 1 || sheets[0] != ss) {\n+            throw new RuntimeException(\"getStyleSheets failed\");\n+        }\n+\n+        main.removeStyleSheet(ss);\n+        sheets = main.getStyleSheets();\n+        if (sheets != null) {\n+            throw new RuntimeException(\"StyleSheet is not removed\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/html\/StyleSheet\/bug4243463.java","additions":54,"deletions":0,"binary":false,"changes":54,"status":"added"},{"patch":"@@ -0,0 +1,131 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6928542\n+ * @summary Verify RTFEditorKit.read() with fcharset\n+ *\/\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.InputStreamReader;\n+import java.io.PrintStream;\n+import javax.swing.text.Document;\n+import javax.swing.text.Element;\n+import javax.swing.text.rtf.RTFEditorKit;\n+\n+import static java.nio.charset.StandardCharsets.ISO_8859_1;\n+\n+public class RTFReadFontCharsetTest {\n+    public static void main(String[] args) throws Exception {\n+        String s =\n+            \"{\\\\rtf1\\\\fbidis\\\\ansi\\\\ansicpg932\\\\deff0\\\\nouicomp\" +\n+            \"at\\\\deflang1033\\\\deflangfe1041{\\\\fonttbl{\\\\f0\\\\fni\" +\n+            \"l\\\\fcharset0 Segoe UI;}{\\\\f1\\\\fnil\\\\fcharset128 Yu\" +\n+            \" Gothic UI;}{\\\\f2\\\\fswiss\\\\fprq2\\\\fcharset129 Malg\" +\n+            \"un Gothic;}{\\\\f3\\\\fnil\\\\fcharset134 Microsoft YaHe\" +\n+            \"i;}{\\\\f4\\\\fnil\\\\fcharset136 Microsoft JhengHei;}{\\\\\" +\n+            \"f5\\\\fnil\\\\fcharset161 Segoe UI;}{\\\\f6\\\\fnil\\\\fcha\" +\n+            \"rset162 Segoe UI;}{\\\\f7\\\\fnil\\\\fcharset163 Segoe U\" +\n+            \"I;}{\\\\f8\\\\fnil\\\\fcharset177 Segoe UI;}{\\\\f9\\\\fnil\\\\\" +\n+            \"fcharset178 Segoe UI;}{\\\\f10\\\\fnil\\\\fcharset186 S\" +\n+            \"egoe UI;}{\\\\f11\\\\fnil\\\\fcharset204 Segoe UI;}{\\\\f1\" +\n+            \"2\\\\fnil\\\\fcharset222 Leelawadee UI;}{\\\\f13\\\\fnil\\\\\" +\n+            \"fcharset0 Leelawadee UI;}{\\\\f14\\\\fnil\\\\fcharset238\" +\n+            \" Segoe UI;}}\\r\\n{\\\\*\\\\generator Riched20 10.0.1904\" +\n+            \"1}\\\\viewkind4\\\\uc1 \\r\\n\\\\pard\\\\ltrpar\\\\nowidctlpar\" +\n+            \"\\\\sa200\\\\sl276\\\\slmult1\\\\f0\\\\fs22\\\\lang1041 Gr\\\\'f\" +\n+            \"cezi -  Switzerland 0\\\\line\\\\f1\\\\'82\\\\'b1\\\\'82\\\\'f\" +\n+            \"1\\\\'82\\\\'c9\\\\'82\\\\'bf\\\\'82\\\\'cd - Japanese 128\\\\li\" +\n+            \"ne\\\\f2\\\\lang17\\\\'be\\\\'c8\\\\'b3\\\\'e7\\\\'c7\\\\'cf\\\\'bc\\\\\" +\n+            \"'bc\\\\'bf\\\\'e4\\\\lang1041  - Korean 129\\\\line\\\\kern\" +\n+            \"ing2\\\\f3\\\\lang1033\\\\'c4\\\\'e3\\\\'ba\\\\'c3 - China 134\" +\n+            \"\\\\line\\\\f4\\\\'bb\\\\'4f\\\\'c6\\\\'57 - Traditional Chine\" +\n+            \"se - Taiwan 136\\\\line\\\\kerning0\\\\f5\\\\lang17\\\\'e3\\\\\" +\n+            \"'e5\\\\'e9\\\\'e1 \\\\'f3\\\\'ef\\\\'f5 - Greek\\\\f0\\\\lang104\" +\n+            \"1  161\\\\line\\\\f6\\\\lang17 A\\\\'f0a\\\\'e7 - \\\\f0 Turki\" +\n+            \"sh (Tree) 162\\\\line\\\\f7\\\\'fe\\\\f0\\\\lang1041  \\\\lang\" +\n+            \"1033 - \\\\lang17 Vietnam currency\\\\lang1041  163\\\\l\" +\n+            \"ine\\\\f8\\\\rtlch\\\\lang17\\\\'f9\\\\'c8\\\\'d1\\\\'ec\\\\'e5\\\\'\" +\n+            \"c9\\\\'ed\\\\f0\\\\ltrch  - Hebrew 177\\\\line\\\\f9\\\\rtlch\\\\\" +\n+            \"lang1025\\\\'e3\\\\'d1\\\\'cd\\\\'c8\\\\'c7\\\\f0\\\\ltrch\\\\lan\" +\n+            \"g17  - Arabic 178\\\\line\\\\kerning2\\\\f10\\\\lang1033 A\" +\n+            \"\\\\'e8i\\\\'fb - Lithuanian (Thank you) 186\\\\kerning0\" +\n+            \"\\\\f0\\\\lang1041\\\\line\\\\kerning2\\\\f11\\\\lang1049\\\\'c7\" +\n+            \"\\\\'e4\\\\'f0\\\\'e0\\\\'e2\\\\'f1\\\\'f2\\\\'e2\\\\'f3\\\\'e9\\\\'f2\" +\n+            \"\\\\'e5\\\\f0\\\\lang1033  - Russian 204\\\\line\\\\kerning0\" +\n+            \"\\\\f12\\\\lang1054\\\\'ca\\\\'c7\\\\'d1\\\\'ca\\\\'b4\\\\'d5 \\\\f1\" +\n+            \"3\\\\lang1033 - Thailand 222\\\\line\\\\kerning2\\\\f14 cz\" +\n+            \"e\\\\'9c\\\\'e6 - Polish 238\\\\par\\r\\n}\\r\\n\\u0000\";\n+        String expected =\n+            \"Gr\\u00fcezi -  Switzerland 0\\n\" +\n+            \"\\u3053\\u3093\\u306b\\u3061\\u306f - Japanese 128\\n\" +\n+            \"\\uc548\\ub155\\ud558\\uc138\\uc694 - Korean 129\\n\" +\n+            \"\\u4f60\\u597d - China 134\\n\" +\n+            \"\\u81fa\\u7063 - Traditional Chinese - Taiwan 136\\n\" +\n+            \"\\u03b3\\u03b5\\u03b9\\u03b1 \\u03c3\\u03bf\\u03c5 - Greek 161\\n\" +\n+            \"A\\u011fa\\u00e7 - Turkish (Tree) 162\\n\" +\n+            \"\\u20ab - Vietnam currency 163\\n\" +\n+            \"\\u05e9\\u05b8\\u05c1\\u05dc\\u05d5\\u05b9\\u05dd - Hebrew 177\\n\" +\n+            \"\\u0645\\u0631\\u062d\\u0628\\u0627 - Arabic 178\\n\" +\n+            \"A\\u010di\\u016b - Lithuanian (Thank you) 186\\n\" +\n+            \"\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\" +\n+            \"\\u0432\\u0443\\u0439\\u0442\\u0435 - Russian 204\\n\" +\n+            \"\\u0e2a\\u0e27\\u0e31\\u0e2a\\u0e14\\u0e35 - Thailand 222\\n\" +\n+            \"cze\\u015b\\u0107 - Polish 238\\n\" +\n+            \"\\n\";\n+        ByteArrayInputStream bais = new ByteArrayInputStream(\n+            s.getBytes(ISO_8859_1));\n+        InputStreamReader isr = new InputStreamReader(bais, ISO_8859_1);\n+        RTFEditorKit kit = new RTFEditorKit();\n+        Document doc = kit.createDefaultDocument();\n+        kit.read(isr, doc, 0);\n+        Element elem = doc.getDefaultRootElement();\n+        int elemStart = elem.getStartOffset();\n+        int elemEnd = elem.getEndOffset();\n+        String text = doc.getText(elemStart, elemEnd - elemStart);\n+        if (!expected.equals(text)) {\n+            System.err.println(\"Read data\");\n+            System.err.println(\"=========\");\n+            dump(text, System.err);\n+            System.err.println(\"Expected data\");\n+            System.err.println(\"=============\");\n+            dump(expected, System.err);\n+            throw new RuntimeException(\"Test failed\");\n+        }\n+    }\n+\n+    private static void dump(String s, PrintStream ps) {\n+        for(char ch : s.toCharArray()) {\n+            if (ch == '\\\\')\n+                ps.print(\"\\\\\\\\\");\n+            else if (ch >= 0x20 && ch <= 0x7e)\n+                ps.print(ch);\n+            else if (ch == '\\n')\n+                ps.println();\n+            else\n+                ps.printf(\"\\\\u%04x\", (int)ch);\n+        }\n+    }\n+\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/rtf\/RTFReadFontCharsetTest.java","additions":131,"deletions":0,"binary":false,"changes":131,"status":"added"},{"patch":"@@ -0,0 +1,88 @@\n+\/*\n+ * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4485322\n+   @summary DefaultTreeSelectionModel.insureRowContinuity is broken for CONTIGUOUS_TREE_SELECTION\n+   @run main bug4485322\n+*\/\n+\n+import javax.swing.SwingUtilities;\n+import javax.swing.tree.DefaultTreeSelectionModel;\n+import javax.swing.tree.TreeSelectionModel;\n+import javax.swing.tree.RowMapper;\n+import javax.swing.tree.TreePath;\n+\n+import java.util.Arrays;\n+\n+public class bug4485322 {\n+\n+    Object obj1[] = {\"9\", \"2\", \"5\", \"3\", \"1\"};\n+    Object obj2[] = {\"1\", \"2\", \"3\"};\n+\n+    public void init() {\n+        DummyDefaultTreeSelectionModel model = new DummyDefaultTreeSelectionModel();\n+\n+        TreePath sPaths[] = new TreePath[obj1.length];\n+        for (int i=0; i<obj1.length; i++) {\n+            sPaths[i] = new TreePath(obj1[i]);\n+        };\n+        model.setSelectionPaths(sPaths);\n+\n+        model.setRowMapper(new DummyRowMapper());\n+        model.setSelectionMode(TreeSelectionModel.CONTIGUOUS_TREE_SELECTION);\n+        model.insureRowContinuity();\n+\n+        TreePath real[] = model.getSelectionPaths();\n+        TreePath expected[] = new TreePath[obj2.length];\n+        for (int i=0; i<obj2.length; i++) {\n+            expected[i] = new TreePath(obj2[i]);\n+        };\n+\n+        if ( !Arrays.equals(real, expected) ) {\n+            throw new RuntimeException(\"The tree selection path is wrong.\");\n+        }\n+    }\n+\n+    public static class DummyDefaultTreeSelectionModel extends DefaultTreeSelectionModel {\n+        public void insureRowContinuity() {\n+            super.insureRowContinuity();\n+        }\n+    }\n+\n+    public static class DummyRowMapper implements RowMapper {\n+        public int[] getRowsForPaths(TreePath[] path) {\n+            int rows[] = new int[path.length];\n+            for (int i = 0;i < path.length; i++) {\n+                String userObject = path[i].getPathComponent(0).toString();\n+                rows[i] = Integer.valueOf(userObject);\n+            }\n+            return rows;\n+        }\n+    }\n+\n+    public static void main(String[] argv) throws Exception {\n+        bug4485322 b = new bug4485322();\n+        SwingUtilities.invokeAndWait(() -> b.init());\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/tree\/DefaultTreeSelectionModel\/bug4485322.java","additions":88,"deletions":0,"binary":false,"changes":88,"status":"added"},{"patch":"@@ -0,0 +1,84 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4210354\n+ * @summary Tests whether method FixedHeightLayoutCache.getBounds returns bad Rectangle\n+ * @run main bug4210354\n+ *\/\n+\n+import java.awt.Rectangle;\n+\n+import javax.swing.tree.AbstractLayoutCache;\n+import javax.swing.tree.DefaultMutableTreeNode;\n+import javax.swing.tree.DefaultTreeModel;\n+import javax.swing.tree.FixedHeightLayoutCache;\n+import javax.swing.tree.TreePath;\n+\n+public class bug4210354 {\n+    static class DummyNodeDimensions extends AbstractLayoutCache.NodeDimensions {\n+        private final Rectangle rectangle;\n+\n+        public DummyNodeDimensions(Rectangle r) {\n+            rectangle = r;\n+        }\n+        public Rectangle getNodeDimensions(Object value, int row, int depth,\n+                                           boolean expanded, Rectangle bounds) {\n+            return rectangle;\n+        }\n+\n+        \/* create the TreeModel of depth 1 with specified num of children *\/\n+        public DefaultTreeModel getTreeModelILike(int childrenCount) {\n+            DefaultMutableTreeNode root = new DefaultMutableTreeNode(\"root\");\n+            for (int i = 0; i < childrenCount; i++) {\n+                DefaultMutableTreeNode child =\n+                        new DefaultMutableTreeNode(\"root.child\" + i);\n+                root.insert(child, i);\n+            }\n+            return new DefaultTreeModel(root);\n+        }\n+    }\n+\n+    public void init() {\n+        int x = 1, y = 2, dx = 3, dy = 4, h = 3;\n+        DummyNodeDimensions dim = new DummyNodeDimensions(new Rectangle(x, y, dx, dy));\n+        FixedHeightLayoutCache fhlc = new FixedHeightLayoutCache();\n+        fhlc.setModel(dim.getTreeModelILike(3));\n+        fhlc.setRootVisible(true);\n+        fhlc.setNodeDimensions(dim);\n+        fhlc.setRowHeight(h);\n+        int row = 0;\n+        TreePath path = fhlc.getPathForRow(row);\n+        Rectangle r = fhlc.getBounds(path, new Rectangle());\n+        Rectangle r2 = new Rectangle(x, row * h, dx, h);\n+        if (r.width != r2.width) {\n+            throw new RuntimeException(\"FixedHeightLayoutCache.getBounds returns bad Rectangle\");\n+        }\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        bug4210354 b = new bug4210354();\n+        b.init();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/tree\/FixedHeightLayoutCache\/bug4210354.java","additions":84,"deletions":0,"binary":false,"changes":84,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4706533\n+ * @summary UndoManager.setLimit(0) doesn't correctly trim the UndoManager size\n+ * @run main bug4706533\n+ *\/\n+\n+import javax.swing.undo.AbstractUndoableEdit;\n+import javax.swing.undo.CannotUndoException;\n+import javax.swing.undo.CannotRedoException;\n+import javax.swing.undo.UndoManager;\n+\n+public class bug4706533 {\n+\n+    public static void main(String[] args) throws Exception {\n+        UndoManager manager = new UndoManager();\n+        manager.setLimit(1);\n+        AbstractUndoableEdit edit = new MyUndoableEdit();\n+        manager.addEdit(edit);\n+        manager.setLimit(0);\n+        try {\n+            manager.undo();\n+            throw new RuntimeException(\"The limit should be zero\");\n+        } catch (CannotUndoException e) {\n+            \/\/Expected to be thrown\n+        }\n+    }\n+\n+    static class MyUndoableEdit extends AbstractUndoableEdit {\n+        @Override\n+        public void undo() throws CannotUndoException {}\n+        @Override\n+        public void redo() throws CannotRedoException {}\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/undo\/UndoManager\/bug4706533.java","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,67 @@\n+\/*\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4992178\n+ * @summary REGRESSION: Allow unlimited number of edits in an UndoManager\n+ * @run main bug4992178\n+ *\/\n+\n+import javax.swing.undo.AbstractUndoableEdit;\n+import javax.swing.undo.CannotRedoException;\n+import javax.swing.undo.CannotUndoException;\n+import javax.swing.undo.UndoManager;\n+\n+public class bug4992178 {\n+\n+    public static void main(String[] argv) throws Exception {\n+        TestUndoManager manager = new TestUndoManager();\n+        manager.setLimit(1);\n+        AbstractUndoableEdit edit = new MyUndoableEdit();\n+        manager.addEdit(edit);\n+\n+        manager.setLimit(-1);\n+\n+        manager.discardAllEdits();\n+\n+        if (manager.getVectorSize() != 0) {\n+            throw new RuntimeException(\n+                \"UndoManager's vector size should be 0 after discarding all changes\");\n+        }\n+    }\n+\n+    static class TestUndoManager extends UndoManager {\n+        public int getVectorSize() {\n+            return edits.size();\n+        }\n+    }\n+\n+    static class MyUndoableEdit extends AbstractUndoableEdit {\n+        @Override\n+        public void undo() throws CannotUndoException {}\n+        @Override\n+        public void redo() throws CannotRedoException {}\n+    }\n+\n+}\n","filename":"test\/jdk\/javax\/swing\/undo\/bug4992178.java","additions":67,"deletions":0,"binary":false,"changes":67,"status":"added"},{"patch":"@@ -104,0 +104,1 @@\n+            rsaSha3_224mgf1, rsaSha3_256mgf1, rsaSha3_384mgf1, rsaSha3_512mgf1,\n@@ -212,0 +213,1 @@\n+            \"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-256-rsa-MGF1\",\n@@ -245,1 +247,1 @@\n-    \/\/ As of JDK 17, the number of defined algorithms are...\n+    \/\/ As of JDK 21, the number of defined algorithms are...\n@@ -337,0 +339,4 @@\n+        test_create_signature_enveloping_sha512_rsa_sha3_224_mgf1();\n+        test_create_signature_enveloping_sha512_rsa_sha3_256_mgf1();\n+        test_create_signature_enveloping_sha512_rsa_sha3_384_mgf1();\n+        test_create_signature_enveloping_sha512_rsa_sha3_512_mgf1();\n@@ -545,0 +551,4 @@\n+        rsaSha3_224mgf1 = fac.newSignatureMethod(\"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-224-rsa-MGF1\", null);\n+        rsaSha3_256mgf1 = fac.newSignatureMethod(\"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-256-rsa-MGF1\", null);\n+        rsaSha3_384mgf1 = fac.newSignatureMethod(\"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-384-rsa-MGF1\", null);\n+        rsaSha3_512mgf1 = fac.newSignatureMethod(\"http:\/\/www.w3.org\/2007\/05\/xmldsig-more#sha3-512-rsa-MGF1\", null);\n@@ -810,0 +820,32 @@\n+    static void test_create_signature_enveloping_sha512_rsa_sha3_224_mgf1()\n+            throws Exception {\n+        System.out.println(\"* Generating signature-enveloping-sha512-rsa_sha3_224_mgf1.xml\");\n+        test_create_signature_enveloping(sha512, rsaSha3_224mgf1, rsa1024,\n+                getPrivateKey(\"RSA\", 1024), kvks, false, true);\n+        System.out.println();\n+    }\n+\n+    static void test_create_signature_enveloping_sha512_rsa_sha3_256_mgf1()\n+            throws Exception {\n+        System.out.println(\"* Generating signature-enveloping-sha512-rsa_sha3_256_mgf1.xml\");\n+        test_create_signature_enveloping(sha512, rsaSha3_256mgf1, rsa1024,\n+                getPrivateKey(\"RSA\", 1024), kvks, false, true);\n+        System.out.println();\n+    }\n+\n+    static void test_create_signature_enveloping_sha512_rsa_sha3_384_mgf1()\n+            throws Exception {\n+        System.out.println(\"* Generating signature-enveloping-sha512-rsa_sha3_384_mgf1.xml\");\n+        test_create_signature_enveloping(sha512, rsaSha3_384mgf1, rsa1024,\n+                getPrivateKey(\"RSA\", 1024), kvks, false, true);\n+        System.out.println();\n+    }\n+\n+    static void test_create_signature_enveloping_sha512_rsa_sha3_512_mgf1()\n+            throws Exception {\n+        System.out.println(\"* Generating signature-enveloping-sha512-rsa_sha3_512_mgf1.xml\");\n+        test_create_signature_enveloping(sha512, rsaSha3_512mgf1, rsa2048,\n+                getPrivateKey(\"RSA\", 2048), kvks, false, true);\n+        System.out.println();\n+    }\n+\n@@ -1976,1 +2018,1 @@\n-                                sm.contains(\"#sha512-rsa-MGF1\") ? 2048 : 1024);\n+                                sm.contains(\"512-rsa-MGF1\") ? 2048 : 1024);\n","filename":"test\/jdk\/javax\/xml\/crypto\/dsig\/GenerationTests.java","additions":44,"deletions":2,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -0,0 +1,70 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * This class provide the template for JDK version specific GregorianCalendarAndDurationSerData.java src file.\n+ *\/\n+public class GregorianCalAndDurSerDataTemplate {\n+    public static final String ORACLE_COPY_RIGHT = \"\"\"\n+            \/*\n+             * Copyright (c) %s, Oracle and\/or its affiliates. All rights reserved.\n+             * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+             *\n+             * This code is free software; you can redistribute it and\/or modify it\n+             * under the terms of the GNU General Public License version 2 only, as\n+             * published by the Free Software Foundation.\n+             *\n+             * This code is distributed in the hope that it will be useful, but WITHOUT\n+             * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+             * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+             * version 2 for more details (a copy is included in the LICENSE file that\n+             * accompanied this code).\n+             *\n+             * You should have received a copy of the GNU General Public License version\n+             * 2 along with this work; if not, write to the Free Software Foundation,\n+             * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+             *\n+             * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+             * or visit www.oracle.com if you need additional information or have any\n+             * questions.\n+             *\/\n+             \\s\n+             \/**\n+              * Mechanically generated %s specific serialization bytes for XMLGregorianCalendar and Duration data type.\n+              * Do not edit this file.\n+              *\/\"\"\";\n+    public static final String GREGO_CAL_DUR_SER_CLASS = \"\"\"\n+            public class %sGregorianCalendarAndDurationSerData extends GregorianCalendarAndDurationSerData {\n+                %s\n+                %s\n+                @Override\n+                public byte[] getGregorianCalendarByteArray() {\n+                    return gregorianCalendarBytes;\n+                }\n+                \\s\n+                @Override\n+                public byte[] getDurationBytes() {\n+                    return durationBytes;\n+                }\n+            };\"\"\";\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/GregorianCalAndDurSerDataTemplate.java","additions":70,"deletions":0,"binary":false,"changes":70,"status":"added"},{"patch":"@@ -0,0 +1,141 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * @test\n+ * @summary utility to generate Gregorian Calendar and Duration serialized data java classes.\n+ * @run junit\/manual GregorianCalAndDurSerDataUtil\n+ *\/\n+\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.ObjectOutputStream;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.time.LocalDate;\n+import java.util.Formatter;\n+\n+import javax.xml.datatype.DatatypeConfigurationException;\n+import javax.xml.datatype.DatatypeFactory;\n+import javax.xml.datatype.Duration;\n+import javax.xml.datatype.XMLGregorianCalendar;\n+\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n+\n+\/**\n+ * Utility to generate the java source file for Gregorian Calendar and Duration serialized data\n+ * for specific version of JDK to be added in SerializationTest. Execute this test with desired version\n+ * of JDK to generate the java source file.\n+ *\/\n+@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n+public class GregorianCalAndDurSerDataUtil {\n+    static String JDK = \"JDK\" + System.getProperty(\"java.version\");\n+    static String testsrc = System.getProperty(\"test.src\");\n+    final static String EXPECTED_CAL = \"0001-01-01T00:00:00.0000000-05:00\";\n+    final static String EXPECTED_DURATION = \"P1Y1M1DT1H1M1S\";\n+    String srcFilePrefix = JDK.toUpperCase().replace(\"-\", \"_\");\n+\n+\n+    \/**\n+     * Create the serialized Bytes array and serialized bytes base64 string for GregorianCalender and Duration\n+     * with jdk under test and generate the java source file.\n+     * @throws DatatypeConfigurationException Unexpected.\n+     * @throws IOException Unexpected.\n+     *\/\n+    @BeforeAll\n+    public void setup() throws DatatypeConfigurationException, IOException {\n+        DatatypeFactory dtf = DatatypeFactory.newInstance();\n+        XMLGregorianCalendar xmlGregorianCalendar = dtf.newXMLGregorianCalendar(EXPECTED_CAL);\n+        Duration duration = dtf.newDuration(EXPECTED_DURATION);\n+        String copyRightStr = GregorianCalAndDurSerDataTemplate.ORACLE_COPY_RIGHT;\n+        String classStr = GregorianCalAndDurSerDataTemplate.GREGO_CAL_DUR_SER_CLASS;\n+        try(ByteArrayOutputStream baos = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(baos);\n+            ByteArrayOutputStream baos2 = new ByteArrayOutputStream(); ObjectOutputStream oos2 = new ObjectOutputStream(baos2)) {\n+            \/\/Serialize the given xmlGregorianCalendar\n+            oos.writeObject(xmlGregorianCalendar);\n+            \/\/Serialize the given xml Duration\n+            oos2.writeObject(duration);\n+            Files.deleteIfExists(Path.of(testsrc,srcFilePrefix+\"GregorianCalendarAndDurationSerData.java\"));\n+\n+            copyRightStr = String.format(copyRightStr, LocalDate.now().getYear(), JDK);\n+            classStr = String.format(classStr, srcFilePrefix, generatePseudoCodeForGregCalSerBytes(baos),\n+                    generatePseudoCodeForDurationSerBytes(baos2));\n+            String srcStr = copyRightStr + \"\\n\" + classStr;\n+            Files.writeString(Path.of(testsrc,srcFilePrefix+\"GregorianCalendarAndDurationSerData.java\"), srcStr);\n+        }\n+    }\n+\n+    \/**\n+     * Verify that Java source file is created.\n+     *\/\n+    @Test\n+    void testFileCreated() {\n+        assertTrue(Files.exists(Path.of(testsrc,srcFilePrefix+\"GregorianCalendarAndDurationSerData.java\")));\n+    }\n+\n+    \/**\n+     * Generates the Java Pseudo code for serialized Gregorian Calendar byte array.\n+     * @param baos Serialized GregorianCalendar ByteArrayOutputStream.\n+     * @return pseudocode String for serialized Gregorian Calendar byte array.\n+     *\/\n+    public static String generatePseudoCodeForGregCalSerBytes(ByteArrayOutputStream baos) {\n+        byte [] bytes = baos.toByteArray();\n+        StringBuilder sb = new StringBuilder(bytes.length * 5);\n+        sb.append(\"private final byte[] gregorianCalendarBytes = {\");\n+        return generatePseudoCode(sb, bytes);\n+    }\n+\n+    \/**\n+     * Generates the Java Pseudo code for serialized Duration byte array.\n+     * @param baos Serialized Duration ByteArrayOutputStream.\n+     * @return pseudocode String for serialized Duration byte array.\n+     *\/\n+    public static String generatePseudoCodeForDurationSerBytes(ByteArrayOutputStream baos) {\n+        byte [] bytesdur = baos.toByteArray();\n+        StringBuilder sb = new StringBuilder(bytesdur.length * 5);\n+        sb.append(\"private final byte[] durationBytes = {\");\n+        return generatePseudoCode(sb, bytesdur);\n+    }\n+\n+    private static String generatePseudoCode(StringBuilder sb, byte [] bytes) {\n+        final int linelen = 8;\n+\/\/        HexFormat hex = HexFormat.of().withPrefix(\" (byte) 0x\").withSuffix(\",\");\n+\/\/        for (int i = 0; i < bytes.length; i += linelen) {\n+\/\/            sb.append(\"\\n\");\n+\/\/            sb.append(hex.formatHex(bytes, i, Math.min(i + linelen, bytes.length)));\n+\/\/        }\n+\/\/        sb.append(\"};\");\n+        Formatter fmt = new Formatter(sb);\n+        for (int i = 0; i <bytes.length; i++) {\n+            if (i % linelen == 0) {\n+                fmt.format(\"%n           \");\n+            }\n+            fmt.format(\" (byte) 0x%x,\", bytes[i] & 0xff);\n+        }\n+        fmt.format(\"%n    };%n\");\n+        return sb.toString();\n+    }\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/GregorianCalAndDurSerDataUtil.java","additions":141,"deletions":0,"binary":false,"changes":141,"status":"added"},{"patch":"@@ -0,0 +1,33 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * Abstract class for serialized bytes of XMLGregorianCalendar and Duration data type for different JDK versions.\n+ *\/\n+public abstract class GregorianCalendarAndDurationSerData {\n+    \/\/Returns byte array of serialized GregorianCalendar.\n+    public abstract byte[] getGregorianCalendarByteArray();\n+\n+    \/\/Returns byte array of serialized Duration.\n+    public abstract byte[] getDurationBytes();\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/GregorianCalendarAndDurationSerData.java","additions":33,"deletions":0,"binary":false,"changes":33,"status":"added"},{"patch":"@@ -0,0 +1,129 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * Mechanically generated JDK 6 specific serialization bytes for XMLGregorianCalendar and Duration data type.\n+ * Do not edit this file.\n+ *\/\n+public class JDK6GregorianCalendarAndDurationSerData extends GregorianCalendarAndDurationSerData {\n+    private final byte[] gregorianCalendarBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x49,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x58, (byte) 0x4d, (byte) 0x4c, (byte) 0x47, (byte) 0x72, (byte) 0x65, (byte) 0x67,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x69, (byte) 0x61, (byte) 0x6e, (byte) 0x43, (byte) 0x61, (byte) 0x6c,\n+            (byte) 0x65, (byte) 0x6e, (byte) 0x64, (byte) 0x61, (byte) 0x72, (byte) 0x49, (byte) 0x6d, (byte) 0x70,\n+            (byte) 0x6c, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x9, (byte) 0x49, (byte) 0x0, (byte) 0x3, (byte) 0x64,\n+            (byte) 0x61, (byte) 0x79, (byte) 0x49, (byte) 0x0, (byte) 0x4, (byte) 0x68, (byte) 0x6f, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x6d, (byte) 0x69, (byte) 0x6e, (byte) 0x75,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x6d, (byte) 0x6f, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73, (byte) 0x65, (byte) 0x63,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x74, (byte) 0x69,\n+            (byte) 0x6d, (byte) 0x65, (byte) 0x7a, (byte) 0x6f, (byte) 0x6e, (byte) 0x65, (byte) 0x49, (byte) 0x0,\n+            (byte) 0x4, (byte) 0x79, (byte) 0x65, (byte) 0x61, (byte) 0x72, (byte) 0x4c, (byte) 0x0, (byte) 0x3,\n+            (byte) 0x65, (byte) 0x6f, (byte) 0x6e, (byte) 0x74, (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a,\n+            (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f, (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68,\n+            (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e, (byte) 0x74, (byte) 0x65,\n+            (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x3b, (byte) 0x4c, (byte) 0x0, (byte) 0x10, (byte) 0x66,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x63, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x53, (byte) 0x65, (byte) 0x63, (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x74,\n+            (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x3b,\n+            (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xfe, (byte) 0xd4, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x70, (byte) 0x73,\n+            (byte) 0x72, (byte) 0x0, (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x54,\n+            (byte) 0xc7, (byte) 0x15, (byte) 0x57, (byte) 0xf9, (byte) 0x81, (byte) 0x28, (byte) 0x4f, (byte) 0x3,\n+            (byte) 0x0, (byte) 0x2, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x65, (byte) 0x4c, (byte) 0x0, (byte) 0x6, (byte) 0x69, (byte) 0x6e, (byte) 0x74,\n+            (byte) 0x56, (byte) 0x61, (byte) 0x6c, (byte) 0x71, (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x1,\n+            (byte) 0x78, (byte) 0x72, (byte) 0x0, (byte) 0x10, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61,\n+            (byte) 0x2e, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2e, (byte) 0x4e, (byte) 0x75,\n+            (byte) 0x6d, (byte) 0x62, (byte) 0x65, (byte) 0x72, (byte) 0x86, (byte) 0xac, (byte) 0x95, (byte) 0x1d,\n+            (byte) 0xb, (byte) 0x94, (byte) 0xe0, (byte) 0x8b, (byte) 0x2, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x7, (byte) 0x73, (byte) 0x72, (byte) 0x0,\n+            (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e, (byte) 0x6d, (byte) 0x61,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x8c, (byte) 0xfc, (byte) 0x9f,\n+            (byte) 0x1f, (byte) 0xa9, (byte) 0x3b, (byte) 0xfb, (byte) 0x1d, (byte) 0x3, (byte) 0x0, (byte) 0x6,\n+            (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x62, (byte) 0x69, (byte) 0x74, (byte) 0x43, (byte) 0x6f,\n+            (byte) 0x75, (byte) 0x6e, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x9, (byte) 0x62, (byte) 0x69,\n+            (byte) 0x74, (byte) 0x4c, (byte) 0x65, (byte) 0x6e, (byte) 0x67, (byte) 0x74, (byte) 0x68, (byte) 0x49,\n+            (byte) 0x0, (byte) 0x13, (byte) 0x66, (byte) 0x69, (byte) 0x72, (byte) 0x73, (byte) 0x74, (byte) 0x4e,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x7a, (byte) 0x65, (byte) 0x72, (byte) 0x6f, (byte) 0x42, (byte) 0x79,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x4e, (byte) 0x75, (byte) 0x6d, (byte) 0x49, (byte) 0x0, (byte) 0xc,\n+            (byte) 0x6c, (byte) 0x6f, (byte) 0x77, (byte) 0x65, (byte) 0x73, (byte) 0x74, (byte) 0x53, (byte) 0x65,\n+            (byte) 0x74, (byte) 0x42, (byte) 0x69, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73,\n+            (byte) 0x69, (byte) 0x67, (byte) 0x6e, (byte) 0x75, (byte) 0x6d, (byte) 0x5b, (byte) 0x0, (byte) 0x9,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x67, (byte) 0x6e, (byte) 0x69, (byte) 0x74, (byte) 0x75, (byte) 0x64,\n+            (byte) 0x65, (byte) 0x74, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0x78, (byte) 0x71,\n+            (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x5, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x75, (byte) 0x72, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0xac, (byte) 0xf3,\n+            (byte) 0x17, (byte) 0xf8, (byte) 0x6, (byte) 0x8, (byte) 0x54, (byte) 0xe0, (byte) 0x2, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x78,\n+    };\n+    private final byte[] durationBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x4c,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x44, (byte) 0x75, (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f,\n+            (byte) 0x6e, (byte) 0x49, (byte) 0x6d, (byte) 0x70, (byte) 0x6c, (byte) 0x24, (byte) 0x44, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x53, (byte) 0x74,\n+            (byte) 0x72, (byte) 0x65, (byte) 0x61, (byte) 0x6d, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x1, (byte) 0x4c,\n+            (byte) 0x0, (byte) 0x7, (byte) 0x6c, (byte) 0x65, (byte) 0x78, (byte) 0x69, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x74, (byte) 0x0, (byte) 0x12, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76,\n+            (byte) 0x61, (byte) 0x2f, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2f, (byte) 0x53,\n+            (byte) 0x74, (byte) 0x72, (byte) 0x69, (byte) 0x6e, (byte) 0x67, (byte) 0x3b, (byte) 0x78, (byte) 0x70,\n+            (byte) 0x74, (byte) 0x0, (byte) 0xe, (byte) 0x50, (byte) 0x31, (byte) 0x59, (byte) 0x31, (byte) 0x4d,\n+            (byte) 0x31, (byte) 0x44, (byte) 0x54, (byte) 0x31, (byte) 0x48, (byte) 0x31, (byte) 0x4d, (byte) 0x31,\n+            (byte) 0x53,\n+    };\n+\n+\n+    @Override\n+    public byte[] getGregorianCalendarByteArray() {\n+        return gregorianCalendarBytes;\n+    }\n+\n+    @Override\n+    public byte[] getDurationBytes() {\n+        return durationBytes;\n+    }\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK6GregorianCalendarAndDurationSerData.java","additions":129,"deletions":0,"binary":false,"changes":129,"status":"added"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK6_Duration.ser","binary":true,"status":"deleted"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK6_XMLGregorianCalendar.ser","binary":true,"status":"deleted"},{"patch":"@@ -0,0 +1,127 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * Mechanically generated JDK 7 specific serialization bytes for XMLGregorianCalendar and Duration data type.\n+ * Do not edit this file.\n+ *\/\n+public class JDK7GregorianCalendarAndDurationSerData extends GregorianCalendarAndDurationSerData {\n+    private final byte[] gregorianCalendarBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x49,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x58, (byte) 0x4d, (byte) 0x4c, (byte) 0x47, (byte) 0x72, (byte) 0x65, (byte) 0x67,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x69, (byte) 0x61, (byte) 0x6e, (byte) 0x43, (byte) 0x61, (byte) 0x6c,\n+            (byte) 0x65, (byte) 0x6e, (byte) 0x64, (byte) 0x61, (byte) 0x72, (byte) 0x49, (byte) 0x6d, (byte) 0x70,\n+            (byte) 0x6c, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x9, (byte) 0x49, (byte) 0x0, (byte) 0x3, (byte) 0x64,\n+            (byte) 0x61, (byte) 0x79, (byte) 0x49, (byte) 0x0, (byte) 0x4, (byte) 0x68, (byte) 0x6f, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x6d, (byte) 0x69, (byte) 0x6e, (byte) 0x75,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x6d, (byte) 0x6f, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73, (byte) 0x65, (byte) 0x63,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x74, (byte) 0x69,\n+            (byte) 0x6d, (byte) 0x65, (byte) 0x7a, (byte) 0x6f, (byte) 0x6e, (byte) 0x65, (byte) 0x49, (byte) 0x0,\n+            (byte) 0x4, (byte) 0x79, (byte) 0x65, (byte) 0x61, (byte) 0x72, (byte) 0x4c, (byte) 0x0, (byte) 0x3,\n+            (byte) 0x65, (byte) 0x6f, (byte) 0x6e, (byte) 0x74, (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a,\n+            (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f, (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68,\n+            (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e, (byte) 0x74, (byte) 0x65,\n+            (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x3b, (byte) 0x4c, (byte) 0x0, (byte) 0x10, (byte) 0x66,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x63, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x53, (byte) 0x65, (byte) 0x63, (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x74,\n+            (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x3b,\n+            (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xfe, (byte) 0xd4, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x70, (byte) 0x73,\n+            (byte) 0x72, (byte) 0x0, (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x54,\n+            (byte) 0xc7, (byte) 0x15, (byte) 0x57, (byte) 0xf9, (byte) 0x81, (byte) 0x28, (byte) 0x4f, (byte) 0x3,\n+            (byte) 0x0, (byte) 0x2, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x65, (byte) 0x4c, (byte) 0x0, (byte) 0x6, (byte) 0x69, (byte) 0x6e, (byte) 0x74,\n+            (byte) 0x56, (byte) 0x61, (byte) 0x6c, (byte) 0x71, (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x1,\n+            (byte) 0x78, (byte) 0x72, (byte) 0x0, (byte) 0x10, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61,\n+            (byte) 0x2e, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2e, (byte) 0x4e, (byte) 0x75,\n+            (byte) 0x6d, (byte) 0x62, (byte) 0x65, (byte) 0x72, (byte) 0x86, (byte) 0xac, (byte) 0x95, (byte) 0x1d,\n+            (byte) 0xb, (byte) 0x94, (byte) 0xe0, (byte) 0x8b, (byte) 0x2, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x7, (byte) 0x73, (byte) 0x72, (byte) 0x0,\n+            (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e, (byte) 0x6d, (byte) 0x61,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x8c, (byte) 0xfc, (byte) 0x9f,\n+            (byte) 0x1f, (byte) 0xa9, (byte) 0x3b, (byte) 0xfb, (byte) 0x1d, (byte) 0x3, (byte) 0x0, (byte) 0x6,\n+            (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x62, (byte) 0x69, (byte) 0x74, (byte) 0x43, (byte) 0x6f,\n+            (byte) 0x75, (byte) 0x6e, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x9, (byte) 0x62, (byte) 0x69,\n+            (byte) 0x74, (byte) 0x4c, (byte) 0x65, (byte) 0x6e, (byte) 0x67, (byte) 0x74, (byte) 0x68, (byte) 0x49,\n+            (byte) 0x0, (byte) 0x13, (byte) 0x66, (byte) 0x69, (byte) 0x72, (byte) 0x73, (byte) 0x74, (byte) 0x4e,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x7a, (byte) 0x65, (byte) 0x72, (byte) 0x6f, (byte) 0x42, (byte) 0x79,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x4e, (byte) 0x75, (byte) 0x6d, (byte) 0x49, (byte) 0x0, (byte) 0xc,\n+            (byte) 0x6c, (byte) 0x6f, (byte) 0x77, (byte) 0x65, (byte) 0x73, (byte) 0x74, (byte) 0x53, (byte) 0x65,\n+            (byte) 0x74, (byte) 0x42, (byte) 0x69, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73,\n+            (byte) 0x69, (byte) 0x67, (byte) 0x6e, (byte) 0x75, (byte) 0x6d, (byte) 0x5b, (byte) 0x0, (byte) 0x9,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x67, (byte) 0x6e, (byte) 0x69, (byte) 0x74, (byte) 0x75, (byte) 0x64,\n+            (byte) 0x65, (byte) 0x74, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0x78, (byte) 0x71,\n+            (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x5, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x75, (byte) 0x72, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0xac, (byte) 0xf3,\n+            (byte) 0x17, (byte) 0xf8, (byte) 0x6, (byte) 0x8, (byte) 0x54, (byte) 0xe0, (byte) 0x2, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x78,\n+    };\n+    private final byte[] durationBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x4c,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x44, (byte) 0x75, (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f,\n+            (byte) 0x6e, (byte) 0x49, (byte) 0x6d, (byte) 0x70, (byte) 0x6c, (byte) 0x24, (byte) 0x44, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x53, (byte) 0x74,\n+            (byte) 0x72, (byte) 0x65, (byte) 0x61, (byte) 0x6d, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x1, (byte) 0x4c,\n+            (byte) 0x0, (byte) 0x7, (byte) 0x6c, (byte) 0x65, (byte) 0x78, (byte) 0x69, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x74, (byte) 0x0, (byte) 0x12, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76,\n+            (byte) 0x61, (byte) 0x2f, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2f, (byte) 0x53,\n+            (byte) 0x74, (byte) 0x72, (byte) 0x69, (byte) 0x6e, (byte) 0x67, (byte) 0x3b, (byte) 0x78, (byte) 0x70,\n+            (byte) 0x74, (byte) 0x0, (byte) 0xe, (byte) 0x50, (byte) 0x31, (byte) 0x59, (byte) 0x31, (byte) 0x4d,\n+            (byte) 0x31, (byte) 0x44, (byte) 0x54, (byte) 0x31, (byte) 0x48, (byte) 0x31, (byte) 0x4d, (byte) 0x31,\n+            (byte) 0x53,\n+    };\n+    @Override\n+    public byte[] getGregorianCalendarByteArray() {\n+        return gregorianCalendarBytes;\n+    }\n+\n+    @Override\n+    public byte[] getDurationBytes() {\n+        return durationBytes;\n+    }\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK7GregorianCalendarAndDurationSerData.java","additions":127,"deletions":0,"binary":false,"changes":127,"status":"added"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK7_Duration.ser","binary":true,"status":"deleted"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK7_XMLGregorianCalendar.ser","binary":true,"status":"deleted"},{"patch":"@@ -0,0 +1,128 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * Mechanically generated JDK 8 specific serialization bytes for XMLGregorianCalendar and Duration data type.\n+ * Do not edit this file.\n+ *\/\n+public class JDK8GregorianCalendarAndDurationSerData extends GregorianCalendarAndDurationSerData {\n+    private final byte[] gregorianCalendarBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x49,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x58, (byte) 0x4d, (byte) 0x4c, (byte) 0x47, (byte) 0x72, (byte) 0x65, (byte) 0x67,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x69, (byte) 0x61, (byte) 0x6e, (byte) 0x43, (byte) 0x61, (byte) 0x6c,\n+            (byte) 0x65, (byte) 0x6e, (byte) 0x64, (byte) 0x61, (byte) 0x72, (byte) 0x49, (byte) 0x6d, (byte) 0x70,\n+            (byte) 0x6c, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x9, (byte) 0x49, (byte) 0x0, (byte) 0x3, (byte) 0x64,\n+            (byte) 0x61, (byte) 0x79, (byte) 0x49, (byte) 0x0, (byte) 0x4, (byte) 0x68, (byte) 0x6f, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x6d, (byte) 0x69, (byte) 0x6e, (byte) 0x75,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x6d, (byte) 0x6f, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73, (byte) 0x65, (byte) 0x63,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x74, (byte) 0x69,\n+            (byte) 0x6d, (byte) 0x65, (byte) 0x7a, (byte) 0x6f, (byte) 0x6e, (byte) 0x65, (byte) 0x49, (byte) 0x0,\n+            (byte) 0x4, (byte) 0x79, (byte) 0x65, (byte) 0x61, (byte) 0x72, (byte) 0x4c, (byte) 0x0, (byte) 0x3,\n+            (byte) 0x65, (byte) 0x6f, (byte) 0x6e, (byte) 0x74, (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a,\n+            (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f, (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68,\n+            (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e, (byte) 0x74, (byte) 0x65,\n+            (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x3b, (byte) 0x4c, (byte) 0x0, (byte) 0x10, (byte) 0x66,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x63, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x53, (byte) 0x65, (byte) 0x63, (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x74,\n+            (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x3b,\n+            (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xfe, (byte) 0xd4, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x70, (byte) 0x73,\n+            (byte) 0x72, (byte) 0x0, (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x54,\n+            (byte) 0xc7, (byte) 0x15, (byte) 0x57, (byte) 0xf9, (byte) 0x81, (byte) 0x28, (byte) 0x4f, (byte) 0x3,\n+            (byte) 0x0, (byte) 0x2, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x65, (byte) 0x4c, (byte) 0x0, (byte) 0x6, (byte) 0x69, (byte) 0x6e, (byte) 0x74,\n+            (byte) 0x56, (byte) 0x61, (byte) 0x6c, (byte) 0x71, (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x1,\n+            (byte) 0x78, (byte) 0x72, (byte) 0x0, (byte) 0x10, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61,\n+            (byte) 0x2e, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2e, (byte) 0x4e, (byte) 0x75,\n+            (byte) 0x6d, (byte) 0x62, (byte) 0x65, (byte) 0x72, (byte) 0x86, (byte) 0xac, (byte) 0x95, (byte) 0x1d,\n+            (byte) 0xb, (byte) 0x94, (byte) 0xe0, (byte) 0x8b, (byte) 0x2, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x7, (byte) 0x73, (byte) 0x72, (byte) 0x0,\n+            (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e, (byte) 0x6d, (byte) 0x61,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x8c, (byte) 0xfc, (byte) 0x9f,\n+            (byte) 0x1f, (byte) 0xa9, (byte) 0x3b, (byte) 0xfb, (byte) 0x1d, (byte) 0x3, (byte) 0x0, (byte) 0x6,\n+            (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x62, (byte) 0x69, (byte) 0x74, (byte) 0x43, (byte) 0x6f,\n+            (byte) 0x75, (byte) 0x6e, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x9, (byte) 0x62, (byte) 0x69,\n+            (byte) 0x74, (byte) 0x4c, (byte) 0x65, (byte) 0x6e, (byte) 0x67, (byte) 0x74, (byte) 0x68, (byte) 0x49,\n+            (byte) 0x0, (byte) 0x13, (byte) 0x66, (byte) 0x69, (byte) 0x72, (byte) 0x73, (byte) 0x74, (byte) 0x4e,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x7a, (byte) 0x65, (byte) 0x72, (byte) 0x6f, (byte) 0x42, (byte) 0x79,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x4e, (byte) 0x75, (byte) 0x6d, (byte) 0x49, (byte) 0x0, (byte) 0xc,\n+            (byte) 0x6c, (byte) 0x6f, (byte) 0x77, (byte) 0x65, (byte) 0x73, (byte) 0x74, (byte) 0x53, (byte) 0x65,\n+            (byte) 0x74, (byte) 0x42, (byte) 0x69, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73,\n+            (byte) 0x69, (byte) 0x67, (byte) 0x6e, (byte) 0x75, (byte) 0x6d, (byte) 0x5b, (byte) 0x0, (byte) 0x9,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x67, (byte) 0x6e, (byte) 0x69, (byte) 0x74, (byte) 0x75, (byte) 0x64,\n+            (byte) 0x65, (byte) 0x74, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0x78, (byte) 0x71,\n+            (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x5, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x75, (byte) 0x72, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0xac, (byte) 0xf3,\n+            (byte) 0x17, (byte) 0xf8, (byte) 0x6, (byte) 0x8, (byte) 0x54, (byte) 0xe0, (byte) 0x2, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x78,\n+    };\n+    private final byte[] durationBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x4c,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x44, (byte) 0x75, (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f,\n+            (byte) 0x6e, (byte) 0x49, (byte) 0x6d, (byte) 0x70, (byte) 0x6c, (byte) 0x24, (byte) 0x44, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x53, (byte) 0x74,\n+            (byte) 0x72, (byte) 0x65, (byte) 0x61, (byte) 0x6d, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x1, (byte) 0x4c,\n+            (byte) 0x0, (byte) 0x7, (byte) 0x6c, (byte) 0x65, (byte) 0x78, (byte) 0x69, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x74, (byte) 0x0, (byte) 0x12, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76,\n+            (byte) 0x61, (byte) 0x2f, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2f, (byte) 0x53,\n+            (byte) 0x74, (byte) 0x72, (byte) 0x69, (byte) 0x6e, (byte) 0x67, (byte) 0x3b, (byte) 0x78, (byte) 0x70,\n+            (byte) 0x74, (byte) 0x0, (byte) 0xe, (byte) 0x50, (byte) 0x31, (byte) 0x59, (byte) 0x31, (byte) 0x4d,\n+            (byte) 0x31, (byte) 0x44, (byte) 0x54, (byte) 0x31, (byte) 0x48, (byte) 0x31, (byte) 0x4d, (byte) 0x31,\n+            (byte) 0x53,\n+    };\n+\n+    @Override\n+    public byte[] getGregorianCalendarByteArray() {\n+        return gregorianCalendarBytes;\n+    }\n+\n+    @Override\n+    public byte[] getDurationBytes() {\n+        return durationBytes;\n+    }\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK8GregorianCalendarAndDurationSerData.java","additions":128,"deletions":0,"binary":false,"changes":128,"status":"added"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK8_Duration.ser","binary":true,"status":"deleted"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK8_XMLGregorianCalendar.ser","binary":true,"status":"deleted"},{"patch":"@@ -0,0 +1,127 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * Mechanically generated JDK 9 specific serialization bytes for XMLGregorianCalendar and Duration data type.\n+ * Do not edit this file.\n+ *\/\n+public class JDK9GregorianCalendarAndDurationSerData extends GregorianCalendarAndDurationSerData {\n+    private final byte[] gregorianCalendarBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x49,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x58, (byte) 0x4d, (byte) 0x4c, (byte) 0x47, (byte) 0x72, (byte) 0x65, (byte) 0x67,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x69, (byte) 0x61, (byte) 0x6e, (byte) 0x43, (byte) 0x61, (byte) 0x6c,\n+            (byte) 0x65, (byte) 0x6e, (byte) 0x64, (byte) 0x61, (byte) 0x72, (byte) 0x49, (byte) 0x6d, (byte) 0x70,\n+            (byte) 0x6c, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x9, (byte) 0x49, (byte) 0x0, (byte) 0x3, (byte) 0x64,\n+            (byte) 0x61, (byte) 0x79, (byte) 0x49, (byte) 0x0, (byte) 0x4, (byte) 0x68, (byte) 0x6f, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x6d, (byte) 0x69, (byte) 0x6e, (byte) 0x75,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x6d, (byte) 0x6f, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73, (byte) 0x65, (byte) 0x63,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x74, (byte) 0x69,\n+            (byte) 0x6d, (byte) 0x65, (byte) 0x7a, (byte) 0x6f, (byte) 0x6e, (byte) 0x65, (byte) 0x49, (byte) 0x0,\n+            (byte) 0x4, (byte) 0x79, (byte) 0x65, (byte) 0x61, (byte) 0x72, (byte) 0x4c, (byte) 0x0, (byte) 0x3,\n+            (byte) 0x65, (byte) 0x6f, (byte) 0x6e, (byte) 0x74, (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a,\n+            (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f, (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68,\n+            (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e, (byte) 0x74, (byte) 0x65,\n+            (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x3b, (byte) 0x4c, (byte) 0x0, (byte) 0x10, (byte) 0x66,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x63, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x53, (byte) 0x65, (byte) 0x63, (byte) 0x6f, (byte) 0x6e, (byte) 0x64, (byte) 0x74,\n+            (byte) 0x0, (byte) 0x16, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2f,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2f, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x3b,\n+            (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x1, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xfe, (byte) 0xd4, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x70, (byte) 0x73,\n+            (byte) 0x72, (byte) 0x0, (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67,\n+            (byte) 0x44, (byte) 0x65, (byte) 0x63, (byte) 0x69, (byte) 0x6d, (byte) 0x61, (byte) 0x6c, (byte) 0x54,\n+            (byte) 0xc7, (byte) 0x15, (byte) 0x57, (byte) 0xf9, (byte) 0x81, (byte) 0x28, (byte) 0x4f, (byte) 0x3,\n+            (byte) 0x0, (byte) 0x2, (byte) 0x49, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x65, (byte) 0x4c, (byte) 0x0, (byte) 0x6, (byte) 0x69, (byte) 0x6e, (byte) 0x74,\n+            (byte) 0x56, (byte) 0x61, (byte) 0x6c, (byte) 0x71, (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x1,\n+            (byte) 0x78, (byte) 0x72, (byte) 0x0, (byte) 0x10, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61,\n+            (byte) 0x2e, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2e, (byte) 0x4e, (byte) 0x75,\n+            (byte) 0x6d, (byte) 0x62, (byte) 0x65, (byte) 0x72, (byte) 0x86, (byte) 0xac, (byte) 0x95, (byte) 0x1d,\n+            (byte) 0xb, (byte) 0x94, (byte) 0xe0, (byte) 0x8b, (byte) 0x2, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x7, (byte) 0x73, (byte) 0x72, (byte) 0x0,\n+            (byte) 0x14, (byte) 0x6a, (byte) 0x61, (byte) 0x76, (byte) 0x61, (byte) 0x2e, (byte) 0x6d, (byte) 0x61,\n+            (byte) 0x74, (byte) 0x68, (byte) 0x2e, (byte) 0x42, (byte) 0x69, (byte) 0x67, (byte) 0x49, (byte) 0x6e,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x67, (byte) 0x65, (byte) 0x72, (byte) 0x8c, (byte) 0xfc, (byte) 0x9f,\n+            (byte) 0x1f, (byte) 0xa9, (byte) 0x3b, (byte) 0xfb, (byte) 0x1d, (byte) 0x3, (byte) 0x0, (byte) 0x6,\n+            (byte) 0x49, (byte) 0x0, (byte) 0x8, (byte) 0x62, (byte) 0x69, (byte) 0x74, (byte) 0x43, (byte) 0x6f,\n+            (byte) 0x75, (byte) 0x6e, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x9, (byte) 0x62, (byte) 0x69,\n+            (byte) 0x74, (byte) 0x4c, (byte) 0x65, (byte) 0x6e, (byte) 0x67, (byte) 0x74, (byte) 0x68, (byte) 0x49,\n+            (byte) 0x0, (byte) 0x13, (byte) 0x66, (byte) 0x69, (byte) 0x72, (byte) 0x73, (byte) 0x74, (byte) 0x4e,\n+            (byte) 0x6f, (byte) 0x6e, (byte) 0x7a, (byte) 0x65, (byte) 0x72, (byte) 0x6f, (byte) 0x42, (byte) 0x79,\n+            (byte) 0x74, (byte) 0x65, (byte) 0x4e, (byte) 0x75, (byte) 0x6d, (byte) 0x49, (byte) 0x0, (byte) 0xc,\n+            (byte) 0x6c, (byte) 0x6f, (byte) 0x77, (byte) 0x65, (byte) 0x73, (byte) 0x74, (byte) 0x53, (byte) 0x65,\n+            (byte) 0x74, (byte) 0x42, (byte) 0x69, (byte) 0x74, (byte) 0x49, (byte) 0x0, (byte) 0x6, (byte) 0x73,\n+            (byte) 0x69, (byte) 0x67, (byte) 0x6e, (byte) 0x75, (byte) 0x6d, (byte) 0x5b, (byte) 0x0, (byte) 0x9,\n+            (byte) 0x6d, (byte) 0x61, (byte) 0x67, (byte) 0x6e, (byte) 0x69, (byte) 0x74, (byte) 0x75, (byte) 0x64,\n+            (byte) 0x65, (byte) 0x74, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0x78, (byte) 0x71,\n+            (byte) 0x0, (byte) 0x7e, (byte) 0x0, (byte) 0x5, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe,\n+            (byte) 0xff, (byte) 0xff, (byte) 0xff, (byte) 0xfe, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x75, (byte) 0x72, (byte) 0x0, (byte) 0x2, (byte) 0x5b, (byte) 0x42, (byte) 0xac, (byte) 0xf3,\n+            (byte) 0x17, (byte) 0xf8, (byte) 0x6, (byte) 0x8, (byte) 0x54, (byte) 0xe0, (byte) 0x2, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x78, (byte) 0x70, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x78,\n+            (byte) 0x78,\n+    };\n+    private final byte[] durationBytes = {\n+            (byte) 0xac, (byte) 0xed, (byte) 0x0, (byte) 0x5, (byte) 0x73, (byte) 0x72, (byte) 0x0, (byte) 0x4c,\n+            (byte) 0x63, (byte) 0x6f, (byte) 0x6d, (byte) 0x2e, (byte) 0x73, (byte) 0x75, (byte) 0x6e, (byte) 0x2e,\n+            (byte) 0x6f, (byte) 0x72, (byte) 0x67, (byte) 0x2e, (byte) 0x61, (byte) 0x70, (byte) 0x61, (byte) 0x63,\n+            (byte) 0x68, (byte) 0x65, (byte) 0x2e, (byte) 0x78, (byte) 0x65, (byte) 0x72, (byte) 0x63, (byte) 0x65,\n+            (byte) 0x73, (byte) 0x2e, (byte) 0x69, (byte) 0x6e, (byte) 0x74, (byte) 0x65, (byte) 0x72, (byte) 0x6e,\n+            (byte) 0x61, (byte) 0x6c, (byte) 0x2e, (byte) 0x6a, (byte) 0x61, (byte) 0x78, (byte) 0x70, (byte) 0x2e,\n+            (byte) 0x64, (byte) 0x61, (byte) 0x74, (byte) 0x61, (byte) 0x74, (byte) 0x79, (byte) 0x70, (byte) 0x65,\n+            (byte) 0x2e, (byte) 0x44, (byte) 0x75, (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f,\n+            (byte) 0x6e, (byte) 0x49, (byte) 0x6d, (byte) 0x70, (byte) 0x6c, (byte) 0x24, (byte) 0x44, (byte) 0x75,\n+            (byte) 0x72, (byte) 0x61, (byte) 0x74, (byte) 0x69, (byte) 0x6f, (byte) 0x6e, (byte) 0x53, (byte) 0x74,\n+            (byte) 0x72, (byte) 0x65, (byte) 0x61, (byte) 0x6d, (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x0,\n+            (byte) 0x0, (byte) 0x0, (byte) 0x0, (byte) 0x1, (byte) 0x2, (byte) 0x0, (byte) 0x1, (byte) 0x4c,\n+            (byte) 0x0, (byte) 0x7, (byte) 0x6c, (byte) 0x65, (byte) 0x78, (byte) 0x69, (byte) 0x63, (byte) 0x61,\n+            (byte) 0x6c, (byte) 0x74, (byte) 0x0, (byte) 0x12, (byte) 0x4c, (byte) 0x6a, (byte) 0x61, (byte) 0x76,\n+            (byte) 0x61, (byte) 0x2f, (byte) 0x6c, (byte) 0x61, (byte) 0x6e, (byte) 0x67, (byte) 0x2f, (byte) 0x53,\n+            (byte) 0x74, (byte) 0x72, (byte) 0x69, (byte) 0x6e, (byte) 0x67, (byte) 0x3b, (byte) 0x78, (byte) 0x70,\n+            (byte) 0x74, (byte) 0x0, (byte) 0xe, (byte) 0x50, (byte) 0x31, (byte) 0x59, (byte) 0x31, (byte) 0x4d,\n+            (byte) 0x31, (byte) 0x44, (byte) 0x54, (byte) 0x31, (byte) 0x48, (byte) 0x31, (byte) 0x4d, (byte) 0x31,\n+            (byte) 0x53,\n+    };\n+    @Override\n+    public byte[] getGregorianCalendarByteArray() {\n+        return gregorianCalendarBytes;\n+    }\n+\n+    @Override\n+    public byte[] getDurationBytes() {\n+        return durationBytes;\n+    }\n+}\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK9GregorianCalendarAndDurationSerData.java","additions":127,"deletions":0,"binary":false,"changes":127,"status":"added"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK9_Duration.ser","binary":true,"status":"deleted"},{"filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/JDK9_XMLGregorianCalendar.ser","binary":true,"status":"deleted"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run main SerializationTest read\n+ * @run junit SerializationTest\n@@ -31,1 +31,7 @@\n-import java.io.*;\n+import java.io.ByteArrayInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+import java.util.stream.Stream;\n+\n@@ -37,0 +43,7 @@\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.TestInstance;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n@@ -38,7 +51,1 @@\n- * use \"read\" to test compatibility\n- * SerializationTest read\n- *\n- * use \"write\" to create test files\n- * SerializationTest write javaVersion\n- * where javaVersion is 6, 7, 8, or 9\n- *\n+ * Verify serialization compatibility for XMLGregorianCalendar and Duration\n@@ -47,0 +54,1 @@\n+@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@@ -49,12 +57,0 @@\n-    final String FILENAME_CAL = \"_XMLGregorianCalendar.ser\";\n-    final String FILENAME_DURATION = \"_Duration.ser\";\n-    String filePath;\n-\n-    {\n-        filePath = System.getProperty(\"test.src\");\n-        if (filePath == null) {\n-            \/\/current directory\n-            filePath = System.getProperty(\"user.dir\");\n-        }\n-        filePath += File.separator;\n-    }\n@@ -63,13 +59,1 @@\n-    static String[] JDK = {\"JDK6\", \"JDK7\", \"JDK8\", \"JDK9\"};\n-\n-    public static void main(String[] args) {\n-        SerializationTest test = new SerializationTest();\n-\n-        if (args[0].equalsIgnoreCase(\"read\")) {\n-            test.testReadCal();\n-            test.testReadDuration();\n-            test.report();\n-        } else {\n-            int ver = Integer.valueOf(args[1]).intValue();\n-            test.createTestFile(JDK[ver - 6]);\n-        }\n+    static String[] JDK = {System.getProperty(\"java.version\"), \"JDK6\", \"JDK7\", \"JDK8\", \"JDK9\"};\n@@ -77,1 +61,4 @@\n-    }\n+    \/\/ If needed to add serialized data of more JDK versions, serialized data source file can be generated using\n+    \/\/ GregorianCalAndDurSerDataUtil class.\n+    private GregorianCalendarAndDurationSerData[] gregorianCalendarAndDurationSerData = {null, new JDK6GregorianCalendarAndDurationSerData(),\n+    new JDK7GregorianCalendarAndDurationSerData(), new JDK8GregorianCalendarAndDurationSerData(), new JDK9GregorianCalendarAndDurationSerData()};\n@@ -79,11 +66,22 @@\n-    public void testReadCal() {\n-        try {\n-            for (String javaVersion : JDK) {\n-                XMLGregorianCalendar d1 = (XMLGregorianCalendar) fromFile(\n-                        javaVersion + FILENAME_CAL);\n-                if (!d1.toString().equalsIgnoreCase(EXPECTED_CAL)) {\n-                    fail(\"Java version: \" + javaVersion\n-                            + \"\\nExpected: \" + EXPECTED_CAL\n-                            + \"\\nActual: \" + d1.toString());\n-                } else {\n-                    success(\"testReadCal: read \" + javaVersion + \" serialized file, passed.\");\n+    \/**\n+     * Create the serialized Bytes array and serialized bytes base64 string for GregorianCalender and Duration\n+     * with jdk under test.\n+     * @throws DatatypeConfigurationException Unexpected.\n+     * @throws IOException Unexpected.\n+     *\/\n+    @BeforeAll\n+    public void setup() throws DatatypeConfigurationException, IOException {\n+        DatatypeFactory dtf = DatatypeFactory.newInstance();\n+        XMLGregorianCalendar xmlGregorianCalendar = dtf.newXMLGregorianCalendar(EXPECTED_CAL);\n+        Duration duration = dtf.newDuration(EXPECTED_DURATION);\n+        try(ByteArrayOutputStream baos = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(baos);\n+            ByteArrayOutputStream baos2 = new ByteArrayOutputStream(); ObjectOutputStream oos2 = new ObjectOutputStream(baos2)) {\n+            \/\/Serialize the given xmlGregorianCalendar\n+            oos.writeObject(xmlGregorianCalendar);\n+            \/\/Serialize the given xml Duration\n+            oos2.writeObject(duration);\n+            \/\/ Create the Data for JDK under test.\n+            gregorianCalendarAndDurationSerData[0] = new GregorianCalendarAndDurationSerData() {\n+                @Override\n+                public byte[] getGregorianCalendarByteArray() {\n+                    return baos.toByteArray();\n@@ -91,7 +89,0 @@\n-            }\n-        } catch (ClassNotFoundException ex) {\n-            fail(\"testReadCal: \" + ex.getMessage());\n-        } catch (IOException ex) {\n-            fail(\"testReadCal: \" + ex.getMessage());\n-        }\n-    }\n@@ -99,11 +90,3 @@\n-    public void testReadDuration() {\n-        try {\n-            for (String javaVersion : JDK) {\n-                Duration d1 = (Duration) fromFile(\n-                        javaVersion + FILENAME_DURATION);\n-                if (!d1.toString().equalsIgnoreCase(EXPECTED_DURATION)) {\n-                    fail(\"Java version: \" + javaVersion\n-                            + \"\\nExpected: \" + EXPECTED_DURATION\n-                            + \"\\nActual: \" + d1.toString());\n-                } else {\n-                    success(\"testReadDuration: read \" + javaVersion + \" serialized file, passed.\");\n+                @Override\n+                public byte[] getDurationBytes() {\n+                    return baos2.toByteArray();\n@@ -111,5 +94,1 @@\n-            }\n-        } catch (ClassNotFoundException ex) {\n-            fail(\"testReadDuration: \" + ex.getMessage());\n-        } catch (IOException ex) {\n-            fail(\"testReadDuration: \" + ex.getMessage());\n+            };\n@@ -120,3 +99,4 @@\n-     * Create test files\n-     *\n-     * @param javaVersion JDK version\n+     * Provide data for JDK version and Gregorian Calendar serialized bytes.\n+     * @return A Stream of arguments where each element is an array of size three. First element contain JDK version,\n+     * second element contain object reference to GregorianCalendarAndDurationSerData specific to JDK version\n+     * and third element contain expected Gregorian Calendar as string.\n@@ -124,10 +104,9 @@\n-    public void createTestFile(String javaVersion) {\n-        try {\n-            DatatypeFactory dtf = DatatypeFactory.newInstance();\n-            XMLGregorianCalendar c = dtf.newXMLGregorianCalendar(EXPECTED_CAL);\n-            Duration d = dtf.newDuration(EXPECTED_DURATION);\n-            toFile((Serializable) c, filePath + javaVersion + FILENAME_CAL);\n-            toFile((Serializable) d, filePath + javaVersion + FILENAME_DURATION);\n-        } catch (Exception e) {\n-            fail(e.getMessage());\n-        }\n+\n+    public Stream<Arguments> gregorianCalendarDataBytes() {\n+        return Stream.of(\n+                Arguments.of(JDK[0], gregorianCalendarAndDurationSerData[0], EXPECTED_CAL),\n+                Arguments.of(JDK[1], gregorianCalendarAndDurationSerData[1], EXPECTED_CAL),\n+                Arguments.of(JDK[2], gregorianCalendarAndDurationSerData[2], EXPECTED_CAL),\n+                Arguments.of(JDK[3], gregorianCalendarAndDurationSerData[3], EXPECTED_CAL),\n+                Arguments.of(JDK[4], gregorianCalendarAndDurationSerData[4], EXPECTED_CAL)\n+        );\n@@ -137,1 +116,4 @@\n-     * Read the object from a file.\n+     * Provide data for JDK version and Duration serialized bytes.\n+     * @return A Stream of arguments where each element is an array of size three. First element contain JDK version,\n+     * second element contain object reference to GregorianCalendarAndDurationSerData specific to JDK version\n+     * and third element contain expected Duration as string.\n@@ -139,7 +121,7 @@\n-    private static Object fromFile(String filePath) throws IOException,\n-            ClassNotFoundException {\n-        InputStream streamIn = SerializationTest.class.getResourceAsStream(\n-            filePath);\n-        ObjectInputStream objectinputstream = new ObjectInputStream(streamIn);\n-        Object o = objectinputstream.readObject();\n-        return o;\n+\n+    public Stream<Arguments> durationData() {\n+        return Stream.of(Arguments.of(JDK[0], gregorianCalendarAndDurationSerData[0], EXPECTED_DURATION),\n+                Arguments.of(JDK[1], gregorianCalendarAndDurationSerData[1], EXPECTED_DURATION),\n+                Arguments.of(JDK[2], gregorianCalendarAndDurationSerData[2], EXPECTED_DURATION),\n+                Arguments.of(JDK[3], gregorianCalendarAndDurationSerData[3], EXPECTED_DURATION),\n+                Arguments.of(JDK[4], gregorianCalendarAndDurationSerData[4], EXPECTED_DURATION));\n@@ -149,1 +131,7 @@\n-     * Write the object to a file.\n+     * Verify that GregorianCalendar serialized with different old JDK versions can be deserialized correctly with\n+     * JDK under test.\n+     * @param javaVersion JDK version used to GregorianCalendar serialization.\n+     * @param gcsd JDK version specific GregorianCalendarAndDurationSerData.\n+     * @param gregorianDate String representation of GregorianCalendar Date.\n+     * @throws IOException Unexpected.\n+     * @throws ClassNotFoundException Unexpected.\n@@ -151,18 +139,0 @@\n-    private static void toFile(Serializable o, String filePath) throws IOException {\n-        FileOutputStream fout = new FileOutputStream(filePath, true);\n-        ObjectOutputStream oos = new ObjectOutputStream(fout);\n-        oos.writeObject(o);\n-        oos.close();\n-    }\n-\n-    static String errMessage;\n-    int passed = 0, failed = 0;\n-\n-    void fail(String errMsg) {\n-        if (errMessage == null) {\n-            errMessage = errMsg;\n-        } else {\n-            errMessage = errMessage + \"\\n\" + errMsg;\n-        }\n-        failed++;\n-    }\n@@ -170,3 +140,8 @@\n-    void success(String msg) {\n-        passed++;\n-        System.out.println(msg);\n+    @ParameterizedTest\n+    @MethodSource(\"gregorianCalendarDataBytes\")\n+    public void testReadCalBytes(String javaVersion, GregorianCalendarAndDurationSerData gcsd, String gregorianDate) throws IOException,\n+            ClassNotFoundException {\n+        final ByteArrayInputStream bais = new ByteArrayInputStream(gcsd.getGregorianCalendarByteArray());\n+        final ObjectInputStream ois = new ObjectInputStream(bais);\n+        final XMLGregorianCalendar xgc = (XMLGregorianCalendar) ois.readObject();\n+        assertEquals(gregorianDate, xgc.toString());\n@@ -175,4 +150,9 @@\n-    public void report() {\n-\n-        System.out.println(\"\\nNumber of tests passed: \" + passed);\n-        System.out.println(\"Number of tests failed: \" + failed + \"\\n\");\n+    \/**\n+     * Verify that Duration serialized with different old JDK versions can be deserialized correctly with\n+     * JDK under test.\n+     * @param javaVersion JDK version used to GregorianCalendar serialization.\n+     * @param gcsd JDK version specific GregorianCalendarAndDurationSerData.\n+     * @param duration String representation of Duration.\n+     * @throws IOException Unexpected.\n+     * @throws ClassNotFoundException Unexpected.\n+     *\/\n@@ -180,3 +160,8 @@\n-        if (errMessage != null) {\n-            throw new RuntimeException(errMessage);\n-        }\n+    @ParameterizedTest\n+    @MethodSource(\"durationData\")\n+    public void testReadDurationBytes(String javaVersion, GregorianCalendarAndDurationSerData gcsd, String duration) throws IOException,\n+            ClassNotFoundException {\n+        final ByteArrayInputStream bais = new ByteArrayInputStream(gcsd.getDurationBytes());\n+        final ObjectInputStream ois = new ObjectInputStream(bais);\n+        final Duration d1 = (Duration) ois.readObject();\n+        assertEquals(duration, d1.toString().toUpperCase());\n","filename":"test\/jdk\/javax\/xml\/jaxp\/datatype\/8033980\/SerializationTest.java","additions":105,"deletions":120,"binary":false,"changes":225,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Byte128VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Byte128VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Byte128VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Byte256VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Byte256VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Byte256VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Byte512VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Byte512VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Byte512VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Byte64VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Byte64VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Byte64VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation ByteMaxVectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation ByteMaxVectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/ByteMaxVectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Double128VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Double128VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Double128VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Double256VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Double256VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Double256VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Double512VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Double512VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Double512VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Double64VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Double64VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Double64VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation DoubleMaxVectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation DoubleMaxVectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/DoubleMaxVectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Float128VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Float128VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Float128VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Float256VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Float256VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Float256VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Float512VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Float512VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Float512VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Float64VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Float64VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Float64VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation FloatMaxVectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation FloatMaxVectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/FloatMaxVectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Int128VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Int128VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Int128VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Int256VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Int256VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Int256VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Int512VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Int512VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Int512VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Int64VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Int64VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Int64VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation IntMaxVectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation IntMaxVectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/IntMaxVectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/incubator\/vector\/LoadJsvmlTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Long128VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Long128VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Long128VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Long256VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Long256VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Long256VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Long512VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Long512VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Long512VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Long64VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Long64VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Long64VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation LongMaxVectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation LongMaxVectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/LongMaxVectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Short128VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Short128VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Short128VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Short256VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Short256VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Short256VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Short512VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Short512VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Short512VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation Short64VectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation Short64VectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/Short64VectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation ShortMaxVectorTests\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation ShortMaxVectorTests\n","filename":"test\/jdk\/jdk\/incubator\/vector\/ShortMaxVectorTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @run testng\/othervm -ea -esa -Xbatch -XX:-TieredCompilation $vectorteststype$\n+ * @run testng\/othervm\/timeout=300 -ea -esa -Xbatch -XX:-TieredCompilation $vectorteststype$\n","filename":"test\/jdk\/jdk\/incubator\/vector\/templates\/Unit-header.template","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,6 @@\n+import jdk.test.lib.RandomFactory;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n@@ -60,1 +66,1 @@\n- * @summary unit tests of FloatingDecimal\n+ * @summary unit tests of FloatingDecimal (use -Dseed=X to set PRANDOM seed)\n@@ -62,0 +68,2 @@\n+ * @library ..\n+ * @library \/test\/lib\n@@ -63,0 +71,1 @@\n+ * @build jdk.test.lib.RandomFactory\n@@ -64,1 +73,1 @@\n- * @run main TestFloatingDecimal\n+ * @run junit TestFloatingDecimal\n@@ -69,4 +78,1 @@\n-    private static enum ResultType {\n-        RESULT_EXCEPTION,\n-        RESULT_PRINT\n-    }\n+    private static final int NUM_RANDOM_TESTS = 100_000;\n@@ -74,16 +80,1 @@\n-    private static final ResultType RESULT_TYPE = ResultType.RESULT_PRINT;\n-    private static final int NUM_RANDOM_TESTS = 100000;\n-\n-    private static final Random RANDOM = new Random();\n-\n-    private static void result(String message) {\n-        switch (RESULT_TYPE) {\n-            case RESULT_EXCEPTION:\n-                throw new RuntimeException(message);\n-            case RESULT_PRINT:\n-                System.err.println(message);\n-                break;\n-            default:\n-                assert false;\n-        }\n-    }\n+    private static final Random RANDOM = RandomFactory.getRandom();\n@@ -95,1 +86,3 @@\n-            result(\"Test \"+test+\" expected \"+expected+\" but obtained \"+actual);\n+            System.err.println(\"Test \" + test +\n+                               \" expected \" + expected +\n+                               \" but obtained \" + actual);\n@@ -100,2 +93,2 @@\n-    private static int testAppendToDouble() {\n-        System.out.println(\"  testAppendToDouble\");\n+    @Test\n+    public void testAppendToDouble() {\n@@ -122,1 +115,1 @@\n-        return failures;\n+        assertEquals(0, failures);\n@@ -125,2 +118,2 @@\n-    private static int testAppendToFloat() {\n-        System.out.println(\"  testAppendToFloat\");\n+    @Test\n+    public void testAppendToFloat() {\n@@ -147,1 +140,1 @@\n-        return failures;\n+        assertEquals(0, failures);\n@@ -150,12 +143,2 @@\n-    private static int testAppendTo() {\n-        System.out.println(\"testAppendTo\");\n-        int failures = 0;\n-\n-        failures += testAppendToDouble();\n-        failures += testAppendToFloat();\n-\n-        return failures;\n-    }\n-\n-    private static int testParseDouble() {\n-        System.out.println(\"  testParseDouble\");\n+    @Test\n+    public void testParseDouble() {\n@@ -180,1 +163,1 @@\n-        return failures;\n+        assertEquals(0, failures);\n@@ -183,2 +166,2 @@\n-    private static int testParseFloat() {\n-        System.out.println(\"  testParseFloat\");\n+    @Test\n+    public void testParseFloat() {\n@@ -203,11 +186,1 @@\n-        return failures;\n-    }\n-\n-    private static int testParse() {\n-        System.out.println(\"testParse\");\n-        int failures = 0;\n-\n-        failures += testParseDouble();\n-        failures += testParseFloat();\n-\n-        return failures;\n+        assertEquals(0, failures);\n@@ -216,2 +189,2 @@\n-    private static int testToJavaFormatStringDoubleFixed() {\n-        System.out.println(\"    testToJavaFormatStringDoubleFixed\");\n+    @Test\n+    public void testToJavaFormatStringDoubleFixed() {\n@@ -231,1 +204,1 @@\n-        return failures;\n+        assertEquals(0, failures);\n@@ -234,2 +207,2 @@\n-    private static int testToJavaFormatStringDoubleRandom() {\n-        System.out.println(\"    testToJavaFormatStringDoubleRandom\");\n+    @Test\n+    public void testToJavaFormatStringDoubleRandom() {\n@@ -250,1 +223,1 @@\n-        return failures;\n+        assertEquals(0, failures);\n@@ -253,10 +226,2 @@\n-    private static int testToJavaFormatStringDouble() {\n-        System.out.println(\"  testToJavaFormatStringDouble\");\n-        int failures = 0;\n-        failures += testToJavaFormatStringDoubleFixed();\n-        failures += testToJavaFormatStringDoubleRandom();\n-        return failures;\n-    }\n-\n-    private static int testToJavaFormatStringFloatFixed() {\n-        System.out.println(\"    testToJavaFormatStringFloatFixed\");\n+    @Test\n+    public void testToJavaFormatStringFloatFixed() {\n@@ -276,1 +241,1 @@\n-        return failures;\n+        assertEquals(0, failures);\n@@ -279,2 +244,2 @@\n-    private static int testToJavaFormatStringFloatRandom() {\n-        System.out.println(\"    testToJavaFormatStringFloatRandom\");\n+    @Test\n+    public void testToJavaFormatStringFloatRandom() {\n@@ -295,33 +260,1 @@\n-        return failures;\n-    }\n-\n-    private static int testToJavaFormatStringFloat() {\n-        System.out.println(\"  testToJavaFormatStringFloat\");\n-        int failures = 0;\n-\n-        failures += testToJavaFormatStringFloatFixed();\n-        failures += testToJavaFormatStringFloatRandom();\n-\n-        return failures;\n-    }\n-\n-    private static int testToJavaFormatString() {\n-        System.out.println(\"testToJavaFormatString\");\n-        int failures = 0;\n-\n-        failures += testToJavaFormatStringDouble();\n-        failures += testToJavaFormatStringFloat();\n-\n-        return failures;\n-    }\n-\n-    public static void main(String[] args) {\n-        int failures = 0;\n-\n-        failures += testAppendTo();\n-        failures += testParse();\n-        failures += testToJavaFormatString();\n-\n-        if (failures != 0) {\n-            throw new RuntimeException(\"\" + failures + \" failures while testing FloatingDecimal\");\n-        }\n+        assertEquals(0, failures);\n","filename":"test\/jdk\/jdk\/internal\/math\/FloatingDecimal\/TestFloatingDecimal.java","additions":41,"deletions":108,"binary":false,"changes":149,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/internal\/misc\/VM\/RuntimeArguments.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -105,1 +105,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(args);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/jdk\/jfr\/api\/consumer\/streaming\/Application.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -130,1 +130,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/jdk\/jfr\/api\/consumer\/streaming\/TestCrossProcessStreaming.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,1 +69,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/jdk\/jfr\/api\/consumer\/streaming\/TestProcess.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-        String[] gcCauses = {\"Allocation Failure\", \"Ergonomics\", \"System.gc()\"};\n+        String[] gcCauses = {\"Allocation Failure\", \"Ergonomics\", \"System.gc()\", \"GCLocker Initiated GC\"};\n","filename":"test\/jdk\/jdk\/jfr\/event\/gc\/collection\/TestGCCauseWithParallelOld.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-        String[] gcCauses = {\"Allocation Failure\", \"System.gc()\"};\n+        String[] gcCauses = {\"Allocation Failure\", \"System.gc()\", \"GCLocker Initiated GC\"};\n","filename":"test\/jdk\/jdk\/jfr\/event\/gc\/collection\/TestGCCauseWithSerial.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(jvm_args);\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(jvm_args);\n","filename":"test\/jdk\/jdk\/jfr\/event\/gc\/configuration\/TestGCYoungGenerationConfigurationEventWithMinAndMaxSize.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(Test.class.getName());\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(Test.class.getName());\n","filename":"test\/jdk\/jdk\/jfr\/event\/os\/TestInitialEnvironmentVariable.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,1 +92,1 @@\n-        Process p = ProcessTools.createTestJvm(\n+        Process p = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/jfr\/event\/runtime\/TestDumpReason.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/jfr\/event\/runtime\/TestShutdownEvent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -134,1 +134,1 @@\n-        Process p = ProcessTools.createTestJvm(options).start();\n+        Process p = ProcessTools.createTestJavaProcessBuilder(options).start();\n","filename":"test\/jdk\/jdk\/jfr\/jvm\/TestDumpOnCrash.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-Xlog:jfr+system+bytecode=trace\", \"-XX:StartFlightRecording\", \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-Xlog:jfr+system+bytecode=trace\", \"-XX:StartFlightRecording\", \"-version\");\n","filename":"test\/jdk\/jdk\/jfr\/jvm\/TestEventWriterLog.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-            pb = ProcessTools.createJavaProcessBuilder(prepend + option, \"-version\");\n+            pb = ProcessTools.createLimitedTestJavaProcessBuilder(prepend + option, \"-version\");\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestBadOptionValues.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -95,1 +95,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(args);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestDumpOnExit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(commandLine, \"-version\");\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(commandLine, \"-version\");\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestJFCWarnings.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -486,6 +486,6 @@\n-                pb = ProcessTools.createTestJvm(\"--add-exports=jdk.jfr\/jdk.jfr.internal=ALL-UNNAMED\",\n-                                                \"--add-exports=java.base\/jdk.internal.misc=ALL-UNNAMED\",\n-                                                flightRecorderOptions,\n-                                                \"-XX:StartFlightRecording\",\n-                                                SUT.class.getName(),\n-                                                tc.getTestName());\n+                pb = ProcessTools.createTestJavaProcessBuilder(\"--add-exports=jdk.jfr\/jdk.jfr.internal=ALL-UNNAMED\",\n+                                                               \"--add-exports=java.base\/jdk.internal.misc=ALL-UNNAMED\",\n+                                                               flightRecorderOptions,\n+                                                               \"-XX:StartFlightRecording\",\n+                                                               SUT.class.getName(),\n+                                                               tc.getTestName());\n@@ -494,5 +494,5 @@\n-                pb = ProcessTools.createTestJvm(\"--add-exports=jdk.jfr\/jdk.jfr.internal=ALL-UNNAMED\",\n-                                                \"--add-exports=java.base\/jdk.internal.misc=ALL-UNNAMED\",\n-                                                \"-XX:StartFlightRecording\",\n-                                                SUT.class.getName(),\n-                                                tc.getTestName());\n+                pb = ProcessTools.createTestJavaProcessBuilder(\"--add-exports=jdk.jfr\/jdk.jfr.internal=ALL-UNNAMED\",\n+                                                               \"--add-exports=java.base\/jdk.internal.misc=ALL-UNNAMED\",\n+                                                               \"-XX:StartFlightRecording\",\n+                                                               SUT.class.getName(),\n+                                                               tc.getTestName());\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestMemoryOptions.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,1 +58,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(recording1, MainClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(recording1, MainClass.class.getName());\n@@ -65,1 +65,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(recording1, recording2, MainClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(recording1, recording2, MainClass.class.getName());\n@@ -73,1 +73,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(recording1, recording2, recording3, MainClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(recording1, recording2, recording3, MainClass.class.getName());\n@@ -97,1 +97,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(flightRecorderOptions, recording1, recording2, MainClass.class.getName());\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(flightRecorderOptions, recording1, recording2, MainClass.class.getName());\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestMultipleStartupRecordings.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestOptionsWithLocale.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(arguments);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(arguments);\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestPreserveRepository.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -107,1 +107,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(args);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestRetransformUsingLog.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,1 +72,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -84,1 +84,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestStartDuration.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestStartName.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(commands);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(commands);\n","filename":"test\/jdk\/jdk\/jfr\/startupargs\/TestStartupMessage.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/jdk\/jdk\/security\/JavaDotSecurity\/MakeJavaSecurityTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -101,0 +101,1 @@\n+        System.out.println(\"Terminating all processes\");\n@@ -141,1 +142,1 @@\n-            System.out.println(\"realeaseStarted(\" + ids + \")\");\n+            System.out.println(\"releaseStarted(\" + ids + \")\");\n@@ -152,1 +153,1 @@\n-                    System.out.println(\"RELEASED (id=\" + jp.getId() + \", args=\" + jp.getMainArgsIdentifier() + \")\");\n+                    System.out.println(\"RELEASED started (id=\" + jp.getId() + \", args=\" + jp.getMainArgsIdentifier() + \")\");\n@@ -157,0 +158,1 @@\n+            System.out.println(\"releaseStarted: not a test pid: \" + id);\n@@ -169,1 +171,1 @@\n-                    System.out.println(\"RELEASED (id=\" + jp.getId() + \", args=\" + jp.getMainArgsIdentifier() + \")\");\n+                    System.out.println(\"RELEASED terminated (id=\" + jp.getId() + \", args=\" + jp.getMainArgsIdentifier() + \")\");\n@@ -176,0 +178,2 @@\n+        private static final int ARGS_ATTEMPTS = 3;\n+\n@@ -177,0 +181,1 @@\n+            VmIdentifier vmid = null;\n@@ -178,5 +183,25 @@\n-                VmIdentifier vmid = new VmIdentifier(\"\/\/\" + id.intValue());\n-                MonitoredVm target = host.getMonitoredVm(vmid);\n-                String monitoredArgs = MonitoredVmUtil.mainArgs(target);\n-                if (monitoredArgs != null && monitoredArgs.contains(args)) {\n-                    return true;\n+                vmid = new VmIdentifier(\"\/\/\" + id.intValue());\n+            } catch (URISyntaxException e) {\n+                System.out.println(\"hasMainArgs(\" + id + \"): \" + e);\n+                return false;\n+            }\n+            \/\/ Retry a failing attempt to check arguments for a match,\n+            \/\/ as not recognizing a test process will cause timeout and failure.\n+            for (int i = 0; i < ARGS_ATTEMPTS; i++) {\n+                try {\n+                    MonitoredVm target = host.getMonitoredVm(vmid);\n+                    String monitoredArgs = MonitoredVmUtil.mainArgs(target);\n+                    System.out.println(\"hasMainArgs(\" + id + \"): has main args: '\" + monitoredArgs + \"'\");\n+                    if (monitoredArgs == null || monitoredArgs.equals(\"Unknown\")) {\n+                        System.out.println(\"hasMainArgs(\" + id + \"): retry\" );\n+                        takeNap();\n+                        continue;\n+                    } else if (monitoredArgs.contains(args)) {\n+                        return true;\n+                    } else {\n+                        return false;\n+                    }\n+                } catch (MonitorException e) {\n+                    \/\/ Process probably not running or not ours, e.g.\n+                    \/\/ sun.jvmstat.monitor.MonitorException: Could not attach to PID\n+                    System.out.println(\"hasMainArgs(\" + id + \"): \" + e);\n@@ -184,2 +209,0 @@\n-            } catch (URISyntaxException | MonitorException e) {\n-                \/\/ ok. process probably not running\n@@ -250,8 +273,0 @@\n-        private static void takeNap() {\n-            try {\n-                Thread.sleep(100);\n-            } catch (InterruptedException e) {\n-                \/\/ ignore\n-            }\n-        }\n-\n@@ -311,2 +326,1 @@\n-            String classPath = System.getProperty(\"test.classes\");\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n@@ -314,1 +328,1 @@\n-                \"-cp\", classPath, className, mainArgsIdentifier);\n+                className, mainArgsIdentifier);\n@@ -326,0 +340,8 @@\n+\n+    public static void takeNap() {\n+        try {\n+            Thread.sleep(1000);\n+        } catch (InterruptedException e) {\n+            \/\/ ignore\n+        }\n+    }\n","filename":"test\/jdk\/sun\/jvmstat\/monitor\/MonitoredVm\/MonitorVmStartTerminate.java","additions":44,"deletions":22,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(options);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(options);\n","filename":"test\/jdk\/sun\/management\/jdp\/DynamicLauncher.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -176,2 +176,1 @@\n-            ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n-                    command.toArray(new String[command.size()]));\n+            ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(command);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/AbstractFilePermissionTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -98,3 +98,1 @@\n-            ProcessBuilder client = ProcessTools.createJavaProcessBuilder(\n-                \"-cp\",\n-                Utils.TEST_CLASS_PATH,\n+            ProcessBuilder client = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/CustomLauncherTest.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -233,1 +233,0 @@\n-        private static final int WAIT_FOR_JMX_AGENT_TIMEOUT_MS = 20_000;\n@@ -238,1 +237,0 @@\n-        private boolean jmxAgentStarted = false;\n@@ -272,1 +270,0 @@\n-            boolean expired = false;\n@@ -274,5 +271,2 @@\n-                expired = !latch.await(WAIT_FOR_JMX_AGENT_TIMEOUT_MS, TimeUnit.MILLISECONDS);\n-                System.out.println(\n-                        \"MainThread: Finished waiting for JMX agent to become available: expired == \"\n-                                + expired);\n-                jmxAgentStarted = !expired;\n+                latch.await();\n+                System.out.println(\"MainThread: Finished waiting for JMX agent to become available.\");\n@@ -282,4 +276,0 @@\n-            if (!jmxAgentStarted) {\n-                throw new RuntimeException(\n-                        \"Test failed. JMX server agents not becoming available.\");\n-            }\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/JMXAgentInterfaceBinding.java","additions":2,"deletions":12,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- * @run main\/timeout=60 JMXInterfaceBindingTest\n+ * @run main JMXInterfaceBindingTest\n@@ -68,1 +68,0 @@\n-    public static final String TEST_CLASSPATH = System.getProperty(\"test.classes\", \".\");\n@@ -201,2 +200,0 @@\n-            args.add(\"-classpath\");\n-            args.add(TEST_CLASSPATH);\n@@ -224,1 +221,1 @@\n-                ProcessBuilder builder = ProcessTools.createJavaProcessBuilder(args.toArray(new String[]{}));\n+                ProcessBuilder builder = ProcessTools.createTestJavaProcessBuilder(args.toArray(new String[]{}));\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/JMXInterfaceBindingTest.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -110,1 +110,1 @@\n-        ProcessBuilder server = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder server = ProcessTools.createTestJavaProcessBuilder(\n@@ -136,1 +136,1 @@\n-            ProcessBuilder client = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder client = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/LocalManagementTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -191,1 +191,1 @@\n-            ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(command.toArray(new String[command.size()]));\n+            ProcessBuilder processBuilder = ProcessTools.createTestJavaProcessBuilder(command);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/RmiRegistrySslTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -394,2 +394,2 @@\n-                \"-cp\",\n-                System.getProperty(\"test.class.path\"),\n+                \"-Duser.language=en\",\n+                \"-Duser.country=US\",\n@@ -401,3 +401,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n-                pbArgs.toArray(new String[pbArgs.size()])\n-        );\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(pbArgs);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/startstop\/JMXStartStopTest.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-        testAppPb = ProcessTools.createJavaProcessBuilder(\n+        testAppPb = ProcessTools.createTestJavaProcessBuilder(\n@@ -64,1 +64,0 @@\n-            \"-cp\", System.getProperty(\"test.class.path\"),\n","filename":"test\/jdk\/sun\/management\/jmxremote\/startstop\/JMXStatusPerfCountersTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -87,2 +87,0 @@\n-        args.add(\"-cp\");\n-        args.add(System.getProperty(\"test.class.path\"));\n@@ -92,1 +90,1 @@\n-        testAppPb = ProcessTools.createJavaProcessBuilder(args.toArray(new String[args.size()]));\n+        testAppPb = ProcessTools.createTestJavaProcessBuilder(args);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/startstop\/JMXStatusTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-        final ProcessBuilder pb = ProcessTools.createTestJvm(commandArgs);\n+        final ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(commandArgs);\n","filename":"test\/jdk\/sun\/net\/spi\/SystemProxyDriver.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n- * @bug 8186801 8186751\n+ * @bug 8186801 8186751 8310631\n@@ -572,1 +572,1 @@\n-                             \"\/..\/..\/..\/..\/src\/java.base\/share\/data\/charsetmapping\");\n+            \"\/..\/..\/..\/..\/..\/make\/data\/charsetmapping\").normalize();\n@@ -574,3 +574,1 @@\n-            \/\/ not inside jdk repo, no mappings, exit silently\n-            log.println(\"Nothing done, not in a jdk repo: \");\n-            return;\n+            throw new Exception(\"charsetmapping files cannot be located in \" + dir);\n@@ -611,1 +609,2 @@\n-            if (!cs.aliases().equals(csinfo.aliases)) {\n+            if (!cs.aliases().equals(csinfo.aliases)\n+                && !csname.equals(\"GB18030\")) {  \/\/ no alias in \"charsets\" file\n@@ -628,0 +627,13 @@\n+                \/\/ Ignore these cs, as mapping files are not provided\n+                if (csinfo.csName.equals(\"x-IBM942C\") ||\n+                        csinfo.csName.equals(\"x-IBM943C\") ||\n+                        csinfo.csName.equals(\"x-IBM834\") ||\n+                        csinfo.csName.equals(\"x-IBM949C\") ||\n+                        csinfo.csName.equals(\"x-IBM964\") ||\n+                        csinfo.csName.equals(\"x-IBM29626C\"))\n+                {\n+                    log.println(\"    [**** skipped, mapping file is not provided]\");\n+                    known++;\n+                    continue;\n+                }\n+\n","filename":"test\/jdk\/sun\/nio\/cs\/TestCharsetMapping.java","additions":18,"deletions":6,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,1 +56,1 @@\n-            List<String> cmd = ProcessTools.createJavaProcessBuilder().command();\n+            List<String> cmd = ProcessTools.createLimitedTestJavaProcessBuilder().command();\n","filename":"test\/jdk\/sun\/security\/krb5\/auto\/ModuleName.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -392,0 +392,4 @@\n+                    \/\/ if the exception is thrown before connecting to the\n+                    \/\/ server, the test will time out and the exception will\n+                    \/\/ be lost\/hidden.\n+                    e.printStackTrace(System.err);\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyStore\/ClientAuth.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"filename":"test\/jdk\/sun\/security\/pkcs11\/KeyStore\/ClientAuthData\/cert9.db","binary":true,"status":"added"},{"filename":"test\/jdk\/sun\/security\/pkcs11\/KeyStore\/ClientAuthData\/key4.db","binary":true,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,2 @@\n+import jtreg.SkippedException;\n+\n@@ -60,0 +62,3 @@\n+\n+        boolean skipTest = true;\n+\n@@ -61,1 +66,1 @@\n-            System.out.println(\"Testing \" + alg);\n+            System.out.println(\"Digest algo: \" + alg);\n@@ -63,1 +68,11 @@\n-            md = testCloning(md, p);\n+            try {\n+                md = testCloning(md, p);;\n+            } catch (CloneNotSupportedException cnse) {\n+                \/\/ skip test if clone isn't supported\n+                System.out.println(\"=> Clone not supported; skip!\");\n+                continue;\n+            }\n+\n+            \/\/ start testing below\n+            skipTest = false;\n+\n@@ -69,0 +84,3 @@\n+        if (skipTest) {\n+            throw new SkippedException(\"Test Skipped!\");\n+        }\n@@ -128,1 +146,0 @@\n-\n","filename":"test\/jdk\/sun\/security\/pkcs11\/MessageDigest\/TestCloning.java","additions":21,"deletions":4,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -49,1 +49,0 @@\n-import java.util.HashMap;\n@@ -58,0 +57,3 @@\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n@@ -62,0 +64,1 @@\n+import jdk.test.lib.Platform;\n@@ -82,0 +85,5 @@\n+    \/\/ Version of the NSS artifact. This coincides with the version of\n+    \/\/ the NSS version\n+    private static final String NSS_BUNDLE_VERSION = \"3.91\";\n+    private static final String NSSLIB = \"jpg.tests.jdk.nsslib\";\n+\n@@ -256,3 +264,3 @@\n-        String[] nssLibDirs = getNssLibPaths(osid);\n-        if (nssLibDirs == null) {\n-            System.out.println(\"Warning: unsupported OS: \" + osid\n+        String nssLibDir = fetchNssLib(osid);\n+        if (nssLibDir == null) {\n+            throw new SkippedException(\"Warning: unsupported OS: \" + osid\n@@ -260,5 +268,0 @@\n-            return null;\n-        }\n-        if (nssLibDirs.length == 0) {\n-            System.out.println(\"Warning: NSS not supported on this platform, skipping test\");\n-            return null;\n@@ -267,11 +270,4 @@\n-        Path nssLibPath = null;\n-        for (String dir : nssLibDirs) {\n-            Path libPath = Paths.get(dir).resolve(System.mapLibraryName(library));\n-            if (Files.exists(libPath)) {\n-                nssLibPath = libPath;\n-                break;\n-            }\n-        }\n-        if (nssLibPath == null) {\n-            System.out.println(\"Warning: can't find NSS library on this machine, skipping test\");\n-            return null;\n+        String libraryName = System.mapLibraryName(library);\n+        Path libPath = Paths.get(nssLibDir).resolve(libraryName);\n+        if (!Files.exists(libPath)) {\n+            throw new SkippedException(\"NSS library \\\"\" + libraryName + \"\\\" was not found in \" + nssLibDir);\n@@ -279,1 +275,2 @@\n-        return nssLibPath;\n+\n+        return libPath;\n@@ -603,69 +600,0 @@\n-    \/\/ Location of the NSS libraries on each supported platform\n-    private static Map<String, String[]> getOsMap() {\n-        if (osMap != null) {\n-            return osMap;\n-        }\n-\n-        osMap = new HashMap<>();\n-        osMap.put(\"Linux-i386-32\", new String[]{\n-                \"\/usr\/lib\/i386-linux-gnu\/\",\n-                \"\/usr\/lib32\/\",\n-                \"\/usr\/lib\/\"});\n-        osMap.put(\"Linux-amd64-64\", new String[]{\n-                \"\/usr\/lib\/x86_64-linux-gnu\/\",\n-                \"\/usr\/lib\/x86_64-linux-gnu\/nss\/\",\n-                \"\/usr\/lib64\/\"});\n-        osMap.put(\"Linux-ppc64-64\", new String[]{\"\/usr\/lib64\/\"});\n-        osMap.put(\"Linux-ppc64le-64\", new String[]{\n-                 \"\/usr\/lib\/powerpc64le-linux-gnu\/\",\n-                 \"\/usr\/lib\/powerpc64le-linux-gnu\/nss\/\",\n-                 \"\/usr\/lib64\/\"});\n-        osMap.put(\"Linux-s390x-64\", new String[]{\"\/usr\/lib64\/\"});\n-        osMap.put(\"Windows-x86-32\", new String[]{});\n-        osMap.put(\"Windows-amd64-64\", new String[]{});\n-        osMap.put(\"MacOSX-x86_64-64\", new String[]{});\n-        osMap.put(\"Linux-arm-32\", new String[]{\n-                \"\/usr\/lib\/arm-linux-gnueabi\/nss\/\",\n-                \"\/usr\/lib\/arm-linux-gnueabihf\/nss\/\"});\n-        \/\/ Exclude linux-aarch64 at the moment until the following bug is fixed:\n-        \/\/ 8296631: NSS tests failing on OL9 linux-aarch64 hosts\n-\/\/        osMap.put(\"Linux-aarch64-64\", new String[] {\n-\/\/                \"\/usr\/lib\/aarch64-linux-gnu\/\",\n-\/\/                \"\/usr\/lib\/aarch64-linux-gnu\/nss\/\",\n-\/\/                \"\/usr\/lib64\/\" });\n-        return osMap;\n-    }\n-\n-    private static String[] getNssLibPaths(String osId) {\n-        String[] preferablePaths = getPreferableNssLibPaths(osId);\n-        if (preferablePaths.length != 0) {\n-            return preferablePaths;\n-        } else {\n-            return getOsMap().get(osId);\n-        }\n-    }\n-\n-    private static String[] getPreferableNssLibPaths(String osId) {\n-        List<String> nssLibPaths = new ArrayList<>();\n-\n-        String customNssLibPaths = System.getProperty(\"test.nss.lib.paths\");\n-        if (customNssLibPaths == null) {\n-            \/\/ If custom local NSS lib path is not provided,\n-            \/\/ try to download NSS libs from artifactory\n-            String path = fetchNssLib(osId);\n-            if (path != null) {\n-                nssLibPaths.add(path);\n-            }\n-        } else {\n-            String[] paths = customNssLibPaths.split(\",\");\n-            for (String path : paths) {\n-                if (!path.endsWith(File.separator)) {\n-                    nssLibPaths.add(path + File.separator);\n-                } else {\n-                    nssLibPaths.add(path);\n-                }\n-            }\n-        }\n-\n-        return nssLibPaths.toArray(new String[0]);\n-    }\n@@ -812,3 +740,0 @@\n-            case \"Windows-x86-32\":\n-                return fetchNssLib(WINDOWS_X86.class);\n-\n@@ -821,0 +746,3 @@\n+            case \"MacOSX-aarch64-64\":\n+                return fetchNssLib(MACOSX_AARCH64.class);\n+\n@@ -822,1 +750,5 @@\n-                return fetchNssLib(LINUX_X64.class);\n+                if (Platform.isOracleLinux7()) {\n+                    throw new SkippedException(\"Skipping Oracle Linux prior to v8\");\n+                } else {\n+                    return fetchNssLib(LINUX_X64.class);\n+                }\n@@ -824,0 +756,6 @@\n+            case \"Linux-aarch64-64\":\n+                if (Platform.isOracleLinux7()) {\n+                    throw new SkippedException(\"Skipping Oracle Linux prior to v8\");\n+                } else {\n+                    return fetchNssLib(LINUX_AARCH64.class);\n+                }\n@@ -833,2 +771,2 @@\n-                    .findAny().get().getValue() + File.separator + \"nsslib\"\n-                    + File.separator;\n+                    .findAny().get().getValue() + File.separator + \"nss\"\n+                    + File.separator + \"lib\" + File.separator;\n@@ -913,2 +851,4 @@\n-        String keyDbFile = \"key3.db\";\n-        String certDbFile = \"cert8.db\";\n+        String keyDbFile3 = \"key3.db\";\n+        String keyDbFile4 = \"key4.db\";\n+        String certDbFile8 = \"cert8.db\";\n+        String certDbFile9 = \"cert9.db\";\n@@ -916,2 +856,2 @@\n-        Files.copy(dbPath.resolve(certDbFile),\n-                destinationPath.resolve(certDbFile),\n+        Files.copy(dbPath.resolve(certDbFile8),\n+                destinationPath.resolve(certDbFile8),\n@@ -919,2 +859,8 @@\n-        Files.copy(dbPath.resolve(keyDbFile),\n-                destinationPath.resolve(keyDbFile),\n+        Files.copy(dbPath.resolve(certDbFile9),\n+                destinationPath.resolve(certDbFile9),\n+                StandardCopyOption.REPLACE_EXISTING);\n+        Files.copy(dbPath.resolve(keyDbFile3),\n+                destinationPath.resolve(keyDbFile3),\n+                StandardCopyOption.REPLACE_EXISTING);\n+        Files.copy(dbPath.resolve(keyDbFile4),\n+                destinationPath.resolve(keyDbFile4),\n@@ -928,1 +874,1 @@\n-            organization = \"jpg.tests.jdk.nsslib\",\n+            organization = NSSLIB,\n@@ -930,1 +876,1 @@\n-            revision = \"3.46-VS2017\",\n+            revision = NSS_BUNDLE_VERSION,\n@@ -936,3 +882,3 @@\n-            organization = \"jpg.tests.jdk.nsslib\",\n-            name = \"nsslib-windows_x86\",\n-            revision = \"3.46-VS2017\",\n+            organization = NSSLIB,\n+            name = \"nsslib-macosx_x64\",\n+            revision = NSS_BUNDLE_VERSION,\n@@ -940,1 +886,1 @@\n-    private static class WINDOWS_X86 {\n+    private static class MACOSX_X64 {\n@@ -944,3 +890,3 @@\n-            organization = \"jpg.tests.jdk.nsslib\",\n-            name = \"nsslib-macosx_x64\",\n-            revision = \"3.46\",\n+            organization = NSSLIB,\n+            name = \"nsslib-macosx_aarch64\",\n+            revision = NSS_BUNDLE_VERSION,\n@@ -948,1 +894,1 @@\n-    private static class MACOSX_X64 {\n+    private static class MACOSX_AARCH64 {\n@@ -952,1 +898,1 @@\n-            organization = \"jpg.tests.jdk.nsslib\",\n+            organization = NSSLIB,\n@@ -954,1 +900,1 @@\n-            revision = \"3.46\",\n+            revision = NSS_BUNDLE_VERSION,\n@@ -958,0 +904,9 @@\n+\n+    @Artifact(\n+            organization = NSSLIB,\n+            name = \"nsslib-linux_aarch64\",\n+            revision = NSS_BUNDLE_VERSION,\n+            extension = \"zip\"\n+    )\n+    private static class LINUX_AARCH64{\n+    }\n","filename":"test\/jdk\/sun\/security\/pkcs11\/PKCS11Test.java","additions":69,"deletions":114,"binary":false,"changes":183,"status":"modified"},{"patch":"@@ -0,0 +1,84 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+import java.security.KeyPair;\n+import java.security.KeyPairGenerator;\n+import java.security.MessageDigest;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.Provider;\n+import java.security.Signature;\n+\n+public class PSSUtil {\n+\n+    \/**\n+     * ALGORITHM name, fixed as RSA for PKCS11\n+     *\/\n+    private static final String KEYALG = \"RSA\";\n+    private static final String SIGALG = \"RSASSA-PSS\";\n+\n+    public static enum AlgoSupport {\n+        NO, MAYBE, YES\n+    };\n+\n+    public static boolean isSignatureSupported(Provider p) {\n+        try {\n+            Signature.getInstance(SIGALG, p);\n+            return true;\n+        } catch (NoSuchAlgorithmException e) {\n+            System.out.println(\"Skip testing \" + SIGALG +\n+                \" due to no support\");\n+            return false;\n+        }\n+    }\n+\n+    public static AlgoSupport isHashSupported(Provider p, String... hashAlgs) {\n+\n+        AlgoSupport status = AlgoSupport.YES;\n+        for (String h : hashAlgs) {\n+            String sigAlg = (h.startsWith(\"SHA3-\") ?\n+                    h : h.replace(\"-\", \"\")) + \"with\" + SIGALG;\n+            try {\n+                Signature.getInstance(sigAlg, p);\n+                \/\/ Yes, proceed to check next hash algorithm\n+                continue;\n+            } catch (NoSuchAlgorithmException e) {\n+                \/\/ continue trying other checks\n+            }\n+            try {\n+                MessageDigest.getInstance(h, p);\n+                status = AlgoSupport.MAYBE;\n+            } catch (NoSuchAlgorithmException e) {\n+                \/\/ if not supported as a standalone digest algo, chance of it\n+                \/\/ being supported by PSS is very very low\n+                return AlgoSupport.NO;\n+            }\n+        }\n+        return status;\n+    }\n+\n+    public static KeyPair generateKeys(Provider p, int size)\n+            throws NoSuchAlgorithmException {\n+        KeyPairGenerator kpg = KeyPairGenerator.getInstance(KEYALG, p);\n+        kpg.initialize(size);\n+        return kpg.generateKeyPair();\n+    }\n+}\n","filename":"test\/jdk\/sun\/security\/pkcs11\/PSSUtil.java","additions":84,"deletions":0,"binary":false,"changes":84,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,1 @@\n+\n@@ -35,1 +36,0 @@\n-import java.util.Iterator;\n@@ -37,2 +37,0 @@\n-import java.util.ServiceConfigurationError;\n-import java.util.ServiceLoader;\n@@ -41,0 +39,1 @@\n+import jtreg.SkippedException;\n@@ -49,1 +48,7 @@\n-        String nssConfig = PKCS11Test.getNssConfig();\n+        String nssConfig = null;\n+        try {\n+            nssConfig = PKCS11Test.getNssConfig();\n+        } catch (SkippedException exc) {\n+            System.out.println(\"Skipping test: \" + exc.getMessage());\n+        }\n+\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Provider\/MultipleLogins.java","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#        jdk.test.lib.Platform\n@@ -101,0 +102,6 @@\n+${CP} ${TESTSRC}${FS}..${FS}nss${FS}db${FS}cert9.db ${TESTCLASSES}\n+${CHMOD} +w ${TESTCLASSES}${FS}cert9.db\n+\n+${CP} ${TESTSRC}${FS}..${FS}nss${FS}db${FS}key4.db ${TESTCLASSES}\n+${CHMOD} +w ${TESTCLASSES}${FS}key4.db\n+\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Provider\/MultipleLogins.sh","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -7,3 +7,5 @@\n-1. Specified by system property test.nss.lib.paths\n-System property test.nss.lib.paths can specify a set of absolute paths to\n-the local NSS library directories. The paths are separated by comma.\n+1. Specified by system property jdk.test.lib.artifacts.<NAME>\n+The system property, jdk.test.lib.artifacts.<NAME>, can specify an absolute path\n+to the local NSS library directory. The <NAME> component should be replaced with\n+the name element of the appropriate @Artifact class.\n+(See `test\/jdk\/sun\/security\/pkcs11\/PKCS11Test.java`)\n@@ -12,3 +14,2 @@\n-If the value of system property test.nss.lib.paths is not set, the tests will try\n-to download pre-built NSS libraries from artifactory server. Currently, the\n-tests only looks for libraries for Windows and MacOSX platforms on artifactory.\n+If the value of system property jdk.test.lib.artifacts.<NAME> is not set, the\n+tests will try to download pre-built NSS libraries from artifactory server.\n","filename":"test\/jdk\/sun\/security\/pkcs11\/README","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"filename":"test\/jdk\/sun\/security\/pkcs11\/Secmod\/cert9.db","binary":true,"status":"modified"},{"filename":"test\/jdk\/sun\/security\/pkcs11\/Secmod\/key4.db","binary":true,"status":"modified"},{"patch":"@@ -3,2 +3,7 @@\n-parameters=configdir='sql:.\/tmpdb' certPrefix='' keyPrefix='' secmod='' flags= updatedir='' updateCertPrefix='' updateKeyPrefix='' updateid='' updateTokenDescription='' \n-NSS=Flags=internal,critical trustOrder=75 cipherOrder=100 slotParams=(1={slotFlags=[RSA,DSA,DH,RC2,RC4,DES,RANDOM,SHA1,MD5,MD2,SSL,TLS,AES,Camellia,SEED,SHA256,SHA512] askpw=any timeout=30})\n+parameters=configdir='sql:.\/tmpdb' certPrefix='' keyPrefix='' secmod='secmod.db' flags= updatedir='' updateCertPrefix='' updateKeyPrefix='' updateid='' updateTokenDescription='' \n+NSS=trustOrder=75 cipherOrder=100 slotParams={0x00000001=[slotFlags=RSA,RC4,RC2,DES,DH,SHA1,MD5,MD2,SSL,TLS,AES,RANDOM askpw=any timeout=30 ] }  Flags=internal,critical\n+\n+library=libnssckbi.so\n+name=Builtin Roots Module\n+NSS=trustOrder=100    \n+\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Secmod\/pkcs11.txt","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-    static boolean useSqlite = false;\n+    static boolean useSqlite = true;\n","filename":"test\/jdk\/sun\/security\/pkcs11\/SecmodTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,2 @@\n+import jtreg.SkippedException;\n+\n@@ -38,4 +40,0 @@\n-    \/**\n-     * ALGORITHM name, fixed as RSA for PKCS11\n-     *\/\n-    private static final String KEYALG = \"RSA\";\n@@ -48,0 +46,2 @@\n+    private static boolean skipTest = true;\n+\n@@ -50,7 +50,3 @@\n-        Signature sig;\n-        try {\n-            sig = Signature.getInstance(SIGALG, p);\n-        } catch (NoSuchAlgorithmException e) {\n-            System.out.println(\"Skip testing RSASSA-PSS\" +\n-                \" due to no support\");\n-            return;\n+        if (!PSSUtil.isSignatureSupported(p)) {\n+            throw new SkippedException(\"Skip due to no support for \" +\n+                    SIGALG);\n@@ -79,0 +75,4 @@\n+\n+        if (skipTest) {\n+            throw new SkippedException(\"Test Skipped\");\n+        }\n@@ -81,1 +81,1 @@\n-    private void runTest(Provider p, int keySize, String hashAlg,\n+    private static void runTest(Provider p, int keySize, String hashAlg,\n@@ -84,7 +84,4 @@\n-        \/\/ skip further test if this provider does not support hashAlg or\n-        \/\/ mgfHashAlg\n-        try {\n-            MessageDigest.getInstance(hashAlg, p);\n-            MessageDigest.getInstance(mgfHashAlg, p);\n-        } catch (NoSuchAlgorithmException nsae) {\n-            System.out.println(\"No support for \" + hashAlg + \", skip\");\n+        System.out.println(\"Testing \" + hashAlg + \" and MGF1\" + mgfHashAlg);\n+        PSSUtil.AlgoSupport s = PSSUtil.isHashSupported(p, hashAlg, mgfHashAlg);\n+        if (s == PSSUtil.AlgoSupport.NO) {\n+            System.out.println(\"=> Skip; no support\");\n@@ -94,1 +91,1 @@\n-        System.out.println(\"Testing [\" + keySize + \" \" + hashAlg + \"]\");\n+        Signature sig = Signature.getInstance(SIGALG, p);\n@@ -97,3 +94,1 @@\n-        KeyPairGenerator kpg = KeyPairGenerator.getInstance(KEYALG, p);\n-        kpg.initialize(keySize);\n-        KeyPair kp = kpg.generateKeyPair();\n+        KeyPair kp = PSSUtil.generateKeys(p, keySize);\n@@ -111,2 +106,17 @@\n-        Signature sig = Signature.getInstance(\"RSASSA-PSS\", p);\n-        sig.setParameter(paramsBad);\n+        sig = Signature.getInstance(SIGALG, p);\n+        try {\n+            sig.setParameter(paramsGood);\n+            sig.initSign(priv);\n+            \/\/ algorithm support confirmed\n+            skipTest = false;\n+        } catch (Exception ex) {\n+            if (s == PSSUtil.AlgoSupport.MAYBE) {\n+                \/\/ confirmed to be unsupported; skip the rest of the test\n+                System.out.println(\"=> Skip; no PSS support\");\n+                return;\n+            } else {\n+                throw new RuntimeException(\"Unexpected Exception\", ex);\n+            }\n+        }\n+\n+        sig = Signature.getInstance(SIGALG, p);\n@@ -114,0 +124,1 @@\n+            sig.setParameter(paramsBad);\n@@ -117,1 +128,1 @@\n-            System.out.println(\"test#1: got expected IKE\");\n+            \/\/ expected\n@@ -120,0 +131,2 @@\n+        \/\/ test#2 - setParameter then initVerify\n+        sig = Signature.getInstance(SIGALG, p);\n@@ -121,2 +134,1 @@\n-        sig.initSign(priv);\n-        System.out.println(\"test#1: pass\");\n+        sig.initVerify(pub);\n@@ -124,3 +136,1 @@\n-        \/\/ test#2 - setParameter then initVerify\n-        sig = Signature.getInstance(\"RSASSA-PSS\", p);\n-        sig.setParameter(paramsBad);\n+        sig = Signature.getInstance(SIGALG, p);\n@@ -128,0 +138,1 @@\n+            sig.setParameter(paramsBad);\n@@ -131,1 +142,1 @@\n-            System.out.println(\"test#2: got expected IKE\");\n+            \/\/ expected\n@@ -134,5 +145,0 @@\n-        sig.setParameter(paramsGood);\n-        sig.initVerify(pub);\n-\n-        System.out.println(\"test#2: pass\");\n-\n@@ -140,1 +146,1 @@\n-        sig = Signature.getInstance(\"RSASSA-PSS\", p);\n+        sig = Signature.getInstance(SIGALG, p);\n@@ -142,0 +148,3 @@\n+        sig.setParameter(paramsGood);\n+\n+        sig = Signature.getInstance(SIGALG, p);\n@@ -143,0 +152,1 @@\n+            sig.initSign(priv);\n@@ -146,1 +156,1 @@\n-            System.out.println(\"test#3: got expected IAPE\");\n+            \/\/ expected\n@@ -149,3 +159,0 @@\n-        sig.setParameter(paramsGood);\n-        System.out.println(\"test#3: pass\");\n-\n@@ -153,1 +160,2 @@\n-        sig = Signature.getInstance(\"RSASSA-PSS\", p);\n+        sig = Signature.getInstance(SIGALG, p);\n+        sig.setParameter(paramsGood);\n@@ -155,0 +163,2 @@\n+\n+        sig = Signature.getInstance(SIGALG, p);\n@@ -156,0 +166,1 @@\n+            sig.initVerify(pub);\n@@ -159,1 +170,1 @@\n-            System.out.println(\"test#4: got expected IAPE\");\n+            \/\/ expected\n@@ -161,3 +172,0 @@\n-\n-        sig.setParameter(paramsGood);\n-        System.out.println(\"test#4: pass\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Signature\/KeyAndParamCheckForPSS.java","additions":56,"deletions":48,"binary":false,"changes":104,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+import jtreg.SkippedException;\n@@ -38,2 +39,0 @@\n-    \/\/ PKCS11 does not support RSASSA-PSS keys yet\n-    private static final String KEYALG = \"RSA\";\n@@ -47,1 +46,1 @@\n-    private Provider prov;\n+    private static final byte[] DATA = generateData(100);\n@@ -59,0 +58,2 @@\n+    private static boolean skipTest = true;\n+\n@@ -65,7 +66,2 @@\n-        Signature sig;\n-        try {\n-            sig = Signature.getInstance(SIGALG, p);\n-        } catch (NoSuchAlgorithmException e) {\n-            System.out.println(\"Skip testing RSASSA-PSS\" +\n-                \" due to no support\");\n-            return;\n+        if (!PSSUtil.isSignatureSupported(p)) {\n+            throw new SkippedException(\"Skip due to no support for \" + SIGALG);\n@@ -73,5 +69,0 @@\n-        this.prov = p;\n-        for (int i : KEYSIZES) {\n-            runTest(i);\n-        }\n-    }\n@@ -79,24 +70,16 @@\n-    private void runTest(int keySize) throws Exception {\n-        byte[] data = new byte[100];\n-        IntStream.range(0, data.length).forEach(j -> {\n-            data[j] = (byte) j;\n-        });\n-        System.out.println(\"[KEYSIZE = \" + keySize + \"]\");\n-\n-        \/\/ create a key pair\n-        KeyPair kpair = generateKeys(KEYALG, keySize);\n-        test(DIGESTS, kpair.getPrivate(), kpair.getPublic(), data);\n-    }\n-\n-    private void test(String[] digestAlgs, PrivateKey privKey,\n-            PublicKey pubKey, byte[] data) throws RuntimeException {\n-        \/\/ For signature algorithm, create and verify a signature\n-        for (String hash : digestAlgs) {\n-            for (String mgfHash : digestAlgs) {\n-                try {\n-                    checkSignature(data, pubKey, privKey, hash, mgfHash);\n-                } catch (NoSuchAlgorithmException | InvalidKeyException |\n-                         SignatureException | NoSuchProviderException ex) {\n-                    throw new RuntimeException(ex);\n-                } catch (InvalidAlgorithmParameterException ex2) {\n-                    System.out.println(\"Skip test due to \" + ex2);\n+        for (int kSize : KEYSIZES) {\n+            System.out.println(\"[KEYSIZE = \" + kSize + \"]\");\n+            KeyPair kp = PSSUtil.generateKeys(p, kSize);\n+            PrivateKey privKey = kp.getPrivate();\n+            PublicKey pubKey = kp.getPublic();\n+            for (String hash : DIGESTS) {\n+                for (String mgfHash : DIGESTS) {\n+                    System.out.println(\"    [Hash  = \" + hash +\n+                            \", MGF1 Hash = \" + mgfHash + \"]\");\n+                    PSSUtil.AlgoSupport s =\n+                            PSSUtil.isHashSupported(p, hash, mgfHash);\n+                    if (s == PSSUtil.AlgoSupport.NO) {\n+                        System.out.println(\"    => Skip; no support\");\n+                        continue;\n+                    }\n+                    checkSignature(p, DATA, pubKey, privKey, hash, mgfHash, s);\n@@ -104,3 +87,2 @@\n-            }\n-        };\n-    }\n+            };\n+        }\n@@ -108,5 +90,4 @@\n-    private KeyPair generateKeys(String keyalg, int size)\n-            throws NoSuchAlgorithmException {\n-        KeyPairGenerator kpg = KeyPairGenerator.getInstance(keyalg, prov);\n-        kpg.initialize(size);\n-        return kpg.generateKeyPair();\n+        \/\/ start testing below\n+        if (skipTest) {\n+            throw new SkippedException(\"Test Skipped\");\n+        }\n@@ -115,2 +96,2 @@\n-    private void checkSignature(byte[] data, PublicKey pub,\n-            PrivateKey priv, String hash, String mgfHash)\n+    private static void checkSignature(Provider p, byte[] data, PublicKey pub,\n+            PrivateKey priv, String hash, String mgfHash, PSSUtil.AlgoSupport s)\n@@ -121,1 +102,0 @@\n-        String testName = hash + \" and MGF1_\" + mgfHash;\n@@ -125,0 +105,5 @@\n+        Signature sig = Signature.getInstance(SIGALG, p);\n+        AlgorithmParameterSpec params = new PSSParameterSpec(\n+                hash, \"MGF1\", new MGF1ParameterSpec(mgfHash), 0, 1);\n+        sig.initSign(priv);\n+\n@@ -126,3 +111,8 @@\n-            MessageDigest md = MessageDigest.getInstance(hash, prov);\n-            if (!hash.equalsIgnoreCase(mgfHash)) {\n-                md = MessageDigest.getInstance(mgfHash, prov);\n+            sig.setParameter(params);\n+        } catch (InvalidAlgorithmParameterException iape) {\n+            if (s == PSSUtil.AlgoSupport.MAYBE) {\n+                \/\/ confirmed to be unsupported; skip the rest of the test\n+                System.out.println(\"    => Skip; no PSS support\");\n+                return;\n+            } else {\n+                throw new RuntimeException(\"Unexpected Exception\", iape);\n@@ -130,3 +120,0 @@\n-        } catch (NoSuchAlgorithmException nsae) {\n-            System.out.println(\"Skip testing \" + hash + \"\/\" + mgfHash);\n-            return;\n@@ -134,0 +121,2 @@\n+        \/\/ start testing below\n+        skipTest = false;\n@@ -135,6 +124,0 @@\n-        System.out.println(\"Testing against \" + testName);\n-        Signature sig = Signature.getInstance(SIGALG, prov);\n-        AlgorithmParameterSpec params = new PSSParameterSpec(\n-            hash, \"MGF1\", new MGF1ParameterSpec(mgfHash), 0, 1);\n-        sig.setParameter(params);\n-        sig.initSign(priv);\n@@ -166,0 +149,1 @@\n+        System.out.println(\"    => Passed\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Signature\/SignatureTestPSS.java","additions":47,"deletions":63,"binary":false,"changes":110,"status":"modified"},{"filename":"test\/jdk\/sun\/security\/pkcs11\/tls\/tls12\/cert9.db","binary":true,"status":"added"},{"filename":"test\/jdk\/sun\/security\/pkcs11\/tls\/tls12\/key4.db","binary":true,"status":"added"},{"patch":"@@ -0,0 +1,9 @@\n+library=\n+name=NSS Internal PKCS #11 Module\n+parameters=configdir='sql:.\/tmpdb' certPrefix='' keyPrefix='' secmod='secmod.db' flags= updatedir='' updateCertPrefix='' updateKeyPrefix='' updateid='' updateTokenDescription='' \n+NSS=trustOrder=75 cipherOrder=100 slotParams={0x00000001=[slotFlags=RSA,RC4,RC2,DES,DH,SHA1,MD5,MD2,SSL,TLS,AES,RANDOM askpw=any timeout=30 ] }  Flags=internal,critical,FIPS\n+\n+library=libnssckbi.so\n+name=Builtin Roots Module\n+NSS=trustOrder=100    \n+\n","filename":"test\/jdk\/sun\/security\/pkcs11\/tls\/tls12\/pkcs11.txt","additions":9,"deletions":0,"binary":false,"changes":9,"status":"added"},{"patch":"@@ -83,1 +83,1 @@\n-            ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(List.of(\n+            ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(List.of(\n","filename":"test\/jdk\/sun\/security\/provider\/KeyStore\/DKSTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n- *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA  false 1643 267\n+ *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA 1643 267 TLSv1\n@@ -38,1 +38,1 @@\n- *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA true 1259 75\n+ *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA 1259 75 TLSv1.1\n@@ -42,1 +42,1 @@\n- *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA true 1259 75\n+ *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA 1259 75 TLSv1.2\n@@ -46,1 +46,1 @@\n- *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA true 1259 75\n+ *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA 1259 75 TLSv1\n@@ -50,2 +50,1 @@\n- *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA true 1259 75\n- *\n+ *      DHEKeySizing SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA 1259 75 TLSv1.1\n@@ -54,2 +53,1 @@\n- *      DHEKeySizing SSL_DH_anon_EXPORT_WITH_DES40_CBC_SHA true 233 75\n- *\n+ *      DHEKeySizing SSL_DH_anon_EXPORT_WITH_DES40_CBC_SHA 233 75 TLSv1.2\n@@ -58,1 +56,1 @@\n- *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA  false 1643 267\n+ *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA 1643 267 TLSv1\n@@ -62,1 +60,1 @@\n- *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA  false 1323 107\n+ *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA 1323 107 TLSv1.1\n@@ -66,1 +64,1 @@\n- *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA  false 1643 267\n+ *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA 1645 267 TLSv1.2\n@@ -70,2 +68,1 @@\n- *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA  false 1387 139\n- *\n+ *      DHEKeySizing TLS_DHE_RSA_WITH_AES_128_CBC_SHA 1387 139 TLSv1\n@@ -74,1 +71,1 @@\n- *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5  false 617 267\n+ *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5 617 267 TLSv1.1\n@@ -78,1 +75,1 @@\n- *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5  false 297 107\n+ *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5 297 107 TLSv1.2\n@@ -82,1 +79,1 @@\n- *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5  false 617 267\n+ *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5 617 267 TLSv1\n@@ -86,1 +83,1 @@\n- *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5  false 361 139\n+ *      DHEKeySizing SSL_DH_anon_WITH_RC4_128_MD5 361 139 TLSv1.1\n@@ -136,1 +133,1 @@\n-    \/\/ This is an effort to mimum intermittent failure when we cannot\n+    \/\/ This is an effort to minimize intermittent failures when we cannot\n@@ -141,0 +138,2 @@\n+    private static String protocol;\n+\n@@ -178,2 +177,2 @@\n-    private void test(String cipherSuite, boolean exportable,\n-            int lenServerKeyEx, int lenClientKeyEx) throws Exception {\n+    private void test(String cipherSuite, int lenServerKeyEx,\n+            int lenClientKeyEx) throws Exception {\n@@ -319,2 +318,2 @@\n-                \"exportable(true|false)\\n\" +\n-                \"    size-of-server-hello-record size-of-client-key-exchange\");\n+                \"size-of-server-hello-record\\n\" +\n+                \"    size-of-client-key-exchange protocol\");\n@@ -324,0 +323,2 @@\n+        protocol = args[3];\n+\n@@ -325,3 +326,2 @@\n-                Boolean.parseBoolean(args[1]),\n-                Integer.parseInt(args[2]),\n-                Integer.parseInt(args[3]));\n+                Integer.parseInt(args[1]),\n+                Integer.parseInt(args[2]));\n@@ -362,1 +362,1 @@\n-        return new ContextParameters(\"TLSv1\", \"PKIX\", \"NewSunX509\");\n+        return new ContextParameters(protocol, \"PKIX\", \"NewSunX509\");\n@@ -367,1 +367,1 @@\n-        return new ContextParameters(\"TLSv1\", \"PKIX\", \"NewSunX509\");\n+        return new ContextParameters(protocol, \"PKIX\", \"NewSunX509\");\n","filename":"test\/jdk\/sun\/security\/ssl\/DHKeyExchange\/DHEKeySizing.java","additions":27,"deletions":27,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLEngineImpl\/SSLEngineKeyLimit.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -191,1 +191,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSessionImpl\/ResumptionUpdateBoundValues.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-            ProcessBuilder pb = ProcessTools.createTestJvm(\n+            ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSocketImpl\/SSLSocketKeyLimit.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1029,1 +1029,1 @@\n-        return ProcessTools.executeCommand(cmd).getOutput();\n+        return ProcessTools.executeCommand(cmd).getStdout();\n","filename":"test\/jdk\/sun\/security\/tools\/jarsigner\/compatibility\/Compatibility.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -61,3 +61,4 @@\n-        Files.copy(dbPath.resolve(\"cert8.db\"), Paths.get(\"cert8.db\"));\n-        Files.copy(dbPath.resolve(\"key3.db\"), Paths.get(\"key3.db\"));\n-        Files.copy(dbPath.resolve(\"secmod.db\"), Paths.get(\"secmod.db\"));\n+        Path destDir = Path.of( \"tmpdb\");\n+        Files.createDirectory(destDir);\n+        Files.copy(dbPath.resolve(\"cert9.db\"), destDir.resolve(\"cert9.db\"));\n+        Files.copy(dbPath.resolve(\"key4.db\"), destDir.resolve(\"key4.db\"));\n","filename":"test\/jdk\/sun\/security\/tools\/keytool\/NssTest.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -111,1 +111,1 @@\n-        \/\/ Conversely, a JKS keystore can be laoded as a PKCS12, and it follows\n+        \/\/ Conversely, a JKS keystore can be loaded as a PKCS12, and it follows\n","filename":"test\/jdk\/sun\/security\/tools\/keytool\/PKCS12Passwd.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -9,1 +9,1 @@\n-nssArgs = \"configdir='.' certPrefix='' keyPrefix='' secmod='secmod.db'\"\n+nssArgs = \"configdir='sql:.\/tmpdb' certPrefix='' keyPrefix='' secmod='secmod.db'\"\n","filename":"test\/jdk\/sun\/security\/tools\/keytool\/p11-nss.txt","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -155,0 +155,4 @@\n+# vn\n+site.com.vn             com.vn          site.com.vn\n+site.ai.vn              ai.vn           site.ai.vn\n+\n","filename":"test\/jdk\/sun\/security\/util\/RegisteredDomain\/tests.dat","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,4 @@\n- * @bug 5052433\n- * @summary NullPointerException for generateCRL and generateCRLs methods.\n+ * @bug 5052433 8315042\n+ * @summary Verify that generateCRL and generateCRLs methods do not throw\n+ *          NullPointerException. They should throw CRLException instead.\n+ * @library \/test\/lib\n@@ -32,0 +34,1 @@\n+import java.util.Base64;\n@@ -33,2 +36,1 @@\n-public class UnexpectedNPE {\n-    CertificateFactory cf = null ;\n+import jdk.test.lib.Utils;\n@@ -36,1 +38,2 @@\n-    public UnexpectedNPE() {}\n+public class UnexpectedNPE {\n+    static CertificateFactory cf = null;\n@@ -38,1 +41,2 @@\n-    public static void main( String[] av ) {\n+    public static void main(String[] av ) throws CertificateException,\n+            NoSuchProviderException {\n@@ -42,0 +46,2 @@\n+        byte[] encoded_4 = Base64.getDecoder().decode(\n+                \"MAsGCSqGSMP7TQEHAjI1Bgn\/\/\/\/\/\/\/8wCwUyAQ==\");\n@@ -43,5 +49,1 @@\n-        UnexpectedNPE unpe = new UnexpectedNPE() ;\n-\n-        if(!unpe.run(encoded_1)) {\n-            throw new SecurityException(\"CRLException has not been thrown\");\n-        }\n+        cf = CertificateFactory.getInstance(\"X.509\", \"SUN\");\n@@ -49,7 +51,4 @@\n-        if(!unpe.run(encoded_2)) {\n-            throw new SecurityException(\"CRLException has not been thrown\");\n-        }\n-\n-        if(!unpe.run(encoded_2)) {\n-            throw new SecurityException(\"CRLException has not been thrown\");\n-        }\n+        run(encoded_1);\n+        run(encoded_2);\n+        run(encoded_3);\n+        run(encoded_4);\n@@ -58,19 +57,7 @@\n-    private boolean run(byte[] buf) {\n-        if (cf == null) {\n-            try {\n-                cf = CertificateFactory.getInstance(\"X.509\", \"SUN\");\n-            } catch (CertificateException e) {\n-                throw new SecurityException(\"Cannot get CertificateFactory\");\n-            } catch (NoSuchProviderException npe) {\n-                throw new SecurityException(\"Cannot get CertificateFactory\");\n-            }\n-        }\n-        try {\n-            cf.generateCRL(new ByteArrayInputStream(buf));\n-        } catch (CRLException ce) {\n-            System.out.println(\"NPE checking passed\");\n-            return true;\n-        }\n-\n-        System.out.println(\"CRLException has not been thrown\");\n-        return false;\n+    private static void run(byte[] buf) {\n+        Utils.runAndCheckException(\n+                () -> cf.generateCRL(new ByteArrayInputStream(buf)),\n+                CRLException.class);\n+        Utils.runAndCheckException(\n+                () -> cf.generateCRLs(new ByteArrayInputStream(buf)),\n+                CRLException.class);\n","filename":"test\/jdk\/sun\/security\/x509\/X509CRLImpl\/UnexpectedNPE.java","additions":25,"deletions":38,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n- * and checks that sun.tools.ProcessHelper.getMainClass(pid) method returns a correct main class.                                                                                                                               return a .\n+ * and checks that sun.tools.ProcessHelper.getMainClass(pid) method returns a correct main class.\n@@ -55,0 +55,1 @@\n+ * @requires vm.flagless\n","filename":"test\/jdk\/sun\/tools\/jcmd\/TestProcessHelper.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -153,1 +153,11 @@\n-            ProcessBuilder pb = new ProcessBuilder(JDKToolFinder.getTestJDKTool(\"jshell\"));\n+            JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"jshell\");\n+            if (doSleep) {\n+                launcher.addVMArgs(Utils.getTestJavaOpts());\n+            } else {\n+                \/\/ Don't allow use of SerialGC. See JDK-8313655.\n+                launcher.addVMArgs(Utils.getFilteredTestJavaOpts(\"-XX:\\\\+UseSerialGC\"));\n+            }\n+            ProcessBuilder pb = new ProcessBuilder(launcher.getCommand());\n+            \/\/ Needed so we can properly parse the \"Welcome to JShell\" output.\n+            pb.command().add(\"-J-Duser.language=en\");\n+            pb.command().add(\"-J-Duser.country=US\");\n","filename":"test\/jdk\/sun\/tools\/jhsdb\/JShellHeapDumpTest.java","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -96,1 +96,3 @@\n-            ProcessBuilder pb = new ProcessBuilder(JDKToolFinder.getTestJDKTool(\"jshell\"));\n+            JDKToolLauncher launcher = JDKToolLauncher.createUsingTestJDK(\"jshell\");\n+            launcher.addVMArgs(Utils.getTestJavaOpts());\n+            ProcessBuilder pb = new ProcessBuilder(launcher.getCommand());\n","filename":"test\/jdk\/sun\/tools\/jhsdb\/JStackStressTest.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,3 +63,2 @@\n-            String[] params = new String[0];;\n-            LingeredApp.startAppExactJvmOpts(app1, params);\n-            LingeredApp.startAppExactJvmOpts(app2, params);\n+            LingeredApp.startApp(app1);\n+            LingeredApp.startApp(app2);\n@@ -92,3 +91,2 @@\n-            String[] params = new String[0];\n-            LingeredApp.startAppExactJvmOpts(app1, params);\n-            LingeredApp.startAppExactJvmOpts(app2, params);\n+            LingeredApp.startApp(app1);\n+            LingeredApp.startApp(app2);\n","filename":"test\/jdk\/sun\/tools\/jinfo\/JInfoTest.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ * @requires vm.flagless\n@@ -63,3 +64,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n-            \"-cp\",\n-            System.getProperty(\"test.class.path\"),\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(\n","filename":"test\/jdk\/sun\/tools\/jstat\/JStatInterval.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8165944\n+ * @bug 8165944 8318971\n@@ -156,0 +156,78 @@\n+    \/**\n+     * Containing non-existent file in the file list\n+     * The final jar should not be created and correct error message should be caught.\n+     * IOException is triggered as expected.\n+     *\/\n+    @Test\n+    public void testNonExistentFileInput() throws IOException {\n+        touch(\"existingTestFile.txt\");\n+        onCompletion = () -> rm(\"existingTestFile.txt\");\n+        try {\n+            jar(\"cf test.jar existingTestFile.txt nonExistentTestFile.txt\");\n+            Assert.fail(\"jar tool unexpectedly completed successfully\");\n+        } catch (IOException e) {\n+            Assert.assertEquals(e.getMessage().trim(), \"nonExistentTestFile.txt : no such file or directory\");\n+            Assert.assertTrue(Files.notExists(Path.of(\"test.jar\")), \"Jar file should not be created.\");\n+        }\n+    }\n+\n+    \/**\n+     * With @File as a part of jar command line, where the File is containing one or more\n+     * non-existent files or directories\n+     * The final jar should not be created and correct error message should be caught.\n+     * IOException is triggered as expected.\n+     *\/\n+    @Test\n+    public void testNonExistentFileInputClassList() throws IOException {\n+        touch(\"existingTestFile.txt\");\n+        touch(\"classes.list\");\n+        Files.writeString(Path.of(\"classes.list\"), \"\"\"\n+                existingTestFile.txt\n+                nonExistentTestFile.txt\n+                nonExistentDirectory\n+                 \"\"\");\n+        onCompletion = () -> rm(\"existingTestFile.txt classes.list\");\n+        try {\n+            jar(\"cf test.jar @classes.list\");\n+            Assert.fail(\"jar tool unexpectedly completed successfully\");\n+        } catch (IOException e) {\n+            String msg = e.getMessage().trim();\n+            Assert.assertTrue(msg.contains(\"nonExistentTestFile.txt : no such file or directory\"));\n+            Assert.assertTrue(msg.trim().contains(\"nonExistentDirectory : no such file or directory\"));\n+            Assert.assertTrue(Files.notExists(Path.of(\"test.jar\")), \"Jar file should not be created.\");\n+        }\n+\n+    }\n+\n+    \/**\n+     * Create a jar file; then with @File as a part of jar command line, where the File is containing one or more\n+     * non-existent files or directories\n+     * The final jar should not be created and correct error message should be caught.\n+     * IOException is triggered as expected.\n+     *\/\n+    @Test\n+    public void testUpdateNonExistentFileInputClassList() throws IOException {\n+        touch(\"existingTestFileUpdate.txt\");\n+        touch(\"existingTestFileUpdate2.txt\");\n+        touch(\"classesUpdate.list\");\n+        Files.writeString(Path.of(\"classesUpdate.list\"), \"\"\"\n+                existingTestFileUpdate2.txt\n+                nonExistentTestFileUpdate.txt\n+                nonExistentDirectoryUpdate\n+                 \"\"\");\n+        onCompletion = () -> rm(\"existingTestFileUpdate.txt existingTestFileUpdate2.txt \" +\n+                \"classesUpdate.list testUpdate.jar\");\n+        try {\n+            jar(\"cf testUpdate.jar existingTestFileUpdate.txt\");\n+            Assert.assertTrue(Files.exists(Path.of(\"testUpdate.jar\")));\n+            jar(\"uf testUpdate.jar @classesUpdate.list\");\n+            Assert.fail(\"jar tool unexpectedly completed successfully\");\n+        } catch (IOException e) {\n+            String msg = e.getMessage().trim();\n+            Assert.assertFalse(msg.contains(\"existingTestFileUpdate.txt : no such file or directory\"));\n+            Assert.assertTrue(msg.contains(\"nonExistentTestFileUpdate.txt : no such file or directory\"));\n+            Assert.assertTrue(msg.trim().contains(\"nonExistentDirectoryUpdate : no such file or directory\"));\n+        }\n+\n+    }\n+\n","filename":"test\/jdk\/tools\/jar\/InputFilesTest.java","additions":80,"deletions":2,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-        ProcessBuilder builder = ProcessTools.createJavaProcessBuilder(args.toArray(new String[args.size()]));\n+        ProcessBuilder builder = ProcessTools.createLimitedTestJavaProcessBuilder(args.toArray(new String[args.size()]));\n","filename":"test\/jdk\/tools\/jimage\/JImageToolTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -273,1 +273,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(Utils.addTestJavaOpts(cmds));\n+        ProcessBuilder pb = ProcessTools.createLimitedTestJavaProcessBuilder(Utils.addTestJavaOpts(cmds));\n","filename":"test\/jdk\/tools\/launcher\/modules\/basic\/BasicTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -203,1 +203,1 @@\n-        \/\/ can't use ProcessTools.createJavaProcessBuilder as it always adds -cp\n+        \/\/ can't use ProcessTools.createLimitedTestJavaProcessBuilder as it always adds -cp\n","filename":"test\/jdk\/tools\/launcher\/modules\/classpath\/JavaClassPathTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,0 +50,2 @@\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n@@ -52,1 +54,0 @@\n-\n@@ -86,0 +87,4 @@\n+\n+        public void putAll(Map<String, String> map) {\n+            map.entrySet().forEach(e -> put(e.getKey(), () -> e.getValue()));\n+        }\n@@ -133,0 +138,1 @@\n+        map.putAll(xOptFlags()); \/\/ -Xmx4g -> @requires vm.opt.x.Xmx == \"4g\" )\n@@ -568,3 +574,4 @@\n-        ProcessBuilder pb = new ProcessBuilder(Container.ENGINE_COMMAND, \"ps\");\n-        Map<String, String> logFileNames = redirectOutputToLogFile(\"checkDockerSupport(): <container> ps\",\n-                                                      pb, \"container-ps\");\n+        ProcessBuilder pb = new ProcessBuilder(\"which\", Container.ENGINE_COMMAND);\n+        Map<String, String> logFileNames =\n+            redirectOutputToLogFile(\"checkDockerSupport(): which <container-engine>\",\n+                                                      pb, \"which-container\");\n@@ -627,3 +634,1 @@\n-        List<String> allFlags = new ArrayList<String>();\n-        Collections.addAll(allFlags, System.getProperty(\"test.vm.opts\", \"\").trim().split(\"\\\\s+\"));\n-        Collections.addAll(allFlags, System.getProperty(\"test.java.opts\", \"\").trim().split(\"\\\\s+\"));\n+        List<String> allFlags = allFlags().toList();\n@@ -655,1 +660,3 @@\n-                \"mixed\"\n+                \"mixed\",\n+                \/\/ -XmxmNNNm added by run-test framework for non-hotspot tests\n+                \"mx\"\n@@ -660,4 +667,6 @@\n-                              \/\/ remove -X\n-                              .map(s -> s.substring(2))\n-                              \/\/ remove :.* from flags with values\n-                              .map(s -> s.contains(\":\") ? s.substring(0, s.indexOf(':')) : s)\n+                          \/\/ remove -X\n+                          .map(s -> s.substring(2))\n+                          \/\/ remove :.* from flags with values\n+                          .map(s -> s.contains(\":\") ? s.substring(0, s.indexOf(':')) : s)\n+                          \/\/ remove size like 4G, 768m which might be set for non-hotspot tests\n+                          .map(s -> s.replaceAll(\"(\\\\d+)[mMgGkK]\", \"\"))\n@@ -672,0 +681,25 @@\n+    private Stream<String> allFlags() {\n+        return Stream.of((System.getProperty(\"test.vm.opts\", \"\") + \" \" + System.getProperty(\"test.java.opts\", \"\")).trim().split(\"\\\\s+\"));\n+    }\n+\n+    \/**\n+     * Parses extra options, options that start with -X excluding the\n+     * bare -X option (as it is not considered an extra option).\n+     * Ignores extra options not starting with -X\n+     *\n+     * This could be improved to handle extra options not starting\n+     * with -X as well as \"standard\" options.\n+     *\/\n+    private Map<String, String> xOptFlags() {\n+        return allFlags()\n+            .filter(s -> s.startsWith(\"-X\") && !s.startsWith(\"-XX:\") && !s.equals(\"-X\"))\n+            .map(s -> s.replaceFirst(\"-\", \"\"))\n+            .map(flag -> flag.splitWithDelimiters(\"[:0123456789]\", 2))\n+            .collect(Collectors.toMap(a -> \"vm.opt.x.\" + a[0],\n+                                      a -> (a.length == 1)\n+                                      ? \"true\" \/\/ -Xnoclassgc\n+                                      : (a[1].equals(\":\")\n+                                         ? a[2]            \/\/ [\"-XshowSettings\", \":\", \"system\"]\n+                                         : a[1] + a[2]))); \/\/ [\"-Xmx\", \"4\", \"g\"]\n+    }\n+\n","filename":"test\/jtreg-ext\/requires\/VMProps.java","additions":46,"deletions":12,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -0,0 +1,164 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.Spliterator;\n+import java.util.Spliterators;\n+import java.util.regex.Pattern;\n+import java.util.stream.Stream;\n+import java.util.stream.StreamSupport;\n+\n+import javadoc.tester.JavadocTester;\n+import toolbox.ToolBox;\n+\n+\/*\n+ * @test\n+ * @bug 8318082\n+ * @library \/tools\/lib ..\/..\/lib\n+ * @modules jdk.javadoc\/jdk.javadoc.internal.tool\n+ * @build toolbox.ToolBox javadoc.tester.*\n+ * @run main TestSelfIndexing\n+ *\/\n+public class TestSelfIndexing extends JavadocTester {\n+\n+    public static void main(String... args) throws Exception {\n+        new TestSelfIndexing().runTests();\n+    }\n+\n+    private final ToolBox tb = new ToolBox();\n+\n+    \/*\n+     * Pages derived from other pages must not be indexed and may not\n+     * cross-reference each other except for navigation ergonomics.\n+     *\n+     * For example, it's okay for all-index.html to reference deprecated-list.html;\n+     * but it is not okay, for all-index.html to reference an anchor, such as\n+     * deprecated-list.html#java.lang.Object.finalize()\n+     *\/\n+    @Test\n+    public void test(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+        int i = 0;\n+        \/\/ try to start a search tag (i) with the same letter, H,\n+        \/\/ as the class, Hello, and (ii) with some other letter, P\n+        for (var l : List.of(\"H\", \"P\")) {\n+            \/\/ try all markup constructs that cause indexing\n+            for (var t : List.of(\"<h2>%s<\/h2>\", \"{@index %s}\", \"{@systemProperty %s}\")) {\n+                tb.writeJavaFiles(src, \"\"\"\n+                        package pkg;\n+\n+                        \/** @deprecated %s *\/\n+                        public class Hello { }\n+                        \"\"\".formatted(t.formatted(l)));\n+\n+                Path out = base.resolve(\"out-\" + i);\n+                checking(t.formatted(l) + \"; results in: \" + out);\n+                setAutomaticCheckNoStacktrace(true); \/\/ no exceptions\n+                javadoc(\"-d\", out.toString(),\n+                        \"--source-path\", src.toString(),\n+                        \"pkg\");\n+                \/\/ check that index pages do not refer to derived pages\n+                try (var s = findIndexFiles(out)) {\n+                    record PathAndString(Path path, String str) { }\n+                    Optional<PathAndString> r = s.map(p -> {\n+                                try {\n+                                    return new PathAndString(p, Files.readString(p));\n+                                } catch (IOException e) {\n+                                    throw new UncheckedIOException(e);\n+                                }\n+                            })\n+                            .flatMap(pac -> findLinksToDerivedPages(pac.str)\n+                                    .map(link -> new PathAndString(pac.path, link)))\n+                            .findAny();\n+                    r.ifPresentOrElse(p -> failed(p.toString()), () -> passed(t.formatted(l)));\n+                }\n+                i++;\n+            }\n+        }\n+    }\n+\n+    \/\/ ----------- support and infrastructure -----------\n+\n+    private static Stream<Path> findIndexFiles(Path start) throws IOException {\n+        return Files.find(start, Integer.MAX_VALUE, (path, attr) -> {\n+            if (attr.isDirectory())\n+                return false;\n+            var fileName = path.getFileName().toString();\n+            if (!fileName.endsWith(\".html\") && !fileName.endsWith(\".js\"))\n+                return false;\n+            if (!fileName.contains(\"-index\") && !fileName.contains(\"index-\"))\n+                return false;\n+            var underDocFiles = StreamSupport.stream(Spliterators.spliterator(path.iterator(),\n+                            Integer.MAX_VALUE, Spliterator.ORDERED), false)\n+                    .anyMatch(p -> p.equals(DOC_FILES));\n+            return !underDocFiles;\n+        });\n+    }\n+\n+    private static final Path DOC_FILES = Path.of(\"doc-files\");\n+\n+    \/\/ good enough to capture relevant parts of URLs that javadoc uses,\n+    \/\/ from html and js files alike\n+    private static final Pattern URL = Pattern.compile(\n+            \"(?<path>([a-zA-Z.%0-9-]+\/)*+)(?<file>[a-zA-Z.%0-9-]+\\\\.html)#[a-zA-Z.%0-9-]+\");\n+\n+    static {\n+        assert findLinksToDerivedPages(\"module-summary.html#a\").findAny().isEmpty();\n+        assert findLinksToDerivedPages(\"package-summary.html#a\").findAny().isEmpty();\n+        assert findLinksToDerivedPages(\"Exception.html#a\").findAny().isEmpty();\n+        assert findLinksToDerivedPages(\"util\/doc-files\/coll-index.html#a\").findAny().isEmpty();\n+        assert findLinksToDerivedPages(\"util\/doc-files\/index-all.html#a\").findAny().isEmpty(); \/\/ tricky\n+\n+\n+        assert findLinksToDerivedPages(\"index-all.html#a\").findAny().isPresent();\n+        assert findLinksToDerivedPages(\"index-17.html#a\").findAny().isPresent();\n+    }\n+\n+    \/\/ NOTE: this will not find self-links that are allowed on some index pages.\n+    \/\/ For example, the quick-jump first-character links, such as #I:A,\n+    \/\/ #I:B, etc., on the top and at the bottom of index-all.html\n+    private static Stream<String> findLinksToDerivedPages(String content) {\n+        return URL.matcher(content).results()\n+                .filter(r -> {\n+                    String f = r.group(\"file\");\n+                    if (!f.contains(\"-\"))\n+                        return false;\n+                    return switch (f) {\n+                        case \"package-summary.html\",\n+                                \"module-summary.html\",\n+                                \"overview-summary.html\",\n+                                \"help-doc.html\" -> false;\n+                        default -> {\n+                            String p = r.group(\"path\");\n+                            yield !p.contains(\"\/doc-files\/\") && !p.startsWith(\"doc-files\/\");\n+                        }\n+                    };\n+                })\n+                .map(r -> r.group(0));\n+    }\n+}\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testIndex\/TestSelfIndexing.java","additions":164,"deletions":0,"binary":false,"changes":164,"status":"added"},{"patch":"@@ -29,1 +29,1 @@\n- *      8266808 8248863 8305710\n+ *      8266808 8248863 8305710 8318082\n@@ -508,8 +508,0 @@\n-        checkOutput(\"index-all.html\", true,\n-                \"\"\"\n-                    <div class=\"deprecation-comment\">class_test1 passes. Search tag <span id=\"Search\\\n-                    TagDeprecatedClass\" class=\"search-tag-result\">SearchTagDeprecatedClass<\/span><\/d\\\n-                    iv>\"\"\",\n-                \"\"\"\n-                    <div class=\"deprecation-comment\">error_test3 passes. Search tag for\n-                     method <span id=\"SearchTagDeprecatedMethod\" class=\"search-tag-result\">SearchTagDeprecatedMethod<\/span><\/div>\"\"\");\n@@ -626,7 +618,1 @@\n-                    Word<\/a> - Search tag in package pkg<\/dt>\"\"\",\n-                \"\"\"\n-                    <div class=\"deprecation-comment\">class_test1 passes. Search tag <span id=\"Search\\\n-                    TagDeprecatedClass\">SearchTagDeprecatedClass<\/div>\"\"\",\n-                \"\"\"\n-                    <div class=\"deprecation-comment\">error_test3 passes. Search tag for\n-                     method <span id=\"SearchTagDeprecatedMethod\">SearchTagDeprecatedMethod<\/span><\/div>\"\"\");\n+                    Word<\/a> - Search tag in package pkg<\/dt>\"\"\");\n@@ -670,7 +656,1 @@\n-                    nk\">SearchTagDeprecatedMethod<\/a> - Search tag in pkg2.TestError.TestError()<\/dt>\"\"\",\n-                \"\"\"\n-                    <div class=\"deprecation-comment\">class_test1 passes. Search tag <span id=\"Search\\\n-                    TagDeprecatedClass\">SearchTagDeprecatedClass<\/span><\/div>\"\"\",\n-                \"\"\"\n-                    <div class=\"deprecation-comment\">error_test3 passes. Search tag for\n-                     method <span id=\"SearchTagDeprecatedMethod\">SearchTagDeprecatedMethod<\/span><\/div>\"\"\");\n+                    nk\">SearchTagDeprecatedMethod<\/a> - Search tag in pkg2.TestError.TestError()<\/dt>\"\"\");\n@@ -844,2 +824,0 @@\n-                \"\"\"\n-                    {\"l\":\"search phrase deprecated\",\"h\":\"pkg2.TestEnum.ONE\",\"u\":\"deprecated-list.html#searchphrasedeprecated\"}\"\"\",\n@@ -848,2 +826,0 @@\n-                \"\"\"\n-                    {\"l\":\"search phrase with desc deprecated\",\"h\":\"annotation interface pkg2.TestAnnotationType\",\"d\":\"description for phrase deprecated\",\"u\":\"deprecated-list.html#searchphrasewithdescdeprecated\"}\"\"\",\n@@ -852,2 +828,0 @@\n-                \"\"\"\n-                    {\"l\":\"SearchTagDeprecatedClass\",\"h\":\"class pkg2.TestClass\",\"u\":\"deprecated-list.html#SearchTagDeprecatedClass\"}\"\"\",\n@@ -856,2 +830,0 @@\n-                \"\"\"\n-                    {\"l\":\"SearchTagDeprecatedMethod\",\"h\":\"pkg2.TestError.TestError()\",\"d\":\"with description\",\"u\":\"deprecated-list.html#SearchTagDeprecatedMethod\"}\"\"\",\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSearch\/TestSearch.java","additions":3,"deletions":31,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -0,0 +1,118 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8321164\n+ * @summary Indirectly verify that types.erasure does not complete, called from\n+ *          ClassReader.isSameBinaryType, which must not complete.\n+ * @library \/tools\/lib\n+ * @modules jdk.compiler\/com.sun.tools.javac.api\n+ *          jdk.compiler\/com.sun.tools.javac.main\n+ * @build toolbox.JavacTask toolbox.TestRunner toolbox.ToolBox\n+ * @run main ReadingMethodWithTypeAnno\n+ *\/\n+\n+import com.sun.source.util.TaskEvent;\n+import com.sun.source.util.TaskListener;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+\n+import toolbox.JavacTask;\n+import toolbox.Task.Expect;\n+import toolbox.Task.OutputKind;\n+import toolbox.TestRunner;\n+import toolbox.ToolBox;\n+\n+public class ReadingMethodWithTypeAnno extends TestRunner {\n+    public static void main(String... args) throws Exception {\n+        ReadingMethodWithTypeAnno r = new ReadingMethodWithTypeAnno();\n+        r.runTests(m -> new Object[] { Paths.get(m.getName()) });\n+    }\n+\n+    private final ToolBox tb = new ToolBox();\n+\n+    public ReadingMethodWithTypeAnno() throws IOException {\n+        super(System.err);\n+    }\n+\n+    @Test\n+    public void test_DeclNone_UseNone(Path base) throws IOException {\n+        Path libSrc = base.resolve(\"lib-src\");\n+        Path libClasses = Files.createDirectories(base.resolve(\"lib-classes\"));\n+\n+        tb.writeJavaFiles(libSrc,\n+                          \"\"\"\n+                          public class Lib {\n+                              public void test(java.lang.@Ann String s) {\n+                                  new Object() {};\n+                              }\n+                          }\n+                          \"\"\",\n+                          \"\"\"\n+                          import java.lang.annotation.ElementType;\n+                          import java.lang.annotation.Target;\n+                          @Target(ElementType.TYPE_USE)\n+                          public @interface Ann {}\n+                          \"\"\");\n+\n+        new JavacTask(tb)\n+                .outdir(libClasses)\n+                .files(tb.findJavaFiles(libSrc))\n+                .run(Expect.SUCCESS)\n+                .writeAll()\n+                .getOutput(OutputKind.DIRECT);\n+\n+        Path src = base.resolve(\"src\");\n+        Path classes = Files.createDirectories(base.resolve(\"classes\"));\n+\n+        tb.writeJavaFiles(src,\n+                          \"\"\"\n+                          public class Test {\n+                          }\n+                          \"\"\");\n+\n+        new JavacTask(tb)\n+                .outdir(classes)\n+                .classpath(libClasses)\n+                .files(tb.findJavaFiles(src))\n+                .callback(task -> {\n+                    task.addTaskListener(new TaskListener() {\n+                        @Override\n+                        public void finished(TaskEvent e) {\n+                            if (e.getKind() == TaskEvent.Kind.ENTER) {\n+                                task.getElements().getTypeElement(\"Lib\");\n+                                task.getElements().getTypeElement(\"Lib$1\");\n+                            }\n+                        }\n+                    });\n+                })\n+                .run(Expect.SUCCESS)\n+                .writeAll()\n+                .getOutput(OutputKind.DIRECT);\n+    }\n+\n+}\n+\n","filename":"test\/langtools\/tools\/javac\/annotations\/ReadingMethodWithTypeAnno.java","additions":118,"deletions":0,"binary":false,"changes":118,"status":"added"},{"patch":"@@ -0,0 +1,131 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8305971\n+ * @summary NPE in JavacProcessingEnvironment for missing enum constructor body\n+ * @library \/tools\/lib \/tools\/javac\/lib\n+ * @modules\n+ *      jdk.compiler\/com.sun.tools.javac.api\n+ *      jdk.compiler\/com.sun.tools.javac.main\n+ * @build toolbox.ToolBox toolbox.JavacTask\n+ * @run main CrashEmptyEnumConstructorTest\n+ *\/\n+\n+import java.io.IOException;\n+\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+\n+import java.util.List;\n+import java.util.Set;\n+import javax.annotation.processing.AbstractProcessor;\n+import javax.annotation.processing.RoundEnvironment;\n+import javax.annotation.processing.SupportedAnnotationTypes;\n+import javax.lang.model.SourceVersion;\n+import javax.lang.model.element.TypeElement;\n+\n+import toolbox.JavacTask;\n+import toolbox.Task;\n+import toolbox.Task.Mode;\n+import toolbox.Task.OutputKind;\n+import toolbox.TestRunner;\n+import toolbox.ToolBox;\n+\n+public class CrashEmptyEnumConstructorTest extends TestRunner {\n+    protected ToolBox tb;\n+\n+    CrashEmptyEnumConstructorTest() {\n+        super(System.err);\n+        tb = new ToolBox();\n+    }\n+\n+    public static void main(String... args) throws Exception {\n+        new CrashEmptyEnumConstructorTest().runTests();\n+    }\n+\n+    protected void runTests() throws Exception {\n+        runTests(m -> new Object[]{Paths.get(m.getName())});\n+    }\n+\n+    Path[] findJavaFiles(Path... paths) throws IOException {\n+        return tb.findJavaFiles(paths);\n+    }\n+\n+    @Test\n+    public void testEmptyEnumConstructor(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+        Path r = src.resolve(\"E\");\n+\n+        Path classes = base.resolve(\"classes\");\n+\n+        Files.createDirectories(classes);\n+\n+        tb.writeJavaFiles(r,\n+                \"\"\"\n+                enum E {\n+                    ONE(\"\");\n+                    E(String one);\n+                }\n+                \"\"\");\n+\n+        List<String> expected = List.of(\n+            \"E.java:3: error: missing method body, or declare abstract\",\n+            \"    E(String one);\",\n+            \"    ^\",\n+            \"1 error\");\n+\n+        List<String> log = new JavacTask(tb)\n+                .options(\"-processor\", SimpleProcessor.class.getName())\n+                .files(findJavaFiles(src))\n+                .outdir(classes)\n+                .run(Task.Expect.FAIL)\n+                .writeAll()\n+                .getOutputLines(Task.OutputKind.DIRECT);\n+\n+        if (log.size() != expected.size()) {\n+            throw new AssertionError(\"Unexpected output: \" + log);\n+        } else {\n+            for (int i = 0; i < expected.size(); i++) {\n+                if (!log.get(i).contains(expected.get(i))) {\n+                    throw new AssertionError(\"Unexpected output: \" + log);\n+                }\n+            }\n+        }\n+    }\n+\n+    @SupportedAnnotationTypes(\"*\")\n+    public static final class SimpleProcessor extends AbstractProcessor {\n+        @Override\n+        public SourceVersion getSupportedSourceVersion() {\n+            return SourceVersion.latestSupported();\n+        }\n+\n+        @Override\n+        public boolean process(Set<? extends TypeElement> annotations, RoundEnvironment roundEnv) {\n+            return false;\n+        }\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/annotations\/crash_empty_enum_const\/CrashEmptyEnumConstructorTest.java","additions":131,"deletions":0,"binary":false,"changes":131,"status":"added"},{"patch":"@@ -0,0 +1,152 @@\n+\/*\n+ * Copyright (c) 2023, Alphabet LLC. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8322040\n+ * @summary Missing array bounds check in ClassReader.parameter\n+ * @library \/tools\/lib \/tools\/javac\/lib\n+ * @modules\n+ *      jdk.compiler\/com.sun.tools.javac.api\n+ *      jdk.compiler\/com.sun.tools.javac.main\n+ *      java.base\/jdk.internal.classfile\n+ *      java.base\/jdk.internal.classfile.attribute\n+ * @build toolbox.ToolBox toolbox.JavacTask\n+ * @run main BadMethodParameter\n+ *\/\n+\n+import jdk.internal.classfile.ClassModel;\n+import jdk.internal.classfile.ClassTransform;\n+import jdk.internal.classfile.Classfile;\n+import jdk.internal.classfile.MethodTransform;\n+import jdk.internal.classfile.attribute.MethodParametersAttribute;\n+\n+import toolbox.JavacTask;\n+import toolbox.Task;\n+import toolbox.TestRunner;\n+import toolbox.ToolBox;\n+\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.Set;\n+\n+import javax.annotation.processing.AbstractProcessor;\n+import javax.annotation.processing.RoundEnvironment;\n+import javax.annotation.processing.SupportedAnnotationTypes;\n+import javax.lang.model.SourceVersion;\n+import javax.lang.model.element.TypeElement;\n+\n+public class BadMethodParameter extends TestRunner {\n+\n+    protected ToolBox tb;\n+\n+    BadMethodParameter() {\n+        super(System.err);\n+        tb = new ToolBox();\n+    }\n+\n+    public static void main(String... args) throws Exception {\n+        new BadMethodParameter().runTests();\n+    }\n+\n+    protected void runTests() throws Exception {\n+        runTests(m -> new Object[] {Paths.get(m.getName())});\n+    }\n+\n+    @Test\n+    public void testAnnoOnConstructors(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+        Path t = src.resolve(\"T.java\");\n+        Path classes = base.resolve(\"classes\");\n+\n+        Files.createDirectories(classes);\n+\n+        tb.writeJavaFiles(\n+                src,\n+                \"\"\"\n+                class T {\n+                  public static void f(int x, int y) {\n+                  }\n+                }\n+                \"\"\");\n+\n+        new JavacTask(tb).options(\"-parameters\").files(t).outdir(classes).run();\n+\n+        transform(classes.resolve(\"T.class\"));\n+\n+        Path classDir = getClassDir();\n+        new JavacTask(tb)\n+                .classpath(classes, classDir)\n+                .options(\"-verbose\", \"-parameters\", \"-processor\", P.class.getName())\n+                .classes(P.class.getName())\n+                .outdir(classes)\n+                .run(Task.Expect.SUCCESS);\n+    }\n+\n+    public Path getClassDir() {\n+        String classes = ToolBox.testClasses;\n+        if (classes == null) {\n+            return Paths.get(\"build\");\n+        } else {\n+            return Paths.get(classes);\n+        }\n+    }\n+\n+    @SupportedAnnotationTypes(\"*\")\n+    public static final class P extends AbstractProcessor {\n+        @Override\n+        public SourceVersion getSupportedSourceVersion() {\n+            return SourceVersion.latestSupported();\n+        }\n+\n+        @Override\n+        public boolean process(Set<? extends TypeElement> annotations, RoundEnvironment roundEnv) {\n+            if (processingEnv.getElementUtils().getTypeElement(\"T\") == null) {\n+                throw new AssertionError(\"could not load T\");\n+            }\n+            return false;\n+        }\n+    }\n+\n+    private static void transform(Path path) throws IOException {\n+        byte[] bytes = Files.readAllBytes(path);\n+        ClassModel classModel = Classfile.parse(bytes);\n+        MethodTransform methodTransform =\n+                (mb, me) -> {\n+                    if (me instanceof MethodParametersAttribute mp) {\n+                        \/\/ create a MethodParameters attribute with the wrong number of entries\n+                        mb.with(\n+                                MethodParametersAttribute.of(\n+                                        mp.parameters().subList(0, mp.parameters().size() - 1)));\n+                    } else {\n+                        mb.with(me);\n+                    }\n+                };\n+\n+        ClassTransform classTransform = ClassTransform.transformingMethods(methodTransform);\n+        bytes = classModel.transform(classTransform);\n+        Files.write(path, bytes);\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/classreader\/BadMethodParameter.java","additions":152,"deletions":0,"binary":false,"changes":152,"status":"added"},{"patch":"@@ -0,0 +1,43 @@\n+\/**\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8314578\n+ * @enablePreview\n+ * @summary Parsing of erroneous patterns succeeds\n+ * @compile\/fail\/ref=T8314578.out -XDrawDiagnostics T8314578.java\n+ *\/\n+public class T8314578 {\n+    record R1() {}\n+    record R2() {}\n+\n+    static void test(Object o) {\n+        switch (o) {\n+            case R1() when o instanceof String s:\n+            case R2() when o instanceof Integer i:\n+                System.out.println(\"hello: \" + i);\n+                break;\n+            default:\n+                break;\n+        }\n+    }\n+\n+    static void test2(Object o) {\n+        switch (o) {\n+            case R1() when o instanceof String s:\n+                System.out.println(\"hello: \" + s);\n+            case R2() when o instanceof Integer i:\n+                System.out.println(\"hello: \" + i);\n+                break;\n+            default:\n+                break;\n+        }\n+    }\n+\n+    static int unnamedInGuardsOK(String s) {\n+        return switch (s) {\n+            case String _ when s instanceof String _ ->  \/\/ should be OK\n+                    1;\n+            default ->\n+                    -1;\n+        };\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8314578.java","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -0,0 +1,6 @@\n+T8314578.java:14:18: compiler.err.flows.through.from.pattern\n+T8314578.java:15:18: compiler.err.flows.through.to.pattern\n+T8314578.java:27:18: compiler.err.flows.through.to.pattern\n+- compiler.note.preview.filename: T8314578.java, DEFAULT\n+- compiler.note.preview.recompile\n+3 errors\n\\ No newline at end of file\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8314578.out","additions":6,"deletions":0,"binary":false,"changes":6,"status":"added"},{"patch":"@@ -0,0 +1,24 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8317300\n+ * @summary javac erroneously allows \"final\" in front of a record pattern\n+ * @compile\/fail\/ref=T8317300.out -XDrawDiagnostics T8317300.java\n+ *\/\n+public class T8317300 {\n+    record Foo (int x) {}\n+    record Bar (Foo x) {}\n+\n+    void test1(Object obj) {\n+        switch (obj) {\n+            case final Foo(int x) -> {}\n+            default -> {}\n+        }\n+    }\n+\n+    void test2(Object obj) {\n+        switch (obj) {\n+            case Bar(final Foo(int x)) -> {}\n+            default -> {}\n+        }\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8317300.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+T8317300.java:13:18: compiler.err.mod.not.allowed.here: final\n+T8317300.java:20:22: compiler.err.mod.not.allowed.here: final\n+2 errors\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8317300.out","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"},{"patch":"@@ -0,0 +1,42 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+ * @test\n+ * @bug 8320145\n+ * @summary Compiler should accept final variable in Record Pattern\n+ * @compile T8320145.java\n+ *\/\n+public class T8320145 {\n+    record ARecord(String aComponent) {}\n+    record BRecord(ARecord aComponent) {}\n+    record CRecord(ARecord aComponent1, ARecord aComponent2) {}\n+\n+    public String match(Object o) {\n+        return switch(o) {\n+            case ARecord(final String s) -> s;\n+            case BRecord(ARecord(final String s)) -> s;\n+            case CRecord(ARecord(String s), ARecord(final String s2)) -> s;\n+            default -> \"No match\";\n+        };\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8320145.java","additions":42,"deletions":0,"binary":false,"changes":42,"status":"added"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8301580\n+ * @bug 8301580 8322159\n@@ -89,0 +89,37 @@\n+    @Test\n+    public void testX() throws Exception {\n+        String code = \"\"\"\n+                      public class C {\n+                          public C() {\n+                              Undefined.method();\n+                              undefined1();\n+                              Runnable r = this::undefined2;\n+                              overridable(this); \/\/to verify ThisEscapeAnalyzer has been run\n+                          }\n+                          public void overridable(C c) {}\n+                      }\n+                      \"\"\";\n+        Path curPath = Path.of(\".\");\n+        List<String> actual = new JavacTask(tb)\n+                .options(\"-XDrawDiagnostics\", \"-XDdev\",\n+                         \"-XDshould-stop.at=FLOW\", \"-Xlint:this-escape\")\n+                .sources(code)\n+                .outdir(curPath)\n+                .run(Expect.FAIL)\n+                .writeAll()\n+                .getOutputLines(OutputKind.DIRECT);\n+\n+        List<String> expected = List.of(\n+                \"C.java:3:9: compiler.err.cant.resolve.location: kindname.variable, Undefined, , , (compiler.misc.location: kindname.class, C, null)\",\n+                \"C.java:4:9: compiler.err.cant.resolve.location.args: kindname.method, undefined1, , , (compiler.misc.location: kindname.class, C, null)\",\n+                \"C.java:5:22: compiler.err.invalid.mref: kindname.method, (compiler.misc.cant.resolve.location.args: kindname.method, undefined2, , , (compiler.misc.location: kindname.class, C, null))\",\n+                \"C.java:6:20: compiler.warn.possible.this.escape\",\n+                \"3 errors\",\n+                \"1 warning\"\n+        );\n+\n+        if (!Objects.equals(actual, expected)) {\n+            error(\"Expected: \" + expected + \", but got: \" + actual);\n+        }\n+    }\n+\n","filename":"test\/langtools\/tools\/javac\/recovery\/AttrRecovery.java","additions":38,"deletions":1,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * @bug 8206986 8222169 8224031 8240964 8267119 8268670\n+ * @bug 8206986 8222169 8224031 8240964 8267119 8268670 8321582\n@@ -5,1 +5,0 @@\n- * @compile\/fail\/ref=ExpressionSwitch-old.out --release 9 -XDrawDiagnostics ExpressionSwitch.java\n@@ -10,0 +9,1 @@\n+\/\/ * @compile\/fail\/ref=ExpressionSwitch-old.out --release 9 -XDrawDiagnostics ExpressionSwitch.java\n@@ -38,0 +38,10 @@\n+        assertEquals(yieldPrimitiveDotClass(\"byte\"), byte.class);\n+        assertEquals(yieldPrimitiveDotClass(\"char\"), char.class);\n+        assertEquals(yieldPrimitiveDotClass(\"short\"), short.class);\n+        assertEquals(yieldPrimitiveDotClass(\"int\"), int.class);\n+        assertEquals(yieldPrimitiveDotClass(\"long\"), long.class);\n+        assertEquals(yieldPrimitiveDotClass(\"float\"), float.class);\n+        assertEquals(yieldPrimitiveDotClass(\"double\"), double.class);\n+        assertEquals(yieldPrimitiveDotClass(\"void\"), void.class);\n+        assertEquals(yieldPrimitiveDotClass(\"boolean\"), boolean.class);\n+        assertEquals(yieldPrimitiveDotClass(\"other\"), null);\n@@ -143,0 +153,15 @@\n+    private Class<?> yieldPrimitiveDotClass(String s) {\n+        return switch (s) {\n+            case \"byte\":    yield byte.class;\n+            case \"char\":    yield char.class;\n+            case \"short\":   yield short.class;\n+            case \"int\":     yield int.class;\n+            case \"long\":    yield long.class;\n+            case \"float\":   yield float.class;\n+            case \"double\":  yield double.class;\n+            case \"void\":    yield void.class;\n+            case \"boolean\": yield boolean.class;\n+            default: yield null;\n+        };\n+    }\n+\n","filename":"test\/langtools\/tools\/javac\/switchexpr\/ExpressionSwitch.java","additions":27,"deletions":2,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-                \"isHardenedOSX\", \"hasOSXPlistEntries\");\n+                \"isHardenedOSX\", \"hasOSXPlistEntries\", \"isOracleLinux7\");\n","filename":"test\/lib-test\/jdk\/test\/lib\/TestMutuallyExclusivePlatformPredicates.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-                ProcessTools.createJavaProcessBuilder(ProcessToolsLastLineTest.class.getName(), output),\n+                ProcessTools.createLimitedTestJavaProcessBuilder(ProcessToolsLastLineTest.class.getName(), output),\n","filename":"test\/lib-test\/jdk\/test\/lib\/process\/ProcessToolsLastLineTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import java.util.regex.Matcher;\n@@ -351,0 +352,14 @@\n+    public static boolean isOracleLinux7() {\n+        if (System.getProperty(\"os.name\").toLowerCase().contains(\"linux\") &&\n+                System.getProperty(\"os.version\").toLowerCase().contains(\"el\")) {\n+            Pattern p = Pattern.compile(\"el(\\\\d+)\");\n+            Matcher m = p.matcher(System.getProperty(\"os.version\"));\n+            if (m.find()) {\n+                try {\n+                    return Integer.parseInt(m.group(1)) <= 7;\n+                } catch (NumberFormatException nfe) {}\n+            }\n+        }\n+        return false;\n+    }\n+\n","filename":"test\/lib\/jdk\/test\/lib\/Platform.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -269,1 +269,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmdLine);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmdLine);\n@@ -447,1 +447,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(cmdLine);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmdLine);\n","filename":"test\/lib\/jdk\/test\/lib\/cds\/CDSTestUtils.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -116,1 +116,1 @@\n-                = ProcessTools.createJavaProcessBuilder(finalOptions.toArray(\n+                = ProcessTools.createLimitedTestJavaProcessBuilder(finalOptions.toArray(\n@@ -266,1 +266,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n@@ -336,1 +336,1 @@\n-        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder processBuilder = ProcessTools.createLimitedTestJavaProcessBuilder(\n","filename":"test\/lib\/jdk\/test\/lib\/cli\/CommandLineOptionTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -77,1 +77,1 @@\n-        ProcessBuilder pb = ProcessTools.createTestJvm(arguments);\n+        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(arguments);\n","filename":"test\/lib\/jdk\/test\/lib\/jfr\/AppExecutorHelper.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -380,10 +380,0 @@\n-    \/**\n-     * Create ProcessBuilder using the java launcher from the jdk to be tested.\n-     *\n-     * @param command Arguments to pass to the java command.\n-     * @return The ProcessBuilder instance representing the java command.\n-     *\/\n-    public static ProcessBuilder createJavaProcessBuilder(List<String> command) {\n-        return createJavaProcessBuilder(command.toArray(String[]::new));\n-    }\n-\n@@ -461,1 +451,1 @@\n-    public static ProcessBuilder createJavaProcessBuilder(String... command) {\n+    private static ProcessBuilder createJavaProcessBuilder(String... command) {\n@@ -516,2 +506,2 @@\n-    public static ProcessBuilder createTestJvm(List<String> command) {\n-        return createTestJvm(command.toArray(String[]::new));\n+    public static ProcessBuilder createTestJavaProcessBuilder(List<String> command) {\n+        return createTestJavaProcessBuilder(command.toArray(String[]::new));\n@@ -531,1 +521,1 @@\n-    public static ProcessBuilder createTestJvm(String... command) {\n+    public static ProcessBuilder createTestJavaProcessBuilder(String... command) {\n@@ -535,0 +525,44 @@\n+    \/**\n+     * Create ProcessBuilder using the java launcher from the jdk to\n+     * be tested.\n+     *\n+     * <p><b>Please observe that you likely should use\n+     * createTestJavaProcessBuilder() instead of this method because\n+     * createTestJavaProcessBuilder() will add JVM options from\n+     * \"test.vm.opts\" and \"test.java.opts\"<\/b> and this method will\n+     * not do that.\n+     *\n+     * <p>If you still chose to use\n+     * createLimitedTestJavaProcessBuilder() you should probably use\n+     * it in combination with <b>@requires vm.flagless<\/b> JTREG\n+     * anotation as to not waste energy and test resources.\n+     *\n+     * @param command Arguments to pass to the java command.\n+     * @return The ProcessBuilder instance representing the java command.\n+     *\/\n+    public static ProcessBuilder createLimitedTestJavaProcessBuilder(List<String> command) {\n+        return createLimitedTestJavaProcessBuilder(command.toArray(String[]::new));\n+    }\n+\n+   \/**\n+     * Create ProcessBuilder using the java launcher from the jdk to\n+     * be tested.\n+     *\n+     * <p><b>Please observe that you likely should use\n+     * createTestJavaProcessBuilder() instead of this method because\n+     * createTestJavaProcessBuilder() will add JVM options from\n+     * \"test.vm.opts\" and \"test.java.opts\"<\/b> and this method will\n+     * not do that.\n+     *\n+     * <p>If you still chose to use\n+     * createLimitedTestJavaProcessBuilder() you should probably use\n+     * it in combination with <b>@requires vm.flagless<\/b> JTREG\n+     * anotation as to not waste energy and test resources.\n+     *\n+     * @param command Arguments to pass to the java command.\n+     * @return The ProcessBuilder instance representing the java command.\n+     *\/\n+    public static ProcessBuilder createLimitedTestJavaProcessBuilder(String... command) {\n+        return createJavaProcessBuilder(command);\n+    }\n+\n@@ -566,1 +600,1 @@\n-        ProcessBuilder pb = createTestJvm(cmds);\n+        ProcessBuilder pb = createTestJavaProcessBuilder(cmds);\n","filename":"test\/lib\/jdk\/test\/lib\/process\/ProcessTools.java","additions":49,"deletions":15,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -143,0 +143,6 @@\n+  private native Object[] getResolvedReferences0(Class<?> aClass);\n+  public         Object[] getResolvedReferences(Class<?> aClass) {\n+    Objects.requireNonNull(aClass);\n+    return getResolvedReferences0(aClass);\n+  }\n+\n@@ -490,0 +496,2 @@\n+  public native void cleanMetaspaces();\n+\n","filename":"test\/lib\/jdk\/test\/whitebox\/WhiteBox.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -84,1 +84,5 @@\n-    int result = pthread_create(&thread, NULL, procedure, &helper);\n+    pthread_attr_t attr;\n+    pthread_attr_init(&attr);\n+    size_t stack_size = 0x100000;\n+    pthread_attr_setstacksize(&attr, stack_size);\n+    int result = pthread_create(&thread, &attr, procedure, &helper);\n@@ -88,0 +92,1 @@\n+    pthread_attr_destroy(&attr);\n","filename":"test\/lib\/native\/testlib_threads.h","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}
{"files":[{"patch":"@@ -87,1 +87,1 @@\n-                                              false);\n+                                              false).orElseThrow();\n","filename":"bots\/forward\/src\/main\/java\/org\/openjdk\/skara\/bots\/forward\/ForwardBot.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -169,1 +169,1 @@\n-            localHgRepo.fetch(source, \"testlock\");\n+            localHgRepo.fetch(source, \"testlock\").orElseThrow();\n@@ -186,1 +186,1 @@\n-            localHgRepo.fetch(source, \"default\");\n+            localHgRepo.fetch(source, \"default\").orElseThrow();\n@@ -386,1 +386,1 @@\n-            localHgRepo.fetch(source, \"testlock\");\n+            localHgRepo.fetch(source, \"testlock\").orElseThrow();\n@@ -415,1 +415,1 @@\n-            localHgRepo.fetch(source, \"testlock\");\n+            localHgRepo.fetch(source, \"testlock\").orElseThrow();\n","filename":"bots\/hgbridge\/src\/test\/java\/org\/openjdk\/skara\/bots\/hgbridge\/BridgeBotTests.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -266,1 +266,1 @@\n-            var fetchHead = repo.fetch(target.authenticatedUrl(), branch.hash().hex(), false);\n+            var fetchHead = repo.fetch(target.authenticatedUrl(), branch.hash().hex(), false).orElseThrow();\n@@ -450,1 +450,1 @@\n-                var fetchHead = repo.fetch(fromRepo.authenticatedUrl(), fromBranch.name(), false);\n+                var fetchHead = repo.fetch(fromRepo.authenticatedUrl(), fromBranch.name(), false).orElseThrow();\n","filename":"bots\/merge\/src\/main\/java\/org\/openjdk\/skara\/bots\/merge\/MergeBot.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -180,2 +180,1 @@\n-                localRepo.fetch(pr.repository().authenticatedUrl(), lastHead.hex(), false);\n-                return true;\n+                return localRepo.fetch(pr.repository().authenticatedUrl(), lastHead.hex(), false).isPresent();\n","filename":"bots\/mlbridge\/src\/main\/java\/org\/openjdk\/skara\/bots\/mlbridge\/ArchiveItem.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-                    var remoteHead = localRepo.fetch(bot.archiveRepo().authenticatedUrl(), bot.archiveRef(), false);\n+                    var remoteHead = localRepo.fetch(bot.archiveRepo().authenticatedUrl(), bot.archiveRef(), false).orElseThrow();\n","filename":"bots\/mlbridge\/src\/main\/java\/org\/openjdk\/skara\/bots\/mlbridge\/ArchiveWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-            var hash = localRepo.fetch(censusRepo.authenticatedUrl(), censusRef, false);\n+            var hash = localRepo.fetch(censusRepo.authenticatedUrl(), censusRef, false).orElseThrow();\n","filename":"bots\/mlbridge\/src\/main\/java\/org\/openjdk\/skara\/bots\/mlbridge\/CensusInstance.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -234,1 +234,1 @@\n-                        var updated = localStorage.fetch(remote, storageRef);\n+                        var updated = localStorage.fetch(remote, storageRef).orElseThrow();\n","filename":"bots\/mlbridge\/src\/main\/java\/org\/openjdk\/skara\/bots\/mlbridge\/WebrevStorage.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-            seedRepo.fetch(pr.repository().authenticatedUrl(), pr.headHash().hex());\n+            seedRepo.fetch(pr.repository().authenticatedUrl(), pr.headHash().hex()).orElseThrow();\n","filename":"bots\/notify\/src\/main\/java\/org\/openjdk\/skara\/bots\/notify\/prbranch\/PullRequestBranchNotifier.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -141,1 +141,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -210,1 +210,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/comment\/CommitCommentNotifierTests.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -767,1 +767,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -777,1 +777,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -787,1 +787,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -797,1 +797,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -1360,1 +1360,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"+history:history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"+history:history\").orElseThrow();\n@@ -1601,1 +1601,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -1656,1 +1656,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n@@ -2206,1 +2206,1 @@\n-            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyState = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/issue\/IssueNotifierTests.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -133,1 +133,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history:history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history:history\").orElseThrow();\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/json\/JsonNotifierTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -868,1 +868,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history:history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history:history\").orElseThrow();\n@@ -991,1 +991,1 @@\n-            localRepo.fetch(repo.authenticatedUrl(), \"history:history\");\n+            localRepo.fetch(repo.authenticatedUrl(), \"history:history\").orElseThrow();\n@@ -1161,1 +1161,1 @@\n-            var historyHash = localRepo.fetch(repo.authenticatedUrl(), \"history\");\n+            var historyHash = localRepo.fetch(repo.authenticatedUrl(), \"history\").orElseThrow();\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/mailinglist\/MailingListNotifierTests.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -91,1 +91,1 @@\n-            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)));\n+            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow());\n@@ -98,1 +98,1 @@\n-            hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -128,1 +128,1 @@\n-            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -139,1 +139,1 @@\n-            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)));\n+            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow());\n@@ -146,1 +146,1 @@\n-            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)));\n+            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow());\n@@ -153,1 +153,1 @@\n-            hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -183,1 +183,1 @@\n-            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -193,1 +193,1 @@\n-            hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -223,1 +223,1 @@\n-            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -261,1 +261,1 @@\n-            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr));\n+            var hash = localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow();\n@@ -276,1 +276,1 @@\n-            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)));\n+            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), PreIntegrations.preIntegrateBranch(pr)).orElseThrow());\n@@ -301,1 +301,1 @@\n-            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), targetBranch));\n+            assertThrows(IOException.class, () -> localRepo.fetch(repo.authenticatedUrl(), targetBranch).orElseThrow());\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/prbranch\/PullRequestBranchNotifierTests.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -304,2 +304,2 @@\n-                var fetchHead = localRepo.fetch(bot.repo().authenticatedUrl(), hash.hex(), false);\n-                var head = localRepo.fetch(targetRepo.authenticatedUrl(), targetBranchName, false);\n+                var fetchHead = localRepo.fetch(bot.repo().authenticatedUrl(), hash.hex(), false).orElseThrow();\n+                var head = localRepo.fetch(targetRepo.authenticatedUrl(), targetBranchName, false).orElseThrow();\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/BackportCommand.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-            localRepo.fetch(bot.repo().authenticatedUrl(), commit.hash().toString(), true);\n+            localRepo.fetch(bot.repo().authenticatedUrl(), commit.hash().toString(), true).orElseThrow();\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/BranchCommand.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-            localRepo.fetch(bot.repo().authenticatedUrl(), commit.hash().toString(), true);\n+            localRepo.fetch(bot.repo().authenticatedUrl(), commit.hash().toString(), true).orElseThrow();\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/TagCommand.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1289,1 +1289,1 @@\n-            localRepo.fetch(author.authenticatedUrl(), \"master\");\n+            localRepo.fetch(author.authenticatedUrl(), \"master\").orElseThrow();\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/IntegrateTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1445,1 +1445,1 @@\n-            localRepo.fetch(author.authenticatedUrl(), \"other\");\n+            localRepo.fetch(author.authenticatedUrl(), \"other\").orElseThrow();\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/MergeTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-            var currentMaster = localRepo.fetch(author.authenticatedUrl(), \"master\");\n+            var currentMaster = localRepo.fetch(author.authenticatedUrl(), \"master\").orElseThrow();\n@@ -138,1 +138,1 @@\n-            var finalMaster = localRepo.fetch(author.authenticatedUrl(), \"master\");\n+            var finalMaster = localRepo.fetch(author.authenticatedUrl(), \"master\").orElseThrow();\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/PreIntegrateTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-            var headHash = localRepo.fetch(pr.repository().authenticatedUrl(), pr.headHash().hex(), false);\n+            var headHash = localRepo.fetch(pr.repository().authenticatedUrl(), pr.headHash().hex(), false).orElseThrow();\n","filename":"bots\/submit\/src\/main\/java\/org\/openjdk\/skara\/bots\/submit\/SubmitBotWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -426,1 +426,1 @@\n-                fetchHead = localRepo.fetch(repository.authenticatedUrl(), pr.headHash().hex(), false);\n+                fetchHead = localRepo.fetch(repository.authenticatedUrl(), pr.headHash().hex(), false).orElseThrow();\n","filename":"bots\/tester\/src\/main\/java\/org\/openjdk\/skara\/bots\/tester\/TestWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -176,1 +176,1 @@\n-        var fetchHead = repo.fetch(fromURI, commit, false);\n+        var fetchHead = repo.fetch(fromURI, commit, false).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/GitBackport.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-            fetchHead = repo.fetch(sourceURI, name);\n+            fetchHead = repo.fetch(sourceURI, name).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/GitSync.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-        var fetchHead = repo.fetch(pr.repository().webUrl(), pr.fetchRef());\n+        var fetchHead = repo.fetch(pr.repository().webUrl(), pr.fetchRef()).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/pr\/GitPrApply.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-        var fetchHead = repo.fetch(pr.repository().webUrl(), pr.fetchRef());\n+        var fetchHead = repo.fetch(pr.repository().webUrl(), pr.fetchRef()).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/pr\/GitPrCheckout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-        var fetchHead = repo.fetch(pr.repository().webUrl(), pr.fetchRef());\n+        var fetchHead = repo.fetch(pr.repository().webUrl(), pr.fetchRef()).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/pr\/GitPrFetch.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -315,2 +315,2 @@\n-            var target = repo.fetch(url, pr.targetRef());\n-            var head = repo.fetch(url, pr.fetchRef());\n+            var target = repo.fetch(url, pr.targetRef()).orElseThrow();\n+            var head = repo.fetch(url, pr.fetchRef()).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/pr\/GitPrInfo.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-            var sourceHash = repo.fetch(pr.repository().webUrl(), pr.fetchRef());\n+            var sourceHash = repo.fetch(pr.repository().webUrl(), pr.fetchRef()).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/pr\/GitPrIntegrate.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-        var fetchHead = repo.fetch(pr.repository().url(), pr.fetchRef());\n+        var fetchHead = repo.fetch(pr.repository().url(), pr.fetchRef()).orElseThrow();\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/pr\/GitPrShow.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -200,1 +200,1 @@\n-        var refHash = localClone.fetch(remote, \"+\" + ref + \":hostedrepositorypool\", true, true);\n+        var refHash = localClone.fetch(remote, \"+\" + ref + \":hostedrepositorypool\", true, true).orElseThrow();\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/HostedRepositoryPool.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,2 +54,1 @@\n-            var hash = localRepo.fetch(uri, \"+\" + ref + \":refs\/heads\/merge_source\", false);\n-            return Optional.of(hash);\n+            return localRepo.fetch(uri, \"+\" + ref + \":refs\/heads\/merge_source\", false);\n@@ -62,2 +61,1 @@\n-            var hash = localRepo.fetch(uri, \"+\" + ref + \":refs\/tags\/merge_source_tag\", false);\n-            return Optional.of(hash);\n+            return localRepo.fetch(uri, \"+\" + ref + \":refs\/tags\/merge_source_tag\", false);\n@@ -167,1 +165,1 @@\n-        localRepo.fetch(pr.repository().authenticatedUrl(), \"+\" + pr.targetRef() + \":prutils_targetref\", false);\n+        localRepo.fetch(pr.repository().authenticatedUrl(), \"+\" + pr.targetRef() + \":prutils_targetref\", false).orElseThrow();\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/PullRequestUtils.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-                    var remoteHash = localRepository.fetch(hostedRepository.authenticatedUrl(), ref);\n+                    var remoteHash = localRepository.fetch(hostedRepository.authenticatedUrl(), ref).orElseThrow();\n","filename":"storage\/src\/main\/java\/org\/openjdk\/skara\/storage\/HostedRepositoryStorage.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -278,1 +278,1 @@\n-                sourceHash = targetLocalRepository.fetch(sourceUri, sourceRef);\n+                sourceHash = targetLocalRepository.fetch(sourceUri, sourceRef).orElseThrow();\n","filename":"test\/src\/main\/java\/org\/openjdk\/skara\/test\/TestPullRequest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-    default Hash fetch(URI uri, String refspec) throws IOException {\n+    default Optional<Hash> fetch(URI uri, String refspec) throws IOException {\n@@ -47,1 +47,1 @@\n-    default Hash fetch(URI uri, String refspec, boolean includeTags) throws IOException {\n+    default Optional<Hash> fetch(URI uri, String refspec, boolean includeTags) throws IOException {\n@@ -50,1 +50,1 @@\n-    Hash fetch(URI uri, String refspec, boolean includeTags, boolean forceUpdateTags) throws IOException;\n+    Optional<Hash> fetch(URI uri, String refspec, boolean includeTags, boolean forceUpdateTags) throws IOException;\n@@ -285,1 +285,1 @@\n-        var baseHash = localRepo.fetch(remote, ref);\n+        var baseHash = localRepo.fetch(remote, ref).orElseThrow();\n@@ -292,1 +292,1 @@\n-                baseHash = localRepo.fetch(remote, ref);\n+                baseHash = localRepo.fetch(remote, ref).orElseThrow();\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/Repository.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -490,1 +490,1 @@\n-    public Hash fetch(URI uri, String refspec, boolean includeTags, boolean forceUpdateTags) throws IOException {\n+    public Optional<Hash> fetch(URI uri, String refspec, boolean includeTags, boolean forceUpdateTags) throws IOException {\n@@ -505,1 +505,1 @@\n-            return resolve(\"FETCH_HEAD\").orElseThrow();\n+            return resolve(\"FETCH_HEAD\");\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/git\/GitRepository.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -465,1 +465,1 @@\n-    public Hash fetch(URI uri, String refspec, boolean includeTags, boolean forceUpdateTags) throws IOException {\n+    public Optional<Hash> fetch(URI uri, String refspec, boolean includeTags, boolean forceUpdateTags) throws IOException {\n@@ -482,1 +482,1 @@\n-    private Hash fetch(String from, String refspec) throws IOException {\n+    private Optional<Hash> fetch(String from, String refspec) throws IOException {\n@@ -506,1 +506,1 @@\n-            return head();\n+            return Optional.of(head());\n@@ -508,1 +508,1 @@\n-        return newHeads.iterator().next();\n+        return Optional.of(newHeads.iterator().next());\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/hg\/HgRepository.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -734,1 +734,1 @@\n-            r2.fetch(r1.root().toUri(), r1.defaultBranch().name());\n+            r2.fetch(r1.root().toUri(), r1.defaultBranch().name()).orElseThrow();\n@@ -817,1 +817,1 @@\n-                var fetchHead = downstream.fetch(upstreamURI, downstream.defaultBranch().name());\n+                var fetchHead = downstream.fetch(upstreamURI, downstream.defaultBranch().name()).orElseThrow();\n@@ -862,1 +862,1 @@\n-                downstream.fetch(upstreamURI, downstream.defaultBranch().name());\n+                downstream.fetch(upstreamURI, downstream.defaultBranch().name()).orElseThrow();\n@@ -872,1 +872,1 @@\n-                downstream.fetch(upstreamURI, downstream.defaultBranch().name(), true, true);\n+                downstream.fetch(upstreamURI, downstream.defaultBranch().name(), true, true).orElseThrow();\n@@ -2973,1 +2973,1 @@\n-                var fetchHead = downstream.fetch(upstreamURI, downstream.defaultBranch().name());\n+                var fetchHead = downstream.fetch(upstreamURI, downstream.defaultBranch().name()).orElseThrow();\n","filename":"vcs\/src\/test\/java\/org\/openjdk\/skara\/vcs\/RepositoryTests.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}
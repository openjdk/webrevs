{"files":[{"patch":"@@ -230,1 +230,2 @@\n-                        log.log(Level.WARNING, \"RestException during item execution (\" + item + \")\", e.getCause());\n+                        log.log(Level.WARNING, \"RestException during item execution (\" + item + \")\"\n+                                + e.getCause().getMessage(), e.getCause());\n@@ -475,1 +476,1 @@\n-                        log.log(Level.WARNING, \"RestException during periodic items checking\", e);\n+                        log.log(Level.WARNING, \"RestException during periodic items checking: \" + e.getMessage(), e);\n","filename":"bot\/src\/main\/java\/org\/openjdk\/skara\/bot\/BotRunner.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -92,0 +92,1 @@\n+        private boolean failOnEmptyResponse = false;\n@@ -215,0 +216,5 @@\n+        public QueryBuilder failOnEmptyResponse(boolean failOnEmptyResponse) {\n+            this.failOnEmptyResponse = failOnEmptyResponse;\n+            return this;\n+        }\n+\n@@ -498,0 +504,6 @@\n+        if (queryBuilder.failOnEmptyResponse && response.body().isBlank()) {\n+            throw new UncheckedRestException(\"Empty response body\"\n+                    + response.headers().firstValue(\"Location\").map(s -> \", redirect: \" + s).orElse(\"\"),\n+                    response.statusCode(), request.build());\n+        }\n+\n@@ -540,1 +552,1 @@\n-        return new QueryBuilder(RequestType.GET, endpoint);\n+        return new QueryBuilder(RequestType.GET, endpoint).failOnEmptyResponse(true);\n@@ -544,1 +556,1 @@\n-        return get(null);\n+        return get(null).failOnEmptyResponse(true);\n","filename":"network\/src\/main\/java\/org\/openjdk\/skara\/network\/RestRequest.java","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -41,0 +41,4 @@\n+    public UncheckedRestException(String message, int statusCode, HttpRequest request) {\n+        this(message, null, statusCode, request);\n+    }\n+\n","filename":"network\/src\/main\/java\/org\/openjdk\/skara\/network\/UncheckedRestException.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -46,2 +46,7 @@\n-        var repositories = new HashMap<IssueProject, List<HostedRepository>>();\n-        var repositoriesForCSR = new HashMap<IssueProject, List<HostedRepository>>();\n+        \/\/ IssueProject name to list of repositories\n+        var repositories = new HashMap<String, List<HostedRepository>>();\n+        \/\/ IssueProject name to list of repositories for csr\n+        var repositoriesForCSR = new HashMap<String, List<HostedRepository>>();\n+        \/\/ IssueProject name to IssueProject instance\n+        var issueProjectMap = new HashMap<String, IssueProject>();\n+        \/\/ PullRequestBot name to PullRequestBot instance\n@@ -49,1 +54,2 @@\n-        var issueProjectToIssuePRMapMap = new HashMap<IssueProject, Map<String, List<PRRecord>>>();\n+        \/\/ IssueProject name to IssuePRMap\n+        var issueProjectToIssuePRMapMap = new HashMap<String, Map<String, List<PRRecord>>>();\n@@ -157,1 +163,1 @@\n-                issueProject = configuration.issueProject(repo.value().get(\"issues\").asString());\n+                issueProject = issueProjectMap.computeIfAbsent(repo.value().get(\"issues\").asString(), configuration::issueProject);\n@@ -159,4 +165,4 @@\n-                repositories.putIfAbsent(issueProject, new ArrayList<>());\n-                repositories.get(issueProject).add(repository);\n-                issueProjectToIssuePRMapMap.putIfAbsent(issueProject, new ConcurrentHashMap<>());\n-                botBuilder.issuePRMap(issueProjectToIssuePRMapMap.get(issueProject));\n+                repositories.putIfAbsent(issueProject.name(), new ArrayList<>());\n+                repositories.get(issueProject.name()).add(repository);\n+                issueProjectToIssuePRMapMap.putIfAbsent(issueProject.name(), new ConcurrentHashMap<>());\n+                botBuilder.issuePRMap(issueProjectToIssuePRMapMap.get(issueProject.name()));\n@@ -187,2 +193,2 @@\n-                    repositoriesForCSR.putIfAbsent(issueProject, new ArrayList<>());\n-                    repositoriesForCSR.get(issueProject).add(repository);\n+                    repositoriesForCSR.putIfAbsent(issueProject.name(), new ArrayList<>());\n+                    repositoriesForCSR.get(issueProject.name()).add(repository);\n@@ -279,3 +285,3 @@\n-        for (var issueProject : repositoriesForCSR.keySet()) {\n-            ret.add(0, new CSRIssueBot(issueProject, repositoriesForCSR.get(issueProject), pullRequestBotMap,\n-                    issueProjectToIssuePRMapMap.get(issueProject)));\n+        for (var issueProjectName : repositoriesForCSR.keySet()) {\n+            ret.add(0, new CSRIssueBot(issueProjectMap.get(issueProjectName), repositoriesForCSR.get(issueProjectName), pullRequestBotMap,\n+                    issueProjectToIssuePRMapMap.get(issueProjectName)));\n@@ -285,3 +291,3 @@\n-        for (var issueProject : issueProjectToIssuePRMapMap.keySet()) {\n-            ret.add(0, new IssueBot(issueProject, repositories.get(issueProject), pullRequestBotMap,\n-                    issueProjectToIssuePRMapMap.get(issueProject)));\n+        for (var issueProjectName : issueProjectToIssuePRMapMap.keySet()) {\n+            ret.add(0, new IssueBot(issueProjectMap.get(issueProjectName), repositories.get(issueProjectName), pullRequestBotMap,\n+                    issueProjectToIssuePRMapMap.get(issueProjectName)));\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/PullRequestBotFactory.java","additions":22,"deletions":16,"binary":false,"changes":38,"status":"modified"}]}
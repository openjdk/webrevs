{"files":[{"patch":"@@ -83,0 +83,1 @@\n+    private boolean missingApprovalRequest = false;\n@@ -723,0 +724,2 @@\n+                                } else {\n+                                    missingApprovalRequest = true;\n@@ -1393,1 +1396,1 @@\n-            if (!PullRequestUtils.isMerge(pr) && !newLabels.contains(\"ready\") && !newLabels.contains(APPROVAL_LABEL)\n+            if (!PullRequestUtils.isMerge(pr) && !newLabels.contains(\"ready\") && missingApprovalRequest\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -167,0 +167,1 @@\n+            issue1.addLabel(\"CPU23_04-critical-request\");\n@@ -168,2 +169,3 @@\n-            issue1.setProperty(\"issuetype\", JSON.of(\"Bug\"));\n-            issue1.setProperty(\"priority\", JSON.of(\"2\"));\n+            issue2.setProperty(\"issuetype\", JSON.of(\"Bug\"));\n+            issue2.setProperty(\"priority\", JSON.of(\"2\"));\n+            issue2.addLabel(\"CPU23_04-critical-request\");\n@@ -212,0 +214,10 @@\n+            TestBotRunner.runPeriodicItems(prBot);\n+\n+            pr.addComment(\"\/approval 1 cancel\");\n+            TestBotRunner.runPeriodicItems(prBot);\n+            TestBotRunner.runPeriodicItems(issueBot);\n+            assertLastCommentContains(pr, \"This change is now ready for you to apply for [maintainer approval](https:\/\/example.com).\");\n+            pr.addComment(\"\/approval 2 cancel\");\n+            TestBotRunner.runPeriodicItems(prBot);\n+            TestBotRunner.runPeriodicItems(issueBot);\n+\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/ApprovalAndApproveCommandTests.java","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}
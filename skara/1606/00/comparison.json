{"files":[{"patch":"@@ -1378,12 +1378,0 @@\n-            if (approvalNeeded() && approval.approvalComment() && readyToPostApprovalNeededComment) {\n-                for (var entry : additionalProgresses.entrySet()) {\n-                    if (!entry.getKey().endsWith(\"needs \" + approval.approvalTerm()) && !entry.getValue()) {\n-                        readyToPostApprovalNeededComment = false;\n-                        break;\n-                    }\n-                }\n-                if (readyToPostApprovalNeededComment) {\n-                    postApprovalNeededComment();\n-                }\n-            }\n-\n@@ -1405,0 +1393,13 @@\n+            if (!PullRequestUtils.isMerge(pr) && !newLabels.contains(\"ready\") && !newLabels.contains(APPROVAL_LABEL)\n+                    && approvalNeeded() && approval.approvalComment() && readyToPostApprovalNeededComment) {\n+                for (var entry : additionalProgresses.entrySet()) {\n+                    if (!entry.getKey().endsWith(\"needs \" + approval.approvalTerm()) && !entry.getValue()) {\n+                        readyToPostApprovalNeededComment = false;\n+                        break;\n+                    }\n+                }\n+                if (readyToPostApprovalNeededComment) {\n+                    postApprovalNeededComment();\n+                }\n+            }\n+\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -135,1 +135,0 @@\n-            assertLastCommentContains(pr, \" This change is now ready for you to apply for [maintainer approval]\");\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/ApprovalAndApproveCommandTests.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -415,1 +415,1 @@\n-                    , pr.store().comments().get(1).body());\n+                    , pr.store().comments().get(2).body());\n@@ -429,1 +429,1 @@\n-                    , pr.store().comments().get(1).body());\n+                    , pr.store().comments().get(2).body());\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/IssueBotTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
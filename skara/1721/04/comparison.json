{"files":[{"patch":"@@ -108,1 +108,1 @@\n-    runs-on: \"windows-2019\"\n+    runs-on: \"windows-2025\"\n","filename":".github\/workflows\/ci.yml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+import org.junit.jupiter.api.BeforeAll;\n@@ -40,0 +41,1 @@\n+import static org.junit.jupiter.api.Assumptions.assumeTrue;\n@@ -262,0 +264,15 @@\n+    private static boolean hgAvailable = true;\n+\n+    @BeforeAll\n+    static void checkHgAvailability() {\n+        try {\n+            var pb = new ProcessBuilder(\"hg\", \"--version\");\n+            pb.redirectErrorStream(true);\n+            var process = pb.start();\n+            process.waitFor();\n+            hgAvailable = (process.exitValue() == 0);\n+        } catch (Exception e) {\n+            hgAvailable = false;\n+        }\n+    }\n+\n@@ -266,0 +283,1 @@\n+            assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -286,0 +304,1 @@\n+            assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -316,0 +335,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n","filename":"jcheck\/src\/test\/java\/org\/openjdk\/skara\/jcheck\/JCheckTests.java","additions":21,"deletions":1,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+import org.junit.jupiter.api.BeforeAll;\n@@ -37,0 +38,1 @@\n+import static org.junit.jupiter.api.Assumptions.assumeTrue;\n@@ -39,0 +41,15 @@\n+    private static boolean hgAvailable = true;\n+\n+    @BeforeAll\n+    static void checkHgAvailability() {\n+        try {\n+            var pb = new ProcessBuilder(\"hg\", \"--version\");\n+            pb.redirectErrorStream(true);\n+            var process = pb.start();\n+            process.waitFor();\n+            hgAvailable = (process.exitValue() == 0);\n+        } catch (Exception e) {\n+            hgAvailable = false;\n+        }\n+    }\n+\n@@ -52,0 +69,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -64,0 +82,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -76,0 +95,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -92,0 +112,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n","filename":"storage\/src\/test\/java\/org\/openjdk\/skara\/storage\/RepositoryStorageTests.java","additions":22,"deletions":1,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,2 @@\n+    private static boolean hgAvailable = true;\n+\n@@ -54,0 +56,10 @@\n+\n+        try {\n+            var pb = new ProcessBuilder(\"hg\", \"--version\");\n+            pb.redirectErrorStream(true);\n+            var process = pb.start();\n+            process.waitFor();\n+            hgAvailable = (process.exitValue() == 0);\n+        } catch (Exception e) {\n+            hgAvailable = false;\n+        }\n@@ -59,0 +71,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -67,0 +80,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -76,0 +90,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -84,1 +99,2 @@\n-    void testExistsOnSubdir() throws IOException {\n+    void testExistsOnSubdir(VCS vcs) throws IOException {\n+        assumeTrue(vcs == VCS.GIT);\n@@ -86,1 +102,1 @@\n-            var r = TestableRepository.init(dir.path(), VCS.GIT);\n+            var r = TestableRepository.init(dir.path(), vcs);\n@@ -98,1 +114,2 @@\n-    void testRootOnTopLevel() throws IOException {\n+    void testRootOnTopLevel(VCS vcs) throws IOException {\n+        assumeTrue(vcs == VCS.GIT);\n@@ -100,1 +117,1 @@\n-            var r = TestableRepository.init(dir.path(), VCS.GIT);\n+            var r = TestableRepository.init(dir.path(), vcs);\n@@ -108,0 +125,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -123,0 +141,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -132,0 +151,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -147,0 +167,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -167,0 +188,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -176,0 +198,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -203,0 +226,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -226,0 +250,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -254,0 +279,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -263,0 +289,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -343,0 +370,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -412,0 +440,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -471,0 +500,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -546,0 +576,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -571,0 +602,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -599,0 +631,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -672,0 +705,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -681,0 +715,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -697,0 +732,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -706,0 +742,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -722,0 +759,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -743,0 +781,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -752,0 +791,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -768,0 +808,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -778,0 +819,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -795,0 +837,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -838,0 +881,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -882,0 +926,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -925,0 +970,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -949,0 +995,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -998,0 +1045,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1067,0 +1115,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1130,0 +1179,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1179,0 +1229,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1229,0 +1280,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1276,0 +1328,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1302,0 +1355,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1339,0 +1393,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1366,0 +1421,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1419,0 +1475,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1503,0 +1560,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1513,0 +1571,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1525,0 +1584,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1541,0 +1601,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1551,0 +1612,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1572,0 +1634,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1597,0 +1660,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1633,0 +1697,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1657,0 +1722,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1677,0 +1743,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1762,0 +1829,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1784,0 +1852,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1811,0 +1880,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1852,0 +1922,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1873,0 +1944,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1941,0 +2013,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -1987,0 +2060,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2009,0 +2083,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2065,0 +2140,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2076,0 +2152,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2096,0 +2173,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2105,0 +2183,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2118,0 +2197,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2142,0 +2222,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2167,0 +2248,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2181,0 +2263,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2190,0 +2273,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2242,0 +2326,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2253,0 +2338,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2293,0 +2379,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2401,0 +2488,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2417,0 +2505,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2433,0 +2522,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2448,0 +2538,1 @@\n+        assumeTrue(!System.getProperty(\"os.name\").toLowerCase().contains(\"win\"));\n@@ -2476,0 +2567,1 @@\n+        assumeTrue(!System.getProperty(\"os.name\").toLowerCase().contains(\"win\"));\n@@ -2504,0 +2596,1 @@\n+        assumeTrue(!System.getProperty(\"os.name\").toLowerCase().contains(\"win\"));\n@@ -2576,0 +2669,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2621,0 +2715,1 @@\n+        assumeTrue(!System.getProperty(\"os.name\").toLowerCase().contains(\"win\"));\n@@ -2637,0 +2732,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2661,0 +2757,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2687,0 +2784,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2716,0 +2814,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2735,0 +2834,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2761,0 +2861,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2810,0 +2911,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2846,0 +2948,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2863,0 +2966,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2902,0 +3006,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -2944,0 +3049,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n","filename":"vcs\/src\/test\/java\/org\/openjdk\/skara\/vcs\/RepositoryTests.java","additions":111,"deletions":5,"binary":false,"changes":116,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,2 @@\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.BeforeEach;\n@@ -44,0 +46,1 @@\n+import static org.junit.jupiter.api.Assumptions.assumeTrue;\n@@ -46,0 +49,21 @@\n+\n+    private static boolean hgAvailable = true;\n+\n+    @BeforeAll\n+    static void checkHgAvailability() {\n+        try {\n+            var pb = new ProcessBuilder(\"hg\", \"--version\");\n+            pb.redirectErrorStream(true);\n+            var process = pb.start();\n+            process.waitFor();\n+            hgAvailable = (process.exitValue() == 0);\n+        } catch (Exception e) {\n+            hgAvailable = false;\n+        }\n+    }\n+\n+    @BeforeEach\n+    void assumeHgAvailable() {\n+        assumeTrue(hgAvailable);\n+    }\n+\n","filename":"vcs\/src\/test\/java\/org\/openjdk\/skara\/vcs\/openjdk\/converter\/GitToHgConverterTests.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,2 @@\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.BeforeEach;\n@@ -37,0 +39,1 @@\n+import static org.junit.jupiter.api.Assumptions.assumeTrue;\n@@ -39,0 +42,21 @@\n+\n+    private static boolean hgAvailable = true;\n+\n+    @BeforeAll\n+    static void checkHgAvailability() {\n+        try {\n+            var pb = new ProcessBuilder(\"hg\", \"--version\");\n+            pb.redirectErrorStream(true);\n+            var process = pb.start();\n+            process.waitFor();\n+            hgAvailable = (process.exitValue() == 0);\n+        } catch (Exception e) {\n+            hgAvailable = false;\n+        }\n+    }\n+\n+    @BeforeEach\n+    void assumeHgAvailable() {\n+        assumeTrue(hgAvailable);\n+    }\n+\n","filename":"vcs\/src\/test\/java\/org\/openjdk\/skara\/vcs\/openjdk\/converter\/HgToGitConverterTests.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+import org.junit.jupiter.api.BeforeAll;\n@@ -36,0 +37,1 @@\n+import static org.junit.jupiter.api.Assumptions.assumeTrue;\n@@ -38,0 +40,16 @@\n+\n+    private static boolean hgAvailable = true;\n+\n+    @BeforeAll\n+    static void checkHgAvailability() {\n+        try {\n+            var pb = new ProcessBuilder(\"hg\", \"--version\");\n+            pb.redirectErrorStream(true);\n+            var process = pb.start();\n+            process.waitFor();\n+            hgAvailable = (process.exitValue() == 0);\n+        } catch (Exception e) {\n+            hgAvailable = false;\n+        }\n+    }\n+\n@@ -46,0 +64,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -66,0 +85,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -85,0 +105,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -104,0 +125,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -123,0 +145,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -140,0 +163,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -160,0 +184,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n@@ -181,0 +206,1 @@\n+        assumeTrue(!(vcs == VCS.HG && !hgAvailable));\n","filename":"webrev\/src\/test\/java\/org\/openjdk\/skara\/webrev\/WebrevTests.java","additions":27,"deletions":1,"binary":false,"changes":28,"status":"modified"}]}
{"files":[{"patch":"@@ -51,0 +51,1 @@\n+    private Map<String, String> availableTransitions;\n@@ -240,1 +241,2 @@\n-    private void performTransition(String id) {\n+    private void performTransition(String state) {\n+        var id = availableTransitions.get(state);\n@@ -242,2 +244,7 @@\n-                        .put(\"transition\", JSON.object()\n-                                               .put(\"id\", id));\n+                .put(\"transition\", JSON.object()\n+                        .put(\"id\", id));\n+        if (state.equals(\"RESOLVED\")) {\n+            query.put(\"fields\", JSON.object()\n+                    .put(\"resolution\", JSON.object()\n+                            .put(\"name\", \"Fixed\")));\n+        }\n@@ -245,2 +252,2 @@\n-               .body(query)\n-               .execute();\n+                .body(query)\n+                .execute();\n@@ -251,1 +258,1 @@\n-        var availableTransitions = availableTransitions();\n+        availableTransitions = availableTransitions();\n@@ -261,1 +268,1 @@\n-                    performTransition(availableTransitions.get(\"Open\"));\n+                    performTransition(\"Open\");\n@@ -272,1 +279,1 @@\n-            performTransition(availableTransitions.get(\"Resolved\"));\n+            performTransition(\"Resolved\");\n@@ -276,1 +283,1 @@\n-                    performTransition(availableTransitions.get(\"Resolved\"));\n+                    performTransition(\"Resolved\");\n@@ -285,1 +292,1 @@\n-            performTransition(availableTransitions.get(\"Closed\"));\n+            performTransition(\"Closed\");\n@@ -290,1 +297,1 @@\n-            performTransition(availableTransitions.get(\"Open\"));\n+            performTransition(\"Open\");\n","filename":"issuetracker\/src\/main\/java\/org\/openjdk\/skara\/issuetracker\/jira\/JiraIssue.java","additions":18,"deletions":11,"binary":false,"changes":29,"status":"modified"}]}
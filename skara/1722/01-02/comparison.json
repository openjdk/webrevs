{"files":[{"patch":"@@ -342,17 +342,1 @@\n-        if (createNewFile) {\n-            \/\/ Use POST to create a new file\n-            request.post(\"repository\/files\/\" + encodedFileName)\n-                    .body(body)\n-                    .onError(writeFileContentsOnError(filename, content, branch))\n-                    .execute();\n-        } else {\n-            \/\/ USE PUT to update the file\n-            request.put(\"repository\/files\/\" + encodedFileName)\n-                    .body(body)\n-                    .onError(writeFileContentsOnError(filename, content, branch))\n-                    .execute();\n-        }\n-    }\n-\n-    private RestRequest.ErrorTransform writeFileContentsOnError(String filename, String content, Branch branch) {\n-        return response -> {\n+        RestRequest.ErrorTransform onError = response -> {\n@@ -374,0 +358,14 @@\n+\n+        if (createNewFile) {\n+            \/\/ Use POST to create a new file\n+            request.post(\"repository\/files\/\" + encodedFileName)\n+                    .body(body)\n+                    .onError(onError)\n+                    .execute();\n+        } else {\n+            \/\/ USE PUT to update the file\n+            request.put(\"repository\/files\/\" + encodedFileName)\n+                    .body(body)\n+                    .onError(onError)\n+                    .execute();\n+        }\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRepository.java","additions":15,"deletions":17,"binary":false,"changes":32,"status":"modified"}]}
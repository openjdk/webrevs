[{"commit":{"message":"- Release memory for the malloced new TsanOopMapTableKey after adding back to the TsanOopMap. Thanks manc@ for\n  noticing the memory leak.\n- Add TsanOopMapTableKey::TsanOopMapTableKey(const TsanOopMapTableKey& src, oop obj)."},"files":[{"filename":"src\/hotspot\/share\/tsan\/tsanOopMap.cpp"},{"filename":"src\/hotspot\/share\/tsan\/tsanOopMapTable.cpp"},{"filename":"src\/hotspot\/share\/tsan\/tsanOopMapTable.hpp"}],"sha":"e4f46136594ebbfbf7975ef2d949528a8eb35f07"},{"commit":{"message":"Change to call TsanOopMap::notify_tsan_for_freed_and_moved_objects from the last worker thread that completes\nthe parallel WeakProcessor::Task work:\n- Add WeakProcessor::Task::_nworkers_completed to track the completed workers. This is only used if\n  INCLUDE_TSAN is true.\n- Increment WeakProcessor::Task::_nworkers_completed in WeakProcessor::Task::work when each parallel worker\n  finishes work.\n\nWith the change, TsanOopMap::notify_tsan_for_freed_and_moved_objects is only called from one thread. This is\nto address the issue described in https:\/\/github.com\/openjdk\/tsan\/pull\/23#discussion_r1717793720."},"files":[{"filename":"src\/hotspot\/share\/gc\/shared\/weakProcessor.cpp"},{"filename":"src\/hotspot\/share\/gc\/shared\/weakProcessor.hpp"},{"filename":"src\/hotspot\/share\/gc\/shared\/weakProcessor.inline.hpp"},{"filename":"src\/hotspot\/share\/tsan\/tsanOopMap.cpp"},{"filename":"src\/hotspot\/share\/tsan\/tsanOopMapTable.cpp"}],"sha":"195af6463ed860f4857a62896bf395efcb53ba00"}]
{"files":[{"patch":"@@ -548,0 +548,1 @@\n+                    ctx->process_map();\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/GlassApplication.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -734,1 +734,2 @@\n-            is_fullscreen(false) {\n+            is_fullscreen(false),\n+            map_received(false) {\n@@ -974,0 +975,4 @@\n+void WindowContextTop::process_map() {\n+    map_received = true;\n+}\n+\n@@ -975,0 +980,4 @@\n+    if (!map_received) {\n+        return;\n+    }\n+\n@@ -978,7 +987,1 @@\n-    if (!is_maximized && !is_fullscreen) {\n-        geometry.final_width.value = (geometry.final_width.type == BOUNDSTYPE_CONTENT)\n-                ? event->width : ww;\n-\n-        geometry.final_height.value = (geometry.final_height.type == BOUNDSTYPE_CONTENT)\n-                ? event->height : wh;\n-    }\n+    bool is_floating = !is_iconified && !is_fullscreen && !is_maximized;\n@@ -1001,6 +1004,13 @@\n-    int x, y;\n-    gdk_window_get_origin(gdk_window, &x, &y);\n-    if (frame_type == TITLED && !is_fullscreen) {\n-        x -= geometry.extents.left;\n-        y -= geometry.extents.top;\n-    }\n+    if (is_floating) {\n+        geometry.final_width.value = (geometry.final_width.type == BOUNDSTYPE_CONTENT)\n+                ? event->width : ww;\n+\n+        geometry.final_height.value = (geometry.final_height.type == BOUNDSTYPE_CONTENT)\n+                ? event->height : wh;\n+\n+        int x, y;\n+        gdk_window_get_origin(gdk_window, &x, &y);\n+        if (frame_type == TITLED && !is_fullscreen) {\n+            x -= geometry.extents.left;\n+            y -= geometry.extents.top;\n+        }\n@@ -1008,3 +1018,4 @@\n-    geometry.x = x;\n-    geometry.y = y;\n-    notify_window_move();\n+        geometry.x = x;\n+        geometry.y = y;\n+        notify_window_move();\n+    }\n@@ -1027,0 +1038,7 @@\n+    bool is_floating = !is_iconified && !is_fullscreen && !is_maximized;\n+\n+    if (!is_floating) {\n+        \/\/ window is not floating on the screen\n+        return;\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.cpp","additions":35,"deletions":17,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -134,0 +134,1 @@\n+    virtual void process_map() = 0;\n@@ -274,0 +275,1 @@\n+    bool map_received;\n@@ -282,0 +284,1 @@\n+    void process_map();\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -304,1 +304,1 @@\n-         * Retrieves the style attributes from the previous character (or next, if at the beginning).\n+         * Retrieves the style attributes at the specified offset.\n@@ -309,1 +309,1 @@\n-            int off = 0;\n+            int pos = 0;\n@@ -314,1 +314,8 @@\n-                if (offset < (off + len) || (i == ct - 1)) {\n+                pos += len;\n+                if ((offset < len) || (i + 1 == ct)) {\n+                    return seg.getStyleAttributeMap();\n+                } else if (offset == len) {\n+                    \/\/ on the boundary, pick the previous segment\n+                    if (i > 0) {\n+                        seg = get(i - 1);\n+                    }\n@@ -317,1 +324,0 @@\n-                off += len;\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/RichTextModel.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -77,0 +77,1 @@\n+    private static final StyleAttributeMap ITALIC = StyleAttributeMap.builder().setItalic(true).build();\n@@ -472,0 +473,12 @@\n+    @Test\n+    public void insertBetweenSegments() {\n+        TextPos p = control.appendText(\"a\", BOLD);\n+        control.appendText(\"b\", ITALIC);\n+        control.select(p);\n+        control.insertTab();\n+        control.insertTab();\n+        assertEquals(\"a\\t\\tb\", text());\n+        control.select(TextPos.ofLeading(0, 2));\n+        assertEquals(BOLD, control.getActiveStyleAttributeMap());\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaTest.java","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"}]}
{"files":[{"patch":"@@ -439,1 +439,3 @@\n-     * Replaces text in this CodeArea.  This method creates an undo\/redo entry.\n+     * Replaces text in this CodeArea.\n+     * It creates an undo\/redo entry if the model's\n+     * {@link StyledTextModel#isUndoRedoEnabled() isUndoRedoEnabled()} returns {@code true}.\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/CodeArea.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1075,1 +1075,3 @@\n-     * sequences result in a new paragraph being added.  This method creates an undo\/redo entry.\n+     * sequences result in a new paragraph being added.\n+     * It creates an undo\/redo entry if the model's\n+     * {@link StyledTextModel#isUndoRedoEnabled() isUndoRedoEnabled()} returns {@code true}.\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/RichTextArea.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -633,0 +633,2 @@\n+     * It creates an undo\/redo entry if the model's\n+     * {@link StyledTextModel#isUndoRedoEnabled() isUndoRedoEnabled()} returns {@code true}.\n@@ -656,1 +658,1 @@\n-     * This method creates an undo\/redo entry.\n+     * It creates an undo\/redo entry if {@link #isUndoRedoEnabled()} returns {@code true}.\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/StyledTextModel.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -767,0 +767,31 @@\n+\n+    @Test\n+    public void undoRedoEnabled() {\n+        \/\/ api\n+        assertTrue(control.isUndoRedoEnabled());\n+        control.setUndoRedoEnabled(false);\n+        assertFalse(control.isUndoRedoEnabled());\n+        control.setModel(null);\n+        control.setUndoRedoEnabled(true);\n+        assertFalse(control.isUndoRedoEnabled());\n+        control.setModel(new RichTextModel());\n+        assertTrue(control.isUndoRedoEnabled());\n+        \/\/ undo-redo enabled\n+        control.appendText(\"1\");\n+        assertEquals(\"1\", text());\n+        control.undo();\n+        assertEquals(\"\", text());\n+        \/\/ undo-redo disabled\n+        control.setUndoRedoEnabled(false);\n+        control.appendText(\"2\");\n+        assertEquals(\"2\", text());\n+        control.undo();\n+        assertEquals(\"2\", text());\n+        \/\/ disabling undo-redo clears undo stack\n+        control.setUndoRedoEnabled(true);\n+        control.appendText(\"3\");\n+        assertEquals(\"23\", text());\n+        assertTrue(control.isUndoable());\n+        control.setUndoRedoEnabled(false);\n+        assertFalse(control.isUndoable());\n+    }\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaTest.java","additions":31,"deletions":0,"binary":false,"changes":31,"status":"modified"}]}
{"files":[{"patch":"@@ -68,0 +68,1 @@\n+    private boolean doVSync = false;\n@@ -310,0 +311,8 @@\n+    public final synchronized void setDoVSync(boolean value) {\n+        doVSync = value;\n+    }\n+\n+    public final synchronized boolean getDoVsync() {\n+        return doVSync;\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/tk\/quantum\/GlassScene.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -437,0 +437,3 @@\n+            }\n+\n+            for (final GlassScene gs : dirtyScenes) {\n@@ -441,0 +444,1 @@\n+                gs.setDoVSync(needsHint && dirtyScenes.getLast() == gs);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/tk\/quantum\/PaintCollector.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-                    if (!presentable.present()) {\n+                    if (!presentable.present(vs.getDoVsync())) {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/tk\/quantum\/PresentingPainter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,0 +60,4 @@\n+    public default boolean present(boolean vsync) {\n+        return present();\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/prism\/Presentable.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -186,2 +186,10 @@\n-        boolean presented = drawable.swapBuffers(context.getGLContext());\n-        context.makeCurrent(null);\n+        return drawable.swapBuffers(context.getGLContext());\n+    }\n+\n+    @Override\n+    public boolean present(boolean vsync) {\n+        boolean presented = present();\n+\n+        if (vsync)\n+            context.getGLContext().finish();\n+\n@@ -311,0 +319,1 @@\n+            context.makeCurrent(null);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/prism\/es2\/ES2SwapChain.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -266,0 +266,1 @@\n+    PFNGLXSWAPINTERVALEXTPROC glXSwapIntervalEXT;\n","filename":"modules\/javafx.graphics\/src\/main\/native-prism-es2\/PrismES2Defs.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -273,0 +273,8 @@\n+                \"GLX_EXT_swap_control\")) {\n+        ctxInfo->glXSwapIntervalEXT = (PFNGLXSWAPINTERVALEXTPROC)\n+                dlsym(RTLD_DEFAULT, \"glXSwapIntervalEXT\");\n+        if (ctxInfo->glXSwapIntervalEXT == NULL) {\n+            ctxInfo->glXSwapIntervalEXT = (PFNGLXSWAPINTERVALEXTPROC)\n+                glXGetProcAddress((const GLubyte *)\"glXSwapIntervalEXT\");\n+        }\n+    } else if (isExtensionSupported(ctxInfo->glxExtensionStr,\n@@ -281,1 +289,0 @@\n-\n@@ -284,3 +291,3 @@\n-    \/\/ initialize platform states and properties to match\n-    \/\/ cached states and properties\n-    if (ctxInfo->glXSwapIntervalSGI != NULL) {\n+    if (ctxInfo->glXSwapIntervalEXT != NULL) {\n+        ctxInfo->glXSwapIntervalEXT(dInfo->display, dInfo->win, 0);\n+    } else if (ctxInfo->glXSwapIntervalSGI != NULL) {\n@@ -289,0 +296,1 @@\n+\n@@ -336,1 +344,4 @@\n-    if (ctxInfo->glXSwapIntervalSGI != NULL) {\n+\n+    if (ctxInfo->glXSwapIntervalEXT != NULL) {\n+        ctxInfo->glXSwapIntervalEXT(dInfo->display, dInfo->win, interval);\n+    } else if (ctxInfo->glXSwapIntervalSGI != NULL) {\n","filename":"modules\/javafx.graphics\/src\/main\/native-prism-es2\/x11\/X11GLContext.c","additions":16,"deletions":5,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -91,0 +91,3 @@\n+    glxAttrs[index++] = GLX_CONFIG_CAVEAT;\n+    glxAttrs[index++] = GLX_NONE;\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-prism-es2\/x11\/X11GLFactory.c","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
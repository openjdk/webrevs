{"files":[{"patch":"@@ -30,2 +30,0 @@\n-import java.io.ByteArrayOutputStream;\n-import java.io.PrintStream;\n@@ -33,1 +31,0 @@\n-import java.util.concurrent.TimeUnit;\n@@ -35,1 +32,2 @@\n-import javafx.application.Platform;\n+\n+import test.util.Util;\n@@ -43,1 +41,0 @@\n-import static org.junit.Assert.fail;\n@@ -50,2 +47,0 @@\n-    private static final PrintStream defaultErrorStream = System.err;\n-    protected static final ByteArrayOutputStream out = new ByteArrayOutputStream();\n@@ -54,1 +49,1 @@\n-    static void doSetup() throws Exception {\n+    static void initFX() throws Exception {\n@@ -56,14 +51,1 @@\n-        System.setErr(new PrintStream(out, true));\n-\n-        Platform.startup(() -> {\n-            startupLatch.countDown();\n-        });\n-\n-        if (!startupLatch.await(15, TimeUnit.SECONDS)) {\n-            System.setErr(defaultErrorStream);\n-            System.err.println(out);\n-            fail(\"Timeout waiting for FX runtime to start\");\n-        }\n-\n-        Thread.sleep(250);\n-        System.setErr(defaultErrorStream);\n+        Util.startup(startupLatch, () -> startupLatch.countDown());\n@@ -73,2 +55,2 @@\n-    static void doTeardown() {\n-        Platform.exit();\n+    static void shutdown() {\n+        Util.shutdown();\n@@ -77,1 +59,1 @@\n-    static Stream<Arguments> getEndIndex() {\n+    static Stream<Arguments> getEndIndexParameters() {\n@@ -92,2 +74,2 @@\n-    @MethodSource\n-    public void getEndIndex(Integer expected, Integer startIndex, Integer length, Integer maxEndIndex) {\n+    @MethodSource(\"getEndIndexParameters\")\n+    public void testGetEndIndex(Integer expected, Integer startIndex, Integer length, Integer maxEndIndex) {\n","filename":"tests\/system\/src\/test\/java\/test\/com\/sun\/glass\/ui\/win\/WinTextRangeProviderTest.java","additions":9,"deletions":27,"binary":false,"changes":36,"status":"modified"}]}
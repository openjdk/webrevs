{"files":[{"patch":"@@ -579,0 +579,9 @@\n+defineProperty(\"JAVAC_WERROR\", \"true\")\n+ext.IS_JAVAC_WERROR = Boolean.parseBoolean(JAVAC_WERROR)\n+\n+defineProperty(\"TOOL_JAVAC_WERROR\", \"false\")\n+ext.IS_TOOL_JAVAC_WERROR = Boolean.parseBoolean(TOOL_JAVAC_WERROR)\n+\n+defineProperty(\"TEST_JAVAC_WERROR\", \"false\")\n+ext.IS_TEST_JAVAC_WERROR = Boolean.parseBoolean(TEST_JAVAC_WERROR)\n+\n@@ -2261,0 +2270,4 @@\n+    \/\/ FIXME: Remove this setting when JDK-8334137 is fixed\n+    \/\/ Disable javac -Werror until we stop using sun.misc.Unsafe\n+    project.ext.disableJavacWerror = true\n+\n@@ -2793,0 +2806,5 @@\n+    \/\/ We also need to disable the implicitly-enabled lint warning that\n+    \/\/ results from the above\n+    project.ext.extraLintOptions =\n+        \"-options\"\n+\n@@ -4124,0 +4142,4 @@\n+        def disableJavacWerror =\n+                project.hasProperty('disableJavacWerror') &&\n+                project.ext.disableJavacWerror\n+\n@@ -4135,2 +4157,3 @@\n-                \/\/ TODO: enable the following once we are lint clean\n-                \/\/compile.options.compilerArgs += \"-Werror\"\n+                if (IS_JAVAC_WERROR && !disableJavacWerror) {\n+                    compile.options.compilerArgs += \"-Werror\"\n+                }\n@@ -4149,0 +4172,4 @@\n+\n+                if (IS_TOOL_JAVAC_WERROR && !disableJavacWerror) {\n+                    compile.options.compilerArgs += \"-Werror\"\n+                }\n@@ -4159,0 +4186,4 @@\n+\n+                if (IS_TEST_JAVAC_WERROR && !disableJavacWerror) {\n+                    compile.options.compilerArgs += \"-Werror\"\n+                }\n","filename":"build.gradle","additions":33,"deletions":2,"binary":false,"changes":35,"status":"modified"}]}
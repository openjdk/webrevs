{"files":[{"patch":"@@ -328,0 +328,1 @@\n+            System.out.println(\"Window\/adjustSize(\" + selfSizePriority + \"): scene=\" + sceneWidth + \"x\" + sceneHeight + \"; explicitWH=\" + widthExplicit + \",\" + heightExplicit + \" final: setSize(\" + w + \", \" + h + \", \" + cw + \", \" + ch + \")\");\n@@ -1064,0 +1065,1 @@\n+            System.out.println(\"Window\/invalidationListener: shown changed to: \" + newVisible);\n@@ -1085,0 +1087,16 @@\n+                    System.out.println(\"Window\/invalidationListener: screen=\" + screen.get());\n+\n+                    \/*\n+                     * Apply bounds first so the peer is positioned on the correct\n+                     * screen before updating the output scales and before sizing\n+                     * the window to the size of the scene. Not doing so could result\n+                     * in the window being sized based using a different scale which\n+                     * can result in the scene being sized slightly too small or\n+                     * large which can cause controls to be rendered smaller than\n+                     * their preferred sizes (and show ellipsis on Labels for example).\n+                     *\/\n+\n+                    applyBounds();\n+\n+                    System.out.println(\"Window\/invalidationListener: after applying bounds screen=\" + screen.get());\n+\n@@ -1096,0 +1114,1 @@\n+                    System.out.println(\"Window\/invalidationListener: output scale used before sizing scene: \" + getRenderScaleX());\n@@ -1102,1 +1121,0 @@\n-                        SceneHelper.preferredSize(getScene());\n@@ -1107,0 +1125,17 @@\n+                        if (!isEmbeddedWindow) {\n+\n+                            \/*\n+                             * Only size the scene if both width and height are not set\n+                             * explicitly. The method name is a bit confusing, but it\n+                             * actually sets the scene to its preferred size, which\n+                             * should only be done if we need to know its width and\/or\n+                             * height (as the other dimension may have been set explicitly).\n+                             *\n+                             * After this call, adjustSize is called to ensure the Scene\n+                             * is again resized for the explicit dimension (if any).\n+                             *\/\n+\n+                            SceneHelper.preferredSize(getScene());\n+                            System.out.println(\"Window\/invalidationListener: size from scene: \" + getScene().getWidth() + \"x\" + getScene().getHeight());\n+                        }\n+\n@@ -1164,0 +1199,2 @@\n+\n+            System.out.println(\"Window\/invalidationListener: exit invalidation listener\");\n@@ -1509,0 +1546,2 @@\n+                System.out.println(\"Window\/peer: setBounds(\" + newX + \", \" + newY +\", \" + xSet + \", \" + ySet + \", winW:\" + newWW + \", \" + newWH + \", clientW:\" + newCW + \", \" + newCH + \", \" + newXG + \", \" + newYG +\", rsx:\" + newRX + \", rsy:\"+newRY +\")\");\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/stage\/Window.java","additions":40,"deletions":1,"binary":false,"changes":41,"status":"modified"}]}
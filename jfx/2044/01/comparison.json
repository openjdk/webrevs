{"files":[{"patch":"@@ -446,1 +446,1 @@\n-        sizePopup();\n+        sizePopup(true);\n@@ -461,1 +461,1 @@\n-        sizePopup();\n+        sizePopup(false);\n@@ -464,1 +464,1 @@\n-    private void sizePopup() {\n+    private void sizePopup(boolean first) {\n@@ -482,0 +482,1 @@\n+            double heightChange = h - r.getHeight();\n@@ -483,0 +484,12 @@\n+\n+            \/\/ Take into account whether the popup was autofixed for JDK-8338145\n+            \/\/ If it was and the height changed, we need to adjust the position as well\n+            \/\/ to retain the original position relative to the combo box itself\n+            if (!first && heightChange != 0.0) {\n+                \/\/ The popup does not directly store information on whether it was autofixed\n+                \/\/ We can determine this by looking whether it was moved upward\n+                boolean wasAutofixed = popup.getY() < getSkinnable().localToScreen(0, 0).getY();\n+                if (wasAutofixed) {\n+                    popup.setY(popup.getY() - heightChange);\n+                }\n+            }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/ComboBoxPopupControl.java","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"}]}
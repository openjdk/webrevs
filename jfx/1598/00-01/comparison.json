{"files":[{"patch":"@@ -390,3 +390,7 @@\n-                        \/\/ last fallback, try to see if the file exists with @1x suffix\n-                        String scaled1xName = ImageTools.getScaledImageName(input, 1);\n-                        theStream = ImageTools.createInputStream(scaled1xName);\n+                        try {\n+                            \/\/ last fallback, try to see if the file exists with @1x suffix\n+                            String scaled1xName = ImageTools.getScaledImageName(input, 1);\n+                            theStream = ImageTools.createInputStream(scaled1xName);\n+                        } catch (IOException e) {\n+                            throw new IOException(e.getMessage() + \" (original resource path: \" + input + \")\");\n+                        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/iio\/ImageStorage.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -70,0 +70,24 @@\n+    @Test\n+    public void testImageLoadNoFallbackWith1xPresent() throws ImageStorageException {\n+        \/\/ lightblue.png is 40x40, but lightblue@1x.png is 50x50\n+        \/\/ we want to make sure we load the 40x40 version unless explicitly stated\n+        String path = getResourcePath(\"lightblue.png\");\n+        ImageStorage img = new ImageStorage();\n+        ImageFrame[] frames = img.loadAll(path, null, 0, 0, true, 1.0f, true);\n+        assertNotNull(frames);\n+        assertEquals(1, frames.length);\n+\n+        assertEquals(40, frames[0].getWidth());\n+        assertEquals(40, frames[0].getHeight());\n+\n+        \/\/ confidence check - load lightblue@1x.png and make sure it's different\n+        String path1x = getResourcePath(\"lightblue@1x.png\");\n+        ImageStorage img1x = new ImageStorage();\n+        ImageFrame[] frames1x = img1x.loadAll(path1x, null, 0, 0, true, 1.0f, true);\n+        assertNotNull(frames1x);\n+        assertEquals(1, frames1x.length);\n+\n+        assertEquals(50, frames1x[0].getWidth());\n+        assertEquals(50, frames1x[0].getHeight());\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/iio\/ImageStorageTest.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"filename":"modules\/javafx.graphics\/src\/test\/resources\/test\/com\/sun\/javafx\/iio\/lightblue.png","binary":true,"status":"added"},{"filename":"modules\/javafx.graphics\/src\/test\/resources\/test\/com\/sun\/javafx\/iio\/lightblue@1x.png","binary":true,"status":"added"}]}
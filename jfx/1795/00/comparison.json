{"files":[{"patch":"@@ -205,1 +205,1 @@\n-    public MenuBarSkin(final MenuBar control) {\n+    public MenuBarSkin(MenuBar control) {\n@@ -211,0 +211,5 @@\n+    }\n+\n+    @Override\n+    public void install() {\n+        MenuBar control = getSkinnable();\n@@ -655,1 +660,0 @@\n-    \/** {@inheritDoc} *\/\n@@ -658,3 +662,4 @@\n-        if (getSkinnable() == null) {\n-            return;\n-        }\n+        if (Platform.isFxApplicationThread()) {\n+            if (getSkinnable() == null) {\n+                return;\n+            }\n@@ -662,4 +667,4 @@\n-        if (sceneListenerHelper != null) {\n-            sceneListenerHelper.disconnect();\n-            sceneListenerHelper = null;\n-        }\n+            if (sceneListenerHelper != null) {\n+                sceneListenerHelper.disconnect();\n+                sceneListenerHelper = null;\n+            }\n@@ -667,3 +672,3 @@\n-        cleanUpListeners();\n-        cleanUpSystemMenu();\n-        getChildren().remove(container);\n+            cleanUpListeners();\n+            cleanUpSystemMenu();\n+            getChildren().remove(container);\n@@ -671,2 +676,5 @@\n-        \/\/ call super.dispose last since it sets control to null\n-        super.dispose();\n+            \/\/ call super.dispose last since it sets control to null\n+            super.dispose();\n+        } else {\n+            Platform.runLater(this::dispose);\n+        }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/MenuBarSkin.java","additions":22,"deletions":14,"binary":false,"changes":36,"status":"modified"}]}
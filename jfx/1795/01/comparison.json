{"files":[{"patch":"@@ -668,1 +668,7 @@\n-        cleanUpSystemMenu();\n+\n+        if (Platform.isFxApplicationThread()) {\n+            cleanUpSystemMenu();\n+        } else {\n+            Platform.runLater(this::cleanUpSystemMenu);\n+        }\n+\n@@ -1021,0 +1027,1 @@\n+    \/\/ always called in the fx application thread\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/MenuBarSkin.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -755,3 +755,7 @@\n-            \/\/ exercise skin installation and disposal code paths\n-            c.setSkin(new MenuBarSkin(c));\n-            c.setSkin(new MenuBarSkin(c));\n+            if (nextBoolean()) {\n+                c.setSkin(new MenuBarSkin(c));\n+                if (nextBoolean()) {\n+                    \/\/ exercise skin installation and disposal code paths\n+                    c.setSkin(new MenuBarSkin(c));\n+                }\n+            }\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/NodeInitializationStressTest.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}
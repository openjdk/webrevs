{"files":[{"patch":"@@ -64,0 +64,1 @@\n+- (jobject)getPlatformPreferences;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassApplication.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -43,1 +43,0 @@\n-#import <Network\/Network.h>\n@@ -143,1 +142,3 @@\n-@implementation GlassApplication\n+@implementation GlassApplication {\n+    PlatformSupport* platformSupport;\n+}\n@@ -181,19 +182,0 @@\n-- (void)platformPreferencesDidChange {\n-    \/\/ Some dynamic colors like NSColor.controlAccentColor don't seem to be reliably updated\n-    \/\/ at the exact moment AppleColorPreferencesChangedNotification is received.\n-    \/\/ As a workaround, we wait for a short period of time (one second seems sufficient) before\n-    \/\/ we query the updated platform preferences.\n-\n-    [NSObject cancelPreviousPerformRequestsWithTarget:self\n-              selector:@selector(updatePlatformPreferences)\n-              object:nil];\n-\n-    [self performSelector:@selector(updatePlatformPreferences)\n-          withObject:nil\n-          afterDelay:1.0];\n-}\n-\n-- (void)updatePlatformPreferences {\n-    [PlatformSupport updatePreferences:self->jApplication];\n-}\n-\n@@ -208,0 +190,1 @@\n+        self->platformSupport = [[PlatformSupport alloc] initWithEnv:env application:jApplication];\n@@ -239,30 +222,0 @@\n-                        [[NSNotificationCenter defaultCenter] addObserver:self\n-                                                              selector:@selector(platformPreferencesDidChange)\n-                                                              name:NSPreferredScrollerStyleDidChangeNotification\n-                                                              object:nil];\n-\n-                        [[NSDistributedNotificationCenter defaultCenter] addObserver:self\n-                                                                         selector:@selector(platformPreferencesDidChange)\n-                                                                         name:@\"AppleInterfaceThemeChangedNotification\"\n-                                                                         object:nil];\n-\n-                        [[NSDistributedNotificationCenter defaultCenter] addObserver:self\n-                                                                         selector:@selector(platformPreferencesDidChange)\n-                                                                         name:@\"AppleColorPreferencesChangedNotification\"\n-                                                                         object:nil];\n-\n-                        [[[NSWorkspace sharedWorkspace] notificationCenter]\n-                            addObserver:self\n-                            selector:@selector(platformPreferencesDidChange)\n-                            name:NSWorkspaceAccessibilityDisplayOptionsDidChangeNotification\n-                            object:nil];\n-\n-                        nw_path_monitor_t pathMonitor = nw_path_monitor_create();\n-                        nw_path_monitor_set_update_handler(pathMonitor, ^(nw_path_t path) {\n-                            [PlatformSupport updateNetworkPath:self->jApplication\n-                                             constrained:nw_path_is_constrained(path)\n-                                             expensive:nw_path_is_expensive(path)];\n-                        });\n-                        nw_path_monitor_set_queue(pathMonitor, dispatch_get_main_queue());\n-                        nw_path_monitor_start(pathMonitor);\n-\n@@ -792,0 +745,5 @@\n+- (jobject)getPlatformPreferences\n+{\n+    return platformSupport != nil ? [platformSupport collectPreferences] : nil;\n+}\n+\n@@ -1312,1 +1270,2 @@\n-    return [PlatformSupport collectPreferences];\n+    GlassApplication* app = (GlassApplication*)[NSApp delegate];\n+    return [app getPlatformPreferences];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassApplication.m","additions":11,"deletions":52,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -31,1 +31,4 @@\n-@interface PlatformSupport : NSObject\n+@interface PlatformSupport : NSObject {\n+    JNIEnv* env;\n+    jobject application;\n+}\n@@ -36,1 +39,1 @@\n- * Collect all platform preferences and return them as a new java\/util\/Map.\n+ * Initializes a new PlatformSupport instance.\n@@ -38,1 +41,1 @@\n-+ (jobject)collectPreferences;\n+- (id)initWithEnv:(JNIEnv*)env application:(jobject)app;\n@@ -41,7 +44,1 @@\n- * Collect all platform preferences and notify the JavaFX application when a preference has changed.\n- * The change notification includes all preferences, not only the changed preferences.\n- *\/\n-+ (void)updatePreferences:(jobject)application;\n-\n-\/**\n- * Notify the JavaFX application about changes of the current network path.\n+ * Collect all platform preferences and return them as a new java\/util\/Map.\n@@ -49,1 +46,1 @@\n-+ (void)updateNetworkPath:(jobject)application constrained:(bool)constrained expensive:(bool)expensive;\n+- (jobject)collectPreferences;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/PlatformSupport.h","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#import <Network\/Network.h>\n@@ -66,5 +67,5 @@\n-static jobject currentPreferences = nil;\n-static bool currentPathConstrained = false;\n-static bool currentPathExpensive = false;\n-\n-@implementation PlatformSupport\n+@implementation PlatformSupport {\n+    jobject currentPreferences;\n+    bool currentPathConstrained;\n+    bool currentPathExpensive;\n+}\n@@ -93,2 +94,59 @@\n-+ (jobject)collectPreferences {\n-    GET_MAIN_JENV;\n+- (id)initWithEnv:(JNIEnv*)jEnv application:(jobject)jApp {\n+    if (!(self = [super init])) {\n+        return nil;\n+    }\n+\n+    self->env = jEnv;\n+    self->application = jApp;\n+    self->currentPreferences = nil;\n+    self->currentPathConstrained = false;\n+    self->currentPathExpensive = false;\n+\n+    [[NSNotificationCenter defaultCenter] addObserver:self\n+                                          selector:@selector(platformPreferencesDidChange)\n+                                          name:NSPreferredScrollerStyleDidChangeNotification\n+                                          object:nil];\n+\n+    [[NSDistributedNotificationCenter defaultCenter] addObserver:self\n+                                                     selector:@selector(platformPreferencesDidChange)\n+                                                     name:@\"AppleInterfaceThemeChangedNotification\"\n+                                                     object:nil];\n+\n+    [[NSDistributedNotificationCenter defaultCenter] addObserver:self\n+                                                     selector:@selector(platformPreferencesDidChange)\n+                                                     name:@\"AppleColorPreferencesChangedNotification\"\n+                                                     object:nil];\n+\n+    [[[NSWorkspace sharedWorkspace] notificationCenter]\n+        addObserver:self\n+        selector:@selector(platformPreferencesDidChange)\n+        name:NSWorkspaceAccessibilityDisplayOptionsDidChangeNotification\n+        object:nil];\n+\n+    nw_path_monitor_t pathMonitor = nw_path_monitor_create();\n+    nw_path_monitor_set_update_handler(pathMonitor, ^(nw_path_t path) {\n+        self->currentPathConstrained = nw_path_is_constrained(path);\n+        self->currentPathExpensive = nw_path_is_expensive(path);\n+        [self updatePreferences];\n+    });\n+\n+    nw_path_monitor_set_queue(pathMonitor, dispatch_get_main_queue());\n+    nw_path_monitor_start(pathMonitor);\n+\n+    return self;\n+}\n+\n+- (void)platformPreferencesDidChange {\n+    \/\/ Some dynamic colors like NSColor.controlAccentColor don't seem to be reliably updated\n+    \/\/ at the exact moment AppleColorPreferencesChangedNotification is received.\n+    \/\/ As a workaround, we wait for a short period of time (one second seems sufficient) before\n+    \/\/ we query the updated platform preferences.\n+\n+    [NSObject cancelPreviousPerformRequestsWithTarget:self\n+              selector:@selector(updatePreferences)\n+              object:nil];\n+\n+    [self performSelector:@selector(updatePreferences)\n+          withObject:nil\n+          afterDelay:1.0];\n+}\n@@ -96,0 +154,1 @@\n+- (jobject)collectPreferences {\n@@ -108,1 +167,1 @@\n-    [PlatformSupport queryNSColors:preferences];\n+    [self queryNSColors:preferences];\n@@ -111,3 +170,3 @@\n-    [PlatformSupport putBoolean:preferences\n-                     key:\"macOS.NSWorkspace.accessibilityDisplayShouldReduceMotion\"\n-                     value:[[NSWorkspace sharedWorkspace] accessibilityDisplayShouldReduceMotion]];\n+    [self putBoolean:preferences\n+          key:\"macOS.NSWorkspace.accessibilityDisplayShouldReduceMotion\"\n+          value:[[NSWorkspace sharedWorkspace] accessibilityDisplayShouldReduceMotion]];\n@@ -115,3 +174,3 @@\n-    [PlatformSupport putBoolean:preferences\n-                     key:\"macOS.NSWorkspace.accessibilityDisplayShouldReduceTransparency\"\n-                     value:[[NSWorkspace sharedWorkspace] accessibilityDisplayShouldReduceTransparency]];\n+    [self putBoolean:preferences\n+          key:\"macOS.NSWorkspace.accessibilityDisplayShouldReduceTransparency\"\n+          value:[[NSWorkspace sharedWorkspace] accessibilityDisplayShouldReduceTransparency]];\n@@ -119,4 +178,4 @@\n-    [PlatformSupport putString:preferences\n-                     key:\"macOS.NSScroller.preferredScrollerStyle\"\n-                     value:[NSScroller preferredScrollerStyle] == NSScrollerStyleOverlay\n-                        ? \"NSScrollerStyleOverlay\" : \"NSScrollerStyleLegacy\"];\n+    [self putString:preferences\n+          key:\"macOS.NSScroller.preferredScrollerStyle\"\n+          value:[NSScroller preferredScrollerStyle] == NSScrollerStyleOverlay\n+              ? \"NSScrollerStyleOverlay\" : \"NSScrollerStyleLegacy\"];\n@@ -124,3 +183,3 @@\n-    [PlatformSupport putBoolean:preferences\n-                     key:\"macOS.NWPathMonitor.currentPathConstrained\"\n-                     value:currentPathConstrained];\n+    [self putBoolean:preferences\n+          key:\"macOS.NWPathMonitor.currentPathConstrained\"\n+          value:currentPathConstrained];\n@@ -128,3 +187,3 @@\n-    [PlatformSupport putBoolean:preferences\n-                     key:\"macOS.NWPathMonitor.currentPathExpensive\"\n-                     value:currentPathExpensive];\n+    [self putBoolean:preferences\n+          key:\"macOS.NWPathMonitor.currentPathExpensive\"\n+          value:currentPathExpensive];\n@@ -135,1 +194,1 @@\n-+ (void)queryNSColors:(jobject)preferences {\n+- (void)queryNSColors:(jobject)preferences {\n@@ -137,4 +196,4 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.labelColor\" value:[NSColor labelColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.secondaryLabelColor\" value:[NSColor secondaryLabelColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.tertiaryLabelColor\" value:[NSColor tertiaryLabelColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.quaternaryLabelColor\" value:[NSColor quaternaryLabelColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.labelColor\" value:[NSColor labelColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.secondaryLabelColor\" value:[NSColor secondaryLabelColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.tertiaryLabelColor\" value:[NSColor tertiaryLabelColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.quaternaryLabelColor\" value:[NSColor quaternaryLabelColor]];\n@@ -143,8 +202,8 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.textColor\" value:[NSColor textColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.placeholderTextColor\" value:[NSColor placeholderTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.selectedTextColor\" value:[NSColor selectedTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.textBackgroundColor\" value:[NSColor textBackgroundColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.selectedTextBackgroundColor\" value:[NSColor selectedTextBackgroundColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.keyboardFocusIndicatorColor\" value:[NSColor keyboardFocusIndicatorColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.unemphasizedSelectedTextColor\" value:[NSColor unemphasizedSelectedTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.unemphasizedSelectedTextBackgroundColor\" value:[NSColor unemphasizedSelectedTextBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.textColor\" value:[NSColor textColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.placeholderTextColor\" value:[NSColor placeholderTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.selectedTextColor\" value:[NSColor selectedTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.textBackgroundColor\" value:[NSColor textBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.selectedTextBackgroundColor\" value:[NSColor selectedTextBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.keyboardFocusIndicatorColor\" value:[NSColor keyboardFocusIndicatorColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.unemphasizedSelectedTextColor\" value:[NSColor unemphasizedSelectedTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.unemphasizedSelectedTextBackgroundColor\" value:[NSColor unemphasizedSelectedTextBackgroundColor]];\n@@ -153,4 +212,4 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.linkColor\" value:[NSColor linkColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.separatorColor\" value:[NSColor separatorColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.selectedContentBackgroundColor\" value:[NSColor selectedContentBackgroundColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.unemphasizedSelectedContentBackgroundColor\" value:[NSColor unemphasizedSelectedContentBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.linkColor\" value:[NSColor linkColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.separatorColor\" value:[NSColor separatorColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.selectedContentBackgroundColor\" value:[NSColor selectedContentBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.unemphasizedSelectedContentBackgroundColor\" value:[NSColor unemphasizedSelectedContentBackgroundColor]];\n@@ -159,1 +218,1 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.selectedMenuItemTextColor\" value:[NSColor selectedMenuItemTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.selectedMenuItemTextColor\" value:[NSColor selectedMenuItemTextColor]];\n@@ -162,3 +221,3 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.gridColor\" value:[NSColor gridColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.headerTextColor\" value:[NSColor headerTextColor]];\n-    [PlatformSupport putColors:preferences key:\"macOS.NSColor.alternatingContentBackgroundColors\" value:[NSColor alternatingContentBackgroundColors]];\n+    [self putColor:preferences key:\"macOS.NSColor.gridColor\" value:[NSColor gridColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.headerTextColor\" value:[NSColor headerTextColor]];\n+    [self putColors:preferences key:\"macOS.NSColor.alternatingContentBackgroundColors\" value:[NSColor alternatingContentBackgroundColors]];\n@@ -167,8 +226,8 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.controlAccentColor\" value:[NSColor controlAccentColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.controlColor\" value:[NSColor controlColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.controlBackgroundColor\" value:[NSColor controlBackgroundColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.controlTextColor\" value:[NSColor controlTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.disabledControlTextColor\" value:[NSColor disabledControlTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.selectedControlColor\" value:[NSColor selectedControlColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.selectedControlTextColor\" value:[NSColor selectedControlTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.alternateSelectedControlTextColor\" value:[NSColor alternateSelectedControlTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.controlAccentColor\" value:[NSColor controlAccentColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.controlColor\" value:[NSColor controlColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.controlBackgroundColor\" value:[NSColor controlBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.controlTextColor\" value:[NSColor controlTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.disabledControlTextColor\" value:[NSColor disabledControlTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.selectedControlColor\" value:[NSColor selectedControlColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.selectedControlTextColor\" value:[NSColor selectedControlTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.alternateSelectedControlTextColor\" value:[NSColor alternateSelectedControlTextColor]];\n@@ -184,1 +243,1 @@\n-        [PlatformSupport putString:preferences key:\"macOS.NSColor.currentControlTint\" value:controlTint];\n+        [self putString:preferences key:\"macOS.NSColor.currentControlTint\" value:controlTint];\n@@ -188,3 +247,3 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.windowBackgroundColor\" value:[NSColor windowBackgroundColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.windowFrameTextColor\" value:[NSColor windowFrameTextColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.underPageBackgroundColor\" value:[NSColor underPageBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.windowBackgroundColor\" value:[NSColor windowBackgroundColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.windowFrameTextColor\" value:[NSColor windowFrameTextColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.underPageBackgroundColor\" value:[NSColor underPageBackgroundColor]];\n@@ -193,3 +252,3 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.findHighlightColor\" value:[NSColor findHighlightColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.highlightColor\" value:[NSColor highlightColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.shadowColor\" value:[NSColor shadowColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.findHighlightColor\" value:[NSColor findHighlightColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.highlightColor\" value:[NSColor highlightColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.shadowColor\" value:[NSColor shadowColor]];\n@@ -198,11 +257,11 @@\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemBlueColor\" value:[NSColor systemBlueColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemBrownColor\" value:[NSColor systemBrownColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemGrayColor\" value:[NSColor systemGrayColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemGreenColor\" value:[NSColor systemGreenColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemIndigoColor\" value:[NSColor systemIndigoColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemOrangeColor\" value:[NSColor systemOrangeColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemPinkColor\" value:[NSColor systemPinkColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemPurpleColor\" value:[NSColor systemPurpleColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemRedColor\" value:[NSColor systemRedColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemTealColor\" value:[NSColor systemTealColor]];\n-    [PlatformSupport putColor:preferences key:\"macOS.NSColor.systemYellowColor\" value:[NSColor systemYellowColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemBlueColor\" value:[NSColor systemBlueColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemBrownColor\" value:[NSColor systemBrownColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemGrayColor\" value:[NSColor systemGrayColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemGreenColor\" value:[NSColor systemGreenColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemIndigoColor\" value:[NSColor systemIndigoColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemOrangeColor\" value:[NSColor systemOrangeColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemPinkColor\" value:[NSColor systemPinkColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemPurpleColor\" value:[NSColor systemPurpleColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemRedColor\" value:[NSColor systemRedColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemTealColor\" value:[NSColor systemTealColor]];\n+    [self putColor:preferences key:\"macOS.NSColor.systemYellowColor\" value:[NSColor systemYellowColor]];\n@@ -211,3 +270,5 @@\n-+ (void)updatePreferences:(jobject)application {\n-    GET_MAIN_JENV;\n-\n+\/**\n+ * Collect all platform preferences and notify the JavaFX application when a preference has changed.\n+ * The change notification includes all preferences, not only the changed preferences.\n+ *\/\n+- (void)updatePreferences {\n@@ -248,9 +309,1 @@\n-+ (void)updateNetworkPath:(jobject)application constrained:(bool)constrained expensive:(bool)expensive {\n-    currentPathConstrained = constrained;\n-    currentPathExpensive = expensive;\n-    [PlatformSupport updatePreferences:application];\n-}\n-\n-+ (void)putBoolean:(jobject)preferences key:(const char*)key value:(bool)value {\n-    GET_MAIN_JENV;\n-\n+- (void)putBoolean:(jobject)preferences key:(const char*)key value:(bool)value {\n@@ -267,3 +320,1 @@\n-+ (void)putString:(jobject)preferences key:(const char*)key value:(const char*)value {\n-    GET_MAIN_JENV;\n-\n+- (void)putString:(jobject)preferences key:(const char*)key value:(const char*)value {\n@@ -283,3 +334,1 @@\n-+ (void)putColor:(jobject)preferences key:(const char*)colorName value:(NSColor*)color {\n-    GET_MAIN_JENV;\n-\n+- (void)putColor:(jobject)preferences key:(const char*)colorName value:(NSColor*)color {\n@@ -302,3 +351,1 @@\n-+ (void)putColors:(jobject)preferences key:(const char*)colorName value:(NSArray*)colors {\n-    GET_MAIN_JENV;\n-\n+- (void)putColors:(jobject)preferences key:(const char*)colorName value:(NSArray*)colors {\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/PlatformSupport.m","additions":139,"deletions":92,"binary":false,"changes":231,"status":"modified"}]}
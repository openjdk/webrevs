{"files":[{"patch":"@@ -67,0 +67,1 @@\n+import com.sun.javafx.scene.traversal.TraversalUtils;\n@@ -663,2 +664,5 @@\n-            \/\/ auto-scroll so node is within (0,0),(contentWidth,contentHeight)\n-            scrollBoundsIntoView(ev.getBounds());\n+            \/\/ auto-scroll node to view\n+            Bounds b = TraversalUtils.getLayoutBounds(ev.getNode(), getSkinnable());\n+            if (b != null) {\n+                scrollBoundsIntoView(b);\n+            }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/ScrollPaneSkin.java","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-                int target = trav2D(TraversalUtils.getLayoutBounds(node, null), dir, nodes, root);\n+                int target = trav2D(TraversalUtils.getLayoutBoundsInSceneCoordinates(node), dir, nodes, root);\n@@ -79,1 +79,1 @@\n-            final Bounds targetBounds = TraversalUtils.getLayoutBounds(peers.get(i), null);\n+            final Bounds targetBounds = TraversalUtils.getLayoutBoundsInSceneCoordinates(peers.get(i));\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/traversal\/ContainerTabOrder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-        n.fireEvent(new TraversalEvent(n, TraversalUtils.getLayoutBounds(n, root), TraversalEvent.NODE_TRAVERSED));\n+        n.fireEvent(new TraversalEvent(n, TraversalEvent.NODE_TRAVERSED));\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/traversal\/TopMostTraversalEngine.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -52,3 +52,4 @@\n-     * Gets the appropriate bounds for the given node, transformed into\n-     * the scene's or the specified node's coordinates.\n-     * @return bounds of node in {@code forParent} coordinates or scene coordinates if {@code forParent} is null\n+     * Gets the appropriate bounds for the given node, transformed into the specified node's coordinates.\n+     * This method returns {@code null} if {@code n} or {@code forParent} is null\n+     * or the node is not a part of the scene graph.\n+     * @return bounds of node in {@code forParent} coordinates, or null\n@@ -57,6 +58,4 @@\n-        final Bounds bounds;\n-        if (n != null) {\n-            if (forParent == null) {\n-                bounds = n.localToScene(n.getLayoutBounds());\n-            } else {\n-                bounds = forParent.sceneToLocal(n.localToScene(n.getLayoutBounds()));\n+        if ((n != null) && (forParent != null)) {\n+            Bounds b = n.localToScene(n.getLayoutBounds());\n+            if (b != null) {\n+                return forParent.sceneToLocal(b);\n@@ -64,0 +63,11 @@\n+        }\n+        return null;\n+    }\n+\n+    \/**\n+     * Gets the appropriate bounds for the given node, transformed into the scene's coordinates.\n+     * @return bounds of node in scene coordinates\n+     *\/\n+    public static Bounds getLayoutBoundsInSceneCoordinates(Node n) {\n+        if (n != null) {\n+            return n.localToScene(n.getLayoutBounds());\n@@ -65,1 +75,1 @@\n-            bounds = INITIAL_BOUNDS;\n+            return INITIAL_BOUNDS;\n@@ -67,1 +77,0 @@\n-        return bounds;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/traversal\/TraversalUtils.java","additions":20,"deletions":11,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import javafx.geometry.Bounds;\n@@ -64,4 +63,0 @@\n-    \/**\n-     * The layout bounds of the node, transformed into the coordinates of the root element.\n-     *\/\n-    private final Bounds bounds;\n@@ -79,1 +74,0 @@\n-        final @NamedArg(\"bounds\") Bounds bounds,\n@@ -84,1 +78,0 @@\n-        this.bounds = bounds;\n@@ -92,11 +85,0 @@\n-    \/**\n-     * The layout bounds of the node which received the traversal event,\n-     * transformed into the coordinates of the root element in the\n-     * traversal root being used (i.e. the {@link Scene} or the root {@link Parent}).\n-     *\n-     * @return the layout bounds of the node, transformed into the coordinates of the root element.\n-     *\/\n-    public final Bounds getBounds() {\n-        return bounds;\n-    }\n-\n@@ -116,1 +98,0 @@\n-            \", bounds=\" + getBounds() +\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/traversal\/TraversalEvent.java","additions":0,"deletions":19,"binary":false,"changes":19,"status":"modified"}]}
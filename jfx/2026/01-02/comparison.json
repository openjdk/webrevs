{"files":[{"patch":"@@ -49,0 +49,1 @@\n+import javafx.scene.control.ContextMenu;\n@@ -50,0 +51,1 @@\n+import javafx.scene.control.MenuBar;\n@@ -51,0 +53,1 @@\n+import javafx.scene.input.KeyCombination;\n@@ -107,2 +110,0 @@\n-    private final RichEditorToolbar toolbar;\n-    private final RichTextArea editor;\n@@ -114,0 +115,3 @@\n+    private final RichEditorToolbar toolbar;\n+    private final RichTextArea editor;\n+\n@@ -212,1 +216,0 @@\n-\n@@ -224,0 +227,65 @@\n+    public MenuBar createMenu() {\n+        MenuBar m = new MenuBar();\n+        \/\/ file\n+        FX.menu(m, \"File\");\n+        FX.item(m, \"New\", newDocument).setAccelerator(KeyCombination.keyCombination(\"shortcut+N\"));\n+        FX.item(m, \"Open...\", open);\n+        FX.separator(m);\n+        FX.item(m, \"Save\", save).setAccelerator(KeyCombination.keyCombination(\"shortcut+S\"));\n+        FX.item(m, \"Save As...\", saveAs).setAccelerator(KeyCombination.keyCombination(\"shortcut+A\"));\n+        FX.item(m, \"Quit\", this::quit);\n+\n+        \/\/ edit\n+        FX.menu(m, \"Edit\");\n+        FX.item(m, \"Undo\", undo);\n+        FX.item(m, \"Redo\", redo);\n+        FX.separator(m);\n+        FX.item(m, \"Cut\", cut);\n+        FX.item(m, \"Copy\", copy);\n+        FX.item(m, \"Paste\", paste);\n+        FX.item(m, \"Paste and Retain Style\", pasteUnformatted);\n+\n+        \/\/ format\n+        FX.menu(m, \"Format\");\n+        FX.item(m, \"Bold\", bold).setAccelerator(KeyCombination.keyCombination(\"shortcut+B\"));\n+        FX.item(m, \"Italic\", italic).setAccelerator(KeyCombination.keyCombination(\"shortcut+I\"));\n+        FX.item(m, \"Strike Through\", strikeThrough);\n+        FX.item(m, \"Underline\", underline).setAccelerator(KeyCombination.keyCombination(\"shortcut+U\"));\n+        FX.separator(m);\n+        FX.item(m, \"Paragraph...\", paragraphStyle);\n+\n+        \/\/ view\n+        FX.menu(m, \"View\");\n+        FX.checkItem(m, \"Highlight Current Paragraph\", highlightCurrentLine);\n+        FX.checkItem(m, \"Show Line Numbers\", lineNumbers);\n+        FX.checkItem(m, \"Wrap Text\", wrapText);\n+        \/\/ TODO line spacing\n+\n+        \/\/ tools\n+        FX.menu(m, \"Tools\");\n+        FX.item(m, \"Settings\", this::openSettings);\n+\n+        \/\/ help\n+        FX.menu(m, \"Help\");\n+        FX.item(m, \"About\"); \/\/ TODO\n+\n+        return m;\n+    }\n+\n+    public ContextMenu createContextMenu() {\n+        ContextMenu m = new ContextMenu();\n+        FX.item(m, \"Undo\", undo);\n+        FX.item(m, \"Redo\", redo);\n+        FX.separator(m);\n+        FX.item(m, \"Cut\", cut);\n+        FX.item(m, \"Copy\", copy);\n+        FX.item(m, \"Paste\", paste);\n+        FX.item(m, \"Paste and Retain Style\", pasteUnformatted);\n+        FX.separator(m);\n+        FX.item(m, \"Select All\", selectAll);\n+        FX.separator(m);\n+        \/\/ TODO Font...\n+        FX.item(m, \"Paragraph...\", paragraphStyle);\n+        return m;\n+    }\n+\n@@ -648,0 +716,5 @@\n+\n+    private void openSettings() {\n+        Window w = FX.getParentWindow(editor);\n+        new SettingsWindow(w).show();\n+    }\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/editor\/Actions.java","additions":76,"deletions":3,"binary":false,"changes":79,"status":"modified"},{"patch":"@@ -64,2 +64,0 @@\n-        toolbar = new RichEditorToolbar();\n-\n@@ -67,0 +65,1 @@\n+        toolbar = new RichEditorToolbar();\n@@ -83,1 +82,1 @@\n-        bp.setTop(createMenu());\n+        bp.setTop(actions.createMenu());\n@@ -112,1 +111,2 @@\n-        editor.setContextMenu(createContextMenu());\n+\n+        editor.setContextMenu(actions.createContextMenu());\n@@ -117,65 +117,0 @@\n-    private MenuBar createMenu() {\n-        MenuBar m = new MenuBar();\n-        \/\/ file\n-        FX.menu(m, \"File\");\n-        FX.item(m, \"New\", actions.newDocument).setAccelerator(KeyCombination.keyCombination(\"shortcut+N\"));\n-        FX.item(m, \"Open...\", actions.open);\n-        FX.separator(m);\n-        FX.item(m, \"Save\", actions.save).setAccelerator(KeyCombination.keyCombination(\"shortcut+S\"));\n-        FX.item(m, \"Save As...\", actions.saveAs).setAccelerator(KeyCombination.keyCombination(\"shortcut+A\"));\n-        FX.item(m, \"Quit\", actions::quit);\n-\n-        \/\/ edit\n-        FX.menu(m, \"Edit\");\n-        FX.item(m, \"Undo\", actions.undo);\n-        FX.item(m, \"Redo\", actions.redo);\n-        FX.separator(m);\n-        FX.item(m, \"Cut\", actions.cut);\n-        FX.item(m, \"Copy\", actions.copy);\n-        FX.item(m, \"Paste\", actions.paste);\n-        FX.item(m, \"Paste and Retain Style\", actions.pasteUnformatted);\n-\n-        \/\/ format\n-        FX.menu(m, \"Format\");\n-        FX.item(m, \"Bold\", actions.bold).setAccelerator(KeyCombination.keyCombination(\"shortcut+B\"));\n-        FX.item(m, \"Italic\", actions.italic).setAccelerator(KeyCombination.keyCombination(\"shortcut+I\"));\n-        FX.item(m, \"Strike Through\", actions.strikeThrough);\n-        FX.item(m, \"Underline\", actions.underline).setAccelerator(KeyCombination.keyCombination(\"shortcut+U\"));\n-        FX.separator(m);\n-        FX.item(m, \"Paragraph...\", actions.paragraphStyle);\n-\n-        \/\/ view\n-        FX.menu(m, \"View\");\n-        FX.checkItem(m, \"Highlight Current Paragraph\", actions.highlightCurrentLine);\n-        FX.checkItem(m, \"Show Line Numbers\", actions.lineNumbers);\n-        FX.checkItem(m, \"Wrap Text\", actions.wrapText);\n-        \/\/ TODO line spacing\n-\n-        \/\/ view\n-        FX.menu(m, \"Tools\");\n-        FX.item(m, \"Settings\", this::openSettings);\n-\n-        \/\/ help\n-        FX.menu(m, \"Help\");\n-        FX.item(m, \"About\"); \/\/ TODO\n-\n-        return m;\n-    }\n-\n-    private ContextMenu createContextMenu() {\n-        ContextMenu m = new ContextMenu();\n-        FX.item(m, \"Undo\", actions.undo);\n-        FX.item(m, \"Redo\", actions.redo);\n-        FX.separator(m);\n-        FX.item(m, \"Cut\", actions.cut);\n-        FX.item(m, \"Copy\", actions.copy);\n-        FX.item(m, \"Paste\", actions.paste);\n-        FX.item(m, \"Paste and Retain Style\", actions.pasteUnformatted);\n-        FX.separator(m);\n-        FX.item(m, \"Select All\", actions.selectAll);\n-        FX.separator(m);\n-        \/\/ TODO Font...\n-        FX.item(m, \"Paragraph...\", actions.paragraphStyle);\n-        return m;\n-    }\n-\n@@ -204,4 +139,0 @@\n-\n-    private void openSettings() {\n-        new SettingsWindow(this).show();\n-    }\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/editor\/RichEditorDemoWindow.java","additions":4,"deletions":73,"binary":false,"changes":77,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+import javafx.scene.layout.BorderPane;\n@@ -53,1 +54,1 @@\n-public class RichEditorToolbar extends ToolBar {\n+public class RichEditorToolbar extends BorderPane {\n@@ -105,4 +106,5 @@\n-        FX.add(this, fontFamily);\n-        FX.add(this, fontSize);\n-        FX.add(this, textColor);\n-        FX.space(this);\n+        ToolBar toolbar = new ToolBar();\n+        FX.add(toolbar, fontFamily);\n+        FX.add(toolbar, fontSize);\n+        FX.add(toolbar, textColor);\n+        FX.space(toolbar);\n@@ -114,9 +116,9 @@\n-        bold = FX.toggleButton(this, \"ùêÅ\", \"Bold text\");\n-        italic = FX.toggleButton(this, \"ùêº\", \"Bold text\");\n-        strikeThrough = FX.toggleButton(this, \"S\\u0336\", \"Strike through text\");\n-        underline = FX.toggleButton(this, \"U\\u0332\", \"Underline text\");\n-        FX.add(this, textStyle);\n-        paragraphButton = FX.button(this, \"P\", \"Paragraph Styles\", null);\n-        FX.space(this);\n-        lineNumbers = FX.toggleButton(this, \"N\", \"Line Numbers\");\n-        wrapText = FX.toggleButton(this, \"W\", \"Wrap Text\");\n+        bold = FX.toggleButton(toolbar, \"ùêÅ\", \"Bold text\");\n+        italic = FX.toggleButton(toolbar, \"ùêº\", \"Bold text\");\n+        strikeThrough = FX.toggleButton(toolbar, \"S\\u0336\", \"Strike through text\");\n+        underline = FX.toggleButton(toolbar, \"U\\u0332\", \"Underline text\");\n+        FX.add(toolbar, textStyle);\n+        paragraphButton = FX.button(toolbar, \"P\", \"Paragraph Styles\", null);\n+        FX.space(toolbar);\n+        lineNumbers = FX.toggleButton(toolbar, \"N\", \"Line Numbers\");\n+        wrapText = FX.toggleButton(toolbar, \"W\", \"Wrap Text\");\n@@ -126,0 +128,2 @@\n+\n+        setCenter(toolbar);\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/editor\/RichEditorToolbar.java","additions":18,"deletions":14,"binary":false,"changes":32,"status":"modified"}]}
{"files":[{"patch":"@@ -615,0 +615,5 @@\n+\/\/ Define the maximum number of threads to use when compiling.\n+\/\/ If MAX_COMPILE_THREADS is > 0, the number of threads used will be the\n+\/\/ smaller of MAX_COMPILE_THREADS and NUM_COMPILE_THREADS\n+defineProperty(\"MAX_COMPILE_THREADS\", \"0\")\n+\n@@ -1423,2 +1428,5 @@\n-\/\/ If the number of compile threads is less than 1 then we have a problem!\n-if (Integer.parseInt(NUM_COMPILE_THREADS.toString()) < 1) {\n+\/\/ Compute numCompileThreads as follows:\n+\/\/ if NUM_COMPILE_THREADS < 1 warn and set numCompileThreads to 1\n+\/\/ if MAX_COMPILE_THREADS > 0 set to min(numCompileThreads, MAX_COMPILE_THREADS)\n+def numCompileThreads = Integer.parseInt(NUM_COMPILE_THREADS.toString())\n+if (numCompileThreads < 1) {\n@@ -1427,1 +1435,5 @@\n-    NUM_COMPILE_THREADS = 1\n+    numCompileThreads = 1\n+}\n+def maxCompileThreads = Integer.parseInt(MAX_COMPILE_THREADS.toString())\n+if (maxCompileThreads > 0) {\n+    numCompileThreads = Math.min(numCompileThreads, maxCompileThreads)\n@@ -1429,0 +1441,1 @@\n+NUM_COMPILE_THREADS = numCompileThreads;\n","filename":"build.gradle","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -236,0 +236,7 @@\n+# Define the maximum number of threads to use when compiling. This allows\n+# a script to set the upper limit on the number of threads that will be used\n+# without having to know the precise number of available threads on each\n+# machine.\n+\n+#MAX_COMPILE_THREADS = 8\n+\n","filename":"gradle.properties.template","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"}]}
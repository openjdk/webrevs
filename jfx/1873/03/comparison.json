{"files":[{"patch":"@@ -500,0 +500,15 @@\n+\n+    private EventHandlerProperty<MouseDragEvent> onMouseDragDone;\n+\n+    public final EventHandler<? super MouseDragEvent> getOnMouseDragDone() {\n+        return (onMouseDragDone == null) ? null : onMouseDragDone.get();\n+    }\n+\n+    public ObjectProperty<EventHandler<? super MouseDragEvent>> onMouseDragDoneProperty() {\n+        if (onMouseDragDone == null) {\n+            onMouseDragDone = new EventHandlerProperty<>(bean, \"onMouseDragDone\", MouseDragEvent.MOUSE_DRAG_DONE);\n+        }\n+        return onMouseDragDone;\n+    }\n+\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/EventHandlerProperties.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -7710,0 +7710,19 @@\n+    public final void setOnMouseDragDone(EventHandler<? super MouseDragEvent> value) {\n+        onMouseDragDoneProperty().set(value);\n+    }\n+\n+    public final EventHandler<? super MouseDragEvent> getOnMouseDragDone() {\n+        return (eventHandlerProperties == null) ? null : eventHandlerProperties.getOnMouseDragDone();\n+    }\n+\n+    \/**\n+     * Defines a function to be called when a full press-drag-release gesture ends with this node as its source.\n+     *\n+     * @return the event handler that is called when a full press-drag-release finishes\n+     * @see MouseDragEvent#MOUSE_DRAG_DONE\n+     * @since 26\n+     *\/\n+    public final ObjectProperty<EventHandler<? super MouseDragEvent>> onMouseDragDoneProperty() {\n+        return getEventHandlerProperties().onMouseDragDoneProperty();\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/Node.java","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -4172,0 +4172,6 @@\n+            if (e.getEventType() == MouseEvent.MOUSE_RELEASED) {\n+                Event.fireEvent(fullPDRSource, MouseEvent.copyForMouseDragEvent(e,\n+                        fullPDRSource, eventTarget,\n+                        MouseDragEvent.MOUSE_DRAG_DONE,\n+                        fullPDRSource, result));\n+            }\n@@ -4735,0 +4741,22 @@\n+    \/**\n+     * Defines a function to be called when a full press-drag-release gesture ends.\n+     *\n+     * @see MouseDragEvent#MOUSE_DRAG_DONE\n+     * @since 26\n+     *\/\n+    private ObjectProperty<EventHandler<? super MouseDragEvent>> onMouseDragDone;\n+\n+    public final void setOnMouseDragDone(EventHandler<? super MouseDragEvent> value) {\n+        onMouseDragDoneProperty().set(value);\n+    }\n+\n+    public final EventHandler<? super MouseDragEvent> getOnMouseDragDone() {\n+        return onMouseDragDone == null ? null : onMouseDragDone.get();\n+    }\n+\n+    public final ObjectProperty<EventHandler<? super MouseDragEvent>> onMouseDragDoneProperty() {\n+        if (onMouseDragDone == null) {\n+            onMouseDragDone = new EventHandlerProperty<>(\"onMouseDragDone\", MouseDragEvent.MOUSE_DRAG_DONE);\n+        }\n+        return onMouseDragDone;\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/Scene.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-     * This event occurs when the gesture progresses within this node.\n+     * This event occurs when the gesture progresses within a node.\n@@ -75,2 +75,1 @@\n-     * This event occurs when the gesture ends (by releasing mouse button)\n-     * on this node.\n+     * This event occurs when the gesture is released over a node (by releasing the mouse button).\n@@ -131,0 +130,9 @@\n+    \/**\n+     * This event occurs when the gesture ends. It is delivered exactly once to the source node\/scene, and is always the\n+     * last event in the full press-drag-release process. It is delivered even when the mouse is outside the window.\n+     *\n+     * @since 26\n+     *\/\n+    public static final EventType<MouseDragEvent> MOUSE_DRAG_DONE =\n+            new EventType<>(MouseDragEvent.ANY, \"MOUSE-DRAG_DONE\");\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/input\/MouseDragEvent.java","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -481,1 +481,1 @@\n-    public void endingFullPDRShouldProduceReleaseEvents() {\n+    public void endingFullPDRShouldProduceReleaseAndDoneEvents() {\n@@ -502,0 +502,5 @@\n+        w.getSource().getDragDone().assertCalled();\n+        w.getBelowSource().getDragDone().assertNotCalled();\n+        w.getScene().getDragDone().assertCalled();\n+        w.getScene().getDragDone().assertGestureSource(w.getSource().getNode());\n+\n@@ -570,0 +575,1 @@\n+        w.getSource().getDragDone().assertCalled();\n@@ -580,1 +586,1 @@\n-        \/\/ Move to target (jumps temorarily out of the source)\n+        \/\/ Move to target (jumps temporarily out of the source)\n@@ -602,0 +608,3 @@\n+\n+        w.getSource().getDragDone().assertCalled();\n+        w.getSource().getDragDone().assertGestureSource(w.getSource().getNode());\n@@ -652,0 +661,2 @@\n+        w.getTarget().getDragDone().assertNotCalled();\n+        w.getSource().getDragDone().assertCalled();\n@@ -708,1 +719,4 @@\n-        w.getScene().getAny().assertNotCalled();\n+        w.getScene().getDragReleased().assertNotCalled();\n+\n+        \/\/ Done called even outside the scene\n+        w.getScene().getDragDone().assertCalled();\n@@ -771,0 +785,1 @@\n+        w.getScene().getDragDone().assertNotCalled();\n@@ -818,1 +833,0 @@\n-        w.getSource().getAny().assertNotCalled();\n@@ -820,1 +834,0 @@\n-        w.getSourceParent().getAny().assertNotCalled();\n@@ -822,0 +835,3 @@\n+        w.getSource().getDragDone().assertCalled();\n+        w.getSourceParent().getDragDone().assertCalled();\n+        w.getScene().getDragDone().assertCalled();\n@@ -989,0 +1005,1 @@\n+        private Handler dragDone;\n@@ -999,0 +1016,1 @@\n+            node.setOnMouseDragDone(dragDone = new Handler());\n@@ -1013,0 +1031,1 @@\n+            scene.setOnMouseDragDone(dragDone = new Handler());\n@@ -1051,0 +1070,4 @@\n+        public Handler getDragDone() {\n+            return dragDone;\n+        }\n+\n@@ -1063,0 +1086,1 @@\n+            dragDone.clear();\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/javafx\/scene\/input\/MouseDragEventTest.java","additions":29,"deletions":5,"binary":false,"changes":34,"status":"modified"}]}
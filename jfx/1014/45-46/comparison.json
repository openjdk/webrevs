{"files":[{"patch":"@@ -776,6 +776,1 @@\n-                    var highContrastScheme = WindowsHighContrastScheme.fromThemeName(platformTheme);\n-                    if (highContrastScheme == null) {\n-                        return;\n-                    }\n-\n-                    switch (highContrastScheme) {\n+                    switch (WindowsHighContrastScheme.fromThemeName(platformTheme)) {\n@@ -792,0 +787,1 @@\n+                        default:\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/application\/PlatformImpl.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+import com.sun.javafx.PlatformUtil;\n@@ -44,0 +45,1 @@\n+    NONE(null),\n@@ -49,4 +51,10 @@\n-    private static final List<ResourceBundle> resourceBundles = Arrays.stream(Locale.getAvailableLocales())\n-        .map(locale -> ResourceBundle.getBundle(\"com\/sun\/glass\/ui\/win\/themes\", locale))\n-        .distinct()\n-        .toList();\n+    private static List<ResourceBundle> resourceBundles;\n+\n+    static {\n+        if (PlatformUtil.isWindows()) {\n+            resourceBundles = Arrays.stream(Locale.getAvailableLocales())\n+                .map(locale -> ResourceBundle.getBundle(\"com\/sun\/glass\/ui\/win\/themes\", locale))\n+                .distinct()\n+                .toList();\n+        }\n+    }\n@@ -60,4 +68,0 @@\n-    public String getThemeKey() {\n-        return themeKey;\n-    }\n-\n@@ -69,1 +73,1 @@\n-     * @return the enum constant or null if not found\n+     * @return the enum constant or {@code NONE} if not found\n@@ -71,3 +75,3 @@\n-    public static WindowsHighContrastScheme fromThemeName(String themeName) {\n-        if (themeName == null) {\n-            return null;\n+    static WindowsHighContrastScheme fromThemeName(String themeName) {\n+        if (themeName == null || resourceBundles == null) {\n+            return NONE;\n@@ -81,1 +85,1 @@\n-                if (themeName.equalsIgnoreCase(resourceBundle.getString(item.getThemeKey()))) {\n+                if (item != NONE && themeName.equalsIgnoreCase(resourceBundle.getString(item.themeKey))) {\n@@ -87,1 +91,1 @@\n-        return null;\n+        return NONE;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/application\/WindowsHighContrastScheme.java","additions":18,"deletions":14,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-import javafx.scene.paint.Paint;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/application\/Platform.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
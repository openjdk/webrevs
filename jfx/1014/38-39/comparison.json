{"files":[{"patch":"@@ -165,1 +165,1 @@\n-#define GLASS_CHECK_EXCEPTIONALLY_RETURN(ENV)                                      \\\n+#define GLASS_CHECK_EXCEPTION_RETURN(ENV)                                          \\\n@@ -177,2 +177,2 @@\n-#define GLASS_CHECK_NONNULL_EXCEPTIONALLY_RETURN(ENV, EXPR)                        \\\n-    GLASS_CHECK_EXCEPTION(ENV);                                                    \\\n+#define GLASS_CHECK_NONNULL_EXCEPTION_RETURN(ENV, EXPR)                            \\\n+    GLASS_CHECK_EXCEPTION_RETURN(ENV);                                             \\\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMacros.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -229,1 +229,1 @@\n-    GLASS_CHECK_NONNULL_EXCEPTIONALLY_RETURN(env, prefKey);\n+    GLASS_CHECK_NONNULL_EXCEPTION_RETURN(env, prefKey);\n@@ -234,1 +234,1 @@\n-        GLASS_CHECK_NONNULL_EXCEPTIONALLY_RETURN(env, prefValue);\n+        GLASS_CHECK_NONNULL_EXCEPTION_RETURN(env, prefValue);\n@@ -245,1 +245,1 @@\n-    GLASS_CHECK_NONNULL_EXCEPTIONALLY_RETURN(env, prefKey);\n+    GLASS_CHECK_NONNULL_EXCEPTION_RETURN(env, prefKey);\n@@ -254,1 +254,1 @@\n-    GLASS_CHECK_EXCEPTIONALLY_RETURN(env);\n+    GLASS_CHECK_EXCEPTION_RETURN(env);\n@@ -264,1 +264,1 @@\n-    GLASS_CHECK_NONNULL_EXCEPTIONALLY_RETURN(env, prefKey);\n+    GLASS_CHECK_NONNULL_EXCEPTION_RETURN(env, prefKey);\n@@ -268,1 +268,1 @@\n-    GLASS_CHECK_NONNULL_EXCEPTIONALLY_RETURN(env, prefValue);\n+    GLASS_CHECK_NONNULL_EXCEPTION_RETURN(env, prefValue);\n@@ -278,1 +278,1 @@\n-        GLASS_CHECK_EXCEPTIONALLY_RETURN(env);\n+        GLASS_CHECK_EXCEPTION_RETURN(env);\n@@ -281,1 +281,1 @@\n-        GLASS_CHECK_EXCEPTIONALLY_RETURN(env);\n+        GLASS_CHECK_EXCEPTION_RETURN(env);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/PlatformSupport.m","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -153,1 +153,1 @@\n-hstring::hstring(const char* str)\n+hstring::hstring(const char* str) : hstr_(NULL)\n@@ -156,0 +156,2 @@\n+    if (wstr_len == 0) return;\n+\n@@ -157,0 +159,2 @@\n+    if (wstr == NULL) return;\n+\n@@ -158,2 +162,4 @@\n-    MultiByteToWideChar(CP_UTF8, 0, str, -1, wstr, wstr_len);\n-    WindowsCreateString(wstr, wstr_len - 1, &hstr_);\n+    if (MultiByteToWideChar(CP_UTF8, 0, str, -1, wstr, wstr_len) > 0) {\n+        WindowsCreateString(wstr, wstr_len - 1, &hstr_);\n+    }\n+\n@@ -165,1 +171,3 @@\n-    WindowsDeleteString(hstr_);\n+    if (hstr_ != NULL) {\n+        WindowsDeleteString(hstr_);\n+    }\n@@ -173,1 +181,1 @@\n-RoException::RoException(const char* message)\n+RoException::RoException(const char* message) : message_(NULL)\n@@ -179,1 +187,0 @@\n-    \/\/ Copy the \"message\" string.\n@@ -181,0 +188,2 @@\n+    if (len == 0) return;\n+\n@@ -182,0 +191,2 @@\n+    if (msg == NULL) return;\n+\n@@ -186,1 +197,1 @@\n-RoException::RoException(const char* message, HRESULT res)\n+RoException::RoException(const char* message, HRESULT res) : message_(NULL)\n@@ -188,1 +199,1 @@\n-    if (message == nullptr) {\n+    if (message == NULL) {\n@@ -193,0 +204,1 @@\n+    if (error == NULL) return;\n@@ -194,1 +206,0 @@\n-    \/\/ Concatenate the \"message\" and \"error\" strings.\n@@ -197,0 +208,2 @@\n+    if (message_length + error_length == 0) return;\n+\n@@ -198,0 +211,3 @@\n+    if (result == NULL) return;\n+\n+    \/\/ Concatenate the \"message\" and \"error\" strings.\n@@ -208,1 +224,3 @@\n-    delete[] message_;\n+    if (message_ != NULL) {\n+        delete[] message_;\n+    }\n@@ -219,1 +237,1 @@\n-    return message_;\n+    return message_ != NULL ? message_ : \"\";\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/win\/RoActivationSupport.cpp","additions":29,"deletions":11,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023 Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/application\/preferences\/ChangedValueTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023 Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/application\/preferences\/PlatformPreferencesTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
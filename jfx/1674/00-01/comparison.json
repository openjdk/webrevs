{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import com.sun.javafx.UnmodifiableArrayList;\n@@ -38,1 +39,0 @@\n-\n@@ -108,8 +108,1 @@\n-        onProposedChange(Collections.unmodifiableList(sortedList), 0, size());\n-        try {\n-            modCount++;\n-            list.setAll(sortedList);\n-        } catch(Exception e) {\n-            modCount--;\n-            throw e;\n-        }\n+        setAllImpl(Collections.unmodifiableList(sortedList));\n@@ -125,1 +118,1 @@\n-        return setAll(Arrays.asList(elements));\n+        return setAllImpl(new UnmodifiableArrayList<>(elements, elements.length));\n@@ -130,2 +123,7 @@\n-        Objects.requireNonNull(col);\n-        onProposedChange(Collections.unmodifiableList(new ArrayList<>(col)), 0, size());\n+        List<E> list = col instanceof List<?> ? (List<E>)col : new ArrayList<>(col);\n+        return setAllImpl(Collections.unmodifiableList(list));\n+    }\n+\n+    private boolean setAllImpl(List<E> unmodifiableList) {\n+        onProposedChange(unmodifiableList, 0, size());\n+\n@@ -134,1 +132,1 @@\n-            return list.setAll(col);\n+            return list.setAll(unmodifiableList);\n","filename":"modules\/javafx.base\/src\/main\/java\/com\/sun\/javafx\/collections\/VetoableListDecorator.java","additions":11,"deletions":13,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -196,1 +196,1 @@\n-            editor.getInputMap().restoreDefaultFunction(RichTextArea.Tags.MOVE_TO_LINE_END);\n+            editor.getInputMap().restoreDefaultFunction(RichTextArea.Tag.MOVE_TO_LINE_END);\n@@ -199,1 +199,1 @@\n-            editor.getInputMap().registerFunction(RichTextArea.Tags.MOVE_TO_LINE_END, this::moveToEndOfText);\n+            editor.getInputMap().registerFunction(RichTextArea.Tag.MOVE_TO_LINE_END, this::moveToEndOfText);\n@@ -208,1 +208,1 @@\n-            editor.executeDefault(RichTextArea.Tags.MOVE_TO_LINE_END);\n+            editor.executeDefault(RichTextArea.Tag.MOVE_TO_LINE_END);\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/editor\/RichEditorDemoPane.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -71,8 +71,0 @@\n-\/\/        addParagraph(() -> {\n-\/\/            Region r = new Region();\n-\/\/            r.getchi\n-\/\/            r.setw 300, 50);\n-\/\/            r.setFill(Color.RED);\n-\/\/            return r;\n-\/\/        });\n-\n@@ -118,1 +110,1 @@\n-        addSegment(\" \"); \/\/ FIX cannot navigate over this segment\n+        addSegment(\" \");\n@@ -130,1 +122,1 @@\n-        squiggly(36, 100, Color.RED);\n+        wavyUnderline(36, 100, Color.RED);\n@@ -136,1 +128,1 @@\n-        squiggly(36, 100, Color.RED);\n+        wavyUnderline(36, 100, Color.RED);\n@@ -141,8 +133,0 @@\n-        \/\/ FIX adding a control messes up the view with text wrap off\n-\/\/        addParagraph(() -> {\n-\/\/            TextField t = new TextField(\"yo\");\n-\/\/            t.setMaxWidth(100);\n-\/\/            return t;\n-\/\/        });\n-\/\/        nl(2);\n-\n@@ -158,24 +142,0 @@\n-        \/*\n-        Random r = new Random();\n-        for(int line=0; line<100; line++) {\n-            int ct = r.nextInt(10);\n-            for (int word = 0; word < ct; word++) {\n-                int len = 1 + r.nextInt(7);\n-                char c = '*';\n-\n-                if (word == 0) {\n-                    addSegment(\"L\" + (size() + 1), null, GRAY);\n-                }\n-\n-                addSegment(\" \");\n-\n-                if (r.nextFloat() < 0.1) {\n-                    addSegment(word + \".\" + word(c, len), null, RED);\n-                } else {\n-                    addSegment(word + \".\" + word(c, len));\n-                }\n-            }\n-            nl();\n-        }\n-        *\/\n-\n@@ -186,1 +146,1 @@\n-        registerDataFormatHandler(RichTextFormatHandler.INSTANCE, true, false, 2000);\n+        registerDataFormatHandler(RichTextFormatHandler.getInstance(), true, false, 2000);\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/DemoModel.java","additions":4,"deletions":44,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -185,1 +185,1 @@\n-            return SimpleViewOnlyStyledModel.from(WritingSystemsDemo.getText());\n+            return SimpleViewOnlyStyledModel.of(WritingSystemsDemo.getText());\n@@ -194,1 +194,1 @@\n-            return SimpleViewOnlyStyledModel.from(\"0123456789012345678901234567890\\n0\\n\\t1\\n\\t\\t2\\n\\t\\t\\t3\\n\\t\\t\\t\\t4\\n0\\n\");\n+            return SimpleViewOnlyStyledModel.of(\"0123456789012345678901234567890\\n0\\n\\t1\\n\\t\\t2\\n\\t\\t\\t3\\n\\t\\t\\t\\t4\\n0\\n\");\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/ModelChoice.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-        registerDataFormatHandler(RtfFormatHandler.INSTANCE, true, false, 1000);\n+        registerDataFormatHandler(RtfFormatHandler.getInstance(), true, false, 1000);\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/ParagraphAttributesDemoModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+import java.util.List;\n@@ -132,1 +133,0 @@\n-            F2: dump model\n@@ -135,3 +135,3 @@\n-        control.getInputMap().register(KeyBinding.of(KeyCode.F2), () -> {\n-            RichTextModel.dump(control.getModel(), System.out);\n-        });\n+\/\/        control.getInputMap().register(KeyBinding.of(KeyCode.F2), () -> {\n+\/\/            RichTextModel.dump(control.getModel(), System.out);\n+\/\/        });\n@@ -418,1 +418,1 @@\n-            DataFormat[] fs = control.getModel().getSupportedDataFormats(true);\n+            List<DataFormat> fs = control.getModel().getSupportedDataFormats(true);\n@@ -433,1 +433,1 @@\n-            DataFormat[] fs = control.getModel().getSupportedDataFormats(false);\n+            List<DataFormat> fs = control.getModel().getSupportedDataFormats(false);\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/RichTextAreaDemoPane.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-        var old = richTextArea.getInputMap().getKeyBindingsFor(RichTextArea.Tags.PASTE_PLAIN_TEXT);\n+        var old = richTextArea.getInputMap().getKeyBindingsFor(RichTextArea.Tag.PASTE_PLAIN_TEXT);\n@@ -122,1 +122,1 @@\n-            richTextArea.getInputMap().unbind(k);\n+            richTextArea.getInputMap().unregister(k);\n@@ -125,1 +125,1 @@\n-        richTextArea.getInputMap().registerKey(KeyBinding.shortcut(KeyCode.W), RichTextArea.Tags.PASTE_PLAIN_TEXT);\n+        richTextArea.getInputMap().registerKey(KeyBinding.shortcut(KeyCode.W), RichTextArea.Tag.PASTE_PLAIN_TEXT);\n@@ -128,1 +128,1 @@\n-        richTextArea.getInputMap().registerFunction(RichTextArea.Tags.PASTE_PLAIN_TEXT, () -> { });\n+        richTextArea.getInputMap().registerFunction(RichTextArea.Tag.PASTE_PLAIN_TEXT, () -> { });\n@@ -131,1 +131,1 @@\n-        richTextArea.getInputMap().restoreDefaultFunction(RichTextArea.Tags.PASTE_PLAIN_TEXT);\n+        richTextArea.getInputMap().restoreDefaultFunction(RichTextArea.Tag.PASTE_PLAIN_TEXT);\n@@ -142,1 +142,1 @@\n-        richTextArea.getInputMap().registerFunction(RichTextArea.Tags.MOVE_WORD_NEXT_START, () -> {\n+        richTextArea.getInputMap().registerFunction(RichTextArea.Tag.MOVE_WORD_NEXT_START, () -> {\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/UsageExamples.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -71,0 +71,4 @@\n+ * <p>\n+ * Additionally, the {@link #register(KeyBinding, Runnable)} method allows mapping to a function directly,\n+ * bypassing the function tag.\n+ * <p>\n@@ -102,2 +106,2 @@\n-     * Adds an event handler for the specified event type, at the control level.\n-     * This mapping always consumes the matching event.\n+     * Adds an event handler for the specified event type.\n+     * Event handlers added with this method will always be called before any handlers registered by the skin.\n@@ -279,1 +283,5 @@\n-     * Unbinds the specified key binding.\n+     * Unregister the specified key binding.\n+     * Calling this method will disable any mappings made with\n+     * {@link #register(KeyBinding, Runnable)},\n+     * {@link #registerKey(KeyBinding, FunctionTag)},\n+     * or registered by the skin.\n@@ -283,1 +291,1 @@\n-    public void unbind(KeyBinding k) {\n+    public void unregister(KeyBinding k) {\n@@ -302,1 +310,1 @@\n-     * Restores the specified key binding to the value set by the behavior, if any.\n+     * Restores the specified key binding to the value set by the skin, if any.\n@@ -314,1 +322,1 @@\n-     * Restores the specified function tag to the value set by the behavior, if any.\n+     * Restores the specified function tag to the value set by the skin, if any.\n@@ -363,1 +371,1 @@\n-    public void unbind(FunctionTag tag) {\n+    public void unregister(FunctionTag tag) {\n","filename":"modules\/jfx.incubator.input\/src\/main\/java\/jfx\/incubator\/scene\/control\/input\/InputMap.java","additions":15,"deletions":7,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+import java.util.List;\n@@ -97,59 +98,59 @@\n-        registerFunction(RichTextArea.Tags.BACKSPACE, this::backspace);\n-        registerFunction(RichTextArea.Tags.COPY, this::copy);\n-        registerFunction(RichTextArea.Tags.CUT, this::cut);\n-        registerFunction(RichTextArea.Tags.DELETE, this::delete);\n-        registerFunction(RichTextArea.Tags.DELETE_PARAGRAPH, this::deleteParagraph);\n-        registerFunction(RichTextArea.Tags.DELETE_PARAGRAPH_START, this::deleteParagraphStart);\n-        registerFunction(RichTextArea.Tags.DELETE_WORD_NEXT_END, this::deleteWordNextEnd);\n-        registerFunction(RichTextArea.Tags.DELETE_WORD_NEXT_START, this::deleteWordNextBeg);\n-        registerFunction(RichTextArea.Tags.DELETE_WORD_PREVIOUS, this::deleteWordPrevious);\n-        registerFunction(RichTextArea.Tags.DESELECT, this::deselect);\n-        registerFunction(RichTextArea.Tags.FOCUS_NEXT, this::traverseNext);\n-        registerFunction(RichTextArea.Tags.FOCUS_PREVIOUS, this::traversePrevious);\n-        registerFunction(RichTextArea.Tags.INSERT_LINE_BREAK, this::insertLineBreak);\n-        registerFunction(RichTextArea.Tags.INSERT_TAB, this::insertTab);\n-        registerFunction(RichTextArea.Tags.MOVE_DOWN, this::moveDown);\n-        registerFunction(RichTextArea.Tags.MOVE_LEFT, this::moveLeft);\n-        registerFunction(RichTextArea.Tags.MOVE_PARAGRAPH_DOWN, this::moveParagraphDown);\n-        registerFunction(RichTextArea.Tags.MOVE_PARAGRAPH_UP, this::moveParagraphUp);\n-        registerFunction(RichTextArea.Tags.MOVE_RIGHT, this::moveRight);\n-        registerFunction(RichTextArea.Tags.MOVE_TO_DOCUMENT_END, this::moveDocumentEnd);\n-        registerFunction(RichTextArea.Tags.MOVE_TO_DOCUMENT_START, this::moveDocumentStart);\n-        registerFunction(RichTextArea.Tags.MOVE_TO_LINE_END, this::moveLineEnd);\n-        registerFunction(RichTextArea.Tags.MOVE_TO_LINE_START, this::moveLineStart);\n-        registerFunction(RichTextArea.Tags.MOVE_TO_PARAGRAPH_END, this::moveParagraphEnd);\n-        registerFunction(RichTextArea.Tags.MOVE_TO_PARAGRAPH_START, this::moveParagraphStart);\n-        registerFunction(RichTextArea.Tags.MOVE_UP, this::moveUp);\n-        registerFunction(RichTextArea.Tags.MOVE_WORD_NEXT_END, this::nextWordEnd);\n-        registerFunction(RichTextArea.Tags.MOVE_WORD_NEXT_START, this::nextWord);\n-        registerFunction(RichTextArea.Tags.MOVE_WORD_LEFT, this::leftWord);\n-        registerFunction(RichTextArea.Tags.MOVE_WORD_PREVIOUS, this::previousWord);\n-        registerFunction(RichTextArea.Tags.MOVE_WORD_RIGHT, this::rightWord);\n-        registerFunction(RichTextArea.Tags.PAGE_DOWN, this::pageDown);\n-        registerFunction(RichTextArea.Tags.PAGE_UP, this::pageUp);\n-        registerFunction(RichTextArea.Tags.PASTE, this::paste);\n-        registerFunction(RichTextArea.Tags.PASTE_PLAIN_TEXT, this::pastePlainText);\n-        registerFunction(RichTextArea.Tags.REDO, this::redo);\n-        registerFunction(RichTextArea.Tags.SELECT_ALL, this::selectAll);\n-        registerFunction(RichTextArea.Tags.SELECT_DOWN, this::selectDown);\n-        registerFunction(RichTextArea.Tags.SELECT_LEFT, this::selectLeft);\n-        registerFunction(RichTextArea.Tags.SELECT_PAGE_DOWN, this::selectPageDown);\n-        registerFunction(RichTextArea.Tags.SELECT_PAGE_UP, this::selectPageUp);\n-        registerFunction(RichTextArea.Tags.SELECT_PARAGRAPH, this::selectParagraph);\n-        registerFunction(RichTextArea.Tags.SELECT_PARAGRAPH_DOWN, this::selectParagraphDown);\n-        registerFunction(RichTextArea.Tags.SELECT_PARAGRAPH_END, this::selectParagraphEnd);\n-        registerFunction(RichTextArea.Tags.SELECT_PARAGRAPH_START, this::selectParagraphStart);\n-        registerFunction(RichTextArea.Tags.SELECT_PARAGRAPH_UP, this::selectParagraphUp);\n-        registerFunction(RichTextArea.Tags.SELECT_RIGHT, this::selectRight);\n-        registerFunction(RichTextArea.Tags.SELECT_TO_DOCUMENT_END, this::selectDocumentEnd);\n-        registerFunction(RichTextArea.Tags.SELECT_TO_DOCUMENT_START, this::selectDocumentStart);\n-        registerFunction(RichTextArea.Tags.SELECT_TO_LINE_END, this::selectLineEnd);\n-        registerFunction(RichTextArea.Tags.SELECT_TO_LINE_START, this::selectLineStart);\n-        registerFunction(RichTextArea.Tags.SELECT_UP, this::selectUp);\n-        registerFunction(RichTextArea.Tags.SELECT_WORD, this::selectWord);\n-        registerFunction(RichTextArea.Tags.SELECT_WORD_LEFT, this::selectWordLeft);\n-        registerFunction(RichTextArea.Tags.SELECT_WORD_NEXT, this::selectWordNext);\n-        registerFunction(RichTextArea.Tags.SELECT_WORD_NEXT_END, this::selectNextWordEnd);\n-        registerFunction(RichTextArea.Tags.SELECT_WORD_PREVIOUS, this::selectWordPrevious);\n-        registerFunction(RichTextArea.Tags.SELECT_WORD_RIGHT, this::selectWordRight);\n-        registerFunction(RichTextArea.Tags.UNDO, this::undo);\n+        registerFunction(RichTextArea.Tag.BACKSPACE, this::backspace);\n+        registerFunction(RichTextArea.Tag.COPY, this::copy);\n+        registerFunction(RichTextArea.Tag.CUT, this::cut);\n+        registerFunction(RichTextArea.Tag.DELETE, this::delete);\n+        registerFunction(RichTextArea.Tag.DELETE_PARAGRAPH, this::deleteParagraph);\n+        registerFunction(RichTextArea.Tag.DELETE_PARAGRAPH_START, this::deleteParagraphStart);\n+        registerFunction(RichTextArea.Tag.DELETE_WORD_NEXT_END, this::deleteWordNextEnd);\n+        registerFunction(RichTextArea.Tag.DELETE_WORD_NEXT_START, this::deleteWordNextBeg);\n+        registerFunction(RichTextArea.Tag.DELETE_WORD_PREVIOUS, this::deleteWordPrevious);\n+        registerFunction(RichTextArea.Tag.DESELECT, this::deselect);\n+        registerFunction(RichTextArea.Tag.FOCUS_NEXT, this::traverseNext);\n+        registerFunction(RichTextArea.Tag.FOCUS_PREVIOUS, this::traversePrevious);\n+        registerFunction(RichTextArea.Tag.INSERT_LINE_BREAK, this::insertLineBreak);\n+        registerFunction(RichTextArea.Tag.INSERT_TAB, this::insertTab);\n+        registerFunction(RichTextArea.Tag.MOVE_DOWN, this::moveDown);\n+        registerFunction(RichTextArea.Tag.MOVE_LEFT, this::moveLeft);\n+        registerFunction(RichTextArea.Tag.MOVE_PARAGRAPH_DOWN, this::moveParagraphDown);\n+        registerFunction(RichTextArea.Tag.MOVE_PARAGRAPH_UP, this::moveParagraphUp);\n+        registerFunction(RichTextArea.Tag.MOVE_RIGHT, this::moveRight);\n+        registerFunction(RichTextArea.Tag.MOVE_TO_DOCUMENT_END, this::moveDocumentEnd);\n+        registerFunction(RichTextArea.Tag.MOVE_TO_DOCUMENT_START, this::moveDocumentStart);\n+        registerFunction(RichTextArea.Tag.MOVE_TO_LINE_END, this::moveLineEnd);\n+        registerFunction(RichTextArea.Tag.MOVE_TO_LINE_START, this::moveLineStart);\n+        registerFunction(RichTextArea.Tag.MOVE_TO_PARAGRAPH_END, this::moveParagraphEnd);\n+        registerFunction(RichTextArea.Tag.MOVE_TO_PARAGRAPH_START, this::moveParagraphStart);\n+        registerFunction(RichTextArea.Tag.MOVE_UP, this::moveUp);\n+        registerFunction(RichTextArea.Tag.MOVE_WORD_NEXT_END, this::nextWordEnd);\n+        registerFunction(RichTextArea.Tag.MOVE_WORD_NEXT_START, this::nextWord);\n+        registerFunction(RichTextArea.Tag.MOVE_WORD_LEFT, this::leftWord);\n+        registerFunction(RichTextArea.Tag.MOVE_WORD_PREVIOUS, this::previousWord);\n+        registerFunction(RichTextArea.Tag.MOVE_WORD_RIGHT, this::rightWord);\n+        registerFunction(RichTextArea.Tag.PAGE_DOWN, this::pageDown);\n+        registerFunction(RichTextArea.Tag.PAGE_UP, this::pageUp);\n+        registerFunction(RichTextArea.Tag.PASTE, this::paste);\n+        registerFunction(RichTextArea.Tag.PASTE_PLAIN_TEXT, this::pastePlainText);\n+        registerFunction(RichTextArea.Tag.REDO, this::redo);\n+        registerFunction(RichTextArea.Tag.SELECT_ALL, this::selectAll);\n+        registerFunction(RichTextArea.Tag.SELECT_DOWN, this::selectDown);\n+        registerFunction(RichTextArea.Tag.SELECT_LEFT, this::selectLeft);\n+        registerFunction(RichTextArea.Tag.SELECT_PAGE_DOWN, this::selectPageDown);\n+        registerFunction(RichTextArea.Tag.SELECT_PAGE_UP, this::selectPageUp);\n+        registerFunction(RichTextArea.Tag.SELECT_PARAGRAPH, this::selectParagraph);\n+        registerFunction(RichTextArea.Tag.SELECT_PARAGRAPH_DOWN, this::selectParagraphDown);\n+        registerFunction(RichTextArea.Tag.SELECT_PARAGRAPH_END, this::selectParagraphEnd);\n+        registerFunction(RichTextArea.Tag.SELECT_PARAGRAPH_START, this::selectParagraphStart);\n+        registerFunction(RichTextArea.Tag.SELECT_PARAGRAPH_UP, this::selectParagraphUp);\n+        registerFunction(RichTextArea.Tag.SELECT_RIGHT, this::selectRight);\n+        registerFunction(RichTextArea.Tag.SELECT_TO_DOCUMENT_END, this::selectDocumentEnd);\n+        registerFunction(RichTextArea.Tag.SELECT_TO_DOCUMENT_START, this::selectDocumentStart);\n+        registerFunction(RichTextArea.Tag.SELECT_TO_LINE_END, this::selectLineEnd);\n+        registerFunction(RichTextArea.Tag.SELECT_TO_LINE_START, this::selectLineStart);\n+        registerFunction(RichTextArea.Tag.SELECT_UP, this::selectUp);\n+        registerFunction(RichTextArea.Tag.SELECT_WORD, this::selectWord);\n+        registerFunction(RichTextArea.Tag.SELECT_WORD_LEFT, this::selectWordLeft);\n+        registerFunction(RichTextArea.Tag.SELECT_WORD_NEXT, this::selectWordNext);\n+        registerFunction(RichTextArea.Tag.SELECT_WORD_NEXT_END, this::selectNextWordEnd);\n+        registerFunction(RichTextArea.Tag.SELECT_WORD_PREVIOUS, this::selectWordPrevious);\n+        registerFunction(RichTextArea.Tag.SELECT_WORD_RIGHT, this::selectWordRight);\n+        registerFunction(RichTextArea.Tag.UNDO, this::undo);\n@@ -158,40 +159,40 @@\n-        registerKey(KeyBinding.shortcut(KeyCode.A), RichTextArea.Tags.SELECT_ALL);\n-        registerKey(KeyCode.BACK_SPACE, RichTextArea.Tags.BACKSPACE);\n-        registerKey(KeyBinding.shift(KeyCode.BACK_SPACE), RichTextArea.Tags.BACKSPACE);\n-        registerKey(KeyBinding.shortcut(KeyCode.C), RichTextArea.Tags.COPY);\n-        registerKey(KeyCode.COPY, RichTextArea.Tags.COPY);\n-        registerKey(KeyBinding.shortcut(KeyCode.D), RichTextArea.Tags.DELETE_PARAGRAPH);\n-        registerKey(KeyCode.DELETE, RichTextArea.Tags.DELETE);\n-        registerKey(KeyCode.DOWN, RichTextArea.Tags.MOVE_DOWN);\n-        registerKey(KeyBinding.shift(KeyCode.DOWN), RichTextArea.Tags.SELECT_DOWN);\n-        registerKey(KeyCode.END, RichTextArea.Tags.MOVE_TO_LINE_END);\n-        registerKey(KeyBinding.control(KeyCode.END), RichTextArea.Tags.MOVE_TO_DOCUMENT_END);\n-        registerKey(KeyBinding.controlShift(KeyCode.END), RichTextArea.Tags.SELECT_TO_DOCUMENT_END);\n-        registerKey(KeyBinding.shift(KeyCode.END), RichTextArea.Tags.SELECT_TO_LINE_END);\n-        registerKey(KeyCode.ENTER, RichTextArea.Tags.INSERT_LINE_BREAK);\n-        registerKey(KeyCode.HOME, RichTextArea.Tags.MOVE_TO_LINE_START);\n-        registerKey(KeyBinding.control(KeyCode.HOME), RichTextArea.Tags.MOVE_TO_DOCUMENT_START);\n-        registerKey(KeyBinding.controlShift(KeyCode.HOME), RichTextArea.Tags.SELECT_TO_DOCUMENT_START);\n-        registerKey(KeyBinding.shift(KeyCode.HOME), RichTextArea.Tags.SELECT_TO_LINE_START);\n-        registerKey(KeyBinding.shift(KeyCode.INSERT), RichTextArea.Tags.PASTE);\n-        registerKey(KeyBinding.shortcut(KeyCode.INSERT), RichTextArea.Tags.COPY);\n-        registerKey(KeyCode.LEFT, RichTextArea.Tags.MOVE_LEFT);\n-        registerKey(KeyBinding.shift(KeyCode.LEFT), RichTextArea.Tags.SELECT_LEFT);\n-        registerKey(KeyCode.PAGE_DOWN, RichTextArea.Tags.PAGE_DOWN);\n-        registerKey(KeyBinding.shift(KeyCode.PAGE_DOWN), RichTextArea.Tags.SELECT_PAGE_DOWN);\n-        registerKey(KeyCode.PAGE_UP, RichTextArea.Tags.PAGE_UP);\n-        registerKey(KeyBinding.shift(KeyCode.PAGE_UP), RichTextArea.Tags.SELECT_PAGE_UP);\n-        registerKey(KeyCode.PASTE, RichTextArea.Tags.PASTE);\n-        registerKey(KeyCode.RIGHT, RichTextArea.Tags.MOVE_RIGHT);\n-        registerKey(KeyBinding.shift(KeyCode.RIGHT), RichTextArea.Tags.SELECT_RIGHT);\n-        registerKey(KeyCode.TAB, RichTextArea.Tags.INSERT_TAB);\n-        registerKey(KeyBinding.control(KeyCode.TAB), RichTextArea.Tags.FOCUS_NEXT);\n-        registerKey(KeyBinding.controlShift(KeyCode.TAB), RichTextArea.Tags.FOCUS_PREVIOUS);\n-        registerKey(KeyBinding.shift(KeyCode.TAB), RichTextArea.Tags.FOCUS_PREVIOUS);\n-        registerKey(KeyCode.UP, RichTextArea.Tags.MOVE_UP);\n-        registerKey(KeyBinding.shift(KeyCode.UP), RichTextArea.Tags.SELECT_UP);\n-        registerKey(KeyBinding.shortcut(KeyCode.V), RichTextArea.Tags.PASTE);\n-        registerKey(KeyBinding.shiftShortcut(KeyCode.V), RichTextArea.Tags.PASTE_PLAIN_TEXT);\n-        registerKey(KeyBinding.shortcut(KeyCode.X), RichTextArea.Tags.CUT);\n-        registerKey(KeyCode.CUT, RichTextArea.Tags.CUT);\n-        registerKey(KeyBinding.shortcut(KeyCode.Z), RichTextArea.Tags.UNDO);\n+        registerKey(KeyBinding.shortcut(KeyCode.A), RichTextArea.Tag.SELECT_ALL);\n+        registerKey(KeyCode.BACK_SPACE, RichTextArea.Tag.BACKSPACE);\n+        registerKey(KeyBinding.shift(KeyCode.BACK_SPACE), RichTextArea.Tag.BACKSPACE);\n+        registerKey(KeyBinding.shortcut(KeyCode.C), RichTextArea.Tag.COPY);\n+        registerKey(KeyCode.COPY, RichTextArea.Tag.COPY);\n+        registerKey(KeyBinding.shortcut(KeyCode.D), RichTextArea.Tag.DELETE_PARAGRAPH);\n+        registerKey(KeyCode.DELETE, RichTextArea.Tag.DELETE);\n+        registerKey(KeyCode.DOWN, RichTextArea.Tag.MOVE_DOWN);\n+        registerKey(KeyBinding.shift(KeyCode.DOWN), RichTextArea.Tag.SELECT_DOWN);\n+        registerKey(KeyCode.END, RichTextArea.Tag.MOVE_TO_LINE_END);\n+        registerKey(KeyBinding.control(KeyCode.END), RichTextArea.Tag.MOVE_TO_DOCUMENT_END);\n+        registerKey(KeyBinding.controlShift(KeyCode.END), RichTextArea.Tag.SELECT_TO_DOCUMENT_END);\n+        registerKey(KeyBinding.shift(KeyCode.END), RichTextArea.Tag.SELECT_TO_LINE_END);\n+        registerKey(KeyCode.ENTER, RichTextArea.Tag.INSERT_LINE_BREAK);\n+        registerKey(KeyCode.HOME, RichTextArea.Tag.MOVE_TO_LINE_START);\n+        registerKey(KeyBinding.control(KeyCode.HOME), RichTextArea.Tag.MOVE_TO_DOCUMENT_START);\n+        registerKey(KeyBinding.controlShift(KeyCode.HOME), RichTextArea.Tag.SELECT_TO_DOCUMENT_START);\n+        registerKey(KeyBinding.shift(KeyCode.HOME), RichTextArea.Tag.SELECT_TO_LINE_START);\n+        registerKey(KeyBinding.shift(KeyCode.INSERT), RichTextArea.Tag.PASTE);\n+        registerKey(KeyBinding.shortcut(KeyCode.INSERT), RichTextArea.Tag.COPY);\n+        registerKey(KeyCode.LEFT, RichTextArea.Tag.MOVE_LEFT);\n+        registerKey(KeyBinding.shift(KeyCode.LEFT), RichTextArea.Tag.SELECT_LEFT);\n+        registerKey(KeyCode.PAGE_DOWN, RichTextArea.Tag.PAGE_DOWN);\n+        registerKey(KeyBinding.shift(KeyCode.PAGE_DOWN), RichTextArea.Tag.SELECT_PAGE_DOWN);\n+        registerKey(KeyCode.PAGE_UP, RichTextArea.Tag.PAGE_UP);\n+        registerKey(KeyBinding.shift(KeyCode.PAGE_UP), RichTextArea.Tag.SELECT_PAGE_UP);\n+        registerKey(KeyCode.PASTE, RichTextArea.Tag.PASTE);\n+        registerKey(KeyCode.RIGHT, RichTextArea.Tag.MOVE_RIGHT);\n+        registerKey(KeyBinding.shift(KeyCode.RIGHT), RichTextArea.Tag.SELECT_RIGHT);\n+        registerKey(KeyCode.TAB, RichTextArea.Tag.INSERT_TAB);\n+        registerKey(KeyBinding.control(KeyCode.TAB), RichTextArea.Tag.FOCUS_NEXT);\n+        registerKey(KeyBinding.controlShift(KeyCode.TAB), RichTextArea.Tag.FOCUS_PREVIOUS);\n+        registerKey(KeyBinding.shift(KeyCode.TAB), RichTextArea.Tag.FOCUS_PREVIOUS);\n+        registerKey(KeyCode.UP, RichTextArea.Tag.MOVE_UP);\n+        registerKey(KeyBinding.shift(KeyCode.UP), RichTextArea.Tag.SELECT_UP);\n+        registerKey(KeyBinding.shortcut(KeyCode.V), RichTextArea.Tag.PASTE);\n+        registerKey(KeyBinding.shiftShortcut(KeyCode.V), RichTextArea.Tag.PASTE_PLAIN_TEXT);\n+        registerKey(KeyBinding.shortcut(KeyCode.X), RichTextArea.Tag.CUT);\n+        registerKey(KeyCode.CUT, RichTextArea.Tag.CUT);\n+        registerKey(KeyBinding.shortcut(KeyCode.Z), RichTextArea.Tag.UNDO);\n@@ -200,21 +201,21 @@\n-            registerKey(KeyBinding.option(KeyCode.BACK_SPACE), RichTextArea.Tags.DELETE_WORD_PREVIOUS);\n-            registerKey(KeyBinding.shortcut(KeyCode.BACK_SPACE), RichTextArea.Tags.DELETE_PARAGRAPH_START);\n-            registerKey(KeyBinding.option(KeyCode.DELETE), RichTextArea.Tags.DELETE_WORD_NEXT_END);\n-            registerKey(KeyBinding.option(KeyCode.DOWN), RichTextArea.Tags.MOVE_PARAGRAPH_DOWN);\n-            registerKey(KeyBinding.shiftOption(KeyCode.DOWN), RichTextArea.Tags.SELECT_PARAGRAPH_DOWN);\n-            registerKey(KeyBinding.shiftShortcut(KeyCode.DOWN), RichTextArea.Tags.SELECT_TO_DOCUMENT_END);\n-            registerKey(KeyBinding.shortcut(KeyCode.DOWN), RichTextArea.Tags.MOVE_TO_DOCUMENT_END);\n-            registerKey(KeyBinding.option(KeyCode.LEFT), RichTextArea.Tags.MOVE_WORD_LEFT);\n-            registerKey(KeyBinding.shiftOption(KeyCode.LEFT), RichTextArea.Tags.SELECT_WORD_LEFT);\n-            registerKey(KeyBinding.shiftShortcut(KeyCode.LEFT), RichTextArea.Tags.SELECT_TO_LINE_START);\n-            registerKey(KeyBinding.shortcut(KeyCode.LEFT), RichTextArea.Tags.MOVE_TO_LINE_START);\n-            registerKey(KeyBinding.option(KeyCode.RIGHT), RichTextArea.Tags.MOVE_WORD_RIGHT);\n-            registerKey(KeyBinding.shiftOption(KeyCode.RIGHT), RichTextArea.Tags.SELECT_WORD_RIGHT);\n-            registerKey(KeyBinding.shiftShortcut(KeyCode.RIGHT), RichTextArea.Tags.SELECT_TO_LINE_END);\n-            registerKey(KeyBinding.shortcut(KeyCode.RIGHT), RichTextArea.Tags.MOVE_TO_LINE_END);\n-            registerKey(KeyBinding.builder(KeyCode.TAB).control().option().shift().build(), RichTextArea.Tags.FOCUS_NEXT);\n-            registerKey(KeyBinding.option(KeyCode.UP), RichTextArea.Tags.MOVE_PARAGRAPH_UP);\n-            registerKey(KeyBinding.shiftOption(KeyCode.UP), RichTextArea.Tags.SELECT_PARAGRAPH_UP);\n-            registerKey(KeyBinding.shiftShortcut(KeyCode.UP), RichTextArea.Tags.SELECT_TO_DOCUMENT_START);\n-            registerKey(KeyBinding.shortcut(KeyCode.UP), RichTextArea.Tags.MOVE_TO_DOCUMENT_START);\n-            registerKey(KeyBinding.builder(KeyCode.Z).shift().command().build(), RichTextArea.Tags.REDO);\n+            registerKey(KeyBinding.option(KeyCode.BACK_SPACE), RichTextArea.Tag.DELETE_WORD_PREVIOUS);\n+            registerKey(KeyBinding.shortcut(KeyCode.BACK_SPACE), RichTextArea.Tag.DELETE_PARAGRAPH_START);\n+            registerKey(KeyBinding.option(KeyCode.DELETE), RichTextArea.Tag.DELETE_WORD_NEXT_END);\n+            registerKey(KeyBinding.option(KeyCode.DOWN), RichTextArea.Tag.MOVE_PARAGRAPH_DOWN);\n+            registerKey(KeyBinding.shiftOption(KeyCode.DOWN), RichTextArea.Tag.SELECT_PARAGRAPH_DOWN);\n+            registerKey(KeyBinding.shiftShortcut(KeyCode.DOWN), RichTextArea.Tag.SELECT_TO_DOCUMENT_END);\n+            registerKey(KeyBinding.shortcut(KeyCode.DOWN), RichTextArea.Tag.MOVE_TO_DOCUMENT_END);\n+            registerKey(KeyBinding.option(KeyCode.LEFT), RichTextArea.Tag.MOVE_WORD_LEFT);\n+            registerKey(KeyBinding.shiftOption(KeyCode.LEFT), RichTextArea.Tag.SELECT_WORD_LEFT);\n+            registerKey(KeyBinding.shiftShortcut(KeyCode.LEFT), RichTextArea.Tag.SELECT_TO_LINE_START);\n+            registerKey(KeyBinding.shortcut(KeyCode.LEFT), RichTextArea.Tag.MOVE_TO_LINE_START);\n+            registerKey(KeyBinding.option(KeyCode.RIGHT), RichTextArea.Tag.MOVE_WORD_RIGHT);\n+            registerKey(KeyBinding.shiftOption(KeyCode.RIGHT), RichTextArea.Tag.SELECT_WORD_RIGHT);\n+            registerKey(KeyBinding.shiftShortcut(KeyCode.RIGHT), RichTextArea.Tag.SELECT_TO_LINE_END);\n+            registerKey(KeyBinding.shortcut(KeyCode.RIGHT), RichTextArea.Tag.MOVE_TO_LINE_END);\n+            registerKey(KeyBinding.builder(KeyCode.TAB).control().option().shift().build(), RichTextArea.Tag.FOCUS_NEXT);\n+            registerKey(KeyBinding.option(KeyCode.UP), RichTextArea.Tag.MOVE_PARAGRAPH_UP);\n+            registerKey(KeyBinding.shiftOption(KeyCode.UP), RichTextArea.Tag.SELECT_PARAGRAPH_UP);\n+            registerKey(KeyBinding.shiftShortcut(KeyCode.UP), RichTextArea.Tag.SELECT_TO_DOCUMENT_START);\n+            registerKey(KeyBinding.shortcut(KeyCode.UP), RichTextArea.Tag.MOVE_TO_DOCUMENT_START);\n+            registerKey(KeyBinding.builder(KeyCode.Z).shift().command().build(), RichTextArea.Tag.REDO);\n@@ -222,12 +223,12 @@\n-            registerKey(KeyBinding.control(KeyCode.BACK_SLASH), RichTextArea.Tags.DESELECT);\n-            registerKey(KeyBinding.control(KeyCode.BACK_SPACE), RichTextArea.Tags.DELETE_WORD_PREVIOUS);\n-            registerKey(KeyBinding.control(KeyCode.DELETE), RichTextArea.Tags.DELETE_WORD_NEXT_START);\n-            registerKey(KeyBinding.control(KeyCode.DOWN), RichTextArea.Tags.MOVE_PARAGRAPH_DOWN);\n-            registerKey(KeyBinding.controlShift(KeyCode.DOWN), RichTextArea.Tags.SELECT_PARAGRAPH_DOWN);\n-            registerKey(KeyBinding.control(KeyCode.H), RichTextArea.Tags.BACKSPACE);\n-            registerKey(KeyBinding.control(KeyCode.LEFT), RichTextArea.Tags.MOVE_WORD_LEFT);\n-            registerKey(KeyBinding.controlShift(KeyCode.LEFT), RichTextArea.Tags.SELECT_WORD_LEFT);\n-            registerKey(KeyBinding.control(KeyCode.RIGHT), RichTextArea.Tags.MOVE_WORD_RIGHT);\n-            registerKey(KeyBinding.controlShift(KeyCode.RIGHT), RichTextArea.Tags.SELECT_WORD_RIGHT);\n-            registerKey(KeyBinding.control(KeyCode.UP), RichTextArea.Tags.MOVE_PARAGRAPH_UP);\n-            registerKey(KeyBinding.controlShift(KeyCode.UP), RichTextArea.Tags.SELECT_PARAGRAPH_UP);\n+            registerKey(KeyBinding.control(KeyCode.BACK_SLASH), RichTextArea.Tag.DESELECT);\n+            registerKey(KeyBinding.control(KeyCode.BACK_SPACE), RichTextArea.Tag.DELETE_WORD_PREVIOUS);\n+            registerKey(KeyBinding.control(KeyCode.DELETE), RichTextArea.Tag.DELETE_WORD_NEXT_START);\n+            registerKey(KeyBinding.control(KeyCode.DOWN), RichTextArea.Tag.MOVE_PARAGRAPH_DOWN);\n+            registerKey(KeyBinding.controlShift(KeyCode.DOWN), RichTextArea.Tag.SELECT_PARAGRAPH_DOWN);\n+            registerKey(KeyBinding.control(KeyCode.H), RichTextArea.Tag.BACKSPACE);\n+            registerKey(KeyBinding.control(KeyCode.LEFT), RichTextArea.Tag.MOVE_WORD_LEFT);\n+            registerKey(KeyBinding.controlShift(KeyCode.LEFT), RichTextArea.Tag.SELECT_WORD_LEFT);\n+            registerKey(KeyBinding.control(KeyCode.RIGHT), RichTextArea.Tag.MOVE_WORD_RIGHT);\n+            registerKey(KeyBinding.controlShift(KeyCode.RIGHT), RichTextArea.Tag.SELECT_WORD_RIGHT);\n+            registerKey(KeyBinding.control(KeyCode.UP), RichTextArea.Tag.MOVE_PARAGRAPH_UP);\n+            registerKey(KeyBinding.controlShift(KeyCode.UP), RichTextArea.Tag.SELECT_PARAGRAPH_UP);\n@@ -236,1 +237,1 @@\n-                registerKey(KeyBinding.control(KeyCode.Y), RichTextArea.Tags.REDO);\n+                registerKey(KeyBinding.control(KeyCode.Y), RichTextArea.Tag.REDO);\n@@ -238,1 +239,1 @@\n-                registerKey(KeyBinding.controlShift(KeyCode.Z), RichTextArea.Tags.REDO);\n+                registerKey(KeyBinding.controlShift(KeyCode.Z), RichTextArea.Tag.REDO);\n@@ -1160,2 +1161,2 @@\n-            DataFormat[] fs = m.getSupportedDataFormats(false);\n-            if (fs.length > 0) {\n+            List<DataFormat> fs = m.getSupportedDataFormats(false);\n+            if (fs.size() > 0) {\n@@ -1203,2 +1204,2 @@\n-            DataFormat[] fs = m.getSupportedDataFormats(true);\n-            if (fs.length > 0) {\n+            List<DataFormat> fs = m.getSupportedDataFormats(true);\n+            if (fs.size() > 0) {\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/com\/sun\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaBehavior.java","additions":139,"deletions":138,"binary":false,"changes":277,"status":"modified"},{"patch":"@@ -168,1 +168,1 @@\n-    public static class Tags {\n+    public static class Tag {\n@@ -290,1 +290,1 @@\n-        private Tags() { }\n+        private Tag() { }\n@@ -523,1 +523,1 @@\n-     * Indicates whether this RichTextArea can be edited by the user, provided the model is also editable.\n+     * Indicates whether this RichTextArea can be edited by the user, provided the model is also writable.\n@@ -1114,1 +1114,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1119,1 +1119,1 @@\n-     * @see RichTextArea.Tags#BACKSPACE\n+     * @see RichTextArea.Tag#BACKSPACE\n@@ -1122,1 +1122,1 @@\n-        execute(Tags.BACKSPACE);\n+        execute(Tag.BACKSPACE);\n@@ -1161,1 +1161,1 @@\n-     * @see RichTextArea.Tags#COPY\n+     * @see RichTextArea.Tag#COPY\n@@ -1164,1 +1164,1 @@\n-        execute(Tags.COPY);\n+        execute(Tag.COPY);\n@@ -1184,1 +1184,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1188,1 +1188,1 @@\n-     * @see RichTextArea.Tags#CUT\n+     * @see RichTextArea.Tag#CUT\n@@ -1191,1 +1191,1 @@\n-        execute(Tags.CUT);\n+        execute(Tag.CUT);\n@@ -1198,1 +1198,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1202,1 +1202,1 @@\n-     * @see RichTextArea.Tags#DELETE\n+     * @see RichTextArea.Tag#DELETE\n@@ -1205,1 +1205,1 @@\n-        execute(Tags.DELETE);\n+        execute(Tag.DELETE);\n@@ -1211,1 +1211,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1215,1 +1215,1 @@\n-     * @see RichTextArea.Tags#DELETE_PARAGRAPH\n+     * @see RichTextArea.Tag#DELETE_PARAGRAPH\n@@ -1218,1 +1218,1 @@\n-        execute(Tags.DELETE_PARAGRAPH);\n+        execute(Tag.DELETE_PARAGRAPH);\n@@ -1224,1 +1224,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1228,1 +1228,1 @@\n-     * @see RichTextArea.Tags#DELETE_PARAGRAPH_START\n+     * @see RichTextArea.Tag#DELETE_PARAGRAPH_START\n@@ -1231,1 +1231,1 @@\n-        execute(Tags.DELETE_PARAGRAPH_START);\n+        execute(Tag.DELETE_PARAGRAPH_START);\n@@ -1238,1 +1238,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1242,1 +1242,1 @@\n-     * @see RichTextArea.Tags#DELETE_WORD_NEXT_END\n+     * @see RichTextArea.Tag#DELETE_WORD_NEXT_END\n@@ -1245,1 +1245,1 @@\n-        execute(Tags.DELETE_WORD_NEXT_END);\n+        execute(Tag.DELETE_WORD_NEXT_END);\n@@ -1252,1 +1252,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1256,1 +1256,1 @@\n-     * @see RichTextArea.Tags#DELETE_WORD_NEXT_START\n+     * @see RichTextArea.Tag#DELETE_WORD_NEXT_START\n@@ -1259,1 +1259,1 @@\n-        execute(Tags.DELETE_WORD_NEXT_START);\n+        execute(Tag.DELETE_WORD_NEXT_START);\n@@ -1266,1 +1266,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1270,1 +1270,1 @@\n-     * @see RichTextArea.Tags#DELETE_WORD_PREVIOUS\n+     * @see RichTextArea.Tag#DELETE_WORD_PREVIOUS\n@@ -1273,1 +1273,1 @@\n-        execute(Tags.DELETE_WORD_PREVIOUS);\n+        execute(Tag.DELETE_WORD_PREVIOUS);\n@@ -1280,1 +1280,1 @@\n-     * @see RichTextArea.Tags#DESELECT\n+     * @see RichTextArea.Tag#DESELECT\n@@ -1283,1 +1283,1 @@\n-        execute(Tags.DESELECT);\n+        execute(Tag.DESELECT);\n@@ -1290,1 +1290,1 @@\n-     * @see RichTextArea.Tags#ERROR_FEEDBACK\n+     * @see RichTextArea.Tag#ERROR_FEEDBACK\n@@ -1293,1 +1293,1 @@\n-        execute(Tags.ERROR_FEEDBACK);\n+        execute(Tag.ERROR_FEEDBACK);\n@@ -1449,1 +1449,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1453,1 +1453,1 @@\n-     * @see RichTextArea.Tags#INSERT_LINE_BREAK\n+     * @see RichTextArea.Tag#INSERT_LINE_BREAK\n@@ -1456,1 +1456,1 @@\n-        execute(Tags.INSERT_LINE_BREAK);\n+        execute(Tag.INSERT_LINE_BREAK);\n@@ -1462,1 +1462,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1466,1 +1466,1 @@\n-     * @see RichTextArea.Tags#INSERT_TAB\n+     * @see RichTextArea.Tag#INSERT_TAB\n@@ -1469,1 +1469,1 @@\n-        execute(Tags.INSERT_TAB);\n+        execute(Tag.INSERT_TAB);\n@@ -1505,1 +1505,1 @@\n-     * @see RichTextArea.Tags#MOVE_TO_DOCUMENT_END\n+     * @see RichTextArea.Tag#MOVE_TO_DOCUMENT_END\n@@ -1508,1 +1508,1 @@\n-        execute(Tags.MOVE_TO_DOCUMENT_END);\n+        execute(Tag.MOVE_TO_DOCUMENT_END);\n@@ -1515,1 +1515,1 @@\n-     * @see RichTextArea.Tags#MOVE_TO_DOCUMENT_START\n+     * @see RichTextArea.Tag#MOVE_TO_DOCUMENT_START\n@@ -1518,1 +1518,1 @@\n-        execute(Tags.MOVE_TO_DOCUMENT_START);\n+        execute(Tag.MOVE_TO_DOCUMENT_START);\n@@ -1527,1 +1527,1 @@\n-     * @see RichTextArea.Tags#MOVE_DOWN\n+     * @see RichTextArea.Tag#MOVE_DOWN\n@@ -1530,1 +1530,1 @@\n-        execute(Tags.MOVE_DOWN);\n+        execute(Tag.MOVE_DOWN);\n@@ -1539,1 +1539,1 @@\n-     * @see RichTextArea.Tags#MOVE_LEFT\n+     * @see RichTextArea.Tag#MOVE_LEFT\n@@ -1542,1 +1542,1 @@\n-        execute(Tags.MOVE_LEFT);\n+        execute(Tag.MOVE_LEFT);\n@@ -1551,1 +1551,1 @@\n-     * @see RichTextArea.Tags#MOVE_TO_LINE_END\n+     * @see RichTextArea.Tag#MOVE_TO_LINE_END\n@@ -1554,1 +1554,1 @@\n-        execute(Tags.MOVE_TO_LINE_END);\n+        execute(Tag.MOVE_TO_LINE_END);\n@@ -1563,1 +1563,1 @@\n-     * @see RichTextArea.Tags#MOVE_TO_LINE_START\n+     * @see RichTextArea.Tag#MOVE_TO_LINE_START\n@@ -1566,1 +1566,1 @@\n-        execute(Tags.MOVE_TO_LINE_START);\n+        execute(Tag.MOVE_TO_LINE_START);\n@@ -1575,1 +1575,1 @@\n-     * @see RichTextArea.Tags#MOVE_PARAGRAPH_DOWN\n+     * @see RichTextArea.Tag#MOVE_PARAGRAPH_DOWN\n@@ -1578,1 +1578,1 @@\n-        execute(Tags.MOVE_PARAGRAPH_DOWN);\n+        execute(Tag.MOVE_PARAGRAPH_DOWN);\n@@ -1587,1 +1587,1 @@\n-     * @see RichTextArea.Tags#MOVE_TO_PARAGRAPH_END\n+     * @see RichTextArea.Tag#MOVE_TO_PARAGRAPH_END\n@@ -1590,1 +1590,1 @@\n-        execute(Tags.MOVE_TO_PARAGRAPH_END);\n+        execute(Tag.MOVE_TO_PARAGRAPH_END);\n@@ -1599,1 +1599,1 @@\n-     * @see RichTextArea.Tags#MOVE_TO_PARAGRAPH_START\n+     * @see RichTextArea.Tag#MOVE_TO_PARAGRAPH_START\n@@ -1602,1 +1602,1 @@\n-        execute(Tags.MOVE_TO_PARAGRAPH_START);\n+        execute(Tag.MOVE_TO_PARAGRAPH_START);\n@@ -1611,1 +1611,1 @@\n-     * @see RichTextArea.Tags#MOVE_PARAGRAPH_UP\n+     * @see RichTextArea.Tag#MOVE_PARAGRAPH_UP\n@@ -1614,1 +1614,1 @@\n-        execute(Tags.MOVE_PARAGRAPH_UP);\n+        execute(Tag.MOVE_PARAGRAPH_UP);\n@@ -1623,1 +1623,1 @@\n-     * @see RichTextArea.Tags#MOVE_RIGHT\n+     * @see RichTextArea.Tag#MOVE_RIGHT\n@@ -1626,1 +1626,1 @@\n-        execute(Tags.MOVE_RIGHT);\n+        execute(Tag.MOVE_RIGHT);\n@@ -1635,1 +1635,1 @@\n-     * @see RichTextArea.Tags#MOVE_UP\n+     * @see RichTextArea.Tag#MOVE_UP\n@@ -1638,1 +1638,1 @@\n-        execute(Tags.MOVE_UP);\n+        execute(Tag.MOVE_UP);\n@@ -1648,1 +1648,1 @@\n-     * @see RichTextArea.Tags#MOVE_WORD_LEFT\n+     * @see RichTextArea.Tag#MOVE_WORD_LEFT\n@@ -1651,1 +1651,1 @@\n-        execute(Tags.MOVE_WORD_LEFT);\n+        execute(Tag.MOVE_WORD_LEFT);\n@@ -1660,1 +1660,1 @@\n-     * @see RichTextArea.Tags#MOVE_WORD_NEXT_END\n+     * @see RichTextArea.Tag#MOVE_WORD_NEXT_END\n@@ -1663,1 +1663,1 @@\n-        execute(Tags.MOVE_WORD_NEXT_END);\n+        execute(Tag.MOVE_WORD_NEXT_END);\n@@ -1672,1 +1672,1 @@\n-     * @see RichTextArea.Tags#MOVE_WORD_NEXT_START\n+     * @see RichTextArea.Tag#MOVE_WORD_NEXT_START\n@@ -1675,1 +1675,1 @@\n-        execute(Tags.MOVE_WORD_NEXT_START);\n+        execute(Tag.MOVE_WORD_NEXT_START);\n@@ -1684,1 +1684,1 @@\n-     * @see RichTextArea.Tags#MOVE_WORD_PREVIOUS\n+     * @see RichTextArea.Tag#MOVE_WORD_PREVIOUS\n@@ -1687,1 +1687,1 @@\n-        execute(Tags.MOVE_WORD_PREVIOUS);\n+        execute(Tag.MOVE_WORD_PREVIOUS);\n@@ -1697,1 +1697,1 @@\n-     * @see RichTextArea.Tags#MOVE_WORD_RIGHT\n+     * @see RichTextArea.Tag#MOVE_WORD_RIGHT\n@@ -1700,1 +1700,1 @@\n-        execute(Tags.MOVE_WORD_RIGHT);\n+        execute(Tag.MOVE_WORD_RIGHT);\n@@ -1709,1 +1709,1 @@\n-     * @see RichTextArea.Tags#PAGE_DOWN\n+     * @see RichTextArea.Tag#PAGE_DOWN\n@@ -1712,1 +1712,1 @@\n-        execute(Tags.PAGE_DOWN);\n+        execute(Tag.PAGE_DOWN);\n@@ -1721,1 +1721,1 @@\n-     * @see RichTextArea.Tags#PAGE_UP\n+     * @see RichTextArea.Tag#PAGE_UP\n@@ -1724,1 +1724,1 @@\n-        execute(Tags.PAGE_UP);\n+        execute(Tag.PAGE_UP);\n@@ -1732,1 +1732,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1736,1 +1736,1 @@\n-     * @see RichTextArea.Tags#PASTE\n+     * @see RichTextArea.Tag#PASTE\n@@ -1739,1 +1739,1 @@\n-        execute(Tags.PASTE);\n+        execute(Tag.PASTE);\n@@ -1745,1 +1745,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1761,1 +1761,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -1765,1 +1765,1 @@\n-     * @see RichTextArea.Tags#PASTE_PLAIN_TEXT\n+     * @see RichTextArea.Tag#PASTE_PLAIN_TEXT\n@@ -1768,1 +1768,1 @@\n-        execute(Tags.PASTE_PLAIN_TEXT);\n+        execute(Tag.PASTE_PLAIN_TEXT);\n@@ -1815,1 +1815,1 @@\n-     * @see RichTextArea.Tags#REDO\n+     * @see RichTextArea.Tag#REDO\n@@ -1818,1 +1818,1 @@\n-        execute(Tags.REDO);\n+        execute(Tag.REDO);\n@@ -1883,1 +1883,1 @@\n-     * @see RichTextArea.Tags#SELECT_ALL\n+     * @see RichTextArea.Tag#SELECT_ALL\n@@ -1886,1 +1886,1 @@\n-        execute(Tags.SELECT_ALL);\n+        execute(Tag.SELECT_ALL);\n@@ -1895,1 +1895,1 @@\n-     * @see RichTextArea.Tags#SELECT_DOWN\n+     * @see RichTextArea.Tag#SELECT_DOWN\n@@ -1898,1 +1898,1 @@\n-        execute(Tags.SELECT_DOWN);\n+        execute(Tag.SELECT_DOWN);\n@@ -1907,1 +1907,1 @@\n-     * @see RichTextArea.Tags#SELECT_LEFT\n+     * @see RichTextArea.Tag#SELECT_LEFT\n@@ -1910,1 +1910,1 @@\n-        execute(Tags.SELECT_LEFT);\n+        execute(Tag.SELECT_LEFT);\n@@ -1919,1 +1919,1 @@\n-     * @see RichTextArea.Tags#SELECT_PAGE_DOWN\n+     * @see RichTextArea.Tag#SELECT_PAGE_DOWN\n@@ -1922,1 +1922,1 @@\n-        execute(Tags.SELECT_PAGE_DOWN);\n+        execute(Tag.SELECT_PAGE_DOWN);\n@@ -1931,1 +1931,1 @@\n-     * @see RichTextArea.Tags#SELECT_PAGE_UP\n+     * @see RichTextArea.Tag#SELECT_PAGE_UP\n@@ -1934,1 +1934,1 @@\n-        execute(Tags.SELECT_PAGE_UP);\n+        execute(Tag.SELECT_PAGE_UP);\n@@ -1943,1 +1943,1 @@\n-     * @see RichTextArea.Tags#SELECT_PARAGRAPH\n+     * @see RichTextArea.Tag#SELECT_PARAGRAPH\n@@ -1946,1 +1946,1 @@\n-        execute(Tags.SELECT_PARAGRAPH);\n+        execute(Tag.SELECT_PARAGRAPH);\n@@ -1956,1 +1956,1 @@\n-     * @see RichTextArea.Tags#SELECT_PARAGRAPH_DOWN\n+     * @see RichTextArea.Tag#SELECT_PARAGRAPH_DOWN\n@@ -1959,1 +1959,1 @@\n-        execute(Tags.SELECT_PARAGRAPH_DOWN);\n+        execute(Tag.SELECT_PARAGRAPH_DOWN);\n@@ -1968,1 +1968,1 @@\n-     * @see RichTextArea.Tags#SELECT_PARAGRAPH_END\n+     * @see RichTextArea.Tag#SELECT_PARAGRAPH_END\n@@ -1971,1 +1971,1 @@\n-        execute(Tags.SELECT_PARAGRAPH_END);\n+        execute(Tag.SELECT_PARAGRAPH_END);\n@@ -1980,1 +1980,1 @@\n-     * @see RichTextArea.Tags#SELECT_PARAGRAPH_START\n+     * @see RichTextArea.Tag#SELECT_PARAGRAPH_START\n@@ -1983,1 +1983,1 @@\n-        execute(Tags.SELECT_PARAGRAPH_START);\n+        execute(Tag.SELECT_PARAGRAPH_START);\n@@ -1993,1 +1993,1 @@\n-     * @see RichTextArea.Tags#SELECT_PARAGRAPH_UP\n+     * @see RichTextArea.Tag#SELECT_PARAGRAPH_UP\n@@ -1996,1 +1996,1 @@\n-        execute(Tags.SELECT_PARAGRAPH_UP);\n+        execute(Tag.SELECT_PARAGRAPH_UP);\n@@ -2005,1 +2005,1 @@\n-     * @see RichTextArea.Tags#SELECT_RIGHT\n+     * @see RichTextArea.Tag#SELECT_RIGHT\n@@ -2008,1 +2008,1 @@\n-        execute(Tags.SELECT_RIGHT);\n+        execute(Tag.SELECT_RIGHT);\n@@ -2017,1 +2017,1 @@\n-     * @see RichTextArea.Tags#SELECT_TO_DOCUMENT_END\n+     * @see RichTextArea.Tag#SELECT_TO_DOCUMENT_END\n@@ -2020,1 +2020,1 @@\n-        execute(Tags.SELECT_TO_DOCUMENT_END);\n+        execute(Tag.SELECT_TO_DOCUMENT_END);\n@@ -2027,1 +2027,1 @@\n-     * @see RichTextArea.Tags#SELECT_TO_DOCUMENT_START\n+     * @see RichTextArea.Tag#SELECT_TO_DOCUMENT_START\n@@ -2030,1 +2030,1 @@\n-        execute(Tags.SELECT_TO_DOCUMENT_START);\n+        execute(Tag.SELECT_TO_DOCUMENT_START);\n@@ -2039,1 +2039,1 @@\n-     * @see RichTextArea.Tags#SELECT_TO_LINE_END\n+     * @see RichTextArea.Tag#SELECT_TO_LINE_END\n@@ -2042,1 +2042,1 @@\n-        execute(Tags.SELECT_TO_LINE_END);\n+        execute(Tag.SELECT_TO_LINE_END);\n@@ -2049,1 +2049,1 @@\n-     * @see RichTextArea.Tags#SELECT_TO_LINE_START\n+     * @see RichTextArea.Tag#SELECT_TO_LINE_START\n@@ -2052,1 +2052,1 @@\n-        execute(Tags.SELECT_TO_LINE_START);\n+        execute(Tag.SELECT_TO_LINE_START);\n@@ -2061,1 +2061,1 @@\n-     * @see RichTextArea.Tags#SELECT_UP\n+     * @see RichTextArea.Tag#SELECT_UP\n@@ -2064,1 +2064,1 @@\n-        execute(Tags.SELECT_UP);\n+        execute(Tag.SELECT_UP);\n@@ -2073,1 +2073,1 @@\n-     * @see RichTextArea.Tags#SELECT_WORD\n+     * @see RichTextArea.Tag#SELECT_WORD\n@@ -2076,1 +2076,1 @@\n-        execute(Tags.SELECT_WORD);\n+        execute(Tag.SELECT_WORD);\n@@ -2089,1 +2089,1 @@\n-     * @see RichTextArea.Tags#SELECT_WORD_LEFT\n+     * @see RichTextArea.Tag#SELECT_WORD_LEFT\n@@ -2092,1 +2092,1 @@\n-        execute(Tags.SELECT_WORD_LEFT);\n+        execute(Tag.SELECT_WORD_LEFT);\n@@ -2101,1 +2101,1 @@\n-     * @see RichTextArea.Tags#SELECT_WORD_NEXT_END\n+     * @see RichTextArea.Tag#SELECT_WORD_NEXT_END\n@@ -2104,1 +2104,1 @@\n-        execute(Tags.SELECT_WORD_NEXT_END);\n+        execute(Tag.SELECT_WORD_NEXT_END);\n@@ -2115,1 +2115,1 @@\n-     * @see RichTextArea.Tags#SELECT_WORD_NEXT\n+     * @see RichTextArea.Tag#SELECT_WORD_NEXT\n@@ -2118,1 +2118,1 @@\n-        execute(Tags.SELECT_WORD_NEXT);\n+        execute(Tag.SELECT_WORD_NEXT);\n@@ -2129,1 +2129,1 @@\n-     * @see RichTextArea.Tags#SELECT_WORD_PREVIOUS\n+     * @see RichTextArea.Tag#SELECT_WORD_PREVIOUS\n@@ -2132,1 +2132,1 @@\n-        execute(Tags.SELECT_WORD_PREVIOUS);\n+        execute(Tag.SELECT_WORD_PREVIOUS);\n@@ -2145,1 +2145,1 @@\n-     * @see RichTextArea.Tags#SELECT_WORD_RIGHT\n+     * @see RichTextArea.Tag#SELECT_WORD_RIGHT\n@@ -2148,1 +2148,1 @@\n-        execute(Tags.SELECT_WORD_RIGHT);\n+        execute(Tag.SELECT_WORD_RIGHT);\n@@ -2172,1 +2172,1 @@\n-     * This method does nothing if either the control or the model is not editable,\n+     * This method does nothing if the control is not editable or the model is not writable,\n@@ -2176,1 +2176,1 @@\n-     * @see RichTextArea.Tags#UNDO\n+     * @see RichTextArea.Tag#UNDO\n@@ -2179,1 +2179,1 @@\n-        execute(Tags.UNDO);\n+        execute(Tag.UNDO);\n@@ -2367,3 +2367,3 @@\n-            DataFormat[] fs = m.getSupportedDataFormats(forExport);\n-            if (fs.length > 0) {\n-                return fs[0];\n+            List<DataFormat> fs = m.getSupportedDataFormats(forExport);\n+            if (fs.size() > 0) {\n+                return fs.get(0);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/RichTextArea.java","additions":136,"deletions":136,"binary":false,"changes":272,"status":"modified"},{"patch":"@@ -114,1 +114,1 @@\n-        registerDataFormatHandler(PlainTextFormatHandler.INSTANCE, true, true, 0);\n+        registerDataFormatHandler(PlainTextFormatHandler.getInstance(), true, true, 0);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/BasicTextModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -107,2 +107,2 @@\n-     * Determines whether the change is an edit (true) or affects styling only (false).\n-     * @return true if change affects stylint only\n+     * Determines whether the change is an edit ({@code true}) or affects styling only ({@code false}).\n+     * @return true if change is an edit\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/ContentChange.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -47,2 +47,1 @@\n-    \/** The singleton instance of {@code HtmlExportFormatHandler}. *\/\n-    public static final HtmlExportFormatHandler INSTANCE = new HtmlExportFormatHandler();\n+    private static final HtmlExportFormatHandler instance = new HtmlExportFormatHandler();\n@@ -55,0 +54,8 @@\n+    \/**\n+     * Returns the singleton instance of {@code HtmlExportFormatHandler}.\n+     * @return the singleton instance of {@code HtmlExportFormatHandler}\n+     *\/\n+    public static final HtmlExportFormatHandler getInstance() {\n+        return instance;\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/HtmlExportFormatHandler.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -42,2 +42,1 @@\n-    \/** The singleton instance of {@code PlainTextFormatHandler}. *\/\n-    public static final PlainTextFormatHandler INSTANCE = new PlainTextFormatHandler();\n+    private static final PlainTextFormatHandler instance = new PlainTextFormatHandler();\n@@ -50,0 +49,8 @@\n+    \/**\n+     * Returns the singleton instance of {@code PlainTextFormatHandler}.\n+     * @return the singleton instance of {@code PlainTextFormatHandler}\n+     *\/\n+    public static final PlainTextFormatHandler getInstance() {\n+        return instance;\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/PlainTextFormatHandler.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -119,3 +119,1 @@\n-\n-    \/** The singleton instance of {@code RtfFormatHandler}. *\/\n-    public static final RichTextFormatHandler INSTANCE = new RichTextFormatHandler();\n+    private static final RichTextFormatHandler instance = new RichTextFormatHandler();\n@@ -148,0 +146,8 @@\n+    \/**\n+     * Returns the singleton instance of {@code RtfFormatHandler}.\n+     * @return the singleton instance of {@code RtfFormatHandler}\n+     *\/\n+    public static final RichTextFormatHandler getInstance() {\n+        return instance;\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/RichTextFormatHandler.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -53,4 +53,4 @@\n-        registerDataFormatHandler(RichTextFormatHandler.INSTANCE, true, true, 2000);\n-        registerDataFormatHandler(RtfFormatHandler.INSTANCE, true, true, 1000);\n-        registerDataFormatHandler(HtmlExportFormatHandler.INSTANCE, true, false, 100);\n-        registerDataFormatHandler(PlainTextFormatHandler.INSTANCE, true, true, 0);\n+        registerDataFormatHandler(RichTextFormatHandler.getInstance(), true, true, 2000);\n+        registerDataFormatHandler(RtfFormatHandler.getInstance(), true, true, 1000);\n+        registerDataFormatHandler(HtmlExportFormatHandler.getInstance(), true, false, 100);\n+        registerDataFormatHandler(PlainTextFormatHandler.getInstance(), true, true, 0);\n@@ -132,1 +132,0 @@\n-        \/\/ TODO\n@@ -180,3 +179,1 @@\n-    \/\/ TODO remove later\n-    @Deprecated\n-    public static void dump(StyledTextModel model, PrintStream out) {\n+    private static void dump(StyledTextModel model, PrintStream out) {\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/RichTextModel.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -47,2 +47,1 @@\n-    \/** The singleton instance of {@code RtfFormatHandler}. *\/\n-    public static final RtfFormatHandler INSTANCE = new RtfFormatHandler();\n+    private static final RtfFormatHandler instance = new RtfFormatHandler();\n@@ -55,0 +54,8 @@\n+    \/**\n+     * Returns the singleton instance of {@code RtfFormatHandler}.\n+     * @return the singleton instance of {@code RtfFormatHandler}\n+     *\/\n+    public static final RtfFormatHandler getInstance() {\n+        return instance;\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/RtfFormatHandler.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -63,1 +63,3 @@\n-     * Creates the model from the supplied text string by breaking it down into individual text segments.\n+     * Creates the model from the supplied text string by breaking it down into individual text segments,\n+     * by splitting on newline characters.\n+     *\n@@ -68,1 +70,1 @@\n-    public static SimpleViewOnlyStyledModel from(String text) throws IOException {\n+    public static SimpleViewOnlyStyledModel of(String text) throws IOException {\n@@ -96,1 +98,1 @@\n-     * The {@code text} cannot contain newline ({@code \\n}) symbols.\n+     * The caller must ensure that the {@code text} does not contain newline symbols.\n@@ -99,1 +101,1 @@\n-     * @param text the text to append, must not contain {@code \\n}, cannot be null\n+     * @param text the text to append, must not contain newline symbols, cannot be null\n@@ -187,1 +189,1 @@\n-     * Adds a squiggly line (typically used as a spell checker indicator) to the specified range within the last paragraph.\n+     * Adds a wave underline (typically used as a spell checker indicator) to the specified range within the last paragraph.\n@@ -194,1 +196,1 @@\n-    public SimpleViewOnlyStyledModel squiggly(int start, int length, Color c) {\n+    public SimpleViewOnlyStyledModel wavyUnderline(int start, int length, Color c) {\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/SimpleViewOnlyStyledModel.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import java.util.List;\n@@ -40,0 +41,1 @@\n+import java.util.stream.Collectors;\n@@ -119,1 +121,1 @@\n-     * methods, i.e. editing via UI.\n+     * methods.\n@@ -124,1 +126,1 @@\n-     * @return true if the model supports content modifications via the UI\n+     * @return true if the model supports content modifications\n@@ -138,1 +140,1 @@\n-     * The caller should never attempt to ask for a paragraph outside of the valid range.\n+     * The caller must not attempt to ask for a paragraph outside of the valid range.\n@@ -149,2 +151,2 @@\n-     * @param index paragraph index in the range (0...{@link #size()})\n-     * @return a new instance of TextCell created\n+     * @param index the paragraph index in the range (0...{@link #size()})\n+     * @return the instance of {@code RichParagraph}\n@@ -222,1 +224,1 @@\n-     * Returns the {@link StyleAttributeMap} of the first character at the specified position.\n+     * Returns the {@link StyleAttributeMap} of the character at the specified position's {@code charIndex}.\n@@ -287,3 +289,3 @@\n-        registerDataFormatHandler(RtfFormatHandler.INSTANCE, true, false, 1000);\n-        registerDataFormatHandler(HtmlExportFormatHandler.INSTANCE, true, false, 100);\n-        registerDataFormatHandler(PlainTextFormatHandler.INSTANCE, true, false, 0);\n+        registerDataFormatHandler(RtfFormatHandler.getInstance(), true, false, 1000);\n+        registerDataFormatHandler(HtmlExportFormatHandler.getInstance(), true, false, 100);\n+        registerDataFormatHandler(PlainTextFormatHandler.getInstance(), true, false, 0);\n@@ -360,1 +362,1 @@\n-     * Returns an array of supported data formats for either export or import operations,\n+     * Returns an immutable list of supported data formats for either export or import operations,\n@@ -368,1 +370,1 @@\n-     * @return supported formats\n+     * @return the immutable list of supported formats\n@@ -370,1 +372,1 @@\n-    public final DataFormat[] getSupportedDataFormats(boolean forExport) {\n+    public final List<DataFormat> getSupportedDataFormats(boolean forExport) {\n@@ -378,6 +380,3 @@\n-        int sz = fs.size();\n-        DataFormat[] formats = new DataFormat[sz];\n-        for (int i = 0; i < sz; i++) {\n-            formats[i] = fs.get(i).handler().getDataFormat();\n-        }\n-        return formats;\n+        return fs.stream().\n+            map((h) -> h.handler().getDataFormat()).\n+            collect(Collectors.toUnmodifiableList());\n@@ -444,0 +443,1 @@\n+     * This method does not close the {@code StyledOutput}.\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/StyledTextModel.java","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-        registerDataFormatHandler(RichTextFormatHandler.INSTANCE, true, false, 2000);\n+        registerDataFormatHandler(RichTextFormatHandler.getInstance(), true, false, 2000);\n@@ -45,0 +45,3 @@\n+    \/**\n+     * @return always returns {@code false}\n+     *\/\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/StyledTextModelViewOnlyBase.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-        RichTextFormatHandler handler = RichTextFormatHandler.INSTANCE;\n+        RichTextFormatHandler handler = RichTextFormatHandler.getInstance();\n@@ -105,1 +105,1 @@\n-        StyledOutput out = RichTextFormatHandlerHelper.createStyledOutput(RichTextFormatHandler.INSTANCE, null, wr);\n+        StyledOutput out = RichTextFormatHandlerHelper.createStyledOutput(RichTextFormatHandler.getInstance(), null, wr);\n@@ -118,1 +118,1 @@\n-        StyledOutput out = RichTextFormatHandlerHelper.createStyledOutput(RichTextFormatHandler.INSTANCE, null, wr);\n+        StyledOutput out = RichTextFormatHandlerHelper.createStyledOutput(RichTextFormatHandler.getInstance(), null, wr);\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/model\/TestRichTextFormatHandler.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -123,1 +123,1 @@\n-            RichTextFormatHandler h = RichTextFormatHandler.INSTANCE;\n+            RichTextFormatHandler h = RichTextFormatHandler.getInstance();\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/model\/TestRichTextModelAttributes.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
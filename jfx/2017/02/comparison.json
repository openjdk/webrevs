{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -292,1 +292,6 @@\n-                TextPos p = m.replace(vflow, start, end, typed);\n+                StyleAttributeMap a = control.getInsertStyles();\n+                if (a == null) {\n+                    a = m.getStyleAttributeMap(vflow, start);\n+                }\n+                StyledInput in = StyledInput.of(typed, a);\n+                TextPos p = m.replace(vflow, start, end, in);\n@@ -1587,1 +1592,1 @@\n-                    p = control.replaceText(caret, p, \"\");\n+                    p = control.replaceText(caret, p, StyledInput.EMPTY);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/com\/sun\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaBehavior.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -299,0 +299,1 @@\n+    private SimpleObjectProperty<StyleAttributeMap> insertStyles;\n@@ -597,0 +598,26 @@\n+    \/**\n+     * Specifies the styles to be in effect for the characters to be inserted via user input.\n+     * The value can be {@code null}, in which case the styles are determined by the model.\n+     *\n+     * @return the insert styles property\n+     * @defaultValue null\n+     * @since 26\n+     *\/\n+    public final ObjectProperty<StyleAttributeMap> insertStylesProperty() {\n+        if (insertStyles == null) {\n+            insertStyles = new SimpleObjectProperty<>(this, \"insertStyles\");\n+        }\n+        return insertStyles;\n+    }\n+\n+    public final StyleAttributeMap getInsertStyles() {\n+        if (insertStyles == null) {\n+            return null;\n+        }\n+        return insertStyles.get();\n+    }\n+\n+    public final void setInsertStyles(StyleAttributeMap v) {\n+        insertStylesProperty().set(v);\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/RichTextArea.java","additions":28,"deletions":1,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import javafx.beans.NamedArg;\n@@ -42,0 +43,1 @@\n+import javafx.event.EventType;\n@@ -51,0 +53,2 @@\n+import javafx.scene.input.KeyCode;\n+import javafx.scene.input.KeyEvent;\n@@ -571,0 +575,21 @@\n+    @Test\n+    public void insertStyles() {\n+        control.select(TextPos.ZERO);\n+        control.setInsertStyles(BOLD);\n+        type(\"bold\");\n+        control.setInsertStyles(ITALIC);\n+        type(\"italic\");\n+\n+        control.select(TextPos.ofLeading(0, 2));\n+        assertEquals(BOLD, control.getActiveStyleAttributeMap());\n+        control.select(TextPos.ofLeading(0, 6));\n+        assertEquals(ITALIC, control.getActiveStyleAttributeMap());\n+\n+        \/\/ verify that the model styles are used when insertStyles=null\n+        control.setInsertStyles(null);\n+        control.select(TextPos.ofLeading(0, 2));\n+        type(\"**\");\n+        control.select(TextPos.ofLeading(0, 3));\n+        assertEquals(BOLD, control.getActiveStyleAttributeMap());\n+    }\n+\n@@ -962,0 +987,19 @@\n+\n+    private void type(String text) {\n+        for (char c : text.toCharArray()) {\n+            String ch = String.valueOf(c);\n+            KeyEvent ev = new KeyEvent(\n+                this,\n+                control,\n+                KeyEvent.KEY_TYPED,\n+                ch,\n+                \"\",\n+                KeyCode.UNDEFINED,\n+                false, \/\/ shiftDown\n+                false, \/\/ controlDown\n+                false, \/\/ altDown\n+                false \/\/ metaDown\n+            );\n+            Event.fireEvent(control, ev);\n+        }\n+    }\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaTest.java","additions":45,"deletions":1,"binary":false,"changes":46,"status":"modified"}]}
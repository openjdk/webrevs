{"files":[{"patch":"@@ -212,4 +212,6 @@\n-    int i;\n-    for (i=0; i < n_monitors; i++) {\n-        env->SetObjectArrayElement(jscreens, i, createJavaScreen(env, default_gdk_screen, i));\n-        JNI_EXCEPTION_TO_CPP(env)\n+    if (jscreens != NULL) {\n+        int i;\n+        for (i=0; i < n_monitors; i++) {\n+            env->SetObjectArrayElement(jscreens, i, createJavaScreen(env, default_gdk_screen, i));\n+            JNI_EXCEPTION_TO_CPP(env)\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_screen.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -90,3 +90,5 @@\n-    for (NSUInteger index = 0; index < [screens count]; index++) {\n-        jobject javaScreen = createJavaScreen(env, [screens objectAtIndex:index]);\n-        (*env)->SetObjectArrayElement(env, screenArray, index, javaScreen);\n+    if (screenArray != NULL) {\n+        for (NSUInteger index = 0; index < [screens count]; index++) {\n+            jobject javaScreen = createJavaScreen(env, [screens objectAtIndex:index]);\n+            (*env)->SetObjectArrayElement(env, screenArray, index, javaScreen);\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/ios\/GlassScreen.m","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -138,9 +138,15 @@\n-    maxScreenDimensions = NSMakeSize(0.f,0.f);\n-    for (NSUInteger index = 0; index < [screens count]; index++) {\n-        NSRect screenRect = [[screens objectAtIndex:index] frame];\n-\n-        if (screenRect.size.width > maxScreenDimensions.width) {\n-            maxScreenDimensions.width = screenRect.size.width;\n-        }\n-        if (screenRect.size.height > maxScreenDimensions.height) {\n-            maxScreenDimensions.height = screenRect.size.height;\n+    if (screenArray != NULL) {\n+        maxScreenDimensions = NSMakeSize(0.f,0.f);\n+        for (NSUInteger index = 0; index < [screens count]; index++) {\n+            NSRect screenRect = [[screens objectAtIndex:index] frame];\n+\n+            if (screenRect.size.width > maxScreenDimensions.width) {\n+                maxScreenDimensions.width = screenRect.size.width;\n+            }\n+            if (screenRect.size.height > maxScreenDimensions.height) {\n+                maxScreenDimensions.height = screenRect.size.height;\n+            }\n+\n+            jobject javaScreen = createJavaScreen(env, [screens objectAtIndex:index]);\n+            (*env)->SetObjectArrayElement(env, screenArray, index, javaScreen);\n+            GLASS_CHECK_EXCEPTION(env);\n@@ -148,4 +154,0 @@\n-\n-        jobject javaScreen = createJavaScreen(env, [screens objectAtIndex:index]);\n-        (*env)->SetObjectArrayElement(env, screenArray, index, javaScreen);\n-        GLASS_CHECK_EXCEPTION(env);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassScreen.m","additions":15,"deletions":13,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -606,1 +606,1 @@\n-    if (CheckAndClearException(env)) {\n+    if (CheckAndClearException(env) || jScreens == NULL) {\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/win\/GlassScreen.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
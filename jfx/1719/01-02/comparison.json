{"files":[{"patch":"@@ -30,1 +30,0 @@\n-import javafx.application.Application;\n@@ -33,2 +32,0 @@\n-import javafx.scene.robot.Robot;\n-import javafx.scene.Scene;\n@@ -36,1 +33,0 @@\n-import javafx.stage.Stage;\n@@ -39,2 +35,1 @@\n-import org.junit.jupiter.api.AfterAll;\n-import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.BeforeEach;\n@@ -43,0 +38,2 @@\n+\n+import test.robot.testharness.RobotTestBase;\n@@ -45,1 +42,1 @@\n-public class TextSelectionTest {\n+public class TextSelectionTest extends RobotTestBase{\n@@ -55,1 +52,0 @@\n-    private static CountDownLatch startupLatch = new CountDownLatch(1);\n@@ -57,2 +53,0 @@\n-    private static Scene scene;\n-    private static Robot robot;\n@@ -62,5 +56,3 @@\n-    public static class TestApp extends Application {\n-        @Override\n-        public void start(Stage primaryStage) {\n-\n-            robot = new Robot();\n+    @BeforeEach\n+    public void beforeEach() {\n+        Util.runAndWait(() -> {\n@@ -68,4 +60,0 @@\n-            scene = new Scene(webview, 400, 300);\n-            primaryStage.setScene(scene);\n-            primaryStage.setAlwaysOnTop(true);\n-\n@@ -78,8 +66,2 @@\n-            primaryStage.setOnShown(e -> startupLatch.countDown());\n-            primaryStage.show();\n-        }\n-    }\n-\n-    @BeforeAll\n-    public static void initFX() {\n-        Util.launch(startupLatch, TestApp.class);\n+            contentPane.setCenter(webview);\n+        });\n@@ -89,5 +71,0 @@\n-    @AfterAll\n-    public static void teardown() {\n-        Util.shutdown();\n-    }\n-\n@@ -97,1 +74,1 @@\n-    public void testTextSelection() throws Exception {\n+    public void testTextSelection() {\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/web\/TextSelectionTest.java","additions":10,"deletions":33,"binary":false,"changes":43,"status":"modified"}]}
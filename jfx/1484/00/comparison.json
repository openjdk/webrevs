{"files":[{"patch":"@@ -166,0 +166,86 @@\n+        uses: actions\/checkout@v2\n+        with:\n+          path: jfx\n+\n+      - name: Install dependencies\n+        run: |\n+          set -x\n+          echo \"NOT NEEDED: brew install make\"\n+          echo \"NOT NEEDED: wget ... ant\"\n+          #mkdir -p \"${HOME}\/build-tools\"\n+          #wget -O \"${HOME}\/build-tools\/${ANT_FILENAME}\" \"${ANT_URL}\"\n+          #tar -zxf \"${HOME}\/build-tools\/${ANT_FILENAME}\" -C \"${HOME}\/build-tools\"\n+\n+# FIXME: enable cache for boot JDK\n+#      - name: Restore boot JDK from cache\n+#        id: bootjdk\n+#        uses: actions\/cache@v2\n+#        with:\n+#          path: ~\/bootjdk\/${{ env.BOOT_JDK_VERSION }}\n+#          key: bootjdk-${{ runner.os }}-${{ env.BOOT_JDK_VERSION }}-${{ env.BOOT_JDK_SHA256 }}-v1\n+\n+      - name: Download boot JDK\n+        run: |\n+          set -x\n+          mkdir -p \"${HOME}\/bootjdk\"\n+          wget -O \"${HOME}\/bootjdk\/${BOOT_JDK_FILENAME}\" \"${BOOT_JDK_URL}\"\n+          # FIXME: sha256sum\n+          tar -xf \"${HOME}\/bootjdk\/${BOOT_JDK_FILENAME}\" -C \"${HOME}\/bootjdk\"\n+          # FIXME: enable cache for boot JDK\n+\n+      - name: Setup environment\n+        run: |\n+          set -x\n+          export JAVA_HOME=\"${HOME}\/bootjdk\/jdk-${BOOT_JDK_VERSION}.jdk\/Contents\/Home\"\n+          echo \"JAVA_HOME=${JAVA_HOME}\" >> \"${GITHUB_ENV}\"\n+          #export ANT_HOME=\"${HOME}\/build-tools\/${ANT_DIR}\"\n+          #echo \"ANT_HOME=${ANT_HOME}\" >> \"${GITHUB_ENV}\"\n+          #export PATH=\"$JAVA_HOME\/bin:$ANT_HOME\/bin:$PATH\"\n+          export PATH=\"$JAVA_HOME\/bin:$PATH\"\n+          env | sort\n+          which java\n+          java -version\n+          which ant\n+          ant -version\n+          sudo xcode-select --switch \/Applications\/Xcode_14.3.1.app\/Contents\/Developer\n+          xcodebuild -version\n+\n+      - name: Build JavaFX artifacts\n+        working-directory: jfx\n+        run: |\n+          set -x\n+          #export PATH=\"$JAVA_HOME\/bin:$ANT_HOME\/bin:$PATH\"\n+          export PATH=\"$JAVA_HOME\/bin:$PATH\"\n+          bash gradlew -version\n+          bash gradlew --info all\n+\n+      - name: Run JavaFX headless tests\n+        working-directory: jfx\n+        run: |\n+          set -x\n+          #export PATH=\"$JAVA_HOME\/bin:$ANT_HOME\/bin:$PATH\"\n+          export PATH=\"$JAVA_HOME\/bin:$PATH\"\n+          bash gradlew --info --continue -PTEST_ONLY=true test -x :web:test\n+\n+\n+  macos_aarch64_build:\n+    name: macOS aarch64\n+    needs: validation\n+    runs-on: \"macos-14\"\n+\n+    env:\n+      # FIXME: read this information from a property file\n+      # BOOT_JDK_VERSION: \"${{ fromJson(needs.prerequisites.outputs.dependencies).BOOT_JDK_VERSION }}\"\n+      # BOOT_JDK_FILENAME: \"${{ fromJson(needs.prerequisites.outputs.dependencies).LINUX_X64_BOOT_JDK_FILENAME }}\"\n+      # BOOT_JDK_URL: \"${{ fromJson(needs.prerequisites.outputs.dependencies).LINUX_X64_BOOT_JDK_URL }}\"\n+      # BOOT_JDK_SHA256: \"${{ fromJson(needs.prerequisites.outputs.dependencies).LINUX_X64_BOOT_JDK_SHA256 }}\"\n+      BOOT_JDK_VERSION: \"21.0.2\"\n+      BOOT_JDK_FILENAME: \"jdk-21.0.2_macos-aarch64_bin.tar.gz\"\n+      BOOT_JDK_URL: \"https:\/\/download.oracle.com\/java\/21\/archive\/jdk-21.0.2_macos-aarch64_bin.tar.gz\"\n+      # Disabled due to timeout downloading ant; use ant installed on system\n+      #ANT_DIR: \"apache-ant-1.10.5\"\n+      #ANT_FILENAME: \"apache-ant-1.10.5.tar.gz\"\n+      #ANT_URL: \"https:\/\/archive.apache.org\/dist\/ant\/binaries\/apache-ant-1.10.5-bin.tar.gz\"\n+\n+    steps:\n+      - name: Checkout the source\n","filename":".github\/workflows\/submit.yml","additions":86,"deletions":0,"binary":false,"changes":86,"status":"modified"}]}
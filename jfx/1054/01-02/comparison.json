{"files":[{"patch":"@@ -374,1 +374,1 @@\n-            \/\/ JDK-8299968: View size update (especially notifyResize event) have to happen\n+            \/\/ View size update (especially notifyResize event) has to happen\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/Window.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+import java.util.concurrent.TimeUnit;\n@@ -58,0 +59,1 @@\n+        protected CountDownLatch buttonLatch;\n@@ -60,1 +62,0 @@\n-        protected boolean wasClicked = false;\n@@ -69,0 +70,2 @@\n+            buttonLatch = new CountDownLatch(1);\n+\n@@ -70,1 +73,1 @@\n-            button.setOnAction((ActionEvent e) -> wasClicked = true);\n+            button.setOnAction((ActionEvent e) -> buttonLatch.countDown());\n@@ -77,1 +80,1 @@\n-        protected abstract void test();\n+        protected abstract void test() throws Exception;\n@@ -80,1 +83,1 @@\n-        public void runTest() {\n+        public void runTest() throws Exception {\n@@ -113,4 +116,3 @@\n-        protected void test() {\n-            wasClicked = false;\n-            Util.runAndWait(() -> testButtonClick());\n-            Assert.assertTrue(wasClicked);\n+        protected void test() throws Exception {\n+            Platform.runLater(() -> testButtonClick());\n+            Assert.assertTrue(buttonLatch.await(3, TimeUnit.SECONDS));\n@@ -128,4 +130,3 @@\n-        protected void test() {\n-            wasClicked = false;\n-            Util.runAndWait(() -> testButtonClick());\n-            Assert.assertTrue(wasClicked);\n+        protected void test() throws Exception {\n+            Platform.runLater(() -> testButtonClick());\n+            Assert.assertTrue(buttonLatch.await(3, TimeUnit.SECONDS));\n@@ -143,1 +144,1 @@\n-        protected void test() {\n+        protected void test() throws Exception {\n@@ -145,3 +146,2 @@\n-            wasClicked = false;\n-            Util.runAndWait(() -> testButtonClick());\n-            Assert.assertTrue(wasClicked);\n+            Platform.runLater(() -> testButtonClick());\n+            Assert.assertTrue(buttonLatch.await(3, TimeUnit.SECONDS));\n@@ -154,3 +154,2 @@\n-            wasClicked = false;\n-            Util.runAndWait(() -> testButtonClick());\n-            Assert.assertTrue(wasClicked);\n+            Platform.runLater(() -> testButtonClick());\n+            Assert.assertTrue(buttonLatch.await(3, TimeUnit.SECONDS));\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/stage\/SetSceneScalingTest.java","additions":18,"deletions":19,"binary":false,"changes":37,"status":"modified"}]}
{"files":[{"patch":"@@ -0,0 +1,157 @@\n+\/*\n+ * Copyright (c) 2026, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package test.javafx.beans.property;\n+\n+import javafx.beans.property.ReadOnlyStringProperty;\n+import javafx.beans.property.SimpleStringProperty;\n+import javafx.beans.property.StringProperty;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+\n+public class ReadOnlyPropertyDeclaringClassTest {\n+\n+    @Test\n+    void returnsNullWhenBeanIsNull() {\n+        var p = new SimpleStringProperty(null, \"foo\");\n+        assertNull(p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    void returnsNullWhenNameIsNull() {\n+        var bean = new Object();\n+        var p = new SimpleStringProperty(bean, null);\n+        assertNull(p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    void returnsNullWhenNameIsEmpty() {\n+        var bean = new Object();\n+        var p = new SimpleStringProperty(bean, \"\");\n+        assertNull(p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    void returnsNullWhenPropertyHasNoAccessor() {\n+        class FooBean {\n+            final StringProperty foo = new SimpleStringProperty(this, \"foo\");\n+        }\n+\n+        var bean = new FooBean();\n+        assertNull(bean.foo.getDeclaringClass());\n+    }\n+\n+    @Test\n+    void returnsDeclaringClassWhenAccessorExistsOnBeanClass() {\n+        class FooBean {\n+            private final StringProperty foo = new SimpleStringProperty(this, \"foo\");\n+\n+            public final StringProperty fooProperty() {\n+                return foo;\n+            }\n+        }\n+\n+        var bean = new FooBean();\n+        var p = bean.fooProperty();\n+        assertEquals(FooBean.class, p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    void returnsDeclaringClassFromSuperclassWhenAccessorDeclaredInSuperclass() {\n+        class BaseBean {\n+            private final StringProperty bar = new SimpleStringProperty(this, \"bar\");\n+\n+            public final StringProperty barProperty() {\n+                return bar;\n+            }\n+        }\n+\n+        class SubBean extends BaseBean {\n+            \/\/ no barProperty() here\n+        }\n+\n+        var bean = new SubBean();\n+        var p = bean.barProperty();\n+        assertEquals(BaseBean.class, p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    @SuppressWarnings(\"unused\")\n+    void ignoresStaticAccessorAndReturnsNull() {\n+        class StaticAccessorOnlyBean {\n+            public static ReadOnlyStringProperty bazProperty() {\n+                return null;\n+            }\n+        }\n+\n+        var bean = new StaticAccessorOnlyBean();\n+        var p = new SimpleStringProperty(bean, \"baz\");\n+        assertNull(p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    @SuppressWarnings(\"unused\")\n+    void ignoresAccessorWithNonReadOnlyPropertyReturnType() {\n+        class WrongReturnTypeBean {\n+            public String badProperty() {\n+                return \"not a property\";\n+            }\n+        }\n+\n+        var bean = new WrongReturnTypeBean();\n+        var p = new SimpleStringProperty(bean, \"bad\");\n+        assertNull(p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    void worksWithPrivateAccessorMethod() {\n+        class PrivateAccessorBean {\n+            private final StringProperty secret = new SimpleStringProperty(this, \"secret\");\n+\n+            private StringProperty secretProperty() {\n+                return secret;\n+            }\n+        }\n+\n+        var bean = new PrivateAccessorBean();\n+        var p = bean.secretProperty();\n+        assertEquals(PrivateAccessorBean.class, p.getDeclaringClass());\n+    }\n+\n+    @Test\n+    @SuppressWarnings(\"unused\")\n+    void returnsNullWhenAccessorHasParameters() {\n+        class ParamAccessorBean {\n+            public StringProperty withParamProperty(int ignored) {\n+                return new SimpleStringProperty(this, \"withParam\");\n+            }\n+        }\n+\n+        var bean = new ParamAccessorBean();\n+        var p = new SimpleStringProperty(bean, \"withParam\");\n+        assertNull(p.getDeclaringClass());\n+    }\n+}\n","filename":"modules\/javafx.base\/src\/test\/java\/test\/javafx\/beans\/property\/ReadOnlyPropertyDeclaringClassTest.java","additions":157,"deletions":0,"binary":false,"changes":157,"status":"added"}]}
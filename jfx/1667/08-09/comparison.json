{"files":[{"patch":"@@ -42,2 +42,2 @@\n-    private static GlyphLayout REUSABLE_INSTANCE = newInstance();\n-    private static final AtomicBoolean GUARD = new AtomicBoolean(false);\n+    private static final GlyphLayout REUSABLE_INSTANCE = newInstance();\n+    private static final AtomicBoolean IN_USE = new AtomicBoolean(false);\n@@ -51,1 +51,1 @@\n-        if (GUARD.compareAndSet(false, true)) {\n+        if (IN_USE.compareAndSet(false, true)) {\n@@ -60,1 +60,1 @@\n-            GUARD.set(false);\n+            IN_USE.set(false);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/text\/GlyphLayoutManager.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-public abstract class PrismTextLayout implements TextLayout {\n+public class PrismTextLayout implements TextLayout {\n@@ -834,1 +834,3 @@\n-    protected abstract GlyphLayout glyphLayout();\n+    protected GlyphLayout glyphLayout() {\n+        return GlyphLayoutManager.getInstance();\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/text\/PrismTextLayout.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-    private static final AtomicBoolean GUARD = new AtomicBoolean(false);\n+    private static final AtomicBoolean IN_USE = new AtomicBoolean(false);\n@@ -44,6 +44,1 @@\n-        return new PrismTextLayout(PrismFontFactory.cacheLayoutSize) {\n-            @Override\n-            protected GlyphLayout glyphLayout() {\n-                return GlyphLayoutManager.getInstance();\n-            }\n-        };\n+        return new PrismTextLayout(PrismFontFactory.cacheLayoutSize);\n@@ -54,1 +49,1 @@\n-        if (GUARD.compareAndSet(false, true)) {\n+        if (IN_USE.compareAndSet(false, true)) {\n@@ -68,1 +63,1 @@\n-            GUARD.set(false);\n+            IN_USE.set(false);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/text\/PrismTextLayoutFactory.java","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-            bold = name.toLowerCase(Locale.US).contains(\"bold\");\n+            bold = name.toLowerCase(Locale.ROOT).contains(\"bold\");\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/pgstub\/StubFontResource.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
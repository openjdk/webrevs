{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates.\n@@ -171,0 +171,4 @@\n+    @Override\n+    protected void applyParagraphStyle(int index, StyleAttributeMap paragraphAttrs) {\n+    }\n+\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/NotebookModelStacked.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -192,0 +192,5 @@\n+    @Override\n+    protected void applyParagraphStyle(int index, StyleAttributeMap paragraphAttrs) {\n+        \/\/ no-op\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/BasicTextModel.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -399,1 +399,1 @@\n-            StyleAttributeMap _paragraphAttributes = paragraphAttributes;\n+            StyleAttributeMap _paragraphAttributes = (paragraphAttributes == null ? StyleAttributeMap.EMPTY : paragraphAttributes);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/RichParagraph.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -148,0 +148,5 @@\n+    @Override\n+    protected void applyParagraphStyle(int index, StyleAttributeMap attrs) {\n+        paragraphs.get(index).applyParagraphAttributes(attrs);\n+    }\n+\n@@ -283,0 +288,8 @@\n+        public void applyParagraphAttributes(StyleAttributeMap a) {\n+            if (paragraphAttrs == null) {\n+                paragraphAttrs = a;\n+            } else {\n+                paragraphAttrs = paragraphAttrs.combine(a);\n+            }\n+        }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/RichTextModel.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -211,0 +211,10 @@\n+    \/**\n+     * Applies paragraph styles in the specified paragraph.\n+     *\n+     * @param index the paragraph index\n+     * @param paragraphAttrs the paragraph attributes\n+     * @throws UnsupportedOperationException if the model is not {@link #isWritable() writable}\n+     * @since 26\n+     *\/\n+    protected abstract void applyParagraphStyle(int index, StyleAttributeMap paragraphAttrs);\n+\n@@ -796,2 +806,8 @@\n-        if (pa != null) {\n-            \/\/ set paragraph attributes\n+        \/\/ paragraph attributes\n+        if (pa == null) {\n+            if (!mergeAttributes) {\n+                for (int ix = start.index(); ix <= end.index(); ix++) {\n+                    setParagraphStyle(ix, pa);\n+                }\n+            }\n+        } else {\n@@ -799,1 +815,5 @@\n-                setParagraphStyle(ix, pa);\n+                if (mergeAttributes) {\n+                    applyParagraphStyle(ix, pa);\n+                } else {\n+                    setParagraphStyle(ix, pa);\n+                }\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/StyledTextModel.java","additions":23,"deletions":3,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,0 +73,5 @@\n+    @Override\n+    protected final void applyParagraphStyle(int ix, StyleAttributeMap a) {\n+        throw new UnsupportedOperationException();\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/StyledTextModelViewOnlyBase.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -80,0 +80,4 @@\n+    @Override\n+    protected void applyParagraphStyle(int index, StyleAttributeMap paragraphAttrs) {\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/CustomStyledTextModel.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+import javafx.scene.paint.Color;\n@@ -52,0 +53,1 @@\n+    private static final StyleAttributeMap BULLET = StyleAttributeMap.builder().setBullet(\"x\").build();\n@@ -53,0 +55,1 @@\n+    private static final StyleAttributeMap RED = StyleAttributeMap.builder().setBackground(Color.RED).build();\n@@ -266,0 +269,34 @@\n+    @Test\n+    public void applyParagraphStyle() {\n+        RichTextModel m = createModel(\"1\\n2\\n3\");\n+        assertEquals(3, m.size());\n+        TextPos end = m.getDocumentEnd();\n+\n+        \/\/ 3 paragraphs red\n+        m.applyStyle(TextPos.ZERO, end, RED, false);\n+        assertEquals(RED, m.getParagraph(0).getParagraphAttributes());\n+        assertEquals(RED, m.getParagraph(1).getParagraphAttributes());\n+        assertEquals(RED, m.getParagraph(2).getParagraphAttributes());\n+\n+        \/\/ add bullets to the second and third\n+        m.applyStyle(TextPos.ofLeading(1, 0), end, BULLET, true);\n+        StyleAttributeMap combined = BULLET.combine(RED);\n+        assertEquals(RED, m.getParagraph(0).getParagraphAttributes());\n+        assertEquals(combined, m.getParagraph(1).getParagraphAttributes());\n+        assertEquals(combined, m.getParagraph(2).getParagraphAttributes());\n+\n+        \/\/ remove bullet from the second paragraph\n+        StyleAttributeMap redOff = StyleAttributeMap.of(StyleAttributeMap.BULLET, null);\n+        StyleAttributeMap result = StyleAttributeMap.builder().setBackground(Color.RED).setBullet(null).build();\n+        m.applyStyle(TextPos.ofLeading(1, 0), TextPos.ofLeading(1, 1), redOff, true);\n+        assertEquals(RED, m.getParagraph(0).getParagraphAttributes());\n+        assertEquals(result, m.getParagraph(1).getParagraphAttributes());\n+        assertEquals(combined, m.getParagraph(2).getParagraphAttributes());\n+\n+        \/\/ remove all styles\n+        m.applyStyle(TextPos.ZERO, end, StyleAttributeMap.EMPTY, false);\n+        assertEquals(StyleAttributeMap.EMPTY, m.getParagraph(0).getParagraphAttributes());\n+        assertEquals(StyleAttributeMap.EMPTY, m.getParagraph(1).getParagraphAttributes());\n+        assertEquals(StyleAttributeMap.EMPTY, m.getParagraph(2).getParagraphAttributes());\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/model\/TestRichTextModel.java","additions":37,"deletions":0,"binary":false,"changes":37,"status":"modified"}]}
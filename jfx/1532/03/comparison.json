{"files":[{"patch":"@@ -1024,1 +1024,1 @@\n-            DNDLOG(\"created an image with dim %dx%d\", [image size].width, [image size].height);\n+            DNDLOG(\"created an image with dim %fx%f\", [image size].width, [image size].height);\n@@ -1045,10 +1045,0 @@\n-        }\n-\n-        if (image != nil)\n-        {\n-            \/\/ select the center of the image as the drag origin\n-            \/\/ TODO http:\/\/javafx-jira.kenai.com\/browse\/RT-17629\n-            \/\/ would be nice to get this info from the Java layer,\n-            \/\/ so that we could adjust the drag image origin based on where in the src it was clicked on\n-            dragPoint.x -= ([image size].width\/2.0f);\n-            dragPoint.y -= ([image size].height\/2.0f);\n@@ -1060,2 +1050,2 @@\n-                float imageHalfX = [image size].width\/2.0f;\n-                float imageHalfY = [image size].height\/2.0f;\n+                float imageW = [image size].width;\n+                float imageH = [image size].height;\n@@ -1063,2 +1053,4 @@\n-                if (offset.x > imageHalfX || offset.x < -imageHalfX) {\n-                    offset.x = imageHalfX * (offset.x > 0 ? 1 : -1);\n+                if (offset.x < 0.0f) {\n+                    offset.x = 0.0f;\n+                } else if (offset.x > imageW) {\n+                    offset.x = imageW;\n@@ -1066,2 +1058,4 @@\n-                if (offset.y > imageHalfY || offset.y < -imageHalfY) {\n-                    offset.y = imageHalfY * (offset.y > 0 ? 1 : -1);\n+                if (offset.y < 0.0f) {\n+                    offset.y = 0.0f;\n+                } else if (offset.y > imageH) {\n+                    offset.y = imageH;\n@@ -1069,0 +1063,3 @@\n+\n+                dragPoint.x -= offset.x;\n+                dragPoint.y -= offset.y;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewDelegate.m","additions":14,"deletions":17,"binary":false,"changes":31,"status":"modified"}]}
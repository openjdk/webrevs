{"files":[{"patch":"@@ -28,4 +28,0 @@\n-import java.util.Collections;\n-import java.util.EnumSet;\n-import java.util.Set;\n-\n@@ -34,0 +30,5 @@\n+    \/**\n+     * Indicates no context awareness.\n+     *\/\n+    NONE(0),\n+\n@@ -37,1 +38,1 @@\n-    VIEWPORT_SIZE,\n+    VIEWPORT_SIZE(1),\n@@ -42,1 +43,1 @@\n-    FULLSCREEN;\n+    FULLSCREEN(2);\n@@ -44,4 +45,12 @@\n-    public static Set<ContextAwareness> combine(Set<ContextAwareness> first, Set<ContextAwareness> second) {\n-        var result = EnumSet.copyOf(first);\n-        result.addAll(second);\n-        return result;\n+    ContextAwareness(int value) {\n+        this.value = value;\n+    }\n+\n+    private final int value;\n+\n+    public int value() {\n+        return value;\n+    }\n+\n+    public boolean isSet(int flags) {\n+        return (flags & value) != 0;\n@@ -50,3 +59,7 @@\n-    public static Set<ContextAwareness> of(ContextAwareness... awareness) {\n-        var result = EnumSet.noneOf(ContextAwareness.class);\n-        Collections.addAll(result, awareness);\n+    public static int combine(ContextAwareness... contextAwareness) {\n+        int result = 0;\n+\n+        for (ContextAwareness value : contextAwareness) {\n+            result |= value.value;\n+        }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/ContextAwareness.java","additions":26,"deletions":13,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -34,1 +34,0 @@\n-import java.util.Set;\n@@ -56,1 +55,1 @@\n-    Set<ContextAwareness> getContextAwareness();\n+    int getContextAwareness();\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/MediaQuery.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import com.sun.javafx.css.media.ContextAwareness;\n@@ -34,1 +33,0 @@\n-import java.util.Set;\n@@ -43,1 +41,1 @@\n-    private final Set<ContextAwareness> contextAwareness;\n+    private final int contextAwareness;\n@@ -48,1 +46,1 @@\n-        this.contextAwareness = ContextAwareness.combine(left.getContextAwareness(), right.getContextAwareness());\n+        this.contextAwareness = left.getContextAwareness() | right.getContextAwareness();\n@@ -84,1 +82,1 @@\n-    public Set<ContextAwareness> getContextAwareness() {\n+    public int getContextAwareness() {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/expression\/ConjunctionExpression.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-import java.util.EnumSet;\n@@ -34,1 +33,0 @@\n-import java.util.Set;\n@@ -41,2 +39,0 @@\n-    private static final Set<ContextAwareness> NONE = EnumSet.noneOf(ContextAwareness.class);\n-\n@@ -58,2 +54,2 @@\n-    public Set<ContextAwareness> getContextAwareness() {\n-        return NONE;\n+    public int getContextAwareness() {\n+        return ContextAwareness.NONE.value();\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/expression\/ConstantExpression.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import com.sun.javafx.css.media.ContextAwareness;\n@@ -34,1 +33,0 @@\n-import java.util.Set;\n@@ -43,1 +41,1 @@\n-    private final Set<ContextAwareness> contextAwareness;\n+    private final int contextAwareness;\n@@ -48,1 +46,1 @@\n-        this.contextAwareness = ContextAwareness.combine(left.getContextAwareness(), right.getContextAwareness());\n+        this.contextAwareness = left.getContextAwareness() | right.getContextAwareness();\n@@ -84,1 +82,1 @@\n-    public Set<ContextAwareness> getContextAwareness() {\n+    public int getContextAwareness() {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/expression\/DisjunctionExpression.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-import java.util.Set;\n@@ -44,1 +43,1 @@\n-    private final Set<ContextAwareness> contextAwareness;\n+    private final int contextAwareness;\n@@ -55,1 +54,1 @@\n-        this.contextAwareness = ContextAwareness.of(contextAwareness);\n+        this.contextAwareness = ContextAwareness.combine(contextAwareness);\n@@ -86,1 +85,1 @@\n-    public Set<ContextAwareness> getContextAwareness() {\n+    public int getContextAwareness() {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/expression\/FunctionExpression.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import com.sun.javafx.css.media.ContextAwareness;\n@@ -33,1 +32,0 @@\n-import java.util.Set;\n@@ -41,1 +39,1 @@\n-    private final Set<ContextAwareness> contextAwareness;\n+    private final int contextAwareness;\n@@ -57,1 +55,1 @@\n-    public Set<ContextAwareness> getContextAwareness() {\n+    public int getContextAwareness() {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/expression\/NegationExpression.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-import java.util.EnumSet;\n@@ -34,1 +33,0 @@\n-import java.util.Set;\n@@ -46,2 +44,0 @@\n-    private static final Set<ContextAwareness> VIEWPORT_SIZE = EnumSet.of(ContextAwareness.VIEWPORT_SIZE);\n-\n@@ -69,2 +65,2 @@\n-    public Set<ContextAwareness> getContextAwareness() {\n-        return VIEWPORT_SIZE;\n+    public int getContextAwareness() {\n+        return ContextAwareness.VIEWPORT_SIZE.value();\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/expression\/RangeExpression.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-import java.util.Set;\n@@ -100,4 +99,1 @@\n-        Set<ContextAwareness> contextAwareness = query.getContextAwareness();\n-        if (contextAwareness.isEmpty()) {\n-            return;\n-        }\n+        int contextAwareness = query.getContextAwareness();\n@@ -105,1 +101,1 @@\n-        if (contextAwareness.contains(ContextAwareness.VIEWPORT_SIZE)) {\n+        if (ContextAwareness.VIEWPORT_SIZE.isSet(contextAwareness)) {\n@@ -109,1 +105,1 @@\n-        if (contextAwareness.contains(ContextAwareness.FULLSCREEN)) {\n+        if (ContextAwareness.FULLSCREEN.isSet(contextAwareness)) {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/SceneContext.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -1792,1 +1792,1 @@\n-    <p class=\"grammar\">linear | &lt;cubic-bezier-easing-function&gt; | &lt;step-easing-function&gt; | &lt;fx-easing-function&gt;<\/p>\n+    <p class=\"grammar\">linear | &lt;linear-easing-function&gt; | &lt;cubic-bezier-easing-function&gt; | &lt;step-easing-function&gt; | &lt;fx-easing-function&gt;<\/p>\n@@ -1794,1 +1794,2 @@\n-       The linear easing function is a simple linear mapping from the input progress value to the output progress value.<\/p>\n+       The linear easing keyword is a simple linear mapping from the input progress value to the output progress value.<br>\n+       It it equivalent to <span class=\"grammar\">linear(0, 1)<\/span><\/p>\n@@ -1798,0 +1799,22 @@\n+    <p><strong>Linear Easing Function<\/strong> <span class=\"grammar\" style=\"font-size: smaller;\">&lt;linear-easing-function&gt;<\/span><br><\/p>\n+    <p class=\"grammar\">linear([ <a href=\"#typenumber\" class=\"typelink\">&lt;number&gt;<\/a> && <a href=\"#typepercentage\" class=\"typelink\">&lt;percentage&gt;{0,2}<\/a> ]#)<\/p>\n+    <p>The linear easing function interpolates linearly between its control points. The control points are specified\n+        as a comma-separated list of two or more items, where each item consists of a <a href=\"#typenumber\" class=\"typelink\">&lt;number&gt;<\/a>,\n+        optionally followed by one or two <a href=\"#typepercentage\" class=\"typelink\">&lt;percentage&gt;<\/a> values.<\/p>\n+    <p>The <a href=\"#typenumber\" class=\"typelink\">&lt;number&gt;<\/a> specifies the progress of the animation in time.\n+        The optional <a href=\"#typepercentage\" class=\"typelink\">&lt;percentage&gt;<\/a> specifies when that progress\n+        is reached; if two percentages are specified, they indicate a segment of time when the animation is paused.\n+        If no percentage is specified, the control point is spaced evenly between neighboring control points.<\/p>\n+    <p>Examples of linear easing functions:<\/p>\n+    <figure style=\"display: inline-block\">\n+        <img src=\"easing-linear-func1.svg\" width=\"200\" alt=\"linear easing function\">\n+        <figcaption style=\"margin-left: 40px\" class=\"grammar\">linear(0, 0.25, 1)<\/figcaption>\n+    <\/figure>\n+    <figure style=\"display: inline-block\">\n+        <img src=\"easing-linear-func2.svg\" width=\"200\" alt=\"linear easing function\">\n+        <figcaption style=\"margin-left: 20px\" class=\"grammar\">linear(0, 0.25 75%, 1)<\/figcaption>\n+    <\/figure>\n+    <figure style=\"display: inline-block\">\n+        <img src=\"easing-linear-func3.svg\" width=\"200\" alt=\"linear easing function\">\n+        <figcaption style=\"margin-left: 10px\" class=\"grammar\">linear(0, 0.25 25% 75%, 1)<\/figcaption>\n+    <\/figure>\n","filename":"modules\/javafx.graphics\/src\/main\/docs\/javafx\/scene\/doc-files\/cssref.html","additions":25,"deletions":2,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -0,0 +1,101 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n+<svg\n+   viewBox=\"-120 -25 660 660\"\n+   version=\"1.1\"\n+   id=\"svg7\"\n+   xmlns=\"http:\/\/www.w3.org\/2000\/svg\"\n+   xmlns:svg=\"http:\/\/www.w3.org\/2000\/svg\">\n+  <defs\n+     id=\"defs7\" \/>\n+  <rect\n+     x=\"0\"\n+     y=\"0\"\n+     width=\"512\"\n+     height=\"512\"\n+     style=\"display:inline;fill:#e3e3e3;stroke:#646464;stroke-width:6px\"\n+     id=\"rect1\" \/>\n+  <ellipse\n+     style=\"stroke: #000; paint-order: stroke; stroke-width: 0px; fill: #06c;\"\n+     cx=\"0\"\n+     cy=\"512\"\n+     rx=\"20\"\n+     id=\"ellipse1\" \/>\n+  <ellipse\n+     style=\"stroke: #000; paint-order: stroke; stroke-width: 0px; fill: #06c;\"\n+     cx=\"512\"\n+     cy=\"0\"\n+     rx=\"20\"\n+     ry=\"20\"\n+     id=\"ellipse2\" \/>\n+  <circle\n+     style=\"fill:#0066cc;stroke:#000000;stroke-width:0px;paint-order:stroke\"\n+     cx=\"257.19159\"\n+     cy=\"387.2236\"\n+     id=\"ellipse2-2\"\n+     r=\"20\" \/>\n+  <path\n+     style=\"display:inline;stroke:#0066cc;stroke-width:12px;fill:none\"\n+     d=\"M 0,512 256,387.5528 512,0\"\n+     id=\"path2\" \/>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; text-anchor: middle; white-space: pre;\"\n+     x=\"256\"\n+     y=\"620\"\n+     id=\"text2\">input progress<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-7\"\n+     y=\"570\"\n+     id=\"text3\">0<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"500.14401\"\n+     y=\"570\"\n+     id=\"text4\">1<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; white-space: pre;\"\n+     x=\"-55\"\n+     y=\"522\"\n+     id=\"text5\">0<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; white-space: pre;\"\n+     x=\"-55\"\n+     y=\"15\"\n+     id=\"text6\">1<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-60.32\"\n+     y=\"270.28\"\n+     id=\"text6-1\">.5<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"238.90001\"\n+     y=\"569.70001\"\n+     id=\"text6-1-8\">.5<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-60.32\"\n+     y=\"142.36\"\n+     id=\"text6-1-2\">.75<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"353.64075\"\n+     y=\"569.70001\"\n+     id=\"text6-1-2-4\">.75<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-63.219994\"\n+     y=\"395.92001\"\n+     id=\"text6-1-0\">.25<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"99.310005\"\n+     y=\"569.90002\"\n+     id=\"text6-1-0-4\">.25<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; text-anchor: middle; white-space: pre;\"\n+     x=\"-95\"\n+     y=\"256\"\n+     transform=\"matrix(0, -1, 1, 0, -337.415588, 147.415619)\"\n+     id=\"text7\">output progress<\/text>\n+<\/svg>\n","filename":"modules\/javafx.graphics\/src\/main\/docs\/javafx\/scene\/doc-files\/easing-linear-func1.svg","additions":101,"deletions":0,"binary":false,"changes":101,"status":"added"},{"patch":"@@ -0,0 +1,101 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n+<svg\n+   viewBox=\"-120 -25 660 660\"\n+   version=\"1.1\"\n+   id=\"svg7\"\n+   xmlns=\"http:\/\/www.w3.org\/2000\/svg\"\n+   xmlns:svg=\"http:\/\/www.w3.org\/2000\/svg\">\n+  <defs\n+     id=\"defs7\" \/>\n+  <rect\n+     x=\"0\"\n+     y=\"0\"\n+     width=\"512\"\n+     height=\"512\"\n+     style=\"display:inline;fill:#e3e3e3;stroke:#646464;stroke-width:6px\"\n+     id=\"rect1\" \/>\n+  <ellipse\n+     style=\"stroke: #000; paint-order: stroke; stroke-width: 0px; fill: #06c;\"\n+     cx=\"0\"\n+     cy=\"512\"\n+     rx=\"20\"\n+     id=\"ellipse1\" \/>\n+  <ellipse\n+     style=\"stroke: #000; paint-order: stroke; stroke-width: 0px; fill: #06c;\"\n+     cx=\"512\"\n+     cy=\"0\"\n+     rx=\"20\"\n+     ry=\"20\"\n+     id=\"ellipse2\" \/>\n+  <circle\n+     style=\"fill:#0066cc;stroke:#000000;stroke-width:0px;paint-order:stroke\"\n+     cx=\"382.18076\"\n+     cy=\"381.72\"\n+     id=\"ellipse2-0\"\n+     r=\"20\" \/>\n+  <path\n+     style=\"display:inline;fill:none;stroke:#0066cc;stroke-width:12px\"\n+     d=\"M 0,512 382.18075,381.72001 512,0\"\n+     id=\"path2\" \/>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; text-anchor: middle; white-space: pre;\"\n+     x=\"256\"\n+     y=\"620\"\n+     id=\"text2\">input progress<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-7\"\n+     y=\"570\"\n+     id=\"text3\">0<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"500.14401\"\n+     y=\"570\"\n+     id=\"text4\">1<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; white-space: pre;\"\n+     x=\"-55\"\n+     y=\"522\"\n+     id=\"text5\">0<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; white-space: pre;\"\n+     x=\"-55\"\n+     y=\"15\"\n+     id=\"text6\">1<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-60.32\"\n+     y=\"270.28\"\n+     id=\"text6-1\">.5<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"238.90001\"\n+     y=\"569.70001\"\n+     id=\"text6-1-8\">.5<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-60.32\"\n+     y=\"142.36\"\n+     id=\"text6-1-2\">.75<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"353.64075\"\n+     y=\"569.70001\"\n+     id=\"text6-1-2-4\">.75<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-63.219994\"\n+     y=\"395.92001\"\n+     id=\"text6-1-0\">.25<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"99.310005\"\n+     y=\"569.90002\"\n+     id=\"text6-1-0-4\">.25<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; text-anchor: middle; white-space: pre;\"\n+     x=\"-95\"\n+     y=\"256\"\n+     transform=\"matrix(0, -1, 1, 0, -337.415588, 147.415619)\"\n+     id=\"text7\">output progress<\/text>\n+<\/svg>\n","filename":"modules\/javafx.graphics\/src\/main\/docs\/javafx\/scene\/doc-files\/easing-linear-func2.svg","additions":101,"deletions":0,"binary":false,"changes":101,"status":"added"},{"patch":"@@ -0,0 +1,107 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n+<svg\n+   viewBox=\"-120 -25 660 660\"\n+   version=\"1.1\"\n+   id=\"svg7\"\n+   xmlns=\"http:\/\/www.w3.org\/2000\/svg\"\n+   xmlns:svg=\"http:\/\/www.w3.org\/2000\/svg\">\n+  <defs\n+     id=\"defs7\" \/>\n+  <rect\n+     x=\"0\"\n+     y=\"0\"\n+     width=\"512\"\n+     height=\"512\"\n+     style=\"display:inline;fill:#e3e3e3;stroke:#646464;stroke-width:6px\"\n+     id=\"rect1\" \/>\n+  <ellipse\n+     style=\"stroke: #000; paint-order: stroke; stroke-width: 0px; fill: #06c;\"\n+     cx=\"0\"\n+     cy=\"512\"\n+     rx=\"20\"\n+     id=\"ellipse1\" \/>\n+  <ellipse\n+     style=\"stroke: #000; paint-order: stroke; stroke-width: 0px; fill: #06c;\"\n+     cx=\"512\"\n+     cy=\"0\"\n+     rx=\"20\"\n+     ry=\"20\"\n+     id=\"ellipse2\" \/>\n+  <circle\n+     style=\"fill:#0066cc;stroke:#000000;stroke-width:0px;paint-order:stroke\"\n+     cx=\"382.18076\"\n+     cy=\"381.72\"\n+     id=\"ellipse2-9\"\n+     r=\"20\" \/>\n+  <circle\n+     style=\"fill:#0066cc;stroke:#000000;stroke-width:0px;paint-order:stroke\"\n+     cx=\"127.85001\"\n+     cy=\"381.72\"\n+     id=\"ellipse2-94\"\n+     r=\"20\" \/>\n+  <path\n+     style=\"display:inline;fill:none;stroke:#0066cc;stroke-width:12px\"\n+     d=\"m 0,512 127.85001,-130.27999 254.33074,0 L 512,0\"\n+     id=\"path2\" \/>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; text-anchor: middle; white-space: pre;\"\n+     x=\"256\"\n+     y=\"620\"\n+     id=\"text2\">input progress<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-7\"\n+     y=\"570\"\n+     id=\"text3\">0<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"500.14401\"\n+     y=\"570\"\n+     id=\"text4\">1<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; white-space: pre;\"\n+     x=\"-55\"\n+     y=\"522\"\n+     id=\"text5\">0<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; white-space: pre;\"\n+     x=\"-55\"\n+     y=\"15\"\n+     id=\"text6\">1<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-60.32\"\n+     y=\"270.28\"\n+     id=\"text6-1\">.5<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"238.90001\"\n+     y=\"569.70001\"\n+     id=\"text6-1-8\">.5<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-60.32\"\n+     y=\"142.36\"\n+     id=\"text6-1-2\">.75<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"353.64075\"\n+     y=\"569.70001\"\n+     id=\"text6-1-2-4\">.75<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"-63.219994\"\n+     y=\"395.92001\"\n+     id=\"text6-1-0\">.25<\/text>\n+  <text\n+     style=\"font-size:40px;font-family:sans-serif;white-space:pre\"\n+     x=\"99.310005\"\n+     y=\"569.90002\"\n+     id=\"text6-1-0-4\">.25<\/text>\n+  <text\n+     style=\"font-family: sans-serif; font-size: 40px; text-anchor: middle; white-space: pre;\"\n+     x=\"-95\"\n+     y=\"256\"\n+     transform=\"matrix(0, -1, 1, 0, -337.415588, 147.415619)\"\n+     id=\"text7\">output progress<\/text>\n+<\/svg>\n","filename":"modules\/javafx.graphics\/src\/main\/docs\/javafx\/scene\/doc-files\/easing-linear-func3.svg","additions":107,"deletions":0,"binary":false,"changes":107,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+import javafx.geometry.Point2D;\n@@ -48,1 +49,2 @@\n- * ({@code cubic-bezier} or {@code steps}), and the second element contains a list of arguments.\n+ * ({@code linear}, {@code cubic-bezier}, or {@code steps}), and the second element contains a list of\n+ * arguments.\n@@ -116,0 +118,5 @@\n+                case \"linear(\" -> CACHE.computeIfAbsent(value, key -> {\n+                    List<Point2D> args = arguments(key);\n+                    return Interpolator.LINEAR(args.toArray(Point2D[]::new));\n+                });\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/InterpolatorConverter.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -0,0 +1,211 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package com.sun.scenario.animation;\n+\n+import javafx.animation.Interpolator;\n+import javafx.geometry.Point2D;\n+import java.util.Arrays;\n+\n+\/**\n+ * Implementation of a piecewise linear interpolator as described by\n+ * <a href=\"https:\/\/www.w3.org\/TR\/css-easing-2\/#the-linear-easing-function\">CSS Easing Functions Level 2<\/a>\n+ *\/\n+public final class LinearInterpolator extends Interpolator {\n+\n+    \/\/ Control points stored as [x0, y0, x1, y1, ...]\n+    private final double[] controlPoints;\n+\n+    public LinearInterpolator(Point2D[] controlPoints) {\n+        if (controlPoints == null) {\n+            throw new NullPointerException(\"controlPoints cannot be null\");\n+        }\n+\n+        if (controlPoints.length == 0) {\n+            throw new IllegalArgumentException(\"controlPoints cannot be empty\");\n+        }\n+\n+        int n = controlPoints.length;\n+        this.controlPoints = new double[n * 2];\n+\n+        for (int i = 0; i < n; i++) {\n+            Point2D p = controlPoints[i];\n+            this.controlPoints[2 * i] = p.getX();\n+            this.controlPoints[2 * i + 1] = p.getY();\n+        }\n+\n+        canonicalize(this.controlPoints, n);\n+    }\n+\n+    private static void canonicalize(double[] controlPoints, int n) {\n+        \/\/ If the first control point has no input progress value, set it to 0.\n+        if (Double.isNaN(controlPoints[0])) {\n+            controlPoints[0] = 0.0;\n+        }\n+\n+        \/\/ If the last control point has no input progress value, set it to 1.\n+        int lastIdx = 2 * (n - 1);\n+        if (Double.isNaN(controlPoints[lastIdx])) {\n+            controlPoints[lastIdx] = 1.0;\n+        }\n+\n+        \/\/ Ensure that the input progress value of each control point is greater than or equal to the\n+        \/\/ input progress values of all preceding control points (monotonically non-decreasing).\n+        double largestX = controlPoints[0];\n+        for (int i = 1; i < n; ++i) {\n+            double curX = controlPoints[2 * i];\n+            if (curX < largestX) {\n+                controlPoints[2 * i] = largestX;\n+            } else if (!Double.isNaN(curX)) {\n+                largestX = curX;\n+            }\n+        }\n+\n+        \/\/ For all control points without input progress value: determine an appropriate input progress value\n+        \/\/ by equally spacing the control points between neighboring control points.\n+        for (int i = 1; i < n; ++i) {\n+            if (!Double.isNaN(controlPoints[2 * i])) {\n+                continue;\n+            }\n+\n+            int j = i;\n+            while (j < n && Double.isNaN(controlPoints[2 * j])) {\n+                ++j;\n+            }\n+\n+            double x0 = controlPoints[2 * (i - 1)];\n+            double x1 = controlPoints[2 * j];\n+            double xStep = (x1 - x0) \/ (j - i + 1);\n+            double x = x0;\n+            for (int k = i; k < j; ++k) {\n+                x += xStep;\n+                controlPoints[2 * k] = x;\n+            }\n+\n+            i = j;\n+        }\n+    }\n+\n+    @Override\n+    public double curve(double t) {\n+        int n = controlPoints.length \/ 2;\n+\n+        \/\/ Only a single control point: always return its output value.\n+        if (n == 1) {\n+            return controlPoints[1];\n+        }\n+\n+        \/\/ If t matches the x of one or more control points, return the y of the last such point.\n+        double lastMatchY = Double.NaN;\n+        for (int i = 0; i < n; ++i) {\n+            double x = controlPoints[2 * i];\n+            if (t < x) { \/\/ Xs are monotonically non-decreasing; no more matches possible\n+                break;\n+            }\n+\n+            if (t == x) {\n+                lastMatchY = controlPoints[2 * i + 1];\n+            }\n+        }\n+\n+        if (!Double.isNaN(lastMatchY)) {\n+            return lastMatchY;\n+        }\n+\n+        double xFirst = controlPoints[0];\n+        double yFirst = controlPoints[1];\n+        double xLast  = controlPoints[2 * (n - 1)];\n+        double yLast  = controlPoints[2 * (n - 1) + 1];\n+        double ax, ay, bx, by;\n+\n+        \/\/ If t is smaller than any x, use the first segment.\n+        if (t < xFirst) {\n+            ax = xFirst;\n+            ay = yFirst;\n+            bx = controlPoints[2];\n+            by = controlPoints[3];\n+\n+            if (ax == bx) {\n+                return ay;\n+            }\n+        }\n+        \/\/ If t is larger than any x, use the last segment.\n+        else if (t > xLast) {\n+            ax = controlPoints[2 * (n - 2)];\n+            ay = controlPoints[2 * (n - 2) + 1];\n+            bx = xLast;\n+            by = yLast;\n+\n+            if (ax == bx) {\n+                return by;\n+            }\n+        }\n+        \/\/ t is between first.x and last.x (and not equal to any x).\n+        else {\n+            int indexA = -1; \/\/ last point with x < t\n+            int indexB = -1; \/\/ first point with x > t\n+\n+            for (int i = 0; i < n; i++) {\n+                double x = controlPoints[2 * i];\n+                if (x < t) {\n+                    indexA = i;\n+                } else if (x > t) {\n+                    indexB = i;\n+                    break;\n+                }\n+            }\n+\n+            if (indexA < 0) {\n+                ax = xFirst;\n+                ay = yFirst;\n+            } else {\n+                ax = controlPoints[2 * indexA];\n+                ay = controlPoints[2 * indexA + 1];\n+            }\n+\n+            if (indexB < 0) {\n+                bx = xLast;\n+                by = yLast;\n+            } else {\n+                bx = controlPoints[2 * indexB];\n+                by = controlPoints[2 * indexB + 1];\n+            }\n+        }\n+\n+        \/\/ Linearly interpolate (or extrapolate) along the segment (ax, ay) -> (bx, by).\n+        if (ax == bx) {\n+            \/\/ Degenerate segment; just treat as a step.\n+            return ay;\n+        }\n+\n+        double proportion = (t - ax) \/ (bx - ax);\n+        return ay + (by - ay) * proportion;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return \"LinearInterpolator \" + Arrays.toString(controlPoints);\n+    }\n+}\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/scenario\/animation\/LinearInterpolator.java","additions":211,"deletions":0,"binary":false,"changes":211,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import javafx.geometry.Point2D;\n@@ -30,0 +31,1 @@\n+import com.sun.scenario.animation.LinearInterpolator;\n@@ -81,3 +83,1 @@\n-     * Built-in interpolator that provides linear time interpolation. The return\n-     * value of {@code interpolate()} is {@code startValue} + ({@code endValue}\n-     * - {@code startValue}) * {@code fraction}.\n+     * Built-in interpolator instance that is equivalent to {@code LINEAR([0, 0], [1, 1])}.\n@@ -97,0 +97,18 @@\n+    \/**\n+     * Creates a piecewise-linear interpolator with the specified control points.\n+     * <p>\n+     * Each control point associates an input progress value (X) with an output progress value (Y).\n+     * If the input progress value of a control point is unspecified ({@link Double#NaN}), it is\n+     * distributed evenly between its neighboring control points. If the input progress value of\n+     * the first or last control point is unspecified, it is set to 0 or 1, respectively.\n+     *\n+     * @param controlPoints the control points\n+     * @throws NullPointerException if {@code controlPoints} is {@code null}\n+     * @throws IllegalArgumentException if {@code controlPoints} is empty\n+     * @return a new piecewise-linear interpolator\n+     * @since 26\n+     *\/\n+    public static Interpolator LINEAR(Point2D... controlPoints) {\n+        return new LinearInterpolator(controlPoints);\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/animation\/Interpolator.java","additions":22,"deletions":4,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -77,0 +77,1 @@\n+import javafx.geometry.Point2D;\n@@ -4107,0 +4108,37 @@\n+            case \"linear(\" -> {\n+                List<Point2D> args = new ArrayList<>();\n+\n+                for (Term arg = term.firstArg; arg != null; arg = arg.nextArg) {\n+                    double inputValue = Double.NaN;\n+                    double outputValue = Double.NaN;\n+\n+                    if (arg == null || arg.token == null || arg.token.getType() != CssLexer.NUMBER) {\n+                        error(arg, \"Expected \\'<number>\\'\");\n+                    } else {\n+                        outputValue = Double.parseDouble(arg.token.getText());\n+                    }\n+\n+                    \/\/ 0, 1, or 2 <percentage>s\n+                    for (int i = 0; i < 2; ++i) {\n+                        Term next = arg.nextInSeries;\n+                        if (next != null) {\n+                            if (next.token == null || next.token.getType() != CssLexer.PERCENTAGE) {\n+                                error(next, \"Expected \\'<percentage>\\'\");\n+                            } else {\n+                                inputValue = size(next.token).getValue() \/ 100.0;\n+                            }\n+\n+                            arg = next;\n+                            args.add(new Point2D(inputValue, outputValue));\n+                        } else if (i == 0) {\n+                            args.add(new Point2D(inputValue, outputValue));\n+                        }\n+                    }\n+                }\n+\n+                yield new ParsedValueImpl<>(new ParsedValueImpl[] {\n+                        new ParsedValueImpl(term.token.getText(), null),\n+                        new ParsedValueImpl(args, null)\n+                    }, InterpolatorConverter.getInstance());\n+            }\n+\n@@ -4115,2 +4153,2 @@\n-    \/\/ https:\/\/www.w3.org\/TR\/css-easing-1\/#easing-functions\n-    \/\/ <easing-function> = linear | <cubic-bezier-easing-function> | <step-easing-function>\n+    \/\/ https:\/\/www.w3.org\/TR\/css-easing-2\/#easing-functions\n+    \/\/ <easing-function> = linear | <linear-easing-function> | <cubic-bezier-easing-function> | <step-easing-function>\n@@ -4119,1 +4157,1 @@\n-            case \"linear\" -> true;\n+            case \"linear\", \"linear(\" -> true;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/css\/CssParser.java","additions":41,"deletions":3,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+--add-opens javafx.graphics\/com.sun.scenario.animation=ALL-UNNAMED\n","filename":"modules\/javafx.graphics\/src\/test\/addExports","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+import javafx.geometry.Point2D;\n@@ -51,0 +52,10 @@\n+    @Test\n+    public void testConvertLinearInterpolatorWithControlPoints() {\n+        var value = new ParsedValueImpl<Object, Interpolator>(new ParsedValue[] {\n+            new ParsedValueImpl<>(\"linear(\", null),\n+            new ParsedValueImpl<>(List.of(new Point2D(0, 0), new Point2D(0.5, 0.25), new Point2D(1, 1)), null) },\n+            null);\n+        var result = InterpolatorConverter.getInstance().convert(value, null);\n+        assertInterpolatorEquals(LINEAR(new Point2D(0, 0), new Point2D(0.5, 0.25), new Point2D(1, 1)), result);\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/css\/converters\/InterpolatorConverterTest.java","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -0,0 +1,250 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package test.com.sun.scenario.animation;\n+\n+import com.sun.scenario.animation.LinearInterpolator;\n+import javafx.geometry.Point2D;\n+import java.lang.reflect.Field;\n+import org.junit.jupiter.api.Nested;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+\n+public class LinearInterpolatorTest {\n+\n+    private static double[] getControlPoints(LinearInterpolator li) {\n+        try {\n+            Field f = LinearInterpolator.class.getDeclaredField(\"controlPoints\");\n+            f.setAccessible(true);\n+            return (double[]) f.get(li);\n+        } catch (ReflectiveOperationException e) {\n+            throw new AssertionError(e);\n+        }\n+    }\n+\n+    @Test\n+    void constructor_nullArray_throws() {\n+        assertThrows(NullPointerException.class, () -> new LinearInterpolator(null));\n+    }\n+\n+    @Test\n+    void constructor_emptyArray_throws() {\n+        assertThrows(IllegalArgumentException.class, () -> new LinearInterpolator(new Point2D[0]));\n+    }\n+\n+    @Nested\n+    class CanonicalizationTest {\n+        @Test\n+        void firstAndLastNaN_areCanonicalizedTo0And1() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(Double.NaN, 0.2),\n+                new Point2D(Double.NaN, 0.8),\n+            });\n+\n+            double[] cp = getControlPoints(interpolator);\n+\n+            \/\/ [x0, y0, x1, y1]\n+            assertEquals(0.0, cp[0]); \/\/ first x -> 0\n+            assertEquals(0.2, cp[1], 1e-9);\n+            assertEquals(1.0, cp[2]); \/\/ last x -> 1\n+            assertEquals(0.8, cp[3], 1e-9);\n+        }\n+\n+        @Test\n+        void outOfOrderInputProgress_isCanonicalizedToMonotonicallyNonDecreasing() {\n+            \/\/ Intentionally out of order: 0.5, 0.25, 0.75\n+            LinearInterpolator li = new LinearInterpolator(new Point2D[] {\n+                new Point2D(0.5, 0.0),\n+                new Point2D(0.25, 1.0),\n+                new Point2D(0.75, 0.5)\n+            });\n+\n+            \/\/ After canonicalization, x's should be non-decreasing:\n+            \/\/ x0 = 0.5\n+            \/\/ x1 < x0 => clamped to 0.5\n+            \/\/ x2 = 0.75\n+            assertArrayEquals(\n+                new double[] { 0.5, 0.0, 0.5, 1.0, 0.75, 0.5 },\n+                getControlPoints(li), 1e-9);\n+        }\n+\n+        @Test\n+        void missingInputProgressValue_isCanonicalizedHalfWayBetweenPreviousAndNext() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(0.0, 0.0),\n+                new Point2D(Double.NaN, 0.5),\n+                new Point2D(1.0, 1.0)\n+            });\n+\n+            \/\/ Middle x should be halfway between 0.0 and 1.0 => 0.5\n+            assertArrayEquals(\n+                new double[] { 0.0, 0.0, 0.5, 0.5, 1.0, 1.0 },\n+                getControlPoints(interpolator), 1e-9);\n+        }\n+\n+        @Test\n+        void contiguousNaNRange_isCanonicalizedToEvenlySpacedValues() {\n+            \/\/ x: 0.0, NaN, NaN, NaN, 1.0\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(0.0, 0.0),\n+                new Point2D(Double.NaN, 0.2),\n+                new Point2D(Double.NaN, 0.4),\n+                new Point2D(Double.NaN, 0.6),\n+                new Point2D(1.0, 1.0)\n+            });\n+\n+            \/\/ After canonicalization, the missing x's should be evenly spaced:\n+            \/\/ 0.0, 0.25, 0.5, 0.75, 1.0\n+            assertArrayEquals(\n+                new double[] {\n+                    0.0,  0.0,\n+                    0.25, 0.2,\n+                    0.5,  0.4,\n+                    0.75, 0.6,\n+                    1.0,  1.0\n+                }, getControlPoints(interpolator), 1e-9);\n+        }\n+\n+        @Test\n+        void twoContiguousNaNRanges_areCanonicalizedToEvenlySpacedValues() {\n+            \/\/ x: NaN, NaN, NaN, 0.5, NaN, NaN, NaN\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(Double.NaN, 0.0),\n+                new Point2D(Double.NaN, 0.2),\n+                new Point2D(Double.NaN, 0.4),\n+                new Point2D(0.5,        0.6),\n+                new Point2D(Double.NaN, 0.8),\n+                new Point2D(Double.NaN, 1.0),\n+                new Point2D(Double.NaN, 1.2)\n+            });\n+\n+            \/\/ After canonicalization:\n+            \/\/ - first NaN becomes 0.0 (first point)\n+            \/\/ - last NaN becomes 1.0 (last point)\n+            \/\/ We have two NaN runs:\n+            \/\/   [0, NaN, NaN, 0.5]  ->  0.0, 1\/6, 2\/6, 0.5\n+            \/\/   [0.5, NaN, NaN, 1]  ->  0.5, 4\/6, 5\/6, 1.0\n+            assertArrayEquals(\n+                new double[] {\n+                    0.0,        0.0,\n+                    1.0 \/ 6.0,  0.2,\n+                    2.0 \/ 6.0,  0.4,\n+                    0.5,        0.6,\n+                    4.0 \/ 6.0,  0.8,\n+                    5.0 \/ 6.0,  1.0,\n+                    1.0,        1.2\n+                }, getControlPoints(interpolator), 1e-9);\n+        }\n+    }\n+\n+    @Nested\n+    class CurveTest {\n+        @Test\n+        void singleControlPoint_returnsConstantY() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(Double.NaN, 0.42)\n+            });\n+\n+            assertEquals(0.42, interpolator.curve(0.0), 1e-9);\n+            assertEquals(0.42, interpolator.curve(0.5), 1e-9);\n+            assertEquals(0.42, interpolator.curve(1.0), 1e-9);\n+            assertEquals(0.42, interpolator.curve(-1.0), 1e-9);\n+            assertEquals(0.42, interpolator.curve(2.0), 1e-9);\n+        }\n+\n+        @Test\n+        void twoPointsNaN_givesSimpleLinearInterpolation() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(Double.NaN, 0.0), \/\/ -> x=0\n+                new Point2D(Double.NaN, 1.0)  \/\/ -> x=1\n+            });\n+\n+            assertEquals(0.0, interpolator.curve(0.0), 1e-9);\n+            assertEquals(0.5, interpolator.curve(0.5), 1e-9);\n+            assertEquals(1.0, interpolator.curve(1.0), 1e-9);\n+        }\n+\n+        @Test\n+        void curveUsesLastControlPointForMatchingX() {\n+            \/\/ x=0, x=0.5, x=0.5, x=1\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(0.0, 0.0),\n+                new Point2D(0.5, 1.0),\n+                new Point2D(0.5, 0.2),  \/\/ same x as previous, different y\n+                new Point2D(1.0, 1.0)\n+            });\n+\n+            assertEquals(0.0, interpolator.curve(0.0), 1e-9);\n+            assertEquals(0.2, interpolator.curve(0.5), 1e-9); \/\/ last y for x=0.5\n+            assertEquals(1.0, interpolator.curve(1.0), 1e-9);\n+        }\n+\n+        @Test\n+        void curveInterpolatesBetweenInnerPoints() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(0.0, 0.0),\n+                new Point2D(0.5, 0.5),\n+                new Point2D(1.0, 1.0)\n+            });\n+\n+            assertEquals(0.25, interpolator.curve(0.25), 1e-9);\n+            assertEquals(0.75, interpolator.curve(0.75), 1e-9);\n+        }\n+\n+        @Test\n+        void curveExtrapolatesBeforeFirstAndAfterLast() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(Double.NaN, 0),\n+                new Point2D(0.5, 0.25),\n+                new Point2D(Double.NaN, 1)\n+            });\n+\n+            \/\/ Extrapolate for t <= 0 with first segment\n+            assertEquals(0, interpolator.curve(0), 1e-9);\n+            assertEquals(-0.125, interpolator.curve(-0.25), 1e-9);\n+\n+            \/\/ Extrapolate for t >= 1 with last segment\n+            assertEquals(1.0, interpolator.curve(1), 1e-9);\n+            assertEquals(1.375, interpolator.curve(1.25), 1e-9);\n+        }\n+\n+        @Test\n+        void curveHandlesTBetweenDuplicateXsCorrectly() {\n+            var interpolator = new LinearInterpolator(new Point2D[] {\n+                new Point2D(0.0, 0.0),\n+                new Point2D(0.5, 0.0),\n+                new Point2D(0.5, 1.0),\n+                new Point2D(1.0, 1.0)\n+            });\n+\n+            \/\/ For t between 0.0 and 0.5, we use segment (0,0)-(0.5,0)\n+            assertEquals(0.0, interpolator.curve(0.25), 1e-9);\n+\n+            \/\/ For t between 0.5 and 1.0, we use segment (0.5,1)-(1,1)\n+            assertEquals(1.0, interpolator.curve(0.75), 1e-9);\n+        }\n+    }\n+}\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/scenario\/animation\/LinearInterpolatorTest.java","additions":250,"deletions":0,"binary":false,"changes":250,"status":"added"},{"patch":"@@ -34,0 +34,1 @@\n+import javafx.geometry.Point2D;\n@@ -171,0 +172,5 @@\n+            .rule5 { transition-timing-function: linear(0, 0.25, 1),\n+                                                 linear(0, 0.25 75%, 1),\n+                                                 linear(0, 0.25 25% 75%, 1), \/* equivalent to (0, 0.25 25%, 0.25 75%, 1) *\/\n+                                                 linear(0, 0.25 25%, 0.25 75%, 1),\n+                                                 linear(0, .1 25%, .75 50%, 1); }\n@@ -175,0 +181,1 @@\n+            .err5 { transition-timing-function: linear(0, 0.25 0.5, 1); }\n@@ -201,0 +208,7 @@\n+        values = values(\"transition-timing-function\", stylesheet.getRules().get(4));\n+        assertInterpolatorEquals(LINEAR(new Point2D(0, 0), new Point2D(0.5, 0.25), new Point2D(1, 1)), values[0]);\n+        assertInterpolatorEquals(LINEAR(new Point2D(0, 0), new Point2D(0.75, 0.25), new Point2D(1, 1)), values[1]);\n+        assertInterpolatorEquals(LINEAR(new Point2D(0, 0), new Point2D(0.25, 0.25), new Point2D(0.75, 0.25), new Point2D(1, 1)), values[2]);\n+        assertInterpolatorEquals(LINEAR(new Point2D(0, 0), new Point2D(0.25, 0.25), new Point2D(0.75, 0.25), new Point2D(1, 1)), values[3]);\n+        assertInterpolatorEquals(LINEAR(new Point2D(0, 0), new Point2D(0.25, 0.1), new Point2D(0.5, 0.75), new Point2D(1, 1)), values[4]);\n+\n@@ -205,0 +219,1 @@\n+        assertStartsWith(\"Expected '<percentage>'\", CssParser.errorsProperty().get(8).getMessage());\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/javafx\/css\/CssParser_transition_Test.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -110,5 +110,9 @@\n-            #rect2 { transition-timing-function: ease; }\n-            #rect3 { transition-timing-function: ease-in; }\n-            #rect4 { transition-timing-function: ease-out; }\n-            #rect5 { transition-timing-function: ease-in-out; }\n-            #rect6 { transition-timing-function: cubic-bezier(0.34, 2.2, 0.64, 1); }\n+            #rect2 { transition-timing-function: linear(0, 0.063, 0.25, 0.563, 1 36.4%,\n+                                                        0.812, 0.75, 0.813, 1 72.7%,\n+                                                        0.953, 0.938, 0.953, 1 90.9%,\n+                                                        0.984, 1 100% 100%); }\n+            #rect3 { transition-timing-function: ease; }\n+            #rect4 { transition-timing-function: ease-in; }\n+            #rect5 { transition-timing-function: ease-out; }\n+            #rect6 { transition-timing-function: ease-in-out; }\n+            #rect7 { transition-timing-function: cubic-bezier(0.34, 2.2, 0.64, 1); }\n@@ -121,1 +125,2 @@\n-            new RectInfo(\"#rect6\", \"rect6\", Color.WHITE));\n+            new RectInfo(\"#rect6\", \"rect6\", Color.WHITE),\n+            new RectInfo(\"#rect7\", \"rect7\", Color.WHITE));\n","filename":"tests\/manual\/graphics\/CssTransitionsTest.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"}]}
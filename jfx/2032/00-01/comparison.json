{"files":[{"patch":"@@ -7474,7 +7474,2 @@\n-                final V val = op.get(key);\n-                if (val != null) {\n-                    return val;\n-                } else {\n-                    Logging.getLogger().fine(\"Element not found in map, returning default value instead.\");\n-                }\n-                return null;\n+                final V val = getMapValue(op, key);\n+                return val;\n@@ -7520,7 +7515,2 @@\n-                final V val = op.get(currentKey);\n-                if (val != null) {\n-                    return val;\n-                } else {\n-                    Logging.getLogger().fine(\"Element not found in map, returning default value instead.\");\n-                }\n-                return null;\n+                final V val = getMapValue(op, currentKey);\n+                return val;\n@@ -7565,1 +7555,1 @@\n-                final Object val = op.get(key);\n+                final Object val = getMapValue(op, key);\n@@ -7569,1 +7559,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expecting Boolean. Returning default value.\");\n@@ -7613,1 +7603,1 @@\n-                final Object val = op.get(currentKey);\n+                final Object val = getMapValue(op, currentKey);\n@@ -7617,1 +7607,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Boolean. Returning default value.\");\n@@ -7660,1 +7650,1 @@\n-                final Object val = op.get(key);\n+                final Object val = getMapValue(op, key);\n@@ -7664,1 +7654,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7708,1 +7698,1 @@\n-                final Object val = op.get(currentKey);\n+                final Object val = getMapValue(op, currentKey);\n@@ -7712,1 +7702,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7755,1 +7745,1 @@\n-                final Object val = op.get(key);\n+                final Object val = getMapValue(op, key);\n@@ -7759,1 +7749,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7803,1 +7793,1 @@\n-                final Object val = op.get(currentKey);\n+                final Object val = getMapValue(op, currentKey);\n@@ -7807,1 +7797,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7850,1 +7840,1 @@\n-                final Object val = op.get(key);\n+                final Object val = getMapValue(op, key);\n@@ -7854,1 +7844,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7898,1 +7888,1 @@\n-                final Object val = op.get(currentKey);\n+                final Object val = getMapValue(op, currentKey);\n@@ -7902,1 +7892,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7945,1 +7935,1 @@\n-                final Object val = op.get(key);\n+                final Object val = getMapValue(op, key);\n@@ -7949,1 +7939,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -7993,1 +7983,1 @@\n-                final Object val = op.get(currentKey);\n+                final Object val = getMapValue(op, currentKey);\n@@ -7997,1 +7987,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected Number. Returning default value.\");\n@@ -8040,1 +8030,1 @@\n-                final Object val = op.get(key);\n+                final Object val = getMapValue(op, key);\n@@ -8044,1 +8034,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected String. Returning default value.\");\n@@ -8088,1 +8078,1 @@\n-                final Object val = op.get(currentKey);\n+                final Object val = getMapValue(op, currentKey);\n@@ -8092,1 +8082,1 @@\n-                    Logging.getLogger().warning(\"Map element value has wrong type, returning default value.\");\n+                    Logging.getLogger().warning(\"Map element value has wrong type, expected String. Returning default value.\");\n@@ -8106,1 +8096,11 @@\n-\n+    private static <K, V> V getMapValue(ObservableMap<K, V> op, Object key) {\n+        try {\n+            \/\/ This can throw a NPE if the map does not support null keys\n+            \/\/ or a ClassCastException for mismatched types\n+            \/\/ However, custom map implementations can throw arbitrary exceptions, so just catch all\n+            return op.get(key);\n+        } catch (Exception ex) {\n+            Logging.getLogger().warning(\"Exception while evaluating binding\", ex);\n+            return null;\n+        }\n+    }\n","filename":"modules\/javafx.base\/src\/main\/java\/javafx\/beans\/binding\/Bindings.java","additions":39,"deletions":39,"binary":false,"changes":78,"status":"modified"}]}
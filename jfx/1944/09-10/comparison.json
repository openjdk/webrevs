{"files":[{"patch":"@@ -120,3 +120,0 @@\n-        if (m != null) {\n-            m.setLineEnding(getLineEnding());\n-        }\n@@ -456,44 +453,0 @@\n-\n-    \/**\n-     * Specifies the line ending characters.  This property is not nullable.\n-     *\n-     * @return the line ending property\n-     * @since 26\n-     * @defaultValue {@link LineEnding#SYSTEM}\n-     *\/\n-    public final ObjectProperty<LineEnding> lineEndingProperty() {\n-        if (lineEnding == null) {\n-            lineEnding = new SimpleObjectProperty<>(this, \"lineEnding\", LineEnding.SYSTEM) {\n-                private LineEnding old;\n-\n-                @Override\n-                protected void invalidated() {\n-                    LineEnding v = get();\n-                    if (v == null) {\n-                        \/\/ rollback\n-                        if (isBound()) {\n-                            unbind();\n-                        }\n-                        set(old);\n-                        throw new NullPointerException(\"lineEnding cannot be null\");\n-                    }\n-                    StyledTextModel m = getModel();\n-                    if (m != null) {\n-                        m.setLineEnding(get());\n-                    }\n-                }\n-            };\n-        }\n-        return lineEnding;\n-    }\n-\n-    public final LineEnding getLineEnding() {\n-        if (lineEnding == null) {\n-            return LineEnding.SYSTEM;\n-        }\n-        return lineEnding.get();\n-    }\n-\n-    public final void setLineEnding(LineEnding v) {\n-        lineEndingProperty().set(v);\n-    }\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/CodeArea.java","additions":0,"deletions":47,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -620,0 +620,29 @@\n+    \/**\n+     * Convenience method which delegates to {@link StyledTextModel#getLineEnding()}.\n+     * Returns {@link LineEnding#SYSTEM} if the model is {@code null}.\n+     *\n+     * @return the model's line ending value\n+     * @since 26\n+     *\/\n+    public final LineEnding getLineEnding() {\n+        StyledTextModel m = getModel();\n+        return (m == null ? LineEnding.SYSTEM : m.getLineEnding());\n+    }\n+\n+    \/**\n+     * Sets the model's line ending characters.\n+     * Delegates to {@link StyledTextModel#setLineEnding(LineEnding)}.\n+     * This method does nothing if the model is {@code null}.\n+     *\n+     * @param value the line ending value, cannot be null\n+     * @throws NullPointerException if the value is null\n+     * @since 26\n+     *\/\n+    public final void setLineEnding(LineEnding value) {\n+        Objects.requireNonNull(value, \"line ending must not be null\");\n+        StyledTextModel m = getModel();\n+        if (m != null) {\n+            m.setLineEnding(value);\n+        }\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/RichTextArea.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -290,1 +290,0 @@\n-        assertEquals(lineEnding, control.lineEndingProperty().get());\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/CodeAreaTest.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -347,1 +347,1 @@\n-    public void copyLineEnding() {\n+    public void lineEndingCopy() {\n@@ -363,0 +363,11 @@\n+    @Test\n+    public void lineEndingNullModel() {\n+        control.setModel(null);\n+        assertEquals(LineEnding.SYSTEM, control.getLineEnding());\n+        control.setLineEnding(LineEnding.CR);\n+        assertEquals(LineEnding.SYSTEM, control.getLineEnding());\n+        assertThrows(NullPointerException.class, () -> {\n+            control.setLineEnding(null);\n+        });\n+    }\n+\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaTest.java","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"}]}
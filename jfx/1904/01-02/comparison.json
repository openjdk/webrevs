{"files":[{"patch":"@@ -0,0 +1,99 @@\n+\/*\n+ * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package test.javafx.stage;\n+\n+import com.sun.javafx.tk.Toolkit;\n+import javafx.application.Platform;\n+import javafx.scene.Scene;\n+import javafx.scene.control.Label;\n+import javafx.scene.control.Menu;\n+import javafx.scene.control.MenuBar;\n+import javafx.scene.control.MenuItem;\n+import javafx.scene.layout.BorderPane;\n+import javafx.stage.Stage;\n+import javafx.embed.swing.JFXPanel;\n+\n+import org.junit.jupiter.api.Test;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+\n+import java.io.BufferedInputStream;\n+import java.io.BufferedReader;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.Stack;\n+import java.util.concurrent.CountDownLatch;\n+import java.util.stream.Collectors;\n+\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.JMenuItem;\n+import javax.swing.SwingUtilities;\n+import test.util.Util;\n+\n+public class MacOSSystemMenuJFXPanelSwingFirstTest extends MacOSSystemMenuTestBase {\n+\n+    @Test\n+    public void test() throws InterruptedException, IOException {\n+        initSwing(List.of(TEST_MENUS_0, TEST_MENUS_1));\n+        initJavaFX(List.of());\n+\n+        JFrame wnd = swingWindows.get(0);\n+        JFXPanel fxPanel = new JFXPanel();\n+\n+        wnd.add(fxPanel);\n+        wnd.setVisible(true);\n+\n+        CountDownLatch latch = new CountDownLatch(1);\n+\n+        Platform.runLater(() -> {\n+            Scene scene = new Scene(new BorderPane(new Label(\"Hello World!\")));\n+            fxPanel.setScene(scene);\n+\n+            latch.countDown();\n+        });\n+\n+        latch.await();\n+\n+        focusSwing(0);\n+        List<Element> swingElements = getMenusOfFocusedWindow();\n+        compareMenus(swingElements, TEST_MENUS_0);\n+\n+        focusSwing(1);\n+        swingElements = getMenusOfFocusedWindow();\n+        compareMenus(swingElements, TEST_MENUS_1);\n+\n+        focusSwing(0);\n+        swingElements = getMenusOfFocusedWindow();\n+        compareMenus(swingElements, TEST_MENUS_0);\n+    }\n+}\n","filename":"tests\/system\/src\/test\/java\/test\/javafx\/stage\/MacOSSystemMenuJFXPanelSwingFirstTest.java","additions":99,"deletions":0,"binary":false,"changes":99,"status":"added"}]}
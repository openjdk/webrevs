{"files":[{"patch":"@@ -4413,17 +4413,2 @@\n-            onContextMenuRequested = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ContextMenuEvent.CONTEXT_MENU_REQUESTED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onContextMenuRequested\";\n-                }\n-            };\n+            onContextMenuRequested = new EventHandlerProperty<>(\n+                \"onContextMenuRequested\", ContextMenuEvent.CONTEXT_MENU_REQUESTED);\n@@ -4456,17 +4441,1 @@\n-            onMouseClicked = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_CLICKED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseClicked\";\n-                }\n-            };\n+            onMouseClicked = new EventHandlerProperty<>(\"onMouseClicked\", MouseEvent.MOUSE_CLICKED);\n@@ -4493,17 +4462,1 @@\n-            onMouseDragged = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_DRAGGED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseDragged\";\n-                }\n-            };\n+            onMouseDragged = new EventHandlerProperty<>(\"onMouseDragged\", MouseEvent.MOUSE_DRAGGED);\n@@ -4529,17 +4482,1 @@\n-            onMouseEntered = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_ENTERED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseEntered\";\n-                }\n-            };\n+            onMouseEntered = new EventHandlerProperty<>(\"onMouseEntered\", MouseEvent.MOUSE_ENTERED);\n@@ -4565,17 +4502,1 @@\n-            onMouseExited = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_EXITED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseExited\";\n-                }\n-            };\n+            onMouseExited = new EventHandlerProperty<>(\"onMouseExited\", MouseEvent.MOUSE_EXITED);\n@@ -4602,17 +4523,1 @@\n-            onMouseMoved = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_MOVED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseMoved\";\n-                }\n-            };\n+            onMouseMoved = new EventHandlerProperty<>(\"onMouseMoved\", MouseEvent.MOUSE_MOVED);\n@@ -4639,17 +4544,1 @@\n-            onMousePressed = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_PRESSED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMousePressed\";\n-                }\n-            };\n+            onMousePressed = new EventHandlerProperty<>(\"onMousePressed\", MouseEvent.MOUSE_PRESSED);\n@@ -4676,17 +4565,1 @@\n-            onMouseReleased = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.MOUSE_RELEASED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseReleased\";\n-                }\n-            };\n+            onMouseReleased = new EventHandlerProperty<>(\"onMouseReleased\", MouseEvent.MOUSE_RELEASED);\n@@ -4713,17 +4586,1 @@\n-            onDragDetected = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseEvent.DRAG_DETECTED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onDragDetected\";\n-                }\n-            };\n+            onDragDetected = new EventHandlerProperty<>(\"onDragDetected\", MouseEvent.DRAG_DETECTED);\n@@ -4751,17 +4608,1 @@\n-            onMouseDragOver = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseDragEvent.MOUSE_DRAG_OVER, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseDragOver\";\n-                }\n-            };\n+            onMouseDragOver = new EventHandlerProperty<>(\"onMouseDragOver\", MouseDragEvent.MOUSE_DRAG_OVER);\n@@ -4789,17 +4630,1 @@\n-            onMouseDragReleased = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseDragEvent.MOUSE_DRAG_RELEASED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseDragReleased\";\n-                }\n-            };\n+            onMouseDragReleased = new EventHandlerProperty<>(\"onMouseDragReleased\", MouseDragEvent.MOUSE_DRAG_RELEASED);\n@@ -4827,17 +4652,1 @@\n-            onMouseDragEntered = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseDragEvent.MOUSE_DRAG_ENTERED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseDragEntered\";\n-                }\n-            };\n+            onMouseDragEntered = new EventHandlerProperty<>(\"onMouseDragEntered\", MouseDragEvent.MOUSE_DRAG_ENTERED);\n@@ -4865,17 +4674,1 @@\n-            onMouseDragExited = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(MouseDragEvent.MOUSE_DRAG_EXITED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onMouseDragExited\";\n-                }\n-            };\n+            onMouseDragExited = new EventHandlerProperty<>(\"onMouseDragExited\", MouseDragEvent.MOUSE_DRAG_EXITED);\n@@ -4909,17 +4702,1 @@\n-            onScrollStarted = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ScrollEvent.SCROLL_STARTED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onScrollStarted\";\n-                }\n-            };\n+            onScrollStarted = new EventHandlerProperty<>(\"onScrollStarted\", ScrollEvent.SCROLL_STARTED);\n@@ -4945,17 +4722,1 @@\n-            onScroll = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ScrollEvent.SCROLL, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onScroll\";\n-                }\n-            };\n+            onScroll = new EventHandlerProperty<>(\"onScroll\", ScrollEvent.SCROLL);\n@@ -4982,17 +4743,1 @@\n-            onScrollFinished = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ScrollEvent.SCROLL_FINISHED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onScrollFinished\";\n-                }\n-            };\n+            onScrollFinished = new EventHandlerProperty<>(\"onScrollFinished\", ScrollEvent.SCROLL_FINISHED);\n@@ -5019,17 +4764,1 @@\n-            onRotationStarted = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(RotateEvent.ROTATION_STARTED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onRotationStarted\";\n-                }\n-            };\n+            onRotationStarted = new EventHandlerProperty<>(\"onRotationStarted\", RotateEvent.ROTATION_STARTED);\n@@ -5056,17 +4785,1 @@\n-            onRotate = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(RotateEvent.ROTATE, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onRotate\";\n-                }\n-            };\n+            onRotate = new EventHandlerProperty<>(\"onRotate\", RotateEvent.ROTATE);\n@@ -5093,17 +4806,1 @@\n-            onRotationFinished = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(RotateEvent.ROTATION_FINISHED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onRotationFinished\";\n-                }\n-            };\n+            onRotationFinished = new EventHandlerProperty<>(\"onRotationFinished\", RotateEvent.ROTATION_FINISHED);\n@@ -5130,17 +4827,1 @@\n-            onZoomStarted = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ZoomEvent.ZOOM_STARTED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onZoomStarted\";\n-                }\n-            };\n+            onZoomStarted = new EventHandlerProperty<>(\"onZoomStarted\", ZoomEvent.ZOOM_STARTED);\n@@ -5167,17 +4848,1 @@\n-            onZoom = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ZoomEvent.ZOOM, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onZoom\";\n-                }\n-            };\n+            onZoom = new EventHandlerProperty<>(\"onZoom\", ZoomEvent.ZOOM);\n@@ -5203,18 +4868,2 @@\n-        if (onZoomFinished == null) {\n-            onZoomFinished = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(ZoomEvent.ZOOM_FINISHED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onZoomFinished\";\n-                }\n-            };\n+        if (onZoomFinished == null) {\n+            onZoomFinished = new EventHandlerProperty<>(\"onZoomFinished\", ZoomEvent.ZOOM_FINISHED);\n@@ -5242,17 +4891,1 @@\n-            onSwipeUp = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(SwipeEvent.SWIPE_UP, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onSwipeUp\";\n-                }\n-            };\n+            onSwipeUp = new EventHandlerProperty<>(\"onSwipeUp\", SwipeEvent.SWIPE_UP);\n@@ -5280,17 +4913,1 @@\n-            onSwipeDown = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(SwipeEvent.SWIPE_DOWN, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onSwipeDown\";\n-                }\n-            };\n+            onSwipeDown = new EventHandlerProperty<>(\"onSwipeDown\", SwipeEvent.SWIPE_DOWN);\n@@ -5318,17 +4935,1 @@\n-            onSwipeLeft = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(SwipeEvent.SWIPE_LEFT, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onSwipeLeft\";\n-                }\n-            };\n+            onSwipeLeft = new EventHandlerProperty<>(\"onSwipeLeft\", SwipeEvent.SWIPE_LEFT);\n@@ -5356,17 +4957,1 @@\n-            onSwipeRight = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(SwipeEvent.SWIPE_RIGHT, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onSwipeRight\";\n-                }\n-            };\n+            onSwipeRight = new EventHandlerProperty<>(\"onSwipeRight\", SwipeEvent.SWIPE_RIGHT);\n@@ -5399,17 +4984,1 @@\n-            onTouchPressed = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(TouchEvent.TOUCH_PRESSED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onTouchPressed\";\n-                }\n-            };\n+            onTouchPressed = new EventHandlerProperty<>(\"onTouchPressed\", TouchEvent.TOUCH_PRESSED);\n@@ -5436,17 +5005,1 @@\n-            onTouchMoved = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(TouchEvent.TOUCH_MOVED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onTouchMoved\";\n-                }\n-            };\n+            onTouchMoved = new EventHandlerProperty<>(\"onTouchMoved\", TouchEvent.TOUCH_MOVED);\n@@ -5473,17 +5026,1 @@\n-            onTouchReleased = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(TouchEvent.TOUCH_RELEASED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onTouchReleased\";\n-                }\n-            };\n+            onTouchReleased = new EventHandlerProperty<>(\"onTouchReleased\", TouchEvent.TOUCH_RELEASED);\n@@ -5511,17 +5048,1 @@\n-            onTouchStationary = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(TouchEvent.TOUCH_STATIONARY, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onTouchStationary\";\n-                }\n-            };\n+            onTouchStationary = new EventHandlerProperty<>(\"onTouchStationary\", TouchEvent.TOUCH_STATIONARY);\n@@ -5638,17 +5159,1 @@\n-            onDragEntered = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(DragEvent.DRAG_ENTERED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onDragEntered\";\n-                }\n-            };\n+            onDragEntered = new EventHandlerProperty<>(\"onDragEntered\", DragEvent.DRAG_ENTERED);\n@@ -5676,17 +5181,1 @@\n-            onDragExited = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(DragEvent.DRAG_EXITED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onDragExited\";\n-                }\n-            };\n+            onDragExited = new EventHandlerProperty<>(\"onDragExited\", DragEvent.DRAG_EXITED);\n@@ -5715,17 +5204,1 @@\n-            onDragOver = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(DragEvent.DRAG_OVER, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onDragOver\";\n-                }\n-            };\n+            onDragOver = new EventHandlerProperty<>(\"onDragOver\", DragEvent.DRAG_OVER);\n@@ -5787,17 +5260,1 @@\n-            onDragDropped = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(DragEvent.DRAG_DROPPED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onDragDropped\";\n-                }\n-            };\n+            onDragDropped = new EventHandlerProperty<>(\"onDragDropped\", DragEvent.DRAG_DROPPED);\n@@ -5836,17 +5293,1 @@\n-            onDragDone = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(DragEvent.DRAG_DONE, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onDragDone\";\n-                }\n-            };\n+            onDragDone = new EventHandlerProperty<>(\"onDragDone\", DragEvent.DRAG_DONE);\n@@ -5952,17 +5393,1 @@\n-            onKeyPressed = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(KeyEvent.KEY_PRESSED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onKeyPressed\";\n-                }\n-            };\n+            onKeyPressed = new EventHandlerProperty<>(\"onKeyPressed\", KeyEvent.KEY_PRESSED);\n@@ -5991,17 +5416,1 @@\n-            onKeyReleased = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(KeyEvent.KEY_RELEASED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onKeyReleased\";\n-                }\n-            };\n+            onKeyReleased = new EventHandlerProperty<>(\"onKeyReleased\", KeyEvent.KEY_RELEASED);\n@@ -6031,2 +5440,1 @@\n-    public final ObjectProperty<EventHandler<? super KeyEvent>> onKeyTypedProperty(\n-    ) {\n+    public final ObjectProperty<EventHandler<? super KeyEvent>> onKeyTypedProperty() {\n@@ -6034,17 +5442,1 @@\n-            onKeyTyped = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(KeyEvent.KEY_TYPED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onKeyTyped\";\n-                }\n-            };\n+            onKeyTyped = new EventHandlerProperty<>(\"onKeyTyped\", KeyEvent.KEY_TYPED);\n@@ -6084,17 +5476,2 @@\n-            onInputMethodTextChanged = new ObjectPropertyBase<>() {\n-\n-                @Override\n-                protected void invalidated() {\n-                    setEventHandler(InputMethodEvent.INPUT_METHOD_TEXT_CHANGED, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Scene.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onInputMethodTextChanged\";\n-                }\n-            };\n+            onInputMethodTextChanged = new EventHandlerProperty<>(\n+                \"onInputMethodTextChanged\", InputMethodEvent.INPUT_METHOD_TEXT_CHANGED);\n@@ -6188,0 +5565,25 @@\n+    private final class EventHandlerProperty<T extends Event> extends ObjectPropertyBase<EventHandler<? super T>> {\n+        private final String name;\n+        private final EventType<T> eventType;\n+\n+        EventHandlerProperty(String name, EventType<T> eventType) {\n+            this.name = name;\n+            this.eventType = eventType;\n+        }\n+\n+        @Override\n+        public Object getBean() {\n+            return Scene.this;\n+        }\n+\n+        @Override\n+        public String getName() {\n+            return name;\n+        }\n+\n+        @Override\n+        protected void invalidated() {\n+            setEventHandler(eventType, get());\n+        }\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/Scene.java","additions":68,"deletions":666,"binary":false,"changes":734,"status":"modified"},{"patch":"@@ -948,2 +948,1 @@\n-    public final ObjectProperty<EventHandler<WindowEvent>>\n-            onCloseRequestProperty() {\n+    public final ObjectProperty<EventHandler<WindowEvent>> onCloseRequestProperty() {\n@@ -951,15 +950,1 @@\n-            onCloseRequest = new ObjectPropertyBase<>() {\n-                @Override protected void invalidated() {\n-                    setEventHandler(WindowEvent.WINDOW_CLOSE_REQUEST, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Window.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onCloseRequest\";\n-                }\n-            };\n+            onCloseRequest = new EventHandlerProperty<>(\"onCloseRequest\", WindowEvent.WINDOW_CLOSE_REQUEST);\n@@ -980,15 +965,1 @@\n-            onShowing = new ObjectPropertyBase<>() {\n-                @Override protected void invalidated() {\n-                    setEventHandler(WindowEvent.WINDOW_SHOWING, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Window.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onShowing\";\n-                }\n-            };\n+            onShowing = new EventHandlerProperty<>(\"onShowing\", WindowEvent.WINDOW_SHOWING);\n@@ -1009,15 +980,1 @@\n-            onShown = new ObjectPropertyBase<>() {\n-                @Override protected void invalidated() {\n-                    setEventHandler(WindowEvent.WINDOW_SHOWN, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Window.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onShown\";\n-                }\n-            };\n+            onShown = new EventHandlerProperty<>(\"onShown\", WindowEvent.WINDOW_SHOWN);\n@@ -1038,15 +995,1 @@\n-            onHiding = new ObjectPropertyBase<>() {\n-                @Override protected void invalidated() {\n-                    setEventHandler(WindowEvent.WINDOW_HIDING, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Window.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onHiding\";\n-                }\n-            };\n+            onHiding = new EventHandlerProperty<>(\"onHiding\", WindowEvent.WINDOW_HIDING);\n@@ -1070,15 +1013,1 @@\n-            onHidden = new ObjectPropertyBase<>() {\n-                @Override protected void invalidated() {\n-                    setEventHandler(WindowEvent.WINDOW_HIDDEN, get());\n-                }\n-\n-                @Override\n-                public Object getBean() {\n-                    return Window.this;\n-                }\n-\n-                @Override\n-                public String getName() {\n-                    return \"onHidden\";\n-                }\n-            };\n+            onHidden = new EventHandlerProperty<>(\"onHidden\", WindowEvent.WINDOW_HIDDEN);\n@@ -1599,0 +1528,25 @@\n+\n+    private final class EventHandlerProperty<T extends Event> extends ObjectPropertyBase<EventHandler<T>> {\n+        private final String name;\n+        private final EventType<T> eventType;\n+\n+        EventHandlerProperty(String name, EventType<T> eventType) {\n+            this.name = name;\n+            this.eventType = eventType;\n+        }\n+\n+        @Override\n+        public Object getBean() {\n+            return Window.this;\n+        }\n+\n+        @Override\n+        public String getName() {\n+            return name;\n+        }\n+\n+        @Override\n+        protected void invalidated() {\n+            setEventHandler(eventType, get());\n+        }\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/stage\/Window.java","additions":31,"deletions":77,"binary":false,"changes":108,"status":"modified"}]}
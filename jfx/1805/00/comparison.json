{"files":[{"patch":"@@ -56,1 +56,1 @@\n-\n+    unichar insertTextChar;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassView3D.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -250,0 +250,1 @@\n+        self->insertTextChar = 0;\n@@ -516,0 +517,1 @@\n+    insertTextChar = 0;\n@@ -535,1 +537,1 @@\n-        wasConsumed = [self->_delegate sendJavaKeyEvent:theEvent isDown:YES];\n+        wasConsumed = [self->_delegate sendJavaKeyEvent:theEvent isDown:YES character:insertTextChar];\n@@ -550,1 +552,1 @@\n-    [self->_delegate sendJavaKeyEvent:theEvent isDown:NO];\n+    [self->_delegate sendJavaKeyEvent:theEvent isDown:NO character:insertTextChar];\n@@ -790,0 +792,14 @@\n+    \/\/ The Keyman input method sends different characters to keyDown than to\n+    \/\/ insertText. If the layout is Hebrew the NSEvent sent to keyDown will\n+    \/\/ contain Roman characters but Hebrew will be sent to insertText. Like\n+    \/\/ AWT we special-case this layout.\n+    if ([self.inputContext.selectedKeyboardInputSource containsString: @\"keyman\"]) {\n+        if ([aString isKindOfClass: [NSString class]]) {\n+            NSString* nsString = (NSString*)aString;\n+            \/\/ Longer strings are sent out above as commits.\n+            if (nsString.length == 1) {\n+                self->insertTextChar = [nsString characterAtIndex: 0];\n+            }\n+        }\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassView3D.m","additions":18,"deletions":2,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-- (BOOL)sendJavaKeyEvent:(NSEvent *)event isDown:(BOOL)isDown;\n+- (BOOL)sendJavaKeyEvent:(NSEvent *)event isDown:(BOOL)isDown character:(unichar)textChar;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewDelegate.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -679,1 +679,1 @@\n-- (BOOL)sendJavaKeyEvent:(NSEvent *)theEvent isDown:(BOOL)isDown\n+- (BOOL)sendJavaKeyEvent:(NSEvent *)theEvent isDown:(BOOL)isDown character:(unichar)textChar\n@@ -684,1 +684,0 @@\n-    jcharArray jKeyChars = GetJavaKeyChars(env, theEvent);\n@@ -686,0 +685,11 @@\n+    jcharArray jKeyChars;\n+    if (textChar != 0) {\n+        jchar jc[1] = { textChar };\n+        jKeyChars = (*env)->NewCharArray(env, 1);\n+        if (jKeyChars == NULL) {\n+            return YES;\n+        }\n+        (*env)->SetCharArrayRegion(env, jKeyChars, 0, 1, jc);\n+    } else {\n+        jKeyChars = GetJavaKeyChars(env, theEvent);\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewDelegate.m","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"}]}
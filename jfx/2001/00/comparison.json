{"files":[{"patch":"@@ -586,1 +586,1 @@\n-            if (p.offset() < len) {\n+            if (p.offset() <= len) {\n@@ -687,1 +687,3 @@\n-        \/\/ TODO clamp to document boundaries\n+        \/\/ clamp and normalize\n+        start = clamp(start);\n+        end = clamp(end);\n@@ -780,0 +782,3 @@\n+        \/\/ clamp and normalize\n+        start = clamp(start);\n+        end = clamp(end);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/jfx\/incubator\/scene\/control\/richtext\/model\/StyledTextModel.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -315,0 +315,5 @@\n+    @Test\n+    public void applyStyleBeyondDocumentEnd() {\n+        control.applyStyle(TextPos.ZERO, TextPos.ofLeading(100, 3), BOLD);\n+    }\n+\n@@ -720,0 +725,7 @@\n+    @Test\n+    public void replaceTextBeyondDocumentEnd() {\n+        control.appendText(\"1\\n\");\n+        control.replaceText(TextPos.ofLeading(0, 1), TextPos.ofLeading(33, 3), \"-\");\n+        assertEquals(\"1-\", text());\n+    }\n+\n@@ -926,1 +938,1 @@\n-        return new TextPos(0, caret, caret - 1, false);\n+        return TextPos.ofLeading(0, caret);\n","filename":"modules\/jfx.incubator.richtext\/src\/test\/java\/test\/jfx\/incubator\/scene\/control\/richtext\/RichTextAreaTest.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -188,1 +188,1 @@\n-    jstring jurl = NULL;\n+    jobject jurl = NULL;\n@@ -198,1 +198,1 @@\n-        jurl = (jstring) mainEnv->CallObjectMethod(data, jMapGet, typeString, NULL);\n+        jurl = mainEnv->CallObjectMethod(data, jMapGet, typeString, NULL);\n@@ -200,1 +200,3 @@\n-        url = getUTF(mainEnv, jurl);\n+        if (jurl != NULL && mainEnv->IsInstanceOf(jurl, jStringCls)) {\n+            url = getUTF(mainEnv, (jstring)jurl);\n+        }\n@@ -233,4 +235,6 @@\n-            jstring string = (jstring) mainEnv->GetObjectArrayElement(files_array, i);\n-            const gchar* file = getUTF(mainEnv, string);\n-            uris[i] = g_filename_to_uri(file, NULL, NULL);\n-            g_free((gpointer)file);\n+            jobject stringObj = mainEnv->GetObjectArrayElement(files_array, i);\n+            if (stringObj != NULL && mainEnv->IsInstanceOf(stringObj, jStringCls)) {\n+                const gchar* file = getUTF(mainEnv, (jstring)stringObj);\n+                uris[i] = g_filename_to_uri(file, NULL, NULL);\n+                g_free((gpointer)file);\n+            }\n@@ -280,1 +284,2 @@\n-        if (!EXCEPTION_OCCURED(mainEnv) && result != NULL) {\n+        if (!EXCEPTION_OCCURED(mainEnv) && result != NULL &&\n+            mainEnv->IsInstanceOf(result, jStringCls)) {\n@@ -287,1 +292,2 @@\n-        if (!EXCEPTION_OCCURED(mainEnv) && result != NULL) {\n+        if (!EXCEPTION_OCCURED(mainEnv) && result != NULL &&\n+            mainEnv->IsInstanceOf(result, jGtkPixelsCls)) {\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/GlassSystemClipboard.cpp","additions":15,"deletions":9,"binary":false,"changes":24,"status":"modified"}]}
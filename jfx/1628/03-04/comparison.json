{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import java.util.function.Predicate;\n@@ -150,0 +151,1 @@\n+        \/\/ focus the start node\n@@ -151,3 +153,8 @@\n-        nodes[from - 1].requestFocusTraversal(dir);\n-        String msg = getFocused();\n-        assertTrue(nodes[to - 1].isFocused(), msg);\n+        \/\/ attempt traversal\n+        boolean success = nodes[from - 1].requestFocusTraversal(dir);\n+        \/\/ validate the focused node\n+        assertTrue(nodes[to - 1].isFocused(), message(\"Focused\", Node::isFocused));\n+        if (success) {\n+            \/\/ validate that success resulted in focus-visible node\n+            assertTrue(nodes[to - 1].isFocusVisible(), message(\"FocusVisible\", Node::isFocusVisible));\n+        }\n@@ -156,1 +163,1 @@\n-    private String getFocused() {\n+    private String message(String prefix, Predicate<Node> func) {\n@@ -158,2 +165,2 @@\n-            if (n.isFocused()) {\n-                return \"(Focused:\" + n.getId() + \")\";\n+            if (func.test(n)) {\n+                return \"(\" + prefix + \":\" + n.getId() + \")\";\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/scene\/NodeTraversalTest.java","additions":13,"deletions":6,"binary":false,"changes":19,"status":"modified"}]}
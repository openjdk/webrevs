{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -330,1 +330,3 @@\n-        if (callbacks == NULL) {\n+        jobject jConnectionHolder = CLocator::CreateConnectionHolder(env, jLocator);\n+        if (callbacks == NULL  || jConnectionHolder == NULL) {\n+            if (callbacks) delete callbacks;\n@@ -338,1 +340,1 @@\n-        if (!callbacks->Init(env, jLocator)) {\n+        if (!callbacks->Init(env, jConnectionHolder)) {\n","filename":"modules\/javafx.media\/src\/main\/native\/jfxmedia\/platform\/osx\/OSXMediaPlayer.mm","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -783,4 +783,0 @@\n-        long position = locatorStream->GetCallbacks()->Seek(dataRequest.requestedOffset);\n-        if (position != dataRequest.requestedOffset) {\n-            return NO;\n-        }\n@@ -806,0 +802,10 @@\n+        bool isRandomAccess = locatorStream->GetCallbacks()->IsRandomAccess();\n+        int64_t position = -1;\n+        if (isRandomAccess) {\n+            position = dataRequest.requestedOffset;\n+        } else {\n+            position = locatorStream->GetCallbacks()->Seek(dataRequest.requestedOffset);\n+            if (position != dataRequest.requestedOffset) {\n+                return NO;\n+            }\n+        }\n@@ -807,1 +813,6 @@\n-            unsigned int blockSize = locatorStream->GetCallbacks()->ReadNextBlock();\n+            unsigned int blockSize = -1;\n+            if (isRandomAccess) {\n+                blockSize = locatorStream->GetCallbacks()->ReadBlock(position, requestedLength);\n+            } else {\n+                blockSize = locatorStream->GetCallbacks()->ReadNextBlock();\n+            }\n@@ -821,0 +832,1 @@\n+            position += readSize;\n","filename":"modules\/javafx.media\/src\/main\/native\/jfxmedia\/platform\/osx\/avf\/AVFMediaPlayer.mm","additions":18,"deletions":6,"binary":false,"changes":24,"status":"modified"}]}
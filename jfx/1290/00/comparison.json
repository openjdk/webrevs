{"files":[{"patch":"@@ -1,1 +1,1 @@\n-## GNU Glib v2.72.0\n+## GNU Glib v2.78.1\n@@ -6,1 +6,1 @@\n-You are receiving a copy of GNU Glib, Version: 2.72.0 in either source or\n+You are receiving a copy of GNU Glib, Version: 2.78.1 in either source or\n@@ -8,1 +8,1 @@\n-Oracle license do NOT apply to the GNU Glib, Version: 2.72.0; it is\n+Oracle license do NOT apply to the GNU Glib, Version: 2.78.1; it is\n@@ -40,1 +40,5 @@\n-Copyright (C) 1995 A.M. Kuchling\n+Copyright (C) 1997-2005 Tim Janik\n+Copyright (C) 1995-1998  Peter Mattis, Spencer Kimball and Josh MacDonald\n+Copyright 2018  Emmanuele Bassi\n+Copyright (C) 2000 Sebastian Wilhelmi; University of Karlsruhe\n+Copyright (C) 2007-2011 Ryan Lortie\n@@ -42,7 +46,1 @@\n-Copyright (C) 2004 Anders Carlsson <andersca@gnome.org>\n-Copyright (C) 2001-2003 Andrew Lanoix\n-Copyright (C) 2009 Benjamin Otte <otte@gnome.org>\n-Copyright (C) 2011, 2014-2015 Canonical Limited\n-Copyright (C) 2009-2010 Christian Hergert <chris@dronelabs.com>\n-Copyright (C) 2010 Christian Persch\n-Copyright (C) 2008 Claus Tondering.\n+Copyright (C) 2000-2003 Ximian Inc.\n@@ -50,23 +48,7 @@\n-Copyright (C) 2009-2011, 2018 Collabora Ltd.\n-Copyright (C) 2006 Dave Benson\n-Copyright (C) 2000 Eazel, Inc.\n-Copyright (C) 2005-2007, 2010, 2018 Emmanuele Bassi\n-Copyright (C) 2018, 2020 Endless Mobile, Inc.\n-Copyright (C) 2020 Frederic Martinsons\n-Copyright (C) 1991-2019 Free Software Foundation, Inc.\n-Copyright (C) 2001 Hans Breuer\n-Copyright (C) 2021 Iain Lane, Xavier Claessens\n-Copyright (C) 2005, 2007 Imendio AB\n-Copyright (C) 2010 Intel Corp.\n-Copyright (C) 2003, 2005 Matthias Clasen\n-Copyright (C) 2003 Noah Levitt\n-Copyright (C) 2009 Nokia Corporation\n-Copyright (C) 1998 Owen Taylor\n-Copyright (C) 1998 Owen Taylor and Tor Lillqvist\n-Copyright (C) 1995-1997, 1999, 2002 Peter Mattis, Red Hat, Inc.\n-Copyright (C) 1995-1998 Peter Mattis, Spencer Kimball and Josh MacDonald\n-Copyright (C) 1998-2001, 2003-2005, 2007-2012, 2020 Red Hat, Inc.\n-Copyright (C) 2007-2008, 2011 Ryan Lortie\n-Copyright (C) 2003 Sebastian Wilhelmi\n-Copyright (C) 1998-2001 Sebastian Wilhelmi; University of Karlsruhe\n-Copyright (C) 2011 Stef Walter  <stefw@collabora.co.uk>\n+Copyright (C) 2011 Collabora Ltd.\n+Copyright (C) 1998-2012 Red Hat, Inc.\n+Copyright (C) 2007  Emmanuele Bassi  <ebassi@gnome.org>\n+Copyright Red Hat Inc., 2000\n+Copyright 2020 Frederic Martinsons\n+Copyright (C) 2005  Red Hat\n+Copyright (C) 2009-2010 Christian Hergert <chris@dronelabs.com>\n@@ -74,3 +56,1 @@\n-Copyright (C) 1997, 1998, 2000, 2005 Tim Janik\n-Copyright (C) 1997-1999, 2000-2001 Tim Janik and Red Hat, Inc.\n-Copyright (C) 1999, 2000 Tom Tromey\n+Copyright (C) 2010 Emmanuele Bassi <ebassi@linux.intel.com>\n@@ -78,4 +58,38 @@\n-Copyright (C) 1998-2000, 2003-2004 Tor Lillqvist\n-Copyright (C) 1999-2000 Tor Lillqvist and Craig Setera\n-Copyright (C) 2000-2003 Ximian Inc.\n-Copyright (C) 2017-2019 Руслан Ижбулатов\n+Copyright 2001 Hans Breuer\n+Copyright 2000-2004 Tor Lillqvist\n+Copyright 2000-2005 Red Hat, Inc.\n+Copyright (C) 2011  Stef Walter  <stefw@collabora.co.uk>\n+Copyright (C) 1995-2002  Peter Mattis, Red Hat, Inc.\n+Copyright 1998 Owen Taylor\n+Copyright 1998 Owen Taylor and Tor Lillqvist\n+Copyright 1999-2000 Tor Lillqvist and Craig Setera\n+Copyright 2001-2003 Andrew Lanoix\n+Copyright 2009-2018  Collabora Ltd.\n+Copyright 2009  Nokia Corporation\n+Copyright (C) 2011-2015 Canonical Limited\n+Copyright (C) 1997-2001 Tim Janik and Red Hat, Inc.\n+Copyright (C) 2021  Iain Lane, Xavier Claessens\n+Copyright 2005 Matthias Clasen\n+Copyright (C) 1991-2019 Free Software Foundation, Inc.\n+Copyright (C) 2003  Matthias Clasen\n+Copyright (C) 1999-2019 Free Software\n+Copyright (C) 1999-2003 Red Hat Software\n+Copyright (C) 2004       Anders Carlsson <andersca@gnome.org>\n+Copyright (C) 2000 Eazel, Inc.\n+Copyright (C) 2002-2007\n+ Copyright 1991, 92, 95, 96, 97, 98, 99 Free Software Foundation, Inc.\n+Copyright 2017-2019 Руслан Ижбулатов\n+Copyright (C) 2005-2007 Imendio AB\n+Copyright 1998-2001 Sebastian Wilhelmi; University of Karlsruhe\n+Copyright (C) 2003 Sebastian Wilhelmi\n+Copyright © 2020 Endless Mobile, Inc.\n+Copyright (C) 1999-2000 Tom Tromey\n+Copyright (C) 2003 Noah Levitt\n+Copyright © 2020 Red Hat, Inc.\n+Copyright (C) 2018 Endless Mobile, Inc.\n+Copyright (C) 2022 Endless OS Foundation, LLC\n+Copyright (C) 2020 William Manley\n+Copyright (C) 1998-1999  Tor Lillqvist\n+Copyright (C) 2009 Benjamin Otte <otte@gnome.org>\n+Copyright (C) 2010  Intel Corp.\n+Copyright (C) 2010 Christian Persch\n@@ -586,37 +600,0 @@\n-Authors\n-\n-Original Authors\n----------------------------------\n-Peter Mattis       <petm@xcf.berkeley.edu>\n-Spencer Kimball    <spencer@xcf.berkeley.edu>\n-Josh MacDonald     <jmacd@xcf.berkeley.edu>\n-\n-GLib-2.0 Team\n----------------------------------\n-Hans Breuer        <hans@breuer.org>\n-Matthias Clasen    <mclasen@redhat.com>\n-Tor Lillqvist      <tml@iki.fi>\n-Tim Janik          <timj@gtk.org>\n-Havoc Pennington   <hp@redhat.com>\n-Ron Steinke        <rsteinke@w-link.net>\n-Owen Taylor        <otaylor@redhat.com>\n-Sebastian Wilhelmi <seppi@seppi.de>\n-\n-GLib-1.2 Team\n----------------------------------\n-Shawn T. Amundson  <amundson@gimp.org>\n-Jeff Garzik        <jgarzik@pobox.com>\n-Raja R Harinath    <harinath@cs.umn.edu>\n-Tim Janik          <timj@gtk.org>\n-Elliot Lee         <sopwith@redhat.com>\n-Tor Lillqvist      <tml@iki.fi>\n-Paolo Molaro       <lupus@debian.org>\n-Havoc Pennington   <hp@pobox.com>\n-Manish Singh       <yosh@gimp.org>\n-Owen Taylor        <otaylor@gtk.org>\n-Sebastian Wilhelmi <wilhelmi@ira.uka.de>\n-\n-The random number generator \"Mersenne Twister\", which is used by GLib,\n-was developed and originally coded by:\n-Makoto Matsumoto   <matumoto@math.keio.ac.jp>\n-Takuji Nishimura   <nisimura@math.keio.ac.jp>\n@@ -649,0 +626,26 @@\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gutils.c\n+\n+Copyright (C) 2007 Red Hat, Inc.\n+\n+Permission is hereby granted, free of charge, to any person\n+obtaining a copy of this software and associated documentation files\n+(the \"Software\"), to deal in the Software without restriction,\n+including without limitation the rights to use, copy, modify, merge,\n+publish, distribute, sublicense, and\/or sell copies of the Software,\n+and to permit persons to whom the Software is furnished to do so,\n+subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be\n+included in all copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n+EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n+MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n+NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n+BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n+ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n+CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+SOFTWARE.\n+\n@@ -663,0 +666,71 @@\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gchecksum.c\n+\n+Copyright (C) 1995, A.M. Kuchling\n+\n+Distribute and use freely; there are no restrictions on further\n+dissemination and usage except those imposed by the laws of your\n+country of residence.\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gcharset.c (guess_category_value())\n+\n+Copyright (C) 1995, 1996, 1997, 1998 Free Software Foundation, Inc.\n+\n+The following is (partly) taken from the gettext package.\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gchecksum.c (sha256_sum_init())\n+\n+Copyright (C) 2006 Dave Benson\n+\n+Adapted from the SHA256 implementation in gsk\/src\/hash\/gskhash.c.\n+Released under the terms of the GNU Lesser General Public License\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gpoll.c (poll())\n+\n+Copyright (C) 1994-1997 Free Software Foundation, Inc.\n+\n+The following implementation of poll() comes from the GNU C Library.\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gfileutils.c\n+\n+Copyright (C) 1991,92,93,94,95,96,97,98,99 Free Software Foundation, Inc.\n+\n+get_tmp_file based on the mkstemp implementation from the GNU C library.\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gmarkup.c\n+\n+Copyright (C) 1999-2003 Free Software Foundation, Inc.\n+\n+Partially based on code from printf-parser.c\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gstrfuncs.c (g_parse_long_long())\n+\n+Copyright (C) 1991-2002 Free Software Foundation, Inc.\n+\n+This code is based on on the strtol(3) code from GNU libc released under\n+the GNU Lesser General Public License.\n+\n+---------------------------------\n+The below license applies to the following files:\n+glib\/glib\/gunicollate.c\n+\n+Copyright (C) 1995-2001 Free Software Foundation, Inc.\n+\n+Written by Ulrich Drepper <drepper@cygnus.com>, 1995.\n+\n+utf8_encode() is taken (with modification) from GNU\n+libc's strxfrm routine.\n+\n","filename":"modules\/javafx.media\/src\/main\/legal\/glib.md","additions":152,"deletions":78,"binary":false,"changes":230,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-## GStreamer v1.20.1\n+## GStreamer v1.22.6\n@@ -6,1 +6,1 @@\n-You are receiving a copy of GStreamer, Version: 1.20.1 in either source or\n+You are receiving a copy of GStreamer, Version: 1.22.6 in either source or\n@@ -8,1 +8,1 @@\n-Oracle license do NOT apply to the GStreamer, Version: 1.20.1; it is\n+Oracle license do NOT apply to the GStreamer, Version: 1.22.6; it is\n@@ -38,8 +38,4 @@\n-Copyright (C) 2010-2012 Alexander Saprykin <xelfium@gmail.com>\n-Copyright (C) 2001-2002, 2004-2005 Andy Wingo <apwingo@eos.ncsu.edu>\n-Copyright (C) 2010 Arun Raghavan <arun.raghavan@collabora.co.uk>\n-Copyright (C) 2009 Axis Communications <dev-gstreamer at axis dot com>\n-Copyright (C) 2003-2004 Benjamin Otte <in7y118@public.uni-hamburg.de>\n-Copyright (C) 2010 Brandon Lewis <brandon.lewis@collabora.co.uk>\n-Copyright (C) 2016 British Broadcasting Corporation\n-Copyright (C) 2014-2015 Centricular Ltd\n+Copyright (C) <2007-2008> Pioneers of the Inevitable <songbird@songbirdnest.com>\n+Copyright (C) <2020> The GStreamer Contributors.\n+Copyright (C) <1999-2001> Erik Walthinsen <omega@cse.ogi.edu>\n+Copyright (C) 2005-2014 Tim-Philipp Müller <tim centricular net>\n@@ -47,10 +43,3 @@\n-Copyright (C) 2011-2013, 2018, 2021 Collabora Ltd.\n-Copyright (C) 2010 Collabora Multimedia\n-Copyright (C) 2003, 2005, 2007-2008, 2010-2011 David A. Schleef <ds@schleef.org>\n-Copyright (C) 2014 David Waring, British Broadcasting Corporation\n-Copyright (C) 2006, 2009-2010 Edward Hervey <bilboed@bilboed.com>\n-Copyright (C) 1999-2001 Erik Walthinsen <omega@cse.ogi.edu>\n-Copyright (C) 2010, 2012-2013 Fluendo S.A. <support@fluendo.com>\n-Copyright (C) 1995-1998, 2000-2002 Free Software Foundation, Inc.\n-Copyright (C) 2012, 2018 GStreamer developers\n-Copyright (C) 2011 Hewlett-Packard Development Company, L.P.\n+Copyright (C) 2001 Thomas Nyberg <thomas@codefactory.se>\n+Copyright (C) 2001-2002 Andy Wingo <apwingo@eos.ncsu.edu>\n+Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n@@ -58,15 +47,4 @@\n-Copyright (C) 2009 Igalia S.L.\n-Copyright (C) 2011, 2013 Intel Corporation\n-Copyright (C) 2005-2009, 2015, 2021 Jan Schmidt <jan.schmidt@sun.com>\n-Copyright (C) 2006 Josep Torra <josep@fluendo.com>\n-Copyright (C) 2003, 2007 Julien Moutte <julien@fluendo.com>\n-Copyright (C) 2015 Luis de Bethencourt <luis@debethencourt.com>\n-Copyright (C) 2008, 2010, 2011 Mark Nauwelaerts <mark.nauwelaerts@collabora.co.uk>.\n-Copyright (C) 2006 Mathieu Garcia  <matthieu@fluendo.com>\n-Copyright (C) 2006-2008 Tim-Philipp Müller <tim centricular net>\n-Copyright (C) 2006, 2008, 2010-2011 Nokia <stefan.kost@nokia.com\n-Copyright (C) 2008 Ole André Vadla Ravnås <ole.andre.ravnas@tandberg.com>\n-Copyright (C) 2007 Peter Kjellerstedt <pkj@axis.com>\n-Copyright (C) 1995-1997 Peter Mattis, Spencer Kimball and Josh MacDonald\n-Copyright (C) 2007-2008 Pioneers of the Inevitable <songbird@songbirdnest.com>\n-Copyright (C) 2001 RidgeRun (http:\/\/www.ridgerun.com\/)\n+Copyright (C) 2000-2006 Wim Taymans <wim@fluendo.com>\n+Copyright (C) 2012-2018 GStreamer developers\n+Copyright (C) 2003-2011 David Schleef <ds@schleef.org>\n+Copyright (C) <2011-2021> Collabora Ltd.\n@@ -74,0 +52,17 @@\n+Copyright (C) 2006-2013 Sebastian Dröge <slomo@circular-chaos.org>\n+Copyright (C) 2005 Wim Taymans <wim at fluendo dot com>\n+Copyright (C) <2004-2015> Wim Taymans <wim.taymans@gmail.com>\n+Copyright (C) 2009 Igalia S.L.\n+Copyright (C) 2011 Mark Nauwelaerts <mark.nauwelaerts@collabora.co.uk>.\n+Copyright (C) 2008-2011 Nokia Corporation. All rights reserved.\n+Copyright (C) 2007-2011 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n+Copyright (C) 2010 Arun Raghavan <arun.raghavan@collabora.co.uk>\n+Copyright (C) <2005-2011> Stefan Kost <ensonic@users.sf.net>\n+Copyright (C) <2015> Luis de Bethencourt <luis@debethencourt.com>\n+Copyright (C) 2010 Collabora Multimedia\n+Copyright (C) 2009-2010 Edward Hervey <edward.hervey@collabora.co.uk>\n+Copyright (C) 2005-2007 Jan Schmidt <thaytan@mad.scientist.com>\n+Copyright (C) 2010 Thiago Santos <thiago.sousa.santos@collabora.co.uk>\n+Copyright 2005 Jan Schmidt <thaytan@mad.scientist.com>\n+Copyright 2002-2003 Scott Wheeler <wheeler@kde.org> (portions from taglib)\n+Copyright 2006-2008 Tim-Philipp Müller <tim centricular net>\n@@ -75,1 +70,18 @@\n-Copyright (C) 2009 STEricsson <benjamin.gaignard@stericsson.com>\n+Copyright (C) 2010 Brandon Lewis <brandon.lewis@collabora.co.uk>\n+Copyright (C) <2003> Julien Moutte <julien@moutte.net>\n+Copyright (C) <2016> Vivia Nikolaidou <vivia@toolsonair.com>\n+Copyright (C) 2006-2009 Jan Schmidt <thaytan@noraisin.net>\n+Copyright (C) 2003-2007 David A. Schleef <ds@schleef.org>\n+Copyright (C) <2011-2013> Intel Corporation\n+Copyright (C) <2011> Thibault Saunier <thibault.saunier@collabora.com>\n+Copyright (C) <2018-2019> Seungha Yang <seungha.yang@navercorp.com>\n+Copyright (C) <2015-2021> Jan Schmidt <jan@centricular.com>\n+Copyright (C) 2006 Nokia <stefan.kost@nokia.com>\n+Copyright (C) 2011 Tim-Philipp Müller <tim@centricular.net>\n+Copyright (C) 2004-2005 Thomas Vander Stichele <thomas at apestaart dot org>\n+Copyright (C) 2011 Wim Taymans <wim.taymans at gmail dot com>\n+Copyright (C) 2004 Andy Wingo <wingo at pobox.com>\n+Copyright (C) 2005 Andy Wingo <wingo@pobox.com>\n+Copyright (C) 2010 Mark Nauwelaerts <mnauw users sf net>\n+Copyright (C) <2004> Benjamin Otte <otte@gnome.org>\n+Copyright (C) 2008 Thiago Sousa Santos <thiagoss@embedded.ufcg.edu.br>\n@@ -77,11 +89,1 @@\n-Copyright (C) 2005 David Schleef <ds@schleef.org>\n-Copyright (C) 2005 Jan Schmidt <thaytan@mad.scientist.com>\n-Copyright (C) 2007-2011, 2013 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n-Copyright (C) 2005 Sebastien Moutte <sebastien@moutte.net>\n-Copyright (C) 2018-2019 Seungha Yang <seungha.yang@navercorp.com>\n-Copyright (C) 2013 Sreerenj Balachandran <sreerenj.balachandran@intel.com>\n-Copyright (C) 2005-2007, 2011 Stefan Kost <ensonic@sonicpulse.de>\n-Copyright (C) 2011, 2013, 2016 Stefan Sauer <ensonic@users.sf.net>\n-Copyright (C) 2020 The GStreamer Contributors.\n-Copyright (C) 2008, 2010 Thiago Santos <thiago.sousa.santos@collabora.co.uk>\n-Copyright (C) 2011 Thibault Saunier <thibault.saunier@collabora.com>\n+Copyright (C) <2009> STEricsson <benjamin.gaignard@stericsson.com>\n@@ -89,7 +91,8 @@\n-Copyright (C) 2001 Thomas Nyberg <thomas@codefactory.se>\n-Copyright (C) 2004-2005 Thomas Vander Stichele <thomas at apestaart dot org>\n-Copyright (C) 2005-2009, 2011, 2014-2015 Tim-Philipp Müller  <tim centricular net>\n-Copyright (C) <2016> Vivia Nikolaidou <vivia@toolsonair.com>\n-Copyright (C) 2002-2003 Scott Wheeler <wheeler@kde.org> (portions from taglib)\n-Copyright (C) 2000-2007, 2009-2011, 2013-2015 Wim Taymans <wim at fluendo dot com>\n-Copyright (C) 2013, 2015 YouView TV Ltd.\n+Copyright (C) <2007> Julien Moutte <julien@fluendo.com>\n+Copyright (C) <2013> Sreerenj Balachandran <sreerenj.balachandran@intel.com>\n+Copyright (C) <2014-2015> Centricular Ltd\n+Copyright (C) <2013-2015> YouView TV Ltd.\n+Copyright (C) <2016> British Broadcasting Corporation\n+Copyright (C) <2006> Nokia Corporation, Stefan Kost <stefan.kost@nokia.com>.\n+Copyright (C) 2005 Sebastien Moutte <sebastien@moutte.net>\n+Copyright (C) 2010-2013 Fluendo S.A. <support@fluendo.com>\n@@ -97,0 +100,19 @@\n+Copyright 2005 David Schleef <ds@schleef.org>\n+Copyright (C) 1995-1997  Peter Mattis, Spencer Kimball and Josh MacDonald\n+Copyright (C) 2009-2011 Wim Taymans <wim.taymans@gmail.be>\n+Copyright (C) 2009-2010 Edward Hervey <bilboed@bilboed.com>\n+Copyright (C) 2009 Axis Communications <dev-gstreamer at axis dot com>\n+Copyright (C) 2014 Tim-Philipp Müller <tim at centricular dot com>\n+Copyright (C) 2011-2016 Stefan Sauer <ensonic@users.sf.net>\n+Copyright (C) 2008 Jan Schmidt <jan.schmidt@sun.com>\n+Copyright (C) 2007 Peter Kjellerstedt <pkj@axis.com>\n+Copyright (C) 2008 Ole André Vadla Ravnås <ole.andre.ravnas@tandberg.com>\n+Copyright (C) 2006 Josep Torra <josep@fluendo.com>\n+Copyright (C) 2006 Mathieu Garcia  <matthieu@fluendo.com>\n+Copyright (C) 2006 Stefan Kost <ensonic@sonicpulse.de>\n+Copyright (C) 2010-2012 Alexander Saprykin <xelfium@gmail.com>\n+Copyright (C) 2011, Hewlett-Packard Development Company, L.P.\n+Copyright (C) 2008 Mark Nauwelaerts <mnauw@users.sourceforge.net>\n+Copyright (C) 2006 Edward Hervey <edward@fluendo.com>\n+Copyright (C) 2001 RidgeRun (http:\/\/www.ridgerun.com\/)\n+Copyright (C) 2015 Tim-Philipp Müller <tim@centricular.com>\n@@ -702,0 +724,35 @@\n+---------------------------------\n+The below license applies to the following files:\n+gstreamer-lite\/gstreamer\/gst\/gsturi.c\n+\n+Copyright (C) 1990-1993\n+\n+ The Regents of the University of California.  All rights reserved.\n+\n+This code is derived from software contributed to Berkeley by\n+Chris Torek.\n+\n+Redistribution and use in source and binary forms, with or without\n+modification, are permitted provided that the following conditions\n+are met:\n+1. Redistributions of source code must retain the above copyright\n+   notice, this list of conditions and the following disclaimer.\n+2. Redistributions in binary form must reproduce the above copyright\n+   notice, this list of conditions and the following disclaimer in the\n+   documentation and\/or other materials provided with the distribution.\n+3. Neither the name of the University nor the names of its contributors\n+   may be used to endorse or promote products derived from this software\n+   without specific prior written permission.\n+\n+THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND\n+ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n+ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE\n+FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n+DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS\n+OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n+HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT\n+LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY\n+OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+SUCH DAMAGE.\n+\n","filename":"modules\/javafx.media\/src\/main\/legal\/gstreamer.md","additions":112,"deletions":55,"binary":false,"changes":167,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-#define GLIB_BINARY_AGE 7200\n+#define GLIB_BINARY_AGE 7801\n@@ -54,1 +54,1 @@\n-#define GLIB_MICRO_VERSION 0\n+#define GLIB_MICRO_VERSION 1\n@@ -57,1 +57,1 @@\n-#define GLIB_MINOR_VERSION 72\n+#define GLIB_MINOR_VERSION 78\n@@ -708,1 +708,1 @@\n-#define PACKAGE_STRING \"glib 2.72.0\"\n+#define PACKAGE_STRING \"glib 2.78.0\"\n@@ -717,1 +717,1 @@\n-#define PACKAGE_VERSION \"2.72.0\"\n+#define PACKAGE_VERSION \"2.78.0\"\n@@ -869,1 +869,1 @@\n-#endif \/\/ GSTREAMER_LITE\n\\ No newline at end of file\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/osx\/config.h","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -15,0 +15,7 @@\n+\/* #undef GLIB_STATIC_COMPILATION *\/\n+\/* #undef GOBJECT_STATIC_COMPILATION *\/\n+\/* #undef GIO_STATIC_COMPILATION *\/\n+\/* #undef GMODULE_STATIC_COMPILATION *\/\n+\/* #undef G_INTL_STATIC_COMPILATION *\/\n+\/* #undef FFI_STATIC_BUILD *\/\n+\n@@ -21,5 +28,0 @@\n-\/* #undef GLIB_STATIC_COMPILATION *\/\n-\/* #undef GOBJECT_STATIC_COMPILATION *\/\n-\/* #undef G_INTL_STATIC_COMPILATION *\/\n-\/* #undef FFI_STATIC_BUILD *\/\n-\n@@ -114,2 +116,2 @@\n-#define GLIB_MINOR_VERSION 72\n-#define GLIB_MICRO_VERSION 0\n+#define GLIB_MINOR_VERSION 78\n+#define GLIB_MICRO_VERSION 1\n@@ -188,0 +190,1 @@\n+\n@@ -215,0 +218,2 @@\n+#undef G_HAVE_FREE_SIZED\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/osx\/glibconfig.h","additions":12,"deletions":7,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/osx\/gmoduleconf.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-#define GLIB_BINARY_AGE 7200\n+#define GLIB_BINARY_AGE 7801\n@@ -53,1 +53,1 @@\n-#define GLIB_MICRO_VERSION 0\n+#define GLIB_MICRO_VERSION 1\n@@ -56,1 +56,1 @@\n-#define GLIB_MINOR_VERSION 72\n+#define GLIB_MINOR_VERSION 78\n@@ -695,1 +695,1 @@\n-#define PACKAGE_STRING \"glib 2.72.0\"\n+#define PACKAGE_STRING \"glib 2.78.0\"\n@@ -704,1 +704,1 @@\n-#define PACKAGE_VERSION \"2.72.0\"\n+#define PACKAGE_VERSION \"2.78.0\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/config.h","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -26,501 +26,521 @@\n-g_assertion_message_cmpnum\t@25\tNONAME\n-g_atomic_int_add\t@26\tNONAME\n-g_atomic_int_compare_and_exchange\t@27\tNONAME\n-g_atomic_int_dec_and_test\t@28\tNONAME\n-g_atomic_int_get\t@29\tNONAME\n-g_atomic_int_inc\t@30\tNONAME\n-g_atomic_int_set\t@31\tNONAME\n-g_atomic_pointer_compare_and_exchange\t@32\tNONAME\n-g_atomic_pointer_get\t@33\tNONAME\n-g_atomic_pointer_set\t@34\tNONAME\n-g_base64_decode_inplace\t@35\tNONAME\n-g_base64_encode\t@36\tNONAME\n-g_boxed_type_register_static\t@37\tNONAME\n-g_build_filename\t@38\tNONAME\n-g_build_filenamev\t@39\tNONAME\n-g_bytes_get_data\t@40\tNONAME\n-g_bytes_new_take\t@41\tNONAME\n-g_bytes_ref\t@42\tNONAME\n-g_bytes_unref\t@43\tNONAME\n-g_cclosure_marshal_VOID__VOID\t@44\tNONAME\n-g_cclosure_marshal_generic\t@45\tNONAME\n-g_checksum_free\t@46\tNONAME\n-g_checksum_get_string\t@47\tNONAME\n-g_checksum_new\t@48\tNONAME\n-g_checksum_update\t@49\tNONAME\n-g_clear_error\t@50\tNONAME\n-g_cond_broadcast\t@51\tNONAME\n-g_cond_clear\t@52\tNONAME\n-g_cond_init\t@53\tNONAME\n-g_cond_signal\t@54\tNONAME\n-g_cond_wait\t@55\tNONAME\n-g_cond_wait_until\t@56\tNONAME\n-g_convert\t@57\tNONAME\n-g_datalist_id_get_data\t@58\tNONAME\n-g_datalist_id_set_data_full\t@59\tNONAME\n-g_datalist_init\t@60\tNONAME\n-g_date_free\t@61\tNONAME\n-g_date_get_day\t@62\tNONAME\n-g_date_get_julian\t@63\tNONAME\n-g_date_get_month\t@64\tNONAME\n-g_date_get_type\t@65\tNONAME\n-g_date_get_year\t@66\tNONAME\n-g_date_new_dmy\t@67\tNONAME\n-g_date_time_add\t@68\tNONAME\n-g_date_time_add_minutes\t@69\tNONAME\n-g_date_time_add_seconds\t@70\tNONAME\n-g_date_time_get_day_of_month\t@71\tNONAME\n-g_date_time_get_hour\t@72\tNONAME\n-g_date_time_get_microsecond\t@73\tNONAME\n-g_date_time_get_minute\t@74\tNONAME\n-g_date_time_get_month\t@75\tNONAME\n-g_date_time_get_second\t@76\tNONAME\n-g_date_time_get_utc_offset\t@77\tNONAME\n-g_date_time_get_year\t@78\tNONAME\n-g_date_time_get_ymd\t@79\tNONAME\n-g_date_time_new\t@80\tNONAME\n-g_date_time_new_from_unix_local\t@81\tNONAME\n-g_date_time_new_from_unix_utc\t@82\tNONAME\n-g_date_time_new_local\t@83\tNONAME\n-g_date_time_new_now_local\t@84\tNONAME\n-g_date_time_new_now_utc\t@85\tNONAME\n-g_date_time_new_utc\t@86\tNONAME\n-g_date_time_to_local\t@87\tNONAME\n-g_date_time_to_unix\t@88\tNONAME\n-g_date_time_unref\t@89\tNONAME\n-g_date_valid\t@90\tNONAME\n-g_date_valid_dmy\t@91\tNONAME\n-g_dir_close\t@92\tNONAME\n-g_dir_open\t@93\tNONAME\n-g_dir_read_name\t@94\tNONAME\n-g_enum_get_value\t@95\tNONAME\n-g_enum_get_value_by_name\t@96\tNONAME\n-g_enum_get_value_by_nick\t@97\tNONAME\n-g_enum_register_static\t@98\tNONAME\n-g_error_free\t@99\tNONAME\n-g_error_get_type\t@100\tNONAME\n-g_error_new\t@101\tNONAME\n-g_error_new_literal\t@102\tNONAME\n-g_file_set_contents\t@103\tNONAME\n-g_file_test\t@104\tNONAME\n-g_filename_to_uri\t@105\tNONAME\n-g_flags_get_first_value\t@106\tNONAME\n-g_flags_get_value_by_name\t@107\tNONAME\n-g_flags_get_value_by_nick\t@108\tNONAME\n-g_flags_register_static\t@109\tNONAME\n-g_free\t@110\tNONAME\n-g_get_charset\t@111\tNONAME\n-g_get_current_dir\t@112\tNONAME\n-g_get_current_time\t@113\tNONAME\n-g_get_monotonic_time\t@114\tNONAME\n-g_get_prgname\t@115\tNONAME\n-g_get_real_time\t@116\tNONAME\n-g_get_user_cache_dir\t@117\tNONAME\n-g_get_user_data_dir\t@118\tNONAME\n-g_getenv\t@119\tNONAME\n-g_gtype_get_type\t@120\tNONAME\n-g_hash_table_contains\t@121\tNONAME\n-g_hash_table_destroy\t@122\tNONAME\n-g_hash_table_foreach\t@123\tNONAME\n-g_hash_table_foreach_remove\t@124\tNONAME\n-g_hash_table_get_keys\t@125\tNONAME\n-g_hash_table_get_values\t@126\tNONAME\n-g_hash_table_insert\t@127\tNONAME\n-g_hash_table_iter_init\t@128\tNONAME\n-g_hash_table_iter_next\t@129\tNONAME\n-g_hash_table_lookup\t@130\tNONAME\n-g_hash_table_new\t@131\tNONAME\n-g_hash_table_new_full\t@132\tNONAME\n-g_hash_table_ref\t@133\tNONAME\n-g_hash_table_remove\t@134\tNONAME\n-g_hash_table_replace\t@135\tNONAME\n-g_hash_table_size\t@136\tNONAME\n-g_hash_table_unref\t@137\tNONAME\n-g_hook_alloc\t@138\tNONAME\n-g_hook_destroy_link\t@139\tNONAME\n-g_hook_get\t@140\tNONAME\n-g_hook_insert_before\t@141\tNONAME\n-g_hook_list_clear\t@142\tNONAME\n-g_hook_list_init\t@143\tNONAME\n-g_hook_list_marshal\t@144\tNONAME\n-g_hook_ref\t@145\tNONAME\n-g_hook_unref\t@146\tNONAME\n-g_initially_unowned_get_type\t@147\tNONAME\n-g_int_equal\t@148\tNONAME\n-g_int_hash\t@149\tNONAME\n-g_intern_static_string\t@150\tNONAME\n-g_intern_string\t@151\tNONAME\n-g_key_file_free\t@152\tNONAME\n-g_key_file_get_comment\t@153\tNONAME\n-g_key_file_get_groups\t@154\tNONAME\n-g_key_file_get_keys\t@155\tNONAME\n-g_key_file_get_value\t@156\tNONAME\n-g_key_file_has_group\t@157\tNONAME\n-g_key_file_load_from_file\t@158\tNONAME\n-g_key_file_new\t@159\tNONAME\n-g_key_file_remove_group\t@160\tNONAME\n-g_key_file_remove_key\t@161\tNONAME\n-g_key_file_set_comment\t@162\tNONAME\n-g_key_file_set_string\t@163\tNONAME\n-g_key_file_set_value\t@164\tNONAME\n-g_key_file_to_data\t@165\tNONAME\n-g_list_alloc\t@166\tNONAME\n-g_list_append\t@167\tNONAME\n-g_list_concat\t@168\tNONAME\n-g_list_copy\t@169\tNONAME\n-g_list_copy_deep\t@170\tNONAME\n-g_list_delete_link\t@171\tNONAME\n-g_list_find\t@172\tNONAME\n-g_list_find_custom\t@173\tNONAME\n-g_list_foreach\t@174\tNONAME\n-g_list_free\t@175\tNONAME\n-g_list_free_full\t@176\tNONAME\n-g_list_index\t@177\tNONAME\n-g_list_insert\t@178\tNONAME\n-g_list_insert_before\t@179\tNONAME\n-g_list_insert_sorted\t@180\tNONAME\n-g_list_last\t@181\tNONAME\n-g_list_length\t@182\tNONAME\n-g_list_nth_data\t@183\tNONAME\n-g_list_position\t@184\tNONAME\n-g_list_prepend\t@185\tNONAME\n-g_list_remove\t@186\tNONAME\n-g_list_remove_link\t@187\tNONAME\n-g_list_reverse\t@188\tNONAME\n-g_list_sort\t@189\tNONAME\n-g_locale_to_utf8\t@190\tNONAME\n-g_log\t@191\tNONAME\n-g_log_default_handler\t@192\tNONAME\n-g_log_set_default_handler\t@193\tNONAME\n-g_log_set_handler\t@194\tNONAME\n-g_main_context_get_thread_default\t@195\tNONAME\n-g_main_context_new\t@196\tNONAME\n-g_main_context_unref\t@197\tNONAME\n-g_main_loop_is_running\t@198\tNONAME\n-g_main_loop_new\t@199\tNONAME\n-g_main_loop_quit\t@200\tNONAME\n-g_main_loop_run\t@201\tNONAME\n-g_main_loop_unref\t@202\tNONAME\n-g_malloc\t@203\tNONAME\n-g_malloc0\t@204\tNONAME\n-g_malloc0_n\t@205\tNONAME\n-g_malloc_n\t@206\tNONAME\n-g_memdup\t@207\tNONAME\n-g_memdup2\t@208\tNONAME\n-g_mkdir_with_parents\t@209\tNONAME\n-g_module_close\t@210\tNONAME\n-g_module_error\t@211\tNONAME\n-g_module_make_resident\t@212\tNONAME\n-g_module_open\t@213\tNONAME\n-g_module_supported\t@214\tNONAME\n-g_module_symbol\t@215\tNONAME\n-g_mutex_clear\t@216\tNONAME\n-g_mutex_init\t@217\tNONAME\n-g_mutex_lock\t@218\tNONAME\n-g_mutex_unlock\t@219\tNONAME\n-g_node_children_foreach\t@220\tNONAME\n-g_node_destroy\t@221\tNONAME\n-g_node_insert_before\t@222\tNONAME\n-g_node_new\t@223\tNONAME\n-g_node_nth_child\t@224\tNONAME\n-g_object_add_weak_pointer\t@225\tNONAME\n-g_object_class_find_property\t@226\tNONAME\n-g_object_class_install_properties\t@227\tNONAME\n-g_object_class_install_property\t@228\tNONAME\n-g_object_class_list_properties\t@229\tNONAME\n-g_object_force_floating\t@230\tNONAME\n-g_object_freeze_notify\t@231\tNONAME\n-g_object_get\t@232\tNONAME\n-g_object_get_property\t@233\tNONAME\n-g_object_interface_install_property\t@234\tNONAME\n-g_object_is_floating\t@235\tNONAME\n-g_object_new\t@236\tNONAME\n-g_object_new_with_properties\t@237\tNONAME\n-g_object_notify\t@238\tNONAME\n-g_object_notify_by_pspec\t@239\tNONAME\n-g_object_ref\t@240\tNONAME\n-g_object_ref_sink\t@241\tNONAME\n-g_object_remove_weak_pointer\t@242\tNONAME\n-g_object_set\t@243\tNONAME\n-g_object_set_property\t@244\tNONAME\n-g_object_thaw_notify\t@245\tNONAME\n-g_object_unref\t@246\tNONAME\n-g_once_impl\t@247\tNONAME\n-g_once_init_enter\t@248\tNONAME\n-g_once_init_leave\t@249\tNONAME\n-g_param_spec_boolean\t@250\tNONAME\n-g_param_spec_boxed\t@251\tNONAME\n-g_param_spec_double\t@252\tNONAME\n-g_param_spec_enum\t@253\tNONAME\n-g_param_spec_flags\t@254\tNONAME\n-g_param_spec_float\t@255\tNONAME\n-g_param_spec_gtype\t@256\tNONAME\n-g_param_spec_int\t@257\tNONAME\n-g_param_spec_int64\t@258\tNONAME\n-g_param_spec_internal\t@259\tNONAME\n-g_param_spec_object\t@260\tNONAME\n-g_param_spec_ref\t@261\tNONAME\n-g_param_spec_sink\t@262\tNONAME\n-g_param_spec_string\t@263\tNONAME\n-g_param_spec_uint\t@264\tNONAME\n-g_param_spec_uint64\t@265\tNONAME\n-g_param_spec_unref\t@266\tNONAME\n-g_param_type_register_static\t@267\tNONAME\n-g_param_value_set_default\t@268\tNONAME\n-g_param_value_validate\t@269\tNONAME\n-g_param_values_cmp\t@270\tNONAME\n-g_path_get_basename\t@271\tNONAME\n-g_path_get_dirname\t@272\tNONAME\n-g_path_is_absolute\t@273\tNONAME\n-g_pointer_type_register_static\t@274\tNONAME\n-g_print\t@275\tNONAME\n-g_printerr\t@276\tNONAME\n-g_private_get\t@277\tNONAME\n-g_private_set\t@278\tNONAME\n-g_propagate_error\t@279\tNONAME\n-g_ptr_array_add\t@280\tNONAME\n-g_ptr_array_find_with_equal_func\t@281\tNONAME\n-g_ptr_array_foreach\t@282\tNONAME\n-g_ptr_array_free\t@283\tNONAME\n-g_ptr_array_new_full\t@284\tNONAME\n-g_ptr_array_new_with_free_func\t@285\tNONAME\n-g_ptr_array_remove_fast\t@286\tNONAME\n-g_ptr_array_remove_index\t@287\tNONAME\n-g_ptr_array_set_size\t@288\tNONAME\n-g_ptr_array_sort\t@289\tNONAME\n-g_qsort_with_data\t@290\tNONAME\n-g_quark_from_static_string\t@291\tNONAME\n-g_quark_from_string\t@292\tNONAME\n-g_quark_to_string\t@293\tNONAME\n-g_quark_try_string\t@294\tNONAME\n-g_queue_clear\t@295\tNONAME\n-g_queue_delete_link\t@296\tNONAME\n-g_queue_find\t@297\tNONAME\n-g_queue_find_custom\t@298\tNONAME\n-g_queue_foreach\t@299\tNONAME\n-g_queue_free\t@300\tNONAME\n-g_queue_get_length\t@301\tNONAME\n-g_queue_init\t@302\tNONAME\n-g_queue_is_empty\t@303\tNONAME\n-g_queue_new\t@304\tNONAME\n-g_queue_peek_nth\t@305\tNONAME\n-g_queue_pop_head\t@306\tNONAME\n-g_queue_push_head\t@307\tNONAME\n-g_queue_push_tail\t@308\tNONAME\n-g_queue_remove\t@309\tNONAME\n-g_queue_sort\t@310\tNONAME\n-g_random_int\t@311\tNONAME\n-g_realloc\t@312\tNONAME\n-g_realloc_n\t@313\tNONAME\n-g_rec_mutex_clear\t@314\tNONAME\n-g_rec_mutex_init\t@315\tNONAME\n-g_rec_mutex_lock\t@316\tNONAME\n-g_rec_mutex_unlock\t@317\tNONAME\n-g_rename\t@318\tNONAME\n-g_rw_lock_init\t@319\tNONAME\n-g_rw_lock_reader_lock\t@320\tNONAME\n-g_rw_lock_reader_unlock\t@321\tNONAME\n-g_rw_lock_writer_lock\t@322\tNONAME\n-g_rw_lock_writer_unlock\t@323\tNONAME\n-g_set_error\t@324\tNONAME\n-g_set_error_literal\t@325\tNONAME\n-g_signal_connect_data\t@326\tNONAME\n-g_signal_emit\t@327\tNONAME\n-g_signal_handler_disconnect\t@328\tNONAME\n-g_signal_handlers_destroy\t@329\tNONAME\n-g_signal_handlers_disconnect_matched\t@330\tNONAME\n-g_signal_new\t@331\tNONAME\n-g_slice_alloc\t@332\tNONAME\n-g_slice_alloc0\t@333\tNONAME\n-g_slice_copy\t@334\tNONAME\n-g_slice_free1\t@335\tNONAME\n-g_slist_append\t@336\tNONAME\n-g_slist_concat\t@337\tNONAME\n-g_slist_delete_link\t@338\tNONAME\n-g_slist_foreach\t@339\tNONAME\n-g_slist_free\t@340\tNONAME\n-g_slist_insert_before\t@341\tNONAME\n-g_slist_prepend\t@342\tNONAME\n-g_slist_remove\t@343\tNONAME\n-g_slist_reverse\t@344\tNONAME\n-g_snprintf\t@345\tNONAME\n-g_source_add_poll\t@346\tNONAME\n-g_source_attach\t@347\tNONAME\n-g_source_destroy\t@348\tNONAME\n-g_source_new\t@349\tNONAME\n-g_source_ref\t@350\tNONAME\n-g_source_remove\t@351\tNONAME\n-g_source_set_callback\t@352\tNONAME\n-g_source_set_dispose_function\t@353\tNONAME\n-g_source_set_name\t@354\tNONAME\n-g_source_set_priority\t@355\tNONAME\n-g_source_unref\t@356\tNONAME\n-g_spawn_close_pid\t@357\tNONAME\n-g_stat\t@358\tNONAME\n-g_str_equal\t@359\tNONAME\n-g_str_has_prefix\t@360\tNONAME\n-g_str_has_suffix\t@361\tNONAME\n-g_str_hash\t@362\tNONAME\n-g_strchomp\t@363\tNONAME\n-g_strchug\t@364\tNONAME\n-g_strcmp0\t@365\tNONAME\n-g_strconcat\t@366\tNONAME\n-g_strdelimit\t@367\tNONAME\n-g_strdup\t@368\tNONAME\n-g_strdup_printf\t@369\tNONAME\n-g_strdup_value_contents\t@370\tNONAME\n-g_strdup_vprintf\t@371\tNONAME\n-g_strdupv\t@372\tNONAME\n-g_strerror\t@373\tNONAME\n-g_strfreev\t@374\tNONAME\n-g_string_append\t@375\tNONAME\n-g_string_append_len\t@376\tNONAME\n-g_string_append_printf\t@377\tNONAME\n-g_string_free\t@378\tNONAME\n-g_string_insert_c\t@379\tNONAME\n-g_string_new\t@380\tNONAME\n-g_string_set_size\t@381\tNONAME\n-g_string_sized_new\t@382\tNONAME\n-g_string_truncate\t@383\tNONAME\n-g_strjoin\t@384\tNONAME\n-g_strlcpy\t@385\tNONAME\n-g_strndup\t@386\tNONAME\n-g_strrstr\t@387\tNONAME\n-g_strsplit\t@388\tNONAME\n-g_strsplit_set\t@389\tNONAME\n-g_strstr_len\t@390\tNONAME\n-g_strtod\t@391\tNONAME\n-g_strv_get_type\t@392\tNONAME\n-g_strv_length\t@393\tNONAME\n-g_thread_get_type\t@394\tNONAME\n-g_thread_join\t@395\tNONAME\n-g_thread_new\t@396\tNONAME\n-g_thread_pool_free\t@397\tNONAME\n-g_thread_pool_new\t@398\tNONAME\n-g_thread_pool_push\t@399\tNONAME\n-g_thread_pool_set_max_threads\t@400\tNONAME\n-g_thread_pool_set_max_unused_threads\t@401\tNONAME\n-g_thread_self\t@402\tNONAME\n-g_thread_try_new\t@403\tNONAME\n-g_thread_yield\t@404\tNONAME\n-g_time_zone_new\t@405\tNONAME\n-g_time_zone_new_identifier\t@406\tNONAME\n-g_time_zone_unref\t@407\tNONAME\n-g_timeout_add_full\t@408\tNONAME\n-g_timer_destroy\t@409\tNONAME\n-g_timer_elapsed\t@410\tNONAME\n-g_timer_new\t@411\tNONAME\n-g_timer_start\t@412\tNONAME\n-g_tree_destroy\t@413\tNONAME\n-g_tree_insert\t@414\tNONAME\n-g_tree_new_with_data\t@415\tNONAME\n-g_tree_search\t@416\tNONAME\n-g_try_malloc\t@417\tNONAME\n-g_try_malloc0_n\t@418\tNONAME\n-g_try_malloc_n\t@419\tNONAME\n-g_try_realloc\t@420\tNONAME\n-g_try_realloc_n\t@421\tNONAME\n-g_type_add_class_private\t@422\tNONAME\n-g_type_add_instance_private\t@423\tNONAME\n-g_type_add_interface_static\t@424\tNONAME\n-g_type_check_class_cast\t@425\tNONAME\n-g_type_check_instance_cast\t@426\tNONAME\n-g_type_check_instance_is_a\t@427\tNONAME\n-g_type_check_instance_is_fundamentally_a\t@428\tNONAME\n-g_type_check_value\t@429\tNONAME\n-g_type_check_value_holds\t@430\tNONAME\n-g_type_class_add_private\t@431\tNONAME\n-g_type_class_adjust_private_offset\t@432\tNONAME\n-g_type_class_get_private\t@433\tNONAME\n-g_type_class_peek\t@434\tNONAME\n-g_type_class_peek_parent\t@435\tNONAME\n-g_type_class_ref\t@436\tNONAME\n-g_type_class_unref\t@437\tNONAME\n-g_type_from_name\t@438\tNONAME\n-g_type_fundamental\t@439\tNONAME\n-g_type_fundamental_next\t@440\tNONAME\n-g_type_get_qdata\t@441\tNONAME\n-g_type_init\t@442\tNONAME\n-g_type_instance_get_private\t@443\tNONAME\n-g_type_interface_add_prerequisite\t@444\tNONAME\n-g_type_interface_peek\t@445\tNONAME\n-g_type_interfaces\t@446\tNONAME\n-g_type_is_a\t@447\tNONAME\n-g_type_name\t@448\tNONAME\n-g_type_parent\t@449\tNONAME\n-g_type_qname\t@450\tNONAME\n-g_type_register_fundamental\t@451\tNONAME\n-g_type_register_static\t@452\tNONAME\n-g_type_register_static_simple\t@453\tNONAME\n-g_type_set_qdata\t@454\tNONAME\n-g_type_value_table_peek\t@455\tNONAME\n-g_unlink\t@456\tNONAME\n-g_uri_escape_string\t@457\tNONAME\n-g_uri_unescape_segment\t@458\tNONAME\n-g_uri_unescape_string\t@459\tNONAME\n-g_utf16_to_utf8\t@460\tNONAME\n-g_utf8_strchr\t@461\tNONAME\n-g_utf8_to_utf16\t@462\tNONAME\n-g_utf8_validate\t@463\tNONAME\n-g_value_array_append\t@464\tNONAME\n-g_value_array_get_nth\t@465\tNONAME\n-g_value_array_get_type\t@466\tNONAME\n-g_value_array_new\t@467\tNONAME\n-g_value_copy\t@468\tNONAME\n-g_value_dup_boxed\t@469\tNONAME\n-g_value_dup_object\t@470\tNONAME\n-g_value_dup_string\t@471\tNONAME\n-g_value_get_boolean\t@472\tNONAME\n-g_value_get_boxed\t@473\tNONAME\n-g_value_get_double\t@474\tNONAME\n-g_value_get_enum\t@475\tNONAME\n-g_value_get_flags\t@476\tNONAME\n-g_value_get_float\t@477\tNONAME\n-g_value_get_gtype\t@478\tNONAME\n-g_value_get_int\t@479\tNONAME\n-g_value_get_int64\t@480\tNONAME\n-g_value_get_long\t@481\tNONAME\n-g_value_get_object\t@482\tNONAME\n-g_value_get_pointer\t@483\tNONAME\n-g_value_get_string\t@484\tNONAME\n-g_value_get_uchar\t@485\tNONAME\n-g_value_get_uint\t@486\tNONAME\n-g_value_get_uint64\t@487\tNONAME\n-g_value_get_ulong\t@488\tNONAME\n-g_value_init\t@489\tNONAME\n-g_value_peek_pointer\t@490\tNONAME\n-g_value_register_transform_func\t@491\tNONAME\n-g_value_reset\t@492\tNONAME\n-g_value_set_boolean\t@493\tNONAME\n-g_value_set_boxed\t@494\tNONAME\n-g_value_set_double\t@495\tNONAME\n-g_value_set_enum\t@496\tNONAME\n-g_value_set_flags\t@497\tNONAME\n-g_value_set_float\t@498\tNONAME\n-g_value_set_gtype\t@499\tNONAME\n-g_value_set_int\t@500\tNONAME\n-g_value_set_int64\t@501\tNONAME\n-g_value_set_long\t@502\tNONAME\n-g_value_set_object\t@503\tNONAME\n-g_value_set_pointer\t@504\tNONAME\n-g_value_set_static_boxed\t@505\tNONAME\n-g_value_set_static_string\t@506\tNONAME\n-g_value_set_string\t@507\tNONAME\n-g_value_set_uchar\t@508\tNONAME\n-g_value_set_uint\t@509\tNONAME\n-g_value_set_uint64\t@510\tNONAME\n-g_value_set_ulong\t@511\tNONAME\n-g_value_take_boxed\t@512\tNONAME\n-g_value_take_object\t@513\tNONAME\n-g_value_take_string\t@514\tNONAME\n-g_value_transform\t@515\tNONAME\n-g_value_type_compatible\t@516\tNONAME\n-g_value_unset\t@517\tNONAME\n-g_vasprintf\t@518\tNONAME\n-g_warn_message\t@519\tNONAME\n-g_weak_ref_clear\t@520\tNONAME\n-g_weak_ref_get\t@521\tNONAME\n-g_weak_ref_init\t@522\tNONAME\n-g_weak_ref_set\t@523\tNONAME\n-g_win32_error_message\t@524\tNONAME\n-g_win32_get_package_installation_directory_of_module\t@525\tNONAME\n+g_assertion_message_cmpint\t@25\tNONAME\n+g_assertion_message_cmpnum\t@26\tNONAME\n+g_atomic_int_add\t@27\tNONAME\n+g_atomic_int_compare_and_exchange\t@28\tNONAME\n+g_atomic_int_dec_and_test\t@29\tNONAME\n+g_atomic_int_get\t@30\tNONAME\n+g_atomic_int_inc\t@31\tNONAME\n+g_atomic_int_set\t@32\tNONAME\n+g_atomic_pointer_compare_and_exchange\t@33\tNONAME\n+g_atomic_pointer_get\t@34\tNONAME\n+g_atomic_pointer_set\t@35\tNONAME\n+g_atomic_rc_box_acquire\t@36\tNONAME\n+g_atomic_rc_box_alloc\t@37\tNONAME\n+g_atomic_rc_box_release_full\t@38\tNONAME\n+g_base64_decode\t@39\tNONAME\n+g_base64_decode_inplace\t@40\tNONAME\n+g_base64_encode\t@41\tNONAME\n+g_boxed_type_register_static\t@42\tNONAME\n+g_build_filename\t@43\tNONAME\n+g_build_filenamev\t@44\tNONAME\n+g_bytes_compare\t@45\tNONAME\n+g_bytes_get_data\t@46\tNONAME\n+g_bytes_get_type\t@47\tNONAME\n+g_bytes_new\t@48\tNONAME\n+g_bytes_new_take\t@49\tNONAME\n+g_bytes_ref\t@50\tNONAME\n+g_bytes_unref\t@51\tNONAME\n+g_cclosure_marshal_VOID__VOID\t@52\tNONAME\n+g_cclosure_marshal_generic\t@53\tNONAME\n+g_checksum_free\t@54\tNONAME\n+g_checksum_get_string\t@55\tNONAME\n+g_checksum_new\t@56\tNONAME\n+g_checksum_update\t@57\tNONAME\n+g_clear_error\t@58\tNONAME\n+g_cond_broadcast\t@59\tNONAME\n+g_cond_clear\t@60\tNONAME\n+g_cond_init\t@61\tNONAME\n+g_cond_signal\t@62\tNONAME\n+g_cond_wait\t@63\tNONAME\n+g_cond_wait_until\t@64\tNONAME\n+g_convert\t@65\tNONAME\n+g_datalist_id_get_data\t@66\tNONAME\n+g_datalist_id_set_data_full\t@67\tNONAME\n+g_datalist_init\t@68\tNONAME\n+g_date_free\t@69\tNONAME\n+g_date_get_day\t@70\tNONAME\n+g_date_get_julian\t@71\tNONAME\n+g_date_get_month\t@72\tNONAME\n+g_date_get_type\t@73\tNONAME\n+g_date_get_year\t@74\tNONAME\n+g_date_new_dmy\t@75\tNONAME\n+g_date_time_add\t@76\tNONAME\n+g_date_time_add_minutes\t@77\tNONAME\n+g_date_time_add_seconds\t@78\tNONAME\n+g_date_time_compare\t@79\tNONAME\n+g_date_time_get_day_of_month\t@80\tNONAME\n+g_date_time_get_hour\t@81\tNONAME\n+g_date_time_get_microsecond\t@82\tNONAME\n+g_date_time_get_minute\t@83\tNONAME\n+g_date_time_get_month\t@84\tNONAME\n+g_date_time_get_second\t@85\tNONAME\n+g_date_time_get_type\t@86\tNONAME\n+g_date_time_get_utc_offset\t@87\tNONAME\n+g_date_time_get_year\t@88\tNONAME\n+g_date_time_get_ymd\t@89\tNONAME\n+g_date_time_new\t@90\tNONAME\n+g_date_time_new_from_unix_local\t@91\tNONAME\n+g_date_time_new_from_unix_utc\t@92\tNONAME\n+g_date_time_new_local\t@93\tNONAME\n+g_date_time_new_now_local\t@94\tNONAME\n+g_date_time_new_now_utc\t@95\tNONAME\n+g_date_time_new_utc\t@96\tNONAME\n+g_date_time_to_local\t@97\tNONAME\n+g_date_time_to_unix\t@98\tNONAME\n+g_date_time_unref\t@99\tNONAME\n+g_date_valid\t@100\tNONAME\n+g_date_valid_dmy\t@101\tNONAME\n+g_dgettext\t@102\tNONAME\n+g_dir_close\t@103\tNONAME\n+g_dir_open\t@104\tNONAME\n+g_dir_read_name\t@105\tNONAME\n+g_enum_get_value\t@106\tNONAME\n+g_enum_get_value_by_name\t@107\tNONAME\n+g_enum_get_value_by_nick\t@108\tNONAME\n+g_enum_register_static\t@109\tNONAME\n+g_error_free\t@110\tNONAME\n+g_error_get_type\t@111\tNONAME\n+g_error_new\t@112\tNONAME\n+g_error_new_literal\t@113\tNONAME\n+g_file_set_contents\t@114\tNONAME\n+g_file_test\t@115\tNONAME\n+g_filename_to_uri\t@116\tNONAME\n+g_flags_get_first_value\t@117\tNONAME\n+g_flags_get_value_by_name\t@118\tNONAME\n+g_flags_get_value_by_nick\t@119\tNONAME\n+g_flags_register_static\t@120\tNONAME\n+g_free\t@121\tNONAME\n+g_get_charset\t@122\tNONAME\n+g_get_current_dir\t@123\tNONAME\n+g_get_current_time\t@124\tNONAME\n+g_get_monotonic_time\t@125\tNONAME\n+g_get_prgname\t@126\tNONAME\n+g_get_real_time\t@127\tNONAME\n+g_get_user_cache_dir\t@128\tNONAME\n+g_get_user_data_dir\t@129\tNONAME\n+g_getenv\t@130\tNONAME\n+g_gtype_get_type\t@131\tNONAME\n+g_hash_table_contains\t@132\tNONAME\n+g_hash_table_destroy\t@133\tNONAME\n+g_hash_table_foreach\t@134\tNONAME\n+g_hash_table_foreach_remove\t@135\tNONAME\n+g_hash_table_get_keys\t@136\tNONAME\n+g_hash_table_get_values\t@137\tNONAME\n+g_hash_table_insert\t@138\tNONAME\n+g_hash_table_iter_init\t@139\tNONAME\n+g_hash_table_iter_next\t@140\tNONAME\n+g_hash_table_lookup\t@141\tNONAME\n+g_hash_table_new\t@142\tNONAME\n+g_hash_table_new_full\t@143\tNONAME\n+g_hash_table_ref\t@144\tNONAME\n+g_hash_table_remove\t@145\tNONAME\n+g_hash_table_replace\t@146\tNONAME\n+g_hash_table_size\t@147\tNONAME\n+g_hash_table_unref\t@148\tNONAME\n+g_hook_alloc\t@149\tNONAME\n+g_hook_destroy_link\t@150\tNONAME\n+g_hook_get\t@151\tNONAME\n+g_hook_insert_before\t@152\tNONAME\n+g_hook_list_clear\t@153\tNONAME\n+g_hook_list_init\t@154\tNONAME\n+g_hook_list_marshal\t@155\tNONAME\n+g_hook_ref\t@156\tNONAME\n+g_hook_unref\t@157\tNONAME\n+g_initially_unowned_get_type\t@158\tNONAME\n+g_int_equal\t@159\tNONAME\n+g_int_hash\t@160\tNONAME\n+g_intern_static_string\t@161\tNONAME\n+g_intern_string\t@162\tNONAME\n+g_key_file_free\t@163\tNONAME\n+g_key_file_get_comment\t@164\tNONAME\n+g_key_file_get_groups\t@165\tNONAME\n+g_key_file_get_keys\t@166\tNONAME\n+g_key_file_get_value\t@167\tNONAME\n+g_key_file_has_group\t@168\tNONAME\n+g_key_file_load_from_file\t@169\tNONAME\n+g_key_file_new\t@170\tNONAME\n+g_key_file_remove_group\t@171\tNONAME\n+g_key_file_remove_key\t@172\tNONAME\n+g_key_file_set_comment\t@173\tNONAME\n+g_key_file_set_string\t@174\tNONAME\n+g_key_file_set_value\t@175\tNONAME\n+g_key_file_to_data\t@176\tNONAME\n+g_list_alloc\t@177\tNONAME\n+g_list_append\t@178\tNONAME\n+g_list_concat\t@179\tNONAME\n+g_list_copy\t@180\tNONAME\n+g_list_copy_deep\t@181\tNONAME\n+g_list_delete_link\t@182\tNONAME\n+g_list_find\t@183\tNONAME\n+g_list_find_custom\t@184\tNONAME\n+g_list_foreach\t@185\tNONAME\n+g_list_free\t@186\tNONAME\n+g_list_free_full\t@187\tNONAME\n+g_list_index\t@188\tNONAME\n+g_list_insert\t@189\tNONAME\n+g_list_insert_before\t@190\tNONAME\n+g_list_insert_sorted\t@191\tNONAME\n+g_list_last\t@192\tNONAME\n+g_list_length\t@193\tNONAME\n+g_list_nth_data\t@194\tNONAME\n+g_list_position\t@195\tNONAME\n+g_list_prepend\t@196\tNONAME\n+g_list_remove\t@197\tNONAME\n+g_list_remove_link\t@198\tNONAME\n+g_list_reverse\t@199\tNONAME\n+g_list_sort\t@200\tNONAME\n+g_locale_to_utf8\t@201\tNONAME\n+g_log\t@202\tNONAME\n+g_log_default_handler\t@203\tNONAME\n+g_log_set_default_handler\t@204\tNONAME\n+g_log_set_handler\t@205\tNONAME\n+g_main_context_get_thread_default\t@206\tNONAME\n+g_main_context_new\t@207\tNONAME\n+g_main_context_unref\t@208\tNONAME\n+g_main_loop_is_running\t@209\tNONAME\n+g_main_loop_new\t@210\tNONAME\n+g_main_loop_quit\t@211\tNONAME\n+g_main_loop_run\t@212\tNONAME\n+g_main_loop_unref\t@213\tNONAME\n+g_malloc\t@214\tNONAME\n+g_malloc0\t@215\tNONAME\n+g_malloc0_n\t@216\tNONAME\n+g_malloc_n\t@217\tNONAME\n+g_mapped_file_ref\t@218\tNONAME\n+g_mapped_file_unref\t@219\tNONAME\n+g_markup_parse_context_ref\t@220\tNONAME\n+g_markup_parse_context_unref\t@221\tNONAME\n+g_memdup\t@222\tNONAME\n+g_memdup2\t@223\tNONAME\n+g_mkdir_with_parents\t@224\tNONAME\n+g_module_close\t@225\tNONAME\n+g_module_error\t@226\tNONAME\n+g_module_make_resident\t@227\tNONAME\n+g_module_open\t@228\tNONAME\n+g_module_supported\t@229\tNONAME\n+g_module_symbol\t@230\tNONAME\n+g_mutex_clear\t@231\tNONAME\n+g_mutex_init\t@232\tNONAME\n+g_mutex_lock\t@233\tNONAME\n+g_mutex_unlock\t@234\tNONAME\n+g_node_children_foreach\t@235\tNONAME\n+g_node_destroy\t@236\tNONAME\n+g_node_insert_before\t@237\tNONAME\n+g_node_new\t@238\tNONAME\n+g_node_nth_child\t@239\tNONAME\n+g_object_add_weak_pointer\t@240\tNONAME\n+g_object_class_find_property\t@241\tNONAME\n+g_object_class_install_properties\t@242\tNONAME\n+g_object_class_install_property\t@243\tNONAME\n+g_object_class_list_properties\t@244\tNONAME\n+g_object_force_floating\t@245\tNONAME\n+g_object_freeze_notify\t@246\tNONAME\n+g_object_get\t@247\tNONAME\n+g_object_get_property\t@248\tNONAME\n+g_object_interface_install_property\t@249\tNONAME\n+g_object_is_floating\t@250\tNONAME\n+g_object_new\t@251\tNONAME\n+g_object_new_with_properties\t@252\tNONAME\n+g_object_notify\t@253\tNONAME\n+g_object_notify_by_pspec\t@254\tNONAME\n+g_object_ref\t@255\tNONAME\n+g_object_ref_sink\t@256\tNONAME\n+g_object_remove_weak_pointer\t@257\tNONAME\n+g_object_set\t@258\tNONAME\n+g_object_set_property\t@259\tNONAME\n+g_object_thaw_notify\t@260\tNONAME\n+g_object_unref\t@261\tNONAME\n+g_once_impl\t@262\tNONAME\n+g_once_init_enter\t@263\tNONAME\n+g_once_init_leave\t@264\tNONAME\n+g_option_group_ref\t@265\tNONAME\n+g_option_group_unref\t@266\tNONAME\n+g_param_spec_boolean\t@267\tNONAME\n+g_param_spec_boxed\t@268\tNONAME\n+g_param_spec_double\t@269\tNONAME\n+g_param_spec_enum\t@270\tNONAME\n+g_param_spec_flags\t@271\tNONAME\n+g_param_spec_float\t@272\tNONAME\n+g_param_spec_gtype\t@273\tNONAME\n+g_param_spec_int\t@274\tNONAME\n+g_param_spec_int64\t@275\tNONAME\n+g_param_spec_internal\t@276\tNONAME\n+g_param_spec_object\t@277\tNONAME\n+g_param_spec_ref\t@278\tNONAME\n+g_param_spec_sink\t@279\tNONAME\n+g_param_spec_string\t@280\tNONAME\n+g_param_spec_uint\t@281\tNONAME\n+g_param_spec_uint64\t@282\tNONAME\n+g_param_spec_unref\t@283\tNONAME\n+g_param_type_register_static\t@284\tNONAME\n+g_param_value_set_default\t@285\tNONAME\n+g_param_value_validate\t@286\tNONAME\n+g_param_values_cmp\t@287\tNONAME\n+g_path_get_basename\t@288\tNONAME\n+g_path_get_dirname\t@289\tNONAME\n+g_path_is_absolute\t@290\tNONAME\n+g_pointer_type_register_static\t@291\tNONAME\n+g_print\t@292\tNONAME\n+g_printerr\t@293\tNONAME\n+g_private_get\t@294\tNONAME\n+g_private_set\t@295\tNONAME\n+g_propagate_error\t@296\tNONAME\n+g_ptr_array_add\t@297\tNONAME\n+g_ptr_array_find_with_equal_func\t@298\tNONAME\n+g_ptr_array_foreach\t@299\tNONAME\n+g_ptr_array_free\t@300\tNONAME\n+g_ptr_array_new_full\t@301\tNONAME\n+g_ptr_array_new_with_free_func\t@302\tNONAME\n+g_ptr_array_remove_fast\t@303\tNONAME\n+g_ptr_array_remove_index\t@304\tNONAME\n+g_ptr_array_set_size\t@305\tNONAME\n+g_ptr_array_sort\t@306\tNONAME\n+g_qsort_with_data\t@307\tNONAME\n+g_quark_from_static_string\t@308\tNONAME\n+g_quark_from_string\t@309\tNONAME\n+g_quark_to_string\t@310\tNONAME\n+g_quark_try_string\t@311\tNONAME\n+g_queue_clear\t@312\tNONAME\n+g_queue_clear_full\t@313\tNONAME\n+g_queue_delete_link\t@314\tNONAME\n+g_queue_find\t@315\tNONAME\n+g_queue_find_custom\t@316\tNONAME\n+g_queue_foreach\t@317\tNONAME\n+g_queue_free\t@318\tNONAME\n+g_queue_get_length\t@319\tNONAME\n+g_queue_init\t@320\tNONAME\n+g_queue_is_empty\t@321\tNONAME\n+g_queue_new\t@322\tNONAME\n+g_queue_peek_nth\t@323\tNONAME\n+g_queue_pop_head\t@324\tNONAME\n+g_queue_push_head\t@325\tNONAME\n+g_queue_push_tail\t@326\tNONAME\n+g_queue_remove\t@327\tNONAME\n+g_queue_sort\t@328\tNONAME\n+g_random_int\t@329\tNONAME\n+g_realloc\t@330\tNONAME\n+g_realloc_n\t@331\tNONAME\n+g_rec_mutex_clear\t@332\tNONAME\n+g_rec_mutex_init\t@333\tNONAME\n+g_rec_mutex_lock\t@334\tNONAME\n+g_rec_mutex_unlock\t@335\tNONAME\n+g_rename\t@336\tNONAME\n+g_rw_lock_init\t@337\tNONAME\n+g_rw_lock_reader_lock\t@338\tNONAME\n+g_rw_lock_reader_unlock\t@339\tNONAME\n+g_rw_lock_writer_lock\t@340\tNONAME\n+g_rw_lock_writer_unlock\t@341\tNONAME\n+g_set_error\t@342\tNONAME\n+g_set_error_literal\t@343\tNONAME\n+g_signal_connect_data\t@344\tNONAME\n+g_signal_emit\t@345\tNONAME\n+g_signal_handler_disconnect\t@346\tNONAME\n+g_signal_handlers_destroy\t@347\tNONAME\n+g_signal_handlers_disconnect_matched\t@348\tNONAME\n+g_signal_new\t@349\tNONAME\n+g_slice_alloc\t@350\tNONAME\n+g_slice_alloc0\t@351\tNONAME\n+g_slice_copy\t@352\tNONAME\n+g_slice_free1\t@353\tNONAME\n+g_slist_append\t@354\tNONAME\n+g_slist_concat\t@355\tNONAME\n+g_slist_delete_link\t@356\tNONAME\n+g_slist_foreach\t@357\tNONAME\n+g_slist_free\t@358\tNONAME\n+g_slist_insert_before\t@359\tNONAME\n+g_slist_prepend\t@360\tNONAME\n+g_slist_remove\t@361\tNONAME\n+g_slist_reverse\t@362\tNONAME\n+g_snprintf\t@363\tNONAME\n+g_source_add_poll\t@364\tNONAME\n+g_source_attach\t@365\tNONAME\n+g_source_destroy\t@366\tNONAME\n+g_source_new\t@367\tNONAME\n+g_source_ref\t@368\tNONAME\n+g_source_remove\t@369\tNONAME\n+g_source_set_callback\t@370\tNONAME\n+g_source_set_dispose_function\t@371\tNONAME\n+g_source_set_name\t@372\tNONAME\n+g_source_set_priority\t@373\tNONAME\n+g_source_unref\t@374\tNONAME\n+g_spawn_close_pid\t@375\tNONAME\n+g_stat\t@376\tNONAME\n+g_str_equal\t@377\tNONAME\n+g_str_has_prefix\t@378\tNONAME\n+g_str_has_suffix\t@379\tNONAME\n+g_str_hash\t@380\tNONAME\n+g_strchomp\t@381\tNONAME\n+g_strchug\t@382\tNONAME\n+g_strcmp0\t@383\tNONAME\n+g_strconcat\t@384\tNONAME\n+g_strdelimit\t@385\tNONAME\n+g_strdup\t@386\tNONAME\n+g_strdup_printf\t@387\tNONAME\n+g_strdup_value_contents\t@388\tNONAME\n+g_strdup_vprintf\t@389\tNONAME\n+g_strdupv\t@390\tNONAME\n+g_strerror\t@391\tNONAME\n+g_strfreev\t@392\tNONAME\n+g_string_append\t@393\tNONAME\n+g_string_append_len\t@394\tNONAME\n+g_string_append_printf\t@395\tNONAME\n+g_string_free\t@396\tNONAME\n+g_string_insert_c\t@397\tNONAME\n+g_string_insert_len\t@398\tNONAME\n+g_string_new\t@399\tNONAME\n+g_string_set_size\t@400\tNONAME\n+g_string_sized_new\t@401\tNONAME\n+g_string_truncate\t@402\tNONAME\n+g_strjoin\t@403\tNONAME\n+g_strlcat\t@404\tNONAME\n+g_strlcpy\t@405\tNONAME\n+g_strndup\t@406\tNONAME\n+g_strrstr\t@407\tNONAME\n+g_strsplit\t@408\tNONAME\n+g_strsplit_set\t@409\tNONAME\n+g_strstr_len\t@410\tNONAME\n+g_strtod\t@411\tNONAME\n+g_strv_get_type\t@412\tNONAME\n+g_strv_length\t@413\tNONAME\n+g_thread_get_type\t@414\tNONAME\n+g_thread_join\t@415\tNONAME\n+g_thread_new\t@416\tNONAME\n+g_thread_pool_free\t@417\tNONAME\n+g_thread_pool_new\t@418\tNONAME\n+g_thread_pool_push\t@419\tNONAME\n+g_thread_pool_set_max_threads\t@420\tNONAME\n+g_thread_pool_set_max_unused_threads\t@421\tNONAME\n+g_thread_self\t@422\tNONAME\n+g_thread_try_new\t@423\tNONAME\n+g_thread_yield\t@424\tNONAME\n+g_time_zone_new\t@425\tNONAME\n+g_time_zone_new_identifier\t@426\tNONAME\n+g_time_zone_unref\t@427\tNONAME\n+g_timeout_add_full\t@428\tNONAME\n+g_timer_destroy\t@429\tNONAME\n+g_timer_elapsed\t@430\tNONAME\n+g_timer_new\t@431\tNONAME\n+g_timer_start\t@432\tNONAME\n+g_tree_destroy\t@433\tNONAME\n+g_tree_insert\t@434\tNONAME\n+g_tree_new_with_data\t@435\tNONAME\n+g_tree_search\t@436\tNONAME\n+g_try_malloc\t@437\tNONAME\n+g_try_malloc0_n\t@438\tNONAME\n+g_try_malloc_n\t@439\tNONAME\n+g_try_realloc\t@440\tNONAME\n+g_try_realloc_n\t@441\tNONAME\n+g_type_add_class_private\t@442\tNONAME\n+g_type_add_instance_private\t@443\tNONAME\n+g_type_add_interface_static\t@444\tNONAME\n+g_type_check_class_cast\t@445\tNONAME\n+g_type_check_instance_cast\t@446\tNONAME\n+g_type_check_instance_is_a\t@447\tNONAME\n+g_type_check_instance_is_fundamentally_a\t@448\tNONAME\n+g_type_check_value\t@449\tNONAME\n+g_type_check_value_holds\t@450\tNONAME\n+g_type_class_add_private\t@451\tNONAME\n+g_type_class_adjust_private_offset\t@452\tNONAME\n+g_type_class_get_private\t@453\tNONAME\n+g_type_class_peek\t@454\tNONAME\n+g_type_class_peek_parent\t@455\tNONAME\n+g_type_class_ref\t@456\tNONAME\n+g_type_class_unref\t@457\tNONAME\n+g_type_from_name\t@458\tNONAME\n+g_type_fundamental\t@459\tNONAME\n+g_type_fundamental_next\t@460\tNONAME\n+g_type_get_qdata\t@461\tNONAME\n+g_type_init\t@462\tNONAME\n+g_type_instance_get_private\t@463\tNONAME\n+g_type_interface_add_prerequisite\t@464\tNONAME\n+g_type_interface_peek\t@465\tNONAME\n+g_type_interfaces\t@466\tNONAME\n+g_type_is_a\t@467\tNONAME\n+g_type_name\t@468\tNONAME\n+g_type_parent\t@469\tNONAME\n+g_type_qname\t@470\tNONAME\n+g_type_register_fundamental\t@471\tNONAME\n+g_type_register_static\t@472\tNONAME\n+g_type_register_static_simple\t@473\tNONAME\n+g_type_set_qdata\t@474\tNONAME\n+g_type_value_table_peek\t@475\tNONAME\n+g_unlink\t@476\tNONAME\n+g_uri_escape_string\t@477\tNONAME\n+g_uri_unescape_segment\t@478\tNONAME\n+g_uri_unescape_string\t@479\tNONAME\n+g_utf16_to_utf8\t@480\tNONAME\n+g_utf8_strchr\t@481\tNONAME\n+g_utf8_to_utf16\t@482\tNONAME\n+g_utf8_validate\t@483\tNONAME\n+g_value_array_append\t@484\tNONAME\n+g_value_array_get_nth\t@485\tNONAME\n+g_value_array_get_type\t@486\tNONAME\n+g_value_array_new\t@487\tNONAME\n+g_value_copy\t@488\tNONAME\n+g_value_dup_boxed\t@489\tNONAME\n+g_value_dup_object\t@490\tNONAME\n+g_value_dup_string\t@491\tNONAME\n+g_value_get_boolean\t@492\tNONAME\n+g_value_get_boxed\t@493\tNONAME\n+g_value_get_double\t@494\tNONAME\n+g_value_get_enum\t@495\tNONAME\n+g_value_get_flags\t@496\tNONAME\n+g_value_get_float\t@497\tNONAME\n+g_value_get_gtype\t@498\tNONAME\n+g_value_get_int\t@499\tNONAME\n+g_value_get_int64\t@500\tNONAME\n+g_value_get_long\t@501\tNONAME\n+g_value_get_object\t@502\tNONAME\n+g_value_get_pointer\t@503\tNONAME\n+g_value_get_string\t@504\tNONAME\n+g_value_get_uchar\t@505\tNONAME\n+g_value_get_uint\t@506\tNONAME\n+g_value_get_uint64\t@507\tNONAME\n+g_value_get_ulong\t@508\tNONAME\n+g_value_init\t@509\tNONAME\n+g_value_peek_pointer\t@510\tNONAME\n+g_value_register_transform_func\t@511\tNONAME\n+g_value_reset\t@512\tNONAME\n+g_value_set_boolean\t@513\tNONAME\n+g_value_set_boxed\t@514\tNONAME\n+g_value_set_double\t@515\tNONAME\n+g_value_set_enum\t@516\tNONAME\n+g_value_set_flags\t@517\tNONAME\n+g_value_set_float\t@518\tNONAME\n+g_value_set_gtype\t@519\tNONAME\n+g_value_set_int\t@520\tNONAME\n+g_value_set_int64\t@521\tNONAME\n+g_value_set_long\t@522\tNONAME\n+g_value_set_object\t@523\tNONAME\n+g_value_set_pointer\t@524\tNONAME\n+g_value_set_static_boxed\t@525\tNONAME\n+g_value_set_static_string\t@526\tNONAME\n+g_value_set_string\t@527\tNONAME\n+g_value_set_uchar\t@528\tNONAME\n+g_value_set_uint\t@529\tNONAME\n+g_value_set_uint64\t@530\tNONAME\n+g_value_set_ulong\t@531\tNONAME\n+g_value_take_boxed\t@532\tNONAME\n+g_value_take_object\t@533\tNONAME\n+g_value_take_string\t@534\tNONAME\n+g_value_transform\t@535\tNONAME\n+g_value_type_compatible\t@536\tNONAME\n+g_value_unset\t@537\tNONAME\n+g_vasprintf\t@538\tNONAME\n+g_warn_message\t@539\tNONAME\n+g_weak_ref_clear\t@540\tNONAME\n+g_weak_ref_get\t@541\tNONAME\n+g_weak_ref_init\t@542\tNONAME\n+g_weak_ref_set\t@543\tNONAME\n+g_win32_error_message\t@544\tNONAME\n+g_win32_get_package_installation_directory_of_module\t@545\tNONAME\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/glib-lite.def","additions":521,"deletions":501,"binary":false,"changes":1022,"status":"modified"},{"patch":"@@ -15,0 +15,7 @@\n+\/* #undef GLIB_STATIC_COMPILATION *\/\n+\/* #undef GOBJECT_STATIC_COMPILATION *\/\n+\/* #undef GIO_STATIC_COMPILATION *\/\n+\/* #undef GMODULE_STATIC_COMPILATION *\/\n+\/* #undef G_INTL_STATIC_COMPILATION *\/\n+\/* #undef FFI_STATIC_BUILD *\/\n+\n@@ -21,5 +28,0 @@\n-\/* #undef GLIB_STATIC_COMPILATION *\/\n-\/* #undef GOBJECT_STATIC_COMPILATION *\/\n-\/* #undef G_INTL_STATIC_COMPILATION *\/\n-\/* #undef FFI_STATIC_BUILD *\/\n-\n@@ -68,0 +70,1 @@\n+\n@@ -72,1 +75,0 @@\n-#if defined(_WIN64) || defined(_M_X64) || defined(_M_AMD64)\n@@ -90,20 +92,0 @@\n-#else\n-\n-#define GLIB_SIZEOF_VOID_P 4\n-#define GLIB_SIZEOF_LONG   4\n-#define GLIB_SIZEOF_SIZE_T 4\n-#define GLIB_SIZEOF_SSIZE_T 4\n-\n-typedef signed int gssize;\n-typedef unsigned int gsize;\n-#define G_GSIZE_MODIFIER \"\"\n-#define G_GSSIZE_MODIFIER \"\"\n-#define G_GSIZE_FORMAT \"u\"\n-#define G_GSSIZE_FORMAT \"i\"\n-\n-#define G_MAXSIZE   G_MAXUINT\n-#define G_MINSSIZE  G_MININT\n-#define G_MAXSSIZE  G_MAXINT\n-\n-#endif\n-\n@@ -118,2 +100,0 @@\n-\n-#ifdef _WIN64\n@@ -133,8 +113,0 @@\n-#else\n-# define G_POLLFD_FORMAT \"%#x\"\n-\n-# define GPOINTER_TO_INT(p) ((gint)  (gint) (p))\n-# define GPOINTER_TO_UINT(p)    ((guint) (guint) (p))\n-\n-# define GINT_TO_POINTER(i) ((gpointer) (gint) (i))\n-# define GUINT_TO_POINTER(u)    ((gpointer) (guint) (u))\n@@ -142,7 +114,0 @@\n-typedef signed int gintptr;\n-typedef unsigned int guintptr;\n-\n-# define G_GINTPTR_MODIFIER      \"\"\n-# define G_GINTPTR_FORMAT        \"i\"\n-# define G_GUINTPTR_FORMAT       \"u\"\n-#endif\n@@ -157,2 +122,2 @@\n-#define GLIB_MINOR_VERSION 72\n-#define GLIB_MICRO_VERSION 0\n+#define GLIB_MINOR_VERSION 78\n+#define GLIB_MICRO_VERSION 1\n@@ -169,3 +134,3 @@\n-# define G_HAVE_ISO_VARARGS 1\n-# define G_HAVE_GNUC_VARARGS 1\n-# define G_HAVE_GNUC_VISIBILITY 1\n+#define G_VA_COPY_AS_ARRAY 1\n+\n+#define G_HAVE_ISO_VARARGS 1\n@@ -206,0 +171,1 @@\n+\n@@ -210,0 +176,1 @@\n+\n@@ -214,0 +181,1 @@\n+\n@@ -222,12 +190,4 @@\n-\n-#ifdef _WIN64\n-# define GSIZE_TO_LE(val)   ((gsize) GUINT64_TO_LE (val))\n-# define GSSIZE_TO_LE(val)  ((gssize) GINT64_TO_LE (val))\n-# define GSIZE_TO_BE(val)   ((gsize) GUINT64_TO_BE (val))\n-# define GSSIZE_TO_BE(val)  ((gssize) GINT64_TO_BE (val))\n-#else\n-# define GSIZE_TO_LE(val)   ((gsize) GUINT32_TO_LE (val))\n-# define GSSIZE_TO_LE(val)  ((gssize) GINT32_TO_LE (val))\n-# define GSIZE_TO_BE(val)   ((gsize) GUINT32_TO_BE (val))\n-# define GSSIZE_TO_BE(val)  ((gssize) GINT32_TO_BE (val))\n-#endif\n+#define GSIZE_TO_LE(val)    ((gsize) GUINT64_TO_LE (val))\n+#define GSSIZE_TO_LE(val)   ((gssize) GINT64_TO_LE (val))\n+#define GSIZE_TO_BE(val)    ((gsize) GUINT64_TO_BE (val))\n+#define GSSIZE_TO_BE(val)   ((gssize) GINT64_TO_BE (val))\n@@ -244,0 +204,5 @@\n+\/* No way to disable deprecation warnings for macros, so only emit deprecation\n+ * warnings on platforms where usage of this macro is broken *\/\n+#if defined(__APPLE__) || defined(_MSC_VER) || defined(__CYGWIN__)\n+#define G_MODULE_SUFFIX \"dll\" GLIB_DEPRECATED_MACRO_IN_2_76\n+#else\n@@ -245,0 +210,1 @@\n+#endif\n@@ -269,0 +235,2 @@\n+#undef G_HAVE_FREE_SIZED\n+\n@@ -271,1 +239,1 @@\n-#endif \/* GLIBCONFIG_H *\/\n+#endif \/* __GLIBCONFIG_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/glibconfig.h","additions":29,"deletions":61,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -29,1 +31,0 @@\n-#define G_MODULE_IMPL_DYLD  6\n@@ -34,0 +35,9 @@\n+#if     (1)\n+#define G_MODULE_HAVE_DLERROR\n+#endif\n+#if     (0)\n+#define G_MODULE_NEED_USCORE\n+#endif\n+#if     (0)\n+#define G_MODULE_BROKEN_RTLD_GLOBAL\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/gmoduleconf.h","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-#pragma error \"This header is for Microsoft VC only.\"\n+#pragma error \"This header is for Microsoft VC or clang-cl only.\"\n@@ -8,0 +8,1 @@\n+#ifndef __clang__\n@@ -27,1 +28,6 @@\n-#pragma warning(disable:4244) \/* No possible loss of data warnings *\/\n+\/* G_NORETURN *\/\n+#pragma warning(error:4646) \/* function declared with __declspec(noreturn) has non-void return type *\/\n+#pragma warning(error:4715) \/* 'function': not all control paths return a value *\/\n+#pragma warning(error:4098) \/* 'void' function returning a value *\/\n+\n+#pragma warning(disable:4244)   \/* No possible loss of data warnings *\/\n@@ -31,0 +37,1 @@\n+#endif                      \/* __clang__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/msvc_recommended_pragmas.h","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/deprecated\/gthread.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/dirent\/dirent.c","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/dirent\/dirent.c","status":"renamed"},{"patch":"","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/dirent\/dirent.h","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/dirent\/dirent.h","status":"renamed"},{"patch":"","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/dirent\/wdirent.c","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/dirent\/wdirent.c","status":"renamed"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/galloca.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/garcbox.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -36,0 +38,1 @@\n+#include \"galloca.h\"\n@@ -191,0 +194,117 @@\n+\/**\n+ * g_array_new_take: (skip)\n+ * @data: (array length=len) (transfer full) (nullable): an array of\n+ *   elements of @element_size, or %NULL for an empty array\n+ * @len: the number of elements in @data\n+ * @clear: %TRUE if #GArray elements should be automatically cleared\n+ *     to 0 when they are allocated\n+ * @element_size: the size of each element in bytes\n+ *\n+ * Creates a new #GArray with @data as array data, @len as length and a\n+ * reference count of 1.\n+ *\n+ * This avoids having to copy the data manually, when it can just be\n+ * inherited.\n+ * After this call, @data belongs to the #GArray and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n+ *\n+ * In case the elements need to be cleared when the array is freed, use\n+ * g_array_set_clear_func() to set a #GDestroyNotify function to perform\n+ * such task.\n+ *\n+ * Do not use it if @len or @element_size are greater than %G_MAXUINT.\n+ * #GArray stores the length of its data in #guint, which may be shorter\n+ * than #gsize.\n+ *\n+ * Returns: (transfer full): A new #GArray\n+ *\n+ * Since: 2.76\n+ *\/\n+GArray *\n+g_array_new_take (gpointer  data,\n+                  gsize     len,\n+                  gboolean  clear,\n+                  gsize     element_size)\n+{\n+  GRealArray *rarray;\n+  GArray *array;\n+\n+  g_return_val_if_fail (data != NULL || len == 0, NULL);\n+  g_return_val_if_fail (len <= G_MAXUINT, NULL);\n+  g_return_val_if_fail (element_size <= G_MAXUINT, NULL);\n+\n+  array = g_array_sized_new (FALSE, clear, element_size, 0);\n+  rarray = (GRealArray *) array;\n+  rarray->data = (guint8 *) g_steal_pointer (&data);\n+  rarray->len = len;\n+  rarray->elt_capacity = len;\n+\n+  return array;\n+}\n+\n+\/**\n+ * g_array_new_take_zero_terminated: (skip)\n+ * @data: (array zero-terminated=1): an array of elements of @element_size\n+ * @clear: %TRUE if #GArray elements should be automatically cleared\n+ *     to 0 when they are allocated\n+ * @element_size: the size of each element in bytes\n+ *\n+ * Creates a new #GArray with @data as array data, computing the length of it\n+ * and setting the reference count to 1.\n+ *\n+ * This avoids having to copy the data manually, when it can just be\n+ * inherited.\n+ * After this call, @data belongs to the #GArray and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n+ *\n+ * The length is calculated by iterating through @data until the first %NULL\n+ * element is found.\n+ *\n+ * In case the elements need to be cleared when the array is freed, use\n+ * g_array_set_clear_func() to set a #GDestroyNotify function to perform\n+ * such task.\n+ *\n+ * Do not use it if @data length or @element_size are greater than %G_MAXUINT.\n+ * #GArray stores the length of its data in #guint, which may be shorter\n+ * than #gsize.\n+ *\n+ * Returns: (transfer full): A new #GArray\n+ *\n+ * Since: 2.76\n+ *\/\n+GArray *\n+g_array_new_take_zero_terminated (gpointer  data,\n+                                  gboolean  clear,\n+                                  gsize     element_size)\n+{\n+  GArray *array;\n+  gsize len = 0;\n+\n+  g_return_val_if_fail (element_size <= G_MAXUINT, NULL);\n+\n+  if (data != NULL)\n+    {\n+      guint8 *array_data = data;\n+\n+      for (gsize i = 0; ; ++i)\n+        {\n+          const guint8 *element_start = array_data + (i * element_size);\n+\n+          if (*element_start == 0 &&\n+              memcmp (element_start, element_start + 1, element_size - 1) == 0)\n+            break;\n+\n+          len += 1;\n+        }\n+    }\n+\n+  g_return_val_if_fail (len <= G_MAXUINT, NULL);\n+\n+  array = g_array_new_take (data, len, clear, element_size);\n+  ((GRealArray *)array)->zero_terminated = TRUE;\n+\n+  return array;\n+}\n+\n@@ -291,1 +411,2 @@\n-      g_array_zero_terminate(array);\n+      g_assert (array->data != NULL);\n+      g_array_zero_terminate (array);\n@@ -917,1 +1038,1 @@\n- * static gint*\n+ * static gint\n@@ -1077,0 +1198,1 @@\n+  guint8          null_terminated : 1; \/* always either 0 or 1, so it can be added to array lengths *\/\n@@ -1096,0 +1218,7 @@\n+static void\n+ptr_array_maybe_null_terminate (GRealPtrArray *rarray)\n+{\n+  if (G_UNLIKELY (rarray->null_terminated))\n+    rarray->pdata[rarray->len] = NULL;\n+}\n+\n@@ -1098,1 +1227,2 @@\n-               GDestroyNotify element_free_func)\n+               GDestroyNotify element_free_func,\n+               gboolean null_terminated)\n@@ -1112,0 +1242,1 @@\n+  array->null_terminated = null_terminated ? 1 : 0;\n@@ -1117,1 +1248,16 @@\n-    g_ptr_array_maybe_expand (array, reserved_size);\n+    {\n+      if (G_LIKELY (reserved_size < G_MAXUINT) &&\n+          null_terminated)\n+        reserved_size++;\n+\n+      g_ptr_array_maybe_expand (array, reserved_size);\n+      g_assert (array->pdata != NULL);\n+\n+      if (null_terminated)\n+        {\n+          \/* don't use ptr_array_maybe_null_terminate(). It helps the compiler\n+           * to see when @null_terminated is false and thereby inline\n+           * ptr_array_new() and possibly remove the code entirely. *\/\n+          array->pdata[0] = NULL;\n+        }\n+    }\n@@ -1132,1 +1278,230 @@\n-  return ptr_array_new (0, NULL);\n+  return ptr_array_new (0, NULL, FALSE);\n+}\n+\n+\/**\n+ * g_ptr_array_new_take: (skip)\n+ * @data: (array length=len) (transfer full) (nullable): an array of pointers,\n+ *    or %NULL for an empty array\n+ * @len: the number of pointers in @data\n+ * @element_free_func: (nullable): A function to free elements on @array\n+ *   destruction or %NULL\n+ *\n+ * Creates a new #GPtrArray with @data as pointers, @len as length and a\n+ * reference count of 1.\n+ *\n+ * This avoids having to copy such data manually.\n+ * After this call, @data belongs to the #GPtrArray and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n+ *\n+ * It also sets @element_free_func for freeing each element when the array is\n+ * destroyed either via g_ptr_array_unref(), when g_ptr_array_free() is called\n+ * with @free_segment set to %TRUE or when removing elements.\n+ *\n+ * Do not use it if @len is greater than %G_MAXUINT. #GPtrArray\n+ * stores the length of its data in #guint, which may be shorter than\n+ * #gsize.\n+ *\n+ * Returns: (transfer full): A new #GPtrArray\n+ *\n+ * Since: 2.76\n+ *\/\n+GPtrArray *\n+g_ptr_array_new_take (gpointer       *data,\n+                      gsize           len,\n+                      GDestroyNotify  element_free_func)\n+{\n+  GPtrArray *array;\n+  GRealPtrArray *rarray;\n+\n+  g_return_val_if_fail (data != NULL || len == 0, NULL);\n+  g_return_val_if_fail (len <= G_MAXUINT, NULL);\n+\n+  array = ptr_array_new (0, element_free_func, FALSE);\n+  rarray = (GRealPtrArray *)array;\n+\n+  rarray->pdata = g_steal_pointer (&data);\n+  rarray->len = len;\n+  rarray->alloc = len;\n+\n+  return array;\n+}\n+\n+\/**\n+ * g_ptr_array_new_take_null_terminated: (skip)\n+ * @data: (array zero-terminated=1) (transfer full) (nullable): an array\n+ *  of pointers, %NULL terminated, or %NULL for an empty array\n+ * @element_free_func: (nullable): a function to free elements on @array\n+ *   destruction or %NULL\n+ *\n+ * Creates a new #GPtrArray with @data as pointers, computing the length of it\n+ * and setting the reference count to 1.\n+ *\n+ * This avoids having to copy such data manually.\n+ * After this call, @data belongs to the #GPtrArray and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n+ *\n+ * The length is calculated by iterating through @data until the first %NULL\n+ * element is found.\n+ *\n+ * It also sets @element_free_func for freeing each element when the array is\n+ * destroyed either via g_ptr_array_unref(), when g_ptr_array_free() is called\n+ * with @free_segment set to %TRUE or when removing elements.\n+ *\n+ * Do not use it if the @data length is greater than %G_MAXUINT. #GPtrArray\n+ * stores the length of its data in #guint, which may be shorter than\n+ * #gsize.\n+ *\n+ * Returns: (transfer full): A new #GPtrArray\n+ *\n+ * Since: 2.76\n+ *\/\n+GPtrArray *\n+g_ptr_array_new_take_null_terminated (gpointer       *data,\n+                                      GDestroyNotify  element_free_func)\n+{\n+  GPtrArray *array;\n+  gsize len = 0;\n+\n+  if (data != NULL)\n+    {\n+      for (gsize i = 0; data[i] != NULL; ++i)\n+        len += 1;\n+    }\n+\n+  g_return_val_if_fail (len <= G_MAXUINT, NULL);\n+\n+  array = g_ptr_array_new_take (g_steal_pointer (&data), len, element_free_func);\n+  ((GRealPtrArray *)array)->null_terminated = TRUE;\n+\n+  return array;\n+}\n+\n+static GPtrArray *\n+ptr_array_new_from_array (gpointer       *data,\n+                          gsize           len,\n+                          GCopyFunc       copy_func,\n+                          gpointer        copy_func_user_data,\n+                          GDestroyNotify  element_free_func,\n+                          gboolean        null_terminated)\n+{\n+  GPtrArray *array;\n+  GRealPtrArray *rarray;\n+\n+  g_assert (data != NULL || len == 0);\n+  g_assert (len <= G_MAXUINT);\n+\n+  array = ptr_array_new (len, element_free_func, null_terminated);\n+  rarray = (GRealPtrArray *)array;\n+\n+  if (copy_func != NULL)\n+    {\n+      for (gsize i = 0; i < len; i++)\n+        rarray->pdata[i] = copy_func (data[i], copy_func_user_data);\n+    }\n+  else if (len != 0)\n+    {\n+      memcpy (rarray->pdata, data, len * sizeof (gpointer));\n+    }\n+\n+  if (null_terminated && rarray->pdata != NULL)\n+    rarray->pdata[len] = NULL;\n+\n+  rarray->len = len;\n+\n+  return array;\n+}\n+\n+\/**\n+ * g_ptr_array_new_from_array: (skip)\n+ * @data: (array length=len) (transfer none) (nullable): an array of pointers,\n+ * or %NULL for an empty array\n+ * @len: the number of pointers in @data\n+ * @copy_func: (nullable): a copy function used to copy every element in the\n+ *   array or %NULL.\n+ * @copy_func_user_data: user data passed to @copy_func, or %NULL\n+ * @element_free_func: (nullable): a function to free elements on @array\n+ *   destruction or %NULL\n+ *\n+ * Creates a new #GPtrArray, copying @len pointers from @data, and setting\n+ * the array’s reference count to 1.\n+ *\n+ * This avoids having to manually add each element one by one.\n+ *\n+ * If @copy_func is provided, then it is used to copy each element before\n+ * adding them to the new array. If it is %NULL then the pointers are copied\n+ * directly.\n+ *\n+ * It also sets @element_free_func for freeing each element when the array is\n+ * destroyed either via g_ptr_array_unref(), when g_ptr_array_free() is called\n+ * with @free_segment set to %TRUE or when removing elements.\n+ *\n+ * Do not use it if @len is greater than %G_MAXUINT. #GPtrArray\n+ * stores the length of its data in #guint, which may be shorter than\n+ * #gsize.\n+ *\n+ * Returns: (transfer full): A new #GPtrArray\n+ *\n+ * Since: 2.76\n+ *\/\n+GPtrArray *\n+g_ptr_array_new_from_array (gpointer       *data,\n+                            gsize           len,\n+                            GCopyFunc       copy_func,\n+                            gpointer        copy_func_user_data,\n+                            GDestroyNotify  element_free_func)\n+{\n+  g_return_val_if_fail (data != NULL || len == 0, NULL);\n+  g_return_val_if_fail (len <= G_MAXUINT, NULL);\n+\n+  return ptr_array_new_from_array (\n+    data, len, copy_func, copy_func_user_data, element_free_func, FALSE);\n+}\n+\n+\/**\n+ * g_ptr_array_new_from_null_terminated_array: (skip)\n+ * @data: (array zero-terminated=1) (transfer none) (nullable): an array of\n+ *   pointers, %NULL terminated; or %NULL for an empty array\n+ * @copy_func: (nullable): a copy function used to copy every element in the\n+ *   array or %NULL.\n+ * @copy_func_user_data: user data passed to @copy_func, or %NULL\n+ * @element_free_func: (nullable): a function to free elements on @array\n+ *   destruction or %NULL\n+ *\n+ * Creates a new #GPtrArray copying the pointers from @data after having\n+ * computed the length of it and with a reference count of 1.\n+ * This avoids having to manually add each element one by one.\n+ * If @copy_func is provided, then it is used to copy the data in the new\n+ * array.\n+ * It also set @element_free_func for freeing each element when the array is\n+ * destroyed either via g_ptr_array_unref(), when g_ptr_array_free() is called\n+ * with @free_segment set to %TRUE or when removing elements.\n+ *\n+ * Do not use it if the @data has more than %G_MAXUINT elements. #GPtrArray\n+ * stores the length of its data in #guint, which may be shorter than\n+ * #gsize.\n+ *\n+ * Returns: (transfer full): A new #GPtrArray\n+ *\n+ * Since: 2.76\n+ *\/\n+GPtrArray *\n+g_ptr_array_new_from_null_terminated_array (gpointer       *data,\n+                                            GCopyFunc       copy_func,\n+                                            gpointer        copy_func_user_data,\n+                                            GDestroyNotify  element_free_func)\n+{\n+  gsize len = 0;\n+\n+  if (data != NULL)\n+    {\n+      for (gsize i = 0; data[i] != NULL; ++i)\n+        len += 1;\n+    }\n+\n+  g_assert (data != NULL || len == 0);\n+  g_return_val_if_fail (len <= G_MAXUINT, NULL);\n+\n+  return ptr_array_new_from_array (\n+    data, len, copy_func, copy_func_user_data, element_free_func, TRUE);\n@@ -1145,0 +1520,4 @@\n+ * Note that if the array is %NULL terminated this may still return\n+ * %NULL if the length of the array was zero and pdata was not yet\n+ * allocated.\n+ *\n@@ -1182,2 +1561,3 @@\n- * Returns: (transfer full): the element data, which should be\n- *     freed using g_free().\n+ * Returns: (transfer full) (nullable): the element data, which should be\n+ *     freed using g_free(). This may be %NULL if the array doesn’t have any\n+ *     elements (i.e. if `*len` is zero).\n@@ -1226,1 +1606,2 @@\n- * @array.\n+ * @array. The copy will also be %NULL terminated if (and only if) the source\n+ * array is.\n@@ -1237,0 +1618,1 @@\n+  GRealPtrArray *rarray = (GRealPtrArray *) array;\n@@ -1241,2 +1623,3 @@\n-  new_array = ptr_array_new (array->len,\n-                             ((GRealPtrArray *) array)->element_free_func);\n+  new_array = ptr_array_new (0,\n+                             rarray->element_free_func,\n+                             rarray->null_terminated);\n@@ -1244,1 +1627,1 @@\n-  if (func != NULL)\n+  if (rarray->alloc > 0)\n@@ -1246,1 +1629,1 @@\n-      guint i;\n+      g_ptr_array_maybe_expand ((GRealPtrArray *) new_array, array->len + rarray->null_terminated);\n@@ -1248,8 +1631,14 @@\n-      for (i = 0; i < array->len; i++)\n-        new_array->pdata[i] = func (array->pdata[i], user_data);\n-    }\n-  else if (array->len > 0)\n-    {\n-      memcpy (new_array->pdata, array->pdata,\n-              array->len * sizeof (*array->pdata));\n-    }\n+      if (array->len > 0)\n+        {\n+          if (func != NULL)\n+            {\n+              guint i;\n+\n+              for (i = 0; i < array->len; i++)\n+                new_array->pdata[i] = func (array->pdata[i], user_data);\n+            }\n+          else\n+            {\n+              memcpy (new_array->pdata, array->pdata,\n+                      array->len * sizeof (*array->pdata));\n+            }\n@@ -1257,1 +1646,5 @@\n-  new_array->len = array->len;\n+          new_array->len = array->len;\n+        }\n+\n+      ptr_array_maybe_null_terminate ((GRealPtrArray *) new_array);\n+    }\n@@ -1276,1 +1669,1 @@\n-  return ptr_array_new (reserved_size, NULL);\n+  return ptr_array_new (reserved_size, NULL, FALSE);\n@@ -1320,1 +1713,1 @@\n- * Returns: A new #GPtrArray\n+ * Returns: (transfer full): A new #GPtrArray\n@@ -1327,1 +1720,1 @@\n-  return ptr_array_new (0, element_free_func);\n+  return ptr_array_new (0, element_free_func, FALSE);\n@@ -1344,1 +1737,1 @@\n- * Returns: A new #GPtrArray\n+ * Returns: (transfer full): A new #GPtrArray\n@@ -1352,1 +1745,39 @@\n-  return ptr_array_new (reserved_size, element_free_func);\n+  return ptr_array_new (reserved_size, element_free_func, FALSE);\n+}\n+\n+\/**\n+ * g_ptr_array_new_null_terminated:\n+ * @reserved_size: number of pointers preallocated.\n+ *     If @null_terminated is %TRUE, the actually allocated\n+ *     buffer size is @reserved_size plus 1, unless @reserved_size\n+ *     is zero, in which case no initial buffer gets allocated.\n+ * @element_free_func: (nullable): A function to free elements with\n+ *     destroy @array or %NULL\n+ * @null_terminated: whether to make the array as %NULL terminated.\n+ *\n+ * Like g_ptr_array_new_full() but also allows to set the array to\n+ * be %NULL terminated. A %NULL terminated pointer array has an\n+ * additional %NULL pointer after the last element, beyond the\n+ * current length.\n+ *\n+ * #GPtrArray created by other constructors are not automatically %NULL\n+ * terminated.\n+ *\n+ * Note that if the @array's length is zero and currently no\n+ * data array is allocated, then pdata will still be %NULL.\n+ * %GPtrArray will only %NULL terminate pdata, if an actual\n+ * array is allocated. It does not guarantee that an array\n+ * is always allocated. In other words, if the length is zero,\n+ * then pdata may either point to a %NULL terminated array of length\n+ * zero or be %NULL.\n+ *\n+ * Returns: (transfer full): A new #GPtrArray\n+ *\n+ * Since: 2.74\n+ *\/\n+GPtrArray *\n+g_ptr_array_new_null_terminated (guint          reserved_size,\n+                                 GDestroyNotify element_free_func,\n+                                 gboolean       null_terminated)\n+{\n+  return ptr_array_new (reserved_size, element_free_func, null_terminated);\n@@ -1382,0 +1813,23 @@\n+\/**\n+ * g_ptr_array_is_null_terminated:\n+ * @array: the #GPtrArray\n+ *\n+ * Gets whether the @array was constructed as %NULL-terminated.\n+ *\n+ * This will only return %TRUE for arrays constructed by passing %TRUE to the\n+ * `null_terminated` argument of g_ptr_array_new_null_terminated(). It will not\n+ * return %TRUE for normal arrays which have had a %NULL element appended to\n+ * them.\n+ *\n+ * Returns: %TRUE if the array is made to be %NULL terminated.\n+ *\n+ * Since: 2.74\n+ *\/\n+gboolean\n+g_ptr_array_is_null_terminated (GPtrArray *array)\n+{\n+  g_return_val_if_fail (array, FALSE);\n+\n+  return ((GRealPtrArray *) array)->null_terminated;\n+}\n+\n@@ -1445,0 +1899,4 @@\n+ * Note that if the array is %NULL terminated and @free_seg is %FALSE\n+ * then this will always return an allocated %NULL terminated buffer.\n+ * If pdata is previously %NULL, a new buffer will be allocated.\n+ *\n@@ -1465,0 +1923,3 @@\n+   *\n+   * Coverity doesn’t understand this and assumes it’s a leak, so comment this\n+   * out.\n@@ -1466,0 +1927,1 @@\n+#ifndef __COVERITY__\n@@ -1468,0 +1930,1 @@\n+#endif\n@@ -1500,1 +1963,5 @@\n-    segment = rarray->pdata;\n+    {\n+      segment = rarray->pdata;\n+      if (!segment && rarray->null_terminated)\n+        segment = (gpointer *) g_new0 (char *, 1);\n+    }\n@@ -1571,1 +2038,7 @@\n-      g_ptr_array_maybe_expand (rarray, (length_unsigned - rarray->len));\n+\n+      if (G_UNLIKELY (rarray->null_terminated) &&\n+          length_unsigned - rarray->len > G_MAXUINT - 1)\n+        g_error (\"array would overflow\");\n+\n+      g_ptr_array_maybe_expand (rarray, (length_unsigned - rarray->len) + rarray->null_terminated);\n+\n@@ -1580,0 +2053,4 @@\n+\n+      rarray->len = length_unsigned;\n+\n+      ptr_array_maybe_null_terminate (rarray);\n@@ -1583,2 +2060,0 @@\n-\n-  rarray->len = length_unsigned;\n@@ -1614,1 +2089,1 @@\n-  if (G_UNLIKELY (g_mem_gc_friendly))\n+  if (rarray->null_terminated || G_UNLIKELY (g_mem_gc_friendly))\n@@ -1730,1 +2205,4 @@\n-  g_return_val_if_fail (index_ + length <= rarray->len, NULL);\n+  g_return_val_if_fail (length == 0 || index_ + length <= rarray->len, NULL);\n+\n+  if (length == 0)\n+    return array;\n@@ -1751,0 +2229,2 @@\n+  else\n+    ptr_array_maybe_null_terminate (rarray);\n@@ -1847,1 +2327,1 @@\n-  g_ptr_array_maybe_expand (rarray, 1);\n+  g_ptr_array_maybe_expand (rarray, 1u + rarray->null_terminated);\n@@ -1850,0 +2330,2 @@\n+\n+  ptr_array_maybe_null_terminate (rarray);\n@@ -1872,0 +2354,2 @@\n+ * Whether @array_to_extend is %NULL terminated stays unchanged by this function.\n+ *\n@@ -1885,1 +2369,8 @@\n-  g_ptr_array_maybe_expand (rarray_to_extend, array->len);\n+  if (array->len == 0u)\n+    return;\n+\n+  if (G_UNLIKELY (array->len == G_MAXUINT) &&\n+      rarray_to_extend->null_terminated)\n+    g_error (\"adding %u to array would overflow\", array->len);\n+\n+  g_ptr_array_maybe_expand (rarray_to_extend, array->len + rarray_to_extend->null_terminated);\n@@ -1902,0 +2393,2 @@\n+\n+  ptr_array_maybe_null_terminate (rarray_to_extend);\n@@ -1959,1 +2452,1 @@\n-  g_ptr_array_maybe_expand (rarray, 1);\n+  g_ptr_array_maybe_expand (rarray, 1u + rarray->null_terminated);\n@@ -1971,0 +2464,2 @@\n+\n+  ptr_array_maybe_null_terminate (rarray);\n@@ -1982,1 +2477,1 @@\n- * than second arg, zero for equal, greater than zero if irst arg is\n+ * than second arg, zero for equal, greater than zero if first arg is\n@@ -1987,1 +2482,4 @@\n- * the pointers in the array. Here is a full example of usage:\n+ * the pointers in the array.\n+ *\n+ * Use g_ptr_array_sort_values() if you want to use normal\n+ * #GCompareFuncs, otherwise here is a full example of use:\n@@ -2044,1 +2542,4 @@\n- * pointers to the pointers in the array. Here is a full example of use:\n+ * pointers to the pointers in the array.\n+ *\n+ * Use g_ptr_array_sort_values_with_data() if you want to use normal\n+ * #GCompareDataFuncs, otherwise here is a full example of use:\n@@ -2108,0 +2609,74 @@\n+static inline gint\n+compare_ptr_array_values (gconstpointer a, gconstpointer b, gpointer user_data)\n+{\n+  gconstpointer aa = *((gconstpointer *) a);\n+  gconstpointer bb = *((gconstpointer *) b);\n+  GCompareFunc compare_func = user_data;\n+\n+  return compare_func (aa, bb);\n+}\n+\n+\/**\n+ * g_ptr_array_sort_values:\n+ * @array: a #GPtrArray\n+ * @compare_func: a #GCompareFunc comparison function\n+ *\n+ * Sorts the array, using @compare_func which should be a qsort()-style\n+ * comparison function (returns less than zero for first arg is less\n+ * than second arg, zero for equal, greater than zero if first arg is\n+ * greater than second arg).\n+ *\n+ * This is guaranteed to be a stable sort.\n+ *\n+ * Since: 2.76\n+ *\/\n+void\n+g_ptr_array_sort_values (GPtrArray    *array,\n+                         GCompareFunc  compare_func)\n+{\n+  g_ptr_array_sort_with_data (array, compare_ptr_array_values, compare_func);\n+}\n+\n+typedef struct\n+{\n+  GCompareDataFunc compare_func;\n+  gpointer user_data;\n+} GPtrArraySortValuesData;\n+\n+static inline gint\n+compare_ptr_array_values_with_data (gconstpointer a,\n+                                    gconstpointer b,\n+                                    gpointer      user_data)\n+{\n+  gconstpointer aa = *((gconstpointer *) a);\n+  gconstpointer bb = *((gconstpointer *) b);\n+  GPtrArraySortValuesData *data = user_data;\n+\n+  return data->compare_func (aa, bb, data->user_data);\n+}\n+\n+\/**\n+ * g_ptr_array_sort_values_with_data:\n+ * @array: a #GPtrArray\n+ * @compare_func: a #GCompareDataFunc comparison function\n+ * @user_data: data to pass to @compare_func\n+ *\n+ * Like g_ptr_array_sort_values(), but the comparison function has an extra\n+ * user data argument.\n+ *\n+ * This is guaranteed to be a stable sort.\n+ *\n+ * Since: 2.76\n+ *\/\n+void\n+g_ptr_array_sort_values_with_data (GPtrArray        *array,\n+                                   GCompareDataFunc  compare_func,\n+                                   gpointer          user_data)\n+{\n+  g_ptr_array_sort_with_data (array, compare_ptr_array_values_with_data,\n+                              &(GPtrArraySortValuesData){\n+                                  .compare_func = compare_func,\n+                                  .user_data = user_data,\n+                              });\n+}\n+\n@@ -2295,2 +2870,4 @@\n- * Create byte array containing the data. The data will be owned by the array\n- * and will be freed with g_free(), i.e. it could be allocated using g_strdup().\n+ * Creates a byte array containing the @data.\n+ * After this call, @data belongs to the #GByteArray and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/garray.c","additions":617,"deletions":40,"binary":false,"changes":657,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -73,0 +75,9 @@\n+GLIB_AVAILABLE_IN_2_76\n+GArray* g_array_new_take          (gpointer          data,\n+                                   gsize             len,\n+                                   gboolean          clear,\n+                                   gsize             element_size);\n+GLIB_AVAILABLE_IN_2_76\n+GArray* g_array_new_take_zero_terminated (gpointer  data,\n+                                          gboolean  clear,\n+                                          gsize     element_size);\n@@ -143,0 +154,10 @@\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray* g_ptr_array_new_take           (gpointer         *data,\n+                                           gsize             len,\n+                                           GDestroyNotify    element_free_func);\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray* g_ptr_array_new_from_array     (gpointer         *data,\n+                                           gsize             len,\n+                                           GCopyFunc         copy_func,\n+                                           gpointer          copy_func_user_data,\n+                                           GDestroyNotify    element_free_func);\n@@ -155,0 +176,12 @@\n+GLIB_AVAILABLE_IN_2_74\n+GPtrArray* g_ptr_array_new_null_terminated (guint          reserved_size,\n+                                            GDestroyNotify element_free_func,\n+                                            gboolean       null_terminated);\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray* g_ptr_array_new_take_null_terminated  (gpointer       *data,\n+                                                  GDestroyNotify  element_free_func);\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray* g_ptr_array_new_from_null_terminated_array (gpointer       *data,\n+                                                       GCopyFunc       copy_func,\n+                                                       gpointer        copy_func_user_data,\n+                                                       GDestroyNotify  element_free_func);\n@@ -210,0 +243,7 @@\n+GCompareDataFunc  compare_func,\n+             gpointer          user_data);\n+GLIB_AVAILABLE_IN_2_76\n+void       g_ptr_array_sort_values        (GPtrArray        *array,\n+                                           GCompareFunc      compare_func);\n+GLIB_AVAILABLE_IN_2_76\n+void       g_ptr_array_sort_values_with_data (GPtrArray        *array,\n@@ -226,0 +266,2 @@\n+GLIB_AVAILABLE_IN_2_74\n+gboolean   g_ptr_array_is_null_terminated (GPtrArray *array);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/garray.h","additions":42,"deletions":0,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -282,1 +284,3 @@\n- * @data: @data to push into the @queue\n+ * @data: (not nullable): data to push onto the @queue\n+ *\n+ * Pushes the @data into the @queue.\n@@ -284,1 +288,1 @@\n- * Pushes the @data into the @queue. @data must not be %NULL.\n+ * The @data parameter must not be %NULL.\n@@ -301,1 +305,1 @@\n- * @data: @data to push into the @queue\n+ * @data: (not nullable): data to push onto the @queue\n@@ -303,1 +307,3 @@\n- * Pushes the @data into the @queue. @data must not be %NULL.\n+ * Pushes the @data into the @queue.\n+ *\n+ * The @data parameter must not be %NULL.\n@@ -322,1 +328,1 @@\n- * @data: the @data to push into the @queue\n+ * @data: (not nullable): the @data to push into the @queue\n@@ -363,1 +369,1 @@\n- * @data: the @data to push into the @queue\n+ * @data: the data to push into the @queue\n@@ -486,1 +492,1 @@\n- *     available immediately.\n+ *   available immediately.\n@@ -512,1 +518,1 @@\n- *     available immediately.\n+ *   available immediately.\n@@ -533,1 +539,1 @@\n- *     received before the timeout.\n+ *   received before the timeout.\n@@ -564,1 +570,1 @@\n- *     received before the timeout.\n+ *   received before the timeout.\n@@ -591,1 +597,1 @@\n- *     received before @end_time.\n+ *   received before @end_time.\n@@ -637,1 +643,1 @@\n- *     received before @end_time.\n+ *   received before @end_time.\n@@ -799,1 +805,1 @@\n- * @item: the data to remove from the @queue\n+ * @item: (not nullable): the data to remove from the @queue\n@@ -849,1 +855,1 @@\n- * @item: data to push into the @queue\n+ * @item: (not nullable): data to push into the @queue\n@@ -873,1 +879,1 @@\n- * @item: data to push into the @queue\n+ * @item: (not nullable): data to push into the @queue\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gasyncqueue.c","additions":21,"deletions":15,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gasyncqueue.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gasyncqueueprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -219,0 +221,58 @@\n+\/**\n+ * g_atomic_int_compare_and_exchange_full:\n+ * @atomic: a pointer to a #gint or #guint\n+ * @oldval: the value to compare with\n+ * @newval: the value to conditionally replace with\n+ * @preval: (out): the contents of @atomic before this operation\n+ *\n+ * Compares @atomic to @oldval and, if equal, sets it to @newval.\n+ * If @atomic was not equal to @oldval then no change occurs.\n+ * In any case the value of @atomic before this operation is stored in @preval.\n+ *\n+ * This compare and exchange is done atomically.\n+ *\n+ * Think of this operation as an atomic version of\n+ * `{ *preval = *atomic; if (*atomic == oldval) { *atomic = newval; return TRUE; } else return FALSE; }`.\n+ *\n+ * This call acts as a full compiler and hardware memory barrier.\n+ *\n+ * See also g_atomic_int_compare_and_exchange()\n+ *\n+ * Returns: %TRUE if the exchange took place\n+ *\n+ * Since: 2.74\n+ **\/\n+gboolean\n+(g_atomic_int_compare_and_exchange_full) (gint *atomic,\n+                                          gint  oldval,\n+                                          gint  newval,\n+                                          gint *preval)\n+{\n+  return g_atomic_int_compare_and_exchange_full (atomic, oldval, newval, preval);\n+}\n+\n+\/**\n+ * g_atomic_int_exchange:\n+ * @atomic: a pointer to a #gint or #guint\n+ * @newval: the value to replace with\n+ *\n+ * Sets the @atomic to @newval and returns the old value from @atomic.\n+ *\n+ * This exchange is done atomically.\n+ *\n+ * Think of this operation as an atomic version of\n+ * `{ tmp = *atomic; *atomic = val; return tmp; }`.\n+ *\n+ * This call acts as a full compiler and hardware memory barrier.\n+ *\n+ * Returns: the value of @atomic before the exchange, signed\n+ *\n+ * Since: 2.74\n+ **\/\n+gint\n+(g_atomic_int_exchange) (gint *atomic,\n+                         gint  newval)\n+{\n+  return g_atomic_int_exchange (atomic, newval);\n+}\n+\n@@ -406,0 +466,60 @@\n+ \/**\n+ * g_atomic_pointer_compare_and_exchange_full:\n+ * @atomic: (not nullable): a pointer to a #gpointer-sized value\n+ * @oldval: the value to compare with\n+ * @newval: the value to conditionally replace with\n+ * @preval: (not nullable) (out): the contents of @atomic before this operation\n+ *\n+ * Compares @atomic to @oldval and, if equal, sets it to @newval.\n+ * If @atomic was not equal to @oldval then no change occurs.\n+ * In any case the value of @atomic before this operation is stored in @preval.\n+ *\n+ * This compare and exchange is done atomically.\n+ *\n+ * Think of this operation as an atomic version of\n+ * `{ *preval = *atomic; if (*atomic == oldval) { *atomic = newval; return TRUE; } else return FALSE; }`.\n+ *\n+ * This call acts as a full compiler and hardware memory barrier.\n+ *\n+ * See also g_atomic_pointer_compare_and_exchange()\n+ *\n+ * Returns: %TRUE if the exchange took place\n+ *\n+ * Since: 2.74\n+ **\/\n+gboolean\n+(g_atomic_pointer_compare_and_exchange_full) (void     *atomic,\n+                                              gpointer  oldval,\n+                                              gpointer  newval,\n+                                              void     *preval)\n+{\n+  return g_atomic_pointer_compare_and_exchange_full ((gpointer *) atomic,\n+                                                     oldval, newval,\n+                                                     (gpointer *) preval);\n+}\n+\n+\/**\n+ * g_atomic_pointer_exchange:\n+ * @atomic: a pointer to a #gpointer-sized value\n+ * @newval: the value to replace with\n+ *\n+ * Sets the @atomic to @newval and returns the old value from @atomic.\n+ *\n+ * This exchange is done atomically.\n+ *\n+ * Think of this operation as an atomic version of\n+ * `{ tmp = *atomic; *atomic = val; return tmp; }`.\n+ *\n+ * This call acts as a full compiler and hardware memory barrier.\n+ *\n+ * Returns: the value of @atomic before the exchange\n+ *\n+ * Since: 2.74\n+ **\/\n+gpointer\n+(g_atomic_pointer_exchange) (void     *atomic,\n+                             gpointer  newval)\n+{\n+  return g_atomic_pointer_exchange ((gpointer *) atomic, newval);\n+}\n+\n@@ -610,0 +730,17 @@\n+gboolean\n+(g_atomic_int_compare_and_exchange_full) (gint *atomic,\n+                                          gint  oldval,\n+                                          gint  newval,\n+                                          gint *preval)\n+{\n+  *preval = InterlockedCompareExchange (atomic, newval, oldval);\n+  return *preval == oldval;\n+}\n+\n+gint\n+(g_atomic_int_exchange) (gint *atomic,\n+                         gint  newval)\n+{\n+  return InterlockedExchange (atomic, newval);\n+}\n+\n@@ -666,0 +803,20 @@\n+gboolean\n+(g_atomic_pointer_compare_and_exchange_full) (void     *atomic,\n+                                              gpointer  oldval,\n+                                              gpointer  newval,\n+                                              void     *preval)\n+{\n+  gpointer *pre = preval;\n+\n+  *pre = InterlockedCompareExchangePointer (atomic, newval, oldval);\n+\n+  return *pre == oldval;\n+}\n+\n+gpointer\n+(g_atomic_pointer_exchange) (void     *atomic,\n+                             gpointer  newval)\n+{\n+  return InterlockedExchangePointer (atomic, newval);\n+}\n+\n@@ -788,0 +945,35 @@\n+gboolean\n+(g_atomic_int_compare_and_exchange_full) (gint *atomic,\n+                                          gint  oldval,\n+                                          gint  newval,\n+                                          gint *preval)\n+{\n+  gboolean success;\n+\n+  pthread_mutex_lock (&g_atomic_lock);\n+\n+  *preval = *atomic;\n+\n+  if ((success = (*atomic == oldval)))\n+    *atomic = newval;\n+\n+  pthread_mutex_unlock (&g_atomic_lock);\n+\n+  return success;\n+}\n+\n+gint\n+(g_atomic_int_exchange) (gint *atomic,\n+                         gint  newval)\n+{\n+  gint *ptr = atomic;\n+  gint oldval;\n+\n+  pthread_mutex_lock (&g_atomic_lock);\n+  oldval = *ptr;\n+  *ptr = newval;\n+  pthread_mutex_unlock (&g_atomic_lock);\n+\n+  return oldval;\n+}\n+\n@@ -899,0 +1091,36 @@\n+gboolean\n+(g_atomic_pointer_compare_and_exchange_full) (void     *atomic,\n+                                              gpointer  oldval,\n+                                              gpointer  newval,\n+                                              void     *preval)\n+{\n+  gpointer *ptr = atomic;\n+  gpointer *pre = preval;\n+  gboolean success;\n+\n+  pthread_mutex_lock (&g_atomic_lock);\n+\n+  *pre = *ptr;\n+  if ((success = (*ptr == oldval)))\n+    *ptr = newval;\n+\n+  pthread_mutex_unlock (&g_atomic_lock);\n+\n+  return success;\n+}\n+\n+gpointer\n+(g_atomic_pointer_exchange) (void    *atomic,\n+                             gpointer newval)\n+{\n+  gpointer *ptr = atomic;\n+  gpointer oldval;\n+\n+  pthread_mutex_lock (&g_atomic_lock);\n+  oldval = *ptr;\n+  *ptr = newval;\n+  pthread_mutex_unlock (&g_atomic_lock);\n+\n+  return oldval;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gatomic.c","additions":228,"deletions":0,"binary":false,"changes":228,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -45,0 +47,8 @@\n+GLIB_AVAILABLE_IN_2_74\n+gboolean                g_atomic_int_compare_and_exchange_full (gint         *atomic,\n+                                                                gint          oldval,\n+                                                                gint          newval,\n+                                                                gint         *preval);\n+GLIB_AVAILABLE_IN_2_74\n+gint                    g_atomic_int_exchange                 (gint           *atomic,\n+                                                               gint            newval);\n@@ -67,0 +77,8 @@\n+GLIB_AVAILABLE_IN_2_74\n+gboolean                g_atomic_pointer_compare_and_exchange_full (void     *atomic,\n+                                                                    gpointer  oldval,\n+                                                                    gpointer  newval,\n+                                                                    void     *preval);\n+GLIB_AVAILABLE_IN_2_74\n+gpointer                g_atomic_pointer_exchange             (void           *atomic,\n+                                                               gpointer        newval);\n@@ -155,0 +173,11 @@\n+#if defined(glib_typeof) && defined(G_CXX_STD_VERSION)\n+\/* See comments below about equivalent g_atomic_pointer_compare_and_exchange()\n+ * shenanigans for type-safety when compiling in C++ mode. *\/\n+#define g_atomic_int_compare_and_exchange(atomic, oldval, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    glib_typeof (*(atomic)) gaicae_oldval = (oldval);                        \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gint));                     \\\n+    (void) (0 ? *(atomic) ^ (newval) ^ (oldval) : 1);                        \\\n+    __atomic_compare_exchange_n ((atomic), &gaicae_oldval, (newval), FALSE, __ATOMIC_SEQ_CST, __ATOMIC_SEQ_CST) ? TRUE : FALSE; \\\n+  }))\n+#else \/* if !(defined(glib_typeof) && defined(G_CXX_STD_VERSION)) *\/\n@@ -162,0 +191,17 @@\n+#endif \/* defined(glib_typeof) *\/\n+#define g_atomic_int_compare_and_exchange_full(atomic, oldval, newval, preval) \\\n+  (G_GNUC_EXTENSION ({                                                         \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gint));                       \\\n+    G_STATIC_ASSERT (sizeof *(preval) == sizeof (gint));                       \\\n+    (void) (0 ? *(atomic) ^ (newval) ^ (oldval) ^ *(preval) : 1);              \\\n+    *(preval) = (oldval);                                                      \\\n+    __atomic_compare_exchange_n ((atomic), (preval), (newval), FALSE,          \\\n+                                 __ATOMIC_SEQ_CST, __ATOMIC_SEQ_CST)           \\\n+                                 ? TRUE : FALSE;                               \\\n+  }))\n+#define g_atomic_int_exchange(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gint));                     \\\n+    (void) (0 ? *(atomic) ^ (newval) : 1);                                   \\\n+    (gint) __atomic_exchange_n ((atomic), (newval), __ATOMIC_SEQ_CST);       \\\n+  }))\n@@ -187,1 +233,1 @@\n-#if defined(glib_typeof) && defined(__cplusplus) && __cplusplus >= 201103L\n+#if defined(glib_typeof) && defined(G_CXX_STD_VERSION)\n@@ -198,1 +244,2 @@\n-    G_STATIC_ASSERT (sizeof (oldval) == sizeof (gpointer));                  \\\n+    G_STATIC_ASSERT (sizeof (static_cast<glib_typeof (*(atomic))>((oldval))) \\\n+                     == sizeof (gpointer));                                  \\\n@@ -204,1 +251,1 @@\n-#else \/* if !(defined(glib_typeof) && defined(__cplusplus) && __cplusplus >= 201103L) *\/\n+#else \/* if !(defined(glib_typeof) && defined(G_CXX_STD_VERSION) *\/\n@@ -214,0 +261,17 @@\n+#define g_atomic_pointer_compare_and_exchange_full(atomic, oldval, newval, preval) \\\n+  (G_GNUC_EXTENSION ({                                                             \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                       \\\n+    G_STATIC_ASSERT (sizeof *(preval) == sizeof (gpointer));                       \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                      \\\n+    (void) (0 ? (gpointer) *(preval) : NULL);                                      \\\n+    *(preval) = (oldval);                                                          \\\n+    __atomic_compare_exchange_n ((atomic), (preval), (newval), FALSE,              \\\n+                                 __ATOMIC_SEQ_CST, __ATOMIC_SEQ_CST) ?             \\\n+                                 TRUE : FALSE;                                     \\\n+  }))\n+#define g_atomic_pointer_exchange(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                \\\n+    (gpointer) __atomic_exchange_n ((atomic), (newval), __ATOMIC_SEQ_CST);   \\\n+  }))\n@@ -344,0 +408,28 @@\n+#define g_atomic_int_compare_and_exchange_full(atomic, oldval, newval, preval) \\\n+  (G_GNUC_EXTENSION ({                                                         \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gint));                       \\\n+    G_STATIC_ASSERT (sizeof *(preval) == sizeof (gint));                       \\\n+    (void) (0 ? *(atomic) ^ (newval) ^ (oldval) ^ *(preval) : 1);              \\\n+    *(preval) = __sync_val_compare_and_swap ((atomic), (oldval), (newval));    \\\n+    (*(preval) == (oldval)) ? TRUE : FALSE;                                    \\\n+  }))\n+#if defined(_GLIB_GCC_HAVE_SYNC_SWAP)\n+#define g_atomic_int_exchange(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gint));                     \\\n+    (void) (0 ? *(atomic) ^ (newval) : 1);                                   \\\n+    (gint) __sync_swap ((atomic), (newval));                                 \\\n+  }))\n+#else \/* defined(_GLIB_GCC_HAVE_SYNC_SWAP) *\/\n+  #define g_atomic_int_exchange(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    gint oldval;                                                             \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gint));                     \\\n+    (void) (0 ? *(atomic) ^ (newval) : 1);                                   \\\n+    do                                                                       \\\n+      {                                                                      \\\n+        oldval = *atomic;                                                    \\\n+      } while (!__sync_bool_compare_and_swap (atomic, oldval, newval));      \\\n+    oldval;                                                                  \\\n+  }))\n+#endif \/* defined(_GLIB_GCC_HAVE_SYNC_SWAP) *\/\n@@ -375,0 +467,29 @@\n+#define g_atomic_pointer_compare_and_exchange_full(atomic, oldval, newval, preval) \\\n+  (G_GNUC_EXTENSION ({                                                             \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                       \\\n+    G_STATIC_ASSERT (sizeof *(preval) == sizeof (gpointer));                       \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                      \\\n+    (void) (0 ? (gpointer) *(preval) : NULL);                                      \\\n+    *(preval) = __sync_val_compare_and_swap ((atomic), (oldval), (newval));        \\\n+    (*(preval) == (oldval)) ? TRUE : FALSE;                                        \\\n+  }))\n+#if defined(_GLIB_GCC_HAVE_SYNC_SWAP)\n+#define g_atomic_pointer_exchange(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                \\\n+    (gpointer) __sync_swap ((atomic), (newval));                             \\\n+  }))\n+#else\n+#define g_atomic_pointer_exchange(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    gpointer oldval;                                                         \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                \\\n+    do                                                                       \\\n+      {                                                                      \\\n+        oldval = (gpointer) *atomic;                                         \\\n+      } while (!__sync_bool_compare_and_swap (atomic, oldval, newval));      \\\n+    oldval;                                                                  \\\n+  }))\n+#endif \/* defined(_GLIB_GCC_HAVE_SYNC_SWAP) *\/\n@@ -414,0 +535,4 @@\n+#define g_atomic_int_compare_and_exchange_full(atomic, oldval, newval, preval) \\\n+  (g_atomic_int_compare_and_exchange_full ((gint *) (atomic), (oldval), (newval), (gint *) (preval)))\n+#define g_atomic_int_exchange(atomic, newval) \\\n+  (g_atomic_int_exchange ((gint *) (atomic), (newval)))\n@@ -447,0 +572,4 @@\n+#define g_atomic_pointer_compare_and_exchange_full(atomic, oldval, newval, prevval) \\\n+  (g_atomic_pointer_compare_and_exchange_full ((atomic), (gpointer) (oldval), (gpointer) (newval), (prevval)))\n+#define g_atomic_pointer_exchange(atomic, newval) \\\n+  (g_atomic_pointer_exchange ((atomic), (gpointer) (newval)))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gatomic.h","additions":132,"deletions":3,"binary":false,"changes":135,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -46,0 +48,2 @@\n+#include \"glib-unixprivate.h\"\n+#include <errno.h>\n@@ -176,1 +180,4 @@\n-    fgets (buf, 8, stdin);\n+    {\n+      if (fgets (buf, 8, stdin) == NULL)\n+        _exit (0);\n+    }\n@@ -178,1 +185,3 @@\n-    strcpy (buf, \"E\\n\");\n+    {\n+      strcpy (buf, \"E\\n\");\n+    }\n@@ -324,0 +333,58 @@\n+static inline const char *\n+get_strerror (char *buffer, gsize n)\n+{\n+#if defined(STRERROR_R_CHAR_P)\n+  return strerror_r (errno, buffer, n);\n+#elif defined(HAVE_STRERROR_R)\n+  int ret = strerror_r (errno, buffer, n);\n+  if (ret == 0 || ret == EINVAL)\n+    return buffer;\n+  return NULL;\n+#else\n+  const char *error_str = strerror (errno);\n+  if (!error_str)\n+    return NULL;\n+\n+  strncpy (buffer, error_str, n);\n+  return buffer;\n+#endif\n+}\n+\n+static gssize\n+checked_write (int fd, gconstpointer buf, gsize n)\n+{\n+  gssize written = write (fd, buf, n);\n+\n+  if (written == -1)\n+    {\n+      char msg[BUFSIZE] = {0};\n+      char error_str[BUFSIZE \/ 2] = {0};\n+\n+      get_strerror (error_str, sizeof (error_str) - 1);\n+      snprintf (msg, sizeof (msg) - 1, \"Unable to write to fd %d: %s\", fd, error_str);\n+      perror (msg);\n+      _exit (0);\n+    }\n+\n+  return written;\n+}\n+\n+static int\n+checked_dup (int fd)\n+{\n+  int new_fd = dup (fd);\n+\n+  if (new_fd == -1)\n+    {\n+      char msg[BUFSIZE] = {0};\n+      char error_str[BUFSIZE \/ 2] = {0};\n+\n+      get_strerror (error_str, sizeof (error_str) - 1);\n+      snprintf (msg, sizeof (msg) - 1, \"Unable to duplicate fd %d: %s\", fd, error_str);\n+      perror (msg);\n+      _exit (0);\n+    }\n+\n+  return new_fd;\n+}\n+\n@@ -343,1 +410,2 @@\n-  if ((pipe (in_fd) == -1) || (pipe (out_fd) == -1))\n+  if (!g_unix_open_pipe_internal (in_fd, TRUE, FALSE) ||\n+      !g_unix_open_pipe_internal (out_fd, TRUE, FALSE))\n@@ -361,3 +429,6 @@\n-      close (0); dup (in_fd[0]);   \/* set the stdin to the in pipe *\/\n-      close (1); dup (out_fd[1]);  \/* set the stdout to the out pipe *\/\n-      close (2); dup (out_fd[1]);  \/* set the stderr to the out pipe *\/\n+      close (0);\n+      checked_dup (in_fd[0]);   \/* set the stdin to the in pipe *\/\n+      close (1);\n+      checked_dup (out_fd[1]);  \/* set the stdout to the out pipe *\/\n+      close (2);\n+      checked_dup (out_fd[1]);  \/* set the stderr to the out pipe *\/\n@@ -371,1 +442,2 @@\n-          dup (old_err);\n+          \/* We can ignore the return value here as we're failing anyways *\/\n+          (void) !dup (old_err);\n@@ -386,4 +458,4 @@\n-  write (in_fd[1], \"bt\\n\", 3);\n-  write (in_fd[1], \"p x = 0\\n\", 8);\n-  write (in_fd[1], \"process detach\\n\", 15);\n-  write (in_fd[1], \"quit\\n\", 5);\n+  checked_write (in_fd[1], \"bt\\n\", 3);\n+  checked_write (in_fd[1], \"p x = 0\\n\", 8);\n+  checked_write (in_fd[1], \"process detach\\n\", 15);\n+  checked_write (in_fd[1], \"quit\\n\", 5);\n@@ -391,3 +463,5 @@\n-  write (in_fd[1], \"backtrace\\n\", 10);\n-  write (in_fd[1], \"p x = 0\\n\", 8);\n-  write (in_fd[1], \"quit\\n\", 5);\n+  \/* Don't wrap so that lines are not truncated *\/\n+  checked_write (in_fd[1], \"set width unlimited\\n\", 20);\n+  checked_write (in_fd[1], \"backtrace\\n\", 10);\n+  checked_write (in_fd[1], \"p x = 0\\n\", 8);\n+  checked_write (in_fd[1], \"quit\\n\", 5);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbacktrace.c","additions":88,"deletions":14,"binary":false,"changes":102,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbacktrace.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbase64.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbase64.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -36,0 +38,1 @@\n+#undef HAVE_FUTEX_TIME64\n@@ -43,1 +46,1 @@\n-#ifdef HAVE_FUTEX\n+#if defined(HAVE_FUTEX) || defined(HAVE_FUTEX_TIME64)\n@@ -52,8 +55,0 @@\n-#include <linux\/futex.h>\n-#include <sys\/syscall.h>\n-#include <unistd.h>\n-\n-#ifndef FUTEX_WAIT_PRIVATE\n-#define FUTEX_WAIT_PRIVATE FUTEX_WAIT\n-#define FUTEX_WAKE_PRIVATE FUTEX_WAKE\n-#endif\n@@ -82,1 +77,1 @@\n-  syscall (__NR_futex, address, (gsize) FUTEX_WAIT_PRIVATE, (gsize) value, NULL);\n+  g_futex_simple (address, (gsize) FUTEX_WAIT_PRIVATE, (gsize) value, NULL);\n@@ -99,1 +94,1 @@\n-  syscall (__NR_futex, address, (gsize) FUTEX_WAKE_PRIVATE, (gsize) 1, NULL);\n+  g_futex_simple (address, (gsize) FUTEX_WAKE_PRIVATE, (gsize) 1, NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbitlock.c","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbitlock.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,4062 +0,0 @@\n-\/* gbookmarkfile.c: parsing and building desktop bookmarks\n- *\n- * Copyright (C) 2005-2006 Emmanuele Bassi\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Lesser General Public\n- * License as published by the Free Software Foundation; either\n- * version 2.1 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Lesser General Public License for more details.\n- *\n- * You should have received a copy of the GNU Lesser General Public License\n- * along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n- *\/\n-\n-#include \"config.h\"\n-\n-#include \"gbookmarkfile.h\"\n-\n-#include <stdio.h>\n-#include <stdlib.h>\n-#include <string.h>\n-#include <errno.h>\n-#include <fcntl.h>\n-#include <locale.h>\n-#include <time.h>\n-#include <stdarg.h>\n-\n-#include \"gconvert.h\"\n-#include \"gdataset.h\"\n-#include \"gdatetime.h\"\n-#include \"gerror.h\"\n-#include \"gfileutils.h\"\n-#include \"ghash.h\"\n-#include \"glibintl.h\"\n-#include \"glist.h\"\n-#include \"gmain.h\"\n-#include \"gmarkup.h\"\n-#include \"gmem.h\"\n-#include \"gmessages.h\"\n-#include \"gshell.h\"\n-#include \"gslice.h\"\n-#include \"gstdio.h\"\n-#include \"gstring.h\"\n-#include \"gstrfuncs.h\"\n-#include \"gtimer.h\"\n-#include \"gutils.h\"\n-\n-\n-\/**\n- * SECTION:bookmarkfile\n- * @title: Bookmark file parser\n- * @short_description: parses files containing bookmarks\n- *\n- * GBookmarkFile lets you parse, edit or create files containing bookmarks\n- * to URI, along with some meta-data about the resource pointed by the URI\n- * like its MIME type, the application that is registering the bookmark and\n- * the icon that should be used to represent the bookmark. The data is stored\n- * using the\n- * [Desktop Bookmark Specification](http:\/\/www.gnome.org\/~ebassi\/bookmark-spec).\n- *\n- * The syntax of the bookmark files is described in detail inside the\n- * Desktop Bookmark Specification, here is a quick summary: bookmark\n- * files use a sub-class of the XML Bookmark Exchange Language\n- * specification, consisting of valid UTF-8 encoded XML, under the\n- * <xbel> root element; each bookmark is stored inside a\n- * <bookmark> element, using its URI: no relative paths can\n- * be used inside a bookmark file. The bookmark may have a user defined\n- * title and description, to be used instead of the URI. Under the\n- * <metadata> element, with its owner attribute set to\n- * `http:\/\/freedesktop.org`, is stored the meta-data about a resource\n- * pointed by its URI. The meta-data consists of the resource's MIME\n- * type; the applications that have registered a bookmark; the groups\n- * to which a bookmark belongs to; a visibility flag, used to set the\n- * bookmark as \"private\" to the applications and groups that has it\n- * registered; the URI and MIME type of an icon, to be used when\n- * displaying the bookmark inside a GUI.\n- *\n- * Here is an example of a bookmark file:\n- * [bookmarks.xbel](https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/blob\/HEAD\/glib\/tests\/bookmarks.xbel)\n- *\n- * A bookmark file might contain more than one bookmark; each bookmark\n- * is accessed through its URI.\n- *\n- * The important caveat of bookmark files is that when you add a new\n- * bookmark you must also add the application that is registering it, using\n- * g_bookmark_file_add_application() or g_bookmark_file_set_application_info().\n- * If a bookmark has no applications then it won't be dumped when creating\n- * the on disk representation, using g_bookmark_file_to_data() or\n- * g_bookmark_file_to_file().\n- *\n- * The #GBookmarkFile parser was added in GLib 2.12.\n- *\/\n-\n-\/* XBEL 1.0 standard entities *\/\n-#define XBEL_VERSION            \"1.0\"\n-#define XBEL_DTD_NICK           \"xbel\"\n-#define XBEL_DTD_SYSTEM         \"+\/\/IDN python.org\/\/DTD XML Bookmark \" \\\n-        \"Exchange Language 1.0\/\/EN\/\/XML\"\n-\n-#define XBEL_DTD_URI            \"http:\/\/www.python.org\/topics\/xml\/dtds\/xbel-1.0.dtd\"\n-\n-#define XBEL_ROOT_ELEMENT       \"xbel\"\n-#define XBEL_FOLDER_ELEMENT     \"folder\"        \/* unused *\/\n-#define XBEL_BOOKMARK_ELEMENT   \"bookmark\"\n-#define XBEL_ALIAS_ELEMENT      \"alias\"         \/* unused *\/\n-#define XBEL_SEPARATOR_ELEMENT  \"separator\"     \/* unused *\/\n-#define XBEL_TITLE_ELEMENT      \"title\"\n-#define XBEL_DESC_ELEMENT       \"desc\"\n-#define XBEL_INFO_ELEMENT       \"info\"\n-#define XBEL_METADATA_ELEMENT   \"metadata\"\n-\n-#define XBEL_VERSION_ATTRIBUTE  \"version\"\n-#define XBEL_FOLDED_ATTRIBUTE   \"folded\"        \/* unused *\/\n-#define XBEL_OWNER_ATTRIBUTE    \"owner\"\n-#define XBEL_ADDED_ATTRIBUTE    \"added\"\n-#define XBEL_VISITED_ATTRIBUTE  \"visited\"\n-#define XBEL_MODIFIED_ATTRIBUTE \"modified\"\n-#define XBEL_ID_ATTRIBUTE       \"id\"\n-#define XBEL_HREF_ATTRIBUTE     \"href\"\n-#define XBEL_REF_ATTRIBUTE      \"ref\"           \/* unused *\/\n-\n-#define XBEL_YES_VALUE          \"yes\"\n-#define XBEL_NO_VALUE           \"no\"\n-\n-\/* Desktop bookmark spec entities *\/\n-#define BOOKMARK_METADATA_OWNER         \"http:\/\/freedesktop.org\"\n-\n-#define BOOKMARK_NAMESPACE_NAME         \"bookmark\"\n-#define BOOKMARK_NAMESPACE_URI          \"http:\/\/www.freedesktop.org\/standards\/desktop-bookmarks\"\n-\n-#define BOOKMARK_GROUPS_ELEMENT         \"groups\"\n-#define BOOKMARK_GROUP_ELEMENT          \"group\"\n-#define BOOKMARK_APPLICATIONS_ELEMENT   \"applications\"\n-#define BOOKMARK_APPLICATION_ELEMENT    \"application\"\n-#define BOOKMARK_ICON_ELEMENT           \"icon\"\n-#define BOOKMARK_PRIVATE_ELEMENT        \"private\"\n-\n-#define BOOKMARK_NAME_ATTRIBUTE         \"name\"\n-#define BOOKMARK_EXEC_ATTRIBUTE         \"exec\"\n-#define BOOKMARK_COUNT_ATTRIBUTE        \"count\"\n-#define BOOKMARK_TIMESTAMP_ATTRIBUTE    \"timestamp\"     \/* deprecated by \"modified\" *\/\n-#define BOOKMARK_MODIFIED_ATTRIBUTE     \"modified\"\n-#define BOOKMARK_HREF_ATTRIBUTE         \"href\"\n-#define BOOKMARK_TYPE_ATTRIBUTE         \"type\"\n-\n-\/* Shared MIME Info entities *\/\n-#define MIME_NAMESPACE_NAME             \"mime\"\n-#define MIME_NAMESPACE_URI              \"http:\/\/www.freedesktop.org\/standards\/shared-mime-info\"\n-#define MIME_TYPE_ELEMENT               \"mime-type\"\n-#define MIME_TYPE_ATTRIBUTE             \"type\"\n-\n-\n-typedef struct _BookmarkAppInfo  BookmarkAppInfo;\n-typedef struct _BookmarkMetadata BookmarkMetadata;\n-typedef struct _BookmarkItem     BookmarkItem;\n-typedef struct _ParseData        ParseData;\n-\n-struct _BookmarkAppInfo\n-{\n-  gchar *name;\n-  gchar *exec;\n-\n-  guint count;\n-\n-  GDateTime *stamp;  \/* (owned) *\/\n-};\n-\n-struct _BookmarkMetadata\n-{\n-  gchar *mime_type;\n-\n-  GList *groups;\n-\n-  GList *applications;\n-  GHashTable *apps_by_name;\n-\n-  gchar *icon_href;\n-  gchar *icon_mime;\n-\n-  guint is_private : 1;\n-};\n-\n-struct _BookmarkItem\n-{\n-  gchar *uri;\n-\n-  gchar *title;\n-  gchar *description;\n-\n-  GDateTime *added;  \/* (owned) *\/\n-  GDateTime *modified;  \/* (owned) *\/\n-  GDateTime *visited;  \/* (owned) *\/\n-\n-  BookmarkMetadata *metadata;\n-};\n-\n-struct _GBookmarkFile\n-{\n-  gchar *title;\n-  gchar *description;\n-\n-  \/* we store our items in a list and keep a copy inside\n-   * a hash table for faster lookup performances\n-   *\/\n-  GList *items;\n-  GHashTable *items_by_uri;\n-};\n-\n-\/* parser state machine *\/\n-typedef enum\n-{\n-  STATE_STARTED        = 0,\n-\n-  STATE_ROOT,\n-  STATE_BOOKMARK,\n-  STATE_TITLE,\n-  STATE_DESC,\n-  STATE_INFO,\n-  STATE_METADATA,\n-  STATE_APPLICATIONS,\n-  STATE_APPLICATION,\n-  STATE_GROUPS,\n-  STATE_GROUP,\n-  STATE_MIME,\n-  STATE_ICON,\n-\n-  STATE_FINISHED\n-} ParserState;\n-\n-static void          g_bookmark_file_init        (GBookmarkFile  *bookmark);\n-static void          g_bookmark_file_clear       (GBookmarkFile  *bookmark);\n-static gboolean      g_bookmark_file_parse       (GBookmarkFile  *bookmark,\n-              const gchar    *buffer,\n-              gsize           length,\n-              GError        **error);\n-static gchar *       g_bookmark_file_dump        (GBookmarkFile  *bookmark,\n-              gsize          *length,\n-              GError        **error);\n-static BookmarkItem *g_bookmark_file_lookup_item (GBookmarkFile  *bookmark,\n-              const gchar    *uri);\n-static void          g_bookmark_file_add_item    (GBookmarkFile  *bookmark,\n-              BookmarkItem   *item,\n-              GError        **error);\n-\n-static gboolean timestamp_from_iso8601 (const gchar  *iso_date,\n-                                        GDateTime   **out_date_time,\n-                                        GError      **error);\n-\n-\/********************************\n- * BookmarkAppInfo              *\n- *                              *\n- * Application metadata storage *\n- ********************************\/\n-static BookmarkAppInfo *\n-bookmark_app_info_new (const gchar *name)\n-{\n-  BookmarkAppInfo *retval;\n-\n-  g_warn_if_fail (name != NULL);\n-\n-  retval = g_slice_new (BookmarkAppInfo);\n-#ifdef GSTREAMER_LITE\n-  if (retval == NULL) {\n-    return NULL;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  retval->name = g_strdup (name);\n-  retval->exec = NULL;\n-  retval->count = 0;\n-  retval->stamp = NULL;\n-\n-  return retval;\n-}\n-\n-static void\n-bookmark_app_info_free (BookmarkAppInfo *app_info)\n-{\n-  if (!app_info)\n-    return;\n-\n-  g_free (app_info->name);\n-  g_free (app_info->exec);\n-  g_clear_pointer (&app_info->stamp, g_date_time_unref);\n-\n-  g_slice_free (BookmarkAppInfo, app_info);\n-}\n-\n-static gchar *\n-bookmark_app_info_dump (BookmarkAppInfo *app_info)\n-{\n-  gchar *retval;\n-  gchar *name, *exec, *modified, *count;\n-\n-  g_warn_if_fail (app_info != NULL);\n-\n-  if (app_info->count == 0)\n-    return NULL;\n-\n-  name = g_markup_escape_text (app_info->name, -1);\n-  exec = g_markup_escape_text (app_info->exec, -1);\n-  modified = g_date_time_format_iso8601 (app_info->stamp);\n-  count = g_strdup_printf (\"%u\", app_info->count);\n-\n-  retval = g_strconcat (\"          \"\n-                        \"<\" BOOKMARK_NAMESPACE_NAME \":\" BOOKMARK_APPLICATION_ELEMENT\n-                        \" \" BOOKMARK_NAME_ATTRIBUTE \"=\\\"\", name, \"\\\"\"\n-                        \" \" BOOKMARK_EXEC_ATTRIBUTE \"=\\\"\", exec, \"\\\"\"\n-                        \" \" BOOKMARK_MODIFIED_ATTRIBUTE \"=\\\"\", modified, \"\\\"\"\n-                        \" \" BOOKMARK_COUNT_ATTRIBUTE \"=\\\"\", count, \"\\\"\/>\\n\",\n-                        NULL);\n-\n-  g_free (name);\n-  g_free (exec);\n-  g_free (modified);\n-  g_free (count);\n-\n-  return retval;\n-}\n-\n-\n-\/***********************\n- * BookmarkMetadata    *\n- *                     *\n- * Metadata storage    *\n- ***********************\/\n-static BookmarkMetadata *\n-bookmark_metadata_new (void)\n-{\n-  BookmarkMetadata *retval;\n-\n-  retval = g_slice_new (BookmarkMetadata);\n-#ifdef GSTREAMER_LITE\n-  if (retval == NULL) {\n-    return NULL;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  retval->mime_type = NULL;\n-\n-  retval->groups = NULL;\n-\n-  retval->applications = NULL;\n-  retval->apps_by_name = g_hash_table_new_full (g_str_hash,\n-                                                g_str_equal,\n-                                                NULL,\n-                                                NULL);\n-\n-  retval->is_private = FALSE;\n-\n-  retval->icon_href = NULL;\n-  retval->icon_mime = NULL;\n-\n-  return retval;\n-}\n-\n-static void\n-bookmark_metadata_free (BookmarkMetadata *metadata)\n-{\n-  if (!metadata)\n-    return;\n-\n-  g_free (metadata->mime_type);\n-\n-  g_list_free_full (metadata->groups, g_free);\n-  g_list_free_full (metadata->applications, (GDestroyNotify) bookmark_app_info_free);\n-\n-  g_hash_table_destroy (metadata->apps_by_name);\n-\n-  g_free (metadata->icon_href);\n-  g_free (metadata->icon_mime);\n-\n-  g_slice_free (BookmarkMetadata, metadata);\n-}\n-\n-static gchar *\n-bookmark_metadata_dump (BookmarkMetadata *metadata)\n-{\n-  GString *retval;\n-  gchar *buffer;\n-\n-  if (!metadata->applications)\n-    return NULL;\n-\n-  retval = g_string_sized_new (1024);\n-\n-  \/* metadata container *\/\n-  g_string_append (retval,\n-       \"      \"\n-       \"<\" XBEL_METADATA_ELEMENT\n-       \" \" XBEL_OWNER_ATTRIBUTE \"=\\\"\" BOOKMARK_METADATA_OWNER\n-       \"\\\">\\n\");\n-\n-  \/* mime type *\/\n-  if (metadata->mime_type) {\n-    buffer = g_strconcat (\"        \"\n-        \"<\" MIME_NAMESPACE_NAME \":\" MIME_TYPE_ELEMENT \" \"\n-        MIME_TYPE_ATTRIBUTE \"=\\\"\", metadata->mime_type, \"\\\"\/>\\n\",\n-        NULL);\n-    g_string_append (retval, buffer);\n-    g_free (buffer);\n-  }\n-\n-  if (metadata->groups)\n-    {\n-      GList *l;\n-\n-      \/* open groups container *\/\n-      g_string_append (retval,\n-           \"        \"\n-           \"<\" BOOKMARK_NAMESPACE_NAME\n-           \":\" BOOKMARK_GROUPS_ELEMENT \">\\n\");\n-\n-      for (l = g_list_last (metadata->groups); l != NULL; l = l->prev)\n-        {\n-          gchar *group_name;\n-\n-    group_name = g_markup_escape_text ((gchar *) l->data, -1);\n-    buffer = g_strconcat (\"          \"\n-        \"<\" BOOKMARK_NAMESPACE_NAME\n-        \":\" BOOKMARK_GROUP_ELEMENT \">\",\n-        group_name,\n-        \"<\/\" BOOKMARK_NAMESPACE_NAME\n-        \":\"  BOOKMARK_GROUP_ELEMENT \">\\n\", NULL);\n-    g_string_append (retval, buffer);\n-\n-    g_free (buffer);\n-    g_free (group_name);\n-        }\n-\n-      \/* close groups container *\/\n-      g_string_append (retval,\n-           \"        \"\n-           \"<\/\" BOOKMARK_NAMESPACE_NAME\n-           \":\" BOOKMARK_GROUPS_ELEMENT \">\\n\");\n-    }\n-\n-  if (metadata->applications)\n-    {\n-      GList *l;\n-\n-      \/* open applications container *\/\n-      g_string_append (retval,\n-           \"        \"\n-           \"<\" BOOKMARK_NAMESPACE_NAME\n-           \":\" BOOKMARK_APPLICATIONS_ELEMENT \">\\n\");\n-\n-      for (l = g_list_last (metadata->applications); l != NULL; l = l->prev)\n-        {\n-          BookmarkAppInfo *app_info = (BookmarkAppInfo *) l->data;\n-          gchar *app_data;\n-\n-    g_warn_if_fail (app_info != NULL);\n-\n-          app_data = bookmark_app_info_dump (app_info);\n-\n-    if (app_data)\n-            {\n-              retval = g_string_append (retval, app_data);\n-\n-        g_free (app_data);\n-      }\n-        }\n-\n-      \/* close applications container *\/\n-      g_string_append (retval,\n-           \"        \"\n-           \"<\/\" BOOKMARK_NAMESPACE_NAME\n-           \":\" BOOKMARK_APPLICATIONS_ELEMENT \">\\n\");\n-    }\n-\n-  \/* icon *\/\n-  if (metadata->icon_href)\n-    {\n-      if (!metadata->icon_mime)\n-        metadata->icon_mime = g_strdup (\"application\/octet-stream\");\n-\n-      buffer = g_strconcat (\"       \"\n-          \"<\" BOOKMARK_NAMESPACE_NAME\n-          \":\" BOOKMARK_ICON_ELEMENT\n-          \" \" BOOKMARK_HREF_ATTRIBUTE \"=\\\"\", metadata->icon_href,\n-          \"\\\" \" BOOKMARK_TYPE_ATTRIBUTE \"=\\\"\", metadata->icon_mime, \"\\\"\/>\\n\", NULL);\n-      g_string_append (retval, buffer);\n-\n-      g_free (buffer);\n-    }\n-\n-  \/* private hint *\/\n-  if (metadata->is_private)\n-    g_string_append (retval,\n-         \"        \"\n-         \"<\" BOOKMARK_NAMESPACE_NAME\n-         \":\" BOOKMARK_PRIVATE_ELEMENT \"\/>\\n\");\n-\n-  \/* close metadata container *\/\n-  g_string_append (retval,\n-       \"      \"\n-       \"<\/\" XBEL_METADATA_ELEMENT \">\\n\");\n-\n-  return g_string_free (retval, FALSE);\n-}\n-\n-\/******************************************************\n- * BookmarkItem                                       *\n- *                                                    *\n- * Storage for a single bookmark item inside the list *\n- ******************************************************\/\n-static BookmarkItem *\n-bookmark_item_new (const gchar *uri)\n-{\n-  BookmarkItem *item;\n-\n-  g_warn_if_fail (uri != NULL);\n-\n-  item = g_slice_new (BookmarkItem);\n-#ifdef GSTREAMER_LITE\n-  if (item == NULL) {\n-    return NULL;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  item->uri = g_strdup (uri);\n-\n-  item->title = NULL;\n-  item->description = NULL;\n-\n-  item->added = NULL;\n-  item->modified = NULL;\n-  item->visited = NULL;\n-\n-  item->metadata = NULL;\n-\n-  return item;\n-}\n-\n-static void\n-bookmark_item_free (BookmarkItem *item)\n-{\n-  if (!item)\n-    return;\n-\n-  g_free (item->uri);\n-  g_free (item->title);\n-  g_free (item->description);\n-\n-  if (item->metadata)\n-    bookmark_metadata_free (item->metadata);\n-\n-  g_clear_pointer (&item->added, g_date_time_unref);\n-  g_clear_pointer (&item->modified, g_date_time_unref);\n-  g_clear_pointer (&item->visited, g_date_time_unref);\n-\n-  g_slice_free (BookmarkItem, item);\n-}\n-\n-static void\n-bookmark_item_touch_modified (BookmarkItem *item)\n-{\n-  g_clear_pointer (&item->modified, g_date_time_unref);\n-  item->modified = g_date_time_new_now_utc ();\n-}\n-\n-static gchar *\n-bookmark_item_dump (BookmarkItem *item)\n-{\n-  GString *retval;\n-  gchar *escaped_uri;\n-\n-  \/* at this point, we must have at least a registered application; if we don't\n-   * we don't screw up the bookmark file, and just skip this item\n-   *\/\n-  if (!item->metadata || !item->metadata->applications)\n-    {\n-      g_warning (\"Item for URI '%s' has no registered applications: skipping.\", item->uri);\n-      return NULL;\n-    }\n-\n-  retval = g_string_sized_new (4096);\n-\n-  g_string_append (retval, \"  <\" XBEL_BOOKMARK_ELEMENT \" \");\n-\n-  escaped_uri = g_markup_escape_text (item->uri, -1);\n-\n-  g_string_append (retval, XBEL_HREF_ATTRIBUTE \"=\\\"\");\n-  g_string_append (retval, escaped_uri);\n-  g_string_append (retval , \"\\\" \");\n-\n-  g_free (escaped_uri);\n-\n-  if (item->added)\n-    {\n-      char *added;\n-\n-      added = g_date_time_format_iso8601 (item->added);\n-      g_string_append (retval, XBEL_ADDED_ATTRIBUTE \"=\\\"\");\n-      g_string_append (retval, added);\n-      g_string_append (retval, \"\\\" \");\n-      g_free (added);\n-    }\n-\n-  if (item->modified)\n-    {\n-      char *modified;\n-\n-      modified = g_date_time_format_iso8601 (item->modified);\n-      g_string_append (retval, XBEL_MODIFIED_ATTRIBUTE \"=\\\"\");\n-      g_string_append (retval, modified);\n-      g_string_append (retval, \"\\\" \");\n-      g_free (modified);\n-    }\n-\n-  if (item->visited)\n-    {\n-      char *visited;\n-\n-      visited = g_date_time_format_iso8601 (item->visited);\n-      g_string_append (retval, XBEL_VISITED_ATTRIBUTE \"=\\\"\");\n-      g_string_append (retval, visited);\n-      g_string_append (retval, \"\\\" \");\n-      g_free (visited);\n-    }\n-\n-  if (retval->str[retval->len - 1] == ' ')\n-    g_string_truncate (retval, retval->len - 1);\n-  g_string_append (retval, \">\\n\");\n-\n-  if (item->title)\n-    {\n-      gchar *escaped_title;\n-\n-      escaped_title = g_markup_escape_text (item->title, -1);\n-      g_string_append (retval, \"    \" \"<\" XBEL_TITLE_ELEMENT \">\");\n-      g_string_append (retval, escaped_title);\n-      g_string_append (retval, \"<\/\" XBEL_TITLE_ELEMENT \">\\n\");\n-\n-      g_free (escaped_title);\n-    }\n-\n-  if (item->description)\n-    {\n-      gchar *escaped_desc;\n-\n-      escaped_desc = g_markup_escape_text (item->description, -1);\n-      g_string_append (retval, \"    \" \"<\" XBEL_DESC_ELEMENT \">\");\n-      g_string_append (retval, escaped_desc);\n-      g_string_append (retval, \"<\/\" XBEL_DESC_ELEMENT \">\\n\");\n-\n-      g_free (escaped_desc);\n-    }\n-\n-  if (item->metadata)\n-    {\n-      gchar *metadata;\n-\n-      metadata = bookmark_metadata_dump (item->metadata);\n-      if (metadata)\n-        {\n-          g_string_append (retval, \"    \" \"<\" XBEL_INFO_ELEMENT \">\\n\");\n-          g_string_append (retval, metadata);\n-          g_string_append (retval, \"    \" \"<\/\" XBEL_INFO_ELEMENT \">\\n\");\n-\n-          g_free (metadata);\n-        }\n-    }\n-\n-  g_string_append (retval, \"  <\/\" XBEL_BOOKMARK_ELEMENT \">\\n\");\n-\n-  return g_string_free (retval, FALSE);\n-}\n-\n-static BookmarkAppInfo *\n-bookmark_item_lookup_app_info (BookmarkItem *item,\n-             const gchar  *app_name)\n-{\n-  g_warn_if_fail (item != NULL && app_name != NULL);\n-\n-  if (!item->metadata)\n-    return NULL;\n-\n-  return g_hash_table_lookup (item->metadata->apps_by_name, app_name);\n-}\n-\n-\/*************************\n- *    GBookmarkFile    *\n- *************************\/\n-\n-static void\n-g_bookmark_file_init (GBookmarkFile *bookmark)\n-{\n-  bookmark->title = NULL;\n-  bookmark->description = NULL;\n-\n-  bookmark->items = NULL;\n-  bookmark->items_by_uri = g_hash_table_new_full (g_str_hash,\n-                                                  g_str_equal,\n-                                                  NULL,\n-                                                  NULL);\n-}\n-\n-static void\n-g_bookmark_file_clear (GBookmarkFile *bookmark)\n-{\n-  g_free (bookmark->title);\n-  g_free (bookmark->description);\n-\n-  g_list_free_full (bookmark->items, (GDestroyNotify) bookmark_item_free);\n-  bookmark->items = NULL;\n-\n-  if (bookmark->items_by_uri)\n-    {\n-      g_hash_table_destroy (bookmark->items_by_uri);\n-\n-      bookmark->items_by_uri = NULL;\n-    }\n-}\n-\n-struct _ParseData\n-{\n-  ParserState state;\n-\n-  GHashTable *namespaces;\n-\n-  GBookmarkFile *bookmark_file;\n-  BookmarkItem *current_item;\n-};\n-\n-static ParseData *\n-parse_data_new (void)\n-{\n-  ParseData *retval;\n-\n-  retval = g_new (ParseData, 1);\n-\n-  retval->state = STATE_STARTED;\n-  retval->namespaces = g_hash_table_new_full (g_str_hash, g_str_equal,\n-                  (GDestroyNotify) g_free,\n-                  (GDestroyNotify) g_free);\n-  retval->bookmark_file = NULL;\n-  retval->current_item = NULL;\n-\n-  return retval;\n-}\n-\n-static void\n-parse_data_free (ParseData *parse_data)\n-{\n-  g_hash_table_destroy (parse_data->namespaces);\n-\n-  g_free (parse_data);\n-}\n-\n-#define IS_ATTRIBUTE(s,a)       ((0 == strcmp ((s), (a))))\n-\n-static void\n-parse_bookmark_element (GMarkupParseContext  *context,\n-      ParseData            *parse_data,\n-      const gchar         **attribute_names,\n-      const gchar         **attribute_values,\n-      GError              **error)\n-{\n-  const gchar *uri, *added, *modified, *visited;\n-  const gchar *attr;\n-  gint i;\n-  BookmarkItem *item;\n-  GError *add_error;\n-\n-  g_warn_if_fail ((parse_data != NULL) && (parse_data->state == STATE_BOOKMARK));\n-\n-  i = 0;\n-  uri = added = modified = visited = NULL;\n-  for (attr = attribute_names[i]; attr != NULL; attr = attribute_names[++i])\n-    {\n-      if (IS_ATTRIBUTE (attr, XBEL_HREF_ATTRIBUTE))\n-        uri = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, XBEL_ADDED_ATTRIBUTE))\n-        added = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, XBEL_MODIFIED_ATTRIBUTE))\n-        modified = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, XBEL_VISITED_ATTRIBUTE))\n-        visited = attribute_values[i];\n-      else\n-        {\n-          \/* bookmark is defined by the XBEL spec, so we need\n-           * to error out if the element has different or\n-           * missing attributes\n-           *\/\n-          g_set_error (error, G_MARKUP_ERROR,\n-                       G_MARKUP_ERROR_UNKNOWN_ATTRIBUTE,\n-                       _(\"Unexpected attribute '%s' for element '%s'\"),\n-                       attr,\n-                       XBEL_BOOKMARK_ELEMENT);\n-          return;\n-        }\n-    }\n-\n-  if (!uri)\n-    {\n-      g_set_error (error, G_MARKUP_ERROR,\n-                   G_MARKUP_ERROR_INVALID_CONTENT,\n-                   _(\"Attribute '%s' of element '%s' not found\"),\n-                   XBEL_HREF_ATTRIBUTE,\n-                   XBEL_BOOKMARK_ELEMENT);\n-      return;\n-    }\n-\n-  g_warn_if_fail (parse_data->current_item == NULL);\n-\n-  item = bookmark_item_new (uri);\n-#ifdef GSTREAMER_LITE\n-  if (item == NULL) {\n-    return;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  if (added != NULL && !timestamp_from_iso8601 (added, &item->added, error))\n-    {\n-      bookmark_item_free (item);\n-      return;\n-    }\n-\n-  if (modified != NULL && !timestamp_from_iso8601 (modified, &item->modified, error))\n-    {\n-      bookmark_item_free (item);\n-      return;\n-    }\n-\n-  if (visited != NULL && !timestamp_from_iso8601 (visited, &item->visited, error))\n-    {\n-      bookmark_item_free (item);\n-      return;\n-    }\n-\n-  add_error = NULL;\n-  g_bookmark_file_add_item (parse_data->bookmark_file,\n-            item,\n-            &add_error);\n-  if (add_error)\n-    {\n-      bookmark_item_free (item);\n-\n-      g_propagate_error (error, add_error);\n-\n-      return;\n-    }\n-\n-  parse_data->current_item = item;\n-}\n-\n-static void\n-parse_application_element (GMarkupParseContext  *context,\n-         ParseData            *parse_data,\n-         const gchar         **attribute_names,\n-         const gchar         **attribute_values,\n-         GError              **error)\n-{\n-  const gchar *name, *exec, *count, *stamp, *modified;\n-  const gchar *attr;\n-  gint i;\n-  BookmarkItem *item;\n-  BookmarkAppInfo *ai;\n-\n-  g_warn_if_fail ((parse_data != NULL) && (parse_data->state == STATE_APPLICATION));\n-\n-  i = 0;\n-  name = exec = count = stamp = modified = NULL;\n-  for (attr = attribute_names[i]; attr != NULL; attr = attribute_names[++i])\n-    {\n-      if (IS_ATTRIBUTE (attr, BOOKMARK_NAME_ATTRIBUTE))\n-        name = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, BOOKMARK_EXEC_ATTRIBUTE))\n-        exec = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, BOOKMARK_COUNT_ATTRIBUTE))\n-        count = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, BOOKMARK_TIMESTAMP_ATTRIBUTE))\n-        stamp = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, BOOKMARK_MODIFIED_ATTRIBUTE))\n-        modified = attribute_values[i];\n-    }\n-\n-  \/* the \"name\" and \"exec\" attributes are mandatory *\/\n-  if (!name)\n-    {\n-      g_set_error (error, G_MARKUP_ERROR,\n-                   G_MARKUP_ERROR_INVALID_CONTENT,\n-                   _(\"Attribute '%s' of element '%s' not found\"),\n-                   BOOKMARK_NAME_ATTRIBUTE,\n-                   BOOKMARK_APPLICATION_ELEMENT);\n-      return;\n-    }\n-\n-  if (!exec)\n-    {\n-      g_set_error (error, G_MARKUP_ERROR,\n-                   G_MARKUP_ERROR_INVALID_CONTENT,\n-                   _(\"Attribute '%s' of element '%s' not found\"),\n-                   BOOKMARK_EXEC_ATTRIBUTE,\n-                   BOOKMARK_APPLICATION_ELEMENT);\n-      return;\n-    }\n-\n-  g_warn_if_fail (parse_data->current_item != NULL);\n-  item = parse_data->current_item;\n-\n-  ai = bookmark_item_lookup_app_info (item, name);\n-  if (!ai)\n-    {\n-      ai = bookmark_app_info_new (name);\n-#ifdef GSTREAMER_LITE\n-      if (ai == NULL) {\n-          g_set_error (error, G_MARKUP_ERROR,\n-               G_MARKUP_ERROR_INVALID_CONTENT,\n-               _(\"AI is NULL\"));\n-          return;\n-      }\n-#endif \/\/ GSTREAMER_LITE\n-\n-      if (!item->metadata)\n-  item->metadata = bookmark_metadata_new ();\n-\n-      item->metadata->applications = g_list_prepend (item->metadata->applications, ai);\n-      g_hash_table_replace (item->metadata->apps_by_name, ai->name, ai);\n-    }\n-\n-  g_free (ai->exec);\n-  ai->exec = g_strdup (exec);\n-\n-  if (count)\n-    ai->count = atoi (count);\n-  else\n-    ai->count = 1;\n-\n-  g_clear_pointer (&ai->stamp, g_date_time_unref);\n-  if (modified != NULL)\n-    {\n-      if (!timestamp_from_iso8601 (modified, &ai->stamp, error))\n-        return;\n-    }\n-  else\n-    {\n-      \/* the timestamp attribute has been deprecated but we still parse\n-       * it for backward compatibility\n-       *\/\n-      if (stamp)\n-        ai->stamp = g_date_time_new_from_unix_utc (atol (stamp));\n-      else\n-        ai->stamp = g_date_time_new_now_utc ();\n-    }\n-}\n-\n-static void\n-parse_mime_type_element (GMarkupParseContext  *context,\n-       ParseData            *parse_data,\n-       const gchar         **attribute_names,\n-       const gchar         **attribute_values,\n-       GError              **error)\n-{\n-  const gchar *type;\n-  const gchar *attr;\n-  gint i;\n-  BookmarkItem *item;\n-\n-  g_warn_if_fail ((parse_data != NULL) && (parse_data->state == STATE_MIME));\n-\n-  i = 0;\n-  type = NULL;\n-  for (attr = attribute_names[i]; attr != NULL; attr = attribute_names[++i])\n-    {\n-      if (IS_ATTRIBUTE (attr, MIME_TYPE_ATTRIBUTE))\n-        type = attribute_values[i];\n-    }\n-\n-  if (!type)\n-    type = \"application\/octet-stream\";\n-\n-  g_warn_if_fail (parse_data->current_item != NULL);\n-  item = parse_data->current_item;\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  g_free (item->metadata->mime_type);\n-  item->metadata->mime_type = g_strdup (type);\n-}\n-\n-static void\n-parse_icon_element (GMarkupParseContext  *context,\n-        ParseData            *parse_data,\n-        const gchar         **attribute_names,\n-        const gchar         **attribute_values,\n-        GError              **error)\n-{\n-  const gchar *href;\n-  const gchar *type;\n-  const gchar *attr;\n-  gint i;\n-  BookmarkItem *item;\n-\n-  g_warn_if_fail ((parse_data != NULL) && (parse_data->state == STATE_ICON));\n-\n-  i = 0;\n-  href = NULL;\n-  type = NULL;\n-  for (attr = attribute_names[i]; attr != NULL; attr = attribute_names[++i])\n-    {\n-      if (IS_ATTRIBUTE (attr, BOOKMARK_HREF_ATTRIBUTE))\n-        href = attribute_values[i];\n-      else if (IS_ATTRIBUTE (attr, BOOKMARK_TYPE_ATTRIBUTE))\n-        type = attribute_values[i];\n-    }\n-\n-  \/* the \"href\" attribute is mandatory *\/\n-  if (!href)\n-    {\n-      g_set_error (error, G_MARKUP_ERROR,\n-                   G_MARKUP_ERROR_INVALID_CONTENT,\n-                   _(\"Attribute '%s' of element '%s' not found\"),\n-                   BOOKMARK_HREF_ATTRIBUTE,\n-                   BOOKMARK_ICON_ELEMENT);\n-      return;\n-    }\n-\n-  if (!type)\n-    type = \"application\/octet-stream\";\n-\n-  g_warn_if_fail (parse_data->current_item != NULL);\n-  item = parse_data->current_item;\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  g_free (item->metadata->icon_href);\n-  g_free (item->metadata->icon_mime);\n-  item->metadata->icon_href = g_strdup (href);\n-  item->metadata->icon_mime = g_strdup (type);\n-}\n-\n-\/* scans through the attributes of an element for the \"xmlns\" pragma, and\n- * adds any resulting namespace declaration to a per-parser hashtable, using\n- * the namespace name as a key for the namespace URI; if no key was found,\n- * the namespace is considered as default, and stored under the \"default\" key.\n- *\n- * FIXME: this works on the assumption that the generator of the XBEL file\n- * is either this code or is smart enough to place the namespace declarations\n- * inside the main root node or inside the metadata node and does not redefine\n- * a namespace inside an inner node; this does *not* conform to the\n- * XML-NS standard, although is a close approximation.  In order to make this\n- * conformant to the XML-NS specification we should use a per-element\n- * namespace table inside GMarkup and ask it to resolve the namespaces for us.\n- *\/\n-static void\n-map_namespace_to_name (ParseData    *parse_data,\n-                       const gchar **attribute_names,\n-                       const gchar **attribute_values)\n-{\n-  const gchar *attr;\n-  gint i;\n-\n-  g_warn_if_fail (parse_data != NULL);\n-\n-  if (!attribute_names || !attribute_names[0])\n-    return;\n-\n-  i = 0;\n-  for (attr = attribute_names[i]; attr; attr = attribute_names[++i])\n-    {\n-      if (g_str_has_prefix (attr, \"xmlns\"))\n-        {\n-          gchar *namespace_name, *namespace_uri;\n-          gchar *p;\n-\n-          p = g_utf8_strchr (attr, -1, ':');\n-          if (p)\n-            p = g_utf8_next_char (p);\n-          else\n-            p = \"default\";\n-\n-          namespace_name = g_strdup (p);\n-          namespace_uri = g_strdup (attribute_values[i]);\n-\n-          g_hash_table_replace (parse_data->namespaces,\n-                                namespace_name,\n-                                namespace_uri);\n-        }\n-     }\n-}\n-\n-\/* checks whether @element_full is equal to @element.\n- *\n- * if @namespace is set, it tries to resolve the namespace to a known URI,\n- * and if found is prepended to the element name, from which is separated\n- * using the character specified in the @sep parameter.\n- *\/\n-static gboolean\n-is_element_full (ParseData   *parse_data,\n-                 const gchar *element_full,\n-                 const gchar *namespace,\n-                 const gchar *element,\n-                 const gchar  sep)\n-{\n-  gchar *ns_uri, *ns_name;\n-  const gchar *p, *element_name;\n-  gboolean retval;\n-\n-  g_warn_if_fail (parse_data != NULL);\n-  g_warn_if_fail (element_full != NULL);\n-\n-  if (!element)\n-    return FALSE;\n-\n-  \/* no namespace requested: dumb element compare *\/\n-  if (!namespace)\n-    return (0 == strcmp (element_full, element));\n-\n-  \/* search for namespace separator; if none found, assume we are under the\n-   * default namespace, and set ns_name to our \"default\" marker; if no default\n-   * namespace has been set, just do a plain comparison between @full_element\n-   * and @element.\n-   *\/\n-  p = g_utf8_strchr (element_full, -1, ':');\n-  if (p)\n-    {\n-      ns_name = g_strndup (element_full, p - element_full);\n-      element_name = g_utf8_next_char (p);\n-    }\n-  else\n-    {\n-      ns_name = g_strdup (\"default\");\n-      element_name = element_full;\n-    }\n-\n-  ns_uri = g_hash_table_lookup (parse_data->namespaces, ns_name);\n-  if (!ns_uri)\n-    {\n-      \/* no default namespace found *\/\n-      g_free (ns_name);\n-\n-      return (0 == strcmp (element_full, element));\n-    }\n-\n-  retval = (0 == strcmp (ns_uri, namespace) &&\n-            0 == strcmp (element_name, element));\n-\n-  g_free (ns_name);\n-\n-  return retval;\n-}\n-\n-#define IS_ELEMENT(p,s,e)       (is_element_full ((p), (s), NULL, (e), '\\0'))\n-#define IS_ELEMENT_NS(p,s,n,e)  (is_element_full ((p), (s), (n), (e), '|'))\n-\n-static const gchar *\n-parser_state_to_element_name (ParserState state)\n-{\n-  switch (state)\n-    {\n-    case STATE_STARTED:\n-    case STATE_FINISHED:\n-      return \"(top-level)\";\n-    case STATE_ROOT:\n-      return XBEL_ROOT_ELEMENT;\n-    case STATE_BOOKMARK:\n-      return XBEL_BOOKMARK_ELEMENT;\n-    case STATE_TITLE:\n-      return XBEL_TITLE_ELEMENT;\n-    case STATE_DESC:\n-      return XBEL_DESC_ELEMENT;\n-    case STATE_INFO:\n-      return XBEL_INFO_ELEMENT;\n-    case STATE_METADATA:\n-      return XBEL_METADATA_ELEMENT;\n-    case STATE_APPLICATIONS:\n-      return BOOKMARK_APPLICATIONS_ELEMENT;\n-    case STATE_APPLICATION:\n-      return BOOKMARK_APPLICATION_ELEMENT;\n-    case STATE_GROUPS:\n-      return BOOKMARK_GROUPS_ELEMENT;\n-    case STATE_GROUP:\n-      return BOOKMARK_GROUP_ELEMENT;\n-    case STATE_MIME:\n-      return MIME_TYPE_ELEMENT;\n-    case STATE_ICON:\n-      return BOOKMARK_ICON_ELEMENT;\n-    default:\n-      g_assert_not_reached ();\n-    }\n-}\n-\n-static void\n-start_element_raw_cb (GMarkupParseContext *context,\n-                      const gchar         *element_name,\n-                      const gchar        **attribute_names,\n-                      const gchar        **attribute_values,\n-                      gpointer             user_data,\n-                      GError             **error)\n-{\n-  ParseData *parse_data = (ParseData *) user_data;\n-\n-  \/* we must check for namespace declarations first\n-   *\n-   * XXX - we could speed up things by checking for namespace declarations\n-   * only on the root node, where they usually are; this would probably break\n-   * on streams not produced by us or by \"smart\" generators\n-   *\/\n-  map_namespace_to_name (parse_data, attribute_names, attribute_values);\n-\n-  switch (parse_data->state)\n-    {\n-    case STATE_STARTED:\n-      if (IS_ELEMENT (parse_data, element_name, XBEL_ROOT_ELEMENT))\n-        {\n-          const gchar *attr;\n-          gint i;\n-\n-          i = 0;\n-          for (attr = attribute_names[i]; attr; attr = attribute_names[++i])\n-            {\n-              if ((IS_ATTRIBUTE (attr, XBEL_VERSION_ATTRIBUTE)) &&\n-                  (0 == strcmp (attribute_values[i], XBEL_VERSION)))\n-                parse_data->state = STATE_ROOT;\n-            }\n-  }\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_INVALID_CONTENT,\n-                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n-                     element_name, XBEL_ROOT_ELEMENT);\n-      break;\n-    case STATE_ROOT:\n-      if (IS_ELEMENT (parse_data, element_name, XBEL_TITLE_ELEMENT))\n-        parse_data->state = STATE_TITLE;\n-      else if (IS_ELEMENT (parse_data, element_name, XBEL_DESC_ELEMENT))\n-        parse_data->state = STATE_DESC;\n-      else if (IS_ELEMENT (parse_data, element_name, XBEL_BOOKMARK_ELEMENT))\n-        {\n-          GError *inner_error = NULL;\n-\n-          parse_data->state = STATE_BOOKMARK;\n-\n-          parse_bookmark_element (context,\n-                  parse_data,\n-                  attribute_names,\n-                  attribute_values,\n-                  &inner_error);\n-          if (inner_error)\n-            g_propagate_error (error, inner_error);\n-        }\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_INVALID_CONTENT,\n-                     _(\"Unexpected tag '%s' inside '%s'\"),\n-                     element_name,\n-                     XBEL_ROOT_ELEMENT);\n-      break;\n-    case STATE_BOOKMARK:\n-      if (IS_ELEMENT (parse_data, element_name, XBEL_TITLE_ELEMENT))\n-        parse_data->state = STATE_TITLE;\n-      else if (IS_ELEMENT (parse_data, element_name, XBEL_DESC_ELEMENT))\n-        parse_data->state = STATE_DESC;\n-      else if (IS_ELEMENT (parse_data, element_name, XBEL_INFO_ELEMENT))\n-        parse_data->state = STATE_INFO;\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_INVALID_CONTENT,\n-                     _(\"Unexpected tag '%s' inside '%s'\"),\n-                     element_name,\n-                     XBEL_BOOKMARK_ELEMENT);\n-      break;\n-    case STATE_INFO:\n-      if (IS_ELEMENT (parse_data, element_name, XBEL_METADATA_ELEMENT))\n-        {\n-          const gchar *attr;\n-          gint i;\n-\n-          i = 0;\n-          for (attr = attribute_names[i]; attr; attr = attribute_names[++i])\n-            {\n-              if ((IS_ATTRIBUTE (attr, XBEL_OWNER_ATTRIBUTE)) &&\n-                  (0 == strcmp (attribute_values[i], BOOKMARK_METADATA_OWNER)))\n-                {\n-                  parse_data->state = STATE_METADATA;\n-\n-                  if (!parse_data->current_item->metadata)\n-                    parse_data->current_item->metadata = bookmark_metadata_new ();\n-                }\n-            }\n-        }\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_INVALID_CONTENT,\n-                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n-                     element_name,\n-                     XBEL_METADATA_ELEMENT);\n-      break;\n-    case STATE_METADATA:\n-      if (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_APPLICATIONS_ELEMENT))\n-        parse_data->state = STATE_APPLICATIONS;\n-      else if (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_GROUPS_ELEMENT))\n-        parse_data->state = STATE_GROUPS;\n-      else if (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_PRIVATE_ELEMENT))\n-        parse_data->current_item->metadata->is_private = TRUE;\n-      else if (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_ICON_ELEMENT))\n-        {\n-          GError *inner_error = NULL;\n-\n-    parse_data->state = STATE_ICON;\n-\n-          parse_icon_element (context,\n-                              parse_data,\n-                              attribute_names,\n-                              attribute_values,\n-                              &inner_error);\n-          if (inner_error)\n-            g_propagate_error (error, inner_error);\n-        }\n-      else if (IS_ELEMENT_NS (parse_data, element_name, MIME_NAMESPACE_URI, MIME_TYPE_ELEMENT))\n-        {\n-          GError *inner_error = NULL;\n-\n-          parse_data->state = STATE_MIME;\n-\n-          parse_mime_type_element (context,\n-                   parse_data,\n-                   attribute_names,\n-                   attribute_values,\n-                   &inner_error);\n-          if (inner_error)\n-            g_propagate_error (error, inner_error);\n-        }\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_UNKNOWN_ELEMENT,\n-                     _(\"Unexpected tag '%s' inside '%s'\"),\n-                     element_name,\n-                     XBEL_METADATA_ELEMENT);\n-      break;\n-    case STATE_APPLICATIONS:\n-      if (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_APPLICATION_ELEMENT))\n-        {\n-          GError *inner_error = NULL;\n-\n-          parse_data->state = STATE_APPLICATION;\n-\n-          parse_application_element (context,\n-                     parse_data,\n-                     attribute_names,\n-                     attribute_values,\n-                     &inner_error);\n-          if (inner_error)\n-            g_propagate_error (error, inner_error);\n-        }\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_INVALID_CONTENT,\n-                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n-                     element_name,\n-                     BOOKMARK_APPLICATION_ELEMENT);\n-      break;\n-    case STATE_GROUPS:\n-      if (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_GROUP_ELEMENT))\n-        parse_data->state = STATE_GROUP;\n-      else\n-        g_set_error (error, G_MARKUP_ERROR,\n-                     G_MARKUP_ERROR_INVALID_CONTENT,\n-                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n-                     element_name,\n-                     BOOKMARK_GROUP_ELEMENT);\n-      break;\n-\n-    case STATE_TITLE:\n-    case STATE_DESC:\n-    case STATE_APPLICATION:\n-    case STATE_GROUP:\n-    case STATE_MIME:\n-    case STATE_ICON:\n-    case STATE_FINISHED:\n-      g_set_error (error, G_MARKUP_ERROR,\n-                   G_MARKUP_ERROR_INVALID_CONTENT,\n-                   _(\"Unexpected tag '%s' inside '%s'\"),\n-                   element_name,\n-                   parser_state_to_element_name (parse_data->state));\n-      break;\n-\n-    default:\n-      g_assert_not_reached ();\n-      break;\n-    }\n-}\n-\n-static void\n-end_element_raw_cb (GMarkupParseContext *context,\n-                    const gchar         *element_name,\n-                    gpointer             user_data,\n-                    GError             **error)\n-{\n-  ParseData *parse_data = (ParseData *) user_data;\n-\n-  if (IS_ELEMENT (parse_data, element_name, XBEL_ROOT_ELEMENT))\n-    parse_data->state = STATE_FINISHED;\n-  else if (IS_ELEMENT (parse_data, element_name, XBEL_BOOKMARK_ELEMENT))\n-    {\n-      parse_data->current_item = NULL;\n-\n-      parse_data->state = STATE_ROOT;\n-    }\n-  else if ((IS_ELEMENT (parse_data, element_name, XBEL_INFO_ELEMENT)) ||\n-           (IS_ELEMENT (parse_data, element_name, XBEL_TITLE_ELEMENT)) ||\n-           (IS_ELEMENT (parse_data, element_name, XBEL_DESC_ELEMENT)))\n-    {\n-      if (parse_data->current_item)\n-        parse_data->state = STATE_BOOKMARK;\n-      else\n-        parse_data->state = STATE_ROOT;\n-    }\n-  else if (IS_ELEMENT (parse_data, element_name, XBEL_METADATA_ELEMENT))\n-    parse_data->state = STATE_INFO;\n-  else if (IS_ELEMENT_NS (parse_data, element_name,\n-                          BOOKMARK_NAMESPACE_URI,\n-                          BOOKMARK_APPLICATION_ELEMENT))\n-    parse_data->state = STATE_APPLICATIONS;\n-  else if (IS_ELEMENT_NS (parse_data, element_name,\n-                          BOOKMARK_NAMESPACE_URI,\n-                          BOOKMARK_GROUP_ELEMENT))\n-    parse_data->state = STATE_GROUPS;\n-  else if ((IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_APPLICATIONS_ELEMENT)) ||\n-           (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_GROUPS_ELEMENT)) ||\n-           (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_PRIVATE_ELEMENT)) ||\n-           (IS_ELEMENT_NS (parse_data, element_name, BOOKMARK_NAMESPACE_URI, BOOKMARK_ICON_ELEMENT)) ||\n-           (IS_ELEMENT_NS (parse_data, element_name, MIME_NAMESPACE_URI, MIME_TYPE_ELEMENT)))\n-    parse_data->state = STATE_METADATA;\n-}\n-\n-static void\n-text_raw_cb (GMarkupParseContext *context,\n-             const gchar         *text,\n-             gsize                length,\n-             gpointer             user_data,\n-             GError             **error)\n-{\n-  ParseData *parse_data = (ParseData *) user_data;\n-  gchar *payload;\n-\n-  payload = g_strndup (text, length);\n-\n-  switch (parse_data->state)\n-    {\n-    case STATE_TITLE:\n-      if (parse_data->current_item)\n-        {\n-          g_free (parse_data->current_item->title);\n-          parse_data->current_item->title = g_strdup (payload);\n-        }\n-      else\n-        {\n-          g_free (parse_data->bookmark_file->title);\n-          parse_data->bookmark_file->title = g_strdup (payload);\n-        }\n-      break;\n-    case STATE_DESC:\n-      if (parse_data->current_item)\n-        {\n-          g_free (parse_data->current_item->description);\n-          parse_data->current_item->description = g_strdup (payload);\n-        }\n-      else\n-        {\n-          g_free (parse_data->bookmark_file->description);\n-          parse_data->bookmark_file->description = g_strdup (payload);\n-        }\n-      break;\n-    case STATE_GROUP:\n-      {\n-      GList *groups;\n-\n-      g_warn_if_fail (parse_data->current_item != NULL);\n-\n-      if (!parse_data->current_item->metadata)\n-        parse_data->current_item->metadata = bookmark_metadata_new ();\n-\n-      groups = parse_data->current_item->metadata->groups;\n-      parse_data->current_item->metadata->groups = g_list_prepend (groups, g_strdup (payload));\n-      }\n-      break;\n-    case STATE_ROOT:\n-    case STATE_BOOKMARK:\n-    case STATE_INFO:\n-    case STATE_METADATA:\n-    case STATE_APPLICATIONS:\n-    case STATE_APPLICATION:\n-    case STATE_GROUPS:\n-    case STATE_MIME:\n-    case STATE_ICON:\n-      break;\n-    default:\n-      g_warn_if_reached ();\n-      break;\n-    }\n-\n-  g_free (payload);\n-}\n-\n-static const GMarkupParser markup_parser =\n-{\n-  start_element_raw_cb, \/* start_element *\/\n-  end_element_raw_cb,   \/* end_element *\/\n-  text_raw_cb,          \/* text *\/\n-  NULL,                 \/* passthrough *\/\n-  NULL\n-};\n-\n-static gboolean\n-g_bookmark_file_parse (GBookmarkFile  *bookmark,\n-       const gchar  *buffer,\n-       gsize         length,\n-       GError       **error)\n-{\n-  GMarkupParseContext *context;\n-  ParseData *parse_data;\n-  GError *parse_error, *end_error;\n-  gboolean retval;\n-\n-  g_warn_if_fail (bookmark != NULL);\n-\n-  if (!buffer)\n-    return FALSE;\n-\n-  parse_error = NULL;\n-  end_error = NULL;\n-\n-  if (length == (gsize) -1)\n-    length = strlen (buffer);\n-\n-  parse_data = parse_data_new ();\n-  parse_data->bookmark_file = bookmark;\n-\n-  context = g_markup_parse_context_new (&markup_parser,\n-            0,\n-            parse_data,\n-            (GDestroyNotify) parse_data_free);\n-\n-  retval = g_markup_parse_context_parse (context,\n-             buffer,\n-             length,\n-             &parse_error);\n-  if (!retval)\n-    g_propagate_error (error, parse_error);\n-  else\n-   {\n-     retval = g_markup_parse_context_end_parse (context, &end_error);\n-      if (!retval)\n-        g_propagate_error (error, end_error);\n-   }\n-\n-  g_markup_parse_context_free (context);\n-\n-  return retval;\n-}\n-\n-static gchar *\n-g_bookmark_file_dump (GBookmarkFile  *bookmark,\n-          gsize          *length,\n-          GError        **error)\n-{\n-  GString *retval;\n-  gchar *buffer;\n-  GList *l;\n-\n-  retval = g_string_sized_new (4096);\n-\n-  g_string_append (retval,\n-       \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n\"\n-#if 0\n-       \/* XXX - do we really need the doctype? *\/\n-       \"<!DOCTYPE \" XBEL_DTD_NICK \"\\n\"\n-       \"  PUBLIC \\\"\" XBEL_DTD_SYSTEM \"\\\"\\n\"\n-       \"         \\\"\" XBEL_DTD_URI \"\\\">\\n\"\n-#endif\n-       \"<\" XBEL_ROOT_ELEMENT \" \" XBEL_VERSION_ATTRIBUTE \"=\\\"\" XBEL_VERSION \"\\\"\\n\"\n-       \"      xmlns:\" BOOKMARK_NAMESPACE_NAME \"=\\\"\" BOOKMARK_NAMESPACE_URI \"\\\"\\n\"\n-       \"      xmlns:\" MIME_NAMESPACE_NAME     \"=\\\"\" MIME_NAMESPACE_URI \"\\\"\\n>\");\n-\n-  if (bookmark->title)\n-    {\n-      gchar *escaped_title;\n-\n-      escaped_title = g_markup_escape_text (bookmark->title, -1);\n-\n-      buffer = g_strconcat (\"  \"\n-          \"<\" XBEL_TITLE_ELEMENT \">\",\n-          escaped_title,\n-          \"<\/\" XBEL_TITLE_ELEMENT \">\\n\", NULL);\n-\n-      g_string_append (retval, buffer);\n-\n-      g_free (buffer);\n-      g_free (escaped_title);\n-    }\n-\n-  if (bookmark->description)\n-    {\n-      gchar *escaped_desc;\n-\n-      escaped_desc = g_markup_escape_text (bookmark->description, -1);\n-\n-      buffer = g_strconcat (\"  \"\n-          \"<\" XBEL_DESC_ELEMENT \">\",\n-          escaped_desc,\n-          \"<\/\" XBEL_DESC_ELEMENT \">\\n\", NULL);\n-      g_string_append (retval, buffer);\n-\n-      g_free (buffer);\n-      g_free (escaped_desc);\n-    }\n-\n-  if (!bookmark->items)\n-    goto out;\n-  else\n-    retval = g_string_append (retval, \"\\n\");\n-\n-  \/* the items are stored in reverse order *\/\n-  for (l = g_list_last (bookmark->items);\n-       l != NULL;\n-       l = l->prev)\n-    {\n-      BookmarkItem *item = (BookmarkItem *) l->data;\n-      gchar *item_dump;\n-\n-      item_dump = bookmark_item_dump (item);\n-      if (!item_dump)\n-        continue;\n-\n-      retval = g_string_append (retval, item_dump);\n-\n-      g_free (item_dump);\n-    }\n-\n-out:\n-  g_string_append (retval, \"<\/\" XBEL_ROOT_ELEMENT \">\");\n-\n-  if (length)\n-    *length = retval->len;\n-\n-  return g_string_free (retval, FALSE);\n-}\n-\n-\/**************\n- *    Misc    *\n- **************\/\n-\n-static gboolean\n-timestamp_from_iso8601 (const gchar  *iso_date,\n-                        GDateTime   **out_date_time,\n-                        GError      **error)\n-{\n-  GDateTime *dt = g_date_time_new_from_iso8601 (iso_date, NULL);\n-  if (dt == NULL)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR, G_BOOKMARK_FILE_ERROR_READ,\n-                   _(\"Invalid date\/time '%s' in bookmark file\"), iso_date);\n-      return FALSE;\n-    }\n-\n-  *out_date_time = g_steal_pointer (&dt);\n-  return TRUE;\n-}\n-\n-G_DEFINE_QUARK (g-bookmark-file-error-quark, g_bookmark_file_error)\n-\n-\/********************\n- *    Public API    *\n- ********************\/\n-\n-\/**\n- * g_bookmark_file_new: (constructor)\n- *\n- * Creates a new empty #GBookmarkFile object.\n- *\n- * Use g_bookmark_file_load_from_file(), g_bookmark_file_load_from_data()\n- * or g_bookmark_file_load_from_data_dirs() to read an existing bookmark\n- * file.\n- *\n- * Returns: an empty #GBookmarkFile\n- *\n- * Since: 2.12\n- *\/\n-GBookmarkFile *\n-g_bookmark_file_new (void)\n-{\n-  GBookmarkFile *bookmark;\n-\n-  bookmark = g_new (GBookmarkFile, 1);\n-\n-  g_bookmark_file_init (bookmark);\n-\n-  return bookmark;\n-}\n-\n-\/**\n- * g_bookmark_file_free:\n- * @bookmark: a #GBookmarkFile\n- *\n- * Frees a #GBookmarkFile.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_free (GBookmarkFile *bookmark)\n-{\n-  if (!bookmark)\n-    return;\n-\n-  g_bookmark_file_clear (bookmark);\n-\n-  g_free (bookmark);\n-}\n-\n-\/**\n- * g_bookmark_file_load_from_data:\n- * @bookmark: an empty #GBookmarkFile struct\n- * @data: (array length=length) (element-type guint8): desktop bookmarks\n- *    loaded in memory\n- * @length: the length of @data in bytes\n- * @error: return location for a #GError, or %NULL\n- *\n- * Loads a bookmark file from memory into an empty #GBookmarkFile\n- * structure.  If the object cannot be created then @error is set to a\n- * #GBookmarkFileError.\n- *\n- * Returns: %TRUE if a desktop bookmark could be loaded.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_load_from_data (GBookmarkFile  *bookmark,\n-        const gchar    *data,\n-        gsize           length,\n-        GError        **error)\n-{\n-  GError *parse_error;\n-  gboolean retval;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-\n-  if (length == (gsize) -1)\n-    length = strlen (data);\n-\n-  if (bookmark->items)\n-    {\n-      g_bookmark_file_clear (bookmark);\n-      g_bookmark_file_init (bookmark);\n-    }\n-\n-  parse_error = NULL;\n-  retval = g_bookmark_file_parse (bookmark, data, length, &parse_error);\n-\n-  if (!retval)\n-    g_propagate_error (error, parse_error);\n-\n-  return retval;\n-}\n-\n-\/**\n- * g_bookmark_file_load_from_file:\n- * @bookmark: an empty #GBookmarkFile struct\n- * @filename: (type filename): the path of a filename to load, in the\n- *     GLib file name encoding\n- * @error: return location for a #GError, or %NULL\n- *\n- * Loads a desktop bookmark file into an empty #GBookmarkFile structure.\n- * If the file could not be loaded then @error is set to either a #GFileError\n- * or #GBookmarkFileError.\n- *\n- * Returns: %TRUE if a desktop bookmark file could be loaded\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_load_from_file (GBookmarkFile  *bookmark,\n-        const gchar    *filename,\n-        GError        **error)\n-{\n-  gboolean ret = FALSE;\n-  gchar *buffer = NULL;\n-  gsize len;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (filename != NULL, FALSE);\n-\n-  if (!g_file_get_contents (filename, &buffer, &len, error))\n-    goto out;\n-\n-  if (!g_bookmark_file_load_from_data (bookmark, buffer, len, error))\n-    goto out;\n-\n-  ret = TRUE;\n- out:\n-  g_free (buffer);\n-  return ret;\n-}\n-\n-\n-\/* Iterates through all the directories in *dirs trying to\n- * find file.  When it successfully locates file, returns a\n- * string its absolute path.  It also leaves the unchecked\n- * directories in *dirs.  You should free the returned string\n- *\n- * Adapted from gkeyfile.c\n- *\/\n-static gchar *\n-find_file_in_data_dirs (const gchar   *file,\n-                        gchar       ***dirs,\n-                        GError       **error)\n-{\n-  gchar **data_dirs, *data_dir, *path;\n-\n-  path = NULL;\n-\n-  if (dirs == NULL)\n-    return NULL;\n-\n-  data_dirs = *dirs;\n-  path = NULL;\n-  while (data_dirs && (data_dir = *data_dirs) && !path)\n-    {\n-      gchar *candidate_file, *sub_dir;\n-\n-      candidate_file = (gchar *) file;\n-      sub_dir = g_strdup (\"\");\n-      while (candidate_file != NULL && !path)\n-        {\n-          gchar *p;\n-\n-          path = g_build_filename (data_dir, sub_dir,\n-                                   candidate_file, NULL);\n-\n-          candidate_file = strchr (candidate_file, '-');\n-\n-          if (candidate_file == NULL)\n-            break;\n-\n-          candidate_file++;\n-\n-          g_free (sub_dir);\n-          sub_dir = g_strndup (file, candidate_file - file - 1);\n-\n-          for (p = sub_dir; *p != '\\0'; p++)\n-            {\n-              if (*p == '-')\n-                *p = G_DIR_SEPARATOR;\n-            }\n-        }\n-      g_free (sub_dir);\n-      data_dirs++;\n-    }\n-\n-  *dirs = data_dirs;\n-\n-  if (!path)\n-    {\n-      g_set_error_literal (error, G_BOOKMARK_FILE_ERROR,\n-                           G_BOOKMARK_FILE_ERROR_FILE_NOT_FOUND,\n-                           _(\"No valid bookmark file found in data dirs\"));\n-\n-      return NULL;\n-    }\n-\n-  return path;\n-}\n-\n-\n-\/**\n- * g_bookmark_file_load_from_data_dirs:\n- * @bookmark: a #GBookmarkFile\n- * @file: (type filename): a relative path to a filename to open and parse\n- * @full_path: (out) (optional) (type filename): return location for a string\n- *    containing the full path of the file, or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * This function looks for a desktop bookmark file named @file in the\n- * paths returned from g_get_user_data_dir() and g_get_system_data_dirs(),\n- * loads the file into @bookmark and returns the file's full path in\n- * @full_path.  If the file could not be loaded then @error is\n- * set to either a #GFileError or #GBookmarkFileError.\n- *\n- * Returns: %TRUE if a key file could be loaded, %FALSE otherwise\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_load_from_data_dirs (GBookmarkFile  *bookmark,\n-             const gchar    *file,\n-             gchar         **full_path,\n-             GError        **error)\n-{\n-  GError *file_error = NULL;\n-  gchar **all_data_dirs, **data_dirs;\n-  const gchar *user_data_dir;\n-  const gchar * const * system_data_dirs;\n-  gsize i, j;\n-  gchar *output_path;\n-  gboolean found_file;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (!g_path_is_absolute (file), FALSE);\n-\n-  user_data_dir = g_get_user_data_dir ();\n-  system_data_dirs = g_get_system_data_dirs ();\n-  all_data_dirs = g_new0 (gchar *, g_strv_length ((gchar **)system_data_dirs) + 2);\n-\n-  i = 0;\n-  all_data_dirs[i++] = g_strdup (user_data_dir);\n-\n-  j = 0;\n-  while (system_data_dirs[j] != NULL)\n-    all_data_dirs[i++] = g_strdup (system_data_dirs[j++]);\n-\n-  found_file = FALSE;\n-  data_dirs = all_data_dirs;\n-  output_path = NULL;\n-  while (*data_dirs != NULL && !found_file)\n-    {\n-      g_free (output_path);\n-\n-      output_path = find_file_in_data_dirs (file, &data_dirs, &file_error);\n-\n-      if (file_error)\n-        {\n-          g_propagate_error (error, file_error);\n-    break;\n-        }\n-\n-      found_file = g_bookmark_file_load_from_file (bookmark,\n-                     output_path,\n-                     &file_error);\n-      if (file_error)\n-        {\n-    g_propagate_error (error, file_error);\n-    break;\n-        }\n-    }\n-\n-  if (found_file && full_path)\n-    *full_path = output_path;\n-  else\n-    g_free (output_path);\n-\n-  g_strfreev (all_data_dirs);\n-\n-  return found_file;\n-}\n-\n-\n-\/**\n- * g_bookmark_file_to_data:\n- * @bookmark: a #GBookmarkFile\n- * @length: (out) (optional): return location for the length of the returned string, or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * This function outputs @bookmark as a string.\n- *\n- * Returns: (transfer full) (array length=length) (element-type guint8):\n- *   a newly allocated string holding the contents of the #GBookmarkFile\n- *\n- * Since: 2.12\n- *\/\n-gchar *\n-g_bookmark_file_to_data (GBookmarkFile  *bookmark,\n-       gsize          *length,\n-       GError        **error)\n-{\n-  GError *write_error = NULL;\n-  gchar *retval;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-\n-  retval = g_bookmark_file_dump (bookmark, length, &write_error);\n-  if (write_error)\n-    {\n-      g_propagate_error (error, write_error);\n-\n-      return NULL;\n-    }\n-\n-  return retval;\n-}\n-\n-\/**\n- * g_bookmark_file_to_file:\n- * @bookmark: a #GBookmarkFile\n- * @filename: (type filename): path of the output file\n- * @error: return location for a #GError, or %NULL\n- *\n- * This function outputs @bookmark into a file.  The write process is\n- * guaranteed to be atomic by using g_file_set_contents() internally.\n- *\n- * Returns: %TRUE if the file was successfully written.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_to_file (GBookmarkFile  *bookmark,\n-       const gchar    *filename,\n-       GError        **error)\n-{\n-  gchar *data;\n-  GError *data_error, *write_error;\n-  gsize len;\n-  gboolean retval;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (filename != NULL, FALSE);\n-\n-  data_error = NULL;\n-  data = g_bookmark_file_to_data (bookmark, &len, &data_error);\n-  if (data_error)\n-    {\n-      g_propagate_error (error, data_error);\n-\n-      return FALSE;\n-    }\n-\n-  write_error = NULL;\n-  g_file_set_contents (filename, data, len, &write_error);\n-  if (write_error)\n-    {\n-      g_propagate_error (error, write_error);\n-\n-      retval = FALSE;\n-    }\n-  else\n-    retval = TRUE;\n-\n-  g_free (data);\n-\n-  return retval;\n-}\n-\n-static BookmarkItem *\n-g_bookmark_file_lookup_item (GBookmarkFile *bookmark,\n-           const gchar   *uri)\n-{\n-  g_warn_if_fail (bookmark != NULL && uri != NULL);\n-\n-  return g_hash_table_lookup (bookmark->items_by_uri, uri);\n-}\n-\n-\/* this function adds a new item to the list *\/\n-static void\n-g_bookmark_file_add_item (GBookmarkFile  *bookmark,\n-        BookmarkItem   *item,\n-        GError        **error)\n-{\n-  g_warn_if_fail (bookmark != NULL);\n-  g_warn_if_fail (item != NULL);\n-\n-#ifdef GSTREAMER_LITE\n-  if (bookmark == NULL || item == NULL) {\n-    return;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  \/* this should never happen; and if it does, then we are\n-   * screwing up something big time.\n-   *\/\n-  if (G_UNLIKELY (g_bookmark_file_has_item (bookmark, item->uri)))\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_INVALID_URI,\n-                   _(\"A bookmark for URI '%s' already exists\"),\n-                   item->uri);\n-      return;\n-    }\n-\n-  bookmark->items = g_list_prepend (bookmark->items, item);\n-\n-  g_hash_table_replace (bookmark->items_by_uri,\n-      item->uri,\n-      item);\n-\n-  if (item->added == NULL)\n-    item->added = g_date_time_new_now_utc ();\n-\n-  if (item->modified == NULL)\n-    item->modified = g_date_time_new_now_utc ();\n-\n-  if (item->visited == NULL)\n-    item->visited = g_date_time_new_now_utc ();\n-}\n-\n-\/**\n- * g_bookmark_file_remove_item:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Removes the bookmark for @uri from the bookmark file @bookmark.\n- *\n- * Returns: %TRUE if the bookmark was removed successfully.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_remove_item (GBookmarkFile  *bookmark,\n-           const gchar    *uri,\n-           GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  bookmark->items = g_list_remove (bookmark->items, item);\n-  g_hash_table_remove (bookmark->items_by_uri, item->uri);\n-\n-  bookmark_item_free (item);\n-\n-  return TRUE;\n-}\n-\n-\/**\n- * g_bookmark_file_has_item:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- *\n- * Looks whether the desktop bookmark has an item with its URI set to @uri.\n- *\n- * Returns: %TRUE if @uri is inside @bookmark, %FALSE otherwise\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_has_item (GBookmarkFile *bookmark,\n-        const gchar   *uri)\n-{\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-\n-  return (NULL != g_hash_table_lookup (bookmark->items_by_uri, uri));\n-}\n-\n-\/**\n- * g_bookmark_file_get_uris:\n- * @bookmark: a #GBookmarkFile\n- * @length: (out) (optional): return location for the number of returned URIs, or %NULL\n- *\n- * Returns all URIs of the bookmarks in the bookmark file @bookmark.\n- * The array of returned URIs will be %NULL-terminated, so @length may\n- * optionally be %NULL.\n- *\n- * Returns: (array length=length) (transfer full): a newly allocated %NULL-terminated array of strings.\n- *   Use g_strfreev() to free it.\n- *\n- * Since: 2.12\n- *\/\n-gchar **\n-g_bookmark_file_get_uris (GBookmarkFile *bookmark,\n-        gsize         *length)\n-{\n-  GList *l;\n-  gchar **uris;\n-  gsize i, n_items;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-\n-  n_items = g_list_length (bookmark->items);\n-  uris = g_new0 (gchar *, n_items + 1);\n-\n-  \/* the items are stored in reverse order, so we walk the list backward *\/\n-  for (l = g_list_last (bookmark->items), i = 0; l != NULL; l = l->prev)\n-    {\n-      BookmarkItem *item = (BookmarkItem *) l->data;\n-\n-      g_warn_if_fail (item != NULL);\n-\n-      uris[i++] = g_strdup (item->uri);\n-    }\n-  uris[i] = NULL;\n-\n-  if (length)\n-    *length = i;\n-\n-  return uris;\n-}\n-\n-\/**\n- * g_bookmark_file_set_title:\n- * @bookmark: a #GBookmarkFile\n- * @uri: (nullable): a valid URI or %NULL\n- * @title: a UTF-8 encoded string\n- *\n- * Sets @title as the title of the bookmark for @uri inside the\n- * bookmark file @bookmark.\n- *\n- * If @uri is %NULL, the title of @bookmark is set.\n- *\n- * If a bookmark for @uri cannot be found then it is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_set_title (GBookmarkFile *bookmark,\n-         const gchar   *uri,\n-         const gchar   *title)\n-{\n-  g_return_if_fail (bookmark != NULL);\n-\n-  if (!uri)\n-    {\n-      g_free (bookmark->title);\n-      bookmark->title = g_strdup (title);\n-    }\n-  else\n-    {\n-      BookmarkItem *item;\n-\n-      item = g_bookmark_file_lookup_item (bookmark, uri);\n-      if (!item)\n-        {\n-          item = bookmark_item_new (uri);\n-          g_bookmark_file_add_item (bookmark, item, NULL);\n-        }\n-\n-      g_free (item->title);\n-      item->title = g_strdup (title);\n-\n-      bookmark_item_touch_modified (item);\n-    }\n-}\n-\n-\/**\n- * g_bookmark_file_get_title:\n- * @bookmark: a #GBookmarkFile\n- * @uri: (nullable): a valid URI or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * Returns the title of the bookmark for @uri.\n- *\n- * If @uri is %NULL, the title of @bookmark is returned.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: (transfer full): a newly allocated string or %NULL if the specified\n- *   URI cannot be found.\n- *\n- * Since: 2.12\n- *\/\n-gchar *\n-g_bookmark_file_get_title (GBookmarkFile  *bookmark,\n-         const gchar    *uri,\n-         GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-\n-  if (!uri)\n-    return g_strdup (bookmark->title);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  return g_strdup (item->title);\n-}\n-\n-\/**\n- * g_bookmark_file_set_description:\n- * @bookmark: a #GBookmarkFile\n- * @uri: (nullable): a valid URI or %NULL\n- * @description: a string\n- *\n- * Sets @description as the description of the bookmark for @uri.\n- *\n- * If @uri is %NULL, the description of @bookmark is set.\n- *\n- * If a bookmark for @uri cannot be found then it is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_set_description (GBookmarkFile *bookmark,\n-         const gchar   *uri,\n-         const gchar   *description)\n-{\n-  g_return_if_fail (bookmark != NULL);\n-\n-  if (!uri)\n-    {\n-      g_free (bookmark->description);\n-      bookmark->description = g_strdup (description);\n-    }\n-  else\n-    {\n-      BookmarkItem *item;\n-\n-      item = g_bookmark_file_lookup_item (bookmark, uri);\n-      if (!item)\n-        {\n-          item = bookmark_item_new (uri);\n-          g_bookmark_file_add_item (bookmark, item, NULL);\n-        }\n-\n-      g_free (item->description);\n-      item->description = g_strdup (description);\n-\n-      bookmark_item_touch_modified (item);\n-    }\n-}\n-\n-\/**\n- * g_bookmark_file_get_description:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Retrieves the description of the bookmark for @uri.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: (transfer full): a newly allocated string or %NULL if the specified\n- *   URI cannot be found.\n- *\n- * Since: 2.12\n- *\/\n-gchar *\n-g_bookmark_file_get_description (GBookmarkFile  *bookmark,\n-         const gchar    *uri,\n-         GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-\n-  if (!uri)\n-    return g_strdup (bookmark->description);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  return g_strdup (item->description);\n-}\n-\n-\/**\n- * g_bookmark_file_set_mime_type:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @mime_type: a MIME type\n- *\n- * Sets @mime_type as the MIME type of the bookmark for @uri.\n- *\n- * If a bookmark for @uri cannot be found then it is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_set_mime_type (GBookmarkFile *bookmark,\n-             const gchar   *uri,\n-             const gchar   *mime_type)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-  g_return_if_fail (mime_type != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  g_free (item->metadata->mime_type);\n-\n-  item->metadata->mime_type = g_strdup (mime_type);\n-  bookmark_item_touch_modified (item);\n-}\n-\n-\/**\n- * g_bookmark_file_get_mime_type:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Retrieves the MIME type of the resource pointed by @uri.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n- * event that the MIME type cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n- *\n- * Returns: (transfer full): a newly allocated string or %NULL if the specified\n- *   URI cannot be found.\n- *\n- * Since: 2.12\n- *\/\n-gchar *\n-g_bookmark_file_get_mime_type (GBookmarkFile  *bookmark,\n-             const gchar    *uri,\n-             GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-  g_return_val_if_fail (uri != NULL, NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  if (!item->metadata)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n-                   _(\"No MIME type defined in the bookmark for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  return g_strdup (item->metadata->mime_type);\n-}\n-\n-\/**\n- * g_bookmark_file_set_is_private:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @is_private: %TRUE if the bookmark should be marked as private\n- *\n- * Sets the private flag of the bookmark for @uri.\n- *\n- * If a bookmark for @uri cannot be found then it is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_set_is_private (GBookmarkFile *bookmark,\n-        const gchar   *uri,\n-        gboolean       is_private)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  item->metadata->is_private = (is_private == TRUE);\n-  bookmark_item_touch_modified (item);\n-}\n-\n-\/**\n- * g_bookmark_file_get_is_private:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets whether the private flag of the bookmark for @uri is set.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n- * event that the private flag cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n- *\n- * Returns: %TRUE if the private flag is set, %FALSE otherwise.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_get_is_private (GBookmarkFile  *bookmark,\n-        const gchar    *uri,\n-        GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  if (!item->metadata)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n-                   _(\"No private flag has been defined in bookmark for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  return item->metadata->is_private;\n-}\n-\n-\/**\n- * g_bookmark_file_set_added:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @added: a timestamp or -1 to use the current time\n- *\n- * Sets the time the bookmark for @uri was added into @bookmark.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_set_added_date_time() instead, as\n- *    'time_t' is deprecated due to the year 2038 problem.\n- *\/\n-void\n-g_bookmark_file_set_added (GBookmarkFile *bookmark,\n-         const gchar   *uri,\n-         time_t         added)\n-{\n-  GDateTime *added_dt = (added != (time_t) -1) ? g_date_time_new_from_unix_utc (added) : g_date_time_new_now_utc ();\n-  g_bookmark_file_set_added_date_time (bookmark, uri, added_dt);\n-  g_date_time_unref (added_dt);\n-}\n-\n-\/**\n- * g_bookmark_file_set_added_date_time:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @added: a #GDateTime\n- *\n- * Sets the time the bookmark for @uri was added into @bookmark.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * Since: 2.66\n- *\/\n-void\n-g_bookmark_file_set_added_date_time (GBookmarkFile *bookmark,\n-                                     const char    *uri,\n-                                     GDateTime     *added)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-  g_return_if_fail (added != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  g_clear_pointer (&item->added, g_date_time_unref);\n-  item->added = g_date_time_ref (added);\n-  g_clear_pointer (&item->modified, g_date_time_unref);\n-  item->modified = g_date_time_ref (added);\n-}\n-\n-\/**\n- * g_bookmark_file_get_added:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the time the bookmark for @uri was added to @bookmark\n- *\n- * In the event the URI cannot be found, -1 is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: a timestamp\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_get_added_date_time() instead, as\n- *    'time_t' is deprecated due to the year 2038 problem.\n- *\/\n-time_t\n-g_bookmark_file_get_added (GBookmarkFile  *bookmark,\n-                           const gchar    *uri,\n-                           GError        **error)\n-{\n-  GDateTime *added = g_bookmark_file_get_added_date_time (bookmark, uri, error);\n-  return (added != NULL) ? g_date_time_to_unix (added) : (time_t) -1;\n-}\n-\n-\/**\n- * g_bookmark_file_get_added_date_time:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the time the bookmark for @uri was added to @bookmark\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: (transfer none): a #GDateTime\n- *\n- * Since: 2.66\n- *\/\n-GDateTime *\n-g_bookmark_file_get_added_date_time (GBookmarkFile  *bookmark,\n-                                     const char     *uri,\n-                                     GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-  g_return_val_if_fail (uri != NULL, NULL);\n-  g_return_val_if_fail (error == NULL || *error == NULL, NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  return item->added;\n-}\n-\n-\/**\n- * g_bookmark_file_set_modified:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @modified: a timestamp or -1 to use the current time\n- *\n- * Sets the last time the bookmark for @uri was last modified.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * The \"modified\" time should only be set when the bookmark's meta-data\n- * was actually changed.  Every function of #GBookmarkFile that\n- * modifies a bookmark also changes the modification time, except for\n- * g_bookmark_file_set_visited_date_time().\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_set_modified_date_time() instead, as\n- *    'time_t' is deprecated due to the year 2038 problem.\n- *\/\n-void\n-g_bookmark_file_set_modified (GBookmarkFile *bookmark,\n-            const gchar   *uri,\n-            time_t         modified)\n-{\n-  GDateTime *modified_dt = (modified != (time_t) -1) ? g_date_time_new_from_unix_utc (modified) : g_date_time_new_now_utc ();\n-  g_bookmark_file_set_modified_date_time (bookmark, uri, modified_dt);\n-  g_date_time_unref (modified_dt);\n-}\n-\n-\/**\n- * g_bookmark_file_set_modified_date_time:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @modified: a #GDateTime\n- *\n- * Sets the last time the bookmark for @uri was last modified.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * The \"modified\" time should only be set when the bookmark's meta-data\n- * was actually changed.  Every function of #GBookmarkFile that\n- * modifies a bookmark also changes the modification time, except for\n- * g_bookmark_file_set_visited_date_time().\n- *\n- * Since: 2.66\n- *\/\n-void\n-g_bookmark_file_set_modified_date_time (GBookmarkFile *bookmark,\n-                                        const char    *uri,\n-                                        GDateTime     *modified)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-  g_return_if_fail (modified != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  g_clear_pointer (&item->modified, g_date_time_unref);\n-  item->modified = g_date_time_ref (modified);\n-}\n-\n-\/**\n- * g_bookmark_file_get_modified:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the time when the bookmark for @uri was last modified.\n- *\n- * In the event the URI cannot be found, -1 is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: a timestamp\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_get_modified_date_time() instead, as\n- *    'time_t' is deprecated due to the year 2038 problem.\n- *\/\n-time_t\n-g_bookmark_file_get_modified (GBookmarkFile  *bookmark,\n-            const gchar    *uri,\n-            GError        **error)\n-{\n-  GDateTime *modified = g_bookmark_file_get_modified_date_time (bookmark, uri, error);\n-  return (modified != NULL) ? g_date_time_to_unix (modified) : (time_t) -1;\n-}\n-\n-\/**\n- * g_bookmark_file_get_modified_date_time:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the time when the bookmark for @uri was last modified.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: (transfer none): a #GDateTime\n- *\n- * Since: 2.66\n- *\/\n-GDateTime *\n-g_bookmark_file_get_modified_date_time (GBookmarkFile  *bookmark,\n-                                        const char     *uri,\n-                                        GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-  g_return_val_if_fail (uri != NULL, NULL);\n-  g_return_val_if_fail (error == NULL || *error == NULL, NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  return item->modified;\n-}\n-\n-\/**\n- * g_bookmark_file_set_visited:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @visited: a timestamp or -1 to use the current time\n- *\n- * Sets the time the bookmark for @uri was last visited.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * The \"visited\" time should only be set if the bookmark was launched,\n- * either using the command line retrieved by g_bookmark_file_get_application_info()\n- * or by the default application for the bookmark's MIME type, retrieved\n- * using g_bookmark_file_get_mime_type().  Changing the \"visited\" time\n- * does not affect the \"modified\" time.\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_set_visited_date_time() instead, as\n- *    'time_t' is deprecated due to the year 2038 problem.\n- *\/\n-void\n-g_bookmark_file_set_visited (GBookmarkFile *bookmark,\n-           const gchar   *uri,\n-           time_t         visited)\n-{\n-  GDateTime *visited_dt = (visited != (time_t) -1) ? g_date_time_new_from_unix_utc (visited) : g_date_time_new_now_utc ();\n-  g_bookmark_file_set_visited_date_time (bookmark, uri, visited_dt);\n-  g_date_time_unref (visited_dt);\n-}\n-\n-\/**\n- * g_bookmark_file_set_visited_date_time:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @visited: a #GDateTime\n- *\n- * Sets the time the bookmark for @uri was last visited.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * The \"visited\" time should only be set if the bookmark was launched,\n- * either using the command line retrieved by g_bookmark_file_get_application_info()\n- * or by the default application for the bookmark's MIME type, retrieved\n- * using g_bookmark_file_get_mime_type().  Changing the \"visited\" time\n- * does not affect the \"modified\" time.\n- *\n- * Since: 2.66\n- *\/\n-void\n-g_bookmark_file_set_visited_date_time (GBookmarkFile *bookmark,\n-                                       const char    *uri,\n-                                       GDateTime     *visited)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-  g_return_if_fail (visited != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  g_clear_pointer (&item->visited, g_date_time_unref);\n-  item->visited = g_date_time_ref (visited);\n-}\n-\n-\/**\n- * g_bookmark_file_get_visited:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the time the bookmark for @uri was last visited.\n- *\n- * In the event the URI cannot be found, -1 is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: a timestamp.\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_get_visited_date_time() instead, as\n- *    'time_t' is deprecated due to the year 2038 problem.\n- *\/\n-time_t\n-g_bookmark_file_get_visited (GBookmarkFile  *bookmark,\n-           const gchar    *uri,\n-           GError        **error)\n-{\n-  GDateTime *visited = g_bookmark_file_get_visited_date_time (bookmark, uri, error);\n-  return (visited != NULL) ? g_date_time_to_unix (visited) : (time_t) -1;\n-}\n-\n-\/**\n- * g_bookmark_file_get_visited_date_time:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the time the bookmark for @uri was last visited.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: (transfer none): a #GDateTime\n- *\n- * Since: 2.66\n- *\/\n-GDateTime *\n-g_bookmark_file_get_visited_date_time (GBookmarkFile  *bookmark,\n-                                       const char     *uri,\n-                                       GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-  g_return_val_if_fail (uri != NULL, NULL);\n-  g_return_val_if_fail (error == NULL || *error == NULL, NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  return item->visited;\n-}\n-\n-\/**\n- * g_bookmark_file_has_group:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @group: the group name to be searched\n- * @error: return location for a #GError, or %NULL\n- *\n- * Checks whether @group appears in the list of groups to which\n- * the bookmark for @uri belongs to.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: %TRUE if @group was found.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_has_group (GBookmarkFile  *bookmark,\n-         const gchar    *uri,\n-         const gchar    *group,\n-         GError        **error)\n-{\n-  BookmarkItem *item;\n-  GList *l;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  if (!item->metadata)\n-    return FALSE;\n-\n-  for (l = item->metadata->groups; l != NULL; l = l->next)\n-    {\n-      if (strcmp (l->data, group) == 0)\n-        return TRUE;\n-    }\n-\n-  return FALSE;\n-\n-}\n-\n-\/**\n- * g_bookmark_file_add_group:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @group: the group name to be added\n- *\n- * Adds @group to the list of groups to which the bookmark for @uri\n- * belongs to.\n- *\n- * If no bookmark for @uri is found then it is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_add_group (GBookmarkFile *bookmark,\n-         const gchar   *uri,\n-         const gchar   *group)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-  g_return_if_fail (group != NULL && group[0] != '\\0');\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  if (!g_bookmark_file_has_group (bookmark, uri, group, NULL))\n-    {\n-      item->metadata->groups = g_list_prepend (item->metadata->groups,\n-                                               g_strdup (group));\n-\n-      bookmark_item_touch_modified (item);\n-    }\n-}\n-\n-\/**\n- * g_bookmark_file_remove_group:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @group: the group name to be removed\n- * @error: return location for a #GError, or %NULL\n- *\n- * Removes @group from the list of groups to which the bookmark\n- * for @uri belongs to.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- * In the event no group was defined, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n- *\n- * Returns: %TRUE if @group was successfully removed.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_remove_group (GBookmarkFile  *bookmark,\n-            const gchar    *uri,\n-            const gchar    *group,\n-            GError        **error)\n-{\n-  BookmarkItem *item;\n-  GList *l;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  if (!item->metadata)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n-                   _(\"No groups set in bookmark for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  for (l = item->metadata->groups; l != NULL; l = l->next)\n-    {\n-      if (strcmp (l->data, group) == 0)\n-        {\n-          item->metadata->groups = g_list_remove_link (item->metadata->groups, l);\n-          g_free (l->data);\n-    g_list_free_1 (l);\n-\n-          bookmark_item_touch_modified (item);\n-\n-          return TRUE;\n-        }\n-    }\n-\n-  return FALSE;\n-}\n-\n-\/**\n- * g_bookmark_file_set_groups:\n- * @bookmark: a #GBookmarkFile\n- * @uri: an item's URI\n- * @groups: (nullable) (array length=length) (element-type utf8): an array of\n- *    group names, or %NULL to remove all groups\n- * @length: number of group name values in @groups\n- *\n- * Sets a list of group names for the item with URI @uri.  Each previously\n- * set group name list is removed.\n- *\n- * If @uri cannot be found then an item for it is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_set_groups (GBookmarkFile  *bookmark,\n-          const gchar    *uri,\n-          const gchar   **groups,\n-          gsize           length)\n-{\n-  BookmarkItem *item;\n-  gsize i;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-  g_return_if_fail (groups != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  g_list_free_full (item->metadata->groups, g_free);\n-  item->metadata->groups = NULL;\n-\n-  if (groups)\n-    {\n-      for (i = 0; i < length && groups[i] != NULL; i++)\n-        item->metadata->groups = g_list_append (item->metadata->groups,\n-                  g_strdup (groups[i]));\n-    }\n-\n-  bookmark_item_touch_modified (item);\n-}\n-\n-\/**\n- * g_bookmark_file_get_groups:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @length: (out) (optional): return location for the length of the returned string, or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * Retrieves the list of group names of the bookmark for @uri.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * The returned array is %NULL terminated, so @length may optionally\n- * be %NULL.\n- *\n- * Returns: (array length=length) (transfer full): a newly allocated %NULL-terminated array of group names.\n- *   Use g_strfreev() to free it.\n- *\n- * Since: 2.12\n- *\/\n-gchar **\n-g_bookmark_file_get_groups (GBookmarkFile  *bookmark,\n-          const gchar    *uri,\n-          gsize          *length,\n-          GError        **error)\n-{\n-  BookmarkItem *item;\n-  GList *l;\n-  gsize len, i;\n-  gchar **retval;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-  g_return_val_if_fail (uri != NULL, NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  if (!item->metadata)\n-    {\n-      if (length)\n-  *length = 0;\n-\n-      return NULL;\n-    }\n-\n-  len = g_list_length (item->metadata->groups);\n-  retval = g_new0 (gchar *, len + 1);\n-  for (l = g_list_last (item->metadata->groups), i = 0;\n-       l != NULL;\n-       l = l->prev)\n-    {\n-      gchar *group_name = (gchar *) l->data;\n-\n-      g_warn_if_fail (group_name != NULL);\n-\n-      retval[i++] = g_strdup (group_name);\n-    }\n-  retval[i] = NULL;\n-\n-  if (length)\n-    *length = len;\n-\n-  return retval;\n-}\n-\n-\/**\n- * g_bookmark_file_add_application:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: (nullable): the name of the application registering the bookmark\n- *   or %NULL\n- * @exec: (nullable): command line to be used to launch the bookmark or %NULL\n- *\n- * Adds the application with @name and @exec to the list of\n- * applications that have registered a bookmark for @uri into\n- * @bookmark.\n- *\n- * Every bookmark inside a #GBookmarkFile must have at least an\n- * application registered.  Each application must provide a name, a\n- * command line useful for launching the bookmark, the number of times\n- * the bookmark has been registered by the application and the last\n- * time the application registered this bookmark.\n- *\n- * If @name is %NULL, the name of the application will be the\n- * same returned by g_get_application_name(); if @exec is %NULL, the\n- * command line will be a composition of the program name as\n- * returned by g_get_prgname() and the \"\\%u\" modifier, which will be\n- * expanded to the bookmark's URI.\n- *\n- * This function will automatically take care of updating the\n- * registrations count and timestamping in case an application\n- * with the same @name had already registered a bookmark for\n- * @uri inside @bookmark.\n- *\n- * If no bookmark for @uri is found, one is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_add_application (GBookmarkFile *bookmark,\n-         const gchar   *uri,\n-         const gchar   *name,\n-         const gchar   *exec)\n-{\n-  BookmarkItem *item;\n-  gchar *app_name, *app_exec;\n-  GDateTime *stamp;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  if (name && name[0] != '\\0')\n-    app_name = g_strdup (name);\n-  else\n-    app_name = g_strdup (g_get_application_name ());\n-\n-  if (exec && exec[0] != '\\0')\n-    app_exec = g_strdup (exec);\n-  else\n-    app_exec = g_strjoin (\" \", g_get_prgname(), \"%u\", NULL);\n-\n-  stamp = g_date_time_new_now_utc ();\n-\n-  g_bookmark_file_set_application_info (bookmark, uri,\n-                                        app_name,\n-                                        app_exec,\n-                                        -1,\n-                                        stamp,\n-                                        NULL);\n-\n-  g_date_time_unref (stamp);\n-  g_free (app_exec);\n-  g_free (app_name);\n-}\n-\n-\/**\n- * g_bookmark_file_remove_application:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: the name of the application\n- * @error: return location for a #GError or %NULL\n- *\n- * Removes application registered with @name from the list of applications\n- * that have registered a bookmark for @uri inside @bookmark.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- * In the event that no application with name @app_name has registered\n- * a bookmark for @uri,  %FALSE is returned and error is set to\n- * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.\n- *\n- * Returns: %TRUE if the application was successfully removed.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_remove_application (GBookmarkFile  *bookmark,\n-            const gchar    *uri,\n-            const gchar    *name,\n-            GError        **error)\n-{\n-  GError *set_error;\n-  gboolean retval;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-  g_return_val_if_fail (name != NULL, FALSE);\n-\n-  set_error = NULL;\n-  retval = g_bookmark_file_set_application_info (bookmark, uri,\n-                                                 name,\n-                                                 \"\",\n-                                                 0,\n-                                                 NULL,\n-                                                 &set_error);\n-  if (set_error)\n-    {\n-      g_propagate_error (error, set_error);\n-\n-      return FALSE;\n-    }\n-\n-  return retval;\n-}\n-\n-\/**\n- * g_bookmark_file_has_application:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: the name of the application\n- * @error: return location for a #GError or %NULL\n- *\n- * Checks whether the bookmark for @uri inside @bookmark has been\n- * registered by application @name.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: %TRUE if the application @name was found\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_has_application (GBookmarkFile  *bookmark,\n-         const gchar    *uri,\n-         const gchar    *name,\n-         GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-  g_return_val_if_fail (name != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  return (NULL != bookmark_item_lookup_app_info (item, name));\n-}\n-\n-\/**\n- * g_bookmark_file_set_app_info:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: an application's name\n- * @exec: an application's command line\n- * @count: the number of registrations done for this application\n- * @stamp: the time of the last registration for this application\n- * @error: return location for a #GError or %NULL\n- *\n- * Sets the meta-data of application @name inside the list of\n- * applications that have registered a bookmark for @uri inside\n- * @bookmark.\n- *\n- * You should rarely use this function; use g_bookmark_file_add_application()\n- * and g_bookmark_file_remove_application() instead.\n- *\n- * @name can be any UTF-8 encoded string used to identify an\n- * application.\n- * @exec can have one of these two modifiers: \"\\%f\", which will\n- * be expanded as the local file name retrieved from the bookmark's\n- * URI; \"\\%u\", which will be expanded as the bookmark's URI.\n- * The expansion is done automatically when retrieving the stored\n- * command line using the g_bookmark_file_get_application_info() function.\n- * @count is the number of times the application has registered the\n- * bookmark; if is < 0, the current registration count will be increased\n- * by one, if is 0, the application with @name will be removed from\n- * the list of registered applications.\n- * @stamp is the Unix time of the last registration; if it is -1, the\n- * current time will be used.\n- *\n- * If you try to remove an application by setting its registration count to\n- * zero, and no bookmark for @uri is found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND; similarly,\n- * in the event that no application @name has registered a bookmark\n- * for @uri,  %FALSE is returned and error is set to\n- * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.  Otherwise, if no bookmark\n- * for @uri is found, one is created.\n- *\n- * Returns: %TRUE if the application's meta-data was successfully\n- *   changed.\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_set_application_info() instead, as\n- *    `time_t` is deprecated due to the year 2038 problem.\n- *\/\n-gboolean\n-g_bookmark_file_set_app_info (GBookmarkFile  *bookmark,\n-            const gchar    *uri,\n-            const gchar    *name,\n-            const gchar    *exec,\n-            gint            count,\n-            time_t          stamp,\n-            GError        **error)\n-{\n-  GDateTime *stamp_dt = (stamp != (time_t) -1) ? g_date_time_new_from_unix_utc (stamp) : g_date_time_new_now_utc ();\n-  gboolean retval;\n-  retval = g_bookmark_file_set_application_info (bookmark, uri, name, exec, count,\n-                                                 stamp_dt, error);\n-  g_date_time_unref (stamp_dt);\n-  return retval;\n-}\n-\n-\/**\n- * g_bookmark_file_set_application_info:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: an application's name\n- * @exec: an application's command line\n- * @count: the number of registrations done for this application\n- * @stamp: (nullable): the time of the last registration for this application,\n- *    which may be %NULL if @count is 0\n- * @error: return location for a #GError or %NULL\n- *\n- * Sets the meta-data of application @name inside the list of\n- * applications that have registered a bookmark for @uri inside\n- * @bookmark.\n- *\n- * You should rarely use this function; use g_bookmark_file_add_application()\n- * and g_bookmark_file_remove_application() instead.\n- *\n- * @name can be any UTF-8 encoded string used to identify an\n- * application.\n- * @exec can have one of these two modifiers: \"\\%f\", which will\n- * be expanded as the local file name retrieved from the bookmark's\n- * URI; \"\\%u\", which will be expanded as the bookmark's URI.\n- * The expansion is done automatically when retrieving the stored\n- * command line using the g_bookmark_file_get_application_info() function.\n- * @count is the number of times the application has registered the\n- * bookmark; if is < 0, the current registration count will be increased\n- * by one, if is 0, the application with @name will be removed from\n- * the list of registered applications.\n- * @stamp is the Unix time of the last registration.\n- *\n- * If you try to remove an application by setting its registration count to\n- * zero, and no bookmark for @uri is found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND; similarly,\n- * in the event that no application @name has registered a bookmark\n- * for @uri,  %FALSE is returned and error is set to\n- * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.  Otherwise, if no bookmark\n- * for @uri is found, one is created.\n- *\n- * Returns: %TRUE if the application's meta-data was successfully\n- *   changed.\n- *\n- * Since: 2.66\n- *\/\n-gboolean\n-g_bookmark_file_set_application_info (GBookmarkFile  *bookmark,\n-                                      const char     *uri,\n-                                      const char     *name,\n-                                      const char     *exec,\n-                                      int             count,\n-                                      GDateTime      *stamp,\n-                                      GError        **error)\n-{\n-  BookmarkItem *item;\n-  BookmarkAppInfo *ai;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-  g_return_val_if_fail (name != NULL, FALSE);\n-  g_return_val_if_fail (exec != NULL, FALSE);\n-  g_return_val_if_fail (count == 0 || stamp != NULL, FALSE);\n-  g_return_val_if_fail (error == NULL || *error == NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      if (count == 0)\n-        {\n-          g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                       _(\"No bookmark found for URI '%s'\"),\n-                       uri);\n-    return FALSE;\n-  }\n-      else\n-        {\n-          item = bookmark_item_new (uri);\n-    g_bookmark_file_add_item (bookmark, item, NULL);\n-  }\n-    }\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  ai = bookmark_item_lookup_app_info (item, name);\n-  if (!ai)\n-    {\n-      if (count == 0)\n-        {\n-          g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                       G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n-                       _(\"No application with name '%s' registered a bookmark for '%s'\"),\n-                       name,\n-                       uri);\n-          return FALSE;\n-        }\n-      else\n-        {\n-          ai = bookmark_app_info_new (name);\n-#ifdef GSTREAMER_LITE\n-          if (ai == NULL) {\n-            return FALSE;\n-          }\n-#endif \/\/ GSTREAMER_LITE\n-\n-          item->metadata->applications = g_list_prepend (item->metadata->applications, ai);\n-          g_hash_table_replace (item->metadata->apps_by_name, ai->name, ai);\n-        }\n-    }\n-\n-  if (count == 0)\n-    {\n-      item->metadata->applications = g_list_remove (item->metadata->applications, ai);\n-      g_hash_table_remove (item->metadata->apps_by_name, ai->name);\n-      bookmark_app_info_free (ai);\n-\n-      bookmark_item_touch_modified (item);\n-\n-      return TRUE;\n-    }\n-  else if (count > 0)\n-    ai->count = count;\n-  else\n-    ai->count += 1;\n-\n-  g_clear_pointer (&ai->stamp, g_date_time_unref);\n-  ai->stamp = g_date_time_ref (stamp);\n-\n-  if (exec && exec[0] != '\\0')\n-    {\n-      g_free (ai->exec);\n-      ai->exec = g_shell_quote (exec);\n-    }\n-\n-  bookmark_item_touch_modified (item);\n-\n-  return TRUE;\n-}\n-\n-\/* expands the application's command line *\/\n-static gchar *\n-expand_exec_line (const gchar *exec_fmt,\n-      const gchar *uri)\n-{\n-  GString *exec;\n-  gchar ch;\n-\n-  exec = g_string_sized_new (512);\n-  while ((ch = *exec_fmt++) != '\\0')\n-   {\n-     if (ch != '%')\n-       {\n-         exec = g_string_append_c (exec, ch);\n-         continue;\n-       }\n-\n-     ch = *exec_fmt++;\n-     switch (ch)\n-       {\n-       case '\\0':\n-   goto out;\n-       case 'U':\n-       case 'u':\n-         g_string_append (exec, uri);\n-         break;\n-       case 'F':\n-       case 'f':\n-         {\n-     gchar *file = g_filename_from_uri (uri, NULL, NULL);\n-           if (file)\n-             {\n-         g_string_append (exec, file);\n-         g_free (file);\n-             }\n-           else\n-             {\n-               g_string_free (exec, TRUE);\n-               return NULL;\n-             }\n-         }\n-         break;\n-       case '%':\n-       default:\n-         exec = g_string_append_c (exec, ch);\n-         break;\n-       }\n-   }\n-\n- out:\n-  return g_string_free (exec, FALSE);\n-}\n-\n-\/**\n- * g_bookmark_file_get_app_info:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: an application's name\n- * @exec: (out) (optional): return location for the command line of the application, or %NULL\n- * @count: (out) (optional): return location for the registration count, or %NULL\n- * @stamp: (out) (optional): return location for the last registration time, or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the registration information of @app_name for the bookmark for\n- * @uri.  See g_bookmark_file_set_application_info() for more information about\n- * the returned data.\n- *\n- * The string returned in @app_exec must be freed.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n- * event that no application with name @app_name has registered a bookmark\n- * for @uri,  %FALSE is returned and error is set to\n- * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED. In the event that unquoting\n- * the command line fails, an error of the %G_SHELL_ERROR domain is\n- * set and %FALSE is returned.\n- *\n- * Returns: %TRUE on success.\n- *\n- * Since: 2.12\n- * Deprecated: 2.66: Use g_bookmark_file_get_application_info() instead, as\n- *    `time_t` is deprecated due to the year 2038 problem.\n- *\/\n-gboolean\n-g_bookmark_file_get_app_info (GBookmarkFile  *bookmark,\n-            const gchar    *uri,\n-            const gchar    *name,\n-            gchar         **exec,\n-            guint          *count,\n-            time_t         *stamp,\n-            GError        **error)\n-{\n-  GDateTime *stamp_dt = NULL;\n-  gboolean retval;\n-\n-  retval = g_bookmark_file_get_application_info (bookmark, uri, name, exec, count, &stamp_dt, error);\n-  if (!retval)\n-    return FALSE;\n-\n-  if (stamp != NULL)\n-    *stamp = g_date_time_to_unix (stamp_dt);\n-\n-  return TRUE;\n-}\n-\n-\/**\n- * g_bookmark_file_get_application_info:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @name: an application's name\n- * @exec: (out) (optional): return location for the command line of the application, or %NULL\n- * @count: (out) (optional): return location for the registration count, or %NULL\n- * @stamp: (out) (optional) (transfer none): return location for the last registration time, or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * Gets the registration information of @app_name for the bookmark for\n- * @uri.  See g_bookmark_file_set_application_info() for more information about\n- * the returned data.\n- *\n- * The string returned in @app_exec must be freed.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n- * event that no application with name @app_name has registered a bookmark\n- * for @uri,  %FALSE is returned and error is set to\n- * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED. In the event that unquoting\n- * the command line fails, an error of the %G_SHELL_ERROR domain is\n- * set and %FALSE is returned.\n- *\n- * Returns: %TRUE on success.\n- *\n- * Since: 2.66\n- *\/\n-gboolean\n-g_bookmark_file_get_application_info (GBookmarkFile  *bookmark,\n-                                      const char     *uri,\n-                                      const char     *name,\n-                                      char          **exec,\n-                                      unsigned int   *count,\n-                                      GDateTime     **stamp,\n-                                      GError        **error)\n-{\n-  BookmarkItem *item;\n-  BookmarkAppInfo *ai;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-  g_return_val_if_fail (name != NULL, FALSE);\n-  g_return_val_if_fail (error == NULL || *error == NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  ai = bookmark_item_lookup_app_info (item, name);\n-  if (!ai)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n-                   _(\"No application with name '%s' registered a bookmark for '%s'\"),\n-                   name,\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  if (exec)\n-    {\n-      GError *unquote_error = NULL;\n-      gchar *command_line;\n-\n-      command_line = g_shell_unquote (ai->exec, &unquote_error);\n-      if (unquote_error)\n-        {\n-          g_propagate_error (error, unquote_error);\n-          return FALSE;\n-        }\n-\n-      *exec = expand_exec_line (command_line, uri);\n-      if (!*exec)\n-        {\n-          g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                       G_BOOKMARK_FILE_ERROR_INVALID_URI,\n-                       _(\"Failed to expand exec line '%s' with URI '%s'\"),\n-                       ai->exec, uri);\n-          g_free (command_line);\n-\n-          return FALSE;\n-        }\n-      else\n-        g_free (command_line);\n-    }\n-\n-  if (count)\n-    *count = ai->count;\n-\n-  if (stamp)\n-    *stamp = ai->stamp;\n-\n-  return TRUE;\n-}\n-\n-\/**\n- * g_bookmark_file_get_applications:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @length: (out) (optional): return location of the length of the returned list, or %NULL\n- * @error: return location for a #GError, or %NULL\n- *\n- * Retrieves the names of the applications that have registered the\n- * bookmark for @uri.\n- *\n- * In the event the URI cannot be found, %NULL is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: (array length=length) (transfer full): a newly allocated %NULL-terminated array of strings.\n- *   Use g_strfreev() to free it.\n- *\n- * Since: 2.12\n- *\/\n-gchar **\n-g_bookmark_file_get_applications (GBookmarkFile  *bookmark,\n-          const gchar    *uri,\n-          gsize          *length,\n-          GError        **error)\n-{\n-  BookmarkItem *item;\n-  GList *l;\n-  gchar **apps;\n-  gsize i, n_apps;\n-\n-  g_return_val_if_fail (bookmark != NULL, NULL);\n-  g_return_val_if_fail (uri != NULL, NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return NULL;\n-    }\n-\n-  if (!item->metadata)\n-    {\n-      if (length)\n-  *length = 0;\n-\n-      return NULL;\n-    }\n-\n-  n_apps = g_list_length (item->metadata->applications);\n-  apps = g_new0 (gchar *, n_apps + 1);\n-\n-  for (l = g_list_last (item->metadata->applications), i = 0;\n-       l != NULL;\n-       l = l->prev)\n-    {\n-      BookmarkAppInfo *ai;\n-\n-      ai = (BookmarkAppInfo *) l->data;\n-\n-      g_warn_if_fail (ai != NULL);\n-      g_warn_if_fail (ai->name != NULL);\n-\n-      apps[i++] = g_strdup (ai->name);\n-    }\n-  apps[i] = NULL;\n-\n-  if (length)\n-    *length = i;\n-\n-  return apps;\n-}\n-\n-\/**\n- * g_bookmark_file_get_size:\n- * @bookmark: a #GBookmarkFile\n- *\n- * Gets the number of bookmarks inside @bookmark.\n- *\n- * Returns: the number of bookmarks\n- *\n- * Since: 2.12\n- *\/\n-gint\n-g_bookmark_file_get_size (GBookmarkFile *bookmark)\n-{\n-  g_return_val_if_fail (bookmark != NULL, 0);\n-\n-  return g_list_length (bookmark->items);\n-}\n-\n-\/**\n- * g_bookmark_file_move_item:\n- * @bookmark: a #GBookmarkFile\n- * @old_uri: a valid URI\n- * @new_uri: (nullable): a valid URI, or %NULL\n- * @error: return location for a #GError or %NULL\n- *\n- * Changes the URI of a bookmark item from @old_uri to @new_uri.  Any\n- * existing bookmark for @new_uri will be overwritten.  If @new_uri is\n- * %NULL, then the bookmark is removed.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: %TRUE if the URI was successfully changed\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_move_item (GBookmarkFile  *bookmark,\n-         const gchar    *old_uri,\n-         const gchar    *new_uri,\n-         GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (old_uri != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, old_uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   old_uri);\n-      return FALSE;\n-    }\n-\n-  if (new_uri && new_uri[0] != '\\0')\n-    {\n-      if (g_strcmp0 (old_uri, new_uri) == 0)\n-        return TRUE;\n-\n-      if (g_bookmark_file_has_item (bookmark, new_uri))\n-        {\n-          if (!g_bookmark_file_remove_item (bookmark, new_uri, error))\n-            return FALSE;\n-        }\n-\n-      g_hash_table_steal (bookmark->items_by_uri, item->uri);\n-\n-      g_free (item->uri);\n-      item->uri = g_strdup (new_uri);\n-      bookmark_item_touch_modified (item);\n-\n-      g_hash_table_replace (bookmark->items_by_uri, item->uri, item);\n-\n-      return TRUE;\n-    }\n-  else\n-    {\n-      if (!g_bookmark_file_remove_item (bookmark, old_uri, error))\n-        return FALSE;\n-\n-      return TRUE;\n-    }\n-}\n-\n-\/**\n- * g_bookmark_file_set_icon:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @href: (nullable): the URI of the icon for the bookmark, or %NULL\n- * @mime_type: the MIME type of the icon for the bookmark\n- *\n- * Sets the icon for the bookmark for @uri. If @href is %NULL, unsets\n- * the currently set icon. @href can either be a full URL for the icon\n- * file or the icon name following the Icon Naming specification.\n- *\n- * If no bookmark for @uri is found one is created.\n- *\n- * Since: 2.12\n- *\/\n-void\n-g_bookmark_file_set_icon (GBookmarkFile *bookmark,\n-        const gchar   *uri,\n-        const gchar   *href,\n-        const gchar   *mime_type)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_if_fail (bookmark != NULL);\n-  g_return_if_fail (uri != NULL);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      item = bookmark_item_new (uri);\n-      g_bookmark_file_add_item (bookmark, item, NULL);\n-    }\n-\n-  if (!item->metadata)\n-    item->metadata = bookmark_metadata_new ();\n-\n-  g_free (item->metadata->icon_href);\n-  g_free (item->metadata->icon_mime);\n-\n-  item->metadata->icon_href = g_strdup (href);\n-\n-  if (mime_type && mime_type[0] != '\\0')\n-    item->metadata->icon_mime = g_strdup (mime_type);\n-  else\n-    item->metadata->icon_mime = g_strdup (\"application\/octet-stream\");\n-\n-  bookmark_item_touch_modified (item);\n-}\n-\n-\/**\n- * g_bookmark_file_get_icon:\n- * @bookmark: a #GBookmarkFile\n- * @uri: a valid URI\n- * @href: (out) (optional): return location for the icon's location or %NULL\n- * @mime_type: (out) (optional): return location for the icon's MIME type or %NULL\n- * @error: return location for a #GError or %NULL\n- *\n- * Gets the icon of the bookmark for @uri.\n- *\n- * In the event the URI cannot be found, %FALSE is returned and\n- * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n- *\n- * Returns: %TRUE if the icon for the bookmark for the URI was found.\n- *   You should free the returned strings.\n- *\n- * Since: 2.12\n- *\/\n-gboolean\n-g_bookmark_file_get_icon (GBookmarkFile  *bookmark,\n-        const gchar    *uri,\n-        gchar         **href,\n-        gchar         **mime_type,\n-        GError        **error)\n-{\n-  BookmarkItem *item;\n-\n-  g_return_val_if_fail (bookmark != NULL, FALSE);\n-  g_return_val_if_fail (uri != NULL, FALSE);\n-\n-  item = g_bookmark_file_lookup_item (bookmark, uri);\n-  if (!item)\n-    {\n-      g_set_error (error, G_BOOKMARK_FILE_ERROR,\n-                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-                   _(\"No bookmark found for URI '%s'\"),\n-                   uri);\n-      return FALSE;\n-    }\n-\n-  if ((!item->metadata) || (!item->metadata->icon_href))\n-    return FALSE;\n-\n-  if (href)\n-    *href = g_strdup (item->metadata->icon_href);\n-\n-  if (mime_type)\n-    *mime_type = g_strdup (item->metadata->icon_mime);\n-\n-  return TRUE;\n-}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbookmarkfile.c","additions":0,"deletions":4062,"binary":false,"changes":4062,"status":"deleted"},{"patch":"@@ -1,295 +0,0 @@\n-\/* gbookmarkfile.h: parsing and building desktop bookmarks\n- *\n- * Copyright (C) 2005-2006 Emmanuele Bassi\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Lesser General Public\n- * License as published by the Free Software Foundation; either\n- * version 2.1 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Lesser General Public License for more details.\n- *\n- * You should have received a copy of the GNU Lesser General Public License\n- * along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n- *\/\n-\n-#ifndef __G_BOOKMARK_FILE_H__\n-#define __G_BOOKMARK_FILE_H__\n-\n-#if !defined (__GLIB_H_INSIDE__) && !defined (GLIB_COMPILATION)\n-#error \"Only <glib.h> can be included directly.\"\n-#endif\n-\n-#include <glib\/gdatetime.h>\n-#include <glib\/gerror.h>\n-#include <time.h>\n-\n-G_BEGIN_DECLS\n-\n-\/**\n- * G_BOOKMARK_FILE_ERROR:\n- *\n- * Error domain for bookmark file parsing.\n- *\n- * Errors in this domain will be from the #GBookmarkFileError\n- * enumeration. See #GError for information on error domains.\n- *\/\n-#define G_BOOKMARK_FILE_ERROR   (g_bookmark_file_error_quark ())\n-\n-\n-\/**\n- * GBookmarkFileError:\n- * @G_BOOKMARK_FILE_ERROR_INVALID_URI: URI was ill-formed\n- * @G_BOOKMARK_FILE_ERROR_INVALID_VALUE: a requested field was not found\n- * @G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED: a requested application did\n- *     not register a bookmark\n- * @G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND: a requested URI was not found\n- * @G_BOOKMARK_FILE_ERROR_READ: document was ill formed\n- * @G_BOOKMARK_FILE_ERROR_UNKNOWN_ENCODING: the text being parsed was\n- *     in an unknown encoding\n- * @G_BOOKMARK_FILE_ERROR_WRITE: an error occurred while writing\n- * @G_BOOKMARK_FILE_ERROR_FILE_NOT_FOUND: requested file was not found\n- *\n- * Error codes returned by bookmark file parsing.\n- *\/\n-typedef enum\n-{\n-  G_BOOKMARK_FILE_ERROR_INVALID_URI,\n-  G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n-  G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n-  G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-  G_BOOKMARK_FILE_ERROR_READ,\n-  G_BOOKMARK_FILE_ERROR_UNKNOWN_ENCODING,\n-  G_BOOKMARK_FILE_ERROR_WRITE,\n-  G_BOOKMARK_FILE_ERROR_FILE_NOT_FOUND\n-} GBookmarkFileError;\n-\n-GLIB_AVAILABLE_IN_ALL\n-GQuark g_bookmark_file_error_quark (void);\n-\n-\/**\n- * GBookmarkFile:\n- *\n- * An opaque data structure representing a set of bookmarks.\n- *\/\n-typedef struct _GBookmarkFile GBookmarkFile;\n-\n-GLIB_AVAILABLE_IN_ALL\n-GBookmarkFile *g_bookmark_file_new                 (void);\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_free                (GBookmarkFile  *bookmark);\n-\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_load_from_file      (GBookmarkFile  *bookmark,\n-                const gchar    *filename,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_load_from_data      (GBookmarkFile  *bookmark,\n-                const gchar    *data,\n-                gsize           length,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_load_from_data_dirs (GBookmarkFile  *bookmark,\n-                const gchar    *file,\n-                gchar         **full_path,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gchar *        g_bookmark_file_to_data             (GBookmarkFile  *bookmark,\n-                gsize          *length,\n-                GError        **error) G_GNUC_MALLOC;\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_to_file             (GBookmarkFile  *bookmark,\n-                const gchar    *filename,\n-                GError        **error);\n-\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_set_title           (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *title);\n-GLIB_AVAILABLE_IN_ALL\n-gchar *        g_bookmark_file_get_title           (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error) G_GNUC_MALLOC;\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_set_description     (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *description);\n-GLIB_AVAILABLE_IN_ALL\n-gchar *        g_bookmark_file_get_description     (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error) G_GNUC_MALLOC;\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_set_mime_type       (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *mime_type);\n-GLIB_AVAILABLE_IN_ALL\n-gchar *        g_bookmark_file_get_mime_type       (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error) G_GNUC_MALLOC;\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_set_groups          (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar   **groups,\n-                gsize           length);\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_add_group           (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *group);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_has_group           (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *group,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gchar **       g_bookmark_file_get_groups          (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                gsize          *length,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_add_application     (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *name,\n-                const gchar    *exec);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_has_application     (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *name,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gchar **       g_bookmark_file_get_applications    (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                gsize          *length,\n-                GError        **error);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_set_application_info)\n-gboolean       g_bookmark_file_set_app_info        (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *name,\n-                const gchar    *exec,\n-                gint            count,\n-                time_t          stamp,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_2_66\n-gboolean       g_bookmark_file_set_application_info (GBookmarkFile  *bookmark,\n-                                                     const char     *uri,\n-                                                     const char     *name,\n-                                                     const char     *exec,\n-                                                     int             count,\n-                                                     GDateTime      *stamp,\n-                                                     GError        **error);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_get_application_info)\n-gboolean       g_bookmark_file_get_app_info        (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *name,\n-                gchar         **exec,\n-                guint          *count,\n-                time_t         *stamp,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_2_66\n-gboolean       g_bookmark_file_get_application_info (GBookmarkFile  *bookmark,\n-                                                     const char     *uri,\n-                                                     const char     *name,\n-                                                     char          **exec,\n-                                                     unsigned int   *count,\n-                                                     GDateTime     **stamp,\n-                                                     GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_set_is_private      (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                gboolean        is_private);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_get_is_private      (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-void           g_bookmark_file_set_icon            (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *href,\n-                const gchar    *mime_type);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_get_icon            (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                gchar         **href,\n-                gchar         **mime_type,\n-                GError        **error);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_set_added_date_time)\n-void           g_bookmark_file_set_added           (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                time_t          added);\n-GLIB_AVAILABLE_IN_2_66\n-void           g_bookmark_file_set_added_date_time (GBookmarkFile  *bookmark,\n-                                                    const char     *uri,\n-                                                    GDateTime      *added);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_get_added_date_time)\n-time_t         g_bookmark_file_get_added           (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_2_66\n-GDateTime     *g_bookmark_file_get_added_date_time (GBookmarkFile  *bookmark,\n-                                                    const char     *uri,\n-                                                    GError        **error);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_set_modified_date_time)\n-void           g_bookmark_file_set_modified        (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                time_t          modified);\n-GLIB_AVAILABLE_IN_2_66\n-void           g_bookmark_file_set_modified_date_time (GBookmarkFile  *bookmark,\n-                                                       const char     *uri,\n-                                                       GDateTime      *modified);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_get_modified_date_time)\n-time_t         g_bookmark_file_get_modified        (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_2_66\n-GDateTime     *g_bookmark_file_get_modified_date_time (GBookmarkFile  *bookmark,\n-                                                       const char     *uri,\n-                                                       GError        **error);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_set_visited_date_time)\n-void           g_bookmark_file_set_visited         (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                time_t          visited);\n-GLIB_AVAILABLE_IN_2_66\n-void           g_bookmark_file_set_visited_date_time (GBookmarkFile  *bookmark,\n-                                                      const char     *uri,\n-                                                      GDateTime      *visited);\n-GLIB_DEPRECATED_IN_2_66_FOR(g_bookmark_file_get_visited_date_time)\n-time_t         g_bookmark_file_get_visited         (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_2_66\n-GDateTime     *g_bookmark_file_get_visited_date_time (GBookmarkFile  *bookmark,\n-                                                      const char     *uri,\n-                                                      GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_has_item            (GBookmarkFile  *bookmark,\n-                const gchar    *uri);\n-GLIB_AVAILABLE_IN_ALL\n-gint           g_bookmark_file_get_size            (GBookmarkFile  *bookmark);\n-GLIB_AVAILABLE_IN_ALL\n-gchar **       g_bookmark_file_get_uris            (GBookmarkFile  *bookmark,\n-                gsize          *length);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_remove_group        (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *group,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_remove_application  (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                const gchar    *name,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_remove_item         (GBookmarkFile  *bookmark,\n-                const gchar    *uri,\n-                GError        **error);\n-GLIB_AVAILABLE_IN_ALL\n-gboolean       g_bookmark_file_move_item           (GBookmarkFile  *bookmark,\n-                const gchar    *old_uri,\n-                const gchar    *new_uri,\n-                GError        **error);\n-\n-G_END_DECLS\n-\n-#endif \/* __G_BOOKMARK_FILE_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbookmarkfile.h","additions":0,"deletions":295,"binary":false,"changes":295,"status":"deleted"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -109,5 +111,3 @@\n- * After this call, @data belongs to the bytes and may no longer be\n- * modified by the caller.  g_free() will be called on @data when the\n- * bytes is no longer in use. Because of this @data must have been created by\n- * a call to g_malloc(), g_malloc0() or g_realloc() or by one of the many\n- * functions that wrap these calls (such as g_new(), g_strdup(), etc).\n+ * After this call, @data belongs to the #GBytes and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbytes.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbytes.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -189,1 +191,2 @@\n- * and `CHARSET` are queried in order.\n+ * and `CHARSET` are queried in order. nl_langinfo() returns the C locale if\n+ * no locale has been loaded by setlocale().\n@@ -446,1 +449,1 @@\n-  fp = fopen (file,\"r\");\n+  fp = fopen (file, \"re\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gcharset.c","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gcharset.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gcharsetprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gchecksum.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gchecksum.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -96,0 +98,1 @@\n+  int _func ## _wrapper(void);              \\\n@@ -104,0 +107,1 @@\n+  int _func ## _constructor(void);              \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconstructor.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -57,1 +59,0 @@\n-\n@@ -86,1 +87,1 @@\n- * Glib uses UTF-8 for its strings, and GUI toolkits like GTK+ that use\n+ * GLib uses UTF-8 for its strings, and GUI toolkits like GTK that use\n@@ -251,1 +252,1 @@\n- * @inbytes_left: inout parameter, bytes remaining to convert in @inbuf\n+ * @inbytes_left: (inout): inout parameter, bytes remaining to convert in @inbuf\n@@ -253,1 +254,1 @@\n- * @outbytes_left: inout parameter, bytes available to fill in @outbuf\n+ * @outbytes_left: (inout): inout parameter, bytes available to fill in @outbuf\n@@ -684,0 +685,2 @@\n+  g_assert (dest == NULL);\n+\n@@ -1664,0 +1667,5 @@\n+ * Since GLib 2.78, the query string and fragment can be present in the URI,\n+ * but are not part of the resulting filename.\n+ * We take inspiration from https:\/\/url.spec.whatwg.org\/#file-state,\n+ * but we don't support the entire standard.\n+ *\n@@ -1672,1 +1680,1 @@\n-  const char *path_part;\n+  const char *past_scheme;\n@@ -1677,0 +1685,2 @@\n+  char *past_path;\n+  char *temp_uri;\n@@ -1693,1 +1703,1 @@\n-  path_part = uri + strlen (\"file:\");\n+  temp_uri = g_strdup (uri);\n@@ -1695,7 +1705,5 @@\n-  if (strchr (path_part, '#') != NULL)\n-    {\n-      g_set_error (error, G_CONVERT_ERROR, G_CONVERT_ERROR_BAD_URI,\n-       _(\"The local file URI '%s' may not include a '#'\"),\n-       uri);\n-      return NULL;\n-    }\n+  past_scheme = temp_uri + strlen (\"file:\");\n+\n+  past_path = strchr (past_scheme, '?');\n+  if (past_path != NULL)\n+    *past_path = '\\0';\n@@ -1703,3 +1711,7 @@\n-  if (has_case_prefix (path_part, \"\/\/\/\"))\n-    path_part += 2;\n-  else if (has_case_prefix (path_part, \"\/\/\"))\n+  past_path = strchr (past_scheme, '#');\n+  if (past_path != NULL)\n+    *past_path = '\\0';\n+\n+  if (has_case_prefix (past_scheme, \"\/\/\/\"))\n+    past_scheme += 2;\n+  else if (has_case_prefix (past_scheme, \"\/\/\"))\n@@ -1707,2 +1719,2 @@\n-      path_part += 2;\n-      host_part = path_part;\n+      past_scheme += 2;\n+      host_part = past_scheme;\n@@ -1710,1 +1722,1 @@\n-      path_part = strchr (path_part, '\/');\n+      past_scheme = strchr (past_scheme, '\/');\n@@ -1712,7 +1724,8 @@\n-      if (path_part == NULL)\n-  {\n-    g_set_error (error, G_CONVERT_ERROR, G_CONVERT_ERROR_BAD_URI,\n-           _(\"The URI '%s' is invalid\"),\n-           uri);\n-    return NULL;\n-  }\n+      if (past_scheme == NULL)\n+       {\n+          g_free (temp_uri);\n+          g_set_error (error, G_CONVERT_ERROR, G_CONVERT_ERROR_BAD_URI,\n+             _(\"The URI '%s' is invalid\"),\n+             uri);\n+          return NULL;\n+        }\n@@ -1720,1 +1733,1 @@\n-      unescaped_hostname = g_unescape_uri_string (host_part, path_part - host_part, \"\", TRUE);\n+      unescaped_hostname = g_unescape_uri_string (host_part, past_scheme - host_part, \"\", TRUE);\n@@ -1726,0 +1739,1 @@\n+    g_free (temp_uri);\n@@ -1738,1 +1752,1 @@\n-  filename = g_unescape_uri_string (path_part, -1, \"\/\", FALSE);\n+  filename = g_unescape_uri_string (past_scheme, -1, \"\/\", FALSE);\n@@ -1742,0 +1756,1 @@\n+      g_free (temp_uri);\n@@ -1785,0 +1800,2 @@\n+  g_free (temp_uri);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconvert.c","additions":45,"deletions":28,"binary":false,"changes":73,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconvert.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconvertprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -47,0 +49,1 @@\n+#include \"galloca.h\"\n@@ -144,4 +147,4 @@\n-#define G_DATALIST_SET_POINTER(datalist, pointer)       G_STMT_START {                  \\\n-  gpointer _oldv, _newv;                                                                \\\n-  do {                                                                                  \\\n-    _oldv = g_atomic_pointer_get (datalist);                                            \\\n+#define G_DATALIST_SET_POINTER(datalist, pointer)       G_STMT_START {                           \\\n+  gpointer _oldv = g_atomic_pointer_get (datalist);                                              \\\n+  gpointer _newv;                                                                                \\\n+  do {                                                                                           \\\n@@ -149,1 +152,2 @@\n-  } while (!g_atomic_pointer_compare_and_exchange ((void**) datalist, _oldv, _newv));   \\\n+  } while (!g_atomic_pointer_compare_and_exchange_full ((void**) datalist, _oldv,                \\\n+                                                        _newv, &_oldv));                         \\\n@@ -488,0 +492,89 @@\n+static inline void\n+g_data_remove_internal (GData  **datalist,\n+                        GQuark  *keys,\n+                        gsize    n_keys)\n+{\n+  GData *d;\n+\n+  g_datalist_lock (datalist);\n+\n+  d = G_DATALIST_GET_POINTER (datalist);\n+\n+  if (d)\n+    {\n+      GDataElt *old, *data, *data_end;\n+      gsize found_keys;\n+\n+      \/* Allocate an array of GDataElt to hold copies of the elements\n+       * that are removed from the datalist. Allow enough space for all\n+       * the keys; if a key is not found, the corresponding element of\n+       * old is not populated, so we initialize them all to NULL to\n+       * detect that case. *\/\n+      old = g_newa0 (GDataElt, n_keys);\n+\n+      data = d->data;\n+      data_end = data + d->len;\n+      found_keys = 0;\n+\n+      while (data < data_end && found_keys < n_keys)\n+        {\n+          gboolean remove = FALSE;\n+\n+          for (gsize i = 0; i < n_keys; i++)\n+            {\n+              if (data->key == keys[i])\n+                {\n+                  old[i] = *data;\n+                  remove = TRUE;\n+                  break;\n+                }\n+            }\n+\n+          if (remove)\n+            {\n+              GDataElt *data_last = data_end - 1;\n+\n+              found_keys++;\n+\n+              if (data < data_last)\n+                *data = *data_last;\n+\n+              data_end--;\n+              d->len--;\n+\n+              \/* We don't bother to shrink, but if all data are now gone\n+               * we at least free the memory\n+               *\/\n+              if (d->len == 0)\n+                {\n+                  G_DATALIST_SET_POINTER (datalist, NULL);\n+                  g_free (d);\n+                  break;\n+                }\n+            }\n+          else\n+            {\n+              data++;\n+            }\n+        }\n+\n+      if (found_keys > 0)\n+        {\n+          g_datalist_unlock (datalist);\n+\n+          for (gsize i = 0; i < n_keys; i++)\n+            {\n+              \/* If keys[i] was not found, then old[i].destroy is NULL.\n+               * Call old[i].destroy() only if keys[i] was found, and\n+               * is associated with a destroy notifier: *\/\n+              if (old[i].destroy)\n+                old[i].destroy (old[i].data);\n+            }\n+\n+          return;\n+        }\n+    }\n+\n+  g_datalist_unlock (datalist);\n+}\n+\n@@ -679,0 +772,23 @@\n+\/**\n+ * g_datalist_id_remove_multiple:\n+ * @datalist: a datalist\n+ * @keys: (array length=n_keys): keys to remove\n+ * @n_keys: length of @keys, must be <= 16\n+ *\n+ * Removes multiple keys from a datalist.\n+ *\n+ * This is more efficient than calling g_datalist_id_remove_data()\n+ * multiple times in a row.\n+ *\n+ * Since: 2.74\n+ *\/\n+void\n+g_datalist_id_remove_multiple (GData  **datalist,\n+                               GQuark  *keys,\n+                               gsize    n_keys)\n+{\n+  g_return_if_fail (n_keys <= 16);\n+\n+  g_data_remove_internal (datalist, keys, n_keys);\n+}\n+\n@@ -828,2 +944,3 @@\n- * @dup_func: (nullable) (scope call): function to duplicate the old value\n- * @user_data: (closure): passed as user_data to @dup_func\n+ * @dup_func: (scope call) (closure user_data) (nullable): function to\n+ *   duplicate the old value\n+ * @user_data: passed as user_data to @dup_func\n@@ -1069,2 +1186,2 @@\n- * @func: (scope call): the function to call for each data element.\n- * @user_data: (closure): user data to pass to the function.\n+ * @func: (scope call) (closure user_data): the function to call for each data element.\n+ * @user_data: user data to pass to the function.\n@@ -1108,2 +1225,2 @@\n- * @func: (scope call): the function to call for each data element.\n- * @user_data: (closure): user data to pass to the function.\n+ * @func: (scope call) (closure user_data): the function to call for each data element.\n+ * @user_data: user data to pass to the function.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdataset.c","additions":128,"deletions":11,"binary":false,"changes":139,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -56,0 +58,4 @@\n+GLIB_AVAILABLE_IN_2_74\n+void     g_datalist_id_remove_multiple  (GData            **datalist,\n+                                         GQuark            *keys,\n+                                         gsize              n_keys);\n@@ -120,1 +126,1 @@\n-            const gchar *key);\n+                                          const gchar *key);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdataset.h","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdatasetprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -54,0 +56,1 @@\n+#include \"gutilsprivate.h\"\n@@ -1404,0 +1407,27 @@\n+gboolean\n+_g_localtime (time_t timet, struct tm *out_tm)\n+{\n+  gboolean success = TRUE;\n+\n+#ifdef HAVE_LOCALTIME_R\n+  if (!localtime_r (&timet, out_tm))\n+    success = FALSE;\n+#else\n+  {\n+    struct tm *ptm = localtime (&timet);\n+\n+    if (ptm == NULL)\n+      {\n+        \/* Happens at least in Microsoft's C library if you pass a\n+         * negative time_t.\n+         *\/\n+        success = FALSE;\n+      }\n+    else\n+      memcpy (out_tm, ptm, sizeof (struct tm));\n+  }\n+#endif\n+\n+  return success;\n+}\n+\n@@ -1428,0 +1458,1 @@\n+  gboolean success;\n@@ -1431,23 +1462,10 @@\n-#ifdef HAVE_LOCALTIME_R\n-  localtime_r (&timet, &tm);\n-#else\n-  {\n-    struct tm *ptm = localtime (&timet);\n-\n-    if (ptm == NULL)\n-      {\n-  \/* Happens at least in Microsoft's C library if you pass a\n-   * negative time_t. Use 2000-01-01 as default date.\n-   *\/\n-#ifndef G_DISABLE_CHECKS\n-  g_return_if_fail_warning (G_LOG_DOMAIN, \"g_date_set_time\", \"ptm != NULL\");\n-#endif\n-\n-  tm.tm_mon = 0;\n-  tm.tm_mday = 1;\n-  tm.tm_year = 100;\n-      }\n-    else\n-      memcpy ((void *) &tm, (void *) ptm, sizeof(struct tm));\n-  }\n-#endif\n+  success = _g_localtime (timet, &tm);\n+  if (!success)\n+    {\n+      \/* Still set a default date, 2000-01-01.\n+       *\n+       * We may assert out below. *\/\n+      tm.tm_mon = 0;\n+      tm.tm_mday = 1;\n+      tm.tm_year = 100;\n+    }\n@@ -1464,0 +1482,5 @@\n+\n+#ifndef G_DISABLE_CHECKS\n+  if (!success)\n+    g_return_if_fail_warning (G_LOG_DOMAIN, \"g_date_set_time\", \"localtime() == NULL\");\n+#endif\n@@ -2559,3 +2582,1 @@\n-        if (n == TIME_ZONE_ID_UNKNOWN)\n-    ;\n-        else if (n == TIME_ZONE_ID_STANDARD)\n+        if (n == TIME_ZONE_ID_UNKNOWN || n == TIME_ZONE_ID_STANDARD)\n@@ -2741,0 +2762,2 @@\n+      g_assert (convbuf == NULL);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdate.c","additions":49,"deletions":26,"binary":false,"changes":75,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -171,1 +173,1 @@\n- * corrsponding day\n+ * corresponding day\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdate.h","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -9,0 +9,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -960,0 +962,2 @@\n+  g_return_val_if_fail (tz != NULL, NULL);\n+\n@@ -2287,1 +2291,1 @@\n-  const guint16 *days;\n+  guint          is_leap;\n@@ -2292,1 +2296,1 @@\n-  days = days_in_year[GREGORIAN_LEAP (g_date_time_get_year (datetime)) ? 1 : 0];\n+  is_leap = GREGORIAN_LEAP (g_date_time_get_year (datetime)) ? 1 : 0;\n@@ -2297,1 +2301,1 @@\n-      if (days [i] >= day_of_year)\n+      if (days_in_year[is_leap][i] >= day_of_year)\n@@ -2299,1 +2303,1 @@\n-      last = days [i];\n+      last = days_in_year[is_leap][i];\n@@ -3149,1 +3153,1 @@\n-    format_number (outstr, alt_digits, pad_set ? pad : \" \", 2,\n+    format_number (outstr, alt_digits, pad_set ? pad : \"\\u2007\", 2,\n@@ -3197,1 +3201,1 @@\n-    format_number (outstr, alt_digits, pad_set ? pad : \" \", 2,\n+    format_number (outstr, alt_digits, pad_set ? pad : \"\\u2007\", 2,\n@@ -3201,1 +3205,1 @@\n-    format_number (outstr, alt_digits, pad_set ? pad : \" \", 2,\n+    format_number (outstr, alt_digits, pad_set ? pad : \"\\u2007\", 2,\n@@ -3344,4 +3348,4 @@\n- * strftime() format language as specified by C99.  The \\%D, \\%U and \\%W\n- * conversions are not supported, nor is the 'E' modifier.  The GNU\n- * extensions \\%k, \\%l, \\%s and \\%P are supported, however, as are the\n- * '0', '_' and '-' modifiers. The Python extension \\%f is also supported.\n+ * `strftime()` format language as specified by C99.  The `%D`, `%U` and `%W`\n+ * conversions are not supported, nor is the `E` modifier.  The GNU\n+ * extensions `%k`, `%l`, `%s` and `%P` are supported, however, as are the\n+ * `0`, `_` and `-` modifiers. The Python extension `%f` is also supported.\n@@ -3349,1 +3353,1 @@\n- * In contrast to strftime(), this function always produces a UTF-8\n+ * In contrast to `strftime()`, this function always produces a UTF-8\n@@ -3351,1 +3355,1 @@\n- * many formats is locale-dependent and may not match the strftime()\n+ * many formats is locale-dependent and may not match the `strftime()`\n@@ -3356,25 +3360,26 @@\n- * - \\%a: the abbreviated weekday name according to the current locale\n- * - \\%A: the full weekday name according to the current locale\n- * - \\%b: the abbreviated month name according to the current locale\n- * - \\%B: the full month name according to the current locale\n- * - \\%c: the preferred date and time representation for the current locale\n- * - \\%C: the century number (year\/100) as a 2-digit integer (00-99)\n- * - \\%d: the day of the month as a decimal number (range 01 to 31)\n- * - \\%e: the day of the month as a decimal number (range  1 to 31)\n- * - \\%F: equivalent to `%Y-%m-%d` (the ISO 8601 date format)\n- * - \\%g: the last two digits of the ISO 8601 week-based year as a\n- *   decimal number (00-99). This works well with \\%V and \\%u.\n- * - \\%G: the ISO 8601 week-based year as a decimal number. This works\n- *   well with \\%V and \\%u.\n- * - \\%h: equivalent to \\%b\n- * - \\%H: the hour as a decimal number using a 24-hour clock (range 00 to 23)\n- * - \\%I: the hour as a decimal number using a 12-hour clock (range 01 to 12)\n- * - \\%j: the day of the year as a decimal number (range 001 to 366)\n- * - \\%k: the hour (24-hour clock) as a decimal number (range 0 to 23);\n- *   single digits are preceded by a blank\n- * - \\%l: the hour (12-hour clock) as a decimal number (range 1 to 12);\n- *   single digits are preceded by a blank\n- * - \\%m: the month as a decimal number (range 01 to 12)\n- * - \\%M: the minute as a decimal number (range 00 to 59)\n- * - \\%f: the microsecond as a decimal number (range 000000 to 999999)\n- * - \\%p: either \"AM\" or \"PM\" according to the given time value, or the\n+ * - `%a`: the abbreviated weekday name according to the current locale\n+ * - `%A`: the full weekday name according to the current locale\n+ * - `%b`: the abbreviated month name according to the current locale\n+ * - `%B`: the full month name according to the current locale\n+ * - `%c`: the preferred date and time representation for the current locale\n+ * - `%C`: the century number (year\/100) as a 2-digit integer (00-99)\n+ * - `%d`: the day of the month as a decimal number (range 01 to 31)\n+ * - `%e`: the day of the month as a decimal number (range 1 to 31);\n+ *   single digits are preceded by a figure space (U+2007)\n+ * - `%F`: equivalent to `%Y-%m-%d` (the ISO 8601 date format)\n+ * - `%g`: the last two digits of the ISO 8601 week-based year as a\n+ *   decimal number (00-99). This works well with `%V` and `%u`.\n+ * - `%G`: the ISO 8601 week-based year as a decimal number. This works\n+ *   well with `%V` and `%u`.\n+ * - `%h`: equivalent to `%b`\n+ * - `%H`: the hour as a decimal number using a 24-hour clock (range 00 to 23)\n+ * - `%I`: the hour as a decimal number using a 12-hour clock (range 01 to 12)\n+ * - `%j`: the day of the year as a decimal number (range 001 to 366)\n+ * - `%k`: the hour (24-hour clock) as a decimal number (range 0 to 23);\n+ *   single digits are preceded by a figure space (U+2007)\n+ * - `%l`: the hour (12-hour clock) as a decimal number (range 1 to 12);\n+ *   single digits are preceded by a figure space (U+2007)\n+ * - `%m`: the month as a decimal number (range 01 to 12)\n+ * - `%M`: the minute as a decimal number (range 00 to 59)\n+ * - `%f`: the microsecond as a decimal number (range 000000 to 999999)\n+ * - `%p`: either ‘AM’ or ‘PM’ according to the given time value, or the\n@@ -3382,3 +3387,3 @@\n- *   \"PM\" and midnight as \"AM\". Use of this format specifier is discouraged, as\n- *   many locales have no concept of AM\/PM formatting. Use \\%c or \\%X instead.\n- * - \\%P: like \\%p but lowercase: \"am\" or \"pm\" or a corresponding string for\n+ *   ‘PM’ and midnight as ‘AM’. Use of this format specifier is discouraged, as\n+ *   many locales have no concept of AM\/PM formatting. Use `%c` or `%X` instead.\n+ * - `%P`: like `%p` but lowercase: ‘am’ or ‘pm’ or a corresponding string for\n@@ -3386,6 +3391,6 @@\n- *   many locales have no concept of AM\/PM formatting. Use \\%c or \\%X instead.\n- * - \\%r: the time in a.m. or p.m. notation. Use of this format specifier is\n- *   discouraged, as many locales have no concept of AM\/PM formatting. Use \\%c\n- *   or \\%X instead.\n- * - \\%R: the time in 24-hour notation (\\%H:\\%M)\n- * - \\%s: the number of seconds since the Epoch, that is, since 1970-01-01\n+ *   many locales have no concept of AM\/PM formatting. Use `%c` or `%X` instead.\n+ * - `%r`: the time in a.m. or p.m. notation. Use of this format specifier is\n+ *   discouraged, as many locales have no concept of AM\/PM formatting. Use `%c`\n+ *   or `%X` instead.\n+ * - `%R`: the time in 24-hour notation (`%H:%M`)\n+ * - `%s`: the number of seconds since the Epoch, that is, since 1970-01-01\n@@ -3393,6 +3398,6 @@\n- * - \\%S: the second as a decimal number (range 00 to 60)\n- * - \\%t: a tab character\n- * - \\%T: the time in 24-hour notation with seconds (\\%H:\\%M:\\%S)\n- * - \\%u: the ISO 8601 standard day of the week as a decimal, range 1 to 7,\n- *    Monday being 1. This works well with \\%G and \\%V.\n- * - \\%V: the ISO 8601 standard week number of the current year as a decimal\n+ * - `%S`: the second as a decimal number (range 00 to 60)\n+ * - `%t`: a tab character\n+ * - `%T`: the time in 24-hour notation with seconds (`%H:%M:%S`)\n+ * - `%u`: the ISO 8601 standard day of the week as a decimal, range 1 to 7,\n+ *    Monday being 1. This works well with `%G` and `%V`.\n+ * - `%V`: the ISO 8601 standard week number of the current year as a decimal\n@@ -3401,4 +3406,4 @@\n- *   This works well with \\%G and \\%u.\n- * - \\%w: the day of the week as a decimal, range 0 to 6, Sunday being 0.\n- *   This is not the ISO 8601 standard format -- use \\%u instead.\n- * - \\%x: the preferred date representation for the current locale without\n+ *   This works well with `%G` and `%u`.\n+ * - `%w`: the day of the week as a decimal, range 0 to 6, Sunday being 0.\n+ *   This is not the ISO 8601 standard format — use `%u` instead.\n+ * - `%x`: the preferred date representation for the current locale without\n@@ -3406,1 +3411,1 @@\n- * - \\%X: the preferred time representation for the current locale without\n+ * - `%X`: the preferred time representation for the current locale without\n@@ -3408,11 +3413,11 @@\n- * - \\%y: the year as a decimal number without the century\n- * - \\%Y: the year as a decimal number including the century\n- * - \\%z: the time zone as an offset from UTC (+hhmm)\n- * - \\%:z: the time zone as an offset from UTC (+hh:mm).\n- *   This is a gnulib strftime() extension. Since: 2.38\n- * - \\%::z: the time zone as an offset from UTC (+hh:mm:ss). This is a\n- *   gnulib strftime() extension. Since: 2.38\n- * - \\%:::z: the time zone as an offset from UTC, with : to necessary\n- *   precision (e.g., -04, +05:30). This is a gnulib strftime() extension. Since: 2.38\n- * - \\%Z: the time zone or name or abbreviation\n- * - \\%\\%: a literal \\% character\n+ * - `%y`: the year as a decimal number without the century\n+ * - `%Y`: the year as a decimal number including the century\n+ * - `%z`: the time zone as an offset from UTC (`+hhmm`)\n+ * - `%:z`: the time zone as an offset from UTC (`+hh:mm`).\n+ *   This is a gnulib `strftime()` extension. Since: 2.38\n+ * - `%::z`: the time zone as an offset from UTC (`+hh:mm:ss`). This is a\n+ *   gnulib `strftime()` extension. Since: 2.38\n+ * - `%:::z`: the time zone as an offset from UTC, with `:` to necessary\n+ *   precision (e.g., `-04`, `+05:30`). This is a gnulib `strftime()` extension. Since: 2.38\n+ * - `%Z`: the time zone or name or abbreviation\n+ * - `%%`: a literal `%` character\n@@ -3425,2 +3430,2 @@\n- * - O: Use alternative numeric symbols, if the current locale supports those.\n- * - _: Pad a numeric result with spaces. This overrides the default padding\n+ * - `O`: Use alternative numeric symbols, if the current locale supports those.\n+ * - `_`: Pad a numeric result with spaces. This overrides the default padding\n@@ -3428,1 +3433,1 @@\n- * - -: Do not pad a numeric result. This overrides the default padding\n+ * - `-`: Do not pad a numeric result. This overrides the default padding\n@@ -3430,1 +3435,1 @@\n- * - 0: Pad a numeric result with zeros. This overrides the default padding\n+ * - `0`: Pad a numeric result with zeros. This overrides the default padding\n@@ -3433,1 +3438,1 @@\n- * Additionally, when O is used with B, b, or h, it produces the alternative\n+ * Additionally, when `O` is used with `B`, `b`, or `h`, it produces the alternative\n@@ -3437,3 +3442,3 @@\n- * rules. For other languages there is no difference. \\%OB is a GNU and BSD\n- * strftime() extension expected to be added to the future POSIX specification,\n- * \\%Ob and \\%Oh are GNU strftime() extensions. Since: 2.56\n+ * rules. For other languages there is no difference. `%OB` is a GNU and BSD\n+ * `strftime()` extension expected to be added to the future POSIX specification,\n+ * `%Ob` and `%Oh` are GNU `strftime()` extensions. Since: 2.56\n@@ -3500,1 +3505,3 @@\n-  gchar *format = \"%Y-%m-%dT%H:%M:%S\";\n+  gchar *format = \"%C%y-%m-%dT%H:%M:%S\";\n+\n+  g_return_val_if_fail (datetime != NULL, NULL);\n@@ -3505,1 +3512,1 @@\n-    format = \"%Y-%m-%dT%H:%M:%S.%f\";\n+    format = \"%C%y-%m-%dT%H:%M:%S.%f\";\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdatetime.c","additions":86,"deletions":79,"binary":false,"changes":165,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdatetime.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -9,0 +9,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdir.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -8,0 +8,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdir.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/genviron.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/genviron.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -54,1 +56,1 @@\n- * functions in GLib and GTK+ do not use the #GError facility.\n+ * functions in GLib and GTK do not use the #GError facility.\n@@ -756,0 +758,2 @@\n+  g_return_val_if_fail (format != NULL, NULL);\n+\n@@ -762,1 +766,0 @@\n-  g_warn_if_fail (format != NULL);\n@@ -888,1 +891,3 @@\n-  \/* See g_error_new_valist for why these don't return *\/\n+  g_return_val_if_fail (error->message != NULL, NULL);\n+\n+  \/* See g_error_new_valist for why this doesn’t return *\/\n@@ -890,1 +895,0 @@\n-  g_warn_if_fail (error->message != NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gerror.c","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gerror.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -314,1 +316,3 @@\n- * of the condition changing before you actually perform the operation.\n+ * of the condition changing before you actually perform the operation,\n+ * see [TOCTOU](https:\/\/en.wikipedia.org\/wiki\/Time-of-check_to_time-of-use).\n+ *\n@@ -318,0 +322,1 @@\n+ *\n@@ -325,0 +330,15 @@\n+ *\n+ *  \/\/ DO THIS INSTEAD\n+ *  fd = g_open (filename, O_WRONLY | O_NOFOLLOW | O_CLOEXEC);\n+ *  if (fd == -1)\n+ *    {\n+ *      \/\/ check error\n+ *      if (errno == ELOOP)\n+ *        \/\/ file is a symlink and can be ignored\n+ *      else\n+ *        \/\/ handle errors as before\n+ *    }\n+ *  else\n+ *    {\n+ *      \/\/ write to fd\n+ *    }\n@@ -904,1 +924,1 @@\n-  fd = open (filename, O_RDONLY|O_BINARY);\n+  fd = open (filename, O_RDONLY | O_BINARY | O_CLOEXEC);\n@@ -1079,1 +1099,1 @@\n-      int dir_fd = g_open (dir, O_RDONLY, 0);\n+      int dir_fd = g_open (dir, O_RDONLY | O_CLOEXEC, 0);\n@@ -1135,0 +1155,30 @@\n+static gboolean\n+truncate_file (int          fd,\n+               off_t        length,\n+               const char  *dest_file,\n+               GError     **error)\n+{\n+  while (\n+#ifdef G_OS_WIN32\n+    g_win32_ftruncate (fd, length) < 0\n+#else\n+    ftruncate (fd, length) < 0\n+#endif\n+    )\n+    {\n+      int saved_errno = errno;\n+\n+      if (saved_errno == EINTR)\n+        continue;\n+\n+      if (error != NULL)\n+        set_file_error (error,\n+                        dest_file,\n+                        \"Failed to write file '%s': ftruncate() failed: %s\",\n+                        saved_errno);\n+      return FALSE;\n+    }\n+\n+  return TRUE;\n+}\n+\n@@ -1157,2 +1207,7 @@\n-      s = write (fd, contents, MIN (length, G_MAXSSIZE));\n-\n+#ifdef G_OS_WIN32\n+      \/* 'write' on windows uses int types, so limit count to G_MAXINT *\/\n+      s = write (fd, contents, MIN (length, (gsize) G_MAXINT));\n+#else\n+      \/* Limit count to G_MAXSSIZE to fit into the return value. *\/\n+      s = write (fd, contents, MIN (length, (gsize) G_MAXSSIZE));\n+#endif\n@@ -1342,1 +1397,1 @@\n-      fd = g_mkstemp_full (tmp_filename, O_RDWR | O_BINARY, mode);\n+      fd = g_mkstemp_full (tmp_filename, O_RDWR | O_BINARY | O_CLOEXEC, mode);\n@@ -1402,3 +1457,3 @@\n-  {\n-    g_unlink (tmp_filename);\n-    retval = FALSE;\n+            {\n+              g_unlink (tmp_filename);\n+              retval = FALSE;\n@@ -1406,1 +1461,1 @@\n-  }\n+            }\n@@ -1466,0 +1521,2 @@\n+      if (!truncate_file (direct_fd, 0, filename, error))\n+        return FALSE;\n@@ -1491,1 +1548,1 @@\n-  glong value;\n+  gint64 value;\n@@ -1512,1 +1569,1 @@\n-      glong v = value;\n+      gint64 v = value;\n@@ -1588,2 +1645,2 @@\n- *     modified to hold the directory name. In case of errors, %NULL is\n- *     returned, and %errno will be set.\n+ *   modified to hold the directory name. In case of errors, %NULL is\n+ *   returned, and %errno will be set.\n@@ -1624,2 +1681,2 @@\n- *     modified to hold the directory name.  In case of errors, %NULL is\n- *     returned and %errno will be set.\n+ *   modified to hold the directory name.  In case of errors, %NULL is\n+ *   returned and %errno will be set.\n@@ -1639,1 +1696,1 @@\n- *     and O_CREAT, which are passed automatically\n+ *   and O_CREAT, which are passed automatically\n@@ -1655,3 +1712,3 @@\n- *     opened for reading and writing. The file handle should be\n- *     closed with close(). In case of errors, -1 is returned\n- *     and %errno will be set.\n+ *   opened for reading and writing. The file handle should be\n+ *   closed with close(). In case of errors, -1 is returned\n+ *   and %errno will be set.\n@@ -1687,4 +1744,4 @@\n- *     opened for reading and writing. The file is opened in binary\n- *     mode on platforms where there is a difference. The file handle\n- *     should be closed with close(). In case of errors, -1 is\n- *     returned and %errno will be set.\n+ *   opened for reading and writing. The file is opened in binary\n+ *   mode on platforms where there is a difference. The file handle\n+ *   should be closed with close(). In case of errors, -1 is\n+ *   returned and %errno will be set.\n@@ -1695,1 +1752,1 @@\n-  return g_mkstemp_full (tmpl, O_RDWR | O_BINARY, 0600);\n+  return g_mkstemp_full (tmpl, O_RDWR | O_BINARY | O_CLOEXEC, 0600);\n@@ -1778,1 +1835,1 @@\n- *     g_mkstemp(), basename only, or %NULL for a default template\n+ *   g_mkstemp(), basename only, or %NULL for a default template\n@@ -1780,1 +1837,1 @@\n- *     or %NULL\n+ *   or %NULL\n@@ -1801,3 +1858,3 @@\n- *     reading and writing. The file is opened in binary mode on platforms\n- *     where there is a difference. The file handle should be closed with\n- *     close(). In case of errors, -1 is returned and @error will be set.\n+ *   reading and writing. The file is opened in binary mode on platforms\n+ *   where there is a difference. The file handle should be closed with\n+ *   close(). In case of errors, -1 is returned and @error will be set.\n@@ -1817,1 +1874,1 @@\n-                           O_CREAT | O_EXCL | O_RDWR | O_BINARY,\n+                           O_CREAT | O_EXCL | O_RDWR | O_BINARY | O_CLOEXEC,\n@@ -1834,1 +1891,1 @@\n- *     as in g_mkdtemp(), basename only, or %NULL for a default template\n+ *   as in g_mkdtemp(), basename only, or %NULL for a default template\n@@ -1850,3 +1907,3 @@\n- *     should be freed with g_free() when not needed any longer and is\n- *     is in the GLib file name encoding. In case of errors, %NULL is\n- *     returned and @error will be set.\n+ *   should be freed with g_free() when not needed any longer and is\n+ *   is in the GLib file name encoding. In case of errors, %NULL is\n+ *   returned and @error will be set.\n@@ -1977,1 +2034,1 @@\n- *     array of strings containing the path elements.\n+ *   array of strings containing the path elements.\n@@ -1980,2 +2037,3 @@\n- * as a string array, instead of varargs. This function is mainly\n- * meant for language bindings.\n+ * as a string array, instead of variadic arguments.\n+ *\n+ * This function is mainly meant for language bindings.\n@@ -2006,4 +2064,6 @@\n- * separator between elements. At the boundary between two elements,\n- * any trailing occurrences of separator in the first element, or\n- * leading occurrences of separator in the second element are removed\n- * and exactly one copy of the separator is inserted.\n+ * separator between elements.\n+ *\n+ * At the boundary between two elements, any trailing occurrences of\n+ * separator in the first element, or leading occurrences of separator\n+ * in the second element are removed and exactly one copy of the\n+ * separator is inserted.\n@@ -2032,2 +2092,1 @@\n- * Returns: (type filename) (transfer full): a newly-allocated string that\n- *     must be freed with g_free().\n+ * Returns: (type filename) (transfer full): the newly allocated path\n@@ -2189,0 +2248,3 @@\n+ * Creates a filename from a list of elements using the correct\n+ * separator for the current platform.\n+ *\n@@ -2190,1 +2252,1 @@\n- * as a va_list. This function is mainly meant for language bindings.\n+ * as a va_list.\n@@ -2192,2 +2254,4 @@\n- * Returns: (type filename) (transfer full): a newly-allocated string that\n- *     must be freed with g_free().\n+ * This function is mainly meant for implementing other variadic arguments\n+ * functions.\n+ *\n+ * Returns: (type filename) (transfer full): the newly allocated path\n@@ -2209,1 +2273,1 @@\n- *     array of strings containing the path elements.\n+ *   array of strings containing the path elements.\n@@ -2211,2 +2275,5 @@\n- * Behaves exactly like g_build_filename(), but takes the path elements\n- * as a string array, instead of varargs. This function is mainly\n+ * Creates a filename from a vector of elements using the correct\n+ * separator for the current platform.\n+ *\n+ * This function behaves exactly like g_build_filename(), but takes the path\n+ * elements as a string array, instead of varargs. This function is mainly\n@@ -2215,2 +2282,4 @@\n- * Returns: (type filename) (transfer full): a newly-allocated string that\n- *     must be freed with g_free().\n+ * If you are building a path programmatically you may want to use\n+ * #GPathBuf instead.\n+ *\n+ * Returns: (type filename) (transfer full): the newly allocated path\n@@ -2232,1 +2301,1 @@\n- * separator for filenames.\n+ * separator for the current platform.\n@@ -2247,3 +2316,5 @@\n- * Returns: (type filename) (transfer full): a newly-allocated string that\n- *     must be freed with g_free().\n- **\/\n+ * If you are building a path programmatically you may want to use\n+ * #GPathBuf instead.\n+ *\n+ * Returns: (type filename) (transfer full): the newly allocated path\n+ *\/\n@@ -2270,2 +2341,22 @@\n- * readlink() function.  The returned string is in the encoding used\n- * for filenames. Use g_filename_to_utf8() to convert it to UTF-8.\n+ * `readlink()` function.\n+ *\n+ * The returned string is in the encoding used for filenames. Use\n+ * g_filename_to_utf8() to convert it to UTF-8.\n+ *\n+ * The returned string may also be a relative path. Use g_build_filename()\n+ * to convert it to an absolute path:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * g_autoptr(GError) local_error = NULL;\n+ * g_autofree gchar *link_target = g_file_read_link (\"\/etc\/localtime\", &local_error);\n+ *\n+ * if (local_error != NULL)\n+ *   g_error (\"Error reading link: %s\", local_error->message);\n+ *\n+ * if (!g_path_is_absolute (link_target))\n+ *   {\n+ *     g_autofree gchar *absolute_link_target = g_build_filename (\"\/etc\", link_target, NULL);\n+ *     g_free (link_target);\n+ *     link_target = g_steal_pointer (&absolute_link_target);\n+ *   }\n+ * ]|\n@@ -2274,1 +2365,1 @@\n- *     the contents of the symbolic link, or %NULL if an error occurred.\n+ *   the contents of the symbolic link, or %NULL if an error occurred.\n@@ -2481,1 +2572,1 @@\n- *     directory components\n+ *   directory components\n@@ -2484,3 +2575,3 @@\n- *     that g_path_get_basename() allocates new memory for the\n- *     returned string, unlike this function which returns a pointer\n- *     into the argument.\n+ *   that g_path_get_basename() allocates new memory for the\n+ *   returned string, unlike this function which returns a pointer\n+ *   into the argument.\n@@ -2529,1 +2620,1 @@\n- *    containing the last component of the filename\n+ *   containing the last component of the filename\n@@ -2723,1 +2814,2 @@\n- * canonical file path\n+ *   canonical file path\n+ *\n@@ -2896,1 +2988,1 @@\n-  static gulong max_len = 0;\n+  static gsize buffer_size = 0;\n@@ -2905,2 +2997,2 @@\n-  if (max_len == 0)\n-    max_len = (G_PATH_LENGTH == -1) ? 2048 : G_PATH_LENGTH;\n+  if (buffer_size == 0)\n+    buffer_size = (G_PATH_LENGTH == -1) ? 2048 : G_PATH_LENGTH;\n@@ -2908,1 +3000,1 @@\n-  while (max_len < G_MAXULONG \/ 2)\n+  while (buffer_size < G_MAXSIZE \/ 2)\n@@ -2911,1 +3003,1 @@\n-      buffer = g_new (gchar, max_len + 1);\n+      buffer = g_new (gchar, buffer_size);\n@@ -2913,1 +3005,1 @@\n-      dir = getcwd (buffer, max_len);\n+      dir = getcwd (buffer, buffer_size);\n@@ -2918,1 +3010,1 @@\n-      max_len *= 2;\n+      buffer_size *= 2;\n@@ -2921,0 +3013,5 @@\n+  \/* Check that getcwd() nul-terminated the string. It should do, but the specs\n+   * don’t actually explicitly state that:\n+   * https:\/\/pubs.opengroup.org\/onlinepubs\/9699919799\/functions\/getcwd.html *\/\n+  g_assert (dir == NULL || strnlen (dir, buffer_size) < buffer_size);\n+\n@@ -2923,3 +3020,2 @@\n-      \/* hm, should we g_error() out here?\n-       * this can happen if e.g. \".\/\" has mode \\0000\n-       *\/\n+      \/* Fallback return value *\/\n+      g_assert (buffer_size >= 2);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gfileutils.c","additions":171,"deletions":75,"binary":false,"changes":246,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gfileutils.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -368,1 +370,1 @@\n- * libraries using this function (like GTK+) will not use translations\n+ * libraries using this function (like GTK) will not use translations\n@@ -373,1 +375,1 @@\n- * precede any g_dgettext() invocations.  For GTK+, it means calling\n+ * precede any g_dgettext() invocations.  For GTK, it means calling\n@@ -391,1 +393,1 @@\n- * cases the application should call textdomain() after initializing GTK+.\n+ * cases the application should call textdomain() after initializing GTK.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ggettext.c","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ggettext.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -252,1 +254,2 @@\n-#if SMALL_ENTRY_SIZE < BIG_ENTRY_SIZE\n+\/* NB: The USE_SMALL_ARRAYS code assumes pointers are at most 8 bytes. *\/\n+#if SMALL_ENTRY_SIZE < BIG_ENTRY_SIZE && BIG_ENTRY_SIZE <= 8\n@@ -261,2 +264,2 @@\n-  gint             nnodes;\n-  gint             noccupied;  \/* nnodes + tombstones *\/\n+  guint            nnodes;\n+  guint            noccupied;  \/* nnodes + tombstones *\/\n@@ -293,1 +296,1 @@\n-  gint         version;\n+  gintptr      version;\n@@ -549,0 +552,1 @@\n+  g_assert (hash_table->nnodes > 0);\n@@ -910,2 +914,2 @@\n-  gint noccupied = hash_table->noccupied;\n-  gint size = hash_table->size;\n+  gsize noccupied = hash_table->noccupied;\n+  gsize size = hash_table->size;\n@@ -1840,1 +1844,3 @@\n- * the caller of this method; as with g_hash_table_steal().\n+ * the caller of this method, as with g_hash_table_steal(). That is the case\n+ * regardless whether @stolen_key or @stolen_value output parameters are\n+ * requested.\n@@ -1845,0 +1851,4 @@\n+ * The dictionary implementation optimizes for having all values identical to\n+ * their keys, for example by using g_hash_table_add(). When stealing both the\n+ * key and the value from such a dictionary, the value will be %NULL.\n+ *\n@@ -1942,0 +1952,74 @@\n+\/**\n+ * g_hash_table_steal_all_keys: (skip)\n+ * @hash_table: a #GHashTable\n+ *\n+ * Removes all keys and their associated values from a #GHashTable\n+ * without calling the key destroy functions, returning the keys\n+ * as a #GPtrArray with the free func set to the @hash_table key\n+ * destroy function.\n+ *\n+ * Returns: (transfer container): a #GPtrArray containing each key of\n+ * the table. Unref with with g_ptr_array_unref() when done.\n+ *\n+ * Since: 2.76\n+ *\/\n+GPtrArray *\n+g_hash_table_steal_all_keys (GHashTable *hash_table)\n+{\n+  GPtrArray *array;\n+  GDestroyNotify key_destroy_func;\n+\n+  g_return_val_if_fail (hash_table != NULL, NULL);\n+\n+  array = g_hash_table_get_keys_as_ptr_array (hash_table);\n+\n+  \/* Ignore the key destroy notify calls during removal, and use it for the\n+   * array elements instead, but restore it after the hash table has been\n+   * cleared, so that newly added keys will continue using it.\n+   *\/\n+  key_destroy_func = g_steal_pointer (&hash_table->key_destroy_func);\n+  g_ptr_array_set_free_func (array, key_destroy_func);\n+\n+  g_hash_table_remove_all (hash_table);\n+  hash_table->key_destroy_func = g_steal_pointer (&key_destroy_func);\n+\n+  return array;\n+}\n+\n+\/**\n+ * g_hash_table_steal_all_values: (skip)\n+ * @hash_table: a #GHashTable\n+ *\n+ * Removes all keys and their associated values from a #GHashTable\n+ * without calling the value destroy functions, returning the values\n+ * as a #GPtrArray with the free func set to the @hash_table value\n+ * destroy function.\n+ *\n+ * Returns: (transfer container): a #GPtrArray containing each value of\n+ * the table. Unref with with g_ptr_array_unref() when done.\n+ *\n+ * Since: 2.76\n+ *\/\n+GPtrArray *\n+g_hash_table_steal_all_values (GHashTable *hash_table)\n+{\n+  GPtrArray *array;\n+  GDestroyNotify value_destroy_func;\n+\n+  g_return_val_if_fail (hash_table != NULL, NULL);\n+\n+  array = g_hash_table_get_values_as_ptr_array (hash_table);\n+\n+  \/* Ignore the value destroy notify calls during removal, and use it for the\n+   * array elements instead, but restore it after the hash table has been\n+   * cleared, so that newly added values will continue using it.\n+   *\/\n+  value_destroy_func = g_steal_pointer (&hash_table->value_destroy_func);\n+  g_ptr_array_set_free_func (array, value_destroy_func);\n+\n+  g_hash_table_remove_all (hash_table);\n+  hash_table->value_destroy_func = g_steal_pointer (&value_destroy_func);\n+\n+  return array;\n+}\n+\n@@ -2264,1 +2348,1 @@\n-  g_assert_cmpint (j, ==, hash_table->nnodes);\n+  g_assert (j == hash_table->nnodes);\n@@ -2273,0 +2357,39 @@\n+\/**\n+ * g_hash_table_get_keys_as_ptr_array: (skip)\n+ * @hash_table: a #GHashTable\n+ *\n+ * Retrieves every key inside @hash_table, as a #GPtrArray.\n+ * The returned data is valid until changes to the hash release those keys.\n+ *\n+ * This iterates over every entry in the hash table to build its return value.\n+ * To iterate over the entries in a #GHashTable more efficiently, use a\n+ * #GHashTableIter.\n+ *\n+ * You should always unref the returned array with g_ptr_array_unref().\n+ *\n+ * Returns: (transfer container): a #GPtrArray containing each key from\n+ * the table. Unref with with g_ptr_array_unref() when done.\n+ *\n+ * Since: 2.76\n+ **\/\n+GPtrArray *\n+g_hash_table_get_keys_as_ptr_array (GHashTable *hash_table)\n+{\n+  GPtrArray *array;\n+\n+  g_return_val_if_fail (hash_table != NULL, NULL);\n+\n+  array = g_ptr_array_sized_new (hash_table->size);\n+  for (gsize i = 0; i < hash_table->size; ++i)\n+    {\n+      if (HASH_IS_REAL (hash_table->hashes[i]))\n+        {\n+          g_ptr_array_add (array, g_hash_table_fetch_key_or_value (\n+            hash_table->keys, i, hash_table->have_big_keys));\n+        }\n+    }\n+  g_assert (array->len == hash_table->nnodes);\n+\n+  return array;\n+}\n+\n@@ -2309,0 +2432,39 @@\n+\/**\n+ * g_hash_table_get_values_as_ptr_array: (skip)\n+ * @hash_table: a #GHashTable\n+ *\n+ * Retrieves every value inside @hash_table, as a #GPtrArray.\n+ * The returned data is valid until changes to the hash release those values.\n+ *\n+ * This iterates over every entry in the hash table to build its return value.\n+ * To iterate over the entries in a #GHashTable more efficiently, use a\n+ * #GHashTableIter.\n+ *\n+ * You should always unref the returned array with g_ptr_array_unref().\n+ *\n+ * Returns: (transfer container): a #GPtrArray containing each value from\n+ * the table. Unref with with g_ptr_array_unref() when done.\n+ *\n+ * Since: 2.76\n+ **\/\n+GPtrArray *\n+g_hash_table_get_values_as_ptr_array (GHashTable *hash_table)\n+{\n+  GPtrArray *array;\n+\n+  g_return_val_if_fail (hash_table != NULL, NULL);\n+\n+  array = g_ptr_array_sized_new (hash_table->size);\n+  for (gsize i = 0; i < hash_table->size; ++i)\n+    {\n+      if (HASH_IS_REAL (hash_table->hashes[i]))\n+        {\n+          g_ptr_array_add (array, g_hash_table_fetch_key_or_value (\n+            hash_table->values, i, hash_table->have_big_values));\n+        }\n+    }\n+  g_assert (array->len == hash_table->nnodes);\n+\n+  return array;\n+}\n+\n@@ -2329,2 +2491,2 @@\n-g_str_equal (gconstpointer v1,\n-             gconstpointer v2)\n+(g_str_equal) (gconstpointer v1,\n+               gconstpointer v2)\n@@ -2496,1 +2658,3 @@\n-  return (guint) *(const gint64*) v;\n+  const guint64 *bits = v;\n+\n+  return (guint) ((*bits >> 32) ^ (*bits & 0xffffffffU));\n@@ -2537,1 +2701,4 @@\n-  return (guint) *(const gdouble*) v;\n+  \/* Same as g_int64_hash() *\/\n+  const guint64 *bits = v;\n+\n+  return (guint) ((*bits >> 32) ^ (*bits & 0xffffffffU));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghash.c","additions":179,"deletions":12,"binary":false,"changes":191,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -33,0 +35,1 @@\n+#include <glib\/garray.h>\n@@ -94,0 +97,4 @@\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray * g_hash_table_steal_all_keys    (GHashTable     *hash_table);\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray * g_hash_table_steal_all_values  (GHashTable     *hash_table);\n@@ -130,0 +137,5 @@\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray * g_hash_table_get_keys_as_ptr_array (GHashTable *hash_table);\n+\n+GLIB_AVAILABLE_IN_2_76\n+GPtrArray * g_hash_table_get_values_as_ptr_array (GHashTable *hash_table);\n@@ -161,0 +173,4 @@\n+\n+\/* Macro for optimization in the case it is not used as callback function *\/\n+#define g_str_equal(v1, v2) (strcmp ((const char *) (v1), (const char *) (v2)) == 0)\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghash.h","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -103,0 +105,3 @@\n+  gssize block_size_signed, key_len_signed;\n+\n+  g_return_val_if_fail (key_len <= G_MAXSSIZE, NULL);\n@@ -137,1 +142,3 @@\n-      g_checksum_update (hmac->digesti, key, key_len);\n+      g_assert (key_len <= G_MAXSSIZE);\n+      key_len_signed = key_len;\n+      g_checksum_update (hmac->digesti, key, key_len_signed);\n@@ -148,0 +155,4 @@\n+  \/* g_checksum_update() accepts a signed length, so build and check that. *\/\n+  g_assert (block_size <= G_MAXSSIZE);\n+  block_size_signed = block_size;\n+\n@@ -151,1 +162,1 @@\n-  g_checksum_update (hmac->digesti, pad, block_size);\n+  g_checksum_update (hmac->digesti, pad, block_size_signed);\n@@ -156,1 +167,1 @@\n-  g_checksum_update (hmac->digesto, pad, block_size);\n+  g_checksum_update (hmac->digesto, pad, block_size_signed);\n@@ -283,0 +294,1 @@\n+  gssize digest_len_signed;\n@@ -287,1 +299,6 @@\n-  digest_len = g_checksum_type_get_length (hmac->digest_type);\n+  \/* It shouldn’t be possible for @digest_len_signed to be negative, as\n+   * `hmac->digest_type` has already been validated as being supported. *\/\n+  digest_len_signed = g_checksum_type_get_length (hmac->digest_type);\n+  g_assert (digest_len_signed >= 0);\n+  digest_len = digest_len_signed;\n+\n@@ -319,0 +336,1 @@\n+  gssize len_signed;\n@@ -322,1 +340,7 @@\n-  len = g_checksum_type_get_length (hmac->digest_type);\n+  \/* It shouldn’t be possible for @len_signed to be negative, as\n+   * `hmac->digest_type` has already been validated as being supported. *\/\n+  len_signed = g_checksum_type_get_length (hmac->digest_type);\n+  g_assert (len_signed >= 0);\n+  len = len_signed;\n+\n+  \/* @buffer must be long enough for the digest *\/\n@@ -327,1 +351,3 @@\n-  g_checksum_update (hmac->digesto, buffer, len);\n+  g_assert (len <= G_MAXSSIZE);\n+  len_signed = len;\n+  g_checksum_update (hmac->digesto, buffer, len_signed);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghmac.c","additions":32,"deletions":6,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghmac.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghook.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghook.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghostutils.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghostutils.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -23,0 +25,5 @@\n+#ifdef GSTREAMER_LITE\n+#ifdef ENABLE_NLS\n+#include <libintl.h>\n+#endif\n+#else \/\/ GSTREAMER_LITE\n@@ -24,0 +31,1 @@\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gi18n-lib.h","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gi18n.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -887,1 +889,1 @@\n-          gint         length)\n+                            gint         length)\n@@ -914,1 +916,1 @@\n- * @length: a location to return the length of the line terminator\n+ * @length: (out) (optional): a location to return the length of the line terminator\n@@ -925,1 +927,1 @@\n-          gint       *length)\n+                            gint       *length)\n@@ -947,0 +949,1 @@\n+ * @G_IO_FLAG_NONE: no special flags set. Since: 2.74\n@@ -2205,1 +2208,1 @@\n-  gssize wrote_bytes = 0;\n+  gsize wrote_bytes = 0;\n@@ -2208,0 +2211,1 @@\n+g_return_val_if_fail (buf != NULL || count == 0, G_IO_STATUS_ERROR);\n@@ -2212,3 +2216,4 @@\n-  if ((count < 0) && buf)\n-    count = strlen (buf);\n-  count_unsigned = count;\n+  if (count < 0)\n+    count_unsigned = strlen (buf);\n+  else\n+    count_unsigned = count;\n@@ -2223,2 +2228,1 @@\n-  g_return_val_if_fail (buf != NULL, G_IO_STATUS_ERROR);\n-  g_return_val_if_fail (count_unsigned > 0, G_IO_STATUS_ERROR);\n+  g_assert (count_unsigned > 0);\n@@ -2266,1 +2270,1 @@\n-  while (wrote_bytes < count)\n+  while (wrote_bytes < count_unsigned)\n@@ -2312,1 +2316,5 @@\n-          gssize write_this = MIN (space_in_buf, count_unsigned - wrote_bytes);\n+          gsize write_this = MIN (space_in_buf, count_unsigned - wrote_bytes);\n+\n+          \/* g_string_append_len() takes a gssize, so don’t overflow it*\/\n+          if (write_this > G_MAXSSIZE)\n+            write_this = G_MAXSSIZE;\n@@ -2475,1 +2483,4 @@\n-                      wrote_bytes += from_buf_len - left_len - from_buf_old_len;\n+                      {\n+                        g_assert (from_buf_len >= left_len + from_buf_old_len);\n+                        wrote_bytes += from_buf_len - left_len - from_buf_old_len;\n+                      }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giochannel.c","additions":23,"deletions":12,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -86,0 +88,1 @@\n+  G_IO_FLAG_NONE GLIB_AVAILABLE_ENUMERATOR_IN_2_74 = 0,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giochannel.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -45,0 +47,4 @@\n+#ifndef O_CLOEXEC\n+#define O_CLOEXEC 0\n+#endif\n+\n@@ -132,2 +138,0 @@\n-  *timeout = -1;\n-\n@@ -401,1 +405,1 @@\n-  GIOFlags flags = 0;\n+  GIOFlags flags = G_IO_FLAG_NONE;\n@@ -528,1 +532,1 @@\n-  fid = g_open (filename, flags, create_mode);\n+  fid = g_open (filename, flags | O_CLOEXEC, create_mode);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giounix.c","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -9,0 +9,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -710,2 +712,0 @@\n-  *timeout = -1;\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giowin32.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -10,0 +10,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -54,0 +56,4 @@\n+#ifndef O_CLOEXEC\n+#define O_CLOEXEC 0\n+#endif\n+\n@@ -71,1 +77,1 @@\n- * SECTION:keyfile\n+ * SECTION:gkeyfile\n@@ -157,0 +163,1 @@\n+ *\n@@ -183,0 +190,1 @@\n+ *\n@@ -526,2 +534,0 @@\n-  GKeyFileKeyValuePair *comment; \/* Special comment that is stuck to the top of a group *\/\n-\n@@ -570,1 +576,2 @@\n-                                                                GKeyFileKeyValuePair   *pair);\n+                                                                GKeyFileKeyValuePair   *pair,\n+                                                                GList                  *sibling);\n@@ -576,1 +583,2 @@\n-                const gchar            *group_name);\n+                                                                const gchar            *group_name,\n+                                                                gboolean                created);\n@@ -635,1 +643,1 @@\n-  key_file->current_group = g_slice_new0 (GKeyFileGroup);\n+  key_file->current_group = g_new0 (GKeyFileGroup, 1);\n@@ -697,1 +705,1 @@\n-  key_file = g_slice_new0 (GKeyFile);\n+  key_file = g_new0 (GKeyFile, 1);\n@@ -762,1 +770,1 @@\n-          fd = g_open (path, O_RDONLY, 0);\n+          fd = g_open (path, O_RDONLY | O_CLOEXEC, 0);\n@@ -918,1 +926,1 @@\n-  fd = g_open (file, O_RDONLY, 0);\n+  fd = g_open (file, O_RDONLY | O_CLOEXEC, 0);\n@@ -1202,1 +1210,1 @@\n-    g_slice_free (GKeyFile, key_file);\n+    g_free_sized (key_file, sizeof (GKeyFile));\n@@ -1224,1 +1232,1 @@\n-      g_slice_free (GKeyFile, key_file);\n+      g_free_sized (key_file, sizeof (GKeyFile));\n@@ -1314,1 +1322,1 @@\n-  pair = g_slice_new (GKeyFileKeyValuePair);\n+  pair = g_new (GKeyFileKeyValuePair, 1);\n@@ -1357,1 +1365,1 @@\n-  g_key_file_add_group (key_file, group_name);\n+  g_key_file_add_group (key_file, group_name, FALSE);\n@@ -1445,1 +1453,1 @@\n-      pair = g_slice_new (GKeyFileKeyValuePair);\n+      pair = g_new (GKeyFileKeyValuePair, 1);\n@@ -1457,1 +1465,2 @@\n-      g_key_file_add_key_value_pair (key_file, key_file->current_group, pair);\n+      g_key_file_add_key_value_pair (key_file, key_file->current_group, pair,\n+                                     key_file->current_group->key_value_pairs);\n@@ -1621,8 +1630,0 @@\n-      \/* separate groups by at least an empty line *\/\n-      if (data_string->len >= 2 &&\n-          data_string->str[data_string->len - 2] != '\\n')\n-        g_string_append_c (data_string, '\\n');\n-\n-      if (group->comment != NULL)\n-        g_string_append_printf (data_string, \"%s\\n\", group->comment->value);\n-\n@@ -1921,1 +1922,1 @@\n-      g_key_file_add_group (key_file, group_name);\n+      g_key_file_add_group (key_file, group_name, TRUE);\n@@ -3383,1 +3384,1 @@\n-  pair = g_slice_new (GKeyFileKeyValuePair);\n+  pair = g_new (GKeyFileKeyValuePair, 1);\n@@ -3398,46 +3399,0 @@\n-static gboolean\n-g_key_file_set_group_comment (GKeyFile     *key_file,\n-                              const gchar  *group_name,\n-                              const gchar  *comment,\n-                              GError      **error)\n-{\n-  GKeyFileGroup *group;\n-\n-  g_return_val_if_fail (group_name != NULL && g_key_file_is_group_name (group_name), FALSE);\n-\n-  group = g_key_file_lookup_group (key_file, group_name);\n-  if (!group)\n-    {\n-      g_set_error (error, G_KEY_FILE_ERROR,\n-                   G_KEY_FILE_ERROR_GROUP_NOT_FOUND,\n-                   _(\"Key file does not have group '%s'\"),\n-                   group_name ? group_name : \"(null)\");\n-\n-      return FALSE;\n-    }\n-\n-  \/* First remove any existing comment\n-   *\/\n-  if (group->comment)\n-    {\n-      g_key_file_key_value_pair_free (group->comment);\n-      group->comment = NULL;\n-    }\n-\n-  if (comment == NULL)\n-    return TRUE;\n-\n-  \/* Now we can add our new comment\n-   *\/\n-  group->comment = g_slice_new (GKeyFileKeyValuePair);\n-#ifdef GSTREAMER_LITE\n-  if (group->comment == NULL) {\n-    return FALSE;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-  group->comment->key = NULL;\n-  group->comment->value = g_key_file_parse_comment_as_value (key_file, comment);\n-\n-  return TRUE;\n-}\n-\n@@ -3470,1 +3425,1 @@\n-  pair = g_slice_new (GKeyFileKeyValuePair);\n+  pair = g_new (GKeyFileKeyValuePair, 1);\n@@ -3485,0 +3440,64 @@\n+static gboolean\n+g_key_file_set_group_comment (GKeyFile     *key_file,\n+                              const gchar  *group_name,\n+                              const gchar  *comment,\n+                              GError      **error)\n+{\n+  GKeyFileGroup *group;\n+  GList *group_node;\n+  GKeyFileKeyValuePair *pair;\n+\n+  g_return_val_if_fail (group_name != NULL && g_key_file_is_group_name (group_name), FALSE);\n+\n+  group = g_key_file_lookup_group (key_file, group_name);\n+  if (!group)\n+    {\n+      g_set_error (error, G_KEY_FILE_ERROR,\n+                   G_KEY_FILE_ERROR_GROUP_NOT_FOUND,\n+                   _(\"Key file does not have group “%s”\"),\n+                   group_name);\n+\n+      return FALSE;\n+    }\n+\n+  if (group == key_file->start_group)\n+    return g_key_file_set_top_comment (key_file, comment, error);\n+\n+  \/* First remove any existing comment\n+   *\/\n+  group_node = g_key_file_lookup_group_node (key_file, group_name);\n+#ifdef GSTREAMER_LITE\n+  if (group_node == NULL || group_node->next == NULL || group_node->next->data == NULL) {\n+    return FALSE;\n+  }\n+#endif \/\/ GSTREAMER_LITE\n+  group = group_node->next->data;\n+  for (GList *lp = group->key_value_pairs; lp != NULL; )\n+    {\n+      GList *lnext = lp->next;\n+      pair = lp->data;\n+      if (pair->key != NULL)\n+        break;\n+\n+      g_key_file_remove_key_value_pair_node (key_file, group, lp);\n+      lp = lnext;\n+    }\n+\n+  if (comment == NULL)\n+    return TRUE;\n+\n+  \/* Now we can add our new comment\n+   *\/\n+  pair = g_new (GKeyFileKeyValuePair, 1);\n+#ifdef GSTREAMER_LITE\n+  if (pair == NULL) {\n+    return FALSE;\n+  }\n+#endif \/\/ GSTREAMER_LITE\n+  pair->key = NULL;\n+  pair->value = g_key_file_parse_comment_as_value (key_file, comment);\n+  group->key_value_pairs = g_list_prepend (group->key_value_pairs, pair);\n+\n+  return TRUE;\n+}\n+\n@@ -3609,4 +3628,1 @@\n-    {\n-      comment = string->str;\n-      g_string_free (string, FALSE);\n-    }\n+    comment = g_string_free_and_steal (g_steal_pointer (&string));\n@@ -3691,3 +3707,0 @@\n-  if (group->comment)\n-    return g_strdup (group->comment->value);\n-\n@@ -3892,1 +3905,2 @@\n-          const gchar *group_name)\n+                      const gchar *group_name,\n+                      gboolean created)\n@@ -3906,1 +3920,1 @@\n-  group = g_slice_new0 (GKeyFileGroup);\n+  group = g_new0 (GKeyFileGroup, 1);\n@@ -3913,1 +3927,20 @@\n-    key_file->start_group = group;\n+    {\n+      key_file->start_group = group;\n+    }\n+  else if (!(key_file->flags & G_KEY_FILE_KEEP_COMMENTS) || created)\n+    {\n+      \/* separate groups by a blank line if we don't keep comments or group is created *\/\n+      GKeyFileGroup *next_group = key_file->groups->next->data;\n+      GKeyFileKeyValuePair *pair;\n+      if (next_group->key_value_pairs != NULL)\n+        pair = next_group->key_value_pairs->data;\n+\n+      if (next_group->key_value_pairs == NULL ||\n+          (pair->key != NULL && !g_strstr_len (pair->value, -1, \"\\n\")))\n+        {\n+          GKeyFileKeyValuePair *pair = g_new (GKeyFileKeyValuePair, 1);\n+          pair->key = NULL;\n+          pair->value = g_strdup (\"\");\n+          next_group->key_value_pairs = g_list_prepend (next_group->key_value_pairs, pair);\n+        }\n+    }\n@@ -3928,1 +3961,1 @@\n-      g_slice_free (GKeyFileKeyValuePair, pair);\n+      g_free_sized (pair, sizeof (GKeyFileKeyValuePair));\n@@ -4024,6 +4057,0 @@\n-  if (group->comment)\n-    {\n-      g_key_file_key_value_pair_free (group->comment);\n-      group->comment = NULL;\n-    }\n-\n@@ -4037,1 +4064,1 @@\n-  g_slice_free (GKeyFileGroup, group);\n+  g_free_sized (group, sizeof (GKeyFileGroup));\n@@ -4083,1 +4110,2 @@\n-                               GKeyFileKeyValuePair *pair)\n+                               GKeyFileKeyValuePair *pair,\n+                               GList                *sibling)\n@@ -4086,1 +4114,1 @@\n-  group->key_value_pairs = g_list_prepend (group->key_value_pairs, pair);\n+  group->key_value_pairs = g_list_insert_before (group->key_value_pairs, sibling, pair);\n@@ -4096,0 +4124,1 @@\n+  GList *lp;\n@@ -4097,1 +4126,1 @@\n-  pair = g_slice_new (GKeyFileKeyValuePair);\n+  pair = g_new (GKeyFileKeyValuePair, 1);\n@@ -4106,1 +4135,6 @@\n-  g_key_file_add_key_value_pair (key_file, group, pair);\n+  \/* skip group comment *\/\n+  lp = group->key_value_pairs;\n+  while (lp != NULL && ((GKeyFileKeyValuePair *) lp->data)->key == NULL)\n+    lp = lp->next;\n+\n+  g_key_file_add_key_value_pair (key_file, group, pair, lp);\n@@ -4362,0 +4396,1 @@\n+  GSList *tmp_pieces = NULL;\n@@ -4364,0 +4399,2 @@\n+  g_assert (pieces == NULL || *pieces == NULL);\n+\n@@ -4397,0 +4434,1 @@\n+        g_clear_error (error);\n@@ -4401,1 +4439,1 @@\n-        break;\n+        goto error;\n@@ -4419,0 +4457,15 @@\n+                      \/* FIXME: This should be a fatal error, but there was a\n+                       * bug which prevented that being reported for a long\n+                       * time, so a lot of applications and in-the-field key\n+                       * files use invalid escape sequences without anticipating\n+                       * problems. For now (GLib 2.78), message about it; in\n+                       * future, the behaviour may become fatal again.\n+                       *\n+                       * The previous behaviour was to set the #GError but not\n+                       * return failure from the function, so the caller could\n+                       * explicitly check for invalid escapes, but also ignore\n+                       * the error if they want. This is not how #GError is\n+                       * meant to be used, but the #GKeyFile code is very old.\n+                       *\n+                       * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/3098 *\/\n+                      g_clear_error (error);\n@@ -4433,1 +4486,1 @@\n-              *pieces = g_slist_prepend (*pieces, g_strndup (q0, q - q0));\n+              tmp_pieces = g_slist_prepend (tmp_pieces, g_strndup (q0, q - q0));\n@@ -4447,5 +4500,5 @@\n-  {\n-    if (q0 < q)\n-      *pieces = g_slist_prepend (*pieces, g_strndup (q0, q - q0));\n-    *pieces = g_slist_reverse (*pieces);\n-  }\n+    {\n+      if (q0 < q)\n+        tmp_pieces = g_slist_prepend (tmp_pieces, g_strndup (q0, q - q0));\n+      *pieces = g_slist_reverse (tmp_pieces);\n+    }\n@@ -4454,0 +4507,6 @@\n+\n+error:\n+  g_free (string_value);\n+  g_slist_free_full (tmp_pieces, g_free);\n+\n+  return NULL;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gkeyfile.c","additions":160,"deletions":101,"binary":false,"changes":261,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gkeyfile.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -46,0 +48,1 @@\n+#ifndef GSTREAMER_LITE\n@@ -47,0 +50,1 @@\n+#endif \/\/ GSTREAMER_LITE\n@@ -108,0 +112,2 @@\n+G_DEFINE_AUTOPTR_CLEANUP_FUNC (GPathBuf, g_path_buf_free)\n+G_DEFINE_AUTO_CLEANUP_CLEAR_FUNC (GPathBuf, g_path_buf_clear)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-autocleanups.h","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -90,0 +92,12 @@\n+G_STATIC_ASSERT (sizeof (short) == sizeof (gshort));\n+G_STATIC_ASSERT (G_MINSHORT == SHRT_MIN);\n+G_STATIC_ASSERT (G_MAXSHORT == SHRT_MAX);\n+G_STATIC_ASSERT (sizeof (unsigned short) == sizeof (gushort));\n+G_STATIC_ASSERT (G_MAXUSHORT == USHRT_MAX);\n+\n+G_STATIC_ASSERT (sizeof (int) == sizeof (gint));\n+G_STATIC_ASSERT (G_MININT == INT_MIN);\n+G_STATIC_ASSERT (G_MAXINT == INT_MAX);\n+G_STATIC_ASSERT (sizeof (unsigned int) == sizeof (guint));\n+G_STATIC_ASSERT (G_MAXUINT == UINT_MAX);\n+\n@@ -91,0 +105,5 @@\n+G_STATIC_ASSERT (sizeof (long) == sizeof (glong));\n+G_STATIC_ASSERT (G_MINLONG == LONG_MIN);\n+G_STATIC_ASSERT (G_MAXLONG == LONG_MAX);\n+G_STATIC_ASSERT (sizeof (unsigned long) == sizeof (gulong));\n+G_STATIC_ASSERT (G_MAXULONG == ULONG_MAX);\n@@ -100,0 +119,1 @@\n+G_STATIC_ASSERT (G_MAXSIZE == SIZE_MAX);\n@@ -104,1 +124,17 @@\n-\n+\/* We assume that GSIZE_TO_POINTER is reversible by GPOINTER_TO_SIZE\n+ * without losing information.\n+ * However, we do not assume that GPOINTER_TO_SIZE can store an arbitrary\n+ * pointer in a gsize (known to be false on CHERI). *\/\n+G_STATIC_ASSERT (sizeof (size_t) <= sizeof (void *));\n+\/* Standard C does not guarantee that size_t is the same as uintptr_t,\n+ * but GLib currently assumes they are the same: see\n+ * <https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2842>.\n+ *\n+ * To enable working on bringup for new architectures these assertions\n+ * can be disabled with -DG_ENABLE_EXPERIMENTAL_ABI_COMPILATION.\n+ *\n+ * FIXME: remove these assertions once the API\/ABI has stabilized. *\/\n+#ifndef G_ENABLE_EXPERIMENTAL_ABI_COMPILATION\n+G_STATIC_ASSERT (sizeof (size_t) == sizeof (uintptr_t));\n+G_STATIC_ASSERT (G_ALIGNOF (size_t) == G_ALIGNOF (uintptr_t));\n+#endif\n@@ -187,1 +223,1 @@\n- * within GDK and GTK+ to parse the debug options passed on the\n+ * within GDK and GTK to parse the debug options passed on the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-init.c","additions":38,"deletions":2,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -47,0 +49,3 @@\n+int g_win32_reopen_noninherited (int fd, int mode, GError **err);\n+gboolean g_win32_handle_is_socket (void *h);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-init.h","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-object.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -25,0 +27,4 @@\n+#ifdef USE_INVALID_PARAMETER_HANDLER\n+#include <crtdbg.h>\n+#endif\n+\n@@ -58,0 +64,2 @@\n+    g_win32_reopen_noninherited,\n+    g_win32_handle_is_socket,\n@@ -59,0 +67,7 @@\n+\n+    g_win32_push_empty_invalid_parameter_handler,\n+    g_win32_pop_invalid_parameter_handler,\n+\n+    g_find_program_for_path,\n+\n+    g_uri_get_default_scheme_port,\n@@ -63,0 +78,71 @@\n+\n+#ifdef USE_INVALID_PARAMETER_HANDLER\n+\/*\n+ * This is the (empty) invalid parameter handler\n+ * that is used for Visual C++ 2005 (and later) builds\n+ * so that we can use this instead of the system automatically\n+ * aborting the process, when calling _get_osfhandle(), isatty()\n+ * and _commit() (via g_fsync()) and so on with an invalid file\n+ * descriptor.\n+ *\n+ * This is necessary so that the gspawn helper and the test programs\n+ * will continue to run as expected, since we are purposely or\n+ * forced to use invalid FDs.\n+ *\n+ * Please see https:\/\/learn.microsoft.com\/en-us\/cpp\/c-runtime-library\/parameter-validation?view=msvc-170\n+ * for an explanation on this.\n+ *\/\n+static void\n+empty_invalid_parameter_handler (const wchar_t *expression,\n+                                 const wchar_t *function,\n+                                 const wchar_t *file,\n+                                 unsigned int   line,\n+                                 uintptr_t      pReserved)\n+{\n+}\n+\n+\/* fallback to _set_invalid_parameter_handler() if we don't have _set_thread_local_invalid_parameter_handler() *\/\n+#ifndef HAVE__SET_THREAD_LOCAL_INVALID_PARAMETER_HANDLER\n+# define _set_thread_local_invalid_parameter_handler _set_invalid_parameter_handler\n+#endif\n+\n+#endif\n+\/*\n+ * g_win32_push_empty_invalid_parameter_handler:\n+ * @handler: a possibly uninitialized GWin32InvalidParameterHandler\n+ *\/\n+void\n+g_win32_push_empty_invalid_parameter_handler (GWin32InvalidParameterHandler *handler)\n+{\n+#ifdef USE_INVALID_PARAMETER_HANDLER\n+  \/* use the empty invalid parameter handler to override the default invalid parameter_handler *\/\n+  handler->pushed_handler = empty_invalid_parameter_handler;\n+  handler->old_handler = _set_thread_local_invalid_parameter_handler (handler->pushed_handler);\n+\n+  \/* Disable the message box for assertions. *\/\n+  handler->pushed_report_mode = 0;\n+  handler->prev_report_mode = _CrtSetReportMode(_CRT_ASSERT, handler->pushed_report_mode);\n+#endif\n+}\n+\n+\/*\n+ * g_win32_pop_invalid_parameter_handler:\n+ * @handler: a GWin32InvalidParameterHandler processed with\n+ * g_win32_push_empty_invalid_parameter_handler()\n+ *\/\n+void\n+g_win32_pop_invalid_parameter_handler (GWin32InvalidParameterHandler *handler)\n+{\n+#ifdef USE_INVALID_PARAMETER_HANDLER\n+  G_GNUC_UNUSED _invalid_parameter_handler popped_handler;\n+  G_GNUC_UNUSED int popped_report_mode;\n+\n+  \/* Restore previous\/default invalid parameter handler, check the value returned matches the one we previously pushed *\/\n+  popped_handler = _set_thread_local_invalid_parameter_handler (handler->old_handler);\n+  g_return_if_fail (handler->pushed_handler == popped_handler);\n+\n+  \/* Restore the message box for assertions, check the value returned matches the one we previously pushed *\/\n+  popped_report_mode = _CrtSetReportMode(_CRT_ASSERT, handler->prev_report_mode);\n+  g_return_if_fail (handler->pushed_report_mode == popped_report_mode);\n+#endif\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-private.c","additions":86,"deletions":0,"binary":false,"changes":86,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -122,0 +124,21 @@\n+#if (defined (HAVE__SET_THREAD_LOCAL_INVALID_PARAMETER_HANDLER) || \\\n+     defined (HAVE__SET_INVALID_PARAMETER_HANDLER)) && \\\n+    defined (HAVE__CRT_SET_REPORT_MODE)\n+# define USE_INVALID_PARAMETER_HANDLER\n+#endif\n+\n+#ifdef USE_INVALID_PARAMETER_HANDLER\n+struct _GWin32InvalidParameterHandler\n+{\n+  _invalid_parameter_handler old_handler;\n+  _invalid_parameter_handler pushed_handler;\n+  int prev_report_mode;\n+  int pushed_report_mode;\n+};\n+#else\n+struct _GWin32InvalidParameterHandler\n+{\n+  int unused_really;\n+};\n+#endif\n+\n@@ -130,0 +153,10 @@\n+typedef struct _GWin32InvalidParameterHandler GWin32InvalidParameterHandler;\n+void g_win32_push_empty_invalid_parameter_handler (GWin32InvalidParameterHandler *items);\n+void g_win32_pop_invalid_parameter_handler (GWin32InvalidParameterHandler *items);\n+\n+char *g_find_program_for_path (const char *program,\n+                               const char *path,\n+                               const char *working_dir);\n+\n+int g_uri_get_default_scheme_port (const char *scheme);\n+\n@@ -132,0 +165,1 @@\n+\n@@ -174,0 +208,7 @@\n+\n+  int                   (* g_win32_reopen_noninherited) (int      fd,\n+                                                         int      mode,\n+                                                         GError **err);\n+\n+  gboolean              (* g_win32_handle_is_socket)    (void *handle);\n+\n@@ -176,0 +217,12 @@\n+  \/* See glib-private.c *\/\n+  void (* g_win32_push_empty_invalid_parameter_handler) (GWin32InvalidParameterHandler *items);\n+\n+  void (* g_win32_pop_invalid_parameter_handler)        (GWin32InvalidParameterHandler *items);\n+\n+  \/* See gutils.c *\/\n+  char *(* g_find_program_for_path) (const char *program,\n+                                     const char *path,\n+                                     const char *working_dir);\n+\n+  \/* See guri.c *\/\n+  int (* g_uri_get_default_scheme_port) (const char *scheme);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-private.h","additions":53,"deletions":0,"binary":false,"changes":53,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -35,1 +37,2 @@\n-#if !defined(__cplusplus) && (G_GNUC_CHECK_VERSION(4, 8) || defined(__clang__))\n+#if !G_CXX_STD_CHECK_VERSION (11) && \\\n+    (G_GNUC_CHECK_VERSION(4, 8) || defined(__clang__))\n@@ -37,1 +40,2 @@\n-#elif defined(__cplusplus) && __cplusplus >= 201103L && GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n+#elif G_CXX_STD_CHECK_VERSION (11) && \\\n+      GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-typeof.h","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -24,5 +26,0 @@\n-\/* To make bionic export pipe2() *\/\n-#ifndef _GNU_SOURCE\n-#define _GNU_SOURCE 1\n-#endif\n-\n@@ -30,0 +27,1 @@\n+#include \"glib-unixprivate.h\"\n@@ -42,0 +40,6 @@\n+\/* If this assertion fails, then the ABI of g_unix_open_pipe() would be\n+ * ambiguous on this platform.\n+ * On Linux, usually O_NONBLOCK == 04000 and FD_CLOEXEC == 1, but the same\n+ * might not be true everywhere. *\/\n+G_STATIC_ASSERT (O_NONBLOCK != FD_CLOEXEC);\n+\n@@ -73,1 +77,1 @@\n- * @fds: Array of two integers\n+ * @fds: (array fixed-size=2): Array of two integers\n@@ -79,3 +83,9 @@\n- * the configured flags. The only supported flag currently is\n- * %FD_CLOEXEC. If for example you want to configure %O_NONBLOCK, that\n- * must still be done separately with fcntl().\n+ * the configured flags.\n+ *\n+ * As of GLib 2.78, the supported flags are `O_CLOEXEC`\/`FD_CLOEXEC` (see below)\n+ * and `O_NONBLOCK`. Prior to GLib 2.78, only `FD_CLOEXEC` was supported — if\n+ * you wanted to configure `O_NONBLOCK` then that had to be done separately with\n+ * `fcntl()`.\n+ *\n+ * It is a programmer error to call this function with unsupported flags, and a\n+ * critical warning will be raised.\n@@ -83,2 +93,4 @@\n- * This function does not take %O_CLOEXEC, it takes %FD_CLOEXEC as if\n- * for fcntl(); these are different on Linux\/glibc.\n+ * As of GLib 2.78, it is preferred to pass `O_CLOEXEC` in, rather than\n+ * `FD_CLOEXEC`, as that matches the underlying `pipe()` API more closely. Prior\n+ * to 2.78, only `FD_CLOEXEC` was supported. Support for `FD_CLOEXEC` may be\n+ * deprecated and removed in future.\n@@ -95,18 +107,6 @@\n-  int ecode;\n-\n-  \/* We only support FD_CLOEXEC *\/\n-  g_return_val_if_fail ((flags & (FD_CLOEXEC)) == flags, FALSE);\n-\n-#ifdef HAVE_PIPE2\n-  {\n-    int pipe2_flags = 0;\n-    if (flags & FD_CLOEXEC)\n-      pipe2_flags |= O_CLOEXEC;\n-    \/* Atomic *\/\n-    ecode = pipe2 (fds, pipe2_flags);\n-    if (ecode == -1 && errno != ENOSYS)\n-      return g_unix_set_error_from_errno (error, errno);\n-    else if (ecode == 0)\n-      return TRUE;\n-    \/* Fall through on -ENOSYS, we must be running on an old kernel *\/\n-  }\n+  \/* We only support O_CLOEXEC\/FD_CLOEXEC and O_NONBLOCK *\/\n+  g_return_val_if_fail ((flags & (O_CLOEXEC | FD_CLOEXEC | O_NONBLOCK)) == flags, FALSE);\n+\n+#if O_CLOEXEC != FD_CLOEXEC && !defined(G_DISABLE_CHECKS)\n+  if (flags & FD_CLOEXEC)\n+    g_debug (\"g_unix_open_pipe() called with FD_CLOEXEC; please migrate to using O_CLOEXEC instead\");\n@@ -114,3 +114,0 @@\n-  ecode = pipe (fds);\n-  if (ecode == -1)\n-    return g_unix_set_error_from_errno (error, errno);\n@@ -118,2 +115,4 @@\n-  if (flags == 0)\n-    return TRUE;\n+  if (!g_unix_open_pipe_internal (fds,\n+                                  (flags & (O_CLOEXEC | FD_CLOEXEC)) != 0,\n+                                  (flags & O_NONBLOCK) != 0))\n+    return g_unix_set_error_from_errno (error, errno);\n@@ -121,16 +120,0 @@\n-  ecode = fcntl (fds[0], F_SETFD, flags);\n-  if (ecode == -1)\n-    {\n-      int saved_errno = errno;\n-      close (fds[0]);\n-      close (fds[1]);\n-      return g_unix_set_error_from_errno (error, saved_errno);\n-    }\n-  ecode = fcntl (fds[1], F_SETFD, flags);\n-  if (ecode == -1)\n-    {\n-      int saved_errno = errno;\n-      close (fds[0]);\n-      close (fds[1]);\n-      return g_unix_set_error_from_errno (error, saved_errno);\n-    }\n@@ -167,7 +150,1 @@\n-    {\n-#ifdef O_NONBLOCK\n-      fcntl_flags |= O_NONBLOCK;\n-#else\n-      fcntl_flags |= O_NDELAY;\n-#endif\n-    }\n+    fcntl_flags |= O_NONBLOCK;\n@@ -175,7 +152,1 @@\n-    {\n-#ifdef O_NONBLOCK\n-      fcntl_flags &= ~O_NONBLOCK;\n-#else\n-      fcntl_flags &= ~O_NDELAY;\n-#endif\n-    }\n+    fcntl_flags &= ~O_NONBLOCK;\n@@ -206,5 +177,5 @@\n- * g_main_loop_quit ().  It is not safe to do any of this a regular\n- * UNIX signal handler; your handler may be invoked while malloc() or\n- * another library function is running, causing reentrancy if you\n- * attempt to use it from the handler.  None of the GLib\/GObject API\n- * is safe against this kind of reentrancy.\n+ * g_main_loop_quit().  It is not safe to do any of this from a regular\n+ * UNIX signal handler; such a handler may be invoked while malloc() or\n+ * another library function is running, causing reentrancy issues if the\n+ * handler attempts to use those functions.  None of the GLib\/GObject\n+ * API is safe against this kind of reentrancy.\n@@ -327,1 +298,1 @@\n- * @condition: IO conditions to watch for on @fd\n+ * @condition: I\/O conditions to watch for on @fd\n@@ -329,1 +300,1 @@\n- * Creates a #GSource to watch for a particular IO condition on a file\n+ * Creates a #GSource to watch for a particular I\/O condition on a file\n@@ -332,1 +303,4 @@\n- * The source will never close the fd -- you must do it yourself.\n+ * The source will never close the @fd — you must do it yourself.\n+ *\n+ * Any callback attached to the returned #GSource must have type\n+ * #GUnixFDSourceFunc.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-unix.c","additions":46,"deletions":72,"binary":false,"changes":118,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-unix.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,117 @@\n+\/* glib-unixprivate.h - Unix specific integration private functions\n+ *\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2.1 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public License\n+ * along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n+ *\/\n+\n+#ifndef __G_UNIXPRIVATE_H__\n+#define __G_UNIXPRIVATE_H__\n+\n+#include \"config.h\"\n+\n+#ifndef G_OS_UNIX\n+#error \"This header may only be used on UNIX\"\n+#endif\n+\n+\/* To make bionic export pipe2() *\/\n+#ifndef _GNU_SOURCE\n+#define _GNU_SOURCE 1\n+#endif\n+\n+#include \"gmacros.h\"\n+#include \"gtypes.h\"\n+\n+#include <errno.h>\n+#include <fcntl.h>\n+#include <unistd.h>\n+\n+G_BEGIN_DECLS\n+\n+static inline gboolean\n+g_unix_open_pipe_internal (int *fds,\n+                           gboolean close_on_exec,\n+                           gboolean nonblock)\n+  {\n+#ifdef HAVE_PIPE2\n+  do\n+    {\n+      int ecode;\n+      int flags = 0;\n+\n+      if (close_on_exec)\n+        flags |= O_CLOEXEC;\n+      if (nonblock)\n+        flags |= O_NONBLOCK;\n+\n+      \/* Atomic *\/\n+      ecode = pipe2 (fds, flags);\n+      if (ecode == -1 && errno != ENOSYS)\n+        return FALSE;\n+      else if (ecode == 0)\n+        return TRUE;\n+      \/* Fall through on -ENOSYS, we must be running on an old kernel *\/\n+    }\n+  while (FALSE);\n+#endif\n+\n+  if (pipe (fds) == -1)\n+    return FALSE;\n+\n+  if (close_on_exec)\n+    {\n+      if (fcntl (fds[0], F_SETFD, FD_CLOEXEC) == -1 ||\n+          fcntl (fds[1], F_SETFD, FD_CLOEXEC) == -1)\n+        {\n+          int saved_errno = errno;\n+\n+          close (fds[0]);\n+          close (fds[1]);\n+          fds[0] = -1;\n+          fds[1] = -1;\n+\n+          errno = saved_errno;\n+          return FALSE;\n+        }\n+    }\n+\n+  if (nonblock)\n+    {\n+#ifdef O_NONBLOCK\n+      int flags = O_NONBLOCK;\n+#else\n+      int flags = O_NDELAY;\n+#endif\n+\n+      if (fcntl (fds[0], F_SETFL, flags) == -1 ||\n+          fcntl (fds[1], F_SETFL, flags) == -1)\n+        {\n+          int saved_errno = errno;\n+\n+          close (fds[0]);\n+          close (fds[1]);\n+          fds[0] = -1;\n+          fds[1] = -1;\n+\n+          errno = saved_errno;\n+          return FALSE;\n+        }\n+    }\n+\n+  return TRUE;\n+}\n+\n+G_END_DECLS\n+\n+#endif  \/* __G_UNIXPRIVATE_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-unixprivate.h","additions":117,"deletions":0,"binary":false,"changes":117,"status":"added"},{"patch":"@@ -0,0 +1,952 @@\n+#pragma once\n+\n+#if (defined(_WIN32) || defined(__CYGWIN__)) && !defined(GLIB_STATIC_COMPILATION)\n+#  define _GLIB_EXPORT __declspec(dllexport)\n+#  define _GLIB_IMPORT __declspec(dllimport)\n+#elif __GNUC__ >= 4\n+#  define _GLIB_EXPORT __attribute__((visibility(\"default\")))\n+#  define _GLIB_IMPORT\n+#else\n+#  define _GLIB_EXPORT\n+#  define _GLIB_IMPORT\n+#endif\n+#ifdef GLIB_COMPILATION\n+#  define _GLIB_API _GLIB_EXPORT\n+#else\n+#  define _GLIB_API _GLIB_IMPORT\n+#endif\n+\n+#define _GLIB_EXTERN _GLIB_API extern\n+\n+#define GLIB_VAR _GLIB_EXTERN\n+#define GLIB_AVAILABLE_IN_ALL _GLIB_EXTERN\n+\n+#ifdef GLIB_DISABLE_DEPRECATION_WARNINGS\n+#define GLIB_DEPRECATED _GLIB_EXTERN\n+#define GLIB_DEPRECATED_FOR(f) _GLIB_EXTERN\n+#define GLIB_UNAVAILABLE(maj,min) _GLIB_EXTERN\n+#define GLIB_UNAVAILABLE_STATIC_INLINE(maj,min)\n+#else\n+#define GLIB_DEPRECATED G_DEPRECATED _GLIB_EXTERN\n+#define GLIB_DEPRECATED_FOR(f) G_DEPRECATED_FOR(f) _GLIB_EXTERN\n+#define GLIB_UNAVAILABLE(maj,min) G_UNAVAILABLE(maj,min) _GLIB_EXTERN\n+#define GLIB_UNAVAILABLE_STATIC_INLINE(maj,min) G_UNAVAILABLE(maj,min)\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_26\n+#define GLIB_DEPRECATED_IN_2_26 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_26_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_26 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_26_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_26 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_26 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_26_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_26 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_26_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_26\n+#define GLIB_DEPRECATED_MACRO_IN_2_26_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_26\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_26\n+#define GLIB_DEPRECATED_TYPE_IN_2_26_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_26\n+#define GLIB_AVAILABLE_IN_2_26 GLIB_UNAVAILABLE (2, 26)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_26 GLIB_UNAVAILABLE_STATIC_INLINE (2, 26)\n+#define GLIB_AVAILABLE_MACRO_IN_2_26 GLIB_UNAVAILABLE_MACRO (2, 26)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_26 GLIB_UNAVAILABLE_ENUMERATOR (2, 26)\n+#define GLIB_AVAILABLE_TYPE_IN_2_26 GLIB_UNAVAILABLE_TYPE (2, 26)\n+#else\n+#define GLIB_AVAILABLE_IN_2_26 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_26\n+#define GLIB_AVAILABLE_MACRO_IN_2_26\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_26\n+#define GLIB_AVAILABLE_TYPE_IN_2_26\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_28\n+#define GLIB_DEPRECATED_IN_2_28 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_28_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_28 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_28_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_28 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_28 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_28_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_28 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_28_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_28\n+#define GLIB_DEPRECATED_MACRO_IN_2_28_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_28\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_28\n+#define GLIB_DEPRECATED_TYPE_IN_2_28_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_28\n+#define GLIB_AVAILABLE_IN_2_28 GLIB_UNAVAILABLE (2, 28)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_28 GLIB_UNAVAILABLE_STATIC_INLINE (2, 28)\n+#define GLIB_AVAILABLE_MACRO_IN_2_28 GLIB_UNAVAILABLE_MACRO (2, 28)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_28 GLIB_UNAVAILABLE_ENUMERATOR (2, 28)\n+#define GLIB_AVAILABLE_TYPE_IN_2_28 GLIB_UNAVAILABLE_TYPE (2, 28)\n+#else\n+#define GLIB_AVAILABLE_IN_2_28 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_28\n+#define GLIB_AVAILABLE_MACRO_IN_2_28\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_28\n+#define GLIB_AVAILABLE_TYPE_IN_2_28\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_30\n+#define GLIB_DEPRECATED_IN_2_30 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_30_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_30 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_30_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_30 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_30 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_30_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_30 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_30_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_30\n+#define GLIB_DEPRECATED_MACRO_IN_2_30_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_30\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_30\n+#define GLIB_DEPRECATED_TYPE_IN_2_30_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_30\n+#define GLIB_AVAILABLE_IN_2_30 GLIB_UNAVAILABLE (2, 30)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_30 GLIB_UNAVAILABLE_STATIC_INLINE (2, 30)\n+#define GLIB_AVAILABLE_MACRO_IN_2_30 GLIB_UNAVAILABLE_MACRO (2, 30)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_30 GLIB_UNAVAILABLE_ENUMERATOR (2, 30)\n+#define GLIB_AVAILABLE_TYPE_IN_2_30 GLIB_UNAVAILABLE_TYPE (2, 30)\n+#else\n+#define GLIB_AVAILABLE_IN_2_30 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_30\n+#define GLIB_AVAILABLE_MACRO_IN_2_30\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_30\n+#define GLIB_AVAILABLE_TYPE_IN_2_30\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_32\n+#define GLIB_DEPRECATED_IN_2_32 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_32_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_32 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_32_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_32 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_32 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_32_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_32 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_32_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_32\n+#define GLIB_DEPRECATED_MACRO_IN_2_32_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_32\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_32\n+#define GLIB_DEPRECATED_TYPE_IN_2_32_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_32\n+#define GLIB_AVAILABLE_IN_2_32 GLIB_UNAVAILABLE (2, 32)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_32 GLIB_UNAVAILABLE_STATIC_INLINE (2, 32)\n+#define GLIB_AVAILABLE_MACRO_IN_2_32 GLIB_UNAVAILABLE_MACRO (2, 32)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_32 GLIB_UNAVAILABLE_ENUMERATOR (2, 32)\n+#define GLIB_AVAILABLE_TYPE_IN_2_32 GLIB_UNAVAILABLE_TYPE (2, 32)\n+#else\n+#define GLIB_AVAILABLE_IN_2_32 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_32\n+#define GLIB_AVAILABLE_MACRO_IN_2_32\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_32\n+#define GLIB_AVAILABLE_TYPE_IN_2_32\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_34\n+#define GLIB_DEPRECATED_IN_2_34 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_34_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_34 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_34_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_34 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_34 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_34_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_34 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_34_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_34\n+#define GLIB_DEPRECATED_MACRO_IN_2_34_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_34\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_34\n+#define GLIB_DEPRECATED_TYPE_IN_2_34_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_34\n+#define GLIB_AVAILABLE_IN_2_34 GLIB_UNAVAILABLE (2, 34)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_34 GLIB_UNAVAILABLE_STATIC_INLINE (2, 34)\n+#define GLIB_AVAILABLE_MACRO_IN_2_34 GLIB_UNAVAILABLE_MACRO (2, 34)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_34 GLIB_UNAVAILABLE_ENUMERATOR (2, 34)\n+#define GLIB_AVAILABLE_TYPE_IN_2_34 GLIB_UNAVAILABLE_TYPE (2, 34)\n+#else\n+#define GLIB_AVAILABLE_IN_2_34 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_34\n+#define GLIB_AVAILABLE_MACRO_IN_2_34\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_34\n+#define GLIB_AVAILABLE_TYPE_IN_2_34\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_36\n+#define GLIB_DEPRECATED_IN_2_36 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_36_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_36 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_36_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_36 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_36 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_36_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_36 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_36_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_36\n+#define GLIB_DEPRECATED_MACRO_IN_2_36_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_36\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_36\n+#define GLIB_DEPRECATED_TYPE_IN_2_36_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_36\n+#define GLIB_AVAILABLE_IN_2_36 GLIB_UNAVAILABLE (2, 36)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_36 GLIB_UNAVAILABLE_STATIC_INLINE (2, 36)\n+#define GLIB_AVAILABLE_MACRO_IN_2_36 GLIB_UNAVAILABLE_MACRO (2, 36)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_36 GLIB_UNAVAILABLE_ENUMERATOR (2, 36)\n+#define GLIB_AVAILABLE_TYPE_IN_2_36 GLIB_UNAVAILABLE_TYPE (2, 36)\n+#else\n+#define GLIB_AVAILABLE_IN_2_36 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_36\n+#define GLIB_AVAILABLE_MACRO_IN_2_36\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_36\n+#define GLIB_AVAILABLE_TYPE_IN_2_36\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_38\n+#define GLIB_DEPRECATED_IN_2_38 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_38_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_38 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_38_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_38 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_38 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_38_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_38 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_38_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_38\n+#define GLIB_DEPRECATED_MACRO_IN_2_38_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_38\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_38\n+#define GLIB_DEPRECATED_TYPE_IN_2_38_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_38\n+#define GLIB_AVAILABLE_IN_2_38 GLIB_UNAVAILABLE (2, 38)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_38 GLIB_UNAVAILABLE_STATIC_INLINE (2, 38)\n+#define GLIB_AVAILABLE_MACRO_IN_2_38 GLIB_UNAVAILABLE_MACRO (2, 38)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_38 GLIB_UNAVAILABLE_ENUMERATOR (2, 38)\n+#define GLIB_AVAILABLE_TYPE_IN_2_38 GLIB_UNAVAILABLE_TYPE (2, 38)\n+#else\n+#define GLIB_AVAILABLE_IN_2_38 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_38\n+#define GLIB_AVAILABLE_MACRO_IN_2_38\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_38\n+#define GLIB_AVAILABLE_TYPE_IN_2_38\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_40\n+#define GLIB_DEPRECATED_IN_2_40 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_40_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_40 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_40_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_40 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_40 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_40_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_40 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_40_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_40\n+#define GLIB_DEPRECATED_MACRO_IN_2_40_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_40\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_40\n+#define GLIB_DEPRECATED_TYPE_IN_2_40_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_40\n+#define GLIB_AVAILABLE_IN_2_40 GLIB_UNAVAILABLE (2, 40)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_40 GLIB_UNAVAILABLE_STATIC_INLINE (2, 40)\n+#define GLIB_AVAILABLE_MACRO_IN_2_40 GLIB_UNAVAILABLE_MACRO (2, 40)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_40 GLIB_UNAVAILABLE_ENUMERATOR (2, 40)\n+#define GLIB_AVAILABLE_TYPE_IN_2_40 GLIB_UNAVAILABLE_TYPE (2, 40)\n+#else\n+#define GLIB_AVAILABLE_IN_2_40 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_40\n+#define GLIB_AVAILABLE_MACRO_IN_2_40\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_40\n+#define GLIB_AVAILABLE_TYPE_IN_2_40\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_42\n+#define GLIB_DEPRECATED_IN_2_42 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_42_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_42 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_42_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_42 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_42 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_42_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_42 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_42_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_42\n+#define GLIB_DEPRECATED_MACRO_IN_2_42_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_42\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_42\n+#define GLIB_DEPRECATED_TYPE_IN_2_42_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_42\n+#define GLIB_AVAILABLE_IN_2_42 GLIB_UNAVAILABLE (2, 42)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_42 GLIB_UNAVAILABLE_STATIC_INLINE (2, 42)\n+#define GLIB_AVAILABLE_MACRO_IN_2_42 GLIB_UNAVAILABLE_MACRO (2, 42)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_42 GLIB_UNAVAILABLE_ENUMERATOR (2, 42)\n+#define GLIB_AVAILABLE_TYPE_IN_2_42 GLIB_UNAVAILABLE_TYPE (2, 42)\n+#else\n+#define GLIB_AVAILABLE_IN_2_42 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_42\n+#define GLIB_AVAILABLE_MACRO_IN_2_42\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_42\n+#define GLIB_AVAILABLE_TYPE_IN_2_42\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_44\n+#define GLIB_DEPRECATED_IN_2_44 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_44_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_44 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_44_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_44 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_44 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_44_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_44 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_44_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_44\n+#define GLIB_DEPRECATED_MACRO_IN_2_44_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_44\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_44\n+#define GLIB_DEPRECATED_TYPE_IN_2_44_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_44\n+#define GLIB_AVAILABLE_IN_2_44 GLIB_UNAVAILABLE (2, 44)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_44 GLIB_UNAVAILABLE_STATIC_INLINE (2, 44)\n+#define GLIB_AVAILABLE_MACRO_IN_2_44 GLIB_UNAVAILABLE_MACRO (2, 44)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_44 GLIB_UNAVAILABLE_ENUMERATOR (2, 44)\n+#define GLIB_AVAILABLE_TYPE_IN_2_44 GLIB_UNAVAILABLE_TYPE (2, 44)\n+#else\n+#define GLIB_AVAILABLE_IN_2_44 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_44\n+#define GLIB_AVAILABLE_MACRO_IN_2_44\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_44\n+#define GLIB_AVAILABLE_TYPE_IN_2_44\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_46\n+#define GLIB_DEPRECATED_IN_2_46 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_46_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_46 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_46_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_46 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_46 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_46_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_46 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_46_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_46\n+#define GLIB_DEPRECATED_MACRO_IN_2_46_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_46\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_46\n+#define GLIB_DEPRECATED_TYPE_IN_2_46_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_46\n+#define GLIB_AVAILABLE_IN_2_46 GLIB_UNAVAILABLE (2, 46)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_46 GLIB_UNAVAILABLE_STATIC_INLINE (2, 46)\n+#define GLIB_AVAILABLE_MACRO_IN_2_46 GLIB_UNAVAILABLE_MACRO (2, 46)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_46 GLIB_UNAVAILABLE_ENUMERATOR (2, 46)\n+#define GLIB_AVAILABLE_TYPE_IN_2_46 GLIB_UNAVAILABLE_TYPE (2, 46)\n+#else\n+#define GLIB_AVAILABLE_IN_2_46 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_46\n+#define GLIB_AVAILABLE_MACRO_IN_2_46\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_46\n+#define GLIB_AVAILABLE_TYPE_IN_2_46\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_48\n+#define GLIB_DEPRECATED_IN_2_48 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_48_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_48 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_48_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_48 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_48 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_48_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_48 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_48_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_48\n+#define GLIB_DEPRECATED_MACRO_IN_2_48_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_48\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_48\n+#define GLIB_DEPRECATED_TYPE_IN_2_48_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_48\n+#define GLIB_AVAILABLE_IN_2_48 GLIB_UNAVAILABLE (2, 48)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_48 GLIB_UNAVAILABLE_STATIC_INLINE (2, 48)\n+#define GLIB_AVAILABLE_MACRO_IN_2_48 GLIB_UNAVAILABLE_MACRO (2, 48)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_48 GLIB_UNAVAILABLE_ENUMERATOR (2, 48)\n+#define GLIB_AVAILABLE_TYPE_IN_2_48 GLIB_UNAVAILABLE_TYPE (2, 48)\n+#else\n+#define GLIB_AVAILABLE_IN_2_48 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_48\n+#define GLIB_AVAILABLE_MACRO_IN_2_48\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_48\n+#define GLIB_AVAILABLE_TYPE_IN_2_48\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_50\n+#define GLIB_DEPRECATED_IN_2_50 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_50_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_50 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_50_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_50 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_50 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_50_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_50 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_50_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_50\n+#define GLIB_DEPRECATED_MACRO_IN_2_50_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_50\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_50\n+#define GLIB_DEPRECATED_TYPE_IN_2_50_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_50\n+#define GLIB_AVAILABLE_IN_2_50 GLIB_UNAVAILABLE (2, 50)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_50 GLIB_UNAVAILABLE_STATIC_INLINE (2, 50)\n+#define GLIB_AVAILABLE_MACRO_IN_2_50 GLIB_UNAVAILABLE_MACRO (2, 50)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_50 GLIB_UNAVAILABLE_ENUMERATOR (2, 50)\n+#define GLIB_AVAILABLE_TYPE_IN_2_50 GLIB_UNAVAILABLE_TYPE (2, 50)\n+#else\n+#define GLIB_AVAILABLE_IN_2_50 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_50\n+#define GLIB_AVAILABLE_MACRO_IN_2_50\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_50\n+#define GLIB_AVAILABLE_TYPE_IN_2_50\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_52\n+#define GLIB_DEPRECATED_IN_2_52 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_52_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_52 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_52_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_52 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_52 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_52_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_52 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_52_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_52\n+#define GLIB_DEPRECATED_MACRO_IN_2_52_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_52\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_52\n+#define GLIB_DEPRECATED_TYPE_IN_2_52_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_52\n+#define GLIB_AVAILABLE_IN_2_52 GLIB_UNAVAILABLE (2, 52)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_52 GLIB_UNAVAILABLE_STATIC_INLINE (2, 52)\n+#define GLIB_AVAILABLE_MACRO_IN_2_52 GLIB_UNAVAILABLE_MACRO (2, 52)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_52 GLIB_UNAVAILABLE_ENUMERATOR (2, 52)\n+#define GLIB_AVAILABLE_TYPE_IN_2_52 GLIB_UNAVAILABLE_TYPE (2, 52)\n+#else\n+#define GLIB_AVAILABLE_IN_2_52 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_52\n+#define GLIB_AVAILABLE_MACRO_IN_2_52\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_52\n+#define GLIB_AVAILABLE_TYPE_IN_2_52\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_54\n+#define GLIB_DEPRECATED_IN_2_54 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_54_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_54 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_54_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_54 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_54 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_54_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_54 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_54_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_54\n+#define GLIB_DEPRECATED_MACRO_IN_2_54_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_54\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_54\n+#define GLIB_DEPRECATED_TYPE_IN_2_54_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_54\n+#define GLIB_AVAILABLE_IN_2_54 GLIB_UNAVAILABLE (2, 54)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_54 GLIB_UNAVAILABLE_STATIC_INLINE (2, 54)\n+#define GLIB_AVAILABLE_MACRO_IN_2_54 GLIB_UNAVAILABLE_MACRO (2, 54)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_54 GLIB_UNAVAILABLE_ENUMERATOR (2, 54)\n+#define GLIB_AVAILABLE_TYPE_IN_2_54 GLIB_UNAVAILABLE_TYPE (2, 54)\n+#else\n+#define GLIB_AVAILABLE_IN_2_54 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_54\n+#define GLIB_AVAILABLE_MACRO_IN_2_54\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_54\n+#define GLIB_AVAILABLE_TYPE_IN_2_54\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_56\n+#define GLIB_DEPRECATED_IN_2_56 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_56_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_56 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_56_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_56 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_56 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_56_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_56 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_56_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_56\n+#define GLIB_DEPRECATED_MACRO_IN_2_56_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_56\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_56\n+#define GLIB_DEPRECATED_TYPE_IN_2_56_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_56\n+#define GLIB_AVAILABLE_IN_2_56 GLIB_UNAVAILABLE (2, 56)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_56 GLIB_UNAVAILABLE_STATIC_INLINE (2, 56)\n+#define GLIB_AVAILABLE_MACRO_IN_2_56 GLIB_UNAVAILABLE_MACRO (2, 56)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_56 GLIB_UNAVAILABLE_ENUMERATOR (2, 56)\n+#define GLIB_AVAILABLE_TYPE_IN_2_56 GLIB_UNAVAILABLE_TYPE (2, 56)\n+#else\n+#define GLIB_AVAILABLE_IN_2_56 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_56\n+#define GLIB_AVAILABLE_MACRO_IN_2_56\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_56\n+#define GLIB_AVAILABLE_TYPE_IN_2_56\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_58\n+#define GLIB_DEPRECATED_IN_2_58 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_58_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_58 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_58_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_58 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_58 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_58_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_58 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_58_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_58\n+#define GLIB_DEPRECATED_MACRO_IN_2_58_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_58\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_58\n+#define GLIB_DEPRECATED_TYPE_IN_2_58_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_58\n+#define GLIB_AVAILABLE_IN_2_58 GLIB_UNAVAILABLE (2, 58)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_58 GLIB_UNAVAILABLE_STATIC_INLINE (2, 58)\n+#define GLIB_AVAILABLE_MACRO_IN_2_58 GLIB_UNAVAILABLE_MACRO (2, 58)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_58 GLIB_UNAVAILABLE_ENUMERATOR (2, 58)\n+#define GLIB_AVAILABLE_TYPE_IN_2_58 GLIB_UNAVAILABLE_TYPE (2, 58)\n+#else\n+#define GLIB_AVAILABLE_IN_2_58 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_58\n+#define GLIB_AVAILABLE_MACRO_IN_2_58\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_58\n+#define GLIB_AVAILABLE_TYPE_IN_2_58\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_60\n+#define GLIB_DEPRECATED_IN_2_60 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_60_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_60 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_60_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_60 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_60 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_60_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_60 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_60_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_60\n+#define GLIB_DEPRECATED_MACRO_IN_2_60_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_60\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_60\n+#define GLIB_DEPRECATED_TYPE_IN_2_60_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_60\n+#define GLIB_AVAILABLE_IN_2_60 GLIB_UNAVAILABLE (2, 60)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_60 GLIB_UNAVAILABLE_STATIC_INLINE (2, 60)\n+#define GLIB_AVAILABLE_MACRO_IN_2_60 GLIB_UNAVAILABLE_MACRO (2, 60)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_60 GLIB_UNAVAILABLE_ENUMERATOR (2, 60)\n+#define GLIB_AVAILABLE_TYPE_IN_2_60 GLIB_UNAVAILABLE_TYPE (2, 60)\n+#else\n+#define GLIB_AVAILABLE_IN_2_60 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_60\n+#define GLIB_AVAILABLE_MACRO_IN_2_60\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_60\n+#define GLIB_AVAILABLE_TYPE_IN_2_60\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_62\n+#define GLIB_DEPRECATED_IN_2_62 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_62_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_62 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_62_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_62 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_62 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_62_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_62 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_62_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_62\n+#define GLIB_DEPRECATED_MACRO_IN_2_62_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_62\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_62\n+#define GLIB_DEPRECATED_TYPE_IN_2_62_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_62\n+#define GLIB_AVAILABLE_IN_2_62 GLIB_UNAVAILABLE (2, 62)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_62 GLIB_UNAVAILABLE_STATIC_INLINE (2, 62)\n+#define GLIB_AVAILABLE_MACRO_IN_2_62 GLIB_UNAVAILABLE_MACRO (2, 62)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_62 GLIB_UNAVAILABLE_ENUMERATOR (2, 62)\n+#define GLIB_AVAILABLE_TYPE_IN_2_62 GLIB_UNAVAILABLE_TYPE (2, 62)\n+#else\n+#define GLIB_AVAILABLE_IN_2_62 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_62\n+#define GLIB_AVAILABLE_MACRO_IN_2_62\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_62\n+#define GLIB_AVAILABLE_TYPE_IN_2_62\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_64\n+#define GLIB_DEPRECATED_IN_2_64 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_64_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_64 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_64_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_64 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_64 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_64_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_64 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_64_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_64\n+#define GLIB_DEPRECATED_MACRO_IN_2_64_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_64\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_64\n+#define GLIB_DEPRECATED_TYPE_IN_2_64_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_64\n+#define GLIB_AVAILABLE_IN_2_64 GLIB_UNAVAILABLE (2, 64)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_64 GLIB_UNAVAILABLE_STATIC_INLINE (2, 64)\n+#define GLIB_AVAILABLE_MACRO_IN_2_64 GLIB_UNAVAILABLE_MACRO (2, 64)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_64 GLIB_UNAVAILABLE_ENUMERATOR (2, 64)\n+#define GLIB_AVAILABLE_TYPE_IN_2_64 GLIB_UNAVAILABLE_TYPE (2, 64)\n+#else\n+#define GLIB_AVAILABLE_IN_2_64 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_64\n+#define GLIB_AVAILABLE_MACRO_IN_2_64\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_64\n+#define GLIB_AVAILABLE_TYPE_IN_2_64\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_66\n+#define GLIB_DEPRECATED_IN_2_66 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_66_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_66 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_66_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_66 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_66 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_66_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_66 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_66_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_66\n+#define GLIB_DEPRECATED_MACRO_IN_2_66_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_66\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_66\n+#define GLIB_DEPRECATED_TYPE_IN_2_66_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_66\n+#define GLIB_AVAILABLE_IN_2_66 GLIB_UNAVAILABLE (2, 66)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_66 GLIB_UNAVAILABLE_STATIC_INLINE (2, 66)\n+#define GLIB_AVAILABLE_MACRO_IN_2_66 GLIB_UNAVAILABLE_MACRO (2, 66)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_66 GLIB_UNAVAILABLE_ENUMERATOR (2, 66)\n+#define GLIB_AVAILABLE_TYPE_IN_2_66 GLIB_UNAVAILABLE_TYPE (2, 66)\n+#else\n+#define GLIB_AVAILABLE_IN_2_66 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_66\n+#define GLIB_AVAILABLE_MACRO_IN_2_66\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_66\n+#define GLIB_AVAILABLE_TYPE_IN_2_66\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n+#define GLIB_DEPRECATED_IN_2_68 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_68_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_68 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_68_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_68 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_68 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_68_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_68 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_68_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_68\n+#define GLIB_DEPRECATED_MACRO_IN_2_68_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_68\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_68\n+#define GLIB_DEPRECATED_TYPE_IN_2_68_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_68\n+#define GLIB_AVAILABLE_IN_2_68 GLIB_UNAVAILABLE (2, 68)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_68 GLIB_UNAVAILABLE_STATIC_INLINE (2, 68)\n+#define GLIB_AVAILABLE_MACRO_IN_2_68 GLIB_UNAVAILABLE_MACRO (2, 68)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_68 GLIB_UNAVAILABLE_ENUMERATOR (2, 68)\n+#define GLIB_AVAILABLE_TYPE_IN_2_68 GLIB_UNAVAILABLE_TYPE (2, 68)\n+#else\n+#define GLIB_AVAILABLE_IN_2_68 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_68\n+#define GLIB_AVAILABLE_MACRO_IN_2_68\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_68\n+#define GLIB_AVAILABLE_TYPE_IN_2_68\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_70\n+#define GLIB_DEPRECATED_IN_2_70 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_70_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_70 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_70_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_70 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_70 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_70_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_70 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_70_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_70\n+#define GLIB_DEPRECATED_MACRO_IN_2_70_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_70\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_70\n+#define GLIB_DEPRECATED_TYPE_IN_2_70_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_70\n+#define GLIB_AVAILABLE_IN_2_70 GLIB_UNAVAILABLE (2, 70)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_70 GLIB_UNAVAILABLE_STATIC_INLINE (2, 70)\n+#define GLIB_AVAILABLE_MACRO_IN_2_70 GLIB_UNAVAILABLE_MACRO (2, 70)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_70 GLIB_UNAVAILABLE_ENUMERATOR (2, 70)\n+#define GLIB_AVAILABLE_TYPE_IN_2_70 GLIB_UNAVAILABLE_TYPE (2, 70)\n+#else\n+#define GLIB_AVAILABLE_IN_2_70 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_70\n+#define GLIB_AVAILABLE_MACRO_IN_2_70\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_70\n+#define GLIB_AVAILABLE_TYPE_IN_2_70\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_72\n+#define GLIB_DEPRECATED_IN_2_72 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_72_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_72 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_72_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_72 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_72 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_72_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_72 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_72_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_72\n+#define GLIB_DEPRECATED_MACRO_IN_2_72_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_72\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_72\n+#define GLIB_DEPRECATED_TYPE_IN_2_72_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_72\n+#define GLIB_AVAILABLE_IN_2_72 GLIB_UNAVAILABLE (2, 72)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_72 GLIB_UNAVAILABLE_STATIC_INLINE (2, 72)\n+#define GLIB_AVAILABLE_MACRO_IN_2_72 GLIB_UNAVAILABLE_MACRO (2, 72)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_72 GLIB_UNAVAILABLE_ENUMERATOR (2, 72)\n+#define GLIB_AVAILABLE_TYPE_IN_2_72 GLIB_UNAVAILABLE_TYPE (2, 72)\n+#else\n+#define GLIB_AVAILABLE_IN_2_72 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_72\n+#define GLIB_AVAILABLE_MACRO_IN_2_72\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_72\n+#define GLIB_AVAILABLE_TYPE_IN_2_72\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_74\n+#define GLIB_DEPRECATED_IN_2_74 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_74_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_74 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_74_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_74 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_74_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_74 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_74_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_74 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_74_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_74\n+#define GLIB_DEPRECATED_MACRO_IN_2_74_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_74\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_74_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_74\n+#define GLIB_DEPRECATED_TYPE_IN_2_74_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_74\n+#define GLIB_AVAILABLE_IN_2_74 GLIB_UNAVAILABLE (2, 74)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_74 GLIB_UNAVAILABLE_STATIC_INLINE (2, 74)\n+#define GLIB_AVAILABLE_MACRO_IN_2_74 GLIB_UNAVAILABLE_MACRO (2, 74)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_74 GLIB_UNAVAILABLE_ENUMERATOR (2, 74)\n+#define GLIB_AVAILABLE_TYPE_IN_2_74 GLIB_UNAVAILABLE_TYPE (2, 74)\n+#else\n+#define GLIB_AVAILABLE_IN_2_74 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_74\n+#define GLIB_AVAILABLE_MACRO_IN_2_74\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_74\n+#define GLIB_AVAILABLE_TYPE_IN_2_74\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_76\n+#define GLIB_DEPRECATED_IN_2_76 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_76_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_76 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_76_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_76 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_76_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_76 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_76_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_76 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_76_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_76\n+#define GLIB_DEPRECATED_MACRO_IN_2_76_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_76\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_76_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_76\n+#define GLIB_DEPRECATED_TYPE_IN_2_76_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_76\n+#define GLIB_AVAILABLE_IN_2_76 GLIB_UNAVAILABLE (2, 76)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_76 GLIB_UNAVAILABLE_STATIC_INLINE (2, 76)\n+#define GLIB_AVAILABLE_MACRO_IN_2_76 GLIB_UNAVAILABLE_MACRO (2, 76)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_76 GLIB_UNAVAILABLE_ENUMERATOR (2, 76)\n+#define GLIB_AVAILABLE_TYPE_IN_2_76 GLIB_UNAVAILABLE_TYPE (2, 76)\n+#else\n+#define GLIB_AVAILABLE_IN_2_76 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_76\n+#define GLIB_AVAILABLE_MACRO_IN_2_76\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_76\n+#define GLIB_AVAILABLE_TYPE_IN_2_76\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78\n+#define GLIB_DEPRECATED_IN_2_78 GLIB_DEPRECATED\n+#define GLIB_DEPRECATED_IN_2_78_FOR(f) GLIB_DEPRECATED_FOR (f)\n+#define GLIB_DEPRECATED_MACRO_IN_2_78 GLIB_DEPRECATED_MACRO\n+#define GLIB_DEPRECATED_MACRO_IN_2_78_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_78 GLIB_DEPRECATED_ENUMERATOR\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_78_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_78 GLIB_DEPRECATED_TYPE\n+#define GLIB_DEPRECATED_TYPE_IN_2_78_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GLIB_DEPRECATED_IN_2_78 _GLIB_EXTERN\n+#define GLIB_DEPRECATED_IN_2_78_FOR(f) _GLIB_EXTERN\n+#define GLIB_DEPRECATED_MACRO_IN_2_78\n+#define GLIB_DEPRECATED_MACRO_IN_2_78_FOR(f)\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_78\n+#define GLIB_DEPRECATED_ENUMERATOR_IN_2_78_FOR(f)\n+#define GLIB_DEPRECATED_TYPE_IN_2_78\n+#define GLIB_DEPRECATED_TYPE_IN_2_78_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_78\n+#define GLIB_AVAILABLE_IN_2_78 GLIB_UNAVAILABLE (2, 78)\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_78 GLIB_UNAVAILABLE_STATIC_INLINE (2, 78)\n+#define GLIB_AVAILABLE_MACRO_IN_2_78 GLIB_UNAVAILABLE_MACRO (2, 78)\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_78 GLIB_UNAVAILABLE_ENUMERATOR (2, 78)\n+#define GLIB_AVAILABLE_TYPE_IN_2_78 GLIB_UNAVAILABLE_TYPE (2, 78)\n+#else\n+#define GLIB_AVAILABLE_IN_2_78 _GLIB_EXTERN\n+#define GLIB_AVAILABLE_STATIC_INLINE_IN_2_78\n+#define GLIB_AVAILABLE_MACRO_IN_2_78\n+#define GLIB_AVAILABLE_ENUMERATOR_IN_2_78\n+#define GLIB_AVAILABLE_TYPE_IN_2_78\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-visibility.h","additions":952,"deletions":0,"binary":false,"changes":952,"status":"added"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -37,0 +39,1 @@\n+#ifndef GSTREAMER_LITE\n@@ -38,0 +41,1 @@\n+#endif \/\/ GSTREAMER_LITE\n@@ -65,0 +69,1 @@\n+#include <glib\/gpathbuf.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib.h","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib_trace.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glist.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glist.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -65,0 +67,43 @@\n+#if !defined (__cplusplus)\n+\n+# undef G_CXX_STD_VERSION\n+# define G_CXX_STD_CHECK_VERSION(version) (0)\n+\n+# if defined (__STDC_VERSION__)\n+#  define G_C_STD_VERSION __STDC_VERSION__\n+# else\n+#  define G_C_STD_VERSION 199000L\n+# endif \/* defined (__STDC_VERSION__) *\/\n+\n+# define G_C_STD_CHECK_VERSION(version) ( \\\n+  ((version) >= 199000L && (version) <= G_C_STD_VERSION) || \\\n+  ((version) == 89 && G_C_STD_VERSION >= 199000L) || \\\n+  ((version) == 90 && G_C_STD_VERSION >= 199000L) || \\\n+  ((version) == 99 && G_C_STD_VERSION >= 199901L) || \\\n+  ((version) == 11 && G_C_STD_VERSION >= 201112L) || \\\n+  ((version) == 17 && G_C_STD_VERSION >= 201710L) || \\\n+  0)\n+\n+#else \/* defined (__cplusplus) *\/\n+\n+# undef G_C_STD_VERSION\n+# define G_C_STD_CHECK_VERSION(version) (0)\n+\n+# if defined (_MSVC_LANG)\n+#  define G_CXX_STD_VERSION (_MSVC_LANG > __cplusplus ? _MSVC_LANG : __cplusplus)\n+# else\n+#  define G_CXX_STD_VERSION __cplusplus\n+# endif \/* defined(_MSVC_LANG) *\/\n+\n+# define G_CXX_STD_CHECK_VERSION(version) ( \\\n+  ((version) >= 199711L && (version) <= G_CXX_STD_VERSION) || \\\n+  ((version) == 98 && G_CXX_STD_VERSION >= 199711L) || \\\n+  ((version) == 03 && G_CXX_STD_VERSION >= 199711L) || \\\n+  ((version) == 11 && G_CXX_STD_VERSION >= 201103L) || \\\n+  ((version) == 14 && G_CXX_STD_VERSION >= 201402L) || \\\n+  ((version) == 17 && G_CXX_STD_VERSION >= 201703L) || \\\n+  ((version) == 20 && G_CXX_STD_VERSION >= 202002L) || \\\n+  0)\n+\n+#endif \/* !defined (__cplusplus) *\/\n+\n@@ -67,4 +112,1 @@\n- * we are using C++, then we can use \"inline\" directly.  Unfortunately\n- * Visual Studio does not support __STDC_VERSION__, so we need to check\n- * whether we are on Visual Studio 2013 or earlier to see that we need to\n- * say \"__inline\" in C mode.\n+ * we are using C++, then we can use \"inline\" directly.\n@@ -72,0 +114,3 @@\n+ * Unfortunately Visual Studio does not define __STDC_VERSION__ (if not\n+ * using \/std:cXX) so we need to check whether we are on Visual Studio 2013\n+ * or earlier to see whether we need to say \"__inline\" in C mode.\n@@ -74,1 +119,1 @@\n-#ifndef __cplusplus\n+#ifdef G_C_STD_VERSION\n@@ -79,1 +124,1 @@\n-# elif !defined(__STDC_VERSION__) || (__STDC_VERSION__ < 199900)\n+# elif !G_C_STD_CHECK_VERSION (99)\n@@ -130,4 +175,0 @@\n-#define g_macro__has_attribute___pure__ G_GNUC_CHECK_VERSION (2, 96)\n-#define g_macro__has_attribute___malloc__ G_GNUC_CHECK_VERSION (2, 96)\n-#define g_macro__has_attribute___noinline__ G_GNUC_CHECK_VERSION (2, 96)\n-#define g_macro__has_attribute___sentinel__ G_GNUC_CHECK_VERSION (4, 0)\n@@ -135,0 +176,3 @@\n+#define g_macro__has_attribute___always_inline__ G_GNUC_CHECK_VERSION (2, 0)\n+#define g_macro__has_attribute___const__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___deprecated__ G_GNUC_CHECK_VERSION (3, 1)\n@@ -137,0 +181,3 @@\n+#define g_macro__has_attribute___malloc__ G_GNUC_CHECK_VERSION (2, 96)\n+#define g_macro__has_attribute___no_instrument_function__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___noinline__ G_GNUC_CHECK_VERSION (2, 96)\n@@ -138,1 +185,2 @@\n-#define g_macro__has_attribute___const__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___pure__ G_GNUC_CHECK_VERSION (2, 96)\n+#define g_macro__has_attribute___sentinel__ G_GNUC_CHECK_VERSION (4, 0)\n@@ -140,1 +188,1 @@\n-#define g_macro__has_attribute___no_instrument_function__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute_cleanup G_GNUC_CHECK_VERSION (3, 3)\n@@ -142,1 +190,0 @@\n-#define g_macro__has_attribute___deprecated__ G_GNUC_CHECK_VERSION (3, 1)\n@@ -145,1 +192,0 @@\n-#define g_macro__has_attribute_cleanup G_GNUC_CHECK_VERSION (3, 3)\n@@ -213,0 +259,3 @@\n+ * This macro is provided for retro-compatibility and will be eventually\n+ * deprecated, but %G_NO_INLINE should be used instead.\n+ *\n@@ -229,0 +278,2 @@\n+ * See also: %G_NO_INLINE, %G_ALWAYS_INLINE.\n+ *\n@@ -231,5 +282,0 @@\n-\/* Note: We can’t annotate this with GLIB_AVAILABLE_MACRO_IN_2_58 because it’s\n- * used within the GLib headers in function declarations which are always\n- * evaluated when a header is included. This results in warnings in third party\n- * code which includes glib.h, even if the third party code doesn’t use the new\n- * macro itself. *\/\n@@ -250,1 +296,2 @@\n-#define G_GNUC_NO_INLINE __attribute__ ((__noinline__))\n+#define G_GNUC_NO_INLINE __attribute__ ((__noinline__)) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_58\n@@ -252,1 +299,2 @@\n-#define G_GNUC_NO_INLINE\n+#define G_GNUC_NO_INLINE \\\n+  GLIB_AVAILABLE_MACRO_IN_2_58\n@@ -818,6 +866,1 @@\n-#if !defined(__cplusplus) && defined(__STDC_VERSION__) && \\\n-    (__STDC_VERSION__ >= 201112L || g_macro__has_feature(c_static_assert) || g_macro__has_extension(c_static_assert))\n-#define G_STATIC_ASSERT(expr) _Static_assert (expr, \"Expression evaluates to false\")\n-#elif (defined(__cplusplus) && __cplusplus >= 201103L) || \\\n-      (defined(__cplusplus) && defined (_MSC_VER) && (_MSC_VER >= 1600)) || \\\n-      (defined (_MSC_VER) && (_MSC_VER >= 1800))\n+#if G_CXX_STD_CHECK_VERSION (11)\n@@ -825,0 +868,3 @@\n+#elif (G_C_STD_CHECK_VERSION (11) || \\\n+     g_macro__has_feature(c_static_assert) || g_macro__has_extension(c_static_assert))\n+#define G_STATIC_ASSERT(expr) _Static_assert (expr, \"Expression evaluates to false\")\n@@ -831,1 +877,1 @@\n-#endif \/* __STDC_VERSION__ *\/\n+#endif \/* G_CXX_STD_CHECK_VERSION (11) *\/\n@@ -836,2 +882,2 @@\n-#if defined(__GNUC__) && (__GNUC__ < 3) && !defined(__cplusplus)\n-#define G_STRLOC        __FILE__ \":\" G_STRINGIFY (__LINE__) \":\" __PRETTY_FUNCTION__ \"()\"\n+#if defined (__GNUC__) && (__GNUC__ < 3) && !defined (G_CXX_STD_VERSION)\n+#define G_STRLOC  __FILE__ \":\" G_STRINGIFY (__LINE__) \":\" __PRETTY_FUNCTION__ \"()\"\n@@ -839,1 +885,1 @@\n-#define G_STRLOC        __FILE__ \":\" G_STRINGIFY (__LINE__)\n+#define G_STRLOC  __FILE__ \":\" G_STRINGIFY (__LINE__)\n@@ -843,1 +889,1 @@\n-#if defined (__GNUC__) && defined (__cplusplus)\n+#if defined (__GNUC__) && defined (G_CXX_STD_VERSION)\n@@ -845,1 +891,1 @@\n-#elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 199901L\n+#elif G_C_STD_CHECK_VERSION (99)\n@@ -854,1 +900,1 @@\n-#ifdef  __cplusplus\n+#ifdef  G_CXX_STD_VERSION\n@@ -868,5 +914,7 @@\n-#  ifdef __cplusplus\n-#  define NULL        (0L)\n-#  else \/* !__cplusplus *\/\n-#  define NULL        ((void*) 0)\n-#  endif \/* !__cplusplus *\/\n+#  if G_CXX_STD_CHECK_VERSION (11)\n+#    define NULL (nullptr)\n+#  elif defined (G_CXX_STD_VERSION)\n+#    define NULL (0L)\n+#  else\n+#    define NULL ((void*) 0)\n+#  endif \/* G_CXX_STD_CHECK_VERSION (11) *\/\n@@ -907,1 +955,1 @@\n-#define GSIZE_TO_POINTER(s)     ((gpointer) (gsize) (s))\n+#define GSIZE_TO_POINTER(s)     ((gpointer) (guintptr) (gsize) (s))\n@@ -971,1 +1019,1 @@\n-#if defined(__STDC_VERSION__) && __STDC_VERSION__ >= 201112L && !defined(__cplusplus)\n+#if G_C_STD_CHECK_VERSION (11)\n@@ -1023,1 +1071,4 @@\n-#if g_macro__has_attribute(__noreturn__)\n+#if G_CXX_STD_CHECK_VERSION (11)\n+  \/* Use ISO C++11 syntax when the compiler supports it.  *\/\n+# define G_NORETURN [[noreturn]]\n+#elif g_macro__has_attribute(__noreturn__)\n@@ -1030,3 +1081,0 @@\n-  \/* Use ISO C++11 syntax when the compiler supports it.  *\/\n-#elif defined (__cplusplus) && __cplusplus >= 201103\n-# define G_NORETURN [[noreturn]]\n@@ -1034,1 +1082,1 @@\n-#elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112\n+#elif G_C_STD_CHECK_VERSION (11)\n@@ -1070,0 +1118,106 @@\n+\/**\n+ * G_ALWAYS_INLINE:\n+ *\n+ * Expands to the GNU C `always_inline` or MSVC `__forceinline` function\n+ * attribute depending on the compiler. It is used for declaring functions\n+ * as always inlined, ignoring the compiler optimization levels.\n+ *\n+ * The attribute may be placed before the declaration or definition,\n+ * right before the `static` keyword.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_ALWAYS_INLINE\n+ * static int\n+ * do_inline_this (void)\n+ * {\n+ *   ...\n+ * }\n+ * ]|\n+ *\n+ * See the\n+ * [GNU C documentation](https:\/\/gcc.gnu.org\/onlinedocs\/gcc\/Common-Function-Attributes.html#index-always_005finline-function-attribute)\n+ * and the\n+ * [MSVC documentation](https:\/\/docs.microsoft.com\/en-us\/visualstudio\/misc\/inline-inline-forceinline)\n+ *\n+ * Since: 2.74\n+ *\/\n+\/* Note: We can’t annotate this with GLIB_AVAILABLE_MACRO_IN_2_74 because it’s\n+ * used within the GLib headers in function declarations which are always\n+ * evaluated when a header is included. This results in warnings in third party\n+ * code which includes glib.h, even if the third party code doesn’t use the new\n+ * macro itself. *\/\n+#if g_macro__has_attribute(__always_inline__)\n+# if G_CXX_STD_CHECK_VERSION (11)\n+    \/* Use ISO C++11 syntax when the compiler supports it. *\/\n+#   define G_ALWAYS_INLINE [[gnu::always_inline]]\n+# else\n+#   define G_ALWAYS_INLINE __attribute__ ((__always_inline__))\n+# endif\n+#elif defined (_MSC_VER)\n+  \/* Use MSVC specific syntax.  *\/\n+# if G_CXX_STD_CHECK_VERSION (20) && _MSC_VER >= 1927\n+#  define G_ALWAYS_INLINE [[msvc::forceinline]]\n+# else\n+#  define G_ALWAYS_INLINE __forceinline\n+# endif\n+#else\n+# define G_ALWAYS_INLINE \/* empty *\/\n+#endif\n+\n+\/**\n+ * G_NO_INLINE:\n+ *\n+ * Expands to the GNU C or MSVC `noinline` function attribute\n+ * depending on the compiler. It is used for declaring functions\n+ * preventing from being considered for inlining.\n+ *\n+ * Note that %G_NO_INLINE supersedes the previous %G_GNUC_NO_INLINE\n+ * macro, which will eventually be deprecated.\n+ * %G_NO_INLINE supports more platforms.\n+ *\n+ * The attribute may be placed before the declaration or definition,\n+ * right before the `static` keyword.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_NO_INLINE\n+ * static int\n+ * do_not_inline_this (void)\n+ * {\n+ *   ...\n+ * }\n+ * ]|\n+ *\n+ * Since: 2.74\n+ *\/\n+\/* Note: We can’t annotate this with GLIB_AVAILABLE_MACRO_IN_2_74 because it’s\n+ * used within the GLib headers in function declarations which are always\n+ * evaluated when a header is included. This results in warnings in third party\n+ * code which includes glib.h, even if the third party code doesn’t use the new\n+ * macro itself. *\/\n+#if g_macro__has_attribute(__noinline__)\n+# if G_CXX_STD_CHECK_VERSION (11)\n+    \/* Use ISO C++11 syntax when the compiler supports it. *\/\n+#   if defined (__GNUC__)\n+#      define G_NO_INLINE [[gnu::noinline]]\n+#   elif defined (_MSC_VER)\n+#      if G_CXX_STD_CHECK_VERSION (20) && _MSC_VER >= 1927\n+#        define G_NO_INLINE [[msvc::noinline]]\n+#      else\n+#        define G_NO_INLINE __declspec (noinline)\n+#      endif\n+#   endif\n+# else\n+#   define G_NO_INLINE __attribute__ ((__noinline__))\n+# endif\n+#elif defined (_MSC_VER) && (1200 <= _MSC_VER)\n+  \/* Use MSVC specific syntax.  *\/\n+    \/* Use ISO C++11 syntax when the compiler supports it. *\/\n+# if G_CXX_STD_CHECK_VERSION (20) && _MSC_VER >= 1927\n+#   define G_NO_INLINE [[msvc::noinline]]\n+# else\n+#   define G_NO_INLINE __declspec (noinline)\n+# endif\n+#else\n+# define G_NO_INLINE \/* empty *\/\n+#endif\n+\n@@ -1079,1 +1233,1 @@\n-#define _G_BOOLEAN_EXPR(expr)                   \\\n+#define _G_BOOLEAN_EXPR_IMPL(uniq, expr)        \\\n@@ -1081,1 +1235,1 @@\n-   int _g_boolean_var_;                         \\\n+   int G_PASTE (_g_boolean_var_, uniq);         \\\n@@ -1083,1 +1237,1 @@\n-      _g_boolean_var_ = 1;                      \\\n+      G_PASTE (_g_boolean_var_, uniq) = 1;      \\\n@@ -1085,2 +1239,2 @@\n-      _g_boolean_var_ = 0;                      \\\n-   _g_boolean_var_;                             \\\n+      G_PASTE (_g_boolean_var_, uniq) = 0;      \\\n+   G_PASTE (_g_boolean_var_, uniq);             \\\n@@ -1088,0 +1242,1 @@\n+#define _G_BOOLEAN_EXPR(expr) _G_BOOLEAN_EXPR_IMPL (__COUNTER__, expr)\n@@ -1095,0 +1250,4 @@\n+#if __GNUC__ >= 4 && !defined(_WIN32) && !defined(__CYGWIN__)\n+#define G_HAVE_GNUC_VISIBILITY 1\n+#endif\n+\n@@ -1128,4 +1287,0 @@\n-#ifndef _GLIB_EXTERN\n-#define _GLIB_EXTERN extern\n-#endif\n-\n@@ -1138,12 +1293,0 @@\n-#ifdef GLIB_DISABLE_DEPRECATION_WARNINGS\n-#define GLIB_DEPRECATED _GLIB_EXTERN\n-#define GLIB_DEPRECATED_FOR(f) _GLIB_EXTERN\n-#define GLIB_UNAVAILABLE(maj,min) _GLIB_EXTERN\n-#define GLIB_UNAVAILABLE_STATIC_INLINE(maj,min)\n-#else\n-#define GLIB_DEPRECATED G_DEPRECATED _GLIB_EXTERN\n-#define GLIB_DEPRECATED_FOR(f) G_DEPRECATED_FOR(f) _GLIB_EXTERN\n-#define GLIB_UNAVAILABLE(maj,min) G_UNAVAILABLE(maj,min) _GLIB_EXTERN\n-#define GLIB_UNAVAILABLE_STATIC_INLINE(maj,min) G_UNAVAILABLE(maj,min)\n-#endif\n-\n@@ -1193,1 +1336,1 @@\n-\/* these macros are private *\/\n+\/* these macros are private; note that gstdio.h also uses _GLIB_CLEANUP *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmacros.h","additions":211,"deletions":68,"binary":false,"changes":279,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmain-internal.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -70,0 +72,22 @@\n+#ifdef HAVE_PIDFD\n+#include <sys\/syscall.h>\n+#include <sys\/wait.h>\n+#include <linux\/wait.h>  \/* P_PIDFD *\/\n+#ifndef W_EXITCODE\n+#define W_EXITCODE(ret, sig) ((ret) << 8 | (sig))\n+#endif\n+#ifndef W_STOPCODE\n+#define W_STOPCODE(sig)      ((sig) << 8 | 0x7f)\n+#endif\n+#ifndef WCOREFLAG\n+\/* musl doesn’t define WCOREFLAG while glibc does. Unfortunately, there’s no way\n+ * to detect we’re building against musl, so just define it and hope.\n+ * See https:\/\/git.musl-libc.org\/cgit\/musl\/tree\/include\/sys\/wait.h#n51 *\/\n+#define WCOREFLAG 0x80\n+#endif\n+#ifndef __W_CONTINUED\n+\/* Same as above, for musl *\/\n+#define __W_CONTINUED 0xffff\n+#endif\n+#endif  \/* HAVE_PIDFD *\/\n+\n@@ -112,1 +136,1 @@\n- * GLib and GTK+ applications. These events can come from any number of\n+ * GLib and GTK applications. These events can come from any number of\n@@ -144,1 +168,1 @@\n- * This is often used in GTK+ applications when showing modal dialog\n+ * This is often used in GTK applications when showing modal dialog\n@@ -149,1 +173,1 @@\n- * GTK+ contains wrappers of some of these functions, e.g. gtk_main(),\n+ * GTK contains wrappers of some of these functions, e.g. gtk_main(),\n@@ -236,0 +260,1 @@\n+typedef struct _GIdleSource GIdleSource;\n@@ -333,0 +358,6 @@\n+struct _GIdleSource\n+{\n+  GSource  source;\n+  gboolean one_shot;\n+};\n+\n@@ -339,0 +370,1 @@\n+  gboolean    one_shot;\n@@ -345,2 +377,2 @@\n-  gint        child_status;\n-#ifdef G_OS_WIN32\n+  \/* @poll is always used on Windows.\n+   * On Unix, poll.fd will be negative if PIDFD is unavailable. *\/\n@@ -348,2 +380,2 @@\n-#else \/* G_OS_WIN32 *\/\n-  gboolean    child_exited; \/* (atomic) *\/\n+#ifndef G_OS_WIN32\n+  gboolean child_maybe_exited; \/* (atomic) *\/\n@@ -414,3 +446,7 @@\n-static void g_main_context_poll                 (GMainContext *context,\n-             gint          timeout,\n-             gint          priority,\n+static gboolean g_main_context_acquire_unlocked (GMainContext *context);\n+static void g_main_context_release_unlocked     (GMainContext *context);\n+static gboolean g_main_context_prepare_unlocked (GMainContext *context,\n+             gint         *priority);\n+static gint g_main_context_query_unlocked       (GMainContext *context,\n+             gint          max_priority,\n+gint         *timeout,\n@@ -419,0 +455,10 @@\n+static gboolean g_main_context_check_unlocked   (GMainContext *context,\n+                                                 gint          max_priority,\n+                                                 GPollFD      *fds,\n+                                                 gint          n_fds);\n+static void g_main_context_dispatch_unlocked    (GMainContext *context);\n+static void g_main_context_poll_unlocked        (GMainContext *context,\n+                                                 int           timeout,\n+                                                 int           priority,\n+                                                 GPollFD      *fds,\n+                                                 int           n_fds);\n@@ -442,0 +488,5 @@\n+\n+#ifndef G_OS_WIN32\n+static void unref_unix_signal_handler_unlocked (int signum);\n+#endif\n+\n@@ -535,1 +586,1 @@\n- * @context: a #GMainContext\n+ * @context: (not nullable): a #GMainContext\n@@ -544,0 +595,2 @@\n+  int old_ref_count;\n+\n@@ -545,1 +598,0 @@\n-  g_return_val_if_fail (g_atomic_int_get (&context->ref_count) > 0, NULL);\n@@ -547,1 +599,2 @@\n-  g_atomic_int_inc (&context->ref_count);\n+  old_ref_count = g_atomic_int_add (&context->ref_count, 1);\n+  g_return_val_if_fail (old_ref_count > 0, NULL);\n@@ -561,1 +614,1 @@\n- * @context: a #GMainContext\n+ * @context: (not nullable): a #GMainContext\n@@ -753,1 +806,1 @@\n- * Returns the global default main context. This is the main context\n+ * Returns the global-default main context. This is the main context\n@@ -758,1 +811,1 @@\n- * Returns: (transfer none): the global default main context.\n+ * Returns: (transfer none): the global-default main context.\n@@ -775,1 +828,1 @@\n-        g_print (\"default context=%p\\n\", context);\n+        g_print (\"global-default main context=%p\\n\", context);\n@@ -806,1 +859,2 @@\n- * @context: (nullable): a #GMainContext, or %NULL for the global default context\n+ * @context: (nullable): a #GMainContext, or %NULL for the global-default\n+ *   main context\n@@ -813,1 +867,1 @@\n- * default context in the main thread. Note that calling this function\n+ * default main context in the main thread. Note that calling this function\n@@ -877,1 +931,2 @@\n- * @context: (nullable): a #GMainContext object, or %NULL\n+ * @context: (nullable): a #GMainContext, or %NULL for the global-default\n+ *   main context\n@@ -922,1 +977,1 @@\n- * %NULL if the thread-default context is the global default context.\n+ * %NULL if the thread-default context is the global-default main context.\n@@ -945,1 +1000,1 @@\n- * is the global default context, this will return that #GMainContext\n+ * is the global-default context, this will return that #GMainContext\n@@ -1317,1 +1372,2 @@\n- * @context: (nullable): a #GMainContext (if %NULL, the default context will be used)\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -2194,1 +2250,1 @@\n- * or \"GTK+ repaint idle handler\" or whatever it is.\n+ * or \"GTK repaint idle handler\" or whatever it is.\n@@ -2460,1 +2516,2 @@\n- * @context: (nullable): a #GMainContext (if %NULL, the default context will be used)\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -2501,1 +2558,2 @@\n- * @context: (nullable): a #GMainContext (if %NULL, the default context will be used).\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used).\n@@ -2551,1 +2609,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3119,1 +3178,1 @@\n- *  That is, when called from the toplevel, it gives 0. When\n+ * That is, when called from the toplevel, it gives 0. When\n@@ -3511,1 +3570,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3522,1 +3582,4 @@\n- * g_main_context_check(), g_main_context_dispatch().\n+ * g_main_context_check(), g_main_context_dispatch(), g_main_context_release().\n+ *\n+ * Since 2.76 @context can be %NULL to use the global-default\n+ * main context.\n@@ -3531,1 +3594,0 @@\n-  GThread *self = G_THREAD_SELF;\n@@ -3538,0 +3600,12 @@\n+  result = g_main_context_acquire_unlocked (context);\n+\n+  UNLOCK_CONTEXT (context);\n+\n+  return result;\n+}\n+\n+static gboolean\n+g_main_context_acquire_unlocked (GMainContext *context)\n+{\n+  GThread *self = G_THREAD_SELF;\n+\n@@ -3548,1 +3622,1 @@\n-      result = TRUE;\n+      return TRUE;\n@@ -3553,0 +3627,1 @@\n+      return FALSE;\n@@ -3554,4 +3629,0 @@\n-\n-  UNLOCK_CONTEXT (context);\n-\n-  return result;\n@@ -3562,1 +3633,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3568,0 +3640,3 @@\n+ *\n+ * You must have successfully acquired the context with\n+ * g_main_context_acquire() before you may call this function.\n@@ -3576,0 +3651,20 @@\n+  g_main_context_release_unlocked (context);\n+  UNLOCK_CONTEXT (context);\n+}\n+\n+static void\n+g_main_context_release_unlocked (GMainContext *context)\n+{\n+  \/* NOTE: We should also have the following assert here:\n+   * g_return_if_fail (context->owner == G_THREAD_SELF);\n+   * However, this breaks NetworkManager, which has been (non-compliantly but\n+   * apparently safely) releasing a #GMainContext from a thread which didn’t\n+   * acquire it.\n+   * Breaking that would be quite disruptive, so we won’t do that now. However,\n+   * GLib reserves the right to add that assertion in future, if doing so would\n+   * allow for optimisations or refactorings. By that point, NetworkManager will\n+   * have to have reworked its use of #GMainContext.\n+   *\n+   * See: https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/merge_requests\/3513\n+   *\/\n+  g_return_if_fail (context->owner_count > 0);\n@@ -3599,2 +3694,0 @@\n-\n-  UNLOCK_CONTEXT (context);\n@@ -3612,3 +3705,0 @@\n-  if (context == NULL)\n-    context = g_main_context_default ();\n-\n@@ -3658,1 +3748,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3697,1 +3788,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3712,0 +3804,18 @@\n+                        gint         *priority)\n+{\n+  gboolean ready;\n+\n+  if (context == NULL)\n+    context = g_main_context_default ();\n+\n+  LOCK_CONTEXT (context);\n+\n+  ready = g_main_context_prepare_unlocked (context, priority);\n+\n+  UNLOCK_CONTEXT (context);\n+\n+  return ready;\n+}\n+\n+static gboolean\n+g_main_context_prepare_unlocked (GMainContext *context,\n@@ -3720,5 +3830,0 @@\n-  if (context == NULL)\n-    context = g_main_context_default ();\n-\n-  LOCK_CONTEXT (context);\n-\n@@ -3731,1 +3836,0 @@\n-      UNLOCK_CONTEXT (context);\n@@ -3744,1 +3848,0 @@\n-      UNLOCK_CONTEXT (context);\n@@ -3802,4 +3905,1 @@\n-            {\n-              source_timeout = -1;\n-              result = FALSE;\n-            }\n+            result = FALSE;\n@@ -3863,2 +3963,0 @@\n-  UNLOCK_CONTEXT (context);\n-\n@@ -3873,1 +3971,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3900,2 +3999,3 @@\n-  GPollRec *pollrec, *lastpollrec;\n-  gushort events;\n+\n+  if (context == NULL)\n+    context = g_main_context_default ();\n@@ -3905,0 +4005,18 @@\n+  n_poll = g_main_context_query_unlocked (context, max_priority, timeout, fds, n_fds);\n+\n+  UNLOCK_CONTEXT (context);\n+\n+  return n_poll;\n+}\n+\n+static gint\n+g_main_context_query_unlocked (GMainContext *context,\n+                               gint          max_priority,\n+                               gint         *timeout,\n+                               GPollFD      *fds,\n+                               gint          n_fds)\n+{\n+  gint n_poll;\n+  GPollRec *pollrec, *lastpollrec;\n+  gushort events;\n+\n@@ -3961,2 +4079,0 @@\n-  UNLOCK_CONTEXT (context);\n-\n@@ -3968,1 +4084,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -3982,0 +4099,3 @@\n+ * Since 2.76 @context can be %NULL to use the global-default\n+ * main context.\n+ *\n@@ -3986,0 +4106,17 @@\n+                      gint          max_priority,\n+                      GPollFD      *fds,\n+                      gint          n_fds)\n+{\n+  gboolean ready;\n+\n+  LOCK_CONTEXT (context);\n+\n+  ready = g_main_context_check_unlocked (context, max_priority, fds, n_fds);\n+\n+  UNLOCK_CONTEXT (context);\n+\n+  return ready;\n+}\n+\n+static gboolean\n+g_main_context_check_unlocked (GMainContext *context,\n@@ -3996,1 +4133,2 @@\n-  LOCK_CONTEXT (context);\n+  if (context == NULL)\n+    context = g_main_context_default ();\n@@ -4002,1 +4140,0 @@\n-      UNLOCK_CONTEXT (context);\n@@ -4028,1 +4165,0 @@\n-      UNLOCK_CONTEXT (context);\n@@ -4164,2 +4300,0 @@\n-  UNLOCK_CONTEXT (context);\n-\n@@ -4171,1 +4305,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4177,0 +4312,3 @@\n+ *\n+ * Since 2.76 @context can be %NULL to use the global-default\n+ * main context.\n@@ -4181,0 +4319,3 @@\n+  if (context == NULL)\n+    context = g_main_context_default ();\n+\n@@ -4183,0 +4324,8 @@\n+  g_main_context_dispatch_unlocked (context);\n+\n+  UNLOCK_CONTEXT (context);\n+}\n+\n+static void\n+g_main_context_dispatch_unlocked (GMainContext *context)\n+{\n@@ -4191,2 +4340,0 @@\n-\n-  UNLOCK_CONTEXT (context);\n@@ -4197,1 +4344,1 @@\n-g_main_context_iterate (GMainContext *context,\n+g_main_context_iterate_unlocked (GMainContext *context,\n@@ -4202,1 +4349,1 @@\n-  gint max_priority;\n+  gint max_priority = 0;\n@@ -4209,2 +4356,0 @@\n-  UNLOCK_CONTEXT (context);\n-\n@@ -4213,1 +4358,1 @@\n-  if (!g_main_context_acquire (context))\n+  if (!g_main_context_acquire_unlocked (context))\n@@ -4217,2 +4362,0 @@\n-      LOCK_CONTEXT (context);\n-\n@@ -4220,1 +4363,1 @@\n-  return FALSE;\n+        return FALSE;\n@@ -4227,1 +4370,1 @@\n-  return FALSE;\n+        return FALSE;\n@@ -4229,2 +4372,0 @@\n-  else\n-    LOCK_CONTEXT (context);\n@@ -4236,0 +4377,5 @@\n+#ifdef GSTREAMER_LITE\n+      if (context->cached_poll_array == NULL) {\n+        return FALSE;\n+      }\n+#endif \/\/ GSTREAMER_LITE\n@@ -4241,3 +4387,1 @@\n-  UNLOCK_CONTEXT (context);\n-\n-  g_main_context_prepare (context, &max_priority);\n+  g_main_context_prepare_unlocked (context, &max_priority);\n@@ -4245,1 +4389,2 @@\n-  while ((nfds = g_main_context_query (context, max_priority, &timeout, fds,\n+  while ((nfds = g_main_context_query_unlocked (\n+            context, max_priority, &timeout, fds,\n@@ -4248,1 +4393,0 @@\n-      LOCK_CONTEXT (context);\n@@ -4252,1 +4396,0 @@\n-      UNLOCK_CONTEXT (context);\n@@ -4263,1 +4406,1 @@\n-  g_main_context_poll (context, timeout, max_priority, fds, nfds);\n+  g_main_context_poll_unlocked (context, timeout, max_priority, fds, nfds);\n@@ -4265,1 +4408,1 @@\n-  some_ready = g_main_context_check (context, max_priority, fds, nfds);\n+  some_ready = g_main_context_check_unlocked (context, max_priority, fds, nfds);\n@@ -4268,1 +4411,1 @@\n-    g_main_context_dispatch (context);\n+    g_main_context_dispatch_unlocked (context);\n@@ -4270,1 +4413,1 @@\n-  g_main_context_release (context);\n+  g_main_context_release_unlocked (context);\n@@ -4276,2 +4419,0 @@\n-  LOCK_CONTEXT (context);\n-\n@@ -4283,1 +4424,2 @@\n- * @context: (nullable): a #GMainContext (if %NULL, the default context will be used)\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4298,1 +4440,1 @@\n-  retval = g_main_context_iterate (context, FALSE, FALSE, G_THREAD_SELF);\n+  retval = g_main_context_iterate_unlocked (context, FALSE, FALSE, G_THREAD_SELF);\n@@ -4306,1 +4448,2 @@\n- * @context: (nullable): a #GMainContext (if %NULL, the default context will be used)\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4333,1 +4476,1 @@\n-  retval = g_main_context_iterate (context, may_block, TRUE, G_THREAD_SELF);\n+  retval = g_main_context_iterate_unlocked (context, may_block, TRUE, G_THREAD_SELF);\n@@ -4341,1 +4484,2 @@\n- * @context: (nullable): a #GMainContext  (if %NULL, the default context will be used).\n+ * @context: (nullable): a #GMainContext  (if %NULL, the global-default\n+ *   main context will be used).\n@@ -4430,1 +4574,3 @@\n-  if (!g_main_context_acquire (loop->context))\n+  LOCK_CONTEXT (loop->context);\n+\n+  if (!g_main_context_acquire_unlocked (loop->context))\n@@ -4435,2 +4581,0 @@\n-      LOCK_CONTEXT (loop->context);\n-\n@@ -4445,7 +4589,8 @@\n-  {\n-    UNLOCK_CONTEXT (loop->context);\n-    if (got_ownership)\n-      g_main_context_release (loop->context);\n-    g_main_loop_unref (loop);\n-    return;\n-  }\n+        {\n+          if (got_ownership)\n+            g_main_context_release_unlocked (loop->context);\n+\n+            UNLOCK_CONTEXT (loop->context);\n+            g_main_loop_unref (loop);\n+            return;\n+        }\n@@ -4455,2 +4600,0 @@\n-  else\n-    LOCK_CONTEXT (loop->context);\n@@ -4458,1 +4601,1 @@\n-  if (loop->context->in_check_or_prepare)\n+  if G_UNLIKELY (loop->context->in_check_or_prepare)\n@@ -4462,0 +4605,2 @@\n+      g_main_context_release_unlocked (loop->context);\n+      UNLOCK_CONTEXT (loop->context);\n@@ -4468,1 +4613,1 @@\n-    g_main_context_iterate (loop->context, TRUE, TRUE, self);\n+    g_main_context_iterate_unlocked (loop->context, TRUE, TRUE, self);\n@@ -4470,1 +4615,1 @@\n-  UNLOCK_CONTEXT (loop->context);\n+  g_main_context_release_unlocked (loop->context);\n@@ -4472,1 +4617,1 @@\n-  g_main_context_release (loop->context);\n+  UNLOCK_CONTEXT (loop->context);\n@@ -4540,5 +4685,5 @@\n-g_main_context_poll (GMainContext *context,\n-         gint          timeout,\n-         gint          priority,\n-         GPollFD      *fds,\n-         gint          n_fds)\n+g_main_context_poll_unlocked (GMainContext *context,\n+                              int           timeout,\n+                              int           priority,\n+                              GPollFD      *fds,\n+                              int           n_fds)\n@@ -4567,3 +4712,0 @@\n-\n-      LOCK_CONTEXT (context);\n-\n@@ -4574,0 +4716,2 @@\n+      LOCK_CONTEXT (context);\n+\n@@ -4588,2 +4732,0 @@\n-    LOCK_CONTEXT (context);\n-\n@@ -4626,2 +4768,0 @@\n-\n-    UNLOCK_CONTEXT (context);\n@@ -4635,1 +4775,2 @@\n- * @context: (nullable): a #GMainContext (or %NULL for the default context)\n+ * @context: (nullable): a #GMainContext (or %NULL for the global-default\n+ *   main context)\n@@ -4708,1 +4849,2 @@\n-  g_wakeup_signal (context->wakeup);\n+  if (fd != &context->wake_up_rec)\n+    g_wakeup_signal (context->wakeup);\n@@ -4713,1 +4855,2 @@\n- * @context:a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4835,1 +4978,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4867,1 +5011,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4892,1 +5037,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -4938,1 +5084,2 @@\n- * @context: a #GMainContext\n+ * @context: (nullable): a #GMainContext (if %NULL, the global-default\n+ *   main context will be used)\n@@ -5033,1 +5180,10 @@\n-  again = callback (user_data);\n+  if (timeout_source->one_shot)\n+    {\n+      GSourceOnceFunc once_callback = (GSourceOnceFunc) callback;\n+      once_callback (user_data);\n+      again = G_SOURCE_REMOVE;\n+    }\n+  else\n+    {\n+      again = callback (user_data);\n+    }\n@@ -5043,0 +5199,17 @@\n+static GSource *\n+timeout_source_new (guint    interval,\n+                    gboolean seconds,\n+                    gboolean one_shot)\n+{\n+  GSource *source = g_source_new (&g_timeout_funcs, sizeof (GTimeoutSource));\n+  GTimeoutSource *timeout_source = (GTimeoutSource *)source;\n+\n+  timeout_source->interval = interval;\n+  timeout_source->seconds = seconds;\n+  timeout_source->one_shot = one_shot;\n+\n+  g_timeout_set_expiration (timeout_source, g_get_monotonic_time ());\n+\n+  return source;\n+}\n+\n@@ -5061,11 +5234,1 @@\n-  GSource *source = g_source_new (&g_timeout_funcs, sizeof (GTimeoutSource));\n-  GTimeoutSource *timeout_source = (GTimeoutSource *)source;\n-#ifdef GSTREAMER_LITE\n-  if (timeout_source == NULL)\n-      return NULL;\n-#endif \/\/ GSTREAMER_LITE\n-\n-  timeout_source->interval = interval;\n-  g_timeout_set_expiration (timeout_source, g_get_monotonic_time ());\n-\n-  return source;\n+  return timeout_source_new (interval, FALSE, FALSE);\n@@ -5098,2 +5261,3 @@\n-  GSource *source = g_source_new (&g_timeout_funcs, sizeof (GTimeoutSource));\n-  GTimeoutSource *timeout_source = (GTimeoutSource *)source;\n+  return timeout_source_new (interval, TRUE, FALSE);\n+}\n+#endif \/\/ GSTREAMER_LITE\n@@ -5101,2 +5265,11 @@\n-  timeout_source->interval = interval;\n-  timeout_source->seconds = TRUE;\n+static guint\n+timeout_add_full (gint           priority,\n+                  guint          interval,\n+                  gboolean       seconds,\n+                  gboolean       one_shot,\n+                  GSourceFunc    function,\n+                  gpointer       data,\n+                  GDestroyNotify notify)\n+{\n+  GSource *source;\n+  guint id;\n@@ -5104,1 +5277,1 @@\n-  g_timeout_set_expiration (timeout_source, g_get_monotonic_time ());\n+  g_return_val_if_fail (function != NULL, 0);\n@@ -5106,2 +5279,4 @@\n-  return source;\n-}\n+  source = timeout_source_new (interval, seconds, one_shot);\n+#ifdef GSTREAMER_LITE\n+  if (source == NULL)\n+      return 0;\n@@ -5110,0 +5285,12 @@\n+  if (priority != G_PRIORITY_DEFAULT)\n+    g_source_set_priority (source, priority);\n+\n+  g_source_set_callback (source, function, data, notify);\n+  id = g_source_attach (source, NULL);\n+\n+  TRACE (GLIB_TIMEOUT_ADD (source, g_main_context_default (), id, priority, interval, function, data));\n+\n+  g_source_unref (source);\n+\n+  return id;\n+}\n@@ -5155,22 +5342,1 @@\n-  GSource *source;\n-  guint id;\n-\n-  g_return_val_if_fail (function != NULL, 0);\n-\n-  source = g_timeout_source_new (interval);\n-#ifdef GSTREAMER_LITE\n-  if (source == NULL)\n-      return 0;\n-#endif \/\/ GSTREAMER_LITE\n-\n-  if (priority != G_PRIORITY_DEFAULT)\n-    g_source_set_priority (source, priority);\n-\n-  g_source_set_callback (source, function, data, notify);\n-  id = g_source_attach (source, NULL);\n-\n-  TRACE (GLIB_TIMEOUT_ADD (source, g_main_context_default (), id, priority, interval, function, data));\n-\n-  g_source_unref (source);\n-\n-  return id;\n+  return timeout_add_full (priority, interval, FALSE, FALSE, function, data, notify);\n@@ -5231,0 +5397,27 @@\n+\/**\n+ * g_timeout_add_once:\n+ * @interval: the time after which the function will be called, in\n+ *   milliseconds (1\/1000ths of a second)\n+ * @function: function to call\n+ * @data: data to pass to @function\n+ *\n+ * Sets a function to be called after @interval milliseconds have elapsed,\n+ * with the default priority, %G_PRIORITY_DEFAULT.\n+ *\n+ * The given @function is called once and then the source will be automatically\n+ * removed from the main context.\n+ *\n+ * This function otherwise behaves like g_timeout_add().\n+ *\n+ * Returns: the ID (greater than 0) of the event source\n+ *\n+ * Since: 2.74\n+ *\/\n+guint\n+g_timeout_add_once (guint32         interval,\n+                    GSourceOnceFunc function,\n+                    gpointer        data)\n+{\n+  return timeout_add_full (G_PRIORITY_DEFAULT, interval, FALSE, TRUE, (GSourceFunc) function, data, NULL);\n+}\n+\n@@ -5291,15 +5484,1 @@\n-  GSource *source;\n-  guint id;\n-\n-  g_return_val_if_fail (function != NULL, 0);\n-\n-  source = g_timeout_source_new_seconds (interval);\n-\n-  if (priority != G_PRIORITY_DEFAULT)\n-    g_source_set_priority (source, priority);\n-\n-  g_source_set_callback (source, function, data, notify);\n-  id = g_source_attach (source, NULL);\n-  g_source_unref (source);\n-\n-  return id;\n+  return timeout_add_full (priority, interval, TRUE, FALSE, function, data, notify);\n@@ -5351,0 +5530,20 @@\n+\n+\/**\n+ * g_timeout_add_seconds_once:\n+ * @interval: the time after which the function will be called, in seconds\n+ * @function: function to call\n+ * @data: data to pass to @function\n+ *\n+ * This function behaves like g_timeout_add_once() but with a range in seconds.\n+ *\n+ * Returns: the ID (greater than 0) of the event source\n+ *\n+ * Since: 2.78\n+ *\/\n+guint\n+g_timeout_add_seconds_once (guint           interval,\n+                            GSourceOnceFunc function,\n+                            gpointer        data)\n+{\n+  return timeout_add_full (G_PRIORITY_DEFAULT, interval, TRUE, TRUE, (GSourceFunc) function, data, NULL);\n+}\n@@ -5355,1 +5554,23 @@\n-#ifdef G_OS_WIN32\n+#ifdef HAVE_PIDFD\n+static int\n+siginfo_t_to_wait_status (const siginfo_t *info)\n+{\n+  \/* Each of these returns is essentially the inverse of WIFEXITED(),\n+   * WIFSIGNALED(), etc. *\/\n+  switch (info->si_code)\n+    {\n+    case CLD_EXITED:\n+      return W_EXITCODE (info->si_status, 0);\n+    case CLD_KILLED:\n+      return W_EXITCODE (0, info->si_status);\n+    case CLD_DUMPED:\n+      return W_EXITCODE (0, info->si_status | WCOREFLAG);\n+    case CLD_CONTINUED:\n+      return __W_CONTINUED;\n+    case CLD_STOPPED:\n+    case CLD_TRAPPED:\n+    default:\n+      return W_STOPCODE (info->si_status);\n+    }\n+}\n+#endif \/* HAVE_PIDFD *\/\n@@ -5361,1 +5582,1 @@\n-  *timeout = -1;\n+#ifdef G_OS_WIN32\n@@ -5363,0 +5584,12 @@\n+#else  \/* G_OS_WIN32 *\/\n+  {\n+    GChildWatchSource *child_watch_source;\n+\n+    child_watch_source = (GChildWatchSource *) source;\n+\n+    if (child_watch_source->poll.fd >= 0)\n+      return FALSE;\n+\n+    return g_atomic_int_get (&child_watch_source->child_maybe_exited);\n+  }\n+#endif \/* G_OS_WIN32 *\/\n@@ -5373,3 +5606,5 @@\n-  child_exited = child_watch_source->poll.revents & G_IO_IN;\n-\n-  if (child_exited)\n+#ifdef G_OS_WIN32\n+  child_exited = !!(child_watch_source->poll.revents & G_IO_IN);\n+#else \/* G_OS_WIN32 *\/\n+#ifdef HAVE_PIDFD\n+  if (child_watch_source->poll.fd >= 0)\n@@ -5377,18 +5612,2 @@\n-      DWORD child_status;\n-\n-      \/*\n-       * Note: We do _not_ check for the special value of STILL_ACTIVE\n-       * since we know that the process has exited and doing so runs into\n-       * problems if the child process \"happens to return STILL_ACTIVE(259)\"\n-       * as Microsoft's Platform SDK puts it.\n-       *\/\n-      if (!GetExitCodeProcess (child_watch_source->pid, &child_status))\n-        {\n-    gchar *emsg = g_win32_error_message (GetLastError ());\n-    g_warning (G_STRLOC \": GetExitCodeProcess() failed: %s\", emsg);\n-    g_free (emsg);\n-\n-    child_watch_source->child_status = -1;\n-  }\n-      else\n-  child_watch_source->child_status = child_status;\n+      child_exited = !!(child_watch_source->poll.revents & G_IO_IN);\n+      return child_exited;\n@@ -5396,0 +5615,3 @@\n+#endif \/* HAVE_PIDFD *\/\n+  child_exited = g_atomic_int_get (&child_watch_source->child_maybe_exited);\n+#endif \/* G_OS_WIN32 *\/\n@@ -5403,0 +5625,14 @@\n+#ifndef G_OS_WIN32\n+  GChildWatchSource *child_watch_source = (GChildWatchSource *) source;\n+\n+  if (child_watch_source->poll.fd >= 0)\n+    {\n+      close (child_watch_source->poll.fd);\n+      return;\n+    }\n+\n+  G_LOCK (unix_signal_lock);\n+  unix_child_watches = g_slist_remove (unix_child_watches, source);\n+  unref_unix_signal_handler_unlocked (SIGCHLD);\n+  G_UNLOCK (unix_signal_lock);\n+#endif \/* G_OS_WIN32 *\/\n@@ -5405,1 +5641,1 @@\n-#else \/* G_OS_WIN32 *\/\n+#ifndef G_OS_WIN32\n@@ -5489,23 +5725,2 @@\n-          if (!g_atomic_int_get (&source->child_exited))\n-            {\n-              pid_t pid;\n-              do\n-                {\n-                  g_assert (source->pid > 0);\n-\n-                  pid = waitpid (source->pid, &source->child_status, WNOHANG);\n-                  if (pid > 0)\n-                    {\n-                      g_atomic_int_set (&source->child_exited, TRUE);\n-                      wake_source ((GSource *) source);\n-                    }\n-                  else if (pid == -1 && errno == ECHILD)\n-                    {\n-                      g_warning (\"GChildWatchSource: Exit status of a child process was requested but ECHILD was received by waitpid(). See the documentation of g_child_watch_source_new() for possible causes.\");\n-                      source->child_status = 0;\n-                      g_atomic_int_set (&source->child_exited, TRUE);\n-                      wake_source ((GSource *) source);\n-                    }\n-                }\n-              while (pid == -1 && errno == EINTR);\n-            }\n+          if (g_atomic_int_compare_and_exchange (&source->child_maybe_exited, FALSE, TRUE))\n+            wake_source ((GSource *) source);\n@@ -5537,21 +5752,0 @@\n-static gboolean\n-g_child_watch_prepare (GSource *source,\n-           gint    *timeout)\n-{\n-  GChildWatchSource *child_watch_source;\n-\n-  child_watch_source = (GChildWatchSource *) source;\n-\n-  return g_atomic_int_get (&child_watch_source->child_exited);\n-}\n-\n-static gboolean\n-g_child_watch_check (GSource *source)\n-{\n-  GChildWatchSource *child_watch_source;\n-\n-  child_watch_source = (GChildWatchSource *) source;\n-\n-  return g_atomic_int_get (&child_watch_source->child_exited);\n-}\n-\n@@ -5736,9 +5930,0 @@\n-static void\n-g_child_watch_finalize (GSource *source)\n-{\n-  G_LOCK (unix_signal_lock);\n-  unix_child_watches = g_slist_remove (unix_child_watches, source);\n-  unref_unix_signal_handler_unlocked (SIGCHLD);\n-  G_UNLOCK (unix_signal_lock);\n-}\n-\n@@ -5754,0 +5939,1 @@\n+  int wait_status;\n@@ -5757,0 +5943,114 @@\n+  \/* We only (try to) reap the child process right before dispatching the callback.\n+   * That way, the caller can rely that the process is there until the callback\n+   * is invoked; or, if the caller calls g_source_destroy() without the callback\n+   * being dispatched, the process is still not reaped. *\/\n+\n+#ifdef G_OS_WIN32\n+  {\n+    DWORD child_status;\n+\n+    \/*\n+     * Note: We do _not_ check for the special value of STILL_ACTIVE\n+     * since we know that the process has exited and doing so runs into\n+     * problems if the child process \"happens to return STILL_ACTIVE(259)\"\n+     * as Microsoft's Platform SDK puts it.\n+     *\/\n+    if (!GetExitCodeProcess (child_watch_source->pid, &child_status))\n+      {\n+        gchar *emsg = g_win32_error_message (GetLastError ());\n+        g_warning (G_STRLOC \": GetExitCodeProcess() failed: %s\", emsg);\n+        g_free (emsg);\n+\n+        \/* Unknown error. We got signaled that the process might be exited,\n+         * but now we failed to reap it? Assume the process is gone and proceed. *\/\n+        wait_status = -1;\n+      }\n+    else\n+      wait_status = child_status;\n+  }\n+#else \/* G_OS_WIN32 *\/\n+  {\n+    gboolean child_exited = FALSE;\n+\n+    wait_status = -1;\n+\n+#ifdef HAVE_PIDFD\n+    if (child_watch_source->poll.fd >= 0)\n+      {\n+        siginfo_t child_info = {\n+          0,\n+        };\n+\n+        \/* Get the exit status *\/\n+        if (waitid (P_PIDFD, child_watch_source->poll.fd, &child_info, WEXITED | WNOHANG) >= 0)\n+          {\n+            if (child_info.si_pid != 0)\n+              {\n+                \/* waitid() helpfully provides the wait status in a decomposed\n+                 * form which is quite useful. Unfortunately we have to report it\n+                 * to the #GChildWatchFunc as a waitpid()-style platform-specific\n+                 * wait status, so that the user code in #GChildWatchFunc can then\n+                 * call WIFEXITED() (etc.) on it. That means re-composing the\n+                 * status information. *\/\n+                wait_status = siginfo_t_to_wait_status (&child_info);\n+                child_exited = TRUE;\n+              }\n+            else\n+              {\n+                g_debug (G_STRLOC \": pidfd signaled but pid %\" G_PID_FORMAT \" didn't exit\",\n+                         child_watch_source->pid);\n+                return TRUE;\n+              }\n+          }\n+        else\n+          {\n+            int errsv = errno;\n+\n+            g_warning (G_STRLOC \": waitid(pid:%\" G_PID_FORMAT \", pidfd=%d) failed: %s (%d). %s\",\n+                       child_watch_source->pid, child_watch_source->poll.fd, g_strerror (errsv), errsv,\n+                       \"See documentation of g_child_watch_source_new() for possible causes.\");\n+\n+            \/* Assume the process is gone and proceed. *\/\n+            child_exited = TRUE;\n+          }\n+      }\n+#endif \/* HAVE_PIDFD*\/\n+\n+    if (!child_exited)\n+      {\n+        pid_t pid;\n+        int wstatus;\n+\n+      waitpid_again:\n+\n+        \/* We must reset the flag before waitpid(). Otherwise, there would be a\n+         * race. *\/\n+        g_atomic_int_set (&child_watch_source->child_maybe_exited, FALSE);\n+\n+        pid = waitpid (child_watch_source->pid, &wstatus, WNOHANG);\n+\n+        if (G_UNLIKELY (pid < 0 && errno == EINTR))\n+          goto waitpid_again;\n+\n+        if (pid == 0)\n+          {\n+            \/* Not exited yet. Wait longer. *\/\n+            return TRUE;\n+          }\n+\n+        if (pid > 0)\n+          wait_status = wstatus;\n+        else\n+          {\n+            int errsv = errno;\n+\n+            g_warning (G_STRLOC \": waitpid(pid:%\" G_PID_FORMAT \") failed: %s (%d). %s\",\n+                       child_watch_source->pid, g_strerror (errsv), errsv,\n+                       \"See documentation of g_child_watch_source_new() for possible causes.\");\n+\n+            \/* Assume the process is gone and proceed. *\/\n+          }\n+      }\n+  }\n+#endif \/* G_OS_WIN32 *\/\n+\n@@ -5764,1 +6064,1 @@\n-  (child_watch_callback) (child_watch_source->pid, child_watch_source->child_status, user_data);\n+  (child_watch_callback) (child_watch_source->pid, wait_status, user_data);\n@@ -5823,0 +6123,8 @@\n+ * * Before 2.78, the application could not send a signal (`kill()`) to the\n+ *   watched @pid in a race free manner. Since 2.78, you can do that while the\n+ *   associated #GMainContext is acquired.\n+ * * Before 2.78, even after destroying the #GSource, you could not\n+ *   be sure that @pid wasn't already reaped. Hence, it was also not\n+ *   safe to `kill()` or `waitpid()` on the process ID after the child watch\n+ *   source was gone. Destroying the source before it fired made it\n+ *   impossible to reliably reap the process.\n@@ -5840,0 +6148,3 @@\n+#ifdef HAVE_PIDFD\n+  int errsv;\n+#endif\n@@ -5862,1 +6173,31 @@\n-#else \/* G_OS_WIN32 *\/\n+#else \/* !G_OS_WIN32 *\/\n+\n+#ifdef HAVE_PIDFD\n+  \/* Use a pidfd, if possible, to avoid having to install a global SIGCHLD\n+   * handler and potentially competing with any other library\/code which wants\n+   * to install one.\n+   *\n+   * Unfortunately this use of pidfd isn’t race-free (the PID could be recycled\n+   * between the caller calling g_child_watch_source_new() and here), but it’s\n+   * better than SIGCHLD.\n+   *\/\n+  child_watch_source->poll.fd = (int) syscall (SYS_pidfd_open, pid, 0);\n+\n+  if (child_watch_source->poll.fd >= 0)\n+    {\n+      child_watch_source->poll.events = G_IO_IN;\n+      g_source_add_poll (source, &child_watch_source->poll);\n+      return source;\n+    }\n+\n+  errsv = errno;\n+  g_debug (\"pidfd_open(%\" G_PID_FORMAT \") failed with error: %s\",\n+           pid, g_strerror (errsv));\n+  \/* Fall through; likely the kernel isn’t new enough to support pidfd_open() *\/\n+#endif \/* HAVE_PIDFD *\/\n+\n+  \/* We can do that without atomic, as the source is not yet added in\n+   * unix_child_watches (which we do next under a lock). *\/\n+  child_watch_source->child_maybe_exited = TRUE;\n+  child_watch_source->poll.fd = -1;\n+\n@@ -5866,2 +6207,0 @@\n-  if (waitpid (pid, &child_watch_source->child_status, WNOHANG) > 0)\n-    child_watch_source->child_exited = TRUE;\n@@ -5869,1 +6208,1 @@\n-#endif \/* G_OS_WIN32 *\/\n+#endif \/* !G_OS_WIN32 *\/\n@@ -6004,0 +6343,1 @@\n+  GIdleSource *idle_source = (GIdleSource *)source;\n@@ -6013,1 +6353,10 @@\n-  again = callback (user_data);\n+  if (idle_source->one_shot)\n+    {\n+      GSourceOnceFunc once_callback = (GSourceOnceFunc) callback;\n+      once_callback (user_data);\n+      again = G_SOURCE_REMOVE;\n+    }\n+  else\n+    {\n+      again = callback (user_data);\n+    }\n@@ -6020,0 +6369,19 @@\n+static GSource *\n+idle_source_new (gboolean one_shot)\n+{\n+  GSource *source;\n+  GIdleSource *idle_source;\n+\n+  source = g_source_new (&g_idle_funcs, sizeof (GIdleSource));\n+  idle_source = (GIdleSource *) source;\n+\n+  idle_source->one_shot = one_shot;\n+\n+  g_source_set_priority (source, G_PRIORITY_DEFAULT_IDLE);\n+\n+  \/* Set a default name on the source, just in case the caller does not. *\/\n+  g_source_set_static_name (source, \"GIdleSource\");\n+\n+  return source;\n+}\n+\n@@ -6035,0 +6403,10 @@\n+{\n+  return idle_source_new (FALSE);\n+}\n+\n+static guint\n+idle_add_full (gint           priority,\n+               gboolean       one_shot,\n+               GSourceFunc    function,\n+               gpointer       data,\n+               GDestroyNotify notify)\n@@ -6037,0 +6415,1 @@\n+  guint id;\n@@ -6038,2 +6417,1 @@\n-  source = g_source_new (&g_idle_funcs, sizeof (GSource));\n-  g_source_set_priority (source, G_PRIORITY_DEFAULT_IDLE);\n+  g_return_val_if_fail (function != NULL, 0);\n@@ -6041,2 +6419,1 @@\n-  \/* Set a default name on the source, just in case the caller does not. *\/\n-  g_source_set_static_name (source, \"GIdleSource\");\n+  source = idle_source_new (one_shot);\n@@ -6044,1 +6421,11 @@\n-  return source;\n+  if (priority != G_PRIORITY_DEFAULT_IDLE)\n+    g_source_set_priority (source, priority);\n+\n+  g_source_set_callback (source, function, data, notify);\n+  id = g_source_attach (source, NULL);\n+\n+  TRACE (GLIB_IDLE_ADD (source, g_main_context_default (), id, priority, function, data));\n+\n+  g_source_unref (source);\n+\n+  return id;\n@@ -6078,18 +6465,1 @@\n-  GSource *source;\n-  guint id;\n-\n-  g_return_val_if_fail (function != NULL, 0);\n-\n-  source = g_idle_source_new ();\n-\n-  if (priority != G_PRIORITY_DEFAULT_IDLE)\n-    g_source_set_priority (source, priority);\n-\n-  g_source_set_callback (source, function, data, notify);\n-  id = g_source_attach (source, NULL);\n-\n-  TRACE (GLIB_IDLE_ADD (source, g_main_context_default (), id, priority, function, data));\n-\n-  g_source_unref (source);\n-\n-  return id;\n+  return idle_add_full (priority, FALSE, function, data, notify);\n@@ -6127,0 +6497,25 @@\n+\/**\n+ * g_idle_add_once:\n+ * @function: function to call\n+ * @data: data to pass to @function\n+ *\n+ * Adds a function to be called whenever there are no higher priority\n+ * events pending to the default main loop. The function is given the\n+ * default idle priority, %G_PRIORITY_DEFAULT_IDLE.\n+ *\n+ * The function will only be called once and then the source will be\n+ * automatically removed from the main context.\n+ *\n+ * This function otherwise behaves like g_idle_add().\n+ *\n+ * Returns: the ID (greater than 0) of the event source\n+ *\n+ * Since: 2.74\n+ *\/\n+guint\n+g_idle_add_once (GSourceOnceFunc function,\n+                 gpointer        data)\n+{\n+  return idle_add_full (G_PRIORITY_DEFAULT_IDLE, TRUE, (GSourceFunc) function, data, NULL);\n+}\n+\n@@ -6143,1 +6538,2 @@\n- * @context: (nullable): a #GMainContext, or %NULL\n+ * @context: (nullable): a #GMainContext, or %NULL for the global-default\n+ *   main context\n@@ -6150,1 +6546,1 @@\n- * If @context is %NULL then the global default main context - as\n+ * If @context is %NULL then the global-default main context - as\n@@ -6183,1 +6579,2 @@\n- * @context: (nullable): a #GMainContext, or %NULL\n+ * @context: (nullable): a #GMainContext, or %NULL for the global-default\n+ *   main context\n@@ -6309,0 +6706,2 @@\n+ * This function preserves the value of `errno`.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmain.c","additions":698,"deletions":299,"binary":false,"changes":997,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -74,1 +76,1 @@\n- * representing the main event loop of a GLib or GTK+ application.\n+ * representing the main event loop of a GLib or GTK application.\n@@ -195,0 +197,14 @@\n+\/**\n+ * GSourceOnceFunc:\n+ * @user_data: data passed to the function, set when the source was\n+ *   created\n+ *\n+ * A source function that is only called once before being removed from the main\n+ * context automatically.\n+ *\n+ * See: g_idle_add_once(), g_timeout_add_once()\n+ *\n+ * Since: 2.74\n+ *\/\n+typedef void (* GSourceOnceFunc) (gpointer user_data);\n+\n@@ -311,1 +327,1 @@\n- * It is not used within GLib or GTK+.\n+ * It is not used within GLib or GTK.\n@@ -331,1 +347,1 @@\n- * GTK+ uses %G_PRIORITY_HIGH_IDLE + 10 for resizing operations,\n+ * GTK uses %G_PRIORITY_HIGH_IDLE + 10 for resizing operations,\n@@ -353,1 +369,1 @@\n- * It is not used within GLib or GTK+.\n+ * It is not used within GLib or GTK.\n@@ -797,0 +813,4 @@\n+GLIB_AVAILABLE_IN_2_74\n+guint    g_timeout_add_once         (guint           interval,\n+                                     GSourceOnceFunc function,\n+                                     gpointer        data);\n@@ -800,0 +820,4 @@\n+GLIB_AVAILABLE_IN_2_78\n+guint    g_timeout_add_seconds_once (guint           interval,\n+                                     GSourceOnceFunc function,\n+                                     gpointer        data);\n@@ -805,0 +829,3 @@\n+GLIB_AVAILABLE_IN_2_74\n+guint    g_idle_add_once            (GSourceOnceFunc function,\n+                                     gpointer        data);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmain.h","additions":31,"deletions":4,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -51,0 +53,4 @@\n+#ifndef O_CLOEXEC\n+#define O_CLOEXEC 0\n+#endif\n+\n@@ -253,1 +259,1 @@\n-  fd = g_open (filename, (writable ? O_RDWR : O_RDONLY) | _O_BINARY, 0);\n+  fd = g_open (filename, (writable ? O_RDWR : O_RDONLY) | _O_BINARY | O_CLOEXEC, 0);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmappedfile.c","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmappedfile.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -86,0 +88,5 @@\n+\n+ * ## An example parser # {#example}\n+ *\n+ * Here is an example for a markup parser:\n+ * [markup-example.c](https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/blob\/HEAD\/glib\/tests\/markup-example.c)\n@@ -196,7 +203,0 @@\n-static inline void\n-string_blank (GString *string)\n-{\n-  string->str[0] = '\\0';\n-  string->len = 0;\n-}\n-\n@@ -857,1 +857,1 @@\n-  string_blank (str);\n+  g_string_truncate (str, 0);\n@@ -882,1 +882,1 @@\n-    g_string_insert_len (context->partial_chunk, -1,\n+    g_string_append_len (context->partial_chunk,\n@@ -890,1 +890,1 @@\n-    string_blank (context->partial_chunk);\n+    g_string_truncate (context->partial_chunk, 0);\n@@ -2544,1 +2544,1 @@\n-  G_VA_COPY (args2, args);\n+  va_copy (args2, args);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmarkup.c","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -77,0 +79,1 @@\n+ * @G_MARKUP_DEFAULT_FLAGS: No special behaviour. Since: 2.74\n@@ -97,0 +100,1 @@\n+  G_MARKUP_DEFAULT_FLAGS GLIB_AVAILABLE_ENUMERATOR_IN_2_74 = 0,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmarkup.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -116,0 +118,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -146,0 +151,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -180,0 +188,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -212,0 +223,9 @@\n+ * If you know the allocated size of @mem, calling g_free_sized() may be faster,\n+ * depending on the libc implementation in use.\n+ *\n+ * Starting from GLib 2.78, this may happen automatically in case a GCC\n+ * compatible compiler is used with some optimization level and the allocated\n+ * size is known at compile time (see [documentation of\n+ * `__builtin_object_size()`](https:\/\/gcc.gnu.org\/onlinedocs\/gcc\/Object-Size-Checking.html)\n+ * to understand its caveats).\n+ *\n@@ -216,1 +236,1 @@\n-g_free (gpointer mem)\n+(g_free) (gpointer mem)\n@@ -222,0 +242,31 @@\n+\/**\n+ * g_free_sized:\n+ * @mem: (nullable): the memory to free\n+ * @size: size of @mem, in bytes\n+ *\n+ * Frees the memory pointed to by @mem, assuming it is has the given @size.\n+ *\n+ * If @mem is %NULL this is a no-op (and @size is ignored).\n+ *\n+ * It is an error if @size doesn’t match the size passed when @mem was\n+ * allocated. @size is passed to this function to allow optimizations in the\n+ * allocator. If you don’t know the allocation size, use g_free() instead.\n+ *\n+ * In case a GCC compatible compiler is used, this function may be used\n+ * automatically via g_free() if the allocated size is known at compile time,\n+ * since GLib 2.78.\n+ *\n+ * Since: 2.76\n+ *\/\n+void\n+g_free_sized (void   *mem,\n+              size_t  size)\n+{\n+#ifdef HAVE_FREE_SIZED\n+  free_sized (mem, size);\n+#else\n+  free (mem);\n+#endif\n+  TRACE (GLIB_MEM_FREE ((void*) mem));\n+}\n+\n@@ -224,2 +275,2 @@\n- * @pp: (not nullable): a pointer to a variable, struct member etc. holding a\n- *    pointer\n+ * @pp: (nullable) (not optional) (inout) (transfer full): a pointer to a\n+ *   variable, struct member etc. holding a pointer\n@@ -350,0 +401,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -374,0 +428,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -399,0 +456,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -557,0 +617,3 @@\n+ * If the allocation fails (because the system is out of memory),\n+ * the program is terminated.\n+ *\n@@ -558,1 +621,1 @@\n- * freed using g_aligned_free().\n+ * freed using g_aligned_free_sized() or g_aligned_free().\n@@ -682,0 +745,30 @@\n+\n+\/**\n+ * g_aligned_free_sized:\n+ * @mem: (nullable): the memory to free\n+ * @alignment: alignment of @mem\n+ * @size: size of @mem, in bytes\n+ *\n+ * Frees the memory pointed to by @mem, assuming it is has the given @size and\n+ * @alignment.\n+ *\n+ * If @mem is %NULL this is a no-op (and @size is ignored).\n+ *\n+ * It is an error if @size doesn’t match the size, or @alignment doesn’t match\n+ * the alignment, passed when @mem was allocated. @size and @alignment are\n+ * passed to this function to allow optimizations in the allocator. If you\n+ * don’t know either of them, use g_aligned_free() instead.\n+ *\n+ * Since: 2.76\n+ *\/\n+void\n+g_aligned_free_sized (void   *mem,\n+                      size_t  alignment,\n+                      size_t  size)\n+{\n+#ifdef HAVE_FREE_ALIGNED_SIZED\n+  free_aligned_sized (mem, alignment, size);\n+#else\n+  aligned_free (mem);\n+#endif\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmem.c","additions":97,"deletions":4,"binary":false,"changes":101,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -72,1 +74,4 @@\n-void     g_free           (gpointer      mem);\n+void     (g_free)         (gpointer       mem);\n+GLIB_AVAILABLE_IN_2_76\n+void     g_free_sized     (gpointer      mem,\n+                           size_t        size);\n@@ -124,0 +129,4 @@\n+GLIB_AVAILABLE_IN_2_76\n+void     g_aligned_free_sized (gpointer  mem,\n+                               size_t    alignment,\n+                               size_t    size);\n@@ -159,0 +168,9 @@\n+\n+#if G_GNUC_CHECK_VERSION (4, 1) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_78 && defined(G_HAVE_FREE_SIZED)\n+\n+#define g_free(mem)                                                            \\\n+  (__builtin_object_size ((mem), 0) != ((size_t) - 1)) ?                       \\\n+    g_free_sized (mem, __builtin_object_size ((mem), 0)) : (g_free) (mem)\n+\n+#endif \/* G_GNUC_CHECK_VERSION (4, 1) && && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_78 && defined(G_HAVE_FREE_SIZED) *\/\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmem.h","additions":19,"deletions":1,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -187,1 +189,0 @@\n-#include \"glib-init.h\"\n@@ -193,0 +194,2 @@\n+#include \"glib-init.h\"\n+#include \"glib-private.h\"\n@@ -195,0 +198,1 @@\n+#include \"gpattern.h\"\n@@ -196,2 +200,0 @@\n-#include \"gtestutils.h\"\n-#include \"gthread.h\"\n@@ -200,1 +202,2 @@\n-#include \"gpattern.h\"\n+#include \"gtestutils.h\"\n+#include \"gthread.h\"\n@@ -202,0 +205,5 @@\n+#include \"gutilsprivate.h\"\n+\n+#if defined(__linux__) && !defined(__BIONIC__)\n+#include \"gjournal-private.h\"\n+#endif\n@@ -216,16 +224,0 @@\n-#if defined (_MSC_VER) && (_MSC_VER >=1400)\n-\/* This is ugly, but we need it for isatty() in case we have bad fd's,\n- * otherwise Windows will abort() the program on msvcrt80.dll and later\n- *\/\n-#include <crtdbg.h>\n-\n-_GLIB_EXTERN void\n-myInvalidParameterHandler(const wchar_t *expression,\n-                          const wchar_t *function,\n-                          const wchar_t *file,\n-                          unsigned int   line,\n-                          uintptr_t      pReserved)\n-{\n-}\n-#endif\n-\n@@ -253,1 +245,1 @@\n- * For example, GTK+ uses this in its `Makefile.am`:\n+ * For example, GTK uses this in its `Makefile.am`:\n@@ -513,0 +505,2 @@\n+static void g_default_print_func (const gchar *string);\n+static void g_default_printerr_func (const gchar *string);\n@@ -517,2 +511,2 @@\n-static GPrintFunc     glib_print_func = NULL;\n-static GPrintFunc     glib_printerr_func = NULL;\n+static GPrintFunc     glib_print_func = g_default_print_func;\n+static GPrintFunc     glib_printerr_func = g_default_printerr_func;\n@@ -533,0 +527,5 @@\n+static inline const char * format_string (const char *format,\n+                                          va_list     args,\n+                                          char      **out_allocated_string)\n+                                          G_GNUC_PRINTF (1, 0);\n+static inline FILE * log_level_to_file (GLogLevelFlags log_level);\n@@ -598,1 +597,6 @@\n-  fputs (string, stream);\n+  if (fputs (string, stream) == EOF)\n+    {\n+      \/* Something failed, but it's not an error we can handle at glib level\n+       * so let's just continue without the compiler blaming us\n+       *\/\n+    }\n@@ -609,2 +613,6 @@\n-  else\n-    fwrite (string, 1, length, stream);\n+  else if (fwrite (string, 1, length, stream) < (size_t) length)\n+    {\n+      \/* Something failed, but it's not an error we can handle at glib level\n+       * so let's just continue without the compiler blaming us\n+       *\/\n+    }\n@@ -676,1 +684,1 @@\n-                gpointer    *data)\n+                            gpointer    *data)\n@@ -827,1 +835,1 @@\n- * This example adds a log handler for all critical messages from GTK+:\n+ * This example adds a log handler for all critical messages from GTK:\n@@ -995,1 +1003,1 @@\n-              guint    handler_id)\n+                      guint    handler_id)\n@@ -1205,2 +1213,0 @@\n-  gboolean to_stdout = !gmessages_use_stderr;\n-\n@@ -1215,1 +1221,0 @@\n-      to_stdout = FALSE;\n@@ -1219,1 +1224,0 @@\n-      to_stdout = FALSE;\n@@ -1223,1 +1227,0 @@\n-      to_stdout = FALSE;\n@@ -1227,1 +1230,0 @@\n-      to_stdout = FALSE;\n@@ -1257,1 +1259,1 @@\n-  return to_stdout ? stdout : stderr;\n+  return log_level_to_file (log_level);\n@@ -1293,1 +1295,1 @@\n-    va_list        args)\n+        va_list        args)\n@@ -1297,1 +1299,2 @@\n-  gchar buffer[1025], *msg, *msg_alloc = NULL;\n+  char buffer[1025], *msg_alloc = NULL;\n+  const char *msg;\n@@ -1315,1 +1318,3 @@\n-    msg = msg_alloc = g_strdup_vprintf (format, args);\n+    {\n+      msg = format_string (format, args, &msg_alloc);\n+    }\n@@ -1483,1 +1488,1 @@\n-static FILE *\n+static inline FILE *\n@@ -1639,0 +1644,6 @@\n+ * Note that keys that expect UTF-8 strings (specifically `\"MESSAGE\"` and\n+ * `\"GLIB_DOMAIN\"`) must be passed as NUL-terminated UTF-8 strings until GLib\n+ * version 2.74.1 because the default log handler did not consider the length of\n+ * the `GLogField`. Starting with GLib 2.74.1 this is fixed and\n+ * non-NUL-terminated UTF-8 strings can be passed with their correct length.\n+ *\n@@ -1780,1 +1791,1 @@\n-      message = message_allocated = g_strdup_vprintf (format, args);\n+      message = format_string (format, args, &message_allocated);\n@@ -2024,1 +2035,1 @@\n-      fields[4].value = message_allocated = g_strdup_vprintf (message_format, args);\n+      fields[4].value = format_string (message_format, args, &message_allocated);\n@@ -2062,0 +2073,8 @@\n+\n+  if (log_writer_func != g_log_writer_default)\n+    {\n+      g_mutex_unlock (&g_messages_lock);\n+      g_error (\"g_log_set_writer_func() called multiple times\");\n+      return;\n+    }\n+\n@@ -2065,0 +2084,1 @@\n+\n@@ -2084,6 +2104,1 @@\n-\n-#if (defined (_MSC_VER) && _MSC_VER >= 1400)\n-  _invalid_parameter_handler oldHandler, newHandler;\n-  int prev_report_mode = 0;\n-#endif\n-\n+  GWin32InvalidParameterHandler handler;\n@@ -2116,11 +2131,1 @@\n-#if (defined (_MSC_VER) && _MSC_VER >= 1400)\n-  \/* Set up our empty invalid parameter handler, for isatty(),\n-   * in case of bad fd's passed in for isatty(), so that\n-   * msvcrt80.dll+ won't abort the program\n-   *\/\n-  newHandler = myInvalidParameterHandler;\n-  oldHandler = _set_invalid_parameter_handler (newHandler);\n-\n-  \/* Disable the message box for assertions. *\/\n-  prev_report_mode = _CrtSetReportMode(_CRT_ASSERT, 0);\n-#endif\n+  g_win32_push_empty_invalid_parameter_handler (&handler);\n@@ -2158,4 +2163,1 @@\n-#if defined (_MSC_VER) && (_MSC_VER >= 1400)\n-      _CrtSetReportMode(_CRT_ASSERT, prev_report_mode);\n-      _set_invalid_parameter_handler (oldHandler);\n-#endif\n+  g_win32_pop_invalid_parameter_handler (&handler);\n@@ -2215,24 +2217,2 @@\n-  \/* FIXME: Use the new journal API for detecting whether we're writing to the\n-   * journal. See: https:\/\/github.com\/systemd\/systemd\/issues\/2473\n-   *\/\n-  union {\n-    struct sockaddr_storage storage;\n-    struct sockaddr sa;\n-    struct sockaddr_un un;\n-  } addr;\n-  socklen_t addr_len;\n-  int err;\n-\n-  if (output_fd < 0)\n-    return FALSE;\n-\n-  \/* Namespaced journals start with `\/run\/systemd\/journal.${name}\/` (see\n-   * `RuntimeDirectory=systemd\/journal.%i` in `systemd-journald@.service`. The\n-   * default journal starts with `\/run\/systemd\/journal\/`. *\/\n-  addr_len = sizeof(addr);\n-  err = getpeername (output_fd, &addr.sa, &addr_len);\n-  if (err == 0 && addr.storage.ss_family == AF_UNIX)\n-    return (g_str_has_prefix (addr.un.sun_path, \"\/run\/systemd\/journal\/\") ||\n-            g_str_has_prefix (addr.un.sun_path, \"\/run\/systemd\/journal.\"));\n-#endif\n-\n+  return _g_fd_is_journal (output_fd);\n+#else\n@@ -2240,0 +2220,1 @@\n+#endif\n@@ -2277,0 +2258,2 @@\n+  gssize message_length = -1;\n+  gssize log_domain_length = -1;\n@@ -2281,1 +2264,1 @@\n-  struct tm *now_tm;\n+  struct tm now_tm;\n@@ -2290,1 +2273,4 @@\n-        message = field->value;\n+        {\n+          message = field->value;\n+          message_length = field->length;\n+        }\n@@ -2292,1 +2278,4 @@\n-        log_domain = field->value;\n+        {\n+          log_domain = field->value;\n+          log_domain_length = field->length;\n+        }\n@@ -2318,1 +2307,1 @@\n-      g_string_append (gstring, log_domain);\n+      g_string_append_len (gstring, log_domain, log_domain_length);\n@@ -2328,3 +2317,2 @@\n-  now_tm = localtime (&now_secs);\n-  if (G_LIKELY (now_tm != NULL))\n-    strftime (time_buf, sizeof (time_buf), \"%H:%M:%S\", now_tm);\n+  if (_g_localtime (now_secs, &now_tm))\n+    strftime (time_buf, sizeof (time_buf), \"%H:%M:%S\", &now_tm);\n@@ -2348,1 +2336,1 @@\n-      msg = g_string_new (message);\n+      msg = g_string_new_len (message, message_length);\n@@ -3154,0 +3142,1 @@\n+  write_string (stream, \"\\n\");\n@@ -3255,1 +3244,1 @@\n-               gpointer       unused_data)\n+                       gpointer       unused_data)\n@@ -3300,1 +3289,2 @@\n- * @func: the new print handler\n+ * @func: (nullable): the new print handler or %NULL to\n+ *   reset to the default\n@@ -3302,1 +3292,2 @@\n- * Sets the print handler.\n+ * Sets the print handler to @func, or resets it to the\n+ * default GLib handler if %NULL.\n@@ -3305,3 +3296,3 @@\n- * the new handler. The default handler simply outputs\n- * the message to stdout. By providing your own handler\n- * you can redirect the output, to a GTK+ widget or a\n+ * the new handler. The default handler outputs\n+ * the encoded message to stdout. By providing your own handler\n+ * you can redirect the output, to a GTK widget or a\n@@ -3310,1 +3301,8 @@\n- * Returns: the old print handler\n+ * Since 2.76 this functions always returns a valid\n+ * #GPrintFunc, and never returns %NULL. If no custom\n+ * print handler was set, it will return the GLib\n+ * default print handler and that can be re-used to\n+ * decorate its output and\/or to write to stderr\n+ * in all platforms. Before GLib 2.76, this was %NULL.\n+ *\n+ * Returns: (not nullable): the old print handler\n@@ -3315,1 +3313,3 @@\n-  GPrintFunc old_print_func;\n+  return g_atomic_pointer_exchange (&glib_print_func,\n+                                    func ? func : g_default_print_func);\n+}\n@@ -3317,4 +3317,6 @@\n-  g_mutex_lock (&g_messages_lock);\n-  old_print_func = glib_print_func;\n-  glib_print_func = func;\n-  g_mutex_unlock (&g_messages_lock);\n+static void\n+print_string (FILE        *stream,\n+              const gchar *string)\n+{\n+  const gchar *charset;\n+  int ret;\n@@ -3322,1 +3324,54 @@\n-  return old_print_func;\n+  if (g_get_console_charset (&charset))\n+    {\n+      \/* charset is UTF-8 already *\/\n+      ret = fputs (string, stream);\n+    }\n+  else\n+    {\n+      gchar *converted_string = strdup_convert (string, charset);\n+\n+      ret = fputs (converted_string, stream);\n+      g_free (converted_string);\n+    }\n+\n+  \/* In case of failure we can just return early, but there's nothing else\n+   * we can do at this level\n+   *\/\n+  if (ret == EOF)\n+    return;\n+\n+  fflush (stream);\n+}\n+\n+G_ALWAYS_INLINE static inline const char *\n+format_string (const char *format,\n+               va_list     args,\n+               char      **out_allocated_string)\n+{\n+#ifdef G_ENABLE_DEBUG\n+  g_assert (out_allocated_string != NULL);\n+#endif\n+\n+  \/* If there is no formatting to be done, avoid an allocation *\/\n+  if (strchr (format, '%') == NULL)\n+    {\n+      *out_allocated_string = NULL;\n+      return format;\n+    }\n+  else\n+    {\n+      *out_allocated_string = g_strdup_vprintf (format, args);\n+      return *out_allocated_string;\n+    }\n+}\n+\n+static void\n+g_default_print_func (const gchar *string)\n+{\n+  print_string (stdout, string);\n+}\n+\n+static void\n+g_default_printerr_func (const gchar *string)\n+{\n+  print_string (stderr, string);\n@@ -3331,1 +3386,1 @@\n- * The default print handler simply outputs the message to stdout, without\n+ * The default print handler outputs the encoded message to stdout, without\n@@ -3346,1 +3401,2 @@\n-  gchar *string;\n+  const gchar *string;\n+  gchar *free_me = NULL;\n@@ -3352,1 +3408,1 @@\n-  string = g_strdup_vprintf (format, args);\n+  string = format_string (format, args, &free_me);\n@@ -3355,22 +3411,3 @@\n-  g_mutex_lock (&g_messages_lock);\n-  local_glib_print_func = glib_print_func;\n-  g_mutex_unlock (&g_messages_lock);\n-\n-  if (local_glib_print_func)\n-    local_glib_print_func (string);\n-  else\n-    {\n-      const gchar *charset;\n-\n-      if (g_get_console_charset (&charset))\n-        fputs (string, stdout); \/* charset is UTF-8 already *\/\n-      else\n-        {\n-          gchar *lstring = strdup_convert (string, charset);\n-\n-          fputs (lstring, stdout);\n-          g_free (lstring);\n-        }\n-      fflush (stdout);\n-    }\n-  g_free (string);\n+  local_glib_print_func = g_atomic_pointer_get (&glib_print_func);\n+  local_glib_print_func (string);\n+  g_free (free_me);\n@@ -3381,1 +3418,2 @@\n- * @func: the new error message handler\n+ * @func: (nullable): he new error message handler or %NULL\n+ *  to reset to the default\n@@ -3383,1 +3421,2 @@\n- * Sets the handler for printing error messages.\n+ * Sets the handler for printing error messages to @func,\n+ * or resets it to the default GLib handler if %NULL.\n@@ -3386,1 +3425,1 @@\n- * the new handler. The default handler simply outputs the\n+ * the new handler. The default handler outputs the encoded\n@@ -3388,1 +3427,1 @@\n- * redirect the output, to a GTK+ widget or a log file for\n+ * redirect the output, to a GTK widget or a log file for\n@@ -3391,1 +3430,8 @@\n- * Returns: the old error message handler\n+ * Since 2.76 this functions always returns a valid\n+ * #GPrintFunc, and never returns %NULL. If no custom error\n+ * print handler was set, it will return the GLib default\n+ * error print handler and that can be re-used to decorate\n+ * its output and\/or to write to stderr in all platforms.\n+ * Before GLib 2.76, this was %NULL.\n+ *\n+ * Returns: (not nullable): the old error message handler\n@@ -3396,8 +3442,2 @@\n-  GPrintFunc old_printerr_func;\n-\n-  g_mutex_lock (&g_messages_lock);\n-  old_printerr_func = glib_printerr_func;\n-  glib_printerr_func = func;\n-  g_mutex_unlock (&g_messages_lock);\n-\n-  return old_printerr_func;\n+  return g_atomic_pointer_exchange (&glib_printerr_func,\n+                                    func ? func : g_default_printerr_func);\n@@ -3412,1 +3452,1 @@\n- * The default handler simply outputs the message to stderr, without appending\n+ * The default handler outputs the encoded message to stderr, without appending\n@@ -3425,1 +3465,2 @@\n-  gchar *string;\n+  const char *string;\n+  char *free_me = NULL;\n@@ -3431,1 +3472,1 @@\n-  string = g_strdup_vprintf (format, args);\n+  string = format_string (format, args, &free_me);\n@@ -3434,22 +3475,3 @@\n-  g_mutex_lock (&g_messages_lock);\n-  local_glib_printerr_func = glib_printerr_func;\n-  g_mutex_unlock (&g_messages_lock);\n-\n-  if (local_glib_printerr_func)\n-    local_glib_printerr_func (string);\n-  else\n-    {\n-      const gchar *charset;\n-\n-      if (g_get_console_charset (&charset))\n-        fputs (string, stderr); \/* charset is UTF-8 already *\/\n-      else\n-        {\n-          gchar *lstring = strdup_convert (string, charset);\n-\n-          fputs (lstring, stderr);\n-          g_free (lstring);\n-        }\n-      fflush (stderr);\n-    }\n-  g_free (string);\n+  local_glib_printerr_func = g_atomic_pointer_get (&glib_printerr_func);\n+  local_glib_printerr_func (string);\n+  g_free (free_me);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmessages.c","additions":193,"deletions":171,"binary":false,"changes":364,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -292,1 +294,0 @@\n-GLIB_DEPRECATED\n@@ -294,0 +295,1 @@\n+GLIB_DEPRECATED\n@@ -410,1 +412,1 @@\n-static G_NORETURN void g_error (const gchar *format, ...) G_ANALYZER_NORETURN;\n+G_NORETURN static void g_error (const gchar *format, ...) G_ANALYZER_NORETURN;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmessages.h","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gnode.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gnode.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -21,1 +23,1 @@\n- * SECTION:option\n+ * SECTION:goptioncontext\n@@ -66,1 +68,1 @@\n- *   --help-gtk               Show GTK+ Options\n+ *   --help-gtk               Show GTK Options\n@@ -2298,0 +2300,5 @@\n+ * @description is typically used to provide a title for the group. If so, it\n+ * is recommended that it’s written in title case, and has a trailing colon so\n+ * that it matches the style of built-in GLib group titles such as\n+ * ‘Application Options:’.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/goption.c","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -61,1 +63,2 @@\n- *     flag indicates that the sense of the option is reversed.\n+ *     flag indicates that the sense of the option is reversed. i.e. %FALSE will\n+ *     be stored into the argument rather than %TRUE.\n@@ -95,1 +98,1 @@\n- * @G_OPTION_ARG_NONE: No extra argument. This is useful for simple flags.\n+ * @G_OPTION_ARG_NONE: No extra argument. This is useful for simple flags or booleans.\n@@ -234,7 +237,7 @@\n- *     - %G_OPTION_ARG_NONE: %gboolean\n- *     - %G_OPTION_ARG_STRING: %gchar*\n- *     - %G_OPTION_ARG_INT: %gint\n- *     - %G_OPTION_ARG_FILENAME: %gchar*\n- *     - %G_OPTION_ARG_STRING_ARRAY: %gchar**\n- *     - %G_OPTION_ARG_FILENAME_ARRAY: %gchar**\n- *     - %G_OPTION_ARG_DOUBLE: %gdouble\n+ *      - %G_OPTION_ARG_NONE: %gboolean\n+ *      - %G_OPTION_ARG_STRING: %gchar*\n+ *      - %G_OPTION_ARG_INT: %gint\n+ *      - %G_OPTION_ARG_FILENAME: %gchar*\n+ *      - %G_OPTION_ARG_STRING_ARRAY: %gchar**\n+ *      - %G_OPTION_ARG_FILENAME_ARRAY: %gchar**\n+ *      - %G_OPTION_ARG_DOUBLE: %gdouble\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/goption.h","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -0,0 +1,598 @@\n+\/* gpathbuf.c: A mutable path builder\n+ *\n+ * SPDX-FileCopyrightText: 2023  Emmanuele Bassi\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\/\n+\n+#include \"config.h\"\n+\n+#include \"gpathbuf.h\"\n+\n+#include \"garray.h\"\n+#include \"gfileutils.h\"\n+#include \"ghash.h\"\n+#include \"gmessages.h\"\n+#include \"gstrfuncs.h\"\n+\n+\/**\n+ * SECTION:gpathbuf\n+ * @Title: GPathBuf\n+ * @Short_description: A mutable path builder\n+ *\n+ * `GPathBuf` is a helper type that allows you to easily build paths from\n+ * individual elements, using the platform specific conventions for path\n+ * separators.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * g_auto (GPathBuf) path;\n+ *\n+ * g_path_buf_init (&path);\n+ *\n+ * g_path_buf_push (&path, \"usr\");\n+ * g_path_buf_push (&path, \"bin\");\n+ * g_path_buf_push (&path, \"echo\");\n+ *\n+ * g_autofree char *echo = g_path_buf_to_path (&path);\n+ * g_assert_cmpstr (echo, ==, \"\/usr\/bin\/echo\");\n+ * ]|\n+ *\n+ * You can also load a full path and then operate on its components:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * g_auto (GPathBuf) path;\n+ *\n+ * g_path_buf_init_from_path (&path, \"\/usr\/bin\/echo\");\n+ *\n+ * g_path_buf_pop (&path);\n+ * g_path_buf_push (&path, \"sh\");\n+ *\n+ * g_autofree char *sh = g_path_buf_to_path (&path);\n+ * g_assert_cmpstr (sh, ==, \"\/usr\/bin\/sh\");\n+ * ]|\n+ *\n+ * `GPathBuf` is available since GLib 2.76.\n+ *\/\n+\n+typedef struct {\n+  \/* (nullable) (owned) (element-type filename) *\/\n+  GPtrArray *path;\n+\n+  \/* (nullable) (owned) *\/\n+  char *extension;\n+\n+  gpointer padding[6];\n+} RealPathBuf;\n+\n+G_STATIC_ASSERT (sizeof (GPathBuf) == sizeof (RealPathBuf));\n+\n+#define PATH_BUF(b) ((RealPathBuf *) (b))\n+\n+\/**\n+ * g_path_buf_init:\n+ * @buf: a path buffer\n+ *\n+ * Initializes a `GPathBuf` instance.\n+ *\n+ * Returns: (transfer none): the initialized path builder\n+ *\n+ * Since: 2.76\n+ *\/\n+GPathBuf *\n+g_path_buf_init (GPathBuf *buf)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+\n+  rbuf->path = NULL;\n+  rbuf->extension = NULL;\n+\n+  return buf;\n+}\n+\n+\/**\n+ * g_path_buf_init_from_path:\n+ * @buf: a path buffer\n+ * @path: (type filename) (nullable): a file system path\n+ *\n+ * Initializes a `GPathBuf` instance with the given path.\n+ *\n+ * Returns: (transfer none): the initialized path builder\n+ *\n+ * Since: 2.76\n+ *\/\n+GPathBuf *\n+g_path_buf_init_from_path (GPathBuf   *buf,\n+                           const char *path)\n+{\n+  g_return_val_if_fail (buf != NULL, NULL);\n+  g_return_val_if_fail (path == NULL || *path != '\\0', NULL);\n+\n+  g_path_buf_init (buf);\n+\n+  if (path == NULL)\n+    return buf;\n+  else\n+    return g_path_buf_push (buf, path);\n+}\n+\n+\/**\n+ * g_path_buf_clear:\n+ * @buf: a path buffer\n+ *\n+ * Clears the contents of the path buffer.\n+ *\n+ * This function should be use to free the resources in a stack-allocated\n+ * `GPathBuf` initialized using g_path_buf_init() or\n+ * g_path_buf_init_from_path().\n+ *\n+ * Since: 2.76\n+ *\/\n+void\n+g_path_buf_clear (GPathBuf *buf)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+\n+  g_return_if_fail (buf != NULL);\n+\n+  g_clear_pointer (&rbuf->path, g_ptr_array_unref);\n+  g_clear_pointer (&rbuf->extension, g_free);\n+}\n+\n+\/**\n+ * g_path_buf_clear_to_path:\n+ * @buf: a path buffer\n+ *\n+ * Clears the contents of the path buffer and returns the built path.\n+ *\n+ * This function returns `NULL` if the `GPathBuf` is empty.\n+ *\n+ * See also: g_path_buf_to_path()\n+ *\n+ * Returns: (transfer full) (nullable) (type filename): the built path\n+ *\n+ * Since: 2.76\n+ *\/\n+char *\n+g_path_buf_clear_to_path (GPathBuf *buf)\n+{\n+  char *res;\n+\n+  g_return_val_if_fail (buf != NULL, NULL);\n+\n+  res = g_path_buf_to_path (buf);\n+  g_path_buf_clear (buf);\n+\n+  return g_steal_pointer (&res);\n+}\n+\n+\/**\n+ * g_path_buf_new:\n+ *\n+ * Allocates a new `GPathBuf`.\n+ *\n+ * Returns: (transfer full): the newly allocated path buffer\n+ *\n+ * Since: 2.76\n+ *\/\n+GPathBuf *\n+g_path_buf_new (void)\n+{\n+  return g_path_buf_init (g_new (GPathBuf, 1));\n+}\n+\n+\/**\n+ * g_path_buf_new_from_path:\n+ * @path: (type filename) (nullable): the path used to initialize the buffer\n+ *\n+ * Allocates a new `GPathBuf` with the given @path.\n+ *\n+ * Returns: (transfer full): the newly allocated path buffer\n+ *\n+ * Since: 2.76\n+ *\/\n+GPathBuf *\n+g_path_buf_new_from_path (const char *path)\n+{\n+  return g_path_buf_init_from_path (g_new (GPathBuf, 1), path);\n+}\n+\n+\/**\n+ * g_path_buf_free:\n+ * @buf: (transfer full) (not nullable): a path buffer\n+ *\n+ * Frees a `GPathBuf` allocated by g_path_buf_new().\n+ *\n+ * Since: 2.76\n+ *\/\n+void\n+g_path_buf_free (GPathBuf *buf)\n+{\n+  g_return_if_fail (buf != NULL);\n+\n+  g_path_buf_clear (buf);\n+  g_free (buf);\n+}\n+\n+\/**\n+ * g_path_buf_free_to_path:\n+ * @buf: (transfer full) (not nullable): a path buffer\n+ *\n+ * Frees a `GPathBuf` allocated by g_path_buf_new(), and\n+ * returns the path inside the buffer.\n+ *\n+ * This function returns `NULL` if the `GPathBuf` is empty.\n+ *\n+ * See also: g_path_buf_to_path()\n+ *\n+ * Returns: (transfer full) (nullable) (type filename): the path\n+ *\n+ * Since: 2.76\n+ *\/\n+char *\n+g_path_buf_free_to_path (GPathBuf *buf)\n+{\n+  char *res;\n+\n+  g_return_val_if_fail (buf != NULL, NULL);\n+\n+  res = g_path_buf_clear_to_path (buf);\n+  g_path_buf_free (buf);\n+\n+  return g_steal_pointer (&res);\n+}\n+\n+\/**\n+ * g_path_buf_copy:\n+ * @buf: (not nullable): a path buffer\n+ *\n+ * Copies the contents of a path buffer into a new `GPathBuf`.\n+ *\n+ * Returns: (transfer full): the newly allocated path buffer\n+ *\n+ * Since: 2.76\n+ *\/\n+GPathBuf *\n+g_path_buf_copy (GPathBuf *buf)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+  RealPathBuf *rcopy;\n+  GPathBuf *copy;\n+\n+  g_return_val_if_fail (buf != NULL, NULL);\n+\n+  copy = g_path_buf_new ();\n+  rcopy = PATH_BUF (copy);\n+\n+  if (rbuf->path != NULL)\n+    {\n+      rcopy->path = g_ptr_array_new_null_terminated (rbuf->path->len, g_free, TRUE);\n+      for (guint i = 0; i < rbuf->path->len; i++)\n+        {\n+          const char *p = g_ptr_array_index (rbuf->path, i);\n+\n+          if (p != NULL)\n+            g_ptr_array_add (rcopy->path, g_strdup (p));\n+        }\n+    }\n+\n+  rcopy->extension = g_strdup (rbuf->extension);\n+\n+  return copy;\n+}\n+\n+\/**\n+ * g_path_buf_push:\n+ * @buf: a path buffer\n+ * @path: (type filename): a path\n+ *\n+ * Extends the given path buffer with @path.\n+ *\n+ * If @path is absolute, it replaces the current path.\n+ *\n+ * If @path contains a directory separator, the buffer is extended by\n+ * as many elements the path provides.\n+ *\n+ * On Windows, both forward slashes and backslashes are treated as\n+ * directory separators. On other platforms, %G_DIR_SEPARATOR_S is the\n+ * only directory separator.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * GPathBuf buf, cmp;\n+ *\n+ * g_path_buf_init_from_path (&buf, \"\/tmp\");\n+ * g_path_buf_push (&buf, \".X11-unix\/X0\");\n+ * g_path_buf_init_from_path (&cmp, \"\/tmp\/.X11-unix\/X0\");\n+ * g_assert_true (g_path_buf_equal (&buf, &cmp));\n+ * g_path_buf_clear (&cmp);\n+ *\n+ * g_path_buf_push (&buf, \"\/etc\/locale.conf\");\n+ * g_path_buf_init_from_path (&cmp, \"\/etc\/locale.conf\");\n+ * g_assert_true (g_path_buf_equal (&buf, &cmp));\n+ * g_path_buf_clear (&cmp);\n+ *\n+ * g_path_buf_clear (&buf);\n+ * ]|\n+ *\n+ * Returns: (transfer none): the same pointer to @buf, for convenience\n+ *\n+ * Since: 2.76\n+ *\/\n+GPathBuf *\n+g_path_buf_push (GPathBuf   *buf,\n+                 const char *path)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+\n+  g_return_val_if_fail (buf != NULL, NULL);\n+  g_return_val_if_fail (path != NULL && *path != '\\0', buf);\n+\n+  if (g_path_is_absolute (path))\n+    {\n+#ifdef G_OS_WIN32\n+      char **elements = g_strsplit_set (path, \"\\\\\/\", -1);\n+#else\n+      char **elements = g_strsplit (path, G_DIR_SEPARATOR_S, -1);\n+#endif\n+\n+#ifdef G_OS_UNIX\n+      \/* strsplit() will add an empty element for the leading root,\n+       * which will cause the path build to ignore it; to avoid it,\n+       * we re-inject the root as the first element.\n+       *\n+       * The first string is empty, but it's still allocated, so we\n+       * need to free it to avoid leaking it.\n+       *\/\n+      g_free (elements[0]);\n+      elements[0] = g_strdup (\"\/\");\n+#endif\n+\n+      g_clear_pointer (&rbuf->path, g_ptr_array_unref);\n+      rbuf->path = g_ptr_array_new_null_terminated (g_strv_length (elements), g_free, TRUE);\n+\n+      \/* Skip empty elements caused by repeated separators *\/\n+      for (guint i = 0; elements[i] != NULL; i++)\n+        {\n+          if (*elements[i] != '\\0')\n+            g_ptr_array_add (rbuf->path, g_steal_pointer (&elements[i]));\n+          else\n+            g_free (elements[i]);\n+        }\n+\n+      g_free (elements);\n+    }\n+  else\n+    {\n+      char **elements = g_strsplit (path, G_DIR_SEPARATOR_S, -1);\n+\n+      if (rbuf->path == NULL)\n+        rbuf->path = g_ptr_array_new_null_terminated (g_strv_length (elements), g_free, TRUE);\n+\n+      \/* Skip empty elements caused by repeated separators *\/\n+      for (guint i = 0; elements[i] != NULL; i++)\n+        {\n+          if (*elements[i] != '\\0')\n+            g_ptr_array_add (rbuf->path, g_steal_pointer (&elements[i]));\n+          else\n+            g_free (elements[i]);\n+        }\n+\n+      g_free (elements);\n+    }\n+\n+  return buf;\n+}\n+\n+\/**\n+ * g_path_buf_pop:\n+ * @buf: a path buffer\n+ *\n+ * Removes the last element of the path buffer.\n+ *\n+ * If there is only one element in the path buffer (for example, `\/` on\n+ * Unix-like operating systems or the drive on Windows systems), it will\n+ * not be removed and %FALSE will be returned instead.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * GPathBuf buf, cmp;\n+ *\n+ * g_path_buf_init_from_path (&buf, \"\/bin\/sh\");\n+ *\n+ * g_path_buf_pop (&buf);\n+ * g_path_buf_init_from_path (&cmp, \"\/bin\");\n+ * g_assert_true (g_path_buf_equal (&buf, &cmp));\n+ * g_path_buf_clear (&cmp);\n+ *\n+ * g_path_buf_pop (&buf);\n+ * g_path_buf_init_from_path (&cmp, \"\/\");\n+ * g_assert_true (g_path_buf_equal (&buf, &cmp));\n+ * g_path_buf_clear (&cmp);\n+ *\n+ * g_path_buf_clear (&buf);\n+ * ]|\n+ *\n+ * Returns: `TRUE` if the buffer was modified and `FALSE` otherwise\n+ *\n+ * Since: 2.76\n+ *\/\n+gboolean\n+g_path_buf_pop (GPathBuf *buf)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+\n+  g_return_val_if_fail (buf != NULL, FALSE);\n+  g_return_val_if_fail (rbuf->path != NULL, FALSE);\n+\n+  \/* Keep the first element of the buffer; it's either '\/' or the drive *\/\n+  if (rbuf->path->len > 1)\n+    {\n+      g_ptr_array_remove_index (rbuf->path, rbuf->path->len - 1);\n+      return TRUE;\n+    }\n+\n+  return FALSE;\n+}\n+\n+\/**\n+ * g_path_buf_set_filename:\n+ * @buf: a path buffer\n+ * @file_name: (type filename) (not nullable): the file name in the path\n+ *\n+ * Sets the file name of the path.\n+ *\n+ * If the path buffer is empty, the filename is left unset and this\n+ * function returns `FALSE`.\n+ *\n+ * If the path buffer only contains the root element (on Unix-like operating\n+ * systems) or the drive (on Windows), this is the equivalent of pushing\n+ * the new @file_name.\n+ *\n+ * If the path buffer contains a path, this is the equivalent of\n+ * popping the path buffer and pushing @file_name, creating a\n+ * sibling of the original path.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * GPathBuf buf, cmp;\n+ *\n+ * g_path_buf_init_from_path (&buf, \"\/\");\n+ *\n+ * g_path_buf_set_filename (&buf, \"bar\");\n+ * g_path_buf_init_from_path (&cmp, \"\/bar\");\n+ * g_assert_true (g_path_buf_equal (&buf, &cmp));\n+ * g_path_buf_clear (&cmp);\n+ *\n+ * g_path_buf_set_filename (&buf, \"baz.txt\");\n+ * g_path_buf_init_from_path (&cmp, \"\/baz.txt\");\n+ * g_assert_true (g_path_buf_equal (&buf, &cmp);\n+ * g_path_buf_clear (&cmp);\n+ *\n+ * g_path_buf_clear (&buf);\n+ * ]|\n+ *\n+ * Returns: `TRUE` if the file name was replaced, and `FALSE` otherwise\n+ *\n+ * Since: 2.76\n+ *\/\n+gboolean\n+g_path_buf_set_filename (GPathBuf   *buf,\n+                         const char *file_name)\n+{\n+  g_return_val_if_fail (buf != NULL, FALSE);\n+  g_return_val_if_fail (file_name != NULL, FALSE);\n+\n+  if (PATH_BUF (buf)->path == NULL)\n+    return FALSE;\n+\n+  g_path_buf_pop (buf);\n+  g_path_buf_push (buf, file_name);\n+\n+  return TRUE;\n+}\n+\n+\/**\n+ * g_path_buf_set_extension:\n+ * @buf: a path buffer\n+ * @extension: (type filename) (nullable): the file extension\n+ *\n+ * Adds an extension to the file name in the path buffer.\n+ *\n+ * If @extension is `NULL`, the extension will be unset.\n+ *\n+ * If the path buffer does not have a file name set, this function returns\n+ * `FALSE` and leaves the path buffer unmodified.\n+ *\n+ * Returns: `TRUE` if the extension was replaced, and `FALSE` otherwise\n+ *\n+ * Since: 2.76\n+ *\/\n+gboolean\n+g_path_buf_set_extension  (GPathBuf   *buf,\n+                           const char *extension)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+\n+  g_return_val_if_fail (buf != NULL, FALSE);\n+\n+  if (rbuf->path != NULL)\n+    return g_set_str (&rbuf->extension, extension);\n+  else\n+    return FALSE;\n+}\n+\n+\/**\n+ * g_path_buf_to_path:\n+ * @buf: a path buffer\n+ *\n+ * Retrieves the built path from the path buffer.\n+ *\n+ * On Windows, the result contains backslashes as directory separators,\n+ * even if forward slashes were used in input.\n+ *\n+ * If the path buffer is empty, this function returns `NULL`.\n+ *\n+ * Returns: (transfer full) (type filename) (nullable): the path\n+ *\n+ * Since: 2.76\n+ *\/\n+char *\n+g_path_buf_to_path (GPathBuf *buf)\n+{\n+  RealPathBuf *rbuf = PATH_BUF (buf);\n+  char *path = NULL;\n+\n+  g_return_val_if_fail (buf != NULL, NULL);\n+\n+  if (rbuf->path != NULL)\n+    path = g_build_filenamev ((char **) rbuf->path->pdata);\n+\n+  if (path != NULL && rbuf->extension != NULL)\n+    {\n+      char *tmp = g_strconcat (path, \".\", rbuf->extension, NULL);\n+\n+      g_free (path);\n+      path = g_steal_pointer (&tmp);\n+    }\n+\n+  return path;\n+}\n+\n+\/**\n+ * g_path_buf_equal:\n+ * @v1: (not nullable): a path buffer to compare\n+ * @v2: (not nullable): a path buffer to compare\n+ *\n+ * Compares two path buffers for equality and returns `TRUE`\n+ * if they are equal.\n+ *\n+ * The path inside the paths buffers are not going to be normalized,\n+ * so `X\/Y\/Z\/A\/..`, `X\/.\/Y\/Z` and `X\/Y\/Z` are not going to be considered\n+ * equal.\n+ *\n+ * This function can be passed to g_hash_table_new() as the\n+ * `key_equal_func` parameter.\n+ *\n+ * Returns: `TRUE` if the two path buffers are equal,\n+ *   and `FALSE` otherwise\n+ *\n+ * Since: 2.76\n+ *\/\n+gboolean\n+g_path_buf_equal (gconstpointer v1,\n+                  gconstpointer v2)\n+{\n+  if (v1 == v2)\n+    return TRUE;\n+\n+  \/* We resolve the buffer into a path to normalize its contents;\n+   * this won't resolve symbolic links or `.` and `..` components\n+   *\/\n+  char *p1 = g_path_buf_to_path ((GPathBuf *) v1);\n+  char *p2 = g_path_buf_to_path ((GPathBuf *) v2);\n+\n+  gboolean res = p1 != NULL && p2 != NULL\n+               ? g_str_equal (p1, p2)\n+               : FALSE;\n+\n+  g_free (p1);\n+  g_free (p2);\n+\n+  return res;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpathbuf.c","additions":598,"deletions":0,"binary":false,"changes":598,"status":"added"},{"patch":"@@ -0,0 +1,90 @@\n+\/* gpathbuf.h: A mutable path builder\n+ *\n+ * SPDX-FileCopyrightText: 2023  Emmanuele Bassi\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\/\n+\n+#pragma once\n+\n+#if !defined (__GLIB_H_INSIDE__) && !defined (GLIB_COMPILATION)\n+#error \"Only <glib.h> can be included directly.\"\n+#endif\n+\n+#include <glib\/gtypes.h>\n+\n+G_BEGIN_DECLS\n+\n+typedef struct _GPathBuf  GPathBuf;\n+\n+\/**\n+ * GPathBuf: (copy-func g_path_buf_copy) (free-func g_path_buf_free)\n+ *\n+ * A mutable path builder.\n+ *\n+ * Since: 2.76\n+ *\/\n+struct _GPathBuf\n+{\n+  \/*< private >*\/\n+  gpointer dummy[8];\n+};\n+\n+\/**\n+ * G_PATH_BUF_INIT:\n+ *\n+ * Initializes a #GPathBuf on the stack.\n+ *\n+ * A stack-allocated `GPathBuf` must be initialized if it is used\n+ * together with g_auto() to avoid warnings and crashes if the\n+ * function returns before calling g_path_buf_init().\n+ *\n+ * |[<!-- language=\"C\" -->\n+ *   g_auto (GPathBuf) buf = G_PATH_BUF_INIT;\n+ * ]|\n+ *\n+ * Since: 2.76\n+ *\/\n+#define G_PATH_BUF_INIT { { NULL, } } \\\n+  GLIB_AVAILABLE_MACRO_IN_2_76\n+\n+GLIB_AVAILABLE_IN_2_76\n+GPathBuf *    g_path_buf_new            (void);\n+GLIB_AVAILABLE_IN_2_76\n+GPathBuf *    g_path_buf_new_from_path  (const char *path);\n+GLIB_AVAILABLE_IN_2_76\n+GPathBuf *    g_path_buf_init           (GPathBuf   *buf);\n+GLIB_AVAILABLE_IN_2_76\n+GPathBuf *    g_path_buf_init_from_path (GPathBuf   *buf,\n+                                         const char *path);\n+GLIB_AVAILABLE_IN_2_76\n+void          g_path_buf_clear          (GPathBuf   *buf);\n+GLIB_AVAILABLE_IN_2_76\n+char *        g_path_buf_clear_to_path  (GPathBuf   *buf) G_GNUC_WARN_UNUSED_RESULT;\n+GLIB_AVAILABLE_IN_2_76\n+void          g_path_buf_free           (GPathBuf   *buf);\n+GLIB_AVAILABLE_IN_2_76\n+char *        g_path_buf_free_to_path   (GPathBuf   *buf) G_GNUC_WARN_UNUSED_RESULT;\n+GLIB_AVAILABLE_IN_2_76\n+GPathBuf *    g_path_buf_copy           (GPathBuf   *buf);\n+\n+GLIB_AVAILABLE_IN_2_76\n+GPathBuf *    g_path_buf_push           (GPathBuf   *buf,\n+                                         const char *path);\n+GLIB_AVAILABLE_IN_2_76\n+gboolean      g_path_buf_pop            (GPathBuf   *buf);\n+\n+GLIB_AVAILABLE_IN_2_76\n+gboolean      g_path_buf_set_filename   (GPathBuf   *buf,\n+                                         const char *file_name);\n+GLIB_AVAILABLE_IN_2_76\n+gboolean      g_path_buf_set_extension  (GPathBuf   *buf,\n+                                         const char *extension);\n+\n+GLIB_AVAILABLE_IN_2_76\n+char *        g_path_buf_to_path        (GPathBuf   *buf) G_GNUC_WARN_UNUSED_RESULT;\n+\n+GLIB_AVAILABLE_IN_2_76\n+gboolean      g_path_buf_equal          (gconstpointer v1,\n+                                         gconstpointer v2);\n+\n+G_END_DECLS\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpathbuf.h","additions":90,"deletions":0,"binary":false,"changes":90,"status":"added"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpattern.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpattern.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -8,0 +8,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpoll.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpoll.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gprimes.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gprimes.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -343,1 +345,8 @@\n-          g_error (\"%s: failed to allocate memory\", G_STRLOC);\n+          {\n+            \/* Try and print a message to be a bit helpful, but stick to the\n+             * bare minimum to avoid any code path which could try and fail to\n+             * allocate additional memory. *\/\n+            fputs (G_STRLOC, stderr);\n+            fputs (\": failed to allocate memory\\n\", stderr);\n+            g_abort ();\n+          }\n@@ -354,1 +363,1 @@\n-    G_VA_COPY (args2, args);\n+    va_copy (args2, args);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gprintf.c","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gprintf.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gprintfint.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -129,2 +131,2 @@\n-    unsigned long *tmpl = (unsigned long *) tmp;\n-    unsigned long *bl;\n+    guintptr *tmpl = (guintptr *) tmp;\n+    guintptr *bl;\n@@ -135,1 +137,1 @@\n-        bl = (unsigned long *) b1;\n+        bl = (guintptr *) b1;\n@@ -141,1 +143,1 @@\n-        bl = (unsigned long *) b2;\n+        bl = (guintptr *) b2;\n@@ -145,1 +147,1 @@\n-    while (tmpl < (unsigned long *) tmp)\n+    while (tmpl < (guintptr *) tmp)\n@@ -266,12 +268,11 @@\n-    && ((char *) b - (char *) 0) % ALIGNOF_GUINT32 == 0)\n-  {\n-    if (s == sizeof (guint32))\n-      p.var = 0;\n-    else if (s == sizeof (guint64)\n-       && ((char *) b - (char *) 0) % ALIGNOF_GUINT64 == 0)\n-      p.var = 1;\n-    else if ((s & (sizeof (unsigned long) - 1)) == 0\n-       && ((char *) b - (char *) 0)\n-          % ALIGNOF_UNSIGNED_LONG == 0)\n-      p.var = 2;\n-  }\n+      && (gsize) (guintptr) b % G_ALIGNOF(guint32) == 0)\n+    {\n+      if (s == sizeof (guint32))\n+        p.var = 0;\n+      else if (s == sizeof (guint64)\n+           && (gsize) (guintptr) b % G_ALIGNOF(guint64) == 0)\n+        p.var = 1;\n+      else if ((s & (sizeof (void *) - 1)) == 0\n+           && (gsize) (guintptr) b % G_ALIGNOF(void *) == 0)\n+        p.var = 2;\n+    }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gqsort.c","additions":18,"deletions":17,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gqsort.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -247,1 +249,1 @@\n- * function in GTK+ theme engines).\n+ * function in GTK theme engines).\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gquark.c","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gquark.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gqueue.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gqueue.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -231,1 +233,1 @@\n-    dev_urandom = fopen(\"\/dev\/urandom\", \"rb\");\n+    dev_urandom = fopen(\"\/dev\/urandom\", \"rbe\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grand.c","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grand.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grcbox.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grcbox.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grcboxprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grefcount.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -51,0 +53,54 @@\n+\/**\n+ * G_REF_COUNT_INIT:\n+ *\n+ * Evaluates to the initial reference count for `grefcount`.\n+ *\n+ * This macro is useful for initializing `grefcount` fields inside\n+ * structures, for instance:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * typedef struct {\n+ *   grefcount ref_count;\n+ *   char *name;\n+ *   char *address;\n+ * } Person;\n+ *\n+ * static const Person default_person = {\n+ *   .ref_count = G_REF_COUNT_INIT,\n+ *   .name = \"Default name\",\n+ *   .address = \"Default address\",\n+ * };\n+ * ]|\n+ *\n+ * Since: 2.78\n+ *\/\n+#define G_REF_COUNT_INIT          -1 \\\n+  GLIB_AVAILABLE_MACRO_IN_2_78\n+\n+\/**\n+ * G_ATOMIC_REF_COUNT_INIT:\n+ *\n+ * Evaluates to the initial reference count for `gatomicrefcount`.\n+ *\n+ * This macro is useful for initializing `gatomicrefcount` fields inside\n+ * structures, for instance:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * typedef struct {\n+ *   gatomicrefcount ref_count;\n+ *   char *name;\n+ *   char *address;\n+ * } Person;\n+ *\n+ * static const Person default_person = {\n+ *   .ref_count = G_ATOMIC_REF_COUNT_INIT,\n+ *   .name = \"Default name\",\n+ *   .address = \"Default address\",\n+ * };\n+ * ]|\n+ *\n+ * Since: 2.78\n+ *\/\n+#define G_ATOMIC_REF_COUNT_INIT   1 \\\n+  GLIB_AVAILABLE_MACRO_IN_2_78\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grefcount.h","additions":56,"deletions":0,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gscanner.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gscanner.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1116,1 +1116,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_KANNADA, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -1274,1 +1274,1 @@\n-  G_UNICODE_SCRIPT_LAO, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_LAO, G_UNICODE_SCRIPT_LAO, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -3042,0 +3042,1 @@\n+ { 0x10efd,     3, G_UNICODE_SCRIPT_ARABIC },\n@@ -3060,1 +3061,1 @@\n- { 0x11213,    44, G_UNICODE_SCRIPT_KHOJKI },\n+ { 0x11213,    47, G_UNICODE_SCRIPT_KHOJKI },\n@@ -3116,0 +3117,1 @@\n+ { 0x11b00,    10, G_UNICODE_SCRIPT_DEVANAGARI },\n@@ -3137,0 +3139,3 @@\n+ { 0x11f00,    17, G_UNICODE_SCRIPT_KAWI },\n+ { 0x11f12,    41, G_UNICODE_SCRIPT_KAWI },\n+ { 0x11f3e,    28, G_UNICODE_SCRIPT_KAWI },\n@@ -3145,2 +3150,1 @@\n- { 0x13000,  1071, G_UNICODE_SCRIPT_EGYPTIAN_HIEROGLYPHS },\n- { 0x13430,     9, G_UNICODE_SCRIPT_EGYPTIAN_HIEROGLYPHS },\n+ { 0x13000,  1110, G_UNICODE_SCRIPT_EGYPTIAN_HIEROGLYPHS },\n@@ -3180,0 +3184,1 @@\n+ { 0x1b132,     1, G_UNICODE_SCRIPT_HIRAGANA },\n@@ -3181,0 +3186,1 @@\n+ { 0x1b155,     1, G_UNICODE_SCRIPT_KATAKANA },\n@@ -3204,0 +3210,1 @@\n+ { 0x1d2c0,    20, G_UNICODE_SCRIPT_COMMON },\n@@ -3232,0 +3239,1 @@\n+ { 0x1df25,     6, G_UNICODE_SCRIPT_LATIN },\n@@ -3237,0 +3245,2 @@\n+ { 0x1e030,    62, G_UNICODE_SCRIPT_CYRILLIC },\n+ { 0x1e08f,     1, G_UNICODE_SCRIPT_CYRILLIC },\n@@ -3244,0 +3254,1 @@\n+ { 0x1e4d0,    42, G_UNICODE_SCRIPT_NAG_MUNDARI },\n@@ -3304,1 +3315,1 @@\n- { 0x1f6dd,    16, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1f6dc,    17, G_UNICODE_SCRIPT_COMMON },\n@@ -3306,2 +3317,2 @@\n- { 0x1f700,   116, G_UNICODE_SCRIPT_COMMON },\n- { 0x1f780,    89, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1f700,   119, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1f77b,    95, G_UNICODE_SCRIPT_COMMON },\n@@ -3318,9 +3329,7 @@\n- { 0x1fa70,     5, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fa78,     5, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fa80,     7, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fa90,    29, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fab0,    11, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fac0,     6, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fad0,    10, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fae0,     8, G_UNICODE_SCRIPT_COMMON },\n- { 0x1faf0,     7, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fa70,    13, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fa80,     9, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fa90,    46, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fabf,     7, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1face,    14, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fae0,     9, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1faf0,     9, G_UNICODE_SCRIPT_COMMON },\n@@ -3331,1 +3340,1 @@\n- { 0x2a700,  4153, G_UNICODE_SCRIPT_HAN },\n+ { 0x2a700,  4154, G_UNICODE_SCRIPT_HAN },\n@@ -3337,0 +3346,1 @@\n+ { 0x31350,  4192, G_UNICODE_SCRIPT_HAN },\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gscripttable.h","additions":28,"deletions":18,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gsequence.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gsequence.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gshell.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gshell.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -22,4 +24,1 @@\n-#if defined(HAVE_POSIX_MEMALIGN) && !defined(_XOPEN_SOURCE)\n-#define _XOPEN_SOURCE 600       \/* posix_memalign() *\/\n-#endif\n-#include <stdlib.h>             \/* posix_memalign() *\/\n+#include <stdio.h>\n@@ -27,11 +26,0 @@\n-#include <errno.h>\n-\n-#ifdef G_OS_UNIX\n-#include <unistd.h>             \/* sysconf() *\/\n-#endif\n-#ifdef G_OS_WIN32\n-#include <windows.h>\n-#include <process.h>\n-#endif\n-\n-#include <stdio.h>              \/* fputs *\/\n@@ -41,1 +29,0 @@\n-#include \"gmain.h\"\n@@ -43,6 +30,0 @@\n-#include \"gstrfuncs.h\"\n-#include \"gutils.h\"\n-#include \"gtrashstack.h\"\n-#include \"gtestutils.h\"\n-#include \"gthread.h\"\n-#include \"gthreadprivate.h\"\n@@ -52,2 +33,0 @@\n-#include \"gvalgrind.h\"\n-\n@@ -60,31 +39,12 @@\n- * Memory slices provide a space-efficient and multi-processing scalable\n- * way to allocate equal-sized pieces of memory, just like the original\n- * #GMemChunks (from GLib 2.8), while avoiding their excessive\n- * memory-waste, scalability and performance problems.\n- *\n- * To achieve these goals, the slice allocator uses a sophisticated,\n- * layered design that has been inspired by Bonwick's slab allocator\n- * ([Bonwick94](http:\/\/citeseer.ist.psu.edu\/bonwick94slab.html)\n- * Jeff Bonwick, The slab allocator: An object-caching kernel\n- * memory allocator. USENIX 1994, and\n- * [Bonwick01](http:\/\/citeseer.ist.psu.edu\/bonwick01magazines.html)\n- * Bonwick and Jonathan Adams, Magazines and vmem: Extending the\n- * slab allocator to many cpu's and arbitrary resources. USENIX 2001)\n- *\n- * It uses posix_memalign() to optimize allocations of many equally-sized\n- * chunks, and has per-thread free lists (the so-called magazine layer)\n- * to quickly satisfy allocation requests of already known structure sizes.\n- * This is accompanied by extra caching logic to keep freed memory around\n- * for some time before returning it to the system. Memory that is unused\n- * due to alignment constraints is used for cache colorization (random\n- * distribution of chunk addresses) to improve CPU cache utilization. The\n- * caching layer of the slice allocator adapts itself to high lock contention\n- * to improve scalability.\n- *\n- * The slice allocator can allocate blocks as small as two pointers, and\n- * unlike malloc(), it does not reserve extra space per block. For large block\n- * sizes, g_slice_new() and g_slice_alloc() will automatically delegate to the\n- * system malloc() implementation. For newly written code it is recommended\n- * to use the new `g_slice` API instead of g_malloc() and\n- * friends, as long as objects are not resized during their lifetime and the\n- * object size used at allocation time is still available when freeing.\n+ * GSlice was a space-efficient and multi-processing scalable way to allocate\n+ * equal sized pieces of memory. Since GLib 2.76, its implementation has been\n+ * removed and it calls g_malloc() and g_free_sized(), because the performance\n+ * of the system-default allocators has improved on all platforms since GSlice\n+ * was written.\n+ *\n+ * The GSlice APIs have not been deprecated, as they are widely in use and doing\n+ * so would be very disruptive for little benefit.\n+ *\n+ * New code should be written using g_new()\/g_malloc() and g_free_sized() or\n+ * g_free(). There is no particular benefit in porting existing code away from\n+ * g_slice_new()\/g_slice_free() unless it’s being rewritten anyway.\n@@ -133,161 +93,0 @@\n-\/* the GSlice allocator is split up into 4 layers, roughly modelled after the slab\n- * allocator and magazine extensions as outlined in:\n- * + [Bonwick94] Jeff Bonwick, The slab allocator: An object-caching kernel\n- *   memory allocator. USENIX 1994, http:\/\/citeseer.ist.psu.edu\/bonwick94slab.html\n- * + [Bonwick01] Bonwick and Jonathan Adams, Magazines and vmem: Extending the\n- *   slab allocator to many cpu's and arbitrary resources.\n- *   USENIX 2001, http:\/\/citeseer.ist.psu.edu\/bonwick01magazines.html\n- * the layers are:\n- * - the thread magazines. for each (aligned) chunk size, a magazine (a list)\n- *   of recently freed and soon to be allocated chunks is maintained per thread.\n- *   this way, most alloc\/free requests can be quickly satisfied from per-thread\n- *   free lists which only require one g_private_get() call to retrieve the\n- *   thread handle.\n- * - the magazine cache. allocating and freeing chunks to\/from threads only\n- *   occurs at magazine sizes from a global depot of magazines. the depot\n- *   maintaines a 15 second working set of allocated magazines, so full\n- *   magazines are not allocated and released too often.\n- *   the chunk size dependent magazine sizes automatically adapt (within limits,\n- *   see [3]) to lock contention to properly scale performance across a variety\n- *   of SMP systems.\n- * - the slab allocator. this allocator allocates slabs (blocks of memory) close\n- *   to the system page size or multiples thereof which have to be page aligned.\n- *   the blocks are divided into smaller chunks which are used to satisfy\n- *   allocations from the upper layers. the space provided by the reminder of\n- *   the chunk size division is used for cache colorization (random distribution\n- *   of chunk addresses) to improve processor cache utilization. multiple slabs\n- *   with the same chunk size are kept in a partially sorted ring to allow O(1)\n- *   freeing and allocation of chunks (as long as the allocation of an entirely\n- *   new slab can be avoided).\n- * - the page allocator. on most modern systems, posix_memalign(3) or\n- *   memalign(3) should be available, so this is used to allocate blocks with\n- *   system page size based alignments and sizes or multiples thereof.\n- *   if no memalign variant is provided, valloc() is used instead and\n- *   block sizes are limited to the system page size (no multiples thereof).\n- *   as a fallback, on system without even valloc(), a malloc(3)-based page\n- *   allocator with alloc-only behaviour is used.\n- *\n- * NOTES:\n- * [1] some systems memalign(3) implementations may rely on boundary tagging for\n- *     the handed out memory chunks. to avoid excessive page-wise fragmentation,\n- *     we reserve 2 * sizeof (void*) per block size for the systems memalign(3),\n- *     specified in NATIVE_MALLOC_PADDING.\n- * [2] using the slab allocator alone already provides for a fast and efficient\n- *     allocator, it doesn't properly scale beyond single-threaded uses though.\n- *     also, the slab allocator implements eager free(3)-ing, i.e. does not\n- *     provide any form of caching or working set maintenance. so if used alone,\n- *     it's vulnerable to trashing for sequences of balanced (alloc, free) pairs\n- *     at certain thresholds.\n- * [3] magazine sizes are bound by an implementation specific minimum size and\n- *     a chunk size specific maximum to limit magazine storage sizes to roughly\n- *     16KB.\n- * [4] allocating ca. 8 chunks per block\/page keeps a good balance between\n- *     external and internal fragmentation (<= 12.5%). [Bonwick94]\n- *\/\n-\n-\/* --- macros and constants --- *\/\n-#define LARGEALIGNMENT          (256)\n-#define P2ALIGNMENT             (2 * sizeof (gsize))                            \/* fits 2 pointers (assumed to be 2 * GLIB_SIZEOF_SIZE_T below) *\/\n-#define ALIGN(size, base)       ((base) * (gsize) (((size) + (base) - 1) \/ (base)))\n-#define NATIVE_MALLOC_PADDING   P2ALIGNMENT                                     \/* per-page padding left for native malloc(3) see [1] *\/\n-#define SLAB_INFO_SIZE          P2ALIGN (sizeof (SlabInfo) + NATIVE_MALLOC_PADDING)\n-#define MAX_MAGAZINE_SIZE       (256)                                           \/* see [3] and allocator_get_magazine_threshold() for this *\/\n-#define MIN_MAGAZINE_SIZE       (4)\n-#define MAX_STAMP_COUNTER       (7)                                             \/* distributes the load of gettimeofday() *\/\n-#define MAX_SLAB_CHUNK_SIZE(al) (((al)->max_page_size - SLAB_INFO_SIZE) \/ 8)    \/* we want at last 8 chunks per page, see [4] *\/\n-#define MAX_SLAB_INDEX(al)      (SLAB_INDEX (al, MAX_SLAB_CHUNK_SIZE (al)) + 1)\n-#define SLAB_INDEX(al, asize)   ((asize) \/ P2ALIGNMENT - 1)                     \/* asize must be P2ALIGNMENT aligned *\/\n-#define SLAB_CHUNK_SIZE(al, ix) (((ix) + 1) * P2ALIGNMENT)\n-#define SLAB_BPAGE_SIZE(al,csz) (8 * (csz) + SLAB_INFO_SIZE)\n-\n-\/* optimized version of ALIGN (size, P2ALIGNMENT) *\/\n-#if     GLIB_SIZEOF_SIZE_T * 2 == 8  \/* P2ALIGNMENT *\/\n-#define P2ALIGN(size)   (((size) + 0x7) & ~(gsize) 0x7)\n-#elif   GLIB_SIZEOF_SIZE_T * 2 == 16 \/* P2ALIGNMENT *\/\n-#define P2ALIGN(size)   (((size) + 0xf) & ~(gsize) 0xf)\n-#else\n-#define P2ALIGN(size)   ALIGN (size, P2ALIGNMENT)\n-#endif\n-\n-\/* special helpers to avoid gmessage.c dependency *\/\n-static void mem_error (const char *format, ...) G_GNUC_PRINTF (1,2);\n-#define mem_assert(cond)    do { if (G_LIKELY (cond)) ; else mem_error (\"assertion failed: %s\", #cond); } while (0)\n-\n-\/* --- structures --- *\/\n-typedef struct _ChunkLink      ChunkLink;\n-typedef struct _SlabInfo       SlabInfo;\n-typedef struct _CachedMagazine CachedMagazine;\n-struct _ChunkLink {\n-  ChunkLink *next;\n-  ChunkLink *data;\n-};\n-struct _SlabInfo {\n-  ChunkLink *chunks;\n-  guint n_allocated;\n-  SlabInfo *next, *prev;\n-};\n-typedef struct {\n-  ChunkLink *chunks;\n-  gsize      count;                     \/* approximative chunks list length *\/\n-} Magazine;\n-typedef struct {\n-  Magazine   *magazine1;                \/* array of MAX_SLAB_INDEX (allocator) *\/\n-  Magazine   *magazine2;                \/* array of MAX_SLAB_INDEX (allocator) *\/\n-} ThreadMemory;\n-typedef struct {\n-  gboolean always_malloc;\n-  gboolean bypass_magazines;\n-  gboolean debug_blocks;\n-  gsize    working_set_msecs;\n-  guint    color_increment;\n-} SliceConfig;\n-typedef struct {\n-  \/* const after initialization *\/\n-  gsize         min_page_size, max_page_size;\n-  SliceConfig   config;\n-  gsize         max_slab_chunk_size_for_magazine_cache;\n-  \/* magazine cache *\/\n-  GMutex        magazine_mutex;\n-  ChunkLink   **magazines;                \/* array of MAX_SLAB_INDEX (allocator) *\/\n-  guint        *contention_counters;      \/* array of MAX_SLAB_INDEX (allocator) *\/\n-  gint          mutex_counter;\n-  guint         stamp_counter;\n-  guint         last_stamp;\n-  \/* slab allocator *\/\n-  GMutex        slab_mutex;\n-  SlabInfo    **slab_stack;                \/* array of MAX_SLAB_INDEX (allocator) *\/\n-  guint        color_accu;\n-} Allocator;\n-\n-\/* --- g-slice prototypes --- *\/\n-static gpointer     slab_allocator_alloc_chunk       (gsize      chunk_size);\n-static void         slab_allocator_free_chunk        (gsize      chunk_size,\n-                                                      gpointer   mem);\n-static void         private_thread_memory_cleanup    (gpointer   data);\n-static gpointer     allocator_memalign               (gsize      alignment,\n-                                                      gsize      memsize);\n-static void         allocator_memfree                (gsize      memsize,\n-                                                      gpointer   mem);\n-static inline void  magazine_cache_update_stamp      (void);\n-static inline gsize allocator_get_magazine_threshold (Allocator *allocator,\n-                                                      guint      ix);\n-\n-\/* --- g-slice memory checker --- *\/\n-static void     smc_notify_alloc  (void   *pointer,\n-                                   size_t  size);\n-static int      smc_notify_free   (void   *pointer,\n-                                   size_t  size);\n-\n-\/* --- variables --- *\/\n-static GPrivate    private_thread_memory = G_PRIVATE_INIT (private_thread_memory_cleanup);\n-static gsize       sys_page_size = 0;\n-static Allocator   allocator[1] = { { 0, }, };\n-static SliceConfig slice_config = {\n-  FALSE,        \/* always_malloc *\/\n-  FALSE,        \/* bypass_magazines *\/\n-  FALSE,        \/* debug_blocks *\/\n-  15 * 1000,    \/* working_set_msecs *\/\n-  1,            \/* color increment, alt: 0x7fffffff *\/\n-};\n-static GMutex      smc_tree_mutex; \/* mutex for G_SLICE=debug-blocks *\/\n-\n@@ -299,17 +98,1 @@\n-  g_return_if_fail (sys_page_size == 0);\n-  switch (ckey)\n-    {\n-    case G_SLICE_CONFIG_ALWAYS_MALLOC:\n-      slice_config.always_malloc = value != 0;\n-      break;\n-    case G_SLICE_CONFIG_BYPASS_MAGAZINES:\n-      slice_config.bypass_magazines = value != 0;\n-      break;\n-    case G_SLICE_CONFIG_WORKING_SET_MSECS:\n-      slice_config.working_set_msecs = value;\n-      break;\n-    case G_SLICE_CONFIG_COLOR_INCREMENT:\n-      slice_config.color_increment = value;\n-      break;\n-    default: ;\n-    }\n+  \/* deprecated, no implementation *\/\n@@ -321,15 +104,2 @@\n-  switch (ckey)\n-    {\n-    case G_SLICE_CONFIG_ALWAYS_MALLOC:\n-      return slice_config.always_malloc;\n-    case G_SLICE_CONFIG_BYPASS_MAGAZINES:\n-      return slice_config.bypass_magazines;\n-    case G_SLICE_CONFIG_WORKING_SET_MSECS:\n-      return slice_config.working_set_msecs;\n-    case G_SLICE_CONFIG_CHUNK_SIZES:\n-      return MAX_SLAB_INDEX (allocator);\n-    case G_SLICE_CONFIG_COLOR_INCREMENT:\n-      return slice_config.color_increment;\n-    default:\n-      return 0;\n-    }\n+  \/* deprecated, no implementation *\/\n+  return 0;\n@@ -343,569 +113,2 @@\n-  guint i = 0;\n-  g_return_val_if_fail (n_values != NULL, NULL);\n-  *n_values = 0;\n-  switch (ckey)\n-    {\n-      gint64 array[64];\n-    case G_SLICE_CONFIG_CONTENTION_COUNTER:\n-      array[i++] = SLAB_CHUNK_SIZE (allocator, address);\n-      array[i++] = allocator->contention_counters[address];\n-      array[i++] = allocator_get_magazine_threshold (allocator, address);\n-      *n_values = i;\n-      return g_memdup2 (array, sizeof (array[0]) * *n_values);\n-    default:\n-      return NULL;\n-    }\n-}\n-\n-static void\n-slice_config_init (SliceConfig *config)\n-{\n-#ifndef GSTREAMER_LITE\n-  const gchar *val;\n-  gchar *val_allocated = NULL;\n-\n-  *config = slice_config;\n-\n-  \/* Note that the empty string (`G_SLICE=\"\"`) is treated differently from the\n-   * envvar being unset. In the latter case, we also check whether running under\n-   * valgrind. *\/\n-#ifndef G_OS_WIN32\n-  val = g_getenv (\"G_SLICE\");\n-#else\n-  \/* The win32 implementation of g_getenv() has to do UTF-8 ↔ UTF-16 conversions\n-   * which use the slice allocator, leading to deadlock. Use a simple in-place\n-   * implementation here instead.\n-   *\n-   * Ignore references to other environment variables: only support values which\n-   * are a combination of always-malloc and debug-blocks. *\/\n-  {\n-\n-  wchar_t wvalue[128];  \/* at least big enough for `always-malloc,debug-blocks` *\/\n-  gsize len;\n-\n-  len = GetEnvironmentVariableW (L\"G_SLICE\", wvalue, G_N_ELEMENTS (wvalue));\n-\n-  if (len == 0)\n-    {\n-      if (GetLastError () == ERROR_ENVVAR_NOT_FOUND)\n-        val = NULL;\n-      else\n-        val = \"\";\n-    }\n-  else if (len >= G_N_ELEMENTS (wvalue))\n-    {\n-      \/* @wvalue isn’t big enough. Give up. *\/\n-      g_warning (\"Unsupported G_SLICE value\");\n-      val = NULL;\n-    }\n-  else\n-    {\n-      \/* it’s safe to use g_utf16_to_utf8() here as it only allocates using\n-       * malloc() rather than GSlice *\/\n-      val = val_allocated = g_utf16_to_utf8 (wvalue, -1, NULL, NULL, NULL);\n-    }\n-\n-  }\n-#endif  \/* G_OS_WIN32 *\/\n-\n-  if (val != NULL)\n-    {\n-      gint flags;\n-      const GDebugKey keys[] = {\n-        { \"always-malloc\", 1 << 0 },\n-        { \"debug-blocks\",  1 << 1 },\n-      };\n-\n-      flags = g_parse_debug_string (val, keys, G_N_ELEMENTS (keys));\n-      if (flags & (1 << 0))\n-        config->always_malloc = TRUE;\n-      if (flags & (1 << 1))\n-        config->debug_blocks = TRUE;\n-    }\n-  else\n-    {\n-      \/* G_SLICE was not specified, so check if valgrind is running and\n-       * disable ourselves if it is.\n-       *\n-       * This way it's possible to force gslice to be enabled under\n-       * valgrind just by setting G_SLICE to the empty string.\n-       *\/\n-#ifdef ENABLE_VALGRIND\n-      if (RUNNING_ON_VALGRIND)\n-        config->always_malloc = TRUE;\n-#endif\n-    }\n-\n-  g_free (val_allocated);\n-#else \/\/ GSTREAMER_LITE\n-  *config = slice_config;\n-  config->always_malloc = TRUE;\n-#endif \/\/ GSTREAMER_LITE\n-}\n-\n-static void\n-g_slice_init_nomessage (void)\n-{\n-  \/* we may not use g_error() or friends here *\/\n-  mem_assert (sys_page_size == 0);\n-  mem_assert (MIN_MAGAZINE_SIZE >= 4);\n-\n-#ifdef G_OS_WIN32\n-  {\n-    SYSTEM_INFO system_info;\n-    GetSystemInfo (&system_info);\n-    sys_page_size = system_info.dwPageSize;\n-  }\n-#else\n-  sys_page_size = sysconf (_SC_PAGESIZE); \/* = sysconf (_SC_PAGE_SIZE); = getpagesize(); *\/\n-#endif\n-  mem_assert (sys_page_size >= 2 * LARGEALIGNMENT);\n-  mem_assert ((sys_page_size & (sys_page_size - 1)) == 0);\n-  slice_config_init (&allocator->config);\n-  allocator->min_page_size = sys_page_size;\n-#if HAVE_POSIX_MEMALIGN || HAVE_MEMALIGN\n-  \/* allow allocation of pages up to 8KB (with 8KB alignment).\n-   * this is useful because many medium to large sized structures\n-   * fit less than 8 times (see [4]) into 4KB pages.\n-   * we allow very small page sizes here, to reduce wastage in\n-   * threads if only small allocations are required (this does\n-   * bear the risk of increasing allocation times and fragmentation\n-   * though).\n-   *\/\n-  allocator->min_page_size = MAX (allocator->min_page_size, 4096);\n-  allocator->max_page_size = MAX (allocator->min_page_size, 8192);\n-  allocator->min_page_size = MIN (allocator->min_page_size, 128);\n-#else\n-  \/* we can only align to system page size *\/\n-  allocator->max_page_size = sys_page_size;\n-#endif\n-  if (allocator->config.always_malloc)\n-    {\n-      allocator->contention_counters = NULL;\n-      allocator->magazines = NULL;\n-      allocator->slab_stack = NULL;\n-    }\n-  else\n-    {\n-      allocator->contention_counters = g_new0 (guint, MAX_SLAB_INDEX (allocator));\n-      allocator->magazines = g_new0 (ChunkLink*, MAX_SLAB_INDEX (allocator));\n-      allocator->slab_stack = g_new0 (SlabInfo*, MAX_SLAB_INDEX (allocator));\n-    }\n-\n-  allocator->mutex_counter = 0;\n-  allocator->stamp_counter = MAX_STAMP_COUNTER; \/* force initial update *\/\n-  allocator->last_stamp = 0;\n-  allocator->color_accu = 0;\n-  magazine_cache_update_stamp();\n-  \/* values cached for performance reasons *\/\n-  allocator->max_slab_chunk_size_for_magazine_cache = MAX_SLAB_CHUNK_SIZE (allocator);\n-  if (allocator->config.always_malloc || allocator->config.bypass_magazines)\n-    allocator->max_slab_chunk_size_for_magazine_cache = 0;      \/* non-optimized cases *\/\n-}\n-\n-static inline guint\n-allocator_categorize (gsize aligned_chunk_size)\n-{\n-  \/* speed up the likely path *\/\n-  if (G_LIKELY (aligned_chunk_size && aligned_chunk_size <= allocator->max_slab_chunk_size_for_magazine_cache))\n-    return 1;           \/* use magazine cache *\/\n-\n-  if (!allocator->config.always_malloc &&\n-      aligned_chunk_size &&\n-      aligned_chunk_size <= MAX_SLAB_CHUNK_SIZE (allocator))\n-    {\n-      if (allocator->config.bypass_magazines)\n-        return 2;       \/* use slab allocator, see [2] *\/\n-      return 1;         \/* use magazine cache *\/\n-    }\n-  return 0;             \/* use malloc() *\/\n-}\n-\n-static inline void\n-g_mutex_lock_a (GMutex *mutex,\n-                guint  *contention_counter)\n-{\n-  gboolean contention = FALSE;\n-  if (!g_mutex_trylock (mutex))\n-    {\n-      g_mutex_lock (mutex);\n-      contention = TRUE;\n-    }\n-  if (contention)\n-    {\n-      allocator->mutex_counter++;\n-      if (allocator->mutex_counter >= 1)        \/* quickly adapt to contention *\/\n-        {\n-          allocator->mutex_counter = 0;\n-          *contention_counter = MIN (*contention_counter + 1, MAX_MAGAZINE_SIZE);\n-        }\n-    }\n-  else \/* !contention *\/\n-    {\n-      allocator->mutex_counter--;\n-      if (allocator->mutex_counter < -11)       \/* moderately recover magazine sizes *\/\n-        {\n-          allocator->mutex_counter = 0;\n-          *contention_counter = MAX (*contention_counter, 1) - 1;\n-        }\n-    }\n-}\n-\n-static inline ThreadMemory*\n-thread_memory_from_self (void)\n-{\n-  ThreadMemory *tmem = g_private_get (&private_thread_memory);\n-  if (G_UNLIKELY (!tmem))\n-    {\n-      static GMutex init_mutex;\n-      guint n_magazines;\n-\n-      g_mutex_lock (&init_mutex);\n-      if G_UNLIKELY (sys_page_size == 0)\n-        g_slice_init_nomessage ();\n-      g_mutex_unlock (&init_mutex);\n-\n-      n_magazines = MAX_SLAB_INDEX (allocator);\n-      tmem = g_private_set_alloc0 (&private_thread_memory, sizeof (ThreadMemory) + sizeof (Magazine) * 2 * n_magazines);\n-#ifdef GSTREAMER_LITE\n-      if (tmem == NULL)\n-        return NULL;\n-#endif \/\/ GSTREAMER_LITE\n-      tmem->magazine1 = (Magazine*) (tmem + 1);\n-      tmem->magazine2 = &tmem->magazine1[n_magazines];\n-    }\n-  return tmem;\n-}\n-\n-static inline ChunkLink*\n-magazine_chain_pop_head (ChunkLink **magazine_chunks)\n-{\n-  \/* magazine chains are linked via ChunkLink->next.\n-   * each ChunkLink->data of the toplevel chain may point to a subchain,\n-   * linked via ChunkLink->next. ChunkLink->data of the subchains just\n-   * contains uninitialized junk.\n-   *\/\n-  ChunkLink *chunk = (*magazine_chunks)->data;\n-  if (G_UNLIKELY (chunk))\n-    {\n-      \/* allocating from freed list *\/\n-      (*magazine_chunks)->data = chunk->next;\n-    }\n-  else\n-    {\n-      chunk = *magazine_chunks;\n-      *magazine_chunks = chunk->next;\n-    }\n-  return chunk;\n-}\n-\n-#if 0 \/* useful for debugging *\/\n-static guint\n-magazine_count (ChunkLink *head)\n-{\n-  guint count = 0;\n-  if (!head)\n-    return 0;\n-  while (head)\n-    {\n-      ChunkLink *child = head->data;\n-      count += 1;\n-      for (child = head->data; child; child = child->next)\n-        count += 1;\n-      head = head->next;\n-    }\n-  return count;\n-}\n-#endif\n-\n-static inline gsize\n-allocator_get_magazine_threshold (Allocator *local_allocator,\n-                                  guint ix)\n-{\n-  \/* the magazine size calculated here has a lower bound of MIN_MAGAZINE_SIZE,\n-   * which is required by the implementation. also, for moderately sized chunks\n-   * (say >= 64 bytes), magazine sizes shouldn't be much smaller then the number\n-   * of chunks available per page\/2 to avoid excessive traffic in the magazine\n-   * cache for small to medium sized structures.\n-   * the upper bound of the magazine size is effectively provided by\n-   * MAX_MAGAZINE_SIZE. for larger chunks, this number is scaled down so that\n-   * the content of a single magazine doesn't exceed ca. 16KB.\n-   *\/\n-  gsize chunk_size = SLAB_CHUNK_SIZE (local_allocator, ix);\n-  guint threshold = MAX (MIN_MAGAZINE_SIZE, local_allocator->max_page_size \/ MAX (5 * chunk_size, 5 * 32));\n-  guint contention_counter = local_allocator->contention_counters[ix];\n-  if (G_UNLIKELY (contention_counter))  \/* single CPU bias *\/\n-    {\n-      \/* adapt contention counter thresholds to chunk sizes *\/\n-      contention_counter = contention_counter * 64 \/ chunk_size;\n-      threshold = MAX (threshold, contention_counter);\n-    }\n-  return threshold;\n-}\n-\n-\/* --- magazine cache --- *\/\n-static inline void\n-magazine_cache_update_stamp (void)\n-{\n-  if (allocator->stamp_counter >= MAX_STAMP_COUNTER)\n-    {\n-      gint64 now_us = g_get_real_time ();\n-      allocator->last_stamp = now_us \/ 1000; \/* milli seconds *\/\n-      allocator->stamp_counter = 0;\n-    }\n-  else\n-    allocator->stamp_counter++;\n-}\n-\n-static inline ChunkLink*\n-magazine_chain_prepare_fields (ChunkLink *magazine_chunks)\n-{\n-  ChunkLink *chunk1;\n-  ChunkLink *chunk2;\n-  ChunkLink *chunk3;\n-  ChunkLink *chunk4;\n-  \/* checked upon initialization: mem_assert (MIN_MAGAZINE_SIZE >= 4); *\/\n-  \/* ensure a magazine with at least 4 unused data pointers *\/\n-  chunk1 = magazine_chain_pop_head (&magazine_chunks);\n-  chunk2 = magazine_chain_pop_head (&magazine_chunks);\n-  chunk3 = magazine_chain_pop_head (&magazine_chunks);\n-  chunk4 = magazine_chain_pop_head (&magazine_chunks);\n-  chunk4->next = magazine_chunks;\n-  chunk3->next = chunk4;\n-  chunk2->next = chunk3;\n-  chunk1->next = chunk2;\n-  return chunk1;\n-}\n-\n-\/* access the first 3 fields of a specially prepared magazine chain *\/\n-#define magazine_chain_prev(mc)         ((mc)->data)\n-#define magazine_chain_stamp(mc)        ((mc)->next->data)\n-#define magazine_chain_uint_stamp(mc)   GPOINTER_TO_UINT ((mc)->next->data)\n-#define magazine_chain_next(mc)         ((mc)->next->next->data)\n-#define magazine_chain_count(mc)        ((mc)->next->next->next->data)\n-\n-static void\n-magazine_cache_trim (Allocator *local_allocator,\n-                     guint ix,\n-                     guint stamp)\n-{\n-  \/* g_mutex_lock (local_allocator->mutex); done by caller *\/\n-  \/* trim magazine cache from tail *\/\n-  ChunkLink *current = magazine_chain_prev (local_allocator->magazines[ix]);\n-  ChunkLink *trash = NULL;\n-  while (!G_APPROX_VALUE (stamp, magazine_chain_uint_stamp (current),\n-                          local_allocator->config.working_set_msecs))\n-    {\n-      \/* unlink *\/\n-      ChunkLink *prev = magazine_chain_prev (current);\n-      ChunkLink *next = magazine_chain_next (current);\n-      magazine_chain_next (prev) = next;\n-      magazine_chain_prev (next) = prev;\n-      \/* clear special fields, put on trash stack *\/\n-      magazine_chain_next (current) = NULL;\n-      magazine_chain_count (current) = NULL;\n-      magazine_chain_stamp (current) = NULL;\n-      magazine_chain_prev (current) = trash;\n-      trash = current;\n-      \/* fixup list head if required *\/\n-      if (current == local_allocator->magazines[ix])\n-        {\n-          local_allocator->magazines[ix] = NULL;\n-          break;\n-        }\n-      current = prev;\n-    }\n-  g_mutex_unlock (&local_allocator->magazine_mutex);\n-  \/* free trash *\/\n-  if (trash)\n-    {\n-      const gsize chunk_size = SLAB_CHUNK_SIZE (local_allocator, ix);\n-      g_mutex_lock (&local_allocator->slab_mutex);\n-      while (trash)\n-        {\n-          current = trash;\n-          trash = magazine_chain_prev (current);\n-          magazine_chain_prev (current) = NULL; \/* clear special field *\/\n-          while (current)\n-            {\n-              ChunkLink *chunk = magazine_chain_pop_head (&current);\n-              slab_allocator_free_chunk (chunk_size, chunk);\n-            }\n-        }\n-      g_mutex_unlock (&local_allocator->slab_mutex);\n-    }\n-}\n-\n-static void\n-magazine_cache_push_magazine (guint      ix,\n-                              ChunkLink *magazine_chunks,\n-                              gsize      count) \/* must be >= MIN_MAGAZINE_SIZE *\/\n-{\n-  ChunkLink *current = magazine_chain_prepare_fields (magazine_chunks);\n-  ChunkLink *next, *prev;\n-  g_mutex_lock (&allocator->magazine_mutex);\n-  \/* add magazine at head *\/\n-  next = allocator->magazines[ix];\n-  if (next)\n-    prev = magazine_chain_prev (next);\n-  else\n-    next = prev = current;\n-  magazine_chain_next (prev) = current;\n-  magazine_chain_prev (next) = current;\n-  magazine_chain_prev (current) = prev;\n-  magazine_chain_next (current) = next;\n-  magazine_chain_count (current) = (gpointer) count;\n-  \/* stamp magazine *\/\n-  magazine_cache_update_stamp();\n-  magazine_chain_stamp (current) = GUINT_TO_POINTER (allocator->last_stamp);\n-  allocator->magazines[ix] = current;\n-  \/* free old magazines beyond a certain threshold *\/\n-  magazine_cache_trim (allocator, ix, allocator->last_stamp);\n-  \/* g_mutex_unlock (allocator->mutex); was done by magazine_cache_trim() *\/\n-}\n-\n-static ChunkLink*\n-magazine_cache_pop_magazine (guint  ix,\n-                             gsize *countp)\n-{\n-  g_mutex_lock_a (&allocator->magazine_mutex, &allocator->contention_counters[ix]);\n-  if (!allocator->magazines[ix])\n-    {\n-      guint magazine_threshold = allocator_get_magazine_threshold (allocator, ix);\n-      gsize i, chunk_size = SLAB_CHUNK_SIZE (allocator, ix);\n-      ChunkLink *chunk, *head;\n-      g_mutex_unlock (&allocator->magazine_mutex);\n-      g_mutex_lock (&allocator->slab_mutex);\n-      head = slab_allocator_alloc_chunk (chunk_size);\n-      head->data = NULL;\n-      chunk = head;\n-      for (i = 1; i < magazine_threshold; i++)\n-        {\n-          chunk->next = slab_allocator_alloc_chunk (chunk_size);\n-          chunk = chunk->next;\n-          chunk->data = NULL;\n-        }\n-      chunk->next = NULL;\n-      g_mutex_unlock (&allocator->slab_mutex);\n-      *countp = i;\n-      return head;\n-    }\n-  else\n-    {\n-      ChunkLink *current = allocator->magazines[ix];\n-      ChunkLink *prev = magazine_chain_prev (current);\n-      ChunkLink *next = magazine_chain_next (current);\n-      \/* unlink *\/\n-      magazine_chain_next (prev) = next;\n-      magazine_chain_prev (next) = prev;\n-      allocator->magazines[ix] = next == current ? NULL : next;\n-      g_mutex_unlock (&allocator->magazine_mutex);\n-      \/* clear special fields and hand out *\/\n-      *countp = (gsize) magazine_chain_count (current);\n-      magazine_chain_prev (current) = NULL;\n-      magazine_chain_next (current) = NULL;\n-      magazine_chain_count (current) = NULL;\n-      magazine_chain_stamp (current) = NULL;\n-      return current;\n-    }\n-}\n-\n-\/* --- thread magazines --- *\/\n-static void\n-private_thread_memory_cleanup (gpointer data)\n-{\n-  ThreadMemory *tmem = data;\n-  const guint n_magazines = MAX_SLAB_INDEX (allocator);\n-  guint ix;\n-  for (ix = 0; ix < n_magazines; ix++)\n-    {\n-      Magazine *mags[2];\n-      guint j;\n-      mags[0] = &tmem->magazine1[ix];\n-      mags[1] = &tmem->magazine2[ix];\n-      for (j = 0; j < 2; j++)\n-        {\n-          Magazine *mag = mags[j];\n-          if (mag->count >= MIN_MAGAZINE_SIZE)\n-            magazine_cache_push_magazine (ix, mag->chunks, mag->count);\n-          else\n-            {\n-              const gsize chunk_size = SLAB_CHUNK_SIZE (allocator, ix);\n-              g_mutex_lock (&allocator->slab_mutex);\n-              while (mag->chunks)\n-                {\n-                  ChunkLink *chunk = magazine_chain_pop_head (&mag->chunks);\n-                  slab_allocator_free_chunk (chunk_size, chunk);\n-                }\n-              g_mutex_unlock (&allocator->slab_mutex);\n-            }\n-        }\n-    }\n-  g_free (tmem);\n-}\n-\n-static void\n-thread_memory_magazine1_reload (ThreadMemory *tmem,\n-                                guint         ix)\n-{\n-  Magazine *mag = &tmem->magazine1[ix];\n-  mem_assert (mag->chunks == NULL); \/* ensure that we may reset mag->count *\/\n-  mag->count = 0;\n-  mag->chunks = magazine_cache_pop_magazine (ix, &mag->count);\n-}\n-\n-static void\n-thread_memory_magazine2_unload (ThreadMemory *tmem,\n-                                guint         ix)\n-{\n-  Magazine *mag = &tmem->magazine2[ix];\n-  magazine_cache_push_magazine (ix, mag->chunks, mag->count);\n-  mag->chunks = NULL;\n-  mag->count = 0;\n-}\n-\n-static inline void\n-thread_memory_swap_magazines (ThreadMemory *tmem,\n-                              guint         ix)\n-{\n-  Magazine xmag = tmem->magazine1[ix];\n-  tmem->magazine1[ix] = tmem->magazine2[ix];\n-  tmem->magazine2[ix] = xmag;\n-}\n-\n-static inline gboolean\n-thread_memory_magazine1_is_empty (ThreadMemory *tmem,\n-                                  guint         ix)\n-{\n-  return tmem->magazine1[ix].chunks == NULL;\n-}\n-\n-static inline gboolean\n-thread_memory_magazine2_is_full (ThreadMemory *tmem,\n-                                 guint         ix)\n-{\n-  return tmem->magazine2[ix].count >= allocator_get_magazine_threshold (allocator, ix);\n-}\n-\n-static inline gpointer\n-thread_memory_magazine1_alloc (ThreadMemory *tmem,\n-                               guint         ix)\n-{\n-  Magazine *mag = &tmem->magazine1[ix];\n-  ChunkLink *chunk = magazine_chain_pop_head (&mag->chunks);\n-  if (G_LIKELY (mag->count > 0))\n-    mag->count--;\n-  return chunk;\n-}\n-\n-static inline void\n-thread_memory_magazine2_free (ThreadMemory *tmem,\n-                              guint         ix,\n-                              gpointer      mem)\n-{\n-  Magazine *mag = &tmem->magazine2[ix];\n-  ChunkLink *chunk = mem;\n-  chunk->data = NULL;\n-  chunk->next = mag->chunks;\n-  mag->chunks = chunk;\n-  mag->count++;\n+  \/* deprecated, no implementation *\/\n+  return NULL;\n@@ -925,3 +128,1 @@\n- * cast in the source code. Note that the underlying slice allocation\n- * mechanism can be changed with the [`G_SLICE=always-malloc`][G_SLICE]\n- * environment variable.\n+ * cast in the source code.\n@@ -932,0 +133,3 @@\n+ * Since GLib 2.76 this always uses the system malloc() implementation\n+ * internally.\n+ *\n@@ -948,3 +152,0 @@\n- * Note that the underlying slice allocation mechanism can\n- * be changed with the [`G_SLICE=always-malloc`][G_SLICE]\n- * environment variable.\n@@ -955,0 +156,3 @@\n+ * Since GLib 2.76 this always uses the system malloc() implementation\n+ * internally.\n+ *\n@@ -972,3 +176,0 @@\n- * Note that the underlying slice allocation mechanism can\n- * be changed with the [`G_SLICE=always-malloc`][G_SLICE]\n- * environment variable.\n@@ -978,0 +179,3 @@\n+ * Since GLib 2.76 this always uses the system malloc() implementation\n+ * internally.\n+ *\n@@ -987,1 +191,1 @@\n- * @mem: a pointer to the block to free\n+ * @mem: (nullable): a pointer to the block to free\n@@ -995,2 +199,1 @@\n- * [`G_DEBUG=gc-friendly`][G_DEBUG] environment variable, also see\n- * [`G_SLICE`][G_SLICE] for related debugging options.\n+ * [`G_DEBUG=gc-friendly`][G_DEBUG] environment variable.\n@@ -1000,0 +203,2 @@\n+ * Since GLib 2.76 this always uses the system free() implementation internally.\n+ *\n@@ -1006,1 +211,1 @@\n- * @mem_chain: a pointer to the first block of the chain\n+ * @mem_chain: (nullable): a pointer to the first block of the chain\n@@ -1016,2 +221,1 @@\n- * [`G_DEBUG=gc-friendly`][G_DEBUG] environment variable, also see\n- * [`G_SLICE`][G_SLICE] for related debugging options.\n+ * [`G_DEBUG=gc-friendly`][G_DEBUG] environment variable.\n@@ -1021,0 +225,2 @@\n+ * Since GLib 2.76 this always uses the system free() implementation internally.\n+ *\n@@ -1028,1 +234,1 @@\n- * Allocates a block of memory from the slice allocator.\n+ * Allocates a block of memory from the libc allocator.\n@@ -1031,4 +237,1 @@\n- * to at least `1 * sizeof (void*)`, though in general slices\n- * are `2 * sizeof (void*)` bytes aligned; if a `malloc()`\n- * fallback implementation is used instead, the alignment may\n- * be reduced in a libc dependent fashion.\n+ * to at least `1 * sizeof (void*)`.\n@@ -1036,3 +239,2 @@\n- * Note that the underlying slice allocation mechanism can\n- * be changed with the [`G_SLICE=always-malloc`][G_SLICE]\n- * environment variable.\n+ * Since GLib 2.76 this always uses the system malloc() implementation\n+ * internally.\n@@ -1040,1 +242,1 @@\n- * Returns: a pointer to the allocated memory block, which will\n+ * Returns: (nullable): a pointer to the allocated memory block, which will\n@@ -1048,2 +250,0 @@\n-  ThreadMemory *tmem;\n-  gsize chunk_size;\n@@ -1051,37 +251,0 @@\n-  guint acat;\n-\n-  \/* This gets the private structure for this thread.  If the private\n-   * structure does not yet exist, it is created.\n-   *\n-   * This has a side effect of causing GSlice to be initialised, so it\n-   * must come first.\n-   *\/\n-  tmem = thread_memory_from_self ();\n-#ifdef GSTREAMER_LITE\n-  if (tmem == NULL)\n-    return NULL;\n-#endif \/\/ GSTREAMER_LITE\n-\n-  chunk_size = P2ALIGN (mem_size);\n-  acat = allocator_categorize (chunk_size);\n-  if (G_LIKELY (acat == 1))     \/* allocate through magazine layer *\/\n-    {\n-      guint ix = SLAB_INDEX (allocator, chunk_size);\n-      if (G_UNLIKELY (thread_memory_magazine1_is_empty (tmem, ix)))\n-        {\n-          thread_memory_swap_magazines (tmem, ix);\n-          if (G_UNLIKELY (thread_memory_magazine1_is_empty (tmem, ix)))\n-            thread_memory_magazine1_reload (tmem, ix);\n-        }\n-      mem = thread_memory_magazine1_alloc (tmem, ix);\n-    }\n-  else if (acat == 2)           \/* allocate through slab allocator *\/\n-    {\n-      g_mutex_lock (&allocator->slab_mutex);\n-      mem = slab_allocator_alloc_chunk (chunk_size);\n-      g_mutex_unlock (&allocator->slab_mutex);\n-    }\n-  else                          \/* delegate to system malloc *\/\n-    mem = g_malloc (mem_size);\n-  if (G_UNLIKELY (allocator->config.debug_blocks))\n-    smc_notify_alloc (mem, mem_size);\n@@ -1089,0 +252,1 @@\n+  mem = g_malloc (mem_size);\n@@ -1099,3 +263,4 @@\n- * the returned memory to 0. Note that the underlying slice allocation\n- * mechanism can be changed with the [`G_SLICE=always-malloc`][G_SLICE]\n- * environment variable.\n+ * the returned memory to 0.\n+ *\n+ * Since GLib 2.76 this always uses the system malloc() implementation\n+ * internally.\n@@ -1103,2 +268,2 @@\n- * Returns: a pointer to the allocated block, which will be %NULL if and only\n- *    if @mem_size is 0\n+ * Returns: (nullable): a pointer to the allocated block, which will be %NULL\n+ *    if and only if @mem_size is 0\n@@ -1127,2 +292,5 @@\n- * Returns: a pointer to the allocated memory block, which will be %NULL if and\n- *    only if @mem_size is 0\n+ * Since GLib 2.76 this always uses the system malloc() implementation\n+ * internally.\n+ *\n+ * Returns: (nullable): a pointer to the allocated memory block,\n+ *    which will be %NULL if and only if @mem_size is 0\n@@ -1145,1 +313,1 @@\n- * @mem_block: a pointer to the block to free\n+ * @mem_block: (nullable): a pointer to the block to free\n@@ -1153,1 +321,1 @@\n- * variable, also see [`G_SLICE`][G_SLICE] for related debugging options.\n+ * variable.\n@@ -1157,0 +325,3 @@\n+ * Since GLib 2.76 this always uses the system free_sized() implementation\n+ * internally.\n+ *\n@@ -1163,39 +334,3 @@\n-  gsize chunk_size = P2ALIGN (mem_size);\n-  guint acat = allocator_categorize (chunk_size);\n-  if (G_UNLIKELY (!mem_block))\n-    return;\n-  if (G_UNLIKELY (allocator->config.debug_blocks) &&\n-      !smc_notify_free (mem_block, mem_size))\n-    abort();\n-  if (G_LIKELY (acat == 1))             \/* allocate through magazine layer *\/\n-    {\n-      ThreadMemory *tmem = thread_memory_from_self();\n-      guint ix = SLAB_INDEX (allocator, chunk_size);\n-#ifdef GSTREAMER_LITE\n-      if (tmem == NULL)\n-        return; \/\/ Nothing to free\n-#endif \/\/ GSTREAMER_LITE\n-      if (G_UNLIKELY (thread_memory_magazine2_is_full (tmem, ix)))\n-        {\n-          thread_memory_swap_magazines (tmem, ix);\n-          if (G_UNLIKELY (thread_memory_magazine2_is_full (tmem, ix)))\n-            thread_memory_magazine2_unload (tmem, ix);\n-        }\n-      if (G_UNLIKELY (g_mem_gc_friendly))\n-        memset (mem_block, 0, chunk_size);\n-      thread_memory_magazine2_free (tmem, ix, mem_block);\n-    }\n-  else if (acat == 2)                   \/* allocate through slab allocator *\/\n-    {\n-      if (G_UNLIKELY (g_mem_gc_friendly))\n-        memset (mem_block, 0, chunk_size);\n-      g_mutex_lock (&allocator->slab_mutex);\n-      slab_allocator_free_chunk (chunk_size, mem_block);\n-      g_mutex_unlock (&allocator->slab_mutex);\n-    }\n-  else                                  \/* delegate to system malloc *\/\n-    {\n-      if (G_UNLIKELY (g_mem_gc_friendly))\n-        memset (mem_block, 0, mem_size);\n-      g_free (mem_block);\n-    }\n+  if (G_UNLIKELY (g_mem_gc_friendly && mem_block))\n+    memset (mem_block, 0, mem_size);\n+  g_free_sized (mem_block, mem_size);\n@@ -1208,1 +343,1 @@\n- * @mem_chain:  a pointer to the first block of the chain\n+ * @mem_chain: (nullable):  a pointer to the first block of the chain\n@@ -1218,2 +353,1 @@\n- * [`G_DEBUG=gc-friendly`][G_DEBUG] environment variable, also see\n- * [`G_SLICE`][G_SLICE] for related debugging options.\n+ * [`G_DEBUG=gc-friendly`][G_DEBUG] environment variable.\n@@ -1223,0 +357,3 @@\n+ * Since GLib 2.76 this always uses the system free_sized() implementation\n+ * internally.\n+ *\n@@ -1231,376 +368,1 @@\n-  \/* while the thread magazines and the magazine cache are implemented so that\n-   * they can easily be extended to allow for free lists containing more free\n-   * lists for the first level nodes, which would allow O(1) freeing in this\n-   * function, the benefit of such an extension is questionable, because:\n-   * - the magazine size counts will become mere lower bounds which confuses\n-   *   the code adapting to lock contention;\n-   * - freeing a single node to the thread magazines is very fast, so this\n-   *   O(list_length) operation is multiplied by a fairly small factor;\n-   * - memory usage histograms on larger applications seem to indicate that\n-   *   the amount of released multi node lists is negligible in comparison\n-   *   to single node releases.\n-   * - the major performance bottle neck, namely g_private_get() or\n-   *   g_mutex_lock()\/g_mutex_unlock() has already been moved out of the\n-   *   inner loop for freeing chained slices.\n-   *\/\n-  gsize chunk_size = P2ALIGN (mem_size);\n-  guint acat = allocator_categorize (chunk_size);\n-  if (G_LIKELY (acat == 1))             \/* allocate through magazine layer *\/\n-    {\n-      ThreadMemory *tmem = thread_memory_from_self();\n-      guint ix = SLAB_INDEX (allocator, chunk_size);\n-#ifdef GSTREAMER_LITE\n-      if (tmem == NULL)\n-        return; \/\/ Nothing to free\n-#endif \/\/ GSTREAMER_LITE\n-      while (slice)\n-        {\n-          guint8 *current = slice;\n-          slice = *(gpointer*) (current + next_offset);\n-          if (G_UNLIKELY (allocator->config.debug_blocks) &&\n-              !smc_notify_free (current, mem_size))\n-            abort();\n-          if (G_UNLIKELY (thread_memory_magazine2_is_full (tmem, ix)))\n-            {\n-              thread_memory_swap_magazines (tmem, ix);\n-              if (G_UNLIKELY (thread_memory_magazine2_is_full (tmem, ix)))\n-                thread_memory_magazine2_unload (tmem, ix);\n-            }\n-          if (G_UNLIKELY (g_mem_gc_friendly))\n-            memset (current, 0, chunk_size);\n-          thread_memory_magazine2_free (tmem, ix, current);\n-        }\n-    }\n-  else if (acat == 2)                   \/* allocate through slab allocator *\/\n-    {\n-      g_mutex_lock (&allocator->slab_mutex);\n-      while (slice)\n-        {\n-          guint8 *current = slice;\n-          slice = *(gpointer*) (current + next_offset);\n-          if (G_UNLIKELY (allocator->config.debug_blocks) &&\n-              !smc_notify_free (current, mem_size))\n-            abort();\n-          if (G_UNLIKELY (g_mem_gc_friendly))\n-            memset (current, 0, chunk_size);\n-          slab_allocator_free_chunk (chunk_size, current);\n-        }\n-      g_mutex_unlock (&allocator->slab_mutex);\n-    }\n-  else                                  \/* delegate to system malloc *\/\n-    while (slice)\n-      {\n-        guint8 *current = slice;\n-        slice = *(gpointer*) (current + next_offset);\n-        if (G_UNLIKELY (allocator->config.debug_blocks) &&\n-            !smc_notify_free (current, mem_size))\n-          abort();\n-        if (G_UNLIKELY (g_mem_gc_friendly))\n-          memset (current, 0, mem_size);\n-        g_free (current);\n-      }\n-}\n-\n-\/* --- single page allocator --- *\/\n-static void\n-allocator_slab_stack_push (Allocator *local_allocator,\n-                           guint ix,\n-                           SlabInfo *sinfo)\n-{\n-  \/* insert slab at slab ring head *\/\n-  if (!local_allocator->slab_stack[ix])\n-    {\n-      sinfo->next = sinfo;\n-      sinfo->prev = sinfo;\n-    }\n-  else\n-    {\n-      SlabInfo *next = local_allocator->slab_stack[ix], *prev = next->prev;\n-      next->prev = sinfo;\n-      prev->next = sinfo;\n-      sinfo->next = next;\n-      sinfo->prev = prev;\n-    }\n-  local_allocator->slab_stack[ix] = sinfo;\n-}\n-\n-static gsize\n-allocator_aligned_page_size (Allocator *local_allocator,\n-                             gsize n_bytes)\n-{\n-  gsize val = (gsize) 1 << g_bit_storage (n_bytes - 1);\n-  val = MAX (val, local_allocator->min_page_size);\n-  return val;\n-}\n-\n-static void\n-allocator_add_slab (Allocator *local_allocator,\n-                    guint ix,\n-                    gsize chunk_size)\n-{\n-  ChunkLink *chunk;\n-  SlabInfo *sinfo;\n-  gsize addr, padding, n_chunks, color = 0;\n-  gsize page_size;\n-  int errsv;\n-  gpointer aligned_memory;\n-  guint8 *mem;\n-  guint i;\n-\n-  page_size = allocator_aligned_page_size (local_allocator, SLAB_BPAGE_SIZE (local_allocator, chunk_size));\n-  \/* allocate 1 page for the chunks and the slab *\/\n-  aligned_memory = allocator_memalign (page_size, page_size - NATIVE_MALLOC_PADDING);\n-  errsv = errno;\n-  mem = aligned_memory;\n-\n-  if (!mem)\n-    {\n-      const gchar *syserr = strerror (errsv);\n-      mem_error (\"failed to allocate %u bytes (alignment: %u): %s\\n\",\n-                 (guint) (page_size - NATIVE_MALLOC_PADDING), (guint) page_size, syserr);\n-    }\n-  \/* mask page address *\/\n-  addr = ((gsize) mem \/ page_size) * page_size;\n-  \/* assert alignment *\/\n-  mem_assert (aligned_memory == (gpointer) addr);\n-  \/* basic slab info setup *\/\n-  sinfo = (SlabInfo*) (mem + page_size - SLAB_INFO_SIZE);\n-  sinfo->n_allocated = 0;\n-  sinfo->chunks = NULL;\n-  \/* figure cache colorization *\/\n-  n_chunks = ((guint8*) sinfo - mem) \/ chunk_size;\n-  padding = ((guint8*) sinfo - mem) - n_chunks * chunk_size;\n-  if (padding)\n-    {\n-      color = (local_allocator->color_accu * P2ALIGNMENT) % padding;\n-      local_allocator->color_accu += local_allocator->config.color_increment;\n-    }\n-  \/* add chunks to free list *\/\n-  chunk = (ChunkLink*) (mem + color);\n-  sinfo->chunks = chunk;\n-  for (i = 0; i < n_chunks - 1; i++)\n-    {\n-      chunk->next = (ChunkLink*) ((guint8*) chunk + chunk_size);\n-      chunk = chunk->next;\n-    }\n-  chunk->next = NULL;   \/* last chunk *\/\n-  \/* add slab to slab ring *\/\n-  allocator_slab_stack_push (local_allocator, ix, sinfo);\n-}\n-\n-static gpointer\n-slab_allocator_alloc_chunk (gsize chunk_size)\n-{\n-  ChunkLink *chunk;\n-  guint ix = SLAB_INDEX (allocator, chunk_size);\n-  \/* ensure non-empty slab *\/\n-  if (!allocator->slab_stack[ix] || !allocator->slab_stack[ix]->chunks)\n-    allocator_add_slab (allocator, ix, chunk_size);\n-  \/* allocate chunk *\/\n-  chunk = allocator->slab_stack[ix]->chunks;\n-  allocator->slab_stack[ix]->chunks = chunk->next;\n-  allocator->slab_stack[ix]->n_allocated++;\n-  \/* rotate empty slabs *\/\n-  if (!allocator->slab_stack[ix]->chunks)\n-    allocator->slab_stack[ix] = allocator->slab_stack[ix]->next;\n-  return chunk;\n-}\n-\n-static void\n-slab_allocator_free_chunk (gsize    chunk_size,\n-                           gpointer mem)\n-{\n-  ChunkLink *chunk;\n-  gboolean was_empty;\n-  guint ix = SLAB_INDEX (allocator, chunk_size);\n-  gsize page_size = allocator_aligned_page_size (allocator, SLAB_BPAGE_SIZE (allocator, chunk_size));\n-  gsize addr = ((gsize) mem \/ page_size) * page_size;\n-  \/* mask page address *\/\n-  guint8 *page = (guint8*) addr;\n-  SlabInfo *sinfo = (SlabInfo*) (page + page_size - SLAB_INFO_SIZE);\n-  \/* assert valid chunk count *\/\n-  mem_assert (sinfo->n_allocated > 0);\n-  \/* add chunk to free list *\/\n-  was_empty = sinfo->chunks == NULL;\n-  chunk = (ChunkLink*) mem;\n-  chunk->next = sinfo->chunks;\n-  sinfo->chunks = chunk;\n-  sinfo->n_allocated--;\n-  \/* keep slab ring partially sorted, empty slabs at end *\/\n-  if (was_empty)\n-    {\n-      \/* unlink slab *\/\n-      SlabInfo *next = sinfo->next, *prev = sinfo->prev;\n-      next->prev = prev;\n-      prev->next = next;\n-      if (allocator->slab_stack[ix] == sinfo)\n-        allocator->slab_stack[ix] = next == sinfo ? NULL : next;\n-      \/* insert slab at head *\/\n-      allocator_slab_stack_push (allocator, ix, sinfo);\n-    }\n-  \/* eagerly free complete unused slabs *\/\n-  if (!sinfo->n_allocated)\n-    {\n-      \/* unlink slab *\/\n-      SlabInfo *next = sinfo->next, *prev = sinfo->prev;\n-      next->prev = prev;\n-      prev->next = next;\n-      if (allocator->slab_stack[ix] == sinfo)\n-        allocator->slab_stack[ix] = next == sinfo ? NULL : next;\n-      \/* free slab *\/\n-      allocator_memfree (page_size, page);\n-    }\n-}\n-\n-\/* --- memalign implementation --- *\/\n-#ifdef HAVE_MALLOC_H\n-#include <malloc.h>             \/* memalign() *\/\n-#endif\n-\n-\/* from config.h:\n- * define HAVE_POSIX_MEMALIGN           1 \/\/ if free(posix_memalign(3)) works, <stdlib.h>\n- * define HAVE_MEMALIGN                 1 \/\/ if free(memalign(3)) works, <malloc.h>\n- * define HAVE_VALLOC                   1 \/\/ if free(valloc(3)) works, <stdlib.h> or <malloc.h>\n- * if none is provided, we implement malloc(3)-based alloc-only page alignment\n- *\/\n-\n-#if !(HAVE_POSIX_MEMALIGN || HAVE_MEMALIGN || HAVE_VALLOC)\n-G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n-static GTrashStack *compat_valloc_trash = NULL;\n-G_GNUC_END_IGNORE_DEPRECATIONS\n-#endif\n-\n-static gpointer\n-allocator_memalign (gsize alignment,\n-                    gsize memsize)\n-{\n-  gpointer aligned_memory = NULL;\n-  gint err = ENOMEM;\n-#if     HAVE_POSIX_MEMALIGN\n-  err = posix_memalign (&aligned_memory, alignment, memsize);\n-#elif   HAVE_MEMALIGN\n-  errno = 0;\n-  aligned_memory = memalign (alignment, memsize);\n-  err = errno;\n-#elif   HAVE_VALLOC\n-  errno = 0;\n-  aligned_memory = valloc (memsize);\n-  err = errno;\n-#else\n-  \/* simplistic non-freeing page allocator *\/\n-  mem_assert (alignment == sys_page_size);\n-  mem_assert (memsize <= sys_page_size);\n-  if (!compat_valloc_trash)\n-    {\n-      const guint n_pages = 16;\n-      guint8 *mem = malloc (n_pages * sys_page_size);\n-      err = errno;\n-      if (mem)\n-        {\n-          gint i = n_pages;\n-          guint8 *amem = (guint8*) ALIGN ((gsize) mem, sys_page_size);\n-          if (amem != mem)\n-            i--;        \/* mem wasn't page aligned *\/\n-          G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n-          while (--i >= 0)\n-            g_trash_stack_push (&compat_valloc_trash, amem + i * sys_page_size);\n-          G_GNUC_END_IGNORE_DEPRECATIONS\n-        }\n-    }\n-  G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n-  aligned_memory = g_trash_stack_pop (&compat_valloc_trash);\n-  G_GNUC_END_IGNORE_DEPRECATIONS\n-#endif\n-  if (!aligned_memory)\n-    errno = err;\n-  return aligned_memory;\n-}\n-\n-static void\n-allocator_memfree (gsize    memsize,\n-                   gpointer mem)\n-{\n-#if     HAVE_POSIX_MEMALIGN || HAVE_MEMALIGN || HAVE_VALLOC\n-  free (mem);\n-#else\n-  mem_assert (memsize <= sys_page_size);\n-  G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n-  g_trash_stack_push (&compat_valloc_trash, mem);\n-  G_GNUC_END_IGNORE_DEPRECATIONS\n-#endif\n-}\n-\n-static void\n-mem_error (const char *format,\n-           ...)\n-{\n-  const char *pname;\n-  va_list args;\n-  \/* at least, put out \"MEMORY-ERROR\", in case we segfault during the rest of the function *\/\n-  fputs (\"\\n***MEMORY-ERROR***: \", stderr);\n-  pname = g_get_prgname();\n-  g_fprintf (stderr, \"%s[%ld]: GSlice: \", pname ? pname : \"\", (long)getpid());\n-  va_start (args, format);\n-  g_vfprintf (stderr, format, args);\n-  va_end (args);\n-  fputs (\"\\n\", stderr);\n-  abort();\n-  _exit (1);\n-}\n-\n-\/* --- g-slice memory checker tree --- *\/\n-typedef size_t SmcKType;                \/* key type *\/\n-typedef size_t SmcVType;                \/* value type *\/\n-typedef struct {\n-  SmcKType key;\n-  SmcVType value;\n-} SmcEntry;\n-static void             smc_tree_insert      (SmcKType  key,\n-                                              SmcVType  value);\n-static gboolean         smc_tree_lookup      (SmcKType  key,\n-                                              SmcVType *value_p);\n-static gboolean         smc_tree_remove      (SmcKType  key);\n-\n-\n-\/* --- g-slice memory checker implementation --- *\/\n-static void\n-smc_notify_alloc (void   *pointer,\n-                  size_t  size)\n-{\n-  size_t address = (size_t) pointer;\n-  if (pointer)\n-    smc_tree_insert (address, size);\n-}\n-\n-#if 0\n-static void\n-smc_notify_ignore (void *pointer)\n-{\n-  size_t address = (size_t) pointer;\n-  if (pointer)\n-    smc_tree_remove (address);\n-}\n-#endif\n-\n-static int\n-smc_notify_free (void   *pointer,\n-                 size_t  size)\n-{\n-  size_t address = (size_t) pointer;\n-  SmcVType real_size;\n-  gboolean found_one;\n-\n-  if (!pointer)\n-    return 1; \/* ignore *\/\n-  found_one = smc_tree_lookup (address, &real_size);\n-  if (!found_one)\n-    {\n-      g_fprintf (stderr, \"GSlice: MemChecker: attempt to release non-allocated block: %p size=%\" G_GSIZE_FORMAT \"\\n\", pointer, size);\n-      return 0;\n-    }\n-  if (real_size != size && (real_size || size))\n-    {\n-      g_fprintf (stderr, \"GSlice: MemChecker: attempt to release block with invalid size: %p size=%\" G_GSIZE_FORMAT \" invalid-size=%\" G_GSIZE_FORMAT \"\\n\", pointer, real_size, size);\n-      return 0;\n-    }\n-  if (!smc_tree_remove (address))\n+  while (slice)\n@@ -1608,147 +370,5 @@\n-      g_fprintf (stderr, \"GSlice: MemChecker: attempt to release non-allocated block: %p size=%\" G_GSIZE_FORMAT \"\\n\", pointer, size);\n-      return 0;\n-    }\n-  return 1; \/* all fine *\/\n-}\n-\n-\/* --- g-slice memory checker tree implementation --- *\/\n-#define SMC_TRUNK_COUNT     (4093 \/* 16381 *\/)          \/* prime, to distribute trunk collisions (big, allocated just once) *\/\n-#define SMC_BRANCH_COUNT    (511)                       \/* prime, to distribute branch collisions *\/\n-#define SMC_TRUNK_EXTENT    (SMC_BRANCH_COUNT * 2039)   \/* key address space per trunk, should distribute uniformly across BRANCH_COUNT *\/\n-#define SMC_TRUNK_HASH(k)   ((k \/ SMC_TRUNK_EXTENT) % SMC_TRUNK_COUNT)  \/* generate new trunk hash per megabyte (roughly) *\/\n-#define SMC_BRANCH_HASH(k)  (k % SMC_BRANCH_COUNT)\n-\n-typedef struct {\n-  SmcEntry    *entries;\n-  unsigned int n_entries;\n-} SmcBranch;\n-\n-static SmcBranch     **smc_tree_root = NULL;\n-\n-static void\n-smc_tree_abort (int errval)\n-{\n-  const char *syserr = strerror (errval);\n-  mem_error (\"MemChecker: failure in debugging tree: %s\", syserr);\n-}\n-\n-static inline SmcEntry*\n-smc_tree_branch_grow_L (SmcBranch   *branch,\n-                        unsigned int index)\n-{\n-  unsigned int old_size = branch->n_entries * sizeof (branch->entries[0]);\n-  unsigned int new_size = old_size + sizeof (branch->entries[0]);\n-  SmcEntry *entry;\n-  mem_assert (index <= branch->n_entries);\n-  branch->entries = (SmcEntry*) realloc (branch->entries, new_size);\n-  if (!branch->entries)\n-    smc_tree_abort (errno);\n-  entry = branch->entries + index;\n-  memmove (entry + 1, entry, (branch->n_entries - index) * sizeof (entry[0]));\n-  branch->n_entries += 1;\n-  return entry;\n-}\n-\n-static inline SmcEntry*\n-smc_tree_branch_lookup_nearest_L (SmcBranch *branch,\n-                                  SmcKType   key)\n-{\n-  unsigned int n_nodes = branch->n_entries, offs = 0;\n-  SmcEntry *check = branch->entries;\n-  int cmp = 0;\n-  while (offs < n_nodes)\n-    {\n-      unsigned int i = (offs + n_nodes) >> 1;\n-      check = branch->entries + i;\n-      cmp = key < check->key ? -1 : key != check->key;\n-      if (cmp == 0)\n-        return check;                   \/* return exact match *\/\n-      else if (cmp < 0)\n-        n_nodes = i;\n-      else \/* (cmp > 0) *\/\n-        offs = i + 1;\n-    }\n-  \/* check points at last mismatch, cmp > 0 indicates greater key *\/\n-  return cmp > 0 ? check + 1 : check;   \/* return insertion position for inexact match *\/\n-}\n-\n-static void\n-smc_tree_insert (SmcKType key,\n-                 SmcVType value)\n-{\n-  unsigned int ix0, ix1;\n-  SmcEntry *entry;\n-\n-  g_mutex_lock (&smc_tree_mutex);\n-  ix0 = SMC_TRUNK_HASH (key);\n-  ix1 = SMC_BRANCH_HASH (key);\n-  if (!smc_tree_root)\n-    {\n-      smc_tree_root = calloc (SMC_TRUNK_COUNT, sizeof (smc_tree_root[0]));\n-      if (!smc_tree_root)\n-        smc_tree_abort (errno);\n-    }\n-  if (!smc_tree_root[ix0])\n-    {\n-      smc_tree_root[ix0] = calloc (SMC_BRANCH_COUNT, sizeof (smc_tree_root[0][0]));\n-      if (!smc_tree_root[ix0])\n-        smc_tree_abort (errno);\n-    }\n-  entry = smc_tree_branch_lookup_nearest_L (&smc_tree_root[ix0][ix1], key);\n-  if (!entry ||                                                                         \/* need create *\/\n-      entry >= smc_tree_root[ix0][ix1].entries + smc_tree_root[ix0][ix1].n_entries ||   \/* need append *\/\n-      entry->key != key)                                                                \/* need insert *\/\n-    entry = smc_tree_branch_grow_L (&smc_tree_root[ix0][ix1], entry - smc_tree_root[ix0][ix1].entries);\n-  entry->key = key;\n-  entry->value = value;\n-  g_mutex_unlock (&smc_tree_mutex);\n-}\n-\n-static gboolean\n-smc_tree_lookup (SmcKType  key,\n-                 SmcVType *value_p)\n-{\n-  SmcEntry *entry = NULL;\n-  unsigned int ix0 = SMC_TRUNK_HASH (key), ix1 = SMC_BRANCH_HASH (key);\n-  gboolean found_one = FALSE;\n-  *value_p = 0;\n-  g_mutex_lock (&smc_tree_mutex);\n-  if (smc_tree_root && smc_tree_root[ix0])\n-    {\n-      entry = smc_tree_branch_lookup_nearest_L (&smc_tree_root[ix0][ix1], key);\n-      if (entry &&\n-          entry < smc_tree_root[ix0][ix1].entries + smc_tree_root[ix0][ix1].n_entries &&\n-          entry->key == key)\n-        {\n-          found_one = TRUE;\n-          *value_p = entry->value;\n-        }\n-    }\n-  g_mutex_unlock (&smc_tree_mutex);\n-  return found_one;\n-}\n-\n-static gboolean\n-smc_tree_remove (SmcKType key)\n-{\n-  unsigned int ix0 = SMC_TRUNK_HASH (key), ix1 = SMC_BRANCH_HASH (key);\n-  gboolean found_one = FALSE;\n-  g_mutex_lock (&smc_tree_mutex);\n-  if (smc_tree_root && smc_tree_root[ix0])\n-    {\n-      SmcEntry *entry = smc_tree_branch_lookup_nearest_L (&smc_tree_root[ix0][ix1], key);\n-      if (entry &&\n-          entry < smc_tree_root[ix0][ix1].entries + smc_tree_root[ix0][ix1].n_entries &&\n-          entry->key == key)\n-        {\n-          unsigned int i = entry - smc_tree_root[ix0][ix1].entries;\n-          smc_tree_root[ix0][ix1].n_entries -= 1;\n-          memmove (entry, entry + 1, (smc_tree_root[ix0][ix1].n_entries - i) * sizeof (entry[0]));\n-          if (!smc_tree_root[ix0][ix1].n_entries)\n-            {\n-              \/* avoid useless pressure on the memory system *\/\n-              free (smc_tree_root[ix0][ix1].entries);\n-              smc_tree_root[ix0][ix1].entries = NULL;\n-            }\n-          found_one = TRUE;\n-        }\n+      guint8 *current = slice;\n+      slice = *(gpointer *) (current + next_offset);\n+      if (G_UNLIKELY (g_mem_gc_friendly))\n+        memset (current, 0, mem_size);\n+      g_free_sized (current, mem_size);\n@@ -1756,2 +376,0 @@\n-  g_mutex_unlock (&smc_tree_mutex);\n-  return found_one;\n@@ -1764,55 +382,1 @@\n-  g_mutex_lock (&smc_tree_mutex);\n-  if (smc_tree_root)\n-    {\n-      unsigned int i, j, t = 0, o = 0, b = 0, su = 0, ex = 0, en = 4294967295u;\n-      double tf, bf;\n-      for (i = 0; i < SMC_TRUNK_COUNT; i++)\n-        if (smc_tree_root[i])\n-          {\n-            t++;\n-            for (j = 0; j < SMC_BRANCH_COUNT; j++)\n-              if (smc_tree_root[i][j].n_entries)\n-                {\n-                  b++;\n-                  su += smc_tree_root[i][j].n_entries;\n-                  en = MIN (en, smc_tree_root[i][j].n_entries);\n-                  ex = MAX (ex, smc_tree_root[i][j].n_entries);\n-                }\n-              else if (smc_tree_root[i][j].entries)\n-                o++; \/* formerly used, now empty *\/\n-          }\n-      en = b ? en : 0;\n-      tf = MAX (t, 1.0); \/* max(1) to be a valid divisor *\/\n-      bf = MAX (b, 1.0); \/* max(1) to be a valid divisor *\/\n-      g_fprintf (stderr, \"GSlice: MemChecker: %u trunks, %u branches, %u old branches\\n\", t, b, o);\n-      g_fprintf (stderr, \"GSlice: MemChecker: %f branches per trunk, %.2f%% utilization\\n\",\n-               b \/ tf,\n-               100.0 - (SMC_BRANCH_COUNT - b \/ tf) \/ (0.01 * SMC_BRANCH_COUNT));\n-      g_fprintf (stderr, \"GSlice: MemChecker: %f entries per branch, %u minimum, %u maximum\\n\",\n-               su \/ bf, en, ex);\n-    }\n-  else\n-    g_fprintf (stderr, \"GSlice: MemChecker: root=NULL\\n\");\n-  g_mutex_unlock (&smc_tree_mutex);\n-\n-  \/* sample statistics (beast + GSLice + 24h scripted core & GUI activity):\n-   *  PID %CPU %MEM   VSZ  RSS      COMMAND\n-   * 8887 30.3 45.8 456068 414856   beast-0.7.1 empty.bse\n-   * $ cat \/proc\/8887\/statm # total-program-size resident-set-size shared-pages text\/code data\/stack library dirty-pages\n-   * 114017 103714 2354 344 0 108676 0\n-   * $ cat \/proc\/8887\/status\n-   * Name:   beast-0.7.1\n-   * VmSize:   456068 kB\n-   * VmLck:         0 kB\n-   * VmRSS:    414856 kB\n-   * VmData:   434620 kB\n-   * VmStk:        84 kB\n-   * VmExe:      1376 kB\n-   * VmLib:     13036 kB\n-   * VmPTE:       456 kB\n-   * Threads:        3\n-   * (gdb) print g_slice_debug_tree_statistics ()\n-   * GSlice: MemChecker: 422 trunks, 213068 branches, 0 old branches\n-   * GSlice: MemChecker: 504.900474 branches per trunk, 98.81% utilization\n-   * GSlice: MemChecker: 4.965039 entries per branch, 1 minimum, 37 maximum\n-   *\/\n+  g_fprintf (stderr, \"GSlice: Implementation dropped in GLib 2.76\\n\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gslice.c","additions":75,"deletions":1511,"binary":false,"changes":1586,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gslice.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gslist.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gslist.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -25,0 +27,1 @@\n+#include \"glibintl.h\"\n@@ -116,0 +119,21 @@\n+\n+static inline gboolean\n+_g_spawn_invalid_source_fd (gint         fd,\n+                            const gint  *source_fds,\n+                            gsize        n_fds,\n+                            GError     **error)\n+{\n+  gsize i;\n+\n+  for (i = 0; i < n_fds; i++)\n+    if (fd == source_fds[i])\n+      {\n+        g_set_error (error,\n+                     G_SPAWN_ERROR,\n+                     G_SPAWN_ERROR_INVAL,\n+                     _(\"Invalid source FDs argument\"));\n+        return TRUE;\n+      }\n+\n+  return FALSE;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn-private.h","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -24,14 +26,0 @@\n-\/* For _CrtSetReportMode, we don't want Windows CRT (2005 and later)\n- * to terminate the process if a bad file descriptor is passed into\n- * _get_osfhandle().  This is necessary because we use _get_osfhandle()\n- * to check the validity of the fd before we try to call close() on\n- * it as attempting to close an invalid fd will cause the Windows CRT\n- * to abort() this program internally.\n- *\n- * Please see http:\/\/msdn.microsoft.com\/zh-tw\/library\/ks2530z6%28v=vs.80%29.aspx\n- * for an explanation on this.\n- *\/\n-#if (defined (_MSC_VER) && _MSC_VER >= 1400)\n-#include <crtdbg.h>\n-#endif\n-\n@@ -41,1 +29,2 @@\n-#include \"gspawn-win32.c\"       \/* For shared definitions *\/\n+#include \"gspawn-win32.c\"  \/* For shared definitions *\/\n+#include \"glib\/glib-private.h\"\n@@ -168,23 +157,0 @@\n-#if (defined (_MSC_VER) && _MSC_VER >= 1400)\n-\/*\n- * This is the (empty) invalid parameter handler\n- * that is used for Visual C++ 2005 (and later) builds\n- * so that we can use this instead of the system automatically\n- * aborting the process.\n- *\n- * This is necessary as we use _get_oshandle() to check the validity\n- * of the file descriptors as we close them, so when an invalid file\n- * descriptor is passed into that function as we check on it, we get\n- * -1 as the result, instead of the gspawn helper program aborting.\n- *\n- * Please see http:\/\/msdn.microsoft.com\/zh-tw\/library\/ks2530z6%28v=vs.80%29.aspx\n- * for an explanation on this.\n- *\/\n-extern void\n-myInvalidParameterHandler(const wchar_t *expression,\n-                          const wchar_t *function,\n-                          const wchar_t *file,\n-                          unsigned int   line,\n-                          uintptr_t      pReserved);\n-#endif\n-\n@@ -220,10 +186,1 @@\n-\n-#if (defined (_MSC_VER) && _MSC_VER >= 1400)\n-  \/* set up our empty invalid parameter handler *\/\n-  _invalid_parameter_handler oldHandler, newHandler;\n-  newHandler = myInvalidParameterHandler;\n-  oldHandler = _set_invalid_parameter_handler(newHandler);\n-\n-  \/* Disable the message box for assertions. *\/\n-  _CrtSetReportMode(_CRT_ASSERT, 0);\n-#endif\n+  GWin32InvalidParameterHandler handler;\n@@ -275,1 +232,1 @@\n-  }\n+    }\n@@ -280,1 +237,1 @@\n-  }\n+    }\n@@ -288,1 +245,1 @@\n-  }\n+    }\n@@ -293,1 +250,1 @@\n-  }\n+    }\n@@ -295,3 +252,8 @@\n-  saved_stderr_fd = reopen_noninherited (dup (2), _O_WRONLY);\n-  if (saved_stderr_fd == -1)\n-    write_err_and_exit (child_err_report_fd, CHILD_DUP_FAILED);\n+  \/* GUI application do not necessarily have a stderr *\/\n+  if (_fileno (stderr) == 2)\n+    {\n+      saved_stderr_fd = GLIB_PRIVATE_CALL (g_win32_reopen_noninherited) (\n+        dup (2), _O_WRONLY, NULL);\n+      if (saved_stderr_fd == -1)\n+        write_err_and_exit (child_err_report_fd, CHILD_DUP_FAILED);\n+    }\n@@ -357,2 +319,5 @@\n-  maxfd++;\n-  saved_stderr_fd = checked_dup2 (saved_stderr_fd, maxfd, child_err_report_fd);\n+  if (saved_stderr_fd >= 0)\n+    {\n+      maxfd++;\n+      saved_stderr_fd = checked_dup2 (saved_stderr_fd, maxfd, child_err_report_fd);\n+    }\n@@ -384,1 +349,2 @@\n-  g_hash_table_add (fds, GINT_TO_POINTER (saved_stderr_fd));\n+  if (saved_stderr_fd >= 0)\n+    g_hash_table_add (fds, GINT_TO_POINTER (saved_stderr_fd));\n@@ -389,0 +355,1 @@\n+  GLIB_PRIVATE_CALL (g_win32_push_empty_invalid_parameter_handler) (&handler);\n@@ -394,0 +361,1 @@\n+  GLIB_PRIVATE_CALL (g_win32_pop_invalid_parameter_handler) (&handler);\n@@ -398,2 +366,4 @@\n-  child_err_report_fd = reopen_noninherited (child_err_report_fd, _O_WRONLY);\n-  helper_sync_fd = reopen_noninherited (helper_sync_fd, _O_RDONLY);\n+  child_err_report_fd = GLIB_PRIVATE_CALL (g_win32_reopen_noninherited) (\n+    child_err_report_fd, _O_WRONLY, NULL);\n+  helper_sync_fd = GLIB_PRIVATE_CALL (g_win32_reopen_noninherited) (\n+    helper_sync_fd, _O_RDONLY, NULL);\n@@ -433,1 +403,3 @@\n-  dup2 (saved_stderr_fd, 2);\n+  if (saved_stderr_fd >= 0)\n+    dup2 (saved_stderr_fd, 2);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn-win32-helper.c","additions":33,"deletions":61,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -65,0 +67,6 @@\n+#ifdef _MSC_VER\n+#ifdef HAVE_VCRUNTIME_H\n+#include <vcruntime.h> \/* for _UCRT *\/\n+#endif\n+#endif\n+\n@@ -110,13 +118,0 @@\n-static int\n-reopen_noninherited (int fd,\n-         int mode)\n-{\n-  HANDLE filehandle;\n-\n-  DuplicateHandle (GetCurrentProcess (), (LPHANDLE) _get_osfhandle (fd),\n-       GetCurrentProcess (), &filehandle,\n-       0, FALSE, DUPLICATE_SAME_ACCESS);\n-  close (fd);\n-  return _open_osfhandle ((gintptr) filehandle, mode | _O_NOINHERIT);\n-}\n-\n@@ -131,0 +126,124 @@\n+#ifndef _UCRT\n+\n+\/* The wspawn*e functions are thread-safe only in the Universal\n+ * CRT (UCRT). If we are linking against the MSVCRT.dll or the\n+ * pre-2015 MSVC runtime (MSVCRXXX.dll), then we have to use a\n+ * mutex.\n+ *\/\n+\n+static GMutex safe_wspawn_e_mutex;\n+\n+static intptr_t\n+safe_wspawnve (int _Mode,\n+               const wchar_t *_Filename,\n+               const wchar_t *const *_ArgList,\n+               const wchar_t *const *_Env)\n+{\n+  intptr_t ret_val = -1;\n+\n+  g_mutex_lock (&safe_wspawn_e_mutex);\n+  ret_val = _wspawnve (_Mode, _Filename, _ArgList, _Env);\n+  g_mutex_unlock (&safe_wspawn_e_mutex);\n+\n+  return ret_val;\n+}\n+\n+static intptr_t\n+safe_wspawnvpe (int _Mode,\n+                const wchar_t *_Filename,\n+                const wchar_t *const *_ArgList,\n+                const wchar_t *const *_Env)\n+{\n+  intptr_t ret_val = -1;\n+\n+  g_mutex_lock (&safe_wspawn_e_mutex);\n+  ret_val = _wspawnvpe (_Mode, _Filename, _ArgList, _Env);\n+  g_mutex_unlock (&safe_wspawn_e_mutex);\n+\n+  return ret_val;\n+}\n+\n+#else\n+\n+\/**< private >\n+ * ensure_cmd_environment:\n+ *\n+ * Workaround for an issue in the universal C Runtime library (UCRT). This adds\n+ * a custom environment variable to this process's environment block that looks\n+ * like the cmd.exe's shell-related environment variables, i.e the name starts\n+ * with an equal sign character: '='. This is needed because the UCRT may crash\n+ * if those environment variables are missing from the calling process's block.\n+ *\n+ * Reference:\n+ *\n+ * https:\/\/developercommunity.visualstudio.com\/t\/UCRT-Crash-in-_wspawne-functions\/10262748\n+ *\/\n+static void\n+ensure_cmd_environment (void)\n+{\n+  static gsize initialization_value = 0;\n+\n+  if (g_once_init_enter (&initialization_value))\n+    {\n+      wchar_t *block = GetEnvironmentStringsW ();\n+      gboolean have_cmd_environment = FALSE;\n+\n+      if (block)\n+        {\n+          const wchar_t *p = block;\n+\n+          while (*p != L'\\0')\n+            {\n+              if (*p == L'=')\n+                {\n+                  have_cmd_environment = TRUE;\n+                  break;\n+                }\n+\n+              p += wcslen (p) + 1;\n+            }\n+\n+          if (!FreeEnvironmentStringsW (block))\n+            g_warning (\"%s failed with error code %u\",\n+                       \"FreeEnvironmentStrings\",\n+                       (guint) GetLastError ());\n+        }\n+\n+      if (!have_cmd_environment)\n+        {\n+          if (!SetEnvironmentVariableW (L\"=GLIB\", L\"GLIB\"))\n+            {\n+              g_critical (\"%s failed with error code %u\",\n+                          \"SetEnvironmentVariable\",\n+                          (guint) GetLastError ());\n+            }\n+        }\n+\n+      g_once_init_leave (&initialization_value, 1);\n+    }\n+}\n+\n+static intptr_t\n+safe_wspawnve (int                   _mode,\n+               const wchar_t *       _filename,\n+               const wchar_t *const *_args,\n+               const wchar_t *const *_env)\n+{\n+  ensure_cmd_environment ();\n+\n+  return _wspawnve (_mode, _filename, _args, _env);;\n+}\n+\n+static intptr_t\n+safe_wspawnvpe (int                   _mode,\n+                const wchar_t *       _filename,\n+                const wchar_t *const *_args,\n+                const wchar_t *const *_env)\n+{\n+  ensure_cmd_environment ();\n+\n+  return _wspawnvpe (_mode, _filename, _args, _env);\n+}\n+\n+#endif \/* _UCRT *\/\n+\n@@ -503,1 +622,1 @@\n-      rc = _wspawnvpe (mode, wargv0, (const wchar_t **) wargv, (const wchar_t **) wenvp);\n+      rc = safe_wspawnvpe (mode, wargv0, (const wchar_t **) wargv, (const wchar_t **) wenvp);\n@@ -508,1 +627,1 @@\n-      rc = _wspawnve (mode, wargv0, (const wchar_t **) wargv, (const wchar_t **) wenvp);\n+      rc = safe_wspawnve (mode, wargv0, (const wchar_t **) wargv, (const wchar_t **) wenvp);\n@@ -621,0 +740,3 @@\n+      if (_g_spawn_invalid_source_fd (stdin_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (stdin_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n@@ -628,0 +750,3 @@\n+      if (_g_spawn_invalid_source_fd (stdout_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (stdout_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n@@ -635,0 +760,3 @@\n+      if (_g_spawn_invalid_source_fd (stderr_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (stderr_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n@@ -640,7 +768,0 @@\n-  \/*\n-   * FIXME: Workaround broken spawnvpe functions that SEGV when \"=X:=\"\n-   * environment variables are missing. Calling chdir() will set the magic\n-   * environment variable again.\n-   *\/\n-  _chdir (\".\");\n-\n@@ -666,0 +787,3 @@\n+  if (_g_spawn_invalid_source_fd (child_err_report_pipe[0], source_fds, n_fds, error) ||\n+      _g_spawn_invalid_source_fd (child_err_report_pipe[1], source_fds, n_fds, error))\n+    goto cleanup_and_fail;\n@@ -669,0 +793,3 @@\n+  if (_g_spawn_invalid_source_fd (helper_sync_pipe[0], source_fds, n_fds, error) ||\n+      _g_spawn_invalid_source_fd (helper_sync_pipe[1], source_fds, n_fds, error))\n+    goto cleanup_and_fail;\n@@ -687,1 +814,4 @@\n-  child_err_report_pipe[0] = reopen_noninherited (child_err_report_pipe[0], _O_RDONLY);\n+  child_err_report_pipe[0] = g_win32_reopen_noninherited (\n+    child_err_report_pipe[0], _O_RDONLY, error);\n+  if (child_err_report_pipe[0] == -1)\n+      goto cleanup_and_fail;\n@@ -706,1 +836,4 @@\n-  helper_sync_pipe[1] = reopen_noninherited (helper_sync_pipe[1], _O_WRONLY);\n+  helper_sync_pipe[1] = g_win32_reopen_noninherited (\n+    helper_sync_pipe[1], _O_WRONLY, error);\n+  if (helper_sync_pipe[1] == -1)\n+      goto cleanup_and_fail;\n@@ -841,1 +974,1 @@\n-    rc = _wspawnvpe (P_NOWAIT, whelper, (const wchar_t **) wargv, (const wchar_t **) wenvp);\n+    rc = safe_wspawnvpe (P_NOWAIT, whelper, (const wchar_t **) wargv, (const wchar_t **) wenvp);\n@@ -906,1 +1039,2 @@\n-                  g_print(\"%s\\n\", emsg);\n+                  g_print (\"%s\\n\", emsg);\n+                  g_free (emsg);\n@@ -1424,0 +1558,3 @@\n+  \/* CRT functions such as _wspawn* return (HANDLE)-1\n+   * on failure, so check also for that value. *\/\n+  if (pid != NULL && pid != (HANDLE) -1)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn-win32.c","additions":163,"deletions":26,"binary":false,"changes":189,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -33,0 +35,1 @@\n+#include <unistd.h>\n@@ -70,0 +73,12 @@\n+#ifdef __APPLE__\n+#include <libproc.h>\n+#include <sys\/proc_info.h>\n+#endif\n+\n+#define INHERITS_OR_NULL_STDIN  (G_SPAWN_STDIN_FROM_DEV_NULL | G_SPAWN_CHILD_INHERITS_STDIN)\n+#define INHERITS_OR_NULL_STDOUT (G_SPAWN_STDOUT_TO_DEV_NULL | G_SPAWN_CHILD_INHERITS_STDOUT)\n+#define INHERITS_OR_NULL_STDERR (G_SPAWN_STDERR_TO_DEV_NULL | G_SPAWN_CHILD_INHERITS_STDERR)\n+\n+#define IS_STD_FILENO(_fd) ((_fd >= STDIN_FILENO) && (_fd <= STDERR_FILENO))\n+#define IS_VALID_FILENO(_fd) (_fd >= 0)\n+\n@@ -159,2 +174,0 @@\n-static gint safe_close (gint fd);\n-\n@@ -208,2 +221,3 @@\n- * @child_setup: (scope async) (nullable): function to run in the child just before exec()\n- * @user_data: (closure): user data for @child_setup\n+ * @child_setup: (scope async) (closure user_data) (nullable): function to run\n+ *     in the child just before `exec()`\n+ * @user_data: user data for @child_setup\n@@ -242,2 +256,0 @@\n-  g_return_val_if_fail (argv != NULL, FALSE);\n-\n@@ -266,5 +278,3 @@\n-  else\n-    {\n-      safe_close (*fd);\n-      *fd = -1;\n-    }\n+\n+  g_close (*fd, NULL);\n+  *fd = -1;\n@@ -326,2 +336,3 @@\n- * @child_setup: (scope async) (nullable): function to run in the child just before exec()\n- * @user_data: (closure): user data for @child_setup\n+ * @child_setup: (scope call) (closure user_data) (nullable): function to run\n+ *     in the child just before `exec()`\n+ * @user_data: user data for @child_setup\n@@ -587,2 +598,3 @@\n- * @child_setup: (scope async) (nullable): function to run in the child just before exec()\n- * @user_data: (closure): user data for @child_setup\n+ * @child_setup: (scope async) (closure user_data) (nullable): function to run\n+ *     in the child just before `exec()`\n+ * @user_data: user data for @child_setup\n@@ -613,31 +625,12 @@\n-  g_return_val_if_fail (argv != NULL, FALSE);\n-  g_return_val_if_fail (argv[0] != NULL, FALSE);\n-  g_return_val_if_fail (standard_output == NULL ||\n-                        !(flags & G_SPAWN_STDOUT_TO_DEV_NULL), FALSE);\n-  g_return_val_if_fail (standard_error == NULL ||\n-                        !(flags & G_SPAWN_STDERR_TO_DEV_NULL), FALSE);\n-  \/* can't inherit stdin if we have an input pipe. *\/\n-  g_return_val_if_fail (standard_input == NULL ||\n-                        !(flags & G_SPAWN_CHILD_INHERITS_STDIN), FALSE);\n-\n-  return fork_exec (!(flags & G_SPAWN_DO_NOT_REAP_CHILD),\n-                    working_directory,\n-                    (const gchar * const *) argv,\n-                    (const gchar * const *) envp,\n-                    !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n-                    (flags & G_SPAWN_SEARCH_PATH) != 0,\n-                    (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n-                    (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n-                    (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n-                    (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n-                    (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n-                    (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n-                    child_setup,\n-                    user_data,\n-                    child_pid,\n-                    standard_input,\n-                    standard_output,\n-                    standard_error,\n-                    -1, -1, -1,\n-                    NULL, NULL, 0,\n-                    error);\n+  return g_spawn_async_with_pipes_and_fds (working_directory,\n+                                           (const gchar * const *) argv,\n+                                           (const gchar * const *) envp,\n+                                           flags,\n+                                           child_setup, user_data,\n+                                           -1, -1, -1,\n+                                           NULL, NULL, 0,\n+                                           child_pid,\n+                                           standard_input,\n+                                           standard_output,\n+                                           standard_error,\n+                                           error);\n@@ -656,2 +649,3 @@\n- * @child_setup: (scope async) (nullable): function to run in the child just before `exec()`\n- * @user_data: (closure): user data for @child_setup\n+ * @child_setup: (scope async) (closure user_data) (nullable): function to run\n+ *     in the child just before `exec()`\n+ * @user_data: user data for @child_setup\n@@ -752,0 +746,6 @@\n+ * %G_SPAWN_CHILD_INHERITS_STDIN means that the child will inherit the parent's\n+ * standard input (by default, the child's standard input is attached to\n+ * `\/dev\/null`). %G_SPAWN_STDIN_FROM_DEV_NULL explicitly imposes the default\n+ * behavior. Both flags cannot be enabled at the same time and, in both cases,\n+ * the @stdin_pipe_out argument is ignored.\n+ *\n@@ -753,2 +753,4 @@\n- * will be discarded, instead of going to the same location as the parent's\n- * standard output. If you use this flag, @stdout_pipe_out must be %NULL.\n+ * will be discarded (by default, it goes to the same location as the parent's\n+ * standard output). %G_SPAWN_CHILD_INHERITS_STDOUT explicitly imposes the\n+ * default behavior. Both flags cannot be enabled at the same time and, in\n+ * both cases, the @stdout_pipe_out argument is ignored.\n@@ -757,6 +759,4 @@\n- * will be discarded, instead of going to the same location as the parent's\n- * standard error. If you use this flag, @stderr_pipe_out must be %NULL.\n- *\n- * %G_SPAWN_CHILD_INHERITS_STDIN means that the child will inherit the parent's\n- * standard input (by default, the child's standard input is attached to\n- * `\/dev\/null`). If you use this flag, @stdin_pipe_out must be %NULL.\n+ * will be discarded (by default, it goes to the same location as the parent's\n+ * standard error). %G_SPAWN_CHILD_INHERITS_STDERR explicitly imposes the\n+ * default behavior. Both flags cannot be enabled at the same time and, in\n+ * both cases, the @stderr_pipe_out argument is ignored.\n@@ -886,7 +886,4 @@\n-  g_return_val_if_fail (stdout_pipe_out == NULL ||\n-                        !(flags & G_SPAWN_STDOUT_TO_DEV_NULL), FALSE);\n-  g_return_val_if_fail (stderr_pipe_out == NULL ||\n-                        !(flags & G_SPAWN_STDERR_TO_DEV_NULL), FALSE);\n-  \/* can't inherit stdin if we have an input pipe. *\/\n-  g_return_val_if_fail (stdin_pipe_out == NULL ||\n-                        !(flags & G_SPAWN_CHILD_INHERITS_STDIN), FALSE);\n+  \/* can’t both inherit and set pipes to \/dev\/null *\/\n+  g_return_val_if_fail ((flags & INHERITS_OR_NULL_STDIN) != INHERITS_OR_NULL_STDIN, FALSE);\n+  g_return_val_if_fail ((flags & INHERITS_OR_NULL_STDOUT) != INHERITS_OR_NULL_STDOUT, FALSE);\n+  g_return_val_if_fail ((flags & INHERITS_OR_NULL_STDERR) != INHERITS_OR_NULL_STDERR, FALSE);\n@@ -898,0 +895,7 @@\n+  if ((flags & INHERITS_OR_NULL_STDIN) != 0)\n+    stdin_pipe_out = NULL;\n+  if ((flags & INHERITS_OR_NULL_STDOUT) != 0)\n+    stdout_pipe_out = NULL;\n+  if ((flags & INHERITS_OR_NULL_STDERR) != 0)\n+    stderr_pipe_out = NULL;\n+\n@@ -932,2 +936,3 @@\n- * @child_setup: (scope async) (nullable): function to run in the child just before exec()\n- * @user_data: (closure): user data for @child_setup\n+ * @child_setup: (scope async) (closure user_data) (nullable): function to run\n+ *   in the child just before `exec()`\n+ * @user_data: user data for @child_setup\n@@ -1346,16 +1351,9 @@\n-\/* This function is called between fork() and exec() and hence must be\n- * async-signal-safe (see signal-safety(7)). *\/\n-static gint\n-safe_close (gint fd)\n-{\n-  gint ret;\n-\n-  do\n-    ret = close (fd);\n-  while (ret < 0 && errno == EINTR);\n-\n-  return ret;\n-}\n-\n-\/* This function is called between fork() and exec() and hence must be\n- * async-signal-safe (see signal-safety(7)). *\/\n+\/* fdwalk()-compatible callback to close a fd for non-compliant\n+ * implementations of fdwalk() that potentially pass already\n+ * closed fds.\n+ *\n+ * It is not an error to pass an invalid fd to this function.\n+ *\n+ * This function is called between fork() and exec() and hence must be\n+ * async-signal-safe (see signal-safety(7)).\n+ *\/\n@@ -1363,1 +1361,1 @@\n-close_func (void *data, int fd)\n+close_func_with_invalid_fds (void *data, int fd)\n@@ -1365,0 +1363,11 @@\n+  \/* We use close and not g_close here because on some platforms, we\n+   * don't know how to close only valid, open file descriptors, so we\n+   * have to pass bad fds to close too. g_close warns if given a bad\n+   * fd.\n+   *\n+   * This function returns no error, because there is nothing that the caller\n+   * could do with that information. That is even the case for EINTR. See\n+   * g_close() about the specialty of EINTR and why that is correct.\n+   * If g_close() ever gets extended to handle EINTR specially, then this place\n+   * should get updated to do the same handling.\n+   *\/\n@@ -1366,1 +1375,1 @@\n-    (void) safe_close (fd);\n+    close (fd);\n@@ -1411,0 +1420,2 @@\n+static int safe_fdwalk_with_invalid_fds (int (*cb)(void *data, int fd), void *data);\n+\n@@ -1426,2 +1437,2 @@\n-   * may be slow on non-Linux operating systems, especially on systems allowing\n-   * very high number of open file descriptors.\n+   * may fail on non-Linux operating systems. See safe_fdwalk_with_invalid_fds\n+   * for a slower alternative.\n@@ -1429,1 +1440,2 @@\n-  gint open_max = -1;\n+\n+#ifdef __linux__\n@@ -1433,5 +1445,0 @@\n-#if 0 && defined(HAVE_SYS_RESOURCE_H)\n-  struct rlimit rl;\n-#endif\n-\n-#ifdef __linux__\n@@ -1442,1 +1449,8 @@\n-      char buf[4096];\n+      \/* buf needs to be aligned correctly to receive linux_dirent64.\n+       * C11 has _Alignof for this purpose, but for now a\n+       * union serves the same purpose. *\/\n+      union\n+      {\n+        char buf[4096];\n+        struct linux_dirent64 alignment;\n+      } u;\n@@ -1446,1 +1460,1 @@\n-      while ((nread = syscall (SYS_getdents64, dir_fd, buf, sizeof(buf))) > 0)\n+      while ((nread = syscall (SYS_getdents64, dir_fd, u.buf, sizeof (u.buf))) > 0)\n@@ -1450,1 +1464,1 @@\n-              de = (struct linux_dirent64 *)(buf + pos);\n+              de = (struct linux_dirent64 *) (u.buf + pos);\n@@ -1461,1 +1475,1 @@\n-      safe_close (dir_fd);\n+      g_close (dir_fd, NULL);\n@@ -1465,1 +1479,2 @@\n-  \/* If \/proc is not mounted or not accessible we fall back to the old\n+  \/* If \/proc is not mounted or not accessible we fail here and rely on\n+   * safe_fdwalk_with_invalid_fds to fall back to the old\n@@ -1481,0 +1496,2 @@\n+  gint fd;\n+  gint res = 0;\n@@ -1489,1 +1506,20 @@\n-#else\n+\n+  return res;\n+#endif\n+\n+  return safe_fdwalk_with_invalid_fds (cb, data);\n+#endif\n+}\n+\n+\/* This function is called between fork() and exec() and hence must be\n+ * async-signal-safe (see signal-safety(7)). *\/\n+static int\n+safe_fdwalk_with_invalid_fds (int (*cb)(void *data, int fd), void *data)\n+{\n+  \/* Fallback implementation of fdwalk. It should be async-signal safe, but it\n+   * may be slow, especially on systems allowing very high number of open file\n+   * descriptors.\n+   *\/\n+  gint open_max = -1;\n+  gint fd;\n+  gint res = 0;\n@@ -1492,0 +1528,2 @@\n+  struct rlimit rl;\n+\n@@ -1521,0 +1559,30 @@\n+#if defined(__APPLE__)\n+  \/* proc_pidinfo isn't documented as async-signal-safe but looking at the implementation\n+   * in the darwin tree here:\n+   *\n+   * https:\/\/opensource.apple.com\/source\/Libc\/Libc-498\/darwin\/libproc.c.auto.html\n+   *\n+   * It's just a thin wrapper around a syscall, so it's probably okay.\n+   *\/\n+  {\n+    char buffer[4096 * PROC_PIDLISTFD_SIZE];\n+    ssize_t buffer_size;\n+\n+    buffer_size = proc_pidinfo (getpid (), PROC_PIDLISTFDS, 0, buffer, sizeof (buffer));\n+\n+    if (buffer_size > 0 &&\n+        sizeof (buffer) >= (size_t) buffer_size &&\n+        (buffer_size % PROC_PIDLISTFD_SIZE) == 0)\n+      {\n+        const struct proc_fdinfo *fd_info = (const struct proc_fdinfo *) buffer;\n+        size_t number_of_fds = (size_t) buffer_size \/ PROC_PIDLISTFD_SIZE;\n+\n+        for (size_t i = 0; i < number_of_fds; i++)\n+          if ((res = cb (data, fd_info[i].proc_fd)) != 0)\n+            break;\n+\n+        return res;\n+      }\n+  }\n+#endif\n+\n@@ -1524,1 +1592,0 @@\n-#endif\n@@ -1527,1 +1594,0 @@\n-#endif\n@@ -1535,0 +1601,2 @@\n+  int ret;\n+\n@@ -1546,1 +1614,1 @@\n-  int ret = close_range (lowfd, G_MAXUINT, CLOSE_RANGE_CLOEXEC);\n+  ret = close_range (lowfd, G_MAXUINT, CLOSE_RANGE_CLOEXEC);\n@@ -1550,1 +1618,4 @@\n-  return safe_fdwalk (set_cloexec, GINT_TO_POINTER (lowfd));\n+\n+  ret = safe_fdwalk (set_cloexec, GINT_TO_POINTER (lowfd));\n+\n+  return ret;\n@@ -1560,0 +1631,14 @@\n+  int ret;\n+\n+#if defined(HAVE_CLOSE_RANGE)\n+  \/* close_range() is available in Linux since kernel 5.9, and on FreeBSD at\n+   * around the same time. It was designed for use in async-signal-safe\n+   * situations: https:\/\/bugs.python.org\/issue38061\n+   *\n+   * Handle ENOSYS in case it’s supported in libc but not the kernel; if so,\n+   * fall back to safe_fdwalk(). *\/\n+  ret = close_range (lowfd, G_MAXUINT, 0);\n+  if (ret == 0 || errno != ENOSYS)\n+    return ret;\n+#endif  \/* HAVE_CLOSE_RANGE *\/\n+\n@@ -1591,0 +1676,1 @@\n+  ret = safe_fdwalk (close_func_with_invalid_fds, GINT_TO_POINTER (lowfd));\n@@ -1592,12 +1678,1 @@\n-#if defined(HAVE_CLOSE_RANGE)\n-  \/* close_range() is available in Linux since kernel 5.9, and on FreeBSD at\n-   * around the same time. It was designed for use in async-signal-safe\n-   * situations: https:\/\/bugs.python.org\/issue38061\n-   *\n-   * Handle ENOSYS in case it’s supported in libc but not the kernel; if so,\n-   * fall back to safe_fdwalk(). *\/\n-  int ret = close_range (lowfd, G_MAXUINT, 0);\n-  if (ret == 0 || errno != ENOSYS)\n-    return ret;\n-#endif  \/* HAVE_CLOSE_RANGE *\/\n-  return safe_fdwalk (close_func, GINT_TO_POINTER (lowfd));\n+  return ret;\n@@ -1621,0 +1696,24 @@\n+\/* This function is called between fork() and exec() and hence must be\n+ * async-signal-safe (see signal-safety(7)). *\/\n+static gboolean\n+relocate_fd_out_of_standard_range (gint *fd)\n+{\n+  gint ret = -1;\n+  const int min_fileno = STDERR_FILENO + 1;\n+\n+  do\n+    ret = fcntl (*fd, F_DUPFD, min_fileno);\n+  while (ret < 0 && errno == EINTR);\n+\n+  \/* Note we don't need to close the old fd, because the caller is expected\n+   * to close fds in the standard range itself.\n+   *\/\n+  if (ret >= min_fileno)\n+    {\n+      *fd = ret;\n+      return TRUE;\n+    }\n+\n+  return FALSE;\n+}\n+\n@@ -1640,1 +1739,1 @@\n-  CHILD_DUP2_FAILED,\n+  CHILD_DUPFD_FAILED,\n@@ -1680,2 +1779,29 @@\n-  \/* Redirect pipes as required *\/\n-  if (stdin_fd >= 0)\n+  \/* It's possible the caller assigned stdin to an fd with a\n+   * file number that is supposed to be reserved for\n+   * stdout or stderr.\n+   *\n+   * If so, move it up out of the standard range, so it doesn't\n+   * cause a conflict.\n+   *\/\n+  if (IS_STD_FILENO (stdin_fd) && stdin_fd != STDIN_FILENO)\n+    {\n+      int old_fd = stdin_fd;\n+\n+      if (!relocate_fd_out_of_standard_range (&stdin_fd))\n+        write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n+\n+      if (stdout_fd == old_fd)\n+        stdout_fd = stdin_fd;\n+\n+      if (stderr_fd == old_fd)\n+        stderr_fd = stdin_fd;\n+    }\n+\n+  \/* Redirect pipes as required\n+   *\n+   * There are two cases where we don't need to do the redirection\n+   * 1. Where the associated file descriptor is cleared\/invalid\n+   * 2. When the associated file descriptor is already given the\n+   * correct file number.\n+   *\/\n+  if (IS_VALID_FILENO (stdin_fd) && stdin_fd != STDIN_FILENO)\n@@ -1685,1 +1811,1 @@\n-                            CHILD_DUP2_FAILED);\n+                            CHILD_DUPFD_FAILED);\n@@ -1687,3 +1813,1 @@\n-      if (!((stdout_fd >= 0 || stdout_to_null) && stdin_fd == 1) &&\n-          !((stderr_fd >= 0 || stderr_to_null) && stdin_fd == 2))\n-        set_cloexec (GINT_TO_POINTER(0), stdin_fd);\n+      set_cloexec (GINT_TO_POINTER(0), stdin_fd);\n@@ -1700,1 +1824,1 @@\n-                            CHILD_DUP2_FAILED);\n+                            CHILD_DUPFD_FAILED);\n@@ -1704,1 +1828,18 @@\n-  if (stdout_fd >= 0)\n+  \/* Like with stdin above, it's possible the caller assigned\n+   * stdout to an fd with a file number that's intruding on the\n+   * standard range.\n+   *\n+   * If so, move it out of the way, too.\n+   *\/\n+  if (IS_STD_FILENO (stdout_fd) && stdout_fd != STDOUT_FILENO)\n+    {\n+      int old_fd = stdout_fd;\n+\n+      if (!relocate_fd_out_of_standard_range (&stdout_fd))\n+        write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n+\n+      if (stderr_fd == old_fd)\n+        stderr_fd = stdout_fd;\n+    }\n+\n+  if (IS_VALID_FILENO (stdout_fd) && stdout_fd != STDOUT_FILENO)\n@@ -1708,1 +1849,1 @@\n-                            CHILD_DUP2_FAILED);\n+                            CHILD_DUPFD_FAILED);\n@@ -1710,3 +1851,1 @@\n-      if (!((stdin_fd >= 0 || !child_inherits_stdin) && stdout_fd == 0) &&\n-          !((stderr_fd >= 0 || stderr_to_null) && stdout_fd == 2))\n-        set_cloexec (GINT_TO_POINTER(0), stdout_fd);\n+      set_cloexec (GINT_TO_POINTER(0), stdout_fd);\n@@ -1722,1 +1861,1 @@\n-                            CHILD_DUP2_FAILED);\n+                            CHILD_DUPFD_FAILED);\n@@ -1726,1 +1865,13 @@\n-  if (stderr_fd >= 0)\n+  if (IS_STD_FILENO (stderr_fd) && stderr_fd != STDERR_FILENO)\n+    {\n+      if (!relocate_fd_out_of_standard_range (&stderr_fd))\n+        write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n+    }\n+\n+  \/* Like with stdin\/stdout above, it's possible the caller assigned\n+   * stderr to an fd with a file number that's intruding on the\n+   * standard range.\n+   *\n+   * Make sure it's out of the way, also.\n+   *\/\n+  if (IS_VALID_FILENO (stderr_fd) && stderr_fd != STDERR_FILENO)\n@@ -1730,1 +1881,1 @@\n-                            CHILD_DUP2_FAILED);\n+                            CHILD_DUPFD_FAILED);\n@@ -1732,3 +1883,1 @@\n-      if (!((stdin_fd >= 0 || !child_inherits_stdin) && stderr_fd == 0) &&\n-          !((stdout_fd >= 0 || stdout_to_null) && stderr_fd == 1))\n-        set_cloexec (GINT_TO_POINTER(0), stderr_fd);\n+      set_cloexec (GINT_TO_POINTER(0), stderr_fd);\n@@ -1744,1 +1893,1 @@\n-                            CHILD_DUP2_FAILED);\n+                            CHILD_DUPFD_FAILED);\n@@ -1758,1 +1907,1 @@\n-            write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+            write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n@@ -1794,1 +1943,1 @@\n-          write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+          write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n@@ -1808,1 +1957,1 @@\n-                write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+                write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n@@ -1830,1 +1979,1 @@\n-                    write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+                    write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n@@ -1834,1 +1983,1 @@\n-                write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+                write_err_and_exit (child_err_report_fd, CHILD_DUPFD_FAILED);\n@@ -2200,0 +2349,3 @@\n+      if (_g_spawn_invalid_source_fd (stdin_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (stdin_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n@@ -2208,0 +2360,3 @@\n+      if (_g_spawn_invalid_source_fd (stdout_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (stdout_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n@@ -2216,0 +2371,3 @@\n+      if (_g_spawn_invalid_source_fd (stderr_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (stderr_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n@@ -2357,2 +2515,2 @@\n-\n-  if (intermediate_child && !g_unix_open_pipe (child_pid_report_pipe, pipe_flags, error))\n+  if (_g_spawn_invalid_source_fd (child_err_report_pipe[0], source_fds, n_fds, error) ||\n+      _g_spawn_invalid_source_fd (child_err_report_pipe[1], source_fds, n_fds, error))\n@@ -2361,0 +2519,9 @@\n+  if (intermediate_child)\n+    {\n+      if (!g_unix_open_pipe (child_pid_report_pipe, pipe_flags, error))\n+        goto cleanup_and_fail;\n+      if (_g_spawn_invalid_source_fd (child_pid_report_pipe[0], source_fds, n_fds, error) ||\n+          _g_spawn_invalid_source_fd (child_pid_report_pipe[1], source_fds, n_fds, error))\n+        goto cleanup_and_fail;\n+    }\n+\n@@ -2554,1 +2721,1 @@\n-            case CHILD_DUP2_FAILED:\n+            case CHILD_DUPFD_FAILED:\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn.c","additions":308,"deletions":141,"binary":false,"changes":449,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -105,1 +107,1 @@\n- * @user_data: (closure): user data to pass to the function.\n+ * @data: user data passed to the function.\n@@ -138,1 +140,1 @@\n-typedef void (* GSpawnChildSetupFunc) (gpointer user_data);\n+typedef void (* GSpawnChildSetupFunc) (gpointer data);\n@@ -165,0 +167,6 @@\n+ * @G_SPAWN_CHILD_INHERITS_STDOUT: the child will inherit the parent's standard output.\n+ *     Since: 2.74\n+ * @G_SPAWN_CHILD_INHERITS_STDERR: the child will inherit the parent's standard error.\n+ *     Since: 2.74\n+ * @G_SPAWN_STDIN_FROM_DEV_NULL: the child's standard input is attached to `\/dev\/null`.\n+ *     Since: 2.74\n@@ -181,1 +189,28 @@\n-  G_SPAWN_CLOEXEC_PIPES          = 1 << 8\n+  G_SPAWN_CLOEXEC_PIPES          = 1 << 8,\n+\n+  \/**\n+   * G_SPAWN_CHILD_INHERITS_STDOUT:\n+   *\n+   * The child will inherit the parent's standard output.\n+   *\n+   * Since: 2.74\n+   *\/\n+  G_SPAWN_CHILD_INHERITS_STDOUT  = 1 << 9,\n+\n+  \/**\n+   * G_SPAWN_CHILD_INHERITS_STDERR:\n+   *\n+   * The child will inherit the parent's standard error.\n+   *\n+   * Since: 2.74\n+   *\/\n+  G_SPAWN_CHILD_INHERITS_STDERR  = 1 << 10,\n+\n+  \/**\n+   * G_SPAWN_STDIN_FROM_DEV_NULL:\n+   *\n+   * The child's standard input is attached to `\/dev\/null`.\n+   *\n+   * Since: 2.74\n+   *\/\n+  G_SPAWN_STDIN_FROM_DEV_NULL    = 1 << 11\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn.h","additions":38,"deletions":3,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstdio-private.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -320,0 +322,2 @@\n+  gint32 nsec;\n+\n@@ -332,3 +336,6 @@\n-  buf->st_ctim.tv_sec = _g_win32_filetime_to_unix_time (&handle_info->ftCreationTime, &buf->st_ctim.tv_nsec);\n-  buf->st_mtim.tv_sec = _g_win32_filetime_to_unix_time (&handle_info->ftLastWriteTime, &buf->st_mtim.tv_nsec);\n-  buf->st_atim.tv_sec = _g_win32_filetime_to_unix_time (&handle_info->ftLastAccessTime, &buf->st_atim.tv_nsec);\n+  buf->st_ctim.tv_sec = _g_win32_filetime_to_unix_time (&handle_info->ftCreationTime, &nsec);\n+  buf->st_ctim.tv_nsec = nsec;\n+  buf->st_mtim.tv_sec = _g_win32_filetime_to_unix_time (&handle_info->ftLastWriteTime, &nsec);\n+  buf->st_mtim.tv_nsec = nsec;\n+  buf->st_atim.tv_sec = _g_win32_filetime_to_unix_time (&handle_info->ftLastAccessTime, &nsec);\n+  buf->st_atim.tv_nsec = nsec;\n@@ -1745,1 +1752,1 @@\n- * This wraps the close() call; in case of error, %errno will be\n+ * This wraps the close() call. In case of error, %errno will be\n@@ -1747,0 +1754,1 @@\n+ * In case of success, %errno is undefined.\n@@ -1753,0 +1761,9 @@\n+ * It is a bug to call this function with an invalid file descriptor.\n+ *\n+ * On POSIX platforms since GLib 2.76, this function is async-signal safe\n+ * if (and only if) @error is %NULL and @fd is a valid open file descriptor.\n+ * This makes it safe to call from a signal handler or a #GSpawnChildSetupFunc\n+ * under those conditions.\n+ * See [`signal(7)`](man:signal(7)) and\n+ * [`signal-safety(7)`](man:signal-safety(7)) for more details.\n+ *\n@@ -1762,9 +1779,3 @@\n-  res = close (fd);\n-  \/* Just ignore EINTR for now; a retry loop is the wrong thing to do\n-   * on Linux at least.  Anyone who wants to add a conditional check\n-   * for e.g. HP-UX is welcome to do so later...\n-   *\n-   * http:\/\/lkml.indiana.edu\/hypermail\/linux\/kernel\/0509.1\/0877.html\n-   * https:\/\/bugzilla.gnome.org\/show_bug.cgi?id=682819\n-   * http:\/\/utcc.utoronto.ca\/~cks\/space\/blog\/unix\/CloseEINTR\n-   * https:\/\/sites.google.com\/site\/michaelsafyan\/software-engineering\/checkforeintrwheninvokingclosethinkagain\n+\n+  \/* Important: if @error is NULL, we must not do anything that is\n+   * not async-signal-safe.\n@@ -1772,3 +1783,3 @@\n-  if (G_UNLIKELY (res == -1 && errno == EINTR))\n-    return TRUE;\n-  else if (res == -1)\n+  res = close (fd);\n+\n+  if (res == -1)\n@@ -1777,3 +1788,48 @@\n-      g_set_error_literal (error, G_FILE_ERROR,\n-                           g_file_error_from_errno (errsv),\n-                           g_strerror (errsv));\n+\n+      if (errsv == EINTR)\n+        {\n+          \/* Just ignore EINTR for now; a retry loop is the wrong thing to do\n+           * on Linux at least.  Anyone who wants to add a conditional check\n+           * for e.g. HP-UX is welcome to do so later...\n+           *\n+           * close_func_with_invalid_fds() in gspawn.c has similar logic.\n+           *\n+           * https:\/\/lwn.net\/Articles\/576478\/\n+           * http:\/\/lkml.indiana.edu\/hypermail\/linux\/kernel\/0509.1\/0877.html\n+           * https:\/\/bugzilla.gnome.org\/show_bug.cgi?id=682819\n+           * http:\/\/utcc.utoronto.ca\/~cks\/space\/blog\/unix\/CloseEINTR\n+           * https:\/\/sites.google.com\/site\/michaelsafyan\/software-engineering\/checkforeintrwheninvokingclosethinkagain\n+           *\n+           * `close$NOCANCEL()` in gstdioprivate.h, on macOS, ensures that the fd is\n+           * closed even if it did return EINTR.\n+           *\/\n+          return TRUE;\n+        }\n+\n+      if (error)\n+        {\n+          g_set_error_literal (error, G_FILE_ERROR,\n+                               g_file_error_from_errno (errsv),\n+                               g_strerror (errsv));\n+        }\n+\n+      if (errsv == EBADF)\n+        {\n+          \/* There is a bug. Fail an assertion. Note that this function is supposed to be\n+           * async-signal-safe, but in case an assertion fails, all bets are already off. *\/\n+          if (fd >= 0)\n+            {\n+              \/* Closing an non-negative, invalid file descriptor is a bug. The bug is\n+               * not necessarily in the caller of g_close(), but somebody else\n+               * might have wrongly closed fd. In any case, there is a serious bug\n+               * somewhere. *\/\n+              g_critical (\"g_close(fd:%d) failed with EBADF. The tracking of file descriptors got messed up\", fd);\n+            }\n+          else\n+            {\n+              \/* Closing a negative \"file descriptor\" is less problematic. It's still a nonsensical action\n+               * from the caller. Assert against that too. *\/\n+              g_critical (\"g_close(fd:%d) failed with EBADF. This is not a valid file descriptor\", fd);\n+            }\n+        }\n+\n@@ -1781,0 +1837,1 @@\n+\n@@ -1783,0 +1840,1 @@\n+\n@@ -1785,0 +1843,115 @@\n+\n+\/**\n+ * g_clear_fd: (skip)\n+ * @fd_ptr: (not optional) (inout) (transfer full): a pointer to a file descriptor\n+ * @error: Used to return an error on failure\n+ *\n+ * If @fd_ptr points to a file descriptor, close it and return\n+ * whether closing it was successful, like g_close().\n+ * If @fd_ptr points to a negative number, return %TRUE without closing\n+ * anything.\n+ * In both cases, set @fd_ptr to `-1` before returning.\n+ *\n+ * Like g_close(), if closing the file descriptor fails, the error is\n+ * stored in both %errno and @error. If this function succeeds,\n+ * %errno is undefined.\n+ *\n+ * On POSIX platforms, this function is async-signal safe\n+ * if @error is %NULL and @fd_ptr points to either a negative number or a\n+ * valid open file descriptor.\n+ * This makes it safe to call from a signal handler or a #GSpawnChildSetupFunc\n+ * under those conditions.\n+ * See [`signal(7)`](man:signal(7)) and\n+ * [`signal-safety(7)`](man:signal-safety(7)) for more details.\n+ *\n+ * It is a programming error for @fd_ptr to point to a non-negative\n+ * number that is not a valid file descriptor.\n+ *\n+ * A typical use of this function is to clean up a file descriptor at\n+ * the end of its scope, whether it has been set successfully or not:\n+ *\n+ * |[\n+ * gboolean\n+ * operate_on_fd (GError **error)\n+ * {\n+ *   gboolean ret = FALSE;\n+ *   int fd = -1;\n+ *\n+ *   fd = open_a_fd (error);\n+ *\n+ *   if (fd < 0)\n+ *     goto out;\n+ *\n+ *   if (!do_something (fd, error))\n+ *     goto out;\n+ *\n+ *   if (!g_clear_fd (&fd, error))\n+ *     goto out;\n+ *\n+ *   ret = TRUE;\n+ *\n+ * out:\n+ *   \/\/ OK to call even if fd was never opened or was already closed\n+ *   g_clear_fd (&fd, NULL);\n+ *   return ret;\n+ * }\n+ * ]|\n+ *\n+ * This function is also useful in conjunction with #g_autofd.\n+ *\n+ * Returns: %TRUE on success\n+ * Since: 2.76\n+ *\/\n+\n+\/**\n+ * g_autofd: (skip)\n+ *\n+ * Macro to add an attribute to a file descriptor variable to ensure\n+ * automatic cleanup using g_clear_fd().\n+ *\n+ * This macro behaves like #g_autofree rather than g_autoptr(): it is\n+ * an attribute supplied before the type name, rather than wrapping the\n+ * type definition.\n+ *\n+ * Otherwise, this macro has similar constraints as g_autoptr(): it is\n+ * only supported on GCC and clang, and the variable must be initialized\n+ * (to either a valid file descriptor or a negative number).\n+ *\n+ * Using this macro is async-signal-safe if the constraints described above\n+ * are met, so it can be used in a signal handler or after `fork()`.\n+ *\n+ * Any error from closing the file descriptor when it goes out of scope\n+ * is ignored. Use g_clear_fd() if error-checking is required.\n+ *\n+ * |[\n+ * gboolean\n+ * operate_on_fds (GError **error)\n+ * {\n+ *   g_autofd int fd1 = open_a_fd (..., error);\n+ *   g_autofd int fd2 = -1;\n+ *\n+ *   \/\/ it is safe to return early here, nothing will be closed\n+ *   if (fd1 < 0)\n+ *     return FALSE;\n+ *\n+ *   fd2 = open_a_fd (..., error);\n+ *\n+ *   \/\/ fd1 will be closed automatically if we return here\n+ *   if (fd2 < 0)\n+ *     return FALSE;\n+ *\n+ *   \/\/ fd1 and fd2 will be closed automatically if we return here\n+ *   if (!do_something_useful (fd1, fd2, error))\n+ *     return FALSE;\n+ *\n+ *   \/\/ fd2 will be closed automatically if we return here\n+ *   if (!g_clear_fd (&fd1, error))\n+ *     return FALSE;\n+ *\n+ *   \/\/ fd2 will be automatically closed here if still open\n+ *   return TRUE;\n+ * }\n+ * ]|\n+ *\n+ * Since: 2.76\n+ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstdio.c","additions":192,"deletions":19,"binary":false,"changes":211,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -24,0 +26,1 @@\n+#include <errno.h>\n@@ -179,0 +182,47 @@\n+GLIB_AVAILABLE_STATIC_INLINE_IN_2_76\n+static inline gboolean\n+g_clear_fd (int     *fd_ptr,\n+            GError **error)\n+{\n+  int fd = *fd_ptr;\n+\n+  *fd_ptr = -1;\n+\n+  if (fd < 0)\n+    return TRUE;\n+\n+  \/* Suppress \"Not available before\" warning *\/\n+  G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n+  return g_close (fd, error);\n+  G_GNUC_END_IGNORE_DEPRECATIONS\n+}\n+\n+\/* g_autofd should be defined on the same compilers where g_autofree is\n+ * This avoids duplicating the feature-detection here. *\/\n+#ifdef g_autofree\n+#ifndef __GTK_DOC_IGNORE__\n+\/* Not public API *\/\n+static inline void\n+_g_clear_fd_ignore_error (int *fd_ptr)\n+{\n+  \/* Don't overwrite thread-local errno if closing the fd fails *\/\n+  int errsv = errno;\n+\n+  \/* Suppress \"Not available before\" warning *\/\n+  G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n+\n+  if (!g_clear_fd (fd_ptr, NULL))\n+    {\n+      \/* Do nothing: we ignore all errors, except for EBADF which\n+       * is a programming error, checked for by g_close(). *\/\n+    }\n+\n+  G_GNUC_END_IGNORE_DEPRECATIONS\n+\n+  errno = errsv;\n+}\n+#endif\n+\n+#define g_autofd _GLIB_CLEANUP(_g_clear_fd_ignore_error) GLIB_AVAILABLE_MACRO_IN_2_76\n+#endif\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstdio.h","additions":50,"deletions":0,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -69,1 +71,30 @@\n-\n+\/* The POSIX standard specifies that if close() fails with EINTR the\n+ * file descriptor may or may not be in fact closed. Since another\n+ * thread might have already reused the FD if it was in fact closed\n+ * either a test of FD to ensure that it's closed nor a second\n+ * call to close() may indicate the wrong FD, so the error must be\n+ * ignored.\n+ *\n+ * However, since Mac OS X 10.5 (Leopard) Apple provdes a hidden\n+ * implementation of close that doesn't allow another thread\n+ * to cancel the close so it never fails with EINTR.\n+ *\n+ * The official way to enable this is to set __DARWIN_NON_CANCELABLE\n+ * in the build, but that applies to all system calls, not just\n+ * close(). Following Chromium's example (see\n+ * https:\/\/chromium.googlesource.com\/chromium\/src\/base\/+\/refs\/heads\/main\/mac\/close_nocancel.cc )\n+ * we choose to expose and use the hidden close variant only.\n+ *\/\n+#ifdef __APPLE__\n+#include <sys\/cdefs.h>\n+#include <unistd.h>\n+# if !__DARWIN_NON_CANCELABLE\n+#  if !__DARWIN_ONLY_UNIX_CONFORMANCE\n+#   define close close$NOCANCEL$UNIX2003\n+int close$NOCANCEL$UNIX2003 (int fd);\n+#  else\n+#   define close close$NOCANCEL\n+int close$NOCANCEL (int fd);\n+#  endif\n+# endif\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstdioprivate.h","additions":32,"deletions":1,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -353,1 +355,1 @@\n-g_strdup (const gchar *str)\n+(g_strdup) (const gchar *str)\n@@ -358,1 +360,1 @@\n-  if (str)\n+  if G_LIKELY (str)\n@@ -496,4 +498,4 @@\n- * Copies a nul-terminated string into the dest buffer, include the\n- * trailing nul, and return a pointer to the trailing nul byte.\n- * This is useful for concatenating multiple strings together\n- * without having to repeatedly scan for the end.\n+ * Copies a nul-terminated string into the destination buffer, including\n+ * the trailing nul byte, and returns a pointer to the trailing nul byte\n+ * in `dest`.  The return value is useful for concatenating multiple\n+ * strings without having to repeatedly scan for the end.\n@@ -501,1 +503,1 @@\n- * Returns: a pointer to trailing nul byte.\n+ * Returns: a pointer to the trailing nul byte in `dest`.\n@@ -1336,1 +1338,1 @@\n- *     is unknown, it returns a string like \"unknown error (<code>)\".\n+ *     is unknown, it returns a string like \"Unknown error: <code>\".\n@@ -1359,0 +1361,3 @@\n+#if defined(HAVE_STRERROR_R) && !defined(STRERROR_R_CHAR_P)\n+      int ret;\n+#endif\n@@ -1368,2 +1373,3 @@\n-      (void) strerror_r (errnum, buf, sizeof (buf));\n-      msg = buf;\n+      ret = strerror_r (errnum, buf, sizeof (buf));\n+      if (ret == 0 || ret == EINVAL)\n+        msg = buf;\n@@ -1375,0 +1381,9 @@\n+\n+      if (!msg)\n+        {\n+          G_UNLOCK (errors);\n+\n+          errno = saved_errno;\n+          return NULL;\n+        }\n+\n@@ -1379,1 +1394,4 @@\n-            g_print (\"%s\\n\", error->message);\n+            {\n+              g_print (\"%s\\n\", error->message);\n+              g_error_free (error);\n+            }\n@@ -2418,2 +2436,2 @@\n- * Returns: a newly-allocated %NULL-terminated array of strings. Use\n- *    g_strfreev() to free it.\n+ * Returns: (transfer full): a newly-allocated %NULL-terminated array of\n+ *    strings. Use g_strfreev() to free it.\n@@ -2435,1 +2453,8 @@\n-    max_tokens = G_MAXINT;\n+    {\n+      max_tokens = G_MAXINT;\n+      string_list = g_ptr_array_new ();\n+    }\n+  else\n+    {\n+      string_list = g_ptr_array_new_full (max_tokens + 1, NULL);\n+    }\n@@ -2437,1 +2462,0 @@\n-  string_list = g_ptr_array_new ();\n@@ -2493,2 +2517,2 @@\n- * Returns: a newly-allocated %NULL-terminated array of strings. Use\n- *    g_strfreev() to free it.\n+ * Returns: (transfer full): a newly-allocated %NULL-terminated array of\n+ *    strings. Use g_strfreev() to free it.\n@@ -2769,1 +2793,1 @@\n- * to @haystack_len.\n+ * to @haystack_len or a nul terminator byte (whichever is reached first).\n@@ -2932,3 +2956,2 @@\n-gboolean\n-g_str_has_suffix (const gchar *str,\n-                  const gchar *suffix)\n+gboolean (g_str_has_suffix) (const gchar *str,\n+                             const gchar *suffix)\n@@ -2962,3 +2985,2 @@\n-gboolean\n-g_str_has_prefix (const gchar *str,\n-                  const gchar *prefix)\n+gboolean (g_str_has_prefix) (const gchar *str,\n+                             const gchar *prefix)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstrfuncs.c","additions":46,"deletions":24,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -33,0 +35,2 @@\n+#include <string.h>\n+\n@@ -36,0 +40,1 @@\n+#include <glib\/gmem.h>\n@@ -138,2 +143,2 @@\n-gboolean              g_str_has_suffix (const gchar  *str,\n-                                        const gchar  *suffix);\n+gboolean             (g_str_has_suffix) (const gchar *str,\n+                                         const gchar *suffix);\n@@ -141,2 +146,64 @@\n-gboolean              g_str_has_prefix (const gchar  *str,\n-                                        const gchar  *prefix);\n+gboolean             (g_str_has_prefix) (const gchar *str,\n+                                         const gchar *prefix);\n+\n+#if G_GNUC_CHECK_VERSION (2, 0)\n+#ifndef __GTK_DOC_IGNORE__\n+#ifndef __GI_SCANNER__\n+\n+\/* This macro is defeat a false -Wnonnull warning in GCC.\n+ * Without it, it thinks strlen and memcmp may be getting passed NULL\n+ * despite the explicit check for NULL right above the calls.\n+ *\/\n+#define _G_STR_NONNULL(x) ((x) + !(x))\n+\n+#define g_str_has_prefix(STR, PREFIX)                                         \\\n+  (__builtin_constant_p (PREFIX)?                                             \\\n+    G_GNUC_EXTENSION ({                                                       \\\n+       const char * const __str = (STR);                                      \\\n+       const char * const __prefix = (PREFIX);                                \\\n+       gboolean __result = FALSE;                                             \\\n+                                                                              \\\n+       if G_UNLIKELY (__str == NULL || __prefix == NULL)                      \\\n+           __result = (g_str_has_prefix) (__str, __prefix);                   \\\n+       else                                                                   \\\n+         {                                                                    \\\n+            const size_t __str_len = strlen (_G_STR_NONNULL (__str));         \\\n+            const size_t __prefix_len = strlen (_G_STR_NONNULL (__prefix));   \\\n+            if (__str_len >= __prefix_len)                                    \\\n+              __result = memcmp (_G_STR_NONNULL (__str),                      \\\n+                                 _G_STR_NONNULL (__prefix),                   \\\n+                                 __prefix_len) == 0;                          \\\n+         }                                                                    \\\n+         __result;                                                            \\\n+    })                                                                        \\\n+  :                                                                           \\\n+    (g_str_has_prefix) (STR, PREFIX)                                          \\\n+  )\n+\n+#define g_str_has_suffix(STR, SUFFIX)                                         \\\n+  (__builtin_constant_p (SUFFIX)?                                             \\\n+    G_GNUC_EXTENSION ({                                                       \\\n+       const char * const __str = (STR);                                      \\\n+       const char * const __suffix = (SUFFIX);                                \\\n+       gboolean __result = FALSE;                                             \\\n+                                                                              \\\n+       if G_UNLIKELY (__str == NULL || __suffix == NULL)                      \\\n+         __result = (g_str_has_suffix) (__str, __suffix);                     \\\n+       else                                                                   \\\n+         {                                                                    \\\n+            const size_t __str_len = strlen (_G_STR_NONNULL (__str));         \\\n+            const size_t __suffix_len = strlen (_G_STR_NONNULL (__suffix));   \\\n+            if (__str_len >= __suffix_len)                                    \\\n+              __result = memcmp (__str + __str_len - __suffix_len,            \\\n+                                 _G_STR_NONNULL (__suffix),                   \\\n+                                 __suffix_len) == 0;                          \\\n+         }                                                                    \\\n+         __result;                                                            \\\n+    })                                                                        \\\n+  :                                                                           \\\n+    (g_str_has_suffix) (STR, SUFFIX)                                          \\\n+  )\n+\n+#endif \/* !defined (__GI_SCANNER__) *\/\n+#endif \/* !defined (__GTK_DOC_IGNORE__) *\/\n+#endif \/* G_GNUC_CHECK_VERSION (2, 0) *\/\n@@ -237,0 +304,26 @@\n+#if G_GNUC_CHECK_VERSION(2, 0)\n+#ifndef __GTK_DOC_IGNORE__\n+#ifndef __GI_SCANNER__\n+\n+G_ALWAYS_INLINE static inline char *\n+g_strdup_inline (const char *str)\n+{\n+  if (__builtin_constant_p (!str) && !str)\n+    return NULL;\n+\n+  if (__builtin_constant_p (!!str) && !!str && __builtin_constant_p (strlen (str)))\n+    {\n+      const size_t len = strlen (str) + 1;\n+      char *dup_str = (char *) g_malloc (len);\n+      return (char *) memcpy (dup_str, str, len);\n+    }\n+\n+  return g_strdup (str);\n+}\n+\n+#define g_strdup(x) g_strdup_inline (x)\n+\n+#endif \/* !defined (__GI_SCANNER__) *\/\n+#endif \/* !defined (__GTK_DOC_IGNORE__) *\/\n+#endif \/* G_GNUC_CHECK_VERSION (2, 0) *\/\n+\n@@ -364,0 +457,45 @@\n+\/**\n+ * g_set_str: (skip)\n+ * @str_pointer: (inout) (not optional) (nullable): a pointer to either a string or %NULL\n+ * @new_str: (nullable): a string to assign to @str_pointer, or %NULL\n+ *\n+ * Updates a pointer to a string to a copy of @new_str. The previous string\n+ * pointed to by @str_pointer will be freed with g_free().\n+ *\n+ * @str_pointer must not be %NULL, but can point to a %NULL value.\n+ *\n+ * One convenient usage of this function is in implementing property settings:\n+ * |[\n+ *   void\n+ *   foo_set_bar (Foo        *foo,\n+ *                const char *new_bar)\n+ *   {\n+ *     g_return_if_fail (IS_FOO (foo));\n+ *\n+ *     if (g_set_str (&foo->bar, new_bar))\n+ *       g_object_notify (foo, \"bar\");\n+ *   }\n+ * ]|\n+ *\n+ * Returns: %TRUE if the value of @str_pointer changed, %FALSE otherwise\n+ *\n+ * Since: 2.76\n+ *\/\n+GLIB_AVAILABLE_STATIC_INLINE_IN_2_76\n+static inline gboolean\n+g_set_str (char       **str_pointer,\n+           const char  *new_str)\n+{\n+  char *copy;\n+\n+  if (*str_pointer == new_str ||\n+      (*str_pointer && new_str && strcmp (*str_pointer, new_str) == 0))\n+    return FALSE;\n+\n+  copy = g_strdup (new_str);\n+  g_free (*str_pointer);\n+  *str_pointer = copy;\n+\n+  return TRUE;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstrfuncs.h","additions":142,"deletions":4,"binary":false,"changes":146,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -76,2 +78,2 @@\n-g_string_maybe_expand (GString *string,\n-                       gsize    len)\n+g_string_expand (GString *string,\n+                 gsize    len)\n@@ -83,9 +85,16 @@\n-  if (string->len + len >= string->allocated_len)\n-    {\n-      string->allocated_len = g_nearest_pow (string->len + len + 1);\n-      \/* If the new size is bigger than G_MAXSIZE \/ 2, only allocate enough\n-       * memory for this string and don't over-allocate. *\/\n-      if (string->allocated_len == 0)\n-        string->allocated_len = string->len + len + 1;\n-      string->str = g_realloc (string->str, string->allocated_len);\n-    }\n+  string->allocated_len = g_nearest_pow (string->len + len + 1);\n+  \/* If the new size is bigger than G_MAXSIZE \/ 2, only allocate enough\n+   * memory for this string and don't over-allocate.\n+   *\/\n+  if (string->allocated_len == 0)\n+    string->allocated_len = string->len + len + 1;\n+\n+  string->str = g_realloc (string->str, string->allocated_len);\n+}\n+\n+static inline void\n+g_string_maybe_expand (GString *string,\n+                       gsize    len)\n+{\n+  if (G_UNLIKELY (string->len + len >= string->allocated_len))\n+    g_string_expand (string, len);\n@@ -119,1 +128,1 @@\n-  g_string_maybe_expand (string, MAX (dfl_size, 64));\n+  g_string_expand (string, MAX (dfl_size, 64));\n@@ -154,0 +163,35 @@\n+\/**\n+ * g_string_new_take: (constructor)\n+ * @init: (nullable) (transfer full): initial text used as the string.\n+ *     Ownership of the string is transferred to the #GString.\n+ *     Passing %NULL creates an empty string.\n+ *\n+ * Creates a new #GString, initialized with the given string.\n+ *\n+ * After this call, @init belongs to the #GString and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n+ *\n+ * Returns: (transfer full): the new #GString\n+ *\n+ * Since: 2.78\n+ *\/\n+GString *\n+g_string_new_take (gchar *init)\n+{\n+  GString *string;\n+\n+  if (init == NULL)\n+    {\n+      return g_string_new (NULL);\n+    }\n+\n+  string = g_slice_new (GString);\n+\n+  string->str = init;\n+  string->len = strlen (string->str);\n+  string->allocated_len = string->len + 1;\n+\n+  return string;\n+}\n+\n@@ -198,0 +242,3 @@\n+ * Instead of passing %FALSE to this function, consider using\n+ * g_string_free_and_steal().\n+ *\n@@ -202,2 +249,2 @@\n-g_string_free (GString  *string,\n-               gboolean  free_segment)\n+(g_string_free) (GString  *string,\n+                 gboolean  free_segment)\n@@ -222,0 +269,19 @@\n+\/**\n+ * g_string_free_and_steal:\n+ * @string: (transfer full): a #GString\n+ *\n+ * Frees the memory allocated for the #GString.\n+ *\n+ * The caller gains ownership of the buffer and\n+ * must free it after use with g_free().\n+ *\n+ * Returns: (transfer full): the character data of @string\n+ *\n+ * Since: 2.76\n+ *\/\n+gchar *\n+g_string_free_and_steal (GString *string)\n+{\n+  return (g_string_free) (string, FALSE);\n+}\n+\n@@ -357,2 +423,2 @@\n-g_string_truncate (GString *string,\n-                   gsize    len)\n+(g_string_truncate) (GString *string,\n+                     gsize    len)\n@@ -538,2 +604,2 @@\n-g_string_append (GString     *string,\n-                 const gchar *val)\n+(g_string_append) (GString     *string,\n+                   const gchar *val)\n@@ -563,3 +629,3 @@\n-g_string_append_len (GString     *string,\n-                     const gchar *val,\n-                     gssize       len)\n+(g_string_append_len) (GString     *string,\n+                       const gchar *val,\n+                       gssize       len)\n@@ -580,1 +646,0 @@\n-#undef g_string_append_c\n@@ -582,2 +647,2 @@\n-g_string_append_c (GString *string,\n-                   gchar    c)\n+(g_string_append_c) (GString *string,\n+                     gchar    c)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstring.c","additions":89,"deletions":24,"binary":false,"changes":113,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -35,0 +37,1 @@\n+#include <glib\/gstrfuncs.h>\n@@ -36,0 +39,1 @@\n+#include <string.h>\n@@ -50,0 +54,2 @@\n+GLIB_AVAILABLE_IN_2_78\n+GString*     g_string_new_take          (gchar           *init);\n@@ -56,1 +62,1 @@\n-gchar*       g_string_free              (GString         *string,\n+gchar*      (g_string_free)             (GString         *string,\n@@ -58,0 +64,15 @@\n+GLIB_AVAILABLE_IN_2_76\n+gchar*       g_string_free_and_steal    (GString         *string) G_GNUC_WARN_UNUSED_RESULT;\n+\n+#if G_GNUC_CHECK_VERSION (2, 0) && (GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_76)\n+\n+#define g_string_free(str, free_segment)        \\\n+  (__builtin_constant_p (free_segment) ?        \\\n+    ((free_segment) ?                           \\\n+      (g_string_free) ((str), (free_segment)) : \\\n+      g_string_free_and_steal (str))            \\\n+    :                                           \\\n+    (g_string_free) ((str), (free_segment)))\n+\n+#endif \/* G_GNUC_CHECK_VERSION (2, 0) && (GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_76) *\/\n+\n@@ -163,1 +184,0 @@\n-\/* -- optimize g_strig_append_c --- *\/\n@@ -165,0 +185,9 @@\n+\n+#if defined (_MSC_VER) && !defined (__clang__)\n+#pragma warning (push)\n+#pragma warning (disable : 4141) \/* silence \"warning C4141: 'inline' used more than once\" *\/\n+#endif\n+\n+#ifndef __GTK_DOC_IGNORE__\n+\n+G_ALWAYS_INLINE\n@@ -169,1 +198,2 @@\n-  if (gstring->len + 1 < gstring->allocated_len)\n+  if (G_LIKELY (gstring != NULL &&\n+                gstring->len + 1 < gstring->allocated_len))\n@@ -178,2 +208,0 @@\n-#define g_string_append_c(gstr,c)       g_string_append_c_inline (gstr, c)\n-#endif \/* G_CAN_INLINE *\/\n@@ -181,0 +209,76 @@\n+#define g_string_append_c(gstr,c) \\\n+  g_string_append_c_inline (gstr, c)\n+\n+G_ALWAYS_INLINE\n+static inline GString *\n+g_string_append_len_inline (GString    *gstring,\n+                            const char *val,\n+                            gssize      len)\n+{\n+  gsize len_unsigned;\n+\n+  if G_UNLIKELY (gstring == NULL)\n+    return g_string_append_len (gstring, val, len);\n+\n+  if G_UNLIKELY (val == NULL)\n+    return (len != 0) ? g_string_append_len (gstring, val, len) : gstring;\n+\n+  if (len < 0)\n+    len_unsigned = strlen (val);\n+  else\n+    len_unsigned = (gsize) len;\n+\n+  if (G_LIKELY (gstring->len + len_unsigned < gstring->allocated_len))\n+    {\n+      char *end = gstring->str + gstring->len;\n+      if (G_LIKELY (val + len_unsigned <= end || val > end + len_unsigned))\n+        memcpy (end, val, len_unsigned);\n+      else\n+        memmove (end, val, len_unsigned);\n+      gstring->len += len_unsigned;\n+      gstring->str[gstring->len] = 0;\n+      return gstring;\n+    }\n+  else\n+    return g_string_insert_len (gstring, -1, val, len);\n+}\n+\n+#define g_string_append_len(gstr, val, len) \\\n+  g_string_append_len_inline (gstr, val, len)\n+\n+G_ALWAYS_INLINE\n+static inline GString *\n+g_string_truncate_inline (GString *gstring,\n+                          gsize    len)\n+{\n+  gstring->len = MIN (len, gstring->len);\n+  gstring->str[gstring->len] = '\\0';\n+  return gstring;\n+}\n+\n+#define g_string_truncate(gstr, len) \\\n+  g_string_truncate_inline (gstr, len)\n+\n+#if G_GNUC_CHECK_VERSION (2, 0)\n+\n+#define g_string_append(gstr, val)                  \\\n+  (__builtin_constant_p (val) ?                     \\\n+    G_GNUC_EXTENSION ({                             \\\n+      const char * const __val = (val);             \\\n+      g_string_append_len (gstr, __val,             \\\n+        G_LIKELY (__val != NULL) ?                  \\\n+          (gssize) strlen (_G_STR_NONNULL (__val))  \\\n+        : (gssize) -1);                             \\\n+    })                                              \\\n+    :                                               \\\n+    g_string_append_len (gstr, val, (gssize) -1))\n+\n+#endif \/* G_GNUC_CHECK_VERSION (2, 0) *\/\n+\n+#endif \/* __GTK_DOC_IGNORE__ *\/\n+\n+#if defined (_MSC_VER) && !defined (__clang__)\n+#pragma warning (pop) \/* #pragma warning (disable : 4141) *\/\n+#endif\n+\n+#endif \/* G_CAN_INLINE *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstring.h","additions":109,"deletions":5,"binary":false,"changes":114,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstringchunk.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstringchunk.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -34,0 +36,4 @@\n+#include <inttypes.h>\n+#ifdef HAVE_SYS_PRCTL_H\n+#include <sys\/prctl.h>\n+#endif\n@@ -59,0 +65,4 @@\n+#define TAP_VERSION G_STRINGIFY (13)\n+\/* FIXME: Remove '#' prefix when we'll depend on a meson version supporting TAP 14\n+ * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2885 *\/\n+#define TAP_SUBTEST_PREFIX \"#    \"  \/* a 4-space indented line *\/\n@@ -86,0 +96,2 @@\n+ *   g_test_init (&argc, &argv, G_TEST_OPTION_ISOLATE_DIRS, NULL);\n+ *\n@@ -91,0 +103,2 @@\n+ * g_test_init() should be called before calling any other test functions.\n+ *\n@@ -167,1 +181,1 @@\n- * ### Integrating GTest in your project\n+ * ## Integrating GTest in your project\n@@ -358,0 +372,1 @@\n+ * @G_TEST_SUBPROCESS_DEFAULT: Default behaviour. Since: 2.74\n@@ -845,1 +860,4 @@\n-\n+static void     g_test_tap_print                (unsigned    subtest_level,\n+                                                 gboolean    commented,\n+                                                 const char *format,\n+                                                 ...) G_GNUC_PRINTF (3, 4);\n@@ -866,0 +884,1 @@\n+static gchar      *test_run_name_path = \"\";\n@@ -900,0 +919,1 @@\n+static gboolean    test_is_subtest = FALSE;\n@@ -910,0 +930,10 @@\n+static GPrintFunc g_default_print_func = NULL;\n+\n+enum\n+{\n+  G_TEST_CASE_LARGS_RESULT = 0,\n+  G_TEST_CASE_LARGS_RUN_FORKS = 1,\n+  G_TEST_CASE_LARGS_EXECUTION_TIME = 2,\n+\n+  G_TEST_CASE_LARGS_MAX\n+};\n@@ -912,0 +942,80 @@\n+static inline gboolean\n+is_subtest (void)\n+{\n+  return test_is_subtest || test_in_forked_child || test_in_subprocess;\n+}\n+\n+static void\n+g_test_print_handler_full (const gchar *string,\n+                           gboolean     use_tap_format,\n+                           gboolean     is_tap_comment,\n+                           unsigned     subtest_level)\n+{\n+  g_assert (string != NULL);\n+\n+  if (G_LIKELY (use_tap_format) && strchr (string, '\\n') != NULL)\n+    {\n+      static gboolean last_had_final_newline = TRUE;\n+      GString *output = g_string_new_len (NULL, strlen (string) + 2);\n+      const char *line = string;\n+\n+      do\n+        {\n+          const char *next = strchr (line, '\\n');\n+\n+          if (last_had_final_newline && (next || *line != '\\0'))\n+            {\n+              for (unsigned l = 0; l < subtest_level; ++l)\n+                g_string_append (output, TAP_SUBTEST_PREFIX);\n+\n+              if G_LIKELY (is_tap_comment)\n+                g_string_append (output, \"# \");\n+            }\n+\n+          if (next)\n+            {\n+              next += 1; \/* Include the newline *\/\n+              g_string_append_len (output, line, next - line);\n+            }\n+          else\n+            {\n+              g_string_append (output, line);\n+              last_had_final_newline = (*line == '\\0');\n+            }\n+\n+          line = next;\n+        }\n+      while (line != NULL);\n+\n+      g_default_print_func (output->str);\n+      g_string_free (g_steal_pointer (&output), TRUE);\n+    }\n+  else\n+    {\n+      g_default_print_func (string);\n+    }\n+}\n+\n+static void\n+g_test_print_handler (const gchar *string)\n+{\n+  g_test_print_handler_full (string, test_tap_log, TRUE, is_subtest () ? 1 : 0);\n+}\n+\n+static void\n+g_test_tap_print (unsigned    subtest_level,\n+                  gboolean    commented,\n+                  const char *format,\n+                  ...)\n+{\n+  va_list args;\n+  char *string;\n+\n+  va_start (args, format);\n+  string = g_strdup_vprintf (format, args);\n+  va_end (args);\n+\n+  g_test_print_handler_full (string, TRUE, commented, subtest_level);\n+  g_free (string);\n+}\n+\n@@ -948,0 +1058,1 @@\n+      GString *output;\n@@ -955,1 +1066,2 @@\n-      g_printerr (\"{*LOG(%s)\", g_test_log_type_name (msg->log_type));\n+      output = g_string_new (NULL);\n+      g_string_printf (output, \"{*LOG(%s)\", g_test_log_type_name (msg->log_type));\n@@ -957,1 +1069,1 @@\n-        g_printerr (\":{%s}\", msg->strings[ui]);\n+        g_string_append_printf (output, \":{%s}\", msg->strings[ui]);\n@@ -960,1 +1072,1 @@\n-          g_printerr (\":(\");\n+          g_string_append (output, \":(\");\n@@ -964,1 +1076,1 @@\n-                g_printerr (\"%s%ld\", ui ? \";\" : \"\", (long) msg->nums[ui]);\n+                g_string_append_printf (output, \"%s%ld\", ui ? \";\" : \"\", (long) msg->nums[ui]);\n@@ -966,1 +1078,1 @@\n-                g_printerr (\"%s%.16g\", ui ? \";\" : \"\", (double) msg->nums[ui]);\n+                g_string_append_printf (output, \"%s%.16g\", ui ? \";\" : \"\", (double) msg->nums[ui]);\n@@ -968,1 +1080,1 @@\n-          g_printerr (\")\");\n+          g_string_append_c (output, ')');\n@@ -970,1 +1082,3 @@\n-      g_printerr (\":LOG*}\\n\");\n+      g_string_append (output, \":LOG*}\");\n+      g_printerr (\"%s\\n\", output->str);\n+      g_string_free (output, TRUE);\n@@ -988,0 +1102,11 @@\n+  unsigned subtest_level;\n+  gdouble timing;\n+\n+  if (g_once_init_enter (&g_default_print_func))\n+    {\n+      g_once_init_leave (&g_default_print_func,\n+                         g_set_print_handler (g_test_print_handler));\n+      g_assert_nonnull (g_default_print_func);\n+    }\n+\n+  subtest_level = is_subtest () ? 1 : 0;\n@@ -993,1 +1118,13 @@\n-        g_print (\"# random seed: %s\\n\", string2);\n+        {\n+          if (!is_subtest ())\n+            {\n+              g_test_tap_print (0, FALSE, \"TAP version \" TAP_VERSION \"\\n\");\n+            }\n+          else\n+            {\n+              g_test_tap_print (subtest_level > 0 ? subtest_level - 1 : 0, TRUE,\n+                                \"Subtest: %s\\n\", test_argv0);\n+            }\n+\n+          g_print (\"random seed: %s\\n\", string2);\n+        }\n@@ -995,1 +1132,3 @@\n-        g_print (\"GTest: random seed: %s\\n\", string2);\n+        {\n+          g_print (\"GTest: random seed: %s\\n\", string2);\n+        }\n@@ -1003,1 +1142,1 @@\n-            g_print (\"# Start of %s tests\\n\", string1);\n+            g_print (\"Start of %s tests\\n\", string1);\n@@ -1005,1 +1144,1 @@\n-            g_print (\"1..%d\\n\", test_count);\n+            g_test_tap_print (subtest_level, FALSE, \"1..%d\\n\", test_count);\n@@ -1015,1 +1154,1 @@\n-            g_print (\"# End of %s tests\\n\", string1);\n+            g_print (\"End of %s tests\\n\", string1);\n@@ -1017,1 +1156,1 @@\n-            g_print (\"1..%d\\n\", test_run_count);\n+            g_test_tap_print (subtest_level, FALSE, \"1..%d\\n\", test_run_count);\n@@ -1021,1 +1160,2 @@\n-      result = largs[0];\n+      result = largs[G_TEST_CASE_LARGS_RESULT];\n+      timing = largs[G_TEST_CASE_LARGS_EXECUTION_TIME];\n@@ -1025,1 +1165,1 @@\n-          const gchar *ok;\n+          GString *tap_output;\n@@ -1034,1 +1174,1 @@\n-            ok = \"not ok\";\n+            tap_output = g_string_new (\"not ok\");\n@@ -1036,1 +1176,4 @@\n-            ok = \"ok\";\n+            tap_output = g_string_new (\"ok\");\n+\n+          if (is_subtest ())\n+            g_string_prepend (tap_output, TAP_SUBTEST_PREFIX);\n@@ -1038,1 +1181,1 @@\n-          g_print (\"%s %d %s\", ok, test_run_count, string1);\n+          g_string_append_printf (tap_output, \" %d %s\", test_run_count, string1);\n@@ -1040,1 +1183,1 @@\n-            g_print (\" # TODO %s\\n\", string2 ? string2 : \"\");\n+            g_string_append_printf (tap_output, \" # TODO %s\", string2 ? string2 : \"\");\n@@ -1042,1 +1185,1 @@\n-            g_print (\" # SKIP %s\\n\", string2 ? string2 : \"\");\n+            g_string_append_printf (tap_output, \" # SKIP %s\", string2 ? string2 : \"\");\n@@ -1044,3 +1187,15 @@\n-            g_print (\" - %s\\n\", string2);\n-          else\n-            g_print (\"\\n\");\n+            g_string_append_printf (tap_output, \" - %s\", string2);\n+\n+          g_string_append_c (tap_output, '\\n');\n+          g_default_print_func (tap_output->str);\n+          g_string_free (g_steal_pointer (&tap_output), TRUE);\n+\n+          \/* Print msg for any slow tests, where 'slow' means >= 0.5 secs *\/\n+          if (timing > 0.5)\n+            {\n+              tap_output = g_string_new (\"# \");\n+              g_string_append_printf (tap_output, \"slow test %s executed in %0.2lf secs\\n\",\n+                                      string1, timing);\n+              g_default_print_func (tap_output->str);\n+              g_string_free (g_steal_pointer (&tap_output), TRUE);\n+            }\n@@ -1050,1 +1205,1 @@\n-      else if (!g_test_quiet ())\n+      else if (!g_test_quiet () && !test_in_subprocess)\n@@ -1055,1 +1210,1 @@\n-            g_print (\"Bail out!\\n\");\n+            g_test_tap_print (0, FALSE, \"Bail out!\\n\");\n@@ -1063,1 +1218,4 @@\n-          g_print (\"ok %d %s # SKIP\\n\", test_run_count, string1);\n+        {\n+          g_test_tap_print (subtest_level, FALSE, \"ok %d %s # SKIP\\n\",\n+                            test_run_count, string1);\n+        }\n@@ -1067,1 +1225,1 @@\n-        g_print (\"# min perf: %s\\n\", string1);\n+        g_print (\"min perf: %s\\n\", string1);\n@@ -1073,1 +1231,1 @@\n-        g_print (\"# max perf: %s\\n\", string1);\n+        g_print (\"max perf: %s\\n\", string1);\n@@ -1078,0 +1236,6 @@\n+      if (test_tap_log)\n+        g_print (\"%s\\n\", string1);\n+      else if (g_test_verbose ())\n+        g_print (\"(MSG: %s)\\n\", string1);\n+      break;\n+    case G_TEST_LOG_ERROR:\n@@ -1080,3 +1244,3 @@\n-          if (strstr (string1, \"\\n\") == NULL)\n-            g_print (\"# %s\\n\", string1);\n-          else\n+          char *message = g_strdup (string1);\n+\n+          if (message)\n@@ -1084,2 +1248,1 @@\n-              char **lines = g_strsplit (string1, \"\\n\", -1);\n-              gsize i;\n+              char *line = message;\n@@ -1087,2 +1250,2 @@\n-              for (i = 0; lines[i] != NULL; i++)\n-                g_print (\"# %s\\n\", lines[i]);\n+              while ((line = strchr (line, '\\n')))\n+                  *(line++) = ' ';\n@@ -1090,1 +1253,1 @@\n-              g_strfreev (lines);\n+              message = g_strstrip (message);\n@@ -1092,0 +1255,19 @@\n+\n+          if (test_run_name && *test_run_name != '\\0')\n+            {\n+              if (message && *message != '\\0')\n+                g_test_tap_print (subtest_level, FALSE, \"not ok %s - %s\\n\",\n+                                  test_run_name, message);\n+              else\n+                g_test_tap_print (subtest_level, FALSE, \"not ok %s\\n\",\n+                                  test_run_name);\n+\n+              g_clear_pointer (&message, g_free);\n+            }\n+\n+          if (message && *message != '\\0')\n+            g_test_tap_print (subtest_level, FALSE, \"Bail out! %s\\n\", message);\n+          else\n+            g_test_tap_print (subtest_level, FALSE, \"Bail out!\\n\");\n+\n+          g_free (message);\n@@ -1094,7 +1276,3 @@\n-        g_print (\"(MSG: %s)\\n\", string1);\n-      break;\n-    case G_TEST_LOG_ERROR:\n-      if (test_tap_log)\n-        g_print (\"Bail out! %s\\n\", string1);\n-      else if (g_test_verbose ())\n-        g_print (\"(ERROR: %s)\\n\", string1);\n+        {\n+          g_print (\"(ERROR: %s)\\n\", string1);\n+        }\n@@ -1130,0 +1308,27 @@\n+\/**\n+ * g_test_disable_crash_reporting:\n+ *\n+ * Attempt to disable system crash reporting infrastructure.\n+ *\n+ * This function should be called before exercising code paths that are\n+ * expected or intended to crash, to avoid wasting resources in system-wide\n+ * crash collection infrastructure such as systemd-coredump or abrt.\n+ *\n+ * Since: 2.78\n+ *\/\n+void\n+g_test_disable_crash_reporting (void)\n+{\n+#ifdef HAVE_SYS_RESOURCE_H\n+  struct rlimit limit = { 0, 0 };\n+\n+  (void) setrlimit (RLIMIT_CORE, &limit);\n+#endif\n+\n+#if defined(HAVE_PRCTL) && defined(PR_SET_DUMPABLE)\n+  \/* On Linux, RLIMIT_CORE = 0 is ignored if core dumps are\n+   * configured to be written to a pipe, but PR_SET_DUMPABLE is not. *\/\n+  (void) prctl (PR_SET_DUMPABLE, 0, 0, 0, 0);\n+#endif\n+}\n+\n@@ -1204,6 +1409,2 @@\n-#ifdef HAVE_SYS_RESOURCE_H\n-          {\n-            struct rlimit limit = { 0, 0 };\n-            (void) setrlimit (RLIMIT_CORE, &limit);\n-          }\n-#endif\n+          g_test_disable_crash_reporting ();\n+\n@@ -1448,1 +1649,1 @@\n-  subdir = g_build_filename (test_tmpdir, test_run_name, \".dirs\", NULL);\n+  subdir = g_build_filename (test_tmpdir, test_run_name_path, \".dirs\", NULL);\n@@ -1520,1 +1721,1 @@\n-  subdir = g_build_filename (test_tmpdir, test_run_name, NULL);\n+  subdir = g_build_filename (test_tmpdir, test_run_name_path, NULL);\n@@ -1537,0 +1738,2 @@\n+ * This should be called before calling any other `g_test_*()` functions.\n+ *\n@@ -1633,4 +1836,0 @@\n-  \/* setup random seed string *\/\n-  g_snprintf (seedstr, sizeof (seedstr), \"R02S%08x%08x%08x%08x\", g_random_int(), g_random_int(), g_random_int(), g_random_int());\n-  test_run_seedstr = seedstr;\n-\n@@ -1640,0 +1839,8 @@\n+  if (test_run_seedstr == NULL)\n+    {\n+      \/* setup random seed string *\/\n+      g_snprintf (seedstr, sizeof (seedstr), \"R02S%08x%08x%08x%08x\",\n+                  g_random_int(), g_random_int(), g_random_int(), g_random_int());\n+      test_run_seedstr = seedstr;\n+    }\n+\n@@ -1643,0 +1850,11 @@\n+  if (g_getenv (\"G_TEST_ROOT_PROCESS\"))\n+    {\n+      test_is_subtest = TRUE;\n+    }\n+  else if (!g_setenv (\"G_TEST_ROOT_PROCESS\", test_argv0 ? test_argv0 : \"root\", TRUE))\n+    {\n+      g_printerr (\"%s: Failed to set environment variable ‘%s’\\n\",\n+                  test_argv0, \"G_TEST_ROOT_PROCESS\");\n+      exit (1);\n+    }\n+\n@@ -1683,1 +1901,7 @@\n-          g_setenv (\"G_TEST_TMPDIR\", test_isolate_dirs_tmpdir, TRUE);\n+          if (!g_setenv (\"G_TEST_TMPDIR\", test_isolate_dirs_tmpdir, TRUE))\n+            {\n+              g_printerr (\"%s: Failed to set environment variable ‘%s’\\n\",\n+                          (*argv)[0], \"G_TEST_TMPDIR\");\n+              exit (1);\n+            }\n+          _g_unset_cached_tmp_dir ();\n@@ -1709,1 +1933,8 @@\n-                g_setenv (overridden_environment_variables[i], \"\/dev\/null\", TRUE);\n+                {\n+                  if (!g_setenv (overridden_environment_variables[i], \"\/dev\/null\", TRUE))\n+                    {\n+                      g_printerr (\"%s: Failed to set environment variable ‘%s’\\n\",\n+                                  (*argv)[0], overridden_environment_variables[i]);\n+                      exit (1);\n+                    }\n+                }\n@@ -2903,1 +3134,1 @@\n-      long double largs[3];\n+      long double largs[G_TEST_CASE_LARGS_MAX];\n@@ -2949,3 +3180,3 @@\n-      largs[0] = success; \/* OK *\/\n-      largs[1] = test_run_forks;\n-      largs[2] = g_timer_elapsed (test_run_timer, NULL);\n+      largs[G_TEST_CASE_LARGS_RESULT] = success; \/* OK *\/\n+      largs[G_TEST_CASE_LARGS_RUN_FORKS] = test_run_forks;\n+      largs[G_TEST_CASE_LARGS_EXECUTION_TIME] = g_timer_elapsed (test_run_timer, NULL);\n@@ -2988,1 +3219,6 @@\n-        g_print (\"GTest: skipping: %s\\n\", test_run_name);\n+        {\n+          if (test_tap_log)\n+            g_print (\"skipping: %s\\n\", test_run_name);\n+          else\n+            g_print (\"GTest: skipping: %s\\n\", test_run_name);\n+        }\n@@ -3004,0 +3240,1 @@\n+  gchar *old_name_path = test_run_name_path;\n@@ -3015,0 +3252,1 @@\n+      test_run_name_path = g_build_path (G_DIR_SEPARATOR_S, old_name_path, tc->name, NULL);\n@@ -3021,0 +3259,1 @@\n+      g_free (test_run_name_path);\n@@ -3028,0 +3267,1 @@\n+      test_run_name_path = g_build_path (G_DIR_SEPARATOR_S, old_name_path, ts->name, NULL);\n@@ -3038,0 +3278,1 @@\n+      g_free (test_run_name_path);\n@@ -3041,0 +3282,1 @@\n+  test_run_name_path = old_name_path;\n@@ -3102,0 +3344,1 @@\n+  test_run_name_path = g_build_path (G_DIR_SEPARATOR_S, suite->name, NULL);\n@@ -3113,2 +3356,2 @@\n-  g_free (test_run_name);\n-  test_run_name = NULL;\n+  g_clear_pointer (&test_run_name, g_free);\n+  g_clear_pointer (&test_run_name_path, g_free);\n@@ -3195,2 +3438,0 @@\n-  g_log_default_handler (log_domain, log_level, message, unused_data);\n-\n@@ -3198,0 +3439,3 @@\n+\n+  if (!test_tap_log)\n+    g_log_default_handler (log_domain, log_level, message, unused_data);\n@@ -3291,0 +3535,37 @@\n+void\n+g_assertion_message_cmpint (const char     *domain,\n+                            const char     *file,\n+                            int             line,\n+                            const char     *func,\n+                            const char     *expr,\n+                            guint64         arg1,\n+                            const char     *cmp,\n+                            guint64         arg2,\n+                            char            numtype)\n+{\n+  char *s = NULL;\n+\n+  switch (numtype)\n+    {\n+    case 'i':\n+      s = g_strdup_printf (\"assertion failed (%s): \"\n+                           \"(%\" PRIi64 \" %s %\" PRIi64 \")\",\n+                           expr, (int64_t) arg1, cmp, (int64_t) arg2);\n+      break;\n+    case 'u':\n+      s = g_strdup_printf (\"assertion failed (%s): \"\n+                           \"(%\" PRIu64 \" %s %\" PRIu64 \")\",\n+                           expr, (uint64_t) arg1, cmp, (uint64_t) arg2);\n+      break;\n+    case 'x':\n+      s = g_strdup_printf (\"assertion failed (%s): \"\n+                           \"(0x%08\" PRIx64 \" %s 0x%08\" PRIx64 \")\",\n+                           expr, (uint64_t) arg1, cmp, (uint64_t) arg2);\n+      break;\n+    default:\n+      g_assert_not_reached ();\n+    }\n+  g_assertion_message (domain, file, line, func, s);\n+  g_free (s);\n+}\n+\n@@ -3306,2 +3587,0 @@\n-    case 'i':   s = g_strdup_printf (\"assertion failed (%s): (%\" G_GINT64_MODIFIER \"i %s %\" G_GINT64_MODIFIER \"i)\", expr, (gint64) arg1, cmp, (gint64) arg2); break;\n-    case 'x':   s = g_strdup_printf (\"assertion failed (%s): (0x%08\" G_GINT64_MODIFIER \"x %s 0x%08\" G_GINT64_MODIFIER \"x)\", expr, (guint64) arg1, cmp, (guint64) arg2); break;\n@@ -3310,0 +3589,8 @@\n+    case 'i':\n+    case 'x':\n+      \/* Backwards compatibility to apps compiled before 2.78 *\/\n+      g_assertion_message_cmpint (domain, file, line, func, expr,\n+                                  (guint64) arg1, cmp, (guint64) arg2, numtype);\n+      break;\n+    default:\n+      g_assert_not_reached ();\n@@ -3521,1 +3808,4 @@\n-        echo_file = stdout;\n+        {\n+          if G_UNLIKELY (!test_tap_log)\n+            echo_file = stdout;\n+        }\n@@ -3602,0 +3892,16 @@\n+  if (echo_stdout && test_tap_log && data.stdout_str->len > 0)\n+    {\n+      gboolean added_newline = FALSE;\n+\n+      if (data.stdout_str->str[data.stdout_str->len - 1] != '\\n')\n+        {\n+          g_string_append_c (data.stdout_str, '\\n');\n+          added_newline = TRUE;\n+        }\n+\n+      g_test_print_handler_full (data.stdout_str->str, TRUE, TRUE, 1);\n+\n+      if (added_newline)\n+        g_string_truncate (data.stdout_str, data.stdout_str->len - 1);\n+    }\n+\n@@ -3650,2 +3956,3 @@\n- * and is not always reliable due to problems inherent in\n- * fork-without-exec. Use g_test_trap_subprocess() instead.\n+ * is not always reliable due to problems inherent in fork-without-exec\n+ * and doesn't set close-on-exec flag on its file descriptors.\n+ * Use g_test_trap_subprocess() instead.\n@@ -3701,6 +4008,1 @@\n-#ifdef HAVE_SYS_RESOURCE_H\n-      {\n-        struct rlimit limit = { 0, 0 };\n-        (void) setrlimit (RLIMIT_CORE, &limit);\n-      }\n-#endif\n+      g_test_disable_crash_reporting ();\n@@ -3767,0 +4069,5 @@\n+ * Internally, this function tracks the child process using\n+ * g_child_watch_source_new(), so your process must not ignore `SIGCHLD`, and\n+ * must not attempt to watch or wait for the child process via another\n+ * mechanism.\n+ *\n@@ -3782,1 +4089,1 @@\n- *     g_test_trap_subprocess (NULL, 0, 0);\n+ *     g_test_trap_subprocess (NULL, 0, G_TEST_SUBPROCESS_DEFAULT);\n@@ -3825,1 +4132,6 @@\n-    g_print (\"GTest: subprocess: %s\\n\", test_path);\n+    {\n+      if (test_tap_log)\n+        g_print (\"subprocess: %s\\n\", test_path);\n+      else\n+        g_print (\"GTest: subprocess: %s\\n\", test_path);\n+    }\n@@ -4049,2 +4361,4 @@\n-      msg = g_strdup_printf (\"stdout of child process (%s) %s: %s\\nstdout was:\\n%s\",\n-                             process_id, match_error, stdout_pattern, test_trap_last_stdout);\n+      g_test_message (\"stdout was:\\n%s\", test_trap_last_stdout);\n+\n+      msg = g_strdup_printf (\"stdout of child process (%s) %s: %s\",\n+                             process_id, match_error, stdout_pattern);\n@@ -4060,2 +4374,4 @@\n-      msg = g_strdup_printf (\"stderr of child process (%s) %s: %s\\nstderr was:\\n%s\",\n-                             process_id, match_error, stderr_pattern, test_trap_last_stderr);\n+      g_test_message (\"stderr was:\\n%s\", test_trap_last_stderr);\n+\n+      msg = g_strdup_printf (\"stderr of child process (%s) %s: %s\",\n+                             process_id, match_error, stderr_pattern);\n@@ -4457,0 +4773,2 @@\n+ * Note that this is a test path, not a file system path.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtestutils.c","additions":403,"deletions":85,"binary":false,"changes":488,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -31,0 +33,1 @@\n+#include <stdlib.h>\n@@ -49,0 +52,20 @@\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78\n+#define g_assert_cmpint(n1, cmp, n2)    G_STMT_START { \\\n+                                             gint64 __n1 = (n1), __n2 = (n2); \\\n+                                             if (__n1 cmp __n2) ; else \\\n+                                               g_assertion_message_cmpint (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                 #n1 \" \" #cmp \" \" #n2, (guint64)__n1, #cmp, (guint64)__n2, 'i'); \\\n+                                        } G_STMT_END\n+#define g_assert_cmpuint(n1, cmp, n2)   G_STMT_START { \\\n+                                             guint64 __n1 = (n1), __n2 = (n2); \\\n+                                             if (__n1 cmp __n2) ; else \\\n+                                               g_assertion_message_cmpint (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                 #n1 \" \" #cmp \" \" #n2, __n1, #cmp, __n2, 'u'); \\\n+                                        } G_STMT_END\n+#define g_assert_cmphex(n1, cmp, n2)    G_STMT_START { \\\n+                                             guint64 __n1 = (n1), __n2 = (n2); \\\n+                                             if (__n1 cmp __n2) ; else \\\n+                                               g_assertion_message_cmpint (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                 #n1 \" \" #cmp \" \" #n2, __n1, #cmp, __n2, 'x'); \\\n+                                        } G_STMT_END\n+#else \/* GLIB_VERSION_MIN_REQUIRED < GLIB_VERSION_2_78 *\/\n@@ -67,0 +90,1 @@\n+#endif \/* GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78 *\/\n@@ -80,0 +104,19 @@\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78\n+#define g_assert_cmpmem(m1, l1, m2, l2) G_STMT_START {\\\n+                                             gconstpointer __m1 = m1, __m2 = m2; \\\n+                                             size_t __l1 = (size_t) l1, __l2 = (size_t) l2; \\\n+                                             if (__l1 != 0 && __m1 == NULL) \\\n+                                               g_assertion_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                                    \"assertion failed (\" #l1 \" == 0 || \" #m1 \" != NULL)\"); \\\n+                                             else if (__l2 != 0 && __m2 == NULL) \\\n+                                               g_assertion_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                                    \"assertion failed (\" #l2 \" == 0 || \" #m2 \" != NULL)\"); \\\n+                                             else if (__l1 != __l2) \\\n+                                               g_assertion_message_cmpint (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                                           #l1 \" (len(\" #m1 \")) == \" #l2 \" (len(\" #m2 \"))\", \\\n+                                                                           __l1, \"==\", __l2, 'u'); \\\n+                                             else if (__l1 != 0 && __m2 != NULL && memcmp (__m1, __m2, __l1) != 0) \\\n+                                               g_assertion_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                                    \"assertion failed (\" #m1 \" == \" #m2 \")\"); \\\n+                                        } G_STMT_END\n+#else \/* GLIB_VERSION_MIN_REQUIRED < GLIB_VERSION_2_78 *\/\n@@ -82,1 +125,1 @@\n-                                             int __l1 = l1, __l2 = l2; \\\n+                                             size_t __l1 = (size_t) l1, __l2 = (size_t) l2; \\\n@@ -97,0 +140,1 @@\n+#endif \/* GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78 *\/\n@@ -195,1 +239,1 @@\n-#if defined(__cplusplus) && __cplusplus >= 201100L\n+#if G_CXX_STD_CHECK_VERSION (11)\n@@ -366,0 +410,2 @@\n+GLIB_AVAILABLE_IN_2_78\n+void    g_test_disable_crash_reporting  (void);\n@@ -426,0 +472,1 @@\n+ * @G_TEST_TRAP_DEFAULT: Default behaviour. Since: 2.74\n@@ -446,0 +493,1 @@\n+  G_TEST_TRAP_DEFAULT GLIB_AVAILABLE_ENUMERATOR_IN_2_74 = 0,\n@@ -460,0 +508,1 @@\n+  G_TEST_SUBPROCESS_DEFAULT GLIB_AVAILABLE_ENUMERATOR_IN_2_74 = 0,\n@@ -538,1 +587,0 @@\n-GLIB_AVAILABLE_IN_ALL\n@@ -540,0 +588,1 @@\n+GLIB_AVAILABLE_IN_ALL\n@@ -564,0 +613,10 @@\n+GLIB_AVAILABLE_IN_2_78\n+void    g_assertion_message_cmpint      (const char     *domain,\n+                                         const char     *file,\n+                                         int             line,\n+                                         const char     *func,\n+                                         const char     *expr,\n+                                         guint64         arg1,\n+                                         const char     *cmp,\n+                                         guint64         arg2,\n+                                         char            numtype) G_ANALYZER_NORETURN;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtestutils.h","additions":62,"deletions":3,"binary":false,"changes":65,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -75,1 +77,1 @@\n-#if defined(HAVE_FUTEX) && \\\n+#if (defined(HAVE_FUTEX) || defined(HAVE_FUTEX_TIME64)) && \\\n@@ -196,1 +198,1 @@\n- * Sine: 2.32\n+ * Since: 2.32\n@@ -371,1 +373,1 @@\n- * Sine: 2.32\n+ * Since: 2.32\n@@ -528,1 +530,1 @@\n- * Sine: 2.32\n+ * Since: 2.32\n@@ -1048,2 +1050,2 @@\n-static inline pthread_key_t *\n-g_private_get_impl (GPrivate *key)\n+static gpointer\n+g_private_impl_new_direct (GDestroyNotify notify)\n@@ -1051,1 +1053,3 @@\n-  pthread_key_t *impl = g_atomic_pointer_get (&key->p);\n+  gpointer impl = (void *) (gssize) -1;\n+  pthread_key_t key;\n+  gint status;\n@@ -1053,1 +1057,18 @@\n-  if G_UNLIKELY (impl == NULL)\n+  status = pthread_key_create (&key, notify);\n+  if G_UNLIKELY (status != 0)\n+    g_thread_abort (status, \"pthread_key_create\");\n+\n+  memcpy (&impl, &key, sizeof (pthread_key_t));\n+\n+  \/* pthread_key_create could theoretically put a NULL value into key.\n+   * If that happens, waste the result and create a new one, since we\n+   * use NULL to mean \"not yet allocated\".\n+   *\n+   * This will only happen once per program run.\n+   *\n+   * We completely avoid this problem for the case where pthread_key_t\n+   * is smaller than void* (for example, on 64 bit Linux) by putting\n+   * some high bits in the value of 'impl' to start with.  Since we only\n+   * overwrite part of the pointer, we will never end up with NULL.\n+   *\/\n+  if (sizeof (pthread_key_t) == sizeof (gpointer))\n@@ -1055,2 +1076,1 @@\n-      impl = g_private_impl_new (key->notify);\n-      if (!g_atomic_pointer_compare_and_exchange (&key->p, NULL, impl))\n+      if G_UNLIKELY (impl == NULL)\n@@ -1058,2 +1078,8 @@\n-          g_private_impl_free (impl);\n-          impl = key->p;\n+          status = pthread_key_create (&key, notify);\n+          if G_UNLIKELY (status != 0)\n+            g_thread_abort (status, \"pthread_key_create\");\n+\n+          memcpy (&impl, &key, sizeof (pthread_key_t));\n+\n+          if G_UNLIKELY (impl == NULL)\n+            g_thread_abort (status, \"pthread_key_create (gave NULL result twice)\");\n@@ -1066,0 +1092,53 @@\n+static void\n+g_private_impl_free_direct (gpointer impl)\n+{\n+  pthread_key_t tmp;\n+  gint status;\n+\n+  memcpy (&tmp, &impl, sizeof (pthread_key_t));\n+\n+  status = pthread_key_delete (tmp);\n+  if G_UNLIKELY (status != 0)\n+    g_thread_abort (status, \"pthread_key_delete\");\n+}\n+\n+static inline pthread_key_t\n+g_private_get_impl (GPrivate *key)\n+{\n+  if (sizeof (pthread_key_t) > sizeof (gpointer))\n+    {\n+      pthread_key_t *impl = g_atomic_pointer_get (&key->p);\n+\n+      if G_UNLIKELY (impl == NULL)\n+        {\n+          impl = g_private_impl_new (key->notify);\n+          if (!g_atomic_pointer_compare_and_exchange (&key->p, NULL, impl))\n+            {\n+              g_private_impl_free (impl);\n+              impl = key->p;\n+            }\n+        }\n+\n+      return *impl;\n+    }\n+  else\n+    {\n+      gpointer impl = g_atomic_pointer_get (&key->p);\n+      pthread_key_t tmp;\n+\n+      if G_UNLIKELY (impl == NULL)\n+        {\n+          impl = g_private_impl_new_direct (key->notify);\n+          if (!g_atomic_pointer_compare_and_exchange (&key->p, NULL, impl))\n+            {\n+              g_private_impl_free_direct (impl);\n+              impl = key->p;\n+            }\n+        }\n+\n+      memcpy (&tmp, &impl, sizeof (pthread_key_t));\n+\n+      return tmp;\n+    }\n+}\n+\n@@ -1082,1 +1161,1 @@\n-  return pthread_getspecific (*g_private_get_impl (key));\n+  return pthread_getspecific (g_private_get_impl (key));\n@@ -1102,1 +1181,1 @@\n-  if G_UNLIKELY ((status = pthread_setspecific (*g_private_get_impl (key), value)) != 0)\n+  if G_UNLIKELY ((status = pthread_setspecific (g_private_get_impl (key), value)) != 0)\n@@ -1124,1 +1203,1 @@\n-  pthread_key_t *impl = g_private_get_impl (key);\n+  pthread_key_t impl = g_private_get_impl (key);\n@@ -1128,1 +1207,1 @@\n-  old = pthread_getspecific (*impl);\n+  old = pthread_getspecific (impl);\n@@ -1130,1 +1209,1 @@\n-  if G_UNLIKELY ((status = pthread_setspecific (*impl, value)) != 0)\n+  if G_UNLIKELY ((status = pthread_setspecific (impl, value)) != 0)\n@@ -1158,3 +1237,0 @@\n-\n-  \/* Must be statically allocated and valid forever *\/\n-  const GThreadSchedulerSettings *scheduler_settings;\n@@ -1176,97 +1252,0 @@\n-gboolean\n-g_system_thread_get_scheduler_settings (GThreadSchedulerSettings *scheduler_settings)\n-{\n-  \/* FIXME: Implement the same for macOS and the BSDs so it doesn't go through\n-   * the fallback code using an additional thread. *\/\n-#if defined(HAVE_SYS_SCHED_GETATTR)\n-  pid_t tid;\n-  int res;\n-  \/* FIXME: The struct definition does not seem to be possible to pull in\n-   * via any of the normal system headers and it's only declared in the\n-   * kernel headers. That's why we hardcode 56 here right now. *\/\n-  guint size = 56; \/* Size as of Linux 5.3.9 *\/\n-  guint flags = 0;\n-\n-  tid = (pid_t) syscall (SYS_gettid);\n-\n-  scheduler_settings->attr = g_malloc0 (size);\n-\n-  do\n-    {\n-      int errsv;\n-\n-      res = syscall (SYS_sched_getattr, tid, scheduler_settings->attr, size, flags);\n-      errsv = errno;\n-      if (res == -1)\n-        {\n-          if (errsv == EAGAIN)\n-            {\n-              continue;\n-            }\n-          else if (errsv == E2BIG)\n-            {\n-              g_assert (size < G_MAXINT);\n-              size *= 2;\n-              scheduler_settings->attr = g_realloc (scheduler_settings->attr, size);\n-              \/* Needs to be zero-initialized *\/\n-              memset (scheduler_settings->attr, 0, size);\n-            }\n-          else\n-            {\n-              g_debug (\"Failed to get thread scheduler attributes: %s\", g_strerror (errsv));\n-              g_free (scheduler_settings->attr);\n-\n-              return FALSE;\n-            }\n-        }\n-    }\n-  while (res == -1);\n-\n-  \/* Try setting them on the current thread to see if any system policies are\n-   * in place that would disallow doing so *\/\n-  res = syscall (SYS_sched_setattr, tid, scheduler_settings->attr, flags);\n-  if (res == -1)\n-    {\n-      int errsv = errno;\n-\n-      g_debug (\"Failed to set thread scheduler attributes: %s\", g_strerror (errsv));\n-      g_free (scheduler_settings->attr);\n-\n-      return FALSE;\n-    }\n-\n-  return TRUE;\n-#else\n-  return FALSE;\n-#endif\n-}\n-\n-#if defined(HAVE_SYS_SCHED_GETATTR)\n-static void *\n-linux_pthread_proxy (void *data)\n-{\n-  GThreadPosix *thread = data;\n-  static gboolean printed_scheduler_warning = FALSE;  \/* (atomic) *\/\n-\n-  \/* Set scheduler settings first if requested *\/\n-  if (thread->scheduler_settings)\n-    {\n-      pid_t tid = 0;\n-      guint flags = 0;\n-      int res;\n-      int errsv;\n-\n-      tid = (pid_t) syscall (SYS_gettid);\n-      res = syscall (SYS_sched_setattr, tid, thread->scheduler_settings->attr, flags);\n-      errsv = errno;\n-      if (res == -1 && g_atomic_int_compare_and_exchange (&printed_scheduler_warning, FALSE, TRUE))\n-        g_critical (\"Failed to set scheduler settings: %s\", g_strerror (errsv));\n-      else if (res == -1)\n-        g_debug (\"Failed to set scheduler settings: %s\", g_strerror (errsv));\n-      printed_scheduler_warning = TRUE;\n-    }\n-\n-  return thread->proxy (data);\n-}\n-#endif\n-\n@@ -1276,1 +1255,0 @@\n-                     const GThreadSchedulerSettings *scheduler_settings,\n@@ -1295,1 +1273,0 @@\n-  thread->scheduler_settings = scheduler_settings;\n@@ -1315,1 +1292,0 @@\n-  if (!scheduler_settings)\n@@ -1322,3 +1298,0 @@\n-#if defined(HAVE_SYS_SCHED_GETATTR)\n-  ret = pthread_create (&thread->system_thread, &attr, linux_pthread_proxy, thread);\n-#else\n@@ -1326,1 +1299,0 @@\n-#endif\n@@ -1399,9 +1371,0 @@\n-\n-#include <linux\/futex.h>\n-#include <sys\/syscall.h>\n-\n-#ifndef FUTEX_WAIT_PRIVATE\n-#define FUTEX_WAIT_PRIVATE FUTEX_WAIT\n-#define FUTEX_WAKE_PRIVATE FUTEX_WAKE\n-#endif\n-\n@@ -1450,3 +1413,10 @@\n- *  > 1: contended\n- *\n- *\n+ *  2: contended\n+ *\/\n+\n+typedef enum {\n+  G_MUTEX_STATE_EMPTY = 0,\n+  G_MUTEX_STATE_OWNED,\n+  G_MUTEX_STATE_CONTENDED,\n+} GMutexState;\n+\n+ \/*\n@@ -1471,1 +1441,1 @@\n-  mutex->i[0] = 0;\n+  mutex->i[0] = G_MUTEX_STATE_EMPTY;\n@@ -1477,1 +1447,1 @@\n-  if G_UNLIKELY (mutex->i[0] != 0)\n+  if G_UNLIKELY (mutex->i[0] != G_MUTEX_STATE_EMPTY)\n@@ -1484,1 +1454,2 @@\n-static void __attribute__((noinline))\n+G_GNUC_NO_INLINE\n+static void\n@@ -1487,1 +1458,1 @@\n-  \/* Set to 2 to indicate contention.  If it was zero before then we\n+  \/* Set to contended.  If it was empty before then we\n@@ -1490,1 +1461,1 @@\n-   * Otherwise, sleep for as long as the 2 remains...\n+   * Otherwise, sleep for as long as the contended state remains...\n@@ -1492,2 +1463,5 @@\n-  while (exchange_acquire (&mutex->i[0], 2) != 0)\n-    syscall (__NR_futex, &mutex->i[0], (gsize) FUTEX_WAIT_PRIVATE, (gsize) 2, NULL);\n+  while (exchange_acquire (&mutex->i[0], G_MUTEX_STATE_CONTENDED) != G_MUTEX_STATE_EMPTY)\n+    {\n+      g_futex_simple (&mutex->i[0], (gsize) FUTEX_WAIT_PRIVATE,\n+                      G_MUTEX_STATE_CONTENDED, NULL);\n+    }\n@@ -1496,1 +1470,2 @@\n-static void __attribute__((noinline))\n+G_GNUC_NO_INLINE\n+static void\n@@ -1503,1 +1478,1 @@\n-  if G_UNLIKELY (prev == 0)\n+  if G_UNLIKELY (prev == G_MUTEX_STATE_EMPTY)\n@@ -1509,1 +1484,1 @@\n-  syscall (__NR_futex, &mutex->i[0], (gsize) FUTEX_WAKE_PRIVATE, (gsize) 1, NULL);\n+  g_futex_simple (&mutex->i[0], (gsize) FUTEX_WAKE_PRIVATE, (gsize) 1, NULL);\n@@ -1515,2 +1490,4 @@\n-  \/* 0 -> 1 and we're done.  Anything else, and we need to wait... *\/\n-  if G_UNLIKELY (g_atomic_int_add (&mutex->i[0], 1) != 0)\n+  \/* empty -> owned and we're done.  Anything else, and we need to wait... *\/\n+  if G_UNLIKELY (!g_atomic_int_compare_and_exchange (&mutex->i[0],\n+                                                     G_MUTEX_STATE_EMPTY,\n+                                                     G_MUTEX_STATE_OWNED))\n@@ -1525,1 +1502,1 @@\n-  prev = exchange_release (&mutex->i[0], 0);\n+  prev = exchange_release (&mutex->i[0], G_MUTEX_STATE_EMPTY);\n@@ -1528,1 +1505,1 @@\n-  if G_UNLIKELY (prev != 1)\n+  if G_UNLIKELY (prev != G_MUTEX_STATE_OWNED)\n@@ -1535,1 +1512,1 @@\n-  guint zero = 0;\n+  GMutexState empty = G_MUTEX_STATE_EMPTY;\n@@ -1538,1 +1515,1 @@\n-   * exactly 0 to 1.\n+   * exactly empty to owned.\n@@ -1540,1 +1517,1 @@\n-  return compare_exchange_acquire (&mutex->i[0], &zero, 1);\n+  return compare_exchange_acquire (&mutex->i[0], &empty, G_MUTEX_STATE_OWNED);\n@@ -1575,1 +1552,1 @@\n-  syscall (__NR_futex, &cond->i[0], (gsize) FUTEX_WAIT_PRIVATE, (gsize) sampled, NULL);\n+  g_futex_simple (&cond->i[0], (gsize) FUTEX_WAIT_PRIVATE, (gsize) sampled, NULL);\n@@ -1584,1 +1561,1 @@\n-  syscall (__NR_futex, &cond->i[0], (gsize) FUTEX_WAKE_PRIVATE, (gsize) 1, NULL);\n+  g_futex_simple (&cond->i[0], (gsize) FUTEX_WAKE_PRIVATE, (gsize) 1, NULL);\n@@ -1592,1 +1569,1 @@\n-  syscall (__NR_futex, &cond->i[0], (gsize) FUTEX_WAKE_PRIVATE, (gsize) INT_MAX, NULL);\n+  g_futex_simple (&cond->i[0], (gsize) FUTEX_WAKE_PRIVATE, (gsize) INT_MAX, NULL);\n@@ -1602,0 +1579,1 @@\n+\n@@ -1621,0 +1599,21 @@\n+  \/* `struct timespec` as defined by the libc headers does not necessarily\n+   * have any relation to the one used by the kernel for the `futex` syscall.\n+   *\n+   * Specifically, the libc headers might use 64-bit `time_t` while the kernel\n+   * headers use 32-bit types on certain systems.\n+   *\n+   * To get around this problem we\n+   *   a) check if `futex_time64` is available, which only exists on 32-bit\n+   *      platforms and always uses 64-bit `time_t`.\n+   *   b) otherwise (or if that returns `ENOSYS`), we call the normal `futex`\n+   *      syscall with the `struct timespec` used by the kernel. By default, we\n+   *      use `__kernel_long_t` for both its fields, which is equivalent to\n+   *      `__kernel_old_time_t` and is available in the kernel headers for a\n+   *      longer time.\n+   *   c) With very old headers (~2.6.x), `__kernel_long_t` is not available, and\n+   *      we use an older definition that uses `__kernel_time_t` and `long`.\n+   *\n+   * Also some 32-bit systems do not define `__NR_futex` at all and only\n+   * define `__NR_futex_time64`.\n+   *\/\n+\n@@ -1623,3 +1622,0 @@\n-  res = syscall (__NR_futex, &cond->i[0], (gsize) FUTEX_WAIT_PRIVATE, (gsize) sampled, &span);\n-  success = (res < 0 && errno == ETIMEDOUT) ? FALSE : TRUE;\n-  g_mutex_lock (mutex);\n@@ -1627,1 +1623,65 @@\n-  return success;\n+#ifdef __NR_futex_time64\n+  {\n+    struct\n+    {\n+      gint64 tv_sec;\n+      gint64 tv_nsec;\n+    } span_arg;\n+\n+    span_arg.tv_sec = span.tv_sec;\n+    span_arg.tv_nsec = span.tv_nsec;\n+\n+    res = syscall (__NR_futex_time64, &cond->i[0], (gsize) FUTEX_WAIT_PRIVATE, (gsize) sampled, &span_arg);\n+\n+    \/* If the syscall does not exist (`ENOSYS`), we retry again below with the\n+     * normal `futex` syscall. This can happen if newer kernel headers are\n+     * used than the kernel that is actually running.\n+     *\/\n+#  ifdef __NR_futex\n+    if (res >= 0 || errno != ENOSYS)\n+#  endif \/* defined(__NR_futex) *\/\n+      {\n+        success = (res < 0 && errno == ETIMEDOUT) ? FALSE : TRUE;\n+        g_mutex_lock (mutex);\n+\n+        return success;\n+      }\n+  }\n+#endif\n+\n+#ifdef __NR_futex\n+  {\n+#  ifdef __kernel_long_t\n+#    define KERNEL_SPAN_SEC_TYPE __kernel_long_t\n+    struct\n+    {\n+      __kernel_long_t tv_sec;\n+      __kernel_long_t tv_nsec;\n+    } span_arg;\n+#  else\n+    \/* Very old kernel headers: version 2.6.32 and thereabouts *\/\n+#    define KERNEL_SPAN_SEC_TYPE __kernel_time_t\n+    struct\n+    {\n+      __kernel_time_t tv_sec;\n+      long            tv_nsec;\n+    } span_arg;\n+#  endif\n+    \/* Make sure to only ever call this if the end time actually fits into the target type *\/\n+    if (G_UNLIKELY (sizeof (KERNEL_SPAN_SEC_TYPE) < 8 && span.tv_sec > G_MAXINT32))\n+      g_error (\"%s: Can’t wait for more than %us\", G_STRFUNC, G_MAXINT32);\n+\n+    span_arg.tv_sec = span.tv_sec;\n+    span_arg.tv_nsec = span.tv_nsec;\n+\n+    res = syscall (__NR_futex, &cond->i[0], (gsize) FUTEX_WAIT_PRIVATE, (gsize) sampled, &span_arg);\n+    success = (res < 0 && errno == ETIMEDOUT) ? FALSE : TRUE;\n+    g_mutex_lock (mutex);\n+\n+    return success;\n+  }\n+#  undef KERNEL_SPAN_SEC_TYPE\n+#endif \/* defined(__NR_futex) *\/\n+\n+  \/* We can't end up here because of the checks above *\/\n+  g_assert_not_reached ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread-posix.c","additions":220,"deletions":160,"binary":false,"changes":380,"status":"modified"},{"patch":"@@ -8,0 +8,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -357,1 +359,1 @@\n-          if (!g_atomic_pointer_compare_and_exchange (&key->p, NULL, impl))\n+          if (!g_atomic_pointer_compare_and_exchange (&key->p, NULL, GUINT_TO_POINTER (impl)))\n@@ -464,9 +466,0 @@\n-gboolean\n-g_system_thread_get_scheduler_settings (GThreadSchedulerSettings *scheduler_settings)\n-{\n-  HANDLE current_thread = GetCurrentThread ();\n-  scheduler_settings->thread_prio = GetThreadPriority (current_thread);\n-\n-  return TRUE;\n-}\n-\n@@ -476,1 +469,0 @@\n-                     const GThreadSchedulerSettings *scheduler_settings,\n@@ -516,10 +508,4 @@\n-\n-  if (scheduler_settings)\n-    {\n-      thread_prio = scheduler_settings->thread_prio;\n-    }\n-  else\n-    {\n-      HANDLE current_thread = GetCurrentThread ();\n-      thread_prio = GetThreadPriority (current_thread);\n-    }\n+  {\n+    HANDLE current_thread = GetCurrentThread ();\n+    thread_prio = GetThreadPriority (current_thread);\n+  }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread-win32.c","additions":7,"deletions":21,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -8,0 +8,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -742,0 +744,1 @@\n+  gsize old_value;\n@@ -743,1 +746,0 @@\n-  g_return_if_fail (g_atomic_pointer_get (value_location) == 0);\n@@ -746,1 +748,3 @@\n-  g_atomic_pointer_set (value_location, result);\n+  old_value = (gsize) g_atomic_pointer_exchange (value_location, result);\n+  g_return_if_fail (old_value == 0);\n+\n@@ -884,1 +888,1 @@\n-  thread = g_thread_new_internal (name, g_thread_proxy, func, data, 0, NULL, &error);\n+  thread = g_thread_new_internal (name, g_thread_proxy, func, data, 0, &error);\n@@ -915,1 +919,1 @@\n-  return g_thread_new_internal (name, g_thread_proxy, func, data, 0, NULL, error);\n+  return g_thread_new_internal (name, g_thread_proxy, func, data, 0, error);\n@@ -924,1 +928,0 @@\n-                       const GThreadSchedulerSettings *scheduler_settings,\n@@ -932,10 +935,1 @@\n-  return (GThread *) g_system_thread_new (proxy, stack_size, scheduler_settings,\n-                                          name, func, data, error);\n-}\n-\n-gboolean\n-g_thread_get_scheduler_settings (GThreadSchedulerSettings *scheduler_settings)\n-{\n-  g_return_val_if_fail (scheduler_settings != NULL, FALSE);\n-\n-  return g_system_thread_get_scheduler_settings (scheduler_settings);\n+  return (GThread *) g_system_thread_new (proxy, stack_size, name, func, data, error);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread.c","additions":9,"deletions":15,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -155,1 +157,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+G_NORETURN GLIB_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread.h","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -31,0 +33,1 @@\n+#include \"glib-private.h\"\n@@ -117,3 +120,0 @@\n-static GThreadSchedulerSettings shared_thread_scheduler_settings;\n-static gboolean have_shared_thread_scheduler_settings = FALSE;\n-\n@@ -168,2 +168,0 @@\n-  g_atomic_int_inc (&unused_threads);\n-\n@@ -238,2 +236,0 @@\n-  g_atomic_int_add (&unused_threads, -1);\n-\n@@ -406,0 +402,1 @@\n+          g_atomic_int_inc (&unused_threads);\n@@ -411,1 +408,4 @@\n-          if ((pool = g_thread_pool_wait_for_new_pool ()) == NULL)\n+          pool = g_thread_pool_wait_for_new_pool ();\n+          g_atomic_int_add (&unused_threads, -1);\n+\n+          if (pool == NULL)\n@@ -471,3 +471,2 @@\n-           * here with the correct scheduler settings: either by directly\n-           * providing them if supported by the GThread implementation or by\n-           * going via our helper thread.\n+           * here with the correct scheduler settings by going via our helper\n+           * thread.\n@@ -475,7 +474,1 @@\n-          if (have_shared_thread_scheduler_settings)\n-            {\n-              thread = g_thread_new_internal (name, g_thread_proxy, g_thread_pool_thread_proxy, pool, 0, &shared_thread_scheduler_settings, error);\n-            }\n-          else\n-            {\n-              SpawnThreadData spawn_thread_data = { (GThreadPool *) pool, NULL, NULL };\n+          SpawnThreadData spawn_thread_data = { (GThreadPool *) pool, NULL, NULL };\n@@ -483,1 +476,1 @@\n-              g_async_queue_lock (spawn_thread_queue);\n+          g_async_queue_lock (spawn_thread_queue);\n@@ -485,1 +478,1 @@\n-              g_async_queue_push_unlocked (spawn_thread_queue, &spawn_thread_data);\n+          g_async_queue_push_unlocked (spawn_thread_queue, &spawn_thread_data);\n@@ -487,2 +480,2 @@\n-              while (!spawn_thread_data.thread && !spawn_thread_data.error)\n-                g_cond_wait (&spawn_thread_cond, _g_async_queue_get_mutex (spawn_thread_queue));\n+          while (!spawn_thread_data.thread && !spawn_thread_data.error)\n+            g_cond_wait (&spawn_thread_cond, _g_async_queue_get_mutex (spawn_thread_queue));\n@@ -490,5 +483,4 @@\n-              thread = spawn_thread_data.thread;\n-              if (!thread)\n-                g_propagate_error (error, g_steal_pointer (&spawn_thread_data.error));\n-              g_async_queue_unlock (spawn_thread_queue);\n-            }\n+          thread = spawn_thread_data.thread;\n+          if (!thread)\n+            g_propagate_error (error, g_steal_pointer (&spawn_thread_data.error));\n+          g_async_queue_unlock (spawn_thread_queue);\n@@ -547,0 +539,9 @@\n+ * Note that the threads used by exclusive thread pools will all inherit the\n+ * scheduler settings of the current thread while the threads used by\n+ * non-exclusive thread pools will inherit the scheduler settings from the\n+ * first thread that created such a thread pool.\n+ *\n+ * At least one thread will be spawned when this function is called, either to\n+ * create the @max_threads exclusive threads, or to preserve the scheduler\n+ * settings of the current thread for future spawns.\n+ *\n@@ -582,0 +583,3 @@\n+ * @item_free_func will *not* be called on items successfully passed to @func.\n+ * @func is responsible for freeing the items passed to it.\n+ *\n@@ -620,7 +624,8 @@\n-  \/* For the very first non-exclusive thread-pool we remember the thread\n-   * scheduler settings of the thread creating the pool, if supported by\n-   * the GThread implementation. This is then used for making sure that\n-   * all threads created on the non-exclusive thread-pool have the same\n-   * scheduler settings, and more importantly don't just inherit them\n-   * from the thread that just happened to push a new task and caused\n-   * a new thread to be created.\n+  \/*\n+   * Spawn a helper thread that is only responsible for spawning new threads\n+   * with the scheduler settings of the current thread.\n+   *\n+   * This is then used for making sure that all threads created on the\n+   * non-exclusive thread-pool have the same scheduler settings, and more\n+   * importantly don't just inherit them from the thread that just happened to\n+   * push a new task and caused a new thread to be created.\n@@ -632,8 +637,2 @@\n-   * If this is not supported by the GThread implementation then we here\n-   * start a thread that will inherit the scheduler settings from this\n-   * very thread and whose only purpose is to spawn new threads with the\n-   * same settings for use by the non-exclusive thread-pools.\n-   *\n-   *\n-   * For non-exclusive thread-pools this is not required as all threads\n-   * are created immediately below and are running forever, so they will\n+   * For exclusive thread-pools this is not required as all threads are\n+   * created immediately below and are running forever, so they will\n@@ -642,1 +641,1 @@\n-  if (!exclusive && !have_shared_thread_scheduler_settings && !spawn_thread_queue)\n+  if (!exclusive && !spawn_thread_queue)\n@@ -644,10 +643,6 @@\n-      if (g_thread_get_scheduler_settings (&shared_thread_scheduler_settings))\n-        {\n-          have_shared_thread_scheduler_settings = TRUE;\n-        }\n-      else\n-        {\n-          spawn_thread_queue = g_async_queue_new ();\n-          g_cond_init (&spawn_thread_cond);\n-          g_thread_new (\"pool-spawner\", g_thread_pool_spawn_thread, NULL);\n-        }\n+      GThread *pool_spawner = NULL;\n+\n+      spawn_thread_queue = g_async_queue_new ();\n+      g_cond_init (&spawn_thread_cond);\n+      pool_spawner = g_thread_new (\"pool-spawner\", g_thread_pool_spawn_thread, NULL);\n+      g_ignore_leak (pool_spawner);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthreadpool.c","additions":48,"deletions":53,"binary":false,"changes":101,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthreadpool.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7,0 +7,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -41,11 +43,72 @@\n-\/* Platform-specific scheduler settings for a thread *\/\n-typedef struct\n-{\n-#if defined(HAVE_SYS_SCHED_GETATTR)\n-  \/* This is for modern Linux *\/\n-  struct sched_attr *attr;\n-#elif defined(G_OS_WIN32)\n-  gint thread_prio;\n-#else\n-  \/* TODO: Add support for macOS and the BSDs *\/\n-  void *dummy;\n+#if defined(HAVE_FUTEX) || defined(HAVE_FUTEX_TIME64)\n+#include <errno.h>\n+#include <linux\/futex.h>\n+#include <sys\/syscall.h>\n+#include <unistd.h>\n+\n+#ifndef FUTEX_WAIT_PRIVATE\n+#define FUTEX_WAIT_PRIVATE FUTEX_WAIT\n+#define FUTEX_WAKE_PRIVATE FUTEX_WAKE\n+#endif\n+\n+\/* Wrapper macro to call `futex_time64` and\/or `futex` with simple\n+ * parameters and without returning the return value.\n+ *\n+ * We expect futex to sometimes return EAGAIN due to the race\n+ * between the caller checking the current value and deciding to\n+ * do the futex op. To avoid splattering errno on success, we\n+ * restore the original errno if EAGAIN is seen. See also:\n+ *   https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/3034\n+ *\n+ * If the `futex_time64` syscall does not exist (`ENOSYS`), we retry again\n+ * with the normal `futex` syscall. This can happen if newer kernel headers\n+ * are used than the kernel that is actually running.\n+ *\n+ * This must not be called with a timeout parameter as that differs\n+ * in size between the two syscall variants!\n+ *\/\n+#if defined(__NR_futex) && defined(__NR_futex_time64)\n+#define g_futex_simple(uaddr, futex_op, ...)                                     \\\n+  G_STMT_START                                                                   \\\n+  {                                                                              \\\n+    int saved_errno = errno;                                                     \\\n+    int res = syscall (__NR_futex_time64, uaddr, (gsize) futex_op, __VA_ARGS__); \\\n+    if (res < 0 && errno == ENOSYS)                                              \\\n+      {                                                                          \\\n+        errno = saved_errno;                                                     \\\n+        res = syscall (__NR_futex, uaddr, (gsize) futex_op, __VA_ARGS__);        \\\n+      }                                                                          \\\n+    if (res < 0 && errno == EAGAIN)                                              \\\n+      {                                                                          \\\n+        errno = saved_errno;                                                     \\\n+      }                                                                          \\\n+  }                                                                              \\\n+  G_STMT_END\n+#elif defined(__NR_futex_time64)\n+#define g_futex_simple(uaddr, futex_op, ...)                                     \\\n+  G_STMT_START                                                                   \\\n+  {                                                                              \\\n+    int saved_errno = errno;                                                     \\\n+    int res = syscall (__NR_futex_time64, uaddr, (gsize) futex_op, __VA_ARGS__); \\\n+    if (res < 0 && errno == EAGAIN)                                              \\\n+      {                                                                          \\\n+        errno = saved_errno;                                                     \\\n+      }                                                                          \\\n+  }                                                                              \\\n+  G_STMT_END\n+#elif defined(__NR_futex)\n+#define g_futex_simple(uaddr, futex_op, ...)                              \\\n+  G_STMT_START                                                            \\\n+  {                                                                       \\\n+    int saved_errno = errno;                                              \\\n+    int res = syscall (__NR_futex, uaddr, (gsize) futex_op, __VA_ARGS__); \\\n+    if (res < 0 && errno == EAGAIN)                                       \\\n+      {                                                                   \\\n+        errno = saved_errno;                                              \\\n+      }                                                                   \\\n+  }                                                                       \\\n+  G_STMT_END\n+#else \/* !defined(__NR_futex) && !defined(__NR_futex_time64) *\/\n+#error \"Neither __NR_futex nor __NR_futex_time64 are defined but were found by meson\"\n+#endif \/* defined(__NR_futex) && defined(__NR_futex_time64) *\/\n+\n@@ -53,1 +116,0 @@\n-} GThreadSchedulerSettings;\n@@ -59,1 +121,0 @@\n-                                  const GThreadSchedulerSettings *scheduler_settings,\n@@ -66,1 +127,1 @@\n-void            g_system_thread_exit            (void);\n+G_NORETURN void g_system_thread_exit            (void);\n@@ -69,2 +130,0 @@\n-gboolean        g_system_thread_get_scheduler_settings (GThreadSchedulerSettings *scheduler_settings);\n-\n@@ -77,1 +136,0 @@\n-                                const GThreadSchedulerSettings *scheduler_settings,\n@@ -80,2 +138,0 @@\n-gboolean g_thread_get_scheduler_settings (GThreadSchedulerSettings *scheduler_settings);\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthreadprivate.h","additions":75,"deletions":19,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -270,0 +272,3 @@\n+  if G_UNLIKELY (microseconds == 0)\n+    return;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimer.c","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimer.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -42,0 +44,4 @@\n+#ifdef G_OS_UNIX\n+#include \"gstdio.h\"\n+#endif\n+\n@@ -442,3 +448,1 @@\n-#ifdef G_OS_UNIX\n-\n-#if defined(__sun) && defined(__SVR4)\n+#if defined(G_OS_UNIX) && defined(__sun) && defined(__SVR4)\n@@ -510,0 +514,1 @@\n+#ifdef G_OS_UNIX\n@@ -533,0 +538,2 @@\n+  gboolean not_a_symlink_to_zoneinfo = FALSE;\n+  struct stat file_status;\n@@ -536,1 +543,30 @@\n-  if (resolved_identifier == NULL)\n+\n+  if (resolved_identifier != NULL)\n+    {\n+      if (!g_path_is_absolute (resolved_identifier))\n+        {\n+          gchar *absolute_resolved_identifier = g_build_filename (\"\/etc\", resolved_identifier, NULL);\n+          g_free (resolved_identifier);\n+          resolved_identifier = g_steal_pointer (&absolute_resolved_identifier);\n+        }\n+\n+      if (g_lstat (resolved_identifier, &file_status) == 0)\n+        {\n+          if ((file_status.st_mode & S_IFMT) != S_IFREG)\n+            {\n+              \/* Some systems (e.g. toolbox containers) make \/etc\/localtime be a symlink\n+               * to a symlink.\n+               *\n+               * Rather than try to cope with that, just ignore \/etc\/localtime and use\n+               * the fallback code to read timezone from \/etc\/timezone\n+               *\/\n+              g_clear_pointer (&resolved_identifier, g_free);\n+              not_a_symlink_to_zoneinfo = TRUE;\n+            }\n+        }\n+      else\n+        {\n+          g_clear_pointer (&resolved_identifier, g_free);\n+        }\n+    }\n+  else\n@@ -538,3 +574,3 @@\n-      gboolean not_a_symlink = g_error_matches (read_link_err,\n-                                                G_FILE_ERROR,\n-                                                G_FILE_ERROR_INVAL);\n+      not_a_symlink_to_zoneinfo = g_error_matches (read_link_err,\n+                                                   G_FILE_ERROR,\n+                                                   G_FILE_ERROR_INVAL);\n@@ -542,0 +578,1 @@\n+    }\n@@ -543,0 +580,2 @@\n+  if (resolved_identifier == NULL)\n+    {\n@@ -552,6 +591,6 @@\n-      if (not_a_symlink && (g_file_get_contents (\"\/var\/db\/zoneinfo\",\n-                                                 &resolved_identifier,\n-                                                 NULL, NULL) ||\n-                            g_file_get_contents (\"\/etc\/timezone\",\n-                                                 &resolved_identifier,\n-                                                 NULL, NULL)\n+      if (not_a_symlink_to_zoneinfo && (g_file_get_contents (\"\/var\/db\/zoneinfo\",\n+                                                             &resolved_identifier,\n+                                                             NULL, NULL) ||\n+                                        g_file_get_contents (\"\/etc\/timezone\",\n+                                                             &resolved_identifier,\n+                                                             NULL, NULL)\n@@ -559,2 +598,2 @@\n-                                                             ||\n-                            (resolved_identifier = zone_identifier_illumos ())\n+                                        ||\n+                                        (resolved_identifier = zone_identifier_illumos ())\n@@ -562,1 +601,1 @@\n-                                                             ))\n+                                            ))\n@@ -672,1 +711,1 @@\n-  gint64 last_explicit_transition_time;\n+  gint64 last_explicit_transition_time = 0;\n@@ -2189,1 +2228,1 @@\n- * @time_: a pointer to a number of seconds since January 1, 1970\n+ * @time_: (inout): a pointer to a number of seconds since January 1, 1970\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimezone.c","additions":57,"deletions":18,"binary":false,"changes":75,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimezone.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtrace-private.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtranslit.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtrashstack.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtrashstack.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -70,0 +72,2 @@\n+\/* G_MAXUINT nodes will be covered by tree height of log2(G_MAXUINT) + 2. *\/\n+G_STATIC_ASSERT ((G_GUINT64_CONSTANT (1) << (MAX_GTREE_HEIGHT - 2)) >= G_MAXUINT);\n@@ -106,1 +110,2 @@\n-                                          gboolean replace);\n+                                          gboolean replace,\n+                                          gboolean null_ret_ok);\n@@ -465,0 +470,20 @@\n+static GTreeNode *\n+g_tree_insert_replace_node_internal (GTree *tree,\n+                                     gpointer key,\n+                                     gpointer value,\n+                                     gboolean replace,\n+                                     gboolean null_ret_ok)\n+{\n+  GTreeNode *node;\n+\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  node = g_tree_insert_internal (tree, key, value, replace, null_ret_ok);\n+\n+#ifdef G_TREE_DEBUG\n+  g_tree_node_check (tree->root);\n+#endif\n+\n+  return node;\n+}\n+\n@@ -485,1 +510,2 @@\n- * Returns: (transfer none): the inserted (or set) node.\n+ * Returns: (transfer none) (nullable): the inserted (or set) node or %NULL\n+ * if insertion would overflow the tree node counter.\n@@ -494,11 +520,1 @@\n-  GTreeNode *node;\n-\n-  g_return_val_if_fail (tree != NULL, NULL);\n-\n-  node = g_tree_insert_internal (tree, key, value, FALSE);\n-\n-#ifdef G_TREE_DEBUG\n-  g_tree_node_check (tree->root);\n-#endif\n-\n-  return node;\n+  return g_tree_insert_replace_node_internal (tree, key, value, FALSE, TRUE);\n@@ -523,1 +539,1 @@\n-  g_tree_insert_node (tree, key, value);\n+  g_tree_insert_replace_node_internal (tree, key, value, FALSE, FALSE);\n@@ -542,1 +558,2 @@\n- * Returns: (transfer none): the inserted (or set) node.\n+ * Returns: (transfer none) (nullable): the inserted (or set) node or %NULL\n+ * if insertion would overflow the tree node counter.\n@@ -551,11 +568,1 @@\n-  GTreeNode *node;\n-\n-  g_return_val_if_fail (tree != NULL, NULL);\n-\n-  node = g_tree_insert_internal (tree, key, value, TRUE);\n-\n-#ifdef G_TREE_DEBUG\n-  g_tree_node_check (tree->root);\n-#endif\n-\n-  return node;\n+  return g_tree_insert_replace_node_internal (tree, key, value, TRUE, TRUE);\n@@ -578,1 +585,20 @@\n-  g_tree_replace_node (tree, key, value);\n+  g_tree_insert_replace_node_internal (tree, key, value, TRUE, FALSE);\n+}\n+\n+\/* internal checked nnodes increment routine *\/\n+static gboolean\n+g_tree_nnodes_inc_checked (GTree *tree, gboolean overflow_fatal)\n+{\n+  if (G_UNLIKELY (tree->nnodes == G_MAXUINT))\n+    {\n+      if (overflow_fatal)\n+        {\n+          g_error (\"Incrementing GTree nnodes counter would overflow\");\n+        }\n+\n+      return FALSE;\n+    }\n+\n+  tree->nnodes++;\n+\n+  return TRUE;\n@@ -586,1 +612,2 @@\n-                        gboolean  replace)\n+                        gboolean  replace,\n+                        gboolean  null_ret_ok)\n@@ -597,0 +624,4 @@\n+\n+#ifdef G_TREE_DEBUG\n+      g_assert (tree->nnodes == 0);\n+#endif\n@@ -598,0 +629,1 @@\n+\n@@ -641,1 +673,8 @@\n-              GTreeNode *child = g_tree_node_new (key, value);\n+              GTreeNode *child;\n+\n+              if (!g_tree_nnodes_inc_checked (tree, !null_ret_ok))\n+                {\n+                  return NULL;\n+                }\n+\n+              child = g_tree_node_new (key, value);\n@@ -654,2 +693,0 @@\n-              tree->nnodes++;\n-\n@@ -669,1 +706,8 @@\n-              GTreeNode *child = g_tree_node_new (key, value);\n+              GTreeNode *child;\n+\n+              if (!g_tree_nnodes_inc_checked (tree, !null_ret_ok))\n+                {\n+                  return NULL;\n+                }\n+\n+              child = g_tree_node_new (key, value);\n@@ -682,2 +726,0 @@\n-              tree->nnodes++;\n-\n@@ -1475,0 +1517,5 @@\n+ *\n+ * The node counter value type is really a #guint,\n+ * but it is returned as a #gint due to backward\n+ * compatibility issues (can be cast back to #guint to\n+ * support its full range of values).\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtree.c","additions":81,"deletions":34,"binary":false,"changes":115,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtree.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -35,0 +37,4 @@\n+\n+\/* Must be included after the 3 headers above *\/\n+#include <glib\/glib-visibility.h>\n+\n@@ -113,0 +119,21 @@\n+\n+\/**\n+ * GEqualFuncFull:\n+ * @a: a value\n+ * @b: a value to compare with\n+ * @user_data: user data provided by the caller\n+ *\n+ * Specifies the type of a function used to test two values for\n+ * equality. The function should return %TRUE if both values are equal\n+ * and %FALSE otherwise.\n+ *\n+ * This is a version of #GEqualFunc which provides a @user_data closure from\n+ * the caller.\n+ *\n+ * Returns: %TRUE if @a = @b; %FALSE otherwise\n+ * Since: 2.74\n+ *\/\n+typedef gboolean        (*GEqualFuncFull)       (gconstpointer  a,\n+                                                 gconstpointer  b,\n+                                                 gpointer       user_data);\n+\n@@ -141,1 +168,1 @@\n- * not currently used in GLib or GTK+.\n+ * not currently used in GLib or GTK.\n@@ -564,23 +591,0 @@\n-\/* We prefix variable declarations so they can\n- * properly get exported in Windows DLLs.\n- *\/\n-#ifndef GLIB_VAR\n-#  ifdef G_PLATFORM_WIN32\n-#    ifdef GLIB_STATIC_COMPILATION\n-#      define GLIB_VAR extern\n-#    else \/* !GLIB_STATIC_COMPILATION *\/\n-#      ifdef GLIB_COMPILATION\n-#        ifdef DLL_EXPORT\n-#          define GLIB_VAR extern __declspec(dllexport)\n-#        else \/* !DLL_EXPORT *\/\n-#          define GLIB_VAR extern\n-#        endif \/* !DLL_EXPORT *\/\n-#      else \/* !GLIB_COMPILATION *\/\n-#        define GLIB_VAR extern __declspec(dllimport)\n-#      endif \/* !GLIB_COMPILATION *\/\n-#    endif \/* !GLIB_STATIC_COMPILATION *\/\n-#  else \/* !G_PLATFORM_WIN32 *\/\n-#    define GLIB_VAR _GLIB_EXTERN\n-#  endif \/* !G_PLATFORM_WIN32 *\/\n-#endif \/* GLIB_VAR *\/\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtypes.h","additions":28,"deletions":24,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunibreak.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -10,1 +10,1 @@\n-#define G_UNICODE_DATA_VERSION \"14\"\n+#define G_UNICODE_DATA_VERSION \"15.0.0\"\n@@ -17,1 +17,1 @@\n-#define G_UNICODE_LAST_CHAR_PART1 0x313FF\n+#define G_UNICODE_LAST_CHAR_PART1 0x323FF\n@@ -21,1 +21,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -151,1 +151,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -281,1 +281,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -411,1 +411,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -541,1 +541,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -671,1 +671,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -801,1 +801,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -931,1 +931,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -1061,1 +1061,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1191,1 +1191,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1321,1 +1321,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1451,1 +1451,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1572,1 +1572,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1581,1 +1581,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1711,1 +1711,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n@@ -1813,1 +1813,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_UNKNOWN,\n@@ -1840,1 +1840,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_BEFORE,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_BEFORE,\n@@ -1968,1 +1968,1 @@\n-    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n+     G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n@@ -2098,1 +2098,1 @@\n-    G_UNICODE_BREAK_HANGUL_L_JAMO, G_UNICODE_BREAK_HANGUL_L_JAMO,\n+     G_UNICODE_BREAK_HANGUL_L_JAMO, G_UNICODE_BREAK_HANGUL_L_JAMO,\n@@ -2228,1 +2228,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2358,1 +2358,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2488,1 +2488,1 @@\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2618,1 +2618,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2748,1 +2748,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2878,1 +2878,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3008,1 +3008,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3138,1 +3138,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3268,1 +3268,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -3396,1 +3396,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3525,1 +3525,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3627,0 +3627,1 @@\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_NON_BREAKING_GLUE,\n@@ -3650,2 +3651,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_NON_BREAKING_GLUE, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -3655,1 +3655,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3785,1 +3785,1 @@\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n+     G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n@@ -3827,1 +3827,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n+    G_UNICODE_BREAK_POSTFIX, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n@@ -3904,1 +3904,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -4034,1 +4034,1 @@\n-    G_UNICODE_BREAK_AMBIGUOUS, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_AMBIGUOUS, G_UNICODE_BREAK_ALPHABETIC,\n@@ -4164,1 +4164,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -4294,1 +4294,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -4424,1 +4424,1 @@\n-    G_UNICODE_BREAK_AMBIGUOUS, G_UNICODE_BREAK_AMBIGUOUS,\n+     G_UNICODE_BREAK_AMBIGUOUS, G_UNICODE_BREAK_AMBIGUOUS,\n@@ -4554,1 +4554,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -4684,1 +4684,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -4814,1 +4814,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -4944,1 +4944,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -5074,1 +5074,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -5204,1 +5204,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -5334,1 +5334,1 @@\n-    G_UNICODE_BREAK_QUOTATION, G_UNICODE_BREAK_QUOTATION,\n+     G_UNICODE_BREAK_QUOTATION, G_UNICODE_BREAK_QUOTATION,\n@@ -5458,1 +5458,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -5588,1 +5588,1 @@\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_CLOSE_PUNCTUATION,\n+     G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_CLOSE_PUNCTUATION,\n@@ -5739,1 +5739,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -5877,1 +5877,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -6007,1 +6007,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -6137,1 +6137,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -6267,1 +6267,1 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -6397,1 +6397,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -6526,1 +6526,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -6656,1 +6656,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -6785,1 +6785,1 @@\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+     G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n@@ -6914,1 +6914,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -7044,1 +7044,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -7174,1 +7174,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -7304,1 +7304,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -7434,1 +7434,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -7564,1 +7564,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -7694,1 +7694,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -7824,1 +7824,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -7954,1 +7954,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8084,1 +8084,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8214,1 +8214,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8344,1 +8344,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8474,1 +8474,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8604,1 +8604,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8734,1 +8734,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8864,1 +8864,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -8994,1 +8994,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9124,1 +9124,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9254,1 +9254,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9384,1 +9384,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9514,1 +9514,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9644,1 +9644,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9774,1 +9774,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -9904,1 +9904,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10034,1 +10034,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10164,1 +10164,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10294,1 +10294,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10424,1 +10424,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10554,1 +10554,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10684,1 +10684,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10814,1 +10814,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -10944,1 +10944,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11074,1 +11074,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11204,1 +11204,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11334,1 +11334,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11464,1 +11464,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11594,1 +11594,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11724,1 +11724,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11854,1 +11854,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -11984,1 +11984,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12114,1 +12114,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12244,1 +12244,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12374,1 +12374,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12504,1 +12504,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12634,1 +12634,1 @@\n-    G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LV_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12764,1 +12764,1 @@\n-    G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n+     G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE, G_UNICODE_BREAK_HANGUL_LVT_SYLLABLE,\n@@ -12894,1 +12894,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -13024,1 +13024,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -13154,1 +13154,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -13284,1 +13284,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_EXCLAMATION,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_EXCLAMATION,\n@@ -13419,1 +13419,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -13549,1 +13549,1 @@\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n+     G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n@@ -13679,1 +13679,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -13809,1 +13809,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -13939,1 +13939,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14069,1 +14069,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14199,1 +14199,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14329,1 +14329,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14459,1 +14459,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14589,1 +14589,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -14717,1 +14717,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14846,1 +14846,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -14976,1 +14976,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15106,1 +15106,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -15232,2 +15232,2 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK\n@@ -15236,1 +15236,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15366,1 +15366,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -15496,1 +15496,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -15624,1 +15624,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15654,2 +15654,2 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -15753,1 +15753,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -15883,1 +15883,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -16012,1 +16012,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -16140,1 +16140,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -16268,1 +16268,1 @@\n-    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n+     G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n@@ -16398,1 +16398,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -16528,1 +16528,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -16658,1 +16658,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16785,35 +16785,5 @@\n-  { \/* page 284, index 129 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n+  { \/* page 283, index 129 *\/\n+     G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_BEFORE,\n+    G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_BEFORE,\n+    G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_BEFORE,\n+    G_UNICODE_BREAK_BEFORE, G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -16825,51 +16795,0 @@\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_BEFORE,\n-    G_UNICODE_BREAK_EXCLAMATION, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16912,24 +16831,103 @@\n-    G_UNICODE_BREAK_UNKNOWN\n-  },\n-  { \/* page 285, index 130 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 284, index 130 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -16942,2 +16940,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16946,1 +16943,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16950,1 +16946,3 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n+    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -16960,3 +16958,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -16966,2 +16961,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -16974,0 +16967,6 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_BEFORE,\n+    G_UNICODE_BREAK_EXCLAMATION, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -16984,0 +16983,11 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16988,1 +16998,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16991,2 +17000,4 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -16995,5 +17006,0 @@\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n@@ -17034,0 +17040,31 @@\n+    G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 285, index 131 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n@@ -17035,0 +17072,7 @@\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -17039,0 +17083,5 @@\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n@@ -17042,3 +17091,29 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n-  },\n-  { \/* page 286, index 131 *\/\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -17048,0 +17123,5 @@\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n@@ -17090,0 +17170,4 @@\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 286, index 132 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -17157,13 +17241,0 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -17172,3 +17243,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n-  },\n-  { \/* page 287, index 132 *\/\n@@ -17217,0 +17285,13 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -17219,0 +17300,33 @@\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 287, index 133 *\/\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n@@ -17220,0 +17334,14 @@\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_AFTER,\n+    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n@@ -17304,2 +17432,2 @@\n-  { \/* page 291, index 133 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 291, index 134 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -17434,2 +17562,2 @@\n-  { \/* page 292, index 134 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 292, index 135 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -17563,2 +17691,2 @@\n-  { \/* page 293, index 135 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 293, index 136 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -17693,2 +17821,2 @@\n-  { \/* page 303, index 136 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+  { \/* page 303, index 137 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -17823,2 +17951,2 @@\n-  { \/* page 306, index 137 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 306, index 138 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -17953,2 +18081,2 @@\n-  { \/* page 307, index 138 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 307, index 139 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18083,1 +18211,2 @@\n-  { \/* page 308, index 139 *\/\n+  { \/* page 308, index 140 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18107,1 +18236,0 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -18112,15 +18240,15 @@\n-    G_UNICODE_BREAK_CLOSE_PUNCTUATION, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_CLOSE_PUNCTUATION, G_UNICODE_BREAK_NON_BREAKING_GLUE,\n+    G_UNICODE_BREAK_NON_BREAKING_GLUE, G_UNICODE_BREAK_NON_BREAKING_GLUE,\n+    G_UNICODE_BREAK_OPEN_PUNCTUATION, G_UNICODE_BREAK_CLOSE_PUNCTUATION,\n+    G_UNICODE_BREAK_OPEN_PUNCTUATION, G_UNICODE_BREAK_CLOSE_PUNCTUATION,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -18213,2 +18341,2 @@\n-  { \/* page 325, index 140 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 325, index 141 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18343,2 +18471,2 @@\n-  { \/* page 326, index 141 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 326, index 142 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18473,2 +18601,2 @@\n-  { \/* page 362, index 142 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 362, index 143 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18602,2 +18730,2 @@\n-  { \/* page 363, index 143 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 363, index 144 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18732,2 +18860,2 @@\n-  { \/* page 366, index 144 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+  { \/* page 366, index 145 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -18862,2 +18990,2 @@\n-  { \/* page 367, index 145 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 367, index 146 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18992,2 +19120,2 @@\n-  { \/* page 391, index 146 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 391, index 147 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -19122,2 +19250,2 @@\n-  { \/* page 396, index 147 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 396, index 148 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -19252,2 +19380,2 @@\n-  { \/* page 397, index 148 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 397, index 149 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -19382,2 +19510,2 @@\n-  { \/* page 431, index 149 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+  { \/* page 431, index 150 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -19512,2 +19640,2 @@\n-  { \/* page 433, index 150 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 433, index 151 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -19538,1 +19666,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_CONDITIONAL_JAPANESE_STARTER, G_UNICODE_BREAK_UNKNOWN,\n@@ -19556,1 +19684,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_CONDITIONAL_JAPANESE_STARTER,\n@@ -19645,2 +19773,2 @@\n-  { \/* page 434, index 151 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 434, index 152 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -19775,2 +19903,2 @@\n-  { \/* page 444, index 152 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 444, index 153 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -19905,2 +20033,2 @@\n-  { \/* page 463, index 153 *\/\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+  { \/* page 463, index 154 *\/\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -20035,2 +20163,2 @@\n-  { \/* page 464, index 154 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 464, index 155 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20165,2 +20293,2 @@\n-  { \/* page 465, index 155 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 465, index 156 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20295,2 +20423,2 @@\n-  { \/* page 466, index 156 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 466, index 157 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20392,10 +20520,10 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20425,2 +20553,2 @@\n-  { \/* page 467, index 157 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 467, index 158 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20555,2 +20683,2 @@\n-  { \/* page 468, index 158 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 468, index 159 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20685,2 +20813,2 @@\n-  { \/* page 469, index 159 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 469, index 160 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20815,2 +20943,2 @@\n-  { \/* page 470, index 160 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 470, index 161 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -20945,2 +21073,2 @@\n-  { \/* page 471, index 161 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 471, index 162 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -21075,2 +21203,2 @@\n-  { \/* page 474, index 162 *\/\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+  { \/* page 474, index 163 *\/\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -21204,2 +21332,2 @@\n-  { \/* page 479, index 163 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 479, index 164 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -21223,4 +21351,4 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -21334,2 +21462,2 @@\n-  { \/* page 480, index 164 *\/\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+  { \/* page 480, index 165 *\/\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -21359,0 +21487,31 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -21375,32 +21534,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -21464,2 +21592,2 @@\n-  { \/* page 481, index 165 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 481, index 166 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -21594,2 +21722,2 @@\n-  { \/* page 482, index 166 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+  { \/* page 482, index 167 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -21724,1 +21852,41 @@\n-  { \/* page 487, index 167 *\/\n+  { \/* page 484, index 168 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -21789,0 +21957,90 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 487, index 169 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -21854,2 +22112,2 @@\n-  { \/* page 488, index 168 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 488, index 170 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -21984,2 +22242,2 @@\n-  { \/* page 489, index 169 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 489, index 171 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -22114,2 +22372,2 @@\n-  { \/* page 492, index 170 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+  { \/* page 492, index 172 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -22244,2 +22502,2 @@\n-  { \/* page 493, index 171 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 493, index 173 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -22374,2 +22632,2 @@\n-  { \/* page 494, index 172 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 494, index 174 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -22504,2 +22762,2 @@\n-  { \/* page 497, index 173 *\/\n-    G_UNICODE_BREAK_AMBIGUOUS, G_UNICODE_BREAK_AMBIGUOUS,\n+  { \/* page 497, index 175 *\/\n+     G_UNICODE_BREAK_AMBIGUOUS, G_UNICODE_BREAK_AMBIGUOUS,\n@@ -22634,2 +22892,2 @@\n-  { \/* page 499, index 174 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 499, index 176 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -22764,2 +23022,2 @@\n-  { \/* page 500, index 175 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 500, index 177 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -22894,2 +23152,2 @@\n-  { \/* page 501, index 176 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 501, index 178 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -23024,2 +23282,2 @@\n-  { \/* page 502, index 177 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 502, index 179 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -23154,2 +23412,2 @@\n-  { \/* page 503, index 178 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 503, index 180 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -23284,2 +23542,2 @@\n-  { \/* page 504, index 179 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 504, index 181 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -23414,2 +23672,2 @@\n-  { \/* page 505, index 180 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 505, index 182 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -23544,2 +23802,2 @@\n-  { \/* page 506, index 181 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 506, index 183 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -23668,0 +23926,1 @@\n+    G_UNICODE_BREAK_EMOJI_BASE, G_UNICODE_BREAK_EMOJI_BASE,\n@@ -23671,1 +23930,0 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -23674,2 +23932,2 @@\n-  { \/* page 507, index 182 *\/\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+  { \/* page 507, index 184 *\/\n+     G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -23804,2 +24062,2 @@\n-  { \/* page 511, index 183 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 511, index 185 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -23934,2 +24192,2 @@\n-  { \/* page 767, index 184 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 767, index 186 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -24064,2 +24322,2 @@\n-  { \/* page 1023, index 185 *\/\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+  { \/* page 1023, index 187 *\/\n+     G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -24194,2 +24452,2 @@\n-  { \/* page 3584, index 186 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+  { \/* page 3584, index 188 *\/\n+     G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -24324,2 +24582,2 @@\n-  { \/* page 3585, index 187 *\/\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+  { \/* page 3585, index 189 *\/\n+     G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -24456,2 +24714,2 @@\n-\/* U+0000 through U+313FF *\/\n-static const gint16 break_property_table_part1[788] = {\n+\/* U+0000 through U+323FF *\/\n+static const gint16 break_property_table_part1[804] = {\n@@ -24741,5 +24999,5 @@\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n-  129 \/* page 284 *\/,\n-  130 \/* page 285 *\/,\n-  131 \/* page 286 *\/,\n-  132 \/* page 287 *\/,\n+  129 \/* page 283 *\/,\n+  130 \/* page 284 *\/,\n+  131 \/* page 285 *\/,\n+  132 \/* page 286 *\/,\n+  133 \/* page 287 *\/,\n@@ -24749,3 +25007,3 @@\n-  133 \/* page 291 *\/,\n-  134 \/* page 292 *\/,\n-  135 \/* page 293 *\/,\n+  134 \/* page 291 *\/,\n+  135 \/* page 292 *\/,\n+  136 \/* page 293 *\/,\n@@ -24761,1 +25019,1 @@\n-  136 \/* page 303 *\/,\n+  137 \/* page 303 *\/,\n@@ -24764,3 +25022,3 @@\n-  137 \/* page 306 *\/,\n-  138 \/* page 307 *\/,\n-  139 \/* page 308 *\/,\n+  138 \/* page 306 *\/,\n+  139 \/* page 307 *\/,\n+  140 \/* page 308 *\/,\n@@ -24783,2 +25041,2 @@\n-  140 \/* page 325 *\/,\n-  141 \/* page 326 *\/,\n+  141 \/* page 325 *\/,\n+  142 \/* page 326 *\/,\n@@ -24820,2 +25078,2 @@\n-  142 \/* page 362 *\/,\n-  143 \/* page 363 *\/,\n+  143 \/* page 362 *\/,\n+  144 \/* page 363 *\/,\n@@ -24824,2 +25082,2 @@\n-  144 \/* page 366 *\/,\n-  145 \/* page 367 *\/,\n+  145 \/* page 366 *\/,\n+  146 \/* page 367 *\/,\n@@ -24849,1 +25107,1 @@\n-  146 \/* page 391 *\/,\n+  147 \/* page 391 *\/,\n@@ -24854,2 +25112,2 @@\n-  147 \/* page 396 *\/,\n-  148 \/* page 397 *\/,\n+  148 \/* page 396 *\/,\n+  149 \/* page 397 *\/,\n@@ -24889,1 +25147,1 @@\n-  149 \/* page 431 *\/,\n+  150 \/* page 431 *\/,\n@@ -24891,2 +25149,2 @@\n-  150 \/* page 433 *\/,\n-  151 \/* page 434 *\/,\n+  151 \/* page 433 *\/,\n+  152 \/* page 434 *\/,\n@@ -24902,1 +25160,1 @@\n-  152 \/* page 444 *\/,\n+  153 \/* page 444 *\/,\n@@ -24921,9 +25179,9 @@\n-  153 \/* page 463 *\/,\n-  154 \/* page 464 *\/,\n-  155 \/* page 465 *\/,\n-  156 \/* page 466 *\/,\n-  157 \/* page 467 *\/,\n-  158 \/* page 468 *\/,\n-  159 \/* page 469 *\/,\n-  160 \/* page 470 *\/,\n-  161 \/* page 471 *\/,\n+  154 \/* page 463 *\/,\n+  155 \/* page 464 *\/,\n+  156 \/* page 465 *\/,\n+  157 \/* page 466 *\/,\n+  158 \/* page 467 *\/,\n+  159 \/* page 468 *\/,\n+  160 \/* page 469 *\/,\n+  161 \/* page 470 *\/,\n+  162 \/* page 471 *\/,\n@@ -24932,2 +25190,1 @@\n-  162 \/* page 474 *\/,\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n+  163 \/* page 474 *\/,\n@@ -24937,4 +25194,0 @@\n-  163 \/* page 479 *\/,\n-  164 \/* page 480 *\/,\n-  165 \/* page 481 *\/,\n-  166 \/* page 482 *\/,\n@@ -24942,0 +25195,4 @@\n+  164 \/* page 479 *\/,\n+  165 \/* page 480 *\/,\n+  166 \/* page 481 *\/,\n+  167 \/* page 482 *\/,\n@@ -24943,0 +25200,1 @@\n+  168 \/* page 484 *\/,\n@@ -24945,3 +25203,3 @@\n-  167 \/* page 487 *\/,\n-  168 \/* page 488 *\/,\n-  169 \/* page 489 *\/,\n+  169 \/* page 487 *\/,\n+  170 \/* page 488 *\/,\n+  171 \/* page 489 *\/,\n@@ -24950,3 +25208,3 @@\n-  170 \/* page 492 *\/,\n-  171 \/* page 493 *\/,\n-  172 \/* page 494 *\/,\n+  172 \/* page 492 *\/,\n+  173 \/* page 493 *\/,\n+  174 \/* page 494 *\/,\n@@ -24955,1 +25213,27 @@\n-  173 \/* page 497 *\/,\n+  175 \/* page 497 *\/,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  176 \/* page 499 *\/,\n+  177 \/* page 500 *\/,\n+  178 \/* page 501 *\/,\n+  179 \/* page 502 *\/,\n+  180 \/* page 503 *\/,\n+  181 \/* page 504 *\/,\n+  182 \/* page 505 *\/,\n+  183 \/* page 506 *\/,\n+  184 \/* page 507 *\/,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  185 \/* page 511 *\/,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_BREAK_IDEOGRAPHIC + G_UNICODE_MAX_TABLE_INDEX,\n@@ -24957,9 +25241,0 @@\n-  174 \/* page 499 *\/,\n-  175 \/* page 500 *\/,\n-  176 \/* page 501 *\/,\n-  177 \/* page 502 *\/,\n-  178 \/* page 503 *\/,\n-  179 \/* page 504 *\/,\n-  180 \/* page 505 *\/,\n-  181 \/* page 506 *\/,\n-  182 \/* page 507 *\/,\n@@ -24969,1 +25244,0 @@\n-  183 \/* page 511 *\/,\n@@ -25209,0 +25483,1 @@\n+  186 \/* page 767 *\/,\n@@ -25225,1 +25500,0 @@\n-  184 \/* page 767 *\/,\n@@ -25250,2 +25524,2 @@\n-  186 \/* page 3584 *\/,\n-  187 \/* page 3585 *\/,\n+  188 \/* page 3584 *\/,\n+  189 \/* page 3585 *\/,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunibreak.h","additions":795,"deletions":521,"binary":false,"changes":1316,"status":"modified"},{"patch":"@@ -7,1 +7,1 @@\n-#define G_UNICODE_DATA_VERSION \"14\"\n+#define G_UNICODE_DATA_VERSION \"15.0.0\"\n@@ -13,1 +13,1 @@\n-#define G_UNICODE_LAST_CHAR_PART1 0x313FF\n+#define G_UNICODE_LAST_CHAR_PART1 0x323FF\n@@ -15,1 +15,1 @@\n-#define G_UNICODE_LAST_PAGE_PART1 787\n+#define G_UNICODE_LAST_PAGE_PART1 803\n@@ -19,1 +19,1 @@\n-    G_UNICODE_CONTROL, G_UNICODE_CONTROL, G_UNICODE_CONTROL,\n+     G_UNICODE_CONTROL, G_UNICODE_CONTROL, G_UNICODE_CONTROL,\n@@ -137,1 +137,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -267,1 +267,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -397,1 +397,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -525,1 +525,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n@@ -655,1 +655,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -775,1 +775,1 @@\n-    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n+     G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n@@ -880,1 +880,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+     G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n@@ -981,1 +981,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -1087,1 +1087,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -1186,1 +1186,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n@@ -1282,1 +1282,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK,\n@@ -1375,1 +1375,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK,\n@@ -1464,1 +1464,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_SPACING_MARK, G_UNICODE_UNASSIGNED,\n@@ -1471,1 +1471,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -1564,1 +1564,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -1641,1 +1641,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED,\n@@ -1646,3 +1646,3 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -1658,1 +1658,2 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED\n@@ -1661,1 +1662,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -1770,1 +1771,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -1884,1 +1885,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -1972,1 +1973,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2077,1 +2078,1 @@\n-    G_UNICODE_DASH_PUNCTUATION, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_DASH_PUNCTUATION, G_UNICODE_OTHER_LETTER,\n@@ -2165,1 +2166,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2255,1 +2256,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2351,1 +2352,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+     G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n@@ -2443,1 +2444,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2536,1 +2537,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2641,1 +2642,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -2743,1 +2744,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2854,1 +2855,1 @@\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -2984,1 +2985,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -3114,1 +3115,1 @@\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -3240,1 +3241,1 @@\n-    G_UNICODE_SPACE_SEPARATOR, G_UNICODE_SPACE_SEPARATOR,\n+     G_UNICODE_SPACE_SEPARATOR, G_UNICODE_SPACE_SEPARATOR,\n@@ -3355,1 +3356,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -3459,1 +3460,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -3548,1 +3549,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -3636,1 +3637,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -3724,1 +3725,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -3812,1 +3813,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -3905,1 +3906,1 @@\n-    G_UNICODE_MATH_SYMBOL, G_UNICODE_MATH_SYMBOL, G_UNICODE_MATH_SYMBOL,\n+     G_UNICODE_MATH_SYMBOL, G_UNICODE_MATH_SYMBOL, G_UNICODE_MATH_SYMBOL,\n@@ -3998,1 +3999,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -4086,1 +4087,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n@@ -4215,1 +4216,1 @@\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -4315,1 +4316,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+     G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n@@ -4418,1 +4419,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -4506,1 +4507,1 @@\n-    G_UNICODE_SPACE_SEPARATOR, G_UNICODE_OTHER_PUNCTUATION,\n+     G_UNICODE_SPACE_SEPARATOR, G_UNICODE_OTHER_PUNCTUATION,\n@@ -4606,1 +4607,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -4694,1 +4695,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -4782,1 +4783,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -4870,1 +4871,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -4958,1 +4959,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5047,1 +5048,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5156,1 +5157,1 @@\n-    G_UNICODE_MODIFIER_SYMBOL, G_UNICODE_MODIFIER_SYMBOL,\n+     G_UNICODE_MODIFIER_SYMBOL, G_UNICODE_MODIFIER_SYMBOL,\n@@ -5280,1 +5281,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5377,1 +5378,1 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+     G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n@@ -5480,1 +5481,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5579,1 +5580,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5693,1 +5694,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5781,1 +5782,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -5869,1 +5870,1 @@\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -5962,1 +5963,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -6051,1 +6052,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -6155,1 +6156,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_PUNCTUATION,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_PUNCTUATION,\n@@ -6262,1 +6263,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -6350,1 +6351,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+     G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n@@ -6446,1 +6447,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -6534,1 +6535,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -6624,1 +6625,1 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n@@ -6738,1 +6739,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -6839,1 +6840,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -6936,1 +6937,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7024,1 +7025,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7112,1 +7113,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n@@ -7205,1 +7206,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7295,1 +7296,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7400,1 +7401,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7490,1 +7491,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -7574,2 +7575,2 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK\n@@ -7578,1 +7579,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7670,1 +7671,1 @@\n-    G_UNICODE_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -7768,1 +7769,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -7869,1 +7870,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7893,0 +7894,2 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -7913,2 +7916,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -7917,2 +7918,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7920,0 +7919,2 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -7924,1 +7925,0 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -7926,0 +7926,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7928,2 +7929,2 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_PUNCTUATION,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -7931,0 +7932,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7946,1 +7948,0 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7964,1 +7965,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -8055,1 +8056,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8153,1 +8154,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -8247,1 +8248,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8345,1 +8346,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8437,1 +8438,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8539,1 +8540,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8631,1 +8632,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n@@ -8729,2 +8730,91 @@\n-  { \/* page 284, index 87 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 283, index 87 *\/\n+     G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 284, index 88 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8828,2 +8918,2 @@\n-  { \/* page 285, index 88 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 285, index 89 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8921,2 +9011,2 @@\n-  { \/* page 286, index 89 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 286, index 90 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9010,15 +9100,22 @@\n-  { \/* page 287, index 90 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 287, index 91 *\/\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_SPACING_MARK,\n+    G_UNICODE_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -9026,0 +9123,14 @@\n+    G_UNICODE_SPACING_MARK, G_UNICODE_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n@@ -9054,0 +9165,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -9058,18 +9170,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_NUMBER,\n@@ -9082,0 +9177,1 @@\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_SYMBOL,\n@@ -9084,2 +9180,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_CURRENCY_SYMBOL, G_UNICODE_CURRENCY_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_CURRENCY_SYMBOL,\n@@ -9087,0 +9182,1 @@\n+    G_UNICODE_CURRENCY_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -9092,2 +9188,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9097,1 +9192,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_PUNCTUATION\n@@ -9099,2 +9194,2 @@\n-  { \/* page 291, index 91 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 291, index 92 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9187,2 +9282,2 @@\n-  { \/* page 292, index 92 *\/\n-    G_UNICODE_LETTER_NUMBER, G_UNICODE_LETTER_NUMBER,\n+  { \/* page 292, index 93 *\/\n+     G_UNICODE_LETTER_NUMBER, G_UNICODE_LETTER_NUMBER,\n@@ -9294,2 +9389,2 @@\n-  { \/* page 293, index 93 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 293, index 94 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9382,2 +9477,2 @@\n-  { \/* page 303, index 94 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 303, index 95 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9470,1 +9565,2 @@\n-  { \/* page 308, index 95 *\/\n+  { \/* page 308, index 96 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9486,1 +9582,0 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -9489,11 +9584,13 @@\n-    G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n+    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9555,1 +9652,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n@@ -9557,2 +9654,2 @@\n-  { \/* page 326, index 96 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 326, index 97 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9645,2 +9742,2 @@\n-  { \/* page 362, index 97 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 362, index 98 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9737,2 +9834,2 @@\n-  { \/* page 363, index 98 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 363, index 99 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9829,2 +9926,2 @@\n-  { \/* page 366, index 99 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 366, index 100 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9928,2 +10025,2 @@\n-  { \/* page 367, index 100 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 367, index 101 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10019,2 +10116,2 @@\n-  { \/* page 391, index 101 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 391, index 102 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10107,2 +10204,2 @@\n-  { \/* page 396, index 102 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 396, index 103 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10195,2 +10292,2 @@\n-  { \/* page 397, index 103 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 397, index 104 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10283,2 +10380,2 @@\n-  { \/* page 431, index 104 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 431, index 105 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -10373,2 +10470,2 @@\n-  { \/* page 433, index 105 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 433, index 106 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10390,1 +10487,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -10402,1 +10499,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -10461,2 +10558,2 @@\n-  { \/* page 434, index 106 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 434, index 107 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10549,2 +10646,2 @@\n-  { \/* page 444, index 107 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 444, index 108 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -10637,2 +10734,2 @@\n-  { \/* page 463, index 108 *\/\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+  { \/* page 463, index 109 *\/\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -10736,2 +10833,2 @@\n-  { \/* page 464, index 109 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 464, index 110 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -10824,2 +10921,2 @@\n-  { \/* page 465, index 110 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 465, index 111 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -10916,2 +11013,2 @@\n-  { \/* page 466, index 111 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 466, index 112 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -10981,7 +11078,7 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n@@ -11004,2 +11101,2 @@\n-  { \/* page 467, index 112 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 467, index 113 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -11092,2 +11189,2 @@\n-  { \/* page 468, index 113 *\/\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+  { \/* page 468, index 114 *\/\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n@@ -11221,2 +11318,2 @@\n-  { \/* page 469, index 114 *\/\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+  { \/* page 469, index 115 *\/\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -11350,2 +11447,2 @@\n-  { \/* page 470, index 115 *\/\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+  { \/* page 470, index 116 *\/\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -11480,2 +11577,2 @@\n-  { \/* page 471, index 116 *\/\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+  { \/* page 471, index 117 *\/\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -11610,2 +11707,2 @@\n-  { \/* page 474, index 117 *\/\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+  { \/* page 474, index 118 *\/\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -11721,2 +11818,2 @@\n-  { \/* page 479, index 118 *\/\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+  { \/* page 479, index 119 *\/\n+     G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -11739,3 +11836,4 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -11814,2 +11912,2 @@\n-  { \/* page 480, index 119 *\/\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+  { \/* page 480, index 120 *\/\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -11837,0 +11935,32 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -11847,23 +11977,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED,\n@@ -11908,2 +12016,2 @@\n-  { \/* page 481, index 120 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 481, index 121 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -11999,2 +12107,2 @@\n-  { \/* page 482, index 121 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 482, index 122 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12089,1 +12197,21 @@\n-  { \/* page 487, index 122 *\/\n+  { \/* page 484, index 123 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12139,0 +12267,70 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 487, index 124 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12177,2 +12375,2 @@\n-  { \/* page 488, index 123 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 488, index 125 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -12266,2 +12464,2 @@\n-  { \/* page 489, index 124 *\/\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+  { \/* page 489, index 126 *\/\n+     G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n@@ -12368,2 +12566,2 @@\n-  { \/* page 492, index 125 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 492, index 127 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12456,2 +12654,2 @@\n-  { \/* page 493, index 126 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+  { \/* page 493, index 128 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n@@ -12544,2 +12742,2 @@\n-  { \/* page 494, index 127 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 494, index 129 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -12632,2 +12830,2 @@\n-  { \/* page 496, index 128 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 496, index 130 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -12720,2 +12918,2 @@\n-  { \/* page 497, index 129 *\/\n-    G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n+  { \/* page 497, index 131 *\/\n+     G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER, G_UNICODE_OTHER_NUMBER,\n@@ -12808,2 +13006,2 @@\n-  { \/* page 498, index 130 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 498, index 132 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -12896,2 +13094,2 @@\n-  { \/* page 499, index 131 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 499, index 133 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -12985,2 +13183,2 @@\n-  { \/* page 502, index 132 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 502, index 134 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13059,1 +13257,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13073,1 +13271,2 @@\n-  { \/* page 503, index 133 *\/\n+  { \/* page 503, index 135 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13114,3 +13313,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n@@ -13146,1 +13342,3 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n@@ -13161,2 +13359,2 @@\n-  { \/* page 504, index 134 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 504, index 136 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13249,2 +13447,2 @@\n-  { \/* page 506, index 135 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 506, index 137 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13289,1 +13487,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13295,1 +13493,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n@@ -13307,2 +13505,0 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n@@ -13312,2 +13508,0 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13316,4 +13510,2 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n@@ -13322,1 +13514,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13327,0 +13519,2 @@\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13328,0 +13522,4 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n@@ -13332,1 +13530,1 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13337,2 +13535,2 @@\n-  { \/* page 507, index 136 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+  { \/* page 507, index 138 *\/\n+     G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13426,2 +13624,2 @@\n-  { \/* page 678, index 137 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 678, index 139 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13514,1 +13712,2 @@\n-  { \/* page 695, index 138 *\/\n+  { \/* page 695, index 140 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13533,2 +13732,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13602,2 +13800,2 @@\n-  { \/* page 696, index 139 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 696, index 141 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13690,2 +13888,2 @@\n-  { \/* page 718, index 140 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 718, index 142 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13778,1 +13976,4 @@\n-  { \/* page 747, index 141 *\/\n+  { \/* page 747, index 143 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13851,0 +14052,18 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 762, index 144 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13854,0 +14073,67 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13866,1 +14152,104 @@\n-  { \/* page 762, index 142 *\/\n+  { \/* page 787, index 145 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER\n+  },\n+  { \/* page 803, index 146 *\/\n+     G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13877,78 +14266,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED\n-  },\n-  { \/* page 787, index 143 *\/\n@@ -13980,34 +14291,9 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -14042,2 +14328,2 @@\n-  { \/* page 3584, index 144 *\/\n-    G_UNICODE_UNASSIGNED, G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED,\n+  { \/* page 3584, index 147 *\/\n+     G_UNICODE_UNASSIGNED, G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED,\n@@ -14122,2 +14408,2 @@\n-  { \/* page 3585, index 145 *\/\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+  { \/* page 3585, index 148 *\/\n+     G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -14250,2 +14536,2 @@\n-  { \/* page 4095, index 146 *\/\n-    G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE,\n+  { \/* page 4095, index 149 *\/\n+     G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE,\n@@ -14338,2 +14624,2 @@\n-  { \/* page 4351, index 147 *\/\n-    G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE,\n+  { \/* page 4351, index 150 *\/\n+     G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE, G_UNICODE_PRIVATE_USE,\n@@ -14428,2 +14714,2 @@\n-\/* U+0000 through U+313FF *\/\n-static const gint16 type_table_part1[788] = {\n+\/* U+0000 through U+323FF *\/\n+static const gint16 type_table_part1[804] = {\n@@ -14713,5 +14999,5 @@\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n-  87 \/* page 284 *\/,\n-  88 \/* page 285 *\/,\n-  89 \/* page 286 *\/,\n-  90 \/* page 287 *\/,\n+  87 \/* page 283 *\/,\n+  88 \/* page 284 *\/,\n+  89 \/* page 285 *\/,\n+  90 \/* page 286 *\/,\n+  91 \/* page 287 *\/,\n@@ -14721,3 +15007,3 @@\n-  91 \/* page 291 *\/,\n-  92 \/* page 292 *\/,\n-  93 \/* page 293 *\/,\n+  92 \/* page 291 *\/,\n+  93 \/* page 292 *\/,\n+  94 \/* page 293 *\/,\n@@ -14733,1 +15019,1 @@\n-  94 \/* page 303 *\/,\n+  95 \/* page 303 *\/,\n@@ -14738,1 +15024,1 @@\n-  95 \/* page 308 *\/,\n+  96 \/* page 308 *\/,\n@@ -14756,1 +15042,1 @@\n-  96 \/* page 326 *\/,\n+  97 \/* page 326 *\/,\n@@ -14792,2 +15078,2 @@\n-  97 \/* page 362 *\/,\n-  98 \/* page 363 *\/,\n+  98 \/* page 362 *\/,\n+  99 \/* page 363 *\/,\n@@ -14796,2 +15082,2 @@\n-  99 \/* page 366 *\/,\n-  100 \/* page 367 *\/,\n+  100 \/* page 366 *\/,\n+  101 \/* page 367 *\/,\n@@ -14821,1 +15107,1 @@\n-  101 \/* page 391 *\/,\n+  102 \/* page 391 *\/,\n@@ -14826,2 +15112,2 @@\n-  102 \/* page 396 *\/,\n-  103 \/* page 397 *\/,\n+  103 \/* page 396 *\/,\n+  104 \/* page 397 *\/,\n@@ -14861,1 +15147,1 @@\n-  104 \/* page 431 *\/,\n+  105 \/* page 431 *\/,\n@@ -14863,2 +15149,2 @@\n-  105 \/* page 433 *\/,\n-  106 \/* page 434 *\/,\n+  106 \/* page 433 *\/,\n+  107 \/* page 434 *\/,\n@@ -14874,1 +15160,1 @@\n-  107 \/* page 444 *\/,\n+  108 \/* page 444 *\/,\n@@ -14893,9 +15179,9 @@\n-  108 \/* page 463 *\/,\n-  109 \/* page 464 *\/,\n-  110 \/* page 465 *\/,\n-  111 \/* page 466 *\/,\n-  112 \/* page 467 *\/,\n-  113 \/* page 468 *\/,\n-  114 \/* page 469 *\/,\n-  115 \/* page 470 *\/,\n-  116 \/* page 471 *\/,\n+  109 \/* page 463 *\/,\n+  110 \/* page 464 *\/,\n+  111 \/* page 465 *\/,\n+  112 \/* page 466 *\/,\n+  113 \/* page 467 *\/,\n+  114 \/* page 468 *\/,\n+  115 \/* page 469 *\/,\n+  116 \/* page 470 *\/,\n+  117 \/* page 471 *\/,\n@@ -14904,1 +15190,1 @@\n-  117 \/* page 474 *\/,\n+  118 \/* page 474 *\/,\n@@ -14909,4 +15195,4 @@\n-  118 \/* page 479 *\/,\n-  119 \/* page 480 *\/,\n-  120 \/* page 481 *\/,\n-  121 \/* page 482 *\/,\n+  119 \/* page 479 *\/,\n+  120 \/* page 480 *\/,\n+  121 \/* page 481 *\/,\n+  122 \/* page 482 *\/,\n@@ -14914,0 +15200,1 @@\n+  123 \/* page 484 *\/,\n@@ -14916,0 +15203,3 @@\n+  124 \/* page 487 *\/,\n+  125 \/* page 488 *\/,\n+  126 \/* page 489 *\/,\n@@ -14917,3 +15207,0 @@\n-  122 \/* page 487 *\/,\n-  123 \/* page 488 *\/,\n-  124 \/* page 489 *\/,\n@@ -14921,0 +15208,3 @@\n+  127 \/* page 492 *\/,\n+  128 \/* page 493 *\/,\n+  129 \/* page 494 *\/,\n@@ -14922,8 +15212,4 @@\n-  125 \/* page 492 *\/,\n-  126 \/* page 493 *\/,\n-  127 \/* page 494 *\/,\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n-  128 \/* page 496 *\/,\n-  129 \/* page 497 *\/,\n-  130 \/* page 498 *\/,\n-  131 \/* page 499 *\/,\n+  130 \/* page 496 *\/,\n+  131 \/* page 497 *\/,\n+  132 \/* page 498 *\/,\n+  133 \/* page 499 *\/,\n@@ -14932,3 +15218,3 @@\n-  132 \/* page 502 *\/,\n-  133 \/* page 503 *\/,\n-  134 \/* page 504 *\/,\n+  134 \/* page 502 *\/,\n+  135 \/* page 503 *\/,\n+  136 \/* page 504 *\/,\n@@ -14936,2 +15222,2 @@\n-  135 \/* page 506 *\/,\n-  136 \/* page 507 *\/,\n+  137 \/* page 506 *\/,\n+  138 \/* page 507 *\/,\n@@ -15108,1 +15394,1 @@\n-  137 \/* page 678 *\/,\n+  139 \/* page 678 *\/,\n@@ -15125,2 +15411,2 @@\n-  138 \/* page 695 *\/,\n-  139 \/* page 696 *\/,\n+  140 \/* page 695 *\/,\n+  141 \/* page 696 *\/,\n@@ -15148,1 +15434,1 @@\n-  140 \/* page 718 *\/,\n+  142 \/* page 718 *\/,\n@@ -15177,1 +15463,1 @@\n-  141 \/* page 747 *\/,\n+  143 \/* page 747 *\/,\n@@ -15192,1 +15478,1 @@\n-  142 \/* page 762 *\/,\n+  144 \/* page 762 *\/,\n@@ -15217,1 +15503,17 @@\n-  143 \/* page 787 *\/\n+  145 \/* page 787 *\/,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  146 \/* page 803 *\/\n@@ -15222,2 +15524,2 @@\n-  144 \/* page 3584 *\/,\n-  145 \/* page 3585 *\/,\n+  147 \/* page 3584 *\/,\n+  148 \/* page 3585 *\/,\n@@ -15733,1 +16035,1 @@\n-  146 \/* page 4095 *\/,\n+  149 \/* page 4095 *\/,\n@@ -15989,1 +16291,1 @@\n-  147 \/* page 4351 *\/\n+  150 \/* page 4351 *\/\n@@ -15994,1 +16296,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16025,1 +16327,1 @@\n-    0x0101, 0x0100, 0x0103, 0x0102, 0x0105, 0x0104, 0x0107, 0x0106, 0x0109,\n+     0x0101, 0x0100, 0x0103, 0x0102, 0x0105, 0x0104, 0x0107, 0x0106, 0x0109,\n@@ -16056,1 +16358,1 @@\n-    0x0201, 0x0200, 0x0203, 0x0202, 0x0205, 0x0204, 0x0207, 0x0206, 0x0209,\n+     0x0201, 0x0200, 0x0203, 0x0202, 0x0205, 0x0204, 0x0207, 0x0206, 0x0209,\n@@ -16087,1 +16389,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16118,1 +16420,1 @@\n-    0x0450, 0x0451, 0x0452, 0x0453, 0x0454, 0x0455, 0x0456, 0x0457, 0x0458,\n+     0x0450, 0x0451, 0x0452, 0x0453, 0x0454, 0x0455, 0x0456, 0x0457, 0x0458,\n@@ -16149,1 +16451,1 @@\n-    0x0501, 0x0500, 0x0503, 0x0502, 0x0505, 0x0504, 0x0507, 0x0506, 0x0509,\n+     0x0501, 0x0500, 0x0503, 0x0502, 0x0505, 0x0504, 0x0507, 0x0506, 0x0509,\n@@ -16180,1 +16482,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16211,1 +16513,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16242,1 +16544,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16273,1 +16575,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16304,1 +16606,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16335,1 +16637,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16366,1 +16668,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16397,1 +16699,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16428,1 +16730,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16459,1 +16761,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16490,1 +16792,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16521,1 +16823,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16552,1 +16854,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16583,1 +16885,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16614,1 +16916,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16645,1 +16947,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16676,1 +16978,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16707,1 +17009,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16738,1 +17040,1 @@\n-    0x1e01, 0x1e00, 0x1e03, 0x1e02, 0x1e05, 0x1e04, 0x1e07, 0x1e06, 0x1e09,\n+     0x1e01, 0x1e00, 0x1e03, 0x1e02, 0x1e05, 0x1e04, 0x1e07, 0x1e06, 0x1e09,\n@@ -16769,1 +17071,1 @@\n-    0x1f08, 0x1f09, 0x1f0a, 0x1f0b, 0x1f0c, 0x1f0d, 0x1f0e, 0x1f0f, 0x1f00,\n+     0x1f08, 0x1f09, 0x1f0a, 0x1f0b, 0x1f0c, 0x1f0d, 0x1f0e, 0x1f0f, 0x1f00,\n@@ -16804,1 +17106,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16835,1 +17137,1 @@\n-    0x2c30, 0x2c31, 0x2c32, 0x2c33, 0x2c34, 0x2c35, 0x2c36, 0x2c37, 0x2c38,\n+     0x2c30, 0x2c31, 0x2c32, 0x2c33, 0x2c34, 0x2c35, 0x2c36, 0x2c37, 0x2c38,\n@@ -16866,1 +17168,1 @@\n-    0x10a0, 0x10a1, 0x10a2, 0x10a3, 0x10a4, 0x10a5, 0x10a6, 0x10a7, 0x10a8,\n+     0x10a0, 0x10a1, 0x10a2, 0x10a3, 0x10a4, 0x10a5, 0x10a6, 0x10a7, 0x10a8,\n@@ -16897,1 +17199,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16928,1 +17230,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16959,1 +17261,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16990,1 +17292,1 @@\n-    0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008,\n+     0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008,\n@@ -17021,1 +17323,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17052,1 +17354,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17083,1 +17385,1 @@\n-    0x100000f, 0x1000016, 0x100001d, 0x1000024, 0x100002d, 0x1000036,\n+     0x100000f, 0x1000016, 0x100001d, 0x1000024, 0x100002d, 0x1000036,\n@@ -17115,1 +17417,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17146,1 +17448,1 @@\n-    0x10428, 0x10429, 0x1042a, 0x1042b, 0x1042c, 0x1042d, 0x1042e, 0x1042f,\n+     0x10428, 0x10429, 0x1042a, 0x1042b, 0x1042c, 0x1042d, 0x1042e, 0x1042f,\n@@ -17179,1 +17481,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17211,1 +17513,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17243,1 +17545,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17274,1 +17576,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17305,1 +17607,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17336,1 +17638,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17367,1 +17669,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17398,1 +17700,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17429,1 +17731,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17460,1 +17762,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17492,1 +17794,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17523,1 +17825,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17554,1 +17856,1 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17584,1 +17886,13 @@\n-  { \/* page 362, index 51 *\/\n+  { \/* page 287, index 51 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17595,0 +17909,19 @@\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000\n+  },\n+  { \/* page 362, index 52 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17615,2 +17948,2 @@\n-  { \/* page 363, index 52 *\/\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+  { \/* page 363, index 53 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17646,2 +17979,2 @@\n-  { \/* page 366, index 53 *\/\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+  { \/* page 366, index 54 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17678,2 +18011,2 @@\n-  { \/* page 471, index 54 *\/\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+  { \/* page 471, index 55 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17709,2 +18042,2 @@\n-  { \/* page 481, index 55 *\/\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+  { \/* page 481, index 56 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17740,1 +18073,13 @@\n-  { \/* page 482, index 56 *\/\n+  { \/* page 482, index 57 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17755,0 +18100,19 @@\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002,\n+    0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000\n+  },\n+  { \/* page 484, index 58 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17771,2 +18135,2 @@\n-  { \/* page 489, index 57 *\/\n-    0x1e922, 0x1e923, 0x1e924, 0x1e925, 0x1e926, 0x1e927, 0x1e928, 0x1e929,\n+  { \/* page 489, index 59 *\/\n+     0x1e922, 0x1e923, 0x1e924, 0x1e925, 0x1e926, 0x1e927, 0x1e928, 0x1e929,\n@@ -17803,2 +18167,2 @@\n-  { \/* page 507, index 58 *\/\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+  { \/* page 507, index 60 *\/\n+     0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17836,2 +18200,2 @@\n-\/* U+0000 through U+313FF *\/\n-static const gint16 attr_table_part1[788] = {\n+\/* U+0000 through U+323FF *\/\n+static const gint16 attr_table_part1[804] = {\n@@ -18125,0 +18489,15 @@\n+  51 \/* page 287 *\/,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n+  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n@@ -18185,0 +18564,2 @@\n+  52 \/* page 362 *\/,\n+  53 \/* page 363 *\/,\n@@ -18187,0 +18568,1 @@\n+  54 \/* page 366 *\/,\n@@ -18200,2 +18582,0 @@\n-  51 \/* page 362 *\/,\n-  52 \/* page 363 *\/,\n@@ -18204,1 +18584,0 @@\n-  53 \/* page 366 *\/,\n@@ -18294,0 +18673,1 @@\n+  55 \/* page 471 *\/,\n@@ -18303,0 +18683,2 @@\n+  56 \/* page 481 *\/,\n+  57 \/* page 482 *\/,\n@@ -18304,0 +18686,1 @@\n+  58 \/* page 484 *\/,\n@@ -18308,0 +18691,1 @@\n+  59 \/* page 489 *\/,\n@@ -18309,1 +18693,0 @@\n-  54 \/* page 471 *\/,\n@@ -18319,2 +18702,0 @@\n-  55 \/* page 481 *\/,\n-  56 \/* page 482 *\/,\n@@ -18327,1 +18708,0 @@\n-  57 \/* page 489 *\/,\n@@ -18329,0 +18709,1 @@\n+  60 \/* page 507 *\/,\n@@ -18345,1 +18726,0 @@\n-  58 \/* page 507 *\/,\n@@ -19869,1 +20249,2 @@\n-{0xF900, 0xFAFF},\n+{0xF900, 0xFA6D},\n+{0xFA70, 0xFAD9},\n@@ -19885,0 +20266,1 @@\n+{0x1B132, 0x1B132},\n@@ -19886,0 +20268,1 @@\n+{0x1B155, 0x1B155},\n@@ -19919,1 +20302,1 @@\n-{0x1F6DD, 0x1F6DF},\n+{0x1F6DC, 0x1F6DF},\n@@ -19927,11 +20310,15 @@\n-{0x1FA70, 0x1FA74},\n-{0x1FA78, 0x1FA7C},\n-{0x1FA80, 0x1FA86},\n-{0x1FA90, 0x1FAAC},\n-{0x1FAB0, 0x1FABA},\n-{0x1FAC0, 0x1FAC5},\n-{0x1FAD0, 0x1FAD9},\n-{0x1FAE0, 0x1FAE7},\n-{0x1FAF0, 0x1FAF6},\n-{0x20000, 0x2FFFD},\n-{0x30000, 0x3FFFD},\n+{0x1FA70, 0x1FA7C},\n+{0x1FA80, 0x1FA88},\n+{0x1FA90, 0x1FABD},\n+{0x1FABF, 0x1FAC5},\n+{0x1FACE, 0x1FADB},\n+{0x1FAE0, 0x1FAE8},\n+{0x1FAF0, 0x1FAF8},\n+{0x20000, 0x2A6DF},\n+{0x2A700, 0x2B739},\n+{0x2B740, 0x2B81D},\n+{0x2B820, 0x2CEA1},\n+{0x2CEB0, 0x2EBE0},\n+{0x2F800, 0x2FA1D},\n+{0x30000, 0x3134A},\n+{0x31350, 0x323AF},\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunichartables.h","additions":975,"deletions":588,"binary":false,"changes":1563,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -211,1 +213,1 @@\n- * See [Unicode Line Breaking Algorithm](http:\/\/www.unicode.org\/unicode\/reports\/tr14\/).\n+ * See [Unicode Line Breaking Algorithm](https:\/\/www.unicode.org\/reports\/tr14\/).\n@@ -439,0 +441,2 @@\n+ * @G_UNICODE_SCRIPT_KAWI:                 Kawi. Since 2.74\n+ * @G_UNICODE_SCRIPT_NAG_MUNDARI:          Nag Mundari. Since 2.74\n@@ -647,0 +651,4 @@\n+\n+  \/* Unicode 15.0 additions *\/\n+  G_UNICODE_SCRIPT_KAWI GLIB_AVAILABLE_ENUMERATOR_IN_2_74,          \/* Kawi *\/\n+  G_UNICODE_SCRIPT_NAG_MUNDARI GLIB_AVAILABLE_ENUMERATOR_IN_2_74,   \/* Nag Mundari *\/\n@@ -828,0 +836,4 @@\n+GLIB_AVAILABLE_IN_2_78\n+gchar   *g_utf8_truncate_middle   (const gchar *string,\n+                                   gsize        truncate_length);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunicode.h","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunicodeprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunicollate.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -10,1 +10,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -24,1 +24,1 @@\n-    0, 0, 61, 62, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 64, 0, 0, 0,\n+     0, 0, 61, 62, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 64, 0, 0, 0,\n@@ -38,1 +38,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -51,1 +51,1 @@\n-    378, 379, 380, 381, 382, 0, 383, 384, 385, 386, 387, 388, 389, 0, 0, 390,\n+     378, 379, 380, 381, 382, 0, 383, 384, 385, 386, 387, 388, 389, 0, 0, 390,\n@@ -65,1 +65,1 @@\n-    0, 0, 0, 0, 0, 0, 190, 0, 0, 0, 0, 0, 0, 0, 0, 0, 89, 0, 0, 191, 0, 90,\n+     0, 0, 0, 0, 0, 0, 190, 0, 0, 0, 0, 0, 0, 0, 0, 0, 89, 0, 0, 191, 0, 90,\n@@ -79,1 +79,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -92,1 +92,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -105,1 +105,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -118,1 +118,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -131,1 +131,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -144,1 +144,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -157,1 +157,1 @@\n-    0, 0, 0, 0, 0, 228, 0, 229, 0, 230, 0, 231, 0, 232, 0, 0, 0, 233, 0, 0,\n+     0, 0, 0, 0, 0, 228, 0, 229, 0, 230, 0, 231, 0, 232, 0, 0, 0, 233, 0, 0,\n@@ -170,1 +170,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -183,1 +183,1 @@\n-    108, 109, 249, 250, 251, 252, 253, 254, 110, 111, 255, 256, 257, 258,\n+     108, 109, 249, 250, 251, 252, 253, 254, 110, 111, 255, 256, 257, 258,\n@@ -198,1 +198,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -211,1 +211,1 @@\n-    0, 0, 0, 297, 0, 0, 0, 0, 298, 0, 0, 299, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 297, 0, 0, 0, 0, 298, 0, 0, 299, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -225,1 +225,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -239,1 +239,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -252,1 +252,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -265,1 +265,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -278,1 +278,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -291,1 +291,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -304,1 +304,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunicomp.h","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -114,1 +116,1 @@\n- * @string: a UCS-4 encoded string.\n+ * @string: (array length=len) (element-type gunichar): a UCS-4 encoded string.\n@@ -393,1 +395,2 @@\n-      gunichar wc = g_utf8_get_char (p);\n+      const char *next, *between;\n+      gunichar wc;\n@@ -395,1 +398,24 @@\n-      if (wc >= SBase && wc < SBase + SCount)\n+      next = g_utf8_next_char (p);\n+      \/* Avoid reading truncated multibyte characters\n+         which run past the end of the buffer *\/\n+      if (max_len < 0)\n+        {\n+          \/* Does the character contain a NUL terminator? *\/\n+          for (between = &p[1]; between < next; between++)\n+            {\n+              if (G_UNLIKELY (!*between))\n+                return NULL;\n+            }\n+        }\n+      else\n+        {\n+          if (G_UNLIKELY (next > str + max_len))\n+            return NULL;\n+        }\n+      wc = g_utf8_get_char (p);\n+\n+      if (G_UNLIKELY (wc == (gunichar) -1))\n+        {\n+          return NULL;\n+        }\n+      else if (wc >= SBase && wc < SBase + SCount)\n@@ -411,1 +437,1 @@\n-      p = g_utf8_next_char (p);\n+      p = next;\n@@ -553,1 +579,1 @@\n-  gchar *result;\n+  gchar *result = NULL;\n@@ -555,2 +581,5 @@\n-  result = g_ucs4_to_utf8 (result_wc, -1, NULL, NULL, NULL);\n-  g_free (result_wc);\n+  if (G_LIKELY (result_wc != NULL))\n+    {\n+      result = g_ucs4_to_utf8 (result_wc, -1, NULL, NULL, NULL);\n+      g_free (result_wc);\n+    }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunidecomp.c","additions":36,"deletions":7,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -10,1 +10,1 @@\n-#define G_UNICODE_LAST_CHAR_PART1 0x313FF\n+#define G_UNICODE_LAST_CHAR_PART1 0x323FF\n@@ -12,1 +12,1 @@\n-#define G_UNICODE_LAST_PAGE_PART1 787\n+#define G_UNICODE_LAST_PAGE_PART1 803\n@@ -18,1 +18,1 @@\n-    230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230,\n+     230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230,\n@@ -34,1 +34,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -47,1 +47,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -61,1 +61,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230, 230, 230, 230, 230,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230, 230, 230, 230, 230,\n@@ -75,1 +75,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 0, 0, 0, 0, 0, 0,\n@@ -89,1 +89,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230,\n@@ -104,1 +104,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -117,1 +117,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -130,1 +130,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -143,1 +143,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -156,1 +156,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -169,1 +169,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -182,1 +182,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -196,1 +196,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -209,1 +209,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -222,1 +222,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 0, 0,\n@@ -235,1 +235,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -248,1 +248,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -261,1 +261,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230,\n@@ -275,1 +275,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -288,1 +288,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -302,1 +302,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -317,1 +317,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -331,1 +331,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -344,1 +344,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -358,1 +358,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -371,1 +371,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -385,1 +385,1 @@\n-    0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -399,1 +399,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -412,1 +412,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -425,1 +425,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -438,1 +438,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -451,1 +451,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -465,1 +465,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -478,1 +478,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -491,1 +491,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -504,1 +504,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 220, 0, 230, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 220, 0, 230, 0, 0, 0, 0, 0, 0, 0,\n@@ -517,1 +517,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -530,1 +530,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -540,1 +540,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 220, 220, 220\n@@ -543,1 +543,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -557,1 +557,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -570,1 +570,1 @@\n-    230, 230, 230, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     230, 230, 230, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -583,1 +583,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -596,1 +596,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -609,1 +609,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -622,1 +622,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -635,1 +635,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -648,1 +648,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -661,1 +661,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -674,1 +674,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -687,1 +687,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -700,1 +700,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -713,1 +713,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -725,1 +725,5 @@\n-  { \/* page 362, index 53 *\/\n+  { \/* page 287, index 53 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -732,0 +736,9 @@\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n+  },\n+  { \/* page 362, index 54 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -738,2 +751,2 @@\n-  { \/* page 363, index 54 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 363, index 55 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -751,2 +764,2 @@\n-  { \/* page 367, index 55 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 367, index 56 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -764,2 +777,2 @@\n-  { \/* page 444, index 56 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 444, index 57 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -777,2 +790,2 @@\n-  { \/* page 465, index 57 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 465, index 58 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -791,2 +804,2 @@\n-  { \/* page 466, index 58 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 466, index 59 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -804,2 +817,2 @@\n-  { \/* page 480, index 59 *\/\n-    230, 230, 230, 230, 230, 230, 230, 0, 230, 230, 230, 230, 230, 230, 230,\n+  { \/* page 480, index 60 *\/\n+     230, 230, 230, 230, 230, 230, 230, 0, 230, 230, 230, 230, 230, 230, 230,\n@@ -812,1 +825,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    230, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -818,2 +831,2 @@\n-  { \/* page 481, index 60 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 481, index 61 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -831,2 +844,2 @@\n-  { \/* page 482, index 61 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 482, index 62 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -844,1 +857,2 @@\n-  { \/* page 488, index 62 *\/\n+  { \/* page 484, index 63 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -853,0 +867,12 @@\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 232, 232,\n+    220, 230, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n+  },\n+  { \/* page 488, index 64 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -857,2 +883,2 @@\n-  { \/* page 489, index 63 *\/\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+  { \/* page 489, index 65 *\/\n+     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -872,1 +898,1 @@\n-static const gint16 combining_class_table_part1[788] = {\n+static const gint16 combining_class_table_part1[804] = {\n@@ -1160,0 +1186,15 @@\n+  53 \/* page 287 *\/,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n+  0 + G_UNICODE_MAX_TABLE_INDEX,\n@@ -1220,0 +1261,2 @@\n+  54 \/* page 362 *\/,\n+  55 \/* page 363 *\/,\n@@ -1223,0 +1266,1 @@\n+  56 \/* page 367 *\/,\n@@ -1235,2 +1279,0 @@\n-  53 \/* page 362 *\/,\n-  54 \/* page 363 *\/,\n@@ -1240,1 +1282,0 @@\n-  55 \/* page 367 *\/,\n@@ -1302,0 +1343,1 @@\n+  57 \/* page 444 *\/,\n@@ -1317,1 +1359,0 @@\n-  56 \/* page 444 *\/,\n@@ -1323,0 +1364,2 @@\n+  58 \/* page 465 *\/,\n+  59 \/* page 466 *\/,\n@@ -1336,0 +1379,3 @@\n+  60 \/* page 480 *\/,\n+  61 \/* page 481 *\/,\n+  62 \/* page 482 *\/,\n@@ -1337,0 +1383,1 @@\n+  63 \/* page 484 *\/,\n@@ -1338,2 +1385,0 @@\n-  57 \/* page 465 *\/,\n-  58 \/* page 466 *\/,\n@@ -1342,0 +1387,2 @@\n+  64 \/* page 488 *\/,\n+  65 \/* page 489 *\/,\n@@ -1353,3 +1400,0 @@\n-  59 \/* page 480 *\/,\n-  60 \/* page 481 *\/,\n-  61 \/* page 482 *\/,\n@@ -1361,2 +1405,0 @@\n-  62 \/* page 488 *\/,\n-  63 \/* page 489 *\/,\n@@ -7409,0 +7451,62 @@\n+  { 0x1e030, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n+  { 0x1e031, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n+  { 0x1e032, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n+  { 0x1e033, G_UNICODE_NOT_PRESENT_OFFSET, 15575 },\n+  { 0x1e034, G_UNICODE_NOT_PRESENT_OFFSET, 15578 },\n+  { 0x1e035, G_UNICODE_NOT_PRESENT_OFFSET, 15581 },\n+  { 0x1e036, G_UNICODE_NOT_PRESENT_OFFSET, 15584 },\n+  { 0x1e037, G_UNICODE_NOT_PRESENT_OFFSET, 15587 },\n+  { 0x1e038, G_UNICODE_NOT_PRESENT_OFFSET, 15590 },\n+  { 0x1e039, G_UNICODE_NOT_PRESENT_OFFSET, 15593 },\n+  { 0x1e03a, G_UNICODE_NOT_PRESENT_OFFSET, 15596 },\n+  { 0x1e03b, G_UNICODE_NOT_PRESENT_OFFSET, 15599 },\n+  { 0x1e03c, G_UNICODE_NOT_PRESENT_OFFSET, 15602 },\n+  { 0x1e03d, G_UNICODE_NOT_PRESENT_OFFSET, 15605 },\n+  { 0x1e03e, G_UNICODE_NOT_PRESENT_OFFSET, 15608 },\n+  { 0x1e03f, G_UNICODE_NOT_PRESENT_OFFSET, 15611 },\n+  { 0x1e040, G_UNICODE_NOT_PRESENT_OFFSET, 15614 },\n+  { 0x1e041, G_UNICODE_NOT_PRESENT_OFFSET, 15617 },\n+  { 0x1e042, G_UNICODE_NOT_PRESENT_OFFSET, 15620 },\n+  { 0x1e043, G_UNICODE_NOT_PRESENT_OFFSET, 15623 },\n+  { 0x1e044, G_UNICODE_NOT_PRESENT_OFFSET, 15626 },\n+  { 0x1e045, G_UNICODE_NOT_PRESENT_OFFSET, 15629 },\n+  { 0x1e046, G_UNICODE_NOT_PRESENT_OFFSET, 15632 },\n+  { 0x1e047, G_UNICODE_NOT_PRESENT_OFFSET, 15635 },\n+  { 0x1e048, G_UNICODE_NOT_PRESENT_OFFSET, 15638 },\n+  { 0x1e049, G_UNICODE_NOT_PRESENT_OFFSET, 15641 },\n+  { 0x1e04a, G_UNICODE_NOT_PRESENT_OFFSET, 15644 },\n+  { 0x1e04b, G_UNICODE_NOT_PRESENT_OFFSET, 15648 },\n+  { 0x1e04c, G_UNICODE_NOT_PRESENT_OFFSET, 15651 },\n+  { 0x1e04d, G_UNICODE_NOT_PRESENT_OFFSET, 15654 },\n+  { 0x1e04e, G_UNICODE_NOT_PRESENT_OFFSET, 15657 },\n+  { 0x1e04f, G_UNICODE_NOT_PRESENT_OFFSET, 15660 },\n+  { 0x1e050, G_UNICODE_NOT_PRESENT_OFFSET, 15663 },\n+  { 0x1e051, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n+  { 0x1e052, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n+  { 0x1e053, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n+  { 0x1e054, G_UNICODE_NOT_PRESENT_OFFSET, 15575 },\n+  { 0x1e055, G_UNICODE_NOT_PRESENT_OFFSET, 15578 },\n+  { 0x1e056, G_UNICODE_NOT_PRESENT_OFFSET, 15581 },\n+  { 0x1e057, G_UNICODE_NOT_PRESENT_OFFSET, 15584 },\n+  { 0x1e058, G_UNICODE_NOT_PRESENT_OFFSET, 15587 },\n+  { 0x1e059, G_UNICODE_NOT_PRESENT_OFFSET, 15590 },\n+  { 0x1e05a, G_UNICODE_NOT_PRESENT_OFFSET, 15593 },\n+  { 0x1e05b, G_UNICODE_NOT_PRESENT_OFFSET, 15596 },\n+  { 0x1e05c, G_UNICODE_NOT_PRESENT_OFFSET, 15602 },\n+  { 0x1e05d, G_UNICODE_NOT_PRESENT_OFFSET, 15605 },\n+  { 0x1e05e, G_UNICODE_NOT_PRESENT_OFFSET, 15611 },\n+  { 0x1e05f, G_UNICODE_NOT_PRESENT_OFFSET, 15617 },\n+  { 0x1e060, G_UNICODE_NOT_PRESENT_OFFSET, 15620 },\n+  { 0x1e061, G_UNICODE_NOT_PRESENT_OFFSET, 15623 },\n+  { 0x1e062, G_UNICODE_NOT_PRESENT_OFFSET, 15626 },\n+  { 0x1e063, G_UNICODE_NOT_PRESENT_OFFSET, 15629 },\n+  { 0x1e064, G_UNICODE_NOT_PRESENT_OFFSET, 15632 },\n+  { 0x1e065, G_UNICODE_NOT_PRESENT_OFFSET, 10883 },\n+  { 0x1e066, G_UNICODE_NOT_PRESENT_OFFSET, 15635 },\n+  { 0x1e067, G_UNICODE_NOT_PRESENT_OFFSET, 15666 },\n+  { 0x1e068, G_UNICODE_NOT_PRESENT_OFFSET, 15651 },\n+  { 0x1e069, G_UNICODE_NOT_PRESENT_OFFSET, 15669 },\n+  { 0x1e06a, G_UNICODE_NOT_PRESENT_OFFSET, 15672 },\n+  { 0x1e06b, G_UNICODE_NOT_PRESENT_OFFSET, 15675 },\n+  { 0x1e06c, G_UNICODE_NOT_PRESENT_OFFSET, 15678 },\n+  { 0x1e06d, G_UNICODE_NOT_PRESENT_OFFSET, 15682 },\n@@ -7436,1 +7540,1 @@\n-  { 0x1ee1c, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n+  { 0x1ee1c, G_UNICODE_NOT_PRESENT_OFFSET, 15685 },\n@@ -7438,2 +7542,2 @@\n-  { 0x1ee1e, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n-  { 0x1ee1f, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n+  { 0x1ee1e, G_UNICODE_NOT_PRESENT_OFFSET, 15688 },\n+  { 0x1ee1f, G_UNICODE_NOT_PRESENT_OFFSET, 15691 },\n@@ -7474,1 +7578,1 @@\n-  { 0x1ee5f, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n+  { 0x1ee5f, G_UNICODE_NOT_PRESENT_OFFSET, 15691 },\n@@ -7496,2 +7600,2 @@\n-  { 0x1ee7c, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n-  { 0x1ee7e, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n+  { 0x1ee7c, G_UNICODE_NOT_PRESENT_OFFSET, 15685 },\n+  { 0x1ee7e, G_UNICODE_NOT_PRESENT_OFFSET, 15688 },\n@@ -7550,38 +7654,38 @@\n-  { 0x1f100, G_UNICODE_NOT_PRESENT_OFFSET, 15575 },\n-  { 0x1f101, G_UNICODE_NOT_PRESENT_OFFSET, 15578 },\n-  { 0x1f102, G_UNICODE_NOT_PRESENT_OFFSET, 15581 },\n-  { 0x1f103, G_UNICODE_NOT_PRESENT_OFFSET, 15584 },\n-  { 0x1f104, G_UNICODE_NOT_PRESENT_OFFSET, 15587 },\n-  { 0x1f105, G_UNICODE_NOT_PRESENT_OFFSET, 15590 },\n-  { 0x1f106, G_UNICODE_NOT_PRESENT_OFFSET, 15593 },\n-  { 0x1f107, G_UNICODE_NOT_PRESENT_OFFSET, 15596 },\n-  { 0x1f108, G_UNICODE_NOT_PRESENT_OFFSET, 15599 },\n-  { 0x1f109, G_UNICODE_NOT_PRESENT_OFFSET, 15602 },\n-  { 0x1f10a, G_UNICODE_NOT_PRESENT_OFFSET, 15605 },\n-  { 0x1f110, G_UNICODE_NOT_PRESENT_OFFSET, 15608 },\n-  { 0x1f111, G_UNICODE_NOT_PRESENT_OFFSET, 15612 },\n-  { 0x1f112, G_UNICODE_NOT_PRESENT_OFFSET, 15616 },\n-  { 0x1f113, G_UNICODE_NOT_PRESENT_OFFSET, 15620 },\n-  { 0x1f114, G_UNICODE_NOT_PRESENT_OFFSET, 15624 },\n-  { 0x1f115, G_UNICODE_NOT_PRESENT_OFFSET, 15628 },\n-  { 0x1f116, G_UNICODE_NOT_PRESENT_OFFSET, 15632 },\n-  { 0x1f117, G_UNICODE_NOT_PRESENT_OFFSET, 15636 },\n-  { 0x1f118, G_UNICODE_NOT_PRESENT_OFFSET, 15640 },\n-  { 0x1f119, G_UNICODE_NOT_PRESENT_OFFSET, 15644 },\n-  { 0x1f11a, G_UNICODE_NOT_PRESENT_OFFSET, 15648 },\n-  { 0x1f11b, G_UNICODE_NOT_PRESENT_OFFSET, 15652 },\n-  { 0x1f11c, G_UNICODE_NOT_PRESENT_OFFSET, 15656 },\n-  { 0x1f11d, G_UNICODE_NOT_PRESENT_OFFSET, 15660 },\n-  { 0x1f11e, G_UNICODE_NOT_PRESENT_OFFSET, 15664 },\n-  { 0x1f11f, G_UNICODE_NOT_PRESENT_OFFSET, 15668 },\n-  { 0x1f120, G_UNICODE_NOT_PRESENT_OFFSET, 15672 },\n-  { 0x1f121, G_UNICODE_NOT_PRESENT_OFFSET, 15676 },\n-  { 0x1f122, G_UNICODE_NOT_PRESENT_OFFSET, 15680 },\n-  { 0x1f123, G_UNICODE_NOT_PRESENT_OFFSET, 15684 },\n-  { 0x1f124, G_UNICODE_NOT_PRESENT_OFFSET, 15688 },\n-  { 0x1f125, G_UNICODE_NOT_PRESENT_OFFSET, 15692 },\n-  { 0x1f126, G_UNICODE_NOT_PRESENT_OFFSET, 15696 },\n-  { 0x1f127, G_UNICODE_NOT_PRESENT_OFFSET, 15700 },\n-  { 0x1f128, G_UNICODE_NOT_PRESENT_OFFSET, 15704 },\n-  { 0x1f129, G_UNICODE_NOT_PRESENT_OFFSET, 15708 },\n-  { 0x1f12a, G_UNICODE_NOT_PRESENT_OFFSET, 15712 },\n+  { 0x1f100, G_UNICODE_NOT_PRESENT_OFFSET, 15694 },\n+  { 0x1f101, G_UNICODE_NOT_PRESENT_OFFSET, 15697 },\n+  { 0x1f102, G_UNICODE_NOT_PRESENT_OFFSET, 15700 },\n+  { 0x1f103, G_UNICODE_NOT_PRESENT_OFFSET, 15703 },\n+  { 0x1f104, G_UNICODE_NOT_PRESENT_OFFSET, 15706 },\n+  { 0x1f105, G_UNICODE_NOT_PRESENT_OFFSET, 15709 },\n+  { 0x1f106, G_UNICODE_NOT_PRESENT_OFFSET, 15712 },\n+  { 0x1f107, G_UNICODE_NOT_PRESENT_OFFSET, 15715 },\n+  { 0x1f108, G_UNICODE_NOT_PRESENT_OFFSET, 15718 },\n+  { 0x1f109, G_UNICODE_NOT_PRESENT_OFFSET, 15721 },\n+  { 0x1f10a, G_UNICODE_NOT_PRESENT_OFFSET, 15724 },\n+  { 0x1f110, G_UNICODE_NOT_PRESENT_OFFSET, 15727 },\n+  { 0x1f111, G_UNICODE_NOT_PRESENT_OFFSET, 15731 },\n+  { 0x1f112, G_UNICODE_NOT_PRESENT_OFFSET, 15735 },\n+  { 0x1f113, G_UNICODE_NOT_PRESENT_OFFSET, 15739 },\n+  { 0x1f114, G_UNICODE_NOT_PRESENT_OFFSET, 15743 },\n+  { 0x1f115, G_UNICODE_NOT_PRESENT_OFFSET, 15747 },\n+  { 0x1f116, G_UNICODE_NOT_PRESENT_OFFSET, 15751 },\n+  { 0x1f117, G_UNICODE_NOT_PRESENT_OFFSET, 15755 },\n+  { 0x1f118, G_UNICODE_NOT_PRESENT_OFFSET, 15759 },\n+  { 0x1f119, G_UNICODE_NOT_PRESENT_OFFSET, 15763 },\n+  { 0x1f11a, G_UNICODE_NOT_PRESENT_OFFSET, 15767 },\n+  { 0x1f11b, G_UNICODE_NOT_PRESENT_OFFSET, 15771 },\n+  { 0x1f11c, G_UNICODE_NOT_PRESENT_OFFSET, 15775 },\n+  { 0x1f11d, G_UNICODE_NOT_PRESENT_OFFSET, 15779 },\n+  { 0x1f11e, G_UNICODE_NOT_PRESENT_OFFSET, 15783 },\n+  { 0x1f11f, G_UNICODE_NOT_PRESENT_OFFSET, 15787 },\n+  { 0x1f120, G_UNICODE_NOT_PRESENT_OFFSET, 15791 },\n+  { 0x1f121, G_UNICODE_NOT_PRESENT_OFFSET, 15795 },\n+  { 0x1f122, G_UNICODE_NOT_PRESENT_OFFSET, 15799 },\n+  { 0x1f123, G_UNICODE_NOT_PRESENT_OFFSET, 15803 },\n+  { 0x1f124, G_UNICODE_NOT_PRESENT_OFFSET, 15807 },\n+  { 0x1f125, G_UNICODE_NOT_PRESENT_OFFSET, 15811 },\n+  { 0x1f126, G_UNICODE_NOT_PRESENT_OFFSET, 15815 },\n+  { 0x1f127, G_UNICODE_NOT_PRESENT_OFFSET, 15819 },\n+  { 0x1f128, G_UNICODE_NOT_PRESENT_OFFSET, 15823 },\n+  { 0x1f129, G_UNICODE_NOT_PRESENT_OFFSET, 15827 },\n+  { 0x1f12a, G_UNICODE_NOT_PRESENT_OFFSET, 15831 },\n@@ -7590,2 +7694,2 @@\n-  { 0x1f12d, G_UNICODE_NOT_PRESENT_OFFSET, 15720 },\n-  { 0x1f12e, G_UNICODE_NOT_PRESENT_OFFSET, 15723 },\n+  { 0x1f12d, G_UNICODE_NOT_PRESENT_OFFSET, 15839 },\n+  { 0x1f12e, G_UNICODE_NOT_PRESENT_OFFSET, 15842 },\n@@ -7618,1 +7722,1 @@\n-  { 0x1f14a, G_UNICODE_NOT_PRESENT_OFFSET, 15726 },\n+  { 0x1f14a, G_UNICODE_NOT_PRESENT_OFFSET, 15845 },\n@@ -7620,10 +7724,10 @@\n-  { 0x1f14c, G_UNICODE_NOT_PRESENT_OFFSET, 15729 },\n-  { 0x1f14d, G_UNICODE_NOT_PRESENT_OFFSET, 15732 },\n-  { 0x1f14e, G_UNICODE_NOT_PRESENT_OFFSET, 15735 },\n-  { 0x1f14f, G_UNICODE_NOT_PRESENT_OFFSET, 15739 },\n-  { 0x1f16a, G_UNICODE_NOT_PRESENT_OFFSET, 15742 },\n-  { 0x1f16b, G_UNICODE_NOT_PRESENT_OFFSET, 15745 },\n-  { 0x1f16c, G_UNICODE_NOT_PRESENT_OFFSET, 15748 },\n-  { 0x1f190, G_UNICODE_NOT_PRESENT_OFFSET, 15751 },\n-  { 0x1f200, G_UNICODE_NOT_PRESENT_OFFSET, 15754 },\n-  { 0x1f201, G_UNICODE_NOT_PRESENT_OFFSET, 15761 },\n+  { 0x1f14c, G_UNICODE_NOT_PRESENT_OFFSET, 15848 },\n+  { 0x1f14d, G_UNICODE_NOT_PRESENT_OFFSET, 15851 },\n+  { 0x1f14e, G_UNICODE_NOT_PRESENT_OFFSET, 15854 },\n+  { 0x1f14f, G_UNICODE_NOT_PRESENT_OFFSET, 15858 },\n+  { 0x1f16a, G_UNICODE_NOT_PRESENT_OFFSET, 15861 },\n+  { 0x1f16b, G_UNICODE_NOT_PRESENT_OFFSET, 15864 },\n+  { 0x1f16c, G_UNICODE_NOT_PRESENT_OFFSET, 15867 },\n+  { 0x1f190, G_UNICODE_NOT_PRESENT_OFFSET, 15870 },\n+  { 0x1f200, G_UNICODE_NOT_PRESENT_OFFSET, 15873 },\n+  { 0x1f201, G_UNICODE_NOT_PRESENT_OFFSET, 15880 },\n@@ -7632,2 +7736,2 @@\n-  { 0x1f211, G_UNICODE_NOT_PRESENT_OFFSET, 15768 },\n-  { 0x1f212, G_UNICODE_NOT_PRESENT_OFFSET, 15772 },\n+  { 0x1f211, G_UNICODE_NOT_PRESENT_OFFSET, 15887 },\n+  { 0x1f212, G_UNICODE_NOT_PRESENT_OFFSET, 15891 },\n@@ -7636,2 +7740,2 @@\n-  { 0x1f215, G_UNICODE_NOT_PRESENT_OFFSET, 15776 },\n-  { 0x1f216, G_UNICODE_NOT_PRESENT_OFFSET, 15780 },\n+  { 0x1f215, G_UNICODE_NOT_PRESENT_OFFSET, 15895 },\n+  { 0x1f216, G_UNICODE_NOT_PRESENT_OFFSET, 15899 },\n@@ -7639,3 +7743,3 @@\n-  { 0x1f218, G_UNICODE_NOT_PRESENT_OFFSET, 15784 },\n-  { 0x1f219, G_UNICODE_NOT_PRESENT_OFFSET, 15788 },\n-  { 0x1f21a, G_UNICODE_NOT_PRESENT_OFFSET, 15792 },\n+  { 0x1f218, G_UNICODE_NOT_PRESENT_OFFSET, 15903 },\n+  { 0x1f219, G_UNICODE_NOT_PRESENT_OFFSET, 15907 },\n+  { 0x1f21a, G_UNICODE_NOT_PRESENT_OFFSET, 15911 },\n@@ -7643,6 +7747,6 @@\n-  { 0x1f21c, G_UNICODE_NOT_PRESENT_OFFSET, 15796 },\n-  { 0x1f21d, G_UNICODE_NOT_PRESENT_OFFSET, 15800 },\n-  { 0x1f21e, G_UNICODE_NOT_PRESENT_OFFSET, 15804 },\n-  { 0x1f21f, G_UNICODE_NOT_PRESENT_OFFSET, 15808 },\n-  { 0x1f220, G_UNICODE_NOT_PRESENT_OFFSET, 15812 },\n-  { 0x1f221, G_UNICODE_NOT_PRESENT_OFFSET, 15816 },\n+  { 0x1f21c, G_UNICODE_NOT_PRESENT_OFFSET, 15915 },\n+  { 0x1f21d, G_UNICODE_NOT_PRESENT_OFFSET, 15919 },\n+  { 0x1f21e, G_UNICODE_NOT_PRESENT_OFFSET, 15923 },\n+  { 0x1f21f, G_UNICODE_NOT_PRESENT_OFFSET, 15927 },\n+  { 0x1f220, G_UNICODE_NOT_PRESENT_OFFSET, 15931 },\n+  { 0x1f221, G_UNICODE_NOT_PRESENT_OFFSET, 15935 },\n@@ -7650,6 +7754,6 @@\n-  { 0x1f223, G_UNICODE_NOT_PRESENT_OFFSET, 15820 },\n-  { 0x1f224, G_UNICODE_NOT_PRESENT_OFFSET, 15824 },\n-  { 0x1f225, G_UNICODE_NOT_PRESENT_OFFSET, 15828 },\n-  { 0x1f226, G_UNICODE_NOT_PRESENT_OFFSET, 15832 },\n-  { 0x1f227, G_UNICODE_NOT_PRESENT_OFFSET, 15836 },\n-  { 0x1f228, G_UNICODE_NOT_PRESENT_OFFSET, 15840 },\n+  { 0x1f223, G_UNICODE_NOT_PRESENT_OFFSET, 15939 },\n+  { 0x1f224, G_UNICODE_NOT_PRESENT_OFFSET, 15943 },\n+  { 0x1f225, G_UNICODE_NOT_PRESENT_OFFSET, 15947 },\n+  { 0x1f226, G_UNICODE_NOT_PRESENT_OFFSET, 15951 },\n+  { 0x1f227, G_UNICODE_NOT_PRESENT_OFFSET, 15955 },\n+  { 0x1f228, G_UNICODE_NOT_PRESENT_OFFSET, 15959 },\n@@ -7658,1 +7762,1 @@\n-  { 0x1f22b, G_UNICODE_NOT_PRESENT_OFFSET, 15844 },\n+  { 0x1f22b, G_UNICODE_NOT_PRESENT_OFFSET, 15963 },\n@@ -7662,1 +7766,1 @@\n-  { 0x1f22f, G_UNICODE_NOT_PRESENT_OFFSET, 15848 },\n+  { 0x1f22f, G_UNICODE_NOT_PRESENT_OFFSET, 15967 },\n@@ -7664,5 +7768,5 @@\n-  { 0x1f231, G_UNICODE_NOT_PRESENT_OFFSET, 15852 },\n-  { 0x1f232, G_UNICODE_NOT_PRESENT_OFFSET, 15856 },\n-  { 0x1f233, G_UNICODE_NOT_PRESENT_OFFSET, 15860 },\n-  { 0x1f234, G_UNICODE_NOT_PRESENT_OFFSET, 15864 },\n-  { 0x1f235, G_UNICODE_NOT_PRESENT_OFFSET, 15868 },\n+  { 0x1f231, G_UNICODE_NOT_PRESENT_OFFSET, 15971 },\n+  { 0x1f232, G_UNICODE_NOT_PRESENT_OFFSET, 15975 },\n+  { 0x1f233, G_UNICODE_NOT_PRESENT_OFFSET, 15979 },\n+  { 0x1f234, G_UNICODE_NOT_PRESENT_OFFSET, 15983 },\n+  { 0x1f235, G_UNICODE_NOT_PRESENT_OFFSET, 15987 },\n@@ -7671,15 +7775,15 @@\n-  { 0x1f238, G_UNICODE_NOT_PRESENT_OFFSET, 15872 },\n-  { 0x1f239, G_UNICODE_NOT_PRESENT_OFFSET, 15876 },\n-  { 0x1f23a, G_UNICODE_NOT_PRESENT_OFFSET, 15880 },\n-  { 0x1f23b, G_UNICODE_NOT_PRESENT_OFFSET, 15884 },\n-  { 0x1f240, G_UNICODE_NOT_PRESENT_OFFSET, 15888 },\n-  { 0x1f241, G_UNICODE_NOT_PRESENT_OFFSET, 15898 },\n-  { 0x1f242, G_UNICODE_NOT_PRESENT_OFFSET, 15908 },\n-  { 0x1f243, G_UNICODE_NOT_PRESENT_OFFSET, 15918 },\n-  { 0x1f244, G_UNICODE_NOT_PRESENT_OFFSET, 15928 },\n-  { 0x1f245, G_UNICODE_NOT_PRESENT_OFFSET, 15938 },\n-  { 0x1f246, G_UNICODE_NOT_PRESENT_OFFSET, 15948 },\n-  { 0x1f247, G_UNICODE_NOT_PRESENT_OFFSET, 15958 },\n-  { 0x1f248, G_UNICODE_NOT_PRESENT_OFFSET, 15968 },\n-  { 0x1f250, G_UNICODE_NOT_PRESENT_OFFSET, 15978 },\n-  { 0x1f251, G_UNICODE_NOT_PRESENT_OFFSET, 15982 },\n+  { 0x1f238, G_UNICODE_NOT_PRESENT_OFFSET, 15991 },\n+  { 0x1f239, G_UNICODE_NOT_PRESENT_OFFSET, 15995 },\n+  { 0x1f23a, G_UNICODE_NOT_PRESENT_OFFSET, 15999 },\n+  { 0x1f23b, G_UNICODE_NOT_PRESENT_OFFSET, 16003 },\n+  { 0x1f240, G_UNICODE_NOT_PRESENT_OFFSET, 16007 },\n+  { 0x1f241, G_UNICODE_NOT_PRESENT_OFFSET, 16017 },\n+  { 0x1f242, G_UNICODE_NOT_PRESENT_OFFSET, 16027 },\n+  { 0x1f243, G_UNICODE_NOT_PRESENT_OFFSET, 16037 },\n+  { 0x1f244, G_UNICODE_NOT_PRESENT_OFFSET, 16047 },\n+  { 0x1f245, G_UNICODE_NOT_PRESENT_OFFSET, 16057 },\n+  { 0x1f246, G_UNICODE_NOT_PRESENT_OFFSET, 16067 },\n+  { 0x1f247, G_UNICODE_NOT_PRESENT_OFFSET, 16077 },\n+  { 0x1f248, G_UNICODE_NOT_PRESENT_OFFSET, 16087 },\n+  { 0x1f250, G_UNICODE_NOT_PRESENT_OFFSET, 16097 },\n+  { 0x1f251, G_UNICODE_NOT_PRESENT_OFFSET, 16101 },\n@@ -7696,5 +7800,5 @@\n-  { 0x2f800, 15986, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f801, 15990, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f802, 15994, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f803, 15998, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f804, 16003, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f800, 16105, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f801, 16109, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f802, 16113, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f803, 16117, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f804, 16122, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7702,4 +7806,4 @@\n-  { 0x2f806, 16007, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f807, 16011, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f808, 16015, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f809, 16019, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f806, 16126, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f807, 16130, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f808, 16134, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f809, 16138, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7707,3 +7811,3 @@\n-  { 0x2f80b, 16023, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f80c, 16027, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f80d, 16031, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80b, 16142, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80c, 16146, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80d, 16150, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7711,12 +7815,12 @@\n-  { 0x2f80f, 16036, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f810, 16040, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f811, 16044, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f812, 16048, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f813, 16053, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f814, 16057, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f815, 15804, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f816, 16061, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f817, 16066, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f818, 16070, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f819, 16074, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f81a, 16078, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80f, 16155, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f810, 16159, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f811, 16163, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f812, 16167, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f813, 16172, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f814, 16176, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f815, 15923, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f816, 16180, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f817, 16185, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f818, 16189, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f819, 16193, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81a, 16197, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7724,1 +7828,1 @@\n-  { 0x2f81c, 16082, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81c, 16201, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7726,7 +7830,7 @@\n-  { 0x2f81e, 16087, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f81f, 16091, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f820, 16095, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f821, 16099, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f822, 15876, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f823, 16103, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f824, 16107, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81e, 16206, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81f, 16210, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f820, 16214, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f821, 16218, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f822, 15995, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f823, 16222, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f824, 16226, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7737,2 +7841,2 @@\n-  { 0x2f829, 16111, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f82a, 16115, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f829, 16230, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82a, 16234, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7740,1 +7844,1 @@\n-  { 0x2f82c, 16119, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82c, 16238, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7742,25 +7846,25 @@\n-  { 0x2f82e, 16123, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f82f, 16127, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f830, 16131, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f831, 16135, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f832, 16135, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f833, 16135, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f834, 16139, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f835, 16144, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f836, 16148, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f837, 16152, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f838, 16156, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f839, 16161, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83a, 16165, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83b, 16169, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83c, 16173, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83d, 16177, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83e, 16181, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83f, 16185, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f840, 16189, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f841, 16193, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f842, 16197, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f843, 16201, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f844, 16205, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f845, 16209, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f846, 16209, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82e, 16242, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82f, 16246, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f830, 16250, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f831, 16254, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f832, 16254, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f833, 16254, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f834, 16258, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f835, 16263, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f836, 16267, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f837, 16271, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f838, 16275, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f839, 16280, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83a, 16284, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83b, 16288, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83c, 16292, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83d, 16296, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83e, 16300, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83f, 16304, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f840, 16308, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f841, 16312, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f842, 16316, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f843, 16320, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f844, 16324, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f845, 16328, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f846, 16328, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7768,4 +7872,4 @@\n-  { 0x2f848, 16213, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f849, 16217, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84a, 16221, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84b, 16225, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f848, 16332, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f849, 16336, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84a, 16340, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84b, 16344, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7773,3 +7877,3 @@\n-  { 0x2f84d, 16229, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84e, 16233, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84f, 16237, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84d, 16348, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84e, 16352, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84f, 16356, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7777,30 +7881,30 @@\n-  { 0x2f851, 16241, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f852, 16245, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f853, 16249, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f854, 16253, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f855, 16257, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f856, 16261, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f857, 16265, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f858, 16269, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f859, 16273, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85a, 16278, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85b, 16282, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85c, 16286, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85d, 15776, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85e, 16290, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85f, 16294, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f860, 16298, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f861, 16303, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f862, 16308, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f863, 16312, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f864, 16316, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f865, 16320, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f866, 16324, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f867, 16328, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f868, 16332, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f869, 16336, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86a, 16340, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86b, 16340, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86c, 16344, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86d, 16349, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86e, 16353, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f851, 16360, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f852, 16364, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f853, 16368, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f854, 16372, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f855, 16376, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f856, 16380, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f857, 16384, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f858, 16388, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f859, 16392, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85a, 16397, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85b, 16401, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85c, 16405, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85d, 15895, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85e, 16409, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85f, 16413, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f860, 16417, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f861, 16422, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f862, 16427, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f863, 16431, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f864, 16435, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f865, 16439, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f866, 16443, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f867, 16447, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f868, 16451, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f869, 16455, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86a, 16459, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86b, 16459, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86c, 16463, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86d, 16468, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86e, 16472, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7808,5 +7912,5 @@\n-  { 0x2f870, 16357, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f871, 16361, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f872, 16366, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f873, 16370, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f874, 16374, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f870, 16476, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f871, 16480, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f872, 16485, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f873, 16489, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f874, 16493, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7814,2 +7918,2 @@\n-  { 0x2f876, 16378, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f877, 16382, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f876, 16497, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f877, 16501, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7817,21 +7921,21 @@\n-  { 0x2f879, 16386, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87a, 16390, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87b, 16394, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87c, 16399, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87d, 16403, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87e, 16408, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87f, 16412, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f880, 16416, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f881, 16420, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f882, 16424, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f883, 16428, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f884, 16432, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f885, 16436, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f886, 16440, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f887, 16444, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f888, 16448, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f889, 16452, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88a, 16457, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88b, 16461, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88c, 16465, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88d, 16469, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f879, 16505, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87a, 16509, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87b, 16513, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87c, 16518, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87d, 16522, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87e, 16527, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87f, 16531, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f880, 16535, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f881, 16539, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f882, 16543, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f883, 16547, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f884, 16551, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f885, 16555, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f886, 16559, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f887, 16563, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f888, 16567, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f889, 16571, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88a, 16576, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88b, 16580, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88c, 16584, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88d, 16588, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7839,1 +7943,1 @@\n-  { 0x2f88f, 16473, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88f, 16592, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7841,18 +7945,18 @@\n-  { 0x2f891, 16478, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f892, 16478, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f893, 16483, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f894, 16487, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f895, 16487, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f896, 16491, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f897, 16495, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f898, 16500, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f899, 16505, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89a, 16509, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89b, 16513, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89c, 16517, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89d, 16521, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89e, 16525, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89f, 16529, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a0, 16533, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a1, 16537, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a2, 16541, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f891, 16597, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f892, 16597, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f893, 16602, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f894, 16606, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f895, 16606, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f896, 16610, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f897, 16614, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f898, 16619, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f899, 16624, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89a, 16628, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89b, 16632, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89c, 16636, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89d, 16640, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89e, 16644, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89f, 16648, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a0, 16652, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a1, 16656, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a2, 16660, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7860,4 +7964,4 @@\n-  { 0x2f8a4, 16545, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a5, 16550, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a6, 16554, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a7, 16558, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a4, 16664, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a5, 16669, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a6, 16673, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a7, 16677, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7865,2 +7969,2 @@\n-  { 0x2f8a9, 16558, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8aa, 16562, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a9, 16677, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8aa, 16681, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7868,4 +7972,4 @@\n-  { 0x2f8ac, 16566, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ad, 16570, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ae, 16574, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8af, 16578, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ac, 16685, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ad, 16689, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ae, 16693, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8af, 16697, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7874,22 +7978,22 @@\n-  { 0x2f8b2, 16582, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b3, 16586, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b4, 16590, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b5, 16594, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b6, 16598, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b7, 16602, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b8, 16606, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b9, 16611, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ba, 16615, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bb, 16619, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bc, 16623, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bd, 16627, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8be, 16631, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bf, 16636, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c0, 16640, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c1, 16644, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c2, 16648, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c3, 16652, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c4, 16656, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c5, 16660, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c6, 16664, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c7, 16668, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b2, 16701, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b3, 16705, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b4, 16709, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b5, 16713, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b6, 16717, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b7, 16721, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b8, 16725, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b9, 16730, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ba, 16734, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bb, 16738, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bc, 16742, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bd, 16746, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8be, 16750, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bf, 16755, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c0, 16759, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c1, 16763, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c2, 16767, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c3, 16771, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c4, 16775, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c5, 16779, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c6, 16783, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c7, 16787, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7897,6 +8001,6 @@\n-  { 0x2f8c9, 16672, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ca, 16676, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8cb, 16681, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8cc, 16685, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8cd, 16689, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ce, 16693, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c9, 16791, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ca, 16795, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8cb, 16800, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8cc, 16804, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8cd, 16808, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ce, 16812, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7904,8 +8008,8 @@\n-  { 0x2f8d0, 16697, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d1, 16701, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d2, 16705, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d3, 16709, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d4, 16713, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d5, 16717, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d6, 16721, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d7, 16725, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d0, 16816, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d1, 16820, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d2, 16824, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d3, 16828, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d4, 16832, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d5, 16836, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d6, 16840, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d7, 16844, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7914,8 +8018,8 @@\n-  { 0x2f8da, 16729, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8db, 16733, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8dc, 16737, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8dd, 16741, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8de, 16746, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8df, 16750, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e0, 16754, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e1, 16758, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8da, 16848, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8db, 16852, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8dc, 16856, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8dd, 16860, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8de, 16865, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8df, 16869, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e0, 16873, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e1, 16877, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7923,4 +8027,4 @@\n-  { 0x2f8e3, 16762, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e4, 16767, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e5, 16771, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e6, 16775, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e3, 16881, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e4, 16886, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e5, 16890, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e6, 16894, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7928,13 +8032,13 @@\n-  { 0x2f8e8, 16779, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e9, 16783, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ea, 16787, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8eb, 16791, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ec, 16795, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ed, 16800, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ee, 16804, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ef, 16808, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f0, 16812, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f1, 16817, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f2, 16821, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f3, 16825, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f4, 16829, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e8, 16898, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e9, 16902, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ea, 16906, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8eb, 16910, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ec, 16914, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ed, 16919, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ee, 16923, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ef, 16927, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f0, 16931, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f1, 16936, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f2, 16940, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f3, 16944, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f4, 16948, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7942,11 +8046,11 @@\n-  { 0x2f8f6, 16833, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f7, 16837, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f8, 16842, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f9, 16847, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fa, 16852, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fb, 16856, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fc, 16861, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fd, 16865, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fe, 16869, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ff, 16873, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f900, 16877, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f6, 16952, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f7, 16956, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f8, 16961, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f9, 16966, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fa, 16971, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fb, 16975, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fc, 16980, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fd, 16984, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fe, 16988, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ff, 16992, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f900, 16996, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7955,8 +8059,8 @@\n-  { 0x2f903, 16881, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f904, 16885, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f905, 16889, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f906, 16893, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f907, 16898, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f908, 16902, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f909, 16906, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90a, 16910, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f903, 17000, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f904, 17004, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f905, 17008, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f906, 17012, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f907, 17017, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f908, 17021, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f909, 17025, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90a, 17029, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7964,8 +8068,8 @@\n-  { 0x2f90c, 16914, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90d, 16918, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90e, 16923, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90f, 16927, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f910, 16931, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f911, 16936, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f912, 16941, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f913, 16945, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90c, 17033, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90d, 17037, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90e, 17042, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90f, 17046, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f910, 17050, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f911, 17055, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f912, 17060, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f913, 17064, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7973,12 +8077,12 @@\n-  { 0x2f915, 16949, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f916, 16953, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f917, 16957, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f918, 16961, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f919, 16965, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91a, 16969, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91b, 16973, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91c, 16978, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91d, 16982, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91e, 16987, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91f, 16991, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f920, 16996, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f915, 17068, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f916, 17072, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f917, 17076, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f918, 17080, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f919, 17084, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91a, 17088, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91b, 17092, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91c, 17097, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91d, 17101, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91e, 17106, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91f, 17110, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f920, 17115, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7986,14 +8090,14 @@\n-  { 0x2f922, 17000, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f923, 17004, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f924, 17009, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f925, 17013, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f926, 17017, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f927, 17022, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f928, 17027, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f929, 17031, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92a, 17035, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92b, 17039, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92c, 17043, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92d, 17043, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92e, 17047, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92f, 17051, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f922, 17119, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f923, 17123, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f924, 17128, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f925, 17132, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f926, 17136, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f927, 17141, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f928, 17146, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f929, 17150, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92a, 17154, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92b, 17158, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92c, 17162, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92d, 17162, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92e, 17166, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92f, 17170, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8001,7 +8105,7 @@\n-  { 0x2f931, 17055, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f932, 17059, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f933, 17063, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f934, 17067, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f935, 17071, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f936, 17076, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f937, 17080, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f931, 17174, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f932, 17178, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f933, 17182, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f934, 17186, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f935, 17190, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f936, 17195, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f937, 17199, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8009,7 +8113,7 @@\n-  { 0x2f939, 17085, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93a, 17090, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93b, 17094, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93c, 17099, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93d, 17104, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93e, 17109, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93f, 17113, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f939, 17204, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93a, 17209, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93b, 17213, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93c, 17218, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93d, 17223, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93e, 17228, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93f, 17232, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8017,7 +8121,7 @@\n-  { 0x2f941, 17117, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f942, 17122, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f943, 17127, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f944, 17132, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f945, 17137, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f946, 17141, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f947, 17141, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f941, 17236, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f942, 17241, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f943, 17246, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f944, 17251, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f945, 17256, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f946, 17260, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f947, 17260, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8026,5 +8130,5 @@\n-  { 0x2f94a, 17145, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94b, 17149, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94c, 17153, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94d, 17157, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94e, 17162, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94a, 17264, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94b, 17268, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94c, 17272, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94d, 17276, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94e, 17281, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8033,2 +8137,2 @@\n-  { 0x2f951, 17166, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f952, 17170, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f951, 17285, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f952, 17289, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8036,2 +8140,2 @@\n-  { 0x2f954, 17175, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f955, 17180, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f954, 17294, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f955, 17299, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8039,2 +8143,2 @@\n-  { 0x2f957, 17185, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f958, 17189, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f957, 17304, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f958, 17308, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8042,32 +8146,32 @@\n-  { 0x2f95a, 17193, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95b, 17197, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95c, 17201, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95d, 17206, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95e, 17206, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95f, 17211, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f960, 17215, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f961, 17219, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f962, 17224, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f963, 17228, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f964, 17232, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f965, 17236, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f966, 17241, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f967, 17245, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f968, 17249, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f969, 17253, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96a, 17257, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96b, 17261, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96c, 17266, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96d, 17270, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96e, 17274, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96f, 17278, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f970, 17282, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f971, 17286, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f972, 17290, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f973, 17295, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f974, 17300, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f975, 17304, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f976, 17309, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f977, 17313, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f978, 17318, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f979, 17322, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95a, 17312, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95b, 17316, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95c, 17320, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95d, 17325, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95e, 17325, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95f, 17330, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f960, 17334, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f961, 17338, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f962, 17343, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f963, 17347, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f964, 17351, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f965, 17355, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f966, 17360, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f967, 17364, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f968, 17368, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f969, 17372, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96a, 17376, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96b, 17380, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96c, 17385, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96d, 17389, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96e, 17393, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96f, 17397, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f970, 17401, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f971, 17405, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f972, 17409, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f973, 17414, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f974, 17419, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f975, 17423, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f976, 17428, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f977, 17432, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f978, 17437, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f979, 17441, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8075,29 +8179,29 @@\n-  { 0x2f97b, 17326, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97c, 17331, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97d, 17336, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97e, 17340, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97f, 17345, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f980, 17349, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f981, 17354, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f982, 17358, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f983, 17362, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f984, 17366, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f985, 17370, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f986, 17374, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f987, 17378, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f988, 17383, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f989, 17388, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98a, 17393, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98b, 16483, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98c, 17398, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98d, 17402, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98e, 17406, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98f, 17410, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f990, 17414, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f991, 17418, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f992, 17422, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f993, 17426, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f994, 17430, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f995, 17434, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f996, 17438, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f997, 17442, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97b, 17445, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97c, 17450, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97d, 17455, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97e, 17459, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97f, 17464, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f980, 17468, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f981, 17473, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f982, 17477, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f983, 17481, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f984, 17485, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f985, 17489, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f986, 17493, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f987, 17497, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f988, 17502, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f989, 17507, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98a, 17512, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98b, 16602, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98c, 17517, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98d, 17521, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98e, 17525, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98f, 17529, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f990, 17533, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f991, 17537, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f992, 17541, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f993, 17545, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f994, 17549, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f995, 17553, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f996, 17557, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f997, 17561, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8105,6 +8209,6 @@\n-  { 0x2f999, 17447, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99a, 17451, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99b, 17455, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99c, 17459, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99d, 17463, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99e, 17467, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f999, 17566, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99a, 17570, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99b, 17574, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99c, 17578, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99d, 17582, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99e, 17586, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8112,20 +8216,20 @@\n-  { 0x2f9a0, 17471, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a1, 17475, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a2, 17479, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a3, 17483, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a4, 17487, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a5, 17492, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a6, 17497, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a7, 17502, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a8, 17506, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a9, 17510, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9aa, 17514, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ab, 17518, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ac, 17523, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ad, 17527, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ae, 17532, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9af, 17536, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b0, 17540, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b1, 17545, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b2, 17550, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b3, 17554, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a0, 17590, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a1, 17594, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a2, 17598, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a3, 17602, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a4, 17606, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a5, 17611, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a6, 17616, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a7, 17621, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a8, 17625, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a9, 17629, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9aa, 17633, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ab, 17637, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ac, 17642, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ad, 17646, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ae, 17651, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9af, 17655, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b0, 17659, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b1, 17664, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b2, 17669, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b3, 17673, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8133,6 +8237,6 @@\n-  { 0x2f9b5, 17558, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b6, 17562, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b7, 17566, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b8, 17570, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b9, 17574, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ba, 17578, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b5, 17677, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b6, 17681, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b7, 17685, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b8, 17689, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b9, 17693, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ba, 17697, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8140,8 +8244,8 @@\n-  { 0x2f9bc, 17582, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9bd, 17586, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9be, 17590, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9bf, 17594, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c0, 17598, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c1, 17602, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c2, 17606, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c3, 17610, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9bc, 17701, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9bd, 17705, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9be, 17709, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9bf, 17713, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c0, 17717, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c1, 17721, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c2, 17725, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c3, 17729, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8149,11 +8253,11 @@\n-  { 0x2f9c5, 17614, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c6, 17619, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c7, 17623, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c8, 17627, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c9, 17631, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ca, 17635, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cb, 17639, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cc, 17644, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cd, 17649, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ce, 17653, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cf, 17657, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c5, 17733, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c6, 17738, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c7, 17742, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c8, 17746, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c9, 17750, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ca, 17754, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cb, 17758, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cc, 17763, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cd, 17768, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ce, 17772, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cf, 17776, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8163,12 +8267,12 @@\n-  { 0x2f9d3, 17661, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d4, 17666, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d5, 17670, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d6, 17674, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d7, 17678, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d8, 17682, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d9, 17687, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9da, 17692, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9db, 17696, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9dc, 17700, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9dd, 17704, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9de, 17709, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d3, 17780, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d4, 17785, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d5, 17789, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d6, 17793, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d7, 17797, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d8, 17801, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d9, 17806, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9da, 17811, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9db, 17815, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9dc, 17819, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9dd, 17823, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9de, 17828, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8176,30 +8280,30 @@\n-  { 0x2f9e0, 17713, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e1, 17718, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e2, 17723, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e3, 17727, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e4, 17731, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e5, 17735, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e6, 17740, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e7, 17744, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e8, 17748, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e9, 17752, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ea, 17756, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9eb, 17760, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ec, 17764, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ed, 17768, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ee, 17773, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ef, 17777, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f0, 17781, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f1, 17785, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f2, 17790, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f3, 17794, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f4, 17798, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f5, 17802, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f6, 17806, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f7, 17811, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f8, 17816, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f9, 17820, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fa, 17824, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fb, 17828, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fc, 17833, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fd, 17837, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e0, 17832, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e1, 17837, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e2, 17842, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e3, 17846, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e4, 17850, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e5, 17854, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e6, 17859, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e7, 17863, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e8, 17867, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e9, 17871, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ea, 17875, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9eb, 17879, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ec, 17883, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ed, 17887, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ee, 17892, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ef, 17896, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f0, 17900, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f1, 17904, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f2, 17909, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f3, 17913, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f4, 17917, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f5, 17921, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f6, 17925, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f7, 17930, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f8, 17935, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f9, 17939, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fa, 17943, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fb, 17947, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fc, 17952, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fd, 17956, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8208,10 +8312,10 @@\n-  { 0x2fa00, 17842, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa01, 17846, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa02, 17851, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa03, 17855, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa04, 17859, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa05, 17863, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa06, 17867, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa07, 17871, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa08, 17875, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa09, 17879, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa00, 17961, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa01, 17965, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa02, 17970, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa03, 17974, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa04, 17978, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa05, 17982, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa06, 17986, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa07, 17990, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa08, 17994, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa09, 17998, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8219,10 +8323,10 @@\n-  { 0x2fa0b, 17884, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0c, 17888, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0d, 17892, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0e, 17896, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0f, 17900, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa10, 17904, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa11, 17909, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa12, 17913, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa13, 17918, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa14, 17923, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0b, 18003, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0c, 18007, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0d, 18011, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0e, 18015, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0f, 18019, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa10, 18023, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa11, 18028, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa12, 18032, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa13, 18037, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa14, 18042, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8230,1 +8334,1 @@\n-  { 0x2fa16, 17928, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa16, 18047, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8232,4 +8336,4 @@\n-  { 0x2fa18, 17932, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa19, 17936, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa1a, 17940, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa1b, 17944, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa18, 18051, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa19, 18055, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa1a, 18059, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa1b, 18063, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8237,1 +8341,1 @@\n-  { 0x2fa1d, 17948, G_UNICODE_NOT_PRESENT_OFFSET }\n+  { 0x2fa1d, 18067, G_UNICODE_NOT_PRESENT_OFFSET }\n@@ -11388,561 +11492,600 @@\n-  \"\\xd9\\xae\\0\" \/* offset 15566 *\/\n-  \"\\xda\\xa1\\0\" \/* offset 15569 *\/\n-  \"\\xd9\\xaf\\0\" \/* offset 15572 *\/\n-  \"\\x30\\x2e\\0\" \/* offset 15575 *\/\n-  \"\\x30\\x2c\\0\" \/* offset 15578 *\/\n-  \"\\x31\\x2c\\0\" \/* offset 15581 *\/\n-  \"\\x32\\x2c\\0\" \/* offset 15584 *\/\n-  \"\\x33\\x2c\\0\" \/* offset 15587 *\/\n-  \"\\x34\\x2c\\0\" \/* offset 15590 *\/\n-  \"\\x35\\x2c\\0\" \/* offset 15593 *\/\n-  \"\\x36\\x2c\\0\" \/* offset 15596 *\/\n-  \"\\x37\\x2c\\0\" \/* offset 15599 *\/\n-  \"\\x38\\x2c\\0\" \/* offset 15602 *\/\n-  \"\\x39\\x2c\\0\" \/* offset 15605 *\/\n-  \"\\x28\\x41\\x29\\0\" \/* offset 15608 *\/\n-  \"\\x28\\x42\\x29\\0\" \/* offset 15612 *\/\n-  \"\\x28\\x43\\x29\\0\" \/* offset 15616 *\/\n-  \"\\x28\\x44\\x29\\0\" \/* offset 15620 *\/\n-  \"\\x28\\x45\\x29\\0\" \/* offset 15624 *\/\n-  \"\\x28\\x46\\x29\\0\" \/* offset 15628 *\/\n-  \"\\x28\\x47\\x29\\0\" \/* offset 15632 *\/\n-  \"\\x28\\x48\\x29\\0\" \/* offset 15636 *\/\n-  \"\\x28\\x49\\x29\\0\" \/* offset 15640 *\/\n-  \"\\x28\\x4a\\x29\\0\" \/* offset 15644 *\/\n-  \"\\x28\\x4b\\x29\\0\" \/* offset 15648 *\/\n-  \"\\x28\\x4c\\x29\\0\" \/* offset 15652 *\/\n-  \"\\x28\\x4d\\x29\\0\" \/* offset 15656 *\/\n-  \"\\x28\\x4e\\x29\\0\" \/* offset 15660 *\/\n-  \"\\x28\\x4f\\x29\\0\" \/* offset 15664 *\/\n-  \"\\x28\\x50\\x29\\0\" \/* offset 15668 *\/\n-  \"\\x28\\x51\\x29\\0\" \/* offset 15672 *\/\n-  \"\\x28\\x52\\x29\\0\" \/* offset 15676 *\/\n-  \"\\x28\\x53\\x29\\0\" \/* offset 15680 *\/\n-  \"\\x28\\x54\\x29\\0\" \/* offset 15684 *\/\n-  \"\\x28\\x55\\x29\\0\" \/* offset 15688 *\/\n-  \"\\x28\\x56\\x29\\0\" \/* offset 15692 *\/\n-  \"\\x28\\x57\\x29\\0\" \/* offset 15696 *\/\n-  \"\\x28\\x58\\x29\\0\" \/* offset 15700 *\/\n-  \"\\x28\\x59\\x29\\0\" \/* offset 15704 *\/\n-  \"\\x28\\x5a\\x29\\0\" \/* offset 15708 *\/\n-  \"\\xe3\\x80\\x94\\x53\\xe3\\x80\\x95\\0\" \/* offset 15712 *\/\n-  \"\\x43\\x44\\0\" \/* offset 15720 *\/\n-  \"\\x57\\x5a\\0\" \/* offset 15723 *\/\n-  \"\\x48\\x56\\0\" \/* offset 15726 *\/\n-  \"\\x53\\x44\\0\" \/* offset 15729 *\/\n-  \"\\x53\\x53\\0\" \/* offset 15732 *\/\n-  \"\\x50\\x50\\x56\\0\" \/* offset 15735 *\/\n-  \"\\x57\\x43\\0\" \/* offset 15739 *\/\n-  \"\\x4d\\x43\\0\" \/* offset 15742 *\/\n-  \"\\x4d\\x44\\0\" \/* offset 15745 *\/\n-  \"\\x4d\\x52\\0\" \/* offset 15748 *\/\n-  \"\\x44\\x4a\\0\" \/* offset 15751 *\/\n-  \"\\xe3\\x81\\xbb\\xe3\\x81\\x8b\\0\" \/* offset 15754 *\/\n-  \"\\xe3\\x82\\xb3\\xe3\\x82\\xb3\\0\" \/* offset 15761 *\/\n-  \"\\xe5\\xad\\x97\\0\" \/* offset 15768 *\/\n-  \"\\xe5\\x8f\\x8c\\0\" \/* offset 15772 *\/\n-  \"\\xe5\\xa4\\x9a\\0\" \/* offset 15776 *\/\n-  \"\\xe8\\xa7\\xa3\\0\" \/* offset 15780 *\/\n-  \"\\xe4\\xba\\xa4\\0\" \/* offset 15784 *\/\n-  \"\\xe6\\x98\\xa0\\0\" \/* offset 15788 *\/\n-  \"\\xe7\\x84\\xa1\\0\" \/* offset 15792 *\/\n-  \"\\xe5\\x89\\x8d\\0\" \/* offset 15796 *\/\n-  \"\\xe5\\xbe\\x8c\\0\" \/* offset 15800 *\/\n-  \"\\xe5\\x86\\x8d\\0\" \/* offset 15804 *\/\n-  \"\\xe6\\x96\\xb0\\0\" \/* offset 15808 *\/\n-  \"\\xe5\\x88\\x9d\\0\" \/* offset 15812 *\/\n-  \"\\xe7\\xb5\\x82\\0\" \/* offset 15816 *\/\n-  \"\\xe8\\xb2\\xa9\\0\" \/* offset 15820 *\/\n-  \"\\xe5\\xa3\\xb0\\0\" \/* offset 15824 *\/\n-  \"\\xe5\\x90\\xb9\\0\" \/* offset 15828 *\/\n-  \"\\xe6\\xbc\\x94\\0\" \/* offset 15832 *\/\n-  \"\\xe6\\x8a\\x95\\0\" \/* offset 15836 *\/\n-  \"\\xe6\\x8d\\x95\\0\" \/* offset 15840 *\/\n-  \"\\xe9\\x81\\x8a\\0\" \/* offset 15844 *\/\n-  \"\\xe6\\x8c\\x87\\0\" \/* offset 15848 *\/\n-  \"\\xe6\\x89\\x93\\0\" \/* offset 15852 *\/\n-  \"\\xe7\\xa6\\x81\\0\" \/* offset 15856 *\/\n-  \"\\xe7\\xa9\\xba\\0\" \/* offset 15860 *\/\n-  \"\\xe5\\x90\\x88\\0\" \/* offset 15864 *\/\n-  \"\\xe6\\xba\\x80\\0\" \/* offset 15868 *\/\n-  \"\\xe7\\x94\\xb3\\0\" \/* offset 15872 *\/\n-  \"\\xe5\\x89\\xb2\\0\" \/* offset 15876 *\/\n-  \"\\xe5\\x96\\xb6\\0\" \/* offset 15880 *\/\n-  \"\\xe9\\x85\\x8d\\0\" \/* offset 15884 *\/\n-  \"\\xe3\\x80\\x94\\xe6\\x9c\\xac\\xe3\\x80\\x95\\0\" \/* offset 15888 *\/\n-  \"\\xe3\\x80\\x94\\xe4\\xb8\\x89\\xe3\\x80\\x95\\0\" \/* offset 15898 *\/\n-  \"\\xe3\\x80\\x94\\xe4\\xba\\x8c\\xe3\\x80\\x95\\0\" \/* offset 15908 *\/\n-  \"\\xe3\\x80\\x94\\xe5\\xae\\x89\\xe3\\x80\\x95\\0\" \/* offset 15918 *\/\n-  \"\\xe3\\x80\\x94\\xe7\\x82\\xb9\\xe3\\x80\\x95\\0\" \/* offset 15928 *\/\n-  \"\\xe3\\x80\\x94\\xe6\\x89\\x93\\xe3\\x80\\x95\\0\" \/* offset 15938 *\/\n-  \"\\xe3\\x80\\x94\\xe7\\x9b\\x97\\xe3\\x80\\x95\\0\" \/* offset 15948 *\/\n-  \"\\xe3\\x80\\x94\\xe5\\x8b\\x9d\\xe3\\x80\\x95\\0\" \/* offset 15958 *\/\n-  \"\\xe3\\x80\\x94\\xe6\\x95\\x97\\xe3\\x80\\x95\\0\" \/* offset 15968 *\/\n-  \"\\xe5\\xbe\\x97\\0\" \/* offset 15978 *\/\n-  \"\\xe5\\x8f\\xaf\\0\" \/* offset 15982 *\/\n-  \"\\xe4\\xb8\\xbd\\0\" \/* offset 15986 *\/\n-  \"\\xe4\\xb8\\xb8\\0\" \/* offset 15990 *\/\n-  \"\\xe4\\xb9\\x81\\0\" \/* offset 15994 *\/\n-  \"\\xf0\\xa0\\x84\\xa2\\0\" \/* offset 15998 *\/\n-  \"\\xe4\\xbd\\xa0\\0\" \/* offset 16003 *\/\n-  \"\\xe4\\xbe\\xbb\\0\" \/* offset 16007 *\/\n-  \"\\xe5\\x80\\x82\\0\" \/* offset 16011 *\/\n-  \"\\xe5\\x81\\xba\\0\" \/* offset 16015 *\/\n-  \"\\xe5\\x82\\x99\\0\" \/* offset 16019 *\/\n-  \"\\xe5\\x83\\x8f\\0\" \/* offset 16023 *\/\n-  \"\\xe3\\x92\\x9e\\0\" \/* offset 16027 *\/\n-  \"\\xf0\\xa0\\x98\\xba\\0\" \/* offset 16031 *\/\n-  \"\\xe5\\x85\\x94\\0\" \/* offset 16036 *\/\n-  \"\\xe5\\x85\\xa4\\0\" \/* offset 16040 *\/\n-  \"\\xe5\\x85\\xb7\\0\" \/* offset 16044 *\/\n-  \"\\xf0\\xa0\\x94\\x9c\\0\" \/* offset 16048 *\/\n-  \"\\xe3\\x92\\xb9\\0\" \/* offset 16053 *\/\n-  \"\\xe5\\x85\\xa7\\0\" \/* offset 16057 *\/\n-  \"\\xf0\\xa0\\x95\\x8b\\0\" \/* offset 16061 *\/\n-  \"\\xe5\\x86\\x97\\0\" \/* offset 16066 *\/\n-  \"\\xe5\\x86\\xa4\\0\" \/* offset 16070 *\/\n-  \"\\xe4\\xbb\\x8c\\0\" \/* offset 16074 *\/\n-  \"\\xe5\\x86\\xac\\0\" \/* offset 16078 *\/\n-  \"\\xf0\\xa9\\x87\\x9f\\0\" \/* offset 16082 *\/\n-  \"\\xe5\\x88\\x83\\0\" \/* offset 16087 *\/\n-  \"\\xe3\\x93\\x9f\\0\" \/* offset 16091 *\/\n-  \"\\xe5\\x88\\xbb\\0\" \/* offset 16095 *\/\n-  \"\\xe5\\x89\\x86\\0\" \/* offset 16099 *\/\n-  \"\\xe5\\x89\\xb7\\0\" \/* offset 16103 *\/\n-  \"\\xe3\\x94\\x95\\0\" \/* offset 16107 *\/\n-  \"\\xe5\\x8c\\x85\\0\" \/* offset 16111 *\/\n-  \"\\xe5\\x8c\\x86\\0\" \/* offset 16115 *\/\n-  \"\\xe5\\x8d\\x89\\0\" \/* offset 16119 *\/\n-  \"\\xe5\\x8d\\x9a\\0\" \/* offset 16123 *\/\n-  \"\\xe5\\x8d\\xb3\\0\" \/* offset 16127 *\/\n-  \"\\xe5\\x8d\\xbd\\0\" \/* offset 16131 *\/\n-  \"\\xe5\\x8d\\xbf\\0\" \/* offset 16135 *\/\n-  \"\\xf0\\xa0\\xa8\\xac\\0\" \/* offset 16139 *\/\n-  \"\\xe7\\x81\\xb0\\0\" \/* offset 16144 *\/\n-  \"\\xe5\\x8f\\x8a\\0\" \/* offset 16148 *\/\n-  \"\\xe5\\x8f\\x9f\\0\" \/* offset 16152 *\/\n-  \"\\xf0\\xa0\\xad\\xa3\\0\" \/* offset 16156 *\/\n-  \"\\xe5\\x8f\\xab\\0\" \/* offset 16161 *\/\n-  \"\\xe5\\x8f\\xb1\\0\" \/* offset 16165 *\/\n-  \"\\xe5\\x90\\x86\\0\" \/* offset 16169 *\/\n-  \"\\xe5\\x92\\x9e\\0\" \/* offset 16173 *\/\n-  \"\\xe5\\x90\\xb8\\0\" \/* offset 16177 *\/\n-  \"\\xe5\\x91\\x88\\0\" \/* offset 16181 *\/\n-  \"\\xe5\\x91\\xa8\\0\" \/* offset 16185 *\/\n-  \"\\xe5\\x92\\xa2\\0\" \/* offset 16189 *\/\n-  \"\\xe5\\x93\\xb6\\0\" \/* offset 16193 *\/\n-  \"\\xe5\\x94\\x90\\0\" \/* offset 16197 *\/\n-  \"\\xe5\\x95\\x93\\0\" \/* offset 16201 *\/\n-  \"\\xe5\\x95\\xa3\\0\" \/* offset 16205 *\/\n-  \"\\xe5\\x96\\x84\\0\" \/* offset 16209 *\/\n-  \"\\xe5\\x96\\xab\\0\" \/* offset 16213 *\/\n-  \"\\xe5\\x96\\xb3\\0\" \/* offset 16217 *\/\n-  \"\\xe5\\x97\\x82\\0\" \/* offset 16221 *\/\n-  \"\\xe5\\x9c\\x96\\0\" \/* offset 16225 *\/\n-  \"\\xe5\\x9c\\x97\\0\" \/* offset 16229 *\/\n-  \"\\xe5\\x99\\x91\\0\" \/* offset 16233 *\/\n-  \"\\xe5\\x99\\xb4\\0\" \/* offset 16237 *\/\n-  \"\\xe5\\xa3\\xae\\0\" \/* offset 16241 *\/\n-  \"\\xe5\\x9f\\x8e\\0\" \/* offset 16245 *\/\n-  \"\\xe5\\x9f\\xb4\\0\" \/* offset 16249 *\/\n-  \"\\xe5\\xa0\\x8d\\0\" \/* offset 16253 *\/\n-  \"\\xe5\\x9e\\x8b\\0\" \/* offset 16257 *\/\n-  \"\\xe5\\xa0\\xb2\\0\" \/* offset 16261 *\/\n-  \"\\xe5\\xa0\\xb1\\0\" \/* offset 16265 *\/\n-  \"\\xe5\\xa2\\xac\\0\" \/* offset 16269 *\/\n-  \"\\xf0\\xa1\\x93\\xa4\\0\" \/* offset 16273 *\/\n-  \"\\xe5\\xa3\\xb2\\0\" \/* offset 16278 *\/\n-  \"\\xe5\\xa3\\xb7\\0\" \/* offset 16282 *\/\n-  \"\\xe5\\xa4\\x86\\0\" \/* offset 16286 *\/\n-  \"\\xe5\\xa4\\xa2\\0\" \/* offset 16290 *\/\n-  \"\\xe5\\xa5\\xa2\\0\" \/* offset 16294 *\/\n-  \"\\xf0\\xa1\\x9a\\xa8\\0\" \/* offset 16298 *\/\n-  \"\\xf0\\xa1\\x9b\\xaa\\0\" \/* offset 16303 *\/\n-  \"\\xe5\\xa7\\xac\\0\" \/* offset 16308 *\/\n-  \"\\xe5\\xa8\\x9b\\0\" \/* offset 16312 *\/\n-  \"\\xe5\\xa8\\xa7\\0\" \/* offset 16316 *\/\n-  \"\\xe5\\xa7\\x98\\0\" \/* offset 16320 *\/\n-  \"\\xe5\\xa9\\xa6\\0\" \/* offset 16324 *\/\n-  \"\\xe3\\x9b\\xae\\0\" \/* offset 16328 *\/\n-  \"\\xe3\\x9b\\xbc\\0\" \/* offset 16332 *\/\n-  \"\\xe5\\xac\\x88\\0\" \/* offset 16336 *\/\n-  \"\\xe5\\xac\\xbe\\0\" \/* offset 16340 *\/\n-  \"\\xf0\\xa1\\xa7\\x88\\0\" \/* offset 16344 *\/\n-  \"\\xe5\\xaf\\x83\\0\" \/* offset 16349 *\/\n-  \"\\xe5\\xaf\\x98\\0\" \/* offset 16353 *\/\n-  \"\\xe5\\xaf\\xb3\\0\" \/* offset 16357 *\/\n-  \"\\xf0\\xa1\\xac\\x98\\0\" \/* offset 16361 *\/\n-  \"\\xe5\\xaf\\xbf\\0\" \/* offset 16366 *\/\n-  \"\\xe5\\xb0\\x86\\0\" \/* offset 16370 *\/\n-  \"\\xe5\\xbd\\x93\\0\" \/* offset 16374 *\/\n-  \"\\xe3\\x9e\\x81\\0\" \/* offset 16378 *\/\n-  \"\\xe5\\xb1\\xa0\\0\" \/* offset 16382 *\/\n-  \"\\xe5\\xb3\\x80\\0\" \/* offset 16386 *\/\n-  \"\\xe5\\xb2\\x8d\\0\" \/* offset 16390 *\/\n-  \"\\xf0\\xa1\\xb7\\xa4\\0\" \/* offset 16394 *\/\n-  \"\\xe5\\xb5\\x83\\0\" \/* offset 16399 *\/\n-  \"\\xf0\\xa1\\xb7\\xa6\\0\" \/* offset 16403 *\/\n-  \"\\xe5\\xb5\\xae\\0\" \/* offset 16408 *\/\n-  \"\\xe5\\xb5\\xab\\0\" \/* offset 16412 *\/\n-  \"\\xe5\\xb5\\xbc\\0\" \/* offset 16416 *\/\n-  \"\\xe5\\xb7\\xa1\\0\" \/* offset 16420 *\/\n-  \"\\xe5\\xb7\\xa2\\0\" \/* offset 16424 *\/\n-  \"\\xe3\\xa0\\xaf\\0\" \/* offset 16428 *\/\n-  \"\\xe5\\xb7\\xbd\\0\" \/* offset 16432 *\/\n-  \"\\xe5\\xb8\\xa8\\0\" \/* offset 16436 *\/\n-  \"\\xe5\\xb8\\xbd\\0\" \/* offset 16440 *\/\n-  \"\\xe5\\xb9\\xa9\\0\" \/* offset 16444 *\/\n-  \"\\xe3\\xa1\\xa2\\0\" \/* offset 16448 *\/\n-  \"\\xf0\\xa2\\x86\\x83\\0\" \/* offset 16452 *\/\n-  \"\\xe3\\xa1\\xbc\\0\" \/* offset 16457 *\/\n-  \"\\xe5\\xba\\xb0\\0\" \/* offset 16461 *\/\n-  \"\\xe5\\xba\\xb3\\0\" \/* offset 16465 *\/\n-  \"\\xe5\\xba\\xb6\\0\" \/* offset 16469 *\/\n-  \"\\xf0\\xaa\\x8e\\x92\\0\" \/* offset 16473 *\/\n-  \"\\xf0\\xa2\\x8c\\xb1\\0\" \/* offset 16478 *\/\n-  \"\\xe8\\x88\\x81\\0\" \/* offset 16483 *\/\n-  \"\\xe5\\xbc\\xa2\\0\" \/* offset 16487 *\/\n-  \"\\xe3\\xa3\\x87\\0\" \/* offset 16491 *\/\n-  \"\\xf0\\xa3\\x8a\\xb8\\0\" \/* offset 16495 *\/\n-  \"\\xf0\\xa6\\x87\\x9a\\0\" \/* offset 16500 *\/\n-  \"\\xe5\\xbd\\xa2\\0\" \/* offset 16505 *\/\n-  \"\\xe5\\xbd\\xab\\0\" \/* offset 16509 *\/\n-  \"\\xe3\\xa3\\xa3\\0\" \/* offset 16513 *\/\n-  \"\\xe5\\xbe\\x9a\\0\" \/* offset 16517 *\/\n-  \"\\xe5\\xbf\\x8d\\0\" \/* offset 16521 *\/\n-  \"\\xe5\\xbf\\x97\\0\" \/* offset 16525 *\/\n-  \"\\xe5\\xbf\\xb9\\0\" \/* offset 16529 *\/\n-  \"\\xe6\\x82\\x81\\0\" \/* offset 16533 *\/\n-  \"\\xe3\\xa4\\xba\\0\" \/* offset 16537 *\/\n-  \"\\xe3\\xa4\\x9c\\0\" \/* offset 16541 *\/\n-  \"\\xf0\\xa2\\x9b\\x94\\0\" \/* offset 16545 *\/\n-  \"\\xe6\\x83\\x87\\0\" \/* offset 16550 *\/\n-  \"\\xe6\\x85\\x88\\0\" \/* offset 16554 *\/\n-  \"\\xe6\\x85\\x8c\\0\" \/* offset 16558 *\/\n-  \"\\xe6\\x85\\xba\\0\" \/* offset 16562 *\/\n-  \"\\xe6\\x86\\xb2\\0\" \/* offset 16566 *\/\n-  \"\\xe6\\x86\\xa4\\0\" \/* offset 16570 *\/\n-  \"\\xe6\\x86\\xaf\\0\" \/* offset 16574 *\/\n-  \"\\xe6\\x87\\x9e\\0\" \/* offset 16578 *\/\n-  \"\\xe6\\x88\\x90\\0\" \/* offset 16582 *\/\n-  \"\\xe6\\x88\\x9b\\0\" \/* offset 16586 *\/\n-  \"\\xe6\\x89\\x9d\\0\" \/* offset 16590 *\/\n-  \"\\xe6\\x8a\\xb1\\0\" \/* offset 16594 *\/\n-  \"\\xe6\\x8b\\x94\\0\" \/* offset 16598 *\/\n-  \"\\xe6\\x8d\\x90\\0\" \/* offset 16602 *\/\n-  \"\\xf0\\xa2\\xac\\x8c\\0\" \/* offset 16606 *\/\n-  \"\\xe6\\x8c\\xbd\\0\" \/* offset 16611 *\/\n-  \"\\xe6\\x8b\\xbc\\0\" \/* offset 16615 *\/\n-  \"\\xe6\\x8d\\xa8\\0\" \/* offset 16619 *\/\n-  \"\\xe6\\x8e\\x83\\0\" \/* offset 16623 *\/\n-  \"\\xe6\\x8f\\xa4\\0\" \/* offset 16627 *\/\n-  \"\\xf0\\xa2\\xaf\\xb1\\0\" \/* offset 16631 *\/\n-  \"\\xe6\\x90\\xa2\\0\" \/* offset 16636 *\/\n-  \"\\xe6\\x8f\\x85\\0\" \/* offset 16640 *\/\n-  \"\\xe6\\x8e\\xa9\\0\" \/* offset 16644 *\/\n-  \"\\xe3\\xa8\\xae\\0\" \/* offset 16648 *\/\n-  \"\\xe6\\x91\\xa9\\0\" \/* offset 16652 *\/\n-  \"\\xe6\\x91\\xbe\\0\" \/* offset 16656 *\/\n-  \"\\xe6\\x92\\x9d\\0\" \/* offset 16660 *\/\n-  \"\\xe6\\x91\\xb7\\0\" \/* offset 16664 *\/\n-  \"\\xe3\\xa9\\xac\\0\" \/* offset 16668 *\/\n-  \"\\xe6\\x95\\xac\\0\" \/* offset 16672 *\/\n-  \"\\xf0\\xa3\\x80\\x8a\\0\" \/* offset 16676 *\/\n-  \"\\xe6\\x97\\xa3\\0\" \/* offset 16681 *\/\n-  \"\\xe6\\x9b\\xb8\\0\" \/* offset 16685 *\/\n-  \"\\xe6\\x99\\x89\\0\" \/* offset 16689 *\/\n-  \"\\xe3\\xac\\x99\\0\" \/* offset 16693 *\/\n-  \"\\xe3\\xac\\x88\\0\" \/* offset 16697 *\/\n-  \"\\xe3\\xab\\xa4\\0\" \/* offset 16701 *\/\n-  \"\\xe5\\x86\\x92\\0\" \/* offset 16705 *\/\n-  \"\\xe5\\x86\\x95\\0\" \/* offset 16709 *\/\n-  \"\\xe6\\x9c\\x80\\0\" \/* offset 16713 *\/\n-  \"\\xe6\\x9a\\x9c\\0\" \/* offset 16717 *\/\n-  \"\\xe8\\x82\\xad\\0\" \/* offset 16721 *\/\n-  \"\\xe4\\x8f\\x99\\0\" \/* offset 16725 *\/\n-  \"\\xe6\\x9c\\xa1\\0\" \/* offset 16729 *\/\n-  \"\\xe6\\x9d\\x9e\\0\" \/* offset 16733 *\/\n-  \"\\xe6\\x9d\\x93\\0\" \/* offset 16737 *\/\n-  \"\\xf0\\xa3\\x8f\\x83\\0\" \/* offset 16741 *\/\n-  \"\\xe3\\xad\\x89\\0\" \/* offset 16746 *\/\n-  \"\\xe6\\x9f\\xba\\0\" \/* offset 16750 *\/\n-  \"\\xe6\\x9e\\x85\\0\" \/* offset 16754 *\/\n-  \"\\xe6\\xa1\\x92\\0\" \/* offset 16758 *\/\n-  \"\\xf0\\xa3\\x91\\xad\\0\" \/* offset 16762 *\/\n-  \"\\xe6\\xa2\\x8e\\0\" \/* offset 16767 *\/\n-  \"\\xe6\\xa0\\x9f\\0\" \/* offset 16771 *\/\n-  \"\\xe6\\xa4\\x94\\0\" \/* offset 16775 *\/\n-  \"\\xe6\\xa5\\x82\\0\" \/* offset 16779 *\/\n-  \"\\xe6\\xa6\\xa3\\0\" \/* offset 16783 *\/\n-  \"\\xe6\\xa7\\xaa\\0\" \/* offset 16787 *\/\n-  \"\\xe6\\xaa\\xa8\\0\" \/* offset 16791 *\/\n-  \"\\xf0\\xa3\\x9a\\xa3\\0\" \/* offset 16795 *\/\n-  \"\\xe6\\xab\\x9b\\0\" \/* offset 16800 *\/\n-  \"\\xe3\\xb0\\x98\\0\" \/* offset 16804 *\/\n-  \"\\xe6\\xac\\xa1\\0\" \/* offset 16808 *\/\n-  \"\\xf0\\xa3\\xa2\\xa7\\0\" \/* offset 16812 *\/\n-  \"\\xe6\\xad\\x94\\0\" \/* offset 16817 *\/\n-  \"\\xe3\\xb1\\x8e\\0\" \/* offset 16821 *\/\n-  \"\\xe6\\xad\\xb2\\0\" \/* offset 16825 *\/\n-  \"\\xe6\\xae\\x9f\\0\" \/* offset 16829 *\/\n-  \"\\xe6\\xae\\xbb\\0\" \/* offset 16833 *\/\n-  \"\\xf0\\xa3\\xaa\\x8d\\0\" \/* offset 16837 *\/\n-  \"\\xf0\\xa1\\xb4\\x8b\\0\" \/* offset 16842 *\/\n-  \"\\xf0\\xa3\\xab\\xba\\0\" \/* offset 16847 *\/\n-  \"\\xe6\\xb1\\x8e\\0\" \/* offset 16852 *\/\n-  \"\\xf0\\xa3\\xb2\\xbc\\0\" \/* offset 16856 *\/\n-  \"\\xe6\\xb2\\xbf\\0\" \/* offset 16861 *\/\n-  \"\\xe6\\xb3\\x8d\\0\" \/* offset 16865 *\/\n-  \"\\xe6\\xb1\\xa7\\0\" \/* offset 16869 *\/\n-  \"\\xe6\\xb4\\x96\\0\" \/* offset 16873 *\/\n-  \"\\xe6\\xb4\\xbe\\0\" \/* offset 16877 *\/\n-  \"\\xe6\\xb5\\xa9\\0\" \/* offset 16881 *\/\n-  \"\\xe6\\xb5\\xb8\\0\" \/* offset 16885 *\/\n-  \"\\xe6\\xb6\\x85\\0\" \/* offset 16889 *\/\n-  \"\\xf0\\xa3\\xb4\\x9e\\0\" \/* offset 16893 *\/\n-  \"\\xe6\\xb4\\xb4\\0\" \/* offset 16898 *\/\n-  \"\\xe6\\xb8\\xaf\\0\" \/* offset 16902 *\/\n-  \"\\xe6\\xb9\\xae\\0\" \/* offset 16906 *\/\n-  \"\\xe3\\xb4\\xb3\\0\" \/* offset 16910 *\/\n-  \"\\xe6\\xbb\\x87\\0\" \/* offset 16914 *\/\n-  \"\\xf0\\xa3\\xbb\\x91\\0\" \/* offset 16918 *\/\n-  \"\\xe6\\xb7\\xb9\\0\" \/* offset 16923 *\/\n-  \"\\xe6\\xbd\\xae\\0\" \/* offset 16927 *\/\n-  \"\\xf0\\xa3\\xbd\\x9e\\0\" \/* offset 16931 *\/\n-  \"\\xf0\\xa3\\xbe\\x8e\\0\" \/* offset 16936 *\/\n-  \"\\xe6\\xbf\\x86\\0\" \/* offset 16941 *\/\n-  \"\\xe7\\x80\\xb9\\0\" \/* offset 16945 *\/\n-  \"\\xe7\\x80\\x9b\\0\" \/* offset 16949 *\/\n-  \"\\xe3\\xb6\\x96\\0\" \/* offset 16953 *\/\n-  \"\\xe7\\x81\\x8a\\0\" \/* offset 16957 *\/\n-  \"\\xe7\\x81\\xbd\\0\" \/* offset 16961 *\/\n-  \"\\xe7\\x81\\xb7\\0\" \/* offset 16965 *\/\n-  \"\\xe7\\x82\\xad\\0\" \/* offset 16969 *\/\n-  \"\\xf0\\xa0\\x94\\xa5\\0\" \/* offset 16973 *\/\n-  \"\\xe7\\x85\\x85\\0\" \/* offset 16978 *\/\n-  \"\\xf0\\xa4\\x89\\xa3\\0\" \/* offset 16982 *\/\n-  \"\\xe7\\x86\\x9c\\0\" \/* offset 16987 *\/\n-  \"\\xf0\\xa4\\x8e\\xab\\0\" \/* offset 16991 *\/\n-  \"\\xe7\\x88\\xa8\\0\" \/* offset 16996 *\/\n-  \"\\xe7\\x89\\x90\\0\" \/* offset 17000 *\/\n-  \"\\xf0\\xa4\\x98\\x88\\0\" \/* offset 17004 *\/\n-  \"\\xe7\\x8a\\x80\\0\" \/* offset 17009 *\/\n-  \"\\xe7\\x8a\\x95\\0\" \/* offset 17013 *\/\n-  \"\\xf0\\xa4\\x9c\\xb5\\0\" \/* offset 17017 *\/\n-  \"\\xf0\\xa4\\xa0\\x94\\0\" \/* offset 17022 *\/\n-  \"\\xe7\\x8d\\xba\\0\" \/* offset 17027 *\/\n-  \"\\xe7\\x8e\\x8b\\0\" \/* offset 17031 *\/\n-  \"\\xe3\\xba\\xac\\0\" \/* offset 17035 *\/\n-  \"\\xe7\\x8e\\xa5\\0\" \/* offset 17039 *\/\n-  \"\\xe3\\xba\\xb8\\0\" \/* offset 17043 *\/\n-  \"\\xe7\\x91\\x87\\0\" \/* offset 17047 *\/\n-  \"\\xe7\\x91\\x9c\\0\" \/* offset 17051 *\/\n-  \"\\xe7\\x92\\x85\\0\" \/* offset 17055 *\/\n-  \"\\xe7\\x93\\x8a\\0\" \/* offset 17059 *\/\n-  \"\\xe3\\xbc\\x9b\\0\" \/* offset 17063 *\/\n-  \"\\xe7\\x94\\xa4\\0\" \/* offset 17067 *\/\n-  \"\\xf0\\xa4\\xb0\\xb6\\0\" \/* offset 17071 *\/\n-  \"\\xe7\\x94\\xbe\\0\" \/* offset 17076 *\/\n-  \"\\xf0\\xa4\\xb2\\x92\\0\" \/* offset 17080 *\/\n-  \"\\xf0\\xa2\\x86\\x9f\\0\" \/* offset 17085 *\/\n-  \"\\xe7\\x98\\x90\\0\" \/* offset 17090 *\/\n-  \"\\xf0\\xa4\\xbe\\xa1\\0\" \/* offset 17094 *\/\n-  \"\\xf0\\xa4\\xbe\\xb8\\0\" \/* offset 17099 *\/\n-  \"\\xf0\\xa5\\x81\\x84\\0\" \/* offset 17104 *\/\n-  \"\\xe3\\xbf\\xbc\\0\" \/* offset 17109 *\/\n-  \"\\xe4\\x80\\x88\\0\" \/* offset 17113 *\/\n-  \"\\xf0\\xa5\\x83\\xb3\\0\" \/* offset 17117 *\/\n-  \"\\xf0\\xa5\\x83\\xb2\\0\" \/* offset 17122 *\/\n-  \"\\xf0\\xa5\\x84\\x99\\0\" \/* offset 17127 *\/\n-  \"\\xf0\\xa5\\x84\\xb3\\0\" \/* offset 17132 *\/\n-  \"\\xe7\\x9c\\x9e\\0\" \/* offset 17137 *\/\n-  \"\\xe7\\x9c\\x9f\\0\" \/* offset 17141 *\/\n-  \"\\xe7\\x9e\\x8b\\0\" \/* offset 17145 *\/\n-  \"\\xe4\\x81\\x86\\0\" \/* offset 17149 *\/\n-  \"\\xe4\\x82\\x96\\0\" \/* offset 17153 *\/\n-  \"\\xf0\\xa5\\x90\\x9d\\0\" \/* offset 17157 *\/\n-  \"\\xe7\\xa1\\x8e\\0\" \/* offset 17162 *\/\n-  \"\\xe4\\x83\\xa3\\0\" \/* offset 17166 *\/\n-  \"\\xf0\\xa5\\x98\\xa6\\0\" \/* offset 17170 *\/\n-  \"\\xf0\\xa5\\x9a\\x9a\\0\" \/* offset 17175 *\/\n-  \"\\xf0\\xa5\\x9b\\x85\\0\" \/* offset 17180 *\/\n-  \"\\xe7\\xa7\\xab\\0\" \/* offset 17185 *\/\n-  \"\\xe4\\x84\\xaf\\0\" \/* offset 17189 *\/\n-  \"\\xe7\\xa9\\x8a\\0\" \/* offset 17193 *\/\n-  \"\\xe7\\xa9\\x8f\\0\" \/* offset 17197 *\/\n-  \"\\xf0\\xa5\\xa5\\xbc\\0\" \/* offset 17201 *\/\n-  \"\\xf0\\xa5\\xaa\\xa7\\0\" \/* offset 17206 *\/\n-  \"\\xe7\\xab\\xae\\0\" \/* offset 17211 *\/\n-  \"\\xe4\\x88\\x82\\0\" \/* offset 17215 *\/\n-  \"\\xf0\\xa5\\xae\\xab\\0\" \/* offset 17219 *\/\n-  \"\\xe7\\xaf\\x86\\0\" \/* offset 17224 *\/\n-  \"\\xe7\\xaf\\x89\\0\" \/* offset 17228 *\/\n-  \"\\xe4\\x88\\xa7\\0\" \/* offset 17232 *\/\n-  \"\\xf0\\xa5\\xb2\\x80\\0\" \/* offset 17236 *\/\n-  \"\\xe7\\xb3\\x92\\0\" \/* offset 17241 *\/\n-  \"\\xe4\\x8a\\xa0\\0\" \/* offset 17245 *\/\n-  \"\\xe7\\xb3\\xa8\\0\" \/* offset 17249 *\/\n-  \"\\xe7\\xb3\\xa3\\0\" \/* offset 17253 *\/\n-  \"\\xe7\\xb4\\x80\\0\" \/* offset 17257 *\/\n-  \"\\xf0\\xa5\\xbe\\x86\\0\" \/* offset 17261 *\/\n-  \"\\xe7\\xb5\\xa3\\0\" \/* offset 17266 *\/\n-  \"\\xe4\\x8c\\x81\\0\" \/* offset 17270 *\/\n-  \"\\xe7\\xb7\\x87\\0\" \/* offset 17274 *\/\n-  \"\\xe7\\xb8\\x82\\0\" \/* offset 17278 *\/\n-  \"\\xe7\\xb9\\x85\\0\" \/* offset 17282 *\/\n-  \"\\xe4\\x8c\\xb4\\0\" \/* offset 17286 *\/\n-  \"\\xf0\\xa6\\x88\\xa8\\0\" \/* offset 17290 *\/\n-  \"\\xf0\\xa6\\x89\\x87\\0\" \/* offset 17295 *\/\n-  \"\\xe4\\x8d\\x99\\0\" \/* offset 17300 *\/\n-  \"\\xf0\\xa6\\x8b\\x99\\0\" \/* offset 17304 *\/\n-  \"\\xe7\\xbd\\xba\\0\" \/* offset 17309 *\/\n-  \"\\xf0\\xa6\\x8c\\xbe\\0\" \/* offset 17313 *\/\n-  \"\\xe7\\xbe\\x95\\0\" \/* offset 17318 *\/\n-  \"\\xe7\\xbf\\xba\\0\" \/* offset 17322 *\/\n-  \"\\xf0\\xa6\\x93\\x9a\\0\" \/* offset 17326 *\/\n-  \"\\xf0\\xa6\\x94\\xa3\\0\" \/* offset 17331 *\/\n-  \"\\xe8\\x81\\xa0\\0\" \/* offset 17336 *\/\n-  \"\\xf0\\xa6\\x96\\xa8\\0\" \/* offset 17340 *\/\n-  \"\\xe8\\x81\\xb0\\0\" \/* offset 17345 *\/\n-  \"\\xf0\\xa3\\x8d\\x9f\\0\" \/* offset 17349 *\/\n-  \"\\xe4\\x8f\\x95\\0\" \/* offset 17354 *\/\n-  \"\\xe8\\x82\\xb2\\0\" \/* offset 17358 *\/\n-  \"\\xe8\\x84\\x83\\0\" \/* offset 17362 *\/\n-  \"\\xe4\\x90\\x8b\\0\" \/* offset 17366 *\/\n-  \"\\xe8\\x84\\xbe\\0\" \/* offset 17370 *\/\n-  \"\\xe5\\xaa\\xb5\\0\" \/* offset 17374 *\/\n-  \"\\xf0\\xa6\\x9e\\xa7\\0\" \/* offset 17378 *\/\n-  \"\\xf0\\xa6\\x9e\\xb5\\0\" \/* offset 17383 *\/\n-  \"\\xf0\\xa3\\x8e\\x93\\0\" \/* offset 17388 *\/\n-  \"\\xf0\\xa3\\x8e\\x9c\\0\" \/* offset 17393 *\/\n-  \"\\xe8\\x88\\x84\\0\" \/* offset 17398 *\/\n-  \"\\xe8\\xbe\\x9e\\0\" \/* offset 17402 *\/\n-  \"\\xe4\\x91\\xab\\0\" \/* offset 17406 *\/\n-  \"\\xe8\\x8a\\x91\\0\" \/* offset 17410 *\/\n-  \"\\xe8\\x8a\\x8b\\0\" \/* offset 17414 *\/\n-  \"\\xe8\\x8a\\x9d\\0\" \/* offset 17418 *\/\n-  \"\\xe5\\x8a\\xb3\\0\" \/* offset 17422 *\/\n-  \"\\xe8\\x8a\\xb1\\0\" \/* offset 17426 *\/\n-  \"\\xe8\\x8a\\xb3\\0\" \/* offset 17430 *\/\n-  \"\\xe8\\x8a\\xbd\\0\" \/* offset 17434 *\/\n-  \"\\xe8\\x8b\\xa6\\0\" \/* offset 17438 *\/\n-  \"\\xf0\\xa6\\xac\\xbc\\0\" \/* offset 17442 *\/\n-  \"\\xe8\\x8c\\x9d\\0\" \/* offset 17447 *\/\n-  \"\\xe8\\x8d\\xa3\\0\" \/* offset 17451 *\/\n-  \"\\xe8\\x8e\\xad\\0\" \/* offset 17455 *\/\n-  \"\\xe8\\x8c\\xa3\\0\" \/* offset 17459 *\/\n-  \"\\xe8\\x8e\\xbd\\0\" \/* offset 17463 *\/\n-  \"\\xe8\\x8f\\xa7\\0\" \/* offset 17467 *\/\n-  \"\\xe8\\x8d\\x93\\0\" \/* offset 17471 *\/\n-  \"\\xe8\\x8f\\x8a\\0\" \/* offset 17475 *\/\n-  \"\\xe8\\x8f\\x8c\\0\" \/* offset 17479 *\/\n-  \"\\xe8\\x8f\\x9c\\0\" \/* offset 17483 *\/\n-  \"\\xf0\\xa6\\xb0\\xb6\\0\" \/* offset 17487 *\/\n-  \"\\xf0\\xa6\\xb5\\xab\\0\" \/* offset 17492 *\/\n-  \"\\xf0\\xa6\\xb3\\x95\\0\" \/* offset 17497 *\/\n-  \"\\xe4\\x94\\xab\\0\" \/* offset 17502 *\/\n-  \"\\xe8\\x93\\xb1\\0\" \/* offset 17506 *\/\n-  \"\\xe8\\x93\\xb3\\0\" \/* offset 17510 *\/\n-  \"\\xe8\\x94\\x96\\0\" \/* offset 17514 *\/\n-  \"\\xf0\\xa7\\x8f\\x8a\\0\" \/* offset 17518 *\/\n-  \"\\xe8\\x95\\xa4\\0\" \/* offset 17523 *\/\n-  \"\\xf0\\xa6\\xbc\\xac\\0\" \/* offset 17527 *\/\n-  \"\\xe4\\x95\\x9d\\0\" \/* offset 17532 *\/\n-  \"\\xe4\\x95\\xa1\\0\" \/* offset 17536 *\/\n-  \"\\xf0\\xa6\\xbe\\xb1\\0\" \/* offset 17540 *\/\n-  \"\\xf0\\xa7\\x83\\x92\\0\" \/* offset 17545 *\/\n-  \"\\xe4\\x95\\xab\\0\" \/* offset 17550 *\/\n-  \"\\xe8\\x99\\x90\\0\" \/* offset 17554 *\/\n-  \"\\xe8\\x99\\xa7\\0\" \/* offset 17558 *\/\n-  \"\\xe8\\x99\\xa9\\0\" \/* offset 17562 *\/\n-  \"\\xe8\\x9a\\xa9\\0\" \/* offset 17566 *\/\n-  \"\\xe8\\x9a\\x88\\0\" \/* offset 17570 *\/\n-  \"\\xe8\\x9c\\x8e\\0\" \/* offset 17574 *\/\n-  \"\\xe8\\x9b\\xa2\\0\" \/* offset 17578 *\/\n-  \"\\xe8\\x9c\\xa8\\0\" \/* offset 17582 *\/\n-  \"\\xe8\\x9d\\xab\\0\" \/* offset 17586 *\/\n-  \"\\xe8\\x9e\\x86\\0\" \/* offset 17590 *\/\n-  \"\\xe4\\x97\\x97\\0\" \/* offset 17594 *\/\n-  \"\\xe8\\x9f\\xa1\\0\" \/* offset 17598 *\/\n-  \"\\xe8\\xa0\\x81\\0\" \/* offset 17602 *\/\n-  \"\\xe4\\x97\\xb9\\0\" \/* offset 17606 *\/\n-  \"\\xe8\\xa1\\xa0\\0\" \/* offset 17610 *\/\n-  \"\\xf0\\xa7\\x99\\xa7\\0\" \/* offset 17614 *\/\n-  \"\\xe8\\xa3\\x97\\0\" \/* offset 17619 *\/\n-  \"\\xe8\\xa3\\x9e\\0\" \/* offset 17623 *\/\n-  \"\\xe4\\x98\\xb5\\0\" \/* offset 17627 *\/\n-  \"\\xe8\\xa3\\xba\\0\" \/* offset 17631 *\/\n-  \"\\xe3\\x92\\xbb\\0\" \/* offset 17635 *\/\n-  \"\\xf0\\xa7\\xa2\\xae\\0\" \/* offset 17639 *\/\n-  \"\\xf0\\xa7\\xa5\\xa6\\0\" \/* offset 17644 *\/\n-  \"\\xe4\\x9a\\xbe\\0\" \/* offset 17649 *\/\n-  \"\\xe4\\x9b\\x87\\0\" \/* offset 17653 *\/\n-  \"\\xe8\\xaa\\xa0\\0\" \/* offset 17657 *\/\n-  \"\\xf0\\xa7\\xb2\\xa8\\0\" \/* offset 17661 *\/\n-  \"\\xe8\\xb2\\xab\\0\" \/* offset 17666 *\/\n-  \"\\xe8\\xb3\\x81\\0\" \/* offset 17670 *\/\n-  \"\\xe8\\xb4\\x9b\\0\" \/* offset 17674 *\/\n-  \"\\xe8\\xb5\\xb7\\0\" \/* offset 17678 *\/\n-  \"\\xf0\\xa7\\xbc\\xaf\\0\" \/* offset 17682 *\/\n-  \"\\xf0\\xa0\\xa0\\x84\\0\" \/* offset 17687 *\/\n-  \"\\xe8\\xb7\\x8b\\0\" \/* offset 17692 *\/\n-  \"\\xe8\\xb6\\xbc\\0\" \/* offset 17696 *\/\n-  \"\\xe8\\xb7\\xb0\\0\" \/* offset 17700 *\/\n-  \"\\xf0\\xa0\\xa3\\x9e\\0\" \/* offset 17704 *\/\n-  \"\\xe8\\xbb\\x94\\0\" \/* offset 17709 *\/\n-  \"\\xf0\\xa8\\x97\\x92\\0\" \/* offset 17713 *\/\n-  \"\\xf0\\xa8\\x97\\xad\\0\" \/* offset 17718 *\/\n-  \"\\xe9\\x82\\x94\\0\" \/* offset 17723 *\/\n-  \"\\xe9\\x83\\xb1\\0\" \/* offset 17727 *\/\n-  \"\\xe9\\x84\\x91\\0\" \/* offset 17731 *\/\n-  \"\\xf0\\xa8\\x9c\\xae\\0\" \/* offset 17735 *\/\n-  \"\\xe9\\x84\\x9b\\0\" \/* offset 17740 *\/\n-  \"\\xe9\\x88\\xb8\\0\" \/* offset 17744 *\/\n-  \"\\xe9\\x8b\\x97\\0\" \/* offset 17748 *\/\n-  \"\\xe9\\x8b\\x98\\0\" \/* offset 17752 *\/\n-  \"\\xe9\\x89\\xbc\\0\" \/* offset 17756 *\/\n-  \"\\xe9\\x8f\\xb9\\0\" \/* offset 17760 *\/\n-  \"\\xe9\\x90\\x95\\0\" \/* offset 17764 *\/\n-  \"\\xf0\\xa8\\xaf\\xba\\0\" \/* offset 17768 *\/\n-  \"\\xe9\\x96\\x8b\\0\" \/* offset 17773 *\/\n-  \"\\xe4\\xa6\\x95\\0\" \/* offset 17777 *\/\n-  \"\\xe9\\x96\\xb7\\0\" \/* offset 17781 *\/\n-  \"\\xf0\\xa8\\xb5\\xb7\\0\" \/* offset 17785 *\/\n-  \"\\xe4\\xa7\\xa6\\0\" \/* offset 17790 *\/\n-  \"\\xe9\\x9b\\x83\\0\" \/* offset 17794 *\/\n-  \"\\xe5\\xb6\\xb2\\0\" \/* offset 17798 *\/\n-  \"\\xe9\\x9c\\xa3\\0\" \/* offset 17802 *\/\n-  \"\\xf0\\xa9\\x85\\x85\\0\" \/* offset 17806 *\/\n-  \"\\xf0\\xa9\\x88\\x9a\\0\" \/* offset 17811 *\/\n-  \"\\xe4\\xa9\\xae\\0\" \/* offset 17816 *\/\n-  \"\\xe4\\xa9\\xb6\\0\" \/* offset 17820 *\/\n-  \"\\xe9\\x9f\\xa0\\0\" \/* offset 17824 *\/\n-  \"\\xf0\\xa9\\x90\\x8a\\0\" \/* offset 17828 *\/\n-  \"\\xe4\\xaa\\xb2\\0\" \/* offset 17833 *\/\n-  \"\\xf0\\xa9\\x92\\x96\\0\" \/* offset 17837 *\/\n-  \"\\xe9\\xa0\\xa9\\0\" \/* offset 17842 *\/\n-  \"\\xf0\\xa9\\x96\\xb6\\0\" \/* offset 17846 *\/\n-  \"\\xe9\\xa3\\xa2\\0\" \/* offset 17851 *\/\n-  \"\\xe4\\xac\\xb3\\0\" \/* offset 17855 *\/\n-  \"\\xe9\\xa4\\xa9\\0\" \/* offset 17859 *\/\n-  \"\\xe9\\xa6\\xa7\\0\" \/* offset 17863 *\/\n-  \"\\xe9\\xa7\\x82\\0\" \/* offset 17867 *\/\n-  \"\\xe9\\xa7\\xbe\\0\" \/* offset 17871 *\/\n-  \"\\xe4\\xaf\\x8e\\0\" \/* offset 17875 *\/\n-  \"\\xf0\\xa9\\xac\\xb0\\0\" \/* offset 17879 *\/\n-  \"\\xe9\\xb1\\x80\\0\" \/* offset 17884 *\/\n-  \"\\xe9\\xb3\\xbd\\0\" \/* offset 17888 *\/\n-  \"\\xe4\\xb3\\x8e\\0\" \/* offset 17892 *\/\n-  \"\\xe4\\xb3\\xad\\0\" \/* offset 17896 *\/\n-  \"\\xe9\\xb5\\xa7\\0\" \/* offset 17900 *\/\n-  \"\\xf0\\xaa\\x83\\x8e\\0\" \/* offset 17904 *\/\n-  \"\\xe4\\xb3\\xb8\\0\" \/* offset 17909 *\/\n-  \"\\xf0\\xaa\\x84\\x85\\0\" \/* offset 17913 *\/\n-  \"\\xf0\\xaa\\x88\\x8e\\0\" \/* offset 17918 *\/\n-  \"\\xf0\\xaa\\x8a\\x91\\0\" \/* offset 17923 *\/\n-  \"\\xe4\\xb5\\x96\\0\" \/* offset 17928 *\/\n-  \"\\xe9\\xbb\\xbe\\0\" \/* offset 17932 *\/\n-  \"\\xe9\\xbc\\x85\\0\" \/* offset 17936 *\/\n-  \"\\xe9\\xbc\\x8f\\0\" \/* offset 17940 *\/\n-  \"\\xe9\\xbc\\x96\\0\" \/* offset 17944 *\/\n-  \"\\xf0\\xaa\\x98\\x80\\0\" \/* offset 17948 *\/;\n+  \"\\xd0\\xb0\\0\" \/* offset 15566 *\/\n+  \"\\xd0\\xb1\\0\" \/* offset 15569 *\/\n+  \"\\xd0\\xb2\\0\" \/* offset 15572 *\/\n+  \"\\xd0\\xb3\\0\" \/* offset 15575 *\/\n+  \"\\xd0\\xb4\\0\" \/* offset 15578 *\/\n+  \"\\xd0\\xb5\\0\" \/* offset 15581 *\/\n+  \"\\xd0\\xb6\\0\" \/* offset 15584 *\/\n+  \"\\xd0\\xb7\\0\" \/* offset 15587 *\/\n+  \"\\xd0\\xb8\\0\" \/* offset 15590 *\/\n+  \"\\xd0\\xba\\0\" \/* offset 15593 *\/\n+  \"\\xd0\\xbb\\0\" \/* offset 15596 *\/\n+  \"\\xd0\\xbc\\0\" \/* offset 15599 *\/\n+  \"\\xd0\\xbe\\0\" \/* offset 15602 *\/\n+  \"\\xd0\\xbf\\0\" \/* offset 15605 *\/\n+  \"\\xd1\\x80\\0\" \/* offset 15608 *\/\n+  \"\\xd1\\x81\\0\" \/* offset 15611 *\/\n+  \"\\xd1\\x82\\0\" \/* offset 15614 *\/\n+  \"\\xd1\\x83\\0\" \/* offset 15617 *\/\n+  \"\\xd1\\x84\\0\" \/* offset 15620 *\/\n+  \"\\xd1\\x85\\0\" \/* offset 15623 *\/\n+  \"\\xd1\\x86\\0\" \/* offset 15626 *\/\n+  \"\\xd1\\x87\\0\" \/* offset 15629 *\/\n+  \"\\xd1\\x88\\0\" \/* offset 15632 *\/\n+  \"\\xd1\\x8b\\0\" \/* offset 15635 *\/\n+  \"\\xd1\\x8d\\0\" \/* offset 15638 *\/\n+  \"\\xd1\\x8e\\0\" \/* offset 15641 *\/\n+  \"\\xea\\x9a\\x89\\0\" \/* offset 15644 *\/\n+  \"\\xd3\\x99\\0\" \/* offset 15648 *\/\n+  \"\\xd1\\x96\\0\" \/* offset 15651 *\/\n+  \"\\xd1\\x98\\0\" \/* offset 15654 *\/\n+  \"\\xd3\\xa9\\0\" \/* offset 15657 *\/\n+  \"\\xd2\\xaf\\0\" \/* offset 15660 *\/\n+  \"\\xd3\\x8f\\0\" \/* offset 15663 *\/\n+  \"\\xd2\\x91\\0\" \/* offset 15666 *\/\n+  \"\\xd1\\x95\\0\" \/* offset 15669 *\/\n+  \"\\xd1\\x9f\\0\" \/* offset 15672 *\/\n+  \"\\xd2\\xab\\0\" \/* offset 15675 *\/\n+  \"\\xea\\x99\\x91\\0\" \/* offset 15678 *\/\n+  \"\\xd2\\xb1\\0\" \/* offset 15682 *\/\n+  \"\\xd9\\xae\\0\" \/* offset 15685 *\/\n+  \"\\xda\\xa1\\0\" \/* offset 15688 *\/\n+  \"\\xd9\\xaf\\0\" \/* offset 15691 *\/\n+  \"\\x30\\x2e\\0\" \/* offset 15694 *\/\n+  \"\\x30\\x2c\\0\" \/* offset 15697 *\/\n+  \"\\x31\\x2c\\0\" \/* offset 15700 *\/\n+  \"\\x32\\x2c\\0\" \/* offset 15703 *\/\n+  \"\\x33\\x2c\\0\" \/* offset 15706 *\/\n+  \"\\x34\\x2c\\0\" \/* offset 15709 *\/\n+  \"\\x35\\x2c\\0\" \/* offset 15712 *\/\n+  \"\\x36\\x2c\\0\" \/* offset 15715 *\/\n+  \"\\x37\\x2c\\0\" \/* offset 15718 *\/\n+  \"\\x38\\x2c\\0\" \/* offset 15721 *\/\n+  \"\\x39\\x2c\\0\" \/* offset 15724 *\/\n+  \"\\x28\\x41\\x29\\0\" \/* offset 15727 *\/\n+  \"\\x28\\x42\\x29\\0\" \/* offset 15731 *\/\n+  \"\\x28\\x43\\x29\\0\" \/* offset 15735 *\/\n+  \"\\x28\\x44\\x29\\0\" \/* offset 15739 *\/\n+  \"\\x28\\x45\\x29\\0\" \/* offset 15743 *\/\n+  \"\\x28\\x46\\x29\\0\" \/* offset 15747 *\/\n+  \"\\x28\\x47\\x29\\0\" \/* offset 15751 *\/\n+  \"\\x28\\x48\\x29\\0\" \/* offset 15755 *\/\n+  \"\\x28\\x49\\x29\\0\" \/* offset 15759 *\/\n+  \"\\x28\\x4a\\x29\\0\" \/* offset 15763 *\/\n+  \"\\x28\\x4b\\x29\\0\" \/* offset 15767 *\/\n+  \"\\x28\\x4c\\x29\\0\" \/* offset 15771 *\/\n+  \"\\x28\\x4d\\x29\\0\" \/* offset 15775 *\/\n+  \"\\x28\\x4e\\x29\\0\" \/* offset 15779 *\/\n+  \"\\x28\\x4f\\x29\\0\" \/* offset 15783 *\/\n+  \"\\x28\\x50\\x29\\0\" \/* offset 15787 *\/\n+  \"\\x28\\x51\\x29\\0\" \/* offset 15791 *\/\n+  \"\\x28\\x52\\x29\\0\" \/* offset 15795 *\/\n+  \"\\x28\\x53\\x29\\0\" \/* offset 15799 *\/\n+  \"\\x28\\x54\\x29\\0\" \/* offset 15803 *\/\n+  \"\\x28\\x55\\x29\\0\" \/* offset 15807 *\/\n+  \"\\x28\\x56\\x29\\0\" \/* offset 15811 *\/\n+  \"\\x28\\x57\\x29\\0\" \/* offset 15815 *\/\n+  \"\\x28\\x58\\x29\\0\" \/* offset 15819 *\/\n+  \"\\x28\\x59\\x29\\0\" \/* offset 15823 *\/\n+  \"\\x28\\x5a\\x29\\0\" \/* offset 15827 *\/\n+  \"\\xe3\\x80\\x94\\x53\\xe3\\x80\\x95\\0\" \/* offset 15831 *\/\n+  \"\\x43\\x44\\0\" \/* offset 15839 *\/\n+  \"\\x57\\x5a\\0\" \/* offset 15842 *\/\n+  \"\\x48\\x56\\0\" \/* offset 15845 *\/\n+  \"\\x53\\x44\\0\" \/* offset 15848 *\/\n+  \"\\x53\\x53\\0\" \/* offset 15851 *\/\n+  \"\\x50\\x50\\x56\\0\" \/* offset 15854 *\/\n+  \"\\x57\\x43\\0\" \/* offset 15858 *\/\n+  \"\\x4d\\x43\\0\" \/* offset 15861 *\/\n+  \"\\x4d\\x44\\0\" \/* offset 15864 *\/\n+  \"\\x4d\\x52\\0\" \/* offset 15867 *\/\n+  \"\\x44\\x4a\\0\" \/* offset 15870 *\/\n+  \"\\xe3\\x81\\xbb\\xe3\\x81\\x8b\\0\" \/* offset 15873 *\/\n+  \"\\xe3\\x82\\xb3\\xe3\\x82\\xb3\\0\" \/* offset 15880 *\/\n+  \"\\xe5\\xad\\x97\\0\" \/* offset 15887 *\/\n+  \"\\xe5\\x8f\\x8c\\0\" \/* offset 15891 *\/\n+  \"\\xe5\\xa4\\x9a\\0\" \/* offset 15895 *\/\n+  \"\\xe8\\xa7\\xa3\\0\" \/* offset 15899 *\/\n+  \"\\xe4\\xba\\xa4\\0\" \/* offset 15903 *\/\n+  \"\\xe6\\x98\\xa0\\0\" \/* offset 15907 *\/\n+  \"\\xe7\\x84\\xa1\\0\" \/* offset 15911 *\/\n+  \"\\xe5\\x89\\x8d\\0\" \/* offset 15915 *\/\n+  \"\\xe5\\xbe\\x8c\\0\" \/* offset 15919 *\/\n+  \"\\xe5\\x86\\x8d\\0\" \/* offset 15923 *\/\n+  \"\\xe6\\x96\\xb0\\0\" \/* offset 15927 *\/\n+  \"\\xe5\\x88\\x9d\\0\" \/* offset 15931 *\/\n+  \"\\xe7\\xb5\\x82\\0\" \/* offset 15935 *\/\n+  \"\\xe8\\xb2\\xa9\\0\" \/* offset 15939 *\/\n+  \"\\xe5\\xa3\\xb0\\0\" \/* offset 15943 *\/\n+  \"\\xe5\\x90\\xb9\\0\" \/* offset 15947 *\/\n+  \"\\xe6\\xbc\\x94\\0\" \/* offset 15951 *\/\n+  \"\\xe6\\x8a\\x95\\0\" \/* offset 15955 *\/\n+  \"\\xe6\\x8d\\x95\\0\" \/* offset 15959 *\/\n+  \"\\xe9\\x81\\x8a\\0\" \/* offset 15963 *\/\n+  \"\\xe6\\x8c\\x87\\0\" \/* offset 15967 *\/\n+  \"\\xe6\\x89\\x93\\0\" \/* offset 15971 *\/\n+  \"\\xe7\\xa6\\x81\\0\" \/* offset 15975 *\/\n+  \"\\xe7\\xa9\\xba\\0\" \/* offset 15979 *\/\n+  \"\\xe5\\x90\\x88\\0\" \/* offset 15983 *\/\n+  \"\\xe6\\xba\\x80\\0\" \/* offset 15987 *\/\n+  \"\\xe7\\x94\\xb3\\0\" \/* offset 15991 *\/\n+  \"\\xe5\\x89\\xb2\\0\" \/* offset 15995 *\/\n+  \"\\xe5\\x96\\xb6\\0\" \/* offset 15999 *\/\n+  \"\\xe9\\x85\\x8d\\0\" \/* offset 16003 *\/\n+  \"\\xe3\\x80\\x94\\xe6\\x9c\\xac\\xe3\\x80\\x95\\0\" \/* offset 16007 *\/\n+  \"\\xe3\\x80\\x94\\xe4\\xb8\\x89\\xe3\\x80\\x95\\0\" \/* offset 16017 *\/\n+  \"\\xe3\\x80\\x94\\xe4\\xba\\x8c\\xe3\\x80\\x95\\0\" \/* offset 16027 *\/\n+  \"\\xe3\\x80\\x94\\xe5\\xae\\x89\\xe3\\x80\\x95\\0\" \/* offset 16037 *\/\n+  \"\\xe3\\x80\\x94\\xe7\\x82\\xb9\\xe3\\x80\\x95\\0\" \/* offset 16047 *\/\n+  \"\\xe3\\x80\\x94\\xe6\\x89\\x93\\xe3\\x80\\x95\\0\" \/* offset 16057 *\/\n+  \"\\xe3\\x80\\x94\\xe7\\x9b\\x97\\xe3\\x80\\x95\\0\" \/* offset 16067 *\/\n+  \"\\xe3\\x80\\x94\\xe5\\x8b\\x9d\\xe3\\x80\\x95\\0\" \/* offset 16077 *\/\n+  \"\\xe3\\x80\\x94\\xe6\\x95\\x97\\xe3\\x80\\x95\\0\" \/* offset 16087 *\/\n+  \"\\xe5\\xbe\\x97\\0\" \/* offset 16097 *\/\n+  \"\\xe5\\x8f\\xaf\\0\" \/* offset 16101 *\/\n+  \"\\xe4\\xb8\\xbd\\0\" \/* offset 16105 *\/\n+  \"\\xe4\\xb8\\xb8\\0\" \/* offset 16109 *\/\n+  \"\\xe4\\xb9\\x81\\0\" \/* offset 16113 *\/\n+  \"\\xf0\\xa0\\x84\\xa2\\0\" \/* offset 16117 *\/\n+  \"\\xe4\\xbd\\xa0\\0\" \/* offset 16122 *\/\n+  \"\\xe4\\xbe\\xbb\\0\" \/* offset 16126 *\/\n+  \"\\xe5\\x80\\x82\\0\" \/* offset 16130 *\/\n+  \"\\xe5\\x81\\xba\\0\" \/* offset 16134 *\/\n+  \"\\xe5\\x82\\x99\\0\" \/* offset 16138 *\/\n+  \"\\xe5\\x83\\x8f\\0\" \/* offset 16142 *\/\n+  \"\\xe3\\x92\\x9e\\0\" \/* offset 16146 *\/\n+  \"\\xf0\\xa0\\x98\\xba\\0\" \/* offset 16150 *\/\n+  \"\\xe5\\x85\\x94\\0\" \/* offset 16155 *\/\n+  \"\\xe5\\x85\\xa4\\0\" \/* offset 16159 *\/\n+  \"\\xe5\\x85\\xb7\\0\" \/* offset 16163 *\/\n+  \"\\xf0\\xa0\\x94\\x9c\\0\" \/* offset 16167 *\/\n+  \"\\xe3\\x92\\xb9\\0\" \/* offset 16172 *\/\n+  \"\\xe5\\x85\\xa7\\0\" \/* offset 16176 *\/\n+  \"\\xf0\\xa0\\x95\\x8b\\0\" \/* offset 16180 *\/\n+  \"\\xe5\\x86\\x97\\0\" \/* offset 16185 *\/\n+  \"\\xe5\\x86\\xa4\\0\" \/* offset 16189 *\/\n+  \"\\xe4\\xbb\\x8c\\0\" \/* offset 16193 *\/\n+  \"\\xe5\\x86\\xac\\0\" \/* offset 16197 *\/\n+  \"\\xf0\\xa9\\x87\\x9f\\0\" \/* offset 16201 *\/\n+  \"\\xe5\\x88\\x83\\0\" \/* offset 16206 *\/\n+  \"\\xe3\\x93\\x9f\\0\" \/* offset 16210 *\/\n+  \"\\xe5\\x88\\xbb\\0\" \/* offset 16214 *\/\n+  \"\\xe5\\x89\\x86\\0\" \/* offset 16218 *\/\n+  \"\\xe5\\x89\\xb7\\0\" \/* offset 16222 *\/\n+  \"\\xe3\\x94\\x95\\0\" \/* offset 16226 *\/\n+  \"\\xe5\\x8c\\x85\\0\" \/* offset 16230 *\/\n+  \"\\xe5\\x8c\\x86\\0\" \/* offset 16234 *\/\n+  \"\\xe5\\x8d\\x89\\0\" \/* offset 16238 *\/\n+  \"\\xe5\\x8d\\x9a\\0\" \/* offset 16242 *\/\n+  \"\\xe5\\x8d\\xb3\\0\" \/* offset 16246 *\/\n+  \"\\xe5\\x8d\\xbd\\0\" \/* offset 16250 *\/\n+  \"\\xe5\\x8d\\xbf\\0\" \/* offset 16254 *\/\n+  \"\\xf0\\xa0\\xa8\\xac\\0\" \/* offset 16258 *\/\n+  \"\\xe7\\x81\\xb0\\0\" \/* offset 16263 *\/\n+  \"\\xe5\\x8f\\x8a\\0\" \/* offset 16267 *\/\n+  \"\\xe5\\x8f\\x9f\\0\" \/* offset 16271 *\/\n+  \"\\xf0\\xa0\\xad\\xa3\\0\" \/* offset 16275 *\/\n+  \"\\xe5\\x8f\\xab\\0\" \/* offset 16280 *\/\n+  \"\\xe5\\x8f\\xb1\\0\" \/* offset 16284 *\/\n+  \"\\xe5\\x90\\x86\\0\" \/* offset 16288 *\/\n+  \"\\xe5\\x92\\x9e\\0\" \/* offset 16292 *\/\n+  \"\\xe5\\x90\\xb8\\0\" \/* offset 16296 *\/\n+  \"\\xe5\\x91\\x88\\0\" \/* offset 16300 *\/\n+  \"\\xe5\\x91\\xa8\\0\" \/* offset 16304 *\/\n+  \"\\xe5\\x92\\xa2\\0\" \/* offset 16308 *\/\n+  \"\\xe5\\x93\\xb6\\0\" \/* offset 16312 *\/\n+  \"\\xe5\\x94\\x90\\0\" \/* offset 16316 *\/\n+  \"\\xe5\\x95\\x93\\0\" \/* offset 16320 *\/\n+  \"\\xe5\\x95\\xa3\\0\" \/* offset 16324 *\/\n+  \"\\xe5\\x96\\x84\\0\" \/* offset 16328 *\/\n+  \"\\xe5\\x96\\xab\\0\" \/* offset 16332 *\/\n+  \"\\xe5\\x96\\xb3\\0\" \/* offset 16336 *\/\n+  \"\\xe5\\x97\\x82\\0\" \/* offset 16340 *\/\n+  \"\\xe5\\x9c\\x96\\0\" \/* offset 16344 *\/\n+  \"\\xe5\\x9c\\x97\\0\" \/* offset 16348 *\/\n+  \"\\xe5\\x99\\x91\\0\" \/* offset 16352 *\/\n+  \"\\xe5\\x99\\xb4\\0\" \/* offset 16356 *\/\n+  \"\\xe5\\xa3\\xae\\0\" \/* offset 16360 *\/\n+  \"\\xe5\\x9f\\x8e\\0\" \/* offset 16364 *\/\n+  \"\\xe5\\x9f\\xb4\\0\" \/* offset 16368 *\/\n+  \"\\xe5\\xa0\\x8d\\0\" \/* offset 16372 *\/\n+  \"\\xe5\\x9e\\x8b\\0\" \/* offset 16376 *\/\n+  \"\\xe5\\xa0\\xb2\\0\" \/* offset 16380 *\/\n+  \"\\xe5\\xa0\\xb1\\0\" \/* offset 16384 *\/\n+  \"\\xe5\\xa2\\xac\\0\" \/* offset 16388 *\/\n+  \"\\xf0\\xa1\\x93\\xa4\\0\" \/* offset 16392 *\/\n+  \"\\xe5\\xa3\\xb2\\0\" \/* offset 16397 *\/\n+  \"\\xe5\\xa3\\xb7\\0\" \/* offset 16401 *\/\n+  \"\\xe5\\xa4\\x86\\0\" \/* offset 16405 *\/\n+  \"\\xe5\\xa4\\xa2\\0\" \/* offset 16409 *\/\n+  \"\\xe5\\xa5\\xa2\\0\" \/* offset 16413 *\/\n+  \"\\xf0\\xa1\\x9a\\xa8\\0\" \/* offset 16417 *\/\n+  \"\\xf0\\xa1\\x9b\\xaa\\0\" \/* offset 16422 *\/\n+  \"\\xe5\\xa7\\xac\\0\" \/* offset 16427 *\/\n+  \"\\xe5\\xa8\\x9b\\0\" \/* offset 16431 *\/\n+  \"\\xe5\\xa8\\xa7\\0\" \/* offset 16435 *\/\n+  \"\\xe5\\xa7\\x98\\0\" \/* offset 16439 *\/\n+  \"\\xe5\\xa9\\xa6\\0\" \/* offset 16443 *\/\n+  \"\\xe3\\x9b\\xae\\0\" \/* offset 16447 *\/\n+  \"\\xe3\\x9b\\xbc\\0\" \/* offset 16451 *\/\n+  \"\\xe5\\xac\\x88\\0\" \/* offset 16455 *\/\n+  \"\\xe5\\xac\\xbe\\0\" \/* offset 16459 *\/\n+  \"\\xf0\\xa1\\xa7\\x88\\0\" \/* offset 16463 *\/\n+  \"\\xe5\\xaf\\x83\\0\" \/* offset 16468 *\/\n+  \"\\xe5\\xaf\\x98\\0\" \/* offset 16472 *\/\n+  \"\\xe5\\xaf\\xb3\\0\" \/* offset 16476 *\/\n+  \"\\xf0\\xa1\\xac\\x98\\0\" \/* offset 16480 *\/\n+  \"\\xe5\\xaf\\xbf\\0\" \/* offset 16485 *\/\n+  \"\\xe5\\xb0\\x86\\0\" \/* offset 16489 *\/\n+  \"\\xe5\\xbd\\x93\\0\" \/* offset 16493 *\/\n+  \"\\xe3\\x9e\\x81\\0\" \/* offset 16497 *\/\n+  \"\\xe5\\xb1\\xa0\\0\" \/* offset 16501 *\/\n+  \"\\xe5\\xb3\\x80\\0\" \/* offset 16505 *\/\n+  \"\\xe5\\xb2\\x8d\\0\" \/* offset 16509 *\/\n+  \"\\xf0\\xa1\\xb7\\xa4\\0\" \/* offset 16513 *\/\n+  \"\\xe5\\xb5\\x83\\0\" \/* offset 16518 *\/\n+  \"\\xf0\\xa1\\xb7\\xa6\\0\" \/* offset 16522 *\/\n+  \"\\xe5\\xb5\\xae\\0\" \/* offset 16527 *\/\n+  \"\\xe5\\xb5\\xab\\0\" \/* offset 16531 *\/\n+  \"\\xe5\\xb5\\xbc\\0\" \/* offset 16535 *\/\n+  \"\\xe5\\xb7\\xa1\\0\" \/* offset 16539 *\/\n+  \"\\xe5\\xb7\\xa2\\0\" \/* offset 16543 *\/\n+  \"\\xe3\\xa0\\xaf\\0\" \/* offset 16547 *\/\n+  \"\\xe5\\xb7\\xbd\\0\" \/* offset 16551 *\/\n+  \"\\xe5\\xb8\\xa8\\0\" \/* offset 16555 *\/\n+  \"\\xe5\\xb8\\xbd\\0\" \/* offset 16559 *\/\n+  \"\\xe5\\xb9\\xa9\\0\" \/* offset 16563 *\/\n+  \"\\xe3\\xa1\\xa2\\0\" \/* offset 16567 *\/\n+  \"\\xf0\\xa2\\x86\\x83\\0\" \/* offset 16571 *\/\n+  \"\\xe3\\xa1\\xbc\\0\" \/* offset 16576 *\/\n+  \"\\xe5\\xba\\xb0\\0\" \/* offset 16580 *\/\n+  \"\\xe5\\xba\\xb3\\0\" \/* offset 16584 *\/\n+  \"\\xe5\\xba\\xb6\\0\" \/* offset 16588 *\/\n+  \"\\xf0\\xaa\\x8e\\x92\\0\" \/* offset 16592 *\/\n+  \"\\xf0\\xa2\\x8c\\xb1\\0\" \/* offset 16597 *\/\n+  \"\\xe8\\x88\\x81\\0\" \/* offset 16602 *\/\n+  \"\\xe5\\xbc\\xa2\\0\" \/* offset 16606 *\/\n+  \"\\xe3\\xa3\\x87\\0\" \/* offset 16610 *\/\n+  \"\\xf0\\xa3\\x8a\\xb8\\0\" \/* offset 16614 *\/\n+  \"\\xf0\\xa6\\x87\\x9a\\0\" \/* offset 16619 *\/\n+  \"\\xe5\\xbd\\xa2\\0\" \/* offset 16624 *\/\n+  \"\\xe5\\xbd\\xab\\0\" \/* offset 16628 *\/\n+  \"\\xe3\\xa3\\xa3\\0\" \/* offset 16632 *\/\n+  \"\\xe5\\xbe\\x9a\\0\" \/* offset 16636 *\/\n+  \"\\xe5\\xbf\\x8d\\0\" \/* offset 16640 *\/\n+  \"\\xe5\\xbf\\x97\\0\" \/* offset 16644 *\/\n+  \"\\xe5\\xbf\\xb9\\0\" \/* offset 16648 *\/\n+  \"\\xe6\\x82\\x81\\0\" \/* offset 16652 *\/\n+  \"\\xe3\\xa4\\xba\\0\" \/* offset 16656 *\/\n+  \"\\xe3\\xa4\\x9c\\0\" \/* offset 16660 *\/\n+  \"\\xf0\\xa2\\x9b\\x94\\0\" \/* offset 16664 *\/\n+  \"\\xe6\\x83\\x87\\0\" \/* offset 16669 *\/\n+  \"\\xe6\\x85\\x88\\0\" \/* offset 16673 *\/\n+  \"\\xe6\\x85\\x8c\\0\" \/* offset 16677 *\/\n+  \"\\xe6\\x85\\xba\\0\" \/* offset 16681 *\/\n+  \"\\xe6\\x86\\xb2\\0\" \/* offset 16685 *\/\n+  \"\\xe6\\x86\\xa4\\0\" \/* offset 16689 *\/\n+  \"\\xe6\\x86\\xaf\\0\" \/* offset 16693 *\/\n+  \"\\xe6\\x87\\x9e\\0\" \/* offset 16697 *\/\n+  \"\\xe6\\x88\\x90\\0\" \/* offset 16701 *\/\n+  \"\\xe6\\x88\\x9b\\0\" \/* offset 16705 *\/\n+  \"\\xe6\\x89\\x9d\\0\" \/* offset 16709 *\/\n+  \"\\xe6\\x8a\\xb1\\0\" \/* offset 16713 *\/\n+  \"\\xe6\\x8b\\x94\\0\" \/* offset 16717 *\/\n+  \"\\xe6\\x8d\\x90\\0\" \/* offset 16721 *\/\n+  \"\\xf0\\xa2\\xac\\x8c\\0\" \/* offset 16725 *\/\n+  \"\\xe6\\x8c\\xbd\\0\" \/* offset 16730 *\/\n+  \"\\xe6\\x8b\\xbc\\0\" \/* offset 16734 *\/\n+  \"\\xe6\\x8d\\xa8\\0\" \/* offset 16738 *\/\n+  \"\\xe6\\x8e\\x83\\0\" \/* offset 16742 *\/\n+  \"\\xe6\\x8f\\xa4\\0\" \/* offset 16746 *\/\n+  \"\\xf0\\xa2\\xaf\\xb1\\0\" \/* offset 16750 *\/\n+  \"\\xe6\\x90\\xa2\\0\" \/* offset 16755 *\/\n+  \"\\xe6\\x8f\\x85\\0\" \/* offset 16759 *\/\n+  \"\\xe6\\x8e\\xa9\\0\" \/* offset 16763 *\/\n+  \"\\xe3\\xa8\\xae\\0\" \/* offset 16767 *\/\n+  \"\\xe6\\x91\\xa9\\0\" \/* offset 16771 *\/\n+  \"\\xe6\\x91\\xbe\\0\" \/* offset 16775 *\/\n+  \"\\xe6\\x92\\x9d\\0\" \/* offset 16779 *\/\n+  \"\\xe6\\x91\\xb7\\0\" \/* offset 16783 *\/\n+  \"\\xe3\\xa9\\xac\\0\" \/* offset 16787 *\/\n+  \"\\xe6\\x95\\xac\\0\" \/* offset 16791 *\/\n+  \"\\xf0\\xa3\\x80\\x8a\\0\" \/* offset 16795 *\/\n+  \"\\xe6\\x97\\xa3\\0\" \/* offset 16800 *\/\n+  \"\\xe6\\x9b\\xb8\\0\" \/* offset 16804 *\/\n+  \"\\xe6\\x99\\x89\\0\" \/* offset 16808 *\/\n+  \"\\xe3\\xac\\x99\\0\" \/* offset 16812 *\/\n+  \"\\xe3\\xac\\x88\\0\" \/* offset 16816 *\/\n+  \"\\xe3\\xab\\xa4\\0\" \/* offset 16820 *\/\n+  \"\\xe5\\x86\\x92\\0\" \/* offset 16824 *\/\n+  \"\\xe5\\x86\\x95\\0\" \/* offset 16828 *\/\n+  \"\\xe6\\x9c\\x80\\0\" \/* offset 16832 *\/\n+  \"\\xe6\\x9a\\x9c\\0\" \/* offset 16836 *\/\n+  \"\\xe8\\x82\\xad\\0\" \/* offset 16840 *\/\n+  \"\\xe4\\x8f\\x99\\0\" \/* offset 16844 *\/\n+  \"\\xe6\\x9c\\xa1\\0\" \/* offset 16848 *\/\n+  \"\\xe6\\x9d\\x9e\\0\" \/* offset 16852 *\/\n+  \"\\xe6\\x9d\\x93\\0\" \/* offset 16856 *\/\n+  \"\\xf0\\xa3\\x8f\\x83\\0\" \/* offset 16860 *\/\n+  \"\\xe3\\xad\\x89\\0\" \/* offset 16865 *\/\n+  \"\\xe6\\x9f\\xba\\0\" \/* offset 16869 *\/\n+  \"\\xe6\\x9e\\x85\\0\" \/* offset 16873 *\/\n+  \"\\xe6\\xa1\\x92\\0\" \/* offset 16877 *\/\n+  \"\\xf0\\xa3\\x91\\xad\\0\" \/* offset 16881 *\/\n+  \"\\xe6\\xa2\\x8e\\0\" \/* offset 16886 *\/\n+  \"\\xe6\\xa0\\x9f\\0\" \/* offset 16890 *\/\n+  \"\\xe6\\xa4\\x94\\0\" \/* offset 16894 *\/\n+  \"\\xe6\\xa5\\x82\\0\" \/* offset 16898 *\/\n+  \"\\xe6\\xa6\\xa3\\0\" \/* offset 16902 *\/\n+  \"\\xe6\\xa7\\xaa\\0\" \/* offset 16906 *\/\n+  \"\\xe6\\xaa\\xa8\\0\" \/* offset 16910 *\/\n+  \"\\xf0\\xa3\\x9a\\xa3\\0\" \/* offset 16914 *\/\n+  \"\\xe6\\xab\\x9b\\0\" \/* offset 16919 *\/\n+  \"\\xe3\\xb0\\x98\\0\" \/* offset 16923 *\/\n+  \"\\xe6\\xac\\xa1\\0\" \/* offset 16927 *\/\n+  \"\\xf0\\xa3\\xa2\\xa7\\0\" \/* offset 16931 *\/\n+  \"\\xe6\\xad\\x94\\0\" \/* offset 16936 *\/\n+  \"\\xe3\\xb1\\x8e\\0\" \/* offset 16940 *\/\n+  \"\\xe6\\xad\\xb2\\0\" \/* offset 16944 *\/\n+  \"\\xe6\\xae\\x9f\\0\" \/* offset 16948 *\/\n+  \"\\xe6\\xae\\xbb\\0\" \/* offset 16952 *\/\n+  \"\\xf0\\xa3\\xaa\\x8d\\0\" \/* offset 16956 *\/\n+  \"\\xf0\\xa1\\xb4\\x8b\\0\" \/* offset 16961 *\/\n+  \"\\xf0\\xa3\\xab\\xba\\0\" \/* offset 16966 *\/\n+  \"\\xe6\\xb1\\x8e\\0\" \/* offset 16971 *\/\n+  \"\\xf0\\xa3\\xb2\\xbc\\0\" \/* offset 16975 *\/\n+  \"\\xe6\\xb2\\xbf\\0\" \/* offset 16980 *\/\n+  \"\\xe6\\xb3\\x8d\\0\" \/* offset 16984 *\/\n+  \"\\xe6\\xb1\\xa7\\0\" \/* offset 16988 *\/\n+  \"\\xe6\\xb4\\x96\\0\" \/* offset 16992 *\/\n+  \"\\xe6\\xb4\\xbe\\0\" \/* offset 16996 *\/\n+  \"\\xe6\\xb5\\xa9\\0\" \/* offset 17000 *\/\n+  \"\\xe6\\xb5\\xb8\\0\" \/* offset 17004 *\/\n+  \"\\xe6\\xb6\\x85\\0\" \/* offset 17008 *\/\n+  \"\\xf0\\xa3\\xb4\\x9e\\0\" \/* offset 17012 *\/\n+  \"\\xe6\\xb4\\xb4\\0\" \/* offset 17017 *\/\n+  \"\\xe6\\xb8\\xaf\\0\" \/* offset 17021 *\/\n+  \"\\xe6\\xb9\\xae\\0\" \/* offset 17025 *\/\n+  \"\\xe3\\xb4\\xb3\\0\" \/* offset 17029 *\/\n+  \"\\xe6\\xbb\\x87\\0\" \/* offset 17033 *\/\n+  \"\\xf0\\xa3\\xbb\\x91\\0\" \/* offset 17037 *\/\n+  \"\\xe6\\xb7\\xb9\\0\" \/* offset 17042 *\/\n+  \"\\xe6\\xbd\\xae\\0\" \/* offset 17046 *\/\n+  \"\\xf0\\xa3\\xbd\\x9e\\0\" \/* offset 17050 *\/\n+  \"\\xf0\\xa3\\xbe\\x8e\\0\" \/* offset 17055 *\/\n+  \"\\xe6\\xbf\\x86\\0\" \/* offset 17060 *\/\n+  \"\\xe7\\x80\\xb9\\0\" \/* offset 17064 *\/\n+  \"\\xe7\\x80\\x9b\\0\" \/* offset 17068 *\/\n+  \"\\xe3\\xb6\\x96\\0\" \/* offset 17072 *\/\n+  \"\\xe7\\x81\\x8a\\0\" \/* offset 17076 *\/\n+  \"\\xe7\\x81\\xbd\\0\" \/* offset 17080 *\/\n+  \"\\xe7\\x81\\xb7\\0\" \/* offset 17084 *\/\n+  \"\\xe7\\x82\\xad\\0\" \/* offset 17088 *\/\n+  \"\\xf0\\xa0\\x94\\xa5\\0\" \/* offset 17092 *\/\n+  \"\\xe7\\x85\\x85\\0\" \/* offset 17097 *\/\n+  \"\\xf0\\xa4\\x89\\xa3\\0\" \/* offset 17101 *\/\n+  \"\\xe7\\x86\\x9c\\0\" \/* offset 17106 *\/\n+  \"\\xf0\\xa4\\x8e\\xab\\0\" \/* offset 17110 *\/\n+  \"\\xe7\\x88\\xa8\\0\" \/* offset 17115 *\/\n+  \"\\xe7\\x89\\x90\\0\" \/* offset 17119 *\/\n+  \"\\xf0\\xa4\\x98\\x88\\0\" \/* offset 17123 *\/\n+  \"\\xe7\\x8a\\x80\\0\" \/* offset 17128 *\/\n+  \"\\xe7\\x8a\\x95\\0\" \/* offset 17132 *\/\n+  \"\\xf0\\xa4\\x9c\\xb5\\0\" \/* offset 17136 *\/\n+  \"\\xf0\\xa4\\xa0\\x94\\0\" \/* offset 17141 *\/\n+  \"\\xe7\\x8d\\xba\\0\" \/* offset 17146 *\/\n+  \"\\xe7\\x8e\\x8b\\0\" \/* offset 17150 *\/\n+  \"\\xe3\\xba\\xac\\0\" \/* offset 17154 *\/\n+  \"\\xe7\\x8e\\xa5\\0\" \/* offset 17158 *\/\n+  \"\\xe3\\xba\\xb8\\0\" \/* offset 17162 *\/\n+  \"\\xe7\\x91\\x87\\0\" \/* offset 17166 *\/\n+  \"\\xe7\\x91\\x9c\\0\" \/* offset 17170 *\/\n+  \"\\xe7\\x92\\x85\\0\" \/* offset 17174 *\/\n+  \"\\xe7\\x93\\x8a\\0\" \/* offset 17178 *\/\n+  \"\\xe3\\xbc\\x9b\\0\" \/* offset 17182 *\/\n+  \"\\xe7\\x94\\xa4\\0\" \/* offset 17186 *\/\n+  \"\\xf0\\xa4\\xb0\\xb6\\0\" \/* offset 17190 *\/\n+  \"\\xe7\\x94\\xbe\\0\" \/* offset 17195 *\/\n+  \"\\xf0\\xa4\\xb2\\x92\\0\" \/* offset 17199 *\/\n+  \"\\xf0\\xa2\\x86\\x9f\\0\" \/* offset 17204 *\/\n+  \"\\xe7\\x98\\x90\\0\" \/* offset 17209 *\/\n+  \"\\xf0\\xa4\\xbe\\xa1\\0\" \/* offset 17213 *\/\n+  \"\\xf0\\xa4\\xbe\\xb8\\0\" \/* offset 17218 *\/\n+  \"\\xf0\\xa5\\x81\\x84\\0\" \/* offset 17223 *\/\n+  \"\\xe3\\xbf\\xbc\\0\" \/* offset 17228 *\/\n+  \"\\xe4\\x80\\x88\\0\" \/* offset 17232 *\/\n+  \"\\xf0\\xa5\\x83\\xb3\\0\" \/* offset 17236 *\/\n+  \"\\xf0\\xa5\\x83\\xb2\\0\" \/* offset 17241 *\/\n+  \"\\xf0\\xa5\\x84\\x99\\0\" \/* offset 17246 *\/\n+  \"\\xf0\\xa5\\x84\\xb3\\0\" \/* offset 17251 *\/\n+  \"\\xe7\\x9c\\x9e\\0\" \/* offset 17256 *\/\n+  \"\\xe7\\x9c\\x9f\\0\" \/* offset 17260 *\/\n+  \"\\xe7\\x9e\\x8b\\0\" \/* offset 17264 *\/\n+  \"\\xe4\\x81\\x86\\0\" \/* offset 17268 *\/\n+  \"\\xe4\\x82\\x96\\0\" \/* offset 17272 *\/\n+  \"\\xf0\\xa5\\x90\\x9d\\0\" \/* offset 17276 *\/\n+  \"\\xe7\\xa1\\x8e\\0\" \/* offset 17281 *\/\n+  \"\\xe4\\x83\\xa3\\0\" \/* offset 17285 *\/\n+  \"\\xf0\\xa5\\x98\\xa6\\0\" \/* offset 17289 *\/\n+  \"\\xf0\\xa5\\x9a\\x9a\\0\" \/* offset 17294 *\/\n+  \"\\xf0\\xa5\\x9b\\x85\\0\" \/* offset 17299 *\/\n+  \"\\xe7\\xa7\\xab\\0\" \/* offset 17304 *\/\n+  \"\\xe4\\x84\\xaf\\0\" \/* offset 17308 *\/\n+  \"\\xe7\\xa9\\x8a\\0\" \/* offset 17312 *\/\n+  \"\\xe7\\xa9\\x8f\\0\" \/* offset 17316 *\/\n+  \"\\xf0\\xa5\\xa5\\xbc\\0\" \/* offset 17320 *\/\n+  \"\\xf0\\xa5\\xaa\\xa7\\0\" \/* offset 17325 *\/\n+  \"\\xe7\\xab\\xae\\0\" \/* offset 17330 *\/\n+  \"\\xe4\\x88\\x82\\0\" \/* offset 17334 *\/\n+  \"\\xf0\\xa5\\xae\\xab\\0\" \/* offset 17338 *\/\n+  \"\\xe7\\xaf\\x86\\0\" \/* offset 17343 *\/\n+  \"\\xe7\\xaf\\x89\\0\" \/* offset 17347 *\/\n+  \"\\xe4\\x88\\xa7\\0\" \/* offset 17351 *\/\n+  \"\\xf0\\xa5\\xb2\\x80\\0\" \/* offset 17355 *\/\n+  \"\\xe7\\xb3\\x92\\0\" \/* offset 17360 *\/\n+  \"\\xe4\\x8a\\xa0\\0\" \/* offset 17364 *\/\n+  \"\\xe7\\xb3\\xa8\\0\" \/* offset 17368 *\/\n+  \"\\xe7\\xb3\\xa3\\0\" \/* offset 17372 *\/\n+  \"\\xe7\\xb4\\x80\\0\" \/* offset 17376 *\/\n+  \"\\xf0\\xa5\\xbe\\x86\\0\" \/* offset 17380 *\/\n+  \"\\xe7\\xb5\\xa3\\0\" \/* offset 17385 *\/\n+  \"\\xe4\\x8c\\x81\\0\" \/* offset 17389 *\/\n+  \"\\xe7\\xb7\\x87\\0\" \/* offset 17393 *\/\n+  \"\\xe7\\xb8\\x82\\0\" \/* offset 17397 *\/\n+  \"\\xe7\\xb9\\x85\\0\" \/* offset 17401 *\/\n+  \"\\xe4\\x8c\\xb4\\0\" \/* offset 17405 *\/\n+  \"\\xf0\\xa6\\x88\\xa8\\0\" \/* offset 17409 *\/\n+  \"\\xf0\\xa6\\x89\\x87\\0\" \/* offset 17414 *\/\n+  \"\\xe4\\x8d\\x99\\0\" \/* offset 17419 *\/\n+  \"\\xf0\\xa6\\x8b\\x99\\0\" \/* offset 17423 *\/\n+  \"\\xe7\\xbd\\xba\\0\" \/* offset 17428 *\/\n+  \"\\xf0\\xa6\\x8c\\xbe\\0\" \/* offset 17432 *\/\n+  \"\\xe7\\xbe\\x95\\0\" \/* offset 17437 *\/\n+  \"\\xe7\\xbf\\xba\\0\" \/* offset 17441 *\/\n+  \"\\xf0\\xa6\\x93\\x9a\\0\" \/* offset 17445 *\/\n+  \"\\xf0\\xa6\\x94\\xa3\\0\" \/* offset 17450 *\/\n+  \"\\xe8\\x81\\xa0\\0\" \/* offset 17455 *\/\n+  \"\\xf0\\xa6\\x96\\xa8\\0\" \/* offset 17459 *\/\n+  \"\\xe8\\x81\\xb0\\0\" \/* offset 17464 *\/\n+  \"\\xf0\\xa3\\x8d\\x9f\\0\" \/* offset 17468 *\/\n+  \"\\xe4\\x8f\\x95\\0\" \/* offset 17473 *\/\n+  \"\\xe8\\x82\\xb2\\0\" \/* offset 17477 *\/\n+  \"\\xe8\\x84\\x83\\0\" \/* offset 17481 *\/\n+  \"\\xe4\\x90\\x8b\\0\" \/* offset 17485 *\/\n+  \"\\xe8\\x84\\xbe\\0\" \/* offset 17489 *\/\n+  \"\\xe5\\xaa\\xb5\\0\" \/* offset 17493 *\/\n+  \"\\xf0\\xa6\\x9e\\xa7\\0\" \/* offset 17497 *\/\n+  \"\\xf0\\xa6\\x9e\\xb5\\0\" \/* offset 17502 *\/\n+  \"\\xf0\\xa3\\x8e\\x93\\0\" \/* offset 17507 *\/\n+  \"\\xf0\\xa3\\x8e\\x9c\\0\" \/* offset 17512 *\/\n+  \"\\xe8\\x88\\x84\\0\" \/* offset 17517 *\/\n+  \"\\xe8\\xbe\\x9e\\0\" \/* offset 17521 *\/\n+  \"\\xe4\\x91\\xab\\0\" \/* offset 17525 *\/\n+  \"\\xe8\\x8a\\x91\\0\" \/* offset 17529 *\/\n+  \"\\xe8\\x8a\\x8b\\0\" \/* offset 17533 *\/\n+  \"\\xe8\\x8a\\x9d\\0\" \/* offset 17537 *\/\n+  \"\\xe5\\x8a\\xb3\\0\" \/* offset 17541 *\/\n+  \"\\xe8\\x8a\\xb1\\0\" \/* offset 17545 *\/\n+  \"\\xe8\\x8a\\xb3\\0\" \/* offset 17549 *\/\n+  \"\\xe8\\x8a\\xbd\\0\" \/* offset 17553 *\/\n+  \"\\xe8\\x8b\\xa6\\0\" \/* offset 17557 *\/\n+  \"\\xf0\\xa6\\xac\\xbc\\0\" \/* offset 17561 *\/\n+  \"\\xe8\\x8c\\x9d\\0\" \/* offset 17566 *\/\n+  \"\\xe8\\x8d\\xa3\\0\" \/* offset 17570 *\/\n+  \"\\xe8\\x8e\\xad\\0\" \/* offset 17574 *\/\n+  \"\\xe8\\x8c\\xa3\\0\" \/* offset 17578 *\/\n+  \"\\xe8\\x8e\\xbd\\0\" \/* offset 17582 *\/\n+  \"\\xe8\\x8f\\xa7\\0\" \/* offset 17586 *\/\n+  \"\\xe8\\x8d\\x93\\0\" \/* offset 17590 *\/\n+  \"\\xe8\\x8f\\x8a\\0\" \/* offset 17594 *\/\n+  \"\\xe8\\x8f\\x8c\\0\" \/* offset 17598 *\/\n+  \"\\xe8\\x8f\\x9c\\0\" \/* offset 17602 *\/\n+  \"\\xf0\\xa6\\xb0\\xb6\\0\" \/* offset 17606 *\/\n+  \"\\xf0\\xa6\\xb5\\xab\\0\" \/* offset 17611 *\/\n+  \"\\xf0\\xa6\\xb3\\x95\\0\" \/* offset 17616 *\/\n+  \"\\xe4\\x94\\xab\\0\" \/* offset 17621 *\/\n+  \"\\xe8\\x93\\xb1\\0\" \/* offset 17625 *\/\n+  \"\\xe8\\x93\\xb3\\0\" \/* offset 17629 *\/\n+  \"\\xe8\\x94\\x96\\0\" \/* offset 17633 *\/\n+  \"\\xf0\\xa7\\x8f\\x8a\\0\" \/* offset 17637 *\/\n+  \"\\xe8\\x95\\xa4\\0\" \/* offset 17642 *\/\n+  \"\\xf0\\xa6\\xbc\\xac\\0\" \/* offset 17646 *\/\n+  \"\\xe4\\x95\\x9d\\0\" \/* offset 17651 *\/\n+  \"\\xe4\\x95\\xa1\\0\" \/* offset 17655 *\/\n+  \"\\xf0\\xa6\\xbe\\xb1\\0\" \/* offset 17659 *\/\n+  \"\\xf0\\xa7\\x83\\x92\\0\" \/* offset 17664 *\/\n+  \"\\xe4\\x95\\xab\\0\" \/* offset 17669 *\/\n+  \"\\xe8\\x99\\x90\\0\" \/* offset 17673 *\/\n+  \"\\xe8\\x99\\xa7\\0\" \/* offset 17677 *\/\n+  \"\\xe8\\x99\\xa9\\0\" \/* offset 17681 *\/\n+  \"\\xe8\\x9a\\xa9\\0\" \/* offset 17685 *\/\n+  \"\\xe8\\x9a\\x88\\0\" \/* offset 17689 *\/\n+  \"\\xe8\\x9c\\x8e\\0\" \/* offset 17693 *\/\n+  \"\\xe8\\x9b\\xa2\\0\" \/* offset 17697 *\/\n+  \"\\xe8\\x9c\\xa8\\0\" \/* offset 17701 *\/\n+  \"\\xe8\\x9d\\xab\\0\" \/* offset 17705 *\/\n+  \"\\xe8\\x9e\\x86\\0\" \/* offset 17709 *\/\n+  \"\\xe4\\x97\\x97\\0\" \/* offset 17713 *\/\n+  \"\\xe8\\x9f\\xa1\\0\" \/* offset 17717 *\/\n+  \"\\xe8\\xa0\\x81\\0\" \/* offset 17721 *\/\n+  \"\\xe4\\x97\\xb9\\0\" \/* offset 17725 *\/\n+  \"\\xe8\\xa1\\xa0\\0\" \/* offset 17729 *\/\n+  \"\\xf0\\xa7\\x99\\xa7\\0\" \/* offset 17733 *\/\n+  \"\\xe8\\xa3\\x97\\0\" \/* offset 17738 *\/\n+  \"\\xe8\\xa3\\x9e\\0\" \/* offset 17742 *\/\n+  \"\\xe4\\x98\\xb5\\0\" \/* offset 17746 *\/\n+  \"\\xe8\\xa3\\xba\\0\" \/* offset 17750 *\/\n+  \"\\xe3\\x92\\xbb\\0\" \/* offset 17754 *\/\n+  \"\\xf0\\xa7\\xa2\\xae\\0\" \/* offset 17758 *\/\n+  \"\\xf0\\xa7\\xa5\\xa6\\0\" \/* offset 17763 *\/\n+  \"\\xe4\\x9a\\xbe\\0\" \/* offset 17768 *\/\n+  \"\\xe4\\x9b\\x87\\0\" \/* offset 17772 *\/\n+  \"\\xe8\\xaa\\xa0\\0\" \/* offset 17776 *\/\n+  \"\\xf0\\xa7\\xb2\\xa8\\0\" \/* offset 17780 *\/\n+  \"\\xe8\\xb2\\xab\\0\" \/* offset 17785 *\/\n+  \"\\xe8\\xb3\\x81\\0\" \/* offset 17789 *\/\n+  \"\\xe8\\xb4\\x9b\\0\" \/* offset 17793 *\/\n+  \"\\xe8\\xb5\\xb7\\0\" \/* offset 17797 *\/\n+  \"\\xf0\\xa7\\xbc\\xaf\\0\" \/* offset 17801 *\/\n+  \"\\xf0\\xa0\\xa0\\x84\\0\" \/* offset 17806 *\/\n+  \"\\xe8\\xb7\\x8b\\0\" \/* offset 17811 *\/\n+  \"\\xe8\\xb6\\xbc\\0\" \/* offset 17815 *\/\n+  \"\\xe8\\xb7\\xb0\\0\" \/* offset 17819 *\/\n+  \"\\xf0\\xa0\\xa3\\x9e\\0\" \/* offset 17823 *\/\n+  \"\\xe8\\xbb\\x94\\0\" \/* offset 17828 *\/\n+  \"\\xf0\\xa8\\x97\\x92\\0\" \/* offset 17832 *\/\n+  \"\\xf0\\xa8\\x97\\xad\\0\" \/* offset 17837 *\/\n+  \"\\xe9\\x82\\x94\\0\" \/* offset 17842 *\/\n+  \"\\xe9\\x83\\xb1\\0\" \/* offset 17846 *\/\n+  \"\\xe9\\x84\\x91\\0\" \/* offset 17850 *\/\n+  \"\\xf0\\xa8\\x9c\\xae\\0\" \/* offset 17854 *\/\n+  \"\\xe9\\x84\\x9b\\0\" \/* offset 17859 *\/\n+  \"\\xe9\\x88\\xb8\\0\" \/* offset 17863 *\/\n+  \"\\xe9\\x8b\\x97\\0\" \/* offset 17867 *\/\n+  \"\\xe9\\x8b\\x98\\0\" \/* offset 17871 *\/\n+  \"\\xe9\\x89\\xbc\\0\" \/* offset 17875 *\/\n+  \"\\xe9\\x8f\\xb9\\0\" \/* offset 17879 *\/\n+  \"\\xe9\\x90\\x95\\0\" \/* offset 17883 *\/\n+  \"\\xf0\\xa8\\xaf\\xba\\0\" \/* offset 17887 *\/\n+  \"\\xe9\\x96\\x8b\\0\" \/* offset 17892 *\/\n+  \"\\xe4\\xa6\\x95\\0\" \/* offset 17896 *\/\n+  \"\\xe9\\x96\\xb7\\0\" \/* offset 17900 *\/\n+  \"\\xf0\\xa8\\xb5\\xb7\\0\" \/* offset 17904 *\/\n+  \"\\xe4\\xa7\\xa6\\0\" \/* offset 17909 *\/\n+  \"\\xe9\\x9b\\x83\\0\" \/* offset 17913 *\/\n+  \"\\xe5\\xb6\\xb2\\0\" \/* offset 17917 *\/\n+  \"\\xe9\\x9c\\xa3\\0\" \/* offset 17921 *\/\n+  \"\\xf0\\xa9\\x85\\x85\\0\" \/* offset 17925 *\/\n+  \"\\xf0\\xa9\\x88\\x9a\\0\" \/* offset 17930 *\/\n+  \"\\xe4\\xa9\\xae\\0\" \/* offset 17935 *\/\n+  \"\\xe4\\xa9\\xb6\\0\" \/* offset 17939 *\/\n+  \"\\xe9\\x9f\\xa0\\0\" \/* offset 17943 *\/\n+  \"\\xf0\\xa9\\x90\\x8a\\0\" \/* offset 17947 *\/\n+  \"\\xe4\\xaa\\xb2\\0\" \/* offset 17952 *\/\n+  \"\\xf0\\xa9\\x92\\x96\\0\" \/* offset 17956 *\/\n+  \"\\xe9\\xa0\\xa9\\0\" \/* offset 17961 *\/\n+  \"\\xf0\\xa9\\x96\\xb6\\0\" \/* offset 17965 *\/\n+  \"\\xe9\\xa3\\xa2\\0\" \/* offset 17970 *\/\n+  \"\\xe4\\xac\\xb3\\0\" \/* offset 17974 *\/\n+  \"\\xe9\\xa4\\xa9\\0\" \/* offset 17978 *\/\n+  \"\\xe9\\xa6\\xa7\\0\" \/* offset 17982 *\/\n+  \"\\xe9\\xa7\\x82\\0\" \/* offset 17986 *\/\n+  \"\\xe9\\xa7\\xbe\\0\" \/* offset 17990 *\/\n+  \"\\xe4\\xaf\\x8e\\0\" \/* offset 17994 *\/\n+  \"\\xf0\\xa9\\xac\\xb0\\0\" \/* offset 17998 *\/\n+  \"\\xe9\\xb1\\x80\\0\" \/* offset 18003 *\/\n+  \"\\xe9\\xb3\\xbd\\0\" \/* offset 18007 *\/\n+  \"\\xe4\\xb3\\x8e\\0\" \/* offset 18011 *\/\n+  \"\\xe4\\xb3\\xad\\0\" \/* offset 18015 *\/\n+  \"\\xe9\\xb5\\xa7\\0\" \/* offset 18019 *\/\n+  \"\\xf0\\xaa\\x83\\x8e\\0\" \/* offset 18023 *\/\n+  \"\\xe4\\xb3\\xb8\\0\" \/* offset 18028 *\/\n+  \"\\xf0\\xaa\\x84\\x85\\0\" \/* offset 18032 *\/\n+  \"\\xf0\\xaa\\x88\\x8e\\0\" \/* offset 18037 *\/\n+  \"\\xf0\\xaa\\x8a\\x91\\0\" \/* offset 18042 *\/\n+  \"\\xe4\\xb5\\x96\\0\" \/* offset 18047 *\/\n+  \"\\xe9\\xbb\\xbe\\0\" \/* offset 18051 *\/\n+  \"\\xe9\\xbc\\x85\\0\" \/* offset 18055 *\/\n+  \"\\xe9\\xbc\\x8f\\0\" \/* offset 18059 *\/\n+  \"\\xe9\\xbc\\x96\\0\" \/* offset 18063 *\/\n+  \"\\xf0\\xaa\\x98\\x80\\0\" \/* offset 18067 *\/;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunidecomp.h","additions":1371,"deletions":1228,"binary":false,"changes":2599,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -478,0 +480,8 @@\n+static const struct Interval default_wide_blocks[] = {\n+  { 0x3400, 0x4dbf },\n+  { 0x4e00, 0x9fff },\n+  { 0xf900, 0xfaff },\n+  { 0x20000, 0x2fffd },\n+  { 0x30000, 0x3fffd }\n+};\n+\n@@ -492,2 +502,11 @@\n-  else\n-    return g_unichar_iswide_bsearch (c);\n+  else if (g_unichar_iswide_bsearch (c))\n+    return TRUE;\n+  else if (g_unichar_type (c) == G_UNICODE_UNASSIGNED &&\n+           bsearch (GUINT_TO_POINTER (c),\n+                    default_wide_blocks,\n+                    G_N_ELEMENTS (default_wide_blocks),\n+                    sizeof default_wide_blocks[0],\n+                    interval_compare))\n+    return TRUE;\n+\n+  return FALSE;\n@@ -556,2 +575,2 @@\n-  {\n-    const gchar *p = special_case_table + val - 0x1000000;\n+        {\n+          const gchar *p = special_case_table + (val - 0x1000000);\n@@ -559,1 +578,1 @@\n-  }\n+        }\n@@ -570,4 +589,4 @@\n-  {\n-    if (title_table[i][0] == c)\n-      return title_table[i][1] ? title_table[i][1] : c;\n-  }\n+        {\n+          if (title_table[i][0] == c)\n+            return title_table[i][1] ? title_table[i][1] : c;\n+        }\n@@ -596,4 +615,4 @@\n-  {\n-    const gchar *p = special_case_table + val - 0x1000000;\n-    return g_utf8_get_char (p);\n-  }\n+        {\n+          const gchar *p = special_case_table + (val - 0x1000000);\n+          return g_utf8_get_char (p);\n+        }\n@@ -601,5 +620,5 @@\n-  {\n-    \/* Not all uppercase letters are guaranteed to have a lowercase\n-     * equivalent.  If this is the case, val will be zero. *\/\n-    return val ? val : c;\n-  }\n+        {\n+          \/* Not all uppercase letters are guaranteed to have a lowercase\n+           * equivalent.  If this is the case, val will be zero. *\/\n+          return val ? val : c;\n+        }\n@@ -611,4 +630,4 @@\n-  {\n-    if (title_table[i][0] == c)\n-      return title_table[i][2];\n-  }\n+        {\n+          if (title_table[i][0] == c)\n+            return title_table[i][2];\n+        }\n@@ -642,2 +661,2 @@\n-    || title_table[i][2] == c)\n-  return title_table[i][0];\n+        || title_table[i][2] == c)\n+      return title_table[i][0];\n@@ -769,5 +788,5 @@\n-  {\n-    if (!remove_dot || c != 0x307 \/* COMBINING DOT ABOVE *\/)\n-      len += g_unichar_to_utf8 (c, out_buffer ? out_buffer + len : NULL);\n-    p = g_utf8_next_char (p);\n-  }\n+        {\n+          if (!remove_dot || c != 0x307 \/* COMBINING DOT ABOVE *\/)\n+            len += g_unichar_to_utf8 (c, out_buffer ? out_buffer + len : NULL);\n+          p = g_utf8_next_char (p);\n+        }\n@@ -775,1 +794,1 @@\n-  break;\n+        break;\n@@ -1237,1 +1256,1 @@\n- * @mirrored_ch: location to store the mirrored character\n+ * @mirrored_ch: (out): location to store the mirrored character\n@@ -1524,0 +1543,4 @@\n+    \/* Unicode 15.0 additions *\/\n+    PACK ('K', 'a', 'w', 'i'), \/* G_UNICODE_SCRIPT_KAWI *\/\n+    PACK ('N', 'a', 'g', 'm'), \/* G_UNICODE_SCRIPT_NAG_MUNDARI *\/\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guniprop.c","additions":54,"deletions":31,"binary":false,"changes":85,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -26,0 +28,1 @@\n+#include \"glib-private.h\"\n@@ -809,2 +812,2 @@\n-static int\n-default_scheme_port (const char *scheme)\n+int\n+g_uri_get_default_scheme_port (const char *scheme)\n@@ -821,0 +824,3 @@\n+  if (strstr (scheme, \"socks\") == scheme)\n+    return 1080;\n+\n@@ -1020,1 +1026,1 @@\n-        *port = default_scheme_port (scheme_str);\n+        *port = g_uri_get_default_scheme_port (scheme_str);\n@@ -1636,1 +1642,6 @@\n-  str = g_string_new (scheme);\n+  \/* Arbitrarily chosen default size which should handle most average length\n+   * URIs. This should avoid a few reallocations of the buffer in most cases.\n+   * It’s 1B shorter than a power of two, since GString will add a\n+   * nul-terminator byte. *\/\n+  str = g_string_sized_new (127);\n+\n@@ -1638,1 +1649,4 @@\n-    g_string_append_c (str, ':');\n+    {\n+      g_string_append (str, scheme);\n+      g_string_append_c (str, ':');\n+    }\n@@ -1753,1 +1767,1 @@\n-   characters (`\/\/`). See\n+ * characters (`\/\/`). See\n@@ -2500,1 +2514,1 @@\n-    return default_scheme_port (uri->scheme);\n+    return g_uri_get_default_scheme_port (uri->scheme);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guri.c","additions":21,"deletions":7,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guri.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guriprivate.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6,0 +6,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -440,1 +442,1 @@\n- * Note you must ensure @dest is at least 4 * @n to fit the\n+ * Note you must ensure @dest is at least 4 * @n + 1 to fit the\n@@ -461,0 +463,66 @@\n+\/**\n+ * g_utf8_truncate_middle:\n+ * @string: (transfer none): a nul-terminated UTF-8 encoded string\n+ * @truncate_length: the new size of @string, in characters, including the ellipsis character\n+ *\n+ * Cuts off the middle of the string, preserving half of @truncate_length\n+ * characters at the beginning and half at the end.\n+ *\n+ * If @string is already short enough, this returns a copy of @string.\n+ * If @truncate_length is `0`, an empty string is returned.\n+ *\n+ * Returns: (transfer full): a newly-allocated copy of @string ellipsized in the middle\n+ *\n+ * Since: 2.78\n+ *\/\n+gchar *\n+g_utf8_truncate_middle (const gchar *string,\n+                        gsize        truncate_length)\n+{\n+  const gchar *ellipsis = \"…\";\n+  const gsize ellipsis_bytes = strlen (ellipsis);\n+\n+  gsize length;\n+  gsize left_substring_length;\n+  gchar *left_substring_end;\n+  gchar *right_substring_begin;\n+  gchar *right_substring_end;\n+  gsize left_bytes;\n+  gsize right_bytes;\n+  gchar *result;\n+\n+  g_return_val_if_fail (string != NULL, NULL);\n+\n+  length = g_utf8_strlen (string, -1);\n+  \/* Current string already smaller than requested length *\/\n+  if (length <= truncate_length)\n+    return g_strdup (string);\n+  if (truncate_length == 0)\n+    return g_strdup (\"\");\n+\n+  \/* Find substrings to keep, ignore ellipsis character for that *\/\n+  truncate_length -= 1;\n+\n+  left_substring_length = truncate_length \/ 2;\n+\n+  left_substring_end = g_utf8_offset_to_pointer (string, left_substring_length);\n+  right_substring_begin = g_utf8_offset_to_pointer (left_substring_end,\n+                                                    length - truncate_length);\n+  right_substring_end = g_utf8_offset_to_pointer (right_substring_begin,\n+                                                  truncate_length - left_substring_length);\n+\n+  g_assert (*right_substring_end == '\\0');\n+\n+  left_bytes = left_substring_end - string;\n+  right_bytes = right_substring_end - right_substring_begin;\n+\n+  result = g_malloc (left_bytes + ellipsis_bytes + right_bytes + 1);\n+\n+  strncpy (result, string, left_bytes);\n+  memcpy (result + left_bytes, ellipsis, ellipsis_bytes);\n+  strncpy (result + left_bytes + ellipsis_bytes, right_substring_begin, right_bytes);\n+  result[left_bytes + ellipsis_bytes + right_bytes] = '\\0';\n+\n+  return result;\n+}\n+\n@@ -924,1 +992,1 @@\n- * @str: a UCS-4 encoded string\n+ * @str: (array length=len) (element-type gunichar): a UCS-4 encoded string\n@@ -998,1 +1066,1 @@\n- * @str: a UTF-16 encoded string\n+ * @str: (array length=len) (element-type guint16): a UTF-16 encoded string\n@@ -1154,1 +1222,1 @@\n- * @str: a UTF-16 encoded string\n+ * @str: (array length=len) (element-type guint16): a UTF-16 encoded string\n@@ -1409,1 +1477,1 @@\n- * @str: a UCS-4 encoded string\n+ * @str: (array length=len) (element-type gunichar): a UCS-4 encoded string\n@@ -1679,1 +1747,1 @@\n- * Returns %TRUE if all of @str was valid. Many GLib and GTK+\n+ * Returns %TRUE if all of @str was valid. Many GLib and GTK\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutf8.c","additions":74,"deletions":6,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -280,1 +282,38 @@\n-  const gchar *path, *p;\n+  return g_find_program_for_path (program, NULL, NULL);\n+}\n+\n+\/**\n+ * g_find_program_for_path:\n+ * @program: (type filename): a program name in the GLib file name encoding\n+ * @path: (type filename) (nullable): the current dir where to search program\n+ * @working_dir: (type filename) (nullable): the working dir where to search\n+ *   program\n+ *\n+ * Locates the first executable named @program in @path, in the\n+ * same way that execvp() would locate it. Returns an allocated string\n+ * with the absolute path name (taking in account the @working_dir), or\n+ * %NULL if the program is not found in @path. If @program is already an\n+ * absolute path, returns a copy of @program if @program exists and is\n+ * executable, and %NULL otherwise.\n+ *\n+ * On Windows, if @path is %NULL, it looks for the file in the same way as\n+ * CreateProcess()  would. This means first in the directory where the\n+ * executing program was loaded from, then in the current directory, then in\n+ * the Windows 32-bit system directory, then in the Windows directory, and\n+ * finally in the directories in the `PATH` environment variable. If\n+ * the program is found, the return value contains the full name\n+ * including the type suffix.\n+ *\n+ * Returns: (type filename) (transfer full) (nullable): a newly-allocated\n+ *   string with the absolute path, or %NULL\n+ * Since: 2.76\n+ **\/\n+char *\n+g_find_program_for_path (const char *program,\n+                         const char *path,\n+                         const char *working_dir)\n+{\n+  const char *original_path = path;\n+  const char *original_program = program;\n+  char *program_path = NULL;\n+  const gchar *p;\n@@ -295,0 +334,7 @@\n+  \/* Use the working dir as program path if provided *\/\n+  if (working_dir && !g_path_is_absolute (program))\n+    {\n+      program_path = g_build_filename (working_dir, program, NULL);\n+      program = program_path;\n+    }\n+\n@@ -299,1 +345,1 @@\n-      || strchr (program, G_DIR_SEPARATOR) != NULL\n+      || strchr (original_program, G_DIR_SEPARATOR) != NULL\n@@ -301,1 +347,1 @@\n-      || strchr (program, '\/') != NULL\n+      || strchr (original_program, '\/') != NULL\n@@ -308,1 +354,1 @@\n-          gchar *out = NULL, *cwd = NULL;\n+          gchar *out = NULL;\n@@ -311,1 +357,11 @@\n-            return g_strdup (program);\n+            {\n+              out = g_strdup (program);\n+            }\n+          else\n+            {\n+              char *cwd = g_get_current_dir ();\n+              out = g_build_filename (cwd, program, NULL);\n+              g_free (cwd);\n+            }\n+\n+          g_free (program_path);\n@@ -313,3 +369,0 @@\n-          cwd = g_get_current_dir ();\n-          out = g_build_filename (cwd, program, NULL);\n-          g_free (cwd);\n@@ -319,1 +372,6 @@\n-        return NULL;\n+        {\n+          g_clear_pointer (&program_path, g_free);\n+\n+          if (g_path_is_absolute (original_program))\n+            return NULL;\n+        }\n@@ -322,1 +380,7 @@\n-  path = g_getenv (\"PATH\");\n+  program = original_program;\n+\n+  if G_LIKELY (original_path == NULL)\n+    path = g_getenv (\"PATH\");\n+  else\n+    path = original_path;\n+\n@@ -339,3 +403,5 @@\n-  n = GetModuleFileNameW (NULL, wfilename, MAXPATHLEN);\n-  if (n > 0 && n < MAXPATHLEN)\n-    filename = g_utf16_to_utf8 (wfilename, -1, NULL, NULL, NULL);\n+  if G_LIKELY (original_path == NULL)\n+    {\n+      n = GetModuleFileNameW (NULL, wfilename, MAXPATHLEN);\n+      if (n > 0 && n < MAXPATHLEN)\n+        filename = g_utf16_to_utf8 (wfilename, -1, NULL, NULL, NULL);\n@@ -343,3 +409,3 @@\n-  n = GetSystemDirectoryW (wsysdir, MAXPATHLEN);\n-  if (n > 0 && n < MAXPATHLEN)\n-    sysdir = g_utf16_to_utf8 (wsysdir, -1, NULL, NULL, NULL);\n+      n = GetSystemDirectoryW (wsysdir, MAXPATHLEN);\n+      if (n > 0 && n < MAXPATHLEN)\n+        sysdir = g_utf16_to_utf8 (wsysdir, -1, NULL, NULL, NULL);\n@@ -347,3 +413,3 @@\n-  n = GetWindowsDirectoryW (wwindir, MAXPATHLEN);\n-  if (n > 0 && n < MAXPATHLEN)\n-    windir = g_utf16_to_utf8 (wwindir, -1, NULL, NULL, NULL);\n+      n = GetWindowsDirectoryW (wwindir, MAXPATHLEN);\n+      if (n > 0 && n < MAXPATHLEN)\n+        windir = g_utf16_to_utf8 (wwindir, -1, NULL, NULL, NULL);\n@@ -351,5 +417,5 @@\n-  if (filename)\n-    {\n-      appdir = g_path_get_dirname (filename);\n-      g_free (filename);\n-    }\n+      if (filename)\n+        {\n+          appdir = g_path_get_dirname (filename);\n+          g_free (filename);\n+        }\n@@ -357,1 +423,1 @@\n-  path = g_strdup (path);\n+      path = g_strdup (path);\n@@ -359,7 +425,7 @@\n-  if (windir)\n-    {\n-      const gchar *tem = path;\n-      path = g_strconcat (windir, \";\", path, NULL);\n-      g_free ((gchar *) tem);\n-      g_free (windir);\n-    }\n+      if (windir)\n+        {\n+          const gchar *tem = path;\n+          path = g_strconcat (windir, \";\", path, NULL);\n+          g_free ((gchar *) tem);\n+          g_free (windir);\n+        }\n@@ -367,7 +433,7 @@\n-  if (sysdir)\n-    {\n-      const gchar *tem = path;\n-      path = g_strconcat (sysdir, \";\", path, NULL);\n-      g_free ((gchar *) tem);\n-      g_free (sysdir);\n-    }\n+      if (sysdir)\n+        {\n+          const gchar *tem = path;\n+          path = g_strconcat (sysdir, \";\", path, NULL);\n+          g_free ((gchar *) tem);\n+          g_free (sysdir);\n+        }\n@@ -375,5 +441,5 @@\n-  {\n-    const gchar *tem = path;\n-    path = g_strconcat (\".;\", path, NULL);\n-    g_free ((gchar *) tem);\n-  }\n+      {\n+        const gchar *tem = path;\n+        path = g_strconcat (\".;\", path, NULL);\n+        g_free ((gchar *) tem);\n+      }\n@@ -381,1 +447,11 @@\n-  if (appdir)\n+      if (appdir)\n+        {\n+          const gchar *tem = path;\n+          path = g_strconcat (appdir, \";\", path, NULL);\n+          g_free ((gchar *) tem);\n+          g_free (appdir);\n+        }\n+\n+      path_copy = path;\n+    }\n+  else\n@@ -383,4 +459,1 @@\n-      const gchar *tem = path;\n-      path = g_strconcat (appdir, \";\", path, NULL);\n-      g_free ((gchar *) tem);\n-      g_free (appdir);\n+      path_copy = g_strdup (path);\n@@ -389,1 +462,0 @@\n-  path_copy = path;\n@@ -410,0 +482,1 @@\n+      char *startp_path = NULL;\n@@ -422,0 +495,7 @@\n+      \/* Use the working dir as program path if provided *\/\n+      if (working_dir && !g_path_is_absolute (startp))\n+        {\n+          startp_path = g_build_filename (working_dir, startp, NULL);\n+          startp = startp_path;\n+        }\n+\n@@ -434,0 +514,3 @@\n+\n+          g_free (program_path);\n+          g_free (startp_path);\n@@ -440,0 +523,2 @@\n+\n+      g_free (startp_path);\n@@ -443,0 +528,1 @@\n+  g_free (program_path);\n@@ -530,0 +616,1 @@\n+static  gchar   *g_tmp_dir = NULL;\n@@ -873,0 +960,11 @@\n+void\n+_g_unset_cached_tmp_dir (void)\n+{\n+  G_LOCK (g_utils_global);\n+  \/* We have to leak the old value, as user code could be retaining pointers\n+   * to it. *\/\n+  g_ignore_leak (g_tmp_dir);\n+  g_tmp_dir = NULL;\n+  G_UNLOCK (g_utils_global);\n+}\n+\n@@ -896,1 +994,1 @@\n-  static gchar *tmp_dir;\n+  G_LOCK (g_utils_global);\n@@ -898,1 +996,1 @@\n-  if (g_once_init_enter (&tmp_dir))\n+  if (g_tmp_dir == NULL)\n@@ -902,0 +1000,6 @@\n+      tmp = g_strdup (g_getenv (\"G_TEST_TMPDIR\"));\n+\n+      if (tmp == NULL || *tmp == '\\0')\n+        {\n+          g_free (tmp);\n+          tmp = g_strdup (g_getenv (\n@@ -903,1 +1007,6 @@\n-      tmp = g_strdup (g_getenv (\"TEMP\"));\n+            \"TEMP\"\n+#else \/* G_OS_WIN32 *\/\n+            \"TMPDIR\"\n+#endif \/* G_OS_WIN32 *\/\n+          ));\n+        }\n@@ -905,0 +1014,1 @@\n+#ifdef G_OS_WIN32\n@@ -911,1 +1021,0 @@\n-      tmp = g_strdup (g_getenv (\"TMPDIR\"));\n@@ -932,1 +1041,1 @@\n-      g_once_init_leave (&tmp_dir, tmp);\n+      g_tmp_dir = g_steal_pointer (&tmp);\n@@ -935,1 +1044,3 @@\n-  return tmp_dir;\n+  G_UNLOCK (g_utils_global);\n+\n+  return g_tmp_dir;\n@@ -1038,1 +1149,1 @@\n- * g_application_run(). In case of GDK or GTK+ it is set in\n+ * g_application_run(). In case of GDK or GTK it is set in\n@@ -1067,1 +1178,1 @@\n- * g_application_run(). In case of GDK or GTK+ it is set in\n+ * g_application_run(). In case of GDK or GTK it is set in\n@@ -2484,1 +2595,1 @@\n-   * But looking at the actual use cases of this function in GTK+\n+   * But looking at the actual use cases of this function in GTK\n@@ -2813,1 +2924,7 @@\n- *     bytes, and return units in bits. For example, rather than .\n+ *     bytes, and return units in bits. For example, 'Mb' rather than 'MB'.\n+ * @G_FORMAT_SIZE_ONLY_VALUE: return only value, without unit; this should\n+ *     not be used together with @G_FORMAT_SIZE_LONG_FORMAT\n+ *     nor @G_FORMAT_SIZE_ONLY_UNIT. Since: 2.74\n+ * @G_FORMAT_SIZE_ONLY_UNIT: return only unit, without value; this should\n+ *     not be used together with @G_FORMAT_SIZE_LONG_FORMAT\n+ *     nor @G_FORMAT_SIZE_ONLY_VALUE. Since: 2.74\n@@ -2863,12 +2980,12 @@\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { KILOBYTE_FACTOR, N_(\"%.1f kB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { MEGABYTE_FACTOR, N_(\"%.1f MB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { GIGABYTE_FACTOR, N_(\"%.1f GB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { TERABYTE_FACTOR, N_(\"%.1f TB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { PETABYTE_FACTOR, N_(\"%.1f PB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { EXABYTE_FACTOR,  N_(\"%.1f EB\") }\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 kB\" *\/\n+      { KILOBYTE_FACTOR, N_(\"kB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 MB\" *\/\n+      { MEGABYTE_FACTOR, N_(\"MB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 GB\" *\/\n+      { GIGABYTE_FACTOR, N_(\"GB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 TB\" *\/\n+      { TERABYTE_FACTOR, N_(\"TB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 PB\" *\/\n+      { PETABYTE_FACTOR, N_(\"PB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 EB\" *\/\n+      { EXABYTE_FACTOR,  N_(\"EB\") }\n@@ -2877,12 +2994,12 @@\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { KIBIBYTE_FACTOR, N_(\"%.1f KiB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { MEBIBYTE_FACTOR, N_(\"%.1f MiB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { GIBIBYTE_FACTOR, N_(\"%.1f GiB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { TEBIBYTE_FACTOR, N_(\"%.1f TiB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { PEBIBYTE_FACTOR, N_(\"%.1f PiB\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { EXBIBYTE_FACTOR, N_(\"%.1f EiB\") }\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 KiB\" *\/\n+      { KIBIBYTE_FACTOR, N_(\"KiB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 MiB\" *\/\n+      { MEBIBYTE_FACTOR, N_(\"MiB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 GiB\" *\/\n+      { GIBIBYTE_FACTOR, N_(\"GiB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 TiB\" *\/\n+      { TEBIBYTE_FACTOR, N_(\"TiB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 PiB\" *\/\n+      { PEBIBYTE_FACTOR, N_(\"PiB\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 EiB\" *\/\n+      { EXBIBYTE_FACTOR, N_(\"EiB\") }\n@@ -2891,12 +3008,12 @@\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { KILOBYTE_FACTOR, N_(\"%.1f kb\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { MEGABYTE_FACTOR, N_(\"%.1f Mb\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { GIGABYTE_FACTOR, N_(\"%.1f Gb\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { TERABYTE_FACTOR, N_(\"%.1f Tb\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { PETABYTE_FACTOR, N_(\"%.1f Pb\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { EXABYTE_FACTOR,  N_(\"%.1f Eb\") }\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 kb\" *\/\n+      { KILOBYTE_FACTOR, N_(\"kb\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Mb\" *\/\n+      { MEGABYTE_FACTOR, N_(\"Mb\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Gb\" *\/\n+      { GIGABYTE_FACTOR, N_(\"Gb\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Tb\" *\/\n+      { TERABYTE_FACTOR, N_(\"Tb\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Pb\" *\/\n+      { PETABYTE_FACTOR, N_(\"Pb\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Eb\" *\/\n+      { EXABYTE_FACTOR,  N_(\"Eb\") }\n@@ -2905,12 +3022,12 @@\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { KIBIBYTE_FACTOR, N_(\"%.1f Kib\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { MEBIBYTE_FACTOR, N_(\"%.1f Mib\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { GIBIBYTE_FACTOR, N_(\"%.1f Gib\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { TEBIBYTE_FACTOR, N_(\"%.1f Tib\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { PEBIBYTE_FACTOR, N_(\"%.1f Pib\") },\n-      \/* Translators: Keep the no-break space between %.1f and the unit symbol *\/\n-      { EXBIBYTE_FACTOR, N_(\"%.1f Eib\") }\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Kib\" *\/\n+      { KIBIBYTE_FACTOR, N_(\"Kib\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Mib\" *\/\n+      { MEBIBYTE_FACTOR, N_(\"Mib\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Gib\" *\/\n+      { GIBIBYTE_FACTOR, N_(\"Gib\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Tib\" *\/\n+      { TEBIBYTE_FACTOR, N_(\"Tib\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Pib\" *\/\n+      { PEBIBYTE_FACTOR, N_(\"Pib\") },\n+      \/* Translators: A unit symbol for size formatting, showing for example: \"13.0 Eib\" *\/\n+      { EXBIBYTE_FACTOR, N_(\"Eib\") }\n@@ -2923,0 +3040,4 @@\n+  g_return_val_if_fail ((flags & (G_FORMAT_SIZE_LONG_FORMAT | G_FORMAT_SIZE_ONLY_VALUE)) != (G_FORMAT_SIZE_LONG_FORMAT | G_FORMAT_SIZE_ONLY_VALUE), NULL);\n+  g_return_val_if_fail ((flags & (G_FORMAT_SIZE_LONG_FORMAT | G_FORMAT_SIZE_ONLY_UNIT)) != (G_FORMAT_SIZE_LONG_FORMAT | G_FORMAT_SIZE_ONLY_UNIT), NULL);\n+  g_return_val_if_fail ((flags & (G_FORMAT_SIZE_ONLY_VALUE | G_FORMAT_SIZE_ONLY_UNIT)) != (G_FORMAT_SIZE_ONLY_VALUE | G_FORMAT_SIZE_ONLY_UNIT), NULL);\n+\n@@ -2925,1 +3046,1 @@\n-  switch (flags & ~G_FORMAT_SIZE_LONG_FORMAT)\n+  switch (flags & ~(G_FORMAT_SIZE_LONG_FORMAT | G_FORMAT_SIZE_ONLY_VALUE | G_FORMAT_SIZE_ONLY_UNIT))\n@@ -2946,1 +3067,1 @@\n-      const char * format;\n+      const char * units;\n@@ -2950,1 +3071,1 @@\n-          format = g_dngettext (GETTEXT_PACKAGE, \"%u byte\", \"%u bytes\", (guint) size);\n+          units = g_dngettext (GETTEXT_PACKAGE, \"byte\", \"bytes\", (guint) size);\n@@ -2954,1 +3075,1 @@\n-          format = g_dngettext (GETTEXT_PACKAGE, \"%u bit\", \"%u bits\", (guint) size);\n+          units = g_dngettext (GETTEXT_PACKAGE, \"bit\", \"bits\", (guint) size);\n@@ -2957,1 +3078,12 @@\n-      g_string_printf (string, format, (guint) size);\n+      if ((flags & G_FORMAT_SIZE_ONLY_UNIT) != 0)\n+        g_string_append (string, units);\n+      else if ((flags & G_FORMAT_SIZE_ONLY_VALUE) != 0)\n+        \/* Translators: The \"%u\" is replaced with the size value, like \"13\"; it could\n+         * be part of \"13 bytes\", but only the number is requested this time. *\/\n+        g_string_printf (string, C_(\"format-size\", \"%u\"), (guint) size);\n+      else\n+        {\n+          \/* Translators: The first \"%u\" is replaced with the value, the \"%s\" with a unit of the value.\n+           * The order can be changed with \"%$2s %$1u\". An example: \"13 bytes\" *\/\n+          g_string_printf (string, C_(\"format-size\", \"%u %s\"), (guint) size, units);\n+        }\n@@ -2964,0 +3096,2 @@\n+      const gchar * units;\n+      gdouble value;\n@@ -2982,1 +3116,16 @@\n-      g_string_printf (string, _(f->string), (gdouble) size \/ (gdouble) f->factor);\n+      units = _(f->string);\n+      value = (gdouble) size \/ (gdouble) f->factor;\n+\n+      if ((flags & G_FORMAT_SIZE_ONLY_UNIT) != 0)\n+        g_string_append (string, units);\n+      else if ((flags & G_FORMAT_SIZE_ONLY_VALUE) != 0)\n+        \/* Translators: The \"%.1f\" is replaced with the size value, like \"13.0\"; it could\n+         * be part of \"13.0 MB\", but only the number is requested this time. *\/\n+        g_string_printf (string, C_(\"format-size\", \"%.1f\"), value);\n+      else\n+        {\n+          \/* Translators: The first \"%.1f\" is replaced with the value, the \"%s\" with a unit of the value.\n+           * The order can be changed with \"%$2s %$1.1f\". Keep the no-break space between the value and\n+           * the unit symbol. An example: \"13.0 MB\" *\/\n+          g_string_printf (string, C_(\"format-size\", \"%.1f %s\"), value, units);\n+        }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutils.c","additions":263,"deletions":114,"binary":false,"changes":377,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -37,13 +39,0 @@\n-\/* Define G_VA_COPY() to do the right thing for copying va_list variables.\n- * glibconfig.h may have already defined G_VA_COPY as va_copy or __va_copy.\n- *\/\n-#if !defined (G_VA_COPY)\n-#  if defined (__GNUC__) && defined (__PPC__) && (defined (_CALL_SYSV) || defined (_WIN32))\n-#    define G_VA_COPY(ap1, ap2)   (*(ap1) = *(ap2))\n-#  elif defined (G_VA_COPY_AS_ARRAY)\n-#    define G_VA_COPY(ap1, ap2)   memmove ((ap1), (ap2), sizeof (va_list))\n-#  else \/* va_list is a pointer *\/\n-#    define G_VA_COPY(ap1, ap2)   ((ap1) = (ap2))\n-#  endif \/* va_list is a pointer *\/\n-#endif \/* !G_VA_COPY *\/\n-\n@@ -310,1 +299,3 @@\n-  G_FORMAT_SIZE_BITS        = 1 << 2\n+  G_FORMAT_SIZE_BITS        = 1 << 2,\n+  G_FORMAT_SIZE_ONLY_VALUE GLIB_AVAILABLE_ENUMERATOR_IN_2_74 = 1 << 3,\n+  G_FORMAT_SIZE_ONLY_UNIT GLIB_AVAILABLE_ENUMERATOR_IN_2_74 = 1 << 4\n@@ -438,2 +429,1 @@\n-GLIB_AVAILABLE_IN_2_50\n-G_NORETURN void g_abort (void) G_ANALYZER_NORETURN;\n+G_NORETURN GLIB_AVAILABLE_IN_2_50 void g_abort (void) G_ANALYZER_NORETURN;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutils.h","additions":6,"deletions":16,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -27,0 +29,2 @@\n+#include <time.h>\n+\n@@ -29,1 +33,0 @@\n-GLIB_AVAILABLE_IN_2_60\n@@ -55,0 +58,4 @@\n+void _g_unset_cached_tmp_dir (void);\n+\n+gboolean _g_localtime (time_t timet, struct tm *tm);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutilsprivate.h","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvalgrind.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,3 @@\n+ * Copyright (C) 2022 Endless OS Foundation, LLC\n+ *\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n@@ -34,0 +37,1 @@\n+#include \"glib_trace.h\"\n@@ -68,0 +72,2 @@\n+      gsize ordered_offsets_up_to;\n+      gsize checked_offsets_up_to;\n@@ -165,0 +171,36 @@\n+ *     .ordered_offsets_up_to: If ordered_offsets_up_to == n this means that all\n+ *                             the frame offsets up to and including the frame\n+ *                             offset determining the end of element n are in\n+ *                             order. This guarantees that the bytes of element\n+ *                             n don't overlap with any previous element.\n+ *\n+ *                             For trusted data this is set to G_MAXSIZE and we\n+ *                             don't check that the frame offsets are in order.\n+ *\n+ *                             Note: This doesn't imply the offsets are good in\n+ *                             any way apart from their ordering.  In particular\n+ *                             offsets may be out of bounds for this value or\n+ *                             may imply that the data overlaps the frame\n+ *                             offsets themselves.\n+ *\n+ *                             This field is only relevant for arrays of non\n+ *                             fixed width types and for tuples.\n+ *\n+ *     .checked_offsets_up_to: Similarly to .ordered_offsets_up_to, this stores\n+ *                             the index of the highest element, n, whose frame\n+ *                             offsets (and all the preceding frame offsets)\n+ *                             have been checked for validity.\n+ *\n+ *                             It is always the case that\n+ *                             .checked_offsets_up_to ≥ .ordered_offsets_up_to.\n+ *\n+ *                             If .checked_offsets_up_to == .ordered_offsets_up_to,\n+ *                             then a bad offset has not been found so far.\n+ *\n+ *                             If .checked_offsets_up_to > .ordered_offsets_up_to,\n+ *                             then a bad offset has been found at\n+ *                             (.ordered_offsets_up_to + 1).\n+ *\n+ *                             This field is only relevant for arrays of non\n+ *                             fixed width types and for tuples.\n+ *\n@@ -352,0 +394,23 @@\n+\/* < private >\n+ * g_variant_to_serialised:\n+ * @value: a #GVariant\n+ *\n+ * Gets a GVariantSerialised for a GVariant in state STATE_SERIALISED.\n+ *\/\n+inline static GVariantSerialised\n+g_variant_to_serialised (GVariant *value)\n+{\n+  g_assert (value->state & STATE_SERIALISED);\n+  {\n+    GVariantSerialised serialised = {\n+      value->type_info,\n+      (gpointer) value->contents.serialised.data,\n+      value->size,\n+      value->depth,\n+      value->contents.serialised.ordered_offsets_up_to,\n+      value->contents.serialised.checked_offsets_up_to,\n+    };\n+    return serialised;\n+  }\n+}\n+\n@@ -378,0 +443,2 @@\n+  serialised.ordered_offsets_up_to = 0;\n+  serialised.checked_offsets_up_to = 0;\n@@ -421,0 +488,11 @@\n+  if (value->state & STATE_SERIALISED)\n+    {\n+      serialised->ordered_offsets_up_to = value->contents.serialised.ordered_offsets_up_to;\n+      serialised->checked_offsets_up_to = value->contents.serialised.checked_offsets_up_to;\n+    }\n+  else\n+    {\n+      serialised->ordered_offsets_up_to = 0;\n+      serialised->checked_offsets_up_to = 0;\n+    }\n+\n@@ -454,0 +532,1 @@\n+      TRACE(GLIB_VARIANT_START_SERIALISE(value, value->type_info));\n@@ -463,0 +542,2 @@\n+      value->contents.serialised.ordered_offsets_up_to = G_MAXSIZE;\n+      value->contents.serialised.checked_offsets_up_to = G_MAXSIZE;\n@@ -464,0 +545,1 @@\n+      TRACE(GLIB_VARIANT_END_SERIALISE(value, value->type_info));\n@@ -553,0 +635,2 @@\n+  serialised.ordered_offsets_up_to = trusted ? G_MAXSIZE : 0;\n+  serialised.checked_offsets_up_to = trusted ? G_MAXSIZE : 0;\n@@ -603,0 +687,3 @@\n+  value->contents.serialised.ordered_offsets_up_to = trusted ? G_MAXSIZE : 0;\n+  value->contents.serialised.checked_offsets_up_to = trusted ? G_MAXSIZE : 0;\n+\n@@ -605,0 +692,2 @@\n+  TRACE(GLIB_VARIANT_FROM_BUFFER(value, value->type_info, value->ref_count, value->state));\n+\n@@ -615,1 +704,1 @@\n- * @trusted: %TRUE if every child in @children in trusted\n+ * @trusted: %TRUE if every child in @children is trusted\n@@ -642,0 +731,1 @@\n+  TRACE(GLIB_VARIANT_FROM_CHILDREN(value, value->type_info, value->ref_count, value->state));\n@@ -715,0 +805,2 @@\n+  TRACE(GLIB_VARIANT_UNREF(value, value->type_info, value->ref_count, value->state));\n+\n@@ -750,0 +842,2 @@\n+  TRACE(GLIB_VARIANT_REF(value, value->type_info, value->ref_count, value->state));\n+\n@@ -794,0 +888,2 @@\n+  TRACE(GLIB_VARIANT_REF_SINK(value, value->type_info, value->ref_count, value->state, value->state & STATE_FLOATING));\n+\n@@ -849,0 +945,1 @@\n+  TRACE(GLIB_VARIANT_TAKE_REF(value, value->type_info, value->ref_count, value->state, value->state & STATE_FLOATING));\n@@ -1031,10 +1128,2 @@\n-    {\n-      GVariantSerialised serialised = {\n-        value->type_info,\n-        (gpointer) value->contents.serialised.data,\n-        value->size,\n-        value->depth,\n-      };\n-\n-      n_children = g_variant_serialised_n_children (serialised);\n-    }\n+    n_children = g_variant_serialised_n_children (\n+        g_variant_to_serialised (value));\n@@ -1086,1 +1175,0 @@\n-  g_return_val_if_fail (index_ < g_variant_n_children (value), NULL);\n@@ -1091,0 +1179,3 @@\n+      \/* g_variant_serialised_get_child() does its own checks on index_ *\/\n+      g_return_val_if_fail (index_ < g_variant_n_children (value), NULL);\n+\n@@ -1107,6 +1198,1 @@\n-    GVariantSerialised serialised = {\n-      value->type_info,\n-      (gpointer) value->contents.serialised.data,\n-      value->size,\n-      value->depth,\n-    };\n+    GVariantSerialised serialised = g_variant_to_serialised (value);\n@@ -1121,0 +1207,4 @@\n+    \/* Update the cached ordered_offsets_up_to, since @serialised will be thrown away when this function exits *\/\n+    value->contents.serialised.ordered_offsets_up_to = MAX (value->contents.serialised.ordered_offsets_up_to, serialised.ordered_offsets_up_to);\n+    value->contents.serialised.checked_offsets_up_to = MAX (value->contents.serialised.checked_offsets_up_to, serialised.checked_offsets_up_to);\n+\n@@ -1132,0 +1222,1 @@\n+        g_variant_type_info_unref (s_child.type_info);\n@@ -1151,0 +1242,4 @@\n+    child->contents.serialised.ordered_offsets_up_to = (value->state & STATE_TRUSTED) ? G_MAXSIZE : s_child.ordered_offsets_up_to;\n+    child->contents.serialised.checked_offsets_up_to = (value->state & STATE_TRUSTED) ? G_MAXSIZE : s_child.checked_offsets_up_to;\n+\n+    TRACE(GLIB_VARIANT_FROM_PARENT(child, child->type_info, child->ref_count, child->state, value));\n@@ -1156,0 +1251,70 @@\n+\/**\n+ * g_variant_maybe_get_child_value:\n+ * @value: a container #GVariant\n+ * @index_: the index of the child to fetch\n+ *\n+ * Reads a child item out of a container #GVariant instance, if it is in normal\n+ * form. If it is not in normal form, return %NULL.\n+ *\n+ * This function behaves the same as g_variant_get_child_value(), except that it\n+ * returns %NULL if the child is not in normal form. g_variant_get_child_value()\n+ * would instead return a new default value of the correct type.\n+ *\n+ * This is intended to be used internally to avoid unnecessary #GVariant\n+ * allocations.\n+ *\n+ * The returned value is never floating.  You should free it with\n+ * g_variant_unref() when you're done with it.\n+ *\n+ * This function is O(1).\n+ *\n+ * Returns: (transfer full): the child at the specified index\n+ *\n+ * Since: 2.74\n+ *\/\n+GVariant *\n+g_variant_maybe_get_child_value (GVariant *value,\n+                                 gsize     index_)\n+{\n+  g_return_val_if_fail (value->depth < G_MAXSIZE, NULL);\n+\n+  if (~g_atomic_int_get (&value->state) & STATE_SERIALISED)\n+    {\n+      \/* g_variant_serialised_get_child() does its own checks on index_ *\/\n+      g_return_val_if_fail (index_ < g_variant_n_children (value), NULL);\n+\n+      g_variant_lock (value);\n+\n+      if (~value->state & STATE_SERIALISED)\n+        {\n+          GVariant *child;\n+\n+          child = g_variant_ref (value->contents.tree.children[index_]);\n+          g_variant_unlock (value);\n+\n+          return child;\n+        }\n+\n+      g_variant_unlock (value);\n+    }\n+\n+  {\n+    GVariantSerialised serialised = g_variant_to_serialised (value);\n+    GVariantSerialised s_child;\n+\n+    \/* get the serializer to extract the serialized data for the child\n+     * from the serialized data for the container\n+     *\/\n+    s_child = g_variant_serialised_get_child (serialised, index_);\n+\n+    if (!(value->state & STATE_TRUSTED) && s_child.data == NULL)\n+      {\n+        g_variant_type_info_unref (s_child.type_info);\n+        return NULL;\n+      }\n+\n+    g_variant_type_info_unref (s_child.type_info);\n+    return g_variant_get_child_value (value, index_);\n+  }\n+}\n+\n@@ -1230,8 +1395,1 @@\n-      GVariantSerialised serialised = {\n-        value->type_info,\n-        (gpointer) value->contents.serialised.data,\n-        value->size,\n-        value->depth\n-      };\n-\n-      if (g_variant_serialised_is_normal (serialised))\n+      if (g_variant_serialised_is_normal (g_variant_to_serialised (value)))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-core.c","additions":184,"deletions":26,"binary":false,"changes":210,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -39,0 +41,3 @@\n+GVariant *              g_variant_maybe_get_child_value                 (GVariant            *value,\n+                                                                         gsize                index_);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-core.h","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-internal.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -32,0 +34,1 @@\n+#include \"glib\/gvariant-core.h\"\n@@ -870,3 +873,41 @@\n-  const GVariantType *t;\n-  GVariant *value;\n-  int depth;\n+  const GVariantType *base_type;\n+  GVariant *base_value;\n+  GVariant *value = NULL;\n+  unsigned int depth;\n+  gboolean trusted;\n+  GVariantTypeInfo *base_type_info = NULL;\n+  gsize base_serialised_fixed_size, base_serialised_size, serialised_size, n_suffix_zeros;\n+  guint8 *serialised = NULL;\n+  GBytes *bytes = NULL;\n+  gsize i;\n+\n+  for (depth = 0, base_type = type;\n+       g_variant_type_is_maybe (base_type);\n+       depth++, base_type = g_variant_type_element (base_type));\n+\n+  base_value = ast->class->get_base_value (ast, base_type, error);\n+\n+  if (base_value == NULL || depth == 0)\n+    return g_steal_pointer (&base_value);\n+\n+  \/* This is the equivalent of calling g_variant_new_maybe() in a loop enough\n+   * times to match the number of nested maybe types in @type. It does the same\n+   * in a single `GVariant` allocation, though.\n+   *\n+   * This avoids maybe_wrapper() becoming an attack vector where a malicious\n+   * text-form variant can create a long array, and insert a typedecl for a\n+   * deeply nested maybe type on one of its elements. This is achievable with a\n+   * relatively short text form, but results in O(array length × typedecl depth)\n+   * allocations. This is a denial of service attack.\n+   *\n+   * Instead of constructing a tree of `GVariant`s in tree-form to match the\n+   * @ast, construct a single `GVariant` containing the serialised form of the\n+   * maybe-wrappers and the base value that they contain. This is relatively\n+   * straightforward: serialise the base value, and then append the correct\n+   * number of zero bytes for the maybe-wrappers.\n+   *\n+   * This is a bit of a layering violation, unfortunately.\n+   *\n+   * By doing this, the typedecl depth variable is reduced to O(1).\n+   *\/\n+  trusted = g_variant_is_trusted (base_value);\n@@ -874,3 +915,15 @@\n-  for (depth = 0, t = type;\n-       g_variant_type_is_maybe (t);\n-       depth++, t = g_variant_type_element (t));\n+  \/* See https:\/\/developer.gnome.org\/documentation\/specifications\/gvariant-specification-1.0.html#maybes\n+   *\n+   * The serialised form of a `Just x` is the serialised form of `x` if `x` is\n+   * fixed-size, and the serialised form of `x` plus a trailing zero byte if `x`\n+   * is variable-size. A `Maybe` variant is always variable-size, even if its\n+   * child element is fixed-size, because it might be `Nothing`. This means that\n+   * all the maybe-wrappers which are not the innermost are always serialised\n+   * with one trailing zero byte each.\n+   *\n+   * The serialised form of a `Nothing` is an empty byte sequence, but that’s\n+   * already handled above in the `base_value == NULL` case.\n+   *\/\n+  base_type_info = g_variant_type_info_get (base_type);\n+  g_variant_type_info_query (base_type_info, NULL, &base_serialised_fixed_size);\n+  g_variant_type_info_unref (base_type_info);\n@@ -878,1 +931,4 @@\n-  value = ast->class->get_base_value (ast, t, error);\n+  base_serialised_size = g_variant_get_size (base_value);\n+  n_suffix_zeros = (base_serialised_fixed_size > 0) ? depth - 1 : depth;\n+  g_assert (base_serialised_size <= G_MAXSIZE - n_suffix_zeros);\n+  serialised_size = base_serialised_size + n_suffix_zeros;\n@@ -880,2 +936,1 @@\n-  if (value == NULL)\n-    return NULL;\n+  g_assert (serialised_size >= base_serialised_size);\n@@ -883,2 +938,3 @@\n-  while (depth--)\n-    value = g_variant_new_maybe (NULL, value);\n+  \/* Serialise the base value. *\/\n+  serialised = g_malloc (serialised_size);\n+  g_variant_store (base_value, serialised);\n@@ -886,1 +942,11 @@\n-  return value;\n+  \/* Zero-out the suffix zeros to complete the serialisation of the maybe wrappers. *\/\n+  for (i = base_serialised_size; i < serialised_size; i++)\n+    serialised[i] = 0;\n+\n+  bytes = g_bytes_new_take (g_steal_pointer (&serialised), serialised_size);\n+  value = g_variant_new_from_bytes (type, bytes, trusted);\n+  g_bytes_unref (bytes);\n+\n+  g_variant_unref (base_value);\n+\n+  return g_steal_pointer (&value);\n@@ -2232,0 +2298,10 @@\n+      if (g_variant_type_string_get_depth_ (token + 1) > max_depth)\n+        {\n+          token_stream_set_error (stream, error, TRUE,\n+                                  G_VARIANT_PARSE_ERROR_RECURSION,\n+                                  \"type declaration recurses too deeply\");\n+          g_free (token);\n+\n+          return NULL;\n+        }\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-parser.c","additions":88,"deletions":12,"binary":false,"changes":100,"status":"modified"},{"patch":"@@ -4,0 +4,3 @@\n+ * Copyright (C) 2020 William Manley\n+ *\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n@@ -122,0 +125,2 @@\n+ *\n+ * @checked_offsets_up_to is always ≥ @ordered_offsets_up_to\n@@ -149,0 +154,3 @@\n+  if (serialised.ordered_offsets_up_to > serialised.checked_offsets_up_to)\n+    return FALSE;\n+\n@@ -267,0 +275,2 @@\n+  value.ordered_offsets_up_to = 0;\n+  value.checked_offsets_up_to = 0;\n@@ -298,1 +308,1 @@\n-      GVariantSerialised child = { NULL, value.data, value.size, value.depth + 1 };\n+      GVariantSerialised child = { NULL, value.data, value.size, value.depth + 1, 0, 0 };\n@@ -320,0 +330,2 @@\n+      value.ordered_offsets_up_to = 0;\n+      value.checked_offsets_up_to = 0;\n@@ -361,0 +373,2 @@\n+  value.ordered_offsets_up_to = 0;\n+  value.checked_offsets_up_to = 0;\n@@ -391,1 +405,1 @@\n-      GVariantSerialised child = { NULL, value.data, value.size - 1, value.depth + 1 };\n+      GVariantSerialised child = { NULL, value.data, value.size - 1, value.depth + 1, 0, 0 };\n@@ -411,0 +425,2 @@\n+  value.ordered_offsets_up_to = 0;\n+  value.checked_offsets_up_to = 0;\n@@ -636,0 +652,11 @@\n+struct Offsets\n+{\n+  gsize     data_size;\n+\n+  guchar   *array;\n+  gsize     length;\n+  guint     offset_size;\n+\n+  gboolean  is_normal;\n+};\n+\n@@ -637,1 +664,2 @@\n-gvs_variable_sized_array_n_children (GVariantSerialised value)\n+gvs_offsets_get_offset_n (struct Offsets *offsets,\n+                          gsize           n)\n@@ -639,0 +667,8 @@\n+  return gvs_read_unaligned_le (\n+      offsets->array + (offsets->offset_size * n), offsets->offset_size);\n+}\n+\n+static struct Offsets\n+gvs_variable_sized_array_get_frame_offsets (GVariantSerialised value)\n+{\n+  struct Offsets out = { 0, };\n@@ -640,1 +676,0 @@\n-  gsize offset_size;\n@@ -644,3 +679,4 @@\n-    return 0;\n-\n-  offset_size = gvs_get_offset_size (value.size);\n+    {\n+      out.is_normal = TRUE;\n+      return out;\n+    }\n@@ -648,2 +684,3 @@\n-  last_end = gvs_read_unaligned_le (value.data + value.size -\n-                                    offset_size, offset_size);\n+  out.offset_size = gvs_get_offset_size (value.size);\n+  last_end = gvs_read_unaligned_le (value.data + value.size - out.offset_size,\n+                                    out.offset_size);\n@@ -652,1 +689,1 @@\n-    return 0;\n+    return out;  \/* offsets not normal *\/\n@@ -656,2 +693,11 @@\n-  if (offsets_array_size % offset_size)\n-    return 0;\n+  if (offsets_array_size % out.offset_size)\n+    return out;  \/* offsets not normal *\/\n+\n+  out.data_size = last_end;\n+  out.array = value.data + last_end;\n+  out.length = offsets_array_size \/ out.offset_size;\n+\n+  if (out.length > 0 && gvs_calculate_total_size (last_end, out.length) != value.size)\n+    return out;  \/* offset size not minimal *\/\n+\n+  out.is_normal = TRUE;\n@@ -659,1 +705,1 @@\n-  return offsets_array_size \/ offset_size;\n+  return out;\n@@ -662,0 +708,35 @@\n+static gsize\n+gvs_variable_sized_array_n_children (GVariantSerialised value)\n+{\n+  return gvs_variable_sized_array_get_frame_offsets (value).length;\n+}\n+\n+\/* Find the index of the first out-of-order element in @data, assuming that\n+ * @data is an array of elements of given @type, starting at index @start and\n+ * containing a further @len-@start elements. *\/\n+#define DEFINE_FIND_UNORDERED(type, le_to_native) \\\n+  static gsize \\\n+  find_unordered_##type (const guint8 *data, gsize start, gsize len) \\\n+  { \\\n+    gsize off; \\\n+    type current_le, previous_le, current, previous; \\\n+    \\\n+    memcpy (&previous_le, data + start * sizeof (current), sizeof (current)); \\\n+    previous = le_to_native (previous_le); \\\n+    for (off = (start + 1) * sizeof (current); off < len * sizeof (current); off += sizeof (current)) \\\n+      { \\\n+        memcpy (&current_le, data + off, sizeof (current)); \\\n+        current = le_to_native (current_le); \\\n+        if (current < previous) \\\n+          break; \\\n+        previous = current; \\\n+      } \\\n+    return off \/ sizeof (current) - 1; \\\n+  }\n+\n+#define NO_CONVERSION(x) (x)\n+DEFINE_FIND_UNORDERED (guint8, NO_CONVERSION);\n+DEFINE_FIND_UNORDERED (guint16, GUINT16_FROM_LE);\n+DEFINE_FIND_UNORDERED (guint32, GUINT32_FROM_LE);\n+DEFINE_FIND_UNORDERED (guint64, GUINT64_FROM_LE);\n+\n@@ -667,2 +748,3 @@\n-  gsize offset_size;\n-  gsize last_end;\n+\n+  struct Offsets offsets = gvs_variable_sized_array_get_frame_offsets (value);\n+\n@@ -676,1 +758,40 @@\n-  offset_size = gvs_get_offset_size (value.size);\n+  \/* If the requested @index_ is beyond the set of indices whose framing offsets\n+   * have been checked, check the remaining offsets to see whether they’re\n+   * normal (in order, no overlapping array elements).\n+   *\n+   * Don’t bother checking if the highest known-good offset is lower than the\n+   * highest checked offset, as that means there’s an invalid element at that\n+   * index, so there’s no need to check further. *\/\n+  if (index_ > value.checked_offsets_up_to &&\n+      value.ordered_offsets_up_to == value.checked_offsets_up_to)\n+    {\n+      switch (offsets.offset_size)\n+        {\n+        case 1:\n+          {\n+            value.ordered_offsets_up_to = find_unordered_guint8 (\n+                offsets.array, value.checked_offsets_up_to, index_ + 1);\n+            break;\n+          }\n+        case 2:\n+          {\n+            value.ordered_offsets_up_to = find_unordered_guint16 (\n+                offsets.array, value.checked_offsets_up_to, index_ + 1);\n+            break;\n+          }\n+        case 4:\n+          {\n+            value.ordered_offsets_up_to = find_unordered_guint32 (\n+                offsets.array, value.checked_offsets_up_to, index_ + 1);\n+            break;\n+          }\n+        case 8:\n+          {\n+            value.ordered_offsets_up_to = find_unordered_guint64 (\n+                offsets.array, value.checked_offsets_up_to, index_ + 1);\n+            break;\n+          }\n+        default:\n+          \/* gvs_get_offset_size() only returns maximum 8 *\/\n+          g_assert_not_reached ();\n+        }\n@@ -678,2 +799,8 @@\n-  last_end = gvs_read_unaligned_le (value.data + value.size -\n-                                    offset_size, offset_size);\n+      value.checked_offsets_up_to = index_;\n+    }\n+\n+  if (index_ > value.ordered_offsets_up_to)\n+    {\n+      \/* Offsets are invalid somewhere, so return an empty child. *\/\n+      return child;\n+    }\n@@ -685,3 +812,1 @@\n-      start = gvs_read_unaligned_le (value.data + last_end +\n-                                     (offset_size * (index_ - 1)),\n-                                     offset_size);\n+      start = gvs_offsets_get_offset_n (&offsets, index_ - 1);\n@@ -695,3 +820,1 @@\n-  end = gvs_read_unaligned_le (value.data + last_end +\n-                               (offset_size * index_),\n-                               offset_size);\n+  end = gvs_offsets_get_offset_n (&offsets, index_);\n@@ -699,1 +822,1 @@\n-  if (start < end && end <= value.size && end <= last_end)\n+  if (start < end && end <= value.size && end <= offsets.data_size)\n@@ -771,3 +894,0 @@\n-  gsize offsets_array_size;\n-  guchar *offsets_array;\n-  guint offset_size;\n@@ -775,2 +895,0 @@\n-  gsize last_end;\n-  gsize length;\n@@ -780,6 +898,1 @@\n-  if (value.size == 0)\n-    return TRUE;\n-\n-  offset_size = gvs_get_offset_size (value.size);\n-  last_end = gvs_read_unaligned_le (value.data + value.size -\n-                                    offset_size, offset_size);\n+  struct Offsets offsets = gvs_variable_sized_array_get_frame_offsets (value);\n@@ -787,1 +900,1 @@\n-  if (last_end > value.size)\n+  if (!offsets.is_normal)\n@@ -790,9 +903,1 @@\n-  offsets_array_size = value.size - last_end;\n-\n-  if (offsets_array_size % offset_size)\n-    return FALSE;\n-\n-  offsets_array = value.data + value.size - offsets_array_size;\n-  length = offsets_array_size \/ offset_size;\n-\n-  if (length == 0)\n+  if (value.size != 0 && offsets.length == 0)\n@@ -806,1 +911,1 @@\n-  for (i = 0; i < length; i++)\n+  for (i = 0; i < offsets.length; i++)\n@@ -810,2 +915,2 @@\n-      this_end = gvs_read_unaligned_le (offsets_array + offset_size * i,\n-                                        offset_size);\n+      this_end = gvs_read_unaligned_le (offsets.array + offsets.offset_size * i,\n+                                        offsets.offset_size);\n@@ -813,1 +918,1 @@\n-      if (this_end < offset || this_end > last_end)\n+      if (this_end < offset || this_end > offsets.data_size)\n@@ -835,1 +940,5 @@\n-  g_assert (offset == last_end);\n+  g_assert (offset == offsets.data_size);\n+\n+  \/* All offsets have now been checked. *\/\n+  value.ordered_offsets_up_to = G_MAXSIZE;\n+  value.checked_offsets_up_to = G_MAXSIZE;\n@@ -862,0 +971,55 @@\n+\/* Note: This doesn’t guarantee that @out_member_end >= @out_member_start; that\n+ * condition may not hold true for invalid serialised variants. The caller is\n+ * responsible for checking the returned values and handling invalid ones\n+ * appropriately. *\/\n+static void\n+gvs_tuple_get_member_bounds (GVariantSerialised  value,\n+                             gsize               index_,\n+                             gsize               offset_size,\n+                             gsize              *out_member_start,\n+                             gsize              *out_member_end)\n+{\n+  const GVariantMemberInfo *member_info;\n+  gsize member_start, member_end;\n+\n+  member_info = g_variant_type_info_member_info (value.type_info, index_);\n+\n+  if (member_info->i + 1 &&\n+      offset_size * (member_info->i + 1) <= value.size)\n+    member_start = gvs_read_unaligned_le (value.data + value.size -\n+                                          offset_size * (member_info->i + 1),\n+                                          offset_size);\n+  else\n+    member_start = 0;\n+\n+  member_start += member_info->a;\n+  member_start &= member_info->b;\n+  member_start |= member_info->c;\n+\n+  if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_LAST &&\n+      offset_size * (member_info->i + 1) <= value.size)\n+    member_end = value.size - offset_size * (member_info->i + 1);\n+\n+  else if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_FIXED)\n+    {\n+      gsize fixed_size;\n+\n+      g_variant_type_info_query (member_info->type_info, NULL, &fixed_size);\n+      member_end = member_start + fixed_size;\n+    }\n+\n+  else if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_OFFSET &&\n+           offset_size * (member_info->i + 2) <= value.size)\n+    member_end = gvs_read_unaligned_le (value.data + value.size -\n+                                        offset_size * (member_info->i + 2),\n+                                        offset_size);\n+\n+  else  \/* invalid *\/\n+    member_end = G_MAXSIZE;\n+\n+  if (out_member_start != NULL)\n+    *out_member_start = member_start;\n+  if (out_member_end != NULL)\n+    *out_member_end = member_end;\n+}\n+\n@@ -882,0 +1046,6 @@\n+  \/* Ensure the size is set for fixed-sized children, or\n+   * g_variant_serialised_check() will fail, even if we return\n+   * (child.data == NULL) to indicate an error. *\/\n+  if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_FIXED)\n+    g_variant_type_info_query (child.type_info, NULL, &child.size);\n+\n@@ -888,2 +1058,0 @@\n-      g_variant_type_info_query (child.type_info, NULL, &child.size);\n-\n@@ -899,6 +1067,10 @@\n-  if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_OFFSET)\n-    {\n-      if (offset_size * (member_info->i + 2) > value.size)\n-        return child;\n-    }\n-  else\n+  \/* If the requested @index_ is beyond the set of indices whose framing offsets\n+   * have been checked, check the remaining offsets to see whether they’re\n+   * normal (in order, no overlapping tuple elements).\n+   *\n+   * Unlike the checks in gvs_variable_sized_array_get_child(), we have to check\n+   * all the tuple *elements* here, not just all the framing offsets, since\n+   * tuples contain a mix of elements which use framing offsets and ones which\n+   * don’t. None of them are allowed to overlap. *\/\n+  if (index_ > value.checked_offsets_up_to &&\n+      value.ordered_offsets_up_to == value.checked_offsets_up_to)\n@@ -906,6 +1078,1 @@\n-      if (offset_size * (member_info->i + 1) > value.size)\n-        {\n-          \/* if the child is fixed size, return its size.\n-           * if child is not fixed-sized, return size = 0.\n-           *\/\n-          g_variant_type_info_query (child.type_info, NULL, &child.size);\n+      gsize i, prev_i_end = 0;\n@@ -913,3 +1080,2 @@\n-          return child;\n-        }\n-    }\n+      if (value.checked_offsets_up_to > 0)\n+        gvs_tuple_get_member_bounds (value, value.checked_offsets_up_to - 1, offset_size, NULL, &prev_i_end);\n@@ -917,6 +1083,3 @@\n-  if (member_info->i + 1)\n-    start = gvs_read_unaligned_le (value.data + value.size -\n-                                   offset_size * (member_info->i + 1),\n-                                   offset_size);\n-  else\n-    start = 0;\n+      for (i = value.checked_offsets_up_to; i <= index_; i++)\n+        {\n+          gsize i_start, i_end;\n@@ -924,3 +1087,1 @@\n-  start += member_info->a;\n-  start &= member_info->b;\n-  start |= member_info->c;\n+          gvs_tuple_get_member_bounds (value, i, offset_size, &i_start, &i_end);\n@@ -928,2 +1089,2 @@\n-  if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_LAST)\n-    end = value.size - offset_size * (member_info->i + 1);\n+          if (i_start > i_end || i_start < prev_i_end || i_end > value.size)\n+            break;\n@@ -931,3 +1092,2 @@\n-  else if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_FIXED)\n-    {\n-      gsize fixed_size;\n+          prev_i_end = i_end;\n+        }\n@@ -935,3 +1095,2 @@\n-      g_variant_type_info_query (child.type_info, NULL, &fixed_size);\n-      end = start + fixed_size;\n-      child.size = fixed_size;\n+      value.ordered_offsets_up_to = i - 1;\n+      value.checked_offsets_up_to = index_;\n@@ -940,4 +1099,5 @@\n-  else \/* G_VARIANT_MEMBER_ENDING_OFFSET *\/\n-    end = gvs_read_unaligned_le (value.data + value.size -\n-                                 offset_size * (member_info->i + 2),\n-                                 offset_size);\n+  if (index_ > value.ordered_offsets_up_to)\n+    {\n+      \/* Offsets are invalid somewhere, so return an empty child. *\/\n+      return child;\n+    }\n@@ -945,2 +1105,1 @@\n-  \/* The child should not extend into the offset table. *\/\n-  if (index_ != g_variant_type_info_n_members (value.type_info) - 1)\n+  if (member_info->ending_type == G_VARIANT_MEMBER_ENDING_OFFSET)\n@@ -948,5 +1107,2 @@\n-      GVariantSerialised last_child;\n-      last_child = gvs_tuple_get_child (value,\n-                                        g_variant_type_info_n_members (value.type_info) - 1);\n-      last_end = last_child.data + last_child.size - value.data;\n-      g_variant_type_info_unref (last_child.type_info);\n+      if (offset_size * (member_info->i + 2) > value.size)\n+        return child;\n@@ -955,1 +1111,8 @@\n-    last_end = end;\n+    {\n+      if (offset_size * (member_info->i + 1) > value.size)\n+        return child;\n+    }\n+\n+  \/* The child should not extend into the offset table. *\/\n+  gvs_tuple_get_member_bounds (value, index_, offset_size, &start, &end);\n+  gvs_tuple_get_member_bounds (value, g_variant_type_info_n_members (value.type_info) - 1, offset_size, NULL, &last_end);\n@@ -984,0 +1147,4 @@\n+  \/* We must go through at least one iteration below. If the tuple had no\n+   * children, it would have a fixed size. *\/\n+  g_assert (n_children > 0);\n+\n@@ -1056,0 +1223,1 @@\n+  gsize offset_table_size;\n@@ -1069,1 +1237,1 @@\n-      GVariantSerialised child;\n+      GVariantSerialised child = { 0, };\n@@ -1129,0 +1297,4 @@\n+  \/* All element bounds have been checked above. *\/\n+  value.ordered_offsets_up_to = G_MAXSIZE;\n+  value.checked_offsets_up_to = G_MAXSIZE;\n+\n@@ -1156,1 +1328,13 @@\n-  return offset_ptr == offset;\n+  \/* @offset_ptr has been counting backwards from the end of the variant, to\n+   * find the beginning of the offset table. @offset has been counting forwards\n+   * from the beginning of the variant to find the end of the data. They should\n+   * have met in the middle. *\/\n+  if (offset_ptr != offset)\n+    return FALSE;\n+\n+  offset_table_size = value.size - offset_ptr;\n+  if (value.size > 0 &&\n+      gvs_calculate_total_size (offset, offset_table_size \/ offset_size) != value.size)\n+    return FALSE;  \/* offset size not minimal *\/\n+\n+  return TRUE;\n@@ -1467,1 +1651,1 @@\n- * This function is only resonsible for performing calculations for the\n+ * This function is only responsible for performing calculations for the\n@@ -1724,2 +1908,2 @@\n- * D-Bus specification defines a signature as zero or more single complete\n- * types.\n+ * D-Bus specification defines a signature as \"zero or more single complete\n+ * types\".\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-serialiser.c","additions":286,"deletions":102,"binary":false,"changes":388,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -32,0 +34,21 @@\n+\n+  \/* If ordered_offsets_up_to == n this means that all the frame offsets up to and\n+   * including the frame offset determining the end of element n are in order.\n+   * This guarantees that the bytes of element n don't overlap with any previous\n+   * element.\n+   *\n+   * This is both read and set by g_variant_serialised_get_child() for arrays of\n+   * non-fixed-width types, and for tuples.\n+   *\n+   * Even when dealing with tuples, @ordered_offsets_up_to is an element index,\n+   * rather than an index into the frame offsets. *\/\n+  gsize             ordered_offsets_up_to;\n+\n+  \/* Similar to @ordered_offsets_up_to. This gives the index of the child element\n+   * whose frame offset is the highest in the offset table which has been\n+   * checked so far.\n+   *\n+   * This is always ≥ @ordered_offsets_up_to. It is always an element index.\n+   *\n+   * See documentation in gvariant-core.c for `struct GVariant` for details. *\/\n+  gsize             checked_offsets_up_to;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-serialiser.h","additions":23,"deletions":0,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -36,1 +38,0 @@\n-\n@@ -803,1 +804,2 @@\n-      if G_UNLIKELY (!g_variant_is_of_type (children[i], child_type))\n+      gboolean is_of_child_type = g_variant_is_of_type (children[i], child_type);\n+      if G_UNLIKELY (!is_of_child_type)\n@@ -808,1 +810,1 @@\n-          g_return_val_if_fail (g_variant_is_of_type (children[i], child_type), NULL);\n+          g_return_val_if_fail (is_of_child_type, NULL);\n@@ -1283,2 +1285,3 @@\n- * This function consumes @string.  g_free() will be called on @string\n- * when it is no longer required.\n+ * After this call, @string belongs to the #GVariant and may no longer be\n+ * modified by the caller. The memory of @data has to be dynamically\n+ * allocated and will eventually be freed with g_free().\n@@ -1353,2 +1356,2 @@\n- * Creates a D-Bus object path #GVariant with the contents of @string.\n- * @string must be a valid D-Bus object path.  Use\n+ * Creates a D-Bus object path #GVariant with the contents of @object_path.\n+ * @object_path must be a valid D-Bus object path.  Use\n@@ -2214,0 +2217,2 @@\n+  const gchar *value_type_string = g_variant_get_type_string (value);\n+\n@@ -2217,1 +2222,1 @@\n-  switch (g_variant_classify (value))\n+  switch (value_type_string[0])\n@@ -2221,2 +2226,1 @@\n-        g_string_append_printf (string, \"@%s \",\n-                                g_variant_get_type_string (value));\n+        g_string_append_printf (string, \"@%s \", value_type_string);\n@@ -2226,2 +2230,3 @@\n-          gchar *printed_child;\n-          GVariant *element;\n+          const GVariantType *base_type;\n+          guint i, depth;\n+          GVariant *element = NULL;\n@@ -2241,4 +2246,2 @@\n-           * Instead of searching for that nested Nothing, we just print\n-           * the contained value into a separate string and see if we\n-           * end up with \"nothing\" at the end of it.  If so, we need to\n-           * add \"just\" at our level.\n+           * Search for the nested Nothing, to save a lot of recursion if there\n+           * are multiple levels of maybes.\n@@ -2246,8 +2249,27 @@\n-          element = g_variant_get_child_value (value, 0);\n-          printed_child = g_variant_print (element, FALSE);\n-          g_variant_unref (element);\n-\n-          if (g_str_has_suffix (printed_child, \"nothing\"))\n-            g_string_append (string, \"just \");\n-          g_string_append (string, printed_child);\n-          g_free (printed_child);\n+          for (depth = 0, base_type = g_variant_get_type (value);\n+               g_variant_type_is_maybe (base_type);\n+               depth++, base_type = g_variant_type_element (base_type));\n+\n+          element = g_variant_ref (value);\n+          for (i = 0; i < depth && element != NULL; i++)\n+            {\n+              GVariant *new_element = g_variant_n_children (element) ? g_variant_get_child_value (element, 0) : NULL;\n+              g_variant_unref (element);\n+              element = g_steal_pointer (&new_element);\n+            }\n+\n+          if (element == NULL)\n+            {\n+              \/* One of the maybes was Nothing, so print out the right number of\n+               * justs. *\/\n+              for (; i > 1; i--)\n+                g_string_append (string, \"just \");\n+              g_string_append (string, \"nothing\");\n+            }\n+          else\n+            {\n+              \/* There are no Nothings, so print out the child with no prefixes. *\/\n+              g_variant_print_string (element, string, FALSE);\n+            }\n+\n+          g_clear_pointer (&element, g_variant_unref);\n@@ -2266,1 +2288,1 @@\n-      if (g_variant_get_type_string (value)[1] == 'y')\n+      if (value_type_string[1] == 'y')\n@@ -2308,1 +2330,1 @@\n-      if (g_variant_get_type_string (value)[1] == '{')\n+      if (value_type_string[1] == '{')\n@@ -2317,2 +2339,1 @@\n-                g_string_append_printf (string, \"@%s \",\n-                                        g_variant_get_type_string (value));\n+                g_string_append_printf (string, \"@%s \", value_type_string);\n@@ -2354,2 +2375,1 @@\n-                g_string_append_printf (string, \"@%s \",\n-                                        g_variant_get_type_string (value));\n+                g_string_append_printf (string, \"@%s \", value_type_string);\n@@ -2935,0 +2955,2 @@\n+G_STATIC_ASSERT (sizeof (struct heap_iter) <= sizeof (GVariantIter));\n+\n@@ -3217,1 +3239,1 @@\n-G_STATIC_ASSERT (sizeof (GVariantBuilder) == sizeof (gsize[16]));\n+G_STATIC_ASSERT (sizeof (GVariantBuilder) == sizeof (guintptr[16]));\n@@ -3502,0 +3524,10 @@\n+#ifdef G_ANALYZER_ANALYZING\n+  \/* Static analysers can’t couple the code in g_variant_builder_init() to the\n+   * code in g_variant_builder_end() by GVariantType, so end up assuming that\n+   * @offset and @children mismatch and that uninitialised memory is accessed\n+   * from @children. At runtime, this is caught by the preconditions at the top\n+   * of g_variant_builder_end(). Help the analyser by zero-initialising the\n+   * memory to avoid a false positive. *\/\n+  GVSB(builder)->children = g_new0 (GVariant *,\n+                                    GVSB(builder)->allocated_children);\n+#else\n@@ -3504,0 +3536,1 @@\n+#endif\n@@ -3898,1 +3931,1 @@\n-G_STATIC_ASSERT (sizeof (GVariantDict) == sizeof (gsize[16]));\n+G_STATIC_ASSERT (sizeof (GVariantDict) == sizeof (guintptr[16]));\n@@ -4027,1 +4060,2 @@\n- * this function returns %FALSE.  Otherwise, it unpacks the returned\n+ * this function returns %FALSE and does not modify the values of the arguments\n+ * passed in to @....  Otherwise, it unpacks the returned\n@@ -4081,1 +4115,1 @@\n- * Returns: (transfer full): the value of the dictionary key, or %NULL\n+ * Returns: (transfer full) (nullable): the value of the dictionary key, or %NULL\n@@ -5860,1 +5894,2 @@\n-g_variant_deep_copy (GVariant *value)\n+g_variant_deep_copy (GVariant *value,\n+                     gboolean  byteswap)\n@@ -5865,1 +5900,0 @@\n-    case G_VARIANT_CLASS_ARRAY:\n@@ -5871,2 +5905,1 @@\n-        GVariantIter iter;\n-        GVariant *child;\n+        gsize i, n_children;\n@@ -5875,1 +5908,0 @@\n-        g_variant_iter_init (&iter, value);\n@@ -5877,1 +5909,1 @@\n-        while ((child = g_variant_iter_next_value (&iter)))\n+        for (i = 0, n_children = g_variant_n_children (value); i < n_children; i++)\n@@ -5879,1 +5911,2 @@\n-            g_variant_builder_add_value (&builder, g_variant_deep_copy (child));\n+            GVariant *child = g_variant_get_child_value (value, i);\n+            g_variant_builder_add_value (&builder, g_variant_deep_copy (child, byteswap));\n@@ -5886,0 +5919,65 @@\n+    case G_VARIANT_CLASS_ARRAY:\n+      {\n+        GVariantBuilder builder;\n+        gsize i, n_children;\n+        GVariant *first_invalid_child_deep_copy = NULL;\n+\n+        \/* Arrays are in theory treated the same as maybes, tuples, dict entries\n+         * and variants, and could be another case in the above block of code.\n+         *\n+         * However, they have the property that when dealing with non-normal\n+         * data (which is the only time g_variant_deep_copy() is currently\n+         * called) in a variable-sized array, the code above can easily end up\n+         * creating many default child values in order to return an array which\n+         * is of the right length and type, but without containing non-normal\n+         * data. This can happen if the offset table for the array is malformed.\n+         *\n+         * In this case, the code above would end up allocating the same default\n+         * value for each one of the child indexes beyond the first malformed\n+         * entry in the offset table. This can end up being a lot of identical\n+         * allocations of default values, particularly if the non-normal array\n+         * is crafted maliciously.\n+         *\n+         * Avoid that problem by returning a new reference to the same default\n+         * value for every child after the first invalid one. This results in\n+         * returning an equivalent array, in normal form and trusted — but with\n+         * significantly fewer memory allocations.\n+         *\n+         * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2540 *\/\n+\n+        g_variant_builder_init (&builder, g_variant_get_type (value));\n+\n+        for (i = 0, n_children = g_variant_n_children (value); i < n_children; i++)\n+          {\n+            \/* Try maybe_get_child_value() first; if it returns NULL, this child\n+             * is non-normal. get_child_value() would have constructed and\n+             * returned a default value in that case. *\/\n+            GVariant *child = g_variant_maybe_get_child_value (value, i);\n+\n+            if (child != NULL)\n+              {\n+                \/* Non-normal children may not always be contiguous, as they may\n+                 * be non-normal for reasons other than invalid offset table\n+                 * entries. As they are all the same type, they will all have\n+                 * the same default value though, so keep that around. *\/\n+                g_variant_builder_add_value (&builder, g_variant_deep_copy (child, byteswap));\n+              }\n+            else if (child == NULL && first_invalid_child_deep_copy != NULL)\n+              {\n+                g_variant_builder_add_value (&builder, first_invalid_child_deep_copy);\n+              }\n+            else if (child == NULL)\n+              {\n+                child = g_variant_get_child_value (value, i);\n+                first_invalid_child_deep_copy = g_variant_ref_sink (g_variant_deep_copy (child, byteswap));\n+                g_variant_builder_add_value (&builder, first_invalid_child_deep_copy);\n+              }\n+\n+            g_clear_pointer (&child, g_variant_unref);\n+          }\n+\n+        g_clear_pointer (&first_invalid_child_deep_copy, g_variant_unref);\n+\n+        return g_variant_builder_end (&builder);\n+      }\n+\n@@ -5893,1 +5991,4 @@\n-      return g_variant_new_int16 (g_variant_get_int16 (value));\n+      if (byteswap)\n+        return g_variant_new_int16 (GUINT16_SWAP_LE_BE (g_variant_get_int16 (value)));\n+      else\n+        return g_variant_new_int16 (g_variant_get_int16 (value));\n@@ -5896,1 +5997,4 @@\n-      return g_variant_new_uint16 (g_variant_get_uint16 (value));\n+      if (byteswap)\n+        return g_variant_new_uint16 (GUINT16_SWAP_LE_BE (g_variant_get_uint16 (value)));\n+      else\n+        return g_variant_new_uint16 (g_variant_get_uint16 (value));\n@@ -5899,1 +6003,4 @@\n-      return g_variant_new_int32 (g_variant_get_int32 (value));\n+      if (byteswap)\n+        return g_variant_new_int32 (GUINT32_SWAP_LE_BE (g_variant_get_int32 (value)));\n+      else\n+        return g_variant_new_int32 (g_variant_get_int32 (value));\n@@ -5902,1 +6009,4 @@\n-      return g_variant_new_uint32 (g_variant_get_uint32 (value));\n+      if (byteswap)\n+        return g_variant_new_uint32 (GUINT32_SWAP_LE_BE (g_variant_get_uint32 (value)));\n+      else\n+        return g_variant_new_uint32 (g_variant_get_uint32 (value));\n@@ -5905,1 +6015,4 @@\n-      return g_variant_new_int64 (g_variant_get_int64 (value));\n+      if (byteswap)\n+        return g_variant_new_int64 (GUINT64_SWAP_LE_BE (g_variant_get_int64 (value)));\n+      else\n+        return g_variant_new_int64 (g_variant_get_int64 (value));\n@@ -5908,1 +6021,4 @@\n-      return g_variant_new_uint64 (g_variant_get_uint64 (value));\n+      if (byteswap)\n+        return g_variant_new_uint64 (GUINT64_SWAP_LE_BE (g_variant_get_uint64 (value)));\n+      else\n+        return g_variant_new_uint64 (g_variant_get_uint64 (value));\n@@ -5911,1 +6027,4 @@\n-      return g_variant_new_handle (g_variant_get_handle (value));\n+      if (byteswap)\n+        return g_variant_new_handle (GUINT32_SWAP_LE_BE (g_variant_get_handle (value)));\n+      else\n+        return g_variant_new_handle (g_variant_get_handle (value));\n@@ -5914,1 +6033,15 @@\n-      return g_variant_new_double (g_variant_get_double (value));\n+      if (byteswap)\n+        {\n+          \/* We have to convert the double to a uint64 here using a union,\n+           * because a cast will round it numerically. *\/\n+          union\n+            {\n+              guint64 u64;\n+              gdouble dbl;\n+            } u1, u2;\n+          u1.dbl = g_variant_get_double (value);\n+          u2.u64 = GUINT64_SWAP_LE_BE (u1.u64);\n+          return g_variant_new_double (u2.dbl);\n+        }\n+      else\n+        return g_variant_new_double (g_variant_get_double (value));\n@@ -5944,1 +6077,3 @@\n- * #GVariant is created with the same value as @value.\n+ * #GVariant is created with the same value as @value. The non-normal parts of\n+ * @value will be replaced with default values which are guaranteed to be in\n+ * normal form.\n@@ -5969,1 +6104,1 @@\n-  trusted = g_variant_deep_copy (value);\n+  trusted = g_variant_deep_copy (value, FALSE);\n@@ -5989,0 +6124,5 @@\n+ * While this function can safely handle untrusted, non-normal data, it is\n+ * recommended to check whether the input is in normal form beforehand, using\n+ * g_variant_is_normal_form(), and to reject non-normal inputs if your\n+ * application can be strict about what inputs it rejects.\n+ *\n@@ -5990,0 +6130,1 @@\n+ * A full, not floating, reference is returned.\n@@ -6006,2 +6147,1 @@\n-  if (alignment)\n-    \/* (potentially) contains multi-byte numeric data *\/\n+  if (alignment && g_variant_is_normal_form (value))\n@@ -6009,2 +6149,4 @@\n-      GVariantSerialised serialised;\n-      GVariant *trusted;\n+      \/* (potentially) contains multi-byte numeric data, but is also already in\n+       * normal form so we can use a faster byteswapping codepath on the\n+       * serialised data *\/\n+      GVariantSerialised serialised = { 0, };\n@@ -6013,3 +6155,2 @@\n-      trusted = g_variant_get_normal_form (value);\n-      serialised.type_info = g_variant_get_type_info (trusted);\n-      serialised.size = g_variant_get_size (trusted);\n+      serialised.type_info = g_variant_get_type_info (value);\n+      serialised.size = g_variant_get_size (value);\n@@ -6017,3 +6158,4 @@\n-      serialised.depth = g_variant_get_depth (trusted);\n-      g_variant_store (trusted, serialised.data);\n-      g_variant_unref (trusted);\n+      serialised.depth = g_variant_get_depth (value);\n+      serialised.ordered_offsets_up_to = G_MAXSIZE;  \/* operating on the normal form *\/\n+      serialised.checked_offsets_up_to = G_MAXSIZE;\n+      g_variant_store (value, serialised.data);\n@@ -6029,1 +6171,1 @@\n-      new = g_variant_new_from_bytes (g_variant_get_type (value), bytes, TRUE);\n+      new = g_variant_ref_sink (g_variant_new_from_bytes (g_variant_get_type (value), bytes, TRUE));\n@@ -6032,0 +6174,3 @@\n+  else if (alignment)\n+    \/* (potentially) contains multi-byte numeric data *\/\n+    new = g_variant_ref_sink (g_variant_deep_copy (value, TRUE));\n@@ -6034,1 +6179,3 @@\n-    new = value;\n+    new = g_variant_get_normal_form (value);\n+\n+  g_assert (g_variant_is_trusted (new));\n@@ -6036,1 +6183,1 @@\n-  return g_variant_ref_sink (new);\n+  return g_steal_pointer (&new);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant.c","additions":211,"deletions":64,"binary":false,"changes":275,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -271,1 +273,1 @@\n-  gsize x[16];\n+  guintptr x[16];\n@@ -307,1 +309,1 @@\n-      gsize y[14];\n+      guintptr y[14];\n@@ -309,1 +311,1 @@\n-    gsize x[16];\n+    guintptr x[16];\n@@ -456,1 +458,1 @@\n-      gsize y[14];\n+      guintptr y[14];\n@@ -458,1 +460,1 @@\n-    gsize x[16];\n+    guintptr x[16];\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant.h","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttype.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttype.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -31,0 +33,2 @@\n+#include \"glib_trace.h\"\n+\n@@ -248,2 +252,0 @@\n-  g_variant_type_info_check (info, 0);\n-\n@@ -806,0 +808,2 @@\n+          TRACE(GLIB_VARIANT_TYPE_INFO_NEW(info, container->type_string));\n+\n@@ -831,0 +835,2 @@\n+      TRACE(GLIB_VARIANT_TYPE_INFO_NEW(info, g_variant_type_info_basic_chars[index]));\n+\n@@ -875,0 +881,3 @@\n+\n+          TRACE(GLIB_VARIANT_TYPE_INFO_FREE(info));\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttypeinfo.c","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttypeinfo.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -114,2 +116,4 @@\n- * Checks the version of the GLib library that is being compiled\n- * against. See glib_check_version() for a runtime check.\n+ * Checks whether the version of the GLib library that is being compiled\n+ * against is greater than or equal to the given one.\n+ *\n+ * See glib_check_version() for a runtime check.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gversion.c","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gversion.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -28,1 +30,1 @@\n-#if !defined (__GLIB_H_INSIDE__) && !defined (GLIB_COMPILATION)\n+#if !defined(__GLIB_H_INSIDE__) && !defined(GLIB_COMPILATION)\n@@ -34,3 +36,1 @@\n-#define G_ENCODE_VERSION(major,minor)   ((major) << 16 | (minor) << 8)\n-\n-\/* XXX: Every new stable minor release bump should add a macro here *\/\n+#define G_ENCODE_VERSION(major, minor) ((major) << 16 | (minor) << 8)\n@@ -39,7 +39,115 @@\n- * GLIB_VERSION_2_26:\n- *\n- * A macro that evaluates to the 2.26 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.32\n- *\/\n+* GLIB_VERSION_2_2:\n+*\n+* A macro that evaluates to the 2.2 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_2       (G_ENCODE_VERSION (2, 2))\n+\/**\n+* GLIB_VERSION_2_4:\n+*\n+* A macro that evaluates to the 2.4 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_4       (G_ENCODE_VERSION (2, 4))\n+\/**\n+* GLIB_VERSION_2_6:\n+*\n+* A macro that evaluates to the 2.6 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_6       (G_ENCODE_VERSION (2, 6))\n+\/**\n+* GLIB_VERSION_2_8:\n+*\n+* A macro that evaluates to the 2.8 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_8       (G_ENCODE_VERSION (2, 8))\n+\/**\n+* GLIB_VERSION_2_10:\n+*\n+* A macro that evaluates to the 2.10 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_10       (G_ENCODE_VERSION (2, 10))\n+\/**\n+* GLIB_VERSION_2_12:\n+*\n+* A macro that evaluates to the 2.12 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_12       (G_ENCODE_VERSION (2, 12))\n+\/**\n+* GLIB_VERSION_2_14:\n+*\n+* A macro that evaluates to the 2.14 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_14       (G_ENCODE_VERSION (2, 14))\n+\/**\n+* GLIB_VERSION_2_16:\n+*\n+* A macro that evaluates to the 2.16 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_16       (G_ENCODE_VERSION (2, 16))\n+\/**\n+* GLIB_VERSION_2_18:\n+*\n+* A macro that evaluates to the 2.18 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_18       (G_ENCODE_VERSION (2, 18))\n+\/**\n+* GLIB_VERSION_2_20:\n+*\n+* A macro that evaluates to the 2.20 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_20       (G_ENCODE_VERSION (2, 20))\n+\/**\n+* GLIB_VERSION_2_22:\n+*\n+* A macro that evaluates to the 2.22 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_22       (G_ENCODE_VERSION (2, 22))\n+\/**\n+* GLIB_VERSION_2_24:\n+*\n+* A macro that evaluates to the 2.24 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n+#define GLIB_VERSION_2_24       (G_ENCODE_VERSION (2, 24))\n+\/**\n+* GLIB_VERSION_2_26:\n+*\n+* A macro that evaluates to the 2.26 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n@@ -47,1 +155,0 @@\n-\n@@ -49,7 +156,7 @@\n- * GLIB_VERSION_2_28:\n- *\n- * A macro that evaluates to the 2.28 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.32\n- *\/\n+* GLIB_VERSION_2_28:\n+*\n+* A macro that evaluates to the 2.28 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n@@ -57,1 +164,0 @@\n-\n@@ -59,7 +165,7 @@\n- * GLIB_VERSION_2_30:\n- *\n- * A macro that evaluates to the 2.30 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.32\n- *\/\n+* GLIB_VERSION_2_30:\n+*\n+* A macro that evaluates to the 2.30 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n@@ -67,1 +173,0 @@\n-\n@@ -69,7 +174,7 @@\n- * GLIB_VERSION_2_32:\n- *\n- * A macro that evaluates to the 2.32 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.32\n- *\/\n+* GLIB_VERSION_2_32:\n+*\n+* A macro that evaluates to the 2.32 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.32\n+*\/\n@@ -77,1 +182,0 @@\n-\n@@ -79,7 +183,7 @@\n- * GLIB_VERSION_2_34:\n- *\n- * A macro that evaluates to the 2.34 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.34\n- *\/\n+* GLIB_VERSION_2_34:\n+*\n+* A macro that evaluates to the 2.34 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.34\n+*\/\n@@ -87,1 +191,0 @@\n-\n@@ -89,7 +192,7 @@\n- * GLIB_VERSION_2_36:\n- *\n- * A macro that evaluates to the 2.36 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.36\n- *\/\n+* GLIB_VERSION_2_36:\n+*\n+* A macro that evaluates to the 2.36 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.36\n+*\/\n@@ -97,1 +200,0 @@\n-\n@@ -99,7 +201,7 @@\n- * GLIB_VERSION_2_38:\n- *\n- * A macro that evaluates to the 2.38 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.38\n- *\/\n+* GLIB_VERSION_2_38:\n+*\n+* A macro that evaluates to the 2.38 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.38\n+*\/\n@@ -107,1 +209,0 @@\n-\n@@ -109,7 +210,7 @@\n- * GLIB_VERSION_2_40:\n- *\n- * A macro that evaluates to the 2.40 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.40\n- *\/\n+* GLIB_VERSION_2_40:\n+*\n+* A macro that evaluates to the 2.40 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.40\n+*\/\n@@ -117,1 +218,0 @@\n-\n@@ -119,7 +219,7 @@\n- * GLIB_VERSION_2_42:\n- *\n- * A macro that evaluates to the 2.42 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.42\n- *\/\n+* GLIB_VERSION_2_42:\n+*\n+* A macro that evaluates to the 2.42 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.42\n+*\/\n@@ -127,1 +227,0 @@\n-\n@@ -129,7 +228,7 @@\n- * GLIB_VERSION_2_44:\n- *\n- * A macro that evaluates to the 2.44 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.44\n- *\/\n+* GLIB_VERSION_2_44:\n+*\n+* A macro that evaluates to the 2.44 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.44\n+*\/\n@@ -137,1 +236,0 @@\n-\n@@ -139,7 +237,7 @@\n- * GLIB_VERSION_2_46:\n- *\n- * A macro that evaluates to the 2.46 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.46\n- *\/\n+* GLIB_VERSION_2_46:\n+*\n+* A macro that evaluates to the 2.46 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.46\n+*\/\n@@ -147,1 +245,0 @@\n-\n@@ -149,7 +246,7 @@\n- * GLIB_VERSION_2_48:\n- *\n- * A macro that evaluates to the 2.48 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.48\n- *\/\n+* GLIB_VERSION_2_48:\n+*\n+* A macro that evaluates to the 2.48 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.48\n+*\/\n@@ -157,1 +254,0 @@\n-\n@@ -159,7 +255,7 @@\n- * GLIB_VERSION_2_50:\n- *\n- * A macro that evaluates to the 2.50 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.50\n- *\/\n+* GLIB_VERSION_2_50:\n+*\n+* A macro that evaluates to the 2.50 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.50\n+*\/\n@@ -167,1 +263,0 @@\n-\n@@ -169,7 +264,7 @@\n- * GLIB_VERSION_2_52:\n- *\n- * A macro that evaluates to the 2.52 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.52\n- *\/\n+* GLIB_VERSION_2_52:\n+*\n+* A macro that evaluates to the 2.52 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.52\n+*\/\n@@ -177,1 +272,0 @@\n-\n@@ -179,7 +273,7 @@\n- * GLIB_VERSION_2_54:\n- *\n- * A macro that evaluates to the 2.54 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.54\n- *\/\n+* GLIB_VERSION_2_54:\n+*\n+* A macro that evaluates to the 2.54 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.54\n+*\/\n@@ -187,1 +281,0 @@\n-\n@@ -189,7 +282,7 @@\n- * GLIB_VERSION_2_56:\n- *\n- * A macro that evaluates to the 2.56 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.56\n- *\/\n+* GLIB_VERSION_2_56:\n+*\n+* A macro that evaluates to the 2.56 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.56\n+*\/\n@@ -197,1 +290,0 @@\n-\n@@ -199,7 +291,7 @@\n- * GLIB_VERSION_2_58:\n- *\n- * A macro that evaluates to the 2.58 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.58\n- *\/\n+* GLIB_VERSION_2_58:\n+*\n+* A macro that evaluates to the 2.58 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.58\n+*\/\n@@ -207,1 +299,0 @@\n-\n@@ -209,7 +300,7 @@\n- * GLIB_VERSION_2_60:\n- *\n- * A macro that evaluates to the 2.60 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.60\n- *\/\n+* GLIB_VERSION_2_60:\n+*\n+* A macro that evaluates to the 2.60 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.60\n+*\/\n@@ -217,1 +308,0 @@\n-\n@@ -219,7 +309,7 @@\n- * GLIB_VERSION_2_62:\n- *\n- * A macro that evaluates to the 2.62 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.62\n- *\/\n+* GLIB_VERSION_2_62:\n+*\n+* A macro that evaluates to the 2.62 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.62\n+*\/\n@@ -227,1 +317,0 @@\n-\n@@ -229,7 +318,7 @@\n- * GLIB_VERSION_2_64:\n- *\n- * A macro that evaluates to the 2.64 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.64\n- *\/\n+* GLIB_VERSION_2_64:\n+*\n+* A macro that evaluates to the 2.64 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.64\n+*\/\n@@ -237,1 +326,0 @@\n-\n@@ -239,7 +327,7 @@\n- * GLIB_VERSION_2_66:\n- *\n- * A macro that evaluates to the 2.66 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.66\n- *\/\n+* GLIB_VERSION_2_66:\n+*\n+* A macro that evaluates to the 2.66 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.66\n+*\/\n@@ -247,1 +335,0 @@\n-\n@@ -249,7 +336,7 @@\n- * GLIB_VERSION_2_68:\n- *\n- * A macro that evaluates to the 2.68 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.68\n- *\/\n+* GLIB_VERSION_2_68:\n+*\n+* A macro that evaluates to the 2.68 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.68\n+*\/\n@@ -257,1 +344,0 @@\n-\n@@ -259,7 +345,7 @@\n- * GLIB_VERSION_2_70:\n- *\n- * A macro that evaluates to the 2.70 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.70\n- *\/\n+* GLIB_VERSION_2_70:\n+*\n+* A macro that evaluates to the 2.70 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.70\n+*\/\n@@ -267,1 +353,0 @@\n-\n@@ -269,7 +354,7 @@\n- * GLIB_VERSION_2_72:\n- *\n- * A macro that evaluates to the 2.72 version of GLib, in a format\n- * that can be used by the C pre-processor.\n- *\n- * Since: 2.72\n- *\/\n+* GLIB_VERSION_2_72:\n+*\n+* A macro that evaluates to the 2.72 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.72\n+*\/\n@@ -277,0 +362,27 @@\n+\/**\n+* GLIB_VERSION_2_74:\n+*\n+* A macro that evaluates to the 2.74 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.74\n+*\/\n+#define GLIB_VERSION_2_74       (G_ENCODE_VERSION (2, 74))\n+\/**\n+* GLIB_VERSION_2_76:\n+*\n+* A macro that evaluates to the 2.76 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.76\n+*\/\n+#define GLIB_VERSION_2_76       (G_ENCODE_VERSION (2, 76))\n+\/**\n+* GLIB_VERSION_2_78:\n+*\n+* A macro that evaluates to the 2.78 version of GLib, in a format\n+* that can be used by the C pre-processor.\n+*\n+* Since: 2.78\n+*\/\n+#define GLIB_VERSION_2_78       (G_ENCODE_VERSION (2, 78))\n@@ -290,1 +402,1 @@\n-#define GLIB_VERSION_CUR_STABLE         (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION + 1))\n+#define GLIB_VERSION_CUR_STABLE (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION + 1))\n@@ -292,1 +404,1 @@\n-#define GLIB_VERSION_CUR_STABLE         (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION))\n+#define GLIB_VERSION_CUR_STABLE (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION))\n@@ -307,1 +419,1 @@\n-#define GLIB_VERSION_PREV_STABLE        (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION - 1))\n+#define GLIB_VERSION_PREV_STABLE (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION - 1))\n@@ -309,1 +421,1 @@\n-#define GLIB_VERSION_PREV_STABLE        (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION - 2))\n+#define GLIB_VERSION_PREV_STABLE (G_ENCODE_VERSION (GLIB_MAJOR_VERSION, GLIB_MINOR_VERSION - 2))\n@@ -335,1 +447,1 @@\n-# define GLIB_VERSION_MIN_REQUIRED      (GLIB_VERSION_CUR_STABLE)\n+#define GLIB_VERSION_MIN_REQUIRED (GLIB_VERSION_CUR_STABLE)\n@@ -337,2 +449,2 @@\n-# undef  GLIB_VERSION_MIN_REQUIRED\n-# define GLIB_VERSION_MIN_REQUIRED      (GLIB_VERSION_CUR_STABLE + 2)\n+#undef GLIB_VERSION_MIN_REQUIRED\n+#define GLIB_VERSION_MIN_REQUIRED (GLIB_VERSION_CUR_STABLE + 2)\n@@ -362,3 +474,3 @@\n-#if !defined (GLIB_VERSION_MAX_ALLOWED) || (GLIB_VERSION_MAX_ALLOWED == 0)\n-# undef GLIB_VERSION_MAX_ALLOWED\n-# define GLIB_VERSION_MAX_ALLOWED      (GLIB_VERSION_CUR_STABLE)\n+#if !defined(GLIB_VERSION_MAX_ALLOWED) || (GLIB_VERSION_MAX_ALLOWED == 0)\n+#undef GLIB_VERSION_MAX_ALLOWED\n+#define GLIB_VERSION_MAX_ALLOWED (GLIB_VERSION_CUR_STABLE)\n@@ -378,789 +490,0 @@\n-\/* These macros are used to mark deprecated functions in GLib headers,\n- * and thus have to be exposed in installed headers. But please\n- * do *not* use them in other projects. Instead, use G_DEPRECATED\n- * or define your own wrappers around it.\n- *\/\n-#define GLIB_AVAILABLE_IN_ALL                   _GLIB_EXTERN\n-\n-\/* XXX: Every new stable minor release should add a set of macros here *\/\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_26\n-# define GLIB_DEPRECATED_IN_2_26                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_26_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_26          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_26_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_26          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_26           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_26_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_26                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_26_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_26\n-# define GLIB_DEPRECATED_MACRO_IN_2_26_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_26\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_26\n-# define GLIB_DEPRECATED_TYPE_IN_2_26_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_26\n-# define GLIB_AVAILABLE_IN_2_26                 GLIB_UNAVAILABLE(2, 26)\n-# define GLIB_AVAILABLE_MACRO_IN_2_26           GLIB_UNAVAILABLE_MACRO(2, 26)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_26      GLIB_UNAVAILABLE_ENUMERATOR(2, 26)\n-# define GLIB_AVAILABLE_TYPE_IN_2_26            GLIB_UNAVAILABLE_TYPE(2, 26)\n-#else\n-# define GLIB_AVAILABLE_IN_2_26                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_26\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_26\n-# define GLIB_AVAILABLE_TYPE_IN_2_26\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_28\n-# define GLIB_DEPRECATED_IN_2_28                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_28_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_28          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_28_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_28          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_28           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_28_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_28                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_28_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_28\n-# define GLIB_DEPRECATED_MACRO_IN_2_28_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_28\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_28\n-# define GLIB_DEPRECATED_TYPE_IN_2_28_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_28\n-# define GLIB_AVAILABLE_IN_2_28                 GLIB_UNAVAILABLE(2, 28)\n-# define GLIB_AVAILABLE_MACRO_IN_2_28           GLIB_UNAVAILABLE_MACRO(2, 28)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_28      GLIB_UNAVAILABLE_ENUMERATOR(2, 28)\n-# define GLIB_AVAILABLE_TYPE_IN_2_28            GLIB_UNAVAILABLE_TYPE(2, 28)\n-#else\n-# define GLIB_AVAILABLE_IN_2_28                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_28\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_28\n-# define GLIB_AVAILABLE_TYPE_IN_2_28\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_30\n-# define GLIB_DEPRECATED_IN_2_30                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_30_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_30          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_30_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_30          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_30           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_30_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_30                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_30_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_30\n-# define GLIB_DEPRECATED_MACRO_IN_2_30_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_30\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_30\n-# define GLIB_DEPRECATED_TYPE_IN_2_30_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_30\n-# define GLIB_AVAILABLE_IN_2_30                 GLIB_UNAVAILABLE(2, 30)\n-# define GLIB_AVAILABLE_MACRO_IN_2_30           GLIB_UNAVAILABLE_MACRO(2, 30)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_30      GLIB_UNAVAILABLE_ENUMERATOR(2, 30)\n-# define GLIB_AVAILABLE_TYPE_IN_2_30            GLIB_UNAVAILABLE_TYPE(2, 30)\n-#else\n-# define GLIB_AVAILABLE_IN_2_30                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_30\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_30\n-# define GLIB_AVAILABLE_TYPE_IN_2_30\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_32\n-# define GLIB_DEPRECATED_IN_2_32                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_32_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_32          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_32_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_32          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_32           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_32_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_32                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_32_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_32\n-# define GLIB_DEPRECATED_MACRO_IN_2_32_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_32\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_32\n-# define GLIB_DEPRECATED_TYPE_IN_2_32_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_32\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_32\n-# define GLIB_DEPRECATED_TYPE_IN_2_32_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_32\n-# define GLIB_AVAILABLE_IN_2_32                 GLIB_UNAVAILABLE(2, 32)\n-# define GLIB_AVAILABLE_MACRO_IN_2_32           GLIB_UNAVAILABLE_MACRO(2, 32)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_32      GLIB_UNAVAILABLE_ENUMERATOR(2, 32)\n-# define GLIB_AVAILABLE_TYPE_IN_2_32            GLIB_UNAVAILABLE_TYPE(2, 32)\n-#else\n-# define GLIB_AVAILABLE_IN_2_32                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_32\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_32\n-# define GLIB_AVAILABLE_TYPE_IN_2_32\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_34\n-# define GLIB_DEPRECATED_IN_2_34                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_34_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_34          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_34_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_34          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_34           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_34_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_34                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_34_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_34\n-# define GLIB_DEPRECATED_MACRO_IN_2_34_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_34\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_34\n-# define GLIB_DEPRECATED_TYPE_IN_2_34_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_34\n-# define GLIB_AVAILABLE_IN_2_34                 GLIB_UNAVAILABLE(2, 34)\n-# define GLIB_AVAILABLE_MACRO_IN_2_34           GLIB_UNAVAILABLE_MACRO(2, 34)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_34      GLIB_UNAVAILABLE_ENUMERATOR(2, 34)\n-# define GLIB_AVAILABLE_TYPE_IN_2_34            GLIB_UNAVAILABLE_TYPE(2, 34)\n-#else\n-# define GLIB_AVAILABLE_IN_2_34                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_34\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_34\n-# define GLIB_AVAILABLE_TYPE_IN_2_34\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_36\n-# define GLIB_DEPRECATED_IN_2_36                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_36_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_36          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_36_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_36          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_36           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_36_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_36                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_36_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_36\n-# define GLIB_DEPRECATED_MACRO_IN_2_36_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_36\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_36\n-# define GLIB_DEPRECATED_TYPE_IN_2_36_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_36\n-# define GLIB_AVAILABLE_IN_2_36                 GLIB_UNAVAILABLE(2, 36)\n-# define GLIB_AVAILABLE_MACRO_IN_2_36           GLIB_UNAVAILABLE_MACRO(2, 36)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_36      GLIB_UNAVAILABLE_ENUMERATOR(2, 36)\n-# define GLIB_AVAILABLE_TYPE_IN_2_36            GLIB_UNAVAILABLE_TYPE(2, 36)\n-#else\n-# define GLIB_AVAILABLE_IN_2_36                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_36\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_36\n-# define GLIB_AVAILABLE_TYPE_IN_2_36\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_38\n-# define GLIB_DEPRECATED_IN_2_38                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_38_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_38          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_38_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_38          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_38           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_38_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_38                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_38_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_38\n-# define GLIB_DEPRECATED_MACRO_IN_2_38_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_38\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_38\n-# define GLIB_DEPRECATED_TYPE_IN_2_38_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_38\n-# define GLIB_AVAILABLE_IN_2_38                 GLIB_UNAVAILABLE(2, 38)\n-# define GLIB_AVAILABLE_MACRO_IN_2_38           GLIB_UNAVAILABLE_MACRO(2, 38)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_38      GLIB_UNAVAILABLE_ENUMERATOR(2, 38)\n-# define GLIB_AVAILABLE_TYPE_IN_2_38            GLIB_UNAVAILABLE_TYPE(2, 38)\n-#else\n-# define GLIB_AVAILABLE_IN_2_38                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_38\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_38\n-# define GLIB_AVAILABLE_TYPE_IN_2_38\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_40\n-# define GLIB_DEPRECATED_IN_2_40                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_40_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_40          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_40_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_40          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_40           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_40_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_40                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_40_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_40\n-# define GLIB_DEPRECATED_MACRO_IN_2_40_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_40\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_40\n-# define GLIB_DEPRECATED_TYPE_IN_2_40_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_40\n-# define GLIB_AVAILABLE_IN_2_40                 GLIB_UNAVAILABLE(2, 40)\n-# define GLIB_AVAILABLE_MACRO_IN_2_40           GLIB_UNAVAILABLE_MACRO(2, 40)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_40      GLIB_UNAVAILABLE_ENUMERATOR(2, 40)\n-# define GLIB_AVAILABLE_TYPE_IN_2_40            GLIB_UNAVAILABLE_TYPE(2, 40)\n-#else\n-# define GLIB_AVAILABLE_IN_2_40                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_40\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_40\n-# define GLIB_AVAILABLE_TYPE_IN_2_40\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_42\n-# define GLIB_DEPRECATED_IN_2_42                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_42_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_42          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_42_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_42                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_42_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_42\n-# define GLIB_DEPRECATED_MACRO_IN_2_42_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_42\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_42\n-# define GLIB_DEPRECATED_TYPE_IN_2_42_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_42\n-# define GLIB_AVAILABLE_IN_2_42                 GLIB_UNAVAILABLE(2, 42)\n-# define GLIB_AVAILABLE_MACRO_IN_2_42           GLIB_UNAVAILABLE_MACRO(2, 42)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_42      GLIB_UNAVAILABLE_ENUMERATOR(2, 42)\n-# define GLIB_AVAILABLE_TYPE_IN_2_42            GLIB_UNAVAILABLE_TYPE(2, 42)\n-#else\n-# define GLIB_AVAILABLE_IN_2_42                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_42\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_42\n-# define GLIB_AVAILABLE_TYPE_IN_2_42\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_44\n-# define GLIB_DEPRECATED_IN_2_44                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_44_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_44          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_44_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_44          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_44           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_44_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_44                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_44_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_44\n-# define GLIB_DEPRECATED_MACRO_IN_2_44_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_44\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_44\n-# define GLIB_DEPRECATED_TYPE_IN_2_44_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_44\n-# define GLIB_AVAILABLE_IN_2_44                 GLIB_UNAVAILABLE(2, 44)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_44   GLIB_UNAVAILABLE_STATIC_INLINE(2, 44)\n-# define GLIB_AVAILABLE_MACRO_IN_2_44           GLIB_UNAVAILABLE_MACRO(2, 44)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_44      GLIB_UNAVAILABLE_ENUMERATOR(2, 44)\n-# define GLIB_AVAILABLE_TYPE_IN_2_44            GLIB_UNAVAILABLE_TYPE(2, 44)\n-#else\n-# define GLIB_AVAILABLE_IN_2_44                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_44\n-# define GLIB_AVAILABLE_MACRO_IN_2_44\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_44\n-# define GLIB_AVAILABLE_TYPE_IN_2_44\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_46\n-# define GLIB_DEPRECATED_IN_2_46                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_46_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_46          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_46_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_46                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_46_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_46\n-# define GLIB_DEPRECATED_MACRO_IN_2_46_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_46\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_46\n-# define GLIB_DEPRECATED_TYPE_IN_2_46_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_46\n-# define GLIB_AVAILABLE_IN_2_46                 GLIB_UNAVAILABLE(2, 46)\n-# define GLIB_AVAILABLE_MACRO_IN_2_46           GLIB_UNAVAILABLE_MACRO(2, 46)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_46      GLIB_UNAVAILABLE_ENUMERATOR(2, 46)\n-# define GLIB_AVAILABLE_TYPE_IN_2_46            GLIB_UNAVAILABLE_TYPE(2, 46)\n-#else\n-# define GLIB_AVAILABLE_IN_2_46                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_46\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_46\n-# define GLIB_AVAILABLE_TYPE_IN_2_46\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_48\n-# define GLIB_DEPRECATED_IN_2_48                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_48_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_48          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_48_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_48          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_48           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_48_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_48                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_48_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_48\n-# define GLIB_DEPRECATED_MACRO_IN_2_48_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_48\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_48\n-# define GLIB_DEPRECATED_TYPE_IN_2_48_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_48\n-# define GLIB_AVAILABLE_IN_2_48                 GLIB_UNAVAILABLE(2, 48)\n-# define GLIB_AVAILABLE_MACRO_IN_2_48           GLIB_UNAVAILABLE_MACRO(2, 48)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_48      GLIB_UNAVAILABLE_ENUMERATOR(2, 48)\n-# define GLIB_AVAILABLE_TYPE_IN_2_48            GLIB_UNAVAILABLE_TYPE(2, 48)\n-#else\n-# define GLIB_AVAILABLE_IN_2_48                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_48\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_48\n-# define GLIB_AVAILABLE_TYPE_IN_2_48\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_50\n-# define GLIB_DEPRECATED_IN_2_50                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_50_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_50          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_50_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_50          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_50           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_50_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_50                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_50_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_50\n-# define GLIB_DEPRECATED_MACRO_IN_2_50_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_50\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_50\n-# define GLIB_DEPRECATED_TYPE_IN_2_50_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_50\n-# define GLIB_AVAILABLE_IN_2_50                 GLIB_UNAVAILABLE(2, 50)\n-# define GLIB_AVAILABLE_MACRO_IN_2_50           GLIB_UNAVAILABLE_MACRO(2, 50)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_50      GLIB_UNAVAILABLE_ENUMERATOR(2, 50)\n-# define GLIB_AVAILABLE_TYPE_IN_2_50            GLIB_UNAVAILABLE_TYPE(2, 50)\n-#else\n-# define GLIB_AVAILABLE_IN_2_50                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_50\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_50\n-# define GLIB_AVAILABLE_TYPE_IN_2_50\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_52\n-# define GLIB_DEPRECATED_IN_2_52                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_52_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_52          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_52_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_52          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_52           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_52_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_52                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_52_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_52\n-# define GLIB_DEPRECATED_MACRO_IN_2_52_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_52\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_52\n-# define GLIB_DEPRECATED_TYPE_IN_2_52_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_52\n-# define GLIB_AVAILABLE_IN_2_52                 GLIB_UNAVAILABLE(2, 52)\n-# define GLIB_AVAILABLE_MACRO_IN_2_52           GLIB_UNAVAILABLE_MACRO(2, 52)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_52      GLIB_UNAVAILABLE_ENUMERATOR(2, 52)\n-# define GLIB_AVAILABLE_TYPE_IN_2_52            GLIB_UNAVAILABLE_TYPE(2, 52)\n-#else\n-# define GLIB_AVAILABLE_IN_2_52                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_52\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_52\n-# define GLIB_AVAILABLE_TYPE_IN_2_52\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_54\n-# define GLIB_DEPRECATED_IN_2_54                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_54_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_54          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_54_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_54          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_54           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_54_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_54                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_54_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_54\n-# define GLIB_DEPRECATED_MACRO_IN_2_54_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_54\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_54\n-# define GLIB_DEPRECATED_TYPE_IN_2_54_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_54\n-# define GLIB_AVAILABLE_IN_2_54                 GLIB_UNAVAILABLE(2, 54)\n-# define GLIB_AVAILABLE_MACRO_IN_2_54           GLIB_UNAVAILABLE_MACRO(2, 54)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_54      GLIB_UNAVAILABLE_ENUMERATOR(2, 54)\n-# define GLIB_AVAILABLE_TYPE_IN_2_54            GLIB_UNAVAILABLE_TYPE(2, 54)\n-#else\n-# define GLIB_AVAILABLE_IN_2_54                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_54\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_54\n-# define GLIB_AVAILABLE_TYPE_IN_2_54\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_56\n-# define GLIB_DEPRECATED_IN_2_56                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_56_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_56          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_56_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_56          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_56           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_56_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_56                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_56_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_56\n-# define GLIB_DEPRECATED_MACRO_IN_2_56_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_56\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_56\n-# define GLIB_DEPRECATED_TYPE_IN_2_56_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_56\n-# define GLIB_AVAILABLE_IN_2_56                 GLIB_UNAVAILABLE(2, 56)\n-# define GLIB_AVAILABLE_MACRO_IN_2_56           GLIB_UNAVAILABLE_MACRO(2, 56)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_56      GLIB_UNAVAILABLE_ENUMERATOR(2, 56)\n-# define GLIB_AVAILABLE_TYPE_IN_2_56            GLIB_UNAVAILABLE_TYPE(2, 56)\n-#else\n-# define GLIB_AVAILABLE_IN_2_56                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_56\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_56\n-# define GLIB_AVAILABLE_TYPE_IN_2_56\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_58\n-# define GLIB_DEPRECATED_IN_2_58                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_58_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_58          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_58_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_58          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_58           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_58_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_58                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_58_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_58\n-# define GLIB_DEPRECATED_MACRO_IN_2_58_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_58\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_58\n-# define GLIB_DEPRECATED_TYPE_IN_2_58_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_58\n-# define GLIB_AVAILABLE_IN_2_58                 GLIB_UNAVAILABLE(2, 58)\n-# define GLIB_AVAILABLE_MACRO_IN_2_58           GLIB_UNAVAILABLE_MACRO(2, 58)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_58      GLIB_UNAVAILABLE_ENUMERATOR(2, 58)\n-# define GLIB_AVAILABLE_TYPE_IN_2_58            GLIB_UNAVAILABLE_TYPE(2, 58)\n-#else\n-# define GLIB_AVAILABLE_IN_2_58                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_MACRO_IN_2_58\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_58\n-# define GLIB_AVAILABLE_TYPE_IN_2_58\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_60\n-# define GLIB_DEPRECATED_IN_2_60                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_60_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_60          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_60_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_60          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_60           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_60_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_60                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_60_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_60\n-# define GLIB_DEPRECATED_MACRO_IN_2_60_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_60\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_60\n-# define GLIB_DEPRECATED_TYPE_IN_2_60_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_60\n-# define GLIB_AVAILABLE_IN_2_60                 GLIB_UNAVAILABLE(2, 60)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_60   GLIB_UNAVAILABLE_STATIC_INLINE(2, 60)\n-# define GLIB_AVAILABLE_MACRO_IN_2_60           GLIB_UNAVAILABLE_MACRO(2, 60)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_60      GLIB_UNAVAILABLE_ENUMERATOR(2, 60)\n-# define GLIB_AVAILABLE_TYPE_IN_2_60            GLIB_UNAVAILABLE_TYPE(2, 60)\n-#else\n-# define GLIB_AVAILABLE_IN_2_60                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_60\n-# define GLIB_AVAILABLE_MACRO_IN_2_60\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_60\n-# define GLIB_AVAILABLE_TYPE_IN_2_60\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_62\n-# define GLIB_DEPRECATED_IN_2_62                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_62_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_62          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_62_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_62          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_62           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_62_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_62                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_62_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_62\n-# define GLIB_DEPRECATED_MACRO_IN_2_62_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_62\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_62\n-# define GLIB_DEPRECATED_TYPE_IN_2_62_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_62\n-# define GLIB_AVAILABLE_IN_2_62                 GLIB_UNAVAILABLE(2, 62)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_62   GLIB_UNAVAILABLE_STATIC_INLINE(2, 62)\n-# define GLIB_AVAILABLE_MACRO_IN_2_62           GLIB_UNAVAILABLE_MACRO(2, 62)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_62      GLIB_UNAVAILABLE_ENUMERATOR(2, 62)\n-# define GLIB_AVAILABLE_TYPE_IN_2_62            GLIB_UNAVAILABLE_TYPE(2, 62)\n-#else\n-# define GLIB_AVAILABLE_IN_2_62                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_62\n-# define GLIB_AVAILABLE_MACRO_IN_2_62\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_62\n-# define GLIB_AVAILABLE_TYPE_IN_2_62\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_64\n-# define GLIB_DEPRECATED_IN_2_64                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_64_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_64          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_64_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_64          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_64           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_64_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_64                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_64_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_64\n-# define GLIB_DEPRECATED_MACRO_IN_2_64_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_64\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_64\n-# define GLIB_DEPRECATED_TYPE_IN_2_64_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_64\n-# define GLIB_AVAILABLE_IN_2_64                 GLIB_UNAVAILABLE(2, 64)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_64   GLIB_UNAVAILABLE_STATIC_INLINE(2, 64)\n-# define GLIB_AVAILABLE_MACRO_IN_2_64           GLIB_UNAVAILABLE_MACRO(2, 64)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_64      GLIB_UNAVAILABLE_ENUMERATOR(2, 64)\n-# define GLIB_AVAILABLE_TYPE_IN_2_64            GLIB_UNAVAILABLE_TYPE(2, 64)\n-#else\n-# define GLIB_AVAILABLE_IN_2_64                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_64\n-# define GLIB_AVAILABLE_MACRO_IN_2_64\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_64\n-# define GLIB_AVAILABLE_TYPE_IN_2_64\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_66\n-# define GLIB_DEPRECATED_IN_2_66                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_66_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_66          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_66_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_66          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_66           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_66_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_66                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_66_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_66\n-# define GLIB_DEPRECATED_MACRO_IN_2_66_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_66\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_66\n-# define GLIB_DEPRECATED_TYPE_IN_2_66_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_66\n-# define GLIB_AVAILABLE_IN_2_66                 GLIB_UNAVAILABLE(2, 66)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_66   GLIB_UNAVAILABLE_STATIC_INLINE(2, 66)\n-# define GLIB_AVAILABLE_MACRO_IN_2_66           GLIB_UNAVAILABLE_MACRO(2, 66)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_66      GLIB_UNAVAILABLE_ENUMERATOR(2, 66)\n-# define GLIB_AVAILABLE_TYPE_IN_2_66            GLIB_UNAVAILABLE_TYPE(2, 66)\n-#else\n-# define GLIB_AVAILABLE_IN_2_66                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_66\n-# define GLIB_AVAILABLE_MACRO_IN_2_66\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_66\n-# define GLIB_AVAILABLE_TYPE_IN_2_66\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n-# define GLIB_DEPRECATED_IN_2_68                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_68_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_68          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_68_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_68           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_68_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_68                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_68_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_68\n-# define GLIB_DEPRECATED_MACRO_IN_2_68_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_68\n-# define GLIB_DEPRECATED_TYPE_IN_2_68_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_68\n-# define GLIB_AVAILABLE_IN_2_68                 GLIB_UNAVAILABLE(2, 68)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_68   GLIB_UNAVAILABLE_STATIC_INLINE(2, 68)\n-# define GLIB_AVAILABLE_MACRO_IN_2_68           GLIB_UNAVAILABLE_MACRO(2, 68)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_68      GLIB_UNAVAILABLE_ENUMERATOR(2, 68)\n-# define GLIB_AVAILABLE_TYPE_IN_2_68            GLIB_UNAVAILABLE_TYPE(2, 68)\n-#else\n-# define GLIB_AVAILABLE_IN_2_68                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_68\n-# define GLIB_AVAILABLE_MACRO_IN_2_68\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_68\n-# define GLIB_AVAILABLE_TYPE_IN_2_68\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_70\n-# define GLIB_DEPRECATED_IN_2_70                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_70_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_70          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_70_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_70           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_70_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_70                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_70_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_70\n-# define GLIB_DEPRECATED_MACRO_IN_2_70_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_70\n-# define GLIB_DEPRECATED_TYPE_IN_2_70_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_70\n-# define GLIB_AVAILABLE_IN_2_70                 GLIB_UNAVAILABLE(2, 70)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_70   GLIB_UNAVAILABLE_STATIC_INLINE(2, 70)\n-# define GLIB_AVAILABLE_MACRO_IN_2_70           GLIB_UNAVAILABLE_MACRO(2, 70)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_70      GLIB_UNAVAILABLE_ENUMERATOR(2, 70)\n-# define GLIB_AVAILABLE_TYPE_IN_2_70            GLIB_UNAVAILABLE_TYPE(2, 70)\n-#else\n-# define GLIB_AVAILABLE_IN_2_70                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_70\n-# define GLIB_AVAILABLE_MACRO_IN_2_70\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_70\n-# define GLIB_AVAILABLE_TYPE_IN_2_70\n-#endif\n-\n-#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_72\n-# define GLIB_DEPRECATED_IN_2_72                GLIB_DEPRECATED\n-# define GLIB_DEPRECATED_IN_2_72_FOR(f)         GLIB_DEPRECATED_FOR(f)\n-# define GLIB_DEPRECATED_MACRO_IN_2_72          GLIB_DEPRECATED_MACRO\n-# define GLIB_DEPRECATED_MACRO_IN_2_72_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72          GLIB_DEPRECATED_ENUMERATOR\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_72           GLIB_DEPRECATED_TYPE\n-# define GLIB_DEPRECATED_TYPE_IN_2_72_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n-#else\n-# define GLIB_DEPRECATED_IN_2_72                _GLIB_EXTERN\n-# define GLIB_DEPRECATED_IN_2_72_FOR(f)         _GLIB_EXTERN\n-# define GLIB_DEPRECATED_MACRO_IN_2_72\n-# define GLIB_DEPRECATED_MACRO_IN_2_72_FOR(f)\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72\n-# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)\n-# define GLIB_DEPRECATED_TYPE_IN_2_72\n-# define GLIB_DEPRECATED_TYPE_IN_2_72_FOR(f)\n-#endif\n-\n-#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_72\n-# define GLIB_AVAILABLE_IN_2_72                 GLIB_UNAVAILABLE(2, 72)\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_72   GLIB_UNAVAILABLE_STATIC_INLINE(2, 72)\n-# define GLIB_AVAILABLE_MACRO_IN_2_72           GLIB_UNAVAILABLE_MACRO(2, 72)\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_72      GLIB_UNAVAILABLE_ENUMERATOR(2, 72)\n-# define GLIB_AVAILABLE_TYPE_IN_2_72            GLIB_UNAVAILABLE_TYPE(2, 72)\n-#else\n-# define GLIB_AVAILABLE_IN_2_72                 _GLIB_EXTERN\n-# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_72\n-# define GLIB_AVAILABLE_MACRO_IN_2_72\n-# define GLIB_AVAILABLE_ENUMERATOR_IN_2_72\n-# define GLIB_AVAILABLE_TYPE_IN_2_72\n-#endif\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gversionmacros.h","additions":317,"deletions":994,"binary":false,"changes":1311,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -22,0 +24,1 @@\n+#include <stdint.h>\n@@ -160,1 +163,1 @@\n-  if (!g_unix_open_pipe (wakeup->fds, FD_CLOEXEC, &error))\n+  if (!g_unix_open_pipe (wakeup->fds, O_CLOEXEC | O_NONBLOCK, &error))\n@@ -207,1 +210,1 @@\n-  char buffer[16];\n+  int res;\n@@ -209,2 +212,18 @@\n-  \/* read until it is empty *\/\n-  while (read (wakeup->fds[0], buffer, sizeof buffer) == sizeof buffer);\n+  if (wakeup->fds[1] == -1)\n+    {\n+      uint64_t value;\n+\n+      \/* eventfd() read resets counter *\/\n+      do\n+        res = read (wakeup->fds[0], &value, sizeof (value));\n+      while (G_UNLIKELY (res == -1 && errno == EINTR));\n+    }\n+  else\n+    {\n+      uint8_t value;\n+\n+      \/* read until it is empty *\/\n+      do\n+        res = read (wakeup->fds[0], &value, sizeof (value));\n+      while (res == sizeof (value) || G_UNLIKELY (res == -1 && errno == EINTR));\n+    }\n@@ -234,1 +253,1 @@\n-      guint64 one = 1;\n+      uint64_t one = 1;\n@@ -244,1 +263,1 @@\n-      guint8 one = 1;\n+      uint8_t one = 1;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwakeup.c","additions":25,"deletions":6,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwakeup.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwin32-private.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -34,0 +36,1 @@\n+#include <glib\/gstdio.h>\n@@ -42,0 +45,1 @@\n+#include <winsock2.h>\n@@ -122,2 +126,2 @@\n-   * variables, as on POSIX systems. Note that in GTK+ applications\n-   * since GTK+ 2.10.7 setting either LC_ALL or LANG also sets the\n+   * variables, as on POSIX systems. Note that in GTK applications\n+   * since GTK 2.10.7 setting either LC_ALL or LANG also sets the\n@@ -577,1 +581,3 @@\n-  g_return_val_if_fail (_g_win32_call_rtl_version (&osverinfo), FALSE);\n+\n+  if (!_g_win32_call_rtl_version (&osverinfo))\n+    return FALSE;\n@@ -808,2 +814,0 @@\n-#ifdef G_OS_WIN32\n-\n@@ -840,4 +844,0 @@\n-#endif\n-\n-#ifdef G_OS_WIN32\n-\n@@ -1460,1 +1460,109 @@\n-#endif\n+\/*\n+ * g_win32_handle_is_socket:\n+ * @h: a win32 HANDLE\n+ *\n+ * Returns: %TRUE if the handle is a `SOCKET`.\n+ *\/\n+gboolean\n+g_win32_handle_is_socket (HANDLE h)\n+{\n+  int option = 0;\n+  int optlen = sizeof (option);\n+\n+  \/* according to: https:\/\/stackoverflow.com\/a\/50981652\/1277510, this is reasonable *\/\n+  if (getsockopt ((SOCKET) h, SOL_SOCKET, SO_DEBUG, (char *) &option, &optlen) == SOCKET_ERROR)\n+    return FALSE;\n+\n+  return TRUE;\n+}\n+\n+\/*\n+ * g_win32_reopen_noninherited:\n+ * @fd: (transfer full): A file descriptor\n+ * @mode: _open_osfhandle flags\n+ * @error: A location to return an error of type %G_FILE_ERROR\n+ *\n+ * Reopen the given @fd with `_O_NOINHERIT`.\n+ *\n+ * The @fd is closed on success.\n+ *\n+ * Returns: (transfer full): The new file-descriptor, or -1 on error.\n+ *\/\n+int\n+g_win32_reopen_noninherited (int fd,\n+                             int mode,\n+                             GError **error)\n+{\n+  HANDLE h;\n+  HANDLE duph;\n+  int dupfd, errsv;\n+\n+  h = (HANDLE) _get_osfhandle (fd);\n+  errsv = errno;\n+\n+  if (h == INVALID_HANDLE_VALUE)\n+    {\n+      const char *emsg = g_strerror (errsv);\n+      g_set_error (error, G_FILE_ERROR, g_file_error_from_errno (errsv),\n+                   \"_get_osfhandle() failed: %s\", emsg);\n+      return -1;\n+    }\n+\n+  if (g_win32_handle_is_socket (h))\n+    {\n+      WSAPROTOCOL_INFO info;\n+\n+      if (WSADuplicateSocket ((SOCKET) h,\n+                              GetCurrentProcessId (),\n+                              &info))\n+        {\n+          gchar *emsg = g_win32_error_message (WSAGetLastError ());\n+          g_set_error (error, G_FILE_ERROR, G_FILE_ERROR_FAILED,\n+                       \"WSADuplicateSocket() failed: %s\", emsg);\n+          g_free (emsg);\n+          return -1;\n+        }\n+\n+      duph = (HANDLE) WSASocket (FROM_PROTOCOL_INFO,\n+                                 FROM_PROTOCOL_INFO,\n+                                 FROM_PROTOCOL_INFO,\n+                                 &info, 0, 0);\n+      if (duph == (HANDLE) INVALID_SOCKET)\n+        {\n+          gchar *emsg = g_win32_error_message (WSAGetLastError ());\n+          g_set_error (error, G_FILE_ERROR, G_FILE_ERROR_FAILED,\n+                       \"WSASocket() failed: %s\", emsg);\n+          g_free (emsg);\n+          return -1;\n+        }\n+    }\n+  else if (DuplicateHandle (GetCurrentProcess (), h,\n+                            GetCurrentProcess (), &duph,\n+                            0, FALSE, DUPLICATE_SAME_ACCESS) == 0)\n+    {\n+      char *emsg = g_win32_error_message (GetLastError ());\n+      g_set_error (error, G_FILE_ERROR, G_FILE_ERROR_FAILED,\n+                   \"DuplicateHandle() failed: %s\", emsg);\n+      g_free (emsg);\n+      return -1;\n+    }\n+\n+  \/* the duph ownership is transferred to dupfd *\/\n+  dupfd = _open_osfhandle ((gintptr) duph, mode | _O_NOINHERIT);\n+  if (dupfd < 0)\n+    {\n+      g_set_error_literal (error, G_FILE_ERROR, G_FILE_ERROR_FAILED,\n+                           \"_open_osfhandle() failed\");\n+      CloseHandle (duph);\n+      return -1;\n+    }\n+\n+  if (!g_close (fd, error))\n+    {\n+      \/* ignore extra errors in this case *\/\n+      g_close (dupfd, NULL);\n+      return -1;\n+    }\n+\n+  return dupfd;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwin32.c","additions":118,"deletions":10,"binary":false,"changes":128,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwin32.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1090,1 +1090,1 @@\n- * MB_ERR_INVALID_CHARS.  The docs in Platform SDK for for Windows\n+ * MB_ERR_INVALID_CHARS.  The docs in Platform SDK for Windows\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/win_iconv.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,32 @@\n+#include \"config.h\"\n+\n+\/*\n+ * This is the only way to disable deprecation warnings for macros, and we need\n+ * to continue using G_MODULE_SUFFIX in the implementation of\n+ * g_module_build_path() which is also deprecated API.\n+ *\/\n+#ifndef GLIB_DISABLE_DEPRECATION_WARNINGS\n+#define GLIB_DISABLE_DEPRECATION_WARNINGS\n+#endif\n+\n+#include <glib.h>\n+\n+#if (G_MODULE_IMPL == G_MODULE_IMPL_AR) || (G_MODULE_IMPL == G_MODULE_IMPL_DL)\n+G_GNUC_INTERNAL gchar*    _g_module_build_path (const gchar *directory,\n+                                                const gchar *module_name);\n+\n+gchar*\n+_g_module_build_path (const gchar *directory,\n+          const gchar *module_name)\n+{\n+  if (directory && *directory) {\n+    if (strncmp (module_name, \"lib\", 3) == 0)\n+      return g_strconcat (directory, \"\/\", module_name, NULL);\n+    else\n+      return g_strconcat (directory, \"\/lib\", module_name, \".\" G_MODULE_SUFFIX, NULL);\n+  } else if (strncmp (module_name, \"lib\", 3) == 0)\n+    return g_strdup (module_name);\n+  else\n+    return g_strconcat (\"lib\", module_name, \".\" G_MODULE_SUFFIX, NULL);\n+}\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule-deprecated.c","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -3,0 +3,2 @@\n+*\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n@@ -168,1 +170,1 @@\n-#if defined(__BIONIC__)\n+#if defined(__BIONIC__) || defined(__NetBSD__)\n@@ -183,1 +185,1 @@\n-#if defined(__BIONIC__)\n+#if defined(__BIONIC__) || defined(__NetBSD__)\n@@ -211,15 +213,0 @@\n-\n-static gchar*\n-_g_module_build_path (const gchar *directory,\n-          const gchar *module_name)\n-{\n-  if (directory && *directory) {\n-    if (strncmp (module_name, \"lib\", 3) == 0)\n-      return g_strconcat (directory, \"\/\", module_name, NULL);\n-    else\n-      return g_strconcat (directory, \"\/lib\", module_name, \".\" G_MODULE_SUFFIX, NULL);\n-  } else if (strncmp (module_name, \"lib\", 3) == 0)\n-    return g_strdup (module_name);\n-  else\n-    return g_strconcat (\"lib\", module_name, \".\" G_MODULE_SUFFIX, NULL);\n-}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule-dl.c","additions":4,"deletions":17,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -0,0 +1,952 @@\n+#pragma once\n+\n+#if (defined(_WIN32) || defined(__CYGWIN__)) && !defined(GMODULE_STATIC_COMPILATION)\n+#  define _GMODULE_EXPORT __declspec(dllexport)\n+#  define _GMODULE_IMPORT __declspec(dllimport)\n+#elif __GNUC__ >= 4\n+#  define _GMODULE_EXPORT __attribute__((visibility(\"default\")))\n+#  define _GMODULE_IMPORT\n+#else\n+#  define _GMODULE_EXPORT\n+#  define _GMODULE_IMPORT\n+#endif\n+#ifdef GMODULE_COMPILATION\n+#  define _GMODULE_API _GMODULE_EXPORT\n+#else\n+#  define _GMODULE_API _GMODULE_IMPORT\n+#endif\n+\n+#define _GMODULE_EXTERN _GMODULE_API extern\n+\n+#define GMODULE_VAR _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_IN_ALL _GMODULE_EXTERN\n+\n+#ifdef GLIB_DISABLE_DEPRECATION_WARNINGS\n+#define GMODULE_DEPRECATED _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_UNAVAILABLE(maj,min) _GMODULE_EXTERN\n+#define GMODULE_UNAVAILABLE_STATIC_INLINE(maj,min)\n+#else\n+#define GMODULE_DEPRECATED G_DEPRECATED _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_FOR(f) G_DEPRECATED_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_UNAVAILABLE(maj,min) G_UNAVAILABLE(maj,min) _GMODULE_EXTERN\n+#define GMODULE_UNAVAILABLE_STATIC_INLINE(maj,min) G_UNAVAILABLE(maj,min)\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_26\n+#define GMODULE_DEPRECATED_IN_2_26 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_26_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_26 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_26_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_26 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_26 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_26_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_26 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_26_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_26\n+#define GMODULE_DEPRECATED_MACRO_IN_2_26_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_26\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_26\n+#define GMODULE_DEPRECATED_TYPE_IN_2_26_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_26\n+#define GMODULE_AVAILABLE_IN_2_26 GMODULE_UNAVAILABLE (2, 26)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_26 GLIB_UNAVAILABLE_STATIC_INLINE (2, 26)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_26 GLIB_UNAVAILABLE_MACRO (2, 26)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_26 GLIB_UNAVAILABLE_ENUMERATOR (2, 26)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_26 GLIB_UNAVAILABLE_TYPE (2, 26)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_26 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_26\n+#define GMODULE_AVAILABLE_MACRO_IN_2_26\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_26\n+#define GMODULE_AVAILABLE_TYPE_IN_2_26\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_28\n+#define GMODULE_DEPRECATED_IN_2_28 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_28_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_28 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_28_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_28 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_28 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_28_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_28 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_28_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_28\n+#define GMODULE_DEPRECATED_MACRO_IN_2_28_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_28\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_28\n+#define GMODULE_DEPRECATED_TYPE_IN_2_28_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_28\n+#define GMODULE_AVAILABLE_IN_2_28 GMODULE_UNAVAILABLE (2, 28)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_28 GLIB_UNAVAILABLE_STATIC_INLINE (2, 28)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_28 GLIB_UNAVAILABLE_MACRO (2, 28)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_28 GLIB_UNAVAILABLE_ENUMERATOR (2, 28)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_28 GLIB_UNAVAILABLE_TYPE (2, 28)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_28 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_28\n+#define GMODULE_AVAILABLE_MACRO_IN_2_28\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_28\n+#define GMODULE_AVAILABLE_TYPE_IN_2_28\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_30\n+#define GMODULE_DEPRECATED_IN_2_30 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_30_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_30 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_30_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_30 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_30 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_30_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_30 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_30_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_30\n+#define GMODULE_DEPRECATED_MACRO_IN_2_30_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_30\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_30\n+#define GMODULE_DEPRECATED_TYPE_IN_2_30_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_30\n+#define GMODULE_AVAILABLE_IN_2_30 GMODULE_UNAVAILABLE (2, 30)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_30 GLIB_UNAVAILABLE_STATIC_INLINE (2, 30)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_30 GLIB_UNAVAILABLE_MACRO (2, 30)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_30 GLIB_UNAVAILABLE_ENUMERATOR (2, 30)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_30 GLIB_UNAVAILABLE_TYPE (2, 30)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_30 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_30\n+#define GMODULE_AVAILABLE_MACRO_IN_2_30\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_30\n+#define GMODULE_AVAILABLE_TYPE_IN_2_30\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_32\n+#define GMODULE_DEPRECATED_IN_2_32 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_32_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_32 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_32_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_32 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_32 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_32_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_32 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_32_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_32\n+#define GMODULE_DEPRECATED_MACRO_IN_2_32_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_32\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_32\n+#define GMODULE_DEPRECATED_TYPE_IN_2_32_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_32\n+#define GMODULE_AVAILABLE_IN_2_32 GMODULE_UNAVAILABLE (2, 32)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_32 GLIB_UNAVAILABLE_STATIC_INLINE (2, 32)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_32 GLIB_UNAVAILABLE_MACRO (2, 32)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_32 GLIB_UNAVAILABLE_ENUMERATOR (2, 32)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_32 GLIB_UNAVAILABLE_TYPE (2, 32)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_32 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_32\n+#define GMODULE_AVAILABLE_MACRO_IN_2_32\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_32\n+#define GMODULE_AVAILABLE_TYPE_IN_2_32\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_34\n+#define GMODULE_DEPRECATED_IN_2_34 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_34_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_34 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_34_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_34 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_34 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_34_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_34 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_34_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_34\n+#define GMODULE_DEPRECATED_MACRO_IN_2_34_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_34\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_34\n+#define GMODULE_DEPRECATED_TYPE_IN_2_34_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_34\n+#define GMODULE_AVAILABLE_IN_2_34 GMODULE_UNAVAILABLE (2, 34)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_34 GLIB_UNAVAILABLE_STATIC_INLINE (2, 34)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_34 GLIB_UNAVAILABLE_MACRO (2, 34)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_34 GLIB_UNAVAILABLE_ENUMERATOR (2, 34)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_34 GLIB_UNAVAILABLE_TYPE (2, 34)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_34 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_34\n+#define GMODULE_AVAILABLE_MACRO_IN_2_34\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_34\n+#define GMODULE_AVAILABLE_TYPE_IN_2_34\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_36\n+#define GMODULE_DEPRECATED_IN_2_36 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_36_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_36 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_36_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_36 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_36 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_36_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_36 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_36_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_36\n+#define GMODULE_DEPRECATED_MACRO_IN_2_36_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_36\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_36\n+#define GMODULE_DEPRECATED_TYPE_IN_2_36_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_36\n+#define GMODULE_AVAILABLE_IN_2_36 GMODULE_UNAVAILABLE (2, 36)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_36 GLIB_UNAVAILABLE_STATIC_INLINE (2, 36)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_36 GLIB_UNAVAILABLE_MACRO (2, 36)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_36 GLIB_UNAVAILABLE_ENUMERATOR (2, 36)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_36 GLIB_UNAVAILABLE_TYPE (2, 36)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_36 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_36\n+#define GMODULE_AVAILABLE_MACRO_IN_2_36\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_36\n+#define GMODULE_AVAILABLE_TYPE_IN_2_36\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_38\n+#define GMODULE_DEPRECATED_IN_2_38 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_38_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_38 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_38_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_38 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_38 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_38_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_38 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_38_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_38\n+#define GMODULE_DEPRECATED_MACRO_IN_2_38_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_38\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_38\n+#define GMODULE_DEPRECATED_TYPE_IN_2_38_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_38\n+#define GMODULE_AVAILABLE_IN_2_38 GMODULE_UNAVAILABLE (2, 38)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_38 GLIB_UNAVAILABLE_STATIC_INLINE (2, 38)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_38 GLIB_UNAVAILABLE_MACRO (2, 38)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_38 GLIB_UNAVAILABLE_ENUMERATOR (2, 38)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_38 GLIB_UNAVAILABLE_TYPE (2, 38)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_38 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_38\n+#define GMODULE_AVAILABLE_MACRO_IN_2_38\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_38\n+#define GMODULE_AVAILABLE_TYPE_IN_2_38\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_40\n+#define GMODULE_DEPRECATED_IN_2_40 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_40_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_40 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_40_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_40 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_40 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_40_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_40 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_40_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_40\n+#define GMODULE_DEPRECATED_MACRO_IN_2_40_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_40\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_40\n+#define GMODULE_DEPRECATED_TYPE_IN_2_40_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_40\n+#define GMODULE_AVAILABLE_IN_2_40 GMODULE_UNAVAILABLE (2, 40)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_40 GLIB_UNAVAILABLE_STATIC_INLINE (2, 40)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_40 GLIB_UNAVAILABLE_MACRO (2, 40)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_40 GLIB_UNAVAILABLE_ENUMERATOR (2, 40)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_40 GLIB_UNAVAILABLE_TYPE (2, 40)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_40 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_40\n+#define GMODULE_AVAILABLE_MACRO_IN_2_40\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_40\n+#define GMODULE_AVAILABLE_TYPE_IN_2_40\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_42\n+#define GMODULE_DEPRECATED_IN_2_42 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_42_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_42 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_42_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_42 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_42 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_42_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_42 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_42_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_42\n+#define GMODULE_DEPRECATED_MACRO_IN_2_42_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_42\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_42\n+#define GMODULE_DEPRECATED_TYPE_IN_2_42_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_42\n+#define GMODULE_AVAILABLE_IN_2_42 GMODULE_UNAVAILABLE (2, 42)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_42 GLIB_UNAVAILABLE_STATIC_INLINE (2, 42)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_42 GLIB_UNAVAILABLE_MACRO (2, 42)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_42 GLIB_UNAVAILABLE_ENUMERATOR (2, 42)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_42 GLIB_UNAVAILABLE_TYPE (2, 42)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_42 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_42\n+#define GMODULE_AVAILABLE_MACRO_IN_2_42\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_42\n+#define GMODULE_AVAILABLE_TYPE_IN_2_42\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_44\n+#define GMODULE_DEPRECATED_IN_2_44 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_44_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_44 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_44_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_44 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_44 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_44_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_44 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_44_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_44\n+#define GMODULE_DEPRECATED_MACRO_IN_2_44_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_44\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_44\n+#define GMODULE_DEPRECATED_TYPE_IN_2_44_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_44\n+#define GMODULE_AVAILABLE_IN_2_44 GMODULE_UNAVAILABLE (2, 44)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_44 GLIB_UNAVAILABLE_STATIC_INLINE (2, 44)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_44 GLIB_UNAVAILABLE_MACRO (2, 44)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_44 GLIB_UNAVAILABLE_ENUMERATOR (2, 44)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_44 GLIB_UNAVAILABLE_TYPE (2, 44)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_44 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_44\n+#define GMODULE_AVAILABLE_MACRO_IN_2_44\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_44\n+#define GMODULE_AVAILABLE_TYPE_IN_2_44\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_46\n+#define GMODULE_DEPRECATED_IN_2_46 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_46_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_46 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_46_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_46 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_46 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_46_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_46 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_46_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_46\n+#define GMODULE_DEPRECATED_MACRO_IN_2_46_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_46\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_46\n+#define GMODULE_DEPRECATED_TYPE_IN_2_46_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_46\n+#define GMODULE_AVAILABLE_IN_2_46 GMODULE_UNAVAILABLE (2, 46)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_46 GLIB_UNAVAILABLE_STATIC_INLINE (2, 46)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_46 GLIB_UNAVAILABLE_MACRO (2, 46)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_46 GLIB_UNAVAILABLE_ENUMERATOR (2, 46)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_46 GLIB_UNAVAILABLE_TYPE (2, 46)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_46 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_46\n+#define GMODULE_AVAILABLE_MACRO_IN_2_46\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_46\n+#define GMODULE_AVAILABLE_TYPE_IN_2_46\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_48\n+#define GMODULE_DEPRECATED_IN_2_48 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_48_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_48 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_48_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_48 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_48 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_48_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_48 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_48_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_48\n+#define GMODULE_DEPRECATED_MACRO_IN_2_48_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_48\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_48\n+#define GMODULE_DEPRECATED_TYPE_IN_2_48_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_48\n+#define GMODULE_AVAILABLE_IN_2_48 GMODULE_UNAVAILABLE (2, 48)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_48 GLIB_UNAVAILABLE_STATIC_INLINE (2, 48)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_48 GLIB_UNAVAILABLE_MACRO (2, 48)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_48 GLIB_UNAVAILABLE_ENUMERATOR (2, 48)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_48 GLIB_UNAVAILABLE_TYPE (2, 48)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_48 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_48\n+#define GMODULE_AVAILABLE_MACRO_IN_2_48\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_48\n+#define GMODULE_AVAILABLE_TYPE_IN_2_48\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_50\n+#define GMODULE_DEPRECATED_IN_2_50 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_50_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_50 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_50_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_50 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_50 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_50_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_50 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_50_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_50\n+#define GMODULE_DEPRECATED_MACRO_IN_2_50_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_50\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_50\n+#define GMODULE_DEPRECATED_TYPE_IN_2_50_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_50\n+#define GMODULE_AVAILABLE_IN_2_50 GMODULE_UNAVAILABLE (2, 50)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_50 GLIB_UNAVAILABLE_STATIC_INLINE (2, 50)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_50 GLIB_UNAVAILABLE_MACRO (2, 50)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_50 GLIB_UNAVAILABLE_ENUMERATOR (2, 50)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_50 GLIB_UNAVAILABLE_TYPE (2, 50)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_50 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_50\n+#define GMODULE_AVAILABLE_MACRO_IN_2_50\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_50\n+#define GMODULE_AVAILABLE_TYPE_IN_2_50\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_52\n+#define GMODULE_DEPRECATED_IN_2_52 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_52_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_52 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_52_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_52 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_52 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_52_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_52 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_52_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_52\n+#define GMODULE_DEPRECATED_MACRO_IN_2_52_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_52\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_52\n+#define GMODULE_DEPRECATED_TYPE_IN_2_52_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_52\n+#define GMODULE_AVAILABLE_IN_2_52 GMODULE_UNAVAILABLE (2, 52)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_52 GLIB_UNAVAILABLE_STATIC_INLINE (2, 52)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_52 GLIB_UNAVAILABLE_MACRO (2, 52)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_52 GLIB_UNAVAILABLE_ENUMERATOR (2, 52)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_52 GLIB_UNAVAILABLE_TYPE (2, 52)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_52 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_52\n+#define GMODULE_AVAILABLE_MACRO_IN_2_52\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_52\n+#define GMODULE_AVAILABLE_TYPE_IN_2_52\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_54\n+#define GMODULE_DEPRECATED_IN_2_54 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_54_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_54 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_54_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_54 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_54 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_54_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_54 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_54_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_54\n+#define GMODULE_DEPRECATED_MACRO_IN_2_54_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_54\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_54\n+#define GMODULE_DEPRECATED_TYPE_IN_2_54_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_54\n+#define GMODULE_AVAILABLE_IN_2_54 GMODULE_UNAVAILABLE (2, 54)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_54 GLIB_UNAVAILABLE_STATIC_INLINE (2, 54)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_54 GLIB_UNAVAILABLE_MACRO (2, 54)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_54 GLIB_UNAVAILABLE_ENUMERATOR (2, 54)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_54 GLIB_UNAVAILABLE_TYPE (2, 54)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_54 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_54\n+#define GMODULE_AVAILABLE_MACRO_IN_2_54\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_54\n+#define GMODULE_AVAILABLE_TYPE_IN_2_54\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_56\n+#define GMODULE_DEPRECATED_IN_2_56 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_56_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_56 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_56_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_56 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_56 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_56_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_56 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_56_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_56\n+#define GMODULE_DEPRECATED_MACRO_IN_2_56_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_56\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_56\n+#define GMODULE_DEPRECATED_TYPE_IN_2_56_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_56\n+#define GMODULE_AVAILABLE_IN_2_56 GMODULE_UNAVAILABLE (2, 56)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_56 GLIB_UNAVAILABLE_STATIC_INLINE (2, 56)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_56 GLIB_UNAVAILABLE_MACRO (2, 56)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_56 GLIB_UNAVAILABLE_ENUMERATOR (2, 56)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_56 GLIB_UNAVAILABLE_TYPE (2, 56)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_56 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_56\n+#define GMODULE_AVAILABLE_MACRO_IN_2_56\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_56\n+#define GMODULE_AVAILABLE_TYPE_IN_2_56\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_58\n+#define GMODULE_DEPRECATED_IN_2_58 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_58_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_58 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_58_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_58 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_58 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_58_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_58 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_58_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_58\n+#define GMODULE_DEPRECATED_MACRO_IN_2_58_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_58\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_58\n+#define GMODULE_DEPRECATED_TYPE_IN_2_58_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_58\n+#define GMODULE_AVAILABLE_IN_2_58 GMODULE_UNAVAILABLE (2, 58)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_58 GLIB_UNAVAILABLE_STATIC_INLINE (2, 58)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_58 GLIB_UNAVAILABLE_MACRO (2, 58)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_58 GLIB_UNAVAILABLE_ENUMERATOR (2, 58)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_58 GLIB_UNAVAILABLE_TYPE (2, 58)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_58 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_58\n+#define GMODULE_AVAILABLE_MACRO_IN_2_58\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_58\n+#define GMODULE_AVAILABLE_TYPE_IN_2_58\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_60\n+#define GMODULE_DEPRECATED_IN_2_60 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_60_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_60 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_60_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_60 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_60 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_60_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_60 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_60_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_60\n+#define GMODULE_DEPRECATED_MACRO_IN_2_60_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_60\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_60\n+#define GMODULE_DEPRECATED_TYPE_IN_2_60_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_60\n+#define GMODULE_AVAILABLE_IN_2_60 GMODULE_UNAVAILABLE (2, 60)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_60 GLIB_UNAVAILABLE_STATIC_INLINE (2, 60)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_60 GLIB_UNAVAILABLE_MACRO (2, 60)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_60 GLIB_UNAVAILABLE_ENUMERATOR (2, 60)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_60 GLIB_UNAVAILABLE_TYPE (2, 60)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_60 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_60\n+#define GMODULE_AVAILABLE_MACRO_IN_2_60\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_60\n+#define GMODULE_AVAILABLE_TYPE_IN_2_60\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_62\n+#define GMODULE_DEPRECATED_IN_2_62 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_62_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_62 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_62_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_62 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_62 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_62_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_62 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_62_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_62\n+#define GMODULE_DEPRECATED_MACRO_IN_2_62_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_62\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_62\n+#define GMODULE_DEPRECATED_TYPE_IN_2_62_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_62\n+#define GMODULE_AVAILABLE_IN_2_62 GMODULE_UNAVAILABLE (2, 62)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_62 GLIB_UNAVAILABLE_STATIC_INLINE (2, 62)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_62 GLIB_UNAVAILABLE_MACRO (2, 62)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_62 GLIB_UNAVAILABLE_ENUMERATOR (2, 62)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_62 GLIB_UNAVAILABLE_TYPE (2, 62)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_62 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_62\n+#define GMODULE_AVAILABLE_MACRO_IN_2_62\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_62\n+#define GMODULE_AVAILABLE_TYPE_IN_2_62\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_64\n+#define GMODULE_DEPRECATED_IN_2_64 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_64_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_64 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_64_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_64 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_64 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_64_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_64 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_64_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_64\n+#define GMODULE_DEPRECATED_MACRO_IN_2_64_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_64\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_64\n+#define GMODULE_DEPRECATED_TYPE_IN_2_64_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_64\n+#define GMODULE_AVAILABLE_IN_2_64 GMODULE_UNAVAILABLE (2, 64)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_64 GLIB_UNAVAILABLE_STATIC_INLINE (2, 64)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_64 GLIB_UNAVAILABLE_MACRO (2, 64)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_64 GLIB_UNAVAILABLE_ENUMERATOR (2, 64)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_64 GLIB_UNAVAILABLE_TYPE (2, 64)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_64 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_64\n+#define GMODULE_AVAILABLE_MACRO_IN_2_64\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_64\n+#define GMODULE_AVAILABLE_TYPE_IN_2_64\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_66\n+#define GMODULE_DEPRECATED_IN_2_66 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_66_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_66 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_66_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_66 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_66 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_66_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_66 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_66_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_66\n+#define GMODULE_DEPRECATED_MACRO_IN_2_66_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_66\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_66\n+#define GMODULE_DEPRECATED_TYPE_IN_2_66_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_66\n+#define GMODULE_AVAILABLE_IN_2_66 GMODULE_UNAVAILABLE (2, 66)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_66 GLIB_UNAVAILABLE_STATIC_INLINE (2, 66)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_66 GLIB_UNAVAILABLE_MACRO (2, 66)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_66 GLIB_UNAVAILABLE_ENUMERATOR (2, 66)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_66 GLIB_UNAVAILABLE_TYPE (2, 66)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_66 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_66\n+#define GMODULE_AVAILABLE_MACRO_IN_2_66\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_66\n+#define GMODULE_AVAILABLE_TYPE_IN_2_66\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n+#define GMODULE_DEPRECATED_IN_2_68 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_68_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_68 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_68_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_68 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_68 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_68_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_68 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_68_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_68\n+#define GMODULE_DEPRECATED_MACRO_IN_2_68_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_68\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_68\n+#define GMODULE_DEPRECATED_TYPE_IN_2_68_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_68\n+#define GMODULE_AVAILABLE_IN_2_68 GMODULE_UNAVAILABLE (2, 68)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_68 GLIB_UNAVAILABLE_STATIC_INLINE (2, 68)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_68 GLIB_UNAVAILABLE_MACRO (2, 68)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_68 GLIB_UNAVAILABLE_ENUMERATOR (2, 68)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_68 GLIB_UNAVAILABLE_TYPE (2, 68)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_68 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_68\n+#define GMODULE_AVAILABLE_MACRO_IN_2_68\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_68\n+#define GMODULE_AVAILABLE_TYPE_IN_2_68\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_70\n+#define GMODULE_DEPRECATED_IN_2_70 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_70_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_70 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_70_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_70 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_70 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_70_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_70 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_70_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_70\n+#define GMODULE_DEPRECATED_MACRO_IN_2_70_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_70\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_70\n+#define GMODULE_DEPRECATED_TYPE_IN_2_70_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_70\n+#define GMODULE_AVAILABLE_IN_2_70 GMODULE_UNAVAILABLE (2, 70)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_70 GLIB_UNAVAILABLE_STATIC_INLINE (2, 70)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_70 GLIB_UNAVAILABLE_MACRO (2, 70)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_70 GLIB_UNAVAILABLE_ENUMERATOR (2, 70)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_70 GLIB_UNAVAILABLE_TYPE (2, 70)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_70 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_70\n+#define GMODULE_AVAILABLE_MACRO_IN_2_70\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_70\n+#define GMODULE_AVAILABLE_TYPE_IN_2_70\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_72\n+#define GMODULE_DEPRECATED_IN_2_72 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_72_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_72 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_72_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_72 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_72 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_72_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_72 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_72_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_72\n+#define GMODULE_DEPRECATED_MACRO_IN_2_72_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_72\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_72\n+#define GMODULE_DEPRECATED_TYPE_IN_2_72_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_72\n+#define GMODULE_AVAILABLE_IN_2_72 GMODULE_UNAVAILABLE (2, 72)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_72 GLIB_UNAVAILABLE_STATIC_INLINE (2, 72)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_72 GLIB_UNAVAILABLE_MACRO (2, 72)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_72 GLIB_UNAVAILABLE_ENUMERATOR (2, 72)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_72 GLIB_UNAVAILABLE_TYPE (2, 72)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_72 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_72\n+#define GMODULE_AVAILABLE_MACRO_IN_2_72\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_72\n+#define GMODULE_AVAILABLE_TYPE_IN_2_72\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_74\n+#define GMODULE_DEPRECATED_IN_2_74 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_74_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_74 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_74_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_74 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_74_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_74 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_74_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_74 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_74_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_74\n+#define GMODULE_DEPRECATED_MACRO_IN_2_74_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_74\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_74_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_74\n+#define GMODULE_DEPRECATED_TYPE_IN_2_74_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_74\n+#define GMODULE_AVAILABLE_IN_2_74 GMODULE_UNAVAILABLE (2, 74)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_74 GLIB_UNAVAILABLE_STATIC_INLINE (2, 74)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_74 GLIB_UNAVAILABLE_MACRO (2, 74)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_74 GLIB_UNAVAILABLE_ENUMERATOR (2, 74)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_74 GLIB_UNAVAILABLE_TYPE (2, 74)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_74 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_74\n+#define GMODULE_AVAILABLE_MACRO_IN_2_74\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_74\n+#define GMODULE_AVAILABLE_TYPE_IN_2_74\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_76\n+#define GMODULE_DEPRECATED_IN_2_76 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_76_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_76 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_76_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_76 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_76_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_76 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_76_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_76 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_76_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_76\n+#define GMODULE_DEPRECATED_MACRO_IN_2_76_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_76\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_76_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_76\n+#define GMODULE_DEPRECATED_TYPE_IN_2_76_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_76\n+#define GMODULE_AVAILABLE_IN_2_76 GMODULE_UNAVAILABLE (2, 76)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_76 GLIB_UNAVAILABLE_STATIC_INLINE (2, 76)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_76 GLIB_UNAVAILABLE_MACRO (2, 76)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_76 GLIB_UNAVAILABLE_ENUMERATOR (2, 76)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_76 GLIB_UNAVAILABLE_TYPE (2, 76)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_76 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_76\n+#define GMODULE_AVAILABLE_MACRO_IN_2_76\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_76\n+#define GMODULE_AVAILABLE_TYPE_IN_2_76\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78\n+#define GMODULE_DEPRECATED_IN_2_78 GMODULE_DEPRECATED\n+#define GMODULE_DEPRECATED_IN_2_78_FOR(f) GMODULE_DEPRECATED_FOR (f)\n+#define GMODULE_DEPRECATED_MACRO_IN_2_78 GLIB_DEPRECATED_MACRO\n+#define GMODULE_DEPRECATED_MACRO_IN_2_78_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_78 GLIB_DEPRECATED_ENUMERATOR\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_78_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_78 GLIB_DEPRECATED_TYPE\n+#define GMODULE_DEPRECATED_TYPE_IN_2_78_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GMODULE_DEPRECATED_IN_2_78 _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_IN_2_78_FOR(f) _GMODULE_EXTERN\n+#define GMODULE_DEPRECATED_MACRO_IN_2_78\n+#define GMODULE_DEPRECATED_MACRO_IN_2_78_FOR(f)\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_78\n+#define GMODULE_DEPRECATED_ENUMERATOR_IN_2_78_FOR(f)\n+#define GMODULE_DEPRECATED_TYPE_IN_2_78\n+#define GMODULE_DEPRECATED_TYPE_IN_2_78_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_78\n+#define GMODULE_AVAILABLE_IN_2_78 GMODULE_UNAVAILABLE (2, 78)\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_78 GLIB_UNAVAILABLE_STATIC_INLINE (2, 78)\n+#define GMODULE_AVAILABLE_MACRO_IN_2_78 GLIB_UNAVAILABLE_MACRO (2, 78)\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_78 GLIB_UNAVAILABLE_ENUMERATOR (2, 78)\n+#define GMODULE_AVAILABLE_TYPE_IN_2_78 GLIB_UNAVAILABLE_TYPE (2, 78)\n+#else\n+#define GMODULE_AVAILABLE_IN_2_78 _GMODULE_EXTERN\n+#define GMODULE_AVAILABLE_STATIC_INLINE_IN_2_78\n+#define GMODULE_AVAILABLE_MACRO_IN_2_78\n+#define GMODULE_AVAILABLE_ENUMERATOR_IN_2_78\n+#define GMODULE_AVAILABLE_TYPE_IN_2_78\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule-visibility.h","additions":952,"deletions":0,"binary":false,"changes":952,"status":"added"},{"patch":"@@ -6,0 +6,2 @@\n+*\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule-win32.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3,0 +3,2 @@\n+*\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n@@ -43,1 +45,5 @@\n-#include <io.h>         \/* For open() and close() prototypes. *\/\n+#include <io.h>    \/* For open() and close() prototypes. *\/\n+#endif\n+\n+#ifndef O_CLOEXEC\n+#define O_CLOEXEC 0\n@@ -162,3 +168,18 @@\n- * Expands to the proper shared library suffix for the current platform\n- * without the leading dot. For most Unices and Linux this is \"so\", and\n- * for Windows this is \"dll\".\n+ * Expands to a shared library suffix for the current platform without the\n+ * leading dot. On Unixes this is \"so\", and on Windows this is \"dll\".\n+ *\n+ * Deprecated: 2.76: Use g_module_open() instead with @module_name as the\n+ * basename of the file_name argument. You will get the wrong results using\n+ * this macro most of the time:\n+ *\n+ * 1. The suffix on macOS is usually 'dylib', but it's 'so' when using\n+ *    Autotools, so there's no way to get the suffix correct using\n+ *    a pre-processor macro.\n+ * 2. Prefixes also vary in a platform-specific way. You may or may not have\n+ *    a 'lib' prefix for the name on Windows and on Cygwin the prefix is\n+ *    'cyg'.\n+ * 3. The library name itself can vary per platform. For instance, you may\n+ *    want to load foo-1.dll on Windows and libfoo.1.dylib on macOS.\n+ *\n+ * g_module_open() takes care of all this by searching the filesystem for\n+ * combinations of possible suffixes and prefixes.\n@@ -179,0 +200,5 @@\n+*\n+ * This macro must only be used when compiling a shared module. Modules that\n+ * support both shared and static linking should define their own macro that\n+ * expands to %G_MODULE_EXPORT when compiling the shared module, but is empty\n+ * when compiling the static module on Windows.\n@@ -215,0 +241,1 @@\n+#if (G_MODULE_IMPL != G_MODULE_IMPL_DL) && (G_MODULE_IMPL != G_MODULE_IMPL_AR)\n@@ -217,0 +244,6 @@\n+#else\n+\/* Implementation is in gmodule-deprecated.c *\/\n+gchar*                  _g_module_build_path    (const gchar    *directory,\n+                                                 const gchar    *module_name);\n+\n+#endif\n@@ -350,0 +383,1 @@\n+#ifndef GSTREAMER_LITE\n@@ -363,1 +397,1 @@\n-  int fd = g_open (libtool_name, O_RDONLY, 0);\n+  int fd = g_open (libtool_name, O_RDONLY | O_CLOEXEC, 0);\n@@ -430,0 +464,12 @@\n+g_clear_pointer (&scanner, g_scanner_destroy);\n+  close (g_steal_fd (&fd));\n+\n+  if (lt_libdir == NULL || lt_dlname == NULL)\n+    {\n+      gchar *display_libtool_name = g_filename_display_name (libtool_name);\n+      g_module_set_error_unduped (g_strdup_printf (\"unable to parse libtool archive \\\"%s\\\"\", display_libtool_name));\n+      g_free (display_libtool_name);\n+\n+      return NULL;\n+    }\n+\n@@ -434,2 +480,0 @@\n-  g_scanner_destroy (scanner);\n-  close (fd);\n@@ -439,0 +483,1 @@\n+#endif \/\/ GSTREAMER_LITE\n@@ -467,2 +512,2 @@\n- * @file_name: (nullable): the name of the file containing the module, or %NULL\n- *     to obtain a #GModule representing the main program itself\n+ * @file_name: (nullable): the name or path to the file containing the module,\n+ *     or %NULL to obtain a #GModule representing the main program itself\n@@ -473,2 +518,2 @@\n- * Opens a module. If the module has already been opened,\n- * its reference count is incremented.\n+ * Opens a module. If the module has already been opened, its reference count\n+ * is incremented. If not, the module is searched in the following order:\n@@ -476,9 +521,13 @@\n- * First of all g_module_open_full() tries to open @file_name as a module.\n- * If that fails and @file_name has the \".la\"-suffix (and is a libtool\n- * archive) it tries to open the corresponding module. If that fails\n- * and it doesn't have the proper module suffix for the platform\n- * (%G_MODULE_SUFFIX), this suffix will be appended and the corresponding\n- * module will be opened. If that fails and @file_name doesn't have the\n- * \".la\"-suffix, this suffix is appended and g_module_open_full() tries to open\n- * the corresponding module. If eventually that fails as well, %NULL is\n- * returned.\n+ * 1. If @file_name exists as a regular file, it is used as-is; else\n+ * 2. If @file_name doesn't have the correct suffix and\/or prefix for the\n+ *    platform, then possible suffixes and prefixes will be added to the\n+ *    basename till a file is found and whatever is found will be used; else\n+ * 3. If @file_name doesn't have the \".la\"-suffix, \".la\" is appended. Either\n+ *    way, if a matching .la file exists (and is a libtool archive) the\n+ *    libtool archive is parsed to find the actual file name, and that is\n+ *    used.\n+ *\n+ * At the end of all this, we would have a file path that we can access on\n+ * disk, and it is opened as a module. If not, @file_name is opened as\n+ * a module verbatim in the hopes that the system implementation will somehow\n+ * be able to access it.\n@@ -554,2 +603,28 @@\n-      name = g_strconcat (file_name, \".\" G_MODULE_SUFFIX, NULL);\n-      if (!g_file_test (name, G_FILE_TEST_IS_REGULAR))\n+      char *basename, *dirname;\n+      size_t prefix_idx = 0, suffix_idx = 0;\n+      const char *prefixes[2] = {0}, *suffixes[2] = {0};\n+\n+      basename = g_path_get_basename (file_name);\n+      dirname = g_path_get_dirname (file_name);\n+#ifdef G_OS_WIN32\n+      if (!g_str_has_prefix (basename, \"lib\"))\n+        prefixes[prefix_idx++] = \"lib\";\n+      prefixes[prefix_idx++] = \"\";\n+      if (!g_str_has_suffix (basename, \".dll\"))\n+        suffixes[suffix_idx++] = \".dll\";\n+#else\n+  #ifdef __CYGWIN__\n+      if (!g_str_has_prefix (basename, \"cyg\"))\n+        prefixes[prefix_idx++] = \"cyg\";\n+  #else\n+      if (!g_str_has_prefix (basename, \"lib\"))\n+        prefixes[prefix_idx++] = \"lib\";\n+      else\n+        \/* People commonly pass `libfoo` as the file_name and want us to\n+         * auto-detect the suffix as .la or .so, etc. We need to also find\n+         * .dylib and .dll in those cases. *\/\n+        prefixes[prefix_idx++] = \"\";\n+  #endif\n+  #ifdef __APPLE__\n+      if (!g_str_has_suffix (basename, \".dylib\") &&\n+          !g_str_has_suffix (basename, \".so\"))\n@@ -557,2 +632,2 @@\n-          g_free (name);\n-          name = NULL;\n+          suffixes[suffix_idx++] = \".dylib\";\n+          suffixes[suffix_idx++] = \".so\";\n@@ -560,0 +635,20 @@\n+  #else\n+      if (!g_str_has_suffix (basename, \".so\"))\n+        suffixes[suffix_idx++] = \".so\";\n+  #endif\n+#endif\n+      for (guint i = 0; i < prefix_idx; i++)\n+        {\n+          for (guint j = 0; j < suffix_idx; j++)\n+            {\n+              name = g_strconcat (dirname, G_DIR_SEPARATOR_S, prefixes[i],\n+                                  basename, suffixes[j], NULL);\n+              if (g_file_test (name, G_FILE_TEST_IS_REGULAR))\n+                goto name_found;\n+              g_free (name);\n+              name = NULL;\n+            }\n+        }\n+    name_found:\n+      g_free (basename);\n+      g_free (dirname);\n@@ -579,1 +674,2 @@\n-      \/* make sure the name has a suffix *\/\n+      \/* we make sure the name has a suffix using the deprecated\n+       * G_MODULE_SUFFIX for backward-compat *\/\n@@ -589,1 +685,2 @@\n-      \/* if it's a libtool archive, figure library file to load *\/\n+#ifndef GSTREAMER_LITE\n+  \/* if it's a libtool archive, figure library file to load *\/\n@@ -599,1 +696,1 @@\n-            }\n+      }\n@@ -601,0 +698,1 @@\n+#endif \/\/ GSTREAMER_LITE\n@@ -673,2 +771,2 @@\n- * @file_name: (nullable): the name of the file containing the module, or %NULL\n- *     to obtain a #GModule representing the main program itself\n+ * @file_name: (nullable): the name or path to the file containing the module,\n+ *     or %NULL to obtain a #GModule representing the main program itself\n@@ -814,1 +912,1 @@\n-#else   \/* !G_MODULE_NEED_USCORE *\/\n+#else  \/* !G_MODULE_NEED_USCORE *\/\n@@ -877,0 +975,3 @@\n+ *\n+ * Deprecated: 2.76: Use g_module_open() instead with @module_name as the\n+ * basename of the file_name argument. See %G_MODULE_SUFFIX for why.\n@@ -892,1 +993,1 @@\n-_GLIB_EXTERN GModule *    g_module_open_utf8 (const gchar  *file_name,\n+_GMODULE_EXTERN GModule *    g_module_open_utf8 (const gchar  *file_name,\n@@ -895,1 +996,1 @@\n-_GLIB_EXTERN const gchar *g_module_name_utf8 (GModule      *module);\n+_GMODULE_EXTERN const gchar *g_module_name_utf8 (GModule      *module);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule.c","additions":133,"deletions":32,"binary":false,"changes":165,"status":"modified"},{"patch":"@@ -3,0 +3,2 @@\n+*\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n@@ -29,0 +31,1 @@\n+#include <gmodule\/gmodule-visibility.h>\n@@ -35,3 +38,3 @@\n-#define G_MODULE_IMPORT     extern\n-#ifdef G_PLATFORM_WIN32\n-#  define   G_MODULE_EXPORT     __declspec(dllexport)\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+#  define G_MODULE_EXPORT __declspec(dllexport)\n+#  define G_MODULE_IMPORT __declspec(dllimport) extern\n@@ -39,4 +42,6 @@\n-#  define   G_MODULE_EXPORT     __attribute__((visibility(\"default\")))\n-#else \/* !G_PLATFORM_WIN32 && __GNUC__ < 4 *\/\n-#  define   G_MODULE_EXPORT\n-#endif \/* !G_PLATFORM_WIN32 *\/\n+#  define G_MODULE_EXPORT __attribute__((visibility(\"default\")))\n+#  define G_MODULE_IMPORT extern\n+#else \/* !defined(_WIN32) && !defined(__CYGWIN__) && __GNUC__ < 4 *\/\n+#  define G_MODULE_EXPORT\n+#  define G_MODULE_IMPORT extern\n+#endif\n@@ -69,2 +74,2 @@\n-#define G_MODULE_ERROR g_module_error_quark () GLIB_AVAILABLE_MACRO_IN_2_70\n-GLIB_AVAILABLE_IN_2_70\n+#define G_MODULE_ERROR g_module_error_quark () GMODULE_AVAILABLE_MACRO_IN_2_70\n+GMODULE_AVAILABLE_IN_2_70\n@@ -87,1 +92,1 @@\n-GLIB_AVAILABLE_ENUMERATOR_IN_2_70;\n+GMODULE_AVAILABLE_ENUMERATOR_IN_2_70;\n@@ -90,1 +95,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -94,1 +99,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -98,1 +103,1 @@\n-GLIB_AVAILABLE_IN_2_70\n+GMODULE_AVAILABLE_IN_2_70\n@@ -104,1 +109,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -108,1 +113,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -112,1 +117,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -116,1 +121,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -122,1 +127,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_AVAILABLE_IN_ALL\n@@ -136,1 +141,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GMODULE_DEPRECATED_IN_2_76\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule.h","additions":24,"deletions":19,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -77,1 +79,1 @@\n-  real_size = sizeof (gsize) + MAX (size, sizeof (FreeListNode));\n+  real_size = sizeof (GAtomicArrayMetadata) + MAX (size, sizeof (FreeListNode));\n@@ -84,1 +86,1 @@\n-  mem = ((char *) mem) + sizeof (gsize);\n+  mem = ((char *) mem) + sizeof (GAtomicArrayMetadata);\n@@ -88,1 +90,2 @@\n-  VALGRIND_MALLOCLIKE_BLOCK (mem, real_size - sizeof (gsize), FALSE, FALSE);\n+  VALGRIND_MALLOCLIKE_BLOCK (mem, real_size - sizeof (GAtomicArrayMetadata),\n+                             FALSE, FALSE);\n@@ -169,1 +172,1 @@\n-  old = g_atomic_pointer_get (&array->data);\n+  old = g_atomic_pointer_exchange (&array->data, new_data);\n@@ -171,0 +174,7 @@\n+#ifdef G_DISABLE_ASSERT\n+  if (old && G_ATOMIC_ARRAY_DATA_SIZE (new_data) < G_ATOMIC_ARRAY_DATA_SIZE (old))\n+    {\n+      g_atomic_pointer_set (&array->data, old);\n+      g_return_if_reached ();\n+    }\n+#else\n@@ -172,0 +182,1 @@\n+#endif\n@@ -173,1 +184,0 @@\n-  g_atomic_pointer_set (&array->data, new_data);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gatomicarray.c","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -28,1 +30,10 @@\n-#define G_ATOMIC_ARRAY_DATA_SIZE(mem) (*((gsize *) (mem) - 1))\n+typedef union _GAtomicArrayMetadata\n+{\n+  gsize size;\n+  \/* We have to ensure that the memory location is sufficiently aligned to\n+   * store any object. With C11 this would be max_align_t, but in practise\n+   * gpointer is sufficient for all known architectures. We could change\n+   * this to `_Alignas(max_align_t) char pad` once we depend on C11. *\/\n+  gpointer _alignment_padding;\n+} GAtomicArrayMetadata;\n+#define G_ATOMIC_ARRAY_DATA_SIZE(mem) (((GAtomicArrayMetadata *) (mem) - 1)->size)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gatomicarray.h","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -465,5 +467,5 @@\n-      g_warning (\"%s: Unable to convert a value of type %s to a \"\n-                 \"value of type %s\",\n-                 G_STRLOC,\n-                 g_type_name (G_VALUE_TYPE (value_a)),\n-                 g_type_name (G_VALUE_TYPE (value_b)));\n+      g_critical (\"%s: Unable to convert a value of type %s to a \"\n+                  \"value of type %s\",\n+                  G_STRLOC,\n+                  g_type_name (G_VALUE_TYPE (value_a)),\n+                  g_type_name (G_VALUE_TYPE (value_b)));\n@@ -553,1 +555,1 @@\n-      g_param_value_validate (binding->target_pspec, &to_value);\n+      (void) g_param_value_validate (binding->target_pspec, &to_value);\n@@ -621,1 +623,1 @@\n-      g_param_value_validate (binding->source_pspec, &to_value);\n+      (void) g_param_value_validate (binding->source_pspec, &to_value);\n@@ -702,24 +704,0 @@\n-static gboolean\n-is_valid_property_name (const gchar *key)\n-{\n-  const gchar *p;\n-\n-  \/* First character must be a letter. *\/\n-  if ((key[0] < 'A' || key[0] > 'Z') &&\n-      (key[0] < 'a' || key[0] > 'z'))\n-    return FALSE;\n-\n-  for (p = key; *p != 0; p++)\n-    {\n-      const gchar c = *p;\n-\n-      if (c != '-' && c != '_' &&\n-          (c < '0' || c > '9') &&\n-          (c < 'A' || c > 'Z') &&\n-          (c < 'a' || c > 'z'))\n-        return FALSE;\n-    }\n-\n-  return TRUE;\n-}\n-\n@@ -1271,1 +1249,1 @@\n-  g_return_val_if_fail (is_valid_property_name (source_property), NULL);\n+  g_return_val_if_fail (g_param_spec_is_valid_name (source_property), NULL);\n@@ -1274,1 +1252,1 @@\n-  g_return_val_if_fail (is_valid_property_name (target_property), NULL);\n+  g_return_val_if_fail (g_param_spec_is_valid_name (target_property), NULL);\n@@ -1278,1 +1256,1 @@\n-      g_warning (\"Unable to bind the same property on the same instance\");\n+      g_critical (\"Unable to bind the same property on the same instance\");\n@@ -1294,4 +1272,4 @@\n-      g_warning (\"%s: The source object of type %s has no property called '%s'\",\n-                 G_STRLOC,\n-                 G_OBJECT_TYPE_NAME (source),\n-                 source_property);\n+      g_critical (\"%s: The source object of type %s has no property called '%s'\",\n+                  G_STRLOC,\n+                  G_OBJECT_TYPE_NAME (source),\n+                  source_property);\n@@ -1303,4 +1281,4 @@\n-      g_warning (\"%s: The source object of type %s has no readable property called '%s'\",\n-                 G_STRLOC,\n-                 G_OBJECT_TYPE_NAME (source),\n-                 source_property);\n+      g_critical (\"%s: The source object of type %s has no readable property called '%s'\",\n+                  G_STRLOC,\n+                  G_OBJECT_TYPE_NAME (source),\n+                  source_property);\n@@ -1313,4 +1291,4 @@\n-      g_warning (\"%s: The source object of type %s has no writable property called '%s'\",\n-                 G_STRLOC,\n-                 G_OBJECT_TYPE_NAME (source),\n-                 source_property);\n+      g_critical (\"%s: The source object of type %s has no writable property called '%s'\",\n+                  G_STRLOC,\n+                  G_OBJECT_TYPE_NAME (source),\n+                  source_property);\n@@ -1323,6 +1301,6 @@\n-      g_warning (\"%s: The G_BINDING_INVERT_BOOLEAN flag can only be used \"\n-                 \"when binding boolean properties; the source property '%s' \"\n-                 \"is of type '%s'\",\n-                 G_STRLOC,\n-                 source_property,\n-                 g_type_name (G_PARAM_SPEC_VALUE_TYPE (pspec)));\n+      g_critical (\"%s: The G_BINDING_INVERT_BOOLEAN flag can only be used \"\n+                  \"when binding boolean properties; the source property '%s' \"\n+                  \"is of type '%s'\",\n+                  G_STRLOC,\n+                  source_property,\n+                  g_type_name (G_PARAM_SPEC_VALUE_TYPE (pspec)));\n@@ -1335,4 +1313,4 @@\n-      g_warning (\"%s: The target object of type %s has no property called '%s'\",\n-                 G_STRLOC,\n-                 G_OBJECT_TYPE_NAME (target),\n-                 target_property);\n+      g_critical (\"%s: The target object of type %s has no property called '%s'\",\n+                  G_STRLOC,\n+                  G_OBJECT_TYPE_NAME (target),\n+                  target_property);\n@@ -1344,4 +1322,4 @@\n-      g_warning (\"%s: The target object of type %s has no writable property called '%s'\",\n-                 G_STRLOC,\n-                 G_OBJECT_TYPE_NAME (target),\n-                 target_property);\n+      g_critical (\"%s: The target object of type %s has no writable property called '%s'\",\n+                  G_STRLOC,\n+                  G_OBJECT_TYPE_NAME (target),\n+                  target_property);\n@@ -1354,4 +1332,4 @@\n-      g_warning (\"%s: The target object of type %s has no readable property called '%s'\",\n-                 G_STRLOC,\n-                 G_OBJECT_TYPE_NAME (target),\n-                 target_property);\n+      g_critical (\"%s: The target object of type %s has no readable property called '%s'\",\n+                  G_STRLOC,\n+                  G_OBJECT_TYPE_NAME (target),\n+                  target_property);\n@@ -1364,6 +1342,6 @@\n-      g_warning (\"%s: The G_BINDING_INVERT_BOOLEAN flag can only be used \"\n-                 \"when binding boolean properties; the target property '%s' \"\n-                 \"is of type '%s'\",\n-                 G_STRLOC,\n-                 target_property,\n-                 g_type_name (G_PARAM_SPEC_VALUE_TYPE (pspec)));\n+      g_critical (\"%s: The G_BINDING_INVERT_BOOLEAN flag can only be used \"\n+                  \"when binding boolean properties; the target property '%s' \"\n+                  \"is of type '%s'\",\n+                  G_STRLOC,\n+                  target_property,\n+                  g_type_name (G_PARAM_SPEC_VALUE_TYPE (pspec)));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gbinding.c","additions":48,"deletions":70,"binary":false,"changes":118,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -105,1 +107,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -107,1 +109,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -110,1 +112,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -112,1 +114,1 @@\n-GLIB_DEPRECATED_IN_2_68_FOR(g_binding_dup_source)\n+GOBJECT_DEPRECATED_IN_2_68_FOR(g_binding_dup_source)\n@@ -114,1 +116,1 @@\n-GLIB_AVAILABLE_IN_2_68\n+GOBJECT_AVAILABLE_IN_2_68\n@@ -116,1 +118,1 @@\n-GLIB_DEPRECATED_IN_2_68_FOR(g_binding_dup_target)\n+GOBJECT_DEPRECATED_IN_2_68_FOR(g_binding_dup_target)\n@@ -118,1 +120,1 @@\n-GLIB_AVAILABLE_IN_2_68\n+GOBJECT_AVAILABLE_IN_2_68\n@@ -120,1 +122,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -122,1 +124,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -124,1 +126,1 @@\n-GLIB_AVAILABLE_IN_2_38\n+GOBJECT_AVAILABLE_IN_2_38\n@@ -127,1 +129,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -133,1 +135,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -143,1 +145,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gbinding.h","additions":15,"deletions":13,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -169,0 +171,3 @@\n+#ifndef GSTREAMER_LITE\n+G_DEFINE_BOXED_TYPE (GBookmarkFile, g_bookmark_file, g_bookmark_file_copy, g_bookmark_file_free)\n+#endif \/\/ GSTREAMER_LITE\n@@ -441,1 +446,1 @@\n- * Returns: (transfer none): boxed contents of @value\n+ * Returns: (transfer none) (nullable): boxed contents of @value\n@@ -461,1 +466,1 @@\n- * Returns: boxed contents of @value\n+ * Returns: (transfer full) (nullable): boxed contents of @value\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gboxed.c","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -69,1 +71,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -72,1 +74,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -75,1 +77,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -78,1 +80,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -81,1 +83,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -84,1 +86,1 @@\n-GLIB_DEPRECATED_FOR(g_value_take_boxed)\n+GOBJECT_DEPRECATED_FOR(g_value_take_boxed)\n@@ -87,1 +89,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -89,1 +91,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -94,1 +96,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -115,1 +117,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -117,1 +119,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gboxed.h","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -191,1 +193,1 @@\n- * Returns: (transfer none): a floating reference to a new #GClosure\n+ * Returns: (transfer floating): a floating reference to a new #GClosure\n@@ -757,1 +759,1 @@\n-    g_warning (G_STRLOC \": unable to remove uninstalled invalidation notifier: %p (%p)\",\n+    g_critical (G_STRLOC \": unable to remove uninstalled invalidation notifier: %p (%p)\",\n@@ -785,2 +787,2 @@\n-    g_warning (G_STRLOC \": unable to remove uninstalled finalization notifier: %p (%p)\",\n-               notify_func, notify_data);\n+    g_critical (G_STRLOC \": unable to remove uninstalled finalization notifier: %p (%p)\",\n+                notify_func, notify_data);\n@@ -938,1 +940,1 @@\n-    g_warning (\"attempt to override closure->marshal (%p) with new marshal (%p)\",\n+    g_critical (\"attempt to override closure->marshal (%p) with new marshal (%p)\",\n@@ -956,1 +958,1 @@\n-    g_warning (\"attempt to override closure->va_marshal (%p) with new marshal (%p)\",\n+    g_critical (\"attempt to override closure->va_marshal (%p) with new marshal (%p)\",\n@@ -973,1 +975,1 @@\n- * Returns: (transfer none): a floating reference to a new #GCClosure\n+ * Returns: (transfer floating): a floating reference to a new #GCClosure\n@@ -1007,1 +1009,1 @@\n- * Returns: (transfer none): a floating reference to a new #GCClosure\n+ * Returns: (transfer floating): a floating reference to a new #GCClosure\n@@ -1179,1 +1181,1 @@\n- * Returns: (transfer none): a floating reference to a new #GCClosure\n+ * Returns: (transfer floating): a floating reference to a new #GCClosure\n@@ -1291,1 +1293,1 @@\n-      g_warning (\"value_to_ffi_type: Unsupported fundamental type: %s\", g_type_name (type));\n+      g_critical (\"value_to_ffi_type: Unsupported fundamental type: %s\", g_type_name (type));\n@@ -1371,3 +1373,3 @@\n-      g_warning (\"value_from_ffi_type: Unsupported fundamental type %s for type %s\",\n-                 g_type_name (g_type_fundamental (G_VALUE_TYPE (gvalue))),\n-                 g_type_name (G_VALUE_TYPE (gvalue)));\n+      g_critical (\"value_from_ffi_type: Unsupported fundamental type %s for type %s\",\n+                  g_type_name (g_type_fundamental (G_VALUE_TYPE (gvalue))),\n+                  g_type_name (G_VALUE_TYPE (gvalue)));\n@@ -1451,1 +1453,1 @@\n-      g_warning (\"va_to_ffi_type: Unsupported fundamental type: %s\", g_type_name (type));\n+      g_critical (\"va_to_ffi_type: Unsupported fundamental type: %s\", g_type_name (type));\n@@ -1631,1 +1633,1 @@\n-  G_VA_COPY (args_copy, args_list);\n+  va_copy (args_copy, args_list);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gclosure.c","additions":17,"deletions":15,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -228,1 +230,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -232,1 +234,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -236,1 +238,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -242,1 +244,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -244,1 +246,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -246,1 +248,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -249,1 +251,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -252,1 +254,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -256,1 +258,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -260,1 +262,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -264,1 +266,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -268,1 +270,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -274,1 +276,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -277,1 +279,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -281,1 +283,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -283,1 +285,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -301,1 +303,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -309,1 +311,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gclosure.h","additions":20,"deletions":18,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/genums.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -218,1 +220,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -221,1 +223,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -224,1 +226,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -227,1 +229,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -230,1 +232,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -233,1 +235,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -236,1 +238,1 @@\n-GLIB_AVAILABLE_IN_2_54\n+GOBJECT_AVAILABLE_IN_2_54\n@@ -239,1 +241,1 @@\n-GLIB_AVAILABLE_IN_2_54\n+GOBJECT_AVAILABLE_IN_2_54\n@@ -242,1 +244,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -245,1 +247,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -247,1 +249,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -250,1 +252,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -259,1 +261,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -262,1 +264,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -268,1 +270,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -272,1 +274,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -277,0 +279,100 @@\n+\/* {{{ Macros *\/\n+\n+\/**\n+ * G_DEFINE_ENUM_VALUE:\n+ * @EnumValue: an enumeration value\n+ * @EnumNick: a short string representing the enumeration value\n+ *\n+ * Defines an enumeration value, and maps it to a \"nickname\".\n+ *\n+ * This macro can only be used with G_DEFINE_ENUM_TYPE() and\n+ * G_DEFINE_FLAGS_TYPE().\n+ *\n+ * Since: 2.74\n+ *\/\n+#define G_DEFINE_ENUM_VALUE(EnumValue, EnumNick) \\\n+  { EnumValue, #EnumValue, EnumNick } \\\n+  GOBJECT_AVAILABLE_MACRO_IN_2_74\n+\n+\/**\n+ * G_DEFINE_ENUM_TYPE:\n+ * @TypeName: the enumeration type, in 'CamelCase'\n+ * @type_name: the enumeration type prefixed, in 'snake_case'\n+ * @...: a list of enumeration values, defined using G_DEFINE_ENUM_VALUE()\n+ *\n+ * A convenience macro for defining enumeration types.\n+ *\n+ * This macro will generate a '*_get_type()' function for the\n+ * given @TypeName, using @type_name as the function prefix.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_DEFINE_ENUM_TYPE (GtkOrientation, gtk_orientation,\n+ *   G_DEFINE_ENUM_VALUE (GTK_ORIENTATION_HORIZONTAL, \"horizontal\"),\n+ *   G_DEFINE_ENUM_VALUE (GTK_ORIENTATION_VERTICAL, \"vertical\"))\n+ * ]|\n+ *\n+ * For projects that have multiple enumeration types, or enumeration\n+ * types with many values, you should consider using glib-mkenums to\n+ * generate the type function.\n+ *\n+ * Since: 2.74\n+ *\/\n+#define G_DEFINE_ENUM_TYPE(TypeName, type_name, ...) \\\n+GType \\\n+type_name ## _get_type (void) { \\\n+  static gsize g_define_type__static = 0; \\\n+  if (g_once_init_enter (&g_define_type__static)) { \\\n+    static const GEnumValue enum_values[] = { \\\n+      __VA_ARGS__ , \\\n+      { 0, NULL, NULL }, \\\n+    }; \\\n+    GType g_define_type = g_enum_register_static (g_intern_static_string (#TypeName), enum_values); \\\n+    g_once_init_leave (&g_define_type__static, g_define_type); \\\n+  } \\\n+  return g_define_type__static; \\\n+} \\\n+  GOBJECT_AVAILABLE_MACRO_IN_2_74\n+\n+\/**\n+ * G_DEFINE_FLAGS_TYPE:\n+ * @TypeName: the enumeration type, in 'CamelCase'\n+ * @type_name: the enumeration type prefixed, in 'snake_case'\n+ * @...: a list of enumeration values, defined using G_DEFINE_ENUM_VALUE()\n+ *\n+ * A convenience macro for defining flag types.\n+ *\n+ * This macro will generate a '*_get_type()' function for the\n+ * given @TypeName, using @type_name as the function prefix.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_DEFINE_FLAGS_TYPE (GSettingsBindFlags, g_settings_bind_flags,\n+ *   G_DEFINE_ENUM_VALUE (G_SETTINGS_BIND_DEFAULT, \"default\"),\n+ *   G_DEFINE_ENUM_VALUE (G_SETTINGS_BIND_GET, \"get\"),\n+ *   G_DEFINE_ENUM_VALUE (G_SETTINGS_BIND_SET, \"set\"),\n+ *   G_DEFINE_ENUM_VALUE (G_SETTINGS_BIND_NO_SENSITIVITY, \"no-sensitivity\"),\n+ *   G_DEFINE_ENUM_VALUE (G_SETTINGS_BIND_GET_NO_CHANGES, \"get-no-changes\"),\n+ *   G_DEFINE_ENUM_VALUE (G_SETTINGS_BIND_INVERT_BOOLEAN, \"invert-boolean\"))\n+ * ]|\n+ *\n+ * For projects that have multiple enumeration types, or enumeration\n+ * types with many values, you should consider using glib-mkenums to\n+ * generate the type function.\n+ *\n+ * Since: 2.74\n+ *\/\n+#define G_DEFINE_FLAGS_TYPE(TypeName, type_name, ...) \\\n+GType \\\n+type_name ## _get_type (void) { \\\n+  static gsize g_define_type__static = 0; \\\n+  if (g_once_init_enter (&g_define_type__static)) { \\\n+    static const GFlagsValue flags_values[] = { \\\n+      __VA_ARGS__ , \\\n+      { 0, NULL, NULL }, \\\n+    }; \\\n+    GType g_define_type = g_flags_register_static (g_intern_static_string (#TypeName), flags_values); \\\n+    g_once_init_leave (&g_define_type__static, g_define_type); \\\n+  } \\\n+  return g_define_type__static; \\\n+} \\\n+  GOBJECT_AVAILABLE_MACRO_IN_2_74\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/genums.h","additions":118,"deletions":16,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -25,0 +27,1 @@\n+#include <gobject\/gobject-visibility.h>\n@@ -57,1 +60,1 @@\n- *                                                      G_PARAM_READWRITE));\n+ *                                                      G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n@@ -327,1 +330,12 @@\n-GLIB_AVAILABLE_IN_ALL\n+\/**\n+ * G_TYPE_BOOKMARK_FILE:\n+ *\n+ * The #GType for a boxed type holding a #GBookmarkFile.\n+ *\n+ * Since: 2.76\n+ *\/\n+#ifndef GSTREAMER_LITE\n+#define G_TYPE_BOOKMARK_FILE (g_bookmark_file_get_type ())\n+#endif \/\/ GSTREAMER_LITE\n+\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -329,1 +343,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -331,1 +345,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -333,1 +347,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -335,1 +349,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -337,1 +351,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -339,1 +353,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -341,1 +355,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -343,1 +357,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -346,1 +360,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -348,1 +362,1 @@\n-GLIB_AVAILABLE_IN_2_30\n+GOBJECT_AVAILABLE_IN_2_30\n@@ -351,1 +365,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -353,1 +367,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -355,1 +369,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -357,1 +371,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -359,1 +373,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -361,1 +375,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -363,1 +377,1 @@\n-GLIB_AVAILABLE_IN_2_40\n+GOBJECT_AVAILABLE_IN_2_40\n@@ -365,1 +379,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -367,1 +381,1 @@\n-GLIB_AVAILABLE_IN_2_30\n+GOBJECT_AVAILABLE_IN_2_30\n@@ -369,1 +383,1 @@\n-GLIB_AVAILABLE_IN_2_30\n+GOBJECT_AVAILABLE_IN_2_30\n@@ -371,1 +385,1 @@\n-GLIB_AVAILABLE_IN_2_30\n+GOBJECT_AVAILABLE_IN_2_30\n@@ -373,1 +387,1 @@\n-GLIB_AVAILABLE_IN_2_36\n+GOBJECT_AVAILABLE_IN_2_36\n@@ -375,1 +389,1 @@\n-GLIB_AVAILABLE_IN_2_36\n+GOBJECT_AVAILABLE_IN_2_36\n@@ -377,1 +391,1 @@\n-GLIB_AVAILABLE_IN_2_36\n+GOBJECT_AVAILABLE_IN_2_36\n@@ -379,1 +393,1 @@\n-GLIB_AVAILABLE_IN_2_36\n+GOBJECT_AVAILABLE_IN_2_36\n@@ -381,1 +395,1 @@\n-GLIB_AVAILABLE_IN_2_40\n+GOBJECT_AVAILABLE_IN_2_40\n@@ -383,1 +397,1 @@\n-GLIB_AVAILABLE_IN_2_44\n+GOBJECT_AVAILABLE_IN_2_44\n@@ -385,1 +399,1 @@\n-GLIB_AVAILABLE_IN_2_66\n+GOBJECT_AVAILABLE_IN_2_66\n@@ -387,1 +401,1 @@\n-GLIB_AVAILABLE_IN_2_68\n+GOBJECT_AVAILABLE_IN_2_68\n@@ -389,1 +403,1 @@\n-GLIB_AVAILABLE_IN_2_70\n+GOBJECT_AVAILABLE_IN_2_70\n@@ -391,0 +405,4 @@\n+#ifndef GSTREAMER_LITE\n+GOBJECT_AVAILABLE_IN_2_76\n+GType   g_bookmark_file_get_type   (void) G_GNUC_CONST;\n+#endif \/\/ GSTREAMER_LITE\n@@ -392,1 +410,1 @@\n-GLIB_DEPRECATED_FOR('G_TYPE_VARIANT')\n+GOBJECT_DEPRECATED_FOR('G_TYPE_VARIANT')\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/glib-types.h","additions":51,"deletions":33,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -256,1 +256,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -364,1 +364,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -472,1 +472,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -580,1 +580,1 @@\n- G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -688,1 +688,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -796,1 +796,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -904,1 +904,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1012,1 +1012,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1120,1 +1120,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1228,1 +1228,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1336,1 +1336,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1444,1 +1444,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1556,1 +1556,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1668,1 +1668,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1784,1 +1784,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -1892,1 +1892,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -2004,1 +2004,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -2120,1 +2120,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -2239,1 +2239,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -2361,1 +2361,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n@@ -2490,1 +2490,1 @@\n-  G_VA_COPY (args_copy, args);\n+  va_copy (args_copy, args);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gmarshal.c","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -23,1 +23,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -30,1 +30,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -40,1 +40,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -47,1 +47,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -57,1 +57,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -64,1 +64,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -74,1 +74,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -81,1 +81,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -91,1 +91,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -98,1 +98,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -108,1 +108,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -115,1 +115,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -125,1 +125,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -132,1 +132,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -142,1 +142,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -149,1 +149,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -159,1 +159,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -166,1 +166,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -176,1 +176,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -183,1 +183,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -193,1 +193,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -200,1 +200,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -210,1 +210,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -217,1 +217,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -227,1 +227,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -234,1 +234,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -244,1 +244,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -251,1 +251,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -261,1 +261,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -268,1 +268,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -278,1 +278,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -285,1 +285,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -295,1 +295,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -302,1 +302,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -312,1 +312,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -319,1 +319,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -329,1 +329,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -336,1 +336,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -346,1 +346,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -353,1 +353,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -381,1 +381,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -388,1 +388,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -398,1 +398,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -405,1 +405,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gmarshal.h","additions":44,"deletions":44,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject-autocleanups.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,952 @@\n+#pragma once\n+\n+#if (defined(_WIN32) || defined(__CYGWIN__)) && !defined(GOBJECT_STATIC_COMPILATION)\n+#  define _GOBJECT_EXPORT __declspec(dllexport)\n+#  define _GOBJECT_IMPORT __declspec(dllimport)\n+#elif __GNUC__ >= 4\n+#  define _GOBJECT_EXPORT __attribute__((visibility(\"default\")))\n+#  define _GOBJECT_IMPORT\n+#else\n+#  define _GOBJECT_EXPORT\n+#  define _GOBJECT_IMPORT\n+#endif\n+#ifdef GOBJECT_COMPILATION\n+#  define _GOBJECT_API _GOBJECT_EXPORT\n+#else\n+#  define _GOBJECT_API _GOBJECT_IMPORT\n+#endif\n+\n+#define _GOBJECT_EXTERN _GOBJECT_API extern\n+\n+#define GOBJECT_VAR _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_IN_ALL _GOBJECT_EXTERN\n+\n+#ifdef GLIB_DISABLE_DEPRECATION_WARNINGS\n+#define GOBJECT_DEPRECATED _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_UNAVAILABLE(maj,min) _GOBJECT_EXTERN\n+#define GOBJECT_UNAVAILABLE_STATIC_INLINE(maj,min)\n+#else\n+#define GOBJECT_DEPRECATED G_DEPRECATED _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_FOR(f) G_DEPRECATED_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_UNAVAILABLE(maj,min) G_UNAVAILABLE(maj,min) _GOBJECT_EXTERN\n+#define GOBJECT_UNAVAILABLE_STATIC_INLINE(maj,min) G_UNAVAILABLE(maj,min)\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_26\n+#define GOBJECT_DEPRECATED_IN_2_26 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_26_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_26 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_26_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_26 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_26 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_26_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_26 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_26_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_26\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_26_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_26\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_26_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_26\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_26_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_26\n+#define GOBJECT_AVAILABLE_IN_2_26 GOBJECT_UNAVAILABLE (2, 26)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_26 GLIB_UNAVAILABLE_STATIC_INLINE (2, 26)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_26 GLIB_UNAVAILABLE_MACRO (2, 26)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_26 GLIB_UNAVAILABLE_ENUMERATOR (2, 26)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_26 GLIB_UNAVAILABLE_TYPE (2, 26)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_26 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_26\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_26\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_26\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_26\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_28\n+#define GOBJECT_DEPRECATED_IN_2_28 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_28_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_28 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_28_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_28 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_28 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_28_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_28 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_28_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_28\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_28_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_28\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_28_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_28\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_28_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_28\n+#define GOBJECT_AVAILABLE_IN_2_28 GOBJECT_UNAVAILABLE (2, 28)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_28 GLIB_UNAVAILABLE_STATIC_INLINE (2, 28)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_28 GLIB_UNAVAILABLE_MACRO (2, 28)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_28 GLIB_UNAVAILABLE_ENUMERATOR (2, 28)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_28 GLIB_UNAVAILABLE_TYPE (2, 28)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_28 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_28\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_28\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_28\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_28\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_30\n+#define GOBJECT_DEPRECATED_IN_2_30 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_30_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_30 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_30_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_30 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_30 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_30_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_30 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_30_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_30\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_30_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_30\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_30_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_30\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_30_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_30\n+#define GOBJECT_AVAILABLE_IN_2_30 GOBJECT_UNAVAILABLE (2, 30)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_30 GLIB_UNAVAILABLE_STATIC_INLINE (2, 30)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_30 GLIB_UNAVAILABLE_MACRO (2, 30)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_30 GLIB_UNAVAILABLE_ENUMERATOR (2, 30)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_30 GLIB_UNAVAILABLE_TYPE (2, 30)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_30 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_30\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_30\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_30\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_30\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_32\n+#define GOBJECT_DEPRECATED_IN_2_32 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_32_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_32 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_32_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_32 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_32 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_32_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_32 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_32_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_32\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_32_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_32\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_32_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_32\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_32_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_32\n+#define GOBJECT_AVAILABLE_IN_2_32 GOBJECT_UNAVAILABLE (2, 32)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_32 GLIB_UNAVAILABLE_STATIC_INLINE (2, 32)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_32 GLIB_UNAVAILABLE_MACRO (2, 32)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_32 GLIB_UNAVAILABLE_ENUMERATOR (2, 32)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_32 GLIB_UNAVAILABLE_TYPE (2, 32)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_32 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_32\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_32\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_32\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_32\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_34\n+#define GOBJECT_DEPRECATED_IN_2_34 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_34_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_34 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_34_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_34 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_34 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_34_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_34 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_34_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_34\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_34_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_34\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_34_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_34\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_34_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_34\n+#define GOBJECT_AVAILABLE_IN_2_34 GOBJECT_UNAVAILABLE (2, 34)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_34 GLIB_UNAVAILABLE_STATIC_INLINE (2, 34)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_34 GLIB_UNAVAILABLE_MACRO (2, 34)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_34 GLIB_UNAVAILABLE_ENUMERATOR (2, 34)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_34 GLIB_UNAVAILABLE_TYPE (2, 34)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_34 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_34\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_34\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_34\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_34\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_36\n+#define GOBJECT_DEPRECATED_IN_2_36 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_36_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_36 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_36_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_36 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_36 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_36_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_36 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_36_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_36\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_36_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_36\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_36_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_36\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_36_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_36\n+#define GOBJECT_AVAILABLE_IN_2_36 GOBJECT_UNAVAILABLE (2, 36)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_36 GLIB_UNAVAILABLE_STATIC_INLINE (2, 36)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_36 GLIB_UNAVAILABLE_MACRO (2, 36)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_36 GLIB_UNAVAILABLE_ENUMERATOR (2, 36)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_36 GLIB_UNAVAILABLE_TYPE (2, 36)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_36 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_36\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_36\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_36\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_36\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_38\n+#define GOBJECT_DEPRECATED_IN_2_38 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_38_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_38 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_38_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_38 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_38 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_38_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_38 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_38_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_38\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_38_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_38\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_38_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_38\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_38_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_38\n+#define GOBJECT_AVAILABLE_IN_2_38 GOBJECT_UNAVAILABLE (2, 38)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_38 GLIB_UNAVAILABLE_STATIC_INLINE (2, 38)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_38 GLIB_UNAVAILABLE_MACRO (2, 38)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_38 GLIB_UNAVAILABLE_ENUMERATOR (2, 38)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_38 GLIB_UNAVAILABLE_TYPE (2, 38)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_38 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_38\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_38\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_38\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_38\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_40\n+#define GOBJECT_DEPRECATED_IN_2_40 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_40_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_40 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_40_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_40 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_40 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_40_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_40 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_40_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_40\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_40_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_40\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_40_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_40\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_40_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_40\n+#define GOBJECT_AVAILABLE_IN_2_40 GOBJECT_UNAVAILABLE (2, 40)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_40 GLIB_UNAVAILABLE_STATIC_INLINE (2, 40)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_40 GLIB_UNAVAILABLE_MACRO (2, 40)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_40 GLIB_UNAVAILABLE_ENUMERATOR (2, 40)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_40 GLIB_UNAVAILABLE_TYPE (2, 40)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_40 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_40\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_40\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_40\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_40\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_42\n+#define GOBJECT_DEPRECATED_IN_2_42 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_42_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_42 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_42_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_42 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_42 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_42_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_42 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_42_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_42\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_42_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_42\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_42_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_42\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_42_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_42\n+#define GOBJECT_AVAILABLE_IN_2_42 GOBJECT_UNAVAILABLE (2, 42)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_42 GLIB_UNAVAILABLE_STATIC_INLINE (2, 42)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_42 GLIB_UNAVAILABLE_MACRO (2, 42)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_42 GLIB_UNAVAILABLE_ENUMERATOR (2, 42)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_42 GLIB_UNAVAILABLE_TYPE (2, 42)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_42 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_42\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_42\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_42\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_42\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_44\n+#define GOBJECT_DEPRECATED_IN_2_44 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_44_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_44 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_44_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_44 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_44 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_44_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_44 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_44_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_44\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_44_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_44\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_44_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_44\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_44_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_44\n+#define GOBJECT_AVAILABLE_IN_2_44 GOBJECT_UNAVAILABLE (2, 44)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_44 GLIB_UNAVAILABLE_STATIC_INLINE (2, 44)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_44 GLIB_UNAVAILABLE_MACRO (2, 44)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_44 GLIB_UNAVAILABLE_ENUMERATOR (2, 44)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_44 GLIB_UNAVAILABLE_TYPE (2, 44)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_44 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_44\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_44\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_44\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_44\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_46\n+#define GOBJECT_DEPRECATED_IN_2_46 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_46_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_46 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_46_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_46 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_46 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_46_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_46 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_46_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_46\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_46_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_46\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_46_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_46\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_46_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_46\n+#define GOBJECT_AVAILABLE_IN_2_46 GOBJECT_UNAVAILABLE (2, 46)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_46 GLIB_UNAVAILABLE_STATIC_INLINE (2, 46)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_46 GLIB_UNAVAILABLE_MACRO (2, 46)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_46 GLIB_UNAVAILABLE_ENUMERATOR (2, 46)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_46 GLIB_UNAVAILABLE_TYPE (2, 46)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_46 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_46\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_46\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_46\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_46\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_48\n+#define GOBJECT_DEPRECATED_IN_2_48 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_48_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_48 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_48_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_48 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_48 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_48_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_48 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_48_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_48\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_48_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_48\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_48_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_48\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_48_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_48\n+#define GOBJECT_AVAILABLE_IN_2_48 GOBJECT_UNAVAILABLE (2, 48)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_48 GLIB_UNAVAILABLE_STATIC_INLINE (2, 48)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_48 GLIB_UNAVAILABLE_MACRO (2, 48)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_48 GLIB_UNAVAILABLE_ENUMERATOR (2, 48)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_48 GLIB_UNAVAILABLE_TYPE (2, 48)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_48 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_48\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_48\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_48\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_48\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_50\n+#define GOBJECT_DEPRECATED_IN_2_50 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_50_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_50 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_50_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_50 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_50 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_50_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_50 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_50_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_50\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_50_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_50\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_50_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_50\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_50_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_50\n+#define GOBJECT_AVAILABLE_IN_2_50 GOBJECT_UNAVAILABLE (2, 50)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_50 GLIB_UNAVAILABLE_STATIC_INLINE (2, 50)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_50 GLIB_UNAVAILABLE_MACRO (2, 50)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_50 GLIB_UNAVAILABLE_ENUMERATOR (2, 50)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_50 GLIB_UNAVAILABLE_TYPE (2, 50)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_50 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_50\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_50\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_50\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_50\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_52\n+#define GOBJECT_DEPRECATED_IN_2_52 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_52_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_52 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_52_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_52 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_52 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_52_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_52 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_52_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_52\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_52_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_52\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_52_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_52\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_52_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_52\n+#define GOBJECT_AVAILABLE_IN_2_52 GOBJECT_UNAVAILABLE (2, 52)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_52 GLIB_UNAVAILABLE_STATIC_INLINE (2, 52)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_52 GLIB_UNAVAILABLE_MACRO (2, 52)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_52 GLIB_UNAVAILABLE_ENUMERATOR (2, 52)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_52 GLIB_UNAVAILABLE_TYPE (2, 52)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_52 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_52\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_52\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_52\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_52\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_54\n+#define GOBJECT_DEPRECATED_IN_2_54 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_54_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_54 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_54_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_54 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_54 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_54_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_54 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_54_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_54\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_54_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_54\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_54_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_54\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_54_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_54\n+#define GOBJECT_AVAILABLE_IN_2_54 GOBJECT_UNAVAILABLE (2, 54)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_54 GLIB_UNAVAILABLE_STATIC_INLINE (2, 54)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_54 GLIB_UNAVAILABLE_MACRO (2, 54)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_54 GLIB_UNAVAILABLE_ENUMERATOR (2, 54)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_54 GLIB_UNAVAILABLE_TYPE (2, 54)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_54 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_54\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_54\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_54\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_54\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_56\n+#define GOBJECT_DEPRECATED_IN_2_56 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_56_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_56 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_56_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_56 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_56 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_56_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_56 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_56_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_56\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_56_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_56\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_56_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_56\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_56_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_56\n+#define GOBJECT_AVAILABLE_IN_2_56 GOBJECT_UNAVAILABLE (2, 56)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_56 GLIB_UNAVAILABLE_STATIC_INLINE (2, 56)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_56 GLIB_UNAVAILABLE_MACRO (2, 56)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_56 GLIB_UNAVAILABLE_ENUMERATOR (2, 56)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_56 GLIB_UNAVAILABLE_TYPE (2, 56)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_56 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_56\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_56\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_56\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_56\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_58\n+#define GOBJECT_DEPRECATED_IN_2_58 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_58_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_58 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_58_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_58 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_58 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_58_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_58 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_58_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_58\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_58_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_58\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_58_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_58\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_58_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_58\n+#define GOBJECT_AVAILABLE_IN_2_58 GOBJECT_UNAVAILABLE (2, 58)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_58 GLIB_UNAVAILABLE_STATIC_INLINE (2, 58)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_58 GLIB_UNAVAILABLE_MACRO (2, 58)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_58 GLIB_UNAVAILABLE_ENUMERATOR (2, 58)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_58 GLIB_UNAVAILABLE_TYPE (2, 58)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_58 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_58\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_58\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_58\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_58\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_60\n+#define GOBJECT_DEPRECATED_IN_2_60 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_60_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_60 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_60_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_60 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_60 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_60_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_60 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_60_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_60\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_60_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_60\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_60_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_60\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_60_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_60\n+#define GOBJECT_AVAILABLE_IN_2_60 GOBJECT_UNAVAILABLE (2, 60)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_60 GLIB_UNAVAILABLE_STATIC_INLINE (2, 60)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_60 GLIB_UNAVAILABLE_MACRO (2, 60)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_60 GLIB_UNAVAILABLE_ENUMERATOR (2, 60)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_60 GLIB_UNAVAILABLE_TYPE (2, 60)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_60 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_60\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_60\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_60\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_60\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_62\n+#define GOBJECT_DEPRECATED_IN_2_62 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_62_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_62 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_62_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_62 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_62 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_62_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_62 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_62_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_62\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_62_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_62\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_62_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_62\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_62_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_62\n+#define GOBJECT_AVAILABLE_IN_2_62 GOBJECT_UNAVAILABLE (2, 62)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_62 GLIB_UNAVAILABLE_STATIC_INLINE (2, 62)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_62 GLIB_UNAVAILABLE_MACRO (2, 62)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_62 GLIB_UNAVAILABLE_ENUMERATOR (2, 62)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_62 GLIB_UNAVAILABLE_TYPE (2, 62)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_62 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_62\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_62\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_62\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_62\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_64\n+#define GOBJECT_DEPRECATED_IN_2_64 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_64_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_64 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_64_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_64 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_64 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_64_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_64 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_64_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_64\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_64_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_64\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_64_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_64\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_64_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_64\n+#define GOBJECT_AVAILABLE_IN_2_64 GOBJECT_UNAVAILABLE (2, 64)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_64 GLIB_UNAVAILABLE_STATIC_INLINE (2, 64)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_64 GLIB_UNAVAILABLE_MACRO (2, 64)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_64 GLIB_UNAVAILABLE_ENUMERATOR (2, 64)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_64 GLIB_UNAVAILABLE_TYPE (2, 64)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_64 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_64\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_64\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_64\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_64\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_66\n+#define GOBJECT_DEPRECATED_IN_2_66 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_66_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_66 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_66_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_66 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_66 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_66_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_66 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_66_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_66\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_66_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_66\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_66_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_66\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_66_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_66\n+#define GOBJECT_AVAILABLE_IN_2_66 GOBJECT_UNAVAILABLE (2, 66)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_66 GLIB_UNAVAILABLE_STATIC_INLINE (2, 66)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_66 GLIB_UNAVAILABLE_MACRO (2, 66)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_66 GLIB_UNAVAILABLE_ENUMERATOR (2, 66)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_66 GLIB_UNAVAILABLE_TYPE (2, 66)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_66 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_66\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_66\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_66\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_66\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n+#define GOBJECT_DEPRECATED_IN_2_68 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_68_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_68 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_68_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_68 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_68 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_68_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_68 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_68_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_68\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_68_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_68\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_68\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_68_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_68\n+#define GOBJECT_AVAILABLE_IN_2_68 GOBJECT_UNAVAILABLE (2, 68)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_68 GLIB_UNAVAILABLE_STATIC_INLINE (2, 68)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_68 GLIB_UNAVAILABLE_MACRO (2, 68)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_68 GLIB_UNAVAILABLE_ENUMERATOR (2, 68)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_68 GLIB_UNAVAILABLE_TYPE (2, 68)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_68 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_68\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_68\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_68\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_68\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_70\n+#define GOBJECT_DEPRECATED_IN_2_70 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_70_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_70 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_70_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_70 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_70 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_70_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_70 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_70_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_70\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_70_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_70\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_70\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_70_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_70\n+#define GOBJECT_AVAILABLE_IN_2_70 GOBJECT_UNAVAILABLE (2, 70)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_70 GLIB_UNAVAILABLE_STATIC_INLINE (2, 70)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_70 GLIB_UNAVAILABLE_MACRO (2, 70)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_70 GLIB_UNAVAILABLE_ENUMERATOR (2, 70)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_70 GLIB_UNAVAILABLE_TYPE (2, 70)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_70 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_70\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_70\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_70\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_70\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_72\n+#define GOBJECT_DEPRECATED_IN_2_72 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_72_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_72 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_72_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_72 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_72 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_72_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_72 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_72_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_72\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_72_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_72\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_72\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_72_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_72\n+#define GOBJECT_AVAILABLE_IN_2_72 GOBJECT_UNAVAILABLE (2, 72)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_72 GLIB_UNAVAILABLE_STATIC_INLINE (2, 72)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_72 GLIB_UNAVAILABLE_MACRO (2, 72)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_72 GLIB_UNAVAILABLE_ENUMERATOR (2, 72)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_72 GLIB_UNAVAILABLE_TYPE (2, 72)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_72 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_72\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_72\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_72\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_72\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_74\n+#define GOBJECT_DEPRECATED_IN_2_74 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_74_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_74 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_74_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_74 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_74_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_74 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_74_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_74 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_74_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_74\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_74_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_74\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_74_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_74\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_74_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_74\n+#define GOBJECT_AVAILABLE_IN_2_74 GOBJECT_UNAVAILABLE (2, 74)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_74 GLIB_UNAVAILABLE_STATIC_INLINE (2, 74)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_74 GLIB_UNAVAILABLE_MACRO (2, 74)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_74 GLIB_UNAVAILABLE_ENUMERATOR (2, 74)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_74 GLIB_UNAVAILABLE_TYPE (2, 74)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_74 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_74\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_74\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_74\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_74\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_76\n+#define GOBJECT_DEPRECATED_IN_2_76 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_76_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_76 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_76_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_76 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_76_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_76 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_76_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_76 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_76_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_76\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_76_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_76\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_76_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_76\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_76_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_76\n+#define GOBJECT_AVAILABLE_IN_2_76 GOBJECT_UNAVAILABLE (2, 76)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_76 GLIB_UNAVAILABLE_STATIC_INLINE (2, 76)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_76 GLIB_UNAVAILABLE_MACRO (2, 76)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_76 GLIB_UNAVAILABLE_ENUMERATOR (2, 76)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_76 GLIB_UNAVAILABLE_TYPE (2, 76)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_76 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_76\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_76\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_76\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_76\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_78\n+#define GOBJECT_DEPRECATED_IN_2_78 GOBJECT_DEPRECATED\n+#define GOBJECT_DEPRECATED_IN_2_78_FOR(f) GOBJECT_DEPRECATED_FOR (f)\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_78 GLIB_DEPRECATED_MACRO\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_78_FOR(f) GLIB_DEPRECATED_MACRO_FOR (f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_78 GLIB_DEPRECATED_ENUMERATOR\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_78_FOR(f) GLIB_DEPRECATED_ENUMERATOR_FOR (f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_78 GLIB_DEPRECATED_TYPE\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_78_FOR(f) GLIB_DEPRECATED_TYPE_FOR (f)\n+#else\n+#define GOBJECT_DEPRECATED_IN_2_78 _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_IN_2_78_FOR(f) _GOBJECT_EXTERN\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_78\n+#define GOBJECT_DEPRECATED_MACRO_IN_2_78_FOR(f)\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_78\n+#define GOBJECT_DEPRECATED_ENUMERATOR_IN_2_78_FOR(f)\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_78\n+#define GOBJECT_DEPRECATED_TYPE_IN_2_78_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_78\n+#define GOBJECT_AVAILABLE_IN_2_78 GOBJECT_UNAVAILABLE (2, 78)\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_78 GLIB_UNAVAILABLE_STATIC_INLINE (2, 78)\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_78 GLIB_UNAVAILABLE_MACRO (2, 78)\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_78 GLIB_UNAVAILABLE_ENUMERATOR (2, 78)\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_78 GLIB_UNAVAILABLE_TYPE (2, 78)\n+#else\n+#define GOBJECT_AVAILABLE_IN_2_78 _GOBJECT_EXTERN\n+#define GOBJECT_AVAILABLE_STATIC_INLINE_IN_2_78\n+#define GOBJECT_AVAILABLE_MACRO_IN_2_78\n+#define GOBJECT_AVAILABLE_ENUMERATOR_IN_2_78\n+#define GOBJECT_AVAILABLE_TYPE_IN_2_78\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject-visibility.h","additions":952,"deletions":0,"binary":false,"changes":952,"status":"added"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -45,1 +47,1 @@\n- * methods for all object types in GTK+, Pango and other libraries\n+ * methods for all object types in GTK, Pango and other libraries\n@@ -137,1 +139,0 @@\n-\n@@ -154,0 +155,5 @@\n+#define CLASS_HAS_NOTIFY(class) ((class)->notify != NULL)\n+#define CLASS_HAS_CUSTOM_DISPATCH(class) \\\n+    ((class)->dispatch_properties_changed != g_object_dispatch_properties_changed)\n+#define CLASS_NEEDS_NOTIFY(class) \\\n+    (CLASS_HAS_NOTIFY(class) || CLASS_HAS_CUSTOM_DISPATCH(class))\n@@ -171,2 +177,3 @@\n-#define OPTIONAL_FLAG_IN_CONSTRUCTION 1<<0\n-#define OPTIONAL_FLAG_HAS_SIGNAL_HANDLER 1<<1 \/* Set if object ever had a signal handler *\/\n+#define OPTIONAL_FLAG_IN_CONSTRUCTION    (1 << 0)\n+#define OPTIONAL_FLAG_HAS_SIGNAL_HANDLER (1 << 1) \/* Set if object ever had a signal handler *\/\n+#define OPTIONAL_FLAG_HAS_NOTIFY_HANDLER (1 << 2) \/* Same, specifically for \"notify\" *\/\n@@ -258,0 +265,1 @@\n+#ifndef HAVE_OPTIONAL_FLAGS\n@@ -259,0 +267,1 @@\n+#endif\n@@ -320,2 +329,0 @@\n-  g_return_if_fail (g_atomic_int_get(&object->ref_count) > 0);\n-\n@@ -325,6 +332,7 @@\n-  if (G_UNLIKELY(nqueue->freeze_count == 0)) {\n-    G_UNLOCK(notify_lock);\n-    g_warning (\"%s: property-changed notification for %s(%p) is not frozen\",\n-               G_STRFUNC, G_OBJECT_TYPE_NAME (object), object);\n-    return;\n-  }\n+  if (G_UNLIKELY (nqueue->freeze_count == 0))\n+    {\n+      G_UNLOCK (notify_lock);\n+      g_critical (\"%s: property-changed notification for %s(%p) is not frozen\",\n+                  G_STRFUNC, G_OBJECT_TYPE_NAME (object), object);\n+      return;\n+    }\n@@ -333,4 +341,5 @@\n-  if (nqueue->freeze_count) {\n-    G_UNLOCK(notify_lock);\n-    return;\n-  }\n+  if (nqueue->freeze_count)\n+    {\n+      G_UNLOCK (notify_lock);\n+      return;\n+    }\n@@ -481,0 +490,1 @@\n+  class->n_construct_properties = g_slist_length (class->construct_properties);\n@@ -483,0 +493,2 @@\n+  class->pspecs = NULL;\n+  class->n_pspecs = 0;\n@@ -494,0 +506,1 @@\n+  class->n_construct_properties = 0;\n@@ -516,0 +529,1 @@\n+#ifndef HAVE_OPTIONAL_FLAGS\n@@ -517,0 +531,1 @@\n+#endif\n@@ -575,0 +590,1 @@\n+\/* Sinks @pspec if it’s a floating ref. *\/\n@@ -580,0 +596,2 @@\n+  g_param_spec_ref_sink (pspec);\n+\n@@ -582,3 +600,4 @@\n-      g_warning (\"When installing property: type '%s' already has a property named '%s'\",\n-     g_type_name (g_type),\n-     pspec->name);\n+      g_critical (\"When installing property: type '%s' already has a property named '%s'\",\n+      g_type_name (g_type),\n+      pspec->name);\n+      g_param_spec_unref (pspec);\n@@ -588,1 +607,0 @@\n-  g_param_spec_ref_sink (pspec);\n@@ -590,1 +608,1 @@\n-  g_param_spec_pool_insert (pspec_pool, pspec, g_type);\n+  g_param_spec_pool_insert (pspec_pool, g_steal_pointer (&pspec), g_type);\n@@ -611,0 +629,1 @@\n+\/* Sinks @pspec if it’s a floating ref. *\/\n@@ -619,1 +638,5 @@\n-    return FALSE;\n+    {\n+      g_param_spec_ref_sink (pspec);\n+      g_param_spec_unref (pspec);\n+      return FALSE;\n+    }\n@@ -630,1 +653,4 @@\n-        class->construct_properties = g_slist_append (class->construct_properties, pspec);\n+        {\n+          class->construct_properties = g_slist_append (class->construct_properties, pspec);\n+          class->n_construct_properties += 1;\n+        }\n@@ -637,1 +663,4 @@\n-        class->construct_properties = g_slist_remove (class->construct_properties, pspec);\n+        {\n+          class->construct_properties = g_slist_remove (class->construct_properties, pspec);\n+          class->n_construct_properties -= 1;\n+        }\n@@ -685,0 +714,69 @@\n+typedef struct {\n+  const char *name;\n+  GParamSpec *pspec;\n+} PspecEntry;\n+\n+static int\n+compare_pspec_entry (const void *a,\n+                     const void *b)\n+{\n+  const PspecEntry *ae = a;\n+  const PspecEntry *be = b;\n+\n+  return ae->name < be->name ? -1 : (ae->name > be->name ? 1 : 0);\n+}\n+\n+\/* This uses pointer comparisons with @property_name, so\n+ * will only work with string literals. *\/\n+static inline GParamSpec *\n+find_pspec (GObjectClass *class,\n+            const char   *property_name)\n+{\n+  const PspecEntry *pspecs = (const PspecEntry *)class->pspecs;\n+  gsize n_pspecs = class->n_pspecs;\n+\n+  g_assert (n_pspecs <= G_MAXSSIZE);\n+\n+  \/* The limit for choosing between linear and binary search is\n+   * fairly arbitrary.\n+   *\n+   * Both searches use pointer comparisons against @property_name.\n+   * If this function is called with a non-static @property_name,\n+   * it will fall through to the g_param_spec_pool_lookup() case.\n+   * That’s OK; this is an opportunistic optimisation which relies\n+   * on the fact that *most* (but not all) property lookups use\n+   * static property names.\n+   *\/\n+  if (n_pspecs < 10)\n+    {\n+      for (gsize i = 0; i < n_pspecs; i++)\n+        {\n+          if (pspecs[i].name == property_name)\n+            return pspecs[i].pspec;\n+        }\n+    }\n+  else\n+    {\n+      gssize lower = 0;\n+      gssize upper = (int)class->n_pspecs - 1;\n+      gssize mid;\n+\n+      while (lower <= upper)\n+        {\n+          mid = (lower + upper) \/ 2;\n+\n+          if (property_name < pspecs[mid].name)\n+            upper = mid - 1;\n+          else if (property_name > pspecs[mid].name)\n+            lower = mid + 1;\n+          else\n+            return pspecs[mid].pspec;\n+        }\n+    }\n+\n+  return g_param_spec_pool_lookup (pspec_pool,\n+                                   property_name,\n+                                   ((GTypeClass *)class)->g_type,\n+                                   TRUE);\n+}\n+\n@@ -710,3 +808,5 @@\n- * enum {\n- *   PROP_0, PROP_FOO, PROP_BAR, N_PROPERTIES\n- * };\n+ * typedef enum {\n+ *   PROP_FOO = 1,\n+ *   PROP_BAR,\n+ *   N_PROPERTIES\n+ * } MyObjectProperty;\n@@ -725,1 +825,1 @@\n- *                       G_PARAM_READWRITE);\n+ *                       G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS);\n@@ -730,1 +830,1 @@\n- *                          G_PARAM_READWRITE);\n+ *                          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS);\n@@ -735,1 +835,1 @@\n- *                                      N_PROPERTIES,\n+ *                                      G_N_ELEMENTS (obj_properties),\n@@ -789,0 +889,26 @@\n+\n+  \/* Save a copy of the pspec array inside the class struct. This\n+   * makes it faster to look up pspecs for the class in future when\n+   * acting on those properties.\n+   *\n+   * If a pspec is not in this cache array, calling code will fall\n+   * back to using g_param_spec_pool_lookup(), so a pspec not being\n+   * in this array is a (potential) performance problem but not a\n+   * correctness problem. *\/\n+  if (oclass->pspecs == NULL)\n+    {\n+      PspecEntry *entries;\n+\n+      entries = g_new (PspecEntry, n_pspecs - 1);\n+\n+      for (i = 1; i < n_pspecs; i++)\n+        {\n+          entries[i - 1].name = pspecs[i]->name;\n+          entries[i - 1].pspec = pspecs[i];\n+        }\n+\n+      qsort (entries, n_pspecs - 1, sizeof (PspecEntry), compare_pspec_entry);\n+\n+      oclass->pspecs = entries;\n+      oclass->n_pspecs = n_pspecs - 1;\n+    }\n@@ -827,1 +953,5 @@\n-    return;\n+    {\n+      g_param_spec_ref_sink (pspec);\n+      g_param_spec_unref (pspec);\n+      return;\n+    }\n@@ -832,0 +962,8 @@\n+\/* Inlined version of g_param_spec_get_redirect_target(), for speed *\/\n+static inline void\n+param_spec_follow_override (GParamSpec **pspec)\n+{\n+  if (((GTypeInstance *) (*pspec))->g_class->g_type == G_TYPE_PARAM_OVERRIDE)\n+    *pspec = ((GParamSpecOverride *) (*pspec))->overridden;\n+}\n+\n@@ -847,1 +985,0 @@\n-  GParamSpec *redirect;\n@@ -852,4 +989,2 @@\n-  pspec = g_param_spec_pool_lookup (pspec_pool,\n-            property_name,\n-            G_OBJECT_CLASS_TYPE (class),\n-            TRUE);\n+  pspec = find_pspec (class, property_name);\n+\n@@ -857,5 +992,2 @@\n-    {\n-      redirect = g_param_spec_get_redirect_target (pspec);\n-      if (redirect)\n-  return redirect;\n-      else\n+    param_spec_follow_override (&pspec);\n+\n@@ -863,3 +995,0 @@\n-    }\n-  else\n-    return NULL;\n@@ -969,2 +1098,2 @@\n-      g_warning (\"%s: Can't find property to override for '%s::%s'\",\n-     G_STRFUNC, G_OBJECT_CLASS_NAME (oclass), name);\n+      g_critical (\"%s: Can't find property to override for '%s::%s'\",\n+      G_STRFUNC, G_OBJECT_CLASS_NAME (oclass), name);\n@@ -1055,0 +1184,16 @@\n+\/* Variant of object_get_optional_flags for when\n+ * we know that we have exclusive access (during\n+ * construction)\n+ *\/\n+static inline guint\n+object_get_optional_flags_X (GObject *object)\n+{\n+#ifdef HAVE_OPTIONAL_FLAGS\n+  GObjectReal *real = (GObjectReal *)object;\n+  return real->optional_flags;\n+#else\n+  return 0;\n+#endif\n+}\n+\n+#ifdef HAVE_OPTIONAL_FLAGS\n@@ -1059,1 +1204,0 @@\n-#ifdef HAVE_OPTIONAL_FLAGS\n@@ -1062,1 +1206,0 @@\n-#endif\n@@ -1065,0 +1208,3 @@\n+\/* Variant for when we have exclusive access\n+ * (during construction)\n+ *\/\n@@ -1066,2 +1212,2 @@\n-object_unset_optional_flags (GObject *object,\n-                            guint flags)\n+object_set_optional_flags_X (GObject *object,\n+                             guint flags)\n@@ -1069,1 +1215,0 @@\n-#ifdef HAVE_OPTIONAL_FLAGS\n@@ -1071,2 +1216,1 @@\n-  g_atomic_int_and (&real->optional_flags, ~flags);\n-#endif\n+  real->optional_flags |= flags;\n@@ -1075,0 +1219,12 @@\n+\/* Variant for when we have exclusive access\n+ * (during construction)\n+ *\/\n+static inline void\n+object_unset_optional_flags_X (GObject *object,\n+                               guint flags)\n+{\n+  GObjectReal *real = (GObjectReal *)object;\n+  real->optional_flags &= ~flags;\n+}\n+#endif\n+\n@@ -1076,1 +1232,1 @@\n-_g_object_has_signal_handler  (GObject *object)\n+_g_object_has_signal_handler (GObject *object)\n@@ -1085,0 +1241,22 @@\n+static inline gboolean\n+_g_object_has_notify_handler (GObject *object)\n+{\n+#ifdef HAVE_OPTIONAL_FLAGS\n+  return CLASS_NEEDS_NOTIFY (G_OBJECT_GET_CLASS (object)) ||\n+         (object_get_optional_flags (object) & OPTIONAL_FLAG_HAS_NOTIFY_HANDLER) != 0;\n+#else\n+  return TRUE;\n+#endif\n+}\n+\n+static inline gboolean\n+_g_object_has_notify_handler_X (GObject *object)\n+{\n+#ifdef HAVE_OPTIONAL_FLAGS\n+  return CLASS_NEEDS_NOTIFY (G_OBJECT_GET_CLASS (object)) ||\n+         (object_get_optional_flags_X (object) & OPTIONAL_FLAG_HAS_NOTIFY_HANDLER) != 0;\n+#else\n+  return TRUE;\n+#endif\n+}\n+\n@@ -1086,1 +1264,2 @@\n-_g_object_set_has_signal_handler (GObject     *object)\n+_g_object_set_has_signal_handler (GObject *object,\n+                                  guint    signal_id)\n@@ -1089,1 +1268,4 @@\n-  object_set_optional_flags (object, OPTIONAL_FLAG_HAS_SIGNAL_HANDLER);\n+  guint flags = OPTIONAL_FLAG_HAS_SIGNAL_HANDLER;\n+  if (signal_id == gobject_signals[NOTIFY])\n+    flags |= OPTIONAL_FLAG_HAS_NOTIFY_HANDLER;\n+  object_set_optional_flags (object, flags);\n@@ -1107,1 +1289,1 @@\n-  object_set_optional_flags (object, OPTIONAL_FLAG_IN_CONSTRUCTION);\n+  object_set_optional_flags_X (object, OPTIONAL_FLAG_IN_CONSTRUCTION);\n@@ -1117,1 +1299,1 @@\n-  object_unset_optional_flags (object, OPTIONAL_FLAG_IN_CONSTRUCTION);\n+  object_unset_optional_flags_X (object, OPTIONAL_FLAG_IN_CONSTRUCTION);\n@@ -1130,1 +1312,1 @@\n-  if (CLASS_HAS_PROPS (class))\n+  if (CLASS_HAS_PROPS (class) && CLASS_NEEDS_NOTIFY (class))\n@@ -1132,1 +1314,1 @@\n-      \/* freeze object's notification queue, g_object_newv() preserves pairedness *\/\n+      \/* freeze object's notification queue, g_object_new_internal() preserves pairedness *\/\n@@ -1136,5 +1318,2 @@\n-  if (CLASS_HAS_CUSTOM_CONSTRUCTOR (class))\n-    {\n-      \/* mark object in-construction for notify_queue_thaw() and to allow construct-only properties *\/\n-      set_object_in_construction (object);\n-    }\n+  \/* mark object in-construction for notify_queue_thaw() and to allow construct-only properties *\/\n+  set_object_in_construction (object);\n@@ -1211,0 +1390,1 @@\n+#ifdef G_ENABLE_DEBUG\n@@ -1217,1 +1397,0 @@\n-#ifdef G_ENABLE_DEBUG\n@@ -1292,1 +1471,7 @@\n-  if (g_atomic_int_get (&object->ref_count) == 0)\n+#ifndef G_DISABLE_CHECKS\n+  if (G_UNLIKELY (g_atomic_int_get (&object->ref_count) == 0))\n+    {\n+      g_critical (\"Attempting to freeze the notification queue for object %s[%p]; \"\n+                  \"Property notification does not work during instance finalization.\",\n+                  G_OBJECT_TYPE_NAME (object),\n+                  object);\n@@ -1294,0 +1479,2 @@\n+}\n+#endif\n@@ -1300,18 +1487,0 @@\n-static GParamSpec *\n-get_notify_pspec (GParamSpec *pspec)\n-{\n-  GParamSpec *redirected;\n-\n-  \/* we don't notify on non-READABLE parameters *\/\n-  if (~pspec->flags & G_PARAM_READABLE)\n-    return NULL;\n-\n-  \/* if the paramspec is redirected, notify on the target *\/\n-  redirected = g_param_spec_get_redirect_target (pspec);\n-  if (redirected != NULL)\n-    return redirected;\n-\n-  \/* else, notify normally *\/\n-  return pspec;\n-}\n-\n@@ -1322,1 +1491,8 @@\n-  GParamSpec *notify_pspec;\n+  #ifdef HAVE_OPTIONAL_FLAGS\n+  guint object_flags;\n+#endif\n+  gboolean needs_notify;\n+  gboolean in_init;\n+\n+  if (G_UNLIKELY (~pspec->flags & G_PARAM_READABLE))\n+    return;\n@@ -1324,1 +1500,1 @@\n-  notify_pspec = get_notify_pspec (pspec);\n+  param_spec_follow_override (&pspec);\n@@ -1326,1 +1502,12 @@\n-  if (notify_pspec != NULL)\n+#ifdef HAVE_OPTIONAL_FLAGS\n+  \/* get all flags we need with a single atomic read *\/\n+  object_flags = object_get_optional_flags (object);\n+  needs_notify = ((object_flags & OPTIONAL_FLAG_HAS_NOTIFY_HANDLER) != 0) ||\n+                  CLASS_NEEDS_NOTIFY (G_OBJECT_GET_CLASS (object));\n+  in_init = (object_flags & OPTIONAL_FLAG_IN_CONSTRUCTION) != 0;\n+#else\n+  needs_notify = TRUE;\n+  in_init = object_in_construction (object);\n+#endif\n+\n+  if (pspec != NULL && needs_notify)\n@@ -1329,0 +1516,1 @@\n+      gboolean need_thaw = TRUE;\n@@ -1332,0 +1520,9 @@\n+      if (in_init && !nqueue)\n+        {\n+          \/* We did not freeze the queue in g_object_init, but\n+           * we gained a notify handler in instance init, so\n+           * now we need to freeze just-in-time\n+           *\/\n+          nqueue = g_object_notify_queue_freeze (object, FALSE);\n+          need_thaw = FALSE;\n+        }\n@@ -1336,2 +1533,3 @@\n-          g_object_notify_queue_add (object, nqueue, notify_pspec);\n-          g_object_notify_queue_thaw (object, nqueue);\n+          g_object_notify_queue_add (object, nqueue, pspec);\n+          if (need_thaw)\n+            g_object_notify_queue_thaw (object, nqueue);\n@@ -1340,0 +1538,12 @@\n+        {\n+          \/*\n+           * Coverity doesn’t understand the paired ref\/unref here and seems to\n+           * ignore the ref, thus reports every call to g_object_notify() as\n+           * causing a double-free. That’s incorrect, but I can’t get a model\n+           * file to work for avoiding the false positives, so instead comment\n+           * out the ref\/unref when doing static analysis.\n+           *\/\n+#ifndef __COVERITY__\n+          g_object_ref (object);\n+#endif\n+\n@@ -1342,1 +1552,6 @@\n-          ->dispatch_properties_changed (object, 1, &notify_pspec);\n+            ->dispatch_properties_changed (object, 1, &pspec);\n+\n+#ifndef __COVERITY__\n+          g_object_unref (object);\n+#endif\n+        }\n@@ -1370,2 +1585,0 @@\n-  if (g_atomic_int_get (&object->ref_count) == 0)\n-    return;\n@@ -1373,1 +1586,0 @@\n-  g_object_ref (object);\n@@ -1384,4 +1596,4 @@\n-    g_warning (\"%s: object class '%s' has no property named '%s'\",\n-         G_STRFUNC,\n-         G_OBJECT_TYPE_NAME (object),\n-         property_name);\n+    g_critical (\"%s: object class '%s' has no property named '%s'\",\n+          G_STRFUNC,\n+          G_OBJECT_TYPE_NAME (object),\n+          property_name);\n@@ -1390,1 +1602,0 @@\n-  g_object_unref (object);\n@@ -1409,1 +1620,1 @@\n- *   enum\n+ *   typedef enum\n@@ -1411,2 +1622,1 @@\n- *     PROP_0,\n- *     PROP_FOO,\n+ *     PROP_FOO = 1,\n@@ -1414,1 +1624,1 @@\n- *   };\n+ *   } MyObjectProperty;\n@@ -1424,1 +1634,1 @@\n- *                                              G_PARAM_READWRITE);\n+ *                                              G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS);\n@@ -1447,4 +1657,0 @@\n-  if (g_atomic_int_get (&object->ref_count) == 0)\n-    return;\n-\n-  g_object_ref (object);\n@@ -1452,1 +1658,0 @@\n-  g_object_unref (object);\n@@ -1475,2 +1680,12 @@\n-  if (g_atomic_int_get (&object->ref_count) == 0)\n-    return;\n+\n+#ifndef G_DISABLE_CHECKS\n+  if (G_UNLIKELY (g_atomic_int_get (&object->ref_count) == 0))\n+    {\n+      g_critical (\"Attempting to thaw the notification queue for object %s[%p]; \"\n+                  \"Property notification does not work during instance finalization.\",\n+                  G_OBJECT_TYPE_NAME (object),\n+                  object);\n+      return;\n+    }\n+#endif\n+\n@@ -1491,1 +1706,1 @@\n-consider_issuing_property_deprecation_warning (const GParamSpec *pspec)\n+maybe_issue_property_deprecation_warning (const GParamSpec *pspec)\n@@ -1498,3 +1713,0 @@\n-  if (!(pspec->flags & G_PARAM_DEPRECATED))\n-    return;\n-\n@@ -1540,0 +1752,7 @@\n+static inline void\n+consider_issuing_property_deprecation_warning (const GParamSpec *pspec)\n+{\n+  if (G_UNLIKELY (pspec->flags & G_PARAM_DEPRECATED))\n+    maybe_issue_property_deprecation_warning (pspec);\n+}\n+\n@@ -1545,1 +1764,2 @@\n-  GObjectClass *class = g_type_class_peek (pspec->owner_type);\n+  GTypeInstance *inst = (GTypeInstance *) object;\n+  GObjectClass *class;\n@@ -1547,1 +1767,0 @@\n-  GParamSpec *redirect;\n@@ -1549,6 +1768,4 @@\n-  if (class == NULL)\n-    {\n-      g_warning (\"'%s::%s' is not a valid property name; '%s' is not a GObject subtype\",\n-                 g_type_name (pspec->owner_type), pspec->name, g_type_name (pspec->owner_type));\n-      return;\n-    }\n+  if (G_LIKELY (inst->g_class->g_type == pspec->owner_type))\n+    class = (GObjectClass *) inst->g_class;\n+  else\n+    class = g_type_class_peek (pspec->owner_type);\n@@ -1556,3 +1773,3 @@\n-  redirect = g_param_spec_get_redirect_target (pspec);\n-  if (redirect)\n-    pspec = redirect;\n+  g_assert (class != NULL);\n+\n+  param_spec_follow_override (&pspec);\n@@ -1569,1 +1786,2 @@\n-         GObjectNotifyQueue  *nqueue)\n+         GObjectNotifyQueue  *nqueue,\n+         gboolean             user_specified)\n@@ -1571,2 +1789,3 @@\n-  GValue tmp_value = G_VALUE_INIT;\n-  GObjectClass *class = g_type_class_peek (pspec->owner_type);\n+  GTypeInstance *inst = (GTypeInstance *) object;\n+  GObjectClass *class;\n+  GParamSpecClass *pclass;\n@@ -1574,1 +1793,0 @@\n-  GParamSpec *redirect;\n@@ -1576,1 +1794,16 @@\n-  if (class == NULL)\n+  if (G_LIKELY (inst->g_class->g_type == pspec->owner_type))\n+    class = (GObjectClass *) inst->g_class;\n+  else\n+    class = g_type_class_peek (pspec->owner_type);\n+\n+  g_assert (class != NULL);\n+\n+  param_spec_follow_override (&pspec);\n+\n+  if (user_specified)\n+    consider_issuing_property_deprecation_warning (pspec);\n+\n+  pclass = G_PARAM_SPEC_GET_CLASS (pspec);\n+  if (g_value_type_compatible (G_VALUE_TYPE (value), pspec->value_type) &&\n+      (pclass->value_validate == NULL ||\n+       (pclass->value_is_valid != NULL && pclass->value_is_valid (pspec, value))))\n@@ -1578,3 +1811,1 @@\n-      g_warning (\"'%s::%s' is not a valid property name; '%s' is not a GObject subtype\",\n-                 g_type_name (pspec->owner_type), pspec->name, g_type_name (pspec->owner_type));\n-      return;\n+      class->set_property (object, param_id, value, pspec);\n@@ -1582,0 +1813,4 @@\n+  else\n+    {\n+      \/* provide a copy to work from, convert (if necessary) and validate *\/\n+      GValue tmp_value = G_VALUE_INIT;\n@@ -1583,5 +1818,0 @@\n-  redirect = g_param_spec_get_redirect_target (pspec);\n-  if (redirect)\n-    pspec = redirect;\n-\n-  \/* provide a copy to work from, convert (if necessary) and validate *\/\n@@ -1589,0 +1819,1 @@\n+\n@@ -1590,4 +1821,4 @@\n-    g_warning (\"unable to set property '%s' of type '%s' from value of type '%s'\",\n-         pspec->name,\n-         g_type_name (pspec->value_type),\n-         G_VALUE_TYPE_NAME (value));\n+    g_critical (\"unable to set property '%s' of type '%s' from value of type '%s'\",\n+                pspec->name,\n+                g_type_name (pspec->value_type),\n+                G_VALUE_TYPE_NAME (value));\n@@ -1598,6 +1829,6 @@\n-      g_warning (\"value \\\"%s\\\" of type '%s' is invalid or out of range for property '%s' of type '%s'\",\n-     contents,\n-     G_VALUE_TYPE_NAME (value),\n-     pspec->name,\n-     g_type_name (pspec->value_type));\n-      g_free (contents);\n+      g_critical (\"value \\\"%s\\\" of type '%s' is invalid or out of range for property '%s' of type '%s'\",\n+                  contents,\n+                  G_VALUE_TYPE_NAME (value),\n+                  pspec->name,\n+                  g_type_name (pspec->value_type));\n+                  g_free (contents);\n@@ -1608,4 +1839,0 @@\n-\n-      if (~pspec->flags & G_PARAM_EXPLICIT_NOTIFY &&\n-          pspec->flags & G_PARAM_READABLE)\n-        g_object_notify_queue_add (object, nqueue, pspec);\n@@ -1613,1 +1840,7 @@\n-  g_value_unset (&tmp_value);\n+\n+        g_value_unset (&tmp_value);\n+  }\n+\n+  if ((pspec->flags & (G_PARAM_EXPLICIT_NOTIFY | G_PARAM_READABLE)) == G_PARAM_READABLE &&\n+      nqueue != NULL)\n+    g_object_notify_queue_add (object, nqueue, pspec);\n@@ -1779,1 +2012,1 @@\n- *  name\/value pairs, followed by %NULL\n+ *   name\/value pairs, followed by %NULL\n@@ -1789,4 +2022,4 @@\n- * up to #gint or #guint as appropriate, and read back accordingly. #gint is 32\n- * bits on every platform on which GLib is currently supported. This means that\n- * you can use C expressions of type #gint with g_object_new() and properties of\n- * type #gint or #guint or smaller. Specifically, you can use integer literals\n+ * up to `gint` or `guint` as appropriate, and read back accordingly. `gint` is\n+ * 32 bits on every platform on which GLib is currently supported. This means that\n+ * you can use C expressions of type `gint` with g_object_new() and properties of\n+ * type `gint` or `guint` or smaller. Specifically, you can use integer literals\n@@ -1795,1 +2028,1 @@\n- * When using property types of #gint64 or #guint64, you must ensure that the\n+ * When using property types of `gint64` or `guint64`, you must ensure that the\n@@ -1799,2 +2032,2 @@\n- * Similarly, #gfloat is promoted to #gdouble, so you must ensure that the value\n- * you provide is a #gdouble, even for a property of type #gfloat.\n+ * Similarly, `gfloat` is promoted to `gdouble`, so you must ensure that the value\n+ * you provide is a `gdouble`, even for a property of type `gfloat`.\n@@ -1803,2 +2036,2 @@\n- * alignment of the largest basic GLib type (typically this is #guint64 or\n- * #gdouble). If you need larger alignment for an element in a #GObject, you\n+ * alignment of the largest basic GLib type (typically this is `guint64` or\n+ * `gdouble`). If you need larger alignment for an element in a #GObject, you\n@@ -1858,0 +2091,1 @@\n+  gboolean free_cparams = FALSE;\n@@ -1860,1 +2094,0 @@\n-  gint n_cparams;\n@@ -1875,4 +2108,15 @@\n-  \/* Create the array of GObjectConstructParams for constructor() *\/\n-  n_cparams = g_slist_length (class->construct_properties);\n-  cparams = g_new (GObjectConstructParam, n_cparams);\n-  cvalues = g_new0 (GValue, n_cparams);\n+  \/* Create the array of GObjectConstructParams for constructor(),\n+   * The 1024 here is an arbitrary, high limit that no sane code\n+   * will ever hit, just to avoid the possibility of stack overflow.\n+   *\/\n+  if (G_LIKELY (class->n_construct_properties < 1024))\n+    {\n+      cparams = g_newa0 (GObjectConstructParam, class->n_construct_properties);\n+      cvalues = g_newa0 (GValue, class->n_construct_properties);\n+    }\n+  else\n+    {\n+      cparams = g_new0 (GObjectConstructParam, class->n_construct_properties);\n+      cvalues = g_new0 (GValue, class->n_construct_properties);\n+      free_cparams = TRUE;\n+    }\n@@ -1919,1 +2163,1 @@\n-  object = class->constructor (class->g_type_class.g_type, n_cparams, cparams);\n+  object = class->constructor (class->g_type_class.g_type, class->n_construct_properties, cparams);\n@@ -1921,1 +2165,0 @@\n-  g_free (cparams);\n@@ -1924,1 +2167,6 @@\n-  g_free (cvalues);\n+\n+  if (free_cparams)\n+    {\n+      g_free (cparams);\n+      g_free (cvalues);\n+    }\n@@ -1957,22 +2205,10 @@\n-      \/* If this object was newly_constructed then g_object_init()\n-       * froze the queue.  We need to freeze it here in order to get\n-       * the handle so that we can thaw it below (otherwise it will\n-       * be frozen forever).\n-       *\n-       * We also want to do a freeze if we have any params to set,\n-       * even on a non-newly_constructed object.\n-       *\n-       * It's possible that we have the case of non-newly created\n-       * singleton and all of the passed-in params were construct\n-       * properties so n_params > 0 but we will actually set no\n-       * properties.  This is a pretty lame case to optimise, so\n-       * just ignore it and freeze anyway.\n-       *\/\n-      if (newly_constructed || n_params)\n-        nqueue = g_object_notify_queue_freeze (object, FALSE);\n-\n-      \/* Remember: if it was newly_constructed then g_object_init()\n-       * already did a freeze, so we now have two.  Release one.\n-       *\/\n-      if (newly_constructed)\n-        g_object_notify_queue_thaw (object, nqueue);\n+      if ((newly_constructed && _g_object_has_notify_handler_X (object)) ||\n+          _g_object_has_notify_handler (object))\n+        {\n+          \/* This may or may not have been setup in g_object_init().\n+           * If it hasn't, we do it now.\n+           *\/\n+          nqueue = g_datalist_id_get_data (&object->qdata, quark_notify_queue);\n+          if (!nqueue)\n+            nqueue = g_object_notify_queue_freeze (object, FALSE);\n+        }\n@@ -1988,4 +2224,1 @@\n-      {\n-        consider_issuing_property_deprecation_warning (params[i].pspec);\n-        object_set_property (object, params[i].pspec, params[i].value, nqueue);\n-      }\n+      object_set_property (object, params[i].pspec, params[i].value, nqueue, TRUE);\n@@ -2007,0 +2240,1 @@\n+  guint i;\n@@ -2015,0 +2249,2 @@\n+  unset_object_in_construction (object);\n+\n@@ -2019,3 +2255,9 @@\n-      \/* This will have been setup in g_object_init() *\/\n-      nqueue = g_datalist_id_get_data (&object->qdata, quark_notify_queue);\n-      g_assert (nqueue != NULL);\n+      if (_g_object_has_notify_handler_X (object))\n+        {\n+          \/* This may or may not have been setup in g_object_init().\n+           * If it hasn't, we do it now.\n+           *\/\n+          nqueue = g_datalist_id_get_data (&object->qdata, quark_notify_queue);\n+          if (!nqueue)\n+            nqueue = g_object_notify_queue_freeze (object, FALSE);\n+        }\n@@ -2032,0 +2274,1 @@\n+          gboolean user_specified = FALSE;\n@@ -2039,1 +2282,0 @@\n-                consider_issuing_property_deprecation_warning (pspec);\n@@ -2041,0 +2283,1 @@\n+                user_specified = TRUE;\n@@ -2047,1 +2290,1 @@\n-          object_set_property (object, pspec, value, nqueue);\n+          object_set_property (object, pspec, value, nqueue, user_specified);\n@@ -2055,14 +2298,6 @@\n-  if (nqueue)\n-    {\n-      guint i;\n-\n-      \/* Set remaining properties.  The construct properties will\n-       * already have been taken, so set only the non-construct\n-       * ones.\n-       *\/\n-      for (i = 0; i < n_params; i++)\n-        if (!(params[i].pspec->flags & (G_PARAM_CONSTRUCT | G_PARAM_CONSTRUCT_ONLY)))\n-          {\n-            consider_issuing_property_deprecation_warning (params[i].pspec);\n-            object_set_property (object, params[i].pspec, params[i].value, nqueue);\n-          }\n+  \/* Set remaining properties.  The construct properties will\n+   * already have been taken, so set only the non-construct ones.\n+   *\/\n+  for (i = 0; i < n_params; i++)\n+    if (!(params[i].pspec->flags & (G_PARAM_CONSTRUCT | G_PARAM_CONSTRUCT_ONLY)))\n+      object_set_property (object, params[i].pspec, params[i].value, nqueue, TRUE);\n@@ -2070,2 +2305,2 @@\n-      g_object_notify_queue_thaw (object, nqueue);\n-    }\n+  if (nqueue)\n+    g_object_notify_queue_thaw (object, nqueue);\n@@ -2162,2 +2397,2 @@\n-          GParamSpec *pspec;\n-          pspec = g_param_spec_pool_lookup (pspec_pool, names[i], object_type, TRUE);\n+          GParamSpec *pspec = find_pspec (class, names[i]);\n+\n@@ -2167,6 +2402,1 @@\n-\n-          \/* Init GValue *\/\n-          params[count].value = g_newa0 (GValue, 1);\n-          g_value_init (params[count].value, G_VALUE_TYPE (&values[i]));\n-\n-          g_value_copy (&values[i], params[count].value);\n+          params[count].value = (GValue *) &values[i];\n@@ -2176,3 +2406,0 @@\n-\n-      while (count--)\n-        g_value_unset (params[count].value);\n@@ -2236,1 +2463,1 @@\n-          GParamSpec *pspec;\n+          GParamSpec *pspec = find_pspec (class, parameters[i].name);\n@@ -2238,1 +2465,0 @@\n-          pspec = g_param_spec_pool_lookup (pspec_pool, parameters[i].name, object_type, TRUE);\n@@ -2296,0 +2522,1 @@\n+      GTypeValueTable *vtabs_stack[G_N_ELEMENTS (params_stack)];\n@@ -2299,0 +2526,1 @@\n+      GTypeValueTable **vtabs = vtabs_stack;\n@@ -2307,3 +2535,1 @@\n-          GParamSpec *pspec;\n-\n-          pspec = g_param_spec_pool_lookup (pspec_pool, name, object_type, TRUE);\n+          GParamSpec *pspec = find_pspec (class, name);\n@@ -2323,0 +2549,1 @@\n+                  vtabs = g_new (GTypeValueTable *, n_params_alloc);\n@@ -2325,0 +2552,1 @@\n+                  memcpy (vtabs, vtabs_stack, sizeof (GTypeValueTable *) * n_params);\n@@ -2331,0 +2559,1 @@\n+                  vtabs = g_realloc (vtabs, sizeof (GTypeValueTable *) * n_params_alloc);\n@@ -2341,1 +2570,1 @@\n-          G_VALUE_COLLECT_INIT (&values[n_params], pspec->value_type, var_args, 0, &error);\n+          G_VALUE_COLLECT_INIT2 (&values[n_params], vtabs[n_params], pspec->value_type, var_args, G_VALUE_NOCOPY_CONTENTS, &error);\n@@ -2358,1 +2587,7 @@\n-        g_value_unset (params[n_params].value);\n+        {\n+          \/* We open-code g_value_unset() here to avoid the\n+           * cost of looking up the GTypeValueTable again.\n+           *\/\n+          if (vtabs[n_params]->value_free)\n+            vtabs[n_params]->value_free (params[n_params].value);\n+        }\n@@ -2364,0 +2599,1 @@\n+          g_free (vtabs);\n@@ -2398,1 +2634,1 @@\n-    object_set_property (object, pspec, value, nqueue);\n+    object_set_property (object, pspec, value, nqueue, TRUE);\n@@ -2423,2 +2659,2 @@\n-      g_warning (\"%s: object class '%s' has no property named '%s'\",\n-                 G_STRFUNC, G_OBJECT_TYPE_NAME (object), property_name);\n+      g_critical (\"%s: object class '%s' has no property named '%s'\",\n+                  G_STRFUNC, G_OBJECT_TYPE_NAME (object), property_name);\n@@ -2429,2 +2665,2 @@\n-      g_warning (\"%s: property '%s' of object class '%s' is not writable\",\n-                 G_STRFUNC, pspec->name, G_OBJECT_TYPE_NAME (object));\n+      g_critical (\"%s: property '%s' of object class '%s' is not writable\",\n+                  G_STRFUNC, pspec->name, G_OBJECT_TYPE_NAME (object));\n@@ -2435,2 +2671,2 @@\n-      g_warning (\"%s: construct property \\\"%s\\\" for object '%s' can't be set after construction\",\n-                 G_STRFUNC, pspec->name, G_OBJECT_TYPE_NAME (object));\n+      g_critical (\"%s: construct property \\\"%s\\\" for object '%s' can't be set after construction\",\n+                  G_STRFUNC, pspec->name, G_OBJECT_TYPE_NAME (object));\n@@ -2463,1 +2699,1 @@\n-  GObjectNotifyQueue *nqueue;\n+  GObjectNotifyQueue *nqueue = NULL;\n@@ -2465,1 +2701,1 @@\n-  GType obj_type;\n+  GObjectClass *class;\n@@ -2473,2 +2709,6 @@\n-  obj_type = G_OBJECT_TYPE (object);\n-  nqueue = g_object_notify_queue_freeze (object, FALSE);\n+\n+  class = G_OBJECT_GET_CLASS (object);\n+\n+  if (_g_object_has_notify_handler (object))\n+    nqueue = g_object_notify_queue_freeze (object, FALSE);\n+\n@@ -2477,1 +2717,1 @@\n-      pspec = g_param_spec_pool_lookup (pspec_pool, names[i], obj_type, TRUE);\n+      pspec = find_pspec (class, names[i]);\n@@ -2482,2 +2722,1 @@\n-      consider_issuing_property_deprecation_warning (pspec);\n-      object_set_property (object, pspec, &values[i], nqueue);\n+      object_set_property (object, pspec, &values[i], nqueue, TRUE);\n@@ -2486,1 +2725,3 @@\n-  g_object_notify_queue_thaw (object, nqueue);\n+  if (nqueue)\n+    g_object_notify_queue_thaw (object, nqueue);\n+\n@@ -2504,1 +2745,1 @@\n-  GObjectNotifyQueue *nqueue;\n+  GObjectNotifyQueue *nqueue = NULL;\n@@ -2506,0 +2747,1 @@\n+  GObjectClass *class;\n@@ -2510,1 +2752,5 @@\n-  nqueue = g_object_notify_queue_freeze (object, FALSE);\n+\n+  if (_g_object_has_notify_handler (object))\n+    nqueue = g_object_notify_queue_freeze (object, FALSE);\n+\n+  class = G_OBJECT_GET_CLASS (object);\n@@ -2518,0 +2764,1 @@\n+      GTypeValueTable *vtab;\n@@ -2519,4 +2766,1 @@\n-      pspec = g_param_spec_pool_lookup (pspec_pool,\n-          name,\n-          G_OBJECT_TYPE (object),\n-          TRUE);\n+      pspec = find_pspec (class, name);\n@@ -2527,2 +2771,1 @@\n-      G_VALUE_COLLECT_INIT (&value, pspec->value_type, var_args,\n-          0, &error);\n+      G_VALUE_COLLECT_INIT2 (&value, vtab, pspec->value_type, var_args, G_VALUE_NOCOPY_CONTENTS, &error);\n@@ -2531,1 +2774,1 @@\n-          g_warning (\"%s: %s\", G_STRFUNC, error);\n+          g_critical (\"%s: %s\", G_STRFUNC, error);\n@@ -2537,3 +2780,7 @@\n-      consider_issuing_property_deprecation_warning (pspec);\n-      object_set_property (object, pspec, &value, nqueue);\n-      g_value_unset (&value);\n+      object_set_property (object, pspec, &value, nqueue, TRUE);\n+\n+      \/* We open-code g_value_unset() here to avoid the\n+       * cost of looking up the GTypeValueTable again.\n+       *\/\n+      if (vtab->value_free)\n+        vtab->value_free (&value);\n@@ -2544,1 +2791,3 @@\n-  g_object_notify_queue_thaw (object, nqueue);\n+  if (nqueue)\n+    g_object_notify_queue_thaw (object, nqueue);\n+\n@@ -2555,2 +2804,2 @@\n-      g_warning (\"%s: object class '%s' has no property named '%s'\",\n-                 G_STRFUNC, G_OBJECT_TYPE_NAME (object), property_name);\n+      g_critical (\"%s: object class '%s' has no property named '%s'\",\n+                  G_STRFUNC, G_OBJECT_TYPE_NAME (object), property_name);\n@@ -2561,2 +2810,2 @@\n-      g_warning (\"%s: property '%s' of object class '%s' is not readable\",\n-                 G_STRFUNC, pspec->name, G_OBJECT_TYPE_NAME (object));\n+      g_critical (\"%s: property '%s' of object class '%s' is not readable\",\n+                  G_STRFUNC, pspec->name, G_OBJECT_TYPE_NAME (object));\n@@ -2590,1 +2839,1 @@\n-  GType obj_type;\n+  GObjectClass *class;\n@@ -2599,0 +2848,2 @@\n+  class = G_OBJECT_GET_CLASS (object);\n+\n@@ -2601,1 +2852,0 @@\n-  obj_type = G_OBJECT_TYPE (object);\n@@ -2604,1 +2854,2 @@\n-      pspec = g_param_spec_pool_lookup (pspec_pool, names[i], obj_type, TRUE);\n+      pspec = find_pspec (class, names[i]);\n+\n@@ -2634,0 +2885,1 @@\n+  GObjectClass *class;\n@@ -2639,0 +2891,2 @@\n+  class = G_OBJECT_GET_CLASS (object);\n+\n@@ -2647,4 +2901,1 @@\n-      pspec = g_param_spec_pool_lookup (pspec_pool,\n-          name,\n-          G_OBJECT_TYPE (object),\n-          TRUE);\n+      pspec = find_pspec (class, name);\n@@ -2661,6 +2912,6 @@\n-  {\n-    g_warning (\"%s: %s\", G_STRFUNC, error);\n-    g_free (error);\n-    g_value_unset (&value);\n-    break;\n-  }\n+        {\n+          g_critical (\"%s: %s\", G_STRFUNC, error);\n+          g_free (error);\n+          g_value_unset (&value);\n+          break;\n+        }\n@@ -2810,4 +3061,1 @@\n-  pspec = g_param_spec_pool_lookup (pspec_pool,\n-            property_name,\n-            G_OBJECT_TYPE (object),\n-            TRUE);\n+  pspec = find_pspec (G_OBJECT_GET_CLASS (object), property_name);\n@@ -2833,4 +3081,4 @@\n-          g_warning (\"%s: can't retrieve property '%s' of type '%s' as value of type '%s'\",\n-                     G_STRFUNC, pspec->name,\n-                     g_type_name (pspec->value_type),\n-                     G_VALUE_TYPE_NAME (value));\n+          g_critical (\"%s: can't retrieve property '%s' of type '%s' as value of type '%s'\",\n+                      G_STRFUNC, pspec->name,\n+                      g_type_name (pspec->value_type),\n+                      G_VALUE_TYPE_NAME (value));\n@@ -2868,2 +3116,2 @@\n- * - signal: equivalent to g_signal_connect_data (..., NULL, 0)\n- * - object-signal, object_signal: equivalent to g_signal_connect_object (..., 0)\n+ * - signal: equivalent to g_signal_connect_data (..., NULL, G_CONNECT_DEFAULT)\n+ * - object-signal, object_signal: equivalent to g_signal_connect_object (..., G_CONNECT_DEFAULT)\n@@ -2910,1 +3158,1 @@\n-             0);\n+             G_CONNECT_DEFAULT);\n@@ -2915,1 +3163,1 @@\n-         0);\n+         G_CONNECT_DEFAULT);\n@@ -2948,1 +3196,1 @@\n-    g_warning (\"%s: invalid signal spec \\\"%s\\\"\", G_STRFUNC, signal_spec);\n+    g_critical (\"%s: invalid signal spec \\\"%s\\\"\", G_STRFUNC, signal_spec);\n@@ -3005,1 +3253,1 @@\n-    g_warning (\"%s: invalid signal spec \\\"%s\\\"\", G_STRFUNC, signal_spec);\n+    g_critical (\"%s: invalid signal spec \\\"%s\\\"\", G_STRFUNC, signal_spec);\n@@ -3011,1 +3259,1 @@\n-  g_warning (\"%s: invalid signal name \\\"%s\\\"\", G_STRFUNC, signal_spec);\n+  g_critical (\"%s: invalid signal name \\\"%s\\\"\", G_STRFUNC, signal_spec);\n@@ -3015,1 +3263,1 @@\n-  g_warning (\"%s: signal handler %p(%p) is not connected\", G_STRFUNC, callback, data);\n+  g_critical (\"%s: signal handler %p(%p) is not connected\", G_STRFUNC, callback, data);\n@@ -3129,1 +3377,1 @@\n-    g_warning (\"%s: couldn't find weak ref %p(%p)\", G_STRFUNC, notify, data);\n+    g_critical (\"%s: couldn't find weak ref %p(%p)\", G_STRFUNC, notify, data);\n@@ -3190,4 +3438,6 @@\n-      do\n-        oldvalue = g_atomic_pointer_get (&object->qdata);\n-      while (!g_atomic_pointer_compare_and_exchange ((void**) &object->qdata, oldvalue,\n-                                                     (gpointer) ((gsize) oldvalue | OBJECT_FLOATING_FLAG)));\n+      oldvalue = g_atomic_pointer_get (&object->qdata);\n+      while (!g_atomic_pointer_compare_and_exchange_full (\n+        (void**) &object->qdata, oldvalue,\n+        (void *) ((gsize) oldvalue | OBJECT_FLOATING_FLAG),\n+        &oldvalue))\n+        ;\n@@ -3196,4 +3446,6 @@\n-      do\n-        oldvalue = g_atomic_pointer_get (&object->qdata);\n-      while (!g_atomic_pointer_compare_and_exchange ((void**) &object->qdata, oldvalue,\n-                                                     (gpointer) ((gsize) oldvalue & ~(gsize) OBJECT_FLOATING_FLAG)));\n+      oldvalue = g_atomic_pointer_get (&object->qdata);\n+      while (!g_atomic_pointer_compare_and_exchange_full (\n+        (void**) &object->qdata, oldvalue,\n+        (void *) ((gsize) oldvalue & ~(gsize) OBJECT_FLOATING_FLAG),\n+        &oldvalue))\n+        ;\n@@ -3503,1 +3755,1 @@\n-    g_warning (\"%s: couldn't find toggle ref %p(%p)\", G_STRFUNC, notify, data);\n+    g_critical (\"%s: couldn't find toggle ref %p(%p)\", G_STRFUNC, notify, data);\n@@ -3561,1 +3813,0 @@\n- retry_atomic_decrement1:\n@@ -3563,1 +3814,2 @@\n-  if (old_ref > 1)\n+ retry_atomic_decrement1:\n+  while (old_ref > 1)\n@@ -3566,1 +3818,0 @@\n-      gboolean has_toggle_ref = OBJECT_HAS_TOGGLE_REF (object);\n@@ -3568,2 +3819,4 @@\n-      if (!g_atomic_int_compare_and_exchange ((int *)&object->ref_count, old_ref, old_ref - 1))\n-        goto retry_atomic_decrement1;\n+      if (!g_atomic_int_compare_and_exchange_full ((int *)&object->ref_count,\n+                                                   old_ref, old_ref - 1,\n+                                                   &old_ref))\n+        continue;\n@@ -3574,2 +3827,7 @@\n-      if (old_ref == 2 && has_toggle_ref) \/* The last ref being held in this case is owned by the toggle_ref *\/\n-        toggle_refs_notify (object, TRUE);\n+      if (old_ref == 2 && OBJECT_HAS_TOGGLE_REF (object))\n+        {\n+          \/* The last ref being held in this case is owned by the toggle_ref *\/\n+          toggle_refs_notify (object, TRUE);\n+        }\n+\n+      return;\n@@ -3577,1 +3835,1 @@\n-  else\n+\n@@ -3640,1 +3898,0 @@\n-    retry_atomic_decrement2:\n@@ -3642,1 +3899,2 @@\n-      if (old_ref > 1)\n+\n+      while (old_ref > 1)\n@@ -3645,1 +3903,0 @@\n-          gboolean has_toggle_ref = OBJECT_HAS_TOGGLE_REF (object);\n@@ -3647,2 +3904,6 @@\n-          if (!g_atomic_int_compare_and_exchange ((int *)&object->ref_count, old_ref, old_ref - 1))\n-            goto retry_atomic_decrement2;\n+          if (!g_atomic_int_compare_and_exchange_full ((int *)&object->ref_count,\n+                                                       old_ref, old_ref - 1,\n+                                                       &old_ref))\n+            continue;\n+\n+          TRACE (GOBJECT_OBJECT_UNREF (object, G_TYPE_FROM_INSTANCE (object), old_ref));\n@@ -3653,2 +3914,0 @@\n-          TRACE (GOBJECT_OBJECT_UNREF(object,G_TYPE_FROM_INSTANCE(object),old_ref));\n-\n@@ -3656,2 +3915,6 @@\n-          if (old_ref == 2 && has_toggle_ref) \/* The last ref being held in this case is owned by the toggle_ref *\/\n-            toggle_refs_notify (object, TRUE);\n+          if (old_ref == 2 && OBJECT_HAS_TOGGLE_REF (object) &&\n+              g_atomic_int_get ((int *)&object->ref_count) == 1)\n+            {\n+              \/* The last ref being held in this case is owned by the toggle_ref *\/\n+              toggle_refs_notify (object, TRUE);\n+            }\n@@ -4139,2 +4402,1 @@\n-  if (value->data[0].v_pointer)\n-    g_object_unref (value->data[0].v_pointer);\n+  g_clear_object ((GObject**) &value->data[0].v_pointer);\n@@ -4147,4 +4409,2 @@\n-  if (src_value->data[0].v_pointer)\n-    dest_value->data[0].v_pointer = g_object_ref (src_value->data[0].v_pointer);\n-  else\n-    dest_value->data[0].v_pointer = NULL;\n+  g_set_object ((GObject**) &dest_value->data[0].v_pointer,\n+                src_value->data[0].v_pointer);\n@@ -4245,1 +4505,4 @@\n-  old = value->data[0].v_pointer;\n+  if G_UNLIKELY (value->data[0].v_pointer == v_object)\n+    return;\n+\n+  old = g_steal_pointer (&value->data[0].v_pointer);\n@@ -4252,2 +4515,1 @@\n-      value->data[0].v_pointer = v_object;\n-      g_object_ref (value->data[0].v_pointer);\n+      value->data[0].v_pointer = g_object_ref (v_object);\n@@ -4255,2 +4517,0 @@\n-  else\n-    value->data[0].v_pointer = NULL;\n@@ -4258,2 +4518,1 @@\n-  if (old)\n-    g_object_unref (old);\n+  g_clear_object (&old);\n@@ -4299,5 +4558,1 @@\n-  if (value->data[0].v_pointer)\n-    {\n-      g_object_unref (value->data[0].v_pointer);\n-      value->data[0].v_pointer = NULL;\n-    }\n+  g_clear_object ((GObject **) &value->data[0].v_pointer);\n@@ -4310,1 +4565,1 @@\n-      value->data[0].v_pointer = v_object; \/* we take over the reference count *\/\n+      value->data[0].v_pointer = g_steal_pointer (&v_object);\n@@ -4320,1 +4575,1 @@\n- * Returns: (type GObject.Object) (transfer none): object contents of @value\n+ * Returns: (type GObject.Object) (transfer none) (nullable): object contents of @value\n@@ -4338,1 +4593,1 @@\n- * Returns: (type GObject.Object) (transfer full): object content of @value,\n+ * Returns: (type GObject.Object) (transfer full) (nullable): object content of @value,\n@@ -4607,1 +4862,1 @@\n-      return G_TYPE_INITIALLY_UNOWNED;\n+      return (gsize) G_TYPE_INITIALLY_UNOWNED;\n@@ -4830,6 +5085,1 @@\n-          \/* for it to point to an object, the object must have had it added once *\/\n-          g_assert (weak_locations != NULL);\n-\n-          *weak_locations = g_slist_remove (*weak_locations, weak_ref);\n-\n-          if (!*weak_locations)\n+          if (weak_locations == NULL)\n@@ -4837,2 +5087,15 @@\n-              weak_locations_free_unlocked (weak_locations);\n-              g_datalist_id_remove_no_notify (&old_object->qdata, quark_weak_locations);\n+#ifndef G_DISABLE_ASSERT\n+              gboolean in_weak_refs_notify =\n+                  g_datalist_id_get_data (&old_object->qdata, quark_weak_refs) == NULL;\n+              g_assert (in_weak_refs_notify);\n+#endif \/* G_DISABLE_ASSERT *\/\n+            }\n+          else\n+            {\n+              *weak_locations = g_slist_remove (*weak_locations, weak_ref);\n+\n+              if (!*weak_locations)\n+                {\n+                  weak_locations_free_unlocked (weak_locations);\n+                  g_datalist_id_remove_no_notify (&old_object->qdata, quark_weak_locations);\n+                }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject.c","additions":618,"deletions":355,"binary":false,"changes":973,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -361,1 +363,1 @@\n-               GParamSpec  **pspecs);\n+                                             GParamSpec  **pspecs);\n@@ -372,0 +374,5 @@\n+  gsize         n_construct_properties;\n+\n+  gpointer pspecs;\n+  gsize n_pspecs;\n+\n@@ -373,1 +380,1 @@\n-  gpointer      pdummy[6];\n+  gpointer      pdummy[3];\n@@ -406,1 +413,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -408,1 +415,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -412,1 +419,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -415,1 +422,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -418,1 +425,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -422,1 +429,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -427,1 +434,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -430,1 +437,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -433,1 +440,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -437,1 +444,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -439,1 +446,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -443,1 +450,1 @@\n-GLIB_AVAILABLE_IN_2_54\n+GOBJECT_AVAILABLE_IN_2_54\n@@ -451,1 +458,1 @@\n-GLIB_DEPRECATED_IN_2_54_FOR(g_object_new_with_properties)\n+GOBJECT_DEPRECATED_IN_2_54_FOR(g_object_new_with_properties)\n@@ -458,1 +465,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -462,1 +469,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -466,1 +473,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -470,1 +477,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -474,1 +481,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -478,1 +485,1 @@\n-GLIB_AVAILABLE_IN_2_54\n+GOBJECT_AVAILABLE_IN_2_54\n@@ -483,1 +490,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -487,1 +494,1 @@\n-GLIB_AVAILABLE_IN_2_54\n+GOBJECT_AVAILABLE_IN_2_54\n@@ -492,1 +499,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -496,1 +503,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -500,1 +507,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -504,1 +511,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -506,1 +513,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -509,1 +516,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -512,1 +519,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -514,1 +521,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -516,1 +523,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -518,1 +525,1 @@\n-GLIB_AVAILABLE_IN_2_70\n+GOBJECT_AVAILABLE_IN_2_70\n@@ -520,1 +527,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -522,1 +529,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -524,1 +531,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -528,1 +535,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -532,1 +539,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -535,1 +542,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -563,1 +570,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -567,1 +574,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -572,1 +579,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -575,1 +582,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -579,1 +586,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -584,1 +591,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -588,1 +595,1 @@\n-GLIB_AVAILABLE_IN_2_34\n+GOBJECT_AVAILABLE_IN_2_34\n@@ -593,1 +600,1 @@\n-GLIB_AVAILABLE_IN_2_34\n+GOBJECT_AVAILABLE_IN_2_34\n@@ -601,1 +608,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -604,1 +611,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -608,1 +615,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -613,1 +620,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -617,1 +624,1 @@\n-GLIB_AVAILABLE_IN_2_34\n+GOBJECT_AVAILABLE_IN_2_34\n@@ -622,1 +629,1 @@\n-GLIB_AVAILABLE_IN_2_34\n+GOBJECT_AVAILABLE_IN_2_34\n@@ -631,1 +638,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -634,1 +641,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -637,1 +644,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -640,1 +647,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -643,1 +650,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -646,1 +653,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -648,1 +655,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -650,1 +657,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -658,1 +665,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -660,1 +667,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -664,1 +671,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -667,1 +674,1 @@\n-GLIB_DEPRECATED_FOR(g_value_take_object)\n+GOBJECT_DEPRECATED_FOR(g_value_take_object)\n@@ -671,1 +678,1 @@\n-GLIB_DEPRECATED\n+GOBJECT_DEPRECATED\n@@ -701,1 +708,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -780,1 +787,1 @@\n-  GLIB_AVAILABLE_MACRO_IN_2_44\n+  GOBJECT_AVAILABLE_MACRO_IN_2_44\n@@ -933,1 +940,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -936,1 +943,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -938,1 +945,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -940,1 +947,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject.h","additions":79,"deletions":72,"binary":false,"changes":151,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject_trace.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -426,2 +428,2 @@\n- * @nick: the nickname of the property\n- * @blurb: a short description of the property\n+ * @nick: (nullable): the nickname of the property\n+ * @blurb: (nullable): a short description of the property\n@@ -436,5 +438,6 @@\n- * Beyond the name, #GParamSpecs have two more descriptive\n- * strings associated with them, the @nick, which should be suitable\n- * for use as a label for the property in a property editor, and the\n- * @blurb, which should be a somewhat longer description, suitable for\n- * e.g. a tooltip. The @nick and @blurb should ideally be localized.\n+ * Beyond the name, #GParamSpecs have two more descriptive strings, the\n+ * @nick and @blurb, which may be used as a localized label and description.\n+ * For GTK and related libraries these are considered deprecated and may be\n+ * omitted, while for other libraries such as GStreamer and its plugins they\n+ * are essential. When in doubt, follow the conventions used in the\n+ * surrounding code and supporting libraries.\n@@ -712,0 +715,45 @@\n+\/**\n+ * g_param_value_is_valid:\n+ * @pspec: a valid #GParamSpec\n+ * @value: a #GValue of correct type for @pspec\n+ *\n+ * Return whether the contents of @value comply with the specifications\n+ * set out by @pspec.\n+ *\n+ * Returns: whether the contents of @value comply with the specifications\n+ *   set out by @pspec.\n+ *\n+ * Since: 2.74\n+ *\/\n+gboolean\n+g_param_value_is_valid (GParamSpec *pspec,\n+                        const GValue *value)\n+{\n+  GParamSpecClass *class;\n+\n+  g_return_val_if_fail (G_IS_PARAM_SPEC (pspec), TRUE);\n+  g_return_val_if_fail (G_IS_VALUE (value), TRUE);\n+  g_return_val_if_fail (PSPEC_APPLIES_TO_VALUE (pspec, value), TRUE);\n+\n+  class = G_PARAM_SPEC_GET_CLASS (pspec);\n+\n+  if (class->value_is_valid)\n+    return class->value_is_valid (pspec, value);\n+  else if (class->value_validate)\n+    {\n+      GValue val = G_VALUE_INIT;\n+      gboolean changed;\n+\n+      g_value_init (&val, G_VALUE_TYPE (value));\n+      g_value_copy (value, &val);\n+\n+      changed = class->value_validate (pspec, &val);\n+\n+      g_value_unset (&val);\n+\n+      return !changed;\n+    }\n+\n+  return TRUE;\n+}\n+\n@@ -914,1 +962,1 @@\n-  guint h = key->owner_type;\n+  guint h = (guint) key->owner_type;\n@@ -930,1 +978,2 @@\n-          strcmp (key1->name, key2->name) == 0);\n+          (key1->name == key2->name ||\n+          strcmp (key1->name, key2->name) == 0));\n@@ -980,1 +1029,1 @@\n-              g_warning (G_STRLOC \": pspec name \\\"%s\\\" contains invalid characters\", pspec->name);\n+              g_critical (G_STRLOC \": pspec name \\\"%s\\\" contains invalid characters\", pspec->name);\n@@ -1016,1 +1065,1 @@\n-        g_warning (G_STRLOC \": attempt to remove unknown pspec '%s' from pool\", pspec->name);\n+        g_critical (G_STRLOC \": attempt to remove unknown pspec '%s' from pool\", pspec->name);\n@@ -1100,1 +1149,0 @@\n-  gchar *delim;\n@@ -1107,2 +1155,0 @@\n-  delim = pool->type_prefixing ? strchr (param_name, ':') : NULL;\n-\n@@ -1110,1 +1156,2 @@\n-  if (!delim)\n+  pspec = param_spec_ht_lookup (pool->hash_table, param_name, owner_type, walk_ancestors);\n+  if (pspec)\n@@ -1112,1 +1159,0 @@\n-      pspec = param_spec_ht_lookup (pool->hash_table, param_name, owner_type, walk_ancestors);\n@@ -1114,1 +1160,0 @@\n-\n@@ -1118,2 +1163,1 @@\n-  \/* strip type prefix *\/\n-  if (pool->type_prefixing && delim[1] == ':')\n+if (pool->type_prefixing)\n@@ -1121,10 +1165,6 @@\n-      guint l = delim - param_name;\n-      gchar stack_buffer[32], *buffer = l < 32 ? stack_buffer : g_new (gchar, l + 1);\n-      GType type;\n-\n-      strncpy (buffer, param_name, delim - param_name);\n-      buffer[l] = 0;\n-      type = g_type_from_name (buffer);\n-      if (l >= 32)\n-        g_free (buffer);\n-      if (type)         \/* type==0 isn't a valid type pefix *\/\n+      char *delim;\n+\n+      delim = strchr (param_name, ':');\n+\n+      \/* strip type prefix *\/\n+      if (delim && delim[1] == ':')\n@@ -1132,2 +1172,10 @@\n-          \/* sanity check, these cases don't make a whole lot of sense *\/\n-          if ((!walk_ancestors && type != owner_type) || !g_type_is_a (owner_type, type))\n+          guint l = delim - param_name;\n+          gchar stack_buffer[32], *buffer = l < 32 ? stack_buffer : g_new (gchar, l + 1);\n+          GType type;\n+\n+          strncpy (buffer, param_name, delim - param_name);\n+          buffer[l] = 0;\n+          type = g_type_from_name (buffer);\n+          if (l >= 32)\n+            g_free (buffer);\n+          if (type)         \/* type==0 isn't a valid type pefix *\/\n@@ -1135,0 +1183,10 @@\n+              \/* sanity check, these cases don't make a whole lot of sense *\/\n+              if ((!walk_ancestors && type != owner_type) || !g_type_is_a (owner_type, type))\n+                {\n+                  g_mutex_unlock (&pool->mutex);\n+\n+                  return NULL;\n+                }\n+              owner_type = type;\n+              param_name += l + 2;\n+              pspec = param_spec_ht_lookup (pool->hash_table, param_name, owner_type, walk_ancestors);\n@@ -1137,1 +1195,1 @@\n-              return NULL;\n+              return pspec;\n@@ -1139,6 +1197,0 @@\n-          owner_type = type;\n-          param_name += l + 2;\n-          pspec = param_spec_ht_lookup (pool->hash_table, param_name, owner_type, walk_ancestors);\n-          g_mutex_unlock (&pool->mutex);\n-\n-          return pspec;\n@@ -1147,0 +1199,1 @@\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparam.c","additions":91,"deletions":38,"binary":false,"changes":129,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -157,1 +159,1 @@\n-  G_PARAM_CONSTRUCT       = 1 << 2,\n+  G_PARAM_CONSTRUCT           = 1 << 2,\n@@ -175,0 +177,6 @@\n+ * It is recommended to use this for all properties by default, as it allows for\n+ * internal performance improvements in GObject.\n+ *\n+ * It is very rare that a property would have a dynamically constructed name,\n+ * nickname or blurb.\n+ *\n@@ -196,1 +204,1 @@\n-typedef struct _GParameter  GParameter GLIB_DEPRECATED_TYPE_IN_2_54;\n+typedef struct _GParameter  GParameter GOBJECT_DEPRECATED_TYPE_IN_2_54;\n@@ -215,2 +223,2 @@\n-  GType      value_type;\n-  GType      owner_type;    \/* class or interface using this property *\/\n+  GType          value_type;\n+  GType          owner_type;    \/* class or interface using this property *\/\n@@ -221,1 +229,1 @@\n-  GData     *qdata;\n+  GData         *qdata;\n@@ -223,1 +231,1 @@\n-  guint      param_id;  \/* sort-criteria *\/\n+  guint          param_id;  \/* sort-criteria *\/\n@@ -239,0 +247,3 @@\n+ * @value_is_valid: Checks if contents of @value comply with the specifications\n+ *   set out by this type, without modifying the value. This vfunc is optional.\n+ *   If it isn't set, GObject will use @value_validate. Since 2.74\n@@ -260,0 +271,4 @@\n+\n+  gboolean      (*value_is_valid)       (GParamSpec   *pspec,\n+                                         const GValue *value);\n+\n@@ -261,1 +276,1 @@\n-  gpointer    dummy[4];\n+  gpointer    dummy[3];\n@@ -277,1 +292,1 @@\n-} GLIB_DEPRECATED_TYPE_IN_2_54;\n+} GOBJECT_DEPRECATED_TYPE_IN_2_54;\n@@ -281,1 +296,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -283,1 +298,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -285,1 +300,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -287,1 +302,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -289,1 +304,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -292,1 +307,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -296,1 +311,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -301,1 +316,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -304,1 +319,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -307,1 +322,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -310,1 +325,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -313,1 +328,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -316,1 +331,4 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_2_74\n+gboolean        g_param_value_is_valid          (GParamSpec    *pspec,\n+                                                 const GValue  *value);\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -321,1 +339,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -325,1 +343,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -327,1 +345,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -329,1 +347,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -331,1 +349,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -334,1 +352,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -336,1 +354,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -340,1 +358,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -343,1 +361,1 @@\n-GLIB_DEPRECATED_FOR(g_value_take_param)\n+GOBJECT_DEPRECATED_FOR(g_value_take_param)\n@@ -346,1 +364,1 @@\n-GLIB_AVAILABLE_IN_2_36\n+GOBJECT_AVAILABLE_IN_2_36\n@@ -349,1 +367,1 @@\n-GLIB_AVAILABLE_IN_2_46\n+GOBJECT_AVAILABLE_IN_2_46\n@@ -397,1 +415,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -401,1 +419,1 @@\n-GLIB_AVAILABLE_IN_2_66\n+GOBJECT_AVAILABLE_IN_2_66\n@@ -411,1 +429,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -413,5 +431,5 @@\n-                                                 const gchar   *name,\n-                                                 const gchar   *nick,\n-                                                 const gchar   *blurb,\n-                                                 GParamFlags    flags);\n-GLIB_AVAILABLE_IN_ALL\n+                         const gchar   *name,\n+                         const gchar   *nick,\n+                         const gchar   *blurb,\n+                         GParamFlags    flags);\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -419,1 +437,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -423,1 +441,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -426,1 +444,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -431,1 +449,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -434,1 +452,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparam.h","additions":63,"deletions":45,"binary":false,"changes":108,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -83,0 +85,10 @@\n+static gboolean\n+param_char_is_valid (GParamSpec   *pspec,\n+                     const GValue *value)\n+{\n+  GParamSpecChar *cspec = G_PARAM_SPEC_CHAR (pspec);\n+  gint oval = value->data[0].v_int;\n+\n+  return cspec->minimum <= oval && oval <= cspec->maximum;\n+}\n+\n@@ -112,0 +124,10 @@\n+static gboolean\n+param_uchar_is_valid (GParamSpec   *pspec,\n+          const GValue *value)\n+{\n+  GParamSpecUChar *uspec = G_PARAM_SPEC_UCHAR (pspec);\n+  guint oval = value->data[0].v_uint;\n+\n+  return uspec->minimum <= oval && oval <= uspec->maximum;\n+}\n+\n@@ -131,0 +153,9 @@\n+static gboolean\n+param_boolean_is_valid (GParamSpec   *pspec,\n+                        const GValue *value)\n+{\n+  int oval = value->data[0].v_int;\n+\n+  return oval == FALSE || oval == TRUE;\n+}\n+\n@@ -159,0 +190,10 @@\n+static gboolean\n+param_int_is_valid (GParamSpec   *pspec,\n+                    const GValue *value)\n+{\n+  GParamSpecInt *ispec = G_PARAM_SPEC_INT (pspec);\n+  int oval = value->data[0].v_int;\n+\n+  return ispec->minimum <= oval && oval <= ispec->maximum;\n+}\n+\n@@ -199,0 +240,10 @@\n+static gboolean\n+param_uint_is_valid (GParamSpec   *pspec,\n+         const GValue *value)\n+{\n+  GParamSpecUInt *uspec = G_PARAM_SPEC_UINT (pspec);\n+  guint oval = value->data[0].v_uint;\n+\n+  return uspec->minimum <= oval && oval <= uspec->maximum;\n+}\n+\n@@ -244,0 +295,10 @@\n+static gboolean\n+param_long_is_valid (GParamSpec   *pspec,\n+         const GValue *value)\n+{\n+  GParamSpecLong *lspec = G_PARAM_SPEC_LONG (pspec);\n+  glong oval = value->data[0].v_long;\n+\n+  return lspec->minimum <= oval && oval <= lspec->maximum;\n+}\n+\n@@ -288,0 +349,10 @@\n+static gboolean\n+param_ulong_is_valid (GParamSpec   *pspec,\n+                      const GValue *value)\n+{\n+  GParamSpecULong *uspec = G_PARAM_SPEC_ULONG (pspec);\n+  gulong oval = value->data[0].v_ulong;\n+\n+  return uspec->minimum <= oval && oval <= uspec->maximum;\n+}\n+\n@@ -328,0 +399,10 @@\n+static gboolean\n+param_int64_is_valid (GParamSpec   *pspec,\n+                      const GValue *value)\n+{\n+  GParamSpecInt64 *lspec = G_PARAM_SPEC_INT64 (pspec);\n+  gint64 oval = value->data[0].v_int64;\n+\n+  return lspec->minimum <= oval && oval <= lspec->maximum;\n+}\n+\n@@ -368,0 +449,10 @@\n+static gboolean\n+param_uint64_is_valid (GParamSpec   *pspec,\n+                       const GValue *value)\n+{\n+  GParamSpecUInt64 *uspec = G_PARAM_SPEC_UINT64 (pspec);\n+  guint64 oval = value->data[0].v_uint64;\n+\n+  return uspec->minimum <= oval && oval <= uspec->maximum;\n+}\n+\n@@ -406,0 +497,7 @@\n+static gboolean\n+param_unichar_is_valid (GParamSpec   *pspec,\n+                        const GValue *value)\n+{\n+  return g_unichar_validate (value->data[0].v_uint);\n+}\n+\n@@ -464,0 +562,10 @@\n+static gboolean\n+param_enum_is_valid (GParamSpec   *pspec,\n+                     const GValue *value)\n+{\n+  GParamSpecEnum *espec = G_PARAM_SPEC_ENUM (pspec);\n+  glong oval = value->data[0].v_long;\n+\n+  return g_enum_get_value (espec->enum_class, oval) != NULL;\n+}\n+\n@@ -509,0 +617,9 @@\n+static gboolean\n+param_flags_is_valid (GParamSpec   *pspec,\n+                      const GValue *value)\n+{\n+  GParamSpecFlags *fspec = G_PARAM_SPEC_FLAGS (pspec);\n+  gulong oval = value->data[0].v_ulong;\n+\n+  return (oval & ~fspec->flags_class->mask) == 0;\n+}\n@@ -542,0 +659,10 @@\n+static gboolean\n+param_float_is_valid (GParamSpec   *pspec,\n+                      const GValue *value)\n+{\n+  GParamSpecFloat *fspec = G_PARAM_SPEC_FLOAT (pspec);\n+  gfloat oval = value->data[0].v_float;\n+\n+  return fspec->minimum <= oval && oval <= fspec->maximum;\n+}\n+\n@@ -585,0 +712,10 @@\n+static gboolean\n+param_double_is_valid (GParamSpec   *pspec,\n+                       const GValue *value)\n+{\n+  GParamSpecDouble *dspec = G_PARAM_SPEC_DOUBLE (pspec);\n+  gfloat oval = value->data[0].v_double;\n+\n+  return dspec->minimum <= oval && oval <= dspec->maximum;\n+}\n+\n@@ -705,0 +842,23 @@\n+static gboolean\n+param_string_is_valid (GParamSpec   *pspec,\n+                       const GValue *value)\n+{\n+  GParamSpecString *sspec = G_PARAM_SPEC_STRING (pspec);\n+  gboolean ret = TRUE;\n+\n+  if (sspec->cset_first != NULL || sspec->cset_nth != NULL ||\n+      sspec->ensure_non_null || sspec->null_fold_if_empty)\n+    {\n+      GValue tmp_value = G_VALUE_INIT;\n+\n+      g_value_init (&tmp_value, G_VALUE_TYPE (value));\n+      g_value_copy (value, &tmp_value);\n+\n+      ret = !param_string_validate (pspec, &tmp_value);\n+\n+      g_value_unset (&tmp_value);\n+    }\n+\n+  return ret;\n+}\n+\n@@ -731,0 +891,12 @@\n+static gboolean\n+param_param_is_valid (GParamSpec   *pspec,\n+                      const GValue *value)\n+{\n+  GParamSpec *param = value->data[0].v_pointer;\n+\n+  if (param == NULL)\n+    return FALSE;\n+\n+  return g_value_type_compatible (G_PARAM_SPEC_TYPE (param), G_PARAM_SPEC_VALUE_TYPE (pspec));\n+}\n+\n@@ -762,12 +934,0 @@\n-static gboolean\n-param_boxed_validate (GParamSpec *pspec,\n-          GValue     *value)\n-{\n-  \/* GParamSpecBoxed *bspec = G_PARAM_SPEC_BOXED (pspec); *\/\n-  guint changed = 0;\n-\n-  \/* can't do a whole lot here since we haven't even G_BOXED_TYPE() *\/\n-\n-  return changed;\n-}\n-\n@@ -800,10 +960,0 @@\n-static gboolean\n-param_pointer_validate (GParamSpec *pspec,\n-      GValue     *value)\n-{\n-  \/* GParamSpecPointer *spec = G_PARAM_SPEC_POINTER (pspec); *\/\n-  guint changed = 0;\n-\n-  return changed;\n-}\n-\n@@ -987,0 +1137,11 @@\n+static gboolean\n+param_object_is_valid (GParamSpec   *pspec,\n+                       const GValue *value)\n+{\n+  GParamSpecObject *ospec = G_PARAM_SPEC_OBJECT (pspec);\n+  GObject *object = value->data[0].v_pointer;\n+\n+  return object &&\n+         g_value_type_compatible (G_OBJECT_TYPE (object), G_PARAM_SPEC_VALUE_TYPE (ospec));\n+}\n+\n@@ -1048,0 +1209,9 @@\n+static gboolean\n+param_override_is_valid (GParamSpec   *pspec,\n+       const GValue *value)\n+{\n+  GParamSpecOverride *ospec = G_PARAM_SPEC_OVERRIDE (pspec);\n+\n+  return g_param_value_is_valid (ospec->overridden, value);\n+}\n+\n@@ -1081,0 +1251,11 @@\n+static gboolean\n+param_gtype_is_valid (GParamSpec   *pspec,\n+                      const GValue *value)\n+{\n+  GParamSpecGType *tspec = G_PARAM_SPEC_GTYPE (pspec);\n+  GType gtype = GPOINTER_TO_SIZE (value->data[0].v_pointer);\n+\n+  return tspec->is_a_type == G_TYPE_NONE ||\n+         g_type_is_a (gtype, tspec->is_a_type);\n+}\n+\n@@ -1141,0 +1322,13 @@\n+static gboolean\n+param_variant_is_valid (GParamSpec   *pspec,\n+                        const GValue *value)\n+{\n+  GParamSpecVariant *vspec = G_PARAM_SPEC_VARIANT (pspec);\n+  GVariant *variant = value->data[0].v_pointer;\n+\n+  if (variant == NULL)\n+    return vspec->default_value == NULL;\n+  else\n+    return g_variant_is_of_type (variant, vspec->type);\n+}\n+\n@@ -1196,0 +1390,7 @@\n+\n+#define set_is_valid_vfunc(type,func) { \\\n+  GParamSpecClass *class = g_type_class_ref (type); \\\n+  class->value_is_valid = func; \\\n+  g_type_class_unref (class); \\\n+}\n+\n@@ -1227,0 +1428,1 @@\n+    set_is_valid_vfunc (type, param_char_is_valid);\n@@ -1245,0 +1447,1 @@\n+    set_is_valid_vfunc (type, param_uchar_is_valid);\n@@ -1255,1 +1458,1 @@\n-      NULL,           \/* instance_init *\/\n+      NULL,                       \/* instance_init *\/\n@@ -1263,0 +1466,1 @@\n+    set_is_valid_vfunc (type, param_boolean_is_valid);\n@@ -1274,2 +1478,2 @@\n-      G_TYPE_INT,       \/* value_type *\/\n-      NULL,         \/* finalize *\/\n+      G_TYPE_INT,               \/* value_type *\/\n+      NULL,                     \/* finalize *\/\n@@ -1277,2 +1481,2 @@\n-      param_int_validate,   \/* value_validate *\/\n-      param_int_values_cmp, \/* values_cmp *\/\n+      param_int_validate,       \/* value_validate *\/\n+      param_int_values_cmp,     \/* values_cmp *\/\n@@ -1281,0 +1485,1 @@\n+    set_is_valid_vfunc (type, param_int_is_valid);\n@@ -1292,2 +1497,2 @@\n-      G_TYPE_UINT,      \/* value_type *\/\n-      NULL,         \/* finalize *\/\n+      G_TYPE_UINT,              \/* value_type *\/\n+      NULL,                     \/* finalize *\/\n@@ -1295,1 +1500,1 @@\n-      param_uint_validate,  \/* value_validate *\/\n+      param_uint_validate,      \/* value_validate *\/\n@@ -1299,0 +1504,1 @@\n+    set_is_valid_vfunc (type, param_uint_is_valid);\n@@ -1310,2 +1516,2 @@\n-      G_TYPE_LONG,      \/* value_type *\/\n-      NULL,         \/* finalize *\/\n+      G_TYPE_LONG,              \/* value_type *\/\n+      NULL,                     \/* finalize *\/\n@@ -1313,1 +1519,1 @@\n-      param_long_validate,  \/* value_validate *\/\n+      param_long_validate,      \/* value_validate *\/\n@@ -1317,0 +1523,1 @@\n+    set_is_valid_vfunc (type, param_long_is_valid);\n@@ -1328,2 +1535,2 @@\n-      G_TYPE_ULONG,     \/* value_type *\/\n-      NULL,         \/* finalize *\/\n+      G_TYPE_ULONG,             \/* value_type *\/\n+      NULL,                     \/* finalize *\/\n@@ -1331,1 +1538,1 @@\n-      param_ulong_validate, \/* value_validate *\/\n+      param_ulong_validate,     \/* value_validate *\/\n@@ -1335,0 +1542,1 @@\n+    set_is_valid_vfunc (type, param_ulong_is_valid);\n@@ -1343,1 +1551,1 @@\n-      sizeof (GParamSpecInt64),  \/* instance_size *\/\n+      sizeof (GParamSpecInt64), \/* instance_size *\/\n@@ -1346,2 +1554,2 @@\n-      G_TYPE_INT64,     \/* value_type *\/\n-      NULL,         \/* finalize *\/\n+      G_TYPE_INT64,             \/* value_type *\/\n+      NULL,                     \/* finalize *\/\n@@ -1349,1 +1557,1 @@\n-      param_int64_validate, \/* value_validate *\/\n+      param_int64_validate,     \/* value_validate *\/\n@@ -1353,0 +1561,1 @@\n+    set_is_valid_vfunc (type, param_int64_is_valid);\n@@ -1362,7 +1571,7 @@\n-      16,                       \/* n_preallocs *\/\n-      param_uint64_init,        \/* instance_init *\/\n-      G_TYPE_UINT64,        \/* value_type *\/\n-      NULL,         \/* finalize *\/\n-      param_uint64_set_default, \/* value_set_default *\/\n-      param_uint64_validate,    \/* value_validate *\/\n-      param_uint64_values_cmp,  \/* values_cmp *\/\n+      16,                        \/* n_preallocs *\/\n+      param_uint64_init,         \/* instance_init *\/\n+      G_TYPE_UINT64,             \/* value_type *\/\n+      NULL,                      \/* finalize *\/\n+      param_uint64_set_default,  \/* value_set_default *\/\n+      param_uint64_validate,     \/* value_validate *\/\n+      param_uint64_values_cmp,   \/* values_cmp *\/\n@@ -1371,0 +1580,1 @@\n+    set_is_valid_vfunc (type, param_uint64_is_valid);\n@@ -1380,7 +1590,7 @@\n-      16,                        \/* n_preallocs *\/\n-      param_unichar_init,    \/* instance_init *\/\n-      G_TYPE_UINT,       \/* value_type *\/\n-      NULL,          \/* finalize *\/\n-      param_unichar_set_default, \/* value_set_default *\/\n-      param_unichar_validate,    \/* value_validate *\/\n-      param_unichar_values_cmp,  \/* values_cmp *\/\n+      16,                         \/* n_preallocs *\/\n+      param_unichar_init,         \/* instance_init *\/\n+      G_TYPE_UINT,                \/* value_type *\/\n+      NULL,                       \/* finalize *\/\n+      param_unichar_set_default,  \/* value_set_default *\/\n+      param_unichar_validate,     \/* value_validate *\/\n+      param_unichar_values_cmp,   \/* values_cmp *\/\n@@ -1389,0 +1599,1 @@\n+    set_is_valid_vfunc (type, param_unichar_is_valid);\n@@ -1400,2 +1611,2 @@\n-      G_TYPE_ENUM,      \/* value_type *\/\n-      param_enum_finalize,  \/* finalize *\/\n+      G_TYPE_ENUM,              \/* value_type *\/\n+      param_enum_finalize,      \/* finalize *\/\n@@ -1403,1 +1614,1 @@\n-      param_enum_validate,  \/* value_validate *\/\n+      param_enum_validate,      \/* value_validate *\/\n@@ -1407,0 +1618,1 @@\n+    set_is_valid_vfunc (type, param_enum_is_valid);\n@@ -1416,4 +1628,4 @@\n-      16,           \/* n_preallocs *\/\n-      param_flags_init,     \/* instance_init *\/\n-      G_TYPE_FLAGS,     \/* value_type *\/\n-      param_flags_finalize, \/* finalize *\/\n+      16,                       \/* n_preallocs *\/\n+      param_flags_init,         \/* instance_init *\/\n+      G_TYPE_FLAGS,             \/* value_type *\/\n+      param_flags_finalize,     \/* finalize *\/\n@@ -1421,1 +1633,1 @@\n-      param_flags_validate, \/* value_validate *\/\n+      param_flags_validate,     \/* value_validate *\/\n@@ -1425,0 +1637,1 @@\n+    set_is_valid_vfunc (type, param_flags_is_valid);\n@@ -1436,2 +1649,2 @@\n-      G_TYPE_FLOAT,     \/* value_type *\/\n-      NULL,         \/* finalize *\/\n+      G_TYPE_FLOAT,             \/* value_type *\/\n+      NULL,                     \/* finalize *\/\n@@ -1439,1 +1652,1 @@\n-      param_float_validate, \/* value_validate *\/\n+      param_float_validate,     \/* value_validate *\/\n@@ -1443,0 +1656,1 @@\n+    set_is_valid_vfunc (type, param_float_is_valid);\n@@ -1451,8 +1665,8 @@\n-      sizeof (GParamSpecDouble),    \/* instance_size *\/\n-      16,               \/* n_preallocs *\/\n-      param_double_init,        \/* instance_init *\/\n-      G_TYPE_DOUBLE,            \/* value_type *\/\n-      NULL,             \/* finalize *\/\n-      param_double_set_default,     \/* value_set_default *\/\n-      param_double_validate,        \/* value_validate *\/\n-      param_double_values_cmp,      \/* values_cmp *\/\n+      sizeof (GParamSpecDouble), \/* instance_size *\/\n+      16,                        \/* n_preallocs *\/\n+      param_double_init,         \/* instance_init *\/\n+      G_TYPE_DOUBLE,             \/* value_type *\/\n+      NULL,                      \/* finalize *\/\n+      param_double_set_default,  \/* value_set_default *\/\n+      param_double_validate,     \/* value_validate *\/\n+      param_double_values_cmp,   \/* values_cmp *\/\n@@ -1461,0 +1675,1 @@\n+    set_is_valid_vfunc (type, param_double_is_valid);\n@@ -1469,8 +1684,8 @@\n-      sizeof (GParamSpecString),    \/* instance_size *\/\n-      16,               \/* n_preallocs *\/\n-      param_string_init,        \/* instance_init *\/\n-      G_TYPE_STRING,            \/* value_type *\/\n-      param_string_finalize,        \/* finalize *\/\n-      param_string_set_default,     \/* value_set_default *\/\n-      param_string_validate,        \/* value_validate *\/\n-      param_string_values_cmp,      \/* values_cmp *\/\n+      sizeof (GParamSpecString), \/* instance_size *\/\n+      16,                        \/* n_preallocs *\/\n+      param_string_init,         \/* instance_init *\/\n+      G_TYPE_STRING,             \/* value_type *\/\n+      param_string_finalize,     \/* finalize *\/\n+      param_string_set_default,  \/* value_set_default *\/\n+      param_string_validate,     \/* value_validate *\/\n+      param_string_values_cmp,   \/* values_cmp *\/\n@@ -1479,0 +1694,1 @@\n+    set_is_valid_vfunc (type, param_string_is_valid);\n@@ -1497,0 +1713,1 @@\n+    set_is_valid_vfunc (type, param_param_is_valid);\n@@ -1511,1 +1728,1 @@\n-      param_boxed_validate, \/* value_validate *\/\n+      NULL, \/* value_validate *\/\n@@ -1529,1 +1746,1 @@\n-      param_pointer_validate,      \/* value_validate *\/\n+      NULL,      \/* value_validate *\/\n@@ -1570,0 +1787,1 @@\n+    set_is_valid_vfunc (type, param_object_is_valid);\n@@ -1588,0 +1806,1 @@\n+    set_is_valid_vfunc (type, param_override_is_valid);\n@@ -1607,0 +1826,1 @@\n+    set_is_valid_vfunc (type, param_gtype_is_valid);\n@@ -1625,0 +1845,1 @@\n+    set_is_valid_vfunc (type, param_variant_is_valid);\n@@ -1637,2 +1858,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1666,2 +1887,0 @@\n-  if (cspec == NULL)\n-    return NULL;\n@@ -1679,2 +1898,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1694,4 +1913,4 @@\n-            guint8   minimum,\n-            guint8   maximum,\n-            guint8   default_value,\n-            GParamFlags  flags)\n+                    guint8       minimum,\n+                    guint8       maximum,\n+                    guint8       default_value,\n+                    GParamFlags  flags)\n@@ -1708,2 +1927,0 @@\n-  if (uspec == NULL)\n-    return NULL;\n@@ -1721,2 +1938,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1740,1 +1957,1 @@\n-              gboolean     default_value,\n+                      gboolean     default_value,\n@@ -1752,2 +1969,0 @@\n-  if (bspec == NULL)\n-    return NULL;\n@@ -1763,2 +1978,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1780,3 +1995,3 @@\n-          gint         minimum,\n-          gint         maximum,\n-          gint         default_value,\n+                  gint         minimum,\n+                  gint         maximum,\n+                  gint         default_value,\n@@ -1794,2 +2009,0 @@\n-  if (ispec == NULL)\n-    return NULL;\n@@ -1807,2 +2020,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1824,4 +2037,4 @@\n-           guint    minimum,\n-           guint    maximum,\n-           guint    default_value,\n-           GParamFlags  flags)\n+                   guint        minimum,\n+                   guint        maximum,\n+                   guint        default_value,\n+                   GParamFlags  flags)\n@@ -1838,2 +2051,0 @@\n-  if (uspec == NULL)\n-    return NULL;\n@@ -1851,2 +2062,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1868,4 +2079,4 @@\n-           glong    minimum,\n-           glong    maximum,\n-           glong    default_value,\n-           GParamFlags  flags)\n+                   glong        minimum,\n+                   glong        maximum,\n+                   glong        default_value,\n+                   GParamFlags  flags)\n@@ -1882,2 +2093,0 @@\n-  if (lspec == NULL)\n-    return NULL;\n@@ -1895,2 +2104,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1913,4 +2122,4 @@\n-            gulong   minimum,\n-            gulong   maximum,\n-            gulong   default_value,\n-            GParamFlags  flags)\n+                    gulong       minimum,\n+                    gulong       maximum,\n+                    gulong       default_value,\n+                    GParamFlags  flags)\n@@ -1927,2 +2136,0 @@\n-  if (uspec == NULL)\n-    return NULL;\n@@ -1940,2 +2147,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -1957,4 +2164,4 @@\n-            gint64   minimum,\n-            gint64   maximum,\n-            gint64   default_value,\n-            GParamFlags  flags)\n+                    gint64       minimum,\n+                    gint64       maximum,\n+                    gint64       default_value,\n+                    GParamFlags  flags)\n@@ -1971,2 +2178,0 @@\n-  if (lspec == NULL)\n-    return NULL;\n@@ -1984,2 +2189,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2002,3 +2207,3 @@\n-             guint64      minimum,\n-             guint64      maximum,\n-             guint64      default_value,\n+                     guint64      minimum,\n+                     guint64      maximum,\n+                     guint64      default_value,\n@@ -2016,2 +2221,0 @@\n-  if (uspec == NULL)\n-    return NULL;\n@@ -2029,2 +2232,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2046,1 +2249,1 @@\n-              gunichar     default_value,\n+                      gunichar     default_value,\n@@ -2056,2 +2259,0 @@\n-  if (uspec == NULL)\n-    return NULL;\n@@ -2067,2 +2268,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2084,3 +2285,3 @@\n-           GType    enum_type,\n-           gint     default_value,\n-           GParamFlags  flags)\n+                   GType        enum_type,\n+                   gint         default_value,\n+                   GParamFlags  flags)\n@@ -2102,5 +2303,0 @@\n-  if (espec == NULL)\n-    {\n-      g_type_class_unref (enum_class);\n-      return NULL;\n-    }\n@@ -2118,2 +2314,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2135,3 +2331,3 @@\n-            GType    flags_type,\n-            guint    default_value,\n-            GParamFlags  flags)\n+                    GType        flags_type,\n+                    guint        default_value,\n+                    GParamFlags  flags)\n@@ -2157,5 +2353,0 @@\n-  if (fspec == NULL)\n-    {\n-      g_type_class_unref (flags_class);\n-      return NULL;\n-    }\n@@ -2173,2 +2364,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2190,4 +2381,4 @@\n-            gfloat   minimum,\n-            gfloat   maximum,\n-            gfloat   default_value,\n-            GParamFlags  flags)\n+                    gfloat       minimum,\n+                    gfloat       maximum,\n+                    gfloat       default_value,\n+                    GParamFlags  flags)\n@@ -2204,2 +2395,0 @@\n-  if (fspec == NULL)\n-    return NULL;\n@@ -2217,2 +2406,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2235,3 +2424,3 @@\n-             gdouble      minimum,\n-             gdouble      maximum,\n-             gdouble      default_value,\n+                     gdouble      minimum,\n+                     gdouble      maximum,\n+                     gdouble      default_value,\n@@ -2249,2 +2438,0 @@\n-  if (dspec == NULL)\n-    return NULL;\n@@ -2262,2 +2449,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2285,2 +2472,0 @@\n-  if (sspec == NULL)\n-    return NULL;\n@@ -2297,2 +2482,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2313,1 +2498,1 @@\n-            GType    param_type,\n+                    GType        param_type,\n@@ -2325,2 +2510,0 @@\n-  if (pspec == NULL)\n-    return NULL;\n@@ -2336,2 +2519,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2352,1 +2535,1 @@\n-            GType    boxed_type,\n+                    GType        boxed_type,\n@@ -2365,2 +2548,0 @@\n-  if (bspec == NULL)\n-    return NULL;\n@@ -2376,2 +2557,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2401,2 +2582,0 @@\n-  if (pspec == NULL)\n-    return NULL;\n@@ -2410,2 +2589,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2439,2 +2618,0 @@\n-  if (tspec == NULL)\n-    return NULL;\n@@ -2450,2 +2627,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2474,2 +2651,1 @@\n-  if (element_spec)\n-    g_return_val_if_fail (G_IS_PARAM_SPEC (element_spec), NULL);\n+  g_return_val_if_fail (element_spec == NULL || G_IS_PARAM_SPEC (element_spec), NULL);\n@@ -2482,2 +2658,0 @@\n-  if (aspec == NULL)\n-    return NULL;\n@@ -2497,2 +2671,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2513,1 +2687,1 @@\n-             GType    object_type,\n+                     GType        object_type,\n@@ -2525,2 +2699,0 @@\n-  if (ospec == NULL)\n-    return NULL;\n@@ -2569,2 +2741,0 @@\n-  if (pspec == NULL)\n-    return NULL;\n@@ -2581,2 +2751,2 @@\n- * @nick: nick name for the property specified\n- * @blurb: description of the property specified\n+ * @nick: (nullable): nick name for the property specified\n+ * @blurb: (nullable): description of the property specified\n@@ -2618,2 +2788,0 @@\n-  if (vspec == NULL)\n-    return NULL;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparamspecs.c","additions":393,"deletions":225,"binary":false,"changes":618,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -455,1 +457,1 @@\n-#define G_TYPE_PARAM_VALUE_ARRAY     (g_param_spec_types[18]) GLIB_DEPRECATED_MACRO_IN_2_32\n+#define G_TYPE_PARAM_VALUE_ARRAY     (g_param_spec_types[18]) GOBJECT_DEPRECATED_MACRO_IN_2_32\n@@ -466,1 +468,1 @@\n-#define G_IS_PARAM_SPEC_VALUE_ARRAY(pspec) (G_TYPE_CHECK_INSTANCE_TYPE ((pspec), G_TYPE_PARAM_VALUE_ARRAY)) GLIB_DEPRECATED_MACRO_IN_2_32\n+#define G_IS_PARAM_SPEC_VALUE_ARRAY(pspec) (G_TYPE_CHECK_INSTANCE_TYPE ((pspec), G_TYPE_PARAM_VALUE_ARRAY)) GOBJECT_DEPRECATED_MACRO_IN_2_32\n@@ -475,1 +477,1 @@\n-#define G_PARAM_SPEC_VALUE_ARRAY(pspec)    (G_TYPE_CHECK_INSTANCE_CAST ((pspec), G_TYPE_PARAM_VALUE_ARRAY, GParamSpecValueArray)) GLIB_DEPRECATED_MACRO_IN_2_32\n+#define G_PARAM_SPEC_VALUE_ARRAY(pspec)    (G_TYPE_CHECK_INSTANCE_CAST ((pspec), G_TYPE_PARAM_VALUE_ARRAY, GParamSpecValueArray)) GOBJECT_DEPRECATED_MACRO_IN_2_32\n@@ -911,1 +913,1 @@\n-  guint   fixed_n_elements;\n+  guint         fixed_n_elements;\n@@ -987,1 +989,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -995,1 +997,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1003,1 +1005,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1009,1 +1011,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1017,1 +1019,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1025,1 +1027,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1033,1 +1035,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1041,1 +1043,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1049,1 +1051,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1057,1 +1059,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1063,1 +1065,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1070,1 +1072,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1077,1 +1079,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1085,1 +1087,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1093,1 +1095,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1099,1 +1101,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1105,1 +1107,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1111,1 +1113,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1116,1 +1118,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1122,1 +1124,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1128,1 +1130,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1131,1 +1133,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1137,1 +1139,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1140,1 +1142,1 @@\n-            const gchar      *blurb,\n+            const gchar        *blurb,\n@@ -1145,24 +1147,0 @@\n-\/* --- internal --- *\/\n-\/* We prefix variable declarations so they can\n- * properly get exported in windows dlls.\n- *\/\n-#ifndef GOBJECT_VAR\n-#  ifdef G_PLATFORM_WIN32\n-#    ifdef GOBJECT_STATIC_COMPILATION\n-#      define GOBJECT_VAR extern\n-#    else \/* !GOBJECT_STATIC_COMPILATION *\/\n-#      ifdef GOBJECT_COMPILATION\n-#        ifdef DLL_EXPORT\n-#          define GOBJECT_VAR extern __declspec(dllexport)\n-#        else \/* !DLL_EXPORT *\/\n-#          define GOBJECT_VAR extern\n-#        endif \/* !DLL_EXPORT *\/\n-#      else \/* !GOBJECT_COMPILATION *\/\n-#        define GOBJECT_VAR extern __declspec(dllimport)\n-#      endif \/* !GOBJECT_COMPILATION *\/\n-#    endif \/* !GOBJECT_STATIC_COMPILATION *\/\n-#  else \/* !G_PLATFORM_WIN32 *\/\n-#    define GOBJECT_VAR _GLIB_EXTERN\n-#  endif \/* !G_PLATFORM_WIN32 *\/\n-#endif \/* GOBJECT_VAR *\/\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparamspecs.h","additions":30,"deletions":52,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -965,3 +967,3 @@\n-            g_warning (G_STRLOC \": signal \\\"%s\\\" of type '%s' already destroyed\",\n-                       node->name,\n-                       type_debug_name (node->itype));\n+            g_critical (G_STRLOC \": signal \\\"%s\\\" of type '%s' already destroyed\",\n+                        node->name,\n+                        type_debug_name (node->itype));\n@@ -1003,1 +1005,1 @@\n-      g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n+      g_critical (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n@@ -1014,2 +1016,2 @@\n-            g_warning (G_STRLOC \": emission of signal \\\"%s\\\" for instance '%p' cannot be stopped from emission hook\",\n-                       node->name, instance);\n+            g_critical (G_STRLOC \": emission of signal \\\"%s\\\" for instance '%p' cannot be stopped from emission hook\",\n+                        node->name, instance);\n@@ -1020,2 +1022,2 @@\n-        g_warning (G_STRLOC \": no emission of signal \\\"%s\\\" to stop for instance '%p'\",\n-                   node->name, instance);\n+        g_critical (G_STRLOC \": no emission of signal \\\"%s\\\" to stop for instance '%p'\",\n+                    node->name, instance);\n@@ -1024,1 +1026,1 @@\n-    g_warning (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n+    g_critical (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n@@ -1076,1 +1078,1 @@\n-      g_warning (\"%s: invalid signal id '%u'\", G_STRLOC, signal_id);\n+      g_critical (\"%s: invalid signal id '%u'\", G_STRLOC, signal_id);\n@@ -1082,1 +1084,1 @@\n-      g_warning (\"%s: signal id '%u' does not support emission hooks (G_SIGNAL_NO_HOOKS flag set)\", G_STRLOC, signal_id);\n+      g_critical (\"%s: signal id '%u' does not support emission hooks (G_SIGNAL_NO_HOOKS flag set)\", G_STRLOC, signal_id);\n@@ -1088,1 +1090,1 @@\n-      g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n+      g_critical (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n@@ -1138,1 +1140,1 @@\n-      g_warning (\"%s: invalid signal id '%u'\", G_STRLOC, signal_id);\n+      g_critical (\"%s: invalid signal id '%u'\", G_STRLOC, signal_id);\n@@ -1142,1 +1144,1 @@\n-    g_warning (\"%s: signal \\\"%s\\\" had no hook (%lu) to remove\", G_STRLOC, node->name, hook_id);\n+    g_critical (\"%s: signal \\\"%s\\\" had no hook (%lu) to remove\", G_STRLOC, node->name, hook_id);\n@@ -1226,1 +1228,0 @@\n-  SIGNAL_UNLOCK ();\n@@ -1229,0 +1230,1 @@\n+\n@@ -1231,1 +1233,6 @@\n-    return FALSE;\n+    {\n+      SIGNAL_UNLOCK ();\n+      return FALSE;\n+    }\n+\n+  SIGNAL_UNLOCK ();\n@@ -1270,1 +1277,1 @@\n-        g_warning (\"%s: signal '%s' does not support details\", G_STRLOC, detailed_signal);\n+        g_critical (\"%s: signal '%s' does not support details\", G_STRLOC, detailed_signal);\n@@ -1272,1 +1279,1 @@\n-        g_warning (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n+        g_critical (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n@@ -1281,1 +1288,1 @@\n-                g_warning (G_STRLOC \": emission of signal \\\"%s\\\" for instance '%p' cannot be stopped from emission hook\",\n+                g_critical (G_STRLOC \": emission of signal \\\"%s\\\" for instance '%p' cannot be stopped from emission hook\",\n@@ -1287,1 +1294,1 @@\n-            g_warning (G_STRLOC \": no emission of signal \\\"%s\\\" to stop for instance '%p'\",\n+            g_critical (G_STRLOC \": no emission of signal \\\"%s\\\" to stop for instance '%p'\",\n@@ -1292,1 +1299,1 @@\n-    g_warning (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n+    g_critical (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n@@ -1331,1 +1338,1 @@\n-        g_warning (G_STRLOC \": unable to look up signal \\\"%s\\\" for invalid type id '%\"G_GSIZE_FORMAT\"'\",\n+        g_critical (G_STRLOC \": unable to look up signal \\\"%s\\\" for invalid type id '%\"G_GSIZE_FORMAT\"'\",\n@@ -1334,1 +1341,1 @@\n-        g_warning (G_STRLOC \": unable to look up invalid signal name \\\"%s\\\" on type '%s'\",\n+        g_critical (G_STRLOC \": unable to look up invalid signal name \\\"%s\\\" on type '%s'\",\n@@ -1386,1 +1393,1 @@\n-        g_warning (G_STRLOC \": unable to list signals for invalid type id '%\"G_GSIZE_FORMAT\"'\",\n+        g_critical (G_STRLOC \": unable to list signals for invalid type id '%\"G_GSIZE_FORMAT\"'\",\n@@ -1389,2 +1396,2 @@\n-         g_warning (G_STRLOC \": unable to list signals of non instantiatable type '%s'\",\n-                    g_type_name (itype));\n+        g_critical (G_STRLOC \": unable to list signals of non instantiatable type '%s'\",\n+                   g_type_name (itype));\n@@ -1392,1 +1399,1 @@\n-        g_warning (G_STRLOC \": unable to list signals of unloaded type '%s'\",\n+        g_critical (G_STRLOC \": unable to list signals of unloaded type '%s'\",\n@@ -1565,1 +1572,1 @@\n- * g_signal_override_class_handler()and chained to with\n+ * g_signal_override_class_handler() and chained to with\n@@ -1754,4 +1761,4 @@\n-      g_warning (G_STRLOC \": signal \\\"%s\\\" already exists in the '%s' %s\",\n-                 name,\n-                 type_debug_name (node->itype),\n-                 G_TYPE_IS_INTERFACE (node->itype) ? \"interface\" : \"class ancestry\");\n+      g_critical (G_STRLOC \": signal \\\"%s\\\" already exists in the '%s' %s\",\n+                  name,\n+                  type_debug_name (node->itype),\n+                  G_TYPE_IS_INTERFACE (node->itype) ? \"interface\" : \"class ancestry\");\n@@ -1764,4 +1771,4 @@\n-      g_warning (G_STRLOC \": signal \\\"%s\\\" for type '%s' was previously created for type '%s'\",\n-                 name,\n-                 type_debug_name (itype),\n-                 type_debug_name (node->itype));\n+      g_critical (G_STRLOC \": signal \\\"%s\\\" for type '%s' was previously created for type '%s'\",\n+                  name,\n+                  type_debug_name (itype),\n+                  type_debug_name (node->itype));\n@@ -1775,1 +1782,1 @@\n-        g_warning (G_STRLOC \": parameter %d of type '%s' for signal \\\"%s::%s\\\" is not a value type\",\n+        g_critical (G_STRLOC \": parameter %d of type '%s' for signal \\\"%s::%s\\\" is not a value type\",\n@@ -1777,1 +1784,9 @@\n-    g_free (signal_name_copy);\n+        g_free (signal_name_copy);\n+        SIGNAL_UNLOCK ();\n+        return 0;\n+      }\n+    if (return_type != G_TYPE_NONE && !G_TYPE_IS_VALUE (return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE))\n+      {\n+        g_critical (G_STRLOC \": return value of type '%s' for signal \\\"%s::%s\\\" is not a value type\",\n+                   type_debug_name (return_type), type_debug_name (itype), name);\n+        g_free (signal_name_copy);\n@@ -1781,8 +1796,0 @@\n-  if (return_type != G_TYPE_NONE && !G_TYPE_IS_VALUE (return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE))\n-    {\n-      g_warning (G_STRLOC \": return value of type '%s' for signal \\\"%s::%s\\\" is not a value type\",\n-                 type_debug_name (return_type), type_debug_name (itype), name);\n-      g_free (signal_name_copy);\n-      SIGNAL_UNLOCK ();\n-      return 0;\n-    }\n@@ -2094,1 +2101,1 @@\n-    g_warning (\"%s: type '%s' cannot be overridden for signal id '%u'\", G_STRLOC, type_debug_name (instance_type), signal_id);\n+    g_critical (\"%s: type '%s' cannot be overridden for signal id '%u'\", G_STRLOC, type_debug_name (instance_type), signal_id);\n@@ -2100,1 +2107,1 @@\n-        g_warning (\"%s: type '%s' is already overridden for signal id '%u'\", G_STRLOC, type_debug_name (instance_type), signal_id);\n+        g_critical (\"%s: type '%s' is already overridden for signal id '%u'\", G_STRLOC, type_debug_name (instance_type), signal_id);\n@@ -2142,2 +2149,2 @@\n-    g_warning (\"%s: signal name '%s' is invalid for type id '%\"G_GSIZE_FORMAT\"'\",\n-               G_STRLOC, signal_name, instance_type);\n+    g_critical (\"%s: signal name '%s' is invalid for type id '%\"G_GSIZE_FORMAT\"'\",\n+                G_STRLOC, signal_name, instance_type);\n@@ -2199,1 +2206,1 @@\n-        g_warning (\"%s: signal id '%u' cannot be chained from current emission stage for instance '%p'\", G_STRLOC, node->signal_id, instance);\n+        g_critical (\"%s: signal id '%u' cannot be chained from current emission stage for instance '%p'\", G_STRLOC, node->signal_id, instance);\n@@ -2202,1 +2209,1 @@\n-    g_warning (\"%s: no signal is currently being emitted for instance '%p'\", G_STRLOC, instance);\n+    g_critical (\"%s: no signal is currently being emitted for instance '%p'\", G_STRLOC, instance);\n@@ -2272,1 +2279,1 @@\n-        g_warning (\"%s: signal id '%u' cannot be chained from current emission stage for instance '%p'\", G_STRLOC, node->signal_id, instance);\n+        g_critical (\"%s: signal id '%u' cannot be chained from current emission stage for instance '%p'\", G_STRLOC, node->signal_id, instance);\n@@ -2275,1 +2282,1 @@\n-    g_warning (\"%s: no signal is currently being emitted for instance '%p'\", G_STRLOC, instance);\n+    g_critical (\"%s: no signal is currently being emitted for instance '%p'\", G_STRLOC, instance);\n@@ -2304,1 +2311,1 @@\n-              g_warning (\"%s: %s\", G_STRLOC, error);\n+              g_critical (\"%s: %s\", G_STRLOC, error);\n@@ -2320,1 +2327,0 @@\n-      instance_and_params->g_type = 0;\n@@ -2360,1 +2366,1 @@\n-              g_warning (\"%s: %s\", G_STRLOC, error);\n+              g_critical (\"%s: %s\", G_STRLOC, error);\n@@ -2415,0 +2421,3 @@\n+ * If @closure is a floating reference (see g_closure_sink()), this function\n+ * takes ownership of @closure.\n+ *\n@@ -2436,1 +2445,1 @@\n-        g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n+        g_critical (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n@@ -2438,1 +2447,1 @@\n-        g_warning (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n+        g_critical (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n@@ -2444,1 +2453,1 @@\n-            _g_object_set_has_signal_handler ((GObject *)instance);\n+            _g_object_set_has_signal_handler ((GObject *) instance, signal_id);\n@@ -2461,1 +2470,1 @@\n-    g_warning (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n+    g_critical (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n@@ -2477,0 +2486,3 @@\n+ * If @closure is a floating reference (see g_closure_sink()), this function\n+ * takes ownership of @closure.\n+ *\n@@ -2502,1 +2514,1 @@\n-        g_warning (\"%s: signal '%s' does not support details\", G_STRLOC, detailed_signal);\n+        g_critical (\"%s: signal '%s' does not support details\", G_STRLOC, detailed_signal);\n@@ -2504,1 +2516,1 @@\n-        g_warning (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n+        g_critical (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n@@ -2511,1 +2523,1 @@\n-            _g_object_set_has_signal_handler ((GObject *)instance);\n+            _g_object_set_has_signal_handler ((GObject *) instance, signal_id);\n@@ -2528,2 +2540,2 @@\n-    g_warning (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n-               G_STRLOC, detailed_signal, instance, g_type_name (itype));\n+    g_critical (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n+                G_STRLOC, detailed_signal, instance, g_type_name (itype));\n@@ -2606,1 +2618,1 @@\n-  g_warning (\"%s: signal '%s' does not support details\", G_STRLOC, detailed_signal);\n+  g_critical (\"%s: signal '%s' does not support details\", G_STRLOC, detailed_signal);\n@@ -2608,1 +2620,1 @@\n-        g_warning (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n+        g_critical (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n@@ -2615,1 +2627,1 @@\n-            _g_object_set_has_signal_handler ((GObject *)instance);\n+            _g_object_set_has_signal_handler ((GObject *) instance, signal_id);\n@@ -2631,2 +2643,2 @@\n-    g_warning (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n-               G_STRLOC, detailed_signal, instance, g_type_name (itype));\n+    g_critical (\"%s: signal '%s' is invalid for instance '%p' of type '%s'\",\n+                G_STRLOC, detailed_signal, instance, g_type_name (itype));\n@@ -2638,0 +2650,4 @@\n+static void\n+signal_handler_block_unlocked (gpointer instance,\n+                               gulong   handler_id);\n+\n@@ -2656,2 +2672,0 @@\n-  Handler *handler;\n-\n@@ -2662,0 +2676,10 @@\n+  signal_handler_block_unlocked (instance, handler_id);\n+  SIGNAL_UNLOCK ();\n+}\n+\n+static void\n+signal_handler_block_unlocked (gpointer instance,\n+                               gulong   handler_id)\n+{\n+  Handler *handler;\n+\n@@ -2672,2 +2696,1 @@\n-    g_warning (\"%s: instance '%p' has no handler with id '%lu'\", G_STRLOC, instance, handler_id);\n-  SIGNAL_UNLOCK ();\n+    g_critical (\"%s: instance '%p' has no handler with id '%lu'\", G_STRLOC, instance, handler_id);\n@@ -2676,0 +2699,4 @@\n+static void\n+signal_handler_unblock_unlocked (gpointer instance,\n+                                 gulong   handler_id);\n+\n@@ -2699,2 +2726,0 @@\n-  Handler *handler;\n-\n@@ -2705,0 +2730,10 @@\n+  signal_handler_unblock_unlocked (instance, handler_id);\n+  SIGNAL_UNLOCK ();\n+}\n+\n+static void\n+signal_handler_unblock_unlocked (gpointer instance,\n+                                 gulong   handler_id)\n+{\n+  Handler *handler;\n+\n@@ -2711,1 +2746,1 @@\n-        g_warning (G_STRLOC \": handler '%lu' of instance '%p' is not blocked\", handler_id, instance);\n+        g_critical (G_STRLOC \": handler '%lu' of instance '%p' is not blocked\", handler_id, instance);\n@@ -2714,2 +2749,1 @@\n-    g_warning (\"%s: instance '%p' has no handler with id '%lu'\", G_STRLOC, instance, handler_id);\n-  SIGNAL_UNLOCK ();\n+    g_critical (\"%s: instance '%p' has no handler with id '%lu'\", G_STRLOC, instance, handler_id);\n@@ -2718,0 +2752,4 @@\n+static void\n+signal_handler_disconnect_unlocked (gpointer instance,\n+                                    gulong   handler_id);\n+\n@@ -2734,2 +2772,0 @@\n-  Handler *handler;\n-\n@@ -2740,0 +2776,10 @@\n+  signal_handler_disconnect_unlocked (instance, handler_id);\n+  SIGNAL_UNLOCK ();\n+}\n+\n+static void\n+signal_handler_disconnect_unlocked (gpointer instance,\n+                                    gulong   handler_id)\n+{\n+  Handler *handler;\n+\n@@ -2750,2 +2796,1 @@\n-    g_warning (\"%s: instance '%p' has no handler with id '%lu'\", G_STRLOC, instance, handler_id);\n-  SIGNAL_UNLOCK ();\n+    g_critical (\"%s: instance '%p' has no handler with id '%lu'\", G_STRLOC, instance, handler_id);\n@@ -2882,0 +2927,2 @@\n+typedef void (*CallbackHandlerFunc) (gpointer instance, gulong handler_seq_no);\n+\n@@ -2883,9 +2930,8 @@\n-signal_handlers_foreach_matched_R (gpointer         instance,\n-                                   GSignalMatchType mask,\n-                                   guint            signal_id,\n-                                   GQuark           detail,\n-                                   GClosure        *closure,\n-                                   gpointer         func,\n-                                   gpointer         data,\n-                                   void           (*callback) (gpointer instance,\n-                                   gulong   handler_seq_no))\n+signal_handlers_foreach_matched_unlocked_R (gpointer             instance,\n+                                            GSignalMatchType     mask,\n+                                            guint                signal_id,\n+                                            GQuark               detail,\n+                                            GClosure            *closure,\n+                                            gpointer             func,\n+                                            gpointer             data,\n+                                            CallbackHandlerFunc  callback)\n@@ -2901,5 +2947,2 @@\n-        {\n-          SIGNAL_UNLOCK ();\n-          callback (instance, mlist->handler->sequential_number);\n-          SIGNAL_LOCK ();\n-        }\n+                  callback (instance, mlist->handler->sequential_number);\n+\n@@ -2924,3 +2967,7 @@\n- * The criteria mask is passed as an OR-ed combination of #GSignalMatchType\n- * flags, and the criteria values are passed as arguments.\n- * Passing at least one of the %G_SIGNAL_MATCH_CLOSURE, %G_SIGNAL_MATCH_FUNC\n+ *\n+ * The criteria mask is passed as a combination of #GSignalMatchType flags, and\n+ * the criteria values are passed as arguments. A handler must match on all\n+ * flags set in @mask to be blocked (i.e. the match is conjunctive).\n+ *\n+ * Passing at least one of the %G_SIGNAL_MATCH_ID, %G_SIGNAL_MATCH_CLOSURE,\n+ * %G_SIGNAL_MATCH_FUNC\n@@ -2931,0 +2978,2 @@\n+ * Support for %G_SIGNAL_MATCH_ID was added in GLib 2.78.\n+ *\n@@ -2947,1 +2996,1 @@\n-  if (mask & (G_SIGNAL_MATCH_CLOSURE | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA))\n+  if (mask & (G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_CLOSURE | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA))\n@@ -2950,3 +2999,4 @@\n-      n_handlers = signal_handlers_foreach_matched_R (instance, mask, signal_id, detail,\n-                                                      closure, func, data,\n-                                                      g_signal_handler_block);\n+      n_handlers =\n+        signal_handlers_foreach_matched_unlocked_R (instance, mask, signal_id, detail,\n+                                                    closure, func, data,\n+                                                    signal_handler_block_unlocked);\n@@ -2971,3 +3021,8 @@\n- * criteria. The criteria mask is passed as an OR-ed combination of\n- * #GSignalMatchType flags, and the criteria values are passed as arguments.\n- * Passing at least one of the %G_SIGNAL_MATCH_CLOSURE, %G_SIGNAL_MATCH_FUNC\n+ * criteria.\n+ *\n+ * The criteria mask is passed as a combination of #GSignalMatchType flags, and\n+ * the criteria values are passed as arguments. A handler must match on all\n+ * flags set in @mask to be unblocked (i.e. the match is conjunctive).\n+ *\n+ * Passing at least one of the %G_SIGNAL_MATCH_ID, %G_SIGNAL_MATCH_CLOSURE,\n+ * %G_SIGNAL_MATCH_FUNC\n@@ -2979,0 +3034,2 @@\n+ * Support for %G_SIGNAL_MATCH_ID was added in GLib 2.78.\n+ *\n@@ -2995,1 +3052,1 @@\n-  if (mask & (G_SIGNAL_MATCH_CLOSURE | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA))\n+  if (mask & (G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_CLOSURE | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA))\n@@ -2998,3 +3055,4 @@\n-      n_handlers = signal_handlers_foreach_matched_R (instance, mask, signal_id, detail,\n-                                                      closure, func, data,\n-                                                      g_signal_handler_unblock);\n+      n_handlers =\n+        signal_handlers_foreach_matched_unlocked_R (instance, mask, signal_id, detail,\n+                                                    closure, func, data,\n+                                                    signal_handler_unblock_unlocked);\n@@ -3019,4 +3077,8 @@\n- * selection criteria. The criteria mask is passed as an OR-ed\n- * combination of #GSignalMatchType flags, and the criteria values are\n- * passed as arguments.  Passing at least one of the\n- * %G_SIGNAL_MATCH_CLOSURE, %G_SIGNAL_MATCH_FUNC or\n+ * selection criteria.\n+ *\n+ * The criteria mask is passed as a combination of #GSignalMatchType flags, and\n+ * the criteria values are passed as arguments. A handler must match on all\n+ * flags set in @mask to be disconnected (i.e. the match is conjunctive).\n+ *\n+ * Passing at least one of the %G_SIGNAL_MATCH_ID, %G_SIGNAL_MATCH_CLOSURE,\n+ * %G_SIGNAL_MATCH_FUNC or\n@@ -3027,0 +3089,2 @@\n+ * Support for %G_SIGNAL_MATCH_ID was added in GLib 2.78.\n+ *\n@@ -3043,1 +3107,1 @@\n-  if (mask & (G_SIGNAL_MATCH_CLOSURE | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA))\n+  if (mask & (G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_CLOSURE | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA))\n@@ -3046,3 +3110,4 @@\n-      n_handlers = signal_handlers_foreach_matched_R (instance, mask, signal_id, detail,\n-                  closure, func, data,\n-                  g_signal_handler_disconnect);\n+      n_handlers =\n+        signal_handlers_foreach_matched_unlocked_R (instance, mask, signal_id, detail,\n+                                                    closure, func, data,\n+                                                    signal_handler_disconnect_unlocked);\n@@ -3106,1 +3171,1 @@\n-          g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n+          g_critical (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n@@ -3132,0 +3197,6 @@\n+static void\n+signal_emitv_unlocked (const GValue *instance_and_params,\n+                       guint         signal_id,\n+                       GQuark        detail,\n+                       GValue       *return_value);\n+\n@@ -3154,0 +3225,11 @@\n+{\n+  SIGNAL_LOCK ();\n+  signal_emitv_unlocked (instance_and_params, signal_id, detail, return_value);\n+  SIGNAL_UNLOCK ();\n+}\n+\n+static void\n+signal_emitv_unlocked (const GValue *instance_and_params,\n+                       guint         signal_id,\n+                       GQuark        detail,\n+                       GValue       *return_value)\n@@ -3171,1 +3253,0 @@\n-  SIGNAL_LOCK ();\n@@ -3175,2 +3256,1 @@\n-      g_warning (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n-      SIGNAL_UNLOCK ();\n+      g_critical (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n@@ -3182,2 +3262,1 @@\n-      g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n-      SIGNAL_UNLOCK ();\n+      g_critical (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n@@ -3195,2 +3274,1 @@\n-  SIGNAL_UNLOCK ();\n-  return;\n+    return;\n@@ -3206,2 +3284,1 @@\n-    SIGNAL_UNLOCK ();\n-    return;\n+        return;\n@@ -3216,2 +3293,1 @@\n-    SIGNAL_UNLOCK ();\n-    return;\n+        return;\n@@ -3243,2 +3319,1 @@\n-    SIGNAL_UNLOCK ();\n-    \/* g_printerr (\"omitting emission of \\\"%s\\\"\\n\", node->name); *\/\n+        \/* g_printerr (\"omitting emission of \\\"%s\\\"\\n\", node->name); *\/\n@@ -3249,2 +3324,4 @@\n-  SIGNAL_UNLOCK ();\n-  signal_emit_unlocked_R (node, detail, instance, return_value, instance_and_params);\n+  \/* Pass a stable node pointer, whose address can't change even if the\n+   * g_signal_nodes array gets reallocated. *\/\n+  SignalNode node_copy = *node;\n+  signal_emit_unlocked_R (&node_copy, detail, instance, return_value, instance_and_params);\n@@ -3272,0 +3349,6 @@\n+static gboolean\n+signal_emit_valist_unlocked (gpointer instance,\n+                             guint    signal_id,\n+                             GQuark   detail,\n+                             va_list  var_args);\n+\n@@ -3293,0 +3376,20 @@\n+{\n+  SIGNAL_LOCK ();\n+  if (signal_emit_valist_unlocked (instance, signal_id, detail, var_args))\n+    SIGNAL_UNLOCK ();\n+}\n+\n+\/*<private>\n+ * signal_emit_valist_unlocked:\n+ * @instance: The instance to emit from\n+ * @signal_id: Signal id to emit\n+ * @detail: Signal detail\n+ * @var_args: Call arguments\n+ *\n+ * Returns: %TRUE if the signal mutex has been left locked\n+ *\/\n+static gboolean\n+signal_emit_valist_unlocked (gpointer instance,\n+                             guint    signal_id,\n+                             GQuark   detail,\n+                             va_list  var_args)\n@@ -3295,1 +3398,0 @@\n-  GType signal_return_type;\n@@ -3298,1 +3400,1 @@\n-  guint i, n_params;\n+  guint i;\n@@ -3300,2 +3402,2 @@\n-  g_return_if_fail (G_TYPE_CHECK_INSTANCE (instance));\n-  g_return_if_fail (signal_id > 0);\n+  g_return_val_if_fail (G_TYPE_CHECK_INSTANCE (instance), TRUE);\n+  g_return_val_if_fail (signal_id > 0, TRUE);\n@@ -3303,1 +3405,0 @@\n-  SIGNAL_LOCK ();\n@@ -3307,3 +3408,2 @@\n-      g_warning (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n-      SIGNAL_UNLOCK ();\n-      return;\n+      g_critical (\"%s: signal id '%u' is invalid for instance '%p'\", G_STRLOC, signal_id, instance);\n+      return TRUE;\n@@ -3314,3 +3414,2 @@\n-      g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n-      SIGNAL_UNLOCK ();\n-      return;\n+      g_critical (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n+      return TRUE;\n@@ -3323,0 +3422,8 @@\n+  \/* There's no need to deep copy this, because a SignalNode instance won't\n+   * ever be destroyed, given that _g_signals_destroy() is not called in any\n+   * real program, however the SignalNode pointer could change, so just store\n+   * the struct contents references, so that we won't try to deference a\n+   * potentially invalid (or changed) pointer;\n+   *\/\n+  SignalNode node_copy = *node;\n+\n@@ -3375,5 +3482,2 @@\n-      if (fastpath && closure == NULL && node->return_type == G_TYPE_NONE)\n-  {\n-    SIGNAL_UNLOCK ();\n-    return;\n-  }\n+      if (fastpath && closure == NULL && node_copy.return_type == G_TYPE_NONE)\n+        return TRUE;\n@@ -3383,2 +3487,2 @@\n-      if (closure != NULL && (node->flags & (G_SIGNAL_NO_RECURSE)) != 0)\n-  fastpath = FALSE;\n+      if (closure != NULL && (node_copy.flags & (G_SIGNAL_NO_RECURSE)) != 0)\n+        fastpath = FALSE;\n@@ -3386,1 +3490,1 @@\n-      if (fastpath)\n+  if (fastpath)\n@@ -3388,1 +3492,0 @@\n-    SignalAccumulator *accumulator;\n@@ -3393,2 +3496,2 @@\n-          GType rtype = node->return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n-    gboolean static_scope = node->return_type & G_SIGNAL_TYPE_STATIC_SCOPE;\n+          GType rtype = node_copy.return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n+    gboolean static_scope = node_copy.return_type & G_SIGNAL_TYPE_STATIC_SCOPE;\n@@ -3396,2 +3499,0 @@\n-    signal_id = node->signal_id;\n-    accumulator = node->accumulator;\n@@ -3400,1 +3501,1 @@\n-    else if (accumulator)\n+    else if (node_copy.accumulator)\n@@ -3416,1 +3517,3 @@\n-    SIGNAL_UNLOCK ();\n+    if (closure != NULL)\n+      {\n+        TRACE(GOBJECT_SIGNAL_EMIT(signal_id, detail, instance, instance_type));\n@@ -3418,1 +3521,1 @@\n-    TRACE(GOBJECT_SIGNAL_EMIT(signal_id, detail, instance, instance_type));\n+        SIGNAL_UNLOCK ();\n@@ -3423,1 +3526,1 @@\n-    if (accumulator)\n+    if (node_copy.accumulator)\n@@ -3426,2 +3529,8 @@\n-    if (closure != NULL)\n-      {\n+              \/*\n+               * Coverity doesn’t understand the paired ref\/unref here and seems\n+               * to ignore the ref, thus reports every call to g_signal_emit()\n+               * as causing a double-free. That’s incorrect, but I can’t get a\n+               * model file to work for avoiding the false positives, so instead\n+               * comment out the ref\/unref when doing static analysis.\n+               *\/\n+#ifndef __COVERITY__\n@@ -3429,0 +3538,1 @@\n+#endif\n@@ -3433,4 +3543,3 @@\n-            node->n_params,\n-            node->param_types);\n-        accumulate (&emission.ihint, &emission_return, &accu, accumulator);\n-      }\n+            node_copy.n_params,\n+            node_copy.param_types);\n+        accumulate (&emission.ihint, &emission_return, &accu, node_copy.accumulator);\n@@ -3438,1 +3547,5 @@\n-    SIGNAL_LOCK ();\n+              if (node_copy.accumulator)\n+                g_value_unset (&accu);\n+\n+        SIGNAL_LOCK ();\n+      }\n@@ -3448,4 +3561,1 @@\n-    if (accumulator)\n-      g_value_unset (&accu);\n-\n-    if (rtype != G_TYPE_NONE)\n+        if (rtype != G_TYPE_NONE)\n@@ -3454,1 +3564,1 @@\n-        for (i = 0; i < node->n_params; i++)\n+        for (i = 0; i < node_copy.n_params; i++)\n@@ -3456,1 +3566,1 @@\n-      GType ptype = node->param_types[i] & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n+      GType ptype = node_copy.param_types[i] & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n@@ -3460,0 +3570,3 @@\n+              if (closure == NULL)\n+                g_value_init (&emission_return, rtype);\n+\n@@ -3468,1 +3581,1 @@\n-      g_warning (\"%s: %s\", G_STRLOC, error);\n+      g_critical (\"%s: %s\", G_STRLOC, error);\n@@ -3478,0 +3591,2 @@\n+\/* See comment above paired ref above *\/\n+#ifndef __COVERITY__\n@@ -3480,0 +3595,1 @@\n+#endif\n@@ -3481,1 +3597,1 @@\n-    return;\n+    return FALSE;\n@@ -3484,0 +3600,1 @@\n+\n@@ -3486,3 +3603,1 @@\n-  n_params = node->n_params;\n-  signal_return_type = node->return_type;\n-  instance_and_params = g_newa0 (GValue, n_params + 1);\n+  instance_and_params = g_newa0 (GValue, node_copy.n_params + 1);\n@@ -3491,1 +3606,1 @@\n-  for (i = 0; i < node->n_params; i++)\n+  for (i = 0; i < node_copy.n_params; i++)\n@@ -3494,2 +3609,2 @@\n-      GType ptype = node->param_types[i] & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n-      gboolean static_scope = node->param_types[i] & G_SIGNAL_TYPE_STATIC_SCOPE;\n+      GType ptype = node_copy.param_types[i] & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n+      gboolean static_scope = node_copy.param_types[i] & G_SIGNAL_TYPE_STATIC_SCOPE;\n@@ -3503,1 +3618,1 @@\n-    g_warning (\"%s: %s\", G_STRLOC, error);\n+    g_critical (\"%s: %s\", G_STRLOC, error);\n@@ -3512,1 +3627,1 @@\n-    return;\n+    return FALSE;\n@@ -3516,4 +3631,7 @@\n-  instance_and_params->g_type = 0;\n-  g_value_init_from_instance (instance_and_params, instance);\n-  if (signal_return_type == G_TYPE_NONE)\n-    signal_emit_unlocked_R (node, detail, instance, NULL, instance_and_params);\n+    g_value_init_from_instance (instance_and_params, instance);\n+  if (node_copy.return_type == G_TYPE_NONE)\n+    {\n+      SIGNAL_LOCK ();\n+      signal_emit_unlocked_R (&node_copy, detail, instance, NULL, instance_and_params);\n+      SIGNAL_UNLOCK ();\n+    }\n@@ -3524,2 +3642,2 @@\n-      GType rtype = signal_return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n-      gboolean static_scope = signal_return_type & G_SIGNAL_TYPE_STATIC_SCOPE;\n+      GType rtype = node_copy.return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE;\n+      gboolean static_scope = node_copy.return_type & G_SIGNAL_TYPE_STATIC_SCOPE;\n@@ -3529,1 +3647,3 @@\n-      signal_emit_unlocked_R (node, detail, instance, &return_value, instance_and_params);\n+      SIGNAL_LOCK ();\n+      signal_emit_unlocked_R (&node_copy, detail, instance, &return_value, instance_and_params);\n+      SIGNAL_UNLOCK ();\n@@ -3536,1 +3656,1 @@\n-  g_value_unset (&return_value);\n+        g_value_unset (&return_value);\n@@ -3539,1 +3659,1 @@\n-    g_warning (\"%s: %s\", G_STRLOC, error);\n+    g_critical (\"%s: %s\", G_STRLOC, error);\n@@ -3547,1 +3667,1 @@\n-  for (i = 0; i < n_params; i++)\n+  for (i = 0; i < node_copy.n_params; i++)\n@@ -3550,0 +3670,2 @@\n+\n+  return FALSE;\n@@ -3611,1 +3733,0 @@\n-  SIGNAL_UNLOCK ();\n@@ -3618,1 +3739,2 @@\n-      g_signal_emit_valist (instance, signal_id, detail, var_args);\n+      if (signal_emit_valist_unlocked (instance, signal_id, detail, var_args))\n+        SIGNAL_UNLOCK ();\n@@ -3622,2 +3744,24 @@\n-    g_warning (\"%s: signal name '%s' is invalid for instance '%p' of type '%s'\",\n-               G_STRLOC, detailed_signal, instance, g_type_name (itype));\n+    {\n+      SIGNAL_UNLOCK ();\n+\n+      g_critical (\"%s: signal name '%s' is invalid for instance '%p' of type '%s'\",\n+                  G_STRLOC, detailed_signal, instance, g_type_name (itype));\n+    }\n+}\n+\n+G_ALWAYS_INLINE static inline GValue *\n+maybe_init_accumulator_unlocked (SignalNode *node,\n+                                 GValue     *emission_return,\n+                                 GValue     *accumulator_value)\n+{\n+  if (node->accumulator)\n+    {\n+      if (accumulator_value->g_type)\n+        return accumulator_value;\n+\n+      g_value_init (accumulator_value,\n+                    node->return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE);\n+      return accumulator_value;\n+    }\n+\n+  return emission_return;\n@@ -3642,0 +3786,1 @@\n+  guint n_params;\n@@ -3645,1 +3790,4 @@\n-  SIGNAL_LOCK ();\n+  \/* We expect this function to be called with a stable SignalNode pointer\n+   * that cannot change location, so accessing its stable members should\n+   * always work even after a lock\/unlock.\n+   *\/\n@@ -3647,0 +3795,1 @@\n+  n_params = node->n_params + 1;\n@@ -3655,1 +3804,0 @@\n-          SIGNAL_UNLOCK ();\n@@ -3660,9 +3808,0 @@\n-  if (accumulator)\n-    {\n-      SIGNAL_UNLOCK ();\n-      g_value_init (&accu, node->return_type & ~G_SIGNAL_TYPE_STATIC_SCOPE);\n-      return_accu = &accu;\n-      SIGNAL_LOCK ();\n-    }\n-  else\n-    return_accu = emission_return;\n@@ -3696,0 +3835,1 @@\n+return_accu = maybe_init_accumulator_unlocked (node, emission_return, &accu);\n@@ -3698,1 +3838,1 @@\n-      node->n_params + 1,\n+      n_params,\n@@ -3716,2 +3856,5 @@\n-      gboolean need_destroy, was_in_call, may_recurse = TRUE;\n-      GHook *hook;\n+            GHook *hook;\n+GHook *static_emission_hooks[3];\n+      size_t n_emission_hooks = 0;\n+      const gboolean may_recurse = TRUE;\n+      guint i;\n@@ -3720,0 +3863,6 @@\n+\n+      \/* Quick check to determine whether any hooks match this emission,\n+       * before committing to the more complex work of calling those hooks.\n+       * We save a few of them into a static array, to try to avoid further\n+       * allocations.\n+       *\/\n@@ -3727,1 +3876,63 @@\n-        GSignalEmissionHook hook_func = (GSignalEmissionHook) hook->func;\n+        if (n_emission_hooks < G_N_ELEMENTS (static_emission_hooks))\n+          {\n+            static_emission_hooks[n_emission_hooks] =\n+                g_hook_ref (node->emission_hooks, hook);\n+          }\n+\n+          n_emission_hooks += 1;\n+      }\n+\n+    hook = g_hook_next_valid (node->emission_hooks, hook, may_recurse);\n+  }\n+\n+      \/* Re-iterate back through the matching hooks and copy them into\n+       * an array which won’t change when we unlock to call the\n+       * user-provided hook functions.\n+       * These functions may change hook configuration for this signal,\n+       * add \/ remove signal handlers, etc.\n+       *\/\n+      if G_UNLIKELY (n_emission_hooks > 0)\n+        {\n+          guint8 static_hook_returns[G_N_ELEMENTS (static_emission_hooks)];\n+          GHook **emission_hooks = NULL;\n+          guint8 *hook_returns = NULL;\n+\n+          if G_LIKELY (n_emission_hooks <= G_N_ELEMENTS (static_emission_hooks))\n+            {\n+              emission_hooks = static_emission_hooks;\n+              hook_returns = static_hook_returns;\n+            }\n+          else\n+            {\n+              emission_hooks = g_newa (GHook *, n_emission_hooks);\n+              hook_returns = g_newa (guint8, n_emission_hooks);\n+\n+              \/* We can't just memcpy the ones we have in the static array,\n+               * to the alloca()'d one because otherwise we'd get an invalid\n+               * ID assertion during unref\n+               *\/\n+              i = 0;\n+              for (hook = g_hook_first_valid (node->emission_hooks, may_recurse);\n+                   hook != NULL;\n+                   hook = g_hook_next_valid (node->emission_hooks, hook, may_recurse))\n+                {\n+                  SignalHook *signal_hook = SIGNAL_HOOK (hook);\n+\n+                  if (!signal_hook->detail || signal_hook->detail == detail)\n+                    {\n+                       if (i < G_N_ELEMENTS (static_emission_hooks))\n+                         {\n+                            emission_hooks[i] = g_steal_pointer (&static_emission_hooks[i]);\n+                            g_assert (emission_hooks[i] == hook);\n+                         }\n+                       else\n+                         {\n+                            emission_hooks[i] = g_hook_ref (node->emission_hooks, hook);\n+                         }\n+\n+                      i += 1;\n+                    }\n+                }\n+\n+               g_assert (i == n_emission_hooks);\n+            }\n@@ -3729,2 +3940,0 @@\n-        was_in_call = G_HOOK_IN_CALL (hook);\n-        hook->flags |= G_HOOK_FLAG_IN_CALL;\n@@ -3732,1 +3941,24 @@\n-        need_destroy = !hook_func (&emission.ihint, node->n_params + 1, instance_and_params, hook->data);\n+\n+            for (i = 0; i < n_emission_hooks; ++i)\n+              {\n+                GSignalEmissionHook hook_func;\n+                gboolean need_destroy;\n+                guint old_flags;\n+\n+                hook = emission_hooks[i];\n+                hook_func = (GSignalEmissionHook) hook->func;\n+\n+                old_flags = g_atomic_int_or (&hook->flags, G_HOOK_FLAG_IN_CALL);\n+                need_destroy = !hook_func (&emission.ihint, n_params,\n+                                           instance_and_params, hook->data);\n+\n+                if (!(old_flags & G_HOOK_FLAG_IN_CALL))\n+                  {\n+                    g_atomic_int_compare_and_exchange (&hook->flags,\n+                                                       old_flags | G_HOOK_FLAG_IN_CALL,\n+                                                       old_flags);\n+                  }\n+\n+                hook_returns[i] = !!need_destroy;\n+              }\n+\n@@ -3734,3 +3966,8 @@\n-        if (!was_in_call)\n-    hook->flags &= ~G_HOOK_FLAG_IN_CALL;\n-        if (need_destroy)\n+\n+            for (i = 0; i < n_emission_hooks; i++)\n+              {\n+                hook = emission_hooks[i];\n+\n+                g_hook_unref (node->emission_hooks, hook);\n+\n+                if (hook_returns[i])\n@@ -3739,2 +3976,1 @@\n-    hook = g_hook_next_valid (node->emission_hooks, hook, may_recurse);\n-  }\n+      }\n@@ -3766,0 +4002,1 @@\n+return_accu = maybe_init_accumulator_unlocked (node, emission_return, &accu);\n@@ -3768,1 +4005,1 @@\n-        node->n_params + 1,\n+        n_params,\n@@ -3805,0 +4042,1 @@\n+return_accu = maybe_init_accumulator_unlocked (node, emission_return, &accu);\n@@ -3807,1 +4045,1 @@\n-      node->n_params + 1,\n+      n_params,\n@@ -3837,0 +4075,1 @@\n+        return_accu = maybe_init_accumulator_unlocked (node, emission_return, &accu);\n@@ -3839,1 +4078,1 @@\n-        node->n_params + 1,\n+        n_params,\n@@ -3886,1 +4125,1 @@\n-      node->n_params + 1,\n+      n_params,\n@@ -3907,1 +4146,0 @@\n-  SIGNAL_UNLOCK ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsignal.c","additions":467,"deletions":229,"binary":false,"changes":696,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -158,3 +160,5 @@\n- * @G_CONNECT_AFTER: whether the handler should be called before or after the\n- *  default handler of the signal.\n- * @G_CONNECT_SWAPPED: whether the instance and data should be swapped when\n+ * @G_CONNECT_DEFAULT: Default behaviour (no special flags). Since: 2.74\n+ * @G_CONNECT_AFTER: If set, the handler should be called after the\n+ *  default handler of the signal. Normally, the handler is called before\n+ *  the default handler.\n+ * @G_CONNECT_SWAPPED: If set, the instance and data should be swapped when\n@@ -168,1 +172,2 @@\n-  G_CONNECT_AFTER   = 1 << 0,\n+  G_CONNECT_DEFAULT GOBJECT_AVAILABLE_ENUMERATOR_IN_2_74 = 0,\n+  G_CONNECT_AFTER = 1 << 0,\n@@ -276,1 +281,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -281,2 +286,2 @@\n-                         GSignalAccumulator  accumulator,\n-                         gpointer        accu_data,\n+                                             GSignalAccumulator  accumulator,\n+                                             gpointer            accu_data,\n@@ -287,1 +292,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -292,2 +297,2 @@\n-                         GSignalAccumulator  accumulator,\n-                         gpointer        accu_data,\n+                                             GSignalAccumulator  accumulator,\n+                                             gpointer            accu_data,\n@@ -298,1 +303,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -303,2 +308,2 @@\n-                         GSignalAccumulator  accumulator,\n-                         gpointer        accu_data,\n+                                             GSignalAccumulator  accumulator,\n+                                             gpointer            accu_data,\n@@ -309,1 +314,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -320,1 +325,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -325,1 +330,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -330,1 +335,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -335,1 +340,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -340,1 +345,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -344,1 +349,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -347,1 +352,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -349,1 +354,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -352,1 +357,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -355,1 +360,1 @@\n-GLIB_AVAILABLE_IN_2_66\n+GOBJECT_AVAILABLE_IN_2_66\n@@ -357,1 +362,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -363,1 +368,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -368,1 +373,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -372,1 +377,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -375,1 +380,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -381,1 +386,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -387,1 +392,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -392,1 +397,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -398,1 +403,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -403,1 +408,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -410,1 +415,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -413,1 +418,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -416,1 +421,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -419,1 +424,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -422,1 +427,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -430,1 +435,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -438,1 +443,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -446,1 +451,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -455,1 +460,1 @@\n-GLIB_AVAILABLE_IN_2_62\n+GOBJECT_AVAILABLE_IN_2_62\n@@ -471,1 +476,1 @@\n-  GLIB_AVAILABLE_MACRO_IN_2_62\n+  GOBJECT_AVAILABLE_MACRO_IN_2_62\n@@ -474,1 +479,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -478,1 +483,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -482,1 +487,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -485,1 +490,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -507,0 +512,2 @@\n+\/* Intentionally not using G_CONNECT_DEFAULT here to avoid deprecation\n+ * warnings with older GLIB_VERSION_MAX_ALLOWED *\/\n@@ -621,1 +628,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -627,1 +634,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -634,1 +641,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsignal.h","additions":58,"deletions":51,"binary":false,"changes":109,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsourceclosure.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -29,1 +31,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -33,1 +35,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsourceclosure.h","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -97,1 +99,2 @@\n-void        _g_object_set_has_signal_handler (GObject     *object);\n+void        _g_object_set_has_signal_handler (GObject     *object,\n+                                              guint        signal_id);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtype-private.h","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -86,2 +88,16 @@\n- * character must be a letter (a or A) or an underscore (). Subsequent\n- * characters can be letters, numbers or any of .\n+ * character must be a letter (a–z or A–Z) or an underscore (‘_’). Subsequent\n+ * characters can be letters, numbers or any of ‘-_+’.\n+ *\n+ * # Runtime Debugging\n+ *\n+ * When 'G_ENABLE_DEBUG' is defined during compilation, the GObject library\n+ * supports an environment variable 'GOBJECT_DEBUG' that can be set to a\n+ * combination of flags to trigger debugging messages about\n+ * object bookkeeping and signal emissions during runtime.\n+ *\n+ * The currently supported flags are:\n+ *  - 'objects': Tracks all #GObject instances in a global hash table called\n+ *    'debug_objects_ht', and prints the still-alive objects on exit.\n+ *  - 'instance-count': Tracks the number of instances of every #GType and makes\n+ *    it available via the g_type_get_instance_count() function.\n+ *  - 'signals': Currently unused.\n@@ -146,1 +162,8 @@\n-#define TYPE_FLAG_MASK             (G_TYPE_FLAG_ABSTRACT | G_TYPE_FLAG_VALUE_ABSTRACT | G_TYPE_FLAG_FINAL)\n+#define TYPE_FLAG_MASK       (G_TYPE_FLAG_ABSTRACT | G_TYPE_FLAG_VALUE_ABSTRACT | G_TYPE_FLAG_FINAL | G_TYPE_FLAG_DEPRECATED)\n+\n+\/* List the flags that are directly accessible via the TypeNode struct flags *\/\n+#define NODE_FLAG_MASK ( \\\n+  G_TYPE_FLAG_CLASSED | \\\n+  G_TYPE_FLAG_INSTANTIATABLE | \\\n+  G_TYPE_FLAG_FINAL)\n+\n@@ -174,1 +197,1 @@\n-typedef struct _IFaceHolder IFaceHolder;\n+typedef struct _IFaceHolder     IFaceHolder;\n@@ -234,1 +257,3 @@\n-  guint        mutatable_check_cache : 1;       \/* combines some common path checks *\/\n+  guint        is_final : 1;\n+  guint        mutatable_check_cache : 1; \/* combines some common path checks *\/\n+\n@@ -348,1 +373,0 @@\n-  guint16            n_preallocs;\n@@ -716,1 +740,1 @@\n-      g_warning (\"plugin handle for type '%s' is NULL\",\n+      g_critical (\"plugin handle for type '%s' is NULL\",\n@@ -722,1 +746,1 @@\n-      g_warning (\"plugin pointer (%p) for type '%s' is invalid\",\n+      g_critical (\"plugin pointer (%p) for type '%s' is invalid\",\n@@ -728,1 +752,1 @@\n-      g_warning (\"plugin for type '%s' has no complete_type_info() implementation\",\n+      g_critical (\"plugin for type '%s' has no complete_type_info() implementation\",\n@@ -734,1 +758,1 @@\n-      g_warning (\"plugin for type '%s' has no complete_interface_info() implementation\",\n+      g_critical (\"plugin for type '%s' has no complete_interface_info() implementation\",\n@@ -750,1 +774,1 @@\n-      g_warning (\"type name '%s' is too short\", type_name);\n+      g_critical (\"type name '%s' is too short\", type_name);\n@@ -762,1 +786,1 @@\n-      g_warning (\"type name '%s' contains invalid characters\", type_name);\n+      g_critical (\"type name '%s' contains invalid characters\", type_name);\n@@ -767,1 +791,1 @@\n-      g_warning (\"cannot register existing type '%s'\", type_name);\n+      g_critical (\"cannot register existing type '%s'\", type_name);\n@@ -784,1 +808,1 @@\n-      g_warning (\"cannot derive type '%s' from invalid parent type '%s'\",\n+      g_critical (\"cannot derive type '%s' from invalid parent type '%s'\",\n@@ -789,0 +813,7 @@\n+if (pnode->is_final)\n+    {\n+      g_critical (\"cannot derive '%s' from final parent type '%s'\",\n+                  type_name,\n+                  NODE_NAME (pnode));\n+      return FALSE;\n+    }\n@@ -793,3 +824,3 @@\n-      g_warning (\"cannot derive '%s' from non-derivable parent type '%s'\",\n-     type_name,\n-     NODE_NAME (pnode));\n+      g_critical (\"cannot derive '%s' from non-derivable parent type '%s'\",\n+      type_name,\n+      NODE_NAME (pnode));\n@@ -802,10 +833,3 @@\n-      g_warning (\"cannot derive '%s' from non-fundamental parent type '%s'\",\n-     type_name,\n-     NODE_NAME (pnode));\n-      return FALSE;\n-    }\n-  if ((G_TYPE_FLAG_FINAL & GPOINTER_TO_UINT (type_get_qdata_L (pnode, static_quark_type_flags))) == G_TYPE_FLAG_FINAL)\n-    {\n-      g_warning (\"cannot derive '%s' from final parent type '%s'\",\n-                 type_name,\n-                 NODE_NAME (pnode));\n+      g_critical (\"cannot derive '%s' from non-fundamental parent type '%s'\",\n+      type_name,\n+      NODE_NAME (pnode));\n@@ -844,1 +868,1 @@\n-  g_warning (\"cannot handle uninitializable values of type '%s'\",\n+  g_critical (\"cannot handle uninitializable values of type '%s'\",\n@@ -853,1 +877,1 @@\n-     * g_warning (\"missing 'value_free()' for type '%s'\", type_name);\n+     * g_critical (\"missing 'value_free()' for type '%s'\", type_name);\n@@ -859,1 +883,1 @@\n-    g_warning (\"missing 'value_copy()' for type '%s'\", type_name);\n+    g_critical (\"missing 'value_copy()' for type '%s'\", type_name);\n@@ -865,1 +889,1 @@\n-    g_warning (\"one of 'collect_format' and 'collect_value()' is unspecified for type '%s'\",\n+    g_critical (\"one of 'collect_format' and 'collect_value()' is unspecified for type '%s'\",\n@@ -871,1 +895,1 @@\n-    g_warning (\"the '%s' specification for type '%s' is too long or invalid\",\n+    g_critical (\"the '%s' specification for type '%s' is too long or invalid\",\n@@ -879,1 +903,1 @@\n-    g_warning (\"one of 'lcopy_format' and 'lcopy_value()' is unspecified for type '%s'\",\n+    g_critical (\"one of 'lcopy_format' and 'lcopy_value()' is unspecified for type '%s'\",\n@@ -885,1 +909,1 @@\n-    g_warning (\"the '%s' specification for type '%s' is too long or invalid\",\n+    g_critical (\"the '%s' specification for type '%s' is too long or invalid\",\n@@ -907,1 +931,1 @@\n-      (info->instance_size || info->n_preallocs || info->instance_init))\n+      (info->instance_size || info->instance_init))\n@@ -910,3 +934,3 @@\n-  g_warning (\"cannot instantiate '%s', derived from non-instantiatable parent type '%s'\",\n-       type_name,\n-       NODE_NAME (pnode));\n+        g_critical (\"cannot instantiate '%s', derived from non-instantiatable parent type '%s'\",\n+        type_name,\n+        NODE_NAME (pnode));\n@@ -914,2 +938,2 @@\n-  g_warning (\"cannot instantiate '%s' as non-instantiatable fundamental\",\n-       type_name);\n+        g_critical (\"cannot instantiate '%s' as non-instantiatable fundamental\",\n+        type_name);\n@@ -924,1 +948,1 @@\n-  g_warning (\"cannot create class for '%s', derived from non-classed parent type '%s'\",\n+  g_critical (\"cannot create class for '%s', derived from non-classed parent type '%s'\",\n@@ -928,1 +952,1 @@\n-  g_warning (\"cannot create class for '%s' as non-classed fundamental\",\n+  g_critical (\"cannot create class for '%s' as non-classed fundamental\",\n@@ -935,1 +959,1 @@\n-      g_warning (\"specified interface size for type '%s' is smaller than 'GTypeInterface' size\",\n+      g_critical (\"specified interface size for type '%s' is smaller than 'GTypeInterface' size\",\n@@ -944,1 +968,1 @@\n-    g_warning (\"specified class size for type '%s' is smaller than 'GTypeClass' size\",\n+    g_critical (\"specified class size for type '%s' is smaller than 'GTypeClass' size\",\n@@ -950,1 +974,1 @@\n-    g_warning (\"specified class size for type '%s' is smaller \"\n+    g_critical (\"specified class size for type '%s' is smaller \"\n@@ -962,1 +986,1 @@\n-    g_warning (\"specified instance size for type '%s' is smaller than 'GTypeInstance' size\",\n+    g_critical (\"specified instance size for type '%s' is smaller than 'GTypeInstance' size\",\n@@ -968,1 +992,1 @@\n-    g_warning (\"specified instance size for type '%s' is smaller \"\n+    g_critical (\"specified instance size for type '%s' is smaller \"\n@@ -1009,1 +1033,1 @@\n-      g_warning (\"cannot add interfaces to invalid (non-instantiatable) type '%s'\",\n+      g_critical (\"cannot add interfaces to invalid (non-instantiatable) type '%s'\",\n@@ -1015,1 +1039,1 @@\n-      g_warning (\"cannot add invalid (non-interface) type '%s' to type '%s'\",\n+      g_critical (\"cannot add invalid (non-interface) type '%s' to type '%s'\",\n@@ -1022,1 +1046,1 @@\n-      g_warning (\"attempting to add an interface (%s) to class (%s) after class_init\",\n+      g_critical (\"attempting to add an interface (%s) to class (%s) after class_init\",\n@@ -1030,4 +1054,4 @@\n-      g_warning (\"cannot add sub-interface '%s' to type '%s' which does not conform to super-interface '%s'\",\n-     NODE_NAME (iface),\n-     NODE_NAME (node),\n-     NODE_NAME (tnode));\n+      g_critical (\"cannot add sub-interface '%s' to type '%s' which does not conform to super-interface '%s'\",\n+      NODE_NAME (iface),\n+      NODE_NAME (node),\n+      NODE_NAME (tnode));\n@@ -1052,4 +1076,4 @@\n-      g_warning (\"cannot add interface type '%s' to type '%s', since type '%s' already conforms to interface\",\n-     NODE_NAME (iface),\n-     NODE_NAME (node),\n-     NODE_NAME (tnode));\n+      g_critical (\"cannot add interface type '%s' to type '%s', since type '%s' already conforms to interface\",\n+      NODE_NAME (iface),\n+      NODE_NAME (node),\n+      NODE_NAME (tnode));\n@@ -1064,1 +1088,1 @@\n-    g_warning (\"cannot add interface type '%s' to type '%s' which does not conform to prerequisite '%s'\",\n+    g_critical (\"cannot add interface type '%s' to type '%s' which does not conform to prerequisite '%s'\",\n@@ -1081,3 +1105,3 @@\n-      g_warning (\"interface type '%s' for type '%s' comes without initializer\",\n-     NODE_NAME (iface),\n-     type_descriptive_name_I (instance_type));\n+      g_critical (\"interface type '%s' for type '%s' comes without initializer\",\n+      NODE_NAME (iface),\n+      type_descriptive_name_I (instance_type));\n@@ -1154,1 +1178,0 @@\n-      data->instance.n_preallocs = MIN (info->n_preallocs, 1024);\n@@ -1589,1 +1612,1 @@\n-      g_warning (\"interface type '%s' or prerequisite type '%s' invalid\",\n+      g_critical (\"interface type '%s' or prerequisite type '%s' invalid\",\n@@ -1599,1 +1622,1 @@\n-      g_warning (\"unable to add prerequisite '%s' to interface '%s' which is already in use for '%s'\",\n+      g_critical (\"unable to add prerequisite '%s' to interface '%s' which is already in use for '%s'\",\n@@ -1617,1 +1640,1 @@\n-        g_warning (\"adding prerequisite '%s' to interface '%s' conflicts with existing prerequisite '%s'\",\n+        g_critical (\"adding prerequisite '%s' to interface '%s' conflicts with existing prerequisite '%s'\",\n@@ -1643,1 +1666,1 @@\n-      g_warning (\"prerequisite '%s' for interface '%s' is neither instantiatable nor interface\",\n+      g_critical (\"prerequisite '%s' for interface '%s' is neither instantiatable nor interface\",\n@@ -1834,0 +1857,41 @@\n+static void\n+maybe_issue_deprecation_warning (GType type)\n+{\n+  static GHashTable *already_warned_table;\n+  static const gchar *enable_diagnostic;\n+  static GMutex already_warned_lock;\n+  gboolean already;\n+  const char *name;\n+\n+  if (g_once_init_enter (&enable_diagnostic))\n+    {\n+      const gchar *value = g_getenv (\"G_ENABLE_DIAGNOSTIC\");\n+\n+      if (!value)\n+        value = \"0\";\n+\n+      g_once_init_leave (&enable_diagnostic, value);\n+    }\n+\n+  if (enable_diagnostic[0] == '0')\n+    return;\n+\n+  g_mutex_lock (&already_warned_lock);\n+\n+  if (already_warned_table == NULL)\n+    already_warned_table = g_hash_table_new (NULL, NULL);\n+\n+  name = g_type_name (type);\n+\n+  already = g_hash_table_contains (already_warned_table, (gpointer) name);\n+  if (!already)\n+    g_hash_table_add (already_warned_table, (gpointer) name);\n+\n+  g_mutex_unlock (&already_warned_lock);\n+\n+  if (!already)\n+    g_warning (\"The type %s is deprecated and shouldn’t be used \"\n+               \"any more. It may be removed in a future version.\",\n+               name);\n+}\n+\n@@ -1870,1 +1934,1 @@\n-  if (!node || !node->is_instantiatable)\n+  if (G_UNLIKELY (!node || !node->is_instantiatable))\n@@ -1876,1 +1940,1 @@\n-  if (!node->mutatable_check_cache && G_TYPE_IS_ABSTRACT (type))\n+  if (G_UNLIKELY (!node->mutatable_check_cache && G_TYPE_IS_ABSTRACT (type)))\n@@ -1881,0 +1945,4 @@\n+  if (G_UNLIKELY (G_TYPE_IS_DEPRECATED (type)))\n+    {\n+      maybe_issue_deprecation_warning (type);\n+    }\n@@ -1905,1 +1973,1 @@\n-  if (private_size && RUNNING_ON_VALGRIND)\n+  if (G_UNLIKELY (private_size && RUNNING_ON_VALGRIND))\n@@ -1910,1 +1978,1 @@\n-      allocated = g_slice_alloc0 (private_size + ivar_size + sizeof (gpointer));\n+      allocated = g_malloc0 (private_size + ivar_size + sizeof (gpointer));\n@@ -1920,1 +1988,1 @@\n-    allocated = g_slice_alloc0 (private_size + ivar_size);\n+    allocated = g_malloc0 (private_size + ivar_size);\n@@ -1975,1 +2043,1 @@\n-  if (!node || !node->is_instantiatable || !node->data || node->data->class.class != (gpointer) class)\n+  if (G_UNLIKELY (!node || !node->is_instantiatable || !node->data || node->data->class.class != (gpointer) class))\n@@ -1977,2 +2045,2 @@\n-      g_warning (\"cannot free instance of invalid (non-instantiatable) type '%s'\",\n-     type_descriptive_name_I (class->g_type));\n+      g_critical (\"cannot free instance of invalid (non-instantiatable) type '%s'\",\n+      type_descriptive_name_I (class->g_type));\n@@ -1982,1 +2050,1 @@\n-  if (!node->mutatable_check_cache && G_TYPE_IS_ABSTRACT (NODE_TYPE (node)))\n+  if (G_UNLIKELY (!node->mutatable_check_cache && G_TYPE_IS_ABSTRACT (NODE_TYPE (node))))\n@@ -1984,2 +2052,2 @@\n-      g_warning (\"cannot free instance of abstract (non-instantiatable) type '%s'\",\n-     NODE_NAME (node));\n+      g_critical (\"cannot free instance of abstract (non-instantiatable) type '%s'\",\n+      NODE_NAME (node));\n@@ -2002,1 +2070,1 @@\n-  if (private_size && RUNNING_ON_VALGRIND)\n+  if (G_UNLIKELY (private_size && RUNNING_ON_VALGRIND))\n@@ -2010,1 +2078,1 @@\n-      g_slice_free1 (private_size + ivar_size + sizeof (gpointer), allocated);\n+      g_free_sized (allocated, private_size + ivar_size + sizeof (gpointer));\n@@ -2017,1 +2085,1 @@\n-    g_slice_free1 (private_size + ivar_size, allocated);\n+    g_free_sized (allocated, private_size + ivar_size);\n@@ -2419,2 +2487,2 @@\n-      g_warning (\"cannot drop last reference to unreferenced type '%s'\",\n-     NODE_NAME (node));\n+      g_critical (\"cannot drop last reference to unreferenced type '%s'\",\n+      NODE_NAME (node));\n@@ -2518,2 +2586,2 @@\n-    g_warning (\"static type '%s' unreferenced too often\",\n-         NODE_NAME (node));\n+    g_critical (\"static type '%s' unreferenced too often\",\n+          NODE_NAME (node));\n@@ -2606,2 +2674,2 @@\n-    g_warning (G_STRLOC \": cannot remove unregistered class cache func %p with data %p\",\n-         cache_func, cache_data);\n+    g_critical (G_STRLOC \": cannot remove unregistered class cache func %p with data %p\",\n+          cache_func, cache_data);\n@@ -2680,2 +2748,2 @@\n-    g_warning (G_STRLOC \": cannot remove unregistered class check func %p with data %p\",\n-         check_func, check_data);\n+    g_critical (G_STRLOC \": cannot remove unregistered class check func %p with data %p\",\n+          check_func, check_data);\n@@ -2723,3 +2791,3 @@\n-      g_warning (\"attempt to register fundamental type '%s' with invalid type id (%\" G_GSIZE_FORMAT \")\",\n-     type_name,\n-     type_id);\n+      g_critical (\"attempt to register fundamental type '%s' with invalid type id (%\" G_GSIZE_FORMAT \")\",\n+      type_name,\n+      type_id);\n@@ -2731,2 +2799,2 @@\n-      g_warning (\"cannot register instantiatable fundamental type '%s' as non-classed\",\n-     type_name);\n+      g_critical (\"cannot register instantiatable fundamental type '%s' as non-classed\",\n+      type_name);\n@@ -2737,3 +2805,3 @@\n-      g_warning (\"cannot register existing fundamental type '%s' (as '%s')\",\n-     type_descriptive_name_I (type_id),\n-     type_name);\n+      g_critical (\"cannot register existing fundamental type '%s' (as '%s')\",\n+      type_descriptive_name_I (type_id),\n+      type_name);\n@@ -2839,2 +2907,2 @@\n-      g_warning (\"class finalizer specified for static type '%s'\",\n-     type_name);\n+      g_critical (\"class finalizer specified for static type '%s'\",\n+      type_name);\n@@ -3002,2 +3070,2 @@\n-      g_warning (\"cannot retrieve class for invalid (unclassed) type '%s'\",\n-     type_descriptive_name_I (type));\n+      g_critical (\"cannot retrieve class for invalid (unclassed) type '%s'\",\n+      type_descriptive_name_I (type));\n@@ -3066,2 +3134,2 @@\n-    g_warning (\"cannot unreference class of invalid (unclassed) type '%s'\",\n-         type_descriptive_name_I (class->g_type));\n+    g_critical (\"cannot unreference class of invalid (unclassed) type '%s'\",\n+          type_descriptive_name_I (class->g_type));\n@@ -3091,2 +3159,2 @@\n-    g_warning (\"cannot unreference class of invalid (unclassed) type '%s'\",\n-         type_descriptive_name_I (class->g_type));\n+    g_critical (\"cannot unreference class of invalid (unclassed) type '%s'\",\n+          type_descriptive_name_I (class->g_type));\n@@ -3196,1 +3264,1 @@\n-    g_warning (G_STRLOC \": invalid class pointer '%p'\", g_class);\n+    g_critical (G_STRLOC \": invalid class pointer '%p'\", g_class);\n@@ -3229,1 +3297,1 @@\n-    g_warning (G_STRLOC \": invalid class pointer '%p'\", class);\n+    g_critical (G_STRLOC \": invalid class pointer '%p'\", class);\n@@ -3265,1 +3333,1 @@\n-    g_warning (G_STRLOC \": invalid interface pointer '%p'\", g_iface);\n+    g_critical (G_STRLOC \": invalid interface pointer '%p'\", g_iface);\n@@ -3304,2 +3372,2 @@\n-      g_warning (\"cannot retrieve default vtable for invalid or non-interface type '%s'\",\n-     type_descriptive_name_I (g_type));\n+      g_critical (\"cannot retrieve default vtable for invalid or non-interface type '%s'\",\n+      type_descriptive_name_I (g_type));\n@@ -3381,2 +3449,2 @@\n-    g_warning (\"cannot unreference invalid interface default vtable for '%s'\",\n-         type_descriptive_name_I (vtable->g_type));\n+    g_critical (\"cannot unreference invalid interface default vtable for '%s'\",\n+          type_descriptive_name_I (vtable->g_type));\n@@ -3395,1 +3463,1 @@\n- * Returns: static type name or %NULL\n+ * Returns: (nullable): static type name or %NULL\n@@ -3601,2 +3669,2 @@\n-g_type_is_a (GType type,\n-             GType iface_type)\n+(g_type_is_a) (GType type,\n+               GType iface_type)\n@@ -3870,1 +3938,1 @@\n-    g_warning (\"tagging type '%s' as abstract after class initialization\", NODE_NAME (node));\n+    g_critical (\"tagging type '%s' as abstract after class initialization\", NODE_NAME (node));\n@@ -3874,0 +3942,2 @@\n+\n+  node->is_final = (flags & G_TYPE_FLAG_FINAL) != 0;\n@@ -3883,0 +3953,1 @@\n+ *\n@@ -3888,0 +3959,3 @@\n+ *\n+ * Since GLib 2.78, this function allows queries on dynamic types. Previously\n+ * it only supported static types.\n@@ -3897,1 +3971,1 @@\n-  \/* if node is not static and classed, we won't allow query *\/\n+  \/* if node is not classed, we won't allow query *\/\n@@ -3900,1 +3974,1 @@\n-  if (node && node->is_classed && !node->plugin)\n+  if (node && node->is_classed)\n@@ -3921,2 +3995,2 @@\n- * the instance_count debug flag is set (by setting the GOBJECT_DEBUG\n- * variable to include instance-count).\n+ * the 'instance-count' debug flag is set (by setting the 'GOBJECT_DEBUG'\n+ * variable to include 'instance-count').\n@@ -3955,0 +4029,14 @@\n+      if ((flags & ~NODE_FLAG_MASK) == 0)\n+        {\n+          if (flags & G_TYPE_FLAG_CLASSED)\n+            result |= node->is_classed;\n+\n+          if (flags & G_TYPE_FLAG_INSTANTIATABLE)\n+            result |= node->is_instantiatable;\n+\n+          if (flags & G_TYPE_FLAG_FINAL)\n+            result |= node->is_final;\n+\n+          return result;\n+        }\n+\n@@ -4045,1 +4133,1 @@\n-  g_warning (G_STRLOC \": attempt to look up plugin for invalid instance\/interface type pair.\");\n+  g_critical (G_STRLOC \": attempt to look up plugin for invalid instance\/interface type pair.\");\n@@ -4100,1 +4188,0 @@\n-  node = lookup_type_node_I (type_instance->g_class->g_type);\n@@ -4102,0 +4189,4 @@\n+  if (iface && iface->is_final)\n+    return type_instance->g_class->g_type == iface_type;\n+\n+  node = lookup_type_node_I (type_instance->g_class->g_type);\n@@ -4154,3 +4245,3 @@\n-            g_warning (\"invalid cast from '%s' to '%s'\",\n-                       type_descriptive_name_I (type_instance->g_class->g_type),\n-                       type_descriptive_name_I (iface_type));\n+            g_critical (\"invalid cast from '%s' to '%s'\",\n+                        type_descriptive_name_I (type_instance->g_class->g_type),\n+                        type_descriptive_name_I (iface_type));\n@@ -4158,3 +4249,3 @@\n-            g_warning (\"invalid uninstantiatable type '%s' in cast to '%s'\",\n-                       type_descriptive_name_I (type_instance->g_class->g_type),\n-                       type_descriptive_name_I (iface_type));\n+            g_critical (\"invalid uninstantiatable type '%s' in cast to '%s'\",\n+                        type_descriptive_name_I (type_instance->g_class->g_type),\n+                        type_descriptive_name_I (iface_type));\n@@ -4163,2 +4254,2 @@\n-        g_warning (\"invalid unclassed pointer in cast to '%s'\",\n-                   type_descriptive_name_I (iface_type));\n+        g_critical (\"invalid unclassed pointer in cast to '%s'\",\n+                    type_descriptive_name_I (iface_type));\n@@ -4187,3 +4278,3 @@\n-        g_warning (\"invalid class cast from '%s' to '%s'\",\n-                   type_descriptive_name_I (type_class->g_type),\n-                   type_descriptive_name_I (is_a_type));\n+        g_critical (\"invalid class cast from '%s' to '%s'\",\n+                    type_descriptive_name_I (type_class->g_type),\n+                    type_descriptive_name_I (is_a_type));\n@@ -4191,3 +4282,3 @@\n-        g_warning (\"invalid unclassed type '%s' in class cast to '%s'\",\n-                   type_descriptive_name_I (type_class->g_type),\n-                   type_descriptive_name_I (is_a_type));\n+        g_critical (\"invalid unclassed type '%s' in class cast to '%s'\",\n+                    type_descriptive_name_I (type_class->g_type),\n+                    type_descriptive_name_I (is_a_type));\n@@ -4196,2 +4287,2 @@\n-    g_warning (\"invalid class cast from (NULL) pointer to '%s'\",\n-               type_descriptive_name_I (is_a_type));\n+    g_critical (\"invalid class cast from (NULL) pointer to '%s'\",\n+                type_descriptive_name_I (is_a_type));\n@@ -4225,2 +4316,2 @@\n-          g_warning (\"instance of invalid non-instantiatable type '%s'\",\n-                     type_descriptive_name_I (type_instance->g_class->g_type));\n+          g_critical (\"instance of invalid non-instantiatable type '%s'\",\n+                      type_descriptive_name_I (type_instance->g_class->g_type));\n@@ -4229,1 +4320,1 @@\n-        g_warning (\"instance with invalid (NULL) class pointer\");\n+        g_critical (\"instance with invalid (NULL) class pointer\");\n@@ -4232,1 +4323,1 @@\n-    g_warning (\"invalid (NULL) pointer instance\");\n+    g_critical (\"invalid (NULL) pointer instance\");\n@@ -4354,1 +4445,1 @@\n-    g_warning (G_STRLOC \": type id '%\" G_GSIZE_FORMAT \"' is invalid\", type);\n+    g_critical (G_STRLOC \": type id '%\" G_GSIZE_FORMAT \"' is invalid\", type);\n@@ -4356,1 +4447,1 @@\n-    g_warning (\"can't peek value table for type '%s' which is not currently referenced\",\n+    g_critical (\"can't peek value table for type '%s' which is not currently referenced\",\n@@ -4419,1 +4510,1 @@\n- * If you need to enable debugging features, use the GOBJECT_DEBUG\n+ * If you need to enable debugging features, use the 'GOBJECT_DEBUG'\n@@ -4721,1 +4812,1 @@\n- * Deprecated: 2.58: Use the G_ADD_PRIVATE() macro with the `G_DEFINE_*`\n+ * Deprecated: 2.58: Use the G_ADD_PRIVATE() macro with the 'G_DEFINE_*'\n@@ -4736,1 +4827,1 @@\n-      g_warning (\"cannot add private field to invalid (non-instantiatable) type '%s'\",\n+      g_critical (\"cannot add private field to invalid (non-instantiatable) type '%s'\",\n@@ -4746,1 +4837,1 @@\n-          g_warning (\"g_type_class_add_private() called multiple times for the same type\");\n+          g_critical (\"g_type_class_add_private() called multiple times for the same type\");\n@@ -4772,1 +4863,1 @@\n-      g_warning (\"cannot add private field to invalid (non-instantiatable) type '%s'\",\n+      g_critical (\"cannot add private field to invalid (non-instantiatable) type '%s'\",\n@@ -4779,1 +4870,1 @@\n-      g_warning (\"cannot use g_type_add_instance_private() with dynamic type '%s'\",\n+      g_critical (\"cannot use g_type_add_instance_private() with dynamic type '%s'\",\n@@ -4799,1 +4890,1 @@\n-   * check the variable and call g_type_class_add_instance_private(), which\n+   * check the variable and call g_type_class_adjust_private_offset(), which\n@@ -4808,1 +4899,1 @@\n-   * of the private data; g_type_class_add_instance_private() already checks\n+   * of the private data; g_type_class_adjust_private_offset() already checks\n@@ -4839,1 +4930,1 @@\n-      g_warning (\"cannot add private field to invalid (non-instantiatable) type '%s'\",\n+      g_critical (\"cannot add private field to invalid (non-instantiatable) type '%s'\",\n@@ -4850,1 +4941,1 @@\n-          g_warning (\"g_type_add_instance_private() called multiple times for the same type\");\n+          g_critical (\"g_type_add_instance_private() called multiple times for the same type\");\n@@ -4878,2 +4969,2 @@\n-      g_warning (\"instance of invalid non-instantiatable type '%s'\",\n-                 type_descriptive_name_I (instance->g_class->g_type));\n+      g_critical (\"instance of invalid non-instantiatable type '%s'\",\n+                  type_descriptive_name_I (instance->g_class->g_type));\n@@ -4963,1 +5054,1 @@\n-      g_warning (\"cannot add class private field to invalid type '%s'\",\n+      g_critical (\"cannot add class private field to invalid type '%s'\",\n@@ -4973,1 +5064,1 @@\n-          g_warning (\"g_type_add_class_private() called multiple times for the same type\");\n+          g_critical (\"g_type_add_class_private() called multiple times for the same type\");\n@@ -5000,2 +5091,2 @@\n-      g_warning (\"class of invalid type '%s'\",\n-     type_descriptive_name_I (klass->g_type));\n+      g_critical (\"class of invalid type '%s'\",\n+      type_descriptive_name_I (klass->g_type));\n@@ -5008,2 +5099,2 @@\n-      g_warning (\"attempt to retrieve private data for invalid type '%s'\",\n-     type_descriptive_name_I (private_type));\n+      g_critical (\"attempt to retrieve private data for invalid type '%s'\",\n+      type_descriptive_name_I (private_type));\n@@ -5022,1 +5113,1 @@\n-          g_warning (\"g_type_instance_get_class_private() requires a prior call to g_type_add_class_private()\");\n+          g_critical (\"g_type_instance_get_class_private() requires a prior call to g_type_add_class_private()\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtype.c","additions":254,"deletions":163,"binary":false,"changes":417,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -24,1 +26,2 @@\n-#include        <glib.h>\n+#include  <glib.h>\n+#include <gobject\/gobject-visibility.h>\n@@ -41,1 +44,7 @@\n- * G_TYPE_FUNDAMENTAL_MAX:\n+ * G_TYPE_FUNDAMENTAL_SHIFT:\n+ *\n+ * Shift value used in converting numbers to type IDs.\n+ *\/\n+#define G_TYPE_FUNDAMENTAL_SHIFT        (2)\n+\/**\n+ * G_TYPE_FUNDAMENTAL_MAX: (value 1020)\n@@ -207,6 +216,0 @@\n-\/**\n- * G_TYPE_FUNDAMENTAL_SHIFT:\n- *\n- * Shift value used in converting numbers to type IDs.\n- *\/\n-#define G_TYPE_FUNDAMENTAL_SHIFT        (2)\n@@ -268,1 +271,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE is @type is fundamental\n@@ -279,1 +282,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is derived\n@@ -295,1 +298,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is an interface\n@@ -304,1 +307,10 @@\n- * Returns: %TRUE on success\n+ * A classed type has an associated #GTypeClass which can be derived to store\n+ * class-wide virtual function pointers and data for all instances of the type.\n+ * This allows for subclassing. All #GObjects are classed; none of the scalar\n+ * fundamental types built into GLib are classed.\n+ *\n+ * Interfaces are not classed: while their #GTypeInterface struct could be\n+ * considered similar to #GTypeClass, and classes can derive interfaces,\n+ * #GTypeInterface doesn’t allow for subclassing.\n+ *\n+ * Returns: %TRUE if @type is classed\n@@ -314,1 +326,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is instantiatable\n@@ -324,1 +336,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is derivable\n@@ -334,1 +346,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is deep derivable\n@@ -345,1 +357,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is abstract\n@@ -356,1 +368,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is an abstract value type\n@@ -365,1 +377,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is a value type\n@@ -374,1 +386,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type has a value table\n@@ -384,1 +396,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @type is final\n@@ -388,1 +400,14 @@\n-#define G_TYPE_IS_FINAL(type)                   (g_type_test_flags ((type), G_TYPE_FLAG_FINAL)) GLIB_AVAILABLE_MACRO_IN_2_70\n+#define G_TYPE_IS_FINAL(type)                   (g_type_test_flags ((type), G_TYPE_FLAG_FINAL)) GOBJECT_AVAILABLE_MACRO_IN_2_70\n+\n+\/**\n+ * G_TYPE_IS_DEPRECATED:\n+ * @type: a #GType value\n+ *\n+ * Checks if @type is deprecated. Instantiating a deprecated type will\n+ * trigger a warning if running with 'G_ENABLE_DIAGNOSTIC=1'.\n+ *\n+ * Returns: %TRUE if the type is deprecated\n+ *\n+ * Since: 2.76\n+ *\/\n+#define G_TYPE_IS_DEPRECATED(type)                   (g_type_test_flags ((type), G_TYPE_FLAG_DEPRECATED)) GOBJECT_AVAILABLE_MACRO_IN_2_76\n@@ -399,1 +424,1 @@\n-#if     GLIB_SIZEOF_SIZE_T != GLIB_SIZEOF_LONG || !defined __cplusplus\n+#if     GLIB_SIZEOF_SIZE_T != GLIB_SIZEOF_LONG || !defined (G_CXX_STD_VERSION)\n@@ -484,1 +509,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @instance is valid\n@@ -512,1 +537,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @instance is an instance of @g_type\n@@ -525,1 +550,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @instance is an instance of @g_type\n@@ -581,1 +606,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @g_class is a class structure of @g_type\n@@ -593,1 +618,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @value is initialized\n@@ -606,1 +631,1 @@\n- * Returns: %TRUE on success\n+ * Returns: %TRUE if @value has been initialized to hold values of type @g_type\n@@ -658,1 +683,1 @@\n- *   `your_type_get_instance_private()` function instead\n+ *   'your_type_get_instance_private()' function instead\n@@ -661,1 +686,1 @@\n-#define G_TYPE_INSTANCE_GET_PRIVATE(instance, g_type, c_type)   ((c_type*) g_type_instance_get_private ((GTypeInstance*) (instance), (g_type))) GLIB_DEPRECATED_MACRO_IN_2_58_FOR(G_ADD_PRIVATE)\n+#define G_TYPE_INSTANCE_GET_PRIVATE(instance, g_type, c_type)   ((c_type*) g_type_instance_get_private ((GTypeInstance*) (instance), (g_type))) GOBJECT_DEPRECATED_MACRO_IN_2_58_FOR(G_ADD_PRIVATE)\n@@ -692,1 +717,1 @@\n- * If you need to enable debugging features, use the GOBJECT_DEBUG\n+ * If you need to enable debugging features, use the 'GOBJECT_DEBUG'\n@@ -704,1 +729,1 @@\n-} GTypeDebugFlags GLIB_DEPRECATED_TYPE_IN_2_36;\n+} GTypeDebugFlags GOBJECT_DEPRECATED_TYPE_IN_2_36;\n@@ -709,1 +734,1 @@\n-GLIB_DEPRECATED_IN_2_36\n+GOBJECT_DEPRECATED_IN_2_36\n@@ -711,1 +736,1 @@\n-GLIB_DEPRECATED_IN_2_36\n+GOBJECT_DEPRECATED_IN_2_36\n@@ -715,1 +740,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -717,1 +742,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -719,1 +744,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -721,1 +746,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -723,1 +748,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -725,1 +750,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -728,1 +753,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -731,1 +756,5 @@\n-GLIB_AVAILABLE_IN_ALL\n+\n+\/* Hoist exact GType comparisons into the caller *\/\n+#define g_type_is_a(a,b) ((a) == (b) || (g_type_is_a) ((a), (b)))\n+\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -733,1 +762,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -735,1 +764,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -737,1 +766,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -739,1 +768,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -741,1 +770,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -744,1 +773,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -747,1 +776,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -749,1 +778,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -751,1 +780,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -755,1 +784,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -758,1 +787,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -763,1 +792,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -767,1 +796,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -770,1 +799,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -774,1 +803,1 @@\n-GLIB_AVAILABLE_IN_2_44\n+GOBJECT_AVAILABLE_IN_2_44\n@@ -1029,0 +1058,2 @@\n+  \/* There is no G_TYPE_FUNDAMENTAL_FLAGS_NONE: this is implemented to use\n+   * the same bits as GTypeFlags *\/\n@@ -1036,0 +1067,1 @@\n+ * @G_TYPE_FLAG_NONE: No special flags. Since: 2.74\n@@ -1043,0 +1075,3 @@\n+ * @G_TYPE_FLAG_DEPRECATED: The type is deprecated and may be removed in a\n+ *  future version. A warning will be emitted if it is instantiated while\n+ *  running with 'G_ENABLE_DIAGNOSTIC=1'. Since 2.76\n@@ -1048,0 +1083,1 @@\n+  G_TYPE_FLAG_NONE GOBJECT_AVAILABLE_ENUMERATOR_IN_2_74 = 0,\n@@ -1050,1 +1086,2 @@\n-  G_TYPE_FLAG_FINAL GLIB_AVAILABLE_ENUMERATOR_IN_2_70 = (1 << 6)\n+  G_TYPE_FLAG_FINAL GOBJECT_AVAILABLE_ENUMERATOR_IN_2_70 = (1 << 6),\n+  G_TYPE_FLAG_DEPRECATED GOBJECT_AVAILABLE_ENUMERATOR_IN_2_76 = (1 << 7)\n@@ -1068,1 +1105,1 @@\n- * @n_preallocs: Prior to GLib 2.10, it specified the number of pre-allocated (cached) instances to reserve memory for (0 indicates no caching). Since GLib 2.10, it is ignored, since instances are allocated with the [slice allocator][glib-Memory-Slices] now.\n+ * @n_preallocs: Prior to GLib 2.10, it specified the number of pre-allocated (cached) instances to reserve memory for (0 indicates no caching). Since GLib 2.10 this field is ignored.\n@@ -1130,0 +1167,239 @@\n+\n+\/**\n+ * GTypeValueInitFunc:\n+ * @value: the value to initialize\n+ *\n+ * Initializes the value contents by setting the fields of the 'value->data'\n+ * array.\n+ *\n+ * The data array of the #GValue passed into this function was zero-filled\n+ * with 'memset()', so no care has to be taken to free any old contents.\n+ * For example, in the case of a string value that may never be %NULL, the\n+ * implementation might look like:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * value->data[0].v_pointer = g_strdup (\"\");\n+ * ]|\n+ *\n+ * Since: 2.78\n+ *\/\n+GOBJECT_AVAILABLE_TYPE_IN_2_78\n+typedef void (* GTypeValueInitFunc) (GValue *value);\n+\n+\/**\n+ * GTypeValueFreeFunc:\n+ * @value: the value to free\n+ *\n+ * Frees any old contents that might be left in the 'value->data' array of\n+ * the given value.\n+ *\n+ * No resources may remain allocated through the #GValue contents after this\n+ * function returns. E.g. for our above string type:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * \/\/ only free strings without a specific flag for static storage\n+ * if (!(value->data[1].v_uint & G_VALUE_NOCOPY_CONTENTS))\n+ *   g_free (value->data[0].v_pointer);\n+ * ]|\n+ *\n+ * Since: 2.78\n+ *\/\n+GOBJECT_AVAILABLE_TYPE_IN_2_78\n+typedef void (* GTypeValueFreeFunc) (GValue *value);\n+\n+\/**\n+ * GTypeValueCopyFunc:\n+ * @src_value: the value to copy\n+ * @dest_value: (out): the location of the copy\n+ *\n+ * Copies the content of a #GValue into another.\n+ *\n+ * The @dest_value is a #GValue with zero-filled data section and @src_value\n+ * is a properly initialized #GValue of same type, or derived type.\n+ *\n+ * The purpose of this function is to copy the contents of @src_value\n+ * into @dest_value in a way, that even after @src_value has been freed, the\n+ * contents of @dest_value remain valid. String type example:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * dest_value->data[0].v_pointer = g_strdup (src_value->data[0].v_pointer);\n+ * ]|\n+ *\n+ * Since: 2.78\n+ *\/\n+GOBJECT_AVAILABLE_TYPE_IN_2_78\n+typedef void (* GTypeValueCopyFunc) (const GValue *src_value,\n+                                     GValue       *dest_value);\n+\n+\/**\n+ * GTypeValuePeekPointerFunc:\n+ * @value: the value to peek\n+ *\n+ * If the value contents fit into a pointer, such as objects or strings,\n+ * return this pointer, so the caller can peek at the current contents.\n+ *\n+ * To extend on our above string example:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * return value->data[0].v_pointer;\n+ * ]|\n+ *\n+ * Returns: (transfer none): a pointer to the value contents\n+ *\n+ * Since: 2.78\n+ *\/\n+GOBJECT_AVAILABLE_TYPE_IN_2_78\n+typedef gpointer (* GTypeValuePeekPointerFunc) (const GValue *value);\n+\n+\/**\n+ * GTypeValueCollectFunc:\n+ * @value: the value to initialize\n+ * @n_collect_values: the number of collected values\n+ * @collect_values: (array length=n_collect_values): the collected values\n+ * @collect_flags: optional flags\n+ *\n+ * This function is responsible for converting the values collected from\n+ * a variadic argument list into contents suitable for storage in a #GValue.\n+ *\n+ * This function should setup @value similar to #GTypeValueInitFunc; e.g.\n+ * for a string value that does not allow 'NULL' pointers, it needs to either\n+ * emit an error, or do an implicit conversion by storing an empty string.\n+ *\n+ * The @value passed in to this function has a zero-filled data array, so\n+ * just like for #GTypeValueInitFunc it is guaranteed to not contain any old\n+ * contents that might need freeing.\n+ *\n+ * The @n_collect_values argument is the string length of the 'collect_format'\n+ * field of #GTypeValueTable, and 'collect_values' is an array of #GTypeCValue\n+ * with length of @n_collect_values, containing the collected values according\n+ * to 'collect_format'.\n+ *\n+ * The @collect_flags argument provided as a hint by the caller. It may\n+ * contain the flag %G_VALUE_NOCOPY_CONTENTS indicating that the collected\n+ * value contents may be considered ‘static’ for the duration of the @value\n+ * lifetime. Thus an extra copy of the contents stored in @collect_values is\n+ * not required for assignment to @value.\n+ *\n+ * For our above string example, we continue with:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * if (!collect_values[0].v_pointer)\n+ *   value->data[0].v_pointer = g_strdup (\"\");\n+ * else if (collect_flags & G_VALUE_NOCOPY_CONTENTS)\n+ *   {\n+ *     value->data[0].v_pointer = collect_values[0].v_pointer;\n+ *     \/\/ keep a flag for the value_free() implementation to not free this string\n+ *     value->data[1].v_uint = G_VALUE_NOCOPY_CONTENTS;\n+ *   }\n+ * else\n+ *   value->data[0].v_pointer = g_strdup (collect_values[0].v_pointer);\n+ * return NULL;\n+ * ]|\n+ *\n+ * It should be noted, that it is generally a bad idea to follow the\n+ * %G_VALUE_NOCOPY_CONTENTS hint for reference counted types. Due to\n+ * reentrancy requirements and reference count assertions performed\n+ * by the signal emission code, reference counts should always be\n+ * incremented for reference counted contents stored in the 'value->data'\n+ * array. To deviate from our string example for a moment, and taking\n+ * a look at an exemplary implementation for 'GTypeValueTable.collect_value()'\n+ * of 'GObject':\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * GObject *object = G_OBJECT (collect_values[0].v_pointer);\n+ * g_return_val_if_fail (object != NULL,\n+ *    g_strdup_printf (\"Object %p passed as invalid NULL pointer\", object));\n+ * \/\/ never honour G_VALUE_NOCOPY_CONTENTS for ref-counted types\n+ * value->data[0].v_pointer = g_object_ref (object);\n+ * return NULL;\n+ * ]|\n+ *\n+ * The reference count for valid objects is always incremented, regardless\n+ * of 'collect_flags'. For invalid objects, the example returns a newly\n+ * allocated string without altering 'value'.\n+ *\n+ * Upon success, 'collect_value()' needs to return 'NULL'. If, however,\n+ * an error condition occurred, 'collect_value()' should return a newly\n+ * allocated string containing an error diagnostic.\n+ *\n+ * The calling code makes no assumptions about the 'value' contents being\n+ * valid upon error returns, 'value' is simply thrown away without further\n+ * freeing. As such, it is a good idea to not allocate 'GValue' contents\n+ * prior to returning an error; however, 'collect_values()' is not obliged\n+ * to return a correctly setup @value for error returns, simply because\n+ * any non-'NULL' return is considered a fatal programming error, and\n+ * further program behaviour is undefined.\n+ *\n+ * Returns: (transfer full) (nullable): 'NULL' on success, otherwise a\n+ *   newly allocated error string on failure\n+ *\n+ * Since: 2.78\n+ *\/\n+GOBJECT_AVAILABLE_TYPE_IN_2_78\n+typedef gchar * (* GTypeValueCollectFunc) (GValue      *value,\n+                                           guint        n_collect_values,\n+                                           GTypeCValue *collect_values,\n+                                           guint        collect_flags);\n+\n+\/**\n+ * GTypeValueLCopyFunc:\n+ * @value: the value to lcopy\n+ * @n_collect_values: the number of collected values\n+ * @collect_values: (array length=n_collect_values): the collected\n+ *   locations for storage\n+ * @collect_flags: optional flags\n+ *\n+ * This function is responsible for storing the 'value'\n+ * contents into arguments passed through a variadic argument list which\n+ * got collected into 'collect_values' according to 'lcopy_format'.\n+ *\n+ * The 'n_collect_values' argument equals the string length of\n+ * 'lcopy_format', and 'collect_flags' may contain %G_VALUE_NOCOPY_CONTENTS.\n+ *\n+ * In contrast to #GTypeValueCollectFunc, this function is obliged to always\n+ * properly support %G_VALUE_NOCOPY_CONTENTS.\n+ *\n+ * Similar to #GTypeValueCollectFunc the function may prematurely abort by\n+ * returning a newly allocated string describing an error condition. To\n+ * complete the string example:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * gchar **string_p = collect_values[0].v_pointer;\n+ * g_return_val_if_fail (string_p != NULL,\n+ *   g_strdup (\"string location passed as NULL\"));\n+ *\n+ * if (collect_flags & G_VALUE_NOCOPY_CONTENTS)\n+ *   *string_p = value->data[0].v_pointer;\n+ * else\n+ *   *string_p = g_strdup (value->data[0].v_pointer);\n+ * ]|\n+ *\n+ * And an illustrative version of this function for reference-counted\n+ * types:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * GObject **object_p = collect_values[0].v_pointer;\n+ * g_return_val_if_fail (object_p != NULL,\n+ *   g_strdup (\"object location passed as NULL\"));\n+ *\n+ * if (value->data[0].v_pointer == NULL)\n+ *   *object_p = NULL;\n+ * else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) \/\/ always honour\n+ *   *object_p = value->data[0].v_pointer;\n+ * else\n+ *   *object_p = g_object_ref (value->data[0].v_pointer);\n+ *\n+ * return NULL;\n+ * ]|\n+ *\n+ * Returns: (transfer full) (nullable): 'NULL' on success, otherwise\n+ *   a newly allocated error string on failure\n+ *\n+ * Since: 2.78\n+ *\/\n+GOBJECT_AVAILABLE_TYPE_IN_2_78\n+typedef gchar * (* GTypeValueLCopyFunc) (const GValue *value,\n+                                         guint         n_collect_values,\n+                                         GTypeCValue  *collect_values,\n+                                         guint         collect_flags);\n+\n@@ -1132,35 +1408,5 @@\n- * @value_init: Default initialize @values contents by poking values\n- *  directly into the value->data array. The data array of\n- *  the #GValue passed into this function was zero-filled\n- *  with `memset()`, so no care has to be taken to free any\n- *  old contents. E.g. for the implementation of a string\n- *  value that may never be %NULL, the implementation might\n- *  look like:\n- *  |[<!-- language=\"C\" -->\n- *  value->data[0].v_pointer = g_strdup (\"\");\n- *  ]|\n- * @value_free: Free any old contents that might be left in the\n- *  data array of the passed in @value. No resources may\n- *  remain allocated through the #GValue contents after\n- *  this function returns. E.g. for our above string type:\n- *  |[<!-- language=\"C\" -->\n- *  \/\/ only free strings without a specific flag for static storage\n- *  if (!(value->data[1].v_uint & G_VALUE_NOCOPY_CONTENTS))\n- *    g_free (value->data[0].v_pointer);\n- *  ]|\n- * @value_copy: @dest_value is a #GValue with zero-filled data section\n- *  and @src_value is a properly setup #GValue of same or\n- *  derived type.\n- *  The purpose of this function is to copy the contents of\n- *  @src_value into @dest_value in a way, that even after\n- *  @src_value has been freed, the contents of @dest_value\n- *  remain valid. String type example:\n- *  |[<!-- language=\"C\" -->\n- *  dest_value->data[0].v_pointer = g_strdup (src_value->data[0].v_pointer);\n- *  ]|\n- * @value_peek_pointer: If the value contents fit into a pointer, such as objects\n- *  or strings, return this pointer, so the caller can peek at\n- *  the current contents. To extend on our above string example:\n- *  |[<!-- language=\"C\" -->\n- *  return value->data[0].v_pointer;\n- *  ]|\n+ * @value_init: Function to initialize a GValue\n+ * @value_free: Function to free a GValue\n+ * @value_copy: Function to copy a GValue\n+ * @value_peek_pointer: Function to peek the contents of a GValue if they fit\n+ *   into a pointer\n@@ -1168,75 +1414,13 @@\n- *  this value bit-by-bit. Each character in the format represents\n- *  an argument to be collected, and the characters themselves indicate\n- *  the type of the argument. Currently supported arguments are:\n- *  - 'i' - Integers. passed as collect_values[].v_int.\n- *  - 'l' - Longs. passed as collect_values[].v_long.\n- *  - 'd' - Doubles. passed as collect_values[].v_double.\n- *  - 'p' - Pointers. passed as collect_values[].v_pointer.\n- *  It should be noted that for variable argument list construction,\n- *  ANSI C promotes every type smaller than an integer to an int, and\n- *  floats to doubles. So for collection of short int or char, 'i'\n- *  needs to be used, and for collection of floats 'd'.\n- * @collect_value: The collect_value() function is responsible for converting the\n- *  values collected from a variable argument list into contents\n- *  suitable for storage in a GValue. This function should setup\n- *  @value similar to value_init(); e.g. for a string value that\n- *  does not allow %NULL pointers, it needs to either spew an error,\n- *  or do an implicit conversion by storing an empty string.\n- *  The @value passed in to this function has a zero-filled data\n- *  array, so just like for value_init() it is guaranteed to not\n- *  contain any old contents that might need freeing.\n- *  @n_collect_values is exactly the string length of @collect_format,\n- *  and @collect_values is an array of unions #GTypeCValue with\n- *  length @n_collect_values, containing the collected values\n- *  according to @collect_format.\n- *  @collect_flags is an argument provided as a hint by the caller.\n- *  It may contain the flag %G_VALUE_NOCOPY_CONTENTS indicating,\n- *  that the collected value contents may be considered \"static\"\n- *  for the duration of the @value lifetime.\n- *  Thus an extra copy of the contents stored in @collect_values is\n- *  not required for assignment to @value.\n- *  For our above string example, we continue with:\n- *  |[<!-- language=\"C\" -->\n- *  if (!collect_values[0].v_pointer)\n- *    value->data[0].v_pointer = g_strdup (\"\");\n- *  else if (collect_flags & G_VALUE_NOCOPY_CONTENTS)\n- *  {\n- *    value->data[0].v_pointer = collect_values[0].v_pointer;\n- *    \/\/ keep a flag for the value_free() implementation to not free this string\n- *    value->data[1].v_uint = G_VALUE_NOCOPY_CONTENTS;\n- *  }\n- *  else\n- *    value->data[0].v_pointer = g_strdup (collect_values[0].v_pointer);\n- *  return NULL;\n- *  ]|\n- *  It should be noted, that it is generally a bad idea to follow the\n- *  %G_VALUE_NOCOPY_CONTENTS hint for reference counted types. Due to\n- *  reentrancy requirements and reference count assertions performed\n- *  by the signal emission code, reference counts should always be\n- *  incremented for reference counted contents stored in the value->data\n- *  array.  To deviate from our string example for a moment, and taking\n- *  a look at an exemplary implementation for collect_value() of\n- *  #GObject:\n- *  |[<!-- language=\"C\" -->\n- *    GObject *object = G_OBJECT (collect_values[0].v_pointer);\n- *    g_return_val_if_fail (object != NULL,\n- *       g_strdup_printf (\"Object passed as invalid NULL pointer\"));\n- *    \/\/ never honour G_VALUE_NOCOPY_CONTENTS for ref-counted types\n- *    value->data[0].v_pointer = g_object_ref (object);\n- *    return NULL;\n- *  ]|\n- *  The reference count for valid objects is always incremented,\n- *  regardless of @collect_flags. For invalid objects, the example\n- *  returns a newly allocated string without altering @value.\n- *  Upon success, collect_value() needs to return %NULL. If, however,\n- *  an error condition occurred, collect_value() may spew an\n- *  error by returning a newly allocated non-%NULL string, giving\n- *  a suitable description of the error condition.\n- *  The calling code makes no assumptions about the @value\n- *  contents being valid upon error returns, @value\n- *  is simply thrown away without further freeing. As such, it is\n- *  a good idea to not allocate #GValue contents, prior to returning\n- *  an error, however, collect_values() is not obliged to return\n- *  a correctly setup @value for error returns, simply because\n- *  any non-%NULL return is considered a fatal condition so further\n- *  program behaviour is undefined.\n+ *   this value bit-by-bit. Each character in the format represents\n+ *   an argument to be collected, and the characters themselves indicate\n+ *   the type of the argument. Currently supported arguments are:\n+ *    - ''i'': Integers, passed as 'collect_values[].v_int'\n+ *    - ''l'': Longs, passed as 'collect_values[].v_long'\n+ *    - ''d'': Doubles, passed as 'collect_values[].v_double'\n+ *    - ''p'': Pointers, passed as 'collect_values[].v_pointer'\n+ *   It should be noted that for variable argument list construction,\n+ *   ANSI C promotes every type smaller than an integer to an int, and\n+ *   floats to doubles. So for collection of short int or char, ''i''\n+ *   needs to be used, and for collection of floats ''d''.\n+ * @collect_value: Function to initialize a GValue from the values\n+ *   collected from variadic arguments\n@@ -1244,35 +1428,4 @@\n- *  analogous to @collect_format. Usually, @lcopy_format string consists\n- *  only of 'p's to provide lcopy_value() with pointers to storage locations.\n- * @lcopy_value: This function is responsible for storing the @value contents into\n- *  arguments passed through a variable argument list which got\n- *  collected into @collect_values according to @lcopy_format.\n- *  @n_collect_values equals the string length of @lcopy_format,\n- *  and @collect_flags may contain %G_VALUE_NOCOPY_CONTENTS.\n- *  In contrast to collect_value(), lcopy_value() is obliged to\n- *  always properly support %G_VALUE_NOCOPY_CONTENTS.\n- *  Similar to collect_value() the function may prematurely abort\n- *  by returning a newly allocated string describing an error condition.\n- *  To complete the string example:\n- *  |[<!-- language=\"C\" -->\n- *  gchar **string_p = collect_values[0].v_pointer;\n- *  g_return_val_if_fail (string_p != NULL,\n- *      g_strdup_printf (\"string location passed as NULL\"));\n- *  if (collect_flags & G_VALUE_NOCOPY_CONTENTS)\n- *    *string_p = value->data[0].v_pointer;\n- *  else\n- *    *string_p = g_strdup (value->data[0].v_pointer);\n- *  ]|\n- *  And an illustrative version of lcopy_value() for\n- *  reference-counted types:\n- *  |[<!-- language=\"C\" -->\n- *  GObject **object_p = collect_values[0].v_pointer;\n- *  g_return_val_if_fail (object_p != NULL,\n- *    g_strdup_printf (\"object location passed as NULL\"));\n- *  if (!value->data[0].v_pointer)\n- *    *object_p = NULL;\n- *  else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) \/\/ always honour\n- *    *object_p = value->data[0].v_pointer;\n- *  else\n- *    *object_p = g_object_ref (value->data[0].v_pointer);\n- *  return NULL;\n- *  ]|\n+ *   analogous to @collect_format. Usually, @lcopy_format string consists\n+ *   only of ''p''s to provide lcopy_value() with pointers to storage locations.\n+ * @lcopy_value: Function to store the contents of a value into the\n+ *   locations collected from variadic arguments\n@@ -1283,1 +1436,1 @@\n-\n+G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n@@ -1286,6 +1439,5 @@\n-  void     (*value_init)         (GValue       *value);\n-  void     (*value_free)         (GValue       *value);\n-  void     (*value_copy)         (const GValue *src_value,\n-                                  GValue       *dest_value);\n-  \/* varargs functionality (optional) *\/\n-  gpointer (*value_peek_pointer) (const GValue *value);\n+  GTypeValueInitFunc value_init;\n+  GTypeValueFreeFunc value_free;\n+  GTypeValueCopyFunc value_copy;\n+  GTypeValuePeekPointerFunc value_peek_pointer;\n+\n@@ -1293,4 +1445,2 @@\n-  gchar*   (*collect_value)      (GValue       *value,\n-                                  guint         n_collect_values,\n-                                  GTypeCValue  *collect_values,\n-                                  guint         collect_flags);\n+  GTypeValueCollectFunc collect_value;\n+\n@@ -1298,4 +1448,1 @@\n-  gchar*   (*lcopy_value)        (const GValue *value,\n-                                  guint         n_collect_values,\n-                                  GTypeCValue  *collect_values,\n-                                  guint         collect_flags);\n+  GTypeValueLCopyFunc lcopy_value;\n@@ -1303,6 +1450,8 @@\n-GLIB_AVAILABLE_IN_ALL\n-GType g_type_register_static            (GType                       parent_type,\n-                                         const gchar                *type_name,\n-                                         const GTypeInfo            *info,\n-                                         GTypeFlags                  flags);\n-GLIB_AVAILABLE_IN_ALL\n+G_GNUC_END_IGNORE_DEPRECATIONS\n+\n+GOBJECT_AVAILABLE_IN_ALL\n+GType g_type_register_static    (GType             parent_type,\n+                                 const gchar      *type_name,\n+                                 const GTypeInfo  *info,\n+                                 GTypeFlags        flags);\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1317,1 +1466,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1322,1 +1471,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1328,1 +1477,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1332,1 +1481,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1336,1 +1485,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1339,1 +1488,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1342,1 +1491,1 @@\n-GLIB_AVAILABLE_IN_2_68\n+GOBJECT_AVAILABLE_IN_2_68\n@@ -1345,1 +1494,1 @@\n-GLIB_DEPRECATED_IN_2_58\n+GOBJECT_DEPRECATED_IN_2_58\n@@ -1348,1 +1497,1 @@\n-GLIB_AVAILABLE_IN_2_38\n+GOBJECT_AVAILABLE_IN_2_38\n@@ -1351,1 +1500,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1354,1 +1503,1 @@\n-GLIB_AVAILABLE_IN_2_38\n+GOBJECT_AVAILABLE_IN_2_38\n@@ -1358,1 +1507,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1361,1 +1510,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -1364,1 +1513,1 @@\n-GLIB_AVAILABLE_IN_2_38\n+GOBJECT_AVAILABLE_IN_2_38\n@@ -1367,1 +1516,1 @@\n-GLIB_AVAILABLE_IN_2_34\n+GOBJECT_AVAILABLE_IN_2_34\n@@ -1369,1 +1518,1 @@\n-GLIB_AVAILABLE_IN_2_36\n+GOBJECT_AVAILABLE_IN_2_36\n@@ -1376,1 +1525,1 @@\n- * @ModuleObjName: The name of the new type, in camel case (like `GtkWidget`)\n+ * @ModuleObjName: The name of the new type, in camel case (like 'GtkWidget')\n@@ -1378,4 +1527,4 @@\n- *  separated by `_` (like `gtk_widget`)\n- * @MODULE: The name of the module, in all caps (like `GTK`)\n- * @OBJ_NAME: The bare name of the type, in all caps (like `WIDGET`)\n- * @ParentName: the name of the parent type, in camel case (like `GtkWidget`)\n+ *  separated by '_' (like 'gtk_widget')\n+ * @MODULE: The name of the module, in all caps (like 'GTK')\n+ * @OBJ_NAME: The bare name of the type, in all caps (like 'WIDGET')\n+ * @ParentName: the name of the parent type, in camel case (like 'GtkWidget')\n@@ -1417,1 +1566,1 @@\n- * - the usual `my_app_window_get_type()` function is declared with a return type of #GType\n+ * - the usual 'my_app_window_get_type()' function is declared with a return type of #GType\n@@ -1419,1 +1568,1 @@\n- * - the `MyAppWindow` type is defined as a `typedef` of `struct _MyAppWindow`.  The struct itself is not\n+ * - the 'MyAppWindow' type is defined as a 'typedef' of 'struct _MyAppWindow'.  The struct itself is not\n@@ -1422,1 +1571,1 @@\n- * - the `MY_APP_WINDOW()` cast is emitted as `static inline` function along with the `MY_APP_IS_WINDOW()` type\n+ * - the 'MY_APP_WINDOW()' cast is emitted as 'static inline' function along with the 'MY_APP_IS_WINDOW()' type\n@@ -1425,1 +1574,1 @@\n- * - the `MyAppWindowClass` type is defined as a struct containing `GtkWindowClass`.  This is done for the\n+ * - the 'MyAppWindowClass' type is defined as a struct containing 'GtkWindowClass'.  This is done for the\n@@ -1435,1 +1584,1 @@\n- * Because the type macro (`MY_APP_TYPE_WINDOW` in the above example) is not a callable, you must continue to\n+ * Because the type macro ('MY_APP_TYPE_WINDOW' in the above example) is not a callable, you must continue to\n@@ -1438,1 +1587,1 @@\n- * The declaration of the `_get_type()` function is the first thing emitted by the macro.  This allows this macro\n+ * The declaration of the '_get_type()' function is the first thing emitted by the macro.  This allows this macro\n@@ -1468,1 +1617,1 @@\n- * @ModuleObjName: The name of the new type, in camel case (like `GtkWidget`)\n+ * @ModuleObjName: The name of the new type, in camel case (like 'GtkWidget')\n@@ -1470,4 +1619,4 @@\n- *  separated by `_` (like `gtk_widget`)\n- * @MODULE: The name of the module, in all caps (like `GTK`)\n- * @OBJ_NAME: The bare name of the type, in all caps (like `WIDGET`)\n- * @ParentName: the name of the parent type, in camel case (like `GtkWidget`)\n+ *  separated by '_' (like 'gtk_widget')\n+ * @MODULE: The name of the module, in all caps (like 'GTK')\n+ * @OBJ_NAME: The bare name of the type, in all caps (like 'WIDGET')\n+ * @ParentName: the name of the parent type, in camel case (like 'GtkWidget')\n@@ -1519,1 +1668,1 @@\n- * - the usual `gtk_frobber_get_type()` function is declared with a return type of #GType\n+ * - the usual 'gtk_frobber_get_type()' function is declared with a return type of #GType\n@@ -1521,1 +1670,1 @@\n- * - the `GtkFrobber` struct is created with `GtkWidget` as the first and only item.  You are expected to use\n+ * - the 'GtkFrobber' struct is created with 'GtkWidget' as the first and only item.  You are expected to use\n@@ -1524,1 +1673,1 @@\n- * - the `GtkFrobberClass` type is defined as a typedef to `struct _GtkFrobberClass`, which is left undefined.\n+ * - the 'GtkFrobberClass' type is defined as a typedef to 'struct _GtkFrobberClass', which is left undefined.\n@@ -1527,2 +1676,2 @@\n- * - the `GTK_FROBBER()` and `GTK_FROBBER_CLASS()` casts are emitted as `static inline` functions along with\n- *   the `GTK_IS_FROBBER()` and `GTK_IS_FROBBER_CLASS()` type checking functions and `GTK_FROBBER_GET_CLASS()`\n+ * - the 'GTK_FROBBER()' and 'GTK_FROBBER_CLASS()' casts are emitted as 'static inline' functions along with\n+ *   the 'GTK_IS_FROBBER()' and 'GTK_IS_FROBBER_CLASS()' type checking functions and 'GTK_FROBBER_GET_CLASS()'\n@@ -1535,1 +1684,1 @@\n- * Because the type macro (`GTK_TYPE_FROBBER` in the above example) is not a callable, you must continue to\n+ * Because the type macro ('GTK_TYPE_FROBBER' in the above example) is not a callable, you must continue to\n@@ -1538,1 +1687,1 @@\n- * The declaration of the `_get_type()` function is the first thing emitted by the macro.  This allows this macro\n+ * The declaration of the '_get_type()' function is the first thing emitted by the macro.  This allows this macro\n@@ -1578,1 +1727,1 @@\n- * @ModuleObjName: The name of the new type, in camel case (like `GtkWidget`)\n+ * @ModuleObjName: The name of the new type, in camel case (like 'GtkWidget')\n@@ -1580,4 +1729,4 @@\n- *  separated by `_` (like `gtk_widget`)\n- * @MODULE: The name of the module, in all caps (like `GTK`)\n- * @OBJ_NAME: The bare name of the type, in all caps (like `WIDGET`)\n- * @PrerequisiteName: the name of the prerequisite type, in camel case (like `GtkWidget`)\n+ *  separated by '_' (like 'gtk_widget')\n+ * @MODULE: The name of the module, in all caps (like 'GTK')\n+ * @OBJ_NAME: The bare name of the type, in all caps (like 'WIDGET')\n+ * @PrerequisiteName: the name of the prerequisite type, in camel case (like 'GtkWidget')\n@@ -1625,1 +1774,1 @@\n- * - the usual `my_model_get_type()` function is declared with a return type of #GType\n+ * - the usual 'my_model_get_type()' function is declared with a return type of #GType\n@@ -1627,1 +1776,1 @@\n- * - the `MyModelInterface` type is defined as a typedef to `struct _MyModelInterface`,\n+ * - the 'MyModelInterface' type is defined as a typedef to 'struct _MyModelInterface',\n@@ -1631,2 +1780,2 @@\n- * - the `MY_MODEL()` cast is emitted as `static inline` functions along with\n- *   the `MY_IS_MODEL()` type checking function and `MY_MODEL_GET_IFACE()` function.\n+ * - the 'MY_MODEL()' cast is emitted as 'static inline' functions along with\n+ *   the 'MY_IS_MODEL()' type checking function and 'MY_MODEL_GET_IFACE()' function.\n@@ -1638,1 +1787,1 @@\n- * Because the type macro (`MY_TYPE_MODEL` in the above example) is not a callable, you must continue to\n+ * Because the type macro ('MY_TYPE_MODEL' in the above example) is not a callable, you must continue to\n@@ -1641,1 +1790,1 @@\n- * The declaration of the `_get_type()` function is the first thing emitted by the macro.  This allows this macro\n+ * The declaration of the '_get_type()' function is the first thing emitted by the macro.  This allows this macro\n@@ -1666,1 +1815,1 @@\n- *  separated by `_`.\n+ *  separated by '_'.\n@@ -1671,2 +1820,2 @@\n- * for information about these) and a static variable named `t_n_parent_class`\n- * pointing to the parent class. Furthermore, it defines a `*_get_type()` function.\n+ * for information about these) and a static variable named 't_n_parent_class'\n+ * pointing to the parent class. Furthermore, it defines a '*_get_type()' function.\n@@ -1681,1 +1830,1 @@\n- * @t_n: The name of the new type in lowercase, with words separated by `_`.\n+ * @t_n: The name of the new type in lowercase, with words separated by '_'.\n@@ -1683,1 +1832,1 @@\n- * @_C_: Custom code that gets inserted in the `*_get_type()` function.\n+ * @_C_: Custom code that gets inserted in the '*_get_type()' function.\n@@ -1688,1 +1837,1 @@\n- * `*_get_type()` function, e.g. interface implementations via G_IMPLEMENT_INTERFACE().\n+ * '*_get_type()' function, e.g. interface implementations via G_IMPLEMENT_INTERFACE().\n@@ -1698,1 +1847,1 @@\n- *  separated by `_`.\n+ *  separated by '_'.\n@@ -1703,1 +1852,1 @@\n- * for information about these), a static variable named `t_n_parent_class`\n+ * for information about these), a static variable named 't_n_parent_class'\n@@ -1706,1 +1855,1 @@\n- * Furthermore, it defines a `*_get_type()` function. See G_DEFINE_TYPE_EXTENDED()\n+ * Furthermore, it defines a '*_get_type()' function. See G_DEFINE_TYPE_EXTENDED()\n@@ -1710,1 +1859,1 @@\n- * name of the form `TN ## Private`.\n+ * name of the form 'TN ## Private'.\n@@ -1713,1 +1862,1 @@\n- * getter function `t_n_get_instance_private()`.\n+ * getter function 't_n_get_instance_private()'.\n@@ -1724,1 +1873,1 @@\n- *  separated by `_`.\n+ *  separated by '_'.\n@@ -1739,1 +1888,1 @@\n- *  separated by `_`.\n+ *  separated by '_'.\n@@ -1741,1 +1890,1 @@\n- * @_C_: Custom code that gets inserted in the `type_name_get_type()` function.\n+ * @_C_: Custom code that gets inserted in the 'type_name_get_type()' function.\n@@ -1746,1 +1895,1 @@\n- * allows you to insert custom code into the `*_get_type()` function, e.g.\n+ * allows you to insert custom code into the '*_get_type()' function, e.g.\n@@ -1758,1 +1907,1 @@\n- *  separated by `_`.\n+ *  separated by '_'.\n@@ -1772,1 +1921,1 @@\n- *   separated by `_` (snake case)\n+ *   separated by '_' (snake case)\n@@ -1783,1 +1932,1 @@\n-#define G_DEFINE_FINAL_TYPE(TN, t_n, T_P)                      G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_FINAL, {}) GLIB_AVAILABLE_MACRO_IN_2_70\n+#define G_DEFINE_FINAL_TYPE(TN, t_n, T_P)                      G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_FINAL, {}) GOBJECT_AVAILABLE_MACRO_IN_2_70\n@@ -1788,1 +1937,1 @@\n- *   separated by `_` (snake case)\n+ *   separated by '_' (snake case)\n@@ -1790,1 +1939,1 @@\n- * @_C_: Custom code that gets inserted in the `type_name_get_type()` function.\n+ * @_C_: Custom code that gets inserted in the 'type_name_get_type()' function.\n@@ -1795,1 +1944,1 @@\n- * allows you to insert custom code into the `*_get_type()` function, e.g.\n+ * allows you to insert custom code into the '*_get_type()' function, e.g.\n@@ -1802,1 +1951,1 @@\n-#define G_DEFINE_FINAL_TYPE_WITH_CODE(TN, t_n, T_P, _C_)       _G_DEFINE_TYPE_EXTENDED_BEGIN (TN, t_n, T_P, G_TYPE_FLAG_FINAL) {_C_;} _G_DEFINE_TYPE_EXTENDED_END() GLIB_AVAILABLE_MACRO_IN_2_70\n+#define G_DEFINE_FINAL_TYPE_WITH_CODE(TN, t_n, T_P, _C_)       _G_DEFINE_TYPE_EXTENDED_BEGIN (TN, t_n, T_P, G_TYPE_FLAG_FINAL) {_C_;} _G_DEFINE_TYPE_EXTENDED_END() GOBJECT_AVAILABLE_MACRO_IN_2_70\n@@ -1807,1 +1956,1 @@\n- *   separated by `_` (snake case)\n+ *   separated by '_' (snake case)\n@@ -1818,1 +1967,1 @@\n-#define G_DEFINE_FINAL_TYPE_WITH_PRIVATE(TN, t_n, T_P)         G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_FINAL, G_ADD_PRIVATE (TN)) GLIB_AVAILABLE_MACRO_IN_2_70\n+#define G_DEFINE_FINAL_TYPE_WITH_PRIVATE(TN, t_n, T_P)         G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_FINAL, G_ADD_PRIVATE (TN)) GOBJECT_AVAILABLE_MACRO_IN_2_70\n@@ -1823,1 +1972,1 @@\n- *    separated by `_`.\n+ *    separated by '_'.\n@@ -1826,1 +1975,1 @@\n- * @_C_: Custom code that gets inserted in the `*_get_type()` function.\n+ * @_C_: Custom code that gets inserted in the '*_get_type()' function.\n@@ -1901,1 +2050,1 @@\n- * @t_n: The name of the new type, in lowercase, with words separated by `_`.\n+ * @t_n: The name of the new type, in lowercase, with words separated by '_'.\n@@ -1906,1 +2055,1 @@\n- * a default vtable initialization function and defines a `*_get_type()`\n+ * a default vtable initialization function and defines a '*_get_type()'\n@@ -1910,2 +2059,2 @@\n- * name `t_n ## _default_init`, and the interface structure to have the\n- * name `TN ## Interface`.\n+ * name 't_n ## _default_init', and the interface structure to have the\n+ * name 'TN ## Interface'.\n@@ -1914,1 +2063,1 @@\n- * `static void t_n ## _default_init (TypeName##Interface *klass);`, rather than\n+ * 'static void t_n ## _default_init (TypeName##Interface *klass);', rather than\n@@ -1916,1 +2065,1 @@\n- * need to use an initialization function with an `iface_data` argument, you\n+ * need to use an initialization function with an 'iface_data' argument, you\n@@ -1926,1 +2075,1 @@\n- * @t_n: The name of the new type, in lowercase, with words separated by `_`.\n+ * @t_n: The name of the new type, in lowercase, with words separated by '_'.\n@@ -1929,1 +2078,1 @@\n- * @_C_: Custom code that gets inserted in the `*_get_type()` function.\n+ * @_C_: Custom code that gets inserted in the '*_get_type()' function.\n@@ -1934,1 +2083,1 @@\n- * into the `*_get_type()` function, e.g. additional interface implementations\n+ * into the '*_get_type()' function, e.g. additional interface implementations\n@@ -1949,1 +2098,1 @@\n- * A convenience macro to ease interface addition in the `_C_` section\n+ * A convenience macro to ease interface addition in the '_C_' section\n@@ -1953,1 +2102,1 @@\n- * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n+ * Note that this macro can only be used together with the 'G_DEFINE_TYPE_*'\n@@ -1988,2 +2137,2 @@\n- * Will add `MyObjectPrivate` as the private data to any instance of the\n- * `MyObject` type.\n+ * Will add 'MyObjectPrivate' as the private data to any instance of the\n+ * 'MyObject' type.\n@@ -1991,1 +2140,1 @@\n- * `G_DEFINE_TYPE_*` macros will automatically create a private function\n+ * 'G_DEFINE_TYPE_*' macros will automatically create a private function\n@@ -2019,1 +2168,1 @@\n- * Since GLib 2.72, the returned `MyObjectPrivate` pointer is guaranteed to be\n+ * Since GLib 2.72, the returned 'MyObjectPrivate' pointer is guaranteed to be\n@@ -2023,1 +2172,1 @@\n- * `MyObjectPrivate` struct to be appropriately padded.\n+ * 'MyObjectPrivate' struct to be appropriately padded.\n@@ -2025,1 +2174,1 @@\n- * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n+ * Note that this macro can only be used together with the 'G_DEFINE_TYPE_*'\n@@ -2029,1 +2178,1 @@\n- * name of the form `TypeNamePrivate`.\n+ * name of the form 'TypeNamePrivate'.\n@@ -2031,1 +2180,1 @@\n- * It is safe to call the `_get_instance_private` function on %NULL or invalid\n+ * It is safe to call the '_get_instance_private' function on %NULL or invalid\n@@ -2050,1 +2199,1 @@\n- * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n+ * Note that this macro can only be used together with the 'G_DEFINE_TYPE_*'\n@@ -2068,1 +2217,1 @@\n- * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n+ * Note that this macro can only be used together with the 'G_DEFINE_TYPE_*'\n@@ -2087,1 +2236,1 @@\n- * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n+ * Note that this macro can only be used together with the 'G_DEFINE_TYPE_*'\n@@ -2153,1 +2302,1 @@\n-G_GNUC_NO_INLINE \\\n+G_NO_INLINE \\\n@@ -2179,0 +2328,2 @@\n+\/* Intentionally using (GTypeFlags) 0 instead of G_TYPE_FLAG_NONE here,\n+ * to avoid deprecation warnings with older GLIB_VERSION_MAX_ALLOWED *\/\n@@ -2223,0 +2374,14 @@\n+ * You might start by putting declarations in a header as follows:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * #define MY_TYPE_STRUCT my_struct_get_type ()\n+ * GType my_struct_get_type (void) G_GNUC_CONST;\n+ *\n+ * MyStruct *    my_struct_new (void);\n+ * void          my_struct_free (MyStruct *self);\n+ * MyStruct *    my_struct_copy (MyStruct *self);\n+ * ]|\n+ *\n+ * And then use this macro and define your implementation in the source file as\n+ * follows:\n+ *\n@@ -2224,0 +2389,18 @@\n+ * MyStruct *\n+ * my_struct_new (void)\n+ * {\n+ *   \/\/ ... your code to allocate a new MyStruct ...\n+ * }\n+ *\n+ * void\n+ * my_struct_free (MyStruct *self)\n+ * {\n+ *   \/\/ ... your code to free a MyStruct ...\n+ * }\n+ *\n+ * MyStruct *\n+ * my_struct_copy (MyStruct *self)\n+ * {\n+ *   \/\/ ... your code return a newly allocated copy of a MyStruct ...\n+ * }\n+ *\n@@ -2229,1 +2412,3 @@\n- *   GType type = my_struct_get_type ();\n+ *   MyStruct *ms;\n+ *\n+ *   ms = my_struct_new ();\n@@ -2231,0 +2416,1 @@\n+ *   my_struct_free (ms);\n@@ -2241,1 +2427,1 @@\n- *  separated by `_`\n+ *  separated by '_'\n@@ -2244,1 +2430,1 @@\n- * @_C_: Custom code that gets inserted in the `*_get_type()` function\n+ * @_C_: Custom code that gets inserted in the '*_get_type()' function\n@@ -2249,1 +2435,1 @@\n- * `type_name_get_type()` function, e.g. to register value transformations with\n+ * 'type_name_get_type()' function, e.g. to register value transformations with\n@@ -2259,2 +2445,2 @@\n- * Similarly to the `G_DEFINE_TYPE_*` family of macros, the #GType of the newly\n- * defined boxed type is exposed in the `g_define_type_id` variable.\n+ * Similarly to the 'G_DEFINE_TYPE_*' family of macros, the #GType of the newly\n+ * defined boxed type is exposed in the 'g_define_type_id' variable.\n@@ -2269,1 +2455,2 @@\n-#if !defined (__cplusplus) && (G_GNUC_CHECK_VERSION(2, 7)) && !(defined (__APPLE__) && defined (__ppc64__))\n+#if !defined (G_CXX_STD_VERSION) && (G_GNUC_CHECK_VERSION(2, 7)) && \\\n+    !(defined (__APPLE__) && defined (__ppc64__))\n@@ -2285,1 +2472,1 @@\n-G_GNUC_NO_INLINE \\\n+G_NO_INLINE \\\n@@ -2322,1 +2509,1 @@\n-G_GNUC_NO_INLINE \\\n+G_NO_INLINE \\\n@@ -2337,1 +2524,1 @@\n- *  separated by `_`\n+ *  separated by '_'\n@@ -2340,1 +2527,1 @@\n- * `type_name_get_type()` function registering the pointer type.\n+ * 'type_name_get_type()' function registering the pointer type.\n@@ -2349,2 +2536,2 @@\n- *  separated by `_`\n- * @_C_: Custom code that gets inserted in the `*_get_type()` function\n+ *  separated by '_'\n+ * @_C_: Custom code that gets inserted in the '*_get_type()' function\n@@ -2354,1 +2541,1 @@\n- * custom code into the `type_name_get_type()` function.\n+ * custom code into the 'type_name_get_type()' function.\n@@ -2375,1 +2562,1 @@\n-G_GNUC_NO_INLINE \\\n+G_NO_INLINE \\\n@@ -2384,1 +2571,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2386,1 +2573,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2389,1 +2576,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2391,1 +2578,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2393,1 +2580,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2395,1 +2582,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2398,1 +2585,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2401,1 +2588,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2404,1 +2591,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2407,1 +2594,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2410,1 +2597,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2414,1 +2601,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2419,1 +2606,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2421,1 +2608,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2424,1 +2611,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2427,1 +2614,1 @@\n-GLIB_AVAILABLE_IN_2_42\n+GOBJECT_AVAILABLE_IN_2_42\n@@ -2430,1 +2617,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2433,1 +2620,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2436,1 +2623,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2438,1 +2625,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2440,1 +2627,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2443,1 +2630,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2449,1 +2636,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2451,1 +2638,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -2456,1 +2643,4 @@\n-#ifndef G_DISABLE_CAST_CHECKS\n+#if defined(G_DISABLE_CAST_CHECKS) || defined(__OPTIMIZE__)\n+#  define _G_TYPE_CIC(ip, gt, ct)       ((ct*) (void *) ip)\n+#  define _G_TYPE_CCC(cp, gt, ct)       ((ct*) (void *) cp)\n+#else\n@@ -2461,4 +2651,2 @@\n-#else \/* G_DISABLE_CAST_CHECKS *\/\n-#  define _G_TYPE_CIC(ip, gt, ct)       ((ct*) ip)\n-#  define _G_TYPE_CCC(cp, gt, ct)       ((ct*) cp)\n-#endif \/* G_DISABLE_CAST_CHECKS *\/\n+#endif\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtype.h","additions":556,"deletions":368,"binary":false,"changes":924,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -102,1 +104,1 @@\n-      g_warning (G_STRLOC \": unsolicitated invocation of g_object_run_dispose() on GTypeModule\");\n+      g_critical (G_STRLOC \": unsolicitated invocation of g_object_run_dispose() on GTypeModule\");\n@@ -260,3 +262,3 @@\n-        g_warning (\"plugin '%s' failed to register type '%s'\",\n-       module->name ? module->name : \"(unknown)\",\n-       g_type_name (type_info->type));\n+        g_critical (\"plugin '%s' failed to register type '%s'\",\n+        module->name ? module->name : \"(unknown)\",\n+        g_type_name (type_info->type));\n@@ -316,3 +318,2 @@\n-      g_warning (\"Fatal error - Could not reload previously loaded plugin '%s'\",\n-     module->name ? module->name : \"(unknown)\");\n-      exit (1);\n+      g_error (\"Fatal error - Could not reload previously loaded plugin '%s'\",\n+      module->name ? module->name : \"(unknown)\");\n@@ -414,1 +415,1 @@\n-    g_warning (\"Two different plugins tried to register '%s'.\", type_name);\n+    g_critical (\"Two different plugins tried to register '%s'.\", type_name);\n@@ -434,1 +435,1 @@\n-    g_warning (\"Type '%s' recreated with different parent type.\"\n+    g_critical (\"Type '%s' recreated with different parent type.\"\n@@ -503,1 +504,1 @@\n-    g_warning (\"Interface '%s' for '%s' was previously registered statically or for a parent type.\",\n+    g_critical (\"Interface '%s' for '%s' was previously registered statically or for a parent type.\",\n@@ -509,1 +510,1 @@\n-    g_warning (\"Two different plugins tried to register interface '%s' for '%s'.\",\n+    g_critical (\"Two different plugins tried to register interface '%s' for '%s'.\",\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypemodule.c","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -269,1 +271,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -271,1 +273,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -273,1 +275,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -275,1 +277,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -278,1 +280,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -284,1 +286,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -289,1 +291,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -293,1 +295,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypemodule.h","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypeplugin.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -115,1 +117,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -117,1 +119,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -119,1 +121,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -121,1 +123,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -126,1 +128,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypeplugin.h","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -142,1 +144,1 @@\n- *   g_value_free (value);\n+ *   g_free (value);\n@@ -212,1 +214,1 @@\n-    g_warning (\"%s: cannot initialize GValue with type '%s', the value has already been initialized as '%s'\",\n+    g_critical (\"%s: cannot initialize GValue with type '%s', the value has already been initialized as '%s'\",\n@@ -217,1 +219,1 @@\n-    g_warning (\"%s: cannot initialize GValue with type '%s', %s\",\n+    g_critical (\"%s: cannot initialize GValue with type '%s', %s\",\n@@ -408,1 +410,1 @@\n-      g_warning (\"%s: %s\", G_STRLOC, error_msg);\n+      g_critical (\"%s: %s\", G_STRLOC, error_msg);\n@@ -472,1 +474,1 @@\n-          g_warning (\"%s: %s\", G_STRLOC, error_msg);\n+          g_critical (\"%s: %s\", G_STRLOC, error_msg);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvalue.c","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -132,1 +134,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -135,1 +137,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -138,1 +140,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -140,1 +142,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -142,1 +144,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -145,1 +147,1 @@\n-GLIB_AVAILABLE_IN_2_42\n+GOBJECT_AVAILABLE_IN_2_42\n@@ -151,1 +153,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -153,1 +155,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -158,1 +160,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -161,1 +163,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -164,1 +166,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -167,1 +169,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -190,1 +192,1 @@\n-#define G_VALUE_INTERNED_STRING (1 << 28) GLIB_AVAILABLE_MACRO_IN_2_66\n+#define G_VALUE_INTERNED_STRING (1 << 28) GOBJECT_AVAILABLE_MACRO_IN_2_66\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvalue.h","additions":15,"deletions":13,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluearray.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -38,1 +40,1 @@\n-#define G_TYPE_VALUE_ARRAY (g_value_array_get_type ()) GLIB_DEPRECATED_MACRO_IN_2_32_FOR(G_TYPE_ARRAY)\n+#define G_TYPE_VALUE_ARRAY (g_value_array_get_type ()) GOBJECT_DEPRECATED_MACRO_IN_2_32_FOR(G_TYPE_ARRAY)\n@@ -59,1 +61,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -62,1 +64,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -66,1 +68,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -69,1 +71,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -72,1 +74,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -75,1 +77,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -79,1 +81,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -83,1 +85,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -88,1 +90,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -92,1 +94,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n@@ -96,1 +98,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(GArray)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(GArray)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluearray.h","additions":14,"deletions":12,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -90,0 +92,23 @@\n+#define G_VALUE_COLLECT_INIT(value, _value_type, var_args, flags, __error) \\\n+  G_STMT_START { \\\n+    GTypeValueTable *g_vci_vtab; \\\n+    G_VALUE_COLLECT_INIT2(value, g_vci_vtab, _value_type, var_args, flags, __error); \\\n+} G_STMT_END\n+\n+\/**\n+ * G_VALUE_COLLECT_INIT2:\n+ * @value: a #GValue return location. @value must contain only 0 bytes.\n+ * @g_vci_vtab: a #GTypeValueTable pointer that will be set to the value table\n+ *   for @_value_type\n+ * @_value_type: the #GType to use for @value.\n+ * @var_args: the va_list variable; it may be evaluated multiple times\n+ * @flags: flags which are passed on to the collect_value() function of\n+ *  the #GTypeValueTable of @value.\n+ * @__error: a #gchar** variable that will be modified to hold a g_new()\n+ *  allocated error messages if something fails\n+ *\n+ * A variant of G_VALUE_COLLECT_INIT() that provides the #GTypeValueTable\n+ * to the caller.\n+ *\n+ * Since: 2.74\n+ *\/\n@@ -91,13 +116,13 @@\n-#define G_VALUE_COLLECT_INIT(value, _value_type, var_args, flags, __error)              \\\n-G_STMT_START {                                                                          \\\n-  GValue *g_vci_val = (value);                                                          \\\n-  guint g_vci_flags = (flags);                                                          \\\n-  GTypeValueTable *g_vci_vtab = g_type_value_table_peek (_value_type);                  \\\n-  const gchar *g_vci_collect_format = g_vci_vtab->collect_format;                                       \\\n-  GTypeCValue g_vci_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };           \\\n-  guint g_vci_n_values = 0;                                                                     \\\n-                                                                                        \\\n-  g_vci_val->g_type = _value_type;              \/* value_meminit() from gvalue.c *\/             \\\n-  while (*g_vci_collect_format)                                                         \\\n-    {                                                                                   \\\n-      GTypeCValue *g_vci_cvalue = g_vci_cvalues + g_vci_n_values++;                                     \\\n+#define G_VALUE_COLLECT_INIT2(value, g_vci_vtab, _value_type, var_args, flags, __error)    \\\n+G_STMT_START {                    \\\n+  GValue *g_vci_val = (value);                \\\n+  guint g_vci_flags = (flags);                \\\n+  const gchar *g_vci_collect_format; \\\n+  GTypeCValue g_vci_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };    \\\n+  guint g_vci_n_values = 0;                  \\\n+  g_vci_vtab = g_type_value_table_peek (_value_type);      \\\n+  g_vci_collect_format = g_vci_vtab->collect_format;          \\\n+  g_vci_val->g_type = _value_type;    \/* value_meminit() from gvalue.c *\/    \\\n+  while (*g_vci_collect_format)                \\\n+    {                      \\\n+      GTypeCValue *g_vci_cvalue = g_vci_cvalues + g_vci_n_values++;          \\\n@@ -105,25 +130,25 @@\n-      switch (*g_vci_collect_format++)                                                  \\\n-        {                                                                               \\\n-        case G_VALUE_COLLECT_INT:                                                       \\\n-          g_vci_cvalue->v_int = va_arg ((var_args), gint);                                      \\\n-          break;                                                                        \\\n-        case G_VALUE_COLLECT_LONG:                                                      \\\n-          g_vci_cvalue->v_long = va_arg ((var_args), glong);                                    \\\n-          break;                                                                        \\\n-        case G_VALUE_COLLECT_INT64:                                                     \\\n-          g_vci_cvalue->v_int64 = va_arg ((var_args), gint64);                          \\\n-          break;                                                                        \\\n-        case G_VALUE_COLLECT_DOUBLE:                                                    \\\n-          g_vci_cvalue->v_double = va_arg ((var_args), gdouble);                                \\\n-          break;                                                                        \\\n-        case G_VALUE_COLLECT_POINTER:                                                   \\\n-          g_vci_cvalue->v_pointer = va_arg ((var_args), gpointer);                              \\\n-          break;                                                                        \\\n-        default:                                                                        \\\n-          g_assert_not_reached ();                                                      \\\n-        }                                                                               \\\n-    }                                                                                   \\\n-  *(__error) = g_vci_vtab->collect_value (g_vci_val,                                            \\\n-                                       g_vci_n_values,                                  \\\n-                                       g_vci_cvalues,                                   \\\n-                                       g_vci_flags);                                            \\\n+      switch (*g_vci_collect_format++)              \\\n+        {                    \\\n+          case G_VALUE_COLLECT_INT:              \\\n+            g_vci_cvalue->v_int = va_arg ((var_args), gint);          \\\n+            break;                  \\\n+          case G_VALUE_COLLECT_LONG:              \\\n+            g_vci_cvalue->v_long = va_arg ((var_args), glong);          \\\n+            break;                  \\\n+          case G_VALUE_COLLECT_INT64:              \\\n+            g_vci_cvalue->v_int64 = va_arg ((var_args), gint64);        \\\n+            break;                  \\\n+          case G_VALUE_COLLECT_DOUBLE:              \\\n+            g_vci_cvalue->v_double = va_arg ((var_args), gdouble);        \\\n+            break;                  \\\n+          case G_VALUE_COLLECT_POINTER:              \\\n+            g_vci_cvalue->v_pointer = va_arg ((var_args), gpointer);        \\\n+            break;                  \\\n+          default:                  \\\n+            g_assert_not_reached ();              \\\n+        }                    \\\n+    }                      \\\n+  *(__error) = g_vci_vtab->collect_value (g_vci_val,            \\\n+               g_vci_n_values,          \\\n+               g_vci_cvalues,          \\\n+               g_vci_flags);            \\\n@@ -132,13 +157,12 @@\n-#define G_VALUE_COLLECT_INIT(value, _value_type, var_args, flags, __error)      \\\n-G_STMT_START {                                      \\\n-  GValue *_val = (value);                               \\\n-  guint _flags = (flags);                               \\\n-  GTypeValueTable *_vtab = g_type_value_table_peek (_value_type);           \\\n-  const gchar *_collect_format = _vtab->collect_format;                 \\\n-  GTypeCValue _cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };        \\\n-  guint _n_values = 0;                                  \\\n-                                            \\\n-  if (_vtab == NULL)                                    \\\n-  {                                         \\\n-    *(__error) = g_strdup(\"_vtab is NULL\");                     \\\n-  }                                         \\\n+#define G_VALUE_COLLECT_INIT2(value, g_vci_vtab, _value_type, var_args, flags, __error)    \\\n+G_STMT_START {                    \\\n+  GValue *g_vci_val = (value);                \\\n+  guint g_vci_flags = (flags);                \\\n+  const gchar *g_vci_collect_format; \\\n+  GTypeCValue g_vci_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };    \\\n+  guint g_vci_n_values = 0;                  \\\n+  g_vci_vtab = g_type_value_table_peek (_value_type);      \\\n+  if (g_vci_vtab == NULL)                                    \\\n+    {                                         \\\n+      *(__error) = g_strdup(\"_vtab is NULL\");                     \\\n+    }                                         \\\n@@ -146,5 +170,6 @@\n-  {                                         \\\n-  _val->g_type = _value_type;       \/* value_meminit() from gvalue.c *\/     \\\n-  while (*_collect_format)                              \\\n-    {                                           \\\n-      GTypeCValue *_cvalue = _cvalues + _n_values++;                    \\\n+    {                                         \\\n+      g_vci_collect_format = g_vci_vtab->collect_format;          \\\n+      g_vci_val->g_type = _value_type;    \/* value_meminit() from gvalue.c *\/    \\\n+      while (*g_vci_collect_format)                \\\n+        {                      \\\n+          GTypeCValue *g_vci_cvalue = g_vci_cvalues + g_vci_n_values++;          \\\n@@ -152,26 +177,26 @@\n-      switch (*_collect_format++)                           \\\n-    {                                       \\\n-    case G_VALUE_COLLECT_INT:                           \\\n-      _cvalue->v_int = va_arg ((var_args), gint);                   \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_LONG:                          \\\n-      _cvalue->v_long = va_arg ((var_args), glong);                 \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_INT64:                         \\\n-      _cvalue->v_int64 = va_arg ((var_args), gint64);               \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_DOUBLE:                            \\\n-      _cvalue->v_double = va_arg ((var_args), gdouble);             \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_POINTER:                           \\\n-      _cvalue->v_pointer = va_arg ((var_args), gpointer);               \\\n-      break;                                    \\\n-    default:                                    \\\n-      g_assert_not_reached ();                          \\\n-    }                                       \\\n-    }                                           \\\n-  *(__error) = _vtab->collect_value (_val,                      \\\n-                       _n_values,                   \\\n-                       _cvalues,                    \\\n-                       _flags);                     \\\n- }                                          \\\n+          switch (*g_vci_collect_format++)              \\\n+            {                    \\\n+              case G_VALUE_COLLECT_INT:              \\\n+                g_vci_cvalue->v_int = va_arg ((var_args), gint);          \\\n+                break;                  \\\n+              case G_VALUE_COLLECT_LONG:              \\\n+                g_vci_cvalue->v_long = va_arg ((var_args), glong);          \\\n+                break;                  \\\n+              case G_VALUE_COLLECT_INT64:              \\\n+                g_vci_cvalue->v_int64 = va_arg ((var_args), gint64);        \\\n+                break;                  \\\n+              case G_VALUE_COLLECT_DOUBLE:              \\\n+                g_vci_cvalue->v_double = va_arg ((var_args), gdouble);        \\\n+                break;                  \\\n+              case G_VALUE_COLLECT_POINTER:              \\\n+                g_vci_cvalue->v_pointer = va_arg ((var_args), gpointer);        \\\n+                break;                  \\\n+              default:                  \\\n+                g_assert_not_reached ();              \\\n+            }                    \\\n+        }                      \\\n+    }                      \\\n+  *(__error) = g_vci_vtab->collect_value (g_vci_val,            \\\n+               g_vci_n_values,          \\\n+               g_vci_cvalues,          \\\n+               g_vci_flags);            \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluecollector.h","additions":107,"deletions":82,"binary":false,"changes":189,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluetransform.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,0 +5,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -389,5 +391,0 @@\n-  else if (collect_flags & G_VALUE_NOCOPY_CONTENTS)\n-    {\n-      value->data[0].v_pointer = collect_values[0].v_pointer;\n-      value->data[1].v_uint = G_VALUE_NOCOPY_CONTENTS;\n-    }\n@@ -395,0 +392,1 @@\n+    \/* never honour G_VALUE_NOCOPY_CONTENTS for ref-counted types *\/\n@@ -1113,1 +1111,1 @@\n- * @v_string: (nullable): string to take ownership of\n+ * @v_string: (nullable) (transfer full): string to take ownership of\n@@ -1138,1 +1136,1 @@\n- * Returns: string content of @value\n+ * Returns: (nullable) (transfer none): string content of @value\n@@ -1154,1 +1152,1 @@\n- * Returns: a newly allocated copy of the string content of @value\n+ * Returns: (nullable) (transfer full): a newly allocated copy of the string content of @value\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluetypes.c","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -4,0 +4,2 @@\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n+ *\n@@ -151,1 +153,1 @@\n-#define G_VALUE_IS_INTERNED_STRING(value) (G_VALUE_HOLDS_STRING (value) && ((value)->data[1].v_uint & G_VALUE_INTERNED_STRING)) GLIB_AVAILABLE_MACRO_IN_2_66\n+#define G_VALUE_IS_INTERNED_STRING(value) (G_VALUE_HOLDS_STRING (value) && ((value)->data[1].v_uint & G_VALUE_INTERNED_STRING)) GOBJECT_AVAILABLE_MACRO_IN_2_66\n@@ -191,1 +193,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(g_value_set_schar)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(g_value_set_schar)\n@@ -194,1 +196,1 @@\n-GLIB_DEPRECATED_IN_2_32_FOR(g_value_get_schar)\n+GOBJECT_DEPRECATED_IN_2_32_FOR(g_value_get_schar)\n@@ -196,1 +198,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -199,1 +201,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -201,1 +203,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -204,1 +206,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -206,1 +208,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -209,1 +211,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -211,1 +213,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -214,1 +216,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -216,1 +218,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -219,1 +221,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -221,1 +223,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -224,1 +226,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -226,1 +228,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -229,1 +231,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -231,1 +233,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -234,1 +236,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -236,1 +238,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -239,1 +241,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -241,1 +243,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -244,1 +246,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -246,1 +248,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -249,1 +251,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -251,1 +253,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -254,1 +256,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -257,1 +259,1 @@\n-GLIB_AVAILABLE_IN_2_66\n+GOBJECT_AVAILABLE_IN_2_66\n@@ -260,1 +262,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -262,1 +264,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -264,1 +266,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -267,1 +269,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -269,1 +271,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -271,1 +273,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -274,1 +276,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -276,1 +278,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -279,1 +281,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -282,1 +284,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -284,1 +286,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -289,1 +291,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -293,1 +295,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -297,1 +299,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GOBJECT_AVAILABLE_IN_ALL\n@@ -300,1 +302,1 @@\n-GLIB_DEPRECATED_FOR(g_value_take_string)\n+GOBJECT_DEPRECATED_FOR(g_value_take_string)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluetypes.h","additions":45,"deletions":43,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -3,0 +3,2 @@\n+*\n+ * SPDX-License-Identifier: LGPL-2.1-or-later\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gthread\/gthread-impl.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-bad\/gst\/aiff\/aiffparse.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-bad\/gst\/aiff\/gstaiffelement.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsaelement.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n@@ -53,1 +53,1 @@\n-  return TRUE;\n+  return ret;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsaplugin.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n@@ -1184,0 +1184,1 @@\n+    gst_alsasink_stop (asink);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsasink.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -389,1 +389,1 @@\n-   * Returns: a #GstSample or NULL when the appsink is stopped or EOS.\n+   * Returns: (nullable): a #GstSample or NULL when the appsink is stopped or EOS.\n@@ -414,1 +414,1 @@\n-   * Returns: a #GstSample or NULL when the appsink is stopped or EOS.\n+   * Returns: (nullable): a #GstSample or NULL when the appsink is stopped or EOS.\n@@ -446,1 +446,1 @@\n-   * Returns: a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n+   * Returns: (nullable): a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n@@ -476,1 +476,1 @@\n-   * Returns: a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n+   * Returns: (nullable): a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n@@ -514,1 +514,1 @@\n-   * Returns: (transfer full): a #GstSample or a #GstEvent or NULL when the appsink is stopped or EOS or the timeout expires.\n+   * Returns: (nullable) (transfer full): a #GstSample or a #GstEvent or NULL when the appsink is stopped or EOS or the timeout expires.\n@@ -755,0 +755,1 @@\n+  gst_caps_replace (&priv->last_caps, NULL);\n@@ -798,0 +799,5 @@\n+  priv->sample = gst_sample_make_writable (priv->sample);\n+  gst_sample_set_buffer (priv->sample, NULL);\n+  gst_sample_set_buffer_list (priv->sample, NULL);\n+  gst_sample_set_caps (priv->sample, NULL);\n+  gst_sample_set_segment (priv->sample, NULL);\n@@ -1066,0 +1072,1 @@\n+    priv->sample = gst_sample_make_writable (priv->sample);\n@@ -1295,1 +1302,1 @@\n- * Returns: the #GstCaps accepted by the sink. gst_caps_unref() after usage.\n+ * Returns: (nullable) (transfer full): the #GstCaps accepted by the sink. gst_caps_unref() after usage.\n@@ -1705,1 +1712,1 @@\n- * Returns: (transfer full): a #GstSample, or a #GstEvent or NULL when the appsink is stopped or EOS.\n+ * Returns: (transfer full) (nullable): a #GstSample, or a #GstEvent or NULL when the appsink is stopped or EOS.\n@@ -1885,1 +1892,1 @@\n- * Returns: (transfer full): a #GstSample, or #GstEvent or NULL when the appsink is stopped or EOS or the timeout expires.\n+ * Returns: (transfer full) (nullable): a #GstSample, or #GstEvent or NULL when the appsink is stopped or EOS or the timeout expires.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/app\/gstappsink.c","additions":15,"deletions":8,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -820,2 +820,1 @@\n- * Returns: a new #GstAudioChannelMixer object, or %NULL if @format isn't supported,\n- *   @matrix is invalid, or @matrix is %NULL and @in_channels != @out_channels.\n+ * Returns: a new #GstAudioChannelMixer object.\n@@ -837,2 +836,2 @@\n-  g_return_val_if_fail (in_channels > 0 && in_channels < 64, NULL);\n-  g_return_val_if_fail (out_channels > 0 && out_channels < 64, NULL);\n+  g_return_val_if_fail (in_channels > 0 && in_channels <= 64, NULL);\n+  g_return_val_if_fail (out_channels > 0 && out_channels <= 64, NULL);\n@@ -983,1 +982,1 @@\n- * Returns: a new #GstAudioChannelMixer object, or %NULL if @format isn't supported.\n+ * Returns: a new #GstAudioChannelMixer object.\n@@ -999,2 +998,2 @@\n-  g_return_val_if_fail (in_channels > 0 && in_channels < 64, NULL);\n-  g_return_val_if_fail (out_channels > 0 && out_channels < 64, NULL);\n+  g_return_val_if_fail (in_channels > 0 && in_channels <= 64, NULL);\n+  g_return_val_if_fail (out_channels > 0 && out_channels <= 64, NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-channel-mixer.c","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -266,1 +266,0 @@\n-\/*\n@@ -275,1 +274,0 @@\n-*\/\n@@ -295,0 +293,1 @@\n+#define DEFAULT_OPT_DITHER_THRESHOLD 20\n@@ -304,0 +303,2 @@\n+#define GET_OPT_DITHER_THRESHOLD(c) get_opt_uint(c, \\\n+    GST_AUDIO_CONVERTER_OPT_DITHER_THRESHOLD, DEFAULT_OPT_DITHER_THRESHOLD)\n@@ -954,0 +955,1 @@\n+  guint dither_threshold;\n@@ -957,0 +959,1 @@\n+  dither_threshold = GET_OPT_DITHER_THRESHOLD (convert);\n@@ -972,1 +975,1 @@\n-  if (out_depth > 20 || (in_int && out_depth >= in_depth)) {\n+  if (out_depth > dither_threshold || (in_int && out_depth >= in_depth)) {\n@@ -1320,1 +1323,1 @@\n- * Returns: a #GstAudioConverter or %NULL if conversion is not possible.\n+ * Returns: (nullable): a #GstAudioConverter or %NULL if conversion is not possible.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-converter.c","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -109,0 +109,11 @@\n+\/**\n+ * GST_AUDIO_CONVERTER_OPT_DITHER_THRESHOLD:\n+ *\n+ * Threshold for the output bit depth at\/below which to apply dithering.\n+ *\n+ * Default is 20 bit.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_AUDIO_CONVERTER_OPT_DITHER_THRESHOLD   \"GstAudioConverter.dither-threshold\"\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-converter.h","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -493,1 +493,1 @@\n-  g_return_if_fail (info != NULL);\n+  g_return_if_fail (GST_AUDIO_FORMAT_INFO_IS_VALID_RAW (info));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-format.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -259,0 +259,12 @@\n+\/**\n+ * GST_AUDIO_FORMAT_INFO_IS_VALID_RAW:\n+ *\n+ * Tests that the given #GstAudioFormatInfo represents a valid un-encoded\n+ * format.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_AUDIO_FORMAT_INFO_IS_VALID_RAW(info)                        \\\n+  (info != NULL && (info)->format > GST_AUDIO_FORMAT_ENCODED &&         \\\n+   (info)->width > 0 && (info)->depth > 0)\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-format.h","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -329,1 +329,1 @@\n- * Returns: A #GstAudioInfo, or %NULL if @caps couldn't be parsed\n+ * Returns: (nullable): A #GstAudioInfo, or %NULL if @caps couldn't be parsed\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-info.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+  guint32 random_state;\n@@ -95,3 +96,1 @@\n-\/* This is the base function, implementing a linear congruential generator\n- * and returning a pseudo random number between 0 and 2^32 - 1.\n- *\/\n+\/* 32 bit xorshift PRNG, see https:\/\/en.wikipedia.org\/wiki\/Xorshift *\/\n@@ -99,1 +98,1 @@\n-gst_fast_random_uint32 (void)\n+gst_fast_random_uint32 (guint32 * state)\n@@ -101,2 +100,5 @@\n-  static guint32 state = 0xdeadbeef;\n-  return (state = state * 1103515245 + 12345);\n+  guint64 x = *state;\n+  x ^= x << 13;\n+  x ^= x >> 17;\n+  x ^= x << 5;\n+  return (*state = x);\n@@ -106,1 +108,1 @@\n-gst_fast_random_int32 (void)\n+gst_fast_random_int32 (guint32 * state)\n@@ -108,1 +110,1 @@\n-  return (gint32) gst_fast_random_uint32 ();\n+  return (gint32) gst_fast_random_uint32 (state);\n@@ -114,2 +116,2 @@\n-#define RANDOM_INT_DITHER(dither)                                       \\\n-  (- dither + (gst_fast_random_int32 () & ((dither << 1) - 1)))\n+#define RANDOM_INT_DITHER(state, dither)                                       \\\n+  (- dither + (gst_fast_random_int32 (state) & ((dither << 1) - 1)))\n@@ -147,1 +149,1 @@\n-        d[i] = bias + RANDOM_INT_DITHER (dither);\n+        d[i] = bias + RANDOM_INT_DITHER (&quant->random_state, dither);\n@@ -153,1 +155,3 @@\n-        d[i] = bias + RANDOM_INT_DITHER (dither) + RANDOM_INT_DITHER (dither);\n+        d[i] =\n+            bias + RANDOM_INT_DITHER (&quant->random_state,\n+            dither) + RANDOM_INT_DITHER (&quant->random_state, dither);\n@@ -162,1 +166,1 @@\n-        tmp = RANDOM_INT_DITHER (dither);\n+        tmp = RANDOM_INT_DITHER (&quant->random_state, dither);\n@@ -372,0 +376,3 @@\n+  \/* Some non-zero number *\/\n+  quant->random_state = 0xc2d6038f;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-quantize.c","additions":20,"deletions":13,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -1345,2 +1345,1 @@\n- * Returns: (skip) (transfer full): The new #GstAudioResampler, or\n- * %NULL on failure.\n+ * Returns: (skip) (transfer full): The new #GstAudioResampler.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-resampler.c","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n- * Returns: (transfer full): %NULL if the buffer is completely outside the configured segment,\n+ * Returns: (transfer full) (nullable): %NULL if the buffer is completely outside the configured segment,\n@@ -270,2 +270,1 @@\n- * Returns: (transfer full): the truncated buffer or %NULL if the arguments\n- *   were invalid\n+ * Returns: (transfer full): the truncated buffer\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio.c","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2283,1 +2283,1 @@\n- * Returns: (transfer none): The new ringbuffer of @sink.\n+ * Returns: (transfer none) (nullable): The new ringbuffer of @sink.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesink.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -48,0 +48,4 @@\n+\/* This function is public in >= 1.23, but internal in 1.22 *\/\n+G_GNUC_INTERNAL\n+    void __gst_audio_ring_buffer_set_errored (GstAudioRingBuffer * buf);\n+\n@@ -1089,1 +1093,1 @@\n- * Returns: (transfer none): The new ringbuffer of @src.\n+ * Returns: (transfer none) (nullable): The new ringbuffer of @src.\n@@ -1232,1 +1236,1 @@\n-    g_atomic_int_set (&ringbuffer->state, GST_AUDIO_RING_BUFFER_STATE_ERROR);\n+    __gst_audio_ring_buffer_set_errored (ringbuffer);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesrc.c","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -183,0 +183,2 @@\n+  \/* Tracks whether the latency message was posted at least once *\/\n+  gboolean posted_latency_msg;\n@@ -558,0 +560,1 @@\n+    dec->priv->ctx.posted_latency_msg = FALSE;\n@@ -1248,1 +1251,2 @@\n-  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)) {\n+  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)\n+      || gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory_reference)) {\n@@ -1274,1 +1278,1 @@\n- * @buf: (transfer full) (allow-none): decoded data\n+ * @buf: (transfer full) (nullable): decoded data\n@@ -1308,1 +1312,1 @@\n- * @buf: (transfer full) (allow-none): decoded data\n+ * @buf: (transfer full) (nullable): decoded data\n@@ -2764,2 +2768,2 @@\n- * @caps: (allow-none): initial caps\n- * @filter: (allow-none): filter caps\n+ * @caps: (nullable): initial caps\n+ * @filter: (nullable): filter caps\n@@ -3393,1 +3397,3 @@\n- * Sets decoder latency.\n+ * Sets decoder latency. If the provided values changed from\n+ * previously provided ones, this will also post a LATENCY message on the bus\n+ * so the pipeline can reconfigure its global latency.\n@@ -3399,0 +3405,2 @@\n+  gboolean post_message = FALSE;\n+\n@@ -3403,0 +3411,4 @@\n+  GST_DEBUG_OBJECT (dec,\n+      \"min_latency:%\" GST_TIME_FORMAT \" max_latency:%\" GST_TIME_FORMAT,\n+      GST_TIME_ARGS (min), GST_TIME_ARGS (max));\n+\n@@ -3404,2 +3416,12 @@\n-  dec->priv->ctx.min_latency = min;\n-  dec->priv->ctx.max_latency = max;\n+  if (dec->priv->ctx.min_latency != min) {\n+    dec->priv->ctx.min_latency = min;\n+    post_message = TRUE;\n+  }\n+  if (dec->priv->ctx.max_latency != max) {\n+    dec->priv->ctx.max_latency = max;\n+    post_message = TRUE;\n+  }\n+  if (!dec->priv->ctx.posted_latency_msg) {\n+    dec->priv->ctx.posted_latency_msg = TRUE;\n+    post_message = TRUE;\n+  }\n@@ -3409,2 +3431,3 @@\n-  gst_element_post_message (GST_ELEMENT (dec),\n-      gst_message_new_latency (GST_OBJECT (dec)));\n+  if (post_message)\n+    gst_element_post_message (GST_ELEMENT (dec),\n+        gst_message_new_latency (GST_OBJECT (dec)));\n@@ -3416,2 +3439,2 @@\n- * @min: (out) (allow-none): a pointer to storage to hold minimum latency\n- * @max: (out) (allow-none): a pointer to storage to hold maximum latency\n+ * @min: (out) (optional): a pointer to storage to hold minimum latency\n+ * @max: (out) (optional): a pointer to storage to hold maximum latency\n@@ -3459,1 +3482,1 @@\n- * @allocation_caps: (allow-none): a #GstCaps or %NULL\n+ * @allocation_caps: (nullable): a #GstCaps or %NULL\n@@ -3708,1 +3731,1 @@\n- * @tags: (allow-none): a #GstTagList to merge, or NULL\n+ * @tags: (nullable): a #GstTagList to merge, or NULL\n@@ -3798,1 +3821,1 @@\n- * @allocator: (out) (allow-none) (transfer full): the #GstAllocator\n+ * @allocator: (out) (optional) (nullable) (transfer full): the #GstAllocator\n@@ -3800,1 +3823,1 @@\n- * @params: (out) (allow-none) (transfer full): the\n+ * @params: (out) (optional) (transfer full): the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiodecoder.c","additions":39,"deletions":16,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -150,1 +150,1 @@\n-#define GST_AUDIO_DECODER_MAX_ERRORS     10\n+#define GST_AUDIO_DECODER_MAX_ERRORS     -1\n@@ -275,0 +275,5 @@\n+  \/**\n+   * GstAudioDecoderClass::parse:\n+   * @offset: (out):\n+   * @length: (out):\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiodecoder.h","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -174,0 +174,4 @@\n+  \/* Tracks whether the latency message was posted at least once *\/\n+  gboolean posted_latency_msg;\n+\n+  gboolean negotiated;\n@@ -242,0 +246,5 @@\n+\n+  \/* these are initial events or events that came in while there was nothing\n+   * in the adapter. these events shall be sent after negotiation but before\n+   * we push the following buffer. *\/\n+  GList *early_pending_events;\n@@ -494,0 +503,1 @@\n+    enc->priv->ctx.posted_latency_msg = FALSE;\n@@ -506,2 +516,5 @@\n-    g_list_foreach (enc->priv->pending_events, (GFunc) gst_event_unref, NULL);\n-    g_list_free (enc->priv->pending_events);\n+    g_list_free_full (enc->priv->early_pending_events,\n+        (GDestroyNotify) gst_event_unref);\n+    enc->priv->early_pending_events = NULL;\n+    g_list_free_full (enc->priv->pending_events,\n+        (GDestroyNotify) gst_event_unref);\n@@ -604,0 +617,18 @@\n+static inline void\n+gst_audio_encoder_push_early_pending_events (GstAudioEncoder * enc)\n+{\n+  GstAudioEncoderPrivate *priv = enc->priv;\n+\n+  if (priv->early_pending_events) {\n+    GList *pending_events, *l;\n+\n+    pending_events = priv->early_pending_events;\n+    priv->early_pending_events = NULL;\n+\n+    GST_DEBUG_OBJECT (enc, \"Pushing early pending events\");\n+    for (l = pending_events; l; l = l->next)\n+      gst_audio_encoder_push_event (enc, l->data);\n+    g_list_free (pending_events);\n+  }\n+}\n+\n@@ -609,0 +640,2 @@\n+  gst_audio_encoder_push_early_pending_events (enc);\n+\n@@ -713,1 +746,2 @@\n-  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)) {\n+  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)\n+      || gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory_reference)) {\n@@ -739,1 +773,1 @@\n- * @buffer: (transfer full) (allow-none): encoded data\n+ * @buffer: (transfer full) (nullable): encoded data\n@@ -802,1 +836,1 @@\n-  gst_audio_encoder_push_pending_events (enc);\n+  gst_audio_encoder_push_early_pending_events (enc);\n@@ -804,1 +838,1 @@\n-  \/* send after pending events, which likely includes segment event *\/\n+  \/* send after early pending events, which likely includes segment event *\/\n@@ -1020,0 +1054,4 @@\n+\n+    \/* Now push the events that followed after the buffer got into the\n+     * adapter. *\/\n+    gst_audio_encoder_push_pending_events (enc);\n@@ -1504,2 +1542,2 @@\n- * @caps: (allow-none): initial caps\n- * @filter: (allow-none): filter caps\n+ * @caps: (nullable): initial caps\n+ * @filter: (nullable): filter caps\n@@ -1585,2 +1623,2 @@\n-      enc->priv->pending_events =\n-          g_list_append (enc->priv->pending_events, event);\n+      enc->priv->early_pending_events =\n+          g_list_append (enc->priv->early_pending_events, event);\n@@ -1703,2 +1741,7 @@\n-        enc->priv->pending_events =\n-            g_list_append (enc->priv->pending_events, event);\n+        if (gst_adapter_available (enc->priv->adapter) == 0) {\n+          enc->priv->early_pending_events =\n+              g_list_append (enc->priv->early_pending_events, event);\n+        } else {\n+          enc->priv->pending_events =\n+              g_list_append (enc->priv->pending_events, event);\n+        }\n@@ -2314,1 +2357,3 @@\n- * Sets encoder latency.\n+ * Sets encoder latency. If the provided values changed from\n+ * previously provided ones, this will also post a LATENCY message on the bus\n+ * so the pipeline can reconfigure its global latency.\n@@ -2320,0 +2365,2 @@\n+  gboolean post_message = FALSE;\n+\n@@ -2324,0 +2371,4 @@\n+  GST_DEBUG_OBJECT (enc,\n+      \"min_latency:%\" GST_TIME_FORMAT \" max_latency:%\" GST_TIME_FORMAT,\n+      GST_TIME_ARGS (min), GST_TIME_ARGS (max));\n+\n@@ -2325,2 +2376,12 @@\n-  enc->priv->ctx.min_latency = min;\n-  enc->priv->ctx.max_latency = max;\n+  if (enc->priv->ctx.min_latency != min) {\n+    enc->priv->ctx.min_latency = min;\n+    post_message = TRUE;\n+  }\n+  if (enc->priv->ctx.max_latency != max) {\n+    enc->priv->ctx.max_latency = max;\n+    post_message = TRUE;\n+  }\n+  if (!enc->priv->ctx.posted_latency_msg) {\n+    enc->priv->ctx.posted_latency_msg = TRUE;\n+    post_message = TRUE;\n+  }\n@@ -2329,3 +2390,0 @@\n-  GST_LOG_OBJECT (enc, \"set to %\" GST_TIME_FORMAT \"-%\" GST_TIME_FORMAT,\n-      GST_TIME_ARGS (min), GST_TIME_ARGS (max));\n-\n@@ -2333,2 +2391,3 @@\n-  gst_element_post_message (GST_ELEMENT (enc),\n-      gst_message_new_latency (GST_OBJECT (enc)));\n+  if (post_message)\n+    gst_element_post_message (GST_ELEMENT (enc),\n+        gst_message_new_latency (GST_OBJECT (enc)));\n@@ -2340,2 +2399,2 @@\n- * @min: (out) (allow-none): a pointer to storage to hold minimum latency\n- * @max: (out) (allow-none): a pointer to storage to hold maximum latency\n+ * @min: (out) (optional): a pointer to storage to hold minimum latency\n+ * @max: (out) (optional): a pointer to storage to hold maximum latency\n@@ -2384,1 +2443,1 @@\n- * @allocation_caps: (allow-none): a #GstCaps or %NULL\n+ * @allocation_caps: (nullable): a #GstCaps or %NULL\n@@ -2679,1 +2738,1 @@\n- * @tags: (allow-none): a #GstTagList to merge, or NULL to unset\n+ * @tags: (nullable): a #GstTagList to merge, or NULL to unset\n@@ -2739,1 +2798,1 @@\n-  if (enc->priv->pending_events) {\n+  if (enc->priv->early_pending_events) {\n@@ -2742,1 +2801,1 @@\n-    pending_events = &enc->priv->pending_events;\n+    pending_events = &enc->priv->early_pending_events;\n@@ -2821,0 +2880,2 @@\n+  enc->priv->ctx.negotiated = TRUE;\n+\n@@ -2956,1 +3017,1 @@\n- * @allocator: (out) (allow-none) (transfer full): the #GstAllocator\n+ * @allocator: (out) (optional) (nullable) (transfer full): the #GstAllocator\n@@ -2958,1 +3019,1 @@\n- * @params: (out) (allow-none) (transfer full): the\n+ * @params: (out) (optional) (transfer full): the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioencoder.c","additions":89,"deletions":28,"binary":false,"changes":117,"status":"modified"},{"patch":"@@ -183,0 +183,5 @@\n+    if (!GST_AUDIO_INFO_IS_VALID (&filter->info)) {\n+      GST_WARNING_OBJECT (filter, \"Got buffer, but not negotiated yet!\");\n+      return GST_FLOW_NOT_NEGOTIATED;\n+    }\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiofilter.c","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-  ringbuffer->state = GST_AUDIO_RING_BUFFER_STATE_STOPPED;\n+  g_atomic_int_set (&ringbuffer->state, GST_AUDIO_RING_BUFFER_STATE_STOPPED);\n@@ -1008,1 +1008,1 @@\n-    buf->state = GST_AUDIO_RING_BUFFER_STATE_PAUSED;\n+    g_atomic_int_set (&buf->state, GST_AUDIO_RING_BUFFER_STATE_PAUSED);\n@@ -1039,0 +1039,34 @@\n+G_GNUC_INTERNAL\n+    void __gst_audio_ring_buffer_set_errored (GstAudioRingBuffer * buf);\n+\n+\/* __gst_audio_ring_buffer_set_errored:\n+ * @buf: the #GstAudioRingBuffer that has encountered an error\n+ *\n+ * Mark the ringbuffer as errored after it has started.\n+ *\n+ * MT safe.\n+\n+ * Since: 1.24 (internal in 1.22)\n+ *\/\n+void\n+__gst_audio_ring_buffer_set_errored (GstAudioRingBuffer * buf)\n+{\n+  gboolean res;\n+\n+  \/* If started set to errored *\/\n+  res = g_atomic_int_compare_and_exchange (&buf->state,\n+      GST_AUDIO_RING_BUFFER_STATE_STARTED, GST_AUDIO_RING_BUFFER_STATE_ERROR);\n+  if (!res) {\n+    GST_DEBUG_OBJECT (buf, \"ringbuffer was not started, checking paused\");\n+    res = g_atomic_int_compare_and_exchange (&buf->state,\n+        GST_AUDIO_RING_BUFFER_STATE_PAUSED, GST_AUDIO_RING_BUFFER_STATE_ERROR);\n+  }\n+  if (res) {\n+    GST_DEBUG_OBJECT (buf, \"ringbuffer is errored\");\n+  } else {\n+    GST_DEBUG_OBJECT (buf,\n+        \"Could not mark ringbuffer as errored. It must have been stopped or already errored (was state %d)\",\n+        g_atomic_int_get (&buf->state));\n+  }\n+}\n+\n@@ -1063,1 +1097,2 @@\n-    buf->state = GST_AUDIO_RING_BUFFER_STATE_STARTED;\n+    \/* Restore started state *\/\n+    g_atomic_int_set (&buf->state, GST_AUDIO_RING_BUFFER_STATE_STARTED);\n@@ -1074,1 +1109,1 @@\n-    GST_DEBUG_OBJECT (buf, \"was not started\");\n+    GST_DEBUG_OBJECT (buf, \"was not started (state %d)\", buf->state);\n@@ -1156,1 +1191,7 @@\n-      \/* was not paused either, must have been stopped then *\/\n+      GST_DEBUG_OBJECT (buf, \"was not paused, try errored\");\n+      res = g_atomic_int_compare_and_exchange (&buf->state,\n+          GST_AUDIO_RING_BUFFER_STATE_ERROR,\n+          GST_AUDIO_RING_BUFFER_STATE_STOPPED);\n+    }\n+    if (!res) {\n+      \/* was not paused or stopped either, must have been stopped then *\/\n@@ -1158,1 +1199,2 @@\n-      GST_DEBUG_OBJECT (buf, \"was not paused, must have been stopped\");\n+      GST_DEBUG_OBJECT (buf,\n+          \"was not paused or errored, must have been stopped\");\n@@ -1172,1 +1214,1 @@\n-    buf->state = GST_AUDIO_RING_BUFFER_STATE_STARTED;\n+    g_atomic_int_set (&buf->state, GST_AUDIO_RING_BUFFER_STATE_STARTED);\n@@ -1678,1 +1720,1 @@\n- * @sample: the sample position of the data\n+ * @sample: (inout): the sample position of the data\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioringbuffer.c","additions":50,"deletions":8,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -101,1 +101,6 @@\n-  \/* write samples to the device *\/\n+  \/**\n+   * GstAudioSinkClass::write:\n+   * @data: (type guint8) (array length=length): the sample data\n+   *\n+   * Write samples to the device.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosink.h","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -87,1 +87,7 @@\n-  \/* read samples from the device *\/\n+  \/**\n+   * GstAudioSrcClass::read:\n+   * @data: (type guint8) (array length=length): the sample data\n+   * @timestamp: (out): a #GstClockTime\n+   *\n+   * Read samples from the device.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosrc.h","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -54,1 +54,0 @@\n-      GstCaps *tmp = gst_caps_new_empty ();\n@@ -64,1 +63,1 @@\n-      gst_caps_append_structure_full (tmp, s,\n+      result = gst_caps_merge_structure_full (result, s,\n@@ -66,1 +65,0 @@\n-      result = gst_caps_merge (result, tmp);\n@@ -131,1 +129,2 @@\n-  fcaps = gst_caps_intersect (filter_caps, templ_caps);\n+  fcaps = gst_caps_intersect_full (filter_caps, templ_caps,\n+      GST_CAPS_INTERSECT_FIRST);\n@@ -137,1 +136,2 @@\n-    filter_caps = gst_caps_intersect (fcaps, filter);\n+    filter_caps = gst_caps_intersect_full (fcaps, filter,\n+        GST_CAPS_INTERSECT_FIRST);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioutilsprivate.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1,69 +0,0 @@\n-\/* Convenience header for conditional use of GNU <libintl.h>.\n-   Copyright (C) 1995-1998, 2000-2002 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and\/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301,\n-   USA.  *\/\n-\n-#ifndef _LIBGETTEXT_H\n-#define _LIBGETTEXT_H 1\n-\n-\/* NLS can be disabled through the configure --disable-nls option.  *\/\n-#if defined (ENABLE_NLS) && ENABLE_NLS\n-\n-\/* Get declarations of GNU message catalog functions.  *\/\n-# include <libintl.h>\n-\n-#else\n-\n-\/* Solaris \/usr\/include\/locale.h includes \/usr\/include\/libintl.h, which\n-   chokes if dcgettext is defined as a macro.  So include it now, to make\n-   later inclusions of <locale.h> a NOP.  We don't include <libintl.h>\n-   as well because people using \"gettext.h\" will not include <libintl.h>,\n-   and also including <libintl.h> would fail on SunOS 4, whereas <locale.h>\n-   is OK.  *\/\n-#if defined(__sun)\n-# include <locale.h>\n-#endif\n-\n-\/* Disabled NLS.\n-   The casts to 'const char *' serve the purpose of producing warnings\n-   for invalid uses of the value returned from these functions.\n-   On pre-ANSI systems without 'const', the config.h file is supposed to\n-   contain \"#define const\".  *\/\n-# define gettext(Msgid) ((const char *) (Msgid))\n-# define dgettext(Domainname, Msgid) ((const char *) (Msgid))\n-# define dcgettext(Domainname, Msgid, Category) ((const char *) (Msgid))\n-# define ngettext(Msgid1, Msgid2, N) \\\n-    ((N) == 1 ? (const char *) (Msgid1) : (const char *) (Msgid2))\n-# define dngettext(Domainname, Msgid1, Msgid2, N) \\\n-    ((N) == 1 ? (const char *) (Msgid1) : (const char *) (Msgid2))\n-# define dcngettext(Domainname, Msgid1, Msgid2, N, Category) \\\n-    ((N) == 1 ? (const char *) (Msgid1) : (const char *) (Msgid2))\n-# define textdomain(Domainname) ((const char *) (Domainname))\n-# define bindtextdomain(Domainname, Dirname) ((const char *) (Dirname))\n-# define bind_textdomain_codeset(Domainname, Codeset) ((const char *) (Codeset))\n-\n-#endif\n-\n-\/* A pseudo function call that serves as a marker for the automated\n-   extraction of messages, but does not call gettext().  The run-time\n-   translation is done at a different place in the code.\n-   The argument, String, should be a literal string.  Concatenated strings\n-   and other string expressions won't work.\n-   The macro's expansion is not parenthesized, so that it is suitable as\n-   initializer for static 'char[]' or 'const char[]' variables.  *\/\n-#define gettext_noop(String) String\n-\n-#endif \/* _LIBGETTEXT_H *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/gettext.h","additions":0,"deletions":69,"binary":false,"changes":69,"status":"deleted"},{"patch":"@@ -1,37 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2004 Thomas Vander Stichele <thomas@apestaart.org>\n- *\n- * gst-i18n-plugins.h: internationalization macros for the GStreamer plugins\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-#ifndef __GST_I18N_PLUGIN_H__\n-#define __GST_I18N_PLUGIN_H__\n-\n-#include <locale.h>  \/* some people need it and some people don't *\/\n-#include \"gettext.h\" \/* included with gettext distribution and copied *\/\n-\n-#ifndef GETTEXT_PACKAGE\n-#error You must define GETTEXT_PACKAGE before including this header.\n-#endif\n-\n-\/* we want to use shorthand _() for translating and N_() for marking *\/\n-#define _(String) dgettext (GETTEXT_PACKAGE, String)\n-#define N_(String) gettext_noop (String)\n-\/* FIXME: if we need it, we can add Q_ as well, like in glib *\/\n-\n-#endif \/* __GST_I18N_PLUGIN_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/gst-i18n-plugin.h","additions":0,"deletions":37,"binary":false,"changes":37,"status":"deleted"},{"patch":"@@ -1880,1 +1880,1 @@\n- * Returns: The #GstCaps, or %NULL if the parameters would lead to\n+ * Returns: (transfer full) (nullable): The #GstCaps, or %NULL if the parameters would lead to\n@@ -2046,1 +2046,1 @@\n- * Returns: The #GstCaps.\n+ * Returns: (transfer full) (nullable): The #GstCaps.\n@@ -2106,1 +2106,1 @@\n- * Returns: The #GstBuffer containing the OpusHead.\n+ * Returns: (transfer full) (nullable): The #GstBuffer containing the OpusHead.\n@@ -2468,0 +2468,85 @@\n+\/* https:\/\/www.webmproject.org\/vp9\/mp4\/#codecs-parameter-string *\/\n+static char *\n+vp9_caps_get_mime_codec (GstCaps * caps)\n+{\n+  GstStructure *caps_st;\n+  const char *profile_str, *chroma_format_str, *colorimetry_str;\n+  guint bitdepth_luma, bitdepth_chroma;\n+  guint8 profile = -1, chroma_format = -1, level = -1;\n+  gboolean video_full_range;\n+  GstVideoColorimetry cinfo = { 0, };\n+  GString *codec_string;\n+\n+  caps_st = gst_caps_get_structure (caps, 0);\n+  codec_string = g_string_new (\"vp09\");\n+\n+  profile_str = gst_structure_get_string (caps_st, \"profile\");\n+  if (g_strcmp0 (profile_str, \"0\") == 0) {\n+    profile = 0;\n+  } else if (g_strcmp0 (profile_str, \"1\") == 0) {\n+    profile = 1;\n+  } else if (g_strcmp0 (profile_str, \"2\") == 0) {\n+    profile = 2;\n+  } else if (g_strcmp0 (profile_str, \"3\") == 0) {\n+    profile = 3;\n+  } else {\n+    goto done;\n+  }\n+\n+  \/* XXX: hardcoded level *\/\n+  level = 10;\n+\n+  gst_structure_get (caps_st, \"bit-depth-luma\", G_TYPE_UINT,\n+      &bitdepth_luma, \"bit-depth-chroma\", G_TYPE_UINT, &bitdepth_chroma, NULL);\n+\n+  if (bitdepth_luma == 0)\n+    goto done;\n+  if (bitdepth_luma != bitdepth_chroma)\n+    goto done;\n+\n+  \/* mandatory elements *\/\n+  g_string_append_printf (codec_string, \".%02u.%02u.%02u\", profile, level,\n+      bitdepth_luma);\n+\n+  colorimetry_str = gst_structure_get_string (caps_st, \"colorimetry\");\n+  if (!colorimetry_str)\n+    goto done;\n+  if (!gst_video_colorimetry_from_string (&cinfo, colorimetry_str))\n+    goto done;\n+  video_full_range = cinfo.range == GST_VIDEO_COLOR_RANGE_0_255;\n+\n+  chroma_format_str = gst_structure_get_string (caps_st, \"chroma-format\");\n+  if (g_strcmp0 (chroma_format_str, \"4:2:0\") == 0) {\n+    const char *chroma_site_str;\n+    GstVideoChromaSite chroma_site;\n+\n+    chroma_site_str = gst_structure_get_string (caps_st, \"chroma-site\");\n+    if (chroma_site_str)\n+      chroma_site = gst_video_chroma_site_from_string (chroma_site_str);\n+    else\n+      chroma_site = GST_VIDEO_CHROMA_SITE_UNKNOWN;\n+    if (chroma_site == GST_VIDEO_CHROMA_SITE_V_COSITED) {\n+      chroma_format = 0;\n+    } else if (chroma_site == GST_VIDEO_CHROMA_SITE_COSITED) {\n+      chroma_format = 1;\n+    } else {\n+      chroma_format = 1;\n+    }\n+  } else if (g_strcmp0 (chroma_format_str, \"4:2:2\") == 0) {\n+    chroma_format = 2;\n+  } else if (g_strcmp0 (chroma_format_str, \"4:4:4\") == 0) {\n+    chroma_format = 3;\n+  } else {\n+    goto done;\n+  }\n+\n+  \/* optional but all or nothing *\/\n+  g_string_append_printf (codec_string, \".%02u.%02u.%02u.%02u.%02u\",\n+      chroma_format, gst_video_color_primaries_to_iso (cinfo.primaries),\n+      gst_video_transfer_function_to_iso (cinfo.transfer),\n+      gst_video_color_matrix_to_iso (cinfo.matrix), video_full_range);\n+\n+done:\n+  return g_string_free (codec_string, FALSE);\n+}\n+\n@@ -2534,4 +2619,1 @@\n-    \/* TODO: most browsers won't play the video unless more codec information is\n-     * available in the mime codec for vp9. This is documented in\n-     * https:\/\/www.webmproject.org\/vp9\/mp4\/ *\/\n-    mime_codec = g_strdup (\"vp09\");\n+    mime_codec = vp9_caps_get_mime_codec (caps);\n@@ -2560,0 +2642,240 @@\n+\n+static GstCaps *\n+gst_codec_utils_caps_from_mime_codec_single (const gchar * codec)\n+{\n+  GstCaps *caps = NULL;\n+  gchar **subcodec = NULL;\n+  gchar *subcodec0;\n+  guint32 codec_fourcc;\n+\n+  GST_DEBUG (\"Analyzing codec '%s'\", codec);\n+\n+  \/* rfc 6381 3.3\n+   *\n+   * For the ISO Base Media File Format, and the QuickTime movie file\n+   * format, the first element of a 'codecs' parameter value is a sample\n+   * description entry four-character code as registered by the MP4\n+   * Registration Authority [MP4RA].\n+   *\n+   * See Also : http:\/\/mp4ra.org\/#\/codecs\n+   *\/\n+  if (strlen (codec) < 4) {\n+    GST_WARNING (\"Invalid codec (smaller than 4 characters) : '%s'\", codec);\n+    goto beach;\n+  }\n+\n+  subcodec = g_strsplit (codec, \".\", 0);\n+  subcodec0 = subcodec[0];\n+\n+  if (subcodec0 == NULL)\n+    goto beach;\n+\n+  \/* Skip any leading spaces *\/\n+  while (*subcodec0 == ' ')\n+    subcodec0++;\n+\n+  if (strlen (subcodec0) < 4) {\n+    GST_WARNING (\"Invalid codec (smaller than 4 characters) : '%s'\", subcodec0);\n+    goto beach;\n+  }\n+\n+  GST_LOG (\"subcodec[0] '%s'\", subcodec0);\n+\n+  codec_fourcc = GST_READ_UINT32_LE (subcodec0);\n+  switch (codec_fourcc) {\n+    case GST_MAKE_FOURCC ('a', 'v', 'c', '1'):\n+    case GST_MAKE_FOURCC ('a', 'v', 'c', '2'):\n+    case GST_MAKE_FOURCC ('a', 'v', 'c', '3'):\n+    case GST_MAKE_FOURCC ('a', 'v', 'c', '4'):\n+    {\n+      guint8 sps[3];\n+      guint64 spsint64;\n+\n+      \/* ISO 14496-15 Annex E : Sub-parameters for the MIME type “codecs”\n+       * parameter *\/\n+      caps = gst_caps_new_empty_simple (\"video\/x-h264\");\n+\n+      if (subcodec[1]) {\n+        \/* The second element is the hexadecimal representation of the following\n+         * three bytes in the (subset) sequence parameter set Network\n+         * Abstraction Layer (NAL) unit specified in [AVC]:\n+         * * profile_idc\n+         * * constraint_set flags\n+         * * level_idc\n+         * *\/\n+        spsint64 = g_ascii_strtoull (subcodec[1], NULL, 16);\n+        sps[0] = spsint64 >> 16;\n+        sps[1] = (spsint64 >> 8) & 0xff;\n+        sps[2] = spsint64 & 0xff;\n+        gst_codec_utils_h264_caps_set_level_and_profile (caps,\n+            (const guint8 *) &sps, 3);\n+      }\n+    }\n+      break;\n+    case GST_MAKE_FOURCC ('m', 'p', '4', 'a'):\n+    {\n+      guint64 oti;\n+\n+      if (!subcodec[1])\n+        break;\n+      oti = g_ascii_strtoull (subcodec[1], NULL, 16);\n+      \/* For mp4a, mp4v and mp4s, the second element is the hexadecimal\n+       * representation of the MP4 Registration Authority\n+       * ObjectTypeIndication *\/\n+      switch (oti) {\n+        case 0x40:\n+        {\n+          guint64 audio_oti;\n+          const gchar *profile = NULL;\n+\n+          \/* MPEG-4 Audio (ISO\/IEC 14496-3 *\/\n+          caps =\n+              gst_caps_new_simple (\"audio\/mpeg\", \"mpegversion\", G_TYPE_INT, 4,\n+              NULL);\n+\n+          if (!subcodec[2])\n+            break;\n+          \/* If present, last element is the audio object type *\/\n+          audio_oti = g_ascii_strtoull (subcodec[2], NULL, 16);\n+\n+          switch (audio_oti) {\n+            case 1:\n+              profile = \"main\";\n+              break;\n+            case 2:\n+              profile = \"lc\";\n+              break;\n+            case 3:\n+              profile = \"ssr\";\n+              break;\n+            case 4:\n+              profile = \"ltp\";\n+              break;\n+            default:\n+              GST_WARNING (\"Unhandled MPEG-4 Audio Object Type: 0x%\"\n+                  G_GUINT64_FORMAT \"x\", audio_oti);\n+              break;\n+          }\n+          if (profile)\n+            gst_caps_set_simple (caps, \"profile\", G_TYPE_STRING, profile, NULL);\n+          break;\n+        }\n+        default:\n+          GST_WARNING (\"Unknown ObjectTypeIndication 0x%\" G_GUINT64_FORMAT \"x\",\n+              oti);\n+          break;\n+      }\n+    }\n+      break;\n+    case GST_MAKE_FOURCC ('h', 'e', 'v', '1'):\n+    case GST_MAKE_FOURCC ('h', 'v', 'c', '1'):\n+    {\n+      \/* ISO 14496-15 Annex E : Sub-parameters for the MIME type “codecs”\n+       * parameter *\/\n+      caps = gst_caps_new_empty_simple (\"video\/x-h265\");\n+\n+      \/* FIXME : Extract information from the following component *\/\n+      break;\n+    }\n+      \/* Following are not defined in rfc 6831 but are registered MP4RA codecs *\/\n+    case GST_MAKE_FOURCC ('a', 'c', '-', '3'):\n+      \/* ETSI TS 102 366 v1.4.1 - Digital Audio Compression (AC-3, Enhanced AC-3) Standard, Annex F *\/\n+      caps = gst_caps_new_empty_simple (\"audio\/x-ac3\");\n+      break;\n+    case GST_MAKE_FOURCC ('e', 'c', '+', '3'):\n+      GST_FIXME\n+          (\"Signalling of ATMOS ('ec+3') isn't defined yet. Falling back to EAC3 caps\");\n+      \/* withdrawn, unused, do not use (was enhanced AC-3 audio with JOC) *\/\n+    case GST_MAKE_FOURCC ('e', 'c', '-', '3'):\n+      \/* ETSI TS 102 366 v1.4.1 - Digital Audio Compression (AC-3, Enhanced AC-3) Standard, Annex F *\/\n+      caps = gst_caps_new_empty_simple (\"audio\/x-eac3\");\n+      break;\n+    case GST_MAKE_FOURCC ('s', 't', 'p', 'p'):\n+      \/* IMSC1-conformant TTM XML *\/\n+      caps = gst_caps_new_empty_simple (\"application\/ttml+xml\");\n+      break;\n+    case GST_MAKE_FOURCC ('w', 'v', 't', 't'):\n+      \/* WebVTT subtitles *\/\n+      caps = gst_caps_new_empty_simple (\"application\/x-subtitle-vtt\");\n+      break;\n+    case GST_MAKE_FOURCC ('v', 'p', '0', '8'):\n+      \/* VP8 *\/\n+      caps = gst_caps_new_empty_simple (\"video\/x-vp8\");\n+      break;\n+    case GST_MAKE_FOURCC ('v', 'p', '0', '9'):\n+      \/* VP9 *\/\n+      caps = gst_caps_new_empty_simple (\"video\/x-vp9\");\n+      break;\n+    case GST_MAKE_FOURCC ('a', 'v', '0', '1'):\n+      \/* AV1 *\/\n+      caps = gst_caps_new_empty_simple (\"video\/x-av1\");\n+      break;\n+    case GST_MAKE_FOURCC ('o', 'p', 'u', 's'):\n+      \/* Opus *\/\n+      caps = gst_caps_new_empty_simple (\"audio\/x-opus\");\n+      break;\n+    case GST_MAKE_FOURCC ('u', 'l', 'a', 'w'):\n+      \/* ulaw *\/\n+      caps = gst_caps_new_empty_simple (\"audio\/x-mulaw\");\n+      break;\n+    case GST_MAKE_FOURCC ('g', '7', '2', '6'):\n+      \/* ulaw *\/\n+      caps =\n+          gst_caps_new_simple (\"audio\/x-adpcm\", \"layout\", G_TYPE_STRING, \"g726\",\n+          NULL);\n+      break;\n+    default:\n+      GST_WARNING (\"Unknown codec '%s' please file a bug\", codec);\n+      break;\n+  }\n+\n+beach:\n+  if (subcodec != NULL)\n+    g_strfreev (subcodec);\n+  return caps;\n+}\n+\n+\/**\n+ * gst_codec_utils_caps_from_mime_codec:\n+ * @codecs_field: A mime codec string field\n+ *\n+ * Converts a RFC 6381 compatible codec string to #GstCaps. More than one codec\n+ * string can be present (separated by `,`).\n+ *\n+ * Registered codecs can be found at http:\/\/mp4ra.org\/#\/codecs\n+ *\n+ * Returns: (transfer full) (nullable): The corresponding #GstCaps or %NULL\n+ *\n+ * Since: 1.22\n+ *\/\n+GstCaps *\n+gst_codec_utils_caps_from_mime_codec (const gchar * codecs_field)\n+{\n+  gchar **codecs = NULL;\n+  GstCaps *caps = NULL;\n+  guint i;\n+\n+  g_return_val_if_fail (codecs_field != NULL, NULL);\n+\n+  GST_LOG (\"codecs_field '%s'\", codecs_field);\n+\n+  codecs = g_strsplit (codecs_field, \",\", 0);\n+  if (codecs == NULL) {\n+    GST_WARNING (\"Invalid 'codecs' field : '%s'\", codecs_field);\n+    goto beach;\n+  }\n+\n+  for (i = 0; codecs[i]; i++) {\n+    const gchar *codec = codecs[i];\n+    if (caps == NULL)\n+      caps = gst_codec_utils_caps_from_mime_codec_single (codec);\n+    else\n+      gst_caps_append (caps,\n+          gst_codec_utils_caps_from_mime_codec_single (codec));\n+  }\n+\n+beach:\n+  g_strfreev (codecs);\n+  GST_LOG (\"caps %\" GST_PTR_FORMAT, caps);\n+  return caps;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/codec-utils.c","additions":329,"deletions":7,"binary":false,"changes":336,"status":"modified"},{"patch":"@@ -160,0 +160,2 @@\n+GST_PBUTILS_API\n+GstCaps * gst_codec_utils_caps_from_mime_codec (const gchar *codecs_field);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/codec-utils.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -59,1 +59,2 @@\n-  FLAG_GENERIC = (1 << 7)       \/* format is a generic container (e.g. multipart)     *\/\n+  FLAG_GENERIC = (1 << 7),      \/* format is a generic container (e.g. multipart)     *\/\n+  FLAG_METADATA = (1 << 8),     \/* format is a metadata format, or metadata container\/tag *\/\n@@ -334,1 +335,4 @@\n-  {\"video\/x-tscc\", NULL, FLAG_VIDEO, \"\"}\n+  {\"video\/x-tscc\", NULL, FLAG_VIDEO, \"\"},\n+  \/* metadata *\/\n+  {\"application\/x-onvif-metadata\", \"ONVIF Timed Metadata\", FLAG_METADATA, \"\"},\n+  {\"meta\/x-klv\", \"KLV Metadata\", FLAG_METADATA, \"\"},\n@@ -679,1 +683,1 @@\n-        if (str && strncmp (str, \"MSS\", 3)) {\n+        if (str && !strncmp (str, \"MSS\", 3)) {\n@@ -951,1 +955,1 @@\n- * seen by the user. Should never return NULL unless @protocol is invalid.\n+ * seen by the user.\n@@ -957,1 +961,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: a newly-allocated description string. Free\n@@ -1001,1 +1005,1 @@\n- * seen by the user. Should never return NULL unless @protocol is invalid.\n+ * seen by the user.\n@@ -1007,1 +1011,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: a newly-allocated description string. Free\n@@ -1036,1 +1040,0 @@\n- * Should never return NULL unless @factory_name or @caps are invalid.\n@@ -1042,1 +1045,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: a newly-allocated description string. Free\n@@ -1091,1 +1094,0 @@\n- * Should never return NULL unless @factory_name or @caps are invalid.\n@@ -1097,1 +1099,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: a newly-allocated description string. Free\n@@ -1142,2 +1144,1 @@\n- * error dialogs or other messages to be seen by the user. Should never\n- * return NULL unless @factory_name is invalid.\n+ * error dialogs or other messages to be seen by the user.\n@@ -1149,1 +1150,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: a newly-allocated description string. Free\n@@ -1171,1 +1172,1 @@\n- * @codec_tag: (allow-none): a GStreamer codec tag such as #GST_TAG_AUDIO_CODEC,\n+ * @codec_tag: (nullable): a GStreamer codec tag such as #GST_TAG_AUDIO_CODEC,\n@@ -1230,1 +1231,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: (nullable): a newly-allocated description string, or NULL on error. Free\n@@ -1331,1 +1332,2 @@\n-  return g_strdup (pb_utils_get_file_extension_from_caps (caps));\n+  const gchar *extension = pb_utils_get_file_extension_from_caps (caps);\n+  return extension ? g_strdup (extension) : NULL;\n@@ -1362,1 +1364,1 @@\n-    if ((info->flags | FLAG_CONTAINER))\n+    if ((info->flags & FLAG_CONTAINER))\n@@ -1364,1 +1366,1 @@\n-    if ((info->flags | FLAG_AUDIO))\n+    if ((info->flags & FLAG_AUDIO))\n@@ -1366,1 +1368,1 @@\n-    if ((info->flags | FLAG_VIDEO))\n+    if ((info->flags & FLAG_VIDEO))\n@@ -1368,1 +1370,1 @@\n-    if ((info->flags | FLAG_IMAGE))\n+    if ((info->flags & FLAG_IMAGE))\n@@ -1370,1 +1372,1 @@\n-    if ((info->flags | FLAG_SUB))\n+    if ((info->flags & FLAG_SUB))\n@@ -1372,1 +1374,1 @@\n-    if ((info->flags | FLAG_TAG))\n+    if ((info->flags & FLAG_TAG))\n@@ -1374,1 +1376,1 @@\n-    if ((info->flags | FLAG_GENERIC))\n+    if ((info->flags & FLAG_GENERIC))\n@@ -1376,0 +1378,2 @@\n+    if ((info->flags & FLAG_METADATA))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_METADATA;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/descriptions.c","additions":29,"deletions":25,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -43,0 +43,2 @@\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_METADATA: Caps describe a metadata\n+ *     format, or a container format that can store metadata.\n@@ -57,0 +59,11 @@\n+\n+  \/**\n+   * GST_PBUTILS_CAPS_DESCRIPTION_FLAG_METADATA:\n+   *\n+   * Caps describe a metadata format, or a container format that can store\n+   * metadata.\n+   *\n+   * Since: 1.22\n+   *\/\n+\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_METADATA  = 1 << 7,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/descriptions.h","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1171,1 +1171,2 @@\n-    gst_video_frame_map (&outframe, &scope->vinfo, outbuf, GST_MAP_READWRITE);\n+    gst_video_frame_map (&outframe, &scope->vinfo, outbuf,\n+        GST_MAP_READWRITE | GST_VIDEO_FRAME_MAP_FLAG_NO_REF);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstaudiovisualizer.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -77,0 +77,2 @@\n+\n+  G_OBJECT_CLASS (gst_discoverer_stream_info_parent_class)->finalize (object);\n@@ -183,1 +185,2 @@\n-  gst_discoverer_stream_info_finalize ((GObject *) info);\n+  G_OBJECT_CLASS (gst_discoverer_container_info_parent_class)->finalize\n+      (object);\n@@ -391,0 +394,2 @@\n+\n+  G_OBJECT_CLASS (gst_discoverer_info_parent_class)->finalize (object);\n@@ -508,1 +513,1 @@\n- * Returns: (transfer full) (element-type GstPbutils.DiscovererStreamInfo): A #GList of\n+ * Returns: (transfer full) (element-type GstPbutils.DiscovererAudioInfo): A #GList of\n@@ -524,1 +529,1 @@\n- * Returns: (transfer full) (element-type GstPbutils.DiscovererStreamInfo): A #GList of\n+ * Returns: (transfer full) (element-type GstPbutils.DiscovererVideoInfo): A #GList of\n@@ -540,1 +545,1 @@\n- * Returns: (transfer full) (element-type GstPbutils.DiscovererStreamInfo): A #GList of\n+ * Returns: (transfer full) (element-type GstPbutils.DiscovererSubtitleInfo): A #GList of\n@@ -557,1 +562,1 @@\n- * Returns: (transfer full) (element-type GstPbutils.DiscovererStreamInfo): A #GList of\n+ * Returns: (transfer full) (element-type GstPbutils.DiscovererContainerInfo): A #GList of\n@@ -607,1 +612,1 @@\n- * Returns: (transfer full): the previous #GstDiscovererStreamInfo in a chain.\n+ * Returns: (transfer full) (nullable): the previous #GstDiscovererStreamInfo in a chain.\n@@ -625,1 +630,1 @@\n- * Returns: (transfer full): the next #GstDiscovererStreamInfo in a chain. %NULL\n+ * Returns: (transfer full) (nullable): the next #GstDiscovererStreamInfo in a chain. %NULL\n@@ -644,1 +649,1 @@\n- * Returns: (transfer full): the #GstCaps of the stream. Unref with\n+ * Returns: (transfer full) (nullable): the #GstCaps of the stream. Unref with\n@@ -661,1 +666,1 @@\n- * Returns: (transfer none): the tags contained in this stream. If you wish to\n+ * Returns: (transfer none) (nullable): the tags contained in this stream. If you wish to\n@@ -676,1 +681,1 @@\n- * Returns: (transfer none): the TOC contained in this stream. If you wish to\n+ * Returns: (transfer none) (nullable): the TOC contained in this stream. If you wish to\n@@ -710,1 +715,1 @@\n- * Returns: (transfer none): additional information regarding the stream (for\n+ * Returns: (transfer none) (nullable): additional information regarding the stream (for\n@@ -770,1 +775,1 @@\n- * Returns: (transfer none): tags specific to the given container. If you wish to use\n+ * Returns: (transfer none) (nullable): tags specific to the given container. If you wish to use\n@@ -852,1 +857,1 @@\n- * Returns: the language of the stream, or NULL if unknown.\n+ * Returns: (nullable): the language of the stream, or NULL if unknown.\n@@ -985,1 +990,1 @@\n- * Returns: the language of the stream, or NULL if unknown.\n+ * Returns: (nullable): the language of the stream, or NULL if unknown.\n@@ -1020,1 +1025,1 @@\n- * Returns: (transfer full): the structure (or topology) of the URI as a\n+ * Returns: (transfer full) (nullable): the structure (or topology) of the URI as a\n@@ -1096,1 +1101,1 @@\n- * Returns: (transfer none): Miscellaneous information stored as a #GstStructure\n+ * Returns: (transfer none) (nullable): Miscellaneous information stored as a #GstStructure\n@@ -1107,1 +1112,1 @@\n- * Returns: (transfer none): all tags contained in the URI. If you wish to use\n+ * Returns: (transfer none) (nullable): all tags contained in the URI. If you wish to use\n@@ -1120,1 +1125,1 @@\n- * Returns: (transfer none): TOC contained in the URI. If you wish to use\n+ * Returns: (transfer none) (nullable): TOC contained in the URI. If you wish to use\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer-types.c","additions":23,"deletions":18,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -130,2 +130,0 @@\n-  GType decodebin_type;\n-\n@@ -145,1 +143,0 @@\n-  gulong element_added_id;\n@@ -331,12 +328,0 @@\n-static void\n-uridecodebin_element_added_cb (GstElement * uridecodebin,\n-    GstElement * child, GstDiscoverer * dc)\n-{\n-  GST_DEBUG (\"New element added to uridecodebin : %s\",\n-      GST_ELEMENT_NAME (child));\n-\n-  if (G_OBJECT_TYPE (child) == dc->priv->decodebin_type) {\n-    g_object_set (child, \"post-stream-topology\", TRUE, NULL);\n-  }\n-}\n-\n@@ -346,1 +331,0 @@\n-  GstElement *tmp;\n@@ -375,0 +359,3 @@\n+\n+  g_object_set (dc->priv->uridecodebin, \"post-stream-topology\", TRUE, NULL);\n+\n@@ -400,10 +387,0 @@\n-  \/* This is ugly. We get the GType of decodebin so we can quickly detect\n-   * when a decodebin is added to uridecodebin so we can set the\n-   * post-stream-topology setting to TRUE *\/\n-  dc->priv->element_added_id =\n-      g_signal_connect_object (dc->priv->uridecodebin, \"element-added\",\n-      G_CALLBACK (uridecodebin_element_added_cb), dc, 0);\n-  tmp = gst_element_factory_make (\"decodebin\", NULL);\n-  dc->priv->decodebin_type = G_OBJECT_TYPE (tmp);\n-  gst_object_unref (tmp);\n-\n@@ -450,1 +427,0 @@\n-    DISCONNECT_SIGNAL (dc->priv->uridecodebin, dc->priv->element_added_id);\n@@ -2572,1 +2548,1 @@\n- * @err: (out) (allow-none): If an error occurred, this field will be filled in.\n+ * @err: If an error occurred, this field will be filled in.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer.c","additions":4,"deletions":28,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-#define\tGST_CHECK_PLUGINS_BASE_VERSION(major,minor,micro)\t\\\n+#define GST_CHECK_PLUGINS_BASE_VERSION(major,minor,micro)  \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstpluginsbaseversion.h.in","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,3 +55,0 @@\n-#ifdef HAVE_PROCESS_H\n-# include <process.h>           \/* getpid on win32 *\/\n-#endif\n@@ -59,1 +56,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -66,0 +63,6 @@\n+#ifdef G_OS_WIN32\n+#define WIN32_LEAN_AND_MEAN\n+#include <windows.h>\n+#include <processthreadsapi.h>\n+#endif\n+\n@@ -87,0 +90,16 @@\n+\/* use glib's abstraction once it's landed\n+ * https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/merge_requests\/2475 *\/\n+#ifdef G_OS_WIN32\n+static inline DWORD\n+_gst_getpid (void)\n+{\n+  return GetCurrentProcessId ();\n+}\n+#else\n+static inline pid_t\n+_gst_getpid (void)\n+{\n+  return getpid ();\n+}\n+#endif\n+\n@@ -189,1 +208,1 @@\n- * Returns: (transfer full): a new #GstMessage, or NULL on error\n+ * Returns: (transfer full): a new #GstMessage\n@@ -222,1 +241,1 @@\n- * Returns: (transfer full): a new #GstMessage, or NULL on error\n+ * Returns: (transfer full): a new #GstMessage\n@@ -254,1 +273,1 @@\n- * Returns: (transfer full): a new #GstMessage, or NULL on error\n+ * Returns: (transfer full): a new #GstMessage\n@@ -286,1 +305,1 @@\n- * Returns: (transfer full): a new #GstMessage, or NULL on error\n+ * Returns: (transfer full): a new #GstMessage\n@@ -326,1 +345,1 @@\n- * Returns: (transfer full): a new #GstMessage, or NULL on error\n+ * Returns: (transfer full): a new #GstMessage\n@@ -417,1 +436,1 @@\n- * Returns: a newly-allocated detail string, or NULL on error. Free string\n+ * Returns: (nullable): a newly-allocated detail string, or NULL on error. Free string\n@@ -453,1 +472,1 @@\n-    g_string_append_printf (str, \"pid\/%lu|\", (gulong) getpid ());\n+    g_string_append_printf (str, \"pid\/%lu|\", (gulong) _gst_getpid ());\n@@ -514,1 +533,1 @@\n- * Returns: a newly-allocated description string, or NULL on error. Free\n+ * Returns: a newly-allocated description string. Free\n@@ -645,1 +664,1 @@\n-    g_string_append_printf (s, \"pid\/%lu|\", (gulong) getpid ());\n+    g_string_append_printf (s, \"pid\/%lu|\", (gulong) _gst_getpid ());\n@@ -675,1 +694,1 @@\n- * Returns: a newly-allocated detail string, or NULL on error. Free string\n+ * Returns: (transfer full): a newly-allocated detail string. Free string\n@@ -703,1 +722,1 @@\n- * Returns: a newly-allocated detail string, or NULL on error. Free string\n+ * Returns: (transfer full): a newly-allocated detail string. Free string\n@@ -731,1 +750,1 @@\n- * Returns: a newly-allocated detail string, or NULL on error. Free string\n+ * Returns: (transfer full): a newly-allocated detail string. Free string\n@@ -758,1 +777,1 @@\n- * Returns: a newly-allocated detail string, or NULL on error. Free string\n+ * Returns: (transfer full): a newly-allocated detail string. Free string\n@@ -796,1 +815,1 @@\n- * Returns: a newly-allocated detail string, or NULL on error. Free string\n+ * Returns: (transfer full): a newly-allocated detail string. Free string\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/missing-plugins.c","additions":37,"deletions":18,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -175,1 +175,3 @@\n-      caps = gst_caps_new_empty_simple (\"image\/jpeg\");\n+      caps =\n+          gst_caps_new_simple (\"image\/jpeg\", \"parsed\", G_TYPE_BOOLEAN, TRUE,\n+          NULL);\n@@ -183,1 +185,3 @@\n-      caps = gst_caps_new_empty_simple (\"image\/jpeg\");\n+      caps =\n+          gst_caps_new_simple (\"image\/jpeg\", \"parsed\", G_TYPE_BOOLEAN, TRUE,\n+          NULL);\n@@ -191,1 +195,3 @@\n-      caps = gst_caps_new_empty_simple (\"image\/jpeg\");\n+      caps =\n+          gst_caps_new_simple (\"image\/jpeg\", \"parsed\", G_TYPE_BOOLEAN, TRUE,\n+          NULL);\n@@ -197,1 +203,3 @@\n-      caps = gst_caps_new_empty_simple (\"image\/jpeg\");\n+      caps =\n+          gst_caps_new_simple (\"image\/jpeg\", \"parsed\", G_TYPE_BOOLEAN, TRUE,\n+          NULL);\n@@ -203,1 +211,3 @@\n-      caps = gst_caps_new_empty_simple (\"image\/jpeg\");\n+      caps =\n+          gst_caps_new_simple (\"image\/jpeg\", \"parsed\", G_TYPE_BOOLEAN, TRUE,\n+          NULL);\n@@ -209,1 +219,3 @@\n-      caps = gst_caps_new_empty_simple (\"image\/jpeg\");\n+      caps =\n+          gst_caps_new_simple (\"image\/jpeg\", \"parsed\", G_TYPE_BOOLEAN, TRUE,\n+          NULL);\n@@ -1758,0 +1770,1 @@\n+              gchar *tmp = *codec_name;\n@@ -1759,1 +1772,2 @@\n-              *codec_name = g_strjoin (\"wavext \", *codec_name, NULL);\n+              *codec_name = g_strjoin (\"wavext \", tmp, NULL);\n+              g_free (tmp);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/riff\/riff-media.c","additions":21,"deletions":7,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n- * Returns: The corresponding GStreamer tag or NULL if none exists.\n+ * Returns: (nullable): The corresponding GStreamer tag or NULL if none exists.\n@@ -193,1 +193,1 @@\n- * Returns: The corresponding GStreamer tag or NULL if none exists.\n+ * Returns: (nullable): The corresponding GStreamer tag or NULL if none exists.\n@@ -225,1 +225,1 @@\n- * Returns: The corresponding ID3v2 tag or NULL if none exists.\n+ * Returns: (nullable): The corresponding ID3v2 tag or NULL if none exists.\n@@ -268,1 +268,1 @@\n- * Returns: A new tag list or NULL if the data was not an ID3v1 tag.\n+ * Returns: (transfer full) (nullable): A new tag list or NULL if the data was not an ID3v1 tag.\n@@ -331,1 +331,1 @@\n- * Returns: the genre or NULL if no genre is associated with that ID.\n+ * Returns: (nullable): the genre or NULL if no genre is associated with that ID.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/gstid3tag.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n@@ -105,0 +105,1 @@\n+  guint32 segment_seqnum;\n@@ -268,0 +269,1 @@\n+  tagdemux->priv->segment_seqnum = gst_util_seqnum_next ();\n@@ -772,0 +774,1 @@\n+      demux->priv->segment_seqnum = gst_event_get_seqnum (event);\n@@ -1881,0 +1884,1 @@\n+    gst_event_set_seqnum (event, tagdemux->priv->segment_seqnum);\n@@ -1937,0 +1941,1 @@\n+  gst_event_set_seqnum (event, tagdemux->priv->segment_seqnum);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/gsttagdemux.c","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n- * Returns: A new #GstTagList with all tags that could be extracted from the\n+ * Returns: (transfer full) (nullable): A new #GstTagList with all tags that could be extracted from the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/id3v2.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n@@ -267,1 +267,1 @@\n- * Returns: (transfer full): NULL-terminated string array with two-letter\n+ * Returns: (transfer full) (array zero-terminated=1): NULL-terminated string array with two-letter\n@@ -315,1 +315,1 @@\n- * Returns: language name in UTF-8 format, or NULL if @language_code could\n+ * Returns: (nullable): language name in UTF-8 format, or NULL if @language_code could\n@@ -348,1 +348,1 @@\n- * Returns: two-letter ISO-639-1 language code string that maps to @lang_code,\n+ * Returns: (nullable): two-letter ISO-639-1 language code string that maps to @lang_code,\n@@ -432,1 +432,1 @@\n- * Returns: three-letter ISO-639-2 language code string that maps to @lang_code,\n+ * Returns: (nullable): three-letter ISO-639-2 language code string that maps to @lang_code,\n@@ -466,1 +466,1 @@\n- * Returns: three-letter ISO-639-2 language code string that maps to @lang_code,\n+ * Returns: (nullable): three-letter ISO-639-2 language code string that maps to @lang_code,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/lang.c","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n@@ -333,1 +333,1 @@\n- * Returns: a newly-allocated string in UTF-8 encoding, or NULL\n+ * Returns: (nullable): a newly-allocated string in UTF-8 encoding, or NULL\n@@ -519,1 +519,1 @@\n- * Returns: a newly-allocated image sample for use in tag lists, or NULL\n+ * Returns: (transfer full) (nullable): a newly-allocated image sample for use in tag lists, or NULL\n@@ -533,1 +533,2 @@\n-  g_return_val_if_fail (image_data_len > 0, NULL);\n+  g_return_val_if_fail (image_data_len > 0\n+      || image_data_len == G_MAXUINT32, NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/tags.c","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -27,0 +27,3 @@\n+#ifdef HAVE_GL\n+#include <gst\/gl\/gstglmemory.h>\n+#endif\n@@ -113,0 +116,76 @@\n+static GstElement *\n+build_convert_frame_pipeline_d3d11 (GstElement ** src_element,\n+    GstElement ** sink_element, GstCaps * from_caps, GstCaps * to_caps,\n+    GError ** err)\n+{\n+  GstElement *pipeline = NULL;\n+  GstElement *appsrc = NULL;\n+  GstElement *d3d11_convert = NULL;\n+  GstElement *d3d11_download = NULL;\n+  GstElement *convert = NULL;\n+  GstElement *enc = NULL;\n+  GstElement *appsink = NULL;\n+  GError *error = NULL;\n+\n+  if (!create_element (\"appsrc\", &appsrc, &error) ||\n+      !create_element (\"d3d11convert\", &d3d11_convert, &error) ||\n+      !create_element (\"d3d11download\", &d3d11_download, &error) ||\n+      !create_element (\"videoconvert\", &convert, &error) ||\n+      !create_element (\"appsink\", &appsink, &error)) {\n+    GST_ERROR (\"Could not create element\");\n+    goto failed;\n+  }\n+\n+  if (caps_are_raw (to_caps)) {\n+    if (!create_element (\"identity\", &enc, &error)) {\n+      GST_ERROR (\"Could not create identity element\");\n+      goto failed;\n+    }\n+  } else {\n+    enc = get_encoder (to_caps, &error);\n+    if (!enc) {\n+      GST_ERROR (\"Could not create encoder\");\n+      goto failed;\n+    }\n+  }\n+\n+  g_object_set (appsrc, \"caps\", from_caps, \"emit-signals\", TRUE,\n+      \"format\", GST_FORMAT_TIME, NULL);\n+  g_object_set (appsink, \"caps\", to_caps, \"emit-signals\", TRUE, NULL);\n+\n+  pipeline = gst_pipeline_new (\"d3d11-convert-frame-pipeline\");\n+  gst_bin_add_many (GST_BIN (pipeline), appsrc, d3d11_convert, d3d11_download,\n+      convert, enc, appsink, NULL);\n+\n+  if (!gst_element_link_many (appsrc,\n+          d3d11_convert, d3d11_download, convert, enc, appsink, NULL)) {\n+    \/* Now pipeline takes ownership of all elements, so only top-level\n+     * pipeline should be cleared *\/\n+    appsrc = d3d11_convert = convert = enc = appsink = NULL;\n+\n+    error = g_error_new (GST_CORE_ERROR, GST_CORE_ERROR_NEGOTIATION,\n+        \"Could not configure pipeline for conversion\");\n+  }\n+\n+  *src_element = appsrc;\n+  *sink_element = appsink;\n+\n+  return pipeline;\n+\n+failed:\n+  if (err)\n+    *err = error;\n+  else\n+    g_clear_error (&error);\n+\n+  gst_clear_object (&pipeline);\n+  gst_clear_object (&appsrc);\n+  gst_clear_object (&d3d11_convert);\n+  gst_clear_object (&d3d11_download);\n+  gst_clear_object (&convert);\n+  gst_clear_object (&enc);\n+  gst_clear_object (&appsink);\n+\n+  return NULL;\n+}\n+\n@@ -115,2 +194,2 @@\n-    GstElement ** sink_element, const GstCaps * from_caps,\n-    GstVideoCropMeta * cmeta, const GstCaps * to_caps, GError ** err)\n+    GstElement ** sink_element, GstCaps * from_caps,\n+    GstVideoCropMeta * cmeta, GstCaps * to_caps, GError ** err)\n@@ -120,0 +199,1 @@\n+  GstElement *dl = NULL;\n@@ -122,0 +202,13 @@\n+  GstCapsFeatures *features;\n+\n+  features = gst_caps_get_features (from_caps, 0);\n+  if (features && gst_caps_features_contains (features, \"memory:D3D11Memory\")) {\n+    return build_convert_frame_pipeline_d3d11 (src_element, sink_element,\n+        from_caps, to_caps, err);\n+  }\n+#ifdef HAVE_GL\n+  if (features &&\n+      gst_caps_features_contains (features, GST_CAPS_FEATURE_MEMORY_GL_MEMORY))\n+    if (!create_element (\"gldownload\", &dl, &error))\n+      goto no_elements;\n+#endif\n@@ -153,0 +246,2 @@\n+  if (dl)\n+    gst_bin_add (GST_BIN (pipeline), dl);\n@@ -171,3 +266,13 @@\n-    GST_DEBUG (\"linking src->csp2\");\n-    if (!gst_element_link_pads (src, \"src\", csp2, \"sink\"))\n-      goto link_failed;\n+    if (!dl) {\n+      GST_DEBUG (\"linking src->csp2\");\n+      if (!gst_element_link_pads (src, \"src\", csp2, \"sink\"))\n+        goto link_failed;\n+    } else {\n+      GST_DEBUG (\"linking src->dl\");\n+      if (!gst_element_link_pads (src, \"src\", dl, \"sink\"))\n+        goto link_failed;\n+\n+      GST_DEBUG (\"linking dl->csp2\");\n+      if (!gst_element_link_pads (dl, \"src\", csp2, \"sink\"))\n+        goto link_failed;\n+    }\n@@ -184,2 +289,12 @@\n-    if (!gst_element_link_pads (src, \"src\", csp, \"sink\"))\n-      goto link_failed;\n+    if (!dl) {\n+      if (!gst_element_link_pads (src, \"src\", csp, \"sink\"))\n+        goto link_failed;\n+    } else {\n+      GST_DEBUG (\"linking src->dl\");\n+      if (!gst_element_link_pads (src, \"src\", dl, \"sink\"))\n+        goto link_failed;\n+\n+      GST_DEBUG (\"linking dl->csp\");\n+      if (!gst_element_link_pads (dl, \"src\", csp, \"sink\"))\n+        goto link_failed;\n+    }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/convertframe.c","additions":122,"deletions":7,"binary":false,"changes":129,"status":"modified"},{"patch":"@@ -1,5358 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2008 David Schleef <ds@schleef.org>\n- * Copyright (C) 2011 Mark Nauwelaerts <mark.nauwelaerts@collabora.co.uk>.\n- * Copyright (C) 2011 Nokia Corporation. All rights reserved.\n- *   Contact: Stefan Kost <stefan.kost@nokia.com>\n- * Copyright (C) 2012 Collabora Ltd.\n- *  Author : Edward Hervey <edward@collabora.com>\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-\/**\n- * SECTION:gstvideodecoder\n- * @title: GstVideoDecoder\n- * @short_description: Base class for video decoders\n- *\n- * This base class is for video decoders turning encoded data into raw video\n- * frames.\n- *\n- * The GstVideoDecoder base class and derived subclasses should cooperate as\n- * follows:\n- *\n- * ## Configuration\n- *\n- *   * Initially, GstVideoDecoder calls @start when the decoder element\n- *     is activated, which allows the subclass to perform any global setup.\n- *\n- *   * GstVideoDecoder calls @set_format to inform the subclass of caps\n- *     describing input video data that it is about to receive, including\n- *     possibly configuration data.\n- *     While unlikely, it might be called more than once, if changing input\n- *     parameters require reconfiguration.\n- *\n- *   * Incoming data buffers are processed as needed, described in Data\n- *     Processing below.\n- *\n- *   * GstVideoDecoder calls @stop at end of all processing.\n- *\n- * ## Data processing\n- *\n- *   * The base class gathers input data, and optionally allows subclass\n- *     to parse this into subsequently manageable chunks, typically\n- *     corresponding to and referred to as 'frames'.\n- *\n- *   * Each input frame is provided in turn to the subclass' @handle_frame\n- *     callback.\n- *   * When the subclass enables the subframe mode with `gst_video_decoder_set_subframe_mode`,\n- *     the base class will provide to the subclass the same input frame with\n- *     different input buffers to the subclass @handle_frame\n- *     callback. During this call, the subclass needs to take\n- *     ownership of the input_buffer as @GstVideoCodecFrame.input_buffer\n- *     will have been changed before the next subframe buffer is received.\n- *     The subclass will call `gst_video_decoder_have_last_subframe`\n- *     when a new input frame can be created by the base class.\n- *     Every subframe will share the same @GstVideoCodecFrame.output_buffer\n- *     to write the decoding result. The subclass is responsible to protect\n- *     its access.\n- *\n- *   * If codec processing results in decoded data, the subclass should call\n- *     @gst_video_decoder_finish_frame to have decoded data pushed\n- *     downstream. In subframe mode\n- *     the subclass should call @gst_video_decoder_finish_subframe until the\n- *     last subframe where it should call @gst_video_decoder_finish_frame.\n- *     The subclass can detect the last subframe using GST_VIDEO_BUFFER_FLAG_MARKER\n- *     on buffers or using its own logic to collect the subframes.\n- *     In case of decoding failure, the subclass must call\n- *     @gst_video_decoder_drop_frame or @gst_video_decoder_drop_subframe,\n- *     to allow the base class to do timestamp and offset tracking, and possibly\n- *     to requeue the frame for a later attempt in the case of reverse playback.\n- *\n- * ## Shutdown phase\n- *\n- *   * The GstVideoDecoder class calls @stop to inform the subclass that data\n- *     parsing will be stopped.\n- *\n- * ## Additional Notes\n- *\n- *   * Seeking\/Flushing\n- *\n- *     * When the pipeline is seeked or otherwise flushed, the subclass is\n- *       informed via a call to its @reset callback, with the hard parameter\n- *       set to true. This indicates the subclass should drop any internal data\n- *       queues and timestamps and prepare for a fresh set of buffers to arrive\n- *       for parsing and decoding.\n- *\n- *   * End Of Stream\n- *\n- *     * At end-of-stream, the subclass @parse function may be called some final\n- *       times with the at_eos parameter set to true, indicating that the element\n- *       should not expect any more data to be arriving, and it should parse and\n- *       remaining frames and call gst_video_decoder_have_frame() if possible.\n- *\n- * The subclass is responsible for providing pad template caps for\n- * source and sink pads. The pads need to be named \"sink\" and \"src\". It also\n- * needs to provide information about the output caps, when they are known.\n- * This may be when the base class calls the subclass' @set_format function,\n- * though it might be during decoding, before calling\n- * @gst_video_decoder_finish_frame. This is done via\n- * @gst_video_decoder_set_output_state\n- *\n- * The subclass is also responsible for providing (presentation) timestamps\n- * (likely based on corresponding input ones).  If that is not applicable\n- * or possible, the base class provides limited framerate based interpolation.\n- *\n- * Similarly, the base class provides some limited (legacy) seeking support\n- * if specifically requested by the subclass, as full-fledged support\n- * should rather be left to upstream demuxer, parser or alike.  This simple\n- * approach caters for seeking and duration reporting using estimated input\n- * bitrates. To enable it, a subclass should call\n- * @gst_video_decoder_set_estimate_rate to enable handling of incoming\n- * byte-streams.\n- *\n- * The base class provides some support for reverse playback, in particular\n- * in case incoming data is not packetized or upstream does not provide\n- * fragments on keyframe boundaries.  However, the subclass should then be\n- * prepared for the parsing and frame processing stage to occur separately\n- * (in normal forward processing, the latter immediately follows the former),\n- * The subclass also needs to ensure the parsing stage properly marks\n- * keyframes, unless it knows the upstream elements will do so properly for\n- * incoming data.\n- *\n- * The bare minimum that a functional subclass needs to implement is:\n- *\n- *   * Provide pad templates\n- *   * Inform the base class of output caps via\n- *      @gst_video_decoder_set_output_state\n- *\n- *   * Parse input data, if it is not considered packetized from upstream\n- *      Data will be provided to @parse which should invoke\n- *      @gst_video_decoder_add_to_frame and @gst_video_decoder_have_frame to\n- *      separate the data belonging to each video frame.\n- *\n- *   * Accept data in @handle_frame and provide decoded results to\n- *      @gst_video_decoder_finish_frame, or call @gst_video_decoder_drop_frame.\n- *\/\n-\n-#ifdef HAVE_CONFIG_H\n-#include \"config.h\"\n-#endif\n-\n-\/* TODO\n- *\n- * * Add a flag\/boolean for I-frame-only\/image decoders so we can do extra\n- *   features, like applying QoS on input (as opposed to after the frame is\n- *   decoded).\n- * * Add a flag\/boolean for decoders that require keyframes, so the base\n- *   class can automatically discard non-keyframes before one has arrived\n- * * Detect reordered frame\/timestamps and fix the pts\/dts\n- * * Support for GstIndex (or shall we not care ?)\n- * * Calculate actual latency based on input\/output timestamp\/frame_number\n- *   and if it exceeds the recorded one, save it and emit a GST_MESSAGE_LATENCY\n- * * Emit latency message when it changes\n- *\n- *\/\n-\n-\/* Implementation notes:\n- * The Video Decoder base class operates in 2 primary processing modes, depending\n- * on whether forward or reverse playback is requested.\n- *\n- * Forward playback:\n- *   * Incoming buffer -> @parse() -> add_to_frame()\/have_frame() ->\n- *     handle_frame() -> push downstream\n- *\n- * Reverse playback is more complicated, since it involves gathering incoming\n- * data regions as we loop backwards through the upstream data. The processing\n- * concept (using incoming buffers as containing one frame each to simplify\n- * things) is:\n- *\n- * Upstream data we want to play:\n- *  Buffer encoded order:  1  2  3  4  5  6  7  8  9  EOS\n- *  Keyframe flag:            K        K\n- *  Groupings:             AAAAAAA  BBBBBBB  CCCCCCC\n- *\n- * Input:\n- *  Buffer reception order:  7  8  9  4  5  6  1  2  3  EOS\n- *  Keyframe flag:                       K        K\n- *  Discont flag:            D        D        D\n- *\n- * - Each Discont marks a discont in the decoding order.\n- * - The keyframes mark where we can start decoding.\n- *\n- * Initially, we prepend incoming buffers to the gather queue. Whenever the\n- * discont flag is set on an incoming buffer, the gather queue is flushed out\n- * before the new buffer is collected.\n- *\n- * The above data will be accumulated in the gather queue like this:\n- *\n- *   gather queue:  9  8  7\n- *                        D\n- *\n- * When buffer 4 is received (with a DISCONT), we flush the gather queue like\n- * this:\n- *\n- *   while (gather)\n- *     take head of queue and prepend to parse queue (this reverses the\n- *     sequence, so parse queue is 7 -> 8 -> 9)\n- *\n- *   Next, we process the parse queue, which now contains all un-parsed packets\n- *   (including any leftover ones from the previous decode section)\n- *\n- *   for each buffer now in the parse queue:\n- *     Call the subclass parse function, prepending each resulting frame to\n- *     the parse_gather queue. Buffers which precede the first one that\n- *     produces a parsed frame are retained in the parse queue for\n- *     re-processing on the next cycle of parsing.\n- *\n- *   The parse_gather queue now contains frame objects ready for decoding,\n- *   in reverse order.\n- *   parse_gather: 9 -> 8 -> 7\n- *\n- *   while (parse_gather)\n- *     Take the head of the queue and prepend it to the decode queue\n- *     If the frame was a keyframe, process the decode queue\n- *   decode is now 7-8-9\n- *\n- *  Processing the decode queue results in frames with attached output buffers\n- *  stored in the 'output_queue' ready for outputting in reverse order.\n- *\n- * After we flushed the gather queue and parsed it, we add 4 to the (now empty)\n- * gather queue. We get the following situation:\n- *\n- *  gather queue:    4\n- *  decode queue:    7  8  9\n- *\n- * After we received 5 (Keyframe) and 6:\n- *\n- *  gather queue:    6  5  4\n- *  decode queue:    7  8  9\n- *\n- * When we receive 1 (DISCONT) which triggers a flush of the gather queue:\n- *\n- *   Copy head of the gather queue (6) to decode queue:\n- *\n- *    gather queue:    5  4\n- *    decode queue:    6  7  8  9\n- *\n- *   Copy head of the gather queue (5) to decode queue. This is a keyframe so we\n- *   can start decoding.\n- *\n- *    gather queue:    4\n- *    decode queue:    5  6  7  8  9\n- *\n- *   Decode frames in decode queue, store raw decoded data in output queue, we\n- *   can take the head of the decode queue and prepend the decoded result in the\n- *   output queue:\n- *\n- *    gather queue:    4\n- *    decode queue:\n- *    output queue:    9  8  7  6  5\n- *\n- *   Now output all the frames in the output queue, picking a frame from the\n- *   head of the queue.\n- *\n- *   Copy head of the gather queue (4) to decode queue, we flushed the gather\n- *   queue and can now store input buffer in the gather queue:\n- *\n- *    gather queue:    1\n- *    decode queue:    4\n- *\n- *  When we receive EOS, the queue looks like:\n- *\n- *    gather queue:    3  2  1\n- *    decode queue:    4\n- *\n- *  Fill decode queue, first keyframe we copy is 2:\n- *\n- *    gather queue:    1\n- *    decode queue:    2  3  4\n- *\n- *  Decoded output:\n- *\n- *    gather queue:    1\n- *    decode queue:\n- *    output queue:    4  3  2\n- *\n- *  Leftover buffer 1 cannot be decoded and must be discarded.\n- *\/\n-\n-#include \"gstvideodecoder.h\"\n-#include \"gstvideoutils.h\"\n-#include \"gstvideoutilsprivate.h\"\n-\n-#include <gst\/video\/video.h>\n-#include <gst\/video\/video-event.h>\n-#include <gst\/video\/gstvideopool.h>\n-#include <gst\/video\/gstvideometa.h>\n-#include <string.h>\n-\n-#ifdef GSTREAMER_LITE\n-#include \"gst\/glib-compat-private.h\"\n-#endif \/\/ GSTREAMER_LITE\n-\n-GST_DEBUG_CATEGORY (videodecoder_debug);\n-#define GST_CAT_DEFAULT videodecoder_debug\n-\n-\/* properties *\/\n-#define DEFAULT_QOS                 TRUE\n-#define DEFAULT_MAX_ERRORS          GST_VIDEO_DECODER_MAX_ERRORS\n-#define DEFAULT_MIN_FORCE_KEY_UNIT_INTERVAL 0\n-#define DEFAULT_DISCARD_CORRUPTED_FRAMES FALSE\n-#define DEFAULT_AUTOMATIC_REQUEST_SYNC_POINTS FALSE\n-#define DEFAULT_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS (GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT | GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT)\n-\n-\/* Used for request_sync_point_frame_number. These are out of range for the\n- * frame numbers and can be given special meaning *\/\n-#define REQUEST_SYNC_POINT_PENDING G_MAXUINT + 1\n-#define REQUEST_SYNC_POINT_UNSET G_MAXUINT64\n-\n-enum\n-{\n-  PROP_0,\n-  PROP_QOS,\n-  PROP_MAX_ERRORS,\n-  PROP_MIN_FORCE_KEY_UNIT_INTERVAL,\n-  PROP_DISCARD_CORRUPTED_FRAMES,\n-  PROP_AUTOMATIC_REQUEST_SYNC_POINTS,\n-  PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS,\n-};\n-\n-struct _GstVideoDecoderPrivate\n-{\n-  \/* FIXME introduce a context ? *\/\n-\n-  GstBufferPool *pool;\n-  GstAllocator *allocator;\n-  GstAllocationParams params;\n-\n-  \/* parse tracking *\/\n-  \/* input data *\/\n-  GstAdapter *input_adapter;\n-  \/* assembles current frame *\/\n-  GstAdapter *output_adapter;\n-\n-  \/* Whether we attempt to convert newsegment from bytes to\n-   * time using a bitrate estimation *\/\n-  gboolean do_estimate_rate;\n-\n-  \/* Whether input is considered packetized or not *\/\n-  gboolean packetized;\n-\n-  \/* whether input is considered as subframes *\/\n-  gboolean subframe_mode;\n-\n-  \/* Error handling *\/\n-  gint max_errors;\n-  gint error_count;\n-  gboolean had_output_data;\n-  gboolean had_input_data;\n-\n-  gboolean needs_format;\n-  \/* input_segment are output_segment identical *\/\n-  gboolean in_out_segment_sync;\n-\n-  \/* TRUE if we have an active set of instant rate flags *\/\n-  gboolean decode_flags_override;\n-  GstSegmentFlags decode_flags;\n-\n-  \/* ... being tracked here;\n-   * only available during parsing or when doing subframe decoding *\/\n-  GstVideoCodecFrame *current_frame;\n-  \/* events that should apply to the current frame *\/\n-  \/* FIXME 2.0: Use a GQueue or similar, see GstVideoCodecFrame::events *\/\n-  GList *current_frame_events;\n-  \/* events that should be pushed before the next frame *\/\n-  \/* FIXME 2.0: Use a GQueue or similar, see GstVideoCodecFrame::events *\/\n-  GList *pending_events;\n-\n-  \/* relative offset of input data *\/\n-  guint64 input_offset;\n-  \/* relative offset of frame *\/\n-  guint64 frame_offset;\n-  \/* tracking ts and offsets *\/\n-  GQueue timestamps;\n-\n-  \/* last outgoing ts *\/\n-  GstClockTime last_timestamp_out;\n-  \/* incoming pts - dts *\/\n-  GstClockTime pts_delta;\n-  gboolean reordered_output;\n-\n-  \/* FIXME: Consider using a GQueue or other better fitting data structure *\/\n-  \/* reverse playback *\/\n-  \/* collect input *\/\n-  GList *gather;\n-  \/* to-be-parsed *\/\n-  GList *parse;\n-  \/* collected parsed frames *\/\n-  GList *parse_gather;\n-  \/* frames to be handled == decoded *\/\n-  GList *decode;\n-  \/* collected output - of buffer objects, not frames *\/\n-  GList *output_queued;\n-\n-\n-  \/* base_picture_number is the picture number of the reference picture *\/\n-  guint64 base_picture_number;\n-  \/* combine with base_picture_number, framerate and calcs to yield (presentation) ts *\/\n-  GstClockTime base_timestamp;\n-\n-  \/* Properties *\/\n-  GstClockTime min_force_key_unit_interval;\n-  gboolean discard_corrupted_frames;\n-\n-  \/* Key unit related state *\/\n-  gboolean needs_sync_point;\n-  GstVideoDecoderRequestSyncPointFlags request_sync_point_flags;\n-  guint64 request_sync_point_frame_number;\n-  GstClockTime last_force_key_unit_time;\n-  \/* -1 if we saw no sync point yet *\/\n-  guint64 distance_from_sync;\n-\n-  gboolean automatic_request_sync_points;\n-  GstVideoDecoderRequestSyncPointFlags automatic_request_sync_point_flags;\n-\n-  guint32 system_frame_number;\n-  guint32 decode_frame_number;\n-\n-  GQueue frames;                \/* Protected with OBJECT_LOCK *\/\n-  GstVideoCodecState *input_state;\n-  GstVideoCodecState *output_state;     \/* OBJECT_LOCK and STREAM_LOCK *\/\n-  gboolean output_state_changed;\n-\n-  \/* QoS properties *\/\n-  gboolean do_qos;\n-  gdouble proportion;           \/* OBJECT_LOCK *\/\n-  GstClockTime earliest_time;   \/* OBJECT_LOCK *\/\n-  GstClockTime qos_frame_duration;      \/* OBJECT_LOCK *\/\n-  gboolean discont;\n-  \/* qos messages: frames dropped\/processed *\/\n-  guint dropped;\n-  guint processed;\n-\n-  \/* Outgoing byte size ? *\/\n-  gint64 bytes_out;\n-  gint64 time;\n-\n-  gint64 min_latency;\n-  gint64 max_latency;\n-\n-  \/* upstream stream tags (global tags are passed through as-is) *\/\n-  GstTagList *upstream_tags;\n-\n-  \/* subclass tags *\/\n-  GstTagList *tags;\n-  GstTagMergeMode tags_merge_mode;\n-\n-  gboolean tags_changed;\n-\n-  \/* flags *\/\n-  gboolean use_default_pad_acceptcaps;\n-\n-#ifndef GST_DISABLE_DEBUG\n-  \/* Diagnostic time for reporting the time\n-   * from flush to first output *\/\n-  GstClockTime last_reset_time;\n-#endif\n-};\n-\n-static GstElementClass *parent_class = NULL;\n-static gint private_offset = 0;\n-\n-\/* cached quark to avoid contention on the global quark table lock *\/\n-#define META_TAG_VIDEO meta_tag_video_quark\n-static GQuark meta_tag_video_quark;\n-\n-static void gst_video_decoder_class_init (GstVideoDecoderClass * klass);\n-static void gst_video_decoder_init (GstVideoDecoder * dec,\n-    GstVideoDecoderClass * klass);\n-\n-static void gst_video_decoder_finalize (GObject * object);\n-static void gst_video_decoder_get_property (GObject * object, guint property_id,\n-    GValue * value, GParamSpec * pspec);\n-static void gst_video_decoder_set_property (GObject * object, guint property_id,\n-    const GValue * value, GParamSpec * pspec);\n-\n-static gboolean gst_video_decoder_setcaps (GstVideoDecoder * dec,\n-    GstCaps * caps);\n-static gboolean gst_video_decoder_sink_event (GstPad * pad, GstObject * parent,\n-    GstEvent * event);\n-static gboolean gst_video_decoder_src_event (GstPad * pad, GstObject * parent,\n-    GstEvent * event);\n-static GstFlowReturn gst_video_decoder_chain (GstPad * pad, GstObject * parent,\n-    GstBuffer * buf);\n-static gboolean gst_video_decoder_sink_query (GstPad * pad, GstObject * parent,\n-    GstQuery * query);\n-static GstStateChangeReturn gst_video_decoder_change_state (GstElement *\n-    element, GstStateChange transition);\n-static gboolean gst_video_decoder_src_query (GstPad * pad, GstObject * parent,\n-    GstQuery * query);\n-static void gst_video_decoder_reset (GstVideoDecoder * decoder, gboolean full,\n-    gboolean flush_hard);\n-\n-static GstFlowReturn gst_video_decoder_decode_frame (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame);\n-\n-static void gst_video_decoder_push_event_list (GstVideoDecoder * decoder,\n-    GList * events);\n-static GstClockTime gst_video_decoder_get_frame_duration (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame);\n-static GstVideoCodecFrame *gst_video_decoder_new_frame (GstVideoDecoder *\n-    decoder);\n-static GstFlowReturn gst_video_decoder_clip_and_push_buf (GstVideoDecoder *\n-    decoder, GstBuffer * buf);\n-static GstFlowReturn gst_video_decoder_flush_parse (GstVideoDecoder * dec,\n-    gboolean at_eos);\n-\n-static void gst_video_decoder_clear_queues (GstVideoDecoder * dec);\n-\n-static gboolean gst_video_decoder_sink_event_default (GstVideoDecoder * decoder,\n-    GstEvent * event);\n-static gboolean gst_video_decoder_src_event_default (GstVideoDecoder * decoder,\n-    GstEvent * event);\n-static gboolean gst_video_decoder_decide_allocation_default (GstVideoDecoder *\n-    decoder, GstQuery * query);\n-static gboolean gst_video_decoder_propose_allocation_default (GstVideoDecoder *\n-    decoder, GstQuery * query);\n-static gboolean gst_video_decoder_negotiate_default (GstVideoDecoder * decoder);\n-static GstFlowReturn gst_video_decoder_parse_available (GstVideoDecoder * dec,\n-    gboolean at_eos, gboolean new_buffer);\n-static gboolean gst_video_decoder_negotiate_unlocked (GstVideoDecoder *\n-    decoder);\n-static gboolean gst_video_decoder_sink_query_default (GstVideoDecoder * decoder,\n-    GstQuery * query);\n-static gboolean gst_video_decoder_src_query_default (GstVideoDecoder * decoder,\n-    GstQuery * query);\n-\n-static gboolean gst_video_decoder_transform_meta_default (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame, GstMeta * meta);\n-\n-static gboolean gst_video_decoder_handle_missing_data_default (GstVideoDecoder *\n-    decoder, GstClockTime timestamp, GstClockTime duration);\n-\n-static void gst_video_decoder_copy_metas (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame, GstBuffer * src_buffer,\n-    GstBuffer * dest_buffer);\n-\n-static void gst_video_decoder_request_sync_point_internal (GstVideoDecoder *\n-    dec, GstClockTime deadline, GstVideoDecoderRequestSyncPointFlags flags);\n-\n-\/* we can't use G_DEFINE_ABSTRACT_TYPE because we need the klass in the _init\n- * method to get to the padtemplates *\/\n-GType\n-gst_video_decoder_get_type (void)\n-{\n-  static gsize type = 0;\n-\n-  if (g_once_init_enter (&type)) {\n-    GType _type;\n-    static const GTypeInfo info = {\n-      sizeof (GstVideoDecoderClass),\n-      NULL,\n-      NULL,\n-      (GClassInitFunc) gst_video_decoder_class_init,\n-      NULL,\n-      NULL,\n-      sizeof (GstVideoDecoder),\n-      0,\n-      (GInstanceInitFunc) gst_video_decoder_init,\n-    };\n-\n-    _type = g_type_register_static (GST_TYPE_ELEMENT,\n-        \"GstVideoDecoder\", &info, G_TYPE_FLAG_ABSTRACT);\n-\n-    private_offset =\n-        g_type_add_instance_private (_type, sizeof (GstVideoDecoderPrivate));\n-\n-    g_once_init_leave (&type, _type);\n-  }\n-  return type;\n-}\n-\n-static inline GstVideoDecoderPrivate *\n-gst_video_decoder_get_instance_private (GstVideoDecoder * self)\n-{\n-  return (G_STRUCT_MEMBER_P (self, private_offset));\n-}\n-\n-static void\n-gst_video_decoder_class_init (GstVideoDecoderClass * klass)\n-{\n-  GObjectClass *gobject_class;\n-  GstElementClass *gstelement_class;\n-\n-  gobject_class = G_OBJECT_CLASS (klass);\n-  gstelement_class = GST_ELEMENT_CLASS (klass);\n-\n-  GST_DEBUG_CATEGORY_INIT (videodecoder_debug, \"videodecoder\", 0,\n-      \"Base Video Decoder\");\n-\n-  parent_class = g_type_class_peek_parent (klass);\n-\n-  if (private_offset != 0)\n-    g_type_class_adjust_private_offset (klass, &private_offset);\n-\n-  gobject_class->finalize = gst_video_decoder_finalize;\n-  gobject_class->get_property = gst_video_decoder_get_property;\n-  gobject_class->set_property = gst_video_decoder_set_property;\n-\n-  gstelement_class->change_state =\n-      GST_DEBUG_FUNCPTR (gst_video_decoder_change_state);\n-\n-  klass->sink_event = gst_video_decoder_sink_event_default;\n-  klass->src_event = gst_video_decoder_src_event_default;\n-  klass->decide_allocation = gst_video_decoder_decide_allocation_default;\n-  klass->propose_allocation = gst_video_decoder_propose_allocation_default;\n-  klass->negotiate = gst_video_decoder_negotiate_default;\n-  klass->sink_query = gst_video_decoder_sink_query_default;\n-  klass->src_query = gst_video_decoder_src_query_default;\n-  klass->transform_meta = gst_video_decoder_transform_meta_default;\n-  klass->handle_missing_data = gst_video_decoder_handle_missing_data_default;\n-\n-  \/**\n-   * GstVideoDecoder:qos:\n-   *\n-   * If set to %TRUE the decoder will handle QoS events received\n-   * from downstream elements.\n-   * This includes dropping output frames which are detected as late\n-   * using the metrics reported by those events.\n-   *\n-   * Since: 1.18\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_QOS,\n-      g_param_spec_boolean (\"qos\", \"Quality of Service\",\n-          \"Handle Quality-of-Service events from downstream\",\n-          DEFAULT_QOS, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstVideoDecoder:max-errors:\n-   *\n-   * Maximum number of tolerated consecutive decode errors. See\n-   * gst_video_decoder_set_max_errors() for more details.\n-   *\n-   * Since: 1.18\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_MAX_ERRORS,\n-      g_param_spec_int (\"max-errors\", \"Max errors\",\n-          \"Max consecutive decoder errors before returning flow error\",\n-          -1, G_MAXINT, DEFAULT_MAX_ERRORS,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstVideoDecoder:min-force-key-unit-interval:\n-   *\n-   * Minimum interval between force-key-unit events sent upstream by the\n-   * decoder. Setting this to 0 will cause every event to be handled, setting\n-   * this to %GST_CLOCK_TIME_NONE will cause every event to be ignored.\n-   *\n-   * See gst_video_event_new_upstream_force_key_unit() for more details about\n-   * force-key-unit events.\n-   *\n-   * Since: 1.20\n-   *\/\n-  g_object_class_install_property (gobject_class,\n-      PROP_MIN_FORCE_KEY_UNIT_INTERVAL,\n-      g_param_spec_uint64 (\"min-force-key-unit-interval\",\n-          \"Minimum Force Keyunit Interval\",\n-          \"Minimum interval between force-keyunit requests in nanoseconds\", 0,\n-          G_MAXUINT64, DEFAULT_MIN_FORCE_KEY_UNIT_INTERVAL,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstVideoDecoder:discard-corrupted-frames:\n-   *\n-   * If set to %TRUE the decoder will discard frames that are marked as\n-   * corrupted instead of outputting them.\n-   *\n-   * Since: 1.20\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_DISCARD_CORRUPTED_FRAMES,\n-      g_param_spec_boolean (\"discard-corrupted-frames\",\n-          \"Discard Corrupted Frames\",\n-          \"Discard frames marked as corrupted instead of outputting them\",\n-          DEFAULT_DISCARD_CORRUPTED_FRAMES,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstVideoDecoder:automatic-request-sync-points:\n-   *\n-   * If set to %TRUE the decoder will automatically request sync points when\n-   * it seems like a good idea, e.g. if the first frames are not key frames or\n-   * if packet loss was reported by upstream.\n-   *\n-   * Since: 1.20\n-   *\/\n-  g_object_class_install_property (gobject_class,\n-      PROP_AUTOMATIC_REQUEST_SYNC_POINTS,\n-      g_param_spec_boolean (\"automatic-request-sync-points\",\n-          \"Automatic Request Sync Points\",\n-          \"Automatically request sync points when it would be useful\",\n-          DEFAULT_AUTOMATIC_REQUEST_SYNC_POINTS,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstVideoDecoder:automatic-request-sync-point-flags:\n-   *\n-   * GstVideoDecoderRequestSyncPointFlags to use for the automatically\n-   * requested sync points if `automatic-request-sync-points` is enabled.\n-   *\n-   * Since: 1.20\n-   *\/\n-  g_object_class_install_property (gobject_class,\n-      PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS,\n-      g_param_spec_flags (\"automatic-request-sync-point-flags\",\n-          \"Automatic Request Sync Point Flags\",\n-          \"Flags to use when automatically requesting sync points\",\n-          GST_TYPE_VIDEO_DECODER_REQUEST_SYNC_POINT_FLAGS,\n-          DEFAULT_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  meta_tag_video_quark = g_quark_from_static_string (GST_META_TAG_VIDEO_STR);\n-}\n-\n-static void\n-gst_video_decoder_init (GstVideoDecoder * decoder, GstVideoDecoderClass * klass)\n-{\n-  GstPadTemplate *pad_template;\n-  GstPad *pad;\n-\n-  GST_DEBUG_OBJECT (decoder, \"gst_video_decoder_init\");\n-\n-  decoder->priv = gst_video_decoder_get_instance_private (decoder);\n-\n-  pad_template =\n-      gst_element_class_get_pad_template (GST_ELEMENT_CLASS (klass), \"sink\");\n-  g_return_if_fail (pad_template != NULL);\n-\n-  decoder->sinkpad = pad = gst_pad_new_from_template (pad_template, \"sink\");\n-\n-  gst_pad_set_chain_function (pad, GST_DEBUG_FUNCPTR (gst_video_decoder_chain));\n-  gst_pad_set_event_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_decoder_sink_event));\n-  gst_pad_set_query_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_decoder_sink_query));\n-  gst_element_add_pad (GST_ELEMENT (decoder), decoder->sinkpad);\n-\n-  pad_template =\n-      gst_element_class_get_pad_template (GST_ELEMENT_CLASS (klass), \"src\");\n-  g_return_if_fail (pad_template != NULL);\n-\n-  decoder->srcpad = pad = gst_pad_new_from_template (pad_template, \"src\");\n-\n-  gst_pad_set_event_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_decoder_src_event));\n-  gst_pad_set_query_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_decoder_src_query));\n-  gst_element_add_pad (GST_ELEMENT (decoder), decoder->srcpad);\n-\n-  gst_segment_init (&decoder->input_segment, GST_FORMAT_TIME);\n-  gst_segment_init (&decoder->output_segment, GST_FORMAT_TIME);\n-\n-  g_rec_mutex_init (&decoder->stream_lock);\n-\n-  decoder->priv->input_adapter = gst_adapter_new ();\n-  decoder->priv->output_adapter = gst_adapter_new ();\n-  decoder->priv->packetized = TRUE;\n-  decoder->priv->needs_format = FALSE;\n-\n-  g_queue_init (&decoder->priv->frames);\n-  g_queue_init (&decoder->priv->timestamps);\n-\n-  \/* properties *\/\n-  decoder->priv->do_qos = DEFAULT_QOS;\n-  decoder->priv->max_errors = GST_VIDEO_DECODER_MAX_ERRORS;\n-\n-  decoder->priv->min_latency = 0;\n-  decoder->priv->max_latency = 0;\n-\n-  decoder->priv->automatic_request_sync_points =\n-      DEFAULT_AUTOMATIC_REQUEST_SYNC_POINTS;\n-  decoder->priv->automatic_request_sync_point_flags =\n-      DEFAULT_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS;\n-\n-  gst_video_decoder_reset (decoder, TRUE, TRUE);\n-}\n-\n-static GstVideoCodecState *\n-_new_input_state (GstCaps * caps)\n-{\n-  GstVideoCodecState *state;\n-  GstStructure *structure;\n-  const GValue *codec_data;\n-\n-  state = g_slice_new0 (GstVideoCodecState);\n-  state->ref_count = 1;\n-  gst_video_info_init (&state->info);\n-  if (G_UNLIKELY (!gst_video_info_from_caps (&state->info, caps)))\n-    goto parse_fail;\n-  state->caps = gst_caps_ref (caps);\n-\n-  structure = gst_caps_get_structure (caps, 0);\n-\n-  codec_data = gst_structure_get_value (structure, \"codec_data\");\n-  if (codec_data && G_VALUE_TYPE (codec_data) == GST_TYPE_BUFFER)\n-    state->codec_data = GST_BUFFER (g_value_dup_boxed (codec_data));\n-\n-  return state;\n-\n-parse_fail:\n-  {\n-    g_slice_free (GstVideoCodecState, state);\n-    return NULL;\n-  }\n-}\n-\n-static GstVideoCodecState *\n-_new_output_state (GstVideoFormat fmt, GstVideoInterlaceMode interlace_mode,\n-    guint width, guint height, GstVideoCodecState * reference,\n-    gboolean copy_interlace_mode)\n-{\n-  GstVideoCodecState *state;\n-\n-  state = g_slice_new0 (GstVideoCodecState);\n-  state->ref_count = 1;\n-  gst_video_info_init (&state->info);\n-  if (!gst_video_info_set_interlaced_format (&state->info, fmt, interlace_mode,\n-          width, height)) {\n-    g_slice_free (GstVideoCodecState, state);\n-    return NULL;\n-  }\n-\n-  if (reference) {\n-    GstVideoInfo *tgt, *ref;\n-\n-    tgt = &state->info;\n-    ref = &reference->info;\n-\n-    \/* Copy over extra fields from reference state *\/\n-    if (copy_interlace_mode)\n-      tgt->interlace_mode = ref->interlace_mode;\n-    tgt->flags = ref->flags;\n-    tgt->chroma_site = ref->chroma_site;\n-    tgt->colorimetry = ref->colorimetry;\n-    GST_DEBUG (\"reference par %d\/%d fps %d\/%d\",\n-        ref->par_n, ref->par_d, ref->fps_n, ref->fps_d);\n-    tgt->par_n = ref->par_n;\n-    tgt->par_d = ref->par_d;\n-    tgt->fps_n = ref->fps_n;\n-    tgt->fps_d = ref->fps_d;\n-    tgt->views = ref->views;\n-\n-    GST_VIDEO_INFO_FIELD_ORDER (tgt) = GST_VIDEO_INFO_FIELD_ORDER (ref);\n-\n-    if (GST_VIDEO_INFO_MULTIVIEW_MODE (ref) != GST_VIDEO_MULTIVIEW_MODE_NONE) {\n-      GST_VIDEO_INFO_MULTIVIEW_MODE (tgt) = GST_VIDEO_INFO_MULTIVIEW_MODE (ref);\n-      GST_VIDEO_INFO_MULTIVIEW_FLAGS (tgt) =\n-          GST_VIDEO_INFO_MULTIVIEW_FLAGS (ref);\n-    } else {\n-      \/* Default to MONO, overridden as needed by sub-classes *\/\n-      GST_VIDEO_INFO_MULTIVIEW_MODE (tgt) = GST_VIDEO_MULTIVIEW_MODE_MONO;\n-      GST_VIDEO_INFO_MULTIVIEW_FLAGS (tgt) = GST_VIDEO_MULTIVIEW_FLAGS_NONE;\n-    }\n-  }\n-\n-  GST_DEBUG (\"reference par %d\/%d fps %d\/%d\",\n-      state->info.par_n, state->info.par_d,\n-      state->info.fps_n, state->info.fps_d);\n-\n-  return state;\n-}\n-\n-static gboolean\n-gst_video_decoder_setcaps (GstVideoDecoder * decoder, GstCaps * caps)\n-{\n-  GstVideoDecoderClass *decoder_class;\n-  GstVideoCodecState *state;\n-  gboolean ret = TRUE;\n-\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  GST_DEBUG_OBJECT (decoder, \"setcaps %\" GST_PTR_FORMAT, caps);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  if (decoder->priv->input_state) {\n-    GST_DEBUG_OBJECT (decoder,\n-        \"Checking if caps changed old %\" GST_PTR_FORMAT \" new %\" GST_PTR_FORMAT,\n-        decoder->priv->input_state->caps, caps);\n-    if (gst_caps_is_equal (decoder->priv->input_state->caps, caps))\n-      goto caps_not_changed;\n-  }\n-\n-  state = _new_input_state (caps);\n-\n-  if (G_UNLIKELY (state == NULL))\n-    goto parse_fail;\n-\n-  if (decoder_class->set_format)\n-    ret = decoder_class->set_format (decoder, state);\n-\n-  if (!ret)\n-    goto refused_format;\n-\n-  if (decoder->priv->input_state)\n-    gst_video_codec_state_unref (decoder->priv->input_state);\n-  decoder->priv->input_state = state;\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return ret;\n-\n-caps_not_changed:\n-  {\n-    GST_DEBUG_OBJECT (decoder, \"Caps did not change - ignore\");\n-    GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-    return TRUE;\n-  }\n-\n-  \/* ERRORS *\/\n-parse_fail:\n-  {\n-    GST_WARNING_OBJECT (decoder, \"Failed to parse caps\");\n-    GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-    return FALSE;\n-  }\n-\n-refused_format:\n-  {\n-    GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-    GST_WARNING_OBJECT (decoder, \"Subclass refused caps\");\n-    gst_video_codec_state_unref (state);\n-    return FALSE;\n-  }\n-}\n-\n-static void\n-gst_video_decoder_finalize (GObject * object)\n-{\n-  GstVideoDecoder *decoder;\n-\n-  decoder = GST_VIDEO_DECODER (object);\n-\n-  GST_DEBUG_OBJECT (object, \"finalize\");\n-\n-  g_rec_mutex_clear (&decoder->stream_lock);\n-\n-  if (decoder->priv->input_adapter) {\n-    g_object_unref (decoder->priv->input_adapter);\n-    decoder->priv->input_adapter = NULL;\n-  }\n-  if (decoder->priv->output_adapter) {\n-    g_object_unref (decoder->priv->output_adapter);\n-    decoder->priv->output_adapter = NULL;\n-  }\n-\n-  if (decoder->priv->input_state)\n-    gst_video_codec_state_unref (decoder->priv->input_state);\n-  if (decoder->priv->output_state)\n-    gst_video_codec_state_unref (decoder->priv->output_state);\n-\n-  if (decoder->priv->pool) {\n-    gst_object_unref (decoder->priv->pool);\n-    decoder->priv->pool = NULL;\n-  }\n-\n-  if (decoder->priv->allocator) {\n-    gst_object_unref (decoder->priv->allocator);\n-    decoder->priv->allocator = NULL;\n-  }\n-\n-  G_OBJECT_CLASS (parent_class)->finalize (object);\n-}\n-\n-static void\n-gst_video_decoder_get_property (GObject * object, guint property_id,\n-    GValue * value, GParamSpec * pspec)\n-{\n-  GstVideoDecoder *dec = GST_VIDEO_DECODER (object);\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-\n-  switch (property_id) {\n-    case PROP_QOS:\n-      g_value_set_boolean (value, priv->do_qos);\n-      break;\n-    case PROP_MAX_ERRORS:\n-      g_value_set_int (value, gst_video_decoder_get_max_errors (dec));\n-      break;\n-    case PROP_MIN_FORCE_KEY_UNIT_INTERVAL:\n-      g_value_set_uint64 (value, priv->min_force_key_unit_interval);\n-      break;\n-    case PROP_DISCARD_CORRUPTED_FRAMES:\n-      g_value_set_boolean (value, priv->discard_corrupted_frames);\n-      break;\n-    case PROP_AUTOMATIC_REQUEST_SYNC_POINTS:\n-      g_value_set_boolean (value, priv->automatic_request_sync_points);\n-      break;\n-    case PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS:\n-      g_value_set_flags (value, priv->automatic_request_sync_point_flags);\n-      break;\n-    default:\n-      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);\n-      break;\n-  }\n-}\n-\n-static void\n-gst_video_decoder_set_property (GObject * object, guint property_id,\n-    const GValue * value, GParamSpec * pspec)\n-{\n-  GstVideoDecoder *dec = GST_VIDEO_DECODER (object);\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-\n-  switch (property_id) {\n-    case PROP_QOS:\n-      priv->do_qos = g_value_get_boolean (value);\n-      break;\n-    case PROP_MAX_ERRORS:\n-      gst_video_decoder_set_max_errors (dec, g_value_get_int (value));\n-      break;\n-    case PROP_MIN_FORCE_KEY_UNIT_INTERVAL:\n-      priv->min_force_key_unit_interval = g_value_get_uint64 (value);\n-      break;\n-    case PROP_DISCARD_CORRUPTED_FRAMES:\n-      priv->discard_corrupted_frames = g_value_get_boolean (value);\n-      break;\n-    case PROP_AUTOMATIC_REQUEST_SYNC_POINTS:\n-      priv->automatic_request_sync_points = g_value_get_boolean (value);\n-      break;\n-    case PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS:\n-      priv->automatic_request_sync_point_flags = g_value_get_flags (value);\n-      break;\n-    default:\n-      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);\n-      break;\n-  }\n-}\n-\n-\/* hard == FLUSH, otherwise discont *\/\n-static GstFlowReturn\n-gst_video_decoder_flush (GstVideoDecoder * dec, gboolean hard)\n-{\n-  GstVideoDecoderClass *klass = GST_VIDEO_DECODER_GET_CLASS (dec);\n-  GstFlowReturn ret = GST_FLOW_OK;\n-\n-  GST_LOG_OBJECT (dec, \"flush hard %d\", hard);\n-\n-  \/* Inform subclass *\/\n-  if (klass->reset) {\n-    GST_FIXME_OBJECT (dec, \"GstVideoDecoder::reset() is deprecated\");\n-    klass->reset (dec, hard);\n-  }\n-\n-  if (klass->flush)\n-    klass->flush (dec);\n-\n-  \/* and get (re)set for the sequel *\/\n-  gst_video_decoder_reset (dec, FALSE, hard);\n-\n-  return ret;\n-}\n-\n-static GstEvent *\n-gst_video_decoder_create_merged_tags_event (GstVideoDecoder * dec)\n-{\n-  GstTagList *merged_tags;\n-\n-  GST_LOG_OBJECT (dec, \"upstream : %\" GST_PTR_FORMAT, dec->priv->upstream_tags);\n-  GST_LOG_OBJECT (dec, \"decoder  : %\" GST_PTR_FORMAT, dec->priv->tags);\n-  GST_LOG_OBJECT (dec, \"mode     : %d\", dec->priv->tags_merge_mode);\n-\n-  merged_tags =\n-      gst_tag_list_merge (dec->priv->upstream_tags, dec->priv->tags,\n-      dec->priv->tags_merge_mode);\n-\n-  GST_DEBUG_OBJECT (dec, \"merged   : %\" GST_PTR_FORMAT, merged_tags);\n-\n-  if (merged_tags == NULL)\n-    return NULL;\n-\n-  if (gst_tag_list_is_empty (merged_tags)) {\n-    gst_tag_list_unref (merged_tags);\n-    return NULL;\n-  }\n-\n-  return gst_event_new_tag (merged_tags);\n-}\n-\n-static gboolean\n-gst_video_decoder_push_event (GstVideoDecoder * decoder, GstEvent * event)\n-{\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_SEGMENT:\n-    {\n-      GstSegment segment;\n-\n-      gst_event_copy_segment (event, &segment);\n-\n-      GST_DEBUG_OBJECT (decoder, \"segment %\" GST_SEGMENT_FORMAT, &segment);\n-\n-      if (segment.format != GST_FORMAT_TIME) {\n-        GST_DEBUG_OBJECT (decoder, \"received non TIME newsegment\");\n-        break;\n-      }\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      decoder->output_segment = segment;\n-      decoder->priv->in_out_segment_sync =\n-          gst_segment_is_equal (&decoder->input_segment, &segment);\n-      decoder->priv->last_timestamp_out = GST_CLOCK_TIME_NONE;\n-      decoder->priv->earliest_time = GST_CLOCK_TIME_NONE;\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-      break;\n-    }\n-    default:\n-      break;\n-  }\n-\n-  GST_DEBUG_OBJECT (decoder, \"pushing event %s\",\n-      gst_event_type_get_name (GST_EVENT_TYPE (event)));\n-\n-  return gst_pad_push_event (decoder->srcpad, event);\n-}\n-\n-static GstFlowReturn\n-gst_video_decoder_parse_available (GstVideoDecoder * dec, gboolean at_eos,\n-    gboolean new_buffer)\n-{\n-  GstVideoDecoderClass *decoder_class = GST_VIDEO_DECODER_GET_CLASS (dec);\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-  gsize was_available, available;\n-  guint inactive = 0;\n-\n-  available = gst_adapter_available (priv->input_adapter);\n-\n-  while (available || new_buffer) {\n-    new_buffer = FALSE;\n-    \/* current frame may have been parsed and handled,\n-     * so we need to set up a new one when asking subclass to parse *\/\n-    if (priv->current_frame == NULL)\n-      priv->current_frame = gst_video_decoder_new_frame (dec);\n-\n-    was_available = available;\n-    ret = decoder_class->parse (dec, priv->current_frame,\n-        priv->input_adapter, at_eos);\n-    if (ret != GST_FLOW_OK)\n-      break;\n-\n-    \/* if the subclass returned success (GST_FLOW_OK), it is expected\n-     * to have collected and submitted a frame, i.e. it should have\n-     * called gst_video_decoder_have_frame(), or at least consumed a\n-     * few bytes through gst_video_decoder_add_to_frame().\n-     *\n-     * Otherwise, this is an implementation bug, and we error out\n-     * after 2 failed attempts *\/\n-    available = gst_adapter_available (priv->input_adapter);\n-    if (!priv->current_frame || available != was_available)\n-      inactive = 0;\n-    else if (++inactive == 2)\n-      goto error_inactive;\n-  }\n-\n-  return ret;\n-\n-  \/* ERRORS *\/\n-error_inactive:\n-  {\n-    GST_ERROR_OBJECT (dec, \"Failed to consume data. Error in subclass?\");\n-    return GST_FLOW_ERROR;\n-  }\n-}\n-\n-\/* This function has to be called with the stream lock taken. *\/\n-static GstFlowReturn\n-gst_video_decoder_drain_out (GstVideoDecoder * dec, gboolean at_eos)\n-{\n-  GstVideoDecoderClass *decoder_class = GST_VIDEO_DECODER_GET_CLASS (dec);\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-\n-  if (dec->input_segment.rate > 0.0) {\n-    \/* Forward mode, if unpacketized, give the child class\n-     * a final chance to flush out packets *\/\n-    if (!priv->packetized) {\n-      ret = gst_video_decoder_parse_available (dec, TRUE, FALSE);\n-    }\n-\n-    if (at_eos) {\n-      if (decoder_class->finish)\n-        ret = decoder_class->finish (dec);\n-    } else {\n-      if (decoder_class->drain) {\n-        ret = decoder_class->drain (dec);\n-      } else {\n-        GST_FIXME_OBJECT (dec, \"Sub-class should implement drain()\");\n-      }\n-    }\n-  } else {\n-    \/* Reverse playback mode *\/\n-    ret = gst_video_decoder_flush_parse (dec, TRUE);\n-  }\n-\n-  return ret;\n-}\n-\n-static GList *\n-_flush_events (GstPad * pad, GList * events)\n-{\n-  GList *tmp;\n-\n-  for (tmp = events; tmp; tmp = tmp->next) {\n-    if (GST_EVENT_TYPE (tmp->data) != GST_EVENT_EOS &&\n-        GST_EVENT_TYPE (tmp->data) != GST_EVENT_SEGMENT &&\n-        GST_EVENT_IS_STICKY (tmp->data)) {\n-      gst_pad_store_sticky_event (pad, GST_EVENT_CAST (tmp->data));\n-    }\n-    gst_event_unref (tmp->data);\n-  }\n-  g_list_free (events);\n-\n-  return NULL;\n-}\n-\n-\/* Must be called holding the GST_VIDEO_DECODER_STREAM_LOCK *\/\n-static gboolean\n-gst_video_decoder_negotiate_default_caps (GstVideoDecoder * decoder)\n-{\n-  GstCaps *caps, *templcaps;\n-  GstVideoCodecState *state;\n-  GstVideoInfo info;\n-  gint i;\n-  gint caps_size;\n-  GstStructure *structure;\n-\n-  templcaps = gst_pad_get_pad_template_caps (decoder->srcpad);\n-  caps = gst_pad_peer_query_caps (decoder->srcpad, templcaps);\n-  if (caps)\n-    gst_caps_unref (templcaps);\n-  else\n-    caps = templcaps;\n-  templcaps = NULL;\n-\n-  if (!caps || gst_caps_is_empty (caps) || gst_caps_is_any (caps))\n-    goto caps_error;\n-\n-  GST_LOG_OBJECT (decoder, \"peer caps %\" GST_PTR_FORMAT, caps);\n-\n-  \/* before fixating, try to use whatever upstream provided *\/\n-  caps = gst_caps_make_writable (caps);\n-  caps_size = gst_caps_get_size (caps);\n-  if (decoder->priv->input_state && decoder->priv->input_state->caps) {\n-    GstCaps *sinkcaps = decoder->priv->input_state->caps;\n-    GstStructure *structure = gst_caps_get_structure (sinkcaps, 0);\n-    gint width, height;\n-\n-    if (gst_structure_get_int (structure, \"width\", &width)) {\n-      for (i = 0; i < caps_size; i++) {\n-        gst_structure_set (gst_caps_get_structure (caps, i), \"width\",\n-            G_TYPE_INT, width, NULL);\n-      }\n-    }\n-\n-    if (gst_structure_get_int (structure, \"height\", &height)) {\n-      for (i = 0; i < caps_size; i++) {\n-        gst_structure_set (gst_caps_get_structure (caps, i), \"height\",\n-            G_TYPE_INT, height, NULL);\n-      }\n-    }\n-  }\n-\n-  for (i = 0; i < caps_size; i++) {\n-    structure = gst_caps_get_structure (caps, i);\n-    \/* Random I420 1280x720 for fixation *\/\n-    if (gst_structure_has_field (structure, \"format\"))\n-      gst_structure_fixate_field_string (structure, \"format\", \"I420\");\n-    else\n-      gst_structure_set (structure, \"format\", G_TYPE_STRING, \"I420\", NULL);\n-\n-    if (gst_structure_has_field (structure, \"width\"))\n-      gst_structure_fixate_field_nearest_int (structure, \"width\", 1280);\n-    else\n-      gst_structure_set (structure, \"width\", G_TYPE_INT, 1280, NULL);\n-\n-    if (gst_structure_has_field (structure, \"height\"))\n-      gst_structure_fixate_field_nearest_int (structure, \"height\", 720);\n-    else\n-      gst_structure_set (structure, \"height\", G_TYPE_INT, 720, NULL);\n-  }\n-  caps = gst_caps_fixate (caps);\n-\n-  if (!caps || !gst_video_info_from_caps (&info, caps))\n-    goto caps_error;\n-\n-  GST_INFO_OBJECT (decoder,\n-      \"Chose default caps %\" GST_PTR_FORMAT \" for initial gap\", caps);\n-  state =\n-      gst_video_decoder_set_output_state (decoder, info.finfo->format,\n-      info.width, info.height, decoder->priv->input_state);\n-  gst_video_codec_state_unref (state);\n-  gst_caps_unref (caps);\n-\n-  return TRUE;\n-\n-caps_error:\n-  {\n-    if (caps)\n-      gst_caps_unref (caps);\n-    return FALSE;\n-  }\n-}\n-\n-static gboolean\n-gst_video_decoder_handle_missing_data_default (GstVideoDecoder *\n-    decoder, GstClockTime timestamp, GstClockTime duration)\n-{\n-  GstVideoDecoderPrivate *priv;\n-\n-  priv = decoder->priv;\n-\n-  if (priv->automatic_request_sync_points) {\n-    GstClockTime deadline =\n-        gst_segment_to_running_time (&decoder->input_segment, GST_FORMAT_TIME,\n-        timestamp);\n-\n-    GST_DEBUG_OBJECT (decoder,\n-        \"Requesting sync point for missing data at running time %\"\n-        GST_TIME_FORMAT \" timestamp %\" GST_TIME_FORMAT \" with duration %\"\n-        GST_TIME_FORMAT, GST_TIME_ARGS (deadline), GST_TIME_ARGS (timestamp),\n-        GST_TIME_ARGS (duration));\n-\n-    gst_video_decoder_request_sync_point_internal (decoder, deadline,\n-        priv->automatic_request_sync_point_flags);\n-  }\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_video_decoder_sink_event_default (GstVideoDecoder * decoder,\n-    GstEvent * event)\n-{\n-  GstVideoDecoderClass *decoder_class;\n-  GstVideoDecoderPrivate *priv;\n-  gboolean ret = FALSE;\n-  gboolean forward_immediate = FALSE;\n-\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  priv = decoder->priv;\n-\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_STREAM_START:\n-    {\n-      GstFlowReturn flow_ret = GST_FLOW_OK;\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n-      ret = (flow_ret == GST_FLOW_OK);\n-\n-      GST_DEBUG_OBJECT (decoder, \"received STREAM_START. Clearing taglist\");\n-      \/* Flush upstream tags after a STREAM_START *\/\n-      if (priv->upstream_tags) {\n-        gst_tag_list_unref (priv->upstream_tags);\n-        priv->upstream_tags = NULL;\n-        priv->tags_changed = TRUE;\n-      }\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-      \/* Forward STREAM_START immediately. Everything is drained after\n-       * the STREAM_START event and we can forward this event immediately\n-       * now without having buffers out of order.\n-       *\/\n-      forward_immediate = TRUE;\n-      break;\n-    }\n-    case GST_EVENT_CAPS:\n-    {\n-      GstCaps *caps;\n-\n-      gst_event_parse_caps (event, &caps);\n-      ret = gst_video_decoder_setcaps (decoder, caps);\n-      gst_event_unref (event);\n-      event = NULL;\n-      break;\n-    }\n-    case GST_EVENT_SEGMENT_DONE:\n-    {\n-      GstFlowReturn flow_ret = GST_FLOW_OK;\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-      ret = (flow_ret == GST_FLOW_OK);\n-\n-      \/* Forward SEGMENT_DONE immediately. This is required\n-       * because no buffer or serialized event might come\n-       * after SEGMENT_DONE and nothing could trigger another\n-       * _finish_frame() call.\n-       *\n-       * The subclass can override this behaviour by overriding\n-       * the ::sink_event() vfunc and not chaining up to the\n-       * parent class' ::sink_event() until a later time.\n-       *\/\n-      forward_immediate = TRUE;\n-      break;\n-    }\n-    case GST_EVENT_EOS:\n-    {\n-      GstFlowReturn flow_ret = GST_FLOW_OK;\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      flow_ret = gst_video_decoder_drain_out (decoder, TRUE);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-      ret = (flow_ret == GST_FLOW_OK);\n-\n-      \/* Error out even if EOS was ok when we had input, but no output *\/\n-      if (ret && priv->had_input_data && !priv->had_output_data) {\n-        GST_ELEMENT_ERROR (decoder, STREAM, DECODE,\n-            (\"No valid frames decoded before end of stream\"),\n-            (\"no valid frames found\"));\n-      }\n-\n-      \/* Forward EOS immediately. This is required because no\n-       * buffer or serialized event will come after EOS and\n-       * nothing could trigger another _finish_frame() call.\n-       *\n-       * The subclass can override this behaviour by overriding\n-       * the ::sink_event() vfunc and not chaining up to the\n-       * parent class' ::sink_event() until a later time.\n-       *\/\n-      forward_immediate = TRUE;\n-      break;\n-    }\n-    case GST_EVENT_GAP:\n-    {\n-      GstClockTime timestamp, duration;\n-      GstGapFlags gap_flags = 0;\n-      GstFlowReturn flow_ret = GST_FLOW_OK;\n-      gboolean needs_reconfigure = FALSE;\n-      GList *events;\n-      GList *frame_events;\n-\n-      gst_event_parse_gap (event, &timestamp, &duration);\n-      gst_event_parse_gap_flags (event, &gap_flags);\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      \/* If this is not missing data, or the subclass does not handle it\n-       * specifically, then drain out the decoder and forward the event\n-       * directly. *\/\n-      if ((gap_flags & GST_GAP_FLAG_MISSING_DATA) == 0\n-          || !decoder_class->handle_missing_data\n-          || decoder_class->handle_missing_data (decoder, timestamp,\n-              duration)) {\n-        if (decoder->input_segment.flags & GST_SEEK_FLAG_TRICKMODE_KEY_UNITS)\n-          flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n-        ret = (flow_ret == GST_FLOW_OK);\n-\n-        \/* Ensure we have caps before forwarding the event *\/\n-        if (!decoder->priv->output_state) {\n-          if (!gst_video_decoder_negotiate_default_caps (decoder)) {\n-            GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-            GST_ELEMENT_ERROR (decoder, STREAM, FORMAT, (NULL),\n-                (\"Decoder output not negotiated before GAP event.\"));\n-            forward_immediate = TRUE;\n-            break;\n-          }\n-          needs_reconfigure = TRUE;\n-        }\n-\n-        needs_reconfigure = gst_pad_check_reconfigure (decoder->srcpad)\n-            || needs_reconfigure;\n-        if (decoder->priv->output_state_changed || needs_reconfigure) {\n-          if (!gst_video_decoder_negotiate_unlocked (decoder)) {\n-            GST_WARNING_OBJECT (decoder, \"Failed to negotiate with downstream\");\n-            gst_pad_mark_reconfigure (decoder->srcpad);\n-          }\n-        }\n-\n-        GST_DEBUG_OBJECT (decoder, \"Pushing all pending serialized events\"\n-            \" before the gap\");\n-        events = decoder->priv->pending_events;\n-        frame_events = decoder->priv->current_frame_events;\n-        decoder->priv->pending_events = NULL;\n-        decoder->priv->current_frame_events = NULL;\n-\n-        GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-        gst_video_decoder_push_event_list (decoder, events);\n-        gst_video_decoder_push_event_list (decoder, frame_events);\n-\n-        \/* Forward GAP immediately. Everything is drained after\n-         * the GAP event and we can forward this event immediately\n-         * now without having buffers out of order.\n-         *\/\n-        forward_immediate = TRUE;\n-      } else {\n-        gst_clear_event (&event);\n-      }\n-      break;\n-    }\n-    case GST_EVENT_CUSTOM_DOWNSTREAM:\n-    {\n-      gboolean in_still;\n-      GstFlowReturn flow_ret = GST_FLOW_OK;\n-\n-      if (gst_video_event_parse_still_frame (event, &in_still)) {\n-        if (in_still) {\n-          GST_DEBUG_OBJECT (decoder, \"draining current data for still-frame\");\n-          GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-          flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n-          GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-          ret = (flow_ret == GST_FLOW_OK);\n-        }\n-        \/* Forward STILL_FRAME immediately. Everything is drained after\n-         * the STILL_FRAME event and we can forward this event immediately\n-         * now without having buffers out of order.\n-         *\/\n-        forward_immediate = TRUE;\n-      }\n-      break;\n-    }\n-    case GST_EVENT_SEGMENT:\n-    {\n-      GstSegment segment;\n-\n-      gst_event_copy_segment (event, &segment);\n-\n-      if (segment.format == GST_FORMAT_TIME) {\n-        GST_DEBUG_OBJECT (decoder,\n-            \"received TIME SEGMENT %\" GST_SEGMENT_FORMAT, &segment);\n-      } else {\n-        gint64 start;\n-\n-        GST_DEBUG_OBJECT (decoder,\n-            \"received SEGMENT %\" GST_SEGMENT_FORMAT, &segment);\n-\n-        \/* handle newsegment as a result from our legacy simple seeking *\/\n-        \/* note that initial 0 should convert to 0 in any case *\/\n-        if (priv->do_estimate_rate &&\n-            gst_pad_query_convert (decoder->sinkpad, GST_FORMAT_BYTES,\n-                segment.start, GST_FORMAT_TIME, &start)) {\n-          \/* best attempt convert *\/\n-          \/* as these are only estimates, stop is kept open-ended to avoid\n-           * premature cutting *\/\n-          GST_DEBUG_OBJECT (decoder,\n-              \"converted to TIME start %\" GST_TIME_FORMAT,\n-              GST_TIME_ARGS (start));\n-          segment.start = start;\n-          segment.stop = GST_CLOCK_TIME_NONE;\n-          segment.time = start;\n-          \/* replace event *\/\n-          gst_event_unref (event);\n-          event = gst_event_new_segment (&segment);\n-        } else {\n-          goto newseg_wrong_format;\n-        }\n-      }\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-      \/* Update the decode flags in the segment if we have an instant-rate\n-       * override active *\/\n-      GST_OBJECT_LOCK (decoder);\n-      if (!priv->decode_flags_override)\n-        priv->decode_flags = segment.flags;\n-      else {\n-        segment.flags &= ~GST_SEGMENT_INSTANT_FLAGS;\n-        segment.flags |= priv->decode_flags & GST_SEGMENT_INSTANT_FLAGS;\n-      }\n-\n-      priv->base_timestamp = GST_CLOCK_TIME_NONE;\n-      priv->base_picture_number = 0;\n-\n-      decoder->input_segment = segment;\n-      decoder->priv->in_out_segment_sync = FALSE;\n-\n-      GST_OBJECT_UNLOCK (decoder);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-      break;\n-    }\n-    case GST_EVENT_INSTANT_RATE_CHANGE:\n-    {\n-      GstSegmentFlags flags;\n-      GstSegment *seg;\n-\n-      gst_event_parse_instant_rate_change (event, NULL, &flags);\n-\n-      GST_OBJECT_LOCK (decoder);\n-      priv->decode_flags_override = TRUE;\n-      priv->decode_flags = flags;\n-\n-      \/* Update the input segment flags *\/\n-      seg = &decoder->input_segment;\n-      seg->flags &= ~GST_SEGMENT_INSTANT_FLAGS;\n-      seg->flags |= priv->decode_flags & GST_SEGMENT_INSTANT_FLAGS;\n-      GST_OBJECT_UNLOCK (decoder);\n-      break;\n-    }\n-    case GST_EVENT_FLUSH_STOP:\n-    {\n-      GList *l;\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      for (l = priv->frames.head; l; l = l->next) {\n-        GstVideoCodecFrame *frame = l->data;\n-\n-        frame->events = _flush_events (decoder->srcpad, frame->events);\n-      }\n-      priv->current_frame_events = _flush_events (decoder->srcpad,\n-          decoder->priv->current_frame_events);\n-\n-      \/* well, this is kind of worse than a DISCONT *\/\n-      gst_video_decoder_flush (decoder, TRUE);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-      \/* Forward FLUSH_STOP immediately. This is required because it is\n-       * expected to be forwarded immediately and no buffers are queued\n-       * anyway.\n-       *\/\n-      forward_immediate = TRUE;\n-      break;\n-    }\n-    case GST_EVENT_TAG:\n-    {\n-      GstTagList *tags;\n-\n-      gst_event_parse_tag (event, &tags);\n-\n-      if (gst_tag_list_get_scope (tags) == GST_TAG_SCOPE_STREAM) {\n-        GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-        if (priv->upstream_tags != tags) {\n-          if (priv->upstream_tags)\n-            gst_tag_list_unref (priv->upstream_tags);\n-          priv->upstream_tags = gst_tag_list_ref (tags);\n-          GST_INFO_OBJECT (decoder, \"upstream tags: %\" GST_PTR_FORMAT, tags);\n-        }\n-        gst_event_unref (event);\n-        event = gst_video_decoder_create_merged_tags_event (decoder);\n-        GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-        if (!event)\n-          ret = TRUE;\n-      }\n-      break;\n-    }\n-    default:\n-      break;\n-  }\n-\n-  \/* Forward non-serialized events immediately, and all other\n-   * events which can be forwarded immediately without potentially\n-   * causing the event to go out of order with other events and\n-   * buffers as decided above.\n-   *\/\n-  if (event) {\n-    if (!GST_EVENT_IS_SERIALIZED (event) || forward_immediate) {\n-      ret = gst_video_decoder_push_event (decoder, event);\n-    } else {\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      decoder->priv->current_frame_events =\n-          g_list_prepend (decoder->priv->current_frame_events, event);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-      ret = TRUE;\n-    }\n-  }\n-\n-  return ret;\n-\n-newseg_wrong_format:\n-  {\n-    GST_DEBUG_OBJECT (decoder, \"received non TIME newsegment\");\n-    gst_event_unref (event);\n-    \/* SWALLOW EVENT *\/\n-    return TRUE;\n-  }\n-}\n-\n-static gboolean\n-gst_video_decoder_sink_event (GstPad * pad, GstObject * parent,\n-    GstEvent * event)\n-{\n-  GstVideoDecoder *decoder;\n-  GstVideoDecoderClass *decoder_class;\n-  gboolean ret = FALSE;\n-\n-  decoder = GST_VIDEO_DECODER (parent);\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  GST_DEBUG_OBJECT (decoder, \"received event %d, %s\", GST_EVENT_TYPE (event),\n-      GST_EVENT_TYPE_NAME (event));\n-\n-  if (decoder_class->sink_event)\n-    ret = decoder_class->sink_event (decoder, event);\n-\n-  return ret;\n-}\n-\n-\/* perform upstream byte <-> time conversion (duration, seeking)\n- * if subclass allows and if enough data for moderately decent conversion *\/\n-static inline gboolean\n-gst_video_decoder_do_byte (GstVideoDecoder * dec)\n-{\n-  gboolean ret;\n-\n-  GST_OBJECT_LOCK (dec);\n-  ret = dec->priv->do_estimate_rate && (dec->priv->bytes_out > 0)\n-      && (dec->priv->time > GST_SECOND);\n-  GST_OBJECT_UNLOCK (dec);\n-\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_decoder_do_seek (GstVideoDecoder * dec, GstEvent * event)\n-{\n-  GstFormat format;\n-  GstSeekFlags flags;\n-  GstSeekType start_type, end_type;\n-  gdouble rate;\n-  gint64 start, start_time, end_time;\n-  GstSegment seek_segment;\n-  guint32 seqnum;\n-\n-  gst_event_parse_seek (event, &rate, &format, &flags, &start_type,\n-      &start_time, &end_type, &end_time);\n-\n-  \/* we'll handle plain open-ended flushing seeks with the simple approach *\/\n-  if (rate != 1.0) {\n-    GST_DEBUG_OBJECT (dec, \"unsupported seek: rate\");\n-    return FALSE;\n-  }\n-\n-  if (start_type != GST_SEEK_TYPE_SET) {\n-    GST_DEBUG_OBJECT (dec, \"unsupported seek: start time\");\n-    return FALSE;\n-  }\n-\n-  if ((end_type != GST_SEEK_TYPE_SET && end_type != GST_SEEK_TYPE_NONE) ||\n-      (end_type == GST_SEEK_TYPE_SET && end_time != GST_CLOCK_TIME_NONE)) {\n-    GST_DEBUG_OBJECT (dec, \"unsupported seek: end time\");\n-    return FALSE;\n-  }\n-\n-  if (!(flags & GST_SEEK_FLAG_FLUSH)) {\n-    GST_DEBUG_OBJECT (dec, \"unsupported seek: not flushing\");\n-    return FALSE;\n-  }\n-\n-  memcpy (&seek_segment, &dec->output_segment, sizeof (seek_segment));\n-  gst_segment_do_seek (&seek_segment, rate, format, flags, start_type,\n-      start_time, end_type, end_time, NULL);\n-  start_time = seek_segment.position;\n-\n-  if (!gst_pad_query_convert (dec->sinkpad, GST_FORMAT_TIME, start_time,\n-          GST_FORMAT_BYTES, &start)) {\n-    GST_DEBUG_OBJECT (dec, \"conversion failed\");\n-    return FALSE;\n-  }\n-\n-  seqnum = gst_event_get_seqnum (event);\n-  event = gst_event_new_seek (1.0, GST_FORMAT_BYTES, flags,\n-      GST_SEEK_TYPE_SET, start, GST_SEEK_TYPE_NONE, -1);\n-  gst_event_set_seqnum (event, seqnum);\n-\n-  GST_DEBUG_OBJECT (dec, \"seeking to %\" GST_TIME_FORMAT \" at byte offset %\"\n-      G_GINT64_FORMAT, GST_TIME_ARGS (start_time), start);\n-\n-  return gst_pad_push_event (dec->sinkpad, event);\n-}\n-\n-static gboolean\n-gst_video_decoder_src_event_default (GstVideoDecoder * decoder,\n-    GstEvent * event)\n-{\n-  GstVideoDecoderPrivate *priv;\n-  gboolean res = FALSE;\n-\n-  priv = decoder->priv;\n-\n-  GST_DEBUG_OBJECT (decoder,\n-      \"received event %d, %s\", GST_EVENT_TYPE (event),\n-      GST_EVENT_TYPE_NAME (event));\n-\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_SEEK:\n-    {\n-      GstFormat format;\n-      gdouble rate;\n-      GstSeekFlags flags;\n-      GstSeekType start_type, stop_type;\n-      gint64 start, stop;\n-      gint64 tstart, tstop;\n-      guint32 seqnum;\n-\n-      gst_event_parse_seek (event, &rate, &format, &flags, &start_type, &start,\n-          &stop_type, &stop);\n-      seqnum = gst_event_get_seqnum (event);\n-\n-      \/* upstream gets a chance first *\/\n-      if ((res = gst_pad_push_event (decoder->sinkpad, event)))\n-        break;\n-\n-      \/* if upstream fails for a time seek, maybe we can help if allowed *\/\n-      if (format == GST_FORMAT_TIME) {\n-        if (gst_video_decoder_do_byte (decoder))\n-          res = gst_video_decoder_do_seek (decoder, event);\n-        break;\n-      }\n-\n-      \/* ... though a non-time seek can be aided as well *\/\n-      \/* First bring the requested format to time *\/\n-      if (!(res =\n-              gst_pad_query_convert (decoder->srcpad, format, start,\n-                  GST_FORMAT_TIME, &tstart)))\n-        goto convert_error;\n-      if (!(res =\n-              gst_pad_query_convert (decoder->srcpad, format, stop,\n-                  GST_FORMAT_TIME, &tstop)))\n-        goto convert_error;\n-\n-      \/* then seek with time on the peer *\/\n-      event = gst_event_new_seek (rate, GST_FORMAT_TIME,\n-          flags, start_type, tstart, stop_type, tstop);\n-      gst_event_set_seqnum (event, seqnum);\n-\n-      res = gst_pad_push_event (decoder->sinkpad, event);\n-      break;\n-    }\n-    case GST_EVENT_QOS:\n-    {\n-      GstQOSType type;\n-      gdouble proportion;\n-      GstClockTimeDiff diff;\n-      GstClockTime timestamp;\n-\n-      gst_event_parse_qos (event, &type, &proportion, &diff, &timestamp);\n-\n-      GST_OBJECT_LOCK (decoder);\n-      priv->proportion = proportion;\n-      if (G_LIKELY (GST_CLOCK_TIME_IS_VALID (timestamp))) {\n-        if (G_UNLIKELY (diff > 0)) {\n-          priv->earliest_time = timestamp + 2 * diff + priv->qos_frame_duration;\n-        } else {\n-          priv->earliest_time = timestamp + diff;\n-        }\n-      } else {\n-        priv->earliest_time = GST_CLOCK_TIME_NONE;\n-      }\n-      GST_OBJECT_UNLOCK (decoder);\n-\n-      GST_DEBUG_OBJECT (decoder,\n-          \"got QoS %\" GST_TIME_FORMAT \", %\" GST_STIME_FORMAT \", %g\",\n-          GST_TIME_ARGS (timestamp), GST_STIME_ARGS (diff), proportion);\n-\n-      res = gst_pad_push_event (decoder->sinkpad, event);\n-      break;\n-    }\n-    default:\n-      res = gst_pad_push_event (decoder->sinkpad, event);\n-      break;\n-  }\n-done:\n-  return res;\n-\n-convert_error:\n-  GST_DEBUG_OBJECT (decoder, \"could not convert format\");\n-  goto done;\n-}\n-\n-static gboolean\n-gst_video_decoder_src_event (GstPad * pad, GstObject * parent, GstEvent * event)\n-{\n-  GstVideoDecoder *decoder;\n-  GstVideoDecoderClass *decoder_class;\n-  gboolean ret = FALSE;\n-\n-  decoder = GST_VIDEO_DECODER (parent);\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  GST_DEBUG_OBJECT (decoder, \"received event %d, %s\", GST_EVENT_TYPE (event),\n-      GST_EVENT_TYPE_NAME (event));\n-\n-  if (decoder_class->src_event)\n-    ret = decoder_class->src_event (decoder, event);\n-\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_decoder_src_query_default (GstVideoDecoder * dec, GstQuery * query)\n-{\n-  GstPad *pad = GST_VIDEO_DECODER_SRC_PAD (dec);\n-  gboolean res = TRUE;\n-\n-  GST_LOG_OBJECT (dec, \"handling query: %\" GST_PTR_FORMAT, query);\n-\n-  switch (GST_QUERY_TYPE (query)) {\n-    case GST_QUERY_POSITION:\n-    {\n-      GstFormat format;\n-      gint64 time, value;\n-\n-      \/* upstream gets a chance first *\/\n-      if ((res = gst_pad_peer_query (dec->sinkpad, query))) {\n-        GST_LOG_OBJECT (dec, \"returning peer response\");\n-        break;\n-      }\n-\n-      \/* Refuse BYTES format queries. If it made sense to\n-       * answer them, upstream would have already *\/\n-      gst_query_parse_position (query, &format, NULL);\n-\n-      if (format == GST_FORMAT_BYTES) {\n-        GST_LOG_OBJECT (dec, \"Ignoring BYTES position query\");\n-        break;\n-      }\n-\n-      \/* we start from the last seen time *\/\n-      time = dec->priv->last_timestamp_out;\n-      \/* correct for the segment values *\/\n-      time = gst_segment_to_stream_time (&dec->output_segment,\n-          GST_FORMAT_TIME, time);\n-\n-      GST_LOG_OBJECT (dec,\n-          \"query %p: our time: %\" GST_TIME_FORMAT, query, GST_TIME_ARGS (time));\n-\n-      \/* and convert to the final format *\/\n-      if (!(res = gst_pad_query_convert (pad, GST_FORMAT_TIME, time,\n-                  format, &value)))\n-        break;\n-\n-      gst_query_set_position (query, format, value);\n-\n-      GST_LOG_OBJECT (dec,\n-          \"query %p: we return %\" G_GINT64_FORMAT \" (format %u)\", query, value,\n-          format);\n-      break;\n-    }\n-    case GST_QUERY_DURATION:\n-    {\n-      GstFormat format;\n-\n-      \/* upstream in any case *\/\n-      if ((res = gst_pad_query_default (pad, GST_OBJECT (dec), query)))\n-        break;\n-\n-      gst_query_parse_duration (query, &format, NULL);\n-      \/* try answering TIME by converting from BYTE if subclass allows  *\/\n-      if (format == GST_FORMAT_TIME && gst_video_decoder_do_byte (dec)) {\n-        gint64 value;\n-\n-        if (gst_pad_peer_query_duration (dec->sinkpad, GST_FORMAT_BYTES,\n-                &value)) {\n-          GST_LOG_OBJECT (dec, \"upstream size %\" G_GINT64_FORMAT, value);\n-          if (gst_pad_query_convert (dec->sinkpad,\n-                  GST_FORMAT_BYTES, value, GST_FORMAT_TIME, &value)) {\n-            gst_query_set_duration (query, GST_FORMAT_TIME, value);\n-            res = TRUE;\n-          }\n-        }\n-      }\n-      break;\n-    }\n-    case GST_QUERY_CONVERT:\n-    {\n-      GstFormat src_fmt, dest_fmt;\n-      gint64 src_val, dest_val;\n-\n-      GST_DEBUG_OBJECT (dec, \"convert query\");\n-\n-      gst_query_parse_convert (query, &src_fmt, &src_val, &dest_fmt, &dest_val);\n-      GST_OBJECT_LOCK (dec);\n-      if (dec->priv->output_state != NULL)\n-        res = __gst_video_rawvideo_convert (dec->priv->output_state,\n-            src_fmt, src_val, &dest_fmt, &dest_val);\n-      else\n-        res = FALSE;\n-      GST_OBJECT_UNLOCK (dec);\n-      if (!res)\n-        goto error;\n-      gst_query_set_convert (query, src_fmt, src_val, dest_fmt, dest_val);\n-      break;\n-    }\n-    case GST_QUERY_LATENCY:\n-    {\n-      gboolean live;\n-      GstClockTime min_latency, max_latency;\n-\n-      res = gst_pad_peer_query (dec->sinkpad, query);\n-      if (res) {\n-        gst_query_parse_latency (query, &live, &min_latency, &max_latency);\n-        GST_DEBUG_OBJECT (dec, \"Peer qlatency: live %d, min %\"\n-            GST_TIME_FORMAT \" max %\" GST_TIME_FORMAT, live,\n-            GST_TIME_ARGS (min_latency), GST_TIME_ARGS (max_latency));\n-\n-        GST_OBJECT_LOCK (dec);\n-        min_latency += dec->priv->min_latency;\n-        if (max_latency == GST_CLOCK_TIME_NONE\n-            || dec->priv->max_latency == GST_CLOCK_TIME_NONE)\n-          max_latency = GST_CLOCK_TIME_NONE;\n-        else\n-          max_latency += dec->priv->max_latency;\n-        GST_OBJECT_UNLOCK (dec);\n-\n-        gst_query_set_latency (query, live, min_latency, max_latency);\n-      }\n-    }\n-      break;\n-    default:\n-      res = gst_pad_query_default (pad, GST_OBJECT (dec), query);\n-  }\n-  return res;\n-\n-error:\n-  GST_ERROR_OBJECT (dec, \"query failed\");\n-  return res;\n-}\n-\n-static gboolean\n-gst_video_decoder_src_query (GstPad * pad, GstObject * parent, GstQuery * query)\n-{\n-  GstVideoDecoder *decoder;\n-  GstVideoDecoderClass *decoder_class;\n-  gboolean ret = FALSE;\n-\n-  decoder = GST_VIDEO_DECODER (parent);\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  GST_DEBUG_OBJECT (decoder, \"received query %d, %s\", GST_QUERY_TYPE (query),\n-      GST_QUERY_TYPE_NAME (query));\n-\n-  if (decoder_class->src_query)\n-    ret = decoder_class->src_query (decoder, query);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_decoder_proxy_getcaps:\n- * @decoder: a #GstVideoDecoder\n- * @caps: (allow-none): initial caps\n- * @filter: (allow-none): filter caps\n- *\n- * Returns caps that express @caps (or sink template caps if @caps == NULL)\n- * restricted to resolution\/format\/... combinations supported by downstream\n- * elements.\n- *\n- * Returns: (transfer full): a #GstCaps owned by caller\n- *\n- * Since: 1.6\n- *\/\n-GstCaps *\n-gst_video_decoder_proxy_getcaps (GstVideoDecoder * decoder, GstCaps * caps,\n-    GstCaps * filter)\n-{\n-  return __gst_video_element_proxy_getcaps (GST_ELEMENT_CAST (decoder),\n-      GST_VIDEO_DECODER_SINK_PAD (decoder),\n-      GST_VIDEO_DECODER_SRC_PAD (decoder), caps, filter);\n-}\n-\n-static GstCaps *\n-gst_video_decoder_sink_getcaps (GstVideoDecoder * decoder, GstCaps * filter)\n-{\n-  GstVideoDecoderClass *klass;\n-  GstCaps *caps;\n-\n-  klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  if (klass->getcaps)\n-    caps = klass->getcaps (decoder, filter);\n-  else\n-    caps = gst_video_decoder_proxy_getcaps (decoder, NULL, filter);\n-\n-  GST_LOG_OBJECT (decoder, \"Returning caps %\" GST_PTR_FORMAT, caps);\n-\n-  return caps;\n-}\n-\n-static gboolean\n-gst_video_decoder_sink_query_default (GstVideoDecoder * decoder,\n-    GstQuery * query)\n-{\n-  GstPad *pad = GST_VIDEO_DECODER_SINK_PAD (decoder);\n-  GstVideoDecoderPrivate *priv;\n-  gboolean res = FALSE;\n-\n-  priv = decoder->priv;\n-\n-  GST_LOG_OBJECT (decoder, \"handling query: %\" GST_PTR_FORMAT, query);\n-\n-  switch (GST_QUERY_TYPE (query)) {\n-    case GST_QUERY_CONVERT:\n-    {\n-      GstFormat src_fmt, dest_fmt;\n-      gint64 src_val, dest_val;\n-\n-      gst_query_parse_convert (query, &src_fmt, &src_val, &dest_fmt, &dest_val);\n-      GST_OBJECT_LOCK (decoder);\n-      res =\n-          __gst_video_encoded_video_convert (priv->bytes_out, priv->time,\n-          src_fmt, src_val, &dest_fmt, &dest_val);\n-      GST_OBJECT_UNLOCK (decoder);\n-      if (!res)\n-        goto error;\n-      gst_query_set_convert (query, src_fmt, src_val, dest_fmt, dest_val);\n-      break;\n-    }\n-    case GST_QUERY_ALLOCATION:{\n-      GstVideoDecoderClass *klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-      if (klass->propose_allocation)\n-        res = klass->propose_allocation (decoder, query);\n-      break;\n-    }\n-    case GST_QUERY_CAPS:{\n-      GstCaps *filter, *caps;\n-\n-      gst_query_parse_caps (query, &filter);\n-      caps = gst_video_decoder_sink_getcaps (decoder, filter);\n-      gst_query_set_caps_result (query, caps);\n-      gst_caps_unref (caps);\n-      res = TRUE;\n-      break;\n-    }\n-    case GST_QUERY_ACCEPT_CAPS:{\n-      if (decoder->priv->use_default_pad_acceptcaps) {\n-        res =\n-            gst_pad_query_default (GST_VIDEO_DECODER_SINK_PAD (decoder),\n-            GST_OBJECT_CAST (decoder), query);\n-      } else {\n-        GstCaps *caps;\n-        GstCaps *allowed_caps;\n-        GstCaps *template_caps;\n-        gboolean accept;\n-\n-        gst_query_parse_accept_caps (query, &caps);\n-\n-        template_caps = gst_pad_get_pad_template_caps (pad);\n-        accept = gst_caps_is_subset (caps, template_caps);\n-        gst_caps_unref (template_caps);\n-\n-        if (accept) {\n-          allowed_caps =\n-              gst_pad_query_caps (GST_VIDEO_DECODER_SINK_PAD (decoder), caps);\n-\n-          accept = gst_caps_can_intersect (caps, allowed_caps);\n-\n-          gst_caps_unref (allowed_caps);\n-        }\n-\n-        gst_query_set_accept_caps_result (query, accept);\n-        res = TRUE;\n-      }\n-      break;\n-    }\n-    default:\n-      res = gst_pad_query_default (pad, GST_OBJECT (decoder), query);\n-      break;\n-  }\n-done:\n-\n-  return res;\n-error:\n-  GST_DEBUG_OBJECT (decoder, \"query failed\");\n-  goto done;\n-\n-}\n-\n-static gboolean\n-gst_video_decoder_sink_query (GstPad * pad, GstObject * parent,\n-    GstQuery * query)\n-{\n-  GstVideoDecoder *decoder;\n-  GstVideoDecoderClass *decoder_class;\n-  gboolean ret = FALSE;\n-\n-  decoder = GST_VIDEO_DECODER (parent);\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  GST_DEBUG_OBJECT (decoder, \"received query %d, %s\", GST_QUERY_TYPE (query),\n-      GST_QUERY_TYPE_NAME (query));\n-\n-  if (decoder_class->sink_query)\n-    ret = decoder_class->sink_query (decoder, query);\n-\n-  return ret;\n-}\n-\n-typedef struct _Timestamp Timestamp;\n-struct _Timestamp\n-{\n-  guint64 offset;\n-  GstClockTime pts;\n-  GstClockTime dts;\n-  GstClockTime duration;\n-  guint flags;\n-};\n-\n-static void\n-timestamp_free (Timestamp * ts)\n-{\n-  g_slice_free (Timestamp, ts);\n-}\n-\n-static void\n-gst_video_decoder_add_buffer_info (GstVideoDecoder * decoder,\n-    GstBuffer * buffer)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  Timestamp *ts;\n-\n-  if (!GST_BUFFER_PTS_IS_VALID (buffer) &&\n-      !GST_BUFFER_DTS_IS_VALID (buffer) &&\n-      !GST_BUFFER_DURATION_IS_VALID (buffer) &&\n-      GST_BUFFER_FLAGS (buffer) == 0) {\n-    \/* Save memory - don't bother storing info\n-     * for buffers with no distinguishing info *\/\n-    return;\n-  }\n-\n-  ts = g_slice_new (Timestamp);\n-\n-  GST_LOG_OBJECT (decoder,\n-      \"adding PTS %\" GST_TIME_FORMAT \" DTS %\" GST_TIME_FORMAT\n-      \" (offset:%\" G_GUINT64_FORMAT \")\",\n-      GST_TIME_ARGS (GST_BUFFER_PTS (buffer)),\n-      GST_TIME_ARGS (GST_BUFFER_DTS (buffer)), priv->input_offset);\n-\n-  ts->offset = priv->input_offset;\n-  ts->pts = GST_BUFFER_PTS (buffer);\n-  ts->dts = GST_BUFFER_DTS (buffer);\n-  ts->duration = GST_BUFFER_DURATION (buffer);\n-  ts->flags = GST_BUFFER_FLAGS (buffer);\n-\n-  g_queue_push_tail (&priv->timestamps, ts);\n-\n-  if (g_queue_get_length (&priv->timestamps) > 40) {\n-    GST_WARNING_OBJECT (decoder,\n-        \"decoder timestamp list getting long: %d timestamps,\"\n-        \"possible internal leaking?\", g_queue_get_length (&priv->timestamps));\n-  }\n-}\n-\n-static void\n-gst_video_decoder_get_buffer_info_at_offset (GstVideoDecoder *\n-    decoder, guint64 offset, GstClockTime * pts, GstClockTime * dts,\n-    GstClockTime * duration, guint * flags)\n-{\n-#ifndef GST_DISABLE_GST_DEBUG\n-  guint64 got_offset = 0;\n-#endif\n-  Timestamp *ts;\n-  GList *g;\n-\n-  *pts = GST_CLOCK_TIME_NONE;\n-  *dts = GST_CLOCK_TIME_NONE;\n-  *duration = GST_CLOCK_TIME_NONE;\n-  *flags = 0;\n-\n-  g = decoder->priv->timestamps.head;\n-  while (g) {\n-    ts = g->data;\n-    if (ts->offset <= offset) {\n-      GList *next = g->next;\n-#ifndef GST_DISABLE_GST_DEBUG\n-      got_offset = ts->offset;\n-#endif\n-      *pts = ts->pts;\n-      *dts = ts->dts;\n-      *duration = ts->duration;\n-      *flags = ts->flags;\n-      g_queue_delete_link (&decoder->priv->timestamps, g);\n-      g = next;\n-      timestamp_free (ts);\n-    } else {\n-      break;\n-    }\n-  }\n-\n-  GST_LOG_OBJECT (decoder,\n-      \"got PTS %\" GST_TIME_FORMAT \" DTS %\" GST_TIME_FORMAT \" flags %x @ offs %\"\n-      G_GUINT64_FORMAT \" (wanted offset:%\" G_GUINT64_FORMAT \")\",\n-      GST_TIME_ARGS (*pts), GST_TIME_ARGS (*dts), *flags, got_offset, offset);\n-}\n-\n-#if !GLIB_CHECK_VERSION(2, 60, 0)\n-#define g_queue_clear_full queue_clear_full\n-static void\n-queue_clear_full (GQueue * queue, GDestroyNotify free_func)\n-{\n-  gpointer data;\n-\n-  while ((data = g_queue_pop_head (queue)) != NULL)\n-    free_func (data);\n-}\n-#endif\n-\n-static void\n-gst_video_decoder_clear_queues (GstVideoDecoder * dec)\n-{\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-\n-  g_list_free_full (priv->output_queued,\n-      (GDestroyNotify) gst_mini_object_unref);\n-  priv->output_queued = NULL;\n-\n-  g_list_free_full (priv->gather, (GDestroyNotify) gst_mini_object_unref);\n-  priv->gather = NULL;\n-  g_list_free_full (priv->decode, (GDestroyNotify) gst_video_codec_frame_unref);\n-  priv->decode = NULL;\n-  g_list_free_full (priv->parse, (GDestroyNotify) gst_mini_object_unref);\n-  priv->parse = NULL;\n-  g_list_free_full (priv->parse_gather,\n-      (GDestroyNotify) gst_video_codec_frame_unref);\n-  priv->parse_gather = NULL;\n-  g_queue_clear_full (&priv->frames,\n-      (GDestroyNotify) gst_video_codec_frame_unref);\n-}\n-\n-static void\n-gst_video_decoder_reset (GstVideoDecoder * decoder, gboolean full,\n-    gboolean flush_hard)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-\n-  GST_DEBUG_OBJECT (decoder, \"reset full %d\", full);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  if (full || flush_hard) {\n-    gst_segment_init (&decoder->input_segment, GST_FORMAT_UNDEFINED);\n-    gst_segment_init (&decoder->output_segment, GST_FORMAT_UNDEFINED);\n-    gst_video_decoder_clear_queues (decoder);\n-    decoder->priv->in_out_segment_sync = TRUE;\n-\n-    if (priv->current_frame) {\n-      gst_video_codec_frame_unref (priv->current_frame);\n-      priv->current_frame = NULL;\n-    }\n-\n-    g_list_free_full (priv->current_frame_events,\n-        (GDestroyNotify) gst_event_unref);\n-    priv->current_frame_events = NULL;\n-    g_list_free_full (priv->pending_events, (GDestroyNotify) gst_event_unref);\n-    priv->pending_events = NULL;\n-\n-    priv->error_count = 0;\n-    priv->had_output_data = FALSE;\n-    priv->had_input_data = FALSE;\n-\n-    GST_OBJECT_LOCK (decoder);\n-    priv->earliest_time = GST_CLOCK_TIME_NONE;\n-    priv->proportion = 0.5;\n-    priv->decode_flags_override = FALSE;\n-\n-    priv->request_sync_point_flags = 0;\n-    priv->request_sync_point_frame_number = REQUEST_SYNC_POINT_UNSET;\n-    priv->last_force_key_unit_time = GST_CLOCK_TIME_NONE;\n-    GST_OBJECT_UNLOCK (decoder);\n-    priv->distance_from_sync = -1;\n-  }\n-\n-  if (full) {\n-    if (priv->input_state)\n-      gst_video_codec_state_unref (priv->input_state);\n-    priv->input_state = NULL;\n-    GST_OBJECT_LOCK (decoder);\n-    if (priv->output_state)\n-      gst_video_codec_state_unref (priv->output_state);\n-    priv->output_state = NULL;\n-\n-    priv->qos_frame_duration = 0;\n-    GST_OBJECT_UNLOCK (decoder);\n-\n-    if (priv->tags)\n-      gst_tag_list_unref (priv->tags);\n-    priv->tags = NULL;\n-    priv->tags_merge_mode = GST_TAG_MERGE_APPEND;\n-    if (priv->upstream_tags) {\n-      gst_tag_list_unref (priv->upstream_tags);\n-      priv->upstream_tags = NULL;\n-    }\n-    priv->tags_changed = FALSE;\n-    priv->reordered_output = FALSE;\n-\n-    priv->dropped = 0;\n-    priv->processed = 0;\n-\n-    priv->decode_frame_number = 0;\n-    priv->base_picture_number = 0;\n-\n-    if (priv->pool) {\n-      GST_DEBUG_OBJECT (decoder, \"deactivate pool %\" GST_PTR_FORMAT,\n-          priv->pool);\n-      gst_buffer_pool_set_active (priv->pool, FALSE);\n-      gst_object_unref (priv->pool);\n-      priv->pool = NULL;\n-    }\n-\n-    if (priv->allocator) {\n-      gst_object_unref (priv->allocator);\n-      priv->allocator = NULL;\n-    }\n-  }\n-\n-  priv->discont = TRUE;\n-\n-  priv->base_timestamp = GST_CLOCK_TIME_NONE;\n-  priv->last_timestamp_out = GST_CLOCK_TIME_NONE;\n-  priv->pts_delta = GST_CLOCK_TIME_NONE;\n-\n-  priv->input_offset = 0;\n-  priv->frame_offset = 0;\n-  gst_adapter_clear (priv->input_adapter);\n-  gst_adapter_clear (priv->output_adapter);\n-  g_queue_clear_full (&priv->timestamps, (GDestroyNotify) timestamp_free);\n-\n-  GST_OBJECT_LOCK (decoder);\n-  priv->bytes_out = 0;\n-  priv->time = 0;\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-#ifndef GST_DISABLE_DEBUG\n-  priv->last_reset_time = gst_util_get_timestamp ();\n-#endif\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-}\n-\n-static GstFlowReturn\n-gst_video_decoder_chain_forward (GstVideoDecoder * decoder,\n-    GstBuffer * buf, gboolean at_eos)\n-{\n-  GstVideoDecoderPrivate *priv;\n-  GstVideoDecoderClass *klass;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-\n-  klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-  priv = decoder->priv;\n-\n-  g_return_val_if_fail (priv->packetized || klass->parse, GST_FLOW_ERROR);\n-\n-  \/* Draining on DISCONT is handled in chain_reverse() for reverse playback,\n-   * and this function would only be called to get everything collected GOP\n-   * by GOP in the parse_gather list *\/\n-  if (decoder->input_segment.rate > 0.0 && GST_BUFFER_IS_DISCONT (buf)\n-      && (decoder->input_segment.flags & GST_SEEK_FLAG_TRICKMODE_KEY_UNITS))\n-    ret = gst_video_decoder_drain_out (decoder, FALSE);\n-\n-  if (priv->current_frame == NULL)\n-    priv->current_frame = gst_video_decoder_new_frame (decoder);\n-\n-  if (!priv->packetized)\n-    gst_video_decoder_add_buffer_info (decoder, buf);\n-\n-  priv->input_offset += gst_buffer_get_size (buf);\n-\n-  if (priv->packetized) {\n-    GstVideoCodecFrame *frame;\n-    gboolean was_keyframe = FALSE;\n-\n-    frame = priv->current_frame;\n-\n-    frame->abidata.ABI.num_subframes++;\n-    if (gst_video_decoder_get_subframe_mode (decoder)) {\n-      \/* End the frame if the marker flag is set *\/\n-      if (!GST_BUFFER_FLAG_IS_SET (buf, GST_VIDEO_BUFFER_FLAG_MARKER)\n-          && (decoder->input_segment.rate > 0.0))\n-        priv->current_frame = gst_video_codec_frame_ref (frame);\n-      else\n-        priv->current_frame = NULL;\n-    } else {\n-      priv->current_frame = frame;\n-    }\n-\n-    if (!GST_BUFFER_FLAG_IS_SET (buf, GST_BUFFER_FLAG_DELTA_UNIT)) {\n-      was_keyframe = TRUE;\n-      GST_DEBUG_OBJECT (decoder, \"Marking current_frame as sync point\");\n-      GST_VIDEO_CODEC_FRAME_SET_SYNC_POINT (frame);\n-    }\n-\n-    if (frame->input_buffer) {\n-      gst_video_decoder_copy_metas (decoder, frame, frame->input_buffer, buf);\n-      gst_buffer_unref (frame->input_buffer);\n-    }\n-    frame->input_buffer = buf;\n-\n-    if (decoder->input_segment.rate < 0.0) {\n-      priv->parse_gather = g_list_prepend (priv->parse_gather, frame);\n-      priv->current_frame = NULL;\n-    } else {\n-      ret = gst_video_decoder_decode_frame (decoder, frame);\n-      if (!gst_video_decoder_get_subframe_mode (decoder))\n-        priv->current_frame = NULL;\n-    }\n-    \/* If in trick mode and it was a keyframe, drain decoder to avoid extra\n-     * latency. Only do this for forwards playback as reverse playback handles\n-     * draining on keyframes in flush_parse(), and would otherwise call back\n-     * from drain_out() to here causing an infinite loop.\n-     * Also this function is only called for reverse playback to gather frames\n-     * GOP by GOP, and does not do any actual decoding. That would be done by\n-     * flush_decode() *\/\n-    if (ret == GST_FLOW_OK && was_keyframe && decoder->input_segment.rate > 0.0\n-        && (decoder->input_segment.flags & GST_SEEK_FLAG_TRICKMODE_KEY_UNITS))\n-      ret = gst_video_decoder_drain_out (decoder, FALSE);\n-  } else {\n-    gst_adapter_push (priv->input_adapter, buf);\n-\n-    ret = gst_video_decoder_parse_available (decoder, at_eos, TRUE);\n-  }\n-\n-  if (ret == GST_VIDEO_DECODER_FLOW_NEED_DATA)\n-    return GST_FLOW_OK;\n-\n-  return ret;\n-}\n-\n-static GstFlowReturn\n-gst_video_decoder_flush_decode (GstVideoDecoder * dec)\n-{\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-  GstFlowReturn res = GST_FLOW_OK;\n-  GList *walk;\n-  GstVideoCodecFrame *current_frame = NULL;\n-  gboolean last_subframe;\n-  GST_DEBUG_OBJECT (dec, \"flushing buffers to decode\");\n-\n-  walk = priv->decode;\n-  while (walk) {\n-    GList *next;\n-    GstVideoCodecFrame *frame = (GstVideoCodecFrame *) (walk->data);\n-    last_subframe = TRUE;\n-    \/* In subframe mode, we need to get rid of intermediary frames\n-     * created during the buffer gather stage. That's why that we keep a current\n-     * frame as the main frame and drop all the frame afterwhile until the end\n-     * of the subframes batch.\n-     * *\/\n-    if (gst_video_decoder_get_subframe_mode (dec)) {\n-      if (current_frame == NULL) {\n-        current_frame = gst_video_codec_frame_ref (frame);\n-      } else {\n-        if (current_frame->input_buffer) {\n-          gst_video_decoder_copy_metas (dec, current_frame,\n-              current_frame->input_buffer, current_frame->output_buffer);\n-          gst_buffer_unref (current_frame->input_buffer);\n-        }\n-        current_frame->input_buffer = gst_buffer_ref (frame->input_buffer);\n-        gst_video_codec_frame_unref (frame);\n-      }\n-      last_subframe = GST_BUFFER_FLAG_IS_SET (current_frame->input_buffer,\n-          GST_VIDEO_BUFFER_FLAG_MARKER);\n-    } else {\n-      current_frame = frame;\n-    }\n-\n-    GST_DEBUG_OBJECT (dec, \"decoding frame %p buffer %p, PTS %\" GST_TIME_FORMAT\n-        \", DTS %\" GST_TIME_FORMAT, frame, frame->input_buffer,\n-        GST_TIME_ARGS (GST_BUFFER_PTS (frame->input_buffer)),\n-        GST_TIME_ARGS (GST_BUFFER_DTS (frame->input_buffer)));\n-\n-    next = walk->next;\n-\n-    priv->decode = g_list_delete_link (priv->decode, walk);\n-\n-    \/* decode buffer, resulting data prepended to queue *\/\n-    res = gst_video_decoder_decode_frame (dec, current_frame);\n-    if (res != GST_FLOW_OK)\n-      break;\n-    if (!gst_video_decoder_get_subframe_mode (dec)\n-        || last_subframe)\n-      current_frame = NULL;\n-    walk = next;\n-  }\n-\n-  return res;\n-}\n-\n-\/* gst_video_decoder_flush_parse is called from the\n- * chain_reverse() function when a buffer containing\n- * a DISCONT - indicating that reverse playback\n- * looped back to the next data block, and therefore\n- * all available data should be fed through the\n- * decoder and frames gathered for reversed output\n- *\/\n-static GstFlowReturn\n-gst_video_decoder_flush_parse (GstVideoDecoder * dec, gboolean at_eos)\n-{\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-  GstFlowReturn res = GST_FLOW_OK;\n-  GList *walk;\n-  GstVideoDecoderClass *decoder_class;\n-\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (dec);\n-\n-  GST_DEBUG_OBJECT (dec, \"flushing buffers to parsing\");\n-\n-  \/* Reverse the gather list, and prepend it to the parse list,\n-   * then flush to parse whatever we can *\/\n-  priv->gather = g_list_reverse (priv->gather);\n-  priv->parse = g_list_concat (priv->gather, priv->parse);\n-  priv->gather = NULL;\n-\n-  \/* clear buffer and decoder state *\/\n-  gst_video_decoder_flush (dec, FALSE);\n-\n-  walk = priv->parse;\n-  while (walk) {\n-    GstBuffer *buf = GST_BUFFER_CAST (walk->data);\n-    GList *next = walk->next;\n-\n-    GST_DEBUG_OBJECT (dec, \"parsing buffer %p, PTS %\" GST_TIME_FORMAT\n-        \", DTS %\" GST_TIME_FORMAT \" flags %x\", buf,\n-        GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n-        GST_TIME_ARGS (GST_BUFFER_DTS (buf)), GST_BUFFER_FLAGS (buf));\n-\n-    \/* parse buffer, resulting frames prepended to parse_gather queue *\/\n-    gst_buffer_ref (buf);\n-    res = gst_video_decoder_chain_forward (dec, buf, at_eos);\n-\n-    \/* if we generated output, we can discard the buffer, else we\n-     * keep it in the queue *\/\n-    if (priv->parse_gather) {\n-      GST_DEBUG_OBJECT (dec, \"parsed buffer to %p\", priv->parse_gather->data);\n-      priv->parse = g_list_delete_link (priv->parse, walk);\n-      gst_buffer_unref (buf);\n-    } else {\n-      GST_DEBUG_OBJECT (dec, \"buffer did not decode, keeping\");\n-    }\n-    walk = next;\n-  }\n-\n-  walk = priv->parse_gather;\n-  while (walk) {\n-    GstVideoCodecFrame *frame = (GstVideoCodecFrame *) (walk->data);\n-    GList *walk2;\n-\n-    \/* this is reverse playback, check if we need to apply some segment\n-     * to the output before decoding, as during decoding the segment.rate\n-     * must be used to determine if a buffer should be pushed or added to\n-     * the output list for reverse pushing.\n-     *\n-     * The new segment is not immediately pushed here because we must\n-     * wait for negotiation to happen before it can be pushed to avoid\n-     * pushing a segment before caps event. Negotiation only happens\n-     * when finish_frame is called.\n-     *\/\n-    for (walk2 = frame->events; walk2;) {\n-      GList *cur = walk2;\n-      GstEvent *event = walk2->data;\n-\n-      walk2 = g_list_next (walk2);\n-      if (GST_EVENT_TYPE (event) <= GST_EVENT_SEGMENT) {\n-\n-        if (GST_EVENT_TYPE (event) == GST_EVENT_SEGMENT) {\n-          GstSegment segment;\n-\n-          GST_DEBUG_OBJECT (dec, \"Segment at frame %p %\" GST_TIME_FORMAT,\n-              frame, GST_TIME_ARGS (GST_BUFFER_PTS (frame->input_buffer)));\n-          gst_event_copy_segment (event, &segment);\n-          if (segment.format == GST_FORMAT_TIME) {\n-            dec->output_segment = segment;\n-            dec->priv->in_out_segment_sync =\n-                gst_segment_is_equal (&dec->input_segment, &segment);\n-          }\n-        }\n-        dec->priv->pending_events =\n-            g_list_append (dec->priv->pending_events, event);\n-        frame->events = g_list_delete_link (frame->events, cur);\n-      }\n-    }\n-\n-    walk = walk->next;\n-  }\n-\n-  \/* now we can process frames. Start by moving each frame from the parse_gather\n-   * to the decode list, reverse the order as we go, and stopping when\/if we\n-   * copy a keyframe. *\/\n-  GST_DEBUG_OBJECT (dec, \"checking parsed frames for a keyframe to decode\");\n-  walk = priv->parse_gather;\n-  while (walk) {\n-    GstVideoCodecFrame *frame = (GstVideoCodecFrame *) (walk->data);\n-\n-    \/* remove from the gather list *\/\n-    priv->parse_gather = g_list_remove_link (priv->parse_gather, walk);\n-\n-    \/* move it to the front of the decode queue *\/\n-    priv->decode = g_list_concat (walk, priv->decode);\n-\n-    \/* if we copied a keyframe, flush and decode the decode queue *\/\n-    if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame)) {\n-      GST_DEBUG_OBJECT (dec, \"found keyframe %p with PTS %\" GST_TIME_FORMAT\n-          \", DTS %\" GST_TIME_FORMAT, frame,\n-          GST_TIME_ARGS (GST_BUFFER_PTS (frame->input_buffer)),\n-          GST_TIME_ARGS (GST_BUFFER_DTS (frame->input_buffer)));\n-      res = gst_video_decoder_flush_decode (dec);\n-      if (res != GST_FLOW_OK)\n-        goto done;\n-\n-      \/* We need to tell the subclass to drain now.\n-       * We prefer the drain vfunc, but for backward-compat\n-       * we use a finish() vfunc if drain isn't implemented *\/\n-      if (decoder_class->drain) {\n-        GST_DEBUG_OBJECT (dec, \"Draining\");\n-        res = decoder_class->drain (dec);\n-      } else if (decoder_class->finish) {\n-        GST_FIXME_OBJECT (dec, \"Sub-class should implement drain(). \"\n-            \"Calling finish() for backwards-compat\");\n-        res = decoder_class->finish (dec);\n-      }\n-\n-      if (res != GST_FLOW_OK)\n-        goto done;\n-\n-      \/* now send queued data downstream *\/\n-      walk = priv->output_queued;\n-      while (walk) {\n-        GstBuffer *buf = GST_BUFFER_CAST (walk->data);\n-\n-        priv->output_queued =\n-            g_list_delete_link (priv->output_queued, priv->output_queued);\n-\n-        if (G_LIKELY (res == GST_FLOW_OK)) {\n-          \/* avoid stray DISCONT from forward processing,\n-           * which have no meaning in reverse pushing *\/\n-          GST_BUFFER_FLAG_UNSET (buf, GST_BUFFER_FLAG_DISCONT);\n-\n-          \/* Last chance to calculate a timestamp as we loop backwards\n-           * through the list *\/\n-          if (GST_BUFFER_TIMESTAMP (buf) != GST_CLOCK_TIME_NONE)\n-            priv->last_timestamp_out = GST_BUFFER_TIMESTAMP (buf);\n-          else if (priv->last_timestamp_out != GST_CLOCK_TIME_NONE &&\n-              GST_BUFFER_DURATION (buf) != GST_CLOCK_TIME_NONE) {\n-            GST_BUFFER_TIMESTAMP (buf) =\n-                priv->last_timestamp_out - GST_BUFFER_DURATION (buf);\n-            priv->last_timestamp_out = GST_BUFFER_TIMESTAMP (buf);\n-            GST_LOG_OBJECT (dec,\n-                \"Calculated TS %\" GST_TIME_FORMAT \" working backwards\",\n-                GST_TIME_ARGS (priv->last_timestamp_out));\n-          }\n-\n-          res = gst_video_decoder_clip_and_push_buf (dec, buf);\n-        } else {\n-          gst_buffer_unref (buf);\n-        }\n-\n-        walk = priv->output_queued;\n-      }\n-\n-      \/* clear buffer and decoder state again\n-       * before moving to the previous keyframe *\/\n-      gst_video_decoder_flush (dec, FALSE);\n-    }\n-\n-    walk = priv->parse_gather;\n-  }\n-\n-done:\n-  return res;\n-}\n-\n-static GstFlowReturn\n-gst_video_decoder_chain_reverse (GstVideoDecoder * dec, GstBuffer * buf)\n-{\n-  GstVideoDecoderPrivate *priv = dec->priv;\n-  GstFlowReturn result = GST_FLOW_OK;\n-\n-  \/* if we have a discont, move buffers to the decode list *\/\n-  if (!buf || GST_BUFFER_IS_DISCONT (buf)) {\n-    GST_DEBUG_OBJECT (dec, \"received discont\");\n-\n-    \/* parse and decode stuff in the gather and parse queues *\/\n-    result = gst_video_decoder_flush_parse (dec, FALSE);\n-  }\n-\n-  if (G_LIKELY (buf)) {\n-    GST_DEBUG_OBJECT (dec, \"gathering buffer %p of size %\" G_GSIZE_FORMAT \", \"\n-        \"PTS %\" GST_TIME_FORMAT \", DTS %\" GST_TIME_FORMAT \", dur %\"\n-        GST_TIME_FORMAT, buf, gst_buffer_get_size (buf),\n-        GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n-        GST_TIME_ARGS (GST_BUFFER_DTS (buf)),\n-        GST_TIME_ARGS (GST_BUFFER_DURATION (buf)));\n-\n-    \/* add buffer to gather queue *\/\n-    priv->gather = g_list_prepend (priv->gather, buf);\n-  }\n-\n-  return result;\n-}\n-\n-static GstFlowReturn\n-gst_video_decoder_chain (GstPad * pad, GstObject * parent, GstBuffer * buf)\n-{\n-  GstVideoDecoder *decoder;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-\n-  decoder = GST_VIDEO_DECODER (parent);\n-\n-  if (G_UNLIKELY (!decoder->priv->input_state && decoder->priv->needs_format))\n-    goto not_negotiated;\n-\n-  GST_LOG_OBJECT (decoder,\n-      \"chain PTS %\" GST_TIME_FORMAT \", DTS %\" GST_TIME_FORMAT \" duration %\"\n-      GST_TIME_FORMAT \" size %\" G_GSIZE_FORMAT \" flags %x\",\n-      GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n-      GST_TIME_ARGS (GST_BUFFER_DTS (buf)),\n-      GST_TIME_ARGS (GST_BUFFER_DURATION (buf)),\n-      gst_buffer_get_size (buf), GST_BUFFER_FLAGS (buf));\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  \/* NOTE:\n-   * requiring the pad to be negotiated makes it impossible to use\n-   * oggdemux or filesrc ! decoder *\/\n-\n-  if (decoder->input_segment.format == GST_FORMAT_UNDEFINED) {\n-    GstEvent *event;\n-    GstSegment *segment = &decoder->input_segment;\n-\n-    GST_WARNING_OBJECT (decoder,\n-        \"Received buffer without a new-segment. \"\n-        \"Assuming timestamps start from 0.\");\n-\n-    gst_segment_init (segment, GST_FORMAT_TIME);\n-\n-    event = gst_event_new_segment (segment);\n-\n-    decoder->priv->current_frame_events =\n-        g_list_prepend (decoder->priv->current_frame_events, event);\n-  }\n-\n-  decoder->priv->had_input_data = TRUE;\n-\n-  if (decoder->input_segment.rate > 0.0)\n-    ret = gst_video_decoder_chain_forward (decoder, buf, FALSE);\n-  else\n-    ret = gst_video_decoder_chain_reverse (decoder, buf);\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-  return ret;\n-\n-  \/* ERRORS *\/\n-not_negotiated:\n-  {\n-    GST_ELEMENT_ERROR (decoder, CORE, NEGOTIATION, (NULL),\n-        (\"decoder not initialized\"));\n-    gst_buffer_unref (buf);\n-    return GST_FLOW_NOT_NEGOTIATED;\n-  }\n-}\n-\n-static GstStateChangeReturn\n-gst_video_decoder_change_state (GstElement * element, GstStateChange transition)\n-{\n-  GstVideoDecoder *decoder;\n-  GstVideoDecoderClass *decoder_class;\n-  GstStateChangeReturn ret;\n-\n-  decoder = GST_VIDEO_DECODER (element);\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (element);\n-\n-  switch (transition) {\n-    case GST_STATE_CHANGE_NULL_TO_READY:\n-      \/* open device\/library if needed *\/\n-      if (decoder_class->open && !decoder_class->open (decoder))\n-        goto open_failed;\n-      break;\n-    case GST_STATE_CHANGE_READY_TO_PAUSED:\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      gst_video_decoder_reset (decoder, TRUE, TRUE);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-      \/* Initialize device\/library if needed *\/\n-      if (decoder_class->start && !decoder_class->start (decoder))\n-        goto start_failed;\n-      break;\n-    default:\n-      break;\n-  }\n-\n-  ret = GST_ELEMENT_CLASS (parent_class)->change_state (element, transition);\n-\n-  switch (transition) {\n-    case GST_STATE_CHANGE_PAUSED_TO_READY:{\n-      gboolean stopped = TRUE;\n-\n-      if (decoder_class->stop)\n-        stopped = decoder_class->stop (decoder);\n-\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      gst_video_decoder_reset (decoder, TRUE, TRUE);\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-      if (!stopped)\n-        goto stop_failed;\n-\n-      break;\n-    }\n-    case GST_STATE_CHANGE_READY_TO_NULL:\n-      \/* close device\/library if needed *\/\n-      if (decoder_class->close && !decoder_class->close (decoder))\n-        goto close_failed;\n-      break;\n-    default:\n-      break;\n-  }\n-\n-  return ret;\n-\n-  \/* Errors *\/\n-open_failed:\n-  {\n-    GST_ELEMENT_ERROR (decoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to open decoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-\n-start_failed:\n-  {\n-    GST_ELEMENT_ERROR (decoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to start decoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-\n-stop_failed:\n-  {\n-    GST_ELEMENT_ERROR (decoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to stop decoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-\n-close_failed:\n-  {\n-    GST_ELEMENT_ERROR (decoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to close decoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-}\n-\n-static GstVideoCodecFrame *\n-gst_video_decoder_new_frame (GstVideoDecoder * decoder)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GstVideoCodecFrame *frame;\n-\n-  frame = g_slice_new0 (GstVideoCodecFrame);\n-\n-  frame->ref_count = 1;\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  frame->system_frame_number = priv->system_frame_number;\n-  priv->system_frame_number++;\n-  frame->decode_frame_number = priv->decode_frame_number;\n-  priv->decode_frame_number++;\n-\n-  frame->dts = GST_CLOCK_TIME_NONE;\n-  frame->pts = GST_CLOCK_TIME_NONE;\n-  frame->duration = GST_CLOCK_TIME_NONE;\n-  frame->events = priv->current_frame_events;\n-  priv->current_frame_events = NULL;\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  GST_LOG_OBJECT (decoder, \"Created new frame %p (sfn:%d)\",\n-      frame, frame->system_frame_number);\n-\n-  return frame;\n-}\n-\n-static void\n-gst_video_decoder_push_event_list (GstVideoDecoder * decoder, GList * events)\n-{\n-  GList *l;\n-\n-  \/* events are stored in reverse order *\/\n-  for (l = g_list_last (events); l; l = g_list_previous (l)) {\n-    GST_LOG_OBJECT (decoder, \"pushing %s event\", GST_EVENT_TYPE_NAME (l->data));\n-    gst_video_decoder_push_event (decoder, l->data);\n-  }\n-  g_list_free (events);\n-}\n-\n-static void\n-gst_video_decoder_prepare_finish_frame (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame, gboolean dropping)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GList *l, *events = NULL;\n-  gboolean sync;\n-\n-#ifndef GST_DISABLE_GST_DEBUG\n-  GST_LOG_OBJECT (decoder, \"n %d in %\" G_GSIZE_FORMAT \" out %\" G_GSIZE_FORMAT,\n-      priv->frames.length,\n-      gst_adapter_available (priv->input_adapter),\n-      gst_adapter_available (priv->output_adapter));\n-#endif\n-\n-  sync = GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame);\n-\n-  GST_LOG_OBJECT (decoder,\n-      \"finish frame %p (#%d)(sub=#%d) sync:%d PTS:%\" GST_TIME_FORMAT \" DTS:%\"\n-      GST_TIME_FORMAT,\n-      frame, frame->system_frame_number, frame->abidata.ABI.num_subframes,\n-      sync, GST_TIME_ARGS (frame->pts), GST_TIME_ARGS (frame->dts));\n-\n-  \/* Push all pending events that arrived before this frame *\/\n-  for (l = priv->frames.head; l; l = l->next) {\n-    GstVideoCodecFrame *tmp = l->data;\n-\n-    if (tmp->events) {\n-      events = g_list_concat (tmp->events, events);\n-      tmp->events = NULL;\n-    }\n-\n-    if (tmp == frame)\n-      break;\n-  }\n-\n-  if (dropping || !decoder->priv->output_state) {\n-    \/* Push before the next frame that is not dropped *\/\n-    decoder->priv->pending_events =\n-        g_list_concat (events, decoder->priv->pending_events);\n-  } else {\n-    gst_video_decoder_push_event_list (decoder, decoder->priv->pending_events);\n-    decoder->priv->pending_events = NULL;\n-\n-    gst_video_decoder_push_event_list (decoder, events);\n-  }\n-\n-  \/* Check if the data should not be displayed. For example altref\/invisible\n-   * frame in vp8. In this case we should not update the timestamps. *\/\n-  if (GST_VIDEO_CODEC_FRAME_IS_DECODE_ONLY (frame))\n-    return;\n-\n-  \/* If the frame is meant to be output but we don't have an output_buffer\n-   * we have a problem :) *\/\n-  if (G_UNLIKELY ((frame->output_buffer == NULL) && !dropping))\n-    goto no_output_buffer;\n-\n-  if (GST_CLOCK_TIME_IS_VALID (frame->pts)) {\n-    if (frame->pts != priv->base_timestamp) {\n-      GST_DEBUG_OBJECT (decoder,\n-          \"sync timestamp %\" GST_TIME_FORMAT \" diff %\" GST_STIME_FORMAT,\n-          GST_TIME_ARGS (frame->pts),\n-          GST_STIME_ARGS (GST_CLOCK_DIFF (frame->pts,\n-                  decoder->output_segment.start)));\n-      priv->base_timestamp = frame->pts;\n-      priv->base_picture_number = frame->decode_frame_number;\n-    }\n-  }\n-\n-  if (frame->duration == GST_CLOCK_TIME_NONE) {\n-    frame->duration = gst_video_decoder_get_frame_duration (decoder, frame);\n-    GST_LOG_OBJECT (decoder,\n-        \"Guessing duration %\" GST_TIME_FORMAT \" for frame...\",\n-        GST_TIME_ARGS (frame->duration));\n-  }\n-\n-  \/* PTS is expected montone ascending,\n-   * so a good guess is lowest unsent DTS *\/\n-  {\n-    GstClockTime min_ts = GST_CLOCK_TIME_NONE;\n-    GstVideoCodecFrame *oframe = NULL;\n-    gboolean seen_none = FALSE;\n-\n-    \/* some maintenance regardless *\/\n-    for (l = priv->frames.head; l; l = l->next) {\n-      GstVideoCodecFrame *tmp = l->data;\n-\n-      if (!GST_CLOCK_TIME_IS_VALID (tmp->abidata.ABI.ts)) {\n-        seen_none = TRUE;\n-        continue;\n-      }\n-\n-      if (!GST_CLOCK_TIME_IS_VALID (min_ts) || tmp->abidata.ABI.ts < min_ts) {\n-        min_ts = tmp->abidata.ABI.ts;\n-        oframe = tmp;\n-      }\n-    }\n-    \/* save a ts if needed *\/\n-    if (oframe && oframe != frame) {\n-      oframe->abidata.ABI.ts = frame->abidata.ABI.ts;\n-    }\n-\n-    \/* and set if needed;\n-     * valid delta means we have reasonable DTS input *\/\n-    \/* also, if we ended up reordered, means this approach is conflicting\n-     * with some sparse existing PTS, and so it does not work out *\/\n-    if (!priv->reordered_output &&\n-        !GST_CLOCK_TIME_IS_VALID (frame->pts) && !seen_none &&\n-        GST_CLOCK_TIME_IS_VALID (priv->pts_delta)) {\n-      frame->pts = min_ts + priv->pts_delta;\n-      GST_DEBUG_OBJECT (decoder,\n-          \"no valid PTS, using oldest DTS %\" GST_TIME_FORMAT,\n-          GST_TIME_ARGS (frame->pts));\n-    }\n-\n-    \/* some more maintenance, ts2 holds PTS *\/\n-    min_ts = GST_CLOCK_TIME_NONE;\n-    seen_none = FALSE;\n-    for (l = priv->frames.head; l; l = l->next) {\n-      GstVideoCodecFrame *tmp = l->data;\n-\n-      if (!GST_CLOCK_TIME_IS_VALID (tmp->abidata.ABI.ts2)) {\n-        seen_none = TRUE;\n-        continue;\n-      }\n-\n-      if (!GST_CLOCK_TIME_IS_VALID (min_ts) || tmp->abidata.ABI.ts2 < min_ts) {\n-        min_ts = tmp->abidata.ABI.ts2;\n-        oframe = tmp;\n-      }\n-    }\n-    \/* save a ts if needed *\/\n-    if (oframe && oframe != frame) {\n-      oframe->abidata.ABI.ts2 = frame->abidata.ABI.ts2;\n-    }\n-\n-    \/* if we detected reordered output, then PTS are void,\n-     * however those were obtained; bogus input, subclass etc *\/\n-    if (priv->reordered_output && !seen_none) {\n-      GST_DEBUG_OBJECT (decoder, \"invalidating PTS\");\n-      frame->pts = GST_CLOCK_TIME_NONE;\n-    }\n-\n-    if (!GST_CLOCK_TIME_IS_VALID (frame->pts) && !seen_none) {\n-      frame->pts = min_ts;\n-      GST_DEBUG_OBJECT (decoder,\n-          \"no valid PTS, using oldest PTS %\" GST_TIME_FORMAT,\n-          GST_TIME_ARGS (frame->pts));\n-    }\n-  }\n-\n-\n-  if (frame->pts == GST_CLOCK_TIME_NONE) {\n-    \/* Last ditch timestamp guess: Just add the duration to the previous\n-     * frame. If it's the first frame, just use the segment start. *\/\n-    if (frame->duration != GST_CLOCK_TIME_NONE) {\n-      if (GST_CLOCK_TIME_IS_VALID (priv->last_timestamp_out))\n-        frame->pts = priv->last_timestamp_out + frame->duration;\n-      else if (frame->dts != GST_CLOCK_TIME_NONE) {\n-        frame->pts = frame->dts;\n-        GST_LOG_OBJECT (decoder,\n-            \"Setting DTS as PTS %\" GST_TIME_FORMAT \" for frame...\",\n-            GST_TIME_ARGS (frame->pts));\n-      } else if (decoder->output_segment.rate > 0.0)\n-        frame->pts = decoder->output_segment.start;\n-      GST_INFO_OBJECT (decoder,\n-          \"Guessing PTS=%\" GST_TIME_FORMAT \" for frame... DTS=%\"\n-          GST_TIME_FORMAT, GST_TIME_ARGS (frame->pts),\n-          GST_TIME_ARGS (frame->dts));\n-    } else if (sync && frame->dts != GST_CLOCK_TIME_NONE) {\n-      frame->pts = frame->dts;\n-      GST_LOG_OBJECT (decoder,\n-          \"Setting DTS as PTS %\" GST_TIME_FORMAT \" for frame...\",\n-          GST_TIME_ARGS (frame->pts));\n-    }\n-  }\n-\n-  if (GST_CLOCK_TIME_IS_VALID (priv->last_timestamp_out)) {\n-    if (frame->pts < priv->last_timestamp_out) {\n-      GST_WARNING_OBJECT (decoder,\n-          \"decreasing timestamp (%\" GST_TIME_FORMAT \" < %\"\n-          GST_TIME_FORMAT \")\",\n-          GST_TIME_ARGS (frame->pts), GST_TIME_ARGS (priv->last_timestamp_out));\n-      priv->reordered_output = TRUE;\n-      \/* make it a bit less weird downstream *\/\n-      frame->pts = priv->last_timestamp_out;\n-    }\n-  }\n-\n-  if (GST_CLOCK_TIME_IS_VALID (frame->pts))\n-    priv->last_timestamp_out = frame->pts;\n-\n-  return;\n-\n-  \/* ERRORS *\/\n-no_output_buffer:\n-  {\n-    GST_ERROR_OBJECT (decoder, \"No buffer to output !\");\n-  }\n-}\n-\n-\/**\n- * gst_video_decoder_release_frame:\n- * @dec: a #GstVideoDecoder\n- * @frame: (transfer full): the #GstVideoCodecFrame to release\n- *\n- * Similar to gst_video_decoder_drop_frame(), but simply releases @frame\n- * without any processing other than removing it from list of pending frames,\n- * after which it is considered finished and released.\n- *\n- * Since: 1.2.2\n- *\/\n-void\n-gst_video_decoder_release_frame (GstVideoDecoder * dec,\n-    GstVideoCodecFrame * frame)\n-{\n-  GList *link;\n-\n-  \/* unref once from the list *\/\n-  GST_VIDEO_DECODER_STREAM_LOCK (dec);\n-  link = g_queue_find (&dec->priv->frames, frame);\n-  if (link) {\n-    gst_video_codec_frame_unref (frame);\n-    g_queue_delete_link (&dec->priv->frames, link);\n-  }\n-  if (frame->events) {\n-    dec->priv->pending_events =\n-        g_list_concat (frame->events, dec->priv->pending_events);\n-    frame->events = NULL;\n-  }\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (dec);\n-\n-  \/* unref because this function takes ownership *\/\n-  gst_video_codec_frame_unref (frame);\n-}\n-\n-\/* called with STREAM_LOCK *\/\n-static void\n-gst_video_decoder_post_qos_drop (GstVideoDecoder * dec, GstClockTime timestamp)\n-{\n-  GstClockTime stream_time, jitter, earliest_time, qostime;\n-  GstSegment *segment;\n-  GstMessage *qos_msg;\n-  gdouble proportion;\n-  dec->priv->dropped++;\n-\n-  \/* post QoS message *\/\n-  GST_OBJECT_LOCK (dec);\n-  proportion = dec->priv->proportion;\n-  earliest_time = dec->priv->earliest_time;\n-  GST_OBJECT_UNLOCK (dec);\n-\n-  segment = &dec->output_segment;\n-  if (G_UNLIKELY (segment->format == GST_FORMAT_UNDEFINED))\n-    segment = &dec->input_segment;\n-  stream_time =\n-      gst_segment_to_stream_time (segment, GST_FORMAT_TIME, timestamp);\n-  qostime = gst_segment_to_running_time (segment, GST_FORMAT_TIME, timestamp);\n-  jitter = GST_CLOCK_DIFF (qostime, earliest_time);\n-  qos_msg =\n-      gst_message_new_qos (GST_OBJECT_CAST (dec), FALSE, qostime, stream_time,\n-      timestamp, GST_CLOCK_TIME_NONE);\n-  gst_message_set_qos_values (qos_msg, jitter, proportion, 1000000);\n-  gst_message_set_qos_stats (qos_msg, GST_FORMAT_BUFFERS,\n-      dec->priv->processed, dec->priv->dropped);\n-  gst_element_post_message (GST_ELEMENT_CAST (dec), qos_msg);\n-}\n-\n-\/**\n- * gst_video_decoder_drop_frame:\n- * @dec: a #GstVideoDecoder\n- * @frame: (transfer full): the #GstVideoCodecFrame to drop\n- *\n- * Similar to gst_video_decoder_finish_frame(), but drops @frame in any\n- * case and posts a QoS message with the frame's details on the bus.\n- * In any case, the frame is considered finished and released.\n- *\n- * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n- *\/\n-GstFlowReturn\n-gst_video_decoder_drop_frame (GstVideoDecoder * dec, GstVideoCodecFrame * frame)\n-{\n-  GST_LOG_OBJECT (dec, \"drop frame %p\", frame);\n-\n-  if (gst_video_decoder_get_subframe_mode (dec))\n-    GST_DEBUG_OBJECT (dec, \"Drop subframe %d. Must be the last one.\",\n-        frame->abidata.ABI.num_subframes);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (dec);\n-\n-  gst_video_decoder_prepare_finish_frame (dec, frame, TRUE);\n-\n-  GST_DEBUG_OBJECT (dec, \"dropping frame %\" GST_TIME_FORMAT,\n-      GST_TIME_ARGS (frame->pts));\n-\n-  gst_video_decoder_post_qos_drop (dec, frame->pts);\n-\n-  \/* now free the frame *\/\n-  gst_video_decoder_release_frame (dec, frame);\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (dec);\n-\n-  return GST_FLOW_OK;\n-}\n-\n-\/**\n- * gst_video_decoder_drop_subframe:\n- * @dec: a #GstVideoDecoder\n- * @frame: (transfer full): the #GstVideoCodecFrame\n- *\n- * Drops input data.\n- * The frame is not considered finished until the whole frame\n- * is finished or dropped by the subclass.\n- *\n- * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n- *\n- * Since: 1.20\n- *\/\n-GstFlowReturn\n-gst_video_decoder_drop_subframe (GstVideoDecoder * dec,\n-    GstVideoCodecFrame * frame)\n-{\n-  g_return_val_if_fail (gst_video_decoder_get_subframe_mode (dec),\n-      GST_FLOW_NOT_SUPPORTED);\n-\n-  GST_LOG_OBJECT (dec, \"drop subframe %p num=%d\", frame->input_buffer,\n-      gst_video_decoder_get_input_subframe_index (dec, frame));\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (dec);\n-\n-  gst_video_codec_frame_unref (frame);\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (dec);\n-\n-  return GST_FLOW_OK;\n-}\n-\n-static gboolean\n-gst_video_decoder_transform_meta_default (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame, GstMeta * meta)\n-{\n-  const GstMetaInfo *info = meta->info;\n-  const gchar *const *tags;\n-  const gchar *const supported_tags[] = {\n-    GST_META_TAG_VIDEO_STR,\n-    GST_META_TAG_VIDEO_ORIENTATION_STR,\n-    GST_META_TAG_VIDEO_SIZE_STR,\n-    NULL,\n-  };\n-\n-  tags = gst_meta_api_type_get_tags (info->api);\n-\n-  if (!tags)\n-    return TRUE;\n-\n-  while (*tags) {\n-    if (!g_strv_contains (supported_tags, *tags))\n-      return FALSE;\n-    tags++;\n-  }\n-\n-  return TRUE;\n-}\n-\n-typedef struct\n-{\n-  GstVideoDecoder *decoder;\n-  GstVideoCodecFrame *frame;\n-  GstBuffer *buffer;\n-} CopyMetaData;\n-\n-static gboolean\n-foreach_metadata (GstBuffer * inbuf, GstMeta ** meta, gpointer user_data)\n-{\n-  CopyMetaData *data = user_data;\n-  GstVideoDecoder *decoder = data->decoder;\n-  GstVideoDecoderClass *klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-  GstVideoCodecFrame *frame = data->frame;\n-  GstBuffer *buffer = data->buffer;\n-  const GstMetaInfo *info = (*meta)->info;\n-  gboolean do_copy = FALSE;\n-\n-  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)) {\n-    \/* never call the transform_meta with memory specific metadata *\/\n-    GST_DEBUG_OBJECT (decoder, \"not copying memory specific metadata %s\",\n-        g_type_name (info->api));\n-    do_copy = FALSE;\n-  } else if (klass->transform_meta) {\n-    do_copy = klass->transform_meta (decoder, frame, *meta);\n-    GST_DEBUG_OBJECT (decoder, \"transformed metadata %s: copy: %d\",\n-        g_type_name (info->api), do_copy);\n-  }\n-\n-  \/* we only copy metadata when the subclass implemented a transform_meta\n-   * function and when it returns %TRUE *\/\n-  if (do_copy && info->transform_func) {\n-    GstMetaTransformCopy copy_data = { FALSE, 0, -1 };\n-    GST_DEBUG_OBJECT (decoder, \"copy metadata %s\", g_type_name (info->api));\n-    \/* simply copy then *\/\n-\n-    info->transform_func (buffer, *meta, inbuf, _gst_meta_transform_copy,\n-        &copy_data);\n-  }\n-  return TRUE;\n-}\n-\n-static void\n-gst_video_decoder_copy_metas (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame, GstBuffer * src_buffer, GstBuffer * dest_buffer)\n-{\n-  GstVideoDecoderClass *decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  if (decoder_class->transform_meta) {\n-    if (G_LIKELY (frame)) {\n-      CopyMetaData data;\n-\n-      data.decoder = decoder;\n-      data.frame = frame;\n-      data.buffer = dest_buffer;\n-      gst_buffer_foreach_meta (src_buffer, foreach_metadata, &data);\n-    } else {\n-      GST_WARNING_OBJECT (decoder,\n-          \"Can't copy metadata because input frame disappeared\");\n-    }\n-  }\n-}\n-\n-\/**\n- * gst_video_decoder_finish_frame:\n- * @decoder: a #GstVideoDecoder\n- * @frame: (transfer full): a decoded #GstVideoCodecFrame\n- *\n- * @frame should have a valid decoded data buffer, whose metadata fields\n- * are then appropriately set according to frame data and pushed downstream.\n- * If no output data is provided, @frame is considered skipped.\n- * In any case, the frame is considered finished and released.\n- *\n- * After calling this function the output buffer of the frame is to be\n- * considered read-only. This function will also change the metadata\n- * of the buffer.\n- *\n- * Returns: a #GstFlowReturn resulting from sending data downstream\n- *\/\n-GstFlowReturn\n-gst_video_decoder_finish_frame (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstFlowReturn ret = GST_FLOW_OK;\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GstBuffer *output_buffer;\n-  gboolean needs_reconfigure = FALSE;\n-\n-  GST_LOG_OBJECT (decoder, \"finish frame %p\", frame);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  needs_reconfigure = gst_pad_check_reconfigure (decoder->srcpad);\n-  if (G_UNLIKELY (priv->output_state_changed || (priv->output_state\n-              && needs_reconfigure))) {\n-    if (!gst_video_decoder_negotiate_unlocked (decoder)) {\n-      gst_pad_mark_reconfigure (decoder->srcpad);\n-      if (GST_PAD_IS_FLUSHING (decoder->srcpad))\n-        ret = GST_FLOW_FLUSHING;\n-      else\n-        ret = GST_FLOW_NOT_NEGOTIATED;\n-      goto done;\n-    }\n-  }\n-\n-  gst_video_decoder_prepare_finish_frame (decoder, frame, FALSE);\n-  priv->processed++;\n-\n-  if (priv->tags_changed) {\n-    GstEvent *tags_event;\n-\n-    tags_event = gst_video_decoder_create_merged_tags_event (decoder);\n-\n-    if (tags_event != NULL)\n-      gst_video_decoder_push_event (decoder, tags_event);\n-\n-    priv->tags_changed = FALSE;\n-  }\n-\n-  \/* no buffer data means this frame is skipped *\/\n-  if (!frame->output_buffer || GST_VIDEO_CODEC_FRAME_IS_DECODE_ONLY (frame)) {\n-    GST_DEBUG_OBJECT (decoder,\n-        \"skipping frame %\" GST_TIME_FORMAT \" because not output was produced\",\n-        GST_TIME_ARGS (frame->pts));\n-    goto done;\n-  }\n-\n-  \/* Mark output as corrupted if the subclass requested so and we're either\n-   * still before the sync point after the request, or we don't even know the\n-   * frame number of the sync point yet (it is 0) *\/\n-  GST_OBJECT_LOCK (decoder);\n-  if (frame->system_frame_number <= priv->request_sync_point_frame_number\n-      && priv->request_sync_point_frame_number != REQUEST_SYNC_POINT_UNSET) {\n-    if (priv->request_sync_point_flags &\n-        GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT) {\n-      GST_DEBUG_OBJECT (decoder,\n-          \"marking frame %\" GST_TIME_FORMAT\n-          \" as corrupted because it is still before the sync point\",\n-          GST_TIME_ARGS (frame->pts));\n-      GST_VIDEO_CODEC_FRAME_FLAG_SET (frame,\n-          GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED);\n-    }\n-  } else {\n-    \/* Reset to -1 to mark it as unset now that we've reached the frame *\/\n-    priv->request_sync_point_frame_number = REQUEST_SYNC_POINT_UNSET;\n-  }\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  if (priv->discard_corrupted_frames\n-      && (GST_VIDEO_CODEC_FRAME_FLAG_IS_SET (frame,\n-              GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED)\n-          || GST_BUFFER_FLAG_IS_SET (frame->output_buffer,\n-              GST_BUFFER_FLAG_CORRUPTED))) {\n-    GST_DEBUG_OBJECT (decoder,\n-        \"skipping frame %\" GST_TIME_FORMAT \" because it is corrupted\",\n-        GST_TIME_ARGS (frame->pts));\n-    goto done;\n-  }\n-\n-  \/* We need a writable buffer for the metadata changes below *\/\n-  output_buffer = frame->output_buffer =\n-      gst_buffer_make_writable (frame->output_buffer);\n-\n-  GST_BUFFER_FLAG_UNSET (output_buffer, GST_BUFFER_FLAG_DELTA_UNIT);\n-\n-  GST_BUFFER_PTS (output_buffer) = frame->pts;\n-  GST_BUFFER_DTS (output_buffer) = GST_CLOCK_TIME_NONE;\n-  GST_BUFFER_DURATION (output_buffer) = frame->duration;\n-\n-  GST_BUFFER_OFFSET (output_buffer) = GST_BUFFER_OFFSET_NONE;\n-  GST_BUFFER_OFFSET_END (output_buffer) = GST_BUFFER_OFFSET_NONE;\n-\n-  if (priv->discont) {\n-    GST_BUFFER_FLAG_SET (output_buffer, GST_BUFFER_FLAG_DISCONT);\n-  }\n-\n-  if (GST_VIDEO_CODEC_FRAME_FLAG_IS_SET (frame,\n-          GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED)) {\n-    GST_DEBUG_OBJECT (decoder,\n-        \"marking frame %\" GST_TIME_FORMAT \" as corrupted\",\n-        GST_TIME_ARGS (frame->pts));\n-    GST_BUFFER_FLAG_SET (output_buffer, GST_BUFFER_FLAG_CORRUPTED);\n-  }\n-\n-  gst_video_decoder_copy_metas (decoder, frame, frame->input_buffer,\n-      frame->output_buffer);\n-\n-  \/* Get an additional ref to the buffer, which is going to be pushed\n-   * downstream, the original ref is owned by the frame\n-   *\/\n-  output_buffer = gst_buffer_ref (output_buffer);\n-\n-  \/* Release frame so the buffer is writable when we push it downstream\n-   * if possible, i.e. if the subclass does not hold additional references\n-   * to the frame\n-   *\/\n-  gst_video_decoder_release_frame (decoder, frame);\n-  frame = NULL;\n-\n-  if (decoder->output_segment.rate < 0.0\n-      && !(decoder->output_segment.flags & GST_SEEK_FLAG_TRICKMODE_KEY_UNITS)) {\n-    GST_LOG_OBJECT (decoder, \"queued frame\");\n-    priv->output_queued = g_list_prepend (priv->output_queued, output_buffer);\n-  } else {\n-    ret = gst_video_decoder_clip_and_push_buf (decoder, output_buffer);\n-  }\n-\n-done:\n-  if (frame)\n-    gst_video_decoder_release_frame (decoder, frame);\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_decoder_finish_subframe:\n- * @decoder: a #GstVideoDecoder\n- * @frame: (transfer full): the #GstVideoCodecFrame\n- *\n- * Indicate that a subframe has been finished to be decoded\n- * by the subclass. This method should be called for all subframes\n- * except the last subframe where @gst_video_decoder_finish_frame\n- * should be called instead.\n- *\n- * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n- *\n- * Since: 1.20\n- *\/\n-GstFlowReturn\n-gst_video_decoder_finish_subframe (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  g_return_val_if_fail (gst_video_decoder_get_subframe_mode (decoder),\n-      GST_FLOW_NOT_SUPPORTED);\n-\n-  GST_LOG_OBJECT (decoder, \"finish subframe %p num=%d\", frame->input_buffer,\n-      gst_video_decoder_get_input_subframe_index (decoder, frame));\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  frame->abidata.ABI.subframes_processed++;\n-  gst_video_codec_frame_unref (frame);\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return GST_FLOW_OK;\n-}\n-\n-\/* With stream lock, takes the frame reference *\/\n-static GstFlowReturn\n-gst_video_decoder_clip_and_push_buf (GstVideoDecoder * decoder, GstBuffer * buf)\n-{\n-  GstFlowReturn ret = GST_FLOW_OK;\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  guint64 start, stop;\n-  guint64 cstart, cstop;\n-  GstSegment *segment;\n-  GstClockTime duration;\n-\n-  \/* Check for clipping *\/\n-  start = GST_BUFFER_PTS (buf);\n-  duration = GST_BUFFER_DURATION (buf);\n-\n-  \/* store that we have valid decoded data *\/\n-  priv->had_output_data = TRUE;\n-\n-  stop = GST_CLOCK_TIME_NONE;\n-\n-  if (GST_CLOCK_TIME_IS_VALID (start) && GST_CLOCK_TIME_IS_VALID (duration)) {\n-    stop = start + duration;\n-  } else if (GST_CLOCK_TIME_IS_VALID (start)\n-      && !GST_CLOCK_TIME_IS_VALID (duration)) {\n-    \/* If we don't clip away buffers that far before the segment we\n-     * can cause the pipeline to lockup. This can happen if audio is\n-     * properly clipped, and thus the audio sink does not preroll yet\n-     * but the video sink prerolls because we already outputted a\n-     * buffer here... and then queues run full.\n-     *\n-     * In the worst case we will clip one buffer too many here now if no\n-     * framerate is given, no buffer duration is given and the actual\n-     * framerate is lower than 25fps *\/\n-    stop = start + 40 * GST_MSECOND;\n-  }\n-\n-  segment = &decoder->output_segment;\n-  if (gst_segment_clip (segment, GST_FORMAT_TIME, start, stop, &cstart, &cstop)) {\n-    GST_BUFFER_PTS (buf) = cstart;\n-\n-    if (stop != GST_CLOCK_TIME_NONE && GST_CLOCK_TIME_IS_VALID (duration))\n-      GST_BUFFER_DURATION (buf) = cstop - cstart;\n-\n-    GST_LOG_OBJECT (decoder,\n-        \"accepting buffer inside segment: %\" GST_TIME_FORMAT \" %\"\n-        GST_TIME_FORMAT \" seg %\" GST_TIME_FORMAT \" to %\" GST_TIME_FORMAT\n-        \" time %\" GST_TIME_FORMAT,\n-        GST_TIME_ARGS (cstart),\n-        GST_TIME_ARGS (cstop),\n-        GST_TIME_ARGS (segment->start), GST_TIME_ARGS (segment->stop),\n-        GST_TIME_ARGS (segment->time));\n-  } else {\n-    GST_LOG_OBJECT (decoder,\n-        \"dropping buffer outside segment: %\" GST_TIME_FORMAT\n-        \" %\" GST_TIME_FORMAT\n-        \" seg %\" GST_TIME_FORMAT \" to %\" GST_TIME_FORMAT\n-        \" time %\" GST_TIME_FORMAT,\n-        GST_TIME_ARGS (start), GST_TIME_ARGS (stop),\n-        GST_TIME_ARGS (segment->start),\n-        GST_TIME_ARGS (segment->stop), GST_TIME_ARGS (segment->time));\n-    \/* only check and return EOS if upstream still\n-     * in the same segment and interested as such *\/\n-    if (decoder->priv->in_out_segment_sync) {\n-      if (segment->rate >= 0) {\n-        if (GST_BUFFER_PTS (buf) >= segment->stop)\n-          ret = GST_FLOW_EOS;\n-      } else if (GST_BUFFER_PTS (buf) < segment->start) {\n-        ret = GST_FLOW_EOS;\n-      }\n-    }\n-    gst_buffer_unref (buf);\n-    goto done;\n-  }\n-\n-  \/* Is buffer too late (QoS) ? *\/\n-  if (priv->do_qos && GST_CLOCK_TIME_IS_VALID (priv->earliest_time)\n-      && GST_CLOCK_TIME_IS_VALID (cstart)) {\n-    GstClockTime deadline =\n-        gst_segment_to_running_time (segment, GST_FORMAT_TIME, cstart);\n-    if (GST_CLOCK_TIME_IS_VALID (deadline) && deadline < priv->earliest_time) {\n-      GST_WARNING_OBJECT (decoder,\n-          \"Dropping frame due to QoS. start:%\" GST_TIME_FORMAT \" deadline:%\"\n-          GST_TIME_FORMAT \" earliest_time:%\" GST_TIME_FORMAT,\n-          GST_TIME_ARGS (start), GST_TIME_ARGS (deadline),\n-          GST_TIME_ARGS (priv->earliest_time));\n-      gst_video_decoder_post_qos_drop (decoder, cstart);\n-      gst_buffer_unref (buf);\n-      priv->discont = TRUE;\n-      goto done;\n-    }\n-  }\n-\n-  \/* Set DISCONT flag here ! *\/\n-\n-  if (priv->discont) {\n-    GST_DEBUG_OBJECT (decoder, \"Setting discont on output buffer\");\n-    GST_BUFFER_FLAG_SET (buf, GST_BUFFER_FLAG_DISCONT);\n-    priv->discont = FALSE;\n-  }\n-\n-  \/* update rate estimate *\/\n-  GST_OBJECT_LOCK (decoder);\n-  priv->bytes_out += gst_buffer_get_size (buf);\n-  if (GST_CLOCK_TIME_IS_VALID (duration)) {\n-    priv->time += duration;\n-  } else {\n-    \/* FIXME : Use difference between current and previous outgoing\n-     * timestamp, and relate to difference between current and previous\n-     * bytes *\/\n-    \/* better none than nothing valid *\/\n-    priv->time = GST_CLOCK_TIME_NONE;\n-  }\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  GST_DEBUG_OBJECT (decoder, \"pushing buffer %p of size %\" G_GSIZE_FORMAT \", \"\n-      \"PTS %\" GST_TIME_FORMAT \", dur %\" GST_TIME_FORMAT, buf,\n-      gst_buffer_get_size (buf),\n-      GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n-      GST_TIME_ARGS (GST_BUFFER_DURATION (buf)));\n-\n-  \/* we got data, so note things are looking up again, reduce\n-   * the error count, if there is one *\/\n-  if (G_UNLIKELY (priv->error_count))\n-    priv->error_count = 0;\n-\n-#ifndef GST_DISABLE_DEBUG\n-  if (G_UNLIKELY (priv->last_reset_time != GST_CLOCK_TIME_NONE)) {\n-    GstClockTime elapsed = gst_util_get_timestamp () - priv->last_reset_time;\n-\n-    \/* First buffer since reset, report how long we took *\/\n-    GST_INFO_OBJECT (decoder, \"First buffer since flush took %\" GST_TIME_FORMAT\n-        \" to produce\", GST_TIME_ARGS (elapsed));\n-    priv->last_reset_time = GST_CLOCK_TIME_NONE;\n-  }\n-#endif\n-\n-  \/* release STREAM_LOCK not to block upstream\n-   * while pushing buffer downstream *\/\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-  ret = gst_pad_push (decoder->srcpad, buf);\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-done:\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_decoder_add_to_frame:\n- * @decoder: a #GstVideoDecoder\n- * @n_bytes: the number of bytes to add\n- *\n- * Removes next @n_bytes of input data and adds it to currently parsed frame.\n- *\/\n-void\n-gst_video_decoder_add_to_frame (GstVideoDecoder * decoder, int n_bytes)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GstBuffer *buf;\n-\n-  GST_LOG_OBJECT (decoder, \"add %d bytes to frame\", n_bytes);\n-\n-  if (n_bytes == 0)\n-    return;\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  if (gst_adapter_available (priv->output_adapter) == 0) {\n-    priv->frame_offset =\n-        priv->input_offset - gst_adapter_available (priv->input_adapter);\n-  }\n-  buf = gst_adapter_take_buffer (priv->input_adapter, n_bytes);\n-\n-  gst_adapter_push (priv->output_adapter, buf);\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-}\n-\n-\/**\n- * gst_video_decoder_get_pending_frame_size:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Returns the number of bytes previously added to the current frame\n- * by calling gst_video_decoder_add_to_frame().\n- *\n- * Returns: The number of bytes pending for the current frame\n- *\n- * Since: 1.4\n- *\/\n-gsize\n-gst_video_decoder_get_pending_frame_size (GstVideoDecoder * decoder)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  gsize ret;\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  ret = gst_adapter_available (priv->output_adapter);\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  GST_LOG_OBJECT (decoder, \"Current pending frame has %\" G_GSIZE_FORMAT \"bytes\",\n-      ret);\n-\n-  return ret;\n-}\n-\n-static guint64\n-gst_video_decoder_get_frame_duration (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstVideoCodecState *state = decoder->priv->output_state;\n-\n-  \/* it's possible that we don't have a state yet when we are dropping the\n-   * initial buffers *\/\n-  if (state == NULL)\n-    return GST_CLOCK_TIME_NONE;\n-\n-  if (state->info.fps_d == 0 || state->info.fps_n == 0) {\n-    return GST_CLOCK_TIME_NONE;\n-  }\n-\n-  \/* FIXME: For interlaced frames this needs to take into account\n-   * the number of valid fields in the frame\n-   *\/\n-\n-  return gst_util_uint64_scale (GST_SECOND, state->info.fps_d,\n-      state->info.fps_n);\n-}\n-\n-\/**\n- * gst_video_decoder_have_frame:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Gathers all data collected for currently parsed frame, gathers corresponding\n- * metadata and passes it along for further processing, i.e. @handle_frame.\n- *\n- * Returns: a #GstFlowReturn\n- *\/\n-GstFlowReturn\n-gst_video_decoder_have_frame (GstVideoDecoder * decoder)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GstBuffer *buffer;\n-  int n_available;\n-  GstClockTime pts, dts, duration;\n-  guint flags;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-\n-  GST_LOG_OBJECT (decoder, \"have_frame at offset %\" G_GUINT64_FORMAT,\n-      priv->frame_offset);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  n_available = gst_adapter_available (priv->output_adapter);\n-  if (n_available) {\n-    buffer = gst_adapter_take_buffer (priv->output_adapter, n_available);\n-  } else {\n-    buffer = gst_buffer_new_and_alloc (0);\n-  }\n-\n-  if (priv->current_frame->input_buffer) {\n-    gst_video_decoder_copy_metas (decoder, priv->current_frame,\n-        priv->current_frame->input_buffer, buffer);\n-    gst_buffer_unref (priv->current_frame->input_buffer);\n-  }\n-  priv->current_frame->input_buffer = buffer;\n-\n-  gst_video_decoder_get_buffer_info_at_offset (decoder,\n-      priv->frame_offset, &pts, &dts, &duration, &flags);\n-\n-  GST_BUFFER_PTS (buffer) = pts;\n-  GST_BUFFER_DTS (buffer) = dts;\n-  GST_BUFFER_DURATION (buffer) = duration;\n-  GST_BUFFER_FLAGS (buffer) = flags;\n-\n-  GST_LOG_OBJECT (decoder, \"collected frame size %d, \"\n-      \"PTS %\" GST_TIME_FORMAT \", DTS %\" GST_TIME_FORMAT \", dur %\"\n-      GST_TIME_FORMAT, n_available, GST_TIME_ARGS (pts), GST_TIME_ARGS (dts),\n-      GST_TIME_ARGS (duration));\n-\n-  if (!GST_BUFFER_FLAG_IS_SET (buffer, GST_BUFFER_FLAG_DELTA_UNIT)) {\n-    GST_DEBUG_OBJECT (decoder, \"Marking as sync point\");\n-    GST_VIDEO_CODEC_FRAME_SET_SYNC_POINT (priv->current_frame);\n-  }\n-\n-  if (GST_BUFFER_FLAG_IS_SET (buffer, GST_BUFFER_FLAG_CORRUPTED)) {\n-    GST_DEBUG_OBJECT (decoder, \"Marking as corrupted\");\n-    GST_VIDEO_CODEC_FRAME_FLAG_SET (priv->current_frame,\n-        GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED);\n-  }\n-\n-  \/* In reverse playback, just capture and queue frames for later processing *\/\n-  if (decoder->input_segment.rate < 0.0) {\n-    priv->parse_gather =\n-        g_list_prepend (priv->parse_gather, priv->current_frame);\n-    priv->current_frame = NULL;\n-  } else {\n-    GstVideoCodecFrame *frame = priv->current_frame;\n-    frame->abidata.ABI.num_subframes++;\n-    \/* In subframe mode, we keep a ref for ourselves\n-     * as this frame will be kept during the data collection\n-     * in parsed mode. The frame reference will be released by\n-     * finish_(sub)frame or drop_(sub)frame.*\/\n-    if (gst_video_decoder_get_subframe_mode (decoder))\n-      gst_video_codec_frame_ref (priv->current_frame);\n-    else\n-      priv->current_frame = NULL;\n-\n-    \/* Decode the frame, which gives away our ref *\/\n-    ret = gst_video_decoder_decode_frame (decoder, frame);\n-  }\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return ret;\n-}\n-\n-\/* Pass the frame in priv->current_frame through the\n- * handle_frame() callback for decoding and passing to gvd_finish_frame(),\n- * or dropping by passing to gvd_drop_frame() *\/\n-static GstFlowReturn\n-gst_video_decoder_decode_frame (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GstVideoDecoderClass *decoder_class;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-\n-  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  \/* FIXME : This should only have to be checked once (either the subclass has an\n-   * implementation, or it doesn't) *\/\n-  g_return_val_if_fail (decoder_class->handle_frame != NULL, GST_FLOW_ERROR);\n-  g_return_val_if_fail (frame != NULL, GST_FLOW_ERROR);\n-\n-  frame->pts = GST_BUFFER_PTS (frame->input_buffer);\n-  frame->dts = GST_BUFFER_DTS (frame->input_buffer);\n-  frame->duration = GST_BUFFER_DURATION (frame->input_buffer);\n-  frame->deadline =\n-      gst_segment_to_running_time (&decoder->input_segment, GST_FORMAT_TIME,\n-      frame->pts);\n-\n-  \/* For keyframes, PTS = DTS + constant_offset, usually 0 to 3 frame\n-   * durations. *\/\n-  \/* FIXME upstream can be quite wrong about the keyframe aspect,\n-   * so we could be going off here as well,\n-   * maybe let subclass decide if it really is\/was a keyframe *\/\n-  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame)) {\n-    priv->distance_from_sync = 0;\n-\n-    GST_OBJECT_LOCK (decoder);\n-    priv->request_sync_point_flags &=\n-        ~GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT;\n-    if (priv->request_sync_point_frame_number == REQUEST_SYNC_POINT_PENDING)\n-      priv->request_sync_point_frame_number = frame->system_frame_number;\n-    GST_OBJECT_UNLOCK (decoder);\n-\n-    if (GST_CLOCK_TIME_IS_VALID (frame->pts)\n-        && GST_CLOCK_TIME_IS_VALID (frame->dts)) {\n-      \/* just in case they are not equal as might ideally be,\n-       * e.g. quicktime has a (positive) delta approach *\/\n-      priv->pts_delta = frame->pts - frame->dts;\n-      GST_DEBUG_OBJECT (decoder, \"PTS delta %d ms\",\n-          (gint) (priv->pts_delta \/ GST_MSECOND));\n-    }\n-  } else {\n-    if (priv->distance_from_sync == -1 && priv->automatic_request_sync_points) {\n-      GST_DEBUG_OBJECT (decoder,\n-          \"Didn't receive a keyframe yet, requesting sync point\");\n-      gst_video_decoder_request_sync_point (decoder, frame,\n-          priv->automatic_request_sync_point_flags);\n-    }\n-\n-    GST_OBJECT_LOCK (decoder);\n-    if ((priv->needs_sync_point && priv->distance_from_sync == -1)\n-        || (priv->request_sync_point_flags &\n-            GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT)) {\n-      GST_WARNING_OBJECT (decoder,\n-          \"Subclass requires a sync point but we didn't receive one yet, discarding input\");\n-      GST_OBJECT_UNLOCK (decoder);\n-      if (priv->automatic_request_sync_points) {\n-        gst_video_decoder_request_sync_point (decoder, frame,\n-            priv->automatic_request_sync_point_flags);\n-      }\n-      gst_video_decoder_release_frame (decoder, frame);\n-      return GST_FLOW_OK;\n-    }\n-    GST_OBJECT_UNLOCK (decoder);\n-\n-    priv->distance_from_sync++;\n-  }\n-\n-  frame->distance_from_sync = priv->distance_from_sync;\n-\n-  if (frame->abidata.ABI.num_subframes == 1) {\n-    frame->abidata.ABI.ts = frame->dts;\n-    frame->abidata.ABI.ts2 = frame->pts;\n-  }\n-\n-  GST_LOG_OBJECT (decoder,\n-      \"frame %p PTS %\" GST_TIME_FORMAT \", DTS %\" GST_TIME_FORMAT \", dist %d\",\n-      frame, GST_TIME_ARGS (frame->pts), GST_TIME_ARGS (frame->dts),\n-      frame->distance_from_sync);\n-  \/* FIXME: suboptimal way to add a unique frame to the list, in case of subframe mode. *\/\n-  if (!g_queue_find (&priv->frames, frame)) {\n-    g_queue_push_tail (&priv->frames, gst_video_codec_frame_ref (frame));\n-  } else {\n-    GST_LOG_OBJECT (decoder,\n-        \"Do not add an existing frame used to decode subframes\");\n-  }\n-\n-  if (priv->frames.length > 10) {\n-    GST_DEBUG_OBJECT (decoder, \"decoder frame list getting long: %d frames,\"\n-        \"possible internal leaking?\", priv->frames.length);\n-  }\n-\n-  \/* do something with frame *\/\n-  ret = decoder_class->handle_frame (decoder, frame);\n-  if (ret != GST_FLOW_OK)\n-    GST_DEBUG_OBJECT (decoder, \"flow error %s\", gst_flow_get_name (ret));\n-\n-  \/* the frame has either been added to parse_gather or sent to\n-     handle frame so there is no need to unref it *\/\n-  return ret;\n-}\n-\n-\n-\/**\n- * gst_video_decoder_get_output_state:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Get the #GstVideoCodecState currently describing the output stream.\n- *\n- * Returns: (transfer full): #GstVideoCodecState describing format of video data.\n- *\/\n-GstVideoCodecState *\n-gst_video_decoder_get_output_state (GstVideoDecoder * decoder)\n-{\n-  GstVideoCodecState *state = NULL;\n-\n-  GST_OBJECT_LOCK (decoder);\n-  if (decoder->priv->output_state)\n-    state = gst_video_codec_state_ref (decoder->priv->output_state);\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  return state;\n-}\n-\n-static GstVideoCodecState *\n-_set_interlaced_output_state (GstVideoDecoder * decoder,\n-    GstVideoFormat fmt, GstVideoInterlaceMode interlace_mode, guint width,\n-    guint height, GstVideoCodecState * reference, gboolean copy_interlace_mode)\n-{\n-  GstVideoDecoderPrivate *priv = decoder->priv;\n-  GstVideoCodecState *state;\n-\n-  g_assert ((copy_interlace_mode\n-          && interlace_mode == GST_VIDEO_INTERLACE_MODE_PROGRESSIVE)\n-      || !copy_interlace_mode);\n-\n-  GST_DEBUG_OBJECT (decoder,\n-      \"fmt:%d, width:%d, height:%d, interlace-mode: %s, reference:%p\", fmt,\n-      width, height, gst_video_interlace_mode_to_string (interlace_mode),\n-      reference);\n-\n-  \/* Create the new output state *\/\n-  state =\n-      _new_output_state (fmt, interlace_mode, width, height, reference,\n-      copy_interlace_mode);\n-  if (!state)\n-    return NULL;\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  GST_OBJECT_LOCK (decoder);\n-  \/* Replace existing output state by new one *\/\n-  if (priv->output_state)\n-    gst_video_codec_state_unref (priv->output_state);\n-  priv->output_state = gst_video_codec_state_ref (state);\n-\n-  if (priv->output_state != NULL && priv->output_state->info.fps_n > 0) {\n-    priv->qos_frame_duration =\n-        gst_util_uint64_scale (GST_SECOND, priv->output_state->info.fps_d,\n-        priv->output_state->info.fps_n);\n-  } else {\n-    priv->qos_frame_duration = 0;\n-  }\n-  priv->output_state_changed = TRUE;\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return state;\n-}\n-\n-\/**\n- * gst_video_decoder_set_output_state:\n- * @decoder: a #GstVideoDecoder\n- * @fmt: a #GstVideoFormat\n- * @width: The width in pixels\n- * @height: The height in pixels\n- * @reference: (allow-none) (transfer none): An optional reference #GstVideoCodecState\n- *\n- * Creates a new #GstVideoCodecState with the specified @fmt, @width and @height\n- * as the output state for the decoder.\n- * Any previously set output state on @decoder will be replaced by the newly\n- * created one.\n- *\n- * If the subclass wishes to copy over existing fields (like pixel aspec ratio,\n- * or framerate) from an existing #GstVideoCodecState, it can be provided as a\n- * @reference.\n- *\n- * If the subclass wishes to override some fields from the output state (like\n- * pixel-aspect-ratio or framerate) it can do so on the returned #GstVideoCodecState.\n- *\n- * The new output state will only take effect (set on pads and buffers) starting\n- * from the next call to #gst_video_decoder_finish_frame().\n- *\n- * Returns: (transfer full): the newly configured output state.\n- *\/\n-GstVideoCodecState *\n-gst_video_decoder_set_output_state (GstVideoDecoder * decoder,\n-    GstVideoFormat fmt, guint width, guint height,\n-    GstVideoCodecState * reference)\n-{\n-  return _set_interlaced_output_state (decoder, fmt,\n-      GST_VIDEO_INTERLACE_MODE_PROGRESSIVE, width, height, reference, TRUE);\n-}\n-\n-\/**\n- * gst_video_decoder_set_interlaced_output_state:\n- * @decoder: a #GstVideoDecoder\n- * @fmt: a #GstVideoFormat\n- * @width: The width in pixels\n- * @height: The height in pixels\n- * @interlace_mode: A #GstVideoInterlaceMode\n- * @reference: (allow-none) (transfer none): An optional reference #GstVideoCodecState\n- *\n- * Same as #gst_video_decoder_set_output_state() but also allows you to also set\n- * the interlacing mode.\n- *\n- * Returns: (transfer full): the newly configured output state.\n- *\n- * Since: 1.16.\n- *\/\n-GstVideoCodecState *\n-gst_video_decoder_set_interlaced_output_state (GstVideoDecoder * decoder,\n-    GstVideoFormat fmt, GstVideoInterlaceMode interlace_mode, guint width,\n-    guint height, GstVideoCodecState * reference)\n-{\n-  return _set_interlaced_output_state (decoder, fmt, interlace_mode, width,\n-      height, reference, FALSE);\n-}\n-\n-\n-\/**\n- * gst_video_decoder_get_oldest_frame:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Get the oldest pending unfinished #GstVideoCodecFrame\n- *\n- * Returns: (transfer full): oldest pending unfinished #GstVideoCodecFrame.\n- *\/\n-GstVideoCodecFrame *\n-gst_video_decoder_get_oldest_frame (GstVideoDecoder * decoder)\n-{\n-  GstVideoCodecFrame *frame = NULL;\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  if (decoder->priv->frames.head)\n-    frame = gst_video_codec_frame_ref (decoder->priv->frames.head->data);\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return (GstVideoCodecFrame *) frame;\n-}\n-\n-\/**\n- * gst_video_decoder_get_frame:\n- * @decoder: a #GstVideoDecoder\n- * @frame_number: system_frame_number of a frame\n- *\n- * Get a pending unfinished #GstVideoCodecFrame\n- *\n- * Returns: (transfer full): pending unfinished #GstVideoCodecFrame identified by @frame_number.\n- *\/\n-GstVideoCodecFrame *\n-gst_video_decoder_get_frame (GstVideoDecoder * decoder, int frame_number)\n-{\n-  GList *g;\n-  GstVideoCodecFrame *frame = NULL;\n-\n-  GST_DEBUG_OBJECT (decoder, \"frame_number : %d\", frame_number);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  for (g = decoder->priv->frames.head; g; g = g->next) {\n-    GstVideoCodecFrame *tmp = g->data;\n-\n-    if (tmp->system_frame_number == frame_number) {\n-      frame = gst_video_codec_frame_ref (tmp);\n-      break;\n-    }\n-  }\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return frame;\n-}\n-\n-\/**\n- * gst_video_decoder_get_frames:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Get all pending unfinished #GstVideoCodecFrame\n- *\n- * Returns: (transfer full) (element-type GstVideoCodecFrame): pending unfinished #GstVideoCodecFrame.\n- *\/\n-GList *\n-gst_video_decoder_get_frames (GstVideoDecoder * decoder)\n-{\n-  GList *frames;\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  frames =\n-      g_list_copy_deep (decoder->priv->frames.head,\n-      (GCopyFunc) gst_video_codec_frame_ref, NULL);\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return frames;\n-}\n-\n-static gboolean\n-gst_video_decoder_decide_allocation_default (GstVideoDecoder * decoder,\n-    GstQuery * query)\n-{\n-  GstCaps *outcaps = NULL;\n-  GstBufferPool *pool = NULL;\n-  guint size, min, max;\n-  GstAllocator *allocator = NULL;\n-  GstAllocationParams params;\n-  GstStructure *config;\n-  gboolean update_pool, update_allocator;\n-  GstVideoInfo vinfo;\n-\n-  gst_query_parse_allocation (query, &outcaps, NULL);\n-  gst_video_info_init (&vinfo);\n-  if (outcaps)\n-    gst_video_info_from_caps (&vinfo, outcaps);\n-\n-  \/* we got configuration from our peer or the decide_allocation method,\n-   * parse them *\/\n-  if (gst_query_get_n_allocation_params (query) > 0) {\n-    \/* try the allocator *\/\n-    gst_query_parse_nth_allocation_param (query, 0, &allocator, &params);\n-    update_allocator = TRUE;\n-  } else {\n-    allocator = NULL;\n-    gst_allocation_params_init (&params);\n-    update_allocator = FALSE;\n-  }\n-\n-  if (gst_query_get_n_allocation_pools (query) > 0) {\n-    gst_query_parse_nth_allocation_pool (query, 0, &pool, &size, &min, &max);\n-    size = MAX (size, vinfo.size);\n-    update_pool = TRUE;\n-  } else {\n-    pool = NULL;\n-    size = vinfo.size;\n-    min = max = 0;\n-\n-    update_pool = FALSE;\n-  }\n-\n-  if (pool == NULL) {\n-    \/* no pool, we can make our own *\/\n-    GST_DEBUG_OBJECT (decoder, \"no pool, making new pool\");\n-    pool = gst_video_buffer_pool_new ();\n-  }\n-\n-  \/* now configure *\/\n-  config = gst_buffer_pool_get_config (pool);\n-  gst_buffer_pool_config_set_params (config, outcaps, size, min, max);\n-  gst_buffer_pool_config_set_allocator (config, allocator, &params);\n-\n-  GST_DEBUG_OBJECT (decoder,\n-      \"setting config %\" GST_PTR_FORMAT \" in pool %\" GST_PTR_FORMAT, config,\n-      pool);\n-  if (!gst_buffer_pool_set_config (pool, config)) {\n-    config = gst_buffer_pool_get_config (pool);\n-\n-    \/* If change are not acceptable, fallback to generic pool *\/\n-    if (!gst_buffer_pool_config_validate_params (config, outcaps, size, min,\n-            max)) {\n-      GST_DEBUG_OBJECT (decoder, \"unsupported pool, making new pool\");\n-\n-      gst_object_unref (pool);\n-      pool = gst_video_buffer_pool_new ();\n-      gst_buffer_pool_config_set_params (config, outcaps, size, min, max);\n-      gst_buffer_pool_config_set_allocator (config, allocator, &params);\n-    }\n-\n-    if (!gst_buffer_pool_set_config (pool, config))\n-      goto config_failed;\n-  }\n-\n-  if (update_allocator)\n-    gst_query_set_nth_allocation_param (query, 0, allocator, &params);\n-  else\n-    gst_query_add_allocation_param (query, allocator, &params);\n-  if (allocator)\n-    gst_object_unref (allocator);\n-\n-  if (update_pool)\n-    gst_query_set_nth_allocation_pool (query, 0, pool, size, min, max);\n-  else\n-    gst_query_add_allocation_pool (query, pool, size, min, max);\n-\n-  if (pool)\n-    gst_object_unref (pool);\n-\n-  return TRUE;\n-\n-config_failed:\n-  if (allocator)\n-    gst_object_unref (allocator);\n-  if (pool)\n-    gst_object_unref (pool);\n-  GST_ELEMENT_ERROR (decoder, RESOURCE, SETTINGS,\n-      (\"Failed to configure the buffer pool\"),\n-      (\"Configuration is most likely invalid, please report this issue.\"));\n-  return FALSE;\n-}\n-\n-static gboolean\n-gst_video_decoder_propose_allocation_default (GstVideoDecoder * decoder,\n-    GstQuery * query)\n-{\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_video_decoder_negotiate_pool (GstVideoDecoder * decoder, GstCaps * caps)\n-{\n-  GstVideoDecoderClass *klass;\n-  GstQuery *query = NULL;\n-  GstBufferPool *pool = NULL;\n-  GstAllocator *allocator;\n-  GstAllocationParams params;\n-  gboolean ret = TRUE;\n-\n-  klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  query = gst_query_new_allocation (caps, TRUE);\n-\n-  GST_DEBUG_OBJECT (decoder, \"do query ALLOCATION\");\n-\n-  if (!gst_pad_peer_query (decoder->srcpad, query)) {\n-    GST_DEBUG_OBJECT (decoder, \"didn't get downstream ALLOCATION hints\");\n-  }\n-\n-  g_assert (klass->decide_allocation != NULL);\n-  ret = klass->decide_allocation (decoder, query);\n-\n-  GST_DEBUG_OBJECT (decoder, \"ALLOCATION (%d) params: %\" GST_PTR_FORMAT, ret,\n-      query);\n-\n-  if (!ret)\n-    goto no_decide_allocation;\n-\n-  \/* we got configuration from our peer or the decide_allocation method,\n-   * parse them *\/\n-  if (gst_query_get_n_allocation_params (query) > 0) {\n-    gst_query_parse_nth_allocation_param (query, 0, &allocator, &params);\n-  } else {\n-    allocator = NULL;\n-    gst_allocation_params_init (&params);\n-  }\n-\n-  if (gst_query_get_n_allocation_pools (query) > 0)\n-    gst_query_parse_nth_allocation_pool (query, 0, &pool, NULL, NULL, NULL);\n-  if (!pool) {\n-    if (allocator)\n-      gst_object_unref (allocator);\n-    ret = FALSE;\n-    goto no_decide_allocation;\n-  }\n-\n-  if (decoder->priv->allocator)\n-    gst_object_unref (decoder->priv->allocator);\n-  decoder->priv->allocator = allocator;\n-  decoder->priv->params = params;\n-\n-  if (decoder->priv->pool) {\n-    \/* do not set the bufferpool to inactive here, it will be done\n-     * on its finalize function. As videodecoder do late renegotiation\n-     * it might happen that some element downstream is already using this\n-     * same bufferpool and deactivating it will make it fail.\n-     * Happens when a downstream element changes from passthrough to\n-     * non-passthrough and gets this same bufferpool to use *\/\n-    GST_DEBUG_OBJECT (decoder, \"unref pool %\" GST_PTR_FORMAT,\n-        decoder->priv->pool);\n-    gst_object_unref (decoder->priv->pool);\n-  }\n-  decoder->priv->pool = pool;\n-\n-  \/* and activate *\/\n-  GST_DEBUG_OBJECT (decoder, \"activate pool %\" GST_PTR_FORMAT, pool);\n-  gst_buffer_pool_set_active (pool, TRUE);\n-\n-done:\n-  if (query)\n-    gst_query_unref (query);\n-\n-  return ret;\n-\n-  \/* Errors *\/\n-no_decide_allocation:\n-  {\n-    GST_WARNING_OBJECT (decoder, \"Subclass failed to decide allocation\");\n-    goto done;\n-  }\n-}\n-\n-static gboolean\n-gst_video_decoder_negotiate_default (GstVideoDecoder * decoder)\n-{\n-  GstVideoCodecState *state = decoder->priv->output_state;\n-  gboolean ret = TRUE;\n-  GstVideoCodecFrame *frame;\n-  GstCaps *prevcaps;\n-  GstCaps *incaps;\n-\n-  if (!state) {\n-    GST_DEBUG_OBJECT (decoder,\n-        \"Trying to negotiate the pool with out setting the o\/p format\");\n-    ret = gst_video_decoder_negotiate_pool (decoder, NULL);\n-    goto done;\n-  }\n-\n-  g_return_val_if_fail (GST_VIDEO_INFO_WIDTH (&state->info) != 0, FALSE);\n-  g_return_val_if_fail (GST_VIDEO_INFO_HEIGHT (&state->info) != 0, FALSE);\n-\n-  \/* If the base class didn't set any multiview params, assume mono\n-   * now *\/\n-  if (GST_VIDEO_INFO_MULTIVIEW_MODE (&state->info) ==\n-      GST_VIDEO_MULTIVIEW_MODE_NONE) {\n-    GST_VIDEO_INFO_MULTIVIEW_MODE (&state->info) =\n-        GST_VIDEO_MULTIVIEW_MODE_MONO;\n-    GST_VIDEO_INFO_MULTIVIEW_FLAGS (&state->info) =\n-        GST_VIDEO_MULTIVIEW_FLAGS_NONE;\n-  }\n-\n-  GST_DEBUG_OBJECT (decoder, \"output_state par %d\/%d fps %d\/%d\",\n-      state->info.par_n, state->info.par_d,\n-      state->info.fps_n, state->info.fps_d);\n-\n-  if (state->caps == NULL)\n-    state->caps = gst_video_info_to_caps (&state->info);\n-\n-  incaps = gst_pad_get_current_caps (GST_VIDEO_DECODER_SINK_PAD (decoder));\n-  if (incaps) {\n-    GstStructure *in_struct;\n-\n-    in_struct = gst_caps_get_structure (incaps, 0);\n-    if (gst_structure_has_field (in_struct, \"mastering-display-info\") ||\n-        gst_structure_has_field (in_struct, \"content-light-level\")) {\n-      const gchar *s;\n-\n-      \/* prefer upstream information *\/\n-      state->caps = gst_caps_make_writable (state->caps);\n-      if ((s = gst_structure_get_string (in_struct, \"mastering-display-info\"))) {\n-        gst_caps_set_simple (state->caps,\n-            \"mastering-display-info\", G_TYPE_STRING, s, NULL);\n-      }\n-\n-      if ((s = gst_structure_get_string (in_struct, \"content-light-level\"))) {\n-        gst_caps_set_simple (state->caps,\n-            \"content-light-level\", G_TYPE_STRING, s, NULL);\n-      }\n-    }\n-\n-    gst_caps_unref (incaps);\n-  }\n-\n-  if (state->allocation_caps == NULL)\n-    state->allocation_caps = gst_caps_ref (state->caps);\n-\n-  GST_DEBUG_OBJECT (decoder, \"setting caps %\" GST_PTR_FORMAT, state->caps);\n-\n-  \/* Push all pending pre-caps events of the oldest frame before\n-   * setting caps *\/\n-  frame = decoder->priv->frames.head ? decoder->priv->frames.head->data : NULL;\n-  if (frame || decoder->priv->current_frame_events) {\n-    GList **events, *l;\n-\n-    if (frame) {\n-      events = &frame->events;\n-    } else {\n-      events = &decoder->priv->current_frame_events;\n-    }\n-\n-    for (l = g_list_last (*events); l;) {\n-      GstEvent *event = GST_EVENT (l->data);\n-      GList *tmp;\n-\n-      if (GST_EVENT_TYPE (event) < GST_EVENT_CAPS) {\n-        gst_video_decoder_push_event (decoder, event);\n-        tmp = l;\n-        l = l->prev;\n-        *events = g_list_delete_link (*events, tmp);\n-      } else {\n-        l = l->prev;\n-      }\n-    }\n-  }\n-\n-  prevcaps = gst_pad_get_current_caps (decoder->srcpad);\n-  if (!prevcaps || !gst_caps_is_equal (prevcaps, state->caps)) {\n-    if (!prevcaps) {\n-      GST_DEBUG_OBJECT (decoder, \"decoder src pad has currently NULL caps\");\n-    }\n-    ret = gst_pad_set_caps (decoder->srcpad, state->caps);\n-  } else {\n-    ret = TRUE;\n-    GST_DEBUG_OBJECT (decoder,\n-        \"current src pad and output state caps are the same\");\n-  }\n-  if (prevcaps)\n-    gst_caps_unref (prevcaps);\n-\n-  if (!ret)\n-    goto done;\n-  decoder->priv->output_state_changed = FALSE;\n-  \/* Negotiate pool *\/\n-  ret = gst_video_decoder_negotiate_pool (decoder, state->allocation_caps);\n-\n-done:\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_decoder_negotiate_unlocked (GstVideoDecoder * decoder)\n-{\n-  GstVideoDecoderClass *klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-  gboolean ret = TRUE;\n-\n-  if (G_LIKELY (klass->negotiate))\n-    ret = klass->negotiate (decoder);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_decoder_negotiate:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Negotiate with downstream elements to currently configured #GstVideoCodecState.\n- * Unmark GST_PAD_FLAG_NEED_RECONFIGURE in any case. But mark it again if\n- * negotiate fails.\n- *\n- * Returns: %TRUE if the negotiation succeeded, else %FALSE.\n- *\/\n-gboolean\n-gst_video_decoder_negotiate (GstVideoDecoder * decoder)\n-{\n-  GstVideoDecoderClass *klass;\n-  gboolean ret = TRUE;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (decoder), FALSE);\n-\n-  klass = GST_VIDEO_DECODER_GET_CLASS (decoder);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  gst_pad_check_reconfigure (decoder->srcpad);\n-  if (klass->negotiate) {\n-    ret = klass->negotiate (decoder);\n-    if (!ret)\n-      gst_pad_mark_reconfigure (decoder->srcpad);\n-  }\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_decoder_allocate_output_buffer:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Helper function that allocates a buffer to hold a video frame for @decoder's\n- * current #GstVideoCodecState.\n- *\n- * You should use gst_video_decoder_allocate_output_frame() instead of this\n- * function, if possible at all.\n- *\n- * Returns: (transfer full): allocated buffer, or NULL if no buffer could be\n- *     allocated (e.g. when downstream is flushing or shutting down)\n- *\/\n-GstBuffer *\n-gst_video_decoder_allocate_output_buffer (GstVideoDecoder * decoder)\n-{\n-  GstFlowReturn flow;\n-  GstBuffer *buffer = NULL;\n-  gboolean needs_reconfigure = FALSE;\n-\n-  GST_DEBUG (\"alloc src buffer\");\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  needs_reconfigure = gst_pad_check_reconfigure (decoder->srcpad);\n-  if (G_UNLIKELY (!decoder->priv->output_state\n-          || decoder->priv->output_state_changed || needs_reconfigure)) {\n-    if (!gst_video_decoder_negotiate_unlocked (decoder)) {\n-      if (decoder->priv->output_state) {\n-        GST_DEBUG_OBJECT (decoder, \"Failed to negotiate, fallback allocation\");\n-        gst_pad_mark_reconfigure (decoder->srcpad);\n-        goto fallback;\n-      } else {\n-        GST_DEBUG_OBJECT (decoder, \"Failed to negotiate, output_buffer=NULL\");\n-        goto failed_allocation;\n-      }\n-    }\n-  }\n-\n-  flow = gst_buffer_pool_acquire_buffer (decoder->priv->pool, &buffer, NULL);\n-\n-  if (flow != GST_FLOW_OK) {\n-    GST_INFO_OBJECT (decoder, \"couldn't allocate output buffer, flow %s\",\n-        gst_flow_get_name (flow));\n-    if (decoder->priv->output_state && decoder->priv->output_state->info.size)\n-      goto fallback;\n-    else\n-      goto failed_allocation;\n-  }\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return buffer;\n-\n-fallback:\n-  GST_INFO_OBJECT (decoder,\n-      \"Fallback allocation, creating new buffer which doesn't belongs to any buffer pool\");\n-  buffer =\n-      gst_buffer_new_allocate (NULL, decoder->priv->output_state->info.size,\n-      NULL);\n-\n-failed_allocation:\n-  GST_ERROR_OBJECT (decoder, \"Failed to allocate the buffer..\");\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return buffer;\n-}\n-\n-\/**\n- * gst_video_decoder_allocate_output_frame:\n- * @decoder: a #GstVideoDecoder\n- * @frame: a #GstVideoCodecFrame\n- *\n- * Helper function that allocates a buffer to hold a video frame for @decoder's\n- * current #GstVideoCodecState.  Subclass should already have configured video\n- * state and set src pad caps.\n- *\n- * The buffer allocated here is owned by the frame and you should only\n- * keep references to the frame, not the buffer.\n- *\n- * Returns: %GST_FLOW_OK if an output buffer could be allocated\n- *\/\n-GstFlowReturn\n-gst_video_decoder_allocate_output_frame (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame)\n-{\n-  return gst_video_decoder_allocate_output_frame_with_params (decoder, frame,\n-      NULL);\n-}\n-\n-\/**\n- * gst_video_decoder_allocate_output_frame_with_params:\n- * @decoder: a #GstVideoDecoder\n- * @frame: a #GstVideoCodecFrame\n- * @params: a #GstBufferPoolAcquireParams\n- *\n- * Same as #gst_video_decoder_allocate_output_frame except it allows passing\n- * #GstBufferPoolAcquireParams to the sub call gst_buffer_pool_acquire_buffer.\n- *\n- * Returns: %GST_FLOW_OK if an output buffer could be allocated\n- *\n- * Since: 1.12\n- *\/\n-GstFlowReturn\n-gst_video_decoder_allocate_output_frame_with_params (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame, GstBufferPoolAcquireParams * params)\n-{\n-  GstFlowReturn flow_ret;\n-  GstVideoCodecState *state;\n-  int num_bytes;\n-  gboolean needs_reconfigure = FALSE;\n-\n-  g_return_val_if_fail (decoder->priv->output_state, GST_FLOW_NOT_NEGOTIATED);\n-  g_return_val_if_fail (frame->output_buffer == NULL, GST_FLOW_ERROR);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-\n-  state = decoder->priv->output_state;\n-  if (state == NULL) {\n-    g_warning (\"Output state should be set before allocating frame\");\n-    goto error;\n-  }\n-  num_bytes = GST_VIDEO_INFO_SIZE (&state->info);\n-  if (num_bytes == 0) {\n-    g_warning (\"Frame size should not be 0\");\n-    goto error;\n-  }\n-\n-  needs_reconfigure = gst_pad_check_reconfigure (decoder->srcpad);\n-  if (G_UNLIKELY (decoder->priv->output_state_changed || needs_reconfigure)) {\n-    if (!gst_video_decoder_negotiate_unlocked (decoder)) {\n-      gst_pad_mark_reconfigure (decoder->srcpad);\n-      if (GST_PAD_IS_FLUSHING (decoder->srcpad)) {\n-        GST_DEBUG_OBJECT (decoder,\n-            \"Failed to negotiate a pool: pad is flushing\");\n-        goto flushing;\n-      } else if (!decoder->priv->pool || decoder->priv->output_state_changed) {\n-        GST_DEBUG_OBJECT (decoder,\n-            \"Failed to negotiate a pool and no previous pool to reuse\");\n-        goto error;\n-      } else {\n-        GST_DEBUG_OBJECT (decoder,\n-            \"Failed to negotiate a pool, falling back to the previous pool\");\n-      }\n-    }\n-  }\n-\n-  GST_LOG_OBJECT (decoder, \"alloc buffer size %d\", num_bytes);\n-\n-  flow_ret = gst_buffer_pool_acquire_buffer (decoder->priv->pool,\n-      &frame->output_buffer, params);\n-\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return flow_ret;\n-\n-flushing:\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-  return GST_FLOW_FLUSHING;\n-\n-error:\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-  return GST_FLOW_ERROR;\n-}\n-\n-\/**\n- * gst_video_decoder_get_max_decode_time:\n- * @decoder: a #GstVideoDecoder\n- * @frame: a #GstVideoCodecFrame\n- *\n- * Determines maximum possible decoding time for @frame that will\n- * allow it to decode and arrive in time (as determined by QoS events).\n- * In particular, a negative result means decoding in time is no longer possible\n- * and should therefore occur as soon\/skippy as possible.\n- *\n- * Returns: max decoding time.\n- *\/\n-GstClockTimeDiff\n-gst_video_decoder_get_max_decode_time (GstVideoDecoder *\n-    decoder, GstVideoCodecFrame * frame)\n-{\n-  GstClockTimeDiff deadline;\n-  GstClockTime earliest_time;\n-\n-  GST_OBJECT_LOCK (decoder);\n-  earliest_time = decoder->priv->earliest_time;\n-  if (GST_CLOCK_TIME_IS_VALID (earliest_time)\n-      && GST_CLOCK_TIME_IS_VALID (frame->deadline))\n-    deadline = GST_CLOCK_DIFF (earliest_time, frame->deadline);\n-  else\n-    deadline = G_MAXINT64;\n-\n-  GST_LOG_OBJECT (decoder, \"earliest %\" GST_TIME_FORMAT\n-      \", frame deadline %\" GST_TIME_FORMAT \", deadline %\" GST_STIME_FORMAT,\n-      GST_TIME_ARGS (earliest_time), GST_TIME_ARGS (frame->deadline),\n-      GST_STIME_ARGS (deadline));\n-\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  return deadline;\n-}\n-\n-\/**\n- * gst_video_decoder_get_qos_proportion:\n- * @decoder: a #GstVideoDecoder\n- *     current QoS proportion, or %NULL\n- *\n- * Returns: The current QoS proportion.\n- *\n- * Since: 1.0.3\n- *\/\n-gdouble\n-gst_video_decoder_get_qos_proportion (GstVideoDecoder * decoder)\n-{\n-  gdouble proportion;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (decoder), 1.0);\n-\n-  GST_OBJECT_LOCK (decoder);\n-  proportion = decoder->priv->proportion;\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  return proportion;\n-}\n-\n-GstFlowReturn\n-_gst_video_decoder_error (GstVideoDecoder * dec, gint weight,\n-    GQuark domain, gint code, gchar * txt, gchar * dbg, const gchar * file,\n-    const gchar * function, gint line)\n-{\n-  if (txt)\n-    GST_WARNING_OBJECT (dec, \"error: %s\", txt);\n-  if (dbg)\n-    GST_WARNING_OBJECT (dec, \"error: %s\", dbg);\n-  dec->priv->error_count += weight;\n-  dec->priv->discont = TRUE;\n-  if (dec->priv->max_errors >= 0 &&\n-      dec->priv->error_count > dec->priv->max_errors) {\n-    gst_element_message_full (GST_ELEMENT (dec), GST_MESSAGE_ERROR,\n-        domain, code, txt, dbg, file, function, line);\n-    return GST_FLOW_ERROR;\n-  } else {\n-    g_free (txt);\n-    g_free (dbg);\n-    return GST_FLOW_OK;\n-  }\n-}\n-\n-\/**\n- * gst_video_decoder_set_max_errors:\n- * @dec: a #GstVideoDecoder\n- * @num: max tolerated errors\n- *\n- * Sets numbers of tolerated decoder errors, where a tolerated one is then only\n- * warned about, but more than tolerated will lead to fatal error.  You can set\n- * -1 for never returning fatal errors. Default is set to\n- * GST_VIDEO_DECODER_MAX_ERRORS.\n- *\n- * The '-1' option was added in 1.4\n- *\/\n-void\n-gst_video_decoder_set_max_errors (GstVideoDecoder * dec, gint num)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n-\n-  dec->priv->max_errors = num;\n-}\n-\n-\/**\n- * gst_video_decoder_get_max_errors:\n- * @dec: a #GstVideoDecoder\n- *\n- * Returns: currently configured decoder tolerated error count.\n- *\/\n-gint\n-gst_video_decoder_get_max_errors (GstVideoDecoder * dec)\n-{\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (dec), 0);\n-\n-  return dec->priv->max_errors;\n-}\n-\n-\/**\n- * gst_video_decoder_set_needs_format:\n- * @dec: a #GstVideoDecoder\n- * @enabled: new state\n- *\n- * Configures decoder format needs.  If enabled, subclass needs to be\n- * negotiated with format caps before it can process any data.  It will then\n- * never be handed any data before it has been configured.\n- * Otherwise, it might be handed data without having been configured and\n- * is then expected being able to do so either by default\n- * or based on the input data.\n- *\n- * Since: 1.4\n- *\/\n-void\n-gst_video_decoder_set_needs_format (GstVideoDecoder * dec, gboolean enabled)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n-\n-  dec->priv->needs_format = enabled;\n-}\n-\n-\/**\n- * gst_video_decoder_get_needs_format:\n- * @dec: a #GstVideoDecoder\n- *\n- * Queries decoder required format handling.\n- *\n- * Returns: %TRUE if required format handling is enabled.\n- *\n- * Since: 1.4\n- *\/\n-gboolean\n-gst_video_decoder_get_needs_format (GstVideoDecoder * dec)\n-{\n-  gboolean result;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (dec), FALSE);\n-\n-  result = dec->priv->needs_format;\n-\n-  return result;\n-}\n-\n-\/**\n- * gst_video_decoder_set_packetized:\n- * @decoder: a #GstVideoDecoder\n- * @packetized: whether the input data should be considered as packetized.\n- *\n- * Allows baseclass to consider input data as packetized or not. If the\n- * input is packetized, then the @parse method will not be called.\n- *\/\n-void\n-gst_video_decoder_set_packetized (GstVideoDecoder * decoder,\n-    gboolean packetized)\n-{\n-  decoder->priv->packetized = packetized;\n-}\n-\n-\/**\n- * gst_video_decoder_get_packetized:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Queries whether input data is considered packetized or not by the\n- * base class.\n- *\n- * Returns: TRUE if input data is considered packetized.\n- *\/\n-gboolean\n-gst_video_decoder_get_packetized (GstVideoDecoder * decoder)\n-{\n-  return decoder->priv->packetized;\n-}\n-\n-\/**\n- * gst_video_decoder_have_last_subframe:\n- * @decoder: a #GstVideoDecoder\n- * @frame: (transfer none): the #GstVideoCodecFrame to update\n- *\n- * Indicates that the last subframe has been processed by the decoder\n- * in @frame. This will release the current frame in video decoder\n- * allowing to receive new frames from upstream elements. This method\n- * must be called in the subclass @handle_frame callback.\n- *\n- * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n- *\n- * Since: 1.20\n- *\/\n-GstFlowReturn\n-gst_video_decoder_have_last_subframe (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  g_return_val_if_fail (gst_video_decoder_get_subframe_mode (decoder),\n-      GST_FLOW_OK);\n-  \/* unref once from the list *\/\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  if (decoder->priv->current_frame == frame) {\n-    gst_video_codec_frame_unref (decoder->priv->current_frame);\n-    decoder->priv->current_frame = NULL;\n-  }\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-\n-  return GST_FLOW_OK;\n-}\n-\n-\/**\n- * gst_video_decoder_set_subframe_mode:\n- * @decoder: a #GstVideoDecoder\n- * @subframe_mode: whether the input data should be considered as subframes.\n- *\n- * If this is set to TRUE, it informs the base class that the subclass\n- * can receive the data at a granularity lower than one frame.\n- *\n- * Note that in this mode, the subclass has two options. It can either\n- * require the presence of a GST_VIDEO_BUFFER_FLAG_MARKER to mark the\n- * end of a frame. Or it can operate in such a way that it will decode\n- * a single frame at a time. In this second case, every buffer that\n- * arrives to the element is considered part of the same frame until\n- * gst_video_decoder_finish_frame() is called.\n- *\n- * In either case, the same #GstVideoCodecFrame will be passed to the\n- * GstVideoDecoderClass:handle_frame vmethod repeatedly with a\n- * different GstVideoCodecFrame:input_buffer every time until the end of the\n- * frame has been signaled using either method.\n- * This method must be called during the decoder subclass @set_format call.\n- *\n- * Since: 1.20\n- *\/\n-void\n-gst_video_decoder_set_subframe_mode (GstVideoDecoder * decoder,\n-    gboolean subframe_mode)\n-{\n-  decoder->priv->subframe_mode = subframe_mode;\n-}\n-\n-\/**\n- * gst_video_decoder_get_subframe_mode:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Queries whether input data is considered as subframes or not by the\n- * base class. If FALSE, each input buffer will be considered as a full\n- * frame.\n- *\n- * Returns: TRUE if input data is considered as sub frames.\n- *\n- * Since: 1.20\n- *\/\n-gboolean\n-gst_video_decoder_get_subframe_mode (GstVideoDecoder * decoder)\n-{\n-  return decoder->priv->subframe_mode;\n-}\n-\n-\/**\n- * gst_video_decoder_get_input_subframe_index:\n- * @decoder: a #GstVideoDecoder\n- * @frame: (transfer none): the #GstVideoCodecFrame to update\n- *\n- * Queries the number of the last subframe received by\n- * the decoder baseclass in the @frame.\n- *\n- * Returns: the current subframe index received in subframe mode, 1 otherwise.\n- *\n- * Since: 1.20\n- *\/\n-guint\n-gst_video_decoder_get_input_subframe_index (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  return frame->abidata.ABI.num_subframes;\n-}\n-\n-\/**\n- * gst_video_decoder_get_processed_subframe_index:\n- * @decoder: a #GstVideoDecoder\n- * @frame: (transfer none): the #GstVideoCodecFrame to update\n- *\n- * Queries the number of subframes in the frame processed by\n- * the decoder baseclass.\n- *\n- * Returns: the current subframe processed received in subframe mode.\n- *\n- * Since: 1.20\n- *\/\n-guint\n-gst_video_decoder_get_processed_subframe_index (GstVideoDecoder * decoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  return frame->abidata.ABI.subframes_processed;\n-}\n-\n-\/**\n- * gst_video_decoder_set_estimate_rate:\n- * @dec: a #GstVideoDecoder\n- * @enabled: whether to enable byte to time conversion\n- *\n- * Allows baseclass to perform byte to time estimated conversion.\n- *\/\n-void\n-gst_video_decoder_set_estimate_rate (GstVideoDecoder * dec, gboolean enabled)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n-\n-  dec->priv->do_estimate_rate = enabled;\n-}\n-\n-\/**\n- * gst_video_decoder_get_estimate_rate:\n- * @dec: a #GstVideoDecoder\n- *\n- * Returns: currently configured byte to time conversion setting\n- *\/\n-gboolean\n-gst_video_decoder_get_estimate_rate (GstVideoDecoder * dec)\n-{\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (dec), 0);\n-\n-  return dec->priv->do_estimate_rate;\n-}\n-\n-\/**\n- * gst_video_decoder_set_latency:\n- * @decoder: a #GstVideoDecoder\n- * @min_latency: minimum latency\n- * @max_latency: maximum latency\n- *\n- * Lets #GstVideoDecoder sub-classes tell the baseclass what the decoder\n- * latency is. Will also post a LATENCY message on the bus so the pipeline\n- * can reconfigure its global latency.\n- *\/\n-void\n-gst_video_decoder_set_latency (GstVideoDecoder * decoder,\n-    GstClockTime min_latency, GstClockTime max_latency)\n-{\n-  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (min_latency));\n-  g_return_if_fail (max_latency >= min_latency);\n-\n-  GST_OBJECT_LOCK (decoder);\n-  decoder->priv->min_latency = min_latency;\n-  decoder->priv->max_latency = max_latency;\n-  GST_OBJECT_UNLOCK (decoder);\n-\n-  gst_element_post_message (GST_ELEMENT_CAST (decoder),\n-      gst_message_new_latency (GST_OBJECT_CAST (decoder)));\n-}\n-\n-\/**\n- * gst_video_decoder_get_latency:\n- * @decoder: a #GstVideoDecoder\n- * @min_latency: (out) (allow-none): address of variable in which to store the\n- *     configured minimum latency, or %NULL\n- * @max_latency: (out) (allow-none): address of variable in which to store the\n- *     configured mximum latency, or %NULL\n- *\n- * Query the configured decoder latency. Results will be returned via\n- * @min_latency and @max_latency.\n- *\/\n-void\n-gst_video_decoder_get_latency (GstVideoDecoder * decoder,\n-    GstClockTime * min_latency, GstClockTime * max_latency)\n-{\n-  GST_OBJECT_LOCK (decoder);\n-  if (min_latency)\n-    *min_latency = decoder->priv->min_latency;\n-  if (max_latency)\n-    *max_latency = decoder->priv->max_latency;\n-  GST_OBJECT_UNLOCK (decoder);\n-}\n-\n-\/**\n- * gst_video_decoder_merge_tags:\n- * @decoder: a #GstVideoDecoder\n- * @tags: (allow-none): a #GstTagList to merge, or NULL to unset\n- *     previously-set tags\n- * @mode: the #GstTagMergeMode to use, usually #GST_TAG_MERGE_REPLACE\n- *\n- * Sets the audio decoder tags and how they should be merged with any\n- * upstream stream tags. This will override any tags previously-set\n- * with gst_audio_decoder_merge_tags().\n- *\n- * Note that this is provided for convenience, and the subclass is\n- * not required to use this and can still do tag handling on its own.\n- *\n- * MT safe.\n- *\/\n-void\n-gst_video_decoder_merge_tags (GstVideoDecoder * decoder,\n-    const GstTagList * tags, GstTagMergeMode mode)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (decoder));\n-  g_return_if_fail (tags == NULL || GST_IS_TAG_LIST (tags));\n-  g_return_if_fail (tags == NULL || mode != GST_TAG_MERGE_UNDEFINED);\n-\n-  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-  if (decoder->priv->tags != tags) {\n-    if (decoder->priv->tags) {\n-      gst_tag_list_unref (decoder->priv->tags);\n-      decoder->priv->tags = NULL;\n-      decoder->priv->tags_merge_mode = GST_TAG_MERGE_APPEND;\n-    }\n-    if (tags) {\n-      decoder->priv->tags = gst_tag_list_ref ((GstTagList *) tags);\n-      decoder->priv->tags_merge_mode = mode;\n-    }\n-\n-    GST_DEBUG_OBJECT (decoder, \"set decoder tags to %\" GST_PTR_FORMAT, tags);\n-    decoder->priv->tags_changed = TRUE;\n-  }\n-  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-}\n-\n-\/**\n- * gst_video_decoder_get_buffer_pool:\n- * @decoder: a #GstVideoDecoder\n- *\n- * Returns: (transfer full): the instance of the #GstBufferPool used\n- * by the decoder; free it after use it\n- *\/\n-GstBufferPool *\n-gst_video_decoder_get_buffer_pool (GstVideoDecoder * decoder)\n-{\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (decoder), NULL);\n-\n-  if (decoder->priv->pool)\n-    return gst_object_ref (decoder->priv->pool);\n-\n-  return NULL;\n-}\n-\n-\/**\n- * gst_video_decoder_get_allocator:\n- * @decoder: a #GstVideoDecoder\n- * @allocator: (out) (allow-none) (transfer full): the #GstAllocator\n- * used\n- * @params: (out) (allow-none) (transfer full): the\n- * #GstAllocationParams of @allocator\n- *\n- * Lets #GstVideoDecoder sub-classes to know the memory @allocator\n- * used by the base class and its @params.\n- *\n- * Unref the @allocator after use it.\n- *\/\n-void\n-gst_video_decoder_get_allocator (GstVideoDecoder * decoder,\n-    GstAllocator ** allocator, GstAllocationParams * params)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (decoder));\n-\n-  if (allocator)\n-    *allocator = decoder->priv->allocator ?\n-        gst_object_ref (decoder->priv->allocator) : NULL;\n-\n-  if (params)\n-    *params = decoder->priv->params;\n-}\n-\n-\/**\n- * gst_video_decoder_set_use_default_pad_acceptcaps:\n- * @decoder: a #GstVideoDecoder\n- * @use: if the default pad accept-caps query handling should be used\n- *\n- * Lets #GstVideoDecoder sub-classes decide if they want the sink pad\n- * to use the default pad query handler to reply to accept-caps queries.\n- *\n- * By setting this to true it is possible to further customize the default\n- * handler with %GST_PAD_SET_ACCEPT_INTERSECT and\n- * %GST_PAD_SET_ACCEPT_TEMPLATE\n- *\n- * Since: 1.6\n- *\/\n-void\n-gst_video_decoder_set_use_default_pad_acceptcaps (GstVideoDecoder * decoder,\n-    gboolean use)\n-{\n-  decoder->priv->use_default_pad_acceptcaps = use;\n-}\n-\n-static void\n-gst_video_decoder_request_sync_point_internal (GstVideoDecoder * dec,\n-    GstClockTime deadline, GstVideoDecoderRequestSyncPointFlags flags)\n-{\n-  GstEvent *fku = NULL;\n-  GstVideoDecoderPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n-\n-  priv = dec->priv;\n-\n-  GST_OBJECT_LOCK (dec);\n-\n-  \/* Check if we're allowed to send a new force-keyunit event.\n-   * frame->deadline is set to the running time of the PTS. *\/\n-  if (priv->min_force_key_unit_interval == 0 ||\n-      deadline == GST_CLOCK_TIME_NONE ||\n-      (priv->min_force_key_unit_interval != GST_CLOCK_TIME_NONE &&\n-          (priv->last_force_key_unit_time == GST_CLOCK_TIME_NONE\n-              || (priv->last_force_key_unit_time +\n-                  priv->min_force_key_unit_interval <= deadline)))) {\n-    GST_DEBUG_OBJECT (dec,\n-        \"Requesting a new key-unit for frame with deadline %\" GST_TIME_FORMAT,\n-        GST_TIME_ARGS (deadline));\n-    fku =\n-        gst_video_event_new_upstream_force_key_unit (GST_CLOCK_TIME_NONE, FALSE,\n-        0);\n-    priv->last_force_key_unit_time = deadline;\n-  } else {\n-    GST_DEBUG_OBJECT (dec,\n-        \"Can't request a new key-unit for frame with deadline %\"\n-        GST_TIME_FORMAT, GST_TIME_ARGS (deadline));\n-  }\n-  priv->request_sync_point_flags |= flags;\n-  \/* We don't know yet the frame number of the sync point so set it to a\n-   * frame number higher than any allowed frame number *\/\n-  priv->request_sync_point_frame_number = REQUEST_SYNC_POINT_PENDING;\n-  GST_OBJECT_UNLOCK (dec);\n-\n-  if (fku)\n-    gst_pad_push_event (dec->sinkpad, fku);\n-}\n-\n-\/**\n- * gst_video_decoder_request_sync_point:\n- * @dec: a #GstVideoDecoder\n- * @frame: a #GstVideoCodecFrame\n- * @flags: #GstVideoDecoderRequestSyncPointFlags\n- *\n- * Allows the #GstVideoDecoder subclass to request from the base class that\n- * a new sync should be requested from upstream, and that @frame was the frame\n- * when the subclass noticed that a new sync point is required. A reason for\n- * the subclass to do this could be missing reference frames, for example.\n- *\n- * The base class will then request a new sync point from upstream as long as\n- * the time that passed since the last one is exceeding\n- * #GstVideoDecoder:min-force-key-unit-interval.\n- *\n- * The subclass can signal via @flags how the frames until the next sync point\n- * should be handled:\n- *\n- *   * If %GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT is selected then\n- *     all following input frames until the next sync point are discarded.\n- *     This can be useful if the lack of a sync point will prevent all further\n- *     decoding and the decoder implementation is not very robust in handling\n- *     missing references frames.\n- *   * If %GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT is selected\n- *     then all output frames following @frame are marked as corrupted via\n- *     %GST_BUFFER_FLAG_CORRUPTED. Corrupted frames can be automatically\n- *     dropped by the base class, see #GstVideoDecoder:discard-corrupted-frames.\n- *     Subclasses can manually mark frames as corrupted via %GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED\n- *     before calling gst_video_decoder_finish_frame().\n- *\n- * Since: 1.20\n- *\/\n-void\n-gst_video_decoder_request_sync_point (GstVideoDecoder * dec,\n-    GstVideoCodecFrame * frame, GstVideoDecoderRequestSyncPointFlags flags)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n-  g_return_if_fail (frame != NULL);\n-\n-  gst_video_decoder_request_sync_point_internal (dec, frame->deadline, flags);\n-}\n-\n-\/**\n- * gst_video_decoder_set_needs_sync_point:\n- * @dec: a #GstVideoDecoder\n- * @enabled: new state\n- *\n- * Configures whether the decoder requires a sync point before it starts\n- * outputting data in the beginning. If enabled, the base class will discard\n- * all non-sync point frames in the beginning and after a flush and does not\n- * pass it to the subclass.\n- *\n- * If the first frame is not a sync point, the base class will request a sync\n- * point via the force-key-unit event.\n- *\n- * Since: 1.20\n- *\/\n-void\n-gst_video_decoder_set_needs_sync_point (GstVideoDecoder * dec, gboolean enabled)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n-\n-  dec->priv->needs_sync_point = enabled;\n-}\n-\n-\/**\n- * gst_video_decoder_get_needs_sync_point:\n- * @dec: a #GstVideoDecoder\n- *\n- * Queries if the decoder requires a sync point before it starts outputting\n- * data in the beginning.\n- *\n- * Returns: %TRUE if a sync point is required in the beginning.\n- *\n- * Since: 1.20\n- *\/\n-gboolean\n-gst_video_decoder_get_needs_sync_point (GstVideoDecoder * dec)\n-{\n-  gboolean result;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_DECODER (dec), FALSE);\n-\n-  result = dec->priv->needs_sync_point;\n-\n-  return result;\n-}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideodecoder.c","additions":0,"deletions":5358,"binary":false,"changes":5358,"status":"deleted"},{"patch":"@@ -1,558 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2008 David Schleef <ds@schleef.org>\n- * Copyright (C) 2011 Mark Nauwelaerts <mark.nauwelaerts@collabora.co.uk>.\n- * Copyright (C) 2011 Nokia Corporation. All rights reserved.\n- *   Contact: Stefan Kost <stefan.kost@nokia.com>\n- * Copyright (C) 2012 Collabora Ltd.\n- *      Author : Edward Hervey <edward@collabora.com>\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-#ifndef _GST_VIDEO_DECODER_H_\n-#define _GST_VIDEO_DECODER_H_\n-\n-#include <gst\/base\/gstadapter.h>\n-#include <gst\/video\/gstvideoutils.h>\n-\n-G_BEGIN_DECLS\n-\n-#define GST_TYPE_VIDEO_DECODER \\\n-  (gst_video_decoder_get_type())\n-#define GST_VIDEO_DECODER(obj) \\\n-  (G_TYPE_CHECK_INSTANCE_CAST((obj),GST_TYPE_VIDEO_DECODER,GstVideoDecoder))\n-#define GST_VIDEO_DECODER_CLASS(klass) \\\n-  (G_TYPE_CHECK_CLASS_CAST((klass),GST_TYPE_VIDEO_DECODER,GstVideoDecoderClass))\n-#define GST_VIDEO_DECODER_GET_CLASS(obj) \\\n-  (G_TYPE_INSTANCE_GET_CLASS((obj),GST_TYPE_VIDEO_DECODER,GstVideoDecoderClass))\n-#define GST_IS_VIDEO_DECODER(obj) \\\n-  (G_TYPE_CHECK_INSTANCE_TYPE((obj),GST_TYPE_VIDEO_DECODER))\n-#define GST_IS_VIDEO_DECODER_CLASS(klass) \\\n-  (G_TYPE_CHECK_CLASS_TYPE((klass),GST_TYPE_VIDEO_DECODER))\n-#define GST_VIDEO_DECODER_CAST(obj) ((GstVideoDecoder *)(obj))\n-\n-\/**\n- * GST_VIDEO_DECODER_SINK_NAME:\n- *\n- * The name of the templates for the sink pad.\n- *\/\n-#define GST_VIDEO_DECODER_SINK_NAME    \"sink\"\n-\/**\n- * GST_VIDEO_DECODER_SRC_NAME:\n- *\n- * The name of the templates for the source pad.\n- *\/\n-#define GST_VIDEO_DECODER_SRC_NAME     \"src\"\n-\n-\/**\n- * GST_VIDEO_DECODER_SRC_PAD:\n- * @obj: a #GstVideoDecoder\n- *\n- * Gives the pointer to the source #GstPad object of the element.\n- *\/\n-#define GST_VIDEO_DECODER_SRC_PAD(obj)         (((GstVideoDecoder *) (obj))->srcpad)\n-\n-\/**\n- * GST_VIDEO_DECODER_SINK_PAD:\n- * @obj: a #GstVideoDecoder\n- *\n- * Gives the pointer to the sink #GstPad object of the element.\n- *\/\n-#define GST_VIDEO_DECODER_SINK_PAD(obj)        (((GstVideoDecoder *) (obj))->sinkpad)\n-\/**\n- * GST_VIDEO_DECODER_FLOW_NEED_DATA:\n- *\n- * Returned while parsing to indicate more data is needed.\n- **\/\n-#define GST_VIDEO_DECODER_FLOW_NEED_DATA GST_FLOW_CUSTOM_SUCCESS\n-\n-\/**\n- * GST_VIDEO_DECODER_INPUT_SEGMENT:\n- * @obj: base decoder instance\n- *\n- * Gives the segment of the element.\n- *\/\n-#define GST_VIDEO_DECODER_INPUT_SEGMENT(obj)     (GST_VIDEO_DECODER_CAST (obj)->input_segment)\n-\n-\/**\n- * GST_VIDEO_DECODER_OUTPUT_SEGMENT:\n- * @obj: base decoder instance\n- *\n- * Gives the segment of the element.\n- *\/\n-#define GST_VIDEO_DECODER_OUTPUT_SEGMENT(obj)     (GST_VIDEO_DECODER_CAST (obj)->output_segment)\n-\n-\/**\n- * GST_VIDEO_DECODER_STREAM_LOCK:\n- * @decoder: video decoder instance\n- *\n- * Obtain a lock to protect the decoder function from concurrent access.\n- *\/\n-#define GST_VIDEO_DECODER_STREAM_LOCK(decoder) g_rec_mutex_lock (&GST_VIDEO_DECODER (decoder)->stream_lock)\n-\n-\/**\n- * GST_VIDEO_DECODER_STREAM_UNLOCK:\n- * @decoder: video decoder instance\n- *\n- * Release the lock that protects the decoder function from concurrent access.\n- *\/\n-#define GST_VIDEO_DECODER_STREAM_UNLOCK(decoder) g_rec_mutex_unlock (&GST_VIDEO_DECODER (decoder)->stream_lock)\n-\n-typedef struct _GstVideoDecoder GstVideoDecoder;\n-typedef struct _GstVideoDecoderClass GstVideoDecoderClass;\n-typedef struct _GstVideoDecoderPrivate GstVideoDecoderPrivate;\n-\n-\n-\/* do not use this one, use macro below *\/\n-\n-GST_VIDEO_API\n-GstFlowReturn _gst_video_decoder_error (GstVideoDecoder *dec, gint weight,\n-                                             GQuark domain, gint code,\n-                                             gchar *txt, gchar *debug,\n-                                             const gchar *file, const gchar *function,\n-                                             gint line);\n-\n-\/**\n- * GST_VIDEO_DECODER_ERROR:\n- * @el:     the base video decoder element that generates the error\n- * @w:      element defined weight of the error, added to error count\n- * @domain: like CORE, LIBRARY, RESOURCE or STREAM (see #gstreamer-GstGError)\n- * @code:   error code defined for that domain (see #gstreamer-GstGError)\n- * @text:   the message to display (format string and args enclosed in\n- *          parentheses)\n- * @debug:  debugging information for the message (format string and args\n- *          enclosed in parentheses)\n- * @ret:    variable to receive return value\n- *\n- * Utility function that video decoder elements can use in case they encountered\n- * a data processing error that may be fatal for the current \"data unit\" but\n- * need not prevent subsequent decoding.  Such errors are counted and if there\n- * are too many, as configured in the context's max_errors, the pipeline will\n- * post an error message and the application will be requested to stop further\n- * media processing.  Otherwise, it is considered a \"glitch\" and only a warning\n- * is logged. In either case, @ret is set to the proper value to\n- * return to upstream\/caller (indicating either GST_FLOW_ERROR or GST_FLOW_OK).\n- *\/\n-#define GST_VIDEO_DECODER_ERROR(el, w, domain, code, text, debug, ret) \\\n-G_STMT_START {                                                              \\\n-  gchar *__txt = _gst_element_error_printf text;                            \\\n-  gchar *__dbg = _gst_element_error_printf debug;                           \\\n-  GstVideoDecoder *__dec = GST_VIDEO_DECODER (el);                   \\\n-  ret = _gst_video_decoder_error (__dec, w, GST_ ## domain ## _ERROR,    \\\n-      GST_ ## domain ## _ERROR_ ## code, __txt, __dbg, __FILE__,            \\\n-      GST_FUNCTION, __LINE__);                                              \\\n-} G_STMT_END\n-\n-\/**\n- * GST_VIDEO_DECODER_MAX_ERRORS:\n- *\n- * Default maximum number of errors tolerated before signaling error.\n- *\/\n-#define GST_VIDEO_DECODER_MAX_ERRORS     10\n-\n-\n-\/**\n- * GstVideoDecoder:\n- *\n- * The opaque #GstVideoDecoder data structure.\n- *\/\n-struct _GstVideoDecoder\n-{\n-  \/*< private >*\/\n-  GstElement     element;\n-\n-  \/*< protected >*\/\n-  GstPad         *sinkpad;\n-  GstPad         *srcpad;\n-\n-  \/* protects all data processing, i.e. is locked\n-   * in the chain function, finish_frame and when\n-   * processing serialized events *\/\n-  GRecMutex stream_lock;\n-\n-  \/* MT-protected (with STREAM_LOCK) *\/\n-  GstSegment      input_segment;\n-  GstSegment      output_segment;\n-\n-  GstVideoDecoderPrivate *priv;\n-\n-  \/*< private >*\/\n-  gpointer padding[GST_PADDING_LARGE];\n-};\n-\n-\/**\n- * GstVideoDecoderClass:\n- * @open:           Optional.\n- *                  Called when the element changes to GST_STATE_READY.\n- *                  Allows opening external resources.\n- * @close:          Optional.\n- *                  Called when the element changes to GST_STATE_NULL.\n- *                  Allows closing external resources.\n- * @start:          Optional.\n- *                  Called when the element starts processing.\n- *                  Allows opening external resources.\n- * @stop:           Optional.\n- *                  Called when the element stops processing.\n- *                  Allows closing external resources.\n- * @set_format:     Notifies subclass of incoming data format (caps).\n- * @parse:          Required for non-packetized input.\n- *                  Allows chopping incoming data into manageable units (frames)\n- *                  for subsequent decoding.\n- * @reset:          Optional.\n- *                  Allows subclass (decoder) to perform post-seek semantics reset.\n- *                  Deprecated.\n- * @handle_frame:   Provides input data frame to subclass. In subframe mode, the subclass needs\n- *                  to take ownership of @GstVideoCodecFrame.input_buffer as it will be modified\n- *                  by the base class on the next subframe buffer receiving.\n- * @finish:         Optional.\n- *                  Called to request subclass to dispatch any pending remaining\n- *                  data at EOS. Sub-classes can refuse to decode new data after.\n- * @drain:          Optional.\n- *                  Called to request subclass to decode any data it can at this\n- *                  point, but that more data may arrive after. (e.g. at segment end).\n- *                  Sub-classes should be prepared to handle new data afterward,\n- *                  or seamless segment processing will break. Since: 1.6\n- * @sink_event:     Optional.\n- *                  Event handler on the sink pad. This function should return\n- *                  TRUE if the event was handled and should be discarded\n- *                  (i.e. not unref'ed).\n- *                  Subclasses should chain up to the parent implementation to\n- *                  invoke the default handler.\n- * @src_event:      Optional.\n- *                  Event handler on the source pad. This function should return\n- *                  TRUE if the event was handled and should be discarded\n- *                  (i.e. not unref'ed).\n- *                  Subclasses should chain up to the parent implementation to\n- *                  invoke the default handler.\n- * @negotiate:      Optional.\n- *                  Negotiate with downstream and configure buffer pools, etc.\n- *                  Subclasses should chain up to the parent implementation to\n- *                  invoke the default handler.\n- * @decide_allocation: Optional.\n- *                     Setup the allocation parameters for allocating output\n- *                     buffers. The passed in query contains the result of the\n- *                     downstream allocation query.\n- *                     Subclasses should chain up to the parent implementation to\n- *                     invoke the default handler.\n- * @propose_allocation: Optional.\n- *                      Propose buffer allocation parameters for upstream elements.\n- *                      Subclasses should chain up to the parent implementation to\n- *                      invoke the default handler.\n- * @flush:              Optional.\n- *                      Flush all remaining data from the decoder without\n- *                      pushing it downstream. Since: 1.2\n- * @sink_query:     Optional.\n- *                  Query handler on the sink pad. This function should\n- *                  return TRUE if the query could be performed. Subclasses\n- *                  should chain up to the parent implementation to invoke the\n- *                  default handler. Since: 1.4\n- * @src_query:      Optional.\n- *                  Query handler on the source pad. This function should\n- *                  return TRUE if the query could be performed. Subclasses\n- *                  should chain up to the parent implementation to invoke the\n- *                  default handler. Since: 1.4\n- * @getcaps:        Optional.\n- *                  Allows for a custom sink getcaps implementation.\n- *                  If not implemented, default returns\n- *                  gst_video_decoder_proxy_getcaps\n- *                  applied to sink template caps.\n- * @transform_meta: Optional. Transform the metadata on the input buffer to the\n- *                  output buffer. By default this method is copies all meta without\n- *                  tags and meta with only the \"video\" tag. subclasses can\n- *                  implement this method and return %TRUE if the metadata is to be\n- *                  copied. Since: 1.6\n- *\n- * Subclasses can override any of the available virtual methods or not, as\n- * needed. At minimum @handle_frame needs to be overridden, and @set_format\n- * and likely as well.  If non-packetized input is supported or expected,\n- * @parse needs to be overridden as well.\n- *\/\n-struct _GstVideoDecoderClass\n-{\n-  \/*< private >*\/\n-  GstElementClass element_class;\n-\n-  \/*< public >*\/\n-  gboolean      (*open)           (GstVideoDecoder *decoder);\n-\n-  gboolean      (*close)          (GstVideoDecoder *decoder);\n-\n-  gboolean      (*start)          (GstVideoDecoder *decoder);\n-\n-  gboolean      (*stop)           (GstVideoDecoder *decoder);\n-\n-  GstFlowReturn (*parse)          (GstVideoDecoder *decoder,\n-           GstVideoCodecFrame *frame,\n-           GstAdapter *adapter,\n-           gboolean at_eos);\n-\n-  gboolean      (*set_format)     (GstVideoDecoder *decoder,\n-           GstVideoCodecState * state);\n-\n-  gboolean      (*reset)          (GstVideoDecoder *decoder,\n-           gboolean hard);\n-\n-  GstFlowReturn (*finish)         (GstVideoDecoder *decoder);\n-\n-  \/**\n-   * GstVideoDecoderClass::handle_frame:\n-   * @decoder: The #GstVideoDecoder\n-   * @frame: (transfer full): The frame to handle\n-   *\/\n-  GstFlowReturn (*handle_frame)   (GstVideoDecoder *decoder,\n-           GstVideoCodecFrame *frame);\n-\n-  gboolean      (*sink_event)     (GstVideoDecoder *decoder,\n-           GstEvent *event);\n-\n-  gboolean      (*src_event)      (GstVideoDecoder *decoder,\n-           GstEvent *event);\n-\n-  gboolean      (*negotiate)      (GstVideoDecoder *decoder);\n-\n-  gboolean      (*decide_allocation)  (GstVideoDecoder *decoder, GstQuery *query);\n-\n-  gboolean      (*propose_allocation) (GstVideoDecoder *decoder, GstQuery * query);\n-\n-  gboolean      (*flush)              (GstVideoDecoder *decoder);\n-\n-  gboolean      (*sink_query)     (GstVideoDecoder *decoder,\n-           GstQuery *query);\n-\n-  gboolean      (*src_query)      (GstVideoDecoder *decoder,\n-           GstQuery *query);\n-\n-  GstCaps*      (*getcaps)        (GstVideoDecoder *decoder,\n-                                   GstCaps *filter);\n-\n-  GstFlowReturn (*drain)          (GstVideoDecoder *decoder);\n-\n-  gboolean      (*transform_meta) (GstVideoDecoder *decoder,\n-                                   GstVideoCodecFrame *frame,\n-                                   GstMeta * meta);\n-\n-  \/**\n-   * GstVideoDecoderClass::handle_missing_data:\n-   * @decoder: The #GstVideoDecoder\n-   * @timestamp: Timestamp of the missing data\n-   * @duration: Duration of the missing data\n-   *\n-   * Returns: %TRUE if the decoder should be drained afterwards.\n-   *\n-   * Since: 1.20\n-   *\/\n-  gboolean      (*handle_missing_data) (GstVideoDecoder *decoder,\n-                                        GstClockTime timestamp,\n-                                        GstClockTime duration);\n-\n-  \/*< private >*\/\n-  gpointer padding[GST_PADDING_LARGE-7];\n-};\n-\n-\/**\n- * GstVideoDecoderRequestSyncPointFlags:\n- * @GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT: discard all following\n- *     input until the next sync point.\n- * @GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT: discard all following\n- *     output until the next sync point.\n- *\n- * Flags to be used in combination with gst_video_decoder_request_sync_point().\n- * See the function documentation for more details.\n- *\n- * Since: 1.20\n- *\/\n-typedef enum {\n-  GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT  = (1<<0),\n-  GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT = (1<<1),\n-} GstVideoDecoderRequestSyncPointFlags;\n-\n-GST_VIDEO_API\n-GType    gst_video_decoder_get_type (void);\n-\n-\/* Context parameters *\/\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_packetized (GstVideoDecoder * decoder,\n-             gboolean packetized);\n-\n-GST_VIDEO_API\n-gboolean gst_video_decoder_get_packetized (GstVideoDecoder * decoder);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_subframe_mode (GstVideoDecoder * decoder,\n-                                              gboolean subframe_mode);\n-\n-GST_VIDEO_API\n-gboolean gst_video_decoder_get_subframe_mode (GstVideoDecoder * decoder);\n-\n-GST_VIDEO_API\n-guint gst_video_decoder_get_input_subframe_index (GstVideoDecoder * decoder, GstVideoCodecFrame * frame);\n-\n-GST_VIDEO_API\n-guint gst_video_decoder_get_processed_subframe_index (GstVideoDecoder * decoder, GstVideoCodecFrame * frame);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_estimate_rate (GstVideoDecoder * dec,\n-                gboolean          enabled);\n-\n-GST_VIDEO_API\n-gint     gst_video_decoder_get_estimate_rate (GstVideoDecoder * dec);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_max_errors (GstVideoDecoder * dec,\n-             gint              num);\n-\n-GST_VIDEO_API\n-gint     gst_video_decoder_get_max_errors (GstVideoDecoder * dec);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_needs_format (GstVideoDecoder * dec,\n-                                             gboolean enabled);\n-\n-GST_VIDEO_API\n-gboolean gst_video_decoder_get_needs_format (GstVideoDecoder * dec);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_needs_sync_point (GstVideoDecoder * dec,\n-                                                 gboolean enabled);\n-\n-GST_VIDEO_API\n-gboolean gst_video_decoder_get_needs_sync_point (GstVideoDecoder * dec);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_set_latency (GstVideoDecoder *decoder,\n-          GstClockTime min_latency,\n-          GstClockTime max_latency);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_get_latency (GstVideoDecoder *decoder,\n-          GstClockTime *min_latency,\n-          GstClockTime *max_latency);\n-\n-GST_VIDEO_API\n-void     gst_video_decoder_get_allocator (GstVideoDecoder *decoder,\n-                                          GstAllocator **allocator,\n-                                          GstAllocationParams *params);\n-\n-GST_VIDEO_API\n-GstBufferPool *gst_video_decoder_get_buffer_pool (GstVideoDecoder *decoder);\n-\n-\/* Object methods *\/\n-\n-GST_VIDEO_API\n-GstVideoCodecFrame *gst_video_decoder_get_frame        (GstVideoDecoder *decoder,\n-                    int frame_number);\n-\n-GST_VIDEO_API\n-GstVideoCodecFrame *gst_video_decoder_get_oldest_frame (GstVideoDecoder *decoder);\n-\n-GST_VIDEO_API\n-GList *             gst_video_decoder_get_frames       (GstVideoDecoder *decoder);\n-\n-\/* Parsing related methods *\/\n-\n-GST_VIDEO_API\n-void           gst_video_decoder_add_to_frame     (GstVideoDecoder *decoder,\n-               int n_bytes);\n-\n-GST_VIDEO_API\n-GstFlowReturn  gst_video_decoder_have_frame       (GstVideoDecoder *decoder);\n-\n-GST_VIDEO_API\n-GstFlowReturn  gst_video_decoder_have_last_subframe (GstVideoDecoder *decoder,\n-                                                     GstVideoCodecFrame * frame);\n-\n-GST_VIDEO_API\n-gsize          gst_video_decoder_get_pending_frame_size (GstVideoDecoder *decoder);\n-\n-GST_VIDEO_API\n-GstBuffer     *gst_video_decoder_allocate_output_buffer (GstVideoDecoder * decoder);\n-\n-GST_VIDEO_API\n-GstFlowReturn  gst_video_decoder_allocate_output_frame_with_params (GstVideoDecoder *decoder,\n-                                                                    GstVideoCodecFrame * frame,\n-                                                                    GstBufferPoolAcquireParams *params);\n-\n-GST_VIDEO_API\n-GstFlowReturn  gst_video_decoder_allocate_output_frame  (GstVideoDecoder *decoder,\n-                     GstVideoCodecFrame *frame);\n-\n-GST_VIDEO_API\n-GstVideoCodecState *gst_video_decoder_set_output_state (GstVideoDecoder *decoder,\n-              GstVideoFormat fmt, guint width, guint height,\n-              GstVideoCodecState *reference);\n-\n-GST_VIDEO_API\n-GstVideoCodecState *gst_video_decoder_set_interlaced_output_state (GstVideoDecoder *decoder,\n-                                                                   GstVideoFormat fmt, GstVideoInterlaceMode interlace_mode,\n-                                                                   guint width, guint height, GstVideoCodecState *reference);\n-\n-GST_VIDEO_API\n-GstVideoCodecState *gst_video_decoder_get_output_state (GstVideoDecoder *decoder);\n-\n-GST_VIDEO_API\n-gboolean         gst_video_decoder_negotiate           (GstVideoDecoder * decoder);\n-\n-GST_VIDEO_API\n-GstClockTimeDiff gst_video_decoder_get_max_decode_time (GstVideoDecoder *decoder,\n-              GstVideoCodecFrame *frame);\n-\n-GST_VIDEO_API\n-gdouble          gst_video_decoder_get_qos_proportion (GstVideoDecoder * decoder);\n-\n-GST_VIDEO_API\n-GstFlowReturn    gst_video_decoder_finish_frame (GstVideoDecoder *decoder,\n-             GstVideoCodecFrame *frame);\n-GST_VIDEO_API\n-GstFlowReturn    gst_video_decoder_finish_subframe (GstVideoDecoder *decoder,\n-                                                 GstVideoCodecFrame *frame);\n-\n-GST_VIDEO_API\n-GstFlowReturn    gst_video_decoder_drop_frame (GstVideoDecoder *dec,\n-                 GstVideoCodecFrame *frame);\n-GST_VIDEO_API\n-GstFlowReturn    gst_video_decoder_drop_subframe (GstVideoDecoder *dec,\n-                                               GstVideoCodecFrame *frame);\n-\n-GST_VIDEO_API\n-void             gst_video_decoder_request_sync_point (GstVideoDecoder *dec,\n-                                                       GstVideoCodecFrame *frame,\n-                                                       GstVideoDecoderRequestSyncPointFlags flags);\n-\n-GST_VIDEO_API\n-void             gst_video_decoder_release_frame (GstVideoDecoder * dec,\n-              GstVideoCodecFrame * frame);\n-\n-GST_VIDEO_API\n-void             gst_video_decoder_merge_tags (GstVideoDecoder *decoder,\n-                                               const GstTagList *tags,\n-                                               GstTagMergeMode mode);\n-\n-GST_VIDEO_API\n-GstCaps *        gst_video_decoder_proxy_getcaps (GstVideoDecoder * decoder,\n-              GstCaps         * caps,\n-                                                  GstCaps         * filter);\n-\n-GST_VIDEO_API\n-void             gst_video_decoder_set_use_default_pad_acceptcaps (GstVideoDecoder * decoder,\n-                                                                   gboolean use);\n-\n-G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstVideoDecoder, gst_object_unref)\n-\n-G_END_DECLS\n-\n-#endif\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideodecoder.h","additions":0,"deletions":558,"binary":false,"changes":558,"status":"deleted"},{"patch":"@@ -1,3206 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2008 David Schleef <ds@schleef.org>\n- * Copyright (C) 2011 Mark Nauwelaerts <mark.nauwelaerts@collabora.co.uk>.\n- * Copyright (C) 2011 Nokia Corporation. All rights reserved.\n- *   Contact: Stefan Kost <stefan.kost@nokia.com>\n- * Copyright (C) 2012 Collabora Ltd.\n- *  Author : Edward Hervey <edward@collabora.com>\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-\/**\n- * SECTION:gstvideoencoder\n- * @title: GstVideoEncoder\n- * @short_description: Base class for video encoders\n- *\n- * This base class is for video encoders turning raw video into\n- * encoded video data.\n- *\n- * GstVideoEncoder and subclass should cooperate as follows.\n- *\n- * ## Configuration\n- *\n- *   * Initially, GstVideoEncoder calls @start when the encoder element\n- *     is activated, which allows subclass to perform any global setup.\n- *   * GstVideoEncoder calls @set_format to inform subclass of the format\n- *     of input video data that it is about to receive.  Subclass should\n- *     setup for encoding and configure base class as appropriate\n- *     (e.g. latency). While unlikely, it might be called more than once,\n- *     if changing input parameters require reconfiguration.  Baseclass\n- *     will ensure that processing of current configuration is finished.\n- *   * GstVideoEncoder calls @stop at end of all processing.\n- *\n- * ## Data processing\n- *\n- *     * Base class collects input data and metadata into a frame and hands\n- *       this to subclass' @handle_frame.\n- *\n- *     * If codec processing results in encoded data, subclass should call\n- *       @gst_video_encoder_finish_frame to have encoded data pushed\n- *       downstream.\n- *\n- *     * If implemented, baseclass calls subclass @pre_push just prior to\n- *       pushing to allow subclasses to modify some metadata on the buffer.\n- *       If it returns GST_FLOW_OK, the buffer is pushed downstream.\n- *\n- *     * GstVideoEncoderClass will handle both srcpad and sinkpad events.\n- *       Sink events will be passed to subclass if @event callback has been\n- *       provided.\n- *\n- * ## Shutdown phase\n- *\n- *   * GstVideoEncoder class calls @stop to inform the subclass that data\n- *     parsing will be stopped.\n- *\n- * Subclass is responsible for providing pad template caps for\n- * source and sink pads. The pads need to be named \"sink\" and \"src\". It should\n- * also be able to provide fixed src pad caps in @getcaps by the time it calls\n- * @gst_video_encoder_finish_frame.\n- *\n- * Things that subclass need to take care of:\n- *\n- *   * Provide pad templates\n- *   * Provide source pad caps before pushing the first buffer\n- *   * Accept data in @handle_frame and provide encoded results to\n- *      @gst_video_encoder_finish_frame.\n- *\n- *\n- * The #GstVideoEncoder:qos property will enable the Quality-of-Service\n- * features of the encoder which gather statistics about the real-time\n- * performance of the downstream elements. If enabled, subclasses can\n- * use gst_video_encoder_get_max_encode_time() to check if input frames\n- * are already late and drop them right away to give a chance to the\n- * pipeline to catch up.\n- *\/\n-\n-#ifdef HAVE_CONFIG_H\n-#include \"config.h\"\n-#endif\n-\n-\/* TODO\n- *\n- * * Calculate actual latency based on input\/output timestamp\/frame_number\n- *   and if it exceeds the recorded one, save it and emit a GST_MESSAGE_LATENCY\n- *\/\n-\n-#include <gst\/video\/video.h>\n-#include \"gstvideoencoder.h\"\n-#include \"gstvideoutils.h\"\n-#include \"gstvideoutilsprivate.h\"\n-\n-#include <gst\/video\/gstvideometa.h>\n-#include <gst\/video\/gstvideopool.h>\n-\n-#include <string.h>\n-\n-#ifdef GSTREAMER_LITE\n-#include \"gst\/glib-compat-private.h\"\n-#endif \/\/ GSTREAMER_LITE\n-\n-GST_DEBUG_CATEGORY (videoencoder_debug);\n-#define GST_CAT_DEFAULT videoencoder_debug\n-\n-\/* properties *\/\n-\n-#define DEFAULT_QOS                 FALSE\n-#define DEFAULT_MIN_FORCE_KEY_UNIT_INTERVAL 0\n-\n-enum\n-{\n-  PROP_0,\n-  PROP_QOS,\n-  PROP_MIN_FORCE_KEY_UNIT_INTERVAL,\n-  PROP_LAST\n-};\n-\n-struct _GstVideoEncoderPrivate\n-{\n-  guint64 presentation_frame_number;\n-  int distance_from_sync;\n-\n-  \/* FIXME : (and introduce a context ?) *\/\n-  gboolean drained;\n-\n-  gint64 min_latency;\n-  gint64 max_latency;\n-\n-  \/* FIXME 2.0: Use a GQueue or similar, see GstVideoCodecFrame::events *\/\n-  GList *current_frame_events;\n-\n-  GList *headers;\n-  gboolean new_headers;         \/* Whether new headers were just set *\/\n-\n-  GQueue force_key_unit;        \/* List of pending forced keyunits *\/\n-  GstClockTime min_force_key_unit_interval;\n-  GstClockTime last_force_key_unit_request;\n-  GstClockTime last_key_unit;\n-\n-  guint32 system_frame_number;\n-\n-  GQueue frames;                \/* Protected with OBJECT_LOCK *\/\n-  GstVideoCodecState *input_state;\n-  GstVideoCodecState *output_state;\n-  gboolean output_state_changed;\n-\n-  gint64 bytes;\n-  gint64 time;\n-\n-  GstAllocator *allocator;\n-  GstAllocationParams params;\n-\n-  \/* upstream stream tags (global tags are passed through as-is) *\/\n-  GstTagList *upstream_tags;\n-\n-  \/* subclass tags *\/\n-  GstTagList *tags;\n-  GstTagMergeMode tags_merge_mode;\n-\n-  gboolean tags_changed;\n-\n-  GstClockTime min_pts;\n-  \/* adjustment needed on pts, dts, segment start and stop to accommodate\n-   * min_pts *\/\n-  GstClockTime time_adjustment;\n-\n-  \/* QoS properties *\/\n-  gint qos_enabled;             \/* ATOMIC *\/\n-  gdouble proportion;           \/* OBJECT_LOCK *\/\n-  GstClockTime earliest_time;   \/* OBJECT_LOCK *\/\n-  GstClockTime qos_frame_duration;      \/* OBJECT_LOCK *\/\n-  \/* qos messages: frames dropped\/processed *\/\n-  guint dropped;\n-  guint processed;\n-};\n-\n-typedef struct _ForcedKeyUnitEvent ForcedKeyUnitEvent;\n-struct _ForcedKeyUnitEvent\n-{\n-  GstClockTime running_time;\n-  gboolean pending;             \/* TRUE if this was requested already *\/\n-  gboolean all_headers;\n-  guint count;\n-  guint32 frame_id;\n-};\n-\n-static void\n-forced_key_unit_event_free (ForcedKeyUnitEvent * evt)\n-{\n-  g_slice_free (ForcedKeyUnitEvent, evt);\n-}\n-\n-static ForcedKeyUnitEvent *\n-forced_key_unit_event_new (GstClockTime running_time, gboolean all_headers,\n-    guint count)\n-{\n-  ForcedKeyUnitEvent *evt = g_slice_new0 (ForcedKeyUnitEvent);\n-\n-  evt->running_time = running_time;\n-  evt->all_headers = all_headers;\n-  evt->count = count;\n-\n-  return evt;\n-}\n-\n-static gint\n-forced_key_unit_event_compare (const ForcedKeyUnitEvent * a,\n-    const ForcedKeyUnitEvent * b, gpointer user_data)\n-{\n-  if (a->running_time == b->running_time) {\n-    \/* Sort pending ones before non-pending ones *\/\n-    if (a->pending && !b->pending)\n-      return -1;\n-    if (!a->pending && b->pending)\n-      return 1;\n-    return 0;\n-  }\n-\n-  if (a->running_time == GST_CLOCK_TIME_NONE)\n-    return -1;\n-  if (b->running_time == GST_CLOCK_TIME_NONE)\n-    return 1;\n-  if (a->running_time < b->running_time)\n-    return -1;\n-  return 1;\n-}\n-\n-static GstElementClass *parent_class = NULL;\n-static gint private_offset = 0;\n-\n-\/* cached quark to avoid contention on the global quark table lock *\/\n-#define META_TAG_VIDEO meta_tag_video_quark\n-static GQuark meta_tag_video_quark;\n-\n-static void gst_video_encoder_class_init (GstVideoEncoderClass * klass);\n-static void gst_video_encoder_init (GstVideoEncoder * enc,\n-    GstVideoEncoderClass * klass);\n-\n-static void gst_video_encoder_finalize (GObject * object);\n-\n-static gboolean gst_video_encoder_setcaps (GstVideoEncoder * enc,\n-    GstCaps * caps);\n-static GstCaps *gst_video_encoder_sink_getcaps (GstVideoEncoder * encoder,\n-    GstCaps * filter);\n-static gboolean gst_video_encoder_src_event (GstPad * pad, GstObject * parent,\n-    GstEvent * event);\n-static gboolean gst_video_encoder_sink_event (GstPad * pad, GstObject * parent,\n-    GstEvent * event);\n-static GstFlowReturn gst_video_encoder_chain (GstPad * pad, GstObject * parent,\n-    GstBuffer * buf);\n-static GstStateChangeReturn gst_video_encoder_change_state (GstElement *\n-    element, GstStateChange transition);\n-static gboolean gst_video_encoder_sink_query (GstPad * pad, GstObject * parent,\n-    GstQuery * query);\n-static gboolean gst_video_encoder_src_query (GstPad * pad, GstObject * parent,\n-    GstQuery * query);\n-static GstVideoCodecFrame *gst_video_encoder_new_frame (GstVideoEncoder *\n-    encoder, GstBuffer * buf, GstClockTime pts, GstClockTime dts,\n-    GstClockTime duration);\n-\n-static gboolean gst_video_encoder_sink_event_default (GstVideoEncoder * encoder,\n-    GstEvent * event);\n-static gboolean gst_video_encoder_src_event_default (GstVideoEncoder * encoder,\n-    GstEvent * event);\n-static gboolean gst_video_encoder_decide_allocation_default (GstVideoEncoder *\n-    encoder, GstQuery * query);\n-static gboolean gst_video_encoder_propose_allocation_default (GstVideoEncoder *\n-    encoder, GstQuery * query);\n-static gboolean gst_video_encoder_negotiate_default (GstVideoEncoder * encoder);\n-static gboolean gst_video_encoder_negotiate_unlocked (GstVideoEncoder *\n-    encoder);\n-\n-static gboolean gst_video_encoder_sink_query_default (GstVideoEncoder * encoder,\n-    GstQuery * query);\n-static gboolean gst_video_encoder_src_query_default (GstVideoEncoder * encoder,\n-    GstQuery * query);\n-\n-static gboolean gst_video_encoder_transform_meta_default (GstVideoEncoder *\n-    encoder, GstVideoCodecFrame * frame, GstMeta * meta);\n-\n-\/* we can't use G_DEFINE_ABSTRACT_TYPE because we need the klass in the _init\n- * method to get to the padtemplates *\/\n-GType\n-gst_video_encoder_get_type (void)\n-{\n-  static gsize type = 0;\n-\n-  if (g_once_init_enter (&type)) {\n-    GType _type;\n-    static const GTypeInfo info = {\n-      sizeof (GstVideoEncoderClass),\n-      NULL,\n-      NULL,\n-      (GClassInitFunc) gst_video_encoder_class_init,\n-      NULL,\n-      NULL,\n-      sizeof (GstVideoEncoder),\n-      0,\n-      (GInstanceInitFunc) gst_video_encoder_init,\n-    };\n-#ifndef GSTREAMER_LITE\n-    const GInterfaceInfo preset_interface_info = {\n-      NULL,                     \/* interface_init *\/\n-      NULL,                     \/* interface_finalize *\/\n-      NULL                      \/* interface_data *\/\n-    };\n-#endif \/\/ GSTREAMER_LITE\n-\n-    _type = g_type_register_static (GST_TYPE_ELEMENT,\n-        \"GstVideoEncoder\", &info, G_TYPE_FLAG_ABSTRACT);\n-    private_offset =\n-        g_type_add_instance_private (_type, sizeof (GstVideoEncoderPrivate));\n-#ifndef GSTREAMER_LITE\n-    g_type_add_interface_static (_type, GST_TYPE_PRESET,\n-        &preset_interface_info);\n-#endif \/\/ GSTREAMER_LITE\n-    g_once_init_leave (&type, _type);\n-  }\n-  return type;\n-}\n-\n-static inline GstVideoEncoderPrivate *\n-gst_video_encoder_get_instance_private (GstVideoEncoder * self)\n-{\n-  return (G_STRUCT_MEMBER_P (self, private_offset));\n-}\n-\n-static void\n-gst_video_encoder_set_property (GObject * object, guint prop_id,\n-    const GValue * value, GParamSpec * pspec)\n-{\n-  GstVideoEncoder *sink = GST_VIDEO_ENCODER (object);\n-\n-  switch (prop_id) {\n-    case PROP_QOS:\n-      gst_video_encoder_set_qos_enabled (sink, g_value_get_boolean (value));\n-      break;\n-    case PROP_MIN_FORCE_KEY_UNIT_INTERVAL:\n-      gst_video_encoder_set_min_force_key_unit_interval (sink,\n-          g_value_get_uint64 (value));\n-      break;\n-    default:\n-      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);\n-      break;\n-  }\n-}\n-\n-static void\n-gst_video_encoder_get_property (GObject * object, guint prop_id, GValue * value,\n-    GParamSpec * pspec)\n-{\n-  GstVideoEncoder *sink = GST_VIDEO_ENCODER (object);\n-\n-  switch (prop_id) {\n-    case PROP_QOS:\n-      g_value_set_boolean (value, gst_video_encoder_is_qos_enabled (sink));\n-      break;\n-    case PROP_MIN_FORCE_KEY_UNIT_INTERVAL:\n-      g_value_set_uint64 (value,\n-          gst_video_encoder_get_min_force_key_unit_interval (sink));\n-      break;\n-    default:\n-      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);\n-      break;\n-  }\n-}\n-\n-static void\n-gst_video_encoder_class_init (GstVideoEncoderClass * klass)\n-{\n-  GObjectClass *gobject_class;\n-  GstElementClass *gstelement_class;\n-\n-  gobject_class = G_OBJECT_CLASS (klass);\n-  gstelement_class = GST_ELEMENT_CLASS (klass);\n-\n-  GST_DEBUG_CATEGORY_INIT (videoencoder_debug, \"videoencoder\", 0,\n-      \"Base Video Encoder\");\n-\n-  parent_class = g_type_class_peek_parent (klass);\n-\n-  if (private_offset != 0)\n-    g_type_class_adjust_private_offset (klass, &private_offset);\n-\n-  gobject_class->set_property = gst_video_encoder_set_property;\n-  gobject_class->get_property = gst_video_encoder_get_property;\n-  gobject_class->finalize = gst_video_encoder_finalize;\n-\n-  gstelement_class->change_state =\n-      GST_DEBUG_FUNCPTR (gst_video_encoder_change_state);\n-\n-  klass->sink_event = gst_video_encoder_sink_event_default;\n-  klass->src_event = gst_video_encoder_src_event_default;\n-  klass->propose_allocation = gst_video_encoder_propose_allocation_default;\n-  klass->decide_allocation = gst_video_encoder_decide_allocation_default;\n-  klass->negotiate = gst_video_encoder_negotiate_default;\n-  klass->sink_query = gst_video_encoder_sink_query_default;\n-  klass->src_query = gst_video_encoder_src_query_default;\n-  klass->transform_meta = gst_video_encoder_transform_meta_default;\n-\n-  g_object_class_install_property (gobject_class, PROP_QOS,\n-      g_param_spec_boolean (\"qos\", \"Qos\",\n-          \"Handle Quality-of-Service events from downstream\", DEFAULT_QOS,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstVideoEncoder:min-force-key-unit-interval:\n-   *\n-   * Minimum interval between force-keyunit requests in nanoseconds. See\n-   * gst_video_encoder_set_min_force_key_unit_interval() for more details.\n-   *\n-   * Since: 1.18\n-   **\/\n-  g_object_class_install_property (gobject_class,\n-      PROP_MIN_FORCE_KEY_UNIT_INTERVAL,\n-      g_param_spec_uint64 (\"min-force-key-unit-interval\",\n-          \"Minimum Force Keyunit Interval\",\n-          \"Minimum interval between force-keyunit requests in nanoseconds\", 0,\n-          G_MAXUINT64, DEFAULT_MIN_FORCE_KEY_UNIT_INTERVAL,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  meta_tag_video_quark = g_quark_from_static_string (GST_META_TAG_VIDEO_STR);\n-}\n-\n-static GList *\n-_flush_events (GstPad * pad, GList * events)\n-{\n-  GList *tmp;\n-\n-  for (tmp = events; tmp; tmp = tmp->next) {\n-    if (GST_EVENT_TYPE (tmp->data) != GST_EVENT_EOS &&\n-        GST_EVENT_TYPE (tmp->data) != GST_EVENT_SEGMENT &&\n-        GST_EVENT_IS_STICKY (tmp->data)) {\n-      gst_pad_store_sticky_event (pad, GST_EVENT_CAST (tmp->data));\n-    }\n-    gst_event_unref (tmp->data);\n-  }\n-  g_list_free (events);\n-\n-  return NULL;\n-}\n-\n-#if !GLIB_CHECK_VERSION(2, 60, 0)\n-#define g_queue_clear_full queue_clear_full\n-static void\n-queue_clear_full (GQueue * queue, GDestroyNotify free_func)\n-{\n-  gpointer data;\n-\n-  while ((data = g_queue_pop_head (queue)) != NULL)\n-    free_func (data);\n-}\n-#endif\n-\n-static gboolean\n-gst_video_encoder_reset (GstVideoEncoder * encoder, gboolean hard)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  gboolean ret = TRUE;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-  priv->presentation_frame_number = 0;\n-  priv->distance_from_sync = 0;\n-\n-  g_queue_clear_full (&priv->force_key_unit,\n-      (GDestroyNotify) forced_key_unit_event_free);\n-  priv->last_force_key_unit_request = GST_CLOCK_TIME_NONE;\n-  priv->last_key_unit = GST_CLOCK_TIME_NONE;\n-\n-  priv->drained = TRUE;\n-\n-  GST_OBJECT_LOCK (encoder);\n-  priv->bytes = 0;\n-  priv->time = 0;\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  priv->time_adjustment = GST_CLOCK_TIME_NONE;\n-\n-  if (hard) {\n-    gst_segment_init (&encoder->input_segment, GST_FORMAT_TIME);\n-    gst_segment_init (&encoder->output_segment, GST_FORMAT_TIME);\n-\n-    if (priv->input_state)\n-      gst_video_codec_state_unref (priv->input_state);\n-    priv->input_state = NULL;\n-    if (priv->output_state)\n-      gst_video_codec_state_unref (priv->output_state);\n-    priv->output_state = NULL;\n-\n-    if (priv->upstream_tags) {\n-      gst_tag_list_unref (priv->upstream_tags);\n-      priv->upstream_tags = NULL;\n-    }\n-    if (priv->tags)\n-      gst_tag_list_unref (priv->tags);\n-    priv->tags = NULL;\n-    priv->tags_merge_mode = GST_TAG_MERGE_APPEND;\n-    priv->tags_changed = FALSE;\n-\n-    g_list_foreach (priv->headers, (GFunc) gst_event_unref, NULL);\n-    g_list_free (priv->headers);\n-    priv->headers = NULL;\n-    priv->new_headers = FALSE;\n-\n-    if (priv->allocator) {\n-      gst_object_unref (priv->allocator);\n-      priv->allocator = NULL;\n-    }\n-\n-    g_list_foreach (priv->current_frame_events, (GFunc) gst_event_unref, NULL);\n-    g_list_free (priv->current_frame_events);\n-    priv->current_frame_events = NULL;\n-\n-    GST_OBJECT_LOCK (encoder);\n-    priv->proportion = 0.5;\n-    priv->earliest_time = GST_CLOCK_TIME_NONE;\n-    priv->qos_frame_duration = 0;\n-    GST_OBJECT_UNLOCK (encoder);\n-\n-    priv->dropped = 0;\n-    priv->processed = 0;\n-  } else {\n-    GList *l;\n-\n-    for (l = priv->frames.head; l; l = l->next) {\n-      GstVideoCodecFrame *frame = l->data;\n-\n-      frame->events = _flush_events (encoder->srcpad, frame->events);\n-    }\n-    priv->current_frame_events = _flush_events (encoder->srcpad,\n-        encoder->priv->current_frame_events);\n-  }\n-\n-  g_queue_clear_full (&priv->frames,\n-      (GDestroyNotify) gst_video_codec_frame_unref);\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return ret;\n-}\n-\n-\/* Always call reset() in one way or another after this *\/\n-static gboolean\n-gst_video_encoder_flush (GstVideoEncoder * encoder)\n-{\n-  GstVideoEncoderClass *klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-  gboolean ret = TRUE;\n-\n-  if (klass->flush)\n-    ret = klass->flush (encoder);\n-\n-  return ret;\n-}\n-\n-static void\n-gst_video_encoder_init (GstVideoEncoder * encoder, GstVideoEncoderClass * klass)\n-{\n-  GstVideoEncoderPrivate *priv;\n-  GstPadTemplate *pad_template;\n-  GstPad *pad;\n-\n-  GST_DEBUG_OBJECT (encoder, \"gst_video_encoder_init\");\n-\n-  priv = encoder->priv = gst_video_encoder_get_instance_private (encoder);\n-\n-  pad_template =\n-      gst_element_class_get_pad_template (GST_ELEMENT_CLASS (klass), \"sink\");\n-  g_return_if_fail (pad_template != NULL);\n-\n-  encoder->sinkpad = pad = gst_pad_new_from_template (pad_template, \"sink\");\n-\n-  gst_pad_set_chain_function (pad, GST_DEBUG_FUNCPTR (gst_video_encoder_chain));\n-  gst_pad_set_event_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_encoder_sink_event));\n-  gst_pad_set_query_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_encoder_sink_query));\n-  gst_element_add_pad (GST_ELEMENT (encoder), encoder->sinkpad);\n-\n-  pad_template =\n-      gst_element_class_get_pad_template (GST_ELEMENT_CLASS (klass), \"src\");\n-  g_return_if_fail (pad_template != NULL);\n-\n-  encoder->srcpad = pad = gst_pad_new_from_template (pad_template, \"src\");\n-\n-  gst_pad_set_query_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_encoder_src_query));\n-  gst_pad_set_event_function (pad,\n-      GST_DEBUG_FUNCPTR (gst_video_encoder_src_event));\n-  gst_element_add_pad (GST_ELEMENT (encoder), encoder->srcpad);\n-\n-  gst_segment_init (&encoder->input_segment, GST_FORMAT_TIME);\n-  gst_segment_init (&encoder->output_segment, GST_FORMAT_TIME);\n-\n-  g_rec_mutex_init (&encoder->stream_lock);\n-\n-  priv->headers = NULL;\n-  priv->new_headers = FALSE;\n-\n-  g_queue_init (&priv->frames);\n-  g_queue_init (&priv->force_key_unit);\n-\n-  priv->min_latency = 0;\n-  priv->max_latency = 0;\n-  priv->min_pts = GST_CLOCK_TIME_NONE;\n-  priv->time_adjustment = GST_CLOCK_TIME_NONE;\n-\n-  gst_video_encoder_reset (encoder, TRUE);\n-}\n-\n-\/**\n- * gst_video_encoder_set_headers:\n- * @encoder: a #GstVideoEncoder\n- * @headers: (transfer full) (element-type GstBuffer): a list of #GstBuffer containing the codec header\n- *\n- * Set the codec headers to be sent downstream whenever requested.\n- *\/\n-void\n-gst_video_encoder_set_headers (GstVideoEncoder * video_encoder, GList * headers)\n-{\n-  GST_VIDEO_ENCODER_STREAM_LOCK (video_encoder);\n-\n-  GST_DEBUG_OBJECT (video_encoder, \"new headers %p\", headers);\n-  if (video_encoder->priv->headers) {\n-    g_list_foreach (video_encoder->priv->headers, (GFunc) gst_buffer_unref,\n-        NULL);\n-    g_list_free (video_encoder->priv->headers);\n-  }\n-  video_encoder->priv->headers = headers;\n-  video_encoder->priv->new_headers = TRUE;\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (video_encoder);\n-}\n-\n-static GstVideoCodecState *\n-_new_output_state (GstCaps * caps, GstVideoCodecState * reference)\n-{\n-  GstVideoCodecState *state;\n-\n-  state = g_slice_new0 (GstVideoCodecState);\n-  state->ref_count = 1;\n-  gst_video_info_init (&state->info);\n-\n-  if (!gst_video_info_set_format (&state->info, GST_VIDEO_FORMAT_ENCODED, 0, 0)) {\n-    g_slice_free (GstVideoCodecState, state);\n-    return NULL;\n-  }\n-\n-  state->caps = caps;\n-\n-  if (reference) {\n-    GstVideoInfo *tgt, *ref;\n-\n-    tgt = &state->info;\n-    ref = &reference->info;\n-\n-    \/* Copy over extra fields from reference state *\/\n-    tgt->interlace_mode = ref->interlace_mode;\n-    tgt->flags = ref->flags;\n-    tgt->width = ref->width;\n-    tgt->height = ref->height;\n-    tgt->chroma_site = ref->chroma_site;\n-    tgt->colorimetry = ref->colorimetry;\n-    tgt->par_n = ref->par_n;\n-    tgt->par_d = ref->par_d;\n-    tgt->fps_n = ref->fps_n;\n-    tgt->fps_d = ref->fps_d;\n-\n-    GST_VIDEO_INFO_FIELD_ORDER (tgt) = GST_VIDEO_INFO_FIELD_ORDER (ref);\n-\n-    GST_VIDEO_INFO_MULTIVIEW_MODE (tgt) = GST_VIDEO_INFO_MULTIVIEW_MODE (ref);\n-    GST_VIDEO_INFO_MULTIVIEW_FLAGS (tgt) = GST_VIDEO_INFO_MULTIVIEW_FLAGS (ref);\n-\n-    if (reference->mastering_display_info) {\n-      state->mastering_display_info = g_slice_dup (GstVideoMasteringDisplayInfo,\n-          reference->mastering_display_info);\n-    }\n-    if (reference->content_light_level) {\n-      state->content_light_level = g_slice_dup (GstVideoContentLightLevel,\n-          reference->content_light_level);\n-    }\n-  }\n-\n-  return state;\n-}\n-\n-static GstVideoCodecState *\n-_new_input_state (GstCaps * caps)\n-{\n-  GstVideoCodecState *state;\n-  GstStructure *c_struct;\n-  const gchar *s;\n-\n-  state = g_slice_new0 (GstVideoCodecState);\n-  state->ref_count = 1;\n-  gst_video_info_init (&state->info);\n-  if (G_UNLIKELY (!gst_video_info_from_caps (&state->info, caps)))\n-    goto parse_fail;\n-  state->caps = gst_caps_ref (caps);\n-\n-  c_struct = gst_caps_get_structure (caps, 0);\n-\n-  if ((s = gst_structure_get_string (c_struct, \"mastering-display-info\"))) {\n-    state->mastering_display_info = g_slice_new (GstVideoMasteringDisplayInfo);\n-    gst_video_mastering_display_info_from_string (state->mastering_display_info,\n-        s);\n-  }\n-  if ((s = gst_structure_get_string (c_struct, \"content-light-level\"))) {\n-    state->content_light_level = g_slice_new (GstVideoContentLightLevel);\n-    gst_video_content_light_level_from_string (state->content_light_level, s);\n-  }\n-\n-  return state;\n-\n-parse_fail:\n-  {\n-    g_slice_free (GstVideoCodecState, state);\n-    return NULL;\n-  }\n-}\n-\n-static gboolean\n-gst_video_encoder_setcaps (GstVideoEncoder * encoder, GstCaps * caps)\n-{\n-  GstVideoEncoderClass *encoder_class;\n-  GstVideoCodecState *state;\n-  gboolean ret = TRUE;\n-\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_DEBUG_OBJECT (encoder, \"setcaps %\" GST_PTR_FORMAT, caps);\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-  if (encoder->priv->input_state) {\n-    GST_DEBUG_OBJECT (encoder,\n-        \"Checking if caps changed old %\" GST_PTR_FORMAT \" new %\" GST_PTR_FORMAT,\n-        encoder->priv->input_state->caps, caps);\n-    if (gst_caps_is_equal (encoder->priv->input_state->caps, caps))\n-      goto caps_not_changed;\n-  }\n-\n-  state = _new_input_state (caps);\n-  if (G_UNLIKELY (!state))\n-    goto parse_fail;\n-\n-  if (encoder->priv->input_state\n-      && gst_video_info_is_equal (&state->info,\n-          &encoder->priv->input_state->info)) {\n-    gst_video_codec_state_unref (state);\n-    goto caps_not_changed;\n-  }\n-\n-  if (encoder_class->reset) {\n-    GST_FIXME_OBJECT (encoder, \"GstVideoEncoder::reset() is deprecated\");\n-    encoder_class->reset (encoder, TRUE);\n-  }\n-\n-  \/* and subclass should be ready to configure format at any time around *\/\n-  if (encoder_class->set_format != NULL)\n-    ret = encoder_class->set_format (encoder, state);\n-\n-  if (ret) {\n-    if (encoder->priv->input_state)\n-      gst_video_codec_state_unref (encoder->priv->input_state);\n-    encoder->priv->input_state = state;\n-  } else {\n-    gst_video_codec_state_unref (state);\n-  }\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  if (!ret)\n-    GST_WARNING_OBJECT (encoder, \"rejected caps %\" GST_PTR_FORMAT, caps);\n-\n-  return ret;\n-\n-caps_not_changed:\n-  {\n-    GST_DEBUG_OBJECT (encoder, \"Caps did not change - ignore\");\n-    GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-    return TRUE;\n-  }\n-\n-  \/* ERRORS *\/\n-parse_fail:\n-  {\n-    GST_WARNING_OBJECT (encoder, \"Failed to parse caps\");\n-    GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-    return FALSE;\n-  }\n-}\n-\n-\/**\n- * gst_video_encoder_proxy_getcaps:\n- * @enc: a #GstVideoEncoder\n- * @caps: (allow-none): initial caps\n- * @filter: (allow-none): filter caps\n- *\n- * Returns caps that express @caps (or sink template caps if @caps == NULL)\n- * restricted to resolution\/format\/... combinations supported by downstream\n- * elements (e.g. muxers).\n- *\n- * Returns: (transfer full): a #GstCaps owned by caller\n- *\/\n-GstCaps *\n-gst_video_encoder_proxy_getcaps (GstVideoEncoder * encoder, GstCaps * caps,\n-    GstCaps * filter)\n-{\n-  return __gst_video_element_proxy_getcaps (GST_ELEMENT_CAST (encoder),\n-      GST_VIDEO_ENCODER_SINK_PAD (encoder),\n-      GST_VIDEO_ENCODER_SRC_PAD (encoder), caps, filter);\n-}\n-\n-static GstCaps *\n-gst_video_encoder_sink_getcaps (GstVideoEncoder * encoder, GstCaps * filter)\n-{\n-  GstVideoEncoderClass *klass;\n-  GstCaps *caps;\n-\n-  klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  if (klass->getcaps)\n-    caps = klass->getcaps (encoder, filter);\n-  else\n-    caps = gst_video_encoder_proxy_getcaps (encoder, NULL, filter);\n-\n-  GST_LOG_OBJECT (encoder, \"Returning caps %\" GST_PTR_FORMAT, caps);\n-\n-  return caps;\n-}\n-\n-static gboolean\n-gst_video_encoder_decide_allocation_default (GstVideoEncoder * encoder,\n-    GstQuery * query)\n-{\n-  GstAllocator *allocator = NULL;\n-  GstAllocationParams params;\n-  gboolean update_allocator;\n-\n-  \/* we got configuration from our peer or the decide_allocation method,\n-   * parse them *\/\n-  if (gst_query_get_n_allocation_params (query) > 0) {\n-    \/* try the allocator *\/\n-    gst_query_parse_nth_allocation_param (query, 0, &allocator, &params);\n-    update_allocator = TRUE;\n-  } else {\n-    allocator = NULL;\n-    gst_allocation_params_init (&params);\n-    update_allocator = FALSE;\n-  }\n-\n-  if (update_allocator)\n-    gst_query_set_nth_allocation_param (query, 0, allocator, &params);\n-  else\n-    gst_query_add_allocation_param (query, allocator, &params);\n-  if (allocator)\n-    gst_object_unref (allocator);\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_video_encoder_propose_allocation_default (GstVideoEncoder * encoder,\n-    GstQuery * query)\n-{\n-  GstCaps *caps;\n-  GstVideoInfo info;\n-  GstBufferPool *pool;\n-  guint size;\n-\n-  gst_query_parse_allocation (query, &caps, NULL);\n-\n-  if (caps == NULL)\n-    return FALSE;\n-\n-  if (!gst_video_info_from_caps (&info, caps))\n-    return FALSE;\n-\n-  size = GST_VIDEO_INFO_SIZE (&info);\n-\n-  if (gst_query_get_n_allocation_pools (query) == 0) {\n-    GstStructure *structure;\n-    GstAllocator *allocator = NULL;\n-    GstAllocationParams params = { 0, 15, 0, 0 };\n-\n-    if (gst_query_get_n_allocation_params (query) > 0)\n-      gst_query_parse_nth_allocation_param (query, 0, &allocator, &params);\n-    else\n-      gst_query_add_allocation_param (query, allocator, &params);\n-\n-    pool = gst_video_buffer_pool_new ();\n-\n-    structure = gst_buffer_pool_get_config (pool);\n-    gst_buffer_pool_config_set_params (structure, caps, size, 0, 0);\n-    gst_buffer_pool_config_set_allocator (structure, allocator, &params);\n-\n-    if (allocator)\n-      gst_object_unref (allocator);\n-\n-    if (!gst_buffer_pool_set_config (pool, structure))\n-      goto config_failed;\n-\n-    gst_query_add_allocation_pool (query, pool, size, 0, 0);\n-    gst_object_unref (pool);\n-    gst_query_add_allocation_meta (query, GST_VIDEO_META_API_TYPE, NULL);\n-  }\n-\n-  return TRUE;\n-\n-  \/* ERRORS *\/\n-config_failed:\n-  {\n-    GST_ERROR_OBJECT (encoder, \"failed to set config\");\n-    gst_object_unref (pool);\n-    return FALSE;\n-  }\n-}\n-\n-static gboolean\n-gst_video_encoder_sink_query_default (GstVideoEncoder * encoder,\n-    GstQuery * query)\n-{\n-  GstPad *pad = GST_VIDEO_ENCODER_SINK_PAD (encoder);\n-  gboolean res = FALSE;\n-\n-  switch (GST_QUERY_TYPE (query)) {\n-    case GST_QUERY_CAPS:\n-    {\n-      GstCaps *filter, *caps;\n-\n-      gst_query_parse_caps (query, &filter);\n-      caps = gst_video_encoder_sink_getcaps (encoder, filter);\n-      gst_query_set_caps_result (query, caps);\n-      gst_caps_unref (caps);\n-      res = TRUE;\n-      break;\n-    }\n-    case GST_QUERY_CONVERT:\n-    {\n-      GstFormat src_fmt, dest_fmt;\n-      gint64 src_val, dest_val;\n-\n-      GST_DEBUG_OBJECT (encoder, \"convert query\");\n-\n-      gst_query_parse_convert (query, &src_fmt, &src_val, &dest_fmt, &dest_val);\n-      GST_OBJECT_LOCK (encoder);\n-      if (encoder->priv->input_state != NULL)\n-        res = __gst_video_rawvideo_convert (encoder->priv->input_state,\n-            src_fmt, src_val, &dest_fmt, &dest_val);\n-      else\n-        res = FALSE;\n-      GST_OBJECT_UNLOCK (encoder);\n-      if (!res)\n-        goto error;\n-      gst_query_set_convert (query, src_fmt, src_val, dest_fmt, dest_val);\n-      break;\n-    }\n-    case GST_QUERY_ALLOCATION:\n-    {\n-      GstVideoEncoderClass *klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-      if (klass->propose_allocation)\n-        res = klass->propose_allocation (encoder, query);\n-      break;\n-    }\n-    default:\n-      res = gst_pad_query_default (pad, GST_OBJECT (encoder), query);\n-      break;\n-  }\n-  return res;\n-\n-error:\n-  GST_DEBUG_OBJECT (encoder, \"query failed\");\n-  return res;\n-}\n-\n-static gboolean\n-gst_video_encoder_sink_query (GstPad * pad, GstObject * parent,\n-    GstQuery * query)\n-{\n-  GstVideoEncoder *encoder;\n-  GstVideoEncoderClass *encoder_class;\n-  gboolean ret = FALSE;\n-\n-  encoder = GST_VIDEO_ENCODER (parent);\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_DEBUG_OBJECT (encoder, \"received query %d, %s\", GST_QUERY_TYPE (query),\n-      GST_QUERY_TYPE_NAME (query));\n-\n-  if (encoder_class->sink_query)\n-    ret = encoder_class->sink_query (encoder, query);\n-\n-  return ret;\n-}\n-\n-static void\n-gst_video_encoder_finalize (GObject * object)\n-{\n-  GstVideoEncoder *encoder;\n-\n-  GST_DEBUG_OBJECT (object, \"finalize\");\n-\n-  encoder = GST_VIDEO_ENCODER (object);\n-  g_rec_mutex_clear (&encoder->stream_lock);\n-\n-  if (encoder->priv->allocator) {\n-    gst_object_unref (encoder->priv->allocator);\n-    encoder->priv->allocator = NULL;\n-  }\n-\n-  G_OBJECT_CLASS (parent_class)->finalize (object);\n-}\n-\n-static gboolean\n-gst_video_encoder_push_event (GstVideoEncoder * encoder, GstEvent * event)\n-{\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_SEGMENT:\n-    {\n-      GstSegment segment;\n-\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-      gst_event_copy_segment (event, &segment);\n-\n-      GST_DEBUG_OBJECT (encoder, \"segment %\" GST_SEGMENT_FORMAT, &segment);\n-\n-      if (segment.format != GST_FORMAT_TIME) {\n-        GST_DEBUG_OBJECT (encoder, \"received non TIME segment\");\n-        GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-        break;\n-      }\n-\n-      if (encoder->priv->time_adjustment != GST_CLOCK_TIME_NONE) {\n-        segment.start += encoder->priv->time_adjustment;\n-        if (GST_CLOCK_TIME_IS_VALID (segment.position)) {\n-          segment.position += encoder->priv->time_adjustment;\n-        }\n-        if (GST_CLOCK_TIME_IS_VALID (segment.stop)) {\n-          segment.stop += encoder->priv->time_adjustment;\n-        }\n-      }\n-\n-      encoder->output_segment = segment;\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-      gst_event_unref (event);\n-      event = gst_event_new_segment (&encoder->output_segment);\n-\n-      break;\n-    }\n-    default:\n-      break;\n-  }\n-\n-  return gst_pad_push_event (encoder->srcpad, event);\n-}\n-\n-static GstEvent *\n-gst_video_encoder_create_merged_tags_event (GstVideoEncoder * enc)\n-{\n-  GstTagList *merged_tags;\n-\n-  GST_LOG_OBJECT (enc, \"upstream : %\" GST_PTR_FORMAT, enc->priv->upstream_tags);\n-  GST_LOG_OBJECT (enc, \"encoder  : %\" GST_PTR_FORMAT, enc->priv->tags);\n-  GST_LOG_OBJECT (enc, \"mode     : %d\", enc->priv->tags_merge_mode);\n-\n-  merged_tags =\n-      gst_tag_list_merge (enc->priv->upstream_tags, enc->priv->tags,\n-      enc->priv->tags_merge_mode);\n-\n-  GST_DEBUG_OBJECT (enc, \"merged   : %\" GST_PTR_FORMAT, merged_tags);\n-\n-  if (merged_tags == NULL)\n-    return NULL;\n-\n-  if (gst_tag_list_is_empty (merged_tags)) {\n-    gst_tag_list_unref (merged_tags);\n-    return NULL;\n-  }\n-\n-  return gst_event_new_tag (merged_tags);\n-}\n-\n-static inline void\n-gst_video_encoder_check_and_push_tags (GstVideoEncoder * encoder)\n-{\n-  if (encoder->priv->tags_changed) {\n-    GstEvent *tags_event;\n-\n-    tags_event = gst_video_encoder_create_merged_tags_event (encoder);\n-\n-    if (tags_event != NULL)\n-      gst_video_encoder_push_event (encoder, tags_event);\n-\n-    encoder->priv->tags_changed = FALSE;\n-  }\n-}\n-\n-static gboolean\n-gst_video_encoder_sink_event_default (GstVideoEncoder * encoder,\n-    GstEvent * event)\n-{\n-  GstVideoEncoderClass *encoder_class;\n-  gboolean ret = FALSE;\n-\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_CAPS:\n-    {\n-      GstCaps *caps;\n-\n-      gst_event_parse_caps (event, &caps);\n-      ret = gst_video_encoder_setcaps (encoder, caps);\n-\n-      gst_event_unref (event);\n-      event = NULL;\n-      break;\n-    }\n-    case GST_EVENT_EOS:\n-    {\n-      GstFlowReturn flow_ret;\n-\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-      if (encoder_class->finish) {\n-        flow_ret = encoder_class->finish (encoder);\n-      } else {\n-        flow_ret = GST_FLOW_OK;\n-      }\n-\n-      if (encoder->priv->current_frame_events) {\n-        GList *l;\n-\n-        for (l = g_list_last (encoder->priv->current_frame_events); l;\n-            l = g_list_previous (l)) {\n-          GstEvent *event = GST_EVENT (l->data);\n-\n-          gst_video_encoder_push_event (encoder, event);\n-        }\n-      }\n-      g_list_free (encoder->priv->current_frame_events);\n-      encoder->priv->current_frame_events = NULL;\n-\n-      gst_video_encoder_check_and_push_tags (encoder);\n-\n-      ret = (flow_ret == GST_FLOW_OK);\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-      break;\n-    }\n-    case GST_EVENT_SEGMENT:\n-    {\n-      GstSegment segment;\n-\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-      gst_event_copy_segment (event, &segment);\n-\n-      GST_DEBUG_OBJECT (encoder, \"segment %\" GST_SEGMENT_FORMAT, &segment);\n-\n-      if (segment.format != GST_FORMAT_TIME) {\n-        GST_DEBUG_OBJECT (encoder, \"received non TIME newsegment\");\n-        GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-        break;\n-      }\n-\n-      encoder->input_segment = segment;\n-      ret = TRUE;\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-      break;\n-    }\n-    case GST_EVENT_CUSTOM_DOWNSTREAM:\n-    {\n-      if (gst_video_event_is_force_key_unit (event)) {\n-        GstClockTime running_time;\n-        gboolean all_headers;\n-        guint count;\n-\n-        if (gst_video_event_parse_downstream_force_key_unit (event,\n-                NULL, NULL, &running_time, &all_headers, &count)) {\n-          ForcedKeyUnitEvent *fevt;\n-\n-          GST_OBJECT_LOCK (encoder);\n-          fevt = forced_key_unit_event_new (running_time, all_headers, count);\n-          g_queue_insert_sorted (&encoder->priv->force_key_unit, fevt,\n-              (GCompareDataFunc) forced_key_unit_event_compare, NULL);\n-          GST_OBJECT_UNLOCK (encoder);\n-\n-          GST_DEBUG_OBJECT (encoder,\n-              \"force-key-unit event: running-time %\" GST_TIME_FORMAT\n-              \", all_headers %d, count %u\",\n-              GST_TIME_ARGS (running_time), all_headers, count);\n-        }\n-        gst_event_unref (event);\n-        event = NULL;\n-        ret = TRUE;\n-      }\n-      break;\n-    }\n-    case GST_EVENT_STREAM_START:\n-    {\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-      \/* Flush upstream tags after a STREAM_START *\/\n-      GST_DEBUG_OBJECT (encoder, \"STREAM_START, clearing upstream tags\");\n-      if (encoder->priv->upstream_tags) {\n-        gst_tag_list_unref (encoder->priv->upstream_tags);\n-        encoder->priv->upstream_tags = NULL;\n-        encoder->priv->tags_changed = TRUE;\n-      }\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-      break;\n-    }\n-    case GST_EVENT_TAG:\n-    {\n-      GstTagList *tags;\n-\n-      gst_event_parse_tag (event, &tags);\n-\n-      if (gst_tag_list_get_scope (tags) == GST_TAG_SCOPE_STREAM) {\n-        GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-        if (encoder->priv->upstream_tags != tags) {\n-          tags = gst_tag_list_copy (tags);\n-\n-          \/* FIXME: make generic based on GST_TAG_FLAG_ENCODED *\/\n-          gst_tag_list_remove_tag (tags, GST_TAG_CODEC);\n-          gst_tag_list_remove_tag (tags, GST_TAG_AUDIO_CODEC);\n-          gst_tag_list_remove_tag (tags, GST_TAG_VIDEO_CODEC);\n-          gst_tag_list_remove_tag (tags, GST_TAG_SUBTITLE_CODEC);\n-          gst_tag_list_remove_tag (tags, GST_TAG_CONTAINER_FORMAT);\n-          gst_tag_list_remove_tag (tags, GST_TAG_BITRATE);\n-          gst_tag_list_remove_tag (tags, GST_TAG_NOMINAL_BITRATE);\n-          gst_tag_list_remove_tag (tags, GST_TAG_MAXIMUM_BITRATE);\n-          gst_tag_list_remove_tag (tags, GST_TAG_MINIMUM_BITRATE);\n-          gst_tag_list_remove_tag (tags, GST_TAG_ENCODER);\n-          gst_tag_list_remove_tag (tags, GST_TAG_ENCODER_VERSION);\n-\n-          if (encoder->priv->upstream_tags)\n-            gst_tag_list_unref (encoder->priv->upstream_tags);\n-          encoder->priv->upstream_tags = tags;\n-          GST_INFO_OBJECT (encoder, \"upstream tags: %\" GST_PTR_FORMAT, tags);\n-        }\n-        gst_event_unref (event);\n-        event = gst_video_encoder_create_merged_tags_event (encoder);\n-        GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-        if (!event)\n-          ret = TRUE;\n-      }\n-      break;\n-    }\n-    case GST_EVENT_FLUSH_STOP:{\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-      gst_video_encoder_flush (encoder);\n-      gst_segment_init (&encoder->input_segment, GST_FORMAT_TIME);\n-      gst_segment_init (&encoder->output_segment, GST_FORMAT_TIME);\n-      gst_video_encoder_reset (encoder, FALSE);\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-      break;\n-    }\n-    default:\n-      break;\n-  }\n-\n-  \/* Forward non-serialized events and EOS\/FLUSH_STOP immediately.\n-   * For EOS this is required because no buffer or serialized event\n-   * will come after EOS and nothing could trigger another\n-   * _finish_frame() call.   *\n-   * If the subclass handles sending of EOS manually it can simply\n-   * not chain up to the parent class' event handler\n-   *\n-   * For FLUSH_STOP this is required because it is expected\n-   * to be forwarded immediately and no buffers are queued anyway.\n-   *\/\n-  if (event) {\n-    if (!GST_EVENT_IS_SERIALIZED (event)\n-        || GST_EVENT_TYPE (event) == GST_EVENT_EOS\n-        || GST_EVENT_TYPE (event) == GST_EVENT_FLUSH_STOP) {\n-      ret = gst_video_encoder_push_event (encoder, event);\n-    } else {\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-      encoder->priv->current_frame_events =\n-          g_list_prepend (encoder->priv->current_frame_events, event);\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-      ret = TRUE;\n-    }\n-  }\n-\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_encoder_sink_event (GstPad * pad, GstObject * parent,\n-    GstEvent * event)\n-{\n-  GstVideoEncoder *enc;\n-  GstVideoEncoderClass *klass;\n-  gboolean ret = TRUE;\n-\n-  enc = GST_VIDEO_ENCODER (parent);\n-  klass = GST_VIDEO_ENCODER_GET_CLASS (enc);\n-\n-  GST_DEBUG_OBJECT (enc, \"received event %d, %s\", GST_EVENT_TYPE (event),\n-      GST_EVENT_TYPE_NAME (event));\n-\n-  if (klass->sink_event)\n-    ret = klass->sink_event (enc, event);\n-\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_encoder_src_event_default (GstVideoEncoder * encoder,\n-    GstEvent * event)\n-{\n-  gboolean ret = FALSE;\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_CUSTOM_UPSTREAM:\n-    {\n-      if (gst_video_event_is_force_key_unit (event)) {\n-        GstClockTime running_time;\n-        gboolean all_headers;\n-        guint count;\n-\n-        if (gst_video_event_parse_upstream_force_key_unit (event,\n-                &running_time, &all_headers, &count)) {\n-          ForcedKeyUnitEvent *fevt;\n-\n-          GST_OBJECT_LOCK (encoder);\n-          fevt = forced_key_unit_event_new (running_time, all_headers, count);\n-          g_queue_insert_sorted (&encoder->priv->force_key_unit, fevt,\n-              (GCompareDataFunc) forced_key_unit_event_compare, NULL);\n-          GST_OBJECT_UNLOCK (encoder);\n-\n-          GST_DEBUG_OBJECT (encoder,\n-              \"force-key-unit event: running-time %\" GST_TIME_FORMAT\n-              \", all_headers %d, count %u\",\n-              GST_TIME_ARGS (running_time), all_headers, count);\n-        }\n-        gst_event_unref (event);\n-        event = NULL;\n-        ret = TRUE;\n-      }\n-      break;\n-    }\n-    case GST_EVENT_QOS:\n-    {\n-      GstQOSType type;\n-      gdouble proportion;\n-      GstClockTimeDiff diff;\n-      GstClockTime timestamp;\n-\n-      if (!g_atomic_int_get (&priv->qos_enabled))\n-        break;\n-\n-      gst_event_parse_qos (event, &type, &proportion, &diff, &timestamp);\n-\n-      GST_OBJECT_LOCK (encoder);\n-      priv->proportion = proportion;\n-      if (G_LIKELY (GST_CLOCK_TIME_IS_VALID (timestamp))) {\n-        if (G_UNLIKELY (diff > 0)) {\n-          priv->earliest_time = timestamp + 2 * diff + priv->qos_frame_duration;\n-        } else {\n-          priv->earliest_time = timestamp + diff;\n-        }\n-      } else {\n-        priv->earliest_time = GST_CLOCK_TIME_NONE;\n-      }\n-      GST_OBJECT_UNLOCK (encoder);\n-\n-      GST_DEBUG_OBJECT (encoder,\n-          \"got QoS %\" GST_TIME_FORMAT \", %\" GST_STIME_FORMAT \", %g\",\n-          GST_TIME_ARGS (timestamp), GST_STIME_ARGS (diff), proportion);\n-\n-      ret = gst_pad_push_event (encoder->sinkpad, event);\n-      event = NULL;\n-      break;\n-    }\n-    default:\n-      break;\n-  }\n-\n-  if (event)\n-    ret =\n-        gst_pad_event_default (encoder->srcpad, GST_OBJECT_CAST (encoder),\n-        event);\n-\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_encoder_src_event (GstPad * pad, GstObject * parent, GstEvent * event)\n-{\n-  GstVideoEncoder *encoder;\n-  GstVideoEncoderClass *klass;\n-  gboolean ret = FALSE;\n-\n-  encoder = GST_VIDEO_ENCODER (parent);\n-  klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_LOG_OBJECT (encoder, \"handling event: %\" GST_PTR_FORMAT, event);\n-\n-  if (klass->src_event)\n-    ret = klass->src_event (encoder, event);\n-\n-  return ret;\n-}\n-\n-static gboolean\n-gst_video_encoder_src_query_default (GstVideoEncoder * enc, GstQuery * query)\n-{\n-  GstPad *pad = GST_VIDEO_ENCODER_SRC_PAD (enc);\n-  GstVideoEncoderPrivate *priv;\n-  gboolean res;\n-\n-  priv = enc->priv;\n-\n-  GST_LOG_OBJECT (enc, \"handling query: %\" GST_PTR_FORMAT, query);\n-\n-  switch (GST_QUERY_TYPE (query)) {\n-    case GST_QUERY_CONVERT:\n-    {\n-      GstFormat src_fmt, dest_fmt;\n-      gint64 src_val, dest_val;\n-\n-      gst_query_parse_convert (query, &src_fmt, &src_val, &dest_fmt, &dest_val);\n-      GST_OBJECT_LOCK (enc);\n-      res =\n-          __gst_video_encoded_video_convert (priv->bytes, priv->time, src_fmt,\n-          src_val, &dest_fmt, &dest_val);\n-      GST_OBJECT_UNLOCK (enc);\n-      if (!res)\n-        goto error;\n-      gst_query_set_convert (query, src_fmt, src_val, dest_fmt, dest_val);\n-      break;\n-    }\n-    case GST_QUERY_LATENCY:\n-    {\n-      gboolean live;\n-      GstClockTime min_latency, max_latency;\n-\n-      res = gst_pad_peer_query (enc->sinkpad, query);\n-      if (res) {\n-        gst_query_parse_latency (query, &live, &min_latency, &max_latency);\n-        GST_DEBUG_OBJECT (enc, \"Peer latency: live %d, min %\"\n-            GST_TIME_FORMAT \" max %\" GST_TIME_FORMAT, live,\n-            GST_TIME_ARGS (min_latency), GST_TIME_ARGS (max_latency));\n-\n-        GST_OBJECT_LOCK (enc);\n-        min_latency += priv->min_latency;\n-        if (max_latency == GST_CLOCK_TIME_NONE\n-            || enc->priv->max_latency == GST_CLOCK_TIME_NONE)\n-          max_latency = GST_CLOCK_TIME_NONE;\n-        else\n-          max_latency += enc->priv->max_latency;\n-        GST_OBJECT_UNLOCK (enc);\n-\n-        gst_query_set_latency (query, live, min_latency, max_latency);\n-      }\n-    }\n-      break;\n-    default:\n-      res = gst_pad_query_default (pad, GST_OBJECT (enc), query);\n-  }\n-  return res;\n-\n-error:\n-  GST_DEBUG_OBJECT (enc, \"query failed\");\n-  return res;\n-}\n-\n-static gboolean\n-gst_video_encoder_src_query (GstPad * pad, GstObject * parent, GstQuery * query)\n-{\n-  GstVideoEncoder *encoder;\n-  GstVideoEncoderClass *encoder_class;\n-  gboolean ret = FALSE;\n-\n-  encoder = GST_VIDEO_ENCODER (parent);\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_DEBUG_OBJECT (encoder, \"received query %d, %s\", GST_QUERY_TYPE (query),\n-      GST_QUERY_TYPE_NAME (query));\n-\n-  if (encoder_class->src_query)\n-    ret = encoder_class->src_query (encoder, query);\n-\n-  return ret;\n-}\n-\n-static GstVideoCodecFrame *\n-gst_video_encoder_new_frame (GstVideoEncoder * encoder, GstBuffer * buf,\n-    GstClockTime pts, GstClockTime dts, GstClockTime duration)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GstVideoCodecFrame *frame;\n-\n-  frame = g_slice_new0 (GstVideoCodecFrame);\n-\n-  frame->ref_count = 1;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  frame->system_frame_number = priv->system_frame_number;\n-  priv->system_frame_number++;\n-\n-  frame->presentation_frame_number = priv->presentation_frame_number;\n-  priv->presentation_frame_number++;\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  frame->events = priv->current_frame_events;\n-  priv->current_frame_events = NULL;\n-  frame->input_buffer = buf;\n-  frame->pts = pts;\n-  frame->dts = dts;\n-  frame->duration = duration;\n-  frame->abidata.ABI.ts = pts;\n-\n-  return frame;\n-}\n-\n-\n-static GstFlowReturn\n-gst_video_encoder_chain (GstPad * pad, GstObject * parent, GstBuffer * buf)\n-{\n-  GstVideoEncoder *encoder;\n-  GstVideoEncoderPrivate *priv;\n-  GstVideoEncoderClass *klass;\n-  GstVideoCodecFrame *frame;\n-  GstClockTime pts, duration;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-  guint64 start, stop, cstart, cstop;\n-\n-  encoder = GST_VIDEO_ENCODER (parent);\n-  priv = encoder->priv;\n-  klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  g_return_val_if_fail (klass->handle_frame != NULL, GST_FLOW_ERROR);\n-\n-  if (!encoder->priv->input_state)\n-    goto not_negotiated;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-  pts = GST_BUFFER_PTS (buf);\n-  duration = GST_BUFFER_DURATION (buf);\n-\n-  GST_LOG_OBJECT (encoder,\n-      \"received buffer of size %\" G_GSIZE_FORMAT \" with PTS %\" GST_TIME_FORMAT\n-      \", DTS %\" GST_TIME_FORMAT \", duration %\" GST_TIME_FORMAT,\n-      gst_buffer_get_size (buf), GST_TIME_ARGS (pts),\n-      GST_TIME_ARGS (GST_BUFFER_DTS (buf)), GST_TIME_ARGS (duration));\n-\n-  start = pts;\n-  if (GST_CLOCK_TIME_IS_VALID (duration))\n-    stop = start + duration;\n-  else\n-    stop = GST_CLOCK_TIME_NONE;\n-\n-  \/* Drop buffers outside of segment *\/\n-  if (!gst_segment_clip (&encoder->input_segment,\n-          GST_FORMAT_TIME, start, stop, &cstart, &cstop)) {\n-    GST_DEBUG_OBJECT (encoder, \"clipping to segment dropped frame\");\n-    gst_buffer_unref (buf);\n-    goto done;\n-  }\n-\n-  if (GST_CLOCK_TIME_IS_VALID (cstop))\n-    duration = cstop - cstart;\n-  else\n-    duration = GST_CLOCK_TIME_NONE;\n-\n-  if (priv->min_pts != GST_CLOCK_TIME_NONE\n-      && priv->time_adjustment == GST_CLOCK_TIME_NONE) {\n-    if (cstart < priv->min_pts) {\n-      priv->time_adjustment = priv->min_pts - cstart;\n-    }\n-  }\n-\n-  if (priv->time_adjustment != GST_CLOCK_TIME_NONE) {\n-    cstart += priv->time_adjustment;\n-  }\n-\n-  \/* incoming DTS is not really relevant and does not make sense anyway,\n-   * so pass along _NONE and maybe come up with something better later on *\/\n-  frame = gst_video_encoder_new_frame (encoder, buf, cstart,\n-      GST_CLOCK_TIME_NONE, duration);\n-\n-  GST_OBJECT_LOCK (encoder);\n-  if (priv->force_key_unit.head) {\n-    GList *l;\n-    GstClockTime running_time;\n-    gboolean throttled, have_fevt = FALSE, have_pending_none_fevt = FALSE;\n-    GQueue matching_fevt = G_QUEUE_INIT;\n-\n-    running_time =\n-        gst_segment_to_running_time (&encoder->output_segment, GST_FORMAT_TIME,\n-        cstart);\n-\n-    throttled = (priv->min_force_key_unit_interval != 0 &&\n-        priv->min_force_key_unit_interval != GST_CLOCK_TIME_NONE &&\n-        ((priv->last_force_key_unit_request != GST_CLOCK_TIME_NONE &&\n-                priv->last_force_key_unit_request +\n-                priv->min_force_key_unit_interval > running_time)\n-            || (priv->last_key_unit != GST_CLOCK_TIME_NONE\n-                && priv->last_key_unit + priv->min_force_key_unit_interval >\n-                running_time)));\n-\n-    for (l = priv->force_key_unit.head; l && (!throttled || !have_fevt);\n-        l = l->next) {\n-      ForcedKeyUnitEvent *fevt = l->data;\n-\n-      \/* Skip pending keyunits *\/\n-      if (fevt->pending) {\n-        if (fevt->running_time == GST_CLOCK_TIME_NONE)\n-          have_pending_none_fevt = TRUE;\n-        continue;\n-      }\n-\n-      \/* Simple case, keyunit ASAP *\/\n-      if (fevt->running_time == GST_CLOCK_TIME_NONE) {\n-        have_fevt = TRUE;\n-        if (!throttled)\n-          g_queue_push_tail (&matching_fevt, fevt);\n-        continue;\n-      }\n-\n-      \/* Event for before this frame *\/\n-      if (fevt->running_time <= running_time) {\n-        have_fevt = TRUE;\n-        if (!throttled)\n-          g_queue_push_tail (&matching_fevt, fevt);\n-        continue;\n-      }\n-\n-      \/* Otherwise all following events are in the future *\/\n-      break;\n-    }\n-\n-    if (throttled && have_fevt) {\n-      GstClockTime last_time;\n-\n-      if (priv->last_force_key_unit_request != GST_CLOCK_TIME_NONE &&\n-          priv->last_force_key_unit_request +\n-          priv->min_force_key_unit_interval > running_time) {\n-        last_time = priv->last_force_key_unit_request;\n-      } else {\n-        last_time = priv->last_key_unit;\n-      }\n-\n-      GST_DEBUG_OBJECT (encoder,\n-          \"Not requesting a new key unit yet due to throttling (%\"\n-          GST_TIME_FORMAT \" + %\" GST_TIME_FORMAT \" > %\" GST_TIME_FORMAT,\n-          GST_TIME_ARGS (last_time),\n-          GST_TIME_ARGS (priv->min_force_key_unit_interval),\n-          GST_TIME_ARGS (running_time));\n-      g_queue_clear (&matching_fevt);\n-    }\n-\n-    if (matching_fevt.length > 0) {\n-      ForcedKeyUnitEvent *fevt;\n-      gboolean all_headers = FALSE;\n-      gboolean force_keyunit = FALSE;\n-\n-      while ((fevt = g_queue_pop_head (&matching_fevt))) {\n-        fevt->pending = TRUE;\n-\n-        if ((fevt->running_time == GST_CLOCK_TIME_NONE\n-                && have_pending_none_fevt)\n-            || (priv->last_force_key_unit_request != GST_CLOCK_TIME_NONE\n-                && fevt->running_time != GST_CLOCK_TIME_NONE\n-                && fevt->running_time <= priv->last_force_key_unit_request) ||\n-            (priv->last_key_unit != GST_CLOCK_TIME_NONE\n-                && fevt->running_time != GST_CLOCK_TIME_NONE\n-                && fevt->running_time <= priv->last_key_unit)) {\n-          GST_DEBUG_OBJECT (encoder,\n-              \"Not requesting another key unit at running time %\"\n-              GST_TIME_FORMAT, GST_TIME_ARGS (fevt->running_time));\n-        } else {\n-          force_keyunit = TRUE;\n-          fevt->frame_id = frame->system_frame_number;\n-          if (fevt->all_headers)\n-            all_headers = TRUE;\n-        }\n-      }\n-\n-      if (force_keyunit) {\n-        GST_DEBUG_OBJECT (encoder,\n-            \"Forcing a key unit at running time %\" GST_TIME_FORMAT,\n-            GST_TIME_ARGS (running_time));\n-\n-        GST_VIDEO_CODEC_FRAME_SET_FORCE_KEYFRAME (frame);\n-        if (all_headers)\n-          GST_VIDEO_CODEC_FRAME_SET_FORCE_KEYFRAME_HEADERS (frame);\n-        priv->last_force_key_unit_request = running_time;\n-      }\n-    }\n-  }\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  g_queue_push_tail (&priv->frames, gst_video_codec_frame_ref (frame));\n-\n-  \/* new data, more finish needed *\/\n-  priv->drained = FALSE;\n-\n-  GST_LOG_OBJECT (encoder, \"passing frame pfn %d to subclass\",\n-      frame->presentation_frame_number);\n-\n-  frame->deadline =\n-      gst_segment_to_running_time (&encoder->input_segment, GST_FORMAT_TIME,\n-      frame->pts);\n-\n-  ret = klass->handle_frame (encoder, frame);\n-\n-done:\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return ret;\n-\n-  \/* ERRORS *\/\n-not_negotiated:\n-  {\n-    GST_ELEMENT_ERROR (encoder, CORE, NEGOTIATION, (NULL),\n-        (\"encoder not initialized\"));\n-    gst_buffer_unref (buf);\n-    return GST_FLOW_NOT_NEGOTIATED;\n-  }\n-}\n-\n-static GstStateChangeReturn\n-gst_video_encoder_change_state (GstElement * element, GstStateChange transition)\n-{\n-  GstVideoEncoder *encoder;\n-  GstVideoEncoderClass *encoder_class;\n-  GstStateChangeReturn ret;\n-\n-  encoder = GST_VIDEO_ENCODER (element);\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (element);\n-\n-  switch (transition) {\n-    case GST_STATE_CHANGE_NULL_TO_READY:\n-      \/* open device\/library if needed *\/\n-      if (encoder_class->open && !encoder_class->open (encoder))\n-        goto open_failed;\n-      break;\n-    case GST_STATE_CHANGE_READY_TO_PAUSED:\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-      gst_video_encoder_reset (encoder, TRUE);\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-      \/* Initialize device\/library if needed *\/\n-      if (encoder_class->start && !encoder_class->start (encoder))\n-        goto start_failed;\n-      break;\n-    default:\n-      break;\n-  }\n-\n-  ret = GST_ELEMENT_CLASS (parent_class)->change_state (element, transition);\n-\n-  switch (transition) {\n-    case GST_STATE_CHANGE_PAUSED_TO_READY:{\n-      gboolean stopped = TRUE;\n-\n-      if (encoder_class->stop)\n-        stopped = encoder_class->stop (encoder);\n-\n-      GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-      gst_video_encoder_reset (encoder, TRUE);\n-      GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-      if (!stopped)\n-        goto stop_failed;\n-      break;\n-    }\n-    case GST_STATE_CHANGE_READY_TO_NULL:\n-      \/* close device\/library if needed *\/\n-      if (encoder_class->close && !encoder_class->close (encoder))\n-        goto close_failed;\n-      break;\n-    default:\n-      break;\n-  }\n-\n-  return ret;\n-\n-  \/* Errors *\/\n-\n-open_failed:\n-  {\n-    GST_ELEMENT_ERROR (encoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to open encoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-\n-start_failed:\n-  {\n-    GST_ELEMENT_ERROR (encoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to start encoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-\n-stop_failed:\n-  {\n-    GST_ELEMENT_ERROR (encoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to stop encoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-\n-close_failed:\n-  {\n-    GST_ELEMENT_ERROR (encoder, LIBRARY, INIT, (NULL),\n-        (\"Failed to close encoder\"));\n-    return GST_STATE_CHANGE_FAILURE;\n-  }\n-}\n-\n-static gboolean\n-gst_video_encoder_negotiate_default (GstVideoEncoder * encoder)\n-{\n-  GstVideoEncoderClass *klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-  GstAllocator *allocator;\n-  GstAllocationParams params;\n-  gboolean ret = TRUE;\n-  GstVideoCodecState *state = encoder->priv->output_state;\n-  GstVideoInfo *info = &state->info;\n-  GstQuery *query = NULL;\n-  GstVideoCodecFrame *frame;\n-  GstCaps *prevcaps;\n-  gchar *colorimetry;\n-\n-  g_return_val_if_fail (state->caps != NULL, FALSE);\n-\n-  if (encoder->priv->output_state_changed) {\n-    GstStructure *out_struct;\n-\n-    state->caps = gst_caps_make_writable (state->caps);\n-\n-    \/* Fill caps *\/\n-    gst_caps_set_simple (state->caps, \"width\", G_TYPE_INT, info->width,\n-        \"height\", G_TYPE_INT, info->height,\n-        \"pixel-aspect-ratio\", GST_TYPE_FRACTION,\n-        info->par_n, info->par_d, NULL);\n-    if (info->flags & GST_VIDEO_FLAG_VARIABLE_FPS && info->fps_n != 0) {\n-      \/* variable fps with a max-framerate *\/\n-      gst_caps_set_simple (state->caps, \"framerate\", GST_TYPE_FRACTION, 0, 1,\n-          \"max-framerate\", GST_TYPE_FRACTION, info->fps_n, info->fps_d, NULL);\n-    } else {\n-      \/* no variable fps or no max-framerate *\/\n-      gst_caps_set_simple (state->caps, \"framerate\", GST_TYPE_FRACTION,\n-          info->fps_n, info->fps_d, NULL);\n-    }\n-    if (state->codec_data)\n-      gst_caps_set_simple (state->caps, \"codec_data\", GST_TYPE_BUFFER,\n-          state->codec_data, NULL);\n-\n-    gst_caps_set_simple (state->caps, \"interlace-mode\", G_TYPE_STRING,\n-        gst_video_interlace_mode_to_string (info->interlace_mode), NULL);\n-    if (info->interlace_mode == GST_VIDEO_INTERLACE_MODE_INTERLEAVED &&\n-        GST_VIDEO_INFO_FIELD_ORDER (info) != GST_VIDEO_FIELD_ORDER_UNKNOWN)\n-      gst_caps_set_simple (state->caps, \"field-order\", G_TYPE_STRING,\n-          gst_video_field_order_to_string (GST_VIDEO_INFO_FIELD_ORDER (info)),\n-          NULL);\n-\n-    colorimetry = gst_video_colorimetry_to_string (&info->colorimetry);\n-    if (colorimetry)\n-      gst_caps_set_simple (state->caps, \"colorimetry\", G_TYPE_STRING,\n-          colorimetry, NULL);\n-    g_free (colorimetry);\n-\n-    if (info->chroma_site != GST_VIDEO_CHROMA_SITE_UNKNOWN) {\n-      gchar *chroma_site = gst_video_chroma_site_to_string (info->chroma_site);\n-\n-      if (!chroma_site) {\n-        GST_WARNING (\"Couldn't convert chroma-site 0x%x to string\",\n-            info->chroma_site);\n-      } else {\n-        gst_caps_set_simple (state->caps,\n-            \"chroma-site\", G_TYPE_STRING, chroma_site, NULL);\n-        g_free (chroma_site);\n-      }\n-    }\n-\n-    if (GST_VIDEO_INFO_MULTIVIEW_MODE (info) != GST_VIDEO_MULTIVIEW_MODE_NONE) {\n-      const gchar *caps_mview_mode =\n-          gst_video_multiview_mode_to_caps_string (GST_VIDEO_INFO_MULTIVIEW_MODE\n-          (info));\n-\n-      gst_caps_set_simple (state->caps, \"multiview-mode\", G_TYPE_STRING,\n-          caps_mview_mode, \"multiview-flags\", GST_TYPE_VIDEO_MULTIVIEW_FLAGSET,\n-          GST_VIDEO_INFO_MULTIVIEW_FLAGS (info), GST_FLAG_SET_MASK_EXACT, NULL);\n-    }\n-\n-    out_struct = gst_caps_get_structure (state->caps, 0);\n-\n-    \/* forward upstream mastering display info and content light level\n-     * if subclass didn't set *\/\n-    if (state->mastering_display_info &&\n-        !gst_structure_has_field (out_struct, \"mastering-display-info\")) {\n-      gst_video_mastering_display_info_add_to_caps\n-          (state->mastering_display_info, state->caps);\n-    }\n-\n-    if (state->content_light_level &&\n-        !gst_structure_has_field (out_struct, \"content-light-level\")) {\n-      gst_video_content_light_level_add_to_caps (state->content_light_level,\n-          state->caps);\n-    }\n-\n-    encoder->priv->output_state_changed = FALSE;\n-  }\n-\n-  if (state->allocation_caps == NULL)\n-    state->allocation_caps = gst_caps_ref (state->caps);\n-\n-  \/* Push all pending pre-caps events of the oldest frame before\n-   * setting caps *\/\n-  frame = encoder->priv->frames.head ? encoder->priv->frames.head->data : NULL;\n-  if (frame || encoder->priv->current_frame_events) {\n-    GList **events, *l;\n-\n-    if (frame) {\n-      events = &frame->events;\n-    } else {\n-      events = &encoder->priv->current_frame_events;\n-    }\n-\n-    for (l = g_list_last (*events); l;) {\n-      GstEvent *event = GST_EVENT (l->data);\n-      GList *tmp;\n-\n-      if (GST_EVENT_TYPE (event) < GST_EVENT_CAPS) {\n-        gst_video_encoder_push_event (encoder, event);\n-        tmp = l;\n-        l = l->prev;\n-        *events = g_list_delete_link (*events, tmp);\n-      } else {\n-        l = l->prev;\n-      }\n-    }\n-  }\n-\n-  prevcaps = gst_pad_get_current_caps (encoder->srcpad);\n-  if (!prevcaps || !gst_caps_is_equal (prevcaps, state->caps))\n-    ret = gst_pad_set_caps (encoder->srcpad, state->caps);\n-  else\n-    ret = TRUE;\n-  if (prevcaps)\n-    gst_caps_unref (prevcaps);\n-\n-  if (!ret)\n-    goto done;\n-\n-  query = gst_query_new_allocation (state->allocation_caps, TRUE);\n-  if (!gst_pad_peer_query (encoder->srcpad, query)) {\n-    GST_DEBUG_OBJECT (encoder, \"didn't get downstream ALLOCATION hints\");\n-  }\n-\n-  g_assert (klass->decide_allocation != NULL);\n-  ret = klass->decide_allocation (encoder, query);\n-\n-  GST_DEBUG_OBJECT (encoder, \"ALLOCATION (%d) params: %\" GST_PTR_FORMAT, ret,\n-      query);\n-\n-  if (!ret)\n-    goto no_decide_allocation;\n-\n-  \/* we got configuration from our peer or the decide_allocation method,\n-   * parse them *\/\n-  if (gst_query_get_n_allocation_params (query) > 0) {\n-    gst_query_parse_nth_allocation_param (query, 0, &allocator, &params);\n-  } else {\n-    allocator = NULL;\n-    gst_allocation_params_init (&params);\n-  }\n-\n-  if (encoder->priv->allocator)\n-    gst_object_unref (encoder->priv->allocator);\n-  encoder->priv->allocator = allocator;\n-  encoder->priv->params = params;\n-\n-done:\n-  if (query)\n-    gst_query_unref (query);\n-\n-  return ret;\n-\n-  \/* Errors *\/\n-no_decide_allocation:\n-  {\n-    GST_WARNING_OBJECT (encoder, \"Subclass failed to decide allocation\");\n-    goto done;\n-  }\n-}\n-\n-static gboolean\n-gst_video_encoder_negotiate_unlocked (GstVideoEncoder * encoder)\n-{\n-  GstVideoEncoderClass *klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-  gboolean ret = TRUE;\n-\n-  if (G_LIKELY (klass->negotiate))\n-    ret = klass->negotiate (encoder);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_encoder_negotiate:\n- * @encoder: a #GstVideoEncoder\n- *\n- * Negotiate with downstream elements to currently configured #GstVideoCodecState.\n- * Unmark GST_PAD_FLAG_NEED_RECONFIGURE in any case. But mark it again if\n- * negotiate fails.\n- *\n- * Returns: %TRUE if the negotiation succeeded, else %FALSE.\n- *\/\n-gboolean\n-gst_video_encoder_negotiate (GstVideoEncoder * encoder)\n-{\n-  GstVideoEncoderClass *klass;\n-  gboolean ret = TRUE;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_ENCODER (encoder), FALSE);\n-  g_return_val_if_fail (encoder->priv->output_state, FALSE);\n-\n-  klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  gst_pad_check_reconfigure (encoder->srcpad);\n-  if (klass->negotiate) {\n-    ret = klass->negotiate (encoder);\n-    if (!ret)\n-      gst_pad_mark_reconfigure (encoder->srcpad);\n-  }\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_encoder_allocate_output_buffer:\n- * @encoder: a #GstVideoEncoder\n- * @size: size of the buffer\n- *\n- * Helper function that allocates a buffer to hold an encoded video frame\n- * for @encoder's current #GstVideoCodecState.\n- *\n- * Returns: (transfer full): allocated buffer\n- *\/\n-GstBuffer *\n-gst_video_encoder_allocate_output_buffer (GstVideoEncoder * encoder, gsize size)\n-{\n-  GstBuffer *buffer;\n-  gboolean needs_reconfigure = FALSE;\n-\n-  g_return_val_if_fail (size > 0, NULL);\n-\n-  GST_DEBUG (\"alloc src buffer\");\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  needs_reconfigure = gst_pad_check_reconfigure (encoder->srcpad);\n-  if (G_UNLIKELY (encoder->priv->output_state_changed\n-          || (encoder->priv->output_state && needs_reconfigure))) {\n-    if (!gst_video_encoder_negotiate_unlocked (encoder)) {\n-      GST_DEBUG_OBJECT (encoder, \"Failed to negotiate, fallback allocation\");\n-      gst_pad_mark_reconfigure (encoder->srcpad);\n-      goto fallback;\n-    }\n-  }\n-\n-  buffer =\n-      gst_buffer_new_allocate (encoder->priv->allocator, size,\n-      &encoder->priv->params);\n-  if (!buffer) {\n-    GST_INFO_OBJECT (encoder, \"couldn't allocate output buffer\");\n-    goto fallback;\n-  }\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return buffer;\n-\n-fallback:\n-  buffer = gst_buffer_new_allocate (NULL, size, NULL);\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return buffer;\n-}\n-\n-\/**\n- * gst_video_encoder_allocate_output_frame:\n- * @encoder: a #GstVideoEncoder\n- * @frame: a #GstVideoCodecFrame\n- * @size: size of the buffer\n- *\n- * Helper function that allocates a buffer to hold an encoded video frame for @encoder's\n- * current #GstVideoCodecState.  Subclass should already have configured video\n- * state and set src pad caps.\n- *\n- * The buffer allocated here is owned by the frame and you should only\n- * keep references to the frame, not the buffer.\n- *\n- * Returns: %GST_FLOW_OK if an output buffer could be allocated\n- *\/\n-GstFlowReturn\n-gst_video_encoder_allocate_output_frame (GstVideoEncoder *\n-    encoder, GstVideoCodecFrame * frame, gsize size)\n-{\n-  gboolean needs_reconfigure = FALSE;\n-\n-  g_return_val_if_fail (frame->output_buffer == NULL, GST_FLOW_ERROR);\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  needs_reconfigure = gst_pad_check_reconfigure (encoder->srcpad);\n-  if (G_UNLIKELY (encoder->priv->output_state_changed\n-          || (encoder->priv->output_state && needs_reconfigure))) {\n-    if (!gst_video_encoder_negotiate_unlocked (encoder)) {\n-      GST_DEBUG_OBJECT (encoder, \"Failed to negotiate, fallback allocation\");\n-      gst_pad_mark_reconfigure (encoder->srcpad);\n-    }\n-  }\n-\n-  GST_LOG_OBJECT (encoder, \"alloc buffer size %\" G_GSIZE_FORMAT, size);\n-\n-  frame->output_buffer =\n-      gst_buffer_new_allocate (encoder->priv->allocator, size,\n-      &encoder->priv->params);\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return frame->output_buffer ? GST_FLOW_OK : GST_FLOW_ERROR;\n-}\n-\n-static void\n-gst_video_encoder_release_frame (GstVideoEncoder * enc,\n-    GstVideoCodecFrame * frame)\n-{\n-  GList *link;\n-\n-  \/* unref once from the list *\/\n-  link = g_queue_find (&enc->priv->frames, frame);\n-  if (link) {\n-    gst_video_codec_frame_unref (frame);\n-    g_queue_delete_link (&enc->priv->frames, link);\n-  }\n-  \/* unref because this function takes ownership *\/\n-  gst_video_codec_frame_unref (frame);\n-}\n-\n-static gboolean\n-gst_video_encoder_transform_meta_default (GstVideoEncoder *\n-    encoder, GstVideoCodecFrame * frame, GstMeta * meta)\n-{\n-  const GstMetaInfo *info = meta->info;\n-  const gchar *const *tags;\n-  const gchar *const supported_tags[] = {\n-    GST_META_TAG_VIDEO_STR,\n-    GST_META_TAG_VIDEO_ORIENTATION_STR,\n-    GST_META_TAG_VIDEO_SIZE_STR,\n-    NULL,\n-  };\n-\n-  tags = gst_meta_api_type_get_tags (info->api);\n-\n-  if (!tags)\n-    return TRUE;\n-\n-  while (*tags) {\n-    if (!g_strv_contains (supported_tags, *tags))\n-      return FALSE;\n-    tags++;\n-  }\n-\n-  return TRUE;\n-}\n-\n-typedef struct\n-{\n-  GstVideoEncoder *encoder;\n-  GstVideoCodecFrame *frame;\n-} CopyMetaData;\n-\n-static gboolean\n-foreach_metadata (GstBuffer * inbuf, GstMeta ** meta, gpointer user_data)\n-{\n-  CopyMetaData *data = user_data;\n-  GstVideoEncoder *encoder = data->encoder;\n-  GstVideoEncoderClass *klass = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-  GstVideoCodecFrame *frame = data->frame;\n-  const GstMetaInfo *info = (*meta)->info;\n-  gboolean do_copy = FALSE;\n-\n-  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)) {\n-    \/* never call the transform_meta with memory specific metadata *\/\n-    GST_DEBUG_OBJECT (encoder, \"not copying memory specific metadata %s\",\n-        g_type_name (info->api));\n-    do_copy = FALSE;\n-  } else if (klass->transform_meta) {\n-    do_copy = klass->transform_meta (encoder, frame, *meta);\n-    GST_DEBUG_OBJECT (encoder, \"transformed metadata %s: copy: %d\",\n-        g_type_name (info->api), do_copy);\n-  }\n-\n-  \/* we only copy metadata when the subclass implemented a transform_meta\n-   * function and when it returns %TRUE *\/\n-  if (do_copy && info->transform_func) {\n-    GstMetaTransformCopy copy_data = { FALSE, 0, -1 };\n-    GST_DEBUG_OBJECT (encoder, \"copy metadata %s\", g_type_name (info->api));\n-    \/* simply copy then *\/\n-    info->transform_func (frame->output_buffer, *meta, inbuf,\n-        _gst_meta_transform_copy, &copy_data);\n-  }\n-  return TRUE;\n-}\n-\n-static void\n-gst_video_encoder_drop_frame (GstVideoEncoder * enc, GstVideoCodecFrame * frame)\n-{\n-  GstVideoEncoderPrivate *priv = enc->priv;\n-  GstClockTime stream_time, jitter, earliest_time, qostime, timestamp;\n-  GstSegment *segment;\n-  GstMessage *qos_msg;\n-  gdouble proportion;\n-\n-  GST_DEBUG_OBJECT (enc, \"dropping frame %\" GST_TIME_FORMAT,\n-      GST_TIME_ARGS (frame->pts));\n-\n-  priv->dropped++;\n-\n-  \/* post QoS message *\/\n-  GST_OBJECT_LOCK (enc);\n-  proportion = priv->proportion;\n-  earliest_time = priv->earliest_time;\n-  GST_OBJECT_UNLOCK (enc);\n-\n-  timestamp = frame->pts;\n-  segment = &enc->output_segment;\n-  if (G_UNLIKELY (segment->format == GST_FORMAT_UNDEFINED))\n-    segment = &enc->input_segment;\n-  stream_time =\n-      gst_segment_to_stream_time (segment, GST_FORMAT_TIME, timestamp);\n-  qostime = gst_segment_to_running_time (segment, GST_FORMAT_TIME, timestamp);\n-  jitter = GST_CLOCK_DIFF (qostime, earliest_time);\n-  qos_msg =\n-      gst_message_new_qos (GST_OBJECT_CAST (enc), FALSE, qostime, stream_time,\n-      timestamp, GST_CLOCK_TIME_NONE);\n-  gst_message_set_qos_values (qos_msg, jitter, proportion, 1000000);\n-  gst_message_set_qos_stats (qos_msg, GST_FORMAT_BUFFERS,\n-      priv->processed, priv->dropped);\n-  gst_element_post_message (GST_ELEMENT_CAST (enc), qos_msg);\n-}\n-\n-static GstFlowReturn\n-gst_video_encoder_can_push_unlocked (GstVideoEncoder * encoder)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  gboolean needs_reconfigure;\n-\n-  needs_reconfigure = gst_pad_check_reconfigure (encoder->srcpad);\n-  if (G_UNLIKELY (priv->output_state_changed || (priv->output_state\n-              && needs_reconfigure))) {\n-    if (!gst_video_encoder_negotiate_unlocked (encoder)) {\n-      gst_pad_mark_reconfigure (encoder->srcpad);\n-      if (GST_PAD_IS_FLUSHING (encoder->srcpad))\n-        return GST_FLOW_FLUSHING;\n-      else\n-        return GST_FLOW_NOT_NEGOTIATED;\n-    }\n-  }\n-\n-  if (G_UNLIKELY (priv->output_state == NULL)) {\n-    GST_ERROR_OBJECT (encoder, \"Output state was not configured\");\n-    GST_ELEMENT_ERROR (encoder, LIBRARY, FAILED,\n-        (\"Output state was not configured\"), (NULL));\n-    return GST_FLOW_ERROR;\n-  }\n-\n-  return GST_FLOW_OK;\n-}\n-\n-static void\n-gst_video_encoder_push_pending_unlocked (GstVideoEncoder * encoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GList *l;\n-\n-  \/* Push all pending events that arrived before this frame *\/\n-  for (l = priv->frames.head; l; l = l->next) {\n-    GstVideoCodecFrame *tmp = l->data;\n-\n-    if (tmp->events) {\n-      GList *k;\n-\n-      for (k = g_list_last (tmp->events); k; k = k->prev)\n-        gst_video_encoder_push_event (encoder, k->data);\n-      g_list_free (tmp->events);\n-      tmp->events = NULL;\n-    }\n-\n-    if (tmp == frame)\n-      break;\n-  }\n-\n-  gst_video_encoder_check_and_push_tags (encoder);\n-}\n-\n-static void\n-gst_video_encoder_infer_dts_unlocked (GstVideoEncoder * encoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  \/* DTS is expected to be monotonously increasing,\n-   * so a good guess is the lowest unsent PTS (all being OK) *\/\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GList *l;\n-  GstClockTime min_ts = GST_CLOCK_TIME_NONE;\n-  GstVideoCodecFrame *oframe = NULL;\n-  gboolean seen_none = FALSE;\n-\n-  \/* some maintenance regardless *\/\n-  for (l = priv->frames.head; l; l = l->next) {\n-    GstVideoCodecFrame *tmp = l->data;\n-\n-    if (!GST_CLOCK_TIME_IS_VALID (tmp->abidata.ABI.ts)) {\n-      seen_none = TRUE;\n-      continue;\n-    }\n-\n-    if (!GST_CLOCK_TIME_IS_VALID (min_ts) || tmp->abidata.ABI.ts < min_ts) {\n-      min_ts = tmp->abidata.ABI.ts;\n-      oframe = tmp;\n-    }\n-  }\n-  \/* save a ts if needed *\/\n-  if (oframe && oframe != frame) {\n-    oframe->abidata.ABI.ts = frame->abidata.ABI.ts;\n-  }\n-\n-  \/* and set if needed *\/\n-  if (!GST_CLOCK_TIME_IS_VALID (frame->dts) && !seen_none) {\n-    frame->dts = min_ts;\n-    GST_DEBUG_OBJECT (encoder,\n-        \"no valid DTS, using oldest PTS %\" GST_TIME_FORMAT,\n-        GST_TIME_ARGS (frame->pts));\n-  }\n-}\n-\n-static void\n-gst_video_encoder_send_header_unlocked (GstVideoEncoder * encoder,\n-    gboolean * discont, gboolean key_unit)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-\n-  if (G_UNLIKELY (priv->new_headers)) {\n-    GList *tmp;\n-\n-    GST_DEBUG_OBJECT (encoder, \"Sending headers\");\n-\n-    \/* First make all buffers metadata-writable *\/\n-    for (tmp = priv->headers; tmp; tmp = tmp->next) {\n-      GstBuffer *tmpbuf = GST_BUFFER (tmp->data);\n-\n-      tmp->data = tmpbuf = gst_buffer_make_writable (tmpbuf);\n-\n-      GST_OBJECT_LOCK (encoder);\n-      priv->bytes += gst_buffer_get_size (tmpbuf);\n-      GST_OBJECT_UNLOCK (encoder);\n-\n-      if (G_UNLIKELY (key_unit)) {\n-        key_unit = FALSE;\n-        GST_BUFFER_FLAG_UNSET (tmpbuf, GST_BUFFER_FLAG_DELTA_UNIT);\n-      } else {\n-        GST_BUFFER_FLAG_SET (tmpbuf, GST_BUFFER_FLAG_DELTA_UNIT);\n-      }\n-\n-      if (G_UNLIKELY (*discont)) {\n-        GST_LOG_OBJECT (encoder, \"marking discont\");\n-        GST_BUFFER_FLAG_SET (tmpbuf, GST_BUFFER_FLAG_DISCONT);\n-        *discont = FALSE;\n-      } else {\n-        GST_BUFFER_FLAG_UNSET (tmpbuf, GST_BUFFER_FLAG_DISCONT);\n-      }\n-\n-      gst_pad_push (encoder->srcpad, gst_buffer_ref (tmpbuf));\n-    }\n-    priv->new_headers = FALSE;\n-  }\n-}\n-\n-static void\n-gst_video_encoder_transform_meta_unlocked (GstVideoEncoder * encoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstVideoEncoderClass *encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  if (encoder_class->transform_meta) {\n-    if (G_LIKELY (frame->input_buffer)) {\n-      CopyMetaData data;\n-\n-      data.encoder = encoder;\n-      data.frame = frame;\n-      gst_buffer_foreach_meta (frame->input_buffer, foreach_metadata, &data);\n-    } else {\n-      GST_FIXME_OBJECT (encoder,\n-          \"Can't copy metadata because input frame disappeared\");\n-    }\n-  }\n-}\n-\n-static void\n-gst_video_encoder_send_key_unit_unlocked (GstVideoEncoder * encoder,\n-    GstVideoCodecFrame * frame, gboolean * send_headers)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GstClockTime stream_time, running_time;\n-  GstEvent *ev;\n-  GList *l;\n-  GQueue matching_fevt = G_QUEUE_INIT;\n-  ForcedKeyUnitEvent *fevt;\n-\n-  running_time =\n-      gst_segment_to_running_time (&encoder->output_segment, GST_FORMAT_TIME,\n-      frame->pts);\n-\n-  GST_OBJECT_LOCK (encoder);\n-  for (l = priv->force_key_unit.head; l;) {\n-    fevt = l->data;\n-\n-    \/* Skip non-pending keyunits *\/\n-    if (!fevt->pending) {\n-      l = l->next;\n-      continue;\n-    }\n-\n-    \/* Exact match using the frame id *\/\n-    if (frame->system_frame_number == fevt->frame_id) {\n-      GList *next = l->next;\n-      g_queue_push_tail (&matching_fevt, fevt);\n-      g_queue_delete_link (&priv->force_key_unit, l);\n-      l = next;\n-      continue;\n-    }\n-\n-    \/* Simple case, keyunit ASAP *\/\n-    if (fevt->running_time == GST_CLOCK_TIME_NONE) {\n-      GList *next = l->next;\n-      g_queue_push_tail (&matching_fevt, fevt);\n-      g_queue_delete_link (&priv->force_key_unit, l);\n-      l = next;\n-      continue;\n-    }\n-\n-    \/* Event for before this frame *\/\n-    if (fevt->running_time <= running_time) {\n-      GList *next = l->next;\n-      g_queue_push_tail (&matching_fevt, fevt);\n-      g_queue_delete_link (&priv->force_key_unit, l);\n-      l = next;\n-      continue;\n-    }\n-\n-    \/* Otherwise all following events are in the future *\/\n-    break;\n-  }\n-\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  while ((fevt = g_queue_pop_head (&matching_fevt))) {\n-    stream_time =\n-        gst_segment_to_stream_time (&encoder->output_segment, GST_FORMAT_TIME,\n-        frame->pts);\n-\n-    ev = gst_video_event_new_downstream_force_key_unit\n-        (frame->pts, stream_time, running_time, fevt->all_headers, fevt->count);\n-\n-    gst_video_encoder_push_event (encoder, ev);\n-\n-    if (fevt->all_headers)\n-      *send_headers = TRUE;\n-\n-    GST_DEBUG_OBJECT (encoder,\n-        \"Forced key unit: running-time %\" GST_TIME_FORMAT\n-        \", all_headers %d, count %u\",\n-        GST_TIME_ARGS (running_time), fevt->all_headers, fevt->count);\n-    forced_key_unit_event_free (fevt);\n-  }\n-}\n-\n-\/**\n- * gst_video_encoder_finish_frame:\n- * @encoder: a #GstVideoEncoder\n- * @frame: (transfer full): an encoded #GstVideoCodecFrame\n- *\n- * @frame must have a valid encoded data buffer, whose metadata fields\n- * are then appropriately set according to frame data or no buffer at\n- * all if the frame should be dropped.\n- * It is subsequently pushed downstream or provided to @pre_push.\n- * In any case, the frame is considered finished and released.\n- *\n- * After calling this function the output buffer of the frame is to be\n- * considered read-only. This function will also change the metadata\n- * of the buffer.\n- *\n- * Returns: a #GstFlowReturn resulting from sending data downstream\n- *\/\n-GstFlowReturn\n-gst_video_encoder_finish_frame (GstVideoEncoder * encoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-  GstVideoEncoderClass *encoder_class;\n-  gboolean send_headers = FALSE;\n-  gboolean key_unit = FALSE;\n-  gboolean discont = FALSE;\n-  GstBuffer *buffer;\n-\n-  g_return_val_if_fail (frame, GST_FLOW_ERROR);\n-\n-  discont = (frame->presentation_frame_number == 0\n-      && frame->abidata.ABI.num_subframes == 0);\n-\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_LOG_OBJECT (encoder,\n-      \"finish frame fpn %d sync point: %d\", frame->presentation_frame_number,\n-      GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame));\n-\n-  GST_LOG_OBJECT (encoder, \"frame PTS %\" GST_TIME_FORMAT\n-      \", DTS %\" GST_TIME_FORMAT, GST_TIME_ARGS (frame->pts),\n-      GST_TIME_ARGS (frame->dts));\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-\n-  ret = gst_video_encoder_can_push_unlocked (encoder);\n-  if (ret != GST_FLOW_OK)\n-    goto done;\n-\n-  if (frame->abidata.ABI.num_subframes == 0)\n-    gst_video_encoder_push_pending_unlocked (encoder, frame);\n-\n-  \/* no buffer data means this frame is skipped\/dropped *\/\n-  if (!frame->output_buffer) {\n-    gst_video_encoder_drop_frame (encoder, frame);\n-    goto done;\n-  }\n-\n-  priv->processed++;\n-\n-  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame) && priv->force_key_unit.head)\n-    gst_video_encoder_send_key_unit_unlocked (encoder, frame, &send_headers);\n-\n-  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame)\n-      && frame->abidata.ABI.num_subframes == 0) {\n-    priv->distance_from_sync = 0;\n-    key_unit = TRUE;\n-    \/* For keyframes, DTS = PTS, if encoder doesn't decide otherwise *\/\n-    if (!GST_CLOCK_TIME_IS_VALID (frame->dts)) {\n-      frame->dts = frame->pts;\n-    }\n-    priv->last_key_unit =\n-        gst_segment_to_running_time (&encoder->output_segment, GST_FORMAT_TIME,\n-        frame->pts);\n-  }\n-\n-  gst_video_encoder_infer_dts_unlocked (encoder, frame);\n-\n-  frame->distance_from_sync = priv->distance_from_sync;\n-  priv->distance_from_sync++;\n-\n-  \/* We need a writable buffer for the metadata changes below *\/\n-  frame->output_buffer = gst_buffer_make_writable (frame->output_buffer);\n-\n-  GST_BUFFER_PTS (frame->output_buffer) = frame->pts;\n-  GST_BUFFER_DTS (frame->output_buffer) = frame->dts;\n-  GST_BUFFER_DURATION (frame->output_buffer) = frame->duration;\n-\n-  \/* At this stage we have a full frame in subframe use case ,\n-   * let's mark it to enabled some latency optimization\n-   *  in some uses cases like RTP. *\/\n-\n-  GST_BUFFER_FLAG_SET (frame->output_buffer, GST_VIDEO_BUFFER_FLAG_MARKER);\n-\n-  GST_OBJECT_LOCK (encoder);\n-  \/* update rate estimate *\/\n-  priv->bytes += gst_buffer_get_size (frame->output_buffer);\n-  if (GST_CLOCK_TIME_IS_VALID (frame->duration)) {\n-    priv->time += frame->duration;\n-  } else {\n-    \/* better none than nothing valid *\/\n-    priv->time = GST_CLOCK_TIME_NONE;\n-  }\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  if (G_UNLIKELY (send_headers))\n-    priv->new_headers = TRUE;\n-\n-  gst_video_encoder_send_header_unlocked (encoder, &discont, key_unit);\n-\n-  if (key_unit) {\n-    GST_BUFFER_FLAG_UNSET (frame->output_buffer, GST_BUFFER_FLAG_DELTA_UNIT);\n-  } else {\n-    GST_BUFFER_FLAG_SET (frame->output_buffer, GST_BUFFER_FLAG_DELTA_UNIT);\n-  }\n-\n-  if (G_UNLIKELY (discont)) {\n-    GST_LOG_OBJECT (encoder, \"marking discont\");\n-    GST_BUFFER_FLAG_SET (frame->output_buffer, GST_BUFFER_FLAG_DISCONT);\n-  }\n-\n-  if (encoder_class->pre_push)\n-    ret = encoder_class->pre_push (encoder, frame);\n-\n-  gst_video_encoder_transform_meta_unlocked (encoder, frame);\n-\n-  \/* Get an additional ref to the buffer, which is going to be pushed\n-   * downstream, the original ref is owned by the frame *\/\n-  if (ret == GST_FLOW_OK)\n-    buffer = gst_buffer_ref (frame->output_buffer);\n-\n-  \/* Release frame so the buffer is writable when we push it downstream\n-   * if possible, i.e. if the subclass does not hold additional references\n-   * to the frame\n-   *\/\n-  gst_video_encoder_release_frame (encoder, frame);\n-  frame = NULL;\n-\n-  if (ret == GST_FLOW_OK) {\n-    GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-    ret = gst_pad_push (encoder->srcpad, buffer);\n-    GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  }\n-\n-done:\n-  \/* handed out *\/\n-  if (frame)\n-    gst_video_encoder_release_frame (encoder, frame);\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_encoder_finish_subframe:\n- * @encoder: a #GstVideoEncoder\n- * @frame: (transfer none): a #GstVideoCodecFrame being encoded\n- *\n- * If multiple subframes are produced for one input frame then use this method\n- * for each subframe, except for the last one. Before calling this function,\n- * you need to fill frame->output_buffer with the encoded buffer to push.\n-\n- * You must call #gst_video_encoder_finish_frame() for the last sub-frame\n- * to tell the encoder that the frame has been fully encoded.\n- *\n- * This function will change the metadata of @frame and frame->output_buffer\n- * will be pushed downstream.\n- *\n- * Returns: a #GstFlowReturn resulting from pushing the buffer downstream.\n- *\n- * Since: 1.18\n- *\/\n-GstFlowReturn\n-gst_video_encoder_finish_subframe (GstVideoEncoder * encoder,\n-    GstVideoCodecFrame * frame)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GstVideoEncoderClass *encoder_class;\n-  GstFlowReturn ret = GST_FLOW_OK;\n-  GstBuffer *subframe_buffer = NULL;\n-  gboolean discont = FALSE;\n-  gboolean send_headers = FALSE;\n-  gboolean key_unit = FALSE;\n-\n-  g_return_val_if_fail (frame, GST_FLOW_ERROR);\n-  g_return_val_if_fail (frame->output_buffer, GST_FLOW_ERROR);\n-\n-  subframe_buffer = frame->output_buffer;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  discont = (frame->presentation_frame_number == 0\n-      && frame->abidata.ABI.num_subframes == 0);\n-\n-  encoder_class = GST_VIDEO_ENCODER_GET_CLASS (encoder);\n-\n-  GST_LOG_OBJECT (encoder,\n-      \"finish subframe %u of frame fpn %u PTS %\" GST_TIME_FORMAT \", DTS %\"\n-      GST_TIME_FORMAT \" sync point: %d\", frame->abidata.ABI.num_subframes,\n-      frame->presentation_frame_number, GST_TIME_ARGS (frame->pts),\n-      GST_TIME_ARGS (frame->dts), GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame));\n-\n-  ret = gst_video_encoder_can_push_unlocked (encoder);\n-  if (ret != GST_FLOW_OK)\n-    goto done;\n-\n-  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame) && priv->force_key_unit.head)\n-    gst_video_encoder_send_key_unit_unlocked (encoder, frame, &send_headers);\n-\n-  \/* Push pending events only for the first subframe ie segment event.\n-   * Push new incoming events on finish_frame otherwise.\n-   *\/\n-  if (frame->abidata.ABI.num_subframes == 0)\n-    gst_video_encoder_push_pending_unlocked (encoder, frame);\n-\n-  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame)\n-      && frame->abidata.ABI.num_subframes == 0) {\n-    priv->distance_from_sync = 0;\n-    key_unit = TRUE;\n-    \/* For keyframes, DTS = PTS, if encoder doesn't decide otherwise *\/\n-    if (!GST_CLOCK_TIME_IS_VALID (frame->dts)) {\n-      frame->dts = frame->pts;\n-    }\n-    priv->last_key_unit =\n-        gst_segment_to_running_time (&encoder->output_segment, GST_FORMAT_TIME,\n-        frame->pts);\n-  }\n-\n-  gst_video_encoder_infer_dts_unlocked (encoder, frame);\n-\n-  \/* We need a writable buffer for the metadata changes below *\/\n-  subframe_buffer = gst_buffer_make_writable (subframe_buffer);\n-\n-  GST_BUFFER_PTS (subframe_buffer) = frame->pts;\n-  GST_BUFFER_DTS (subframe_buffer) = frame->dts;\n-  GST_BUFFER_DURATION (subframe_buffer) = frame->duration;\n-\n-  GST_OBJECT_LOCK (encoder);\n-  \/* update rate estimate *\/\n-  priv->bytes += gst_buffer_get_size (subframe_buffer);\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  if (G_UNLIKELY (send_headers))\n-    priv->new_headers = TRUE;\n-\n-  gst_video_encoder_send_header_unlocked (encoder, &discont, key_unit);\n-\n-  if (key_unit) {\n-    GST_BUFFER_FLAG_UNSET (subframe_buffer, GST_BUFFER_FLAG_DELTA_UNIT);\n-  } else {\n-    GST_BUFFER_FLAG_SET (subframe_buffer, GST_BUFFER_FLAG_DELTA_UNIT);\n-  }\n-\n-  if (G_UNLIKELY (discont)) {\n-    GST_LOG_OBJECT (encoder, \"marking discont buffer: %\" GST_PTR_FORMAT,\n-        subframe_buffer);\n-    GST_BUFFER_FLAG_SET (subframe_buffer, GST_BUFFER_FLAG_DISCONT);\n-  }\n-\n-  if (encoder_class->pre_push) {\n-    ret = encoder_class->pre_push (encoder, frame);\n-  }\n-\n-  gst_video_encoder_transform_meta_unlocked (encoder, frame);\n-\n-  if (ret == GST_FLOW_OK) {\n-    GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-    ret = gst_pad_push (encoder->srcpad, subframe_buffer);\n-    subframe_buffer = NULL;\n-    GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  }\n-\n-done:\n-  frame->abidata.ABI.num_subframes++;\n-  if (subframe_buffer)\n-    gst_buffer_unref (subframe_buffer);\n-  frame->output_buffer = NULL;\n-\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return ret;\n-}\n-\n-\/**\n- * gst_video_encoder_get_output_state:\n- * @encoder: a #GstVideoEncoder\n- *\n- * Get the current #GstVideoCodecState\n- *\n- * Returns: (transfer full): #GstVideoCodecState describing format of video data.\n- *\/\n-GstVideoCodecState *\n-gst_video_encoder_get_output_state (GstVideoEncoder * encoder)\n-{\n-  GstVideoCodecState *state;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  state = gst_video_codec_state_ref (encoder->priv->output_state);\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return state;\n-}\n-\n-\/**\n- * gst_video_encoder_set_output_state:\n- * @encoder: a #GstVideoEncoder\n- * @caps: (transfer full): the #GstCaps to use for the output\n- * @reference: (allow-none) (transfer none): An optional reference @GstVideoCodecState\n- *\n- * Creates a new #GstVideoCodecState with the specified caps as the output state\n- * for the encoder.\n- * Any previously set output state on @encoder will be replaced by the newly\n- * created one.\n- *\n- * The specified @caps should not contain any resolution, pixel-aspect-ratio,\n- * framerate, codec-data, .... Those should be specified instead in the returned\n- * #GstVideoCodecState.\n- *\n- * If the subclass wishes to copy over existing fields (like pixel aspect ratio,\n- * or framerate) from an existing #GstVideoCodecState, it can be provided as a\n- * @reference.\n- *\n- * If the subclass wishes to override some fields from the output state (like\n- * pixel-aspect-ratio or framerate) it can do so on the returned #GstVideoCodecState.\n- *\n- * The new output state will only take effect (set on pads and buffers) starting\n- * from the next call to #gst_video_encoder_finish_frame().\n- *\n- * Returns: (transfer full): the newly configured output state.\n- *\/\n-GstVideoCodecState *\n-gst_video_encoder_set_output_state (GstVideoEncoder * encoder, GstCaps * caps,\n-    GstVideoCodecState * reference)\n-{\n-  GstVideoEncoderPrivate *priv = encoder->priv;\n-  GstVideoCodecState *state;\n-\n-  g_return_val_if_fail (caps != NULL, NULL);\n-\n-  state = _new_output_state (caps, reference);\n-  if (!state)\n-    return NULL;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  if (priv->output_state)\n-    gst_video_codec_state_unref (priv->output_state);\n-  priv->output_state = gst_video_codec_state_ref (state);\n-\n-  if (priv->output_state != NULL && priv->output_state->info.fps_n > 0) {\n-    priv->qos_frame_duration =\n-        gst_util_uint64_scale (GST_SECOND, priv->output_state->info.fps_d,\n-        priv->output_state->info.fps_n);\n-  } else {\n-    priv->qos_frame_duration = 0;\n-  }\n-\n-  priv->output_state_changed = TRUE;\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return state;\n-}\n-\n-\/**\n- * gst_video_encoder_set_latency:\n- * @encoder: a #GstVideoEncoder\n- * @min_latency: minimum latency\n- * @max_latency: maximum latency\n- *\n- * Informs baseclass of encoding latency.\n- *\/\n-void\n-gst_video_encoder_set_latency (GstVideoEncoder * encoder,\n-    GstClockTime min_latency, GstClockTime max_latency)\n-{\n-  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (min_latency));\n-  g_return_if_fail (max_latency >= min_latency);\n-\n-  GST_OBJECT_LOCK (encoder);\n-  encoder->priv->min_latency = min_latency;\n-  encoder->priv->max_latency = max_latency;\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  gst_element_post_message (GST_ELEMENT_CAST (encoder),\n-      gst_message_new_latency (GST_OBJECT_CAST (encoder)));\n-}\n-\n-\/**\n- * gst_video_encoder_get_latency:\n- * @encoder: a #GstVideoEncoder\n- * @min_latency: (out) (allow-none): address of variable in which to store the\n- *     configured minimum latency, or %NULL\n- * @max_latency: (out) (allow-none): address of variable in which to store the\n- *     configured maximum latency, or %NULL\n- *\n- * Query the configured encoding latency. Results will be returned via\n- * @min_latency and @max_latency.\n- *\/\n-void\n-gst_video_encoder_get_latency (GstVideoEncoder * encoder,\n-    GstClockTime * min_latency, GstClockTime * max_latency)\n-{\n-  GST_OBJECT_LOCK (encoder);\n-  if (min_latency)\n-    *min_latency = encoder->priv->min_latency;\n-  if (max_latency)\n-    *max_latency = encoder->priv->max_latency;\n-  GST_OBJECT_UNLOCK (encoder);\n-}\n-\n-\/**\n- * gst_video_encoder_get_oldest_frame:\n- * @encoder: a #GstVideoEncoder\n- *\n- * Get the oldest unfinished pending #GstVideoCodecFrame\n- *\n- * Returns: (transfer full): oldest unfinished pending #GstVideoCodecFrame\n- *\/\n-GstVideoCodecFrame *\n-gst_video_encoder_get_oldest_frame (GstVideoEncoder * encoder)\n-{\n-  GstVideoCodecFrame *frame = NULL;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  if (encoder->priv->frames.head)\n-    frame = gst_video_codec_frame_ref (encoder->priv->frames.head->data);\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return (GstVideoCodecFrame *) frame;\n-}\n-\n-\/**\n- * gst_video_encoder_get_frame:\n- * @encoder: a #GstVideoEncoder\n- * @frame_number: system_frame_number of a frame\n- *\n- * Get a pending unfinished #GstVideoCodecFrame\n- *\n- * Returns: (transfer full): pending unfinished #GstVideoCodecFrame identified by @frame_number.\n- *\/\n-GstVideoCodecFrame *\n-gst_video_encoder_get_frame (GstVideoEncoder * encoder, int frame_number)\n-{\n-  GList *g;\n-  GstVideoCodecFrame *frame = NULL;\n-\n-  GST_DEBUG_OBJECT (encoder, \"frame_number : %d\", frame_number);\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  for (g = encoder->priv->frames.head; g; g = g->next) {\n-    GstVideoCodecFrame *tmp = g->data;\n-\n-    if (tmp->system_frame_number == frame_number) {\n-      frame = gst_video_codec_frame_ref (tmp);\n-      break;\n-    }\n-  }\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return frame;\n-}\n-\n-\/**\n- * gst_video_encoder_get_frames:\n- * @encoder: a #GstVideoEncoder\n- *\n- * Get all pending unfinished #GstVideoCodecFrame\n- *\n- * Returns: (transfer full) (element-type GstVideoCodecFrame): pending unfinished #GstVideoCodecFrame.\n- *\/\n-GList *\n-gst_video_encoder_get_frames (GstVideoEncoder * encoder)\n-{\n-  GList *frames;\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  frames =\n-      g_list_copy_deep (encoder->priv->frames.head,\n-      (GCopyFunc) gst_video_codec_frame_ref, NULL);\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-\n-  return frames;\n-}\n-\n-\/**\n- * gst_video_encoder_merge_tags:\n- * @encoder: a #GstVideoEncoder\n- * @tags: (allow-none): a #GstTagList to merge, or NULL to unset\n- *     previously-set tags\n- * @mode: the #GstTagMergeMode to use, usually #GST_TAG_MERGE_REPLACE\n- *\n- * Sets the video encoder tags and how they should be merged with any\n- * upstream stream tags. This will override any tags previously-set\n- * with gst_video_encoder_merge_tags().\n- *\n- * Note that this is provided for convenience, and the subclass is\n- * not required to use this and can still do tag handling on its own.\n- *\n- * MT safe.\n- *\/\n-void\n-gst_video_encoder_merge_tags (GstVideoEncoder * encoder,\n-    const GstTagList * tags, GstTagMergeMode mode)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_ENCODER (encoder));\n-  g_return_if_fail (tags == NULL || GST_IS_TAG_LIST (tags));\n-  g_return_if_fail (tags == NULL || mode != GST_TAG_MERGE_UNDEFINED);\n-\n-  GST_VIDEO_ENCODER_STREAM_LOCK (encoder);\n-  if (encoder->priv->tags != tags) {\n-    if (encoder->priv->tags) {\n-      gst_tag_list_unref (encoder->priv->tags);\n-      encoder->priv->tags = NULL;\n-      encoder->priv->tags_merge_mode = GST_TAG_MERGE_APPEND;\n-    }\n-    if (tags) {\n-      encoder->priv->tags = gst_tag_list_ref ((GstTagList *) tags);\n-      encoder->priv->tags_merge_mode = mode;\n-    }\n-\n-    GST_DEBUG_OBJECT (encoder, \"setting encoder tags to %\" GST_PTR_FORMAT,\n-        tags);\n-    encoder->priv->tags_changed = TRUE;\n-  }\n-  GST_VIDEO_ENCODER_STREAM_UNLOCK (encoder);\n-}\n-\n-\/**\n- * gst_video_encoder_get_allocator:\n- * @encoder: a #GstVideoEncoder\n- * @allocator: (out) (allow-none) (transfer full): the #GstAllocator\n- * used\n- * @params: (out) (allow-none) (transfer full): the\n- * #GstAllocationParams of @allocator\n- *\n- * Lets #GstVideoEncoder sub-classes to know the memory @allocator\n- * used by the base class and its @params.\n- *\n- * Unref the @allocator after use it.\n- *\/\n-void\n-gst_video_encoder_get_allocator (GstVideoEncoder * encoder,\n-    GstAllocator ** allocator, GstAllocationParams * params)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_ENCODER (encoder));\n-\n-  if (allocator)\n-    *allocator = encoder->priv->allocator ?\n-        gst_object_ref (encoder->priv->allocator) : NULL;\n-\n-  if (params)\n-    *params = encoder->priv->params;\n-}\n-\n-\/**\n- * gst_video_encoder_set_min_pts:\n- * @encoder: a #GstVideoEncoder\n- * @min_pts: minimal PTS that will be passed to handle_frame\n- *\n- * Request minimal value for PTS passed to handle_frame.\n- *\n- * For streams with reordered frames this can be used to ensure that there\n- * is enough time to accommodate first DTS, which may be less than first PTS\n- *\n- * Since: 1.6\n- *\/\n-void\n-gst_video_encoder_set_min_pts (GstVideoEncoder * encoder, GstClockTime min_pts)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_ENCODER (encoder));\n-  encoder->priv->min_pts = min_pts;\n-  encoder->priv->time_adjustment = GST_CLOCK_TIME_NONE;\n-}\n-\n-\/**\n- * gst_video_encoder_get_max_encode_time:\n- * @encoder: a #GstVideoEncoder\n- * @frame: a #GstVideoCodecFrame\n- *\n- * Determines maximum possible encoding time for @frame that will\n- * allow it to encode and arrive in time (as determined by QoS events).\n- * In particular, a negative result means encoding in time is no longer possible\n- * and should therefore occur as soon\/skippy as possible.\n- *\n- * If no QoS events have been received from downstream, or if\n- * #GstVideoEncoder:qos is disabled this function returns #G_MAXINT64.\n- *\n- * Returns: max decoding time.\n- * Since: 1.14\n- *\/\n-GstClockTimeDiff\n-gst_video_encoder_get_max_encode_time (GstVideoEncoder *\n-    encoder, GstVideoCodecFrame * frame)\n-{\n-  GstClockTimeDiff deadline;\n-  GstClockTime earliest_time;\n-\n-  if (!g_atomic_int_get (&encoder->priv->qos_enabled))\n-    return G_MAXINT64;\n-\n-  GST_OBJECT_LOCK (encoder);\n-  earliest_time = encoder->priv->earliest_time;\n-  if (GST_CLOCK_TIME_IS_VALID (earliest_time)\n-      && GST_CLOCK_TIME_IS_VALID (frame->deadline))\n-    deadline = GST_CLOCK_DIFF (earliest_time, frame->deadline);\n-  else\n-    deadline = G_MAXINT64;\n-\n-  GST_LOG_OBJECT (encoder, \"earliest %\" GST_TIME_FORMAT\n-      \", frame deadline %\" GST_TIME_FORMAT \", deadline %\" GST_STIME_FORMAT,\n-      GST_TIME_ARGS (earliest_time), GST_TIME_ARGS (frame->deadline),\n-      GST_STIME_ARGS (deadline));\n-\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  return deadline;\n-}\n-\n-\/**\n- * gst_video_encoder_set_qos_enabled:\n- * @encoder: the encoder\n- * @enabled: the new qos value.\n- *\n- * Configures @encoder to handle Quality-of-Service events from downstream.\n- * Since: 1.14\n- *\/\n-void\n-gst_video_encoder_set_qos_enabled (GstVideoEncoder * encoder, gboolean enabled)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_ENCODER (encoder));\n-\n-  g_atomic_int_set (&encoder->priv->qos_enabled, enabled);\n-}\n-\n-\/**\n- * gst_video_encoder_is_qos_enabled:\n- * @encoder: the encoder\n- *\n- * Checks if @encoder is currently configured to handle Quality-of-Service\n- * events from downstream.\n- *\n- * Returns: %TRUE if the encoder is configured to perform Quality-of-Service.\n- * Since: 1.14\n- *\/\n-gboolean\n-gst_video_encoder_is_qos_enabled (GstVideoEncoder * encoder)\n-{\n-  gboolean res;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_ENCODER (encoder), FALSE);\n-\n-  res = g_atomic_int_get (&encoder->priv->qos_enabled);\n-\n-  return res;\n-}\n-\n-\/**\n- * gst_video_encoder_set_min_force_key_unit_interval:\n- * @encoder: the encoder\n- * @interval: minimum interval\n- *\n- * Sets the minimum interval for requesting keyframes based on force-keyunit\n- * events. Setting this to 0 will allow to handle every event, setting this to\n- * %GST_CLOCK_TIME_NONE causes force-keyunit events to be ignored.\n- *\n- * Since: 1.18\n- *\/\n-void\n-gst_video_encoder_set_min_force_key_unit_interval (GstVideoEncoder * encoder,\n-    GstClockTime interval)\n-{\n-  g_return_if_fail (GST_IS_VIDEO_ENCODER (encoder));\n-\n-  GST_OBJECT_LOCK (encoder);\n-  encoder->priv->min_force_key_unit_interval = interval;\n-  GST_OBJECT_UNLOCK (encoder);\n-}\n-\n-\/**\n- * gst_video_encoder_get_min_force_key_unit_interval:\n- * @encoder: the encoder\n- *\n- * Returns the minimum force-keyunit interval, see gst_video_encoder_set_min_force_key_unit_interval()\n- * for more details.\n- *\n- * Returns: the minimum force-keyunit interval\n- *\n- * Since: 1.18\n- *\/\n-GstClockTime\n-gst_video_encoder_get_min_force_key_unit_interval (GstVideoEncoder * encoder)\n-{\n-  GstClockTime interval;\n-\n-  g_return_val_if_fail (GST_IS_VIDEO_ENCODER (encoder), GST_CLOCK_TIME_NONE);\n-\n-  GST_OBJECT_LOCK (encoder);\n-  interval = encoder->priv->min_force_key_unit_interval;\n-  GST_OBJECT_UNLOCK (encoder);\n-\n-  return interval;\n-}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideoencoder.c","additions":0,"deletions":3206,"binary":false,"changes":3206,"status":"deleted"},{"patch":"@@ -1,395 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2008 David Schleef <ds@schleef.org>\n- * Copyright (C) 2011 Mark Nauwelaerts <mark.nauwelaerts@collabora.co.uk>.\n- * Copyright (C) 2011 Nokia Corporation. All rights reserved.\n- *   Contact: Stefan Kost <stefan.kost@nokia.com>\n- * Copyright (C) 2012 Collabora Ltd.\n- *  Author : Edward Hervey <edward@collabora.com>\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-#ifndef _GST_VIDEO_ENCODER_H_\n-#define _GST_VIDEO_ENCODER_H_\n-\n-#include <gst\/video\/gstvideoutils.h>\n-\n-G_BEGIN_DECLS\n-\n-#define GST_TYPE_VIDEO_ENCODER \\\n-  (gst_video_encoder_get_type())\n-#define GST_VIDEO_ENCODER(obj) \\\n-  (G_TYPE_CHECK_INSTANCE_CAST((obj),GST_TYPE_VIDEO_ENCODER,GstVideoEncoder))\n-#define GST_VIDEO_ENCODER_CLASS(klass) \\\n-  (G_TYPE_CHECK_CLASS_CAST((klass),GST_TYPE_VIDEO_ENCODER,GstVideoEncoderClass))\n-#define GST_VIDEO_ENCODER_GET_CLASS(obj) \\\n-  (G_TYPE_INSTANCE_GET_CLASS((obj),GST_TYPE_VIDEO_ENCODER,GstVideoEncoderClass))\n-#define GST_IS_VIDEO_ENCODER(obj) \\\n-  (G_TYPE_CHECK_INSTANCE_TYPE((obj),GST_TYPE_VIDEO_ENCODER))\n-#define GST_IS_VIDEO_ENCODER_CLASS(klass) \\\n-  (G_TYPE_CHECK_CLASS_TYPE((klass),GST_TYPE_VIDEO_ENCODER))\n-#define GST_VIDEO_ENCODER_CAST(enc) ((GstVideoEncoder*)enc)\n-\n-\/**\n- * GST_VIDEO_ENCODER_SINK_NAME:\n- *\n- * The name of the templates for the sink pad.\n- *\/\n-#define GST_VIDEO_ENCODER_SINK_NAME    \"sink\"\n-\/**\n- * GST_VIDEO_ENCODER_SRC_NAME:\n- *\n- * The name of the templates for the source pad.\n- *\/\n-#define GST_VIDEO_ENCODER_SRC_NAME     \"src\"\n-\n-\/**\n- * GST_VIDEO_ENCODER_SRC_PAD:\n- * @obj: a #GstVideoEncoder\n- *\n- * Gives the pointer to the source #GstPad object of the element.\n- *\/\n-#define GST_VIDEO_ENCODER_SRC_PAD(obj)         (((GstVideoEncoder *) (obj))->srcpad)\n-\n-\/**\n- * GST_VIDEO_ENCODER_SINK_PAD:\n- * @obj: a #GstVideoEncoder\n- *\n- * Gives the pointer to the sink #GstPad object of the element.\n- *\/\n-#define GST_VIDEO_ENCODER_SINK_PAD(obj)        (((GstVideoEncoder *) (obj))->sinkpad)\n-\n-\/**\n- * GST_VIDEO_ENCODER_FLOW_NEED_DATA:\n- *\n- * Returned while parsing to indicate more data is needed.\n- **\/\n-#define GST_VIDEO_ENCODER_FLOW_NEED_DATA GST_FLOW_CUSTOM_SUCCESS\n-\n-\/**\n- * GST_VIDEO_ENCODER_FLOW_DROPPED:\n- *\n- * Returned when the event\/buffer should be dropped.\n- *\n- * Deprecated: since 1.8. use gst_video_encoder_finish_frame with\n- * a %NULL frame->output_buffer to drop the frame instead.\n- *\/\n-#ifndef GST_DISABLE_DEPRECATED\n-#define GST_VIDEO_ENCODER_FLOW_DROPPED GST_FLOW_CUSTOM_SUCCESS_1\n-#endif\n-\n-\/**\n- * GST_VIDEO_ENCODER_INPUT_SEGMENT:\n- * @obj: base parse instance\n- *\n- * Gives the segment of the element.\n- *\/\n-#define GST_VIDEO_ENCODER_INPUT_SEGMENT(obj)     (GST_VIDEO_ENCODER_CAST (obj)->input_segment)\n-\n-\/**\n- * GST_VIDEO_ENCODER_OUTPUT_SEGMENT:\n- * @obj: base parse instance\n- *\n- * Gives the segment of the element.\n- *\/\n-#define GST_VIDEO_ENCODER_OUTPUT_SEGMENT(obj)     (GST_VIDEO_ENCODER_CAST (obj)->output_segment)\n-\n-\/**\n- * GST_VIDEO_ENCODER_STREAM_LOCK:\n- * @encoder: video encoder instance\n- *\n- * Obtain a lock to protect the encoder function from concurrent access.\n- *\/\n-#define GST_VIDEO_ENCODER_STREAM_LOCK(encoder) g_rec_mutex_lock (&GST_VIDEO_ENCODER (encoder)->stream_lock)\n-\n-\/**\n- * GST_VIDEO_ENCODER_STREAM_UNLOCK:\n- * @encoder: video encoder instance\n- *\n- * Release the lock that protects the encoder function from concurrent access.\n- *\/\n-#define GST_VIDEO_ENCODER_STREAM_UNLOCK(encoder) g_rec_mutex_unlock (&GST_VIDEO_ENCODER (encoder)->stream_lock)\n-\n-typedef struct _GstVideoEncoder GstVideoEncoder;\n-typedef struct _GstVideoEncoderPrivate GstVideoEncoderPrivate;\n-typedef struct _GstVideoEncoderClass GstVideoEncoderClass;\n-\n-\/**\n- * GstVideoEncoder:\n- *\n- * The opaque #GstVideoEncoder data structure.\n- *\/\n-struct _GstVideoEncoder\n-{\n-  \/*< private >*\/\n-  GstElement    element;\n-\n-  \/*< protected >*\/\n-  GstPad         *sinkpad;\n-  GstPad         *srcpad;\n-\n-  \/* protects all data processing, i.e. is locked\n-   * in the chain function, finish_frame and when\n-   * processing serialized events *\/\n-  GRecMutex stream_lock;\n-\n-  \/* MT-protected (with STREAM_LOCK) *\/\n-  GstSegment      input_segment;\n-  GstSegment      output_segment;\n-\n-  \/*< private >*\/\n-  GstVideoEncoderPrivate *priv;\n-\n-  gpointer padding[GST_PADDING_LARGE];\n-};\n-\n-\/**\n- * GstVideoEncoderClass:\n- * @open:           Optional.\n- *                  Called when the element changes to GST_STATE_READY.\n- *                  Allows opening external resources.\n- * @close:          Optional.\n- *                  Called when the element changes to GST_STATE_NULL.\n- *                  Allows closing external resources.\n- * @start:          Optional.\n- *                  Called when the element starts processing.\n- *                  Allows opening external resources.\n- * @stop:           Optional.\n- *                  Called when the element stops processing.\n- *                  Allows closing external resources.\n- * @set_format:     Optional.\n- *                  Notifies subclass of incoming data format.\n- *                  GstVideoCodecState fields have already been\n- *                  set according to provided caps.\n- * @handle_frame:   Provides input frame to subclass.\n- * @reset:          Optional.\n- *                  Allows subclass (encoder) to perform post-seek semantics reset.\n- *                  Deprecated.\n- * @finish:         Optional.\n- *                  Called to request subclass to dispatch any pending remaining\n- *                  data (e.g. at EOS).\n- * @pre_push:   Optional.\n- *                  Allows subclass to push frame downstream in whatever\n- *                  shape or form it deems appropriate.  If not provided,\n- *                  provided encoded frame data is simply pushed downstream.\n- * @getcaps:        Optional.\n- *                  Allows for a custom sink getcaps implementation (e.g.\n- *                  for multichannel input specification).  If not implemented,\n- *                  default returns gst_video_encoder_proxy_getcaps\n- *                  applied to sink template caps.\n- * @sink_event:     Optional.\n- *                  Event handler on the sink pad. This function should return\n- *                  TRUE if the event was handled and should be discarded\n- *                  (i.e. not unref'ed).\n- *                  Subclasses should chain up to the parent implementation to\n- *                  invoke the default handler.\n- * @src_event:      Optional.\n- *                  Event handler on the source pad. This function should return\n- *                  TRUE if the event was handled and should be discarded\n- *                  (i.e. not unref'ed).\n- *                  Subclasses should chain up to the parent implementation to\n- *                  invoke the default handler.\n- * @negotiate:      Optional.\n- *                  Negotiate with downstream and configure buffer pools, etc.\n- *                  Subclasses should chain up to the parent implementation to\n- *                  invoke the default handler.\n- * @decide_allocation: Optional.\n- *                     Setup the allocation parameters for allocating output\n- *                     buffers. The passed in query contains the result of the\n- *                     downstream allocation query.\n- *                     Subclasses should chain up to the parent implementation to\n- *                     invoke the default handler.\n- * @propose_allocation: Optional.\n- *                      Propose buffer allocation parameters for upstream elements.\n- *                      Subclasses should chain up to the parent implementation to\n- *                      invoke the default handler.\n- * @flush:              Optional.\n- *                      Flush all remaining data from the encoder without\n- *                      pushing it downstream. Since: 1.2\n- * @sink_query:     Optional.\n- *                  Query handler on the sink pad. This function should\n- *                  return TRUE if the query could be performed. Subclasses\n- *                  should chain up to the parent implementation to invoke the\n- *                  default handler. Since: 1.4\n- * @src_query:      Optional.\n- *                  Query handler on the source pad. This function should\n- *                  return TRUE if the query could be performed. Subclasses\n- *                  should chain up to the parent implementation to invoke the\n- *                  default handler. Since: 1.4\n- * @transform_meta: Optional. Transform the metadata on the input buffer to the\n- *                  output buffer. By default this method is copies all meta without\n- *                  tags and meta with only the \"video\" tag. subclasses can\n- *                  implement this method and return %TRUE if the metadata is to be\n- *                  copied. Since: 1.6\n- *\n- * Subclasses can override any of the available virtual methods or not, as\n- * needed. At minimum @handle_frame needs to be overridden, and @set_format\n- * and @get_caps are likely needed as well.\n- *\/\n-struct _GstVideoEncoderClass\n-{\n-  \/*< private >*\/\n-  GstElementClass  element_class;\n-\n-  \/*< public >*\/\n-  \/* virtual methods for subclasses *\/\n-  gboolean      (*open)         (GstVideoEncoder *encoder);\n-\n-  gboolean      (*close)        (GstVideoEncoder *encoder);\n-\n-  gboolean      (*start)        (GstVideoEncoder *encoder);\n-\n-  gboolean      (*stop)         (GstVideoEncoder *encoder);\n-\n-  gboolean      (*set_format)   (GstVideoEncoder *encoder,\n-         GstVideoCodecState *state);\n-\n-  GstFlowReturn (*handle_frame) (GstVideoEncoder *encoder,\n-         GstVideoCodecFrame *frame);\n-\n-  gboolean      (*reset)        (GstVideoEncoder *encoder,\n-         gboolean hard);\n-\n-  GstFlowReturn (*finish)       (GstVideoEncoder *encoder);\n-\n-  GstFlowReturn (*pre_push)     (GstVideoEncoder *encoder,\n-         GstVideoCodecFrame *frame);\n-\n-  GstCaps *     (*getcaps)      (GstVideoEncoder *enc,\n-                                 GstCaps *filter);\n-\n-  gboolean      (*sink_event)   (GstVideoEncoder *encoder,\n-         GstEvent *event);\n-\n-  gboolean      (*src_event)    (GstVideoEncoder *encoder,\n-         GstEvent *event);\n-\n-  gboolean      (*negotiate)    (GstVideoEncoder *encoder);\n-\n-  gboolean      (*decide_allocation)  (GstVideoEncoder *encoder, GstQuery *query);\n-\n-  gboolean      (*propose_allocation) (GstVideoEncoder * encoder,\n-                                       GstQuery * query);\n-  gboolean      (*flush)              (GstVideoEncoder *encoder);\n-\n-  gboolean      (*sink_query)     (GstVideoEncoder *encoder,\n-           GstQuery *query);\n-\n-  gboolean      (*src_query)      (GstVideoEncoder *encoder,\n-           GstQuery *query);\n-\n-  gboolean      (*transform_meta) (GstVideoEncoder *encoder,\n-                                   GstVideoCodecFrame *frame,\n-                                   GstMeta * meta);\n-\n-  \/*< private >*\/\n-  gpointer       _gst_reserved[GST_PADDING_LARGE-4];\n-};\n-\n-GST_VIDEO_API\n-GType                gst_video_encoder_get_type (void);\n-\n-GST_VIDEO_API\n-GstVideoCodecState*  gst_video_encoder_get_output_state (GstVideoEncoder *encoder);\n-\n-GST_VIDEO_API\n-GstVideoCodecState*  gst_video_encoder_set_output_state (GstVideoEncoder * encoder,\n-               GstCaps * caps,\n-               GstVideoCodecState * reference);\n-\n-GST_VIDEO_API\n-gboolean             gst_video_encoder_negotiate        (GstVideoEncoder * encoder);\n-\n-GST_VIDEO_API\n-GstVideoCodecFrame*  gst_video_encoder_get_frame        (GstVideoEncoder *encoder,\n-                     int frame_number);\n-\n-GST_VIDEO_API\n-GstVideoCodecFrame*  gst_video_encoder_get_oldest_frame (GstVideoEncoder *encoder);\n-\n-GST_VIDEO_API\n-GList *              gst_video_encoder_get_frames       (GstVideoEncoder *encoder);\n-\n-GST_VIDEO_API\n-GstBuffer *          gst_video_encoder_allocate_output_buffer (GstVideoEncoder * encoder,\n-                                                               gsize size);\n-\n-GST_VIDEO_API\n-GstFlowReturn        gst_video_encoder_allocate_output_frame  (GstVideoEncoder *encoder,\n-                           GstVideoCodecFrame *frame,\n-                                                               gsize size);\n-\n-GST_VIDEO_API\n-GstFlowReturn        gst_video_encoder_finish_frame (GstVideoEncoder *encoder,\n-                 GstVideoCodecFrame *frame);\n-\n-GST_VIDEO_API\n-GstFlowReturn        gst_video_encoder_finish_subframe (GstVideoEncoder * encoder,\n-                             GstVideoCodecFrame * frame);\n-\n-GST_VIDEO_API\n-GstCaps *            gst_video_encoder_proxy_getcaps (GstVideoEncoder * enc,\n-                  GstCaps         * caps,\n-                                                      GstCaps         * filter);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_set_latency (GstVideoEncoder *encoder,\n-                GstClockTime min_latency,\n-                GstClockTime max_latency);\n-\n-GST_VIDEO_API\n-void         gst_video_encoder_get_latency (GstVideoEncoder *encoder,\n-                GstClockTime *min_latency,\n-                GstClockTime *max_latency);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_set_headers (GstVideoEncoder *encoder,\n-                GList *headers);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_merge_tags  (GstVideoEncoder *encoder,\n-                                                    const GstTagList *tags,\n-                                                    GstTagMergeMode mode);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_get_allocator (GstVideoEncoder *encoder,\n-                                                      GstAllocator **allocator,\n-                                                      GstAllocationParams *params);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_set_min_pts(GstVideoEncoder *encoder, GstClockTime min_pts);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_set_qos_enabled (GstVideoEncoder * encoder, gboolean enabled);\n-\n-GST_VIDEO_API\n-gboolean             gst_video_encoder_is_qos_enabled (GstVideoEncoder * encoder);\n-\n-GST_VIDEO_API\n-GstClockTimeDiff     gst_video_encoder_get_max_encode_time (GstVideoEncoder *encoder, GstVideoCodecFrame * frame);\n-\n-GST_VIDEO_API\n-void                 gst_video_encoder_set_min_force_key_unit_interval (GstVideoEncoder * encoder,\n-                                                                        GstClockTime      interval);\n-GST_VIDEO_API\n-GstClockTime         gst_video_encoder_get_min_force_key_unit_interval (GstVideoEncoder * encoder);\n-\n-G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstVideoEncoder, gst_object_unref)\n-\n-G_END_DECLS\n-\n-#endif\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideoencoder.h","additions":0,"deletions":395,"binary":false,"changes":395,"status":"deleted"},{"patch":"@@ -163,1 +163,1 @@\n- * Returns: (transfer none): the #GstVideoMeta with lowest id (usually 0) or %NULL when there\n+ * Returns: (transfer none) (nullable): the #GstVideoMeta with lowest id (usually 0) or %NULL when there\n@@ -196,1 +196,1 @@\n- * Returns: (transfer none): the #GstVideoMeta with @id or %NULL when there is no such metadata\n+ * Returns: (transfer none) (nullable): the #GstVideoMeta with @id or %NULL when there is no such metadata\n@@ -397,0 +397,19 @@\n+static gboolean\n+gst_video_meta_is_alignment_valid (GstVideoAlignment * align)\n+{\n+  gint i;\n+\n+  g_return_val_if_fail (align != NULL, FALSE);\n+\n+  if (align->padding_top != 0 || align->padding_bottom != 0 ||\n+      align->padding_left != 0 || align->padding_right != 0)\n+    return TRUE;\n+\n+  for (i = 0; i < GST_VIDEO_MAX_PLANES; i++) {\n+    if (align->stride_align[i] != 0)\n+      return TRUE;\n+  }\n+\n+  return FALSE;\n+}\n+\n@@ -404,0 +423,9 @@\n+  if (!gst_video_meta_is_alignment_valid (&meta->alignment)) {\n+    GST_LOG (\"Set alignment on meta to all zero\");\n+\n+    \/* When alignment is invalid, no further check is needed,\n+       unless user wants to calculate the pitch for each plane. *\/\n+    if (!plane_size)\n+      return TRUE;\n+  }\n+\n@@ -927,1 +955,1 @@\n- * Returns: (transfer none): the #GstVideoRegionOfInterestMeta with @id or %NULL when there is\n+ * Returns: (transfer none) (nullable): the #GstVideoRegionOfInterestMeta with @id or %NULL when there is\n@@ -1181,1 +1209,1 @@\n- * Returns: (transfer none): the #GstVideoTimeCodeMeta on @buffer, or\n+ * Returns: (transfer none) (nullable): the #GstVideoTimeCodeMeta on @buffer, or\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideometa.c","additions":32,"deletions":4,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -276,0 +276,6 @@\n+    } else if (bsink->segment.rate < 0) {\n+      \/* The end time will be used for clock waiting time position\n+       * in case of revese playback, and unknown end time will result in\n+       * never waiting for clock (as if sync=false).\n+       * Returning timestamp here would be the best effort we can do *\/\n+      *end = timestamp;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideosink.c","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -84,2 +84,13 @@\n-  if (tc->frames >= fr && (tc->config.fps_n != 0 || tc->config.fps_d != 1))\n-    return FALSE;\n+  if (tc->config.fps_d > tc->config.fps_n) {\n+    guint64 s;\n+\n+    if (tc->frames > 0)\n+      return FALSE;\n+    \/* For less than 1 fps only certain second values are allowed *\/\n+    s = tc->seconds + (60 * (tc->minutes + (60 * tc->hours)));\n+    if ((s * tc->config.fps_n) % tc->config.fps_d != 0)\n+      return FALSE;\n+  } else {\n+    if (tc->frames >= fr && (tc->config.fps_n != 0 || tc->config.fps_d != 1))\n+      return FALSE;\n+  }\n@@ -87,2 +98,2 @@\n-  \/* We either need a specific X\/1001 framerate or otherwise an integer\n-   * framerate *\/\n+  \/* We need either a specific X\/1001 framerate, or less than 1 FPS,\n+   * otherwise an integer framerate. *\/\n@@ -91,1 +102,1 @@\n-        tc->config.fps_n != 24000)\n+        tc->config.fps_n != 24000 && tc->config.fps_n != 120000)\n@@ -93,1 +104,2 @@\n-  } else if (tc->config.fps_n % tc->config.fps_d != 0) {\n+  } else if (tc->config.fps_n >= tc->config.fps_d\n+      && tc->config.fps_n % tc->config.fps_d != 0) {\n@@ -97,2 +109,2 @@\n-  \/* We only support 30000\/1001 and 60000\/1001 as drop-frame framerates.\n-   * 24000\/1001 is *not* a drop-frame framerate! *\/\n+  \/* We support only 30000\/1001, 60000\/1001, and 120000\/1001 (see above) as\n+   * drop-frame framerates. 24000\/1001 is *not* a drop-frame framerate! *\/\n@@ -100,2 +112,1 @@\n-    if (tc->config.fps_d != 1001 || (tc->config.fps_n != 30000\n-            && tc->config.fps_n != 60000))\n+    if (tc->config.fps_d != 1001 || tc->config.fps_n == 24000)\n@@ -106,2 +117,3 @@\n-   * timecodes every minutes except for every tenth minute in case\n-   * of 30000\/1001 and the first four timecodes for 60000\/1001 *\/\n+   * timecodes every minute except for every tenth minute in case\n+   * of 30000\/1001, the first four timecodes for 60000\/1001,\n+   * and the first eight timecodes for 120000\/1001. *\/\n@@ -259,2 +271,0 @@\n-  guint64 frames;\n-  gboolean add_a_frame = FALSE;\n@@ -271,11 +281,2 @@\n-  \/* Note: This might be inaccurate for 1 frame\n-   * in case we have a drop frame timecode *\/\n-  frames =\n-      gst_util_uint64_scale_round (g_date_time_get_microsecond (dt) *\n-      G_GINT64_CONSTANT (1000), fps_n, fps_d * GST_SECOND);\n-  if (G_UNLIKELY (((frames == fps_n) && (fps_d == 1)) ||\n-          ((frames == fps_n \/ 1000) && (fps_d == 1001)))) {\n-    \/* Avoid invalid timecodes *\/\n-    frames--;\n-    add_a_frame = TRUE;\n-  }\n+  if (fps_d > fps_n) {\n+    guint64 hour, min, sec;\n@@ -283,3 +284,4 @@\n-  gst_video_time_code_init (tc, fps_n, fps_d, jam, flags,\n-      g_date_time_get_hour (dt), g_date_time_get_minute (dt),\n-      g_date_time_get_second (dt), frames, field_count);\n+    sec =\n+        g_date_time_get_second (dt) + (60 * (g_date_time_get_minute (dt) +\n+            (60 * g_date_time_get_hour (dt))));\n+    sec -= (sec * fps_n) % fps_d;\n@@ -287,5 +289,33 @@\n-  if (tc->config.flags & GST_VIDEO_TIME_CODE_FLAGS_DROP_FRAME) {\n-    guint df = (tc->config.fps_n + (tc->config.fps_d >> 1)) \/\n-        (15 * tc->config.fps_d);\n-    if (tc->minutes % 10 && tc->seconds == 0 && tc->frames < df) {\n-      tc->frames = df;\n+    min = sec \/ 60;\n+    sec = sec % 60;\n+    hour = min \/ 60;\n+    min = min % 60;\n+\n+    gst_video_time_code_init (tc, fps_n, fps_d, jam, flags,\n+        hour, min, sec, 0, field_count);\n+  } else {\n+    guint64 frames;\n+    gboolean add_a_frame = FALSE;\n+\n+    \/* Note: This might be inaccurate for 1 frame\n+     * in case we have a drop frame timecode *\/\n+    frames =\n+        gst_util_uint64_scale_round (g_date_time_get_microsecond (dt) *\n+        G_GINT64_CONSTANT (1000), fps_n, fps_d * GST_SECOND);\n+    if (G_UNLIKELY (((frames == fps_n) && (fps_d == 1)) ||\n+            ((frames == fps_n \/ 1000) && (fps_d == 1001)))) {\n+      \/* Avoid invalid timecodes *\/\n+      frames--;\n+      add_a_frame = TRUE;\n+    }\n+\n+    gst_video_time_code_init (tc, fps_n, fps_d, jam, flags,\n+        g_date_time_get_hour (dt), g_date_time_get_minute (dt),\n+        g_date_time_get_second (dt), frames, field_count);\n+\n+    if (tc->config.flags & GST_VIDEO_TIME_CODE_FLAGS_DROP_FRAME) {\n+      guint df = (tc->config.fps_n + (tc->config.fps_d >> 1)) \/\n+          (15 * tc->config.fps_d);\n+      if (tc->minutes % 10 && tc->seconds == 0 && tc->frames < df) {\n+        tc->frames = df;\n+      }\n@@ -293,0 +323,2 @@\n+    if (add_a_frame)\n+      gst_video_time_code_increment_frame (tc);\n@@ -294,2 +326,0 @@\n-  if (add_a_frame)\n-    gst_video_time_code_increment_frame (tc);\n@@ -369,0 +399,3 @@\n+  } else if (tc->config.fps_d > tc->config.fps_n) {\n+    return gst_util_uint64_scale (tc->seconds + (60 * (tc->minutes +\n+                (60 * tc->hours))), tc->config.fps_n, tc->config.fps_d);\n@@ -471,0 +504,11 @@\n+  } else if (tc->config.fps_d > tc->config.fps_n) {\n+    frames_new =\n+        frames + gst_util_uint64_scale (tc->seconds + (60 * (tc->minutes +\n+                (60 * tc->hours))), tc->config.fps_n, tc->config.fps_d);\n+    sec_new =\n+        gst_util_uint64_scale (frames_new, tc->config.fps_d, tc->config.fps_n);\n+    frames_new = 0;\n+    min_new = sec_new \/ 60;\n+    sec_new = sec_new % 60;\n+    h_notmod24 = min_new \/ 60;\n+    min_new = min_new % 60;\n@@ -495,1 +539,1 @@\n-  g_assert (frames_new < ff_nom);\n+  g_assert (frames_new < ff_nom || (ff_nom == 0 && frames_new == 0));\n@@ -762,1 +806,1 @@\n- * Returns: the #GstVideoTimeCode representation of @dt, or %NULL if\n+ * Returns: (nullable): the #GstVideoTimeCode representation of @dt, or %NULL if\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideotimecode.c","additions":81,"deletions":37,"binary":false,"changes":118,"status":"modified"},{"patch":"@@ -29,4 +29,5 @@\n- * The Navigation interface is used for creating and injecting navigation related\n- * events such as mouse button presses, cursor motion and key presses. The associated\n- * library also provides methods for parsing received events, and for sending and\n- * receiving navigation related bus events. One main usecase is DVD menu navigation.\n+ * The Navigation interface is used for creating and injecting navigation\n+ * related events such as mouse button presses, cursor motion and key presses.\n+ * The associated library also provides methods for parsing received events, and\n+ * for sending and receiving navigation related bus events. One main usecase is\n+ * DVD menu navigation.\n@@ -36,6 +37,7 @@\n- * * The GstNavigation interface, implemented by elements which provide an application\n- *   with the ability to create and inject navigation events into the pipeline.\n- * * GstNavigation event handling API. GstNavigation events are created in response to\n- *   calls on a GstNavigation interface implementation, and sent in the pipeline. Upstream\n- *   elements can use the navigation event API functions to parse the contents of received\n- *   messages.\n+ * * The GstNavigation interface, implemented by elements which provide an\n+ *   application with the ability to create and inject navigation events into\n+ *   the pipeline.\n+ * * GstNavigation event handling API. GstNavigation events are created in\n+ *   response to calls on a GstNavigation interface implementation, and sent in\n+ *   the pipeline. Upstream elements can use the navigation event API functions\n+ *   to parse the contents of received messages.\n@@ -43,6 +45,4 @@\n- * * GstNavigation message handling API. GstNavigation messages may be sent on the message\n- *   bus to inform applications of navigation related changes in the pipeline, such as the\n- *   mouse moving over a clickable region, or the set of available angles changing.\n- *\n- * The GstNavigation message functions provide functions for creating and parsing\n- * custom bus messages for signaling GstNavigation changes.\n+ * * GstNavigation message handling API. GstNavigation messages may be sent on\n+ *   the message bus to inform applications of navigation related changes in the\n+ *   pipeline, such as the mouse moving over a clickable region, or the set of\n+ *   available angles changing.\n@@ -50,0 +50,2 @@\n+ * The GstNavigation message functions provide functions for creating and\n+ * parsing custom bus messages for signaling GstNavigation changes.\n@@ -67,0 +69,14 @@\n+static void\n+gst_navigation_default_send_event_simple (GstNavigation * navigation,\n+    GstEvent * event)\n+{\n+  GstNavigationInterface *iface = GST_NAVIGATION_GET_INTERFACE (navigation);\n+\n+  if (iface->send_event) {\n+    iface->send_event (navigation,\n+        gst_structure_copy (gst_event_get_structure (event)));\n+  } else {\n+    gst_event_unref (event);\n+  }\n+}\n+\n@@ -72,0 +88,1 @@\n+  iface->send_event_simple = gst_navigation_default_send_event_simple;\n@@ -83,0 +100,2 @@\n+  } else if (iface->send_event_simple) {\n+    iface->send_event_simple (navigation, gst_event_new_navigation (structure));\n@@ -182,0 +201,26 @@\n+\/**\n+ * gst_navigation_send_event_simple:\n+ * @navigation: The navigation interface instance\n+ * @event: (transfer full): The event to send\n+ *\n+ * Sends an event to the navigation interface.\n+ * Since: 1.22\n+ *\/\n+void\n+gst_navigation_send_event_simple (GstNavigation * navigation, GstEvent * event)\n+{\n+  GstNavigationInterface *iface = GST_NAVIGATION_GET_INTERFACE (navigation);\n+\n+  g_return_if_fail (GST_EVENT_TYPE (event) == GST_EVENT_NAVIGATION);\n+\n+  if (iface->send_event_simple) {\n+    iface->send_event_simple (navigation, event);\n+  } else if (iface->send_event) {\n+    iface->send_event (navigation,\n+        gst_structure_copy (gst_event_get_structure (event)));\n+    gst_event_unref (event);\n+  } else {\n+    gst_event_unref (event);\n+  }\n+}\n+\n@@ -744,0 +789,10 @@\n+  else if (g_str_equal (e_type, \"touch-down\"))\n+    return GST_NAVIGATION_EVENT_TOUCH_DOWN;\n+  else if (g_str_equal (e_type, \"touch-up\"))\n+    return GST_NAVIGATION_EVENT_TOUCH_UP;\n+  else if (g_str_equal (e_type, \"touch-cancel\"))\n+    return GST_NAVIGATION_EVENT_TOUCH_CANCEL;\n+  else if (g_str_equal (e_type, \"touch-motion\"))\n+    return GST_NAVIGATION_EVENT_TOUCH_MOTION;\n+  else if (g_str_equal (e_type, \"touch-frame\"))\n+    return GST_NAVIGATION_EVENT_TOUCH_FRAME;\n@@ -748,0 +803,293 @@\n+\/**\n+ * gst_navigation_event_new_key_press:\n+ * @key: A string identifying the key press.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for the given key press.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_key_press (const gchar * key,\n+    GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"key-press\", \"key\", G_TYPE_STRING, key,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_key_release:\n+ * @key: A string identifying the released key.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for the given key release.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_key_release (const gchar * key,\n+    GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"key-release\", \"key\", G_TYPE_STRING, key,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_mouse_button_press:\n+ * @button: The number of the pressed mouse button.\n+ * @x: The x coordinate of the mouse cursor.\n+ * @y: The y coordinate of the mouse cursor.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for the given key mouse button press.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_mouse_button_press (gint button, gdouble x, gdouble y,\n+    GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"mouse-button-press\",\n+          \"button\", G_TYPE_INT, button, \"pointer_x\", G_TYPE_DOUBLE, x,\n+          \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_mouse_button_release:\n+ * @button: The number of the released mouse button.\n+ * @x: The x coordinate of the mouse cursor.\n+ * @y: The y coordinate of the mouse cursor.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for the given key mouse button release.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_mouse_button_release (gint button, gdouble x,\n+    gdouble y, GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"mouse-button-release\",\n+          \"button\", G_TYPE_INT, button, \"pointer_x\", G_TYPE_DOUBLE, x,\n+          \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_mouse_move:\n+ * @x: The x coordinate of the mouse cursor.\n+ * @y: The y coordinate of the mouse cursor.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for the new mouse location.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_mouse_move (gdouble x, gdouble y,\n+    GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"mouse-move\",\n+          \"pointer_x\", G_TYPE_DOUBLE, x,\n+          \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_mouse_scroll:\n+ * @x: The x coordinate of the mouse cursor.\n+ * @y: The y coordinate of the mouse cursor.\n+ * @delta_x: The x component of the scroll movement.\n+ * @delta_y: The y component of the scroll movement.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for the mouse scroll.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_mouse_scroll (gdouble x, gdouble y, gdouble delta_x,\n+    gdouble delta_y, GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"mouse-scroll\",\n+          \"pointer_x\", G_TYPE_DOUBLE, x, \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"delta_pointer_x\", G_TYPE_DOUBLE, delta_x,\n+          \"delta_pointer_y\", G_TYPE_DOUBLE, delta_y,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_command:\n+ * @command: The navigation command to use.\n+ *\n+ * Create a new navigation event given navigation command..\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_command (GstNavigationCommand command)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"command\",\n+          \"command-code\", G_TYPE_UINT, (guint) command, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_touch_down:\n+ * @identifier: A number uniquely identifying this touch point. It must stay\n+ *    unique to this touch point at least until an up event is sent for\n+ *    the same identifier, or all touch points are cancelled.\n+ * @x: The x coordinate of the new touch point.\n+ * @y: The y coordinate of the new touch point.\n+ * @pressure: Pressure data of the touch point, from 0.0 to 1.0, or NaN if no\n+ *    data is available.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for an added touch point.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_touch_down (guint identifier, gdouble x, gdouble y,\n+    gdouble pressure, GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"touch-down\",\n+          \"identifier\", G_TYPE_UINT, identifier,\n+          \"pointer_x\", G_TYPE_DOUBLE, x,\n+          \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"pressure\", G_TYPE_DOUBLE, pressure,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_touch_motion:\n+ * @identifier: A number uniquely identifying this touch point. It must\n+ *    correlate to exactly one previous touch_start event.\n+ * @x: The x coordinate of the touch point.\n+ * @y: The y coordinate of the touch point.\n+ * @pressure: Pressure data of the touch point, from 0.0 to 1.0, or NaN if no\n+ *    data is available.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for a moved touch point.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_touch_motion (guint identifier, gdouble x, gdouble y,\n+    gdouble pressure, GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"touch-motion\",\n+          \"identifier\", G_TYPE_UINT, identifier,\n+          \"pointer_x\", G_TYPE_DOUBLE, x,\n+          \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"pressure\", G_TYPE_DOUBLE, pressure,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_touch_up:\n+ * @identifier: A number uniquely identifying this touch point. It must\n+ *    correlate to exactly one previous down event, but can be reused\n+ *    after sending this event.\n+ * @x: The x coordinate of the touch point.\n+ * @y: The y coordinate of the touch point.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event for a removed touch point.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_touch_up (guint identifier, gdouble x, gdouble y,\n+    GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"touch-up\",\n+          \"identifier\", G_TYPE_UINT, identifier,\n+          \"pointer_x\", G_TYPE_DOUBLE, x, \"pointer_y\", G_TYPE_DOUBLE, y,\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\/**\n+ * gst_navigation_event_new_touch_frame:\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event signalling the end of a touch frame. Touch\n+ * frames signal that all previous down, motion and up events not followed by\n+ * another touch frame event already should be considered simultaneous.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_touch_frame (GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"touch-frame\",\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n+\n+\/**\n+ * gst_navigation_event_new_touch_cancel:\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Create a new navigation event signalling that all currently active touch\n+ * points are cancelled and should be discarded. For example, under Wayland\n+ * this event might be sent when a swipe passes the threshold to be recognized\n+ * as a gesture by the compositor.\n+ *\n+ * Returns: (transfer full): a new #GstEvent\n+ *\n+ * Since: 1.22\n+ *\/\n+GstEvent *\n+gst_navigation_event_new_touch_cancel (GstNavigationModifierType state)\n+{\n+  return gst_event_new_navigation (gst_structure_new (GST_NAVIGATION_EVENT_NAME,\n+          \"event\", G_TYPE_STRING, \"touch-cancel\",\n+          \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state, NULL));\n+}\n+\n@@ -754,0 +1102,5 @@\n+ *\n+ * Note: Modifier keys (as defined in #GstNavigationModifierType)\n+ * [press](GST_NAVIGATION_EVENT_KEY_PRESS) and\n+ * [release](GST_NAVIGATION_KEY_PRESS) events are generated even if those states are\n+ * present on all other related events\n@@ -923,0 +1276,201 @@\n+\n+\/**\n+ * gst_navigation_event_parse_touch_event:\n+ * @event: A #GstEvent to inspect.\n+ * @identifier: (out) (optional): Pointer to a guint that will receive the\n+ *     identifier unique to this touch point.\n+ * @x: (out) (optional): Pointer to a gdouble that will receive the x\n+ *     coordinate of the touch event.\n+ * @y: (out) (optional): Pointer to a gdouble that will receive the y\n+ *     coordinate of the touch event.\n+ * @pressure: (out) (optional): Pointer to a gdouble that will receive the\n+ *     force of the touch event, in the range from 0.0 to 1.0. If pressure\n+ *     data is not available, NaN will be set instead.\n+ *\n+ * Retrieve the details of a #GstNavigation touch-down or touch-motion event.\n+ * Determine which type the event is using gst_navigation_event_get_type()\n+ * to retrieve the #GstNavigationEventType.\n+ *\n+ * Returns: TRUE if all details could be extracted, otherwise FALSE.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_navigation_event_parse_touch_event (GstEvent * event, guint * identifier,\n+    gdouble * x, gdouble * y, gdouble * pressure)\n+{\n+  GstNavigationEventType e_type;\n+  const GstStructure *s;\n+  gboolean ret = TRUE;\n+\n+  e_type = gst_navigation_event_get_type (event);\n+  g_return_val_if_fail (e_type == GST_NAVIGATION_EVENT_TOUCH_DOWN ||\n+      e_type == GST_NAVIGATION_EVENT_TOUCH_MOTION, FALSE);\n+\n+  s = gst_event_get_structure (event);\n+  if (identifier)\n+    ret &= gst_structure_get_uint (s, \"identifier\", identifier);\n+  if (x)\n+    ret &= gst_structure_get_double (s, \"pointer_x\", x);\n+  if (y)\n+    ret &= gst_structure_get_double (s, \"pointer_y\", y);\n+  if (pressure)\n+    ret &= gst_structure_get_double (s, \"pressure\", pressure);\n+\n+  WARN_IF_FAIL (ret, \"Couldn't extract details from touch event\");\n+\n+  return ret;\n+}\n+\n+\/**\n+ * gst_navigation_event_parse_touch_up_event:\n+ * @event: A #GstEvent to inspect.\n+ * @identifier: (out) (optional): Pointer to a guint that will receive the\n+ *     identifier unique to this touch point.\n+ * @x: (out) (optional): Pointer to a gdouble that will receive the x\n+ *     coordinate of the touch event.\n+ * @y: (out) (optional): Pointer to a gdouble that will receive the y\n+ *     coordinate of the touch event.\n+ *\n+ * Retrieve the details of a #GstNavigation touch-up event.\n+ *\n+ * Returns: TRUE if all details could be extracted, otherwise FALSE.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_navigation_event_parse_touch_up_event (GstEvent * event,\n+    guint * identifier, gdouble * x, gdouble * y)\n+{\n+  const GstStructure *s;\n+  gboolean ret = TRUE;\n+\n+  g_return_val_if_fail (GST_NAVIGATION_EVENT_HAS_TYPE (event, TOUCH_UP), FALSE);\n+\n+  s = gst_event_get_structure (event);\n+  if (identifier)\n+    ret &= gst_structure_get_uint (s, \"identifier\", identifier);\n+  if (x)\n+    ret &= gst_structure_get_double (s, \"pointer_x\", x);\n+  if (y)\n+    ret &= gst_structure_get_double (s, \"pointer_y\", y);\n+\n+  WARN_IF_FAIL (ret, \"Couldn't extract details from touch-up event\");\n+\n+  return ret;\n+}\n+\n+\/**\n+ * gst_navigation_event_get_coordinates:\n+ * @event: The #GstEvent to inspect.\n+ * @x: (out) (optional): Pointer to a gdouble to receive the x coordinate of the\n+ *     navigation event.\n+ * @y: (out) (optional): Pointer to a gdouble to receive the y coordinate of the\n+ *     navigation event.\n+ *\n+ * Try to retrieve x and y coordinates of a #GstNavigation event.\n+ *\n+ * Returns: A boolean indicating success.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_navigation_event_get_coordinates (GstEvent * event,\n+    gdouble * x, gdouble * y)\n+{\n+  GstNavigationEventType e_type;\n+  const GstStructure *s;\n+  gboolean ret = TRUE;\n+\n+  e_type = gst_navigation_event_get_type (event);\n+  if (e_type != GST_NAVIGATION_EVENT_MOUSE_MOVE\n+      && e_type != GST_NAVIGATION_EVENT_MOUSE_BUTTON_PRESS\n+      && e_type != GST_NAVIGATION_EVENT_MOUSE_BUTTON_RELEASE\n+      && e_type != GST_NAVIGATION_EVENT_TOUCH_DOWN\n+      && e_type != GST_NAVIGATION_EVENT_TOUCH_MOTION\n+      && e_type != GST_NAVIGATION_EVENT_TOUCH_UP) {\n+    return FALSE;\n+  }\n+\n+  s = gst_event_get_structure (event);\n+  if (x)\n+    ret &= gst_structure_get_double (s, \"pointer_x\", x);\n+  if (y)\n+    ret &= gst_structure_get_double (s, \"pointer_y\", y);\n+\n+  WARN_IF_FAIL (ret, \"Couldn't extract coordinates from the event\");\n+\n+  return ret;\n+}\n+\n+\/**\n+ * gst_navigation_event_set_coordinates:\n+ * @event: The #GstEvent to modify.\n+ * @x: The x coordinate to set.\n+ * @y: The y coordinate to set.\n+ *\n+ * Try to set x and y coordinates on a #GstNavigation event. The event must\n+ * be writable.\n+ *\n+ * Returns: A boolean indicating success.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_navigation_event_set_coordinates (GstEvent * event, gdouble x, gdouble y)\n+{\n+  GstNavigationEventType e_type;\n+  GstStructure *s;\n+\n+  g_return_val_if_fail (gst_event_is_writable (event), FALSE);\n+\n+  e_type = gst_navigation_event_get_type (event);\n+  if (e_type != GST_NAVIGATION_EVENT_MOUSE_MOVE\n+      && e_type != GST_NAVIGATION_EVENT_MOUSE_BUTTON_PRESS\n+      && e_type != GST_NAVIGATION_EVENT_MOUSE_BUTTON_RELEASE\n+      && e_type != GST_NAVIGATION_EVENT_TOUCH_DOWN\n+      && e_type != GST_NAVIGATION_EVENT_TOUCH_MOTION\n+      && e_type != GST_NAVIGATION_EVENT_TOUCH_UP) {\n+    return FALSE;\n+  }\n+\n+  s = gst_event_writable_structure (event);\n+  gst_structure_set (s, \"pointer_x\", G_TYPE_DOUBLE, x,\n+      \"pointer_y\", G_TYPE_DOUBLE, y, NULL);\n+\n+  return TRUE;\n+}\n+\n+\n+\/**\n+ * gst_navigation_event_parse_modifier_state:\n+ * @event: The #GstEvent to modify.\n+ * @state: a bit-mask representing the state of the modifier keys (e.g. Control,\n+ * Shift and Alt).\n+ *\n+ * Returns: TRUE if the event is a #GstNavigation event with associated\n+ * modifiers state, otherwise FALSE.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_navigation_event_parse_modifier_state (GstEvent * event,\n+    GstNavigationModifierType * state)\n+{\n+  GstNavigationEventType e_type;\n+  const GstStructure *s;\n+\n+  g_return_val_if_fail (GST_IS_EVENT (event), FALSE);\n+\n+  e_type = gst_navigation_event_get_type (event);\n+  if (e_type == GST_NAVIGATION_EVENT_COMMAND) {\n+    return FALSE;\n+  }\n+\n+  s = gst_event_get_structure (event);\n+  if (!gst_structure_get (s, \"state\", GST_TYPE_NAVIGATION_MODIFIER_TYPE, state,\n+          NULL))\n+    *state = GST_NAVIGATION_MODIFIER_NONE;\n+\n+  return TRUE;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/navigation.c","additions":570,"deletions":16,"binary":false,"changes":586,"status":"modified"},{"patch":"@@ -43,0 +43,72 @@\n+\/**\n+ * GstNavigationModifierType:\n+ * @GST_NAVIGATION_MODIFIER_SHIFT_MASK: the Shift key.\n+ * @GST_NAVIGATION_MODIFIER_CONTROL_MASK: the Control key.\n+ * @GST_NAVIGATION_MODIFIER_MOD1_MASK: the third modifier key\n+ * @GST_NAVIGATION_MODIFIER_MOD2_MASK: the fourth modifier key\n+ * @GST_NAVIGATION_MODIFIER_MOD3_MASK: the fifth modifier key\n+ * @GST_NAVIGATION_MODIFIER_MOD4_MASK: the sixth modifier key\n+ * @GST_NAVIGATION_MODIFIER_MOD5_MASK: the seventh modifier key\n+ * @GST_NAVIGATION_MODIFIER_BUTTON1_MASK: the first mouse button (usually the left button).\n+ * @GST_NAVIGATION_MODIFIER_BUTTON2_MASK: the second mouse button (usually the right button).\n+ * @GST_NAVIGATION_MODIFIER_BUTTON3_MASK: the third mouse button (usually the mouse wheel button or middle button).\n+ * @GST_NAVIGATION_MODIFIER_BUTTON4_MASK: the fourth mouse button (typically the \"Back\" button).\n+ * @GST_NAVIGATION_MODIFIER_BUTTON5_MASK: the fifth mouse button (typically the \"forward\" button).\n+ * @GST_NAVIGATION_MODIFIER_SUPER_MASK: the Super modifier\n+ * @GST_NAVIGATION_MODIFIER_HYPER_MASK: the Hyper modifier\n+ * @GST_NAVIGATION_MODIFIER_META_MASK: the Meta modifier\n+ * @GST_NAVIGATION_MODIFIER_MASK: A mask covering all entries in #GdkModifierType.\n+ *\n+ * Flags to indicate the state of modifier keys and mouse buttons\n+ * in events.\n+ *\n+ * Typical modifier keys are Shift, Control, Meta, Super, Hyper, Alt, Compose,\n+ * Apple, CapsLock or ShiftLock.\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef enum\n+{\n+  GST_NAVIGATION_MODIFIER_NONE          = 0,\n+  GST_NAVIGATION_MODIFIER_SHIFT_MASK    = 1 << 0,\n+  GST_NAVIGATION_MODIFIER_LOCK_MASK     = 1 << 1,\n+  GST_NAVIGATION_MODIFIER_CONTROL_MASK  = 1 << 2,\n+\n+  GST_NAVIGATION_MODIFIER_MOD1_MASK  = 1 << 3,\n+  GST_NAVIGATION_MODIFIER_MOD2_MASK  = 1 << 4,\n+  GST_NAVIGATION_MODIFIER_MOD3_MASK  = 1 << 5,\n+  GST_NAVIGATION_MODIFIER_MOD4_MASK  = 1 << 6,\n+  GST_NAVIGATION_MODIFIER_MOD5_MASK  = 1 << 7,\n+\n+  GST_NAVIGATION_MODIFIER_BUTTON1_MASK  = 1 << 8,\n+  GST_NAVIGATION_MODIFIER_BUTTON2_MASK  = 1 << 9,\n+  GST_NAVIGATION_MODIFIER_BUTTON3_MASK  = 1 << 10,\n+  GST_NAVIGATION_MODIFIER_BUTTON4_MASK  = 1 << 11,\n+  GST_NAVIGATION_MODIFIER_BUTTON5_MASK  = 1 << 12,\n+\n+  GST_NAVIGATION_MODIFIER_SUPER_MASK    = 1 << 26,\n+  GST_NAVIGATION_MODIFIER_HYPER_MASK    = 1 << 27,\n+  GST_NAVIGATION_MODIFIER_META_MASK     = 1 << 28,\n+\n+  GST_NAVIGATION_MODIFIER_MASK = (\n+    GST_NAVIGATION_MODIFIER_NONE          |\n+    GST_NAVIGATION_MODIFIER_SHIFT_MASK    |\n+    GST_NAVIGATION_MODIFIER_LOCK_MASK     |\n+    GST_NAVIGATION_MODIFIER_CONTROL_MASK  |\n+    GST_NAVIGATION_MODIFIER_MOD1_MASK      |\n+    GST_NAVIGATION_MODIFIER_MOD2_MASK      |\n+    GST_NAVIGATION_MODIFIER_MOD3_MASK      |\n+    GST_NAVIGATION_MODIFIER_MOD4_MASK      |\n+    GST_NAVIGATION_MODIFIER_MOD5_MASK      |\n+    GST_NAVIGATION_MODIFIER_BUTTON1_MASK  |\n+    GST_NAVIGATION_MODIFIER_BUTTON2_MASK  |\n+    GST_NAVIGATION_MODIFIER_BUTTON3_MASK  |\n+    GST_NAVIGATION_MODIFIER_BUTTON4_MASK  |\n+    GST_NAVIGATION_MODIFIER_BUTTON5_MASK  |\n+    GST_NAVIGATION_MODIFIER_SUPER_MASK    |\n+    GST_NAVIGATION_MODIFIER_HYPER_MASK    |\n+    GST_NAVIGATION_MODIFIER_META_MASK\n+  )\n+\n+} GstNavigationModifierType;\n+\n@@ -47,0 +119,1 @@\n+ * @send_event_simple: sending a navigation event (Since: 1.22)\n@@ -54,0 +127,8 @@\n+\n+  \/**\n+   * GstNavigationInterface::send_event:\n+   *\n+   * sending a navigation event.\n+   *\n+   * Deprecated: 1.22: Use #GstNavigationInterface.send_event_simple() instead.\n+   *\/\n@@ -55,0 +136,11 @@\n+\n+  \/**\n+   * GstNavigationInterface::send_event_simple:\n+   * @navigation: The navigation interface instance\n+   * @event: (transfer full): The event to send\n+   *\n+   * sending a navigation event.\n+   *\n+   * Since: 1.22\n+   *\/\n+  void (*send_event_simple) (GstNavigation *navigation, GstEvent *event);\n@@ -266,0 +358,16 @@\n+ * @GST_NAVIGATION_EVENT_TOUCH_DOWN: An event describing a new touch point,\n+ * which will be assigned an identifier that is unique to it for the duration\n+ * of its movement on the screen. Use gst_navigation_event_parse_touch_event()\n+ * to extract the details from the event. (Since: 1.22)\n+ * @GST_NAVIGATION_EVENT_TOUCH_MOTION: An event describing the movement of an\n+ * active touch point across the screen. Use\n+ * gst_navigation_event_parse_touch_event() to extract the details from the\n+ * event. (Since: 1.22)\n+ * @GST_NAVIGATION_EVENT_TOUCH_UP: An event describing a removed touch point.\n+ * After this event, its identifier may be reused for any new touch points. Use\n+ * gst_navigation_event_parse_touch_up_event() to extract the details from the\n+ * event. (Since: 1.22)\n+ * @GST_NAVIGATION_EVENT_TOUCH_FRAME: An event signaling the end of a sequence\n+ * of simultaneous touch events. (Since: 1.22)\n+ * @GST_NAVIGATION_EVENT_TOUCH_CANCEL: An event cancelling all currently active\n+ * touch points. (Since: 1.22)\n@@ -268,1 +376,2 @@\n- * GstNavigation interface might send up the pipeline.\n+ * GstNavigation interface might send up the pipeline. Touch events have been\n+ * inspired by the libinput API, and have the same meaning here.\n@@ -287,1 +396,54 @@\n-  GST_NAVIGATION_EVENT_MOUSE_SCROLL               = 7\n+  GST_NAVIGATION_EVENT_MOUSE_SCROLL               = 7,\n+\n+  \/**\n+   * GST_NAVIGATION_EVENT_TOUCH_DOWN:\n+   *\n+   * An event describing a new touch point, which will be assigned an identifier\n+   * that is unique to it for the duration of its movement on the screen.\n+   * Use gst_navigation_event_parse_touch_event() to extract the details\n+   * from the event.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_NAVIGATION_EVENT_TOUCH_DOWN                 = 8,\n+\n+  \/**\n+   * GST_NAVIGATION_EVENT_TOUCH_MOTION:\n+   *\n+   * An event describing the movement of an active touch point across\n+   * the screen. Use gst_navigation_event_parse_touch_event() to extract\n+   * the details from the event.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_NAVIGATION_EVENT_TOUCH_MOTION               = 9,\n+\n+  \/**\n+   * GST_NAVIGATION_EVENT_TOUCH_UP:\n+   *\n+   * An event describing a removed touch point. After this event,\n+   * its identifier may be reused for any new touch points.\n+   * Use gst_navigation_event_parse_touch_up_event() to extract the details\n+   * from the event.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_NAVIGATION_EVENT_TOUCH_UP                   = 10,\n+\n+  \/**\n+   * GST_NAVIGATION_EVENT_TOUCH_FRAME:\n+   *\n+   * An event signaling the end of a sequence of simultaneous touch events.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_NAVIGATION_EVENT_TOUCH_FRAME                = 11,\n+\n+  \/**\n+   * GST_NAVIGATION_EVENT_TOUCH_CANCEL:\n+   *\n+   * An event cancelling all currently active touch points.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_NAVIGATION_EVENT_TOUCH_CANCEL               = 12,\n@@ -293,0 +455,54 @@\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_key_press            (const gchar * key,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_key_release          (const gchar * key,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_mouse_button_press   (gint button, gdouble x,\n+                                                               gdouble y,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_mouse_button_release (gint button, gdouble x,\n+                                                               gdouble y,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_mouse_move           (gdouble x,\n+                                                               gdouble y,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_mouse_scroll         (gdouble x, gdouble y,\n+                                                               gdouble delta_x, gdouble delta_y,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_command              (GstNavigationCommand command) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_touch_down           (guint identifier,\n+                                                               gdouble x, gdouble y,\n+                                                               gdouble pressure,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_touch_motion         (guint identifier,\n+                                                               gdouble x, gdouble y,\n+                                                               gdouble pressure,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_touch_up             (guint identifier,\n+                                                               gdouble x, gdouble y,\n+                                                               GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_touch_frame          (GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n+GST_VIDEO_API\n+GstEvent*       gst_navigation_event_new_touch_cancel         (GstNavigationModifierType state) G_GNUC_MALLOC;\n+\n@@ -314,2 +530,0 @@\n-\/* interface virtual function wrappers *\/\n-\n@@ -317,2 +531,4 @@\n-void    gst_navigation_send_event       (GstNavigation *navigation,\n-                                         GstStructure *structure);\n+gboolean        gst_navigation_event_parse_touch_event        (GstEvent * event,\n+                                                               guint * identifier,\n+                                                               gdouble * x, gdouble * y,\n+                                                               gdouble * pressure);\n@@ -321,2 +537,3 @@\n-void    gst_navigation_send_key_event   (GstNavigation *navigation,\n-                                         const char *event, const char *key);\n+gboolean        gst_navigation_event_parse_touch_up_event     (GstEvent * event,\n+                                                               guint * identifier,\n+                                                               gdouble * x, gdouble * y);\n@@ -325,2 +542,2 @@\n-void    gst_navigation_send_mouse_event (GstNavigation *navigation,\n-                                         const char *event, int button, double x, double y);\n+gboolean  gst_navigation_event_get_coordinates (GstEvent * event,\n+                                                gdouble * x, gdouble * y);\n@@ -329,0 +546,18 @@\n+gboolean  gst_navigation_event_set_coordinates (GstEvent * event,\n+                                                gdouble x, gdouble y);\n+\n+\/* interface virtual function wrappers *\/\n+\n+GST_VIDEO_DEPRECATED_FOR(gst_navigation_send_event_simple)\n+void    gst_navigation_send_event        (GstNavigation *navigation,\n+                                          GstStructure *structure);\n+\n+GST_VIDEO_DEPRECATED_FOR(gst_navigation_send_event_simple)\n+void    gst_navigation_send_key_event    (GstNavigation *navigation,\n+                                          const char *event, const char *key);\n+\n+GST_VIDEO_DEPRECATED_FOR(gst_navigation_send_event_simple)\n+void    gst_navigation_send_mouse_event  (GstNavigation *navigation,\n+                                          const char *event, int button, double x, double y);\n+\n+GST_VIDEO_DEPRECATED_FOR(gst_navigation_send_event_simple)\n@@ -332,0 +567,8 @@\n+GST_VIDEO_DEPRECATED_FOR(gst_navigation_send_event_simple)\n+void    gst_navigation_send_command      (GstNavigation *navigation,\n+                                          GstNavigationCommand command);\n+\n+GST_VIDEO_API\n+void    gst_navigation_send_event_simple (GstNavigation *navigation,\n+                                          GstEvent *event);\n+\n@@ -333,2 +576,2 @@\n-void    gst_navigation_send_command     (GstNavigation *navigation,\n-                                         GstNavigationCommand command);\n+gboolean        gst_navigation_event_parse_modifier_state (GstEvent *event,\n+                                                           GstNavigationModifierType *state);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/navigation.h","additions":255,"deletions":12,"binary":false,"changes":267,"status":"modified"},{"patch":"@@ -30,0 +30,2 @@\n+G_BEGIN_DECLS\n+\n@@ -41,0 +43,2 @@\n+G_END_DECLS\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-blend.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -267,3 +267,3 @@\n-#define FILT_10_3_2_1(a,b,c,d)      (10*(a) + 3*(b) + 2*(c) + (d) + 8) >> 16\n-#define FILT_1_2_3_10(a,b,c,d)      ((a) + 2*(b) + 3*(c) + 10*(d) + 8) >> 16\n-#define FILT_1_2_3_4_3_2_1(a,b,c,d,e,f,g) ((a) + 2*((b)+(f)) + 3*((c)+(e)) + 4*(d) + (g) + 8) >> 16\n+#define FILT_10_3_2_1(a,b,c,d)      (10*(a) + 3*(b) + 2*(c) + (d) + 8) >> 4\n+#define FILT_1_2_3_10(a,b,c,d)      ((a) + 2*(b) + 3*(c) + 10*(d) + 8) >> 4\n+#define FILT_1_2_3_4_3_2_1(a,b,c,d,e,f,g) ((a) + 2*((b)+(f)) + 3*((c)+(e)) + 4*(d) + (g) + 8) >> 4\n@@ -1118,2 +1118,2 @@\n- * @n_lines: the number of input lines\n- * @offset: the first line\n+ * @n_lines: (out) (optional): the number of input lines\n+ * @offset: (out) (optional): the first line\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-chroma.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -272,0 +272,32 @@\n+\/**\n+ * gst_video_colorimetry_is_equivalent:\n+ * @cinfo: a #GstVideoColorimetry\n+ * @bitdepth: bitdepth of a format associated with @cinfo\n+ * @other: another #GstVideoColorimetry\n+ * @other_bitdepth: bitdepth of a format associated with @other\n+ *\n+ * Compare the 2 colorimetry sets for functionally equality\n+ *\n+ * Returns: %TRUE if @cinfo and @other are equivalent.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_video_colorimetry_is_equivalent (const GstVideoColorimetry * cinfo,\n+    guint bitdepth, const GstVideoColorimetry * other, guint other_bitdepth)\n+{\n+  g_return_val_if_fail (cinfo != NULL, FALSE);\n+  g_return_val_if_fail (other != NULL, FALSE);\n+\n+  if (cinfo->range != other->range || cinfo->matrix != other->matrix)\n+    return FALSE;\n+\n+  if (!gst_video_color_primaries_is_equivalent (cinfo->primaries,\n+          other->primaries)) {\n+    return FALSE;\n+  }\n+\n+  return gst_video_transfer_function_is_equivalent (cinfo->transfer, bitdepth,\n+      other->transfer, other_bitdepth);\n+}\n+\n@@ -322,0 +354,29 @@\n+\/**\n+ * gst_video_color_primaries_is_equivalent:\n+ * @primaries: a #GstVideoColorPrimaries\n+ * @other: another #GstVideoColorPrimaries\n+ *\n+ * Checks whether @primaries and @other are functionally equivalent\n+ *\n+ * Returns: TRUE if @primaries and @other can be considered equivalent.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_video_color_primaries_is_equivalent (GstVideoColorPrimaries primaries,\n+    GstVideoColorPrimaries other)\n+{\n+  if (primaries == other)\n+    return TRUE;\n+\n+  \/* smpte-170m and 240m use the same reference RGB primaries and white point *\/\n+  if ((primaries == GST_VIDEO_COLOR_PRIMARIES_SMPTE170M ||\n+          primaries == GST_VIDEO_COLOR_PRIMARIES_SMPTE240M) &&\n+      (other == GST_VIDEO_COLOR_PRIMARIES_SMPTE170M ||\n+          other == GST_VIDEO_COLOR_PRIMARIES_SMPTE240M)) {\n+    return TRUE;\n+  }\n+\n+  return FALSE;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-color.c","additions":61,"deletions":0,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -225,0 +225,4 @@\n+GST_VIDEO_API\n+gboolean gst_video_color_primaries_is_equivalent       (GstVideoColorPrimaries primaries,\n+                                                        GstVideoColorPrimaries other);\n+\n@@ -265,0 +269,6 @@\n+GST_VIDEO_API\n+gboolean     gst_video_colorimetry_is_equivalent (const GstVideoColorimetry *cinfo,\n+                                                  guint bitdepth,\n+                                                  const GstVideoColorimetry *other,\n+                                                  guint other_bitdepth);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-color.h","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1752,2 +1752,2 @@\n-        convert->in_info.colorimetry.primaries ==\n-        convert->out_info.colorimetry.primaries;\n+        gst_video_color_primaries_is_equivalent (convert->in_info.\n+        colorimetry.primaries, convert->out_info.colorimetry.primaries);\n@@ -2322,1 +2322,1 @@\n- * Returns: a #GstVideoConverter or %NULL if conversion is not possible.\n+ * Returns (nullable): a #GstVideoConverter or %NULL if conversion is not possible.\n@@ -2565,1 +2565,1 @@\n- * Returns: a #GstVideoConverter or %NULL if conversion is not possible.\n+ * Returns (nullable): a #GstVideoConverter or %NULL if conversion is not possible.\n@@ -7344,0 +7344,1 @@\n+    case GST_VIDEO_FORMAT_NV12_16L32S:\n@@ -7368,0 +7369,2 @@\n+    case GST_VIDEO_FORMAT_NV12_8L128:\n+    case GST_VIDEO_FORMAT_NV12_10BE_8L128:\n@@ -8224,1 +8227,2 @@\n-    same_primaries = in_primaries == out_primaries;\n+    same_primaries = gst_video_color_primaries_is_equivalent (in_primaries,\n+        out_primaries);\n@@ -8273,0 +8277,32 @@\n+\n+\/**\n+ * gst_video_converter_get_in_info:\n+ * @convert: a #GstVideoConverter\n+ *\n+ * Retrieve the input format of @convert.\n+ *\n+ * Returns: (transfer none): a #GstVideoInfo\n+ *\n+ * Since: 1.22\n+ *\/\n+const GstVideoInfo *\n+gst_video_converter_get_in_info (GstVideoConverter * convert)\n+{\n+  return &convert->in_info;\n+}\n+\n+\/**\n+ * gst_video_converter_get_out_info:\n+ * @convert: a #GstVideoConverter\n+ *\n+ * Retrieve the output format of @convert.\n+ *\n+ * Returns: (transfer none): a #GstVideoInfo\n+ *\n+ * Since: 1.22\n+ *\/\n+const GstVideoInfo *\n+gst_video_converter_get_out_info (GstVideoConverter * convert)\n+{\n+  return &convert->out_info;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-converter.c","additions":41,"deletions":5,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -316,0 +316,6 @@\n+GST_VIDEO_API\n+const GstVideoInfo * gst_video_converter_get_in_info    (GstVideoConverter * convert);\n+\n+GST_VIDEO_API\n+const GstVideoInfo * gst_video_converter_get_out_info   (GstVideoConverter * convert);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-converter.h","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -4754,2 +4754,1 @@\n-get_tile_NV12 (gint tile_width, gint ts, gint tx, gint ty,\n-    GstVideoTileMode mode,\n+get_tile_NV12 (const GstVideoFormatInfo * info, gint tx, gint ty,\n@@ -4761,1 +4760,2 @@\n-  gsize offset;\n+  GstVideoTileMode mode = GST_VIDEO_FORMAT_INFO_TILE_MODE (info);\n+  gsize index, offset;\n@@ -4764,4 +4764,3 @@\n-  offset = gst_video_tile_get_index (mode,\n-      tx, ty, GST_VIDEO_TILE_X_TILES (stride[0]),\n-      GST_VIDEO_TILE_Y_TILES (stride[0]));\n-  offset <<= ts;\n+  index = gst_video_tile_get_index (mode, tx, ty,\n+      GST_VIDEO_TILE_X_TILES (stride[0]), GST_VIDEO_TILE_Y_TILES (stride[0]));\n+  offset = index * GST_VIDEO_FORMAT_INFO_TILE_SIZE (info, 0);\n@@ -4770,7 +4769,8 @@\n-  \/* index of UV tile *\/\n-  offset = gst_video_tile_get_index (mode,\n-      tx, ty >> 1, GST_VIDEO_TILE_X_TILES (stride[1]),\n-      GST_VIDEO_TILE_Y_TILES (stride[1]));\n-  offset <<= ts;\n-  \/* On odd rows we return the second part of the UV tile *\/\n-  offset |= (ty & 1) << (ts - 1);\n+  index = gst_video_tile_get_index (mode, tx,\n+      GST_VIDEO_FORMAT_INFO_HAS_SUBTILES (info) ? ty : ty \/ 2,\n+      GST_VIDEO_TILE_X_TILES (stride[1]), GST_VIDEO_TILE_Y_TILES (stride[1]));\n+  offset = index * GST_VIDEO_FORMAT_INFO_TILE_SIZE (info, 1);\n+\n+  if (!GST_VIDEO_FORMAT_INFO_HAS_SUBTILES (info) && (ty & 1))\n+    offset += GST_VIDEO_FORMAT_INFO_TILE_SIZE (info, 1) \/ 2;\n+\n@@ -4779,1 +4779,2 @@\n-  tile_stride[0] = tile_stride[1] = tile_width;\n+  tile_stride[0] = GST_VIDEO_FORMAT_INFO_TILE_STRIDE (info, 0);\n+  tile_stride[1] = GST_VIDEO_FORMAT_INFO_TILE_STRIDE (info, 1);\n@@ -4788,1 +4789,1 @@\n-  const GstVideoFormatInfo *unpack_info, *finfo;\n+  const GstVideoFormatInfo *unpack_info, *tile_finfo;\n@@ -4790,1 +4791,1 @@\n-  gint ws, hs, ts, tile_width;\n+  gint tile_width, tile_height;\n@@ -4794,5 +4795,2 @@\n-  ws = GST_VIDEO_FORMAT_INFO_TILE_WS (info);\n-  hs = GST_VIDEO_FORMAT_INFO_TILE_HS (info);\n-  ts = ws + hs;\n-\n-  tile_width = 1 << ws;\n+  tile_width = GST_VIDEO_FORMAT_INFO_TILE_WIDTH (info, 0);\n+  tile_height = GST_VIDEO_FORMAT_INFO_TILE_HEIGHT (info, 0);\n@@ -4801,1 +4799,1 @@\n-  finfo = gst_video_format_get_info (GST_VIDEO_FORMAT_NV12);\n+  tile_finfo = gst_video_format_get_info (GST_VIDEO_FORMAT_NV12);\n@@ -4808,1 +4806,1 @@\n-  tx = x >> ws;\n+  tx = x \/ tile_width;\n@@ -4810,1 +4808,1 @@\n-  ntx = ((x + width - 1) >> ws) + 1;\n+  ntx = ((x + width - 1) \/ tile_width) + 1;\n@@ -4812,1 +4810,1 @@\n-  ty = y >> hs;\n+  ty = y \/ tile_height;\n@@ -4815,1 +4813,1 @@\n-  y = y & ((1 << hs) - 1);\n+  y = y % tile_height;\n@@ -4817,1 +4815,1 @@\n-  x = x & (tile_width - 1);\n+  x = x % tile_width;\n@@ -4824,2 +4822,1 @@\n-    get_tile_NV12 (tile_width, ts, tx, ty, info->tile_mode,\n-        data, stride, tdata, tstride);\n+    get_tile_NV12 (info, tx, ty, data, stride, tdata, tstride);\n@@ -4830,1 +4827,2 @@\n-    finfo->unpack_func (finfo, flags, line, tdata, tstride, x, y, unpack_width);\n+    tile_finfo->unpack_func (tile_finfo, flags, line, tdata, tstride, x, y,\n+        unpack_width);\n@@ -4844,1 +4842,1 @@\n-  const GstVideoFormatInfo *pack_info, *finfo;\n+  const GstVideoFormatInfo *pack_info, *tile_finfo;\n@@ -4846,1 +4844,1 @@\n-  gint ws, hs, ts, tile_width;\n+  gint tile_width, tile_height;\n@@ -4850,5 +4848,2 @@\n-  ws = GST_VIDEO_FORMAT_INFO_TILE_WS (info);\n-  hs = GST_VIDEO_FORMAT_INFO_TILE_HS (info);\n-  ts = ws + hs;\n-\n-  tile_width = 1 << ws;\n+  tile_width = GST_VIDEO_FORMAT_INFO_TILE_WIDTH (info, 0);\n+  tile_height = GST_VIDEO_FORMAT_INFO_TILE_HEIGHT (info, 0);\n@@ -4857,1 +4852,1 @@\n-  finfo = gst_video_format_get_info (GST_VIDEO_FORMAT_NV12);\n+  tile_finfo = gst_video_format_get_info (GST_VIDEO_FORMAT_NV12);\n@@ -4864,1 +4859,1 @@\n-  ntx = ((width - 1) >> ws) + 1;\n+  ntx = ((width - 1) \/ tile_width) + 1;\n@@ -4866,1 +4861,1 @@\n-  ty = y >> hs;\n+  ty = y \/ tile_height;\n@@ -4869,1 +4864,1 @@\n-  y = y & ((1 << hs) - 1);\n+  y = y % tile_height;\n@@ -4876,2 +4871,1 @@\n-    get_tile_NV12 (tile_width, ts, tx, ty, info->tile_mode,\n-        data, stride, tdata, tstride);\n+    get_tile_NV12 (info, tx, ty, data, stride, tdata, tstride);\n@@ -4879,1 +4873,1 @@\n-    \/* the number of bytes left to pack *\/\n+    \/* the number of pixels left to pack *\/\n@@ -4882,1 +4876,1 @@\n-    finfo->pack_func (finfo, flags, line, sstride, tdata, tstride,\n+    tile_finfo->pack_func (tile_finfo, flags, line, sstride, tdata, tstride,\n@@ -6760,0 +6754,139 @@\n+#define PACK_NV12_10BE_8L128  GST_VIDEO_FORMAT_AYUV64, unpack_NV12_10BE_8L128, 1, pack_NV12_10BE_8L128\n+#define GST_SET_U8_BITS(__pdata, __val, __mask, __shift)  \\\n+  *(guint8 *)(__pdata) = (guint8)(((*(guint8 *)(__pdata)) & (~((__mask) << (__shift)))) | (((__val) & (__mask)) << (__shift)))\n+#define GST_GET_U8_BITS(__pdata, __mask, __shift)   (((*(guint8 *)(__pdata)) >> (__shift)) & (__mask))\n+\n+static void\n+get_tile_NV12_10BE (const gint bit_depth,\n+    gint ts, gint ws, gint hs, gint ty, gint y, gint x,\n+    const gpointer data, const gint stride,\n+    void *restrict pdata[2], gint bits[2], guint16 mask[2])\n+{\n+  gint bit_index = bit_depth * x;\n+  gint line_size = GST_VIDEO_TILE_X_TILES (stride) << ts;\n+  gint tile_size = 1 << ts;\n+  gint tile_width = 1 << ws;\n+  gint pos[2];\n+  gsize offset;\n+  gint i;\n+\n+  pos[0] = bit_index \/ 8;\n+  bits[0] = 8 - (bit_index % 8);\n+  if (bits[0] > bit_depth)\n+    bits[0] = bit_depth;\n+  bits[1] = bit_depth > bits[0] ? (bit_depth - bits[0]) : 0;\n+  pos[1] = bits[1] ? (pos[0] + 1) : 0;\n+  mask[0] = (1 << bits[0]) - 1;\n+  mask[1] = (1 << bits[1]) - 1;\n+\n+  for (i = 0; i < 2; i++) {\n+    offset =\n+        line_size * ty + tile_size * (pos[i] >> ws) + tile_width * y +\n+        (pos[i] % tile_width);\n+    pdata[i] = ((guint8 *) data) + offset;\n+  }\n+}\n+\n+static void\n+unpack_NV12_10BE_8L128 (const GstVideoFormatInfo * info,\n+    GstVideoPackFlags flags, gpointer dest,\n+    const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  const gint bit_depth = 10;\n+  guint16 *restrict d = dest;\n+  gint ws, hs, ts;\n+  gint ty, uv_ty, uv_y;\n+  guint16 Y = 0, U = 0, V = 0;\n+  void *restrict pdata[2];\n+  gint bits[2];\n+  guint16 mask[2];\n+  int i;\n+  int j;\n+\n+  ws = 3;\n+  hs = 7;\n+  ts = ws + hs;\n+  ty = y >> hs;\n+  y = y & ((1 << hs) - 1);\n+  uv_ty = ty >> 1;\n+  uv_y = (((ty % 2) << hs) + y) \/ 2;\n+\n+  for (i = 0; i < width; i++) {\n+    j = x + i;\n+\n+    get_tile_NV12_10BE (bit_depth, ts, ws, hs, ty, y, j,\n+        data[0], stride[0], pdata, bits, mask);\n+    Y = (GST_GET_U8_BITS (pdata[0], mask[0], 0) << bits[1]) |\n+        GST_GET_U8_BITS (pdata[1], mask[1], 8 - bits[1]);\n+\n+    if ((i == 0) && (j % 2))\n+      j--;\n+    if (j % 2 == 0) {\n+      get_tile_NV12_10BE (bit_depth, ts, ws, hs, uv_ty, uv_y, j,\n+          data[1], stride[1], pdata, bits, mask);\n+      U = (GST_GET_U8_BITS (pdata[0], mask[0], 0) << bits[1]) |\n+          GST_GET_U8_BITS (pdata[1], mask[1], 8 - bits[1]);\n+\n+      get_tile_NV12_10BE (bit_depth, ts, ws, hs, uv_ty, uv_y, j + 1,\n+          data[1], stride[1], pdata, bits, mask);\n+      V = (GST_GET_U8_BITS (pdata[0], mask[0], 0) << bits[1]) |\n+          GST_GET_U8_BITS (pdata[1], mask[1], 8 - bits[1]);\n+    }\n+\n+    d[0] = 0xffff;\n+    d[1] = Y << 6;\n+    d[2] = U << 6;\n+    d[3] = V << 6;\n+    d += 4;\n+  }\n+}\n+\n+static void\n+pack_NV12_10BE_8L128 (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  const guint16 *restrict s = src;\n+  const gint bit_depth = 10;\n+  gint ws, hs, ts;\n+  gint ty, uv_ty, uv_y;\n+  guint16 Y, U, V;\n+  void *restrict pdata[2];\n+  gint bits[2];\n+  guint16 mask[2];\n+  int i;\n+\n+  ws = 3;\n+  hs = 7;\n+  ts = ws + hs;\n+  ty = y >> hs;\n+  y = y & ((1 << hs) - 1);\n+  uv_ty = ty >> 1;\n+  uv_y = (((ty % 2) << hs) + y) \/ 2;\n+\n+  for (i = 0; i < width; i++) {\n+    Y = s[i * 4 + 1] >> 6;\n+    U = s[i * 4 + 2] >> 6;\n+    V = s[i * 4 + 3] >> 6;\n+\n+    get_tile_NV12_10BE (bit_depth, ts, ws, hs, ty, y, i,\n+        data[0], stride[0], pdata, bits, mask);\n+    GST_SET_U8_BITS (pdata[0], Y >> bits[1], mask[0], 0);\n+    GST_SET_U8_BITS (pdata[1], Y & mask[1], mask[1], 8 - bits[1]);\n+\n+    if ((y % 2 == 0) && (i % 2 == 0)) {\n+      get_tile_NV12_10BE (bit_depth, ts, ws, hs, uv_ty, uv_y, i,\n+          data[1], stride[1], pdata, bits, mask);\n+      GST_SET_U8_BITS (pdata[0], U >> bits[1], mask[0], 0);\n+      GST_SET_U8_BITS (pdata[1], U & mask[1], mask[1], 8 - bits[1]);\n+\n+      get_tile_NV12_10BE (bit_depth, ts, ws, hs, uv_ty, uv_y, i + 1,\n+          data[1], stride[1], pdata, bits, mask);\n+      GST_SET_U8_BITS (pdata[0], V >> bits[1], mask[0], 0);\n+      GST_SET_U8_BITS (pdata[1], V & mask[1], mask[1], 8 - bits[1]);\n+    }\n+  }\n+}\n+\n@@ -6853,4 +6986,7 @@\n-\/* tile_mode, tile_ws (width shift), tile_hs (height shift) *\/\n-#define TILE_4x4(mode) GST_VIDEO_TILE_MODE_ ##mode, 2, 2\n-#define TILE_32x32(mode) GST_VIDEO_TILE_MODE_ ##mode, 5, 5\n-#define TILE_64x32(mode) GST_VIDEO_TILE_MODE_ ##mode, 6, 5\n+\/* tile_mode, tile_ws (width shift), tile_hs (height shift), tile_info[] *\/\n+#define TILE_4x4(mode) GST_VIDEO_TILE_MODE_ ##mode, 2, 2, { {4, 4, 4, 16}, {4, 4, 4, 16}, }\n+#define TILE_16x32s(mode) GST_VIDEO_TILE_MODE_ ##mode, 4, 5, { {16, 32, 16, 512}, {16, 16, 16, 256}, }\n+#define TILE_32x32(mode) GST_VIDEO_TILE_MODE_ ##mode, 5, 5, { {32, 32, 32, 1024}, {32, 32, 32, 1024}, }\n+#define TILE_64x32(mode) GST_VIDEO_TILE_MODE_ ##mode, 6, 5, { {64, 32, 64, 2048}, {64, 32, 64, 2048}, }\n+#define TILE_8x128(mode) GST_VIDEO_TILE_MODE_ ##mode, 3, 7, { {8, 128, 8, 1024}, {8, 128, 8, 1024}, }\n+#define TILE_10bit_8x128(mode) GST_VIDEO_TILE_MODE_ ##mode, 3, 7, { {0, 128, 8, 1024}, {0, 128, 8, 1024}, }\n@@ -6876,0 +7012,2 @@\n+#define MAKE_YUV_ST_FORMAT(name, desc, fourcc, depth, pstride, plane, offs, sub, pack, tile) \\\n+ { fourcc, {GST_VIDEO_FORMAT_ ##name, G_STRINGIFY(name), desc, GST_VIDEO_FORMAT_FLAG_YUV | GST_VIDEO_FORMAT_FLAG_COMPLEX | GST_VIDEO_FORMAT_FLAG_TILED | GST_VIDEO_FORMAT_FLAG_SUBTILES, depth, pstride, plane, offs, sub, pack, tile } }\n@@ -6899,0 +7037,1 @@\n+G_GNUC_BEGIN_IGNORE_DEPRECATIONS;\n@@ -7152,0 +7291,9 @@\n+  MAKE_YUV_ST_FORMAT (NV12_16L32S, \"raw video\",\n+      GST_MAKE_FOURCC ('M', 'M', '2', '1'), DPTH888, PSTR122, PLANE011,\n+      OFFS001, SUB420, PACK_NV12_TILED, TILE_16x32s (LINEAR)),\n+  MAKE_YUV_T_FORMAT (NV12_8L128, \"raw video\",\n+      GST_MAKE_FOURCC ('N', 'A', '1', '2'), DPTH888, PSTR122, PLANE011,\n+      OFFS001, SUB420, PACK_NV12_TILED, TILE_8x128 (LINEAR)),\n+  MAKE_YUV_T_FORMAT (NV12_10BE_8L128, \"raw video\",\n+      GST_MAKE_FOURCC ('N', 'T', '1', '2'), DPTH10_10_10, PSTR0, PLANE011,\n+      OFFS001, SUB420, PACK_NV12_10BE_8L128, TILE_10bit_8x128 (LINEAR)),\n@@ -7154,0 +7302,2 @@\n+G_GNUC_END_IGNORE_DEPRECATIONS;\n+\n@@ -7295,0 +7445,3 @@\n+  } else if (depth == 32 && bpp == 32 && !alpha_mask) {\n+    format = gst_video_format_from_rgb32_masks (red_mask, green_mask,\n+        blue_mask);\n@@ -7502,1 +7655,1 @@\n- * Returns: (transfer none): the default palette of @format or %NULL when\n+ * Returns: (transfer none) (nullable): the default palette of @format or %NULL when\n@@ -7552,0 +7705,38 @@\n+\/**\n+ * gst_video_format_info_extrapolate_stride:\n+ * @finfo: #GstVideoFormatInfo\n+ * @plane: a plane number\n+ * @stride: The fist plane stride\n+ *\n+ * Extrapolate @plane stride from the first stride of an image. This helper is\n+ * useful to support legacy API were only one stride is supported.\n+ *\n+ * Returns: The extrapolated stride for @plane\n+ *\n+ * Since: 1.22\n+ *\/\n+gint\n+gst_video_format_info_extrapolate_stride (const GstVideoFormatInfo * finfo,\n+    gint plane, gint stride)\n+{\n+  gint estride;\n+  gint comp[GST_VIDEO_MAX_COMPONENTS];\n+  gint i;\n+\n+  \/* there is nothing to extrapolate on first plane *\/\n+  if (plane == 0)\n+    return stride;\n+\n+  gst_video_format_info_component (finfo, plane, comp);\n+\n+  \/* For now, all planar formats have a single component on first plane, but\n+   * if there was a planar format with more, we'd have to make a ratio of the\n+   * number of component on the first plane against the number of component on\n+   * the current plane. *\/\n+  estride = 0;\n+  for (i = 0; i < GST_VIDEO_MAX_COMPONENTS && comp[i] >= 0; i++)\n+    estride += GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (finfo, comp[i], stride);\n+\n+  return estride;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-format.c","additions":242,"deletions":51,"binary":false,"changes":293,"status":"modified"},{"patch":"@@ -145,0 +145,3 @@\n+ * @GST_VIDEO_FORMAT_NV12_16L32S: NV12 with 16x32 Y tiles and 16x16 UV tiles. (Since: 1.22)\n+ * @GST_VIDEO_FORMAT_NV12_8L128 : NV12 with 8x128 tiles in linear order (Since: 1.22)\n+ * @GST_VIDEO_FORMAT_NV12_10BE_8L128 : NV12 10bit big endian with 8x128 tiles in linear order (Since: 1.22)\n@@ -373,0 +376,27 @@\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_NV12_16L32S:\n+   *\n+   * NV12 with 16x32 Y tiles and 16x16 UV tiles.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_VIDEO_FORMAT_NV12_16L32S,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_NV12_8L128:\n+   *\n+   * NV12 with 8x128 tiles in linear order.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_VIDEO_FORMAT_NV12_8L128,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_NV12_10BE_8L128:\n+   *\n+   * NV12 10bit big endian with 8x128 tiles in linear order.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_VIDEO_FORMAT_NV12_10BE_8L128,\n@@ -400,0 +430,2 @@\n+ * @GST_VIDEO_FORMAT_FLAG_SUBTILES: The tile size varies per plane\n+ *   according to the subsampling. (Since: 1.22)\n@@ -413,1 +445,9 @@\n-  GST_VIDEO_FORMAT_FLAG_TILED    = (1 << 8)\n+  GST_VIDEO_FORMAT_FLAG_TILED    = (1 << 8),\n+  \/**\n+   * GST_VIDEO_FORMAT_FLAG_SUBTILES:\n+   *\n+   * The tile size varies per plane according to the subsampling.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_VIDEO_FORMAT_FLAG_SUBTILES = (1 << 9)\n@@ -559,2 +599,5 @@\n- * @tile_ws: The width of a tile, in bytes, represented as a shift\n- * @tile_hs: The height of a tile, in bytes, represented as a shift\n+ * @tile_ws: The width of a tile, in bytes, represented as a shift. DEPRECATED,\n+ * use tile_info[] array instead.\n+ * @tile_hs: The height of a tile, in bytes, represented as a shift. DEPREACTED,\n+ * use tile_info[] array instead.\n+ * @tile_info: Per-plane tile information\n@@ -586,2 +629,2 @@\n-  guint tile_ws;\n-  guint tile_hs;\n+  G_DEPRECATED_FOR(tile_info) guint tile_ws;\n+  G_DEPRECATED_FOR(tile_info) guint tile_hs;\n@@ -589,2 +632,8 @@\n-  \/*< private >*\/\n-  gpointer _gst_reserved[GST_PADDING];\n+  \/**\n+   * GstVideoFormatInfo.tile_info:\n+   *\n+   * Information about the tiles for each of the planes.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GstVideoTileInfo tile_info[GST_VIDEO_MAX_PLANES];\n@@ -593,0 +642,11 @@\n+\/**\n+ * GST_VIDEO_FORMAT_INFO_IS_VALID_RAW:\n+ *\n+ * Tests that the given #GstVideoFormatInfo represents a valid un-encoded\n+ * format.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FORMAT_INFO_IS_VALID_RAW(info)              \\\n+  (info != NULL && (info)->format > GST_VIDEO_FORMAT_ENCODED)\n+\n@@ -605,0 +665,13 @@\n+\/**\n+ * GST_VIDEO_FORMAT_INFO_HAS_SUBTILES:\n+ * @info: a #GstVideoFormatInfo\n+ *\n+ * This macro checks if %GST_VIDEO_FORMAT_FLAG_SUBTILES is set. When this\n+ * flag is set, it means that the tile sizes must be scaled as per the\n+ * subsampling.\n+ *\n+ * Returns: %TRUE if the format uses subsampled tile sizes.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FORMAT_INFO_HAS_SUBTILES(info) (((info)->flags & GST_VIDEO_FORMAT_FLAG_SUBTILES) != 0)\n@@ -678,0 +751,54 @@\n+\/**\n+ * GST_VIDEO_FORMAT_INFO_TILE_SIZE:\n+ * @info: a #GstVideoFormatInfo\n+ * @plane: the plane index\n+ *\n+ * Provides the size in bytes of a tile in the specified @plane. This replaces\n+ * the width and height shift, which was limited to power of two dimensions.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FORMAT_INFO_TILE_SIZE(info,plane) ((info)->tile_info[plane].size)\n+\n+\/**\n+ * GST_VIDEO_FORMAT_INFO_TILE_WIDTH:\n+ * @info: a #GstVideoFormatInfo\n+ * @plane: the plane index\n+ *\n+ * See #GstVideoTileInfo.width.\n+ *\n+ * Return the width of one tile in pixels, zero if its not an integer.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FORMAT_INFO_TILE_WIDTH(info,plane) ((info)->tile_info[plane].width)\n+\n+\/**\n+ * GST_VIDEO_FORMAT_INFO_TILE_HEIGHT:\n+ * @info: a #GstVideoFormatInfo\n+ * @plane: the plane index\n+ *\n+ * See #GstVideoTileInfo.height.\n+ *\n+ * Returns the tile height.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FORMAT_INFO_TILE_HEIGHT(info,plane) ((info)->tile_info[plane].height)\n+\n+\/**\n+ * GST_VIDEO_FORMAT_INFO_TILE_STRIDE:\n+ * @info: a #GstVideoFormatInfo\n+ * @plane: the plane index\n+ *\n+ * See #GstVideoTileInfo.stride.\n+ *\n+ * Returns the stride of one tile, regardless of the internal details of the\n+ * tile (could be a complex system with subtile) the tiles size should alway\n+ * match the tile width multiplied by the tile stride.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FORMAT_INFO_TILE_STRIDE(info,plane) ((info)->tile_info[plane].stride)\n+\n+\n@@ -681,0 +808,4 @@\n+GST_VIDEO_API\n+gint gst_video_format_info_extrapolate_stride        (const GstVideoFormatInfo * finfo,\n+                                                      gint plane, gint stride);\n+\n@@ -746,1 +877,1 @@\n-    \"P010_10BE, P010_10LE, NV12_10LE32, NV12_10LE40, Y444, RGBP, GBR, BGRP, NV24, xBGR, BGRx, \" \\\n+    \"P010_10BE, P010_10LE, NV12_10LE32, NV12_10LE40, NV12_10BE_8L128, Y444, RGBP, GBR, BGRP, NV24, xBGR, BGRx, \" \\\n@@ -748,1 +879,1 @@\n-    \"YV12, NV21, NV12, NV12_64Z32, NV12_4L4, NV12_32L32, Y41B, IYU1, YVU9, YUV9, RGB16, \" \\\n+    \"YV12, NV21, NV12, NV12_8L128, NV12_64Z32, NV12_4L4, NV12_32L32, NV12_16L32S, Y41B, IYU1, YVU9, YUV9, RGB16, \" \\\n@@ -759,1 +890,1 @@\n-    \"P010_10LE, NV12_10LE32, NV12_10LE40, P010_10BE, Y444, RGBP, GBR, BGRP, NV24, xBGR, BGRx, \" \\\n+    \"P010_10LE, NV12_10LE32, NV12_10LE40, P010_10BE, NV12_10BE_8L128, Y444, RGBP, GBR, BGRP, NV24, xBGR, BGRx, \" \\\n@@ -761,1 +892,1 @@\n-    \"YV12, NV21, NV12, NV12_64Z32, NV12_4L4, NV12_32L32, Y41B, IYU1, YVU9, YUV9, RGB16, \" \\\n+    \"YV12, NV21, NV12, NV12_8L128, NV12_64Z32, NV12_4L4, NV12_32L32, NV12_16L32S, Y41B, IYU1, YVU9, YUV9, RGB16, \" \\\n@@ -807,0 +938,1 @@\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-format.h","additions":143,"deletions":11,"binary":false,"changes":154,"status":"modified"},{"patch":"@@ -269,0 +269,6 @@\n+  \/* Allow to unmap even if not mapped, to work nicely with\n+   * g_auto (GstVideoFrame) frame = GST_VIDEO_FRAME_INIT;\n+   * This is also more consistent with gst_buffer_unmap() *\/\n+  if (G_UNLIKELY (buffer == NULL))\n+    return;\n+\n@@ -346,1 +352,1 @@\n-    guint i, j, ws, hs, ts;\n+    guint i, j;\n@@ -349,5 +355,1 @@\n-    ws = GST_VIDEO_FORMAT_INFO_TILE_WS (finfo);\n-    hs = GST_VIDEO_FORMAT_INFO_TILE_HS (finfo);\n-    ts = ws + hs;\n-\n-    tile_size = 1 << ts;\n+    tile_size = GST_VIDEO_FORMAT_INFO_TILE_SIZE (finfo, plane);\n@@ -364,2 +366,2 @@\n-    w = ((w - 1) >> ws) + 1;\n-    h = ((h - 1) >> hs) + 1;\n+    w = MIN (sx_tiles, dx_tiles);\n+    h = MIN (sy_tiles, dy_tiles);\n@@ -376,1 +378,1 @@\n-        memcpy (dp + (di << ts), sp + (si << ts), tile_size);\n+        memcpy (dp + (di * tile_size), sp + (si * tile_size), tile_size);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-frame.c","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -96,0 +96,10 @@\n+\/**\n+ * GST_VIDEO_FRAME_INIT:\n+ *\n+ * Initializer for #GstVideoFrame\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_VIDEO_FRAME_INIT { { NULL, }, }\n+\n+\n@@ -252,0 +262,2 @@\n+G_DEFINE_AUTO_CLEANUP_CLEAR_FUNC(GstVideoFrame, gst_video_frame_unmap)\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-frame.h","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n- * Returns: a new #GstVideoInfo. free with gst_video_info_free.\n+ * Returns: (transfer full): a new #GstVideoInfo. free with gst_video_info_free.\n@@ -100,1 +100,1 @@\n- * Returns: a new #GstVideoInfo. free with gst_video_info_free().\n+ * Returns: (transfer full): a new #GstVideoInfo. free with gst_video_info_free().\n@@ -189,2 +189,3 @@\n-  if (!GST_VIDEO_FORMAT_INFO_IS_RGB (finfo) &&\n-      info->colorimetry.matrix == GST_VIDEO_COLOR_MATRIX_RGB) {\n+  if ((GST_VIDEO_FORMAT_INFO_IS_YUV (finfo)\n+          || GST_VIDEO_FORMAT_INFO_IS_GRAY (finfo))\n+      && info->colorimetry.matrix == GST_VIDEO_COLOR_MATRIX_RGB) {\n@@ -297,1 +298,1 @@\n- * Returns: @mode as a string or NULL if @mode in invalid.\n+ * Returns: @mode as a string.\n@@ -345,1 +346,1 @@\n- * Returns: @order as a string or NULL if @order in invalid.\n+ * Returns: @order as a string.\n@@ -577,1 +578,1 @@\n- * Returns: A #GstVideoInfo, or %NULL if @caps couldn't be parsed\n+ * Returns: (transfer full) (nullable): A #GstVideoInfo, or %NULL if @caps couldn't be parsed\n@@ -658,1 +659,1 @@\n- * Returns: a new #GstCaps containing the info of @info.\n+ * Returns: (transfer full): a new #GstCaps containing the info of @info.\n@@ -1099,11 +1100,10 @@\n-      gint ws = GST_VIDEO_FORMAT_INFO_TILE_WS (info->finfo);\n-      gint hs = GST_VIDEO_FORMAT_INFO_TILE_HS (info->finfo);\n-      info->stride[0] =\n-          GST_VIDEO_TILE_MAKE_STRIDE (GST_ROUND_UP_N (width, 1 << ws) >> ws,\n-          GST_ROUND_UP_N (height, 1 << hs) >> hs);\n-      info->stride[1] =\n-          GST_VIDEO_TILE_MAKE_STRIDE (GST_ROUND_UP_N (width, 1 << ws) >> ws,\n-          GST_ROUND_UP_N (height, 1 << (hs + 1)) >> (hs + 1));\n-      info->offset[0] = 0;\n-      info->offset[1] =\n-          GST_ROUND_UP_N (width, 1 << ws) * GST_ROUND_UP_N (height, 1 << hs);\n+      const gsize tile_size = GST_VIDEO_FORMAT_INFO_TILE_SIZE (info->finfo, 0);\n+      gint tile_width = GST_VIDEO_FORMAT_INFO_TILE_WIDTH (info->finfo, 0);\n+      gint tile_height = GST_VIDEO_FORMAT_INFO_TILE_HEIGHT (info->finfo, 0);\n+      gint n_tile_x = GST_ROUND_UP_N (info->width, tile_width) \/ tile_width;\n+      gint n_tile_y = GST_ROUND_UP_N (info->height, tile_height) \/ tile_height;\n+\n+      info->stride[0] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x, n_tile_y);\n+      info->stride[1] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x,\n+          GST_ROUND_UP_2 (n_tile_y) \/ 2);\n+      info->offset[1] = n_tile_x * n_tile_y * tile_size;\n@@ -1111,2 +1111,23 @@\n-          GST_ROUND_UP_N (width, 1 << ws) *\n-          (GST_ROUND_UP_N (height, 1 << (hs + 1)) \/ 2);\n+          n_tile_x * GST_ROUND_UP_2 (n_tile_y) \/ 2 * tile_size;\n+      break;\n+    }\n+    case GST_VIDEO_FORMAT_NV12_16L32S:\n+    {\n+      const gsize y_tile_size =\n+          GST_VIDEO_FORMAT_INFO_TILE_SIZE (info->finfo, 0);\n+      const gsize uv_tile_size =\n+          GST_VIDEO_FORMAT_INFO_TILE_SIZE (info->finfo, 0);\n+      gint tile_width = GST_VIDEO_FORMAT_INFO_TILE_WIDTH (info->finfo, 0);\n+      gint tile_height = GST_VIDEO_FORMAT_INFO_TILE_HEIGHT (info->finfo, 0);\n+      gint n_tile_x = GST_ROUND_UP_N (info->width, tile_width) \/ tile_width;\n+      gint n_tile_y = GST_ROUND_UP_N (info->height, tile_height) \/ tile_height;\n+\n+      info->stride[0] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x, n_tile_y);\n+      \/*\n+       * size of UV plane tiles is subsample, hence have the same number of\n+       * tiles in both directions.\n+       *\/\n+      info->stride[1] = info->stride[0];\n+      info->offset[0] = 0;\n+      info->offset[1] = n_tile_x * n_tile_y * y_tile_size;\n+      info->size = info->offset[1] + n_tile_x * n_tile_y * uv_tile_size;\n@@ -1201,0 +1222,15 @@\n+    case GST_VIDEO_FORMAT_NV12_8L128:\n+    {\n+      gint tile_size = GST_VIDEO_FORMAT_INFO_TILE_SIZE (info->finfo, 0);\n+      gint tile_width = GST_VIDEO_FORMAT_INFO_TILE_WIDTH (info->finfo, 0);\n+      gint tile_height = GST_VIDEO_FORMAT_INFO_TILE_HEIGHT (info->finfo, 0);\n+      gint ALIGN_W = tile_width;\n+      gint ALIGN_H = tile_height;\n+      guint n_tile_x, y_n_tile_y, uv_n_tile_y;\n+\n+      if (GST_VIDEO_INFO_IS_INTERLACED (info))\n+        ALIGN_H *= 2;\n+\n+      n_tile_x = GST_ROUND_UP_N (width, ALIGN_W) \/ tile_width;\n+      y_n_tile_y = GST_ROUND_UP_N (height, ALIGN_H) \/ tile_height;\n+      uv_n_tile_y = GST_ROUND_UP_2 (y_n_tile_y) \/ 2;\n@@ -1202,0 +1238,31 @@\n+      info->stride[0] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x, y_n_tile_y);\n+      info->stride[1] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x, uv_n_tile_y);\n+      info->offset[0] = 0;\n+      info->offset[1] = n_tile_x * y_n_tile_y * tile_size;\n+      info->size = info->offset[1] + n_tile_x * uv_n_tile_y * tile_size;\n+      break;\n+    }\n+    case GST_VIDEO_FORMAT_NV12_10BE_8L128:\n+    {\n+      gint tile_size = GST_VIDEO_FORMAT_INFO_TILE_SIZE (info->finfo, 0);\n+      gint tile_stride = GST_VIDEO_FORMAT_INFO_TILE_STRIDE (info->finfo, 0);\n+      gint tile_height = GST_VIDEO_FORMAT_INFO_TILE_HEIGHT (info->finfo, 0);\n+      gint stride = GST_ROUND_UP_8 (width * 10) >> 3;\n+      gint ALIGN_W = tile_stride;\n+      gint ALIGN_H = tile_height;\n+      guint n_tile_x, y_n_tile_y, uv_n_tile_y;\n+\n+      if (GST_VIDEO_INFO_IS_INTERLACED (info))\n+        ALIGN_H *= 2;\n+\n+      n_tile_x = GST_ROUND_UP_N (stride, ALIGN_W) \/ tile_stride;\n+      y_n_tile_y = GST_ROUND_UP_N (height, ALIGN_H) \/ tile_height;\n+      uv_n_tile_y = GST_ROUND_UP_2 (y_n_tile_y) \/ 2;\n+\n+      info->stride[0] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x, y_n_tile_y);\n+      info->stride[1] = GST_VIDEO_TILE_MAKE_STRIDE (n_tile_x, uv_n_tile_y);\n+      info->offset[0] = 0;\n+      info->offset[1] = n_tile_x * y_n_tile_y * tile_size;\n+      info->size = info->offset[1] + n_tile_x * uv_n_tile_y * tile_size;\n+      break;\n+    }\n@@ -1214,9 +1281,16 @@\n-        gint comp[GST_VIDEO_MAX_COMPONENTS];\n-        guint plane_height;\n-\n-        \/* Convert plane index to component index *\/\n-        gst_video_format_info_component (info->finfo, i, comp);\n-        plane_height =\n-            GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (info->finfo, comp[0],\n-            GST_VIDEO_INFO_FIELD_HEIGHT (info));\n-        plane_size[i] = plane_height * GST_VIDEO_INFO_PLANE_STRIDE (info, i);\n+        if (GST_VIDEO_FORMAT_INFO_IS_TILED (info->finfo)) {\n+          guint x_tiles = GST_VIDEO_TILE_X_TILES (info->stride[i]);\n+          guint y_tiles = GST_VIDEO_TILE_Y_TILES (info->stride[i]);\n+          plane_size[i] = x_tiles * y_tiles *\n+              GST_VIDEO_FORMAT_INFO_TILE_SIZE (info->finfo, i);\n+        } else {\n+          gint comp[GST_VIDEO_MAX_COMPONENTS];\n+          guint plane_height;\n+\n+          \/* Convert plane index to component index *\/\n+          gst_video_format_info_component (info->finfo, i, comp);\n+          plane_height =\n+              GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (info->finfo, comp[0],\n+              GST_VIDEO_INFO_FIELD_HEIGHT (info));\n+          plane_size[i] = plane_height * GST_VIDEO_INFO_PLANE_STRIDE (info, i);\n+        }\n@@ -1362,1 +1436,1 @@\n- * @plane_size: (out) (allow-none): array used to store the plane sizes\n+ * @plane_size: (out) (optional): array used to store the plane sizes\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-info.c","additions":105,"deletions":31,"binary":false,"changes":136,"status":"modified"},{"patch":"@@ -68,2 +68,0 @@\n- * Returns: The caps string representation of the mode, or NULL if invalid.\n- *\n@@ -73,0 +71,2 @@\n+ * Returns: (nullable): The caps string representation of the mode, or NULL if invalid.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-multiview.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -429,1 +429,1 @@\n- * Returns: (transfer none): the @n-th rectangle, or NULL if @n is out of\n+ * Returns: (transfer none) (nullable): the @n-th rectangle, or NULL if @n is out of\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-overlay-composition.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -108,0 +108,2 @@\n+typedef struct _GstVideoTileInfo GstVideoTileInfo;\n+\n@@ -116,0 +118,2 @@\n+ * @GST_VIDEO_TILE_MODE_LINEAR_SUBSAMPLED: Tiles are in row order, with\n+ *   variable tile size according to subsampling. (Since: 1.20)\n@@ -133,0 +137,57 @@\n+\n+\/**\n+ * GstVideoTileInfo:\n+ *\n+ * Description of a tile. This structure allow to describe arbitrary tile\n+ * dimensions and sizes.\n+ *\n+ * Since: 1.22\n+ *\/\n+struct _GstVideoTileInfo\n+{\n+  \/**\n+   * GstVideoTileInfo.width:\n+   *\n+   * The width in pixels of a tile. This value can be zero if the number of\n+   * pixels per line is not an integer value.\n+   *\n+   * Since: 1.22\n+   *\/\n+  guint width;\n+\n+  \/**\n+   * GstVideoTileInfo::height:\n+   *\n+   * The width in pixels of a tile. This value can be zero if the number of\n+   * pixels per line is not an integer value.\n+   *\n+   * Since: 1.22\n+   *\/\n+  guint height;\n+\n+  \/**\n+   * GstVideoTileInfo.stride:\n+   *\n+   * The stride (in bytes) of a tile line. Regardless if the tile have sub-tiles\n+   * this stride multiplied by the height should be equal to\n+   * #GstVideoTileInfo.size. This value is used to translate into linear stride\n+   * when older APIs are being used to expose this format.\n+   *\n+   * Since: 1.22\n+   *\/\n+  guint stride;\n+\n+  \/**\n+   * GstVideoTileInfo.size:\n+   *\n+   * The size in bytes of a tile. This value must be divisible by\n+   * #GstVideoTileInfo.stride.\n+   *\n+   * Since: 1.22\n+   *\/\n+  guint size;\n+\n+  \/* <private> *\/\n+  guint32 padding[GST_PADDING];\n+};\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-tile.h","additions":61,"deletions":0,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -195,0 +195,39 @@\n+\/**\n+ * gst_video_is_common_aspect_ratio:\n+ * @width: Width of the video frame\n+ * @height: Height of the video frame\n+ * @par_n: Pixel aspect ratio numerator\n+ * @par_d: Pixel aspect ratio denominator\n+ *\n+ * Given a frame's dimensions and pixel aspect ratio, this function will\n+ * calculate the frame's aspect ratio and compare it against a set of\n+ * common well-known \"standard\" aspect ratios.\n+ *\n+ * Returns: %TRUE if a known \"standard\" aspect ratio was\n+ * recognised, and %FALSE otherwise.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_video_is_common_aspect_ratio (gint width, gint height, gint par_n,\n+    gint par_d)\n+{\n+  gint dar_n, dar_d;\n+\n+  gst_util_fraction_multiply (width, height, par_n, par_d, &dar_n, &dar_d);\n+\n+  if (dar_n == 16 && dar_d == 9)\n+    return TRUE;\n+  if (dar_n == 4 && dar_d == 3)\n+    return TRUE;\n+  if (dar_n == 14 && dar_d == 9)\n+    return TRUE;\n+  if (dar_n == 8 && dar_d == 5)\n+    return TRUE;\n+  if (dar_n == 21 && dar_d == 11)\n+    return TRUE;\n+\n+  return FALSE;\n+}\n+\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video.c","additions":39,"deletions":0,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -154,0 +154,3 @@\n+GST_VIDEO_API\n+gboolean       gst_video_is_common_aspect_ratio (gint width, gint height, gint par_n, gint par_d);\n+\n@@ -185,1 +188,0 @@\n-#endif \/\/ GSTREAMER_LITE\n@@ -188,0 +190,1 @@\n+#endif \/\/ GSTREAMER_LITE\n@@ -207,0 +210,3 @@\n+#ifndef GSTREAMER_LITE\n+#include <gst\/video\/video-sei.h>\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video.h","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n- * gst-launch-1.0 audiotestsrc ! audio\/x-raw, channels=4 ! audioconvert mix-matrix=\"<<1.0, 0.0, 0.0, 0.0>, <0.0, 1.0, 0.0, 0.0>>\" ! audio\/x-raw,channels=2 ! autoaudiosink\n+ * gst-launch-1.0 audiotestsrc ! audio\/x-raw, channels=4 ! audioconvert mix-matrix=\"<<(float)1.0, (float)0.0, (float)0.0, (float)0.0>, <(float)0.0, (float)1.0, (float)0.0, (float)0.0>>\" ! audio\/x-raw,channels=2 ! autoaudiosink\n@@ -160,0 +160,1 @@\n+  PROP_DITHERING_THRESHOLD\n@@ -227,0 +228,12 @@\n+  \/**\n+   * GstAudioConvert:dithering-threshold:\n+   *\n+   * Threshold for the output bit depth at\/below which to apply dithering.\n+   *\n+   * Since: 1.22\n+   *\/\n+  g_object_class_install_property (gobject_class, PROP_DITHERING_THRESHOLD,\n+      g_param_spec_uint (\"dithering-threshold\", \"Dithering Threshold\",\n+          \"Threshold for the output bit depth at\/below which to apply dithering.\",\n+          0, 32, 20, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n+\n@@ -263,0 +276,1 @@\n+  this->dither_threshold = 20;\n@@ -686,0 +700,2 @@\n+    gst_structure_set (outs, \"channel-mask\", GST_TYPE_BITMASK,\n+        G_GUINT64_CONSTANT (0), NULL);\n@@ -768,0 +784,2 @@\n+      GST_AUDIO_CONVERTER_OPT_DITHER_THRESHOLD, G_TYPE_UINT,\n+      this->dither_threshold,\n@@ -919,0 +937,5 @@\n+    if (!GST_AUDIO_INFO_IS_VALID (&this->in_info)) {\n+      GST_WARNING_OBJECT (this, \"Got buffer, but not negotiated yet!\");\n+      return GST_FLOW_NOT_NEGOTIATED;\n+    }\n+\n@@ -981,0 +1004,3 @@\n+    case PROP_DITHERING_THRESHOLD:\n+      this->dither_threshold = g_value_get_uint (value);\n+      break;\n@@ -1017,0 +1043,3 @@\n+    case PROP_DITHERING_THRESHOLD:\n+      g_value_set_uint (value, this->dither_threshold);\n+      break;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/audioconvert\/gstaudioconvert.c","additions":30,"deletions":1,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -44,0 +44,1 @@\n+  guint dither_threshold;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/audioconvert\/gstaudioconvert.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -537,22 +537,0 @@\n-#define XML_BUFFER_SIZE 16\n-#define XML_INC_BUFFER {                                                \\\n-  pos++;                                                                \\\n-  if (pos == XML_BUFFER_SIZE) {                                         \\\n-    pos = 0;                                                            \\\n-    offset += XML_BUFFER_SIZE;                                          \\\n-    data = gst_type_find_peek (tf, offset, XML_BUFFER_SIZE);            \\\n-    if (data == NULL) return FALSE;                                     \\\n-  } else {                                                              \\\n-    data++;                                                             \\\n-  }                                                                     \\\n-}\n-\n-#define XML_INC_BUFFER_DATA {                                           \\\n-  pos++;                                                                \\\n-  if (pos >= length) {                                                  \\\n-    return FALSE;                                                       \\\n-  } else {                                                              \\\n-    data++;                                                             \\\n-  }                                                                     \\\n-}\n-\n@@ -564,1 +542,1 @@\n-  guint pos = 0;\n+  const guint8 *ptr;\n@@ -568,1 +546,9 @@\n-  if (length <= 5)\n+  \/* search for an opening tag *\/\n+  ptr = memchr (data, '<', length);\n+  if (!ptr)\n+    return FALSE;\n+\n+  length -= (ptr - data);\n+  data = ptr;\n+\n+  if (length < 5)\n@@ -575,0 +561,8 @@\n+  if (got_xmldec) {\n+    \/* look for ending ?> *\/\n+    data += 5;\n+    length -= 5;\n+\n+    ptr = memchr (data, '?', length);\n+    if (!ptr)\n+      return FALSE;\n@@ -576,0 +570,13 @@\n+    length -= (ptr - data);\n+    data = ptr;\n+\n+    if (length < 2)\n+      return FALSE;\n+\n+    got_xmldec = (memcmp (data, \"?>\", 2) == 0);\n+    if (!got_xmldec)\n+      return FALSE;\n+\n+    data += 2;\n+    length -= 2;\n+  }\n@@ -579,1 +586,0 @@\n-  \/* skip XMLDec in any case if we've got one *\/\n@@ -581,2 +587,29 @@\n-    pos += 5;\n-    data += 5;\n+    \/* search for the next opening tag *\/\n+    ptr = memchr (data, '<', length);\n+    if (!ptr)\n+      return FALSE;\n+\n+    length -= (ptr - data);\n+    data = ptr;\n+  }\n+\n+  \/* skip XML comments *\/\n+  while (length >= 4 && memcmp (data, \"<!--\", 4) == 0) {\n+    data += 4;\n+    length -= 4;\n+\n+    ptr = (const guint8 *) g_strstr_len ((const gchar *) data, length, \"-->\");\n+    if (!ptr)\n+      return FALSE;\n+    ptr += 3;\n+\n+    length -= (ptr - data);\n+    data = ptr;\n+\n+    \/* search for the next opening tag *\/\n+    ptr = memchr (data, '<', length);\n+    if (!ptr)\n+      return FALSE;\n+\n+    length -= (ptr - data);\n+    data = ptr;\n@@ -585,0 +618,3 @@\n+  if (elen == 0)\n+    return TRUE;\n+\n@@ -586,5 +622,3 @@\n-   * out if it is not within the first 4kB. *\/\n-  while (pos < MIN (4096, length)) {\n-    while (*data != '<' && pos < MIN (4096, length)) {\n-      XML_INC_BUFFER_DATA;\n-    }\n+   * out otherwise. *\/\n+  if (length < elen + 1)\n+    return FALSE;\n@@ -592,7 +626,18 @@\n-    XML_INC_BUFFER_DATA;\n-    if (!g_ascii_isalpha (*data)) {\n-      \/* if not alphabetic, it's a PI or an element \/ attribute declaration\n-       * like <?xxx or <!xxx *\/\n-      XML_INC_BUFFER_DATA;\n-      continue;\n-    }\n+  data += 1;\n+  length -= 1;\n+  if (memcmp (data, element, elen) != 0)\n+    return FALSE;\n+\n+  data += elen;\n+  length -= elen;\n+\n+  \/* check if there's a closing `>` following *\/\n+  ptr = memchr (data, '>', length);\n+  if (!ptr)\n+    return FALSE;\n+\n+  \/* between `<elem` and `>`, there should only be spaces, alphanum or `:`\n+   * until the first `=` for an attribute value *\/\n+  while (data < ptr) {\n+    if (*data == '>' || *data == '=')\n+      return TRUE;\n@@ -600,2 +645,1 @@\n-    \/* the first normal element, check if it's the one asked for *\/\n-    if (pos + elen + 1 >= length)\n+    if (!g_ascii_isprint (*data) && *data != '\\n' && *data != '\\r')\n@@ -603,1 +647,2 @@\n-    return (element && strncmp ((const char *) data, element, elen) == 0);\n+\n+    data++;\n@@ -613,1 +658,0 @@\n-  gboolean got_xmldec;\n@@ -615,2 +659,1 @@\n-  guint offset = 0;\n-  guint pos = 0;\n+  guint length;\n@@ -618,8 +661,1 @@\n-  data = gst_type_find_peek (tf, 0, XML_BUFFER_SIZE);\n-  if (!data)\n-    return FALSE;\n-\n-  \/* look for the XMLDec\n-   * see XML spec 2.8, Prolog and Document Type Declaration\n-   * http:\/\/www.w3.org\/TR\/2004\/REC-xml-20040204\/#sec-prolog-dtd *\/\n-  got_xmldec = (memcmp (data, \"<?xml\", 5) == 0);\n+  length = gst_type_find_get_length (tf);\n@@ -627,1 +663,5 @@\n-  if (strict && !got_xmldec)\n+  if (length == 0) {\n+    length = 4096;\n+    while (!(data = gst_type_find_peek (tf, 0, length)) && length >= 512)\n+      length \/= 2;\n+  } else if (length < 32) {\n@@ -629,5 +669,3 @@\n-\n-  \/* skip XMLDec in any case if we've got one *\/\n-  if (got_xmldec) {\n-    pos += 5;\n-    data += 5;\n+  } else {                      \/* the first few bytes should be enough *\/\n+    length = MIN (4096, length);\n+    data = gst_type_find_peek (tf, 0, length);\n@@ -636,19 +674,2 @@\n-  \/* look for the first element, it has to be the requested element. Bail\n-   * out if it is not within the first 4kB. *\/\n-  while (data && (offset + pos) < 4096) {\n-    while (*data != '<' && (offset + pos) < 4096) {\n-      XML_INC_BUFFER;\n-    }\n-\n-    XML_INC_BUFFER;\n-    if (!g_ascii_isalpha (*data)) {\n-      \/* if not alphabetic, it's a PI or an element \/ attribute declaration\n-       * like <?xxx or <!xxx *\/\n-      XML_INC_BUFFER;\n-      continue;\n-    }\n-\n-    \/* the first normal element, check if it's the one asked for *\/\n-    data = gst_type_find_peek (tf, offset + pos, elen + 1);\n-    return (data && element && strncmp ((char *) data, element, elen) == 0);\n-  }\n+  if (!data)\n+    return FALSE;\n@@ -656,1 +677,2 @@\n-  return FALSE;\n+  return xml_check_first_element_from_data (data, length, element, elen,\n+      strict);\n@@ -2148,0 +2170,1 @@\n+  static const gchar svg_namespace[] = \"http:\/\/www.w3.org\/2000\/svg\";\n@@ -2149,0 +2172,1 @@\n+  guint probability = GST_TYPE_FIND_NONE;\n@@ -2151,1 +2175,2 @@\n-    if (G_UNLIKELY (!data_scan_ctx_ensure_data (tf, &c, 12)))\n+    if (G_UNLIKELY (!data_scan_ctx_ensure_data (tf, &c,\n+                strlen (svg_namespace))))\n@@ -2154,1 +2179,2 @@\n-    if (memcmp (svg_doctype, c.data, 12) == 0) {\n+    if (memcmp (svg_doctype, c.data, 12) == 0\n+        || memcmp (svg_namespace, c.data, strlen (svg_namespace)) == 0) {\n@@ -2158,2 +2184,3 @@\n-      gst_type_find_suggest (tf, GST_TYPE_FIND_LIKELY, SVG_CAPS);\n-      return;\n+      \/\/ Check if we also find the SVG namespace later as that would be a\n+      \/\/ clearer indication\n+      probability = GST_TYPE_FIND_LIKELY;\n@@ -2163,0 +2190,3 @@\n+\n+  if (probability > GST_TYPE_FIND_NONE)\n+    gst_type_find_suggest (tf, probability, SVG_CAPS);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctions.c","additions":113,"deletions":83,"binary":false,"changes":196,"status":"modified"},{"patch":"@@ -213,1 +213,3 @@\n-  \/* Generate codec data to be able to set profile\/level on the caps *\/\n+  \/* Generate codec data to be able to set profile\/level on the caps.\n+   * The codec_data data is according to AudioSpecificConfig,\n+   * ISO\/IEC 14496-3, 1.6.2.1 *\/\n@@ -234,2 +236,6 @@\n-    GST_DEBUG_OBJECT (GST_BASE_PARSE (aacparse)->srcpad,\n-        \"Caps can not intersect\");\n+    GstCaps *convcaps = gst_caps_copy (src_caps);\n+    GstStructure *cs = gst_caps_get_structure (convcaps, 0);\n+\n+    GST_DEBUG_OBJECT (aacparse, \"Caps do not intersect: parsed %\" GST_PTR_FORMAT\n+        \" and peer %\" GST_PTR_FORMAT, src_caps, peercaps);\n+\n@@ -237,10 +243,5 @@\n-      GST_DEBUG_OBJECT (GST_BASE_PARSE (aacparse)->srcpad,\n-          \"Input is ADTS, trying raw\");\n-      gst_caps_set_simple (src_caps, \"stream-format\", G_TYPE_STRING, \"raw\",\n-          NULL);\n-      if (gst_caps_can_intersect (src_caps, peercaps)) {\n-        GstBuffer *codec_data_buffer;\n-\n-        GST_DEBUG_OBJECT (GST_BASE_PARSE (aacparse)->srcpad,\n-            \"Caps can intersect, we will drop the ADTS layer\");\n-        aacparse->output_header_type = DSPAAC_HEADER_NONE;\n+      GstBuffer *codec_data_buffer = gst_buffer_new_and_alloc (2);\n+\n+      gst_buffer_fill (codec_data_buffer, 0, codec_data, 2);\n+      gst_structure_set (cs, \"stream-format\", G_TYPE_STRING, \"raw\",\n+          \"codec_data\", GST_TYPE_BUFFER, codec_data_buffer, NULL);\n@@ -248,7 +249,4 @@\n-        \/* The codec_data data is according to AudioSpecificConfig,\n-           ISO\/IEC 14496-3, 1.6.2.1 *\/\n-        codec_data_buffer = gst_buffer_new_and_alloc (2);\n-        gst_buffer_fill (codec_data_buffer, 0, codec_data, 2);\n-        gst_caps_set_simple (src_caps, \"codec_data\", GST_TYPE_BUFFER,\n-            codec_data_buffer, NULL);\n-        gst_buffer_unref (codec_data_buffer);\n+      if (gst_caps_can_intersect (convcaps, peercaps)) {\n+        GST_DEBUG_OBJECT (aacparse, \"Converting from ADTS to raw\");\n+        aacparse->output_header_type = DSPAAC_HEADER_NONE;\n+        gst_caps_replace (&src_caps, convcaps);\n@@ -256,0 +254,2 @@\n+\n+      gst_buffer_unref (codec_data_buffer);\n@@ -257,7 +257,5 @@\n-      GST_DEBUG_OBJECT (GST_BASE_PARSE (aacparse)->srcpad,\n-          \"Input is raw, trying ADTS\");\n-      gst_caps_set_simple (src_caps, \"stream-format\", G_TYPE_STRING, \"adts\",\n-          NULL);\n-      if (gst_caps_can_intersect (src_caps, peercaps)) {\n-        GST_DEBUG_OBJECT (GST_BASE_PARSE (aacparse)->srcpad,\n-            \"Caps can intersect, we will prepend ADTS headers\");\n+      gst_structure_set (cs, \"stream-format\", G_TYPE_STRING, \"adts\", NULL);\n+      gst_structure_remove_field (cs, \"codec_data\");\n+\n+      if (gst_caps_can_intersect (convcaps, peercaps)) {\n+        GST_DEBUG_OBJECT (aacparse, \"Converting from raw to ADTS\");\n@@ -265,0 +263,1 @@\n+        gst_caps_replace (&src_caps, convcaps);\n@@ -267,0 +266,2 @@\n+\n+    gst_caps_unref (convcaps);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audioparsers\/gstaacparse.c","additions":28,"deletions":27,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -38,0 +38,78 @@\n+\/* Notes about gapless playback, \"Frankenstein\" streams, and the Xing header frame:\n+ *\n+ * Gapless playback is based on the LAME tag, which is located in the Xing\n+ * header frame. The tag contains the encoder delay and encoder padding.\n+ * The encoder delay specifies how many padding nullsamples have been prepended\n+ * by the encoder at the start of the mp3 stream, while the encoder padding\n+ * specifies how many padding nullsamples got added at the end of the stream.\n+ *\n+ * In addition, there is also a \"decoder delay\". This affects all existing\n+ * mp3 decoders - they themselves introduce a delay into the signal due to\n+ * the way mp3 decoding works. This delay is 529 samples long in all known\n+ * decoders. Unlike the encoder delay, the decoder delay is not specified\n+ * anywhere in the mp3 stream. Players\/decoders therefore hardcode the\n+ * decoder delay as 529 samples.\n+ *\n+ * (The LAME tech FAQ mentions 528 samples instead of 529, but LAME seems to\n+ * use 529 samples. Also, decoders like mpg123 use 529 samples instead of 528.\n+ * The situation is a little unclear, but 529 samples seems to be standard.)\n+ *\n+ * For proper gapless playback, both mpegaudioparse and a downstream MPEG\n+ * audio decoder must do their part. mpegaudioparse adjusts buffer PTS\/DTS\n+ * and durations, and adds GstAudioClippingMeta to outgoing buffers if\n+ * clipping is necessary. MPEG decoders then clip decoded frames according\n+ * to that meta (if present).\n+ *\n+ * To detect when to add GstAudioClippingMeta and when to adjust PTS\/DTS\/\n+ * durations, the number of the current frame is retrieved. Based on that, the\n+ * current stream position in samples is calculated. With the sample position,\n+ * it is determined whether or not the current playback position is still\n+ * if the actual playback range (= in the actual playback range of the stream\n+ * that excludes padding samples), or if it is already outside, or partially\n+ * outside.\n+ *\n+ * start_of_actual_samples and end_of_actual_samples define the start\/end\n+ * of this actual playback range, in samples. So:\n+ * If sample_pos >= start_of_actual_samples and sample_pos end_of_actual_samples\n+ * -> sample_pos is inside the actual playback range.\n+ *\n+ * (The decoder delay could in theory be left for the decoder to worry\n+ * about. But then, the decoder would also have to adjust PTS\/DTS\/durations\n+ * of decoded buffers, which is not something a GstAudioDecoder based element\n+ * should have to deal with. So, for convenience, mpegaudioparse also factors\n+ * that delay into its calculations.)\n+ *\n+ *\n+ * \"Frankenstein\" streams are MPEG streams which have streams beyond\n+ * what the Xing metadata indicates. Such streams typically are the\n+ * result of poorly stitching individual mp3s together, like this:\n+ *\n+ *   cat first.mp3 second.mp3 > joined.mp3\n+ *\n+ * The resulting mp3 is not guaranteed to be valid. In particular, this can\n+ * cause confusion when first.mp3 contains a Xing header frame. Its length\n+ * indicator then does not match the actual length (which is bigger). When\n+ * this is detected, a log line about this being a Frankenstein stream is\n+ * generated.\n+ *\n+ *\n+ * Xing header frames are empty dummy MPEG frames. They only exist for\n+ * supplying metadata. They are encoded as valid silent MPEG frames for\n+ * backwards compatibility with older hardware MP3 players, but can be safely\n+ * dropped.\n+ *\n+ * For more about Xing header frames, see:\n+ * https:\/\/www.codeproject.com\/Articles\/8295\/MPEG-Audio-Frame-Header#XINGHeader\n+ * https:\/\/www.compuphase.com\/mp3\/mp3loops.htm#PADDING_DELAYS\n+ *\n+ * To facilitate gapless playback and ensure that MPEG audio decoders don't\n+ * actually decode this frame as an empty MPEG frame, it is marked here as\n+ * GST_BUFFER_FLAG_DECODE_ONLY \/ GST_BUFFER_FLAG_DROPPABLE in mpegaudioparse\n+ * after its metadata got extracted. It is also marked as such if it is\n+ * encountered again after the user for example seeked back to the beginning\n+ * of the mp3 stream. Its duration is also set to zero to make sure that the\n+ * frame does not cause baseparse to increment the timestamp of the frame that\n+ * follows this one.\n+ *\n+ *\/\n+\n@@ -101,0 +179,4 @@\n+static gboolean gst_mpeg_audio_parse_src_query (GstBaseParse * parse,\n+    GstQuery * query);\n+static gboolean gst_mpeg_audio_parse_sink_event (GstBaseParse * parse,\n+    GstEvent * event);\n@@ -107,0 +189,4 @@\n+static gboolean\n+gst_mpeg_audio_parse_check_if_is_xing_header_frame (GstMpegAudioParse *\n+    mp3parse, GstBuffer * buf);\n+\n@@ -169,0 +255,2 @@\n+  parse_class->src_query = GST_DEBUG_FUNCPTR (gst_mpeg_audio_parse_src_query);\n+  parse_class->sink_event = GST_DEBUG_FUNCPTR (gst_mpeg_audio_parse_sink_event);\n@@ -197,0 +285,1 @@\n+  mp3parse->upstream_format = GST_FORMAT_UNDEFINED;\n@@ -203,0 +292,3 @@\n+  mp3parse->spf = 0;\n+\n+  mp3parse->outgoing_frame_is_xing_header = FALSE;\n@@ -227,0 +319,6 @@\n+  mp3parse->decoder_delay = 0;\n+  mp3parse->start_of_actual_samples = 0;\n+  mp3parse->end_of_actual_samples = 0;\n+  mp3parse->total_padding_time = GST_CLOCK_TIME_NONE;\n+  mp3parse->start_padding_time = GST_CLOCK_TIME_NONE;\n+  mp3parse->end_padding_time = GST_CLOCK_TIME_NONE;\n@@ -759,0 +857,5 @@\n+    \/* We need the frame duration for calculating the frame number later\n+     * in gst_mpeg_audio_parse_pre_push_frame (). *\/\n+    mp3parse->frame_duration = gst_util_uint64_scale (GST_SECOND,\n+        mp3parse->spf, mp3parse->rate);\n+\n@@ -778,0 +881,15 @@\n+  \/* While during normal playback, the Xing header frame is seen only once\n+   * (right at the beginning), we may see it again if the user seeked back\n+   * to the beginning. To make sure it is dropped again and NOT pushed\n+   * downstream, we have to check every frame for Xing IDs.\n+   *\n+   * (sent_codec_tag is TRUE after this Xing frame got parsed.) *\/\n+  if (G_LIKELY (mp3parse->sent_codec_tag)) {\n+    if (G_UNLIKELY (gst_mpeg_audio_parse_check_if_is_xing_header_frame\n+            (mp3parse, buf))) {\n+      GST_DEBUG_OBJECT (mp3parse, \"This is a Xing header frame, which \"\n+          \"contains no meaningful audio data, and can be safely dropped\");\n+      mp3parse->outgoing_frame_is_xing_header = TRUE;\n+    }\n+  }\n+\n@@ -788,0 +906,11 @@\n+  \/* We don't actually drop the frame right here, but rather in\n+   * gst_mpeg_audio_parse_pre_push_frame (), since it is still important\n+   * to let other code bits do their work there even if we want to drop\n+   * the current frame. *\/\n+  if (G_UNLIKELY (mp3parse->outgoing_frame_is_xing_header)) {\n+    frame->flags |= GST_BASE_PARSE_FRAME_FLAG_NO_FRAME;\n+    \/* Set duration to zero to prevent the baseparse class\n+     * from incrementing outgoing timestamps *\/\n+    GST_BUFFER_DURATION (frame->buffer) = 0;\n+  }\n+\n@@ -795,0 +924,48 @@\n+static gboolean\n+gst_mpeg_audio_parse_check_if_is_xing_header_frame (GstMpegAudioParse *\n+    mp3parse, GstBuffer * buf)\n+{\n+  \/* TODO: get rid of code duplication\n+   * (see gst_mpeg_audio_parse_handle_first_frame ()) *\/\n+\n+  const guint32 xing_id = 0x58696e67;   \/* 'Xing' in hex *\/\n+  const guint32 info_id = 0x496e666f;   \/* 'Info' in hex - found in LAME CBR files *\/\n+\n+  gint offset_xing;\n+  GstMapInfo map;\n+  guint8 *data;\n+  guint64 avail;\n+  guint32 read_id_xing = 0;\n+  gboolean ret = FALSE;\n+\n+  \/* Check first frame for Xing info *\/\n+  if (mp3parse->version == 1) { \/* MPEG-1 file *\/\n+    if (mp3parse->channels == 1)\n+      offset_xing = 0x11;\n+    else\n+      offset_xing = 0x20;\n+  } else {                      \/* MPEG-2 header *\/\n+    if (mp3parse->channels == 1)\n+      offset_xing = 0x09;\n+    else\n+      offset_xing = 0x11;\n+  }\n+\n+  \/* Skip the 4 bytes of the MP3 header too *\/\n+  offset_xing += 4;\n+\n+  \/* Check if we have enough data to read the Xing header *\/\n+  gst_buffer_map (buf, &map, GST_MAP_READ);\n+  data = map.data;\n+  avail = map.size;\n+\n+  if (avail >= offset_xing + 4) {\n+    read_id_xing = GST_READ_UINT32_BE (data + offset_xing);\n+    ret = (read_id_xing == xing_id || read_id_xing == info_id);\n+  }\n+\n+  gst_buffer_unmap (buf, &map);\n+\n+  return ret;\n+}\n+\n@@ -855,0 +1032,1 @@\n+    guint64 num_xing_samples = 0;\n@@ -859,0 +1037,4 @@\n+    GST_DEBUG_OBJECT (mp3parse, \"This is a Xing header frame, which contains \"\n+        \"no meaningful audio data, and can be safely dropped\");\n+    mp3parse->outgoing_frame_is_xing_header = TRUE;\n+\n@@ -889,0 +1071,1 @@\n+        num_xing_samples = (guint64) (mp3parse->xing_frames) * (mp3parse->spf);\n@@ -890,2 +1073,1 @@\n-            (guint64) (mp3parse->xing_frames) * (mp3parse->spf),\n-            mp3parse->rate);\n+            num_xing_samples, mp3parse->rate);\n@@ -900,0 +1082,4 @@\n+    \/* Store the entire time as actual total time for now. Should there be\n+     * any padding present, this value will get adjusted accordingly. *\/\n+    mp3parse->xing_actual_total_time = mp3parse->xing_total_time;\n+\n@@ -981,2 +1167,4 @@\n-    GST_DEBUG_OBJECT (mp3parse, \"Xing header reported %u frames, time %\"\n-        GST_TIME_FORMAT \", %u bytes, vbr scale %u\", mp3parse->xing_frames,\n+    GST_DEBUG_OBJECT (mp3parse, \"Xing header reported %u frames, %\"\n+        G_GUINT64_FORMAT \" samples, time %\" GST_TIME_FORMAT\n+        \" (this includes potentially present padding data), %u bytes,\"\n+        \" vbr scale %u\", mp3parse->xing_frames, num_xing_samples,\n@@ -1000,0 +1188,2 @@\n+      guint64 total_padding_samples;\n+      guint64 actual_num_xing_samples;\n@@ -1015,0 +1205,2 @@\n+      total_padding_samples = encoder_delay + encoder_padding;\n+\n@@ -1018,2 +1210,52 @@\n-      GST_DEBUG_OBJECT (mp3parse, \"Encoder delay %u, encoder padding %u\",\n-          encoder_delay, encoder_padding);\n+      \/* As mentioned in the overview at the beginning of this source\n+       * file, decoders exhibit a delay of 529 samples. *\/\n+      mp3parse->decoder_delay = 529;\n+\n+      \/* Where the actual, non-padding samples start & end, in sample offsets. *\/\n+      mp3parse->start_of_actual_samples = mp3parse->encoder_delay +\n+          mp3parse->decoder_delay;\n+      mp3parse->end_of_actual_samples = num_xing_samples +\n+          mp3parse->decoder_delay - mp3parse->encoder_padding;\n+\n+      \/* Length of padding at the start and at the end of the stream,\n+       * in nanoseconds. *\/\n+      mp3parse->start_padding_time = gst_util_uint64_scale_int (GST_SECOND,\n+          mp3parse->start_of_actual_samples, mp3parse->rate);\n+      mp3parse->end_padding_time = mp3parse->xing_total_time -\n+          gst_util_uint64_scale_int (mp3parse->end_of_actual_samples,\n+          GST_SECOND, mp3parse->rate);\n+\n+      \/* Total length of all combined padding samples, in nanoseconds. *\/\n+      mp3parse->total_padding_time = gst_util_uint64_scale_int (GST_SECOND,\n+          total_padding_samples, mp3parse->rate);\n+\n+      \/* Length of media, in samples, without the number of padding samples. *\/\n+      actual_num_xing_samples = (num_xing_samples >= total_padding_samples) ?\n+          (num_xing_samples - total_padding_samples) : 0;\n+      \/* Length of media, converted to nanoseconds. This is used for setting\n+       * baseparse's duration. *\/\n+      mp3parse->xing_actual_total_time = gst_util_uint64_scale (GST_SECOND,\n+          actual_num_xing_samples, mp3parse->rate);\n+\n+      GST_DEBUG_OBJECT (mp3parse, \"Encoder delay: %u samples\",\n+          mp3parse->encoder_delay);\n+      GST_DEBUG_OBJECT (mp3parse, \"Encoder padding: %u samples\",\n+          mp3parse->encoder_padding);\n+      GST_DEBUG_OBJECT (mp3parse, \"Decoder delay: %u samples\",\n+          mp3parse->decoder_delay);\n+      GST_DEBUG_OBJECT (mp3parse, \"Start of actual samples: %\"\n+          G_GUINT64_FORMAT, mp3parse->start_of_actual_samples);\n+      GST_DEBUG_OBJECT (mp3parse, \"End of actual samples: %\"\n+          G_GUINT64_FORMAT, mp3parse->end_of_actual_samples);\n+      GST_DEBUG_OBJECT (mp3parse, \"Total padding samples: %\" G_GUINT64_FORMAT,\n+          total_padding_samples);\n+      GST_DEBUG_OBJECT (mp3parse, \"Start padding time: %\" GST_TIME_FORMAT,\n+          GST_TIME_ARGS (mp3parse->start_padding_time));\n+      GST_DEBUG_OBJECT (mp3parse, \"End padding time: %\" GST_TIME_FORMAT,\n+          GST_TIME_ARGS (mp3parse->end_padding_time));\n+      GST_DEBUG_OBJECT (mp3parse, \"Total padding time: %\" GST_TIME_FORMAT,\n+          GST_TIME_ARGS (mp3parse->total_padding_time));\n+      GST_DEBUG_OBJECT (mp3parse, \"Actual total media samples: %\"\n+          G_GUINT64_FORMAT, actual_num_xing_samples);\n+      GST_DEBUG_OBJECT (mp3parse, \"Actual total media length: %\"\n+          GST_TIME_FORMAT, GST_TIME_ARGS (mp3parse->xing_actual_total_time));\n@@ -1157,1 +1399,1 @@\n-        mp3parse->xing_total_time, 0);\n+        mp3parse->xing_actual_total_time, 0);\n@@ -1332,0 +1574,85 @@\n+static gboolean\n+gst_mpeg_audio_parse_src_query (GstBaseParse * parse, GstQuery * query)\n+{\n+  gboolean res = FALSE;\n+  GstMpegAudioParse *mp3parse = GST_MPEG_AUDIO_PARSE (parse);\n+\n+  res = GST_BASE_PARSE_CLASS (parent_class)->src_query (parse, query);\n+  if (!res)\n+    return FALSE;\n+\n+  \/* If upstream operates in BYTE format then consider any parsed Xing\/LAME\n+   * header to remove encoder\/decoder delay and padding samples from the\n+   * position query. *\/\n+  if (mp3parse->upstream_format == GST_FORMAT_BYTES\n+      || GST_PAD_MODE (GST_BASE_PARSE_SINK_PAD (parse)) == GST_PAD_MODE_PULL) {\n+    switch (GST_QUERY_TYPE (query)) {\n+      case GST_QUERY_POSITION:{\n+        GstFormat format;\n+        gint64 position, new_position;\n+        GstClockTime duration_to_skip;\n+        gst_query_parse_position (query, &format, &position);\n+\n+        \/* Adjust the position to exclude padding samples. *\/\n+\n+        if ((position < 0) || (format != GST_FORMAT_TIME))\n+          break;\n+\n+        duration_to_skip = mp3parse->frame_duration +\n+            mp3parse->start_padding_time;\n+\n+        if (position < duration_to_skip)\n+          new_position = 0;\n+        else\n+          new_position = position - duration_to_skip;\n+\n+        if (new_position > (mp3parse->xing_actual_total_time))\n+          new_position = mp3parse->xing_actual_total_time;\n+\n+        GST_LOG_OBJECT (mp3parse, \"applying gapless padding info to position \"\n+            \"query response: %\" GST_TIME_FORMAT \" -> %\" GST_TIME_FORMAT,\n+            GST_TIME_ARGS (position), GST_TIME_ARGS (new_position));\n+\n+        gst_query_set_position (query, GST_FORMAT_TIME, new_position);\n+\n+        break;\n+      }\n+\n+      default:\n+        break;\n+    }\n+  }\n+\n+  return res;\n+}\n+\n+static gboolean\n+gst_mpeg_audio_parse_sink_event (GstBaseParse * parse, GstEvent * event)\n+{\n+  gboolean res = FALSE;\n+  GstMpegAudioParse *mp3parse = GST_MPEG_AUDIO_PARSE (parse);\n+\n+  res =\n+      GST_BASE_PARSE_CLASS (parent_class)->sink_event (parse,\n+      gst_event_ref (event));\n+  if (!res) {\n+    gst_event_unref (event);\n+    return FALSE;\n+  }\n+\n+  switch (GST_EVENT_TYPE (event)) {\n+    case GST_EVENT_SEGMENT:{\n+      const GstSegment *segment;\n+\n+      gst_event_parse_segment (event, &segment);\n+      mp3parse->upstream_format = segment->format;\n+    }\n+    default:\n+      break;\n+  }\n+\n+  gst_event_unref (event);\n+\n+  return res;\n+}\n+\n@@ -1432,0 +1759,173 @@\n+  \/* adjust buffer PTS\/DTS\/durations according to gapless playback info *\/\n+  if ((mp3parse->upstream_format == GST_FORMAT_BYTES\n+          || GST_PAD_MODE (GST_BASE_PARSE_SINK_PAD (parse)) ==\n+          GST_PAD_MODE_PULL)\n+      && GST_CLOCK_TIME_IS_VALID (mp3parse->total_padding_time)) {\n+    guint64 frame_nr;\n+    GstClockTime pts, dts;\n+    gboolean add_clipping_meta = FALSE;\n+    guint32 start_clip = 0, end_clip = 0;\n+    GstClockTime timestamp_decrement;\n+    guint64 sample_pos;\n+    guint64 sample_pos_end;\n+\n+    \/* Get the number of the current frame so we can determine where we\n+     * currently are in the MPEG stream.\n+     *\n+     * Gapless playback is best done based on samples, not timestamps,\n+     * to avoid potential rounding errors that can otherwise cause a few\n+     * samples to be incorrectly clipped or not clipped.\n+     *\n+     * TODO: At the moment, there is no dedicated baseparse API for finding\n+     * out what frame we are currently in. The frame number is calculated\n+     * out of the PTS of the current frame. Each frame has the same duration,\n+     * and at this point, the buffer's PTS has not been adjusted to exclude\n+     * the padding samples, so the PTS will be an integer multiple of\n+     * frame_duration. However, this is not an ideal solution. Investigate\n+     * how to properly implement this. *\/\n+    frame_nr = GST_BUFFER_PTS (frame->buffer) \/ mp3parse->frame_duration;\n+    GST_LOG_OBJECT (mp3parse, \"Handling MP3 frame #%\" G_GUINT64_FORMAT,\n+        frame_nr);\n+\n+    \/* By default, we subtract the start_padding_time from the timestamps.\n+     * start_padding_time specifies the duration of the padding samples\n+     * at the beginning of the MPEG stream. To factor out these padding\n+     * samples, we have to shift the timestamps back, which is done with\n+     * this decrement. *\/\n+    timestamp_decrement = mp3parse->start_padding_time;\n+\n+    pts = GST_BUFFER_PTS (frame->buffer);\n+    dts = GST_BUFFER_DTS (frame->buffer);\n+\n+    \/* sample_pos specifies the current position of the beginning of the\n+     * current frame, while sample_pos_end specifies the current position\n+     * of 1 samples past the end of the current frame. Both values are\n+     * in samples. *\/\n+    sample_pos = frame_nr * mp3parse->spf;\n+    sample_pos_end = sample_pos + mp3parse->spf;\n+\n+    \/* Check if the frame is not (fully) within the actual playback range. *\/\n+    if (G_UNLIKELY (sample_pos <= mp3parse->start_of_actual_samples ||\n+            (sample_pos_end >= mp3parse->end_of_actual_samples))) {\n+\n+      if (G_UNLIKELY (frame_nr >= mp3parse->xing_frames)) {\n+        \/* Test #1: Check if the current position lies past the length\n+         * that is specified by the Xing frame header. This normally does\n+         * not happen, but does occur with \"Frankenstein\" streams (see\n+         * the explanation at the beginning of this source file for more).\n+         * Do this first, since the other test may yield false positives\n+         * in this case. *\/\n+        GST_LOG_OBJECT (mp3parse, \"There are frames beyond what the Xing \"\n+            \"metadata indicates; this is a Frankenstein stream!\");\n+\n+        \/* The frames past the \"officially\" last one (= the last one according\n+         * to the Xing header frame) are located past the padding samples\n+         * that follow the actual playback range. The length of these\n+         * padding samples in nanoseconds is stored in end_padding_time.\n+         * We need to shift the PTS to compensate for these padding samples,\n+         * otherwise there would be a timestamp discontinuity between the\n+         * last \"official\" frame and the first \"Frankenstein\" frame. *\/\n+        timestamp_decrement += mp3parse->end_padding_time;\n+      } else if (sample_pos_end <= mp3parse->start_of_actual_samples) {\n+        \/* Test #2: Check if the frame lies completely before the actual\n+         * playback range. This happens if the number of padding samples\n+         * at the start of the stream exceeds the size of a frame, meaning\n+         * that the entire frame will be filled with padding samples.\n+         * This has not been observed so far. However, it is in theory\n+         * possible, so handle it here. *\/\n+\n+        \/* We want to clip all samples in the frame. Since this is a frame\n+         * at the start of the stream, set start_clip to the frame size.\n+         * Also set the buffer duration to 0 to make sure baseparse does not\n+         * increment timestamps after this current frame is finished. *\/\n+        start_clip = mp3parse->spf;\n+        GST_BUFFER_DURATION (frame->buffer) = 0;\n+\n+        add_clipping_meta = TRUE;\n+      } else if (sample_pos <= mp3parse->start_of_actual_samples) {\n+        \/* Test #3: Check if a portion of the frame lies before the actual\n+         * playback range. Set the duration to the number of samples that\n+         * remain after clipping. *\/\n+\n+        start_clip = mp3parse->start_of_actual_samples - sample_pos;\n+        GST_BUFFER_DURATION (frame->buffer) =\n+            gst_util_uint64_scale_int (sample_pos_end -\n+            mp3parse->start_of_actual_samples, GST_SECOND, mp3parse->rate);\n+\n+        add_clipping_meta = TRUE;\n+      } else if (sample_pos >= mp3parse->end_of_actual_samples) {\n+        \/* Test #4: Check if the frame lies completely after the actual\n+         * playback range. Similar to test #2, this happens if the number\n+         * of padding samples at the end of the stream exceeds the size of\n+         * a frame, meaning that the entire frame will be filled with padding\n+         * samples. Unlike test #2, this has been observed in mp3s several\n+         * times: The penultimate frame is partially clipped, the final\n+         * frame is fully clipped. *\/\n+\n+        GstClockTime padding_ns;\n+\n+        \/* We want to clip all samples in the frame. Since this is a frame\n+         * at the end of the stream, set end_clip to the frame size.\n+         * Also set the buffer duration to 0 to make sure baseparse does not\n+         * increment timestamps after this current frame is finished. *\/\n+        end_clip = mp3parse->spf;\n+        GST_BUFFER_DURATION (frame->buffer) = 0;\n+\n+        \/* Even though this frame will be fully clipped, we still have to\n+         * make sure its timestamps are not discontinuous with the preceding\n+         * ones. To that end, it is necessary to subtract the time range\n+         * between the current position and the last valid playback range\n+         * position from the PTS and DTS. *\/\n+        padding_ns = gst_util_uint64_scale_int (sample_pos -\n+            mp3parse->end_of_actual_samples, GST_SECOND, mp3parse->rate);\n+        timestamp_decrement += padding_ns;\n+\n+        add_clipping_meta = TRUE;\n+      } else if (sample_pos_end >= mp3parse->end_of_actual_samples) {\n+        \/* Test #5: Check if a portion of the frame lies after the actual\n+         * playback range. Set the duration to the number of samples that\n+         * remain after clipping. *\/\n+\n+        end_clip = sample_pos_end - mp3parse->end_of_actual_samples;\n+        GST_BUFFER_DURATION (frame->buffer) =\n+            gst_util_uint64_scale_int (mp3parse->end_of_actual_samples -\n+            sample_pos, GST_SECOND, mp3parse->rate);\n+\n+        add_clipping_meta = TRUE;\n+      }\n+    }\n+\n+    if (G_UNLIKELY (add_clipping_meta)) {\n+      GST_DEBUG_OBJECT (mp3parse, \"Adding clipping meta: start %\"\n+          G_GUINT32_FORMAT \" end %\" G_GUINT32_FORMAT, start_clip, end_clip);\n+      gst_buffer_add_audio_clipping_meta (frame->buffer, GST_FORMAT_DEFAULT,\n+          start_clip, end_clip);\n+    }\n+\n+    \/* Adjust the timestamps by subtracting from them. The decrement\n+     * is computed above. *\/\n+    GST_BUFFER_PTS (frame->buffer) = (pts >= timestamp_decrement) ? (pts -\n+        timestamp_decrement) : 0;\n+    GST_BUFFER_DTS (frame->buffer) = (dts >= timestamp_decrement) ? (dts -\n+        timestamp_decrement) : 0;\n+\n+    \/* NOTE: We do not adjust the size here, just the timestamps and duration.\n+     * We also do not drop fully clipped frames. This is because downstream\n+     * MPEG audio decoders still need the data of the frame, even if it gets\n+     * fully clipped later. They do need these frames for their decoding process.\n+     * If these frames were dropped, the decoders would not fully decode all\n+     * of the data from the MPEG stream. *\/\n+\n+    \/* TODO: Should offset\/offset_end also be adjusted? *\/\n+  }\n+\n+  \/* Check if this frame can safely be dropped (for example, because it is an\n+   * empty Xing header frame). *\/\n+  if (G_UNLIKELY (mp3parse->outgoing_frame_is_xing_header)) {\n+    GST_DEBUG_OBJECT (mp3parse, \"Marking frame as decode-only \/ droppable\");\n+    mp3parse->outgoing_frame_is_xing_header = FALSE;\n+    GST_BUFFER_DURATION (frame->buffer) = 0;\n+    GST_BUFFER_FLAG_SET (frame->buffer, GST_BUFFER_FLAG_DECODE_ONLY);\n+    GST_BUFFER_FLAG_SET (frame->buffer, GST_BUFFER_FLAG_DROPPABLE);\n+  }\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audioparsers\/gstmpegaudioparse.c","additions":507,"deletions":7,"binary":false,"changes":514,"status":"modified"},{"patch":"@@ -54,0 +54,2 @@\n+  GstFormat    upstream_format;\n+\n@@ -60,2 +62,5 @@\n-  \/* samples per frame *\/\n-  gint        spf;\n+\n+  \/* Samples per frame *\/\n+  gint         spf;\n+\n+  GstClockTime frame_duration;\n@@ -70,0 +75,2 @@\n+  gboolean     outgoing_frame_is_xing_header;\n+\n@@ -78,0 +85,1 @@\n+  GstClockTime xing_actual_total_time;\n@@ -98,0 +106,8 @@\n+\n+  \/* Gapless playback states *\/\n+  guint32      decoder_delay;\n+  guint64      start_of_actual_samples;\n+  guint64      end_of_actual_samples;\n+  GstClockTime start_padding_time;\n+  GstClockTime end_padding_time;\n+  GstClockTime total_padding_time;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audioparsers\/gstmpegaudioparse.h","additions":18,"deletions":2,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -89,0 +89,12 @@\n+#define FOURCC_ai12     GST_MAKE_FOURCC('a','i','1','2')\n+#define FOURCC_ai13     GST_MAKE_FOURCC('a','i','1','3')\n+#define FOURCC_ai15     GST_MAKE_FOURCC('a','i','1','5')\n+#define FOURCC_ai16     GST_MAKE_FOURCC('a','i','1','6')\n+#define FOURCC_ai1p     GST_MAKE_FOURCC('a','i','1','p')\n+#define FOURCC_ai1q     GST_MAKE_FOURCC('a','i','1','q')\n+#define FOURCC_ai52     GST_MAKE_FOURCC('a','i','5','2')\n+#define FOURCC_ai53     GST_MAKE_FOURCC('a','i','5','3')\n+#define FOURCC_ai55     GST_MAKE_FOURCC('a','i','5','5')\n+#define FOURCC_ai56     GST_MAKE_FOURCC('a','i','5','6')\n+#define FOURCC_ai5p     GST_MAKE_FOURCC('a','i','5','p')\n+#define FOURCC_ai5q     GST_MAKE_FOURCC('a','i','5','q')\n@@ -147,0 +159,1 @@\n+#define FOURCC_styp     GST_MAKE_FOURCC('s','t','y','p')\n@@ -420,0 +433,5 @@\n+#define FOURCC_metx     GST_MAKE_FOURCC('m','e','t','x')\n+\n+\/* ONVIF Export File Format *\/\n+#define FOURCC_cstb     GST_MAKE_FOURCC('c','s','t','b')\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/fourcc.h","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -116,1 +116,1 @@\n-        parser->sidx.first_offset = parser->sidx.earliest_pts =\n+        parser->sidx.first_offset =\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/gstisoff.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/gstisomp4element.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/isomp4-plugin.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-#include \"gst\/gst-i18n-plugin.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -301,0 +301,6 @@\n+static GstStaticPadTemplate gst_qtdemux_metasrc_template =\n+GST_STATIC_PAD_TEMPLATE (\"meta_%u\",\n+    GST_PAD_SRC,\n+    GST_PAD_SOMETIMES,\n+    GST_STATIC_CAPS_ANY);\n+\n@@ -369,0 +375,3 @@\n+static GstCaps *qtdemux_meta_caps (GstQTDemux * qtdemux, QtDemuxStream * stream,\n+    QtDemuxStreamStsdEntry * entry, guint32 fourcc, const guint8 * data,\n+    gchar ** codec_name);\n@@ -401,0 +410,2 @@\n+static void qtdemux_clear_protection_events_on_all_streams (GstQTDemux *\n+    qtdemux);\n@@ -491,0 +502,3 @@\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n+  \/\/ g_queue_clear_full() is available staring with 2.60, but we need\n+  \/\/ to support older GLib versions.\n@@ -494,0 +508,4 @@\n+#else \/\/ GSTREAMER_LITE\n+  g_queue_clear_full (&qtdemux->protection_event_queue,\n+      (GDestroyNotify) gst_event_unref);\n+#endif \/\/ GSTREAMER_LITE\n@@ -1138,1 +1156,1 @@\n-  min_offset = desired_time;\n+  min_offset = next ? G_MAXUINT64 : desired_time;\n@@ -1197,1 +1215,1 @@\n-      \/* find previous keyframe *\/\n+      \/* find previous or next keyframe *\/\n@@ -1200,1 +1218,1 @@\n-      \/* we will settle for one before if none found after *\/\n+      \/* if looking for next one, we will settle for one before if none found after *\/\n@@ -1226,2 +1244,6 @@\n-          if ((!next && (seg_time < min_offset)) ||\n-              (next && (seg_time > min_offset)))\n+\n+          \/* Adjust the offset based on the earliest suitable keyframe found,\n+           * based on which GST_SEEK_FLAG_SNAP_* is present (indicated by 'next').\n+           * For SNAP_BEFORE we look for the earliest keyframe before desired_time,\n+           * and in case of SNAP_AFTER - for the closest one after it. *\/\n+          if (seg_time < min_offset)\n@@ -1923,0 +1945,4 @@\n+  if (variant && strcmp (variant, \"mse-bytestream\") == 0) {\n+    demux->variant = VARIANT_MSE_BYTESTREAM;\n+  }\n+\n@@ -1928,1 +1954,1 @@\n-    demux->mss_mode = TRUE;\n+    demux->variant = VARIANT_MSS_FRAGMENTED;\n@@ -1999,2 +2025,0 @@\n-  } else {\n-    demux->mss_mode = FALSE;\n@@ -2012,1 +2036,0 @@\n-  gst_pad_stop_task (qtdemux->sinkpad);\n@@ -2067,0 +2090,3 @@\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n+    \/\/ g_queue_clear_full() is available staring with 2.60, but we need\n+    \/\/ to support older GLib versions.\n@@ -2070,0 +2096,4 @@\n+#else \/\/ GSTREAMER_LITE\n+    g_queue_clear_full (&qtdemux->protection_event_queue,\n+        (GDestroyNotify) gst_event_unref);\n+#endif \/\/ GSTREAMER_LITE\n@@ -2087,0 +2117,1 @@\n+    qtdemux->n_meta_streams = 0;\n@@ -2089,1 +2120,1 @@\n-    qtdemux->mss_mode = FALSE;\n+    qtdemux->variant = VARIANT_NONE;\n@@ -2093,0 +2124,1 @@\n+    qtdemux->start_utc_time = GST_CLOCK_TIME_NONE;\n@@ -2094,0 +2126,1 @@\n+    g_free (qtdemux->cenc_aux_info_sizes);\n@@ -2108,1 +2141,1 @@\n-  } else if (qtdemux->mss_mode) {\n+  } else if (qtdemux->variant == VARIANT_MSS_FRAGMENTED) {\n@@ -2124,0 +2157,17 @@\n+static void\n+qtdemux_clear_protection_events_on_all_streams (GstQTDemux * qtdemux)\n+{\n+  for (unsigned i = 0; i < QTDEMUX_N_STREAMS (qtdemux); i++) {\n+    QtDemuxStream *stream = QTDEMUX_NTH_STREAM (qtdemux, i);\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n+    \/\/ g_queue_clear_full() is available staring with 2.60, but we need\n+    \/\/ to support older GLib versions.\n+    g_queue_foreach (&stream->protection_scheme_event_queue, (GFunc) gst_event_unref,\n+        NULL);\n+    g_queue_clear (&stream->protection_scheme_event_queue);\n+#else \/\/ GSTREAMER_LITE\n+    g_queue_clear_full (&stream->protection_scheme_event_queue,\n+        (GDestroyNotify) gst_event_unref);\n+#endif \/\/ GSTREAMER_LITE\n+  }\n+}\n@@ -2599,2 +2649,5 @@\n-  g_queue_foreach (&stream->protection_scheme_event_queue,\n-      (GFunc) gst_event_unref, NULL);\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n+  \/\/ g_queue_clear_full() is available staring with 2.60, but we need\n+  \/\/ to support older GLib versions.\n+  g_queue_foreach (&stream->protection_scheme_event_queue, (GFunc) gst_event_unref,\n+      NULL);\n@@ -2602,0 +2655,4 @@\n+#else \/\/ GSTREAMER_LITE\n+  g_queue_clear_full (&stream->protection_scheme_event_queue,\n+      (GDestroyNotify) gst_event_unref);\n+#endif \/\/ GSTREAMER_LITE\n@@ -2708,0 +2765,2 @@\n+    guint32 minor_version;\n+    const guint8 *p;\n@@ -2710,1 +2769,1 @@\n-    GST_DEBUG_OBJECT (qtdemux, \"major brand: %\" GST_FOURCC_FORMAT,\n+    GST_DEBUG_OBJECT (qtdemux, \"ftyp major brand: %\" GST_FOURCC_FORMAT,\n@@ -2712,0 +2771,2 @@\n+    minor_version = QT_UINT32 (buffer + 12);\n+    GST_DEBUG_OBJECT (qtdemux, \"ftyp minor version: %u\", minor_version);\n@@ -2716,0 +2777,38 @@\n+\n+    p = buffer + 16;\n+    length = length - 16;\n+    while (length > 0) {\n+      GST_DEBUG_OBJECT (qtdemux, \"ftyp compatible brand: %\" GST_FOURCC_FORMAT,\n+          GST_FOURCC_ARGS (QT_FOURCC (p)));\n+      length -= 4;\n+      p += 4;\n+    }\n+  }\n+}\n+\n+static void\n+qtdemux_parse_styp (GstQTDemux * qtdemux, const guint8 * buffer, gint length)\n+{\n+  \/* only consider at least a sufficiently complete styp atom *\/\n+  if (length >= 20) {\n+    GstBuffer *buf;\n+    guint32 major_brand;\n+    guint32 minor_version;\n+    const guint8 *p;\n+\n+    major_brand = QT_FOURCC (buffer + 8);\n+    GST_DEBUG_OBJECT (qtdemux, \"styp major brand: %\" GST_FOURCC_FORMAT,\n+        GST_FOURCC_ARGS (major_brand));\n+    minor_version = QT_UINT32 (buffer + 12);\n+    GST_DEBUG_OBJECT (qtdemux, \"styp minor version: %u\", minor_version);\n+    buf = qtdemux->comp_brands = gst_buffer_new_and_alloc (length - 16);\n+    gst_buffer_fill (buf, 0, buffer + 16, length - 16);\n+\n+    p = buffer + 16;\n+    length = length - 16;\n+    while (length > 0) {\n+      GST_DEBUG_OBJECT (qtdemux, \"styp compatible brand: %\" GST_FOURCC_FORMAT,\n+          GST_FOURCC_ARGS (QT_FOURCC (p)));\n+      length -= 4;\n+      p += 4;\n+    }\n@@ -2826,2 +2925,7 @@\n-  gst_structure_get (structure, GST_PROTECTION_SYSTEM_ID_CAPS_FIELD,\n-      G_TYPE_STRING, &system_id, NULL);\n+  if (!gst_structure_get (structure, GST_PROTECTION_SYSTEM_ID_CAPS_FIELD,\n+          G_TYPE_STRING, &system_id, NULL)) {\n+    GST_WARNING_OBJECT (qtdemux, \"%s field not present in caps\",\n+        GST_PROTECTION_SYSTEM_ID_CAPS_FIELD);\n+    return;\n+  }\n+\n@@ -3040,0 +3144,51 @@\n+static void\n+qtdemux_parse_cstb (GstQTDemux * qtdemux, GstByteReader * data)\n+{\n+  guint64 start_time;\n+  guint32 entry_count;\n+\n+  GST_DEBUG_OBJECT (qtdemux, \"Parsing CorrectStartTime box\");\n+\n+  qtdemux->start_utc_time = GST_CLOCK_TIME_NONE;\n+\n+  if (gst_byte_reader_get_remaining (data) < 4) {\n+    GST_WARNING_OBJECT (qtdemux, \"Too small CorrectStartTime box\");\n+    return;\n+  }\n+\n+  entry_count = gst_byte_reader_get_uint32_be_unchecked (data);\n+  if (entry_count == 0)\n+    return;\n+\n+  \/* XXX: We assume that all start times are the same as different start times\n+   * would violate the MP4 synchronization model, so we just take the first\n+   * one here and apply it to all tracks.\n+   *\/\n+\n+  if (gst_byte_reader_get_remaining (data) < entry_count * 12) {\n+    GST_WARNING_OBJECT (qtdemux, \"Too small CorrectStartTime box\");\n+    return;\n+  }\n+\n+  \/* Skip track id *\/\n+  gst_byte_reader_skip_unchecked (data, 4);\n+\n+  \/* In 100ns intervals *\/\n+  start_time = gst_byte_reader_get_uint64_be_unchecked (data);\n+\n+  \/* Convert from Jan 1 1601 to Jan 1 1970 *\/\n+  if (start_time < 11644473600 * G_GUINT64_CONSTANT (10000000)) {\n+    GST_WARNING_OBJECT (qtdemux, \"Start UTC time before UNIX epoch\");\n+    return;\n+  }\n+  start_time -= 11644473600 * G_GUINT64_CONSTANT (10000000);\n+\n+  \/* Convert to GstClockTime *\/\n+  start_time *= 100;\n+\n+  GST_DEBUG_OBJECT (qtdemux, \"Start UTC time: %\" GST_TIME_FORMAT,\n+      GST_TIME_ARGS (start_time));\n+\n+  qtdemux->start_utc_time = start_time;\n+}\n+\n@@ -3042,1 +3197,1 @@\n-extract_initial_length_and_fourcc (const guint8 * data, guint size,\n+extract_initial_length_and_fourcc (const guint8 * data, gsize size,\n@@ -3398,21 +3553,3 @@\n-      \/* subsequent fragments extend stream *\/\n-      timestamp =\n-          stream->samples[stream->n_samples - 1].timestamp +\n-          stream->samples[stream->n_samples - 1].duration;\n-\n-      \/* If this is a GST_FORMAT_BYTES stream and there's a significant\n-       * difference (1 sec.) between decode_ts and timestamp, prefer the\n-       * former *\/\n-      if (has_tfdt && !qtdemux->upstream_format_is_time\n-          && ABSDIFF (decode_ts, timestamp) >\n-          MAX (stream->duration_last_moof \/ 2,\n-              GSTTIME_TO_QTSTREAMTIME (stream, GST_SECOND))) {\n-        GST_INFO_OBJECT (qtdemux,\n-            \"decode_ts (%\" GST_TIME_FORMAT \") and timestamp (%\" GST_TIME_FORMAT\n-            \") are significantly different (more than %\" GST_TIME_FORMAT\n-            \"), using decode_ts\",\n-            GST_TIME_ARGS (QTSTREAMTIME_TO_GSTTIME (stream, decode_ts)),\n-            GST_TIME_ARGS (QTSTREAMTIME_TO_GSTTIME (stream, timestamp)),\n-            GST_TIME_ARGS (QTSTREAMTIME_TO_GSTTIME (stream,\n-                    MAX (stream->duration_last_moof \/ 2,\n-                        GSTTIME_TO_QTSTREAMTIME (stream, GST_SECOND)))));\n+      \/* If this is a GST_FORMAT_BYTES stream and we have a tfdt then use it\n+       * instead of the sum of sample durations *\/\n+      if (has_tfdt && !qtdemux->upstream_format_is_time) {\n@@ -3420,0 +3557,11 @@\n+        gst_ts = QTSTREAMTIME_TO_GSTTIME (stream, timestamp);\n+        GST_INFO_OBJECT (qtdemux, \"first sample ts %\" GST_TIME_FORMAT\n+            \" (using tfdt)\", GST_TIME_ARGS (gst_ts));\n+      } else {\n+        \/* subsequent fragments extend stream *\/\n+        timestamp =\n+            stream->samples[stream->n_samples - 1].timestamp +\n+            stream->samples[stream->n_samples - 1].duration;\n+        gst_ts = QTSTREAMTIME_TO_GSTTIME (stream, timestamp);\n+        GST_INFO_OBJECT (qtdemux, \"first sample ts %\" GST_TIME_FORMAT\n+            \" (extends previous samples)\", GST_TIME_ARGS (gst_ts));\n@@ -3421,4 +3569,0 @@\n-\n-      gst_ts = QTSTREAMTIME_TO_GSTTIME (stream, timestamp);\n-      GST_INFO_OBJECT (qtdemux, \"first sample ts %\" GST_TIME_FORMAT\n-          \" (extends previous samples)\", GST_TIME_ARGS (gst_ts));\n@@ -3561,1 +3705,1 @@\n-  if (qtdemux->mss_mode) {\n+  if (qtdemux->variant == VARIANT_MSS_FRAGMENTED) {\n@@ -3613,2 +3757,2 @@\n-  qtdemux_parse_trex (qtdemux, *stream,\n-      default_sample_duration, default_sample_size, default_sample_flags);\n+  if (qtdemux_parse_trex (qtdemux, *stream,\n+          default_sample_duration, default_sample_size, default_sample_flags)) {\n@@ -3616,2 +3760,4 @@\n-  (*stream)->stsd_sample_description_id =\n-      (*stream)->def_sample_description_index - 1;\n+    \/* Default sample description index is only valid if trex parsing succeeded *\/\n+    (*stream)->stsd_sample_description_id =\n+        (*stream)->def_sample_description_index - 1;\n+  }\n@@ -3626,1 +3772,1 @@\n-  if (qtdemux->mss_mode) {\n+  if (qtdemux->variant == VARIANT_MSS_FRAGMENTED) {\n@@ -4192,0 +4338,2 @@\n+      \/* don't use tfdt for subsequent trun as it only refers to the first *\/\n+      tfdt_node = NULL;\n@@ -4217,0 +4365,4 @@\n+  if (pssh_node) {\n+    \/* Unref old protection events if we are going to receive new ones. *\/\n+    qtdemux_clear_protection_events_on_all_streams (qtdemux);\n+  }\n@@ -4223,1 +4375,3 @@\n-  if (!qtdemux->upstream_format_is_time && !qtdemux->first_moof_already_parsed\n+  if (!qtdemux->upstream_format_is_time\n+      && qtdemux->variant != VARIANT_MSE_BYTESTREAM\n+      && !qtdemux->first_moof_already_parsed\n@@ -4566,0 +4720,30 @@\n+      if (length == G_MAXUINT64) {\n+        \/* Read until the end *\/\n+        gint64 duration;\n+        if (!gst_pad_peer_query_duration (qtdemux->sinkpad, GST_FORMAT_BYTES,\n+                &duration)) {\n+          GST_ELEMENT_ERROR (qtdemux, STREAM, DEMUX,\n+              (_(\"Cannot query file size\")),\n+              (\"Duration query on sink pad failed\"));\n+          ret = GST_FLOW_ERROR;\n+          goto beach;\n+        }\n+        if (G_UNLIKELY (cur_offset > duration)) {\n+          GST_ELEMENT_ERROR (qtdemux, STREAM, DEMUX,\n+              (_(\"Cannot query file size\")),\n+              (\"Duration %\" G_GINT64_FORMAT \" < current offset %\"\n+                  G_GUINT64_FORMAT, duration, cur_offset));\n+          ret = GST_FLOW_ERROR;\n+          goto beach;\n+        }\n+        length = duration - cur_offset;\n+        if (length > QTDEMUX_MAX_ATOM_SIZE) {\n+          GST_ELEMENT_ERROR (qtdemux, STREAM, DEMUX,\n+              (_(\"Cannot demux file\")),\n+              (\"Moov atom size %\" G_GINT64_FORMAT \" > maximum %d\", length,\n+                  QTDEMUX_MAX_ATOM_SIZE));\n+          ret = GST_FLOW_ERROR;\n+          goto beach;\n+        }\n+      }\n+\n@@ -4600,2 +4784,2 @@\n-                \", wanted %u, offset %\" G_GUINT64_FORMAT \")\", map.size,\n-                (guint) length, cur_offset));\n+                \", wanted %\" G_GUINT64_FORMAT \", offset %\" G_GUINT64_FORMAT \")\",\n+                map.size, length, cur_offset));\n@@ -4649,0 +4833,14 @@\n+    case FOURCC_styp:\n+    {\n+      GstBuffer *styp = NULL;\n+\n+      ret = gst_qtdemux_pull_atom (qtdemux, cur_offset, length, &styp);\n+      if (ret != GST_FLOW_OK)\n+        goto beach;\n+      qtdemux->offset += length;\n+      gst_buffer_map (styp, &map, GST_MAP_READ);\n+      qtdemux_parse_styp (qtdemux, map.data, map.size);\n+      gst_buffer_unmap (styp, &map);\n+      gst_buffer_unref (styp);\n+      break;\n+    }\n@@ -4677,0 +4875,28 @@\n+    case FOURCC_meta:\n+    {\n+      GstBuffer *meta = NULL;\n+      GNode *node, *child;\n+      GstByteReader child_data;\n+      ret = gst_qtdemux_pull_atom (qtdemux, cur_offset, length, &meta);\n+      if (ret != GST_FLOW_OK)\n+        goto beach;\n+      qtdemux->offset += length;\n+      gst_buffer_map (meta, &map, GST_MAP_READ);\n+\n+      node = g_node_new (map.data);\n+\n+      qtdemux_parse_node (qtdemux, node, map.data, map.size);\n+\n+      \/* Parse ONVIF Export File Format CorrectStartTime box if available *\/\n+      if ((child =\n+              qtdemux_tree_get_child_by_type_full (node, FOURCC_cstb,\n+                  &child_data))) {\n+        qtdemux_parse_cstb (qtdemux, &child_data);\n+      }\n+\n+      g_node_destroy (node);\n+\n+      gst_buffer_unmap (meta, &map);\n+      gst_buffer_unref (meta);\n+      break;\n+    }\n@@ -5944,5 +6170,13 @@\n-        crypto_info = qtdemux_get_cenc_sample_properties (qtdemux, stream, 0);\n-        if (!crypto_info || !gst_buffer_add_protection_meta (buf, crypto_info)) {\n-          GST_ERROR_OBJECT (qtdemux,\n-              \"failed to attach cbcs metadata to buffer\");\n-          qtdemux_gst_structure_free (crypto_info);\n+        if (CUR_STREAM (stream)->fourcc == FOURCC_enca ||\n+            CUR_STREAM (stream)->fourcc == FOURCC_encs ||\n+            CUR_STREAM (stream)->fourcc == FOURCC_enct ||\n+            CUR_STREAM (stream)->fourcc == FOURCC_encv) {\n+          crypto_info = qtdemux_get_cenc_sample_properties (qtdemux, stream, 0);\n+          if (!crypto_info\n+              || !gst_buffer_add_protection_meta (buf, crypto_info)) {\n+            GST_ERROR_OBJECT (qtdemux,\n+                \"failed to attach cbcs metadata to buffer\");\n+            qtdemux_gst_structure_free (crypto_info);\n+          } else {\n+            GST_TRACE_OBJECT (qtdemux, \"added cbcs protection metadata\");\n+          }\n@@ -5950,1 +6184,2 @@\n-          GST_TRACE_OBJECT (qtdemux, \"added cbcs protection metadata\");\n+          GST_TRACE_OBJECT (qtdemux,\n+              \"cbcs stream is not encrypted yet, not adding protection metadata\");\n@@ -6186,0 +6421,9 @@\n+  if (qtdemux->start_utc_time != GST_CLOCK_TIME_NONE) {\n+    static GstStaticCaps unix_caps = GST_STATIC_CAPS (\"timestamp\/x-unix\");\n+    GstCaps *caps = gst_static_caps_get (&unix_caps);\n+    gst_buffer_add_reference_timestamp_meta (buf, caps,\n+        pts + qtdemux->start_utc_time - stream->cslg_shift,\n+        GST_CLOCK_TIME_NONE);\n+    gst_caps_unref (caps);\n+  }\n+\n@@ -6390,8 +6634,0 @@\n-    if (!GST_CLOCK_TIME_IS_VALID (position))\n-      continue;\n-\n-    if (stream->segment_index != -1) {\n-      QtDemuxSegment *segment = &stream->segments[stream->segment_index];\n-      position += segment->media_start;\n-    }\n-\n@@ -6399,1 +6635,1 @@\n-    if (position < min_time) {\n+    if (position != GST_CLOCK_TIME_NONE && position < min_time) {\n@@ -6419,2 +6655,9 @@\n-  \/* gap events for subtitle streams *\/\n-  for (i = 0; i < QTDEMUX_N_STREAMS (qtdemux); i++) {\n+  \/* fetch info for the current sample of this stream *\/\n+  if (G_UNLIKELY (!gst_qtdemux_prepare_current_sample (qtdemux, target_stream,\n+              &empty, &offset, &sample_size, &dts, &pts, &duration, &keyframe)))\n+    goto eos_stream;\n+\n+  \/* Send catche-up GAP event for each other stream if required.\n+   * This logic will be applied only for positive rate *\/\n+  for (i = 0; i < QTDEMUX_N_STREAMS (qtdemux) &&\n+      qtdemux->segment.rate >= 0; i++) {\n@@ -6422,0 +6665,6 @@\n+\n+    if (stream == target_stream ||\n+        !GST_CLOCK_TIME_IS_VALID (stream->segment.stop) ||\n+        !GST_CLOCK_TIME_IS_VALID (stream->segment.position))\n+      continue;\n+\n@@ -6424,0 +6673,13 @@\n+      \/* kind of running time with offset segment.base and segment.start *\/\n+      GstClockTime pseudo_target_time = target_stream->segment.base;\n+      GstClockTime pseudo_cur_time = stream->segment.base;\n+\n+      \/* make sure positive offset, segment.position can be smallr than\n+       * segment.start for some reasons *\/\n+      if (target_stream->segment.position >= target_stream->segment.start) {\n+        pseudo_target_time +=\n+            (target_stream->segment.position - target_stream->segment.start);\n+      }\n+\n+      if (stream->segment.position >= stream->segment.start)\n+        pseudo_cur_time += (stream->segment.position - stream->segment.start);\n@@ -6435,3 +6697,3 @@\n-      while (GST_CLOCK_TIME_IS_VALID (stream->segment.stop) &&\n-          GST_CLOCK_TIME_IS_VALID (stream->segment.position) &&\n-          stream->segment.position + gap_threshold < min_time) {\n+      while (GST_CLOCK_TIME_IS_VALID (stream->segment.position) &&\n+          pseudo_cur_time < (G_MAXUINT64 - gap_threshold) &&\n+          pseudo_cur_time + gap_threshold < pseudo_target_time) {\n@@ -6440,0 +6702,2 @@\n+        GST_LOG_OBJECT (stream->pad, \"Sending %\" GST_PTR_FORMAT, gap);\n+\n@@ -6442,0 +6706,1 @@\n+        pseudo_cur_time += gap_threshold;\n@@ -6447,4 +6712,0 @@\n-  \/* fetch info for the current sample of this stream *\/\n-  if (G_UNLIKELY (!gst_qtdemux_prepare_current_sample (qtdemux, stream, &empty,\n-              &offset, &sample_size, &dts, &pts, &duration, &keyframe)))\n-    goto eos_stream;\n@@ -7138,0 +7399,36 @@\n+static guint64\n+gst_segment_to_stream_time_clamped (const GstSegment * segment,\n+    guint64 position)\n+{\n+  guint64 segment_stream_time_start;\n+  guint64 segment_stream_time_stop = GST_CLOCK_TIME_NONE;\n+  guint64 stream_pts_unsigned;\n+  int ret;\n+\n+  g_return_val_if_fail (segment != NULL, GST_CLOCK_TIME_NONE);\n+  g_return_val_if_fail (segment->format == GST_FORMAT_TIME,\n+      GST_CLOCK_TIME_NONE);\n+\n+  segment_stream_time_start = segment->time;\n+  if (segment->stop != GST_CLOCK_TIME_NONE)\n+    segment_stream_time_stop =\n+        gst_segment_to_stream_time (segment, GST_FORMAT_TIME, segment->stop);\n+\n+  ret =\n+      gst_segment_to_stream_time_full (segment, GST_FORMAT_TIME, position,\n+      &stream_pts_unsigned);\n+  \/* ret == 0 if the segment is invalid (either position, segment->time or the segment start are -1). *\/\n+  g_return_val_if_fail (ret != 0, GST_CLOCK_TIME_NONE);\n+\n+  if (ret == -1 || stream_pts_unsigned < segment_stream_time_start) {\n+    \/* Negative or prior to segment start stream time, clamp to segment start. *\/\n+    return segment_stream_time_start;\n+  } else if (segment_stream_time_stop != GST_CLOCK_TIME_NONE\n+      && stream_pts_unsigned > segment_stream_time_stop) {\n+    \/* Clamp to segment end. *\/\n+    return segment_stream_time_stop;\n+  } else {\n+    return stream_pts_unsigned;\n+  }\n+}\n+\n@@ -7313,0 +7610,1 @@\n+              demux->start_utc_time = GST_CLOCK_TIME_NONE;\n@@ -7426,1 +7724,1 @@\n-            if (demux->mss_mode && !demux->exposed) {\n+            if (demux->variant == VARIANT_MSS_FRAGMENTED && !demux->exposed) {\n@@ -7445,0 +7743,15 @@\n+        } else if (fourcc == FOURCC_meta) {\n+          GNode *node, *child;\n+          GstByteReader child_data;\n+\n+          node = g_node_new ((gpointer) data);\n+          qtdemux_parse_node (demux, node, data, demux->neededbytes);\n+\n+          \/* Parse ONVIF Export File Format CorrectStartTime box if available *\/\n+          if ((child =\n+                  qtdemux_tree_get_child_by_type_full (node, FOURCC_cstb,\n+                      &child_data))) {\n+            qtdemux_parse_cstb (demux, &child_data);\n+          }\n+\n+          g_node_destroy (node);\n@@ -7548,1 +7861,1 @@\n-        GstClockTime dts, pts, duration;\n+        GstClockTime dts, pts, stream_pts, duration;\n@@ -7660,0 +7973,2 @@\n+          stream_pts =\n+              gst_segment_to_stream_time_clamped (&stream->segment, pts);\n@@ -7665,1 +7980,1 @@\n-                  && demux->segment.stop <= pts && stream->on_keyframe)\n+                  && demux->segment.stop <= stream_pts && keyframe)\n@@ -7877,0 +8192,6 @@\n+    if (*length > G_MAXUINT - 4096 || *length > QTDEMUX_MAX_SAMPLE_INDEX_SIZE) {\n+      GST_WARNING (\"too big decompressed data\");\n+      ret = Z_MEM_ERROR;\n+      break;\n+    }\n+\n@@ -7880,1 +8201,1 @@\n-    z.avail_out += 4096;\n+    z.avail_out += *length - z.total_out;\n@@ -8123,0 +8444,1 @@\n+      case FOURCC_opus:\n@@ -8134,0 +8456,2 @@\n+        else if (fourcc == FOURCC_opus)\n+          min_size = 55;\n@@ -8475,4 +8799,4 @@\n-    GValue *event_value = g_new0 (GValue, 1);\n-    g_value_init (event_value, GST_TYPE_EVENT);\n-    g_value_set_boxed (event_value, walk->data);\n-    gst_value_list_append_and_take_value (&event_list, event_value);\n+    GValue event_value = G_VALUE_INIT;\n+    g_value_init (&event_value, GST_TYPE_EVENT);\n+    g_value_set_boxed (&event_value, walk->data);\n+    gst_value_list_append_and_take_value (&event_list, &event_value);\n@@ -8854,0 +9178,1 @@\n+    gboolean forward_collection = FALSE;\n@@ -8871,2 +9196,0 @@\n-    GST_DEBUG_OBJECT (qtdemux, \"setting caps %\" GST_PTR_FORMAT,\n-        CUR_STREAM (stream)->caps);\n@@ -8905,0 +9228,2 @@\n+\n+      forward_collection = TRUE;\n@@ -8925,0 +9250,8 @@\n+\n+    if (forward_collection) {\n+      \/* Forward upstream collection and selection if any *\/\n+      GstEvent *upstream_event = gst_pad_get_sticky_event (qtdemux->sinkpad,\n+          GST_EVENT_STREAM_COLLECTION, 0);\n+      if (upstream_event)\n+        gst_pad_push_event (stream->pad, upstream_event);\n+    }\n@@ -9001,0 +9334,13 @@\n+  } else if (stream->subtype == FOURCC_meta) {\n+    gchar *name = g_strdup_printf (\"meta_%u\", qtdemux->n_meta_streams);\n+\n+    stream->pad =\n+        gst_pad_new_from_static_template (&gst_qtdemux_metasrc_template, name);\n+    g_free (name);\n+    if (!gst_qtdemux_configure_stream (qtdemux, stream)) {\n+      gst_object_unref (stream->pad);\n+      stream->pad = NULL;\n+      ret = FALSE;\n+      goto done;\n+    }\n+    qtdemux->n_meta_streams++;\n@@ -10113,2 +10459,2 @@\n-    gint n_segments;\n-    gint segment_number, entry_size;\n+    guint n_segments;\n+    guint segment_number, entry_size;\n@@ -10822,1 +11168,1 @@\n-    guint len = QT_UINT32 ((guint8 *) svmi->data);\n+    guint32 len = QT_UINT32 ((guint8 *) svmi->data);\n@@ -11242,1 +11588,1 @@\n-        gint i, j, start, end;\n+        guint i, j, start, end;\n@@ -11358,1 +11704,1 @@\n-        gint len = QT_UINT32 (pasp_data);\n+        guint len = QT_UINT32 (pasp_data);\n@@ -11374,1 +11720,1 @@\n-        gint len = QT_UINT32 (fiel_data);\n+        guint len = QT_UINT32 (fiel_data);\n@@ -11384,1 +11730,1 @@\n-        gint len = QT_UINT32 (colr_data);\n+        guint len = QT_UINT32 (colr_data);\n@@ -11427,1 +11773,2 @@\n-            gint len = QT_UINT32 (stsd_entry_data) - 0x56;\n+            guint len = QT_UINT32 (stsd_entry_data);\n+            len = len <= 0x56 ? 0 : len - 0x56;\n@@ -11432,1 +11779,1 @@\n-              gint size;\n+              guint size;\n@@ -11434,1 +11781,3 @@\n-              if (QT_UINT32 (avc_data) <= len)\n+              if (QT_UINT32 (avc_data) <= 0x8)\n+                size = 0;\n+              else if (QT_UINT32 (avc_data) <= len)\n@@ -11541,1 +11890,2 @@\n-            gint len = QT_UINT32 (stsd_entry_data) - 0x56;\n+            guint len = QT_UINT32 (stsd_entry_data);\n+            len = len <= 0x56 ? 0 : len - 0x56;\n@@ -11546,1 +11896,1 @@\n-              gint size;\n+              guint size;\n@@ -11548,1 +11898,3 @@\n-              if (QT_UINT32 (hevc_data) <= len)\n+              if (QT_UINT32 (hevc_data) <= 0x8)\n+                size = 0;\n+              else if (QT_UINT32 (hevc_data) <= len)\n@@ -11604,1 +11956,1 @@\n-              gint len;\n+              guint len;\n@@ -11788,1 +12140,1 @@\n-              gint len;\n+              guint len;\n@@ -11810,1 +12162,1 @@\n-            gint len = QT_UINT32 (stsd_data);   \/* FIXME review - why put the whole stsd in codec data? *\/\n+            guint len = QT_UINT32 (stsd_data);  \/* FIXME review - why put the whole stsd in codec data? *\/\n@@ -11962,1 +12314,2 @@\n-            gint len = QT_UINT32 (stsd_entry_data) - 0x56;\n+            guint len = QT_UINT32 (stsd_entry_data);\n+            len = len <= 0x56 ? 0 : len - 0x56;\n@@ -11967,1 +12320,1 @@\n-              gint size;\n+              guint size;\n@@ -11969,1 +12322,3 @@\n-              if (QT_UINT32 (vc1_data) <= len)\n+              if (QT_UINT32 (vc1_data) <= 8)\n+                size = 0;\n+              else if (QT_UINT32 (vc1_data) <= len)\n@@ -12001,1 +12356,2 @@\n-            gint len = QT_UINT32 (stsd_entry_data) - 0x56;\n+            guint len = QT_UINT32 (stsd_entry_data);\n+            len = len <= 0x56 ? 0 : len - 0x56;\n@@ -12006,1 +12362,1 @@\n-              gint size;\n+              guint size;\n@@ -12008,1 +12364,3 @@\n-              if (QT_UINT32 (av1_data) <= len)\n+              if (QT_UINT32 (av1_data) <= 0x8)\n+                size = 0;\n+              else if (QT_UINT32 (av1_data) <= len)\n@@ -12022,1 +12380,0 @@\n-                  guint8 pres_delay_field;\n@@ -12028,1 +12385,1 @@\n-                  if (size < 5)\n+                  if (size < 4)\n@@ -12034,5 +12391,25 @@\n-                   * 1 byte: version\n-                   * 3 bytes: flags\n-                   * 3 bits: reserved\n-                   * 1 bits:  initial_presentation_delay_present\n-                   * 4 bits: initial_presentation_delay (if present else reserved\n+                   *\n+                   * version 1 (marker=1):\n+                   *\n+                   *  unsigned int (1) marker = 1;\n+                   *  unsigned int (7) version = 1;\n+                   *  unsigned int (3) seq_profile;\n+                   *  unsigned int (5) seq_level_idx_0;\n+                   *  unsigned int (1) seq_tier_0;\n+                   *  unsigned int (1) high_bitdepth;\n+                   *  unsigned int (1) twelve_bit;\n+                   *  unsigned int (1) monochrome;\n+                   *  unsigned int (1) chroma_subsampling_x;\n+                   *  unsigned int (1) chroma_subsampling_y;\n+                   *  unsigned int (2) chroma_sample_position;\n+                   *  unsigned int (3) reserved = 0;\n+                   *\n+                   *  unsigned int (1) initial_presentation_delay_present;\n+                   *  if (initial_presentation_delay_present) {\n+                   *    unsigned int (4) initial_presentation_delay_minus_one;\n+                   *  } else {\n+                   *    unsigned int (4) reserved = 0;\n+                   *  }\n+                   *\n+                   *  unsigned int (8) configOBUs[];\n+                   *\n@@ -12042,4 +12419,14 @@\n-                  if (av1_data[9] != 0) {\n-                    GST_WARNING (\"Unknown version %d of av1C box\", av1_data[9]);\n-                    break;\n-                  }\n+                  switch (av1_data[8]) {\n+                    case 0x81:{\n+                      guint8 pres_delay_field;\n+\n+                      \/* We let profile and the other parts be figured out by\n+                       * av1parse and only include the presentation delay here\n+                       * if present *\/\n+                      \/* We skip initial_presentation_delay* for now *\/\n+                      pres_delay_field = *(av1_data + 11);\n+                      if (pres_delay_field & (1 << 5)) {\n+                        gst_caps_set_simple (entry->caps,\n+                            \"presentation-delay\", G_TYPE_INT,\n+                            (gint) (pres_delay_field & 0x0F) + 1, NULL);\n+                      }\n@@ -12047,14 +12434,12 @@\n-                  \/* We skip initial_presentation_delay* for now *\/\n-                  pres_delay_field = *(av1_data + 12);\n-                  if (pres_delay_field & (1 << 5)) {\n-                    gst_caps_set_simple (entry->caps,\n-                        \"presentation-delay\", G_TYPE_INT,\n-                        (gint) (pres_delay_field & 0x0F) + 1, NULL);\n-                  }\n-                  if (size > 5) {\n-                    buf = gst_buffer_new_and_alloc (size - 5);\n-                    GST_BUFFER_FLAG_SET (buf, GST_BUFFER_FLAG_HEADER);\n-                    gst_buffer_fill (buf, 0, av1_data + 13, size - 5);\n-                    gst_caps_set_simple (entry->caps,\n-                        \"codec_data\", GST_TYPE_BUFFER, buf, NULL);\n-                    gst_buffer_unref (buf);\n+                      buf = gst_buffer_new_and_alloc (size);\n+                      GST_BUFFER_FLAG_SET (buf, GST_BUFFER_FLAG_HEADER);\n+                      gst_buffer_fill (buf, 0, av1_data + 8, size);\n+                      gst_caps_set_simple (entry->caps,\n+                          \"codec_data\", GST_TYPE_BUFFER, buf, NULL);\n+                      gst_buffer_unref (buf);\n+                      break;\n+                    }\n+                    default:\n+                      GST_WARNING (\"Unknown version 0x%02x of av1C box\",\n+                          av1_data[8]);\n+                      break;\n@@ -12062,0 +12447,1 @@\n+\n@@ -12080,1 +12466,2 @@\n-            gint len = QT_UINT32 (stsd_entry_data) - 0x56;\n+            guint len = QT_UINT32 (stsd_entry_data);\n+            len = len <= 0x56 ? 0 : len - 0x56;\n@@ -12085,1 +12472,1 @@\n-              gint size;\n+              guint size;\n@@ -12087,1 +12474,3 @@\n-              if (QT_UINT32 (vpcc_data) <= len)\n+              if (QT_UINT32 (vpcc_data) <= 0x8)\n+                size = 0;\n+              else if (QT_UINT32 (vpcc_data) <= len)\n@@ -12235,1 +12624,1 @@\n-      int version, samplesize;\n+      guint version, samplesize;\n@@ -12434,0 +12823,10 @@\n+\n+          \/* According to TS 102 366, the channel count in\n+           * a (E)AC3SampleEntry box is to be ignored *\/\n+        case 0x20736d:\n+        case GST_MAKE_FOURCC ('e', 'c', '-', '3'):\n+        case GST_MAKE_FOURCC ('s', 'a', 'c', '3'):     \/\/ Nero Recode\n+        case FOURCC_ac_3:\n+          entry->n_channels = 0;\n+          break;\n+\n@@ -12550,1 +12949,2 @@\n-          gint len = QT_UINT32 (stsd_entry_data) - offset;\n+          guint len = QT_UINT32 (stsd_entry_data);\n+          len = len <= offset ? 0 : len - offset;\n@@ -12574,1 +12974,1 @@\n-            gint size;\n+            guint size;\n@@ -12576,1 +12976,3 @@\n-            if (QT_UINT32 (wfex_data) <= len)\n+            if (QT_UINT32 (wfex_data) <= 0x8)\n+              size = 0;\n+            else if (QT_UINT32 (wfex_data) <= len)\n@@ -12658,1 +13060,0 @@\n-          const guint8 *dops_data;\n@@ -12660,2 +13061,2 @@\n-          guint32 rate;\n-          guint8 channels;\n+          guint32 dops_len, rate;\n+          guint8 n_channels;\n@@ -12667,16 +13068,78 @@\n-          version = GST_READ_UINT16_BE (stsd_entry_data + 16);\n-          if (version == 1)\n-            dops_data = stsd_entry_data + 51;\n-          else\n-            dops_data = stsd_entry_data + 35;\n-\n-          channels = GST_READ_UINT8 (dops_data + 10);\n-          rate = GST_READ_UINT32_LE (dops_data + 13);\n-          channel_mapping_family = GST_READ_UINT8 (dops_data + 19);\n-          stream_count = GST_READ_UINT8 (dops_data + 20);\n-          coupled_count = GST_READ_UINT8 (dops_data + 21);\n-\n-          if (channels > 0) {\n-            channel_mapping = g_malloc (channels * sizeof (guint8));\n-            for (i = 0; i < channels; i++)\n-              channel_mapping[i] = GST_READ_UINT8 (dops_data + i + 22);\n+          GNode *opus;\n+          GNode *dops;\n+\n+          opus = qtdemux_tree_get_child_by_type (stsd, FOURCC_opus);\n+          if (opus == NULL) {\n+            GST_WARNING_OBJECT (qtdemux, \"Opus Sample Entry not found\");\n+            goto corrupt_file;\n+          }\n+\n+          dops = qtdemux_tree_get_child_by_type (opus, FOURCC_dops);\n+          if (dops == NULL) {\n+            GST_WARNING_OBJECT (qtdemux, \"Opus Specific Box not found\");\n+            goto corrupt_file;\n+          }\n+\n+          \/* Opus Specific Box content:\n+           * 4 bytes: length\n+           * 4 bytes: \"dOps\"\n+           * 1 byte: Version;\n+           * 1 byte: OutputChannelCount;\n+           * 2 bytes: PreSkip (big-endians);\n+           * 4 bytes: InputSampleRate (big-endians);\n+           * 2 bytes: OutputGain (big-endians);\n+           * 1 byte: ChannelMappingFamily;\n+           * if (ChannelMappingFamily != 0) {\n+           *   1 byte: StreamCount;\n+           *   1 byte: CoupledCount;\n+           *   for (OutputChannel in 0..OutputChannelCount) {\n+           *     1 byte: ChannelMapping;\n+           *   }\n+           * }\n+           *\/\n+\n+          dops_len = QT_UINT32 ((guint8 *) dops->data);\n+          if (len < offset + dops_len) {\n+            GST_WARNING_OBJECT (qtdemux,\n+                \"Opus Sample Entry has bogus size %\" G_GUINT32_FORMAT, len);\n+            goto corrupt_file;\n+          }\n+          if (dops_len < 19) {\n+            GST_WARNING_OBJECT (qtdemux,\n+                \"Opus Specific Box has bogus size %\" G_GUINT32_FORMAT,\n+                dops_len);\n+            goto corrupt_file;\n+          }\n+\n+          n_channels = GST_READ_UINT8 ((guint8 *) dops->data + 9);\n+          rate = GST_READ_UINT32_BE ((guint8 *) dops->data + 12);\n+          channel_mapping_family = GST_READ_UINT8 ((guint8 *) dops->data + 18);\n+\n+          if (channel_mapping_family != 0) {\n+            if (dops_len < 21 + n_channels) {\n+              GST_WARNING_OBJECT (qtdemux,\n+                  \"Opus Specific Box has bogus size %\" G_GUINT32_FORMAT,\n+                  dops_len);\n+              goto corrupt_file;\n+            }\n+\n+            stream_count = GST_READ_UINT8 ((guint8 *) dops->data + 19);\n+            coupled_count = GST_READ_UINT8 ((guint8 *) dops->data + 20);\n+\n+            if (n_channels > 0) {\n+              channel_mapping = g_malloc (n_channels * sizeof (guint8));\n+              for (i = 0; i < n_channels; i++)\n+                channel_mapping[i] =\n+                    GST_READ_UINT8 ((guint8 *) dops->data + i + 21);\n+            }\n+          } else if (n_channels == 1) {\n+            stream_count = 1;\n+            coupled_count = 0;\n+          } else if (n_channels == 2) {\n+            stream_count = 1;\n+            coupled_count = 1;\n+          } else {\n+            GST_WARNING_OBJECT (qtdemux,\n+                \"Opus unexpected nb of channels %d without channel mapping\",\n+                n_channels);\n+            goto corrupt_file;\n@@ -12685,1 +13148,1 @@\n-          entry->caps = gst_codec_utils_opus_create_caps (rate, channels,\n+          entry->caps = gst_codec_utils_opus_create_caps (rate, n_channels,\n@@ -12688,0 +13151,4 @@\n+          g_free (channel_mapping);\n+\n+          entry->sampled = TRUE;\n+\n@@ -13047,0 +13514,1 @@\n+          case FOURCC_opus:\n@@ -13117,0 +13585,17 @@\n+      GST_INFO_OBJECT (qtdemux,\n+          \"type %\" GST_FOURCC_FORMAT \" caps %\" GST_PTR_FORMAT,\n+          GST_FOURCC_ARGS (fourcc), entry->caps);\n+    } else if (stream->subtype == FOURCC_meta) {\n+      entry->sampled = TRUE;\n+      entry->sparse = TRUE;\n+\n+      entry->caps =\n+          qtdemux_meta_caps (qtdemux, stream, entry, fourcc, stsd_entry_data,\n+          &codec);\n+      if (codec) {\n+        gst_tag_list_add (stream->stream_tags, GST_TAG_MERGE_REPLACE,\n+            GST_TAG_CODEC, codec, NULL);\n+        g_free (codec);\n+        codec = NULL;\n+      }\n+\n@@ -13453,1 +13938,2 @@\n-  newstream->new_stream = GST_PAD_IS_EOS (newstream->pad);\n+  newstream->new_stream = newstream->pad != NULL\n+      && GST_PAD_IS_EOS (newstream->pad);\n@@ -13585,2 +14071,0 @@\n-  gst_element_no_more_pads (GST_ELEMENT_CAST (qtdemux));\n-\n@@ -13604,0 +14088,2 @@\n+  gst_element_no_more_pads (GST_ELEMENT_CAST (qtdemux));\n+\n@@ -13981,0 +14467,4 @@\n+  if (pssh) {\n+    \/* Unref old protection events if we are going to receive new ones. *\/\n+    qtdemux_clear_protection_events_on_all_streams (qtdemux);\n+  }\n@@ -14746,0 +15236,17 @@\n+    case FOURCC_ai12:\n+    case FOURCC_ai13:\n+    case FOURCC_ai15:\n+    case FOURCC_ai16:\n+    case FOURCC_ai1p:\n+    case FOURCC_ai1q:\n+    case FOURCC_ai52:\n+    case FOURCC_ai53:\n+    case FOURCC_ai55:\n+    case FOURCC_ai56:\n+    case FOURCC_ai5p:\n+    case FOURCC_ai5q:\n+      _codec (\"H.264 \/ AVC\");\n+      caps = gst_caps_new_simple (\"video\/x-h264\",\n+          \"stream-format\", G_TYPE_STRING, \"byte-stream\",\n+          \"alignment\", G_TYPE_STRING, \"au\", NULL);\n+      break;\n@@ -14911,1 +15418,3 @@\n-      caps = gst_caps_new_empty_simple (\"video\/x-av1\");\n+      caps = gst_caps_new_simple (\"video\/x-av1\",\n+          \"stream-format\", G_TYPE_STRING, \"obu-stream\",\n+          \"alignment\", G_TYPE_STRING, \"tu\", NULL);\n@@ -15363,0 +15872,57 @@\n+static GstCaps *\n+qtdemux_meta_caps (GstQTDemux * qtdemux, QtDemuxStream * stream,\n+    QtDemuxStreamStsdEntry * entry, guint32 fourcc,\n+    const guint8 * stsd_entry_data, gchar ** codec_name)\n+{\n+  GstCaps *caps = NULL;\n+\n+  GST_DEBUG_OBJECT (qtdemux, \"resolve fourcc 0x%08x\", GUINT32_TO_BE (fourcc));\n+\n+  switch (fourcc) {\n+    case FOURCC_metx:{\n+      gsize size = QT_UINT32 (stsd_entry_data);\n+      GstByteReader reader = GST_BYTE_READER_INIT (stsd_entry_data, size);\n+      const gchar *content_encoding;\n+      const gchar *namespaces;\n+      const gchar *schema_locations;\n+\n+      if (!gst_byte_reader_skip (&reader, 8 + 6 + 2)) {\n+        GST_WARNING_OBJECT (qtdemux, \"Too short metx sample entry\");\n+        break;\n+      }\n+\n+      if (!gst_byte_reader_get_string (&reader, &content_encoding) ||\n+          !gst_byte_reader_get_string (&reader, &namespaces) ||\n+          !gst_byte_reader_get_string (&reader, &schema_locations)) {\n+        GST_WARNING_OBJECT (qtdemux, \"Too short metx sample entry\");\n+        break;\n+      }\n+\n+      if (strstr (namespaces, \"http:\/\/www.onvif.org\/ver10\/schema\") != 0) {\n+        if (content_encoding == NULL || *content_encoding == '\\0'\n+            || g_ascii_strcasecmp (content_encoding, \"xml\") == 0) {\n+          _codec (\"ONVIF Timed XML MetaData\");\n+          caps =\n+              gst_caps_new_simple (\"application\/x-onvif-metadata\", \"parsed\",\n+              G_TYPE_BOOLEAN, TRUE, NULL);\n+        } else {\n+          GST_DEBUG_OBJECT (qtdemux, \"Unknown content encoding: %s\",\n+              content_encoding);\n+        }\n+      } else {\n+        GST_DEBUG_OBJECT (qtdemux, \"Unknown metadata namespaces: %s\",\n+            namespaces);\n+      }\n+\n+      break;\n+    }\n+    default:\n+      break;\n+  }\n+\n+  if (!caps)\n+    caps = _get_unknown_codec_name (\"meta\", fourcc);\n+\n+  return caps;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux.c","additions":730,"deletions":164,"binary":false,"changes":894,"status":"modified"},{"patch":"@@ -68,0 +68,13 @@\n+typedef enum {\n+  \/* Regular behaviour *\/\n+  VARIANT_NONE,\n+\n+  \/* We're working with a MediaSource Extensions ISO BMFF Bytestream. *\/\n+  VARIANT_MSE_BYTESTREAM,\n+\n+  \/* We're working with a smoothstreaming fragment.\n+   * Mss doesn't have 'moov' or any information about the streams format,\n+   * requiring qtdemux to expose and create the streams *\/\n+  VARIANT_MSS_FRAGMENTED,\n+} Variant;\n+\n@@ -92,0 +105,1 @@\n+  gint     n_meta_streams;\n@@ -121,0 +135,4 @@\n+  \/* Start UTC time as extracted from the AFIdentification box, reset on every\n+   * moov *\/\n+  GstClockTime start_utc_time;\n+\n@@ -140,4 +158,1 @@\n-  \/* flag to indicate that we're working with a smoothstreaming fragment\n-   * Mss doesn't have 'moov' or any information about the streams format,\n-   * requiring qtdemux to expose and create the streams *\/\n-  gboolean mss_mode;\n+  Variant variant;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux.h","additions":19,"deletions":4,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -351,0 +351,26 @@\n+static gboolean\n+qtdemux_dump_stsd_metx (GstQTDemux * qtdemux, GstByteReader * data, int depth)\n+{\n+  const gchar *content_encoding;\n+  const gchar *namespaces;\n+  const gchar *schema_locations;\n+\n+  if (gst_byte_reader_get_remaining (data) < 6 + 2)\n+    return FALSE;\n+\n+  gst_byte_reader_skip_unchecked (data, 6);\n+  GST_LOG_OBJECT (qtdemux, \"%*s    data reference:%d\", depth, \"\",\n+      GET_UINT16 (data));\n+\n+  if (!gst_byte_reader_get_string (data, &content_encoding) ||\n+      !gst_byte_reader_get_string (data, &namespaces) ||\n+      !gst_byte_reader_get_string (data, &schema_locations))\n+    return FALSE;\n+\n+  GST_LOG (\"%*s  content_encoding:          %s\", depth, \"\", content_encoding);\n+  GST_LOG (\"%*s  namespaces:                %s\", depth, \"\", namespaces);\n+  GST_LOG (\"%*s  schema_locations:          %s\", depth, \"\", schema_locations);\n+\n+  return TRUE;\n+}\n+\n@@ -405,0 +431,4 @@\n+      case FOURCC_metx:\n+        if (!qtdemux_dump_stsd_metx (qtdemux, &sub, depth + 1))\n+          return FALSE;\n+        break;\n@@ -1026,0 +1056,82 @@\n+gboolean\n+qtdemux_dump_opus (GstQTDemux * qtdemux, GstByteReader * data, int depth)\n+{\n+  guint16 version, data_ref_id, n_channels, sample_size;\n+  guint32 sample_rate;\n+\n+  if (!gst_byte_reader_skip (data, 6) ||\n+      !gst_byte_reader_get_uint16_be (data, &data_ref_id) ||\n+      !gst_byte_reader_get_uint16_be (data, &version) ||\n+      !gst_byte_reader_skip (data, 6) ||\n+      !gst_byte_reader_get_uint16_be (data, &n_channels) ||\n+      !gst_byte_reader_get_uint16_be (data, &sample_size) ||\n+      !gst_byte_reader_skip (data, 4) ||\n+      !gst_byte_reader_get_uint32_be (data, &sample_rate))\n+    return FALSE;\n+\n+  GST_LOG (\"%*s  data reference: %d\", depth, \"\", data_ref_id);\n+  GST_LOG (\"%*s  version:        %d\", depth, \"\", version);\n+  GST_LOG (\"%*s  channel count:  %d\", depth, \"\", n_channels);\n+  GST_LOG (\"%*s  sample size:    %d\", depth, \"\", sample_size);\n+  GST_LOG (\"%*s  sample rate:    %d\", depth, \"\", sample_rate >> 16);\n+\n+  return TRUE;\n+}\n+\n+gboolean\n+qtdemux_dump_dops (GstQTDemux * qtdemux, GstByteReader * data, int depth)\n+{\n+  guint8 version, n_channels, channel_mapping_family;\n+  guint8 stream_count = 1, coupled_count = 0, i = 0;\n+  guint8 *channel_mapping = NULL;\n+  guint16 pre_skip, output_gain;\n+  guint32 sample_rate;\n+\n+  if (!gst_byte_reader_get_uint8 (data, &version) ||\n+      !gst_byte_reader_get_uint8 (data, &n_channels) ||\n+      !gst_byte_reader_get_uint16_be (data, &pre_skip) ||\n+      !gst_byte_reader_get_uint32_be (data, &sample_rate) ||\n+      !gst_byte_reader_get_uint16_be (data, &output_gain) ||\n+      !gst_byte_reader_get_uint8 (data, &channel_mapping_family))\n+    return FALSE;\n+\n+  if (channel_mapping_family != 0) {\n+    if (!gst_byte_reader_get_uint8 (data, &stream_count) ||\n+        !gst_byte_reader_get_uint8 (data, &coupled_count))\n+      return FALSE;\n+\n+    if (n_channels > 0) {\n+      channel_mapping = g_malloc (n_channels * sizeof (guint8));\n+\n+      for (i = 0; i < n_channels; i++)\n+        if (!gst_byte_reader_get_uint8 (data, &channel_mapping[i])) {\n+          g_free (channel_mapping);\n+          return FALSE;\n+        }\n+    }\n+  }\n+\n+  GST_LOG (\"%*s  version:                %d\", depth, \"\", version);\n+  GST_LOG (\"%*s  channel count:          %d\", depth, \"\", n_channels);\n+  GST_LOG (\"%*s  pre skip:               %d\", depth, \"\", pre_skip);\n+  GST_LOG (\"%*s  sample rate:            %d\", depth, \"\", sample_rate);\n+  GST_LOG (\"%*s  output gain:            %d\", depth, \"\", output_gain);\n+  GST_LOG (\"%*s  channel mapping family: %d\", depth, \"\",\n+      channel_mapping_family);\n+\n+  if (channel_mapping_family != 0) {\n+    GST_LOG (\"%*s  stream count:           %d\", depth, \"\", stream_count);\n+    GST_LOG (\"%*s  coupled count:          %d\", depth, \"\", coupled_count);\n+\n+    if (n_channels > 0) {\n+      for (i = 0; i < n_channels; i++)\n+        GST_LOG (\"%*s  channel mapping: %d -> %d\", depth, \"\", i,\n+            channel_mapping[i]);\n+\n+      g_free (channel_mapping);\n+    }\n+  }\n+\n+  return TRUE;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux_dump.c","additions":112,"deletions":0,"binary":false,"changes":112,"status":"modified"},{"patch":"@@ -92,0 +92,4 @@\n+gboolean qtdemux_dump_opus (GstQTDemux * qtdemux, GstByteReader * data,\n+    int depth);\n+gboolean qtdemux_dump_dops (GstQTDemux * qtdemux, GstByteReader * data,\n+    int depth);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux_dump.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+  {FOURCC_nmhd, \"null media information\", 0},\n@@ -99,0 +100,2 @@\n+  {FOURCC_opus, \"opus\", 0, qtdemux_dump_opus},\n+  {FOURCC_dops, \"dOps\", 0, qtdemux_dump_dops},\n@@ -192,0 +195,12 @@\n+  {FOURCC_ai12, \"AVC-Intra 100M 1080p25\/50\", 0},\n+  {FOURCC_ai13, \"AVC-Intra 100M 1080p24\/30\/60\", 0},\n+  {FOURCC_ai15, \"AVC-Intra 100M 1080i50\", 0},\n+  {FOURCC_ai16, \"AVC-Intra 100M 1080i60\", 0},\n+  {FOURCC_ai1p, \"AVC-Intra 100M 720p24\/30\/60\", 0},\n+  {FOURCC_ai1q, \"AVC-Intra 100M 720p25\/50\", 0},\n+  {FOURCC_ai52, \"AVC-Intra 50M 1080p25\/50\", 0},\n+  {FOURCC_ai53, \"AVC-Intra 50M 1080p24\/30\/60\", 0},\n+  {FOURCC_ai55, \"AVC-Intra 50M 1080i50\", 0},\n+  {FOURCC_ai56, \"AVC-Intra 50M 1080i60\", 0},\n+  {FOURCC_ai5p, \"AVC-Intra 50M 720p24\/30\/60\", 0},\n+  {FOURCC_ai5q, \"AVC-Intra 50M 720p25\/50\", 0},\n@@ -233,0 +248,2 @@\n+  {FOURCC_metx, \"XML MetaData Sample Entry\", 0},\n+  {FOURCC_cstb, \"Correct Start Time Box\", 0},\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux_types.c","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n@@ -1823,1 +1823,1 @@\n-        (\"Stream claims av_bsp = %u, which is more than %u - invalid data\",\n+        (\"Stream claims av_bps = %u, which is more than %u - invalid data\",\n@@ -1974,1 +1974,1 @@\n-    GstCaps *tf_caps;\n+    GstCaps *tf_caps, *dts_caps;\n@@ -1976,1 +1976,4 @@\n-    tf_caps = gst_type_find_helper_for_buffer (GST_OBJECT (wav), buf, &prob);\n+    dts_caps = gst_caps_from_string (\"audio\/x-dts\");\n+    tf_caps =\n+        gst_type_find_helper_for_buffer_with_caps (GST_OBJECT (wav), buf,\n+        dts_caps, &prob);\n@@ -1992,0 +1995,1 @@\n+    gst_caps_unref (dts_caps);\n@@ -2217,0 +2221,2 @@\n+  } else {\n+    GST_BUFFER_FLAG_UNSET (buf, GST_BUFFER_FLAG_DISCONT);\n@@ -2346,0 +2352,7 @@\n+        } else {\n+          \/* If we have a pending start segment, send it now. Can happen if a seek\n+           * causes an immediate EOS *\/\n+          if (G_UNLIKELY (wav->start_segment != NULL)) {\n+            gst_pad_push_event (wav->srcpad, wav->start_segment);\n+            wav->start_segment = NULL;\n+          }\n@@ -2383,0 +2396,5 @@\n+  \/* Hold a reference to the buffer, as we access buffer properties in the\n+     `GST_WAVPARSE_DATA` case below and `gst_adapter_push` steals a reference\n+     to the buffer. *\/\n+  gst_buffer_ref (buf);\n+\n@@ -2414,1 +2432,1 @@\n-      g_return_val_if_reached (GST_FLOW_ERROR);\n+      g_assert_not_reached ();\n@@ -2433,0 +2451,2 @@\n+  gst_buffer_unref (buf);\n+\n@@ -2567,1 +2587,1 @@\n-      if (wav->state == GST_WAVPARSE_START || !wav->caps) {\n+      if (!wav->caps) {\n@@ -2571,4 +2591,20 @@\n-        \/* add pad if needed so EOS is seen downstream *\/\n-        if (G_UNLIKELY (wav->first)) {\n-          wav->first = FALSE;\n-          gst_wavparse_add_src_pad (wav, NULL);\n+        switch (wav->state) {\n+          case GST_WAVPARSE_START:\n+            GST_ELEMENT_ERROR (wav, STREAM, WRONG_TYPE, (NULL),\n+                (\"No valid input found before end of stream\"));\n+            break;\n+          case GST_WAVPARSE_HEADER:\n+            GST_ELEMENT_ERROR (wav, STREAM, DEMUX, (NULL),\n+                (\"No audio data chunk found before end of stream\"));\n+            break;\n+          case GST_WAVPARSE_DATA:\n+            \/* add pad if needed so EOS is seen downstream *\/\n+            if (G_UNLIKELY (wav->first)) {\n+              wav->first = FALSE;\n+              gst_wavparse_add_src_pad (wav, NULL);\n+            }\n+            \/* stream leftover data in current segment *\/\n+            gst_wavparse_flush_data (wav);\n+            break;\n+          default:\n+            g_assert_not_reached ();\n@@ -2576,3 +2612,0 @@\n-\n-        \/* stream leftover data in current segment *\/\n-        gst_wavparse_flush_data (wav);\n@@ -2580,1 +2613,0 @@\n-\n@@ -2735,1 +2767,2 @@\n-  \/* only if we know *\/\n+  GST_LOG_OBJECT (pad, \"%s query\", GST_QUERY_TYPE_NAME (query));\n+\n@@ -2737,1 +2770,1 @@\n-    return FALSE;\n+    return gst_pad_query_default (pad, parent, query);\n@@ -2740,2 +2773,0 @@\n-  GST_LOG_OBJECT (pad, \"%s query\", GST_QUERY_TYPE_NAME (query));\n-\n@@ -3112,1 +3143,1 @@\n-#endif \/\/ GSTREAMER_LITE\n\\ No newline at end of file\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/wavparse\/gstwavparse.c","additions":50,"deletions":19,"binary":false,"changes":69,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-#include <gst\/gst-i18n-plugin.h>\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxaudioringbuffer.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -480,1 +480,1 @@\n-  gboolean sign, interleaved;\n+  gboolean sign;\n@@ -508,2 +508,0 @@\n-  interleaved = asbd->mFormatFlags & kAudioFormatFlagIsNonInterleaved ?\n-      TRUE : FALSE;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxcoreaudio.c","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -27,0 +27,4 @@\n+#if defined(MAC_OS_X_VERSION_MAX_ALLOWED) && MAC_OS_X_VERSION_MAX_ALLOWED < 120000\n+#define kAudioObjectPropertyElementMain kAudioObjectPropertyElementMaster\n+#endif\n+\n@@ -37,1 +41,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -65,1 +69,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -89,1 +93,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -129,1 +133,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -141,0 +145,19 @@\n+static inline gboolean\n+_audio_device_is_hidden (AudioDeviceID device_id)\n+{\n+  OSStatus status = noErr;\n+  UInt32 hidden = FALSE;\n+  UInt32 property_size = sizeof (hidden);\n+  AudioObjectPropertyAddress property_address;\n+\n+  property_address.mSelector = kAudioDevicePropertyIsHidden;\n+\n+  status = AudioObjectGetPropertyData (device_id,\n+      &property_address, 0, NULL, &property_size, &hidden);\n+  if (status != noErr) {\n+    return FALSE;\n+  }\n+\n+  return hidden;\n+}\n+\n@@ -151,1 +174,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -174,1 +197,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -197,1 +220,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -223,1 +246,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -275,1 +298,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -307,1 +330,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -338,1 +361,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -400,1 +423,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -437,1 +460,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -460,1 +483,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -483,1 +506,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -506,1 +529,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -593,1 +616,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -699,1 +722,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -724,1 +747,1 @@\n-    kAudioObjectPropertyElementMaster\n+    kAudioObjectPropertyElementMain\n@@ -1186,1 +1209,0 @@\n-  AudioDeviceID *devices = NULL;\n@@ -1188,2 +1210,0 @@\n-  AudioDeviceID default_device_id = 0;\n-  gint i, ndevices = 0;\n@@ -1192,40 +1212,0 @@\n-#ifdef GST_CORE_AUDIO_DEBUG\n-  AudioChannelLayout *channel_layout;\n-#endif\n-\n-  devices = _audio_system_get_devices (&ndevices);\n-\n-  if (ndevices < 1) {\n-    GST_ERROR (\"no audio output devices found\");\n-    goto done;\n-  }\n-\n-  GST_DEBUG (\"found %d audio device(s)\", ndevices);\n-\n-#ifdef GST_CORE_AUDIO_DEBUG\n-  for (i = 0; i < ndevices; i++) {\n-    gchar *device_name;\n-\n-    if ((device_name = _audio_device_get_name (devices[i], output))) {\n-      if (!_audio_device_has_output (devices[i])) {\n-        GST_DEBUG (\"Input Device ID: %u Name: %s\",\n-            (unsigned) devices[i], device_name);\n-      } else {\n-        GST_DEBUG (\"Output Device ID: %u Name: %s\",\n-            (unsigned) devices[i], device_name);\n-\n-        channel_layout =\n-            gst_core_audio_audio_device_get_channel_layout (devices[i], output);\n-        if (channel_layout) {\n-          gst_core_audio_dump_channel_layout (channel_layout);\n-          g_free (channel_layout);\n-        }\n-      }\n-\n-      g_free (device_name);\n-    }\n-  }\n-#endif\n-\n-  \/* Find the ID of the default output device *\/\n-  default_device_id = _audio_system_get_default_device (output);\n@@ -1236,0 +1216,5 @@\n+    AudioDeviceID default_device_id;\n+\n+    \/* Find the ID of the default output device *\/\n+    default_device_id = _audio_system_get_default_device (output);\n+\n@@ -1243,0 +1228,7 @@\n+  } else if (_audio_device_is_hidden (device_id)) {\n+    if (_audio_device_is_alive (device_id, output)) {\n+      res = TRUE;\n+    } else {\n+      GST_ERROR (\"Requested hidden device not usable\");\n+      res = FALSE;\n+    }\n@@ -1244,0 +1236,42 @@\n+    AudioDeviceID *devices = NULL;\n+    gint i, ndevices = 0;\n+#ifdef GST_CORE_AUDIO_DEBUG\n+    AudioChannelLayout *channel_layout;\n+#endif\n+\n+    devices = _audio_system_get_devices (&ndevices);\n+\n+    if (ndevices < 1) {\n+      GST_ERROR (\"no audio output devices found\");\n+      g_free (devices);\n+      return res;\n+    }\n+\n+    GST_DEBUG (\"found %d audio device(s)\", ndevices);\n+\n+#ifdef GST_CORE_AUDIO_DEBUG\n+    for (i = 0; i < ndevices; i++) {\n+      gchar *device_name;\n+\n+      if ((device_name = _audio_device_get_name (devices[i], output))) {\n+        if (!_audio_device_has_output (devices[i])) {\n+          GST_DEBUG (\"Input Device ID: %u Name: %s\",\n+              (unsigned) devices[i], device_name);\n+        } else {\n+          GST_DEBUG (\"Output Device ID: %u Name: %s\",\n+              (unsigned) devices[i], device_name);\n+\n+          channel_layout =\n+              gst_core_audio_audio_device_get_channel_layout (devices[i],\n+              output);\n+          if (channel_layout) {\n+            gst_core_audio_dump_channel_layout (channel_layout);\n+            g_free (channel_layout);\n+          }\n+        }\n+\n+        g_free (device_name);\n+      }\n+    }\n+#endif\n+\n@@ -1251,0 +1285,2 @@\n+    g_free (devices);\n+\n@@ -1254,1 +1290,0 @@\n-      goto done;\n@@ -1261,2 +1296,0 @@\n-done:\n-  g_free (devices);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxcoreaudiohal.c","additions":98,"deletions":65,"binary":false,"changes":163,"status":"modified"},{"patch":"@@ -1,69 +0,0 @@\n-\/* Convenience header for conditional use of GNU <libintl.h>.\n-   Copyright (C) 1995-1998, 2000-2002 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and\/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301,\n-   USA.  *\/\n-\n-#ifndef _LIBGETTEXT_H\n-#define _LIBGETTEXT_H 1\n-\n-\/* NLS can be disabled through the configure --disable-nls option.  *\/\n-#ifdef ENABLE_NLS\n-\n-\/* Get declarations of GNU message catalog functions.  *\/\n-# include <libintl.h>\n-\n-#else\n-\n-\/* Solaris \/usr\/include\/locale.h includes \/usr\/include\/libintl.h, which\n-   chokes if dcgettext is defined as a macro.  So include it now, to make\n-   later inclusions of <locale.h> a NOP.  We don't include <libintl.h>\n-   as well because people using \"gettext.h\" will not include <libintl.h>,\n-   and also including <libintl.h> would fail on SunOS 4, whereas <locale.h>\n-   is OK.  *\/\n-#if defined(__sun)\n-# include <locale.h>\n-#endif\n-\n-\/* Disabled NLS.\n-   The casts to 'const char *' serve the purpose of producing warnings\n-   for invalid uses of the value returned from these functions.\n-   On pre-ANSI systems without 'const', the config.h file is supposed to\n-   contain \"#define const\".  *\/\n-# define gettext(Msgid) ((const char *) (Msgid))\n-# define dgettext(Domainname, Msgid) ((const char *) (Msgid))\n-# define dcgettext(Domainname, Msgid, Category) ((const char *) (Msgid))\n-# define ngettext(Msgid1, Msgid2, N) \\\n-    ((N) == 1 ? (const char *) (Msgid1) : (const char *) (Msgid2))\n-# define dngettext(Domainname, Msgid1, Msgid2, N) \\\n-    ((N) == 1 ? (const char *) (Msgid1) : (const char *) (Msgid2))\n-# define dcngettext(Domainname, Msgid1, Msgid2, N, Category) \\\n-    ((N) == 1 ? (const char *) (Msgid1) : (const char *) (Msgid2))\n-# define textdomain(Domainname) ((const char *) (Domainname))\n-# define bindtextdomain(Domainname, Dirname) ((const char *) (Dirname))\n-# define bind_textdomain_codeset(Domainname, Codeset) ((const char *) (Codeset))\n-\n-#endif\n-\n-\/* A pseudo function call that serves as a marker for the automated\n-   extraction of messages, but does not call gettext().  The run-time\n-   translation is done at a different place in the code.\n-   The argument, String, should be a literal string.  Concatenated strings\n-   and other string expressions won't work.\n-   The macro's expansion is not parenthesized, so that it is suitable as\n-   initializer for static 'char[]' or 'const char[]' variables.  *\/\n-#define gettext_noop(String) String\n-\n-#endif \/* _LIBGETTEXT_H *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gettext.h","additions":0,"deletions":69,"binary":false,"changes":69,"status":"deleted"},{"patch":"@@ -1,44 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2004 Thomas Vander Stichele <thomas@apestaart.org>\n- *\n- * gst-i18n-app.h: internationalization macros for the GStreamer tools\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-\n-#ifndef __GST_I18N_APP_H__\n-#define __GST_I18N_APP_H__\n-\n-#ifdef ENABLE_NLS\n-\n-#include <locale.h>  \/* some people need it and some people don't *\/\n-#include \"gettext.h\" \/* included with gettext distribution and copied *\/\n-\n-\/* we want to use shorthand _() for translating and N_() for marking *\/\n-#define _(String) gettext (String)\n-#define N_(String) gettext_noop (String)\n-\/* FIXME: if we need it, we can add Q_ as well, like in glib *\/\n-\n-#else\n-\n-#define _(String) String\n-#define N_(String) String\n-#define ngettext(Singular,Plural,Count) ((Count>1)?Plural:Singular)\n-\n-#endif\n-\n-#endif \/* __GST_I18N_APP_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst-i18n-app.h","additions":0,"deletions":44,"binary":false,"changes":44,"status":"deleted"},{"patch":"@@ -1,47 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2004 Thomas Vander Stichele <thomas@apestaart.org>\n- *\n- * gst-i18n-lib.h: internationalization macros for the GStreamer libraries\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-\n-#ifndef __GST_I18N_LIB_H__\n-#define __GST_I18N_LIB_H__\n-\n-#ifndef PACKAGE_NAME\n-#error You must include config.h before including this header.\n-#endif\n-\n-#ifdef ENABLE_NLS\n-\n-#include <locale.h>  \/* some people need it and some people don't *\/\n-#include \"gettext.h\" \/* included with gettext distribution and copied *\/\n-\n-\/* we want to use shorthand _() for translating and N_() for marking *\/\n-#define _(String) dgettext (GETTEXT_PACKAGE, String)\n-#define N_(String) gettext_noop (String)\n-\/* FIXME: if we need it, we can add Q_ as well, like in glib *\/\n-\n-#else\n-#define _(String) String\n-#define N_(String) String\n-#define ngettext(Singular,Plural,Count) ((Count>1)?Plural:Singular)\n-\n-#endif\n-\n-#endif \/* __GST_I18N_LIB_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst-i18n-lib.h","additions":0,"deletions":47,"binary":false,"changes":47,"status":"deleted"},{"patch":"@@ -126,1 +126,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -145,1 +145,1 @@\n-static GMutex init_lock;\n+static GRecMutex init_lock;\n@@ -182,10 +182,0 @@\n-static void\n-debug_log_handler (const gchar * log_domain,\n-    GLogLevelFlags log_level, const gchar * message, gpointer user_data)\n-{\n-  g_log_default_handler (log_domain, log_level, message, user_data);\n-  \/* FIXME: do we still need this ? fatal errors these days are all\n-   * other than core errors *\/\n-  \/* g_on_error_query (NULL); *\/\n-}\n-\n@@ -431,1 +421,1 @@\n-  g_mutex_lock (&init_lock);\n+  g_rec_mutex_lock (&init_lock);\n@@ -444,1 +434,1 @@\n-    g_mutex_unlock (&init_lock);\n+    g_rec_mutex_unlock (&init_lock);\n@@ -463,1 +453,1 @@\n-  g_mutex_unlock (&init_lock);\n+  g_rec_mutex_unlock (&init_lock);\n@@ -486,5 +476,0 @@\n- *\n- * WARNING: This function does not work in the same way as corresponding\n- * functions in other glib-style libraries, such as gtk_init\\(\\). In\n- * particular, unknown command line options cause this function to\n- * abort program execution.\n@@ -702,2 +687,0 @@\n-  GLogLevelFlags llf;\n-\n@@ -709,4 +692,0 @@\n-  llf = G_LOG_LEVEL_CRITICAL | G_LOG_LEVEL_ERROR | G_LOG_FLAG_FATAL;\n-  \/* TODO: should we also set up a handler for the other gst libs\/domains? *\/\n-  g_log_set_handler (G_LOG_DOMAIN, llf, debug_log_handler, NULL);\n-\n@@ -865,2 +844,0 @@\n-  init_static_plugins ();\n-\n@@ -871,4 +848,0 @@\n-   *\n-   * If anything fails, it will be put back to %FALSE in gst_init_check().\n-   * This allows some special plugins that would call gst_init() to not cause a\n-   * looping effect (i.e. initializing GStreamer twice).\n@@ -878,2 +851,2 @@\n-  if (!gst_update_registry ())\n-    return FALSE;\n+  init_static_plugins ();\n+  gst_update_registry ();\n@@ -891,1 +864,1 @@\n-#ifndef GST_DISABLE_GST_DEBUG\n+#ifndef GST_DISABLE_GST_TRACER_HOOKS\n@@ -1159,1 +1132,0 @@\n-  GstClock *clock;\n@@ -1161,1 +1133,1 @@\n-  g_mutex_lock (&init_lock);\n+  g_rec_mutex_lock (&init_lock);\n@@ -1164,1 +1136,1 @@\n-    g_mutex_unlock (&init_lock);\n+    g_rec_mutex_unlock (&init_lock);\n@@ -1196,2 +1168,1 @@\n-  clock = gst_system_clock_obtain ();\n-  gst_object_unref (clock);\n+  GstClock *clock = gst_system_clock_obtain ();\n@@ -1199,0 +1170,1 @@\n+  gst_clear_object (&clock);\n@@ -1319,1 +1291,1 @@\n-  g_mutex_unlock (&init_lock);\n+  g_rec_mutex_unlock (&init_lock);\n@@ -1321,0 +1293,1 @@\n+#ifndef GST_DISABLE_GST_DEBUG\n@@ -1325,0 +1298,1 @@\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst.c","additions":15,"deletions":41,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -104,0 +104,9 @@\n+#ifndef GSTREAMER_LITE\n+#ifdef __APPLE__\n+#  include <TargetConditionals.h>\n+#  if TARGET_OS_MAC && !TARGET_OS_IPHONE\n+#   include <gst\/gstmacos.h>\n+#  endif\n+#endif\n+#endif \/\/ GSTREAMER_LITE\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst.h","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -37,0 +37,4 @@\n+#ifdef GSTREAMER_LITE\n+#include <glib\/gprintf.h>       \/* g_vasprintf *\/\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -172,1 +176,1 @@\n-G_GNUC_INTERNAL gchar * _priv_gst_value_serialize_any_list (const GValue * value, const gchar * begin, const gchar * end, gboolean print_type);\n+G_GNUC_INTERNAL gchar * _priv_gst_value_serialize_any_list (const GValue * value, const gchar * begin, const gchar * end, gboolean print_type, GstSerializeFlags flags);\n@@ -353,5 +357,10 @@\n-#ifdef GST_DISABLE_GST_DEBUG\n-\/* for _gst_element_error_printf *\/\n-#define __gst_vasprintf __gst_info_fallback_vasprintf\n-int __gst_vasprintf (char **result, char const *format, va_list args);\n-#endif\n+#ifdef GSTREAMER_LITE\n+\/\/ In pre 1.22.6 __gst_vasprintf was defined as __gst_info_fallback_vasprintf\n+\/\/ when debug subsystem is diabled and starting from 1.26.0 upgrade we need to\n+\/\/ use __gst_vasprintf from gst\/printf. As of now I do not see need to pull\n+\/\/ gst\/printf code, since it is needed to handle old pointer extension formats\n+\/\/ such as %P and %Q and then call g_vasprintf. See __gst_info_fallback_vasprintf\n+\/\/ implementation in pre 1.22.6. Since we do not use old extension formats, we\n+\/\/ will use g_vasprintf direcly.\n+#define __gst_vasprintf g_vasprintf\n+#endif \/\/ GSTREAMER_LITE\n@@ -525,1 +534,1 @@\n-  GWeakRef clock;\n+  GWeakRef *clock;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst_private.h","additions":16,"deletions":7,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -242,1 +242,2 @@\n-  g_hash_table_insert (allocators, (gpointer) name, (gpointer) allocator);\n+  g_hash_table_insert (allocators, (gpointer) g_strdup (name),\n+      (gpointer) allocator);\n@@ -248,1 +249,1 @@\n- * @name: (allow-none): the name of the allocator\n+ * @name: (nullable): the name of the allocator\n@@ -298,1 +299,1 @@\n- * @allocator: (transfer none) (allow-none): a #GstAllocator to use\n+ * @allocator: (transfer none) (nullable): a #GstAllocator to use\n@@ -300,1 +301,1 @@\n- * @params: (transfer none) (allow-none): optional parameters\n+ * @params: (transfer none) (nullable): optional parameters\n@@ -612,1 +613,1 @@\n-  allocators = g_hash_table_new_full (g_str_hash, g_str_equal, NULL,\n+  allocators = g_hash_table_new_full (g_str_hash, g_str_equal, g_free,\n@@ -655,2 +656,2 @@\n- * @user_data: (allow-none): user_data\n- * @notify: (allow-none) (scope async) (closure user_data): called with @user_data when the memory is freed\n+ * @user_data: (nullable): user_data\n+ * @notify: (nullable) (scope async) (closure user_data): called with @user_data when the memory is freed\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstallocator.c","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -267,1 +267,1 @@\n- * Returns: (transfer full): the head element of @queue or %NULL when\n+ * Returns: (transfer full) (nullable): the head element of @queue or %NULL when\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstatomicqueue.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1126,0 +1126,3 @@\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n+        \/\/ g_queue_clear_full() is available staring with 2.60, but we need\n+        \/\/ to support older GLib versions.\n@@ -1128,0 +1131,3 @@\n+#else \/\/ GSTREAMER_LITE\n+        g_queue_clear_full (&elements, (GDestroyNotify) gst_object_unref);\n+#endif \/\/ GSTREAMER_LITE\n@@ -1145,1 +1151,0 @@\n-          gst_object_unref (e);\n@@ -1147,0 +1152,2 @@\n+\n+        gst_object_unref (e);\n@@ -1570,1 +1577,2 @@\n-  if (GST_OBJECT_PARENT (element) != GST_OBJECT_CAST (bin))\n+  if (GST_OBJECT_PARENT (element) != GST_OBJECT_CAST (bin)) {\n+    GST_OBJECT_UNLOCK (element);\n@@ -1572,0 +1580,1 @@\n+  }\n@@ -1822,1 +1831,0 @@\n-    GST_OBJECT_UNLOCK (element);\n@@ -2594,3 +2602,10 @@\n-    GST_DEBUG_OBJECT (element,\n-        \"element is locked, return previous return %s\",\n-        gst_element_state_change_return_get_name (ret));\n+    if (ret == GST_STATE_CHANGE_FAILURE) {\n+      GST_DEBUG_OBJECT (element,\n+          \"element is locked, and previous state change failed, return %s\",\n+          gst_element_state_change_return_get_name (GST_STATE_CHANGE_SUCCESS));\n+      ret = GST_STATE_CHANGE_SUCCESS;\n+    } else {\n+      GST_DEBUG_OBJECT (element,\n+          \"element is locked, return previous return %s\",\n+          gst_element_state_change_return_get_name (ret));\n+    }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbin.c","additions":21,"deletions":6,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -133,0 +133,1 @@\n+#include \"gstmeta.h\"\n@@ -669,0 +670,4 @@\n+    gboolean deep;\n+\n+    deep = (flags & GST_BUFFER_COPY_DEEP) != 0;\n+\n@@ -686,0 +691,5 @@\n+      } else if (deep && gst_meta_api_type_has_tag (info->api,\n+              _gst_meta_tag_memory_reference)) {\n+        GST_CAT_DEBUG (GST_CAT_BUFFER,\n+            \"don't copy memory reference meta %p of API type %s\", meta,\n+            g_type_name (info->api));\n@@ -740,1 +750,1 @@\n- * Returns: (transfer full): a new copy of @buf.\n+ * Returns: (transfer full) (nullable): a new copy of @buf if the copy succeeded, %NULL otherwise.\n@@ -1954,6 +1964,1 @@\n-  \/* we need to check for NULL, it is possible that we tried to map a buffer\n-   * without memory and we should be able to unmap that fine *\/\n-  if (G_LIKELY (info->memory)) {\n-    gst_memory_unmap (info->memory, info);\n-    gst_memory_unref (info->memory);\n-  }\n+  _gst_buffer_map_info_clear ((GstBufferMapInfo *) info);\n@@ -2184,2 +2189,2 @@\n- * Returns: (transfer full): the new #GstBuffer or %NULL if the arguments were\n- *     invalid.\n+ * Returns: (transfer full) (nullable): the new #GstBuffer or %NULL if copying\n+ *     failed.\n@@ -2719,1 +2724,1 @@\n-  static const gchar *tags[] = { NULL };\n+  static const gchar *tags[] = { GST_META_TAG_MEMORY_REFERENCE_STR, NULL };\n@@ -3052,1 +3057,1 @@\n- * Returns: (transfer full): a new copy of @buf.\n+ * Returns: (transfer full) (nullable): a new copy of @buf if the copy succeeded, %NULL otherwise.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbuffer.c","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -205,1 +205,3 @@\n- *                                 this is the start of a talkspurt.\n+ *                                 this is the start of a talkspurt. for RTP\n+ *                                 packets this matches the marker flag in the\n+ *                                 RTP packet header.\n@@ -572,2 +574,2 @@\n- * Returns: (transfer full): a writable buffer which may or may not be the\n- *     same as @buf\n+ * Returns: (transfer full) (nullable): a writable buffer (which may or may not be the\n+ *     same as @buf) or %NULL if copying is required but not possible.\n@@ -755,4 +757,12 @@\n- * references would be `timestamp\/x-drivername-stream` for timestamps that are locally\n- * generated by some driver named `drivername` when generating the stream,\n- * e.g. based on a frame counter, or `timestamp\/x-ntp, host=pool.ntp.org,\n- * port=123` for timestamps based on a specific NTP server.\n+ * references would be\n+ *\n+ *  * `timestamp\/x-drivername-stream`: for timestamps that are locally\n+ *    generated by some driver named `drivername` when generating the stream,\n+ *    e.g. based on a frame counter\n+ *  * `timestamp\/x-ntp, host=pool.ntp.org, port=123`: for timestamps based on a\n+ *    specific NTP server. Note that the host\/port parameters might not always\n+ *    be given.\n+ *  * `timestamp\/x-ptp, version=IEEE1588-2008, domain=1`: for timestamps based\n+ *    on a given PTP clock.\n+ *  * `timestamp\/x-unix`: for timestamps based on the UNIX epoch according to\n+ *    the local clock.\n@@ -795,0 +805,36 @@\n+\/**\n+ * GstBufferMapInfo: (skip):\n+ *\n+ * Alias for #GstMapInfo to be used with g_auto():\n+ * ```c\n+ * void my_func(GstBuffer *buf)\n+ * {\n+ *   g_auto(GstBufferMapInfo) map = GST_MAP_INFO_INIT;\n+ *   if (!gst_buffer_map(buf, &map, GST_MAP_READWRITE))\n+ *     return;\n+ *   ...\n+ *   \/\/ No need to call gst_buffer_unmap()\n+ * }\n+ * ```\n+ *\n+ * #GstMapInfo cannot be used with g_auto() because it is ambiguous whether it\n+ * needs to be unmapped using gst_buffer_unmap() or gst_memory_unmap().\n+ *\n+ * See also #GstMemoryMapInfo.\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef GstMapInfo GstBufferMapInfo;\n+\n+static inline void _gst_buffer_map_info_clear(GstBufferMapInfo *info)\n+{\n+  \/* we need to check for NULL, it is possible that we tried to map a buffer\n+   * without memory and we should be able to unmap that fine *\/\n+  if (G_LIKELY (info->memory)) {\n+    gst_memory_unmap (info->memory, info);\n+    gst_memory_unref (info->memory);\n+  }\n+}\n+\n+G_DEFINE_AUTO_CLEANUP_CLEAR_FUNC(GstBufferMapInfo, _gst_buffer_map_info_clear)\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbuffer.h","additions":53,"deletions":7,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -1261,2 +1261,2 @@\n- * @buffer: (out): a location for a #GstBuffer\n- * @params: (transfer none) (allow-none): parameters.\n+ * @buffer: (out) (transfer full) (nullable): a location for a #GstBuffer\n+ * @params: (transfer none) (nullable): parameters.\n@@ -1265,1 +1265,3 @@\n- * can hold a pointer to the new buffer.\n+ * can hold a pointer to the new buffer. When the pool is empty, this function\n+ * will by default block until a buffer is released into the pool again or when\n+ * the pool is set to flushing or deactivated.\n@@ -1282,0 +1284,2 @@\n+  *buffer = NULL;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbufferpool.c","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -179,2 +179,2 @@\n-   * @buffer: (out): a location for a #GstBuffer\n-   * @params: (transfer none) (allow-none): parameters.\n+   * @buffer: (out) (transfer full) (nullable): a location for a #GstBuffer\n+   * @params: (transfer none) (nullable): parameters.\n@@ -195,2 +195,2 @@\n-   * @buffer: (out): a location for a #GstBuffer\n-   * @params: (transfer none) (allow-none): parameters.\n+   * @buffer: (out) (transfer full) (nullable): a location for a #GstBuffer\n+   * @params: (transfer none) (nullable): parameters.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbufferpool.h","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -303,0 +303,10 @@\n+  if (strcmp (\"ANY\", media_type) == 0) {\n+    g_warning\n+        (\"media_type should not be ANY. Please consider using `gst_caps_new_any` or `gst_caps_from_string`.\");\n+  }\n+  if (strcmp (\"\", media_type) == 0 || strcmp (\"EMPTY\", media_type) == 0\n+      || strcmp (\"NONE\", media_type) == 0) {\n+    g_warning\n+        (\"media_type should not be `%s`. Please consider using `gst_caps_new_empty` or `gst_caps_from_string`.\",\n+        media_type);\n+  }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcaps.c","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -58,0 +58,63 @@\n+\/**\n+ * gst_child_proxy_get_child_by_name_recurse:\n+ * @child_proxy: the parent object to get the child from\n+ * @name: the full-path child's name\n+ *\n+ * Looks up a child element by the given full-path name.\n+ *\n+ * Similar to gst_child_proxy_get_child_by_name(), this method\n+ * searches and returns a child given a name. The difference is that\n+ * this method allows a hierarchical path in the form of\n+ * child1::child2::child3. In the later example this method would\n+ * return a reference to child3, if found. The name should be made of\n+ * element names only and should not contain any property names.\n+ *\n+ * Returns: (transfer full) (nullable): the child object or %NULL if\n+ *     not found.\n+ *\n+ * Since: 1.22\n+ *\/\n+GObject *\n+gst_child_proxy_get_child_by_name_recurse (GstChildProxy * child_proxy,\n+    const gchar * name)\n+{\n+  gchar **names = NULL, **current = NULL;\n+  GObject *obj = NULL, *next = NULL;\n+\n+  g_return_val_if_fail (child_proxy != NULL, NULL);\n+  g_return_val_if_fail (name != NULL, NULL);\n+\n+  current = names = g_strsplit (name, \"::\", -1);\n+  if (current[0]) {\n+    obj = G_OBJECT (g_object_ref (child_proxy));\n+  }\n+\n+  \/* walk through the children hierarchy until the requested one is found *\/\n+  while (current[0]) {\n+\n+    \/* Cannot ask for the child of a non-childproxy *\/\n+    if (!GST_IS_CHILD_PROXY (obj)) {\n+      gst_object_unref (obj);\n+      next = NULL;\n+      break;\n+    }\n+\n+    next = gst_child_proxy_get_child_by_name (GST_CHILD_PROXY (obj),\n+        current[0]);\n+    gst_object_unref (obj);\n+\n+    \/* The child does not exist *\/\n+    if (!next) {\n+      GST_INFO (\"Unable to find child %s\", current[0]);\n+      break;\n+    }\n+\n+    obj = next;\n+    current++;\n+  }\n+\n+  g_strfreev (names);\n+\n+  return next;\n+}\n+\n@@ -197,1 +260,0 @@\n-  GObject *obj;\n@@ -199,1 +261,4 @@\n-  gchar **names, **current;\n+  gchar *children = NULL;\n+  const gchar *prop = NULL;\n+  GObject *child = NULL;\n+  static const gchar *separator = \"::\";\n@@ -204,12 +269,20 @@\n-  obj = G_OBJECT (g_object_ref (object));\n-\n-  current = names = g_strsplit (name, \"::\", -1);\n-  \/* find the owner of the property *\/\n-  while (current[1]) {\n-    GObject *next;\n-\n-    if (!GST_IS_CHILD_PROXY (obj)) {\n-      GST_INFO\n-          (\"object %s is not a parent, so you cannot request a child by name %s\",\n-          (GST_IS_OBJECT (obj) ? GST_OBJECT_NAME (obj) : \"\"), current[0]);\n-      break;\n+  \/* If the requested name does not include a \"::\" then it is not a\n+     child proxy path, but the property name directly *\/\n+  prop = g_strrstr (name, separator);\n+  if (!prop) {\n+    child = gst_object_ref (G_OBJECT (object));\n+    prop = name;\n+  } else {\n+    \/* Skip \"::\" *\/\n+    prop += 2;\n+\n+    \/* Extract \"child1::child2\" from \"child1::child2::prop\" *\/\n+    children = g_strndup (name, prop - name - 2);\n+    GST_INFO (\"Looking for property %s in %s\", prop, children);\n+\n+    child = gst_child_proxy_get_child_by_name_recurse (object, children);\n+    g_free (children);\n+\n+    if (!child) {\n+      GST_INFO (\"Child not found\");\n+      goto out;\n@@ -217,9 +290,0 @@\n-    next = gst_child_proxy_get_child_by_name (GST_CHILD_PROXY (obj),\n-        current[0]);\n-    if (!next) {\n-      GST_INFO (\"no such object %s\", current[0]);\n-      break;\n-    }\n-    gst_object_unref (obj);\n-    obj = next;\n-    current++;\n@@ -228,14 +292,10 @@\n-  \/* look for psec *\/\n-  if (current[1] == NULL) {\n-    GParamSpec *spec =\n-        g_object_class_find_property (G_OBJECT_GET_CLASS (obj), current[0]);\n-    if (spec == NULL) {\n-      GST_INFO (\"no param spec named %s\", current[0]);\n-    } else {\n-      if (pspec)\n-        *pspec = spec;\n-      if (target) {\n-        g_object_ref (obj);\n-        *target = obj;\n-      }\n-      res = TRUE;\n+  GParamSpec *spec =\n+      g_object_class_find_property (G_OBJECT_GET_CLASS (child), prop);\n+  if (spec == NULL) {\n+    GST_INFO (\"no param spec named %s\", prop);\n+  } else {\n+    if (pspec)\n+      *pspec = spec;\n+    if (target) {\n+      g_object_ref (child);\n+      *target = child;\n@@ -243,0 +303,1 @@\n+    res = TRUE;\n@@ -244,2 +305,3 @@\n-  gst_object_unref (obj);\n-  g_strfreev (names);\n+  gst_object_unref (child);\n+\n+out:\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstchildproxy.c","additions":101,"deletions":39,"binary":false,"changes":140,"status":"modified"},{"patch":"@@ -121,0 +121,4 @@\n+GST_API\n+GObject * gst_child_proxy_get_child_by_name_recurse (GstChildProxy * child_proxy,\n+                                                     const gchar *name);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstchildproxy.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -168,0 +168,5 @@\n+\n+  \/\/ g_atomic_rc_box_* -> g_weak_ref_init(), g_weak_ref_clear() due to GLib 2.60 requirements\n+#if !defined(GSTREAMER_LITE) || !defined(LINUX)\n+  GWeakRef *clock_weakref;\n+#endif \/\/ GSTREAMER_LITE\n@@ -172,0 +177,1 @@\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n@@ -173,0 +179,3 @@\n+#else \/\/ GSTREAMER_LITE\n+#define GST_CLOCK_ENTRY_CLOCK_WEAK_REF(entry) (((GstClockEntryImpl *)(entry))->clock)\n+#endif \/\/ GSTREAMER_LITE\n@@ -263,0 +272,2 @@\n+\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n@@ -264,0 +275,4 @@\n+#else \/\/ GSTREAMER_LITE\n+  GST_CLOCK_ENTRY_CLOCK_WEAK_REF (entry) =\n+      g_atomic_rc_box_acquire (clock->priv->clock_weakref);\n+#endif \/\/ GSTREAMER_LITE\n@@ -377,0 +392,1 @@\n+#if defined (GSTREAMER_LITE) && defined(LINUX)\n@@ -378,0 +394,4 @@\n+#else \/\/ GSTREAMER_LITE\n+  g_atomic_rc_box_release_full (GST_CLOCK_ENTRY_CLOCK_WEAK_REF (entry),\n+      (GDestroyNotify) g_weak_ref_clear);\n+#endif \/\/ GSTREAMER_LITE\n@@ -772,0 +792,13 @@\n+#if !defined(GSTREAMER_LITE) || !defined(LINUX)\n+  \/*\n+   * An atomically ref-counted wrapper around a GWeakRef for this GstClock,\n+   * created by the clock and shared with all its clock entries.\n+   *\n+   * This exists because g_weak_ref_ operations are quite expensive and operate\n+   * with a global GRWLock. _get takes a reader lock, _init and _clear take\n+   * a writer lock. We want to avoid having to instantiate a new GWeakRef for\n+   * every clock entry.\n+   *\/\n+  priv->clock_weakref = g_atomic_rc_box_new (GWeakRef);\n+  g_weak_ref_init (priv->clock_weakref, clock);\n+#endif \/\/ GSTREAMER_LITE\n@@ -804,0 +837,4 @@\n+#if !defined(GSTREAMER_LITE) || !defined(LINUX)\n+  g_atomic_rc_box_release_full (clock->priv->clock_weakref,\n+      (GDestroyNotify) g_weak_ref_clear);\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstclock.c","additions":37,"deletions":0,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -337,1 +337,1 @@\n- * Return value: the offset from UTC in hours, or %G_MAXDOUBLE if none is set.\n+ * Return value: the offset from UTC in hours, or %G_MAXFLOAT if none is set.\n@@ -345,1 +345,1 @@\n-    return G_MAXDOUBLE;\n+    return G_MAXFLOAT;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstdatetime.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -107,1 +107,1 @@\n-#ifndef GST_DISABLE_GST_DEBUG\n+#ifndef GSTREAMER_LITE\n@@ -109,1 +109,1 @@\n-#endif\n+#endif \/\/ GSTREAMER_LITE\n@@ -422,1 +422,1 @@\n- * @clock: (transfer none) (allow-none): the #GstClock to set for the element.\n+ * @clock: (transfer none) (nullable): the #GstClock to set for the element.\n@@ -752,0 +752,1 @@\n+  gboolean should_activate;\n@@ -776,4 +777,2 @@\n-  if (!active && (GST_STATE (element) > GST_STATE_READY ||\n-          GST_STATE_NEXT (element) == GST_STATE_PAUSED)) {\n-    gst_pad_set_active (pad, TRUE);\n-  }\n+  should_activate = !active && (GST_STATE (element) > GST_STATE_READY ||\n+      GST_STATE_NEXT (element) == GST_STATE_PAUSED);\n@@ -801,0 +800,3 @@\n+  if (should_activate)\n+    gst_pad_set_active (pad, TRUE);\n+\n@@ -1055,1 +1057,1 @@\n-    if (*(templ_name_ptr + 1) == 's' && g_strcmp0 (templ_name, name) == 0) {\n+    if (*(templ_name_ptr + 1) == 's') {\n@@ -1168,0 +1170,10 @@\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  {\n+    if (!g_list_find (oclass->padtemplates, templ)) {\n+      \/* FIXME 2.0: Change this to g_return_val_if_fail() *\/\n+      g_critical (\"Element type %s does not have a pad template %s (%p)\",\n+          g_type_name (G_OBJECT_TYPE (element)), templ->name_template, templ);\n+    }\n+  }\n+#endif\n+\n@@ -1754,1 +1766,1 @@\n- * > If you use this function in the #GInstanceInitFunc of an object class\n+ * > If you use this function in the GInstanceInitFunc of an object class\n@@ -1756,1 +1768,1 @@\n- * > #GInstanceInitFunc here.\n+ * > GInstanceInitFunc here.\n@@ -1796,1 +1808,1 @@\n- * > If you use this function in the #GInstanceInitFunc of an object class\n+ * > If you use this function in the GInstanceInitFunc of an object class\n@@ -1798,1 +1810,1 @@\n- * > #GInstanceInitFunc here.\n+ * > GInstanceInitFunc here.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstelement.c","additions":25,"deletions":13,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -492,1 +492,1 @@\n-  if (factory->type == 0)\n+  if (factory->type == G_TYPE_INVALID)\n@@ -497,3 +497,4 @@\n-\n-  if (G_UNLIKELY (element == NULL))\n-    goto no_element;\n+  if (G_UNLIKELY (!element)) {\n+    gst_object_unref (factory);\n+    g_return_val_if_fail (element != NULL, NULL);\n+  }\n@@ -539,6 +540,0 @@\n-no_element:\n-  {\n-    GST_WARNING_OBJECT (factory, \"could not create element\");\n-    gst_object_unref (factory);\n-    return NULL;\n-  }\n@@ -577,2 +572,2 @@\n-  g_return_val_if_fail (newfactory != NULL, NULL);\n-  g_return_val_if_fail (newfactory->type != 0, NULL);\n+  if (newfactory == NULL)\n+    goto load_failed;\n@@ -582,0 +577,3 @@\n+  if (factory->type == G_TYPE_INVALID)\n+    goto no_type;\n+\n@@ -606,0 +604,13 @@\n+\n+  \/* ERRORS *\/\n+load_failed:\n+  {\n+    GST_WARNING_OBJECT (factory, \"loading plugin returned NULL!\");\n+    return NULL;\n+  }\n+no_type:\n+  {\n+    GST_WARNING_OBJECT (factory, \"factory has no type\");\n+    gst_object_unref (factory);\n+    return NULL;\n+  }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstelementfactory.c","additions":23,"deletions":12,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsterror.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -216,0 +216,27 @@\n+\/**\n+ * gst_event_type_to_sticky_ordering\n+ * @type: a #GstEventType\n+ *\n+ * Converts the #GstEventType to an unsigned integer that\n+ * represents the ordering of sticky events when re-sending them.\n+ * A lower value represents a higher-priority event.\n+ *\n+ * Returns: an unsigned integer\n+ * Since: 1.22\n+ *\/\n+\/* FIXME 2.0: Remove the sticky event order overrides once\n+ * the event type numbers are fixed *\/\n+guint\n+gst_event_type_to_sticky_ordering (GstEventType type)\n+{\n+  guint sticky_order = type;\n+\n+  \/* Fix up the sticky event ordering for events where the\n+   * type was chosen poorly *\/\n+  if (type == GST_EVENT_INSTANT_RATE_CHANGE) {\n+    sticky_order = GST_EVENT_SEGMENT + 1;\n+  }\n+\n+  return sticky_order;\n+}\n+\n@@ -301,1 +328,1 @@\n- * Returns: (transfer full) (nullable): the new custom event.\n+ * Returns: (transfer full): the new custom event.\n@@ -357,1 +384,1 @@\n- * @event: The #GstEvent.\n+ * @event: A writable #GstEvent.\n@@ -364,2 +391,2 @@\n- * This function checks if @event is writable and will never return\n- * %NULL.\n+ * This function ensures that @event is writable, and if so, will\n+ * never return %NULL.\n@@ -594,1 +621,1 @@\n- * @reset_time: (out): if time should be reset\n+ * @reset_time: (out) (optional): if time should be reset\n@@ -629,2 +656,1 @@\n- * Returns: (transfer full): a new select-streams event or %NULL in case of\n- * an error (like an empty streams list).\n+ * Returns: (transfer full): a new select-streams event.\n@@ -664,1 +690,1 @@\n- * @streams: (out) (element-type utf8) (transfer full): the streams\n+ * @streams: (out) (optional) (element-type utf8) (transfer full): the streams\n@@ -727,1 +753,1 @@\n- * @group_id: (out): address of variable to store the group id into\n+ * @group_id: (out) (optional): address of variable to store the group id into\n@@ -807,1 +833,1 @@\n- * @timestamp: (out) (allow-none): location where to store the\n+ * @timestamp: (out) (optional): location where to store the\n@@ -809,1 +835,1 @@\n- * @duration: (out) (allow-none): location where to store the duration of\n+ * @duration: (out) (optional): location where to store the duration of\n@@ -854,1 +880,1 @@\n- * @flags: (out): a #GstGapFlags or %NULL\n+ * @flags: (out) (optional): a #GstGapFlags or %NULL\n@@ -884,1 +910,1 @@\n- * Returns: (transfer full) (nullable): the new CAPS event.\n+ * Returns: (transfer full): the new CAPS event.\n@@ -906,1 +932,1 @@\n- * @caps: (out) (transfer none): A pointer to the caps\n+ * @caps: (out) (optional) (transfer none): A pointer to the caps\n@@ -962,1 +988,1 @@\n- * Returns: (transfer full) (nullable): the new SEGMENT event.\n+ * Returns: (transfer full): the new SEGMENT event.\n@@ -987,1 +1013,1 @@\n- * @segment: (out) (transfer none): a pointer to a #GstSegment\n+ * @segment: (out) (optional) (transfer none): a pointer to a #GstSegment\n@@ -1064,1 +1090,1 @@\n- * @taglist: (out) (transfer none): pointer to metadata list\n+ * @taglist: (out) (optional) (transfer none): pointer to metadata list\n@@ -1126,4 +1152,4 @@\n- * @format: (out): A pointer to store the format in\n- * @minsize: (out): A pointer to store the minsize in\n- * @maxsize: (out): A pointer to store the maxsize in\n- * @async: (out): A pointer to store the async-flag in\n+ * @format: (out) (optional): A pointer to store the format in\n+ * @minsize: (out) (optional): A pointer to store the minsize in\n+ * @maxsize: (out) (optional): A pointer to store the maxsize in\n+ * @async: (out) (optional): A pointer to store the async-flag in\n@@ -1211,1 +1237,1 @@\n- * Returns: (transfer full) (nullable): a new QOS event.\n+ * Returns: (transfer full): a new QOS event.\n@@ -1241,4 +1267,4 @@\n- * @type: (out): A pointer to store the QoS type in\n- * @proportion: (out): A pointer to store the proportion in\n- * @diff: (out): A pointer to store the diff in\n- * @timestamp: (out): A pointer to store the timestamp in\n+ * @type: (out) (optional): A pointer to store the QoS type in\n+ * @proportion: (out) (optional): A pointer to store the proportion in\n+ * @diff: (out) (optional): A pointer to store the diff in\n+ * @timestamp: (out) (optional): A pointer to store the timestamp in\n@@ -1337,1 +1363,1 @@\n- * Returns: (transfer full) (nullable): a new seek event.\n+ * Returns: (transfer full): a new seek event.\n@@ -1398,7 +1424,7 @@\n- * @rate: (out): result location for the rate\n- * @format: (out): result location for the stream format\n- * @flags:  (out): result location for the #GstSeekFlags\n- * @start_type: (out): result location for the #GstSeekType of the start position\n- * @start: (out): result location for the start position expressed in @format\n- * @stop_type:  (out): result location for the #GstSeekType of the stop position\n- * @stop: (out): result location for the stop position expressed in @format\n+ * @rate: (out) (optional): result location for the rate\n+ * @format: (out) (optional): result location for the stream format\n+ * @flags:  (out) (optional): result location for the #GstSeekFlags\n+ * @start_type: (out) (optional): result location for the #GstSeekType of the start position\n+ * @start: (out) (optional): result location for the start position expressed in @format\n+ * @stop_type:  (out) (optional): result location for the #GstSeekType of the stop position\n+ * @stop: (out) (optional): result location for the stop position expressed in @format\n@@ -1472,1 +1498,1 @@\n- * @interval: (out)\n+ * @interval: (out) (optional): interval\n@@ -1497,1 +1523,2 @@\n- *     ownership of the structure.\n+ *     ownership of the structure. See #GstNavigation for more specific\n+ *     constructors.\n@@ -1545,1 +1572,1 @@\n- * @latency: (out): A pointer to store the latency in.\n+ * @latency: (out) (optional): A pointer to store the latency in.\n@@ -1583,1 +1610,1 @@\n- * Returns: (transfer full) (nullable): a new #GstEvent\n+ * Returns: (transfer full): a new #GstEvent\n@@ -1610,5 +1637,5 @@\n- * @format: (out) (allow-none): a pointer to store the format in\n- * @amount: (out) (allow-none): a pointer to store the amount in\n- * @rate: (out) (allow-none): a pointer to store the rate in\n- * @flush: (out) (allow-none): a pointer to store the flush boolean in\n- * @intermediate: (out) (allow-none): a pointer to store the intermediate\n+ * @format: (out) (optional): a pointer to store the format in\n+ * @amount: (out) (optional): a pointer to store the amount in\n+ * @rate: (out) (optional): a pointer to store the rate in\n+ * @flush: (out) (optional): a pointer to store the flush boolean in\n+ * @intermediate: (out) (optional): a pointer to store the intermediate\n@@ -1703,1 +1730,1 @@\n- * @msg: (out) (transfer full): a pointer to store the #GstMessage in.\n+ * @msg: (out) (optional) (transfer full): a pointer to store the #GstMessage in.\n@@ -1767,1 +1794,1 @@\n- * @stream_id: (out) (transfer none): pointer to store the stream-id\n+ * @stream_id: (out) (optional) (transfer none): pointer to store the stream-id\n@@ -1813,1 +1840,1 @@\n- * @stream: (out) (transfer full): address of variable to store the stream\n+ * @stream: (out) (optional) (transfer full): address of variable to store the stream\n@@ -1853,1 +1880,1 @@\n- * @flags: (out): address of variable where to store the stream flags\n+ * @flags: (out) (optional): address of variable where to store the stream flags\n@@ -1900,1 +1927,1 @@\n- * @group_id: (out): address of variable where to store the group id\n+ * @group_id: (out) (optional): address of variable where to store the group id\n@@ -1925,1 +1952,1 @@\n- * @collection: Active collection for this data flow\n+ * @collection: (transfer none): Active collection for this data flow\n@@ -1957,1 +1984,1 @@\n- * @collection: (out): pointer to store the collection\n+ * @collection: (out) (optional) (transfer full): pointer to store the collection.\n@@ -2017,2 +2044,2 @@\n- * @toc: (out) (transfer full): pointer to #GstToc structure.\n- * @updated: (out): pointer to store TOC updated flag.\n+ * @toc: (out) (optional) (transfer full): pointer to #GstToc structure.\n+ * @updated: (out) (optional): pointer to store TOC updated flag.\n@@ -2066,1 +2093,1 @@\n- * @uid: (out) (transfer full) (allow-none): storage for the selection UID.\n+ * @uid: (out) (transfer full) (optional): storage for the selection UID.\n@@ -2127,2 +2154,1 @@\n- * Returns: a #GST_EVENT_PROTECTION event, if successful; %NULL\n- * if unsuccessful.\n+ * Returns: (transfer full): a #GST_EVENT_PROTECTION event.\n@@ -2162,1 +2188,1 @@\n- * @system_id: (out) (allow-none) (transfer none): pointer to store the UUID\n+ * @system_id: (out) (optional) (transfer none): pointer to store the UUID\n@@ -2164,1 +2190,1 @@\n- * @data: (out) (allow-none) (transfer none): pointer to store a #GstBuffer\n+ * @data: (out) (optional) (transfer none): pointer to store a #GstBuffer\n@@ -2166,1 +2192,1 @@\n- * @origin: (out) (allow-none) (transfer none): pointer to store a value that\n+ * @origin: (out) (optional) (transfer none): pointer to store a value that\n@@ -2230,2 +2256,2 @@\n- * @format: (out) (allow-none): Result location for the format, or %NULL\n- * @position: (out) (allow-none): Result location for the position, or %NULL\n+ * @format: (out) (optional): Result location for the format, or %NULL\n+ * @position: (out) (optional): Result location for the position, or %NULL\n@@ -2300,1 +2326,1 @@\n- * @rate_multiplier: (out) (allow-none): location in which to store the rate\n+ * @rate_multiplier: (out) (optional): location in which to store the rate\n@@ -2302,1 +2328,1 @@\n- * @new_flags: (out) (allow-none): location in which to store the new\n+ * @new_flags: (out) (optional): location in which to store the new\n@@ -2376,1 +2402,1 @@\n- * @rate_multiplier: (out) (allow-none): location where to store the rate of\n+ * @rate_multiplier: (out) (optional): location where to store the rate of\n@@ -2378,1 +2404,1 @@\n- * @running_time: (out) (allow-none): location in which to store the running time\n+ * @running_time: (out) (optional): location in which to store the running time\n@@ -2380,1 +2406,1 @@\n- * @upstream_running_time: (out) (allow-none): location in which to store the\n+ * @upstream_running_time: (out) (optional): location in which to store the\n@@ -2408,1 +2434,1 @@\n- * @new_event: (allow-none) (transfer none): pointer to a #GstEvent that will\n+ * @new_event: (nullable) (transfer none): pointer to a #GstEvent that will\n@@ -2447,1 +2473,1 @@\n- * @new_event: (allow-none) (transfer full): pointer to a #GstEvent that will\n+ * @new_event: (nullable) (transfer full): pointer to a #GstEvent that will\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstevent.c","additions":93,"deletions":67,"binary":false,"changes":160,"status":"modified"},{"patch":"@@ -172,0 +172,1 @@\n+  \/* FIXME 2.0: change to value 72 and move after the GST_EVENT_SEGMENT event *\/\n@@ -426,0 +427,4 @@\n+\n+GST_API\n+guint gst_event_type_to_sticky_ordering (GstEventType type) G_GNUC_CONST;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstevent.h","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -100,6 +100,0 @@\n-#ifdef HAVE_UNISTD_H\n-#  include <unistd.h>           \/* getpid on UNIX *\/\n-#endif\n-#ifdef HAVE_PROCESS_H\n-#  include <process.h>          \/* getpid on win32 *\/\n-#endif\n@@ -107,4 +101,0 @@\n-#ifdef G_OS_WIN32\n-#  define WIN32_LEAN_AND_MEAN   \/* prevents from including too many things *\/\n-#  include <windows.h>          \/* GetStdHandle, windows console *\/\n-#endif\n@@ -122,0 +112,2 @@\n+#endif \/* GST_DISABLE_GST_DEBUG *\/\n+\n@@ -125,0 +117,1 @@\n+#ifndef GSTREAMER_LITE\n@@ -127,0 +120,1 @@\n+#endif \/\/ GSTREAMER_LITE\n@@ -134,1 +128,0 @@\n-#else \/* GST_DISABLE_GST_DEBUG *\/\n@@ -136,2 +129,27 @@\n-#include <glib\/gprintf.h>\n-#endif \/* !GST_DISABLE_GST_DEBUG *\/\n+#ifdef HAVE_UNISTD_H\n+#  include <unistd.h>           \/* getpid on UNIX *\/\n+#endif\n+\n+#ifdef G_OS_WIN32\n+#  define WIN32_LEAN_AND_MEAN   \/* prevents from including too many things *\/\n+#  include <windows.h>          \/* GetStdHandle, windows console *\/\n+#  include <processthreadsapi.h>        \/* GetCurrentProcessId *\/\n+\/* getpid() is not allowed in case of UWP, use GetCurrentProcessId() instead\n+ * which can be used on both desktop and UWP *\/\n+#endif\n+\n+\/* use glib's abstraction once it's landed\n+ * https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/merge_requests\/2475 *\/\n+#ifdef G_OS_WIN32\n+static inline DWORD\n+_gst_getpid (void)\n+{\n+  return GetCurrentProcessId ();\n+}\n+#else\n+static inline pid_t\n+_gst_getpid (void)\n+{\n+  return getpid ();\n+}\n+#endif\n@@ -306,0 +324,13 @@\n+\n+  \/* The emitter of the message (can be NULL) *\/\n+  GObject *object;\n+\n+  \/* Provider of the message. Can be user-provided, or generated dynamically\n+   * from object *\/\n+  gchar *object_id;\n+\n+  \/* Whether object_id was dynamically allocated and should be freed *\/\n+  gboolean free_object_id;\n+\n+  \/* heap-allocated write area for short names *\/\n+  gchar tmp_id[32];\n@@ -318,0 +349,2 @@\n+static void clear_level_names (void);\n+\n@@ -367,1 +400,1 @@\n-  name = _replace_pattern_in_gst_debug_file_name (name, \"%p\", getpid ());\n+  name = _replace_pattern_in_gst_debug_file_name (name, \"%p\", _gst_getpid ());\n@@ -522,0 +555,29 @@\n+\/**\n+ * gst_debug_log_id:\n+ * @category: category to log\n+ * @level: level of the message is in\n+ * @file: the file that emitted the message, usually the __FILE__ identifier\n+ * @function: the function that emitted the message\n+ * @line: the line from that the message was emitted, usually __LINE__\n+ * @id: (transfer none) (allow-none): the identifier of the object this message\n+ *    relates to, or %NULL if none.\n+ * @format: a printf style format string\n+ * @...: optional arguments for the format\n+ *\n+ * Logs the given message using the currently registered debugging handlers.\n+ *\n+ * Since: 1.22\n+ *\/\n+void\n+gst_debug_log_id (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    const gchar * id, const gchar * format, ...)\n+{\n+  va_list var_args;\n+\n+  va_start (var_args, format);\n+  gst_debug_log_id_valist (category, level, file, function, line, id, format,\n+      var_args);\n+  va_end (var_args);\n+}\n+\n@@ -545,16 +607,2 @@\n-\/**\n- * gst_debug_log_valist:\n- * @category: category to log\n- * @level: level of the message is in\n- * @file: the file that emitted the message, usually the __FILE__ identifier\n- * @function: the function that emitted the message\n- * @line: the line from that the message was emitted, usually __LINE__\n- * @object: (transfer none) (allow-none): the object this message relates to,\n- *     or %NULL if none\n- * @format: a printf style format string\n- * @args: optional arguments for the format\n- *\n- * Logs the given message using the currently registered debugging handlers.\n- *\/\n-void\n-gst_debug_log_valist (GstDebugCategory * category, GstDebugLevel level,\n+static void\n+gst_debug_log_full_valist (GstDebugCategory * category, GstDebugLevel level,\n@@ -562,1 +610,1 @@\n-    GObject * object, const gchar * format, va_list args)\n+    GObject * object, const gchar * id, const gchar * format, va_list args)\n@@ -570,4 +618,0 @@\n-#ifdef GST_ENABLE_EXTRA_CHECKS\n-  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n-#endif\n-\n@@ -581,0 +625,4 @@\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_return_if_fail (id != NULL || object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n@@ -583,0 +631,4 @@\n+  message.object = object;\n+  message.object_id = (gchar *) id;\n+  message.free_object_id = FALSE;\n+\n@@ -593,0 +645,2 @@\n+  if (message.free_object_id)\n+    g_free (message.object_id);\n@@ -597,1 +651,1 @@\n- * gst_debug_log_literal:\n+ * gst_debug_log_valist:\n@@ -605,1 +659,2 @@\n- * @message_string: a message string\n+ * @format: a printf style format string\n+ * @args: optional arguments for the format\n@@ -608,0 +663,25 @@\n+ *\/\n+void\n+gst_debug_log_valist (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    GObject * object, const gchar * format, va_list args)\n+{\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n+  gst_debug_log_full_valist (category, level, file, function, line, object,\n+      NULL, format, args);\n+}\n+\n+\/**\n+ * gst_debug_log_id_valist:\n+ * @category: category to log\n+ * @level: level of the message is in\n+ * @file: the file that emitted the message, usually the __FILE__ identifier\n+ * @function: the function that emitted the message\n+ * @line: the line from that the message was emitted, usually __LINE__\n+ * @id: (transfer none) (allow-none): the identifier of the object this message\n+ *    relates to or %NULL if none.\n+ * @format: a printf style format string\n+ * @args: optional arguments for the format\n@@ -609,1 +689,3 @@\n- * Since: 1.20\n+ * Logs the given message using the currently registered debugging handlers.\n+ *\n+ * Since: 1.22\n@@ -612,1 +694,1 @@\n-gst_debug_log_literal (GstDebugCategory * category, GstDebugLevel level,\n+gst_debug_log_id_valist (GstDebugCategory * category, GstDebugLevel level,\n@@ -614,1 +696,10 @@\n-    GObject * object, const gchar * message_string)\n+    const gchar * id, const gchar * format, va_list args)\n+{\n+  gst_debug_log_full_valist (category, level, file, function, line, NULL, id,\n+      format, args);\n+}\n+\n+static void\n+gst_debug_log_literal_full (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    GObject * object, const gchar * id, const gchar * message_string)\n@@ -622,4 +713,0 @@\n-#ifdef GST_ENABLE_EXTRA_CHECKS\n-  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n-#endif\n-\n@@ -629,0 +716,4 @@\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_return_if_fail (id != NULL || object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n@@ -634,0 +725,3 @@\n+  message.object = object;\n+  message.object_id = (gchar *) id;\n+  message.free_object_id = FALSE;\n@@ -642,0 +736,55 @@\n+\n+  if (message.free_object_id)\n+    g_free (message.object_id);\n+}\n+\n+\/**\n+ * gst_debug_log_literal:\n+ * @category: category to log\n+ * @level: level of the message is in\n+ * @file: the file that emitted the message, usually the __FILE__ identifier\n+ * @function: the function that emitted the message\n+ * @line: the line from that the message was emitted, usually __LINE__\n+ * @object: (transfer none) (allow-none): the object this message relates to,\n+ *     or %NULL if none\n+ * @message_string: a message string\n+ *\n+ * Logs the given message using the currently registered debugging handlers.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_debug_log_literal (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    GObject * object, const gchar * message_string)\n+{\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n+  gst_debug_log_literal_full (category, level, file, function, line, object,\n+      NULL, message_string);\n+}\n+\n+\/**\n+ * gst_debug_log_id_literal:\n+ * @category: category to log\n+ * @level: level of the message is in\n+ * @file: the file that emitted the message, usually the __FILE__ identifier\n+ * @function: the function that emitted the message\n+ * @line: the line from that the message was emitted, usually __LINE__\n+ * @id: (transfer none) (allow-none): the identifier of the object this message relates to\n+ *    or %NULL if none\n+ * @message_string: a message string\n+ *\n+ * Logs the given message using the currently registered debugging handlers.\n+ *\n+ * Since: 1.22\n+ *\/\n+void\n+gst_debug_log_id_literal (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    const gchar * id, const gchar * message_string)\n+{\n+  gst_debug_log_literal_full (category, level, file, function, line, NULL, id,\n+      message_string);\n@@ -668,0 +817,69 @@\n+\/* Return the pad name. Will use the provided 32 byte write_area if it fits\n+ * within *\/\n+static inline gchar *\n+_heap_pad_name (GstPad * pad, gchar * write_area, gboolean * allocated)\n+{\n+  GstObject *parent = GST_OBJECT_PARENT (pad);\n+  const gchar *parentname =\n+      parent ? GST_STR_NULL (GST_OBJECT_NAME (parent)) : \"''\";\n+  const gchar *padname = GST_STR_NULL (GST_OBJECT_NAME (pad));\n+\n+  \/* 1 byte for ':' and 1 for terminating '\\0' *\/\n+  if (strlen (parentname) + strlen (padname) + 2 <= 32) {\n+    g_sprintf (write_area, \"%s:%s\", parentname, padname);\n+    *allocated = FALSE;\n+    return write_area;\n+  }\n+  *allocated = TRUE;\n+  return g_strdup_printf (\"%s:%s\", parentname, padname);\n+}\n+\n+\/* Returns the object id. Allocated is set to TRUE if a memory allocation\n+ * happened and the returned value should be freed *\/\n+static gchar *\n+_get_object_id (GObject * object, gboolean * allocated, gchar * write_area)\n+{\n+  gchar *object_id;\n+\n+  if (GST_IS_PAD (object) && GST_OBJECT_NAME (object)) {\n+    object_id = _heap_pad_name (GST_PAD_CAST (object), write_area, allocated);\n+  } else if (GST_IS_OBJECT (object)\n+      && GST_OBJECT_NAME (object)) {\n+    object_id = GST_OBJECT_NAME (object);\n+    *allocated = FALSE;\n+  } else if (G_IS_OBJECT (object)) {\n+    object_id = g_strdup_printf (\"%s@%p\", G_OBJECT_TYPE_NAME (object), object);\n+    *allocated = TRUE;\n+  } else {\n+    object_id = g_strdup_printf (\"%p\", object);\n+    *allocated = TRUE;\n+  }\n+\n+  return object_id;\n+}\n+\n+\/**\n+ * gst_debug_message_get_id:\n+ * @message: a debug message\n+ *\n+ * Get the id of the object that emitted this message. This function is used in\n+ * debug handlers. Can be empty.\n+ *\n+ * Since: 1.22\n+ *\n+ * Returns: (nullable): The emitter of a #GstDebugMessage.\n+ *\/\n+const gchar *\n+gst_debug_message_get_id (GstDebugMessage * message)\n+{\n+  if (!message->object_id && message->object) {\n+    \/* Dynamically generate the object id *\/\n+    \/* Note : we don't use gst_debug_print_object since we only accept a subset\n+     * and can avoid duplicating if needed *\/\n+    message->object_id =\n+        _get_object_id (message->object, &message->free_object_id,\n+        (gchar *) & message->tmp_id);\n+  }\n+  return message->object_id;\n+}\n+\n@@ -1044,0 +1262,31 @@\n+\/* Allocation-less generator of color escape code. Provide a 20 byte write\n+ * area *\/\n+static void\n+_construct_term_color (guint colorinfo, gchar write_area[20])\n+{\n+  guint offset;\n+\n+  memcpy (write_area, \"\\033[00\", 4);\n+  offset = 4;\n+\n+  if (colorinfo & GST_DEBUG_BOLD) {\n+    memcpy (write_area + offset, \";01\", 3);\n+    offset += 3;\n+  }\n+  if (colorinfo & GST_DEBUG_UNDERLINE) {\n+    memcpy (write_area + offset, \";04\", 3);\n+    offset += 3;\n+  }\n+  if (colorinfo & GST_DEBUG_FG_MASK) {\n+    memcpy (write_area + offset, \";3\", 2);\n+    write_area[offset + 2] = '0' + (colorinfo & GST_DEBUG_FG_MASK);\n+    offset += 3;\n+  }\n+  if (colorinfo & GST_DEBUG_BG_MASK) {\n+    memcpy (write_area + offset, \";4\", 2);\n+    write_area[offset + 2] = '0' + ((colorinfo & GST_DEBUG_BG_MASK) >> 4);\n+    offset += 3;\n+  }\n+  strncpy (write_area + offset, \"m\", 2);\n+}\n+\n@@ -1058,3 +1307,1 @@\n-  GString *color;\n-\n-  color = g_string_new (\"\\033[00\");\n+  gchar tmp_color[20];\n@@ -1062,14 +1309,1 @@\n-  if (colorinfo & GST_DEBUG_BOLD) {\n-    g_string_append_len (color, \";01\", 3);\n-  }\n-  if (colorinfo & GST_DEBUG_UNDERLINE) {\n-    g_string_append_len (color, \";04\", 3);\n-  }\n-  if (colorinfo & GST_DEBUG_FG_MASK) {\n-    g_string_append_printf (color, \";3%1d\", colorinfo & GST_DEBUG_FG_MASK);\n-  }\n-  if (colorinfo & GST_DEBUG_BG_MASK) {\n-    g_string_append_printf (color, \";4%1d\",\n-        (colorinfo & GST_DEBUG_BG_MASK) >> 4);\n-  }\n-  g_string_append_c (color, 'm');\n+  _construct_term_color (colorinfo, tmp_color);\n@@ -1077,1 +1311,1 @@\n-  return g_string_free (color, FALSE);\n+  return g_strdup (tmp_color);\n@@ -1147,0 +1381,3 @@\n+#ifdef G_OS_WIN32\n+#define PID_FMT \"%5lu\"\n+#else\n@@ -1148,0 +1385,1 @@\n+#endif\n@@ -1150,0 +1388,2 @@\n+#define CAT_FMT_ID \"%20s %s:%d:%s:<%s>\"\n+#define NOCOLOR_PRINT_FMT_ID \" \"PID_FMT\" \"PTR_FMT\" %s \"CAT_FMT_ID\" %s\\n\"\n@@ -1195,2 +1435,2 @@\n-_gst_debug_log_preamble (GstDebugMessage * message, GObject * object,\n-    const gchar ** file, const gchar ** message_str, gchar ** obj_str,\n+_gst_debug_log_preamble (GstDebugMessage * message, const gchar ** file,\n+    const gchar ** message_str, const gchar ** object_id,\n@@ -1219,6 +1459,1 @@\n-  if (object) {\n-    *obj_str = gst_debug_print_object (object);\n-  } else {\n-    *obj_str = (gchar *) \"\";\n-  }\n-\n+  *object_id = gst_debug_message_get_id (message);\n@@ -1253,6 +1488,2 @@\n-  gchar *ret, *obj_str = NULL;\n-  const gchar *message_str;\n-\n-#ifdef GST_ENABLE_EXTRA_CHECKS\n-  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n-#endif\n+  gchar *ret;\n+  const gchar *message_str, *object_id;\n@@ -1260,2 +1491,1 @@\n-  _gst_debug_log_preamble (message, object, &file, &message_str, &obj_str,\n-      &elapsed);\n+  _gst_debug_log_preamble (message, &file, &message_str, &object_id, &elapsed);\n@@ -1263,4 +1493,10 @@\n-  ret = g_strdup_printf (\"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT,\n-      GST_TIME_ARGS (elapsed), getpid (), g_thread_self (),\n-      gst_debug_level_get_name (level), gst_debug_category_get_name\n-      (category), file, line, function, obj_str, message_str);\n+  if (object_id)\n+    ret = g_strdup_printf (\"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT_ID,\n+        GST_TIME_ARGS (elapsed), _gst_getpid (), g_thread_self (),\n+        gst_debug_level_get_name (level), gst_debug_category_get_name\n+        (category), file, line, function, object_id, message_str);\n+  else\n+    ret = g_strdup_printf (\"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT,\n+        GST_TIME_ARGS (elapsed), _gst_getpid (), g_thread_self (),\n+        gst_debug_level_get_name (level), gst_debug_category_get_name\n+        (category), file, line, function, \"\", message_str);\n@@ -1268,2 +1504,0 @@\n-  if (object != NULL)\n-    g_free (obj_str);\n@@ -1339,1 +1573,1 @@\n-  gchar *obj = NULL;\n+  const gchar *object_id;\n@@ -1358,2 +1592,1 @@\n-  _gst_debug_log_preamble (message, object, &file, &message_str, &obj,\n-      &elapsed);\n+  _gst_debug_log_preamble (message, &file, &message_str, &object_id, &elapsed);\n@@ -1361,1 +1594,1 @@\n-  pid = getpid ();\n+  pid = _gst_getpid ();\n@@ -1370,1 +1603,1 @@\n-      gchar *color = NULL;\n+      gchar color[20];\n@@ -1375,2 +1608,1 @@\n-      color = gst_debug_construct_term_color (gst_debug_category_get_color\n-          (category));\n+      _construct_term_color (gst_debug_category_get_color (category), color);\n@@ -1381,0 +1613,8 @@\n+      if (object_id) {\n+#define PRINT_FMT_ID \" %s\"PID_FMT\"%s \"PTR_FMT\" %s%s%s %s\"CAT_FMT_ID\"%s %s\\n\"\n+        FPRINTF_DEBUG (log_file, \"%\" GST_TIME_FORMAT PRINT_FMT_ID,\n+            GST_TIME_ARGS (elapsed), pidcolor, pid, clear, g_thread_self (),\n+            levelcolor, gst_debug_level_get_name (level), clear, color,\n+            gst_debug_category_get_name (category), file, line, function,\n+            object_id, clear, message_str);\n+      } else {\n@@ -1382,5 +1622,6 @@\n-      FPRINTF_DEBUG (log_file, \"%\" GST_TIME_FORMAT PRINT_FMT,\n-          GST_TIME_ARGS (elapsed), pidcolor, pid, clear, g_thread_self (),\n-          levelcolor, gst_debug_level_get_name (level), clear, color,\n-          gst_debug_category_get_name (category), file, line, function, obj,\n-          clear, message_str);\n+        FPRINTF_DEBUG (log_file, \"%\" GST_TIME_FORMAT PRINT_FMT,\n+            GST_TIME_ARGS (elapsed), pidcolor, pid, clear, g_thread_self (),\n+            levelcolor, gst_debug_level_get_name (level), clear, color,\n+            gst_debug_category_get_name (category), file, line, function, \"\",\n+            clear, message_str);\n+      }\n@@ -1389,1 +1630,1 @@\n-      g_free (color);\n+#undef PRINT_FMT_ID\n@@ -1413,2 +1654,8 @@\n-      FPRINTF_DEBUG (log_file, CAT_FMT, gst_debug_category_get_name (category),\n-          file, line, function, obj);\n+      if (object_id) {\n+        FPRINTF_DEBUG (log_file, CAT_FMT_ID,\n+            gst_debug_category_get_name (category), file, line, function,\n+            object_id);\n+      } else {\n+        FPRINTF_DEBUG (log_file, CAT_FMT,\n+            gst_debug_category_get_name (category), file, line, function, \"\");\n+      }\n@@ -1423,5 +1670,13 @@\n-    FPRINTF_DEBUG (log_file, \"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT,\n-        GST_TIME_ARGS (elapsed), pid, g_thread_self (),\n-        gst_debug_level_get_name (level),\n-        gst_debug_category_get_name (category), file, line, function, obj,\n-        message_str);\n+    if (object_id) {\n+      FPRINTF_DEBUG (log_file, \"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT_ID,\n+          GST_TIME_ARGS (elapsed), pid, g_thread_self (),\n+          gst_debug_level_get_name (level),\n+          gst_debug_category_get_name (category), file, line, function,\n+          object_id, message_str);\n+    } else {\n+      FPRINTF_DEBUG (log_file, \"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT,\n+          GST_TIME_ARGS (elapsed), pid, g_thread_self (),\n+          gst_debug_level_get_name (level),\n+          gst_debug_category_get_name (category), file, line, function, \"\",\n+          message_str);\n+    }\n@@ -1430,3 +1685,0 @@\n-\n-  if (object != NULL)\n-    g_free (obj);\n@@ -2122,0 +2374,2 @@\n+  } else if (strcmp (str, \"NONE\") == 0) {\n+    *level = GST_LEVEL_NONE;\n@@ -2153,2 +2407,2 @@\n- * environment variable. You can use wildcards such as '*', but note that\n- * the order matters when you use wild cards, e.g. \"foosrc:6,*src:3,*:2\" sets\n+ * environment variable. You can use wildcards such as `*`, but note that\n+ * the order matters when you use wild cards, e.g. `foosrc:6,*src:3,*:2` sets\n@@ -2167,1 +2421,2 @@\n-  if (reset)\n+  if (reset) {\n+    clear_level_names ();\n@@ -2169,0 +2424,1 @@\n+  }\n@@ -2268,0 +2524,13 @@\n+static void\n+clear_level_names (void)\n+{\n+  g_mutex_lock (&__level_name_mutex);\n+  while (__level_name) {\n+    LevelNameEntry *level_name_entry = __level_name->data;\n+    g_pattern_spec_free (level_name_entry->pat);\n+    g_slice_free (LevelNameEntry, level_name_entry);\n+    __level_name = g_slist_delete_link (__level_name, __level_name);\n+  }\n+  g_mutex_unlock (&__level_name_mutex);\n+}\n+\n@@ -2290,8 +2559,1 @@\n-  g_mutex_lock (&__level_name_mutex);\n-  while (__level_name) {\n-    LevelNameEntry *level_name_entry = __level_name->data;\n-    g_pattern_spec_free (level_name_entry->pat);\n-    g_slice_free (LevelNameEntry, level_name_entry);\n-    __level_name = g_slist_delete_link (__level_name, __level_name);\n-  }\n-  g_mutex_unlock (&__level_name_mutex);\n+  clear_level_names ();\n@@ -2339,4 +2601,4 @@\n-void\n-_gst_debug_dump_mem (GstDebugCategory * cat, const gchar * file,\n-    const gchar * func, gint line, GObject * obj, const gchar * msg,\n-    const guint8 * data, guint length)\n+static void\n+_gst_debug_dump_mem_full (GstDebugCategory * cat, const gchar * file,\n+    const gchar * func, gint line, GObject * obj, const gchar * object_id,\n+    const gchar * msg, const guint8 * data, guint length)\n@@ -2345,0 +2607,5 @@\n+  gboolean free_object_id = FALSE;\n+  gchar tmp_id[32];\n+\n+  if (object_id == NULL && obj)\n+    object_id = _get_object_id (obj, &free_object_id, (gchar *) & tmp_id);\n@@ -2346,1 +2613,2 @@\n-  gst_debug_log ((cat), GST_LEVEL_MEMDUMP, file, func, line, obj, \"--------\"\n+  gst_debug_log_id ((cat), GST_LEVEL_MEMDUMP, file, func, line, object_id,\n+      \"--------\"\n@@ -2350,1 +2618,2 @@\n-    gst_debug_log ((cat), GST_LEVEL_MEMDUMP, file, func, line, obj, \"%s\", msg);\n+    gst_debug_log_id ((cat), GST_LEVEL_MEMDUMP, file, func, line, object_id,\n+        \"%s\", msg);\n@@ -2358,1 +2627,2 @@\n-    gst_debug_log (cat, GST_LEVEL_MEMDUMP, file, func, line, obj, \"%s\", buf);\n+    gst_debug_log_id (cat, GST_LEVEL_MEMDUMP, file, func, line, object_id, \"%s\",\n+        buf);\n@@ -2362,1 +2632,2 @@\n-  gst_debug_log ((cat), GST_LEVEL_MEMDUMP, file, func, line, obj, \"--------\"\n+  gst_debug_log_id ((cat), GST_LEVEL_MEMDUMP, file, func, line, object_id,\n+      \"--------\"\n@@ -2364,0 +2635,3 @@\n+\n+  if (free_object_id)\n+    g_free ((gchar *) object_id);\n@@ -2366,0 +2640,19 @@\n+void\n+_gst_debug_dump_mem (GstDebugCategory * cat, const gchar * file,\n+    const gchar * func, gint line, GObject * obj, const gchar * msg,\n+    const guint8 * data, guint length)\n+{\n+  _gst_debug_dump_mem_full (cat, file, func, line, obj, NULL, msg, data,\n+      length);\n+}\n+\n+void\n+_gst_debug_dump_mem_id (GstDebugCategory * cat, const gchar * file,\n+    const gchar * func, gint line, const gchar * object_id, const gchar * msg,\n+    const guint8 * data, guint length)\n+{\n+  _gst_debug_dump_mem_full (cat, file, func, line, NULL, object_id, msg, data,\n+      length);\n+}\n+\n+\n@@ -2420,0 +2713,6 @@\n+const gchar *\n+gst_debug_message_get_id (GstDebugMessage * message)\n+{\n+  return NULL;\n+}\n+\n@@ -2592,40 +2891,0 @@\n-\/* Need this for _gst_element_error_printf even if GST_REMOVE_DISABLED is set:\n- * fallback function that cleans up the format string and replaces all pointer\n- * extension formats with plain %p. *\/\n-#ifdef GST_DISABLE_GST_DEBUG\n-int\n-__gst_info_fallback_vasprintf (char **result, char const *format, va_list args)\n-{\n-  gchar *clean_format, *c;\n-  gsize len;\n-\n-  if (format == NULL)\n-    return -1;\n-\n-  clean_format = g_strdup (format);\n-  c = clean_format;\n-  while ((c = strstr (c, \"%p\\a\"))) {\n-    if (c[3] < 'A' || c[3] > 'Z') {\n-      c += 3;\n-      continue;\n-    }\n-    len = strlen (c + 4);\n-    memmove (c + 2, c + 4, len + 1);\n-    c += 2;\n-  }\n-  while ((c = strstr (clean_format, \"%P\")))     \/* old GST_PTR_FORMAT *\/\n-    c[1] = 'p';\n-  while ((c = strstr (clean_format, \"%Q\")))     \/* old GST_SEGMENT_FORMAT *\/\n-    c[1] = 'p';\n-\n-  len = g_vasprintf (result, clean_format, args);\n-\n-  g_free (clean_format);\n-\n-  if (*result == NULL)\n-    return -1;\n-\n-  return len;\n-}\n-#endif\n-\n@@ -2655,3 +2914,0 @@\n-  \/* This will fallback to __gst_info_fallback_vasprintf() via a #define in\n-   * gst_private.h if the debug system is disabled which will remove the gst\n-   * specific printf format specifiers *\/\n@@ -2962,1 +3218,1 @@\n-  if (dwfl_linux_proc_report (dwfl, getpid ()) != 0)\n+  if (dwfl_linux_proc_report (dwfl, _gst_getpid ()) != 0)\n@@ -3082,1 +3338,1 @@\n-  return ! !dbg_help_module;\n+  return dbg_help_module != NULL;\n@@ -3120,1 +3376,1 @@\n-  return ! !dbg_help_module;\n+  return dbg_help_module != NULL;\n@@ -3290,3 +3546,1 @@\n-    GstDebugLevel level,\n-    const gchar * file,\n-    const gchar * function,\n+    GstDebugLevel level, const gchar * file, const gchar * function,\n@@ -3296,1 +3550,0 @@\n-  gint pid;\n@@ -3299,1 +3552,0 @@\n-  gchar *obj = NULL;\n@@ -3306,0 +3558,1 @@\n+  const gchar *object_id = gst_debug_message_get_id (message);\n@@ -3316,6 +3569,0 @@\n-  if (object) {\n-    obj = gst_debug_print_object (object);\n-  } else {\n-    obj = (gchar *) \"\";\n-  }\n-\n@@ -3323,1 +3570,0 @@\n-  pid = getpid ();\n@@ -3326,8 +3572,17 @@\n-  \/* no color, all platforms *\/\n-#define PRINT_FMT \" \"PID_FMT\" \"PTR_FMT\" %s \"CAT_FMT\" %s\\n\"\n-  output =\n-      g_strdup_printf (\"%\" GST_TIME_FORMAT PRINT_FMT, GST_TIME_ARGS (elapsed),\n-      pid, thread, gst_debug_level_get_name (level),\n-      gst_debug_category_get_name (category), file, line, function, obj,\n-      message_str);\n-#undef PRINT_FMT\n+  if (object_id) {\n+    \/* no color, all platforms *\/\n+    output =\n+        g_strdup_printf (\"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT_ID,\n+        GST_TIME_ARGS (elapsed), _gst_getpid (), thread,\n+        gst_debug_level_get_name (level),\n+        gst_debug_category_get_name (category), file, line, function,\n+        object_id, message_str);\n+  } else {\n+    \/* no color, all platforms *\/\n+    output =\n+        g_strdup_printf (\"%\" GST_TIME_FORMAT NOCOLOR_PRINT_FMT,\n+        GST_TIME_ARGS (elapsed), _gst_getpid (), thread,\n+        gst_debug_level_get_name (level),\n+        gst_debug_category_get_name (category), file, line, function, \"\",\n+        message_str);\n+  }\n@@ -3337,2 +3592,0 @@\n-  if (object != NULL)\n-    g_free (obj);\n@@ -3418,1 +3671,1 @@\n- * Returns: (transfer full) (array zero-terminated): NULL-terminated array of\n+ * Returns: (transfer full) (array zero-terminated=1): NULL-terminated array of\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstinfo.c","additions":448,"deletions":195,"binary":false,"changes":643,"status":"modified"},{"patch":"@@ -385,0 +385,28 @@\n+GST_API\n+void    gst_debug_log_id          (GstDebugCategory * category,\n+                                          GstDebugLevel      level,\n+                                          const gchar      * file,\n+                                          const gchar      * function,\n+                                          gint               line,\n+            const gchar      * id,\n+                                          const gchar      * format,\n+                                          ...) G_GNUC_PRINTF (7, 8) G_GNUC_NO_INSTRUMENT;\n+GST_API\n+void            gst_debug_log_id_valist  (GstDebugCategory * category,\n+                                          GstDebugLevel      level,\n+                                          const gchar      * file,\n+                                          const gchar      * function,\n+                                          gint               line,\n+                                          const gchar      * id,\n+                                          const gchar      * format,\n+                                          va_list            args) G_GNUC_NO_INSTRUMENT;\n+\n+GST_API\n+void            gst_debug_log_id_literal (GstDebugCategory * category,\n+                                          GstDebugLevel      level,\n+                                          const gchar      * file,\n+                                          const gchar      * function,\n+                                          gint               line,\n+                                          const gchar      * id,\n+                                          const gchar      * message_string) G_GNUC_NO_INSTRUMENT;\n+\n@@ -398,1 +426,1 @@\n-\/* do not use this function, use the GST_CAT_MEMDUMP_* macros *\/\n+\/* do not use these functions, use the GST_CAT_MEMDUMP_* macros *\/\n@@ -405,0 +433,5 @@\n+GST_API\n+void _gst_debug_dump_mem_id (GstDebugCategory * cat, const gchar * file,\n+    const gchar * func, gint line, const gchar *object_id, const gchar * msg,\n+    const guint8 * data, guint length);\n+\n@@ -426,0 +459,3 @@\n+GST_API\n+const gchar   * gst_debug_message_get_id (GstDebugMessage  * message);\n+\n@@ -739,0 +775,56 @@\n+\/**\n+ * GST_CAT_LEVEL_LOG_ID:\n+ * @cat: category to use\n+ * @level: the severity of the message\n+ * @id: (transfer none) (allow-none): the identifier of the object this message\n+ *     relates to, or %NULL if none\n+ * @...: A printf-style message to output\n+ *\n+ * Outputs a debugging message. This is the most general macro for outputting\n+ * debugging messages. You will probably want to use one of the ones described\n+ * below.\n+ *\n+ * There is no need to finish the end of the debug message with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+#ifdef G_HAVE_ISO_VARARGS\n+#define GST_CAT_LEVEL_LOG_ID(cat,level,id,...) G_STMT_START{    \\\n+  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {            \\\n+    gst_debug_log_id ((cat), (level), __FILE__, GST_FUNCTION, __LINE__,  \\\n+          (id), __VA_ARGS__);        \\\n+  }                  \\\n+}G_STMT_END\n+#else \/* G_HAVE_GNUC_VARARGS *\/\n+#ifdef G_HAVE_GNUC_VARARGS\n+#define GST_CAT_LEVEL_LOG_ID(cat,level,id,args...) G_STMT_START{  \\\n+  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {            \\\n+    gst_debug_log_id ((cat), (level), __FILE__, GST_FUNCTION, __LINE__,  \\\n+          (id), ##args );          \\\n+  }                  \\\n+}G_STMT_END\n+#else \/* no variadic macros, use inline *\/\n+static inline void\n+GST_CAT_LEVEL_LOG_ID_valist (GstDebugCategory * cat,\n+    GstDebugLevel level, const gchar *id, const char *format, va_list varargs)\n+{\n+  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {\n+    gst_debug_log_id_valist (cat, level, \"\", \"\", 0, id, format,\n+        varargs);\n+  }\n+}\n+\n+static inline void\n+GST_CAT_LEVEL_LOG_ID (GstDebugCategory * cat, GstDebugLevel level,\n+    const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (cat, level, id, format, varargs);\n+  va_end (varargs);\n+}\n+#endif\n+#endif \/* G_HAVE_ISO_VARARGS *\/\n+\n@@ -750,0 +842,19 @@\n+\/**\n+ * __GST_CAT_MEMDUMP_LOG_ID:\n+ *\n+ * Only for private usage\n+ *\n+ * This one doesn't have varargs in the macro, so it's different than all the\n+ * other macros and hence in a separate block right here. Docs chunks are\n+ * with the other doc chunks below though.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define __GST_CAT_MEMDUMP_LOG_ID(cat,id,msg,data,length) G_STMT_START{  \\\n+    if (G_UNLIKELY (GST_LEVEL_MEMDUMP <= GST_LEVEL_MAX &&    \\\n+        GST_LEVEL_MEMDUMP <= _gst_debug_min)) {    \\\n+      _gst_debug_dump_mem_id ((cat), __FILE__, GST_FUNCTION, __LINE__,  \\\n+            (id), (msg), (data), (length));    \\\n+    }                  \\\n+}G_STMT_END\n+\n@@ -752,0 +863,2 @@\n+#define GST_CAT_MEMDUMP_ID(cat,id,msg,data,length)  \\\n+    __GST_CAT_MEMDUMP_LOG_ID(cat,id,msg,data,length)\n@@ -756,0 +869,2 @@\n+#define GST_MEMDUMP_ID(id,msg,data,length)          \\\n+    __GST_CAT_MEMDUMP_LOG_ID(GST_CAT_DEFAULT,id,msg,data,length)\n@@ -853,0 +968,16 @@\n+\/**\n+ * GST_CAT_MEMDUMP_ID:\n+ * @cat: category to use\n+ * @id: An identifier of the message provider\n+ * @msg: message string to log with the data\n+ * @data: pointer to the data to output\n+ * @length: length of the data to output\n+ *\n+ * Output a hexdump of @data relating to the given @id in the given category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\n@@ -1023,0 +1154,101 @@\n+\/**\n+ * GST_ERROR_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output an error message for the given identifier in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_WARNING_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output a warning message for the given identifier in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_INFO_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output an informational message for the given identifier the default\n+ * category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_DEBUG_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output a debugging message for the given identifier in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_LOG_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output a logging message for the given identifier in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_FIXME_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output a fixme message for the given identifier in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_TRACE_ID:\n+ * @id: An identifier of the message provider\n+ * @...: printf-style message to output\n+ *\n+ * Output a tracing message for the given identifier  in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\/**\n+ * GST_MEMDUMP_ID:\n+ * @id: An identifier of the message provider\n+ * @msg: message string to log with the data\n+ * @data: pointer to the data to output\n+ * @length: length of the data to output\n+ *\n+ * Output a logging message belonging to the given object in the default category.\n+ *\n+ * There is no need to finish the end of the message string with a newline\n+ * character, a newline character will be added automatically.\n+ *\n+ * Since: 1.22\n+ *\/\n+\n+\n@@ -1125,7 +1357,15 @@\n-#define GST_ERROR(...)                  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, __VA_ARGS__)\n-#define GST_WARNING(...)                GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, __VA_ARGS__)\n-#define GST_INFO(...)                   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, __VA_ARGS__)\n-#define GST_DEBUG(...)                  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, __VA_ARGS__)\n-#define GST_LOG(...)                    GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, __VA_ARGS__)\n-#define GST_FIXME(...)                  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, __VA_ARGS__)\n-#define GST_TRACE(...)          GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, __VA_ARGS__)\n+#define GST_ERROR_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   id,  __VA_ARGS__)\n+#define GST_WARNING_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_WARNING, id,  __VA_ARGS__)\n+#define GST_INFO_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_INFO,    id,  __VA_ARGS__)\n+#define GST_DEBUG_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   id,  __VA_ARGS__)\n+#define GST_LOG_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_LOG,     id,  __VA_ARGS__)\n+#define GST_FIXME_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   id,  __VA_ARGS__)\n+#define GST_TRACE_ID(id,...)  GST_CAT_LEVEL_LOG_ID (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   id,  __VA_ARGS__)\n+\n+#define GST_ERROR(...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, __VA_ARGS__)\n+#define GST_WARNING(...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, __VA_ARGS__)\n+#define GST_INFO(...) GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, __VA_ARGS__)\n+#define GST_DEBUG(...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, __VA_ARGS__)\n+#define GST_LOG(...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, __VA_ARGS__)\n+#define GST_FIXME(...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, __VA_ARGS__)\n+#define GST_TRACE(...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, __VA_ARGS__)\n@@ -1160,7 +1400,15 @@\n-#define GST_ERROR(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, ##args )\n-#define GST_WARNING(args...)            GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, ##args )\n-#define GST_INFO(args...)               GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, ##args )\n-#define GST_DEBUG(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, ##args )\n-#define GST_LOG(args...)                GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, ##args )\n-#define GST_FIXME(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, ##args )\n-#define GST_TRACE(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, ##args )\n+#define GST_ERROR_ID(id,args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   id,  ##args )\n+#define GST_WARNING_ID(id,args...)   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, id,  ##args )\n+#define GST_INFO_ID(id,args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    id,  ##args )\n+#define GST_DEBUG_ID(id,args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   id,  ##args )\n+#define GST_LOG_ID(id,args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     id,  ##args )\n+#define GST_FIXME_ID(id,args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   id,  ##args )\n+#define GST_TRACE_ID(id,args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   id,  ##args )\n+\n+#define GST_ERROR(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, ##args )\n+#define GST_WARNING(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, ##args )\n+#define GST_INFO(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, ##args )\n+#define GST_DEBUG(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, ##args )\n+#define GST_LOG(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, ##args )\n+#define GST_FIXME(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, ##args )\n+#define GST_TRACE(args...)  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, ##args )\n@@ -1394,0 +1642,77 @@\n+static inline void\n+GST_ERROR_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_ERROR, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n+static inline void\n+GST_WARNING_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_WARNING, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n+static inline void\n+GST_INFO_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_INFO, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n+static inline void\n+GST_DEBUG_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_DEBUG, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n+static inline void\n+GST_LOG_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_LOG, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n+static inline void\n+GST_FIXME_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_FIXME, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n+static inline void\n+GST_TRACE_ID (const gchar *id, const char *format, ...)\n+{\n+  va_list varargs;\n+\n+  va_start (varargs, format);\n+  GST_CAT_LEVEL_LOG_ID_valist (GST_CAT_DEFAULT, GST_LEVEL_TRACE, id, format,\n+      varargs);\n+  va_end (varargs);\n+}\n+\n@@ -1522,0 +1847,3 @@\n+#  pragma GCC poison gst_debug_log_id\n+#  pragma GCC poison gst_debug_log_id_valist\n+#  pragma GCC poison gst_debug_log_id_literal\n@@ -1532,0 +1860,1 @@\n+#define gst_debug_message_get_id(message)     (NULL)\n@@ -1596,7 +1925,15 @@\n-#define GST_ERROR(...)                                  G_STMT_START{ }G_STMT_END\n-#define GST_WARNING(...)                                G_STMT_START{ }G_STMT_END\n-#define GST_INFO(...)                                   G_STMT_START{ }G_STMT_END\n-#define GST_DEBUG(...)                                  G_STMT_START{ }G_STMT_END\n-#define GST_LOG(...)                                    G_STMT_START{ }G_STMT_END\n-#define GST_FIXME(...)                                  G_STMT_START{ }G_STMT_END\n-#define GST_TRACE(...)                                  G_STMT_START{ }G_STMT_END\n+#define GST_ERROR_ID(...)   G_STMT_START{ }G_STMT_END\n+#define GST_WARNING_ID(...)   G_STMT_START{ }G_STMT_END\n+#define GST_INFO_ID(...)    G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG_ID(...)   G_STMT_START{ }G_STMT_END\n+#define GST_LOG_ID(...)   G_STMT_START{ }G_STMT_END\n+#define GST_FIXME_ID(...)   G_STMT_START{ }G_STMT_END\n+#define GST_TRACE_ID(...)   G_STMT_START{ }G_STMT_END\n+\n+#define GST_ERROR(...)    G_STMT_START{ }G_STMT_END\n+#define GST_WARNING(...)    G_STMT_START{ }G_STMT_END\n+#define GST_INFO(...)   G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG(...)    G_STMT_START{ }G_STMT_END\n+#define GST_LOG(...)    G_STMT_START{ }G_STMT_END\n+#define GST_FIXME(...)    G_STMT_START{ }G_STMT_END\n+#define GST_TRACE(...)    G_STMT_START{ }G_STMT_END\n@@ -1633,7 +1970,15 @@\n-#define GST_ERROR(args...)                              G_STMT_START{ }G_STMT_END\n-#define GST_WARNING(args...)                            G_STMT_START{ }G_STMT_END\n-#define GST_INFO(args...)                               G_STMT_START{ }G_STMT_END\n-#define GST_DEBUG(args...)                              G_STMT_START{ }G_STMT_END\n-#define GST_LOG(args...)                                G_STMT_START{ }G_STMT_END\n-#define GST_FIXME(args...)                              G_STMT_START{ }G_STMT_END\n-#define GST_TRACE(args...)                              G_STMT_START{ }G_STMT_END\n+#define GST_ERROR_ID(args...)   G_STMT_START{ }G_STMT_END\n+#define GST_WARNING_ID(args...)   G_STMT_START{ }G_STMT_END\n+#define GST_INFO_ID(args...)    G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG_ID(args...)   G_STMT_START{ }G_STMT_END\n+#define GST_LOG_ID(args...)   G_STMT_START{ }G_STMT_END\n+#define GST_FIXME_ID(args...)   G_STMT_START{ }G_STMT_END\n+#define GST_TRACE_ID(args...)   G_STMT_START{ }G_STMT_END\n+\n+#define GST_ERROR(args...)    G_STMT_START{ }G_STMT_END\n+#define GST_WARNING(args...)    G_STMT_START{ }G_STMT_END\n+#define GST_INFO(args...)   G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG(args...)    G_STMT_START{ }G_STMT_END\n+#define GST_LOG(args...)    G_STMT_START{ }G_STMT_END\n+#define GST_FIXME(args...)    G_STMT_START{ }G_STMT_END\n+#define GST_TRACE(args...)    G_STMT_START{ }G_STMT_END\n@@ -1841,0 +2186,1 @@\n+#define GST_CAT_MEMDUMP_ID(cat,id,msg,data,length)      G_STMT_START{ }G_STMT_END\n@@ -1843,0 +2189,1 @@\n+#define GST_MEMDUMP_ID(id,msg,data,length)              G_STMT_START{ }G_STMT_END\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstinfo.h","additions":376,"deletions":29,"binary":false,"changes":405,"status":"modified"},{"patch":"@@ -215,1 +215,1 @@\n-    gst_object_unref (it->owner);\n+    g_object_unref (it->owner);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstiterator.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -366,1 +366,1 @@\n- * Returns: a new #GstMemory.\n+ * Returns: (transfer full) (nullable): a new copy of @mem if the copy succeeded, %NULL otherwise.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmemory.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -212,0 +212,4 @@\n+ *\n+ * #GstMapInfo cannot be used with g_auto() because it is ambiguous whether it\n+ * needs to be unmapped using gst_buffer_unmap() or gst_memory_unmap(). Instead,\n+ * #GstBufferMapInfo and #GstMemoryMapInfo can be used in that case.\n@@ -362,0 +366,10 @@\n+\/**\n+ * gst_memory_make_writable:\n+ * @m: (transfer full): a #GstMemory\n+ *\n+ * Returns a writable copy of @m. If the source memory is\n+ * already writable, this will simply return the same memory.\n+ *\n+ * Returns: (transfer full) (nullable): a writable memory (which may or may not be the\n+ *     same as @m) or %NULL if copying is required but not possible.\n+ *\/\n@@ -392,0 +406,33 @@\n+\/**\n+ * GstMemoryMapInfo: (skip):\n+ *\n+ * Alias for #GstMapInfo to be used with g_auto():\n+ * ```c\n+ * void my_func(GstMemory *mem)\n+ * {\n+ *   g_auto(GstMemoryMapInfo) map = GST_MAP_INFO_INIT;\n+ *   if (!gst_memory_map(mem, &map, GST_MAP_READWRITE))\n+ *     return;\n+ *   ...\n+ *   \/\/ No need to call gst_memory_unmap()\n+ * }\n+ * ```\n+ *\n+ * #GstMapInfo cannot be used with g_auto() because it is ambiguous whether it\n+ * needs to be unmapped using gst_buffer_unmap() or gst_memory_unmap().\n+ *\n+ * See also #GstBufferMapInfo.\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef GstMapInfo GstMemoryMapInfo;\n+\n+static inline void _gst_memory_map_info_clear(GstMemoryMapInfo *info)\n+{\n+  if (G_LIKELY (info->memory)) {\n+    gst_memory_unmap (info->memory, info);\n+  }\n+}\n+\n+G_DEFINE_AUTO_CLEANUP_CLEAR_FUNC(GstMemoryMapInfo, _gst_memory_map_info_clear)\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmemory.h","additions":47,"deletions":0,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -284,2 +284,2 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n- * @structure: (transfer full) (allow-none): the structure for the\n+ * @src: (transfer none) (nullable): The object originating the message.\n+ * @structure: (transfer full) (nullable): the structure for the\n@@ -292,1 +292,1 @@\n- * Returns: (transfer full) (nullable): The new message.\n+ * Returns: (transfer full): The new message.\n@@ -382,1 +382,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -404,1 +404,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -407,1 +407,1 @@\n- * @details: (transfer full) (allow-none): A GstStructure with details\n+ * @details: (transfer full) (nullable): A GstStructure with details\n@@ -414,1 +414,1 @@\n- * Returns: (transfer full) (nullable): the new error message.\n+ * Returns: (transfer full): the new error message.\n@@ -449,1 +449,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -471,1 +471,1 @@\n- * @structure: (transfer none) (out): A pointer to the returned details\n+ * @structure: (optional) (nullable) (transfer none) (out): A pointer to the returned details\n@@ -498,1 +498,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -501,1 +501,1 @@\n- * @details: (transfer full) (allow-none): A GstStructure with details\n+ * @details: (transfer full) (nullable): A GstStructure with details\n@@ -506,1 +506,1 @@\n- * Returns: (transfer full) (nullable): the new warning message.\n+ * Returns: (transfer full): the new warning message.\n@@ -541,1 +541,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -561,1 +561,1 @@\n- * @structure: (transfer none) (out): A pointer to the returned details structure\n+ * @structure: (optional) (nullable) (transfer none) (out): A pointer to the returned details\n@@ -588,1 +588,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -591,1 +591,1 @@\n- * @details: (transfer full) (allow-none): A GstStructure with details\n+ * @details: (transfer full) (nullable): A GstStructure with details\n@@ -596,1 +596,1 @@\n- * Returns: (transfer full) (nullable): the new warning message.\n+ * Returns: (transfer full): the new warning message.\n@@ -631,1 +631,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -651,1 +651,1 @@\n- * @structure: (transfer none) (out): A pointer to the returned details structure\n+ * @structure: (optional) (nullable) (transfer none) (out): A pointer to the returned details\n@@ -678,1 +678,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -707,1 +707,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -723,1 +723,1 @@\n- * Returns: (transfer full) (nullable): The new buffering message.\n+ * Returns: (transfer full): The new buffering message.\n@@ -749,1 +749,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -779,1 +779,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message\n+ * @src: (transfer none) (nullable): The object originating the message\n@@ -801,1 +801,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -833,1 +833,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -862,1 +862,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -887,1 +887,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -926,1 +926,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -956,1 +956,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -986,1 +986,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -993,1 +993,1 @@\n- * Returns: (transfer full) (nullable): The new application message.\n+ * Returns: (transfer full): The new application message.\n@@ -1007,1 +1007,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1016,1 +1016,1 @@\n- * Returns: (transfer full) (nullable): The new element message.\n+ * Returns: (transfer full): The new element message.\n@@ -1030,1 +1030,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1054,1 +1054,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1074,1 +1074,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1102,1 +1102,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1123,1 +1123,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1169,1 +1169,1 @@\n- * @message: The #GstMessage.\n+ * @message: A writable #GstMessage.\n@@ -1176,2 +1176,2 @@\n- * This function checks if @message is writable and will never return\n- * %NULL.\n+ * This function ensures that @message is writable, and if so, will\n+ * never return %NULL.\n@@ -1270,1 +1270,1 @@\n- * @percent: (out) (allow-none): Return location for the percent.\n+ * @percent: (out) (optional): Return location for the percent.\n@@ -1316,4 +1316,4 @@\n- * @mode: (out) (allow-none): a buffering mode, or %NULL\n- * @avg_in: (out) (allow-none): the average input rate, or %NULL\n- * @avg_out: (out) (allow-none): the average output rate, or %NULL\n- * @buffering_left: (out) (allow-none): amount of buffering time left in\n+ * @mode: (out) (optional): a buffering mode, or %NULL\n+ * @avg_in: (out) (optional): the average input rate, or %NULL\n+ * @avg_out: (out) (optional): the average output rate, or %NULL\n+ * @buffering_left: (out) (optional): amount of buffering time left in\n@@ -1353,3 +1353,3 @@\n- * @oldstate: (out) (allow-none): the previous state, or %NULL\n- * @newstate: (out) (allow-none): the new (current) state, or %NULL\n- * @pending: (out) (allow-none): the pending (target) state, or %NULL\n+ * @oldstate: (out) (optional): the previous state, or %NULL\n+ * @newstate: (out) (optional): the new (current) state, or %NULL\n+ * @pending: (out) (optional): the pending (target) state, or %NULL\n@@ -1407,1 +1407,1 @@\n- * @clock: (out) (allow-none) (transfer none): a pointer to  hold a clock\n+ * @clock: (out) (optional) (transfer none): a pointer to  hold a clock\n@@ -1409,1 +1409,1 @@\n- * @ready: (out) (allow-none): a pointer to hold the ready flag, or %NULL\n+ * @ready: (out) (optional): a pointer to hold the ready flag, or %NULL\n@@ -1442,1 +1442,1 @@\n- * @clock: (out) (allow-none) (transfer none): a pointer to hold the lost clock\n+ * @clock: (out) (optional) (transfer none): a pointer to hold the lost clock\n@@ -1470,1 +1470,1 @@\n- * @clock: (out) (allow-none) (transfer none): a pointer to hold the selected\n+ * @clock: (out) (optional) (transfer none): a pointer to hold the selected\n@@ -1500,1 +1500,1 @@\n- * @owner: (out) (allow-none) (transfer none): The owner element of the\n+ * @owner: (out) (optional) (transfer none): The owner element of the\n@@ -1502,1 +1502,1 @@\n- * @busy: (out) (allow-none): a pointer to hold whether the change is in\n+ * @busy: (out) (optional): a pointer to hold whether the change is in\n@@ -1539,2 +1539,2 @@\n- * @gerror: (out) (allow-none) (transfer full): location for the GError\n- * @debug: (out) (allow-none) (transfer full): location for the debug message,\n+ * @gerror: (out) (optional) (transfer full): location for the GError\n+ * @debug: (out) (optional) (nullable) (transfer full): location for the debug message,\n@@ -1583,2 +1583,2 @@\n- * @gerror: (out) (allow-none) (transfer full): location for the GError\n- * @debug: (out) (allow-none) (transfer full): location for the debug message,\n+ * @gerror: (out) (optional) (transfer full): location for the GError\n+ * @debug: (out) (optional) (nullable) (transfer full): location for the debug message,\n@@ -1607,2 +1607,2 @@\n- * @gerror: (out) (allow-none) (transfer full): location for the GError\n- * @debug: (out) (allow-none) (transfer full): location for the debug message,\n+ * @gerror: (out) (optional) (transfer full): location for the GError\n+ * @debug: (out) (optional) (nullable) (transfer full): location for the debug message,\n@@ -1630,2 +1630,2 @@\n- * @format: (out) (allow-none): Result location for the format, or %NULL\n- * @position: (out) (allow-none): Result location for the position, or %NULL\n+ * @format: (out) (optional): Result location for the format, or %NULL\n+ * @position: (out) (optional): Result location for the position, or %NULL\n@@ -1660,2 +1660,2 @@\n- * @format: (out) (allow-none): Result location for the format, or %NULL\n- * @position: (out) (allow-none): Result location for the position, or %NULL\n+ * @format: (out) (optional): Result location for the format, or %NULL\n+ * @position: (out) (optional): Result location for the position, or %NULL\n@@ -1690,1 +1690,1 @@\n- * @running_time: (out) (allow-none): Result location for the running_time or %NULL\n+ * @running_time: (out) (optional): Result location for the running_time or %NULL\n@@ -1714,1 +1714,1 @@\n- * @state: (out) (allow-none): Result location for the requested state or %NULL\n+ * @state: (out) (optional): Result location for the requested state or %NULL\n@@ -1737,1 +1737,1 @@\n- * @src: The object originating the message.\n+ * @src:  (transfer none) (nullable): The object originating the message.\n@@ -1847,1 +1847,1 @@\n- * @src: The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1890,7 +1890,7 @@\n- * @format: (out) (allow-none): result location for the format\n- * @amount: (out) (allow-none): result location for the amount\n- * @rate: (out) (allow-none): result location for the rate\n- * @flush: (out) (allow-none): result location for the flush flag\n- * @intermediate: (out) (allow-none): result location for the intermediate flag\n- * @duration: (out) (allow-none): result location for the duration\n- * @eos: (out) (allow-none): result location for the EOS flag\n+ * @format: (out) (optional): result location for the format\n+ * @amount: (out) (optional): result location for the amount\n+ * @rate: (out) (optional): result location for the rate\n+ * @flush: (out) (optional): result location for the flush flag\n+ * @intermediate: (out) (optional): result location for the intermediate flag\n+ * @duration: (out) (optional): result location for the duration\n+ * @eos: (out) (optional): result location for the EOS flag\n@@ -1925,1 +1925,1 @@\n- * @src: The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -1970,6 +1970,6 @@\n- * @active: (out) (allow-none): result location for the active flag\n- * @format: (out) (allow-none): result location for the format\n- * @amount: (out) (allow-none): result location for the amount\n- * @rate: (out) (allow-none): result location for the rate\n- * @flush: (out) (allow-none): result location for the flush flag\n- * @intermediate: (out) (allow-none): result location for the intermediate flag\n+ * @active: (out) (optional): result location for the active flag\n+ * @format: (out) (optional): result location for the format\n+ * @amount: (out) (optional): result location for the amount\n+ * @rate: (out) (optional): result location for the rate\n+ * @flush: (out) (optional): result location for the flush flag\n+ * @intermediate: (out) (optional): result location for the intermediate flag\n@@ -2003,1 +2003,1 @@\n- * @src: The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -2119,2 +2119,2 @@\n- * @live: (out) (allow-none): if the message was generated by a live element\n- * @running_time: (out) (allow-none): the running time of the buffer that\n+ * @live: (out) (optional): if the message was generated by a live element\n+ * @running_time: (out) (optional): the running time of the buffer that\n@@ -2122,1 +2122,1 @@\n- * @stream_time: (out) (allow-none): the stream time of the buffer that\n+ * @stream_time: (out) (optional): the stream time of the buffer that\n@@ -2124,1 +2124,1 @@\n- * @timestamp: (out) (allow-none): the timestamps of the buffer that\n+ * @timestamp: (out) (optional): the timestamps of the buffer that\n@@ -2126,1 +2126,1 @@\n- * @duration: (out) (allow-none): the duration of the buffer that\n+ * @duration: (out) (optional): the duration of the buffer that\n@@ -2159,1 +2159,1 @@\n- * @jitter: (out) (allow-none): The difference of the running-time against\n+ * @jitter: (out) (optional): The difference of the running-time against\n@@ -2161,1 +2161,1 @@\n- * @proportion: (out) (allow-none): Long term prediction of the ideal rate\n+ * @proportion: (out) (optional): Long term prediction of the ideal rate\n@@ -2163,1 +2163,1 @@\n- * @quality: (out) (allow-none): An element dependent integer value that\n+ * @quality: (out) (optional): An element dependent integer value that\n@@ -2190,1 +2190,1 @@\n- * @format: (out) (allow-none): Units of the 'processed' and 'dropped' fields.\n+ * @format: (out) (optional): Units of the 'processed' and 'dropped' fields.\n@@ -2194,1 +2194,1 @@\n- * @processed: (out) (allow-none): Total number of units correctly processed\n+ * @processed: (out) (optional): Total number of units correctly processed\n@@ -2196,1 +2196,1 @@\n- * @dropped: (out) (allow-none): Total number of units dropped since the last\n+ * @dropped: (out) (optional): Total number of units dropped since the last\n@@ -2225,1 +2225,1 @@\n- * @src: The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -2236,1 +2236,1 @@\n- * Returns: (transfer full) (nullable): The new qos message.\n+ * Returns: (transfer full): The new qos message.\n@@ -2266,3 +2266,3 @@\n- * @type: (out) (allow-none): location for the type\n- * @code: (out) (allow-none) (transfer full): location for the code\n- * @text: (out) (allow-none) (transfer full): location for the text\n+ * @type: (out) (optional): location for the type\n+ * @code: (out) (optional) (transfer full): location for the code\n+ * @text: (out) (optional) (transfer full): location for the text\n@@ -2290,1 +2290,1 @@\n- * @src: the object originating the message.\n+ * @src: (transfer none) (nullable): the object originating the message.\n@@ -2341,1 +2341,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -2369,1 +2369,1 @@\n- * @running_time: (out) (allow-none): Result location for the running_time or\n+ * @running_time: (out) (optional): Result location for the running_time or\n@@ -2393,1 +2393,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -2451,1 +2451,1 @@\n- * @group_id: (out) (allow-none): Result location for the group id or\n+ * @group_id: (out) (optional): Result location for the group id or\n@@ -2489,1 +2489,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -2518,1 +2518,1 @@\n- * @context_type: (out) (transfer none) (allow-none): the context type, or %NULL\n+ * @context_type: (out) (transfer none) (optional): the context type, or %NULL\n@@ -2548,1 +2548,1 @@\n- * @src: (transfer none) (allow-none): The object originating the message.\n+ * @src: (transfer none) (nullable): The object originating the message.\n@@ -2576,1 +2576,1 @@\n- * @context: (out) (transfer full) (allow-none): Result location for the\n+ * @context: (out) (transfer full) (optional): Result location for the\n@@ -2599,1 +2599,1 @@\n- * @src: The #GstObject that created the message\n+ * @src: (transfer none) (nullable): The #GstObject that created the message\n@@ -2606,1 +2606,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -2629,1 +2629,1 @@\n- * @device: (out) (allow-none) (transfer full): A location where to store a\n+ * @device: (out) (optional) (transfer full): A location where to store a\n@@ -2651,1 +2651,1 @@\n- * @src: The #GstObject that created the message\n+ * @src: (transfer none) (nullable): The #GstObject that created the message\n@@ -2658,1 +2658,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -2681,1 +2681,1 @@\n- * @device: (out) (allow-none) (transfer full): A location where to store a\n+ * @device: (out) (optional) (transfer full): A location where to store a\n@@ -2703,2 +2703,2 @@\n- * @src: The #GstObject that created the message\n- * @device: (transfer none): The newly created device representing @replaced_device\n+ * @src: (transfer none) (nullable): The #GstObject that created the message\n+ * @device: (transfer none): The newly created device representing @changed_device\n@@ -2706,0 +2706,1 @@\n+ * @changed_device: (transfer none): The old version of the device.\n@@ -2711,1 +2712,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -2736,1 +2737,1 @@\n- * @device: (out) (allow-none) (transfer full): A location where to store a\n+ * @device: (out) (optional) (transfer full): A location where to store a\n@@ -2738,1 +2739,1 @@\n- * @changed_device: (out) (allow-none) (transfer full): A location where to store a\n+ * @changed_device: (out) (optional) (transfer full): A location where to store a\n@@ -2767,1 +2768,1 @@\n- * @src: The #GstObject whose property changed (may or may not be a #GstElement)\n+ * @src: (transfer none): The #GstObject whose property changed (may or may not be a #GstElement)\n@@ -2769,1 +2770,1 @@\n- * @val: (allow-none) (transfer full): new property value, or %NULL\n+ * @val: (nullable) (transfer full): new property value, or %NULL\n@@ -2771,1 +2772,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -2782,0 +2783,1 @@\n+  g_return_val_if_fail (GST_IS_OBJECT (src), NULL);\n@@ -2798,1 +2800,1 @@\n- * @object: (out) (allow-none) (transfer none): location where to store a\n+ * @object: (out) (optional) (transfer none): location where to store a\n@@ -2800,1 +2802,1 @@\n- * @property_name: (out) (transfer none) (allow-none): return location for\n+ * @property_name: (out) (transfer none) (optional): return location for\n@@ -2802,1 +2804,1 @@\n- * @property_value: (out) (transfer none) (allow-none): return location for\n+ * @property_value: (out) (transfer none) (optional) (nullable): return location for\n@@ -2839,1 +2841,1 @@\n- * @src: The #GstObject that created the message\n+ * @src: (transfer none) (nullable): The #GstObject that created the message\n@@ -2845,1 +2847,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -2871,1 +2873,1 @@\n- * @collection: (out) (allow-none) (transfer full): A location where to store a\n+ * @collection: (out) (optional) (transfer full): A location where to store a\n@@ -2893,1 +2895,1 @@\n- * @src: The #GstObject that created the message\n+ * @src: (transfer none) (nullable): The #GstObject that created the message\n@@ -2907,1 +2909,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -3019,1 +3021,1 @@\n- * @collection: (out) (allow-none) (transfer full): A location where to store a\n+ * @collection: (out) (optional) (transfer full): A location where to store a\n@@ -3040,1 +3042,1 @@\n- * @src: The #GstObject whose property changed (may or may not be a #GstElement)\n+ * @src: (transfer none) (nullable): The #GstObject whose property changed (may or may not be a #GstElement)\n@@ -3042,2 +3044,2 @@\n- * @tag_list: (transfer full) (allow-none): tag list for the new entry\n- * @entry_struct: (transfer full) (allow-none): structure for the new entry\n+ * @tag_list: (transfer full) (nullable): tag list for the new entry\n+ * @entry_struct: (transfer full) (nullable): structure for the new entry\n@@ -3071,1 +3073,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -3111,2 +3113,2 @@\n- * @tag_list: (transfer full) (allow-none): tag list for the new entry\n- * @entry_struct: (transfer full) (allow-none): structure for the new entry\n+ * @tag_list: (transfer full) (nullable): tag list for the new entry\n+ * @entry_struct: (transfer full) (nullable): structure for the new entry\n@@ -3170,1 +3172,1 @@\n- * @location: (out) (transfer none) (allow-none): return location for\n+ * @location: (out) (transfer none) (optional): return location for\n@@ -3172,1 +3174,1 @@\n- * @tag_list: (out) (transfer none) (allow-none): return location for\n+ * @tag_list: (out) (transfer none) (optional) (nullable): return location for\n@@ -3174,1 +3176,1 @@\n- * @entry_struct: (out) (transfer none) (allow-none): return location\n+ * @entry_struct: (out) (transfer none) (optional) (nullable): return location\n@@ -3280,1 +3282,1 @@\n- * @src: The #GstObject that posted the message\n+ * @src: (transfer none) (nullable): The #GstObject that posted the message\n@@ -3290,1 +3292,1 @@\n- * Returns: a newly allocated #GstMessage\n+ * Returns: (transfer full): a newly allocated #GstMessage\n@@ -3313,1 +3315,1 @@\n- * @rate_multiplier: (out) (allow-none): return location for the rate, or %NULL\n+ * @rate_multiplier: (out) (optional): return location for the rate, or %NULL\n@@ -3402,1 +3404,1 @@\n- * @new_message: (allow-none) (transfer none): pointer to a #GstMessage that will\n+ * @new_message: (nullable) (transfer none): pointer to a #GstMessage that will\n@@ -3425,1 +3427,1 @@\n- * @new_message: (transfer full) (allow-none): pointer to a #GstMessage that\n+ * @new_message: (transfer full) (nullable): pointer to a #GstMessage that\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmessage.c","additions":149,"deletions":147,"binary":false,"changes":296,"status":"modified"},{"patch":"@@ -60,0 +60,1 @@\n+GQuark _gst_meta_tag_memory_reference;\n@@ -91,0 +92,2 @@\n+  _gst_meta_tag_memory_reference =\n+      g_quark_from_static_string (\"memory-reference\");\n@@ -136,1 +139,1 @@\n-  if (type != 0) {\n+  if (type != G_TYPE_INVALID) {\n@@ -191,1 +194,1 @@\n-        &GST_MINI_OBJECT_REFCOUNT (buffer));\n+        &GST_MINI_OBJECT_REFCOUNT (transbuf));\n@@ -391,1 +394,1 @@\n-  if (type == 0)\n+  if (type == G_TYPE_INVALID)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmeta.c","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -90,0 +90,1 @@\n+ * In hindsight, this tag should have been called \"memory-layout\".\n@@ -95,0 +96,9 @@\n+\/**\n+ * GST_META_TAG_MEMORY_REFERENCE_STR:\n+ *\n+ * This metadata stays relevant until a deep copy is made.\n+ *\n+ * Since: 1.20.4\n+ *\/\n+#define GST_META_TAG_MEMORY_REFERENCE_STR \"memory-reference\"\n+\n@@ -206,2 +216,2 @@\n- * transformation on @transbuf. Additional @type specific transform data\n- * is passed to the function as @data.\n+ * transformation that yields @transbuf. Additional @type specific transform\n+ * data is passed to the function as @data.\n@@ -290,0 +300,1 @@\n+GST_API GQuark _gst_meta_tag_memory_reference;\n@@ -292,0 +303,1 @@\n+GST_EXPORT GQuark _gst_meta_tag_memory_reference;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmeta.h","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -220,1 +220,1 @@\n-  gint access_mode, state, newstate;\n+  guint access_mode, state, newstate;\n@@ -231,1 +231,1 @@\n-    newstate = state = g_atomic_int_get (&object->lockstate);\n+    newstate = state = (guint) g_atomic_int_get (&object->lockstate);\n@@ -233,1 +233,1 @@\n-    GST_CAT_TRACE (GST_CAT_LOCKING, \"lock %p: state %08x, access_mode %d\",\n+    GST_CAT_TRACE (GST_CAT_LOCKING, \"lock %p: state %08x, access_mode %u\",\n@@ -268,1 +268,1 @@\n-        \"lock failed %p: state %08x, access_mode %d\", object, state,\n+        \"lock failed %p: state %08x, access_mode %u\", object, state,\n@@ -284,1 +284,1 @@\n-  gint access_mode, state, newstate;\n+  guint access_mode, state, newstate;\n@@ -291,1 +291,1 @@\n-    newstate = state = g_atomic_int_get (&object->lockstate);\n+    newstate = state = (guint) g_atomic_int_get (&object->lockstate);\n@@ -293,1 +293,1 @@\n-    GST_CAT_TRACE (GST_CAT_LOCKING, \"unlock %p: state %08x, access_mode %d\",\n+    GST_CAT_TRACE (GST_CAT_LOCKING, \"unlock %p: state %08x, access_mode %u\",\n@@ -426,2 +426,2 @@\n- * Returns: (transfer full): a mini-object (possibly the same pointer) that\n- *     is writable.\n+ * Returns: (transfer full) (nullable): a writable mini-object (which may or may not be\n+ *     the same as @mini_object) or %NULL if copying is required but not possible.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstminiobject.c","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -327,1 +327,1 @@\n- * @newobj: (transfer none) (allow-none): a new #GstObject\n+ * @newobj: (transfer none) (nullable): a new #GstObject\n@@ -633,1 +633,1 @@\n- * @name: (allow-none): new name of object\n+ * @name: (nullable): new name of object\n@@ -1345,1 +1345,1 @@\n- * Returns: (nullable): the GValue of the property at the given time,\n+ * Returns: (transfer full) (nullable): the GValue of the property at the given time,\n@@ -1375,1 +1375,1 @@\n- * @values: array to put control-values in\n+ * @values: (array length=n_values): array to put control-values in\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstobject.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -102,1 +102,0 @@\n-GST_DEBUG_CATEGORY_STATIC (debug_dataflow);\n@@ -132,0 +131,1 @@\n+  guint sticky_order;\n@@ -315,2 +315,0 @@\n-  GST_DEBUG_CATEGORY_INIT (debug_dataflow, \"GST_DATAFLOW\", \\\n-      GST_DEBUG_BOLD | GST_DEBUG_FG_GREEN, \"dataflow inside pads\"); \\\n@@ -465,0 +463,2 @@\n+#define _to_sticky_order(t) gst_event_type_to_sticky_ordering(t)\n+\n@@ -472,0 +472,1 @@\n+  guint last_sticky_order = _to_sticky_order (type);\n@@ -485,1 +486,1 @@\n-    } else if (GST_EVENT_TYPE (ev->event) > type) {\n+    } else if (ev->sticky_order > last_sticky_order) {\n@@ -505,0 +506,1 @@\n+  guint sticky_order = _to_sticky_order (GST_EVENT_TYPE (event));\n@@ -509,1 +511,1 @@\n-    else if (GST_EVENT_TYPE (ev->event) > GST_EVENT_TYPE (event))\n+    else if (ev->sticky_order > sticky_order)\n@@ -528,0 +530,2 @@\n+  guint last_sticky_order = _to_sticky_order (type);\n+\n@@ -534,1 +538,1 @@\n-    if (GST_EVENT_TYPE (ev->event) > type)\n+    if (ev->sticky_order > last_sticky_order)\n@@ -605,0 +609,1 @@\n+    ev_ret.sticky_order = ev->sticky_order;\n@@ -4039,0 +4044,5 @@\n+  guint data_sticky_order = 0;\n+  if (data->event) {\n+    data_sticky_order = _to_sticky_order (GST_EVENT_TYPE (data->event));\n+  }\n+\n@@ -4043,2 +4053,2 @@\n-      GST_EVENT_TYPE (data->event) <= GST_EVENT_SEGMENT &&\n-      GST_EVENT_TYPE (data->event) < GST_EVENT_TYPE (event)) {\n+      data_sticky_order <= _to_sticky_order (GST_EVENT_SEGMENT) &&\n+      data_sticky_order < ev->sticky_order) {\n@@ -4396,0 +4406,6 @@\n+  if (type & GST_PAD_PROBE_TYPE_BUFFER_LIST) {\n+    GST_TRACER_PAD_CHAIN_LIST_PRE (pad, data);\n+  } else {\n+    GST_TRACER_PAD_CHAIN_PRE (pad, data);\n+  }\n+\n@@ -4475,0 +4491,7 @@\n+out:\n+  if (type & GST_PAD_PROBE_TYPE_BUFFER_LIST) {\n+    GST_TRACER_PAD_CHAIN_LIST_POST (pad, ret);\n+  } else {\n+    GST_TRACER_PAD_CHAIN_POST (pad, ret);\n+  }\n+\n@@ -4486,1 +4509,2 @@\n-    return GST_FLOW_FLUSHING;\n+    ret = GST_FLOW_FLUSHING;\n+    goto out;\n@@ -4495,1 +4519,2 @@\n-    return GST_FLOW_EOS;\n+    ret = GST_FLOW_EOS;\n+    goto out;\n@@ -4505,1 +4530,2 @@\n-    return GST_FLOW_ERROR;\n+    ret = GST_FLOW_ERROR;\n+    goto out;\n@@ -4529,1 +4555,1 @@\n-    return ret;\n+    goto out;\n@@ -4538,1 +4564,2 @@\n-    return GST_FLOW_FLUSHING;\n+    ret = GST_FLOW_FLUSHING;\n+    goto out;\n@@ -4548,1 +4575,2 @@\n-    return GST_FLOW_NOT_SUPPORTED;\n+    ret = GST_FLOW_NOT_SUPPORTED;\n+    goto out;\n@@ -4957,2 +4985,0 @@\n-    g_critical (\"getrange on pad %s:%s but it was not activated in pull mode\",\n-        GST_DEBUG_PAD_NAME (pad));\n@@ -4962,0 +4988,2 @@\n+    g_critical (\"getrange on pad %s:%s but it was not activated in pull mode\",\n+        GST_DEBUG_PAD_NAME (pad));\n@@ -5283,0 +5311,1 @@\n+  guint sticky_order = _to_sticky_order (type);\n@@ -5331,1 +5360,1 @@\n-    if (type < GST_EVENT_TYPE (ev->event) || (type != GST_EVENT_TYPE (ev->event)\n+    if (sticky_order < ev->sticky_order || (type != GST_EVENT_TYPE (ev->event)\n@@ -5335,1 +5364,1 @@\n-      if (G_UNLIKELY (GST_EVENT_TYPE (ev->event) <= GST_EVENT_SEGMENT\n+      if (G_UNLIKELY (ev->sticky_order <= _to_sticky_order (GST_EVENT_SEGMENT)\n@@ -5347,0 +5376,1 @@\n+    ev.sticky_order = sticky_order;\n@@ -5426,1 +5456,1 @@\n-      && GST_EVENT_TYPE (ev->event) < GST_EVENT_TYPE (data->event))\n+      && ev->sticky_order < _to_sticky_order (GST_EVENT_TYPE (data->event)))\n@@ -5495,2 +5525,1 @@\n-          && (GST_EVENT_IS_SERIALIZED (event)\n-              || GST_EVENT_IS_STICKY (event))) {\n+          && (GST_EVENT_IS_SERIALIZED (event))) {\n@@ -5513,2 +5542,1 @@\n-      && (GST_EVENT_IS_SERIALIZED (event)\n-          || GST_EVENT_IS_STICKY (event))) {\n+      && (GST_EVENT_IS_SERIALIZED (event))) {\n@@ -5672,3 +5700,5 @@\n-  if (GST_PAD_IS_SRC (pad) && (serialized || sticky)) {\n-    \/* all serialized or sticky events on the srcpad trigger push of\n-     * sticky events *\/\n+  if (GST_PAD_IS_SRC (pad) && serialized) {\n+    \/* All serialized events on the srcpad trigger push of sticky events.\n+     *\n+     * Note that we do not do this for non-serialized sticky events since it\n+     * could potentially block. *\/\n@@ -5677,1 +5707,1 @@\n-  if (!sticky) {\n+  if (!serialized || !sticky) {\n@@ -5680,1 +5710,1 @@\n-    \/* other events are pushed right away *\/\n+    \/* non-serialized and non-sticky events are pushed right away. *\/\n@@ -5838,0 +5868,11 @@\n+          \/* Take the stream lock to unset the EOS status. This is to ensure\n+           * there isn't any other serialized event passing through while this\n+           * EOS status is being unset *\/\n+          \/* lock order: STREAM_LOCK, LOCK, recheck flushing. *\/\n+          GST_OBJECT_UNLOCK (pad);\n+          GST_PAD_STREAM_LOCK (pad);\n+          need_unlock = TRUE;\n+          GST_OBJECT_LOCK (pad);\n+          if (G_UNLIKELY (GST_PAD_IS_FLUSHING (pad)))\n+            goto flushing;\n+\n@@ -5846,0 +5887,14 @@\n+          if (serialized) {\n+            \/* Take the stream lock to check the EOS status and drop the event\n+             * if that is the case. *\/\n+            \/* lock order: STREAM_LOCK, LOCK, recheck flushing. *\/\n+            GST_OBJECT_UNLOCK (pad);\n+            GST_PAD_STREAM_LOCK (pad);\n+            need_unlock = TRUE;\n+            GST_OBJECT_LOCK (pad);\n+            if (G_UNLIKELY (GST_PAD_IS_FLUSHING (pad)))\n+              goto flushing;\n+\n+            if (G_UNLIKELY (GST_PAD_IS_EOS (pad)))\n+              goto eos;\n+          }\n@@ -5848,16 +5903,0 @@\n-\n-      if (serialized) {\n-        if (G_UNLIKELY (GST_PAD_IS_EOS (pad)))\n-          goto eos;\n-\n-        \/* lock order: STREAM_LOCK, LOCK, recheck flushing. *\/\n-        GST_OBJECT_UNLOCK (pad);\n-        GST_PAD_STREAM_LOCK (pad);\n-        need_unlock = TRUE;\n-        GST_OBJECT_LOCK (pad);\n-        if (G_UNLIKELY (GST_PAD_IS_FLUSHING (pad)))\n-          goto flushing;\n-\n-        if (G_UNLIKELY (GST_PAD_IS_EOS (pad)))\n-          goto eos;\n-      }\n@@ -6288,0 +6327,1 @@\n+    notify = NULL;\n@@ -6309,0 +6349,4 @@\n+  \/* free user_data if it wasn't used for gst_task_new *\/\n+  if (notify)\n+    notify (user_data);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpad.c","additions":88,"deletions":44,"binary":false,"changes":132,"status":"modified"},{"patch":"@@ -488,1 +488,1 @@\n- * @caps: (transfer full): the documented capabilities\n+ * @caps: (transfer none): the documented capabilities\n@@ -515,1 +515,1 @@\n- * Returns: The caps to document. For convenience, this will return\n+ * Returns: (transfer full): The caps to document. For convenience, this will return\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpadtemplate.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -235,1 +235,1 @@\n- * @context: (allow-none): a parse context allocated with\n+ * @context: (nullable): a parse context allocated with\n@@ -316,1 +316,1 @@\n- * @context: (allow-none): a parse context allocated with\n+ * @context: (nullable): a parse context allocated with\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstparse.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -337,1 +337,1 @@\n- * @name: (allow-none): name of new pipeline\n+ * @name: (nullable): name of new pipeline\n@@ -870,1 +870,1 @@\n- * @clock: (transfer none): the clock to set\n+ * @clock: (transfer none) (nullable): the clock to set\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpipeline.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -106,0 +106,2 @@\n+ * Apache License 2.0: http:\/\/www.apache.org\/licenses\/LICENSE-2.0 (Since: 1.22)\n+\n@@ -117,0 +119,1 @@\n+    \"Apache 2.0\\000\"            \/* Apache License 2.0 *\/\n@@ -832,1 +835,1 @@\n-    } else {\n+    } else if (g_strcmp0 (plugin->filename, filename) == 0) {\n@@ -1193,0 +1196,1 @@\n+  gboolean ret;\n@@ -1194,1 +1198,8 @@\n-  return (plugin->module != NULL || plugin->filename == NULL);\n+  if (plugin->filename == NULL)\n+    return TRUE;                \/* Static plugin *\/\n+\n+  g_mutex_lock (&gst_plugin_loading_mutex);\n+  ret = (plugin->module != NULL);\n+  g_mutex_unlock (&gst_plugin_loading_mutex);\n+\n+  return ret;\n@@ -1416,4 +1427,4 @@\n-  if (plugin) {\n-    GST_DEBUG (\"loading plugin %s from file %s\", name, plugin->filename);\n-    newplugin = gst_plugin_load_file (plugin->filename, &error);\n-    gst_object_unref (plugin);\n+  if (plugin == NULL) {\n+    GST_DEBUG (\"Could not find plugin %s in registry\", name);\n+    return NULL;\n+  }\n@@ -1421,7 +1432,3 @@\n-    if (!newplugin) {\n-      GST_WARNING (\"load_plugin error: %s\", error->message);\n-      g_error_free (error);\n-      return NULL;\n-    }\n-    \/* newplugin was reffed by load_file *\/\n-    return newplugin;\n+  if (gst_plugin_is_loaded (plugin)) {\n+    GST_DEBUG (\"plugin %s already loaded\", name);\n+    return plugin;\n@@ -1430,2 +1437,11 @@\n-  GST_DEBUG (\"Could not find plugin %s in registry\", name);\n-  return NULL;\n+  GST_DEBUG (\"loading plugin %s from file %s\", name, plugin->filename);\n+  newplugin = gst_plugin_load_file (plugin->filename, &error);\n+  gst_object_unref (plugin);\n+\n+  if (!newplugin) {\n+    GST_WARNING (\"load_plugin error: %s\", error->message);\n+    g_error_free (error);\n+    return NULL;\n+  }\n+  \/* newplugin was reffed by load_file *\/\n+  return newplugin;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstplugin.c","additions":31,"deletions":15,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -817,0 +817,3 @@\n+    } else if (G_UNLIKELY (res == 0)) {\n+      \/* FD closed -> child died *\/\n+      goto fail_and_cleanup;\n@@ -1081,0 +1084,3 @@\n+    } else if (G_UNLIKELY (res == 0)) {\n+      GST_LOG (\"Failed reading packet header: Unexpected EOF\");\n+      return FALSE;\n@@ -1118,0 +1124,3 @@\n+      } else if (G_UNLIKELY (res == 0)) {\n+        GST_ERROR (\"Packet payload read failed: Unexpected EOF\");\n+        return FALSE;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpluginloader.c","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-  \"gap-flags\"\n+  \"gap-flags\", \"GstQuerySelectable\", \"selectable\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquark.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -234,1 +234,3 @@\n-  GST_QUARK_MAX = 203\n+  GST_QUARK_QUERY_SELECTABLE = 203,\n+  GST_QUARK_SELECTABLE = 204,\n+  GST_QUARK_MAX = 205\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquark.h","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -109,0 +109,1 @@\n+  {GST_QUERY_SELECTABLE, \"selectable\", 0},\n@@ -275,1 +276,1 @@\n- * @format: (out) (allow-none): the storage for the #GstFormat of the\n+ * @format: (out) (optional): the storage for the #GstFormat of the\n@@ -277,1 +278,1 @@\n- * @cur: (out) (allow-none): the storage for the current position (may be %NULL)\n+ * @cur: (out) (optional): the storage for the current position (may be %NULL)\n@@ -352,1 +353,1 @@\n- * @format: (out) (allow-none): the storage for the #GstFormat of the duration\n+ * @format: (out) (optional): the storage for the #GstFormat of the duration\n@@ -354,1 +355,1 @@\n- * @duration: (out) (allow-none): the storage for the total duration, or %NULL.\n+ * @duration: (out) (optional): the storage for the total duration, or %NULL.\n@@ -433,3 +434,3 @@\n- * @live: (out) (allow-none): storage for live or %NULL\n- * @min_latency: (out) (allow-none): the storage for the min latency or %NULL\n- * @max_latency: (out) (allow-none): the storage for the max latency or %NULL\n+ * @live: (out) (optional): storage for live or %NULL\n+ * @min_latency: (out) (optional): the storage for the min latency or %NULL\n+ * @max_latency: (out) (optional): the storage for the max latency or %NULL\n@@ -521,1 +522,1 @@\n- * @src_format: (out) (allow-none): the storage for the #GstFormat of the\n+ * @src_format: (out) (optional): the storage for the #GstFormat of the\n@@ -523,2 +524,2 @@\n- * @src_value: (out) (allow-none): the storage for the source value, or %NULL\n- * @dest_format: (out) (allow-none): the storage for the #GstFormat of the\n+ * @src_value: (out) (optional): the storage for the source value, or %NULL\n+ * @dest_format: (out) (optional): the storage for the #GstFormat of the\n@@ -526,1 +527,1 @@\n- * @dest_value: (out) (allow-none): the storage for the destination value,\n+ * @dest_value: (out) (optional): the storage for the destination value,\n@@ -625,2 +626,2 @@\n- * @rate: (out) (allow-none): the storage for the rate of the segment, or %NULL\n- * @format: (out) (allow-none): the storage for the #GstFormat of the values,\n+ * @rate: (out) (optional): the storage for the rate of the segment, or %NULL\n+ * @format: (out) (optional): the storage for the #GstFormat of the values,\n@@ -628,2 +629,2 @@\n- * @start_value: (out) (allow-none): the storage for the start value, or %NULL\n- * @stop_value: (out) (allow-none): the storage for the stop value, or %NULL\n+ * @start_value: (out) (optional): the storage for the start value, or %NULL\n+ * @stop_value: (out) (optional): the storage for the stop value, or %NULL\n@@ -663,1 +664,1 @@\n- * @structure: (allow-none) (transfer full): a structure for the query\n+ * @structure: (nullable) (transfer full): a structure for the query\n@@ -670,1 +671,1 @@\n- * Returns: (transfer full) (nullable): a new #GstQuery\n+ * Returns: (transfer full): a new #GstQuery\n@@ -813,1 +814,1 @@\n- * @format: (out) (allow-none): the format to set for the @segment_start\n+ * @format: (out) (optional): the format to set for the @segment_start\n@@ -815,3 +816,3 @@\n- * @seekable: (out) (allow-none): the seekable flag to set, or %NULL\n- * @segment_start: (out) (allow-none): the segment_start to set, or %NULL\n- * @segment_end: (out) (allow-none): the segment_end to set, or %NULL\n+ * @seekable: (out) (optional): the seekable flag to set, or %NULL\n+ * @segment_start: (out) (optional): the segment_start to set, or %NULL\n+ * @segment_end: (out) (optional): the segment_end to set, or %NULL\n@@ -974,1 +975,1 @@\n- * @n_formats: (out) (allow-none): the number of formats in this query.\n+ * @n_formats: (out) (optional): the number of formats in this query.\n@@ -1001,1 +1002,1 @@\n- * @format: (out) (allow-none): a pointer to store the nth format\n+ * @format: (out) (optional): a pointer to store the nth format\n@@ -1094,2 +1095,2 @@\n- * @busy: (out) (allow-none): if buffering is busy, or %NULL\n- * @percent: (out) (allow-none): a buffering percent, or %NULL\n+ * @busy: (out) (optional): if buffering is busy, or %NULL\n+ * @percent: (out) (optional): a buffering percent, or %NULL\n@@ -1147,4 +1148,4 @@\n- * @mode: (out) (allow-none): a buffering mode, or %NULL\n- * @avg_in: (out) (allow-none): the average input rate, or %NULL\n- * @avg_out: (out) (allow-none): the average output rat, or %NULL\n- * @buffering_left: (out) (allow-none): amount of buffering time left in\n+ * @mode: (out) (optional): a buffering mode, or %NULL\n+ * @avg_in: (out) (optional): the average input rate, or %NULL\n+ * @avg_out: (out) (optional): the average output rat, or %NULL\n+ * @buffering_left: (out) (optional): amount of buffering time left in\n@@ -1212,1 +1213,1 @@\n- * @format: (out) (allow-none): the format to set for the @segment_start\n+ * @format: (out) (optional): the format to set for the @segment_start\n@@ -1214,3 +1215,3 @@\n- * @start: (out) (allow-none): the start to set, or %NULL\n- * @stop: (out) (allow-none): the stop to set, or %NULL\n- * @estimated_total: (out) (allow-none): estimated total amount of download\n+ * @start: (out) (optional): the start to set, or %NULL\n+ * @stop: (out) (optional): the stop to set, or %NULL\n+ * @estimated_total: (out) (optional): estimated total amount of download\n@@ -1328,2 +1329,2 @@\n- * @start: (out) (allow-none): the start position to set, or %NULL\n- * @stop: (out) (allow-none): the stop position to set, or %NULL\n+ * @start: (out) (optional): the start position to set, or %NULL\n+ * @stop: (out) (optional): the stop position to set, or %NULL\n@@ -1391,1 +1392,1 @@\n- * @uri: the URI to set\n+ * @uri: (nullable): the URI to set\n@@ -1402,1 +1403,0 @@\n-  g_return_if_fail (gst_uri_is_valid (uri));\n@@ -1411,1 +1411,1 @@\n- * @uri: (out) (transfer full) (allow-none): the storage for the current URI\n+ * @uri: (out) (transfer full) (optional) (nullable): the storage for the current URI\n@@ -1434,1 +1434,1 @@\n- * @uri: the URI to set\n+ * @uri: (nullable): the URI to set\n@@ -1447,1 +1447,0 @@\n-  g_return_if_fail (gst_uri_is_valid (uri));\n@@ -1457,1 +1456,1 @@\n- * @uri: (out) (transfer full) (allow-none): the storage for the redirect URI\n+ * @uri: (out) (transfer full) (optional) (nullable): the storage for the redirect URI\n@@ -1507,1 +1506,1 @@\n- * @permanent: (out) (allow-none): if the URI redirection is permanent\n+ * @permanent: (out) (optional): if the URI redirection is permanent\n@@ -1535,1 +1534,1 @@\n- * @caps: the negotiated caps\n+ * @caps: (nullable): the negotiated caps\n@@ -1562,2 +1561,2 @@\n- * @caps: (out) (transfer none) (allow-none): The #GstCaps\n- * @need_pool: (out) (allow-none): Whether a #GstBufferPool is needed\n+ * @caps: (out) (transfer none) (optional) (nullable): The #GstCaps\n+ * @need_pool: (out) (optional): Whether a #GstBufferPool is needed\n@@ -1607,1 +1606,1 @@\n- * @pool: (transfer none) (allow-none): the #GstBufferPool\n+ * @pool: (transfer none) (nullable): the #GstBufferPool\n@@ -1666,4 +1665,4 @@\n- * @pool: (out) (allow-none) (transfer full): the #GstBufferPool\n- * @size: (out) (allow-none): the buffer size\n- * @min_buffers: (out) (allow-none): the min buffers\n- * @max_buffers: (out) (allow-none): the max buffers\n+ * @pool: (out) (optional) (transfer full) (nullable): the #GstBufferPool\n+ * @size: (out) (optional): the buffer size\n+ * @min_buffers: (out) (optional): the min buffers\n+ * @max_buffers: (out) (optional): the max buffers\n@@ -1708,1 +1707,1 @@\n- * @pool: (transfer none) (allow-none): the #GstBufferPool\n+ * @pool: (transfer none) (nullable): the #GstBufferPool\n@@ -1785,1 +1784,1 @@\n- * @params: (transfer none) (allow-none): API specific parameters\n+ * @params: (transfer none) (nullable): API specific parameters\n@@ -1841,1 +1840,1 @@\n- * @params: (out) (transfer none) (allow-none): API specific parameters\n+ * @params: (out) (transfer none) (optional): API specific parameters\n@@ -1902,1 +1901,1 @@\n- * @index: (out) (transfer none) (allow-none): the index\n+ * @index: (out) (transfer none) (optional): the index\n@@ -1953,2 +1952,2 @@\n- * @allocator: (transfer none) (allow-none): the memory allocator\n- * @params: (transfer none) (allow-none): a #GstAllocationParams\n+ * @allocator: (transfer none) (nullable): the memory allocator\n+ * @params: (transfer none) (nullable): a #GstAllocationParams\n@@ -2017,2 +2016,2 @@\n- * @allocator: (out) (transfer full) (allow-none): variable to hold the result\n- * @params: (out) (allow-none): parameters for the allocator\n+ * @allocator: (out) (transfer full) (optional) (nullable): variable to hold the result\n+ * @params: (out) (optional): parameters for the allocator\n@@ -2051,2 +2050,2 @@\n- * @allocator: (transfer none) (allow-none): new allocator to set\n- * @params: (transfer none) (allow-none): parameters for the allocator\n+ * @allocator: (transfer none) (nullable): new allocator to set\n+ * @params: (transfer none) (nullable): parameters for the allocator\n@@ -2167,4 +2166,4 @@\n- * @flags: (out) (allow-none): #GstSchedulingFlags\n- * @minsize: (out) (allow-none): the suggested minimum size of pull requests\n- * @maxsize: (out) (allow-none): the suggested maximum size of pull requests:\n- * @align: (out) (allow-none): the suggested alignment of pull requests\n+ * @flags: (out) (optional): #GstSchedulingFlags\n+ * @minsize: (out) (optional): the suggested minimum size of pull requests\n+ * @maxsize: (out) (optional): the suggested maximum size of pull requests:\n+ * @align: (out) (optional): the suggested alignment of pull requests\n@@ -2396,1 +2395,1 @@\n- * @result: (out) (allow-none): location for the result\n+ * @result: (out) (nullable): location for the result\n@@ -2477,1 +2476,1 @@\n- * @caps: (in): A pointer to the caps\n+ * @caps: (nullable): A pointer to the caps\n@@ -2496,1 +2495,1 @@\n- * @caps: (out) (transfer none): A pointer to the caps\n+ * @caps: (out) (transfer none) (nullable): A pointer to the caps\n@@ -2579,1 +2578,1 @@\n- * @context: the requested #GstContext\n+ * @context: (nullable): the requested #GstContext\n@@ -2606,1 +2605,1 @@\n- * @context: (out) (transfer none): A pointer to store the #GstContext\n+ * @context: (out) (transfer none) (nullable): A pointer to store the #GstContext\n@@ -2633,1 +2632,1 @@\n- * @context_type: (out) (transfer none) (allow-none): the context type, or %NULL\n+ * @context_type: (out) (transfer none) (optional): the context type, or %NULL\n@@ -2709,1 +2708,1 @@\n- * @nominal_bitrate: (out) (allow-none): The resulting bitrate in bits per second\n+ * @nominal_bitrate: (out) (optional): The resulting bitrate in bits per second\n@@ -2731,0 +2730,74 @@\n+\/**\n+ * gst_query_new_selectable:\n+ *\n+ * Constructs a new query object for querying the stream selection capability.\n+ *\n+ * Free-function: gst_query_unref()\n+ *\n+ * Returns: (transfer full): a new #GstQuery\n+ *\n+ * Since: 1.22\n+ *\/\n+GstQuery *\n+gst_query_new_selectable (void)\n+{\n+  GstQuery *query;\n+  GstStructure *structure;\n+\n+  structure = gst_structure_new_id_empty (GST_QUARK (QUERY_SELECTABLE));\n+  query = gst_query_new_custom (GST_QUERY_SELECTABLE, structure);\n+\n+  return query;\n+}\n+\n+\/**\n+ * gst_query_set_selectable:\n+ * @query: a GST_QUERY_SELECTABLE type #GstQuery\n+ * @selectable: Whether the element can handle stream selection.\n+ *\n+ * Set the results of a selectable query. If the element answering the query can\n+ * handle stream selection, @selectable should be set to %TRUE.\n+ *\n+ * Since: 1.22\n+ *\/\n+void\n+gst_query_set_selectable (GstQuery * query, gboolean selectable)\n+{\n+  GstStructure *s;\n+\n+  g_return_if_fail (GST_QUERY_TYPE (query) == GST_QUERY_SELECTABLE);\n+\n+  s = GST_QUERY_STRUCTURE (query);\n+\n+  gst_structure_id_set (s,\n+      GST_QUARK (SELECTABLE), G_TYPE_BOOLEAN, selectable, NULL);\n+}\n+\n+\/**\n+ * gst_query_parse_selectable:\n+ * @query: a GST_QUERY_SELECTABLE type #GstQuery\n+ * @selectable: (out) (optional): The resulting stream selection capability\n+ *\n+ * Get the results of a selectable query. See also gst_query_set_selectable().\n+ *\n+ * Since: 1.22\n+ *\/\n+void\n+gst_query_parse_selectable (GstQuery * query, gboolean * selectable)\n+{\n+  GstStructure *structure;\n+\n+  g_return_if_fail (GST_QUERY_TYPE (query) == GST_QUERY_SELECTABLE);\n+\n+  structure = GST_QUERY_STRUCTURE (query);\n+\n+  if (selectable) {\n+    const GValue *value =\n+        gst_structure_id_get_value (structure, GST_QUARK (SELECTABLE));\n+    if (value)\n+      *selectable = g_value_get_boolean (value);\n+    else\n+      *selectable = FALSE;\n+  }\n+}\n+\n@@ -2797,1 +2870,1 @@\n- * @new_query: (allow-none) (transfer none): pointer to a #GstQuery that will\n+ * @new_query: (nullable) (transfer none): pointer to a #GstQuery that will\n@@ -2820,1 +2893,1 @@\n- * @new_query: (allow-none) (transfer full): pointer to a #GstQuery that will\n+ * @new_query: (nullable) (transfer full): pointer to a #GstQuery that will\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquery.c","additions":146,"deletions":73,"binary":false,"changes":219,"status":"modified"},{"patch":"@@ -103,0 +103,1 @@\n+ * @GST_QUERY_SELECTABLE: Query stream selection capability (Since: 1.22)\n@@ -129,0 +130,9 @@\n+\n+  \/**\n+   * GST_QUERY_SELECTABLE:\n+   *\n+   * Query stream selection capability.\n+   *\n+   * Since: 1.22\n+   *\/\n+  GST_QUERY_SELECTABLE   = GST_QUERY_MAKE_TYPE (210, _FLAG(BOTH)),\n@@ -660,0 +670,11 @@\n+\/* selectable query *\/\n+\n+GST_API\n+GstQuery *      gst_query_new_selectable           (void) G_GNUC_MALLOC;\n+\n+GST_API\n+void            gst_query_set_selectable           (GstQuery *query, gboolean selectable);\n+\n+GST_API\n+void            gst_query_parse_selectable         (GstQuery *query, gboolean * selectable);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquery.h","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -779,2 +779,3 @@\n-  return ((data->type == 0 || data->type == G_OBJECT_TYPE (feature)) &&\n-      (data->name == NULL || !strcmp (data->name, GST_OBJECT_NAME (feature))));\n+  return ((data->type == G_TYPE_INVALID\n+          || data->type == G_OBJECT_TYPE (feature)) && (data->name == NULL\n+          || !strcmp (data->name, GST_OBJECT_NAME (feature))));\n@@ -1293,1 +1294,1 @@\n-is_blacklisted_directory (const gchar * dirent)\n+skip_directory (const gchar * parent_path, const gchar * dirent)\n@@ -1295,0 +1296,2 @@\n+  const gchar *target;\n+\n@@ -1300,0 +1303,30 @@\n+  \/* gst-integration-testsuites can end up with many log files *\/\n+  if (strcmp (dirent, \"gst-integration-testsuites\") == 0)\n+    return TRUE;\n+\n+  \/* Rust build dirs which may contain artefacts we should skip, can be\n+   * \/target\/{debug,release} or \/target\/{arch}\/{debug,release} *\/\n+  target = strstr (parent_path, \"\/target\/\");\n+\n+  \/* On Windows both forward and backward slashes may be used *\/\n+#ifdef G_OS_WIN32\n+  if (target == NULL)\n+    target = strstr (parent_path, \"\\\\target\\\\\");\n+#endif\n+\n+  if (target != NULL) {\n+    if (g_str_has_suffix (target + 7, \"\/debug\")\n+#ifdef G_OS_WIN32\n+        || g_str_has_suffix (target + 7, \"\\\\debug\")\n+        || g_str_has_suffix (target + 7, \"\\\\release\")\n+#endif\n+        || g_str_has_suffix (target + 7, \"\/release\")) {\n+      if (dirent[0] == '.'\n+          || strcmp (dirent, \"build\") == 0\n+          || strcmp (dirent, \"deps\") == 0\n+          || strcmp (dirent, \"incremental\") == 0) {\n+        return TRUE;\n+      }\n+    }\n+  }\n+\n@@ -1386,1 +1419,1 @@\n-      if (G_UNLIKELY (is_blacklisted_directory (dirent))) {\n+      if (G_UNLIKELY (skip_directory (path, dirent))) {\n@@ -1809,1 +1842,1 @@\n-#elif defined(__APPLE__) && defined(HAVE_DLADDR)\n+#elif defined(HAVE_DLADDR)\n@@ -1829,0 +1862,5 @@\n+#else\n+#warning \"Unsupported platform for retrieving the current location of a shared library.\"\n+#warning \"Relocatable builds will not work.\"\n+  GST_WARNING (\"Don't know how to retrieve the location of the shared \"\n+      \"library libgstreamer-\" GST_API_VERSION);\n@@ -2104,1 +2142,1 @@\n-static gboolean\n+static void\n@@ -2109,1 +2147,0 @@\n-  gboolean ret = TRUE;\n@@ -2163,3 +2200,1 @@\n-  GST_INFO (\"registry reading and updating done, result = %d\", ret);\n-\n-  return ret;\n+  GST_INFO (\"registry reading and updating done\");\n@@ -2228,2 +2263,0 @@\n-  gboolean res;\n-\n@@ -2234,1 +2267,1 @@\n-    res = ensure_current_registry (&err);\n+    ensure_current_registry (&err);\n@@ -2243,1 +2276,0 @@\n-    res = TRUE;\n@@ -2248,1 +2280,0 @@\n-  res = TRUE;\n@@ -2258,1 +2289,1 @@\n-  return res;\n+  return TRUE;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstregistry.c","additions":48,"deletions":17,"binary":false,"changes":65,"status":"modified"},{"patch":"@@ -196,0 +196,1 @@\n+  stream->stream_id = NULL;\n@@ -559,1 +560,0 @@\n-  \/* FIXME : Make this more flexible *\/\n@@ -571,3 +571,25 @@\n-    default:\n-      g_return_val_if_reached (\"invalid\");\n-      return \"invalid\";\n+    default:{\n+      gchar str[32] = { 0, };\n+\n+#define _GST_STREAM_TYPE_ALL          \\\n+        (GST_STREAM_TYPE_AUDIO        \\\n+         | GST_STREAM_TYPE_VIDEO      \\\n+         | GST_STREAM_TYPE_CONTAINER  \\\n+         | GST_STREAM_TYPE_TEXT)\n+\n+      if ((stype & (~_GST_STREAM_TYPE_ALL)) != 0)\n+        break;\n+\n+      if ((stype & GST_STREAM_TYPE_CONTAINER) != 0)\n+        g_strlcat (str, \"+container\", sizeof (str));\n+      if ((stype & GST_STREAM_TYPE_VIDEO) != 0)\n+        g_strlcat (str, \"+video\", sizeof (str));\n+      if ((stype & GST_STREAM_TYPE_AUDIO) != 0)\n+        g_strlcat (str, \"+audio\", sizeof (str));\n+      if ((stype & GST_STREAM_TYPE_TEXT) != 0)\n+        g_strlcat (str, \"+text\", sizeof (str));\n+\n+      g_assert (str[0] != '\\0');\n+\n+      return g_intern_string (str + 1);\n+    }\n@@ -575,0 +597,2 @@\n+\n+  g_return_val_if_reached (\"invalid\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gststreams.c","additions":28,"deletions":4,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -582,1 +582,1 @@\n- * @newstr: (transfer full) (allow-none): a new #GstStructure\n+ * @newstr: (transfer full) (nullable): a new #GstStructure\n@@ -1967,2 +1967,2 @@\n- * @value_flags: (out) (allow-none): a pointer to a guint for the flags field\n- * @value_mask: (out) (allow-none): a pointer to a guint for the mask field\n+ * @value_flags: (out) (optional): a pointer to a guint for the flags field\n+ * @value_mask: (out) (optional): a pointer to a guint for the mask field\n@@ -2049,1 +2049,2 @@\n-      t = _priv_gst_value_serialize_any_list (&field->value, \"< \", \" >\", FALSE);\n+      t = _priv_gst_value_serialize_any_list (&field->value, \"< \", \" >\", FALSE,\n+          flags);\n@@ -2051,1 +2052,2 @@\n-      t = _priv_gst_value_serialize_any_list (&field->value, \"{ \", \" }\", FALSE);\n+      t = _priv_gst_value_serialize_any_list (&field->value, \"{ \", \" }\", FALSE,\n+          flags);\n@@ -2393,1 +2395,1 @@\n- * @end: (out) (allow-none) (transfer none) (skip): pointer to store the end of the string in.\n+ * @end: (out) (optional) (transfer none) (skip): pointer to store the end of the string in.\n@@ -3160,1 +3162,1 @@\n- * Returns: (nullable): Intersection of @struct1 and @struct2\n+ * Returns: (transfer full) (nullable): Intersection of @struct1 and @struct2\n@@ -3504,0 +3506,40 @@\n+\n+\/**\n+ * gst_structure_get_flags:\n+ * @structure: a #GstStructure\n+ * @fieldname: the name of a field\n+ * @flags_type: the flags type of a field\n+ * @value: (out): a pointer to an unsigned int to set\n+ *\n+ * Sets the unsigned int pointed to by @value corresponding to the value of the\n+ * given field. Caller is responsible for making sure the field exists,\n+ * has the correct type and that the flagstype is correct.\n+ *\n+ * Returns: %TRUE if the value could be set correctly. If there was no field\n+ * with @fieldname or the existing field did not contain flags or\n+ * did not contain flags of the given type, this function returns %FALSE.\n+ *\n+ * Since: 1.22\n+ *\/\n+gboolean\n+gst_structure_get_flags (const GstStructure * structure,\n+    const gchar * fieldname, GType flags_type, guint * value)\n+{\n+  GstStructureField *field;\n+\n+  g_return_val_if_fail (structure != NULL, FALSE);\n+  g_return_val_if_fail (fieldname != NULL, FALSE);\n+  g_return_val_if_fail (flags_type != G_TYPE_INVALID, FALSE);\n+  g_return_val_if_fail (value != NULL, FALSE);\n+\n+  field = gst_structure_get_field (structure, fieldname);\n+\n+  if (field == NULL)\n+    return FALSE;\n+  if (!G_TYPE_CHECK_VALUE_TYPE (&field->value, flags_type))\n+    return FALSE;\n+\n+  *value = g_value_get_flags (&field->value);\n+\n+  return TRUE;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gststructure.c","additions":49,"deletions":7,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -349,0 +349,7 @@\n+\n+GST_API\n+gboolean              gst_structure_get_flags            (const GstStructure  * structure,\n+                                                          const gchar         * fieldname,\n+                                                          GType                 flags_type,\n+                                                          guint               * value);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gststructure.h","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-#if defined(HAVE_FUTEX)\n+#if defined(HAVE_FUTEX) || defined(HAVE_FUTEX_TIME64)\n@@ -84,0 +84,4 @@\n+#if !defined(__NR_futex) && !defined(__NR_futex_time64)\n+#error \"Neither __NR_futex nor __NR_futex_time64 are defined but were found by meson\"\n+#endif\n+\n@@ -132,0 +136,21 @@\n+#if defined(__NR_futex_time64)\n+  {\n+    int res;\n+    res = syscall (__NR_futex_time64, cond_val, (gsize) FUTEX_WAKE_PRIVATE,\n+        (gsize) INT_MAX, NULL);\n+\n+    \/* If the syscall does not exist (`ENOSYS`), we retry again below with the\n+     * normal `futex` syscall. This can happen if newer kernel headers are\n+     * used than the kernel that is actually running.\n+     *\/\n+#ifdef __NR_futex\n+    if (res >= 0 || errno != ENOSYS) {\n+#else\n+    {\n+#endif\n+      return;\n+    }\n+  }\n+#endif\n+\n+#if defined(__NR_futex)\n@@ -134,0 +159,1 @@\n+#endif\n@@ -139,1 +165,0 @@\n-  struct timespec end;\n@@ -147,3 +172,0 @@\n-  end.tv_sec = end_time \/ 1000000000;\n-  end.tv_nsec = end_time % 1000000000;\n-\n@@ -152,9 +174,84 @@\n-  \/* we use FUTEX_WAIT_BITSET_PRIVATE rather than FUTEX_WAIT_PRIVATE to be\n-   * able to use absolute time *\/\n-  res =\n-      syscall (__NR_futex, cond_val, (gsize) FUTEX_WAIT_BITSET_PRIVATE,\n-      (gsize) sampled, &end, NULL, FUTEX_BITSET_MATCH_ANY);\n-  success = (res < 0 && errno == ETIMEDOUT) ? FALSE : TRUE;\n-  g_mutex_lock (mutex);\n-\n-  return success;\n+\n+  \/* `struct timespec` as defined by the libc headers does not necessarily\n+   * have any relation to the one used by the kernel for the `futex` syscall.\n+   *\n+   * Specifically, the libc headers might use 64-bit `time_t` while the kernel\n+   * headers use 32-bit `__kernel_old_time_t` on certain systems.\n+   *\n+   * To get around this problem we\n+   *   a) check if `futex_time64` is available, which only exists on 32-bit\n+   *      platforms and always uses 64-bit `time_t`.\n+   *   b) otherwise (or if that returns `ENOSYS`), we call the normal `futex`\n+   *      syscall with the `struct timespec_t` used by the kernel, which uses\n+   *      `__kernel_long_t` for both its fields. We use that instead of\n+   *      `__kernel_old_time_t` because it is equivalent and available in the\n+   *      kernel headers for a longer time.\n+   *\n+   * Also some 32-bit systems do not define `__NR_futex` at all and only\n+   * define `__NR_futex_time64`.\n+   *\/\n+\n+#ifdef __NR_futex_time64\n+  {\n+    struct\n+    {\n+      gint64 tv_sec;\n+      gint64 tv_nsec;\n+    } end;\n+\n+    end.tv_sec = end_time \/ 1000000000;\n+    end.tv_nsec = end_time % 1000000000;\n+\n+    \/* we use FUTEX_WAIT_BITSET_PRIVATE rather than FUTEX_WAIT_PRIVATE to be\n+     * able to use absolute time *\/\n+    res =\n+        syscall (__NR_futex_time64, cond_val, (gsize) FUTEX_WAIT_BITSET_PRIVATE,\n+        (gsize) sampled, &end, NULL, FUTEX_BITSET_MATCH_ANY);\n+\n+    \/* If the syscall does not exist (`ENOSYS`), we retry again below with the\n+     * normal `futex` syscall. This can happen if newer kernel headers are\n+     * used than the kernel that is actually running.\n+     *\/\n+#ifdef __NR_futex\n+    if (res >= 0 || errno != ENOSYS) {\n+#else\n+    {\n+#endif\n+      success = (res < 0 && errno == ETIMEDOUT) ? FALSE : TRUE;\n+      g_mutex_lock (mutex);\n+\n+      return success;\n+    }\n+  }\n+#endif\n+\n+#ifdef __NR_futex\n+  {\n+    struct\n+    {\n+      __kernel_long_t tv_sec;\n+      __kernel_long_t tv_nsec;\n+    } end;\n+\n+    \/* Make sure to only ever call this if the end time actually fits into the\n+     * target type *\/\n+    g_assert (sizeof (__kernel_long_t) >= 8\n+        || end_time \/ 1000000000 <= G_MAXINT32);\n+\n+    end.tv_sec = end_time \/ 1000000000;\n+    end.tv_nsec = end_time % 1000000000;\n+\n+    \/* we use FUTEX_WAIT_BITSET_PRIVATE rather than FUTEX_WAIT_PRIVATE to be\n+     * able to use absolute time *\/\n+    res =\n+        syscall (__NR_futex, cond_val, (gsize) FUTEX_WAIT_BITSET_PRIVATE,\n+        (gsize) sampled, &end, NULL, FUTEX_BITSET_MATCH_ANY);\n+    success = (res < 0 && errno == ETIMEDOUT) ? FALSE : TRUE;\n+    g_mutex_lock (mutex);\n+\n+    return success;\n+  }\n+#endif\n+\n+  \/* We can't end up here because of the checks above *\/\n+  g_assert_not_reached ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstsystemclock.c","additions":111,"deletions":14,"binary":false,"changes":125,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -458,2 +458,1 @@\n-  g_value_take_string (dest, str->str);\n-  g_string_free (str, FALSE);\n+  g_value_take_string (dest, g_string_free (str, FALSE));\n@@ -512,1 +511,1 @@\n-  g_return_if_fail (type != 0 && type != GST_TYPE_LIST);\n+  g_return_if_fail (type != G_TYPE_INVALID && type != GST_TYPE_LIST);\n@@ -543,1 +542,1 @@\n-  g_return_if_fail (type != 0 && type != GST_TYPE_LIST);\n+  g_return_if_fail (type != G_TYPE_INVALID && type != GST_TYPE_LIST);\n@@ -608,1 +607,1 @@\n- * Returns: (nullable): the human-readable name of this tag\n+ * Returns: the human-readable name of this tag\n@@ -633,1 +632,1 @@\n- * Returns: (nullable): the human-readable description of this tag\n+ * Returns: the human-readable description of this tag\n@@ -866,2 +865,2 @@\n- * Returns: (nullable): a newly-allocated string, or %NULL in case of\n- *     an error. The string must be freed with g_free() when no longer\n+ * Returns: (transfer full): a newly-allocated string.\n+ *     The string must be freed with g_free() when no longer\n@@ -884,1 +883,1 @@\n- * Returns: (nullable): a new #GstTagList, or %NULL in case of an\n+ * Returns: (transfer full) (nullable): a new #GstTagList, or %NULL in case of an\n@@ -1151,2 +1150,2 @@\n- * @list1: (allow-none): first list to merge\n- * @list2: (allow-none): second list to merge\n+ * @list1: (nullable): first list to merge\n+ * @list2: (nullable): second list to merge\n@@ -2081,1 +2080,1 @@\n- * Returns: the new #GstTagList\n+ * Returns: (transfer full): the new #GstTagList\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttaglist.c","additions":12,"deletions":13,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -172,1 +172,1 @@\n- * @tags: (allow-none) (transfer full): A #GstTagList or %NULL\n+ * @tags: (nullable) (transfer full): A #GstTagList or %NULL\n@@ -190,1 +190,1 @@\n- * @tags: (allow-none): A #GstTagList or %NULL\n+ * @tags: (nullable): A #GstTagList or %NULL\n@@ -216,1 +216,1 @@\n- * Returns: (transfer none): A #GstTagList for @entry\n+ * Returns: (transfer none) (nullable): A #GstTagList for @entry\n@@ -293,1 +293,1 @@\n- * Returns: newly allocated #GstTocEntry structure, free it with gst_toc_entry_unref().\n+ * Returns: (transfer full): newly allocated #GstTocEntry structure, free it with gst_toc_entry_unref().\n@@ -418,2 +418,1 @@\n- * Returns: (nullable): newly allocated #GstTocEntry in case of\n- * success, %NULL otherwise; free it when done with\n+ * Returns: (transfer full): newly allocated #GstTocEntry; free it when done with\n@@ -453,2 +452,1 @@\n- * Returns: (nullable): newly allocated #GstToc in case of success,\n- * %NULL otherwise; free it when done with gst_toc_unref().\n+ * Returns: (transfer full): newly allocated #GstToc; free it when done with gst_toc_unref().\n@@ -498,1 +496,1 @@\n- * @start: (out) (allow-none): the storage for the start value, leave\n+ * @start: (out) (optional): the storage for the start value, leave\n@@ -500,1 +498,1 @@\n- * @stop: (out) (allow-none): the storage for the stop value, leave\n+ * @stop: (out) (optional): the storage for the stop value, leave\n@@ -546,1 +544,1 @@\n- * @loop_type: (out) (allow-none): the storage for the loop_type\n+ * @loop_type: (out) (optional): the storage for the loop_type\n@@ -548,1 +546,1 @@\n- * @repeat_count: (out) (allow-none): the storage for the repeat_count\n+ * @repeat_count: (out) (optional): the storage for the repeat_count\n@@ -711,1 +709,1 @@\n- * @tags: (allow-none) (transfer full): A #GstTagList or %NULL\n+ * @tags: (nullable) (transfer full): A #GstTagList or %NULL\n@@ -729,1 +727,1 @@\n- * @tags: (allow-none): A #GstTagList or %NULL\n+ * @tags: (nullable): A #GstTagList or %NULL\n@@ -756,1 +754,1 @@\n- * Returns: (transfer none): A #GstTagList for @entry\n+ * Returns: (nullable) (transfer none): A #GstTagList for @entry\n@@ -772,1 +770,1 @@\n- * Returns: (transfer none): The parent #GstToc of @entry\n+ * Returns: (transfer none) (nullable): The parent #GstToc of @entry\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttoc.c","additions":14,"deletions":16,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -57,1 +57,3 @@\n-  \"object-reffed\", \"object-unreffed\", \"plugin-feature-loaded\"\n+  \"object-reffed\", \"object-unreffed\", \"plugin-feature-loaded\",\n+  \"pad-chain-pre\", \"pad-chain-post\", \"pad-chain-list-pre\",\n+  \"pad-chain-list-post\",\n@@ -101,1 +103,15 @@\n-        gchar *end = strchr (&params[1], ')');\n+        \/\/ params can contain multiple '(' when using this kind of parameter: 'max-buffer-size=(uint)5'\n+        guint n_par = 1, j;\n+        gchar *end = NULL;\n+\n+        for (j = 1; params[j] != '\\0'; j++) {\n+          if (params[j] == '(')\n+            n_par++;\n+          else if (params[j] == ')') {\n+            n_par--;\n+            if (n_par == 0) {\n+              end = &params[j];\n+              break;\n+            }\n+          }\n+        }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttracerutils.c","additions":18,"deletions":2,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -83,0 +83,4 @@\n+  GST_TRACER_QUARK_HOOK_PAD_CHAIN_PRE,\n+  GST_TRACER_QUARK_HOOK_PAD_CHAIN_POST,\n+  GST_TRACER_QUARK_HOOK_PAD_CHAIN_LIST_PRE,\n+  GST_TRACER_QUARK_HOOK_PAD_CHAIN_LIST_POST,\n@@ -725,0 +729,112 @@\n+\/**\n+ * GstTracerHookPadChainPre:\n+ * @self: the tracer instance\n+ * @ts: the current timestamp\n+ * @pad: the pad\n+ * @buffer: the buffer\n+ *\n+ * Pre-hook for gst_pad_chain() named \"pad-chain-pre\".\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef void (*GstTracerHookPadChainPre) (GObject *self, GstClockTime ts,\n+    GstPad *pad, GstBuffer *buffer);\n+\n+\/**\n+ * GST_TRACER_PAD_CHAIN_PRE:\n+ * @pad: a %GstPad\n+ * @buffer: a %GstBuffer\n+ *\n+ * Dispatches the \"pad-chain-pre\" hook.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_TRACER_PAD_CHAIN_PRE(pad, buffer) G_STMT_START{ \\\n+  GST_TRACER_DISPATCH(GST_TRACER_QUARK(HOOK_PAD_CHAIN_PRE), \\\n+    GstTracerHookPadChainPre, (GST_TRACER_ARGS, pad, buffer)); \\\n+}G_STMT_END\n+\n+\/**\n+ * GstTracerHookPadChainPost:\n+ * @self: the tracer instance\n+ * @ts: the current timestamp\n+ * @pad: the pad\n+ * @res: the result of gst_pad_chain()\n+ *\n+ * Post-hook for gst_pad_chain() named \"pad-chain-post\".\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef void (*GstTracerHookPadChainPost) (GObject * self, GstClockTime ts,\n+    GstPad *pad, GstFlowReturn res);\n+\n+\/**\n+ * GST_TRACER_PAD_CHAIN_POST:\n+ * @pad: a %GstPad\n+ * @res: a %GstFlowReturn\n+ *\n+ * Dispatches the \"pad-chain-post\" hook.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_TRACER_PAD_CHAIN_POST(pad, res) G_STMT_START{ \\\n+  GST_TRACER_DISPATCH(GST_TRACER_QUARK(HOOK_PAD_CHAIN_POST), \\\n+    GstTracerHookPadChainPost, (GST_TRACER_ARGS, pad, res)); \\\n+}G_STMT_END\n+\n+\/**\n+ * GstTracerHookPadChainListPre:\n+ * @self: the tracer instance\n+ * @ts: the current timestamp\n+ * @pad: the pad\n+ * @list: the buffer-list\n+ *\n+ * Pre-hook for gst_pad_chain_list() named \"pad-chain-list-pre\".\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef void (*GstTracerHookPadChainListPre) (GObject *self, GstClockTime ts,\n+    GstPad *pad, GstBufferList *list);\n+\n+\/**\n+ * GST_TRACER_PAD_CHAIN_LIST_PRE:\n+ * @pad: a %GstPad\n+ * @list: a %GstBufferList\n+ *\n+ * Dispatches the \"pad-chain-list-pre\" hook.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_TRACER_PAD_CHAIN_LIST_PRE(pad, list) G_STMT_START{ \\\n+  GST_TRACER_DISPATCH(GST_TRACER_QUARK(HOOK_PAD_CHAIN_LIST_PRE), \\\n+    GstTracerHookPadChainListPre, (GST_TRACER_ARGS, pad, list)); \\\n+}G_STMT_END\n+\n+\/**\n+ * GstTracerHookPadChainListPost:\n+ * @self: the tracer instance\n+ * @ts: the current timestamp\n+ * @pad: the pad\n+ * @res: the result of gst_pad_chain_list()\n+ *\n+ * Post-hook for gst_pad_chain_list() named \"pad-chain-list-post\".\n+ *\n+ * Since: 1.22\n+ *\/\n+typedef void (*GstTracerHookPadChainListPost) (GObject *self, GstClockTime ts,\n+    GstPad *pad,\n+    GstFlowReturn res);\n+\n+\/**\n+ * GST_TRACER_PAD_CHAIN_LIST_POST:\n+ * @pad: a %GstPad\n+ * @res: a %GstFlowReturn\n+ *\n+ * Dispatches the \"pad-chain-list-post\" hook.\n+ *\n+ * Since: 1.22\n+ *\/\n+#define GST_TRACER_PAD_CHAIN_LIST_POST(pad, res) G_STMT_START{ \\\n+  GST_TRACER_DISPATCH(GST_TRACER_QUARK(HOOK_PAD_CHAIN_LIST_POST), \\\n+    GstTracerHookPadChainListPost, (GST_TRACER_ARGS, pad, res)); \\\n+}G_STMT_END\n@@ -775,0 +891,4 @@\n+#define GST_TRACER_PAD_CHAIN_PRE(pad, buffer)\n+#define GST_TRACER_PAD_CHAIN_POST(pad, res)\n+#define GST_TRACER_PAD_CHAIN_LIST_PRE(pad, list)\n+#define GST_TRACER_PAD_CHAIN_LIST_POST(pad, res)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttracerutils.h","additions":120,"deletions":0,"binary":false,"changes":120,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n- * Returns: (transfer none) (array length=size) (nullable): the\n+ * Returns: (transfer none) (nullable): the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttypefind.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -503,2 +503,1 @@\n- * Returns: (transfer full): a new string for this URI. Returns %NULL if the\n- *     given URI protocol is not valid, or the given location is %NULL.\n+ * Returns: (transfer full): a new string for this URI.\n@@ -620,2 +619,2 @@\n- * @elementname: (allow-none): Name of created element, can be %NULL.\n- * @error: (allow-none): address where to store error information, or %NULL.\n+ * @elementname: (nullable): Name of created element, can be %NULL.\n+ * @error: address where to store error information, or %NULL.\n@@ -735,1 +734,1 @@\n- * Returns: (transfer none) (element-type utf8) (nullable): the\n+ * Returns: (transfer none) (element-type utf8) (nullable) (array zero-terminated=1): the\n@@ -791,1 +790,1 @@\n- * @error: (allow-none): address where to store a #GError in case of\n+ * @error: address where to store a #GError in case of\n@@ -919,1 +918,1 @@\n- * Returns: newly-allocated URI string, or NULL on error. The caller must\n+ * Returns: (nullable): newly-allocated URI string, or NULL on error. The caller must\n@@ -1318,1 +1317,1 @@\n-          new_list = g_list_append (new_list, NULL);\n+          new_list = g_list_prepend (new_list, NULL);\n@@ -1334,1 +1333,1 @@\n-          new_list = g_list_append (new_list, g_strdup (elem));\n+          new_list = g_list_prepend (new_list, g_strdup (elem));\n@@ -1343,1 +1342,1 @@\n-  return new_list;\n+  return g_list_reverse (new_list);\n@@ -1693,1 +1692,1 @@\n- * Returns: (transfer full): A new #GstUri object.\n+ * Returns: (transfer full) (nullable): A new #GstUri object.\n@@ -1706,0 +1705,3 @@\n+  if (!new_rel_uri)\n+    return NULL;\n+\n@@ -1920,1 +1922,1 @@\n- * Returns: (transfer full): A string representing the percent-encoded join of\n+ * Returns: (transfer full) (nullable): A string representing the percent-encoded join of\n@@ -1932,0 +1934,3 @@\n+  if (!base)\n+    return NULL;\n+\n@@ -1933,0 +1938,5 @@\n+  if (!result) {\n+    gst_uri_unref (base);\n+    return NULL;\n+  }\n+\n@@ -2062,1 +2072,1 @@\n- * @uri: The #GstUri to test to see if it is normalized.\n+ * @uri: (nullable): The #GstUri to test to see if it is normalized.\n@@ -2169,0 +2179,3 @@\n+  if (uri->scheme == scheme)\n+    return TRUE;\n+\n@@ -2211,0 +2224,2 @@\n+  if (uri->userinfo == userinfo)\n+    return TRUE;\n@@ -2253,0 +2268,3 @@\n+  if (uri->host == host)\n+    return TRUE;\n+\n@@ -2302,1 +2320,1 @@\n- * @uri: The #GstUri to get the path from.\n+ * @uri: (nullable): The #GstUri to get the path from.\n@@ -2341,1 +2359,1 @@\n- * @path: The new path to set with path segments separated by '\/', or use %NULL\n+ * @path: (nullable): The new path to set with path segments separated by '\/', or use %NULL\n@@ -2365,1 +2383,1 @@\n- * @uri: The #GstUri to get the path from.\n+ * @uri: (nullable): The #GstUri to get the path from.\n@@ -2487,1 +2505,1 @@\n- * @relative_path: Relative path to append to the end of the current path.\n+ * @relative_path: (nullable): Relative path to append to the end of the current path.\n@@ -2525,1 +2543,1 @@\n- * @path_segment: The path segment string to append to the URI path.\n+ * @path_segment: (nullable): The path segment string to append to the URI path.\n@@ -2597,1 +2615,1 @@\n- * @query: The new percent encoded query string to use to populate the query\n+ * @query: (nullable): The new percent encoded query string to use to populate the query\n@@ -2672,0 +2690,3 @@\n+  if (uri->query == query_table)\n+    return TRUE;\n+\n@@ -2856,0 +2877,3 @@\n+  if (uri->fragment == fragment)\n+    return TRUE;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsturi.c","additions":44,"deletions":20,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-#include \"gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -202,1 +202,2 @@\n-  GST_DEBUG (\"pspec->flags is %d, pspec->value_type is %s\",\n+  GST_CAT_DEBUG_OBJECT (GST_CAT_PARAMS, object,\n+      \"pspec->flags is %d, pspec->value_type is %s\",\n@@ -1120,1 +1121,1 @@\n- * @caps: (allow-none): the #GstCaps to use as a filter.\n+ * @caps: (nullable): the #GstCaps to use as a filter.\n@@ -1148,3 +1149,2 @@\n-  GST_CAT_DEBUG (GST_CAT_ELEMENT_PADS,\n-      \"finding pad in %s compatible with %s:%s\",\n-      GST_ELEMENT_NAME (element), GST_DEBUG_PAD_NAME (pad));\n+  GST_CAT_DEBUG_OBJECT (GST_CAT_ELEMENT_PADS, element,\n+      \"finding pad compatible with %s:%s\", GST_DEBUG_PAD_NAME (pad));\n@@ -1176,2 +1176,2 @@\n-        GST_CAT_LOG (GST_CAT_ELEMENT_PADS, \"examining pad %s:%s\",\n-            GST_DEBUG_PAD_NAME (current));\n+        GST_CAT_LOG_OBJECT (GST_CAT_ELEMENT_PADS, element,\n+            \"examining pad %s:%s\", GST_DEBUG_PAD_NAME (current));\n@@ -1207,1 +1207,1 @@\n-            GST_CAT_DEBUG (GST_CAT_ELEMENT_PADS,\n+            GST_CAT_DEBUG_OBJECT (GST_CAT_ELEMENT_PADS, element,\n@@ -1265,1 +1265,1 @@\n-    GST_CAT_DEBUG (GST_CAT_ELEMENT_PADS,\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_ELEMENT_PADS, element,\n@@ -1621,2 +1621,3 @@\n-    GST_WARNING (\"Trying to ghost a pad that doesn't have a parent: %\"\n-        GST_PTR_FORMAT, *src);\n+    GST_CAT_WARNING (GST_CAT_ELEMENT_PADS,\n+        \"Trying to ghost a pad that doesn't have a parent: %\" GST_PTR_FORMAT,\n+        *src);\n@@ -1626,2 +1627,3 @@\n-    GST_WARNING (\"Trying to ghost a pad that doesn't have a parent: %\"\n-        GST_PTR_FORMAT, *sink);\n+    GST_CAT_WARNING (GST_CAT_ELEMENT_PADS,\n+        \"Trying to ghost a pad that doesn't have a parent: %\" GST_PTR_FORMAT,\n+        *sink);\n@@ -1782,1 +1784,1 @@\n- * @srcpadname: (allow-none): the name of the #GstPad in source element\n+ * @srcpadname: (nullable): the name of the #GstPad in source element\n@@ -1785,1 +1787,1 @@\n- * @destpadname: (allow-none): the name of the #GstPad in destination element,\n+ * @destpadname: (nullable): the name of the #GstPad in destination element,\n@@ -2105,1 +2107,1 @@\n- * @srcpadname: (allow-none): the name of the #GstPad in source element\n+ * @srcpadname: (nullable): the name of the #GstPad in source element\n@@ -2108,1 +2110,1 @@\n- * @destpadname: (allow-none): the name of the #GstPad in destination element,\n+ * @destpadname: (nullable): the name of the #GstPad in destination element,\n@@ -2129,1 +2131,1 @@\n- * @srcpadname: (allow-none): the name of the #GstPad in source element\n+ * @srcpadname: (nullable): the name of the #GstPad in source element\n@@ -2132,1 +2134,1 @@\n- * @destpadname: (allow-none): the name of the #GstPad in destination element\n+ * @destpadname: (nullable): the name of the #GstPad in destination element\n@@ -2134,1 +2136,1 @@\n- * @filter: (transfer none) (allow-none): the #GstCaps to filter the link,\n+ * @filter: (transfer none) (nullable): the #GstCaps to filter the link,\n@@ -2161,1 +2163,1 @@\n-      GST_ERROR (\"Could not make a capsfilter\");\n+      GST_CAT_ERROR (GST_CAT_ELEMENT_PADS, \"Could not make a capsfilter\");\n@@ -2171,1 +2173,1 @@\n-      GST_ERROR (\"Could not add capsfilter\");\n+      GST_CAT_ERROR (GST_CAT_ELEMENT_PADS, \"Could not add capsfilter\");\n@@ -2277,1 +2279,1 @@\n- * @filter: (transfer none) (allow-none): the #GstCaps to filter the link,\n+ * @filter: (transfer none) (nullable): the #GstCaps to filter the link,\n@@ -2330,1 +2332,2 @@\n-    GST_WARNING_OBJECT (src, \"source element has no pad \\\"%s\\\"\", srcpadname);\n+    GST_CAT_WARNING_OBJECT (GST_CAT_ELEMENT_PADS, src,\n+        \"source element has no pad \\\"%s\\\"\", srcpadname);\n@@ -2337,2 +2340,2 @@\n-    GST_WARNING_OBJECT (dest, \"destination element has no pad \\\"%s\\\"\",\n-        destpadname);\n+    GST_CAT_WARNING_OBJECT (GST_CAT_ELEMENT_PADS, dest,\n+        \"destination element has no pad \\\"%s\\\"\", destpadname);\n@@ -2454,1 +2457,1 @@\n- * @cur: (out) (allow-none): a location in which to store the current\n+ * @cur: (out) (optional): a location in which to store the current\n@@ -2497,1 +2500,1 @@\n- * @duration: (out) (allow-none): A location in which to store the total duration, or %NULL.\n+ * @duration: (out) (optional): A location in which to store the total duration, or %NULL.\n@@ -2562,0 +2565,2 @@\n+  *dest_val = -1;\n+\n@@ -2664,1 +2669,1 @@\n- * @debug: (in) (allow-none): an additional debug information string, or %NULL\n+ * @debug: (in) (nullable): an additional debug information string, or %NULL\n@@ -2814,1 +2819,2 @@\n-    GST_DEBUG_OBJECT (pad, \"intersect with result %\" GST_PTR_FORMAT, peercaps);\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_PADS, pad,\n+        \"intersect with result %\" GST_PTR_FORMAT, peercaps);\n@@ -2816,1 +2822,2 @@\n-    GST_DEBUG_OBJECT (pad, \"intersected %\" GST_PTR_FORMAT, intersection);\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_PADS, pad,\n+        \"intersected %\" GST_PTR_FORMAT, intersection);\n@@ -2878,1 +2885,1 @@\n- * @cur: (out) (allow-none): A location in which to store the current position, or %NULL.\n+ * @cur: (out) (optional): A location in which to store the current position, or %NULL.\n@@ -2909,1 +2916,1 @@\n- * @cur: (out) (allow-none): a location in which to store the current\n+ * @cur: (out) (optional): a location in which to store the current\n@@ -2940,1 +2947,1 @@\n- * @duration: (out) (allow-none): a location in which to store the total\n+ * @duration: (out) (optional): a location in which to store the total\n@@ -2972,1 +2979,1 @@\n- * @duration: (out) (allow-none): a location in which to store the total\n+ * @duration: (out) (optional): a location in which to store the total\n@@ -3028,0 +3035,2 @@\n+  *dest_val = -1;\n+\n@@ -3062,0 +3071,2 @@\n+  *dest_val = -1;\n+\n@@ -3073,1 +3084,1 @@\n- * @filter: (allow-none): suggested #GstCaps, or %NULL\n+ * @filter: (nullable): suggested #GstCaps, or %NULL\n@@ -3124,1 +3135,1 @@\n- * @filter: (allow-none): a #GstCaps filter, or %NULL.\n+ * @filter: (nullable): a #GstCaps filter, or %NULL.\n@@ -3191,1 +3202,1 @@\n-    GST_DEBUG_OBJECT (pad, \"query returned %d\", res);\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_CAPS, pad, \"query returned %d\", res);\n@@ -3220,1 +3231,1 @@\n-    GST_DEBUG_OBJECT (pad, \"query returned %d\", res);\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_CAPS, pad, \"query returned %d\", res);\n@@ -3253,2 +3264,2 @@\n-        GST_CAT_LOG (GST_CAT_ELEMENT_PADS, \"examining pad %s:%s\",\n-            GST_DEBUG_PAD_NAME (pad));\n+        GST_CAT_LOG_OBJECT (GST_CAT_ELEMENT_PADS, element,\n+            \"examining pad %s:%s\", GST_DEBUG_PAD_NAME (pad));\n@@ -3260,1 +3271,1 @@\n-          GST_CAT_DEBUG (GST_CAT_ELEMENT_PADS,\n+          GST_CAT_DEBUG_OBJECT (GST_CAT_ELEMENT_PADS, element,\n@@ -3426,1 +3437,1 @@\n- * @context: (transfer none) (allow-none): a parse context allocated with\n+ * @context: (transfer none) (nullable): a parse context allocated with\n@@ -4068,1 +4079,1 @@\n- * @stream_id: (allow-none): The stream-id\n+ * @stream_id: (nullable): The stream-id\n@@ -4107,1 +4118,1 @@\n- * @stream_id: (allow-none): The stream-id\n+ * @stream_id: (nullable): The stream-id\n@@ -4145,1 +4156,1 @@\n- * @stream_id: (allow-none): The stream-id\n+ * @stream_id: (nullable): The stream-id\n@@ -4207,1 +4218,1 @@\n-    GST_LOG_OBJECT (pad, \"pad has stream-id '%s'\", ret);\n+    GST_CAT_LOG_OBJECT (GST_CAT_PADS, pad, \"pad has stream-id '%s'\", ret);\n@@ -4209,1 +4220,2 @@\n-    GST_DEBUG_OBJECT (pad, \"pad has not received a stream-start event yet\");\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_PADS, pad,\n+        \"pad has not received a stream-start event yet\");\n@@ -4242,1 +4254,1 @@\n-    GST_LOG_OBJECT (pad, \"pad has stream object %p\", stream);\n+    GST_CAT_LOG_OBJECT (GST_CAT_PADS, pad, \"pad has stream object %p\", stream);\n@@ -4244,1 +4256,2 @@\n-    GST_DEBUG_OBJECT (pad, \"pad has not received a stream-start event yet\");\n+    GST_CAT_DEBUG_OBJECT (GST_CAT_PADS, pad,\n+        \"pad has not received a stream-start event yet\");\n@@ -4568,1 +4581,1 @@\n- * @flags: (out) (nullable): What #GstPluginAPIFlags the plugin was marked with\n+ * @flags: (out) (optional): What #GstPluginAPIFlags the plugin was marked with\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstutils.c","additions":65,"deletions":52,"binary":false,"changes":117,"status":"modified"},{"patch":"@@ -351,1 +351,1 @@\n-    const gchar * end, gboolean print_type)\n+    const gchar * end, gboolean print_type, GstSerializeFlags flags)\n@@ -364,0 +364,1 @@\n+    gboolean nested_structs_brackets;\n@@ -365,1 +366,10 @@\n-    s_val = gst_value_serialize (v);\n+    nested_structs_brackets = !(flags & GST_SERIALIZE_FLAG_BACKWARD_COMPAT)\n+        && (GST_VALUE_HOLDS_STRUCTURE (v) || GST_VALUE_HOLDS_CAPS (v));\n+    if (!nested_structs_brackets) {\n+      s_val = gst_value_serialize (v);\n+    } else {\n+      if (GST_VALUE_HOLDS_STRUCTURE (v))\n+        s_val = gst_structure_serialize (gst_value_get_structure (v), flags);\n+      else if (GST_VALUE_HOLDS_CAPS (v))\n+        s_val = gst_caps_serialize (gst_value_get_caps (v), flags);\n+    }\n@@ -372,0 +382,3 @@\n+\n+      if (nested_structs_brackets)\n+        g_string_append_c (s, '[');\n@@ -373,0 +386,2 @@\n+      if (nested_structs_brackets)\n+        g_string_append_c (s, ']');\n@@ -378,1 +393,1 @@\n-      GST_WARNING (\"Could not serialize list\/array value of type '%s'\",\n+      g_critical (\"Could not serialize list\/array value of type '%s'\",\n@@ -445,1 +460,1 @@\n-      GST_WARNING (\"Could not serialize list\/array value of type '%s'\",\n+      g_critical (\"Could not serialize list\/array value of type '%s'\",\n@@ -1245,1 +1260,2 @@\n-  return _priv_gst_value_serialize_any_list (value, \"{ \", \" }\", TRUE);\n+  return _priv_gst_value_serialize_any_list (value, \"{ \", \" }\", TRUE,\n+      GST_SERIALIZE_FLAG_BACKWARD_COMPAT);\n@@ -1259,1 +1275,2 @@\n-  return _priv_gst_value_serialize_any_list (value, \"< \", \" >\", TRUE);\n+  return _priv_gst_value_serialize_any_list (value, \"< \", \" >\", TRUE,\n+      GST_SERIALIZE_FLAG_BACKWARD_COMPAT);\n@@ -2320,0 +2337,2 @@\n+      {\"gdatetime\", G_TYPE_DATE_TIME}\n+      ,\n@@ -4183,8 +4202,8 @@\n-    if (fl != NULL) {\n-      tmp = g_strconcat (result, (first ? \"\" : \"+\"), fl->value_name, NULL);\n-      g_free (result);\n-      result = tmp;\n-      first = FALSE;\n-\n-      \/* clear flag *\/\n-      flags &= ~fl->value;\n+    if (fl == NULL) {\n+      if (flags) {\n+        g_critical (\"Could not serialize invalid flags 0x%x of type %s\",\n+            flags, G_VALUE_TYPE_NAME (value));\n+        g_free (result);\n+        result = g_strdup (\"0\");\n+      }\n+      break;\n@@ -4192,0 +4211,8 @@\n+\n+    tmp = g_strconcat (result, (first ? \"\" : \"+\"), fl->value_name, NULL);\n+    g_free (result);\n+    result = tmp;\n+    first = FALSE;\n+\n+    \/* clear flag *\/\n+    flags &= ~fl->value;\n@@ -7271,1 +7298,1 @@\n-\/*************\n+\/***************\n@@ -7273,1 +7300,1 @@\n- *************\/\n+ ***************\/\n@@ -7336,0 +7363,105 @@\n+\/*************\n+ * GDateTime *\n+ *************\/\n+\n+static gint\n+gst_value_compare_g_date_time (const GValue * value1, const GValue * value2)\n+{\n+  const GDateTime *date1 = (const GDateTime *) g_value_get_boxed (value1);\n+  const GDateTime *date2 = (const GDateTime *) g_value_get_boxed (value2);\n+\n+  if (date1 == date2)\n+    return GST_VALUE_EQUAL;\n+\n+  if ((date1 == NULL) && (date2 != NULL)) {\n+    return GST_VALUE_LESS_THAN;\n+  }\n+  if ((date2 == NULL) && (date1 != NULL)) {\n+    return GST_VALUE_LESS_THAN;\n+  }\n+\n+  return g_date_time_compare (date1, date2);\n+}\n+\n+#ifndef GSTREAMER_LITE\n+static gchar *\n+gst_value_serialize_g_date_time (const GValue * val)\n+{\n+  GDateTime *date = (GDateTime *) g_value_get_boxed (val);\n+\n+  if (date == NULL)\n+    return g_strdup (\"null\");\n+\n+  return g_date_time_format_iso8601 (date);\n+}\n+\n+static gboolean\n+gst_value_deserialize_g_date_time (GValue * dest, const gchar * s)\n+{\n+  GDateTime *datetime;\n+\n+  if (!s || strcmp (s, \"null\") == 0) {\n+    return FALSE;\n+  }\n+\n+  \/* The Gstreamer iso8601 parser is a bit more forgiving *\/\n+  datetime =\n+      gst_date_time_to_g_date_time (gst_date_time_new_from_iso8601_string (s));\n+  if (datetime != NULL) {\n+    g_value_take_boxed (dest, datetime);\n+    return TRUE;\n+  }\n+  GST_WARNING (\"Failed to deserialize date time string '%s' to GLibDateTime\",\n+      s);\n+  return FALSE;\n+}\n+#endif \/\/ GSTREAMER_LITE\n+\n+\/*********\n+ * bytes *\n+ *********\/\n+\n+static gint\n+gst_value_compare_bytes (const GValue * value1, const GValue * value2)\n+{\n+  GBytes *bytes1 = (GBytes *) g_value_get_boxed (value1);\n+  GBytes *bytes2 = (GBytes *) g_value_get_boxed (value2);\n+\n+  if (G_UNLIKELY (!bytes1 || !bytes2)) {\n+    if (bytes1 == bytes2)\n+      return GST_VALUE_EQUAL;\n+    else\n+      return GST_VALUE_UNORDERED;\n+  }\n+\n+  return g_bytes_compare (bytes1, bytes2);\n+}\n+\n+static gchar *\n+gst_value_serialize_bytes (const GValue * value)\n+{\n+  GBytes *bytes = (GBytes *) g_value_get_boxed (value);\n+  gsize len = 0;\n+  const guint8 *data;\n+\n+  data = bytes ? g_bytes_get_data (bytes, &len) : NULL;\n+\n+  return g_base64_encode (data, len);\n+}\n+\n+static gboolean\n+gst_value_deserialize_bytes (GValue * dest, const gchar * s)\n+{\n+  gsize len;\n+  guint8 *data;\n+\n+  if (!s) {\n+    g_value_set_boxed (dest, g_bytes_new (NULL, 0));\n+    return TRUE;\n+  }\n+\n+  data = g_base64_decode (s, &len);\n+  g_value_set_boxed (dest, g_bytes_new_take (data, len));\n+  return TRUE;\n+}\n+\n@@ -7732,1 +7864,1 @@\n-      if (flags_type == 0) {\n+      if (flags_type == G_TYPE_INVALID) {\n@@ -7737,1 +7869,1 @@\n-      if (flags_type != 0) {\n+      if (flags_type != G_TYPE_INVALID) {\n@@ -8081,0 +8213,1 @@\n+  REGISTER_SERIALIZATION (G_TYPE_BYTES, bytes);\n@@ -8082,0 +8215,3 @@\n+  #ifndef GSTREAMER_LITE\n+  REGISTER_SERIALIZATION (G_TYPE_DATE_TIME, g_date_time);\n+  #endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstvalue.c","additions":154,"deletions":18,"binary":false,"changes":172,"status":"modified"},{"patch":"@@ -922,1 +922,2 @@\n-  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)) {\n+  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)\n+      || gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory_reference)) {\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstadapter.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -239,0 +239,2 @@\n+  \/* Tracks whether the latency message was posted at least once *\/\n+  gboolean posted_latency_msg;\n@@ -907,0 +909,1 @@\n+  parse->priv->posted_latency_msg = FALSE;\n@@ -1585,0 +1588,10 @@\n+    case GST_QUERY_BITRATE:\n+    {\n+      if (parse->priv->avg_bitrate) {\n+        gst_query_set_bitrate (query, parse->priv->avg_bitrate);\n+        res = TRUE;\n+      } else {\n+        res = gst_pad_query_default (pad, GST_OBJECT_CAST (parse), query);\n+      }\n+      break;\n+    }\n@@ -4093,1 +4106,1 @@\n- * by the parsing process.  If there is such a latency, which depends on the\n+ * by the parsing process. If there is such a latency, which depends on the\n@@ -4095,0 +4108,4 @@\n+ *\n+ * If the provided values changed from previously provided ones, this will\n+ * also post a LATENCY message on the bus so the pipeline can reconfigure its\n+ * global latency.\n@@ -4100,0 +4117,2 @@\n+  gboolean post_message = FALSE;\n+\n@@ -4103,4 +4122,0 @@\n-  GST_OBJECT_LOCK (parse);\n-  parse->priv->min_latency = min_latency;\n-  parse->priv->max_latency = max_latency;\n-  GST_OBJECT_UNLOCK (parse);\n@@ -4110,0 +4125,19 @@\n+\n+  GST_OBJECT_LOCK (parse);\n+  if (parse->priv->min_latency != min_latency) {\n+    parse->priv->min_latency = min_latency;\n+    post_message = TRUE;\n+  }\n+  if (parse->priv->max_latency != max_latency) {\n+    parse->priv->max_latency = max_latency;\n+    post_message = TRUE;\n+  }\n+  if (!parse->priv->posted_latency_msg) {\n+    parse->priv->posted_latency_msg = TRUE;\n+    post_message = TRUE;\n+  }\n+  GST_OBJECT_UNLOCK (parse);\n+\n+  if (post_message)\n+    gst_element_post_message (GST_ELEMENT_CAST (parse),\n+        gst_message_new_latency (GST_OBJECT_CAST (parse)));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbaseparse.c","additions":39,"deletions":5,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -150,1 +150,1 @@\n-#include <gst\/gst-i18n-lib.h>\n+#include <glib\/gi18n-lib.h>\n@@ -3667,0 +3667,3 @@\n+    case GST_EVENT_STREAM_START:\n+      basesink->priv->received_eos = FALSE;\n+      \/* fallthrough *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesink.c","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -155,1 +155,1 @@\n-   * GstBaseSink::get_caps:\n+   * GstBaseSinkClass::get_caps:\n@@ -170,1 +170,1 @@\n-   * GstBaseSink::get_times:\n+   * GstBaseSinkClass::get_times:\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesink.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -155,1 +155,1 @@\n-#include <gst\/gst-i18n-lib.h>\n+#include <glib\/gi18n-lib.h>\n@@ -1345,1 +1345,1 @@\n-      GstCaps *caps, *filter;\n+      GstCaps *caps = NULL, *filter;\n@@ -1348,1 +1348,5 @@\n-      if (bclass->get_caps) {\n+      if (GST_PAD_IS_FIXED_CAPS (src->srcpad)) {\n+        caps = gst_pad_get_current_caps (src->srcpad);\n+      }\n+\n+      if (caps == NULL && bclass->get_caps) {\n@@ -1350,8 +1354,8 @@\n-        if ((caps = bclass->get_caps (src, filter))) {\n-          gst_query_set_caps_result (query, caps);\n-          gst_caps_unref (caps);\n-          res = TRUE;\n-        } else {\n-          res = FALSE;\n-        }\n-      } else\n+        caps = bclass->get_caps (src, filter);\n+      }\n+\n+      if (caps != NULL) {\n+        res = TRUE;\n+        gst_query_set_caps_result (query, caps);\n+        gst_caps_unref (caps);\n+      } else {\n@@ -1359,0 +1363,1 @@\n+      }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesrc.c","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -187,0 +187,8 @@\n+  \/**\n+   * GstBaseSrcClass::fixate:\n+   * @caps: (transfer full):\n+   *\n+   * Called if, in negotiation, caps need fixating.\n+   *\n+   * Returns: (transfer full): the fixated caps\n+   *\/\n@@ -244,1 +252,1 @@\n-   * @buf: (inout):\n+   * @buf: (inout) (nullable):\n@@ -253,1 +261,1 @@\n-   * @buf: (out):\n+   * @buf: (out) (nullable):\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesrc.h","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -144,1 +144,1 @@\n-#include \"..\/..\/..\/gst\/gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -478,1 +478,1 @@\n-    if (filter) {\n+    if (ret && filter) {\n@@ -813,1 +813,2 @@\n-    if (gst_meta_api_type_has_tag (api, _gst_meta_tag_memory)) {\n+    if (gst_meta_api_type_has_tag (api, _gst_meta_tag_memory)\n+        || gst_meta_api_type_has_tag (api, _gst_meta_tag_memory_reference)) {\n@@ -1598,0 +1599,4 @@\n+      if (!caps) {\n+        GST_WARNING_OBJECT (pad, \"no caps can be handled by this pad\");\n+        caps = gst_caps_new_empty ();\n+      }\n@@ -1765,1 +1770,2 @@\n-  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)) {\n+  if (gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory)\n+      || gst_meta_api_type_has_tag (info->api, _gst_meta_tag_memory_reference)) {\n@@ -2033,0 +2039,1 @@\n+  gboolean qos_enabled;\n@@ -2055,0 +2062,8 @@\n+  GST_OBJECT_LOCK (trans);\n+  qos_enabled = priv->qos_enabled;\n+  GST_OBJECT_UNLOCK (trans);\n+\n+  \/* Skip all qos handling if disabled *\/\n+  if (!qos_enabled)\n+    goto no_qos;\n+\n@@ -2076,2 +2091,1 @@\n-    need_skip = priv->qos_enabled &&\n-        earliest_time != -1 && running_time <= earliest_time;\n+    need_skip = earliest_time != -1 && running_time <= earliest_time;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasetransform.c","additions":20,"deletions":6,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-   * @buf: (inout):\n+   * @buf: (inout) (nullable):\n@@ -83,1 +83,1 @@\n-   * @buf: (out):\n+   * @buf: (out) (nullable):\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstpushsrc.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -195,1 +195,1 @@\n- * Returns: pointer to element or struct, or NULL if @array was empty. The\n+ * Returns: (nullable): pointer to element or struct, or NULL if @array was empty. The\n@@ -253,1 +253,1 @@\n- * Returns: pointer to element or struct, or NULL if @array was empty. The\n+ * Returns: (nullable): pointer to element or struct, or NULL if @array was empty. The\n@@ -297,1 +297,1 @@\n- * Returns: The item, or %NULL if @idx was out of bounds\n+ * Returns: (nullable): The item, or %NULL if @idx was out of bounds\n@@ -317,1 +317,1 @@\n- * Returns: The item, or %NULL if @idx was out of bounds\n+ * Returns: (nullable): The item, or %NULL if @idx was out of bounds\n@@ -335,1 +335,1 @@\n-  guint elt_size = array->elt_size;\n+  gsize elt_size = array->elt_size;\n@@ -337,2 +337,6 @@\n-  guint oldsize = array->size;\n-  guint newsize = MAX ((3 * oldsize) \/ 2, oldsize + 1);\n+  gsize oldsize = array->size;\n+  guint64 newsize;\n+\n+  newsize = MAX ((3 * (guint64) oldsize) \/ 2, (guint64) oldsize + 1);\n+  if (newsize > G_MAXUINT)\n+    g_error (\"growing the queue array would overflow\");\n@@ -342,3 +346,7 @@\n-    guint8 *array2 = g_malloc0 (elt_size * newsize);\n-    guint t1 = array->head;\n-    guint t2 = oldsize - array->head;\n+    guint8 *array2 = NULL;\n+    gsize t1 = 0;\n+    gsize t2 = 0;\n+\n+    array2 = g_malloc0_n (newsize, elt_size);\n+    t1 = array->head;\n+    t2 = oldsize - array->head;\n@@ -355,1 +363,2 @@\n-    memcpy (array2, array->array + (elt_size * array->head), t2 * elt_size);\n+    memcpy (array2, array->array + (elt_size * (gsize) array->head),\n+        t2 * elt_size);\n@@ -363,1 +372,1 @@\n-    array->array = g_realloc (array->array, elt_size * newsize);\n+    array->array = g_realloc_n (array->array, newsize, elt_size);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstqueuearray.c","additions":21,"deletions":12,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -97,2 +97,2 @@\n-  GST_LOG_OBJECT (helper->obj, \"'%s' called peek (%\" G_GINT64_FORMAT\n-      \", %u)\", GST_OBJECT_NAME (helper->factory), offset, size);\n+  GST_LOG_OBJECT (helper->obj, \"Typefind factory called peek (%\" G_GINT64_FORMAT\n+      \", %u)\", offset, size);\n@@ -232,2 +232,2 @@\n-      \"'%s' called suggest (%u, %\" GST_PTR_FORMAT \")\",\n-      GST_OBJECT_NAME (helper->factory), probability, caps);\n+      \"Typefind factory called suggest (%u, %\" GST_PTR_FORMAT \")\",\n+      probability, caps);\n@@ -246,2 +246,2 @@\n-  GST_LOG_OBJECT (helper->obj, \"'%s' called get_length, returning %\"\n-      G_GUINT64_FORMAT, GST_OBJECT_NAME (helper->factory), helper->size);\n+  GST_LOG_OBJECT (helper->obj, \"Typefind factory called get_length, returning %\"\n+      G_GUINT64_FORMAT, helper->size);\n@@ -306,1 +306,1 @@\n- * @parent: (allow-none): the parent of @obj or %NULL\n+ * @parent: (nullable): the parent of @obj or %NULL\n@@ -310,2 +310,2 @@\n- * @extension: (allow-none): extension of the media, or %NULL\n- * @prob: (out) (allow-none): location to store the probability of the found\n+ * @extension: (nullable): extension of the media, or %NULL\n+ * @prob: (out) (optional): location to store the probability of the found\n@@ -348,1 +348,1 @@\n- * @parent: (allow-none): the parent of @obj or %NULL\n+ * @parent: (nullable): the parent of @obj or %NULL\n@@ -352,1 +352,1 @@\n- * @extension: (allow-none): extension of the media, or %NULL\n+ * @extension: (nullable): extension of the media, or %NULL\n@@ -354,1 +354,1 @@\n- * @prob: (out) (allow-none): location to store the probability of the found\n+ * @prob: (out) (optional): location to store the probability of the found\n@@ -498,1 +498,0 @@\n-  GstTypeFindFactory *factory;  \/* for logging *\/\n@@ -502,0 +501,14 @@\n+\/**\n+ * GstTypeFindData:\n+ *\n+ * The opaque #GstTypeFindData structure.\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+struct _GstTypeFindData\n+{\n+  GstTypeFind find;\n+  GstTypeFindBufHelper helper;\n+};\n+\n@@ -519,2 +532,2 @@\n-  GST_LOG_OBJECT (helper->obj, \"'%s' called peek (%\" G_GINT64_FORMAT \", %u)\",\n-      GST_OBJECT_NAME (helper->factory), off, size);\n+  GST_LOG_OBJECT (helper->obj,\n+      \"Typefind factory called peek (%\" G_GINT64_FORMAT \", %u)\", off, size);\n@@ -526,2 +539,2 @@\n-    GST_LOG_OBJECT (helper->obj, \"'%s' wanted to peek at end; not supported\",\n-        GST_OBJECT_NAME (helper->factory));\n+    GST_LOG_OBJECT (helper->obj,\n+        \"Typefind factory wanted to peek at end; not supported\");\n@@ -559,2 +572,2 @@\n-      \"'%s' called suggest (%u, %\" GST_PTR_FORMAT \")\",\n-      GST_OBJECT_NAME (helper->factory), probability, caps);\n+      \"Typefind factory called suggest (%u, %\" GST_PTR_FORMAT \")\",\n+      probability, caps);\n@@ -571,1 +584,1 @@\n- * @obj: (allow-none): object doing the typefinding, or %NULL (used for logging)\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n@@ -574,1 +587,1 @@\n- * @prob: (out) (allow-none): location to store the probability of the found\n+ * @prob: (out) (optional): location to store the probability of the found\n@@ -604,1 +617,1 @@\n- * @obj: (allow-none): object doing the typefinding, or %NULL (used for logging)\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n@@ -607,2 +620,2 @@\n- * @extension: (allow-none): extension of the media, or %NULL\n- * @prob: (out) (allow-none): location to store the probability of the found\n+ * @extension: (nullable): extension of the media, or %NULL\n+ * @prob: (out) (optional): location to store the probability of the found\n@@ -641,0 +654,1 @@\n+  GstTypeFindFactory *factory;\n@@ -665,2 +679,2 @@\n-    helper.factory = GST_TYPE_FIND_FACTORY (l->data);\n-    gst_type_find_factory_call_function (helper.factory, &find);\n+    factory = GST_TYPE_FIND_FACTORY (l->data);\n+    gst_type_find_factory_call_function (factory, &find);\n@@ -684,0 +698,87 @@\n+\/**\n+ * gst_type_find_helper_for_data_with_caps:\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n+ * @data: (transfer none) (array length=size): a pointer with data to typefind\n+ * @size: the size of @data\n+ * @caps: caps of the media\n+ * @prob: (out) (optional): location to store the probability of the found\n+ *     caps, or %NULL\n+ *\n+ * Tries to find if type of media contained in the given @data, matches the\n+ * @caps specified, assumption being that the data represents the beginning\n+ * of the stream or file.\n+ *\n+ * Only the typefinder matching the given caps will be called, if found. The\n+ * caps with the highest probability will be returned, or %NULL if the content\n+ * of the @data could not be identified.\n+ *\n+ * Free-function: gst_caps_unref\n+ *\n+ * Returns: (transfer full) (nullable): the #GstCaps corresponding to the data,\n+ *     or %NULL if no type could be found. The caller should free the caps\n+ *     returned with gst_caps_unref().\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GstCaps *\n+gst_type_find_helper_for_data_with_caps (GstObject * obj,\n+    const guint8 * data, gsize size, GstCaps * caps,\n+    GstTypeFindProbability * prob)\n+{\n+  GstTypeFind *find;\n+  GstTypeFindData *find_data;\n+  GstTypeFindFactory *factory;\n+  GList *l, *factories = NULL;\n+  GstCaps *result = NULL;\n+  GstTypeFindProbability found_probability, last_found_probability;\n+\n+  g_return_val_if_fail (data != NULL, NULL);\n+  g_return_val_if_fail (caps != NULL, NULL);\n+  g_return_val_if_fail (size != 0, NULL);\n+\n+  find_data = gst_type_find_data_new (obj, data, size);\n+  find = gst_type_find_data_get_typefind (find_data);\n+\n+  factories = gst_type_find_list_factories_for_caps (obj, caps);\n+  if (!factories) {\n+    GST_INFO_OBJECT (obj, \"Failed to typefind for caps: %\" GST_PTR_FORMAT,\n+        caps);\n+    goto out;\n+  }\n+\n+  found_probability = GST_TYPE_FIND_NONE;\n+  last_found_probability = GST_TYPE_FIND_NONE;\n+\n+  for (l = factories; l; l = l->next) {\n+    factory = GST_TYPE_FIND_FACTORY (l->data);\n+\n+    gst_type_find_factory_call_function (factory, find);\n+\n+    found_probability = gst_type_find_data_get_probability (find_data);\n+\n+    if (found_probability > last_found_probability) {\n+      last_found_probability = found_probability;\n+      result = gst_type_find_data_get_caps (find_data);\n+\n+      GST_DEBUG_OBJECT (obj, \"Found %\" GST_PTR_FORMAT \" (probability = %u)\",\n+          result, (guint) last_found_probability);\n+      if (last_found_probability >= GST_TYPE_FIND_MAXIMUM)\n+        break;\n+    }\n+  }\n+\n+  if (prob)\n+    *prob = last_found_probability;\n+\n+  GST_LOG_OBJECT (obj, \"Returning %\" GST_PTR_FORMAT \" (probability = %u)\",\n+      result, (guint) last_found_probability);\n+\n+out:\n+  g_list_free_full (factories, (GDestroyNotify) gst_object_unref);\n+\n+  gst_type_find_data_free (find_data);\n+\n+  return result;\n+}\n+\n@@ -686,1 +787,1 @@\n- * @obj: (allow-none): object doing the typefinding, or %NULL (used for logging)\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n@@ -688,1 +789,1 @@\n- * @prob: (out) (allow-none): location to store the probability of the found\n+ * @prob: (out) (optional): location to store the probability of the found\n@@ -717,1 +818,1 @@\n- * @obj: (allow-none): object doing the typefinding, or %NULL (used for logging)\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n@@ -719,2 +820,2 @@\n- * @extension: (allow-none): extension of the media, or %NULL\n- * @prob: (out) (allow-none): location to store the probability of the found\n+ * @extension: (nullable): extension of the media, or %NULL\n+ * @prob: (out) (optional): location to store the probability of the found\n@@ -769,0 +870,54 @@\n+\/**\n+ * gst_type_find_helper_for_buffer_with_caps:\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n+ * @buf: (transfer none): a #GstBuffer with data to typefind\n+ * @caps: caps of the media\n+ * @prob: (out) (optional): location to store the probability of the found\n+ *     caps, or %NULL\n+ *\n+ * Tries to find if type of media contained in the given #GstBuffer, matches\n+ * @caps specified, assumption being that the buffer represents the beginning\n+ * of the stream or file.\n+ *\n+ * Tries to find what type of data is contained in the given @data, the\n+ * assumption being that the data represents the beginning of the stream or\n+ * file.\n+ *\n+ * Only the typefinder matching the given caps will be called, if found. The\n+ * caps with the highest probability will be returned, or %NULL if the content\n+ * of the @data could not be identified.\n+ *\n+ * Free-function: gst_caps_unref\n+ *\n+ * Returns: (transfer full) (nullable): the #GstCaps corresponding to the data,\n+ *     or %NULL if no type could be found. The caller should free the caps\n+ *     returned with gst_caps_unref().\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GstCaps *\n+gst_type_find_helper_for_buffer_with_caps (GstObject * obj,\n+    GstBuffer * buf, GstCaps * caps, GstTypeFindProbability * prob)\n+{\n+  GstCaps *result;\n+  GstMapInfo info;\n+\n+  g_return_val_if_fail (caps != NULL, NULL);\n+  g_return_val_if_fail (buf != NULL, NULL);\n+  g_return_val_if_fail (GST_IS_BUFFER (buf), NULL);\n+  g_return_val_if_fail (GST_BUFFER_OFFSET (buf) == 0 ||\n+      GST_BUFFER_OFFSET (buf) == GST_BUFFER_OFFSET_NONE, NULL);\n+\n+  if (!gst_buffer_map (buf, &info, GST_MAP_READ))\n+    return NULL;\n+\n+  result =\n+      gst_type_find_helper_for_data_with_caps (obj, info.data, info.size,\n+      caps, prob);\n+\n+  gst_buffer_unmap (buf, &info);\n+\n+  return result;\n+}\n+\n@@ -771,1 +926,1 @@\n- * @obj: (allow-none): object doing the typefinding, or %NULL (used for logging)\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n@@ -833,0 +988,167 @@\n+\n+\/**\n+ * gst_type_find_list_factories_for_caps:\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n+ * @caps: caps of the media\n+ *\n+ * Tries to find the best #GstTypeFindFactory associated with @caps.\n+ *\n+ * The typefinder that can handle @caps will be returned.\n+ *\n+ * Free-function: g_list_free\n+ *\n+ * Returns: (transfer full) (nullable) (element-type Gst.TypeFindFactory): the list of #GstTypeFindFactory\n+ *          corresponding to @caps, or %NULL if no typefinder could be\n+ *          found. Caller should free the returned list with g_list_free()\n+ *          and list elements with gst_object_unref().\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GList *\n+gst_type_find_list_factories_for_caps (GstObject * obj, GstCaps * caps)\n+{\n+  GList *l, *type_list, *factories = NULL;\n+\n+  g_return_val_if_fail (caps != NULL, NULL);\n+\n+  GST_LOG_OBJECT (obj, \"finding factory for caps %\" GST_PTR_FORMAT, caps);\n+\n+  type_list = gst_type_find_factory_get_list ();\n+\n+  for (l = type_list; l; l = g_list_next (l)) {\n+    GstTypeFindFactory *factory;\n+    GstCaps *factory_caps;\n+\n+    factory = GST_TYPE_FIND_FACTORY (l->data);\n+\n+    \/* We only want to check those factories without a function *\/\n+    if (gst_type_find_factory_has_function (factory))\n+      continue;\n+\n+    \/* Get the caps that this typefind factory can handle *\/\n+    factory_caps = gst_type_find_factory_get_caps (factory);\n+    if (!factory_caps)\n+      continue;\n+\n+    if (gst_caps_can_intersect (factory_caps, caps)) {\n+      factory = gst_object_ref (factory);\n+      factories = g_list_prepend (factories, factory);\n+    }\n+  }\n+\n+  gst_plugin_feature_list_free (type_list);\n+\n+  return g_list_reverse (factories);\n+}\n+\n+\/**\n+ * gst_type_find_data_new: (skip)\n+ * @obj: (nullable): object doing the typefinding, or %NULL (used for logging)\n+ * @data: (transfer none) (array length=size): a pointer with data to typefind\n+ * @size: the size of @data\n+ *\n+ * Free-function: gst_type_find_data_free\n+ *\n+ * Returns: (transfer full): the #GstTypeFindData. The caller should free\n+ *          the returned #GstTypeFindData with gst_type_find_data_free().\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GstTypeFindData *\n+gst_type_find_data_new (GstObject * obj, const guint8 * data, gsize size)\n+{\n+  GstTypeFindData *find_data;\n+\n+  g_return_val_if_fail (data != NULL, NULL);\n+  g_return_val_if_fail (size != 0, NULL);\n+\n+  find_data = g_new0 (GstTypeFindData, 1);\n+\n+  find_data->helper.data = data;\n+  find_data->helper.size = size;\n+  find_data->helper.best_probability = GST_TYPE_FIND_NONE;\n+  find_data->helper.caps = NULL;\n+  find_data->helper.obj = obj;\n+\n+  find_data->find.data = (gpointer) (&find_data->helper);\n+  find_data->find.peek = buf_helper_find_peek;\n+  find_data->find.suggest = buf_helper_find_suggest;\n+  find_data->find.get_length = NULL;\n+\n+  return find_data;\n+}\n+\n+\/**\n+ * gst_type_find_data_get_caps: (skip)\n+ * @data: GstTypeFindData *\n+ *\n+ * Returns #GstCaps associated with #GstTypeFindData\n+ *\n+ * Returns: (transfer full) (nullable): #GstCaps.\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GstCaps *\n+gst_type_find_data_get_caps (GstTypeFindData * data)\n+{\n+  g_return_val_if_fail (data != NULL, NULL);\n+\n+  return gst_caps_ref (data->helper.caps);\n+}\n+\n+\/**\n+ * gst_type_find_data_get_probability: (skip)\n+ * @data: GstTypeFindData *\n+ *\n+ * Returns #GstTypeFindProbability associated with #GstTypeFindData\n+ *\n+ * Returns: #GstTypeFindProbability.\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GstTypeFindProbability\n+gst_type_find_data_get_probability (GstTypeFindData * data)\n+{\n+  g_return_val_if_fail (data != NULL, GST_TYPE_FIND_NONE);\n+\n+  return data->helper.best_probability;\n+}\n+\n+\/**\n+ * gst_type_find_data_get_typefind: (skip)\n+ * @data: GstTypeFindData *\n+ *\n+ * Returns #GstTypeFind associated with #GstTypeFindData\n+ *\n+ * Returns: #GstTypeFind.\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+GstTypeFind *\n+gst_type_find_data_get_typefind (GstTypeFindData * data)\n+{\n+  g_return_val_if_fail (data != NULL, NULL);\n+\n+  return &data->find;\n+}\n+\n+\/**\n+ * gst_type_find_data_free: (skip)\n+ * @data: GstTypeFindData * to free\n+ *\n+ * Since: 1.22\n+ *\n+ *\/\n+void\n+gst_type_find_data_free (GstTypeFindData * data)\n+{\n+  if (data && data->helper.caps)\n+    gst_caps_unref (data->helper.caps);\n+\n+  g_free (data);\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gsttypefindhelper.c","additions":354,"deletions":32,"binary":false,"changes":386,"status":"modified"},{"patch":"@@ -32,0 +32,9 @@\n+typedef struct _GstTypeFindData GstTypeFindData;\n+\n+GstTypeFindData * gst_type_find_data_new (GstObject * obj,\n+    const guint8 * data, gsize size);\n+GstCaps * gst_type_find_data_get_caps (GstTypeFindData * data);\n+GstTypeFindProbability gst_type_find_data_get_probability (GstTypeFindData * data);\n+GstTypeFind * gst_type_find_data_get_typefind (GstTypeFindData * data);\n+void gst_type_find_data_free (GstTypeFindData * data);\n+\n@@ -48,0 +57,7 @@\n+GST_BASE_API\n+GstCaps * gst_type_find_helper_for_data_with_caps (GstObject              *obj,\n+                                                   const guint8           *data,\n+                                                   gsize                   size,\n+                                                   GstCaps                *caps,\n+                                                   GstTypeFindProbability *prob);\n+\n@@ -59,0 +75,6 @@\n+GST_BASE_API\n+GstCaps * gst_type_find_helper_for_buffer_with_caps (GstObject              *obj,\n+                                                     GstBuffer              *buf,\n+                                                     GstCaps                *caps,\n+                                                     GstTypeFindProbability *prob);\n+\n@@ -63,0 +85,4 @@\n+GST_BASE_API\n+GList * gst_type_find_list_factories_for_caps (GstObject * obj,\n+                                               GstCaps * caps);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gsttypefindhelper.h","additions":26,"deletions":0,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n- * Returns: A copy of @cp\n+ * Returns: (transfer full): A copy of @cp\n@@ -235,1 +235,1 @@\n- * Returns: (transfer none): the found #GSequenceIter or %NULL\n+ * Returns: (transfer none) (nullable): the found #GSequenceIter or %NULL\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/controller\/gsttimedvaluecontrolsource.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-#if defined(HAVE_SYS_SOCKET_H) || defined(_MSC_VER)\n+#if defined(HAVE_SYS_SOCKET_H) || defined(G_OS_WIN32)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstcoreelementselements.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-#if defined(HAVE_SYS_SOCKET_H) || defined(_MSC_VER)\n+#if defined(HAVE_SYS_SOCKET_H) || defined(G_OS_WIN32)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstcoreelementsplugin.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-#include \"..\/..\/gst\/gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstqueue.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-#include \"gst\/gst-i18n-lib.h\"\n+#include <glib\/gi18n-lib.h>\n@@ -806,0 +806,2 @@\n+  base_path = NULL;\n+\n@@ -816,0 +818,5 @@\n+  \/* data URIs paths are opaque and do not semantically represent a\n+     filesystem-like resource path, so skip URI parsing for this case. *\/\n+  if (g_str_has_prefix (uri, \"data:\"))\n+    goto no_extension;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gsttypefindelement.c","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -473,1 +473,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.20.1\"\n+#define PACKAGE_STRING \"GStreamer 1.22.6\"\n@@ -482,1 +482,1 @@\n-#define PACKAGE_VERSION \"1.20.1\"\n+#define PACKAGE_VERSION \"1.22.6\"\n@@ -522,1 +522,1 @@\n-#define VERSION \"1.20.1\"\n+#define VERSION \"1.22.6\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/linux\/common\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -477,1 +477,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.20.1\"\n+#define PACKAGE_STRING \"GStreamer 1.22.6\"\n@@ -486,1 +486,1 @@\n-#define PACKAGE_VERSION \"1.20.1\"\n+#define PACKAGE_VERSION \"1.22.6\"\n@@ -526,1 +526,1 @@\n-#define VERSION \"1.20.1\"\n+#define VERSION \"1.22.6\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/osx\/common\/x86_64\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -478,1 +478,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.20.1\"\n+#define PACKAGE_STRING \"GStreamer 1.22.6\"\n@@ -487,1 +487,1 @@\n-#define PACKAGE_VERSION \"1.20.1\"\n+#define PACKAGE_VERSION \"1.22.6\"\n@@ -527,1 +527,1 @@\n-#define VERSION \"1.20.1\"\n+#define VERSION \"1.22.6\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/win32\/common\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -21,1 +21,1 @@\n-\t  projects\/plugins \\\n+          projects\/plugins \\\n@@ -67,1 +67,1 @@\n-\t   -I$(SRCBASE_DIR)\/projects\/build\/linux\/common   \\\n+           -I$(SRCBASE_DIR)\/projects\/build\/linux\/common   \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/linux\/gstreamer-lite\/Makefile","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -13,5 +13,5 @@\n-\t  glib\/libcharset\/ \\\n-\t  glib\/gnulib\/ \\\n-\t  gobject\/ \\\n-\t  gthread\/ \\\n-\t  gmodule\/\n+\t      glib\/libcharset\/ \\\n+\t      glib\/gnulib\/ \\\n+\t      gobject\/ \\\n+\t      gthread\/ \\\n+\t      gmodule\/\n@@ -47,4 +47,4 @@\n-\t   -I$(SRCBASE_DIR)\/glib \\\n-\t   -I$(SRCBASE_DIR)\/build\/osx \\\n-\t   -I$(LIBFFI_DIR)\/src \\\n-\t   -I$(LIBFFI_DIR)\/include\n+\t       -I$(SRCBASE_DIR)\/glib \\\n+\t       -I$(SRCBASE_DIR)\/build\/osx \\\n+\t       -I$(LIBFFI_DIR)\/src \\\n+\t       -I$(LIBFFI_DIR)\/include\n@@ -54,1 +54,1 @@\n-\t    -I$(LIBFFI_DIR)\/include\/mac\/aarch64\n+\t        -I$(LIBFFI_DIR)\/include\/mac\/aarch64\n@@ -57,1 +57,1 @@\n-\t    -I$(LIBFFI_DIR)\/include\/mac\/x64\n+\t        -I$(LIBFFI_DIR)\/include\/mac\/x64\n@@ -73,1 +73,0 @@\n-            glib\/gbookmarkfile.c \\\n@@ -129,1 +128,1 @@\n-\t    glib\/gtranslit.c \\\n+            glib\/gtranslit.c \\\n@@ -170,0 +169,1 @@\n+            gmodule\/gmodule-deprecated.c \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/mac\/glib-lite\/Makefile","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -16,1 +16,1 @@\n-\t  gstreamer\/libs\/gst\/base \\\n+          gstreamer\/libs\/gst\/base \\\n@@ -19,3 +19,3 @@\n-\t  gst-plugins-base\/gst-libs\/gst\/interfaces \\\n-\t  gst-plugins-base\/gst-libs\/gst\/video \\\n-\t  gst-plugins-base\/gst-libs\/gst\/pbutils \\\n+          gst-plugins-base\/gst-libs\/gst\/interfaces \\\n+          gst-plugins-base\/gst-libs\/gst\/video \\\n+          gst-plugins-base\/gst-libs\/gst\/pbutils \\\n@@ -23,5 +23,5 @@\n-\t  gst-plugins-base\/gst-libs\/gst\/riff \\\n-\t  gst-plugins-base\/gst-libs\/gst\/fft \\\n-\t  gst-plugins-base\/gst-libs\/gst\/app \\\n-\t  projects\/plugins                  \\\n-\t  gstreamer\/plugins\/elements \\\n+          gst-plugins-base\/gst-libs\/gst\/riff \\\n+          gst-plugins-base\/gst-libs\/gst\/fft \\\n+          gst-plugins-base\/gst-libs\/gst\/app \\\n+          projects\/plugins                  \\\n+          gstreamer\/plugins\/elements \\\n@@ -29,1 +29,1 @@\n-\t  gst-plugins-base\/gst\/audioconvert \\\n+          gst-plugins-base\/gst\/audioconvert \\\n@@ -31,7 +31,7 @@\n-\t  gst-plugins-good\/gst\/isomp4 \\\n-\t  gst-plugins-good\/gst\/audiofx \\\n-\t  gst-plugins-good\/gst\/equalizer \\\n-\t  gst-plugins-good\/gst\/spectrum \\\n-\t  gst-plugins-good\/gst\/wavparse \\\n-\t  gst-plugins-bad\/gst\/aiff \\\n-\t  gst-plugins-base\/gst\/app \\\n+          gst-plugins-good\/gst\/isomp4 \\\n+          gst-plugins-good\/gst\/audiofx \\\n+          gst-plugins-good\/gst\/equalizer \\\n+          gst-plugins-good\/gst\/spectrum \\\n+          gst-plugins-good\/gst\/wavparse \\\n+          gst-plugins-bad\/gst\/aiff \\\n+          gst-plugins-base\/gst\/app \\\n@@ -173,1 +173,1 @@\n-\t    gst-plugins-base\/gst-libs\/gst\/audio\/audio-buffer.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-buffer.c \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/mac\/gstreamer-lite\/Makefile","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -12,0 +12,1 @@\n+          dirent \\\n@@ -19,49 +20,48 @@\n-\tgarray.c \\\n-\tgasyncqueue.c \\\n-\tgatomic.c \\\n-\tgbacktrace.c \\\n-\tgbase64.c \\\n-\tgbitlock.c \\\n-\tgbookmarkfile.c \\\n-\tgbytes.c \\\n-\tgcharset.c \\\n-\tgchecksum.c \\\n-\tgconvert.c \\\n-\tgdataset.c \\\n-\tgdate.c \\\n-\tgdatetime.c \\\n-\tgdir.c \\\n-\tgenviron.c \\\n-\tgerror.c \\\n-\tgfileutils.c \\\n-\tggettext.c \\\n-\tghash.c \\\n-\tghmac.c \\\n-\tghook.c \\\n-\tghostutils.c \\\n-\tgiochannel.c \\\n-\tgiowin32.c \\\n-\tgkeyfile.c \\\n-\tglib-init.c \\\n-\tglib-private.c \\\n-\tglist.c \\\n-\tgmain.c \\\n-\tgmappedfile.c \\\n-\tgmarkup.c \\\n-\tgmem.c \\\n-\tgmessages.c \\\n-\tgnode.c \\\n-\tgnulib\/asnprintf.c \\\n-\tgnulib\/printf-args.c \\\n-\tgnulib\/printf-parse.c \\\n-\tgnulib\/printf.c \\\n-\tgnulib\/vasnprintf.c \\\n-\tgoption.c \\\n-\tgpattern.c \\\n-\tgpoll.c \\\n-\tgprimes.c \\\n-\tgprintf.c \\\n-\tgqsort.c \\\n-\tgquark.c \\\n-\tgqueue.c \\\n-\tgrand.c \\\n+        garray.c \\\n+        gasyncqueue.c \\\n+        gatomic.c \\\n+        gbacktrace.c \\\n+        gbase64.c \\\n+        gbitlock.c \\\n+        gbytes.c \\\n+        gcharset.c \\\n+        gchecksum.c \\\n+        gconvert.c \\\n+        gdataset.c \\\n+        gdate.c \\\n+        gdatetime.c \\\n+        gdir.c \\\n+        genviron.c \\\n+        gerror.c \\\n+        gfileutils.c \\\n+        ggettext.c \\\n+        ghash.c \\\n+        ghmac.c \\\n+        ghook.c \\\n+        ghostutils.c \\\n+        giochannel.c \\\n+        giowin32.c \\\n+        gkeyfile.c \\\n+        glib-init.c \\\n+        glib-private.c \\\n+        glist.c \\\n+        gmain.c \\\n+        gmappedfile.c \\\n+        gmarkup.c \\\n+        gmem.c \\\n+        gmessages.c \\\n+        gnode.c \\\n+        gnulib\/asnprintf.c \\\n+        gnulib\/printf-args.c \\\n+        gnulib\/printf-parse.c \\\n+        gnulib\/printf.c \\\n+        gnulib\/vasnprintf.c \\\n+        goption.c \\\n+        gpattern.c \\\n+        gpoll.c \\\n+        gprimes.c \\\n+        gprintf.c \\\n+        gqsort.c \\\n+        gquark.c \\\n+        gqueue.c \\\n+        grand.c \\\n@@ -70,37 +70,37 @@\n-\tgscanner.c \\\n-\tgsequence.c \\\n-\tgshell.c \\\n-\tgslice.c \\\n-\tgslist.c \\\n-\tgspawn-win32-helper.c \\\n-\tgspawn-win32.c \\\n-\tgstdio.c \\\n-\tgstrfuncs.c \\\n-\tgstring.c \\\n-\tgstringchunk.c \\\n-\tgtestutils.c \\\n-\tgthread.c \\\n-\tgthread-win32.c \\\n-\tgthreadpool.c \\\n-\tgtimer.c \\\n-\tgtimezone.c \\\n-\tgtrashstack.c \\\n-\tgtranslit.c \\\n-\tgtree.c \\\n-\tgunibreak.c \\\n-\tgunicollate.c \\\n-\tgunidecomp.c \\\n-\tguniprop.c \\\n-\tguri.c \\\n-\tgutf8.c \\\n-\tgutils.c \\\n-\tgvariant-core.c \\\n-\tgvariant-parser.c \\\n-\tgvariant-serialiser.c \\\n-\tgvariant.c \\\n-\tgvarianttype.c \\\n-\tgvarianttypeinfo.c \\\n-\tgversion.c \\\n-\tgwakeup.c \\\n-\tgwin32.c \\\n-\tlibcharset\/localcharset.c\n+        gscanner.c \\\n+        gsequence.c \\\n+        gshell.c \\\n+        gslice.c \\\n+        gslist.c \\\n+        gspawn-win32-helper.c \\\n+        gspawn-win32.c \\\n+        gstdio.c \\\n+        gstrfuncs.c \\\n+        gstring.c \\\n+        gstringchunk.c \\\n+        gtestutils.c \\\n+        gthread.c \\\n+        gthread-win32.c \\\n+        gthreadpool.c \\\n+        gtimer.c \\\n+        gtimezone.c \\\n+        gtrashstack.c \\\n+        gtranslit.c \\\n+        gtree.c \\\n+        gunibreak.c \\\n+        gunicollate.c \\\n+        gunidecomp.c \\\n+        guniprop.c \\\n+        guri.c \\\n+        gutf8.c \\\n+        gutils.c \\\n+        gvariant-core.c \\\n+        gvariant-parser.c \\\n+        gvariant-serialiser.c \\\n+        gvariant.c \\\n+        gvarianttype.c \\\n+        gvarianttypeinfo.c \\\n+        gversion.c \\\n+        gwakeup.c \\\n+        gwin32.c \\\n+        libcharset\/localcharset.c\n@@ -116,1 +116,0 @@\n-           -I$(SRCBASE_DIR)\/build\/win32 \\\n@@ -135,5 +134,5 @@\n-\t   -DLIBDIR \\\n-\t   -DNVALGRIND \\\n-\t   -DG_OS_WIN32 \\\n-\t   -DFFI_BUILDING \\\n-\t   -DG_DISABLE_DEPRECATED \\\n+           -DLIBDIR \\\n+           -DNVALGRIND \\\n+           -DG_OS_WIN32 \\\n+           -DFFI_BUILDING \\\n+           -DG_DISABLE_DEPRECATED \\\n@@ -141,1 +140,1 @@\n-\t   $(COMPILER_FLAGS)\n+           $(COMPILER_FLAGS)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/glib-lite\/Makefile.glib","additions":92,"deletions":93,"binary":false,"changes":185,"status":"modified"},{"patch":"@@ -18,1 +18,1 @@\n-                 -FI\"msvc_recommended_pragmas.h\" \n+                 -FI\"msvc_recommended_pragmas.h\"\n@@ -32,2 +32,2 @@\n-\t   -DG_OS_WIN32 \\\n-\t   -DFFI_BUILDING \\\n+           -DG_OS_WIN32 \\\n+           -DFFI_BUILDING \\\n@@ -35,1 +35,1 @@\n-\t   $(INCLUDES) \\\n+           $(INCLUDES) \\\n@@ -61,1 +61,1 @@\n-$(TARGET): $(OBJECTS) \n+$(TARGET): $(OBJECTS)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/glib-lite\/Makefile.gmodule","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -14,1 +14,1 @@\n-\t   gbinding.c \\\n+            gbinding.c \\\n@@ -19,1 +19,1 @@\n-\t    gobject.c \\\n+            gobject.c \\\n@@ -36,1 +36,1 @@\n-                 -FI\"msvc_recommended_pragmas.h\" \n+                 -FI\"msvc_recommended_pragmas.h\"\n@@ -42,2 +42,2 @@\n-\t  -I$(LIBFFI_DIR)\/include \\\n-\t  -I$(LIBFFI_DIR)\/src\/x86\n+           -I$(LIBFFI_DIR)\/include \\\n+           -I$(LIBFFI_DIR)\/src\/x86\n@@ -54,2 +54,2 @@\n-\t  -DG_OS_WIN32 \\\n-\t  -DFFI_BUILDING \\\n+           -DG_OS_WIN32 \\\n+           -DFFI_BUILDING \\\n@@ -58,1 +58,1 @@\n-\t  $(COMPILER_FLAGS)\n+           $(COMPILER_FLAGS)\n@@ -84,1 +84,1 @@\n-$(TARGET): $(OBJECTS) \n+$(TARGET): $(OBJECTS)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/glib-lite\/Makefile.gobject","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -18,1 +18,1 @@\n-                 -FI\"msvc_recommended_pragmas.h\" \n+                 -FI\"msvc_recommended_pragmas.h\"\n@@ -32,2 +32,2 @@\n-\t   -DG_OS_WIN32 \\\n-\t   -DFFI_BUILDING \\\n+           -DG_OS_WIN32 \\\n+           -DFFI_BUILDING \\\n@@ -35,1 +35,1 @@\n-\t   $(INCLUDES) \\\n+           $(INCLUDES) \\\n@@ -61,2 +61,2 @@\n-$(TARGET): $(OBJECTS) \n-\t$(AR) $(LIBFLAGS) $(foreach object,$(OBJECTS),$(shell cygpath -ma $(object))) \n+$(TARGET): $(OBJECTS)\n+\t$(AR) $(LIBFLAGS) $(foreach object,$(OBJECTS),$(shell cygpath -ma $(object)))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/glib-lite\/Makefile.gthread","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -26,139 +26,139 @@\n-\t\t\tgstreamer\/gst\/gstallocator.c \\\n-\t\t\tgstreamer\/gst\/gstatomicqueue.c \\\n-\t\t\tgstreamer\/gst\/gstbin.c \\\n-\t\t\tgstreamer\/gst\/gstbuffer.c \\\n-\t\t\tgstreamer\/gst\/gstbufferlist.c \\\n-\t\t\tgstreamer\/gst\/gstbufferpool.c \\\n-\t\t\tgstreamer\/gst\/gstbus.c \\\n-\t\t\tgstreamer\/gst\/gstcaps.c \\\n-\t\t\tgstreamer\/gst\/gstcapsfeatures.c \\\n-\t\t\tgstreamer\/gst\/gstchildproxy.c \\\n-\t\t\tgstreamer\/gst\/gstclock.c \\\n-                        gstreamer\/gst\/gstcontext.c \\\n-                        gstreamer\/gst\/gstcontrolbinding.c \\\n-                        gstreamer\/gst\/gstcontrolsource.c \\\n-\t\t\tgstreamer\/gst\/gstdatetime.c \\\n-\t\t\tgstreamer\/gst\/gstdebugutils.c \\\n-\t\t\tgstreamer\/gst\/gstdynamictypefactory.c \\\n-\t\t\tgstreamer\/gst\/gstelement.c \\\n-\t\t\tgstreamer\/gst\/gstelementfactory.c \\\n-\t\t\tgstreamer\/gst\/gstenumtypes.c \\\n-\t\t\tgstreamer\/gst\/gsterror.c \\\n-\t\t\tgstreamer\/gst\/gstevent.c \\\n-\t\t\tgstreamer\/gst\/gstformat.c \\\n-\t\t\tgstreamer\/gst\/gstghostpad.c \\\n-\t\t\tgstreamer\/gst\/gstinfo.c \\\n-\t\t\tgstreamer\/gst\/gstiterator.c \\\n-\t\t\tgstreamer\/gst\/gstmemory.c \\\n-\t\t\tgstreamer\/gst\/gstmessage.c \\\n-\t\t\tgstreamer\/gst\/gstmeta.c \\\n-\t\t\tgstreamer\/gst\/gstminiobject.c \\\n-\t\t\tgstreamer\/gst\/gstobject.c \\\n-\t\t\tgstreamer\/gst\/gstpad.c \\\n-\t\t\tgstreamer\/gst\/gstpadtemplate.c \\\n-\t\t\tgstreamer\/gst\/gstparamspecs.c \\\n-\t\t\tgstreamer\/gst\/gstparse.c \\\n-\t\t\tgstreamer\/gst\/gstpipeline.c \\\n-\t\t\tgstreamer\/gst\/gstplugin.c \\\n-\t\t\tgstreamer\/gst\/gstpluginfeature.c \\\n-\t\t\tgstreamer\/gst\/gstpluginloader.c \\\n-\t\t\tgstreamer\/gst\/gstpoll.c \\\n-\t\t\tgstreamer\/gst\/gstprotection.c \\\n-\t\t\tgstreamer\/gst\/gstquark.c \\\n-\t\t\tgstreamer\/gst\/gstquery.c \\\n-\t\t\tgstreamer\/gst\/gstregistry.c \\\n-\t\t\tgstreamer\/gst\/gstregistrybinary.c \\\n-\t\t\tgstreamer\/gst\/gstregistrychunks.c \\\n-\t\t\tgstreamer\/gst\/gstsample.c \\\n-\t\t\tgstreamer\/gst\/gstsegment.c \\\n-\t\t\tgstreamer\/gst\/gststructure.c \\\n-\t\t\tgstreamer\/gst\/gstsystemclock.c \\\n-\t\t\tgstreamer\/gst\/gststreamcollection.c \\\n-\t\t\tgstreamer\/gst\/gststreams.c \\\n-\t\t\tgstreamer\/gst\/gsttaglist.c \\\n-\t\t\tgstreamer\/gst\/gsttagsetter.c \\\n-\t\t\tgstreamer\/gst\/gsttask.c \\\n-\t\t\tgstreamer\/gst\/gsttaskpool.c \\\n-\t\t\tgstreamer\/gst\/gsttoc.c \\\n-\t\t\tgstreamer\/gst\/gsttocsetter.c \\\n-\t\t\tgstreamer\/gst\/gsttracer.c \\\n-\t\t\tgstreamer\/gst\/gsttracerfactory.c \\\n-\t\t\tgstreamer\/gst\/gsttracerrecord.c \\\n-\t\t\tgstreamer\/gst\/gsttracerutils.c \\\n-\t\t\tgstreamer\/gst\/gsttypefind.c \\\n-\t\t\tgstreamer\/gst\/gsttypefindfactory.c \\\n-\t\t\tgstreamer\/gst\/gsturi.c \\\n-\t\t\tgstreamer\/gst\/gstutils.c \\\n-\t\t\tgstreamer\/gst\/gstvalue.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstadapter.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbaseparse.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbasesink.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbasesrc.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbasetransform.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbitreader.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbytereader.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstbytewriter.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstcollectpads.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstdataqueue.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstflowcombiner.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstpushsrc.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gstqueuearray.c \\\n-\t\t\tgstreamer\/libs\/gst\/base\/gsttypefindhelper.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/app\/gstapp-marshal.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/app\/gstappsink.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-channels.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-channel-mixer.c \\\n-                        gst-plugins-base\/gst-libs\/gst\/audio\/audio-buffer.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-converter.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-resampler.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-enumtypes.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-quantize.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-format.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/audio-info.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesink.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesrc.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudioclock.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiodecoder.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudioencoder.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiofilter.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudioiec61937.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiometa.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiopack-dist.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudioringbuffer.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosink.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosrc.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/streamvolume.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/audio\/gstaudioutilsprivate.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/fft\/gstfft.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/fft\/gstfftf32.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/fft\/kiss_fft_f32.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/fft\/kiss_fftr_f32.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/codec-utils.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/descriptions.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer-types.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/gstpluginsbaseversion.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/missing-plugins.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils-enumtypes.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/riff\/riff-media.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/riff\/riff-read.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/riff\/riff.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/gstid3tag.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/gsttagdemux.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/id3v2.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/id3v2frames.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/lang.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/tags.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/tag\/tag-enumtypes.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-chroma.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-color.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-converter.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-format.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-enumtypes.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-info.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-multiview.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-orc-dist.c \\\n-\t\t\tgst-plugins-base\/gst-libs\/gst\/video\/video-tile.c\n+            gstreamer\/gst\/gstallocator.c \\\n+            gstreamer\/gst\/gstatomicqueue.c \\\n+            gstreamer\/gst\/gstbin.c \\\n+            gstreamer\/gst\/gstbuffer.c \\\n+            gstreamer\/gst\/gstbufferlist.c \\\n+            gstreamer\/gst\/gstbufferpool.c \\\n+            gstreamer\/gst\/gstbus.c \\\n+            gstreamer\/gst\/gstcaps.c \\\n+            gstreamer\/gst\/gstcapsfeatures.c \\\n+            gstreamer\/gst\/gstchildproxy.c \\\n+            gstreamer\/gst\/gstclock.c \\\n+            gstreamer\/gst\/gstcontext.c \\\n+            gstreamer\/gst\/gstcontrolbinding.c \\\n+            gstreamer\/gst\/gstcontrolsource.c \\\n+            gstreamer\/gst\/gstdatetime.c \\\n+            gstreamer\/gst\/gstdebugutils.c \\\n+            gstreamer\/gst\/gstdynamictypefactory.c \\\n+            gstreamer\/gst\/gstelement.c \\\n+            gstreamer\/gst\/gstelementfactory.c \\\n+            gstreamer\/gst\/gstenumtypes.c \\\n+            gstreamer\/gst\/gsterror.c \\\n+            gstreamer\/gst\/gstevent.c \\\n+            gstreamer\/gst\/gstformat.c \\\n+            gstreamer\/gst\/gstghostpad.c \\\n+            gstreamer\/gst\/gstinfo.c \\\n+            gstreamer\/gst\/gstiterator.c \\\n+            gstreamer\/gst\/gstmemory.c \\\n+            gstreamer\/gst\/gstmessage.c \\\n+            gstreamer\/gst\/gstmeta.c \\\n+            gstreamer\/gst\/gstminiobject.c \\\n+            gstreamer\/gst\/gstobject.c \\\n+            gstreamer\/gst\/gstpad.c \\\n+            gstreamer\/gst\/gstpadtemplate.c \\\n+            gstreamer\/gst\/gstparamspecs.c \\\n+            gstreamer\/gst\/gstparse.c \\\n+            gstreamer\/gst\/gstpipeline.c \\\n+            gstreamer\/gst\/gstplugin.c \\\n+            gstreamer\/gst\/gstpluginfeature.c \\\n+            gstreamer\/gst\/gstpluginloader.c \\\n+            gstreamer\/gst\/gstpoll.c \\\n+            gstreamer\/gst\/gstprotection.c \\\n+            gstreamer\/gst\/gstquark.c \\\n+            gstreamer\/gst\/gstquery.c \\\n+            gstreamer\/gst\/gstregistry.c \\\n+            gstreamer\/gst\/gstregistrybinary.c \\\n+            gstreamer\/gst\/gstregistrychunks.c \\\n+            gstreamer\/gst\/gstsample.c \\\n+            gstreamer\/gst\/gstsegment.c \\\n+            gstreamer\/gst\/gststructure.c \\\n+            gstreamer\/gst\/gstsystemclock.c \\\n+            gstreamer\/gst\/gststreamcollection.c \\\n+            gstreamer\/gst\/gststreams.c \\\n+            gstreamer\/gst\/gsttaglist.c \\\n+            gstreamer\/gst\/gsttagsetter.c \\\n+            gstreamer\/gst\/gsttask.c \\\n+            gstreamer\/gst\/gsttaskpool.c \\\n+            gstreamer\/gst\/gsttoc.c \\\n+            gstreamer\/gst\/gsttocsetter.c \\\n+            gstreamer\/gst\/gsttracer.c \\\n+            gstreamer\/gst\/gsttracerfactory.c \\\n+            gstreamer\/gst\/gsttracerrecord.c \\\n+            gstreamer\/gst\/gsttracerutils.c \\\n+            gstreamer\/gst\/gsttypefind.c \\\n+            gstreamer\/gst\/gsttypefindfactory.c \\\n+            gstreamer\/gst\/gsturi.c \\\n+            gstreamer\/gst\/gstutils.c \\\n+            gstreamer\/gst\/gstvalue.c \\\n+            gstreamer\/libs\/gst\/base\/gstadapter.c \\\n+            gstreamer\/libs\/gst\/base\/gstbaseparse.c \\\n+            gstreamer\/libs\/gst\/base\/gstbasesink.c \\\n+            gstreamer\/libs\/gst\/base\/gstbasesrc.c \\\n+            gstreamer\/libs\/gst\/base\/gstbasetransform.c \\\n+            gstreamer\/libs\/gst\/base\/gstbitreader.c \\\n+            gstreamer\/libs\/gst\/base\/gstbytereader.c \\\n+            gstreamer\/libs\/gst\/base\/gstbytewriter.c \\\n+            gstreamer\/libs\/gst\/base\/gstcollectpads.c \\\n+            gstreamer\/libs\/gst\/base\/gstdataqueue.c \\\n+            gstreamer\/libs\/gst\/base\/gstflowcombiner.c \\\n+            gstreamer\/libs\/gst\/base\/gstpushsrc.c \\\n+            gstreamer\/libs\/gst\/base\/gstqueuearray.c \\\n+            gstreamer\/libs\/gst\/base\/gsttypefindhelper.c \\\n+            gst-plugins-base\/gst-libs\/gst\/app\/gstapp-marshal.c \\\n+            gst-plugins-base\/gst-libs\/gst\/app\/gstappsink.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-channels.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-channel-mixer.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-buffer.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-converter.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-resampler.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-enumtypes.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-quantize.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-format.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/audio-info.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesink.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesrc.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioclock.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiodecoder.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioencoder.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiofilter.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioiec61937.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiometa.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiopack-dist.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioringbuffer.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosink.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosrc.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/streamvolume.c \\\n+            gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioutilsprivate.c \\\n+            gst-plugins-base\/gst-libs\/gst\/fft\/gstfft.c \\\n+            gst-plugins-base\/gst-libs\/gst\/fft\/gstfftf32.c \\\n+            gst-plugins-base\/gst-libs\/gst\/fft\/kiss_fft_f32.c \\\n+            gst-plugins-base\/gst-libs\/gst\/fft\/kiss_fftr_f32.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/codec-utils.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/descriptions.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer-types.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/gstpluginsbaseversion.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/missing-plugins.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils.c \\\n+            gst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils-enumtypes.c \\\n+            gst-plugins-base\/gst-libs\/gst\/riff\/riff-media.c \\\n+            gst-plugins-base\/gst-libs\/gst\/riff\/riff-read.c \\\n+            gst-plugins-base\/gst-libs\/gst\/riff\/riff.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/gstid3tag.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/gsttagdemux.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/id3v2.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/id3v2frames.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/lang.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/tags.c \\\n+            gst-plugins-base\/gst-libs\/gst\/tag\/tag-enumtypes.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-chroma.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-color.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-converter.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-format.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-enumtypes.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-info.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-multiview.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-orc-dist.c \\\n+            gst-plugins-base\/gst-libs\/gst\/video\/video-tile.c\n@@ -199,1 +199,1 @@\n-\t   $(INCLUDES) \\\n+           $(INCLUDES) \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/gstreamer-lite\/Makefile.gstreamer","additions":140,"deletions":140,"binary":false,"changes":280,"status":"modified"},{"patch":"@@ -32,3 +32,0 @@\n-    <ClCompile Include=\"..\\..\\gstreamer\\3rd_party\\glib\\glib\\gbookmarkfile.c\">\r\n-      <PreprocessorDefinitions Condition=\"'$(Configuration)|$(Platform)'=='Debug|Win32'\">WIN32;_WINDOWS;_USRDLL;GLIB_COMPILATION;GSTREAMER_LITE;HAVE_CONFIG_H;G_LOG_DOMAIN=\\\"Glib\\\";G_DISABLE_DEPRECATED;PCRE_STATIC;LINK_SIZE=2;MAX_NAME_SIZE=32;MAX_NAME_COUNT=10000;NEWLINE=-1;POSIX_MALLOC_THRESHOLD=10;MATCH_LIMIT=10000000;MATCH_LIMIT_RECURSION=10000000;HAVE_LONG_LONG;_MBCS;%(PreprocessorDefinitions)<\/PreprocessorDefinitions>\r\n-    <\/ClCompile>\r\n","filename":"modules\/javafx.media\/src\/main\/native\/vs_project\/glib\/glib.vcxproj","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -10,1 +10,0 @@\n-    <ClCompile Include=\"..\\..\\gstreamer\\3rd_party\\glib\\glib\\gbookmarkfile.c\" \/>\r\n","filename":"modules\/javafx.media\/src\/main\/native\/vs_project\/glib\/glib.vcxproj.filters","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -146,2 +146,0 @@\n-    <ClCompile Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideodecoder.c\" \/>\r\n-    <ClCompile Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideoencoder.c\" \/>\r\n@@ -498,2 +496,0 @@\n-    <ClInclude Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideodecoder.h\" \/>\r\n-    <ClInclude Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideoencoder.h\" \/>\r\n","filename":"modules\/javafx.media\/src\/main\/native\/vs_project\/gstreamer\/gstreamer.vcxproj","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -594,6 +594,0 @@\n-    <ClCompile Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideodecoder.c\">\r\n-      <Filter>gst-plugins-base\\gst-libs\\gst\\video<\/Filter>\r\n-    <\/ClCompile>\r\n-    <ClCompile Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideoencoder.c\">\r\n-      <Filter>gst-plugins-base\\gst-libs\\gst\\video<\/Filter>\r\n-    <\/ClCompile>\r\n@@ -746,6 +740,0 @@\n-    <ClInclude Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideodecoder.h\">\r\n-      <Filter>gst-plugins-base\\gst-libs\\gst\\video<\/Filter>\r\n-    <\/ClInclude>\r\n-    <ClInclude Include=\"..\\..\\gstreamer\\gstreamer-lite\\gst-plugins-base\\gst-libs\\gst\\video\\gstvideoencoder.h\">\r\n-      <Filter>gst-plugins-base\\gst-libs\\gst\\video<\/Filter>\r\n-    <\/ClInclude>\r\n","filename":"modules\/javafx.media\/src\/main\/native\/vs_project\/gstreamer\/gstreamer.vcxproj.filters","additions":0,"deletions":12,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -75,1 +75,4 @@\n-        ModuleLayer layer = parent.defineModulesWithOneLoader(cf, scl);\n+        ModuleLayer.Controller controller = ModuleLayer.defineModulesWithOneLoader(cf, List.of(parent), scl);\n+        \/\/ Remove reflection once JDK 22 is minimum. See JDK-8340004.\n+        Method enableNativeAccessMethod = ModuleLayer.Controller.class.getMethod(\"enableNativeAccess\", Module.class);\n+        ModuleLayer layer = controller.layer();\n@@ -78,0 +81,4 @@\n+        Class webClass = moduleClassLoader.loadClass(\"javafx.scene.web.WebView\");\n+        \/\/ Remove reflection once JDK 22 is minimum. See JDK-8340004.\n+        \/\/controller.enableNativeAccess(webClass.getModule());\n+        enableNativeAccessMethod.invoke(controller, new Object[]{webClass.getModule()});\n@@ -79,0 +86,3 @@\n+        \/\/ Remove reflection once JDK 22 is minimum. See JDK-8340004.\n+        \/\/controller.enableNativeAccess(appClass.getModule());\n+        enableNativeAccessMethod.invoke(controller, new Object[]{appClass.getModule()});\n","filename":"tests\/system\/src\/testapp7\/java\/mymod\/myapp7\/DataUrlWithModuleLayerLauncher.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -75,1 +75,4 @@\n-        ModuleLayer layer = parent.defineModulesWithOneLoader(cf, scl);\n+        ModuleLayer.Controller controller = ModuleLayer.defineModulesWithOneLoader(cf, List.of(parent), scl);\n+        \/\/ Remove reflection once JDK 22 is minimum. See JDK-8340004.\n+        Method enableNativeAccessMethod = ModuleLayer.Controller.class.getMethod(\"enableNativeAccess\", Module.class);\n+        ModuleLayer layer = controller.layer();\n@@ -77,0 +80,4 @@\n+        Class webClass = moduleClassLoader.loadClass(\"javafx.scene.web.WebView\");\n+        \/\/ Remove reflection once JDK 22 is minimum. See JDK-8340004.\n+        \/\/controller.enableNativeAccess(webClass.getModule());\n+        enableNativeAccessMethod.invoke(controller, new Object[]{webClass.getModule()});\n@@ -78,0 +85,3 @@\n+        \/\/ Remove reflection once JDK 22 is minimum. See JDK-8340004.\n+        \/\/controller.enableNativeAccess(appClass.getModule());\n+        enableNativeAccessMethod.invoke(controller, new Object[]{appClass.getModule()});\n","filename":"tests\/system\/src\/testapp7\/java\/mymod\/myapp7\/LocalStorageAccessWithModuleLayerLauncher.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}
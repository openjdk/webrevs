{"files":[{"patch":"@@ -1,1 +1,1 @@\n-## xmlsoft.org: libxslt v1.1.35\n+## xmlsoft.org: libxslt v1.1.39\n@@ -60,0 +60,90 @@\n+=== copyright notices for trio.h ===\n+ * Copyright (C) 1998 Bjorn Reese and Daniel Stenberg.\n+=== copyright notices for triodef.h ===\n+ * Copyright (C) 2001 Bjorn Reese <breese@users.sourceforge.net>\n+=== license text for trio.h and triodef.h ===\n+ *\n+ * Permission to use, copy, modify, and distribute this software for any\n+ * purpose with or without fee is hereby granted, provided that the above\n+ * copyright notice and this permission notice appear in all copies.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED\n+ * WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF\n+ * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE AUTHORS AND\n+ * CONTRIBUTORS ACCEPT NO RESPONSIBILITY IN ANY CONCEIVABLE MANNER.\n+ *\n+\n+```\n+\n+### AUTHORS File Information\n+```\n+LIBXSLT REFERENCE LIBRARY AUTHORS\n+=============================\n+\n+This is the list of LIBXSLT Reference Library (\"libxslt\") Contributing\n+Authors, for copyright and licensing purposes.\n+\n+Daniel Veillard:\n+   daniel@veillard.com\n+   DV on #gnome IRC channel\n+   http:\/\/veillard.com\/\n+   Used to work at W3C, now Red Hat\n+   co-chair of W3C XML Linking WG\n+   invited expert on the W3C XML Core WG\n+   Author of libxml2 upon which this library is based.\n+\n+Bjorn Reese:\n+   breese@users.sourceforge.net\n+   http:\/\/home1.stofanet.dk\/breese\/\n+   Software developer at http:\/\/www.systematic.dk\/\n+   Member of the XML-MTF Mapping WG.\n+\n+William Brack <wbrack@mmm.com.hk>\n+\n+Thomas Broyer <tbroyer@ltgt.net>\n+\n+Igor Zlatkovic <igor@zlatkovic.com> for the Windows port\n+\n+Patches gently provided by a multitude of people :\n+\n+Abhishek Arya <inferno@chromium.org>\n+Ben Walton <bwalton@artsci.utoronto.ca>\n+Bjorn Reese <breese@src.gnome.org>\n+C. M. Sperberg-McQueen <cmsmcq@blackmesatech.com>\n+Colin Walters <walters@verbum.org>\n+Daniel Mustieles <daniel.mustieles@gmail.com>\n+Daniel Richard G <oss@teragram.com>\n+Darin Adler <darin@src.gnome.org>\n+ÉRDI Gergo <cactus@src.gnome.org>\n+Fatih Demir <kabalak@src.gnome.org>\n+Federico Mena Quintero <federico@ximian.com>\n+Frederic Crozat <fcrozat@mandriva.com>\n+Hao Hu <ihaohu@gmail.com>\n+Havoc Pennington <hp@pobox.com>\n+IlyaS <astro.courier@gmail.com>\n+jacob berkman <jacob@ximian.com>\n+Jason Viers <bean@beanalby.net>\n+Jérôme Carretero <cJ-xslt@zougloub.eu>\n+Joachim Breitner <nomeata@debian.org>\n+Johan Dahlin <zilch@src.gnome.org>\n+John Fleck <jfleck@inkstain.net>\n+Jose Maria Celorio <chema@src.gnome.org>\n+Julio M. Merino Vidal <jmmv@NetBSD.org>\n+Kasimier T. Buchcik <kbuchcik@src.gnome.org>\n+Kjartan Maraas <kmaraas@src.gnome.org>\n+Laurence Rowe <l@lrowe.co.uk>\n+Malcolm Purvis <malcolm@purvis.id.au>\n+Martin <gzlist@googlemail.com>\n+Michael Bonfils <murlock42@gmail.com>\n+Mike Hommey <mh@glandium.org>\n+money_seshu Dronamraju <mcseshu@gmail.com>\n+Nick Wellnhofer <wellnhofer@aevum.de>\n+Nix <nix@esperi.org.uk>\n+Pedro F. Giffuni <giffunip@tutopia.com>\n+Peter Williams <peterw@ximian.com>\n+Rob Richards <rrichard@src.gnome.org>\n+Roumen Petrov <bugtrack@roumenpetrov.info>\n+Stefan Kost <ensonic@users.sf.net>\n+Tomasz Kłoczko <kloczek@src.gnome.org>\n+Chris Evans <cevans@chromium.org>\n+\n","filename":"modules\/javafx.web\/src\/main\/legal\/libxslt.md","additions":91,"deletions":1,"binary":false,"changes":92,"status":"modified"},{"patch":"@@ -10,18 +10,0 @@\n-\/* Define to 1 if you have the <errno.h> header file. *\/\n-#define HAVE_ERRNO_H 1\n-\n-\/* Define if fabs is there *\/\n-#define HAVE_FABS \/**\/\n-\n-\/* Define to 1 if you have the <float.h> header file. *\/\n-#define HAVE_FLOAT_H 1\n-\n-\/* Define if floor is there *\/\n-#define HAVE_FLOOR \/**\/\n-\n-\/* Define to 1 if you have the `fprintf' function. *\/\n-#define HAVE_FPRINTF 1\n-\n-\/* Define to 1 if you have the <fp_class.h> header file. *\/\n-\/* #undef HAVE_FP_CLASS_H *\/\n-\n@@ -32,1 +14,1 @@\n-\/* #undef HAVE_GCRYPT *\/\n+#define HAVE_GCRYPT 1\n@@ -37,3 +19,0 @@\n-\/* Define to 1 if you have the `gmtime' function. *\/\n-#define HAVE_GMTIME 1\n-\n@@ -43,3 +22,0 @@\n-\/* Define to 1 if you have the <ieeefp.h> header file. *\/\n-\/* #undef HAVE_IEEEFP_H *\/\n-\n@@ -55,3 +31,0 @@\n-\/* Define to 1 if you have the `localtime' function. *\/\n-#define HAVE_LOCALTIME 1\n-\n@@ -61,14 +34,2 @@\n-\/* Define to 1 if you have the <math.h> header file. *\/\n-#define HAVE_MATH_H 1\n-\n-\/* Define to 1 if you have the <memory.h> header file. *\/\n-#define HAVE_MEMORY_H 1\n-\n-\/* Define to 1 if you have the <nan.h> header file. *\/\n-\/* #undef HAVE_NAN_H *\/\n-\n-\/* Define if pow is there *\/\n-#define HAVE_POW \/**\/\n-\n-\/* Define to 1 if you have the `printf' function. *\/\n-#define HAVE_PRINTF 1\n+\/* Define to 1 if you have the <minix\/config.h> header file. *\/\n+\/* #undef HAVE_MINIX_CONFIG_H *\/\n@@ -82,6 +43,0 @@\n-\/* Define to 1 if you have the `sprintf' function. *\/\n-#define HAVE_SPRINTF 1\n-\n-\/* Define to 1 if you have the `sscanf' function. *\/\n-#define HAVE_SSCANF 1\n-\n@@ -91,3 +46,0 @@\n-\/* Define to 1 if you have the <stdarg.h> header file. *\/\n-#define HAVE_STDARG_H 1\n-\n@@ -97,0 +49,3 @@\n+\/* Define to 1 if you have the <stdio.h> header file. *\/\n+#define HAVE_STDIO_H 1\n+\n@@ -124,6 +79,0 @@\n-\/* Define to 1 if you have the `time' function. *\/\n-#define HAVE_TIME 1\n-\n-\/* Define to 1 if you have the <time.h> header file. *\/\n-#define HAVE_TIME_H 1\n-\n@@ -133,3 +82,0 @@\n-\/* Define to 1 if you have the `vfprintf' function. *\/\n-#define HAVE_VFPRINTF 1\n-\n@@ -139,2 +85,2 @@\n-\/* Define to 1 if you have the `vsprintf' function. *\/\n-#define HAVE_VSPRINTF 1\n+\/* Define to 1 if you have the <wchar.h> header file. *\/\n+#define HAVE_WCHAR_H 1\n@@ -161,1 +107,1 @@\n-#define PACKAGE_STRING \"libxslt 1.1.35\"\n+#define PACKAGE_STRING \"libxslt 1.1.39\"\n@@ -170,1 +116,1 @@\n-#define PACKAGE_VERSION \"1.1.35\"\n+#define PACKAGE_VERSION \"1.1.39\"\n@@ -172,1 +118,3 @@\n-\/* Define to 1 if you have the ANSI C header files. *\/\n+\/* Define to 1 if all of the C90 standard headers exist (not just the ones\n+   required in a freestanding environment). This macro is provided for\n+   backward compatibility; new code need not use it. *\/\n@@ -179,0 +127,8 @@\n+\/* Enable general extensions on macOS.  *\/\n+#ifndef _DARWIN_C_SOURCE\n+# define _DARWIN_C_SOURCE 1\n+#endif\n+\/* Enable general extensions on Solaris.  *\/\n+#ifndef __EXTENSIONS__\n+# define __EXTENSIONS__ 1\n+#endif\n@@ -183,1 +139,30 @@\n-\/* Enable threading extensions on Solaris.  *\/\n+\/* Enable X\/Open compliant socket functions that do not require linking\n+   with -lxnet on HP-UX 11.11.  *\/\n+#ifndef _HPUX_ALT_XOPEN_SOCKET_API\n+# define _HPUX_ALT_XOPEN_SOCKET_API 1\n+#endif\n+\/* Identify the host operating system as Minix.\n+   This macro does not affect the system headers' behavior.\n+   A future release of Autoconf may stop defining this macro.  *\/\n+#ifndef _MINIX\n+\/* # undef _MINIX *\/\n+#endif\n+\/* Enable general extensions on NetBSD.\n+   Enable NetBSD compatibility extensions on Minix.  *\/\n+#ifndef _NETBSD_SOURCE\n+# define _NETBSD_SOURCE 1\n+#endif\n+\/* Enable OpenBSD compatibility extensions on NetBSD.\n+   Oddly enough, this does nothing on OpenBSD.  *\/\n+#ifndef _OPENBSD_SOURCE\n+# define _OPENBSD_SOURCE 1\n+#endif\n+\/* Define to 1 if needed for POSIX-compatible behavior.  *\/\n+#ifndef _POSIX_SOURCE\n+\/* # undef _POSIX_SOURCE *\/\n+#endif\n+\/* Define to 2 if needed for POSIX-compatible behavior.  *\/\n+#ifndef _POSIX_1_SOURCE\n+\/* # undef _POSIX_1_SOURCE *\/\n+#endif\n+\/* Enable POSIX-compatible threading on Solaris.  *\/\n@@ -187,0 +172,28 @@\n+\/* Enable extensions specified by ISO\/IEC TS 18661-5:2014.  *\/\n+#ifndef __STDC_WANT_IEC_60559_ATTRIBS_EXT__\n+# define __STDC_WANT_IEC_60559_ATTRIBS_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-1:2014.  *\/\n+#ifndef __STDC_WANT_IEC_60559_BFP_EXT__\n+# define __STDC_WANT_IEC_60559_BFP_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-2:2015.  *\/\n+#ifndef __STDC_WANT_IEC_60559_DFP_EXT__\n+# define __STDC_WANT_IEC_60559_DFP_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-4:2015.  *\/\n+#ifndef __STDC_WANT_IEC_60559_FUNCS_EXT__\n+# define __STDC_WANT_IEC_60559_FUNCS_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-3:2015.  *\/\n+#ifndef __STDC_WANT_IEC_60559_TYPES_EXT__\n+# define __STDC_WANT_IEC_60559_TYPES_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TR 24731-2:2010.  *\/\n+#ifndef __STDC_WANT_LIB_EXT2__\n+# define __STDC_WANT_LIB_EXT2__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC 24747:2009.  *\/\n+#ifndef __STDC_WANT_MATH_SPEC_FUNCS__\n+# define __STDC_WANT_MATH_SPEC_FUNCS__ 1\n+#endif\n@@ -191,3 +204,4 @@\n-\/* Enable general extensions on Solaris.  *\/\n-#ifndef __EXTENSIONS__\n-# define __EXTENSIONS__ 1\n+\/* Enable X\/Open extensions.  Define to 500 only if necessary\n+   to make mbstate_t available.  *\/\n+#ifndef _XOPEN_SOURCE\n+\/* # undef _XOPEN_SOURCE *\/\n@@ -198,1 +212,1 @@\n-#define VERSION \"1.1.35\"\n+#define VERSION \"1.1.39\"\n@@ -201,1 +215,1 @@\n-\/* #undef WITH_DEBUGGER *\/\n+#define WITH_DEBUGGER \/**\/\n@@ -204,11 +218,1 @@\n-\/* #undef WITH_PROFILER *\/\n-\n-\/* Define to 1 if on MINIX. *\/\n-\/* #undef _MINIX *\/\n-\n-\/* Define to 2 if the system does not provide POSIX.1 features except with\n-   this defined. *\/\n-\/* #undef _POSIX_1_SOURCE *\/\n-\n-\/* Define to 1 if you need to in order for `stat' and other things to work. *\/\n-\/* #undef _POSIX_SOURCE *\/\n+#define WITH_PROFILER \/**\/\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/linux\/config.h","additions":86,"deletions":82,"binary":false,"changes":168,"status":"modified"},{"patch":"@@ -21,1 +21,1 @@\n-#define LIBEXSLT_DOTTED_VERSION \"0.8.20\"\n+#define LIBEXSLT_DOTTED_VERSION \"0.8.21\"\n@@ -28,1 +28,1 @@\n-#define LIBEXSLT_VERSION 820\n+#define LIBEXSLT_VERSION 821\n@@ -35,1 +35,1 @@\n-#define LIBEXSLT_VERSION_STRING \"820\"\n+#define LIBEXSLT_VERSION_STRING \"821\"\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/linux\/libexslt\/exsltconfig.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-#define LIBXSLT_DOTTED_VERSION \"1.1.35\"\n+#define LIBXSLT_DOTTED_VERSION \"1.1.39\"\n@@ -33,1 +33,1 @@\n-#define LIBXSLT_VERSION 10135\n+#define LIBXSLT_VERSION 10139\n@@ -40,1 +40,1 @@\n-#define LIBXSLT_VERSION_STRING \"10135\"\n+#define LIBXSLT_VERSION_STRING \"10139\"\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/linux\/libxslt\/xsltwin32config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -5,1 +5,1 @@\n-\n+#define HAVE_CLOCK_GETTIME 1\n@@ -10,18 +10,0 @@\n-\/* Define to 1 if you have the <errno.h> header file. *\/\n-#define HAVE_ERRNO_H 1\n-\n-\/* Define if fabs is there *\/\n-\/* #undef HAVE_FABS *\/\n-\n-\/* Define to 1 if you have the <float.h> header file. *\/\n-#define HAVE_FLOAT_H 1\n-\n-\/* Define if floor is there *\/\n-\/* #undef HAVE_FLOOR *\/\n-\n-\/* Define to 1 if you have the `fprintf' function. *\/\n-#define HAVE_FPRINTF 1\n-\n-\/* Define to 1 if you have the <fp_class.h> header file. *\/\n-\/* #undef HAVE_FP_CLASS_H *\/\n-\n@@ -37,3 +19,0 @@\n-\/* Define to 1 if you have the `gmtime' function. *\/\n-#define HAVE_GMTIME 1\n-\n@@ -43,3 +22,0 @@\n-\/* Define to 1 if you have the <ieeefp.h> header file. *\/\n-\/* #undef HAVE_IEEEFP_H *\/\n-\n@@ -55,3 +31,0 @@\n-\/* Define to 1 if you have the `localtime' function. *\/\n-#define HAVE_LOCALTIME 1\n-\n@@ -61,3 +34,0 @@\n-\/* Define to 1 if you have the <math.h> header file. *\/\n-#define HAVE_MATH_H 1\n-\n@@ -67,9 +37,0 @@\n-\/* Define to 1 if you have the <nan.h> header file. *\/\n-\/* #undef HAVE_NAN_H *\/\n-\n-\/* Define if pow is there *\/\n-\/* #undef HAVE_POW *\/\n-\n-\/* Define to 1 if you have the `printf' function. *\/\n-#define HAVE_PRINTF 1\n-\n@@ -82,6 +43,0 @@\n-\/* Define to 1 if you have the `sprintf' function. *\/\n-#define HAVE_SPRINTF 1\n-\n-\/* Define to 1 if you have the `sscanf' function. *\/\n-#define HAVE_SSCANF 1\n-\n@@ -91,3 +46,0 @@\n-\/* Define to 1 if you have the <stdarg.h> header file. *\/\n-#define HAVE_STDARG_H 1\n-\n@@ -127,6 +79,0 @@\n-\/* Define to 1 if you have the `time' function. *\/\n-#define HAVE_TIME 1\n-\n-\/* Define to 1 if you have the <time.h> header file. *\/\n-#define HAVE_TIME_H 1\n-\n@@ -136,3 +82,0 @@\n-\/* Define to 1 if you have the `vfprintf' function. *\/\n-#define HAVE_VFPRINTF 1\n-\n@@ -142,3 +85,0 @@\n-\/* Define to 1 if you have the `vsprintf' function. *\/\n-#define HAVE_VSPRINTF 1\n-\n@@ -167,1 +107,1 @@\n-#define PACKAGE_STRING \"libxslt 1.1.35\"\n+#define PACKAGE_STRING \"libxslt 1.1.39\"\n@@ -176,1 +116,1 @@\n-#define PACKAGE_VERSION \"1.1.35\"\n+#define PACKAGE_VERSION \"1.1.39\"\n@@ -187,0 +127,8 @@\n+\/* Enable general extensions on macOS.  *\/\n+#ifndef _DARWIN_C_SOURCE\n+# define _DARWIN_C_SOURCE 1\n+#endif\n+\/* Enable general extensions on Solaris.  *\/\n+#ifndef __EXTENSIONS__\n+# define __EXTENSIONS__ 1\n+#endif\n@@ -191,1 +139,30 @@\n-\/* Enable threading extensions on Solaris.  *\/\n+\/* Enable X\/Open compliant socket functions that do not require linking\n+   with -lxnet on HP-UX 11.11.  *\/\n+#ifndef _HPUX_ALT_XOPEN_SOCKET_API\n+# define _HPUX_ALT_XOPEN_SOCKET_API 1\n+#endif\n+\/* Identify the host operating system as Minix.\n+   This macro does not affect the system headers' behavior.\n+   A future release of Autoconf may stop defining this macro.  *\/\n+#ifndef _MINIX\n+\/* # undef _MINIX *\/\n+#endif\n+\/* Enable general extensions on NetBSD.\n+   Enable NetBSD compatibility extensions on Minix.  *\/\n+#ifndef _NETBSD_SOURCE\n+# define _NETBSD_SOURCE 1\n+#endif\n+\/* Enable OpenBSD compatibility extensions on NetBSD.\n+   Oddly enough, this does nothing on OpenBSD.  *\/\n+#ifndef _OPENBSD_SOURCE\n+# define _OPENBSD_SOURCE 1\n+#endif\n+\/* Define to 1 if needed for POSIX-compatible behavior.  *\/\n+#ifndef _POSIX_SOURCE\n+\/* # undef _POSIX_SOURCE *\/\n+#endif\n+\/* Define to 2 if needed for POSIX-compatible behavior.  *\/\n+#ifndef _POSIX_1_SOURCE\n+\/* # undef _POSIX_1_SOURCE *\/\n+#endif\n+\/* Enable POSIX-compatible threading on Solaris.  *\/\n@@ -195,0 +172,28 @@\n+\/* Enable extensions specified by ISO\/IEC TS 18661-5:2014.  *\/\n+#ifndef __STDC_WANT_IEC_60559_ATTRIBS_EXT__\n+# define __STDC_WANT_IEC_60559_ATTRIBS_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-1:2014.  *\/\n+#ifndef __STDC_WANT_IEC_60559_BFP_EXT__\n+# define __STDC_WANT_IEC_60559_BFP_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-2:2015.  *\/\n+#ifndef __STDC_WANT_IEC_60559_DFP_EXT__\n+# define __STDC_WANT_IEC_60559_DFP_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-4:2015.  *\/\n+#ifndef __STDC_WANT_IEC_60559_FUNCS_EXT__\n+# define __STDC_WANT_IEC_60559_FUNCS_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TS 18661-3:2015.  *\/\n+#ifndef __STDC_WANT_IEC_60559_TYPES_EXT__\n+# define __STDC_WANT_IEC_60559_TYPES_EXT__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC TR 24731-2:2010.  *\/\n+#ifndef __STDC_WANT_LIB_EXT2__\n+# define __STDC_WANT_LIB_EXT2__ 1\n+#endif\n+\/* Enable extensions specified by ISO\/IEC 24747:2009.  *\/\n+#ifndef __STDC_WANT_MATH_SPEC_FUNCS__\n+# define __STDC_WANT_MATH_SPEC_FUNCS__ 1\n+#endif\n@@ -199,3 +204,4 @@\n-\/* Enable general extensions on Solaris.  *\/\n-#ifndef __EXTENSIONS__\n-# define __EXTENSIONS__ 1\n+\/* Enable X\/Open extensions.  Define to 500 only if necessary\n+   to make mbstate_t available.  *\/\n+#ifndef _XOPEN_SOURCE\n+\/* # undef _XOPEN_SOURCE *\/\n@@ -206,1 +212,1 @@\n-#define VERSION \"1.1.35\"\n+#define VERSION \"1.1.39\"\n@@ -209,1 +215,1 @@\n-\/* #undef WITH_DEBUGGER *\/\n+#define WITH_DEBUGGER \/**\/\n@@ -212,11 +218,1 @@\n-\/* #undef WITH_PROFILER *\/\n-\n-\/* Define to 1 if on MINIX. *\/\n-\/* #undef _MINIX *\/\n-\n-\/* Define to 2 if the system does not provide POSIX.1 features except with\n-   this defined. *\/\n-\/* #undef _POSIX_1_SOURCE *\/\n-\n-\/* Define to 1 if you need to in order for `stat' and other things to work. *\/\n-\/* #undef _POSIX_SOURCE *\/\n+#define WITH_PROFILER \/**\/\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/mac\/config.h","additions":76,"deletions":80,"binary":false,"changes":156,"status":"modified"},{"patch":"@@ -4,2 +4,0 @@\n-      $Id$\n-\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/FEATURES","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,2 +32,2 @@\n-When installing from a checkout of the GNOME CVS base:\n-======================================================\n+When installing from a Git clone:\n+=================================\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/INSTALL","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,7 +1,6 @@\n-SUBDIRS = \\\n-\tlibxslt \\\n-\tlibexslt \\\n-\txsltproc \\\n-\tdoc \\\n-\t$(PYTHON_SUBDIR) \\\n-\ttests\n+ACLOCAL_AMFLAGS = -I m4\n+\n+SUBDIRS = libxslt libexslt xsltproc doc tests\n+if WITH_PYTHON\n+SUBDIRS += python\n+endif\n@@ -16,1 +15,1 @@\n-dist-hook: cleanup libxslt.spec\n+dist-hook: cleanup\n@@ -20,3 +19,1 @@\n-\t(cd $(srcdir) ; tar -cf - --exclude CVS --exclude .svn win32 vms examples) | (cd $(distdir); tar xf -)\n-\n-CVS_EXTRA_DIST =\n+\t(cd $(srcdir) ; tar -cf - win32 vms examples) | (cd $(distdir); tar xf -)\n@@ -24,6 +21,3 @@\n-EXTRA_DIST = xsltConf.sh.in xslt-config.in libxslt.spec libxslt.spec.in \\\n-             FEATURES TODO Copyright libxslt.m4 \\\n-\t     win32\/libxslt\/libxslt.def win32\/libxslt\/libxslt.dsw \\\n-\t     win32\/libxslt\/libxslt_so.dsp win32\/libxslt\/xsltproc.dsp \\\n-\t     CMakeLists.txt config.h.cmake.in FindGcrypt.cmake libxslt-config.cmake.in libxslt-config.cmake.cmake.in \\\n-\t     $(CVS_EXTRA_DIST)\n+EXTRA_DIST = xsltConf.sh.in \\\n+             FEATURES TODO Copyright \\\n+\t     CMakeLists.txt config.h.cmake.in libxslt-config.cmake.in libxslt-config.cmake.cmake.in\n@@ -48,16 +42,0 @@\n-check-local: tests\n-\n-dummy:\n-\n-tests: dummy\n-\t@echo '## Running the regression test suite'\n-\t@(cd tests ; $(MAKE) -s tests)\n-\t@(cd xsltproc ; $(MAKE) -s tests)\n-\t@(if [ \"$(PYTHON_SUBDIR)\" != \"\" ] ; then cd python ; $(MAKE) -s tests ; fi)\n-\n-valgrind:\n-\t@echo '## Running the regression tests under Valgrind'\n-\t@echo '## Go get a cup of coffee it is gonna take a while ...'\n-\t@(cd tests ; $(MAKE) CHECKER='libtool --mode=execute valgrind -q --leak-check=full' tests)\n-\t@(cd xsltproc ; $(MAKE) CHECKER='libtool --mode=execute valgrind -q --leak-check=full' tests)\n-\n@@ -78,1 +56,2 @@\n-cmake_DATA = FindGcrypt.cmake libxslt-config.cmake\n+dist_cmake_DATA = FindGcrypt.cmake\n+cmake_DATA = libxslt-config.cmake\n@@ -81,1 +60,1 @@\n-m4data_DATA = libxslt.m4\n+dist_m4data_DATA = libxslt.m4\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/Makefile.am","additions":14,"deletions":35,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -9,18 +9,0 @@\n-\/* Define to 1 if you have the <errno.h> header file. *\/\n-#undef HAVE_ERRNO_H\n-\n-\/* Define if fabs is there *\/\n-#undef HAVE_FABS\n-\n-\/* Define to 1 if you have the <float.h> header file. *\/\n-#undef HAVE_FLOAT_H\n-\n-\/* Define if floor is there *\/\n-#undef HAVE_FLOOR\n-\n-\/* Define to 1 if you have the `fprintf' function. *\/\n-#undef HAVE_FPRINTF\n-\n-\/* Define to 1 if you have the <fp_class.h> header file. *\/\n-#undef HAVE_FP_CLASS_H\n-\n@@ -36,3 +18,0 @@\n-\/* Define to 1 if you have the `gmtime' function. *\/\n-#undef HAVE_GMTIME\n-\n@@ -42,3 +21,0 @@\n-\/* Define to 1 if you have the <ieeefp.h> header file. *\/\n-#undef HAVE_IEEEFP_H\n-\n@@ -54,3 +30,0 @@\n-\/* Define to 1 if you have the `localtime' function. *\/\n-#undef HAVE_LOCALTIME\n-\n@@ -60,3 +33,0 @@\n-\/* Define to 1 if you have the <math.h> header file. *\/\n-#undef HAVE_MATH_H\n-\n@@ -66,9 +36,0 @@\n-\/* Define to 1 if you have the <nan.h> header file. *\/\n-#undef HAVE_NAN_H\n-\n-\/* Define if pow is there *\/\n-#undef HAVE_POW\n-\n-\/* Define to 1 if you have the `printf' function. *\/\n-#undef HAVE_PRINTF\n-\n@@ -81,6 +42,0 @@\n-\/* Define to 1 if you have the `sprintf' function. *\/\n-#undef HAVE_SPRINTF\n-\n-\/* Define to 1 if you have the `sscanf' function. *\/\n-#undef HAVE_SSCANF\n-\n@@ -90,3 +45,0 @@\n-\/* Define to 1 if you have the <stdarg.h> header file. *\/\n-#undef HAVE_STDARG_H\n-\n@@ -126,6 +78,0 @@\n-\/* Define to 1 if you have the `time' function. *\/\n-#undef HAVE_TIME\n-\n-\/* Define to 1 if you have the <time.h> header file. *\/\n-#undef HAVE_TIME_H\n-\n@@ -135,3 +81,0 @@\n-\/* Define to 1 if you have the `vfprintf' function. *\/\n-#undef HAVE_VFPRINTF\n-\n@@ -141,3 +84,0 @@\n-\/* Define to 1 if you have the `vsprintf' function. *\/\n-#undef HAVE_VSPRINTF\n-\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/config.h.in","additions":0,"deletions":60,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -6,1 +6,1 @@\n-m4_define([MICRO_VERSION], [35])\n+m4_define([MICRO_VERSION], [39])\n@@ -11,0 +11,1 @@\n+AC_CONFIG_MACRO_DIR([m4])\n@@ -23,1 +24,1 @@\n-LIBEXSLT_MICRO_VERSION=20\n+LIBEXSLT_MICRO_VERSION=21\n@@ -33,15 +34,1 @@\n-if test -f CVS\/Entries; then\n-  extra=`grep ChangeLog CVS\/Entries | grep -v LIBXSLT | sed -e s\\%\/ChangeLog\/1\\.%% -e s\\%\/.*$%%`\n-  echo extra=$extra\n-  if test \"$extra\" != \"\"\n-  then\n-      LIBXSLT_VERSION_EXTRA=\"-CVS$extra\"\n-  fi\n-else if test -d .svn ; then\n-  extra=`svn info | grep Revision | sed 's+Revision: ++'`\n-  echo extra=$extra\n-  if test \"$extra\" != \"\"\n-  then\n-      LIBXSLT_VERSION_EXTRA=\"-SVN$extra\"\n-  fi\n-else if test -d .git ; then\n+if test -d .git ; then\n@@ -53,0 +40,1 @@\n+      LIBEXSLT_VERSION_EXTRA=\"-GIT$extra\"\n@@ -55,2 +43,0 @@\n-fi\n-fi\n@@ -76,4 +62,0 @@\n-if test -f CVS\/Entries; then\n-  LIBEXSLT_VERSION_EXTRA=-CVS`grep ChangeLog CVS\/Entries | sed -e s\\%\/ChangeLog\/1\\.%% -e s\\%\/.*$%%`\n-fi\n-\n@@ -88,30 +70,3 @@\n-AM_INIT_AUTOMAKE([foreign])\n-\n-# AM_MAINTAINER_MODE\n-\n-# Support silent build rules, requires at least automake-1.11. Disable\n-# by either passing --disable-silent-rules to configure or passing V=1\n-# to make\n-m4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])])\n-\n-dnl\n-dnl Specific dir for HTML output ?\n-dnl\n-\n-AC_ARG_WITH(html-dir, AS_HELP_STRING([--with-html-dir=path],\n-            [path to base html directory, default $datadir\/doc\/html]),\n-            [HTML_DIR=$withval], [HTML_DIR='$(datadir)\/doc'])\n-\n-AC_ARG_WITH(html-subdir, AS_HELP_STRING([--with-html-subdir=path],\n-            [directory used under html-dir, default $PACKAGE-$VERSION\/html]),\n-            [test \"x$withval\" != \"x\" && HTML_DIR=\"$HTML_DIR\/$withval\"],\n-            [HTML_DIR=\"$HTML_DIR\/\\$(PACKAGE)-\\$(VERSION)\/html\"])\n-\n-AC_SUBST(HTML_DIR)\n-\n-AC_ARG_ENABLE(rebuild-docs,\n-[  --enable-rebuild-docs[[=yes\/no]]  rebuild some generated docs [[default=no]]])\n-if test \"$enable_rebuild_docs\" = \"yes\" -a \"$srcdir\" != \".\"; then\n-  AC_MSG_ERROR([cannot rebuild docs when builddir != srcdir])\n-fi\n-AM_CONDITIONAL([REBUILD_DOCS], [test \"$enable_rebuild_docs\" = \"yes\"])\n+AM_INIT_AUTOMAKE([1.16.3 foreign no-dist-gzip dist-xz])\n+AM_MAINTAINER_MODE([enable])\n+AM_SILENT_RULES([yes])\n@@ -130,3 +85,2 @@\n-AC_HEADER_STDC\n-\n-LT_INIT(win32-dll)\n+LT_INIT([disable-static win32-dll])\n+LT_LIB_M\n@@ -135,1 +89,1 @@\n-AC_CHECK_HEADERS(sys\/types.h sys\/time.h stdlib.h unistd.h string.h)\n+AC_CHECK_HEADERS(sys\/types.h sys\/time.h unistd.h)\n@@ -144,1 +98,5 @@\n-    VERSION_SCRIPT_FLAGS=-Wl,--version-script=\n+    dnl lld 16 defaults to --no-undefined-version but the version script\n+    dnl can contain symbols disabled by configuration options.\n+    VERSION_SCRIPT_FLAGS=''\n+    AX_APPEND_LINK_FLAGS([-Wl,--undefined-version], [VERSION_SCRIPT_FLAGS])\n+    AX_APPEND_FLAG([-Wl,--version-script=], [VERSION_SCRIPT_FLAGS])\n@@ -181,3 +139,1 @@\n-AC_CHECK_HEADERS(ieeefp.h nan.h math.h fp_class.h float.h)\n-AC_CHECK_HEADERS(sys\/timeb.h time.h sys\/stat.h sys\/select.h stdarg.h)\n-AC_CHECK_HEADERS(errno.h)\n+AC_CHECK_HEADERS(sys\/timeb.h sys\/stat.h sys\/select.h)\n@@ -185,9 +141,0 @@\n-AC_CHECK_FUNC(pow, , AC_CHECK_LIB(m, pow,\n-  [M_LIBS=\"-lm\"; AC_DEFINE([HAVE_POW],[], [Define if pow is there])]))\n-\n-AC_CHECK_FUNC(floor, , AC_CHECK_LIB(m, floor,\n-  [M_LIBS=\"-lm\"; AC_DEFINE([HAVE_FLOOR],[], [Define if floor is there])]))\n-\n-AC_CHECK_FUNC(fabs, , AC_CHECK_LIB(m, fabs,\n-  [M_LIBS=\"-lm\"; AC_DEFINE([HAVE_FABS],[], [Define if fabs is there])]))\n-\n@@ -196,1 +143,1 @@\n-AC_CHECK_FUNCS(localtime localtime_r time gmtime gmtime_r ftime)\n+AC_CHECK_FUNCS(localtime_r gmtime_r ftime)\n@@ -199,1 +146,1 @@\n-AC_CHECK_FUNCS(printf sprintf fprintf snprintf vfprintf vsprintf vsnprintf sscanf,,\n+AC_CHECK_FUNCS(snprintf vsnprintf,,\n@@ -240,5 +187,0 @@\n-PYTHON_VERSION=\n-PYTHON_INCLUDES=\n-PYTHON_SITE_PACKAGES=\n-PYTHON_TESTS=\n-pythondir=\n@@ -246,109 +188,13 @@\n-[  --with-python[[=DIR]]     build Python bindings if found])\n-AC_ARG_WITH(python_install_dir,\n-[  --with-python-install-dir=DIR\n-                          install Python bindings in DIR])\n-if test \"$with_python\" != \"no\" ; then\n-    if test -x \"$with_python\/bin\/python\"\n-    then\n-        echo Found python in $with_python\/bin\/python\n-        PYTHON=\"$with_python\/bin\/python\"\n-    else\n-        if test -x \"$with_python\/python.exe\"\n-        then\n-            echo Found python in $with_python\/python.exe\n-            PYTHON=\"$with_python\/python.exe\"\n-        else\n-            if test -x \"$with_python\"\n-            then\n-                echo Found python in $with_python\n-                PYTHON=\"$with_python\"\n-            else\n-                if test -x \"$PYTHON\"\n-                then\n-                    echo Found python in environment PYTHON=$PYTHON\n-                    with_python=`$PYTHON -c \"import sys; print(sys.exec_prefix)\"`\n-                else\n-                    AC_PATH_PROG(PYTHON, python python2.6 python2.5 python2.4 python2.3 python2.2 python2.1 python2.0 python1.6 python1.5)\n-\t\tfi\n-\t    fi\n-\tfi\n-    fi\n-    if test \"$PYTHON\" != \"\"\n-    then\n-        PYTHON_VERSION=`$PYTHON -c \"from distutils import sysconfig; print(sysconfig.get_python_version())\"`\n-\tPYTHON_INCLUDES=`$PYTHON -c \"from distutils import sysconfig; print(sysconfig.get_python_inc())\"`\n-# does not work as it produce a \/usr\/lib\/python path instead of\/usr\/lib64\/python\n-#\n-#\tPYTHON_SITE_PACKAGES=`$PYTHON -c \"from distutils import sysconfig; print(sysconfig.get_python_lib())\"`\n-\techo Found Python version $PYTHON_VERSION\n-  LIBXML2_PYTHON=`$PYTHON -c \"import sys\n-try:\n-    import libxml2\n-    sys.stdout.write('1')\n-except:\n-    sys.stdout.write('0')\n-\"`\n-\tif test \"$LIBXML2_PYTHON\" = \"1\"\n-\tthen\n-\t    echo Found libxml2-python module\n-\telse\n-\t    echo Warning: Missing libxml2-python\n-  fi\n-    fi\n-    if test \"$PYTHON_VERSION\" != \"\" -a \"$PYTHON_INCLUDES\" = \"\"\n-    then\n-\tif test -r $with_python\/include\/python$PYTHON_VERSION\/Python.h\n-\tthen\n-\t    PYTHON_INCLUDES=$with_python\/include\/python$PYTHON_VERSION\n-\telse\n-\t    if test -r $prefix\/include\/python$PYTHON_VERSION\/Python.h\n-\t    then\n-\t        PYTHON_INCLUDES=$prefix\/include\/python$PYTHON_VERSION\n-\t    else\n-\t\tif test -r \/usr\/include\/python$PYTHON_VERSION\/Python.h\n-\t\tthen\n-\t\t    PYTHON_INCLUDES=\/usr\/include\/python$PYTHON_VERSION\n-\t\telse\n-\t            if test -r $with_python\/include\/Python.h\n-\t            then\n-\t                PYTHON_INCLUDES=$with_python\/include\n-\t            else\n-\t\t        echo could not find python$PYTHON_VERSION\/Python.h or $with_python\/include\/Python.h\n-\t\t    fi\n-\t\tfi\n-\t    fi\n-\tfi\n-    fi\n-    if test \"$with_python_install_dir\" != \"\"\n-    then\n-\tPYTHON_SITE_PACKAGES=\"$with_python_install_dir\"\n-    fi\n-    if test \"$PYTHON_VERSION\" != \"\" -a \"$PYTHON_SITE_PACKAGES\" = \"\"\n-    then\n-\tif test -d $libdir\/python$PYTHON_VERSION\/site-packages\n-\tthen\n-\t    PYTHON_SITE_PACKAGES=$libdir\/python$PYTHON_VERSION\/site-packages\n-\telse\n-\t    if test -d $with_python\/lib\/site-packages\n-\t    then\n-\t\tPYTHON_SITE_PACKAGES=$with_python\/lib\/site-packages\n-\t    else\n-\t\tPYTHON_SITE_PACKAGES=$($PYTHON -c 'from distutils import sysconfig; print(sysconfig.get_python_lib(True,False,\"${exec_prefix}\"))')\n-\t    fi\n-\tfi\n-    fi\n-    pythondir='$(PYTHON_SITE_PACKAGES)'\n-    PYTHON_LIBS=`python$PYTHON_VERSION-config --ldflags`\n-else\n-    PYTHON=\n-fi\n-AM_CONDITIONAL(WITH_PYTHON, test \"$PYTHON_INCLUDES\" != \"\")\n-if test \"$PYTHON_INCLUDES\" != \"\"\n-then\n-    PYTHON_SUBDIR=python\n-else\n-    PYTHON_SUBDIR=\n-fi\n-AC_SUBST(pythondir)\n-AC_SUBST(PYTHON_SUBDIR)\n-AC_SUBST(PYTHON_LIBS)\n+[  --with-python           build Python bindings (on)])\n+\n+AS_IF([test \"x$with_python\" != \"xno\"], [\n+    AM_PATH_PYTHON\n+    PKG_CHECK_MODULES([PYTHON], [python-${PYTHON_VERSION}])\n+    case \"$host\" in\n+        *-*-cygwin* | *-*-mingw* | *-*-msys* )\n+            PYTHON_LDFLAGS=\"-no-undefined -shrext .pyd\"\n+            ;;\n+    esac\n+])\n+AC_SUBST(PYTHON_LDFLAGS)\n+AM_CONDITIONAL([WITH_PYTHON], [test \"x$with_python\" != \"xno\"])\n@@ -401,13 +247,0 @@\n-dnl\n-dnl Debug for DV (-Wunreachable-code)\n-dnl\n-if [[ \"${LOGNAME}\" = \"veillard\" -a \"`pwd`\" = \"\/u\/veillard\/XSLT\" ]] || \\\n-   [[ \"${LOGNAME}\" = \"bill\" -a \"`pwd`\" = \"\/home\/bill\/gnomesvn\/libxslt\" ]]\n-   then\n-    if test \"${with_mem_debug}\" = \"\" ;\n-    then\n-\twith_mem_debug=\"yes\"\n-    fi\n-    CFLAGS=\"-Wall -g -O -ansi -pedantic -W -Wunused -Wimplicit -Wreturn-type -Wswitch -Wcomment -Wtrigraphs -Wformat=2 -Wmissing-format-attribute -Wchar-subscripts -Wuninitialized -Wparentheses -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Waggregate-return -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs -Winline \"\n-fi\n-\n@@ -511,1 +344,1 @@\n-\t       CFLAGS=\"${CFLAGS} -Wp,-H30000\"\n+\t       AM_CFLAGS=\"${AM_CFLAGS} -Wp,-H30000\"\n@@ -514,1 +347,1 @@\n-               CFLAGS=\"${CFLAGS} -ieee\"\n+               AM_CFLAGS=\"${AM_CFLAGS} -ieee\"\n@@ -518,1 +351,1 @@\n-    CFLAGS=\"${CFLAGS} -Wall -Wextra -Wformat=2 -Wmissing-format-attribute -Wshadow\"\n+    AM_CFLAGS=\"${AM_CFLAGS} -Wall -Wextra -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Waggregate-return -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs -Winline -Wredundant-decls\"\n@@ -521,1 +354,1 @@\n-\t       CFLAGS=\"${CFLAGS} -mieee\"\n+\t       AM_CFLAGS=\"${AM_CFLAGS} -mieee\"\n@@ -524,1 +357,1 @@\n-\t       CFLAGS=\"${CFLAGS} -mieee\"\n+\t       AM_CFLAGS=\"${AM_CFLAGS} -mieee\"\n@@ -545,1 +378,1 @@\n-if test \"$build_shared_libs\" = \"no\" -a \"$build_static_libs\" = \"no\"; then\n+if test \"$build_shared_libs\" = \"no\" && test \"$build_static_libs\" = \"no\"; then\n@@ -576,2 +409,2 @@\n-if test \"x$LIBXML_CONFIG_PREFIX\" = \"x\" -a \"x$LIBXML_LIBS\" = \"x\"; then\n-    if test \"$build_static_libs\" = \"no\"; then\n+if test \"x$LIBXML_CONFIG_PREFIX\" = \"x\" && test \"x$LIBXML_LIBS\" = \"x\"; then\n+    if test \"$build_shared_libs\" = \"yes\"; then\n@@ -617,0 +450,1 @@\n+AM_CFLAGS=\"$AM_CFLAGS $LIBXML_CFLAGS\"\n@@ -618,3 +452,0 @@\n-AC_SUBST(CFLAGS)\n-AC_SUBST(CPPFLAGS)\n-AC_SUBST(LDFLAGS)\n@@ -630,1 +461,1 @@\n-if test \"$build_shared_libs\" = \"no\" -a \"$with_plugins\" = \"yes\"; then\n+if test \"$build_shared_libs\" = \"no\" && test \"$with_plugins\" = \"yes\"; then\n@@ -669,9 +500,0 @@\n-case \"$host\" in\n- *-*-cygwin*|*-*-mingw*)\n- LDFLAGS=\"$LDFLAGS -no-undefined\"\n- ;;\n-esac\n-\n-\n-AC_SUBST(XSLTPROCDV)\n-AC_SUBST(PYTHONSODV)\n@@ -681,4 +503,0 @@\n-AC_SUBST(PYTHON)\n-AC_SUBST(PYTHON_VERSION)\n-AC_SUBST(PYTHON_INCLUDES)\n-AC_SUBST(PYTHON_SITE_PACKAGES)\n@@ -689,1 +507,1 @@\n-XSLT_PRIVATE_LIBS=\"$M_LIBS\"\n+XSLT_PRIVATE_LIBS=\"$LIBM\"\n@@ -695,0 +513,21 @@\n+LIBXSLT_CFLAGS=\"\"\n+LIBEXSLT_CFLAGS=\"\"\n+case ${host} in\n+    *-*-mingw* | *-*-cygwin* | *-*-msvc* )\n+        # If the host is Windows, and shared libraries are disabled, we\n+        # need to add -DLIBXML_STATIC to AM_CFLAGS in order for linking to\n+        # work properly (without it, xmlexports.h would force the use of\n+        # DLL imports, which obviously aren't present in a static\n+        # library).\n+        if test \"x$enable_shared\" = \"xno\"; then\n+           LIBXSLT_CFLAGS=\"$LIBXSLT_CFLAGS -DLIBXSLT_STATIC\"\n+           LIBEXSLT_CFLAGS=\"$LIBEXSLT_CFLAGS -DLIBEXSLT_STATIC\"\n+           AM_CFLAGS=\"$AM_CFLAGS -DLIBXSLT_STATIC -DLIBEXSLT_STATIC\"\n+        fi\n+        ;;\n+esac\n+AC_SUBST(LIBXSLT_CFLAGS)\n+AC_SUBST(LIBEXSLT_CFLAGS)\n+\n+AC_SUBST(AM_CFLAGS)\n+\n@@ -704,2 +543,0 @@\n-AC_SUBST(M_LIBS)\n-\n@@ -710,2 +547,0 @@\n-rm -f COPYING.LIB COPYING 2>\/dev\/null && $LN_S $srcdir\/Copyright COPYING\n-\n@@ -720,1 +555,0 @@\n-libxslt\/xsltwin32config.h\n@@ -725,0 +559,1 @@\n+python\/setup.py\n@@ -727,11 +562,0 @@\n-tests\/docs\/Makefile\n-tests\/REC1\/Makefile\n-tests\/REC2\/Makefile\n-tests\/REC\/Makefile\n-tests\/general\/Makefile\n-tests\/reports\/Makefile\n-tests\/extensions\/Makefile\n-tests\/namespaces\/Makefile\n-tests\/keys\/Makefile\n-tests\/numbers\/Makefile\n-tests\/documents\/Makefile\n@@ -743,11 +567,0 @@\n-tests\/exslt\/Makefile\n-tests\/exslt\/common\/Makefile\n-tests\/exslt\/functions\/Makefile\n-tests\/exslt\/math\/Makefile\n-tests\/exslt\/saxon\/Makefile\n-tests\/exslt\/sets\/Makefile\n-tests\/exslt\/strings\/Makefile\n-tests\/exslt\/date\/Makefile\n-tests\/exslt\/dynamic\/Makefile\n-tests\/exslt\/crypto\/Makefile\n-tests\/plugins\/Makefile\n@@ -758,1 +571,0 @@\n-xslt-config\n@@ -761,2 +573,1 @@\n-AC_CONFIG_LINKS([tests\/fuzz\/xpath.xml:tests\/fuzz\/xpath.xml])\n-AC_CONFIG_LINKS([tests\/fuzz\/xslt.xml:tests\/fuzz\/xslt.xml])\n+AC_CONFIG_FILES([xslt-config], [chmod +x xslt-config])\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/configure.ac","additions":66,"deletions":255,"binary":false,"changes":321,"status":"modified"},{"patch":"@@ -11,1 +11,1 @@\n-Cflags: @EXSLT_INCLUDEDIR@\n+Cflags: @EXSLT_INCLUDEDIR@ @LIBEXSLT_CFLAGS@\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libexslt.pc.in","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -11,1 +11,1 @@\n-Cflags: @XSLT_INCLUDEDIR@\n+Cflags: @XSLT_INCLUDEDIR@ @LIBXSLT_CFLAGS@\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt.pc.in","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-Version: 1.1.35\n+Version: 1.1.39\n@@ -62,1 +62,0 @@\n-gzip -9 ChangeLog\n@@ -73,1 +72,1 @@\n-make tests\n+make check\n@@ -87,1 +86,1 @@\n-%doc AUTHORS ChangeLog.gz NEWS README Copyright TODO FEATURES\n+%doc AUTHORS NEWS README Copyright TODO FEATURES\n@@ -98,1 +97,1 @@\n-%doc AUTHORS ChangeLog.gz NEWS README Copyright TODO FEATURES\n+%doc AUTHORS NEWS README Copyright TODO FEATURES\n@@ -100,1 +99,0 @@\n-%doc doc\/libxslt-refs.xml\n@@ -102,1 +100,0 @@\n-%doc doc\/EXSLT\/libexslt-refs.xml\n@@ -122,1 +119,1 @@\n-%doc AUTHORS ChangeLog.gz NEWS README Copyright FEATURES\n+%doc AUTHORS NEWS README Copyright FEATURES\n@@ -131,2 +128,2 @@\n-* Fri May 13 2022 Daniel Veillard <veillard@redhat.com>\n-- upstream release 1.1.35\n+* Wed Nov 29 2023 Daniel Veillard <veillard@redhat.com>\n+- upstream release 1.1.39\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt.spec","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -62,1 +62,0 @@\n-gzip -9 ChangeLog\n@@ -73,1 +72,1 @@\n-make tests\n+make check\n@@ -87,1 +86,1 @@\n-%doc AUTHORS ChangeLog.gz NEWS README Copyright TODO FEATURES\n+%doc AUTHORS NEWS README Copyright TODO FEATURES\n@@ -98,1 +97,1 @@\n-%doc AUTHORS ChangeLog.gz NEWS README Copyright TODO FEATURES\n+%doc AUTHORS NEWS README Copyright TODO FEATURES\n@@ -100,1 +99,0 @@\n-%doc doc\/libxslt-refs.xml\n@@ -102,1 +100,0 @@\n-%doc doc\/EXSLT\/libexslt-refs.xml\n@@ -122,1 +119,1 @@\n-%doc AUTHORS ChangeLog.gz NEWS README Copyright FEATURES\n+%doc AUTHORS NEWS README Copyright FEATURES\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt.spec.in","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -3,2 +3,0 @@\n-AM_CFLAGS = $(LIBXML_CFLAGS)\n-\n@@ -54,1 +52,0 @@\n-\txsltwin32config.h.in\t\t\\\n@@ -56,2 +53,0 @@\n-nodist_libxslt_la_SOURCES =\t\t\\\n-\txsltwin32config.h\n@@ -65,1 +60,1 @@\n-libxslt_la_LIBADD = $(LIBXML_LIBS) $(EXTRA_LIBS) $(M_LIBS)\n+libxslt_la_LIBADD = $(LIBXML_LIBS) $(EXTRA_LIBS) $(LIBM)\n@@ -67,0 +62,1 @@\n+\t\t$(AM_LDFLAGS) -no-undefined\t\t\\\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/Makefile.am","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -17,19 +17,0 @@\n-#ifdef HAVE_SYS_TYPES_H\n-#include <sys\/types.h>\n-#endif\n-#ifdef HAVE_MATH_H\n-#include <math.h>\n-#endif\n-#ifdef HAVE_FLOAT_H\n-#include <float.h>\n-#endif\n-#ifdef HAVE_IEEEFP_H\n-#include <ieeefp.h>\n-#endif\n-#ifdef HAVE_NAN_H\n-#include <nan.h>\n-#endif\n-#ifdef HAVE_CTYPE_H\n-#include <ctype.h>\n-#endif\n-\n@@ -109,0 +90,1 @@\n+    int error;\n@@ -296,1 +278,1 @@\n-xsltNewAttrSet() {\n+xsltNewAttrSet(void) {\n@@ -443,1 +425,4 @@\n-        if (set == NULL)\n+        if ((set == NULL) ||\n+            (xmlHashAddEntry2(style->attributeSets, ncname, nsUri, set) < 0)) {\n+            xsltGenericError(xsltGenericErrorContext, \"memory error\\n\");\n+            xsltFreeAttrSet(set);\n@@ -445,1 +430,1 @@\n-        xmlHashAddEntry2(style->attributeSets, ncname, nsUri, set);\n+        }\n@@ -685,0 +670,6 @@\n+    if (asctx->error) {\n+        if (style != topStyle)\n+            xsltFreeAttrSet(set);\n+        return;\n+    }\n+\n@@ -697,0 +688,2 @@\n+            asctx->error = 1;\n+            xsltFreeAttrSet(set);\n@@ -717,0 +710,1 @@\n+    asctx.error = 0;\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/attributes.c","additions":16,"deletions":22,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -16,0 +16,1 @@\n+#include \"xsltInternals.h\"\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/attributes.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -157,3 +157,2 @@\n-        xsltAttrVTPtr tmp = (xsltAttrVTPtr) xmlRealloc(avt, size);\n-        if (tmp == NULL) {\n-            xsltFreeAttrVT(avt);\n+        avt = (xsltAttrVTPtr) xmlRealloc(avt, size);\n+        if (avt == NULL)\n@@ -161,2 +160,0 @@\n-        }\n-        avt = tmp;\n@@ -185,1 +182,2 @@\n-    xsltAttrVTPtr avt;\n+    xmlXPathCompExprPtr comp = NULL;\n+    xsltAttrVTPtr avt, tmp;\n@@ -249,1 +247,1 @@\n-                if ((avt = xsltSetAttrVTsegment(avt, (void *) ret)) == NULL)\n+                if ((tmp = xsltSetAttrVTsegment(avt, (void *) ret)) == NULL)\n@@ -251,0 +249,1 @@\n+                avt = tmp;\n@@ -283,2 +282,0 @@\n-                xmlXPathCompExprPtr comp;\n-\n@@ -296,1 +293,3 @@\n-                    if ((avt = xsltSetAttrVTsegment(avt, NULL)) == NULL)\n+                    if ((tmp = xsltSetAttrVTsegment(avt, NULL)) == NULL) {\n+                        xsltTransformError(NULL, style, attr->parent,\n+                                           \"out of memory\\n\");\n@@ -298,0 +297,2 @@\n+                    }\n+                    avt = tmp;\n@@ -299,1 +300,3 @@\n-                if ((avt = xsltSetAttrVTsegment(avt, (void *) comp)) == NULL)\n+                if ((tmp = xsltSetAttrVTsegment(avt, (void *) comp)) == NULL) {\n+                    xsltTransformError(NULL, style, attr->parent,\n+                                       \"out of memory\\n\");\n@@ -301,0 +304,2 @@\n+                }\n+                avt = tmp;\n@@ -304,0 +309,1 @@\n+                comp = NULL;\n@@ -328,1 +334,1 @@\n-        if ((avt = xsltSetAttrVTsegment(avt, (void *) ret)) == NULL)\n+        if ((tmp = xsltSetAttrVTsegment(avt, (void *) ret)) == NULL)\n@@ -330,0 +336,1 @@\n+        avt = tmp;\n@@ -353,0 +360,2 @@\n+    if (comp != NULL)\n+        xmlXPathFreeCompExpr(comp);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/attrvt.c","additions":21,"deletions":12,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -402,0 +402,2 @@\n+    if (ret == NULL)\n+        xmlFreeDoc(doc);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/documents.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -15,0 +15,1 @@\n+#include <stdlib.h>\n@@ -29,0 +30,1 @@\n+#include <libxml\/threads.h>\n@@ -31,0 +33,1 @@\n+#include \"xsltlocale.h\"\n@@ -741,1 +744,3 @@\n-    if (dataContainer == NULL)\n+    if (dataContainer == NULL) {\n+        if (module->styleShutdownFunc)\n+            module->styleShutdownFunc(style, URI, userData);\n@@ -743,0 +748,1 @@\n+    }\n@@ -808,7 +814,5 @@\n-    while (tmpStyle != NULL) {\n-        if (tmpStyle->extInfos != NULL) {\n-            dataContainer =\n-                (xsltExtDataPtr) xmlHashLookup(tmpStyle->extInfos, URI);\n-            if (dataContainer != NULL) {\n-                return(dataContainer->extData);\n-            }\n+    if (tmpStyle->extInfos != NULL) {\n+        dataContainer =\n+            (xsltExtDataPtr) xmlHashLookup(tmpStyle->extInfos, URI);\n+        if (dataContainer != NULL) {\n+            return(dataContainer->extData);\n@@ -816,1 +820,0 @@\n-        tmpStyle = xsltNextImport(tmpStyle);\n@@ -818,1 +821,0 @@\n-    tmpStyle = style;\n@@ -923,3 +925,2 @@\n-            if (data == NULL)\n-                return (NULL);\n-            if (xmlHashAddEntry(ctxt->extInfos, URI, (void *) data) < 0) {\n+            if ((data == NULL) ||\n+                (xmlHashAddEntry(ctxt->extInfos, URI, (void *) data) < 0)) {\n@@ -997,0 +998,2 @@\n+        if (module->shutdownFunc)\n+            module->shutdownFunc(ctxt->ctxt, URI, extData);\n@@ -1004,0 +1007,3 @@\n+        if (module->shutdownFunc)\n+            module->shutdownFunc(ctxt->ctxt, URI, extData);\n+        xsltFreeExtData(ctxtData);\n@@ -2346,1 +2352,2 @@\n-    if (!xsltFunctionsHash)\n+    xmlMutexLock(xsltExtMutex);\n+    if (!xsltFunctionsHash) {\n@@ -2348,3 +2355,2 @@\n-    else {\n-        fprintf(output, \"Registered Extension Functions:\\n\");\n-        xmlMutexLock(xsltExtMutex);\n+    } else {\n+        fprintf(output, \"Registered extension functions:\\n\");\n@@ -2353,1 +2359,0 @@\n-        xmlMutexUnlock(xsltExtMutex);\n@@ -2355,5 +2360,11 @@\n-    if (!xsltElementsHash)\n-        fprintf(output, \"\\nNo registered extension elements\\n\");\n-    else {\n-        fprintf(output, \"\\nRegistered Extension Elements:\\n\");\n-        xmlMutexLock(xsltExtMutex);\n+    if (!xsltTopLevelsHash) {\n+        fprintf(output, \"\\nNo registered top-level extension elements\\n\");\n+    } else {\n+        fprintf(output, \"\\nRegistered top-level extension elements:\\n\");\n+        xmlHashScanFull(xsltTopLevelsHash, xsltDebugDumpExtensionsCallback,\n+                        output);\n+    }\n+    if (!xsltElementsHash) {\n+        fprintf(output, \"\\nNo registered instruction extension elements\\n\");\n+    } else {\n+        fprintf(output, \"\\nRegistered instruction extension elements:\\n\");\n@@ -2362,1 +2373,0 @@\n-        xmlMutexUnlock(xsltExtMutex);\n@@ -2364,1 +2374,1 @@\n-    if (!xsltExtensionsHash)\n+    if (!xsltExtensionsHash) {\n@@ -2366,3 +2376,2 @@\n-    else {\n-        fprintf(output, \"\\nRegistered Extension Modules:\\n\");\n-        xmlMutexLock(xsltExtMutex);\n+    } else {\n+        fprintf(output, \"\\nRegistered extension modules:\\n\");\n@@ -2371,1 +2380,0 @@\n-        xmlMutexUnlock(xsltExtMutex);\n@@ -2373,1 +2381,1 @@\n-\n+    xmlMutexUnlock(xsltExtMutex);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/extensions.c","additions":38,"deletions":30,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -17,1 +17,0 @@\n-#ifdef HAVE_STDLIB_H\n@@ -19,1 +18,0 @@\n-#endif\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/extra.c","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -18,7 +18,0 @@\n-#ifdef HAVE_SYS_TYPES_H\n-#include <sys\/types.h>\n-#endif\n-#ifdef HAVE_CTYPE_H\n-#include <ctype.h>\n-#endif\n-\n@@ -197,19 +190,6 @@\n-    if (resObj == NULL)\n-        goto out_fragment;\n-\n-    switch (resObj->type) {\n-        case XPATH_NODESET:\n-            break;\n-        case XPATH_UNDEFINED:\n-        case XPATH_BOOLEAN:\n-        case XPATH_NUMBER:\n-        case XPATH_STRING:\n-        case XPATH_POINT:\n-        case XPATH_USERS:\n-        case XPATH_XSLT_TREE:\n-        case XPATH_RANGE:\n-        case XPATH_LOCATIONSET:\n-            xsltTransformError(tctxt, NULL, NULL,\n-                \"document() : XPointer does not select a node set: #%s\\n\",\n-                fragment);\n-        goto out_object;\n+    if ((resObj != NULL) && (resObj->type != XPATH_NODESET)) {\n+        xsltTransformError(tctxt, NULL, NULL,\n+            \"document() : XPointer does not select a node set: #%s\\n\",\n+            fragment);\n+        xmlXPathFreeObject(resObj);\n+        resObj = NULL;\n@@ -218,7 +198,0 @@\n-    valuePush(ctxt, resObj);\n-    xmlFree(fragment);\n-    return;\n-\n-out_object:\n-    xmlXPathFreeObject(resObj);\n-\n@@ -226,1 +199,3 @@\n-    valuePush(ctxt, xmlXPathNewNodeSet(NULL));\n+    if (resObj == NULL)\n+        resObj = xmlXPathNewNodeSet(NULL);\n+    valuePush(ctxt, resObj);\n@@ -270,1 +245,1 @@\n-    if (ctxt->value->type == XPATH_NODESET) {\n+    if ((ctxt->value != NULL) && (ctxt->value->type == XPATH_NODESET)) {\n@@ -277,1 +252,1 @@\n-        if ((obj != NULL) && obj->nodesetval) {\n+        if ((obj != NULL) && (obj->nodesetval != NULL) && (ret != NULL)) {\n@@ -289,0 +264,2 @@\n+                if (ctxt->error)\n+                    break;\n@@ -291,3 +268,5 @@\n-                ret->nodesetval = xmlXPathNodeSetMerge(ret->nodesetval,\n-                                                       newobj->nodesetval);\n-                xmlXPathFreeObject(newobj);\n+                if (newobj != NULL) {\n+                    ret->nodesetval = xmlXPathNodeSetMerge(ret->nodesetval,\n+                                                           newobj->nodesetval);\n+                    xmlXPathFreeObject(newobj);\n+                }\n@@ -308,1 +287,1 @@\n-    if (ctxt->value->type != XPATH_STRING) {\n+    if ((ctxt->value == NULL) || (ctxt->value->type != XPATH_STRING)) {\n@@ -407,0 +386,6 @@\n+        if (ret == NULL) {\n+            ctxt->error = XPATH_MEMORY_ERROR;\n+            xmlXPathFreeObject(obj1);\n+            xmlXPathFreeObject(obj2);\n+            return;\n+        }\n@@ -416,2 +401,3 @@\n-                ret->nodesetval = xmlXPathNodeSetMerge(ret->nodesetval,\n-                                                       newobj->nodesetval);\n+                if (newobj != NULL)\n+                    ret->nodesetval = xmlXPathNodeSetMerge(ret->nodesetval,\n+                                                           newobj->nodesetval);\n@@ -474,1 +460,2 @@\n-        if ((ctxt->value == NULL) || (ctxt->value->type != XPATH_STRING)) {\n+        obj2 = valuePop(ctxt);\n+        if ((obj2 == NULL) || (obj2->type != XPATH_STRING)) {\n@@ -480,1 +467,0 @@\n-        obj2 = valuePop(ctxt);\n@@ -583,0 +569,4 @@\n+        if (obj == NULL) {\n+            xmlXPathErr(ctxt, XPATH_MEMORY_ERROR);\n+            return;\n+        }\n@@ -636,1 +626,2 @@\n-        CAST_TO_STRING;\n+        if ((ctxt->value != NULL) && (ctxt->value->type != XPATH_STRING))\n+            xmlXPathStringFunction(ctxt, 1);\n@@ -662,1 +653,2 @@\n-        CAST_TO_STRING;\n+        if ((ctxt->value != NULL) && (ctxt->value->type != XPATH_STRING))\n+            xmlXPathStringFunction(ctxt, 1);\n@@ -664,1 +656,2 @@\n-        CAST_TO_NUMBER;\n+        if ((ctxt->value != NULL) && (ctxt->value->type != XPATH_NUMBER))\n+            xmlXPathNumberFunction(ctxt, 1);\n@@ -668,1 +661,2 @@\n-        XP_ERROR(XPATH_INVALID_ARITY);\n+        xmlXPathErr(ctxt, XPATH_INVALID_ARITY);\n+        return;\n@@ -671,1 +665,2 @@\n-    if (formatValues != NULL) {\n+    if ((ctxt->error == 0) &&\n+        (formatValues != NULL) && (formatObj != NULL) && (numberObj != NULL)) {\n@@ -696,1 +691,1 @@\n-    static char base_address;\n+    xsltTransformContextPtr tctxt;\n@@ -699,2 +694,7 @@\n-    long val;\n-    xmlChar str[30];\n+    char *str;\n+    const xmlChar *nsPrefix = NULL;\n+    void **psviPtr;\n+    unsigned long id;\n+    size_t size, nsPrefixSize;\n+\n+    tctxt = xsltXPathGetTransformContext(ctxt);\n@@ -710,1 +710,1 @@\n-            xsltTransformError(xsltXPathGetTransformContext(ctxt), NULL, NULL,\n+            xsltTransformError(tctxt, NULL, NULL,\n@@ -712,1 +712,1 @@\n-            return;\n+            goto out;\n@@ -717,1 +717,0 @@\n-            xmlXPathFreeObject(obj);\n@@ -719,1 +718,1 @@\n-            return;\n+            goto out;\n@@ -728,1 +727,1 @@\n-        xsltTransformError(xsltXPathGetTransformContext(ctxt), NULL, NULL,\n+        xsltTransformError(tctxt, NULL, NULL,\n@@ -731,1 +730,17 @@\n-        return;\n+        goto out;\n+    }\n+\n+    size = 30; \/* for \"id%lu\" *\/\n+\n+    if (cur->type == XML_NAMESPACE_DECL) {\n+        xmlNsPtr ns = (xmlNsPtr) cur;\n+\n+        nsPrefix = ns->prefix;\n+        if (nsPrefix == NULL)\n+            nsPrefix = BAD_CAST \"\";\n+        nsPrefixSize = xmlStrlen(nsPrefix);\n+        \/* For \"ns\" and hex-encoded string *\/\n+        size += nsPrefixSize * 2 + 2;\n+\n+        \/* Parent is stored in 'next'. *\/\n+        cur = (xmlNodePtr) ns->next;\n@@ -734,2 +749,7 @@\n-    if (obj)\n-        xmlXPathFreeObject(obj);\n+    psviPtr = xsltGetPSVIPtr(cur);\n+    if (psviPtr == NULL) {\n+        xsltTransformError(tctxt, NULL, NULL,\n+                \"generate-id(): invalid node type %d\\n\", cur->type);\n+        ctxt->error = XPATH_INVALID_TYPE;\n+        goto out;\n+    }\n@@ -737,3 +757,2 @@\n-    val = (long)((char *)cur - (char *)&base_address);\n-    if (val >= 0) {\n-      snprintf((char *)str, sizeof(str), \"idp%ld\", val);\n+    if (xsltGetSourceNodeFlags(cur) & XSLT_SOURCE_NODE_HAS_ID) {\n+        id = (unsigned long) (size_t) *psviPtr;\n@@ -741,1 +760,28 @@\n-      snprintf((char *)str, sizeof(str), \"idm%ld\", -val);\n+        if (cur->type == XML_TEXT_NODE && cur->line == USHRT_MAX) {\n+            \/* Text nodes store big line numbers in psvi. *\/\n+            cur->line = 0;\n+        } else if (*psviPtr != NULL) {\n+            xsltTransformError(tctxt, NULL, NULL,\n+                    \"generate-id(): psvi already set\\n\");\n+            ctxt->error = XPATH_MEMORY_ERROR;\n+            goto out;\n+        }\n+\n+        if (tctxt->currentId == ULONG_MAX) {\n+            xsltTransformError(tctxt, NULL, NULL,\n+                    \"generate-id(): id overflow\\n\");\n+            ctxt->error = XPATH_MEMORY_ERROR;\n+            goto out;\n+        }\n+\n+        id = ++tctxt->currentId;\n+        *psviPtr = (void *) (size_t) id;\n+        xsltSetSourceNodeFlags(tctxt, cur, XSLT_SOURCE_NODE_HAS_ID);\n+    }\n+\n+    str = xmlMalloc(size);\n+    if (str == NULL) {\n+        xsltTransformError(tctxt, NULL, NULL,\n+                \"generate-id(): out of memory\\n\");\n+        ctxt->error = XPATH_MEMORY_ERROR;\n+        goto out;\n@@ -743,1 +789,25 @@\n-    valuePush(ctxt, xmlXPathNewString(str));\n+    if (nsPrefix == NULL) {\n+        snprintf(str, size, \"id%lu\", id);\n+    } else {\n+        size_t i, j;\n+\n+        snprintf(str, size, \"id%luns\", id);\n+\n+        \/*\n+         * Only ASCII alphanumerics are allowed, so we hex-encode the prefix.\n+         *\/\n+        j = strlen(str);\n+        for (i = 0; i < nsPrefixSize; i++) {\n+            int v;\n+\n+            v = nsPrefix[i] >> 4;\n+            str[j++] = v < 10 ? '0' + v : 'A' + (v - 10);\n+            v = nsPrefix[i] & 15;\n+            str[j++] = v < 10 ? '0' + v : 'A' + (v - 10);\n+        }\n+        str[j] = '\\0';\n+    }\n+    valuePush(ctxt, xmlXPathWrapString(BAD_CAST str));\n+\n+out:\n+    xmlXPathFreeObject(obj);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/functions.c","additions":135,"deletions":65,"binary":false,"changes":200,"status":"modified"},{"patch":"@@ -17,19 +17,0 @@\n-#ifdef HAVE_SYS_TYPES_H\n-#include <sys\/types.h>\n-#endif\n-#ifdef HAVE_MATH_H\n-#include <math.h>\n-#endif\n-#ifdef HAVE_FLOAT_H\n-#include <float.h>\n-#endif\n-#ifdef HAVE_IEEEFP_H\n-#include <ieeefp.h>\n-#endif\n-#ifdef HAVE_NAN_H\n-#include <nan.h>\n-#endif\n-#ifdef HAVE_CTYPE_H\n-#include <ctype.h>\n-#endif\n-\n@@ -37,1 +18,1 @@\n-#include <libxml\/tree.h>\n+#include <libxml\/parser.h>\n@@ -75,0 +56,49 @@\n+#define XSLT_MAX_NESTING 40\n+\n+static int\n+xsltCheckCycle(xsltStylesheetPtr style, xmlNodePtr cur, const xmlChar *URI) {\n+    xsltStylesheetPtr ancestor;\n+    xsltDocumentPtr docptr;\n+    int depth;\n+\n+    \/*\n+     * Check imported stylesheets.\n+     *\/\n+    depth = 0;\n+    ancestor = style;\n+    while (ancestor != NULL) {\n+        if (++depth >= XSLT_MAX_NESTING) {\n+            xsltTransformError(NULL, style, cur,\n+               \"maximum nesting depth exceeded: %s\\n\", URI);\n+            return(-1);\n+        }\n+        if (xmlStrEqual(ancestor->doc->URL, URI)) {\n+            xsltTransformError(NULL, style, cur,\n+               \"recursion detected on imported URL %s\\n\", URI);\n+            return(-1);\n+        }\n+\n+        \/*\n+         * Check included stylesheets.\n+         *\/\n+        docptr = ancestor->includes;\n+        while (docptr != NULL) {\n+            if (++depth >= XSLT_MAX_NESTING) {\n+                xsltTransformError(NULL, style, cur,\n+                   \"maximum nesting depth exceeded: %s\\n\", URI);\n+                return(-1);\n+            }\n+            if (xmlStrEqual(docptr->doc->URL, URI)) {\n+                xsltTransformError(NULL, style, cur,\n+                   \"recursion detected on included URL %s\\n\", URI);\n+                return(-1);\n+            }\n+            docptr = docptr->includes;\n+        }\n+\n+        ancestor = ancestor->parent;\n+    }\n+\n+    return(0);\n+}\n+\n@@ -113,11 +143,2 @@\n-    res = style;\n-    while (res != NULL) {\n-        if (res->doc == NULL)\n-            break;\n-        if (xmlStrEqual(res->doc->URL, URI)) {\n-            xsltTransformError(NULL, style, cur,\n-               \"xsl:import : recursion detected on imported URL %s\\n\", URI);\n-            goto error;\n-        }\n-        res = res->parent;\n-    }\n+    if (xsltCheckCycle(style, cur, URI) < 0)\n+        goto error;\n@@ -192,1 +213,0 @@\n-    xsltDocumentPtr docptr;\n@@ -213,13 +233,2 @@\n-    \/*\n-     * in order to detect recursion, we check all previously included\n-     * stylesheets.\n-     *\/\n-    docptr = style->includes;\n-    while (docptr != NULL) {\n-        if (xmlStrEqual(docptr->doc->URL, URI)) {\n-            xsltTransformError(NULL, style, cur,\n-                \"xsl:include : recursion detected on included URL %s\\n\", URI);\n-            goto error;\n-        }\n-        docptr = docptr->includes;\n-    }\n+    if (xsltCheckCycle(style, cur, URI) < 0)\n+        goto error;\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/imports.c","additions":54,"deletions":45,"binary":false,"changes":99,"status":"modified"},{"patch":"@@ -297,0 +297,2 @@\n+    if (key == NULL)\n+        return(-1);\n@@ -313,1 +315,1 @@\n-        while (IS_BLANK_CH(match[current]))\n+        while (xmlIsBlank_ch(match[current]))\n@@ -830,1 +832,4 @@\n-                xmlHashAddEntry(table->keys, str, keylist);\n+                if (xmlHashAddEntry(table->keys, str, keylist) < 0) {\n+                    xmlXPathFreeNodeSet(keylist);\n+                    goto error;\n+                }\n@@ -837,18 +842,1 @@\n-            switch (cur->type) {\n-                case XML_ELEMENT_NODE:\n-                case XML_TEXT_NODE:\n-                case XML_CDATA_SECTION_NODE:\n-                case XML_PI_NODE:\n-                case XML_COMMENT_NODE:\n-                    cur->psvi = keyDef;\n-                    break;\n-                case XML_ATTRIBUTE_NODE:\n-                    ((xmlAttrPtr) cur)->psvi = keyDef;\n-                    break;\n-                case XML_DOCUMENT_NODE:\n-                case XML_HTML_DOCUMENT_NODE:\n-                    ((xmlDocPtr) cur)->psvi = keyDef;\n-                    break;\n-                default:\n-                    break;\n-            }\n+            xsltSetSourceNodeFlags(ctxt, cur, XSLT_SOURCE_NODE_HAS_KEY);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/keys.c","additions":8,"deletions":20,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -13,1 +13,1 @@\n-#if defined(_WIN32) && !defined (__CYGWIN__) && !defined (__MINGW32__)\n+#if defined(_WIN32) && !defined (__MINGW32__)\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/libxslt.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,11 +2,1 @@\n-# Officially exported symbols, for which header\n-# file definitions are installed in \/usr\/include\/libxslt\n-#\n-# Automatically generated from symbols.xml and syms.xsl\n-#\n-# Versions here are *fixed* to match the libxslt version\n-# at which the symbol was introduced. This ensures that\n-# a new client app requiring symbol foo() can't accidentally\n-# run with old libxslt.so not providing foo() - the global\n-# soname version info can't enforce this since we never\n-# change the soname\n+# Retained for backward compatibility. Don't add new symbols.\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/libxslt.syms","additions":1,"deletions":11,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -17,18 +17,0 @@\n-#ifdef HAVE_SYS_TYPES_H\n-#include <sys\/types.h>\n-#endif\n-#ifdef HAVE_MATH_H\n-#include <math.h>\n-#endif\n-#ifdef HAVE_FLOAT_H\n-#include <float.h>\n-#endif\n-#ifdef HAVE_IEEEFP_H\n-#include <ieeefp.h>\n-#endif\n-#ifdef HAVE_NAN_H\n-#include <nan.h>\n-#endif\n-#ifdef HAVE_CTYPE_H\n-#include <ctype.h>\n-#endif\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/namespaces.c","additions":0,"deletions":18,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -95,0 +95,6 @@\n+static int\n+xsltIsLetterDigit(int val) {\n+    return xmlIsBaseCharQ(val) || xmlIsIdeographicQ(val) ||\n+           xmlIsDigitQ(val);\n+}\n+\n@@ -113,1 +119,1 @@\n-xsltIsDigitZero(unsigned int ch)\n+xsltIsDigitZero(int ch)\n@@ -180,1 +186,1 @@\n-            *(--pointer) = (xmlChar)val;\n+            *(--pointer) = val;\n@@ -350,2 +356,1 @@\n-    while (! (IS_LETTER(val=xmlStringCurrentChar(NULL, format+ix, &len)) ||\n-              IS_DIGIT(val)) ) {\n+    while (!xsltIsLetterDigit(val = xsltGetUTF8CharZ(format+ix, &len))) {\n@@ -374,1 +379,1 @@\n-        val = xmlStringCurrentChar(NULL, format+ix, &len);\n+        val = xsltGetUTF8CharZ(format+ix, &len);\n@@ -381,1 +386,1 @@\n-                val = xmlStringCurrentChar(NULL, format+ix, &len);\n+                val = xsltGetUTF8CharZ(format+ix, &len);\n@@ -386,1 +391,1 @@\n-                val = xmlStringCurrentChar(NULL, format+ix, &len);\n+                val = xsltGetUTF8CharZ(format+ix, &len);\n@@ -397,1 +402,1 @@\n-            val = xmlStringCurrentChar(NULL, format+ix, &len);\n+            val = xsltGetUTF8CharZ(format+ix, &len);\n@@ -417,1 +422,1 @@\n-        while (IS_LETTER(val) || IS_DIGIT(val)) {\n+        while (xsltIsLetterDigit(val)) {\n@@ -419,1 +424,1 @@\n-            val = xmlStringCurrentChar(NULL, format+ix, &len);\n+            val = xsltGetUTF8CharZ(format+ix, &len);\n@@ -426,1 +431,1 @@\n-        while (! (IS_LETTER(val) || IS_DIGIT(val))) {\n+        while (!xsltIsLetterDigit(val)) {\n@@ -430,1 +435,1 @@\n-            val = xmlStringCurrentChar(NULL, format+ix, &len);\n+            val = xsltGetUTF8CharZ(format+ix, &len);\n@@ -962,0 +967,1 @@\n+    int     exp10;\n@@ -982,26 +988,6 @@\n-    switch (xmlXPathIsInf(number)) {\n-        case -1:\n-            if (self->minusSign == NULL)\n-                *result = xmlStrdup(BAD_CAST \"-\");\n-            else\n-                *result = xmlStrdup(self->minusSign);\n-            \/* Intentional fall-through *\/\n-        case 1:\n-            if ((self == NULL) || (self->infinity == NULL))\n-                *result = xmlStrcat(*result, BAD_CAST \"Infinity\");\n-            else\n-                *result = xmlStrcat(*result, self->infinity);\n-            return(status);\n-        default:\n-            if (xmlXPathIsNaN(number)) {\n-                if ((self == NULL) || (self->noNumber == NULL))\n-                    *result = xmlStrdup(BAD_CAST \"NaN\");\n-                else\n-                    *result = xmlStrdup(self->noNumber);\n-                return(status);\n-            }\n-    }\n-\n-    buffer = xmlBufferCreate();\n-    if (buffer == NULL) {\n-        return XPATH_MEMORY_ERROR;\n+    if (xmlXPathIsNaN(number)) {\n+        if ((self == NULL) || (self->noNumber == NULL))\n+            *result = xmlStrdup(BAD_CAST \"NaN\");\n+        else\n+            *result = xmlStrdup(self->noNumber);\n+        return(status);\n@@ -1280,0 +1266,24 @@\n+    \/* Apply multiplier *\/\n+    number *= (double)format_info.multiplier;\n+    switch (xmlXPathIsInf(number)) {\n+        case -1:\n+            if (self->minusSign == NULL)\n+                *result = xmlStrdup(BAD_CAST \"-\");\n+            else\n+                *result = xmlStrdup(self->minusSign);\n+            \/* Intentional fall-through *\/\n+        case 1:\n+            if ((self == NULL) || (self->infinity == NULL))\n+                *result = xmlStrcat(*result, BAD_CAST \"Infinity\");\n+            else\n+                *result = xmlStrcat(*result, self->infinity);\n+            return(status);\n+        default:\n+            break;\n+    }\n+\n+    buffer = xmlBufferCreate();\n+    if (buffer == NULL) {\n+        return XPATH_MEMORY_ERROR;\n+    }\n+\n@@ -1294,0 +1304,17 @@\n+    \/* Round to n digits *\/\n+    number = fabs(number);\n+    exp10 = format_info.frac_digits + format_info.frac_hash;\n+    \/* DBL_MAX_10_EXP should be 308 on IEEE platforms. *\/\n+    if (exp10 > DBL_MAX_10_EXP) {\n+        if (format_info.frac_digits > DBL_MAX_10_EXP) {\n+            format_info.frac_digits = DBL_MAX_10_EXP;\n+            format_info.frac_hash = 0;\n+        } else {\n+            format_info.frac_hash = DBL_MAX_10_EXP - format_info.frac_digits;\n+        }\n+        exp10 = DBL_MAX_10_EXP;\n+    }\n+    scale = pow(10.0, (double) exp10);\n+    number += .5 \/ scale;\n+    number -= fmod(number, 1 \/ scale);\n+\n@@ -1295,3 +1322,0 @@\n-    number = fabs(number) * (double)format_info.multiplier;\n-    scale = pow(10.0, (double)(format_info.frac_digits + format_info.frac_hash));\n-    number = floor((scale * number + 0.5)) \/ scale;\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/numbers.c","additions":65,"deletions":41,"binary":false,"changes":106,"status":"modified"},{"patch":"@@ -314,4 +314,0 @@\n-            if (value)\n-                xmlFree(value);\n-            if (value2)\n-                xmlFree(value2);\n@@ -486,6 +482,1 @@\n-    if ((states->states == NULL) || (states->maxstates <= 0)) {\n-        states->maxstates = 4;\n-        states->nbstates = 0;\n-        states->states = xmlMalloc(4 * sizeof(xsltStepState));\n-    }\n-    else if (states->maxstates <= states->nbstates) {\n+    if (states->maxstates <= states->nbstates) {\n@@ -493,0 +484,1 @@\n+        int newMax = states->maxstates == 0 ? 4 : 2 * states->maxstates;\n@@ -495,1 +487,1 @@\n-                               2 * states->maxstates * sizeof(xsltStepState));\n+                newMax * sizeof(xsltStepState));\n@@ -503,1 +495,1 @@\n-        states->maxstates *= 2;\n+        states->maxstates = newMax;\n@@ -1195,1 +1187,1 @@\n-    while (IS_BLANK_CH(CUR)) NEXT\n+    while (xmlIsBlank_ch(CUR)) NEXT\n@@ -1237,2 +1229,2 @@\n-        val = xmlStringCurrentChar(NULL, cur, &len);\n-        while ((IS_CHAR(val)) && (val != '\"')) {\n+        val = xsltGetUTF8CharZ(cur, &len);\n+        while ((xmlIsCharQ(val)) && (val != '\"')) {\n@@ -1240,1 +1232,1 @@\n-            val = xmlStringCurrentChar(NULL, cur, &len);\n+            val = xsltGetUTF8CharZ(cur, &len);\n@@ -1242,1 +1234,1 @@\n-        if (!IS_CHAR(val)) {\n+        if (!xmlIsCharQ(val)) {\n@@ -1253,2 +1245,2 @@\n-        val = xmlStringCurrentChar(NULL, cur, &len);\n-        while ((IS_CHAR(val)) && (val != '\\'')) {\n+        val = xsltGetUTF8CharZ(cur, &len);\n+        while ((xmlIsCharQ(val)) && (val != '\\'')) {\n@@ -1256,1 +1248,1 @@\n-            val = xmlStringCurrentChar(NULL, cur, &len);\n+            val = xsltGetUTF8CharZ(cur, &len);\n@@ -1258,1 +1250,1 @@\n-        if (!IS_CHAR(val)) {\n+        if (!xmlIsCharQ(val)) {\n@@ -1267,1 +1259,0 @@\n-        \/* XP_ERROR(XPATH_START_LITERAL_ERROR); *\/\n@@ -1292,2 +1283,2 @@\n-    val = xmlStringCurrentChar(NULL, cur, &len);\n-    if (!IS_LETTER(val) && (val != '_'))\n+    val = xsltGetUTF8CharZ(cur, &len);\n+    if (!xmlIsBaseCharQ(val) && !xmlIsIdeographicQ(val) && (val != '_'))\n@@ -1296,1 +1287,2 @@\n-    while ((IS_LETTER(val)) || (IS_DIGIT(val)) ||\n+    while (xmlIsBaseCharQ(val) || xmlIsIdeographicQ(val) ||\n+           xmlIsDigitQ(val) ||\n@@ -1299,2 +1291,2 @@\n-           (IS_COMBINING(val)) ||\n-           (IS_EXTENDER(val))) {\n+           xmlIsCombiningQ(val) ||\n+           xmlIsExtenderQ(val)) {\n@@ -1302,1 +1294,1 @@\n-        val = xmlStringCurrentChar(NULL, cur, &len);\n+        val = xsltGetUTF8CharZ(cur, &len);\n@@ -1515,0 +1507,1 @@\n+    xmlChar *ret = NULL;\n@@ -1591,1 +1584,0 @@\n-                    xmlFree(URL);\n@@ -1654,1 +1646,0 @@\n-        xmlChar *ret = NULL;\n@@ -1698,0 +1689,4 @@\n+    if (URL != NULL)\n+        xmlFree(URL);\n+    if (ret != NULL)\n+        xmlFree(ret);\n@@ -1856,1 +1851,1 @@\n-        while (IS_BLANK_CH(pattern[current]))\n+        while (xmlIsBlank_ch(pattern[current]))\n@@ -2090,0 +2085,2 @@\n+        int success = 0;\n+\n@@ -2161,5 +2158,3 @@\n-                if (style->templatesHash == NULL) {\n-                    xsltFreeCompMatch(pat);\n-                    return(-1);\n-                }\n-                xmlHashAddEntry3(style->templatesHash, name, mode, modeURI, pat);\n+                success = (style->templatesHash != NULL) &&\n+                          (xmlHashAddEntry3(style->templatesHash, name, mode,\n+                                            modeURI, pat) >= 0);\n@@ -2170,2 +2165,2 @@\n-                    xmlHashAddEntry3(style->templatesHash, name,\n-                                     mode, modeURI, pat);\n+                    success = (xmlHashAddEntry3(style->templatesHash, name,\n+                                                mode, modeURI, pat) >= 0);\n@@ -2191,0 +2186,1 @@\n+                    success = 1;\n@@ -2210,1 +2206,3 @@\n-        } else {\n+            success = 1;\n+        }\n+        if (success == 0) {\n@@ -2214,0 +2212,1 @@\n+            xsltFreeCompMatchList(next);\n@@ -2286,1 +2285,0 @@\n-    int keyed = 0;\n@@ -2364,1 +2362,0 @@\n-                if (node->psvi != NULL) keyed = 1;\n@@ -2367,2 +2364,0 @@\n-                xmlAttrPtr attr;\n-\n@@ -2370,2 +2365,0 @@\n-                attr = (xmlAttrPtr) node;\n-                if (attr->psvi != NULL) keyed = 1;\n@@ -2376,1 +2369,0 @@\n-                if (node->psvi != NULL) keyed = 1;\n@@ -2380,2 +2372,0 @@\n-                xmlDocPtr doc;\n-\n@@ -2383,2 +2373,0 @@\n-                doc = (xmlDocPtr) node;\n-                if (doc->psvi != NULL) keyed = 1;\n@@ -2390,1 +2378,0 @@\n-                if (node->psvi != NULL) keyed = 1;\n@@ -2394,1 +2381,0 @@\n-                if (node->psvi != NULL) keyed = 1;\n@@ -2464,1 +2450,1 @@\n-        if (keyed) {\n+        if (xsltGetSourceNodeFlags(node) & XSLT_SOURCE_NODE_HAS_KEY) {\n@@ -2492,21 +2478,1 @@\n-            switch (node->type) {\n-                case XML_ELEMENT_NODE:\n-                    if (node->psvi != NULL) keyed = 1;\n-                    break;\n-                case XML_ATTRIBUTE_NODE:\n-                    if (((xmlAttrPtr) node)->psvi != NULL) keyed = 1;\n-                    break;\n-                case XML_TEXT_NODE:\n-                case XML_CDATA_SECTION_NODE:\n-                case XML_COMMENT_NODE:\n-                case XML_PI_NODE:\n-                    if (node->psvi != NULL) keyed = 1;\n-                    break;\n-                case XML_DOCUMENT_NODE:\n-                case XML_HTML_DOCUMENT_NODE:\n-                    if (((xmlDocPtr) node)->psvi != NULL) keyed = 1;\n-                    break;\n-                default:\n-                    break;\n-            }\n-            if (keyed)\n+            if (xsltGetSourceNodeFlags(node) & XSLT_SOURCE_NODE_HAS_KEY)\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/pattern.c","additions":40,"deletions":74,"binary":false,"changes":114,"status":"modified"},{"patch":"@@ -395,2 +395,0 @@\n-                if (item->locale != (xsltLocale)0)\n-                    xsltFreeLocale(item->locale);\n@@ -499,2 +497,0 @@\n-    if (comp->locale != (xsltLocale)0)\n-        xsltFreeLocale(comp->locale);\n@@ -746,6 +742,0 @@\n-    if (comp->lang != NULL) {\n-        comp->locale = xsltNewLocale(comp->lang);\n-    }\n-    else {\n-        comp->locale = (xsltLocale)0;\n-    }\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/preproc.c","additions":0,"deletions":10,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -21,17 +21,1 @@\n-#ifdef HAVE_MATH_H\n-#include <math.h>\n-#endif\n-#ifdef HAVE_FLOAT_H\n-#include <float.h>\n-#endif\n-#ifdef HAVE_IEEEFP_H\n-#include <ieeefp.h>\n-#endif\n-#ifdef HAVE_NAN_H\n-#include <nan.h>\n-#endif\n-#ifdef HAVE_CTYPE_H\n-#include <ctype.h>\n-#endif\n-\n-#if defined(_WIN32) && !defined(__CYGWIN__)\n+#if defined(_WIN32)\n@@ -56,1 +40,1 @@\n-#include <libxml\/tree.h>\n+#include <libxml\/parser.h>\n@@ -282,1 +266,1 @@\n-#if defined(_WIN32) && !defined(__CYGWIN__)\n+#if defined(_WIN32)\n@@ -387,1 +371,1 @@\n-#if defined(_WIN32) && !defined(__CYGWIN__)\n+#if defined(_WIN32)\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/security.c","additions":4,"deletions":20,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -154,1 +154,1 @@\n-        if (res->type == XPATH_STRING) {\n+        if ((res != NULL) && (res->type == XPATH_STRING)) {\n@@ -232,1 +232,1 @@\n-        xsltTransformError(ctxt, NULL, contextNode,\n+        xsltTransformError(ctxt, NULL, inst,\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/templates.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+#include \"xsltlocale.h\"\n@@ -122,17 +123,7 @@\n-    if (ctxt->templMax == 0) {\n-        ctxt->templMax = 4;\n-        ctxt->templTab =\n-            (xsltTemplatePtr *) xmlMalloc(ctxt->templMax *\n-                                          sizeof(ctxt->templTab[0]));\n-        if (ctxt->templTab == NULL) {\n-            xmlGenericError(xmlGenericErrorContext, \"malloc failed !\\n\");\n-            return (0);\n-        }\n-    }\n-    else if (ctxt->templNr >= ctxt->templMax) {\n-        ctxt->templMax *= 2;\n-        ctxt->templTab =\n-            (xsltTemplatePtr *) xmlRealloc(ctxt->templTab,\n-                                           ctxt->templMax *\n-                                           sizeof(ctxt->templTab[0]));\n-        if (ctxt->templTab == NULL) {\n+    if (ctxt->templNr >= ctxt->templMax) {\n+        xsltTemplatePtr *tmp;\n+        int newMax = ctxt->templMax == 0 ? 4 : ctxt->templMax * 2;\n+\n+        tmp = (xsltTemplatePtr *) xmlRealloc(ctxt->templTab,\n+                newMax * sizeof(*tmp));\n+        if (tmp == NULL) {\n@@ -142,0 +133,2 @@\n+        ctxt->templTab = tmp;\n+        ctxt->templMax = newMax;\n@@ -495,1 +488,1 @@\n-xsltDebugTraceCodes xsltDebugGetDefaultTrace() {\n+xsltDebugTraceCodes xsltDebugGetDefaultTrace(void) {\n@@ -640,1 +633,0 @@\n-    xmlXPathInit();\n@@ -710,0 +702,4 @@\n+    cur->newLocale = xsltNewLocale;\n+    cur->freeLocale = xsltFreeLocale;\n+    cur->genSortKey = xsltStrxfrm;\n+\n@@ -720,1 +716,1 @@\n- * @ctxt:  an XSLT parser context\n+ * @ctxt:  an XSLT transform context\n@@ -1094,1 +1090,2 @@\n-            if ((copy->content = xmlStrdup(cur->content)) == NULL)\n+            if ((copy->content = xmlStrdup(cur->content)) == NULL) {\n+                xmlFreeNode(copy);\n@@ -1096,0 +1093,1 @@\n+            }\n@@ -1997,0 +1995,13 @@\n+\n+                if (ctxt->depth >= ctxt->maxTemplateDepth) {\n+                    xsltTransformError(ctxt, NULL, cur,\n+                        \"xsltDefaultProcessOneNode: Maximum template depth \"\n+                        \"exceeded.\\n\"\n+                        \"You can adjust xsltMaxDepth (--maxdepth) in order to \"\n+                        \"raise the maximum number of nested template calls and \"\n+                        \"variables\/params (currently set to %d).\\n\",\n+                        ctxt->maxTemplateDepth);\n+                    ctxt->state = XSLT_STATE_STOPPED;\n+                    return;\n+                }\n+                ctxt->depth++;\n@@ -1998,0 +2009,1 @@\n+                ctxt->depth--;\n@@ -2228,10 +2240,0 @@\n-    if (ctxt->varsMax == 0) {\n-        ctxt->varsMax = 10;\n-        ctxt->varsTab =\n-            (xsltStackElemPtr *) xmlMalloc(ctxt->varsMax *\n-            sizeof(ctxt->varsTab[0]));\n-        if (ctxt->varsTab == NULL) {\n-            xmlGenericError(xmlGenericErrorContext, \"malloc failed !\\n\");\n-            return (-1);\n-        }\n-    }\n@@ -2239,6 +2241,6 @@\n-        ctxt->varsMax *= 2;\n-        ctxt->varsTab =\n-            (xsltStackElemPtr *) xmlRealloc(ctxt->varsTab,\n-            ctxt->varsMax *\n-            sizeof(ctxt->varsTab[0]));\n-        if (ctxt->varsTab == NULL) {\n+        xsltStackElemPtr *tmp;\n+        int newMax = ctxt->varsMax == 0 ? 10 : 2 * ctxt->varsMax;\n+\n+        tmp = (xsltStackElemPtr *) xmlRealloc(ctxt->varsTab,\n+                newMax * sizeof(*tmp));\n+        if (tmp == NULL) {\n@@ -2248,0 +2250,2 @@\n+        ctxt->varsTab = tmp;\n+        ctxt->varsMax = newMax;\n@@ -2279,1 +2283,1 @@\n-        if (tmp->psvi == XSLT_RVT_LOCAL) {\n+        if (tmp->compression == XSLT_RVT_LOCAL) {\n@@ -2281,1 +2285,1 @@\n-        } else if (tmp->psvi == XSLT_RVT_GLOBAL) {\n+        } else if (tmp->compression == XSLT_RVT_GLOBAL) {\n@@ -2283,1 +2287,1 @@\n-        } else if (tmp->psvi == XSLT_RVT_FUNC_RESULT) {\n+        } else if (tmp->compression == XSLT_RVT_FUNC_RESULT) {\n@@ -2289,1 +2293,1 @@\n-            tmp->psvi = XSLT_RVT_FUNC_RESULT;\n+            tmp->compression = XSLT_RVT_FUNC_RESULT;\n@@ -3641,1 +3645,1 @@\n-            while (IS_BLANK_CH(*element))\n+            while (xmlIsBlank_ch(*element))\n@@ -3646,1 +3650,1 @@\n-            while ((*end != 0) && (!IS_BLANK_CH(*end)))\n+            while ((*end != 0) && (!xmlIsBlank_ch(*end)))\n@@ -5750,0 +5754,43 @@\n+\/**\n+ * xsltCleanupSourceDoc:\n+ * @doc:  Document\n+ *\n+ * Resets source node flags and ids stored in 'psvi' member.\n+ *\/\n+static void\n+xsltCleanupSourceDoc(xmlDocPtr doc) {\n+    xmlNodePtr cur = (xmlNodePtr) doc;\n+    void **psviPtr;\n+\n+    while (1) {\n+        xsltClearSourceNodeFlags(cur, XSLT_SOURCE_NODE_MASK);\n+        psviPtr = xsltGetPSVIPtr(cur);\n+        if (psviPtr)\n+            *psviPtr = NULL;\n+\n+        if (cur->type == XML_ELEMENT_NODE) {\n+            xmlAttrPtr prop = cur->properties;\n+\n+            while (prop) {\n+                prop->atype &= ~(XSLT_SOURCE_NODE_MASK << 27);\n+                prop->psvi = NULL;\n+                prop = prop->next;\n+            }\n+        }\n+\n+        if (cur->children != NULL && cur->type != XML_ENTITY_REF_NODE) {\n+            cur = cur->children;\n+        } else {\n+            if (cur == (xmlNodePtr) doc)\n+                return;\n+            while (cur->next == NULL) {\n+                cur = cur->parent;\n+                if (cur == (xmlNodePtr) doc)\n+                    return;\n+            }\n+\n+            cur = cur->next;\n+        }\n+    }\n+}\n+\n@@ -6148,0 +6195,3 @@\n+    if (ctxt->sourceDocDirty)\n+        xsltCleanupSourceDoc(doc);\n+\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/transform.c","additions":93,"deletions":43,"binary":false,"changes":136,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-    RVT->psvi = XSLT_RVT_LOCAL;\n+    RVT->compression = XSLT_RVT_LOCAL;\n@@ -166,1 +166,1 @@\n-    RVT->psvi = XSLT_RVT_LOCAL;\n+    RVT->compression = XSLT_RVT_LOCAL;\n@@ -258,1 +258,1 @@\n-xsltFlagRVTs(xsltTransformContextPtr ctxt, xmlXPathObjectPtr obj, void *val) {\n+xsltFlagRVTs(xsltTransformContextPtr ctxt, xmlXPathObjectPtr obj, int val) {\n@@ -305,1 +305,1 @@\n-            doc->psvi != XSLT_RVT_GLOBAL) {\n+            doc->compression != XSLT_RVT_GLOBAL) {\n@@ -308,1 +308,1 @@\n-            * We store ownership information in the @psvi field.\n+            * We store ownership information in the @compression field.\n@@ -313,2 +313,4 @@\n-            XSLT_TRACE(ctxt,XSLT_TRACE_VARIABLES,xsltGenericDebug(xsltGenericDebugContext,\n-                \"Flagging RVT %p: %p -> %p\\n\", doc, doc->psvi, val));\n+            XSLT_TRACE(ctxt, XSLT_TRACE_VARIABLES,\n+                       xsltGenericDebug(xsltGenericDebugContext,\n+                       \"Flagging RVT %p: %d -> %d\\n\",\n+                       (void *) doc, doc->compression, val));\n@@ -318,2 +320,2 @@\n-                if (doc->psvi == XSLT_RVT_FUNC_RESULT)\n-                    doc->psvi = XSLT_RVT_LOCAL;\n+                if (doc->compression == XSLT_RVT_FUNC_RESULT)\n+                    doc->compression = XSLT_RVT_LOCAL;\n@@ -321,1 +323,1 @@\n-                if (doc->psvi != XSLT_RVT_LOCAL) {\n+                if (doc->compression != XSLT_RVT_LOCAL) {\n@@ -323,3 +325,3 @@\n-                            \"xsltFlagRVTs: Invalid transition %p => GLOBAL\\n\",\n-                            doc->psvi);\n-                    doc->psvi = XSLT_RVT_GLOBAL;\n+                            \"xsltFlagRVTs: Invalid transition %d => GLOBAL\\n\",\n+                            doc->compression);\n+                    doc->compression = XSLT_RVT_GLOBAL;\n@@ -330,1 +332,1 @@\n-                doc->psvi = XSLT_RVT_GLOBAL;\n+                doc->compression = XSLT_RVT_GLOBAL;\n@@ -332,1 +334,1 @@\n-                doc->psvi = val;\n+                doc->compression = val;\n@@ -366,1 +368,0 @@\n-        * REVISIT TODO: Do we expect ID\/IDREF tables to be existent?\n@@ -377,4 +378,0 @@\n-        if (RVT->refs != NULL) {\n-            xmlFreeRefTable((xmlRefTablePtr) RVT->refs);\n-            RVT->refs = NULL;\n-        }\n@@ -385,1 +382,1 @@\n-        RVT->psvi = NULL;\n+        RVT->compression = 0;\n@@ -424,1 +421,1 @@\n-    RVT->psvi = XSLT_RVT_GLOBAL;\n+    RVT->compression = XSLT_RVT_GLOBAL;\n@@ -583,1 +580,1 @@\n-            if (cur->psvi == XSLT_RVT_LOCAL) {\n+            if (cur->compression == XSLT_RVT_LOCAL) {\n@@ -585,1 +582,1 @@\n-            } else if (cur->psvi == XSLT_RVT_FUNC_RESULT) {\n+            } else if (cur->compression == XSLT_RVT_FUNC_RESULT) {\n@@ -587,1 +584,1 @@\n-                cur->psvi = XSLT_RVT_FUNC_RESULT;\n+                cur->compression = XSLT_RVT_FUNC_RESULT;\n@@ -590,2 +587,2 @@\n-                        \"xsltFreeStackElem: Unexpected RVT flag %p\\n\",\n-                        cur->psvi);\n+                        \"xsltFreeStackElem: Unexpected RVT flag %d\\n\",\n+                        cur->compression);\n@@ -763,10 +760,0 @@\n-        if (ctxt->varsMax == 0) {\n-            ctxt->varsMax = 10;\n-            ctxt->varsTab =\n-                (xsltStackElemPtr *) xmlMalloc(ctxt->varsMax *\n-                sizeof(ctxt->varsTab[0]));\n-            if (ctxt->varsTab == NULL) {\n-                xmlGenericError(xmlGenericErrorContext, \"malloc failed !\\n\");\n-                return (-1);\n-            }\n-        }\n@@ -774,6 +761,6 @@\n-            ctxt->varsMax *= 2;\n-            ctxt->varsTab =\n-                (xsltStackElemPtr *) xmlRealloc(ctxt->varsTab,\n-                ctxt->varsMax *\n-                sizeof(ctxt->varsTab[0]));\n-            if (ctxt->varsTab == NULL) {\n+            xsltStackElemPtr *tmp;\n+            int newMax = ctxt->varsMax == 0 ? 10 : 2 * ctxt->varsMax;\n+\n+            tmp = (xsltStackElemPtr *) xmlRealloc(ctxt->varsTab,\n+                    newMax * sizeof(*tmp));\n+            if (tmp == NULL) {\n@@ -783,0 +770,2 @@\n+            ctxt->varsTab = tmp;\n+            ctxt->varsMax = newMax;\n@@ -971,0 +960,2 @@\n+                const xmlChar *oldLastText;\n+                int oldLastTextSize, oldLastTextUse;\n@@ -992,1 +983,1 @@\n-                container->psvi = XSLT_RVT_LOCAL;\n+                container->compression = XSLT_RVT_LOCAL;\n@@ -996,0 +987,3 @@\n+                oldLastText = ctxt->lasttext;\n+                oldLastTextSize = ctxt->lasttsize;\n+                oldLastTextUse = ctxt->lasttuse;\n@@ -1010,0 +1004,3 @@\n+                ctxt->lasttext = oldLastText;\n+                ctxt->lasttsize = oldLastTextSize;\n+                ctxt->lasttuse = oldLastTextUse;\n@@ -1316,2 +1313,7 @@\n-                xmlHashAddEntry2(ctxt->globalVars,\n-                                 elem->name, elem->nameURI, def);\n+                if (xmlHashAddEntry2(ctxt->globalVars,\n+                                     elem->name, elem->nameURI, def) < 0) {\n+                    xmlGenericError(xmlGenericErrorContext,\n+                                    \"hash update failed\\n\");\n+                    xsltFreeStackElem(def);\n+                    return(-1);\n+                }\n@@ -1681,1 +1683,1 @@\n-    int indx = 0;\n+    size_t indx = 0;\n@@ -1711,1 +1713,1 @@\n-    int indx = 0;\n+    size_t indx = 0;\n@@ -1875,1 +1877,4 @@\n-    xsltAddStackElem(ctxt, variable);\n+    if (xsltAddStackElem(ctxt, variable) < 0) {\n+        xsltFreeStackElem(variable);\n+        return(-1);\n+    }\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/variables.c","additions":54,"deletions":49,"binary":false,"changes":103,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-#define XSLT_RVT_LOCAL       ((void *)1)\n+#define XSLT_RVT_LOCAL       1\n@@ -55,1 +55,1 @@\n-#define XSLT_RVT_FUNC_RESULT ((void *)2)\n+#define XSLT_RVT_FUNC_RESULT 2\n@@ -62,1 +62,1 @@\n-#define XSLT_RVT_GLOBAL      ((void *)3)\n+#define XSLT_RVT_GLOBAL      3\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/variables.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -12,69 +12,0 @@\n-#define HAVE_CTYPE_H 1\n-#define HAVE_STDLIB_H 1\n-#define HAVE_STDARG_H 1\n-#define HAVE_MALLOC_H 1\n-#define HAVE_TIME_H 1\n-#define HAVE_LOCALTIME 1\n-#define HAVE_GMTIME 1\n-#define HAVE_TIME 1\n-#define HAVE_MATH_H 1\n-#define HAVE_FCNTL_H 1\n-\n-#include <io.h>\n-\n-#define HAVE_ISINF\n-#define HAVE_ISNAN\n-\n-#include <math.h>\n-#if defined _MSC_VER || defined __MINGW32__\n-\/* MS C-runtime has functions which can be used in order to determine if\n-   a given floating-point variable contains NaN, (+-)INF. These are\n-   preferred, because floating-point technology is considered propriatary\n-   by MS and we can assume that their functions know more about their\n-   oddities than we do. *\/\n-#include <float.h>\n-\/* Bjorn Reese figured a quite nice construct for isinf() using the\n-   _fpclass() function. *\/\n-#ifndef isinf\n-#define isinf(d) ((_fpclass(d) == _FPCLASS_PINF) ? 1 \\\n-        : ((_fpclass(d) == _FPCLASS_NINF) ? -1 : 0))\n-#endif\n-\/* _isnan(x) returns nonzero if (x == NaN) and zero otherwise. *\/\n-#ifndef isnan\n-#define isnan(d) (_isnan(d))\n-#endif\n-#else \/* _MSC_VER *\/\n-static int isinf (double d) {\n-    int expon = 0;\n-    double val = frexp (d, &expon);\n-    if (expon == 1025) {\n-        if (val == 0.5) {\n-            return 1;\n-        } else if (val == -0.5) {\n-            return -1;\n-        } else {\n-            return 0;\n-        }\n-    } else {\n-        return 0;\n-    }\n-}\n-static int isnan (double d) {\n-    int expon = 0;\n-    double val = frexp (d, &expon);\n-    if (expon == 1025) {\n-        if (val == 0.5) {\n-            return 0;\n-        } else if (val == -0.5) {\n-            return 0;\n-        } else {\n-            return 1;\n-        }\n-    } else {\n-        return 0;\n-    }\n-}\n-#endif \/* _MSC_VER *\/\n-\n-#include <direct.h>\n-\n@@ -118,9 +49,0 @@\n-#define HAVE_STRING_H\n-\n-#include <libxml\/xmlversion.h>\n-\n-#ifndef ATTRIBUTE_UNUSED\n-#define ATTRIBUTE_UNUSED\n-#endif\n-\n-#define _WINSOCKAPI_\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/win32config.h","additions":0,"deletions":78,"binary":false,"changes":78,"status":"modified"},{"patch":"@@ -94,7 +94,1 @@\n-\/*\n- * Harmless but avoiding a problem when compiling against a\n- * libxml <= 2.3.11 without LIBXML_DEBUG_ENABLED\n- *\/\n-#ifndef LIBXML_DEBUG_ENABLED\n-double xmlXPathStringEvalNumber(const xmlChar *str);\n-#endif\n+\n@@ -160,10 +154,0 @@\n-    if (style->exclPrefixMax == 0) {\n-        style->exclPrefixMax = 4;\n-        style->exclPrefixTab =\n-            (xmlChar * *)xmlMalloc(style->exclPrefixMax *\n-                                   sizeof(style->exclPrefixTab[0]));\n-        if (style->exclPrefixTab == NULL) {\n-            xmlGenericError(xmlGenericErrorContext, \"malloc failed !\\n\");\n-            return (-1);\n-        }\n-    }\n@@ -176,6 +160,6 @@\n-        style->exclPrefixMax *= 2;\n-        style->exclPrefixTab =\n-            (xmlChar * *)xmlRealloc(style->exclPrefixTab,\n-                                    style->exclPrefixMax *\n-                                    sizeof(style->exclPrefixTab[0]));\n-        if (style->exclPrefixTab == NULL) {\n+        xmlChar **tmp;\n+        size_t max = style->exclPrefixMax ? style->exclPrefixMax * 2 : 4;\n+\n+        tmp = xmlRealloc(style->exclPrefixTab,\n+                         max * sizeof(style->exclPrefixTab[0]));\n+        if (tmp == NULL) {\n@@ -185,0 +169,2 @@\n+        style->exclPrefixTab = tmp;\n+        style->exclPrefixMax = max;\n@@ -1120,1 +1106,1 @@\n-    xmlNsPtr *ret = NULL;\n+    xmlNsPtr *ret = NULL, *tmp;\n@@ -1122,1 +1108,1 @@\n-    int maxns = 10;\n+    int maxns = 0;\n@@ -1147,11 +1133,0 @@\n-                if (ret == NULL) {\n-                    ret =\n-                        (xmlNsPtr *) xmlMalloc((maxns + 1) *\n-                                               sizeof(xmlNsPtr));\n-                    if (ret == NULL) {\n-                        xmlGenericError(xmlGenericErrorContext,\n-                                        \"xsltGetInheritedNsList : out of memory!\\n\");\n-                        return(0);\n-                    }\n-                    ret[nbns] = NULL;\n-                }\n@@ -1168,6 +1143,4 @@\n-                        maxns *= 2;\n-                        ret = (xmlNsPtr *) xmlRealloc(ret,\n-                                                      (maxns +\n-                                                       1) *\n-                                                      sizeof(xmlNsPtr));\n-                        if (ret == NULL) {\n+                        maxns = (maxns == 0) ? 10 : 2 * maxns;\n+                        tmp = (xmlNsPtr *) xmlRealloc(ret,\n+                                (maxns + 1) * sizeof(xmlNsPtr));\n+                        if (tmp == NULL) {\n@@ -1176,0 +1149,1 @@\n+                            xmlFree(ret);\n@@ -1178,0 +1152,1 @@\n+                        ret = tmp;\n@@ -1333,1 +1308,2 @@\n-        if (style->cdataSection == NULL)\n+        if (style->cdataSection == NULL) {\n+            xmlFree(elements);\n@@ -1335,0 +1311,1 @@\n+        }\n@@ -1572,1 +1549,2 @@\n-    if (style->stripSpaces == NULL)\n+    if (style->stripSpaces == NULL) {\n+        xmlFree(elements);\n@@ -1574,0 +1552,1 @@\n+    }\n@@ -1701,0 +1680,5 @@\n+    if (style->stripSpaces == NULL)\n+        style->stripSpaces = xmlHashCreate(10);\n+    if (style->stripSpaces == NULL)\n+        return;\n+\n@@ -1709,5 +1693,0 @@\n-    if (style->stripSpaces == NULL)\n-        style->stripSpaces = xmlHashCreate(10);\n-    if (style->stripSpaces == NULL)\n-        return;\n-\n@@ -5529,3 +5508,0 @@\n-\/**\n- * xsltParseFindTopLevelElem:\n- *\/\n@@ -6690,0 +6666,3 @@\n+    if (style->parent == NULL)\n+        xsltResolveStylesheetAttributeSet(style);\n+\n@@ -6704,3 +6683,0 @@\n-    if (style->parent == NULL)\n-        xsltResolveStylesheetAttributeSet(style);\n-\n@@ -6712,1 +6688,1 @@\n- * @doc:  and xmlDoc parsed XML\n+ * @doc:  an xmlDoc parsed XML\n@@ -6847,1 +6823,2 @@\n-                (xmlStrcasecmp(val, BAD_CAST \"text\/xsl\"))) {\n+                (xmlStrcasecmp(val, BAD_CAST \"text\/xsl\")) &&\n+                (xmlStrcasecmp(val, BAD_CAST \"application\/xslt+xml\"))) {\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xslt.c","additions":34,"deletions":57,"binary":false,"changes":91,"status":"modified"},{"patch":"@@ -24,1 +24,0 @@\n-#include \"xsltlocale.h\"\n@@ -1050,1 +1049,0 @@\n-    xsltLocale locale;          \/* sort *\/\n@@ -1380,1 +1378,0 @@\n-    xsltLocale locale;          \/* sort *\/\n@@ -1666,0 +1663,7 @@\n+typedef void *\n+(*xsltNewLocaleFunc)(const xmlChar *lang, int lowerFirst);\n+typedef void\n+(*xsltFreeLocaleFunc)(void *locale);\n+typedef xmlChar *\n+(*xsltGenSortKeyFunc)(void *locale, const xmlChar *lang);\n+\n@@ -1789,0 +1793,6 @@\n+    int sourceDocDirty;\n+    unsigned long currentId; \/* For generate-id() *\/\n+\n+    xsltNewLocaleFunc newLocale;\n+    xsltFreeLocaleFunc freeLocale;\n+    xsltGenSortKeyFunc genSortKey;\n@@ -1918,1 +1928,1 @@\n-                                                 void *val);\n+                                                 int val);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltInternals.h","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -23,1 +23,1 @@\n-#define LIBXSLT_DOTTED_VERSION \"1.1.35\"\n+#define LIBXSLT_DOTTED_VERSION \"1.1.39\"\n@@ -30,1 +30,1 @@\n-#define LIBXSLT_VERSION 10135\n+#define LIBXSLT_VERSION 10139\n@@ -37,1 +37,1 @@\n-#define LIBXSLT_VERSION_STRING \"10135\"\n+#define LIBXSLT_VERSION_STRING \"10139\"\n@@ -42,1 +42,1 @@\n- * extra version information, used to show a CVS compilation\n+ * extra version information, used to show a Git commit description\n@@ -89,1 +89,0 @@\n-#define HAVE_MATH_H 1\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltconfig.h","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n- * extra version information, used to show a CVS compilation\n+ * extra version information, used to show a Git commit description\n@@ -89,1 +89,0 @@\n-#define HAVE_MATH_H 1\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltconfig.h.in","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -6,2 +6,0 @@\n- *\n- * Author: Igor Zlatkovic <igor@zlatkovic.com>\n@@ -13,12 +11,15 @@\n-\/**\n- * XSLTPUBFUN:\n- * XSLTPUBFUN, XSLTPUBVAR, XSLTCALL\n- *\n- * Macros which declare an exportable function, an exportable variable and\n- * the calling convention used for functions.\n- *\n- * Please use an extra block for every platform\/compiler combination when\n- * modifying this, rather than overlong #ifdef lines. This helps\n- * readability as well as the fact that different compilers on the same\n- * platform might need different definitions.\n- *\/\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+\/** DOC_DISABLE *\/\n+\n+#ifdef LIBXSLT_STATIC\n+  #define XSLTPUBLIC\n+#elif defined(IN_LIBXSLT)\n+  #define XSLTPUBLIC __declspec(dllexport)\n+#else\n+  #define XSLTPUBLIC __declspec(dllimport)\n+#endif\n+\n+#define XSLTCALL __cdecl\n+\n+\/** DOC_ENABLE *\/\n+#else \/* not Windows *\/\n@@ -27,7 +28,1 @@\n- * XSLTPUBFUN:\n- *\n- * Macros which declare an exportable function\n- *\/\n-#define XSLTPUBFUN\n-\/**\n- * XSLTPUBVAR:\n+ * XSLTPUBLIC:\n@@ -35,1 +30,1 @@\n- * Macros which declare an exportable variable\n+ * Macro which declares a public symbol\n@@ -37,1 +32,2 @@\n-#define XSLTPUBVAR extern\n+#define XSLTPUBLIC\n+\n@@ -41,1 +37,1 @@\n- * Macros which declare the called convention for exported functions\n+ * Macro which declares the calling convention for exported functions\n@@ -45,45 +41,1 @@\n-\/** DOC_DISABLE *\/\n-\n-\/* Windows platform with MS compiler *\/\n-#if defined(_WIN32) && defined(_MSC_VER)\n-  #undef XSLTPUBFUN\n-  #undef XSLTPUBVAR\n-  #undef XSLTCALL\n-  #if defined(IN_LIBXSLT) && !defined(LIBXSLT_STATIC)\n-    #define XSLTPUBFUN __declspec(dllexport)\n-    #define XSLTPUBVAR __declspec(dllexport)\n-  #else\n-    #define XSLTPUBFUN\n-    #if !defined(LIBXSLT_STATIC)\n-      #define XSLTPUBVAR __declspec(dllimport) extern\n-    #else\n-      #define XSLTPUBVAR extern\n-    #endif\n-  #endif\n-  #define XSLTCALL __cdecl\n-  #if !defined _REENTRANT\n-    #define _REENTRANT\n-  #endif\n-#endif\n-\n-\/* Windows platform with Borland compiler *\/\n-#if defined(_WIN32) && defined(__BORLANDC__)\n-  #undef XSLTPUBFUN\n-  #undef XSLTPUBVAR\n-  #undef XSLTCALL\n-  #if defined(IN_LIBXSLT) && !defined(LIBXSLT_STATIC)\n-    #define XSLTPUBFUN __declspec(dllexport)\n-    #define XSLTPUBVAR __declspec(dllexport) extern\n-  #else\n-    #define XSLTPUBFUN\n-    #if !defined(LIBXSLT_STATIC)\n-      #define XSLTPUBVAR __declspec(dllimport) extern\n-    #else\n-      #define XSLTPUBVAR extern\n-    #endif\n-  #endif\n-  #define XSLTCALL __cdecl\n-  #if !defined _REENTRANT\n-    #define _REENTRANT\n-  #endif\n-#endif\n+#endif \/* platform switch *\/\n@@ -91,5 +43,0 @@\n-\/* Windows platform with GNU compiler (Mingw) *\/\n-#if defined(_WIN32) && defined(__MINGW32__)\n-  #undef XSLTPUBFUN\n-  #undef XSLTPUBVAR\n-  #undef XSLTCALL\n@@ -97,18 +44,5 @@\n-  #if defined(IN_LIBXSLT) && !defined(LIBXSLT_STATIC)\n-*\/\n-  #if !defined(LIBXSLT_STATIC)\n-    #define XSLTPUBFUN __declspec(dllexport)\n-    #define XSLTPUBVAR __declspec(dllexport) extern\n-  #else\n-    #define XSLTPUBFUN\n-    #if !defined(LIBXSLT_STATIC)\n-      #define XSLTPUBVAR __declspec(dllimport) extern\n-    #else\n-      #define XSLTPUBVAR extern\n-    #endif\n-  #endif\n-  #define XSLTCALL __cdecl\n-  #if !defined _REENTRANT\n-    #define _REENTRANT\n-  #endif\n-#endif\n+ * XSLTPUBFUN:\n+ *\n+ * Macro which declares an exportable function\n+ *\/\n+#define XSLTPUBFUN XSLTPUBLIC\n@@ -116,18 +50,6 @@\n-\/* Cygwin platform (does not define _WIN32), GNU compiler *\/\n-#if defined(__CYGWIN__)\n-  #undef XSLTPUBFUN\n-  #undef XSLTPUBVAR\n-  #undef XSLTCALL\n-  #if defined(IN_LIBXSLT) && !defined(LIBXSLT_STATIC)\n-    #define XSLTPUBFUN __declspec(dllexport)\n-    #define XSLTPUBVAR __declspec(dllexport)\n-  #else\n-    #define XSLTPUBFUN\n-    #if !defined(LIBXSLT_STATIC)\n-      #define XSLTPUBVAR __declspec(dllimport) extern\n-    #else\n-      #define XSLTPUBVAR extern\n-    #endif\n-  #endif\n-  #define XSLTCALL __cdecl\n-#endif\n+\/**\n+ * XSLTPUBVAR:\n+ *\n+ * Macro which declares an exportable variable\n+ *\/\n+#define XSLTPUBVAR XSLTPUBLIC extern\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltexports.h","additions":32,"deletions":110,"binary":false,"changes":142,"status":"modified"},{"patch":"@@ -18,0 +18,1 @@\n+#include <libxml\/threads.h>\n@@ -22,0 +23,24 @@\n+#ifdef HAVE_STRXFRM_L\n+\n+  #define XSLT_LOCALE_POSIX\n+\n+  #ifdef HAVE_LOCALE_H\n+    #include <locale.h>\n+  #endif\n+  #ifdef HAVE_XLOCALE_H\n+    #include <xlocale.h>\n+  #endif\n+\n+#elif defined(_WIN32)\n+\n+  #define XSLT_LOCALE_WINAPI\n+\n+  #include <windows.h>\n+  #include <winnls.h>\n+\n+#else\n+\n+  #define XSLT_LOCALE_NONE\n+\n+#endif\n+\n@@ -40,2 +65,1 @@\n-      \/*note typedef LCID xsltLocale !*\/\n-    xsltLocale lcid;\n+    LCID       lcid;\n@@ -49,1 +73,1 @@\n-static xsltLocale\n+static void *\n@@ -55,2 +79,3 @@\n-        if (xmlStrcmp(p->tag, languageTag) == 0) return p->lcid;\n-    return((xsltLocale)0);\n+        if (xmlStrcmp(p->tag, languageTag) == 0)\n+            return(&p->lcid);\n+    return(NULL);\n@@ -86,2 +111,2 @@\n-xsltLocale\n-xsltNewLocale(const xmlChar *languageTag) {\n+void *\n+xsltNewLocale(const xmlChar *languageTag, int lowerFirst ATTRIBUTE_UNUSED) {\n@@ -89,2 +114,2 @@\n-    xsltLocale locale;\n-    char localeName[XSLTMAX_LANGTAGLEN+6]; \/* 6 chars for \".utf8\\0\" *\/\n+    locale_t locale;\n+    char localeName[XSLTMAX_LANGTAGLEN+7]; \/* 7 chars for \".UTF-8\\0\" *\/\n@@ -96,1 +121,1 @@\n-    \/* Convert something like \"pt-br\" to \"pt_BR.utf8\" *\/\n+    \/* Convert something like \"pt-br\" to \"pt_BR.UTF-8\" *\/\n@@ -120,1 +145,1 @@\n-        memcpy(q, \".utf8\", 6);\n+        memcpy(q, \".UTF-8\", 7);\n@@ -132,1 +157,1 @@\n-    memcpy(q, \".utf8\", 6);\n+    memcpy(q, \".UTF-8\", 7);\n@@ -150,1 +175,1 @@\n-    memcpy(q, \".utf8\", 6);\n+    memcpy(q, \".UTF-8\", 7);\n@@ -158,1 +183,1 @@\n-    xsltLocale    locale = (xsltLocale)0;\n+    void          *locale = NULL;\n@@ -347,1 +372,1 @@\n-xsltFreeLocale(xsltLocale locale) {\n+xsltFreeLocale(void *locale) {\n@@ -351,0 +376,2 @@\n+#else\n+    (void) locale;\n@@ -359,2 +386,2 @@\n- * Transforms a string according to locale. The transformed string must then be\n- * compared with xsltLocaleStrcmp and freed with xmlFree.\n+ * Transforms a string according to locale. The transformed string must be\n+ * freed with xmlFree.\n@@ -364,2 +391,2 @@\n-xsltLocaleChar *\n-xsltStrxfrm(xsltLocale locale, const xmlChar *string)\n+xmlChar *\n+xsltStrxfrm(void *vlocale, const xmlChar *string)\n@@ -370,2 +397,1 @@\n-    size_t xstrlen, r;\n-    xsltLocaleChar *xstr;\n+    xmlChar *xstr;\n@@ -374,2 +400,4 @@\n-    xstrlen = strxfrm_l(NULL, (const char *)string, 0, locale) + 1;\n-    xstr = (xsltLocaleChar *) xmlMalloc(xstrlen);\n+    size_t xstrlen, r;\n+\n+    xstrlen = strxfrm_l(NULL, (const char *)string, 0, vlocale) + 1;\n+    xstr = (xmlChar *) xmlMalloc(xstrlen);\n@@ -382,1 +410,7 @@\n-    r = strxfrm_l((char *)xstr, (const char *)string, xstrlen, locale);\n+    r = strxfrm_l((char *)xstr, (const char *)string, xstrlen, vlocale);\n+\n+    if (r >= xstrlen) {\n+        xsltTransformError(NULL, NULL, NULL, \"xsltStrxfrm : strxfrm failed\\n\");\n+        xmlFree(xstr);\n+        return(NULL);\n+    }\n@@ -386,2 +420,6 @@\n-    xstrlen = MultiByteToWideChar(CP_UTF8, 0, (char *) string, -1, NULL, 0);\n-    if (xstrlen == 0) {\n+    int wstrlen, xstrlen, r;\n+    wchar_t *wstr;\n+    LCID *lcid = vlocale;\n+\n+    wstrlen = MultiByteToWideChar(CP_UTF8, 0, (char *) string, -1, NULL, 0);\n+    if (wstrlen == 0) {\n@@ -391,2 +429,2 @@\n-    xstr = (xsltLocaleChar*) xmlMalloc(xstrlen * sizeof(xsltLocaleChar));\n-    if (xstr == NULL) {\n+    wstr = (wchar_t *) xmlMalloc(wstrlen * sizeof(wchar_t));\n+    if (wstr == NULL) {\n@@ -396,1 +434,1 @@\n-    r = MultiByteToWideChar(CP_UTF8, 0, (char *) string, -1, xstr, xstrlen);\n+    r = MultiByteToWideChar(CP_UTF8, 0, (char *) string, -1, wstr, wstrlen);\n@@ -399,1 +437,1 @@\n-        xmlFree(xstr);\n+        xmlFree(wstr);\n@@ -402,5 +440,18 @@\n-    return(xstr);\n-#endif \/* XSLT_LOCALE_WINAPI *\/\n-\n-    if (r >= xstrlen) {\n-        xsltTransformError(NULL, NULL, NULL, \"xsltStrxfrm : strxfrm failed\\n\");\n+    \/* This returns the size in bytes. *\/\n+    xstrlen = LCMapStringW(*lcid, LCMAP_SORTKEY, wstr, wstrlen, NULL, 0);\n+    if (xstrlen == 0) {\n+        xsltTransformError(NULL, NULL, NULL, \"xsltStrxfrm : LCMapStringW failed\\n\");\n+        xmlFree(wstr);\n+        return(NULL);\n+    }\n+    xstr = (xmlChar*) xmlMalloc(xstrlen);\n+    if (xstr == NULL) {\n+        xsltTransformError(NULL, NULL, NULL, \"xsltStrxfrm : out of memory\\n\");\n+        xmlFree(wstr);\n+        return(NULL);\n+    }\n+    r = LCMapStringW(*lcid, LCMAP_SORTKEY, wstr, wstrlen, (wchar_t *) xstr,\n+                     xstrlen);\n+    xmlFree(wstr);\n+    if (r == 0) {\n+        xsltTransformError(NULL, NULL, NULL, \"xsltStrxfrm : LCMapStringW failed\\n\");\n@@ -410,0 +461,1 @@\n+#endif \/* XSLT_LOCALE_WINAPI *\/\n@@ -417,1 +469,1 @@\n- * @locale: a locale identifier\n+ * @locale: unused\n@@ -421,1 +473,3 @@\n- * Compares two strings transformed with xsltStrxfrm\n+ * DEPRECATED: Same as xmlStrcmp.\n+ *\n+ * Compares two strings transformed with xsltStrxfrm.\n@@ -428,1 +482,1 @@\n-xsltLocaleStrcmp(xsltLocale locale, const xsltLocaleChar *str1, const xsltLocaleChar *str2) {\n+xsltLocaleStrcmp(void *locale, const xmlChar *str1, const xmlChar *str2) {\n@@ -430,14 +484,0 @@\n-#ifdef XSLT_LOCALE_WINAPI\n-{\n-    int ret;\n-    if (str1 == str2) return(0);\n-    if (str1 == NULL) return(-1);\n-    if (str2 == NULL) return(1);\n-    ret = CompareStringW(locale, 0, str1, -1, str2, -1);\n-    if (ret == 0) {\n-        xsltTransformError(NULL, NULL, NULL, \"xsltLocaleStrcmp : CompareStringW fail\\n\");\n-        return(0);\n-    }\n-    return(ret - 2);\n-}\n-#else\n@@ -445,1 +485,0 @@\n-#endif\n@@ -457,1 +496,1 @@\n-BOOL CALLBACK\n+static BOOL CALLBACK\n@@ -472,1 +511,1 @@\n-BOOL CALLBACK\n+static BOOL CALLBACK\n@@ -480,1 +519,1 @@\n-    k = sscanf(lcid, \"%lx\", (long*)&p->lcid);\n+    k = sscanf(lcid, \"%lx\", (unsigned long*)&p->lcid);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltlocale.c","additions":95,"deletions":56,"binary":false,"changes":151,"status":"modified"},{"patch":"@@ -17,10 +17,2 @@\n-#ifdef HAVE_STRXFRM_L\n-\n-\/*\n- * XSLT_LOCALE_POSIX:\n- * Macro indicating to use POSIX locale extensions\n- *\/\n-#define XSLT_LOCALE_POSIX\n-\n-#ifdef HAVE_LOCALE_H\n-#include <locale.h>\n+#ifdef __cplusplus\n+extern \"C\" {\n@@ -28,22 +20,0 @@\n-#ifdef HAVE_XLOCALE_H\n-#include <xlocale.h>\n-#endif\n-\n-typedef locale_t xsltLocale;\n-typedef xmlChar xsltLocaleChar;\n-\n-#elif defined(_WIN32) && !defined(__CYGWIN__)\n-\n-\/*\n- * XSLT_LOCALE_WINAPI:\n- * Macro indicating to use WinAPI for extended locale support\n- *\/\n-#define XSLT_LOCALE_WINAPI\n-\n-#include <windows.h>\n-#include <winnls.h>\n-\n-typedef LCID xsltLocale;\n-typedef wchar_t xsltLocaleChar;\n-\n-#else\n@@ -51,5 +21,10 @@\n-\/*\n- * XSLT_LOCALE_NONE:\n- * Macro indicating that there's no extended locale support\n- *\/\n-#define XSLT_LOCALE_NONE\n+XSLTPUBFUN void * XSLTCALL\n+        xsltNewLocale                   (const xmlChar *langName,\n+                                         int lowerFirst);\n+XSLTPUBFUN void XSLTCALL\n+        xsltFreeLocale                  (void *locale);\n+XSLTPUBFUN xmlChar * XSLTCALL\n+        xsltStrxfrm                     (void *locale,\n+                                         const xmlChar *string);\n+XSLTPUBFUN void XSLTCALL\n+        xsltFreeLocales                 (void);\n@@ -57,0 +32,1 @@\n+\/* Backward compatibility *\/\n@@ -59,0 +35,4 @@\n+XSLTPUBFUN int XSLTCALL\n+        xsltLocaleStrcmp                (void *locale,\n+                                         const xmlChar *str1,\n+                                         const xmlChar *str2);\n@@ -60,0 +40,2 @@\n+#ifdef __cplusplus\n+}\n@@ -62,14 +44,0 @@\n-XSLTPUBFUN xsltLocale XSLTCALL\n-        xsltNewLocale                   (const xmlChar *langName);\n-XSLTPUBFUN void XSLTCALL\n-        xsltFreeLocale                  (xsltLocale locale);\n-XSLTPUBFUN xsltLocaleChar * XSLTCALL\n-        xsltStrxfrm                     (xsltLocale locale,\n-                                         const xmlChar *string);\n-XSLTPUBFUN int XSLTCALL\n-        xsltLocaleStrcmp                (xsltLocale locale,\n-                                         const xsltLocaleChar *str1,\n-                                         const xsltLocaleChar *str2);\n-XSLTPUBFUN void XSLTCALL\n-        xsltFreeLocales                 (void);\n-\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltlocale.h","additions":19,"deletions":51,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -22,0 +22,2 @@\n+#include <stdlib.h>\n+#include <stdarg.h>\n@@ -23,0 +25,1 @@\n+\n@@ -29,4 +32,0 @@\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#include <stdarg.h>\n@@ -45,1 +44,2 @@\n-#if defined(_WIN32) && !defined(__CYGWIN__)\n+#if defined(_WIN32)\n+#include <windows.h>\n@@ -308,0 +308,60 @@\n+\/**\n+ * xsltGetUTF8CharZ:\n+ * @utf:  a sequence of UTF-8 encoded bytes\n+ * @len:  a pointer to @bytes len\n+ *\n+ * Read one UTF8 Char from a null-terminated string.\n+ *\n+ * Returns the char value or -1 in case of error and update @len with the\n+ *        number of bytes used\n+ *\/\n+int\n+xsltGetUTF8CharZ(const unsigned char *utf, int *len) {\n+    unsigned int c;\n+\n+    if (utf == NULL)\n+        goto error;\n+    if (len == NULL)\n+        goto error;\n+\n+    c = utf[0];\n+    if (c & 0x80) {\n+        if ((utf[1] & 0xc0) != 0x80)\n+            goto error;\n+        if ((c & 0xe0) == 0xe0) {\n+            if ((utf[2] & 0xc0) != 0x80)\n+                goto error;\n+            if ((c & 0xf0) == 0xf0) {\n+                if ((c & 0xf8) != 0xf0 || (utf[3] & 0xc0) != 0x80)\n+                    goto error;\n+                *len = 4;\n+                \/* 4-byte code *\/\n+                c = (utf[0] & 0x7) << 18;\n+                c |= (utf[1] & 0x3f) << 12;\n+                c |= (utf[2] & 0x3f) << 6;\n+                c |= utf[3] & 0x3f;\n+            } else {\n+              \/* 3-byte code *\/\n+                *len = 3;\n+                c = (utf[0] & 0xf) << 12;\n+                c |= (utf[1] & 0x3f) << 6;\n+                c |= utf[2] & 0x3f;\n+            }\n+        } else {\n+          \/* 2-byte code *\/\n+            *len = 2;\n+            c = (utf[0] & 0x1f) << 6;\n+            c |= utf[1] & 0x3f;\n+        }\n+    } else {\n+        \/* 1-byte code *\/\n+        *len = 1;\n+    }\n+    return(c);\n+\n+error:\n+    if (len != NULL)\n+        *len = 0;\n+    return(-1);\n+}\n+\n@@ -951,1 +1011,1 @@\n- * xsltComputeSortResultiInternal:\n+ * xsltComputeSortResultInternal:\n@@ -953,2 +1013,3 @@\n- * @sort:  node list\n- * @xfrm:  Transform strings according to locale\n+ * @sort:  xsl:sort node\n+ * @number:  data-type is number\n+ * @locale:  transform strings according to locale\n@@ -963,1 +1024,1 @@\n-                              int xfrm) {\n+                              int number, void *locale) {\n@@ -967,1 +1028,1 @@\n-    xsltStylePreCompPtr comp;\n+    const xsltStylePreComp *comp;\n@@ -1035,1 +1096,1 @@\n-            if (comp->number)\n+            if (number)\n@@ -1037,0 +1098,2 @@\n+        }\n+        if (res != NULL) {\n@@ -1038,1 +1101,1 @@\n-            if (comp->number) {\n+            if (number) {\n@@ -1050,1 +1113,1 @@\n-                    if ((xfrm) && (comp->locale != (xsltLocale)0)) {\n+                    if (locale != NULL) {\n@@ -1052,2 +1115,9 @@\n-                        res->stringval = (xmlChar *) xsltStrxfrm(comp->locale, str);\n-                        xmlFree(str);\n+                        xmlChar *sortKey = ctxt->genSortKey(locale, str);\n+\n+                        if (sortKey == NULL) {\n+                            xsltTransformError(ctxt, NULL, sort,\n+                                \"xsltComputeSortResult: sort key is null\\n\");\n+                        } else {\n+                            res->stringval = sortKey;\n+                            xmlFree(str);\n+                        }\n@@ -1092,1 +1162,7 @@\n-    return xsltComputeSortResultInternal(ctxt, sort, \/* xfrm *\/ 0);\n+    const xsltStylePreComp *comp = sort->psvi;\n+    int number = 0;\n+\n+    if (comp != NULL)\n+        number = comp->number;\n+    return xsltComputeSortResultInternal(ctxt, sort, number,\n+                                         \/* locale *\/ NULL);\n@@ -1110,1 +1186,1 @@\n-    xsltStylePreCompPtr comp;\n+    const xsltStylePreComp *comp;\n@@ -1115,1 +1191,0 @@\n-    int descending, number, desc, numb;\n@@ -1122,2 +1197,2 @@\n-    int tempstype[XSLT_MAX_SORT], temporder[XSLT_MAX_SORT],\n-        templang[XSLT_MAX_SORT];\n+    int number[XSLT_MAX_SORT], desc[XSLT_MAX_SORT];\n+    void *locale[XSLT_MAX_SORT];\n@@ -1139,0 +1214,2 @@\n+        xmlChar *lang;\n+\n@@ -1140,1 +1217,0 @@\n-        tempstype[j] = 0;\n@@ -1142,1 +1218,1 @@\n-            comp->stype =\n+            xmlChar *stype =\n@@ -1144,8 +1220,7 @@\n-                                          (const xmlChar *) \"data-type\",\n-                                          NULL);\n-            if (comp->stype != NULL) {\n-                tempstype[j] = 1;\n-                if (xmlStrEqual(comp->stype, (const xmlChar *) \"text\"))\n-                    comp->number = 0;\n-                else if (xmlStrEqual(comp->stype, (const xmlChar *) \"number\"))\n-                    comp->number = 1;\n+                                          BAD_CAST \"data-type\", NULL);\n+            number[j] = 0;\n+            if (stype != NULL) {\n+                if (xmlStrEqual(stype, (const xmlChar *) \"text\"))\n+                    ;\n+                else if (xmlStrEqual(stype, (const xmlChar *) \"number\"))\n+                    number[j] = 1;\n@@ -1155,2 +1230,1 @@\n-                                     comp->stype);\n-                    comp->number = 0; \/* use default *\/\n+                          stype);\n@@ -1158,0 +1232,1 @@\n+                xmlFree(stype);\n@@ -1159,0 +1234,2 @@\n+        } else {\n+            number[j] = comp->number;\n@@ -1160,1 +1237,0 @@\n-        temporder[j] = 0;\n@@ -1162,10 +1238,8 @@\n-            comp->order = xsltEvalAttrValueTemplate(ctxt, sorts[j],\n-                                                    (const xmlChar *) \"order\",\n-                                                    NULL);\n-            if (comp->order != NULL) {\n-                temporder[j] = 1;\n-                if (xmlStrEqual(comp->order, (const xmlChar *) \"ascending\"))\n-                    comp->descending = 0;\n-                else if (xmlStrEqual(comp->order,\n-                                     (const xmlChar *) \"descending\"))\n-                    comp->descending = 1;\n+            xmlChar *order = xsltEvalAttrValueTemplate(ctxt, sorts[j],\n+                                                       BAD_CAST \"order\", NULL);\n+            desc[j] = 0;\n+            if (order != NULL) {\n+                if (xmlStrEqual(order, (const xmlChar *) \"ascending\"))\n+                    ;\n+                else if (xmlStrEqual(order, (const xmlChar *) \"descending\"))\n+                    desc[j] = 1;\n@@ -1175,2 +1249,1 @@\n-                                     comp->order);\n-                    comp->descending = 0; \/* use default *\/\n+                             order);\n@@ -1178,0 +1251,1 @@\n+                xmlFree(order);\n@@ -1179,0 +1253,2 @@\n+        } else {\n+            desc[j] = comp->descending;\n@@ -1180,1 +1256,0 @@\n-        templang[j] = 0;\n@@ -1182,1 +1257,1 @@\n-            xmlChar *lang = xsltEvalAttrValueTemplate(ctxt, sorts[j],\n+            lang = xsltEvalAttrValueTemplate(ctxt, sorts[j],\n@@ -1185,3 +1260,6 @@\n-            if (lang != NULL) {\n-                templang[j] = 1;\n-                comp->locale = xsltNewLocale(lang);\n+        } else {\n+            lang = (xmlChar *) comp->lang;\n+        }\n+        if (lang != NULL) {\n+            locale[j] = ctxt->newLocale(lang, comp->lower_first);\n+            if (lang != comp->lang)\n@@ -1189,1 +1267,2 @@\n-            }\n+        } else {\n+            locale[j] = NULL;\n@@ -1195,2 +1274,2 @@\n-    resultsTab[0] = xsltComputeSortResultInternal(ctxt, sorts[0],\n-                                                  \/* xfrm *\/ 1);\n+    resultsTab[0] = xsltComputeSortResultInternal(ctxt, sorts[0], number[0],\n+                                                  locale[0]);\n@@ -1203,2 +1282,0 @@\n-    descending = comp->descending;\n-    number = comp->number;\n@@ -1219,1 +1296,1 @@\n-                    if (number) {\n+                    if (number[0]) {\n@@ -1236,5 +1313,0 @@\n-                    } else if(comp->locale != (xsltLocale)0) {\n-                        tst = xsltLocaleStrcmp(\n-                            comp->locale,\n-                            (xsltLocaleChar *) results[j]->stringval,\n-                            (xsltLocaleChar *) results[j + incr]->stringval);\n@@ -1245,1 +1317,1 @@\n-                    if (descending)\n+                    if (desc[0])\n@@ -1259,2 +1331,0 @@\n-                        desc = comp->descending;\n-                        numb = comp->number;\n@@ -1270,1 +1340,2 @@\n-                                                              \/* xfrm *\/ 1);\n+                                                              number[depth],\n+                                                              locale[depth]);\n@@ -1280,1 +1351,1 @@\n-                            if (numb) {\n+                            if (number[depth]) {\n@@ -1299,5 +1370,0 @@\n-                            } else if(comp->locale != (xsltLocale)0) {\n-                                tst = xsltLocaleStrcmp(\n-                                    comp->locale,\n-                                    (xsltLocaleChar *) res[j]->stringval,\n-                                    (xsltLocaleChar *) res[j + incr]->stringval);\n@@ -1308,1 +1374,1 @@\n-                            if (desc)\n+                            if (desc[depth])\n@@ -1352,14 +1418,2 @@\n-        comp = sorts[j]->psvi;\n-        if (tempstype[j] == 1) {\n-            \/* The data-type needs to be recomputed each time *\/\n-            xmlFree((void *)(comp->stype));\n-            comp->stype = NULL;\n-        }\n-        if (temporder[j] == 1) {\n-            \/* The order needs to be recomputed each time *\/\n-            xmlFree((void *)(comp->order));\n-            comp->order = NULL;\n-        }\n-        if (templang[j] == 1) {\n-            xsltFreeLocale(comp->locale);\n-            comp->locale = (xsltLocale)0;\n+        if (locale[j] != NULL) {\n+            ctxt->freeLocale(locale[j]);\n@@ -1406,0 +1460,2 @@\n+ * DEPRECATED: Use xsltSetCtxtLocaleHandlers.\n+ *\n@@ -1422,0 +1478,2 @@\n+ * DEPRECATED: Use xsltSetCtxtLocaleHandlers.\n+ *\n@@ -1432,0 +1490,22 @@\n+\/**\n+ * xsltSetCtxtLocaleHandlers:\n+ * @ctxt:  an XSLT transform context\n+ * @newLocale:  locale constructor\n+ * @freeLocale:  locale destructor\n+ * @genSortKey:  sort key generator\n+ *\n+ * Set the locale handlers.\n+ *\/\n+void\n+xsltSetCtxtLocaleHandlers(xsltTransformContextPtr ctxt,\n+                          xsltNewLocaleFunc newLocale,\n+                          xsltFreeLocaleFunc freeLocale,\n+                          xsltGenSortKeyFunc genSortKey) {\n+    if (ctxt == NULL)\n+        return;\n+\n+    ctxt->newLocale = newLocale;\n+    ctxt->freeLocale = freeLocale;\n+    ctxt->genSortKey = genSortKey;\n+}\n+\n@@ -1811,0 +1891,2 @@\n+        if (buf == NULL)\n+            xmlCharEncCloseFunc(encoder);\n@@ -1838,0 +1920,135 @@\n+\/**\n+ * xsltGetSourceNodeFlags:\n+ * @node:  Node from source document\n+ *\n+ * Returns the flags for a source node.\n+ *\/\n+int\n+xsltGetSourceNodeFlags(xmlNodePtr node) {\n+    \/*\n+     * Squeeze the bit flags into the upper bits of\n+     *\n+     * - 'int properties' member in struct _xmlDoc\n+     * - 'xmlAttributeType atype' member in struct _xmlAttr\n+     * - 'unsigned short extra' member in struct _xmlNode\n+     *\/\n+    switch (node->type) {\n+        case XML_DOCUMENT_NODE:\n+        case XML_HTML_DOCUMENT_NODE:\n+            return ((xmlDocPtr) node)->properties >> 27;\n+\n+        case XML_ATTRIBUTE_NODE:\n+            return ((xmlAttrPtr) node)->atype >> 27;\n+\n+        case XML_ELEMENT_NODE:\n+        case XML_TEXT_NODE:\n+        case XML_CDATA_SECTION_NODE:\n+        case XML_PI_NODE:\n+        case XML_COMMENT_NODE:\n+            return node->extra >> 12;\n+\n+        default:\n+            return 0;\n+    }\n+}\n+\n+\/**\n+ * xsltSetSourceNodeFlags:\n+ * @node:  Node from source document\n+ * @flags:  Flags\n+ *\n+ * Sets the specified flags to 1.\n+ *\n+ * Returns 0 on success, -1 on error.\n+ *\/\n+int\n+xsltSetSourceNodeFlags(xsltTransformContextPtr ctxt, xmlNodePtr node,\n+                       int flags) {\n+    if (node->doc == ctxt->initialContextDoc)\n+        ctxt->sourceDocDirty = 1;\n+\n+    switch (node->type) {\n+        case XML_DOCUMENT_NODE:\n+        case XML_HTML_DOCUMENT_NODE:\n+            ((xmlDocPtr) node)->properties |= flags << 27;\n+            return 0;\n+\n+        case XML_ATTRIBUTE_NODE:\n+            ((xmlAttrPtr) node)->atype |= flags << 27;\n+            return 0;\n+\n+        case XML_ELEMENT_NODE:\n+        case XML_TEXT_NODE:\n+        case XML_CDATA_SECTION_NODE:\n+        case XML_PI_NODE:\n+        case XML_COMMENT_NODE:\n+            node->extra |= flags << 12;\n+            return 0;\n+\n+        default:\n+            return -1;\n+    }\n+}\n+\n+\/**\n+ * xsltClearSourceNodeFlags:\n+ * @node:  Node from source document\n+ * @flags:  Flags\n+ *\n+ * Sets the specified flags to 0.\n+ *\n+ * Returns 0 on success, -1 on error.\n+ *\/\n+int\n+xsltClearSourceNodeFlags(xmlNodePtr node, int flags) {\n+    switch (node->type) {\n+        case XML_DOCUMENT_NODE:\n+        case XML_HTML_DOCUMENT_NODE:\n+            ((xmlDocPtr) node)->properties &= ~(flags << 27);\n+            return 0;\n+\n+        case XML_ATTRIBUTE_NODE:\n+            ((xmlAttrPtr) node)->atype &= ~(flags << 27);\n+            return 0;\n+\n+        case XML_ELEMENT_NODE:\n+        case XML_TEXT_NODE:\n+        case XML_CDATA_SECTION_NODE:\n+        case XML_PI_NODE:\n+        case XML_COMMENT_NODE:\n+            node->extra &= ~(flags << 12);\n+            return 0;\n+\n+        default:\n+            return -1;\n+    }\n+}\n+\n+\/**\n+ * xsltGetPSVIPtr:\n+ * @cur:  Node\n+ *\n+ * Returns a pointer to the psvi member of a node or NULL on error.\n+ *\/\n+void **\n+xsltGetPSVIPtr(xmlNodePtr cur) {\n+    switch (cur->type) {\n+        case XML_DOCUMENT_NODE:\n+        case XML_HTML_DOCUMENT_NODE:\n+            return &((xmlDocPtr) cur)->psvi;\n+\n+        case XML_ATTRIBUTE_NODE:\n+            return &((xmlAttrPtr) cur)->psvi;\n+\n+        case XML_ELEMENT_NODE:\n+        case XML_TEXT_NODE:\n+        case XML_CDATA_SECTION_NODE:\n+        case XML_PI_NODE:\n+        case XML_COMMENT_NODE:\n+            return &cur->psvi;\n+\n+        default:\n+            return NULL;\n+    }\n+}\n+\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltutils.c","additions":303,"deletions":86,"binary":false,"changes":389,"status":"modified"},{"patch":"@@ -16,3 +16,0 @@\n-#ifdef HAVE_STDARG_H\n-#include <stdarg.h>\n-#endif\n@@ -97,0 +94,7 @@\n+#ifdef IN_LIBXSLT\n+\/** DOC_DISABLE *\/\n+XSLTPUBFUN int XSLTCALL\n+                xsltGetUTF8CharZ (const unsigned char *utf,\n+                                  int *len);\n+\/** DOC_ENABLE *\/\n+#endif\n@@ -184,0 +188,5 @@\n+XSLTPUBFUN void XSLTCALL\n+                xsltSetCtxtLocaleHandlers       (xsltTransformContextPtr ctxt,\n+                                                 xsltNewLocaleFunc newLocale,\n+                                                 xsltFreeLocaleFunc freeLocale,\n+                                                 xsltGenSortKeyFunc genSortKey);\n@@ -250,0 +259,18 @@\n+#ifdef IN_LIBXSLT\n+\/** DOC_DISABLE *\/\n+#define XSLT_SOURCE_NODE_MASK       15u\n+#define XSLT_SOURCE_NODE_HAS_KEY    1u\n+#define XSLT_SOURCE_NODE_HAS_ID     2u\n+int\n+xsltGetSourceNodeFlags(xmlNodePtr node);\n+int\n+xsltSetSourceNodeFlags(xsltTransformContextPtr ctxt, xmlNodePtr node,\n+                       int flags);\n+int\n+xsltClearSourceNodeFlags(xmlNodePtr node, int flags);\n+void **\n+xsltGetPSVIPtr(xmlNodePtr cur);\n+\/** DOC_ENABLE *\/\n+#endif\n+\n+#ifdef WITH_PROFILER\n@@ -263,0 +290,1 @@\n+#endif\n@@ -295,2 +323,0 @@\n-XSLTPUBFUN void XSLTCALL\n-                xsltSetDebuggerStatus           (int value);\n@@ -299,0 +325,3 @@\n+#ifdef WITH_DEBUGGER\n+XSLTPUBFUN void XSLTCALL\n+                xsltSetDebuggerStatus           (int value);\n@@ -306,0 +335,1 @@\n+#endif\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/libxslt\/xsltutils.h","additions":35,"deletions":5,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-XSLT_DEF = $(XSLT_BASENAME).def\n@@ -38,1 +37,0 @@\n-EXSLT_DEF = $(EXSLT_BASENAME).def\n@@ -241,4 +239,0 @@\n-# Creates the export definition file (DEF) for libxslt.\n-$(XSLT_INTDIR)\\$(XSLT_DEF) : $(XSLT_INTDIR) $(XSLT_DEF).src\n-\t$(CPP) $(CPPFLAGS) $(XSLT_DEF).src > $(XSLT_INTDIR)\\$(XSLT_DEF)\n-\n@@ -246,1 +240,1 @@\n-$(BINDIR)\\$(XSLT_SO) : $(BINDIR) $(XSLT_OBJS) $(XSLT_INTDIR)\\$(XSLT_DEF)\n+$(BINDIR)\\$(XSLT_SO) : $(BINDIR) $(XSLT_OBJS)\n@@ -253,6 +247,0 @@\n-#$(BINDIR)\\$(XSLT_SO) : $(BINDIR) $(XSLT_OBJS) $(XSLT_INTDIR)\\$(XSLT_DEF)\n-#\t$(LD) $(LDFLAGS) \/DLL \/DEF:$(XSLT_INTDIR)\\$(XSLT_DEF) \\\n-#\t\t\/VERSION:$(LIBXSLT_MAJOR_VERSION).$(LIBXSLT_MINOR_VERSION) \\\n-#\t\t\/IMPLIB:$(BINDIR)\\$(XSLT_IMP) \/OUT:$(BINDIR)\\$(XSLT_SO) \\\n-#\t\t$(XSLT_OBJS) $(LIBS) libxml2.lib\n-\n@@ -287,4 +275,0 @@\n-# Creates the export definition file (DEF) for libxslt.\n-$(EXSLT_INTDIR)\\$(EXSLT_DEF) : $(EXSLT_INTDIR) $(EXSLT_DEF).src\n-\t$(CPP) $(CPPFLAGS) $(EXSLT_DEF).src > $(EXSLT_INTDIR)\\$(EXSLT_DEF)\n-\n@@ -292,1 +276,1 @@\n-$(BINDIR)\\$(EXSLT_SO) : $(BINDIR) $(EXSLT_OBJS) $(EXSLT_INTDIR)\\$(EXSLT_DEF) libxslt\n+$(BINDIR)\\$(EXSLT_SO) : $(BINDIR) $(EXSLT_OBJS) libxslt\n@@ -299,6 +283,0 @@\n-#$(BINDIR)\\$(EXSLT_SO) : $(BINDIR) $(EXSLT_OBJS) $(EXSLT_INTDIR)\\$(EXSLT_DEF) libxslt\n-#\t$(LD) $(LDFLAGS) \/DLL \/DEF:$(EXSLT_INTDIR)\\$(EXSLT_DEF) \\\n-#\t\t\/VERSION:$(LIBEXSLT_MAJOR_VERSION).$(LIBEXSLT_MINOR_VERSION) \\\n-#\t\t\/IMPLIB:$(BINDIR)\\$(EXSLT_IMP) \/OUT:$(BINDIR)\\$(EXSLT_SO) \\\n-#\t\t$(EXSLT_OBJS) $(XSLT_IMP) $(LIBS) libxml2.lib\n-\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/win32\/Makefile.msvc","additions":2,"deletions":24,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -87,2 +87,2 @@\n-allready know. You will not find any explanations for that\n-here. Please configure the source manually only if you allready know\n+already know. You will not find any explanations for that\n+here. Please configure the source manually only if you already know\n@@ -101,1 +101,1 @@\n-�ou configured it to build with GNU C compiler, mingw edition, you\n+you configured it to build with GNU C compiler, mingw edition, you\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/win32\/Readme.txt","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+var verLibxmlReq;\n@@ -51,0 +52,1 @@\n+var withPython = false;\n@@ -111,0 +113,1 @@\n+\ttxt += \"  python:     Build Python bindings (\" + (withPython? \"yes\" : \"no\")  + \")\\n\";\n@@ -142,14 +145,0 @@\n-\tif (useCvsVer && fso.FileExists(\"..\\\\CVS\\\\Entries\")) {\n-\t\tcf = fso.OpenTextFile(\"..\\\\CVS\\\\Entries\", 1);\n-\t\twhile (cf.AtEndOfStream != true) {\n-\t\t\tln = cf.ReadLine();\n-\t\t\ts = new String(ln);\n-\t\t\tif (s.search(\/^\\\/ChangeLog\\\/\/) != -1) {\n-\t\t\t\tvar iDot = s.indexOf(\".\");\n-\t\t\t\tvar iSlash = s.indexOf(\"\/\", iDot);\n-\t\t\t\tverCvs = \"CVS\" + s.substring(iDot + 1, iSlash);\n-\t\t\t\tbreak;\n-\t\t\t}\n-\t\t}\n-\t\tcf.Close();\n-\t}\n@@ -186,0 +175,3 @@\n+\t\t} else if(s.search(\/^LIBXML_REQUIRED_VERSION=\/) != -1) {\n+\t\t\tvf.WriteLine(s);\n+\t\t\tverLibxmlReq = s.substring(s.indexOf(\"=\") + 1, s.length);\n@@ -198,0 +190,1 @@\n+\tvf.WriteLine(\"WITH_PYTHON=\" + (withPython? \"1\" : \"0\"));\n@@ -287,0 +280,45 @@\n+\/* Configures Python bindings. Otherwise identical to the above *\/\n+function configureLibxsltPy()\n+{\n+\tvar pyOptsFileIn = baseDir + \"\\\\python\\\\setup.py.in\";\n+\tvar pyOptsFile = baseDir + \"\\\\python\\\\setup.py\";\n+\tvar fso, ofi, of, ln, s;\n+\tfso = new ActiveXObject(\"Scripting.FileSystemObject\");\n+\tofi = fso.OpenTextFile(pyOptsFileIn, 1);\n+\tof = fso.CreateTextFile(pyOptsFile, true);\n+\twhile (ofi.AtEndOfStream != true) {\n+\t\tln = ofi.ReadLine();\n+\t\ts = new String(ln);\n+\t\tif (s.search(\/\\@VERSION\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@VERSION\\@\/, \n+\t\t\t\tverMajorXslt + \".\" + verMinorXslt + \".\" + verMicroXslt));\n+\t\t} else if (s.search(\/\\@prefix\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@prefix\\@\/, buildPrefix));\n+\t\t} else if (s.search(\/\\@LIBXSLT_VERSION_NUMBER\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@LIBXSLT_VERSION_NUMBER\\@\/, \n+\t\t\t\tverMajorXslt*10000 + verMinorXslt*100 + verMicroXslt*1));\n+\t\t} else if (s.search(\/\\@LIBXSLT_VERSION_EXTRA\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@LIBXSLT_VERSION_EXTRA\\@\/, verCvs));\n+\t\t} else if (s.search(\/\\@WITH_TRIO\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@WITH_TRIO\\@\/, withTrio? \"1\" : \"0\"));\n+\t\t} else if (s.search(\/\\@WITH_XSLT_DEBUG\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@WITH_XSLT_DEBUG\\@\/, withXsltDebug? \"1\" : \"0\"));\n+\t\t} else if (s.search(\/\\@WITH_MEM_DEBUG\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@WITH_MEM_DEBUG\\@\/, withMemDebug? \"1\" : \"0\"));\n+\t\t} else if (s.search(\/\\@WITH_DEBUGGER\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@WITH_DEBUGGER\\@\/, withDebugger? \"1\" : \"0\"));\n+\t\t} else if (s.search(\/\\@WITH_MODULES\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@WITH_MODULES\\@\/, withModules? \"1\" : \"0\"));\n+\t\t} else if (s.search(\/\\@WITH_PROFILER\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@WITH_PROFILER\\@\/, withProfiler? \"1\" : \"0\"));\n+\t\t} else if (s.search(\/\\@LIBXSLT_DEFAULT_PLUGINS_PATH\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@LIBXSLT_DEFAULT_PLUGINS_PATH\\@\/, \"NULL\"));\n+\t\t} else if (s.search(\/\\@LIBXML_REQUIRED_VERSION\\@\/) != -1) {\n+\t\t\tof.WriteLine(s.replace(\/\\@LIBXML_REQUIRED_VERSION\\@\/, verLibxmlReq));\n+\t\t} else\n+\t\t\tof.WriteLine(ln);\n+\t}\n+\tofi.Close();\n+\tof.Close();\n+}\n+\n@@ -353,0 +391,2 @@\n+\t\telse if (opt == \"python\")\n+\t\t\twithPython = strToBool(arg.substring(opt.length + 1, arg.length));\n@@ -449,0 +489,9 @@\n+if (withPython == true) {\n+\tconfigureLibxsltPy();\n+\tif (error != 0) {\n+\t\tWScript.Echo(\"Configuration failed, aborting.\");\n+\t\tWScript.Quit(error);\n+\t}\n+\n+}\n+\n@@ -486,0 +535,1 @@\n+txtOut += \"   Python bindings: \" + boolToStr(withPython) + \"\\n\";\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/src\/win32\/configure.js","additions":64,"deletions":14,"binary":false,"changes":78,"status":"modified"},{"patch":"@@ -12,69 +12,0 @@\n-#define HAVE_CTYPE_H 1\n-#define HAVE_STDLIB_H 1\n-#define HAVE_STDARG_H 1\n-#define HAVE_MALLOC_H 1\n-#define HAVE_TIME_H 1\n-#define HAVE_LOCALTIME 1\n-#define HAVE_GMTIME 1\n-#define HAVE_TIME 1\n-#define HAVE_MATH_H 1\n-#define HAVE_FCNTL_H 1\n-\n-#include <io.h>\n-\n-#define HAVE_ISINF\n-#define HAVE_ISNAN\n-\n-#include <math.h>\n-#if defined _MSC_VER || defined __MINGW32__\n-\/* MS C-runtime has functions which can be used in order to determine if\n-   a given floating-point variable contains NaN, (+-)INF. These are\n-   preferred, because floating-point technology is considered propriatary\n-   by MS and we can assume that their functions know more about their\n-   oddities than we do. *\/\n-#include <float.h>\n-\/* Bjorn Reese figured a quite nice construct for isinf() using the\n-   _fpclass() function. *\/\n-#ifndef isinf\n-#define isinf(d) ((_fpclass(d) == _FPCLASS_PINF) ? 1 \\\n-    : ((_fpclass(d) == _FPCLASS_NINF) ? -1 : 0))\n-#endif\n-\/* _isnan(x) returns nonzero if (x == NaN) and zero otherwise. *\/\n-#ifndef isnan\n-#define isnan(d) (_isnan(d))\n-#endif\n-#else \/* _MSC_VER *\/\n-static int isinf (double d) {\n-    int expon = 0;\n-    double val = frexp (d, &expon);\n-    if (expon == 1025) {\n-        if (val == 0.5) {\n-            return 1;\n-        } else if (val == -0.5) {\n-            return -1;\n-        } else {\n-            return 0;\n-        }\n-    } else {\n-        return 0;\n-    }\n-}\n-static int isnan (double d) {\n-    int expon = 0;\n-    double val = frexp (d, &expon);\n-    if (expon == 1025) {\n-        if (val == 0.5) {\n-            return 0;\n-        } else if (val == -0.5) {\n-            return 0;\n-        } else {\n-            return 1;\n-        }\n-    } else {\n-        return 0;\n-    }\n-}\n-#endif \/* _MSC_VER *\/\n-\n-#include <direct.h>\n-\n@@ -118,9 +49,0 @@\n-#define HAVE_STRING_H\n-\n-#include <libxml\/xmlversion.h>\n-\n-#ifndef ATTRIBUTE_UNUSED\n-#define ATTRIBUTE_UNUSED\n-#endif\n-\n-#define _WINSOCKAPI_\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/ThirdParty\/libxslt\/win32\/config.h","additions":0,"deletions":78,"binary":false,"changes":78,"status":"modified"}]}
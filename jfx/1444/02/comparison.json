{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -813,2 +813,1 @@\n-        while (pos != BreakIterator.DONE &&\n-               !Character.isLetterOrDigit(text.charAt(Utils.clamp(0, pos, textLength-1)))) {\n+        while (pos != BreakIterator.DONE && !isLetterOrDigit(text, pos)) {\n@@ -1746,0 +1745,11 @@\n+    private static boolean isLetterOrDigit(String text, int ix) {\n+        if (ix < 0) {\n+            \/\/ should not happen\n+            return false;\n+        } else if (ix >= text.length()) {\n+            return false;\n+        }\n+        \/\/ ignore the case when 'c' is a high surrogate without the low surrogate\n+        int c = Character.codePointAt(text, ix);\n+        return Character.isLetterOrDigit(c);\n+    }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/TextInputControl.java","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2148,0 +2148,25 @@\n+\n+    @Test\n+    public void previousWord_Bhojpuri() {\n+        \/\/ \"Bhojpuri \\ud804\\udca6\\ud804\\udcb7\\ud804\\udc94\\ud804\\udca3\\ud804\\udcb3\\ud804\\udca9\\ud804\\udcb2 test\"\n+        textInput.setText(\"Bhojpuri ð‘‚¦ð‘‚·ð‘‚”ð‘‚£ð‘‚³ð‘‚©ð‘‚² test\");\n+        textInput.end();\n+        verifyCaret(28);\n+        textInput.previousWord(); \/\/ at the beginning of \"test\"\n+        verifyCaret(24);\n+        textInput.previousWord(); \/\/ at the beginning of \"ð‘‚¦ð‘‚·ð‘‚”ð‘‚£ð‘‚³ð‘‚©ð‘‚²\"\n+        verifyCaret(9);\n+        textInput.previousWord(); \/\/ at the beginning of \"Bhojpuri\"\n+        verifyCaret(0);\n+    }\n+\n+    private void verifyCaret(int index) {\n+        verifyCaret(index, index, false);\n+    }\n+\n+    private void verifyCaret(int caret, int anchor, boolean reverse) {\n+        assertEquals(caret, textInput.getCaretPosition());\n+        assertEquals(anchor, textInput.getAnchor());\n+        IndexRange sel = reverse ? new IndexRange(caret, anchor) : new IndexRange(anchor, caret);\n+        assertEquals(sel, textInput.getSelection());\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TextInputControlTest.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}
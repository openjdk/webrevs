{"files":[{"patch":"@@ -327,0 +327,16 @@\n+    \/*\n+     * Both parallel and perspective projections introduce denominators derived from the view dimensions.\n+     * If a view dimension is zero, these divisions can produce NaN or Infinity. For example, the parallel\n+     * projection computes terms proportional to 1\/viewWidth and 1\/viewHeight, and the perspective projection\n+     * depends on the aspect ratio viewWidth\/viewHeight. Once a transform contains NaN or Infinity, downstream\n+     * coordinate conversion APIs that rely on these transforms (such as Node.localToScreen()) can return\n+     * unusable results.\n+     *\n+     * The intent here is not to define semantics for a mathematically degenerate 0x0 view, but to prevent the\n+     * transform pipeline from being poisoned by NaN or Infinity. For this purpose, we clamp the view width\n+     * and height to ulp(1), guaranteeing non-zero view dimensions while keeping the clamp very small.\n+     *\/\n+    private static double safeSize(double size) {\n+        return Math.max(Math.ulp(1.0), size);\n+    }\n+\n@@ -328,12 +344,1 @@\n-        \/\/ Both parallel and perspective projections introduce denominators derived from the view dimensions.\n-        \/\/ If a view dimension is zero, these divisions can produce NaN or Infinity. For example, the parallel\n-        \/\/ projection computes terms proportional to 1\/viewWidth and 1\/viewHeight, and the perspective projection\n-        \/\/ depends on the aspect ratio viewWidth\/viewHeight. Once a transform contains NaN or Infinity, downstream\n-        \/\/ coordinate conversion APIs that rely on these transforms (such as Node.localToScreen()) can return\n-        \/\/ unusable results.\n-        \/\/\n-        \/\/ The intent here is not to define semantics for a mathematically degenerate 0x0 view, but to prevent the\n-        \/\/ transform pipeline from being poisoned by NaN or Infinity. For this purpose, we clamp the view width\n-        \/\/ and height to ulp(1), guaranteeing non-zero view dimensions while keeping the clamp very small.\n-        \/\/\n-        this.viewWidth = Math.max(Math.ulp(1.0), width);\n+        this.viewWidth = safeSize(width);\n@@ -348,1 +353,1 @@\n-        this.viewHeight = Math.max(Math.ulp(1.0), height); \/\/ see setViewWidth() for details\n+        this.viewHeight = safeSize(height);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/Camera.java","additions":18,"deletions":13,"binary":false,"changes":31,"status":"modified"}]}
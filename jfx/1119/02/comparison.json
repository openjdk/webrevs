{"files":[{"patch":"@@ -31,0 +31,1 @@\n+\n@@ -64,1 +65,3 @@\n-    static CountDownLatch tooltipLatch = new CountDownLatch(1);\n+    static CountDownLatch tooltipShownLatch = new CountDownLatch(1);\n+    static CountDownLatch tooltipHiddenLatch = new CountDownLatch(1);\n+    static CountDownLatch mouseMovedLatch = new CountDownLatch(1);\n@@ -78,2 +81,0 @@\n-        assumeTrue(!PlatformUtil.isLinux()); \/\/ JDK-8304922\n-\n@@ -90,0 +91,7 @@\n+        Util.runAndWait(() -> {\n+            \/\/ Click somewhere in the Stage to ensure that it is active\n+            robot.mouseMove((int)(scene.getWindow().getX() + scene.getX()),\n+                            (int)(scene.getWindow().getY() + scene.getY()));\n+            robot.mouseClick(MouseButton.PRIMARY);\n+        });\n+\n@@ -99,1 +107,1 @@\n-        Util.waitForLatch(tooltipLatch, 5, \"Timeout waiting for tooltip to display\");\n+        Util.waitForLatch(tooltipShownLatch, 5, \"Timeout waiting for tooltip to display\");\n@@ -106,0 +114,1 @@\n+        Util.waitForLatch(tooltipHiddenLatch, 5, \"Timeout waiting for tooltip to be hidden\");\n@@ -124,0 +133,1 @@\n+            mouseMovedLatch.countDown();\n@@ -125,0 +135,3 @@\n+\n+        Util.waitForLatch(mouseMovedLatch, 5, \"Timeout waiting for mouse to move away from slider\");\n+        Thread.sleep(500);\n@@ -136,1 +149,2 @@\n-            tooltip.setOnShown(event -> Platform.runLater(tooltipLatch::countDown));\n+            tooltip.setOnShown(event -> Platform.runLater(tooltipShownLatch::countDown));\n+            tooltip.setOnHidden(event -> Platform.runLater(tooltipHiddenLatch::countDown));\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/SliderTooltipNPETest.java","additions":19,"deletions":5,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -456,0 +456,11 @@\n+\n+            if (cell == buttonCell) {\n+                final String promptText = comboBox.getPromptText();\n+                if (comboBox.getValue() == null\n+                        && promptText != null && !promptText.isEmpty()) {\n+                    cell.setGraphic(null);\n+                    cell.setText(promptText);\n+                    return false;\n+                }\n+            }\n+\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/ComboBoxListViewSkin.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n@@ -1315,0 +1316,24 @@\n+    @Test\n+    public void testPromptTextRestoredAfterSetValueNull() {\n+        String promptText = \"Select Value\";\n+        comboBox.setPromptText(promptText);\n+        comboBox.getItems().addAll(\"0\", \"1\", \"2\", \"3\");\n+\n+        SingleSelectionModel<String> sm = comboBox.getSelectionModel();\n+        sl = new StageLoader(comboBox);\n+        ListCell<String> buttonCell = (ListCell<String>) getDisplayNode();\n+\n+        assertEquals(promptText, buttonCell.getText(), \"Initial button cell text should be the promptText\");\n+\n+        \/\/ Select an item\n+        sm.select(2);\n+        Toolkit.getToolkit().firePulse();\n+        assertNotEquals(promptText, buttonCell.getText(), \"After selecting an item the button must not show the promptText\");\n+\n+        \/\/ Clear the value\n+        comboBox.setValue(null);\n+        Toolkit.getToolkit().firePulse();\n+\n+        assertEquals(promptText, buttonCell.getText(), \"Button cell should show promptText after clearing value\");\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ComboBoxTest.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}
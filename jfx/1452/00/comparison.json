{"files":[{"patch":"@@ -623,0 +623,3 @@\n+\n+                            \/\/Restore the previous selection\n+                            comboBox.setValue(selectedItem);\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/ComboBox.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2321,0 +2321,30 @@\n+\n+    \/\/JDK-8279140\n+    @Test\n+    public void testSelectionOnItemChange() {\n+        ObservableList<String> comboBoxItemsList = FXCollections.observableArrayList();\n+        ObjectProperty<String> selectedValue = new SimpleObjectProperty<>();\n+\n+        List<String> strings1 = List.of(\"A\", \"B\", \"C\");\n+        List<String> strings2 = List.of(\"D\", \"E\", \"F\");\n+\n+        comboBox = new ComboBox<>();\n+        comboBox.setItems(comboBoxItemsList);\n+\n+        selectedValue.addListener((obs, oldValue, newValue) -> {\n+            if (\"D\".equals(newValue) || \"A\".equals(newValue)) {\n+                List<String> newContent = \"A\".equals(newValue) ? strings1 : strings2;\n+                comboBoxItemsList.setAll(newContent);\n+            }\n+        });\n+\n+        comboBox.valueProperty().bindBidirectional(selectedValue);\n+\n+        selectedValue.set(\"A\");\n+        assertEquals(\"A\", comboBox.getSelectionModel().getSelectedItem());\n+        assertEquals(\"A\", selectedValue.get());\n+\n+        selectedValue.set(\"D\");\n+        assertEquals(\"D\", comboBox.getSelectionModel().getSelectedItem());\n+        assertEquals(\"D\", selectedValue.get());\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ComboBoxTest.java","additions":30,"deletions":0,"binary":false,"changes":30,"status":"modified"}]}
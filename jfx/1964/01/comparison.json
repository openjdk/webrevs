{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+import java.util.HashSet;\n@@ -30,0 +31,1 @@\n+import java.util.Set;\n@@ -373,1 +375,1 @@\n-        List<Screen> oldScreens = screens;\n+        Set<Screen> oldScreens = new HashSet<>();\n@@ -392,0 +394,1 @@\n+                    oldScreens.add(oldScreen);\n@@ -397,5 +400,3 @@\n-        \/\/ Dispose the old screens\n-        if (oldScreens != null) {\n-            for (Screen screen : oldScreens) {\n-                screen.dispose();\n-            }\n+        \/\/ Dispose the old screens, if any\n+        for (Screen screen : oldScreens) {\n+            screen.dispose();\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/Screen.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -215,0 +215,4 @@\n+#ifndef USER_DEFAULT_SCREEN_DPI\n+#define USER_DEFAULT_SCREEN_DPI 96\n+#endif\n+\n@@ -368,0 +372,4 @@\n+        case WM_DPICHANGED:\n+            HandleDPIEvent(wParam, lParam);\n+            GlassScreen::HandleDisplayChange();\n+            break;\n@@ -813,0 +821,9 @@\n+void GlassWindow::HandleDPIEvent(WPARAM wParam, LPARAM lParam)\n+{\n+    JNIEnv* env = GetEnv();\n+    float scale = (float) LOWORD(wParam) \/ USER_DEFAULT_SCREEN_DPI;\n+\n+    env->CallVoidMethod(m_grefThis, midNotifyScaleChanged, scale, scale, scale, scale);\n+    CheckAndClearException(env);\n+}\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/win\/GlassWindow.cpp","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"}]}
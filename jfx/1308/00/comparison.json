{"files":[{"patch":"@@ -542,1 +542,2 @@\n-        } else if (resetChildren || cellsEmpty) {\n+        }\n+        if (resetChildren || cellsEmpty) {\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/TableRowSkinBase.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import javafx.beans.property.SimpleStringProperty;\n@@ -33,0 +34,1 @@\n+import javafx.scene.Scene;\n@@ -85,1 +87,1 @@\n-        stageLoader = new StageLoader(tableView);\n+        stageLoader = new StageLoader(new Scene(tableView));\n@@ -319,0 +321,21 @@\n+    \/**\n+     * The {@link TableRowSkin} should add new cells after new columns are added.\n+     * See: JDK-8321970\n+     *\/\n+    @Test\n+    public void cellsShouldBeAddedInRowFixedCellSize() {\n+        tableView.setFixedCellSize(24);\n+\n+        TableColumn<Person, String> otherColumn = new TableColumn<>(\"other\");\n+        otherColumn.setPrefWidth(100);\n+        otherColumn.setCellValueFactory(value -> new SimpleStringProperty(\"other\"));\n+        tableView.getColumns().add(otherColumn);\n+\n+        Toolkit.getToolkit().firePulse();\n+        assertEquals(5, tableView.getColumns().size());\n+\n+        Toolkit.getToolkit().firePulse();\n+        IndexedCell<?> row = VirtualFlowTestUtils.getCell(tableView, 1);\n+        assertEquals(5, row.getChildrenUnmodifiable().stream().filter(TableCell.class::isInstance).count());\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/TableRowSkinTest.java","additions":24,"deletions":1,"binary":false,"changes":25,"status":"modified"}]}
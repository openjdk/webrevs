{"files":[{"patch":"@@ -39,0 +39,5 @@\n+    \/**\n+     * Deprecated in favor of specific restore events: {@link #UNMAXIMIZE}\n+     * and {@link #UNMINIMIZE}.\n+     *\/\n+    @Deprecated\n@@ -40,0 +45,2 @@\n+    @Native final static public int UNMINIMIZE            = 534;\n+    @Native final static public int UNMAXIMIZE            = 535;\n@@ -52,32 +59,19 @@\n-        switch(eventType) {\n-            case WindowEvent.RESIZE:\n-                return \"RESIZE\";\n-            case WindowEvent.MOVE:\n-                return \"MOVE\";\n-            case WindowEvent.RESCALE:\n-                return \"RESCALE\";\n-            case WindowEvent.CLOSE:\n-                return \"CLOSE\";\n-            case WindowEvent.DESTROY:\n-                return \"DESTROY\";\n-            case WindowEvent.MINIMIZE:\n-                return \"MINIMIZE\";\n-            case WindowEvent.MAXIMIZE:\n-                return \"MAXIMIZE\";\n-            case WindowEvent.RESTORE:\n-                return \"RESTORE\";\n-            case WindowEvent.FOCUS_LOST:\n-                return \"FOCUS_LOST\";\n-            case WindowEvent.FOCUS_GAINED:\n-                return \"FOCUS_GAINED\";\n-            case WindowEvent.FOCUS_GAINED_FORWARD:\n-                return \"FOCUS_GAINED_FORWARD\";\n-            case WindowEvent.FOCUS_GAINED_BACKWARD:\n-                return \"FOCUS_GAINED_BACKWARD\";\n-            case WindowEvent.FOCUS_DISABLED:\n-                return \"FOCUS_DISABLED\";\n-            case WindowEvent.FOCUS_UNGRAB:\n-                return \"FOCUS_UNGRAB\";\n-            default:\n-                return \"UNKNOWN\";\n-        }\n+        return switch (eventType) {\n+            case WindowEvent.RESIZE -> \"RESIZE\";\n+            case WindowEvent.MOVE -> \"MOVE\";\n+            case WindowEvent.RESCALE -> \"RESCALE\";\n+            case WindowEvent.CLOSE -> \"CLOSE\";\n+            case WindowEvent.DESTROY -> \"DESTROY\";\n+            case WindowEvent.MINIMIZE -> \"MINIMIZE\";\n+            case WindowEvent.MAXIMIZE -> \"MAXIMIZE\";\n+            case WindowEvent.RESTORE -> \"RESTORE\";\n+            case WindowEvent.UNMINIMIZE -> \"UNMINIMIZE\";\n+            case WindowEvent.UNMAXIMIZE -> \"UNMAXIMIZE\";\n+            case WindowEvent.FOCUS_LOST -> \"FOCUS_LOST\";\n+            case WindowEvent.FOCUS_GAINED -> \"FOCUS_GAINED\";\n+            case WindowEvent.FOCUS_GAINED_FORWARD -> \"FOCUS_GAINED_FORWARD\";\n+            case WindowEvent.FOCUS_GAINED_BACKWARD -> \"FOCUS_GAINED_BACKWARD\";\n+            case WindowEvent.FOCUS_DISABLED -> \"FOCUS_DISABLED\";\n+            case WindowEvent.FOCUS_UNGRAB -> \"FOCUS_UNGRAB\";\n+            default -> \"UNKNOWN\";\n+        };\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/events\/WindowEvent.java","additions":26,"deletions":32,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -167,4 +167,4 @@\n-    final static public class State {\n-        @Native public static final int NORMAL = 1;\n-        @Native public static final int MINIMIZED = 2;\n-        @Native public static final int MAXIMIZED = 3;\n+    public static final class State {\n+        @Native public static final int NORMAL     = 1 << 0;\n+        @Native public static final int MINIMIZED  = 1 << 2;\n+        @Native public static final int MAXIMIZED  = 1 << 3;\n@@ -172,1 +172,0 @@\n-\n@@ -1195,0 +1194,5 @@\n+    \/**\n+     * Deprecated: Use the {@link #notifyState(int)} as the Window can have\n+     * multiple states at the same time.\n+     *\/\n+    @Deprecated\n@@ -1200,5 +1204,47 @@\n-     * type values:\n-     *   - WindowEvent.RESIZE\n-     *   - WindowEvent.MINIMIZE\n-     *   - WindowEvent.MAXIMIZE\n-     *   - WindowEvent.RESTORE\n+     * Notifies a window state change\n+     * @param type {@link WindowEvent#MINIMIZE}, {@link WindowEvent#UNMINIMIZE},\n+     *             {@link WindowEvent#MAXIMIZE}, {@link WindowEvent#UNMAXIMIZE}\n+     *\/\n+    protected void notifyState(final int type) {\n+        switch (type) {\n+            case WindowEvent.MAXIMIZE:\n+                this.state |= State.MAXIMIZED;\n+                break;\n+            case WindowEvent.UNMAXIMIZE:\n+                this.state &= ~State.MAXIMIZED;\n+                break;\n+            case WindowEvent.MINIMIZE:\n+                this.state |= State.MINIMIZED;\n+                break;\n+            case WindowEvent.UNMINIMIZE:\n+                this.state &= ~State.MINIMIZED;\n+                break;\n+            default:\n+                break;\n+        }\n+\n+        if ((type & (WindowEvent.MAXIMIZE | WindowEvent.UNMAXIMIZE\n+                | WindowEvent.MINIMIZE | WindowEvent.UNMINIMIZE)) == 0) {\n+            handleWindowEvent(System.nanoTime(), type);\n+        }\n+    }\n+\n+    \/**\n+     * Notifies a window resize event. Note that it should notify only\n+     * when the window is floating on the screen (not when maximized,\n+     * iconified of fullscreen).\n+     * @param width The width of the window\n+     * @param height The height of the window\n+     *\/\n+    protected void notifyResize(int width, int height) {\n+        this.width = width;\n+        this.height = height;\n+        handleWindowEvent(System.nanoTime(), WindowEvent.RESIZE);\n+    }\n+\n+    \/**\n+     * Deprecated: Call specific methods {@link #notifyResize(int, int)} or {@link #notifyState(int)}\n+     * @param type {@link WindowEvent#RESIZE}, {@link WindowEvent#MINIMIZE}, {@link WindowEvent#UNMINIMIZE},\n+     *             {@link WindowEvent#MAXIMIZE}, {@link WindowEvent#UNMAXIMIZE}, {@link WindowEvent#RESTORE}\n+     * @param width the Window width value\n+     * @param height the Window height value\n@@ -1206,0 +1252,1 @@\n+    @Deprecated\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/Window.java","additions":57,"deletions":10,"binary":false,"changes":67,"status":"modified"},{"patch":"@@ -66,0 +66,13 @@\n+            case WindowEvent.UNMINIMIZE:\n+                stage.stageListener.changedIconified(false);\n+                QuantumToolkit.runWithRenderLock(() -> {\n+                    GlassScene scene = stage.getScene();\n+                    if (scene != null) {\n+                        scene.updateSceneState();\n+                    }\n+                    return null;\n+                });\n+                break;\n+            case WindowEvent.UNMAXIMIZE:\n+                stage.stageListener.changedMaximized(false);\n+                break;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/tk\/quantum\/GlassWindowEventHandler.java","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates.\n+ * Copyright (c) 2023, 2026, Oracle and\/or its affiliates.\n@@ -59,0 +59,4 @@\n+    private final static StyleAttributeMap HL = StyleAttributeMap.builder().\n+        setUnderline(true).\n+        setStrikeThrough(true).\n+        build();\n@@ -111,1 +115,2 @@\n-        m.addSegment(\"✓ Space Above\");\n+        m.addSegment(\"✓ Space \");\n+        m.addSegment(\"Above\", HL);\n@@ -119,1 +124,2 @@\n-        m.addSegment(\"✓ Space Below\");\n+        m.addSegment(\"✓ Space \");\n+        m.addSegment(\"Below\", HL);\n@@ -127,1 +133,3 @@\n-        m.addSegment(\"✓ Space Left \" + words(50));\n+        m.addSegment(\"✓ Space \");\n+        m.addSegment(\"Left\", HL);\n+        m.addSegment(\" \" + words(50));\n@@ -135,1 +143,3 @@\n-        m.addSegment(\"✓ Space Right \" + words(10));\n+        m.addSegment(\"✓ Space \");\n+        m.addSegment(\"Right\", HL);\n+        m.addSegment(\" \" + words(10));\n","filename":"apps\/samples\/RichTextAreaDemo\/src\/com\/oracle\/demo\/richtext\/rta\/ParagraphAttributesDemoModel.java","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -140,3 +140,2 @@\n-                    double x = cellX - f.snappedLeftInset();\n-                    Point2D p = new Point2D(x - r.getLayoutX(), y - r.getLayoutY());\n-                    HitInfo h = f.hitTest(p);\n+                    Point2D p = new Point2D(cellX - r.getLayoutX(), y - r.getLayoutY());\n+                    HitInfo h = f.getHitInfo(p);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/com\/sun\/jfx\/incubator\/scene\/control\/richtext\/CellArrangement.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-            return f.rangeShape(start, end);\n+            return f.getRangeShape(start, end, true);\n@@ -69,1 +69,1 @@\n-            PathElement[] pe = f.underlineShape(start, end);\n+            PathElement[] pe = f.getUnderlineShape(start, end);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/com\/sun\/jfx\/incubator\/scene\/control\/richtext\/HighlightShape.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -196,2 +196,0 @@\n-        double dx;\n-        double dy;\n@@ -199,5 +197,1 @@\n-            dx = f.snappedLeftInset(); \/\/ TODO RTL?\n-            dy = f.snappedTopInset();\n-\n-            p = f.caretShape(charIndex, leading);\n-\n+            p = f.getCaretShape(charIndex, leading);\n@@ -218,2 +212,0 @@\n-            dx = 0.0;\n-            dy = 0.0;\n@@ -225,1 +217,1 @@\n-        return RichUtils.translatePath(target, content, p, dx, dy);\n+        return RichUtils.translatePath(target, content, p);\n@@ -239,2 +231,0 @@\n-        double dx;\n-        double dy;\n@@ -242,3 +232,0 @@\n-            dx = f.snappedLeftInset(); \/\/ TODO RTL?\n-            dy = f.snappedTopInset();\n-\n@@ -247,2 +234,0 @@\n-            dx = 0.0;\n-            dy = 0.0;\n@@ -257,1 +242,1 @@\n-        return RichUtils.translatePath(target, content, p, dx, dy);\n+        return RichUtils.translatePath(target, content, p);\n@@ -271,2 +256,0 @@\n-        double dx;\n-        double dy;\n@@ -274,6 +257,2 @@\n-            dx = f.snappedLeftInset(); \/\/ TODO RTL?\n-            dy = f.snappedTopInset();\n-\n-            p = f.rangeShape(start, end); \/\/ TODO new api, no null\n-\n-            if ((p == null) || (p.length == 0)) {\n+            p = f.getRangeShape(start, end, true);\n+            if (p.length == 0) {\n@@ -286,2 +265,0 @@\n-            dx = 0.0;\n-            dy = 0.0;\n@@ -299,1 +276,1 @@\n-        return RichUtils.translatePath(target, content, p, dx, dy);\n+        return RichUtils.translatePath(target, content, p);\n@@ -413,1 +390,1 @@\n-            PathElement[] pe = f.rangeShape(0, len); \/\/ TODO new api\n+            PathElement[] pe = f.getRangeShape(0, len, true);\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/com\/sun\/jfx\/incubator\/scene\/control\/richtext\/TextCell.java","additions":7,"deletions":30,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -183,6 +183,10 @@\n-    \/\/ TODO javadoc\n-    \/\/ translates path elements from src frame of reference to target, with additional shift by dx, dy\n-    \/\/ only MoveTo, LineTo are supported\n-    \/\/ may return null\n-    public static PathElement[] translatePath(Region tgt, Region src, PathElement[] elements, double deltax, double deltay) {\n-        \/\/System.out.println(\"translatePath from=\" + dump(elements) + \" dx=\" + deltax + \" dy=\" + deltay); \/\/ FIX\n+    \/**\n+     * Translates path (which must contain only LineTo and MoveTo elements) from src frame of reference\n+     * to the target frame of reference.\n+     * @param tgt the target Region\n+     * @param src the source Region\n+     * @param elements the path elements\n+     * @return translated path array, or null\n+     * @throws RuntimeException if path elements contain something other than LineTo or MoveTo\n+     *\/\n+    public static PathElement[] translatePath(Region tgt, Region src, PathElement[] elements) {\n@@ -195,3 +199,2 @@\n-        double dx = ps.getX() - pt.getX() + deltax;\n-        double dy = ps.getY() - pt.getY() + deltay;\n-        \/\/System.out.println(\"dx=\" + dx + \" dy=\" + dy); \/\/ FIX\n+        double dx = ps.getX() - pt.getX();\n+        double dy = ps.getY() - pt.getY();\n@@ -211,1 +214,0 @@\n-        \/\/System.out.println(\"translatePath to=\" + dump(elements)); \/\/ FIX\n","filename":"modules\/jfx.incubator.richtext\/src\/main\/java\/com\/sun\/jfx\/incubator\/scene\/control\/richtext\/util\/RichUtils.java","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"}]}
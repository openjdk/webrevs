{"files":[{"patch":"@@ -771,0 +771,3 @@\n+\n+            def status = compareJdkVersion(jdkVersion, \"24\")\n+            ext.jdk24OrLater = (status >= 0)\n@@ -778,0 +781,7 @@\n+\/\/ Use --upgrade-module-path instead of --module-path when compiling and\n+\/\/ running tests if we are using a JDK that includes an upgradable\n+\/\/ jdk.jsobject module.  Currently, this is JDK 24 or later. Once\n+\/\/ jdk.jsobject is removed from the JDK, we can stop doing it. For example,\n+\/\/ if jdk.jsobject is removed from the JDK in JDK 26, the logic will then be\n+\/\/ changed to: \"jdk24OrLater && !jdk26OrLater\"\n+ext.USE_UPGRADE_MODULE_PATH = jdk24OrLater\n@@ -999,2 +1009,3 @@\n-\/\/ Return list with the arguments needed for --patch-module or --module-path\n-\/\/ for the provided projects. Used with Java executables ie. tests\n+\/\/ Return list with the arguments needed for --patch-module, --module-path,\n+\/\/ or --upgrade-module-path for the provided projects.\n+\/\/ Used with Java executables ie. tests\n@@ -1045,1 +1056,1 @@\n-        pma += '--module-path'\n+        pma += (test && USE_UPGRADE_MODULE_PATH) ? '--upgrade-module-path' : '--module-path'\n@@ -1074,1 +1085,1 @@\n-    List<String> mpa = HAS_JAVAFX_MODULES ? [ '--upgrade-module-path' ] : [ '--module-path' ]\n+    List<String> mpa = (HAS_JAVAFX_MODULES || (test && USE_UPGRADE_MODULE_PATH)) ? [ '--upgrade-module-path' ] : [ '--module-path' ]\n@@ -1158,0 +1169,2 @@\n+        def modulePathArgName = USE_UPGRADE_MODULE_PATH ? '--upgrade-module-path' : '--module-path'\n+\n@@ -1159,1 +1172,1 @@\n-            dest <<  \"--module-path=\\\"\"\n+            dest <<  \"${modulePathArgName}=\\\"\"\n@@ -1163,1 +1176,1 @@\n-            dest <<  \"--module-path=\\\"\\\\\\n\"\n+            dest <<  \"${modulePathArgName}=\\\"\\\\\\n\"\n@@ -4117,1 +4130,1 @@\n-        \/\/ Parse testPatchModuleArgs looking for \"--module-path\".\n+        \/\/ Parse testPatchModuleArgs looking for \"*module-path\".\n@@ -4124,1 +4137,1 @@\n-            } else if (str == \"--module-path\") {\n+            } else if (str.endsWith(\"module-path\")) {\n@@ -4199,2 +4212,4 @@\n-        if (project.hasProperty('skipJavaCompilerOptionRelease') &&\n-                project.ext.skipJavaCompilerOptionRelease) {\n+        def isCompileTestTask = compile.name.startsWith(\"compileTest\")\n+        if (!isCompileTestTask) {\n+            if (project.hasProperty('skipJavaCompilerOptionRelease') &&\n+                    project.ext.skipJavaCompilerOptionRelease) {\n@@ -4202,3 +4217,4 @@\n-            logger.info \"Using 'javac -source\/-target' for ${compile}\"\n-        } else {\n-            compile.options.release = JAVA_TARGET_VERSION\n+                logger.info \"Using 'javac -source\/-target' for ${compile}\"\n+            } else {\n+                compile.options.release = JAVA_TARGET_VERSION\n+            }\n","filename":"build.gradle","additions":29,"deletions":13,"binary":false,"changes":42,"status":"modified"}]}
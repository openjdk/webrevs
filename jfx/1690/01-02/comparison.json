{"files":[{"patch":"@@ -27,0 +27,1 @@\n+import static org.junit.Assume.assumeFalse;\n@@ -158,0 +159,3 @@\n+    \/\/ for debugging purposes: setting this to false will skip working tests\n+    \/\/ TODO remove once all the tests pass\n+    private static final boolean SKIP_TEST = false;\n@@ -161,0 +165,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -165,0 +170,1 @@\n+            c.getPanes().add(new TitledPane(\"Accordion\", new BorderPane()));\n@@ -166,1 +172,5 @@\n-        }, this::accessControl);\n+        }, (c) -> {\n+            accessControl(c);\n+            TitledPane t = (TitledPane)c.getPanes().get(0);\n+            t.setExpanded(nextBoolean());\n+        });\n@@ -225,0 +235,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -266,0 +277,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -283,0 +295,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -355,0 +368,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -400,0 +414,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -452,0 +467,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -464,0 +480,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -532,0 +549,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -551,0 +569,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -573,0 +592,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -586,0 +606,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -626,0 +647,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -662,0 +684,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -681,0 +704,1 @@\n+        assumeFalse(SKIP_TEST);\n@@ -747,1 +771,1 @@\n-        CountDownLatch counter = new CountDownLatch(threadCount);\n+        CountDownLatch counter = new CountDownLatch(threadCount + 1);\n@@ -750,0 +774,12 @@\n+            \/\/ construct nodes in a fast loop\n+            new Thread(() -> {\n+                try {\n+                    while (running.get()) {\n+                        T n = generator.get();\n+                    }\n+                } finally {\n+                    counter.countDown();\n+                }\n+            }, \"fast loop \" + title).start();\n+\n+            \/\/ stress test from multiple background threads\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/NodeInitializationBackgroundThreadTest.java","additions":38,"deletions":2,"binary":false,"changes":40,"status":"modified"}]}
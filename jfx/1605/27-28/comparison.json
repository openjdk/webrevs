{"files":[{"patch":"@@ -166,0 +166,2 @@\n+    private native void _performTitleBarDoubleClickAction(long ptr);\n+\n@@ -176,1 +178,1 @@\n-                        maximize(!isMaximized());\n+                        _performTitleBarDoubleClickAction(getRawHandle());\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/mac\/MacWindow.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1148,3 +1148,1 @@\n-    if (lastEvent != nil) {\n-        [[nsView window] performWindowDragWithEvent:lastEvent];\n-    }\n+    [[nsView window] performWindowDragWithEvent:[NSApp currentEvent]];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewDelegate.m","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -207,0 +207,4 @@\n+\n+    if (nsWindow.toolbar != nil) {\n+        nsWindow.toolbar.visible = NO;\n+    }\n@@ -225,0 +229,4 @@\n+    if (nsWindow.toolbar != nil) {\n+        nsWindow.toolbar.visible = YES;\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassWindow+Overrides.m","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1505,0 +1505,27 @@\n+\/*\n+ * Class:     com_sun_glass_ui_mac_MacWindow\n+ * Method:    _performTitleBarDoubleClickAction\n+ * Signature: (J)V\n+ *\/\n+JNIEXPORT void JNICALL Java_com_sun_glass_ui_mac_MacWindow__1performTitleBarDoubleClickAction\n+(JNIEnv *env, jobject jWindow, jlong jPtr)\n+{\n+    LOG(\"Java_com_sun_glass_ui_mac_MacWindow__1performTitleBarDoubleClickAction\");\n+    if (!jPtr) return;\n+\n+    GLASS_ASSERT_MAIN_JAVA_THREAD(env);\n+    GLASS_POOL_ENTER;\n+    {\n+        GlassWindow *window = getGlassWindow(env, jPtr);\n+        NSString* action = [NSUserDefaults.standardUserDefaults stringForKey:@\"AppleActionOnDoubleClick\"];\n+\n+        if ([action isEqualToString:@\"Minimize\"]) {\n+            [window->nsWindow performMiniaturize:nil];\n+        } else if ([action isEqualToString:@\"Maximize\"]) {\n+            [window->nsWindow performZoom:nil];\n+        }\n+    }\n+    GLASS_POOL_EXIT;\n+    GLASS_CHECK_EXCEPTION(env);\n+}\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassWindow.m","additions":27,"deletions":0,"binary":false,"changes":27,"status":"modified"}]}
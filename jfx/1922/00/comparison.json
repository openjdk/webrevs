{"files":[{"patch":"@@ -188,1 +188,0 @@\n-        bool on_key_event;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.h","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-        if (pangoAttr = pango_attr_iterator_get(iter, PANGO_ATTR_BACKGROUND)) {\n+        if ((pangoAttr = pango_attr_iterator_get(iter, PANGO_ATTR_BACKGROUND)) != NULL) {\n@@ -61,1 +61,1 @@\n-        } else if ((pangoAttr = pango_attr_iterator_get(iter, PANGO_ATTR_UNDERLINE))\n+        } else if ((pangoAttr = pango_attr_iterator_get(iter, PANGO_ATTR_UNDERLINE)) != NULL\n@@ -79,0 +79,2 @@\n+\n+    mainEnv->DeleteLocalRef(jstr);\n@@ -101,15 +103,13 @@\n-    if (im_ctx.on_preedit || !im_ctx.on_key_event) {\n-        jstring jstr = mainEnv->NewStringUTF(str);\n-        EXCEPTION_OCCURED(mainEnv);\n-        jsize slen = mainEnv->GetStringLength(jstr);\n-\n-        mainEnv->CallVoidMethod(jview,\n-                jViewNotifyInputMethodLinux,\n-                jstr,\n-                slen,\n-                slen,\n-                0);\n-        LOG_EXCEPTION(mainEnv)\n-    } else {\n-        im_ctx.send_keypress = true;\n-    }\n+    jstring jstr = mainEnv->NewStringUTF(str);\n+    EXCEPTION_OCCURED(mainEnv);\n+    jsize slen = mainEnv->GetStringLength(jstr);\n+\n+    mainEnv->CallVoidMethod(jview,\n+            jViewNotifyInputMethodLinux,\n+            jstr,\n+            slen,\n+            slen,\n+            0);\n+    LOG_EXCEPTION(mainEnv)\n+\n+    mainEnv->DeleteLocalRef(jstr);\n@@ -127,1 +127,0 @@\n-    im_ctx.on_key_event = true;\n@@ -135,1 +134,0 @@\n-    im_ctx.on_key_event = false;\n@@ -162,0 +160,2 @@\n+\n+    mainEnv->DeleteLocalRef(pos);\n@@ -173,0 +173,1 @@\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window_ime.cpp","additions":20,"deletions":19,"binary":false,"changes":39,"status":"modified"}]}
{"files":[{"patch":"@@ -34,1 +34,1 @@\n-import javafx.beans.property.ReadOnlyBooleanWrapper;\n+import javafx.beans.property.ReadOnlyBooleanPropertyBase;\n@@ -38,0 +38,1 @@\n+import javafx.beans.property.ReadOnlyProperty;\n@@ -63,4 +64,4 @@\n-    private final ReadOnlyBooleanWrapper reducedMotionFlag;\n-    private final ReadOnlyBooleanWrapper reducedTransparencyFlag;\n-    private final ReadOnlyBooleanWrapper reducedDataFlag;\n-    private final ReadOnlyBooleanWrapper persistentScrollBarsFlag;\n+    private final ReadOnlyBooleanWrapperImpl reducedMotionFlag = new ReadOnlyBooleanWrapperImpl(reducedMotion);\n+    private final ReadOnlyBooleanWrapperImpl reducedTransparencyFlag = new ReadOnlyBooleanWrapperImpl(reducedTransparency);\n+    private final ReadOnlyBooleanWrapperImpl reducedDataFlag = new ReadOnlyBooleanWrapperImpl(reducedData);\n+    private final ReadOnlyBooleanWrapperImpl persistentScrollBarsFlag = new ReadOnlyBooleanWrapperImpl(persistentScrollBars);\n@@ -72,12 +73,0 @@\n-\n-        reducedMotionFlag = new ReadOnlyBooleanWrapper(bean, reducedMotion.getName());\n-        reducedMotionFlag.bind(reducedMotion);\n-\n-        reducedTransparencyFlag = new ReadOnlyBooleanWrapper(bean, reducedTransparency.getName());\n-        reducedTransparencyFlag.bind(reducedTransparency);\n-\n-        reducedDataFlag = new ReadOnlyBooleanWrapper(bean, reducedData.getName());\n-        reducedDataFlag.bind(reducedData);\n-\n-        persistentScrollBarsFlag = new ReadOnlyBooleanWrapper(bean, persistentScrollBars.getName());\n-        persistentScrollBarsFlag.bind(persistentScrollBars);\n@@ -87,1 +76,1 @@\n-        return reducedMotionFlag.getReadOnlyProperty();\n+        return reducedMotionFlag;\n@@ -99,1 +88,1 @@\n-        return reducedTransparencyFlag.getReadOnlyProperty();\n+        return reducedTransparencyFlag;\n@@ -111,1 +100,1 @@\n-        return reducedDataFlag.getReadOnlyProperty();\n+        return reducedDataFlag;\n@@ -123,1 +112,1 @@\n-        return persistentScrollBarsFlag.getReadOnlyProperty();\n+        return persistentScrollBarsFlag;\n@@ -282,1 +271,1 @@\n-    private class ColorSchemeProperty extends ReadOnlyObjectWrapper<ColorScheme> {\n+    private final class ColorSchemeProperty extends ReadOnlyObjectWrapper<ColorScheme> {\n@@ -329,0 +318,24 @@\n+\n+    private static final class ReadOnlyBooleanWrapperImpl extends ReadOnlyBooleanPropertyBase {\n+        private final ReadOnlyProperty<Boolean> observable;\n+\n+        ReadOnlyBooleanWrapperImpl(ReadOnlyProperty<Boolean> observable) {\n+            this.observable = observable;\n+            observable.addListener((_, _, _) -> fireValueChangedEvent());\n+        }\n+\n+        @Override\n+        public Object getBean() {\n+            return observable.getBean();\n+        }\n+\n+        @Override\n+        public String getName() {\n+            return observable.getName();\n+        }\n+\n+        @Override\n+        public boolean get() {\n+            return observable.getValue();\n+        }\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/application\/preferences\/PreferenceProperties.java","additions":35,"deletions":22,"binary":false,"changes":57,"status":"modified"}]}
{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import com.sun.javafx.scene.SceneHelper;\n@@ -292,1 +293,5 @@\n-            return scene != null && mediaRule.evaluate(scene.getPreferences());\n+            if (scene == null) {\n+                return false;\n+            }\n+\n+            return mediaRule.evaluate(SceneHelper.getMediaQueryContext(scene));\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/SimpleSelector.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+import com.sun.javafx.scene.ScenePreferences;\n@@ -29,1 +30,0 @@\n-import javafx.scene.Scene;\n@@ -35,1 +35,1 @@\n-public sealed interface MediaQueryContext permits Scene.Preferences {\n+public sealed interface MediaQueryContext permits ScenePreferences {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/css\/media\/MediaQueryContext.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import com.sun.javafx.css.media.MediaQueryContext;\n@@ -113,0 +114,4 @@\n+    public static MediaQueryContext getMediaQueryContext(Scene scene) {\n+        return sceneAccessor.getMediaQueryContext(scene);\n+    }\n+\n@@ -158,0 +163,2 @@\n+\n+        MediaQueryContext getMediaQueryContext(Scene scene);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/SceneHelper.java","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import com.sun.javafx.css.media.MediaQueryContext;\n@@ -36,1 +37,1 @@\n-public final class ScenePreferences implements Scene.Preferences {\n+public final class ScenePreferences implements Scene.Preferences, MediaQueryContext {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/ScenePreferences.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -506,0 +506,5 @@\n+\n+                        @Override\n+                        public MediaQueryContext getMediaQueryContext(Scene scene) {\n+                            return scene.preferences;\n+                        }\n@@ -6255,1 +6260,1 @@\n-    private final Preferences preferences = new ScenePreferences(this);\n+    private final ScenePreferences preferences = new ScenePreferences(this);\n@@ -6536,1 +6541,1 @@\n-    public sealed interface Preferences extends MediaQueryContext permits ScenePreferences {\n+    public sealed interface Preferences permits ScenePreferences {\n@@ -6559,1 +6564,0 @@\n-        @Override\n@@ -6594,1 +6598,0 @@\n-        @Override\n@@ -6636,1 +6639,0 @@\n-        @Override\n@@ -6678,1 +6680,0 @@\n-        @Override\n@@ -6720,1 +6721,0 @@\n-        @Override\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/Scene.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
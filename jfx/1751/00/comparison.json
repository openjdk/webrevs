{"files":[{"patch":"@@ -722,0 +722,2 @@\n+ext.TEST_SDK_DIR = \"\"\n+\n@@ -726,7 +728,16 @@\n-    def sdkShimsPath = file(\"${TEST_SDK_PATH}\")\n-    def sdkPath = file(\"${TEST_SDK_PATH}\/sdk\")\n-    def shimsPath = file(\"${TEST_SDK_PATH}\/shims\")\n-    if (!sdkShimsPath.exists() || !sdkShimsPath.isDirectory() ||\n-             !sdkPath.exists() || !sdkPath.isDirectory() ||\n-           !shimsPath.exists() || !shimsPath.isDirectory()) {\n-        fail(\"The provided TEST_SDK_PATH=${TEST_SDK_PATH} is invalid\")\n+    String testSdkPath = \"${TEST_SDK_PATH}\"\n+    if (testSdkPath.startsWith(\"~\")) {\n+        testSdkPath = testSdkPath.replaceFirst(\"~\", System.getProperty(\"user.home\"))\n+    } else if (testSdkPath.startsWith(\".\")) {\n+        testSdkPath = file(testSdkPath).absolutePath\n+    }\n+    ext.TEST_SDK_DIR = testSdkPath\n+    def sdkShimsPath = file(\"${TEST_SDK_DIR}\")\n+    def sdkPath = file(\"${TEST_SDK_DIR}\/sdk\")\n+    def shimsPath = file(\"${TEST_SDK_DIR}\/shims\")\n+    if (!sdkShimsPath.exists() || !sdkShimsPath.isDirectory()) {\n+        fail(\"The provided TEST_SDK_DIR=${TEST_SDK_DIR} directory does not exist\")\n+    }\n+    if (!sdkPath.exists() || !sdkPath.isDirectory() ||\n+        !shimsPath.exists() || !shimsPath.isDirectory()) {\n+        fail(\"The provided TEST_SDK_DIR=${TEST_SDK_DIR} is invalid\")\n@@ -736,1 +747,1 @@\n-    defineProperty(\"TEST_SDK_PATH\", \"${rootProject.buildDir}\")\n+    ext.TEST_SDK_DIR = \"${rootProject.buildDir}\"\n@@ -738,0 +749,1 @@\n+println \"TEST_SDK_PATH: \" + TEST_SDK_DIR\n@@ -995,1 +1007,1 @@\n-        def standaloneSdkDir = \"${TEST_SDK_PATH}\/${standaloneSdkDirName}\"\n+        def standaloneSdkDir = \"${TEST_SDK_DIR}\/${standaloneSdkDirName}\"\n@@ -1033,1 +1045,1 @@\n-                    dir = file(\"${TEST_SDK_PATH}\/shims\/${moduleName}\")\n+                    dir = file(\"${TEST_SDK_DIR}\/shims\/${moduleName}\")\n@@ -1035,1 +1047,1 @@\n-                    dir = file(\"${TEST_SDK_PATH}\/sdk\/lib\/${moduleName}.jar\")\n+                    dir = file(\"${TEST_SDK_DIR}\/sdk\/lib\/${moduleName}.jar\")\n@@ -2689,1 +2701,1 @@\n-        def cssDir = file(\"${TEST_SDK_PATH}\/shims\/${moduleName}\/javafx\")\n+        def cssDir = file(\"${TEST_SDK_DIR}\/shims\/${moduleName}\/javafx\")\n@@ -2782,1 +2794,1 @@\n-        def cssDir = file(\"${TEST_SDK_PATH}\/shims\/${moduleName}\/javafx\")\n+        def cssDir = file(\"${TEST_SDK_DIR}\/shims\/${moduleName}\/javafx\")\n@@ -5277,1 +5289,1 @@\n-    def standaloneSdkDir = \"${TEST_SDK_PATH}\/${standaloneSdkDirName}\"\n+    def standaloneSdkDir = \"${TEST_SDK_DIR}\/${standaloneSdkDirName}\"\n@@ -5956,1 +5968,1 @@\n-                           dir = new File(TEST_SDK_PATH, \"shims\/${project.ext.moduleName}\")\n+                           dir = new File(TEST_SDK_DIR, \"shims\/${project.ext.moduleName}\")\n@@ -5958,1 +5970,1 @@\n-                           dir = new File(TEST_SDK_PATH, \"sdk\/lib\/${project.ext.moduleName}.jar\")\n+                           dir = new File(TEST_SDK_DIR, \"sdk\/lib\/${project.ext.moduleName}.jar\")\n","filename":"build.gradle","additions":28,"deletions":16,"binary":false,"changes":44,"status":"modified"}]}
{"files":[{"patch":"@@ -26,3 +26,0 @@\n-#import <Cocoa\/Cocoa.h>\n-#import \"common.h\"\n-\n@@ -52,1 +49,1 @@\n-            andIsSwPipe:(BOOL)isSwPipe;\n+          andIsSwPipe:(BOOL)isSwPipe;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassCGLOffscreen.h","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -27,8 +27,0 @@\n-\/\/#import \"GlassPBuffer.h\"\n-\n-\/\/#define VERBOSE\n-#ifndef VERBOSE\n-    #define LOG(MSG, ...)\n-#else\n-    #define LOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n@@ -41,1 +33,1 @@\n-            andIsSwPipe:(BOOL)isSwPipe;\n+          andIsSwPipe:(BOOL)isSwPipe\n@@ -56,1 +48,1 @@\n-                \/\/self->_fbo = [[GlassPBuffer alloc] init];\n+                \/\/ self->_fbo = [[GlassPBuffer alloc] init];\n@@ -70,1 +62,1 @@\n-- (CGLContextObj)getContext;\n+- (CGLContextObj)getContext\n@@ -80,4 +72,2 @@\n-            andHeight:(GLuint)[self->glassView bounds].size.height];\n-        {\n-            glDeleteTextures(1, &self->_texture);\n-        }\n+                 andHeight:(GLuint)[self->glassView bounds].size.height];\n+        glDeleteTextures(1, &self->_texture);\n@@ -87,4 +77,2 @@\n-    {\n-        [(NSObject*)self->_fbo release];\n-        self->_fbo = NULL;\n-    }\n+    [(NSObject*)self->_fbo release];\n+    self->_fbo = NULL;\n@@ -127,1 +115,2 @@\n-- (void)bindForWidth:(GLuint)width andHeight:(GLuint)height\n+- (void)bindForWidth:(GLuint)width\n+           andHeight:(GLuint)height\n@@ -152,3 +141,3 @@\n-                                                           withObject:nil\n-                                                        waitUntilDone:NO\n-                                                                modes:allModes];\n+                                                                            withObject:nil\n+                                                                         waitUntilDone:NO\n+                                                                                 modes:allModes];\n@@ -161,4 +150,4 @@\n-         withHeight:(unsigned int)height\n-         withScaleX:(float)scalex\n-         withScaleY:(float)scaley\n-         ofView:(NSView*)view\n+        withHeight:(unsigned int)height\n+        withScaleX:(float)scalex\n+        withScaleY:(float)scaley\n+            ofView:(NSView*)view\n@@ -187,1 +176,2 @@\n-        glTexImage2D(GL_TEXTURE_RECTANGLE_EXT, 0, GL_RGBA8, (GLsizei)self->_textureWidth, (GLsizei)self->_textureHeight, 0, GL_BGRA, GL_UNSIGNED_INT_8_8_8_8_REV, pixels);\n+        glTexImage2D(GL_TEXTURE_RECTANGLE_EXT, 0, GL_RGBA8, (GLsizei)self->_textureWidth, (GLsizei)self->_textureHeight,\n+                        0, GL_BGRA, GL_UNSIGNED_INT_8_8_8_8_REV, pixels);\n@@ -195,1 +185,2 @@\n-            glTexSubImage2D(GL_TEXTURE_RECTANGLE_EXT, 0, 0, 0, (GLsizei)self->_textureWidth, (GLsizei)self->_textureHeight, GL_BGRA, GL_UNSIGNED_INT_8_8_8_8_REV, pixels);\n+            glTexSubImage2D(GL_TEXTURE_RECTANGLE_EXT, 0, 0, 0, (GLsizei)self->_textureWidth, (GLsizei)self->_textureHeight,\n+                                GL_BGRA, GL_UNSIGNED_INT_8_8_8_8_REV, pixels);\n@@ -253,1 +244,2 @@\n-- (void)blitForWidth:(GLuint)width andHeight:(GLuint)height\n+- (void)blitForWidth:(GLuint)width\n+           andHeight:(GLuint)height\n@@ -282,1 +274,2 @@\n-        [self->_fbo blitForWidth:width andHeight:height];\n+        [self->_fbo blitForWidth:width\n+                       andHeight:height];\n@@ -295,1 +288,2 @@\n-    [self blitForWidth:[self->_fbo width] andHeight:[self->_fbo height]];\n+    [self blitForWidth:[self->_fbo width]\n+             andHeight:[self->_fbo height]];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassCGLOffscreen.m","additions":26,"deletions":32,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -42,1 +42,2 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height;\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height;\n@@ -46,4 +47,4 @@\n-         withHeight:(unsigned int)height\n-         withScaleX:(float)scalex\n-         withScaleY:(float)scaley\n-         ofView:(NSView*)view;\n+        withHeight:(unsigned int)height\n+        withScaleX:(float)scalex\n+        withScaleY:(float)scaley\n+            ofView:(NSView*)view;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassLayer.h","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -54,3 +54,2 @@\n-            GlassLayerMTL* mtlLayer = [[GlassLayerMTL alloc]\n-                init:mtlCommandQueuePtr\n-                withIsSwPipe:isSwPipe];\n+            GlassLayerMTL* mtlLayer = [[GlassLayerMTL alloc] init:mtlCommandQueuePtr\n+                                                     withIsSwPipe:isSwPipe];\n@@ -61,5 +60,4 @@\n-            GlassLayerCGL* cglLayer = [[GlassLayerCGL alloc]\n-                initWithSharedContext:(CGLContextObj)ctx\n-                     andClientContext:(CGLContextObj)clCtx\n-                       withHiDPIAware:HiDPIAware\n-                         withIsSwPipe:isSwPipe];\n+            GlassLayerCGL* cglLayer = [[GlassLayerCGL alloc] initWithSharedContext:(CGLContextObj)ctx\n+                                                                  andClientContext:(CGLContextObj)clCtx\n+                                                                    withHiDPIAware:HiDPIAware\n+                                                                      withIsSwPipe:isSwPipe];\n@@ -73,1 +71,1 @@\n-        [self setAutoresizingMask:(kCALayerWidthSizable|kCALayerHeightSizable)];\n+        [self setAutoresizingMask:(kCALayerWidthSizable | kCALayerHeightSizable)];\n@@ -117,1 +115,2 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n@@ -119,1 +118,2 @@\n-    [self->painterOffScreen bindForWidth:width andHeight:height];\n+    [self->painterOffScreen bindForWidth:width\n+                               andHeight:height];\n@@ -129,4 +129,4 @@\n-         withHeight:(unsigned int)height\n-         withScaleX:(float)scalex\n-         withScaleY:(float)scaley\n-         ofView:(NSView*)view\n+        withHeight:(unsigned int)height\n+        withScaleX:(float)scalex\n+        withScaleY:(float)scaley\n+            ofView:(NSView*)view\n@@ -134,3 +134,6 @@\n-    [self->painterOffScreen pushPixels:pixels withWidth:width\n-        withHeight:height withScaleX:scalex withScaleY:scaley\n-        ofView:view];\n+    [self->painterOffScreen pushPixels:pixels\n+                             withWidth:width\n+                            withHeight:height\n+                            withScaleX:scalex\n+                            withScaleY:scaley\n+                                ofView:view];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassLayer.m","additions":21,"deletions":18,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-             withIsSwPipe:(BOOL)isSwPipe;\n+               withIsSwPipe:(BOOL)isSwPipe;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassLayerCGL.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-#import \"GlassScreen.h\"\n@@ -43,1 +42,1 @@\n-             withIsSwPipe:(BOOL)isSwPipe\n+               withIsSwPipe:(BOOL)isSwPipe\n@@ -49,2 +48,4 @@\n-        self->_painterOffscreen = (GlassOffscreen*)[[GlassCGLOffscreen alloc] initWithContext:clCtx andIsSwPipe:isSwPipe];\n-        self->_glassOffscreen = (GlassOffscreen*)[[GlassCGLOffscreen alloc] initWithContext:ctx andIsSwPipe:isSwPipe];\n+        self->_painterOffscreen = (GlassOffscreen*)[[GlassCGLOffscreen alloc] initWithContext:clCtx\n+                                                                                  andIsSwPipe:isSwPipe];\n+        self->_glassOffscreen = (GlassOffscreen*)[[GlassCGLOffscreen alloc] initWithContext:ctx\n+                                                                                andIsSwPipe:isSwPipe];\n@@ -57,1 +58,1 @@\n-        [self setAutoresizingMask:(kCALayerWidthSizable|kCALayerHeightSizable)];\n+        [self setAutoresizingMask:(kCALayerWidthSizable | kCALayerHeightSizable)];\n@@ -80,1 +81,4 @@\n-- (BOOL)canDrawInCGLContext:(CGLContextObj)glContext pixelFormat:(CGLPixelFormatObj)pixelFormat forLayerTime:(CFTimeInterval)timeInterval displayTime:(const CVTimeStamp *)timeStamp\n+- (BOOL)canDrawInCGLContext:(CGLContextObj)glContext\n+                pixelFormat:(CGLPixelFormatObj)pixelFormat\n+               forLayerTime:(CFTimeInterval)timeInterval\n+                displayTime:(const CVTimeStamp *)timeStamp\n@@ -95,1 +99,4 @@\n-- (void)drawInCGLContext:(CGLContextObj)glContext pixelFormat:(CGLPixelFormatObj)pixelFormat forLayerTime:(CFTimeInterval)timeInterval displayTime:(const CVTimeStamp *)timeStamp\n+- (void)drawInCGLContext:(CGLContextObj)glContext\n+             pixelFormat:(CGLPixelFormatObj)pixelFormat\n+            forLayerTime:(CFTimeInterval)timeInterval\n+             displayTime:(const CVTimeStamp *)timeStamp\n@@ -124,1 +131,4 @@\n-    [super drawInCGLContext:glContext pixelFormat:pixelFormat forLayerTime:timeInterval displayTime:timeStamp];\n+    [super drawInCGLContext:glContext\n+                pixelFormat:pixelFormat\n+               forLayerTime:timeInterval\n+                displayTime:timeStamp];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassLayerCGL.m","additions":18,"deletions":8,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -31,7 +31,0 @@\n-\/\/#define VERBOSE\n-#ifndef VERBOSE\n-    #define LOG(MSG, ...)\n-#else\n-    #define LOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n@@ -46,1 +39,1 @@\n-    [self setAutoresizingMask:(kCALayerWidthSizable|kCALayerHeightSizable)];\n+    [self setAutoresizingMask:(kCALayerWidthSizable | kCALayerHeightSizable)];\n@@ -65,1 +58,3 @@\n-    self->_painterOffscreen = (GlassOffscreen*)[[GlassMTLOffscreen alloc] initWithContext:self.device commandQueue:self->_blitCommandQueue andIsSwPipe:isSwPipe];\n+    self->_painterOffscreen = (GlassOffscreen*)[[GlassMTLOffscreen alloc] initWithContext:self.device\n+                                                                             commandQueue:self->_blitCommandQueue\n+                                                                              andIsSwPipe:isSwPipe];\n@@ -107,1 +102,1 @@\n-        \/\/NSLog(@\"Layer --------- backing texture not ready yet--- skipping blit.\");\n+        \/\/ NSLog(@\"Layer --------- backing texture not ready yet--- skipping blit.\");\n@@ -112,1 +107,1 @@\n-        \/\/NSLog(@\"Layer --------- previous drawing in progress.. skipping blit to screen.\");\n+        \/\/ NSLog(@\"Layer --------- previous drawing in progress.. skipping blit to screen.\");\n@@ -130,1 +125,1 @@\n-        MTLRegion region = {{0,0,0}, {width, height, 1}};\n+        MTLRegion region = {{0, 0, 0}, {width, height, 1}};\n@@ -135,6 +130,9 @@\n-        [blitEncoder\n-                copyFromTexture:backBufferTex sourceSlice:0 sourceLevel:0\n-                sourceOrigin:MTLOriginMake(0, 0, 0)\n-                sourceSize:MTLSizeMake(width, height, 1)\n-                toTexture:mtlDrawable.texture destinationSlice:0 destinationLevel:0 destinationOrigin:MTLOriginMake(0, 0, 0)];\n-        [blitEncoder endEncoding];\n+        [blitEncoder copyFromTexture:backBufferTex\n+                         sourceSlice:0\n+                         sourceLevel:0\n+                        sourceOrigin:MTLOriginMake(0, 0, 0)\n+                          sourceSize:MTLSizeMake(width, height, 1)\n+                           toTexture:mtlDrawable.texture\n+                    destinationSlice:0\n+                    destinationLevel:0\n+                   destinationOrigin:MTLOriginMake(0, 0, 0)];\n@@ -142,0 +140,1 @@\n+        [blitEncoder endEncoding];\n@@ -148,1 +147,1 @@\n-        \/\/[commandBuf waitUntilCompleted];\n+        \/\/ [commandBuf waitUntilCompleted];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassLayerMTL.m","additions":18,"deletions":19,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-#import <Foundation\/Foundation.h>\n@@ -43,2 +42,4 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height;\n-- (void)blitForWidth:(unsigned int)width andHeight:(unsigned int)height;\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height;\n+- (void)blitForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMTLFrameBufferObject.h","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -27,2 +27,0 @@\n-#import \"GlassMacros.h\"\n-#import \"GlassApplication.h\"\n@@ -41,1 +39,1 @@\n-    if (self->_texture != 0)\n+    if (self->_texture != nil)\n@@ -45,1 +43,1 @@\n-        self->_texture = 0;\n+        self->_texture = nil;\n@@ -49,1 +47,2 @@\n-- (void)_createFboIfNeededForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)_createFboIfNeededForWidth:(unsigned int)width\n+                         andHeight:(unsigned int)height\n@@ -59,1 +58,1 @@\n-            \/\/ Create a texture ----------\n+            \/\/ Create a texture\n@@ -63,5 +62,4 @@\n-                    [MTLTextureDescriptor texture2DDescriptorWithPixelFormat: MTLPixelFormatBGRA8Unorm\n-                                                                    width:width\n-                                                                    height:height\n-                                                                    mipmapped:false];\n-\n+                    [MTLTextureDescriptor texture2DDescriptorWithPixelFormat:MTLPixelFormatBGRA8Unorm\n+                                                                       width:width\n+                                                                      height:height\n+                                                                   mipmapped:false];\n@@ -86,2 +84,1 @@\n-        self->_texture = 0;\n-        \/\/self->_fbo = 0;\n+        self->_texture = nil;\n@@ -95,5 +92,1 @@\n-   \/\/[self _assertContext];\n-    {\n-        [self _destroyFbo];\n-    }\n-\n+    [self _destroyFbo];\n@@ -113,1 +106,2 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n@@ -131,1 +125,2 @@\n-- (void)blitForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)blitForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n@@ -133,1 +128,1 @@\n-    \/\/TODO: MTL:\n+    \/\/ TODO: MTL: check if implementation required\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMTLFrameBufferObject.m","additions":16,"deletions":21,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -26,2 +26,0 @@\n-#import \"common.h\"\n-#import <Cocoa\/Cocoa.h>\n@@ -36,1 +34,1 @@\n-    GlassMTLFrameBufferObject*  _fbo;\n+    GlassMTLFrameBufferObject* _fbo;\n@@ -43,1 +41,2 @@\n-            andIsSwPipe:(BOOL)isSwPipe;\n+          andIsSwPipe:(BOOL)isSwPipe;\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMTLOffscreen.h","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-\/\/#import \"GlassPBuffer.h\"\n@@ -42,1 +41,1 @@\n-            andIsSwPipe:(BOOL)isSwPipe;\n+          andIsSwPipe:(BOOL)isSwPipe\n@@ -47,9 +46,7 @@\n-        {\n-            self->_fbo = [[GlassMTLFrameBufferObject alloc] init];\n-            if (self->_fbo == nil)\n-            {\n-                \/\/ TODO: implement PBuffer if needed\n-                \/\/self->_fbo = [[GlassPBuffer alloc] init];\n-            }\n-            [(GlassMTLFrameBufferObject*)self->_fbo setIsSwPipe:(BOOL)isSwPipe];\n-        }\n+        self->_fbo = [[GlassMTLFrameBufferObject alloc] init];\n+        \/\/ if (self->_fbo == nil)\n+        \/\/ {\n+        \/\/     TODO: implement PBuffer if needed\n+        \/\/     self->_fbo = [[GlassPBuffer alloc] init];\n+        \/\/ }\n+        [(GlassMTLFrameBufferObject*)self->_fbo setIsSwPipe:(BOOL)isSwPipe];\n@@ -69,5 +66,2 @@\n-    {\n-        [(NSObject*)self->_fbo release];\n-        self->_fbo = NULL;\n-    }\n-\n+    [(NSObject*)self->_fbo release];\n+    self->_fbo = nil;\n@@ -87,2 +81,3 @@\n-- (void)unbind{\n-    \/\/no-op in case of MTL\n+- (void)unbind\n+{\n+    \/\/ no-op in case of MTL\n@@ -93,1 +88,1 @@\n-    \/\/NSLog(@\"Glass fbo = %@\", [self->_fbo texture]);\n+    \/\/ NSLog(@\"Glass fbo = %@\", [self->_fbo texture]);\n@@ -95,2 +90,0 @@\n-\n-    \/\/return [self->_fbo fbo];\n@@ -99,1 +92,2 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n@@ -101,2 +95,3 @@\n-    \/\/NSLog(@\"GlassMTLOffscreen -------- w x h : %d x %d\", width, height);\n-    [self->_fbo bindForWidth:width andHeight:height];\n+    \/\/ NSLog(@\"GlassMTLOffscreen -------- w x h : %d x %d\", width, height);\n+    [self->_fbo bindForWidth:width\n+                   andHeight:height];\n@@ -112,1 +107,2 @@\n-- (void)blitForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)blitForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n@@ -114,3 +110,2 @@\n-    {\n-        [self->_fbo blitForWidth:width andHeight:height];\n-    }\n+    [self->_fbo blitForWidth:width\n+                   andHeight:height];\n@@ -125,3 +120,3 @@\n-                                                           withObject:nil\n-                                                        waitUntilDone:NO\n-                                                            modes:allModes];\n+                                          withObject:nil\n+                                       waitUntilDone:NO\n+                                               modes:allModes];\n@@ -133,4 +128,4 @@\n-         withHeight:(unsigned int)height\n-         withScaleX:(float)scalex\n-         withScaleY:(float)scaley\n-         ofView:(NSView*)view\n+        withHeight:(unsigned int)height\n+        withScaleX:(float)scalex\n+        withScaleY:(float)scaley\n+            ofView:(NSView*)view\n@@ -154,16 +149,15 @@\n-                                      length:width*height*4\n-                                      options:0] autorelease];\n-            [blitEncoder copyFromBuffer:buff\n-                      sourceOffset:(NSUInteger)0\n-                 sourceBytesPerRow:(NSUInteger)width * 4\n-               sourceBytesPerImage:(NSUInteger)width * height * 4\n-                        sourceSize:MTLSizeMake(width, height, 1)\n-                         toTexture:backBufferTex\n-                  destinationSlice:(NSUInteger)0\n-                  destinationLevel:(NSUInteger)0\n-                 destinationOrigin:MTLOriginMake(0, 0, 0)];\n-\n-            if (backBufferTex.usage == MTLTextureUsageRenderTarget) {\n-                [blitEncoder synchronizeTexture:backBufferTex slice:0 level:0];\n-            }\n-\n+                                                           length:(width * height * 4)\n+                                                          options:0] autorelease];\n+        [blitEncoder copyFromBuffer:buff\n+                       sourceOffset:(NSUInteger)0\n+                  sourceBytesPerRow:(NSUInteger)width * 4\n+                sourceBytesPerImage:(NSUInteger)width * height * 4\n+                         sourceSize:MTLSizeMake(width, height, 1)\n+                          toTexture:backBufferTex\n+                   destinationSlice:(NSUInteger)0\n+                   destinationLevel:(NSUInteger)0\n+                  destinationOrigin:MTLOriginMake(0, 0, 0)];\n+\n+        if (backBufferTex.usage == MTLTextureUsageRenderTarget) {\n+            [blitEncoder synchronizeTexture:backBufferTex slice:0 level:0];\n+        }\n@@ -171,1 +165,0 @@\n-\n@@ -185,1 +178,2 @@\n-    [self blitForWidth:[self->_fbo width] andHeight:[self->_fbo height]];\n+    [self blitForWidth:[self->_fbo width]\n+             andHeight:[self->_fbo height]];\n@@ -189,1 +183,1 @@\n-- (void)blitFromOffscreen:(GlassMTLOffscreen*) other_offscreen\n+- (void)blitFromOffscreen:(GlassMTLOffscreen*)other_offscreen\n@@ -191,3 +185,1 @@\n-    {\n-        [(GlassMTLFrameBufferObject*)self->_fbo blitFromFBO:(GlassMTLFrameBufferObject*)other_offscreen->_fbo];\n-    }\n+    [(GlassMTLFrameBufferObject*)self->_fbo blitFromFBO:(GlassMTLFrameBufferObject*)other_offscreen->_fbo];\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMTLOffscreen.m","additions":49,"deletions":57,"binary":false,"changes":106,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-\n@@ -29,1 +28,0 @@\n-#import \"GlassOffscreen.h\"\n@@ -33,5 +31,5 @@\n-    float                     _backgroundR;\n-    float                     _backgroundG;\n-    float                     _backgroundB;\n-    float                     _backgroundA;\n-    CALayer*              _layer;\n+    float    _backgroundR;\n+    float    _backgroundG;\n+    float    _backgroundB;\n+    float    _backgroundA;\n+    CALayer* _layer;\n@@ -44,1 +42,2 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height;\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height;\n@@ -47,1 +46,2 @@\n-- (void)blitForWidth:(unsigned int)width andHeight:(unsigned int)height;\n+- (void)blitForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height;\n@@ -53,4 +53,4 @@\n-         withHeight:(unsigned int)height\n-         withScaleX:(float)scalex\n-         withScaleY:(float)scaley\n-         ofView:(NSView*)view;\n+        withHeight:(unsigned int)height\n+        withScaleX:(float)scalex\n+        withScaleY:(float)scaley\n+            ofView:(NSView*)view;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassOffscreen.h","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-\/\/#import \"GlassPBuffer.h\"\n@@ -79,1 +78,2 @@\n-- (void)bindForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)bindForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n@@ -93,4 +93,4 @@\n-         withHeight:(unsigned int)height\n-         withScaleX:(float)scalex\n-         withScaleY:(float)scaley\n-         ofView:(NSView*)view\n+        withHeight:(unsigned int)height\n+        withScaleX:(float)scalex\n+        withScaleY:(float)scaley\n+            ofView:(NSView*)view\n@@ -104,1 +104,2 @@\n-- (void)blitForWidth:(unsigned int)width andHeight:(unsigned int)height\n+- (void)blitForWidth:(unsigned int)width\n+           andHeight:(unsigned int)height\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassOffscreen.m","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -26,2 +26,0 @@\n-\/\/#import <Cocoa\/Cocoa.h>\n-\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassView.m","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,2 +26,0 @@\n-#import <Cocoa\/Cocoa.h>\n-\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassView3D.h","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -92,2 +92,2 @@\n-        \/\/NSLog(@\"---- mtlCommandQueueKey = %p\", mtlCommandQueueKey);\n-        \/\/NSLog(@\"---- mtlCommandQueueValue = %p\", mtlCommandQueueValue);\n+        \/\/ NSLog(@\"---- mtlCommandQueueKey = %p\", mtlCommandQueueKey);\n+        \/\/ NSLog(@\"---- mtlCommandQueueValue = %p\", mtlCommandQueueValue);\n@@ -101,1 +101,1 @@\n-                \/\/NSLog(@\"--- GLASS metal command queue ptr = %ld\", jmtlQueuePtr);\n+                \/\/ NSLog(@\"--- GLASS metal command queue ptr = %ld\", jmtlQueuePtr);\n@@ -103,2 +103,2 @@\n-                \/\/TODO: MTL: This enables sharing of MTLCommandQueue between PRISM and GLASS, if needed.\n-                \/\/Note : Currently, PRISM and GLASS create their own dedicated MTLCommandQueue\n+                \/\/ This enables sharing of MTLCommandQueue between PRISM and GLASS, if needed.\n+                \/\/ Note : Currently, PRISM and GLASS create their own dedicated MTLCommandQueue\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassView3D.m","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -39,4 +39,4 @@\n-    CGFloat             _backgroundR;\n-    CGFloat             _backgroundG;\n-    CGFloat             _backgroundB;\n-    CGFloat             _backgroundA;\n+    CGFloat _backgroundR;\n+    CGFloat _backgroundG;\n+    CGFloat _backgroundB;\n+    CGFloat _backgroundA;\n@@ -46,1 +46,4 @@\n-- (id)initWithFrame:(NSRect)frame withJview:(jobject)jView withJproperties:(jobject)jproperties;\n+\n+- (id)initWithFrame:(NSRect)frame\n+          withJview:(jobject)jView\n+    withJproperties:(jobject)jproperties;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewCGL.h","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -27,3 +27,0 @@\n-#import \"com_sun_glass_events_DndEvent.h\"\n-#import \"com_sun_glass_events_KeyEvent.h\"\n-#import \"com_sun_glass_events_MouseEvent.h\"\n@@ -31,2 +28,0 @@\n-#import \"com_sun_glass_ui_mac_MacGestureSupport.h\"\n-#import \"GlassKey.h\"\n@@ -35,1 +30,0 @@\n-#import \"GlassApplication.h\"\n@@ -44,31 +38,0 @@\n-\/\/#define MOUSEVERBOSE\n-#ifndef MOUSEVERBOSE\n-    #define MOUSELOG(MSG, ...)\n-#else\n-    #define MOUSELOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-\/\/#define KEYVERBOSE\n-#ifndef KEYVERBOSE\n-    #define KEYLOG(MSG, ...)\n-#else\n-    #define KEYLOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-\/\/#define DNDVERBOSE\n-#ifndef DNDVERBOSE\n-    #define DNDLOG(MSG, ...)\n-#else\n-    #define DNDLOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-\/\/#define IMVERBOSE\n-#ifndef IMVERBOSE\n-    #define IMLOG(MSG, ...)\n-#else\n-    #define IMLOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-#define SHARE_GL_CONTEXT\n-\/\/#define DEBUG_COLORS\n-\n@@ -76,1 +39,1 @@\n-\/\/#define ENABLE_MULTITHREADED_GL\n+\/\/ #define ENABLE_MULTITHREADED_GL\n@@ -113,1 +76,2 @@\n-- (CGLContextObj)_createContextWithShared:(CGLContextObj)share withFormat:(CGLPixelFormatObj)format\n+- (CGLContextObj)_createContextWithShared:(CGLContextObj)share\n+                               withFormat:(CGLPixelFormatObj)format\n@@ -184,1 +148,2 @@\n-        clientCGL = [self _createContextWithShared:sharedCGL withFormat:clientPixelFormat];\n+        clientCGL = [self _createContextWithShared:sharedCGL\n+                                        withFormat:clientPixelFormat];\n@@ -208,2 +173,4 @@\n-        andClientContext:(NSObject*)clientCGL mtlQueuePtr:0l\n-        withHiDPIAware:isHiDPIAware withIsSwPipe:isSwPipe];\n+                                    andClientContext:(NSObject*)clientCGL\n+                                         mtlQueuePtr:0l\n+                                      withHiDPIAware:isHiDPIAware\n+                                        withIsSwPipe:isSwPipe];\n@@ -212,4 +179,2 @@\n-    {\n-        [self setLayer:self->layer];\n-        [self setWantsLayer:YES];\n-    }\n+    [self setLayer:self->layer];\n+    [self setWantsLayer:YES];\n@@ -218,1 +183,3 @@\n-- (id)initWithFrame:(NSRect)frame withJview:(jobject)jView withJproperties:(jobject)jproperties\n+- (id)initWithFrame:(NSRect)frame\n+          withJview:(jobject)jView\n+    withJproperties:(jobject)jproperties\n@@ -244,1 +211,0 @@\n-\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewCGL.m","additions":14,"deletions":48,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-#import <Cocoa\/Cocoa.h>\n@@ -30,1 +29,0 @@\n-#import \"GlassDragSource.h\"\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewDelegate.h","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-#include \"GlassDraggingSource.h\"\n@@ -39,1 +38,0 @@\n-#import \"GlassScreen.h\"\n@@ -42,1 +40,0 @@\n-#import \"GlassPasteboard.h\"\n@@ -44,1 +41,0 @@\n-#import \"GlassStatics.h\"\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewDelegate.m","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,3 +26,0 @@\n-#import <Cocoa\/Cocoa.h>\n-\n-#import \"GlassView.h\"\n@@ -39,1 +36,3 @@\n-- (id)initWithFrame:(NSRect)frame withJview:(jobject)jView withJproperties:(jobject)jproperties;\n+- (id)initWithFrame:(NSRect)frame\n+          withJview:(jobject)jView\n+    withJproperties:(jobject)jproperties;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewMTL.h","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -26,4 +26,0 @@\n-#import \"common.h\"\n-#import \"com_sun_glass_events_DndEvent.h\"\n-#import \"com_sun_glass_events_KeyEvent.h\"\n-#import \"com_sun_glass_events_MouseEvent.h\"\n@@ -31,2 +27,0 @@\n-#import \"com_sun_glass_ui_mac_MacGestureSupport.h\"\n-#import \"GlassKey.h\"\n@@ -35,2 +29,0 @@\n-#import \"GlassApplication.h\"\n-#import \"GlassScreen.h\"\n@@ -45,31 +37,0 @@\n-\/\/#define MOUSEVERBOSE\n-#ifndef MOUSEVERBOSE\n-    #define MOUSELOG(MSG, ...)\n-#else\n-    #define MOUSELOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-\/\/#define KEYVERBOSE\n-#ifndef KEYVERBOSE\n-    #define KEYLOG(MSG, ...)\n-#else\n-    #define KEYLOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-\/\/#define DNDVERBOSE\n-#ifndef DNDVERBOSE\n-    #define DNDLOG(MSG, ...)\n-#else\n-    #define DNDLOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-\/\/#define IMVERBOSE\n-#ifndef IMVERBOSE\n-    #define IMLOG(MSG, ...)\n-#else\n-    #define IMLOG(MSG, ...) GLASS_LOG(MSG, ## __VA_ARGS__);\n-#endif\n-\n-#define SHARE_GL_CONTEXT\n-\/\/#define DEBUG_COLORS\n-\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassViewMTL.m","additions":0,"deletions":39,"binary":false,"changes":39,"status":"modified"}]}
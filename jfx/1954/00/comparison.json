{"files":[{"patch":"@@ -74,1 +74,1 @@\n-    private static final int SQUARE_SIZE = 15;\n+    private double squareSize = 15.0;\n@@ -101,0 +101,45 @@\n+    private VBox paletteBox;\n+\n+    public double getSquareSize(){\n+        return squareSize;\n+    }\n+\n+    public void setSquareSize(double size){\n+        if(size <= 0 ){\n+            throw new IllegalArgumentException(\"Square size must be positive\");\n+        }\n+\n+        if (getSquareSize() != size) {\n+            this.squareSize = size;\n+            rebuildSquares();\n+        }\n+    }\n+\n+    private void rebuildSquares() {\n+        buildStandardColors();\n+        buildCustomColors();\n+        colorPickerGrid = new ColorPickerGrid();\n+\n+        paletteBox.getChildren().setAll(\n+                standardColorGrid, colorPickerGrid,\n+                customColorLabel, customColorGrid,\n+                separator, customColorLink\n+        );\n+\n+        customColorLabel.prefWidthProperty().unbind();\n+        customColorLink.prefWidthProperty().unbind();\n+        standardColorGrid.prefWidthProperty().unbind();\n+        customColorGrid.prefWidthProperty().unbind();\n+\n+        customColorLabel.prefWidthProperty().bind(colorPickerGrid.widthProperty());\n+        customColorLink.prefWidthProperty().bind(colorPickerGrid.widthProperty());\n+        standardColorGrid.prefWidthProperty().bind(colorPickerGrid.widthProperty());\n+        customColorGrid.prefWidthProperty().bind(colorPickerGrid.widthProperty());\n+\n+        hoverSquare.setMouseTransparent(true);\n+        hoverSquare.getStyleClass().addAll(\"hover-square\");\n+        setFocusedSquare(null);\n+\n+        requestLayout();\n+    }\n+\n@@ -154,1 +199,1 @@\n-        VBox paletteBox = new VBox();\n+        paletteBox = new VBox();\n@@ -156,1 +201,6 @@\n-        paletteBox.getChildren().addAll(standardColorGrid, colorPickerGrid, customColorLabel, customColorGrid, separator, customColorLink);\n+        paletteBox.setFillWidth(true);\n+        paletteBox.getChildren().addAll(\n+                standardColorGrid, colorPickerGrid,\n+                customColorLabel, customColorGrid,\n+                separator, customColorLink\n+        );\n@@ -504,1 +554,1 @@\n-            rectangle = new Rectangle(SQUARE_SIZE, SQUARE_SIZE);\n+            rectangle = new Rectangle(squareSize, squareSize);\n@@ -596,1 +646,1 @@\n-                        (int)t.getX()\/(SQUARE_SIZE + 1), NUM_OF_COLUMNS - 1);\n+                        (int)Math.floor(t.getX()\/(squareSize + 1)), NUM_OF_COLUMNS - 1);\n@@ -598,1 +648,1 @@\n-                        (int)t.getY()\/(SQUARE_SIZE + 1), NUM_OF_ROWS - 1);\n+                        (int)Math.floor(t.getY()\/(squareSize + 1)), NUM_OF_ROWS - 1);\n@@ -624,1 +674,1 @@\n-            return (SQUARE_SIZE + 1)*NUM_OF_COLUMNS;\n+            return (squareSize + 1)*NUM_OF_COLUMNS;\n@@ -628,1 +678,1 @@\n-            return (SQUARE_SIZE + 1)*NUM_OF_ROWS;\n+            return (squareSize + 1)*NUM_OF_ROWS;\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/ColorPalette.java","additions":58,"deletions":8,"binary":false,"changes":66,"status":"modified"}]}
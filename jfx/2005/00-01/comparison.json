{"files":[{"patch":"@@ -69,0 +69,2 @@\n+        nonMipmappedSamplerState = nil;\n+        mipmappedSamplerState = nil;\n@@ -240,8 +242,10 @@\n-    MTLSamplerDescriptor *samplerDescriptor = [MTLSamplerDescriptor new];\n-    samplerDescriptor.minFilter = MTLSamplerMinMagFilterLinear;\n-    samplerDescriptor.magFilter = MTLSamplerMinMagFilterLinear;\n-    samplerDescriptor.rAddressMode = MTLSamplerAddressModeRepeat;\n-    samplerDescriptor.sAddressMode = MTLSamplerAddressModeRepeat;\n-    samplerDescriptor.tAddressMode = MTLSamplerAddressModeRepeat;\n-    samplerDescriptor.mipFilter = MTLSamplerMipFilterNotMipmapped;\n-    nonMipmappedSamplerState = [[self getDevice] newSamplerStateWithDescriptor:samplerDescriptor];\n+    if (mipmappedSamplerState == nil ||\n+        nonMipmappedSamplerState == nil) {\n+        MTLSamplerDescriptor *samplerDescriptor = [MTLSamplerDescriptor new];\n+        samplerDescriptor.minFilter = MTLSamplerMinMagFilterLinear;\n+        samplerDescriptor.magFilter = MTLSamplerMinMagFilterLinear;\n+        samplerDescriptor.rAddressMode = MTLSamplerAddressModeRepeat;\n+        samplerDescriptor.sAddressMode = MTLSamplerAddressModeRepeat;\n+        samplerDescriptor.tAddressMode = MTLSamplerAddressModeRepeat;\n+        samplerDescriptor.mipFilter = MTLSamplerMipFilterNotMipmapped;\n+        nonMipmappedSamplerState = [[self getDevice] newSamplerStateWithDescriptor:samplerDescriptor];\n@@ -249,2 +253,2 @@\n-    samplerDescriptor.mipFilter = MTLSamplerMipFilterLinear;\n-    mipmappedSamplerState = [[self getDevice] newSamplerStateWithDescriptor:samplerDescriptor];\n+        samplerDescriptor.mipFilter = MTLSamplerMipFilterLinear;\n+        mipmappedSamplerState = [[self getDevice] newSamplerStateWithDescriptor:samplerDescriptor];\n@@ -252,1 +256,2 @@\n-    [samplerDescriptor release];\n+        [samplerDescriptor release];\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/native-prism-mtl\/MetalContext.m","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -937,0 +937,3 @@\n+                double dx = e.getDeltaX();\n+                double dy = e.getDeltaY();\n+\n@@ -943,1 +946,4 @@\n-                        setScrollOffset(scrollOffset + e.getDeltaY());\n+                        \/\/ Consider vertical scroll events (dy > dx) from mouse wheel and trackpad,\n+                        \/\/ and horizontal scroll events from a trackpad (dx > dy)\n+                        dx = Math.abs(dy) > Math.abs(dx) ? dy : dx;\n+                        setScrollOffset(scrollOffset + dx);\n@@ -947,1 +953,1 @@\n-                        setScrollOffset(scrollOffset - e.getDeltaY());\n+                        setScrollOffset(scrollOffset - dy);\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/TabPaneSkin.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+import javafx.scene.input.ScrollEvent;\n@@ -1244,0 +1245,75 @@\n+\n+    @Test\n+    public void testVerticalScroll() {\n+        scrollTabPane(0, -100);\n+    }\n+\n+    @Test\n+    public void testVerticalScrollWithSmallHorizontalAmount() {\n+        scrollTabPane(10, -100);\n+    }\n+\n+    @Test\n+    public void testHorizontalScroll() {\n+        scrollTabPane(-100, 0);\n+    }\n+\n+    @Test\n+    public void testHorizontalScrollWithSmallVerticalAmount() {\n+        scrollTabPane(-100, 10);\n+    }\n+\n+    private void scrollTabPane(double deltaX, double deltaY) {\n+        tabPane.setMaxSize(400, 100);\n+        for (int i = 0; i < 40; i++) {\n+            Tab tab = new Tab(\"Tab \" + (1000 + i));\n+            tabPane.getTabs().add(tab);\n+        }\n+        root.getChildren().add(tabPane);\n+        stage.show();\n+\n+        root.applyCss();\n+        root.layout();\n+\n+        double minXFirstTab = tabPane.lookupAll(\".tab-label\")\n+                .stream()\n+                .findFirst()\n+                .map(n -> n.localToScene(n.getLayoutBounds()).getMinX())\n+                .orElse(-1d);\n+\n+        Bounds layoutBounds = tabPane.getLayoutBounds();\n+        double minX = tabPane.localToScene(layoutBounds).getMinX();\n+        double minY = tabPane.localToScene(layoutBounds).getMinY();\n+\n+        double minScrX = tabPane.localToScreen(layoutBounds).getMinX();\n+        double minScrY = tabPane.localToScreen(layoutBounds).getMinY();\n+        double x = 50;\n+        double y = 10;\n+\n+        SceneHelper.processMouseEvent(scene,\n+                MouseEventGenerator.generateMouseEvent(MouseEvent.MOUSE_MOVED, minX + x, minY + y));\n+        tk.firePulse();\n+\n+        StackPane tabHeaderArea = (StackPane) tabPane.lookup(\".tab-header-area\");\n+        Event.fireEvent(tabHeaderArea, new ScrollEvent(\n+                ScrollEvent.SCROLL,\n+                minX + x, minY + y,\n+                minScrX + x, minScrY + y,\n+                false, false, false, false, true, false,\n+                deltaX, deltaY, deltaX, deltaY,\n+                ScrollEvent.HorizontalTextScrollUnits.NONE, 0.0,\n+                ScrollEvent.VerticalTextScrollUnits.NONE, 0.0,\n+                0, null));\n+\n+        tk.firePulse();\n+\n+        double newMinXFirstTab = tabPane.lookupAll(\".tab-label\")\n+                .stream()\n+                .findFirst()\n+                .map(n -> n.localToScene(n.getLayoutBounds()).getMinX())\n+                .orElse(-1d);\n+\n+        double delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX;\n+        assertEquals(minXFirstTab + delta, newMinXFirstTab, 0);\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TabPaneTest.java","additions":77,"deletions":1,"binary":false,"changes":78,"status":"modified"}]}
{"files":[{"patch":"@@ -1958,2 +1958,0 @@\n-        \/\/ Clear the visuals changed flag\n-        clearDirty();\n@@ -1961,6 +1959,14 @@\n-        if (!visible || opacity == 0f) return;\n-\n-        \/\/ We know that we are going to render this node, so we call the\n-        \/\/ doRender method, which subclasses implement to do the actual\n-        \/\/ rendering work.\n-        doRender(g);\n+        if (visible && opacity != 0f) {\n+            \/\/ Clear the visuals changed flag\n+            clearDirty();\n+\n+            \/\/ We know that we are going to render this node, so we call the\n+            \/\/ doRender method, which subclasses implement to do the actual\n+            \/\/ rendering work.\n+            doRender(g);\n+        } else {\n+            \/\/ Since we are skipping the rendering of this node and all of its children\n+            \/\/ and therefore not calling clearDirty() for each of them,\n+            \/\/ we need to clear the dirty flag here.\n+            clearDirtyTree();\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/sg\/prism\/NGNode.java","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"}]}
{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import org.openjdk.jmh.annotations.Level;\n@@ -66,2 +67,2 @@\n-    @Param(\"2048\")\n-    public int tanhValueCount;\n+    @Param({\"-2.0\", \"-1.0\", \"-0.5\", \"-0.1\", \"0.0\", \"0.1\", \"0.5\", \"1.0\", \"2.0\"})\n+    public double tanhConstInput;\n@@ -69,2 +70,2 @@\n-    @Param(\"0\")\n-    public double tanhBound1;\n+    @Param(\"2048\")\n+    public int tanhInputCount;\n@@ -72,2 +73,2 @@\n-    @Param(\"2.7755575615628914E-17\")\n-    public double tanhBound2;\n+    @Param({\"0\", \"1\", \"2\", \"3\"})\n+    public int tanhRangeIndex;\n@@ -75,2 +76,7 @@\n-    public double [] tanhPosVector;\n-    public double [] tanhNegVector;\n+    public double [] tanhPosRandInputs;\n+    public double [] tanhNegRandInputs;\n+    public int tanhInputIndex = 0;\n+    public double tanhRangeInputs[][] = { {0.0, 0x1.0P-55},\n+                                          {0x1.0P-55, 1.0},\n+                                          {1.0, 22.0},\n+                                          {22.0, 1.7976931348623157E308} };\n@@ -87,5 +93,7 @@\n-        tanhPosVector = new double[tanhValueCount];\n-        tanhNegVector = new double[tanhValueCount];\n-        for (int i = 0; i < tanhValueCount; i++) {\n-            tanhPosVector[i] = random.nextDouble(tanhBound1, tanhBound2);\n-            tanhNegVector[i] = random.nextDouble(-tanhBound2, -tanhBound1);\n+        tanhPosRandInputs = new double[tanhInputCount];\n+        tanhNegRandInputs = new double[tanhInputCount];\n+        for (int i = 0; i < tanhInputCount; i++) {\n+            double tanhLowerBound = tanhRangeInputs[tanhRangeIndex][0];\n+            double tanhUpperBound = tanhRangeInputs[tanhRangeIndex][1];\n+            tanhPosRandInputs[i] = random.nextDouble(tanhLowerBound, tanhUpperBound);\n+            tanhNegRandInputs[i] = random.nextDouble(-tanhUpperBound, -tanhLowerBound);\n@@ -95,0 +103,6 @@\n+    @Setup(Level.Invocation)\n+    public void updateEveryIndex() {\n+        \/\/ Update the tanh index for the next invocation\n+        tanhInputIndex = (tanhInputIndex + 1) % tanhInputCount;\n+    }\n+\n@@ -541,1 +555,1 @@\n-        return  Math.tanh(double1);\n+        return  Math.tanh(tanhConstInput);\n@@ -546,5 +560,3 @@\n-        double sum = 0.0;\n-        for (int i = 0; i < tanhValueCount; i++) {\n-            sum += Math.tanh(tanhPosVector[i]) + Math.tanh(tanhNegVector[i]);\n-        }\n-        return sum;\n+        double posResult = Math.tanh(tanhPosRandInputs[tanhInputIndex]);\n+        double negResult = Math.tanh(tanhNegRandInputs[tanhInputIndex]);\n+        return  (posResult + negResult);\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/lang\/MathBench.java","additions":31,"deletions":19,"binary":false,"changes":50,"status":"modified"}]}
[{"commit":{"message":"8341471: [macOS_aarch64] Reversed field layout caused by unstable sorting\n\nFor class Test:\n```\n    public class Test {\n        char a000;\n        char a001;\n        char a002;\n        char a003;\n        char a004;\n        char a005;\n        char a006;\n        char a007;\n        char a008;\n        char a009;\n        char a00a;\n        char a00b;\n    }\n```\n\nWe found its field layout on macOS was:\n\nLayout of class Test\n  Instance fields:\n   @0 12\/- RESERVED\n   @12 \"a00b\" C 2\/2 REGULAR\n   @14 \"a001\" C 2\/2 REGULAR\n   @16 \"a002\" C 2\/2 REGULAR\n   @18 \"a003\" C 2\/2 REGULAR\n   @20 \"a004\" C 2\/2 REGULAR\n   @22 \"a005\" C 2\/2 REGULAR\n   @24 \"a006\" C 2\/2 REGULAR\n   @26 \"a007\" C 2\/2 REGULAR\n   @28 \"a008\" C 2\/2 REGULAR\n   @30 \"a009\" C 2\/2 REGULAR\n   @32 \"a00a\" C 2\/2 REGULAR\n   @34 \"a000\" C 2\/2 REGULAR\n\n`a000` was put in the end while `a00b` was put in the beginning.\n\nFields get sorted according to size in [1]. `qsort()` on macOS\nreverses the order of fields with the same size. We should extend\nthe comparison function to preserve the order on macOS, as we\ndid on Windows.\n\nTier 1-3 passed on macOS.\n\n[1] https:\/\/github.com\/openjdk\/jdk\/blob\/3ee94e040a7395d11a294a6b660d707c97f188f8\/src\/hotspot\/share\/classfile\/fieldLayoutBuilder.cpp#L102"},"files":[{"filename":"src\/hotspot\/share\/classfile\/fieldLayoutBuilder.hpp"},{"filename":"test\/hotspot\/jtreg\/runtime\/FieldLayout\/TestFieldLayout.java"}],"sha":"c19e07dea6c7be423557cc2ff0f4c143173494ed"}]
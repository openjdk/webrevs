{"files":[{"patch":"@@ -94,0 +94,1 @@\n+     static_field(CollectedHeap,               _lab_alignment_reserve,                        size_t)                                \\\n","filename":"src\/hotspot\/share\/gc\/shared\/vmStructs_gc.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-    long minFillerArraySize = Array.baseOffsetInBytes(BasicType.T_INT);\n+    long labAlignmentReserve = VM.getVM().getLabAlignmentReserve();\n@@ -82,1 +82,1 @@\n-    return Math.max(minFillerArraySize, reserveForAllocationPrefetch * heapWordSize);\n+    return Math.max(labAlignmentReserve, reserveForAllocationPrefetch) * heapWordSize;\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/ThreadLocalAllocBuffer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -130,0 +130,1 @@\n+  private int          labAlignmentReserve;\n@@ -440,0 +441,5 @@\n+\n+       Type collectedHeap = db.lookupType(\"CollectedHeap\");\n+       CIntegerType sizeType = (CIntegerType) sizetType;\n+       CIntegerField labAlignmentReserveField = collectedHeap.getCIntegerField(\"_lab_alignment_reserve\");\n+       labAlignmentReserve = (int)labAlignmentReserveField.getCInteger(sizeType);\n@@ -932,0 +938,4 @@\n+  public int getLabAlignmentReserve() {\n+    return labAlignmentReserve;\n+  }\n+\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/VM.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}
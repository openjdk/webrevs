{"files":[{"patch":"@@ -142,6 +142,6 @@\n-  private static Type intType;\n-  private static Type uintType;\n-  private static Type intxType;\n-  private static Type uintxType;\n-  private static Type sizetType;\n-  private static Type uint64tType;\n+  private static CIntegerType intType;\n+  private static CIntegerType uintType;\n+  private static CIntegerType intxType;\n+  private static CIntegerType uintxType;\n+  private static CIntegerType sizetType;\n+  private static CIntegerType uint64tType;\n@@ -436,10 +436,0 @@\n-\n-       Type threadLocalAllocBuffer = db.lookupType(\"ThreadLocalAllocBuffer\");\n-       CIntegerType intType = (CIntegerType) db.lookupType(\"int\");\n-       CIntegerField reserveForAllocationPrefetchField = threadLocalAllocBuffer.getCIntegerField(\"_reserve_for_allocation_prefetch\");\n-       reserveForAllocationPrefetch = (int)reserveForAllocationPrefetchField.getCInteger(intType);\n-\n-       Type collectedHeap = db.lookupType(\"CollectedHeap\");\n-       CIntegerType sizeType = (CIntegerType) db.lookupType(\"size_t\");\n-       CIntegerField labAlignmentReserveField = collectedHeap.getCIntegerField(\"_lab_alignment_reserve\");\n-       labAlignmentReserve = (int)labAlignmentReserveField.getCInteger(sizeType);\n@@ -452,0 +442,17 @@\n+    \/\/ Initialize common primitive types\n+    intType = (CIntegerType) db.lookupType(\"int\");\n+    uintType = (CIntegerType) db.lookupType(\"uint\");\n+    intxType = (CIntegerType) db.lookupType(\"intx\");\n+    uintxType = (CIntegerType) db.lookupType(\"uintx\");\n+    sizetType = (CIntegerType) db.lookupType(\"size_t\");\n+    uint64tType = (CIntegerType) db.lookupType(\"uint64_t\");\n+    boolType = (CIntegerType) db.lookupType(\"bool\");\n+\n+    Type threadLocalAllocBuffer = db.lookupType(\"ThreadLocalAllocBuffer\");\n+    CIntegerField reserveForAllocationPrefetchField = threadLocalAllocBuffer.getCIntegerField(\"_reserve_for_allocation_prefetch\");\n+    reserveForAllocationPrefetch = (int)reserveForAllocationPrefetchField.getCInteger(intType);\n+\n+    Type collectedHeap = db.lookupType(\"CollectedHeap\");\n+    CIntegerField labAlignmentReserveField = collectedHeap.getCIntegerField(\"_lab_alignment_reserve\");\n+    labAlignmentReserve = (int)labAlignmentReserveField.getCInteger(sizetType);\n+\n@@ -502,8 +509,0 @@\n-    intType = db.lookupType(\"int\");\n-    uintType = db.lookupType(\"uint\");\n-    intxType = db.lookupType(\"intx\");\n-    uintxType = db.lookupType(\"uintx\");\n-    sizetType = db.lookupType(\"size_t\");\n-    uint64tType = db.lookupType(\"uint64_t\");\n-    boolType = (CIntegerType) db.lookupType(\"bool\");\n-\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/VM.java","additions":23,"deletions":24,"binary":false,"changes":47,"status":"modified"}]}
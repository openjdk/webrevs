{"files":[{"patch":"@@ -332,1 +332,0 @@\n-        copyResource(DocPaths.SYSTEM_SVG, DocPaths.RESOURCE_FILES.resolve(DocPaths.SYSTEM_SVG), true);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -140,0 +140,1 @@\n+                addThemeSwitcher(target);\n@@ -151,0 +152,1 @@\n+                addThemeSwitcher(target);\n@@ -169,0 +171,1 @@\n+                addThemeSwitcher(target);\n@@ -187,0 +190,1 @@\n+                addThemeSwitcher(target);\n@@ -211,0 +215,1 @@\n+                addThemeSwitcher(target);\n@@ -229,0 +234,1 @@\n+                addThemeSwitcher(target);\n@@ -271,0 +277,1 @@\n+                addThemeSwitcher(target);\n@@ -288,0 +295,1 @@\n+                addThemeSwitcher(target);\n@@ -314,0 +322,1 @@\n+                addThemeSwitcher(target);\n@@ -320,4 +329,0 @@\n-    private void addContentToList(List<Content> listContents, Content source) {\n-        listContents.add(HtmlTree.LI(source));\n-    }\n-\n@@ -495,0 +500,11 @@\n+    private void addThemeSwitcher(Content target) {\n+        var selectTheme = contents.getContent(\"doclet.theme.select_theme\");\n+        target.add(HtmlTree.LI(HtmlTree.BUTTON(HtmlIds.THEME_BUTTON)\n+                .add(HtmlTree.IMG(pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.SUN_SVG),\n+                        selectTheme.toString()).addStyle(HtmlIds.THEME_LIGHT.name()))\n+                .add(HtmlTree.IMG(pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.MOON_SVG),\n+                        selectTheme.toString()).addStyle(HtmlIds.THEME_DARK.name()))\n+                .put(HtmlAttr.ARIA_LABEL, selectTheme.toString())\n+                .put(HtmlAttr.TITLE, selectTheme.toString())));\n+    }\n+\n@@ -546,23 +562,0 @@\n-        var selectTheme = contents.getContent(\"doclet.theme.select_theme\");\n-        navContent.add(HtmlTree.BUTTON(HtmlIds.THEME_BUTTON)\n-                .add(HtmlTree.IMG(pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.SUN_SVG),\n-                        selectTheme.toString()).addStyle(HtmlIds.THEME_LIGHT.name()))\n-                .add(HtmlTree.IMG(pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.MOON_SVG),\n-                        selectTheme.toString()).addStyle(HtmlIds.THEME_DARK.name()))\n-                .add(HtmlTree.IMG(pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.SYSTEM_SVG),\n-                        selectTheme.toString()).addStyle(HtmlIds.THEME_OS.name()))\n-                .put(HtmlAttr.ARIA_LABEL, selectTheme.toString()));\n-        navContent.add(HtmlTree.DIV(HtmlIds.THEME_PANEL)\n-                .add(HtmlTree.DIV(selectTheme))\n-                .add(HtmlTree.DIV(HtmlTree.LABEL(HtmlIds.THEME_LIGHT.name(), Text.EMPTY)\n-                                .add(HtmlTree.INPUT(HtmlAttr.InputType.RADIO, HtmlIds.THEME_LIGHT)\n-                                        .put(HtmlAttr.NAME, \"theme\").put(HtmlAttr.VALUE, HtmlIds.THEME_LIGHT.name()))\n-                                .add(HtmlTree.SPAN(contents.getContent(\"doclet.theme.light\"))))\n-                        .add(HtmlTree.LABEL(HtmlIds.THEME_DARK.name(), Text.EMPTY)\n-                                .add(HtmlTree.INPUT(HtmlAttr.InputType.RADIO, HtmlIds.THEME_DARK)\n-                                        .put(HtmlAttr.NAME, \"theme\").put(HtmlAttr.VALUE, HtmlIds.THEME_DARK.name()))\n-                                .add(HtmlTree.SPAN(contents.getContent(\"doclet.theme.dark\"))))\n-                        .add(HtmlTree.LABEL(HtmlIds.THEME_OS.name(), Text.EMPTY)\n-                                .add(HtmlTree.INPUT(HtmlAttr.InputType.RADIO, HtmlIds.THEME_OS)\n-                                        .put(HtmlAttr.NAME, \"theme\").put(HtmlAttr.VALUE, HtmlIds.THEME_OS.name()))\n-                                .add(HtmlTree.SPAN(contents.getContent(\"doclet.theme.system\"))))));\n@@ -584,0 +577,16 @@\n+        var selectTheme = contents.getContent(\"doclet.theme.select_theme\");\n+        subNavContent.add(HtmlTree.DIV(HtmlIds.THEME_PANEL)\n+                .add(HtmlTree.DIV(selectTheme))\n+                .add(HtmlTree.DIV(HtmlTree.LABEL(HtmlIds.THEME_LIGHT.name(), Text.EMPTY)\n+                                .add(HtmlTree.INPUT(HtmlAttr.InputType.RADIO, HtmlIds.THEME_LIGHT)\n+                                        .put(HtmlAttr.NAME, \"theme\").put(HtmlAttr.VALUE, HtmlIds.THEME_LIGHT.name()))\n+                                .add(HtmlTree.SPAN(contents.getContent(\"doclet.theme.light\"))))\n+                        .add(HtmlTree.LABEL(HtmlIds.THEME_DARK.name(), Text.EMPTY)\n+                                .add(HtmlTree.INPUT(HtmlAttr.InputType.RADIO, HtmlIds.THEME_DARK)\n+                                        .put(HtmlAttr.NAME, \"theme\").put(HtmlAttr.VALUE, HtmlIds.THEME_DARK.name()))\n+                                .add(HtmlTree.SPAN(contents.getContent(\"doclet.theme.dark\"))))\n+                        .add(HtmlTree.LABEL(HtmlIds.THEME_OS.name(), Text.EMPTY)\n+                                .add(HtmlTree.INPUT(HtmlAttr.InputType.RADIO, HtmlIds.THEME_OS)\n+                                        .put(HtmlAttr.NAME, \"theme\").put(HtmlAttr.VALUE, HtmlIds.THEME_OS.name()))\n+                                .add(HtmlTree.SPAN(contents.getContent(\"doclet.theme.system\"))))));\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Navigation.java","additions":36,"deletions":27,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -331,1 +331,0 @@\n-    \/\/ Make sure current element is visible in breadcrumb navigation on small displays\n@@ -333,3 +332,0 @@\n-    if (subnav && subnav.lastElementChild) {\n-        subnav.lastElementChild.scrollIntoView({ behavior: \"instant\", inline: \"start\", block: \"nearest\" });\n-    }\n@@ -359,0 +355,1 @@\n+            let {x, y} = themeButton.getBoundingClientRect();\n@@ -360,0 +357,8 @@\n+            if (window.innerHeight - 85 < y) {\n+                themePanel.style.top = \"\";\n+                themePanel.style.bottom = \"4px\";\n+            } else {\n+                themePanel.style.top = y + (expanded ? 0 : 36) + \"px\";\n+                themePanel.style.bottom = \"\";\n+            }\n+            themePanel.style.left = x + (expanded ? 36 : 0) + \"px\";\n@@ -428,0 +433,1 @@\n+        closeThemePanel();\n@@ -442,0 +448,1 @@\n+        closeThemePanel();\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/script.js.template","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -358,1 +358,1 @@\n-    padding:0 15px;\n+    padding:0 20px 0 10px;\n@@ -410,4 +410,6 @@\n-    width: 34px;\n-    height: 34px;\n-    padding: 5px;\n-    margin-right: 4px;\n+    position: relative;\n+    top: -9.5px;\n+    width: 32px;\n+    height: 32px;\n+    padding: 6px;\n+    margin-left: -6px;\n@@ -425,0 +427,1 @@\n+    width: 18px;\n@@ -432,2 +435,9 @@\n-body.theme-os button#theme-button img.theme-os {\n-    display: inline;\n+@media (prefers-color-scheme: dark) {\n+    body.theme-os button#theme-button img.theme-dark {\n+        display: inline;\n+    }\n+}\n+@media (prefers-color-scheme: light) {\n+    body.theme-os button#theme-button img.theme-light {\n+        display: inline;\n+    }\n@@ -437,3 +447,1 @@\n-    position: absolute;\n-    top: calc(var(--top-nav-height) - 2px);\n-    right: 6px;\n+    position: fixed;\n@@ -446,2 +454,1 @@\n-    border-radius: 6px;\n-    border-top-right-radius: 0;\n+    border-radius: 4px;\n@@ -449,1 +456,0 @@\n-\n@@ -481,1 +487,0 @@\n-    overflow:hidden;\n@@ -483,1 +488,1 @@\n-    height: var(--sub-nav-height);\n+    min-height: var(--sub-nav-height);\n@@ -487,2 +492,1 @@\n-    line-height: 1.8;\n-    display: inline-flex;\n+    line-height: 1.7;\n@@ -490,3 +494,0 @@\n-    scroll-snap-type: x mandatory;\n-    scroll-padding-left: 13px;\n-    scrollbar-width: none;\n@@ -494,2 +495,2 @@\n-    white-space: nowrap;\n-    margin:0;\n+    margin: 4px 0;\n+    min-height: 28px;\n@@ -502,1 +503,3 @@\n-    scroll-snap-align: start;\n+    display: inline-block;\n+    padding: 2px 0;\n+    margin-right: -4px;\n@@ -530,1 +533,2 @@\n-    margin: 0 15px;\n+    margin: 4.5px 15px auto 5px;\n+    padding: 1px 0;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/stylesheet.css","additions":28,"deletions":24,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -1,21 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-\n-<!--\n- Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n- DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-\n- Licensed under the Universal Permissive License v 1.0 as shown at https:\/\/oss.oracle.com\/licenses\/upl\/\n--->\n-\n-<svg version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\">\n-    <g fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\">\n-        <path d=\"m61.366 25.644a24.947 24.947 0 0 1 26.043 12.071 24.947 24.947 0 0 1-2.5573 28.591 24.947 24.947 0 0 1-27.772 7.2578\" stroke-width=\"7.6\"\/>\n-        <path d=\"m40.641 73.342a24.947 24.947 0 0 1-15.448-23.973 24.947 24.947 0 0 1 17.134-22.799\" stroke-width=\"7.6\"\/>\n-        <path d=\"m50.882 5.5255v10.822\" stroke-width=\"7.533\"\/>\n-        <path d=\"m50.598 84.464v10.822\" stroke-width=\"7.533\"\/>\n-        <path d=\"m24.315 74.134-7.6524 7.6524\" stroke-width=\"7.533\"\/>\n-        <path d=\"m18.223 16.442c7.6524 7.6524 7.6524 7.6524 7.6524 7.6524\" stroke-width=\"7.533\"\/>\n-        <path d=\"m15.446 49.162h-10.822\" stroke-width=\"7.533\"\/>\n-        <path d=\"m61.431 26.277a34.305 34.305 0 0 1-4.4675 46.725\" stroke-width=\"7.6892\"\/>\n-    <\/g>\n-<\/svg>\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/system.svg","additions":0,"deletions":21,"binary":false,"changes":21,"status":"deleted"},{"patch":"@@ -124,3 +124,0 @@\n-    \/** The name of the sun icon for the theme set by system setting. *\/\n-    public static final DocPath SYSTEM_SVG = DocPath.create(\"system.svg\");\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8196027 8196202 8320458\n+ * @bug 8196027 8196202 8320458 8342705\n@@ -90,0 +90,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -101,0 +104,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -112,0 +118,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -123,0 +132,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -134,0 +146,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -145,0 +160,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -157,0 +175,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/..\/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/..\/resour\\\n+                    ce-files\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -169,0 +190,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/..\/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/..\/resour\\\n+                    ce-files\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testNavigation\/TestModuleNavigation.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+ *           8342705\n@@ -73,0 +74,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -84,0 +88,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -95,0 +102,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -106,0 +116,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -117,0 +130,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -342,0 +358,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -353,0 +372,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -364,0 +386,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -375,0 +400,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"..\\\n+                    \/resource-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"..\/resource-fil\\\n+                    es\/moon.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -414,0 +442,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n@@ -429,0 +460,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testNavigation\/TestNavigation.java","additions":34,"deletions":0,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -129,0 +129,3 @@\n+                    <li><button id=\"theme-button\" aria-label=\"Select Theme\" title=\"Select Theme\"><img src=\"re\\\n+                    source-files\/sun.svg\" alt=\"Select Theme\" class=\"theme-light\"><img src=\"resource-files\/moo\\\n+                    n.svg\" alt=\"Select Theme\" class=\"theme-dark\"><\/button><\/li>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSpecTag\/TestSpecTag.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -216,1 +216,0 @@\n-            \"resource-files\/system.svg\",\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/api\/basic\/APITest.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
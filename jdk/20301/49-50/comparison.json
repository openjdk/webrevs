{"files":[{"patch":"@@ -29,1 +29,1 @@\n- * @run main\/othervm -Djava.security.debug=provider,engine=kdf KDFDelayedProviderThreadingTest\n+ * @run testng\/othervm -Djava.security.debug=provider,engine=kdf KDFDelayedProviderThreadingTest\n@@ -34,0 +34,3 @@\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+\n@@ -47,1 +50,5 @@\n-    public static void main(String[] args) throws Exception {\n+\n+    KDF k;\n+\n+    @BeforeClass\n+    public void setUp() throws NoSuchAlgorithmException {\n@@ -49,1 +56,5 @@\n-        var k = KDF.getInstance(\"HKDF-SHA256\");\n+        k = KDF.getInstance(\"HKDF-SHA256\");\n+    }\n+\n+    @Test(threadPoolSize = 50, invocationCount = 1000000, timeOut = 150)\n+    public void testThreading() throws Exception {\n@@ -82,2 +93,3 @@\n-        protected SecretKey engineDeriveKey(String alg, AlgorithmParameterSpec derivationSpec)\n-                throws InvalidAlgorithmParameterException, NoSuchAlgorithmException {\n+        protected SecretKey engineDeriveKey(String alg,\n+                                            AlgorithmParameterSpec derivationSpec)\n+                throws InvalidAlgorithmParameterException {\n","filename":"test\/jdk\/javax\/crypto\/KDF\/KDFDelayedProviderThreadingTest.java","additions":17,"deletions":5,"binary":false,"changes":22,"status":"modified"}]}
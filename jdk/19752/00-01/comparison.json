{"files":[{"patch":"@@ -33,0 +33,25 @@\n+\/**\n+ * Without the code fix, this test would fail with\n+ * java.lang.AssertionError: sun.security.util.ResourcesMgr (PD)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl$BindCaller.checkInjectedInvoker(MethodHandleImpl.java:1209)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl$BindCaller.makeInjectedInvoker(MethodHandleImpl.java:1110)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl$BindCaller$1.computeValue(MethodHandleImpl.java:1117)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl$BindCaller$1.computeValue(MethodHandleImpl.java:1114)\n+ *         at java.base\/java.lang.ClassValue.getFromHashMap(ClassValue.java:229)\n+ *         at java.base\/java.lang.ClassValue.getFromBackup(ClassValue.java:211)\n+ *         at java.base\/java.lang.ClassValue.get(ClassValue.java:117)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl$BindCaller.bindCallerWithInjectedInvoker(MethodHandleImpl.java:1089)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl$BindCaller.bindCaller(MethodHandleImpl.java:1077)\n+ *         at java.base\/java.lang.invoke.MethodHandleImpl.bindCaller(MethodHandleImpl.java:1032)\n+ *         at java.base\/java.lang.invoke.MethodHandles$Lookup.maybeBindCaller(MethodHandles.java:4149)\n+ *         at java.base\/java.lang.invoke.MethodHandles$Lookup.getDirectMethodCommon(MethodHandles.java:4133)\n+ *         at java.base\/java.lang.invoke.MethodHandles$Lookup.getDirectMethodNoSecurityManager(MethodHandles.java:4077)\n+ *         at java.base\/java.lang.invoke.MethodHandles$Lookup.getDirectMethodForConstant(MethodHandles.java:4326)\n+ *         at java.base\/java.lang.invoke.MethodHandles$Lookup.linkMethodHandleConstant(MethodHandles.java:4274)\n+ *         at java.base\/java.lang.invoke.MethodHandleNatives.linkMethodHandleConstant(MethodHandleNatives.java:628)\n+ *         at java.base\/sun.security.util.ResourcesMgr.getBundle(ResourcesMgr.java:54)\n+ *         at java.base\/sun.security.util.ResourcesMgr.getString(ResourcesMgr.java:40)\n+ *         at java.base\/javax.security.auth.Subject.doAs(Subject.java:517)\n+ *         ...\n+ * as the Class::protectionDomain might assign different objects to the (original) allPermDomain field.\n+ *\/\n","filename":"test\/jdk\/java\/lang\/Class\/ProtectionDomainRace.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}
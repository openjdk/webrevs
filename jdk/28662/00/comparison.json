{"files":[{"patch":"@@ -3365,1 +3365,13 @@\n-        try (BufferedWriter writer = Files.newBufferedWriter(toPathResolvingUserHome(filename),\n+        \/\/ Create missing parent directories before writing to target file\n+        Path target;\n+        try {\n+            target = toPathResolvingUserHome(filename);\n+            Path parent = target.getParent();\n+            if (parent != null) {\n+                Files.createDirectories(parent);\n+            }\n+        } catch (Exception e) {\n+            errormsg(\"jshell.err.file.exception\", \"\/save\", filename, e);\n+            return false;\n+        }\n+        try (BufferedWriter writer = Files.newBufferedWriter(target,\n","filename":"src\/jdk.jshell\/share\/classes\/jdk\/internal\/jshell\/tool\/JShellTool.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -588,0 +588,1 @@\n+            Path pathWithDirectories = compiler.getPath(\"what\/ever\/testSave.repl\");\n@@ -596,1 +597,2 @@\n-                    (a) -> assertCommand(a, \"\/save \" + path.toString(), \"\")\n+                    (a) -> assertCommand(a, \"\/save \" + path.toString(), \"\"),\n+                    (a) -> assertCommand(a, \"\/save \" + pathWithDirectories.toString(), \"\")\n@@ -599,0 +601,1 @@\n+            assertEquals(list, Files.readAllLines(pathWithDirectories));\n","filename":"test\/langtools\/jdk\/jshell\/ToolBasicTest.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
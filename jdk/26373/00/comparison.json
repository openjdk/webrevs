{"files":[{"patch":"@@ -35,0 +35,2 @@\n+import sun.java2d.Disposer;\n+import sun.java2d.DisposerRecord;\n@@ -101,0 +103,1 @@\n+    private final Object disposerReferent = new Object();\n@@ -197,0 +200,1 @@\n+            Disposer.addRecord(disposerReferent, new CFontDisposerRecord(nativeFontPtr));\n@@ -259,4 +263,9 @@\n-    @Override\n-    @SuppressWarnings(\"removal\")\n-    protected synchronized void finalize() {\n-        if (nativeFontPtr != 0) {\n+    private static class CFontDisposerRecord implements DisposerRecord {\n+\n+        private final long nativeFontPtr;\n+\n+        CFontDisposerRecord(long ptr) {\n+            nativeFontPtr = ptr;\n+        }\n+\n+        public void dispose() {\n@@ -265,1 +274,0 @@\n-        nativeFontPtr = 0;\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CFont.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -772,0 +772,7 @@\n+    @ForceInline\n+    static String newStringLatin1NoRepl(byte[] src) {\n+        if (COMPACT_STRINGS)\n+            return new String(src, LATIN1);\n+        return new String(StringLatin1.inflate(src, 0, src.length), UTF16);\n+    }\n+\n@@ -795,3 +802,1 @@\n-            if (COMPACT_STRINGS)\n-                return new String(src, LATIN1);\n-            return new String(StringLatin1.inflate(src, 0, src.length), UTF16);\n+            return newStringLatin1NoRepl(src);\n@@ -801,3 +806,1 @@\n-                if (COMPACT_STRINGS)\n-                    return new String(src, LATIN1);\n-                return new String(StringLatin1.inflate(src, 0, src.length), UTF16);\n+                return newStringLatin1NoRepl(src);\n@@ -814,3 +817,1 @@\n-            if (COMPACT_STRINGS)\n-                return new String(src, LATIN1);\n-            return new String(src, 0, src.length, ISO_8859_1.INSTANCE);\n+            return newStringLatin1NoRepl(src);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/String.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2486,0 +2486,4 @@\n+            public String newStringLatin1NoRepl(byte[] bytes) {\n+                return String.newStringLatin1NoRepl(bytes);\n+            }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,2 +35,0 @@\n-import java.nio.charset.CharacterCodingException;\n-import java.nio.charset.StandardCharsets;\n@@ -142,1 +140,1 @@\n-    private static final JavaLangAccess jla = SharedSecrets.getJavaLangAccess();\n+    private static final JavaLangAccess JLA = SharedSecrets.getJavaLangAccess();\n@@ -468,6 +466,3 @@\n-        try {\n-            \/\/ Return a new string using the bytes without making a copy\n-            return jla.newStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+\n+        \/\/ Return a new string using the bytes without making a copy\n+        return JLA.newStringLatin1NoRepl(rep);\n@@ -703,5 +698,1 @@\n-        try {\n-            return jla.newStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return JLA.newStringLatin1NoRepl(rep);\n@@ -738,6 +729,1 @@\n-\n-        try {\n-            return jla.newStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return JLA.newStringLatin1NoRepl(rep);\n@@ -766,6 +752,1 @@\n-\n-        try {\n-            return jla.newStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return JLA.newStringLatin1NoRepl(rep);\n@@ -802,6 +783,1 @@\n-\n-        try {\n-            return jla.newStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return JLA.newStringLatin1NoRepl(rep);\n@@ -831,5 +807,1 @@\n-        try {\n-            return jla.newStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return JLA.newStringLatin1NoRepl(rep);\n","filename":"src\/java.base\/share\/classes\/java\/util\/HexFormat.java","additions":10,"deletions":38,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -28,2 +28,0 @@\n-import java.nio.charset.CharacterCodingException;\n-import java.nio.charset.StandardCharsets;\n@@ -101,1 +99,1 @@\n-    private static final JavaLangAccess jla = SharedSecrets.getJavaLangAccess();\n+    private static final JavaLangAccess JLA = SharedSecrets.getJavaLangAccess();\n@@ -502,5 +500,1 @@\n-        try {\n-            return jla.newStringNoRepl(buf, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return JLA.newStringLatin1NoRepl(buf);\n","filename":"src\/java.base\/share\/classes\/java\/util\/UUID.java","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -336,0 +336,11 @@\n+    \/**\n+     * Constructs a new {@code String} from the given Latin-1 bytes array.\n+     *\n+     * This byte array should not be modified after calling this method since\n+     * it may not make a copy.\n+     *\n+     * @param bytes the byte array source\n+     * @return the newly created string\n+     *\/\n+    String newStringLatin1NoRepl(byte[] bytes);\n+\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"}]}
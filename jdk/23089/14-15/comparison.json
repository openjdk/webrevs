{"files":[{"patch":"@@ -25,0 +25,2 @@\n+#include <functional>\n+\n@@ -73,1 +75,1 @@\n-void test_exhaustive_values_with_bounds_in_range(S lo, S hi){\n+void test_in_ranges(S lo, S hi, std::function<void(S, S)> f){\n@@ -76,10 +78,1 @@\n-      test_exhaustive_values(hi_0, hi_1);\n-    }\n-  }\n-}\n-\n-template <class S>\n-void test_sample_values_with_bounds_in_range(S lo, S hi){\n-  for(S hi_0 = lo; hi_0 <= hi; hi_0++){\n-    for(S hi_1 = hi_0; hi_1 <=hi; hi_1++){\n-      test_sample_values(hi_0, hi_1);\n+      f(hi_0, hi_1);\n@@ -91,0 +84,2 @@\n+  auto sample_values = [](auto a, auto b) { return test_sample_values(a, b); };\n+  auto exhaustive_values = [](auto a, auto b) { return test_exhaustive_values(a, b); };\n@@ -95,2 +90,0 @@\n-  test_exhaustive_values_with_bounds_in_range<jint>(0, 15);\n-  test_exhaustive_values_with_bounds_in_range<jlong>(0, 15);\n@@ -98,2 +91,5 @@\n-  test_sample_values_with_bounds_in_range<jint>(maxjint-1, maxjint);\n-  test_sample_values_with_bounds_in_range<jlong>(maxjlong-1, maxjlong);\n+  test_in_ranges<jint>(0, 15, exhaustive_values);\n+  test_in_ranges<jlong>(0, 15, exhaustive_values);\n+\n+  test_in_ranges<jint>(maxjint-1, maxjint, sample_values);\n+  test_in_ranges<jlong>(maxjlong-1, maxjlong, sample_values);\n@@ -101,2 +97,2 @@\n-  test_sample_values_with_bounds_in_range<jint>((1 << 30) - 1, 1 << 30);\n-  test_sample_values_with_bounds_in_range<jlong>((1L << 62) - 1, 1L << 62);\n+  test_in_ranges<jint>((1 << 30) - 1, 1 << 30, sample_values);\n+  test_in_ranges<jlong>((1L << 62) - 1, 1L << 62, sample_values);\n","filename":"test\/hotspot\/gtest\/opto\/test_xor_node.cpp","additions":13,"deletions":17,"binary":false,"changes":30,"status":"modified"}]}
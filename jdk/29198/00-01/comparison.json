{"files":[{"patch":"@@ -85,0 +85,9 @@\n+    \/\/ Open the file specified by r, and set its handle in stdHandles[i]\n+    private static FileOutputStream setFileOutput(Redirect r, long[] stdHandles, int i)\n+        throws IOException\n+    {\n+        FileOutputStream f = newFileOutputStream(r.file(), r.append());\n+        stdHandles[i] = fdAccess.getHandle(f.getFD());\n+        return f;\n+    }\n+\n@@ -118,1 +127,0 @@\n-                Redirect file1 = null;\n@@ -125,1 +133,1 @@\n-                        file1 = Redirect.DISCARD;\n+                        f1 = setFileOutput(Redirect.DISCARD, stdHandles, 1);\n@@ -133,6 +141,1 @@\n-                    file1 = redirects[1];\n-                }\n-                if (file1 != null) {\n-                    f1 = newFileOutputStream(file1.file(),\n-                                             file1.append());\n-                    stdHandles[1] = fdAccess.getHandle(f1.getFD());\n+                    f1 = setFileOutput(redirects[1], stdHandles, 1);\n@@ -141,1 +144,0 @@\n-                Redirect file2 = null;\n@@ -148,1 +150,1 @@\n-                        file2 = Redirect.DISCARD;\n+                        f2 = setFileOutput(Redirect.DISCARD, stdHandles, 2);\n@@ -153,6 +155,1 @@\n-                    file2 = redirects[2];\n-                }\n-                if (file2 != null) {\n-                    f2 = newFileOutputStream(file2.file(),\n-                                             file2.append());\n-                    stdHandles[2] = fdAccess.getHandle(f2.getFD());\n+                    f2 = setFileOutput(redirects[2], stdHandles, 2);\n","filename":"src\/java.base\/windows\/classes\/java\/lang\/ProcessImpl.java","additions":13,"deletions":16,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -33,4 +33,1 @@\n-import java.io.BufferedReader;\n-import java.io.File;\n-import java.io.IOException;\n-import java.io.InputStreamReader;\n+import java.nio.file.Path;\n@@ -39,3 +36,2 @@\n-    private static String JAVA_EXE = System.getProperty(\"java.home\")\n-            + File.separator + \"bin\"\n-            + File.separator + \"java\";\n+    private final static Path JAVA_EXE =\n+            Path.of(System.getProperty(\"java.home\"), \"bin\", \"java\");\n@@ -43,10 +39,1 @@\n-    private static String s = \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\" +\n-                              \"1234567890\";\n+    private static final String s = \"1234567890\".repeat(10);\n@@ -65,1 +52,1 @@\n-                .command(JAVA_EXE,\n+                .command(JAVA_EXE.toString(),\n","filename":"test\/jdk\/java\/lang\/ProcessBuilder\/InheritIOClosed.java","additions":5,"deletions":18,"binary":false,"changes":23,"status":"modified"}]}
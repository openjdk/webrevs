{"files":[{"patch":"@@ -688,6 +688,6 @@\n-instruct vand_vi(vReg dst_src, immI5 con) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n-  match(Set dst_src (AndV dst_src (Replicate con)));\n-  format %{ \"vand_vi $dst_src, $dst_src, $con\" %}\n+instruct vand_vi(vReg dst, vReg src1, immI5 con) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (AndV src1 (Replicate con)));\n+  format %{ \"vand_vi $dst, $src1, $con\" %}\n@@ -697,2 +697,2 @@\n-    __ vand_vi(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n+    __ vand_vi(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n@@ -704,1 +704,1 @@\n-instruct vandL_vi(vReg dst_src, immL5 con) %{\n+instruct vandL_vi(vReg dst, vReg src1, immL5 con) %{\n@@ -706,2 +706,2 @@\n-  match(Set dst_src (AndV dst_src (Replicate con)));\n-  format %{ \"vandL_vi $dst_src, $dst_src, $con\" %}\n+  match(Set dst (AndV src1 (Replicate con)));\n+  format %{ \"vandL_vi $dst, $src1, $con\" %}\n@@ -710,2 +710,2 @@\n-    __ vand_vi(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n+    __ vand_vi(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n@@ -719,6 +719,6 @@\n-instruct vand_vx(vReg dst_src, iRegIorL2I src) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n-  match(Set dst_src (AndV dst_src (Replicate src)));\n-  format %{ \"vand_vx $dst_src, $dst_src, $src\" %}\n+instruct vand_vx(vReg dst, vReg src1, iRegIorL2I src2) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (AndV src1 (Replicate src2)));\n+  format %{ \"vand_vx $dst, $src1, $src2\" %}\n@@ -728,3 +728,3 @@\n-    __ vand_vx(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n-               as_Register($src$$reg));\n+    __ vand_vx(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n+               as_Register($src2$$reg));\n@@ -735,1 +735,1 @@\n-instruct vandL_vx(vReg dst_src, iRegL src) %{\n+instruct vandL_vx(vReg dst, vReg src1, iRegL src2) %{\n@@ -737,2 +737,2 @@\n-  match(Set dst_src (AndV dst_src (Replicate src)));\n-  format %{ \"vandL_vx $dst_src, $dst_src, $src\" %}\n+  match(Set dst (AndV src1 (Replicate src2)));\n+  format %{ \"vandL_vx $dst, $src1, $src2\" %}\n@@ -741,3 +741,3 @@\n-    __ vand_vx(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n-               as_Register($src$$reg));\n+    __ vand_vx(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n+               as_Register($src2$$reg));\n@@ -751,3 +751,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -782,3 +782,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -844,6 +844,6 @@\n-instruct vor_vi(vReg dst_src, immI5 con) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n-  match(Set dst_src (OrV dst_src (Replicate con)));\n-  format %{ \"vor_vi $dst_src, $dst_src, $con\" %}\n+instruct vor_vi(vReg dst, vReg src1, immI5 con) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (OrV src1 (Replicate con)));\n+  format %{ \"vor_vi $dst, $src1, $con\" %}\n@@ -853,2 +853,2 @@\n-    __ vor_vi(as_VectorRegister($dst_src$$reg),\n-              as_VectorRegister($dst_src$$reg),\n+    __ vor_vi(as_VectorRegister($dst$$reg),\n+              as_VectorRegister($src1$$reg),\n@@ -860,1 +860,1 @@\n-instruct vorL_vi(vReg dst_src, immL5 con) %{\n+instruct vorL_vi(vReg dst, vReg src1, immL5 con) %{\n@@ -862,2 +862,2 @@\n-  match(Set dst_src (OrV dst_src (Replicate con)));\n-  format %{ \"vorL_vi $dst_src, $dst_src, $con\" %}\n+  match(Set dst (OrV src1 (Replicate con)));\n+  format %{ \"vorL_vi $dst, $src1, $con\" %}\n@@ -866,2 +866,2 @@\n-    __ vor_vi(as_VectorRegister($dst_src$$reg),\n-              as_VectorRegister($dst_src$$reg),\n+    __ vor_vi(as_VectorRegister($dst$$reg),\n+              as_VectorRegister($src1$$reg),\n@@ -875,6 +875,6 @@\n-instruct vor_vx(vReg dst_src, iRegIorL2I src) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n-  match(Set dst_src (OrV dst_src (Replicate src)));\n-  format %{ \"vor_vx $dst_src, $dst_src, $src\" %}\n+instruct vor_vx(vReg dst, vReg src1, iRegIorL2I src2) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (OrV src1 (Replicate src2)));\n+  format %{ \"vor_vx $dst, $src1, $src2\" %}\n@@ -884,3 +884,3 @@\n-    __ vor_vx(as_VectorRegister($dst_src$$reg),\n-              as_VectorRegister($dst_src$$reg),\n-              as_Register($src$$reg));\n+    __ vor_vx(as_VectorRegister($dst$$reg),\n+              as_VectorRegister($src1$$reg),\n+              as_Register($src2$$reg));\n@@ -891,1 +891,1 @@\n-instruct vorL_vx(vReg dst_src, iRegL src) %{\n+instruct vorL_vx(vReg dst, vReg src1, iRegL src2) %{\n@@ -893,2 +893,2 @@\n-  match(Set dst_src (OrV dst_src (Replicate src)));\n-  format %{ \"vorL_vx $dst_src, $dst_src, $src\" %}\n+  match(Set dst (OrV src1 (Replicate src2)));\n+  format %{ \"vorL_vx $dst, $src1, $src2\" %}\n@@ -897,3 +897,3 @@\n-    __ vor_vx(as_VectorRegister($dst_src$$reg),\n-              as_VectorRegister($dst_src$$reg),\n-              as_Register($src$$reg));\n+    __ vor_vx(as_VectorRegister($dst$$reg),\n+              as_VectorRegister($src1$$reg),\n+              as_Register($src2$$reg));\n@@ -907,3 +907,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -938,3 +938,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -1000,6 +1000,6 @@\n-instruct vxor_vi(vReg dst_src, immI5 con) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n-  match(Set dst_src (XorV dst_src (Replicate con)));\n-  format %{ \"vxor_vi $dst_src, $dst_src, $con\" %}\n+instruct vxor_vi(vReg dst, vReg src1, immI5 con) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (XorV src1 (Replicate con)));\n+  format %{ \"vxor_vi $dst, $src1, $con\" %}\n@@ -1009,2 +1009,2 @@\n-    __ vxor_vi(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n+    __ vxor_vi(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n@@ -1016,1 +1016,1 @@\n-instruct vxorL_vi(vReg dst_src, immL5 con) %{\n+instruct vxorL_vi(vReg dst, vReg src1, immL5 con) %{\n@@ -1018,2 +1018,2 @@\n-  match(Set dst_src (XorV dst_src (Replicate con)));\n-  format %{ \"vxorL_vi $dst_src, $dst_src, $con\" %}\n+  match(Set dst (XorV src1 (Replicate con)));\n+  format %{ \"vxorL_vi $dst, $src1, $con\" %}\n@@ -1022,2 +1022,2 @@\n-    __ vxor_vi(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n+    __ vxor_vi(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n@@ -1031,6 +1031,6 @@\n-instruct vxor_vx(vReg dst_src, iRegIorL2I src) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n-  match(Set dst_src (XorV dst_src (Replicate src)));\n-  format %{ \"vxor_vx $dst_src, $dst_src, $src\" %}\n+instruct vxor_vx(vReg dst, vReg src1, iRegIorL2I src2) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (XorV src1 (Replicate src2)));\n+  format %{ \"vxor_vx $dst, $src1, $src2\" %}\n@@ -1040,3 +1040,3 @@\n-    __ vxor_vx(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n-               as_Register($src$$reg));\n+    __ vxor_vx(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n+               as_Register($src2$$reg));\n@@ -1047,1 +1047,1 @@\n-instruct vxorL_vx(vReg dst_src, iRegL src) %{\n+instruct vxorL_vx(vReg dst, vReg src1, iRegL src2) %{\n@@ -1049,2 +1049,2 @@\n-  match(Set dst_src (XorV dst_src (Replicate src)));\n-  format %{ \"vxorL_vx $dst_src, $dst_src, $src\" %}\n+  match(Set dst (XorV src1 (Replicate src2)));\n+  format %{ \"vxorL_vx $dst, $src1, $src2\" %}\n@@ -1053,3 +1053,3 @@\n-    __ vxor_vx(as_VectorRegister($dst_src$$reg),\n-               as_VectorRegister($dst_src$$reg),\n-               as_Register($src$$reg));\n+    __ vxor_vx(as_VectorRegister($dst$$reg),\n+               as_VectorRegister($src1$$reg),\n+               as_Register($src2$$reg));\n@@ -1063,3 +1063,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -1094,3 +1094,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -1255,3 +1255,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -1286,3 +1286,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n@@ -4306,2 +4306,2 @@\n-  predicate((Matcher::vector_element_basic_type(n) == T_INT ||\n-             Matcher::vector_element_basic_type(n) == T_LONG));\n+  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n+            Matcher::vector_element_basic_type(n) == T_LONG);\n@@ -4320,2 +4320,2 @@\n-  predicate((Matcher::vector_element_basic_type(n) == T_FLOAT ||\n-             Matcher::vector_element_basic_type(n) == T_DOUBLE));\n+  predicate(Matcher::vector_element_basic_type(n) == T_FLOAT ||\n+            Matcher::vector_element_basic_type(n) == T_DOUBLE);\n@@ -4418,3 +4418,3 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_BYTE ||\n-            Matcher::vector_element_basic_type(n) == T_SHORT);\n+  predicate(Matcher::vector_element_basic_type(n) == T_BYTE ||\n+            Matcher::vector_element_basic_type(n) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n) == T_INT);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv_v.ad","additions":115,"deletions":115,"binary":false,"changes":230,"status":"modified"}]}
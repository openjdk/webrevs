{"files":[{"patch":"@@ -192,0 +192,4 @@\n+  const size_t remaining_bytes = virtual_space()->uncommitted_size();\n+  if (remaining_bytes == 0) {\n+    return false;\n+  }\n@@ -193,1 +197,1 @@\n-  size_t aligned_bytes = can_align_up(bytes, alignment) ? align_up(bytes, alignment) : 0;\n+  size_t aligned_bytes = align_up(MIN2(bytes, remaining_bytes), alignment);\n@@ -201,7 +205,0 @@\n-  if (aligned_bytes == 0) {\n-    \/\/ The alignment caused the number of bytes to wrap.  A call to expand\n-    \/\/ implies a best effort to expand by \"bytes\" but not a guarantee.  Align\n-    \/\/ down to give a best effort.  This is likely the most that the generation\n-    \/\/ can expand since it has some capacity to start with.\n-    aligned_bytes = align_down(bytes, alignment);\n-  }\n","filename":"src\/hotspot\/share\/gc\/parallel\/psOldGen.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"}]}
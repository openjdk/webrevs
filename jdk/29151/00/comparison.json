{"files":[{"patch":"@@ -67,1 +67,1 @@\n-            this(Main::loadBundlingEnvironment);\n+            this(DefaultBundlingEnvironmentLoader.INSTANCE);\n@@ -107,1 +107,1 @@\n-        return run(Main::loadBundlingEnvironment, out, err, args);\n+        return run(DefaultBundlingEnvironmentLoader.INSTANCE, out, err, args);\n@@ -313,4 +313,9 @@\n-    private static CliBundlingEnvironment loadBundlingEnvironment() {\n-        return ServiceLoader.load(\n-                CliBundlingEnvironment.class,\n-                CliBundlingEnvironment.class.getClassLoader()).findFirst().orElseThrow();\n+    private enum DefaultBundlingEnvironmentLoader implements Supplier<CliBundlingEnvironment> {\n+        INSTANCE;\n+\n+        @Override\n+        public CliBundlingEnvironment get() {\n+            return ServiceLoader.load(\n+                    CliBundlingEnvironment.class,\n+                    CliBundlingEnvironment.class.getClassLoader()).findFirst().orElseThrow();\n+        }\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/cli\/Main.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"}]}
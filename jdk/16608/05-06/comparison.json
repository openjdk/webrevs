{"files":[{"patch":"@@ -16473,1 +16473,1 @@\n-instruct cmpFastLockLightweight(rFlagsReg cr, iRegP object, iRegP box, iRegPNoSp tmp, iRegPNoSp tmp2, iRegPNoSp tmp3)\n+instruct cmpFastLockLightweight(rFlagsReg cr, iRegP object, iRegP box, iRegPNoSp tmp, iRegPNoSp tmp2)\n@@ -16477,1 +16477,1 @@\n-  effect(TEMP tmp, TEMP tmp2, TEMP tmp3);\n+  effect(TEMP tmp, TEMP tmp2);\n@@ -16480,1 +16480,1 @@\n-  format %{ \"fastlock $object,$box\\t! kills $tmp,$tmp2,$tmp3\" %}\n+  format %{ \"fastlock $object,$box\\t! kills $tmp,$tmp2\" %}\n@@ -16483,1 +16483,1 @@\n-    __ fast_lock_lightweight($object$$Register, $box$$Register, $tmp$$Register, $tmp2$$Register, $tmp3$$Register);\n+    __ fast_lock_lightweight($object$$Register, $box$$Register, $tmp$$Register, $tmp2$$Register);\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64.ad","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -227,1 +227,1 @@\n-void C2_MacroAssembler::fast_lock_lightweight(Register obj, Register box, Register t1,\n+void C2_MacroAssembler::fast_lock_lightweight(Register obj, Register t1,\n@@ -230,2 +230,1 @@\n-  \/\/ TODO: Current implementation does not use the box, consider removing.\n-  assert_different_registers(obj, box, t1, t2, t3);\n+  assert_different_registers(obj, t1, t2, t3);\n@@ -336,2 +335,2 @@\n-void C2_MacroAssembler::fast_unlock_lightweight(Register obj, Register box, Register t1,\n-                                                Register t2) {\n+void C2_MacroAssembler::fast_unlock_lightweight(Register obj, Register t1, Register t2,\n+                                                Register t3) {\n@@ -339,2 +338,1 @@\n-  \/\/ TODO: Current implementation uses box only as a TEMP, consider renaming.\n-  assert_different_registers(obj, box, t1, t2);\n+  assert_different_registers(obj, t1, t2, t3);\n@@ -349,3 +347,3 @@\n-  const Register mark = box;\n-  const Register top = t1;\n-  const Register t = t2;\n+  const Register mark = t1;\n+  const Register top = t2;\n+  const Register t = t3;\n@@ -426,1 +424,1 @@\n-    const Register recursions = t1;\n+    const Register recursions = t2;\n@@ -443,1 +441,1 @@\n-    const Register owner_addr = t1;\n+    const Register owner_addr = t2;\n","filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -42,2 +42,2 @@\n-  void fast_lock_lightweight(Register object, Register box, Register t1, Register t2, Register t3);\n-  void fast_unlock_lightweight(Register object, Register box, Register t1, Register t2);\n+  void fast_lock_lightweight(Register object, Register t1, Register t2, Register t3);\n+  void fast_unlock_lightweight(Register object, Register t1, Register t2, Register t3);\n","filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
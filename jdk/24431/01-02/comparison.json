{"files":[{"patch":"@@ -13768,1 +13768,1 @@\n-                           InstructionAttr *attributes, bool no_flags, bool use_prefixq, bool demote) {\n+                           InstructionAttr *attributes, bool no_flags, bool use_prefixq) {\n@@ -13770,1 +13770,1 @@\n-  if (demote && is_demotable(no_flags, dst_enc, nds_enc)) {\n+  if (is_demotable(no_flags, dst_enc, nds_enc)) {\n@@ -13778,1 +13778,1 @@\n-                           InstructionAttr *attributes, bool no_flags, bool use_prefixq, bool demote) {\n+                           InstructionAttr *attributes, bool no_flags, bool use_prefixq) {\n@@ -13780,1 +13780,1 @@\n-  if (demote && is_demotable(no_flags, dst_enc, nds_enc)) {\n+  if (is_demotable(no_flags, dst_enc, nds_enc)) {\n@@ -13787,0 +13787,6 @@\n+int Assembler::evex_prefix_and_encode_ndd(int dst_enc, VexSimdPrefix pre, VexOpcode opc,\n+                           InstructionAttr *attributes, bool no_flags) {\n+  attributes->set_is_evex_instruction();\n+  return vex_prefix_and_encode(0, 0, dst_enc, pre, opc, attributes, \/* src_is_gpr *\/ true, \/* nds_is_ndd *\/ true, no_flags);\n+}\n+\n@@ -17181,1 +17187,1 @@\n-  int encode =  evex_prefix_and_encode_ndd(0, 0, dst->encoding(), VEX_SIMD_F2, \/* MAP4 *\/VEX_OPCODE_0F_3C, &attributes, false, false, false); \/\/ demotion disabled\n+  int encode =  evex_prefix_and_encode_ndd(dst->encoding(), VEX_SIMD_F2, \/* MAP4 *\/VEX_OPCODE_0F_3C, &attributes); \/\/ demotion disabled\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -811,1 +811,1 @@\n-                                  InstructionAttr *attributes, bool no_flags = false, bool use_prefixq = false, bool demote = true);\n+                                  InstructionAttr *attributes, bool no_flags = false, bool use_prefixq = false);\n@@ -814,1 +814,4 @@\n-                                  InstructionAttr *attributes, bool no_flags = false, bool use_prefixq = false, bool demote = true);\n+                                  InstructionAttr *attributes, bool no_flags = false, bool use_prefixq = false);\n+\n+  int  evex_prefix_and_encode_ndd(int dst_enc, VexSimdPrefix pre, VexOpcode opc,\n+                                  InstructionAttr *attributes, bool no_flags = false);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}
{"files":[{"patch":"@@ -6809,1 +6809,1 @@\n-  evex_opcode_prefix_and_encode(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_32bit, 0xA4, no_flags, true \/* is_map1 *\/);\n+  emit_eevex_or_demote(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_32bit, 0x24, no_flags, true \/* is_map1 *\/);\n@@ -6827,1 +6827,1 @@\n-  evex_opcode_prefix_and_encode(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_32bit, 0xAC, no_flags, true \/* is_map1 *\/);\n+  emit_eevex_or_demote(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_32bit, 0x2C, no_flags, true \/* is_map1 *\/);\n@@ -6836,1 +6836,1 @@\n-  evex_opcode_prefix_and_encode(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_64bit, 0xA4, no_flags, true \/* is_map1 *\/);\n+  emit_eevex_or_demote(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_64bit, 0x24, no_flags, true \/* is_map1 *\/);\n@@ -6845,1 +6845,1 @@\n-  evex_opcode_prefix_and_encode(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_64bit, 0xAC, no_flags, true \/* is_map1 *\/);\n+  emit_eevex_or_demote(dst->encoding(), src1->encoding(), src2->encoding(), imm8, VEX_SIMD_NONE, VEX_OPCODE_0F_3C \/* MAP4 *\/, EVEX_64bit, 0x2C, no_flags, true \/* is_map1 *\/);\n@@ -12942,2 +12942,2 @@\n-void Assembler::evex_opcode_prefix_and_encode(int dst_enc, int nds_enc, int src_enc, int8_t imm8, VexSimdPrefix pre, VexOpcode opc,\n-                                              int size, int byte1, bool no_flags, bool is_map1) {\n+void Assembler::emit_eevex_or_demote(int dst_enc, int nds_enc, int src_enc, int8_t imm8, VexSimdPrefix pre, VexOpcode opc,\n+                                     int size, int byte1, bool no_flags, bool is_map1) {\n@@ -12947,1 +12947,1 @@\n-    emit_opcode_prefix_and_encoding((unsigned char)byte1, 0xC0, encode, imm8);\n+    emit_opcode_prefix_and_encoding((unsigned char)(byte1 | 0x80), 0xC0, encode, imm8);\n@@ -12952,1 +12952,1 @@\n-    emit_int24(byte1 & ~0x80, (0xC0 | encode), imm8);\n+    emit_int24(byte1, (0xC0 | encode), imm8);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -809,2 +809,2 @@\n-  void evex_opcode_prefix_and_encode(int dst_enc, int nds_enc, int src_enc, int8_t imm8, VexSimdPrefix pre, VexOpcode opc,\n-                                     int size, int byte1, bool no_flags, bool is_map1 = false);\n+  void emit_eevex_or_demote(int dst_enc, int nds_enc, int src_enc, int8_t imm8, VexSimdPrefix pre, VexOpcode opc,\n+                            int size, int byte1, bool no_flags, bool is_map1 = false);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -70,0 +70,3 @@\n+\/\/ These functions needs to be exported on Windows only\n+#define DEBUGEXPORT WINDOWS_ONLY(JNIEXPORT)\n+\n@@ -306,1 +309,1 @@\n-extern \"C\" JNIEXPORT void blob(CodeBlob* cb) {\n+extern \"C\" DEBUGEXPORT void blob(CodeBlob* cb) {\n@@ -312,1 +315,1 @@\n-extern \"C\" JNIEXPORT void dump_vtable(address p) {\n+extern \"C\" DEBUGEXPORT void dump_vtable(address p) {\n@@ -319,1 +322,1 @@\n-extern \"C\" JNIEXPORT void nm(intptr_t p) {\n+extern \"C\" DEBUGEXPORT void nm(intptr_t p) {\n@@ -331,1 +334,1 @@\n-extern \"C\" JNIEXPORT void disnm(intptr_t p) {\n+extern \"C\" DEBUGEXPORT void disnm(intptr_t p) {\n@@ -346,1 +349,1 @@\n-extern \"C\" JNIEXPORT void printnm(intptr_t p) {\n+extern \"C\" DEBUGEXPORT void printnm(intptr_t p) {\n@@ -360,1 +363,1 @@\n-extern \"C\" JNIEXPORT void universe() {\n+extern \"C\" DEBUGEXPORT void universe() {\n@@ -366,1 +369,1 @@\n-extern \"C\" JNIEXPORT void verify() {\n+extern \"C\" DEBUGEXPORT void verify() {\n@@ -383,1 +386,1 @@\n-extern \"C\" JNIEXPORT void pp(void* p) {\n+extern \"C\" DEBUGEXPORT void pp(void* p) {\n@@ -408,1 +411,1 @@\n-extern \"C\" JNIEXPORT void findpc(intptr_t x);\n+extern \"C\" DEBUGEXPORT void findpc(intptr_t x);\n@@ -410,1 +413,1 @@\n-extern \"C\" JNIEXPORT void ps() { \/\/ print stack\n+extern \"C\" DEBUGEXPORT void ps() { \/\/ print stack\n@@ -439,1 +442,1 @@\n-extern \"C\" JNIEXPORT void pfl() {\n+extern \"C\" DEBUGEXPORT void pfl() {\n@@ -451,1 +454,1 @@\n-extern \"C\" JNIEXPORT void psf() { \/\/ print stack frames\n+extern \"C\" DEBUGEXPORT void psf() { \/\/ print stack frames\n@@ -465,1 +468,1 @@\n-extern \"C\" JNIEXPORT void threads() {\n+extern \"C\" DEBUGEXPORT void threads() {\n@@ -471,1 +474,1 @@\n-extern \"C\" JNIEXPORT void psd() {\n+extern \"C\" DEBUGEXPORT void psd() {\n@@ -477,1 +480,1 @@\n-extern \"C\" JNIEXPORT void pss() { \/\/ print all stacks\n+extern \"C\" DEBUGEXPORT void pss() { \/\/ print all stacks\n@@ -485,1 +488,1 @@\n-extern \"C\" JNIEXPORT void debug() {               \/\/ to set things up for compiler debugging\n+extern \"C\" DEBUGEXPORT void debug() {               \/\/ to set things up for compiler debugging\n@@ -494,1 +497,1 @@\n-extern \"C\" JNIEXPORT void ndebug() {              \/\/ undo debug()\n+extern \"C\" DEBUGEXPORT void ndebug() {              \/\/ undo debug()\n@@ -502,1 +505,1 @@\n-extern \"C\" JNIEXPORT void flush()  {\n+extern \"C\" DEBUGEXPORT void flush()  {\n@@ -507,1 +510,1 @@\n-extern \"C\" JNIEXPORT void events() {\n+extern \"C\" DEBUGEXPORT void events() {\n@@ -512,1 +515,1 @@\n-extern \"C\" JNIEXPORT Method* findm(intptr_t pc) {\n+extern \"C\" DEBUGEXPORT Method* findm(intptr_t pc) {\n@@ -519,1 +522,1 @@\n-extern \"C\" JNIEXPORT nmethod* findnm(intptr_t addr) {\n+extern \"C\" DEBUGEXPORT nmethod* findnm(intptr_t addr) {\n@@ -524,1 +527,1 @@\n-extern \"C\" JNIEXPORT void find(intptr_t x) {\n+extern \"C\" DEBUGEXPORT void find(intptr_t x) {\n@@ -530,1 +533,1 @@\n-extern \"C\" JNIEXPORT void findpc(intptr_t x) {\n+extern \"C\" DEBUGEXPORT void findpc(intptr_t x) {\n@@ -541,1 +544,1 @@\n-extern \"C\" JNIEXPORT void findclass(const char* class_name_pattern, int flags) {\n+extern \"C\" DEBUGEXPORT void findclass(const char* class_name_pattern, int flags) {\n@@ -547,1 +550,1 @@\n-extern \"C\" JNIEXPORT void findmethod(const char* class_name_pattern,\n+extern \"C\" DEBUGEXPORT void findmethod(const char* class_name_pattern,\n@@ -555,1 +558,1 @@\n-extern \"C\" JNIEXPORT void findbcp(intptr_t method, intptr_t bcp) {\n+extern \"C\" DEBUGEXPORT void findbcp(intptr_t method, intptr_t bcp) {\n@@ -566,1 +569,1 @@\n-extern \"C\" JNIEXPORT u4 u5decode(intptr_t addr) {\n+extern \"C\" DEBUGEXPORT u4 u5decode(intptr_t addr) {\n@@ -583,1 +586,1 @@\n-extern \"C\" JNIEXPORT intptr_t u5p(intptr_t addr,\n+extern \"C\" DEBUGEXPORT intptr_t u5p(intptr_t addr,\n@@ -633,1 +636,1 @@\n-extern \"C\" JNIEXPORT void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n+extern \"C\" DEBUGEXPORT void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n@@ -650,1 +653,1 @@\n-extern \"C\" JNIEXPORT void pns2() { \/\/ print native stack\n+extern \"C\" DEBUGEXPORT void pns2() { \/\/ print native stack\n","filename":"src\/hotspot\/share\/utilities\/debug.cpp","additions":33,"deletions":30,"binary":false,"changes":63,"status":"modified"}]}
{"files":[{"patch":"@@ -70,0 +70,7 @@\n+\/\/ These functions needs to be exported on Windows only\n+#if defined(TARGET_COMPILER_visCPP)\n+#define DEBUGEXPORT JNIEXPORT\n+#else\n+#define DEBUGEXPORT\n+#endif\n+\n@@ -306,1 +313,1 @@\n-extern \"C\" JNIEXPORT void blob(CodeBlob* cb) {\n+extern \"C\" DEBUGEXPORT void blob(CodeBlob* cb) {\n@@ -312,1 +319,1 @@\n-extern \"C\" JNIEXPORT void dump_vtable(address p) {\n+extern \"C\" DEBUGEXPORT void dump_vtable(address p) {\n@@ -319,1 +326,1 @@\n-extern \"C\" JNIEXPORT void nm(intptr_t p) {\n+extern \"C\" DEBUGEXPORT void nm(intptr_t p) {\n@@ -331,1 +338,1 @@\n-extern \"C\" JNIEXPORT void disnm(intptr_t p) {\n+extern \"C\" DEBUGEXPORT void disnm(intptr_t p) {\n@@ -346,1 +353,1 @@\n-extern \"C\" JNIEXPORT void printnm(intptr_t p) {\n+extern \"C\" DEBUGEXPORT void printnm(intptr_t p) {\n@@ -360,1 +367,1 @@\n-extern \"C\" JNIEXPORT void universe() {\n+extern \"C\" DEBUGEXPORT void universe() {\n@@ -366,1 +373,1 @@\n-extern \"C\" JNIEXPORT void verify() {\n+extern \"C\" DEBUGEXPORT void verify() {\n@@ -383,1 +390,1 @@\n-extern \"C\" JNIEXPORT void pp(void* p) {\n+extern \"C\" DEBUGEXPORT void pp(void* p) {\n@@ -408,1 +415,1 @@\n-extern \"C\" JNIEXPORT void findpc(intptr_t x);\n+extern \"C\" DEBUGEXPORT void findpc(intptr_t x);\n@@ -410,1 +417,1 @@\n-extern \"C\" JNIEXPORT void ps() { \/\/ print stack\n+extern \"C\" DEBUGEXPORT void ps() { \/\/ print stack\n@@ -439,1 +446,1 @@\n-extern \"C\" JNIEXPORT void pfl() {\n+extern \"C\" DEBUGEXPORT void pfl() {\n@@ -451,1 +458,1 @@\n-extern \"C\" JNIEXPORT void psf() { \/\/ print stack frames\n+extern \"C\" DEBUGEXPORT void psf() { \/\/ print stack frames\n@@ -465,1 +472,1 @@\n-extern \"C\" JNIEXPORT void threads() {\n+extern \"C\" DEBUGEXPORT void threads() {\n@@ -471,1 +478,1 @@\n-extern \"C\" JNIEXPORT void psd() {\n+extern \"C\" DEBUGEXPORT void psd() {\n@@ -477,1 +484,1 @@\n-extern \"C\" JNIEXPORT void pss() { \/\/ print all stacks\n+extern \"C\" DEBUGEXPORT void pss() { \/\/ print all stacks\n@@ -485,1 +492,1 @@\n-extern \"C\" JNIEXPORT void debug() {               \/\/ to set things up for compiler debugging\n+extern \"C\" DEBUGEXPORT void debug() {               \/\/ to set things up for compiler debugging\n@@ -494,1 +501,1 @@\n-extern \"C\" JNIEXPORT void ndebug() {              \/\/ undo debug()\n+extern \"C\" DEBUGEXPORT void ndebug() {              \/\/ undo debug()\n@@ -502,1 +509,1 @@\n-extern \"C\" JNIEXPORT void flush()  {\n+extern \"C\" DEBUGEXPORT void flush()  {\n@@ -507,1 +514,1 @@\n-extern \"C\" JNIEXPORT void events() {\n+extern \"C\" DEBUGEXPORT void events() {\n@@ -512,1 +519,1 @@\n-extern \"C\" JNIEXPORT Method* findm(intptr_t pc) {\n+extern \"C\" DEBUGEXPORT Method* findm(intptr_t pc) {\n@@ -519,1 +526,1 @@\n-extern \"C\" JNIEXPORT nmethod* findnm(intptr_t addr) {\n+extern \"C\" DEBUGEXPORT nmethod* findnm(intptr_t addr) {\n@@ -524,1 +531,1 @@\n-extern \"C\" JNIEXPORT void find(intptr_t x) {\n+extern \"C\" DEBUGEXPORT void find(intptr_t x) {\n@@ -530,1 +537,1 @@\n-extern \"C\" JNIEXPORT void findpc(intptr_t x) {\n+extern \"C\" DEBUGEXPORT void findpc(intptr_t x) {\n@@ -541,1 +548,1 @@\n-extern \"C\" JNIEXPORT void findclass(const char* class_name_pattern, int flags) {\n+extern \"C\" DEBUGEXPORT void findclass(const char* class_name_pattern, int flags) {\n@@ -547,1 +554,1 @@\n-extern \"C\" JNIEXPORT void findmethod(const char* class_name_pattern,\n+extern \"C\" DEBUGEXPORT void findmethod(const char* class_name_pattern,\n@@ -555,1 +562,1 @@\n-extern \"C\" JNIEXPORT void findbcp(intptr_t method, intptr_t bcp) {\n+extern \"C\" DEBUGEXPORT void findbcp(intptr_t method, intptr_t bcp) {\n@@ -566,1 +573,1 @@\n-extern \"C\" JNIEXPORT u4 u5decode(intptr_t addr) {\n+extern \"C\" DEBUGEXPORT u4 u5decode(intptr_t addr) {\n@@ -583,1 +590,1 @@\n-extern \"C\" JNIEXPORT intptr_t u5p(intptr_t addr,\n+extern \"C\" DEBUGEXPORT intptr_t u5p(intptr_t addr,\n@@ -633,1 +640,1 @@\n-extern \"C\" JNIEXPORT void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n+extern \"C\" DEBUGEXPORT void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n@@ -650,1 +657,1 @@\n-extern \"C\" JNIEXPORT void pns2() { \/\/ print native stack\n+extern \"C\" DEBUGEXPORT void pns2() { \/\/ print native stack\n","filename":"src\/hotspot\/share\/utilities\/debug.cpp","additions":37,"deletions":30,"binary":false,"changes":67,"status":"modified"}]}
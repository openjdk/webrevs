{"files":[{"patch":"@@ -872,0 +872,1 @@\n+  assert(_node == apply_state.transformed_node(this), \"sanity\");\n@@ -882,10 +883,0 @@\n-\n-    \/\/ The type of the phi may have been modified, for example by moving\n-    \/\/ from scalar to vector phi.\n-    Node* in1 = _node->in(1);\n-    const Type* t1 = phase->igvn().type(in1);\n-    const Type* t2 = phase->igvn().type(in2);\n-    const Type* t = t1->meet_speculative(t2);\n-    assert(!t->singleton(), \"sanity\");\n-    _node->as_Type()->set_type(t);\n-    phase->igvn().set_type(_node, t);\n@@ -1296,4 +1287,3 @@\n-\n-  \/\/\/\/ Data phi\/backedge\n-  \/\/Node* in2 = apply_state.transformed_node(in_req(2));\n-  \/\/phase->igvn().replace_input_of(_node, 2, in2);\n+  PhiNode* new_phi = apply_state.transformed_node(this)->as_Phi();\n+  Node* in2 = apply_state.transformed_node(in_req(2));\n+  phase->igvn().replace_input_of(new_phi, 2, in2);\n","filename":"src\/hotspot\/share\/opto\/vtransform.cpp","additions":4,"deletions":14,"binary":false,"changes":18,"status":"modified"}]}
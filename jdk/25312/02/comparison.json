{"files":[{"patch":"@@ -868,0 +868,5 @@\n+  \/\/ Save ConstMethod* in r5_const_method for later use to avoid loading multiple times\n+  Register r5_const_method = r5;\n+  const Register r5 = noreg;\n+  __ ldr(r5_const_method, Address(rmethod, Method::const_offset()));\n+\n@@ -878,2 +883,1 @@\n-    __ ldr(rscratch1, Address(rmethod, Method::const_offset()));    \/\/ get ConstMethod\n-    __ add(rbcp, rscratch1, in_bytes(ConstMethod::codes_offset())); \/\/ get codebase\n+    __ add(rbcp, r5_const_method, in_bytes(ConstMethod::codes_offset())); \/\/ get codebase\n@@ -899,3 +903,5 @@\n-  __ ldr(rcpool, Address(rmethod, Method::const_offset()));\n-  __ ldr(rcpool, Address(rcpool, ConstMethod::constants_offset()));\n-  __ ldr(rcpool, Address(rcpool, ConstantPool::cache_offset()));\n+  \/\/ Save ConstantPool* in r11_constants for later use to avoid loading multiple times\n+  Register r11_constants = r11;\n+  const Register r11 = noreg;\n+  __ ldr(r11_constants, Address(r5_const_method, ConstMethod::constants_offset()));\n+  __ ldr(rcpool, Address(r11_constants, ConstantPool::cache_offset()));\n@@ -911,2 +917,4 @@\n-  \/\/ Get mirror\n-  __ load_mirror(r10, rmethod, r5, rscratch2);\n+  \/\/ Get mirror. Resolve ConstantPool* -> InstanceKlass* -> Java mirror.\n+  __ ldr(r10, Address(r11_constants, ConstantPool::pool_holder_offset()));\n+  __ ldr(r10, Address(r10, in_bytes(Klass::java_mirror_offset())));\n+  __ resolve_oop_handle(r10, rscratch1, rscratch2);\n@@ -914,2 +922,1 @@\n-    __ ldr(rscratch1, Address(rmethod, Method::const_offset()));\n-    __ ldrh(rscratch1, Address(rscratch1, ConstMethod::max_stack_offset()));\n+    __ ldrh(rscratch1, Address(r5_const_method, ConstMethod::max_stack_offset()));\n","filename":"src\/hotspot\/cpu\/aarch64\/templateInterpreterGenerator_aarch64.cpp","additions":16,"deletions":9,"binary":false,"changes":25,"status":"modified"}]}
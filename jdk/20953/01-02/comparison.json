{"files":[{"patch":"@@ -78,1 +78,1 @@\n-      buf[0] = 0;\n+      buf[0] = '\\0';\n@@ -81,0 +81,1 @@\n+        buf[sizeof(buf) - 1] = '\\0';\n@@ -101,1 +102,0 @@\n-      \/\/share_mode = share_mode == SM_LARGE_PAGE || share_mode == SM_PRIVATE_ALIASED ? SM_PRIVATE;\n@@ -189,2 +189,2 @@\n-  ProcSmapsSummary() : _num_mappings(0),\/\/ _vsize(0), _rss(0),\n-  _private(0),  _committed(0), _shared(0), _swapped_out(0) {}\n+  ProcSmapsSummary() : _num_mappings(0), _private(0), \n+                       _committed(0), _shared(0), _swapped_out(0) {}\n@@ -195,2 +195,6 @@\n-    bool is_private = region_info.pri_share_mode == SM_PRIVATE || region_info.pri_share_mode == SM_PRIVATE_ALIASED;\n-    bool is_shared = region_info.pri_share_mode == SM_SHARED || region_info.pri_share_mode == SM_SHARED_ALIASED || region_info.pri_share_mode == SM_TRUESHARED || region_info.pri_share_mode == SM_COW;\n+    bool is_private = region_info.pri_share_mode == SM_PRIVATE\n+                   || region_info.pri_share_mode == SM_PRIVATE_ALIASED;\n+    bool is_shared = region_info.pri_share_mode == SM_SHARED\n+                   || region_info.pri_share_mode == SM_SHARED_ALIASED\n+                   || region_info.pri_share_mode == SM_TRUESHARED\n+                   || region_info.pri_share_mode == SM_COW;\n@@ -205,0 +209,2 @@\n+    st->print_cr(\"Number of mappings: %u\", _num_mappings);\n+\n@@ -208,6 +214,0 @@\n-    if (err_vm != KERN_SUCCESS) {\n-      st->print_cr(\"error getting vm_info %d\", err_vm);\n-    }\n-\n-    st->print_cr(\"Number of mappings: %u\", _num_mappings);\n-\n@@ -219,0 +219,2 @@\n+    } else {\n+      st->print_cr(\"error getting vm_info %d\", err_vm);\n@@ -335,1 +337,0 @@\n-\n","filename":"src\/hotspot\/os\/bsd\/memMapPrinter_macosx.cpp","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -169,2 +169,0 @@\n-            \/\/ heap segment, should be part of all user space apps on all architectures OpenJDK supports.\n-        \/\/ macOSbase + macprivate + space + \"\\\\[heap\\\\]\",\n@@ -179,2 +177,0 @@\n-            \/\/ parts of metaspace should be uncommitted\n-            \/\/regexBase + \"-\" + space + \"META.*\",\n","filename":"test\/hotspot\/jtreg\/serviceability\/dcmd\/vm\/SystemMapTestBase.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"}]}
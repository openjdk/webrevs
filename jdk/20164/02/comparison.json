{"files":[{"patch":"@@ -75,1 +75,1 @@\n-  uintx mask = right_n_bits(bit_number + 1);\n+  uintx mask = u_right_n_bits(bit_number + 1);\n@@ -167,1 +167,1 @@\n-    uintx mask_out = right_n_bits(bit_number);\n+    uintx mask_out = u_right_n_bits(bit_number);\n@@ -227,1 +227,1 @@\n-        size_t mask_out = right_n_bits(bit_number);\n+        size_t mask_out = u_right_n_bits(bit_number);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahSimpleBitMap.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -50,0 +50,6 @@\n+\n+const uintptr_t OneBitUnsigned = 1;\n+#define u_nth_bit(n)      (((n) >= BitsPerWord) ? 0 : (OneBitUnsigned << (n)))\n+\/\/ unsigned version of right_n_bits to prevent undefined behavior from shifting and overflow\n+#define u_right_n_bits(n) ((uintptr_t)u_nth_bit(n) - 1)\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahSimpleBitMap.hpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-      uintx mask_out = right_n_bits(bit_number);\n+      uintx mask_out = u_right_n_bits(bit_number);\n@@ -68,1 +68,1 @@\n-      uintx mask_in = right_n_bits(bit_number + 1);\n+      uintx mask_in = u_right_n_bits(bit_number + 1);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahSimpleBitMap.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1070,1 +1070,0 @@\n-\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -28,2 +28,0 @@\n-import jdk.internal.access.SharedSecrets;\n-\n@@ -305,1 +303,0 @@\n-    @SuppressWarnings(\"removal\")\n@@ -307,11 +304,9 @@\n-        final Subject s;\n-        if (!SharedSecrets.getJavaLangAccess().allowSecurityManager()) {\n-            s = Subject.current();\n-        } else {\n-            AccessControlContext acc = AccessController.getContext();\n-            s = AccessController.doPrivileged(new PrivilegedAction<>() {\n-                        public Subject run() {\n-                            return Subject.getSubject(acc);\n-                        }\n-                    });\n-        }\n+        @SuppressWarnings(\"removal\")\n+        final AccessControlContext acc = AccessController.getContext();\n+        @SuppressWarnings(\"removal\")\n+        final Subject s =\n+            AccessController.doPrivileged(new PrivilegedAction<>() {\n+                    public Subject run() {\n+                        return Subject.getSubject(acc);\n+                    }\n+                });\n","filename":"src\/java.management\/share\/classes\/com\/sun\/jmx\/remote\/security\/MBeanServerFileAccessController.java","additions":9,"deletions":14,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -1037,0 +1037,7 @@\n+\n+\t# Read jtreg documentation to learn on the test stats categories:\n+\t# https:\/\/github.com\/openjdk\/jtreg\/blob\/master\/src\/share\/doc\/javatest\/regtest\/faq.md#what-do-all-those-numbers-in-the-test-results-line-mean\n+\t# In jtreg, \"skipped:\" category accounts for tests that threw jtreg.SkippedException at runtime.\n+\t# At the same time these tests contribute to \"passed:\" tests.\n+\t# In here we don't want that and so we substract number of \"skipped:\" from \"passed:\".\n+\n@@ -1038,1 +1045,1 @@\n-\t  $$(eval $1_PASSED := $$(shell $$(AWK) '{ gsub(\/[,;]\/, \"\"); \\\n+\t  $$(eval $1_PASSED_AND_RUNTIME_SKIPPED := $$(shell $$(AWK) '{ gsub(\/[,;]\/, \"\"); \\\n@@ -1041,1 +1048,1 @@\n-\t  $$(if $$($1_PASSED), , $$(eval $1_PASSED := 0)) \\\n+\t  $$(if $$($1_PASSED_AND_RUNTIME_SKIPPED), , $$(eval $1_PASSED_AND_RUNTIME_SKIPPED := 0)) \\\n@@ -1046,0 +1053,17 @@\n+\t  $$(eval $1_RUNTIME_SKIPPED := $$(shell $$(AWK) '{gsub(\/[,;]\/, \"\"); \\\n+\t      for (i=1; i<=NF; i++) { if ($$$$i == \"skipped:\") \\\n+\t      print $$$$(i+1) } }' $$($1_RESULT_FILE))) \\\n+\t  $$(if $$($1_RUNTIME_SKIPPED), , $$(eval $1_RUNTIME_SKIPPED := 0)) \\\n+\t  $$(eval $1_SKIPPED := $$(shell \\\n+\t      $$(AWK) \\\n+\t        '{ \\\n+\t            overall_skipped = 0; \\\n+\t            split($$$$0, arr, \";\"); \\\n+\t            for (item in arr) { \\\n+\t                match(arr[item], \/(skipped|excluded|not in match-list|did not .*): ([0-9]+)\/, m); \\\n+\t                overall_skipped += m[2]; \\\n+\t            } \\\n+\t            print overall_skipped; \\\n+\t        }' \\\n+\t        $$($1_RESULT_FILE) \\\n+\t  )) \\\n@@ -1050,0 +1074,3 @@\n+\t  \\\n+\t  $$(eval $1_PASSED := $$(shell \\\n+\t      $$(EXPR) $$($1_PASSED_AND_RUNTIME_SKIPPED) - $$($1_RUNTIME_SKIPPED))) \\\n@@ -1051,1 +1078,1 @@\n-\t      $$(EXPR) $$($1_PASSED) + $$($1_FAILED) + $$($1_ERROR))) \\\n+\t      $$(EXPR) $$($1_PASSED) + $$($1_FAILED) + $$($1_ERROR) + $$($1_SKIPPED))) \\\n@@ -1053,1 +1080,3 @@\n-\t  $$(eval $1_PASSED := 0) \\\n+\t  $$(eval $1_PASSED_AND_RUNTIME_SKIPPED := 0) \\\n+\t  $$(eval $1_RUNTIME_SKIPPED := 0) \\\n+\t  $$(eval $1_SKIPPED := 0) \\\n@@ -1232,2 +1261,2 @@\n-\t$(PRINTF) >> $(TEST_SUMMARY) \"%2s %-49s %5s %5s %5s %5s %2s\\n\" \"  \" \\\n-\t    TEST TOTAL PASS FAIL ERROR \" \"\n+\t$(PRINTF) >> $(TEST_SUMMARY) \"%2s %-49s %5s %5s %5s %5s %5s %2s\\n\" \"  \" \\\n+\t    TEST TOTAL PASS FAIL ERROR SKIP \" \"\n@@ -1246,1 +1275,1 @@\n-\t    $(PRINTF) >> $(TEST_SUMMARY) \"%2s %-49s %5d %5d %5d %5d %2s\\n\" \\\n+\t    $(PRINTF) >> $(TEST_SUMMARY) \"%2s %-49s %5d %5d %5d %5d %5d %2s\\n\" \\\n@@ -1248,1 +1277,1 @@\n-\t        $($(TEST_ID)_FAILED) $($(TEST_ID)_ERROR) \"  \" $(NEWLINE) \\\n+\t        $($(TEST_ID)_FAILED) $($(TEST_ID)_ERROR) $($(TEST_ID)_SKIPPED) \"  \" $(NEWLINE) \\\n@@ -1250,1 +1279,1 @@\n-\t    $(PRINTF) >> $(TEST_SUMMARY) \"%2s %-49s %5d %5d %5d %5d %2s\\n\" \\\n+\t    $(PRINTF) >> $(TEST_SUMMARY) \"%2s %-49s %5d %5d %5d %5d %5d %2s\\n\" \\\n@@ -1252,1 +1281,1 @@\n-\t        $($(TEST_ID)_FAILED) $($(TEST_ID)_ERROR) \"<<\" $(NEWLINE) \\\n+\t        $($(TEST_ID)_FAILED) $($(TEST_ID)_ERROR) $($(TEST_ID)_SKIPPED) \"<<\" $(NEWLINE) \\\n","filename":"make\/RunTests.gmk","additions":39,"deletions":10,"binary":false,"changes":49,"status":"modified"}]}
{"files":[{"patch":"@@ -257,9 +257,3 @@\n-                if (htmlWriter instanceof ClassWriter cw) {\n-                    containing = cw.getTypeElement();\n-                } else if (!utils.isPublic(containing)) {\n-                    reportWarning.accept(\"doclet.link.see.reference_not_accessible\",\n-                            new Object[] { utils.getFullyQualifiedName(containing)});\n-                } else {\n-                    if (!config.isDocLintReferenceGroupEnabled()) {\n-                        reportWarning.accept(\"doclet.link.see.reference_not_found\",\n-                                new Object[] { refSignature });\n+                if (utils.configuration.docEnv.isSelected(refMem)) {\n+                    if (htmlWriter instanceof ClassWriter cw) {\n+                        containing = cw.getTypeElement();\n@@ -267,0 +261,3 @@\n+                } else {\n+                    reportWarning.accept(\"doclet.link.see.reference_not_accessible\",\n+                            new Object[]{refMem});\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/taglets\/LinkTaglet.java","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1,34 +0,0 @@\n-\/*\n- * Copyright 2009 Google, Inc.  All Rights Reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/** A documented class. *\/\n-public class DocumentedClass extends UndocumentedClass {\n-  \/** {@link #method} *\/\n-  public void m1() {}\n-  \/** {@link #publicMethod} *\/\n-  public void m2() {}\n-  \/** {@link #protectedMethod} *\/\n-  public void m3() {}\n-  \/** {@link #privateMethod} *\/\n-  public void m4() {}\n-}\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/5093723\/DocumentedClass.java","additions":0,"deletions":34,"binary":false,"changes":34,"status":"deleted"},{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2013, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +27,1 @@\n- * @bug      5093723\n+ * @bug      5093723 8202617\n@@ -28,1 +29,2 @@\n- * @library  ..\/..\/lib\n+ *           Check that links to undocumented members are not generated\n+ * @library  \/tools\/lib ..\/..\/lib\n@@ -30,1 +32,1 @@\n- * @build    javadoc.tester.*\n+ * @build    toolbox.ToolBox javadoc.tester.*\n@@ -35,0 +37,5 @@\n+import toolbox.ToolBox;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+\n@@ -38,0 +45,2 @@\n+    ToolBox tb = new ToolBox();\n+\n@@ -44,2 +53,26 @@\n-    public void test() {\n-        setAutomaticCheckLinks(false); \/\/ @ignore JDK-8202617\n+    public void test(Path base) throws IOException {\n+\n+        Path src = base.resolve(\"src\");\n+        tb.writeJavaFiles(src, \"\"\"\n+                package p;\n+                \/** A documented class. *\/\n+                public class DocumentedClass extends UndocumentedClass {\n+                  \/** {@link #method} *\/\n+                  public void m1() {}\n+                  \/** {@link #publicMethod} *\/\n+                  public void m2() {}\n+                  \/** {@link #protectedMethod} *\/\n+                  public void m3() {}\n+                  \/** {@link #privateMethod} *\/\n+                  public void m4() {}\n+                }\n+                \"\"\", \"\"\"\n+                package p;\n+                class UndocumentedClass {\n+                    void method() {}\n+                    public void publicMethod() {}\n+                    protected void protectedMethod() {}\n+                    private void privateMethod() {}\n+                }\n+                \"\"\");\n+\n@@ -48,2 +81,3 @@\n-                testSrc(\"DocumentedClass.java\"),\n-                testSrc(\"UndocumentedClass.java\"));\n+                \"-sourcepath\",\n+                src.toString(),\n+                \"p\");\n@@ -51,0 +85,22 @@\n+\n+        checkOutput(\"p\/DocumentedClass.html\",\n+                true,\n+                \"<div class=\\\"block\\\"><code>UndocumentedClass.method()<\/code><\/div>\",\n+                \"<div class=\\\"block\\\"><code>UndocumentedClass.privateMethod()<\/code><\/div>\");\n+\n+        checkOutput(\"p\/DocumentedClass.html\",\n+                false,\n+                \"<div class=\\\"block\\\"><a href=\\\"#method()\\\"><code>method()<\/code><\/a><\/div>\",\n+                \"<div class=\\\"block\\\"><a href=\\\"#privateMethod()\\\"><code>privateMethod()<\/code><\/a><\/div>\");\n+\n+        checkOutput(Output.OUT, true,\n+                \"warning: reference not accessible: privateMethod()\",\n+                \"\/** {@link #privateMethod} *\/\",\n+                \"warning: reference not accessible: method()\",\n+                \"\/** {@link #method} *\/\");\n+\n+        checkOutput(Output.OUT, false,\n+                \"warning: reference not accessible: publicMethod()\",\n+                \"warning: reference not accessible: protectedMethod()\",\n+                \"\/** {@link #publicMethod} *\/\",\n+                \"\/** {@link #protectedMethod} *\/\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/5093723\/T5093723.java","additions":63,"deletions":7,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -1,29 +0,0 @@\n-\/*\n- * Copyright 2009 Google, Inc.  All Rights Reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-class UndocumentedClass {\n-    void method() {}\n-    public void publicMethod() {}\n-    protected void protectedMethod() {}\n-    private void privateMethod() {}\n-}\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/5093723\/UndocumentedClass.java","additions":0,"deletions":29,"binary":false,"changes":29,"status":"deleted"}]}
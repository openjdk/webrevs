{"files":[{"patch":"@@ -29,1 +29,0 @@\n-import java.util.HashMap;\n@@ -67,1 +66,1 @@\n-    private static final HashMap<String, String> MECH_MAP = constructMechMap();\n+    private static final Oid[] MECH_OIDS = getMechOIDs();\n@@ -70,1 +69,1 @@\n-    private static HashMap<String, String> constructMechMap() {\n+    private static Oid[] getMechOIDs() {\n@@ -115,4 +114,3 @@\n-                 HashMap<String, String> map = new HashMap<>();\n-                 for (int i = 0; i < mechs.length; i++) {\n-                     if (DEBUG) {\n-                         debug(\"Native MF for \" + mechs[i]);\n+                 if (DEBUG) {\n+                     for (Oid mech : mechs) {\n+                         debug(\"Native MF for \" + mech);\n@@ -120,1 +118,0 @@\n-                     map.put(\"GssApiMechanism.\" + mechs[i], MF_CLASS);\n@@ -122,1 +119,1 @@\n-                 return map;\n+                 return mechs;\n@@ -128,1 +125,1 @@\n-    \/\/ initialize INSTANCE after MECH_MAP is constructed\n+    \/\/ initialize INSTANCE after MECH_OIDS is constructed\n@@ -135,2 +132,5 @@\n-        if (MECH_MAP != null) {\n-            putAll(MECH_MAP);\n+        if (MECH_OIDS != null) {\n+            for (Oid mech : MECH_OIDS) {\n+                putService(new Service(this, \"GssApiMechanism\",\n+                        mech.toString(), MF_CLASS, null, null));\n+            }\n","filename":"src\/java.security.jgss\/share\/classes\/sun\/security\/jgss\/wrapper\/SunNativeProvider.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,0 @@\n-import nsk.share.jpda.*;\n@@ -39,1 +38,1 @@\n-public class Jdb extends LocalProcess implements Finalizable {\n+public class Jdb extends LocalProcess {\n@@ -98,3 +97,0 @@\n-    public void finalizeAtExit() throws Throwable {\n-        finalize();\n-    }\n@@ -102,1 +98,1 @@\n-    public void finalize() throws Throwable {\n+    public void close() {\n@@ -119,1 +115,0 @@\n-        super.finalize();\n@@ -964,1 +959,1 @@\n-                        jdb.finalize();\n+                        jdb.close();\n@@ -967,1 +962,1 @@\n-                        throw new Failure(\"Caught unexpected error while finalizing jdb: \" + t);\n+                        throw new Failure(\"Caught unexpected error while closing jdb streams: \" + t);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdb\/Jdb.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,0 @@\n-import nsk.share.jpda.*;\n@@ -30,1 +29,0 @@\n-import java.util.*;\n@@ -177,0 +175,8 @@\n+\n+                    try {\n+                        jdb.close();\n+                    } catch (Throwable ex) {\n+                        failure(\"Caught exception\/error while closing jdb streams:\\n\\t\" + ex);\n+                        ex.printStackTrace(log.getOutStream());\n+                    }\n+\n@@ -207,1 +213,1 @@\n-                        jdb.finalize();\n+                        jdb.close();\n@@ -209,1 +215,1 @@\n-                        failure(\"Caught exception\/error while finalization of jdb:\\n\\t\" + ex);\n+                        failure(\"Caught exception\/error while closing jdb streams:\\n\\t\" + ex);\n@@ -213,1 +219,1 @@\n-                    log.complain(\"jdb reference is null, cannot run jdb.finalize() method\");\n+                    log.complain(\"jdb reference is null, cannot run jdb.close() method\");\n@@ -219,1 +225,1 @@\n-                    log.complain(\"debuggee reference is null, cannot run debuggee.finalize() method\");\n+                    log.complain(\"debuggee reference is null, cannot run debuggee.killDebuggee() method\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdb\/JdbTest.java","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"}]}
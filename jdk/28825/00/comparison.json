{"files":[{"patch":"@@ -242,1 +242,3 @@\n-    if (ipv6_available() &&\n+    jint ipv6av = ipv6_available();\n+\n+    if (ipv6av &&\n@@ -285,1 +287,5 @@\n-            JNU_ThrowByName(env, JNU_JAVANETPKG \"SocketException\", \"Protocol family unavailable\");\n+            if (ipv6av) {\n+                JNU_ThrowByName(env, JNU_JAVANETPKG \"SocketException\", \"Protocol family ipv6, ipv6 on machine available\");\n+            } else {\n+                JNU_ThrowByName(env, JNU_JAVANETPKG \"SocketException\", \"Protocol family ipv6, ipv6 on machine unavailable\");\n+            }\n","filename":"src\/java.base\/unix\/native\/libnet\/net_util_md.c","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n- * @run main\/othervm SubjectAltNameIP [::1]\n+ * @run main\/othervm SubjectAltNameIP ::1\n@@ -169,0 +169,1 @@\n+        boolean isIpv6Addr = IPAddressUtil.isIPv6LiteralAddress(args[0]);\n@@ -170,1 +171,1 @@\n-        if (IPAddressUtil.isIPv6LiteralAddress(args[0]) && !IPSupport.hasIPv6()) {\n+        if (isIpv6Addr && !IPSupport.hasIPv6()) {\n@@ -176,1 +177,5 @@\n-        new SubjectAltNameIP(args[0]);\n+        if (isIpv6Addr) { \/\/ use the URL notion wrapper\n+            new SubjectAltNameIP(\"[\" + args[0] + \"]\");\n+        } else {\n+            new SubjectAltNameIP(args[0]);\n+        }\n","filename":"test\/jdk\/javax\/net\/ssl\/HttpsURLConnection\/SubjectAltNameIP.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"}]}
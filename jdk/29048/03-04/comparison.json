{"files":[{"patch":"@@ -2359,3 +2359,1 @@\n-  assert(!k->is_instance_klass(), \"not InstanceKlass!\");\n-\n-  InstanceKlass *ik = k->is_instance_klass() ? InstanceKlass::cast(k) : nullptr;\n+  InstanceKlass* ik = k->is_instance_klass() ? InstanceKlass::cast(k) : nullptr;\n@@ -2388,1 +2386,1 @@\n-    assert(pd != nullptr && !pd->klass()->is_instance_klass(), \"pd klass is not InstanceKlass\");\n+    assert(pd == nullptr || pd->klass()->is_instance_klass(), \"pd klass is not InstanceKlass\");\n@@ -2390,1 +2388,1 @@\n-    if (pd != nullptr && (ik = pd->klass()->is_instance_klass() ? InstanceKlass::cast(pd->klass()) : nullptr) != nullptr) {\n+    if (pd != nullptr) {\n@@ -2397,1 +2395,1 @@\n-      if (ik->find_field(css, csss, &csfd)) {\n+      if (InstanceKlass::cast(pd->klass())->find_field(css, csss, &csfd)) {\n@@ -2401,1 +2399,1 @@\n-        assert(cs !=nullptr && !cs->klass()->is_instance_klass(), \"cs klass is not InstanceKlass\");\n+        assert(cs == nullptr || cs->klass()->is_instance_klass(), \"cs klass is not InstanceKlass\");\n@@ -2403,1 +2401,1 @@\n-        if (cs != nullptr && (ik = cs->klass()->is_instance_klass() ? InstanceKlass::cast(cs->klass()) : nullptr) != nullptr) {\n+        if (cs != nullptr) {\n@@ -2409,1 +2407,1 @@\n-          if (ik->find_field(csls, cslss, &locfd)) {\n+          if (InstanceKlass::cast(cs->klass())->find_field(csls, cslss, &locfd)) {\n@@ -2412,1 +2410,1 @@\n-            assert(loc != nullptr && loc->klass() != vmClasses::String_klass(), \"locationNoFragString field is not a String\");\n+            assert(loc == nullptr || loc->klass() == vmClasses::String_klass(), \"locationNoFragString field is not a String\");\n@@ -2414,1 +2412,1 @@\n-            if (loc != nullptr && loc->klass() == vmClasses::String_klass()) {\n+            if (loc != nullptr) {\n@@ -2418,2 +2416,2 @@\n-        } else assert(true, \"failed to find locationNoFragString field in CodeSource\");\n-      } else assert(true, \"failed to find codeSource field in ProtectionDomain\");\n+        }\n+      }\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":11,"deletions":13,"binary":false,"changes":24,"status":"modified"}]}
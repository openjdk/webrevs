{"files":[{"patch":"@@ -259,9 +259,11 @@\n-                if (owningModule == syms.noModule && jrtIndex != null && jrtIndex.isInJRT(c.classfile)) {\n-                    JRTIndex.CtSym ctSym = jrtIndex.getCtSym(packge.flatName());\n-                    Profile minProfile = Profile.DEFAULT;\n-                    if (ctSym.proprietary)\n-                        newFlags |= PROPRIETARY;\n-                    if (ctSym.minProfile != null)\n-                        minProfile = Profile.lookup(ctSym.minProfile);\n-                    if (profile != Profile.DEFAULT && minProfile.value > profile.value) {\n-                        newFlags |= NOT_IN_PROFILE;\n+                if (owningModule == syms.noModule) {\n+                    if (jrtIndex != null && jrtIndex.isInJRT(c.classfile)) {\n+                        JRTIndex.CtSym ctSym = jrtIndex.getCtSym(packge.flatName());\n+                        Profile minProfile = Profile.DEFAULT;\n+                        if (ctSym.proprietary)\n+                            newFlags |= PROPRIETARY;\n+                        if (ctSym.minProfile != null)\n+                            minProfile = Profile.lookup(ctSym.minProfile);\n+                        if (profile != Profile.DEFAULT && minProfile.value > profile.value) {\n+                            newFlags |= NOT_IN_PROFILE;\n+                        }\n@@ -271,0 +273,3 @@\n+                } else {\n+                    \/\/ don't accumulate user modules in supplementaryFlags\n+                    return 0;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/ClassFinder.java","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"}]}
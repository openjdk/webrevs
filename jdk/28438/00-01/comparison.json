{"files":[{"patch":"@@ -88,1 +88,3 @@\n-  _resolution_error_table->put(key, entry);\n+  bool created = false;\n+  _resolution_error_table->put_if_absent(key, entry, &created);\n+  assert(created, \"should be created not updated\");\n","filename":"src\/hotspot\/share\/classfile\/resolutionErrors.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1867,1 +1867,6 @@\n-    if (entry != nullptr && entry->nest_host_error() == nullptr) {\n+    if (entry == nullptr) {\n+      \/\/ Only add a new resolution error if one hasn't been found for this constant pool index. In this case,\n+      \/\/ resolution succeeded but there's an error in this nest host.\n+      assert(pool->resolved_klass_at(which) != nullptr, \"klass is should be resolved if there is no entry\");\n+      ResolutionErrorTable::add_entry(pool, which, message);\n+    } else if (entry->nest_host_error() == nullptr) {\n@@ -1873,5 +1878,0 @@\n-    } else if (entry == nullptr) {\n-      \/\/ Only add a new resolution error if one hasn't been found for this constant pool index. In this case,\n-      \/\/ resolution succeeded but there's an error in this nest host.\n-      assert(pool->resolved_klass_at(which) != nullptr, \"klass is should be resolved if there is no entry\");\n-      ResolutionErrorTable::add_entry(pool, which, message);\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}
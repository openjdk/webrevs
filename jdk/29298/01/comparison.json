{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n-#include \"runtime\/atomicAccess.hpp\"\n+#include \"runtime\/atomic.hpp\"\n@@ -53,1 +53,1 @@\n-    uint volatile _cur_claim_idx;\n+    Atomic<uint> _cur_claim_idx;\n@@ -108,1 +108,1 @@\n-      uint result = AtomicAccess::add(&_cur_claim_idx, _chunk_size);\n+      uint result = _cur_claim_idx.add_then_fetch(_chunk_size);\n@@ -124,1 +124,2 @@\n-      if (_cur_claim_idx == 0) {\n+      uint length = _cur_claim_idx.load_relaxed();\n+      if (length == 0) {\n@@ -127,1 +128,1 @@\n-      for (uint i = _cur_claim_idx; i < _max_size; i++) {\n+      for (uint i = length; i < _max_size; i++) {\n@@ -130,2 +131,2 @@\n-      qsort(_data, _cur_claim_idx, sizeof(_data[0]), (_sort_Fn)compare_region_gc_efficiency);\n-      for (uint i = _cur_claim_idx; i < _max_size; i++) {\n+      qsort(_data, length, sizeof(_data[0]), (_sort_Fn)compare_region_gc_efficiency);\n+      for (uint i = length; i < _max_size; i++) {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetChooser.cpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}
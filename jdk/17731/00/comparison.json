{"files":[{"patch":"@@ -115,1 +115,3 @@\n-                        throw new Fault(Errors.EnablePreviewRequiresSource);\n+                        String feature = String.valueOf(Runtime.version().feature());\n+                        programOptions.addAll(List.of(\"--release\", feature));\n+                        subsequentOptions.addAll(List.of(\"--release\", feature));\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/launcher\/RelevantJavacOptions.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -142,3 +142,0 @@\n-launcher.err.enable.preview.requires.source=\\\n-    --enable-preview must be used with --source\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/launcher.properties","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -54,2 +54,0 @@\n-import java.util.HashMap;\n-import java.util.Map;\n@@ -59,1 +57,0 @@\n-import java.util.stream.Collectors;\n@@ -537,4 +534,3 @@\n-                .run(Task.Expect.FAIL)\n-                .getOutputLines(Task.OutputKind.STDERR);\n-        log = log.stream().filter(s->!s.matches(\"^Picked up .*JAVA.*OPTIONS:.*\")).collect(Collectors.toList());\n-        checkEqual(\"stderr\", log, List.of(\"error: --enable-preview must be used with --source\"));\n+                .run(Task.Expect.SUCCESS)\n+                .getOutputLines(Task.OutputKind.STDOUT);\n+        checkEqual(\"stdout\", log, List.of(\"Hello World! []\"));\n","filename":"test\/langtools\/tools\/javac\/launcher\/SourceLauncherTest.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -206,1 +206,2 @@\n-  return (intptr_t*)ijava_state()->top_frame_sp;\n+  intptr_t n = *addr_at(_z_ijava_idx(top_frame_sp));\n+  return &fp()[n]; \/\/ return relativized locals\n@@ -210,1 +211,3 @@\n-  ijava_state()->top_frame_sp = (intptr_t) top_frame_sp;\n+  assert(is_interpreted_frame(), \"interpreted frame expected\");\n+  \/\/ set relativized top_frame_sp\n+  ijava_state()->top_frame_sp = (intptr_t) (top_frame_sp - fp());\n","filename":"src\/hotspot\/cpu\/s390\/frame_s390.inline.hpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -579,1 +579,4 @@\n-  z_stg(Z_SP, _z_ijava_state_neg(top_frame_sp), Z_fp);\n+  assert_different_registers(Z_R1, method);\n+  z_sgrk(Z_R1, Z_SP, Z_fp);\n+  z_srag(Z_R1, Z_R1, Interpreter::logStackElementSize);\n+  z_stg(Z_R1, _z_ijava_state_neg(top_frame_sp), Z_fp);\n","filename":"src\/hotspot\/cpu\/s390\/interp_masm_s390.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -640,0 +640,2 @@\n+  __ z_slag(sp_before_i2c_extension, sp_before_i2c_extension, Interpreter::logStackElementSize);\n+  __ z_agr(sp_before_i2c_extension, Z_fp);\n","filename":"src\/hotspot\/cpu\/s390\/templateInterpreterGenerator_s390.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}
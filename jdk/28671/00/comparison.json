{"files":[{"patch":"@@ -1818,0 +1818,3 @@\n+                if (uiInputMap == null) {\n+                    map.clear();\n+                }\n@@ -1822,0 +1825,3 @@\n+        if (map != null && uiInputMap == null) {\n+            map.clear();\n+        }\n@@ -1842,0 +1848,3 @@\n+                if (uiActionMap == null) {\n+                    map.clear();\n+                }\n@@ -1846,0 +1855,3 @@\n+        if (map != null && uiActionMap == null) {\n+            map.clear();\n+        }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SwingUtilities.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -0,0 +1,66 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6726690\n+ * @summary Verifies SwingUtilities.replaceUI*Map() methods remove\n+ *          previously installed maps\n+ * @run main UIMapTest\n+ *\/\n+\n+import java.awt.event.KeyEvent;\n+import javax.swing.ComponentInputMap;\n+import javax.swing.JButton;\n+import javax.swing.JComponent;\n+import javax.swing.JFrame;\n+import javax.swing.KeyStroke;\n+import javax.swing.SwingUtilities;\n+\n+public class UIMapTest {\n+    public static void main(String[] args) {\n+        \/\/ Create the test button\n+        JButton button = new JButton(\"Test\");\n+\n+        \/\/ Create an input map that maps ENTER to the button\n+        ComponentInputMap map = new ComponentInputMap(button);\n+        map.put(KeyStroke.getKeyStroke(\"pressed ENTER\"), \"pressed\");\n+        map.put(KeyStroke.getKeyStroke(\"released ENTER\"), \"released\");\n+\n+        \/\/ Add the map\n+        SwingUtilities.replaceUIInputMap(button, JComponent.WHEN_IN_FOCUSED_WINDOW, map);\n+\n+        \/\/ Attempt to remove the map\n+        SwingUtilities.replaceUIInputMap(button, JComponent.WHEN_IN_FOCUSED_WINDOW, null);\n+\n+        \/\/ Show the frame\n+        JFrame frame = new JFrame(\"UIMapTest\");\n+        frame.add(button);\n+\n+        if (button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).\n+            get(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0)) != null) {\n+            throw new RuntimeException(\"SwingUtilities.replaceUIInputMap \" +\n+                                       \"didn't remove previously installed map\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/SwingUtilities\/UIMapTest.java","additions":66,"deletions":0,"binary":false,"changes":66,"status":"added"}]}
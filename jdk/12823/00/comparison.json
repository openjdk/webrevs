{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -123,9 +123,5 @@\n-                    \/\/ Refresh the values\n-                    threshold = monitor.getCollectionThreshold(pool);\n-                    usage = monitor.getCollectionUsage(pool);\n-                    if (used >= threshold) {\n-                        log.complain(\"isCollectionUsageThresholdExceeded() \"\n-                                   + \"returned false, while threshold = \"\n-                                   + threshold + \" and \" + \"used = \" + used);\n-                        testFailed = true;\n-                    }\n+                    \/\/ Don't refresh the values: usage may have decreased outside our control.\n+                    log.complain(\"isCollectionUsageThresholdExceeded() \"\n+                               + \"returned false, while threshold = \"\n+                               + threshold + \" and \" + \"used = \" + used);\n+                    testFailed = true;\n@@ -140,1 +136,1 @@\n-                    \/\/ Refresh the values\n+                    \/\/ Refresh the values: usage may have increased outside our control.\n@@ -143,0 +139,1 @@\n+                    used = usage.getUsed();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/monitoring\/MemoryPoolMBean\/isCollectionUsageThresholdExceeded\/isexceeded001.java","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"}]}
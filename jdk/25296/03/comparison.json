{"files":[{"patch":"@@ -1863,24 +1863,0 @@\n-bool G1CollectedHeap::try_collect_fullgc(GCCause::Cause cause,\n-                                         const G1GCCounters& counters_before) {\n-  assert_heap_not_locked();\n-\n-  while(true) {\n-    VM_G1CollectFull op(counters_before.total_collections(),\n-                        counters_before.total_full_collections(),\n-                        cause);\n-    VMThread::execute(&op);\n-\n-    \/\/ Request is trivially finished.\n-    if (!GCCause::is_explicit_full_gc(cause) || op.gc_succeeded()) {\n-      return op.gc_succeeded();\n-    }\n-\n-    {\n-      MutexLocker ml(Heap_lock);\n-      if (counters_before.total_full_collections() != total_full_collections()) {\n-        return true;\n-      }\n-    }\n-  }\n-}\n-\n@@ -1905,1 +1881,5 @@\n-    return try_collect_fullgc(cause, counters_before);\n+    VM_G1CollectFull op(counters_before.total_collections(),\n+                        counters_before.total_full_collections(),\n+                        cause);\n+    VMThread::execute(&op);\n+    return op.prologue_succeeded();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":5,"deletions":25,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -283,3 +283,0 @@\n-  bool try_collect_fullgc(GCCause::Cause cause,\n-                          const G1GCCounters& counters_before);\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -53,2 +53,2 @@\n-  _gc_succeeded = g1h->do_full_collection(false \/* clear_all_soft_refs *\/,\n-                                          false \/* do_maximal_compaction *\/);\n+  g1h->do_full_collection(false \/* clear_all_soft_refs *\/,\n+                          false \/* do_maximal_compaction *\/);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1VMOperations.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,2 +34,0 @@\n-  bool _gc_succeeded;\n-\n@@ -43,2 +41,1 @@\n-    VM_GC_Operation(gc_count_before, cause, full_gc_count_before, true),\n-    _gc_succeeded(false) { }\n+    VM_GC_Operation(gc_count_before, cause, full_gc_count_before, true) { }\n@@ -47,1 +44,0 @@\n-  bool gc_succeeded() const { return _gc_succeeded; }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1VMOperations.hpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"}]}
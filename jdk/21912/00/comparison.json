{"files":[{"patch":"@@ -192,1 +192,1 @@\n-    private static String lambdaClassName(Class<?> targetClass) {\n+    private static String sanitizedTargetClassName(Class<?> targetClass) {\n@@ -198,1 +198,5 @@\n-        return name.replace('.', '\/').concat(\"$$Lambda\");\n+        return name.replace('.', '\/');\n+    }\n+\n+    private static String lambdaClassName(Class<?> targetClass) {\n+        return sanitizedTargetClassName(targetClass).concat(\"$$Lambda\");\n@@ -437,1 +441,1 @@\n-                           .ldc(classDesc(targetClass))\n+                           .ldc(ClassDesc.ofInternalName(sanitizedTargetClassName(targetClass)))\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InnerClassLambdaMetafactory.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -210,0 +210,13 @@\n+ * <p>Uses besides evaluation of lambda expressions and method references are\n+ * unintended.  These linkage methods may change their unspecified behaviors at\n+ * any time to better suit the Java language features, which may impact\n+ * unintended uses.  For example, classes and interfaces in Java source code\n+ * are all strongly reachable from their defining loaders (JLS {@jls 12.7}).\n+ * Thus, the class implementing the \"function objects\" returned by these methods\n+ * may be similarly strongly reachable from the defining class loader of the\n+ * caller of these methods, because these objects are logically a part of the\n+ * caller class or interface.  These methods do not have to consider the scenario\n+ * where the caller is {@linkplain MethodHandles.Lookup#defineHiddenClass not\n+ * strongly reachable} from its defining class loader, and such use cases may\n+ * lead to resource leaks.\n+ *\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/LambdaMetafactory.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"}]}
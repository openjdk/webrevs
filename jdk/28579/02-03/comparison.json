{"files":[{"patch":"@@ -37,0 +37,1 @@\n+import java.io.IOException;\n@@ -46,3 +47,2 @@\n-        var pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+PrintFlagsFinal\", \"-version\");\n-        var flagsFinal = makeOptionNameSet(new OutputAnalyzer(pb.start()));\n-        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n+        var flagsFinal = runAndMakeVMOptionSet(\"-XX:+PrintFlagsFinal\", \"-version\");\n+        var flagsFinalUnlocked = runAndMakeVMOptionSet(\n@@ -50,2 +50,0 @@\n-        var flagsFinalUnlocked = makeOptionNameSet(new OutputAnalyzer(pb.start()));\n-\n@@ -58,1 +56,2 @@\n-    private static Set<String> makeOptionNameSet(OutputAnalyzer output) {\n+    private static Set<String> runAndMakeVMOptionSet(String... args) throws IOException {\n+        var output = new OutputAnalyzer(ProcessTools.createLimitedTestJavaProcessBuilder(args).start());\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/PrintAllFlags.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"}]}
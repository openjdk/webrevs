{"files":[{"patch":"@@ -437,0 +437,1 @@\n+  jlong headers = 0;\n@@ -465,0 +466,1 @@\n+        headers++;\n@@ -510,0 +512,1 @@\n+            headers--;\n@@ -552,1 +555,1 @@\n-  size_t overhead_NMT = count * MemTracker::overhead_per_malloc();\n+  size_t overhead_NMT = headers * MemTracker::overhead_per_malloc();\n@@ -556,2 +559,2 @@\n-  fprintf(stderr, \"time:%'ld[ns] [samples:%'ld]\\n\", nanoseconds, count);\n-  fprintf(stderr, \"memory requested:%'zu bytes, allocated:%'zu bytes, \\n\", requestedTotal, actualTotal);\n+  fprintf(stderr, \"time:%'ld[ns] [samples:%'ld] [NMT headers:%'ld]\\n\", nanoseconds, count, headers);\n+  fprintf(stderr, \"memory requested:%'zu bytes, allocated:%'zu bytes\\n\", requestedTotal, actualTotal);\n@@ -562,1 +565,1 @@\n-  fprintf(stderr, \"%22s: %12s: %12s: %12s: %12s: %12s: %12s: %12s:\\n\", \"NMT type\", \"objects\", \"bytes\", \"time\", \"count%\", \"bytes%\", \"time%\", \"overhead%\");\n+  fprintf(stderr, \"%22s: %12s: %12s: %12s: %12s: %12s: %12s: %12s:\\n\", \"NMT type\", \"objects\", \"bytes\", \"time\", \"objects%\", \"bytes%\", \"time%\", \"overhead%\");\n@@ -570,1 +573,1 @@\n-    double countPercentage = 100.0 * ((double)nmtObjectsByCategory[i] \/ (double)count);\n+    double countPercentage = 100.0 * ((double)nmtObjectsByCategory[i] \/ (double)headers);\n","filename":"src\/hotspot\/share\/nmt\/memLogRecorder.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}
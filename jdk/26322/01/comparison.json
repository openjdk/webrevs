{"files":[{"patch":"@@ -326,0 +326,1 @@\n+        copyResource(DocPaths.TOC_JS, DocPaths.SCRIPT_FILES.resolve(DocPaths.TOC_JS), true);\n@@ -330,0 +331,1 @@\n+        copyResource(DocPaths.TOGGLE_SVG, DocPaths.RESOURCE_FILES.resolve(DocPaths.TOGGLE_SVG), true);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -118,0 +118,2 @@\n+    static final String TOC_ORDER_TOGGLE = \"toc-lexical-order-toggle\";\n+    static final HtmlId TOC_LIST = HtmlId.of(\"toc-list\");\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlIds.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -115,0 +115,9 @@\n+\n+            header.add(Entity.NO_BREAK_SPACE)\n+                    .add(HtmlTree.BUTTON(HtmlStyles.tocSortToggle)\n+                            .put(HtmlAttr.ID, HtmlIds.TOC_ORDER_TOGGLE)\n+                            .add(HtmlTree.IMG(writer.pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.TOGGLE_SVG),\n+                                    writer.resources.getText(\"doclet.sort_table_of_contents\")\n+                            ))\n+                    );\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TableOfContents.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -375,0 +375,1 @@\n+        addScriptElement(head, DocPaths.TOC_JS);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/Head.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -167,0 +167,5 @@\n+    \/**\n+     * The class used for lexical order toggle in the table of contents.\n+     *\/\n+    tocSortToggle,\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlStyles.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1668,0 +1668,34 @@\n+\n+nav.toc div.toc-header .toc-sort-toggle {\n+    display: flex;\n+    flex-wrap: nowrap;\n+    align-items: center;\n+    gap: 0.5em;\n+    overflow-x: auto;\n+}\n+\n+nav.toc div.toc-header input.filter-input {\n+    flex: 1 1 0;\n+    min-width: 0;\n+    height: 2em;\n+    width: auto;\n+    font-size: 1em;\n+    background-size: 18px;\n+}\n+\n+nav.toc div.toc-header button#toc-lexical-order-toggle {\n+    flex: 0 0 auto;\n+    position: static;\n+    display: inline-flex;\n+    align-items: center;\n+    padding: 0.5em;\n+    background: none;\n+    border: none;\n+    cursor: pointer;\n+}\n+\n+.main-grid nav.toc button > img {\n+    vertical-align: middle;\n+    width: 20px;\n+    height: 20px;\n+}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/stylesheet.css","additions":34,"deletions":0,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -0,0 +1,70 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * Licensed under the Universal Permissive License v 1.0 as shown at https:\/\/oss.oracle.com\/licenses\/upl\/\n+ *\/\n+\n+const LABEL_ALPHA  = \"Sort lexicographically\";\n+const LABEL_SOURCE = \"Sort by source order\";\n+\n+document.addEventListener(\"DOMContentLoaded\", () => {\n+  const sidebarNav = document.querySelector(\".main-grid nav.toc\")\n+                   || Array.from(document.querySelectorAll(\"nav.toc\"))\n+                           .find(n => !n.closest(\"#navbar-top\"));\n+  if (!sidebarNav) return;\n+\n+  const btn = sidebarNav.querySelector(\"#toc-lexical-order-toggle\");\n+  const toc = sidebarNav.querySelector(\"ol.toc-list\");\n+  if (!btn || !toc) return;\n+  const img = btn.querySelector(\"img\");\n+\n+  const sections = Array.from(toc.children);\n+\n+  const nestedMap = new Map();\n+  sections.forEach(section => {\n+    const subList = section.querySelector(\":scope > ol.toc-list\");\n+    if (subList) {\n+      nestedMap.set(subList, Array.from(subList.children));\n+    }\n+  });\n+\n+  function reorder(mode) {\n+    toc.textContent = \"\";\n+    sections.forEach(li => toc.appendChild(li));\n+\n+    nestedMap.forEach((originalChildren, subList) => {\n+      subList.textContent = \"\";\n+      if (mode === \"alpha\") {\n+        originalChildren\n+          .slice()\n+          .sort((a, b) =>\n+            a.textContent.trim()\n+             .localeCompare(b.textContent.trim(), undefined, {\n+               numeric: true,\n+               sensitivity: \"base\"\n+             })\n+          )\n+          .forEach(child => subList.appendChild(child));\n+      } else {\n+        originalChildren.forEach(child => subList.appendChild(child));\n+      }\n+    });\n+\n+    const nextLabel = (mode === \"alpha\") ? LABEL_SOURCE : LABEL_ALPHA;\n+    btn.setAttribute(\"aria-label\", nextLabel);\n+    if (img) img.alt = nextLabel;\n+    localStorage.setItem(\"toc-order-mode\", mode);\n+  }\n+\n+  reorder(localStorage.getItem(\"toc-order-mode\") || \"source\");\n+\n+  btn.addEventListener(\"click\", () => {\n+    const newMode = (btn.getAttribute(\"aria-label\") === LABEL_ALPHA)\n+                  ? \"alpha\"\n+                  : \"source\";\n+    reorder(newMode);\n+  });\n+\n+  btn.blur();\n+});\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/toc.js","additions":70,"deletions":0,"binary":false,"changes":70,"status":"added"},{"patch":"@@ -0,0 +1,13 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+\n+ Licensed under the Universal Permissive License v 1.0 as shown at https:\/\/oss.oracle.com\/licenses\/upl\/\n+-->\n+\n+<svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 100 100\">\n+    <polygon points=\"50,12.5 75,37.5 25,37.5\"\/>\n+    <polygon points=\"25,62.5 75,62.5 50,87.5\"\/>\n+<\/svg>\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/toggle.svg","additions":13,"deletions":0,"binary":false,"changes":13,"status":"added"},{"patch":"@@ -258,0 +258,1 @@\n+doclet.sort_table_of_contents=Sort table of contents members in lexicographical order\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -106,0 +106,3 @@\n+    \/** The name of the table of contents toggle javascript file. *\/\n+    public static final DocPath TOC_JS = DocPath.create(\"toc.js\");\n+\n@@ -115,0 +118,3 @@\n+    \/** The name of the table of contents toggle icon file. *\/\n+    public static final DocPath TOGGLE_SVG = DocPath.create(\"toggle.svg\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -66,1 +66,2 @@\n-                \"script-files\/search-page.js\"\n+                \"script-files\/search-page.js\",\n+                \"script-files\/toc.js\"\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testPassthruFiles\/TestPassThruFiles.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -215,0 +215,1 @@\n+            \"resource-files\/toggle.svg\",\n@@ -245,0 +246,1 @@\n+            \"script-files\/toc.js\",\n@@ -265,1 +267,0 @@\n-\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/api\/basic\/APITest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
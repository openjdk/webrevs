{"files":[{"patch":"@@ -334,0 +334,1 @@\n+        copyResource(DocPaths.TOGGLE_SVG, DocPaths.RESOURCE_FILES.resolve(DocPaths.TOGGLE_SVG), true);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -123,0 +123,2 @@\n+    static final String TOC_ORDER_TOGGLE = \"toc-lexical-order-toggle\";\n+    static final HtmlId TOC_LIST = HtmlId.of(\"toc-list\");\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlIds.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -115,0 +115,9 @@\n+\n+            header.add(Entity.NO_BREAK_SPACE)\n+                    .add(HtmlTree.BUTTON(HtmlStyles.tocSortToggle)\n+                            .put(HtmlAttr.ID, HtmlIds.TOC_ORDER_TOGGLE)\n+                            .add(HtmlTree.IMG(writer.pathToRoot.resolve(DocPaths.RESOURCE_FILES).resolve(DocPaths.TOGGLE_SVG),\n+                                    writer.resources.getText(\"doclet.sort_table_of_contents\")\n+                            ))\n+                    );\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TableOfContents.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -167,0 +167,5 @@\n+    \/**\n+     * The class used for lexical order toggle in the table of contents.\n+     *\/\n+    tocSortToggle,\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlStyles.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -25,0 +25,8 @@\n+const sortLexicalLabel = \"Sort lexicographically\";\n+const sortSourceLabel  = \"Sort by source order\";\n+const TOC_ALPHA  = \"alpha\";\n+const TOC_SOURCE = \"source\";\n+var origOlOrder = new Map();\n+var origContainerOrder = new Map();\n+var snapshotted = false;\n+\n@@ -400,0 +408,3 @@\n+\n+    snapshotAllOnce();\n+\n@@ -631,0 +642,154 @@\n+\n+    function allTocNavs() {\n+        return Array.from(document.querySelectorAll(\"nav.toc\"));\n+    }\n+\n+    function nestedTocLists(scope) {\n+        return Array.from(scope.querySelectorAll(\"ol.toc-list > li > ol\"));\n+    }\n+\n+    function textForLi(li) {\n+        var a = li.querySelector(\":scope > a\");\n+        return (a ? a.textContent : li.textContent).trim();\n+    }\n+\n+    function alphaCompare(a, b) {\n+        return textForLi(a).localeCompare(textForLi(b), undefined, {\n+            numeric: true,\n+            sensitivity: \"base\"\n+        });\n+    }\n+\n+    function snapshotTocOnce(nav){\n+        nestedTocLists(nav).forEach(function(ol){\n+            if (!origOlOrder.has(ol)) origOlOrder.set(ol, Array.from(ol.children));\n+        });\n+    }\n+    function restoreToc(nav){\n+        nestedTocLists(nav).forEach(function(ol){\n+            var orig = origOlOrder.get(ol);\n+            if (orig) orig.forEach(function(li){ ol.appendChild(li); });\n+        });\n+    }\n+    function sortTocAlpha(nav){\n+        nestedTocLists(nav).forEach(function(ol){\n+            var lis = Array.from(ol.children);\n+            if (lis.length < 2) return;\n+            lis.slice().sort(alphaCompare).forEach(function(li){ ol.appendChild(li); });\n+        });\n+    }\n+\n+    function snapshotAllOnce() {\n+        if (snapshotted) return;\n+        allTocNavs().forEach(snapshotTocOnce);\n+        document.querySelectorAll(\"main ul.member-list, main div.member-details, main section.member-details\")\n+            .forEach(function(container) {\n+                if (!origContainerOrder.has(container))\n+                    origContainerOrder.set(container, Array.from(container.children));\n+            });\n+        snapshotted = true;\n+    }\n+\n+    function restoreAllMemberContainers(){\n+        origContainerOrder.forEach(function(kids, container){\n+            kids.forEach(function(ch){ container.appendChild(ch); });\n+        });\n+    }\n+\n+    function reorderMemberDetailsAlpha() {\n+        var sidebarNav = document.querySelector(\".main-grid nav.toc\");\n+        var mainRoot = document.querySelector(\".main-grid main\");\n+        if (!sidebarNav || !mainRoot) return;\n+\n+        var containers = Array.from(\n+            mainRoot.querySelectorAll(\"section[id$='-detail'], section[id$='-details'], section.member-details, div.member-details, ul.member-list\")\n+        );\n+\n+        containers.forEach(function(container) {\n+            var scope = container.matches(\"ul.member-list, .member-details\") ?\n+                            container :\n+                            (container.querySelector(\"ul.member-list, .member-details\") || container);\n+            if (!scope) return;\n+\n+            var links = Array.from(sidebarNav.querySelectorAll(\"a[href^='#']\")).filter(function(a) {\n+                var id = a.getAttribute(\"href\").slice(1);\n+                if (!id) return false;\n+                var target = document.getElementById(decodeURI(id));\n+                return target && scope.contains(target);\n+            });\n+            if (links.length < 2) return;\n+\n+            var items = links.map(function(a) {\n+                var id = a.getAttribute(\"href\").slice(1);\n+                var target = document.getElementById(decodeURI(id));\n+                if (!target) return null;\n+                var block = target.closest(\"section.detail, div.detail\") || target;\n+                var li = block.closest(\"li\") || block;\n+                var host = li.parentElement;\n+                if (!host) return null;\n+                return {\n+                    host: host,\n+                    node: li,\n+                    text: (a.textContent || \"\").trim()\n+                };\n+            }).filter(Boolean);\n+\n+            if (items.length < 2) return;\n+            var host = items[0].host;\n+            if (!items.every(function(it) {\n+                    return it.host === host;\n+                })) return;\n+\n+            if (!origContainerOrder.has(host)) origContainerOrder.set(host, Array.from(host.children));\n+\n+            items.slice()\n+                .sort(function(x, y) {\n+                    return x.text.localeCompare(y.text, undefined, {\n+                        numeric: true,\n+                        sensitivity: \"base\"\n+                    });\n+                })\n+                .forEach(function(it) {\n+                    host.appendChild(it.node);\n+                });\n+        });\n+    }\n+\n+    function updateToggleButtons(order){\n+        var next = (order === TOC_ALPHA) ? sortSourceLabel : sortLexicalLabel;\n+        document.querySelectorAll(\".toc-sort-toggle\").forEach(function(btn){\n+            btn.setAttribute(\"aria-label\", next);\n+            btn.setAttribute(\"title\", next);\n+            btn.setAttribute(\"aria-pressed\", order === TOC_ALPHA ? \"true\" : \"false\");\n+            var img = btn.querySelector(\"img\");\n+            if (img) img.alt = next;\n+        });\n+    }\n+\n+    var tocOrder = TOC_SOURCE;\n+    updateToggleButtons(tocOrder);\n+\n+    function applyAlpha(){\n+        snapshotAllOnce();\n+        reorderMemberDetailsAlpha();\n+        allTocNavs().forEach(sortTocAlpha);\n+        initSectionData(); prevHash = null; handleScroll();\n+        updateToggleButtons(TOC_ALPHA);\n+        tocOrder = TOC_ALPHA;\n+    }\n+    function applySource(){\n+        snapshotAllOnce();\n+        restoreAllMemberContainers();\n+        allTocNavs().forEach(restoreToc);\n+        initSectionData(); prevHash = null; handleScroll();\n+        updateToggleButtons(TOC_SOURCE);\n+        tocOrder = TOC_SOURCE;\n+    }\n+\n+    document.addEventListener(\"click\", function(ev){\n+        var btn = ev.target && ev.target.closest && ev.target.closest(\".toc-sort-toggle\");\n+        if (!btn) return;\n+        if (tocOrder === TOC_SOURCE) applyAlpha(); else applySource();\n+        try { btn.blur(); } catch(_) {}\n+    });\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/script.js.template","additions":165,"deletions":0,"binary":false,"changes":165,"status":"modified"},{"patch":"@@ -1960,0 +1960,24 @@\n+\n+nav.toc div.toc-header input.filter-input {\n+    flex: 1 1 auto;\n+    min-width: 0;\n+}\n+\n+nav.toc div.toc-header .toc-sort-toggle {\n+    flex: 0 0 auto;\n+    position: static;\n+    display: inline-flex;\n+    align-items: center;\n+    padding: .5em;\n+    background: none;\n+    border: none;\n+    cursor: pointer;\n+}\n+\n+nav.toc div.toc-header .toc-sort-toggle > img {\n+    width: 22px;\n+    height: 22px;\n+    vertical-align: middle;\n+}\n+\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/stylesheet.css","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -0,0 +1,16 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+\n+ Licensed under the Universal Permissive License v 1.0 as shown at https:\/\/oss.oracle.com\/licenses\/upl\/\n+-->\n+\n+<svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 32 32\">\n+<line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-miterlimit=\"10\" x1=\"23\" y1=\"26.1\" x2=\"23\" y2=\"5\"\/>\n+    <polyline fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-miterlimit=\"10\" points=\"18.7,21.8 23,26.1 27.3,21.8 \"\/>\n+    <polyline fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-miterlimit=\"10\" points=\"12,15 12,14 9.1,6 8.9,6 6,14 6,15 \"\/>\n+    <line fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-miterlimit=\"10\" x1=\"6\" y1=\"12\" x2=\"12\" y2=\"12\"\/>\n+    <polyline fill=\"none\" stroke=\"#000000\" stroke-width=\"2\" stroke-miterlimit=\"10\" points=\"5,18 12,18 12,19 6,25 6,26 13,26 \"\/>\n+<\/svg>\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/toggle.svg","additions":16,"deletions":0,"binary":false,"changes":16,"status":"added"},{"patch":"@@ -259,0 +259,1 @@\n+doclet.sort_table_of_contents=Sort table of contents members in lexicographical order\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -118,0 +118,3 @@\n+    \/** The name of the table of contents toggle icon file. *\/\n+    public static final DocPath TOGGLE_SVG = DocPath.create(\"toggle.svg\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -218,0 +218,1 @@\n+            \"resource-files\/toggle.svg\",\n@@ -268,1 +269,0 @@\n-\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/api\/basic\/APITest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
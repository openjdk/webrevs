{"files":[{"patch":"@@ -57,1 +57,2 @@\n-  while (Atomic::cmpxchg(&_state, unlocked, locked) != unlocked) {\n+  while (Atomic::load(&_state) == locked ||\n+         Atomic::cmpxchg(&_state, unlocked, locked) != unlocked) {\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahLock.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
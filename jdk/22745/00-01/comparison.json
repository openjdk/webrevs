{"files":[{"patch":"@@ -1089,1 +1089,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/os\/posix\/perfMemory_posix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1806,1 +1806,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/os\/windows\/perfMemory_windows.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -144,1 +144,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/nmt\/memBaseline.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -469,1 +469,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/nmt\/memReporter.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -135,1 +135,1 @@\n-      MemTracker::NmtVirtualMemoryLocker ml;\n+      ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -161,1 +161,1 @@\n-      MemTracker::NmtVirtualMemoryLocker ml;\n+      ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -172,1 +172,1 @@\n-      MemTracker::NmtVirtualMemoryLocker ml;\n+      ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -180,1 +180,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -188,1 +188,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -197,1 +197,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -206,1 +206,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -220,1 +220,1 @@\n-      MemTracker::NmtVirtualMemoryLocker ml;\n+      ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -229,1 +229,1 @@\n-      MemTracker::NmtVirtualMemoryLocker ml;\n+      ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -98,1 +98,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/nmt\/nmtUsage.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-  MemTracker::NmtVirtualMemoryLocker ml;\n+  ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -65,1 +65,1 @@\n-  MemTracker::NmtVirtualMemoryLocker ml;\n+  ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/nmt\/threadStackTracker.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -672,1 +672,1 @@\n-  MemTracker::NmtVirtualMemoryLocker ml;\n+  ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2180,1 +2180,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -2202,1 +2202,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -2287,1 +2287,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n@@ -2326,1 +2326,1 @@\n-    MemTracker::NmtVirtualMemoryLocker ml;\n+    ConditionalMutexLocker cml(NmtVirtualMemory_lock, MemTracker::is_done_bootstrap(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -55,2 +55,0 @@\n-bool MemTracker::_bootstrapping_done;\n-\n","filename":"src\/hotspot\/share\/nmt\/memTracker.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,9 +64,0 @@\n-  \/\/ We need this to avoid attempting to lock NmtVirtualMemory_lock during VM init (before mutexes are ready or current thread has been assigned).\n-  static inline bool is_bootstrapping_done()  {\n-    return _bootstrapping_done;\n-  }\n-\n-  static inline void set_bootstrapping_done()  {\n-    _bootstrapping_done = true;\n-  }\n-\n@@ -75,1 +66,1 @@\n-    assert(!is_bootstrapping_done() || NmtVirtualMemory_lock->owned_by_self(),\n+    assert(!MutexLocker::is_bootstrapping_done() || NmtVirtualMemory_lock->owned_by_self(),\n@@ -304,1 +295,1 @@\n-    NmtVirtualMemoryLocker(): _cml(NmtVirtualMemory_lock, _bootstrapping_done, Mutex::_no_safepoint_check_flag){}\n+    NmtVirtualMemoryLocker(): _cml(NmtVirtualMemory_lock, MutexLocker::is_bootstrapping_done(), Mutex::_no_safepoint_check_flag){}\n@@ -315,1 +306,0 @@\n-  static bool             _bootstrapping_done;\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":2,"deletions":12,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -630,1 +630,1 @@\n-    if (MemTracker::is_bootstrapping_done()) {\n+    if (MutexLocker::is_bootstrapping_done()) {\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,0 +39,2 @@\n+bool MutexLocker::_bootstrapping_done;\n+\n","filename":"src\/hotspot\/share\/runtime\/mutex.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -238,0 +238,10 @@\n+\n+   static inline bool is_bootstrapping_done()  {\n+     return _bootstrapping_done;\n+   }\n+\n+   static inline void set_bootstrapping_done()  {\n+     _bootstrapping_done = true;\n+   }\n+ private:\n+   static bool _bootstrapping_done;\n","filename":"src\/hotspot\/share\/runtime\/mutexLocker.hpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -546,1 +546,1 @@\n-  MemTracker::set_bootstrapping_done();\n+  MutexLocker::set_bootstrapping_done();\n","filename":"src\/hotspot\/share\/runtime\/threads.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -653,1 +653,1 @@\n-      MemTracker::is_bootstrapping_done() &&\n+      MutexLocker::is_bootstrapping_done() &&\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
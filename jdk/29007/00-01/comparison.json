{"files":[{"patch":"@@ -27,3 +27,0 @@\n-import static jdk.jpackage.internal.util.XmlUtils.initDocumentBuilder;\n-\n-import java.io.ByteArrayInputStream;\n@@ -54,2 +51,1 @@\n-        final var plistReader = new PListReader(initDocumentBuilder().parse(\n-                new ByteArrayInputStream(Files.readAllBytes(infoPListFile))));\n+        final var plistReader = new PListReader(Files.readAllBytes(infoPListFile));\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/AppImageInfoPListFile.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -166,0 +166,15 @@\n+            \/\/\n+            \/\/ Use javax.xml.parsers.DocumentBuilder#parse(java.io.InputStream).\n+            \/\/ Don't use javax.xml.parsers.DocumentBuilder#parse(java.io.File) as this will introduce\n+            \/\/ dependency on how the XML parser reports filesystem I\/O errors.\n+            \/\/ E.g.: the default JDK XML parser throws java.io.FileNotFoundException if the supplied\n+            \/\/ directory is not found and throws org.xml.sax.SAXParseException if the supplied file is a directory.\n+            \/\/ Another DOM XML parser (a different version of Xerces?) may behave differently.\n+            \/\/\n+            \/\/ The use of javax.xml.parsers.DocumentBuilder#parse(java.io.InputStream) eliminates\n+            \/\/ differences in how XML parsers handle file system I\/O errors.\n+            \/\/ Filesystem I\/O is delegated to java.nio.file.Files#readAllBytes(java.nio.file.Path),\n+            \/\/ XML parser deals with the byte stream in memory and the error handling code\n+            \/\/ doesn't depend on how XML parser reports filesystem I\/O errors because\n+            \/\/ it reads data from memory, not from the filesystem.\n+            \/\/\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/AppImageFile.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2025, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,0 @@\n-import javax.xml.parsers.ParserConfigurationException;\n@@ -314,1 +313,1 @@\n-    public PListReader(byte[] xmlData) throws ParserConfigurationException, SAXException, IOException {\n+    public PListReader(byte[] xmlData) throws SAXException, IOException {\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/util\/PListReader.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -42,1 +42,0 @@\n-import javax.xml.parsers.ParserConfigurationException;\n@@ -370,1 +369,1 @@\n-    private void verifyMacEntitlements(JPackageCommand cmd) throws ParserConfigurationException, SAXException, IOException {\n+    private void verifyMacEntitlements(JPackageCommand cmd) throws SAXException, IOException {\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/LauncherVerifier.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -399,2 +399,1 @@\n-  \/\/ One buffer per thread.\n-  return ParallelGCThreads * G1UpdateBufferSize;\n+  return ParallelGCThreads * G1PerThreadPendingCardThreshold;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -164,3 +164,4 @@\n-  product(size_t, G1UpdateBufferSize, 256,                                  \\\n-          \"Size of an update buffer\")                                       \\\n-          constraint(G1UpdateBufferSizeConstraintFunc, AtParse)             \\\n+  product(size_t, G1PerThreadPendingCardThreshold, 256, DIAGNOSTIC,         \\\n+          \"Amount of pending cards allowed on the card table per GC \"       \\\n+          \"worker thread before considering starting refinement.\")          \\\n+          range(0, UINT_MAX)                                                \\\n","filename":"src\/hotspot\/share\/gc\/g1\/g1_globals.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -207,6 +207,0 @@\n-\n-JVMFlag::Error G1UpdateBufferSizeConstraintFunc(size_t value, bool verbose) {\n-  return buffer_size_constraint_helper(FLAG_MEMBER_ENUM(G1UpdateBufferSize),\n-                                       value,\n-                                       verbose);\n-}\n","filename":"src\/hotspot\/share\/gc\/g1\/jvmFlagConstraintsG1.cpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -50,1 +50,0 @@\n-  f(size_t, G1UpdateBufferSizeConstraintFunc)         \\\n","filename":"src\/hotspot\/share\/gc\/g1\/jvmFlagConstraintsG1.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -537,0 +537,1 @@\n+  { \"G1UpdateBufferSize\",           JDK_Version::undefined(), JDK_Version::jdk(25), JDK_Version::jdk(26) },\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -238,1 +238,0 @@\n-        excludeTestMaxRange(\"G1UpdateBufferSize\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/TestOptionsWithRanges.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-\/* @test @key stress randomness @library \/vmTestbase \/test\/lib @run main\/othervm -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=0 -XX:G1HeapRegionSize=1m -XX:G1RSetUpdatingPauseTimePercent=0 -XX:G1UpdateBufferSize=1 -XX:+UnlockDiagnosticVMOptions -XX:+VerifyAfterGC -Xlog:gc=debug,gc+refine=debug:gc.log gc.ArrayJuggle.Juggle2 -tg *\/\n+\/* @test @key stress randomness @library \/vmTestbase \/test\/lib @run main\/othervm -XX:-G1UseAdaptiveIHOP -XX:InitiatingHeapOccupancyPercent=0 -XX:G1HeapRegionSize=1m -XX:G1RSetUpdatingPauseTimePercent=0 -XX:+UnlockDiagnosticVMOptions -XX:G1PerThreadPendingCardThreshold=0 -XX:+VerifyAfterGC -Xlog:gc=debug,gc+refine=debug:gc.log gc.ArrayJuggle.Juggle2 -tg *\/\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/gc\/ArrayJuggle\/Juggle2.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
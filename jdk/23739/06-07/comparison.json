{"files":[{"patch":"@@ -203,10 +203,0 @@\n-class G1SwapThreadCardTableClosure : public HandshakeClosure {\n-public:\n-  G1SwapThreadCardTableClosure() : HandshakeClosure(\"G1 Swap JT card table\") { }\n-\n-  virtual void do_thread(Thread* t) {\n-    G1BarrierSet* bs = G1BarrierSet::g1_barrier_set();\n-    G1ThreadLocalData::set_byte_map_base(t, bs->card_table()->byte_map_base());\n-  }\n-};\n-\n@@ -221,1 +211,10 @@\n-    G1SwapThreadCardTableClosure cl;\n+    class G1SwapThreadCardTableClosure : public HandshakeClosure {\n+    public:\n+      G1SwapThreadCardTableClosure() : HandshakeClosure(\"G1 Swap JT card table\") { }\n+\n+      virtual void do_thread(Thread* t) {\n+        G1BarrierSet* bs = G1BarrierSet::g1_barrier_set();\n+        G1ThreadLocalData::set_byte_map_base(t, bs->card_table()->byte_map_base());\n+      }\n+    } cl;\n+\n@@ -250,1 +249,1 @@\n-        \/\/ Light weight \"handshake\" of the GC threads\n+        \/\/ Light weight \"handshake\" of the GC threads for memory synchronization.\n@@ -252,4 +251,0 @@\n-\n-        G1SwapThreadCardTableClosure cl;\n-        G1CollectedHeap::heap()->gc_threads_do(&cl);\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.cpp","additions":11,"deletions":16,"binary":false,"changes":27,"status":"modified"}]}
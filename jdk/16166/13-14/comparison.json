{"files":[{"patch":"@@ -47,0 +47,1 @@\n+import javax.print.attribute.standard.OutputBin;\n@@ -49,1 +50,0 @@\n-import javax.print.attribute.standard.OutputBin;\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CPrinterJob.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -84,0 +84,1 @@\n+import javax.print.attribute.standard.OutputBin;\n@@ -93,1 +94,0 @@\n-import javax.print.attribute.standard.OutputBin;\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/RasterPrinterJob.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2926,2 +2926,3 @@\n-\n-            cbOutput.addItemListener(this);\n+            if (outputEnabled) {\n+                cbOutput.addItemListener(this);\n+            }\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/ServiceDialog.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -95,0 +95,4 @@\n+        if (supportedOutputBins == null) {\n+            return;\n+        }\n+\n@@ -184,2 +188,8 @@\n-        if (service == null || !service.isAttributeCategorySupported(OutputBin.class)) {\n-            return new OutputBin[0];\n+        if (service == null) {\n+            System.out.printf(\"No print service found.\");\n+            return null;\n+        }\n+\n+        if (!service.isAttributeCategorySupported(OutputBin.class)) {\n+            System.out.printf(\"Skipping the test as OutputBin category is not supported for this printer.\");\n+            return null;\n@@ -190,1 +200,1 @@\n-        if (obj instanceof Attribute[]) {\n+        if (obj instanceof OutputBin[]) {\n@@ -194,1 +204,1 @@\n-        return new OutputBin[0];\n+        throw new RuntimeException(\"OutputBin category is supported but no supported attribute values are returned.\");\n","filename":"test\/jdk\/javax\/print\/attribute\/OutputBinAttributePrintDialogTest.java","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -79,4 +79,8 @@\n-            if (supportedOutputBins.size() > 1) {\n-                testTotalCount = supportedOutputBins.size();\n-                for(OutputBin outputBin: supportedOutputBins) {\n-                    testPrint(outputBin, supportedOutputBins);\n+            if (supportedOutputBins != null) {\n+                if (supportedOutputBins.size() > 1) {\n+                    testTotalCount = supportedOutputBins.size();\n+                    for (OutputBin outputBin : supportedOutputBins) {\n+                        testPrint(outputBin, supportedOutputBins);\n+                    }\n+                } else {\n+                    System.out.println(\"Skip the test as the number of supported output bins is less than 2.\");\n@@ -84,2 +88,0 @@\n-            } else {\n-                System.out.println(\"Skip the test as the number of supported output bins is less than 2.\");\n@@ -163,2 +165,8 @@\n-        if (service == null || !service.isAttributeCategorySupported(OutputBin.class)) {\n-            return supportedOutputBins;\n+        if (service == null) {\n+            System.out.printf(\"No print service found.\");\n+            return null;\n+        }\n+\n+        if (!service.isAttributeCategorySupported(OutputBin.class)) {\n+            System.out.printf(\"Skipping the test as OutputBin category is not supported for this printer.\");\n+            return null;\n@@ -169,3 +177,3 @@\n-        if (obj instanceof Attribute[]) {\n-            OutputBin[] attrs = (OutputBin[]) obj;\n-            Collections.addAll(supportedOutputBins, attrs);\n+        if (obj instanceof OutputBin[]) {\n+            Collections.addAll(supportedOutputBins, (OutputBin[]) obj);\n+            return supportedOutputBins;\n@@ -174,1 +182,1 @@\n-        return supportedOutputBins;\n+        throw new RuntimeException(\"OutputBin category is supported but no supported attribute values are returned.\");\n","filename":"test\/jdk\/javax\/print\/attribute\/OutputBinAttributeTest.java","additions":20,"deletions":12,"binary":false,"changes":32,"status":"modified"}]}
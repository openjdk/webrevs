{"files":[{"patch":"@@ -75,0 +75,8 @@\n+    private enum IconType {\n+        EXPANDED,\n+        COLLAPSED\n+    }\n+\n+    private Icon expandedIconWrapper = new IconWrapper(IconType.EXPANDED);\n+\n+    private Icon collapsedIconWrapper = new IconWrapper(IconType.COLLAPSED);\n@@ -76,1 +84,0 @@\n-    private Icon expandedIconWrapper = new ExpandedIconWrapper();\n@@ -78,1 +85,0 @@\n-    private Icon collapsedIconWrapper = new CollapsedIconWrapper();\n@@ -792,10 +798,5 @@\n-    private class ExpandedIconWrapper implements SynthIcon {\n-        public void paintIcon(SynthContext context, Graphics g, int x,\n-                              int y, int w, int h) {\n-            if (context == null) {\n-                context = getContext(tree);\n-                SynthGraphicsUtils.paintIcon(expandedIcon, context, g, x, y, w, h);\n-            }\n-            else {\n-                SynthGraphicsUtils.paintIcon(expandedIcon, context, g, x, y, w, h);\n-            }\n+    private class IconWrapper implements SynthIcon {\n+        IconType iconType;\n+        public IconWrapper(IconType type) {\n+            super();\n+            iconType = type;\n@@ -804,26 +805,0 @@\n-        public int getIconWidth(SynthContext context) {\n-            int width;\n-            if (context == null) {\n-                context = getContext(tree);\n-                width = SynthGraphicsUtils.getIconWidth(expandedIcon, context);\n-            }\n-            else {\n-                width = SynthGraphicsUtils.getIconWidth(expandedIcon, context);\n-            }\n-            return width;\n-        }\n-\n-        public int getIconHeight(SynthContext context) {\n-            int height;\n-            if (context == null) {\n-                context = getContext(tree);\n-                height = SynthGraphicsUtils.getIconHeight(expandedIcon, context);\n-            }\n-            else {\n-                height = SynthGraphicsUtils.getIconHeight(expandedIcon, context);\n-            }\n-            return height;\n-        }\n-    }\n-\n-    private class CollapsedIconWrapper implements SynthIcon {\n@@ -834,1 +809,5 @@\n-                SynthGraphicsUtils.paintIcon(collapsedIcon, context, g, x, y, w, h);\n+                if (iconType == IconType.EXPANDED) {\n+                    SynthGraphicsUtils.paintIcon(expandedIcon, context, g, x, y, w, h);\n+                } else {\n+                    SynthGraphicsUtils.paintIcon(collapsedIcon, context, g, x, y, w, h);\n+                }\n@@ -837,1 +816,5 @@\n-                SynthGraphicsUtils.paintIcon(collapsedIcon, context, g, x, y, w, h);\n+                if (iconType == IconType.EXPANDED) {\n+                    SynthGraphicsUtils.paintIcon(expandedIcon, context, g, x, y, w, h);\n+                } else {\n+                    SynthGraphicsUtils.paintIcon(collapsedIcon, context, g, x, y, w, h);\n+                }\n@@ -845,1 +828,5 @@\n-                width = SynthGraphicsUtils.getIconWidth(collapsedIcon, context);\n+                if (iconType == IconType.EXPANDED) {\n+                    width = SynthGraphicsUtils.getIconWidth(expandedIcon, context);\n+                } else {\n+                    width = SynthGraphicsUtils.getIconWidth(collapsedIcon, context);\n+                }\n@@ -848,1 +835,5 @@\n-                width = SynthGraphicsUtils.getIconWidth(collapsedIcon, context);\n+                if (iconType == IconType.EXPANDED) {\n+                    width = SynthGraphicsUtils.getIconWidth(expandedIcon, context);\n+                } else {\n+                    width = SynthGraphicsUtils.getIconWidth(collapsedIcon, context);\n+                }\n@@ -857,1 +848,5 @@\n-                height = SynthGraphicsUtils.getIconHeight(collapsedIcon, context);\n+                if (iconType == IconType.EXPANDED) {\n+                    height = SynthGraphicsUtils.getIconHeight(expandedIcon, context);\n+                } else {\n+                    height = SynthGraphicsUtils.getIconHeight(collapsedIcon, context);\n+                }\n@@ -860,1 +855,5 @@\n-                height = SynthGraphicsUtils.getIconHeight(collapsedIcon, context);\n+                if (iconType == IconType.EXPANDED) {\n+                    height = SynthGraphicsUtils.getIconHeight(expandedIcon, context);\n+                } else {\n+                    height = SynthGraphicsUtils.getIconHeight(collapsedIcon, context);\n+                }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthTreeUI.java","additions":43,"deletions":44,"binary":false,"changes":87,"status":"modified"}]}
{"files":[{"patch":"@@ -67,0 +67,3 @@\n+        if(remaining==0) {\n+            close();\n+        }\n@@ -83,0 +86,3 @@\n+        if(remaining==0) {\n+            close();\n+        }\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/FixedLengthOutputStream.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -29,2 +29,1 @@\n- * @run main\/timeout=5 B6968351\n- * @run main\/othervm -Dsun.net.httpserver.nodelay=false B6968351\n+ * @run main\/timeout=5 -Dsun.net.httpserver.nodelay=false B6968351\n@@ -41,0 +40,1 @@\n+import java.nio.charset.StandardCharsets;\n@@ -92,2 +92,1 @@\n-            t.getResponseBody().write(\"hello\".getBytes());\n-            t.close();\n+            t.getResponseBody().write(\"hello\".getBytes(StandardCharsets.ISO_8859_1));\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/B6968351.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}
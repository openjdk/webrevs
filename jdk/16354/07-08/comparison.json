{"files":[{"patch":"@@ -4065,0 +4065,2 @@\n+    assert(UseAVX >= 2, \"sanity\");\n+\n@@ -4067,0 +4069,2 @@\n+\n+    assert(Matcher::vector_length_in_bytes(this) >= 16, \"sanity\");\n@@ -4068,1 +4072,6 @@\n-    __ vpcmpeqd($mask$$XMMRegister, $mask$$XMMRegister, $mask$$XMMRegister, vlen_enc);\n+\n+    if (vlen_enc == Assembler::AVX_128bit) {\n+      __ movdqu($mask$$XMMRegister, ExternalAddress(vector_all_bits_set()), noreg);\n+    } else {\n+      __ vmovdqu($mask$$XMMRegister, ExternalAddress(vector_all_bits_set()), noreg);\n+    }\n@@ -4083,0 +4092,2 @@\n+    assert(UseAVX > 2, \"sanity\");\n+\n@@ -4085,1 +4096,4 @@\n-    __ kxnorwl($ktmp$$KRegister, $ktmp$$KRegister, $ktmp$$KRegister);\n+\n+    assert(!is_subword_type(elem_bt), \"sanity\"); \/\/ T_INT, T_LONG, T_FLOAT, T_DOUBLE\n+\n+    __ kmovwl($ktmp$$KRegister, ExternalAddress(vector_all_bits_set()), noreg);\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":16,"deletions":2,"binary":false,"changes":18,"status":"modified"}]}
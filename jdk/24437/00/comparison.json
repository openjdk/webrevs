{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,2 +30,0 @@\n-import static java.nio.charset.StandardCharsets.UTF_8;\n-\n@@ -68,1 +66,1 @@\n-        int ec = SimpleFileServerImpl.start(new PrintWriter(System.out, true, UTF_8), \"jwebserver\", args);\n+        int ec = SimpleFileServerImpl.start(new PrintWriter(System.out, true), \"jwebserver\", args);\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/JWebServer.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,0 @@\n-import static java.nio.charset.StandardCharsets.UTF_8;\n@@ -64,1 +63,1 @@\n-        int ec = SimpleFileServerImpl.start(new PrintWriter(System.out, true, UTF_8), \"java\", args);\n+        int ec = SimpleFileServerImpl.start(new PrintWriter(System.out, true), \"java\", args);\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/Main.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,0 +51,1 @@\n+    static final String LOCALE_OPT = \"-Duser.language=en -Duser.country=US\";\n@@ -77,1 +78,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt)\n@@ -100,1 +101,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, arg, arg)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, arg, arg)\n@@ -127,1 +128,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt)\n@@ -151,1 +152,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, val)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, val)\n@@ -162,1 +163,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, \"65536\")  \/\/ range 0 to 65535\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, \"65536\")  \/\/ range 0 to 65535\n@@ -175,1 +176,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, root.toString())\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, root.toString())\n@@ -185,1 +186,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, file)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, file)\n@@ -195,1 +196,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, root.toString())\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, root.toString())\n@@ -212,1 +213,1 @@\n-            simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, root.toString())\n+            simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, root.toString())\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLineNegativeTest.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+    static final String LOCALE_OPT = \"-Duser.language=en -Duser.country=US\";\n@@ -87,1 +88,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\")\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\")\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLinePortNotSpecifiedTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,0 +53,1 @@\n+    static final String LOCALE_OPT = \"-Duser.language=en -Duser.country=US\";\n@@ -87,1 +88,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, TEST_DIR_STR)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, TEST_DIR_STR)\n@@ -100,1 +101,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, \"0\")\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, \"0\")\n@@ -131,1 +132,1 @@\n-                     JAVA, \"-m\", \"jdk.httpserver\", opt)\n+                     JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt)\n@@ -145,1 +146,1 @@\n-                JAVA, \"-m\", \"jdk.httpserver\", opt)\n+                JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt)\n@@ -155,1 +156,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, \"0.0.0.0\")\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, \"0.0.0.0\")\n@@ -160,1 +161,1 @@\n-            simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, \"::0\")\n+            simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, \"::0\")\n@@ -170,1 +171,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, \"123.4.5.6\", opt, LOOPBACK_ADDR)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, \"123.4.5.6\", opt, LOOPBACK_ADDR)\n@@ -180,1 +181,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, TEST_DIR_STR, opt, TEST_DIR_STR)\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, TEST_DIR_STR, opt, TEST_DIR_STR)\n@@ -193,1 +194,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, \"none\", opt, \"verbose\")\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", \"-p\", \"0\", opt, \"none\", opt, \"verbose\")\n@@ -203,1 +204,1 @@\n-        simpleserver(JAVA, \"-m\", \"jdk.httpserver\", opt, \"-999\", opt, \"0\")\n+        simpleserver(JAVA, LOCALE_OPT, \"-m\", \"jdk.httpserver\", opt, \"-999\", opt, \"0\")\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLinePositiveTest.java","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,0 +52,1 @@\n+    static final String LOCALE_OPT = \"-J-Duser.language=en -J-Duser.country=US\";\n@@ -77,1 +78,1 @@\n-        simpleserver(JWEBSERVER, opt)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt)\n@@ -100,1 +101,1 @@\n-        simpleserver(JWEBSERVER, opt, arg, arg)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, arg, arg)\n@@ -127,1 +128,1 @@\n-        simpleserver(JWEBSERVER, opt)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt)\n@@ -151,1 +152,1 @@\n-        simpleserver(JWEBSERVER, opt, val)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, val)\n@@ -162,1 +163,1 @@\n-        simpleserver(JWEBSERVER, opt, \"65536\")  \/\/ range 0 to 65535\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, \"65536\")  \/\/ range 0 to 65535\n@@ -175,1 +176,1 @@\n-        simpleserver(JWEBSERVER, opt, root.toString())\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, root.toString())\n@@ -185,1 +186,1 @@\n-        simpleserver(JWEBSERVER, opt, file)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, file)\n@@ -195,1 +196,1 @@\n-        simpleserver(JWEBSERVER, opt, root.toString())\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, root.toString())\n@@ -212,1 +213,1 @@\n-            simpleserver(JWEBSERVER, opt, root.toString())\n+            simpleserver(JWEBSERVER, LOCALE_OPT, opt, root.toString())\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLineNegativeTest.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+    static final String LOCALE_OPT = \"-J-Duser.language=en -J-Duser.country=US\";\n@@ -87,1 +88,1 @@\n-        simpleserver(JWEBSERVER)\n+        simpleserver(JWEBSERVER, LOCALE_OPT)\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLinePortNotSpecifiedTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,0 +53,1 @@\n+    static final String LOCALE_OPT = \"-J-Duser.language=en -J-Duser.country=US\";\n@@ -87,1 +88,1 @@\n-        simpleserver(JWEBSERVER, \"-p\", \"0\", opt, TEST_DIR_STR)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, \"-p\", \"0\", opt, TEST_DIR_STR)\n@@ -100,1 +101,1 @@\n-        simpleserver(JWEBSERVER, opt, \"0\")\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, \"0\")\n@@ -131,1 +132,1 @@\n-                JWEBSERVER, opt)\n+                JWEBSERVER, LOCALE_OPT, opt)\n@@ -145,1 +146,1 @@\n-                JWEBSERVER, opt)\n+                JWEBSERVER, LOCALE_OPT, opt)\n@@ -155,1 +156,1 @@\n-        simpleserver(JWEBSERVER, \"-p\", \"0\", opt, \"0.0.0.0\")\n+        simpleserver(JWEBSERVER, LOCALE_OPT, \"-p\", \"0\", opt, \"0.0.0.0\")\n@@ -160,1 +161,1 @@\n-            simpleserver(JWEBSERVER, opt, \"::0\")\n+            simpleserver(JWEBSERVER, LOCALE_OPT, opt, \"::0\")\n@@ -170,1 +171,1 @@\n-        simpleserver(JWEBSERVER, \"-p\", \"0\", opt, \"123.4.5.6\", opt, LOOPBACK_ADDR)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, \"-p\", \"0\", opt, \"123.4.5.6\", opt, LOOPBACK_ADDR)\n@@ -180,1 +181,1 @@\n-        simpleserver(JWEBSERVER, \"-p\", \"0\", opt, TEST_DIR_STR, opt, TEST_DIR_STR)\n+        simpleserver(JWEBSERVER, LOCALE_OPT, \"-p\", \"0\", opt, TEST_DIR_STR, opt, TEST_DIR_STR)\n@@ -193,1 +194,1 @@\n-        simpleserver(JWEBSERVER, \"-p\", \"0\", opt, \"none\", opt, \"verbose\")\n+        simpleserver(JWEBSERVER, LOCALE_OPT, \"-p\", \"0\", opt, \"none\", opt, \"verbose\")\n@@ -203,1 +204,1 @@\n-        simpleserver(JWEBSERVER, opt, \"-999\", opt, \"0\")\n+        simpleserver(JWEBSERVER, LOCALE_OPT, opt, \"-999\", opt, \"0\")\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLinePositiveTest.java","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+    private static final String LOCALE_OPT = \"-J-Duser.language=en -J-Duser.country=US\";\n@@ -71,0 +72,1 @@\n+        cmd.add(LOCALE_OPT);\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/IPv6BoundHost.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,0 +74,1 @@\n+    static final String LOCALE_OPT = \"-J-Duser.language=en -J-Duser.country=US\";\n@@ -177,1 +178,1 @@\n-                new ProcessBuilder(JWEBSERVER, \"-p\", \"0\").directory(TEST_DIR.toFile()),\n+                new ProcessBuilder(JWEBSERVER, LOCALE_OPT, \"-p\", \"0\").directory(TEST_DIR.toFile()),\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/MaxRequestTimeTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
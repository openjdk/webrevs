{"files":[{"patch":"@@ -37,0 +37,1 @@\n+static bool printLoopExit = false;\n@@ -265,1 +266,0 @@\n-    CHECK_EXCEPTION();\n@@ -269,0 +269,3 @@\n+        printLoopExit = true;\n+    } else {\n+        CHECK_EXCEPTION();\n@@ -278,3 +281,5 @@\n-    DECLARE_METHOD(jf_completePrintLoop, sjc_CPrinterJob, \"completePrintLoop\", \"()V\");\n-    (*env)->CallVoidMethod(env, fPrinterJob, jf_completePrintLoop);\n-    CHECK_EXCEPTION();\n+    if (!printLoopExit) {\n+        DECLARE_METHOD(jf_completePrintLoop, sjc_CPrinterJob, \"completePrintLoop\", \"()V\");\n+        (*env)->CallVoidMethod(env, fPrinterJob, jf_completePrintLoop);\n+        CHECK_EXCEPTION();\n+    }\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/PrinterView.m","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}
{"files":[{"patch":"@@ -148,3 +148,0 @@\n-    fprintf(stderr, \"\\n\\nThread: %p:%p\\n\", pthread_self(), Thread::current());\n-    int err = pthread_getname_np(pthread_self(), buf, MAXTHREADNAMESIZE);\n-    fprintf(stderr, \"pthread_getname_np: %d:%zu:%s\\n\", err, strlen(buf), strlen(buf)>0 ? buf:\"N\/A\");\n@@ -152,3 +149,5 @@\n-      fprintf(stderr, \"Thread::current()->name(): %s\\n\", Thread::current()->name());\n-    } else {\n-      fprintf(stderr, \"Thread::current()->name(): N\/A\\n\");\n+      strncpy(buf, Thread::current()->name(), MAXTHREADNAMESIZE-1);\n+      \/\/ filter out temp thread names\n+      if (strcmp(buf, \"Unknown thread\") == 0) {\n+        buf[0] = 0;\n+      }\n@@ -172,0 +171,1 @@\n+        \/\/ we found the entry in the table\n@@ -174,0 +174,1 @@\n+          \/\/ but we don't have the name yet, so try\n@@ -175,1 +176,1 @@\n-          \/\/ tty->print(\" got name for thread %6ld:%lx [%s]\\n\", tid, tid, _threads_names[i].name);\n+          tty->print(\" got name for thread %6ld:%lx [%s]\\n\", tid, tid, _threads_names[i].name);\n","filename":"src\/hotspot\/share\/nmt\/memLogRecorder.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -188,1 +188,1 @@\n-  static void recordmalloc(MemTag mem_tag, size_t requested, void* ptr, const NativeCallStack *stack, void* old = nullptr) { \/\/ TODO\n+  static void record_alloc(MemTag mem_tag, size_t requested, void* ptr, const NativeCallStack *stack, void* old = nullptr) { \/\/ TODO\n","filename":"src\/hotspot\/share\/nmt\/memLogRecorder.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -1314,3 +1314,2 @@\n-    \/\/ for a JAVA_HOME environment variable and fix up the path so it\n-    \/\/ looks like libjvm.so is installed there (append a fake suffix\n-    \/\/ hotspot\/libjvm.so).\n+    \/\/ for a JAVA_HOME environment variable and construct a path to the JVM\n+    \/\/ being overridden.\n@@ -1355,1 +1354,2 @@\n-          snprintf(buf + len, buflen-len, \"\/hotspot\/libjvm.so\");\n+          snprintf(buf + len, buflen-len, \"\/%s\/libjvm%s\",\n+                   Abstract_VM_Version::vm_variant(), JNI_LIB_SUFFIX);\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1507,4 +1507,3 @@\n-    \/\/ value for buf is \"<JAVA_HOME>\/jre\/lib\/<arch>\/<vmtype>\/libjvm.so\"\n-    \/\/ or \"<JAVA_HOME>\/jre\/lib\/<vmtype>\/libjvm.dylib\". If \"\/jre\/lib\/\"\n-    \/\/ appears at the right place in the string, then assume we are\n-    \/\/ installed in a JDK and we're done. Otherwise, check for a\n+    \/\/ value for buf is or \"<JAVA_HOME>\/jre\/lib\/<vmtype>\/libjvm.dylib\".\n+    \/\/ If \"\/jre\/lib\/\" appears at the right place in the string, then\n+    \/\/ assume we are installed in a JDK and we're done. Otherwise, check for a\n@@ -1515,1 +1514,1 @@\n-    for (int count = 0; p > buf && count < 5; ++count) {\n+    for (int count = 0; p > buf && count < 4; ++count) {\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2780,3 +2780,2 @@\n-    \/\/ for a JAVA_HOME environment variable and fix up the path so it\n-    \/\/ looks like libjvm.so is installed there (append a fake suffix\n-    \/\/ hotspot\/libjvm.so).\n+    \/\/ for a JAVA_HOME environment variable and construct a path to the JVM\n+    \/\/ being overridden.\n@@ -2784,1 +2783,1 @@\n-    for (int count = 0; p > buf && count < 5; ++count) {\n+    for (int count = 0; p > buf && count < 4; ++count) {\n@@ -2821,1 +2820,2 @@\n-          snprintf(buf + len, buflen-len, \"\/hotspot\/libjvm.so\");\n+          snprintf(buf + len, buflen-len, \"\/%s\/libjvm%s\",\n+                   Abstract_VM_Version::vm_variant(), JNI_LIB_SUFFIX);\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2211,3 +2211,2 @@\n-    \/\/ for a JAVA_HOME environment variable and fix up the path so it\n-    \/\/ looks like jvm.dll is installed there (append a fake suffix\n-    \/\/ hotspot\/jvm.dll).\n+    \/\/ for a JAVA_HOME environment variable and construct a path to the JVM\n+    \/\/ being overridden.\n@@ -2228,1 +2227,2 @@\n-      jio_snprintf(buf + len, buflen-len, \"hotspot\\\\jvm.dll\");\n+      jio_snprintf(buf + len, buflen-len, \"%s\\\\jvm%s\",\n+                   Abstract_VM_Version::vm_variant(), JNI_LIB_SUFFIX);\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
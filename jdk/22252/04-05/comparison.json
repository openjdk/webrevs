{"files":[{"patch":"@@ -115,1 +115,1 @@\n-              System.getProperty(\"user.home\")), \".java\/.userPrefs\");\n+                      System.getProperty(\"user.home\")), \".java\/.userPrefs\");\n@@ -133,1 +133,1 @@\n-        userLockFile = new File (userRootDir,\".user.lock.\" + USER_NAME);\n+        userLockFile = new File(userRootDir,\".user.lock.\" + USER_NAME);\n@@ -177,1 +177,1 @@\n-          System.getProperty(\"java.util.prefs.systemRoot\",\"\/etc\/.java\");\n+          System.getProperty(\"java.util.prefs.systemRoot\", \"\/etc\/.java\");\n@@ -206,14 +206,15 @@\n-        systemRootModFile =\n-                       new File (systemRootDir,\".systemRootModFile\");\n-        if (!systemRootModFile.exists() && isSystemRootWritable)\n-        try {\n-            \/\/ create if does not exist.\n-            systemRootModFile.createNewFile();\n-            int result = chmod(systemRootModFile.getCanonicalPath(),\n-                                                  USER_RW_ALL_READ);\n-            if (result !=0)\n-                getLogger().warning(\"Chmod failed on \" +\n-                       systemRootModFile.getCanonicalPath() +\n-                      \" Unix error code \" + result);\n-        } catch (IOException e) {\n-            getLogger().warning(e.toString());\n+        systemRootModFile = new File (systemRootDir, \".systemRootModFile\");\n+        if (!systemRootModFile.exists() && isSystemRootWritable) {\n+            try {\n+                \/\/ create if does not exist.\n+                systemRootModFile.createNewFile();\n+                int result = chmod(systemRootModFile.getCanonicalPath(),\n+                        USER_RW_ALL_READ);\n+                if (result != 0) {\n+                    getLogger().warning(\"Chmod failed on \" +\n+                            systemRootModFile.getCanonicalPath() +\n+                            \" Unix error code \" + result);\n+                }\n+            } catch (IOException e) {\n+                getLogger().warning(e.toString());\n+            }\n@@ -580,1 +581,1 @@\n-                                            +  prefsFile.getPath());\n+                                            + prefsFile.getPath());\n","filename":"src\/java.prefs\/unix\/classes\/java\/util\/prefs\/FileSystemPreferences.java","additions":19,"deletions":18,"binary":false,"changes":37,"status":"modified"}]}
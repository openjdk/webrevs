{"files":[{"patch":"@@ -62,1 +62,1 @@\n-    int externalAttributes = -1; \/\/ e.g. POSIX permissions, sym links.\n+    int externalFileAttributes = -1; \/\/ File type, setuid, setgid, sticky, POSIX permissions\n@@ -137,1 +137,1 @@\n-        externalAttributes = e.externalAttributes;\n+        externalFileAttributes = e.externalFileAttributes;\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/ZipEntry.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -691,1 +691,1 @@\n-            e.externalAttributes = CENATX_PERMS(cen, pos) & 0xFFFF;\n+            e.externalFileAttributes = CENATX_PERMS(cen, pos) & 0xFFFF;\n@@ -1159,2 +1159,2 @@\n-                public int getExternalAttributes(ZipEntry ze) {\n-                    return ze.externalAttributes;\n+                public int getExternalFileAttributes(ZipEntry ze) {\n+                    return ze.externalFileAttributes;\n@@ -1163,2 +1163,2 @@\n-                public void setExternalAttributes(ZipEntry ze, int externalAttrs) {\n-                    ze.externalAttributes = externalAttrs;\n+                public void setExternalFileAttributes(ZipEntry ze, int externalFileAttributes) {\n+                    ze.externalFileAttributes = externalFileAttributes;\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/ZipFile.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -542,1 +542,1 @@\n-        return (e.externalAttributes < 0) ? version :\n+        return (e.externalFileAttributes < 0) ? version :\n@@ -638,1 +638,1 @@\n-        writeInt(e.externalAttributes > 0 ? e.externalAttributes << 16 : 0);\n+        writeInt(e.externalFileAttributes > 0 ? e.externalFileAttributes << 16 : 0);\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/ZipOutputStream.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -45,2 +45,2 @@\n-    public void setExternalAttributes(ZipEntry ze, int externalAttrs);\n-    public int getExternalAttributes(ZipEntry ze);\n+    public void setExternalFileAttributes(ZipEntry ze, int externalFileAttributes);\n+    public int getExternalFileAttributes(ZipEntry ze);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaUtilZipFileAccess.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,1 +34,0 @@\n-import sun.security.tools.PathList;\n@@ -42,1 +41,0 @@\n-import java.lang.reflect.InvocationTargetException;\n@@ -45,2 +43,0 @@\n-import java.net.URL;\n-import java.net.URLClassLoader;\n@@ -495,1 +491,1 @@\n-    private boolean externalAttrsDetected;\n+    private boolean externalFileAttributesDetected;\n@@ -939,3 +935,3 @@\n-        int externalAttrs = JUZFA.getExternalAttributes(ze);\n-        if (!externalAttrsDetected && externalAttrs != -1) {\n-            externalAttrsDetected = true;\n+        int externalFileAttributes = JUZFA.getExternalFileAttributes(ze);\n+        if (!externalFileAttributesDetected && externalFileAttributes != -1) {\n+            externalFileAttributesDetected = true;\n@@ -944,1 +940,1 @@\n-        JUZFA.setExternalAttributes(ze2, externalAttrs);\n+        JUZFA.setExternalFileAttributes(ze2, externalFileAttributes);\n","filename":"src\/jdk.jartool\/share\/classes\/jdk\/security\/jarsigner\/JarSigner.java","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n-    private static boolean externalAttrsDetected;\n+    private static boolean externalFileAttributesDetected;\n@@ -826,2 +826,2 @@\n-                    if (!externalAttrsDetected && JUZFA.getExternalAttributes(je) != -1) {\n-                        externalAttrsDetected = true;\n+                    if (!externalFileAttributesDetected && JUZFA.getExternalFileAttributes(je) != -1) {\n+                        externalFileAttributesDetected = true;\n@@ -1314,2 +1314,2 @@\n-        if (externalAttrsDetected) {\n-            warnings.add(rb.getString(\"external.attributes.detected\"));\n+        if (externalFileAttributesDetected) {\n+            warnings.add(rb.getString(\"external.file.attributes.detected\"));\n@@ -1949,1 +1949,1 @@\n-                    (t, o) -> externalAttrsDetected = true);\n+                    (t, o) -> externalFileAttributesDetected = true);\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Main.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-        {\"external.attributes.detected\", \"POSIX file permission and\/or symlink attributes detected. These attributes are ignored when signing and are not protected by the signature.\"},\n+        {\"external.file.attributes.detected\", \"POSIX file permission and\/or symlink attributes detected. These attributes are ignored when signing and are not protected by the signature.\"},\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Resources.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-        {\"external.attributes.detected\", \"POSIX-Dateiberechtigung und\/oder Symlink-Attribute erkannt. Diese Attribute werden bei der Signatur ignoriert und sind nicht durch die Signatur gesch\\u00FCtzt.\"},\n+        {\"external.file.attributes.detected\", \"POSIX-Dateiberechtigung und\/oder Symlink-Attribute erkannt. Diese Attribute werden bei der Signatur ignoriert und sind nicht durch die Signatur gesch\\u00FCtzt.\"},\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Resources_de.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-        {\"external.attributes.detected\", \"POSIX\\u30D5\\u30A1\\u30A4\\u30EB\\u6A29\\u9650\\u307E\\u305F\\u306Fsymlink(\\u3042\\u308B\\u3044\\u306F\\u305D\\u306E\\u4E21\\u65B9)\\u306E\\u5C5E\\u6027\\u304C\\u691C\\u51FA\\u3055\\u308C\\u307E\\u3057\\u305F\\u3002\\u7F72\\u540D\\u4E2D\\u306F\\u3053\\u308C\\u3089\\u306E\\u5C5E\\u6027\\u306F\\u7121\\u8996\\u3055\\u308C\\u3001\\u7F72\\u540D\\u306B\\u3088\\u3063\\u3066\\u4FDD\\u8B77\\u3055\\u308C\\u307E\\u305B\\u3093\\u3002\"},\n+        {\"external.file.attributes.detected\", \"POSIX\\u30D5\\u30A1\\u30A4\\u30EB\\u6A29\\u9650\\u307E\\u305F\\u306Fsymlink(\\u3042\\u308B\\u3044\\u306F\\u305D\\u306E\\u4E21\\u65B9)\\u306E\\u5C5E\\u6027\\u304C\\u691C\\u51FA\\u3055\\u308C\\u307E\\u3057\\u305F\\u3002\\u7F72\\u540D\\u4E2D\\u306F\\u3053\\u308C\\u3089\\u306E\\u5C5E\\u6027\\u306F\\u7121\\u8996\\u3055\\u308C\\u3001\\u7F72\\u540D\\u306B\\u3088\\u3063\\u3066\\u4FDD\\u8B77\\u3055\\u308C\\u307E\\u305B\\u3093\\u3002\"},\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Resources_ja.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-        {\"external.attributes.detected\", \"\\u68C0\\u6D4B\\u5230 POSIX \\u6587\\u4EF6\\u6743\\u9650\\u548C\/\\u6216 symlink \\u5C5E\\u6027\\u3002\\u8FD9\\u4E9B\\u5C5E\\u6027\\u5728\\u8FDB\\u884C\\u7B7E\\u540D\\u65F6\\u4F1A\\u88AB\\u5FFD\\u7565\\uFF0C\\u4E0D\\u53D7\\u8BE5\\u7B7E\\u540D\\u7684\\u4FDD\\u62A4\\u3002\"},\n+        {\"external.file.attributes.detected\", \"\\u68C0\\u6D4B\\u5230 POSIX \\u6587\\u4EF6\\u6743\\u9650\\u548C\/\\u6216 symlink \\u5C5E\\u6027\\u3002\\u8FD9\\u4E9B\\u5C5E\\u6027\\u5728\\u8FDB\\u884C\\u7B7E\\u540D\\u65F6\\u4F1A\\u88AB\\u5FFD\\u7565\\uFF0C\\u4E0D\\u53D7\\u8BE5\\u7B7E\\u540D\\u7684\\u4FDD\\u62A4\\u3002\"},\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Resources_zh_CN.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -648,3 +648,3 @@\n-                e.posixPerms = -1;\n-            } else if (e.posixPerms == -1) {\n-                e.posixPerms = ZipUtils.permsToFlags(perms);\n+                e.externalFileAttributes = -1;\n+            } else if (e.externalFileAttributes == -1) {\n+                e.externalFileAttributes = ZipUtils.permsToFlags(perms);\n@@ -652,2 +652,2 @@\n-                e.posixPerms = ZipUtils.permsToFlags(perms) |\n-                        (e.posixPerms & 0xFE00); \/\/ Preserve unrelated bits\n+                e.externalFileAttributes = ZipUtils.permsToFlags(perms) |\n+                        (e.externalFileAttributes & 0xFE00); \/\/ Preserve unrelated bits\n@@ -2890,1 +2890,1 @@\n-        int    posixPerms = -1; \/\/ posix permissions\n+        int    externalFileAttributes = -1; \/\/ file type, setuid, setgid, sticky, posix permissions\n@@ -2926,1 +2926,1 @@\n-                    posixPerms = ZipUtils.permsToFlags((Set<PosixFilePermission>)attr.value());\n+                    externalFileAttributes = ZipUtils.permsToFlags((Set<PosixFilePermission>)attr.value());\n@@ -2961,1 +2961,1 @@\n-            this.posixPerms = e.posixPerms;\n+            this.externalFileAttributes = e.externalFileAttributes;\n@@ -2991,1 +2991,1 @@\n-            return (posixPerms < 0) ? version :\n+            return (externalFileAttributes < 0) ? version :\n@@ -3018,1 +3018,1 @@\n-                posixPerms = (CENATX_PERMS(cen, pos) & 0xFFFF); \/\/ 16 bits for file type, setuid, setgid, sticky + perms\n+                externalFileAttributes = (CENATX_PERMS(cen, pos) & 0xFFFF); \/\/ 16 bits for file type, setuid, setgid, sticky + perms\n@@ -3108,1 +3108,1 @@\n-            writeInt(os, posixPerms > 0 ? posixPerms << 16 : 0); \/\/ external file\n+            writeInt(os, externalFileAttributes > 0 ? externalFileAttributes << 16 : 0); \/\/ external file\n@@ -3531,1 +3531,1 @@\n-            if (posixPerms != -1) {\n+            if (externalFileAttributes != -1) {\n@@ -3534,1 +3534,1 @@\n-                    if ((posixPerms & ZipUtils.permToFlag(perm)) != 0) {\n+                    if ((externalFileAttributes & ZipUtils.permToFlag(perm)) != 0) {\n","filename":"src\/jdk.zipfs\/share\/classes\/jdk\/nio\/zipfs\/ZipFileSystem.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"}]}
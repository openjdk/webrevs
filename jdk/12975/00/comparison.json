{"files":[{"patch":"@@ -287,0 +287,2 @@\n+    assert(is_in_young_gen(obj), \"in young-gen\");\n+    assert(!_young_gen->to()->is_in_reserved(obj), \"in eden\/from\");\n@@ -288,4 +290,3 @@\n-    if (is_in_young_gen(obj)) {\n-      oop new_obj = obj->is_forwarded() ? obj->forwardee()\n-                                        : _young_gen->copy_to_survivor_space(obj);\n-      RawAccess<IS_NOT_NULL>::oop_store(p, new_obj);\n+    oop new_obj = obj->is_forwarded() ? obj->forwardee()\n+                                      : _young_gen->copy_to_survivor_space(obj);\n+    RawAccess<IS_NOT_NULL>::oop_store(p, new_obj);\n@@ -293,3 +294,2 @@\n-      if (is_in_young_gen(new_obj) && !is_in_young_gen(p)) {\n-        _rs->inline_write_ref_field_gc(p);\n-      }\n+    if (is_in_young_gen(new_obj) && !is_in_young_gen(p)) {\n+      _rs->inline_write_ref_field_gc(p);\n@@ -624,1 +624,6 @@\n-  _ref_processor = new ReferenceProcessor(&_span_based_discoverer);    \/\/ a vanilla reference processor\n+  static IsAliveClosure is_alive_closure(this);\n+  _ref_processor = new ReferenceProcessor(&_span_based_discoverer,\n+                                          1,                        \/\/ mt processing degree\n+                                          1,                        \/\/ mt discovery degree\n+                                          false,                    \/\/ concurrent_discovery\n+                                          &is_alive_closure);\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.cpp","additions":13,"deletions":8,"binary":false,"changes":21,"status":"modified"}]}
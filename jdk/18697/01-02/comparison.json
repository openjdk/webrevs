{"files":[{"patch":"@@ -38,1 +38,1 @@\n-TEST_F(OSLinuxTestFixture, ParseKernelVersion) {\n+TEST_VM_F(OSLinuxTestFixture, ParseKernelVersion) {\n@@ -41,1 +41,2 @@\n-  char* res_memory = os::reserve_memory(os::vm_page_size(), false, mtTest);\n+  const size_t res_memory_size = os::vm_page_size();\n+  char* res_memory = os::reserve_memory(res_memory_size, false, mtTest);\n@@ -45,2 +46,2 @@\n-    \/\/ Remove old string.\n-    os::uncommit_memory(res_memory, strlen(res_memory) + 1);\n+    \/\/ Remove old string and make all memory PROT_NONE again.\n+    os::uncommit_memory(res_memory, res_memory_size);\n@@ -64,0 +65,1 @@\n+  os::release_memory(res_memory, res_memory_size);\n","filename":"test\/hotspot\/gtest\/os\/linux\/test_os_linux.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"}]}
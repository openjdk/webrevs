{"files":[{"patch":"@@ -0,0 +1,28 @@\n+#\n+# Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+# Empty resource bundle to be used with English default bundle as parent.\n+# This is necessary to make English resources available on systems using\n+# one of the supported non-English locales as default locale.\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard_en.properties","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,28 @@\n+#\n+# Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+# Empty resource bundle to be used with English default bundle as parent.\n+# This is necessary to make English resources available on systems using\n+# one of the supported non-English locales as default locale.\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets_en.properties","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,106 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug      8372708\n+ * @summary  Javadoc ignores \"-locale\" and uses default locale for all messages and texts\n+ * @library  \/tools\/lib ..\/..\/lib\n+ * @modules jdk.compiler\/com.sun.tools.javac.api\n+ *          jdk.compiler\/com.sun.tools.javac.main\n+ *          jdk.javadoc\/jdk.javadoc.internal.tool\n+ * @build    toolbox.ToolBox javadoc.tester.*\n+ * @run main TestSupportedLocales\n+ *\/\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.Locale;\n+\n+import javadoc.tester.JavadocTester;\n+import toolbox.ToolBox;\n+\n+public class TestSupportedLocales extends JavadocTester {\n+\n+    public static void main(String... args) throws Exception {\n+        var tester = new TestSupportedLocales();\n+        tester.runTests();\n+    }\n+\n+    private final ToolBox tb = new ToolBox();\n+\n+    \/\/ A locale with an associated output message\n+    record LocalizedOutput(Locale locale, String message) {}\n+\n+    \/\/ Console messages are determined by the system default locale\n+    private final LocalizedOutput[] consoleOutput = new LocalizedOutput[] {\n+            new LocalizedOutput(Locale.CHINA, \"\\u6b63\\u5728\\u6784\\u9020 Javadoc \\u4fe1\\u606f...\"),\n+            new LocalizedOutput(Locale.GERMANY, \"Javadoc-Informationen werden erstellt...\"),\n+            new LocalizedOutput(Locale.JAPAN, \"Javadoc\\u60c5\\u5831\\u3092\\u69cb\\u7bc9\\u3057\\u3066\\u3044\\u307e\\u3059...\"),\n+            new LocalizedOutput(Locale.US, \"Constructing Javadoc information...\"),\n+    };\n+\n+    \/\/ Documentation messages are determined by the -locale option\n+    private final LocalizedOutput[] documentationOutput = new LocalizedOutput[] {\n+            new LocalizedOutput(Locale.CHINA, \"\\u7c7b\\u548c\\u63a5\\u53e3\"),\n+            new LocalizedOutput(Locale.GERMANY, \"Klassen und Schnittstellen\"),\n+            new LocalizedOutput(Locale.JAPAN, \"\\u30af\\u30e9\\u30b9\\u3068\\u30a4\\u30f3\\u30bf\\u30d5\\u30a7\\u30fc\\u30b9\"),\n+            new LocalizedOutput(Locale.US, \"Classes and Interfaces\"),\n+    };\n+\n+    \/\/ Test all combinations of system and documentation locales\n+    @Test\n+    public void testSupportedLocales(Path base) throws Exception {\n+        var src = base.resolve(\"src\");\n+        initSource(src);\n+        for (var console : consoleOutput) {\n+            for (var documentation : documentationOutput) {\n+                test(base, console, documentation);\n+            }\n+        }\n+    }\n+\n+    void test(Path base, LocalizedOutput console, LocalizedOutput documentation) throws Exception {\n+        var src = base.resolve(\"src\");\n+        var out = base.resolve(console.locale + \"-\" + documentation.locale);\n+        Locale.setDefault(console.locale);\n+        javadoc(\"-d\", out.toString(),\n+                \"-locale\", documentation.locale.toString(),\n+                \"--source-path\", src.toString(),\n+                \"p\");\n+        checkExit(Exit.OK);\n+        checkOutput(Output.OUT, true, console.message);\n+        checkOutput(\"p\/package-summary.html\", true, documentation.message);\n+    }\n+\n+    private void initSource(Path src) throws IOException {\n+        tb.writeJavaFiles(src, \"\"\"\n+            package p;\n+            \/**\n+             * A class.\n+             *\/\n+            public class C {\n+                private C() { }\n+            }\"\"\");\n+    }\n+}\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/testLocaleOption\/TestSupportedLocales.java","additions":106,"deletions":0,"binary":false,"changes":106,"status":"added"}]}
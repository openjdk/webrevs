{"files":[{"patch":"@@ -2175,0 +2175,14 @@\n+\n+      orr(t0, t0, t1);\n+      andi(t0, t0, FClassBits::nan); \/\/ if src1 or src2 is quiet or signaling NaN then return NaN\n+      beqz(t0, Compare);\n+\n+      fadd_h(dst, src1, src2);\n+      j(Done);\n+\n+      bind(Compare);\n+      if (is_min) {\n+        fmin_h(dst, src1, src2);\n+      } else {\n+        fmax_h(dst, src1, src2);\n+      }\n@@ -2179,0 +2193,14 @@\n+\n+      orr(t0, t0, t1);\n+      andi(t0, t0, FClassBits::nan); \/\/ if src1 or src2 is quiet or signaling NaN then return NaN\n+      beqz(t0, Compare);\n+\n+      fadd_s(dst, src1, src2);\n+      j(Done);\n+\n+      bind(Compare);\n+      if (is_min) {\n+        fmin_s(dst, src1, src2);\n+      } else {\n+        fmax_s(dst, src1, src2);\n+      }\n@@ -2183,15 +2211,5 @@\n-      break;\n-    default:\n-      ShouldNotReachHere();\n-  }\n-  orr(t0, t0, t1);\n-  andi(t0, t0, FClassBits::nan); \/\/ if src1 or src2 is quiet or signaling NaN then return NaN\n-  beqz(t0, Compare);\n-  switch (ft) {\n-    case FLOAT_TYPE::half_precision:\n-      fadd_h(dst, src1, src2);\n-      break;\n-    case FLOAT_TYPE::single_precision:\n-      fadd_s(dst, src1, src2);\n-      break;\n-    case FLOAT_TYPE::double_precision:\n+\n+      orr(t0, t0, t1);\n+      andi(t0, t0, FClassBits::nan); \/\/ if src1 or src2 is quiet or signaling NaN then return NaN\n+      beqz(t0, Compare);\n+\n@@ -2199,5 +2217,1 @@\n-      break;\n-    default:\n-      ShouldNotReachHere();\n-  }\n-  j(Done);\n+      j(Done);\n@@ -2205,10 +2219,2 @@\n-  bind(Compare);\n-  if (is_min) {\n-    switch (ft) {\n-      case FLOAT_TYPE::half_precision:\n-        fmin_h(dst, src1, src2);\n-        break;\n-      case FLOAT_TYPE::single_precision:\n-        fmin_s(dst, src1, src2);\n-        break;\n-      case FLOAT_TYPE::double_precision:\n+      bind(Compare);\n+      if (is_min) {\n@@ -2216,13 +2222,1 @@\n-        break;\n-      default:\n-        ShouldNotReachHere();\n-    }\n-  } else {\n-    switch (ft) {\n-      case FLOAT_TYPE::half_precision:\n-        fmax_h(dst, src1, src2);\n-        break;\n-      case FLOAT_TYPE::single_precision:\n-        fmax_s(dst, src1, src2);\n-        break;\n-      case FLOAT_TYPE::double_precision:\n+      } else {\n@@ -2230,4 +2224,4 @@\n-        break;\n-      default:\n-        ShouldNotReachHere();\n-    }\n+      }\n+      break;\n+    default:\n+      ShouldNotReachHere();\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":41,"deletions":47,"binary":false,"changes":88,"status":"modified"}]}
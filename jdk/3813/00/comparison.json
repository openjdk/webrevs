{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -929,1 +929,0 @@\n-                        assert !endStreamSent : \"internal error, send data after END_STREAM flag\";\n@@ -950,0 +949,1 @@\n+                                assert !endStreamSent : \"internal error, send data after END_STREAM flag\";\n@@ -953,0 +953,2 @@\n+                        } else {\n+                            assert !endStreamSent : \"internal error, send data after END_STREAM flag\";\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Stream.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+import static java.nio.charset.StandardCharsets.ISO_8859_1;\n@@ -307,1 +308,1 @@\n-        is.readNBytes(bytes, 0, len);\n+        int n = is.readNBytes(bytes, 0, len);\n@@ -309,1 +310,3 @@\n-            throw new IOException(\"Invalid preface: \" + new String(bytes, 0, len));\n+            System.err.printf(\"Invalid preface: read %d\/%d bytes%n\", n, len);\n+            throw new IOException(\"Invalid preface: \" +\n+                    new String(bytes, 0, len, ISO_8859_1));\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2TestServerConnection.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}
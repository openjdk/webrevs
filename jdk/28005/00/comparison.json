{"files":[{"patch":"@@ -1187,0 +1187,2 @@\n+constexpr uint64_t MAJIK_DWORD = 0xabbaabbaabbaabbaull;\n+\n@@ -1411,0 +1413,5 @@\n+  if (VerifyStackAtCalls) {\n+    __ li(t2, MAJIK_DWORD);\n+    __ sd(t2, Address(sp, framesize - 3 * wordSize));\n+  }\n+\n@@ -1432,4 +1439,0 @@\n-  if (VerifyStackAtCalls) {\n-    Unimplemented();\n-  }\n-\n@@ -2434,1 +2437,7 @@\n-      __ call_Unimplemented();\n+      int framesize = ra_->reg2offset_unchecked(OptoReg::add(ra_->_matcher._old_SP, -3*VMRegImpl::slots_per_word));\n+      Label CHECK_PASSED;\n+      __ ld(t1, Address(sp, framesize));\n+      __ li(t2, MAJIK_DWORD);\n+      __ beq(t2, t1, CHECK_PASSED);\n+      __ stop(\"MAJIK_DWORD not found\");\n+      __ bind(CHECK_PASSED);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2371,1 +2371,1 @@\n-  return 2 * VMRegImpl::slots_per_word;\n+  return 2 * VMRegImpl::slots_per_word + (VerifyStackAtCalls ? 0 : 2) ;\n","filename":"src\/hotspot\/cpu\/riscv\/sharedRuntime_riscv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
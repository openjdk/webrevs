{"files":[{"patch":"@@ -191,1 +191,1 @@\n-void PlaceholderEntry::set_next_klass_name(Symbol* next_klass_name) {\n+void PlaceholderEntry::set_next_klass_name(Symbol* next_klass_name, bool is_superclass) {\n@@ -195,0 +195,1 @@\n+  _is_superclass = is_superclass;\n@@ -202,1 +203,1 @@\n-                                   Symbol* next_klass_name){\n+                                   Symbol* next_klass_name, bool is_superclass) {\n@@ -207,1 +208,1 @@\n-  entry.set_next_klass_name(next_klass_name);\n+  entry.set_next_klass_name(next_klass_name, is_superclass);\n@@ -258,0 +259,1 @@\n+                                                 bool is_superclass,\n@@ -264,1 +266,1 @@\n-    probe = add_entry(name, loader_data, next_klass_name);\n+    probe = add_entry(name, loader_data, next_klass_name, is_superclass);\n@@ -267,1 +269,1 @@\n-      probe->set_next_klass_name(next_klass_name);\n+      probe->set_next_klass_name(next_klass_name, is_superclass);\n@@ -300,1 +302,1 @@\n-    probe->set_next_klass_name(nullptr);\n+    probe->set_next_klass_name(nullptr, false);\n","filename":"src\/hotspot\/share\/classfile\/placeholders.cpp","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -63,0 +63,1 @@\n+                                        bool is_superclass,\n@@ -96,0 +97,1 @@\n+  bool              _is_superclass; \/\/ entered for super class, not interface\n@@ -113,1 +115,1 @@\n-     _circularityThreadQ(nullptr), _loadInstanceThreadQ(nullptr), _defineThreadQ(nullptr) { }\n+     _circularityThreadQ(nullptr), _loadInstanceThreadQ(nullptr), _defineThreadQ(nullptr), _is_superclass(false) { }\n@@ -116,1 +118,1 @@\n-  void               set_next_klass_name(Symbol* next_klass_name);\n+  void               set_next_klass_name(Symbol* next_klass_name, bool is_superclass);\n@@ -136,0 +138,2 @@\n+  bool is_superclass() const { return _is_superclass; }\n+\n","filename":"src\/hotspot\/share\/classfile\/placeholders.hpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -473,1 +473,1 @@\n-                                                                  next_name, THREAD);\n+                                                                  next_name, is_superclass, THREAD);\n@@ -511,0 +511,1 @@\n+                                       bool is_superclass,\n@@ -515,2 +516,0 @@\n-  \/\/ This passes true to is_superclass even though it might not be the super class in order to perform the\n-  \/\/ optimization anyway.\n@@ -520,1 +519,1 @@\n-                                                                       true,\n+                                                                       is_superclass,\n@@ -617,0 +616,1 @@\n+  bool is_superclass = false;\n@@ -636,0 +636,1 @@\n+         is_superclass = placeholder->is_superclass();\n@@ -643,1 +644,1 @@\n-    handle_parallel_super_load(name, superclassname,\n+    handle_parallel_super_load(name, superclassname, is_superclass,\n@@ -684,1 +685,1 @@\n-                                                                      nullptr,\n+                                                                      nullptr, false,\n@@ -1467,1 +1468,1 @@\n-                                                             PlaceholderTable::DEFINE_CLASS, nullptr, THREAD);\n+                                                             PlaceholderTable::DEFINE_CLASS, nullptr, false, THREAD);\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -56,2 +56,2 @@\n-    PlaceholderTable::find_and_add(A, loader_data, define_action, nullptr, THREAD);\n-    PlaceholderTable::find_and_add(D, loader_data, define_action, nullptr, T2);\n+    PlaceholderTable::find_and_add(A, loader_data, define_action, nullptr, false, THREAD);\n+    PlaceholderTable::find_and_add(D, loader_data, define_action, nullptr, false, T2);\n@@ -60,1 +60,1 @@\n-    PlaceholderTable::find_and_add(A, loader_data, super_action, interf, THREAD);\n+    PlaceholderTable::find_and_add(A, loader_data, super_action, interf, false, THREAD);\n@@ -63,1 +63,1 @@\n-    PlaceholderTable::find_and_add(D, loader_data, super_action, interf, T2);\n+    PlaceholderTable::find_and_add(D, loader_data, super_action, interf, false, T2);\n@@ -69,2 +69,2 @@\n-    PlaceholderTable::find_and_add(A, loader_data, super_action, super, THREAD);\n-    PlaceholderTable::find_and_add(D, loader_data, super_action, super, T2);\n+    PlaceholderTable::find_and_add(A, loader_data, super_action, super, true, THREAD);\n+    PlaceholderTable::find_and_add(D, loader_data, super_action, super, true, T2);\n@@ -84,1 +84,1 @@\n-    PlaceholderTable::find_and_add(A, loader_data, super_action, supername, T2);\n+    PlaceholderTable::find_and_add(A, loader_data, super_action, supername, true, T2);\n","filename":"test\/hotspot\/gtest\/classfile\/test_placeholders.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
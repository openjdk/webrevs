[{"commit":{"message":"Code review and additional changes\n\nThrow an IllegalArgumentException exception if Security.getProperty() is\ninvoked with \"include\" as key, also add a check in the test case.\n\nInitialize java.security.Security::props in a single place, and make it\nfinal.\n\nMake sun.security.util.PropertyExpander::expandNonStrict() throw\nAssertionError instead of RuntimeException.\n\nRemove \"this file\" reference in java.security.\n\nAdditionally, use java.security.Security::check() to check the\n'getProperty.<key>' permission, as with 'setProperty.<key>'.\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"src\/java.base\/share\/classes\/sun\/security\/util\/PropertyExpander.java"},{"filename":"src\/java.base\/share\/conf\/security\/java.security"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"580d34a63b5d3b6c7d2323413f338527db2d9acd"},{"commit":{"message":"Throw an IllegalArgumentException exception if Security.setProperty(\"include\", ...) is invoked.\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"530bd81c2a73a39f00c6ba9524752f30600cd04d"},{"commit":{"message":"Ensure Security::setProperty() cannot issue an include\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"4573c2ef1942a3f4ef83e23dff4b4ed8ac553d1d"},{"commit":{"message":"Simplify PropertyExpander::expandNonStrict()\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/sun\/security\/util\/PropertyExpander.java"}],"sha":"ab2160bf3d454a152957453d4173b297cb32626e"},{"commit":{"message":"Minor documentation adjustment for more precision.\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"e38b51b1e91ed87f14a0d1238d7b17f641755f62"},{"commit":{"message":"Merge openjdk\/master into JDK-8319332"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"3626ccf100269b60c0363b6494c183cc33802d2a"},{"commit":{"message":"More documentation changes.\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"6c73962c98cc11405573711d55375136e775daa4"},{"commit":{"message":"Profiles documentation adjustments.\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"6fd9181a229465e9bf06ef2f6b1c7fef3d7e7c7c"},{"commit":{"message":"Profiles documentation adjustments.\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"0b81f5c44a7e8cc0b9febefc65d7e904094201e8"},{"commit":{"message":"Profiles documentation adjustments.\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"e906e3cf32d87c5804191fb652aa50c095a55065"},{"commit":{"message":"Update java.security documentation and fix test\n\nAdjust java.security documentation to match the latest CSR update,\nexplaining the definition of security profiles based on non-strict\nsystem property expansion.\n\nSkip specialCharsIncludes test case in platforms whose filesystem\ndoes not support paths containing Unicode characters.\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"a9b0ecbdeb7947b59eb187c05dd17161b1674007"},{"commit":{"message":"Merge 'openjdk\/master' into JDK-8319332"},"files":[],"sha":"d55f42c608fa47880e46dc3b6e7a925fb4ba1382"},{"commit":{"message":"Improve backward compatibility testing\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"7df8e8ee3a26321a0c35409d58019027fb892a93"},{"commit":{"message":"Extend backward compatibility support\n\nCo-authored-by: Francisco Ferrari <fferrari@redhat.com>\nCo-authored-by: Martin Balao <mbalao@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"454f68104ac5c02f750a638abc3d164b1c9c30d3"},{"commit":{"message":"Merge 'openjdk\/master' into JDK-8319332"},"files":[{"filename":"src\/java.base\/share\/conf\/security\/java.security"}],"sha":"4afa5a09a88932840642a459e321ece1994e167d"},{"commit":{"message":"Merge 'openjdk\/master' into JDK-8319332"},"files":[],"sha":"d414fd56e583f321aaa944b61e27631b225b9fa3"},{"commit":{"message":"Merge 'openjdk\/master' into JDK-8319332\n\nConflict in ConfigFileTest.java solved by keeping our file, which had\nbeen previously adjusted.\n\nCommands:\n  git merge upstream\/master\n  git restore --ours -- test\/jdk\/java\/security\/Security\/ConfigFileTest.java\n  git add test\/jdk\/java\/security\/Security\/ConfigFileTest.java\n  git merge --continue"},"files":[],"sha":"0965929dea0de18ec0552c9e28b9c4b9fd2dadeb"},{"commit":{"message":"8319332: Adjust code for JDK-8319673 changes\n\nJDK-8319673: Few security tests ignore VM flags\n\nNext, we will merge the openjdk\/master branch and ignore the conflict in\nthis file.\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"0dbc5d8a8f39c79af29dd0f8a5a7497339f7115f"},{"commit":{"message":"8319332: Update copyright and ConfigFileTest.java.\n\nBump copyright year to 2024 in all the modified files.\n\nRemove leaked host name from children JVMs debug command.\n\nExtract Executor::addSystemPropertiesAsJvmArgs from Executor::execute\nand rename 'allJvmArgs' to 'command'. Also split class name and\nRUNNER_ARG addition to 'command' as two separated command.add() calls.\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"src\/java.base\/share\/classes\/sun\/security\/util\/PropertyExpander.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"},{"filename":"test\/jdk\/java\/security\/Security\/signedfirst\/DynStatic.java"}],"sha":"e0c56edd38b44d5d62a144984a538fc4742cd456"},{"commit":{"message":"Merge 'openjdk\/master' into JDK-8319332"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/signedfirst\/DynStatic.java"}],"sha":"40afe1f43d8e2d77cb687a028166b4c598964c6c"},{"commit":{"message":"8319332: Fix corner-case regression with bash pipe\n\nExtra properties files provided through bash pipes used to work before\nthis enhancement, restore their behaviour.\n\nAlso take advantage to use Files::isRegularFile, Files::isDirectory and\nFiles::exists APIs instead of converting from Path to File.\n\nLinux reproducers (sub-shell, stdin, and combination of both):\n\njava -XshowSettings:security:properties                      \\\n     -Djava.security.properties==<(echo name=value)          \\\n     -Djava.security.debug=properties -version\n\necho name=value | java -XshowSettings:security:properties    \\\n     -Djava.security.properties==\/dev\/stdin                  \\\n     -Djava.security.debug=properties -version\n\necho name=value | java -XshowSettings:security:properties    \\\n     -Djava.security.properties==<(echo include \/dev\/stdin)  \\\n     -Djava.security.debug=properties -version\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"90df17c2781a47920dbeaa981888ddff65bfe8ad"},{"commit":{"message":"8319332: Remove wildcard imports, adjust test case\n\nTest case adjustments: add missing check in PropsFile::assertApplied(),\nand fix typo in FilesManager::handleRequest() method name.\n\nAlso, add clarifying comments to Executor::assertSuccess() explaining\nhow we use the special properties to make the assertion. Make 'lastFile'\nassignation latter, so it's separated from the first group of asserts.\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"faf7b7fd5cef4706663d9032331d6c3ee67eca12"},{"commit":{"message":"8319332: use Path::of(URI) to deal with file URLs\n\nInstead of the previously introduced FileURLConnection::getFile(), use\nPath::of(URI), leaving some file URL corner-cases without relative\nimports support.\n\nFurther details in https:\/\/github.com\/openjdk\/jdk\/pull\/16483#discussion_r1382111155\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"2a4112e44644e35a002549f8fad227d1024491fe"},{"commit":{"message":"8319332: Implement security properties 'include'\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"src\/java.base\/share\/classes\/sun\/security\/util\/PropertyExpander.java"},{"filename":"src\/java.base\/share\/conf\/security\/java.security"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"d309b83df63e70dc4f4c49e33f9fb82799db9444"},{"commit":{"message":"8319332: Refactor security properties file test\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"},{"filename":"test\/jdk\/java\/security\/Security\/override.props"}],"sha":"004343ab9adf80fe699fa5957d0ed1d2cd679b9b"},{"commit":{"message":"8319332: Refactor properties file loading code\n\nCo-authored-by: Martin Balao <mbalao@redhat.com>\nCo-authored-by: Francisco Ferrari Bihurriet <fferrari@redhat.com>"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"},{"filename":"test\/jdk\/java\/security\/Security\/signedfirst\/DynStatic.java"}],"sha":"5a85d906e896cd0c49a2de6f336488ade601772e"}]
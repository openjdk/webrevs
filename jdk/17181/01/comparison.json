{"files":[{"patch":"@@ -545,1 +545,1 @@\n-            Timestamp stamp = new Timestamp(instant.getEpochSecond() * MILLIS_PER_SECOND);\n+            Timestamp stamp = new Timestamp(Math.multiplyExact(instant.getEpochSecond(), MILLIS_PER_SECOND));\n","filename":"src\/java.sql\/share\/classes\/java\/sql\/Timestamp.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -645,0 +645,25 @@\n+    @Test\n+    public void test53() {\n+        \/\/ The latest Instant that can be converted to a Timestamp.\n+        Instant instant1 = Instant.ofEpochSecond(Long.MAX_VALUE \/ 1000, 999_999_999);\n+        assertEquals(Timestamp.from(instant1).toInstant(), instant1);\n+\n+        \/\/ One nanosecond more, and converting it gets an overflow.\n+        Instant instant2 = instant1.plusNanos(1);\n+        expectThrows(IllegalArgumentException.class, () -> Timestamp.from(instant2));\n+\n+        \/\/ The earliest Instant that can be converted to a Timestamp.\n+        Instant instant3 = Instant.ofEpochSecond(Long.MIN_VALUE \/ 1000, 0);\n+        assertEquals(Timestamp.from(instant3).toInstant(), instant3);\n+\n+        \/\/ One nanosecond less, and converting it gets an overflow.\n+        Instant instant4 = instant3.minusNanos(1);\n+        expectThrows(IllegalArgumentException.class, () -> Timestamp.from(instant4));\n+\n+        \/\/ The latest possible Instant will certainly overflow.\n+        expectThrows(IllegalArgumentException.class, () -> Timestamp.from(Instant.MAX));\n+\n+        \/\/ The earliest possible Instant will certainly overflow.\n+        expectThrows(IllegalArgumentException.class, () -> Timestamp.from(Instant.MIN));\n+    }\n+\n","filename":"test\/jdk\/java\/sql\/testng\/test\/sql\/TimestampTests.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}
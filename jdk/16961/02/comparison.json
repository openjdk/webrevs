{"files":[{"patch":"@@ -560,1 +560,5 @@\n-  if (JvmtiThreadState::seen_interp_only_mode()) {\n+  \/\/ This optimization is disabled when watchpoint capabilities are present. It is to\n+  \/\/ work around a bug with virtual thread frames which can be not deoptimized in time.\n+  if (JvmtiThreadState::seen_interp_only_mode() ||\n+      JvmtiExport::should_post_field_access() ||\n+      JvmtiExport::should_post_field_modification()){\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
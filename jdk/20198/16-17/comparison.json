{"files":[{"patch":"@@ -1793,0 +1793,11 @@\n+  char fname[JVM_MAXPATHLEN];\n+  if (filename == nullptr) {\n+    \/\/ Invocation outside of jcmd requires pid substitution.\n+    if (!Arguments::copy_expand_pid(DEFAULT_PERFMAP_FILENAME,\n+                                    strlen(DEFAULT_PERFMAP_FILENAME),\n+                                    fname, JVM_MAXPATHLEN)) {\n+      st->print_cr(\"Warning: Not writing perf map as pid substitution failed.\");\n+      return;\n+    }\n+    filename = fname;\n+  }\n","filename":"src\/hotspot\/share\/code\/codeCache.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -487,1 +487,1 @@\n-    CodeCache::write_perf_map(DEFAULT_PERFMAP_FILENAME, tty);\n+    CodeCache::write_perf_map(nullptr, tty);\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -677,1 +677,0 @@\n-                nanos = Long.MAX_VALUE;\n@@ -692,1 +691,3 @@\n-                    long remainingNanos = nanos - (System.nanoTime() - startNanos);\n+                    long remainingNanos = (nanos > 0)\n+                            ? nanos - (System.nanoTime() - startNanos)\n+                            : 0;\n@@ -759,3 +760,8 @@\n-                long remainingNanos = nanos - (System.nanoTime() - startNanos);\n-                if (remainingNanos <= 0) {\n-                    throw new SocketTimeoutException(\"Receive timed out\");\n+                if (nanos > 0) {\n+                    long remainingNanos = nanos - (System.nanoTime() - startNanos);\n+                    if (remainingNanos <= 0) {\n+                        throw new SocketTimeoutException(\"Receive timed out\");\n+                    }\n+                    park(Net.POLLIN, remainingNanos);\n+                } else {\n+                    park(Net.POLLIN);\n@@ -763,1 +769,0 @@\n-                park(Net.POLLIN, remainingNanos);\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/DatagramChannelImpl.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"}]}
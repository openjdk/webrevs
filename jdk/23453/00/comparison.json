{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -322,14 +322,9 @@\n-        Event ev;\n-        do {\n-            Path entry = null;\n-            IOException ioe = null;\n-\n-            \/\/ get next entry in the directory\n-            if (!top.skipped()) {\n-                Iterator<Path> iterator = top.iterator();\n-                try {\n-                    if (iterator.hasNext()) {\n-                        entry = iterator.next();\n-                    }\n-                } catch (DirectoryIteratorException x) {\n-                    ioe = x.getCause();\n+        Path entry = null;\n+        IOException ioe = null;\n+\n+        \/\/ get next entry in the directory\n+        if (!top.skipped()) {\n+            Iterator<Path> iterator = top.iterator();\n+            try {\n+                if (iterator.hasNext()) {\n+                    entry = iterator.next();\n@@ -337,0 +332,2 @@\n+            } catch (DirectoryIteratorException x) {\n+                ioe = x.getCause();\n@@ -338,0 +335,1 @@\n+        }\n@@ -339,11 +337,10 @@\n-            \/\/ no next entry so close and pop directory,\n-            \/\/ creating corresponding event\n-            if (entry == null) {\n-                try {\n-                    top.stream().close();\n-                } catch (IOException e) {\n-                    if (ioe == null) {\n-                        ioe = e;\n-                    } else {\n-                        ioe.addSuppressed(e);\n-                    }\n+        \/\/ no next entry so close and pop directory,\n+        \/\/ creating corresponding event\n+        if (entry == null) {\n+            try {\n+                top.stream().close();\n+            } catch (IOException e) {\n+                if (ioe == null) {\n+                    ioe = e;\n+                } else {\n+                    ioe.addSuppressed(e);\n@@ -351,2 +348,0 @@\n-                stack.pop();\n-                return new Event(EventType.END_DIRECTORY, top.directory(), ioe);\n@@ -354,0 +349,3 @@\n+            stack.pop();\n+            return new Event(EventType.END_DIRECTORY, top.directory(), ioe);\n+        }\n@@ -355,7 +353,3 @@\n-            \/\/ visit the entry\n-            ev = visit(entry,\n-                       true);  \/\/ canUseCached\n-\n-        } while (ev == null);\n-\n-        return ev;\n+        \/\/ visit the entry\n+        return visit(entry,\n+                     true);  \/\/ canUseCached\n","filename":"src\/java.base\/share\/classes\/java\/nio\/file\/FileTreeWalker.java","additions":29,"deletions":35,"binary":false,"changes":64,"status":"modified"}]}
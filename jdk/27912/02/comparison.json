{"files":[{"patch":"@@ -325,1 +325,10 @@\n-  int                   _major_progress;        \/\/ Count of something big happening\n+  \/* If major progress is set:\n+   *   Marks that the loop tree information (get_ctrl, idom, get_loop, etc.) could be invalid, and we need to rebuild the loop tree.\n+   *   It also indicates that the graph was changed in a way that is promising to be able to apply more loop optimization\n+   * If major progress is not set:\n+   *   Loop tree information is valid.\n+   *   If major progress is not set at the end of a loop opts phase, then we can stop loop opts, because we do not expect any further progress if we did more loop ops phases.\n+   *\n+   * This is not 100% accurate, the semantics of major progress has become less clear over time, but this is the general idea.\n+   *\/\n+  bool                  _major_progress;\n@@ -586,1 +595,0 @@\n-  int               major_progress() const      { return _major_progress; }\n@@ -593,3 +601,4 @@\n-  void          set_major_progress()            { _major_progress++; }\n-  void          restore_major_progress(int progress) { _major_progress += progress; }\n-  void        clear_major_progress()            { _major_progress = 0; }\n+  bool              major_progress() const      { return _major_progress; }\n+  void          set_major_progress()            { _major_progress = true; }\n+  void          set_major_progress(bool progress) { _major_progress = progress; }\n+  void        clear_major_progress()            { _major_progress = false; }\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -4937,1 +4937,1 @@\n-  int old_progress = C->major_progress();\n+  bool old_progress = C->major_progress();\n@@ -5097,1 +5097,1 @@\n-    C->restore_major_progress(old_progress);\n+    C->set_major_progress(old_progress);\n@@ -5142,1 +5142,1 @@\n-    C->restore_major_progress(old_progress);\n+    C->set_major_progress(old_progress);\n@@ -5163,1 +5163,1 @@\n-    C->restore_major_progress(old_progress);\n+    C->set_major_progress(old_progress);\n@@ -5318,1 +5318,1 @@\n-  int old_progress = C->major_progress();\n+  bool old_progress = C->major_progress();\n@@ -5335,1 +5335,1 @@\n-  C->restore_major_progress(old_progress);\n+  C->set_major_progress(old_progress);\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}
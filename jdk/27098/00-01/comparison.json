{"files":[{"patch":"@@ -110,1 +110,1 @@\n-      PRINTIF(!info.hg && info.thpeligible == 1, \"thpel\");\n+      PRINTIF(!info.hg && info.thpeligible, \"thpel\");\n","filename":"src\/hotspot\/os\/linux\/memMapPrinter_linux.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -69,4 +69,0 @@\n- if (::sscanf(_line, key \": %zu\", &var) == 1) { \\\n-   return; \\\n- }\n-#define SCAN_KB(key, var) \\\n@@ -74,2 +70,2 @@\n-   var *= K; \\\n-   return; \\\n+     var *= K; \\\n+     return; \\\n@@ -77,8 +73,6 @@\n-  SCAN_KB(\"KernelPageSize\", out.kernelpagesize);\n-  SCAN_KB(\"Rss\", out.rss);\n-  SCAN_KB(\"AnonHugePages\", out.anonhugepages);\n-  SCAN_KB(\"Private_Hugetlb\", out.private_hugetlb);\n-  SCAN_KB(\"Shared_Hugetlb\", out.shared_hugetlb);\n-  SCAN_KB(\"Swap\", out.swap);\n-  SCAN(\"THPeligible\", out.thpeligible);\n-  int i = 0;\n+  SCAN(\"KernelPageSize\", out.kernelpagesize);\n+  SCAN(\"Rss\", out.rss);\n+  SCAN(\"AnonHugePages\", out.anonhugepages);\n+  SCAN(\"Private_Hugetlb\", out.private_hugetlb);\n+  SCAN(\"Shared_Hugetlb\", out.shared_hugetlb);\n+  SCAN(\"Swap\", out.swap);\n@@ -86,1 +80,8 @@\n-#undef SCAN_KB\n+\n+  \/\/ scan THPeligible into a bool\n+  int thpel = 0;\n+  if (::sscanf(_line, \"THPeligible: %d\", &thpel) == 1) {\n+    out.thpeligible = (thpel == 1);\n+    return;\n+  }\n+\n","filename":"src\/hotspot\/os\/linux\/procMapsParser.cpp","additions":16,"deletions":15,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-  size_t thpeligible;\n+  bool thpeligible;\n@@ -67,2 +67,2 @@\n-    kernelpagesize = rss = private_hugetlb = shared_hugetlb = anonhugepages = swap = thpeligible = 0;\n-    rd = wr = ex = sh = nr = hg = ht = nh = false;\n+    kernelpagesize = rss = private_hugetlb = shared_hugetlb = anonhugepages = swap = 0;\n+    thpeligible = rd = wr = ex = sh = nr = hg = ht = nh = false;\n","filename":"src\/hotspot\/os\/linux\/procMapsParser.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
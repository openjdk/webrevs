{"files":[{"patch":"@@ -2013,1 +2013,1 @@\n-    kit.insert_mem_bar(Op_MemBarRelease, result);\n+    kit.insert_mem_bar(Op_MemBarStoreStore, result);\n","filename":"src\/hotspot\/share\/opto\/stringopts.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n- * @requires os.arch==\"aarch64\" | os.arch==\"x86_64\"\n@@ -66,1 +65,1 @@\n-    public int classBasicEscapes(int i) {\n+    public int classBasicNoEscape(int i) {\n@@ -82,1 +81,1 @@\n-    public int classWithFinalEscapes(int i) {\n+    public int classWithFinalNoEscape(int i) {\n@@ -100,1 +99,1 @@\n-    public int classWithVolatileEscapes(int i) {\n+    public int classWithVolatileNoEscape(int i) {\n@@ -103,0 +102,14 @@\n+\n+    @Setup\n+    Object[] stringBuilderSetup() {\n+        return new Object[] { \"foo\", \"bar\", \"baz\" };\n+    }\n+\n+    @Test\n+    @Arguments(setup = \"stringBuilderSetup\")\n+    @IR(failOn = IRNode.MEMBAR_RELEASE)\n+    @IR(failOn = IRNode.MEMBAR_VOLATILE)\n+    @IR(counts = {IRNode.MEMBAR_STORESTORE, \"3\"})\n+    public String stringBuilder(String s1, String s2, String s3) {\n+        return new StringBuilder().append(s1).append(s2).append(s3).toString();\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/ConstructorBarriers.java","additions":17,"deletions":4,"binary":false,"changes":21,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng Constructor\n+ * @run junit Constructor\n@@ -32,0 +32,3 @@\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+\n@@ -33,1 +36,0 @@\n-import org.testng.annotations.Test;\n@@ -36,1 +38,1 @@\n-    @Test(expectedExceptions=NumberFormatException.class)\n+    @Test\n@@ -38,1 +40,3 @@\n-        BigDecimal bd = new BigDecimal(\"1.2e\");\n+        Assertions.assertThrows(NumberFormatException.class, () -> {\n+            BigDecimal bd = new BigDecimal(\"1.2e\");\n+        });\n@@ -41,1 +45,1 @@\n-    @Test(expectedExceptions=NumberFormatException.class)\n+    @Test\n@@ -43,1 +47,3 @@\n-        BigDecimal bd = new BigDecimal(new char[5], -1, 4, null);\n+        Assertions.assertThrows(NumberFormatException.class, () -> {\n+            BigDecimal bd = new BigDecimal(new char[5], -1, 4, null);\n+        });\n@@ -46,1 +52,1 @@\n-    @Test(expectedExceptions=NumberFormatException.class)\n+    @Test\n@@ -48,1 +54,3 @@\n-        BigDecimal bd = new BigDecimal(new char[5], 0, -1, null);\n+        Assertions.assertThrows(NumberFormatException.class, () -> {\n+            BigDecimal bd = new BigDecimal(new char[5], 0, -1, null);\n+        });\n@@ -51,1 +59,1 @@\n-    @Test(expectedExceptions=NumberFormatException.class)\n+    @Test\n@@ -53,9 +61,11 @@\n-        try {\n-            BigDecimal bd = new BigDecimal(new char[5], Integer.MAX_VALUE - 5,\n-                6, null);\n-        } catch (NumberFormatException nfe) {\n-            if (nfe.getCause() instanceof IndexOutOfBoundsException) {\n-                throw new RuntimeException\n-                    (\"NumberFormatException should not have a cause\");\n-            } else {\n-                throw nfe;\n+        Assertions.assertThrows(NumberFormatException.class, () -> {\n+            try {\n+                BigDecimal bd = new BigDecimal(new char[5], Integer.MAX_VALUE - 5,\n+                        6, null);\n+            } catch (NumberFormatException nfe) {\n+                if (nfe.getCause() instanceof IndexOutOfBoundsException) {\n+                    throw new RuntimeException\n+                            (\"NumberFormatException should not have a cause\");\n+                } else {\n+                    throw nfe;\n+                }\n@@ -63,1 +73,1 @@\n-        }\n+        });\n@@ -66,1 +76,1 @@\n-    @Test(expectedExceptions=NumberFormatException.class)\n+    @Test\n@@ -68,1 +78,3 @@\n-        BigDecimal bd = new BigDecimal(new char[5], 1, 5, null);\n+        Assertions.assertThrows(NumberFormatException.class, () -> {\n+            BigDecimal bd = new BigDecimal(new char[5], 1, 5, null);\n+        });\n","filename":"test\/jdk\/java\/math\/BigDecimal\/Constructor.java","additions":34,"deletions":22,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- * @run testng\/othervm\/timeout=480 -Xmx4g LargeValueExceptions\n+ * @run junit\/othervm\/timeout=480 -Xmx4g LargeValueExceptions\n@@ -31,0 +31,5 @@\n+\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Disabled;\n+import org.junit.jupiter.api.Test;\n+\n@@ -32,0 +37,1 @@\n+\n@@ -33,3 +39,0 @@\n-import org.testng.ITestResult;\n-import org.testng.annotations.AfterMethod;\n-import org.testng.annotations.Test;\n@@ -67,7 +70,0 @@\n-    \/\/ Print the run time of each sub-test in milliseconds\n-    @AfterMethod\n-    public void getRunTime(ITestResult tr) {\n-        long time = tr.getEndMillis() - tr.getStartMillis();\n-        System.out.printf(\"Run time: %d ms%n\", time);\n-    }\n-\n@@ -77,1 +73,2 @@\n-    @Test(enabled=false)\n+    @Test\n+    @Disabled\n@@ -84,1 +81,2 @@\n-    @Test(enabled=false)\n+    @Test\n+    @Disabled\n@@ -91,1 +89,2 @@\n-    @Test(expectedExceptions=ArithmeticException.class,enabled=false)\n+    @Test\n+    @Disabled\n@@ -93,2 +92,4 @@\n-        BigInteger x = ONE.shiftLeft(16*MAX_INTS).subtract(ONE);\n-        BigInteger y = x.multiply(x);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            BigInteger x = ONE.shiftLeft(16*MAX_INTS).subtract(ONE);\n+            BigInteger y = x.multiply(x);\n+        });\n@@ -98,1 +99,1 @@\n-    @Test(expectedExceptions=ArithmeticException.class)\n+    @Test\n@@ -100,2 +101,4 @@\n-        BigInteger x = ONE.shiftLeft(16*MAX_INTS);\n-        BigInteger y = x.multiply(x);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            BigInteger x = ONE.shiftLeft(16*MAX_INTS);\n+            BigInteger y = x.multiply(x);\n+        });\n@@ -107,1 +110,2 @@\n-    @Test(enabled=false)\n+    @Test\n+    @Disabled\n@@ -117,1 +121,2 @@\n-    @Test(enabled=false)\n+    @Test\n+    @Disabled\n@@ -133,1 +138,2 @@\n-    @Test(expectedExceptions=ArithmeticException.class,enabled=false)\n+    @Test\n+    @Disabled\n@@ -135,2 +141,3 @@\n-        BigInteger x = ONE.shiftLeft((int)(MAX_BITS\/2)).subtract(ONE);\n-        long m = MAX_BITS - x.bitLength();\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            BigInteger x = ONE.shiftLeft((int)(MAX_BITS\/2)).subtract(ONE);\n+            long m = MAX_BITS - x.bitLength();\n@@ -138,2 +145,2 @@\n-        BigInteger y = ONE.shiftLeft((int)(MAX_BITS\/2)).subtract(ONE);\n-        long n = MAX_BITS - y.bitLength();\n+            BigInteger y = ONE.shiftLeft((int)(MAX_BITS\/2)).subtract(ONE);\n+            long n = MAX_BITS - y.bitLength();\n@@ -141,3 +148,3 @@\n-        if (m + n != MAX_BITS) {\n-            throw new RuntimeException(\"Unexpected leading zero sum\");\n-        }\n+            if (m + n != MAX_BITS) {\n+                throw new RuntimeException(\"Unexpected leading zero sum\");\n+            }\n@@ -145,1 +152,2 @@\n-        BigInteger z = x.multiply(y);\n+            BigInteger z = x.multiply(y);\n+        });\n@@ -149,1 +157,1 @@\n-    @Test(expectedExceptions=ArithmeticException.class)\n+    @Test\n@@ -151,10 +159,12 @@\n-        \/\/ multiply by 4 as MAX_INTS_HALF refers to ints\n-        byte[] xmag = new byte[4*MAX_INTS_HALF];\n-        xmag[0] = (byte)0xff;\n-        BigInteger x = new BigInteger(1, xmag);\n-\n-        byte[] ymag = new byte[4*MAX_INTS_HALF + 1];\n-        ymag[0] = (byte)0xff;\n-        BigInteger y = new BigInteger(1, ymag);\n-\n-        BigInteger z = x.multiply(y);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            \/\/ multiply by 4 as MAX_INTS_HALF refers to ints\n+            byte[] xmag = new byte[4*MAX_INTS_HALF];\n+            xmag[0] = (byte)0xff;\n+            BigInteger x = new BigInteger(1, xmag);\n+\n+            byte[] ymag = new byte[4*MAX_INTS_HALF + 1];\n+            ymag[0] = (byte)0xff;\n+            BigInteger y = new BigInteger(1, ymag);\n+\n+            BigInteger z = x.multiply(y);\n+        });\n@@ -165,1 +175,1 @@\n-    @Test(expectedExceptions=ArithmeticException.class)\n+    @Test\n@@ -167,1 +177,3 @@\n-        BigInteger.TEN.pow(Integer.MAX_VALUE);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            BigInteger.TEN.pow(Integer.MAX_VALUE);\n+        });\n@@ -170,1 +182,1 @@\n-    @Test(expectedExceptions=ArithmeticException.class)\n+    @Test\n@@ -172,4 +184,6 @@\n-        int shift = 20;\n-        int exponent = 1 << shift;\n-        BigInteger x = ONE.shiftLeft((int)(MAX_BITS \/ exponent));\n-        BigInteger y = x.pow(exponent);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            int shift = 20;\n+            int exponent = 1 << shift;\n+            BigInteger x = ONE.shiftLeft((int)(MAX_BITS \/ exponent));\n+            BigInteger y = x.pow(exponent);\n+        });\n@@ -178,1 +192,1 @@\n-    @Test(expectedExceptions=ArithmeticException.class)\n+    @Test\n@@ -180,4 +194,6 @@\n-        int shift = 20;\n-        int exponent = 1 << shift;\n-        BigInteger x = ONE.shiftLeft((int)(MAX_BITS \/ exponent)).add(ONE);\n-        BigInteger y = x.pow(exponent);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            int shift = 20;\n+            int exponent = 1 << shift;\n+            BigInteger x = ONE.shiftLeft((int)(MAX_BITS \/ exponent)).add(ONE);\n+            BigInteger y = x.pow(exponent);\n+        });\n@@ -186,1 +202,2 @@\n-    @Test(expectedExceptions=ArithmeticException.class,enabled=false)\n+    @Test\n+    @Disabled\n@@ -188,4 +205,6 @@\n-        int shift = 20;\n-        int exponent = 1 << shift;\n-        BigInteger x = ONE.shiftLeft((int)(MAX_BITS \/ exponent)).subtract(ONE);\n-        BigInteger y = x.pow(exponent);\n+        Assertions.assertThrows(ArithmeticException.class, () -> {\n+            int shift = 20;\n+            int exponent = 1 << shift;\n+            BigInteger x = ONE.shiftLeft((int)(MAX_BITS \/ exponent)).subtract(ONE);\n+            BigInteger y = x.pow(exponent);\n+        });\n@@ -194,1 +213,2 @@\n-    @Test(enabled=false)\n+    @Test\n+    @Disabled\n","filename":"test\/jdk\/java\/math\/BigInteger\/LargeValueExceptions.java","additions":79,"deletions":59,"binary":false,"changes":138,"status":"modified"}]}
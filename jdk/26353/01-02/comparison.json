{"files":[{"patch":"@@ -1137,9 +1137,3 @@\n-        if (path.isEmpty()) {\n-            for (int i = 0; i < n; i++) {\n-                fs[i] = new File(ss[i]);\n-            }\n-        } else {\n-            for (int i = 0; i < n; i++) {\n-                fs[i] = new File(ss[i], this);\n-            }\n-        }\n+        boolean isEmpty = path.isEmpty();\n+        for (int i = 0; i < n; i++)\n+            fs[i] = isEmpty ? new File(ss[i]) : new File(ss[i], this);\n@@ -1178,9 +1172,4 @@\n-        if (path.isEmpty()) {\n-            for (String s : ss)\n-                if ((filter == null) || filter.accept(this, s))\n-                    files.add(new File(s));\n-        } else {\n-            for (String s : ss)\n-                if ((filter == null) || filter.accept(this, s))\n-                    files.add(new File(s, this));\n-        }\n+        boolean isEmpty = path.isEmpty();\n+        for (String s : ss)\n+            if ((filter == null) || filter.accept(this, s))\n+                files.add(isEmpty ? new File(s) : new File(s, this));\n@@ -1217,12 +1206,5 @@\n-        if (path.isEmpty()) {\n-            for (String s : ss) {\n-                File f = new File(s);\n-                if ((filter == null) || filter.accept(f))\n-                    files.add(f);\n-            }\n-        } else {\n-            for (String s : ss) {\n-                File f = new File(s, this);\n-                if ((filter == null) || filter.accept(f))\n-                    files.add(f);\n-            }\n+        boolean isEmpty = path.isEmpty();\n+        for (String s : ss) {\n+            File f = isEmpty ? new File(s) : new File(s, this);\n+            if ((filter == null) || filter.accept(f))\n+                files.add(f);\n","filename":"src\/java.base\/share\/classes\/java\/io\/File.java","additions":12,"deletions":30,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -241,0 +241,8 @@\n+        FileFilter ff = new FileFilter() {\n+            public boolean accept(File pathname) { return true; }\n+        };\n+        listFiles(x -> x.listFiles(ff));\n+    }\n+\n+    @Test\n+    public void listFilesNullFileFilter() throws IOException {\n@@ -246,0 +254,8 @@\n+        FilenameFilter fnf = new FilenameFilter() {\n+            public boolean accept(File dir, String name) { return true; }\n+        };\n+        listFiles(x -> x.listFiles(fnf));\n+    }\n+\n+    @Test\n+    public void listFilesNullFilenameFilter() throws IOException {\n","filename":"test\/jdk\/java\/io\/File\/EmptyPath.java","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"}]}
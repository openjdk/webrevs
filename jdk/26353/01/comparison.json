{"files":[{"patch":"@@ -1178,3 +1178,9 @@\n-        for (String s : ss)\n-            if ((filter == null) || filter.accept(this, s))\n-                files.add(new File(s, this));\n+        if (path.isEmpty()) {\n+            for (String s : ss)\n+                if ((filter == null) || filter.accept(this, s))\n+                    files.add(new File(s));\n+        } else {\n+            for (String s : ss)\n+                if ((filter == null) || filter.accept(this, s))\n+                    files.add(new File(s, this));\n+        }\n@@ -1211,4 +1217,12 @@\n-        for (String s : ss) {\n-            File f = new File(s, this);\n-            if ((filter == null) || filter.accept(f))\n-                files.add(f);\n+        if (path.isEmpty()) {\n+            for (String s : ss) {\n+                File f = new File(s);\n+                if ((filter == null) || filter.accept(f))\n+                    files.add(f);\n+            }\n+        } else {\n+            for (String s : ss) {\n+                File f = new File(s, this);\n+                if ((filter == null) || filter.accept(f))\n+                    files.add(f);\n+            }\n","filename":"src\/java.base\/share\/classes\/java\/io\/File.java","additions":21,"deletions":7,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n- * @bug 4842706 8024695 8361587\n+ * @bug 4842706 8024695 8361587 8362429\n@@ -31,0 +31,1 @@\n+import java.io.FileFilter;\n@@ -32,0 +33,1 @@\n+import java.io.FilenameFilter;\n@@ -34,0 +36,1 @@\n+import java.net.MalformedURLException;\n@@ -41,0 +44,1 @@\n+import java.util.function.Function;\n@@ -214,1 +218,9 @@\n-        String[] files = f.list();\n+        list(f.list());\n+    }\n+\n+    @Test\n+    public void listFilenameFilter() throws IOException {\n+        list(f.list((FilenameFilter)null));\n+    }\n+\n+    private void list(String[] files) throws IOException {\n@@ -224,1 +236,16 @@\n-        File child = new File(f.getAbsoluteFile(), \"child\");\n+        listFiles(x -> x.listFiles());\n+    }\n+\n+    @Test\n+    public void listFilesFileFilter() throws IOException {\n+        listFiles(x -> x.listFiles((FileFilter)null));\n+    }\n+\n+    @Test\n+    public void listFilesFilenameFilter() throws IOException {\n+        listFiles(x -> x.listFiles((FilenameFilter)null));\n+    }\n+\n+    private void listFiles(Function<File,File[]> func) throws IOException {\n+        String childName = \"child\" + System.nanoTime();\n+        File child = new File(f.getAbsoluteFile(), childName);\n@@ -228,1 +255,1 @@\n-        File[] files = f.listFiles();\n+        File[] files = func.apply(f);\n@@ -351,0 +378,5 @@\n+\n+    @Test\n+    public void toURL() throws MalformedURLException {\n+        assertEquals(f.toPath().toUri().toURL(), f.toURL());\n+    }\n","filename":"test\/jdk\/java\/io\/File\/EmptyPath.java","additions":36,"deletions":4,"binary":false,"changes":40,"status":"modified"}]}
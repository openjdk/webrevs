{"files":[{"patch":"@@ -1921,0 +1921,1 @@\n+     * Assumes {@code bitLength() <= Integer.MAX_VALUE}.\n@@ -1929,1 +1930,1 @@\n-    MutableBigInteger[] nthRootRem(final int n) {\n+    MutableBigInteger[] nthRootRem(int n) {\n@@ -1946,2 +1947,10 @@\n-            long sLong = (long) Math.ceil(nthRootApprox(Math.nextUp(x >= 0 ? x : x + 0x1p64), n));\n-\n+            long sLong = (long) nthRootApprox(Math.nextUp(x >= 0 ? x : x + 0x1p64), n) + 1L;\n+            \/* The integer-valued recurrence formula in the algorithm of Brent&Zimmermann\n+             * simply discards the fraction part of the real-valued Newton recurrence\n+             * on the function f discussed in the referenced work.\n+             * Indeed, for real x and integer n > 0, the equality ⌊x\/n⌋ == ⌊⌊x⌋\/n⌋ holds,\n+             * from which the claim follows.\n+             * As a consequence, an initial underestimate (not discussed in BZ)\n+             * will immediately lead to a (weak) overestimate during the 1st iteration,\n+             * thus meeting BZ requirements for termination and correctness.\n+             *\/\n@@ -1949,9 +1958,1 @@\n-                \/* The integer-valued recurrence formula in the algorithm of Brent&Zimmermann\n-                 * simply discards the fraction part of the real-valued Newton recurrence\n-                 * on the function f discussed in the referenced work.\n-                 * Indeed, for real x and integer n > 0, the equality ⌊x\/n⌋ == ⌊⌊x⌋\/n⌋ holds,\n-                 * from which the claim follows.\n-                 * As a consequence, an initial underestimate (not discussed in BZ)\n-                 * will immediately lead to a (weak) overestimate during the 1st iteration,\n-                 * thus meeting BZ requirements for termination and correctness.\n-                 *\/\n+                \/\/ Do the 1st iteration outside the loop to ensure an overestimate\n","filename":"src\/java.base\/share\/classes\/java\/math\/MutableBigInteger.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"}]}
{"files":[{"patch":"@@ -49,1 +49,1 @@\n-class BasicAuthentication extends AuthenticationInfo {\n+final class BasicAuthentication extends AuthenticationInfo {\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/protocol\/http\/BasicAuthentication.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-class DigestAuthentication extends AuthenticationInfo {\n+final class DigestAuthentication extends AuthenticationInfo {\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/protocol\/http\/DigestAuthentication.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-class NegotiateAuthentication extends AuthenticationInfo {\n+final class NegotiateAuthentication extends AuthenticationInfo {\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/protocol\/http\/NegotiateAuthentication.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-import java.util.Objects;\n@@ -73,1 +72,1 @@\n-public class NTLMAuthentication extends AuthenticationInfo {\n+public final class NTLMAuthentication extends AuthenticationInfo {\n","filename":"src\/java.base\/unix\/classes\/sun\/net\/www\/protocol\/http\/ntlm\/NTLMAuthentication.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,2 +34,0 @@\n-import java.util.Objects;\n-import java.util.Properties;\n@@ -41,1 +39,0 @@\n-import sun.security.action.GetPropertyAction;\n@@ -49,3 +46,1 @@\n-public class NTLMAuthentication extends AuthenticationInfo {\n-\n-    private static final long serialVersionUID = 100L;\n+public final class NTLMAuthentication extends AuthenticationInfo {\n@@ -54,1 +49,1 @@\n-        NTLMAuthenticationCallback.getNTLMAuthenticationCallback();\n+            NTLMAuthenticationCallback.getNTLMAuthenticationCallback();\n@@ -56,1 +51,0 @@\n-    private String hostname;\n@@ -71,3 +65,2 @@\n-        Properties props = GetPropertyAction.privilegedGetProperties();\n-        defaultDomain = props.getProperty(\"http.auth.ntlm.domain\", \"domain\");\n-        String ntlmCacheProp = props.getProperty(\"jdk.ntlm.cache\", \"true\");\n+        defaultDomain = System.getProperty(\"http.auth.ntlm.domain\", \"domain\");\n+        String ntlmCacheProp = System.getProperty(\"jdk.ntlm.cache\", \"true\");\n@@ -75,8 +68,1 @@\n-        @SuppressWarnings(\"removal\")\n-        String modeProp = java.security.AccessController.doPrivileged(\n-            new java.security.PrivilegedAction<String>() {\n-                public String run() {\n-                    return NetProperties.get(\"jdk.http.ntlm.transparentAuth\");\n-                }\n-            });\n-\n+        String modeProp = NetProperties.get(\"jdk.http.ntlm.transparentAuth\");\n@@ -91,21 +77,0 @@\n-    @SuppressWarnings(\"removal\")\n-    private void init0() {\n-\n-        hostname = java.security.AccessController.doPrivileged(\n-            new java.security.PrivilegedAction<String>() {\n-            public String run() {\n-                String localhost;\n-                try {\n-                    localhost = InetAddress.getLocalHost().getHostName().toUpperCase(Locale.ROOT);\n-                } catch (UnknownHostException e) {\n-                     localhost = \"localhost\";\n-                }\n-                return localhost;\n-            }\n-        });\n-        int x = hostname.indexOf ('.');\n-        if (x != -1) {\n-            hostname = hostname.substring (0, x);\n-        }\n-    }\n-\n@@ -150,1 +115,0 @@\n-        init0();\n","filename":"src\/java.base\/windows\/classes\/sun\/net\/www\/protocol\/http\/ntlm\/NTLMAuthentication.java","additions":6,"deletions":42,"binary":false,"changes":48,"status":"modified"}]}
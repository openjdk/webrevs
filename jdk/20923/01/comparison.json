{"files":[{"patch":"@@ -460,4 +460,3 @@\n-        ThreadSleepEvent event = null;\n-        if (ThreadSleepEvent.isTurnedOn()) {\n-            try {\n-                event = new ThreadSleepEvent();\n+        try {\n+            ThreadSleepEvent event = new ThreadSleepEvent();\n+            if (event.isEnabled()) {\n@@ -466,2 +465,1 @@\n-            } catch (OutOfMemoryError e) {\n-                event = null;\n+                return event;\n@@ -469,0 +467,2 @@\n+        } catch (OutOfMemoryError e) {\n+            \/\/ ignore\n@@ -470,1 +470,1 @@\n-        return event;\n+        return null;\n@@ -473,0 +473,1 @@\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Thread.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -33,9 +33,0 @@\n-    private static final ThreadSleepEvent EVENT = new ThreadSleepEvent();\n-\n-    \/**\n-     * Returns {@code true} if event is enabled, {@code false} otherwise.\n-     *\/\n-    public static boolean isTurnedOn() {\n-        return EVENT.isEnabled();\n-    }\n-\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/event\/ThreadSleepEvent.java","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -665,4 +665,0 @@\n-        \/\/ jdk.internal.event.ThreadSleepEvent not accessible\n-        expectedMethods.add(\"jdk.internal.event.ThreadSleepEvent.<clinit>\");\n-        expectedMethods.add(\"jdk.internal.event.ThreadSleepEvent.isEnabled\");\n-        expectedMethods.add(\"jdk.internal.event.ThreadSleepEvent.isTurnedOn\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/monitoring\/share\/ThreadController.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -44,3 +44,0 @@\n-                \"jdk.internal.event.ThreadSleepEvent.<clinit>\",\n-                \"jdk.internal.event.ThreadSleepEvent.isTurnedOn\",\n-                \"jdk.internal.event.ThreadSleepEvent.isEnabled\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/monitoring\/share\/thread\/SleepingThread.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -152,4 +152,1 @@\n-                \"jdk.internal.event.ThreadSleepEvent.<clinit>\",\n-                \"jdk.internal.event.ThreadSleepEvent.<init>\",\n-                \"jdk.internal.event.ThreadSleepEvent.isTurnedOn\",\n-                \"jdk.internal.event.ThreadSleepEvent.isEnabled\"\n+                \"jdk.internal.event.ThreadSleepEvent.<clinit>\"\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/monitoring\/stress\/thread\/strace001.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"}]}
{"files":[{"patch":"@@ -207,9 +207,5 @@\n-        int count = parameterCount();\n-        StringBuilder sb = new StringBuilder(24).append('(');\n-        for (int i = 0; i < count; i++) {\n-            if (i > 0) {\n-                sb.append(',');\n-            }\n-            sb.append(parameterType(i).displayName());\n-        }\n-        return sb.append(')').append(returnType().displayName()).toString();\n+        return String.format(\"(%s)%s\",\n+                             Stream.of(parameterArray())\n+                                   .map(ClassDesc::displayName)\n+                                   .collect(Collectors.joining(\",\")),\n+                             returnType().displayName());\n","filename":"src\/java.base\/share\/classes\/java\/lang\/constant\/MethodTypeDesc.java","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -172,4 +172,8 @@\n-        int count = parameterCount();\n-        StringBuilder sb = new StringBuilder(24).append('(');\n-        for (int i = 0; i < count; i++) {\n-            sb.append(parameterType(i).descriptorString());\n+\n+        int len = 2 + returnType.descriptorString().length();\n+        for (ClassDesc argType : argTypes) {\n+            len += argType.descriptorString().length();\n+        }\n+        StringBuilder sb = new StringBuilder(len).append('(');\n+        for (ClassDesc argType : argTypes) {\n+            sb.append(argType.descriptorString());\n","filename":"src\/java.base\/share\/classes\/java\/lang\/constant\/MethodTypeDescImpl.java","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+    \/** Dots will be replaced by the descriptor of this benchmark class. *\/\n@@ -61,1 +62,3 @@\n-            \"()[Ljava\/lang\/String;\"\n+            \"()[Ljava\/lang\/String;\",\n+            \"(..IIJ)V\",\n+            \"(.....................).\"\n@@ -71,0 +74,1 @@\n+        descString = descString.replaceAll(\"\\\\.\", MethodTypeDescFactories.class.descriptorString());\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/lang\/constant\/MethodTypeDescFactories.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
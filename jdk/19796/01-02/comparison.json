{"files":[{"patch":"@@ -54,5 +54,2 @@\n-  address addr = (address)this;\n-  address destination = instruction_address() + displacement();\n-  if (destination == addr) {\n-    return destination;\n-  }\n+  address addr = instruction_address();\n+  address destination = addr + displacement();\n@@ -62,2 +59,2 @@\n-  assert(cb && cb->is_nmethod(), \"sanity\");\n-  nmethod *nm = (nmethod *)cb;\n+  assert(cb != nullptr && cb->is_nmethod(), \"nmethod expected\");\n+  nmethod *nm = cb->as_nmethod();\n@@ -109,2 +106,1 @@\n-  assert(code != nullptr, \"Could not find the containing code blob\");\n-  if (!code->is_nmethod()) return nullptr;\n+  assert(code != nullptr && code->is_nmethod(), \"nmethod expected\");\n@@ -113,1 +109,1 @@\n-  address bl_destination = instruction_address() + displacement();\n+  address bl_destination = call_addr + displacement();\n","filename":"src\/hotspot\/cpu\/aarch64\/nativeInst_aarch64.cpp","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -177,0 +177,1 @@\n+  address raw_destination() const { return instruction_address() + displacement(); }\n","filename":"src\/hotspot\/cpu\/aarch64\/nativeInst_aarch64.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-  assert(call->destination() == owner(), \"destination should be empty\");\n+  assert(call->raw_destination() == owner(), \"destination should be empty\");\n","filename":"src\/hotspot\/cpu\/aarch64\/relocInfo_aarch64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -78,2 +78,5 @@\n-  GTEST_WIN_EXPORT_FILE := $(JVM_OUTPUTDIR)\/gtest\/win-exports.def\n-\n+  ifeq ($(STATIC_LIBS), true)\n+    GTEST_WIN_EXPORT_FILE := $(JVM_OUTPUTDIR)\/gtest\/static-win-exports.def\n+  else\n+    GTEST_WIN_EXPORT_FILE := $(JVM_OUTPUTDIR)\/gtest\/win-exports.def\n+  endif\n@@ -128,1 +131,1 @@\n-  $(call CreateWinExportFile, $(GTEST_WIN_EXPORT_FILE), $(BUILD_GTEST_LIBJVM_ALL_OBJS))\n+    $(eval $(call CreateWinExportFile, $(GTEST_WIN_EXPORT_FILE), $(BUILD_GTEST_LIBJVM_ALL_OBJS)))\n","filename":"make\/hotspot\/lib\/CompileGtest.gmk","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -149,1 +149,5 @@\n-  WIN_EXPORT_FILE := $(JVM_OUTPUTDIR)\/win-exports.def\n+  ifeq ($(STATIC_LIBS), true)\n+    WIN_EXPORT_FILE := $(JVM_OUTPUTDIR)\/static-win-exports.def\n+  else\n+    WIN_EXPORT_FILE := $(JVM_OUTPUTDIR)\/win-exports.def\n+  endif\n@@ -235,1 +239,1 @@\n-        if ($$7 ~ \/\\?\\?_7.*@@6B@\/ && $$7 !~ \/type_info\/ && $$7 !~ \/lambda\/) print $$7; \\\n+        if ($$7 ~ \/\\?\\?_7.*@@6B@\/ && $$7 !~ \/type_info\/ && $$7 !~ \/lambda\/) print \"  \" $$7; \\\n@@ -246,8 +250,7 @@\n-\t$(call LogInfo, Generating list of symbols to export from object files)\n-\t$(call MakeDir, $(@D))\n-\t$(CD) $(JVM_OUTPUTDIR)\/objs && \\\n-\t    $(DUMPBIN) -symbols *$(OBJ_SUFFIX) | $(AWK) $(FILTER_SYMBOLS_AWK_SCRIPT) | $(SORT) -u > $@.syms\n-\t$(ECHO) \"EXPORTS\" > $@.tmp\n-\t$(AWK) '{ if ($$0 ~ \".\") { print \"  \" $$0 } }'  < $@.syms >> $@.tmp\n-\t$(RM) $@\n-\t$(MV) $@.tmp $@\n+\t$$(call LogInfo, Generating list of symbols to export from object files)\n+\t$$(call MakeDir, $$(@D))\n+\t$$(ECHO) \"EXPORTS\" > $$@.tmp\n+\t$$(CD) $$(BUILD_LIBJVM_OBJECT_DIR) && \\\n+\t    $$(DUMPBIN) -symbols *$$(OBJ_SUFFIX) | $$(AWK) $$(FILTER_SYMBOLS_AWK_SCRIPT) | $$(SORT) -u >> $$@.tmp\n+\t$$(RM) $$@\n+\t$$(MV) $$@.tmp $$@\n@@ -256,1 +259,1 @@\n-  $(call CreateWinExportFile, $(WIN_EXPORT_FILE), $(BUILD_LIBJVM_ALL_OBJS))\n+  $(eval $(call CreateWinExportFile, $(WIN_EXPORT_FILE), $(BUILD_LIBJVM_ALL_OBJS)))\n","filename":"make\/hotspot\/lib\/CompileJvm.gmk","additions":14,"deletions":11,"binary":false,"changes":25,"status":"modified"}]}
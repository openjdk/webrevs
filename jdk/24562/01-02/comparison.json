{"files":[{"patch":"@@ -55,0 +55,2 @@\n+    private static volatile boolean traced;\n+    private static volatile boolean failed;\n@@ -84,2 +86,2 @@\n-                System.out.println(\"traceRepaints called\");\n-                traceRepaints();\n+                System.out.println(\"trace paints enabled\");\n+                traced = true;\n@@ -104,1 +106,1 @@\n-        if (failed()) {\n+        if (failed) {\n@@ -109,16 +111,0 @@\n-    private static volatile boolean traceFlag;\n-    private static volatile boolean passFlag = true;\n-\n-    private static synchronized void traceRepaints() {\n-        traceFlag = true;\n-    }\n-    private static synchronized boolean repaintsTraced() {\n-        return traceFlag;\n-    }\n-\n-    private static synchronized boolean failed() {\n-        return !passFlag;\n-    }\n-    private static synchronized void fail() {\n-        passFlag = false;\n-    }\n@@ -137,2 +123,2 @@\n-            if (repaintsTraced()) {\n-                fail();\n+            if (traced) {\n+                failed = true;\n","filename":"test\/jdk\/javax\/swing\/JComponent\/bug4247610.java","additions":7,"deletions":21,"binary":false,"changes":28,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+#include \"cppstdlib\/new.hpp\"\n@@ -33,1 +34,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -199,1 +199,1 @@\n-    _ref_dropped[i] = 0;\n+    ::new (&_ref_dropped[i]) Atomic<size_t>{};\n@@ -217,1 +217,1 @@\n-  AtomicAccess::add(&_ref_dropped[ref_type_2_index(ref_type)], count, memory_order_relaxed);\n+  _ref_dropped[ref_type_2_index(ref_type)].add_then_fetch(count, memory_order_relaxed);\n@@ -274,1 +274,1 @@\n-    size_t dropped = _ref_dropped[ref_type_index];\n+    size_t dropped = _ref_dropped[ref_type_index].load_relaxed();\n","filename":"src\/hotspot\/share\/gc\/shared\/referenceProcessorPhaseTimes.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -55,1 +56,1 @@\n-  size_t                   _ref_dropped[number_of_subclasses_of_ref];\n+  Atomic<size_t>           _ref_dropped[number_of_subclasses_of_ref];\n","filename":"src\/hotspot\/share\/gc\/shared\/referenceProcessorPhaseTimes.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
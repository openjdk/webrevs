{"files":[{"patch":"@@ -4861,1 +4861,1 @@\n-  vblendvps(dst, dst, xtmp4, xtmp3, vec_enc);\n+  vblendvps(dst, dst, xtmp4, xtmp3, vec_enc, false, xtmp4);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3521,5 +3521,12 @@\n-  \/\/ WARN: Allow dst == (src1|src2), mask == scratch\n-  bool blend_emulation = EnableX86ECoreOpts && UseAVX > 1;\n-  bool scratch_available = scratch != xnoreg && scratch != src1 && scratch != src2 && scratch != dst;\n-  bool dst_available = (dst != mask || compute_mask) && (dst != src1 || dst != src2);\n-  if (blend_emulation && scratch_available && dst_available) {\n+  bool blend_emulation_needed = EnableX86ECoreOpts && UseAVX > 1;\n+  bool scratch_available;\n+  bool dst_available;\n+  if (compute_mask) {\n+    scratch_available = scratch != xnoreg && scratch != dst && scratch != src1 && scratch != src2;\n+    dst_available = dst != src1 || dst != src2;\n+  } else {\n+    scratch_available = scratch != xnoreg && scratch != dst;\n+    dst_available = dst != mask && (dst != src1 || dst != src2);\n+  }\n+  \n+  if (blend_emulation_needed && scratch_available && dst_available) {\n@@ -3545,5 +3552,12 @@\n-  \/\/ WARN: Allow dst == (src1|src2), mask == scratch\n-  bool blend_emulation = EnableX86ECoreOpts && UseAVX > 1;\n-  bool scratch_available = scratch != xnoreg && scratch != src1 && scratch != src2 && scratch != dst && (!compute_mask || scratch != mask);\n-  bool dst_available = dst != mask && (dst != src1 || dst != src2);\n-  if (blend_emulation && scratch_available && dst_available) {\n+  bool blend_emulation_needed = EnableX86ECoreOpts && UseAVX > 1;\n+  bool scratch_available;\n+  bool dst_available;\n+  if (compute_mask) {\n+    scratch_available = scratch != xnoreg && scratch != dst && scratch != mask && scratch != src1 && scratch != src2;\n+    dst_available = dst != src1 || dst != src2;\n+  } else {\n+    scratch_available = scratch != xnoreg && scratch != dst;\n+    dst_available = dst != mask && (dst != src1 || dst != src2);\n+  }\n+\n+  if (blend_emulation_needed && scratch_available && dst_available) {\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":24,"deletions":10,"binary":false,"changes":34,"status":"modified"}]}
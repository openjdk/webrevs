{"files":[{"patch":"@@ -60,1 +60,1 @@\n-        45.0,       \/\/ LINEAR_RGB\n+        (isOpenProfile() ? 45.0 : 10.1), \/\/ LINEAR_RGB\n@@ -62,2 +62,2 @@\n-        215.0,      \/\/ PYCC\n-        56.0        \/\/ CIEXYZ\n+        (isOpenProfile() ? 215.0 : 64.5), \/\/ PYCC\n+        (isOpenProfile() ? 56.0 : 55.5) \/\/ CIEXYZ\n","filename":"test\/jdk\/sun\/java2d\/cmm\/ColorConvertOp\/ColConvCCMTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6476665 8326661\n+ * @bug 6476665\n@@ -68,1 +68,1 @@\n-        45.0 \/\/ LINEAR_RGB\n+        (isOpenProfile() ? 45.0 : 2.5), \/\/ LINEAR_RGB\n","filename":"test\/jdk\/sun\/java2d\/cmm\/ColorConvertOp\/ColConvDCMTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+import java.awt.color.ICC_Profile;\n@@ -129,0 +130,29 @@\n+\n+    private static Boolean isOpenProfile = null;\n+\n+    public static boolean isOpenProfile() {\n+        if (isOpenProfile == null) {\n+            ICC_Profile p = ICC_Profile.getInstance(ColorSpace.CS_sRGB);\n+\n+            byte[] h = p.getData(ICC_Profile.icSigHead);\n+\n+            if (h == null || h.length < 128) {\n+                throw new RuntimeException(\"Test failed: invalid sRGB header\");\n+            }\n+\n+            final byte[] lcmsID = new byte[] {\n+                (byte)0x6c, \/\/ l\n+                (byte)0x63, \/\/ c\n+                (byte)0x6d, \/\/ m\n+                (byte)0x73, \/\/ s\n+            };\n+\n+            int off = ICC_Profile.icHdrCmmId;\n+\n+            isOpenProfile = ((h[off + 0] == lcmsID[0])\n+                    && (h[off + 1] == lcmsID[1])\n+                    && (h[off + 2] == lcmsID[2])\n+                    && (h[off + 3] == lcmsID[3]));\n+        }\n+        return isOpenProfile;\n+    }\n","filename":"test\/jdk\/sun\/java2d\/cmm\/ColorConvertOp\/ColConvTest.java","additions":31,"deletions":1,"binary":false,"changes":32,"status":"modified"}]}
{"files":[{"patch":"@@ -32,1 +32,0 @@\n-import sun.awt.AWTPermissions;\n@@ -88,11 +87,0 @@\n-    \/*\n-     * Check permissions\n-     *\/\n-    private static void checkInstallPermission() {\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkPermission(AWTPermissions.ALL_AWT_EVENTS_PERMISSION);\n-        }\n-    }\n-\n@@ -111,1 +99,0 @@\n-            checkInstallPermission();\n@@ -193,1 +180,0 @@\n-            checkInstallPermission();\n@@ -225,1 +211,0 @@\n-            checkInstallPermission();\n@@ -257,1 +242,0 @@\n-            checkInstallPermission();\n@@ -289,1 +273,0 @@\n-            checkInstallPermission();\n@@ -321,1 +304,0 @@\n-            checkInstallPermission();\n@@ -354,1 +336,0 @@\n-            checkInstallPermission();\n@@ -386,1 +367,0 @@\n-            checkInstallPermission();\n@@ -418,1 +398,0 @@\n-            checkInstallPermission();\n","filename":"src\/jdk.accessibility\/share\/classes\/com\/sun\/java\/accessibility\/util\/AWTEventMonitor.java","additions":0,"deletions":21,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -32,2 +32,0 @@\n-import java.security.AccessController;\n-import java.security.PrivilegedAction;\n@@ -145,1 +143,0 @@\n-    @SuppressWarnings(\"removal\")\n@@ -148,15 +145,8 @@\n-            java.security.AccessController.doPrivileged(\n-                new java.security.PrivilegedAction<Void>() {\n-                    public Void run() {\n-                        try {\n-                            long eventMask = AWTEvent.WINDOW_EVENT_MASK |\n-                                AWTEvent.FOCUS_EVENT_MASK |\n-                                AWTEvent.MOUSE_MOTION_EVENT_MASK;\n-\n-                            Toolkit.getDefaultToolkit().addAWTEventListener(new EventQueueMonitor(), eventMask);\n-                        } catch (Exception e) {\n-                        }\n-                        return null;\n-                    }\n-                }\n-            );\n+            try {\n+                long eventMask = AWTEvent.WINDOW_EVENT_MASK |\n+                        AWTEvent.FOCUS_EVENT_MASK |\n+                        AWTEvent.MOUSE_MOTION_EVENT_MASK;\n+\n+                Toolkit.getDefaultToolkit().addAWTEventListener(new EventQueueMonitor(), eventMask);\n+            } catch (Exception e) {\n+            }\n","filename":"src\/jdk.accessibility\/share\/classes\/com\/sun\/java\/accessibility\/util\/EventQueueMonitor.java","additions":8,"deletions":18,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -163,1 +163,1 @@\n-    @SuppressWarnings({\"removal\", \"restricted\"})\n+    @SuppressWarnings(\"restricted\")\n@@ -170,8 +170,1 @@\n-            java.security.AccessController.doPrivileged(\n-                new java.security.PrivilegedAction<Void>() {\n-                    public Void run() {\n-                        System.loadLibrary(\"jabsysinfo\");\n-                        return null;\n-                    }\n-                }, null, new java.lang.RuntimePermission(\"loadLibrary.jabsysinfo\")\n-            );\n+            System.loadLibrary(\"jabsysinfo\");\n@@ -181,8 +174,1 @@\n-                java.security.AccessController.doPrivileged(\n-                    new java.security.PrivilegedAction<Void>() {\n-                        public Void run() {\n-                            System.loadLibrary(\"javaaccessbridge-32\");\n-                            return null;\n-                        }\n-                    }, null, new java.lang.RuntimePermission(\"loadLibrary.javaaccessbridge-32\")\n-                );\n+                System.loadLibrary(\"javaaccessbridge-32\");\n@@ -193,8 +179,1 @@\n-            java.security.AccessController.doPrivileged(\n-                new java.security.PrivilegedAction<Void>() {\n-                    public Void run() {\n-                        System.loadLibrary(\"javaaccessbridge\");\n-                        return null;\n-                    }\n-                }, null, new java.lang.RuntimePermission(\"loadLibrary.javaaccessbridge\")\n-            );\n+            System.loadLibrary(\"javaaccessbridge\");\n","filename":"src\/jdk.accessibility\/windows\/classes\/com\/sun\/java\/accessibility\/internal\/AccessBridge.java","additions":4,"deletions":25,"binary":false,"changes":29,"status":"modified"}]}
{"files":[{"patch":"@@ -3362,2 +3362,6 @@\n-    if (improved_klass_ptr_type != klass_ptr_type && improved_klass_ptr_type->singleton()) {\n-      improved_superklass = makecon(improved_klass_ptr_type);\n+    if (improved_klass_ptr_type != klass_ptr_type) {\n+      if (improved_klass_ptr_type->singleton()) {\n+        improved_superklass = makecon(improved_klass_ptr_type);\n+      } else {\n+        improved_superklass = _gvn.transform(new CastPPNode(nullptr, superklass, improved_klass_ptr_type));\n+      }\n","filename":"src\/hotspot\/share\/opto\/graphKit.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -3550,5 +3550,4 @@\n-  \/\/ make sure klass is initialized & doesn't have finalizer\n-  \/\/ make sure klass is fully initialized\n-  __ lbu(t0, Address(x14, InstanceKlass::init_state_offset()));\n-  __ sub(t1, t0, (u1)InstanceKlass::fully_initialized);\n-  __ bnez(t1, slow_case);\n+  \/\/ make sure klass is initialized\n+  assert(VM_Version::supports_fast_class_init_checks(),\n+         \"Optimization requires support for fast class initialization checks\");\n+  __ clinit_barrier(x14, t0, nullptr \/*L_fast_path*\/, &slow_case);\n","filename":"src\/hotspot\/cpu\/riscv\/templateTable_riscv.cpp","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"}]}
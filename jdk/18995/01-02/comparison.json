{"files":[{"patch":"@@ -63,0 +63,1 @@\n+import javax.swing.SwingUtilities;\n@@ -90,1 +91,1 @@\n-    public static void main(String[] args) {\n+    public static void main(String[] args) throws Exception {\n@@ -172,1 +173,1 @@\n-    public static void test(Component compToClick) {\n+    public static void test(Component compToClick) throws Exception {\n@@ -177,0 +178,1 @@\n+        robot.waitForIdle();\n@@ -180,0 +182,1 @@\n+        robot.waitForIdle();\n@@ -183,0 +186,1 @@\n+        robot.waitForIdle();\n@@ -186,3 +190,4 @@\n-        if (Platform.isOnWayland()) {\n-            Util.clickOnComp(f0, robot);\n-        } else {\n+        robot.waitForIdle();\n+        SwingUtilities.invokeAndWait(f0::toFront);\n+\n+        if (!Platform.isOnWayland()) {\n","filename":"test\/jdk\/java\/awt\/Focus\/6981400\/Test1.java","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import java.awt.EventQueue;\n@@ -60,1 +61,1 @@\n-    public static void main(String[] args) {\n+    public static void main(String[] args) throws Exception {\n@@ -84,1 +85,1 @@\n-    public void start() {\n+    public void start() throws Exception {\n@@ -115,3 +116,3 @@\n-        if (Platform.isOnWayland()) {\n-            Util.clickOnComp(owner, robot);\n-        } else {\n+        EventQueue.invokeAndWait(owner::toFront);\n+\n+        if (!Platform.isOnWayland()) {\n@@ -141,3 +142,6 @@\n-    void clickOnCheckFocus(Component c) {\n-        if (c instanceof Frame && !Platform.isOnWayland()) {\n-            Util.clickOnTitle((Frame)c, robot);\n+    void clickOnCheckFocus(Component c) throws Exception {\n+        if (c instanceof Frame) {\n+            EventQueue.invokeAndWait(() -> ((Frame) c).toFront());\n+            if (!Platform.isOnWayland()) {\n+                Util.clickOnTitle((Frame) c, robot);\n+            }\n","filename":"test\/jdk\/java\/awt\/Focus\/ActualFocusedWindowTest\/ActualFocusedWindowBlockingTest.java","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -214,3 +214,2 @@\n-        if (isOnWayland) {\n-            EventQueue.invokeAndWait(frame::toFront);\n-        } else {\n+        EventQueue.invokeAndWait(frame::toFront);\n+        if (!isOnWayland) {\n","filename":"test\/jdk\/java\/awt\/Focus\/ModalDialogInFocusEventTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"}]}
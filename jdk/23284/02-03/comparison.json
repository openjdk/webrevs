{"files":[{"patch":"@@ -3780,0 +3780,2 @@\n+    \/\/ No memory changed so far - we can use memory create by reset_memory()\n+    \/\/ at the beginning of this intrinsic. No need to call reset_memory() again.\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,2 +36,2 @@\n-  static class FailsEA {\n-    final Object o;\n+    static class FailsEA {\n+        final Object o;\n@@ -39,4 +39,5 @@\n-    public FailsEA() throws Throwable {\n-      o = new Object();\n-      Continuation.pin();\n-      Continuation.unpin();\n+        public FailsEA() throws Throwable {\n+            o = new Object();\n+            Continuation.pin();\n+            Continuation.unpin();\n+        }\n@@ -44,1 +45,0 @@\n-  }\n@@ -46,2 +46,2 @@\n-  static class Crashes {\n-    final Object o;\n+    static class Crashes {\n+        final Object o;\n@@ -49,4 +49,5 @@\n-    public Crashes() throws Throwable {\n-      Continuation.pin();\n-      Continuation.unpin();\n-      o = new Object();\n+        public Crashes() throws Throwable {\n+            Continuation.pin();\n+            Continuation.unpin();\n+            o = new Object();\n+        }\n@@ -54,1 +55,0 @@\n-  }\n@@ -56,3 +56,4 @@\n-  static void test_FailsEA() throws Throwable {\n-    for (int i = 0; i < 10_000; ++i) {\n-      new FailsEA();\n+    static void test_FailsEA() throws Throwable {\n+        for (int i = 0; i < 10_000; ++i) {\n+            new FailsEA();\n+        }\n@@ -60,1 +61,0 @@\n-  }\n@@ -62,3 +62,4 @@\n-  static void test_Crashes() throws Throwable {\n-    for (int i = 0; i < 10_000; ++i) {\n-      new Crashes();\n+    static void test_Crashes() throws Throwable {\n+        for (int i = 0; i < 10_000; ++i) {\n+            new Crashes();\n+        }\n@@ -66,1 +67,0 @@\n-  }\n@@ -68,4 +68,8 @@\n-  public static void main(String[] args) throws Throwable {\n-    int iterations = 100;\n-    for (int i = 0; i < iterations; ++i) {\n-      test_FailsEA();\n+    public static void main(String[] args) throws Throwable {\n+        int iterations = 100;\n+        for (int i = 0; i < iterations; ++i) {\n+            test_FailsEA();\n+        }\n+        for (int i = 0; i < iterations; ++i) {\n+            test_Crashes();\n+        }\n@@ -73,4 +77,0 @@\n-    for (int i = 0; i < iterations; ++i) {\n-      test_Crashes();\n-    }\n-  }\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/TestContinuationPinningAndEA.java","additions":30,"deletions":30,"binary":false,"changes":60,"status":"modified"}]}
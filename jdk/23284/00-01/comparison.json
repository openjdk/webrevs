{"files":[{"patch":"@@ -28,2 +28,2 @@\n- * @run main\/othervm --add-opens=java.base\/jdk.internal.vm=ALL-UNNAMED\n- *      TestContinuationPinningAndEA\n+ * @modules java.base\/jdk.internal.vm\n+ * @run main TestContinuationPinningAndEA\n@@ -32,3 +32,1 @@\n-import java.lang.invoke.MethodHandle;\n-import java.lang.invoke.MethodHandles;\n-import java.lang.invoke.MethodType;\n+import jdk.internal.vm.Continuation;\n@@ -37,13 +35,0 @@\n-  public static final MethodHandle pin;\n-  public static final MethodHandle unpin;\n-\n-  static {\n-    try {\n-      MethodHandles.Lookup lookup = MethodHandles.lookup();\n-      Class<?> Continuation = lookup.findClass(\"jdk.internal.vm.Continuation\");\n-      pin = lookup.findStatic(Continuation, \"pin\", MethodType.methodType(void.class));\n-      unpin = lookup.findStatic(Continuation, \"unpin\", MethodType.methodType(void.class));\n-    } catch (Throwable e) {\n-      throw new RuntimeException(e);\n-    }\n-  }\n@@ -56,2 +41,2 @@\n-      pin.invokeExact();\n-      unpin.invokeExact();\n+      Continuation.pin();\n+      Continuation.unpin();\n@@ -65,2 +50,2 @@\n-      pin.invokeExact();\n-      unpin.invokeExact();\n+      Continuation.pin();\n+      Continuation.unpin();\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/TestContinuationPinningAndEA.java","additions":7,"deletions":22,"binary":false,"changes":29,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -191,0 +191,4 @@\n+        requireNonNull(lookup);\n+        requireNonNull(invocationType);\n+        requireNonNull(labels);\n+\n@@ -197,1 +201,1 @@\n-        for (Object l : labels) { \/\/ implicit null-check\n+        for (Object l : labels) {\n@@ -295,0 +299,4 @@\n+        requireNonNull(lookup);\n+        requireNonNull(invocationType);\n+        requireNonNull(labels);\n+\n@@ -302,1 +310,1 @@\n-        labels = labels.clone(); \/\/ implicit null check\n+        labels = labels.clone();\n@@ -310,1 +318,1 @@\n-                    convertEnumConstants(lookup, enumClass, labels[i]);\n+                    convertEnumConstants(enumClass, labels[i]);\n@@ -334,1 +342,1 @@\n-    private static <E extends Enum<E>> Object convertEnumConstants(MethodHandles.Lookup lookup, Class<?> enumClassTemplate, Object label) {\n+    private static <E extends Enum<E>> Object convertEnumConstants(Class<?> enumClassTemplate, Object label) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/runtime\/SwitchBootstraps.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -24,1 +24,0 @@\n-import org.testng.annotations.Test;\n@@ -41,1 +40,2 @@\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n@@ -48,1 +48,1 @@\n- * @run testng\/othervm ExactnessConversionsSupportTest\n+ * @run junit\/othervm ExactnessConversionsSupportTest\n@@ -50,1 +50,0 @@\n-@Test\n@@ -53,1 +52,1 @@\n-    public static void main(String[] args) {\n+    public void main(String[] args) {\n@@ -63,1 +62,2 @@\n-    public static void testByte() {\n+    @Test\n+    public void testByte() {\n@@ -95,1 +95,2 @@\n-    public static void testShort() {\n+    @Test\n+    public void testShort() {\n@@ -128,1 +129,2 @@\n-    public static void testChar() {\n+    @Test\n+    public void testChar() {\n@@ -160,1 +162,2 @@\n-    public static void testInt() {\n+    @Test\n+    public void testInt() {\n@@ -181,1 +184,2 @@\n-    public static void testLong() {\n+    @Test\n+    public void testLong() {\n@@ -199,1 +203,2 @@\n-    public static void testFloat() {\n+    @Test\n+    public void testFloat() {\n@@ -223,1 +228,2 @@\n-    public static void testDouble() {\n+    @Test\n+    public void testDouble() {\n","filename":"test\/jdk\/java\/lang\/runtime\/ExactnessConversionsSupportTest.java","additions":18,"deletions":12,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- * @run testng ObjectMethodsTest\n+ * @run junit ObjectMethodsTest\n@@ -37,1 +37,0 @@\n-import org.testng.annotations.Test;\n@@ -39,4 +38,0 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertThrows;\n-import static org.testng.Assert.assertFalse;\n-import static org.testng.Assert.assertTrue;\n@@ -44,1 +39,6 @@\n-@Test\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.Test;\n+\n@@ -83,0 +83,1 @@\n+    @Test\n@@ -95,0 +96,1 @@\n+    @Test\n@@ -105,0 +107,1 @@\n+    @Test\n@@ -110,1 +113,1 @@\n-        assertEquals(hc, hashCombiner(c.x(), c.y()));\n+        assertEquals(hashCombiner(c.x(), c.y()), hc);\n@@ -112,5 +115,5 @@\n-        assertEquals((int)handle.invokeExact(new C(100, 1)),  hashCombiner(100, 1));\n-        assertEquals((int)handle.invokeExact(new C(0, 0)),    hashCombiner(0, 0));\n-        assertEquals((int)handle.invokeExact(new C(-1, 100)), hashCombiner(-1, 100));\n-        assertEquals((int)handle.invokeExact(new C(100, 1)),  hashCombiner(100, 1));\n-        assertEquals((int)handle.invokeExact(new C(100, -1)), hashCombiner(100, -1));\n+        assertEquals(hashCombiner(100, 1), (int)handle.invokeExact(new C(100, 1)));\n+        assertEquals(hashCombiner(0, 0), (int)handle.invokeExact(new C(0, 0)));\n+        assertEquals(hashCombiner(-1, 100), (int)handle.invokeExact(new C(-1, 100)));\n+        assertEquals(hashCombiner(100, 1), (int)handle.invokeExact(new C(100, 1)));\n+        assertEquals(hashCombiner(100, -1), (int)handle.invokeExact(new C(100, -1)));\n@@ -119,0 +122,1 @@\n+    @Test\n@@ -123,1 +127,1 @@\n-        assertEquals((int)handle.invokeExact(e), 0);\n+        assertEquals(0, (int)handle.invokeExact(e));\n@@ -126,0 +130,1 @@\n+    @Test\n@@ -129,4 +134,4 @@\n-        assertEquals((String)handle.invokeExact(new C(8, 9)),    \"C[x=8, y=9]\"   );\n-        assertEquals((String)handle.invokeExact(new C(10, 11)),  \"C[x=10, y=11]\" );\n-        assertEquals((String)handle.invokeExact(new C(100, -9)), \"C[x=100, y=-9]\");\n-        assertEquals((String)handle.invokeExact(new C(0, 0)),    \"C[x=0, y=0]\"   );\n+        assertEquals(\"C[x=8, y=9]\", (String)handle.invokeExact(new C(8, 9))   );\n+        assertEquals(\"C[x=10, y=11]\", (String)handle.invokeExact(new C(10, 11)) );\n+        assertEquals(\"C[x=100, y=-9]\", (String)handle.invokeExact(new C(100, -9)));\n+        assertEquals(\"C[x=0, y=0]\", (String)handle.invokeExact(new C(0, 0))   );\n@@ -135,0 +140,1 @@\n+    @Test\n@@ -138,1 +144,1 @@\n-        assertEquals((String)handle.invokeExact(new Empty()),    \"Empty[]\");\n+        assertEquals(\"Empty[]\", (String)handle.invokeExact(new Empty()));\n@@ -144,0 +150,1 @@\n+    @Test\n","filename":"test\/jdk\/java\/lang\/runtime\/ObjectMethodsTest.java","additions":26,"deletions":19,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,2 @@\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n@@ -40,4 +41,4 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertFalse;\n-import static org.testng.Assert.assertTrue;\n-import static org.testng.Assert.fail;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n@@ -50,1 +51,1 @@\n- * @run testng\/othervm SwitchBootstrapsTest\n+ * @run junit\/othervm SwitchBootstrapsTest\n@@ -52,1 +53,0 @@\n-@Test\n@@ -73,1 +73,1 @@\n-        assertEquals((int) indy.invoke(target, start), result);\n+        assertEquals(result, (int) indy.invoke(target, start));\n@@ -80,1 +80,1 @@\n-        assertEquals((int) indy.invoke(target, start), result);\n+        assertEquals(result, (int) indy.invoke(target, start));\n@@ -90,1 +90,1 @@\n-        assertEquals((int) indy.invoke(target, start), result);\n+        assertEquals(result, (int) indy.invoke(target, start));\n@@ -103,0 +103,1 @@\n+    @Test\n@@ -141,0 +142,1 @@\n+    @Test\n@@ -153,0 +155,1 @@\n+    @Test\n@@ -157,42 +160,21 @@\n-        try {\n-            testEnum(E1.B, 0, -1, E2.class);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, String.class);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, 10);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, new Object());\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, new Object[] { null });\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, \"\");\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, (Object[]) null);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (NullPointerException ex) {\n-            \/\/OK\n-        }\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, E2.class)\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, String.class)\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, 10)\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, new Object())\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, new Object[] { null })\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, \"\")\n+        );\n+        assertThrows(NullPointerException.class, () ->\n+            testEnum(E1.B, 0, -1, (Object[]) null)\n+        );\n@@ -211,1 +193,1 @@\n-        assertEquals((int) indy.invoke(E1.A, 0), 0);\n+        assertEquals(0, (int) indy.invoke(E1.A, 0));\n@@ -214,0 +196,1 @@\n+    @Test\n@@ -242,0 +225,1 @@\n+    @Test\n@@ -248,6 +232,3 @@\n-            try {\n-                BSM_TYPE_SWITCH.invoke(MethodHandles.lookup(), \"\", switchType);\n-                fail(\"Didn't get the expected exception.\");\n-            } catch (IllegalArgumentException ex) {\n-                \/\/OK, expected\n-            }\n+            assertThrows(IllegalArgumentException.class, () ->\n+                BSM_TYPE_SWITCH.invoke(MethodHandles.lookup(), \"\", switchType)\n+            );\n@@ -262,6 +243,3 @@\n-            try {\n-                BSM_ENUM_SWITCH.invoke(MethodHandles.lookup(), \"\", enumSwitchType);\n-                fail(\"Didn't get the expected exception.\");\n-            } catch (IllegalArgumentException ex) {\n-                \/\/OK, expected\n-            }\n+            assertThrows(IllegalArgumentException.class, () ->\n+                BSM_ENUM_SWITCH.invoke(MethodHandles.lookup(), \"\", enumSwitchType)\n+            );\n@@ -271,0 +249,1 @@\n+    @Test\n@@ -273,6 +252,3 @@\n-        try {\n-            testType(E.A, 0, -1, E.A);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK, expected\n-        }\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testType(E.A, 0, -1, E.A)\n+        );\n@@ -281,0 +257,1 @@\n+    @Test\n@@ -293,0 +270,1 @@\n+    @Test\n@@ -295,7 +273,4 @@\n-        try {\n-            BSM_TYPE_SWITCH.invoke(MethodHandles.lookup(), \"\", switchType, (Object[]) null);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (NullPointerException ex) {\n-            \/\/OK\n-        }\n-        try {\n+        assertThrows(NullPointerException.class, () ->\n+            BSM_TYPE_SWITCH.invoke(MethodHandles.lookup(), \"\", switchType, (Object[]) null)\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n@@ -303,5 +278,2 @@\n-                                   new Object[] {1, null, String.class});\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n+                    new Object[] {1, null, String.class})\n+        );\n@@ -309,7 +281,4 @@\n-        try {\n-            BSM_TYPE_SWITCH.invoke(MethodHandles.lookup(), \"\", enumSwitchType, (Object[]) null);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (NullPointerException ex) {\n-            \/\/OK\n-        }\n-        try {\n+        assertThrows(NullPointerException.class, () ->\n+            BSM_TYPE_SWITCH.invoke(MethodHandles.lookup(), \"\", enumSwitchType, (Object[]) null)\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n@@ -317,5 +286,2 @@\n-                                   new Object[] {1, null, String.class});\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n+                    new Object[] {1, null, String.class})\n+        );\n@@ -328,0 +294,1 @@\n+    @Test\n@@ -343,1 +310,1 @@\n-        assertEquals(invocation.dynamicInvoker().invoke(null, 0), -1);\n+        assertEquals(-1, invocation.dynamicInvoker().invoke(null, 0));\n@@ -347,1 +314,1 @@\n-        assertEquals(invocation.dynamicInvoker().invoke(e, 0), 0);\n+        assertEquals(0, invocation.dynamicInvoker().invoke(e, 0));\n@@ -350,0 +317,1 @@\n+    @Test\n@@ -368,1 +336,1 @@\n-        assertEquals(invocation.dynamicInvoker().invoke(null, 0), -1);\n+        assertEquals(-1, invocation.dynamicInvoker().invoke(null, 0));\n@@ -370,1 +338,1 @@\n-        assertEquals(invocation.dynamicInvoker().invoke(\"test\", 0), 1);\n+        assertEquals(1, invocation.dynamicInvoker().invoke(\"test\", 0));\n@@ -374,1 +342,1 @@\n-        assertEquals(invocation.dynamicInvoker().invoke(e, 0), 0);\n+        assertEquals(0, invocation.dynamicInvoker().invoke(e, 0));\n@@ -377,0 +345,1 @@\n+    @Test\n@@ -378,12 +347,6 @@\n-        try {\n-            testEnum(E1.B, 0, -1, \"B\", 1);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 0, -1, \"B\", null);\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IllegalArgumentException ex) {\n-            \/\/OK\n-        }\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, \"B\", 1)\n+        );\n+        assertThrows(IllegalArgumentException.class, () ->\n+            testEnum(E1.B, 0, -1, \"B\", null)\n+        );\n@@ -392,0 +355,1 @@\n+    @Test\n@@ -393,12 +357,6 @@\n-        try {\n-            testEnum(E1.B, -1, -1, \"B\");\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IndexOutOfBoundsException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testEnum(E1.B, 2, -1, \"B\");\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IndexOutOfBoundsException ex) {\n-            \/\/OK\n-        }\n+        assertThrows(IndexOutOfBoundsException.class, () ->\n+            testEnum(E1.B, -1, -1, \"B\")\n+        ); \/\/OK\n+        assertThrows(IndexOutOfBoundsException.class, () ->\n+            testEnum(E1.B, 2, -1, \"B\")\n+        );\n@@ -407,0 +365,1 @@\n+    @Test\n@@ -408,12 +367,6 @@\n-        try {\n-            testType(\"\", -1, -1, \"\");\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IndexOutOfBoundsException ex) {\n-            \/\/OK\n-        }\n-        try {\n-            testType(\"\", 2, -1, \"\");\n-            fail(\"Didn't get the expected exception.\");\n-        } catch (IndexOutOfBoundsException ex) {\n-            \/\/OK\n-        }\n+        assertThrows(IndexOutOfBoundsException.class, () ->\n+            testType(\"\", -1, -1, \"\")\n+        );\n+        assertThrows(IndexOutOfBoundsException.class, () ->\n+            testType(\"\", 2, -1, \"\")\n+        );\n@@ -422,0 +375,1 @@\n+    @Test\n@@ -450,0 +404,19 @@\n+\n+    @Test\n+    public void testNullLookup() throws Throwable {\n+        Assertions.assertThrows(NullPointerException.class, () -> {\n+            MethodType switchType = MethodType.methodType(int.class, Object.class, int.class);\n+            BSM_TYPE_SWITCH.invoke(null, \"\", switchType, Object.class);\n+        });\n+        enum E {}\n+        Assertions.assertThrows(NullPointerException.class, () -> {\n+            MethodType switchType = MethodType.methodType(int.class, E.class, int.class);\n+            BSM_ENUM_SWITCH.invoke(null, \"\", switchType,\n+                    new Object[] {});\n+        });\n+        Assertions.assertThrows(NullPointerException.class, () -> {\n+            MethodType switchType = MethodType.methodType(int.class, E.class, int.class);\n+            BSM_ENUM_SWITCH.invoke(null, \"\", switchType,\n+                    new Object[] {\"A\"});\n+        });\n+    }\n","filename":"test\/jdk\/java\/lang\/runtime\/SwitchBootstrapsTest.java","additions":110,"deletions":137,"binary":false,"changes":247,"status":"modified"}]}
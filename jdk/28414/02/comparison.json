{"files":[{"patch":"@@ -32,1 +32,1 @@\n-  friend class ZTest;\n+  friend class ZVMTest;\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-  friend class ZTest;\n+  friend class ZVMTest;\n","filename":"src\/hotspot\/share\/gc\/z\/zInitialize.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-  friend class ZTest;\n+  friend class ZVMTest;\n","filename":"src\/hotspot\/share\/gc\/z\/zNUMA.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,0 @@\n-  friend class ZTest;\n@@ -39,0 +38,1 @@\n+  friend class ZVMTest;\n","filename":"src\/hotspot\/share\/gc\/z\/zVirtualMemoryManager.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n-class ZAddressTest : public ZTest {\n+class ZAddressTest : public ZVMTest {\n","filename":"test\/hotspot\/gtest\/gc\/z\/test_zAddress.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-class ZForwardingTest : public ZTest {\n+class ZForwardingTest : public ZVMTest {\n","filename":"test\/hotspot\/gtest\/gc\/z\/test_zForwarding.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-class ZLiveMapTest : public ZTest {\n+class ZLiveMapTest : public ZVMTest {\n","filename":"test\/hotspot\/gtest\/gc\/z\/test_zLiveMap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-class ZMapperTest : public ZTest {\n+class ZMapperTest : public ZVMTest {\n","filename":"test\/hotspot\/gtest\/gc\/z\/test_zMapper_windows.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-class ZVirtualMemoryManagerTest : public ZTest {\n+class ZVirtualMemoryManagerTest : public ZVMTest {\n","filename":"test\/hotspot\/gtest\/gc\/z\/test_zVirtualMemoryManager.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-  friend class ZTest;\n+  friend class ZVMTest;\n@@ -64,0 +64,15 @@\n+private:\n+  unsigned int _rand_seed;\n+\n+protected:\n+  ZTest()\n+    : _rand_seed(static_cast<unsigned int>(::testing::UnitTest::GetInstance()->random_seed())) {}\n+\n+  int random() {\n+    const int next_seed = os::next_random(_rand_seed);\n+    _rand_seed = static_cast<unsigned int>(next_seed);\n+    return next_seed;\n+  }\n+};\n+\n+class ZVMTest : public ZTest {\n@@ -109,1 +124,0 @@\n-  unsigned int _rand_seed;\n@@ -120,3 +134,2 @@\n-  ZTest()\n-    : _zaddress_offset_max_setter(ZAddressOffsetMax),\n-      _rand_seed(static_cast<unsigned int>(::testing::UnitTest::GetInstance()->random_seed())) {\n+  ZVMTest()\n+    : _zaddress_offset_max_setter(ZAddressOffsetMax) {\n@@ -141,1 +154,0 @@\n-  }\n@@ -143,4 +155,2 @@\n-  int random() {\n-    const int next_seed = os::next_random(_rand_seed);\n-    _rand_seed = static_cast<unsigned int>(next_seed);\n-    return next_seed;\n+    \/\/ Silence unused variable warning\n+    (void)runs_once;\n","filename":"test\/hotspot\/gtest\/gc\/z\/zunittest.hpp","additions":20,"deletions":10,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -66,3 +66,0 @@\n-        \/\/ JDK-8372244\n-        TF(\"ZArrayTest.slice\"),\n-        TF(\"ZNUMATest.calculate_share\"),\n","filename":"test\/hotspot\/jtreg\/gtest\/AllNotVMGtest.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"}]}
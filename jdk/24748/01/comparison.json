{"files":[{"patch":"@@ -540,1 +540,1 @@\n-  expand_to(next_power_of_2(j));\n+  expand_to(next_power_of_2(MAX2(j, 4)));\n@@ -757,1 +757,3 @@\n-  GrowableArray() : GrowableArray(2 \/* initial_capacity *\/) {}\n+  GrowableArray() : GrowableArrayWithAllocator<E, GrowableArray>(nullptr, 0), _metadata() {\n+    init_checks();\n+  }\n@@ -767,0 +769,6 @@\n+  explicit GrowableArray(MemTag mem_tag) :\n+      GrowableArrayWithAllocator<E, GrowableArray>(nullptr, 0),\n+      _metadata(mem_tag) {\n+    init_checks();\n+  }\n+\n@@ -828,1 +836,3 @@\n-  GrowableArrayCHeap(int initial_capacity = 0) :\n+  GrowableArrayCHeap() : GrowableArrayWithAllocator<E, GrowableArrayCHeap<E, MT>>(nullptr, 0) {}\n+\n+  explicit GrowableArrayCHeap(int initial_capacity) :\n","filename":"src\/hotspot\/share\/utilities\/growableArray.hpp","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -353,0 +353,7 @@\n+    {\n+      ResourceMark rm;\n+      GrowableArray<int> a;\n+      ASSERT_TRUE(a.is_empty());\n+      modify_and_test(&a, modify, test);\n+    }\n+\n@@ -403,0 +410,8 @@\n+\n+    \/\/ Static\/CHeap allocated\n+    {\n+      static GrowableArray<int> a(mtTest);\n+      ASSERT_TRUE(a.is_empty());\n+      modify_and_test(&a, modify, test);\n+      a.clear_and_deallocate();\n+    }\n@@ -438,0 +453,9 @@\n+\/\/ static empty vector\n+const GrowableArray<int> empty_array(mtTest);\n+const GrowableArrayCHeap<int, mtTest> empty_cheap_array;\n+\n+TEST_F(GrowableArrayTest, static_empty) {\n+  ASSERT_TRUE(empty_array.is_empty());\n+  ASSERT_TRUE(empty_cheap_array.is_empty());\n+}\n+\n@@ -472,0 +496,1 @@\n+    ASSERT_TRUE(a->is_empty());\n@@ -564,1 +589,1 @@\n-    GrowableArrayCHeap<int, mtTest> a(0);\n+    GrowableArrayCHeap<int, mtTest> a;\n@@ -577,1 +602,1 @@\n-    GrowableArrayCHeap<int, mtTest>* a = new GrowableArrayCHeap<int, mtTest>(0);\n+    GrowableArrayCHeap<int, mtTest>* a = new GrowableArrayCHeap<int, mtTest>();\n","filename":"test\/hotspot\/gtest\/utilities\/test_growableArray.cpp","additions":27,"deletions":2,"binary":false,"changes":29,"status":"modified"}]}
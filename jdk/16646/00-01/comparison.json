{"files":[{"patch":"@@ -216,1 +216,1 @@\n-  _use_full_module_graph = CDSConfig::is_dumping_full_module_graph();\n+  _has_full_module_graph = CDSConfig::is_dumping_full_module_graph();\n@@ -294,1 +294,1 @@\n-  st->print_cr(\"- use_full_module_graph           %d\", _use_full_module_graph);\n+  st->print_cr(\"- has_full_module_graph           %d\", _has_full_module_graph);\n@@ -2390,1 +2390,2 @@\n-  if (!_use_full_module_graph) {\n+  if (is_static() && !_has_full_module_graph) {\n+    \/\/ Only the static archive can contain the full module graph.\n","filename":"src\/hotspot\/share\/cds\/filemap.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -226,1 +226,1 @@\n-  bool   _use_full_module_graph;        \/\/ Can we use the full archived module graph?\n+  bool   _has_full_module_graph;        \/\/ Does this CDS archive contain the full archived module graph?\n@@ -252,0 +252,1 @@\n+  bool is_static()                         const { return magic() == CDS_ARCHIVE_MAGIC; }\n@@ -283,1 +284,0 @@\n-\n","filename":"src\/hotspot\/share\/cds\/filemap.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
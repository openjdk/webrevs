{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,1 @@\n-static boolean SetupI18nProps(LCID lcid, char** language, char** script, char** country,\n+static BOOL SetupI18nProps(LCID lcid, char** language, char** script, char** country,\n@@ -131,1 +131,1 @@\n-static char* getConsoleEncoding()\n+static char* getConsoleEncoding(BOOL output)\n@@ -139,2 +139,6 @@\n-    cp = GetConsoleCP();\n-    if (cp >= 874 && cp <= 950)\n+    if (output) {\n+        cp = GetConsoleOutputCP();\n+    } else {\n+        cp = GetConsoleCP();\n+    }\n+    if (cp >= 874 && cp <= 950) {\n@@ -142,1 +146,1 @@\n-    else if (cp == 65001)\n+    } else if (cp == 65001) {\n@@ -144,1 +148,5 @@\n-    else\n+    } else if (cp == 0) {\n+        \/\/ Failed to get the console code page\n+        free(buf);\n+        buf = NULL;\n+    } else {\n@@ -146,0 +154,1 @@\n+    }\n@@ -224,1 +233,1 @@\n-static boolean\n+static BOOL\n@@ -254,1 +263,1 @@\n-static boolean\n+static BOOL\n@@ -346,2 +355,2 @@\n-        boolean is_workstation;\n-        boolean is_64bit;\n+        BOOL is_workstation;\n+        BOOL is_64bit;\n@@ -680,1 +689,1 @@\n-                sprops.stdout_encoding = getConsoleEncoding();\n+                sprops.stdout_encoding = getConsoleEncoding(TRUE);\n@@ -688,1 +697,1 @@\n-                    sprops.stderr_encoding = getConsoleEncoding();\n+                    sprops.stderr_encoding = getConsoleEncoding(TRUE);\n","filename":"src\/java.base\/windows\/native\/libjava\/java_props_md.c","additions":22,"deletions":13,"binary":false,"changes":35,"status":"modified"}]}
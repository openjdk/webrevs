{"files":[{"patch":"@@ -524,1 +524,1 @@\n-  if (allow_suspend && _handshakee->is_disable_suspend()) {\n+  if (allow_suspend && (_handshakee->is_disable_suspend() || _handshakee->is_vthread_transition_disabler())) {\n","filename":"src\/hotspot\/share\/runtime\/handshake.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-    assert(!current->is_vthread_transition_disabler(), \"DBG-TMP\");\n@@ -137,0 +136,1 @@\n+    assert(!_target->is_vthread_transition_disabler(), \"attempt to suspend a vthread transition disabler\");\n","filename":"src\/hotspot\/share\/runtime\/suspendResumeManager.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
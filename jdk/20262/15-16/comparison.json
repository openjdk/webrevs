{"files":[{"patch":"@@ -541,1 +541,7 @@\n-    case Bytecodes::_i2d:\n+    case Bytecodes::_i2d:{\n+      FloatRegister rdst = dst->as_double_reg();\n+      \/\/ move src to dst register\n+      __ mtfprwa(rdst, src->as_register());\n+      __ fcfid(rdst, rdst);\n+      break;\n+    }\n@@ -545,5 +551,1 @@\n-      if (code == Bytecodes::_i2d) {\n-        __ mtfprwa(rdst, src->as_register());\n-      } else {\n-        __ mtfprd(rdst, src->as_register_lo());\n-      }\n+      __ mtfprd(rdst, src->as_register_lo());\n@@ -553,1 +555,7 @@\n-    case Bytecodes::_i2f:\n+    case Bytecodes::_i2f:{\n+      FloatRegister rdst = dst->as_float_reg();\n+      \/\/ move src to dst register\n+      __ mtfprwa(rdst, src->as_register());\n+      __ fcfids(rdst, rdst);\n+      break;\n+    }\n@@ -557,5 +565,1 @@\n-      if (code == Bytecodes::_i2f) {\n-        __ mtfprwa(rdst, src->as_register());\n-      } else {\n-        __ mtfprd(rdst, src->as_register_lo());\n-      }\n+      __ mtfprd(rdst, src->as_register_lo());\n","filename":"src\/hotspot\/cpu\/ppc\/c1_LIRAssembler_ppc.cpp","additions":16,"deletions":12,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1531,1 +1531,1 @@\n-    \/\/ If supported set DSCR pre-fetch to deepest.\n+    \/\/ Set DSCR pre-fetch to deepest.\n","filename":"src\/hotspot\/cpu\/ppc\/stubGenerator_ppc.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
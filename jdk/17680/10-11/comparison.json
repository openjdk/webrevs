{"files":[{"patch":"@@ -1482,0 +1482,3 @@\n+  ResourceMark rm(current_thread);\n+  GrowableArray<JavaThread*>* wantList = nullptr;\n+\n@@ -1488,0 +1491,2 @@\n+    wantList =  Threads::get_pending_threads(tlh.list(), nWant + nWait, (address)mon);\n+    nWant = wantList->length();\n@@ -1492,4 +1497,0 @@\n-  ResourceMark rm(current_thread);\n-  GrowableArray<JavaThread*>* wantList = Threads::get_pending_threads(tlh.list(), nWant + nWait, (address)mon);\n-  nWant = wantList->length();\n-\n@@ -1501,0 +1502,3 @@\n+        \/\/ The nWait count we got from the mon->waiters() may include the re-entering\n+        \/\/ the monitor threads after being notified. Here we are correcting the actual\n+        \/\/ number of the waiting threads by excluding those re-entering the monitor.\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.cpp","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -46,1 +46,3 @@\n-import com.sun.jndi.ldap.LdapCtx;\n+import javax.naming.Context;\n+import javax.naming.InitialContext;\n+\n@@ -59,1 +61,0 @@\n- * @modules java.naming\/com.sun.jndi.ldap\n@@ -384,1 +385,1 @@\n-            LdapCtx ldapCtx = null;\n+            Context ldapCtx = null;\n@@ -388,0 +389,7 @@\n+                envProps.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\");\n+                final String providerUrl = URIBuilder.newBuilder()\n+                        .scheme(\"ldap\")\n+                        .host(serverAddr.getAddress())\n+                        .port(serverAddr.getPort())\n+                        .build().toString();\n+                envProps.put(Context.PROVIDER_URL, providerUrl);\n@@ -391,4 +399,1 @@\n-                ldapCtx = new LdapCtx(\"\",\n-                        serverAddr.getAddress().getHostAddress(),\n-                        serverAddr.getPort(),\n-                        envProps, false);\n+                ldapCtx = new InitialContext(envProps);\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/LdapClientConnTest.java","additions":12,"deletions":7,"binary":false,"changes":19,"previous_filename":"test\/jdk\/javax\/naming\/ldap\/LdapClientConnTest.java","status":"renamed"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-  add_segment(segment);\n+  _segments.append(segment);\n@@ -53,2 +53,2 @@\n-  : _segments() {\n-  add_segments(pmem);\n+  : _segments(pmem.nsegments()) {\n+  _segments.appendAll(&pmem._segments);\n@@ -58,2 +58,4 @@\n-  \/\/ Free segments\n-  _segments.clear_and_deallocate();\n+  \/\/ Check for self-assignment\n+  if (this == &pmem) {\n+    return *this;\n+  }\n@@ -61,2 +63,4 @@\n-  \/\/ Copy segments\n-  add_segments(pmem);\n+  \/\/ Free and copy segments\n+  _segments.clear_and_deallocate();\n+  _segments.reserve(pmem.nsegments());\n+  _segments.appendAll(&pmem._segments);\n","filename":"src\/hotspot\/share\/gc\/z\/zPhysicalMemory.cpp","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"}]}
{"files":[{"patch":"@@ -87,3 +87,0 @@\n-  \/\/ clear any pending exception in thread (native calls start with no exception pending)\n-  thread->clear_pending_exception();\n-\n@@ -96,1 +93,4 @@\n-  ThreadStateTransition::transition_from_native(thread, _thread_in_Java, true \/* check_asyncs *\/);\n+  ThreadStateTransition::transition_from_native(thread, _thread_in_Java, false \/* check_asyncs *\/);\n+\n+  \/\/ clear any pending exception in thread, in case someone forgot to check it after a JNI API call.\n+  thread->clear_pending_exception();\n@@ -122,2 +122,0 @@\n-  thread->frame_anchor()->zap();\n-\n@@ -126,0 +124,2 @@\n+  thread->frame_anchor()->copy(&context->jfa);\n+\n@@ -129,2 +129,0 @@\n-  thread->frame_anchor()->copy(&context->jfa);\n-\n@@ -134,2 +132,0 @@\n-\n-  assert(!thread->has_pending_exception(), \"Upcall can not throw an exception\");\n","filename":"src\/hotspot\/share\/prims\/upcallLinker.cpp","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"}]}
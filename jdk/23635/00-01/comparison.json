{"files":[{"patch":"@@ -35,0 +35,1 @@\n+#include \"compiler\/abstractCompiler.hpp\"\n@@ -45,0 +46,1 @@\n+#include \"utilities\/debug.hpp\"\n@@ -595,1 +597,1 @@\n-  _env->set_compiler_data(this, CompilerType::compiler_c1);\n+  _env->set_compiler_data(this);\n@@ -627,1 +629,1 @@\n-  _env->set_compiler_data(nullptr, CompilerType::compiler_none);\n+  _env->set_compiler_data(nullptr);\n@@ -737,0 +739,6 @@\n+\n+#ifdef ASSERT\n+void Compilation::check_current_compiler_c1() {\n+  assert(CompilerThread::current()->compiler()->is_c1(), \"Not on C1\");\n+}\n+#endif \/\/ ASSERT\n","filename":"src\/hotspot\/share\/c1\/c1_Compilation.cpp","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -35,1 +35,0 @@\n-#include \"utilities\/debug.hpp\"\n@@ -126,0 +125,2 @@\n+  static void check_current_compiler_c1() NOT_DEBUG({});\n+\n@@ -134,1 +135,1 @@\n-    DEBUG_ONLY(ciEnv::current()->check_compiler_data_c1_or_null();)\n+    check_current_compiler_c1();\n","filename":"src\/hotspot\/share\/c1\/c1_Compilation.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -122,1 +122,0 @@\n-  _compiler_data_type = CompilerType::compiler_none;\n@@ -257,1 +256,0 @@\n-  _compiler_data_type = CompilerType::compiler_none;\n@@ -1160,14 +1158,0 @@\n-void ciEnv::set_compiler_data(void* x, CompilerType type) {\n-  _compiler_data = x;\n-  _compiler_data_type = type;\n-}\n-\n-#ifdef ASSERT\n-void ciEnv::check_compiler_data_c1_or_null() const {\n-  assert(_compiler_data == nullptr || _compiler_data_type == CompilerType::compiler_c1, \"Not C1 data\");\n-}\n-void ciEnv::check_compiler_data_c2_or_null() const {\n-  assert(_compiler_data == nullptr || _compiler_data_type == CompilerType::compiler_c2, \"Not C2 data\");\n-}\n-#endif\n-\n","filename":"src\/hotspot\/share\/ci\/ciEnv.cpp","additions":0,"deletions":16,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,0 @@\n-#include \"compiler\/compilerDefinitions.hpp\"\n@@ -69,1 +68,0 @@\n-  CompilerType     _compiler_data_type;\n@@ -452,3 +450,1 @@\n-  void set_compiler_data(void* x, CompilerType type);\n-  DEBUG_ONLY(void check_compiler_data_c1_or_null() const;)\n-  DEBUG_ONLY(void check_compiler_data_c2_or_null() const;)\n+  void set_compiler_data(void* x) { _compiler_data = x; }\n","filename":"src\/hotspot\/share\/ci\/ciEnv.hpp","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+#include \"compiler\/abstractCompiler.hpp\"\n@@ -86,0 +87,1 @@\n+#include \"utilities\/debug.hpp\"\n@@ -485,1 +487,1 @@\n-  env->set_compiler_data(compile, CompilerType::compiler_c2);\n+  env->set_compiler_data(compile);\n@@ -505,1 +507,1 @@\n-  _compile->env()->set_compiler_data(nullptr, CompilerType::compiler_none);\n+  _compile->env()->set_compiler_data(nullptr);\n@@ -5212,0 +5214,6 @@\n+\n+#ifdef ASSERT\n+void Compile::check_current_compiler_c2() {\n+  assert(CompilerThread::current()->compiler()->is_c2(), \"Not on C2\");\n+}\n+#endif \/\/ ASSERT\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -42,1 +42,0 @@\n-#include \"opto\/printinlining.hpp\"\n@@ -48,1 +47,0 @@\n-#include \"utilities\/debug.hpp\"\n@@ -51,0 +49,1 @@\n+#include \"opto\/printinlining.hpp\"\n@@ -495,0 +494,2 @@\n+  static void check_current_compiler_c2() NOT_DEBUG({}});\n+\n@@ -534,1 +535,1 @@\n-    DEBUG_ONLY(ciEnv::current()->check_compiler_data_c2_or_null();)\n+    check_current_compiler_c2();\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}
{"files":[{"patch":"@@ -595,1 +595,1 @@\n-  _env->set_compiler_data(this);\n+  _env->set_compiler_data(this, CompilerType::compiler_c1);\n@@ -627,1 +627,1 @@\n-  _env->set_compiler_data(nullptr);\n+  _env->set_compiler_data(nullptr, CompilerType::compiler_none);\n","filename":"src\/hotspot\/share\/c1\/c1_Compilation.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+#include \"utilities\/debug.hpp\"\n@@ -133,0 +134,1 @@\n+    DEBUG_ONLY(ciEnv::current()->check_compiler_data_c1_or_null();)\n","filename":"src\/hotspot\/share\/c1\/c1_Compilation.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -122,0 +122,1 @@\n+  _compiler_data_type = CompilerType::compiler_none;\n@@ -256,0 +257,1 @@\n+  _compiler_data_type = CompilerType::compiler_none;\n@@ -1158,0 +1160,14 @@\n+void ciEnv::set_compiler_data(void* x, CompilerType type) {\n+  _compiler_data = x;\n+  _compiler_data_type = type;\n+}\n+\n+#ifdef ASSERT\n+void ciEnv::check_compiler_data_c1_or_null() const {\n+  assert(_compiler_data == nullptr || _compiler_data_type == CompilerType::compiler_c1, \"Not C1 data\");\n+}\n+void ciEnv::check_compiler_data_c2_or_null() const {\n+  assert(_compiler_data == nullptr || _compiler_data_type == CompilerType::compiler_c2, \"Not C2 data\");\n+}\n+#endif\n+\n","filename":"src\/hotspot\/share\/ci\/ciEnv.cpp","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+#include \"compiler\/compilerDefinitions.hpp\"\n@@ -68,0 +69,1 @@\n+  CompilerType     _compiler_data_type;\n@@ -450,1 +452,3 @@\n-  void set_compiler_data(void* x) { _compiler_data = x; }\n+  void set_compiler_data(void* x, CompilerType type);\n+  DEBUG_ONLY(void check_compiler_data_c1_or_null() const;)\n+  DEBUG_ONLY(void check_compiler_data_c2_or_null() const;)\n","filename":"src\/hotspot\/share\/ci\/ciEnv.hpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -485,1 +485,1 @@\n-  env->set_compiler_data(compile);\n+  env->set_compiler_data(compile, CompilerType::compiler_c2);\n@@ -505,1 +505,1 @@\n-  _compile->env()->set_compiler_data(nullptr);\n+  _compile->env()->set_compiler_data(nullptr, CompilerType::compiler_none);\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+#include \"opto\/printinlining.hpp\"\n@@ -47,0 +48,1 @@\n+#include \"utilities\/debug.hpp\"\n@@ -49,1 +51,0 @@\n-#include \"opto\/printinlining.hpp\"\n@@ -533,0 +534,1 @@\n+    DEBUG_ONLY(ciEnv::current()->check_compiler_data_c2_or_null();)\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
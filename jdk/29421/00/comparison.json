{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -697,1 +697,3 @@\n-          \"Verify Iterative Global Value Numbering =EDCBA, with:\"           \\\n+          \"Verify Iterative Global Value Numbering =FEDCBA, with:\"          \\\n+          \"  F: verify Node::Ideal does not return nullptr if the node\"     \\\n+                \"hash has changed\"                                          \\\n","filename":"src\/hotspot\/share\/opto\/c2_globals.hpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2246,1 +2246,1 @@\n-      return nullptr;\n+      return progress;\n@@ -2323,0 +2323,1 @@\n+        progress = this;\n@@ -2341,1 +2342,1 @@\n-    return nullptr;\n+    return progress;\n@@ -2532,1 +2533,1 @@\n-        return nullptr; \/\/ Delay optimization until graph is cleaned.\n+        return progress; \/\/ Delay optimization until graph is cleaned.\n","filename":"src\/hotspot\/share\/opto\/cfgnode.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1154,3 +1154,5 @@\n-\/\/ these Ideal calls need to hold.  Running with '-XX:VerifyIterativeGVN=1' checks\n-\/\/ these invariants, although its too slow to have on by default.  If you are\n-\/\/ hacking an Ideal call, be sure to test with '-XX:VerifyIterativeGVN=1'\n+\/\/ these Ideal calls need to hold. Some of the flag bits for '-XX:VerifyIterativeGVN'\n+\/\/ can help with validating these invariants, although they are too slow to have on by default:\n+\/\/    - '-XX:VerifyIterativeGVN=1' checks the def-use info\n+\/\/    - '-XX:VerifyIterativeGVN=100000' cheks the return value\n+\/\/ If you are hacking an Ideal call, be sure to use these.\n@@ -1162,1 +1164,3 @@\n-\/\/ return the 'this' pointer instead of null.\n+\/\/ return the 'this' pointer instead of null. If the node was already dead\n+\/\/ before the Ideal call, this rule does not apply, and it is fine to return\n+\/\/ nullptr even if modifications were made.\n","filename":"src\/hotspot\/share\/opto\/node.cpp","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2129,0 +2129,3 @@\n+#ifndef PRODUCT\n+  uint hash_before = is_verify_Ideal_return() ? k->hash() : 0;\n+#endif\n@@ -2132,0 +2135,3 @@\n+  if (is_verify_Ideal_return()) {\n+    assert(k->outcnt() == 0 || i != nullptr || hash_before == k->hash(), \"hash changed after Ideal returned nullptr for %s\", k->Name());\n+  }\n@@ -2155,0 +2161,3 @@\n+#ifndef PRODUCT\n+    uint hash_before = is_verify_Ideal_return() ? k->hash() : 0;\n+#endif\n@@ -2158,0 +2167,3 @@\n+    if (is_verify_Ideal_return()) {\n+      assert(k->outcnt() == 0 || i != nullptr || hash_before == k->hash(), \"hash changed after Ideal returned nullptr for %s\", k->Name());\n+    }\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -624,0 +624,4 @@\n+  static bool is_verify_Ideal_return() {\n+    \/\/ '-XX:VerifyIterativeGVN=100000'\n+    return ((VerifyIterativeGVN % 1000000) \/ 100000) == 1;\n+  }\n","filename":"src\/hotspot\/share\/opto\/phaseX.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -309,1 +309,1 @@\n-  const int max_modes = 5;\n+  const int max_modes = 6;\n","filename":"src\/hotspot\/share\/runtime\/flags\/jvmFlagConstraintsCompiler.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
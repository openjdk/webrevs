{"files":[{"patch":"@@ -33,1 +33,0 @@\n-#include \"memory\/metaspace.hpp\"\n@@ -79,1 +78,1 @@\n-  return Metaspace::is_compressed_klass_ptr(klass) &&\n+  return CompressedKlassPointers::is_in_encoding_range(klass) &&\n","filename":"src\/hotspot\/share\/jfr\/recorder\/checkpoint\/types\/traceid\/jfrTraceIdKlassQueue.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -162,4 +162,0 @@\n-  static bool is_compressed_klass_ptr(const Klass* k) {\n-    return using_class_space() && (is_in_class_space(k) || is_in_shared_metaspace(k));\n-  }\n-\n","filename":"src\/hotspot\/share\/memory\/metaspace.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -110,0 +110,12 @@\n+\n+  \/\/ Returns whether the pointer is in the memory region used for encoding compressed\n+  \/\/ class pointers.  This includes CDS.\n+\n+  \/\/ encoding                                                               encoding\n+  \/\/ base                                                                   end (base+range)\n+  \/\/ |-----------------------------------------------------------------------|\n+  \/\/ |----CDS---| |--------------------class space---------------------------|\n+\n+  static inline bool is_in_encoding_range(const void* p) {\n+    return p >= _base && p < (_base + _range);\n+  }\n","filename":"src\/hotspot\/share\/oops\/compressedKlass.hpp","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"}]}
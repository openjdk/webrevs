{"files":[{"patch":"@@ -154,1 +154,1 @@\n-        filterChain = customFilterChain;\n+        filterChain = (provider != null) ? provider.getFilterChain() : customFilterChain;\n@@ -292,0 +292,12 @@\n+    public void initFiltersFromModel(DiagramViewModel other) {\n+        filterChain.getChangedEvent().removeListener(filterChainChangedListener);\n+        customFilterChain = new FilterChain(other.getCustomFilterChain().getName());\n+        customFilterChain.addFilters(other.getCustomFilterChain().getFilters());\n+        if (other.getFilterChain() == other.getCustomFilterChain()) {\n+            filterChain = customFilterChain;\n+        } else {\n+            filterChain = other.getFilterChain();\n+        }\n+        filterChain.getChangedEvent().addListener(filterChainChangedListener);\n+    }\n+\n@@ -295,0 +307,1 @@\n+            \/\/ link the Filters window with this model\n@@ -296,0 +309,1 @@\n+                \/\/ this function is called when user selects a different filter profile for this model\n@@ -305,5 +319,1 @@\n-    void close() {\n-        filterChain.getChangedEvent().removeListener(filterChainChangedListener);\n-        getChangedEvent().fire();\n-    }\n-\n+    \/\/ called when the filter in filterChain changed, but not filterChain itself\n@@ -312,3 +322,1 @@\n-        if (provider != null) {\n-            filterChain = provider.getFilterChain();\n-        }\n+        assert provider == null || (filterChain == provider.getFilterChain());\n@@ -319,0 +327,5 @@\n+    void close() {\n+        filterChain.getChangedEvent().removeListener(filterChainChangedListener);\n+        getChangedEvent().fire();\n+    }\n+\n@@ -343,10 +356,0 @@\n-    public void initFiltersFromModel(DiagramViewModel other) {\n-        customFilterChain = new FilterChain(other.getCustomFilterChain().getName());\n-        customFilterChain.addFilters(other.getCustomFilterChain().getFilters());\n-        if (other.getFilterChain() == other.getCustomFilterChain()) {\n-            filterChain = customFilterChain;\n-        } else {\n-            filterChain = other.getFilterChain();\n-        }\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewModel.java","additions":22,"deletions":19,"binary":false,"changes":41,"status":"modified"}]}
{"files":[{"patch":"@@ -396,3 +396,9 @@\n-  \/\/ If stride and scale are too big, such that their product is close to overflowing\n-  \/\/ or actually overflowing, then we should not allow this pointer to be used for\n-  \/\/ autovectorization. This simplifies overflow-handling in the rest of the code.\n+  \/\/ In the pointer analysis, and especially the AlignVector analysis we assume that\n+  \/\/ stride and scale are not too large. For example, we multiply \"scale * stride\",\n+  \/\/ and assume that this does not overflow the int range. We also take \"abs(scale)\"\n+  \/\/ and \"abs(stride)\", which would overflow for min_int = -(2^31). Still, we want\n+  \/\/ to at least allow small and moderately large stride and scale. Therefore, we\n+  \/\/ allow values up to 2^30, which is only a factor 2 smaller than the max\/min int\n+  \/\/ values. Normal performance relevant code will have much lower. And the restriction\n+  \/\/ allows us to keep the rest of the autovectorization code much simpler, since we\n+  \/\/ do not have to deal with overflows.\n","filename":"src\/hotspot\/share\/opto\/vectorization.cpp","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}
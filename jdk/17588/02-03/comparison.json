{"files":[{"patch":"@@ -51,6 +51,0 @@\n-int\n-isAsciiDigit(char c)\n-{\n-  return c >= '0' && c <= '9';\n-}\n-\n@@ -71,2 +65,2 @@\n-\/\/ closes every file descriptor that is listed as a directory\n-\/\/ entry in \"\/proc\/self\/fd\" (or its equivalent). standard\n+\/\/ Closes every file descriptor that is listed as a directory\n+\/\/ entry in \"\/proc\/self\/fd\" (or its equivalent). Standard\n@@ -74,2 +68,2 @@\n-\/\/ by this function. this function returns 0 on failure\n-\/\/ and 1 on success\n+\/\/ by this function. This function returns 0 on failure\n+\/\/ and 1 on success.\n@@ -88,3 +82,4 @@\n-     * the lowest numbered file descriptor, just like open().  So we\n-     * close a couple explicitly, so that opendir() can then use\n-     * these lowest numbered closed file descriptors afresh.   *\/\n+     * the lowest numbered file descriptor, just like open().  So\n+     * before calling opendir(), we close a couple explicitly, so that\n+     * opendir() can then use these lowest numbered closed file\n+     * descriptors afresh.   *\/\n@@ -103,1 +98,3 @@\n-    if ((dp = opendir(FD_DIR)) == NULL)\n+    if ((dp = opendir(FD_DIR)) == NULL) {\n+        LOG_MISC((\"warning: failed to open dir %s while determining\"\n+                  \" file descriptors to close for process %d\", FD_DIR, getpid()));\n@@ -105,0 +102,1 @@\n+    }\n@@ -108,1 +106,1 @@\n-        if (isAsciiDigit(dirp->d_name[0]) &&\n+        if (isdigit(dirp->d_name[0]) &&\n@@ -120,1 +118,1 @@\n-\/\/ does necessary housekeeping of a forked child process\n+\/\/ Does necessary housekeeping of a forked child process\n@@ -122,1 +120,1 @@\n-\/\/ execing the child process. this function never returns\n+\/\/ execing the child process. This function never returns.\n@@ -126,2 +124,2 @@\n-    \/* close all file descriptors that have been copied over\n-     * from the parent process due to fork() *\/\n+    \/* Close all file descriptors that have been copied over\n+     * from the parent process due to fork(). *\/\n@@ -129,1 +127,1 @@\n-        \/* find max allowed file descriptors for a process\n+        \/* Find max allowed file descriptors for a process\n@@ -131,1 +129,1 @@\n-         * copied over to this child process. we close them all *\/\n+         * copied over to this child process. We close them all. *\/\n","filename":"src\/jdk.jdwp.agent\/unix\/native\/libjdwp\/exec_md.c","additions":19,"deletions":21,"binary":false,"changes":40,"status":"modified"}]}
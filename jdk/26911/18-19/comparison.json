{"files":[{"patch":"@@ -706,10 +706,1 @@\n-        byte coder = this.coder;\n-        int count = this.count;\n-        int newCount = count + 4;\n-        byte[] value = ensureCapacitySameCoder(this.value, coder, newCount);\n-        if (isLatin1(coder))\n-            StringLatin1.putCharsAt(value, count, 'n', 'u', 'l', 'l');\n-        else\n-            StringUTF16.putCharsAt(value, count, 'n', 'u', 'l', 'l');\n-        this.count = newCount;\n-        this.value = value;\n+        appendLatin1('n', 'u', 'l', 'l');\n@@ -909,0 +900,27 @@\n+    final void appendLatin1(char c1, char c2) {\n+        int count = this.count;\n+        byte[] value = ensureCapacitySameCoder(this.value, coder, count + 2);\n+        if (isLatin1(coder)) {\n+            value[count    ] = (byte) c1;\n+            value[count + 1] = (byte) c2;\n+        } else {\n+            StringUTF16.putChar(value, count, c1);\n+            StringUTF16.putChar(value, count + 1, c2);\n+        }\n+        this.count = count + 2;\n+        this.value = value;\n+    }\n+\n+    final void appendLatin1(char c1, char c2, char c3, char c4) {\n+        int count = this.count;\n+        int newCount = count + 4;\n+        byte[] value = ensureCapacitySameCoder(this.value, coder, newCount);\n+        if (isLatin1(coder)) {\n+            StringLatin1.putCharsAt(value, count, c1, c2, c3, c4);\n+        } else {\n+            StringUTF16.putCharsAt(value, count, c1, c2, c3, c4);\n+        }\n+        this.count = newCount;\n+        this.value = value;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/AbstractStringBuilder.java","additions":28,"deletions":10,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -2156,0 +2156,8 @@\n+            public void appendLatin1(StringBuilder buf, char c1, char c2) {\n+                buf.appendLatin1(c1, c2);\n+            }\n+\n+            public void appendLatin1(StringBuilder buf, char c1, char c2, char c3, char c4) {\n+                buf.appendLatin1(c1, c2, c3, c4);\n+            }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -375,0 +375,4 @@\n+    void appendLatin1(StringBuilder buf, char c1, char c2);\n+\n+    void appendLatin1(StringBuilder buf, char c1, char c2, char c3, char c4);\n+\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -466,6 +466,3 @@\n-        \/\/ The temporary String and byte[] objects created here are typically eliminated\n-        \/\/ by the JVM's escape analysis and scalar replacement optimizations during\n-        \/\/ runtime compilation, avoiding actual heap allocations in optimized code.\n-        buf.append(\n-                JLA.uncheckedNewStringWithLatin1Bytes(\n-                        new byte[] {(byte) packed, (byte) (packed >> 8)}));\n+        JLA.appendLatin1(buf,\n+                (char) (byte) (packed),\n+                (char) (byte) (packed >> 8));\n@@ -491,2 +488,1 @@\n-        int packedHigh = DIGITS[(v \/ 100) & 0x7f];\n-        int packedLow  = DIGITS[(v % 100) & 0x7f];\n+        int packed = DIGITS[(v \/ 100) & 0x7f] | (DIGITS[(v % 100) & 0x7f] << 16);\n@@ -496,4 +492,5 @@\n-        buf.append(\n-                JLA.uncheckedNewStringWithLatin1Bytes(\n-                        new byte[] {(byte) packedHigh, (byte) (packedHigh >> 8),\n-                                    (byte) packedLow,  (byte) (packedLow  >> 8)}));\n+        JLA.appendLatin1(buf,\n+                (char) (byte) (packed),\n+                (char) (byte) (packed >> 8),\n+                (char) (byte) (packed >> 16),\n+                (char) (byte) (packed >> 24));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/DecimalDigits.java","additions":9,"deletions":12,"binary":false,"changes":21,"status":"modified"}]}
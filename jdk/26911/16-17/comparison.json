{"files":[{"patch":"@@ -463,0 +463,2 @@\n+        \/\/ The & 0x7f operation keeps the index within the safe range [0, 127] for the DIGITS array,\n+        \/\/ which allows the JIT compiler to eliminate array bounds checks for performance.\n@@ -464,0 +466,3 @@\n+        \/\/ The temporary String and byte[] objects created here are typically eliminated\n+        \/\/ by the JVM's escape analysis and scalar replacement optimizations during\n+        \/\/ runtime compilation, avoiding actual heap allocations in optimized code.\n@@ -466,1 +471,1 @@\n-                        new byte[] {(byte) (packed & 0xFF), (byte) (packed >> 8)}));\n+                        new byte[] {(byte) packed, (byte) (packed >> 8)}));\n@@ -484,2 +489,7 @@\n-        int y01 = v \/ 100;\n-        int packed = DIGITS[y01 & 0x7f] | (DIGITS[(v - y01 * 100) & 0x7f] << 16);\n+        \/\/ The & 0x7f operation keeps the index within the safe range [0, 127] for the DIGITS array,\n+        \/\/ which allows the JIT compiler to eliminate array bounds checks for performance.\n+        int packedHigh = DIGITS[(v \/ 100) & 0x7f];\n+        int packedLow  = DIGITS[(v % 100) & 0x7f];\n+        \/\/ The temporary String and byte[] objects created here are typically eliminated\n+        \/\/ by the JVM's escape analysis and scalar replacement optimizations during\n+        \/\/ runtime compilation, avoiding actual heap allocations in optimized code.\n@@ -488,1 +498,2 @@\n-                        new byte[] {(byte) (packed & 0xFF), (byte) (packed >> 8), (byte) (packed >> 16), (byte) (packed >> 24)}));\n+                        new byte[] {(byte) packedHigh, (byte) (packedHigh >> 8),\n+                                    (byte) packedLow,  (byte) (packedLow  >> 8)}));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/DecimalDigits.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"}]}
{"files":[{"patch":"@@ -706,1 +706,10 @@\n-        appendLatin1('n', 'u', 'l', 'l');\n+        byte coder = this.coder;\n+        int count = this.count;\n+        int newCount = count + 4;\n+        byte[] value = ensureCapacitySameCoder(this.value, coder, newCount);\n+        if (isLatin1(coder))\n+            StringLatin1.putCharsAt(value, count, 'n', 'u', 'l', 'l');\n+        else\n+            StringUTF16.putCharsAt(value, count, 'n', 'u', 'l', 'l');\n+        this.count = newCount;\n+        this.value = value;\n@@ -900,39 +909,0 @@\n-    \/**\n-     * For performance reasons, two Latin1 characters are appended to the StringBuilder in a single call.\n-     * @param c1 the first latin1 char\n-     * @param c2 the second latin1 char\n-     *\/\n-    final void appendLatin1(char c1, char c2) {\n-        int count = this.count;\n-        byte[] value = ensureCapacitySameCoder(this.value, coder, count + 2);\n-        if (isLatin1(coder)) {\n-            value[count    ] = (byte) c1;\n-            value[count + 1] = (byte) c2;\n-        } else {\n-            StringUTF16.putChar(value, count, c1);\n-            StringUTF16.putChar(value, count + 1, c2);\n-        }\n-        this.count = count + 2;\n-        this.value = value;\n-    }\n-\n-    \/**\n-     * For performance reasons, four Latin1 characters are appended to the StringBuilder in a single call.\n-     * @param c1 the first latin1 char\n-     * @param c2 the second latin1 char\n-     * @param c3 the third latin1 char\n-     * @param c4 the fourth latin1 char\n-     *\/\n-    final void appendLatin1(char c1, char c2, char c3, char c4) {\n-        int count = this.count;\n-        int newCount = count + 4;\n-        byte[] value = ensureCapacitySameCoder(this.value, coder, newCount);\n-        if (isLatin1(coder)) {\n-            StringLatin1.putCharsAt(value, count, c1, c2, c3, c4);\n-        } else {\n-            StringUTF16.putCharsAt(value, count, c1, c2, c3, c4);\n-        }\n-        this.count = newCount;\n-        this.value = value;\n-    }\n-\n","filename":"src\/java.base\/share\/classes\/java\/lang\/AbstractStringBuilder.java","additions":10,"deletions":40,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -2156,8 +2156,0 @@\n-            public void appendLatin1(StringBuilder buf, char c1, char c2) {\n-                buf.appendLatin1(c1, c2);\n-            }\n-\n-            public void appendLatin1(StringBuilder buf, char c1, char c2, char c3, char c4) {\n-                buf.appendLatin1(c1, c2, c3, c4);\n-            }\n-\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":0,"deletions":8,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -375,18 +375,0 @@\n-    \/**\n-     * For performance reasons, two Latin1 characters are appended to the StringBuilder in a single call.\n-     * @param buf the StringBuilder\n-     * @param c1 the first latin1 char\n-     * @param c2 the second latin1 char\n-     *\/\n-    void appendLatin1(StringBuilder buf, char c1, char c2);\n-\n-    \/**\n-     * For performance reasons, four Latin1 characters are appended to the StringBuilder in a single call.\n-     * @param buf the StringBuilder\n-     * @param c1 the first latin1 char\n-     * @param c2 the second latin1 char\n-     * @param c3 the third latin1 char\n-     * @param c4 the fourth latin1 char\n-     *\/\n-    void appendLatin1(StringBuilder buf, char c1, char c2, char c3, char c4);\n-\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":0,"deletions":18,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -466,3 +466,6 @@\n-        JLA.appendLatin1(buf,\n-                (char) (byte) (packed),\n-                (char) (byte) (packed >> 8));\n+        \/\/ The temporary String and byte[] objects created here are typically eliminated\n+        \/\/ by the JVM's escape analysis and scalar replacement optimizations during\n+        \/\/ runtime compilation, avoiding actual heap allocations in optimized code.\n+        buf.append(\n+                JLA.uncheckedNewStringWithLatin1Bytes(\n+                        new byte[] {(byte) packed, (byte) (packed >> 8)}));\n@@ -488,1 +491,2 @@\n-        int packed = DIGITS[(v \/ 100) & 0x7f] | (DIGITS[(v % 100) & 0x7f] << 16);\n+        int packedHigh = DIGITS[(v \/ 100) & 0x7f];\n+        int packedLow  = DIGITS[(v % 100) & 0x7f];\n@@ -492,5 +496,4 @@\n-        JLA.appendLatin1(buf,\n-                (char) (byte) (packed),\n-                (char) (byte) (packed >> 8),\n-                (char) (byte) (packed >> 16),\n-                (char) (byte) (packed >> 24));\n+        buf.append(\n+                JLA.uncheckedNewStringWithLatin1Bytes(\n+                        new byte[] {(byte) packedHigh, (byte) (packedHigh >> 8),\n+                                    (byte) packedLow,  (byte) (packedLow  >> 8)}));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/DecimalDigits.java","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"}]}
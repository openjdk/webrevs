{"files":[{"patch":"@@ -30,0 +30,1 @@\n+import jdk.internal.misc.Unsafe;\n@@ -909,14 +910,3 @@\n-    \/**\n-     * Appends the two-digit string representation of the {@code int}\n-     * argument to this sequence.\n-     * <p>\n-     * The integer {@code i} is formatted as two decimal digits.\n-     * If the value is between 0 and 9, it is formatted with a leading zero\n-     * (e.g., 5 becomes \"05\"). If the value is outside the range 0-99,\n-     * the behavior is unspecified and may result in unexpected output.\n-     *\n-     * @param   i   an {@code int} (should be between 0 and 99 inclusive).\n-     * @throws  IndexOutOfBoundsException if {@code i} is outside the range 0-99.\n-     *\/\n-    void appendPair(int i) {\n-        byte coder = this.coder;\n+    void appendLatin1(char c1, char c2) {\n+        assert !isLatin1(StringLatin1.coderFromChar((char) (c1 | c2))) : \"must be latin1\";\n+\n@@ -926,1 +916,3 @@\n-            DecimalDigits.uncheckedPutPairLatin1(value, count, i);\n+            Unsafe unsafe = Unsafe.getUnsafe();\n+            unsafe.putChar(value, Unsafe.ARRAY_BYTE_BASE_OFFSET + count, c1);\n+            unsafe.putChar(value, Unsafe.ARRAY_BYTE_BASE_OFFSET + count + 1, c2);\n@@ -928,1 +920,2 @@\n-            DecimalDigits.uncheckedPutPairUTF16(value, count, i);\n+            StringUTF16.putChar(value, count, c1);\n+            StringUTF16.putChar(value, count + 1, c2);\n@@ -930,1 +923,0 @@\n-        this.value = value;\n","filename":"src\/java.base\/share\/classes\/java\/lang\/AbstractStringBuilder.java","additions":9,"deletions":17,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2156,2 +2156,2 @@\n-            public void appendPair(StringBuilder buf, int v) {\n-                buf.appendPair(v);\n+            public void appendLatin1(StringBuilder buf, char c1, char c2) {\n+                buf.appendLatin1(c1, c2);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -397,2 +397,2 @@\n-     * @param v the {@code int} value (should be between 0 and 99 inclusive).\n-     * @see jdk.internal.util.DecimalDigits#appendPair(StringBuilder, int)\n+     * @param c1 the first char to append.\n+     * @param c2 the second char to append.\n@@ -400,1 +400,1 @@\n-    void appendPair(StringBuilder buf, int v);\n+    void appendLatin1(StringBuilder buf, char c1, char c2);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -459,1 +459,1 @@\n-     * @see jdk.internal.access.JavaLangAccess#appendPair(StringBuilder, int)\n+     * @see jdk.internal.access.JavaLangAccess#append(StringBuilder, char c1, char c2)\n@@ -462,0 +462,1 @@\n+        int packed = DIGITS[v & 0x7f];\n@@ -463,1 +464,1 @@\n-                     .appendPair(buf, v);\n+                     .appendLatin1(buf, (char) (packed & 0xFF), (char) (packed >> 8));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/DecimalDigits.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
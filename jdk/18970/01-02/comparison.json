{"files":[{"patch":"@@ -420,1 +420,1 @@\n-  candidates()->sort_by_efficiency();\n+  candidates()->sort_retained_by_efficiency();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-  _candidates.sort(compare);\n+  _candidates.sort(compare_gc_efficiency);\n@@ -97,1 +97,1 @@\n-int G1CollectionCandidateList::compare(G1CollectionSetCandidateInfo* ci1, G1CollectionSetCandidateInfo* ci2) {\n+int G1CollectionCandidateList::compare_gc_efficiency(G1CollectionSetCandidateInfo* ci1, G1CollectionSetCandidateInfo* ci2) {\n@@ -105,1 +105,1 @@\n-  } if (gc_eff1 < gc_eff2) {\n+  } else if (gc_eff1 < gc_eff2) {\n@@ -127,3 +127,7 @@\n-  if (reclaimable1 == reclaimable2) return 0;\n-  if (reclaimable1 > reclaimable2) return -1;\n-  return 1;\n+  if (reclaimable1 > reclaimable2) {\n+    return -1;\n+  } else if (reclaimable1 < reclaimable2) {\n+    return 1;\n+  } else {\n+    return 0;\n+  }\n@@ -196,1 +200,1 @@\n-void G1CollectionSetCandidates::calc_gc_efficiency() {\n+void G1CollectionSetCandidates::sort_marking_by_efficiency() {\n@@ -203,0 +207,2 @@\n+\n+  _marking_regions.verify();\n@@ -222,1 +228,1 @@\n-void G1CollectionSetCandidates::sort_by_efficiency() {\n+void G1CollectionSetCandidates::sort_retained_by_efficiency() {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.cpp","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-  static int compare(G1CollectionSetCandidateInfo* ci1, G1CollectionSetCandidateInfo* ci2);\n+  static int compare_gc_efficiency(G1CollectionSetCandidateInfo* ci1, G1CollectionSetCandidateInfo* ci2);\n@@ -216,1 +216,3 @@\n-  void sort_by_efficiency();\n+  void sort_retained_by_efficiency();\n+\n+  void sort_marking_by_efficiency();\n@@ -231,2 +233,0 @@\n-  void calc_gc_efficiency();\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1313,1 +1313,1 @@\n-    candidates()->calc_gc_efficiency();\n+    candidates()->sort_marking_by_efficiency();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -900,1 +900,1 @@\n-      candidates->sort_by_efficiency();\n+      candidates->sort_retained_by_efficiency();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -2569,4 +2569,4 @@\n-  if ((n->Opcode() == Op_ConvD2L && use_op == Op_ConvL2D) ||\n-      (n->Opcode() == Op_ConvF2I && use_op == Op_ConvI2F) ||\n-      (n->Opcode() == Op_ConvF2L && use_op == Op_ConvL2F) ||\n-      (n->Opcode() == Op_ConvI2F && use_op == Op_ConvF2I)) {\n+  if (use_op == Op_ConvL2D ||\n+      use_op == Op_ConvI2F ||\n+      use_op == Op_ConvL2F ||\n+      use_op == Op_ConvF2I) {\n@@ -2575,1 +2575,4 @@\n-      if (u->Opcode() == n->Opcode()) {\n+      if ((use_op == Op_ConvL2D && u->Opcode() == Op_ConvD2L) ||\n+          (use_op == Op_ConvI2F && u->Opcode() == Op_ConvF2I) ||\n+          (use_op == Op_ConvL2F && u->Opcode() == Op_ConvF2L) ||\n+          (use_op == Op_ConvF2I && u->Opcode() == Op_ConvI2F)) {\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -531,0 +531,8 @@\n+\n+  \/\/ Add one or more users of 'use' to the worklist if it appears that a\n+  \/\/ known optimization could be applied to those users.\n+  \/\/ Node 'n' is a node that was modified or is about to get replaced,\n+  \/\/ and 'use' is one use of 'n'.\n+  \/\/ Certain optimizations have dependencies that extend beyond a node's\n+  \/\/ direct inputs, so it is necessary to ensure the appropriate\n+  \/\/ notifications are made here.\n@@ -532,0 +540,8 @@\n+\n+  \/\/ Add users of 'n', and any other nodes that could be directly\n+  \/\/ affected by changes to 'n', to the worklist.\n+  \/\/ Node 'n' may be a node that is about to get replaced. In this\n+  \/\/ case, 'n' should not be considered part of the new graph.\n+  \/\/ Passing the old node (as 'n'), rather than the new node,\n+  \/\/ prevents unnecessary notifications when the new node already\n+  \/\/ has other users.\n","filename":"src\/hotspot\/share\/opto\/phaseX.hpp","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8359603\n+ * @bug 8359603 8369646\n@@ -32,1 +32,8 @@\n- *      -XX:-TieredCompilation -Xbatch -XX:VerifyIterativeGVN=1110 compiler.c2.TestEliminateRedundantConversionSequences\n+ *      -XX:-TieredCompilation -Xbatch -XX:VerifyIterativeGVN=1110\n+ *      -XX:+UnlockDiagnosticVMOptions -XX:+StressIGVN\n+ *      compiler.c2.TestEliminateRedundantConversionSequences\n+ * @run main\/othervm -XX:+IgnoreUnrecognizedVMOptions\n+ *      -XX:CompileCommand=compileonly,compiler.c2.TestEliminateRedundantConversionSequences::test*\n+ *      -XX:-TieredCompilation -Xbatch -XX:VerifyIterativeGVN=1110\n+ *      -XX:+UnlockDiagnosticVMOptions -XX:+StressIGVN -XX:StressSeed=115074401\n+ *      compiler.c2.TestEliminateRedundantConversionSequences\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestEliminateRedundantConversionSequences.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"}]}
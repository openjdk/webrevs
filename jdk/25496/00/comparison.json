{"files":[{"patch":"@@ -100,1 +100,0 @@\n-runtime\/logging\/LoaderConstraintsTest.java 8346442 generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList-Virtual.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,2 +32,0 @@\n- * @build jdk.test.whitebox.WhiteBox\n- * @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n@@ -41,0 +39,1 @@\n+import java.lang.reflect.Constructor;\n@@ -52,1 +51,0 @@\n-            String className = \"test.Empty\";\n@@ -54,3 +52,4 @@\n-            Class<?> c = cl.loadClass(className);\n-            cl = null; c = null;\n-            ClassUnloadCommon.triggerUnloading();\n+            Class<?> c = cl.loadClass(\"test.Empty\");\n+            \/\/ Causes class test.Emtpy to be linked, which triggers the\n+            \/\/ constraint on class String due to override of toString().\n+            Constructor<?> constructor = c.getDeclaredConstructor();\n@@ -62,0 +61,2 @@\n+        String classPath = System.getProperty(\"test.class.path\", \".\");\n+\n@@ -66,2 +67,1 @@\n-        Collections.addAll(argsList, \"-XX:+UnlockDiagnosticVMOptions\");\n-        Collections.addAll(argsList, \"-XX:+WhiteBoxAPI\");\n+        Collections.addAll(argsList, \"-Dtest.class.path=\" + classPath);\n@@ -78,1 +78,1 @@\n-        out.shouldContain(\"[class,loader,constraints] adding new constraint for name: java\/lang\/Class, loader[0]: 'app', loader[1]: 'bootstrap'\");\n+        out.stdoutShouldMatch(\"\\\\[class,loader,constraints\\\\] adding new constraint for name: java\/lang\/String, loader\\\\[0\\\\]: 'ClassUnloadCommonClassLoader' @[\\\\da-f]+, loader\\\\[1\\\\]: 'bootstrap'\");\n@@ -85,1 +85,0 @@\n-\n","filename":"test\/hotspot\/jtreg\/runtime\/logging\/LoaderConstraintsTest.java","additions":10,"deletions":11,"binary":false,"changes":21,"status":"modified"}]}
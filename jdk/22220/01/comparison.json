{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,0 @@\n-  virtual bool is_methodCounters()     const { return false; }\n@@ -51,1 +50,1 @@\n-  virtual void metaspace_pointers_do(MetaspaceClosure* iter) {}\n+  virtual void metaspace_pointers_do(MetaspaceClosure* iter) = 0;\n","filename":"src\/hotspot\/share\/oops\/metadata.hpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-  return new(loader_data, method_counters_size(), MetaspaceObj::MethodCountersType) MethodCounters(mh);\n+  return new(loader_data, size(), MetaspaceObj::MethodCountersType) MethodCounters(mh);\n@@ -58,1 +58,1 @@\n-  return new(loader_data, method_counters_size(), MetaspaceObj::MethodCountersType, THREAD) MethodCounters(mh);\n+  return new(loader_data, size(), MetaspaceObj::MethodCountersType, THREAD) MethodCounters(mh);\n@@ -73,1 +73,0 @@\n-  assert(is_methodCounters(), \"must be methodCounters\");\n","filename":"src\/hotspot\/share\/oops\/methodCounters.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-class MethodCounters : public Metadata {\n+class MethodCounters : public MetaspaceObj {\n@@ -55,2 +55,0 @@\n-  virtual bool is_methodCounters() const { return true; }\n-\n@@ -60,0 +58,1 @@\n+  DEBUG_ONLY(bool on_stack() { return false; })\n@@ -62,1 +61,3 @@\n-  static int method_counters_size() {\n+  void metaspace_pointers_do(MetaspaceClosure* it) { return; }\n+\n+  static int size() {\n@@ -65,3 +66,1 @@\n-  virtual int size() const {\n-    return method_counters_size();\n-  }\n+\n@@ -131,3 +130,2 @@\n-  virtual const char* internal_name() const { return \"{method counters}\"; }\n-  virtual void print_value_on(outputStream* st) const;\n-\n+  const char* internal_name() const { return \"{method counters}\"; }\n+  void print_value_on(outputStream* st) const;\n","filename":"src\/hotspot\/share\/oops\/methodCounters.hpp","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,0 @@\n-import sun.awt.AppContext;\n@@ -61,1 +60,1 @@\n-     * Contains a lists of services.\n+     * The list of lookup services.\n@@ -63,12 +62,1 @@\n-    static class Services {\n-\n-        \/**\n-         * The list of lookup services.\n-         *\/\n-        private ArrayList<PrintServiceLookup> listOfLookupServices = null;\n-\n-        \/**\n-         * The list of registered services.\n-         *\/\n-        private ArrayList<PrintService> registeredServices = null;\n-    }\n+    private static ArrayList<PrintServiceLookup> listOfLookupServices = null;\n@@ -77,3 +65,1 @@\n-     * Returns the services from the current appcontext.\n-     *\n-     * @return the services\n+     * The list of registered services.\n@@ -81,9 +67,1 @@\n-    private static Services getServicesForContext() {\n-        Services services =\n-            (Services)AppContext.getAppContext().get(Services.class);\n-        if (services == null) {\n-            services = new Services();\n-            AppContext.getAppContext().put(Services.class, services);\n-        }\n-        return services;\n-    }\n+    private static ArrayList<PrintService> registeredServices = null;\n@@ -97,1 +75,1 @@\n-        return getServicesForContext().listOfLookupServices;\n+        return listOfLookupServices;\n@@ -106,2 +84,1 @@\n-        ArrayList<PrintServiceLookup> listOfLookupServices = new ArrayList<>();\n-        getServicesForContext().listOfLookupServices = listOfLookupServices;\n+        listOfLookupServices = new ArrayList<>();\n@@ -117,1 +94,1 @@\n-        return getServicesForContext().registeredServices;\n+        return registeredServices;\n@@ -126,2 +103,1 @@\n-        ArrayList<PrintService> registeredServices = new ArrayList<>();\n-        getServicesForContext().registeredServices = registeredServices;\n+        registeredServices = new ArrayList<>();\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/PrintServiceLookup.java","additions":9,"deletions":33,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,2 +36,0 @@\n-import sun.awt.AppContext;\n-\n@@ -66,1 +64,1 @@\n-         * The list of factories which will be stored per appcontext.\n+         * The list of factories.\n@@ -71,0 +69,2 @@\n+    private static final Services SERVICES = new Services();\n+\n@@ -72,1 +72,1 @@\n-     * Returns the services from the current appcontext.\n+     * Returns the singleton Services instance.\n@@ -77,7 +77,1 @@\n-        Services services =\n-            (Services)AppContext.getAppContext().get(Services.class);\n-        if (services == null) {\n-            services = new Services();\n-            AppContext.getAppContext().put(Services.class, services);\n-        }\n-        return services;\n+        return SERVICES;\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/StreamPrintServiceFactory.java","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -59,11 +59,0 @@\n-        \/*\n-         * The print services are stored per the AppContext, and each AppContext\n-         * caches the \"current\" class loader during creation.\n-         * see javax.print.PrintServiceLookup.\n-         *\n-         * To prevent AppContext from cache our test loader we force AppContext\n-         * creation early by the invokeAndWait.\n-         * The \"EventQueue.invokeAndWait(() -> {});\" can be removed when the\n-         * AppContext usage will be deleted in the PrintServiceLookup\n-         *\/\n-        EventQueue.invokeAndWait(() -> {});\n","filename":"test\/jdk\/javax\/print\/PrintServiceLookup\/FlushCustomClassLoader.java","additions":0,"deletions":11,"binary":false,"changes":11,"status":"modified"}]}
{"files":[{"patch":"@@ -1475,1 +1475,1 @@\n-      MemTracker::record_virtual_memory_tag(archive_space_rs.base(), mtClassShared);\n+      MemTracker::record_virtual_memory_tag(archive_space_rs, mtClassShared);\n@@ -1548,3 +1548,2 @@\n-    \/\/ NMT: fix up the space tags\n-    MemTracker::record_virtual_memory_tag(archive_space_rs.base(), mtClassShared);\n-    MemTracker::record_virtual_memory_tag(class_space_rs.base(), mtClass);\n+    MemTracker::record_virtual_memory_tag(archive_space_rs, mtClassShared);\n+    MemTracker::record_virtual_memory_tag(class_space_rs, mtClass);\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), mem_tag);\n+  MemTracker::record_virtual_memory_tag(rs, mem_tag);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RegionToSpaceMapper.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(rs, mtGC);\n","filename":"src\/hotspot\/share\/gc\/parallel\/parMarkBitMap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -259,1 +259,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(rs, mtGC);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(rs, mtGC);\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTable.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,0 +2,1 @@\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -86,1 +87,1 @@\n-  MemTracker::record_virtual_memory_tag((address)card_table.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(card_table, mtGC);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCardTable.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-  MemTracker::record_virtual_memory_tag(_map_space.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(_map_space, mtGC);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCollectionSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -306,1 +306,1 @@\n-  MemTracker::record_virtual_memory_tag(bitmap.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(bitmap, mtGC);\n@@ -330,1 +330,1 @@\n-    MemTracker::record_virtual_memory_tag(verify_bitmap.base(), mtGC);\n+    MemTracker::record_virtual_memory_tag(verify_bitmap, mtGC);\n@@ -344,1 +344,1 @@\n-  MemTracker::record_virtual_memory_tag(aux_bitmap.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(aux_bitmap, mtGC);\n@@ -362,1 +362,1 @@\n-  MemTracker::record_virtual_memory_tag(region_storage.base(), mtGC);\n+  MemTracker::record_virtual_memory_tag(region_storage, mtGC);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-  MemTracker::record_virtual_memory_tag((address)_rs.base(), mtTracing);\n+  MemTracker::record_virtual_memory_tag(_rs, mtTracing);\n","filename":"src\/hotspot\/share\/jfr\/recorder\/storage\/jfrVirtualMemory.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"memory\/reservedSpace.hpp\"\n","filename":"src\/hotspot\/share\/memory\/allocation.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -800,1 +800,1 @@\n-    MemTracker::record_virtual_memory_tag((address)rs.base(), mtClass);\n+    MemTracker::record_virtual_memory_tag(rs, mtClass);\n","filename":"src\/hotspot\/share\/memory\/metaspace.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -263,1 +263,1 @@\n-  MemTracker::record_virtual_memory_tag(rs.base(), mtMetaspace);\n+  MemTracker::record_virtual_memory_tag(rs, mtMetaspace);\n","filename":"src\/hotspot\/share\/memory\/metaspace\/virtualSpaceNode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -223,1 +223,5 @@\n-  static inline void record_virtual_memory_tag(void* addr, MemTag mem_tag) {\n+  static inline void record_virtual_memory_tag(const ReservedSpace& rs, MemTag mem_tag) {\n+    record_virtual_memory_tag(rs.base(), rs.size(), mem_tag);\n+  }\n+\n+  static inline void record_virtual_memory_tag(void* addr, size_t size, MemTag mem_tag) {\n@@ -228,1 +232,1 @@\n-      VirtualMemoryTracker::set_reserved_region_type((address)addr, mem_tag);\n+      VirtualMemoryTracker::set_reserved_region_type((address)addr, size, mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -416,1 +416,1 @@\n-void VirtualMemoryTracker::set_reserved_region_type(address addr, MemTag mem_tag) {\n+void VirtualMemoryTracker::set_reserved_region_type(address addr, size_t size, MemTag mem_tag) {\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -389,1 +389,1 @@\n-  static void set_reserved_region_type  (address addr, MemTag mem_tag);\n+  static void set_reserved_region_type  (address addr, size_t size, MemTag mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -1231,1 +1231,1 @@\n-  \/\/ The first time we see the callback count reach zero we know all actual\n+  \/\/ The first time we see the callback count reaches zero we know all actual\n","filename":"src\/hotspot\/share\/prims\/jvmtiEventController.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -144,2 +144,10 @@\n-#define JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread) JvmtiJavaThreadEventTransition jet(thread); if (JvmtiEventController::is_execution_finished()) { return; }\n-#define JVMTI_EVENT_CALLBACK_BLOCK(thread) JvmtiThreadEventTransition jet(thread); if (JvmtiEventController::is_execution_finished()) { return; }\n+#define JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread) \\\n+  JvmtiJavaThreadEventTransition jet(thread); \\\n+  if (JvmtiEventController::is_execution_finished()) {\\\n+    return; \\\n+  }\n+#define JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread) \\\n+  JvmtiThreadEventTransition jet(thread); \\\n+  if (JvmtiEventController::is_execution_finished()) { \\\n+    return; \\\n+  }\n@@ -678,1 +686,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -707,1 +715,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -757,1 +765,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -797,1 +805,1 @@\n-      \/\/ JVMTI_JAVA_EVENT_CALLBACK_BLOCK must not be used here\n+      \/\/ JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK must not be used here\n@@ -988,1 +996,1 @@\n-    JVMTI_JAVA_EVENT_CALLBACK_BLOCK(_thread)\n+    JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(_thread)\n@@ -1198,1 +1206,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1240,1 +1248,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1381,1 +1389,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1422,1 +1430,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1465,1 +1473,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1511,1 +1519,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1559,1 +1567,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1589,1 +1597,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1625,1 +1633,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1660,1 +1668,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1695,1 +1703,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1808,1 +1816,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1848,1 +1856,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1935,1 +1943,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -1962,1 +1970,1 @@\n-          JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+          JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2010,1 +2018,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2098,1 +2106,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2173,1 +2181,1 @@\n-          JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+          JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2259,1 +2267,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2417,1 +2425,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2449,1 +2457,1 @@\n-        JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+        JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2546,1 +2554,1 @@\n-  JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+  JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2573,1 +2581,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2615,1 +2623,1 @@\n-    JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+    JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2699,1 +2707,1 @@\n-      JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2720,1 +2728,1 @@\n-      JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2741,1 +2749,1 @@\n-     JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+     JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2775,1 +2783,1 @@\n-      JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2809,1 +2817,1 @@\n-      JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2842,1 +2850,1 @@\n-      JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2876,1 +2884,1 @@\n-      JVMTI_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2919,1 +2927,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n@@ -2957,1 +2965,1 @@\n-      JVMTI_JAVA_EVENT_CALLBACK_BLOCK(thread)\n+      JVMTI_JAVA_THREAD_EVENT_CALLBACK_BLOCK(thread)\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":48,"deletions":40,"binary":false,"changes":88,"status":"modified"}]}
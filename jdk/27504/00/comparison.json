{"files":[{"patch":"@@ -291,0 +291,1 @@\n+  static bool _execution_finished;\n@@ -337,0 +338,1 @@\n+bool JvmtiEventControllerPrivate::_execution_finished = false;\n@@ -498,0 +500,4 @@\n+  if (_execution_finished) {\n+    now_enabled &= VM_DEATH_BIT;\n+  }\n+\n@@ -540,0 +546,4 @@\n+  if (_execution_finished) {\n+    now_enabled &= VM_DEATH_BIT;\n+  }\n+\n@@ -1050,1 +1060,1 @@\n-  \/\/ events are disabled (phase has changed)\n+  _execution_finished = true;\n","filename":"src\/hotspot\/share\/prims\/jvmtiEventController.cpp","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -772,0 +772,4 @@\n+  \/\/ It is needed to disable event generation before setting DEAD phase.\n+  \/\/ The VM_DEATH should be the last posted event.\n+  JvmtiEventController::vm_death();\n+\n@@ -787,2 +791,1 @@\n-  JvmtiEnvBase::set_phase(JVMTI_PHASE_DEAD);\n-  JvmtiEventController::vm_death();\n+ JvmtiEnvBase::set_phase(JVMTI_PHASE_DEAD);\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}
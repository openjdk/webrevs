{"files":[{"patch":"@@ -38,1 +38,0 @@\n-#include \"runtime\/serviceThread.hpp\"\n@@ -1229,1 +1228,1 @@\n-  \/\/ Some events might be still in callback for daemons threads and ServiceThread.\n+  \/\/ Some events might be still in callback for daemons and VM internal threads.\n@@ -1232,0 +1231,3 @@\n+  \/\/ The first time we see the callback count reach zero we know all actual\n+  \/\/ callbacks are complete. The count could rise again, but those \"callbacks\"\n+  \/\/ will immediately see `execution_finished()` and return (dropping the count).\n","filename":"src\/hotspot\/share\/prims\/jvmtiEventController.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -202,1 +202,1 @@\n-  volatile static bool _execution_finished;\n+  volatile static bool  _execution_finished;\n","filename":"src\/hotspot\/share\/prims\/jvmtiEventController.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -797,1 +797,1 @@\n-      \/\/ JVMTI_JAVA_EVENT_CALLBACK_BLOCK shouldn't be used here\n+      \/\/ JVMTI_JAVA_EVENT_CALLBACK_BLOCK must not be used here\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
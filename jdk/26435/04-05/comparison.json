{"files":[{"patch":"@@ -49,1 +49,0 @@\n-            do {\n@@ -52,8 +51,4 @@\n-                    if ((c = q.take()) != null) {\n-                        if (c == STOP) {\n-                            break;\n-                        } else {\n-                            try {\n-                                c.close();\n-                            } catch (IOException ignored) {\n-                            }\n+                    while((c = q.take()) != STOP) {\n+                        try {\n+                            c.close();\n+                        } catch (IOException ignored) {\n@@ -63,1 +58,0 @@\n-                    break;\n@@ -65,2 +59,1 @@\n-            } while (true);\n-        });\n+            });\n@@ -85,2 +78,1 @@\n-                    System.out.println(\"AsynchronousCloseException caught\");\n-                    close.offer(STOP);\n+                    System.err.println(\"AsynchronousCloseException caught\");\n@@ -91,1 +83,0 @@\n-                    close.offer(STOP);\n@@ -95,1 +86,0 @@\n-                    close.offer(STOP);\n@@ -100,0 +90,1 @@\n+            close.offer(STOP);\n@@ -123,2 +114,1 @@\n-                    System.out.println(\"AsynchronousCloseException caught\");\n-                    close.offer(STOP);\n+                    System.err.println(\"AsynchronousCloseException caught\");\n@@ -129,1 +119,0 @@\n-                    close.offer(STOP);\n@@ -133,1 +122,0 @@\n-                    close.offer(STOP);\n@@ -138,0 +126,1 @@\n+            close.offer(STOP);\n@@ -157,2 +146,1 @@\n-                    System.out.println(\"AsynchronousCloseException caught\");\n-                    close.offer(STOP);\n+                    System.err.println(\"AsynchronousCloseException caught\");\n@@ -162,1 +150,0 @@\n-                    close.offer(STOP);\n@@ -167,0 +154,1 @@\n+            close.offer(STOP);\n","filename":"test\/jdk\/java\/nio\/channels\/Channels\/AsyncCloseStreams.java","additions":11,"deletions":23,"binary":false,"changes":34,"status":"modified"}]}
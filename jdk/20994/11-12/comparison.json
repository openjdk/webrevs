{"files":[{"patch":"@@ -321,2 +321,2 @@\n-  \/\/ The gc\/cds case with only reserved data\n-  {\n+\n+  { \/\/ The gc\/cds case with only reserved data\n@@ -336,2 +336,1 @@\n-  \/\/ Now let's add in some committed data\n-  {\n+  { \/\/ Now let's add in some committed data\n@@ -361,0 +360,40 @@\n+\n+  { \/\/ Setting the tag for adjacent regions with same stacks should merge the regions\n+    testrange expected[]{\n+        {0, 200, mtGC, si, State::Reserved}\n+    };\n+    VMATree tree;\n+    Tree::RegionData gc(si, mtGC);\n+    Tree::RegionData compiler(si, mtCompiler);\n+    tree.reserve_mapping(0, 100, gc);\n+    tree.reserve_mapping(100, 100, compiler);\n+    tree.set_tag(0, 200, mtGC);\n+    expect_equivalent_form(expected, tree);\n+  }\n+\n+  { \/\/ Setting the tag for adjacent regions with different stacks should NOT merge the regions\n+    NCS::StackIndex si1 = 1;\n+    NCS::StackIndex si2 = 2;\n+    testrange expected[]{\n+        {  0, 100, mtGC, si1, State::Reserved},\n+        {100, 200, mtGC, si2, State::Reserved}\n+    };\n+    VMATree tree;\n+    Tree::RegionData gc(si1, mtGC);\n+    Tree::RegionData compiler(si2, mtCompiler);\n+    tree.set_tag(0, 200, mtGC);\n+    expect_equivalent_form(expected, tree);\n+  }\n+\n+  {\n+    testrange expected[]{\n+        {  0, 100, mtCompiler, si, State::Reserved},\n+        {100, 150,       mtGC, si, State::Reserved},\n+        {150, 200, mtCompiler, si, State::Reserved}\n+    };\n+    VMATree tree;\n+    Tree::RegionData compiler(si, mtCompiler);\n+    tree.reserve_mapping(0, 200, compiler);\n+    tree.set_tag(100, 50, mtGC);\n+    expect_equivalent_form(expected, tree);\n+  }\n","filename":"test\/hotspot\/gtest\/nmt\/test_vmatree.cpp","additions":43,"deletions":4,"binary":false,"changes":47,"status":"modified"}]}
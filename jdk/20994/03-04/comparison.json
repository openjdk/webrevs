{"files":[{"patch":"@@ -29,1 +29,0 @@\n-#include <cinttypes>\n@@ -205,1 +204,1 @@\n-    out->print(SIZE_FORMAT \" (%s) - %s - \", current->key(), NMTUtil::flag_to_name(current->val().out.flag()),\n+    out->print(SIZE_FORMAT \" (%s) - %s - \", current->key(), NMTUtil::tag_to_name(current->val().out.mem_tag()),\n@@ -212,1 +211,1 @@\n-VMATree::SummaryDiff VMATree::set_flag(position from, size size, MEMFLAGS flag) {\n+VMATree::SummaryDiff VMATree::set_tag(position from, size size, MemTag tag) {\n@@ -217,1 +216,1 @@\n-  RegionData new_data = RegionData(range.start->val().out.stack(), flag);\n+  RegionData new_data = RegionData(range.start->val().out.stack(), tag);\n@@ -234,1 +233,1 @@\n-    RegionData new_data = RegionData(range.start->val().out.stack(), flag);\n+    RegionData new_data = RegionData(range.start->val().out.stack(), tag);\n@@ -246,2 +245,2 @@\n-  for (int i = 0; i < mt_number_of_types; i++) {\n-    if (flag[i].reserve == 0 && flag[i].commit == 0) {\n+  for (int i = 0; i < mt_number_of_tags; i++) {\n+    if (tag[i].reserve == 0 && tag[i].commit == 0) {\n@@ -250,2 +249,2 @@\n-    out->print_cr(\"Flag %s R: \" INT64_FORMAT \" C: \" INT64_FORMAT, NMTUtil::flag_to_enum_name((MEMFLAGS)i), flag[i].reserve,\n-                  flag[i].commit);\n+    out->print_cr(\"Tag %s R: \" INT64_FORMAT \" C: \" INT64_FORMAT, NMTUtil::tag_to_enum_name((MemTag)i), tag[i].reserve,\n+                  tag[i].commit);\n","filename":"src\/hotspot\/share\/nmt\/vmatree.cpp","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -173,3 +173,3 @@\n-      for (int i = 0; i < mt_number_of_types; i++) {\n-        flag[i].reserve += other.flag[i].reserve;\n-        flag[i].commit += other.flag[i].commit;\n+      for (int i = 0; i < mt_number_of_tags; i++) {\n+        tag[i].reserve += other.tag[i].reserve;\n+        tag[i].commit += other.tag[i].commit;\n@@ -190,1 +190,1 @@\n-  SummaryDiff set_flag(position from, size size, MEMFLAGS flag);\n+  SummaryDiff set_tag(position from, size size, MemTag tag);\n","filename":"src\/hotspot\/share\/nmt\/vmatree.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -272,1 +272,1 @@\n-  auto i = [](MEMFLAGS f) -> uint8_t { return (uint8_t)f; };\n+  auto i = [](MemTag f) -> uint8_t { return (uint8_t)f; };\n@@ -282,1 +282,1 @@\n-    EXPECT_EQ(500, diff.flag[i(mtNone)].reserve);\n+    EXPECT_EQ(500, diff.tag[i(mtNone)].reserve);\n@@ -286,1 +286,1 @@\n-    EXPECT_EQ(600, diff.flag[i(mtNone)].reserve);\n+    EXPECT_EQ(600, diff.tag[i(mtNone)].reserve);\n@@ -288,1 +288,1 @@\n-    result = tree.set_flag(0, 500, mtGC);\n+    result = tree.set_tag(0, 500, mtGC);\n@@ -290,2 +290,2 @@\n-    EXPECT_EQ(100, diff.flag[i(mtNone)].reserve);\n-    EXPECT_EQ(500, diff.flag[i(mtGC)].reserve);\n+    EXPECT_EQ(100, diff.tag[i(mtNone)].reserve);\n+    EXPECT_EQ(500, diff.tag[i(mtGC)].reserve);\n@@ -293,1 +293,1 @@\n-    result = tree.set_flag(500, 100, mtClassShared);\n+    result = tree.set_tag(500, 100, mtClassShared);\n@@ -295,3 +295,3 @@\n-    EXPECT_EQ(0, diff.flag[i(mtNone)].reserve);\n-    EXPECT_EQ(500, diff.flag[i(mtGC)].reserve);\n-    EXPECT_EQ(100, diff.flag[i(mtClassShared)].reserve);\n+    EXPECT_EQ(0, diff.tag[i(mtNone)].reserve);\n+    EXPECT_EQ(500, diff.tag[i(mtGC)].reserve);\n+    EXPECT_EQ(100, diff.tag[i(mtClassShared)].reserve);\n@@ -308,1 +308,1 @@\n-    EXPECT_EQ(600, diff.flag[i(mtNone)].reserve);\n+    EXPECT_EQ(600, diff.tag[i(mtNone)].reserve);\n@@ -318,2 +318,2 @@\n-    \/\/ OK, set flag\n-    result = tree.set_flag(0, 500, mtGC);\n+    \/\/ OK, set tag\n+    result = tree.set_tag(0, 500, mtGC);\n@@ -321,3 +321,3 @@\n-    EXPECT_EQ(100, diff.flag[i(mtNone)].reserve);\n-    EXPECT_EQ(500, diff.flag[i(mtGC)].reserve);\n-    EXPECT_EQ(125, diff.flag[i(mtGC)].commit);\n+    EXPECT_EQ(100, diff.tag[i(mtNone)].reserve);\n+    EXPECT_EQ(500, diff.tag[i(mtGC)].reserve);\n+    EXPECT_EQ(125, diff.tag[i(mtGC)].commit);\n@@ -325,1 +325,1 @@\n-    result = tree.set_flag(500, 100, mtClassShared);\n+    result = tree.set_tag(500, 100, mtClassShared);\n@@ -327,3 +327,3 @@\n-    EXPECT_EQ(0, diff.flag[i(mtNone)].reserve);\n-    EXPECT_EQ(100, diff.flag[i(mtClassShared)].reserve);\n-    EXPECT_EQ(20, diff.flag[i(mtClassShared)].commit);\n+    EXPECT_EQ(0, diff.tag[i(mtNone)].reserve);\n+    EXPECT_EQ(100, diff.tag[i(mtClassShared)].reserve);\n+    EXPECT_EQ(20, diff.tag[i(mtClassShared)].commit);\n","filename":"test\/hotspot\/gtest\/nmt\/test_vmatree.cpp","additions":20,"deletions":20,"binary":false,"changes":40,"status":"modified"}]}
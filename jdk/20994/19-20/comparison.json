{"files":[{"patch":"@@ -240,0 +240,2 @@\n+  position end = MIN2(from + size, pos(range.end));\n+\n@@ -241,1 +243,7 @@\n-  RegionData new_data = RegionData(out_state(range.start).stack(), tag);\n+  SummaryDiff diff;\n+  \/\/ Ignore any released ranges, these must be mtNone and have no stack.\n+  if (type != StateType::Released) {\n+    RegionData new_data = RegionData(out_state(range.start).stack(), tag);\n+    SummaryDiff result = register_mapping(from, end, type, new_data);\n+    diff.add(result);\n+  }\n@@ -243,2 +251,0 @@\n-  position end = MIN2(from + size, pos(range.end));\n-  SummaryDiff diff = register_mapping(from, end, type, new_data);\n@@ -260,3 +266,5 @@\n-    RegionData new_data = RegionData(out_state(range.start).stack(), tag);\n-    SummaryDiff result = register_mapping(from, end, type, new_data);\n-    diff.add(result);\n+    if (type != StateType::Released) {\n+      RegionData new_data = RegionData(out_state(range.start).stack(), tag);\n+      SummaryDiff result = register_mapping(from, end, type, new_data);\n+      diff.add(result);\n+    }\n","filename":"src\/hotspot\/share\/nmt\/vmatree.cpp","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -429,1 +429,1 @@\n-        {50,  75,          mtGC, si, State::Released},\n+        {50,  75,        mtNone, si, State::Released},\n","filename":"test\/hotspot\/gtest\/nmt\/test_vmatree.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
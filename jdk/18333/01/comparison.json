{"files":[{"patch":"@@ -1,44 +0,0 @@\n-<!--\n-Copyright (c) 2007, 2014, Oracle and\/or its affiliates. All rights reserved.\n-DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-\n-This code is free software; you can redistribute it and\/or modify it\n-under the terms of the GNU General Public License version 2 only, as\n-published by the Free Software Foundation.\n-\n-This code is distributed in the hope that it will be useful, but WITHOUT\n-ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-version 2 for more details (a copy is included in the LICENSE file that\n-accompanied this code).\n-\n-You should have received a copy of the GNU General Public License version\n-2 along with this work; if not, write to the Free Software Foundation,\n-Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-\n-Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-or visit www.oracle.com if you need additional information or have any\n-questions.\n--->\n-\n-<html>\n-<head>\n-<title> PrintDialogsTest <\/title>\n-<\/head>\n-<body>\n-<applet code=\"PrintDialogsTest.class\" width=250 height=350><\/applet>\n-\n-Please select dialog modality type and parent; also select\n-the print auxiliary dialog to be displayed (Page Setup or Print dialog).\n-Then click \"Start test\" button.\n-\n-When the windows will appear check if modal blocking for Dialog works as expected.\n-Then push \"Open\" button on the Dialog to show the auxiliary dialog and check\n-if it blocks the rest of the application. Then close it and check correctness\n-of modal blocking behavior for the Dialog again. To close all the test\n-windows please push \"Finish\" button.\n-\n-To finish the overall test push \"Pass\" or \"Fail\" button depending on result.\n-\n-<\/body>\n-<\/html>\n","filename":"test\/jdk\/java\/awt\/Modal\/PrintDialogsTest\/PrintDialogsTest.html","additions":0,"deletions":44,"binary":false,"changes":44,"status":"deleted"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @summary Check if Print and Page Setup dialogs lock other windows;\n+ * @summary Check if Print and Page Setup dialogs block other windows;\n@@ -30,2 +30,2 @@\n- *\n- * @run applet\/manual=yesno PrintDialogsTest.html\n+ * @library \/java\/awt\/regtesthelpers\n+ * @run main\/manual PrintDialogsTest\n@@ -35,2 +35,10 @@\n-import java.applet.Applet;\n-import java.awt.*;\n+import java.awt.BorderLayout;\n+import java.awt.Button;\n+import java.awt.Checkbox;\n+import java.awt.CheckboxGroup;\n+import java.awt.Dialog;\n+import java.awt.Frame;\n+import java.awt.EventQueue;\n+import java.awt.GridLayout;\n+import java.awt.Label;\n+import java.awt.Panel;\n@@ -42,1 +50,48 @@\n-public class PrintDialogsTest extends Applet implements ActionListener {\n+public class PrintDialogsTest extends Panel implements ActionListener {\n+\n+    static final String INSTRUCTIONS = \"\"\"\n+        This test is free format, which means there is no enforced or guided sequence.\n+\n+        Please select each of\n+        (a) The dialog parent type.\n+        (b) The dialog modality type\n+        (c) The print dialog type (Print dialog or Page Setup dialog)\n+\n+        Once the choices have been made click the \"Start test\" button.\n+\n+        Three windows will appear\n+        (1) A Frame or a Dialog - in the case you selected \"Dialog\" as the parent type\n+        (2) a Window (ie an undecorated top-level)\n+        (3) A dialog with two buttons \"Open\" and \"Finish\"\n+\n+        Now check as follows whether modal blocking works as expected.\n+        Windows (1) and (2) contain a button which you should be able to press\n+        ONLY if you selected \"Non-modal\", or \"Modeless\" for modality type.\n+        In other cases window (3) will block input to (1) and (2)\n+\n+        Then push the \"Open\" button on the Dialog to show the printing dialog and check\n+        if it blocks the rest of the application - ie all of windows (1), (2) and (3)\n+        should ALWAYS be blocked when the print dialog is showing.\n+        Now cancel the printing dialog and check the correctness of modal blocking\n+        behavior for the Dialog again.\n+        To close all the 3 test windows please push the \"Finish\" button.\n+\n+        Repeat all the above for different combinations, which should include\n+        using all of the Dialog parent choices and all of the Dialog Modality types.\n+\n+        If any behave incorrectly, note the combination of choices and press Fail.\n+\n+        If all behave correctly, press Pass.\n+    \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+\n+         PassFailJFrame.builder()\n+             .instructions(INSTRUCTIONS)\n+             .rows(35)\n+             .columns(60)\n+             .testUI(PrintDialogsTest::createUI)\n+             .testTimeOut(10)\n+             .build()\n+             .awaitAndCheck();\n+    }\n@@ -51,0 +106,8 @@\n+    private static Frame createUI() {\n+        Frame frame = new Frame(\"Dialog Modality Testing\");\n+        PrintDialogsTest test = new PrintDialogsTest();\n+        test.createGUI();\n+        frame.add(test);\n+        frame.pack();\n+        return frame;\n+    }\n@@ -102,1 +165,0 @@\n-        setSize(350, 200);\n@@ -104,1 +166,1 @@\n-        panel.setLayout(new GridLayout(18, 1));\n+        panel.setLayout(new GridLayout(21, 1));\n@@ -109,0 +171,1 @@\n+        panel.add(new Label(\" \")); \/\/ spacing\n@@ -126,0 +189,1 @@\n+        panel.add(new Label(\" \")); \/\/ spacing\n@@ -142,1 +206,1 @@\n-        add(panel);\n+        panel.add(new Label(\" \")); \/\/ spacing\n@@ -151,8 +215,1 @@\n-        validate();\n-        setVisible(true);\n-    }\n-\n-    public void start() {\n-        try {\n-            EventQueue.invokeAndWait(this::createGUI);\n-        } catch (Exception e) {}\n+        add(panel);\n","filename":"test\/jdk\/java\/awt\/Modal\/PrintDialogsTest\/PrintDialogsTest.java","additions":75,"deletions":18,"binary":false,"changes":93,"status":"modified"}]}
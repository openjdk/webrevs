{"files":[{"patch":"@@ -7089,3 +7089,0 @@\n-\/\/ The \"ldr\" instruction loads a 32-bit word from the constant pool into a\n-\/\/ 32-bit register but only the bottom half will be populated and the top\n-\/\/ 16 bits are zero.\n@@ -7094,3 +7091,3 @@\n-  format %{\n-    \"ldrs $dst, [$constantaddress]\\t# load from constant table: half float=$con\\n\\t\"\n-  %}\n+  format %{ \"mov    rscratch1, $con\\n\\t\"\n+            \"fmov   $dst, rscratch1\"\n+         %}\n@@ -7098,1 +7095,7 @@\n-    __ ldrs(as_FloatRegister($dst$$reg), $constantaddress($con));\n+    uint32_t imm = (uint32_t)$con$$constant;\n+    if (imm == 0) {\n+      __ movw(rscratch1, zr);\n+    } else {\n+      __ movw(rscratch1, imm);\n+    }\n+    __ fmovs($dst$$FloatRegister, rscratch1);\n@@ -7100,1 +7103,1 @@\n-  ins_pipe(fp_load_constant_s);\n+  ins_pipe(pipe_class_default);\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64.ad","additions":11,"deletions":8,"binary":false,"changes":19,"status":"modified"}]}
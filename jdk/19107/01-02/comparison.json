{"files":[{"patch":"@@ -149,1 +149,1 @@\n-  _current_dump_space(nullptr),\n+  _current_dump_region(nullptr),\n@@ -344,1 +344,1 @@\n-  _current_dump_space = &_rw_region;\n+  _current_dump_region = &_rw_region;\n@@ -347,1 +347,1 @@\n-  _current_dump_space->init(&_shared_rs, &_shared_vs);\n+  _current_dump_region->init(&_shared_rs, &_shared_vs);\n@@ -563,1 +563,1 @@\n-void ArchiveBuilder::start_dump_space(DumpRegion* next) {\n+void ArchiveBuilder::start_dump_region(DumpRegion* next) {\n@@ -565,1 +565,1 @@\n-  address top = (address)(current_dump_space()->top());\n+  address top = (address)(current_dump_region()->top());\n@@ -568,2 +568,2 @@\n-  current_dump_space()->pack(next);\n-  _current_dump_space = next;\n+  current_dump_region()->pack(next);\n+  _current_dump_region = next;\n@@ -572,1 +572,1 @@\n-  _last_verified_top = (address)(current_dump_space()->top());\n+  _last_verified_top = (address)(current_dump_region()->top());\n@@ -577,1 +577,1 @@\n-  address top = (address)(current_dump_space()->top());\n+  address top = (address)(current_dump_region()->top());\n@@ -633,1 +633,1 @@\n-  start_dump_space(&_ro_region);\n+  start_dump_region(&_ro_region);\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-  DumpRegion* _current_dump_space;\n+  DumpRegion* _current_dump_region;\n@@ -117,1 +117,1 @@\n-  DumpRegion* current_dump_space() const {  return _current_dump_space;  }\n+  DumpRegion* current_dump_region() const {  return _current_dump_region;  }\n@@ -281,1 +281,1 @@\n-  void start_dump_space(DumpRegion* next);\n+  void start_dump_region(DumpRegion* next);\n@@ -287,5 +287,5 @@\n-  address buffer_bottom()                    const { return _buffer_bottom;                       }\n-  address buffer_top()                       const { return (address)current_dump_space()->top(); }\n-  address requested_static_archive_bottom()  const { return  _requested_static_archive_bottom;    }\n-  address mapped_static_archive_bottom()     const { return  _mapped_static_archive_bottom;       }\n-  intx buffer_to_requested_delta()           const { return _buffer_to_requested_delta;           }\n+  address buffer_bottom()                    const { return _buffer_bottom;                        }\n+  address buffer_top()                       const { return (address)current_dump_region()->top(); }\n+  address requested_static_archive_bottom()  const { return  _requested_static_archive_bottom;     }\n+  address mapped_static_archive_bottom()     const { return  _mapped_static_archive_bottom;        }\n+  intx buffer_to_requested_delta()           const { return _buffer_to_requested_delta;            }\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.hpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -325,1 +325,1 @@\n-  *p = obj != 0 ? (void*)(SharedBaseAddress + obj) : (void*)obj;\n+  *p = (void*)obj != nullptr ? (void*)(SharedBaseAddress + obj) : (void*)obj;\n","filename":"src\/hotspot\/share\/cds\/archiveUtils.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -235,1 +235,1 @@\n-    _vtables_serialized_base = soc->region_top();\n+    _vtables_serialized_base = (char*)ArchiveBuilder::current()->buffer_top();\n","filename":"src\/hotspot\/share\/cds\/cppVtables.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -140,1 +140,1 @@\n-      assert(current_dump_space() == ro_region(), \"Must be RO space\");\n+      assert(current_dump_region() == ro_region(), \"Must be RO space\");\n","filename":"src\/hotspot\/share\/cds\/dynamicArchive.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,2 +51,2 @@\n-  \/\/ Read\/write the region specified.\n-  void do_region(u_char* start, size_t size) {\n+  \/\/ Iterate on the pointers from p[0] through p[num_pointers-1]\n+  void do_ptrs(u_char* start, size_t size) {\n","filename":"src\/hotspot\/share\/cds\/serializeClosure.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -208,1 +208,1 @@\n-  soc->do_region((u_char*)&Symbol::_vm_symbols[FIRST_SID],\n+  soc->do_ptrs((u_char*)&Symbol::_vm_symbols[FIRST_SID],\n@@ -210,1 +210,1 @@\n-  soc->do_region((u_char*)_type_signatures, sizeof(_type_signatures));\n+  soc->do_ptrs((u_char*)_type_signatures, sizeof(_type_signatures));\n","filename":"src\/hotspot\/share\/classfile\/vmSymbols.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
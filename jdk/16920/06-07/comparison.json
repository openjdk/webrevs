{"files":[{"patch":"@@ -1138,0 +1138,1 @@\n+  const char* error_report = nullptr;\n@@ -1139,1 +1140,1 @@\n-  result = Aix_dlopen(filename, dflags, ebuf, ebuflen);\n+  result = Aix_dlopen(filename, dflags, &error_report);\n@@ -1148,1 +1149,0 @@\n-    const char* error_report = ::dlerror();\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1033,1 +1033,1 @@\n-void* Aix_dlopen(const char* filename, int Flags, char *ebuf, int ebuflen) {\n+void* Aix_dlopen(const char* filename, int Flags, const char** error_report) {\n@@ -1063,3 +1063,1 @@\n-        if (ebuf != nullptr && ebuflen > 0) {\n-          ::strncpy(ebuf, \"dlopen: too many libraries loaded\", ebuflen - 1);\n-        }\n+        *error_report = \"dlopen: too many libraries loaded\";\n@@ -1080,6 +1078,3 @@\n-        const char* error_report = ::dlerror();\n-        if (error_report == nullptr) {\n-          error_report = \"dlerror returned no error description\";\n-        }\n-        if (ebuf != nullptr && ebuflen > 0) {\n-          snprintf(ebuf, ebuflen - 1, \"%s\", error_report);\n+        *error_report = ::dlerror();\n+        if (*error_report == nullptr) {\n+          *error_report = \"dlerror returned no error description\";\n","filename":"src\/hotspot\/os\/aix\/porting_aix.cpp","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -118,1 +118,1 @@\n-void* Aix_dlopen(const char* filename, int Flags, char *ebuf, int ebuflen);\n+void* Aix_dlopen(const char* filename, int Flags, const char** error_report);\n","filename":"src\/hotspot\/os\/aix\/porting_aix.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -236,1 +236,3 @@\n-        if (nextBci >= endBci()) {\n+        var bci = nextBci;\n+        var end = endBci();\n+        if (bci >= end) {\n@@ -240,1 +242,0 @@\n-        bci = nextBci;\n@@ -242,1 +243,2 @@\n-        int len = LENGTHS[code];\n+        int len = LENGTHS[code & 0xFF]; \/\/ & 0xFF eliminates bound check\n+        this.bci = bci;\n@@ -246,1 +248,1 @@\n-            len = checkSpecialInstruction(code);\n+            len = checkSpecialInstruction(bci, end, code); \/\/ sets opcode\n@@ -249,1 +251,1 @@\n-        if (len <= 0 || (nextBci += len) > endBci()) {\n+        if (len <= 0 || (nextBci += len) > end) {\n@@ -257,1 +259,1 @@\n-    private int checkSpecialInstruction(int code) {\n+    private int checkSpecialInstruction(int bci, int end, int code) {\n@@ -259,1 +261,1 @@\n-            if (bci + 1 >= endBci()) {\n+            if (bci + 1 >= end) {\n@@ -269,1 +271,1 @@\n-            if (alignedBci + 3 * 4 >= endBci()) {\n+            if (alignedBci + 3 * 4 >= end) {\n@@ -279,1 +281,1 @@\n-            if (alignedBci + 2 * 4 >= endBci()) {\n+            if (alignedBci + 2 * 4 >= end) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/RawBytecodeHelper.java","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"}]}
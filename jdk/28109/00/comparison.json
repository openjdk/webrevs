{"files":[{"patch":"@@ -373,2 +373,1 @@\n-    \/\/ As zero is allowed for _requested_static_archive_bottom, use integer arithmetic to avoid UB pointer arithmetic.\n-    _requested_static_archive_top = (address)((uintptr_t)_requested_static_archive_bottom + static_archive_size);\n+    _requested_static_archive_top = _requested_static_archive_bottom + static_archive_size;\n@@ -382,2 +381,1 @@\n-  \/\/ As zero is allowed for _requested_static_archive_bottom, use integer arithmetic to avoid UB pointer arithmetic.\n-  address my_archive_requested_top = (address)((uintptr_t)my_archive_requested_bottom + buffer_size);\n+  address my_archive_requested_top = my_archive_requested_bottom + buffer_size;\n@@ -1035,1 +1033,2 @@\n-  address buffered_addr = _buffer_bottom + offset;\n+  address requested_addr = _requested_static_archive_bottom + offset;\n+  address buffered_addr = requested_addr - _buffer_to_requested_delta;\n@@ -1100,3 +1099,1 @@\n-    \/\/ It is acceptable that new_bottom\/new_top may be zero.\n-    \/\/ As zero is allowed for new_bottom, use integer arithmetic to avoid UB pointer arithmetic.\n-    address new_bottom = (address)((intx)bottom + _buffer_to_requested_delta);\n+    address new_bottom = bottom + _buffer_to_requested_delta;\n@@ -1166,2 +1163,1 @@\n-    \/\/ As zero is allowed for _requested_static_archive_bottom, use integer arithmetic to avoid UB pointer arithmetic.\n-    _requested_static_archive_top = (address)((uintptr_t)_requested_static_archive_bottom + my_archive_size);\n+    _requested_static_archive_top = _requested_static_archive_bottom + my_archive_size;\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.cpp","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"}]}
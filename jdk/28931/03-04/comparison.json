{"files":[{"patch":"@@ -277,1 +277,2 @@\n-        jdk.net;\n+        jdk.net,\n+        jdk.security.auth;\n","filename":"src\/java.base\/share\/classes\/module-info.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -123,0 +124,9 @@\n+        \/\/ Fail immediately on Windows to avoid cygwin-like functions being\n+        \/\/ loaded, which are not supported and could have a different `size_t`.\n+        if (OperatingSystem.isWindows()) {\n+            throw new FailedLoginException\n+                    (\"Failed in attempt to import \" +\n+                            \"the underlying system identity information\" +\n+                            \" on \" + System.getProperty(\"os.name\"));\n+        }\n+\n@@ -124,8 +134,4 @@\n-            \/\/ TODO: Shall we fail early for unsupported systems?\n-            \/\/ 1. If it's Windows, we should fail immediately to avoid\n-            \/\/    cygwin-like functions being loaded, which are not supported\n-            \/\/    and could have a different `long`.\n-            \/\/ 2. The FFM code has only been tested on macOS and Linux and\n-            \/\/    might fail on other *nix systems. Especially, the `passwd`\n-            \/\/    struct could be defined differently, although I've checked\n-            \/\/    several and an extra 100 chars at the end seems enough.\n+            \/\/ The FFM code has only been tested on macOS and Linux and\n+            \/\/ might fail on other *nix systems. Especially, the `passwd`\n+            \/\/ struct could be defined differently. I've checked several\n+            \/\/ and an extra 100 chars at the end seems enough.\n@@ -147,0 +153,1 @@\n+            \/\/ When getpwuid_r fails, username will not be available.\n","filename":"src\/jdk.security.auth\/share\/classes\/com\/sun\/security\/auth\/module\/UnixLoginModule.java","additions":15,"deletions":8,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -136,1 +136,3 @@\n-    \/\/ sysconf(_SC_GETPW_R_SIZE_MAX) on macOS is 4096 and 1024 on Linux\n+    \/\/ sysconf(_SC_GETPW_R_SIZE_MAX) on macOS is 4096 and 1024 on Linux.\n+    \/\/ Not calling sysconf() here because _SC_GETPW_R_SIZE_MAX is different\n+    \/\/ on different platforms.\n","filename":"src\/jdk.security.auth\/share\/classes\/com\/sun\/security\/auth\/module\/UnixSystem.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -381,2 +381,2 @@\n-    \/\/ on Apple silicon but worse performance on Neoverse V1 and N2.\n-    if (_cpu == CPU_APPLE) {  \/\/ Apple silicon\n+    \/\/ on Apple and Qualcomm silicon but worse performance on Neoverse V1 and N2.\n+    if (_cpu == CPU_APPLE || _cpu == CPU_QUALCOM) {  \/\/ Apple or Qualcomm silicon\n","filename":"src\/hotspot\/cpu\/aarch64\/vm_version_aarch64.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -44,3 +44,4 @@\n-  if (IsProcessorFeaturePresent(PF_ARM_V8_CRYPTO_INSTRUCTIONS_AVAILABLE))  _features |= CPU_AES | CPU_SHA1 | CPU_SHA2;\n-  if (IsProcessorFeaturePresent(PF_ARM_VFP_32_REGISTERS_AVAILABLE))        _features |= CPU_ASIMD;\n-  \/\/ No check for CPU_PMULL, CPU_SVE, CPU_SVE2\n+  if (IsProcessorFeaturePresent(PF_ARM_V8_CRYPTO_INSTRUCTIONS_AVAILABLE))  _features |= CPU_AES | CPU_SHA1 | CPU_SHA2 | CPU_PMULL;\n+  if (IsProcessorFeaturePresent(PF_ARM_VFP_32_REGISTERS_AVAILABLE))        _features |= CPU_ASIMD | CPU_FP;\n+  if (IsProcessorFeaturePresent(PF_ARM_V81_ATOMIC_INSTRUCTIONS_AVAILABLE)) _features |= CPU_LSE;\n+  \/\/ No check for CPU_SVE, CPU_SVE2\n@@ -87,0 +88,2 @@\n+    } else if (buf && strstr(buf, \"Qualcomm Technologies Inc\") != nullptr) {\n+      _cpu = CPU_QUALCOM;\n@@ -95,2 +98,2 @@\n-      _variant = si.wProcessorRevision \/ 0xFF;\n-      _revision = si.wProcessorRevision & 0xFF;\n+      _variant = (si.wProcessorRevision >> 8) & 0xFF; \/\/ Variant is the upper byte of wProcessorRevision\n+      _revision = si.wProcessorRevision & 0xFF; \/\/ Revision is the lower byte of wProcessorRevision\n","filename":"src\/hotspot\/os_cpu\/windows_aarch64\/vm_version_windows_aarch64.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}
[{"commit":{"message":"add copyright headers"},"files":[{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/MyRecord.java"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/TestRetransformRecord.java"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/altered\/MyRecord.jcod"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/rename.sh"}],"sha":"725f4edb0a4e849b5678647a8d1ae836ae5e87fa"},{"commit":{"message":"add missing files"},"files":[{"filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.cpp"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/TestRetransformRecord.java"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/rename.sh"},{"filename":"test\/lib\/RedefineClassHelper.java"}],"sha":"33f92068a02fc11643ec0bb96eb60917bc0650da"},{"commit":{"message":"8376185: NoSuchFieldError thrown after a record with type annotation retransformed\nFix a retransform error when retransforming a record with type annotation.\nprocessing the record type annotation was done by calling the wrong method and\nusing the one to process regular annotation. Regular annotations have not the\nsame structure and decoding was therefore incorrect. The decoding methods\ndetect a problem but this error was not propagated correctly outside of\nVM_RedfineClass::load_new_class_versions method, swallowing the error and\nleaving the retransformed class in bad state.\n\nHere we have fixed the call to the right method for decoding the type\nannotations but also propagated the error when rewriting the constant\npool as an JVMTI_ERROR_INTERNAL"},"files":[{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/MyRecord.java"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/TestRetransformRecord.java"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/altered\/MyRecord.jcod"},{"filename":"test\/jdk\/java\/lang\/instrument\/RetransformRecordTypeAnn\/rename.sh"}],"sha":"44981e6b69ea083c107db6529331060630d828db"}]
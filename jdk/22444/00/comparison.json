{"files":[{"patch":"@@ -381,2 +381,5 @@\n-  size_t av_promo  = (size_t)_avg_promoted->padded_average();\n-  bool   res = (available >= av_promo) || (available >= max_promotion_in_bytes);\n+\n+  size_t avg_promoted  = (size_t)_avg_promoted->padded_average();\n+  size_t promotion_estimate = MIN2(avg_promoted, max_promotion_in_bytes);\n+\n+  bool res = (promotion_estimate <= available);\n@@ -385,1 +388,1 @@\n-    res? \"\":\" not\", available, res? \">=\":\"<\", av_promo, max_promotion_in_bytes);\n+    res? \"\":\" not\", available, res? \">=\":\"<\", avg_promoted, max_promotion_in_bytes);\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}
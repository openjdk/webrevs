{"files":[{"patch":"@@ -523,0 +523,6 @@\n+    # clang 17 compiler on aix needs -Wno-tentative-definitions,\n+    # otherwise variable definitions in headers are forbidden (only extern declaration is allowed)\n+    if test \"x$CC_VERSION_NUMBER\" = \"x17.0.6\"; then\n+      TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM -Wno-tentative-definitions\"\n+      TOOLCHAIN_CFLAGS_JDK=\"$TOOLCHAIN_CFLAGS_JDK -Wno-tentative-definitions\"\n+    fi\n","filename":"make\/autoconf\/flags-cflags.m4","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -27,2 +27,72 @@\n-#define IMGEXTERN\n-#include \"imageInitIDs.h\"\n+\n+\/* BufferedImage ids *\/\n+jfieldID g_BImgRasterID;\n+jfieldID g_BImgTypeID;\n+jfieldID g_BImgCMID;\n+jmethodID g_BImgGetRGBMID;\n+jmethodID g_BImgSetRGBMID;\n+\n+\/* Raster ids *\/\n+jfieldID g_RasterWidthID;\n+jfieldID g_RasterHeightID;\n+jfieldID g_RasterMinXID;\n+jfieldID g_RasterMinYID;\n+jfieldID g_RasterBaseOriginXID;\n+jfieldID g_RasterBaseOriginYID;\n+jfieldID g_RasterSampleModelID;\n+jfieldID g_RasterDataBufferID;\n+jfieldID g_RasterNumDataElementsID;\n+jfieldID g_RasterNumBandsID;\n+\n+jfieldID g_BCRdataID;\n+jfieldID g_BCRscanstrID;\n+jfieldID g_BCRpixstrID;\n+jfieldID g_BCRdataOffsetsID;\n+jfieldID g_BCRtypeID;\n+jfieldID g_BPRdataID;\n+jfieldID g_BPRscanstrID;\n+jfieldID g_BPRpixstrID;\n+jfieldID g_BPRtypeID;\n+jfieldID g_BPRdataBitOffsetID;\n+jfieldID g_SCRdataID;\n+jfieldID g_SCRscanstrID;\n+jfieldID g_SCRpixstrID;\n+jfieldID g_SCRdataOffsetsID;\n+jfieldID g_SCRtypeID;\n+jfieldID g_ICRdataID;\n+jfieldID g_ICRscanstrID;\n+jfieldID g_ICRpixstrID;\n+jfieldID g_ICRdataOffsetsID;\n+jfieldID g_ICRtypeID;\n+\n+\/* Color Model ids *\/\n+jfieldID g_CMnBitsID;\n+jfieldID g_CMcspaceID;\n+jfieldID g_CMnumComponentsID;\n+jfieldID g_CMsuppAlphaID;\n+jfieldID g_CMisAlphaPreID;\n+jfieldID g_CMtransparencyID;\n+jfieldID g_CMcsTypeID;\n+jfieldID g_CMis_sRGBID;\n+jmethodID g_CMgetRGBdefaultMID;\n+\n+jfieldID g_ICMtransIdxID;\n+jfieldID g_ICMmapSizeID;\n+jfieldID g_ICMrgbID;\n+\n+\/* Sample Model ids *\/\n+jfieldID g_SMWidthID;\n+jfieldID g_SMHeightID;\n+jmethodID g_SMGetPixelsMID;\n+jmethodID g_SMSetPixelsMID;\n+\n+\/* Single Pixel Packed Sample Model ids *\/\n+jfieldID g_SPPSMmaskArrID;\n+jfieldID g_SPPSMmaskOffID;\n+jfieldID g_SPPSMnBitsID;\n+jfieldID g_SPPSMmaxBitID;\n+\n+\/* Kernel ids *\/\n+jfieldID g_KernelWidthID;\n+jfieldID g_KernelHeightID;\n+jfieldID g_KernelDataID;\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/imageInitIDs.c","additions":72,"deletions":2,"binary":false,"changes":74,"status":"modified"},{"patch":"@@ -31,4 +31,0 @@\n-#ifndef IMGEXTERN\n-# define IMGEXTERN extern\n-#endif\n-\n@@ -36,5 +32,5 @@\n-IMGEXTERN jfieldID g_BImgRasterID;\n-IMGEXTERN jfieldID g_BImgTypeID;\n-IMGEXTERN jfieldID g_BImgCMID;\n-IMGEXTERN jmethodID g_BImgGetRGBMID;\n-IMGEXTERN jmethodID g_BImgSetRGBMID;\n+extern jfieldID g_BImgRasterID;\n+extern jfieldID g_BImgTypeID;\n+extern jfieldID g_BImgCMID;\n+extern jmethodID g_BImgGetRGBMID;\n+extern jmethodID g_BImgSetRGBMID;\n@@ -43,10 +39,10 @@\n-IMGEXTERN jfieldID g_RasterWidthID;\n-IMGEXTERN jfieldID g_RasterHeightID;\n-IMGEXTERN jfieldID g_RasterMinXID;\n-IMGEXTERN jfieldID g_RasterMinYID;\n-IMGEXTERN jfieldID g_RasterBaseOriginXID;\n-IMGEXTERN jfieldID g_RasterBaseOriginYID;\n-IMGEXTERN jfieldID g_RasterSampleModelID;\n-IMGEXTERN jfieldID g_RasterDataBufferID;\n-IMGEXTERN jfieldID g_RasterNumDataElementsID;\n-IMGEXTERN jfieldID g_RasterNumBandsID;\n+extern jfieldID g_RasterWidthID;\n+extern jfieldID g_RasterHeightID;\n+extern jfieldID g_RasterMinXID;\n+extern jfieldID g_RasterMinYID;\n+extern jfieldID g_RasterBaseOriginXID;\n+extern jfieldID g_RasterBaseOriginYID;\n+extern jfieldID g_RasterSampleModelID;\n+extern jfieldID g_RasterDataBufferID;\n+extern jfieldID g_RasterNumDataElementsID;\n+extern jfieldID g_RasterNumBandsID;\n@@ -54,20 +50,20 @@\n-IMGEXTERN jfieldID g_BCRdataID;\n-IMGEXTERN jfieldID g_BCRscanstrID;\n-IMGEXTERN jfieldID g_BCRpixstrID;\n-IMGEXTERN jfieldID g_BCRdataOffsetsID;\n-IMGEXTERN jfieldID g_BCRtypeID;\n-IMGEXTERN jfieldID g_BPRdataID;\n-IMGEXTERN jfieldID g_BPRscanstrID;\n-IMGEXTERN jfieldID g_BPRpixstrID;\n-IMGEXTERN jfieldID g_BPRtypeID;\n-IMGEXTERN jfieldID g_BPRdataBitOffsetID;\n-IMGEXTERN jfieldID g_SCRdataID;\n-IMGEXTERN jfieldID g_SCRscanstrID;\n-IMGEXTERN jfieldID g_SCRpixstrID;\n-IMGEXTERN jfieldID g_SCRdataOffsetsID;\n-IMGEXTERN jfieldID g_SCRtypeID;\n-IMGEXTERN jfieldID g_ICRdataID;\n-IMGEXTERN jfieldID g_ICRscanstrID;\n-IMGEXTERN jfieldID g_ICRpixstrID;\n-IMGEXTERN jfieldID g_ICRdataOffsetsID;\n-IMGEXTERN jfieldID g_ICRtypeID;\n+extern jfieldID g_BCRdataID;\n+extern jfieldID g_BCRscanstrID;\n+extern jfieldID g_BCRpixstrID;\n+extern jfieldID g_BCRdataOffsetsID;\n+extern jfieldID g_BCRtypeID;\n+extern jfieldID g_BPRdataID;\n+extern jfieldID g_BPRscanstrID;\n+extern jfieldID g_BPRpixstrID;\n+extern jfieldID g_BPRtypeID;\n+extern jfieldID g_BPRdataBitOffsetID;\n+extern jfieldID g_SCRdataID;\n+extern jfieldID g_SCRscanstrID;\n+extern jfieldID g_SCRpixstrID;\n+extern jfieldID g_SCRdataOffsetsID;\n+extern jfieldID g_SCRtypeID;\n+extern jfieldID g_ICRdataID;\n+extern jfieldID g_ICRscanstrID;\n+extern jfieldID g_ICRpixstrID;\n+extern jfieldID g_ICRdataOffsetsID;\n+extern jfieldID g_ICRtypeID;\n@@ -76,9 +72,9 @@\n-IMGEXTERN jfieldID g_CMnBitsID;\n-IMGEXTERN jfieldID g_CMcspaceID;\n-IMGEXTERN jfieldID g_CMnumComponentsID;\n-IMGEXTERN jfieldID g_CMsuppAlphaID;\n-IMGEXTERN jfieldID g_CMisAlphaPreID;\n-IMGEXTERN jfieldID g_CMtransparencyID;\n-IMGEXTERN jfieldID g_CMcsTypeID;\n-IMGEXTERN jfieldID g_CMis_sRGBID;\n-IMGEXTERN jmethodID g_CMgetRGBdefaultMID;\n+extern jfieldID g_CMnBitsID;\n+extern jfieldID g_CMcspaceID;\n+extern jfieldID g_CMnumComponentsID;\n+extern jfieldID g_CMsuppAlphaID;\n+extern jfieldID g_CMisAlphaPreID;\n+extern jfieldID g_CMtransparencyID;\n+extern jfieldID g_CMcsTypeID;\n+extern jfieldID g_CMis_sRGBID;\n+extern jmethodID g_CMgetRGBdefaultMID;\n@@ -86,3 +82,3 @@\n-IMGEXTERN jfieldID g_ICMtransIdxID;\n-IMGEXTERN jfieldID g_ICMmapSizeID;\n-IMGEXTERN jfieldID g_ICMrgbID;\n+extern jfieldID g_ICMtransIdxID;\n+extern jfieldID g_ICMmapSizeID;\n+extern jfieldID g_ICMrgbID;\n@@ -91,4 +87,4 @@\n-IMGEXTERN jfieldID g_SMWidthID;\n-IMGEXTERN jfieldID g_SMHeightID;\n-IMGEXTERN jmethodID g_SMGetPixelsMID;\n-IMGEXTERN jmethodID g_SMSetPixelsMID;\n+extern jfieldID g_SMWidthID;\n+extern jfieldID g_SMHeightID;\n+extern jmethodID g_SMGetPixelsMID;\n+extern jmethodID g_SMSetPixelsMID;\n@@ -97,4 +93,4 @@\n-IMGEXTERN jfieldID g_SPPSMmaskArrID;\n-IMGEXTERN jfieldID g_SPPSMmaskOffID;\n-IMGEXTERN jfieldID g_SPPSMnBitsID;\n-IMGEXTERN jfieldID g_SPPSMmaxBitID;\n+extern jfieldID g_SPPSMmaskArrID;\n+extern jfieldID g_SPPSMmaskOffID;\n+extern jfieldID g_SPPSMnBitsID;\n+extern jfieldID g_SPPSMmaxBitID;\n@@ -103,3 +99,3 @@\n-IMGEXTERN jfieldID g_KernelWidthID;\n-IMGEXTERN jfieldID g_KernelHeightID;\n-IMGEXTERN jfieldID g_KernelDataID;\n+extern jfieldID g_KernelWidthID;\n+extern jfieldID g_KernelHeightID;\n+extern jfieldID g_KernelDataID;\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/imageInitIDs.h","additions":58,"deletions":62,"binary":false,"changes":120,"status":"modified"},{"patch":"@@ -1,90 +0,0 @@\n-\/*\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-#ifdef HEADLESS\n-#error This file should not be included in headless library\n-#endif\n-#ifndef _FP_PIPEWIRE_H\n-#define _FP_PIPEWIRE_H\n-\n-\n-struct pw_buffer *(*fp_pw_stream_dequeue_buffer)(struct pw_stream *stream);\n-const char * (*fp_pw_stream_state_as_string)(enum pw_stream_state state);\n-int (*fp_pw_stream_queue_buffer)(struct pw_stream *stream,\n-                                 struct pw_buffer *buffer);\n-int (*fp_pw_stream_set_active)(struct pw_stream *stream, bool active);\n-\n-int (*fp_pw_stream_connect)(\n-        struct pw_stream *stream,\n-        enum pw_direction direction,\n-        uint32_t target_id,\n-        enum pw_stream_flags flags,\n-        const struct spa_pod **params,\n-        uint32_t n_params);\n-\n-struct pw_stream *(*fp_pw_stream_new)(\n-        struct pw_core *core,\n-        const char *name,\n-        struct pw_properties *props\n-);\n-void (*fp_pw_stream_add_listener)(struct pw_stream *stream,\n-                            struct spa_hook *listener,\n-                            const struct pw_stream_events *events,\n-                            void *data);\n-int (*fp_pw_stream_disconnect)(struct pw_stream *stream);\n-void (*fp_pw_stream_destroy)(struct pw_stream *stream);\n-\n-\n-void (*fp_pw_init)(int *argc, char **argv[]);\n-\n-struct pw_core *\n-(*fp_pw_context_connect_fd)(struct pw_context *context,\n-                      int fd,\n-                      struct pw_properties *properties,\n-                      size_t user_data_size);\n-\n-int (*fp_pw_core_disconnect)(struct pw_core *core);\n-\n-struct pw_context * (*fp_pw_context_new)(struct pw_loop *main_loop,\n-                                   struct pw_properties *props,\n-                                   size_t user_data_size);\n-\n-struct pw_thread_loop *\n-(*fp_pw_thread_loop_new)(const char *name, const struct spa_dict *props);\n-struct pw_loop * (*fp_pw_thread_loop_get_loop)(struct pw_thread_loop *loop);\n-void (*fp_pw_thread_loop_signal)(struct pw_thread_loop *loop,\n-                                 bool wait_for_accept);\n-void (*fp_pw_thread_loop_wait)(struct pw_thread_loop *loop);\n-void (*fp_pw_thread_loop_accept)(struct pw_thread_loop *loop);\n-int (*fp_pw_thread_loop_start)(struct pw_thread_loop *loop);\n-void (*fp_pw_thread_loop_stop)(struct pw_thread_loop *loop);\n-void (*fp_pw_thread_loop_destroy)(struct pw_thread_loop *loop);\n-void (*fp_pw_thread_loop_lock)(struct pw_thread_loop *loop);\n-void (*fp_pw_thread_loop_unlock)(struct pw_thread_loop *loop);\n-\n-struct pw_properties * (*fp_pw_properties_new)(const char *key, ...);\n-\n-\n-#endif \/\/_FP_PIPEWIRE_H\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/fp_pipewire.h","additions":0,"deletions":90,"binary":false,"changes":90,"status":"deleted"},{"patch":"@@ -34,1 +34,57 @@\n-#include \"fp_pipewire.h\"\n+\n+struct pw_buffer *(*fp_pw_stream_dequeue_buffer)(struct pw_stream *stream);\n+const char * (*fp_pw_stream_state_as_string)(enum pw_stream_state state);\n+int (*fp_pw_stream_queue_buffer)(struct pw_stream *stream,\n+                                 struct pw_buffer *buffer);\n+int (*fp_pw_stream_set_active)(struct pw_stream *stream, bool active);\n+\n+int (*fp_pw_stream_connect)(\n+        struct pw_stream *stream,\n+        enum pw_direction direction,\n+        uint32_t target_id,\n+        enum pw_stream_flags flags,\n+        const struct spa_pod **params,\n+        uint32_t n_params);\n+\n+struct pw_stream *(*fp_pw_stream_new)(\n+        struct pw_core *core,\n+        const char *name,\n+        struct pw_properties *props\n+);\n+void (*fp_pw_stream_add_listener)(struct pw_stream *stream,\n+                            struct spa_hook *listener,\n+                            const struct pw_stream_events *events,\n+                            void *data);\n+int (*fp_pw_stream_disconnect)(struct pw_stream *stream);\n+void (*fp_pw_stream_destroy)(struct pw_stream *stream);\n+\n+\n+void (*fp_pw_init)(int *argc, char **argv[]);\n+\n+struct pw_core *\n+(*fp_pw_context_connect_fd)(struct pw_context *context,\n+                      int fd,\n+                      struct pw_properties *properties,\n+                      size_t user_data_size);\n+\n+int (*fp_pw_core_disconnect)(struct pw_core *core);\n+\n+struct pw_context * (*fp_pw_context_new)(struct pw_loop *main_loop,\n+                                   struct pw_properties *props,\n+                                   size_t user_data_size);\n+\n+struct pw_thread_loop *\n+(*fp_pw_thread_loop_new)(const char *name, const struct spa_dict *props);\n+struct pw_loop * (*fp_pw_thread_loop_get_loop)(struct pw_thread_loop *loop);\n+void (*fp_pw_thread_loop_signal)(struct pw_thread_loop *loop,\n+                                 bool wait_for_accept);\n+void (*fp_pw_thread_loop_wait)(struct pw_thread_loop *loop);\n+void (*fp_pw_thread_loop_accept)(struct pw_thread_loop *loop);\n+int (*fp_pw_thread_loop_start)(struct pw_thread_loop *loop);\n+void (*fp_pw_thread_loop_stop)(struct pw_thread_loop *loop);\n+void (*fp_pw_thread_loop_destroy)(struct pw_thread_loop *loop);\n+void (*fp_pw_thread_loop_lock)(struct pw_thread_loop *loop);\n+void (*fp_pw_thread_loop_unlock)(struct pw_thread_loop *loop);\n+\n+struct pw_properties * (*fp_pw_properties_new)(const char *key, ...);\n+\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/screencast_pipewire.c","additions":57,"deletions":1,"binary":false,"changes":58,"status":"modified"}]}
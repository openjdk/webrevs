{"files":[{"patch":"@@ -38,3 +38,3 @@\n-const ConstraintCastNode::DependencyType ConstraintCastNode::DependencyType::FloatingNonNarrowing(true, false, \"floating non narrowing dependency\"); \/\/ not pinned, doesn't narrow type\n-const ConstraintCastNode::DependencyType ConstraintCastNode::DependencyType::NonFloatingNarrowing(false, true, \"now floating narrowing dependency\"); \/\/ pinned, narrows type\n-const ConstraintCastNode::DependencyType ConstraintCastNode::DependencyType::NonFloatingNonNarrowing(false, false, \"non floating non narrowing dependency\"); \/\/ pinned, doesn't narrow type\n+const ConstraintCastNode::DependencyType ConstraintCastNode::DependencyType::FloatingNonNarrowing(true, false, \"floating non-narrowing dependency\"); \/\/ not pinned, doesn't narrow type\n+const ConstraintCastNode::DependencyType ConstraintCastNode::DependencyType::NonFloatingNarrowing(false, true, \"non-floating narrowing dependency\"); \/\/ pinned, narrows type\n+const ConstraintCastNode::DependencyType ConstraintCastNode::DependencyType::NonFloatingNonNarrowing(false, false, \"non-floating non-narrowing dependency\"); \/\/ pinned, doesn't narrow type\n@@ -45,3 +45,0 @@\n-  \/\/ if this cast doesn't narrow its input's type, it doesn't carry a type dependency so we can't remove it if:\n-  \/\/ - there's a dominating cast with same input but narrower type\n-  \/\/ - its input has a narrower type\n@@ -49,0 +46,1 @@\n+    \/\/ If this cast doesn't carry a type dependency (i.e. not used for type narrowing), we cannot optimize it.\n@@ -51,0 +49,4 @@\n+  \n+  \/\/ This cast node carries a type depedency. We can remove it if:\n+  \/\/ - Its input has a narrower type\n+  \/\/ - There's a dominating cast with same input but narrower type\n@@ -634,1 +636,1 @@\n-      \/\/ type of its input is narrower than the Cast's type, we can't remove it to not loose the dependency).\n+      \/\/ type of its input is narrower than the Cast's type, we can't remove it to not loose the control dependency).\n","filename":"src\/hotspot\/share\/opto\/castnode.cpp","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-        i = RANDOM.nextInt(3, length-1);\n+        i = RANDOM.nextInt(3, length - 1);\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestPushAddThruCast.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
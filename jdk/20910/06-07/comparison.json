{"files":[{"patch":"@@ -1464,1 +1464,1 @@\n-void MacroAssembler::vector_update_crc32(Register crc, Register buf, Register len, const int64_t unroll_words,\n+void MacroAssembler::vector_update_crc32(Register crc, Register buf, Register len,\n@@ -1466,1 +1466,1 @@\n-                                         Register table0, Register table3, const int64_t single_table_size) {\n+                                         Register table0, Register table3) {\n@@ -1468,0 +1468,1 @@\n+    const int64_t single_table_size = 256;\n@@ -1475,0 +1476,1 @@\n+    mv(t0, 0xff);\n@@ -1484,0 +1486,1 @@\n+\n@@ -1485,1 +1488,0 @@\n-    zext_w(crc, crc);\n@@ -1504,2 +1506,1 @@\n-      mv(t1, 0xff);\n-      vand_vx(vtmp, vword, t1);\n+      vand_vx(vtmp, vword, t0);\n@@ -1516,2 +1517,1 @@\n-        mv(t1, 0xff);\n-        vand_vx(vtmp, vtmp, t1);\n+        vand_vx(vtmp, vtmp, t0);\n@@ -1535,1 +1535,1 @@\n-        vmv_x_s(t0, vcrc);\n+        vmv_x_s(tmp2, vcrc);\n@@ -1537,1 +1537,1 @@\n-        zext_w(t0, t0);\n+        zext_w(tmp2, tmp2);\n@@ -1539,1 +1539,1 @@\n-        xorr(t1, t0, t1);\n+        xorr(t1, tmp2, t1);\n@@ -1542,1 +1542,1 @@\n-          andi(t1, crc, 0xff);\n+          andr(t1, crc, t0);\n@@ -1545,2 +1545,2 @@\n-          srli(t0, crc, 8);\n-          xorr(crc, t0, t1);\n+          srli(tmp2, crc, 8);\n+          xorr(crc, tmp2, t1);\n@@ -1580,2 +1580,2 @@\n-    sub(tmp1, len, tmp_limit);\n-    bge(tmp1, zr, L_vector_entry);\n+    mv(tmp1, tmp_limit);\n+    bge(len, tmp1, L_vector_entry);\n@@ -1650,1 +1650,1 @@\n-    vector_update_crc32(crc, buf, len, unroll_words, tmp1, tmp2, tmp3, tmp4, table0, table3, single_table_size);\n+    vector_update_crc32(crc, buf, len, tmp1, tmp2, tmp3, tmp4, table0, table3);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1322,1 +1322,1 @@\n-  void vector_update_crc32(Register crc, Register buf, Register len, const int64_t unroll_words,\n+  void vector_update_crc32(Register crc, Register buf, Register len,\n@@ -1324,1 +1324,1 @@\n-                           Register table0, Register table3, const int64_t single_table_size);\n+                           Register table0, Register table3);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
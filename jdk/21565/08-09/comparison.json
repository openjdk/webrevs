{"files":[{"patch":"@@ -1550,0 +1550,1 @@\n+  \/\/ Force freeze slow path.\n","filename":"src\/hotspot\/cpu\/aarch64\/interp_masm_aarch64.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1596,0 +1596,1 @@\n+  \/\/ Force freeze slow path.\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -356,0 +356,1 @@\n+  \/\/ Force freeze slow path.\n","filename":"src\/hotspot\/cpu\/x86\/interp_masm_x86.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-        _failed = false;\n+        _failed = true;\n","filename":"src\/hotspot\/share\/runtime\/continuation.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1050,1 +1050,4 @@\n-      \/\/ Do it now that we know freezing will be successful.\n+      \/\/ Some platforms do not save the last_sp in the top interpreter frame on VM calls.\n+      \/\/ We need it so that on resume we can restore the sp to the right place, since\n+      \/\/ thawing might add an alignment word to the expression stack (see finish_thaw()).\n+      \/\/ We do it now that we know freezing will be successful.\n@@ -1098,0 +1101,1 @@\n+\/\/ After freezing a frame we need to possibly adjust some values related to the caller frame.\n@@ -1234,1 +1238,2 @@\n-    _total_align_size += frame::align_wiggle; \/\/ See Thaw::align\n+    \/\/ When thawing the frame we might need to add alignment (see Thaw::align)\n+    _total_align_size += frame::align_wiggle;\n@@ -1269,4 +1274,0 @@\n-  if (caller.is_interpreted_frame()) {\n-    _total_align_size += frame::align_wiggle;\n-  }\n-\n@@ -1315,0 +1316,1 @@\n+    \/\/ When thawing the frame we might need to add alignment (see Thaw::align)\n@@ -2659,4 +2661,0 @@\n-  if (caller.is_interpreted_frame()) {\n-    _align_size += frame::align_wiggle; \/\/ we add one whether or not we've aligned because we add it in recurse_freeze_stub_frame\n-  }\n-\n","filename":"src\/hotspot\/share\/runtime\/continuationFreezeThaw.cpp","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -890,1 +890,1 @@\n-  \/\/ For virtual threads that are pinned do a timed-park instead, to\n+  \/\/ For virtual threads that are pinned, do a timed-park instead to\n@@ -2485,0 +2485,1 @@\n+\/\/ We can't call this during Initialize() because BarrierSet needs to be set.\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
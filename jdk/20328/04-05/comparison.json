{"files":[{"patch":"@@ -43,0 +43,1 @@\n+ * @requires vm.gc != \"Shenandoah\"\n@@ -54,15 +55,0 @@\n-        \/\/ OldObjectSample might be skipped if GC is running shortly after\n-        \/\/ the allocations. Try with a few backoff intervals to let GC finish\n-        \/\/ before we stop the recording. This currently affects Shenandoah only.\n-        \/\/ There is no reason to wait unconditionally, if GC can manage with\n-        \/\/ a short backoff.\n-        for (int power = 0; power < 13; power++) {\n-            if (tryWith(1 << power)) {\n-                return;\n-            }\n-        }\n-\n-        Asserts.fail(\"Could not find old object with field 'testField'\");\n-    }\n-\n-    public static boolean tryWith(int backoff) throws Exception {\n@@ -75,2 +61,0 @@\n-            Thread.sleep(backoff);\n-\n@@ -80,0 +64,1 @@\n+            Events.hasEvents(events);\n@@ -82,1 +67,1 @@\n-                    return true;\n+                    return;\n@@ -85,1 +70,2 @@\n-            return false;\n+            System.out.println(events);\n+            Asserts.fail(\"Could not find old object with field 'testField'\");\n","filename":"test\/jdk\/jdk\/jfr\/event\/oldobject\/TestFieldInformation.java","additions":5,"deletions":19,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -41,1 +41,0 @@\n-import jdk.test.lib.Asserts;\n@@ -49,0 +48,1 @@\n+ * @requires vm.gc != \"Shenandoah\"\n@@ -78,16 +78,0 @@\n-\n-        \/\/ OldObjectSample might be skipped if GC is running shortly after\n-        \/\/ the allocations. Try with a few backoff intervals to let GC finish\n-        \/\/ before we stop the recording. This currently affects Shenandoah only.\n-        \/\/ There is no reason to wait unconditionally, if GC can manage with\n-        \/\/ a short backoff.\n-        for (int power = 0; power < 13; power++) {\n-            if (tryWith(1 << power)) {\n-                return;\n-            }\n-        }\n-\n-        Asserts.fail(\"No events\");\n-    }\n-\n-    public static boolean tryWith(int backoff) throws Exception {\n@@ -105,3 +89,0 @@\n-\n-            Thread.sleep(backoff);\n-\n@@ -110,0 +91,1 @@\n+            Events.hasEvents(events);\n@@ -113,1 +95,1 @@\n-                    return true;\n+                    return;\n@@ -117,2 +99,0 @@\n-\n-        return false;\n","filename":"test\/jdk\/jdk\/jfr\/event\/oldobject\/TestLargeRootSet.java","additions":3,"deletions":23,"binary":false,"changes":26,"status":"modified"}]}
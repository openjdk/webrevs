{"files":[{"patch":"@@ -257,1 +257,0 @@\n-\/\/---------------------find_invariant-----------------------------\n@@ -269,1 +268,0 @@\n-\/\/---------------------is_associative_cmp-------------------------\n@@ -279,3 +277,3 @@\n-    BoolNode* boolOut = n->out(i)->isa_Bool();\n-    if (boolOut == nullptr || !(boolOut->_test._test == BoolTest::eq ||\n-                                boolOut->_test._test == BoolTest::ne)) {\n+    BoolNode *bool_out = n->out(i)->isa_Bool();\n+    if (bool_out == nullptr || !(bool_out->_test._test == BoolTest::eq ||\n+                                 bool_out->_test._test == BoolTest::ne)) {\n@@ -288,1 +286,0 @@\n-\/\/---------------------is_associative-----------------------------\n@@ -304,1 +301,2 @@\n-    \/\/ Integer \"add\/sub\/mul\/and\/or\/xor\" operations are associative.\n+    \/\/ Integer \"add\/sub\/mul\/and\/or\/xor\" operations are associative. Integer\n+    \/\/ \"cmp\" operations are associative if it is an equality comparison.\n@@ -315,1 +313,0 @@\n-\/\/-------------------reassociate_add_sub_cmp---------------------\n@@ -335,1 +332,0 @@\n-\/\/\n@@ -350,4 +346,2 @@\n-  bool neg_inv2 =\n-      (n2_is_sub && !n1_is_cmp && inv2_idx == 2) || (n1_is_cmp && !n2_is_sub);\n-  bool neg_inv1 =\n-      (n1_is_sub && inv1_idx == 2) || (n1_is_cmp && inv2_idx == 1 && n2_is_sub);\n+  bool neg_inv2 = (n2_is_sub && !n1_is_cmp && inv2_idx == 2) || (n1_is_cmp && !n2_is_sub);\n+  bool neg_inv1 = (n1_is_sub && inv1_idx == 2) || (n1_is_cmp && inv2_idx == 1 && n2_is_sub);\n@@ -411,1 +405,0 @@\n-\/\/---------------------reassociate-----------------------------\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":7,"deletions":14,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -743,1 +743,1 @@\n-  Node* reassociate_add_sub_cmp(Node* n1, int inv1_idx, int inv2_idx, PhaseIdealLoop *phase);\n+  Node* reassociate_add_sub_cmp(Node* n1, int inv1_idx, int inv2_idx, PhaseIdealLoop* phase);\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * @run main compiler.c2.loopopts.InvariantCodeMotionReassociateAddSub\n+ * @run driver compiler.c2.loopopts.InvariantCodeMotionReassociateAddSub\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/InvariantCodeMotionReassociateAddSub.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * @run main compiler.c2.loopopts.InvariantCodeMotionReassociateCmp\n+ * @run driver compiler.c2.loopopts.InvariantCodeMotionReassociateCmp\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/InvariantCodeMotionReassociateCmp.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
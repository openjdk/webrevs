{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,2 @@\n+import java.util.Objects;\n+\n@@ -80,0 +82,4 @@\n+        Objects.checkFromIndexSize(off, len, b.length);\n+        if (len == 0) {\n+            return;\n+        }\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ChunkedOutputStream.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -285,3 +285,1 @@\n-            WriteFinishedEvent e = new WriteFinishedEvent (this);\n-            server.addEvent (e);\n-            closed = true;\n+            close();\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ExchangeImpl.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -30,0 +30,2 @@\n+import java.util.Objects;\n+\n@@ -45,1 +47,0 @@\n-    private final boolean zerolength;\n@@ -55,1 +56,0 @@\n-        zerolength = (len == 0);\n@@ -70,0 +70,4 @@\n+        Objects.checkFromIndexSize(off, len, b.length);\n+        if (len == 0) {\n+            return;\n+        }\n@@ -86,4 +90,0 @@\n-        if (zerolength) {\n-            \/\/ WriteFinishedEvent was sent already; nothing to do\n-            return;\n-        }\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/FixedLengthOutputStream.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -881,1 +881,0 @@\n-            closeConnection(connection);\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ServerImpl.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,2 @@\n+import java.util.Objects;\n+\n@@ -58,0 +60,4 @@\n+        Objects.checkFromIndexSize(off, len, b.length);\n+        if (len == 0) {\n+            return;\n+        }\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/UndefLengthOutputStream.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -113,2 +113,0 @@\n-                \/\/ close request to enable reuse\n-                t.getRequestBody().close();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/ExceptionKeepAlive.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
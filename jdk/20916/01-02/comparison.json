{"files":[{"patch":"@@ -24,0 +24,3 @@\n+import static jdk.test.lib.Utils.runAndCheckException;\n+\n+import java.lang.Override;\n@@ -27,1 +30,1 @@\n-import java.util.Collections;\n+import java.util.List;\n@@ -32,0 +35,1 @@\n+ * @library \/test\/lib\n@@ -35,0 +39,1 @@\n+\n@@ -41,6 +46,3 @@\n-        try {\n-            NoSync.test(SecureRandom.getInstance(\"S2\", p), 5, 5);\n-            throw new Exception(\"Failed\");\n-        } catch (RuntimeException re) {\n-            \/\/ Good\n-        }\n+        runAndCheckException(\n+                () -> NoSync.test(SecureRandom.getInstance(\"S2\", p), 5, 5),\n+                RuntimeException.class);\n@@ -48,6 +50,3 @@\n-        try {\n-            NoSync.test(SecureRandom.getInstance(\"AliasS2\", p), 5, 5);\n-            throw new Exception(\"Failed\");\n-        } catch (RuntimeException re) {\n-            \/\/ Good\n-        }\n+        runAndCheckException(\n+                () -> NoSync.test(SecureRandom.getInstance(\"AliasS2\", p), 5, 5),\n+                RuntimeException.class);\n@@ -58,6 +57,3 @@\n-        try {\n-            NoSync.test(SecureRandom.getInstance(\"S4\", p), 5, 5);\n-            throw new Exception(\"Failed\");\n-        } catch (RuntimeException re) {\n-            \/\/ Good\n-        }\n+        runAndCheckException(\n+                () -> NoSync.test(SecureRandom.getInstance(\"S4\", p), 5, 5),\n+                RuntimeException.class);\n@@ -65,6 +61,3 @@\n-        try {\n-            NoSync.test(SecureRandom.getInstance(\"AliasS4\", p), 5, 5);\n-            throw new Exception(\"Failed\");\n-        } catch (RuntimeException re) {\n-            \/\/ Good\n-        }\n+        runAndCheckException(\n+                () -> NoSync.test(SecureRandom.getInstance(\"AliasS4\", p), 5, 5),\n+                RuntimeException.class);\n@@ -93,1 +86,1 @@\n-                    S.class.getName(), Collections.singletonList(\"AliasS3\"), null));\n+                    S.class.getName(), List.of(\"AliasS3\"), null));\n@@ -97,1 +90,1 @@\n-                    S.class.getName(), Collections.singletonList(\"AliasS4\"), Map.of(\"ThreadSafe\", \"true\")));\n+                    S.class.getName(), List.of(\"AliasS4\"), Map.of(\"ThreadSafe\", \"true\")));\n@@ -103,1 +96,2 @@\n-        @java.lang.Override\n+\n+        @Override\n","filename":"test\/jdk\/java\/security\/SecureRandom\/ThreadSafe.java","additions":22,"deletions":28,"binary":false,"changes":50,"status":"modified"}]}
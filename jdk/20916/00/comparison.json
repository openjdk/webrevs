{"files":[{"patch":"@@ -228,2 +228,2 @@\n-            return Boolean.parseBoolean(provider.getProperty(\n-                    \"SecureRandom.\" + algorithm + \" ThreadSafe\", \"false\"));\n+            Service service = provider.getService(\"SecureRandom\", algorithm);\n+            return Boolean.parseBoolean(service.getAttribute(\"ThreadSafe\"));\n","filename":"src\/java.base\/share\/classes\/java\/security\/SecureRandom.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n- * @bug 7004967\n+ * @bug 7004967 8329754\n@@ -38,0 +38,1 @@\n+\n@@ -44,0 +45,8 @@\n+\n+        try {\n+            NoSync.test(SecureRandom.getInstance(\"AliasS2\", p), 5, 5);\n+            throw new Exception(\"Failed\");\n+        } catch (RuntimeException re) {\n+            \/\/ Good\n+        }\n+\n@@ -45,0 +54,1 @@\n+\n@@ -65,0 +75,3 @@\n+            \/\/Bad. Alias of S2, should fail because S2 is marked as ThreadSafe\n+            put(\"alg.Alias.SecureRandom.AliasS2\", \"S2\");\n+\n@@ -83,0 +96,1 @@\n+\n","filename":"test\/jdk\/java\/security\/SecureRandom\/ThreadSafe.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}
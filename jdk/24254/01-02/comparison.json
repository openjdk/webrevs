{"files":[{"patch":"@@ -2457,6 +2457,6 @@\n-      {\n-        UnsafeMemoryAccessMark umam(this, true, true);\n-        \/\/ At this point, we know the lower bit of size is zero and a\n-        \/\/ multiple of 2\n-        do_setmemory_atomic_loop(2, dest, size, byteVal, _masm);\n-      }\n+      \/\/ Mark remaining code as such which performs Unsafe accesses.\n+      UnsafeMemoryAccessMark umam(this, true, false);\n+\n+      \/\/ At this point, we know the lower bit of size is zero and a\n+      \/\/ multiple of 2\n+      do_setmemory_atomic_loop(2, dest, size, byteVal, _masm);\n@@ -2466,6 +2466,3 @@\n-      {\n-        UnsafeMemoryAccessMark umam(this, true, true);\n-        \/\/ At this point, we know the lower 3 bits of size are zero and a\n-        \/\/ multiple of 8\n-        do_setmemory_atomic_loop(8, dest, size, byteVal, _masm);\n-      }\n+      \/\/ At this point, we know the lower 3 bits of size are zero and a\n+      \/\/ multiple of 8\n+      do_setmemory_atomic_loop(8, dest, size, byteVal, _masm);\n@@ -2475,6 +2472,3 @@\n-      {\n-        UnsafeMemoryAccessMark umam(this, true, true);\n-        \/\/ At this point, we know the lower 2 bits of size are zero and a\n-        \/\/ multiple of 4\n-        do_setmemory_atomic_loop(4, dest, size, byteVal, _masm);\n-      }\n+      \/\/ At this point, we know the lower 2 bits of size are zero and a\n+      \/\/ multiple of 4\n+      do_setmemory_atomic_loop(4, dest, size, byteVal, _masm);\n@@ -2484,4 +2478,1 @@\n-      {\n-        UnsafeMemoryAccessMark umam(this, true, true);\n-        do_setmemory_atomic_loop(1, dest, size, byteVal, _masm);\n-      }\n+      do_setmemory_atomic_loop(1, dest, size, byteVal, _masm);\n","filename":"src\/hotspot\/cpu\/ppc\/stubGenerator_ppc.cpp","additions":13,"deletions":22,"binary":false,"changes":35,"status":"modified"}]}
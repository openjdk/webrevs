{"files":[{"patch":"@@ -223,5 +223,1 @@\n-        return duplicateIds == 0\n-                && missingIds == 0\n-                && missingFiles == 0\n-                && badSchemes == 0\n-                && log.noErrors();\n+        return log.noErrors() && (missingFiles == 0);\n@@ -232,1 +228,1 @@\n-        if (!isOK()) {\n+        if (!log.noErrors()) {\n@@ -234,4 +230,1 @@\n-            throw new RuntimeException(\n-                    \"LinkChecker encountered errors. Duplicate IDs: \"\n-                            + duplicateIds + \", Missing IDs: \" + missingIds\n-                            + \", Missing Files: \" + missingFiles + \", Bad Schemes: \" + badSchemes);\n+            throw new RuntimeException(\"LinkChecker encountered errors; see log above.\");\n@@ -281,1 +274,1 @@\n-                    log.log(currFile, line, \"missing file reference: \" + p);\n+                    log.log(currFile, line, \"missing file reference: \" + log.relativize(p));\n@@ -401,1 +394,1 @@\n-                throw new IllegalStateException(\"Adding ID after file has been\");\n+                throw new IllegalStateException(\"Adding ID after file has been checked\");\n@@ -422,1 +415,3 @@\n-                        log.log(log.relativize(from), line, \"id not found: \" + this.pathOrURI + \"#\" + name);\n+                        log.log(log.relativize(from), line,\n+                                \"id not found: \" + this.pathOrURI + \"#\" + name);\n+                        LinkChecker.this.missingIds++;\n@@ -438,1 +433,2 @@\n-                        log.log(log.relativize(ref.path), ref.line, \"id not found: \" + this.pathOrURI + \"#\" + name);\n+                        log.log(log.relativize(ref.path), ref.line,\n+                                \"id not found: \" + this.pathOrURI + \"#\" + name);\n","filename":"test\/docs\/jdk\/javadoc\/doccheck\/doccheckutils\/checkers\/LinkChecker.java","additions":10,"deletions":14,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -768,1 +768,1 @@\n-    public static abstract class HttpTestServer {\n+    abstract class HttpTestServer implements AutoCloseable {\n@@ -785,0 +785,5 @@\n+        @Override\n+        public void close() throws Exception {\n+            stop();\n+        }\n+\n@@ -974,0 +979,7 @@\n+\n+            @Override\n+            public void close() throws Exception {\n+                System.out.println(\"Http2TestServerImpl: close\");\n+                impl.close();\n+            }\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/common\/HttpServerAdapters.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+\n@@ -67,10 +68,4 @@\n-    private static ThreadFactory defaultThreadFac =\n-        (Runnable r) -> {\n-            Thread t = new Thread(r);\n-            t.setName(\"Test-server-pool\");\n-            return t;\n-        };\n-\n-\n-    private static ExecutorService getDefaultExecutor() {\n-        return Executors.newCachedThreadPool(defaultThreadFac);\n+    private static ExecutorService createExecutor(String name) {\n+        String threadNamePrefix = \"%s-pool\".formatted(name);\n+        ThreadFactory threadFactory = Thread.ofPlatform().name(threadNamePrefix, 0).factory();\n+        return Executors.newCachedThreadPool(threadFactory);\n@@ -80,1 +75,1 @@\n-        this(serverName, secure, port, getDefaultExecutor(), 50, null, null);\n+        this(serverName, secure, port, null, 50, null, null);\n@@ -84,1 +79,1 @@\n-        this(null, secure, port, getDefaultExecutor(), 50, null, null);\n+        this(null, secure, port, null, 50, null, null);\n@@ -200,1 +195,1 @@\n-        this.exec = exec == null ? getDefaultExecutor() : exec;\n+        this.exec = exec == null ? createExecutor(name) : exec;\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestServer.java","additions":9,"deletions":14,"binary":false,"changes":23,"status":"modified"}]}
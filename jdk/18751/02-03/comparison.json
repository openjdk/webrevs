{"files":[{"patch":"@@ -1109,3 +1109,8 @@\n-template<class T> inline T ABS(T x)                 {\n-  assert(!std::is_integral<T>::value || x != std::numeric_limits<T>::min(),\n-         \"ABS: argument should not allow overflow\");\n+#define ABS(x) asserted_abs(x, __FILE__, __LINE__)\n+\n+template<class T> inline T asserted_abs(T x, const char* file, int line) {\n+#ifdef ASSERT\n+  if (std::is_integral<T>::value && x == std::numeric_limits<T>::min()) {\n+    report_vm_error(file, line, \"ABS: argument should not allow overflow\");\n+  }\n+#endif\n@@ -1113,1 +1118,5 @@\n-  assert(res >= 0, \"ABS: result should be non-negative\");\n+#ifdef ASSERT\n+  if (res < 0) {\n+    report_vm_error(file, line, \"ABS: result should be non-negative\");\n+  }\n+#endif\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -816,1 +816,1 @@\n-static const TypeFunc* clone_type() {\n+const TypeFunc* make_clone_type() {\n@@ -835,0 +835,5 @@\n+static inline const TypeFunc* clone_type() {\n+  assert(OptoRuntime::_clone_type_Type != nullptr, \"should be initialized\");\n+  return OptoRuntime::_clone_type_Type;\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/barrierSetC2.cpp","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -389,0 +389,2 @@\n+const TypeFunc* make_clone_type();\n+\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/barrierSetC2.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -522,1 +522,21 @@\n-const TypeFunc* ShenandoahBarrierSetC2::write_barrier_pre_Type() {\n+const TypeFunc* ShenandoahBarrierSetC2::_write_barrier_pre_Type              = nullptr;\n+const TypeFunc* ShenandoahBarrierSetC2::_clone_barrier_Type                  = nullptr;\n+const TypeFunc* ShenandoahBarrierSetC2::_load_reference_barrier_Type         = nullptr;\n+\n+inline const TypeFunc* ShenandoahBarrierSetC2::write_barrier_pre_Type() {\n+  assert(ShenandoahBarrierSetC2::_write_barrier_pre_Type != nullptr, \"should be initialized\");\n+  return ShenandoahBarrierSetC2::_write_barrier_pre_Type;\n+}\n+\n+inline const TypeFunc* ShenandoahBarrierSetC2::clone_barrier_Type() {\n+  assert(ShenandoahBarrierSetC2::_clone_barrier_Type != nullptr, \"should be initialized\");\n+  return ShenandoahBarrierSetC2::_clone_barrier_Type;\n+}\n+\n+const TypeFunc* ShenandoahBarrierSetC2::load_reference_barrier_Type() {\n+  assert(ShenandoahBarrierSetC2::_load_reference_barrier_Type != nullptr, \"should be initialized\");\n+  return ShenandoahBarrierSetC2::_load_reference_barrier_Type;\n+}\n+\n+void ShenandoahBarrierSetC2::make_write_barrier_pre_Type() {\n+  assert(ShenandoahBarrierSetC2::_write_barrier_pre_Type == nullptr, \"should be\");\n@@ -531,1 +551,1 @@\n-  return TypeFunc::make(domain, range);\n+  ShenandoahBarrierSetC2::_write_barrier_pre_Type = TypeFunc::make(domain, range);\n@@ -534,1 +554,2 @@\n-const TypeFunc* ShenandoahBarrierSetC2::clone_barrier_Type() {\n+void ShenandoahBarrierSetC2::make_clone_barrier_Type() {\n+  assert(ShenandoahBarrierSetC2::_clone_barrier_Type == nullptr, \"should be\");\n@@ -543,1 +564,1 @@\n-  return TypeFunc::make(domain, range);\n+  ShenandoahBarrierSetC2::_clone_barrier_Type = TypeFunc::make(domain, range);\n@@ -546,1 +567,2 @@\n-const TypeFunc* ShenandoahBarrierSetC2::load_reference_barrier_Type() {\n+void ShenandoahBarrierSetC2::make_load_reference_barrier_Type() {\n+  assert(ShenandoahBarrierSetC2::_load_reference_barrier_Type == nullptr, \"should be\");\n@@ -558,1 +580,1 @@\n-  return TypeFunc::make(domain, range);\n+  ShenandoahBarrierSetC2::_load_reference_barrier_Type = TypeFunc::make(domain, range);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahBarrierSetC2.cpp","additions":28,"deletions":6,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -106,0 +106,1 @@\n+  static const TypeFunc* _write_barrier_pre_Type;\n@@ -107,0 +108,3 @@\n+  static void make_write_barrier_pre_Type();\n+\n+  static const TypeFunc* _clone_barrier_Type;\n@@ -108,0 +112,3 @@\n+  static void make_clone_barrier_Type();\n+\n+  static const TypeFunc* _load_reference_barrier_Type;\n@@ -109,0 +116,2 @@\n+  static void make_load_reference_barrier_Type();\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahBarrierSetC2.hpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+#include \"gc\/shared\/c2\/barrierSetC2.hpp\"\n@@ -268,0 +269,1 @@\n+const TypeFunc* OptoRuntime::_clone_type_Type                     = nullptr;\n@@ -2346,0 +2348,1 @@\n+  _clone_type_Type                    = make_clone_type();\n","filename":"src\/hotspot\/share\/opto\/runtime.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -235,0 +235,1 @@\n+  static const TypeFunc* _clone_type_Type;\n","filename":"src\/hotspot\/share\/opto\/runtime.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -51,0 +51,4 @@\n+#if INCLUDE_SHENANDOAHGC\n+#include \"gc\/shenandoah\/c2\/shenandoahBarrierSetC2.hpp\"\n+#endif \/\/ INCLUDE_SHENANDOAHGC\n+\n@@ -733,0 +737,6 @@\n+#if INCLUDE_SHENANDOAHGC\n+  ShenandoahBarrierSetC2::make_write_barrier_pre_Type();\n+  ShenandoahBarrierSetC2::make_clone_barrier_Type();\n+  ShenandoahBarrierSetC2::make_load_reference_barrier_Type();\n+#endif \/\/INCLUDE_SHENANDOAHGC\n+\n","filename":"src\/hotspot\/share\/opto\/type.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -816,2 +816,22 @@\n-static const TypeFunc* clone_type() {\n-  return OptoRuntime::clone_type_Type();\n+const TypeFunc* make_clone_type() {\n+  \/\/ Create input type (domain)\n+  int argcnt = NOT_LP64(3) LP64_ONLY(4);\n+  const Type** const domain_fields = TypeTuple::fields(argcnt);\n+  int argp = TypeFunc::Parms;\n+  domain_fields[argp++] = TypeInstPtr::NOTNULL;  \/\/ src\n+  domain_fields[argp++] = TypeInstPtr::NOTNULL;  \/\/ dst\n+  domain_fields[argp++] = TypeX_X;               \/\/ size lower\n+  LP64_ONLY(domain_fields[argp++] = Type::HALF); \/\/ size upper\n+  assert(argp == TypeFunc::Parms+argcnt, \"correct decoding\");\n+  const TypeTuple* const domain = TypeTuple::make(TypeFunc::Parms + argcnt, domain_fields);\n+\n+  \/\/ Create result type (range)\n+  const Type** const range_fields = TypeTuple::fields(0);\n+  const TypeTuple* const range = TypeTuple::make(TypeFunc::Parms + 0, range_fields);\n+\n+  return TypeFunc::make(domain, range);\n+}\n+\n+static inline const TypeFunc* clone_type() {\n+  assert(OptoRuntime::_clone_type_Type != nullptr, \"should be initialized\");\n+  return OptoRuntime::_clone_type_Type;\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/barrierSetC2.cpp","additions":22,"deletions":2,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -389,0 +389,2 @@\n+const TypeFunc* make_clone_type();\n+\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/barrierSetC2.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+#include \"gc\/shared\/c2\/barrierSetC2.hpp\"\n@@ -2182,19 +2183,0 @@\n-static const TypeFunc* make_clone_type_Type() {\n-  \/\/ Create input type (domain)\n-  int argcnt = NOT_LP64(3) LP64_ONLY(4);\n-  const Type** const domain_fields = TypeTuple::fields(argcnt);\n-  int argp = TypeFunc::Parms;\n-  domain_fields[argp++] = TypeInstPtr::NOTNULL;  \/\/ src\n-  domain_fields[argp++] = TypeInstPtr::NOTNULL;  \/\/ dst\n-  domain_fields[argp++] = TypeX_X;               \/\/ size lower\n-  LP64_ONLY(domain_fields[argp++] = Type::HALF); \/\/ size upper\n-  assert(argp == TypeFunc::Parms+argcnt, \"correct decoding\");\n-  const TypeTuple* const domain = TypeTuple::make(TypeFunc::Parms + argcnt, domain_fields);\n-\n-  \/\/ Create result type (range)\n-  const Type** const range_fields = TypeTuple::fields(0);\n-  const TypeTuple* const range = TypeTuple::make(TypeFunc::Parms + 0, range_fields);\n-\n-  return TypeFunc::make(domain, range);\n-}\n-\n@@ -2366,1 +2348,1 @@\n-  _clone_type_Type                    = make_clone_type_Type();\n+  _clone_type_Type                    = make_clone_type();\n","filename":"src\/hotspot\/share\/opto\/runtime.cpp","additions":2,"deletions":20,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -202,1 +202,0 @@\n-  static const TypeFunc* _clone_type_Type;\n@@ -236,0 +235,1 @@\n+  static const TypeFunc* _clone_type_Type;\n@@ -741,5 +741,0 @@\n-  static inline const TypeFunc* clone_type_Type() {\n-    assert(_clone_type_Type != nullptr, \"should be initialized\");\n-    return _clone_type_Type;\n-  }\n-\n","filename":"src\/hotspot\/share\/opto\/runtime.hpp","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"}]}
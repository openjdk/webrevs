{"files":[{"patch":"@@ -32,0 +32,1 @@\n+import java.lang.foreign.Arena;\n@@ -61,0 +62,1 @@\n+    \/\/ Must be indeterministic\n@@ -566,9 +568,16 @@\n-        boolean useDirect = rand.nextBoolean();\n-        if (useDirect) {\n-            ByteBuffer bb = ByteBuffer.allocateDirect(buf.length);\n-            bb.put(buf);\n-            bb.flip();\n-            return bb;\n-        } else {\n-            return ByteBuffer.wrap(buf);\n-        }\n+        return switch (rand.nextInt(3)) {\n+            case 0 -> {\n+                ByteBuffer bb = ByteBuffer.allocateDirect(buf.length);\n+                bb.put(buf);\n+                bb.flip();\n+                yield bb;\n+            }\n+            case 1 -> ByteBuffer.wrap(buf);\n+            case 2 -> {\n+                ByteBuffer bb = Arena.ofAuto().allocate(buf.length).asByteBuffer();\n+                bb.put(buf);\n+                bb.flip();\n+                yield bb;\n+            }\n+            default -> throw new InternalError(\"Should not reach here\");\n+        };\n","filename":"test\/jdk\/java\/nio\/channels\/AsynchronousFileChannel\/Basic.java","additions":18,"deletions":9,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import java.lang.foreign.Arena;\n@@ -49,1 +50,2 @@\n-    private static Random rand = new Random();\n+    \/\/ Must be indeterministic\n+    private static final Random rand = new Random();\n@@ -91,2 +93,6 @@\n-        ByteBuffer buf = rand.nextBoolean() ?\n-            ByteBuffer.allocate(100) : ByteBuffer.allocateDirect(100);\n+        final ByteBuffer buf = switch (rand.nextInt(3)) {\n+            case 0 -> ByteBuffer.allocate(100);\n+            case 1 -> ByteBuffer.allocateDirect(100);\n+            case 2 -> Arena.ofAuto().allocate(100).asByteBuffer();\n+            default -> throw new InternalError(\"Should not reach here\");\n+        };\n","filename":"test\/jdk\/java\/nio\/file\/attribute\/UserDefinedFileAttributeView\/Basic.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -487,1 +487,1 @@\n-    private static void releaseScope(ByteBuffer bb) {\n+    static void releaseScope(ByteBuffer bb) {\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/IOUtil.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    static final JavaNioAccess NIO_ACCESS = SharedSecrets.getJavaNioAccess();\n+    private static final JavaNioAccess NIO_ACCESS = SharedSecrets.getJavaNioAccess();\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/Util.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -451,1 +451,1 @@\n-                address = NIO_ACCESS.getBufferAddress(dst) + pos;\n+                address = IOUtil.bufferAddress(dst) + pos;\n@@ -455,1 +455,1 @@\n-                address = NIO_ACCESS.getBufferAddress(buf);\n+                address = IOUtil.bufferAddress(buf);\n@@ -459,1 +459,1 @@\n-            NIO_ACCESS.acquireSession(buf);\n+            IOUtil.acquireScope(buf, true);\n@@ -484,1 +484,1 @@\n-                NIO_ACCESS.releaseSession(buf);\n+                IOUtil.releaseScope(buf);\n@@ -634,1 +634,1 @@\n-                address = NIO_ACCESS.getBufferAddress(src) + pos;\n+                address = IOUtil.bufferAddress(src) + pos;\n@@ -642,1 +642,1 @@\n-                address = NIO_ACCESS.getBufferAddress(buf);\n+                address = IOUtil.bufferAddress(buf);\n@@ -645,1 +645,1 @@\n-            NIO_ACCESS.acquireSession(buf);\n+            IOUtil.acquireScope(buf, true);\n@@ -671,1 +671,1 @@\n-                NIO_ACCESS.releaseSession(buf);\n+                IOUtil.releaseScope(buf);\n","filename":"src\/java.base\/windows\/classes\/sun\/nio\/ch\/WindowsAsynchronousFileChannelImpl.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -292,1 +292,2 @@\n-                token.p11.C_DigestUpdate(session.id(), NIO_ACCESS.getBufferAddress(byteBuffer) + ofs, null, 0, len);\n+                final long address = NIO_ACCESS.getBufferAddress(byteBuffer);\n+                token.p11.C_DigestUpdate(session.id(), address + ofs, null, 0, len);\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Digest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -289,1 +289,2 @@\n-                token.p11.C_SignUpdate(session.id(), NIO_ACCESS.getBufferAddress(byteBuffer) + ofs, null, 0, len);\n+                final long address = NIO_ACCESS.getBufferAddress(byteBuffer);\n+                token.p11.C_SignUpdate(session.id(), address + ofs, null, 0, len);\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Mac.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
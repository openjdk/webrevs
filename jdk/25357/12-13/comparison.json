{"files":[{"patch":"@@ -325,0 +325,5 @@\n+#undef KELVIN_DEBUG\n+#ifdef KELVIN_DEBUG\n+  log_info(gc)(\"Topping off collection set\");\n+#endif\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -401,1 +401,1 @@\n-#define KELVIN_DEBUG\n+#undef KELVIN_DEBUG\n@@ -881,0 +881,6 @@\n+\n+#ifdef KELVIN_DEBUG\n+    log_info(gc)(\"About to prepare_to_rebuild(), young_reserve: %zu, old_reserve: %zu, promo_reserve: %zu\",\n+                   heap->young_generation()->get_evacuation_reserve(), heap->old_generation()->get_evacuation_reserve(), \n+                   heap->old_generation()->get_promoted_reserve());\n+#endif\n@@ -882,8 +888,4 @@\n-    if (heap->mode()->is_generational()) {\n-      ShenandoahGenerationalHeap* gen_heap = ShenandoahGenerationalHeap::heap();\n-      \/\/ We know that old is large enough to represent any evacuations that are directed to Old.  If we ended up budgeting\n-      \/\/ more memory for old than is required by the chosen collection set, this is our opportunity to transfer some\n-      \/\/ regions from old to mutator in order to expand the allocation runway.\n-      size_t mutator_xfer_limit = 0;\n-      gen_heap->compute_old_generation_balance(mutator_xfer_limit, old_cset_regions, young_cset_regions);\n-    }\n+#ifdef KELVIN_DEBUG\n+    log_info(gc)(\"After prepare_to_rebuild(), young_cset_regions: %zu, old_cset_regions: %zu, first_old: %zu, last_old: %zu, num_old: %zu\",\n+                 young_cset_regions, old_cset_regions, first_old, last_old, num_old);\n+#endif\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGeneration.cpp","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -598,1 +598,2 @@\n-\/\/ the maximum we're able to transfer from young to old.\n+\/\/ the maximum we're able to transfer from young to old.  This is called at the end of GC, as we prepare\n+\/\/ for the idle span that precedes the next GC.\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGenerationalHeap.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
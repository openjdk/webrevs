{"files":[{"patch":"@@ -115,1 +115,0 @@\n-ATTRIBUTE_NO_UBSAN\n@@ -129,2 +128,2 @@\n-      return -two54\/zero;             \/* log(+-0)=-inf *\/\n-    if (hx<0) return (x-x)\/zero;   \/* log(-#) = NaN *\/\n+      return -std::numeric_limits<double>::infinity();             \/* log(+-0)=-inf *\/\n+    if (hx<0) return std::numeric_limits<double>::quiet_NaN();   \/* log(-#) = NaN *\/\n@@ -212,1 +211,0 @@\n-ATTRIBUTE_NO_UBSAN\n@@ -226,2 +224,2 @@\n-      return -two54\/zero;             \/* log(+-0)=-inf *\/\n-    if (hx<0) return (x-x)\/zero;        \/* log(-#) = NaN *\/\n+      return -std::numeric_limits<double>::infinity();             \/* log(+-0)=-inf *\/\n+    if (hx<0) return std::numeric_limits<double>::quiet_NaN(); \/* log(-#) = NaN *\/\n@@ -519,1 +517,7 @@\n-      if(hy<0) z = one\/z;       \/* z = (1\/|x|) *\/\n+      if(hy<0) {\n+        if (z == 0.0) {\n+          z = std::numeric_limits<double>::quiet_NaN();\n+        } else {\n+          z = one\/z;       \/* z = (1\/|x|) *\/\n+        }\n+      }\n@@ -522,5 +526,1 @@\n-#ifdef CAN_USE_NAN_DEFINE\n-          z = NAN;\n-#else\n-          z = (z-z)\/(z-z); \/* (-1)**non-int is NaN *\/\n-#endif\n+          z = std::numeric_limits<double>::quiet_NaN();\n@@ -537,6 +537,3 @@\n-  if((n|yisint)==0)\n-#ifdef CAN_USE_NAN_DEFINE\n-    return NAN;\n-#else\n-    return (x-x)\/(x-x);\n-#endif\n+  if((n|yisint)==0) {\n+    return std::numeric_limits<double>::quiet_NaN();\n+  }\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntimeTrans.cpp","additions":15,"deletions":18,"binary":false,"changes":33,"status":"modified"}]}
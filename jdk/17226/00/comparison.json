{"files":[{"patch":"@@ -51,1 +51,1 @@\n-  bool _stop;\n+  bool volatile _stop;\n@@ -74,5 +74,0 @@\n-  bool is_stopped() const {\n-    assert(_lock->is_locked(), \"Must be\");\n-    return _stop;\n-  }\n-\n@@ -218,2 +213,0 @@\n-    \/\/ Don't pull lock during error reporting\n-    Mutex* const lock = VMError::is_error_reported() ? nullptr : _lock;\n@@ -224,1 +217,2 @@\n-      MutexLocker ml(lock, Mutex::_no_safepoint_check_flag);\n+      \/\/ Don't pull lock during error reporting\n+      ConditionalMutexLocker ml(_lock, !VMError::is_error_reported(), Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/runtime\/trimNativeHeap.cpp","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -0,0 +1,91 @@\n+\/*\n+ * Copyright (c) 2001, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4137282\n+ * @summary Tests that scrollbars appear automatically when the enclosed\n+ *          component is enlarged\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4137282\n+*\/\n+\n+import java.awt.BorderLayout;\n+import java.awt.Color;\n+import java.awt.Container;\n+import java.awt.Dimension;\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import javax.swing.JScrollPane;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+public class bug4137282 {\n+\n+    private static final String INSTRUCTIONS = \"\"\"\n+        Press the \"resize\" button. Two scrollbars should appear.\n+        Press Pass if they appear and Fail otherwise.\"\"\";\n+\n+    static volatile JPanel pane;\n+\n+    public static void main(String[] args) throws Exception {\n+\n+         PassFailJFrame.builder()\n+                .title(\"JViewport Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .rows(5)\n+                .columns(30)\n+                .testUI(bug4137282::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createTestUI() {\n+        pane = new JPanel();\n+\n+        pane.setBackground(Color.blue);\n+        setPaneSize(100, 100);\n+        JFrame frame = new JFrame(\"bug4137282\");\n+        JScrollPane sp = new JScrollPane(pane);\n+\n+        JButton b = new JButton(\"resize\");\n+        b.addActionListener(new ActionListener() {\n+                public void actionPerformed(ActionEvent ev) {\n+                    setPaneSize(300, 300);\n+                }\n+            });\n+\n+        Container content = frame.getContentPane();\n+        content.add(b, BorderLayout.NORTH);\n+        content.add(sp, BorderLayout.CENTER);\n+        frame.pack();\n+        return frame;\n+    }\n+\n+    static void setPaneSize(int w, int h) {\n+        pane.setPreferredSize(new Dimension(w, h));\n+        pane.setSize(w, h);\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JViewport\/bug4137282.java","additions":91,"deletions":0,"binary":false,"changes":91,"status":"added"},{"patch":"@@ -0,0 +1,103 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4217252\n+ * @summary Tests\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4217252\n+*\/\n+\n+import java.awt.BorderLayout;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.awt.Rectangle;\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTable;\n+import javax.swing.table.AbstractTableModel;\n+\n+public class bug4217252 {\n+\n+    private static final String INSTRUCTIONS = \"\"\"\n+        Click on the 'Scroll' button and then click it again.\n+        If you see row 98 and 99 twice, then test failed, otherwise it passed.\"\"\";\n+\n+    static class TestModel extends AbstractTableModel {\n+\n+        public String getColumnName(int column) {\n+            return Integer.toString(column);\n+        }\n+\n+        public int getRowCount() {\n+                return 100;\n+        }\n+\n+        public int getColumnCount() {\n+                return 5;\n+        }\n+\n+        public Object getValueAt(int row, int col) {\n+                return row + \" x \" + col;\n+        }\n+\n+        public boolean isCellEditable(int row, int column) { return false; }\n+\n+        public void setValueAt(Object value, int row, int col) { }\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+\n+         PassFailJFrame.builder()\n+                .title(\"JViewport Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .rows(5)\n+                .columns(30)\n+                .testUI(bug4217252::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createTestUI(){\n+        JFrame frame = new JFrame(\"bug4217252\");\n+        final JTable table = new JTable(new TestModel());\n+        JButton scrollButton = new JButton(\"Scroll\");\n+        scrollButton.addActionListener(new ActionListener() {\n+            public void actionPerformed(ActionEvent ae) {\n+                Rectangle bounds = table.getBounds();\n+                bounds.y = bounds.height + table.getRowHeight();\n+                bounds.height = table.getRowHeight();\n+                table.scrollRectToVisible(bounds);\n+            }\n+        });\n+        frame.getContentPane().add(new JScrollPane(table),\n+                                   BorderLayout.CENTER);\n+        frame.getContentPane().add(scrollButton, BorderLayout.SOUTH);\n+        frame.pack();\n+        return frame;\n+    }\n+\n+}\n","filename":"test\/jdk\/javax\/swing\/JViewport\/bug4217252.java","additions":103,"deletions":0,"binary":false,"changes":103,"status":"added"},{"patch":"@@ -0,0 +1,70 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4237176\n+ * @summary Tests that background color is set properly for JViewport\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4237176\n+ *\/\n+\n+import java.awt.Color;\n+import javax.swing.JFrame;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTable;\n+import javax.swing.JViewport;\n+\n+public class bug4237176 {\n+\n+    private static final String INSTRUCTIONS = \"\"\"\n+        Look at the empty space below the table. It should be blue.\n+        If it is, test passes, otherwise it fails.\"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+\n+         PassFailJFrame.builder()\n+                .title(\"JViewport Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .rows(5)\n+                .columns(30)\n+                .testUI(bug4237176::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createTestUI() {\n+        JFrame frame = new JFrame(\"Color Demo\");\n+        JTable table = new JTable(new Object[][]{{\"one\", \"two\"}}, new Object[]{\"A\", \"B\"});\n+        JScrollPane sp = new JScrollPane(table);\n+        JViewport vp = sp.getViewport();\n+        vp.setBackground(Color.blue);\n+        vp.setOpaque(true);\n+\n+        frame.getContentPane().add(sp);\n+        frame.pack();\n+        return frame;\n+    }\n+\n+}\n","filename":"test\/jdk\/javax\/swing\/JViewport\/bug4237176.java","additions":70,"deletions":0,"binary":false,"changes":70,"status":"added"},{"patch":"@@ -0,0 +1,96 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4243479\n+ * @summary Tests that JViewport do not blit when not visible\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+   @run main\/manual bug4243479\n+*\/\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.awt.FlowLayout;\n+import java.awt.Point;\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTabbedPane;\n+import javax.swing.JTextArea;\n+import javax.swing.JViewport;\n+\n+public class bug4243479 {\n+    private static final String INSTRUCTIONS = \"\"\"\n+        The tabbed pane contains two tabs: \"button\" and \"scrollpane\".\n+        The second contains some text inserted into a scrollpane.\n+        Press the \"Press here\" button.\n+        If a piece of scrollpane appears, press Fail else press Pass.\"\"\";\n+\n+    private static JFrame createTestUI() {\n+        char[] text = new char[20000];\n+        for (int counter = 0; counter < text.length; counter++) {\n+            if (counter % 80 == 0) {\n+                text[counter] = '\\n';\n+            }\n+            else {\n+                text[counter] = 'a';\n+            }\n+        }\n+        JScrollPane sp = new JScrollPane(new JTextArea\n+                                               (new String(text)));\n+        final JViewport vp = sp.getViewport();\n+        vp.putClientProperty(\"EnableWindowBlit\", Boolean.TRUE);\n+        JTabbedPane tp = new JTabbedPane();\n+        JPanel panel = new JPanel(new FlowLayout());\n+        JButton button = new JButton(\"Press here\");\n+        button.addActionListener(new ActionListener() {\n+            public void actionPerformed(ActionEvent ae) {\n+                Point location = vp.getViewPosition();\n+                location.y += 100;\n+                vp.setViewPosition(location);\n+            }\n+        });\n+        panel.add(button);\n+        tp.add(\"button\", panel);\n+        tp.add(\"scrollpane\", sp);\n+        JFrame frame = new JFrame(\"4243479 Test\");\n+        frame.getContentPane().add(tp);\n+        frame.pack();\n+        return frame;\n+    }\n+\n+    public static void main(String[] argv) throws Exception {\n+         PassFailJFrame.builder()\n+                .title(\"JViewport Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .rows(5)\n+                .columns(30)\n+                .position(PassFailJFrame.Position.TOP_LEFT_CORNER)\n+                .testUI(bug4243479::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JViewport\/bug4243479.java","additions":96,"deletions":0,"binary":false,"changes":96,"status":"added"},{"patch":"@@ -0,0 +1,69 @@\n+\/*\n+ * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4750421\n+ * @summary 4143833 - regression in 1.4.x\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4750421\n+*\/\n+\n+import javax.swing.JFrame;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTable;\n+import javax.swing.JViewport;\n+\n+public class bug4750421 {\n+\n+    private static final String INSTRUCTIONS = \"\"\"\n+        A table will be shown.\n+        Select the third row of the table.\n+        Then press down arrow button of vertical scrollbar to scroll down.\n+            (in macos drag the vertical scrollbar down via mouse just enough\n+            to scroll by 1 unit as there is no arrow button in scrollbar)\n+        If the selection disappears press Fail else press Pass.\"\"\";\n+\n+    private static JFrame createTestUI() {\n+        JFrame frame = new JFrame(\"bug4750421\");\n+        JTable table = new JTable(30, 10);\n+        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n+        JScrollPane pane = new JScrollPane(table);\n+        frame.getContentPane().add(pane);\n+        pane.getViewport().setScrollMode(JViewport.BACKINGSTORE_SCROLL_MODE);\n+        frame.pack();\n+        return frame;\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+                .title(\"JViewport Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .rows(7)\n+                .columns(35)\n+                .testUI(bug4750421::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JViewport\/bug4750421.java","additions":69,"deletions":0,"binary":false,"changes":69,"status":"added"}]}
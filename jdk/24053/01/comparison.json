{"files":[{"patch":"@@ -266,1 +266,1 @@\n-    if (VM_Version::supports_avx512dq()) {\n+    if (VM_Version::supports_avx512_simd_sort()) {\n","filename":"src\/hotspot\/cpu\/x86\/matcher_x86.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4318,1 +4318,1 @@\n-  if (VM_Version::is_intel() && (VM_Version::supports_avx512dq() || VM_Version::supports_avx2())) {\n+  if (VM_Version::supports_avx512dq() || VM_Version::supports_avx2()) {\n@@ -4329,1 +4329,1 @@\n-      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512dq() ? \"avx512_sort\" : \"avx2_sort\");\n+      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512_simd_sort() ? \"avx512_sort\" : \"avx2_sort\");\n@@ -4332,1 +4332,1 @@\n-      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512dq() ? \"avx512_partition\" : \"avx2_partition\");\n+      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512_simd_sort() ? \"avx512_partition\" : \"avx2_partition\");\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -435,0 +435,2 @@\n+    CPU_FAMILY_AMD_17H       = 0x17, \/* Zen1 & Zen2 *\/\n+    CPU_FAMILY_AMD_19H       = 0x19, \/* Zen3 & Zen4 *\/\n@@ -774,0 +776,4 @@\n+  static bool supports_avx512_simd_sort() {\n+    \/\/  Disable AVX512 version of SIMD Sort on AMD Zen4 Processors\n+    return ((is_intel() || (is_amd() && (cpu_family() > CPU_FAMILY_AMD_19H))) && supports_avx512dq()); }\n+\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.hpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}
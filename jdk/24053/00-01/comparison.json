{"files":[{"patch":"@@ -266,2 +266,1 @@\n-    if ((VM_Version::is_intel() || (VM_Version::is_amd() && (VM_Version::cpu_family() > 0x19)))\n-        && VM_Version::supports_avx512dq()) {\n+    if (VM_Version::supports_avx512_simd_sort()) {\n","filename":"src\/hotspot\/cpu\/x86\/matcher_x86.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4329,3 +4329,1 @@\n-      snprintf(ebuf_, sizeof(ebuf_),\n-               ((VM_Version::is_intel() || (VM_Version::is_amd() && (VM_Version::cpu_family() > 0x19)))\n-                && VM_Version::supports_avx512dq()) ? \"avx512_sort\" : \"avx2_sort\");\n+      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512_simd_sort() ? \"avx512_sort\" : \"avx2_sort\");\n@@ -4334,3 +4332,1 @@\n-      snprintf(ebuf_, sizeof(ebuf_),\n-               ((VM_Version::is_intel() || (VM_Version::is_amd() && (VM_Version::cpu_family() > 0x19)))\n-                && VM_Version::supports_avx512dq()) ? \"avx512_partition\" : \"avx2_partition\");\n+      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512_simd_sort() ? \"avx512_partition\" : \"avx2_partition\");\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -435,0 +435,2 @@\n+    CPU_FAMILY_AMD_17H       = 0x17, \/* Zen1 & Zen2 *\/\n+    CPU_FAMILY_AMD_19H       = 0x19, \/* Zen3 & Zen4 *\/\n@@ -774,0 +776,4 @@\n+  static bool supports_avx512_simd_sort() {\n+    \/\/  Disable AVX512 version of SIMD Sort on AMD Zen4 Processors\n+    return ((is_intel() || (is_amd() && (cpu_family() > CPU_FAMILY_AMD_19H))) && supports_avx512dq()); }\n+\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.hpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}
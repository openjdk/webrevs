{"files":[{"patch":"@@ -266,1 +266,2 @@\n-    if (VM_Version::supports_avx512dq()) {\n+    if ((VM_Version::is_intel() || (VM_Version::is_amd() && (VM_Version::cpu_family() > 0x19)))\n+        && VM_Version::supports_avx512dq()) {\n","filename":"src\/hotspot\/cpu\/x86\/matcher_x86.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4318,1 +4318,1 @@\n-  if (VM_Version::is_intel() && (VM_Version::supports_avx512dq() || VM_Version::supports_avx2())) {\n+  if (VM_Version::supports_avx512dq() || VM_Version::supports_avx2()) {\n@@ -4329,1 +4329,3 @@\n-      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512dq() ? \"avx512_sort\" : \"avx2_sort\");\n+      snprintf(ebuf_, sizeof(ebuf_),\n+               ((VM_Version::is_intel() || (VM_Version::is_amd() && (VM_Version::cpu_family() > 0x19)))\n+                && VM_Version::supports_avx512dq()) ? \"avx512_sort\" : \"avx2_sort\");\n@@ -4332,1 +4334,3 @@\n-      snprintf(ebuf_, sizeof(ebuf_), VM_Version::supports_avx512dq() ? \"avx512_partition\" : \"avx2_partition\");\n+      snprintf(ebuf_, sizeof(ebuf_),\n+               ((VM_Version::is_intel() || (VM_Version::is_amd() && (VM_Version::cpu_family() > 0x19)))\n+                && VM_Version::supports_avx512dq()) ? \"avx512_partition\" : \"avx2_partition\");\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}
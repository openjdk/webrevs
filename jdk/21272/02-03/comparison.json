{"files":[{"patch":"@@ -1002,3 +1002,3 @@\n-    var testOnlyProfilesPrebuiltDocs = clone(testOnlyProfilesPrebuilt);\n-    testOnlyProfilesPrebuiltDocs[\"run-test-prebuilt-docs\"] = testOnlyProfilesPrebuiltDocs[\"run-test-prebuilt\"];\n-    delete testOnlyProfilesPrebuiltDocs[\"run-test-prebuilt\"];\n+    var testOnlyProfilesPrebuiltDocs = {\n+        \"run-test-prebuilt-docs\": clone(testOnlyProfilesPrebuilt[\"run-test-prebuilt\"])\n+    };\n@@ -1033,0 +1033,28 @@\n+    \/\/ On macosx add the devkit bin dir to the path in all the run-test profiles.\n+    \/\/ This gives us a guaranteed working version of lldb for the jtreg failure handler.\n+    if (input.build_os == \"macosx\") {\n+        macosxRunTestExtra = {\n+            dependencies: [ \"lldb\" ],\n+            environment_path: [\n+                input.get(\"gnumake\", \"install_path\") + \"\/bin\",\n+                input.get(\"lldb\", \"install_path\") + \"\/Xcode\/Contents\/Developer\/usr\/bin\",\n+            ],\n+        };\n+        profiles[\"run-test\"] = concatObjects(profiles[\"run-test\"], macosxRunTestExtra);\n+        profiles[\"run-test-prebuilt\"] = concatObjects(profiles[\"run-test-prebuilt\"], macosxRunTestExtra);\n+    } else if (input.build_os == \"windows\") {\n+        \/\/ On windows, add the devkit debugger to the path in all the run-test profiles\n+        \/\/ to make them available to the jtreg failure handler.\n+        var archDir = \"x64\";\n+        if (input.build_arch == \"aarch64\") {\n+            archDir = \"arm64\"\n+        }\n+        windowsRunTestExtra = {\n+            environment_path: [\n+                input.get(\"devkit\", \"install_path\") + \"\/10\/Debuggers\/\" + archDir\n+            ]\n+        }\n+        profiles[\"run-test\"] = concatObjects(profiles[\"run-test\"], windowsRunTestExtra);\n+        profiles[\"run-test-prebuilt\"] = concatObjects(profiles[\"run-test-prebuilt\"], windowsRunTestExtra);\n+    }\n+\n","filename":"make\/conf\/jib-profiles.js","additions":31,"deletions":3,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-import tester.DocTester;\n+import java.nio.file.Files;\n@@ -37,1 +37,4 @@\n-        System.err.println(docs);\n+        System.err.println(\"path to docs is: \" + docs);\n+        System.err.println(\"Do docs exits?\");\n+        System.err.println(Files.exists(docs));\n+        System.err.println(\"End of test\");\n","filename":"test\/docs\/jdk\/javadoc\/TestDocs.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -24,1 +24,0 @@\n-package tester;\n","filename":"test\/docs\/tools\/tester\/DocTester.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -2349,6 +2349,12 @@\n-      while (repeat_compilation_count > 0) {\n-        ResourceMark rm(thread);\n-        task->print_ul(\"NO CODE INSTALLED\");\n-        thread->timeout()->reset();\n-        comp->compile_method(&ci_env, target, osr_bci, false, directive);\n-        repeat_compilation_count--;\n+      if (repeat_compilation_count > 0) {\n+        CHeapStringHolder failure_reason;\n+        failure_reason.set(ci_env._failure_reason.get());\n+        while (repeat_compilation_count > 0) {\n+          ResourceMark rm(thread);\n+          task->print_ul(\"NO CODE INSTALLED\");\n+          thread->timeout()->reset();\n+          ci_env._failure_reason.clear();\n+          comp->compile_method(&ci_env, target, osr_bci, false, directive);\n+          repeat_compilation_count--;\n+        }\n+        ci_env._failure_reason.set(failure_reason.get());\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -284,1 +284,3 @@\n-                outputFilesWritten = new HashSet<>();\n+                synchronized (this) {\n+                    outputFilesWritten = new HashSet<>();\n+                }\n@@ -479,0 +481,5 @@\n+    public synchronized void resetOutputFilesWritten() {\n+        if (outputFilesWritten != null)\n+            outputFilesWritten.clear();\n+    }\n+\n@@ -529,0 +536,1 @@\n+    \/\/ Note: individual files can be accessed concurrently, so we synchronize here\n@@ -535,15 +543,7 @@\n-        \/\/ Individual files can be access concurrently, so synchronize here\n-        synchronized (this) {\n-\n-            \/\/ Get the \"canonical\" version of the file's path; we are assuming\n-            \/\/ here that two clashing files will resolve to the same real path.\n-            Path realPath;\n-            try {\n-                realPath = path.toRealPath();\n-            } catch (NoSuchFileException e) {\n-                return;         \/\/ should never happen except on broken filesystems\n-            }\n-\n-            \/\/ Check whether we've already opened this file for output\n-            if (!outputFilesWritten.add(realPath))\n-                throw new IOException(\"output file clash: \" + path);\n+        \/\/ Get the \"canonical\" version of the file's path; we are assuming\n+        \/\/ here that two clashing files will resolve to the same real path.\n+        Path realPath;\n+        try {\n+            realPath = path.toRealPath();\n+        } catch (NoSuchFileException e) {\n+            return;         \/\/ should never happen except on broken filesystems\n@@ -551,0 +551,4 @@\n+\n+        \/\/ Check whether we've already opened this file for output\n+        if (!outputFilesWritten.add(realPath))\n+            throw new IOException(\"output file clash: \" + path);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/file\/BaseFileManager.java","additions":20,"deletions":16,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -741,0 +741,1 @@\n+        resetOutputFilesWritten();\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/file\/JavacFileManager.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
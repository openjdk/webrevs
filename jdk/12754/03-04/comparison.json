{"files":[{"patch":"@@ -59,0 +59,1 @@\n+import com.sun.tools.javac.code.Lint.LintCategory;\n@@ -63,0 +64,1 @@\n+import com.sun.tools.javac.resources.CompilerProperties.Warnings;\n@@ -551,1 +553,1 @@\n-            throw new IOException(\"output file clash: \" + path);\n+            log.warning(LintCategory.OUTPUT_FILE_CLASH, Warnings.OutputFileClash(path));\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/file\/BaseFileManager.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1614,0 +1614,4 @@\n+# 0: path\n+compiler.warn.output.file.clash=\\\n+    output file clash: {0}\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/compiler.properties","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-            \"^Test\\\\.java:(3:9|6:9): compiler\\\\.err\\\\.class\\\\.cant\\\\.write: (ABC|Abc), output file clash: .*Test\\\\$1(ABC|Abc)\\\\.class$\");\n+            \"- compiler.warn.output.file.clash: .*Test\\\\$1(ABC|Abc)\\\\.class\");\n@@ -95,1 +95,1 @@\n-            \"Test\\\\.java:(3:9|4:10): compiler\\\\.err\\\\.class\\\\.cant\\\\.write: Test\\\\.Annotation\\\\.(foo|Foo), output file clash: .*Test\\\\$Annotation\\\\$(foo|Foo)\\\\.class$\");\n+            \"- compiler.warn.output.file.clash: .*Test\\\\$Annotation\\\\$(foo|Foo)\\\\.class\");\n@@ -109,1 +109,1 @@\n-            \"Test\\\\.java:(2:5|4:5): compiler\\\\.err\\\\.class\\\\.cant\\\\.write: Test.Caf.*, output file clash: .*Test\\\\$Caf.*\\\\.class$\");\n+            \"- compiler.warn.output.file.clash: .*Test\\\\$Caf.*\\\\.class\");\n@@ -122,1 +122,1 @@\n-                .options(\"-XDrawDiagnostics\", \"-Xlint:output-file-clash\")\n+                .options(\"-XDrawDiagnostics\", \"-Werror\", \"-Xlint:output-file-clash\")\n","filename":"test\/langtools\/tools\/javac\/file\/OutputFileClashTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
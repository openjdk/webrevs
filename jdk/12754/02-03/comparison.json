{"files":[{"patch":"@@ -243,0 +243,5 @@\n+        \/**\n+         * Warn when any output file is written to more than once.\n+         *\/\n+        OUTPUT_FILE_CLASH(\"output-file-clash\"),\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Lint.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-        \/\/ Avoid initializing Lint\n+        \/\/ Detect Lint options, but use Options.isLintSet() to avoid initializing the Lint class\n@@ -95,0 +95,3 @@\n+        synchronized (this) {\n+            outputFilesWritten = options.isLintSet(\"output-file-clash\") ? new HashSet<>() : null;\n+        }\n@@ -283,6 +286,0 @@\n-            case DETECT_OUTPUT_FILE_CLASHES:\n-                synchronized (this) {\n-                    outputFilesWritten = new HashSet<>();\n-                }\n-                return true;\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/file\/BaseFileManager.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -616,2 +616,0 @@\n-    DETECT_OUTPUT_FILE_CLASHES(\"--detect-output-file-clashes\", \"opt.detect.output.file.clashes\", EXTENDED, FILEMANAGER),\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/main\/Option.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -224,0 +224,4 @@\n+javac.opt.Xlint.desc.output-file-clash=\\\n+    Warn when an output file is overwritten during compilation. This can occur, for example,\\n\\\n+\\                         on case-insensitive filesystems. Covers class files, native header files, and source files.\n+\n@@ -360,3 +364,0 @@\n-javac.opt.detect.output.file.clashes=\\\n-    Generate an error if any output file is overwritten during compilation. This can occur, for example,\\n\\\n-    on case-insensitive filesystems. This applies to class files, native header files, and source files.\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/javac.properties","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -739,0 +739,3 @@\n+\\f[V]output-file-clash\\f[R]: Warns if any output file is overwritten during compilation.\n+This can occur, for example, on case-insensitive filesystems.\n+.IP \\[bu] 2\n","filename":"src\/jdk.compiler\/share\/man\/javac.1","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @summary Verify proper function of the \"--detect-output-file-clashes\" compiler flag\n+ * @summary Verify proper function of the \"output-file-clash\" lint flag\n@@ -121,2 +121,2 @@\n-        List<String> log = new JavacTask(tb)\n-                .options(\"-XDrawDiagnostics\", \"--detect-output-file-clashes\")\n+        List<String> log = new JavacTask(tb, Task.Mode.CMDLINE)\n+                .options(\"-XDrawDiagnostics\", \"-Xlint:output-file-clash\")\n","filename":"test\/langtools\/tools\/javac\/file\/OutputFileClashTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -39,6 +39,8 @@\n-\/\/ - Original loop -> true-path-loop: The true-path of the invariant, non-loop-exiting test in the original loop\n-\/\/                                    is kept while the false-path is killed. We call this unswitched loop version\n-\/\/                                    the true-path-loop.\n-\/\/ - Cloned loop -> False-path-loop:  The false-path of the invariant, non-loop-exiting test in the cloned loop\n-\/\/                                    is kept while the true-path is killed. We call this unswitched loop version\n-\/\/                                    the false-path loop.\n+\/\/ - Original loop -> true-path-loop:\n+\/\/        The true-path of the invariant, non-loop-exiting test in the original loop\n+\/\/        is kept while the false-path is killed. We call this unswitched loop version\n+\/\/        the true-path-loop.\n+\/\/ - Cloned loop -> false-path-loop:\n+\/\/        The false-path of the invariant, non-loop-exiting test in the cloned loop\n+\/\/        is kept while the true-path is killed. We call this unswitched loop version\n+\/\/        the false-path loop.\n@@ -54,1 +56,2 @@\n-\/\/ The following graph summarizes the Loop Unswitching optimization:\n+\/\/ The following graphs summarizes the Loop Unswitching optimization.\n+\/\/ We start with the original loop:\n@@ -56,15 +59,30 @@\n-\/\/                                                                    [Initialized Assertion Predicates]\n-\/\/                                                                                    |\n-\/\/    [Predicates]                                                         loop selector If (invariant-test)\n-\/\/         |                                                                  \/                   \\\n-\/\/    Original Loop                                                       true?                  false?\n-\/\/      stmt1                                                             \/                         \\\n-\/\/      if (invariant-test)           UNSWITCHED              [Cloned Parse Predicates]         [Cloned Parse Predicates]\n-\/\/        if-path                     =========>              [Cloned Template                  [Cloned Template\n-\/\/      else                                                   Assertion Predicates]             Assertion Predicates]\n-\/\/        [else-path]                                               |                                  |\n-\/\/      stmt2                                                 True-Path-Loop                    False-Path-Loop\n-\/\/    Endloop                                                   cloned stmt1                      cloned stmt1\n-\/\/                                                              cloned if-path                    cloned else-path\n-\/\/                                                              cloned stmt2                      cloned stmt2\n-\/\/                                                            Endloop                           Endloop\n+\/\/                       [Predicates]\n+\/\/                            |\n+\/\/                       Original Loop\n+\/\/                         stmt1\n+\/\/                         if (invariant-test)\n+\/\/                           if-path\n+\/\/                         else\n+\/\/                           else-path\n+\/\/                         stmt2\n+\/\/                       Endloop\n+\/\/\n+\/\/\n+\/\/ which is unswitched into a true-path-loop and a false-path-loop together with a loop selector:\n+\/\/\n+\/\/\n+\/\/            [Initialized Assertion Predicates]\n+\/\/                            |\n+\/\/                 loop selector If (invariant-test)\n+\/\/                    \/                   \\\n+\/\/                true?                  false?\n+\/\/                \/                         \\\n+\/\/    [Cloned Parse Predicates]         [Cloned Parse Predicates]\n+\/\/    [Cloned Template                  [Cloned Template\n+\/\/     Assertion Predicates]             Assertion Predicates]\n+\/\/          |                                  |\n+\/\/    True-Path-Loop                    False-Path-Loop\n+\/\/      cloned stmt1                      cloned stmt1\n+\/\/      cloned if-path                    cloned else-path\n+\/\/      cloned stmt2                      cloned stmt2\n+\/\/    Endloop                           Endloop\n","filename":"src\/hotspot\/share\/opto\/loopUnswitch.cpp","additions":40,"deletions":22,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -774,1 +774,2 @@\n-  \/\/ Return the strip mined loop tree if there is an outer strip mined loop. Otherwise, return this.\n+  \/\/ Return the parent's IdealLoopTree for a strip mined loop which is the outer strip mined loop.\n+  \/\/ In all other cases, return this.\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
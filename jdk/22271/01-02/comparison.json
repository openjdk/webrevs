{"files":[{"patch":"@@ -51,0 +51,2 @@\n+    private InputStream cmdIn = null;\n+    private OutputStream cmdOut = null;\n@@ -75,0 +77,6 @@\n+    private synchronized void doConnect(final String host, final int port, final int timeout) throws IOException {\n+        delegate.connect(new InetSocketAddress(host, port), timeout);\n+        cmdIn = getInputStream();\n+        cmdOut = getOutputStream();\n+    }\n+\n@@ -288,1 +296,1 @@\n-                    delegate.connect(new InetSocketAddress(server, serverPort), remainingMillis(deadlineMillis));\n+                    doConnect(server, serverPort, remainingMillis(deadlineMillis));\n@@ -312,1 +320,1 @@\n-                delegate.connect(new InetSocketAddress(server, serverPort), remainingMillis(deadlineMillis));\n+                doConnect(server, serverPort, remainingMillis(deadlineMillis));\n@@ -318,2 +326,3 @@\n-        BufferedOutputStream out = new BufferedOutputStream(getOutputStream(), 512);\n-        InputStream in = getInputStream();\n+        \/\/ `cmdIn` & `cmdOut` were initialized during the `doConnect()` call\n+        BufferedOutputStream out = new BufferedOutputStream(cmdOut, 512);\n+        InputStream in = cmdIn;\n","filename":"src\/java.base\/share\/classes\/java\/net\/SocksSocketImpl.java","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"}]}
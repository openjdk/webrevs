{"files":[{"patch":"@@ -228,31 +228,1 @@\n-  assert((idx >= 0) && (idx < _max), \"Range must span legal index values\");\n-  if (idx == leftmost(partition)) {\n-    assert (!_membership[int(partition)].is_set(idx), \"Do not shrink interval if region not removed\");\n-    if (idx + 1 == _max) {\n-      _leftmosts[int(partition)] = _max;\n-    } else {\n-      _leftmosts[int(partition)] = find_index_of_next_available_region(partition, idx + 1);\n-    }\n-    if (leftmost_empty(partition) < leftmost(partition)) {\n-      \/\/ This gets us closer to where we need to be; we'll scan further when leftmosts_empty is requested.\n-      _leftmosts_empty[int(partition)] = leftmost(partition);\n-    }\n-  }\n-  if (idx == rightmost(partition)) {\n-    assert (!_membership[int(partition)].is_set(idx), \"Do not shrink interval if region not removed\");\n-    if (idx == 0) {\n-      _rightmosts[int(partition)] = -1;\n-    } else {\n-      _rightmosts[int(partition)] = find_index_of_previous_available_region(partition, idx - 1);\n-    }\n-    if (rightmost_empty(partition) > rightmost(partition)) {\n-      \/\/ This gets us closer to where we need to be; we'll scan further when rightmosts_empty is requested.\n-      _rightmosts_empty[int(partition)] = rightmost(partition);\n-    }\n-  }\n-  if (leftmost(partition) > rightmost(partition)) {\n-    _leftmosts[int(partition)] = _max;\n-    _rightmosts[int(partition)] = -1;\n-    _leftmosts_empty[int(partition)] = _max;\n-    _rightmosts_empty[int(partition)] = -1;\n-  }\n+  shrink_interval_if_range_modifies_either_boundary(partition, idx, idx);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.cpp","additions":1,"deletions":31,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -83,0 +83,1 @@\n+  \/\/ Shrink the intervals associated with partition when region idx is removed from this free set\n@@ -84,0 +85,2 @@\n+\n+  \/\/ Shrink the intervals associated with partition when regions low_idx through high_idx inclusive are removed from this free set\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
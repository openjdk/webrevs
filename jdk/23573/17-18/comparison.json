{"files":[{"patch":"@@ -86,3 +86,2 @@\n-      if (trampoline != nullptr) {\n-        x = call->get_trampoline();\n-      }\n+      guarantee(trampoline != nullptr, \"Must have trampoline for far call\");\n+      x = trampoline;\n","filename":"src\/hotspot\/cpu\/aarch64\/relocInfo_aarch64.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -770,1 +770,1 @@\n-  assert(SafepointSynchronize::is_at_safepoint() || is_not_installed(), \"clearing of IC's only allowed at safepoint\");\n+  assert(SafepointSynchronize::is_at_safepoint() || is_not_installed(), \"clearing of IC's only allowed at safepoint or when not installed\");\n@@ -1160,3 +1160,3 @@\n-    + align_up((int)dependencies->size_in_bytes(), oopSize)\n-    + align_up(handler_table->size_in_bytes()    , oopSize)\n-    + align_up(nul_chk_table->size_in_bytes()    , oopSize)\n+    + align_up((int)dependencies->size_in_bytes()     , oopSize)\n+    + align_up(handler_table->size_in_bytes()         , oopSize)\n+    + align_up(nul_chk_table->size_in_bytes()         , oopSize)\n@@ -1164,1 +1164,1 @@\n-    + align_up(speculations_len                  , oopSize)\n+    + align_up(speculations_len                       , oopSize)\n@@ -1166,2 +1166,2 @@\n-    + align_up(debug_info->data_size()           , oopSize)\n-    + align_up((int)sizeof(int)                  , oopSize);\n+    + align_up(debug_info->data_size()                , oopSize)\n+    + align_up((int)sizeof(IMMUTABLE_DATA_REFERENCES) , oopSize);\n@@ -1758,1 +1758,1 @@\n-    DEBUG_ONLY( int immutable_data_end_offset = _speculations_offset + align_up(speculations_len, oopSize) + align_up((int)sizeof(int), oopSize); )\n+    DEBUG_ONLY( int immutable_data_end_offset = _speculations_offset + align_up(speculations_len, oopSize) + align_up((int)sizeof(IMMUTABLE_DATA_REFERENCES), oopSize); )\n@@ -1760,1 +1760,1 @@\n-    DEBUG_ONLY( int immutable_data_end_offset = _scopes_data_offset + align_up(debug_info->data_size(), oopSize) + align_up((int)sizeof(int), oopSize); )\n+    DEBUG_ONLY( int immutable_data_end_offset = _scopes_data_offset + align_up(debug_info->data_size(), oopSize) + align_up((int)sizeof(IMMUTABLE_DATA_REFERENCES), oopSize); )\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -28,0 +28,2 @@\n+#define IMMUTABLE_DATA_REFERENCES   int\n+\n@@ -575,1 +577,1 @@\n-  address speculations_end      () const { return           immutable_data_end() - sizeof(int)     ; }\n+  address speculations_end      () const { return           immutable_data_end() - sizeof(IMMUTABLE_DATA_REFERENCES) ; }\n@@ -577,1 +579,1 @@\n-  address scopes_data_end       () const { return           immutable_data_end() - sizeof(int)     ; }\n+  address scopes_data_end       () const { return           immutable_data_end() - sizeof(IMMUTABLE_DATA_REFERENCES) ; }\n@@ -580,1 +582,1 @@\n-  address immutable_data_references_begin () const { return immutable_data_end() - sizeof(int)     ; }\n+  address immutable_data_references_begin () const { return immutable_data_end() - sizeof(IMMUTABLE_DATA_REFERENCES) ; }\n","filename":"src\/hotspot\/share\/code\/nmethod.hpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+ * @requires vm.gc.Serial\n@@ -42,0 +43,1 @@\n+ * @requires vm.gc.Parallel\n@@ -53,0 +55,1 @@\n+ * @requires vm.gc.G1\n@@ -64,0 +67,1 @@\n+ * @requires vm.gc.Shenandoah\n@@ -75,0 +79,1 @@\n+ * @requires vm.gc.Z\n","filename":"test\/hotspot\/jtreg\/compiler\/whitebox\/DeoptimizeRelocatedNMethod.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+ * @requires vm.gc.Serial\n@@ -47,0 +48,1 @@\n+ * @requires vm.gc.Parallel\n@@ -61,0 +63,1 @@\n+ * @requires vm.gc.G1\n@@ -75,0 +78,1 @@\n+ * @requires vm.gc.Shenandoah\n@@ -89,0 +93,1 @@\n+ * @requires vm.gc.Z\n","filename":"test\/hotspot\/jtreg\/compiler\/whitebox\/RelocateNMethod.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+ * @requires vm.gc.Serial\n@@ -43,0 +44,1 @@\n+ * @requires vm.gc.Serial\n@@ -57,0 +59,1 @@\n+ * @requires vm.gc.Parallel\n@@ -71,0 +74,1 @@\n+ * @requires vm.gc.Parallel\n@@ -85,0 +89,1 @@\n+ * @requires vm.gc.G1\n@@ -99,0 +104,1 @@\n+ * @requires vm.gc.G1\n@@ -113,0 +119,1 @@\n+ * @requires vm.gc.Shenandoah\n@@ -127,0 +134,1 @@\n+ * @requires vm.gc.Shenandoah\n@@ -141,0 +149,1 @@\n+ * @requires vm.gc.Z\n@@ -155,0 +164,1 @@\n+ * @requires vm.gc.Z\n","filename":"test\/hotspot\/jtreg\/compiler\/whitebox\/RelocateNMethodMultiplePaths.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}
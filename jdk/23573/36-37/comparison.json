{"files":[{"patch":"@@ -1520,0 +1520,6 @@\n+  \/\/ Locks required to be held by caller to ensure the nmethod\n+  \/\/ is not modified or purged from code cache during relocation\n+  assert_lock_strong(CompiledIC_lock);\n+  assert_lock_strong(Compile_lock);\n+  assert_lock_strong(CodeCache_lock);\n+\n@@ -1524,3 +1530,0 @@\n-  MutexLocker ml_Compile_lock(Compile_lock);\n-  MutexLocker ml_CodeCache_lock(CodeCache_lock, Mutex::_no_safepoint_check_flag);\n-\n@@ -1633,5 +1636,2 @@\n-  {\n-    CompiledICLocker ic_locker(this);\n-    if (has_evol_metadata()) {\n-      return false;\n-    }\n+  if (has_evol_metadata()) {\n+    return false;\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -1650,0 +1650,3 @@\n+  MutexLocker ml_Compile_lock(Compile_lock);\n+  MutexLocker ml_CompiledIC_lock(CompiledIC_lock, Mutex::_no_safepoint_check_flag);\n+  MutexLocker ml_CodeCache_lock(CodeCache_lock, Mutex::_no_safepoint_check_flag);\n@@ -1660,0 +1663,3 @@\n+  MutexLocker ml_Compile_lock(Compile_lock);\n+  MutexLocker ml_CompiledIC_lock(CompiledIC_lock, Mutex::_no_safepoint_check_flag);\n+  MutexLocker ml_CodeCache_lock(CodeCache_lock, Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/prims\/whitebox.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}
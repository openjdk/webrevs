{"files":[{"patch":"@@ -30,1 +30,0 @@\n- * @library \/test\/lib\n@@ -41,1 +40,0 @@\n-import java.security.MessageDigest;\n@@ -43,2 +41,0 @@\n-import jdk.test.lib.Asserts;\n-import jdk.test.lib.Utils;\n@@ -52,6 +48,14 @@\n-        \/\/ Trigger the check to parse and validate property value\n-        Utils.runAndCheckException(() -> CryptoAlgorithmConstraints.permits(\n-                \"x\", \"y\"),\n-                t -> Asserts.assertTrue(\n-                        t instanceof ExceptionInInitializerError &&\n-                        t.getCause() instanceof IllegalArgumentException));\n+        try {\n+            \/\/ Trigger the check to parse and validate property value\n+            CryptoAlgorithmConstraints.permits(\"x\", \"y\");\n+            throw new AssertionError(\n+                    \"CryptoAlgorithmConstraints.permits() did not generate expected exception\");\n+        } catch (Throwable t) {\n+            if (!(t instanceof ExceptionInInitializerError)\n+                    || !(t.getCause() instanceof IllegalArgumentException)) {\n+                \/\/ unexpected exception, propagate it\n+                throw t;\n+            }\n+            \/\/ got expected\n+            System.out.println(\"Received expected exception: \" + t);\n+        }\n","filename":"test\/jdk\/sun\/security\/util\/AlgorithmConstraints\/InvalidCryptoDisabledAlgos.java","additions":14,"deletions":10,"binary":false,"changes":24,"status":"modified"}]}
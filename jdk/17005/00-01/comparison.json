{"files":[{"patch":"@@ -106,1 +106,2 @@\n-        if (fetchVersion < 19) {\n+        \/\/\n+        if (fetchVersion < 19 && fetchVersion > 0) {\n@@ -120,0 +121,14 @@\n+        if (fetchVersion >= 19) {\n+            oldJVM = fetchJDK(fetchVersion) + FS + \"bin\" + FS + \"java\";\n+        } else if (fetchVersion > 0) {\n+            throw new RuntimeException(\"Unsupported JDK version \" + fetchVersion);\n+        } else if (PREV_JDK != null) {\n+            oldJVM = PREV_JDK + FS + \"bin\" + FS + \"java\";\n+        } else if (BOOT_JDK != null) {\n+            oldJVM = BOOT_JDK + FS + \"bin\" + FS + \"java\";\n+        } else {\n+            throw new SkippedException(\"Use -Dtest.previous.jdk or -Dtest.boot.jdk to specify a \" +\n+                                      \"previous version of the JDK that supports \" +\n+                                      \"-XX:+AutoCreateSharedArchive\");\n+        }\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/TestAutoCreateSharedArchiveUpgrade.java","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"}]}
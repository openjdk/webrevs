{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -251,2 +251,1 @@\n-        \/\/ need file attributes to know if file is directory\n-        UnixFileAttributes attrs = null;\n+        boolean isDirectory = false;\n@@ -254,4 +253,2 @@\n-            attrs = UnixFileAttributes.get(file, false);\n-            if (attrs.isDirectory()) {\n-                rmdir(file);\n-            } else {\n+            try {\n+                \/\/ assume the common case that the file is a regular file\n@@ -259,0 +256,13 @@\n+            } catch (UnixException e) {\n+                \/\/ check whether the file is a directory\n+                if (e.errno() == EISDIR ||\n+                    UnixFileAttributes.get(file, false).isDirectory())\n+                    isDirectory = true;\n+\n+                \/\/ if the file is a directory then try rmdir, otherwise\n+                \/\/ re-throw and let the exception be handled below\n+                if (isDirectory) {\n+                    rmdir(file);\n+                } else {\n+                    throw e;\n+                }\n@@ -267,1 +277,1 @@\n-            if (attrs != null && attrs.isDirectory() &&\n+            if (isDirectory &&\n","filename":"src\/java.base\/unix\/classes\/sun\/nio\/fs\/UnixFileSystemProvider.java","additions":18,"deletions":8,"binary":false,"changes":26,"status":"modified"}]}
{"files":[{"patch":"@@ -150,1 +150,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/invokeMethod\/invokemethod001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/invokeMethod\/invokemethod001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -162,1 +162,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/newInstance\/newinstance001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -141,0 +141,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/newInstance\/newinstance001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -146,1 +146,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/getValue\/getvalue001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -79,0 +79,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/getValue\/getvalue001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -147,1 +147,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/StackFrame\/getValues\/getvalues001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -81,0 +81,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/StackFrame\/getValues\/getvalues001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+ *      -includevirtualthreads\n@@ -79,4 +80,0 @@\n-    public forceEarlyReturn002() {\n-        includeVirtualThreads();\n-    }\n-\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/forceEarlyReturn\/forceEarlyReturn002\/forceEarlyReturn002.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -140,1 +140,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/name\/name001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/name\/name001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -147,1 +147,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/stop\/stop001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -77,0 +77,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/stop\/stop001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -145,1 +145,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/suspend\/suspend001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -79,0 +79,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/suspend\/suspend001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -144,1 +144,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/suspendCount\/suspendcount001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -68,0 +68,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/suspendCount\/suspendcount001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -143,1 +143,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose002.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -79,0 +79,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose002\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -136,1 +136,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose003.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -79,0 +79,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose003\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -137,1 +137,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose004.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -79,0 +79,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose004\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -148,1 +148,0 @@\n-        binder.includeVirtualThreads();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/suspend\/suspend001.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+ *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/suspend\/suspend001\/TestDescription.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -66,0 +66,1 @@\n+ *      -includevirtualthreads\n@@ -74,1 +75,0 @@\n- *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/stress\/serial\/forceEarlyReturn001\/TestDescription.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,0 +68,1 @@\n+ *      -includevirtualthreads\n@@ -77,1 +78,0 @@\n- *      -includevirtualthreads\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/stress\/serial\/forceEarlyReturn002\/TestDescription.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -479,1 +479,1 @@\n-            if (!(value == null || value.length() <= 0)) {\n+            if (!(value == null || value.length() == 0)) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/ArgumentParser.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,5 +66,0 @@\n-    private boolean includeVThreads = false; \/\/ true if debuggee should be launched with includevirtualthreads=y\n-    public void includeVirtualThreads() {\n-        includeVThreads = true;\n-    }\n-\n@@ -526,1 +521,1 @@\n-        arg.setValue(includeVThreads ? \"y\" : \"n\");\n+        arg.setValue(argumentHandler.isIncludeVirtualThreads() ? \"y\" : \"n\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdi\/Binder.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -114,3 +114,1 @@\n-            } else if (args[i].equals(\"-includevirtualthreads\")) {\n-                includeVirtualThreads();\n-            } else\n+            } else {\n@@ -118,0 +116,1 @@\n+            }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdi\/SerialExecutionDebugger.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -131,6 +131,0 @@\n-    private boolean includeVThreads = false; \/\/ true if debuggee should be launched with includevirtualthreads=y\n-    public void includeVirtualThreads() {\n-        includeVThreads = true;\n-    }\n-\n-\n@@ -180,3 +174,0 @@\n-        if (includeVThreads) {\n-            binder.includeVirtualThreads();\n-        }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdi\/TestDebuggerType2.java","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -86,3 +86,3 @@\n-    public static final String DEFAULT_PIPE_PORT                                = \"7123\";\n-    public static final String DEFAULT_TRANSPORT_PORT                   = \"8123\";\n-    public static final String DEFAULT_BIND_PORT                                = \"9123\";\n+    public static final String DEFAULT_PIPE_PORT      = \"7123\";\n+    public static final String DEFAULT_TRANSPORT_PORT = \"8123\";\n+    public static final String DEFAULT_BIND_PORT      = \"9123\";\n@@ -106,0 +106,10 @@\n+    \/**\n+     * Return <i>true<\/i> if <code>-includevirtualthreads<\/code> command line option\n+     * is specified.\n+     *\n+     * @see #setRawArguments(String[])\n+     *\/\n+    public boolean isIncludeVirtualThreads() {\n+        return options.getProperty(\"includevirtualthreads\") != null;\n+    }\n+\n@@ -474,1 +484,1 @@\n-     * Return <i>true<\/i> if JVMDI strict mode for launching debugeeVM is used^\n+     * Return <i>true<\/i> if JVMDI strict mode for launching debugeeVM is used\n@@ -651,2 +661,7 @@\n-        if(option.equals(\"traceAll\"))\n-            return true;\n+        if (option.equals(\"traceAll\")\n+            || option.equals(\"includevirtualthreads\")) {\n+            if (!(value == null || value.length() == 0)) {\n+                throw new BadOption(option + \": no value must be specified\");\n+            }\n+           return true;\n+        }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jpda\/DebugeeArgumentHandler.java","additions":21,"deletions":6,"binary":false,"changes":27,"status":"modified"}]}
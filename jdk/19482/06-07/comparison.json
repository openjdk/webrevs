{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,0 @@\n-import com.beust.ah.A;\n@@ -28,2 +27,0 @@\n-import org.testng.Assert;\n-import org.testng.SkipException;\n@@ -32,1 +29,0 @@\n-import java.util.concurrent.BrokenBarrierException;\n@@ -34,1 +30,0 @@\n-import java.util.concurrent.CyclicBarrier;\n@@ -36,1 +31,0 @@\n-import java.util.concurrent.locks.ReentrantLock;\n@@ -43,4 +37,1 @@\n- * @modules java.base\/jdk.internal.misc\n- *          java.compiler\n- *          java.management\n- *          jdk.internal.jvmstat\/sun.jvmstat.monitor\n+ * @modules java.base\n@@ -52,1 +43,1 @@\n-        var shouldStop = new AtomicBoolean();\n+        var shouldFinish = new AtomicBoolean(false);\n@@ -54,1 +45,1 @@\n-        final Runnable runnable = new DummyRunnable(shouldStop, started);\n+        final Runnable runnable = new DummyRunnable(shouldFinish, started);\n@@ -61,0 +52,1 @@\n+        shouldFinish.compareAndSet(false, true);\n@@ -70,1 +62,1 @@\n-        private final AtomicBoolean shouldStop;\n+        private final AtomicBoolean shouldFinish;\n@@ -73,2 +65,2 @@\n-        public DummyRunnable(AtomicBoolean shouldStop, CountDownLatch started) {\n-           this.shouldStop = shouldStop;\n+        public DummyRunnable(AtomicBoolean shouldFinish, CountDownLatch started) {\n+           this.shouldFinish = shouldFinish;\n@@ -85,1 +77,1 @@\n-                if (shouldStop.get()) {\n+                if (shouldFinish.get()) {\n","filename":"test\/hotspot\/jtreg\/serviceability\/dcmd\/thread\/PrintVirtualThreadTest.java","additions":9,"deletions":17,"binary":false,"changes":26,"status":"modified"}]}
{"files":[{"patch":"@@ -505,1 +505,1 @@\n-  if (AvoidUnalignedAccesses) {\n+  if (!UseUnalignedAccesses) {\n@@ -1015,1 +1015,1 @@\n-    if (AvoidUnalignedAccesses) {\n+    if (!UseUnalignedAccesses) {\n@@ -1031,1 +1031,1 @@\n-    if (AvoidUnalignedAccesses) {\n+    if (!UseUnalignedAccesses) {\n@@ -1056,1 +1056,1 @@\n-    if (AvoidUnalignedAccesses) {\n+    if (!UseUnalignedAccesses) {\n@@ -1065,1 +1065,1 @@\n-    if (AvoidUnalignedAccesses) {\n+    if (!UseUnalignedAccesses) {\n@@ -1096,1 +1096,1 @@\n-    if (AvoidUnalignedAccesses) {\n+    if (!UseUnalignedAccesses) {\n@@ -1167,1 +1167,1 @@\n-  if (AvoidUnalignedAccesses && (base_offset % 8) != 0) {\n+  if (!UseUnalignedAccesses && (base_offset % 8) != 0) {\n@@ -1180,1 +1180,1 @@\n-  if (AvoidUnalignedAccesses) {\n+  if (!UseUnalignedAccesses) {\n@@ -1209,1 +1209,1 @@\n-    \/\/ 8-byte aligned loads when AvoidUnalignedAccesses is enabled\n+    \/\/ 8-byte aligned loads when UseUnalignedAccesses is not enabled\n@@ -1497,1 +1497,1 @@\n-  if (AvoidUnalignedAccesses && (base_offset % 8) != 0) {\n+  if (!UseUnalignedAccesses && (base_offset % 8) != 0) {\n@@ -1512,1 +1512,1 @@\n-  if (AvoidUnalignedAccesses) {\n+  if (!UseUnalignedAccesses) {\n@@ -1603,1 +1603,1 @@\n-  if (AvoidUnalignedAccesses && (base_offset % 8) != 0) {\n+  if (!UseUnalignedAccesses && (base_offset % 8) != 0) {\n@@ -1618,1 +1618,1 @@\n-  if (AvoidUnalignedAccesses) {\n+  if (!UseUnalignedAccesses) {\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -95,2 +95,0 @@\n-  product(bool, AvoidUnalignedAccesses, true,                                    \\\n-          \"Avoid generating unaligned memory accesses\")                          \\\n","filename":"src\/hotspot\/cpu\/riscv\/globals_riscv.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2897,1 +2897,1 @@\n-  if (AvoidUnalignedAccesses && (granularity != 2)) {\n+  if (!UseUnalignedAccesses && (granularity != 2)) {\n@@ -2911,1 +2911,1 @@\n-  if (AvoidUnalignedAccesses && (granularity != 4)) {\n+  if (!UseUnalignedAccesses && (granularity != 4)) {\n@@ -2944,1 +2944,1 @@\n-  if (AvoidUnalignedAccesses && (granularity != 8)) {\n+  if (!UseUnalignedAccesses && (granularity != 8)) {\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2620,1 +2620,1 @@\n-    if (AvoidUnalignedAccesses) {\n+    if (!UseUnalignedAccesses) {\n@@ -2682,1 +2682,1 @@\n-    if (AvoidUnalignedAccesses && (base_offset % 8) != 0) {\n+    if (!UseUnalignedAccesses && (base_offset % 8) != 0) {\n@@ -2696,1 +2696,1 @@\n-    \/\/ we are now 8-bytes aligned on strL when AvoidUnalignedAccesses is true\n+    \/\/ we are now 8-bytes aligned on strL when UseUnalignedAccesses is false\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -161,3 +161,5 @@\n-  if (FLAG_IS_DEFAULT(AvoidUnalignedAccesses)) {\n-    FLAG_SET_DEFAULT(AvoidUnalignedAccesses,\n-      unaligned_scalar.value() != MISALIGNED_SCALAR_FAST);\n+  \/\/ See JDK-8026049\n+  \/\/ This machine has fast unaligned memory accesses\n+  if (FLAG_IS_DEFAULT(UseUnalignedAccesses)) {\n+    FLAG_SET_DEFAULT(UseUnalignedAccesses,\n+      (unaligned_scalar.value() == MISALIGNED_SCALAR_FAST));\n@@ -166,1 +168,1 @@\n-  if (!AvoidUnalignedAccesses) {\n+  if (UseUnalignedAccesses) {\n@@ -174,7 +176,0 @@\n-  \/\/ See JDK-8026049\n-  \/\/ This machine has fast unaligned memory accesses\n-  if (FLAG_IS_DEFAULT(UseUnalignedAccesses)) {\n-    FLAG_SET_DEFAULT(UseUnalignedAccesses,\n-      (unaligned_scalar.value() == MISALIGNED_SCALAR_FAST));\n-  }\n-\n@@ -222,1 +217,1 @@\n-  if (!AvoidUnalignedAccesses && (UseZba || UseRVV)) {\n+  if (UseUnalignedAccesses && (UseZba || UseRVV)) {\n@@ -312,1 +307,1 @@\n-  if (!AvoidUnalignedAccesses) {\n+  if (UseUnalignedAccesses) {\n@@ -321,1 +316,1 @@\n-  if (!AvoidUnalignedAccesses) {\n+  if (UseUnalignedAccesses) {\n@@ -330,1 +325,1 @@\n-  if (!AvoidUnalignedAccesses) {\n+  if (UseUnalignedAccesses) {\n@@ -339,1 +334,1 @@\n-  if (!AvoidUnalignedAccesses) {\n+  if (UseUnalignedAccesses) {\n@@ -374,1 +369,1 @@\n-  if (!AvoidUnalignedAccesses) {\n+  if (UseUnalignedAccesses) {\n@@ -389,1 +384,1 @@\n-  if (UseSHA && !AvoidUnalignedAccesses) {\n+  if (UseSHA && UseUnalignedAccesses) {\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.cpp","additions":13,"deletions":18,"binary":false,"changes":31,"status":"modified"}]}
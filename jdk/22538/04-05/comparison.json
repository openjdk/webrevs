{"files":[{"patch":"@@ -1267,3 +1267,0 @@\n-      if (!region->is_trash()) {\n-        continue;\n-      }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.cpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-  ss.print(\"Illegal region state transition from \\\"%s\\\", at %s\\n  \", region_state_to_string(_state), method);\n+  ss.print(\"Illegal region state transition from \\\"%s\\\", at %s\\n  \", region_state_to_string(state()), method);\n@@ -104,1 +104,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -124,1 +124,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -150,1 +150,2 @@\n-  switch (_state) {\n+  auto cur_state = state();\n+  switch (cur_state) {\n@@ -157,1 +158,1 @@\n-      if (_state == _humongous_start || _state == _humongous_cont) {\n+      if (cur_state == _humongous_start || cur_state == _humongous_cont) {\n@@ -181,1 +182,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -198,1 +199,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -213,1 +214,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -230,1 +231,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -246,1 +247,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -257,1 +258,1 @@\n-      _state = _pinned_cset;\n+      set_state(_pinned_cset);\n@@ -268,1 +269,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -290,1 +291,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -303,1 +304,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -335,1 +336,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -347,1 +348,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -361,1 +362,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -402,1 +403,1 @@\n-  switch (_state) {\n+  switch (state()) {\n@@ -600,1 +601,0 @@\n-      _recycling.unset();\n@@ -602,0 +602,1 @@\n+    _recycling.unset();\n@@ -616,1 +617,1 @@\n-  if (_recycling.try_set()) {\n+  if (is_trash() && _recycling.try_set()) {\n@@ -627,0 +628,4 @@\n+  } else {\n+    while (_recycling.is_set()) {\n+      os::naked_yield();\n+    }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeapRegion.cpp","additions":25,"deletions":20,"binary":false,"changes":45,"status":"modified"}]}
{"files":[{"patch":"@@ -204,0 +204,1 @@\n+java\/awt\/dnd\/DnDRemoveFocusOwnerCrashTest.java 8242805 macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+    static volatile Point p;\n@@ -71,0 +72,2 @@\n+            robot.setAutoWaitForIdle(true);\n+            robot.delay(FRAME_ACTIVATION_TIMEOUT);\n@@ -82,0 +85,1 @@\n+            });\n@@ -83,6 +87,2 @@\n-                try {\n-                    robot.delay(FRAME_ACTIVATION_TIMEOUT);\n-                } catch (Exception e) {\n-                    e.printStackTrace();\n-                    throw new RuntimeException(\"The test failed.\");\n-                }\n+            robot.waitForIdle();\n+            robot.delay(FRAME_ACTIVATION_TIMEOUT);\n@@ -90,1 +90,2 @@\n-                Point p = dragSourceButton.getLocationOnScreen();\n+            EventQueue.invokeAndWait(() -> {\n+                p = dragSourceButton.getLocationOnScreen();\n@@ -92,0 +93,1 @@\n+            });\n@@ -93,14 +95,15 @@\n-                try {\n-                    Robot robot = new Robot();\n-                    robot.mouseMove(p.x, p.y);\n-                    robot.keyPress(KeyEvent.VK_CONTROL);\n-                    robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n-                    for (int dy = 0; dy < 50; dy++) {\n-                        robot.mouseMove(p.x, p.y + dy);\n-                        robot.delay(10);\n-                    }\n-                    robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n-                    robot.keyRelease(KeyEvent.VK_CONTROL);\n-                } catch (Exception e) {\n-                    e.printStackTrace();\n-                    throw new RuntimeException(\"The test failed.\");\n+            robot.delay(FRAME_ACTIVATION_TIMEOUT);\n+            robot.mouseMove(p.x, p.y);\n+            robot.delay(FRAME_ACTIVATION_TIMEOUT);\n+            robot.keyPress(KeyEvent.VK_CONTROL);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            for (int dy = 0; dy < 50; dy++) {\n+                robot.mouseMove(p.x, p.y + dy);\n+                robot.delay(10);\n+            }\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.keyRelease(KeyEvent.VK_CONTROL);\n+        } finally {\n+            EventQueue.invokeAndWait(() -> {\n+                if (frame != null) {\n+                    frame.dispose();\n@@ -109,4 +112,0 @@\n-        } finally {\n-            if (frame != null) {\n-                EventQueue.invokeAndWait(() -> frame.dispose());\n-            }\n","filename":"test\/jdk\/java\/awt\/dnd\/DnDRemoveFocusOwnerCrashTest.java","additions":24,"deletions":25,"binary":false,"changes":49,"status":"modified"}]}
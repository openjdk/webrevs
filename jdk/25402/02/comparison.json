{"files":[{"patch":"@@ -2126,4 +2126,21 @@\n-  log_debug(codecache)(\"*flushing %s nmethod %3d\/\" INTPTR_FORMAT \". Live blobs:\" UINT32_FORMAT\n-                       \"\/Free CodeCache:%zuKb\",\n-                       is_osr_method() ? \"osr\" : \"\",_compile_id, p2i(this), CodeCache::blob_count(),\n-                       CodeCache::unallocated_capacity(CodeCache::get_code_blob_type(this))\/1024);\n+\n+  LogTarget(Debug, codecache) lt;\n+  if (lt.is_enabled()) {\n+    ResourceMark rm;\n+    const char* name = method()->name()->as_C_string();\n+    const char* is_jvmci = \"\";\n+    const size_t codecache_capacity = CodeCache::capacity()\/1024;\n+    const size_t codecache_free_space = CodeCache::unallocated_capacity(CodeCache::get_code_blob_type(this))\/1024;\n+#if INCLUDE_JVMCI\n+    if (is_compiled_by_jvmci()) {\n+      if (jvmci_name() != nullptr) {\n+        name = jvmci_name();\n+      }\n+      is_jvmci = \"JVMCI compiled \";\n+    }\n+#endif\n+    log_debug(codecache)(\"Flushing nmethod %3d\/\" INTPTR_FORMAT \", level=%d, osr=%d, cold=%d, epoch=\" UINT64_FORMAT \", cold_count=\" UINT64_FORMAT \". \"\n+                       \"Cache capacity: %zuKb, free space: %zuKb. %smethod %s\",\n+                       _compile_id, p2i(this), _comp_level, is_osr_method(), is_cold(), _gc_epoch, CodeCache::cold_gc_count(),\n+                       codecache_capacity, codecache_free_space, is_jvmci, name);\n+  }\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":21,"deletions":4,"binary":false,"changes":25,"status":"modified"}]}
{"files":[{"patch":"@@ -1167,0 +1167,5 @@\n+    public static final String COUNTTRAILINGZEROS_VI = VECTOR_PREFIX + \"COUNTTRAILINGZEROS_VI\" + POSTFIX;\n+    static {\n+        vectorNode(COUNTTRAILINGZEROS_VI, \"CountTrailingZerosV\", TYPE_INT);\n+    }\n+\n@@ -1172,0 +1177,5 @@\n+    public static final String COUNTLEADINGZEROS_VI = VECTOR_PREFIX + \"COUNTLEADINGZEROS_VI\" + POSTFIX;\n+    static {\n+        vectorNode(COUNTLEADINGZEROS_VI, \"CountLeadingZerosV\", TYPE_INT);\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -42,2 +42,4 @@\n-    private long[] input;\n-    private int[] output;\n+    private long[] inputLong;\n+    private int[] outputLong;\n+    private int[] inputInt;\n+    private int[] outputInt;\n@@ -52,2 +54,4 @@\n-        input = new long[LEN];\n-        output = new int[LEN];\n+        inputLong = new long[LEN];\n+        outputLong = new int[LEN];\n+        inputInt = new int[LEN];\n+        outputInt = new int[LEN];\n@@ -56,1 +60,2 @@\n-            input[i] = rng.nextLong();\n+            inputLong[i] = rng.nextLong();\n+            inputInt[i] = rng.nextInt();\n@@ -62,1 +67,1 @@\n-    public void vectorizeNumberOfTrailingZeros() {\n+    public void vectorizeNumberOfTrailingZerosLong() {\n@@ -64,1 +69,1 @@\n-            output[i] = Long.numberOfTrailingZeros(input[i]);\n+            outputLong[i] = Long.numberOfTrailingZeros(inputLong[i]);\n@@ -70,1 +75,1 @@\n-    public void vectorizeNumberOfLeadingZeros() {\n+    public void vectorizeNumberOfLeadingZerosLong() {\n@@ -72,1 +77,1 @@\n-            output[i] = Long.numberOfLeadingZeros(input[i]);\n+            outputLong[i] = Long.numberOfLeadingZeros(inputLong[i]);\n@@ -76,3 +81,3 @@\n-    @Run(test = {\"vectorizeNumberOfTrailingZeros\", \"vectorizeNumberOfLeadingZeros\"})\n-    public void checkResult() {\n-        vectorizeNumberOfTrailingZeros();\n+    @Run(test = {\"vectorizeNumberOfTrailingZerosLong\", \"vectorizeNumberOfLeadingZerosLong\"})\n+    public void checkResultLong() {\n+        vectorizeNumberOfTrailingZerosLong();\n@@ -80,1 +85,1 @@\n-            Asserts.assertEquals(output[i], Long.numberOfTrailingZeros(input[i]));\n+            Asserts.assertEquals(outputLong[i], Long.numberOfTrailingZeros(inputLong[i]));\n@@ -82,1 +87,1 @@\n-        vectorizeNumberOfLeadingZeros();\n+        vectorizeNumberOfLeadingZerosLong();\n@@ -84,1 +89,30 @@\n-            Asserts.assertEquals(output[i], Long.numberOfLeadingZeros(input[i]));\n+            Asserts.assertEquals(outputLong[i], Long.numberOfLeadingZeros(inputLong[i]));\n+        }\n+    }\n+\n+\n+    @Test\n+    @IR(counts = {IRNode.COUNTTRAILINGZEROS_VI, \"> 0\"})\n+    public void vectorizeNumberOfTrailingZerosInt() {\n+        for (int i = 0; i < LEN; ++i) {\n+            outputInt[i] = Integer.numberOfTrailingZeros(inputInt[i]);\n+        }\n+    }\n+\n+    @Test\n+    @IR(counts = {IRNode.COUNTLEADINGZEROS_VI, \"> 0\"})\n+    public void vectorizeNumberOfLeadingZerosInt() {\n+        for (int i = 0; i < LEN; ++i) {\n+            outputInt[i] = Integer.numberOfLeadingZeros(inputInt[i]);\n+        }\n+    }\n+\n+    @Run(test = {\"vectorizeNumberOfTrailingZerosInt\", \"vectorizeNumberOfLeadingZerosInt\"})\n+    public void checkResultInt() {\n+        vectorizeNumberOfTrailingZerosInt();\n+        for (int i = 0; i < LEN; ++i) {\n+            Asserts.assertEquals(outputInt[i], Integer.numberOfTrailingZeros(inputInt[i]));\n+        }\n+        vectorizeNumberOfLeadingZerosInt();\n+        for (int i = 0; i < LEN; ++i) {\n+            Asserts.assertEquals(outputInt[i], Integer.numberOfLeadingZeros(inputInt[i]));\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestNumberOfContinuousZeros.java","additions":49,"deletions":15,"binary":false,"changes":64,"status":"modified"}]}
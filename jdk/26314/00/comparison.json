{"files":[{"patch":"@@ -603,1 +603,8 @@\n-  while (Atomic::cmpxchg(&_cpu_time_jfr_locked, UNLOCKED, DEQUEUE) != UNLOCKED);\n+  long cntr = 0;\n+  while (Atomic::cmpxchg(&_cpu_time_jfr_locked, UNLOCKED, DEQUEUE) != UNLOCKED) {\n+    if (cntr++ > 1000) {\n+      \/\/ yield to avoid busy waiting\n+      os::naked_yield();\n+    }\n+  }\n+\n","filename":"src\/hotspot\/share\/jfr\/support\/jfrThreadLocal.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}
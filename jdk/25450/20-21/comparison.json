{"files":[{"patch":"@@ -293,2 +293,2 @@\n-void os::physical_memory(size_t& value) {\n-  value = Aix::physical_memory();\n+size_t os::physical_memory() {\n+  return Aix::physical_memory();\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -211,2 +211,2 @@\n-void os::physical_memory(size_t& value) {\n-  value = Bsd::physical_memory();\n+size_t os::physical_memory() {\n+  return Bsd::physical_memory();\n@@ -1472,2 +1472,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = os::physical_memory();\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -361,1 +361,1 @@\n-void os::physical_memory(size_t& value) {\n+size_t os::physical_memory() {\n@@ -366,1 +366,1 @@\n-      value = static_cast<size_t>(mem_limit);\n+      return static_cast<size_t>(mem_limit);\n@@ -372,1 +372,1 @@\n-  value = phys_mem;\n+  return phys_mem;\n@@ -2574,2 +2574,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = physical_memory();\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -897,2 +897,2 @@\n-void os::physical_memory(size_t& value) {\n-  value = win32::physical_memory();\n+size_t os::physical_memory() {\n+  return win32::physical_memory();\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,2 +65,1 @@\n-  size_t memory = 0;\n-  os::physical_memory(memory);\n+  size_t memory = os::physical_memory();\n","filename":"src\/hotspot\/share\/gc\/shared\/gcInitLogger.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -34,2 +34,1 @@\n-  size_t memory = 0;\n-  os::physical_memory(memory);\n+  size_t memory = os::physical_memory();\n","filename":"src\/hotspot\/share\/gc\/z\/zLargePages.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -417,2 +417,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = os::physical_memory();\n","filename":"src\/hotspot\/share\/jfr\/jni\/jfrJniMethod.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -531,2 +531,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = os::physical_memory();\n","filename":"src\/hotspot\/share\/jfr\/periodic\/jfrPeriodic.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2514,3 +2514,2 @@\n-  LINUX_ONLY(return os::Linux::physical_memory();)\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  LINUX_ONLY(return static_cast<jlong>(os::Linux::physical_memory());)\n+  size_t phys_mem = os::physical_memory();\n","filename":"src\/hotspot\/share\/prims\/whitebox.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1524,1 +1524,1 @@\n-      os::physical_memory(physical_mem_val);\n+      physical_mem_val = os::physical_memory();\n@@ -1531,1 +1531,1 @@\n-    os::physical_memory(physical_mem_val);\n+    physical_mem_val = os::physical_memory();\n@@ -1654,2 +1654,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = os::physical_memory();\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -1186,2 +1186,1 @@\n-  size_t phys_mem = 0;\n-  physical_memory(phys_mem);\n+  size_t phys_mem = physical_memory();\n@@ -1945,2 +1944,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = os::physical_memory();\n@@ -2223,2 +2221,1 @@\n-  size_t phys_mem = 0;\n-  os::physical_memory(phys_mem);\n+  size_t phys_mem = os::physical_memory();\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -335,3 +335,3 @@\n-  static bool available_memory(size_t& value);\n-  static bool used_memory(size_t& value);\n-  static bool free_memory(size_t& value);\n+  ATTRIBUTE_NODISCARD static bool available_memory(size_t& value);\n+  ATTRIBUTE_NODISCARD static bool used_memory(size_t& value);\n+  ATTRIBUTE_NODISCARD static bool free_memory(size_t& value);\n@@ -339,2 +339,2 @@\n-  static bool total_swap_space(size_t& value);\n-  static bool free_swap_space(size_t& value);\n+  ATTRIBUTE_NODISCARD static bool total_swap_space(size_t& value);\n+  ATTRIBUTE_NODISCARD static bool free_swap_space(size_t& value);\n@@ -342,1 +342,1 @@\n-  static void physical_memory(size_t& value);\n+  static size_t physical_memory();\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -978,5 +978,1 @@\n-    {\n-      size_t phys_mem = 0;\n-      os::physical_memory(phys_mem);\n-      return phys_mem;\n-    }\n+    return static_cast<jlong>(os::physical_memory());\n","filename":"src\/hotspot\/share\/services\/management.cpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1355,0 +1355,5 @@\n+\/\/----------------------------------------------------------------------------------------------------\n+\n+\/\/ Dummy placeholder for use of [[nodiscard]]\n+#define ATTRIBUTE_NODISCARD\n+\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}
{"files":[{"patch":"@@ -243,0 +243,1 @@\n+  \/\/ Going to preserve the volatile registers which can be used by Register Allocator.\n@@ -254,2 +255,5 @@\n-\n-      if (std_reg->encoding() >= Z_R2->encoding() && std_reg->encoding() <= Z_R15->encoding()) {\n+      \/\/ Z_R0 and Z_R1 will not be allocated by the register allocator, see s390.ad (Integer Register Classes)\n+      \/\/ Z_R6 to Z_R15 are saved registers, except Z_R14 (see Z-Abi)\n+      if (std_reg->encoding() == Z_R14->encoding() ||\n+         (std_reg->encoding() >= Z_R2->encoding()  &&\n+          std_reg->encoding() <= Z_R5->encoding())) {\n@@ -268,2 +272,4 @@\n-      if (fp_reg->encoding() >= Z_F0->encoding() && fp_reg->encoding() <= Z_F15->encoding()\n-          && fp_reg->encoding() != Z_F1->encoding()) {\n+      \/\/ Z_R1 will not be allocated by the register allocator, see s390.ad (Float Register Classes)\n+      if (fp_reg->encoding() >= Z_F0->encoding() &&\n+          fp_reg->encoding() <= Z_F7->encoding() &&\n+          fp_reg->encoding() != Z_F1->encoding()) {\n@@ -282,1 +288,3 @@\n-      if (vs_reg->encoding() >= Z_V2->encoding() && vs_reg->encoding() <= Z_V31->encoding()) {\n+      \/\/ Z_V0 to Z_V15 will not be allocated by the register allocator, see s390.ad (reg class z_v_reg)\n+      if (vs_reg->encoding() >= Z_V16->encoding() &&\n+          vs_reg->encoding() <= Z_V31->encoding()) {\n","filename":"src\/hotspot\/cpu\/s390\/gc\/shared\/barrierSetAssembler_s390.cpp","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -69,1 +69,1 @@\n-        URLClassPath bootAppendUcp = (append != null && !append.isEmpty())\n+        URLClassPath bootUcp = (append != null && !append.isEmpty())\n@@ -73,1 +73,0 @@\n-            \/\/ assert VM.getSavedProperty(\"jdk.boot.class.path.append\") == null\n@@ -75,0 +74,1 @@\n+            BOOT_LOADER.setClassPath(bootUcp);\n@@ -76,1 +76,0 @@\n-            BOOT_LOADER.setClassPath(bootAppendUcp);\n@@ -80,1 +79,1 @@\n-            BOOT_LOADER = new BootClassLoader(bootAppendUcp);\n+            BOOT_LOADER = new BootClassLoader(bootUcp);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/loader\/ClassLoaders.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -348,0 +348,15 @@\n+        \/\/ Dump an archive with only -Xbootclasspath\/a\n+        output = TestCommon.createArchive(\n+                                null,\n+                                appClasses,\n+                                \"-Xbootclasspath\/a:\" + mainJar.toString());\n+        TestCommon.checkDump(output);\n+        tty(\"13. run with CDS on,  with the same -Xbootclasspath\/a as dump time and adding a -cp with test.jar:  should pass\");\n+        TestCommon.run(\"-Xlog:cds,class+load\",\n+                       \"-cp\", testJar.toString(),\n+                       \"-Xbootclasspath\/a:\" + mainJar.toString(),\n+                       MAIN_CLASS)\n+            .assertNormalExit(out -> {\n+                out.shouldMatch(MAIN_FROM_CDS)\n+                   .shouldContain(OPTIMIZE_ENABLED);\n+            });\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/OptimizeModuleHandlingTest.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -193,0 +193,2 @@\n+                            out.shouldContain(\"initialize_from_archived_subgraph java.lang.module.Configuration\");\n+                            out.shouldContain(\"initialize_from_archived_subgraph java.lang.ModuleLayer\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/serviceability\/ReplaceCriticalClasses.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}
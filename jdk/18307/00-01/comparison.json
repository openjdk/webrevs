{"files":[{"patch":"@@ -39,4 +39,4 @@\n-class Globals {\n-  static boolean testPassed = false;\n-  static Thread mainThread = null;\n-}\n+\/\/class Globals {\n+\/\/  static boolean testPassed = false;\n+\/\/    static Thread mainThread = null;\n+\/\/}\n@@ -45,0 +45,1 @@\n+    static Thread mainThread = null;\n@@ -67,1 +68,1 @@\n-            .testUI(new MemoryLeak())\n+            .testUI(MemoryLeak::new)\n@@ -70,10 +71,3 @@\n-        Globals.mainThread = Thread.currentThread();\n-        if (Globals.mainThread != null) {\n-            Globals.mainThread.interrupt();\n-        }\n-        try {\n-            Thread.sleep(300000);\n-        } catch (InterruptedException e) {\n-            if (!Globals.testPassed) {\n-                throw new Exception(\"MemoryLeakTest failed.\");\n-            }\n+        mainThread = Thread.currentThread();\n+        if (mainThread != null) {\n+            mainThread.interrupt();\n@@ -94,1 +88,1 @@\n-       new MemoryLeak().start();\n+        new MemoryLeak().start();\n@@ -98,1 +92,1 @@\n-      setVisible(true);\n+        setVisible(true);\n","filename":"test\/jdk\/java\/awt\/image\/MemoryLeakTest\/MemoryLeakTest.java","additions":11,"deletions":17,"binary":false,"changes":28,"status":"modified"}]}
[{"commit":{"message":"Extract some helper functions for better readability"},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp"},{"filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.hpp"}],"sha":"fc3dee3d0853afdbcc3268acefa3de38a98fec75"},{"commit":{"message":"Rebase commit 56d7b52"},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector_ad.m4"},{"filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.hpp"},{"filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp"},{"filename":"src\/hotspot\/share\/opto\/classes.hpp"},{"filename":"src\/hotspot\/share\/opto\/compile.cpp"},{"filename":"src\/hotspot\/share\/opto\/vectornode.cpp"},{"filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorUMinMaxReductionTest.java"}],"sha":"481c3ee6478d8507475cd29509cb467b78453b1f"},{"commit":{"message":"Merge branch 'master' into JDK-8372980-umin-umax-intrinsic"},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector_ad.m4"},{"filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp"},{"filename":"src\/hotspot\/share\/opto\/compile.cpp"},{"filename":"src\/hotspot\/share\/opto\/vectornode.cpp"},{"filename":"src\/hotspot\/share\/opto\/vectornode.hpp"},{"filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java"}],"sha":"f39e47aacd5c96fee715743a92839fd89442063b"},{"commit":{"message":"8372980: [VectorAPI] AArch64: Add intrinsic support for unsigned min\/max reduction operations\n\nThis patch adds intrinsic support for UMIN and UMAX reduction operations\nin the Vector API on AArch64, enabling direct hardware instruction mapping\nfor better performance.\n\nChanges:\n--------\n\n1. C2 mid-end:\n   - Added UMinReductionVNode and UMaxReductionVNode\n\n2. AArch64 Backend:\n   - Added uminp\/umaxp\/sve_uminv\/sve_umaxv instructions\n   - Updated match rules for all vector sizes and element types\n   - Both NEON and SVE implementation are supported\n\n3. Test:\n   - Added UMIN_REDUCTION_V and UMAX_REDUCTION_V to IRNode.java\n   - Added assembly tests in aarch64-asmtest.py for new instructions\n   - Added a JTReg test file VectorUMinMaxReductionTest.java\n\nDifferent configurations were tested on aarch64 and x86 machines, and\nall tests passed.\n\nTest results of JMH benchmarks from the panama-vector project:\n--------\n\nOn a Nvidia Grace machine with 128-bit SVE:\n```\nBenchmark\t\t\tUnit\tBefore\tError\tAfter\t\tError\tUplift\nByte128Vector.UMAXLanes\t\tops\/ms\t411.60\t42.18\t25226.51\t33.92\t61.29\nByte128Vector.UMAXMaskedLanes\tops\/ms\t558.56\t85.12\t25182.90\t28.74\t45.09\nByte128Vector.UMINLanes\t\tops\/ms\t645.58\t780.76\t28396.29\t103.11\t43.99\nByte128Vector.UMINMaskedLanes\tops\/ms\t621.09\t718.27\t26122.62\t42.68\t42.06\nByte64Vector.UMAXLanes\t\tops\/ms\t296.33\t34.44\t14357.74\t15.95\t48.45\nByte64Vector.UMAXMaskedLanes\tops\/ms\t376.54\t44.01\t14269.24\t21.41\t37.90\nByte64Vector.UMINLanes\t\tops\/ms\t373.45\t426.51\t15425.36\t66.20\t41.31\nByte64Vector.UMINMaskedLanes\tops\/ms\t353.32\t346.87\t14201.37\t13.79\t40.19\nInt128Vector.UMAXLanes\t\tops\/ms\t174.79\t192.51\t9906.07\t\t286.93\t56.67\nInt128Vector.UMAXMaskedLanes\tops\/ms\t157.23\t206.68\t10246.77\t11.44\t65.17\nInt64Vector.UMAXLanes\t\tops\/ms\t95.30\t126.49\t4719.30\t\t98.57\t49.52\nInt64Vector.UMAXMaskedLanes\tops\/ms\t88.19\t87.44\t4693.18\t\t19.76\t53.22\nLong128Vector.UMAXLanes\t\tops\/ms\t80.62\t97.82\t5064.01\t\t35.52\t62.82\nLong128Vector.UMAXMaskedLanes\tops\/ms\t78.15\t102.91\t5028.24\t\t8.74\t64.34\nLong64Vector.UMAXLanes\t\tops\/ms\t47.56\t62.01\t46.76\t\t52.28\t0.98\nLong64Vector.UMAXMaskedLanes\tops\/ms\t45.44\t46.76\t45.79\t\t42.91\t1.01\nShort128Vector.UMAXLanes\tops\/ms\t316.65\t410.30\t14814.82\t23.65\t46.79\nShort128Vector.UMAXMaskedLanes\tops\/ms\t308.90\t351.78\t15155.26\t31.03\t49.06\nShort64Vector.UMAXLanes\t\tops\/ms\t190.38\t245.09\t8022.46\t\t14.30\t42.14\nShort64Vector.UMAXMaskedLanes\tops\/ms\t195.54\t36.15\t7930.28\t\t11.88\t40.56\n```\n\nOn a Nvidia Grace machine with 128-bit NEON:\n```\nBenchmark\t\t\tUnit\tBefore\tError\tAfter\t\tError\tUplift\nByte128Vector.UMAXLanes\t\tops\/ms\t414.69\t42.52\t25257.61\t25.91\t60.91\nByte128Vector.UMAXMaskedLanes\tops\/ms\t552.00\t56.61\t23063.14\t304.45\t41.78\nByte128Vector.UMINLanes\t\tops\/ms\t634.98\t849.04\t28444.37\t180.80\t44.80\nByte128Vector.UMINMaskedLanes\tops\/ms\t612.88\t735.18\t26127.07\t27.99\t42.63\nByte64Vector.UMAXLanes\t\tops\/ms\t291.53\t32.19\t13893.62\t28.09\t47.66\nByte64Vector.UMAXMaskedLanes\tops\/ms\t363.34\t48.17\t13290.59\t12.53\t36.58\nByte64Vector.UMINLanes\t\tops\/ms\t368.70\t433.60\t15416.90\t15.80\t41.81\nByte64Vector.UMINMaskedLanes\tops\/ms\t350.46\t371.05\t14524.29\t121.63\t41.44\nInt128Vector.UMAXLanes\t\tops\/ms\t177.67\t201.38\t10182.82\t20.21\t57.31\nInt128Vector.UMAXMaskedLanes\tops\/ms\t155.25\t187.88\t9194.13\t\t393.35\t59.22\nInt64Vector.UMAXLanes\t\tops\/ms\t93.93\t115.02\t5106.79\t\t4.54\t54.37\nInt64Vector.UMAXMaskedLanes\tops\/ms\t87.01\t88.50\t4405.87\t\t8.06\t50.63\nLong128Vector.UMAXLanes\t\tops\/ms\t80.32\t98.50\t3229.80\t\t40.53\t40.21\nLong128Vector.UMAXMaskedLanes\tops\/ms\t77.65\t103.25\t3161.50\t\t4.45\t40.72\nLong64Vector.UMAXLanes\t\tops\/ms\t47.72\t65.38\t46.41\t\t50.38\t0.97\nLong64Vector.UMAXMaskedLanes\tops\/ms\t45.26\t47.46\t45.13\t\t47.23\t1.00\nShort128Vector.UMAXLanes\tops\/ms\t316.09\t429.34\t14748.07\t14.78\t46.66\nShort128Vector.UMAXMaskedLanes\tops\/ms\t307.70\t342.54\t14359.11\t44.99\t46.67\nShort64Vector.UMAXLanes\t\tops\/ms\t187.67\t253.01\t8180.63\t\t178.65\t43.59\nShort64Vector.UMAXMaskedLanes\tops\/ms\t191.10\t33.51\t7949.19\t\t108.65\t41.60\n```"},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector_ad.m4"},{"filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.hpp"},{"filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp"},{"filename":"src\/hotspot\/share\/opto\/classes.hpp"},{"filename":"src\/hotspot\/share\/opto\/compile.cpp"},{"filename":"src\/hotspot\/share\/opto\/vectornode.cpp"},{"filename":"src\/hotspot\/share\/opto\/vectornode.hpp"},{"filename":"test\/hotspot\/gtest\/aarch64\/aarch64-asmtest.py"},{"filename":"test\/hotspot\/gtest\/aarch64\/asmtest.out.h"},{"filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorUMinMaxReductionTest.java"}],"sha":"04216bb310e7fb3f679676a99ca85cf0c405ebea"},{"commit":{"message":"8372978: [VectorAPI] Fix incorrect identity values in UMIN\/UMAX reductions\n\nThe original implementation of UMIN\/UMAX reductions in JDK-8346174\nused incorrect identity values in the Java implementation and test code.\n\nProblem:\n--------\nUMIN was using MAX_OR_INF (signed maximum value) as the identity:\n  - Byte.MAX_VALUE (127) instead of max unsigned byte (255)\n  - Short.MAX_VALUE (32767) instead of max unsigned short (65535)\n  - Integer.MAX_VALUE instead of max unsigned int (-1)\n  - Long.MAX_VALUE instead of max unsigned long (-1)\n\nUMAX was using MIN_OR_INF (signed minimum value) as the identity:\n  - Byte.MIN_VALUE (-128) instead of 0\n  - Short.MIN_VALUE (-32768) instead of 0\n  - Integer.MIN_VALUE instead of 0\n  - Long.MIN_VALUE instead of 0\n\nThis caused incorrect result. For example:\n  UMAX([42,42,...,42]) returned 128 instead of 42\n\nSolution:\n---------\nUse correct unsigned identity values:\n  - UMIN: ($type$)-1 (maximum unsigned value)\n  - UMAX: ($type$)0 (minimum unsigned value)\n\nChanges:\n--------\n- X-Vector.java.template: Fixed identity values in reductionOperations\n- gen-template.sh: Fixed identity values for test code generation\n- templates\/Unit-header.template: Updated copyright year to 2025\n- Regenerated all Vector classes and test files\n\nTesting:\n--------\nAll types (byte\/short\/int\/long) now return correct results in both\ninterpreter mode (-Xint) and compiled mode."},"files":[],"sha":"4fb63a3624ab3f5e7e96faff0782d6df7280088f"}]
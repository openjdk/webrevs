{"files":[{"patch":"@@ -233,1 +233,1 @@\n-      VirtualMemoryTracker::set_reserved_region_type((address)addr, size, mem_tag);\n+      VirtualMemoryTracker::Instance::set_reserved_region_tag((address)addr, size, mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-      CommittedMemoryRegion cmr((address)prev.position(), curr.distance_from(prev), stack(curr));\n+      CommittedMemoryRegion cmr((address)prev.position(), curr.distance_from(prev), stack(prev));\n@@ -65,1 +65,1 @@\n-      auto st = stack(curr);\n+      auto st = stack(begin_node);\n","filename":"src\/hotspot\/share\/nmt\/regionsTree.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-void VirtualMemoryTracker::Instance::set_reserved_region_tag(address addr, MemTag mem_tag) {\n+void VirtualMemoryTracker::Instance::set_reserved_region_tag(address addr, size_t size, MemTag mem_tag) {\n@@ -79,1 +79,1 @@\n-  _tracker->set_reserved_region_tag(addr, mem_tag);\n+  _tracker->set_reserved_region_tag(addr, size, mem_tag);\n@@ -82,3 +82,2 @@\n-void VirtualMemoryTracker::set_reserved_region_tag(address addr, MemTag mem_tag) {\n-    ReservedMemoryRegion rgn = tree()->find_reserved_region(addr);\n-    VMATree::SummaryDiff diff = tree()->set_tag((VMATree::position) addr, rgn.size(), mem_tag);\n+void VirtualMemoryTracker::set_reserved_region_tag(address addr, size_t size, MemTag mem_tag) {\n+    VMATree::SummaryDiff diff = tree()->set_tag((VMATree::position) addr, size, mem_tag);\n@@ -112,2 +111,2 @@\n-    reserved = VirtualMemorySummary::as_snapshot()->by_type(tag)->reserved();\n-    committed = VirtualMemorySummary::as_snapshot()->by_type(tag)->committed();\n+    reserved = VirtualMemorySummary::as_snapshot()->by_tag(tag)->reserved();\n+    committed = VirtualMemorySummary::as_snapshot()->by_tag(tag)->committed();\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -368,1 +368,1 @@\n-  void set_reserved_region_tag   (address addr, MemTag mem_tag);\n+  void set_reserved_region_tag   (address addr, size_t size, MemTag mem_tag);\n@@ -401,1 +401,1 @@\n-    static void set_reserved_region_tag   (address addr, MemTag mem_tag);\n+    static void set_reserved_region_tag   (address addr, size_t size, MemTag mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,2 +41,0 @@\n-  tty->print_cr(\"Skipped.\");\n-  return;\n@@ -57,2 +55,2 @@\n-  EXPECT_EQ(0, diff.tag[NMTUtil::tag_to_index(mtTest)].reserve);\n-  EXPECT_EQ(50, diff.tag[NMTUtil::tag_to_index(mtTest)].commit);\n+  EXPECT_EQ(0, diff.tag[NMTUtil::tag_to_index(mtGC)].reserve);\n+  EXPECT_EQ(50, diff.tag[NMTUtil::tag_to_index(mtGC)].commit);\n@@ -65,2 +63,0 @@\n-  tty->print_cr(\"Skipped.\");\n-  return;\n","filename":"test\/hotspot\/gtest\/nmt\/test_regions_tree.cpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"}]}
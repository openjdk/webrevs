{"files":[{"patch":"@@ -1475,1 +1475,1 @@\n-      MemTracker::record_virtual_memory_tag(archive_space_rs.base(), archive_space_rs.size(), mtClassShared);\n+      MemTracker::record_virtual_memory_tag(archive_space_rs.base(), mtClassShared);\n@@ -1549,2 +1549,2 @@\n-    MemTracker::record_virtual_memory_tag(archive_space_rs.base(), archive_space_rs.size(), mtClassShared);\n-    MemTracker::record_virtual_memory_tag(class_space_rs.base(), class_space_rs.size(), mtClass);\n+    MemTracker::record_virtual_memory_tag(archive_space_rs.base(), mtClassShared);\n+    MemTracker::record_virtual_memory_tag(class_space_rs.base(), mtClass);\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), rs.size(), mem_tag);\n+  MemTracker::record_virtual_memory_tag((address)rs.base(), mem_tag);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RegionToSpaceMapper.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), rs.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag((address)rs.base(), mtGC);\n","filename":"src\/hotspot\/share\/gc\/parallel\/parMarkBitMap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -259,1 +259,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), rs.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag((address)rs.base(), mtGC);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-  MemTracker::record_virtual_memory_tag((address)rs.base(), rs.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag((address)rs.base(), mtGC);\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTable.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-  MemTracker::record_virtual_memory_tag((address)card_table.base(), card_table.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag((address)card_table.base(), mtGC);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCardTable.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-  MemTracker::record_virtual_memory_tag(_map_space.base(), _map_space.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag(_map_space.base(), mtGC);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCollectionSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -306,1 +306,1 @@\n-  MemTracker::record_virtual_memory_tag(bitmap.base(), bitmap.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag(bitmap.base(), mtGC);\n@@ -330,1 +330,1 @@\n-    MemTracker::record_virtual_memory_tag(verify_bitmap.base(), verify_bitmap.size(), mtGC);\n+    MemTracker::record_virtual_memory_tag(verify_bitmap.base(), mtGC);\n@@ -344,1 +344,1 @@\n-  MemTracker::record_virtual_memory_tag(aux_bitmap.base(), aux_bitmap.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag(aux_bitmap.base(), mtGC);\n@@ -362,1 +362,1 @@\n-  MemTracker::record_virtual_memory_tag(region_storage.base(), region_storage.size(), mtGC);\n+  MemTracker::record_virtual_memory_tag(region_storage.base(), mtGC);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-  MemTracker::record_virtual_memory_tag((address)_rs.base(), _rs.size(), mtTracing);\n+  MemTracker::record_virtual_memory_tag((address)_rs.base(), mtTracing);\n","filename":"src\/hotspot\/share\/jfr\/recorder\/storage\/jfrVirtualMemory.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -800,1 +800,1 @@\n-    MemTracker::record_virtual_memory_tag((address)rs.base(), rs.size(), mtClass);\n+    MemTracker::record_virtual_memory_tag((address)rs.base(), mtClass);\n","filename":"src\/hotspot\/share\/memory\/metaspace.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -264,1 +264,1 @@\n-  MemTracker::record_virtual_memory_tag(rs.base(), rs.size(), mtMetaspace);\n+  MemTracker::record_virtual_memory_tag(rs.base(), mtMetaspace);\n","filename":"src\/hotspot\/share\/memory\/metaspace\/virtualSpaceNode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -231,1 +231,1 @@\n-  static inline void record_virtual_memory_tag(void* addr, size_t size, MemTag mem_tag) {\n+  static inline void record_virtual_memory_tag(void* addr, MemTag mem_tag) {\n@@ -236,1 +236,1 @@\n-      VirtualMemoryTracker::Instance::set_reserved_region_tag((address)addr, size, mem_tag);\n+      VirtualMemoryTracker::Instance::set_reserved_region_tag((address)addr, mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-void VirtualMemoryTracker::Instance::set_reserved_region_tag(address addr, size_t size, MemTag mem_tag) {\n+void VirtualMemoryTracker::Instance::set_reserved_region_tag(address addr, MemTag mem_tag) {\n@@ -81,1 +81,1 @@\n-  _tracker->set_reserved_region_tag(addr, size, mem_tag);\n+  _tracker->set_reserved_region_tag(addr, mem_tag);\n@@ -84,3 +84,3 @@\n-void VirtualMemoryTracker::set_reserved_region_tag(address addr, size_t size, MemTag mem_tag) {\n-    VMATree::RegionData rd(NativeCallStackStorage::StackIndex(), mem_tag);\n-    VMATree::SummaryDiff diff = tree()->set_tag((VMATree::position) addr, size, mem_tag);\n+void VirtualMemoryTracker::set_reserved_region_tag(address addr, MemTag mem_tag) {\n+    ReservedMemoryRegion rgn = tree()->find_reserved_region(addr);\n+    VMATree::SummaryDiff diff = tree()->set_tag((VMATree::position) addr, rgn.size(), mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -382,1 +382,1 @@\n-  void set_reserved_region_tag   (address addr, size_t size, MemTag mem_tag);\n+  void set_reserved_region_tag   (address addr, MemTag mem_tag);\n@@ -416,1 +416,1 @@\n-    static void set_reserved_region_tag   (address addr, size_t size, MemTag mem_tag);\n+    static void set_reserved_region_tag   (address addr, MemTag mem_tag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -25,1 +25,0 @@\n-#include \"precompiled.hpp\"\n","filename":"src\/hotspot\/share\/opto\/stringopts.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
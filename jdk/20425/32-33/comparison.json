{"files":[{"patch":"@@ -40,0 +40,24 @@\n+TEST_VM_F(NMTRegionsTreeTest, ReserveCommitTwice) {\n+  tty->print_cr(\"Skipped.\");\n+  return;\n+  NativeCallStack ncs;\n+  VMATree::RegionData rd = rt.make_region_data(ncs, mtTest);\n+  VMATree::RegionData rd2 = rt.make_region_data(ncs, mtGC);\n+  VMATree::SummaryDiff diff;\n+  diff = rt.reserve_mapping(0, 100, rd);\n+  EXPECT_EQ(100, diff.tag[NMTUtil::tag_to_index(mtTest)].reserve);\n+  diff = rt.commit_region(0, 50, ncs);\n+  diff = rt.reserve_mapping(0, 100, rd);\n+  EXPECT_EQ(0, diff.tag[NMTUtil::tag_to_index(mtTest)].reserve);\n+  EXPECT_EQ(-50, diff.tag[NMTUtil::tag_to_index(mtTest)].commit);\n+  diff = rt.reserve_mapping(0, 100, rd2);\n+  EXPECT_EQ(-100, diff.tag[NMTUtil::tag_to_index(mtTest)].reserve);\n+  EXPECT_EQ(100, diff.tag[NMTUtil::tag_to_index(mtGC)].reserve);\n+  diff = rt.commit_region(0, 50, ncs);\n+  EXPECT_EQ(0, diff.tag[NMTUtil::tag_to_index(mtTest)].reserve);\n+  EXPECT_EQ(50, diff.tag[NMTUtil::tag_to_index(mtTest)].commit);\n+  diff = rt.commit_region(0, 50, ncs);\n+  EXPECT_EQ(0, diff.tag[NMTUtil::tag_to_index(mtTest)].reserve);\n+  EXPECT_EQ(0, diff.tag[NMTUtil::tag_to_index(mtTest)].commit);\n+}\n+\n","filename":"test\/hotspot\/gtest\/nmt\/test_regions_tree.cpp","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"}]}
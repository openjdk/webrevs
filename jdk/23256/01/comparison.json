{"files":[{"patch":"@@ -27,0 +27,2 @@\n+#include \"logging\/logMessage.hpp\"\n+#include \"os_linux.hpp\"\n@@ -166,1 +168,12 @@\n-    VM_Version::ext_V.enable_feature();\n+    \/\/ Linux signal return bug when using vector with vlen > 128b in pre 6.8.5.\n+    long major, minor, patch;\n+    os::Linux::kernel_version(&major, &minor, &patch);\n+    if (os::Linux::kernel_version_compare(major, minor, patch, 6, 8, 5) == -1) {\n+      LogMessage(os) log;\n+      if (log.is_info()) {\n+        log.info(\"Linux kernels before 6.9 (current %ld.%ld) have a known bug when using Vector and signals.\", major, minor);\n+        log.info(\"Vector not enabled automatically via hwprobe, but can be turned on with -XX:+UseRVV.\");\n+      }\n+    } else {\n+      VM_Version::ext_V.enable_feature();\n+    }\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/riscv_hwprobe.cpp","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"}]}
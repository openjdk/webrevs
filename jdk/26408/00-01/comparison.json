{"files":[{"patch":"@@ -298,2 +298,6 @@\n-    @IR(applyIfAnd = { \"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\" },\n-        applyIfCPUFeatureOr = { \"avx512\", \"true\", \"rvv\", \"true\" },\n+    @IR(applyIf = { \"SuperWordReductions\", \"true\" },\n+        applyIfCPUFeature = { \"avx512\", \"true\" },\n+        counts = { IRNode.MAX_REDUCTION_V, \"> 0\" })\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfAnd = { \"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\" },\n+        applyIfCPUFeature = { \"rvv\", \"true\" },\n@@ -333,2 +337,6 @@\n-    @IR(applyIfAnd = { \"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\" },\n-        applyIfCPUFeatureOr = { \"avx512\", \"true\", \"rvv\", \"true\" },\n+    @IR(applyIf = { \"SuperWordReductions\", \"true\" },\n+        applyIfCPUFeature = { \"avx512\", \"true\" },\n+        counts = { IRNode.MIN_REDUCTION_V, \"> 0\" })\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfAnd = { \"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\" },\n+        applyIfCPUFeature = { \"rvv\", \"true\" },\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestIfMinMax.java","additions":12,"deletions":4,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -84,2 +84,2 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n+        applyIf = {\"SuperWordReductions\", \"true\"},\n@@ -88,0 +88,4 @@\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+        counts = {IRNode.ADD_REDUCTION_VI, \">= 1\"})\n@@ -97,2 +101,2 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n+        applyIf = {\"SuperWordReductions\", \"true\"},\n@@ -101,0 +105,4 @@\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+        counts = {IRNode.ADD_REDUCTION_VI, \">= 1\"})\n@@ -111,2 +119,2 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n+        applyIf = {\"SuperWordReductions\", \"true\"},\n@@ -115,0 +123,4 @@\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+        counts = {IRNode.ADD_REDUCTION_VI, \">= 1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestGeneralizedReductions.java","additions":18,"deletions":6,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-        applyIfAnd = {\"AlignVector\", \"false\", \"MaxVectorSize\", \">=32\"},\n+        applyIfOr = {\"AlignVector\", \"false\", \"UseCompactObjectHeaders\", \"false\"},\n@@ -69,1 +69,7 @@\n-        applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"})\n+        applyIfCPUFeature = {\"avx2\", \"true\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,   IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.OR_REDUCTION_V,                                                 \"> 0\",},\n+        applyIfAnd = {\"AlignVector\", \"false\", \"MaxVectorSize\", \">=32\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"})\n@@ -74,2 +80,2 @@\n-        applyIfPlatform = {\"64-bit\", \"true\"},\n-        applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"})\n+        applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestUnorderedReductionPartialVectorization.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -180,1 +180,4 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n+        counts = {IRNode.ADD_REDUCTION_V, \">0\"})\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/LoopReductionOpTest.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
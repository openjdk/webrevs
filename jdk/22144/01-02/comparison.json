{"files":[{"patch":"@@ -281,7 +281,12 @@\n-  if (is_power_of_2(c - 1)) {\n-    __ shift_left(left, exact_log2(c - 1), tmp);\n-    __ add(tmp, left, result);\n-    return true;\n-  } else if (is_power_of_2(c + 1)) {\n-    __ shift_left(left, exact_log2(c + 1), tmp);\n-    __ sub(tmp, left, result);\n+  if (c > 0 && c < max_jint) {\n+    if (is_power_of_2(c - 1)) {\n+      __ shift_left(left, exact_log2(c - 1), tmp);\n+      __ add(tmp, left, result);\n+      return true;\n+    } else if (is_power_of_2(c + 1)) {\n+      __ shift_left(left, exact_log2(c + 1), tmp);\n+      __ sub(tmp, left, result);\n+      return true;\n+    }\n+  } else if (c == -1) {\n+    __ negate(left, result);\n@@ -289,2 +294,0 @@\n-  } else {\n-    return false;\n@@ -292,0 +295,1 @@\n+  return false;\n","filename":"src\/hotspot\/cpu\/aarch64\/c1_LIRGenerator_aarch64.cpp","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -331,9 +331,14 @@\n-  if (is_power_of_2(c + 1)) {\n-    LIR_Address::Scale scale = (LIR_Address::Scale) log2i_exact(c + 1);\n-    LIR_Address* addr = new LIR_Address(left, left, scale, 0, T_INT);\n-    __ sub(LIR_OprFact::address(addr), left, result); \/\/ rsb with shifted register\n-    return true;\n-  } else if (is_power_of_2(c - 1)) {\n-    LIR_Address::Scale scale = (LIR_Address::Scale) log2i_exact(c - 1);\n-    LIR_Address* addr = new LIR_Address(left, left, scale, 0, T_INT);\n-    __ add(left, LIR_OprFact::address(addr), result); \/\/ add with shifted register\n+  if (c > 0 && c < max_jint) {\n+    if (is_power_of_2(c + 1)) {\n+      LIR_Address::Scale scale = (LIR_Address::Scale) log2i_exact(c + 1);\n+      LIR_Address *addr = new LIR_Address(left, left, scale, 0, T_INT);\n+      __ sub(LIR_OprFact::address(addr), left, result); \/\/ rsb with shifted register\n+      return true;\n+    } else if (is_power_of_2(c - 1)) {\n+      LIR_Address::Scale scale = (LIR_Address::Scale) log2i_exact(c - 1);\n+      LIR_Address *addr = new LIR_Address(left, left, scale, 0, T_INT);\n+      __ add(left, LIR_OprFact::address(addr), result); \/\/ add with shifted register\n+      return true;\n+    }\n+  } else if(c == -1) {\n+    __ negate(left, result);\n","filename":"src\/hotspot\/cpu\/arm\/c1_LIRGenerator_arm.cpp","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -272,0 +272,18 @@\n+\n+        if (true) {\n+          x = a;\n+        } else {\n+          x = b;\n+        }\n+\n+        z_bre(ok);\n+        lg(x, b);\n+        z_bru(tmp);\n+        bind(ok);\n+        lg(x,a);\n+        bind(tmp);\n+\n+\n+        z_lochie(a)\n+          (b)\n+\n","filename":"src\/hotspot\/cpu\/s390\/gc\/shared\/barrierSetAssembler_s390.cpp","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"}]}
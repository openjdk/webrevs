{"files":[{"patch":"@@ -299,2 +299,4 @@\n-  if (is_power_of_2(c + 1)) {\n-    __ shift_left(left, log2i_exact(c + 1), result);\n+  \/\/ Using unsigned arithmetics to avoid undefined behavior due to integer overflow.\n+  \/\/ The involved operations are not sensitive to signedness.\n+  if (is_power_of_2((juint)c + 1)) {\n+    __ shift_left(left, log2i_exact((juint)c + 1), result);\n@@ -303,2 +305,2 @@\n-  } else if (is_power_of_2(c - 1)) {\n-    __ shift_left(left, log2i_exact(c - 1), result);\n+  } else if (is_power_of_2((juint)c - 1)) {\n+    __ shift_left(left, log2i_exact((juint)c - 1), result);\n@@ -307,0 +309,3 @@\n+  } else if (c == -1) {\n+    __ negate(left, result);\n+    return true;\n","filename":"src\/hotspot\/cpu\/ppc\/c1_LIRGenerator_ppc.cpp","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -242,0 +242,3 @@\n+  } else if(c == -1) {\n+    __ negate(left, result);\n+    return true;\n","filename":"src\/hotspot\/cpu\/s390\/c1_LIRGenerator_s390.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
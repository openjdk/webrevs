{"files":[{"patch":"@@ -377,0 +377,1 @@\n+                boolean codeMatch = dcb.original != null && codeAndExceptionsMatch(codeLength);\n@@ -378,2 +379,2 @@\n-                if (dcb.original != null && codeAndExceptionsMatch(codeLength)) {\n-                    if (context.stackMapsWhenRequired()) {\n+                if (context.stackMapsWhenRequired()) {\n+                    if (codeMatch) {\n@@ -382,7 +383,1 @@\n-                    } else if (context.generateStackMaps()) {\n-                        generateStackMaps(buf);\n-                    } else if (context.dropStackMaps()) {\n-                        writeCounters(true, buf);\n-                    }\n-                } else {\n-                    if (context.stackMapsWhenRequired()) {\n+                    } else {\n@@ -390,4 +385,0 @@\n-                    } else if (context.generateStackMaps()) {\n-                        generateStackMaps(buf);\n-                    } else if (context.dropStackMaps()) {\n-                        writeCounters(false, buf);\n@@ -395,0 +386,4 @@\n+                } else if (context.generateStackMaps()) {\n+                    generateStackMaps(buf);\n+                } else if (context.dropStackMaps()) {\n+                    writeCounters(codeMatch, buf);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/DirectCodeBuilder.java","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"}]}
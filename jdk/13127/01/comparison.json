{"files":[{"patch":"@@ -1,1 +1,1 @@\n-# Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -114,1 +114,2 @@\n-    --override-methods=summary\n+    --override-methods=summary \\\n+    --no-external-specs-page\n@@ -121,1 +122,2 @@\n-    -html5 -javafx --expand-requires transitive\n+    -html5 -javafx --expand-requires transitive \\\n+    --no-external-specs-page\n","filename":"make\/Docs.gmk","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -157,0 +157,1 @@\n+     *\n@@ -158,2 +159,6 @@\n-     * they are required, such as when deciding whether or not to generate links\n-     * to these files in the navigation par, on each page, the help file, and so on.\n+     * they are required, such as when deciding whether to generate links\n+     * to these files in the navigation bar, on each page, the help file, and so on.\n+     *\n+     * The value for any page may depend on both command-line options to enable or\n+     * disable a page, and on content being found for the page, such as deprecated\n+     * items to appear in the summary page of deprecated items.\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlConfiguration.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -266,1 +266,3 @@\n-            ExternalSpecsWriter.generate(configuration);\n+            if (!options.noExternalSpecsPage()){\n+                ExternalSpecsWriter.generate(configuration);\n+            }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -141,0 +141,7 @@\n+    \/**\n+     * Argument for command-line option {@code --no-external-spec-page}.\n+     * True if command-line option \"--no-external-spec-page\" is used. Default value is\n+     * false.\n+     *\/\n+    private boolean noExternalSpecsPage = false;\n+\n@@ -346,0 +353,8 @@\n+                new Hidden(resources, \"--no-external-specs-page\") {\n+                    @Override\n+                    public boolean process(String opt, List<String> args) {\n+                        noExternalSpecsPage = true;\n+                        return true;\n+                    }\n+                },\n+\n@@ -660,0 +675,9 @@\n+    \/**\n+     * Argument for command-line option {@code --no-external-specs-page}.\n+     * True if command-line option \"--no-external-specs-page\" is used. Default value is\n+     * false.\n+     *\/\n+    public boolean noExternalSpecsPage() {\n+        return noExternalSpecsPage;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlOptions.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6251738 8226279 8297802\n+ * @bug 6251738 8226279 8297802 8296546\n@@ -459,0 +459,14 @@\n+    @Test\n+    public void testSuppressSpecPage(Path base) throws IOException {\n+        Path src = base.resolve(\"src\");\n+        tb.writeJavaFiles(src, \"package p; \/** @spec http:\/\/example.com label *\/ public class C { }\");\n+\n+        javadoc(\"-d\", base.resolve(\"out\").toString(),\n+                \"--source-path\", src.toString(),\n+                \"--no-external-specs-page\",\n+                \"p\");\n+        checkExit(Exit.OK);\n+\n+        checkFiles(false, \"external-specs.html\");\n+    }\n+\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSpecTag\/TestSpecTag.java","additions":16,"deletions":2,"binary":false,"changes":18,"status":"modified"}]}
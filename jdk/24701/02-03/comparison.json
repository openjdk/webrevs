{"files":[{"patch":"@@ -158,2 +158,0 @@\n-        \/\/ Override for PK=PKR in test\/currency.properties is PKZ - simple\n-        \/\/ Override for PW=USD in test\/currency.properties is MWP - special\n@@ -161,0 +159,5 @@\n+            \/\/ Check that the module patch class files exist\n+            checkModulePatchExists();\n+            \/\/ Check time is mocked\n+            \/\/ Override for PK=PKR in test\/currency.properties is PKZ - simple\n+            \/\/ Override for PW=USD in test\/currency.properties is MWP - special\n@@ -186,0 +189,11 @@\n+        if (MOCKED_TIME.equals(\"true\")) {\n+            checkModulePatchExists();\n+        }\n+    }\n+\n+    static void checkModulePatchExists() {\n+        \/\/ Check that the module patch class files exist\n+        for (String className : CLASSES) {\n+            var file = new File(MODULE_PATCH_LOCATION + className);\n+            assertTrue(file.isFile(), \"Module patch class files missing\");\n+        }\n@@ -203,2 +217,4 @@\n-                case InvokeInstruction i when i.name().stringValue().equals(\"currentTimeMillis\") ->\n-                        codeBuilder.loadConstant(Long.MAX_VALUE); \/\/ mock\n+                case InvokeInstruction i when\n+                        i.owner().asInternalName().equals(\"java\/lang\/System\")\n+                                && i.name().equalsString(\"currentTimeMillis\") ->\n+                    codeBuilder.loadConstant(Long.MAX_VALUE); \/\/ mock\n","filename":"test\/jdk\/java\/util\/Currency\/ValidateISO4217.java","additions":20,"deletions":4,"binary":false,"changes":24,"status":"modified"}]}
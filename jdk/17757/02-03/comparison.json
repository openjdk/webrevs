{"files":[{"patch":"@@ -122,1 +122,1 @@\n-        _write_lock.wait(0);\n+        _producer_lock.wait(0);\n@@ -146,1 +146,1 @@\n-  _read_lock.notify();\n+  _consumer_lock.notify();\n@@ -189,2 +189,2 @@\n-  \/\/ Notify a writer that more memory is available\n-  _write_lock.notify();\n+  \/\/ Notify a producer that more memory is available\n+  _producer_lock.notify();\n@@ -197,1 +197,1 @@\n-  _read_lock.notify();\n+  _consumer_lock.notify();\n@@ -205,1 +205,1 @@\n-bool CircularStringBuffer::has_message() {\n+bool CircularStringBuffer::maybe_has_message() {\n@@ -215,1 +215,1 @@\n-      _read_lock.wait(0 \/* no timeout *\/);\n+      _consumer_lock.wait(0 \/* no timeout *\/);\n","filename":"src\/hotspot\/share\/logging\/circularStringBuffer.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -121,2 +121,2 @@\n-  PlatformMonitor _read_lock;\n-  PlatformMonitor _write_lock;\n+  PlatformMonitor _consumer_lock;\n+  PlatformMonitor _producer_lock;\n@@ -128,1 +128,1 @@\n-      buf->_read_lock.lock();\n+      buf->_consumer_lock.lock();\n@@ -131,1 +131,1 @@\n-      buf->_read_lock.unlock();\n+      buf->_consumer_lock.unlock();\n@@ -137,1 +137,1 @@\n-      buf->_write_lock.lock();\n+      buf->_producer_lock.lock();\n@@ -140,1 +140,1 @@\n-      buf->_write_lock.unlock();\n+      buf->_producer_lock.unlock();\n@@ -147,2 +147,2 @@\n-  \/\/ Reader reads tail, writes to head.\n-  \/\/ Writer reads head, writes to tail.\n+  \/\/ Consumer reads tail, writes to head.\n+  \/\/ Producer reads head, writes to tail.\n@@ -210,1 +210,1 @@\n-  bool has_message();\n+  bool maybe_has_message();\n","filename":"src\/hotspot\/share\/logging\/circularStringBuffer.hpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-  while (_circular_buffer.has_message()) {\n+  while (_circular_buffer.maybe_has_message()) {\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-                    \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\";\n+                              \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\";\n@@ -143,1 +143,1 @@\n-    size_t old_tail = cb.tail;\n+    size_t old_tail = cb._tail;\n@@ -145,1 +145,1 @@\n-    EXPECT_TRUE(cb.tail != old_tail);\n+    EXPECT_TRUE(cb._tail != old_tail);\n","filename":"test\/hotspot\/gtest\/logging\/test_asynclog.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -31,1 +31,1 @@\n-void CodeBuffer::share_trampoline_for(relocInfo::relocType rtype, address dest, int caller_offset) {\n+void CodeBuffer::share_trampoline_for(address key, address dest, int caller_offset) {\n@@ -39,1 +39,1 @@\n-  SharedTrampolineRequestsValue* value = _shared_trampoline_requests->put_if_absent(dest, &created);\n+  SharedTrampolineRequestsValue* value = _shared_trampoline_requests->put_if_absent(key, &created);\n@@ -42,1 +42,1 @@\n-    value->rtype = rtype;\n+    value->dest = dest;\n@@ -44,1 +44,1 @@\n-    assert(value->rtype == rtype, \"same destination with another type already exists\");\n+    assert(value->dest == dest, \"Another destination for the same key already exists\");\n@@ -59,1 +59,1 @@\n-  auto emit = [&](address dest, const CodeBuffer::SharedTrampolineRequestsValue &value) {\n+  auto emit = [&](address key, const CodeBuffer::SharedTrampolineRequestsValue &value) {\n@@ -61,1 +61,1 @@\n-    relocInfo::relocType rtype = value.rtype;\n+    address dest = value.dest;\n@@ -64,3 +64,0 @@\n-    if (rtype == relocInfo::static_call_type) {\n-      dest = SharedRuntime::get_resolve_static_call_stub();\n-    }\n","filename":"src\/hotspot\/cpu\/aarch64\/codeBuffer_aarch64.cpp","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-  void share_trampoline_for(relocInfo::relocType rtype, address dest, int caller_offset);\n+  void share_trampoline_for(address key, address dest, int caller_offset);\n","filename":"src\/hotspot\/cpu\/aarch64\/codeBuffer_aarch64.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -909,1 +909,1 @@\n-        code()->share_trampoline_for(relocInfo::runtime_call_type, entry.target(), offset());\n+        code()->share_trampoline_for(entry.target(), entry.target(), offset());\n@@ -912,1 +912,1 @@\n-        code()->share_trampoline_for(relocInfo::static_call_type, (address)callee, offset());\n+        code()->share_trampoline_for(address(callee), entry.target(), offset());\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -545,1 +545,1 @@\n-    relocInfo::relocType rtype;\n+    address dest;\n","filename":"src\/hotspot\/share\/asm\/codeBuffer.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
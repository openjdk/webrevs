{"files":[{"patch":"@@ -190,1 +190,1 @@\n-WB_ENTRY(jint, WB_LockAndStuckInSafepoint(JNIEnv* env, jobject wb))\n+WB_ENTRY(jint, WB_TakeLockAndHangInSafepoint(JNIEnv* env, jobject wb))\n@@ -193,1 +193,1 @@\n-  VM_ForceSafepointStuck force_safepoint_stuck_op;\n+  VM_HangInSafepoint force_safepoint_stuck_op;\n@@ -3006,1 +3006,1 @@\n-  {CC\"lockAndStuckInSafepoint\", CC\"()V\", (void*)&WB_LockAndStuckInSafepoint},\n+  {CC\"lockAndStuckInSafepoint\", CC\"()V\", (void*)&WB_TakeLockAndHangInSafepoint},\n","filename":"src\/hotspot\/share\/prims\/whitebox.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-class VM_ForceSafepointStuck: public VM_Operation {\n+class VM_HangInSafepoint: public VM_Operation {\n","filename":"src\/hotspot\/share\/runtime\/vmOperations.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -662,1 +662,0 @@\n-  nonstatic_field(JavaThread,                  _osthread,                                     OSThread*)                             \\\n@@ -670,0 +669,1 @@\n+  nonstatic_field(Thread,                      _osthread,                                     OSThread*)                             \\\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+  private static AddressField osThreadField;\n@@ -56,0 +57,2 @@\n+    osThreadField = typeThread.getAddressField(\"_osthread\");\n+\n@@ -126,0 +129,4 @@\n+  public OSThread osThread() {\n+    return new OSThread(osThreadField.getValue(addr));\n+  }\n+\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/Thread.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-        return \"Unknnown thread (Might be non-Java Thread)\";\n+        return \"Unknown thread\";\n@@ -63,0 +63,2 @@\n+                sun.jvm.hotspot.runtime.Thread t = new sun.jvm.hotspot.runtime.Thread(mutex.owner());\n+                int nativeThreadId = t.osThread().threadId();\n@@ -64,1 +66,1 @@\n-                        + \" with address: \" + mutex.owner());\n+                        + \", nid=\" + nativeThreadId + \", address=\" + mutex.owner());\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/VMLocksPrinter.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -43,1 +43,1 @@\n-  return (intptr_t*)((address)this + size()) + 2;\n+  return (intptr_t*)((address)this + size()) + frame::metadata_words;\n@@ -47,1 +47,1 @@\n-  intptr_t** fp = (intptr_t**)(bottom_sender_sp() - 2);\n+  intptr_t** fp = (intptr_t**)(bottom_sender_sp() - frame::metadata_words);\n","filename":"src\/hotspot\/cpu\/riscv\/continuationEntry_riscv.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-  *(frame_sp - 2) = *(heap_sp - 2);\n+  *(frame_sp - frame::metadata_words) = *(heap_sp - frame::metadata_words);\n@@ -64,1 +64,1 @@\n-  intptr_t* sender_sp = (intptr_t*)(link_addr + 2); \/\/  f.unextended_sp() + (fsize\/wordSize); \/\/\n+  intptr_t* sender_sp = (intptr_t*)(link_addr + frame::metadata_words); \/\/  f.unextended_sp() + (fsize\/wordSize); \/\/\n@@ -104,1 +104,1 @@\n-    fp = *(intptr_t**)(f.sp() - 2);\n+    fp = *(intptr_t**)(f.sp() - frame::metadata_words);\n@@ -176,1 +176,1 @@\n-  assert(chunk->is_in_chunk(hf.sp() - 2), \"\");\n+  assert(chunk->is_in_chunk(hf.sp() - frame::metadata_words), \"\");\n@@ -180,1 +180,1 @@\n-  intptr_t* fp_addr = hf.sp() - 2;\n+  intptr_t* fp_addr = hf.sp() - frame::metadata_words;\n@@ -272,1 +272,1 @@\n-        : *(intptr_t**)(hf.sp() - 2);\n+        : *(intptr_t**)(hf.sp() - frame::metadata_words);\n","filename":"src\/hotspot\/cpu\/riscv\/continuationFreezeThaw_riscv.inline.hpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-            : (intptr_t**)(f.unextended_sp() + f.cb()->frame_size() - 2);\n+            : (intptr_t**)(f.unextended_sp() + f.cb()->frame_size() - frame::metadata_words);\n@@ -84,1 +84,1 @@\n-  *(intptr_t**)(f.sp() - 2) = f.fp();\n+  *(intptr_t**)(f.sp() - frame::metadata_words) = f.fp();\n@@ -92,1 +92,1 @@\n-  intptr_t* fp = *(intptr_t**)(sp - 2);\n+  intptr_t* fp = *(intptr_t**)(sp - frame::metadata_words);\n@@ -100,1 +100,1 @@\n-  intptr_t* fp = *(intptr_t**)(sp - 2);\n+  intptr_t* fp = *(intptr_t**)(sp - frame::metadata_words);\n@@ -108,1 +108,1 @@\n-  return (intptr_t**)(f.sp() - 2);\n+  return (intptr_t**)(f.sp() - frame::metadata_words);\n","filename":"src\/hotspot\/cpu\/riscv\/continuationHelper_riscv.inline.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -157,1 +157,1 @@\n-      saved_fp = (intptr_t*) *(sender_sp - 2);\n+      saved_fp = (intptr_t*) *(sender_sp - frame::metadata_words);\n@@ -638,1 +638,1 @@\n-      fp_loc = real_fp() - 2;\n+      fp_loc = real_fp() - frame::metadata_words;\n","filename":"src\/hotspot\/cpu\/riscv\/frame_riscv.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -150,1 +150,4 @@\n-inline frame::frame(intptr_t* ptr_sp) : frame(ptr_sp, ptr_sp, *(intptr_t**)(ptr_sp - 2), *(address*)(ptr_sp - 1)) {}\n+inline frame::frame(intptr_t* ptr_sp)\n+  : frame(ptr_sp, ptr_sp,\n+          *(intptr_t**)(ptr_sp - frame::metadata_words),\n+          *(address*)(ptr_sp - 1)) {}\n","filename":"src\/hotspot\/cpu\/riscv\/frame_riscv.inline.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-    frame::update_map_with_saved_link(map, (intptr_t**)sp - 2);\n+    frame::update_map_with_saved_link(map, (intptr_t**)sp - frame::metadata_words);\n@@ -60,1 +60,1 @@\n-    return (address)(sp - 2);\n+    return (address)(sp - frame::metadata_words);\n","filename":"src\/hotspot\/cpu\/riscv\/smallRegisterMap_riscv.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-  return p == sp() - 2 || ((p - unextended_sp()) >= 0 && (p - unextended_sp()) < frame_size);\n+  return p == sp() - frame::metadata_words || ((p - unextended_sp()) >= 0 && (p - unextended_sp()) < frame_size);\n@@ -60,1 +60,1 @@\n-  intptr_t* fp_addr = _sp - 2;\n+  intptr_t* fp_addr = _sp - frame::metadata_words;\n@@ -126,1 +126,2 @@\n-    frame::update_map_with_saved_link(map, map->in_cont() ? (intptr_t**)2 : (intptr_t**)(_sp - 2));\n+    frame::update_map_with_saved_link(map, map->in_cont() ? (intptr_t**)(intptr_t)frame::metadata_words\n+                                                          : (intptr_t**)(_sp - frame::metadata_words));\n@@ -134,1 +135,2 @@\n-    frame::update_map_with_saved_link(map, map->in_cont() ? (intptr_t**)2 : (intptr_t**)(_sp - 2));\n+    frame::update_map_with_saved_link(map, map->in_cont() ? (intptr_t**)(intptr_t)frame::metadata_words\n+                                                          : (intptr_t**)(_sp - frame::metadata_words));\n","filename":"src\/hotspot\/cpu\/riscv\/stackChunkFrameStream_riscv.inline.hpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"}]}
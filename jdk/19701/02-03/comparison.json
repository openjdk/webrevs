{"files":[{"patch":"@@ -1759,1 +1759,1 @@\n-                    \/\/ storeHash for printCer\n+                    \/\/ storeHash for printCert\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Main.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,3 @@\n-                + \"-keypass changeit -keystore ks \" + cmd);\n+                + \"-ext bc -keypass changeit -keystore ks \" + cmd);\n+        \/\/ Add \"-ext bc\" to avoid CertPath validation failure.\n+        \/\/ It's harmless to add it to an end-entity cert.\n@@ -84,0 +86,7 @@\n+        js(\"-verify a.jar ca1 -strict\") \/\/ notSignedByAlias is severe\n+                .shouldContainOrderedSequence(\"Error:\",\n+                        \"not signed by the specified alias(es)\",\n+                        \"Warning:\")\n+                .shouldNotContain(\"not signed by alias in this keystore\")\n+                .shouldHaveExitValue(32);\n+\n@@ -94,0 +103,5 @@\n+        js(\"-verify a.jar -strict\") \/\/ aliasNotInStore is informational\n+                .shouldContain(\"not signed by alias in this keystore\")\n+                .shouldNotContain(\"Error:\")\n+                .shouldHaveExitValue(0);\n+\n@@ -106,1 +120,1 @@\n-        \/\/ If n2 is removed, then b has no signer. The warning is informational.\n+        \/\/ If n2 is removed, then b has no signer\n@@ -108,6 +122,2 @@\n-        var exit = js(\"-verify a.jar -strict\")\n-                .shouldContainOrderedSequence(\"Warning:\",\n-                        \"not signed by alias in this keystore\")\n-                .getExitValue();\n-        \/\/ aliasNotInStore no longer maps to exit code 32\n-        Asserts.assertEQ(exit & 32, 0);\n+        var exit = js(\"-verify a.jar\")\n+                .shouldContain(\"not signed by alias in this keystore\");\n","filename":"test\/jdk\/sun\/security\/tools\/jarsigner\/ByAlias.java","additions":18,"deletions":8,"binary":false,"changes":26,"status":"modified"}]}
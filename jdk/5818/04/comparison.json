{"files":[{"patch":"@@ -295,2 +295,1 @@\n-        ObjectInput a = getExtObjectInputStream(c);\n-        try {\n+        try (ObjectInput a = getExtObjectInputStream(c)) {\n@@ -299,2 +298,0 @@\n-        } finally {\n-            a.close();\n@@ -415,2 +412,1 @@\n-        ObjectInput a = getExtObjectInputStream(c);\n-        try {\n+        try (ObjectInput a = getExtObjectInputStream(c)) {\n@@ -419,2 +415,0 @@\n-        } finally {\n-            a.close();\n","filename":"src\/java.base\/share\/classes\/javax\/crypto\/SealedObject.java","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -71,4 +71,4 @@\n-            InputStream in = new FileInputStream(fname);\n-            BufferedInputStream bin = new BufferedInputStream(in);\n-            props.load(bin);\n-            bin.close();\n+            try (FileInputStream in = new FileInputStream(fname);\n+                 BufferedInputStream bin = new BufferedInputStream(in)) {\n+                props.load(bin);\n+            }\n","filename":"src\/java.base\/share\/classes\/sun\/net\/NetProperties.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+\n@@ -384,3 +385,1 @@\n-        FileOutputStream os = null;\n-        try {\n-            os = new FileOutputStream(file);\n+        try (FileOutputStream os = new FileOutputStream(file)) {\n@@ -409,5 +408,0 @@\n-        finally {\n-            if (os != null) {\n-                try { os.close(); } catch (IOException e) {}\n-            }\n-        }\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/MimeTable.java","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,0 @@\n-import java.net.URL;\n@@ -115,3 +114,1 @@\n-        DataOutputStream output = null;\n-        try {\n-            output = new DataOutputStream(connection.getOutputStream());\n+        try (var output = new DataOutputStream(connection.getOutputStream())) {\n@@ -125,4 +122,0 @@\n-        } finally {\n-            if (output != null) {\n-                output.close();\n-            }\n@@ -132,1 +125,0 @@\n-        BufferedInputStream input = null;\n@@ -134,2 +126,1 @@\n-        try {\n-            input = new BufferedInputStream(connection.getInputStream());\n+        try (var input = new BufferedInputStream(connection.getInputStream())) {\n@@ -160,4 +151,0 @@\n-        } finally {\n-            if (input != null) {\n-                input.close();\n-            }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/timestamp\/HttpTimestamper.java","additions":3,"deletions":16,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -228,1 +228,3 @@\n-        p.load(new FileInputStream(file));\n+        try (FileInputStream is = new FileInputStream(file)) {\n+            p.load(is);\n+        }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/tools\/KeyStoreUtil.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -127,3 +127,1 @@\n-                InputStream in = null;\n-                try {\n-                    in = passURL.openStream();\n+                try (InputStream in = passURL.openStream()) {\n@@ -131,4 +129,0 @@\n-                } finally {\n-                    if (in != null) {\n-                        in.close();\n-                    }\n@@ -162,4 +156,2 @@\n-                InputStream inStream = null;\n-                try {\n-                    inStream =\n-                        new BufferedInputStream(getInputStream(keyStoreUrl));\n+                try (InputStream inStream =\n+                        new BufferedInputStream(getInputStream(keyStoreUrl))) {\n@@ -167,2 +159,0 @@\n-                } finally {\n-                    inStream.close();\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/PolicyUtil.java","additions":4,"deletions":14,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2010, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,0 @@\n-import sun.net.sdp.SdpSupport;\n@@ -195,2 +194,1 @@\n-        Scanner scanner = new Scanner(new File(file));\n-        try {\n+        try (Scanner scanner = new Scanner(new File(file))) {\n@@ -282,2 +280,0 @@\n-        } finally {\n-            scanner.close();\n","filename":"src\/java.base\/unix\/classes\/sun\/net\/sdp\/SdpProvider.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -32,0 +32,1 @@\n+import java.util.Iterator;\n@@ -365,2 +366,2 @@\n-                            List<File> listStart_OldSize = new Vector<>(fileCache.subList(start, oldSize));\n-                            if (newFileCache.subList(end, newSize).equals(listStart_OldSize)) {\n+                            if (compareIterators(newFileCache.subList(end, newSize).iterator(),\n+                                    fileCache.subList(start, oldSize).iterator())) {\n@@ -386,2 +387,2 @@\n-                            List<File> listEnd_OldSize = new Vector<>(fileCache.subList(end, oldSize));\n-                            if (listEnd_OldSize.equals(newFileCache.subList(start, newSize))) {\n+                            if (compareIterators(newFileCache.subList(start, newSize).iterator(),\n+                                    fileCache.subList(end, oldSize).iterator())) {\n@@ -415,0 +416,12 @@\n+\n+        private synchronized <T> boolean compareIterators(Iterator<T> iterator1, Iterator<T> iterator2) {\n+            while(iterator1.hasNext() && iterator2.hasNext()) {\n+                T element1 = iterator1.next();\n+                T element2 = iterator2.next();\n+\n+                if(!element1.equals(element2)) {\n+                    return false;\n+                }\n+            }\n+            return !iterator1.hasNext() && !iterator2.hasNext();\n+        }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicDirectoryModel.java","additions":17,"deletions":4,"binary":false,"changes":21,"status":"modified"}]}
{"files":[{"patch":"@@ -203,1 +203,1 @@\n-    return false;\n+    return true;\n","filename":"src\/hotspot\/cpu\/riscv\/matcher_riscv.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2315,1 +2315,1 @@\n-  if (VectorNode::is_different_use_def_size_supported() && use->is_CMove() && def->is_Bool()) {\n+  if (Matcher::supports_vector_different_use_def_size() && use->is_CMove() && def->is_Bool()) {\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -411,4 +411,0 @@\n-bool VectorNode::is_different_use_def_size_supported() {\n-  return Matcher::supports_vector_different_use_def_size();\n-}\n-\n","filename":"src\/hotspot\/share\/opto\/vectornode.cpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -113,3 +113,0 @@\n-  \/\/ Return true if every bit in this vector is 1, e.g. based on the comparison\n-  \/\/ result of 2 floats, set a double result.\n-  static bool is_different_use_def_size_supported();\n","filename":"src\/hotspot\/share\/opto\/vectornode.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1476,1 +1476,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1490,1 +1498,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1504,1 +1520,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1518,1 +1542,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1532,1 +1564,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1546,1 +1586,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1731,1 +1779,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1745,1 +1801,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1759,1 +1823,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1773,1 +1845,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1787,1 +1867,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -1801,1 +1889,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2259,1 +2355,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2273,1 +2377,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2287,1 +2399,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2301,1 +2421,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2315,1 +2443,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2329,1 +2465,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_I, IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_int, max_double)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2514,1 +2658,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2528,1 +2680,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2542,1 +2702,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2556,1 +2724,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2570,1 +2746,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2584,1 +2768,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_L,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_L, IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_long, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2786,1 +2978,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_F, IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_D,    IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n@@ -2828,1 +3028,9 @@\n-    @IR(failOn = {IRNode.STORE_VECTOR})\n+    @IR(counts = {IRNode.LOAD_VECTOR_D,     IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.LOAD_VECTOR_F,     IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.VECTOR_MASK_CMP_D, IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.VECTOR_BLEND_F,    IRNode.VECTOR_SIZE + \"min(max_double, max_float)\", \">0\",\n+                  IRNode.STORE_VECTOR, \">0\"},\n+        applyIfCPUFeatureOr = {\"rvv\", \"true\"},\n+        applyIf = {\"UseVectorCmov\", \"true\"})\n+    @IR(failOn = {IRNode.STORE_VECTOR},\n+        applyIf = {\"UseVectorCmov\", \"false\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestConditionalMove.java","additions":234,"deletions":26,"binary":false,"changes":260,"status":"modified"}]}
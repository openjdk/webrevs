{"files":[{"patch":"@@ -40,1 +40,1 @@\n-  if (has_resolved_ref_index()) {\n+  if (has_resolved_references_index()) {\n@@ -44,1 +44,1 @@\n-    _entry_specific._resolved_references_index = saved_resolved_references_index;\n+    set_resolved_references_index(saved_resolved_references_index);\n@@ -77,0 +77,5 @@\n+#ifdef ASSERT\n+    if (_has_table_index) {\n+      st->print_cr(\" - Table Index: %d\", table_index());\n+    }\n+#else\n@@ -78,0 +83,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/oops\/resolvedMethodEntry.cpp","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -80,0 +80,4 @@\n+#ifdef ASSERT\n+  bool _has_interface_klass;\n+  bool _has_table_index;\n+#endif\n@@ -90,1 +94,7 @@\n-      _bytecode2(0) { _entry_specific._interface_klass = nullptr; }\n+      _bytecode2(0) {\n+        _entry_specific._interface_klass = nullptr;\n+#ifdef ASSERT\n+        _has_interface_klass = false;\n+        _has_table_index = false;\n+#endif\n+      }\n@@ -104,0 +114,8 @@\n+  \/\/ Flags\n+  bool is_vfinal()                     const { return (_flags & (1 << is_vfinal_shift))           != 0; }\n+  bool is_final()                      const { return (_flags & (1 << is_final_shift))            != 0; }\n+  bool is_forced_virtual()             const { return (_flags & (1 << is_forced_virtual_shift))   != 0; }\n+  bool has_appendix()                  const { return (_flags & (1 << has_appendix_shift))        != 0; }\n+  bool has_local_signature()           const { return (_flags & (1 << has_local_signature_shift)) != 0; }\n+  bool has_resolved_references_index() const { return (_flags & (1 << has_resolved_ref_shift))    != 0; }\n+\n@@ -108,0 +126,1 @@\n+    assert(_has_interface_klass, \"sanity\");\n@@ -112,0 +131,1 @@\n+    assert(has_resolved_references_index(), \"sanity\");\n@@ -116,0 +136,1 @@\n+    assert(_has_table_index, \"sanity\");\n@@ -124,8 +145,0 @@\n-  \/\/ Flags\n-  bool is_vfinal()              const { return (_flags & (1 << is_vfinal_shift))           != 0; }\n-  bool is_final()               const { return (_flags & (1 << is_final_shift))            != 0; }\n-  bool is_forced_virtual()      const { return (_flags & (1 << is_forced_virtual_shift))   != 0; }\n-  bool has_appendix()           const { return (_flags & (1 << has_appendix_shift))        != 0; }\n-  bool has_local_signature()    const { return (_flags & (1 << has_local_signature_shift)) != 0; }\n-  bool has_resolved_ref_index() const { return (_flags & (1 << has_resolved_ref_shift))    != 0; }\n-\n@@ -181,0 +194,6 @@\n+    assert(has_resolved_references_index() == false &&\n+           _has_table_index                == false,\n+           \"Mutually exclusive fields %d %d %d\", has_resolved_references_index(), _has_interface_klass, _has_table_index);\n+#ifdef ASSERT\n+    _has_interface_klass = true;\n+#endif\n@@ -185,0 +204,3 @@\n+    assert(_has_interface_klass            == false &&\n+           _has_table_index                == false,\n+           \"Mutually exclusive fields %d %d %d\", has_resolved_references_index(), _has_interface_klass, _has_table_index);\n@@ -190,0 +212,6 @@\n+    assert(has_resolved_references_index() == false &&\n+           _has_interface_klass            == false,\n+           \"Mutually exclusive fields %d %d %d\", has_resolved_references_index(), _has_interface_klass, _has_table_index);\n+#ifdef ASSERT\n+    _has_table_index = true;\n+#endif\n","filename":"src\/hotspot\/share\/oops\/resolvedMethodEntry.hpp","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"}]}
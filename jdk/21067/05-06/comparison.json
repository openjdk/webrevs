{"files":[{"patch":"@@ -2645,1 +2645,1 @@\n-            String name = forWhat.getSimpleName().toString();\n+            var name = forWhat.getSimpleName().toString();\n@@ -2647,9 +2647,5 @@\n-            var restrictedSectionPath = replaceDocRootDir(contents.getContent(\"doclet.Restricted.url\").toString());\n-            var restrictedSectionLink = links.createLink(DocPath.create(restrictedSectionPath),\n-                                                   contents.getContent(\"doclet.Restricted.text\"));\n-            String leadingNoteKey = \"doclet.RestrictedLeadingNote\";\n-            Content leadingNote =\n-                    contents.getContent(leadingNoteKey, nameCode, restrictedSectionLink);\n-            restrictedDiv.add(HtmlTree.SPAN(HtmlStyles.restrictedLabel,\n-                    leadingNote));\n-            Content note1 = contents.getContent(\"doclet.RestrictedTrailingNote1\", nameCode);\n+            var restrictedMethodLink = getRestrictedMethodDocLink();\n+            var leadingNoteKey = \"doclet.RestrictedLeadingNote\";\n+            var leadingNote = contents.getContent(leadingNoteKey, nameCode, restrictedMethodLink);\n+            restrictedDiv.add(HtmlTree.SPAN(HtmlStyles.restrictedLabel, leadingNote));\n+            var note1 = contents.getContent(\"doclet.RestrictedTrailingNote1\", nameCode);\n@@ -2657,1 +2653,1 @@\n-            Content note2 = contents.getContent(\"doclet.RestrictedTrailingNote2\", nameCode);\n+            var note2 = contents.getContent(\"doclet.RestrictedTrailingNote2\", nameCode);\n@@ -2663,0 +2659,13 @@\n+    private Content getRestrictedMethodDocLink() {\n+        var restrictedMethodLabel = contents.getContent(\"doclet.RestrictedMethod\");\n+        var javaLang = utils.elementUtils.getPackageElement(\"java.lang\");\n+        if (utils.isIncluded(javaLang)) {\n+            var restrictedDocPath = pathToRoot\n+                    .resolve(docPaths.forPackage(javaLang))\n+                    .resolve(DocPaths.DOC_FILES)\n+                    .resolve(DocPaths.RESTRICTED_DOC);\n+            return links.createLink(restrictedDocPath, restrictedMethodLabel);\n+        }\n+        return restrictedMethodLabel;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":20,"deletions":11,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -427,2 +427,1 @@\n-doclet.Restricted.url={@docRoot}\/java.base\/java\/lang\/doc-files\/RestrictedMethods.html\n-doclet.Restricted.text=restricted method\n+doclet.RestrictedMethod=restricted method\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard.properties","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -166,0 +166,3 @@\n+    \/** The name of the doc-file for restricted methods. *\/\n+    public static final DocPath RESTRICTED_DOC = DocPath.create(\"RestrictedMethods.html\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -45,1 +45,0 @@\n-        tester.setAutomaticCheckLinks(false);\n@@ -114,2 +113,2 @@\n-                icted-label\"><code>restrictedMethod<\/code> is a <a href=\"..\/java.base\/java\/lang\/\\\n-                doc-files\/RestrictedMethods.html\">restricted method<\/a> of the Java platform.<\/span>\n+                icted-label\"><code>restrictedMethod<\/code> is a restricted method of the Java platf\\\n+                orm.<\/span>\n@@ -135,2 +134,2 @@\n-                =\"restricted-label\"><code>restrictedPreviewMethod<\/code> is a <a href=\"..\/java.base\/java\/lang\/\\\n-                doc-files\/RestrictedMethods.html\">restricted method<\/a> of the Java platform.<\/span>\n+                =\"restricted-label\"><code>restrictedPreviewMethod<\/code> is a restricted method of \\\n+                the Java platform.<\/span>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testRestricted\/TestRestricted.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"}]}
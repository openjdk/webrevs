{"files":[{"patch":"@@ -40,3 +40,3 @@\n-  static char*  _default_archive_path;\n-  static char*  _static_archive_path;\n-  static char*  _dynamic_archive_path;\n+  static char* _default_archive_path;\n+  static char* _static_archive_path;\n+  static char* _dynamic_archive_path;\n@@ -65,6 +65,14 @@\n-  \/\/ Basic CDS features\n-  static bool      is_dumping_archive()                      { return is_dumping_static_archive() || is_dumping_dynamic_archive(); }\n-  static bool      is_dumping_static_archive()               { return CDS_ONLY(_is_dumping_static_archive) NOT_CDS(false); }\n-  static void  enable_dumping_static_archive()               { CDS_ONLY(_is_dumping_static_archive = true); }\n-  static bool      is_dumping_dynamic_archive()              { return CDS_ONLY(_is_dumping_dynamic_archive) NOT_CDS(false); }\n-  static void  enable_dumping_dynamic_archive()              { CDS_ONLY(_is_dumping_dynamic_archive = true); }\n+  \/\/ --- Basic CDS features\n+\n+  \/\/ archive(s) in general\n+  static bool is_dumping_archive()                           { return is_dumping_static_archive() || is_dumping_dynamic_archive(); }\n+  static bool is_using_archive()                             NOT_CDS_RETURN_(false);\n+  static int num_archives(const char* archive_path)          NOT_CDS_RETURN_(0);\n+\n+  \/\/ static_archive\n+  static bool is_dumping_static_archive()                    { return CDS_ONLY(_is_dumping_static_archive) NOT_CDS(false); }\n+  static void enable_dumping_static_archive()                { CDS_ONLY(_is_dumping_static_archive = true); }\n+\n+  \/\/ dynamic_archive\n+  static bool is_dumping_dynamic_archive()                   { return CDS_ONLY(_is_dumping_dynamic_archive) NOT_CDS(false); }\n+  static void enable_dumping_dynamic_archive()               { CDS_ONLY(_is_dumping_dynamic_archive = true); }\n@@ -72,1 +80,0 @@\n-  static bool      is_using_archive()                        NOT_CDS_RETURN_(false);\n@@ -74,1 +81,8 @@\n-  \/\/ Archive paths\n+  \/\/ optimized_module_handling -- can we skip some expensive operations related to modules?\n+  static bool is_using_optimized_module_handling()           { return CDS_ONLY(_is_using_optimized_module_handling) NOT_CDS(false); }\n+  static void stop_using_optimized_module_handling()         NOT_CDS_RETURN;\n+\n+  static bool is_logging_lambda_form_invokers()              NOT_CDS_RETURN_(false);\n+\n+  \/\/ archive_path\n+\n@@ -76,1 +90,1 @@\n-  static char* default_archive_path()                         NOT_CDS_RETURN_(nullptr);\n+  static char* default_archive_path()                        NOT_CDS_RETURN_(nullptr);\n@@ -82,2 +96,1 @@\n-  static int num_archives(const char* archive_path)          NOT_CDS_RETURN_(0);\n-  static bool is_logging_lambda_form_invokers()              NOT_CDS_RETURN_(false);\n+  \/\/ --- Archived java objects\n@@ -85,5 +98,0 @@\n-  \/\/ Can we skip some expensive operations related to modules?\n-  static bool   is_using_optimized_module_handling()         { return CDS_ONLY(_is_using_optimized_module_handling) NOT_CDS(false); }\n-  static void stop_using_optimized_module_handling()         NOT_CDS_RETURN;\n-\n-  \/\/ CDS archived heap\n@@ -91,0 +99,2 @@\n+\n+  \/\/ full_module_graph (requires optimized_module_handling)\n@@ -92,3 +102,3 @@\n-  static bool   is_dumping_full_module_graph()               { return CDS_ONLY(_is_dumping_full_module_graph) NOT_CDS(false); }\n-  static void   stop_using_full_module_graph(const char* reason = nullptr) NOT_CDS_JAVA_HEAP_RETURN;\n-  static bool     is_using_full_module_graph()                NOT_CDS_JAVA_HEAP_RETURN_(false);\n+  static bool is_dumping_full_module_graph()                 { return CDS_ONLY(_is_dumping_full_module_graph) NOT_CDS(false); }\n+  static void stop_using_full_module_graph(const char* reason = nullptr) NOT_CDS_JAVA_HEAP_RETURN;\n+  static bool is_using_full_module_graph()                   NOT_CDS_JAVA_HEAP_RETURN_(false);\n","filename":"src\/hotspot\/share\/cds\/cdsConfig.hpp","additions":32,"deletions":22,"binary":false,"changes":54,"status":"modified"}]}
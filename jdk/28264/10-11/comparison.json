{"files":[{"patch":"@@ -33,1 +33,3 @@\n-NoSafepointVerifier::NoSafepointVerifier(bool active) : _thread(Thread::current()), _active(active) {\n+NoSafepointVerifier::NoSafepointVerifier(bool active)\n+  : _thread(active ? Thread::current() : nullptr),\n+    _active(active) {\n","filename":"src\/hotspot\/share\/runtime\/safepointVerifiers.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,0 +29,3 @@\n+#include \"runtime\/safepointVerifiers.hpp\"\n+#include \"runtime\/thread.hpp\"\n+#include \"utilities\/macros.hpp\"\n@@ -43,0 +46,1 @@\n+  DEBUG_ONLY(NoSafepointVerifier _nsv;)\n@@ -48,1 +52,3 @@\n-  SpinCriticalSection(volatile int* lock) : _lock(lock) {\n+  SpinCriticalSection(volatile int* lock)\n+    : _lock(lock)\n+      DEBUG_ONLY(COMMA _nsv(Thread::current_or_null_safe() != nullptr)) {\n","filename":"src\/hotspot\/share\/utilities\/spinCriticalSection.hpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}
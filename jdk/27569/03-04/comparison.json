{"files":[{"patch":"@@ -64,2 +64,5 @@\n-    static final int FOREIGN_BUFFER = 3;\n-    static final int MAPPED_BUFFER = 4;\n+    static final int MAPPED_BUFFER = 3;\n+    static final int FOREIGN_AUTO_BUFFER = 4;\n+    static final int FOREIGN_CONFINED_BUFFER = 5;\n+    static final int FOREIGN_GLOBAL_BUFFER = 6;\n+    static final int FOREIGN_SHARED_BUFFER = 7;\n@@ -86,5 +89,0 @@\n-                arguments(FOREIGN_BUFFER, false, 0, false),\n-                arguments(FOREIGN_BUFFER, false, 16, false),\n-                arguments(FOREIGN_BUFFER, true, 0, false),\n-                arguments(FOREIGN_BUFFER, true, 16, false),\n-\n@@ -93,1 +91,21 @@\n-                arguments(MAPPED_BUFFER, false, 16, false)\n+                arguments(MAPPED_BUFFER, false, 16, false),\n+\n+                arguments(FOREIGN_AUTO_BUFFER, false, 0, false),\n+                arguments(FOREIGN_AUTO_BUFFER, false, 16, false),\n+                arguments(FOREIGN_AUTO_BUFFER, true, 0, false),\n+                arguments(FOREIGN_AUTO_BUFFER, true, 16, false),\n+\n+                arguments(FOREIGN_CONFINED_BUFFER, false, 0, false),\n+                arguments(FOREIGN_CONFINED_BUFFER, false, 16, false),\n+                arguments(FOREIGN_CONFINED_BUFFER, true, 0, false),\n+                arguments(FOREIGN_CONFINED_BUFFER, true, 16, false),\n+\n+                arguments(FOREIGN_SHARED_BUFFER, false, 0, false),\n+                arguments(FOREIGN_SHARED_BUFFER, false, 16, false),\n+                arguments(FOREIGN_SHARED_BUFFER, true, 0, false),\n+                arguments(FOREIGN_SHARED_BUFFER, true, 16, false),\n+\n+                arguments(FOREIGN_GLOBAL_BUFFER, false, 0, false),\n+                arguments(FOREIGN_GLOBAL_BUFFER, false, 16, false),\n+                arguments(FOREIGN_GLOBAL_BUFFER, true, 0, false),\n+                arguments(FOREIGN_GLOBAL_BUFFER, true, 16, false)\n@@ -121,1 +139,10 @@\n-            case FOREIGN_BUFFER -> {\n+            case FOREIGN_AUTO_BUFFER -> {\n+                return Arena\n+                        .ofAuto()\n+                        .allocate(classBytes.length)\n+                        .asByteBuffer()\n+                        .put(classBytes)\n+                        .flip()\n+                        .position(pos);\n+            }\n+            case FOREIGN_CONFINED_BUFFER -> {\n@@ -130,0 +157,18 @@\n+            case FOREIGN_GLOBAL_BUFFER -> {\n+                return Arena\n+                        .global()\n+                        .allocate(classBytes.length)\n+                        .asByteBuffer()\n+                        .put(classBytes)\n+                        .flip()\n+                        .position(pos);\n+            }\n+            case FOREIGN_SHARED_BUFFER -> {\n+                return Arena\n+                        .ofShared()\n+                        .allocate(classBytes.length)\n+                        .asByteBuffer()\n+                        .put(classBytes)\n+                        .flip()\n+                        .position(pos);\n+            }\n","filename":"test\/jdk\/java\/lang\/ClassLoader\/defineClass\/DefineClassDirectByteBuffer.java","additions":54,"deletions":9,"binary":false,"changes":63,"status":"modified"}]}
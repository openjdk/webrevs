{"files":[{"patch":"@@ -102,1 +102,1 @@\n-        MarkingNMethodClosure code_closure(&roots_to_old_closure, NMethodToOopClosure::FixRelocations, false \/* keepalive nmethods *\/);\n+        NMethodToOopClosure code_closure(&roots_to_old_closure, NMethodToOopClosure::FixRelocations);\n@@ -237,1 +237,1 @@\n-  StrongRootsScope _strong_roots_scope; \/\/ needed for Threads::possibly_parallel_threads_do\n+  Threads::ThreadsClaimTokenScope _threads_claim_token_scope; \/\/ needed for Threads::possibly_parallel_threads_do\n@@ -250,1 +250,1 @@\n-    _strong_roots_scope(active_workers),\n+    _threads_claim_token_scope(),\n","filename":"src\/hotspot\/share\/gc\/parallel\/psScavenge.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -105,0 +105,9 @@\n+  struct ThreadsClaimTokenScope : StackObj {\n+    ThreadsClaimTokenScope() {\n+      Threads::change_thread_claim_token();\n+    }\n+    ~ThreadsClaimTokenScope() {\n+      Threads::assert_all_threads_claimed();\n+    }\n+  };\n+\n","filename":"src\/hotspot\/share\/runtime\/threads.hpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}
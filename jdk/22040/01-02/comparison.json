{"files":[{"patch":"@@ -286,3 +286,3 @@\n-\/\/ Clones Assertion Predicates to both unswitched loops starting at 'old_predicate_proj' by following its control inputs.\n-\/\/ It also rewires the control edges of data nodes with dependencies in the loop from the old predicates to the new\n-\/\/ cloned predicates.\n+\/\/ Clones Template Assertion Predicates to both unswitched loops starting at 'old_predicate_proj' by following its\n+\/\/ control inputs. It also rewires the control edges of data nodes with dependencies in the loop from the old predicates\n+\/\/ to the new  cloned predicates.\n@@ -314,7 +314,7 @@\n-      Node* fast_node = template_assertion_predicate_success_proj->out(j);\n-      if (loop->is_member(get_loop(ctrl_or_self(fast_node)))) {\n-        assert(fast_node->in(0) == template_assertion_predicate_success_proj, \"only control edge\");\n-        Node* slow_node = old_new[fast_node->_idx];\n-        assert(slow_node->in(0) == template_assertion_predicate_success_proj, \"only control edge\");\n-        _igvn.replace_input_of(fast_node, 0, true_path_loop_proj);\n-        to_process.push(slow_node);\n+      Node* true_path_loop_node = template_assertion_predicate_success_proj->out(j);\n+      if (loop->is_member(get_loop(ctrl_or_self(true_path_loop_node)))) {\n+        assert(true_path_loop_node->in(0) == template_assertion_predicate_success_proj, \"only control edge\");\n+        Node* false_path_loop_node = old_new[true_path_loop_node->_idx];\n+        assert(false_path_loop_node->in(0) == template_assertion_predicate_success_proj, \"only control edge\");\n+        _igvn.replace_input_of(true_path_loop_node, 0, true_path_loop_proj);\n+        to_process.push(false_path_loop_node);\n@@ -324,1 +324,1 @@\n-    \/\/ Have to delay updates to the slow loop so uses of predicate are not modified while we iterate on them.\n+    \/\/ Have to delay updates to the false path loop so uses of predicate are not modified while we iterate on them.\n","filename":"src\/hotspot\/share\/opto\/loopPredicate.cpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"}]}
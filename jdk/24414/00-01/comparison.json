{"files":[{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8286847\n+ * @bug 8286847 8353600\n@@ -29,2 +29,2 @@\n- * @library \/test\/lib\n- * @run main\/othervm -XX:-TieredCompilation -XX:CompileCommand=compileonly,TestRotateByteAndShortVector::testRotate* -Xbatch TestRotateByteAndShortVector\n+ * @library \/test\/lib \/\n+ * @run main\/othervm TestRotateByteAndShortVector\n@@ -35,0 +35,1 @@\n+import compiler.lib.ir_framework.*;\n@@ -52,21 +53,1 @@\n-        System.out.println(\"warmup\");\n-        warmup();\n-\n-        System.out.println(\"Testing...\");\n-        runRotateLeftByteTest();\n-        runRotateRightByteTest();\n-        runRotateLeftShortTest();\n-        runRotateRightShortTest();\n-\n-        System.out.println(\"PASSED\");\n-    }\n-\n-    static void warmup() {\n-        random.nextBytes(arrByte);\n-        randomShorts();\n-        for (int i = 0; i < ITERS; i++) {\n-            testRotateLeftByte(rolByte, arrByte, i);\n-            testRotateRightByte(rorByte, arrByte, i);\n-            testRotateLeftShort(rolShort, arrShort, i);\n-            testRotateRightShort(rorShort, arrShort, i);\n-        }\n+        TestFramework.run();\n@@ -81,0 +62,1 @@\n+    @Run(test = { \"testRotateLeftByte\" })\n@@ -94,0 +76,1 @@\n+    @Run(test = { \"testRotateRightByte\" })\n@@ -107,0 +90,1 @@\n+    @Run(test = { \"testRotateLeftShort\" })\n@@ -120,0 +104,1 @@\n+    @Run(test = { \"testRotateRightShort\" })\n@@ -133,0 +118,3 @@\n+    @Test\n+    @IR(failOn = { IRNode.ROTATE_LEFT_V })\n+    @IR(failOn = { IRNode.ROTATE_RIGHT_V })\n@@ -139,0 +127,3 @@\n+    @Test\n+    @IR(failOn = { IRNode.ROTATE_LEFT_V })\n+    @IR(failOn = { IRNode.ROTATE_RIGHT_V })\n@@ -145,0 +136,3 @@\n+    @Test\n+    @IR(failOn = { IRNode.ROTATE_LEFT_V })\n+    @IR(failOn = { IRNode.ROTATE_RIGHT_V })\n@@ -151,0 +145,3 @@\n+    @Test\n+    @IR(failOn = { IRNode.ROTATE_LEFT_V })\n+    @IR(failOn = { IRNode.ROTATE_RIGHT_V })\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestRotateByteAndShortVector.java","additions":21,"deletions":24,"binary":false,"changes":45,"status":"modified"}]}
{"files":[{"patch":"@@ -28,5 +28,5 @@\n- * @requires vm.gc.Parallel & os.family == \"linux\" & os.maxMemory > 2G\n- * @summary Check if the usage of THP is zero when enabled.\n- * @comment The test is not ParallelGC-specific, but a multi-threaded GC is\n- *          required. So ParallelGC is used here.\n- * @run driver runtime.os.TestTransparentHugePageUsage ${os.processors}\n+ * @requires vm.gc.Serial & os.family == \"linux\" & os.maxMemory > 2G\n+ * @summary Check that a pretouched java heap appears to use THPs by checking\n+ *          AnonHugePages in smaps\n+ * @comment Use SerialGC to increase the time window for pretouching\n+ * @run driver runtime.os.TestTransparentHugePageUsage\n@@ -52,1 +52,1 @@\n-    \"-XX:+UseParallelGC\", \"-Xms1G\", \"-Xmx1G\",\n+    \"-XX:+UseSerialGC\", \"-Xms1G\", \"-Xmx1G\",\n@@ -57,3 +57,0 @@\n-    if (args.length > 0) {\n-      cmdLine.add(\"-XX:ParallelGCThreads=\" + args[0]);\n-    }\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestTransparentHugePageUsage.java","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"}]}
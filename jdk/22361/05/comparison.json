{"files":[{"patch":"@@ -259,1 +259,3 @@\n-    return freeze_internal<SelfT, false>(thread, sp);\n+    freeze_result res = freeze_internal<SelfT, false>(thread, sp);\n+    JFR_ONLY(assert((res == freeze_ok) || (res == thread->last_freeze_fail_result()), \"freeze failure not set\"));\n+    return res;\n@@ -263,1 +265,3 @@\n-    return freeze_internal<SelfT, true>(thread, sp);\n+    freeze_result res = freeze_internal<SelfT, true>(thread, sp);\n+    JFR_ONLY(assert((res == freeze_ok) || (res == thread->last_freeze_fail_result()), \"freeze failure not set\"));\n+    return res;\n@@ -1725,0 +1729,3 @@\n+    if (!preempt) {\n+      JFR_ONLY(current->set_last_freeze_fail_result(res);)\n+    }\n","filename":"src\/hotspot\/share\/runtime\/continuationFreezeThaw.cpp","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -521,0 +521,4 @@\n+#if INCLUDE_JFR\n+  _last_freeze_fail_result(freeze_ok),\n+#endif\n+\n@@ -2364,1 +2368,1 @@\n-#endif\n\\ No newline at end of file\n+#endif\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
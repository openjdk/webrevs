{"files":[{"patch":"@@ -25,0 +25,1 @@\n+import jdk.test.lib.Container;\n@@ -50,1 +51,14 @@\n-            DockerfileConfig.getBaseImageVersion();\n+                    DockerfileConfig.getBaseImageVersion();\n+\n+    static String getEngineInfo(String format) throws Exception {\n+        return DockerTestUtils.execute(Container.ENGINE_COMMAND, \"info\", \"-f\", format)\n+                .getStdout();\n+    }\n+\n+    static boolean isRootless() throws Exception {\n+        \/\/ Docker and Podman have different INFO structures.\n+        \/\/ The node path for Podman is .Host.Security.Rootless, that also holds for\n+        \/\/ Podman emulating Docker CLI. The node path for Docker is .SecurityOptions.\n+        return (getEngineInfo(\"{{.Host.Security.Rootless}}\").contains(\"true\") ||\n+                getEngineInfo(\"{{.SecurityOptions}}\").contains(\"name=rootless\"));\n+    }\n@@ -62,0 +76,3 @@\n+        if (isRootless()) {\n+            throw new SkippedException(\"Test skipped in rootless mode\");\n+        }\n","filename":"test\/jdk\/jdk\/internal\/platform\/docker\/TestDockerMemoryMetricsSubgroup.java","additions":18,"deletions":1,"binary":false,"changes":19,"status":"modified"}]}
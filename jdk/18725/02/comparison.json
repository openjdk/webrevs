{"files":[{"patch":"@@ -234,4 +234,1 @@\n-    do {\n-      _heap->oop_since_save_marks_iterate(_young_cl, _old_cl);\n-    } while (!_heap->no_allocs_since_save_marks());\n-    guarantee(_heap->young_gen()->promo_failure_scan_is_complete(), \"Failed to finish scan\");\n+    _heap->scan_evacuated_objs(_young_cl, _old_cl);\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.cpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -254,2 +254,1 @@\n-  template <typename OopClosureType>\n-  void oop_since_save_marks_iterate(OopClosureType* cl);\n+  void oop_since_save_marks_iterate(YoungGenScanClosure* cl);\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -37,2 +37,1 @@\n-template <typename OopClosureType>\n-void DefNewGeneration::oop_since_save_marks_iterate(OopClosureType* cl) {\n+void DefNewGeneration::oop_since_save_marks_iterate(YoungGenScanClosure* cl) {\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.inline.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-#include \"gc\/serial\/serialHeap.hpp\"\n+#include \"gc\/serial\/serialHeap.inline.hpp\"\n@@ -765,0 +765,9 @@\n+void SerialHeap::scan_evacuated_objs(YoungGenScanClosure* young_cl,\n+                                     OldGenScanClosure* old_cl) {\n+  do {\n+    young_gen()->oop_since_save_marks_iterate(young_cl);\n+    old_gen()->oop_since_save_marks_iterate(old_cl);\n+  } while (!no_allocs_since_save_marks());\n+  guarantee(young_gen()->promo_failure_scan_is_complete(), \"Failed to finish scan\");\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/serial\/serialHeap.cpp","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -366,0 +366,3 @@\n+  void scan_evacuated_objs(YoungGenScanClosure* young_cl,\n+                           OldGenScanClosure* old_cl);\n+\n","filename":"src\/hotspot\/share\/gc\/serial\/serialHeap.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -33,7 +33,0 @@\n-template <typename OopClosureType1, typename OopClosureType2>\n-void SerialHeap::oop_since_save_marks_iterate(OopClosureType1* cur,\n-                                              OopClosureType2* older) {\n-  young_gen()->oop_since_save_marks_iterate(cur);\n-  old_gen()->oop_since_save_marks_iterate(older);\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/serial\/serialHeap.inline.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -141,2 +141,1 @@\n-  template <typename OopClosureType>\n-  void oop_since_save_marks_iterate(OopClosureType* cl);\n+  void oop_since_save_marks_iterate(OldGenScanClosure* cl);\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -60,2 +60,1 @@\n-template <typename OopClosureType>\n-void TenuredGeneration::oop_since_save_marks_iterate(OopClosureType* blk) {\n+void TenuredGeneration::oop_since_save_marks_iterate(OldGenScanClosure* blk) {\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.inline.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,2 @@\n+import jdk.internal.vm.annotation.Stable;\n+\n@@ -454,2 +456,4 @@\n-            pio4lo=  0x1.1a62633145c07p-55, \/\/ 3.06161699786838301793e-17\n-            T[] = {\n+            pio4lo=  0x1.1a62633145c07p-55; \/\/ 3.06161699786838301793e-17\n+        @Stable\n+        private static final double[]\n+            T = {\n@@ -549,0 +553,1 @@\n+        @Stable\n@@ -563,0 +568,1 @@\n+        @Stable\n@@ -810,0 +816,1 @@\n+        @Stable\n@@ -812,0 +819,1 @@\n+        @Stable\n@@ -1235,0 +1243,1 @@\n+        @Stable\n@@ -1242,0 +1251,1 @@\n+        @Stable\n@@ -1249,0 +1259,1 @@\n+        @Stable\n@@ -2248,6 +2259,2 @@\n-                final double BP[]    = {1.0,\n-                                       1.5};\n-                final double DP_H[]  = {0.0,\n-                                        0x1.2b80_34p-1};        \/\/ 5.84962487220764160156e-01\n-                final double DP_L[]  = {0.0,\n-                                        0x1.cfde_b43c_fd006p-27};\/\/ 1.35003920212974897128e-08\n+                final double DP_H1   = 0x1.2b80_34p-1;           \/\/ 5.84962487220764160156e-01\n+                final double DP_L1   = 0x1.cfde_b43c_fd006p-27;  \/\/ 1.35003920212974897128e-08\n@@ -2262,2 +2269,4 @@\n-                u = x_abs - BP[k];               \/\/ BP[0]=1.0, BP[1]=1.5\n-                v = 1.0 \/ (x_abs + BP[k]);\n+\n+                double BP_k = 1.0 + 0.5*k; \/\/ BP[0]=1.0, BP[1]=1.5\n+                u = x_abs - BP_k;\n+                v = 1.0 \/ (x_abs + BP_k);\n@@ -2270,1 +2279,1 @@\n-                t_l = x_abs - (t_h - BP[k]);\n+                t_l = x_abs - (t_h - BP_k);\n@@ -2288,1 +2297,1 @@\n-                z_l = CP_L * p_h + p_l * CP + DP_L[k];\n+                z_l = CP_L * p_h + p_l * CP + DP_L1*k;\n@@ -2291,1 +2300,1 @@\n-                t1 = (((z_h + z_l) + DP_H[k]) + t);\n+                t1 = (((z_h + z_l) + DP_H1*k) + t);\n@@ -2293,1 +2302,1 @@\n-                t2 = z_l - (((t1 - t) - DP_H[k]) - z_h);\n+                t2 = z_l - (((t1 - t) - DP_H1*k) - z_h);\n@@ -2433,1 +2442,0 @@\n-        private static final double[] half = {0.5, -0.5,};\n@@ -2438,2 +2446,3 @@\n-        private static final double[] ln2HI   ={  0x1.62e42feep-1,         \/\/  6.93147180369123816490e-01\n-                                                 -0x1.62e42feep-1};        \/\/ -6.93147180369123816490e-01\n+        private static final double ln2HI   =     0x1.62e42feep-1;         \/\/  6.93147180369123816490e-01\n+\n+        @Stable\n@@ -2481,1 +2490,1 @@\n-                    hi = x - ln2HI[xsb];\n+                    hi = x - ln2HI*(1 - 2*xsb); \/* +\/- ln2HI *\/\n@@ -2485,1 +2494,1 @@\n-                    k  = (int)(invln2 * x + half[xsb]);\n+                    k  = (int)(invln2 * x + 0.5 * (1 - 2*xsb) \/* +\/- 0.5 *\/  );\n@@ -2487,1 +2496,1 @@\n-                    hi = x - t*ln2HI[0];    \/* t*ln2HI is exact here *\/\n+                    hi = x - t*ln2HI;    \/* t*ln2HI is exact here *\/\n","filename":"src\/java.base\/share\/classes\/java\/lang\/FdLibm.java","additions":30,"deletions":21,"binary":false,"changes":51,"status":"modified"}]}
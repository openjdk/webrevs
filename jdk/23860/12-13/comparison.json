{"files":[{"patch":"@@ -344,2 +344,0 @@\n-  store4Xmms(coeffs, 0, xmm0_3, _masm);\n-  store4Xmms(coeffs, 4 * XMMBYTES, xmm4_7, _masm);\n@@ -370,1 +368,1 @@\n-  load4Xmms(xmm24_27, zetas, 4 * 512, _masm); \/\/ for level 3\n+  load4Xmms(xmm24_27, zetas, 4 * 512, _masm);\n@@ -799,4 +797,3 @@\n-  __ xorl(scratch, scratch);\n-  __ evpbroadcastd(zero, scratch, Assembler::AVX_512bit); \/\/ 0\n-  __ addl(scratch, 1);\n-  __ evpbroadcastd(one, scratch, Assembler::AVX_512bit); \/\/ 1\n+  __ vpxor(zero, zero, zero, Assembler::AVX_512bit); \/\/ 0\n+  __ vpternlogd(xmm0, 0xff, xmm0, xmm0, Assembler::AVX_512bit); \/\/ -1\n+  __ vpsubd(one, zero, xmm0, Assembler::AVX_512bit); \/\/ 1\n@@ -805,1 +802,1 @@\n-                  Assembler::AVX_512bit, scratch); \/\/ q^-1 mod 2^32\n+                  Assembler::AVX_512bit, scratch); \/\/ q\n@@ -808,1 +805,1 @@\n-                  Assembler::AVX_512bit, scratch); \/\/ q\n+                  Assembler::AVX_512bit, scratch); \/\/ addend for Barrett reduction\n@@ -1011,1 +1008,0 @@\n-  __ subl(len, 4 * XMMBYTES);\n@@ -1014,1 +1010,1 @@\n-  __ cmpl(len, 0);\n+  __ subl(len, 4 * XMMBYTES);\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64_dilithium.cpp","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"}]}
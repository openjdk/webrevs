{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,2 @@\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n@@ -195,0 +197,5 @@\n+                    @SuppressWarnings(\"removal\")\n+                    SecurityManager sm = System.getSecurityManager();\n+                    if (sm != null) {\n+                        sm.checkListen(isa.getPort());\n+                    }\n@@ -360,0 +367,5 @@\n+                @SuppressWarnings(\"removal\")\n+                SecurityManager sm = System.getSecurityManager();\n+                if (sm != null)\n+                    sm.checkConnect(isa.getAddress().getHostAddress(),\n+                                    isa.getPort());\n@@ -1085,1 +1097,1 @@\n-    @SuppressWarnings({\"restricted\"})\n+    @SuppressWarnings({\"removal\", \"restricted\"})\n@@ -1088,1 +1100,7 @@\n-        System.loadLibrary(\"sctp\");\n+        AccessController.doPrivileged(\n+            new PrivilegedAction<>() {\n+                public Void run() {\n+                    System.loadLibrary(\"sctp\");\n+                    return null;\n+                }\n+            });\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpChannelImpl.java","additions":21,"deletions":3,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -152,0 +152,4 @@\n+                    @SuppressWarnings(\"removal\")\n+                    SecurityManager sm = System.getSecurityManager();\n+                    if (sm != null)\n+                        sm.checkListen(isa.getPort());\n@@ -507,0 +511,15 @@\n+                            @SuppressWarnings(\"removal\")\n+                            SecurityManager sm = System.getSecurityManager();\n+                            if (sm != null) {\n+                                InetSocketAddress isa  = (InetSocketAddress)info.address();\n+                                if (!addressMap.containsKey(isa)) {\n+                                    \/* must be a new association *\/\n+                                    try {\n+                                        sm.checkAccept(isa.getAddress().getHostAddress(),\n+                                                       isa.getPort());\n+                                    } catch (SecurityException se) {\n+                                        buffer.clear();\n+                                        throw se;\n+                                    }\n+                                }\n+                            }\n@@ -788,0 +807,7 @@\n+\n+                        } else { \/* must be new association *\/\n+                            @SuppressWarnings(\"removal\")\n+                            SecurityManager sm = System.getSecurityManager();\n+                            if (sm != null)\n+                                sm.checkConnect(addr.getAddress().getHostAddress(),\n+                                                addr.getPort());\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpMultiChannelImpl.java","additions":27,"deletions":1,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -112,0 +112,4 @@\n+                @SuppressWarnings(\"removal\")\n+                SecurityManager sm = System.getSecurityManager();\n+                if (sm != null)\n+                    sm.checkListen(isa.getPort());\n@@ -246,0 +250,6 @@\n+            @SuppressWarnings(\"removal\")\n+            SecurityManager sm = System.getSecurityManager();\n+            if (sm != null)\n+                sm.checkAccept(isa.getAddress().getHostAddress(),\n+                               isa.getPort());\n+\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpServerChannelImpl.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -5090,7 +5090,10 @@\n-    \/\/\n-    \/\/ Half of vector-widening multiplication result is in successor of vs2acc\n-    \/\/ group for vlen == 16, in which case we need to double vector register\n-    \/\/ group width in order to reduction sum all of them\n-    Assembler::LMUL LMULx2 = (LMUL == Assembler::m1) ? Assembler::m2 :\n-                             (LMUL == Assembler::m2) ? Assembler::m4 : Assembler::m8;\n-    __ vsetvli(temp0, temp3, Assembler::e16, LMULx2);\n+    if (MaxVectorSize > 16) {\n+      __ vsetvli(temp0, temp3, Assembler::e16, LMUL);\n+    } else {\n+      \/\/ Half of vector-widening multiplication result is in successor of vs2acc\n+      \/\/ group for vlen == 16, in which case we need to double vector register\n+      \/\/ group width in order to reduction sum all of them\n+      Assembler::LMUL LMULx2 = (LMUL == Assembler::m1) ? Assembler::m2 :\n+                               (LMUL == Assembler::m2) ? Assembler::m4 : Assembler::m8;\n+      __ vsetvli(temp0, temp3, Assembler::e16, LMULx2);\n+    }\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"}]}
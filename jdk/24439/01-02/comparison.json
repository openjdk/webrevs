{"files":[{"patch":"@@ -1195,1 +1195,3 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n@@ -1260,1 +1262,3 @@\n-                this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+                putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaFileChooserUI.java","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -659,1 +659,3 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n@@ -672,1 +674,3 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifFileChooserUI.java","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -951,1 +951,3 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalFileChooserUI.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1237,1 +1237,3 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n@@ -1633,1 +1635,2 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/FilePane.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -693,0 +693,1 @@\n+\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/plaf\/synth\/SynthFileChooserUIImpl.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1080,1 +1080,2 @@\n-            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n+\n+            putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsFileChooserUI.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import javax.swing.UIManager;\n@@ -42,1 +41,0 @@\n-    static File directory;\n@@ -46,16 +44,17 @@\n-                    1. New Directory is created in current directory with name\n-                       \"<html><h1 color=#ff00ff><font face=\"Comic Sans MS\">Testing Name\".\n-                    2. On \"HTML disabled\" frame :\n-                          a. Verify that the folder name must be plain text.\n-                          b. If the folder name in file pane window and also in directory\n-                             ComboBox remains in plain text, then test PASS.\n-                             If it appears to be in HTML format with Pink color, then test FAILS\n-                             (Verify for all Look and Feel).\n-                    3. On \"HTML enabled\" frame :\n-                          a. Verify that the folder name remains in HTML\n-                             format with name \"Testing Name\" pink in color.\n-                          b. If the folder name in file pane window and also in directory\n-                             ComboBox remains in HTML format string, then test PASS.\n-                             If it appears to be in plain text, then test FAILS.\n-                             (Verify for all Look and Feel).\n-                \"\"\";\n+                1. FileChooser shows up a virtual directory and file with name\n+                   \"<html><h1 color=#ff00ff><font face=\"Comic Sans MS\">Testing Name\".\n+                2. On \"HTML disabled\" frame :\n+                      a. Verify that the folder and file name must be plain text.\n+                      b. If the name in file pane window and also in directory\n+                         ComboBox remains in plain text, then test PASS.\n+                         If it appears to be in HTML format with Pink color,\n+                         then test FAILS.\n+                         (Verify for all Look and Feel).\n+                3. On \"HTML enabled\" frame :\n+                      a. Verify that the folder and file name remains in HTML\n+                         format with name \"Testing Name\" pink in color.\n+                      b. If the name in file pane window and also in directory\n+                         ComboBox remains in HTML format string, then test PASS.\n+                         If it appears to be in plain text, then test FAILS.\n+                         (Verify for all Look and Feel).\n+                 \"\"\";\n@@ -63,14 +62,8 @@\n-        try {\n-            PassFailJFrame.builder()\n-                    .title(\"Test Instructions\")\n-                    .instructions(INSTRUCTIONS)\n-                    .columns(45)\n-                    .testUI(initialize())\n-                    .position(PassFailJFrame.Position.TOP_LEFT_CORNER)\n-                    .build()\n-                    .awaitAndCheck();\n-        } finally {\n-            if (directory != null) {\n-                directory.delete();\n-            }\n-        }\n+\n+        PassFailJFrame.builder()\n+                .instructions(INSTRUCTIONS)\n+                .columns(45)\n+                .testUI(HTMLFileName::initialize)\n+                .positionTestUIBottomRowCentered()\n+                .build()\n+                .awaitAndCheck();\n@@ -79,7 +72,5 @@\n-    public static List<JFrame> initialize() {\n-        boolean isWindows = System.getProperty(\"os.name\").startsWith(\"Windows\");\n-        File homeDir = FileSystemView.getFileSystemView().getHomeDirectory();\n-        String fileName = homeDir + File.separator +\n-                \"<html><h1 color=#ff00ff><font face=\\\"Comic Sans MS\\\">Testing Name\";\n-        directory = new File(fileName);\n-        directory.mkdir();\n+    private static List<JFrame> initialize() {\n+        return List.of(createFileChooser(true), createFileChooser(false));\n+    }\n+\n+    private static JFrame createFileChooser(boolean html_enabled) {\n@@ -87,12 +78,4 @@\n-        JFileChooser jfc_HTML_Enabled;\n-        JFrame frame_HTML_Enabled = new JFrame(\"HTML enabled\");\n-        JFrame frame = new JFrame(\"HTML disabled\");\n-        if (isWindows) {\n-            jfc = new JFileChooser(new VirtualFileSystemView());\n-            jfc_HTML_Enabled = new JFileChooser(new VirtualFileSystemView());\n-        } else {\n-            jfc = new JFileChooser(homeDir);\n-            jfc_HTML_Enabled = new JFileChooser(homeDir);\n-        }\n-        jfc_HTML_Enabled.putClientProperty(\"html.disable\", false);\n-        frame.setLocation(600, 50);\n+        String frameTitle = (html_enabled) ? \"HTML enabled\" : \"HTML disabled\";\n+        JFrame frame = new JFrame(frameTitle);\n+        jfc = new JFileChooser(new VirtualFileSystemView());\n+        jfc.putClientProperty(\"html.disable\", html_enabled);\n@@ -101,4 +84,1 @@\n-        frame_HTML_Enabled.setLocation(600, frame.getHeight() + 100);\n-        frame_HTML_Enabled.add(jfc_HTML_Enabled);\n-        frame_HTML_Enabled.pack();\n-        return List.of(frame, frame_HTML_Enabled);\n+        return frame;\n@@ -107,1 +87,1 @@\n-    static class VirtualFileSystemView extends FileSystemView {\n+    private static class VirtualFileSystemView extends FileSystemView {\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/HTMLFileName.java","additions":36,"deletions":56,"binary":false,"changes":92,"status":"modified"}]}
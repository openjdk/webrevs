{"files":[{"patch":"@@ -1195,0 +1195,1 @@\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n@@ -1259,0 +1260,1 @@\n+                this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaFileChooserUI.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -659,0 +659,1 @@\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n@@ -671,0 +672,1 @@\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifFileChooserUI.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -402,0 +402,1 @@\n+        putClientProperty(\"html.disable\", true);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JFileChooser.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -951,1 +951,1 @@\n-\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalFileChooserUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1237,1 +1237,1 @@\n-\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n@@ -1633,0 +1633,1 @@\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/FilePane.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -692,0 +692,1 @@\n+            label.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/plaf\/synth\/SynthFileChooserUIImpl.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1080,0 +1080,1 @@\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsFileChooserUI.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,147 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import javax.swing.Icon;\n+import javax.swing.JFileChooser;\n+import javax.swing.JFrame;\n+import javax.swing.UIManager;\n+import javax.swing.filechooser.FileSystemView;\n+import java.io.File;\n+import java.util.List;\n+\n+\/*\n+ * @test\n+ * @bug 8139228\n+ * @summary JFileChooser should not render Directory names in HTML format\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual HTMLFileName\n+ *\/\n+\n+public class HTMLFileName {\n+    static File directory;\n+\n+    public static void main(String[] args) throws Exception {\n+        String INSTRUCTIONS = \"\"\"\n+                    1. New Directory is created in current directory with name\n+                       \"<html><h1 color=#ff00ff><font face=\"Comic Sans MS\">Testing Name\".\n+                    2. On \"HTML disabled\" frame :\n+                          a. Verify that the folder name must be plain text.\n+                          b. If the folder name in file pane window and also in directory\n+                             ComboBox remains in plain text, then test PASS.\n+                             If it appears to be in HTML format with Pink color, then test FAILS\n+                             (Verify for all Look and Feel).\n+                    3. On \"HTML enabled\" frame :\n+                          a. Verify that the folder name remains in HTML\n+                             format with name \"Testing Name\" pink in color.\n+                          b. If the folder name in file pane window and also in directory\n+                             ComboBox remains in HTML format string, then test PASS.\n+                             If it appears to be in plain text, then test FAILS.\n+                             (Verify for all Look and Feel).\n+                \"\"\";\n+\n+        try {\n+            PassFailJFrame.builder()\n+                    .title(\"Test Instructions\")\n+                    .instructions(INSTRUCTIONS)\n+                    .columns(45)\n+                    .testUI(initialize())\n+                    .position(PassFailJFrame.Position.TOP_LEFT_CORNER)\n+                    .build()\n+                    .awaitAndCheck();\n+        } finally {\n+            if (directory != null) {\n+                directory.delete();\n+            }\n+        }\n+    }\n+\n+    public static List<JFrame> initialize() {\n+        boolean isWindows = System.getProperty(\"os.name\").startsWith(\"Windows\");\n+        File homeDir = FileSystemView.getFileSystemView().getHomeDirectory();\n+        String fileName = homeDir + File.separator +\n+                \"<html><h1 color=#ff00ff><font face=\\\"Comic Sans MS\\\">Testing Name\";\n+        directory = new File(fileName);\n+        directory.mkdir();\n+        JFileChooser jfc;\n+        JFileChooser jfc_HTML_Enabled;\n+        JFrame frame_HTML_Enabled = new JFrame(\"HTML enabled\");\n+        JFrame frame = new JFrame(\"HTML disabled\");\n+        if (isWindows) {\n+            jfc = new JFileChooser(new VirtualFileSystemView());\n+            jfc_HTML_Enabled = new JFileChooser(new VirtualFileSystemView());\n+        } else {\n+            jfc = new JFileChooser(homeDir);\n+            jfc_HTML_Enabled = new JFileChooser(homeDir);\n+        }\n+        jfc_HTML_Enabled.putClientProperty(\"html.disable\", false);\n+        frame.setLocation(600, 50);\n+        frame.add(jfc);\n+        frame.pack();\n+        frame_HTML_Enabled.setLocation(600, frame.getHeight() + 100);\n+        frame_HTML_Enabled.add(jfc_HTML_Enabled);\n+        frame_HTML_Enabled.pack();\n+        return List.of(frame, frame_HTML_Enabled);\n+    }\n+\n+    static class VirtualFileSystemView extends FileSystemView {\n+        @Override\n+        public File createNewFolder(File containingDir) {\n+            return null;\n+        }\n+\n+        @Override\n+        public File[] getRoots() {\n+            return new File[]{\n+                    new File(\"\/\", \"<html><h1 color=#ff00ff><font face=\\\"Comic Sans MS\\\">SWING ROCKS!!!111\"),\n+                    new File(\"\/\", \"virtualFile2.txt\"),\n+                    new File(\"\/\", \"virtualFolder\")\n+            };\n+        }\n+\n+        @Override\n+        public File getHomeDirectory() {\n+            return new File(\"\/\");\n+        }\n+\n+        @Override\n+        public File getDefaultDirectory() {\n+            return new File(\"\/\");\n+        }\n+\n+        @Override\n+        public File[] getFiles(File dir, boolean useFileHiding) {\n+            \/\/ Simulate a virtual folder structure\n+            return new File[]{\n+                    new File(\"\/\", \"<html><h1 color=#ff00ff><font face=\\\"Comic Sans MS\\\">SWING ROCKS!!!111\"),\n+                    new File(dir, \"virtualFile2.txt\"),\n+                    new File(dir, \"virtualFolder\")\n+            };\n+        }\n+\n+        @Override\n+        public Icon getSystemIcon(File f) {\n+            return null;\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/HTMLFileName.java","additions":147,"deletions":0,"binary":false,"changes":147,"status":"added"}]}
{"files":[{"patch":"@@ -1080,0 +1080,1 @@\n+            this.putClientProperty(\"html.disable\", getFileChooser().getClientProperty(\"html.disable\"));\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsFileChooserUI.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-import javax.swing.JFrame;\n+import javax.swing.Icon;\n@@ -26,0 +26,2 @@\n+import javax.swing.JFrame;\n+import javax.swing.UIManager;\n@@ -33,1 +35,0 @@\n- * @requires (os.family == \"linux\") | (os.family == \"mac\")\n@@ -42,0 +43,1 @@\n+\n@@ -47,3 +49,2 @@\n-                          a. Navigate to the folder.\n-                          b. Verify that the folder name must be plain text.\n-                          c. If the folder name in file pane window and also in directory\n+                          a. Verify that the folder name must be plain text.\n+                          b. If the folder name in file pane window and also in directory\n@@ -54,2 +55,1 @@\n-                          a. Navigate to the folder.\n-                          b. Verify that the folder name remains in HTML\n+                          a. Verify that the folder name remains in HTML\n@@ -57,1 +57,1 @@\n-                          c. If the folder name in file pane window and also in directory\n+                          b. If the folder name in file pane window and also in directory\n@@ -80,0 +80,1 @@\n+        boolean isWindows = System.getProperty(\"os.name\").startsWith(\"Windows\");\n@@ -84,1 +85,0 @@\n-\n@@ -86,1 +86,3 @@\n-        JFileChooser jfc = new JFileChooser(homeDir);\n+        JFileChooser jfc;\n+        JFileChooser jfc_HTML_Enabled;\n+        JFrame frame_HTML_Enabled = new JFrame(\"HTML enabled\");\n@@ -88,1 +90,7 @@\n-        JFileChooser jfc_HTML_Enabled = new JFileChooser(homeDir);\n+        if (isWindows) {\n+            jfc = new JFileChooser(new VirtualFileSystemView());\n+            jfc_HTML_Enabled = new JFileChooser(new VirtualFileSystemView());\n+        } else {\n+            jfc = new JFileChooser(homeDir);\n+            jfc_HTML_Enabled = new JFileChooser(homeDir);\n+        }\n@@ -90,1 +98,0 @@\n-        JFrame frame_HTML_Enabled = new JFrame(\"HTML enabled\");\n@@ -99,0 +106,41 @@\n+\n+    static class VirtualFileSystemView extends FileSystemView {\n+        @Override\n+        public File createNewFolder(File containingDir) {\n+            return null;\n+        }\n+\n+        @Override\n+        public File[] getRoots() {\n+            return new File[]{\n+                    new File(\"\/\", \"<html><h1 color=#ff00ff><font face=\\\"Comic Sans MS\\\">SWING ROCKS!!!111\"),\n+                    new File(\"\/\", \"virtualFile2.txt\"),\n+                    new File(\"\/\", \"virtualFolder\")\n+            };\n+        }\n+\n+        @Override\n+        public File getHomeDirectory() {\n+            return new File(\"\/\");\n+        }\n+\n+        @Override\n+        public File getDefaultDirectory() {\n+            return new File(\"\/\");\n+        }\n+\n+        @Override\n+        public File[] getFiles(File dir, boolean useFileHiding) {\n+            \/\/ Simulate a virtual folder structure\n+            return new File[]{\n+                    new File(\"\/\", \"<html><h1 color=#ff00ff><font face=\\\"Comic Sans MS\\\">SWING ROCKS!!!111\"),\n+                    new File(dir, \"virtualFile2.txt\"),\n+                    new File(dir, \"virtualFolder\")\n+            };\n+        }\n+\n+        @Override\n+        public Icon getSystemIcon(File f) {\n+            return null;\n+        }\n+    }\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/HTMLFileName.java","additions":60,"deletions":12,"binary":false,"changes":72,"status":"modified"}]}
{"files":[{"patch":"@@ -106,0 +106,10 @@\n+class outputStream;\n+\n+#ifdef ADDRESS_SANITIZER\n+struct Asan : public AllStatic {\n+  static void initialize();\n+  static bool had_error();\n+  static void report(outputStream* st);\n+};\n+#endif\n+\n","filename":"src\/hotspot\/share\/sanitizers\/address.hpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -185,19 +185,2 @@\n-#define TEST_VM_FATAL_ASAN_MSG(category, name, msg)                \\\n-  static void test_  ## category ## _ ## name ## _();               \\\n-                                                                    \\\n-  static void child_ ## category ## _ ## name ## _() {              \\\n-    ::testing::GTEST_FLAG(throw_on_failure) = true;                 \\\n-    test_ ## category ## _ ## name ## _();                          \\\n-    gtest_exit_from_child_vm(0);                                    \\\n-  }                                                                 \\\n-                                                                    \\\n-  TEST(category, CONCAT(name, _vm_assert)) {                        \\\n-    ASSERT_EXIT(child_ ## category ## _ ## name ## _(),             \\\n-                ::testing::KilledBySignal(SIGABRT),                 \\\n-                msg);                                               \\\n-  }                                                                 \\\n-                                                                    \\\n-  void test_ ## category ## _ ## name ## _()\n-\n-#define DEFINE_ASAN_TEST(test_function)                            \\\n-  TEST_VM_FATAL_ASAN_MSG(NMT_ASAN, test_function, \".*AddressSanitizer.*\") {     \\\n+#define DEFINE_ASAN_TEST(test_function)                                                   \\\n+  TEST_VM_FATAL_ERROR_MSG(NMT_ASAN, test_function, \".*AddressSanitizer.*\") {              \\\n@@ -207,1 +190,1 @@\n-      \/* overflow detection requires NMT to be on. If off, fake assert. *\/                \\\n+      \/* poisoning header\/footer of memory requires NMT to be on. If off, fake assert. *\/ \\\n@@ -209,1 +192,1 @@\n-                \"fake message ignore this - .*AddresssSanitizer.*\");                      \\\n+                \"fake message ignore this - AddressSanitizer\");                           \\\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_buffer_overflow_detection.cpp","additions":4,"deletions":21,"binary":false,"changes":25,"status":"modified"}]}
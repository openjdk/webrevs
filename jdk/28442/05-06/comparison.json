{"files":[{"patch":"@@ -5624,2 +5624,2 @@\n-    jccb(Assembler::equal, L_end);\n-    fill64_masked(3, base, 0, xtmp, mask, cnt, rtmp, true);\n+    jcc(Assembler::equal, L_end);\n+    fill64_tail(3, base, 0, xtmp, cnt, rtmp);\n@@ -5642,1 +5642,1 @@\n-  jccb(Assembler::lessEqual, L_end);\n+  jcc(Assembler::lessEqual, L_end);\n@@ -5644,1 +5644,1 @@\n-    fill32_masked(3, base, 0, xtmp, mask, cnt, rtmp);\n+    fill32_tail(3, base, 0, xtmp, cnt, rtmp);\n@@ -5768,1 +5768,1 @@\n-    jccb(Assembler::negative, DONE); \/\/ Zero length\n+    jcc(Assembler::negative, DONE); \/\/ Zero length\n@@ -5775,1 +5775,1 @@\n-    jmpb(DONE);\n+    jmp(DONE);\n@@ -9187,35 +9187,0 @@\n-void MacroAssembler::fill_masked(BasicType bt, Address dst, XMMRegister xmm, KRegister mask,\n-                                 Register length, Register temp, int vec_enc) {\n-  \/\/ Computing mask for predicated vector store.\n-  movptr(temp, -1);\n-  bzhiq(temp, temp, length);\n-  kmov(mask, temp);\n-  evmovdqu(bt, mask, dst, xmm, true, vec_enc);\n-}\n-\n-\/\/ Set memory operation for length \"less than\" 64 bytes.\n-void MacroAssembler::fill64_masked(uint shift, Register dst, int disp,\n-                                       XMMRegister xmm, KRegister mask, Register length,\n-                                       Register temp, bool use64byteVector) {\n-  assert(MaxVectorSize >= 32, \"vector length should be >= 32\");\n-  const BasicType type[] = { T_BYTE, T_SHORT, T_INT, T_LONG};\n-  if (!use64byteVector) {\n-    fill32(dst, disp, xmm);\n-    subptr(length, 32 >> shift);\n-    fill32_masked(shift, dst, disp + 32, xmm, mask, length, temp);\n-  } else {\n-    assert(MaxVectorSize == 64, \"vector length != 64\");\n-    fill_masked(type[shift], Address(dst, disp), xmm, mask, length, temp, Assembler::AVX_512bit);\n-  }\n-}\n-\n-\n-void MacroAssembler::fill32_masked(uint shift, Register dst, int disp,\n-                                       XMMRegister xmm, KRegister mask, Register length,\n-                                       Register temp) {\n-  assert(MaxVectorSize >= 32, \"vector length should be >= 32\");\n-  const BasicType type[] = { T_BYTE, T_SHORT, T_INT, T_LONG};\n-  fill_masked(type[shift], Address(dst, disp), xmm, mask, length, temp, Assembler::AVX_256bit);\n-}\n-\n-\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":6,"deletions":41,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -2019,7 +2019,0 @@\n-  void fill_masked(BasicType bt, Address dst, XMMRegister xmm, KRegister mask,\n-                   Register length, Register temp, int vec_enc);\n-\n-  void fill64_masked(uint shift, Register dst, int disp,\n-                         XMMRegister xmm, KRegister mask, Register length,\n-                         Register temp, bool use64byteVector = false);\n-\n@@ -2029,4 +2022,0 @@\n-  void fill32_masked(uint shift, Register dst, int disp,\n-                         XMMRegister xmm, KRegister mask, Register length,\n-                         Register temp);\n-\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.hpp","additions":0,"deletions":11,"binary":false,"changes":11,"status":"modified"}]}
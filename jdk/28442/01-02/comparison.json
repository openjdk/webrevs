{"files":[{"patch":"@@ -9245,3 +9245,2 @@\n-void MacroAssembler::fill32_unmasked(uint shift, Register dst, int disp, XMMRegister xmm,\n-                                          Register length,\n-                                          Register temp) {\n+void MacroAssembler::fill32_tail(uint shift, Register dst, int disp, XMMRegister xmm,\n+                                      Register length, Register temp) {\n@@ -9261,0 +9260,1 @@\n+  jcc(Assembler::equal, L_done);\n@@ -9305,1 +9305,1 @@\n-void MacroAssembler::fill64_unmasked(uint shift, Register dst, int disp,\n+void MacroAssembler::fill64_tail(uint shift, Register dst, int disp,\n@@ -9315,1 +9315,1 @@\n-  fill32_unmasked(shift, dst, disp + 32, xmm, length, temp);\n+  fill32_tail(shift, dst, disp + 32, xmm, length, temp);\n@@ -9319,1 +9319,1 @@\n-  fill32_unmasked(shift, dst, disp, xmm, length, temp);\n+  fill32_tail(shift, dst, disp, xmm, length, temp);\n@@ -9327,0 +9327,2 @@\n+  Label L_fill_32_tail;\n+  Label L_fill_64_tail;\n@@ -9360,3 +9362,1 @@\n-    jcc(Assembler::greater, L_fill_64_bytes);\n-    fill32_unmasked(shift, to, 0, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jcc(Assembler::lessEqual, L_fill_32_tail);\n@@ -9374,0 +9374,1 @@\n+    addptr(to, 32);\n@@ -9375,2 +9376,1 @@\n-    fill32_unmasked(shift, to, 32, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jmp(L_fill_32_tail);\n@@ -9382,0 +9382,1 @@\n+    addptr(to, 64);\n@@ -9383,2 +9384,1 @@\n-    fill32_unmasked(shift, to, 64, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jmp(L_fill_32_tail);\n@@ -9391,0 +9391,1 @@\n+    addptr(to, 96);\n@@ -9392,2 +9393,1 @@\n-    fill32_unmasked(shift, to, 96, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jmp(L_fill_32_tail);\n@@ -9445,2 +9445,1 @@\n-    fill64_unmasked(shift, to, 0, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jmp(L_fill_64_tail);\n@@ -9452,0 +9451,1 @@\n+    addptr(to, 64);\n@@ -9453,2 +9453,1 @@\n-    fill64_unmasked(shift, to, 64, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jmp(L_fill_64_tail);\n@@ -9461,0 +9460,1 @@\n+    addptr(to, 128);\n@@ -9462,2 +9462,1 @@\n-    fill64_unmasked(shift, to, 128, xtmp, count, rtmp);\n-    jmp(L_exit);\n+    jmp(L_fill_64_tail);\n@@ -9499,0 +9498,8 @@\n+\n+    bind(L_fill_64_tail);\n+    cmpq(count, 32 >> shift);\n+    jcc(Assembler::less, L_fill_32_tail);\n+    fill32(to, 0, xtmp);\n+    jcc(Assembler::equal, L_exit);\n+    subq(count, 32 >> shift);\n+    addptr(to, 32);\n@@ -9500,0 +9507,4 @@\n+\n+  bind(L_fill_32_tail);\n+  fill32_tail(shift, to, 0, xtmp, count, rtmp);\n+\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":32,"deletions":21,"binary":false,"changes":53,"status":"modified"},{"patch":"@@ -2026,1 +2026,1 @@\n-  void fill64_unmasked(uint shift, Register dst, int disp,\n+  void fill64_tail(uint shift, Register dst, int disp,\n@@ -2033,1 +2033,1 @@\n-  void fill32_unmasked(uint shift, Register dst, int disp,\n+  void fill32_tail(uint shift, Register dst, int disp,\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -93,0 +93,1 @@\n+    \/\/ This is just a default to investigate small iteration loops.\n@@ -98,1 +99,22 @@\n-    \/\/ 4k-aliasing prevention trick can work.\n+    \/\/ 4k-aliasing prevention trick can work. If we used two arrays, then\n+    \/\/ we would not know what the relative offset is between them, so we could\n+    \/\/ not do anything about the 4k-aliasing effects.\n+    \/\/ Background on 4k-aliasing: many modern CPUs have a store-to-load-forwarding\n+    \/\/ mechanism that speeds up loads if the memory locations that were recently\n+    \/\/ stored to. For this, the CPU needs to check if there is a store in the store\n+    \/\/ buffer with the same address and size. There are various implementations\n+    \/\/ with different performance characteristics on various CPUs. For x86, there\n+    \/\/ is a special mechanism that quickly checks the lowest 12bits of the address,\n+    \/\/ to see if there is a match. If there is a match on the 12bits, we then\n+    \/\/ have to eventually check the rest of the bits. There seems to be something\n+    \/\/ speculative going on, and so if we eventually find that there is a match\n+    \/\/ things are really fast. But if we eventually find that the rest of the\n+    \/\/ bits do not match, we have to abort and redo the load from memory\/cache,\n+    \/\/ and that can be slower than if we had gone to memory\/cache directly. Hence,\n+    \/\/ if we regularly have matches on the 12bits, but mismatches on the other\n+    \/\/ bits, we can be slower than expected. 12bits of address gives us a cyclic\n+    \/\/ patterns every 4k bytes. So if you load\/store with a distance of 4k or\n+    \/\/ a multiple, you can see slower performance than expected, you get a dip\/\n+    \/\/ spike in the curve that is a strange artifact. We would like to avoid this\n+    \/\/ in our benchmark. That is why we make sure to have k * 4k + 2k offset\n+    \/\/ between load and store.\n@@ -202,0 +224,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -212,0 +235,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -222,0 +246,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -230,0 +255,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -238,0 +264,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -249,0 +276,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -260,0 +288,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -270,0 +299,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -280,0 +310,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -288,0 +319,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -296,0 +328,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -307,0 +340,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -318,0 +352,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -328,0 +363,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -338,0 +374,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -346,0 +383,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -354,0 +392,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -365,0 +404,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -376,0 +416,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -386,0 +427,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -396,0 +438,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -404,0 +447,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -412,0 +456,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -423,0 +468,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -434,0 +480,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -444,0 +491,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -454,0 +502,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -462,0 +511,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -470,0 +520,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -481,0 +532,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -492,0 +544,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -502,0 +555,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -512,0 +566,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -520,0 +575,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -528,0 +584,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -539,0 +596,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -550,0 +608,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -560,0 +619,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -570,0 +630,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -578,0 +639,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -586,0 +648,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -597,0 +660,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -608,0 +672,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -618,0 +683,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -628,0 +694,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -638,0 +705,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -646,0 +714,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -654,0 +723,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -662,0 +732,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -673,0 +744,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -684,0 +756,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -693,0 +766,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n","filename":"test\/micro\/org\/openjdk\/bench\/vm\/compiler\/VectorBulkOperationsArray.java","additions":75,"deletions":1,"binary":false,"changes":76,"status":"modified"},{"patch":"@@ -99,0 +99,1 @@\n+    \/\/ See VectorBulkOperationsArray.java for a deeper explanation.\n@@ -152,0 +153,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -162,0 +164,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -172,0 +175,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -182,0 +186,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -192,0 +197,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -204,0 +210,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -215,0 +222,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -225,0 +233,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -239,0 +248,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -249,0 +259,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -263,0 +274,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -273,0 +285,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -287,0 +300,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -297,0 +311,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -311,0 +326,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -321,0 +337,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -335,0 +352,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n@@ -345,0 +363,1 @@\n+    @OperationsPerInvocation(REPETITIONS)\n","filename":"test\/micro\/org\/openjdk\/bench\/vm\/compiler\/VectorBulkOperationsMemorySegment.java","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"}]}
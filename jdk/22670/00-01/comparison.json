{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,1 +92,1 @@\n-        final int glyph = cache.get(unicode);\n+        int glyph = cache.get(unicode);\n@@ -95,2 +95,8 @@\n-        final char[] unicodeArray = new char[] { unicode };\n-        final int[] glyphArray = new int[1];\n+        if (FontUtilities.isDefaultIgnorable(unicode)) {\n+            glyph = INVISIBLE_GLYPH_ID;\n+        } else {\n+            final char[] unicodeArray = new char[] { unicode };\n+            final int[] glyphArray = new int[1];\n+            nativeCharsToGlyphs(fFont.getNativeFontPtr(), 1, unicodeArray, glyphArray);\n+            glyph = glyphArray[0];\n+        }\n@@ -98,2 +104,1 @@\n-        nativeCharsToGlyphs(fFont.getNativeFontPtr(), 1, unicodeArray, glyphArray);\n-        cache.put(unicode, glyphArray[0]);\n+        cache.put(unicode, glyph);\n@@ -101,1 +106,1 @@\n-        return glyphArray[0];\n+        return glyph;\n@@ -251,0 +256,3 @@\n+                } else if (FontUtilities.isDefaultIgnorable(code)) {\n+                    values[i] = INVISIBLE_GLYPH_ID;\n+                    put(code, INVISIBLE_GLYPH_ID);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CCharToGlyphMapper.java","additions":15,"deletions":7,"binary":false,"changes":22,"status":"modified"}]}
{"files":[{"patch":"@@ -287,2 +287,1 @@\n-  bs->generate_c1_runtime_stubs(blob);\n-  return true;\n+  return bs->generate_c1_runtime_stubs(blob);\n","filename":"src\/hotspot\/share\/c1\/c1_Runtime1.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -219,1 +219,1 @@\n-void G1BarrierSetC1::generate_c1_runtime_stubs(BufferBlob* buffer_blob) {\n+bool G1BarrierSetC1::generate_c1_runtime_stubs(BufferBlob* buffer_blob) {\n@@ -226,0 +226,1 @@\n+  return _pre_barrier_c1_runtime_code_blob != nullptr && _post_barrier_c1_runtime_code_blob != nullptr;\n","filename":"src\/hotspot\/share\/gc\/g1\/c1\/g1BarrierSetC1.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -143,1 +143,1 @@\n-  virtual void generate_c1_runtime_stubs(BufferBlob* buffer_blob);\n+  virtual bool generate_c1_runtime_stubs(BufferBlob* buffer_blob);\n","filename":"src\/hotspot\/share\/gc\/g1\/c1\/g1BarrierSetC1.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-  virtual void generate_c1_runtime_stubs(BufferBlob* buffer_blob) {}\n+  virtual bool generate_c1_runtime_stubs(BufferBlob* buffer_blob) { return true; }\n","filename":"src\/hotspot\/share\/gc\/shared\/c1\/barrierSetC1.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -267,1 +267,1 @@\n-void ShenandoahBarrierSetC1::generate_c1_runtime_stubs(BufferBlob* buffer_blob) {\n+bool ShenandoahBarrierSetC1::generate_c1_runtime_stubs(BufferBlob* buffer_blob) {\n@@ -269,0 +269,1 @@\n+  bool reference_barrier_success = true;\n@@ -292,0 +293,4 @@\n+    reference_barrier_success = _load_reference_barrier_strong_rt_code_blob != nullptr &&\n+                                _load_reference_barrier_strong_native_rt_code_blob != nullptr &&\n+                                _load_reference_barrier_weak_rt_code_blob != nullptr &&\n+                                _load_reference_barrier_phantom_rt_code_blob != nullptr;\n@@ -293,0 +298,1 @@\n+  return _pre_barrier_c1_runtime_code_blob != nullptr && reference_barrier_success;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c1\/shenandoahBarrierSetC1.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -249,1 +249,1 @@\n-  virtual void generate_c1_runtime_stubs(BufferBlob* buffer_blob);\n+  virtual bool generate_c1_runtime_stubs(BufferBlob* buffer_blob);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c1\/shenandoahBarrierSetC1.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -229,1 +229,1 @@\n-  return code_blob->code_begin();\n+  return code_blob != nullptr?code_blob->code_begin():nullptr;\n@@ -232,1 +232,1 @@\n-void XBarrierSetC1::generate_c1_runtime_stubs(BufferBlob* blob) {\n+bool XBarrierSetC1::generate_c1_runtime_stubs(BufferBlob* blob) {\n@@ -237,0 +237,2 @@\n+  return _load_barrier_on_oop_field_preloaded_runtime_stub != nullptr &&\n+         _load_barrier_on_weak_oop_field_preloaded_runtime_stub != nullptr;\n","filename":"src\/hotspot\/share\/gc\/x\/c1\/xBarrierSetC1.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-  virtual void generate_c1_runtime_stubs(BufferBlob* blob);\n+  virtual bool generate_c1_runtime_stubs(BufferBlob* blob);\n","filename":"src\/hotspot\/share\/gc\/x\/c1\/xBarrierSetC1.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -511,1 +511,1 @@\n-  return code_blob->code_begin();\n+  return code_blob != nullptr?code_blob->code_begin():nullptr;\n@@ -531,1 +531,1 @@\n-  return code_blob->code_begin();\n+  return code_blob != nullptr?code_blob->code_begin():nullptr;\n@@ -534,1 +534,1 @@\n-void ZBarrierSetC1::generate_c1_runtime_stubs(BufferBlob* blob) {\n+bool ZBarrierSetC1::generate_c1_runtime_stubs(BufferBlob* blob) {\n@@ -544,0 +544,4 @@\n+  return _load_barrier_on_oop_field_preloaded_runtime_stub != nullptr &&\n+         _load_barrier_on_weak_oop_field_preloaded_runtime_stub != nullptr &&\n+         _store_barrier_on_oop_field_with_healing != nullptr &&\n+         _store_barrier_on_oop_field_without_healing != nullptr;\n","filename":"src\/hotspot\/share\/gc\/z\/c1\/zBarrierSetC1.cpp","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -115,1 +115,1 @@\n-  virtual void generate_c1_runtime_stubs(BufferBlob* blob);\n+  virtual bool generate_c1_runtime_stubs(BufferBlob* blob);\n","filename":"src\/hotspot\/share\/gc\/z\/c1\/zBarrierSetC1.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
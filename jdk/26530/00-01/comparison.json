{"files":[{"patch":"@@ -738,1 +738,2 @@\n-  bool result = has_limited_virtual_address_space(limit);\n+  *limit = address_space_limit();\n+  bool is_limited = *limit != SIZE_MAX;\n@@ -741,1 +742,1 @@\n-  return result;\n+  return is_limited;\n@@ -792,1 +793,1 @@\n-bool os::has_limited_virtual_address_space(size_t* limit) {\n+size_t os::address_space_limit() {\n@@ -798,1 +799,1 @@\n-    return false;\n+    return SIZE_MAX;\n@@ -803,2 +804,1 @@\n-    *limit = (size_t)rlim.rlim_cur;\n-    return true;\n+    return (size_t)rlim.rlim_cur;\n@@ -808,1 +808,1 @@\n-  return false;\n+  return SIZE_MAX;\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -908,1 +908,1 @@\n-bool os::has_limited_virtual_address_space(size_t* limit) {\n+size_t os::address_space_limit() {\n@@ -910,1 +910,1 @@\n-  return false;\n+  return SIZE_MAX;\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,11 +33,0 @@\n-static size_t address_space_limit() {\n-  size_t limit = 0;\n-\n-  if (os::has_limited_virtual_address_space(&limit)) {\n-    return limit;\n-  }\n-\n-  \/\/ No limit\n-  return SIZE_MAX;\n-}\n-\n@@ -46,1 +35,1 @@\n-  const size_t limit = address_space_limit() \/ MaxVirtMemFraction;\n+  const size_t limit = os::address_space_limit() \/ MaxVirtMemFraction;\n@@ -51,1 +40,1 @@\n-  const size_t limit = address_space_limit();\n+  const size_t limit = os::address_space_limit();\n","filename":"src\/hotspot\/share\/gc\/z\/zAddressSpaceLimit.cpp","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -452,1 +452,1 @@\n-  static bool has_limited_virtual_address_space(size_t* limit);\n+  static size_t address_space_limit();\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
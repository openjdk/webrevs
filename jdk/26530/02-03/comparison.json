{"files":[{"patch":"@@ -734,2 +734,1 @@\n-\n-bool os::allocatable_memory_limit(size_t* limit) {\n+bool os::allocatable_memory_limit(size_t& limit) {\n@@ -738,2 +737,2 @@\n-  *limit = address_space_limit();\n-  bool is_limited = *limit != SIZE_MAX;\n+  size_t as_limit = address_space_limit();\n+  bool as_is_limited = as_limit != SIZE_MAX;\n@@ -742,1 +741,6 @@\n-  return is_limited;\n+  if (as_is_limited) {\n+    limit = as_limit;\n+    return true;\n+  }\n+\n+  return false;\n@@ -748,2 +752,2 @@\n-  if (result) {\n-    *limit = MIN2(*limit, max_virtual_limit);\n+  if (as_is_limited) {\n+    as_limit = MIN2(as_limit, max_virtual_limit);\n@@ -751,1 +755,1 @@\n-    *limit = max_virtual_limit;\n+    as_limit = max_virtual_limit;\n@@ -766,1 +770,1 @@\n-  size_t upper_limit = *limit;\n+  size_t upper_limit = as_limit;\n@@ -770,1 +774,1 @@\n-    *limit = upper_limit;\n+    limit = upper_limit;\n@@ -774,1 +778,1 @@\n-    *limit = min_allocation_size;\n+    limit = min_allocation_size;\n@@ -787,1 +791,1 @@\n-    *limit = lower_limit;\n+    limit = lower_limit;\n@@ -789,0 +793,1 @@\n+\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":17,"deletions":12,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -900,1 +900,1 @@\n-bool os::allocatable_memory_limit(size_t* limit) {\n+bool os::allocatable_memory_limit(size_t& limit) {\n@@ -904,1 +904,1 @@\n-  *limit = (size_t)ms.ullAvailVirtual;\n+  limit = (size_t)ms.ullAvailVirtual;\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1492,1 +1492,1 @@\n-  if (os::allocatable_memory_limit(&max_allocatable)) {\n+  if (os::allocatable_memory_limit(max_allocatable)) {\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -343,1 +343,1 @@\n-  static bool allocatable_memory_limit(size_t* limit);\n+  static bool allocatable_memory_limit(size_t& limit);\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
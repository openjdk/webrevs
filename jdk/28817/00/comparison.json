{"files":[{"patch":"@@ -130,4 +130,1 @@\n-  \/\/ If a message is already set, free it.\n-  if (nest_host_error() != nullptr) {\n-    FREE_C_HEAP_ARRAY(char, _nest_host_error);\n-  }\n+  assert(_nest_host_error == nullptr, \"caller should have checked\");\n","filename":"src\/hotspot\/share\/classfile\/resolutionErrors.cpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1876,3 +1876,8 @@\n-      \/\/ the message, and set it again.\n-      assert(entry->nest_host_error() == nullptr || strcmp(entry->nest_host_error(), message) == 0, \"should be the same message\");\n-      entry->set_nest_host_error(message);\n+      \/\/ the message.\n+      const char* nhe = entry->nest_host_error();\n+      if (nhe == nullptr) {\n+        entry->set_nest_host_error(message);\n+      }\n+      else {\n+        assert(strcmp(nhe, message) == 0, \"New message %s, differs from original %s\", message, nhe);\n+      }\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"}]}
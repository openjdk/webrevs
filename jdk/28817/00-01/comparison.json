{"files":[{"patch":"@@ -1862,1 +1862,1 @@\n-                                           const char* message) {\n+                                           const stringStream& message) {\n@@ -1871,1 +1871,1 @@\n-      ResolutionErrorTable::add_entry(pool, which, message);\n+      ResolutionErrorTable::add_entry(pool, which, message.as_string(true \/* on C-heap *\/));\n@@ -1879,1 +1879,1 @@\n-        entry->set_nest_host_error(message);\n+        entry->set_nest_host_error(message.as_string(true \/* on C-heap *\/));\n@@ -1882,1 +1882,2 @@\n-        assert(strcmp(nhe, message) == 0, \"New message %s, differs from original %s\", message, nhe);\n+        DEBUG_ONLY(const char* msg = message.base();)\n+        assert(strcmp(nhe, msg) == 0, \"New message %s, differs from original %s\", msg, nhe);\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -283,1 +283,1 @@\n-                                  const char* message);\n+                                  const stringStream& message);\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -315,1 +315,0 @@\n-      const char* msg = ss.as_string(true \/* on C-heap *\/);\n@@ -317,1 +316,1 @@\n-      SystemDictionary::add_nest_host_error(cph, _nest_host_index, msg);\n+      SystemDictionary::add_nest_host_error(cph, _nest_host_index, ss);\n@@ -320,1 +319,1 @@\n-      log_trace(class, nestmates)(\"%s\", msg);\n+      log_trace(class, nestmates)(\"%s\", ss.base());\n@@ -359,1 +358,0 @@\n-        const char* msg = ss.as_string(true \/* on C-heap *\/);\n@@ -361,2 +359,2 @@\n-        SystemDictionary::add_nest_host_error(cph, _nest_host_index, msg);\n-        log_trace(class, nestmates)(\"%s\", msg);\n+        SystemDictionary::add_nest_host_error(cph, _nest_host_index, ss);\n+        log_trace(class, nestmates)(\"%s\", ss.base());\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -277,1 +277,0 @@\n-    char *msg;\n@@ -279,3 +278,1 @@\n-    reader.set_position_and_next_index(err_pivot, -1);\n-    FieldInfo fi;\n-    reader.read_field_info(fi);\n+\n@@ -283,4 +280,18 @@\n-    if (asprintf(&msg, \"Invalid order %s(%p) %s(%p) vs. %s(%p) %s(%p)\",\n-      comparator._name->as_C_string(), comparator._name, comparator._signature->as_C_string(), comparator._signature,\n-      fi.name(cp)->as_C_string(), fi.name(cp), fi.signature(cp)->as_C_string(), fi.signature(cp)) < 0) {\n-        msg = const_cast<char *>(\"cannot format\");\n+    fprintf(stderr, \"ACTUAL FIELDS (%d + %d) -> %d, %d:\\n\", java_fields, injected_fields, fis->length(), search_table->length());\n+    while (reader.has_next()) {\n+      FieldInfo fi;\n+      reader.read_field_info(fi);\n+      fprintf(stderr, \"FIELD %s(%p) %s(%p)\\n\", fi.name(cp)->as_C_string(), fi.name(cp), fi.signature(cp)->as_C_string(), fi.signature(cp));\n+    }\n+\n+    char *msg;\n+    {\n+      reader.set_position_and_next_index(err_pivot, -1);\n+      FieldInfo fi;\n+      reader.read_field_info(fi);\n+      if (asprintf(&msg, \"Invalid order %s(%p) %s(%p) vs. %s(%p) %s(%p)\",\n+        comparator._name->as_C_string(), comparator._name, comparator._signature->as_C_string(), comparator._signature,\n+        fi.name(cp)->as_C_string(), fi.name(cp), fi.signature(cp)->as_C_string(), fi.signature(cp)) < 0) {\n+          msg = const_cast<char *>(\"cannot format\");\n+      }\n+      report_vm_error(__FILE__, __LINE__, msg);\n@@ -288,1 +299,0 @@\n-    report_vm_error(__FILE__, __LINE__, msg);\n","filename":"src\/hotspot\/share\/oops\/fieldInfo.cpp","additions":19,"deletions":9,"binary":false,"changes":28,"status":"modified"}]}
{"files":[{"patch":"@@ -194,0 +194,13 @@\n+  if (_heap->is_in_young(field)) {\n+    \/\/ Young field stores do not require card mark.\n+    return;\n+  }\n+  T heap_oop = RawAccess<>::oop_load(field);\n+  if (CompressedOops::is_null(heap_oop)) {\n+    return;\n+  }\n+  oop obj = CompressedOops::decode_not_null(heap_oop);\n+  if (!_heap->is_in_young(obj)) {\n+    \/\/ Young object -> old field stores do not require card mark.\n+    return;\n+  }\n@@ -195,1 +208,7 @@\n-  *byte = CardTable::dirty_card_val();\n+  if (UseCondCardMark) {\n+    if (*byte != CardTable::dirty_card_val()) {\n+      *byte = CardTable::dirty_card_val();\n+    }\n+  } else {\n+    *byte = CardTable::dirty_card_val();\n+  }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahBarrierSet.inline.hpp","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"}]}
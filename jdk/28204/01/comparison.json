{"files":[{"patch":"@@ -194,0 +194,14 @@\n+  \/\/Exclude if young field\n+  if (_heap->is_in_young(field)) {\n+    return;\n+  }\n+  T heap_oop = RawAccess<>::oop_load(field);\n+  if (CompressedOops::is_null(heap_oop)) {\n+    return;\n+  }\n+  oop obj = CompressedOops::decode_not_null(heap_oop);\n+  \/\/ Field is in old generation, If referenced object is also in old gen, skip card marking\n+  if (!_heap->is_in_young(obj)) {\n+    return;\n+  }\n+  \/\/ Honor UseCondCardMark: check if card is already dirty before writing\n@@ -195,1 +209,7 @@\n-  *byte = CardTable::dirty_card_val();\n+  if (UseCondCardMark) {\n+    if (*byte != CardTable::dirty_card_val()) {\n+      *byte = CardTable::dirty_card_val();\n+    }\n+  } else {\n+    *byte = CardTable::dirty_card_val();\n+  }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahBarrierSet.inline.hpp","additions":21,"deletions":1,"binary":false,"changes":22,"status":"modified"}]}
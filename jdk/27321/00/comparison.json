{"files":[{"patch":"@@ -489,3 +489,5 @@\n-        invokeOnEDT(() -> createUI(title, instructions,\n-                                   testTimeOut,\n-                                   rows, columns));\n+        this(builder().title(title)\n+                      .instructions(instructions)\n+                      .testTimeOut(testTimeOut)\n+                      .rows(rows)\n+                      .columns(columns));\n@@ -506,0 +508,1 @@\n+        builder.validate();\n@@ -587,19 +590,0 @@\n-    private static void createUI(String title, String instructions,\n-                                 long testTimeOut, int rows, int columns) {\n-        frame = new JFrame(title);\n-        frame.setLayout(new BorderLayout());\n-\n-        frame.addWindowListener(windowClosingHandler);\n-\n-        frame.add(createInstructionUIPanel(instructions,\n-                                           testTimeOut,\n-                                           rows, columns,\n-                                           null,\n-                                           false,\n-                                           false, 0),\n-                  BorderLayout.CENTER);\n-        frame.pack();\n-        frame.setLocationRelativeTo(null);\n-        addTestWindow(frame);\n-    }\n-\n@@ -612,8 +596,1 @@\n-        JComponent instructionUI =\n-                createInstructionUIPanel(builder.instructions,\n-                                         builder.testTimeOut,\n-                                         builder.rows, builder.columns,\n-                                         builder.hyperlinkListener,\n-                                         builder.screenCapture,\n-                                         builder.addLogArea,\n-                                         builder.logAreaRows);\n+        JComponent instructionUI = createInstructionUIPanel(builder);\n@@ -635,7 +612,1 @@\n-    private static JComponent createInstructionUIPanel(String instructions,\n-                                                       long testTimeOut,\n-                                                       int rows, int columns,\n-                                                       HyperlinkListener hyperlinkListener,\n-                                                       boolean enableScreenCapture,\n-                                                       boolean addLogArea,\n-                                                       int logAreaRows) {\n+    private static JComponent createInstructionUIPanel(final Builder builder) {\n@@ -645,1 +616,1 @@\n-        timeoutHandlerPanel = new TimeoutHandlerPanel(testTimeOut);\n+        timeoutHandlerPanel = new TimeoutHandlerPanel(builder.testTimeOut);\n@@ -648,5 +619,10 @@\n-        JTextComponent text = instructions.startsWith(\"<html>\")\n-                              ? configureHTML(instructions, rows, columns)\n-                              : configurePlainText(instructions, rows, columns);\n-        if (hyperlinkListener != null && text instanceof JEditorPane ep) {\n-            ep.addHyperlinkListener(hyperlinkListener);\n+        JTextComponent text = builder.instructions.startsWith(\"<html>\")\n+                              ? configureHTML(builder.instructions,\n+                                              builder.rows,\n+                                              builder.columns)\n+                              : configurePlainText(builder.instructions,\n+                                                   builder.rows,\n+                                                   builder.columns);\n+        if (builder.hyperlinkListener != null\n+            && text instanceof JEditorPane ep) {\n+            ep.addHyperlinkListener(builder.hyperlinkListener);\n@@ -681,1 +657,1 @@\n-        if (enableScreenCapture) {\n+        if (builder.screenCapture) {\n@@ -685,2 +661,2 @@\n-        if (addLogArea) {\n-            logArea = new JTextArea(logAreaRows, columns);\n+        if (builder.addLogArea) {\n+            logArea = new JTextArea(builder.logAreaRows, builder.columns);\n@@ -1846,1 +1822,0 @@\n-                validate();\n","filename":"test\/jdk\/java\/awt\/regtesthelpers\/PassFailJFrame.java","additions":22,"deletions":47,"binary":false,"changes":69,"status":"modified"}]}
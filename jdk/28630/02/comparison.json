{"files":[{"patch":"@@ -239,1 +239,4 @@\n-  _max_eden_size = size - (2*_max_survivor_size);\n+\n+  \/\/ Eden might grow to be almost as large as the entire young generation.\n+  \/\/ We approximate this as the entire virtual space.\n+  _max_eden_size = size;\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -289,0 +289,14 @@\n+            } else if (YOUNG_GC_TYPE == GCTypes.YoungGCType.DefNew) {\n+                \/\/ Eden might grow to be almost the entire young generation,\n+                \/\/ so it is approximated as the size for the entire young\n+                \/\/ generation.\n+                long youngGenUsageMax = edenUsage.getMax();\n+\n+                long combinedSurvivorUsageMax = 2 * survivorUsage.getMax();\n+                if (combinedSurvivorUsageMax > youngGenUsageMax) {\n+                  throw new RuntimeException(\"Unexpectedly large survivorUsage combined maximum value: \" + combinedSurvivorUsageMax);\n+                }\n+\n+                return new MemoryUsage(edenUsageInit + survivorUsageInit * 2, 0,\n+                        edenUsageCommited + survivorUsageCommited * 2,\n+                        youngGenUsageMax);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestNewSizeFlags.java","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -222,1 +222,1 @@\n-          \/\/ their card and refinement table should always be clear as they are typeArrays.\n+          \/\/ we clean their card and refinement tables when we reclaim separately.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,3 +56,3 @@\n-  \/\/ Humongous regions containing type-array objs are remset-tracked to\n-  \/\/ support eager-reclaim. However, their remset state can be reset after\n-  \/\/ Full-GC. Try to re-enable remset-tracking for them if possible.\n+  \/\/ Humongous regions are remset-tracked to support eager-reclaim. However, their\n+  \/\/ remset state can be reset after Full-GC. Try to re-enable remset-tracking for\n+  \/\/ them if possible.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSetTrackingPolicy.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -359,1 +359,1 @@\n-      \/\/ causing objects being collected incorrectly:\n+      \/\/ causing these humongous objects being collected incorrectly:\n@@ -391,1 +391,1 @@\n-      \/\/ During (concurrent start) GC the situation described above where we\n+      \/\/ During the concurrent start pause the situation described above where we\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -195,1 +195,9 @@\n-    private static final int M = 1024 * 1024;\n+    private static final int SIZE = 1024 * 1024;\n+\n+    private static Object allocateHumongousObj(boolean useTypeArray) {\n+        if (useTypeArray) {\n+            return new int[SIZE];\n+        } else {\n+            return new Object[SIZE];\n+        }\n+    }\n@@ -211,1 +219,1 @@\n-          largeObj = useTypeArray ? new int[M] : new Object[M];\n+          largeObj = allocateHumongousObj(useTypeArray);\n@@ -220,1 +228,1 @@\n-          largeObj = useTypeArray ? new int[M] : new Object[M];\n+          largeObj = allocateHumongousObj(useTypeArray);\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestEagerReclaimHumongousRegions.java","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"}]}
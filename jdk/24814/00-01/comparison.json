{"files":[{"patch":"@@ -136,0 +136,5 @@\n+  \/\/ Set a small initial TLAB size to avoid depending on the current capacity\n+  if (FLAG_IS_DEFAULT(TLABSize)) {\n+    FLAG_SET_DEFAULT(TLABSize, 8*K);\n+  }\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-    _tlab_usage(),\n+    _tlab_usage(InitialHeapSize),\n","filename":"src\/hotspot\/share\/gc\/z\/zHeap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,2 +26,6 @@\n-ZTLABUsage::ZTLABUsage()\n-  : _used_history() {}\n+ZTLABUsage::ZTLABUsage(size_t initial_heap_size)\n+  : _used_history() {\n+    \/\/ To get reasonable values for used and capacity until the first GC\n+    \/\/ we populate the used history with the initial heap size.\n+    _used_history.add(initial_heap_size);\n+  }\n@@ -30,0 +34,4 @@\n+  if (used == 0) {\n+    \/\/ Avoid updates for the second young generation collection of a SystemGC\n+    return;\n+  }\n","filename":"src\/hotspot\/share\/gc\/z\/zTLABUsage.cpp","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-  ZTLABUsage();\n+  ZTLABUsage(size_t initial_heap_size);\n","filename":"src\/hotspot\/share\/gc\/z\/zTLABUsage.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
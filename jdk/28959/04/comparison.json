{"files":[{"patch":"@@ -0,0 +1,108 @@\n+\/*\n+ * Copyright (c) 2026, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package jdk.jpackage.internal;\n+\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.nio.charset.Charset;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.Base64;\n+import java.util.HashMap;\n+import java.util.Locale;\n+import java.util.Map;\n+import java.util.ResourceBundle;\n+\n+import jdk.jpackage.internal.model.MacDmgPackage;\n+\n+final class MacDmgLicense {\n+\n+    public static void prepareLicense(MacDmgPackage pkg, BuildEnv env,\n+                Path licenseFile) throws IOException {\n+        final var licFile = pkg.licenseFile();\n+        if (licFile.isEmpty()) {\n+            return;\n+        }\n+\n+        byte[] licenseContentOriginal =\n+                Files.readAllBytes(licFile.orElseThrow());\n+        String licenseInBase64 =\n+                Base64.getEncoder().encodeToString(licenseContentOriginal);\n+\n+        Map<String, String> data = new HashMap<>();\n+        data.put(\"APPLICATION_LICENSE_TEXT\", licenseInBase64);\n+        data.put(\"STR_DATA_ENGLISH\",\n+                getSTRData(\"English\", Locale.ENGLISH, \"MacRoman\"));\n+        data.put(\"STR_DATA_GERMAN\",\n+                getSTRData(\"German\", Locale.GERMAN, \"MacRoman\"));\n+        data.put(\"STR_DATA_JAPANESE\",\n+                getSTRData(\"Japanese\", Locale.JAPANESE, \"Shift_JIS\"));\n+        data.put(\"STR_DATA_SIMPLIFIED_CHINESE\",\n+                getSTRData(\"Simplified Chinese\", Locale.SIMPLIFIED_CHINESE, \"GB2312\"));\n+\n+        env.createResource(DEFAULT_LICENSE_PLIST)\n+                .setCategory(I18N.getString(\"resource.license-setup\"))\n+                .setSubstitutionData(data)\n+                .saveToFile(licenseFile);\n+    }\n+\n+    private static void writeSTRDataString(ByteArrayOutputStream bos,\n+                String str, String charset) {\n+        byte [] bytes = str.getBytes(Charset.forName(charset));\n+        byte [] bytesLength = {(byte)bytes.length};\n+        bos.writeBytes(bytesLength);\n+        bos.writeBytes(bytes);\n+    }\n+\n+    \/\/ Returns base64 decoded STR section data.\n+    \/\/ Strings should be in following order:\n+    \/\/ Language, message.dmg.license.button.agree,\n+    \/\/ message.dmg.license.button.disagree, message.dmg.license.button.print\n+    \/\/ message.dmg.license.button.save, message.dmg.license.message\n+    \/\/ STR section data encoded:\n+    \/\/ Number of strings in the list (unsigned 16-bit integer, big endian): 6\n+    \/\/ A sequence of strings prefixed with string length (unsigned 8-bit integer)\n+    \/\/ Note: Language should not be translated.\n+    private static String getSTRData(String language, Locale locale, String charset) {\n+        ResourceBundle bundle = ResourceBundle.getBundle(\n+                \"jdk.jpackage.internal.resources.MacResources\", locale);\n+        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n+\n+        byte [] numberOfStrings = {0x00, 0x06}; \/\/ Always 6\n+        bos.writeBytes(numberOfStrings);\n+\n+        writeSTRDataString(bos, language, charset);\n+        writeSTRDataString(bos, bundle.getString(\"message.dmg.license.button.agree\"), charset);\n+        writeSTRDataString(bos, bundle.getString(\"message.dmg.license.button.disagree\"), charset);\n+        writeSTRDataString(bos, bundle.getString(\"message.dmg.license.button.print\"), charset);\n+        writeSTRDataString(bos, bundle.getString(\"message.dmg.license.button.save\"), charset);\n+        writeSTRDataString(bos, bundle.getString(\"message.dmg.license.message\"), charset);\n+\n+        return Base64.getEncoder().encodeToString(bos.toByteArray());\n+    }\n+\n+    private static final String DEFAULT_LICENSE_PLIST=\"lic_template.plist\";\n+}\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/MacDmgLicense.java","additions":108,"deletions":0,"binary":false,"changes":108,"status":"added"},{"patch":"@@ -37,1 +37,0 @@\n-import java.util.Base64;\n@@ -178,20 +177,0 @@\n-    private void prepareLicense() throws IOException {\n-        final var licFile = pkg.licenseFile();\n-        if (licFile.isEmpty()) {\n-            return;\n-        }\n-\n-        byte[] licenseContentOriginal =\n-                Files.readAllBytes(licFile.orElseThrow());\n-        String licenseInBase64 =\n-                Base64.getEncoder().encodeToString(licenseContentOriginal);\n-\n-        Map<String, String> data = new HashMap<>();\n-        data.put(\"APPLICATION_LICENSE_TEXT\", licenseInBase64);\n-\n-        env.createResource(DEFAULT_LICENSE_PLIST)\n-                .setCategory(I18N.getString(\"resource.license-setup\"))\n-                .setSubstitutionData(data)\n-                .saveToFile(licenseFile());\n-    }\n-\n@@ -209,1 +188,1 @@\n-        prepareLicense();\n+        MacDmgLicense.prepareLicense(pkg, env, licenseFile());\n@@ -444,2 +423,0 @@\n-\n-    private static final String DEFAULT_LICENSE_PLIST=\"lic_template.plist\";\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/MacDmgPackager.java","additions":1,"deletions":24,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -67,0 +67,5 @@\n+message.dmg.license.button.agree=Agree\n+message.dmg.license.button.disagree=Disagree\n+message.dmg.license.button.print=Print\n+message.dmg.license.button.save=Save...\n+message.dmg.license.message=If you agree with the terms of this license, press \"Agree\" to install the software. If you do not agree, press \"Disagree\".\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources.properties","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,0 +74,5 @@\n+message.dmg.license.button.agree=Akzeptieren\n+message.dmg.license.button.disagree=Ablehnen\n+message.dmg.license.button.print=Drucken\n+message.dmg.license.button.save=Sichern...\n+message.dmg.license.message=Klicken Sie in “Akzeptieren”, wenn Sie mit den Bestimmungen des Software-Lizenzvertrags einverstanden sind. Falls nicht, bitte “Ablehnen” anklicken. Sie können die Software nur installieren, wenn Sie “Akzeptieren” angeklickt haben.\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources_de.properties","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,0 +74,5 @@\n+message.dmg.license.button.agree=同意します\n+message.dmg.license.button.disagree=同意しません\n+message.dmg.license.button.print=印刷する\n+message.dmg.license.button.save=保存...\n+message.dmg.license.message=本ソフトウエア使用許諾契約の条件に同意される場合には、ソフトウエアをインストールするために「同意します」を押してください。　同意されない場合には、「同意しません」を押してください。\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources_ja.properties","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,0 +74,5 @@\n+message.dmg.license.button.agree=同意\n+message.dmg.license.button.disagree=不同意\n+message.dmg.license.button.print=打印\n+message.dmg.license.button.save=存储...\n+message.dmg.license.message=如果您同意本许可协议的条款，请按“同意”来安装此软件。如果您不同意，请按“不同意”。\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources_zh_CN.properties","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -11,1 +11,3 @@\n-\t\t\t<data>AAAAAgAAAAAAAAAAAAQAAA==<\/data>\n+\t\t\t<data>\n+\t\t\tAAAABAAAAAAAAAADAAEAAAAOAAIAAQA0AAMAAQ==\n+\t\t\t<\/data>\n@@ -24,1 +26,3 @@\n-\t\t\t<data>AAYPRW5nbGlzaCBkZWZhdWx0BUFncmVlCERpc2FncmVlBVByaW50B1NhdmUuLi56SWYgeW91IGFncmVlIHdpdGggdGhlIHRlcm1zIG9mIHRoaXMgbGljZW5zZSwgY2xpY2sgIkFncmVlIiB0byBhY2Nlc3MgdGhlIHNvZnR3YXJlLiAgSWYgeW91IGRvIG5vdCBhZ3JlZSwgcHJlc3MgIkRpc2FncmVlLiI=<\/data>\n+\t\t\t<data>\n+\t\t\tSTR_DATA_ENGLISH\n+\t\t\t<\/data>\n@@ -27,0 +31,1 @@\n+\t\t\t<!-- Note: Values if \"Name\" keys should not be localized for all languages. It is internal use only. -->\n@@ -28,1 +33,1 @@\n-\t\t\t<string>English buttons<\/string>\n+\t\t\t<string>English (United States)<\/string>\n@@ -34,1 +39,3 @@\n-\t\t\t<data>AAYHRGV1dHNjaAtBa3plcHRpZXJlbghBYmxlaG5lbgdEcnVja2VuClNpY2hlcm4uLi7nS2xpY2tlbiBTaWUgaW4g0kFremVwdGllcmVu0ywgd2VubiBTaWUgbWl0IGRlbiBCZXN0aW1tdW5nZW4gZGVzIFNvZnR3YXJlLUxpemVuenZlcnRyYWdzIGVpbnZlcnN0YW5kZW4gc2luZC4gRmFsbHMgbmljaHQsIGJpdHRlINJBYmxlaG5lbtMgYW5rbGlja2VuLiBTaWUga5pubmVuIGRpZSBTb2Z0d2FyZSBudXIgaW5zdGFsbGllcmVuLCB3ZW5uIFNpZSDSQWt6ZXB0aWVyZW7TIGFuZ2VrbGlja3QgaGFiZW4u<\/data>\n+\t\t\t<data>\n+\t\t\tSTR_DATA_GERMAN\n+\t\t\t<\/data>\n@@ -44,1 +51,3 @@\n-\t\t\t<data>AAYHRW5nbGlzaAVBZ3JlZQhEaXNhZ3JlZQVQcmludAdTYXZlLi4ue0lmIHlvdSBhZ3JlZSB3aXRoIHRoZSB0ZXJtcyBvZiB0aGlzIGxpY2Vuc2UsIHByZXNzICJBZ3JlZSIgdG8gaW5zdGFsbCB0aGUgc29mdHdhcmUuICBJZiB5b3UgZG8gbm90IGFncmVlLCBwcmVzcyAiRGlzYWdyZWUiLg==<\/data>\n+\t\t\t<data>\n+\t\t\tSTR_DATA_JAPANESE\n+\t\t\t<\/data>\n@@ -48,40 +57,0 @@\n-\t\t\t<string>English<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYHRXNwYZZvbAdBY2VwdGFyCk5vIGFjZXB0YXIISW1wcmltaXIKR3VhcmRhci4uLsBTaSBlc3SHIGRlIGFjdWVyZG8gY29uIGxvcyB0jnJtaW5vcyBkZSBlc3RhIGxpY2VuY2lhLCBwdWxzZSAiQWNlcHRhciIgcGFyYSBpbnN0YWxhciBlbCBzb2Z0d2FyZS4gRW4gZWwgc3VwdWVzdG8gZGUgcXVlIG5vIGVzdI4gZGUgYWN1ZXJkbyBjb24gbG9zIHSOcm1pbm9zIGRlIGVzdGEgbGljZW5jaWEsIHB1bHNlICJObyBhY2VwdGFyLiI=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5003<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Spanish<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYIRnJhbo1haXMIQWNjZXB0ZXIHUmVmdXNlcghJbXByaW1lcg5FbnJlZ2lzdHJlci4uLrpTaSB2b3VzIGFjY2VwdGV6IGxlcyB0ZXJtZXMgZGUgbGEgcHKOc2VudGUgbGljZW5jZSwgY2xpcXVleiBzdXIgIkFjY2VwdGVyIiBhZmluIGQnaW5zdGFsbGVyIGxlIGxvZ2ljaWVsLiBTaSB2b3VzIG4nkHRlcyBwYXMgZCdhY2NvcmQgYXZlYyBsZXMgdGVybWVzIGRlIGxhIGxpY2VuY2UsIGNsaXF1ZXogc3VyICJSZWZ1c2VyIi4=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5004<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>French<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYISXRhbGlhbm8HQWNjZXR0bwdSaWZpdXRvBlN0YW1wYQtSZWdpc3RyYS4uLn9TZSBhY2NldHRpIGxlIGNvbmRpemlvbmkgZGkgcXVlc3RhIGxpY2VuemEsIGZhaSBjbGljIHN1ICJBY2NldHRvIiBwZXIgaW5zdGFsbGFyZSBpbCBzb2Z0d2FyZS4gQWx0cmltZW50aSBmYWkgY2xpYyBzdSAiUmlmaXV0byIu<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5005<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Italian<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYISmFwYW5lc2UKk6+I04K1gtyCtwyTr4jTgrWC3IK5gvEIiPON\/IK3gukHlduRti4uLrSWe4Ncg3SDZ4NFg0eDQY5nl3CLlpH4jF+W8YLMj\/CMj4LJk6+I04KzguqC6Y\/qjYeCyYLNgUGDXIN0g2eDRYNHg0GC8INDg5ODWINngVuDi4K3gumCvYLfgsmBdZOviNOCtYLcgreBdoLwiZ+CtYLEgq2CvoKzgqKBQoFAk6+I04KzguqCyIKij+qNh4LJgs2BQYF1k6+I04K1gtyCuYLxgXaC8ImfgrWCxIKtgr6Cs4KigUI=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5006<\/string>\n-\t\t\t<key>Name<\/key>\n@@ -94,51 +63,3 @@\n-\t\t\t<data>AAYKTmVkZXJsYW5kcwJKYQNOZWUFUHJpbnQJQmV3YWFyLi4upEluZGllbiB1IGFra29vcmQgZ2FhdCBtZXQgZGUgdm9vcndhYXJkZW4gdmFuIGRlemUgbGljZW50aWUsIGt1bnQgdSBvcCAnSmEnIGtsaWtrZW4gb20gZGUgcHJvZ3JhbW1hdHV1ciB0ZSBpbnN0YWxsZXJlbi4gSW5kaWVuIHUgbmlldCBha2tvb3JkIGdhYXQsIGtsaWt0IHUgb3AgJ05lZScu<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5007<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Dutch<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYGU3ZlbnNrCEdvZGuKbm5zBkF2YppqcwhTa3JpdiB1dAhTcGFyYS4uLpNPbSBEdSBnb2Rrim5uZXIgbGljZW5zdmlsbGtvcmVuIGtsaWNrYSBwjCAiR29ka4pubnMiIGaaciBhdHQgaW5zdGFsbGVyYSBwcm9ncmFtcHJvZHVrdGVuLiBPbSBEdSBpbnRlIGdvZGuKbm5lciBsaWNlbnN2aWxsa29yZW4sIGtsaWNrYSBwjCAiQXZimmpzIi4=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5008<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Swedish<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYRUG9ydHVndZBzLCBCcmFzaWwJQ29uY29yZGFyCURpc2NvcmRhcghJbXByaW1pcglTYWx2YXIuLi6MU2UgZXN0hyBkZSBhY29yZG8gY29tIG9zIHRlcm1vcyBkZXN0YSBsaWNlbo1hLCBwcmVzc2lvbmUgIkNvbmNvcmRhciIgcGFyYSBpbnN0YWxhciBvIHNvZnR3YXJlLiBTZSBui28gZXN0hyBkZSBhY29yZG8sIHByZXNzaW9uZSAiRGlzY29yZGFyIi4=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5009<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Brazilian Portuguese<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYSU2ltcGxpZmllZCBDaGluZXNlBM2s0uIGsrvNrNLiBLTy06EGtOa0oqGtVMjnufvE+s2s0uKxvtDtv8nQrdLptcTM9b\/uo6zH67C0obDNrNLiobHAtLCy17C0y8jtvP6ho8jnufvE+rK7zazS4qOsx+uwtKGwsrvNrNLiobGhow==<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5010<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Simplified Chinese<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYTVHJhZGl0aW9uYWwgQ2hpbmVzZQSmULdOBqSjplC3TgSmQ6ZMBsB4pnOhS1CmcKpHsXqmULdOpbuzXKVpw9K4zKq6sfi02qFBvdCr9qGnplC3TqGopUimd7jLs27F6aFDpnCqR6SjplC3TqFBvdCr9qGnpKOmULdOoaihQw==<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5011<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Traditional Chinese<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYFRGFuc2sERW5pZwVVZW5pZwdVZHNrcml2CkFya2l2ZXIuLi6YSHZpcyBkdSBhY2NlcHRlcmVyIGJldGluZ2Vsc2VybmUgaSBsaWNlbnNhZnRhbGVuLCBza2FsIGR1IGtsaWtrZSBwjCDSRW5pZ9MgZm9yIGF0IGluc3RhbGxlcmUgc29mdHdhcmVuLiBLbGlrIHCMINJVZW5pZ9MgZm9yIGF0IGFubnVsbGVyZSBpbnN0YWxsZXJpbmdlbi4=<\/data>\n+\t\t\t<data>\n+\t\t\tSTR_DATA_SIMPLIFIED_CHINESE\n+\t\t\t<\/data>\n@@ -146,41 +67,1 @@\n-\t\t\t<string>5012<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Danish<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYFU3VvbWkISHl2imtzeW4KRW4gaHl2imtzeQdUdWxvc3RhCVRhbGxlbm5hyW9IeXaKa3N5IGxpc2Vuc3Npc29waW11a3NlbiBlaGRvdCBvc29pdHRhbWFsbGEg1Uh5doprc3nVLiBKb3MgZXQgaHl2imtzeSBzb3BpbXVrc2VuIGVodG9qYSwgb3NvaXRhINVFbiBoeXaKa3N51S4=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5013<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Finnish<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYRRnJhbo1haXMgY2FuYWRpZW4IQWNjZXB0ZXIHUmVmdXNlcghJbXByaW1lcg5FbnJlZ2lzdHJlci4uLrpTaSB2b3VzIGFjY2VwdGV6IGxlcyB0ZXJtZXMgZGUgbGEgcHKOc2VudGUgbGljZW5jZSwgY2xpcXVleiBzdXIgIkFjY2VwdGVyIiBhZmluIGQnaW5zdGFsbGVyIGxlIGxvZ2ljaWVsLiBTaSB2b3VzIG4nkHRlcyBwYXMgZCdhY2NvcmQgYXZlYyBsZXMgdGVybWVzIGRlIGxhIGxpY2VuY2UsIGNsaXF1ZXogc3VyICJSZWZ1c2VyIi4=<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5014<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>French Canadian<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYGS29yZWFuBLW\/wMcJtb\/AxyC+yMfUBsfBuLDGrgfA+sDlLi4ufrvnv+sgsOi+4LytwMcgs7u\/67+hILW\/wMfHz7jpLCAitb\/AxyIgtNzD37imILStt68gvNLHwcauv\/6+7rimILyzxKHHz73KvcO\/wC4gtb\/Ax8fPwfYgvsq0wrTZuOksICK1v8DHIL7Ix9QiILTcw9+4piC0qbijvcq9w7\/ALg==<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5015<\/string>\n-\t\t\t<key>Name<\/key>\n-\t\t\t<string>Korean<\/string>\n-\t\t<\/dict>\n-\t\t<dict>\n-\t\t\t<key>Attributes<\/key>\n-\t\t\t<string>0x0000<\/string>\n-\t\t\t<key>Data<\/key>\n-\t\t\t<data>AAYFTm9yc2sERW5pZwlJa2tlIGVuaWcIU2tyaXYgdXQKQXJraXZlci4uLqNIdmlzIERlIGVyIGVuaWcgaSBiZXN0ZW1tZWxzZW5lIGkgZGVubmUgbGlzZW5zYXZ0YWxlbiwga2xpa2tlciBEZSBwjCAiRW5pZyIta25hcHBlbiBmb3IgjCBpbnN0YWxsZXJlIHByb2dyYW12YXJlbi4gSHZpcyBEZSBpa2tlIGVyIGVuaWcsIGtsaWtrZXIgRGUgcIwgIklra2UgZW5pZyIu<\/data>\n-\t\t\t<key>ID<\/key>\n-\t\t\t<string>5016<\/string>\n+\t\t\t<string>5003<\/string>\n@@ -188,1 +69,1 @@\n-\t\t\t<string>Norwegian<\/string>\n+\t\t\t<string>Chinese (Simplified)<\/string>\n@@ -197,1 +78,3 @@\n-\t\t\t<data>APPLICATION_LICENSE_TEXT<\/data>\n+\t\t\t<data>\n+\t\t\tAPPLICATION_LICENSE_TEXT\n+\t\t\t<\/data>\n@@ -201,1 +84,1 @@\n-\t\t\t<string>English SLA<\/string>\n+\t\t\t<string>English (United States) SLA<\/string>\n@@ -203,4 +86,1 @@\n-\t<\/array>\n-\t<key>TMPL<\/key>\n-\t<array>\n-\t\t<dict>\n+\t\t\t\t<dict>\n@@ -210,1 +90,3 @@\n-\t\t\t<data>E0RlZmF1bHQgTGFuZ3VhZ2UgSUREV1JEBUNvdW50T0NOVAQqKioqTFNUQwtzeXMgbGFuZyBJRERXUkQebG9jYWwgcmVzIElEIChvZmZzZXQgZnJvbSA1MDAwRFdSRBAyLWJ5dGUgbGFuZ3VhZ2U\/RFdSRAQqKioqTFNURQ==<\/data>\n+\t\t\t<data>\n+\t\t\tAPPLICATION_LICENSE_TEXT\n+\t\t\t<\/data>\n@@ -212,1 +94,1 @@\n-\t\t\t<string>128<\/string>\n+\t\t\t<string>5001<\/string>\n@@ -214,1 +96,1 @@\n-\t\t\t<string>LPic<\/string>\n+\t\t\t<string>German SLA<\/string>\n@@ -216,3 +98,0 @@\n-\t<\/array>\n-\t<key>plst<\/key>\n-\t<array>\n@@ -221,1 +100,1 @@\n-\t\t\t<string>0x0050<\/string>\n+\t\t\t<string>0x0000<\/string>\n@@ -223,1 +102,3 @@\n-\t\t\t<data>AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA<\/data>\n+\t\t\t<data>\n+\t\t\tAPPLICATION_LICENSE_TEXT\n+\t\t\t<\/data>\n@@ -225,1 +106,1 @@\n-\t\t\t<string>0<\/string>\n+\t\t\t<string>5002<\/string>\n@@ -227,1 +108,1 @@\n-\t\t\t<string><\/string>\n+\t\t\t<string>Japanese SLA<\/string>\n@@ -229,3 +110,0 @@\n-\t<\/array>\n-\t<key>styl<\/key>\n-\t<array>\n@@ -236,1 +114,3 @@\n-\t\t\t<data>AAMAAAAAAAwACQAUAAAAAAAAAAAAAAAAACcADAAJABQBAAAAAAAAAAAAAAAAKgAMAAkAFAAAAAAAAAAAAAA=<\/data>\n+\t\t\t<data>\n+\t\t\tAPPLICATION_LICENSE_TEXT\n+\t\t\t<\/data>\n@@ -238,1 +118,1 @@\n-\t\t\t<string>5000<\/string>\n+\t\t\t<string>5003<\/string>\n@@ -240,1 +120,1 @@\n-\t\t\t<string>English SLA<\/string>\n+\t\t\t<string>Chinese (Simplified) SLA<\/string>\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/lic_template.plist","additions":40,"deletions":160,"binary":false,"changes":200,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-    Executor storeOutputInFiles(boolean v) {\n+    public Executor storeOutputInFiles(boolean v) {\n@@ -191,1 +191,1 @@\n-    Executor storeOutputInFiles() {\n+    public Executor storeOutputInFiles() {\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/Executor.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,0 +59,3 @@\n+ * For DMG license should be displayed on command line when \"hdiutil attach\"\n+ * is called.\n+ *\n@@ -99,0 +102,1 @@\n+        initMacDmgLicenseVerifier(test.forTypes(PackageType.MAC_DMG));\n@@ -134,0 +138,27 @@\n+    private static PackageTest initMacDmgLicenseVerifier(PackageTest test) {\n+        return test\n+        .addBundleVerifier(cmd -> {\n+            verifyLicenseFileInDMGPackage(cmd);\n+        });\n+    }\n+\n+    private static void verifyLicenseFileInDMGPackage(JPackageCommand cmd)\n+            throws IOException {\n+        \/\/ DMG should have license, so attach with \"no\", since we only need license.\n+        \/\/ With \"no\" attach will be canceled.\n+        final var attachExec = Executor.of(\"sh\", \"-c\", String.join(\" \",\n+                \"no\",\n+                \"|\",\n+                \"\/usr\/bin\/hdiutil\",\n+                \"attach\",\n+                JPackageCommand.escapeAndJoin(cmd.outputBundle().toString())\n+        )).saveOutput().storeOutputInFiles();\n+\n+        \/\/ Expected exit code is 1, since we canceling license.\n+        final var attachResult = attachExec.executeAndRepeatUntilExitCode(1, 10, 6);\n+        TKit.assertStringListEquals(Files.readAllLines(LICENSE_FILE),\n+                attachResult.stdout(), String.format(\n+                \"Check output of \\\"hdiutil attach\\\" has the same license as contents of source license file [%s]\",\n+                LICENSE_FILE));\n+    }\n+\n","filename":"test\/jdk\/tools\/jpackage\/share\/LicenseTest.java","additions":32,"deletions":1,"binary":false,"changes":33,"status":"modified"}]}
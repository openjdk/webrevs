{"files":[{"patch":"@@ -128,0 +128,4 @@\n+\n+    NSLog(@\"ApplicationDelegate::sharedDelegate: shouldInstall=%d, isApplicationOwner=%d, overrideDelegate=%d\",\n+            shouldInstall, isApplicationOwner, overrideDelegate);\n+\n@@ -197,0 +201,2 @@\n+    NSLog(@\"AWT: ApplicationDelegate::init\");\n+\n@@ -205,0 +211,3 @@\n+\n+    NSLog(@\"AWT: usingDefaultNib=%d\", usingDefaultNib);\n+\n@@ -260,0 +269,2 @@\n+    NSLog(@\"AWT: register notifications\");\n+\n@@ -269,0 +280,3 @@\n+    [ctr addObserver:clz selector:@selector(_embeddedEvent:) name:@\"EmbeddedEvent\" object:nil];\n+\n+    NSLog(@\"AWT: normal exit\");\n@@ -293,1 +307,0 @@\n-AWT_ASSERT_APPKIT_THREAD;\n@@ -297,0 +310,8 @@\n+    [self _openURL:url];\n+\n+    [replyEvent insertDescriptor:[NSAppleEventDescriptor nullDescriptor] atIndex:0];\n+}\n+\n++ (void)_openURL:(NSString *)url {\n+AWT_ASSERT_APPKIT_THREAD;\n+    NSLog(@\"AWT: ApplicationDelegate::_openURL: %@\", url);\n@@ -306,2 +327,0 @@\n-\n-    [replyEvent insertDescriptor:[NSAppleEventDescriptor nullDescriptor] atIndex:0];\n@@ -478,0 +497,10 @@\n++ (void)_embeddedEvent:(NSNotification *)notification {\n+    NSLog(@\"AWT: ApplicationDelegate::_embeddedEvent\");\n+    NSString *name = notification.userInfo[@\"name\"];\n+\n+    if ([name isEqualToString:@\"openURL\"]) {\n+        NSString *url = notification.userInfo[@\"url\"];\n+        [self _openURL:url];\n+    }\n+}\n+\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/ApplicationDelegate.m","additions":32,"deletions":3,"binary":false,"changes":35,"status":"modified"}]}
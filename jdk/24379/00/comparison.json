{"files":[{"patch":"@@ -200,0 +200,11 @@\n+    \/\/ register for the finish launching and system power off notifications by default\n+    NSNotificationCenter *ctr = [NSNotificationCenter defaultCenter];\n+    Class clz = [ApplicationDelegate class];\n+    [ctr addObserver:clz selector:@selector(_willFinishLaunching) name:NSApplicationWillFinishLaunchingNotification object:nil];\n+    [ctr addObserver:clz selector:@selector(_systemWillPowerOff) name:NSWorkspaceWillPowerOffNotification object:nil];\n+    [ctr addObserver:clz selector:@selector(_appDidActivate) name:NSApplicationDidBecomeActiveNotification object:nil];\n+    [ctr addObserver:clz selector:@selector(_appDidDeactivate) name:NSApplicationDidResignActiveNotification object:nil];\n+    [ctr addObserver:clz selector:@selector(_appDidHide) name:NSApplicationDidHideNotification object:nil];\n+    [ctr addObserver:clz selector:@selector(_appDidUnhide) name:NSApplicationDidUnhideNotification object:nil];\n+    [ctr addObserver:clz selector:@selector(_embeddedEvent:) name:@\"EmbeddedEvent\" object:nil];\n+\n@@ -260,10 +271,0 @@\n-    \/\/ register for the finish launching and system power off notifications by default\n-    NSNotificationCenter *ctr = [NSNotificationCenter defaultCenter];\n-    Class clz = [ApplicationDelegate class];\n-    [ctr addObserver:clz selector:@selector(_willFinishLaunching) name:NSApplicationWillFinishLaunchingNotification object:nil];\n-    [ctr addObserver:clz selector:@selector(_systemWillPowerOff) name:NSWorkspaceWillPowerOffNotification object:nil];\n-    [ctr addObserver:clz selector:@selector(_appDidActivate) name:NSApplicationDidBecomeActiveNotification object:nil];\n-    [ctr addObserver:clz selector:@selector(_appDidDeactivate) name:NSApplicationDidResignActiveNotification object:nil];\n-    [ctr addObserver:clz selector:@selector(_appDidHide) name:NSApplicationDidHideNotification object:nil];\n-    [ctr addObserver:clz selector:@selector(_appDidUnhide) name:NSApplicationDidUnhideNotification object:nil];\n-\n@@ -293,1 +294,0 @@\n-AWT_ASSERT_APPKIT_THREAD;\n@@ -297,0 +297,4 @@\n+    [self _openURL:url];\n+\n+    [replyEvent insertDescriptor:[NSAppleEventDescriptor nullDescriptor] atIndex:0];\n+}\n@@ -298,0 +302,2 @@\n++ (void)_openURL:(NSString *)url {\n+AWT_ASSERT_APPKIT_THREAD;\n@@ -306,2 +312,0 @@\n-\n-    [replyEvent insertDescriptor:[NSAppleEventDescriptor nullDescriptor] atIndex:0];\n@@ -478,0 +482,9 @@\n++ (void)_embeddedEvent:(NSNotification *)notification {\n+    NSString *name = notification.userInfo[@\"name\"];\n+\n+    if ([name isEqualToString:@\"openURL\"]) {\n+        NSString *url = notification.userInfo[@\"url\"];\n+        [self _openURL:url];\n+    }\n+}\n+\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/ApplicationDelegate.m","additions":26,"deletions":13,"binary":false,"changes":39,"status":"modified"}]}
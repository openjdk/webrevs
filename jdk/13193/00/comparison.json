{"files":[{"patch":"@@ -243,0 +243,1 @@\n+            o.setWrappedStream (new FixedLengthOutputStream (this, ros, contentLen));\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ExchangeImpl.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,3 +26,2 @@\n- * @bug 8219083\n- * @summary Exceptions thrown from HttpHandler.handle should not close connection\n- *          if response is completed\n+ * @bug 8304963\n+ * @summary Connection should be reusable after HEAD request\n@@ -30,1 +29,1 @@\n- * @run junit ExceptionKeepAlive\n+ * @run junit HeadKeepAlive\n@@ -53,1 +52,1 @@\n-public class ExceptionKeepAlive\n+public class HeadKeepAlive\n@@ -70,0 +69,1 @@\n+            uc.setRequestMethod(\"HEAD\");\n@@ -80,0 +80,1 @@\n+            uc2.setRequestMethod(\"HEAD\");\n@@ -112,1 +113,0 @@\n-\n@@ -115,2 +115,0 @@\n-                \/\/ response is completed now; throw exception\n-                throw new NumberFormatException();\n@@ -121,1 +119,0 @@\n-\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/HeadKeepAlive.java","additions":6,"deletions":9,"binary":false,"changes":15,"previous_filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/ExceptionKeepAlive.java","status":"copied"}]}
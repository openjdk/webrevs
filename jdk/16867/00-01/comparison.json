{"files":[{"patch":"@@ -52,0 +52,1 @@\n+import javax.swing.SwingUtilities;\n@@ -76,0 +77,1 @@\n+        robot.setAutoDelay(500);\n@@ -77,1 +79,2 @@\n-        Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\n+        SwingUtilities.invokeAndWait(() -> {\n+            Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\n@@ -86,3 +89,3 @@\n-        f = new Frame(\"Frame\");\n-        f.setBounds(0, 0, 300, 300);\n-        f.addMouseListener(new MouseAdapter() {\n+            f = new Frame(\"Frame\");\n+            f.setBounds(0, 0, 300, 300);\n+            f.addMouseListener(new MouseAdapter() {\n@@ -95,2 +98,2 @@\n-        f1 = new Frame(\"OtherFrame\");\n-        f1.setBounds(700, 100, 300, 300);\n+            f1 = new Frame(\"OtherFrame\");\n+            f1.setBounds(700, 100, 300, 300);\n@@ -98,4 +101,4 @@\n-        w = new Window(f);\n-        w.setLayout(new FlowLayout());\n-        b = new Button(\"Press\");\n-        b.addActionListener(new ActionListener() {\n+            w = new Window(f);\n+            w.setLayout(new FlowLayout());\n+            b = new Button(\"Press\");\n+            b.addActionListener(new ActionListener() {\n@@ -107,4 +110,4 @@\n-        w.add(b);\n-        w.setBounds(400, 100, 300, 300);\n-        w.setBackground(Color.blue);\n-        w.addMouseListener(new MouseAdapter() {\n+            w.add(b);\n+            w.setBounds(400, 100, 300, 300);\n+            w.setBackground(Color.blue);\n+            w.addMouseListener(new MouseAdapter() {\n@@ -117,3 +120,2 @@\n-        f.setVisible(true);\n-        w.setVisible(true);\n-        Util.waitForIdle(robot);\n+            f.setVisible(true);\n+            w.setVisible(true);\n@@ -121,5 +123,5 @@\n-        frame = new Frame();\n-        window1 = new Window(frame);\n-        window1.setSize(200, 200);\n-        window1.setLocationRelativeTo(null);\n-        window1.setBackground(Color.blue);\n+            frame = new Frame();\n+            window1 = new Window(frame);\n+            window1.setSize(200, 200);\n+            window1.setLocationRelativeTo(null);\n+            window1.setBackground(Color.blue);\n@@ -127,4 +129,4 @@\n-        window2 = new Window(window1);\n-        window2.setSize(100, 100);\n-        window2.setLocationRelativeTo(null);\n-        window2.setBackground(Color.green);\n+            window2 = new Window(window1);\n+            window2.setSize(100, 100);\n+            window2.setLocationRelativeTo(null);\n+            window2.setBackground(Color.green);\n@@ -132,1 +134,2 @@\n-        tk = (sun.awt.SunToolkit)Toolkit.getDefaultToolkit();\n+            tk = (sun.awt.SunToolkit)Toolkit.getDefaultToolkit();\n+        });\n@@ -135,1 +138,0 @@\n-\n@@ -145,1 +147,0 @@\n-        robot.delay(100);\n@@ -167,1 +168,0 @@\n-        robot.delay(100);\n@@ -194,1 +194,0 @@\n-        robot.delay(100);\n@@ -202,1 +201,0 @@\n-        robot.delay(100);\n@@ -209,2 +207,0 @@\n-        robot.delay(100);\n-\n@@ -216,1 +212,0 @@\n-        robot.delay(100);\n@@ -218,3 +213,2 @@\n-        robot.mousePress(InputEvent.BUTTON1_MASK);\n-        robot.delay(100);\n-        robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -222,1 +216,0 @@\n-        robot.delay(100);\n@@ -247,1 +240,0 @@\n-        robot.delay(100);\n@@ -253,1 +245,0 @@\n-        robot.delay(100);\n","filename":"test\/jdk\/java\/awt\/Window\/Grab\/GrabTest.java","additions":32,"deletions":41,"binary":false,"changes":73,"status":"modified"}]}
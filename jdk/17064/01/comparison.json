{"files":[{"patch":"@@ -353,1 +353,1 @@\n-        this.thpEligible = Integer.parseInt(thpEligible) == 1;\n+        this.thpEligible = thpEligible == null ? false : (Integer.parseInt(thpEligible) == 1);\n@@ -368,3 +368,3 @@\n-        \/\/ When the THP policy is 'always' instead of 'madvise, the vmFlagHG property is false.\n-        \/\/ Check the THPeligible property instead.\n-        isTHP = !vmFlagHT && this.thpEligible;\n+        \/\/ When the THP policy is 'always' instead of 'madvise, the vmFlagHG property is false,\n+        \/\/ therefore also check thpEligible. If this is still cauing problems in the future,\n+        \/\/ we might have to check the AnonHugePages field.\n@@ -372,2 +372,1 @@\n-        \/\/ vmFlagHG should imply isTHP\n-        assert !vmFlagHG || isTHP;\n+        isTHP = vmFlagHG || this.thpEligible;\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestTracePageSizes.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"}]}
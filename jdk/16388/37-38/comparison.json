{"files":[{"patch":"@@ -580,285 +580,0 @@\n-    @Test\n-    public void testHeading_ATX(Path base) throws Exception {\n-        Path src = base.resolve(\"src\");\n-        tb.writeJavaFiles(src,\n-                \"\"\"\n-                    \/\/\/ First sentence.\n-                    \/\/\/\n-                    \/\/\/ # ATX-style heading for package\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    \/\/\/\n-                    \/\/\/ ## ATX-style subheading for package\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    package p;\n-                    \"\"\",\n-                \"\"\"\n-                    package p;\n-                    \/\/\/ First sentence.\n-                    \/\/\/\n-                    \/\/\/ # ATX-style heading for class\n-                    \/\/\/\n-                    \/\/\/ Lorum ipsum.\n-                    \/\/\/\n-                    \/\/\/ ## ATX-style subheading for class\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    public class C {\n-                        \/\/\/ Constructor.\n-                        \/\/\/\n-                        \/\/\/ # ATX-style heading for executable\n-                        \/\/\/\n-                        \/\/\/ Lorem ipsum.\n-                        \/\/\/\n-                        \/\/\/ ## ATX-style subheading for executable\n-                        \/\/\/\n-                        \/\/\/ Lorem ipsum.\n-                        public C() { }\n-                    }\n-                    \"\"\");\n-\n-        javadoc(\"-d\", base.resolve(\"api\").toString(),\n-                \"-Xdoclint:none\",\n-                \"--source-path\", src.toString(),\n-                \"p\");\n-\n-        checkOutput(\"p\/package-summary.html\", true,\n-                \"\"\"\n-                    <div class=\"block\"><p>First sentence.<\/p>\n-                    <h2 id=\"atx-style-heading-for-package-heading\">ATX-style heading for package<\/h2>\n-                    <p>Lorem ipsum.<\/p>\n-                    <h3 id=\"atx-style-subheading-for-package-heading\">ATX-style subheading for package<\/h3>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\"\"\");\n-\n-        checkOutput(\"p\/C.html\", true,\n-                \"\"\"\n-                    <div class=\"block\"><p>First sentence.<\/p>\n-                    <h2 id=\"atx-style-heading-for-class-heading\">ATX-style heading for class<\/h2>\n-                    <p>Lorum ipsum.<\/p>\n-                    <h3 id=\"atx-style-subheading-for-class-heading\">ATX-style subheading for class<\/h3>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\n-                    \"\"\", \"\"\"\n-                    <div class=\"block\"><p>Constructor.<\/p>\n-                    <h4 id=\"atx-style-heading-for-executable-heading\">ATX-style heading for executable<\/h4>\n-                    <p>Lorem ipsum.<\/p>\n-                    <h5 id=\"atx-style-subheading-for-executable-heading\">ATX-style subheading for executable<\/h5>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\n-                    \"\"\");\n-\n-    }\n-\n-    @Test\n-    public void testHeading_Setext(Path base) throws Exception {\n-        Path src = base.resolve(\"src\");\n-        tb.writeJavaFiles(src,\n-                \"\"\"\n-                    \/\/\/ First sentence.\n-                    \/\/\/\n-                    \/\/\/ Setext-style heading for package\n-                    \/\/\/ ================================\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    \/\/\/\n-                    \/\/\/ Setext-style subheading for package\n-                    \/\/\/ -----------------------------------\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    package p;\n-                    \"\"\",\n-                \"\"\"\n-                    package p;\n-                    \/\/\/ First sentence.\n-                    \/\/\/\n-                    \/\/\/ Setext-style heading for class\n-                    \/\/\/ ==============================\n-                    \/\/\/\n-                    \/\/\/ Lorum ipsum.\n-                    \/\/\/\n-                    \/\/\/ Setext-style subheading for class\n-                    \/\/\/ ---------------------------------\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    public class C {\n-                        \/\/\/ Constructor.\n-                        \/\/\/\n-                        \/\/\/ Setext-style heading for executable\n-                        \/\/\/ ===================================\n-                        \/\/\/\n-                        \/\/\/ Lorem ipsum.\n-                        \/\/\/\n-                        \/\/\/ Setext-style subheading for executable\n-                        \/\/\/ --------------------------------------\n-                        \/\/\/\n-                        \/\/\/ Lorem ipsum.\n-                        public C() { }\n-                    }\n-                    \"\"\");\n-\n-        javadoc(\"-d\", base.resolve(\"api\").toString(),\n-                \"-Xdoclint:none\",\n-                \"--source-path\", src.toString(),\n-                \"p\");\n-\n-\n-        checkOutput(\"p\/package-summary.html\", true,\n-                \"\"\"\n-                    <div class=\"block\"><p>First sentence.<\/p>\n-                    <h2 id=\"setext-style-heading-for-package-heading\">Setext-style heading for package<\/h2>\n-                    <p>Lorem ipsum.<\/p>\n-                    <h3 id=\"setext-style-subheading-for-package-heading\">Setext-style subheading for package<\/h3>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\"\"\");\n-\n-        checkOutput(\"p\/C.html\", true,\n-                \"\"\"\n-                    <div class=\"block\"><p>First sentence.<\/p>\n-                    <h2 id=\"setext-style-heading-for-class-heading\">Setext-style heading for class<\/h2>\n-                    <p>Lorum ipsum.<\/p>\n-                    <h3 id=\"setext-style-subheading-for-class-heading\">Setext-style subheading for class<\/h3>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\n-                    \"\"\", \"\"\"\n-                    <div class=\"block\"><p>Constructor.<\/p>\n-                    <h4 id=\"setext-style-heading-for-executable-heading\">Setext-style heading for executable<\/h4>\n-                    <p>Lorem ipsum.<\/p>\n-                    <h5 id=\"setext-style-subheading-for-executable-heading\">Setext-style subheading for executable<\/h5>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\n-                    \"\"\");\n-    }\n-\n-    @Test\n-    public void testMaxHeadings(Path base) throws Exception {\n-\n-        Path src = base.resolve(\"src\");\n-        tb.writeJavaFiles(src,\n-                \"\"\"\n-                    package p;\n-                    \/\/\/ First sentence.\n-                    \/\/\/\n-                    \/\/\/ # Level 1 heading for class\n-                    \/\/\/ ## Level 2 subheading for class\n-                    \/\/\/ ### Level 3 subheading for class\n-                    \/\/\/ #### Level 4 heading for class\n-                    \/\/\/ ##### Level 5 subheading for class\n-                    \/\/\/ ###### Level 6 subheading for class\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum.\n-                    public class C {\n-                        \/\/\/ Constructor.\n-                        \/\/\/\n-                        \/\/\/ # Level 1 heading for member\n-                        \/\/\/ ## Level 2 subheading for member\n-                        \/\/\/ ### Level 3 subheading for member\n-                        \/\/\/ #### Level 4 heading for member\n-                        \/\/\/ ##### Level 5 subheading for member\n-                        \/\/\/ ###### Level 6 subheading for member\n-                        \/\/\/\n-                        \/\/\/ Lorem ipsum.\n-                        public C() { }\n-                    }\n-                    \"\"\");\n-\n-        javadoc(\"-d\", base.resolve(\"api\").toString(),\n-                \"-Xdoclint:none\",\n-                \"--source-path\", src.toString(),\n-                \"p\");\n-        checkOutput(\"p\/C.html\", true,\n-                \"\"\"\n-                    <div class=\"block\"><p>First sentence.<\/p>\n-                    <h2 id=\"level-1-heading-for-class-heading\">Level 1 heading for class<\/h2>\n-                    <h3 id=\"level-2-subheading-for-class-heading\">Level 2 subheading for class<\/h3>\n-                    <h4 id=\"level-3-subheading-for-class-heading\">Level 3 subheading for class<\/h4>\n-                    <h5 id=\"level-4-heading-for-class-heading\">Level 4 heading for class<\/h5>\n-                    <h6 id=\"level-5-subheading-for-class-heading\">Level 5 subheading for class<\/h6>\n-                    <h6 id=\"level-6-subheading-for-class-heading\">Level 6 subheading for class<\/h6>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\"\"\",\n-                \"\"\"\n-                    <div class=\"block\"><p>Constructor.<\/p>\n-                    <h4 id=\"level-1-heading-for-member-heading\">Level 1 heading for member<\/h4>\n-                    <h5 id=\"level-2-subheading-for-member-heading\">Level 2 subheading for member<\/h5>\n-                    <h6 id=\"level-3-subheading-for-member-heading\">Level 3 subheading for member<\/h6>\n-                    <h6 id=\"level-4-heading-for-member-heading\">Level 4 heading for member<\/h6>\n-                    <h6 id=\"level-5-subheading-for-member-heading\">Level 5 subheading for member<\/h6>\n-                    <h6 id=\"level-6-subheading-for-member-heading\">Level 6 subheading for member<\/h6>\n-                    <p>Lorem ipsum.<\/p>\n-                    <\/div>\"\"\");\n-    }\n-\n-    @Test\n-    public void testHeading_TOC(Path base) throws Exception {\n-        Path src = base.resolve(\"src\");\n-\n-        tb.writeJavaFiles(src,\n-                \"\"\"\n-                    package p;\n-                    \/\/\/ First sentence.\n-                    \/\/\/\n-                    \/\/\/ # ATX heading `code` _underline_ text\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum\n-                    \/\/\/\n-                    \/\/\/ ## ATX Subheading\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum\n-                    \/\/\/\n-                    \/\/\/ Setext heading\n-                    \/\/\/ ==============\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum\n-                    \/\/\/\n-                    \/\/\/ Setext subheading\n-                    \/\/\/ ------------------\n-                    \/\/\/\n-                    \/\/\/ Lorem ipsum\n-                    public class C {\n-                        \/\/\/ Method m.\n-                        \/\/\/ # subheading in m()\n-                        \/\/\/\n-                        \/\/\/ Lorem ipsum\n-                        public void m() { }\n-                    }\"\"\");\n-\n-        javadoc(\"-d\", base.resolve(\"api\").toString(),\n-                \"-Xdoclint:none\",\n-                \"--no-platform-links\",\n-                \"--source-path\", src.toString(),\n-                \"p\");\n-        checkExit(Exit.OK);\n-\n-        checkOutput(\"p\/C.html\", true,\n-                \/\/ note only the level 1 headings in the class description\n-                \"\"\"\n-                    <div class=\"toc-header\">Contents&nbsp;\n-                    <input type=\"text\" class=\"filter-input\" disabled placeholder=\"Filter\" aria-label=\"Filter table of contents\" autocomplete=\"off\" autocapitalize=\"off\">\n-                    <input type=\"reset\" class=\"reset-filter\" disabled value=\"Reset\">\n-                    <\/div>\n-                    <button class=\"hide-sidebar\"><span>Hide sidebar&nbsp;<\/span>&#10094;<\/button><button class=\"show-sidebar\">&#10095;<span>&nbsp;Show sidebar<\/span><\/button>\n-                    <ol class=\"toc-list\">\n-                    <li><a href=\"#\" tabindex=\"0\">Description<\/a>\n-                    <ol class=\"toc-list\">\n-                    <li><a href=\"#atx-heading-code-underline-text-heading\" tabindex=\"0\">ATX heading code underline text<\/a><\/li>\n-                    <li><a href=\"#setext-heading-heading\" tabindex=\"0\">Setext heading<\/a><\/li>\n-                    <\/ol>\n-                    <\/li>\n-                    <li><a href=\"#constructor-summary\" tabindex=\"0\">Constructor Summary<\/a><\/li>\n-                    <li><a href=\"#method-summary\" tabindex=\"0\">Method Summary<\/a><\/li>\n-                    <li><a href=\"#constructor-detail\" tabindex=\"0\">Constructor Details<\/a>\n-                    <ol class=\"toc-list\">\n-                    <li><a href=\"#%3Cinit%3E()\" tabindex=\"0\">C()<\/a><\/li>\n-                    <\/ol>\n-                    <\/li>\n-                    <li><a href=\"#method-detail\" tabindex=\"0\">Method Details<\/a>\n-                    <ol class=\"toc-list\">\n-                    <li><a href=\"#m()\" tabindex=\"0\">m()<\/a><\/li>\n-                    <\/ol>\n-                    <\/li>\n-                    <\/ol>\n-                    \"\"\");\n-    }\n-\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testMarkdown\/TestMarkdown.java","additions":0,"deletions":285,"binary":false,"changes":285,"status":"modified"},{"patch":"@@ -0,0 +1,345 @@\n+\/*\n+ * Copyright (c) 2022, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug      8298405\n+ * @summary  Markdown support in the standard doclet\n+ * @library  \/tools\/lib ..\/..\/lib\n+ * @modules  jdk.javadoc\/jdk.javadoc.internal.tool\n+ * @build    toolbox.ToolBox javadoc.tester.*\n+ * @run main TestMarkdownHeadings\n+ *\/\n+\n+import javadoc.tester.JavadocTester;\n+import toolbox.ToolBox;\n+\n+import java.nio.file.Path;\n+\n+\/**\n+ * Tests for Markdown headings.\n+ *\n+ * Markdown headings are handled specially when rendering the content.\n+ * In particular:\n+ * 1. heading levels are adjusted according to the context\n+ * 2. ids are automatically added\n+ * 3. top-level headings are added to the TOC\n+ *\n+ * Note that ids on headings are always automatically generated.\n+ * You cannot specify ids, such as with the pandoc header-attributes\n+ * extension.\n+ *\/\n+public class TestMarkdownHeadings extends JavadocTester {\n+\n+    public static void main(String... args) throws Exception {\n+        var tester = new TestMarkdownHeadings();\n+        tester.runTests();\n+    }\n+\n+    ToolBox tb = new ToolBox();\n+\n+    @Test\n+    public void testHeading_ATX(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+        tb.writeJavaFiles(src,\n+                \"\"\"\n+                    \/\/\/ First sentence.\n+                    \/\/\/\n+                    \/\/\/ # ATX-style heading for package\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    \/\/\/\n+                    \/\/\/ ## ATX-style subheading for package\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    package p;\n+                    \"\"\",\n+                \"\"\"\n+                    package p;\n+                    \/\/\/ First sentence.\n+                    \/\/\/\n+                    \/\/\/ # ATX-style heading for class\n+                    \/\/\/\n+                    \/\/\/ Lorum ipsum.\n+                    \/\/\/\n+                    \/\/\/ ## ATX-style subheading for class\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    public class C {\n+                        \/\/\/ Constructor.\n+                        \/\/\/\n+                        \/\/\/ # ATX-style heading for executable\n+                        \/\/\/\n+                        \/\/\/ Lorem ipsum.\n+                        \/\/\/\n+                        \/\/\/ ## ATX-style subheading for executable\n+                        \/\/\/\n+                        \/\/\/ Lorem ipsum.\n+                        public C() { }\n+                    }\n+                    \"\"\");\n+\n+        javadoc(\"-d\", base.resolve(\"api\").toString(),\n+                \"-Xdoclint:none\",\n+                \"--source-path\", src.toString(),\n+                \"p\");\n+\n+        checkOutput(\"p\/package-summary.html\", true,\n+                \"\"\"\n+                    <div class=\"block\"><p>First sentence.<\/p>\n+                    <h2 id=\"atx-style-heading-for-package-heading\">ATX-style heading for package<\/h2>\n+                    <p>Lorem ipsum.<\/p>\n+                    <h3 id=\"atx-style-subheading-for-package-heading\">ATX-style subheading for package<\/h3>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"p\/C.html\", true,\n+                \"\"\"\n+                    <div class=\"block\"><p>First sentence.<\/p>\n+                    <h2 id=\"atx-style-heading-for-class-heading\">ATX-style heading for class<\/h2>\n+                    <p>Lorum ipsum.<\/p>\n+                    <h3 id=\"atx-style-subheading-for-class-heading\">ATX-style subheading for class<\/h3>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\n+                    \"\"\", \"\"\"\n+                    <div class=\"block\"><p>Constructor.<\/p>\n+                    <h4 id=\"atx-style-heading-for-executable-heading\">ATX-style heading for executable<\/h4>\n+                    <p>Lorem ipsum.<\/p>\n+                    <h5 id=\"atx-style-subheading-for-executable-heading\">ATX-style subheading for executable<\/h5>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\n+                    \"\"\");\n+\n+    }\n+\n+    @Test\n+    public void testHeading_Setext(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+        tb.writeJavaFiles(src,\n+                \"\"\"\n+                    \/\/\/ First sentence.\n+                    \/\/\/\n+                    \/\/\/ Setext-style heading for package\n+                    \/\/\/ ================================\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    \/\/\/\n+                    \/\/\/ Setext-style subheading for package\n+                    \/\/\/ -----------------------------------\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    package p;\n+                    \"\"\",\n+                \"\"\"\n+                    package p;\n+                    \/\/\/ First sentence.\n+                    \/\/\/\n+                    \/\/\/ Setext-style heading for class\n+                    \/\/\/ ==============================\n+                    \/\/\/\n+                    \/\/\/ Lorum ipsum.\n+                    \/\/\/\n+                    \/\/\/ Setext-style subheading for class\n+                    \/\/\/ ---------------------------------\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    public class C {\n+                        \/\/\/ Constructor.\n+                        \/\/\/\n+                        \/\/\/ Setext-style heading for executable\n+                        \/\/\/ ===================================\n+                        \/\/\/\n+                        \/\/\/ Lorem ipsum.\n+                        \/\/\/\n+                        \/\/\/ Setext-style subheading for executable\n+                        \/\/\/ --------------------------------------\n+                        \/\/\/\n+                        \/\/\/ Lorem ipsum.\n+                        public C() { }\n+                    }\n+                    \"\"\");\n+\n+        javadoc(\"-d\", base.resolve(\"api\").toString(),\n+                \"-Xdoclint:none\",\n+                \"--source-path\", src.toString(),\n+                \"p\");\n+\n+\n+        checkOutput(\"p\/package-summary.html\", true,\n+                \"\"\"\n+                    <div class=\"block\"><p>First sentence.<\/p>\n+                    <h2 id=\"setext-style-heading-for-package-heading\">Setext-style heading for package<\/h2>\n+                    <p>Lorem ipsum.<\/p>\n+                    <h3 id=\"setext-style-subheading-for-package-heading\">Setext-style subheading for package<\/h3>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"p\/C.html\", true,\n+                \"\"\"\n+                    <div class=\"block\"><p>First sentence.<\/p>\n+                    <h2 id=\"setext-style-heading-for-class-heading\">Setext-style heading for class<\/h2>\n+                    <p>Lorum ipsum.<\/p>\n+                    <h3 id=\"setext-style-subheading-for-class-heading\">Setext-style subheading for class<\/h3>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\n+                    \"\"\", \"\"\"\n+                    <div class=\"block\"><p>Constructor.<\/p>\n+                    <h4 id=\"setext-style-heading-for-executable-heading\">Setext-style heading for executable<\/h4>\n+                    <p>Lorem ipsum.<\/p>\n+                    <h5 id=\"setext-style-subheading-for-executable-heading\">Setext-style subheading for executable<\/h5>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\n+                    \"\"\");\n+    }\n+\n+    @Test\n+    public void testMaxHeadings(Path base) throws Exception {\n+\n+        Path src = base.resolve(\"src\");\n+        tb.writeJavaFiles(src,\n+                \"\"\"\n+                    package p;\n+                    \/\/\/ First sentence.\n+                    \/\/\/\n+                    \/\/\/ # Level 1 heading for class\n+                    \/\/\/ ## Level 2 subheading for class\n+                    \/\/\/ ### Level 3 subheading for class\n+                    \/\/\/ #### Level 4 heading for class\n+                    \/\/\/ ##### Level 5 subheading for class\n+                    \/\/\/ ###### Level 6 subheading for class\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum.\n+                    public class C {\n+                        \/\/\/ Constructor.\n+                        \/\/\/\n+                        \/\/\/ # Level 1 heading for member\n+                        \/\/\/ ## Level 2 subheading for member\n+                        \/\/\/ ### Level 3 subheading for member\n+                        \/\/\/ #### Level 4 heading for member\n+                        \/\/\/ ##### Level 5 subheading for member\n+                        \/\/\/ ###### Level 6 subheading for member\n+                        \/\/\/\n+                        \/\/\/ Lorem ipsum.\n+                        public C() { }\n+                    }\n+                    \"\"\");\n+\n+        javadoc(\"-d\", base.resolve(\"api\").toString(),\n+                \"-Xdoclint:none\",\n+                \"--source-path\", src.toString(),\n+                \"p\");\n+        checkOutput(\"p\/C.html\", true,\n+                \"\"\"\n+                    <div class=\"block\"><p>First sentence.<\/p>\n+                    <h2 id=\"level-1-heading-for-class-heading\">Level 1 heading for class<\/h2>\n+                    <h3 id=\"level-2-subheading-for-class-heading\">Level 2 subheading for class<\/h3>\n+                    <h4 id=\"level-3-subheading-for-class-heading\">Level 3 subheading for class<\/h4>\n+                    <h5 id=\"level-4-heading-for-class-heading\">Level 4 heading for class<\/h5>\n+                    <h6 id=\"level-5-subheading-for-class-heading\">Level 5 subheading for class<\/h6>\n+                    <h6 id=\"level-6-subheading-for-class-heading\">Level 6 subheading for class<\/h6>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"block\"><p>Constructor.<\/p>\n+                    <h4 id=\"level-1-heading-for-member-heading\">Level 1 heading for member<\/h4>\n+                    <h5 id=\"level-2-subheading-for-member-heading\">Level 2 subheading for member<\/h5>\n+                    <h6 id=\"level-3-subheading-for-member-heading\">Level 3 subheading for member<\/h6>\n+                    <h6 id=\"level-4-heading-for-member-heading\">Level 4 heading for member<\/h6>\n+                    <h6 id=\"level-5-subheading-for-member-heading\">Level 5 subheading for member<\/h6>\n+                    <h6 id=\"level-6-subheading-for-member-heading\">Level 6 subheading for member<\/h6>\n+                    <p>Lorem ipsum.<\/p>\n+                    <\/div>\"\"\");\n+    }\n+\n+    @Test\n+    public void testHeading_TOC(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+\n+        tb.writeJavaFiles(src,\n+                \"\"\"\n+                    package p;\n+                    \/\/\/ First sentence.\n+                    \/\/\/\n+                    \/\/\/ # ATX heading `code` _underline_ text\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum\n+                    \/\/\/\n+                    \/\/\/ ## ATX Subheading\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum\n+                    \/\/\/\n+                    \/\/\/ Setext heading\n+                    \/\/\/ ==============\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum\n+                    \/\/\/\n+                    \/\/\/ Setext subheading\n+                    \/\/\/ ------------------\n+                    \/\/\/\n+                    \/\/\/ Lorem ipsum\n+                    public class C {\n+                        \/\/\/ Method m.\n+                        \/\/\/ # subheading in m()\n+                        \/\/\/\n+                        \/\/\/ Lorem ipsum\n+                        public void m() { }\n+                    }\"\"\");\n+\n+        javadoc(\"-d\", base.resolve(\"api\").toString(),\n+                \"-Xdoclint:none\",\n+                \"--no-platform-links\",\n+                \"--source-path\", src.toString(),\n+                \"p\");\n+        checkExit(Exit.OK);\n+\n+        checkOutput(\"p\/C.html\", true,\n+                \/\/ note only the level 1 headings in the class description\n+                \"\"\"\n+                    <div class=\"toc-header\">Contents&nbsp;\n+                    <input type=\"text\" class=\"filter-input\" disabled placeholder=\"Filter\" aria-label=\"Filter table of contents\" autocomplete=\"off\" autocapitalize=\"off\">\n+                    <input type=\"reset\" class=\"reset-filter\" disabled value=\"Reset\">\n+                    <\/div>\n+                    <button class=\"hide-sidebar\"><span>Hide sidebar&nbsp;<\/span>&#10094;<\/button><button class=\"show-sidebar\">&#10095;<span>&nbsp;Show sidebar<\/span><\/button>\n+                    <ol class=\"toc-list\">\n+                    <li><a href=\"#\" tabindex=\"0\">Description<\/a>\n+                    <ol class=\"toc-list\">\n+                    <li><a href=\"#atx-heading-code-underline-text-heading\" tabindex=\"0\">ATX heading code underline text<\/a><\/li>\n+                    <li><a href=\"#setext-heading-heading\" tabindex=\"0\">Setext heading<\/a><\/li>\n+                    <\/ol>\n+                    <\/li>\n+                    <li><a href=\"#constructor-summary\" tabindex=\"0\">Constructor Summary<\/a><\/li>\n+                    <li><a href=\"#method-summary\" tabindex=\"0\">Method Summary<\/a><\/li>\n+                    <li><a href=\"#constructor-detail\" tabindex=\"0\">Constructor Details<\/a>\n+                    <ol class=\"toc-list\">\n+                    <li><a href=\"#%3Cinit%3E()\" tabindex=\"0\">C()<\/a><\/li>\n+                    <\/ol>\n+                    <\/li>\n+                    <li><a href=\"#method-detail\" tabindex=\"0\">Method Details<\/a>\n+                    <ol class=\"toc-list\">\n+                    <li><a href=\"#m()\" tabindex=\"0\">m()<\/a><\/li>\n+                    <\/ol>\n+                    <\/li>\n+                    <\/ol>\n+                    \"\"\");\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testMarkdown\/TestMarkdownHeadings.java","additions":345,"deletions":0,"binary":false,"changes":345,"status":"added"}]}
{"files":[{"patch":"@@ -941,0 +941,1 @@\n+            int rawTextStartPos = copyStartPos;\n@@ -947,1 +948,1 @@\n-                    flushText(startPos);\n+                    flushText(rawTextStartPos);\n@@ -950,0 +951,1 @@\n+                    rawTextStartPos = pos + 1;\n@@ -960,1 +962,1 @@\n-            flushText(startPos);\n+            flushText(rawTextStartPos);\n","filename":"src\/jdk.internal.md\/share\/classes\/jdk\/internal\/markdown\/MarkdownTransformer.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -49,7 +49,31 @@\n-        String source = \"\"\"\n-                        \/\/\/ Markdown test\n-                        \/\/\/\n-                        \/\/\/ @author testAuthor\n-                        public class Test {\n-                        }\n-                        \"\"\";\n+        MarkdownTransformerPositionTest t = new MarkdownTransformerPositionTest();\n+\n+        t.simpleTest();\n+        t.testWithReplacements();\n+    }\n+\n+    private void simpleTest() throws Exception {\n+        runTest(\"\"\"\n+                \/\/\/ Markdown test\n+                \/\/\/\n+                \/\/\/ @author testAuthor\n+                public class Test {\n+                }\n+                \"\"\",\n+                \"Markdown test\",\n+                \"testAuthor\");\n+    }\n+\n+    private void testWithReplacements() throws Exception {\n+        runTest(\"\"\"\n+                \/\/\/ Markdown \\uFFFC test \\uFFFC with \\uFFFC replacements.\n+                \/\/\/\n+                \/\/\/ @author testAuthor\n+                public class Test {\n+                }\n+                \"\"\",\n+                \"Markdown \\uFFFC test \\uFFFC with \\uFFFC replacements.\",\n+                \"testAuthor\");\n+    }\n+\n+    private void runTest(String source, String... expectedRawSpans) throws Exception {\n@@ -76,1 +100,1 @@\n-        List<String> expectedRawSpans = List.of(\"Markdown test\", \"testAuthor\");\n+        List<String> expectedRawSpansList = List.of(expectedRawSpans);\n@@ -78,1 +102,1 @@\n-        if (!expectedRawSpans.equals(rawSpans)) {\n+        if (!expectedRawSpansList.equals(rawSpans)) {\n@@ -80,1 +104,1 @@\n-                    expectedRawSpans + \", but is: \" + rawSpans);\n+                    expectedRawSpansList + \", but is: \" + rawSpans);\n","filename":"test\/langtools\/tools\/javac\/doctree\/MarkdownTransformerPositionTest.java","additions":34,"deletions":10,"binary":false,"changes":44,"status":"modified"}]}
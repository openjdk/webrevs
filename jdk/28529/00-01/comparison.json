{"files":[{"patch":"@@ -32,6 +32,0 @@\n-import java.awt.BorderLayout;\n-import java.awt.event.ActionEvent;\n-import java.awt.Robot;\n-\n-import javax.swing.JFrame;\n-import javax.swing.JScrollPane;\n@@ -45,1 +39,0 @@\n-    private static JFrame frame;\n@@ -51,22 +44,3 @@\n-        try {\n-            Robot robot = new Robot();\n-            SwingUtilities.invokeAndWait(() -> {\n-                frame = new JFrame(\"TestColIdentifier\");\n-                model = new DefaultTableModel(null, new Object[] {\"FOO\", \"BAR\"});\n-                table = new JTable(model);\n-\n-                model.addRow(new Object[] {\"00\", \"01\"});\n-                model.addRow(new Object[] {\"10\", \"11\"});\n-                model.addRow(new Object[] {\"20\", \"21\"});\n-                for (int row = 0; row < table.getRowCount(); row++) {\n-                    table.setRowHeight(row, 100);\n-                }\n-                frame.getContentPane().setLayout(new BorderLayout());\n-                frame.add(new JScrollPane(table), BorderLayout.CENTER);\n-\n-                frame.pack();\n-                frame.setLocationRelativeTo(null);\n-                frame.setVisible(true);\n-            });\n-            robot.waitForIdle();\n-            robot.delay(1000);\n+        SwingUtilities.invokeAndWait(() -> {\n+            model = new DefaultTableModel(null, new Object[] {\"FOO\", \"BAR\"});\n+            table = new JTable(model);\n@@ -74,14 +48,15 @@\n-            SwingUtilities.invokeAndWait(() -> {\n-                for (int row = 0; row < table.getRowCount(); row++) {\n-                    System.out.println(\"Before table rowHeight \" + table.getRowHeight(row));\n-                }\n-                oldRowHeight = table.getRowHeight(0);\n-            });\n-            robot.delay(1000);\n-            SwingUtilities.invokeAndWait(() -> {\n-                model.setColumnIdentifiers(new Object[] {\"Check\", \"it out!\"});\n-                for (int row = 0; row < table.getRowCount(); row++) {\n-                    System.out.println(\"AFter table rowHeight \" + table.getRowHeight(row));\n-                }\n-                curRowHeight = table.getRowHeight(0);\n-            });\n+            model.addRow(new Object[] {\"00\", \"01\"});\n+            model.addRow(new Object[] {\"10\", \"11\"});\n+            model.addRow(new Object[] {\"20\", \"21\"});\n+            for (int row = 0; row < table.getRowCount(); row++) {\n+                table.setRowHeight(row, 100);\n+            }\n+            for (int row = 0; row < table.getRowCount(); row++) {\n+                System.out.println(\"Before table rowHeight \" + table.getRowHeight(row));\n+            }\n+            oldRowHeight = table.getRowHeight(0);\n+            model.setColumnIdentifiers(new Object[] {\"Check\", \"it out!\"});\n+            for (int row = 0; row < table.getRowCount(); row++) {\n+                System.out.println(\"AFter table rowHeight \" + table.getRowHeight(row));\n+            }\n+            curRowHeight = table.getRowHeight(0);\n@@ -91,7 +66,1 @@\n-        } finally {\n-            SwingUtilities.invokeAndWait(() -> {\n-                if (frame != null) {\n-                    frame.dispose();\n-                }\n-            });\n-        }\n+        });\n","filename":"test\/jdk\/javax\/swing\/JTable\/TestRowHeightWithColIdentifier.java","additions":19,"deletions":50,"binary":false,"changes":69,"status":"modified"}]}
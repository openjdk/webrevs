{"files":[{"patch":"@@ -107,0 +107,2 @@\n+       Address sp = context.getRegisterAsAddress(RISCV64ThreadContext.SP);\n+       if (sp == null) return null;\n@@ -111,1 +113,1 @@\n-       return new LinuxRISCV64CFrame(dbg, fp, pc);\n+       return new LinuxRISCV64CFrame(dbg, sp, fp, pc);\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/debugger\/linux\/LinuxCDebugger.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,2 @@\n+import sun.jvm.hotspot.runtime.*;\n+import sun.jvm.hotspot.runtime.ppc64.*;\n@@ -74,0 +76,6 @@\n+  @Override\n+  public Frame toFrame() {\n+    \/\/ 2nd arg (raw_fp) would be derived from sp in c'tor of PPC64Frame.\n+    return new PPC64Frame(sp, null, pc);\n+  }\n+\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/debugger\/linux\/ppc64\/LinuxPPC64CFrame.java","additions":9,"deletions":1,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -34,0 +34,2 @@\n+import sun.jvm.hotspot.runtime.*;\n+import sun.jvm.hotspot.runtime.riscv64.*;\n@@ -38,0 +40,1 @@\n+   private static final int C_FRAME_SENDER_SP_OFFSET   =  0;\n@@ -39,1 +42,1 @@\n-   public LinuxRISCV64CFrame(LinuxDebugger dbg, Address fp, Address pc) {\n+   public LinuxRISCV64CFrame(LinuxDebugger dbg, Address sp, Address fp, Address pc) {\n@@ -41,0 +44,1 @@\n+      this.sp = sp;\n@@ -66,1 +70,1 @@\n-   public CFrame sender(ThreadProxy thread, Address senderSP, Address nextFP, Address nextPC) {\n+   public CFrame sender(ThreadProxy thread, Address nextSP, Address nextFP, Address nextPC) {\n@@ -80,0 +84,7 @@\n+      if (nextSP == null) {\n+        nextSP = fp.getAddressAt(C_FRAME_SENDER_SP_OFFSET * ADDRESS_SIZE);\n+      }\n+      if (nextSP == null) {\n+        return null;\n+      }\n+\n@@ -94,1 +105,6 @@\n-      return new LinuxRISCV64CFrame(dbg, nextFP, nextPC);\n+      return new LinuxRISCV64CFrame(dbg, nextSP, nextFP, nextPC);\n+   }\n+\n+   @Override\n+   public Frame toFrame() {\n+      return new RISCV64Frame(sp, fp, pc);\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/debugger\/linux\/riscv64\/LinuxRISCV64CFrame.java","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"}]}
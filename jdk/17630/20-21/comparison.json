{"files":[{"patch":"@@ -178,2 +178,2 @@\n-        Set<Integer> hiddenNodes = new HashSet<>(etc.getModel().getHiddenNodes());\n-        return new GraphContext(openedGraph, new AtomicInteger(posDiff), hiddenNodes);\n+        Set<Integer> visibleNodes = new HashSet<>(etc.getModel().getVisibleNodes());\n+        return new GraphContext(openedGraph, new AtomicInteger(posDiff), visibleNodes);\n@@ -469,1 +469,1 @@\n-     * Loads and opens the given set of graph contexts (opened graphs and hidden nodes).\n+     * Loads and opens the given set of graph contexts (opened graphs and visible nodes).\n@@ -478,1 +478,1 @@\n-                final Set<Integer> hiddenNodes = context.hiddenNodes();\n+                final Set<Integer> visibleNodes = context.visibleNodes();\n@@ -486,1 +486,1 @@\n-                            etc.getModel().setHiddenNodes(hiddenNodes);\n+                            etc.getModel().showOnly(visibleNodes);\n@@ -543,0 +543,7 @@\n+\n+                    for (Node child : manager.getRootContext().getChildren().getNodes(true)) {\n+                        \/\/ Nodes a lazily created. By expanding and collapsing they are all initialized\n+                        ((BeanTreeView) this.treeView).expandNode(child);\n+                        ((BeanTreeView) this.treeView).collapseNode(child);\n+                    }\n+\n@@ -544,2 +551,1 @@\n-                        final Set<GraphContext> parsedContexts = parsedData.contexts();\n-                        loadContexts(parsedContexts);\n+                        loadContexts(parsedData.contexts());\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/OutlineTopComponent.java","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -39,1 +39,0 @@\n-import javax.swing.SwingUtilities;\n@@ -67,1 +66,1 @@\n-    public static final String HIDDEN_NODES_ELEMENT = \"hiddenNodes\";\n+    public static final String VISIBLE_NODES_ELEMENT = \"visibleNodes\";\n@@ -148,2 +147,2 @@\n-    private final HandoverElementHandler<GraphContext> hiddenNodesHandler = new HandoverElementHandler<>(HIDDEN_NODES_ELEMENT);\n-    private final ElementHandler<GraphContext, GraphContext> hiddenNodeHandler = new ElementHandler<>(NODE_ELEMENT) {\n+    private final HandoverElementHandler<GraphContext> visibleNodesHandler = new HandoverElementHandler<>(VISIBLE_NODES_ELEMENT);\n+    private final ElementHandler<GraphContext, GraphContext> visibleNodeHandler = new ElementHandler<>(NODE_ELEMENT) {\n@@ -160,1 +159,1 @@\n-            getParentObject().hiddenNodes().add(nodeID);\n+            getParentObject().visibleNodes().add(nodeID);\n@@ -456,2 +455,2 @@\n-        stateHandler.addChild(hiddenNodesHandler);\n-        hiddenNodesHandler.addChild(hiddenNodeHandler);\n+        stateHandler.addChild(visibleNodesHandler);\n+        visibleNodesHandler.addChild(visibleNodeHandler);\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/Parser.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -198,2 +198,2 @@\n-            writer.startTag(Parser.HIDDEN_NODES_ELEMENT);\n-            for (Integer hiddenNodeID : context.hiddenNodes()) {\n+            writer.startTag(Parser.VISIBLE_NODES_ELEMENT);\n+            for (Integer hiddenNodeID : context.visibleNodes()) {\n@@ -254,1 +254,1 @@\n-    public record GraphContext(InputGraph inputGraph, AtomicInteger posDiff, Set<Integer> hiddenNodes) { }\n+    public record GraphContext(InputGraph inputGraph, AtomicInteger posDiff, Set<Integer> visibleNodes) { }\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/Printer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -335,0 +335,8 @@\n+\n+\n+    }\n+\n+    public Set<Integer> getVisibleNodes() {\n+        final Set<Integer> visibleNodes = new HashSet<>(getGraph().getNodesAsSet());\n+        visibleNodes.removeAll(hiddenNodes);\n+        return visibleNodes;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewModel.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}
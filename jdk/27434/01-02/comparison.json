{"files":[{"patch":"@@ -780,7 +780,5 @@\n-    private static String matchAndReplace(String str, String regex, String replacement) {\n-        Matcher matcher = Pattern.compile(regex).matcher(str);\n-        if (matcher.find()) {\n-            return matcher.replaceAll(replacement);\n-        } else {\n-            return str;\n-        }\n+    \/\/ Return the string with the matching regex removed\n+    private static String matchAndRemove(String str, String regex) {\n+        return Pattern.compile(regex)\n+                .matcher(str)\n+                .replaceAll(\"\");\n@@ -790,4 +788,3 @@\n-     * Mac OS X (may) add the variable __CF_USER_TEXT_ENCODING to an empty\n-     * environment. The environment variable JAVA_MAIN_CLASS_<pid> may also\n-     * be set in Mac OS X.\n-     * Remove them both from the list of env variables\n+     * Mac OS X (may) add the variables: __CF_USER_TEXT_ENCODING, JAVA_MAIN_CLASS_<pid>,\n+     * and TMPDIR.\n+     * Remove them from the list of env variables\n@@ -797,2 +794,2 @@\n-        String cleanedVars = matchAndReplace(vars,\n-                \"__CF_USER_TEXT_ENCODING=\" + cfUserTextEncoding + \",\",\"\");\n+        String cleanedVars = matchAndRemove(vars,\n+                \"__CF_USER_TEXT_ENCODING=\" + cfUserTextEncoding + \",\");\n@@ -800,2 +797,2 @@\n-        cleanedVars = matchAndReplace(cleanedVars,\n-                \"JAVA_MAIN_CLASS_\\\\d+=Basic.JavaChild,\", \"\");\n+        cleanedVars = matchAndRemove(cleanedVars,\n+                \"JAVA_MAIN_CLASS_\\\\d+=Basic.JavaChild,\");\n@@ -803,2 +800,2 @@\n-        cleanedVars = matchAndReplace(cleanedVars,\n-                \"TMPDIR=[^,]*,\", \"\");\n+        cleanedVars = matchAndRemove(cleanedVars,\n+                \"TMPDIR=[^,]*,\");\n","filename":"test\/jdk\/java\/lang\/ProcessBuilder\/Basic.java","additions":14,"deletions":17,"binary":false,"changes":31,"status":"modified"}]}
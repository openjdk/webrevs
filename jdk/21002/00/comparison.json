{"files":[{"patch":"@@ -80,0 +80,2 @@\n+    public static final MethodHandles.Lookup.ClassOption[] LAMBDA_CLASS_OPTIONS = { NESTMATE, STRONG };\n+\n@@ -351,1 +353,1 @@\n-            return caller.makeHiddenClassDefiner(lambdaClassName, classBytes, Set.of(NESTMATE, STRONG), lambdaProxyClassFileDumper)\n+            return caller.makeHiddenClassDefiner(lambdaClassName, classBytes, lambdaProxyClassFileDumper, LAMBDA_CLASS_OPTIONS)\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InnerClassLambdaMetafactory.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -227,1 +227,1 @@\n-        Class<?> invokerClass = LOOKUP.makeHiddenClassDefiner(className, classFile, Set.of(), dumper())\n+        Class<?> invokerClass = LOOKUP.makeHiddenClassDefiner(className, classFile, dumper())\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InvokerBytecodeGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1114,1 +1114,1 @@\n-                        .makeHiddenClassDefiner(name, INJECTED_INVOKER_TEMPLATE, Set.of(NESTMATE), dumper())\n+                        .makeHiddenClassDefiner(name, INJECTED_INVOKER_TEMPLATE, dumper(), NESTMATE)\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/MethodHandleImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -288,1 +288,1 @@\n-        var definer = new Lookup(intfc).makeHiddenClassDefiner(className, template, Set.of(), DUMPER);\n+        var definer = new Lookup(intfc).makeHiddenClassDefiner(className, template, DUMPER);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/MethodHandleProxies.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1909,1 +1909,1 @@\n-            static int optionsToFlag(Set<ClassOption> options) {\n+            static int optionsToFlag(ClassOption ... options) {\n@@ -2136,1 +2136,1 @@\n-            return makeHiddenClassDefiner(bytes.clone(), Set.of(options), false).defineClassAsLookup(initialize);\n+            return makeHiddenClassDefiner(bytes.clone(), false, options).defineClassAsLookup(initialize);\n@@ -2223,1 +2223,1 @@\n-            return makeHiddenClassDefiner(bytes.clone(), Set.of(options), false)\n+            return makeHiddenClassDefiner(bytes.clone(), false, options.clone())\n@@ -2369,1 +2369,1 @@\n-            return makeHiddenClassDefiner(cf, Set.of(), false, dumper);\n+            return makeHiddenClassDefiner(cf, false, dumper);\n@@ -2389,2 +2389,2 @@\n-                                                    Set<ClassOption> options,\n-                                                    boolean accessVmAnnotations) {\n+                                                    boolean accessVmAnnotations,\n+                                                    ClassOption ... options) {\n@@ -2392,1 +2392,1 @@\n-            return makeHiddenClassDefiner(cf, options, accessVmAnnotations, defaultDumper());\n+            return makeHiddenClassDefiner(cf, accessVmAnnotations, defaultDumper(), options);\n@@ -2405,1 +2405,1 @@\n-        ClassDefiner makeHiddenClassDefiner(String name, byte[] bytes, Set<ClassOption> options, ClassFileDumper dumper) {\n+        ClassDefiner makeHiddenClassDefiner(String name, byte[] bytes, ClassFileDumper dumper, ClassOption ... options) {\n@@ -2408,1 +2408,1 @@\n-            return makeHiddenClassDefiner(ClassFile.newInstanceNoCheck(name, bytes), options, false, dumper);\n+            return makeHiddenClassDefiner(ClassFile.newInstanceNoCheck(name, bytes), false, dumper, options);\n@@ -2421,1 +2421,0 @@\n-                                                    Set<ClassOption> options,\n@@ -2423,1 +2422,2 @@\n-                                                    ClassFileDumper dumper) {\n+                                                    ClassFileDumper dumper,\n+                                                    ClassOption ... options) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/MethodHandles.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -1356,1 +1356,1 @@\n-                var hiddenClass = lookup.makeHiddenClassDefiner(CLASS_NAME, classBytes, Set.of(), DUMPER)\n+                var hiddenClass = lookup.makeHiddenClassDefiner(CLASS_NAME, classBytes, DUMPER)\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/StringConcatFactory.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -3798,0 +3798,1 @@\n+    thread->unregister_thread_stack_with_NMT();\n@@ -3842,0 +3843,2 @@\n+    thread->unregister_thread_stack_with_NMT();\n+    thread->smr_delete();\n@@ -3938,0 +3941,1 @@\n+  thread->unregister_thread_stack_with_NMT();\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1054,1 +1054,0 @@\n-  this->smr_delete();\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -250,0 +250,3 @@\n+  \/\/ Logically we should do this->unregister_thread_stack_with_NMT() here, but we\n+  \/\/ had to move that into post_run() because of the `this` deletion issue.\n+\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2016, 2024, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -147,2 +147,0 @@\n-serviceability\/attach\/ConcAttachTest.java 8290043 linux-all\n-\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,2 +35,4 @@\n- * @comment The native code only supports POSIX so no windows testing\n- * @run main\/othervm\/native TestTerminatedThread\n+ * @comment The native code only supports POSIX so no windows testing.\n+ * @comment Disable -Xcheck:jni else NMT can report a fatal error because\n+ *          we did not detach before exiting.\n+ * @run main\/othervm\/native -XX:-CheckJNICalls TestTerminatedThread\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/terminatedThread\/TestTerminatedThread.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"}]}
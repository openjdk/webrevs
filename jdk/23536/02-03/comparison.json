{"files":[{"patch":"@@ -37,0 +37,1 @@\n+import java.io.File;\n@@ -66,0 +67,9 @@\n+\n+        File systemRoot =\n+            System.getenv(\"SystemRoot\") != null ? new File(System.getenv(\"SystemRoot\")) :\n+            System.getenv(\"WINDIR\")     != null ? new File(System.getenv (\"WINDIR\")) :\n+            null;\n+        if (systemRoot == null || ! systemRoot.isDirectory())\n+            return; \/\/ Not Windows as we know it\n+        String systemDirW = new File(systemRoot, \"System32\").getPath();\n+\n@@ -67,1 +77,1 @@\n-        command.addAll(List.of(\"cmd.exe\", \"\/c\", \"set\", \"PATH=%PATH%;C:\\\\Windows\\\\System32;C:\\\\Windows\\\\System32\\\\wbem\", \"&&\"));\n+        command.addAll(List.of(\"cmd.exe\", \"\/c\", \"set\", \"PATH=%PATH%;\" + systemDirW + \";\" + systemDirW + \"\\\\wbem\", \"&&\"));\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/windows\/TestAvailableProcessors.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}
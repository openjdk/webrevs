{"files":[{"patch":"@@ -32,1 +32,0 @@\n-import java.security.Security;\n@@ -67,2 +66,2 @@\n-        String serviceDesc = service + \".\" + algo;\n-        return CryptoHolder.CONSTRAINTS.cachedCheckAlgorithm(serviceDesc);\n+        return CryptoHolder.CONSTRAINTS.cachedCheckAlgorithm(\n+                service + \".\" + algo);\n@@ -89,2 +88,2 @@\n-            if (idx == -1) {\n-                \/\/ wrong syntax\n+            if (idx < 1 || idx == dk.length() - 1) {\n+                \/\/ wrong syntax: missing \".\" or empty service or algorithm\n@@ -95,4 +94,0 @@\n-            if (service.length() == 0 || algo.length() == 0) {\n-                \/\/ missing service or algorithm\n-                throw new IllegalArgumentException(\"Invalid entry: \" + dk);\n-            }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/CryptoAlgorithmConstraints.java","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -42,1 +42,0 @@\n-import jdk.test.lib.Asserts;\n","filename":"test\/jdk\/java\/security\/KeyStore\/TestDisabledAlgorithms.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-import jdk.test.lib.Asserts;\n","filename":"test\/jdk\/java\/security\/MessageDigest\/TestDisabledAlgorithms.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-import jdk.test.lib.Asserts;\n","filename":"test\/jdk\/java\/security\/Signature\/TestDisabledAlgorithms.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,1 +41,0 @@\n-import jdk.test.lib.Asserts;\n","filename":"test\/jdk\/javax\/crypto\/Cipher\/TestDisabledAlgorithms.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-import jdk.test.lib.Asserts;\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Cipher\/TestDisabledAlgorithms.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+ * @modules java.base\/sun.security.util\n@@ -44,0 +45,1 @@\n+import sun.security.util.CryptoAlgorithmConstraints;\n@@ -51,1 +53,2 @@\n-        Utils.runAndCheckException(() -> MessageDigest.getInstance(\"SHA-512\"),\n+        Utils.runAndCheckException(() -> CryptoAlgorithmConstraints.permits(\n+                \"x\", \"y\"),\n","filename":"test\/jdk\/sun\/security\/util\/AlgorithmConstraints\/InvalidCryptoDisabledAlgos.java","additions":4,"deletions":1,"binary":false,"changes":5,"previous_filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/InvalidCryptoDisabledAlgos.java","status":"renamed"}]}
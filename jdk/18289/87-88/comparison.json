{"files":[{"patch":"@@ -186,1 +186,1 @@\n-TEST_VM_F(TreapTest, TestVisitInRange) {\n+TEST_VM_F(TreapTest, TestVisitors) {\n@@ -203,0 +203,6 @@\n+    count = 0;\n+    treap.visit_in_order([&](Node* x) {\n+      count++;\n+    });\n+    EXPECT_EQ(1, count);\n+\n@@ -213,0 +219,6 @@\n+    count = 0;\n+    treap.visit_in_order([&](Node* x) {\n+      count++;\n+    });\n+    EXPECT_EQ(1, count);\n+\n@@ -233,1 +245,10 @@\n-    GrowableArray<int> seen2;\n+    seen.clear();\n+    treap.visit_in_order([&](Node* x) {\n+      seen.push(x->key());\n+    });\n+    EXPECT_EQ(10, seen.length());\n+    for (int i = 0; i < 10; i++) {\n+      EXPECT_EQ(i, seen.at(i));\n+    }\n+\n+    seen.clear();\n@@ -235,1 +256,1 @@\n-      seen2.push(x->key());\n+      seen.push(x->key());\n@@ -237,2 +258,2 @@\n-    EXPECT_EQ(1, seen2.length());\n-    EXPECT_EQ(10, seen2.at(0));\n+    EXPECT_EQ(1, seen.length());\n+    EXPECT_EQ(10, seen.at(0));\n@@ -256,0 +277,9 @@\n+    seen.clear();\n+\n+    treap.visit_in_order([&](Node* x) {\n+      seen.push(x->key());\n+    });\n+    EXPECT_EQ(10, seen.length());\n+    for (int i = 0; i < 10; i++) {\n+      EXPECT_EQ(10 - i - 1, seen.at(i));\n+    }\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_treap.cpp","additions":35,"deletions":5,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -282,2 +282,2 @@\n-    auto all_diff = tree.reserve_mapping(0, 100, rd);\n-    auto diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n+    VMATree::SummaryDiff all_diff = tree.reserve_mapping(0, 100, rd);\n+    VMATree::SingleDiff diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n@@ -287,1 +287,1 @@\n-    auto diff2 = all_diff.flag[NMTUtil::flag_to_index(mtNMT)];\n+    VMATree::SingleDiff diff2 = all_diff.flag[NMTUtil::flag_to_index(mtNMT)];\n@@ -294,2 +294,2 @@\n-    auto all_diff = tree.reserve_mapping(0, 100, rd);\n-    auto diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n+    VMATree::SummaryDiff all_diff = tree.reserve_mapping(0, 100, rd);\n+    VMATree::SingleDiff diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n@@ -304,2 +304,2 @@\n-    auto all_diff = tree.reserve_mapping(0, 100, rd);\n-    auto diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n+    VMATree::SummaryDiff all_diff = tree.reserve_mapping(0, 100, rd);\n+    VMATree::SingleDiff diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n@@ -315,2 +315,2 @@\n-    auto all_diff = tree.reserve_mapping(0, 100, rd);\n-    auto diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n+    VMATree::SummaryDiff all_diff = tree.reserve_mapping(0, 100, rd);\n+    VMATree::SingleDiff diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n@@ -326,2 +326,2 @@\n-    auto all_diff = tree.reserve_mapping(0, 100, rd);\n-    auto diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n+    VMATree::SummaryDiff all_diff = tree.reserve_mapping(0, 100, rd);\n+    VMATree::SingleDiff diff = all_diff.flag[NMTUtil::flag_to_index(mtTest)];\n@@ -342,1 +342,1 @@\n-    auto diff = tree.commit_mapping(0, 1024, rd);\n+    VMATree::SummaryDiff diff = tree.commit_mapping(0, 1024, rd);\n","filename":"test\/hotspot\/gtest\/nmt\/test_vmatree.cpp","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"}]}
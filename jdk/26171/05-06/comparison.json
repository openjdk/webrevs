{"files":[{"patch":"@@ -3650,1 +3650,6 @@\n-      if (r->free() >= PLAB::min_size_bytes()) {\n+      size_t const free_bytes = r->free();\n+      if (free_bytes == ShenandoahHeapRegion::region_size_bytes()) {\n+        r->make_empty();\n+        r->set_affiliation(FREE);\n+      }\n+      if (free_bytes >= PLAB::min_size_bytes()) {\n@@ -3654,1 +3659,0 @@\n-\n@@ -3661,0 +3665,1 @@\n+  assert(region->free() != ShenandoahHeapRegion::region_size_bytes(), \"Must not\");\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.cpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -328,0 +328,4 @@\n+    case _regular:\n+      if (free() != region_size_bytes()) {\n+        report_illegal_transition(\"emptying\");\n+      }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeapRegion.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}
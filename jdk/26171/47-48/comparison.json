{"files":[{"patch":"@@ -572,2 +572,3 @@\n-    \/\/ Before unset _active_alloc_region flag, _atomic_top needs to be set to the end of region,\n-    \/\/ this avoid race condition when the alloc region removed from the alloc regions array used by lock-free allocation in allocator.\n+    \/\/ Before unset _active_alloc_region flag, _atomic_top needs to be set to sentinel value using AtomicAccess::cmpxchg,\n+    \/\/ this avoids race condition when the alloc region removed from the alloc regions array used by lock-free allocation in allocator;\n+    \/\/ meanwhile the previous value of _atomic_top needs to be synced back to _top.\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeapRegion.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
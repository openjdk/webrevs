{"files":[{"patch":"@@ -375,1 +375,1 @@\n-void ShenandoahAllocator<ALLOC_PARTITION>::release_alloc_regions() {\n+void ShenandoahAllocator<ALLOC_PARTITION>::release_alloc_regions(bool should_update_accounting) {\n@@ -404,1 +404,1 @@\n-    accounting_updater._need_update = true;\n+    accounting_updater._need_update = should_update_accounting;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAllocator.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -144,1 +144,1 @@\n-  virtual void release_alloc_regions();\n+  virtual void release_alloc_regions(bool should_update_accounting = true);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAllocator.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -854,3 +854,3 @@\n-  void release_alloc_regions() {\n-    mutator_allocator()->release_alloc_regions();\n-    collector_allocator()->release_alloc_regions();\n+  void release_alloc_regions(bool should_update_accounting = true) {\n+    mutator_allocator()->release_alloc_regions(should_update_accounting);\n+    collector_allocator()->release_alloc_regions(should_update_accounting);\n@@ -859,1 +859,1 @@\n-  void release_alloc_regions_under_lock() {\n+  void release_alloc_regions_under_lock(bool should_update_accounting = true) {\n@@ -862,1 +862,1 @@\n-    release_alloc_regions();\n+    release_alloc_regions(should_update_accounting);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -220,1 +220,1 @@\n-  heap->free_set()->release_alloc_regions_under_lock();\n+  heap->free_set()->release_alloc_regions_under_lock(false);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFullGC.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
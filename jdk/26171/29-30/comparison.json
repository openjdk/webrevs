{"files":[{"patch":"@@ -135,1 +135,1 @@\n-    if (refreshed > 0) {\n+    if (refreshed > 0 || obj != nullptr) {\n@@ -270,5 +270,0 @@\n-        if (ALLOC_PARTITION == ShenandoahFreeSetPartitionId::Mutator) {\n-          if (free_bytes > 0) {\n-            _free_set->increase_bytes_allocated(free_bytes);\n-          }\n-        }\n@@ -288,2 +283,1 @@\n-    int reserved_regions = _free_set->reserve_alloc_regions(ALLOC_PARTITION, refreshable_alloc_regions,\n-      ALLOC_PARTITION == ShenandoahFreeSetPartitionId::Mutator ? PLAB::max_size() : PLAB::min_size(), reserved);\n+    int reserved_regions = _free_set->reserve_alloc_regions(ALLOC_PARTITION, refreshable_alloc_regions, PLAB::min_size(), reserved);\n@@ -302,2 +296,3 @@\n-          satisfy_alloc_req_first = *obj == nullptr;\n-          if (ready_for_retire && reserved[i]->free_words() == 0) {\n+          assert(*obj != nullptr, \"Should always succeed\");\n+          satisfy_alloc_req_first = false;\n+          if (ready_for_retire) {\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAllocator.cpp","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"}]}
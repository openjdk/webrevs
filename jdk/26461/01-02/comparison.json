{"files":[{"patch":"@@ -256,0 +256,25 @@\n+    \/**\n+     * Returns the number of Unicode code points in\n+     * this sequence. Unpaired surrogates count\n+     * as one code point each.\n+     *\n+     * @return the number of Unicode code points in this sequence\n+     * @since 26\n+     *\/\n+    public default int codePointCount() {\n+        final int length = length();\n+        int n = length;\n+        final int lastIndex = length - 1;\n+\n+        \/\/ i < lastIndex works properly even for an empty sequence\n+        \/\/ thank to the fact that the length\/index type in Java is signed\n+        for (int i = 0; i < lastIndex;) {\n+            if (Character.isHighSurrogate(charAt(i++)) && Character.isLowSurrogate(charAt(i))) {\n+                n--;\n+                i++;\n+            }\n+        }\n+\n+        return n;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/CharSequence.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -1909,1 +1909,1 @@\n-                int cpNum = norm.codePointCount();\n+                int cpNum = norm.codePointCount(0, length);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/icu\/impl\/NormalizerImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 4533872 4985214 4985217 4993841 5017268 5017280 8298033\n+ * @bug 4533872 4985214 4985217 4993841 5017268 5017280 8298033 8364007\n","filename":"test\/jdk\/java\/lang\/Character\/Supplementary.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @bug 4533872 4915683 4922962 4985217 5017280 6242664 6588260\n+ * @bug 4533872 4915683 4922962 4985217 5017280 6242664 6588260 8364007\n@@ -389,1 +389,2 @@\n-     * Test codePointCount(int, int)\n+     * Test codePointCount(int, int) &\n+     *      codePointCount()\n","filename":"test\/jdk\/java\/lang\/String\/Supplementary.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @bug 4533872 4915683 4985217 5017280\n+ * @bug 4533872 4915683 4985217 5017280 8364007\n","filename":"test\/jdk\/java\/lang\/StringBuilder\/Supplementary.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
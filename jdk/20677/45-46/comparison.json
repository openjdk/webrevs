{"files":[{"patch":"@@ -747,2 +747,2 @@\n-    \/\/ Reads of existing needle are 16-byte chunks\n-    \/\/ Writes to copied needle are 32-byte chunks\n+    \/\/ Reads of existing needle are 8-byte chunks\n+    \/\/ Writes to copied needle are 16-byte chunks\n@@ -751,3 +751,3 @@\n-    \/\/ Start first read at [((ndlLen % 16) - 16) & 0xf]\n-    \/\/ outndx += 32\n-    \/\/ inndx += 16\n+    \/\/ Start first read at [((ndlLen % 8) - 8) & 0x7]\n+    \/\/ outndx += 16\n+    \/\/ inndx += 8\n@@ -757,1 +757,1 @@\n-    \/\/ Final index of start of needle at ((16 - (ndlLen %16)) & 0xf) << 1\n+    \/\/ Final index of start of needle at ((8 - (ndlLen % 8)) & 0x7) << 1\n@@ -759,2 +759,2 @@\n-    \/\/ Starting read for needle at -(16 - (nLen % 16))\n-    \/\/ Offset of needle in stack should be (16 - (nLen % 16)) * 2\n+    \/\/ Starting read for needle at -(8 - (nLen % 8))\n+    \/\/ Offset of needle in stack should be (8 - (nLen % 8)) * 2\n@@ -763,3 +763,3 @@\n-    __ andq(index, 0xf);  \/\/ nLen % 16\n-    __ movq(offset, 0x10);\n-    __ subq(offset, index);  \/\/ 16 - (nLen % 16)\n+    __ andq(index, 0x7);  \/\/ nLen % 8\n+    __ movq(offset, 0x8);\n+    __ subq(offset, index);  \/\/ 8 - (nLen % 8)\n@@ -768,1 +768,1 @@\n-    __ negq(index);      \/\/ -(16 - (nLen % 16))\n+    __ negq(index);      \/\/ -(8 - (nLen % 8))\n@@ -773,1 +773,1 @@\n-    __ vpmovzxbw(xmm0, Address(needle, index, Address::times_1), Assembler::AVX_256bit);\n+    __ vpmovzxbw(xmm0, Address(needle, index, Address::times_1), Assembler::AVX_128bit);\n@@ -775,2 +775,2 @@\n-    __ vmovdqu(Address(rsp, wr_index, Address::times_1, EXPANDED_NEEDLE_STACK_OFFSET), xmm0);\n-    __ addq(index, 0x10);\n+    __ movdqu(Address(rsp, wr_index, Address::times_1, EXPANDED_NEEDLE_STACK_OFFSET), xmm0);\n+    __ addq(index, 0x8);\n@@ -779,1 +779,1 @@\n-    __ addq(wr_index, 32);\n+    __ addq(wr_index, 16);\n","filename":"src\/hotspot\/cpu\/x86\/c2_stubGenerator_x86_64_string.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"}]}
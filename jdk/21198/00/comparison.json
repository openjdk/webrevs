{"files":[{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2017, 2022 SAP SE. All rights reserved.\n+ * Copyright (c) 2021, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2024 SAP SE. All rights reserved.\n@@ -66,2 +66,8 @@\n-  \/\/ Suppress CMOVL. Conditional move available on z\/Architecture only from z196 onwards. Not exploited yet.\n-  static int long_cmove_cost() { return ConditionalMoveLimit; }\n+  \/\/ Use conditional move (CMOVL)\n+  static int long_cmove_cost() {\n+    if (VM_Version::get_model_index() >= 5 \/* z196\/z11 or later hardware support conditional moves *\/) {\n+      return 0;\n+    } else {\n+      return ConditionalMoveLimit;\n+    }\n+  }\n@@ -69,2 +75,7 @@\n-  \/\/ Suppress CMOVF. Conditional move available on z\/Architecture only from z196 onwards. Not exploited yet.\n-  static int float_cmove_cost() { return ConditionalMoveLimit; }\n+  static int float_cmove_cost() {\n+    if (VM_Version::get_model_index() >= 5 \/* z196\/z11 or later hardware support conditional moves *\/) {\n+      return 0;\n+    } else {\n+      return ConditionalMoveLimit;\n+    }\n+  }\n","filename":"src\/hotspot\/cpu\/s390\/matcher_s390.hpp","additions":17,"deletions":6,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -143,1 +143,0 @@\n-  static int  get_model_index();\n@@ -175,0 +174,2 @@\n+  static int  get_model_index();\n+\n","filename":"src\/hotspot\/cpu\/s390\/vm_version_s390.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -57,1 +57,0 @@\n-compiler\/c2\/irTests\/TestIfMinMax.java 8339220 linux-s390x\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
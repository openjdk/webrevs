{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -142,1 +142,2 @@\n-#if defined(AT_SYMLINK_NOFOLLOW) && defined(AT_REMOVEDIR)\n+#if defined(AT_FDCWD) && defined(AT_SYMLINK_NOFOLLOW) && defined(AT_REMOVEDIR)\n+    static final int PREFIX_AT_FDCWD = AT_FDCWD;\n@@ -147,0 +148,1 @@\n+    static final int PREFIX_AT_FDCWD = 00;\n","filename":"src\/java.base\/unix\/classes\/sun\/nio\/fs\/UnixConstants.java.template","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-                        utimensat(file, accessValue, modValue);\n+                        utimensat(AT_FDCWD, file, accessValue, modValue, AT_SYMLINK_NOFOLLOW);\n@@ -162,1 +162,1 @@\n-                            utimensat(file, accessValue, modValue);\n+                            utimensat(AT_FDCWD, file, accessValue, modValue, AT_SYMLINK_NOFOLLOW);\n","filename":"src\/java.base\/unix\/classes\/sun\/nio\/fs\/UnixFileAttributeViews.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -397,2 +397,0 @@\n-     *\n-     * We hard code fd to FD_ATCWD and flags to AT_SYMLINK_NOFOLLOW.\n@@ -400,1 +398,1 @@\n-    static void utimensat(UnixPath path, long times0, long times1)\n+    static void utimensat(int fd, UnixPath path, long times0, long times1, int flags)\n@@ -404,1 +402,1 @@\n-            utimensat0(buffer.address(), times0, times1);\n+            utimensat0(fd, buffer.address(), times0, times1, flags);\n@@ -407,1 +405,1 @@\n-    private static native void utimensat0(long pathAddress, long times0, long times1)\n+    private static native void utimensat0(int fd, long pathAddress, long times0, long times1, int flags)\n","filename":"src\/java.base\/unix\/classes\/sun\/nio\/fs\/UnixNativeDispatcher.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -988,1 +988,1 @@\n-    jlong pathAddress, jlong accessTime, jlong modificationTime) {\n+    jint fd, jlong pathAddress, jlong accessTime, jlong modificationTime, jint flags) {\n@@ -1004,1 +1004,1 @@\n-    RESTARTABLE((*my_utimensat_func)(AT_FDCWD, path, &times[0], AT_SYMLINK_NOFOLLOW), err);\n+    RESTARTABLE((*my_utimensat_func)(fd, path, &times[0], flags), err);\n","filename":"src\/java.base\/unix\/native\/libnio\/fs\/UnixNativeDispatcher.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
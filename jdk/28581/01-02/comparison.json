{"files":[{"patch":"@@ -656,1 +656,0 @@\n-      _idealloop_arena(mtCompiler, Arena::Tag::tag_idealloop),\n@@ -931,1 +930,0 @@\n-      _idealloop_arena(mtCompiler, Arena::Tag::tag_idealloop),\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -374,1 +374,0 @@\n-  ResourceArea          _idealloop_arena;       \/\/ For data whose lifetime is a single pass of loop optimizations\n@@ -810,2 +809,0 @@\n-  ResourceArea* idealloop_arena()    { return &_idealloop_arena; }\n-\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3758,0 +3758,14 @@\n+IdealLoopTree::IdealLoopTree(PhaseIdealLoop* phase, Node* head, Node* tail): _parent(nullptr), _next(nullptr), _child(nullptr),\n+                                                                             _head(head), _tail(tail),\n+                                                                             _phase(phase),\n+                                                                             _local_loop_unroll_limit(0), _local_loop_unroll_factor(0),\n+                                                                             _body(phase->arena()),\n+                                                                             _nest(0), _irreducible(0), _has_call(0), _has_sfpt(0), _rce_candidate(0),\n+                                                                             _has_range_checks(0), _has_range_checks_computed(0),\n+                                                                             _safepts(nullptr),\n+                                                                             _required_safept(nullptr),\n+                                                                             _allow_optimizations(true) {\n+  precond(_head != nullptr);\n+  precond(_tail != nullptr);\n+}\n+\n@@ -5375,1 +5389,0 @@\n-  ResourceMark rm_idealloop_arena(C->idealloop_arena());\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -672,15 +672,1 @@\n-  IdealLoopTree( PhaseIdealLoop* phase, Node *head, Node *tail )\n-    : _parent(nullptr), _next(nullptr), _child(nullptr),\n-      _head(head), _tail(tail),\n-      _phase(phase),\n-      _local_loop_unroll_limit(0), _local_loop_unroll_factor(0),\n-      _body(Compile::current()->idealloop_arena()),\n-      _nest(0), _irreducible(0), _has_call(0), _has_sfpt(0), _rce_candidate(0),\n-      _has_range_checks(0), _has_range_checks_computed(0),\n-      _safepts(nullptr),\n-      _required_safept(nullptr),\n-      _allow_optimizations(true)\n-  {\n-    precond(_head != nullptr);\n-    precond(_tail != nullptr);\n-  }\n+  IdealLoopTree( PhaseIdealLoop* phase, Node *head, Node *tail );\n@@ -892,0 +878,2 @@\n+  Arena _arena; \/\/ For data whose lifetime is a single pass of loop optimizations\n+\n@@ -1052,0 +1040,2 @@\n+  Arena* arena() { return &_arena; };\n+\n@@ -1226,1 +1216,2 @@\n-    _loop_or_ctrl(igvn.C->idealloop_arena()),\n+    _arena(mtCompiler, Arena::Tag::tag_idealloop),\n+    _loop_or_ctrl(&_arena),\n@@ -1241,1 +1232,2 @@\n-    _loop_or_ctrl(igvn.C->idealloop_arena()),\n+    _arena(mtCompiler, Arena::Tag::tag_idealloop),\n+    _loop_or_ctrl(&_arena),\n@@ -1330,2 +1322,0 @@\n-    Compile* C = Compile::current();\n-    ResourceMark rm_idealloop_arena(C->idealloop_arena());\n@@ -1341,2 +1331,0 @@\n-    Compile* C = Compile::current();\n-    ResourceMark rm_idealloop_arena(C->idealloop_arena());\n@@ -1345,0 +1333,1 @@\n+    Compile* C = Compile::current();\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":10,"deletions":21,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key stress randomness\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestVerifyLoopOptimizationsHighMemUsage.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
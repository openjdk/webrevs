{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,4 +27,4 @@\n- * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient \/test\/jdk\/java\/net\/httpclient\/http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters Http2Handler\n- *          jdk.test.lib.net.IPSupport\n- *          Http2TestExchange\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.test.lib.net.IPSupport\n@@ -55,0 +55,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/SANTest.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,2 +30,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext DigestEchoServer\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -40,1 +41,0 @@\n- * @build ALPNFailureTest\n","filename":"test\/jdk\/java\/net\/httpclient\/ALPNProxyFailureTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractNoBody.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,0 +75,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingPublishers.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,2 +33,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -36,0 +36,1 @@\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -37,4 +38,0 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n@@ -93,0 +90,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingPushPromises.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,0 +74,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingSubscribers.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,2 +27,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -30,4 +30,0 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n@@ -73,0 +69,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/AggregateRequestBodyTest.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,11 +28,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @build jdk.test.lib.Platform\n- * @build jdk.test.lib.util.FileUtils\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n+ *        jdk.test.lib.Platform jdk.test.lib.util.FileUtils\n@@ -74,0 +66,4 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/AsFileDownloadTest.java","additions":8,"deletions":12,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,2 +30,2 @@\n-\/\/ for JTwork\/\/classes\/0\/java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for classes in JTwork\/\/classes\/0\/test\/jdk\/java\/net\/httpclient\/lib\/\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/AsFileDownloadTest.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext ReferenceTracker\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker\n@@ -72,0 +66,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/AsyncExecutorShutdown.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -49,2 +51,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer HttpRedirectTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DigestEchoServer\n","filename":"test\/jdk\/java\/net\/httpclient\/AuthFilterCacheTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,9 +27,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -54,0 +47,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/BasicRedirectTest.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -30,1 +30,1 @@\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -32,4 +32,0 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n@@ -88,0 +84,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelRequestTest.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,2 +29,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -32,4 +32,0 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n@@ -85,0 +81,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelStreamedBodyTest.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -70,0 +63,4 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/ConcurrentResponses.java","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,9 +28,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -85,0 +78,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/CookieHeaderTest.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,9 +27,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -65,0 +58,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/CustomRequestPublisher.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,6 +27,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -59,0 +55,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/CustomResponseSubscriber.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,6 +29,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DependentActionsTest\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DependentActionsTest\n@@ -89,0 +86,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/DependentActionsTest.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,6 +29,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DependentPromiseActionsTest\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DependentPromiseActionsTest\n@@ -87,0 +84,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/DependentPromiseActionsTest.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,0 +55,1 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n@@ -67,3 +68,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer\n- *        ReferenceTracker DigestEchoClient\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DigestEchoServer ReferenceTracker DigestEchoClient\n","filename":"test\/jdk\/java\/net\/httpclient\/DigestEchoClient.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -32,0 +32,1 @@\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/DigestEchoClientSSL.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,0 +72,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/DigestEchoServer.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,6 +29,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters EncodedCharsInURI\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        EncodedCharsInURI\n@@ -79,0 +76,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/EncodedCharsInURI.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,9 +28,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -61,0 +54,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/EscapedOctetsInURI.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext ReferenceTracker\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker\n@@ -69,0 +63,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/ExecutorShutdown.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,7 +32,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @compile HttpServerAdapters.java\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -70,0 +65,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/ExpectContinueTest.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,8 +32,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib ..\/http2\/server\n- * @compile ..\/HttpServerAdapters.java\n- * @build jdk.test.lib.net.SimpleSSLContext SecureZipFSProvider\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        SecureZipFSProvider\n@@ -74,0 +69,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisher\/FilePublisherPermsTest.java","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,2 +30,2 @@\n-\/\/ for JTwork\/classes\/0\/java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for jdk\/httpclient\/test\/lib\/* classes\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisher\/FilePublisherPermsTest1.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,2 +32,2 @@\n-\/\/ for JTwork\/classes\/0\/java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for jdk\/httpclient\/test\/lib\/* classes\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisher\/FilePublisherPermsTest2.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,2 +37,2 @@\n-\/\/ for JTwork\/classes\/0\/java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for jdk\/httpclient\/test\/lib\/* classes\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisher\/FilePublisherPermsTest3.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,8 +29,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib ..\/http2\/server\n- * @compile ..\/HttpServerAdapters.java\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.test.lib.net.SimpleSSLContext\n@@ -66,0 +61,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisher\/FilePublisherTest.java","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisher\/FilePublisherTest.policy","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,0 +46,4 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n@@ -64,9 +68,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.test.lib.net.SimpleSSLContext\n","filename":"test\/jdk\/java\/net\/httpclient\/FlowAdapterPublisherTest.java","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,0 +51,4 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n@@ -65,9 +69,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n","filename":"test\/jdk\/java\/net\/httpclient\/FlowAdapterSubscriberTest.java","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,0 @@\n- *          java.base\/sun.net.www.http\n@@ -36,4 +35,3 @@\n- *          java.base\/sun.net\n- * @library \/test\/lib http2\/server\n- * @build HttpServerAdapters DigestEchoServer Http2TestServer ForbiddenHeadTest\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build DigestEchoServer ForbiddenHeadTest jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.test.lib.net.SimpleSSLContext\n@@ -87,0 +85,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/ForbiddenHeadTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,6 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -68,0 +64,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/GZIPInputStreamTest.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,9 +28,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -62,0 +55,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/HeadTest.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -62,1 +64,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -64,1 +66,2 @@\n- * @build jdk.test.lib.net.SimpleSSLContext jdk.test.lib.net.IPSupport HttpServerAdapters\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.test.lib.net.IPSupport\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientLocalAddrTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,0 +60,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -65,2 +67,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer HttpRedirectTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext DigestEchoServer HttpRedirectTest\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpRedirectTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,0 +53,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -58,2 +60,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer HttpSlowServerTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DigestEchoServer HttpSlowServerTest\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpSlowServerTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,9 +28,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @build jdk.test.lib.Platform\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n+ *        jdk.test.lib.Platform\n@@ -51,0 +45,4 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpVersionsTest.java","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -50,2 +52,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters ProxyServer HttpsTunnelAuthTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        ProxyServer HttpsTunnelAuthTest\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpsTunnelAuthTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -53,2 +55,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer HttpsTunnelTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DigestEchoServer HttpsTunnelTest\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpsTunnelTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,7 +27,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n- *       ReferenceTracker AggregateRequestBodyTest\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *       ReferenceTracker\n@@ -84,0 +80,3 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/ISO_8859_1_Test.java","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,6 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -60,0 +56,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/ImmutableFlowItems.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -76,0 +73,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/InvalidInputStreamSubscriptionRequest.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -32,4 +32,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -74,0 +71,3 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/InvalidSubscriptionRequest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,0 +63,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -78,2 +80,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer LargeHandshakeTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ *        DigestEchoServer\n","filename":"test\/jdk\/java\/net\/httpclient\/LargeHandshakeTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,0 +53,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -60,2 +62,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters DigestEchoServer LargeResponseTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.test.lib.net.SimpleSSLContext DigestEchoServer\n","filename":"test\/jdk\/java\/net\/httpclient\/LargeResponseTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,0 +57,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -80,9 +82,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer LineBodyHandlerTest HttpServerAdapters ReferenceTracker\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build ReferenceTracker jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.test.lib.net.SimpleSSLContext\n","filename":"test\/jdk\/java\/net\/httpclient\/LineBodyHandlerTest.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -27,6 +27,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -67,0 +63,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/MappingResponseSubscriber.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,10 +28,2 @@\n- *\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -63,0 +55,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/MaxStreams.java","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,6 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n","filename":"test\/jdk\/java\/net\/httpclient\/NoBodyPartOne.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,6 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n","filename":"test\/jdk\/java\/net\/httpclient\/NoBodyPartTwo.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -61,0 +54,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/NonAsciiCharsInURI.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,12 +29,11 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib ..\/http2\/server\n- * @build Http2TestServer Http2TestServerConnection Http2TestExchange\n- *        Http2Handler OutgoingPushPromise Queue\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @build jdk.test.lib.Platform\n- * @build jdk.test.lib.util.FileUtils\n- * @compile ..\/HttpServerAdapters.java\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.httpclient.test.lib.http2.Http2TestServerConnection\n+ *        jdk.httpclient.test.lib.http2.Http2TestExchange\n+ *        jdk.httpclient.test.lib.http2.Http2Handler\n+ *        jdk.httpclient.test.lib.http2.OutgoingPushPromise\n+ *        jdk.httpclient.test.lib.http2.Queue\n+ *        jdk.test.lib.net.SimpleSSLContext\n+ *        jdk.test.lib.Platform\n+ *        jdk.test.lib.util.FileUtils\n@@ -72,1 +71,7 @@\n-\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestServerConnection;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.OutgoingPushPromise;\n+import jdk.httpclient.test.lib.http2.Queue;\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/BodyHandlerOfFileDownloadTest.java","additions":19,"deletions":14,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,12 +30,10 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib ..\/http2\/server\n- * @build Http2TestServer Http2TestServerConnection Http2TestExchange\n- *        Http2Handler OutgoingPushPromise Queue\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @build jdk.test.lib.Platform\n- * @build jdk.test.lib.util.FileUtils\n- * @compile ..\/HttpServerAdapters.java\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.httpclient.test.lib.http2.Http2TestServerConnection\n+ *        jdk.httpclient.test.lib.http2.Http2TestExchange\n+ *        jdk.httpclient.test.lib.http2.Http2Handler\n+ *        jdk.httpclient.test.lib.http2.OutgoingPushPromise\n+ *        jdk.httpclient.test.lib.http2.Queue\n+ *        jdk.test.lib.net.SimpleSSLContext\n+ *        jdk.test.lib.Platform jdk.test.lib.util.FileUtils\n@@ -70,1 +68,7 @@\n-\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestServerConnection;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.OutgoingPushPromise;\n+import jdk.httpclient.test.lib.http2.Queue;\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/BodyHandlerOfFileTest.java","additions":18,"deletions":14,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,12 +30,9 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib ..\/http2\/server\n- * @build Http2TestServer Http2TestServerConnection Http2TestExchange\n- *        Http2Handler OutgoingPushPromise Queue\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @build jdk.test.lib.Platform\n- * @build jdk.test.lib.util.FileUtils\n- * @compile ..\/HttpServerAdapters.java\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.httpclient.test.lib.http2.Http2TestServerConnection\n+ *        jdk.httpclient.test.lib.http2.Http2TestExchange\n+ *        jdk.httpclient.test.lib.http2.Http2Handler\n+ *        jdk.httpclient.test.lib.http2.OutgoingPushPromise\n+ *        jdk.httpclient.test.lib.http2.Queue jdk.test.lib.net.SimpleSSLContext\n+ *        jdk.test.lib.Platform jdk.test.lib.util.FileUtils\n@@ -78,1 +75,7 @@\n-\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestServerConnection;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.OutgoingPushPromise;\n+import jdk.httpclient.test.lib.http2.Queue;\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/BodySubscriberOfFileTest.java","additions":17,"deletions":14,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,2 +41,2 @@\n-\/\/ for java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for jdk\/httpclient\/test\/lib\/* classes\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/ofFile.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,2 +41,2 @@\n-\/\/ for java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for jdk\/httpclient\/test\/lib\/* classes\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/ofFileDownload.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -34,0 +34,1 @@\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ProxyAuthDisabledSchemes.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @library \/test\/lib http2\/server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n@@ -34,0 +34,1 @@\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ProxyAuthDisabledSchemesSSL.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,0 @@\n- *          java.base\/sun.net.www.http\n@@ -37,4 +36,3 @@\n- *          java.base\/sun.net\n- * @library \/test\/lib http2\/server\n- * @build HttpServerAdapters DigestEchoServer Http2TestServer ProxySelectorTest\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build DigestEchoServer ProxySelectorTest jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.test.lib.net.SimpleSSLContext\n@@ -86,0 +84,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/ProxySelectorTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,8 +27,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -53,0 +47,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/RedirectMethodChange.java","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,9 +27,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -58,0 +51,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/RedirectWithCookie.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,2 @@\n-\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -52,8 +53,3 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n","filename":"test\/jdk\/java\/net\/httpclient\/Response1xxTest.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,7 +27,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n- *       ReferenceTracker Response204V2Test\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *       ReferenceTracker jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -60,0 +56,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/Response204V2Test.java","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,6 +29,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -76,0 +72,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/ResponsePublisher.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,9 +28,4 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext ReferenceTracker\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker\n@@ -70,0 +65,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/RetryWithCookie.java","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,6 +28,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters EncodedCharsInURI\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n@@ -75,0 +72,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/ServerCloseTest.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,4 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer HttpServerAdapters SpecialHeadersTest\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.test.lib.net.SimpleSSLContext\n@@ -91,0 +86,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/SpecialHeadersTest.java","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,3 +34,3 @@\n- * @library http2\/server\n- * @build Http2TestServer Http2TestExchange\n- * @compile HttpServerAdapters.java\n+ * @library \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -53,0 +53,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/StreamCloseTest.java","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,9 +28,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -56,0 +49,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/StreamingBody.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1,1 +1,6 @@\n-modules = java.net.http\n+modules=java.base\/sun.net.www.http \\\n+        java.net.http\/jdk.internal.net.http.common \\\n+        java.net.http\/jdk.internal.net.http.frame \\\n+        java.net.http\/jdk.internal.net.http.hpack \\\n+        java.logging \\\n+        jdk.httpserver\n","filename":"test\/jdk\/java\/net\/httpclient\/TEST.properties","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersCustomAfterCancel.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersCustomBeforeCancel.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersIOAfterCancel.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersIOBeforeCancel.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersInNextRequest.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersInRequest.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersInSubscribe.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n@@ -31,4 +31,1 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPublishersSanity.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsInputStreamCustom\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsInputStreamCustom\n+ *       jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesAsInputStreamCustom.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsInputStreamIO\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsInputStreamIO\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesAsInputStreamIO.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsLinesCustom\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsLinesCustom\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesAsLinesCustom.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsLinesIO\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsLinesIO\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesAsLinesIO.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsStringCustom\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsStringCustom\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesAsStringCustom.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsStringIO\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesAsStringIO\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesAsStringIO.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,7 +29,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesSanity\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker AbstractThrowingPushPromises ThrowingPushPromisesSanity\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingPushPromisesSanity.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersAsInputStream AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersAsInputStream AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersAsInputStream.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersAsInputStreamAsync AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersAsInputStreamAsync AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersAsInputStreamAsync.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersAsLines AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersAsLines AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersAsLines.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersAsLinesAsync AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersAsLinesAsync AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersAsLinesAsync.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersAsString AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersAsString AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersAsString.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersAsStringAsync AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersAsStringAsync AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersAsStringAsync.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,7 +28,4 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n-  *       ReferenceTracker ThrowingSubscribersSanity AbstractThrowingSubscribers\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext\n+ *        ReferenceTracker ThrowingSubscribersSanity AbstractThrowingSubscribers\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/ThrowingSubscribersSanity.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n@@ -51,2 +53,3 @@\n- * @library \/test\/lib http2\/server\n- * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters TlsContextTest\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext TlsContextTest\n+ *        jdk.httpclient.test.lib.common.HttpServerAdapters\n","filename":"test\/jdk\/java\/net\/httpclient\/TlsContextTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,9 +32,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -69,0 +62,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/UnauthorizedTest.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,9 +29,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- *          java.logging\n- *          jdk.httpserver\n- * @library \/test\/lib http2\/server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.common.HttpServerAdapters jdk.test.lib.net.SimpleSSLContext\n@@ -75,0 +68,2 @@\n+import jdk.httpclient.test.lib.common.HttpServerAdapters;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/UserCookieTest.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,2 +30,2 @@\n-\/\/ for JTwork\/\/classes\/0\/java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for jdk\/httpclient\/test\/lib\/* classes\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/dependent.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,7 +26,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- * @library \/test\/lib server\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -64,0 +59,6 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2TestExchangeImpl;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.BodyOutputStream;\n+import jdk.httpclient.test.lib.http2.Http2TestServerConnection;\n@@ -305,1 +306,1 @@\n-                os.closeInternal();\n+                os.markClosed();\n@@ -308,2 +309,3 @@\n-            for (Http2Frame f : headerFrames)\n-                conn.outputQ.put(f);\n+            for (Http2Frame f : headerFrames) {\n+                conn.addToOutputQ(f);\n+            }\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/BadHeadersTest.java","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,6 +27,3 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.TestUtil\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -50,0 +47,5 @@\n+import jdk.httpclient.test.lib.common.TestUtil;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.Http2EchoHandler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/BasicTest.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,5 +27,2 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- * @library \/test\/lib server\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n@@ -33,2 +30,0 @@\n- * @build Http2TestServer\n- * @build jdk.test.lib.net.SimpleSSLContext\n@@ -59,0 +54,7 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2TestExchangeImpl;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.BodyOutputStream;\n+import jdk.httpclient.test.lib.http2.Http2TestServerConnection;\n+\n@@ -300,1 +302,1 @@\n-                os.closeInternal();\n+                os.markClosed();\n@@ -302,2 +304,3 @@\n-            for (Http2Frame f : headerFrames)\n-                conn.outputQ.put(f);\n+            for (Http2Frame f : headerFrames) {\n+                conn.addToOutputQ(f);\n+            }\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ContinuationFrameTest.java","additions":14,"deletions":11,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,2 +27,2 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -49,0 +49,4 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2EchoHandler;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ErrorTest.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,6 +27,3 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.common.TestUtil\n+ *        jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -43,0 +40,4 @@\n+import jdk.httpclient.test.lib.common.TestUtil;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2EchoHandler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/FixedThreadPoolTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,5 +30,2 @@\n- * @library \/test\/lib server\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -68,0 +65,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/IdleConnectionTimeoutTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,6 +26,2 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -55,0 +51,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ImplicitPushCancel.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,6 +27,2 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -48,0 +44,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/NoBodyTest.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,0 +55,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n@@ -63,7 +66,2 @@\n- * @modules java.net.http\n- * @library \/test\/lib server\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n- * @build jdk.test.lib.net.SimpleSSLContext ProxyTest2\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ProxyTest2.java","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,6 +30,4 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.httpclient.test.lib.http2.BodyOutputStream\n+ *        jdk.httpclient.test.lib.http2.OutgoingPushPromise\n@@ -68,0 +66,7 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2TestExchangeImpl;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.BodyOutputStream;\n+import jdk.httpclient.test.lib.http2.OutgoingPushPromise;\n+import jdk.httpclient.test.lib.http2.Http2TestServerConnection;\n@@ -238,1 +243,1 @@\n-                conn.outputQ.put(pp);\n+                conn.addToOutputQ(pp);\n@@ -315,1 +320,1 @@\n-                conn.outputQ.put(pp);\n+                conn.addToOutputQ(pp);\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/PushPromiseContinuation.java","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,6 +27,4 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.httpclient.test.lib.http2.Http2EchoHandler\n+ *        jdk.httpclient.test.lib.http2.Http2RedirectHandler\n@@ -50,0 +48,5 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.Http2EchoHandler;\n+import jdk.httpclient.test.lib.http2.Http2RedirectHandler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/RedirectTest.java","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,6 +27,3 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n+ *        jdk.httpclient.test.lib.common.TestUtil jdk.httpclient.test.lib.http2.PushHandler\n@@ -50,0 +47,5 @@\n+import jdk.httpclient.test.lib.common.TestUtil;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.PushHandler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ServerPush.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,6 +26,2 @@\n- * @library \/test\/lib server\n- * @build jdk.test.lib.net.SimpleSSLContext\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.test.lib.net.SimpleSSLContext jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -50,0 +46,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ServerPushWithDiffTypes.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,3 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n@@ -42,1 +45,2 @@\n- * @library server\n+ * @library \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer\n@@ -44,4 +48,0 @@\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/TLSConnection.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,4 @@\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+\n@@ -44,5 +48,2 @@\n- * @library \/test\/lib server\n- * @modules java.base\/sun.net.www.http\n- *          java.net.http\/jdk.internal.net.http.common\n- *          java.net.http\/jdk.internal.net.http.frame\n- *          java.net.http\/jdk.internal.net.http.hpack\n+ * @library \/test\/lib \/test\/jdk\/java\/net\/httpclient\/lib\n+ * @build jdk.httpclient.test.lib.http2.Http2TestServer jdk.test.lib.net.SimpleSSLContext\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/UserInfoTest.java","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-\/\/ Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+\/\/ Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,2 +33,2 @@\n-\/\/ for JTwork\/\/classes\/0\/java\/net\/httpclient\/http2\/server\/*\n-grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/java\/net\/httpclient\/http2\/server\/*\" {\n+\/\/ for classes in JTwork\/\/classes\/0\/test\/jdk\/java\/net\/httpclient\/lib\/\n+grant codeBase \"file:${test.classes}\/..\/..\/..\/..\/test\/jdk\/java\/net\/httpclient\/lib\/-\" {\n","filename":"test\/jdk\/java\/net\/httpclient\/httpclient-localaddr-security.policy","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.common;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/common\/ExceptionallyCloseable.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/ExceptionallyCloseable.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,0 +23,1 @@\n+package jdk.httpclient.test.lib.common;\n@@ -30,0 +31,3 @@\n+import jdk.httpclient.test.lib.http2.Http2Handler;\n+import jdk.httpclient.test.lib.http2.Http2TestExchange;\n+import jdk.httpclient.test.lib.http2.Http2TestServer;\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/common\/HttpServerAdapters.java","additions":5,"deletions":1,"binary":false,"changes":6,"previous_filename":"test\/jdk\/java\/net\/httpclient\/HttpServerAdapters.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.common;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/common\/TestUtil.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/TestUtil.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/BodyInputStream.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/BodyInputStream.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n@@ -34,1 +36,1 @@\n-class BodyOutputStream extends OutputStream {\n+public class BodyOutputStream extends OutputStream {\n@@ -75,1 +77,1 @@\n-    void goodToGo() {\n+    public void goodToGo() {\n@@ -119,1 +121,1 @@\n-    void closeInternal() {\n+    public void markClosed() {\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/BodyOutputStream.java","additions":6,"deletions":4,"binary":false,"changes":10,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/BodyOutputStream.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/EchoHandler.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/EchoHandler.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,0 +23,1 @@\n+package jdk.httpclient.test.lib.http2;\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2EchoHandler.java","additions":2,"deletions":1,"binary":false,"changes":3,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2EchoHandler.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,1 @@\n+package jdk.httpclient.test.lib.http2;\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2Handler.java","additions":2,"deletions":1,"binary":false,"changes":3,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2Handler.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2RedirectHandler.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2RedirectHandler.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestExchange.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2TestExchange.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n@@ -43,1 +45,1 @@\n-    final HttpHeadersBuilder rspheadersBuilder;\n+    protected final HttpHeadersBuilder rspheadersBuilder;\n@@ -47,1 +49,1 @@\n-    final BodyOutputStream os;\n+    protected final BodyOutputStream os;\n@@ -49,1 +51,1 @@\n-    final int streamid;\n+    protected final int streamid;\n@@ -51,1 +53,1 @@\n-    final Http2TestServerConnection conn;\n+    protected final Http2TestServerConnection conn;\n@@ -55,1 +57,1 @@\n-    long responseLength;\n+    protected long responseLength;\n@@ -57,1 +59,1 @@\n-    Http2TestExchangeImpl(int streamid,\n+    public Http2TestExchangeImpl(int streamid,\n@@ -150,1 +152,1 @@\n-            os.closeInternal();\n+            os.markClosed();\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestExchangeImpl.java","additions":10,"deletions":8,"binary":false,"changes":18,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2TestExchangeImpl.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestExchangeSupplier.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2TestExchangeSupplier.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestServer.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2TestServer.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n@@ -278,0 +280,4 @@\n+    public void addToOutputQ(final Http2Frame frame) throws IOException {\n+        outputQ.put(frame);\n+    }\n+\n@@ -803,1 +809,1 @@\n-                                    oq.closeInternal();\n+                                    oq.markClosed();\n@@ -848,1 +854,1 @@\n-    List<ByteBuffer> encodeHeaders(HttpHeaders headers) {\n+    public List<ByteBuffer> encodeHeaders(HttpHeaders headers) {\n@@ -874,1 +880,1 @@\n-    List<ByteBuffer> encodeHeadersOrdered(List<Map.Entry<String,String>> headers) {\n+    public List<ByteBuffer> encodeHeadersOrdered(List<Map.Entry<String,String>> headers) {\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestServerConnection.java","additions":10,"deletions":4,"binary":false,"changes":14,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Http2TestServerConnection.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/NoBodyHandler.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/NoBodyHandler.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n@@ -34,1 +36,1 @@\n-class OutgoingPushPromise extends Http2Frame {\n+public class OutgoingPushPromise extends Http2Frame {\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/OutgoingPushPromise.java","additions":4,"deletions":2,"binary":false,"changes":6,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/OutgoingPushPromise.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/PushHandler.java","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/PushHandler.java","status":"renamed"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.httpclient.test.lib.http2;\n+\n@@ -29,0 +31,2 @@\n+import jdk.httpclient.test.lib.common.ExceptionallyCloseable;\n+\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Queue.java","additions":5,"deletions":1,"binary":false,"changes":6,"previous_filename":"test\/jdk\/java\/net\/httpclient\/http2\/server\/Queue.java","status":"renamed"}]}
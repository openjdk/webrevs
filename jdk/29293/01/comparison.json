{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -725,2 +725,2 @@\n-  if (VM_Version::supports_fast_class_init_checks()) {\n-    Label L_skip_barrier;\n+  assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n+  Label L_skip_barrier;\n@@ -728,5 +728,4 @@\n-    { \/\/ Bypass the barrier for non-static methods\n-      __ ldrh(rscratch1, Address(rmethod, Method::access_flags_offset()));\n-      __ andsw(zr, rscratch1, JVM_ACC_STATIC);\n-      __ br(Assembler::EQ, L_skip_barrier); \/\/ non-static\n-    }\n+  \/\/ Bypass the barrier for non-static methods\n+  __ ldrh(rscratch1, Address(rmethod, Method::access_flags_offset()));\n+  __ andsw(zr, rscratch1, JVM_ACC_STATIC);\n+  __ br(Assembler::EQ, L_skip_barrier); \/\/ non-static\n@@ -734,3 +733,3 @@\n-    __ load_method_holder(rscratch2, rmethod);\n-    __ clinit_barrier(rscratch2, rscratch1, &L_skip_barrier);\n-    __ far_jump(RuntimeAddress(SharedRuntime::get_handle_wrong_method_stub()));\n+  __ load_method_holder(rscratch2, rmethod);\n+  __ clinit_barrier(rscratch2, rscratch1, &L_skip_barrier);\n+  __ far_jump(RuntimeAddress(SharedRuntime::get_handle_wrong_method_stub()));\n@@ -738,3 +737,2 @@\n-    __ bind(L_skip_barrier);\n-    entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n-  }\n+  __ bind(L_skip_barrier);\n+  entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n@@ -1511,1 +1509,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && method->needs_clinit_barrier()) {\n+  if (method->needs_clinit_barrier()) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/aarch64\/sharedRuntime_aarch64.cpp","additions":14,"deletions":15,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2293,1 +2293,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && bytecode() == Bytecodes::_invokestatic) {\n+  if (bytecode() == Bytecodes::_invokestatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -2343,2 +2344,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() &&\n-      (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic)) {\n+  if (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/aarch64\/templateTable_aarch64.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -1240,2 +1240,2 @@\n-  if (VM_Version::supports_fast_class_init_checks()) {\n-    Label L_skip_barrier;\n+  assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n+  Label L_skip_barrier;\n@@ -1243,5 +1243,4 @@\n-    { \/\/ Bypass the barrier for non-static methods\n-      __ lhz(R0, in_bytes(Method::access_flags_offset()), R19_method);\n-      __ andi_(R0, R0, JVM_ACC_STATIC);\n-      __ beq(CR0, L_skip_barrier); \/\/ non-static\n-    }\n+  \/\/ Bypass the barrier for non-static methods\n+  __ lhz(R0, in_bytes(Method::access_flags_offset()), R19_method);\n+  __ andi_(R0, R0, JVM_ACC_STATIC);\n+  __ beq(CR0, L_skip_barrier); \/\/ non-static\n@@ -1249,3 +1248,3 @@\n-    Register klass = R11_scratch1;\n-    __ load_method_holder(klass, R19_method);\n-    __ clinit_barrier(klass, R16_thread, &L_skip_barrier \/*L_fast_path*\/);\n+  Register klass = R11_scratch1;\n+  __ load_method_holder(klass, R19_method);\n+  __ clinit_barrier(klass, R16_thread, &L_skip_barrier \/*L_fast_path*\/);\n@@ -1253,3 +1252,3 @@\n-    __ load_const_optimized(klass, SharedRuntime::get_handle_wrong_method_stub(), R0);\n-    __ mtctr(klass);\n-    __ bctr();\n+  __ load_const_optimized(klass, SharedRuntime::get_handle_wrong_method_stub(), R0);\n+  __ mtctr(klass);\n+  __ bctr();\n@@ -1257,3 +1256,2 @@\n-    __ bind(L_skip_barrier);\n-    entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n-  }\n+  __ bind(L_skip_barrier);\n+  entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n@@ -2213,1 +2211,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && method->needs_clinit_barrier()) {\n+  if (method->needs_clinit_barrier()) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/ppc\/sharedRuntime_ppc.cpp","additions":17,"deletions":18,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2202,1 +2202,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && bytecode() == Bytecodes::_invokestatic) {\n+  if (bytecode() == Bytecodes::_invokestatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -2247,2 +2248,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() &&\n-      (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic)) {\n+  if (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/ppc\/templateTable_ppc_64.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -640,2 +640,2 @@\n-  if (VM_Version::supports_fast_class_init_checks()) {\n-    Label L_skip_barrier;\n+  assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n+  Label L_skip_barrier;\n@@ -643,5 +643,4 @@\n-    { \/\/ Bypass the barrier for non-static methods\n-      __ load_unsigned_short(t0, Address(xmethod, Method::access_flags_offset()));\n-      __ test_bit(t1, t0, exact_log2(JVM_ACC_STATIC));\n-      __ beqz(t1, L_skip_barrier); \/\/ non-static\n-    }\n+  \/\/ Bypass the barrier for non-static methods\n+  __ load_unsigned_short(t0, Address(xmethod, Method::access_flags_offset()));\n+  __ test_bit(t1, t0, exact_log2(JVM_ACC_STATIC));\n+  __ beqz(t1, L_skip_barrier); \/\/ non-static\n@@ -649,3 +648,3 @@\n-    __ load_method_holder(t1, xmethod);\n-    __ clinit_barrier(t1, t0, &L_skip_barrier);\n-    __ far_jump(RuntimeAddress(SharedRuntime::get_handle_wrong_method_stub()));\n+  __ load_method_holder(t1, xmethod);\n+  __ clinit_barrier(t1, t0, &L_skip_barrier);\n+  __ far_jump(RuntimeAddress(SharedRuntime::get_handle_wrong_method_stub()));\n@@ -653,3 +652,2 @@\n-    __ bind(L_skip_barrier);\n-    entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n-  }\n+  __ bind(L_skip_barrier);\n+  entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n@@ -1446,1 +1444,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && method->needs_clinit_barrier()) {\n+  if (method->needs_clinit_barrier()) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/riscv\/sharedRuntime_riscv.cpp","additions":14,"deletions":15,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2195,1 +2195,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && bytecode() == Bytecodes::_invokestatic) {\n+  if (bytecode() == Bytecodes::_invokestatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -2246,2 +2247,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() &&\n-      (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic)) {\n+  if (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/riscv\/templateTable_riscv.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -1570,1 +1570,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && method->needs_clinit_barrier()) {\n+  if (method->needs_clinit_barrier()) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -2381,2 +2382,2 @@\n-  if (VM_Version::supports_fast_class_init_checks()) {\n-    Label L_skip_barrier;\n+  assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n+  Label L_skip_barrier;\n@@ -2384,4 +2385,3 @@\n-    { \/\/ Bypass the barrier for non-static methods\n-      __ testbit_ushort(Address(Z_method, Method::access_flags_offset()), JVM_ACC_STATIC_BIT);\n-      __ z_bfalse(L_skip_barrier); \/\/ non-static\n-    }\n+  \/\/ Bypass the barrier for non-static methods\n+  __ testbit_ushort(Address(Z_method, Method::access_flags_offset()), JVM_ACC_STATIC_BIT);\n+  __ z_bfalse(L_skip_barrier); \/\/ non-static\n@@ -2389,3 +2389,3 @@\n-    Register klass = Z_R11;\n-    __ load_method_holder(klass, Z_method);\n-    __ clinit_barrier(klass, Z_thread, &L_skip_barrier \/*L_fast_path*\/);\n+  Register klass = Z_R11;\n+  __ load_method_holder(klass, Z_method);\n+  __ clinit_barrier(klass, Z_thread, &L_skip_barrier \/*L_fast_path*\/);\n@@ -2393,2 +2393,2 @@\n-    __ load_const_optimized(klass, SharedRuntime::get_handle_wrong_method_stub());\n-    __ z_br(klass);\n+  __ load_const_optimized(klass, SharedRuntime::get_handle_wrong_method_stub());\n+  __ z_br(klass);\n@@ -2396,3 +2396,2 @@\n-    __ bind(L_skip_barrier);\n-    entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n-  }\n+  __ bind(L_skip_barrier);\n+  entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n","filename":"src\/hotspot\/cpu\/s390\/sharedRuntime_s390.cpp","additions":15,"deletions":16,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2380,1 +2380,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && bytecode() == Bytecodes::_invokestatic) {\n+  if (bytecode() == Bytecodes::_invokestatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -2430,2 +2431,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() &&\n-      (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic)) {\n+  if (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/s390\/templateTable_s390.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -1046,3 +1046,3 @@\n-  if (VM_Version::supports_fast_class_init_checks()) {\n-    Label L_skip_barrier;\n-    Register method = rbx;\n+  assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n+  Label L_skip_barrier;\n+  Register method = rbx;\n@@ -1050,6 +1050,5 @@\n-    { \/\/ Bypass the barrier for non-static methods\n-      Register flags = rscratch1;\n-      __ load_unsigned_short(flags, Address(method, Method::access_flags_offset()));\n-      __ testl(flags, JVM_ACC_STATIC);\n-      __ jcc(Assembler::zero, L_skip_barrier); \/\/ non-static\n-    }\n+  \/\/ Bypass the barrier for non-static methods\n+  Register flags = rscratch1;\n+  __ load_unsigned_short(flags, Address(method, Method::access_flags_offset()));\n+  __ testl(flags, JVM_ACC_STATIC);\n+  __ jcc(Assembler::zero, L_skip_barrier); \/\/ non-static\n@@ -1057,3 +1056,3 @@\n-    Register klass = rscratch1;\n-    __ load_method_holder(klass, method);\n-    __ clinit_barrier(klass, &L_skip_barrier \/*L_fast_path*\/);\n+  Register klass = rscratch1;\n+  __ load_method_holder(klass, method);\n+  __ clinit_barrier(klass, &L_skip_barrier \/*L_fast_path*\/);\n@@ -1061,1 +1060,1 @@\n-    __ jump(RuntimeAddress(SharedRuntime::get_handle_wrong_method_stub())); \/\/ slow path\n+  __ jump(RuntimeAddress(SharedRuntime::get_handle_wrong_method_stub())); \/\/ slow path\n@@ -1063,3 +1062,2 @@\n-    __ bind(L_skip_barrier);\n-    entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n-  }\n+  __ bind(L_skip_barrier);\n+  entry_address[AdapterBlob::C2I_No_Clinit_Check] = __ pc();\n@@ -1907,1 +1905,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && method->needs_clinit_barrier()) {\n+  if (method->needs_clinit_barrier()) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -3605,1 +3604,0 @@\n-\n","filename":"src\/hotspot\/cpu\/x86\/sharedRuntime_x86_64.cpp","additions":17,"deletions":19,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -2219,1 +2219,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() && bytecode() == Bytecodes::_invokestatic) {\n+  if (bytecode() == Bytecodes::_invokestatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n@@ -2267,2 +2268,2 @@\n-  if (VM_Version::supports_fast_class_init_checks() &&\n-      (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic)) {\n+  if (bytecode() == Bytecodes::_getstatic || bytecode() == Bytecodes::_putstatic) {\n+    assert(VM_Version::supports_fast_class_init_checks(), \"sanity\");\n","filename":"src\/hotspot\/cpu\/x86\/templateTable_x86.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}
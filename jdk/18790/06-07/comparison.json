{"files":[{"patch":"@@ -1370,1 +1370,0 @@\n-  }\n@@ -1372,15 +1371,16 @@\n-  if (Arguments::perf_class_link()) {\n-    NEWPERFTICKCOUNTER(_perf_ik_link_methods_time, SUN_CLS, \"linkMethodsTime\");\n-    NEWPERFTICKCOUNTER(_perf_method_adapters_time, SUN_CLS, \"makeAdaptersTime\");\n-    NEWPERFEVENTCOUNTER(_perf_ik_link_methods_count, SUN_CLS, \"linkMethodsCount\");\n-    NEWPERFEVENTCOUNTER(_perf_method_adapters_count, SUN_CLS, \"makeAdaptersCount\");\n-\n-    NEWPERFTICKCOUNTER(_perf_resolve_indy_time, SUN_CLS, \"resolve_invokedynamic_time\");\n-    NEWPERFTICKCOUNTER(_perf_resolve_invokehandle_time, SUN_CLS, \"resolve_invokehandle_time\");\n-    NEWPERFTICKCOUNTER(_perf_resolve_mh_time, SUN_CLS, \"resolve_MethodHandle_time\");\n-    NEWPERFTICKCOUNTER(_perf_resolve_mt_time, SUN_CLS, \"resolve_MethodType_time\");\n-\n-    NEWPERFEVENTCOUNTER(_perf_resolve_indy_count, SUN_CLS, \"resolve_invokedynamic_count\");\n-    NEWPERFEVENTCOUNTER(_perf_resolve_invokehandle_count, SUN_CLS, \"resolve_invokehandle_count\");\n-    NEWPERFEVENTCOUNTER(_perf_resolve_mh_count, SUN_CLS, \"resolve_MethodHandle_count\");\n-    NEWPERFEVENTCOUNTER(_perf_resolve_mt_count, SUN_CLS, \"resolve_MethodType_count\");\n+    if (log_is_enabled(Info, perf, class, link)) {\n+      NEWPERFTICKCOUNTER(_perf_ik_link_methods_time, SUN_CLS, \"linkMethodsTime\");\n+      NEWPERFTICKCOUNTER(_perf_method_adapters_time, SUN_CLS, \"makeAdaptersTime\");\n+      NEWPERFEVENTCOUNTER(_perf_ik_link_methods_count, SUN_CLS, \"linkMethodsCount\");\n+      NEWPERFEVENTCOUNTER(_perf_method_adapters_count, SUN_CLS, \"makeAdaptersCount\");\n+\n+      NEWPERFTICKCOUNTER(_perf_resolve_indy_time, SUN_CLS, \"resolve_invokedynamic_time\");\n+      NEWPERFTICKCOUNTER(_perf_resolve_invokehandle_time, SUN_CLS, \"resolve_invokehandle_time\");\n+      NEWPERFTICKCOUNTER(_perf_resolve_mh_time, SUN_CLS, \"resolve_MethodHandle_time\");\n+      NEWPERFTICKCOUNTER(_perf_resolve_mt_time, SUN_CLS, \"resolve_MethodType_time\");\n+\n+      NEWPERFEVENTCOUNTER(_perf_resolve_indy_count, SUN_CLS, \"resolve_invokedynamic_count\");\n+      NEWPERFEVENTCOUNTER(_perf_resolve_invokehandle_count, SUN_CLS, \"resolve_invokehandle_count\");\n+      NEWPERFEVENTCOUNTER(_perf_resolve_mh_count, SUN_CLS, \"resolve_MethodHandle_count\");\n+      NEWPERFEVENTCOUNTER(_perf_resolve_mt_count, SUN_CLS, \"resolve_MethodType_count\");\n+    }\n","filename":"src\/hotspot\/share\/classfile\/classLoader.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1174,1 +1174,1 @@\n-  if (Arguments::perf_class_link()) {\n+  if (log_is_enabled(Info, perf, class, link)) {\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -127,3 +127,0 @@\n-\/\/ True if -Xlog:perf+class+link was specified\n-bool Arguments::_perf_class_link = false;\n-\n@@ -3774,2 +3771,0 @@\n-    } else {\n-      _perf_class_link = true;\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -255,3 +255,0 @@\n-  \/\/ true if -Xlog:perf+class+link is specified, default to false\n-  static bool _perf_class_link;\n-\n@@ -491,2 +488,0 @@\n-  static bool perf_class_link() { return _perf_class_link; }\n-\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2576,1 +2576,1 @@\n-  if (Arguments::perf_class_link()) {\n+  if (log_is_enabled(Info, perf, class, link)) {\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -831,1 +831,1 @@\n-  if (Arguments::perf_class_link()) {\n+  if (log_is_enabled(Info, perf, class, link)) {\n","filename":"src\/hotspot\/share\/runtime\/threads.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
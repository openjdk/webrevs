{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-  delete _refinement_table;\n+  delete refinement_table();\n@@ -71,3 +71,3 @@\n-  G1CardTable* temp = static_cast<G1CardTable*>(_card_table);\n-  _card_table = _refinement_table;\n-  _refinement_table = temp;\n+  G1CardTable* temp = static_cast<G1CardTable*>(card_table());\n+  _card_table.store_relaxed(refinement_table());\n+  _refinement_table.store_relaxed(temp);\n@@ -83,1 +83,1 @@\n-  G1ThreadLocalData::set_byte_map_base(thread, _card_table->byte_map_base());\n+  G1ThreadLocalData::set_byte_map_base(thread, card_table()->byte_map_base());\n@@ -138,1 +138,1 @@\n-  CardTable* card_table = AtomicAccess::load(&_card_table);\n+  CardTable* local_card_table = card_table();\n@@ -140,2 +140,2 @@\n-  volatile CardValue* byte = card_table->byte_for(mr.start());\n-  CardValue* last_byte = card_table->byte_for(mr.last());\n+  volatile CardValue* byte = local_card_table->byte_for(mr.start());\n+  CardValue* last_byte = local_card_table->byte_for(mr.last());\n@@ -193,2 +193,2 @@\n-  _card_table->print_on(st, \"Card\");\n-  _refinement_table->print_on(st, \"Refinement\");\n+  card_table()->print_on(st, \"Card\");\n+  refinement_table()->print_on(st, \"Refinement\");\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BarrierSet.cpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -69,1 +70,1 @@\n-  G1CardTable* _refinement_table;\n+  Atomic<G1CardTable*> _refinement_table;\n@@ -79,1 +80,1 @@\n-  G1CardTable* refinement_table() const { return _refinement_table; }\n+  G1CardTable* refinement_table() const { return _refinement_table.load_relaxed(); }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BarrierSet.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,2 +76,2 @@\n-  CardTable* card_table = AtomicAccess::load(&_card_table);\n-  CardValue* byte = card_table->byte_for(field);\n+  CardTable* local_card_table = card_table();\n+  CardValue* byte = local_card_table->byte_for(field);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BarrierSet.inline.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-  delete _card_table;\n+  delete card_table();\n@@ -80,1 +80,1 @@\n-  _card_table->dirty_MemRegion(mr);\n+  card_table()->dirty_MemRegion(mr);\n@@ -84,1 +84,1 @@\n-  _card_table->print_on(st);\n+  card_table()->print_on(st);\n@@ -119,1 +119,1 @@\n-  if (new_obj->is_typeArray() || _card_table->is_in_young(new_obj)) {\n+  if (new_obj->is_typeArray() || card_table()->is_in_young(new_obj)) {\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTableBarrierSet.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -51,1 +52,1 @@\n-  CardTable* _card_table;\n+  Atomic<CardTable*> _card_table;\n@@ -88,1 +89,2 @@\n-  CardTable* card_table() const { return _card_table; }\n+  CardTable* card_table() { return _card_table.load_relaxed(); }\n+  CardTable* card_table() const { return _card_table.load_relaxed(); }\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTableBarrierSet.hpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,1 +38,1 @@\n-  volatile CardValue* byte = _card_table->byte_for(field);\n+  volatile CardValue* byte = card_table()->byte_for(field);\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTableBarrierSet.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,0 +51,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -91,1 +92,1 @@\n-  nonstatic_field(CardTableBarrierSet,         _card_table,                                   CardTable*)                            \\\n+  nonstatic_field(CardTableBarrierSet,         _card_table,                                   Atomic<CardTable*>)                    \\\n@@ -152,0 +153,1 @@\n+  declare_toplevel_type(Atomic<CardTable*>)                               \\\n","filename":"src\/hotspot\/share\/gc\/shared\/vmStructs_gc.hpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
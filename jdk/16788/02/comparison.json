{"files":[{"patch":"@@ -50,1 +50,1 @@\n-    CAPSTONE_ARCH := CS_ARCH_ARM64\n+    CAPSTONE_ARCH := CS_ARCH_$(CAPSTONE_ARCH_AARCH64_NAME)\n","filename":"make\/Hsdis.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,0 +66,13 @@\n+\n+  capstone_header=\"\\\"$CAPSTONE\/include\/capstone\/capstone.h\\\"\"\n+  AC_MSG_CHECKING([capstone aarch64 arch name])\n+  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([#include $capstone_header],[[cs_arch test = CS_ARCH_AARCH64]])],\n+    [\n+      AC_MSG_RESULT([AARCH64])\n+      CAPSTONE_ARCH_AARCH64_NAME=\"AARCH64\"\n+    ],\n+    [\n+      AC_MSG_RESULT([ARM64])\n+      CAPSTONE_ARCH_AARCH64_NAME=\"ARM64\"\n+    ]\n+  )\n@@ -368,0 +381,1 @@\n+  AC_SUBST(CAPSTONE_ARCH_AARCH64_NAME)\n","filename":"make\/autoconf\/lib-hsdis.m4","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -380,0 +380,1 @@\n+CAPSTONE_ARCH_AARCH64_NAME := @CAPSTONE_ARCH_AARCH64_NAME@\n","filename":"make\/autoconf\/spec.gmk.in","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -55,0 +55,6 @@\n+\/* Undefine macro to avoid generating invalid C code.\n+   Capstone refactored cs_detail for AArch64 architecture\n+   from `cs_arm64 arm64` to `cs_aarch64 aarch64`\n+   and that causes invalid macro expansion.\n+*\/\n+#undef aarch64\n","filename":"src\/utils\/hsdis\/capstone\/hsdis-capstone.c","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}
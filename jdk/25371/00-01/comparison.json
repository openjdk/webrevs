{"files":[{"patch":"@@ -45,0 +45,1 @@\n+\/\/ List fields are unmodifiable\n@@ -52,2 +53,2 @@\n-    private static final String EMPTY_TAG = \"\";\n-    private static final List<String> EMPTY_TAGS = Collections.emptyList();\n+    private static final String EMPTY_SUBTAG = \"\";\n+    private static final List<String> EMPTY_SUBTAGS = Collections.emptyList();\n@@ -187,5 +188,5 @@\n-        List<String> extlangs = EMPTY_TAGS;\n-        String script = EMPTY_TAG;\n-        String region = EMPTY_TAG;\n-        List<String> variants = EMPTY_TAGS;\n-        List<String> extensions = EMPTY_TAGS;\n+        List<String> extlangs;\n+        String script;\n+        String region;\n+        List<String> variants;\n+        List<String> extensions;\n@@ -199,0 +200,6 @@\n+        } else {\n+            extlangs = EMPTY_SUBTAGS;\n+            script = EMPTY_SUBTAG;\n+            region = EMPTY_SUBTAG;\n+            variants = EMPTY_SUBTAGS;\n+            extensions = EMPTY_SUBTAGS;\n@@ -225,1 +232,1 @@\n-            return EMPTY_TAG;\n+            return EMPTY_SUBTAG;\n@@ -235,1 +242,1 @@\n-        return EMPTY_TAG;\n+        return EMPTY_SUBTAG;\n@@ -240,1 +247,1 @@\n-            return EMPTY_TAGS;\n+            return EMPTY_SUBTAGS;\n@@ -259,1 +266,2 @@\n-        return extLangs == null ? EMPTY_TAGS : extLangs;\n+        return extLangs == null ? EMPTY_SUBTAGS :\n+                Collections.unmodifiableList(extLangs);\n@@ -264,1 +272,1 @@\n-            return EMPTY_TAG;\n+            return EMPTY_SUBTAG;\n@@ -274,1 +282,1 @@\n-        return EMPTY_TAG;\n+        return EMPTY_SUBTAG;\n@@ -279,1 +287,1 @@\n-            return EMPTY_TAG;\n+            return EMPTY_SUBTAG;\n@@ -288,1 +296,1 @@\n-        return EMPTY_TAG;\n+        return EMPTY_SUBTAG;\n@@ -293,1 +301,1 @@\n-            return EMPTY_TAGS;\n+            return EMPTY_SUBTAGS;\n@@ -310,1 +318,2 @@\n-        return variants == null ? EMPTY_TAGS : variants;\n+        return variants == null ? EMPTY_SUBTAGS :\n+                Collections.unmodifiableList(variants);\n@@ -316,1 +325,1 @@\n-            return EMPTY_TAGS;\n+            return EMPTY_SUBTAGS;\n@@ -353,1 +362,2 @@\n-        return extensions == null ? EMPTY_TAGS : extensions;\n+        return extensions == null ? EMPTY_SUBTAGS :\n+                Collections.unmodifiableList(extensions);\n@@ -359,1 +369,1 @@\n-            return EMPTY_TAG;\n+            return EMPTY_SUBTAG;\n@@ -388,1 +398,1 @@\n-        return EMPTY_TAG;\n+        return EMPTY_SUBTAG;\n@@ -436,3 +446,3 @@\n-        String language = EMPTY_TAG;\n-        String script = EMPTY_TAG;\n-        String region = EMPTY_TAG;\n+        String language = EMPTY_SUBTAG;\n+        String script = EMPTY_SUBTAG;\n+        String region = EMPTY_SUBTAG;\n@@ -451,7 +461,6 @@\n-            if (baseLanguage.equals(\"iw\")) {\n-                baseLanguage = \"he\";\n-            } else if (baseLanguage.equals(\"ji\")) {\n-                baseLanguage = \"yi\";\n-            } else if (baseLanguage.equals(\"in\")) {\n-                baseLanguage = \"id\";\n-            }\n+            baseLanguage = switch (baseLanguage) {\n+                case \"iw\" -> \"he\";\n+                case \"ji\" -> \"yi\";\n+                case \"in\" -> \"id\";\n+                default -> baseLanguage;\n+            };\n@@ -474,1 +483,1 @@\n-            baseVariant = EMPTY_TAG;\n+            baseVariant = EMPTY_SUBTAG;\n@@ -551,3 +560,5 @@\n-        extensions = extensions == null ? EMPTY_TAGS : extensions;\n-        privateuse = privateuse == null ? EMPTY_TAG : privateuse;\n-        variants = variants == null ? EMPTY_TAGS : variants;\n+        privateuse = privateuse == null ? EMPTY_SUBTAG : privateuse;\n+        extensions = extensions == null ? EMPTY_SUBTAGS :\n+                Collections.unmodifiableList(extensions);\n+        variants = variants == null ? EMPTY_SUBTAGS :\n+                Collections.unmodifiableList(variants);\n@@ -556,16 +567,1 @@\n-        return new LanguageTag(language, script, region, privateuse, EMPTY_TAGS, variants, extensions);\n-    }\n-\n-    @Override\n-    public List<String> extlangs() {\n-        return extlangs.isEmpty() ? extlangs : Collections.unmodifiableList(extlangs);\n-    }\n-\n-    @Override\n-    public List<String> variants() {\n-        return variants.isEmpty() ? variants : Collections.unmodifiableList(variants);\n-    }\n-\n-    @Override\n-    public List<String> extensions() {\n-        return extensions.isEmpty() ? extensions : Collections.unmodifiableList(extensions);\n+        return new LanguageTag(language, script, region, privateuse, EMPTY_SUBTAGS, variants, extensions);\n","filename":"src\/java.base\/share\/classes\/sun\/util\/locale\/LanguageTag.java","additions":47,"deletions":51,"binary":false,"changes":98,"status":"modified"}]}
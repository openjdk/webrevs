{"files":[{"patch":"@@ -36,1 +36,1 @@\n- * {@link #commit(long, long, int)} method\n+ * {@link #commit(long, long, int,long)} method\n@@ -42,0 +42,1 @@\n+    public long timeout;\n@@ -51,1 +52,2 @@\n-     * @param count     number of channels selected\n+     * @param count     number of SelectionKey selected\n+     * @param timeout   ms for select to block, or zero to block indefinitely\n@@ -53,1 +55,1 @@\n-    public static void commit(long start, long duration, int count) {\n+    public static void commit(long start, long duration, int count, long timeout) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/event\/SelectorSelectEvent.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -152,1 +152,2 @@\n-            SelectorSelectEvent.commit(start, duration, n);\n+            timeout = (timeout < 0) ? 0 : timeout;\n+            SelectorSelectEvent.commit(start, duration, n, timeout);\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/SelectorImpl.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -28,4 +28,1 @@\n-import jdk.jfr.Category;\n-import jdk.jfr.Description;\n-import jdk.jfr.Label;\n-import jdk.jfr.Name;\n+import jdk.jfr.*;\n@@ -45,0 +42,6 @@\n+\n+    @Label(\"Timeout Value\")\n+    @Description(\"Milliseconds to block, or zero to block indefinitely\")\n+    @Timespan(Timespan.MILLISECONDS)\n+    public long timeout;\n+\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/events\/SelectorSelectEvent.java","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -54,0 +54,1 @@\n+    private static String TIMEOUT_FIELD = \"timeout\";\n@@ -95,0 +96,1 @@\n+                Asserts.assertTrue(events.get(0).getLong(TIMEOUT_FIELD) == 0);\n@@ -115,1 +117,1 @@\n-                    int n = sel.select(1);\n+                    int n = sel.select(2);\n@@ -133,0 +135,1 @@\n+                Asserts.assertTrue(events.get(0).getLong(TIMEOUT_FIELD) == 2);\n","filename":"test\/jdk\/jdk\/jfr\/event\/io\/TestSelectorSelectEvent.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
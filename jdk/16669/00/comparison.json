{"files":[{"patch":"@@ -405,1 +405,0 @@\n-  _tf = nullptr;\n@@ -430,1 +429,0 @@\n-  _tf = TypeFunc::make(method());\n@@ -432,11 +430,0 @@\n-  _flow = method()->get_flow_analysis();\n-  if (_flow->failing()) {\n-    assert(false, \"type flow failed during parsing\");\n-    C->record_method_not_compilable(_flow->failure_reason());\n-  }\n-\n-#ifndef PRODUCT\n-  if (_flow->has_irreducible_entry()) {\n-    C->set_parsed_irreducible_loop(true);\n-  }\n-#endif\n@@ -510,0 +497,1 @@\n+    _tf = C->tf();     \/\/ the OSR entry type is different\n@@ -512,3 +500,9 @@\n-    if (_flow->failing()) {\n-      assert(false, \"type flow analysis failed for OSR compilation\");\n-      C->record_method_not_compilable(_flow->failure_reason());\n+  } else {\n+    _tf = TypeFunc::make(method());\n+    _entry_bci = InvocationEntryBci;\n+    _flow = method()->get_flow_analysis();\n+  }\n+\n+  if (_flow->failing()) {\n+    assert(false, \"type flow failed during parsing\");\n+    C->record_method_not_compilable(_flow->failure_reason());\n@@ -517,1 +511,4 @@\n-        tty->print_cr(\"OSR @%d type flow bailout: %s\", _entry_bci, _flow->failure_reason());\n+        if (_entry_bci != InvocationEntryBci) {\n+          tty->print(\"OSR @%d \", _entry_bci);\n+        }\n+        tty->print_cr(\"type flow bailout: %s\", _flow->failure_reason());\n@@ -525,2 +522,0 @@\n-    }\n-    _tf = C->tf();     \/\/ the OSR entry type is different\n@@ -529,1 +524,0 @@\n-#ifdef ASSERT\n@@ -535,1 +529,0 @@\n-#endif\n@@ -538,0 +531,4 @@\n+  if (_flow->has_irreducible_entry()) {\n+    C->set_parsed_irreducible_loop(true);\n+  }\n+\n","filename":"src\/hotspot\/share\/opto\/parse1.cpp","additions":18,"deletions":21,"binary":false,"changes":39,"status":"modified"}]}
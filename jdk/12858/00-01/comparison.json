{"files":[{"patch":"@@ -3230,1 +3230,3 @@\n-    if (!supports_f16c() && !supports_avx512vl()) return false;\n+    if (!supports_f16c() && !supports_avx512vl()) {\n+      return false;\n+    }\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -183,17 +183,0 @@\n-bool C2Compiler::is_virtual_intrinsic_supported(vmIntrinsics::ID id, bool is_virtual) {\n-  \/\/ Only Object.hashCode and Object.clone intrinsics implement also a virtual\n-  \/\/ dispatch because calling both methods is expensive but both methods are\n-  \/\/ frequently overridden. All other intrinsics implement only a non-virtual\n-  \/\/ dispatch.\n-  if (is_virtual) {\n-    switch (id) {\n-    case vmIntrinsics::_hashCode:\n-    case vmIntrinsics::_clone:\n-      break;\n-    default:\n-      return false;\n-    }\n-  }\n-  return true;\n-}\n-\n","filename":"src\/hotspot\/share\/opto\/c2compiler.cpp","additions":0,"deletions":17,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -66,4 +66,0 @@\n-  \/\/ Check if the compiler supports an intrinsic for 'method' given the\n-  \/\/ the dispatch mode specified by the 'is_virtual' parameter.\n-  bool is_virtual_intrinsic_supported(vmIntrinsics::ID id, bool is_virtual);\n-\n","filename":"src\/hotspot\/share\/opto\/c2compiler.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -80,2 +80,4 @@\n-    is_available = compiler != NULL && compiler->is_intrinsic_available(mh, C->directive()) &&\n-                   compiler->is_virtual_intrinsic_supported(id, is_virtual);\n+    is_available = compiler != NULL && compiler->is_intrinsic_available(mh, C->directive());\n+    if (is_available && is_virtual) {\n+      is_available = vmIntrinsics::does_virtual_dispatch(id);\n+    }\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -4160,1 +4160,1 @@\n-        return name.length() <= JAVA_CLASSNAME_MAX_LEN;\n+        return getUtf8Length(name) <= JAVA_CLASSNAME_MAX_LEN;\n@@ -4170,0 +4170,15 @@\n+\n+    \/\/ Calculates the length of string encoded in Modified UTF-8.\n+    private static int getUtf8Length(String str) {\n+        int slen = str.length();\n+        int extra = 0;\n+        for (int i = 0; i < slen; i++) {\n+            int ch = string.charAt(i);\n+            if (ch > 0x007f || ch == 0x0000) {\n+                extra++;\n+                if (ch > 0x07ff)\n+                    extra++;\n+            }\n+        }\n+        return slen + extra;\n+    }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Class.java","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"}]}
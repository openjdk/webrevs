{"files":[{"patch":"@@ -4174,1 +4174,1 @@\n-            \"Class name exceeds maximum length of \" + JAVA_CLASSNAME_MAX_LEN);\n+            \"Class name length exceeds limit of \" + JAVA_CLASSNAME_MAX_LEN);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Class.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8310242\n+ * @bug 8310242 8328874\n@@ -93,0 +93,17 @@\n+    @Test\n+    void testTooLongName() {\n+        ClassLoader loader = ForNameNames.class.getClassLoader();\n+        String tooLongName = \"A\".repeat(JAVA_CLASSNAME_MAX_LEN+1);\n+        String errMsg = \"Class name length exceeds limit of\";\n+\n+        ClassNotFoundException ex = assertThrows(ClassNotFoundException.class,\n+                                                 () -> Class.forName(tooLongName, false, loader));\n+        assertTrue(ex.getMessage().contains(errMsg),\n+                   \"Unexpected exception message\");\n+\n+        ex = assertThrows(ClassNotFoundException.class,\n+                          () -> Class.forName(tooLongName));\n+        assertTrue(ex.getMessage().contains(errMsg),\n+                   \"Unexpected exception message\");\n+   }\n+\n","filename":"test\/jdk\/java\/lang\/Class\/forName\/ForNameNames.java","additions":18,"deletions":1,"binary":false,"changes":19,"status":"modified"}]}
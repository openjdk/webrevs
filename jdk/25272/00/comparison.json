{"files":[{"patch":"@@ -84,0 +84,1 @@\n+    vm.cds.supports.aot.code.caching \\\n","filename":"test\/hotspot\/jtreg\/TEST.ROOT","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -28,2 +28,1 @@\n- * @requires vm.cds\n- * @requires vm.cds.supports.aot.class.linking\n+ * @requires vm.cds.supports.aot.code.caching\n@@ -31,1 +30,0 @@\n- * @requires !vm.jvmci.enabled\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/aotCode\/AOTCodeCompressedOopsTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,4 +28,1 @@\n- * @requires vm.cds\n- * @requires vm.cds.supports.aot.class.linking\n- * @requires vm.flavor != \"zero\"\n- * @requires os.arch==\"amd64\" | os.arch==\"x86_64\" | os.arch==\"aarch64\"\n+ * @requires vm.cds.supports.aot.code.caching\n@@ -33,2 +30,0 @@\n- * @comment work around JDK-8345635\n- * @requires !vm.jvmci.enabled\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/aotCode\/AOTCodeFlags.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -127,0 +127,1 @@\n+        map.put(\"vm.cds.supports.aot.code.caching\", this::vmCDSSupportsAOTCodeCaching);\n@@ -475,0 +476,14 @@\n+    \/**\n+     * @return true if this VM can support the AOT Code Caching\n+     *\/\n+    protected String vmCDSSupportsAOTCodeCaching() {\n+      if (\"true\".equals(vmCDSSupportsAOTClassLinking()) &&\n+          !\"zero\".equals(vmFlavor()) &&\n+          \"false\".equals(vmJvmciEnabled()) &&\n+          (Platform.isX64() || Platform.isAArch64())) {\n+        return \"true\";\n+      } else {\n+        return \"false\";\n+      }\n+    }\n+\n","filename":"test\/jtreg-ext\/requires\/VMProps.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"}]}
{"files":[{"patch":"@@ -1082,1 +1082,0 @@\n-    bool failure = false;\n@@ -1087,4 +1086,16 @@\n-      if (is_verify_Value())    { failure |= verify_Value_for(n); }\n-      if (is_verify_Ideal())    { failure |= verify_Ideal_for(n, false); }\n-      if (is_verify_Ideal())    { failure |= verify_Ideal_for(n, true); }\n-      if (is_verify_Identity()) { failure |= verify_Identity_for(n); }\n+      \/\/ If we get an assert here, check why the reported node was not processed again in IGVN.\n+      \/\/ We should either make sure that this node is properly added back to the IGVN worklist\n+      \/\/ in PhaseIterGVN::add_users_to_worklist to update it again or add an exception\n+      \/\/ in the verification code above if that is not possible for some reason (like Load nodes).\n+      if (is_verify_Value()) {\n+        bool failure = verify_Value_for(n);\n+        assert(!failure, \"Missed Value optimization opportunity in PhaseIterGVN for %s\", n->Name());\n+      }\n+      if (is_verify_Ideal()) {\n+        bool failure = verify_Ideal_for(n, false) || verify_Ideal_for(n, true);\n+        assert(!failure, \"Missed Ideal optimization opportunity in PhaseIterGVN for %s\", n->Name());\n+      }\n+      if (is_verify_Identity()) {\n+        bool failure = verify_Identity_for(n);\n+        assert(!failure, \"Missed Identity optimization opportunity in PhaseIterGVN for %s\", n->Name());\n+      }\n@@ -1101,5 +1112,0 @@\n-    \/\/ If we get this assert, check why the reported nodes were not processed again in IGVN.\n-    \/\/ We should either make sure that these nodes are properly added back to the IGVN worklist\n-    \/\/ in PhaseIterGVN::add_users_to_worklist to update them again or add an exception\n-    \/\/ in the verification code above if that is not possible for some reason (like Load nodes).\n-    assert(!failure, \"Missed optimization opportunity in PhaseIterGVN\");\n@@ -1824,0 +1830,6 @@\n+  \/\/ Remove 'n' from hash table in case it gets modified. We want to avoid\n+  \/\/ hitting the \"Need to remove from hash before changing edges\" assert if\n+  \/\/ a change occurs. Instead, we would like to proceed with the optimization,\n+  \/\/ return and finally hit the assert in PhaseIterGVN::verify_optimize to get\n+  \/\/ a more meaningful message\n+  _table.hash_delete(n);\n@@ -1850,0 +1862,1 @@\n+    hash_find_insert(n);\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":23,"deletions":10,"binary":false,"changes":33,"status":"modified"}]}
{"files":[{"patch":"@@ -805,1 +805,1 @@\n-  _iterGVN = true;\n+  _phase = PhaseValuesType::iter_gvn;\n@@ -814,1 +814,1 @@\n-  _iterGVN = true;\n+  _phase = PhaseValuesType::iter_gvn;\n@@ -1092,1 +1092,1 @@\n-        verify_Value_for(n, \"PhaseIterGVN\");\n+        verify_Value_for(n);\n@@ -1144,1 +1144,1 @@\n-void PhaseIterGVN::verify_Value_for(const Node* n, const char* phase, bool strict) {\n+void PhaseIterGVN::verify_Value_for(const Node* n, bool strict) {\n@@ -1202,1 +1202,1 @@\n-  if (strcmp(phase, \"PhaseIterGVN\") == 0) {\n+  if (_phase == PhaseValuesType::iter_gvn) {\n@@ -1204,1 +1204,1 @@\n-  } else if (strcmp(phase, \"PhaseCCP\") == 0) {\n+  } else if (_phase == PhaseValuesType::ccp) {\n@@ -1207,1 +1207,1 @@\n-    assert(false, \"Unexpected phase: %s\", phase);\n+    assert(false, \"Unexpected phase identifier\");\n@@ -2801,0 +2801,1 @@\n+  _phase = PhaseValuesType::ccp;\n@@ -2931,1 +2932,1 @@\n-    verify_Value_for(n, \"PhaseCCP\", true);\n+    verify_Value_for(n, true);\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -227,1 +227,7 @@\n-  bool      _iterGVN;\n+  enum class PhaseValuesType {\n+    gvn,\n+    iter_gvn,\n+    ccp\n+  };\n+\n+  PhaseValuesType _phase;\n@@ -250,1 +256,1 @@\n-  PhaseValues() : PhaseTransform(GVN), _iterGVN(false),\n+  PhaseValues() : PhaseTransform(GVN), _phase(PhaseValuesType::gvn),\n@@ -259,1 +265,1 @@\n-  PhaseIterGVN* is_IterGVN() { return (_iterGVN) ? (PhaseIterGVN*)this : nullptr; }\n+  PhaseIterGVN* is_IterGVN() { return (_phase >= PhaseValuesType::iter_gvn) ? (PhaseIterGVN*)this : nullptr; }\n@@ -493,1 +499,1 @@\n-  void verify_Value_for(const Node* n, const char* phase, bool strict = false);\n+  void verify_Value_for(const Node* n, bool strict = false);\n","filename":"src\/hotspot\/share\/opto\/phaseX.hpp","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"}]}
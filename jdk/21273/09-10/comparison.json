{"files":[{"patch":"@@ -417,5 +417,1 @@\n-    return;\n-  }\n-  int gc_state = _heap->gc_state();\n-  if ((gc_state & ShenandoahHeap::YOUNG_MARKING) != 0) {\n-    arraycopy_marking(src, dst, count, false);\n+    \/\/ No elements to copy, no need for barrier\n@@ -425,0 +421,1 @@\n+  int gc_state = _heap->gc_state();\n@@ -433,0 +430,3 @@\n+    if ((gc_state & ShenandoahHeap::YOUNG_MARKING) != 0) {\n+      arraycopy_marking(src, dst, count, false);\n+    }\n@@ -434,3 +434,0 @@\n-      \/\/ Note that we can't do the arraycopy marking using the 'src' array when\n-      \/\/ SATB mode is enabled (so we can't do this as part of the iteration for\n-      \/\/ evacuation or update references).\n@@ -439,0 +436,2 @@\n+  } else if ((gc_state & ShenandoahHeap::MARKING) != 0) {\n+    arraycopy_marking(src, dst, count, false);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahBarrierSet.inline.hpp","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"}]}
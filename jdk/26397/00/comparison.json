{"files":[{"patch":"@@ -42,1 +42,1 @@\n-    private static native void disposeNativeStrikePtr(long nativeStrikePtr);\n+    static native void disposeNativeStrikePtr(long nativeStrikePtr);\n@@ -73,1 +73,1 @@\n-    private long nativeStrikePtr;\n+    private final long nativeStrikePtr;\n@@ -78,1 +78,2 @@\n-        glyphInfoCache = new GlyphInfoCache(font, desc);\n+        nativeStrikePtr = initNativeStrikePtr();\n+        glyphInfoCache = new GlyphInfoCache(font, desc, nativeStrikePtr);\n@@ -98,3 +99,5 @@\n-        if (nativeStrikePtr != 0) {\n-            return nativeStrikePtr;\n-        }\n+        return nativeStrikePtr;\n+    }\n+\n+    public long initNativeStrikePtr() {\n+        long nativeStrikePtr = 0L;\n@@ -139,10 +142,0 @@\n-    @Override\n-    @SuppressWarnings(\"removal\")\n-    protected synchronized void finalize() throws Throwable {\n-        if (nativeStrikePtr != 0) {\n-            disposeNativeStrikePtr(nativeStrikePtr);\n-        }\n-        nativeStrikePtr = 0;\n-    }\n-\n-\n@@ -382,2 +375,2 @@\n-        GlyphInfoCache(final Font2D nativeFont, final FontStrikeDesc desc) {\n-            super(nativeFont, desc);\n+        GlyphInfoCache(final Font2D nativeFont, final FontStrikeDesc desc, long pScalerContext) {\n+            super(nativeFont, desc, pScalerContext);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CStrike.java","additions":11,"deletions":18,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-    long pNativeScalerContext;\n+    private final long pNativeScalerContext;\n@@ -76,0 +76,1 @@\n+        pNativeScalerContext = 0L;\n@@ -82,1 +83,1 @@\n-                freeNativeScalerContext(pNativeScalerContext);\n+                CStrike.disposeNativeStrikePtr(pNativeScalerContext);\n@@ -88,2 +89,0 @@\n-    private native void freeNativeScalerContext(long pContext);\n-\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CStrikeDisposer.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}
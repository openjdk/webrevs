{"files":[{"patch":"@@ -492,1 +492,19 @@\n-\/\/ Check if a live range would be spilt in a loop nest so that we will eagerly spill it\n+\/\/ Decide the action at the loop entry based on whether the live range is used and whether it needs spilling\n+\/\/ Common means that the frequency the action performed is more than 10% the frequency of the loop head\n+\/\/ Untaken means that the frequency the action performed is not more than the frequency of the loop entry (outside the loop)\n+\/\/ Uncommon means that the action is neither common nor untaken\n+\/\/ The action we will perform on the live range at loop entry depends on the common-ness of the spilling and reloading actions:\n+\/\/\n+\/\/    Reload     Common      Uncommon      Untaken\n+\/\/ Spill\n+\/\/\n+\/\/  Common       Spill        Spill         Spill\n+\/\/\n+\/\/ Uncommon      Reload       Spill         Spill\n+\/\/\n+\/\/ Untaken       Reload       Reload        None\n+\/\/\n+\/\/ In general, if a live range is spilt more than it is used, we try to eagerly spill it, and vice versa,\n+\/\/ if a live range is used more than it is spilt, we try to eagerly reload it as the spills will not happen\n+\/\/ in a commmon manner. If the live range is used with roughly the same frequency as it is spilt, we prefer\n+\/\/ spilling because otherwise, we need to emit both reloads and spills inside the loop.\n@@ -494,2 +512,0 @@\n-  \/\/ Don't be eager spilling something that will only be spilt uncommonly and is used in the common path\n-  \/\/ as it leads to excessive reloads\n@@ -554,0 +570,1 @@\n+          \/\/ At this point, the live range cannot be spilt in the common path\n","filename":"src\/hotspot\/share\/opto\/reg_split.cpp","additions":20,"deletions":3,"binary":false,"changes":23,"status":"modified"}]}
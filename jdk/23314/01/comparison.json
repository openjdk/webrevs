{"files":[{"patch":"@@ -40,11 +40,2 @@\n-vmTestbase\/nsk\/jvmti\/GetCurrentThreadCpuTime\/curthrcputime001\/TestDescription.java 8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/GetThreadCpuTime\/thrcputime001\/TestDescription.java 8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/NotifyFramePop\/nframepop002\/TestDescription.java    8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/NotifyFramePop\/nframepop003\/TestDescription.java    8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/StopThread\/stopthrd006\/TestDescription.java         8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/scenarios\/events\/EM02\/em02t012\/TestDescription.java 8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal004\/TestDescription.java   8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal003\/TestDescription.java   8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal002\/TestDescription.java   8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal001\/TestDescription.java   8300708 generic-all\n-vmTestbase\/nsk\/jvmti\/unit\/GetLocalVariable\/getlocal003\/TestDescription.java 8300708 generic-all\n+vmTestbase\/nsk\/jvmti\/GetCurrentThreadCpuTime\/curthrcputime001\/TestDescription.java 8348844 generic-all\n+vmTestbase\/nsk\/jvmti\/GetThreadCpuTime\/thrcputime001\/TestDescription.java 8348844 generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList-Virtual.txt","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,0 +83,4 @@\n+        if (currThread.isVirtual()) {\n+            out.println(\"meth01: skipping results check for virtual thread\");\n+            return d + f + 1; \/\/ SetLocal* should return OPAQUE_FRAME for a virtual thread\n+        }\n@@ -100,0 +104,4 @@\n+            if (currThread.isVirtual()) {\n+                out.println(\"meth01: skipping results check for virtual thread\");\n+                return; \/\/ SetLocal* should return OPAQUE_FRAME for a virtual thread\n+            }\n@@ -112,0 +120,4 @@\n+        if (currThread.isVirtual()) {\n+            out.println(\"meth01: skipping results check for virtual thread\");\n+            return; \/\/ SetLocalObject for obj1 and obj2 should return OPAQUE_FRAME for a virtual thread\n+        }\n@@ -121,0 +133,4 @@\n+        if (currThread.isVirtual()) {\n+            out.println(\"meth01: skipping results check for virtual thread\");\n+            return; \/\/ SetLocal* should return OPAQUE_FRAME for a virtual thread\n+        }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal001.java","additions":17,"deletions":1,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,0 +54,1 @@\n+    bool is_virtual = env->IsVirtualThread(thr);\n@@ -77,1 +78,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -85,1 +86,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -93,1 +94,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -105,1 +106,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -113,1 +114,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -121,1 +122,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -129,1 +130,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -137,1 +138,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -149,1 +150,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -157,1 +158,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -169,1 +170,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -177,1 +178,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -185,1 +186,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -193,1 +194,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -201,1 +202,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -209,1 +210,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -217,1 +218,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -225,1 +226,1 @@\n-                if (err != JVMTI_ERROR_NONE) {\n+                if (err != JVMTI_ERROR_NONE && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal001\/setlocal001.cpp","additions":20,"deletions":19,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+    bool is_virtual = env->IsVirtualThread(thr);\n@@ -77,1 +78,1 @@\n-            if (err != JVMTI_ERROR_INVALID_SLOT) {\n+            if (err != JVMTI_ERROR_INVALID_SLOT && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -79,1 +80,1 @@\n-                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT,\\n\");\n+                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT or JVMTI_ERROR_OPAQUE_FRAME,\\n\");\n@@ -86,1 +87,1 @@\n-            if (err != JVMTI_ERROR_INVALID_SLOT) {\n+            if (err != JVMTI_ERROR_INVALID_SLOT && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -88,1 +89,1 @@\n-                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT,\\n\");\n+                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT or JVMTI_ERROR_OPAQUE_FRAME,\\n\");\n@@ -95,1 +96,1 @@\n-            if (err != JVMTI_ERROR_INVALID_SLOT) {\n+            if (err != JVMTI_ERROR_INVALID_SLOT && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -97,1 +98,1 @@\n-                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT,\\n\");\n+                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT or JVMTI_ERROR_OPAQUE_FRAME,\\n\");\n@@ -104,1 +105,1 @@\n-            if (err != JVMTI_ERROR_INVALID_SLOT) {\n+            if (err != JVMTI_ERROR_INVALID_SLOT && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -106,1 +107,1 @@\n-                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT,\\n\");\n+                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT or JVMTI_ERROR_OPAQUE_FRAME,\\n\");\n@@ -113,1 +114,1 @@\n-            if (err != JVMTI_ERROR_INVALID_SLOT) {\n+            if (err != JVMTI_ERROR_INVALID_SLOT && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -115,1 +116,1 @@\n-                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT,\\n\");\n+                printf(\"Error expected: JVMTI_ERROR_INVALID_SLOT or JVMTI_ERROR_OPAQUE_FRAME,\\n\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal003\/setlocal003.cpp","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+    bool is_virtual = env->IsVirtualThread(thr);\n@@ -79,1 +80,1 @@\n-            if (err != JVMTI_ERROR_TYPE_MISMATCH) {\n+            if (err != JVMTI_ERROR_TYPE_MISMATCH && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -81,1 +82,1 @@\n-                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH,\");\n+                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCHi or JVMTI_ERROR_OPAQUE_FRAME,\");\n@@ -89,1 +90,1 @@\n-            if (err != JVMTI_ERROR_TYPE_MISMATCH) {\n+            if (err != JVMTI_ERROR_TYPE_MISMATCH && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -91,1 +92,1 @@\n-                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH,\");\n+                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH or JVMTI_ERROR_OPAQUE_FRAME,\");\n@@ -99,1 +100,1 @@\n-            if (err != JVMTI_ERROR_TYPE_MISMATCH) {\n+            if (err != JVMTI_ERROR_TYPE_MISMATCH && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -101,1 +102,1 @@\n-                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH,\");\n+                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH or JVMTI_ERROR_OPAQUE_FRAME,\");\n@@ -109,1 +110,1 @@\n-            if (err != JVMTI_ERROR_TYPE_MISMATCH) {\n+            if (err != JVMTI_ERROR_TYPE_MISMATCH && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -111,1 +112,1 @@\n-                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH,\");\n+                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH or JVMTI_ERROR_OPAQUE_FRAME,\");\n@@ -119,1 +120,1 @@\n-            if (err != JVMTI_ERROR_TYPE_MISMATCH) {\n+            if (err != JVMTI_ERROR_TYPE_MISMATCH && !(is_virtual && err == JVMTI_ERROR_OPAQUE_FRAME)) {\n@@ -121,1 +122,1 @@\n-                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH,\");\n+                printf(\"    expected: JVMTI_ERROR_TYPE_MISMATCH or JVMTI_ERROR_OPAQUE_FRAME,\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/SetLocalVariable\/setlocal004\/setlocal004.cpp","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -447,1 +447,0 @@\n-     * @param isLimited Defines if jtreg options and test thread factory should be added\n@@ -451,1 +450,1 @@\n-    private static ProcessBuilder createJavaProcessBuilder(boolean isLimited, String... command) {\n+    private static ProcessBuilder createJavaProcessBuilder(String... command) {\n@@ -464,10 +463,1 @@\n-        if (isLimited) {\n-            Collections.addAll(args, command);\n-        } else {\n-            List<String> additionalArgs = Arrays.asList(Utils.prependTestJavaOpts(command));\n-            String testThreadFactoryName = System.getProperty(\"test.thread.factory\");\n-            if (testThreadFactoryName != null) {\n-               additionalArgs = addTestThreadFactoryArgs(testThreadFactoryName, additionalArgs);\n-            }\n-            args.addAll(additionalArgs);\n-        }\n+        Collections.addAll(args, command);\n@@ -526,1 +516,6 @@\n-        return createJavaProcessBuilder(false, command);\n+        List<String> additionalArgs = Arrays.asList(Utils.prependTestJavaOpts(command));\n+        String testThreadFactoryName = System.getProperty(\"test.thread.factory\");\n+        if (testThreadFactoryName != null) {\n+            additionalArgs = addTestThreadFactoryArgs(testThreadFactoryName, additionalArgs);\n+        }\n+        return createJavaProcessBuilder(additionalArgs.toArray(String[]::new));\n@@ -570,1 +565,1 @@\n-        return createJavaProcessBuilder(true, command);\n+        return createJavaProcessBuilder(command);\n","filename":"test\/lib\/jdk\/test\/lib\/process\/ProcessTools.java","additions":9,"deletions":14,"binary":false,"changes":23,"status":"modified"}]}
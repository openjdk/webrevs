{"files":[{"patch":"@@ -463,6 +463,1 @@\n-        String testThreadFactoryName = System.getProperty(\"test.thread.factory\");\n-        if (testThreadFactoryName != null) {\n-            args.addAll(addTestThreadFactoryArgs(testThreadFactoryName, Arrays.asList(command)));\n-        } else {\n-            Collections.addAll(args, command);\n-        }\n+        Collections.addAll(args, command);\n@@ -521,1 +516,6 @@\n-        return createJavaProcessBuilder(Utils.prependTestJavaOpts(command));\n+        List<String> additionalArgs = Arrays.asList(Utils.prependTestJavaOpts(command));\n+        String testThreadFactoryName = System.getProperty(\"test.thread.factory\");\n+        if (testThreadFactoryName != null) {\n+            additionalArgs = addTestThreadFactoryArgs(testThreadFactoryName, additionalArgs);\n+        }\n+        return createJavaProcessBuilder(additionalArgs.toArray(String[]::new));\n","filename":"test\/lib\/jdk\/test\/lib\/process\/ProcessTools.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -324,12 +324,3 @@\n-                if (pf != NULL) {\n-                    if (slowPath) {\n-                        jint tmph = sh;\n-                        while (tmph > 0) {\n-                            j2d_glTexSubImage2D(GL_TEXTURE_2D, 0,\n-                                            0, sh - tmph, sw, 1,\n-                                            pf->format, pf->type,\n-                                            pSrc);\n-                            pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n-                            tmph--;\n-                        }\n-                    } else {\n+                if (slowPath) {\n+                    jint tmph = sh;\n+                    while (tmph > 0) {\n@@ -337,1 +328,1 @@\n-                                            0, 0, sw, sh,\n+                                            0, sh - tmph, sw, 1,\n@@ -340,0 +331,2 @@\n+                        pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n+                        tmph--;\n@@ -341,0 +334,5 @@\n+                } else {\n+                    j2d_glTexSubImage2D(GL_TEXTURE_2D, 0,\n+                                        0, 0, sw, sh,\n+                                        pf->format, pf->type,\n+                                        pSrc);\n@@ -343,1 +341,0 @@\n-\n@@ -412,8 +409,7 @@\n-    if (pf != NULL) {\n-        if (srcInfo->scanStride % srcInfo->pixelStride != 0) {\n-            jint width = dx2 - dx1;\n-            jint height = dy2 - dy1;\n-            GLvoid *pSrc = srcInfo->rasBase;\n-\n-            while (height > 0) {\n-                j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n+    if (srcInfo->scanStride % srcInfo->pixelStride != 0) {\n+        jint width = dx2 - dx1;\n+        jint height = dy2 - dy1;\n+        GLvoid *pSrc = srcInfo->rasBase;\n+\n+        while (height > 0) {\n+            j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n@@ -422,7 +418,2 @@\n-                pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n-                height--;\n-            }\n-        } else {\n-            j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n-                                dx1, dy1, dx2-dx1, dy2-dy1,\n-                                pf->format, pf->type, srcInfo->rasBase);\n+            pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n+            height--;\n@@ -430,0 +421,4 @@\n+    } else {\n+        j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n+                            dx1, dy1, dx2-dx1, dy2-dy1,\n+                            pf->format, pf->type, srcInfo->rasBase);\n","filename":"src\/java.desktop\/share\/native\/common\/java2d\/opengl\/OGLBlitLoops.c","additions":24,"deletions":29,"binary":false,"changes":53,"status":"modified"}]}
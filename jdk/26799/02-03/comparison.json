{"files":[{"patch":"@@ -324,5 +324,5 @@\n-                                        if (pf != NULL) {\n-                                                            if (slowPath) {\n-                    jint tmph = sh;\n-                    while (tmph > 0) {\n-                        j2d_glTexSubImage2D(GL_TEXTURE_2D, 0,\n+                if (pf != NULL) {\n+                    if (slowPath) {\n+                        jint tmph = sh;\n+                        while (tmph > 0) {\n+                            j2d_glTexSubImage2D(GL_TEXTURE_2D, 0,\n@@ -332,2 +332,8 @@\n-                        pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n-                        tmph--;\n+                            pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n+                            tmph--;\n+                        }\n+                    } else {\n+                        j2d_glTexSubImage2D(GL_TEXTURE_2D, 0,\n+                                            0, 0, sw, sh,\n+                                            pf->format, pf->type,\n+                                            pSrc);\n@@ -335,5 +341,0 @@\n-                } else {\n-                    j2d_glTexSubImage2D(GL_TEXTURE_2D, 0,\n-                                        0, 0, sw, sh,\n-                                        pf->format, pf->type,\n-                                        pSrc);\n@@ -341,1 +342,0 @@\n-                                        }\n@@ -413,4 +413,4 @@\n-            if (srcInfo->scanStride % srcInfo->pixelStride != 0) {\n-        jint width = dx2 - dx1;\n-        jint height = dy2 - dy1;\n-        GLvoid *pSrc = srcInfo->rasBase;\n+        if (srcInfo->scanStride % srcInfo->pixelStride != 0) {\n+            jint width = dx2 - dx1;\n+            jint height = dy2 - dy1;\n+            GLvoid *pSrc = srcInfo->rasBase;\n@@ -418,2 +418,2 @@\n-        while (height > 0) {\n-            j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n+            while (height > 0) {\n+                j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n@@ -422,2 +422,7 @@\n-            pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n-            height--;\n+                pSrc = PtrAddBytes(pSrc, srcInfo->scanStride);\n+                height--;\n+            }\n+        } else {\n+            j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n+                                dx1, dy1, dx2-dx1, dy2-dy1,\n+                                pf->format, pf->type, srcInfo->rasBase);\n@@ -425,5 +430,0 @@\n-    } else {\n-        j2d_glTexSubImage2D(dstOps->textureTarget, 0,\n-                            dx1, dy1, dx2-dx1, dy2-dy1,\n-                            pf->format, pf->type, srcInfo->rasBase);\n-    }\n","filename":"src\/java.desktop\/share\/native\/common\/java2d\/opengl\/OGLBlitLoops.c","additions":26,"deletions":26,"binary":false,"changes":52,"status":"modified"}]}
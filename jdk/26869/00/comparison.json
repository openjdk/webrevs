{"files":[{"patch":"@@ -925,2 +925,4 @@\n-        printConstructor2(out, event, empty);\n-        printCommitMethod(out, event, empty);\n+        if (!event.fields.isEmpty()) {\n+            printConstructor2(out, event, empty);\n+            printCommitMethod(out, event, empty);\n+        }\n","filename":"make\/src\/classes\/build\/tools\/jfr\/GenerateJfrFiles.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -43,0 +43,6 @@\n+       void bar(char* text) {\n+         EventText event;\n+         event.set_text(text);\n+         event.commit();\n+       }\n+\n@@ -47,0 +53,5 @@\n+       $ jfr query 'SELECT text, COUNT(text) FROM Text GROUP BY text ORDER BY text ASC' dump.jfr\n+       $ jfr query 'SELECT COUNT(duration), AVG(duration), MEDIAN(duration), P90(duration),\n+                    P99(duration), P999(duration) FROM Duration' dump.jfr\n+\n+       The 'jfr query' command is only available in debug builds.\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"}]}
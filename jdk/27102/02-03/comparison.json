{"files":[{"patch":"@@ -4057,1 +4057,1 @@\n-                maximumShift = 32;\n+                maximumShift = 0x1f;\n@@ -4061,1 +4061,1 @@\n-                maximumShift = 64;\n+                maximumShift = 0x3f;\n@@ -4068,2 +4068,2 @@\n-            int actualShift = (int)specifiedShift & (maximumShift - 1);\n-            if (specifiedShift != actualShift) {\n+            if (specifiedShift > maximumShift || specifiedShift < -maximumShift) {\n+                int actualShift = (int)specifiedShift & (maximumShift - 1);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -510,1 +510,1 @@\n-        int sign = (diff >> 31);\n+        int sign = (diff >> -1);\n","filename":"src\/jdk.incubator.vector\/share\/classes\/jdk\/incubator\/vector\/AbstractSpecies.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -487,1 +487,1 @@\n-        int sign = (diff >> 31);\n+        int sign = (diff >> -1);\n","filename":"src\/jdk.incubator.vector\/share\/classes\/jdk\/incubator\/vector\/AbstractVector.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -14,6 +14,6 @@\n-        a = a << (byte)-1;\n-        a = a >> (char)-1;\n-        a = a >>> (short)-1;\n-        a <<= -1;\n-        a >>= -1L;          \/\/ also generates \"implicit cast from long to int in compound assignment is possibly lossy\"\n-        a >>>= (byte)-1;\n+        a = a << (byte)-32;\n+        a = a >> (short)-32;\n+        a = a >>> -32;\n+        a <<= -32L;\n+        a >>= (byte)-32;\n+        a >>>= (short)-32;\n@@ -22,0 +22,6 @@\n+        a = a << (byte)-31;\n+        a = a >> (short)-23;\n+        a = a >>> -17;\n+        a <<= -13L;\n+        a >>= (byte)-1;\n+        a >>>= (short)0;\n@@ -26,1 +32,1 @@\n-        a >>= (long)23;     \/\/ also generates \"implicit cast from long to int in compound assignment is possibly lossy\"\n+        a >>= (long)23;\n@@ -37,1 +43,1 @@\n-        a >>= (long)32;     \/\/ also generates \"implicit cast from long to int in compound assignment is possibly lossy\"\n+        a >>= (long)32;\n@@ -45,6 +51,6 @@\n-        a = a << (byte)-1;\n-        a = a >> (char)-1;\n-        a = a >>> (short)-1;\n-        a <<= -1;\n-        a >>= -1L;\n-        a >>>= (byte)-1;\n+        a = a << (byte)-64;\n+        a = a >> (short)-64;\n+        a = a >>> -64;\n+        a <<= -64L;\n+        a >>= (byte)-64L;\n+        a >>>= (short)-64;\n@@ -53,0 +59,6 @@\n+        a = a << (byte)-63;\n+        a = a >> (short)-47;\n+        a = a >>> -34;\n+        a <<= -25L;\n+        a >>= (byte)-15;\n+        a >>>= (short)0;\n","filename":"test\/langtools\/tools\/javac\/lint\/ShiftOutOfRange.java","additions":26,"deletions":14,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -1,28 +1,29 @@\n-ShiftOutOfRange.java:14:18: compiler.warn.bit.shift.out.of.range: int, -1, 31\n-ShiftOutOfRange.java:15:18: compiler.warn.bit.shift.out.of.range: int, 65535, 31\n-ShiftOutOfRange.java:16:19: compiler.warn.bit.shift.out.of.range: int, -1, 31\n-ShiftOutOfRange.java:17:15: compiler.warn.bit.shift.out.of.range: int, -1, 31\n-ShiftOutOfRange.java:18:15: compiler.warn.possible.loss.of.precision: long, int\n-ShiftOutOfRange.java:18:15: compiler.warn.bit.shift.out.of.range: int, -1, 31\n-ShiftOutOfRange.java:19:16: compiler.warn.bit.shift.out.of.range: int, -1, 31\n-ShiftOutOfRange.java:26:15: compiler.warn.possible.loss.of.precision: long, int\n-ShiftOutOfRange.java:33:18: compiler.warn.bit.shift.out.of.range: int, 32, 0\n-ShiftOutOfRange.java:34:18: compiler.warn.bit.shift.out.of.range: int, 32, 0\n-ShiftOutOfRange.java:35:19: compiler.warn.bit.shift.out.of.range: int, 32, 0\n-ShiftOutOfRange.java:36:15: compiler.warn.bit.shift.out.of.range: int, 32, 0\n-ShiftOutOfRange.java:37:15: compiler.warn.possible.loss.of.precision: long, int\n-ShiftOutOfRange.java:37:15: compiler.warn.bit.shift.out.of.range: int, 32, 0\n-ShiftOutOfRange.java:38:16: compiler.warn.bit.shift.out.of.range: int, 32, 0\n-ShiftOutOfRange.java:45:18: compiler.warn.bit.shift.out.of.range: long, -1, 63\n-ShiftOutOfRange.java:46:18: compiler.warn.bit.shift.out.of.range: long, 65535, 63\n-ShiftOutOfRange.java:47:19: compiler.warn.bit.shift.out.of.range: long, -1, 63\n-ShiftOutOfRange.java:48:15: compiler.warn.bit.shift.out.of.range: long, -1, 63\n-ShiftOutOfRange.java:49:15: compiler.warn.bit.shift.out.of.range: long, -1, 63\n-ShiftOutOfRange.java:50:16: compiler.warn.bit.shift.out.of.range: long, -1, 63\n-ShiftOutOfRange.java:64:18: compiler.warn.bit.shift.out.of.range: long, 64, 0\n-ShiftOutOfRange.java:65:18: compiler.warn.bit.shift.out.of.range: long, 64, 0\n-ShiftOutOfRange.java:66:19: compiler.warn.bit.shift.out.of.range: long, 64, 0\n-ShiftOutOfRange.java:67:15: compiler.warn.bit.shift.out.of.range: long, 64, 0\n-ShiftOutOfRange.java:68:15: compiler.warn.bit.shift.out.of.range: long, 64, 0\n-ShiftOutOfRange.java:69:16: compiler.warn.bit.shift.out.of.range: long, 64, 0\n-27 warnings\n+ShiftOutOfRange.java:14:18: compiler.warn.bit.shift.out.of.range: int, -32, 0\n+ShiftOutOfRange.java:15:18: compiler.warn.bit.shift.out.of.range: int, -32, 0\n+ShiftOutOfRange.java:16:19: compiler.warn.bit.shift.out.of.range: int, -32, 0\n+ShiftOutOfRange.java:17:15: compiler.warn.possible.loss.of.precision: long, int\n+ShiftOutOfRange.java:17:15: compiler.warn.bit.shift.out.of.range: int, -32, 0\n+ShiftOutOfRange.java:18:15: compiler.warn.bit.shift.out.of.range: int, -32, 0\n+ShiftOutOfRange.java:19:16: compiler.warn.bit.shift.out.of.range: int, -32, 0\n+ShiftOutOfRange.java:25:15: compiler.warn.possible.loss.of.precision: long, int\n+ShiftOutOfRange.java:32:15: compiler.warn.possible.loss.of.precision: long, int\n+ShiftOutOfRange.java:39:18: compiler.warn.bit.shift.out.of.range: int, 32, 0\n+ShiftOutOfRange.java:40:18: compiler.warn.bit.shift.out.of.range: int, 32, 0\n+ShiftOutOfRange.java:41:19: compiler.warn.bit.shift.out.of.range: int, 32, 0\n+ShiftOutOfRange.java:42:15: compiler.warn.bit.shift.out.of.range: int, 32, 0\n+ShiftOutOfRange.java:43:15: compiler.warn.possible.loss.of.precision: long, int\n+ShiftOutOfRange.java:43:15: compiler.warn.bit.shift.out.of.range: int, 32, 0\n+ShiftOutOfRange.java:44:16: compiler.warn.bit.shift.out.of.range: int, 32, 0\n+ShiftOutOfRange.java:51:18: compiler.warn.bit.shift.out.of.range: long, -64, 0\n+ShiftOutOfRange.java:52:18: compiler.warn.bit.shift.out.of.range: long, -64, 0\n+ShiftOutOfRange.java:53:19: compiler.warn.bit.shift.out.of.range: long, -64, 0\n+ShiftOutOfRange.java:54:15: compiler.warn.bit.shift.out.of.range: long, -64, 0\n+ShiftOutOfRange.java:55:15: compiler.warn.bit.shift.out.of.range: long, -64, 0\n+ShiftOutOfRange.java:56:16: compiler.warn.bit.shift.out.of.range: long, -64, 0\n+ShiftOutOfRange.java:76:18: compiler.warn.bit.shift.out.of.range: long, 64, 0\n+ShiftOutOfRange.java:77:18: compiler.warn.bit.shift.out.of.range: long, 64, 0\n+ShiftOutOfRange.java:78:19: compiler.warn.bit.shift.out.of.range: long, 64, 0\n+ShiftOutOfRange.java:79:15: compiler.warn.bit.shift.out.of.range: long, 64, 0\n+ShiftOutOfRange.java:80:15: compiler.warn.bit.shift.out.of.range: long, 64, 0\n+ShiftOutOfRange.java:81:16: compiler.warn.bit.shift.out.of.range: long, 64, 0\n+28 warnings\n","filename":"test\/langtools\/tools\/javac\/lint\/ShiftOutOfRange.out","additions":29,"deletions":28,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,0 @@\n-    @SuppressWarnings(\"lossy-conversions\")\n@@ -71,1 +70,0 @@\n-    @SuppressWarnings(\"lossy-conversions\")\n@@ -82,1 +80,0 @@\n-    @SuppressWarnings(\"lossy-conversions\")\n@@ -93,1 +90,0 @@\n-    @SuppressWarnings(\"lossy-conversions\")\n@@ -104,1 +100,0 @@\n-    @SuppressWarnings(\"lossy-conversions\")\n","filename":"test\/micro\/org\/openjdk\/bench\/vm\/compiler\/Rotation.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"}]}
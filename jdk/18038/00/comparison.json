{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -314,1 +314,1 @@\n-            if (TestUtil.supportsLinks(testdir)) {\n+            if (TestUtil.supportsHardLinks(testdir)) {\n","filename":"test\/jdk\/java\/nio\/file\/Files\/CheckPermissions.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -225,0 +225,4 @@\n+            }\n+\n+            if (TestUtil.supportsHardLinks(tmpdir)) {\n+                Path link = tmpdir.resolve(\"hardlink\");\n@@ -237,1 +241,0 @@\n-\n","filename":"test\/jdk\/java\/nio\/file\/Files\/Misc.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -118,0 +118,17 @@\n+\n+    \/**\n+     * Returns true if hard links are supported\n+     *\/\n+    static boolean supportsHardLinks(Path dir) {\n+        Path link = dir.resolve(\"testlink\");\n+        Path target = dir.resolve(\"testtarget\");\n+        try {\n+            Files.createLink(link, target);\n+            Files.delete(link);\n+            return true;\n+        } catch (UnsupportedOperationException x) {\n+            return false;\n+        } catch (IOException x) {\n+            return false;\n+        }\n+    }\n","filename":"test\/jdk\/java\/nio\/file\/TestUtil.java","additions":18,"deletions":1,"binary":false,"changes":19,"status":"modified"}]}
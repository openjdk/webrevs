{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -63,1 +62,1 @@\n-  for (uint32_t seqnum = AtomicAccess::load_acquire(&_seqnum);\n+  for (uint32_t seqnum = _seqnum.load_acquire();\n@@ -65,1 +64,1 @@\n-       seqnum = AtomicAccess::load_acquire(&_seqnum)) {\n+       seqnum = _seqnum.load_acquire()) {\n@@ -69,1 +68,1 @@\n-      if (AtomicAccess::cmpxchg(&_seqnum, seqnum, seqnum_initializing) == seqnum) {\n+      if (_seqnum.compare_set(seqnum, seqnum_initializing)) {\n@@ -73,2 +72,2 @@\n-        _live_bytes = 0;\n-        _live_objects = 0;\n+        _live_bytes.store_relaxed(0u);\n+        _live_objects.store_relaxed(0u);\n@@ -84,1 +83,1 @@\n-        assert(_seqnum == seqnum_initializing, \"Invalid\");\n+        assert(_seqnum.load_relaxed() == seqnum_initializing, \"Invalid\");\n@@ -90,1 +89,1 @@\n-        AtomicAccess::release_store(&_seqnum, generation->seqnum());\n+        _seqnum.release_store(generation->seqnum());\n","filename":"src\/hotspot\/share\/gc\/z\/zLiveMap.cpp","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -44,3 +45,3 @@\n-  volatile uint32_t _seqnum;\n-  volatile uint32_t _live_objects;\n-  volatile size_t   _live_bytes;\n+  Atomic<uint32_t>  _seqnum;\n+  Atomic<uint32_t>  _live_objects;\n+  Atomic<size_t>    _live_bytes;\n","filename":"src\/hotspot\/share\/gc\/z\/zLiveMap.hpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -39,1 +38,1 @@\n-  _seqnum = 0;\n+  _seqnum.store_relaxed(0u);\n@@ -43,1 +42,1 @@\n-  return AtomicAccess::load_acquire(&_seqnum) == ZGeneration::generation(id)->seqnum();\n+  return _seqnum.load_acquire() == ZGeneration::generation(id)->seqnum();\n@@ -47,1 +46,1 @@\n-  return _live_objects;\n+  return _live_objects.load_relaxed();\n@@ -51,1 +50,1 @@\n-  return _live_bytes;\n+  return _live_bytes.load_relaxed();\n@@ -119,2 +118,2 @@\n-  AtomicAccess::add(&_live_objects, objects);\n-  AtomicAccess::add(&_live_bytes, bytes);\n+  _live_objects.add_then_fetch(objects);\n+  _live_bytes.add_then_fetch(bytes);\n","filename":"src\/hotspot\/share\/gc\/z\/zLiveMap.inline.hpp","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"}]}
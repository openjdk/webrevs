{"files":[{"patch":"@@ -995,4 +995,5 @@\n-  \/\/ Closure to make sure that the marking bitmap is clear for any old region in\n-  \/\/ the collection set.\n-  \/\/ This is needed to be able to use the bitmap for evacuation failure handling.\n-  class G1ClearBitmapClosure : public G1HeapRegionClosure {\n+  \/\/ Closure to prepare the collection set regions for evacuation failure, i.e. make\n+  \/\/ sure that the mark bitmap is clear for any old region in the collection set.\n+  \/\/\n+  \/\/ These mark bitmaps record the evacuation failed objects.\n+  class G1PrepareRegionsForEvacFailClosure : public G1HeapRegionClosure {\n@@ -1032,1 +1033,1 @@\n-    G1ClearBitmapClosure(G1CollectedHeap* g1h, G1RemSetScanState* scan_state, bool initial_evacuation) :\n+    G1PrepareRegionsForEvacFailClosure(G1CollectedHeap* g1h, G1RemSetScanState* scan_state, bool initial_evacuation) :\n@@ -1181,2 +1182,2 @@\n-      G1ClearBitmapClosure clear(g1h, _scan_state, _initial_evacuation);\n-      g1h->collection_set_iterate_increment_from(&clear, &_hr_claimer, worker_id);\n+      G1PrepareRegionsForEvacFailClosure prepare_evac_failure(g1h, _scan_state, _initial_evacuation);\n+      g1h->collection_set_iterate_increment_from(&prepare_evac_failure, &_hr_claimer, worker_id);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -270,1 +270,1 @@\n-                ((ReusableLog)Log.instance(this)).clear();\n+                Log.instance(this).clear();\n@@ -398,5 +398,3 @@\n-            void clear() {\n-                recorded.clear();\n-                sourceMap.clear();\n-                nerrors = 0;\n-                nwarnings = 0;\n+            @Override\n+            public void clear() {\n+                super.clear();\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/api\/JavacTaskPool.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -364,3 +364,8 @@\n-                    Type t = attr.attribType(dcReference.qualifierExpression, env);\n-                    if (t != null && !t.isErroneous()) {\n-                        return t;\n+                    JavaFileObject prevSource = log.useSource(env.toplevel.sourcefile);\n+                    try {\n+                        Type t = attr.attribType(dcReference.qualifierExpression, env);\n+                        if (t != null && !t.isErroneous()) {\n+                            return t;\n+                        }\n+                    } finally {\n+                        log.useSource(prevSource);\n@@ -393,0 +398,1 @@\n+        JavaFileObject prevSource = log.useSource(env.toplevel.sourcefile);\n@@ -514,0 +520,1 @@\n+            log.useSource(prevSource);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/api\/JavacTrees.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -692,0 +692,12 @@\n+    \/**\n+     * Reset the state of this instance.\n+     *\/\n+    public void clear() {\n+        recorded.clear();\n+        sourceMap.clear();\n+        nerrors = 0;\n+        nwarnings = 0;\n+        nsuppressederrors = 0;\n+        nsuppressedwarns = 0;\n+    }\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/util\/Log.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,1 @@\n-import sun.awt.util.ThreadGroupUtils;\n-\n+import java.lang.ref.PhantomReference;\n@@ -32,1 +31,0 @@\n-import java.lang.ref.PhantomReference;\n@@ -37,0 +35,2 @@\n+import sun.awt.util.ThreadGroupUtils;\n+\n@@ -57,4 +57,1 @@\n-    private static Disposer disposerInstance;\n-    public static final int WEAK = 0;\n-    public static final int PHANTOM = 1;\n-    public static int refType = PHANTOM;\n+    private static final Disposer disposerInstance;\n@@ -65,10 +62,0 @@\n-        String type = System.getProperty(\"sun.java2d.reftype\");\n-        if (type != null) {\n-            if (type.equals(\"weak\")) {\n-                refType = WEAK;\n-                System.err.println(\"Using WEAK refs\");\n-            } else {\n-                refType = PHANTOM;\n-                System.err.println(\"Using PHANTOM refs\");\n-            }\n-        }\n@@ -121,7 +108,1 @@\n-        java.lang.ref.Reference<Object> ref;\n-        if (refType == PHANTOM) {\n-            ref = new PhantomReference<>(target, queue);\n-        } else {\n-            ref = new WeakReference<>(target, queue);\n-        }\n-        records.put(ref, rec);\n+        records.put(new PhantomReference<>(target, queue), rec);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/Disposer.java","additions":6,"deletions":25,"binary":false,"changes":31,"status":"modified"}]}
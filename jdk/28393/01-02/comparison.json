{"files":[{"patch":"@@ -633,9 +633,2 @@\n-#ifdef ASSERT\n-  {\n-    \/\/ Java threads shouldn't be in native-state when calling this API.\n-    if (Thread::current()->is_Java_thread()) {\n-      JavaThread* thread = JavaThread::current();\n-      assert(thread->thread_state() != _thread_in_native, \"precondition\");\n-    }\n-  }\n-#endif\n+  \/\/ precondition\n+  DEBUG_ONLY(verify_not_in_native_if_java_thread();)\n@@ -815,0 +808,7 @@\n+\n+void SerialHeap::verify_not_in_native_if_java_thread() {\n+  if (Thread::current()->is_Java_thread()) {\n+    JavaThread* thread = JavaThread::current();\n+    assert(thread->thread_state() != _thread_in_native, \"precondition\");\n+  }\n+}\n","filename":"src\/hotspot\/share\/gc\/serial\/serialHeap.cpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -114,0 +114,1 @@\n+  static void verify_not_in_native_if_java_thread();\n","filename":"src\/hotspot\/share\/gc\/serial\/serialHeap.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -2333,1 +2333,1 @@\n-                log.error(Errors.CantAttachTypeAnnotations(attributes, s.owner, s.name, ex.getDetailValue()));\n+                log.warning(Warnings.CantAttachTypeAnnotations(attributes, s.owner, s.name, ex.getDetailValue()));\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassReader.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2468,1 +2468,1 @@\n-compiler.err.cant.attach.type.annotations=\\\n+compiler.warn.cant.attach.type.annotations=\\\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/compiler.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8337998\n+ * @bug 8337998 8370800\n@@ -77,1 +77,1 @@\n-        \/\/ now if we remove A.class there will be an error but javac should not crash\n+        \/\/ now if we remove A.class javac should not crash\n@@ -79,0 +79,1 @@\n+\n@@ -83,1 +84,1 @@\n-                        .options(\"-XDrawDiagnostics\")\n+                        .options(\"-Werror\", \"-XDrawDiagnostics\")\n@@ -91,3 +92,5 @@\n-                        \"B.class:-:-: compiler.err.cant.attach.type.annotations: @Anno, B, a,\"\n-                            + \" (compiler.misc.class.file.not.found: A)\",\n-                        \"1 error\");\n+                        \"B.class:-:-: compiler.warn.cant.attach.type.annotations: @Anno, B, a,\"\n+                                + \" (compiler.misc.class.file.not.found: A)\",\n+                        \"- compiler.err.warnings.and.werror\",\n+                        \"1 error\",\n+                        \"1 warning\");\n","filename":"test\/langtools\/tools\/javac\/annotations\/typeAnnotations\/CompletionErrorOnEnclosingType.java","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"}]}
{"files":[{"patch":"@@ -163,1 +163,4 @@\n-  int i = lgrp_spaces()->find(&lgrp_id, LGRPSpace::equals);\n+  int i = lgrp_spaces()->find_if([&](LGRPSpace* space) {\n+    return space->lgrp_id() == (uint)lgrp_id;\n+  });\n+\n@@ -182,1 +185,3 @@\n-  int i = lgrp_spaces()->find(&lgrp_id, LGRPSpace::equals);\n+  int i = lgrp_spaces()->find_if([&](LGRPSpace* space) {\n+    return space->lgrp_id() == (uint)lgrp_id;\n+  });\n@@ -202,1 +207,3 @@\n-  int i = lgrp_spaces()->find(&lgrp_id, LGRPSpace::equals);\n+  int i = lgrp_spaces()->find_if([&](LGRPSpace* space) {\n+    return space->lgrp_id() == (uint)lgrp_id;\n+  });\n@@ -585,2 +592,3 @@\n-\n-  int i = lgrp_spaces()->find(&lgrp_id, LGRPSpace::equals);\n+  int i = lgrp_spaces()->find_if([&](LGRPSpace* space) {\n+    return space->lgrp_id() == (uint)lgrp_id;\n+  });\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableNUMASpace.cpp","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -99,2 +99,2 @@\n-    static bool equals(void* lgrp_id_value, LGRPSpace* p) {\n-      return *(uint*)lgrp_id_value == p->lgrp_id();\n+    static bool equals(uint* lgrp_id_value, LGRPSpace* const& p) {\n+      return *lgrp_id_value == p->lgrp_id();\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableNUMASpace.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -122,2 +122,1 @@\n-bool GrowableCache::equals(void* v, GrowableElement *e2) {\n-  GrowableElement *e1 = (GrowableElement *) v;\n+bool GrowableCache::equals(GrowableElement* e1, GrowableElement* const& e2) {\n@@ -167,1 +166,1 @@\n-  return _elements->find(e, GrowableCache::equals);\n+  return _elements->find_if([&](GrowableElement* other_e) { return e->equals(other_e); });\n","filename":"src\/hotspot\/share\/prims\/jvmtiImpl.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -69,3 +69,3 @@\n-  virtual address getCacheValue()          =0;\n-  virtual bool equals(GrowableElement* e)  =0;\n-  virtual GrowableElement *clone()         =0;\n+  virtual address getCacheValue()                =0;\n+  virtual bool equals(const GrowableElement* e)  =0;\n+  virtual GrowableElement *clone()               =0;\n@@ -91,1 +91,1 @@\n-  static bool equals(void *, GrowableElement *);\n+  static bool equals(GrowableElement*, GrowableElement* const&);\n@@ -180,1 +180,1 @@\n-  bool equals(GrowableElement* e) { return equals((JvmtiBreakpoint&) *e); }\n+  bool equals(const GrowableElement* e) { return equals((JvmtiBreakpoint&) *e); }\n","filename":"src\/hotspot\/share\/prims\/jvmtiImpl.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -504,8 +504,0 @@\n-bool PerfDataList::by_name(void* name, PerfData* pd) {\n-\n-  if (pd == nullptr)\n-    return false;\n-\n-  return strcmp((const char*)name, pd->name()) == 0;\n-}\n-\n@@ -513,2 +505,6 @@\n-\n-  int i = _set->find((void*)name, PerfDataList::by_name);\n+  auto name_predicate = [&](PerfData* pd) {\n+    if (pd == nullptr)\n+      return false;\n+    return strcmp((const char*)name, pd->name()) == 0;\n+  };\n+  int i = _set->find_if(name_predicate);\n","filename":"src\/hotspot\/share\/runtime\/perfData.cpp","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -578,3 +578,0 @@\n-    \/\/ method to search for a instrumentation object by name\n-    static bool by_name(void* name, PerfData* pd);\n-\n","filename":"src\/hotspot\/share\/runtime\/perfData.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -75,2 +75,2 @@\n-bool match_oop_entry(void *op, UnhandledOopEntry e) {\n-  return (e.oop_ptr() == op);\n+bool match_oop_entry(oop *op, const UnhandledOopEntry& e) {\n+  return (const_cast<UnhandledOopEntry&>(e).oop_ptr() == op);\n@@ -86,1 +86,4 @@\n-  int i = _oop_list->find_from_end(op, match_oop_entry);\n+  auto predicate = [&](const UnhandledOopEntry& e) {\n+    return (const_cast<UnhandledOopEntry&>(e).oop_ptr() == op);\n+  };\n+  int i = _oop_list->find_from_end_if(predicate);\n@@ -107,2 +110,4 @@\n-\n-  int i = _oop_list->find_from_end(op, match_oop_entry);\n+  auto predicate = [&](const UnhandledOopEntry& e) {\n+    return (const_cast<UnhandledOopEntry&>(e).oop_ptr() == op);\n+  };\n+  int i = _oop_list->find_from_end_if(predicate);\n","filename":"src\/hotspot\/share\/runtime\/unhandledOops.cpp","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -147,5 +147,0 @@\n-bool DCmdInfo::by_name(void* cmd_name, DCmdInfo* info) {\n-  if (info == nullptr) return false;\n-  return strcmp((const char*)cmd_name, info->name()) == 0;\n-}\n-\n","filename":"src\/hotspot\/share\/services\/diagnosticFramework.cpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -149,1 +149,0 @@\n-  static bool by_name(void* name, DCmdInfo* info);\n","filename":"src\/hotspot\/share\/services\/diagnosticFramework.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2007,1 +2007,5 @@\n-    int pos = info_list->find((void*)cmd_name,DCmdInfo::by_name);\n+    auto name_predicate = [&](DCmdInfo* info) {\n+        if (info == nullptr) return false;\n+        return strcmp((const char*)cmd_name, info->name()) == 0;\n+    };\n+    int pos = info_list->find_if(name_predicate);\n","filename":"src\/hotspot\/share\/services\/management.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -212,1 +212,2 @@\n-  int  find(void* token, bool f(void*, E)) const {\n+  template<typename F>\n+  int find_if(F f) const {\n@@ -214,1 +215,1 @@\n-      if (f(token, _data[i])) return i;\n+      if (f(_data[i])) return i;\n@@ -219,1 +220,2 @@\n-  int  find_from_end(void* token, bool f(void*, E)) const {\n+  template<typename F>\n+  int find_from_end_if(F f) const {\n@@ -222,1 +224,1 @@\n-      if (f(token, _data[i])) return i;\n+      if (f(_data[i])) return i;\n","filename":"src\/hotspot\/share\/utilities\/growableArray.hpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm CanAccessTest\n+ * @run junit\/othervm CanAccessTest\n@@ -37,2 +37,2 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n@@ -40,1 +40,0 @@\n-@Test\n@@ -47,0 +46,1 @@\n+    @Test\n@@ -52,5 +52,2 @@\n-        try {\n-            \/\/ non-null object parameter\n-            ctor.canAccess(INSTANCE);\n-            assertTrue(false);\n-        } catch (IllegalArgumentException expected) {}\n+        \/\/ non-null object parameter\n+        assertThrows(IllegalArgumentException.class, () -> ctor.canAccess(INSTANCE));\n@@ -62,0 +59,1 @@\n+    @Test\n@@ -72,0 +70,1 @@\n+    @Test\n@@ -77,5 +76,2 @@\n-        try {\n-            \/\/ non-null object parameter\n-            m.canAccess(INSTANCE);\n-            assertTrue(false);\n-        } catch (IllegalArgumentException expected) { }\n+        \/\/ non-null object parameter\n+        assertThrows(IllegalArgumentException.class, () -> m.canAccess(INSTANCE));\n@@ -87,0 +83,1 @@\n+    @Test\n@@ -96,0 +93,1 @@\n+    @Test\n@@ -100,4 +98,1 @@\n-        try {\n-            m.canAccess(null);\n-            assertTrue(false);\n-        } catch (IllegalArgumentException expected) { }\n+        assertThrows(IllegalArgumentException.class, () -> m.canAccess(null));\n@@ -110,0 +105,1 @@\n+    @Test\n@@ -114,4 +110,1 @@\n-        try {\n-            m.canAccess(INSTANCE);\n-            assertTrue(false);\n-        } catch (IllegalArgumentException expected) { }\n+        assertThrows(IllegalArgumentException.class, () -> m.canAccess(INSTANCE));\n","filename":"test\/jdk\/java\/lang\/reflect\/AccessibleObject\/CanAccessTest.java","additions":17,"deletions":24,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm ModuleSetAccessibleTest\n+ * @run junit\/othervm ModuleSetAccessibleTest\n@@ -43,2 +43,2 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n@@ -46,1 +46,0 @@\n-@Test\n@@ -52,0 +51,1 @@\n+    @Test\n@@ -55,4 +55,1 @@\n-        try {\n-            ctor.newInstance();\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> ctor.newInstance());\n@@ -68,0 +65,1 @@\n+    @Test\n@@ -70,4 +68,1 @@\n-        try {\n-            m.invoke(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> m.invoke(null));\n@@ -76,7 +71,4 @@\n-        try {\n-            m.invoke(null);\n-            assertTrue(false);\n-        } catch (InvocationTargetException e) {\n-            \/\/ thrown by throwIllegalAccessError\n-            assertTrue(e.getCause() instanceof IllegalAccessError);\n-        }\n+        InvocationTargetException e = assertThrows(InvocationTargetException.class, () ->\n+                m.invoke(null));\n+        \/\/ thrown by throwIllegalAccessError\n+        assertInstanceOf(IllegalAccessError.class, e.getCause());\n@@ -89,0 +81,1 @@\n+    @Test\n@@ -91,5 +84,1 @@\n-\n-        try {\n-            f.get(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> f.get(null));\n@@ -105,0 +94,1 @@\n+    @Test\n@@ -109,4 +99,1 @@\n-        try {\n-            ctor.newInstance(\"cn=duke\");\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> ctor.newInstance(\"cn=duke\"));\n@@ -114,4 +101,1 @@\n-        try {\n-            ctor.setAccessible(true);\n-            assertTrue(false);\n-        } catch (InaccessibleObjectException expected) { }\n+        assertThrows(InaccessibleObjectException.class, () -> ctor.setAccessible(true));\n@@ -126,0 +110,1 @@\n+    @Test\n@@ -130,4 +115,1 @@\n-        try {\n-            f.get(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> f.get(null));\n@@ -135,4 +117,1 @@\n-        try {\n-            f.setAccessible(true);\n-            assertTrue(false);\n-        } catch (InaccessibleObjectException expected) { }\n+        assertThrows(InaccessibleObjectException.class, () -> f.setAccessible(true));\n@@ -147,0 +126,1 @@\n+    @Test\n@@ -155,9 +135,2 @@\n-        try {\n-            ctor.setAccessible(true);\n-            assertTrue(false);\n-        } catch (SecurityException expected) { }\n-\n-        try {\n-            AccessibleObject.setAccessible(ctors, true);\n-            assertTrue(false);\n-        } catch (SecurityException expected) { }\n+        assertThrows(SecurityException.class, () -> ctor.setAccessible(true));\n+        assertThrows(SecurityException.class, () -> AccessibleObject.setAccessible(ctors, true));\n","filename":"test\/jdk\/java\/lang\/reflect\/AccessibleObject\/ModuleSetAccessibleTest.java","additions":24,"deletions":51,"binary":false,"changes":75,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -31,1 +31,1 @@\n- * @run testng\/othervm TrySetAccessibleTest\n+ * @run junit\/othervm TrySetAccessibleTest\n@@ -46,2 +46,2 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n@@ -49,1 +49,0 @@\n-@Test\n@@ -54,0 +53,1 @@\n+    @Test\n@@ -57,4 +57,1 @@\n-        try {\n-            ctor.newInstance();\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> ctor.newInstance());\n@@ -69,0 +66,1 @@\n+    @Test\n@@ -72,4 +70,1 @@\n-        try {\n-            ctor.newInstance();\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> ctor.newInstance());\n@@ -85,0 +80,1 @@\n+    @Test\n@@ -87,4 +83,1 @@\n-        try {\n-            m.invoke(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> m.invoke(null));\n@@ -100,0 +93,1 @@\n+    @Test\n@@ -104,4 +98,1 @@\n-        try {\n-            m.invoke(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> m.invoke(null));\n@@ -111,7 +102,4 @@\n-        try {\n-            m.invoke(null);\n-            assertTrue(false);\n-        } catch (InvocationTargetException e) {\n-            \/\/ thrown by throwIllegalAccessError\n-            assertTrue(e.getCause() instanceof IllegalAccessError);\n-        }\n+\n+        InvocationTargetException e = assertThrows(InvocationTargetException.class, () ->\n+                m.invoke(null));\n+        assertInstanceOf(IllegalAccessError.class, e.getCause());\n@@ -123,0 +111,1 @@\n+    @Test\n@@ -125,4 +114,1 @@\n-        try {\n-            f.get(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> f.get(null));\n@@ -132,4 +118,1 @@\n-        try {\n-            f.get(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) {}\n+        assertThrows(IllegalAccessException.class, () -> f.get(null));\n@@ -141,0 +124,1 @@\n+    @Test\n@@ -144,4 +128,1 @@\n-        try {\n-            f.get(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> f.get(null));\n@@ -158,0 +139,1 @@\n+    @Test\n@@ -162,4 +144,1 @@\n-        try {\n-            ctor.newInstance(\"cn=duke\");\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> ctor.newInstance(\"cn=duke\"));\n@@ -169,1 +148,2 @@\n-        assertTrue(ctor.trySetAccessible() == ctor.isAccessible());\n+        assertFalse(ctor.trySetAccessible());\n+        assertFalse(ctor.isAccessible()); \/\/ should match trySetAccessible\n@@ -176,0 +156,1 @@\n+    @Test\n@@ -180,4 +161,1 @@\n-        try {\n-            f.get(null);\n-            assertTrue(false);\n-        } catch (IllegalAccessException expected) { }\n+        assertThrows(IllegalAccessException.class, () -> f.get(null));\n@@ -193,0 +171,1 @@\n+    @Test\n","filename":"test\/jdk\/java\/lang\/reflect\/AccessibleObject\/TrySetAccessibleTest.java","additions":29,"deletions":50,"binary":false,"changes":79,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @run testng\/othervm ChainedReflection\n+ * @run junit\/othervm ChainedReflection\n@@ -36,1 +36,1 @@\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Test;\n@@ -39,1 +39,0 @@\n-    public ChainedReflection() {}\n@@ -41,10 +40,15 @@\n-    ChainedReflection(Void dummy) throws ReflectiveOperationException {\n-        Method m = ChainedReflection.class.getMethod(\"throwNPE\");\n-        try {\n-            m.invoke(null);\n-        } catch (InvocationTargetException e) {\n-            Throwable t = e.getTargetException();\n-            if (t instanceof NullPointerException npe) {\n-                throw npe;\n-            } else {\n-                throw new RuntimeException(\"Test failed (InvocationTargetException didn't wrap NullPointerException)\");\n+    class Inner {\n+        \/\/ JUnit does not allow test class to declare multiple constructors\n+        Inner() throws ReflectiveOperationException {\n+            Method m = ChainedReflection.class.getMethod(\"throwNPE\");\n+            try {\n+                m.invoke(null);\n+            } catch (InvocationTargetException e) {\n+                Throwable t = e.getTargetException();\n+                if (t instanceof NullPointerException npe) {\n+                    throw npe;\n+                } else {\n+                    throw new RuntimeException(\"Test failed (InvocationTargetException didn't wrap NullPointerException)\");\n+                }\n+            } catch (Throwable t) {\n+                throw new RuntimeException(\"Test failed (Unexpected exception)\", t);\n@@ -52,2 +56,0 @@\n-        } catch (Throwable t) {\n-            throw new RuntimeException(\"Test failed (Unexpected exception)\", t);\n@@ -108,1 +110,1 @@\n-        Constructor<?> ctor = ChainedReflection.class.getDeclaredConstructor(Void.class);\n+        Constructor<?> ctor = ChainedReflection.Inner.class.getDeclaredConstructor(ChainedReflection.class);\n@@ -110,1 +112,1 @@\n-            ctor.newInstance((Void)null);\n+            ctor.newInstance(this);\n","filename":"test\/jdk\/java\/lang\/reflect\/ChainedReflection.java","additions":20,"deletions":18,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng FilterNotMostSpecific\n+ * @run junit FilterNotMostSpecific\n@@ -42,4 +42,3 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -49,1 +48,2 @@\n-    @Test(dataProvider=\"getCases\")\n+    @ParameterizedTest\n+    @MethodSource(\"getCases\")\n@@ -70,1 +70,2 @@\n-    @Test(dataProvider=\"getCases\")\n+    @ParameterizedTest\n+    @MethodSource(\"getCases\")\n@@ -87,1 +88,1 @@\n-        assertEquals(foundMethods.size(), expectedMethods.length,\n+        assertEquals(expectedMethods.length, foundMethods.size(),\n@@ -568,2 +569,1 @@\n-    @DataProvider\n-    public Object[][] getCases() { return CASES; }\n+    public static Object[][] getCases() { return CASES; }\n","filename":"test\/jdk\/java\/lang\/reflect\/DefaultMethodMembers\/FilterNotMostSpecific.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng DefaultStaticInvokeTest\n+ * @run junit DefaultStaticInvokeTest\n@@ -43,7 +43,0 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertTrue;\n-import static org.testng.Assert.assertFalse;\n-import static org.testng.Assert.assertNotNull;\n-import static org.testng.Assert.fail;\n-import org.testng.annotations.Test;\n-\n@@ -52,1 +45,1 @@\n-import helper.Mod;\n+import static org.junit.jupiter.api.Assertions.*;\n@@ -54,0 +47,3 @@\n+import helper.Mod;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -58,2 +54,2 @@\n-    @Test(dataProvider = \"testCasesAll\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource({\"DefaultStaticTestData#testClasses\", \"DefaultStaticTestData#testInterfaces\"})\n@@ -67,2 +63,2 @@\n-    @Test(dataProvider = \"testCasesAll\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource({\"DefaultStaticTestData#testClasses\", \"DefaultStaticTestData#testInterfaces\"})\n@@ -76,2 +72,2 @@\n-    @Test(dataProvider = \"testCasesAll\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource({\"DefaultStaticTestData#testClasses\", \"DefaultStaticTestData#testInterfaces\"})\n@@ -94,2 +90,2 @@\n-    @Test(dataProvider = \"testCasesAll\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource({\"DefaultStaticTestData#testClasses\", \"DefaultStaticTestData#testInterfaces\"})\n@@ -127,2 +123,2 @@\n-    @Test(dataProvider = \"testCasesAll\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource({\"DefaultStaticTestData#testClasses\", \"DefaultStaticTestData#testInterfaces\"})\n@@ -144,2 +140,2 @@\n-    @Test(dataProvider = \"testCasesAll\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource({\"DefaultStaticTestData#testClasses\", \"DefaultStaticTestData#testInterfaces\"})\n@@ -172,1 +168,1 @@\n-            assertEquals(result, expectedReturn);\n+            assertEquals(expectedReturn, result);\n@@ -178,2 +174,2 @@\n-    @Test(dataProvider = \"testClasses\",\n-            dataProviderClass = DefaultStaticTestData.class)\n+    @ParameterizedTest\n+    @MethodSource(\"DefaultStaticTestData#testClasses\")\n@@ -192,8 +188,2 @@\n-            Exception caught = null;\n-            try {\n-                getTestMH(typeUnderTest, mName, param, true);\n-            } catch (Exception e) {\n-                caught = e;\n-            }\n-            assertNotNull(caught);\n-            assertEquals(caught.getClass(), IllegalAccessException.class);\n+            assertThrowsExactly(IllegalAccessException.class, () ->\n+                    getTestMH(typeUnderTest, mName, param, true));\n@@ -257,1 +247,1 @@\n-        assertEquals(myMethods.size(), expectedMethods.length);\n+        assertEquals(expectedMethods.length, myMethods.size());\n@@ -287,1 +277,1 @@\n-                assertEquals(tryInvoke(method, null, param), expectedReturn);\n+                assertEquals(expectedReturn, tryInvoke(method, null, param));\n@@ -292,1 +282,1 @@\n-                    assertEquals(tryInvoke(\n+                    assertEquals(expectedReturn, tryInvoke(\n@@ -295,2 +285,1 @@\n-                            param),\n-                            expectedReturn);\n+                            param));\n@@ -305,1 +294,1 @@\n-                assertEquals(tryInvoke(\n+                assertEquals(expectedReturn, tryInvoke(\n@@ -308,2 +297,1 @@\n-                        param),\n-                        expectedReturn);\n+                        param));\n","filename":"test\/jdk\/java\/lang\/reflect\/DefaultStaticTest\/DefaultStaticInvokeTest.java","additions":29,"deletions":41,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+import java.util.ArrayList;\n@@ -33,3 +34,0 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.collections.Lists;\n-\n@@ -382,1 +380,0 @@\n-    @DataProvider\n@@ -411,1 +408,0 @@\n-    @DataProvider\n@@ -441,8 +437,0 @@\n-\n-    @DataProvider\n-    static Object[][] testCasesAll() {\n-        List<Object[]> result = Lists.newArrayList();\n-        result.addAll(Arrays.asList(testClasses()));\n-        result.addAll(Arrays.asList(testInterfaces()));\n-        return result.toArray(new Object[result.size()][]);\n-    }\n","filename":"test\/jdk\/java\/lang\/reflect\/DefaultStaticTest\/DefaultStaticTestData.java","additions":2,"deletions":14,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm --enable-final-field-mutation=ALL-UNNAMED NegativeTest\n+ * @run junit\/othervm --enable-final-field-mutation=ALL-UNNAMED NegativeTest\n@@ -35,3 +35,3 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -170,2 +170,1 @@\n-    @DataProvider(name = \"instanceFields\")\n-    private Object[][] instanceFields() {\n+    private static Object[][] instanceFields() {\n@@ -220,1 +219,2 @@\n-    @Test(dataProvider = \"instanceFields\")\n+    @ParameterizedTest\n+    @MethodSource(\"instanceFields\")\n@@ -234,6 +234,1 @@\n-        try {\n-            f.get(badObj);\n-            fail(\"expected IllegalArgumentException\");\n-        } catch (IllegalArgumentException e) {\n-            \/\/ expected\n-        }\n+        assertThrows(IllegalArgumentException.class, () -> f.get(badObj));\n@@ -242,1 +237,1 @@\n-            try {\n+            assertThrows(IllegalArgumentException.class, () -> {\n@@ -253,4 +248,1 @@\n-                fail(\"expected IllegalArgumentException\");\n-            } catch (IllegalArgumentException e) {\n-                \/\/ expected\n-            }\n+            });\n@@ -265,6 +257,1 @@\n-        try {\n-            f.get(null);\n-            fail(\"expected NullPointerException\");\n-        } catch (NullPointerException e) {\n-            \/\/ expected\n-        }\n+        assertThrows(NullPointerException.class, () -> f.get(null));\n@@ -274,1 +261,1 @@\n-            try {\n+            assertThrows(NullPointerException.class, () -> {\n@@ -285,4 +272,1 @@\n-                fail(\"expected NullPointerException\");\n-            } catch (NullPointerException e) {\n-                \/\/ expected\n-            }\n+            });\n@@ -292,2 +276,1 @@\n-    @DataProvider(name = \"writeableFields\")\n-    private Object[][] writeableFields() {\n+    private static Object[][] writeableFields() {\n@@ -355,1 +338,2 @@\n-    @Test(dataProvider = \"writeableFields\")\n+    @ParameterizedTest\n+    @MethodSource(\"writeableFields\")\n@@ -372,6 +356,1 @@\n-            try {\n-                f.set(obj, null);\n-                fail(\"expected IllegalArgumentException\");\n-            } catch (IllegalArgumentException e) {\n-                \/\/ expected\n-            }\n+            assertThrows(IllegalArgumentException.class, () -> f.set(obj, null));\n@@ -381,6 +360,1 @@\n-        try {\n-            f.set(obj, badValue);\n-            fail(\"expected IllegalArgumentException\");\n-        } catch (IllegalArgumentException e) {\n-            \/\/ expected\n-        }\n+        assertThrows(IllegalArgumentException.class, () -> f.set(obj, badValue));\n@@ -389,2 +363,1 @@\n-    @DataProvider(name = \"readOnlyFinalFields\")\n-    private Object[][] readOnlyFinalFields() {\n+    private static Object[][] readOnlyFinalFields() {\n@@ -430,1 +403,2 @@\n-    @Test(dataProvider = \"readOnlyFinalFields\")\n+    @ParameterizedTest\n+    @MethodSource(\"readOnlyFinalFields\")\n@@ -433,6 +407,1 @@\n-        try {\n-            f.set(obj, value);\n-            fail(\"expected IllegalAccessException\");\n-        } catch (IllegalAccessException e) {\n-            \/\/ expected\n-        }\n+        assertThrows(IllegalAccessException.class, () -> f.set(obj, value));\n@@ -442,1 +411,1 @@\n-            try {\n+            assertThrows(IllegalAccessException.class, () -> {\n@@ -453,4 +422,1 @@\n-                fail(\"expected IllegalAccessException\");\n-            } catch (IllegalAccessException e) {\n-                \/\/ expected\n-            }\n+            });\n@@ -459,6 +425,1 @@\n-            try {\n-                f.set(obj, null);\n-                fail(\"expected IllegalAccessException\");\n-            } catch (IllegalAccessException e) {\n-                \/\/ expected\n-            }\n+            assertThrows(IllegalAccessException.class, () -> f.set(obj, null));\n@@ -468,6 +429,1 @@\n-        try {\n-            f.set(obj, badValue);\n-            fail(\"expected IllegalAccessException\");\n-        } catch (IllegalAccessException e) {\n-            \/\/ expected\n-        }\n+        assertThrows(IllegalAccessException.class, () -> f.set(obj, badValue));\n@@ -476,4 +432,1 @@\n-\n-\n-    @DataProvider(name = \"finalInstanceFields\")\n-    private Object[][] finalInstanceFields() {\n+    private static Object[][] finalInstanceFields() {\n@@ -500,1 +453,2 @@\n-    @Test(dataProvider = \"finalInstanceFields\")\n+    @ParameterizedTest\n+    @MethodSource(\"finalInstanceFields\")\n@@ -505,8 +459,1 @@\n-        try {\n-            f.set(badReceiver, value);\n-            fail(\"expected IllegalArgumentException\");\n-        } catch (IllegalArgumentException e) {\n-            \/\/ expected\n-        } catch (IllegalAccessException e) {\n-            throw new RuntimeException(\"Expected IllegalArgumentException but got: \" + e.getMessage(), e);\n-        }\n+        assertThrows(IllegalArgumentException.class, () -> f.set(badReceiver, value));\n@@ -516,8 +463,1 @@\n-        try {\n-            f.set(badReceiver, badValue);\n-            fail(\"expected IllegalArgumentException\");\n-        } catch (IllegalArgumentException e) {\n-            \/\/ expected\n-        } catch (IllegalAccessException e) {\n-            throw new RuntimeException(\"Expected IllegalArgumentException but got: \" + e.getMessage(), e);\n-        }\n+        assertThrows(IllegalArgumentException.class, () -> f.set(badReceiver, badValue));\n@@ -526,8 +466,1 @@\n-        try {\n-            f.set(null, value);\n-            fail(\"expected NullPointerException\");\n-        } catch (NullPointerException e) {\n-            \/\/ expected\n-        } catch (IllegalAccessException e) {\n-            throw new RuntimeException(\"Expected NullPointerException but got: \" + e.getMessage(), e);\n-        }\n+        assertThrows(NullPointerException.class, () -> f.set(null, value));\n@@ -535,8 +468,1 @@\n-        try {\n-            f.set(null, badValue);\n-            fail(\"expected NullPointerException\");\n-        } catch (NullPointerException e) {\n-            \/\/ expected\n-        } catch (IllegalAccessException e) {\n-            throw new RuntimeException(\"Expected NullPointerException but got: \" + e.getMessage(), e);\n-        }\n+        assertThrows(NullPointerException.class, () -> f.set(null, badValue));\n@@ -547,1 +473,1 @@\n-            try {\n+            assertThrows(IllegalArgumentException.class, () -> {\n@@ -558,4 +484,1 @@\n-            } catch (IllegalArgumentException e) {\n-            } catch (IllegalAccessException e) {\n-                throw new RuntimeException(\"Expected IllegalArgumentException but got: \" + e.getMessage(), e);\n-            }\n+            });\n@@ -563,1 +486,1 @@\n-            try {\n+            assertThrows(NullPointerException.class, () -> {\n@@ -574,5 +497,1 @@\n-            } catch (NullPointerException e) {\n-                \/\/ expected\n-            } catch (IllegalAccessException e) {\n-                throw new RuntimeException(\"Expected NullPointerException but got: \" + e.getMessage(), e);\n-            }\n+            });\n","filename":"test\/jdk\/java\/lang\/reflect\/Field\/NegativeTest.java","additions":39,"deletions":120,"binary":false,"changes":159,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -28,1 +28,1 @@\n- * @run testng ThreadSafety\n+ * @run junit ThreadSafety\n@@ -34,1 +34,0 @@\n-import java.nio.file.Path;\n@@ -46,2 +45,2 @@\n-import static org.testng.Assert.*;\n-import org.testng.annotations.Test;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n","filename":"test\/jdk\/java\/lang\/reflect\/Generics\/ThreadSafety.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm\/timeout=720 IllegalArgumentsTest\n+ * @run junit\/othervm\/timeout=720 IllegalArgumentsTest\n@@ -33,1 +33,1 @@\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Test;\n","filename":"test\/jdk\/java\/lang\/reflect\/IllegalArgumentsTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @run testng\/othervm MethodArityLimit\n+ * @run junit\/othervm MethodArityLimit\n@@ -31,1 +31,0 @@\n-import java.lang.invoke.MethodHandle;\n@@ -35,1 +34,1 @@\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Test;\n@@ -37,2 +36,1 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.fail;\n+import static org.junit.jupiter.api.Assertions.*;\n@@ -77,1 +75,1 @@\n-        assertEquals(resultViaMethod, 127);\n+        assertEquals(127, resultViaMethod);\n@@ -79,4 +77,2 @@\n-        try {\n-            MethodHandle mh = MethodHandles.lookup().unreflect(m);\n-            fail(\"should fail in creating the method handle\");\n-        } catch (IllegalArgumentException e) {}\n+        var lookup = MethodHandles.lookup();\n+        assertThrows(IllegalArgumentException.class, () -> lookup.unreflect(m));\n","filename":"test\/jdk\/java\/lang\/reflect\/Method\/MethodArityLimit.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm --add-exports java.base\/jdk.internal.reflect=ALL-UNNAMED -XX:-ShowCodeDetailsInExceptionMessages MethodHandleAccessorsTest\n+ * @run junit\/othervm -XX:-ShowCodeDetailsInExceptionMessages MethodHandleAccessorsTest\n@@ -47,2 +47,5 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n@@ -449,3 +452,1 @@\n-\n-    @DataProvider(name = \"testNoArgMethods\")\n-    private Object[][] testNoArgMethods() {\n+    private static Object[][] testNoArgMethods() {\n@@ -471,2 +472,1 @@\n-    @DataProvider(name = \"testOneArgMethods\")\n-    private Object[][] testOneArgMethods() {\n+    private static Object[][] testOneArgMethods() {\n@@ -500,2 +500,1 @@\n-    @DataProvider(name = \"testMultiArgMethods\")\n-    private Object[][] testMultiArgMethods() {\n+    private static Object[][] testMultiArgMethods() {\n@@ -518,2 +517,1 @@\n-    @DataProvider(name = \"testMethodsWithVarargs\")\n-    private Object[][] testMethodsWithVarargs() {\n+    private static Object[][] testMethodsWithVarargs() {\n@@ -536,1 +534,2 @@\n-    @Test(dataProvider = \"testNoArgMethods\")\n+    @ParameterizedTest\n+    @MethodSource(\"testNoArgMethods\")\n@@ -542,1 +541,2 @@\n-    @Test(dataProvider = \"testOneArgMethods\")\n+    @ParameterizedTest\n+    @MethodSource(\"testOneArgMethods\")\n@@ -548,1 +548,2 @@\n-    @Test(dataProvider = \"testMultiArgMethods\")\n+    @ParameterizedTest\n+    @MethodSource(\"testMultiArgMethods\")\n@@ -554,1 +555,2 @@\n-    @Test(dataProvider = \"testMethodsWithVarargs\")\n+    @ParameterizedTest\n+    @MethodSource(\"testMethodsWithVarargs\")\n@@ -560,2 +562,1 @@\n-    @DataProvider(name = \"testConstructors\")\n-    private Object[][] testConstructors() {\n+    private static Object[][] testConstructors() {\n@@ -587,1 +588,2 @@\n-    @Test(dataProvider = \"testConstructors\")\n+    @ParameterizedTest\n+    @MethodSource(\"testConstructors\")\n@@ -592,2 +594,1 @@\n-    @DataProvider(name = \"testMultiArgConstructors\")\n-    private Object[][] testMultiArgConstructors() {\n+    private static Object[][] testMultiArgConstructors() {\n@@ -605,1 +606,2 @@\n-    @Test(dataProvider = \"testMultiArgConstructors\")\n+    @ParameterizedTest\n+    @MethodSource(\"testMultiArgConstructors\")\n@@ -619,2 +621,1 @@\n-    @DataProvider(name = \"throwException\")\n-    private Object[][] throwException() {\n+    private static Object[][] throwException() {\n@@ -632,1 +633,2 @@\n-    @Test(dataProvider = \"throwException\")\n+    @ParameterizedTest\n+    @MethodSource(\"throwException\")\n@@ -649,2 +651,1 @@\n-    @DataProvider(name = \"readAccess\")\n-    private Object[][] readAccess() {\n+    private static Object[][] readAccess() {\n@@ -660,2 +661,1 @@\n-    @DataProvider(name = \"writeAccess\")\n-    private Object[][] writeAccess() {\n+    private static Object[][] writeAccess() {\n@@ -676,1 +676,2 @@\n-    @Test(dataProvider = \"readAccess\")\n+    @ParameterizedTest\n+    @MethodSource(\"readAccess\")\n@@ -683,1 +684,2 @@\n-    @Test(dataProvider = \"writeAccess\")\n+    @ParameterizedTest\n+    @MethodSource(\"writeAccess\")\n@@ -696,3 +698,1 @@\n-        try {\n-            f.setInt(null, 100);\n-        } catch (IllegalAccessException e) { }\n+        assertThrows(IllegalAccessException.class, () -> f.setInt(null, 100));\n","filename":"test\/jdk\/java\/lang\/reflect\/MethodHandleAccessorsTest.java","additions":35,"deletions":35,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,0 @@\n-import java.lang.reflect.InvocationTargetException;\n@@ -31,3 +30,4 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -35,1 +35,1 @@\n-\/**\n+\/*\n@@ -38,1 +38,1 @@\n- * @run testng DefaultMethods\n+ * @run junit DefaultMethods\n@@ -99,9 +99,5 @@\n-        try {\n-            assertTrue(refc.isInterface());\n-\n-            Method method = refc.getMethod(m.getName(), m.getParameterTypes());\n-            assertTrue(method.isDefault());\n-            return method;\n-        } catch (NoSuchMethodException e) {\n-            throw new RuntimeException(e);\n-        }\n+        assertTrue(refc.isInterface());\n+\n+        Method method = assertDoesNotThrow(() -> refc.getMethod(m.getName(), m.getParameterTypes()));\n+        assertTrue(method.isDefault());\n+        return method;\n@@ -118,1 +114,1 @@\n-        assertEquals(i1.m(), 20);\n+        assertEquals(20, i1.m());\n@@ -122,2 +118,1 @@\n-    @DataProvider(name = \"defaultMethods\")\n-    private Object[][] defaultMethods() {\n+    private static Object[][] defaultMethods() {\n@@ -136,1 +131,2 @@\n-    @Test(dataProvider = \"defaultMethods\")\n+    @ParameterizedTest\n+    @MethodSource(\"defaultMethods\")\n@@ -142,1 +138,1 @@\n-                    assertTrue(method.isDefault() == isDefault);\n+                    assertEquals(isDefault, method.isDefault());\n@@ -159,1 +155,1 @@\n-        assertEquals(result, expected);\n+        assertEquals(expected, result);\n@@ -164,2 +160,1 @@\n-    @DataProvider(name = \"supers\")\n-    private Object[][] supers() {\n+    private static Object[][] supers() {\n@@ -191,1 +186,2 @@\n-    @Test(dataProvider = \"supers\")\n+    @ParameterizedTest\n+    @MethodSource(\"supers\")\n@@ -206,1 +202,1 @@\n-            assertEquals(i1.m(), expected);\n+            assertEquals(expected, i1.m());\n@@ -209,1 +205,1 @@\n-            assertEquals(i2.m(), expected);\n+            assertEquals(expected, i2.m());\n@@ -212,1 +208,1 @@\n-            assertEquals(i3.m(), expected);\n+            assertEquals(expected, i3.m());\n@@ -215,1 +211,1 @@\n-            assertEquals(i4.m(), expected);\n+            assertEquals(expected, i4.m());\n@@ -220,1 +216,1 @@\n-        assertEquals(InvocationHandler.invokeDefault(proxy, proxyInterface.getMethod(\"m\")), expected);\n+        assertEquals(expected, InvocationHandler.invokeDefault(proxy, proxyInterface.getMethod(\"m\")));\n@@ -239,2 +235,2 @@\n-        assertEquals(i12.sum(1, 2), 3);\n-        assertEquals(i12.concat(1, 2, 3, 4), new Object[]{1, 2, 3, 4});\n+        assertEquals(3, i12.sum(1, 2));\n+        assertArrayEquals(new Object[]{1, 2, 3, 4}, i12.concat(1, 2, 3, 4));\n@@ -243,2 +239,1 @@\n-        assertEquals(InvocationHandler.invokeDefault(i12, m, 100, new Object[] {\"foo\", true, \"bar\"}),\n-                     new Object[] {100, \"foo\", true, \"bar\"});\n+        assertArrayEquals(new Object[] {100, \"foo\", true, \"bar\"}, (Object[]) InvocationHandler.invokeDefault(i12, m, 100, new Object[] {\"foo\", true, \"bar\"}));\n@@ -253,1 +248,1 @@\n-        assertTrue(m1.getDeclaringClass() == I4.class);\n+        assertSame(I4.class, m1.getDeclaringClass());\n@@ -259,1 +254,1 @@\n-        assertTrue(m1.getDeclaringClass() == I4.class);\n+        assertSame(I4.class, m1.getDeclaringClass());\n@@ -270,2 +265,2 @@\n-        assertEquals(proxy.m3(\"a\", \"b\", \"cde\"), 5);\n-        assertEquals(InvocationHandler.invokeDefault(proxy, m, (Object)new String[] { \"a\", \"bc\" }), 3);\n+        assertEquals(5, proxy.m3(\"a\", \"b\", \"cde\"));\n+        assertEquals(3, InvocationHandler.invokeDefault(proxy, m, (Object)new String[] { \"a\", \"bc\" }));\n@@ -277,1 +272,1 @@\n-    @Test(expectedExceptions = {IllegalArgumentException.class})\n+    @Test\n@@ -282,1 +277,1 @@\n-        assertTrue(method.getDeclaringClass() == I12.class);\n+        assertSame(I12.class, method.getDeclaringClass());\n@@ -284,1 +279,1 @@\n-        proxy.m();\n+        assertThrows(IllegalArgumentException.class, () -> proxy.m());\n@@ -290,1 +285,1 @@\n-    @Test(expectedExceptions = {IllegalArgumentException.class})\n+    @Test\n@@ -296,1 +291,1 @@\n-        InvocationHandler.invokeDefault(proxy, m);\n+        assertThrows(IllegalArgumentException.class, () -> InvocationHandler.invokeDefault(proxy, m));\n@@ -300,2 +295,1 @@\n-    @DataProvider(name = \"negativeCases\")\n-    private Object[][] negativeCases() {\n+    private static Object[][] negativeCases() {\n@@ -318,1 +312,2 @@\n-    @Test(dataProvider = \"negativeCases\", expectedExceptions = {IllegalArgumentException.class})\n+    @ParameterizedTest\n+    @MethodSource(\"negativeCases\")\n@@ -323,8 +318,3 @@\n-        try {\n-            Method method = defc.getDeclaredMethod(name);\n-            InvocationHandler.invokeDefault(proxy, method);\n-        } catch (Throwable e) {\n-            System.out.format(\"%s method %s::%s exception thrown: %s%n\",\n-                              Arrays.toString(interfaces), defc.getName(), name, e.getMessage());\n-            throw e;\n-        }\n+        Method method = defc.getDeclaredMethod(name);\n+        assertThrows(IllegalArgumentException.class, () ->\n+                InvocationHandler.invokeDefault(proxy, method));\n@@ -333,4 +323,3 @@\n-    @DataProvider(name = \"illegalArguments\")\n-    private Object[][] illegalArguments() {\n-        return new Object[][] {\n-            new Object[] { new Object[0]},\n+    private static Object[] illegalArguments() {\n+        return new Object[] {\n+            new Object[] { null },\n@@ -345,1 +334,2 @@\n-    @Test(dataProvider = \"illegalArguments\", expectedExceptions = {IllegalArgumentException.class})\n+    @ParameterizedTest\n+    @MethodSource(\"illegalArguments\")\n@@ -351,5 +341,2 @@\n-        if (args.length == 0) {\n-            \/\/ substitute empty args with null since @DataProvider doesn't allow null array\n-            args = null;\n-        }\n-        InvocationHandler.invokeDefault(proxy, m, args);\n+        assertThrows(IllegalArgumentException.class, () ->\n+                InvocationHandler.invokeDefault(proxy, m, args));\n@@ -358,2 +345,1 @@\n-    @DataProvider(name = \"throwables\")\n-    private Object[][] throwables() {\n+    private static Object[][] throwables() {\n@@ -370,1 +356,2 @@\n-    @Test(dataProvider = \"throwables\")\n+    @ParameterizedTest\n+    @MethodSource(\"throwables\")\n@@ -375,5 +362,2 @@\n-        try {\n-            InvocationHandler.invokeDefault(proxy, m, exception);\n-        } catch (Throwable e) {\n-            assertEquals(e, exception);\n-        }\n+        assertSame(exception, assertThrows(Throwable.class, () ->\n+                InvocationHandler.invokeDefault(proxy, m, exception)));\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/DefaultMethods.java","additions":56,"deletions":72,"binary":false,"changes":128,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @run testng HiddenProxyInterface\n+ * @run junit HiddenProxyInterface\n@@ -38,2 +38,2 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n@@ -48,1 +48,1 @@\n-    @Test(expectedExceptions = { IllegalArgumentException.class })\n+    @Test\n@@ -53,1 +53,2 @@\n-        Proxy.newProxyInstance(HiddenProxyInterface.class.getClassLoader(),\n+        assertThrows(IllegalArgumentException.class, () -> Proxy.newProxyInstance(\n+                HiddenProxyInterface.class.getClassLoader(),\n@@ -60,1 +61,1 @@\n-                });\n+                }));\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/HiddenProxyInterface.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,3 @@\n-import org.testng.Assert;\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n@@ -33,1 +34,1 @@\n- * @run testng LazyInitializationTest\n+ * @run junit LazyInitializationTest\n@@ -53,1 +54,1 @@\n-        Assert.assertFalse(initialized, \"parameter type initialized unnecessarily\");\n+        assertFalse(initialized, \"parameter type initialized unnecessarily\");\n@@ -56,1 +57,1 @@\n-        Assert.assertTrue(initialized, \"parameter type initialized after instantiation\");\n+        assertTrue(initialized, \"parameter type initialized after instantiation\");\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/LazyInitializationTest.java","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,3 +35,3 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -39,1 +39,1 @@\n-\/**\n+\/*\n@@ -45,1 +45,1 @@\n- * @run testng ProxyClassAccessTest\n+ * @run junit ProxyClassAccessTest\n@@ -64,2 +64,2 @@\n-    @BeforeTest\n-    public void compileAll() throws Exception {\n+    @BeforeAll\n+    public static void compileAll() throws Exception {\n@@ -83,1 +83,1 @@\n-        assertTrue(exitValue == 0);\n+        assertEquals(0, exitValue);\n@@ -108,10 +108,4 @@\n-        try {\n-            Proxy.getProxyClass(loader, interfaces);\n-            throw new RuntimeException(\"Expected IllegalArgumentException thrown\");\n-        } catch (IllegalArgumentException e) {}\n-\n-        try {\n-            Proxy.newProxyInstance(loader, interfaces,\n-                (proxy, m, params) -> { throw new RuntimeException(m.toString()); });\n-            throw new RuntimeException(\"Expected IllegalArgumentException thrown\");\n-        } catch (IllegalArgumentException e) {}\n+        assertThrows(IllegalArgumentException.class, () -> Proxy.getProxyClass(loader, interfaces));\n+\n+        assertThrows(IllegalArgumentException.class, () -> Proxy.newProxyInstance(loader, interfaces,\n+                (proxy, m, params) -> { throw new RuntimeException(m.toString()); }));\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/ProxyClassAccessTest.java","additions":13,"deletions":19,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,3 +35,4 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n@@ -39,1 +40,1 @@\n-\/**\n+\/*\n@@ -45,1 +46,1 @@\n- * @run testng ProxyLayerTest\n+ * @run junit ProxyLayerTest\n@@ -65,2 +66,2 @@\n-    @BeforeTest\n-    public void compileAll() throws Exception {\n+    @BeforeAll\n+    public static void compileAll() throws Exception {\n@@ -105,1 +106,1 @@\n-        assertEquals(proxyClass.getModule().getLayer(), null);\n+        assertNull(proxyClass.getModule().getLayer());\n@@ -137,1 +138,1 @@\n-        assertEquals(proxyClass.getModule().getLayer(), null);\n+        assertNull(proxyClass.getModule().getLayer());\n@@ -167,9 +168,2 @@\n-        try {\n-            Proxy.getProxyClass(loader, interfaces);\n-            throw new RuntimeException(\"Expected IllegalArgumentException thrown\");\n-        } catch (IllegalArgumentException e) {}\n-\n-        try {\n-            Proxy.newProxyInstance(loader, interfaces, handler);\n-            throw new RuntimeException(\"Expected IllegalArgumentException thrown\");\n-        } catch (IllegalArgumentException e) {}\n+        assertThrows(IllegalArgumentException.class, () -> Proxy.getProxyClass(loader, interfaces));\n+        assertThrows(IllegalArgumentException.class, () -> Proxy.newProxyInstance(loader, interfaces, handler));\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/ProxyLayerTest.java","additions":13,"deletions":19,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,3 +32,3 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -36,1 +36,1 @@\n-\/**\n+\/*\n@@ -42,1 +42,1 @@\n- * @run testng ProxyTest\n+ * @run junit ProxyTest\n@@ -62,2 +62,2 @@\n-    @BeforeTest\n-    public void compileAll() throws Exception {\n+    @BeforeAll\n+    public static void compileAll() throws Exception {\n@@ -82,1 +82,1 @@\n-        assertTrue(exitValue == 0);\n+        assertEquals(0, exitValue);\n@@ -98,1 +98,1 @@\n-        assertTrue(exitValue == 0);\n+        assertEquals(0, exitValue);\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/ProxyTest.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @run testng SealedInterfaceTest\n+ * @run junit SealedInterfaceTest\n@@ -34,2 +34,2 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n@@ -46,1 +46,1 @@\n-    @Test(expectedExceptions = { IllegalArgumentException.class })\n+    @Test\n@@ -48,1 +48,2 @@\n-        Proxy.newProxyInstance(SealedInterfaceTest.class.getClassLoader(),\n+        assertThrows(IllegalArgumentException.class, () -> Proxy.newProxyInstance(\n+                SealedInterfaceTest.class.getClassLoader(),\n@@ -55,1 +56,1 @@\n-                });\n+                }));\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/SealedInterfaceTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -27,1 +27,1 @@\n- * @run testng TestVarArgs\n+ * @run junit TestVarArgs\n@@ -37,1 +37,0 @@\n-import java.util.Arrays;\n@@ -39,3 +38,3 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -51,2 +50,1 @@\n-    @DataProvider(name = \"proxyInterfaces\")\n-    public Object[][] proxyInterfaces() {\n+    public static Object[][] proxyInterfaces() {\n@@ -61,1 +59,2 @@\n-    @Test(dataProvider = \"proxyInterfaces\")\n+    @ParameterizedTest\n+    @MethodSource(\"proxyInterfaces\")\n@@ -65,1 +64,1 @@\n-        assertTrue(m.isVarArgs() == isVarArgs);\n+        assertEquals(isVarArgs, m.isVarArgs());\n@@ -74,1 +73,1 @@\n-        assertTrue(method.isVarArgs() == isVarArgs);\n+        assertEquals(isVarArgs, method.isVarArgs());\n@@ -76,2 +75,2 @@\n-        Object params = new Object[] { \"foo\", \"bar\", \"goo\" };\n-        Object result;\n+        Object[] params = new Object[] { \"foo\", \"bar\", \"goo\" };\n+        Object[] result;\n@@ -80,2 +79,2 @@\n-        result = method.invoke(proxy, params);\n-        assertEquals(result, params);\n+        result = (Object[]) method.invoke(proxy, new Object[] {params});\n+        assertEquals(params, result);\n@@ -86,1 +85,1 @@\n-        assertTrue(mh.isVarargsCollector() == isVarArgs);\n+        assertEquals(isVarArgs, mh.isVarargsCollector());\n@@ -94,2 +93,2 @@\n-        result = mhVarArity.invoke(proxy, \"foo\", \"bar\", \"goo\");\n-        assertEquals(result, params);\n+        result = (Object[]) mhVarArity.invoke(proxy, \"foo\", \"bar\", \"goo\");\n+        assertArrayEquals(params, result);\n@@ -97,2 +96,2 @@\n-        result = mhFixedArity.invoke(proxy, params);\n-        assertEquals(result, params);\n+        result = (Object[]) mhFixedArity.invoke(proxy, params);\n+        assertArrayEquals(params, result);\n@@ -104,2 +103,2 @@\n-        result = mh.invoke(proxy, \"foo\", \"bar\", \"goo\");\n-        assertEquals(result, params);\n+        result = (Object[]) mh.invoke(proxy, \"foo\", \"bar\", \"goo\");\n+        assertArrayEquals(params, result);\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/TestVarArgs.java","additions":22,"deletions":23,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,3 +28,4 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -37,1 +38,1 @@\n- * @run testng DefaultMethodProxy\n+ * @run junit DefaultMethodProxy\n@@ -45,1 +46,1 @@\n-    public static void publicInterface() throws ReflectiveOperationException {\n+    public void publicInterface() throws ReflectiveOperationException {\n@@ -53,1 +54,1 @@\n-        assertTrue(Proxy.getInvocationHandler(proxy) == IH);\n+        assertSame(IH, Proxy.getInvocationHandler(proxy));\n@@ -56,2 +57,0 @@\n-\n-    @DataProvider(name = \"nonPublicIntfs\")\n@@ -68,2 +67,3 @@\n-    @Test(dataProvider = \"nonPublicIntfs\")\n-    public static void hasPackageAccess(Class<?>[] intfs, String expected) throws ReflectiveOperationException {\n+    @ParameterizedTest\n+    @MethodSource(\"nonPublicIntfs\")\n+    public void hasPackageAccess(Class<?>[] intfs, String expected) throws ReflectiveOperationException {\n@@ -78,2 +78,3 @@\n-    @Test(dataProvider = \"nonPublicIntfs\", expectedExceptions = {IllegalAccessException.class})\n-    public static void noPackageAccess(Class<?>[] intfs, String ignored) throws Throwable {\n+    @ParameterizedTest\n+    @MethodSource(\"nonPublicIntfs\")\n+    public void noPackageAccess(Class<?>[] intfs, String ignored) throws Throwable {\n@@ -81,10 +82,3 @@\n-        try {\n-            testDefaultMethod(proxy, \"dummy\");\n-        } catch (InvocationTargetException e) {\n-            \/\/ unwrap the exception\n-            if (e.getCause() instanceof UndeclaredThrowableException) {\n-                Throwable cause = e.getCause();\n-                throw cause.getCause();\n-            }\n-            throw e;\n-        }\n+        InvocationTargetException ite = assertThrows(InvocationTargetException.class, () -> testDefaultMethod(proxy, \"dummy\"));\n+        var ute = assertInstanceOf(UndeclaredThrowableException.class, ite.getCause(), \"unwrap the InvocationTargetException\");\n+        assertInstanceOf(IllegalAccessException.class, ute.getCause(), \"unwrap the UndeclaredThrowableException\");\n","filename":"test\/jdk\/java\/lang\/reflect\/Proxy\/nonPublicProxy\/DefaultMethodProxy.java","additions":17,"deletions":23,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng AnnotationSharing\n+ * @run junit AnnotationSharing\n@@ -36,1 +36,1 @@\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.Test;\n","filename":"test\/jdk\/java\/lang\/reflect\/annotationSharing\/AnnotationSharing.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng\/othervm CustomLoaderTest\n+ * @run junit\/othervm CustomLoaderTest\n@@ -45,3 +45,3 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -52,2 +52,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -58,7 +58,1 @@\n-            throw new RuntimeException(\"fail compilation\");\n-        }\n-        try {\n-            Class<?> p = Class.forName(\"ReflectTest$P\");\n-            fail(\"should not be visible to this loader\");\n-        } catch (ClassNotFoundException e) {\n-            e.printStackTrace();\n+            fail(\"fail compilation\");\n@@ -66,0 +60,2 @@\n+        assertThrows(ClassNotFoundException.class, () -> Class.forName(\"ReflectTest$P\"),\n+                \"should not be visible to this loader\");\n@@ -75,1 +71,1 @@\n-        assertTrue(m1.getDeclaringClass() != m2.getDeclaringClass());\n+        assertNotSame(m1.getDeclaringClass(), m2.getDeclaringClass());\n@@ -77,2 +73,2 @@\n-        assertTrue(m1.getDeclaringClass() == loader1.c);\n-        assertTrue(m2.getDeclaringClass() == loader2.c);\n+        assertSame(loader1.c, m1.getDeclaringClass());\n+        assertSame(loader2.c, m2.getDeclaringClass());\n@@ -83,3 +79,3 @@\n-        assertTrue(o1.getClass() != o2.getClass());\n-        assertTrue(o1.getClass() == loader1.r);\n-        assertTrue(o2.getClass() == loader2.r);\n+        assertNotSame(o1.getClass(), o2.getClass());\n+        assertSame(loader1.r, o1.getClass());\n+        assertSame(loader2.r, o2.getClass());\n","filename":"test\/jdk\/java\/lang\/reflect\/callerCache\/CustomLoaderTest.java","additions":16,"deletions":20,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,1 +32,1 @@\n- * @run testng\/othervm ReflectionCallerCacheTest\n+ * @run junit\/othervm ReflectionCallerCacheTest\n@@ -47,3 +47,3 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -55,2 +55,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -64,2 +64,2 @@\n-    @DataProvider(name = \"memberAccess\")\n-    public Object[][] memberAccess() {\n+\n+    public static Object[][] memberAccess() {\n@@ -105,2 +105,3 @@\n-    @Test(dataProvider = \"memberAccess\")\n-    private void load(String classname) throws Exception {\n+    @ParameterizedTest\n+    @MethodSource(\"memberAccess\")\n+    void load(String classname) throws Exception {\n","filename":"test\/jdk\/java\/lang\/reflect\/callerCache\/ReflectionCallerCacheTest.java","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng CheckEqualityIsBasedOnFields\n+ * @run junit CheckEqualityIsBasedOnFields\n@@ -32,1 +32,0 @@\n-import java.lang.reflect.Field;\n@@ -35,4 +34,3 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -94,2 +92,1 @@\n-    @DataProvider(name = \"recordData\")\n-    public Object[][] recordTypeAndExpectedValue() {\n+    public static Object[][] recordTypeAndExpectedValue() {\n@@ -115,1 +112,2 @@\n-    @Test(dataProvider = \"recordData\")\n+    @ParameterizedTest\n+    @MethodSource(\"recordTypeAndExpectedValue\")\n@@ -128,2 +126,2 @@\n-            assertNotEquals(expectedXValues[i], expectedXValues[i + expectedXValues.length \/ 2]);\n-            assertEquals(getter.invoke(rec1), getter.invoke(rec2));\n+            assertNotEquals(expectedXValues[i + expectedXValues.length \/ 2], expectedXValues[i]);\n+            assertEquals(getter.invoke(rec2), getter.invoke(rec1));\n","filename":"test\/jdk\/java\/lang\/reflect\/records\/CheckEqualityIsBasedOnFields.java","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm IsRecordTest\n+ * @run junit\/othervm IsRecordTest\n@@ -34,1 +34,0 @@\n-import java.lang.reflect.AccessFlag;\n@@ -41,2 +40,0 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -47,3 +44,6 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertFalse;\n-import static org.testng.Assert.assertTrue;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n@@ -53,2 +53,1 @@\n-    @DataProvider(name = \"scenarios\")\n-    public Object[][] scenarios() {\n+    public static Object[][] scenarios() {\n@@ -78,1 +77,2 @@\n-    @Test(dataProvider = \"scenarios\")\n+    @ParameterizedTest\n+    @MethodSource(\"scenarios\")\n@@ -95,3 +95,2 @@\n-        assertEquals(cls.isRecord(), expectIsRecord);\n-        var getRecordComponents = cls.getRecordComponents();\n-        assertTrue(expectIsRecord ? getRecordComponents != null : getRecordComponents == null);\n+        assertEquals(expectIsRecord, cls.isRecord());\n+        assertEquals(expectIsRecord, cls.getRecordComponents() != null);\n@@ -105,1 +104,2 @@\n-    @Test(dataProvider = \"scenarios\")\n+    @ParameterizedTest\n+    @MethodSource(\"scenarios\")\n@@ -130,2 +130,2 @@\n-        assertEquals(supFooCls.getRecordComponents(), null);\n-        assertEquals(subFooCls.getRecordComponents(), null);\n+        assertNull(supFooCls.getRecordComponents());\n+        assertNull(subFooCls.getRecordComponents());\n@@ -140,1 +140,1 @@\n-        assertEquals(EmptyRecord.class.getRecordComponents().length, 0);\n+        assertEquals(0, EmptyRecord.class.getRecordComponents().length);\n@@ -144,1 +144,1 @@\n-        assertTrue(FooRecord.class.getRecordComponents() != null);\n+        assertNotNull(FooRecord.class.getRecordComponents());\n@@ -148,1 +148,1 @@\n-        assertTrue(FinalFooRecord.class.getRecordComponents() != null);\n+        assertNotNull(FinalFooRecord.class.getRecordComponents());\n@@ -152,1 +152,1 @@\n-        assertFalse(A.class.getRecordComponents() != null);\n+        assertNull(A.class.getRecordComponents());\n@@ -156,1 +156,1 @@\n-        assertFalse(B.class.getRecordComponents() != null);\n+        assertNull(B.class.getRecordComponents());\n","filename":"test\/jdk\/java\/lang\/reflect\/records\/IsRecordTest.java","additions":22,"deletions":22,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng\/othervm RecordReflectionTest\n+ * @run junit\/othervm RecordReflectionTest\n@@ -36,2 +36,4 @@\n-import org.testng.annotations.*;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -39,1 +41,0 @@\n-@Test\n@@ -81,2 +82,1 @@\n-    @DataProvider(name = \"recordClasses\")\n-    public Object[][] recordClassData() {\n+    public static Object[][] recordClassData() {\n@@ -99,1 +99,2 @@\n-    @Test(dataProvider = \"recordClasses\")\n+    @ParameterizedTest\n+    @MethodSource(\"recordClassData\")\n@@ -103,2 +104,2 @@\n-        assertTrue(cls.getSuperclass() == java.lang.Record.class);\n-        assertTrue(cls.getRecordComponents() != null);\n+        assertSame(Record.class, cls.getSuperclass());\n+        assertNotNull(cls.getRecordComponents());\n@@ -108,2 +109,1 @@\n-    @DataProvider(name = \"notRecordClasses\")\n-    public Object[][] notRecordClasses() {\n+    public static List<Class<?>> notRecordClasses() {\n@@ -119,2 +119,1 @@\n-                       long[].class)\n-                   .stream().map(c -> new Object[] {c}).toArray(Object[][]::new);\n+                       long[].class);\n@@ -123,1 +122,2 @@\n-    @Test(dataProvider = \"notRecordClasses\")\n+    @ParameterizedTest\n+    @MethodSource(\"notRecordClasses\")\n@@ -126,2 +126,2 @@\n-        assertFalse(cls.getSuperclass() == java.lang.Record.class);\n-        assertTrue(cls.getRecordComponents() == null);\n+        assertNotSame(Record.class, cls.getSuperclass());\n+        assertNull(cls.getRecordComponents());\n@@ -130,2 +130,1 @@\n-    @DataProvider(name = \"reflectionData\")\n-    public Object[][] reflectionData() {\n+    public static Object[][] reflectionData() {\n@@ -184,1 +183,2 @@\n-    @Test(dataProvider = \"reflectionData\")\n+    @ParameterizedTest\n+    @MethodSource(\"reflectionData\")\n@@ -195,1 +195,1 @@\n-        assertEquals(recordComponents.length, numberOfComponents);\n+        assertEquals(numberOfComponents, recordComponents.length);\n@@ -198,4 +198,4 @@\n-            assertEquals(rc.getName(), names[i]);\n-            assertEquals(rc.getType(), rc.getAccessor().getReturnType());\n-            assertEquals(rc.getAccessor().invoke(recordOb), values[i]);\n-            assertEquals(rc.getAccessor().getGenericReturnType().toString(), signatures[i],\n+            assertEquals(names[i], rc.getName());\n+            assertEquals(rc.getAccessor().getReturnType(), rc.getType());\n+            assertEquals(values[i], rc.getAccessor().invoke(recordOb));\n+            assertEquals(signatures[i], rc.getAccessor().getGenericReturnType().toString(),\n@@ -210,1 +210,1 @@\n-            assertEquals(p.getParameterizedType().toString(), signatures[i],\n+            assertEquals(signatures[i], p.getParameterizedType().toString(),\n@@ -218,1 +218,1 @@\n-            assertEquals(p.toString(), signatures[i],\n+            assertEquals(signatures[i], p.toString(),\n@@ -231,0 +231,1 @@\n+    @Test\n@@ -235,2 +236,2 @@\n-        assertEquals(annos.length, 1);\n-        assertEquals(annos[0].toString(), \"@RecordReflectionTest.RCA()\");\n+        assertEquals(1, annos.length);\n+        assertEquals(\"@RecordReflectionTest.RCA()\", annos[0].toString());\n@@ -239,2 +240,2 @@\n-        assertEquals(f.getAnnotations().length, 1);\n-        assertEquals(f.getAnnotations()[0].toString(), annos[0].toString());\n+        assertEquals(1, f.getAnnotations().length);\n+        assertEquals(annos[0].toString(), f.getAnnotations()[0].toString());\n@@ -249,0 +250,1 @@\n+    @Test\n@@ -254,2 +256,2 @@\n-        assertEquals(annos.length, 1);\n-        assertEquals(annos[0].toString(), \"@RecordReflectionTest.TYPE_USE()\");\n+        assertEquals(1, annos.length);\n+        assertEquals(\"@RecordReflectionTest.TYPE_USE()\", annos[0].toString());\n@@ -258,2 +260,2 @@\n-        assertEquals(f.getAnnotatedType().getAnnotations().length, 1);\n-        assertEquals(f.getAnnotatedType().getAnnotations()[0].toString(), annos[0].toString());\n+        assertEquals(1, f.getAnnotatedType().getAnnotations().length);\n+        assertEquals(annos[0].toString(), f.getAnnotatedType().getAnnotations()[0].toString());\n@@ -262,0 +264,1 @@\n+    @Test\n@@ -268,6 +271,2 @@\n-        assertTrue(f.get(o) != null);\n-        try {\n-            f.set(o, null);\n-            assertTrue(false, \"should fail to set \" + fieldName);\n-        } catch (IllegalAccessException e) {\n-        }\n+        assertNotNull(f.get(o));\n+        assertThrows(IllegalAccessException.class, () -> f.set(o, null));\n","filename":"test\/jdk\/java\/lang\/reflect\/records\/RecordReflectionTest.java","additions":40,"deletions":41,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm SealedClassesReflectionTest\n+ * @run junit\/othervm SealedClassesReflectionTest\n@@ -33,1 +33,0 @@\n-import java.lang.constant.ClassDesc;\n@@ -37,2 +36,3 @@\n-import org.testng.annotations.*;\n-import static org.testng.Assert.*;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -40,1 +40,0 @@\n-@Test\n@@ -71,2 +70,1 @@\n-    @DataProvider(name = \"sealedClasses\")\n-    public Object[][] sealedClassesData() {\n+    public static List<Class<?>> sealedClassesData() {\n@@ -82,1 +80,1 @@\n-        ).stream().map(c -> new Object[] {c}).toArray(Object[][]::new);\n+        );\n@@ -85,1 +83,2 @@\n-    @Test(dataProvider = \"sealedClasses\")\n+    @ParameterizedTest\n+    @MethodSource(\"sealedClassesData\")\n@@ -88,2 +87,2 @@\n-        assertTrue(!Modifier.isFinal(cls.getModifiers()));\n-        assertTrue(cls.getPermittedSubclasses() != null);\n+        assertFalse(Modifier.isFinal(cls.getModifiers()));\n+        assertNotNull(cls.getPermittedSubclasses());\n@@ -93,2 +92,1 @@\n-    @DataProvider(name = \"notSealedClasses\")\n-    public Object[][] notSealedClassesData() {\n+    public static List<Class<?>> notSealedClassesData() {\n@@ -107,1 +105,1 @@\n-        ).stream().map(c -> new Object[] {c}).toArray(Object[][]::new);\n+        );\n@@ -110,1 +108,2 @@\n-    @Test(dataProvider = \"notSealedClasses\")\n+    @ParameterizedTest\n+    @MethodSource(\"notSealedClassesData\")\n@@ -112,2 +111,2 @@\n-        assertTrue(!cls.isSealed());\n-        assertTrue(cls.getPermittedSubclasses() == null);\n+        assertFalse(cls.isSealed());\n+        assertNull(cls.getPermittedSubclasses());\n@@ -116,2 +115,1 @@\n-    @DataProvider(name = \"non_sealedClasses\")\n-    public Object[][] non_sealedClassesData() {\n+    public static List<Class<?>> non_sealedClassesData() {\n@@ -122,1 +120,1 @@\n-        ).stream().map(c -> new Object[] {c}).toArray(Object[][]::new);\n+        );\n@@ -125,1 +123,2 @@\n-    @Test(dataProvider = \"non_sealedClasses\")\n+    @ParameterizedTest\n+    @MethodSource(\"non_sealedClassesData\")\n@@ -127,2 +126,2 @@\n-        assertTrue(!cls.isSealed());\n-        assertTrue(!Modifier.isFinal(cls.getModifiers()));\n+        assertFalse(cls.isSealed());\n+        assertFalse(Modifier.isFinal(cls.getModifiers()));\n@@ -130,1 +129,1 @@\n-        assertTrue(cls.getPermittedSubclasses() == null);\n+        assertNull(cls.getPermittedSubclasses());\n@@ -133,2 +132,1 @@\n-    @DataProvider(name = \"reflectionData\")\n-    public Object[][] reflectionData() {\n+    public static Object[][] reflectionData() {\n@@ -207,1 +205,2 @@\n-    @Test(dataProvider = \"reflectionData\")\n+    @ParameterizedTest\n+    @MethodSource(\"reflectionData\")\n@@ -216,1 +215,1 @@\n-        assertTrue(sealedClass.getPermittedSubclasses().length == numberOfSubclasses);\n+        assertEquals(numberOfSubclasses, sealedClass.getPermittedSubclasses().length);\n@@ -219,1 +218,1 @@\n-            assertTrue(cd.getName().equals(subclassDescriptors[i]), \"expected: \" + subclassDescriptors[i] + \" found: \" + cd.getName());\n+            assertEquals(subclassDescriptors[i], cd.getName());\n","filename":"test\/jdk\/java\/lang\/reflect\/sealed_classes\/SealedClassesReflectionTest.java","additions":29,"deletions":30,"binary":false,"changes":59,"status":"modified"}]}
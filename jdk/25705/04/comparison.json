{"files":[{"patch":"@@ -837,0 +837,1 @@\n+java\/awt\/Cursor\/CursorDragTest\/ListDragCursor.java 7177297 macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,0 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @build PassFailJFrame\n@@ -33,0 +31,2 @@\n+import java.awt.BorderLayout;\n+import java.awt.Button;\n@@ -34,0 +34,1 @@\n+import java.awt.EventQueue;\n@@ -38,0 +39,1 @@\n+import java.util.concurrent.CountDownLatch;\n@@ -40,12 +42,3 @@\n-    public static void main(String[] args) throws Exception {\n-        String INSTRUCTIONS = \"\"\"\n-                1. Move mouse to the TextArea.\n-                2. Press the left mouse button.\n-                3. Drag mouse to the list.\n-                4. Release the left mouse button.\n-\n-                If the mouse cursor starts as a Text Line Cursor and changes\n-                to a regular Pointer Cursor, then Hand Cursor when hovering\n-                the list, pass the test. This test fails if the cursor does\n-                not update at all when pointing over the different components.\n-                \"\"\";\n+    static Frame testFrame;\n+    static Frame instructionsFrame;\n+    static CountDownLatch countDownLatch;\n@@ -53,8 +46,8 @@\n-        PassFailJFrame.builder()\n-                .title(\"Test Instructions\")\n-                .instructions(INSTRUCTIONS)\n-                .rows((int) INSTRUCTIONS.lines().count() + 2)\n-                .columns(35)\n-                .testUI(ListDragCursor::createUI)\n-                .build()\n-                .awaitAndCheck();\n+    public static void main(String[] args) throws Exception {\n+        countDownLatch = new CountDownLatch(1);\n+        EventQueue.invokeAndWait(() -> {\n+            createTestFrame();\n+            createInstructionsFrame();\n+        });\n+        countDownLatch.await();\n+        System.out.println(\"Test Passed\");\n@@ -63,1 +56,1 @@\n-    public static Frame createUI() {\n+    static void createTestFrame() {\n@@ -81,2 +74,58 @@\n-        frame.setBounds(300, 100, 300, 150);\n-        return frame;\n+        frame.setSize(300, 150);\n+        frame.setLocation(450, 500);\n+        frame.setVisible(true);\n+    }\n+\n+    static void createInstructionsFrame() {\n+        String instructions = \"\"\"\n+                1. Move mouse to the TextArea.\n+                2. Press the left mouse button.\n+                3. Drag mouse to the list.\n+                4. Release the left mouse button.\n+\n+                The mouse cursor should appear as an I-beam cursor\n+                and should stay the same while dragging across the\n+                components. Once you reach the list, release the\n+                left mouse button. Immediately after, the cursor\n+                should change to a Hand cursor. If true, this test\n+                passes.\n+\n+                The test fails if the cursor updates while dragging\n+                over the components before releasing the left\n+                mouse button.\n+                \"\"\";\n+\n+        instructionsFrame = new Frame(\"Test Instructions\");\n+        Panel mainPanel = new Panel(new BorderLayout());\n+        TextArea textArea = new TextArea(instructions,\n+                15, 60, TextArea.SCROLLBARS_NONE);\n+\n+        Panel btnPanel = new Panel();\n+        Button passBtn = new Button(\"PASS\");\n+        Button failBtn = new Button(\"FAIL\");\n+        btnPanel.add(passBtn);\n+        btnPanel.add(failBtn);\n+\n+        passBtn.addActionListener(e -> disposeFrames());\n+        failBtn.addActionListener(e -> {\n+            disposeFrames();\n+            throw new RuntimeException(\"Test Failed\");\n+        });\n+\n+        mainPanel.add(textArea, BorderLayout.CENTER);\n+        mainPanel.add(btnPanel, BorderLayout.SOUTH);\n+\n+        instructionsFrame.add(mainPanel);\n+        instructionsFrame.pack();\n+        instructionsFrame.setLocation(300, 100);\n+        instructionsFrame.setVisible(true);\n+    }\n+\n+    static void disposeFrames() {\n+        countDownLatch.countDown();\n+        if (testFrame != null) {\n+            testFrame.dispose();\n+        }\n+        if (instructionsFrame != null) {\n+            instructionsFrame.dispose();\n+        }\n","filename":"test\/jdk\/java\/awt\/Cursor\/CursorDragTest\/ListDragCursor.java","additions":75,"deletions":26,"binary":false,"changes":101,"status":"modified"}]}
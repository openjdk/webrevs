{"files":[{"patch":"@@ -69,2 +69,1 @@\n-  \/\/ intptr_t _cloned_vtable[]; exists here, but flexible array members are C99, not C++.\n-  \/\/ Therefore, it's used implicitly as the space following _vtable_size.\n+  intptr_t _cloned_vtable[1]; \/\/ Pseudo flexible array member.\n@@ -77,1 +76,2 @@\n-  intptr_t* cloned_vtable()   { return &_vtable_size + 1; }\n+  \/\/ Using _cloned_vtable[i] for i > 0 causes undefined behavior. We use address calculation instead.\n+  intptr_t* cloned_vtable()   { return (intptr_t*)((char*)this + offset_of(CppVtableInfo, _cloned_vtable)); }\n","filename":"src\/hotspot\/share\/cds\/cppVtables.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
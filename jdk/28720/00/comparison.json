{"files":[{"patch":"@@ -71,0 +71,9 @@\n+    \/\/ We have to ensure that the constants are not special values that lead the operations to\n+    \/\/ constant fold. For example \"x + 0\" could constant fold to \"x\", so we need to avoid that\n+    \/\/ the add constant is zero.\n+    private static Generator<Float> genSmallRangeF = G.uniformFloats(0.1f, 0.9f);\n+    private static final Float16 RANDOM_CON_ADD = Float16.valueOf(genSmallRangeF.next());\n+    private static final Float16 RANDOM_CON_SUB = Float16.valueOf(genSmallRangeF.next());\n+    private static final Float16 RANDOM_CON_MUL = Float16.valueOf(genSmallRangeF.next());\n+    private static final Float16 RANDOM_CON_DIV = Float16.valueOf(genSmallRangeF.next());\n+\n@@ -438,4 +447,4 @@\n-        res += Float.floatToFloat16(RANDOM1_VAR.floatValue() + RANDOM2.floatValue());\n-        res += Float.floatToFloat16(RANDOM2_VAR.floatValue() - RANDOM3.floatValue());\n-        res += Float.floatToFloat16(RANDOM3_VAR.floatValue() * RANDOM4.floatValue());\n-        res += Float.floatToFloat16(RANDOM4_VAR.floatValue() \/ RANDOM5.floatValue());\n+        res += Float.floatToFloat16(RANDOM1_VAR.floatValue() + RANDOM_CON_ADD.floatValue());\n+        res += Float.floatToFloat16(RANDOM2_VAR.floatValue() - RANDOM_CON_SUB.floatValue());\n+        res += Float.floatToFloat16(RANDOM3_VAR.floatValue() * RANDOM_CON_MUL.floatValue());\n+        res += Float.floatToFloat16(RANDOM4_VAR.floatValue() \/ RANDOM_CON_DIV.floatValue());\n@@ -459,4 +468,4 @@\n-        res += Float.floatToFloat16(RANDOM2.floatValue() + RANDOM1_VAR.floatValue());\n-        res += Float.floatToFloat16(RANDOM3.floatValue() - RANDOM2_VAR.floatValue());\n-        res += Float.floatToFloat16(RANDOM4.floatValue() * RANDOM3_VAR.floatValue());\n-        res += Float.floatToFloat16(RANDOM5.floatValue() \/ RANDOM4_VAR.floatValue());\n+        res += Float.floatToFloat16(RANDOM_CON_ADD.floatValue() + RANDOM1_VAR.floatValue());\n+        res += Float.floatToFloat16(RANDOM_CON_SUB.floatValue() - RANDOM2_VAR.floatValue());\n+        res += Float.floatToFloat16(RANDOM_CON_MUL.floatValue() * RANDOM3_VAR.floatValue());\n+        res += Float.floatToFloat16(RANDOM_CON_DIV.floatValue() \/ RANDOM4_VAR.floatValue());\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestFloat16ScalarOperations.java","additions":17,"deletions":8,"binary":false,"changes":25,"status":"modified"}]}
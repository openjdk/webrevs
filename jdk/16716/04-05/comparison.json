{"files":[{"patch":"@@ -1144,1 +1144,2 @@\n-  XMMRegister maxmin, scratch;\n+  \/\/ Make sure EnableX86ECoreOpts isn't disabled on register overlaps \n+  XMMRegister maxmin, scratch; \n@@ -1153,1 +1154,2 @@\n-  if (EnableX86ECoreOpts && !is_double_word) {\n+  bool precompute_mask = EnableX86ECoreOpts && UseAVX>1;\n+  if (precompute_mask && !is_double_word) {\n@@ -1156,1 +1158,1 @@\n-  } else if (EnableX86ECoreOpts && is_double_word) {\n+  } else if (precompute_mask && is_double_word) {\n@@ -1161,2 +1163,3 @@\n-  (this->*vblend)(atmp, a, b, mask, vlen_enc, false, btmp);\n-  (this->*vblend)(btmp, b, a, mask, vlen_enc, false, tmp);\n+\n+  (this->*vblend)(atmp, a, b, mask, vlen_enc, !precompute_mask, btmp);\n+  (this->*vblend)(btmp, b, a, mask, vlen_enc, !precompute_mask, tmp);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -3573,0 +3573,1 @@\n+  bool blend_emulation = EnableX86ECoreOpts && UseAVX > 1;\n@@ -3575,1 +3576,1 @@\n-  if (EnableX86ECoreOpts && scratch_available && dst_available) {\n+  if (blend_emulation && scratch_available && dst_available) {\n@@ -3596,0 +3597,1 @@\n+  bool blend_emulation = EnableX86ECoreOpts && UseAVX > 1;\n@@ -3598,1 +3600,1 @@\n-  if (EnableX86ECoreOpts && scratch_available && dst_available) {\n+  if (blend_emulation && scratch_available && dst_available) {\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
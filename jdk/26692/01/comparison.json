{"files":[{"patch":"@@ -511,1 +511,0 @@\n-  const GrowableArray<G1HeapRegion*>* survivor_regions = _g1h->survivor()->regions();\n@@ -513,4 +512,2 @@\n-  for (GrowableArrayIterator<G1HeapRegion*> it = survivor_regions->begin();\n-       it != survivor_regions->end();\n-       ++it) {\n-    survivor_regions_evac_time += predict_region_copy_time_ms(*it, _g1h->collector_state()->in_young_only_phase());\n+  for (G1HeapRegion* r : _g1h->survivor()->regions()) {\n+    survivor_regions_evac_time += predict_region_copy_time_ms(r, _g1h->collector_state()->in_young_only_phase());\n@@ -1464,5 +1461,2 @@\n-  for (GrowableArrayIterator<G1HeapRegion*> it = survivors->regions()->begin();\n-       it != survivors->regions()->end();\n-       ++it) {\n-    G1HeapRegion* curr = *it;\n-    set_region_survivor(curr);\n+  for (G1HeapRegion* r : survivors->regions()) {\n+    set_region_survivor(r);\n@@ -1473,1 +1467,1 @@\n-    _collection_set->add_survivor_regions(curr);\n+    _collection_set->add_survivor_regions(r);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp","additions":5,"deletions":11,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-  _regions(new (mtGC) GrowableArray<G1HeapRegion*>(8, mtGC)),\n+  _regions(8, mtGC),\n@@ -37,1 +37,1 @@\n-  _regions->append(hr);\n+  _regions.append(hr);\n@@ -42,1 +42,1 @@\n-  return (uint)_regions->length();\n+  return (uint)_regions.length();\n@@ -50,5 +50,2 @@\n-  for (GrowableArrayIterator<G1HeapRegion*> it = _regions->begin();\n-       it != _regions->end();\n-       ++it) {\n-    G1HeapRegion* hr = *it;\n-    hr->set_eden_pre_gc();\n+  for (G1HeapRegion* r : _regions) {\n+    r->set_eden_pre_gc();\n@@ -60,1 +57,1 @@\n-  _regions->clear();\n+  _regions.clear();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1SurvivorRegions.cpp","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"utilities\/growableArray.hpp\"\n@@ -35,0 +36,1 @@\n+\/\/ Set of current survivor regions.\n@@ -36,4 +38,3 @@\n-private:\n-  GrowableArray<G1HeapRegion*>* _regions;\n-  volatile size_t             _used_bytes;\n-  G1RegionsOnNodes            _regions_on_node;\n+  GrowableArray<G1HeapRegion*> _regions;\n+  volatile size_t _used_bytes;\n+  G1RegionsOnNodes _regions_on_node;\n@@ -53,1 +54,1 @@\n-  const GrowableArray<G1HeapRegion*>* regions() const {\n+  const GrowableArray<G1HeapRegion*>& regions() const {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1SurvivorRegions.hpp","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"}]}
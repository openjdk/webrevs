{"files":[{"patch":"@@ -65,1 +65,1 @@\n-    static void trainAndRun(String testName, String trainingFlags, String productionFlags) throws Exception {\n+    static void trainAndRun(String testName, String trainingFlags, String productionFlags, String errorPattern) throws Exception {\n@@ -105,1 +105,1 @@\n-        out.shouldNotContain(\"does not equal\");\n+        out.shouldNotMatch(errorPattern);\n@@ -115,1 +115,1 @@\n-        out.shouldContain(\"does not equal\");\n+        out.shouldMatch(errorPattern);\n@@ -120,5 +120,5 @@\n-        trainAndRun(\"TypeProfileLevel\", \"-XX:TypeProfileLevel=222\", \"-XX:TypeProfileLevel=111\");\n-        trainAndRun(\"TypeProfileArgsLimit\", \"-XX:TypeProfileArgsLimit=2\", \"-XX:TypeProfileArgsLimit=3\");\n-        trainAndRun(\"TypeProfileParamsLimit\", \"-XX:TypeProfileParmsLimit=2\", \"-XX:TypeProfileParmsLimit=3\");\n-        trainAndRun(\"TypeProfileWidth\", \"-XX:TypeProfileWidth=2\", \"-XX:TypeProfileWidth=3\");\n-        trainAndRun(\"SpecTrapLimitExtraEntries\", \"-XX:SpecTrapLimitExtraEntries=2\", \"-XX:SpecTrapLimitExtraEntries=3\");\n+        String errorPattern = \".*Profile.* setting .* does not equal the current .*Profile.* setting.*\";\n+        trainAndRun(\"TypeProfileLevel\", \"-XX:TypeProfileLevel=222\", \"-XX:TypeProfileLevel=111\", errorPattern);\n+        trainAndRun(\"TypeProfileArgsLimit\", \"-XX:TypeProfileArgsLimit=2\", \"-XX:TypeProfileArgsLimit=3\", errorPattern);\n+        trainAndRun(\"TypeProfileParamsLimit\", \"-XX:TypeProfileParmsLimit=2\", \"-XX:TypeProfileParmsLimit=3\", errorPattern);\n+        trainAndRun(\"TypeProfileWidth\", \"-XX:TypeProfileWidth=2\", \"-XX:TypeProfileWidth=3\", errorPattern);\n@@ -126,2 +126,2 @@\n-          trainAndRun(\"ProfileTraps\", \"-XX:+ProfileTraps\", \"-XX:-ProfileTraps\");\n-          trainAndRun(\"TypeProfileCasts\", \"-XX:+TypeProfileCasts\", \"-XX:-TypeProfileCasts\");\n+          trainAndRun(\"ProfileTraps\", \"-XX:+ProfileTraps\", \"-XX:-ProfileTraps\", errorPattern);\n+          trainAndRun(\"TypeProfileCasts\", \"-XX:+TypeProfileCasts\", \"-XX:-TypeProfileCasts\", errorPattern);\n@@ -129,0 +129,2 @@\n+        errorPattern = \"SpecTrapLimitExtraEntries setting .* does not equal the current SpecTrapLimitExtraEntries setting\";\n+        trainAndRun(\"SpecTrapLimitExtraEntries\", \"-XX:SpecTrapLimitExtraEntries=2\", \"-XX:SpecTrapLimitExtraEntries=3\", errorPattern);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/aotProfile\/AOTProfileFlags.java","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"}]}
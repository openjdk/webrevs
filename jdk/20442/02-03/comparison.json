{"files":[{"patch":"@@ -61,0 +61,4 @@\n+    \/\/ this will be set to true only when the peer explicitly states (through a GOAWAY frame or\n+    \/\/ a relevant error code in reset frame) that the corresponding stream (id) wasn't processed\n+    private volatile boolean unprocessedByPeer;\n+\n@@ -269,5 +273,7 @@\n-    \/\/ This method returns false - every exchange is considered as processed by the peer,\n-    \/\/ unless the peer explicitly states (through a GOAWAY frame) that the\n-    \/\/ corresponding stream wasn't processed\n-    boolean isUnprocessedByPeer() {\n-        return false;\n+    final boolean isUnprocessedByPeer() {\n+        return this.unprocessedByPeer;\n+    }\n+\n+    \/\/ Marks the exchange as unprocessed by the peer\n+    final void markUnprocessedByPeer() {\n+        this.unprocessedByPeer = true;\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/ExchangeImpl.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -1217,1 +1217,1 @@\n-        setFinalStream(); \/\/ don't allow any new streams on this connection\n+\n@@ -1219,0 +1219,1 @@\n+        setFinalStream(); \/\/ don't allow any new streams on this connection\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Http2Connection.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -166,3 +166,0 @@\n-    \/\/ this will be set to true only when the peer explicitly states (through a GOAWAY frame)\n-    \/\/ that the corresponding stream (id) wasn't processed\n-    private volatile boolean unprocessedByPeer;\n@@ -652,1 +649,1 @@\n-                    this.unprocessedByPeer = true;\n+                    markUnprocessedByPeer();\n@@ -1699,1 +1696,1 @@\n-        this.unprocessedByPeer = true;\n+        markUnprocessedByPeer();\n@@ -1709,5 +1706,0 @@\n-    @Override\n-    boolean isUnprocessedByPeer() {\n-        return this.unprocessedByPeer;\n-    }\n-\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Stream.java","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -2220,1 +2220,1 @@\n-    FreeHeap(this);\n+    ShouldNotCallThis();\n@@ -2227,1 +2227,1 @@\n-  static int compute_size(int total_args_passed, BasicType* sig_bt) {\n+  static int compute_size(int total_args_passed) {\n@@ -2229,1 +2229,1 @@\n-    return sizeof(AdapterFingerPrint) + (len * sizeof(int));\n+    return BytesPerWord * (int)heap_word_size(sizeof(AdapterFingerPrint) + (len * sizeof(int)));\n@@ -2292,2 +2292,4 @@\n-    int size_in_bytes = compute_size(total_args_passed, sig_bt);\n-    return new (size_in_bytes) AdapterFingerPrint(total_args_passed, sig_bt);\n+    int size_in_bytes = compute_size(total_args_passed);\n+    AdapterFingerPrint* afp = new (size_in_bytes) AdapterFingerPrint(total_args_passed, sig_bt);\n+    assert((afp->size() * BytesPerWord) == size_in_bytes, \"should match\");\n+    return afp;\n@@ -2297,1 +2299,1 @@\n-    fp->~AdapterFingerPrint();\n+    FreeHeap(fp);\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -714,0 +714,1 @@\n+    assert(size == BytesPerWord * heap_word_size(sizeof(AdapterHandlerEntry)), \"should match\");\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
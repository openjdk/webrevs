{"files":[{"patch":"@@ -1167,2 +1167,7 @@\n-  if (target % modulus != 0) {\n-    nop(modulus - (target % modulus));\n+  int mask = modulus - 1;\n+  guarantee((modulus & mask) == 0, \"Modulus must be a power of two\");\n+  int numNops = mask & (-target);\n+  assert(numNops >= 0 && numNops < modulus, \"Unexpected number of NOPs\");\n+  assert((target + numNops) % modulus == 0, \"Incorrect number of NOPs\");\n+  if (numNops != 0) {\n+    nop(numNops);\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -1123,13 +1123,2 @@\n-    if (strlen(locked_message_buf) == 0) {\n-      if (found_flag->is_bool() && !has_plus_minus) {\n-        jio_fprintf(defaultStream::error_stream(),\n-          \"Missing +\/- setting for VM option '%s'\\n\", argname);\n-      } else if (!found_flag->is_bool() && has_plus_minus) {\n-        jio_fprintf(defaultStream::error_stream(),\n-          \"Unexpected +\/- setting in VM option '%s'\\n\", argname);\n-      } else {\n-        jio_fprintf(defaultStream::error_stream(),\n-          \"Improperly specified VM option '%s'\\n\", argname);\n-      }\n-    } else {\n-#ifdef PRODUCT\n+    if (strlen(locked_message_buf) != 0) {\n+      #ifdef PRODUCT\n@@ -1141,1 +1130,1 @@\n-#endif\n+      #endif\n@@ -1144,0 +1133,10 @@\n+    if (found_flag->is_bool() && !has_plus_minus) {\n+        jio_fprintf(defaultStream::error_stream(),\n+          \"Missing +\/- setting for VM option '%s'\\n\", argname);\n+    } else if (!found_flag->is_bool() && has_plus_minus) {\n+      jio_fprintf(defaultStream::error_stream(),\n+        \"Unexpected +\/- setting in VM option '%s'\\n\", argname);\n+    } else {\n+      jio_fprintf(defaultStream::error_stream(),\n+        \"Improperly specified VM option '%s'\\n\", argname);\n+    }\n@@ -3920,1 +3919,1 @@\n-}\n+}\n\\ No newline at end of file\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":15,"deletions":16,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,0 +62,6 @@\n+\n+    pb = ProcessTools.createLimitedTestJavaProcessBuilder(\n+            \"-XX:UnlockExperimentalVMOptions\");\n+    output = new OutputAnalyzer(pb.start());\n+    output.stderrShouldContain(\"VM option 'UnlockExperimentalVMOptions' is experimental and must be enabled via -XX:+UnlockExperimentalVMOptions.\");\n+    output.stderrShouldContain(\"Missing +\/- setting for VM option 'UnlockExperimentalVMOptions'\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/TestVMOptions.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}
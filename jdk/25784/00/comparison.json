{"files":[{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 0)                                          \\\n+\n+\n","filename":"src\/hotspot\/cpu\/aarch64\/stubDeclarations_aarch64.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -11656,0 +11656,4 @@\n+  void generate_preuniverse_stubs() {\n+    \/\/ preuniverse stubs are not needed for aarch64\n+  }\n+\n@@ -11901,0 +11905,3 @@\n+    case preuniverse_id:\n+      generate_preuniverse_stubs();\n+      break;\n","filename":"src\/hotspot\/cpu\/aarch64\/stubGenerator_aarch64.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 0)                                          \\\n+\n+\n","filename":"src\/hotspot\/cpu\/arm\/stubDeclarations_arm.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -3129,0 +3129,4 @@\n+  void generate_preuniverse_stubs() {\n+    \/\/ preuniverse stubs are not needed for arm\n+  }\n+\n@@ -3204,0 +3208,3 @@\n+    case preuniverse_id:\n+      generate_preuniverse_stubs();\n+      break;\n","filename":"src\/hotspot\/cpu\/arm\/stubGenerator_arm.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 0)                                          \\\n+\n+\n","filename":"src\/hotspot\/cpu\/ppc\/stubDeclarations_ppc.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -4941,0 +4941,4 @@\n+  void generate_preuniverse_stubs() {\n+    \/\/ preuniverse stubs are not needed for ppc\n+  }\n+\n@@ -5070,0 +5074,3 @@\n+    case preuniverse_id:\n+      generate_preuniverse_stubs();\n+      break;\n","filename":"src\/hotspot\/cpu\/ppc\/stubGenerator_ppc.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 0)                                          \\\n+\n+\n","filename":"src\/hotspot\/cpu\/riscv\/stubDeclarations_riscv.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -6663,0 +6663,4 @@\n+  void generate_preuniverse_stubs() {\n+    \/\/ preuniverse stubs are not needed for riscv\n+  }\n+\n@@ -6818,0 +6822,3 @@\n+    case preuniverse_id:\n+      generate_preuniverse_stubs();\n+      break;\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 0)                                          \\\n+\n+\n","filename":"src\/hotspot\/cpu\/s390\/stubDeclarations_s390.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -3286,0 +3286,4 @@\n+  void generate_preuniverse_stubs() {\n+    \/\/ preuniverse stubs are not needed for s390\n+  }\n+\n@@ -3421,0 +3425,3 @@\n+    case preuniverse_id:\n+      generate_preuniverse_stubs();\n+      break;\n","filename":"src\/hotspot\/cpu\/s390\/stubGenerator_s390.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 500)                                        \\\n+\n+\n","filename":"src\/hotspot\/cpu\/x86\/stubDeclarations_x86.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -4052,0 +4052,5 @@\n+void generate_preuniverse_stubs() {\n+  \/\/ atomic calls\n+  StubRoutines::_fence_entry                = generate_orderaccess_fence();\n+}\n+\n@@ -4077,3 +4082,0 @@\n-  \/\/ atomic calls\n-  StubRoutines::_fence_entry                = generate_orderaccess_fence();\n-\n@@ -4347,0 +4349,3 @@\n+  case preuniverse_id:\n+    generate_preuniverse_stubs();\n+    break;\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -29,0 +29,7 @@\n+#define STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub,                      \\\n+                                          do_arch_blob,                 \\\n+                                          do_arch_entry,                \\\n+                                          do_arch_entry_init)           \\\n+  do_arch_blob(preuniverse, 0)                                          \\\n+\n+\n","filename":"src\/hotspot\/cpu\/zero\/stubDeclarations_zero.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -181,0 +181,4 @@\n+  void generate_preuniverse_stubs() {\n+    \/\/ preuniverse stubs are not needed for zero\n+  }\n+\n@@ -217,0 +221,3 @@\n+    case preuniverse_id:\n+      generate_preuniverse_stubs();\n+      break;\n","filename":"src\/hotspot\/cpu\/zero\/stubGenerator_zero.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+void preuniverse_stubs_init();\n@@ -132,0 +133,2 @@\n+  \/\/ initialize stubs needed before we can init the universe\n+  preuniverse_stubs_init();\n","filename":"src\/hotspot\/share\/runtime\/init.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -178,1 +178,1 @@\n-\/\/ are generated in batches into one of four distinct BufferBlobs:\n+\/\/ are generated in batches into one of five distinct BufferBlobs:\n@@ -180,4 +180,5 @@\n-\/\/ 1) Initial stubs\n-\/\/ 2) Continuation stubs\n-\/\/ 3) Compiler stubs\n-\/\/ 4) Final stubs\n+\/\/ 1) PreUniverse stubs\n+\/\/ 2) Initial stubs\n+\/\/ 3) Continuation stubs\n+\/\/ 4) Compiler stubs\n+\/\/ 5) Final stubs\n@@ -271,0 +272,1 @@\n+\/\/   _preuniverse_stubs_code_size  =   500,\n@@ -504,0 +506,4 @@\n+#ifndef STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO\n+#error \"Arch-specific directory failed to declare required initial stubs and entries\"\n+#endif\n+\n@@ -536,1 +542,15 @@\n-#define STUBGEN_INITIAL_BLOBS_DO(do_blob, end_blob,                     \\\n+#define STUBGEN_PREUNIVERSE_BLOBS_DO(do_blob, end_blob,                 \\\n+                                     do_stub,                           \\\n+                                     do_entry, do_entry_init,           \\\n+                                     do_entry_array,                    \\\n+                                     do_arch_blob,                      \\\n+                                     do_arch_entry, do_arch_entry_init) \\\n+  do_blob(preuniverse)                                                  \\\n+  do_stub(preuniverse, fence)                                           \\\n+  do_entry(preuniverse, fence, fence_entry, fence_entry)                \\\n+  \/* merge in stubs and entries declared in arch header *\/              \\\n+  STUBGEN_PREUNIVERSE_BLOBS_ARCH_DO(do_stub, do_arch_blob,              \\\n+                                    do_arch_entry, do_arch_entry_init)  \\\n+  end_blob(preuniverse)                                                 \\\n+\n+#define STUBGEN_INITIAL_BLOBS_DO(do_blob, end_blob,                      \\\n@@ -553,2 +573,0 @@\n-  do_stub(initial, fence)                                               \\\n-  do_entry(initial, fence, fence_entry, fence_entry)                    \\\n@@ -1015,0 +1033,6 @@\n+  STUBGEN_PREUNIVERSE_BLOBS_DO(do_blob, end_blob,                       \\\n+                               do_stub,                                 \\\n+                               do_entry, do_entry_init,                 \\\n+                               do_entry_array,                          \\\n+                               do_arch_blob,                            \\\n+                               do_arch_entry, do_arch_entry_init)       \\\n","filename":"src\/hotspot\/share\/runtime\/stubDeclarations.hpp","additions":32,"deletions":8,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -223,0 +223,8 @@\n+  if (code_size == 0) {\n+    LogTarget(Info, stubs) lt;\n+    if (lt.is_enabled()) {\n+      LogStream ls(lt);\n+      ls.print_cr(\"%s\\t not generated\", buffer_name);\n+      return nullptr;\n+    }\n+  }\n","filename":"src\/hotspot\/share\/runtime\/stubRoutines.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}
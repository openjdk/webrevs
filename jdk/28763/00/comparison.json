{"files":[{"patch":"@@ -27,0 +27,1 @@\n+#include \"utilities\/spinYield.hpp\"\n@@ -33,0 +34,2 @@\n+  SpinYield sy(4096, 5, millis_to_nanos(1));\n+\n@@ -34,2 +37,0 @@\n-  int ctr = 0;\n-  int Yields = 0;\n@@ -38,13 +39,1 @@\n-      ++ctr;\n-      if ((ctr & 0xFFF) == 0 || !os::is_MP()) {\n-        if (Yields > 5) {\n-          os::naked_short_sleep(1);\n-        }\n-        else {\n-          os::naked_yield();\n-          ++Yields;\n-        }\n-      }\n-      else {\n-        SpinPause();\n-      }\n+      sy.wait();\n","filename":"src\/hotspot\/share\/utilities\/spinCriticalSection.cpp","additions":4,"deletions":15,"binary":false,"changes":19,"status":"modified"}]}
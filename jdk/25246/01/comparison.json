{"files":[{"patch":"@@ -927,1 +927,1 @@\n-            DecimalDigits.getCharsLatin1(i, spaceNeeded, value);\n+            DecimalDigits.uncheckedGetCharsLatin1(i, spaceNeeded, value);\n@@ -929,1 +929,1 @@\n-            DecimalDigits.getCharsUTF16(i, spaceNeeded, value);\n+            DecimalDigits.uncheckedGetCharsUTF16(i, spaceNeeded, value);\n@@ -954,1 +954,1 @@\n-            DecimalDigits.getCharsLatin1(l, spaceNeeded, value);\n+            DecimalDigits.uncheckedGetCharsLatin1(l, spaceNeeded, value);\n@@ -956,1 +956,1 @@\n-            DecimalDigits.getCharsUTF16(l, spaceNeeded, value);\n+            DecimalDigits.uncheckedGetCharsUTF16(l, spaceNeeded, value);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/AbstractStringBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -435,1 +435,1 @@\n-            DecimalDigits.getCharsLatin1(i, size, buf);\n+            DecimalDigits.uncheckedGetCharsLatin1(i, size, buf);\n@@ -439,1 +439,1 @@\n-            DecimalDigits.getCharsUTF16(i, size, buf);\n+            DecimalDigits.uncheckedGetCharsUTF16(i, size, buf);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Integer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -465,1 +465,1 @@\n-            DecimalDigits.getCharsLatin1(i, size, buf);\n+            DecimalDigits.uncheckedGetCharsLatin1(i, size, buf);\n@@ -469,1 +469,1 @@\n-            DecimalDigits.getCharsUTF16(i, size, buf);\n+            DecimalDigits.uncheckedGetCharsUTF16(i, size, buf);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Long.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -318,1 +318,1 @@\n-            index = DecimalDigits.getCharsLatin1(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsLatin1(value, index, buf);\n@@ -323,1 +323,1 @@\n-            index = DecimalDigits.getCharsUTF16(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsUTF16(value, index, buf);\n@@ -344,1 +344,1 @@\n-            index = DecimalDigits.getCharsLatin1(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsLatin1(value, index, buf);\n@@ -349,1 +349,1 @@\n-            index = DecimalDigits.getCharsUTF16(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsUTF16(value, index, buf);\n@@ -716,1 +716,1 @@\n-            index = DecimalDigits.getCharsLatin1(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsLatin1(value, index, buf);\n@@ -720,1 +720,1 @@\n-            index = DecimalDigits.getCharsUTF16(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsUTF16(value, index, buf);\n@@ -740,1 +740,1 @@\n-            index = DecimalDigits.getCharsLatin1(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsLatin1(value, index, buf);\n@@ -744,1 +744,1 @@\n-            index = DecimalDigits.getCharsUTF16(value, index, buf);\n+            index = DecimalDigits.uncheckedGetCharsUTF16(value, index, buf);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringConcatHelper.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -4141,1 +4141,1 @@\n-            DecimalDigits.getCharsLatin1(highInt, highIntSize, buf);\n+            DecimalDigits.uncheckedGetCharsLatin1(highInt, highIntSize, buf);\n@@ -4143,1 +4143,1 @@\n-            DecimalDigits.putPairLatin1(buf, highIntSize + 1, lowInt);\n+            DecimalDigits.uncheckedPutPairLatin1(buf, highIntSize + 1, lowInt);\n","filename":"src\/java.base\/share\/classes\/java\/math\/BigDecimal.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -146,0 +146,2 @@\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n@@ -152,2 +154,1 @@\n-    public static int getCharsLatin1(int i, int index, byte[] buf) {\n-        \/\/ Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller.\n+    public static int uncheckedGetCharsLatin1(int i, int index, byte[] buf) {\n@@ -166,1 +167,1 @@\n-            putPairLatin1(buf, charPos, (q * 100) - i);\n+            uncheckedPutPairLatin1(buf, charPos, (q * 100) - i);\n@@ -173,1 +174,1 @@\n-            putPairLatin1(buf, charPos, -i);\n+            uncheckedPutPairLatin1(buf, charPos, -i);\n@@ -175,1 +176,1 @@\n-            putCharLatin1(buf, --charPos, '0' - i);\n+            uncheckedPutCharLatin1(buf, --charPos, '0' - i);\n@@ -179,1 +180,1 @@\n-            putCharLatin1(buf, --charPos, '-');\n+            uncheckedPutCharLatin1(buf, --charPos, '-');\n@@ -196,0 +197,2 @@\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n@@ -202,2 +205,1 @@\n-    public static int getCharsLatin1(long i, int index, byte[] buf) {\n-        \/\/ Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller.\n+    public static int uncheckedGetCharsLatin1(long i, int index, byte[] buf) {\n@@ -216,1 +218,1 @@\n-            putPairLatin1(buf, charPos, (int)((q * 100) - i));\n+            uncheckedPutPairLatin1(buf, charPos, (int)((q * 100) - i));\n@@ -226,1 +228,1 @@\n-            putPairLatin1(buf, charPos, (q2 * 100) - i2);\n+            uncheckedPutPairLatin1(buf, charPos, (q2 * 100) - i2);\n@@ -233,1 +235,1 @@\n-            putPairLatin1(buf, charPos, -i2);\n+            uncheckedPutPairLatin1(buf, charPos, -i2);\n@@ -235,1 +237,1 @@\n-            putCharLatin1(buf, --charPos, '0' - i2);\n+            uncheckedPutCharLatin1(buf, --charPos, '0' - i2);\n@@ -239,1 +241,1 @@\n-            putCharLatin1(buf, --charPos, '-');\n+            uncheckedPutCharLatin1(buf, --charPos, '-');\n@@ -246,1 +248,1 @@\n-     * This is a variant of {@link DecimalDigits#getCharsLatin1(int, int, byte[])}, but for\n+     * This is a variant of {@link DecimalDigits#uncheckedGetCharsLatin1(int, int, byte[])}, but for\n@@ -248,0 +250,2 @@\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n@@ -254,2 +258,1 @@\n-    public static int getCharsUTF16(int i, int index, byte[] buf) {\n-        \/\/ Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller.\n+    public static int uncheckedGetCharsUTF16(int i, int index, byte[] buf) {\n@@ -268,1 +271,1 @@\n-            putPairUTF16(buf, charPos, (q * 100) - i);\n+            uncheckedPutPairUTF16(buf, charPos, (q * 100) - i);\n@@ -275,1 +278,1 @@\n-            putPairUTF16(buf, charPos, -i);\n+            uncheckedPutPairUTF16(buf, charPos, -i);\n@@ -277,1 +280,1 @@\n-            putCharUTF16(buf, --charPos, '0' - i);\n+            uncheckedPutCharUTF16(buf, --charPos, '0' - i);\n@@ -281,1 +284,1 @@\n-            putCharUTF16(buf, --charPos, '-');\n+            uncheckedPutCharUTF16(buf, --charPos, '-');\n@@ -288,1 +291,1 @@\n-     * This is a variant of {@link DecimalDigits#getCharsLatin1(long, int, byte[])}, but for\n+     * This is a variant of {@link DecimalDigits#uncheckedGetCharsLatin1(long, int, byte[])}, but for\n@@ -290,0 +293,2 @@\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n@@ -296,2 +301,1 @@\n-    public static int getCharsUTF16(long i, int index, byte[] buf) {\n-        \/\/ Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller.\n+    public static int uncheckedGetCharsUTF16(long i, int index, byte[] buf) {\n@@ -310,1 +314,1 @@\n-            putPairUTF16(buf, charPos, (int)((q * 100) - i));\n+            uncheckedPutPairUTF16(buf, charPos, (int)((q * 100) - i));\n@@ -320,1 +324,1 @@\n-            putPairUTF16(buf, charPos, (q2 * 100) - i2);\n+            uncheckedPutPairUTF16(buf, charPos, (q2 * 100) - i2);\n@@ -327,1 +331,1 @@\n-            putPairUTF16(buf, charPos, -i2);\n+            uncheckedPutPairUTF16(buf, charPos, -i2);\n@@ -329,1 +333,1 @@\n-            putCharUTF16(buf, --charPos, '0' - i2);\n+            uncheckedPutCharUTF16(buf, --charPos, '0' - i2);\n@@ -333,1 +337,1 @@\n-            putCharUTF16(buf, --charPos, '-');\n+            uncheckedPutCharUTF16(buf, --charPos, '-');\n@@ -339,1 +343,1 @@\n-     * This is a variant of {@link DecimalDigits#getCharsUTF16(long, int, byte[])}, but for\n+     * This is a variant of {@link DecimalDigits#uncheckedGetCharsUTF16(long, int, byte[])}, but for\n@@ -348,1 +352,0 @@\n-        \/\/ Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller.\n@@ -405,0 +408,3 @@\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n+     *\n@@ -409,1 +415,1 @@\n-    public static void putPairLatin1(byte[] buf, int charPos, int v) {\n+    public static void uncheckedPutPairLatin1(byte[] buf, int charPos, int v) {\n@@ -411,2 +417,2 @@\n-        putCharLatin1(buf, charPos, packed & 0xFF);\n-        putCharLatin1(buf, charPos + 1, packed >> 8);\n+        uncheckedPutCharLatin1(buf, charPos, packed & 0xFF);\n+        uncheckedPutCharLatin1(buf, charPos + 1, packed >> 8);\n@@ -418,0 +424,3 @@\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n+     *\n@@ -422,1 +431,1 @@\n-    public static void putPairUTF16(byte[] buf, int charPos, int v) {\n+    public static void uncheckedPutPairUTF16(byte[] buf, int charPos, int v) {\n@@ -424,2 +433,2 @@\n-        putCharUTF16(buf, charPos, packed & 0xFF);\n-        putCharUTF16(buf, charPos + 1, packed >> 8);\n+        uncheckedPutCharUTF16(buf, charPos, packed & 0xFF);\n+        uncheckedPutCharUTF16(buf, charPos + 1, packed >> 8);\n@@ -428,1 +437,6 @@\n-    private static void putCharLatin1(byte[] buf, int charPos, int c) {\n+    \/**\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n+     *\/\n+    private static void uncheckedPutCharLatin1(byte[] buf, int charPos, int c) {\n+        assert charPos >= 0 && charPos < buf.length;\n@@ -432,1 +446,6 @@\n-    private static void putCharUTF16(byte[] buf, int charPos, int c) {\n+    \/**\n+     * <p>\n+     * <b>WARNING: Used by trusted callers.  Assumes all necessary bounds checks have been done by the caller. <\/b>\n+     *\/\n+    private static void uncheckedPutCharUTF16(byte[] buf, int charPos, int c) {\n+        assert charPos >= 0 && charPos < (buf.length >> 1);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/DecimalDigits.java","additions":57,"deletions":38,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -123,1 +123,1 @@\n-        int pos = DecimalDigits.getCharsUTF16(i, end, value);\n+        int pos = DecimalDigits.uncheckedGetCharsUTF16(i, end, value);\n@@ -130,1 +130,1 @@\n-        int pos = DecimalDigits.getCharsUTF16(l, end, value);\n+        int pos = DecimalDigits.uncheckedGetCharsUTF16(l, end, value);\n","filename":"test\/hotspot\/jtreg\/compiler\/patches\/java.base\/java\/lang\/Helper.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,24 +56,2 @@\n-        Icon myIcon = new Icon() {\n-            public void paintIcon(Component c, Graphics g, int x, int y) {\n-                Color color = g.getColor();\n-                g.setColor(Color.RED);\n-                g.fillRect(x, y, 10, 10);\n-                g.setColor(color);\n-            }\n-\n-            public int getIconWidth() { return 10; }\n-            public int getIconHeight() { return 10; }\n-        };\n-\n-        Icon myIcon2 = new Icon() {\n-            public void paintIcon(Component c, Graphics g, int x, int y) {\n-                Color color = g.getColor();\n-                g.setColor(Color.GREEN);\n-                g.fillRect(x, y, 15, 10);\n-                g.setColor(color);\n-            }\n-\n-            public int getIconWidth() { return 15; }\n-            public int getIconHeight() { return 10; }\n-        };\n-\n+        Icon myIcon = new ColoredIcon(Color.RED,10,10);\n+        Icon myIcon2 = new ColoredIcon(Color.GREEN,15,10);\n@@ -85,1 +63,1 @@\n-        String title = \"Menu Item Test \" + (isLeft ? \"(Left-to-right)\" : \"(Right-to-left)\");\n+        String title = (isLeft ? \"(Left-to-right)\" : \"(Right-to-left)\") + \" - Menu Item Test\";\n@@ -87,1 +65,0 @@\n-        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n@@ -89,1 +66,3 @@\n-        frame.applyComponentOrientation(isLeft ? ComponentOrientation.LEFT_TO_RIGHT : ComponentOrientation.RIGHT_TO_LEFT);\n+        frame.applyComponentOrientation(isLeft\n+                ? ComponentOrientation.LEFT_TO_RIGHT\n+                : ComponentOrientation.RIGHT_TO_LEFT);\n@@ -111,1 +90,0 @@\n-\n@@ -120,1 +98,1 @@\n-        rm2.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F1, KeyEvent.SHIFT_MASK));\n+        rm2.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F1, KeyEvent.SHIFT_DOWN_MASK));\n@@ -139,1 +117,1 @@\n-        final JMenu menu2 = new JMenu(\"No nothing\");\n+        final JMenu noMenu = new JMenu(\"No nothing\");\n@@ -143,7 +121,4 @@\n-            item.addActionListener(new AbstractAction() {\n-                public void actionPerformed(ActionEvent e) {\n-                    int width = menu2.getPopupMenu().getWidth();\n-                    PassFailJFrame.log(\"menu.width = \" + width);\n-                }\n-            });\n-            menu2.add(item);\n+            item.addActionListener((e) ->\n+                    PassFailJFrame.log(\"menu.width = \"\n+                            + noMenu.getPopupMenu().getWidth()));\n+            noMenu.add(item);\n@@ -152,1 +127,1 @@\n-        return menu2;\n+        return noMenu;\n@@ -171,0 +146,19 @@\n+\n+    private record ColoredIcon(Color color, int width,\n+                               int height) implements Icon {\n+        @Override\n+            public void paintIcon(Component c, Graphics g, int x, int y) {\n+                Color oldColor = g.getColor();\n+                g.setColor(color);\n+                g.fillRect(x, y, width, height);\n+                g.setColor(oldColor);\n+            }\n+            @Override\n+            public int getIconWidth() {\n+                return width;\n+            }\n+            @Override\n+            public int getIconHeight() {\n+                return height;\n+            }\n+        }\n","filename":"test\/jdk\/javax\/swing\/JMenuItem\/MenuItemTest\/MenuItemTestHelper.java","additions":33,"deletions":39,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -52,0 +52,1 @@\n+                .positionTestUIBottomRowCentered()\n@@ -60,1 +61,0 @@\n-        frame1.setLocation(300, 300);\n@@ -64,2 +64,0 @@\n-        frame2.setLocation((int) (frame1.getLocation().getX() + frame1.getWidth()\n-                + 100), 300);\n@@ -68,2 +66,0 @@\n-        frame3.setLocation(300, (int) (frame1.getLocation().getY()\n-                + frame1.getHeight() + 100));\n@@ -72,3 +68,0 @@\n-        frame4.setLocation((int) (frame3.getLocation().getX() + frame3.getWidth()\n-                        + 100),\n-                (int) frame3.getLocation().getY());\n","filename":"test\/jdk\/javax\/swing\/JMenuItem\/MenuItemTest\/bug6197830.java","additions":1,"deletions":8,"binary":false,"changes":9,"status":"modified"}]}
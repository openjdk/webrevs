{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import java.io.IOException;\n@@ -1620,0 +1621,17 @@\n+    \/**\n+     * Writes the queue to the stream whilst holding the locks to prevent\n+     * broken invariants.\n+     *\n+     * @param s the stream\n+     * @throws java.io.IOException if an I\/O error occurs\n+     *\/\n+    private void writeObject(java.io.ObjectOutputStream s) throws IOException {\n+        final ReentrantLock lock = this.lock;\n+        lock.lock();\n+        try {\n+            s.defaultWriteObject();\n+        } finally {\n+            lock.unlock();\n+        }\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ArrayBlockingQueue.java","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"}]}
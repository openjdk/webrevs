{"files":[{"patch":"@@ -2446,0 +2446,6 @@\n+  \/\/ Clear current young cset group to allow adding.\n+  \/\/ It is fine to clear it this late - evacuation does not add any remembered sets\n+  \/\/ by itself, but only marks cards.\n+  \/\/ The regions had their association to this group already removed earlier.\n+  young_regions_cset_group()->clear();\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -309,1 +309,4 @@\n-  double predicted_base_time_ms = _policy->predict_base_time_ms(pending_cards, _g1h->young_regions_cardset()->occupied());\n+  size_t num_young_cards = _g1h->young_regions_cardset()->occupied();\n+  _policy->record_card_rs_length(num_young_cards);\n+\n+  double predicted_base_time_ms = _policy->predict_base_time_ms(pending_cards, num_young_cards);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSet.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -132,2 +132,2 @@\n-  void record_card_rs_length(size_t card_rs_length) {\n-    _card_rs_length = card_rs_length;\n+  void record_card_rs_length(size_t num_cards) {\n+    _card_rs_length = num_cards;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1443,10 +1443,0 @@\n-  {\n-    size_t young_rs_length = g1h->young_regions_cardset()->occupied();\n-    \/\/ We only use young_rs_length statistics to estimate young regions length.\n-    g1h->policy()->record_card_rs_length(young_rs_length);\n-\n-    \/\/ Clear current young only collection set. Survivor regions will be added\n-    \/\/ to the set during evacuation.\n-    g1h->young_regions_cset_group()->clear();\n-  }\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp","additions":0,"deletions":10,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -522,1 +522,0 @@\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
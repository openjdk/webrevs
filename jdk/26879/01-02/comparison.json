{"files":[{"patch":"@@ -62,1 +62,1 @@\n-    \/\/ In milliseconds\n+    \/\/ In nanoseconds\n@@ -65,0 +65,1 @@\n+    private long stressTime;\n@@ -184,1 +185,1 @@\n-        println(out, \"Execution time: \" + (currentTime - startTime)\/1000.0 + \" seconds\");\n+        println(out, \"Execution time: \" + (currentTime - startTime)\/1_000_000_000.0 + \" seconds\");\n@@ -191,2 +192,2 @@\n-        } else if (options.getTime() != 0 && (currentTime - startTime) >= options.getTime() * 1000) {\n-            println(out, \"Execution finished because time was exceeded: \" + (currentTime - startTime) + \" >= \" + options.getTime() * 1000);\n+        } else if (stressTime != 0 && (currentTime - startTime) >= stressTime) {\n+            println(out, \"Execution finished because time has exceeded stress time: \" + stressTime \/ 1_000_000_000 + \" seconds\");\n@@ -213,2 +214,2 @@\n-        long stressTime = options.getTime();\n-        startTime = System.nanoTime()\/1000000;\n+        stressTime = options.getTime() * 1_000_000_000;\n+        startTime = System.nanoTime();\n@@ -232,1 +233,1 @@\n-        currentTime = System.nanoTime()\/1000000;\n+        currentTime = System.nanoTime();\n@@ -269,1 +270,1 @@\n-        currentTime = System.nanoTime()\/1000000;\n+        currentTime = System.nanoTime();\n@@ -276,1 +277,1 @@\n-                && (options.getTime() == 0 || (currentTime - startTime) < options.getTime() * 1000);\n+                && (stressTime == 0 || (currentTime - startTime) < stressTime);\n@@ -311,1 +312,1 @@\n-        return System.nanoTime()\/1000000 - startTime;\n+        return (System.nanoTime() - startTime) \/ 1_000_000;\n@@ -320,2 +321,1 @@\n-        long elapsedTime = System.nanoTime()\/1000000 - startTime;\n-        long stressTime = options.getTime() * 1000;\n+        long elapsedTime = System.nanoTime() - startTime;\n@@ -325,1 +325,1 @@\n-            return stressTime - elapsedTime;\n+            return (stressTime - elapsedTime) \/ 1_000_000;\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/test\/Stresser.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"}]}
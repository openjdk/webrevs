{"files":[{"patch":"@@ -82,2 +82,7 @@\n- * Similarly, it may or may not be desirable for hashtag replacements to escape\n- * an insertion scope or an anchoring scope.\n+ * Note, that if we use {@link insert} with {@link transparentScope}, then {@link DataName}s\n+ * and {@link StructuralName}s escape from the inserted scope to the anchor scope, but\n+ * hashtag replacements and {@link setFuelCost} escapes to the caller, i.e. from where\n+ * we inserted the scope. This makes sense if we consider {@link DataName}s belong to\n+ * the structure of the generated code, and the inserted scope thus belongs nested into\n+ * the anchor scope. On the other hand, hashtag replacements and {@link setFuelCost}\n+ * rather belongs to the code generation that happens within the context of a template.\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/Hook.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -831,0 +831,6 @@\n+     * <p>\n+     * Note that a {@code let} definition makes the hashtag replacement available\n+     * for anything that follows it, until the the end of the next outer scope\n+     * that is non-transparent for hashtag replacements. Additionally, hashtag\n+     * replacements are limited to the template they were defined in.\n+     *\n@@ -931,0 +937,3 @@\n+     * If the current scope is transparent to {@link DataName}s, it escapes to the next\n+     * outer scope that is non-transparent, and is available for everything that follows\n+     * the {@code addDataName} until the end of that non-transparent scope.\n@@ -956,0 +965,3 @@\n+     * If the current scope is transparent to {@link DataName}s, it escapes to the next\n+     * outer scope that is non-transparent, and is available for everything that follows\n+     * the {@code addDataName} until the end of that non-transparent scope.\n@@ -980,0 +992,3 @@\n+     * If the current scope is transparent to {@link StructuralName}s, it escapes to the next\n+     * outer scope that is non-transparent, and is available for everything that follows\n+     * the {@code addStructuralName} until the end of that non-transparent scope.\n@@ -997,0 +1012,3 @@\n+     * If the current scope is transparent to {@link StructuralName}s, it escapes to the next\n+     * outer scope that is non-transparent, and is available for everything that follows\n+     * the {@code addStructuralName} until the end of that non-transparent scope.\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/Template.java","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -209,0 +209,6 @@\n+    \/\/\n+    \/\/ Important: hashtag replacements are always constrained to a single template\n+    \/\/            and are not available in any nested templates. Hashtag replacements\n+    \/\/            are only there to facilitate string templating within the limited\n+    \/\/            scope of a template. You may consider it like a \"local variable\"\n+    \/\/            for code generation purposes only.\n@@ -506,0 +512,2 @@\n+                \/\/ Note that we were able to use the dollar replacement \"$field1\" and the hashtag\n+                \/\/ replacement \"#x\" inside the scope that is inserted to myHook.\n@@ -738,0 +746,6 @@\n+    \/\/\n+    \/\/ Note: the template library contains a lot of types that model the Java types,\n+    \/\/       such as primitive types ({@code PrimitiveType}). The following examples\n+    \/\/       give insight into how those types work. If you are just interested in\n+    \/\/       how to use the predefined types, then you can find other examples in\n+    \/\/       {@code examples\/TestPrimitiveTypes.java}.\n@@ -763,0 +777,4 @@\n+            \/\/\n+            \/\/ Also note that DataNames are only available once they are defined:\n+            \/\/\n+            \/\/ Nothing defined, yet: dataNames() = {}\n@@ -764,0 +782,1 @@\n+            \/\/ Only now dataNames() contains f1: dataNames() = {f1}\n@@ -765,0 +784,1 @@\n+            \/\/ dataNames() = {f1, f2}\n@@ -766,0 +786,1 @@\n+            \/\/ dataNames() = {f1, f2, f3}\n@@ -844,1 +865,2 @@\n-        \/\/       so that the DataName can escape to outer scopes.\n+        \/\/       so that the DataName can escape to outer scopes, so that it is available to\n+        \/\/       everything that follows the DataName definition in the outer scope.\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/template_framework\/examples\/TestTutorial.java","additions":23,"deletions":1,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -32,1 +32,1 @@\n- * The {@link CodeFrame} represents a frame (i.e. scope) of generated code by appending {@link Code} to the {@code 'codeList'}\n+ * The {@link CodeFrame} represents a frame (i.e. scope) of generated code by appending {@link Code} to the {@link #codeList}\n@@ -45,1 +45,1 @@\n- * and not of the ones from the caller scope. Once the {@link Hook#insert}ion is complete, we\n+ * and not the ones from the caller scope. Once the {@link Hook#insert}ion is complete, we\n@@ -58,3 +58,1 @@\n- * Below, we look at a few examples, and show the use of CodeFrames (c) and TemplateFrames (t).\n- *\n- * Example1: anchoring and insertion in the same Template\n+ * Below, we look at an example, and show the use of CodeFrames (c) and TemplateFrames (t).\n@@ -100,7 +98,4 @@\n- *   t1 c1  t2 c2b ... t3 c3     with hashtag             t4     c4\n- *   t1 c1  t2 c2b ... t3 c3     and setFuelCost          t4     c4\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4 \"use hashtag #x\"           -> t: hashtag queried in insertion and caller scope\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4                               c: code added to anchoring scope\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4 let(\"x\", 42)               -> t: hashtag escapes to caller scope because\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4                                  insertion scope is transparent\n+ *   t1 c1  t2 c2b ... t3 c3     with hashtag             t4     c4                            \/\/ t: Concerns Template Frame\n+ *   t1 c1  t2 c2b ... t3 c3     and setFuelCost          t4     c4                            \/\/ c: Concerns Code Frame\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4 \"use hashtag #x\"           -> t: hashtag queried in Insertion (t4) and Caller Scope (t3)\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4                               c: code added to Anchoring Scope (c2a)\n@@ -108,1 +103,2 @@\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4 dataNames(...)...sample()  -> c: sample from insertion and anchoring scope\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4 let(\"x\", 42)               -> t: hashtag definition escapes to Caller Scope (t3) because\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4                                  Insertion Scope is transparent\n@@ -110,2 +106,4 @@\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4 addDataName(...)           -> c: names escape to the caller scope because\n- *   t1 c1  t2 c2b ... t3 c3                              t4     c4                                  insertion scope is transparent\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4 dataNames(...)...sample()  -> c: sample from Insertion (c4) and Anchoring Scope (c2a)\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4                                  (CodeFrame nesting: c2a -> c4)\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4 addDataName(...)           -> c: names escape to the Caller Scope (c3) because\n+ *   t1 c1  t2 c2b ... t3 c3                              t4     c4                                  Insertion Scope is transparent\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/CodeFrame.java","additions":13,"deletions":15,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-        private static record DataNamePredicate(FilteredSet fs) implements NameSet.Predicate {\n+        private record DataNamePredicate(FilteredSet fs) implements NameSet.Predicate {\n@@ -205,1 +205,1 @@\n-            return new NameSampleToken<DataName>(predicate(), null, null, function);\n+            return new NameSampleToken<>(predicate(), null, null, function);\n@@ -329,1 +329,1 @@\n-            return new NamesToListToken(predicate(), function);\n+            return new NamesToListToken<>(predicate(), function);\n@@ -337,1 +337,1 @@\n-         *                 for each of the {@link DataName}s in the filtereds set.\n+         *                 for each of the {@link DataName}s in the filtered set.\n@@ -343,1 +343,1 @@\n-            return new NameForEachToken<DataName>(predicate(), null, null, function);\n+            return new NameForEachToken<>(predicate(), null, null, function);\n@@ -367,1 +367,1 @@\n-            return new NameForEachToken<DataName>(predicate(), name, type, function);\n+            return new NameForEachToken<>(predicate(), name, type, function);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/DataName.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -287,1 +287,1 @@\n-        \/\/ in the currendCodeFrame.\n+        \/\/ in the currentCodeFrame.\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/Renderer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,2 +26,0 @@\n-import java.util.List;\n-\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/ScopeToken.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+ * <p>\n@@ -34,1 +35,1 @@\n- *       record should be private. One way too solve this is with a public interface\n+ *       record should be private. One way to solve this is with a public interface\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/ScopeTokenImpl.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-        private static record StructuralNamePredicate(FilteredSet fs) implements NameSet.Predicate {\n+        private record StructuralNamePredicate(FilteredSet fs) implements NameSet.Predicate {\n@@ -178,1 +178,1 @@\n-            return new NameSampleToken<StructuralName>(predicate(), null, null, function);\n+            return new NameSampleToken<>(predicate(), null, null, function);\n@@ -248,1 +248,1 @@\n-            return new NamesToListToken(predicate(), function);\n+            return new NamesToListToken<>(predicate(), function);\n@@ -262,1 +262,1 @@\n-            return new NameForEachToken<StructuralName>(predicate(), null, null, function);\n+            return new NameForEachToken<>(predicate(), null, null, function);\n@@ -286,1 +286,1 @@\n-            return new NameForEachToken<StructuralName>(predicate(), name, type, function);\n+            return new NameForEachToken<>(predicate(), name, type, function);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/StructuralName.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -774,1 +774,1 @@\n-     * In some cases, it can be helpful to have different {@link setFuelCost} within\n+     * In some cases, it can be helpful to have different {@link #setFuelCost} within\n@@ -791,1 +791,1 @@\n-     *     )\n+     *     ),\n@@ -883,1 +883,1 @@\n-     * )));\n+     * ));\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/Template.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -169,2 +169,2 @@\n-        if (this.isTransparentForFuel) {\n-            this.parent.setFuelCost(fuelCost);\n+        if (isTransparentForFuel) {\n+            parent.setFuelCost(fuelCost);\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/TemplateFrame.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
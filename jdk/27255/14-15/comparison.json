{"files":[{"patch":"@@ -30,1 +30,1 @@\n- * hashtag replacements and {@link setFuelCost} are local, or escape to\n+ * hashtag replacements and {@link Template#setFuelCost} are local, or escape to\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/ScopeTokenImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -203,1 +203,1 @@\n- *     <th>                          <\/th><th> hashtag         <\/th><th> {@link DataName} and {@link StructuralName} <\/th><th> {@link setFuelCost} <\/th>\n+ *     <th>                          <\/th><th> hashtag         <\/th><th> {@link DataName} and {@link StructuralName} <\/th><th> {@link #setFuelCost} <\/th>\n@@ -206,1 +206,1 @@\n- *     <th> {@link scope}            <\/th><th> non-transparent <\/th><th> non-transparent                             <\/th><th> non-transparent     <\/th>\n+ *     <th> {@link #scope}            <\/th><th> non-transparent <\/th><th> non-transparent                             <\/th><th> non-transparent     <\/th>\n@@ -209,1 +209,1 @@\n- *     <th> {@link hashtagScope}     <\/th><th> non-transparent <\/th><th> transparent                                 <\/th><th> transparent         <\/th>\n+ *     <th> {@link #hashtagScope}     <\/th><th> non-transparent <\/th><th> transparent                                 <\/th><th> transparent         <\/th>\n@@ -212,1 +212,1 @@\n- *     <th> {@link nameScope}        <\/th><th> transparent     <\/th><th> non-transparent                             <\/th><th> transparent         <\/th>\n+ *     <th> {@link #nameScope}        <\/th><th> transparent     <\/th><th> non-transparent                             <\/th><th> transparent         <\/th>\n@@ -215,1 +215,1 @@\n- *     <th> {@link setFuelCostScope} <\/th><th> transparent     <\/th><th> transparent                                 <\/th><th> non-transparent     <\/th>\n+ *     <th> {@link #setFuelCostScope} <\/th><th> transparent     <\/th><th> transparent                                 <\/th><th> non-transparent     <\/th>\n@@ -582,5 +582,7 @@\n-     * Creates a {@link ScopeToken} which represents a scope that is non-transparent for\n-     * {@link DataName}s and {@link StructuralName}s, as well as hashtag-replacements and\n-     * {@link setFuelCost}. This means that any such name, hashtag-replacement or\n-     * {@link setFuelCost} declared inside the scope is local and does not escape to outer\n-     * scopes.\n+     * Creates a {@link ScopeToken} that represents a scope that is completely\n+     * non-transparent, <strong>not<\/strong> allowing anything to escape. This \n+     * means that no {@link DataName}, {@link StructuralName}s, hashtag-replacement\n+     * or {@link #setFuelCost} defined inside the scope is available outside. All \n+     * these usages are only local to the defining scope here.\n+     * \n+     * <p>\n@@ -592,2 +594,5 @@\n-     * If you require a scope that is transparent for some or all of the above, consider\n-     * using {@link transparentScope}, {@link nameScope}, {@link hashtagScope}, or {@link setFuelCostScope}.\n+     * If you require a scope that is either fully transparent (i.e. everything escapes)\n+     * or only restricts a specific kind to not escape, consider using one of the other\n+     * provided scopes: {@link #transparentScope}, {@link #nameScope}, {@link #hashtagScope}, \n+     * or {@link #setFuelCostScope}. A \"scope-transparency-matrix\" can also be found in\n+     * the interface comment for {@link Template}.\n@@ -611,8 +616,13 @@\n-     * Note that {@code Template.make} always implicitly are non-transparent to\n-     * hashtag-replacements and {@link setFuelCost}, but they can be transparent\n-     * for {@link DataName}s and {@link StructuralName}s. It is recommended to\n-     * use {@link scope} by default for {@code Template.make} since in most cases\n-     * template scopes align with code scopes that are non-transparent for fields,\n-     * variables, etc. In rare cases where the scope of the template needs to be\n-     * transparent (e.g. because we need to insert a variable or field into an\n-     * outer scope), it is recommended to use {@link transparentScope}.\n+     * Note that regardless of the chosen scope for {@code Template.make},\n+     * hashtag-replacements and {@link #setFuelCost} are always implicitly\n+     * non-transparent (i.e. non-escaping) for hashtag-replacements and \n+     * {@link #setFuelCost} (e.g. a {@link #let} will not escape the template\n+     * scope even when using {@link #transparentScope}. As a default, it is \n+     * recommended to use {@link #scope} for {@code Template.make} since in \n+     * most cases template scopes align with code scopes that are \n+     * non-transparent for fields, variables, etc. In rare cases, where the \n+     * scope of the template needs to be transparent (e.g. because we need \n+     * to insert a variable or field into an outer scope), it is recommended \n+     * to use {@link #transparentScope}. This allows to make {@link DataName}s \n+     * and {@link StructuralName}s available outside this template crossing\n+     * the template boundary.\n@@ -632,1 +642,1 @@\n-     *     \/\/        not available any more because of the non-transparent \"scope\".\n+     *     \/\/        not available anymore because of the non-transparent \"scope\".\n@@ -653,5 +663,4 @@\n-     * Creates a {@link ScopeToken} which represents a scope that is transparent for\n-     * {@link DataName}s and {@link StructuralName}s, as well as hashtag-replacements and\n-     * {@link setFuelCost}. This means that any such name, hashtag-replacement or\n-     * {@link setFuelCost} declared inside the scope escapes that scope and is still\n-     * available in the outer scope.\n+     * Creates a {@link ScopeToken} that represents a completely transparent scope, allowing\n+     * anything to escape anything. This means that {@link DataName}s, {@link StructuralName}s,\n+     * hashtag-replacements and {@link #setFuelCost} declared inside the scope will be available\n+     * in the outer scope.\n@@ -663,2 +672,4 @@\n-     * If you require a scope that is non-transparent for some or all of the above, consider\n-     * using {@link scope}, {@link nameScope}, {@link hashtagScope}, or {@link setFuelCostScope}.\n+     * If you require a scope that is non-transparent (i.e. nothing escapes) or only restricts \n+     * a specific kind to not escape, consider using one of the other provided scopes: \n+     * {@link #scope}, {@link #nameScope}, {@link #hashtagScope}, or {@link #setFuelCostScope}. \n+     * A \"scope-transparency-matrix\" can also be found in the interface comment for {@link Template}.\n@@ -677,3 +688,6 @@\n-     * Creates a {@link ScopeToken} which represents a scope that is non-transparent for\n-     * {@link DataName}s and {@link StructuralName}s, but transparent for hashtag-replacements\n-     * and {@link setFuelCost}.\n+     * Creates a {@link ScopeToken} that represents a scope that is non-transparent for\n+     * {@link DataName}s and {@link StructuralName}s (i.e. cannot escape), but\n+     * transparent for hashtag-replacements and {@link #setFuelCost} (i.e. available\n+     * in outer scope).\n+     * \n+     * <p>\n@@ -685,2 +699,4 @@\n-     * If you require a scope that is non-transparent for some or all of the above, consider\n-     * using {@link scope}, {@link transparentScope}, {@link hashtagScope}, or {@link setFuelCostScope}.\n+     * If you require a scope that is transparent or uses a different restriction, consider\n+     * using one of the other provided scopes: {@link #scope}, {@link #transparentScope},\n+     * {@link #hashtagScope}, or {@link #setFuelCostScope}. A \"scope-transparency-matrix\" can \n+     * also be found in the interface comment for {@link Template}.\n@@ -699,3 +715,5 @@\n-     * Creates a {@link ScopeToken} which represents a scope that is non-transparent for\n-     * hashtag-replacements, but transparent for {@link DataName}s and {@link StructuralName}s\n-     * and {@link setFuelCost}.\n+     * Creates a {@link ScopeToken} that represents a scope that is non-transparent for\n+     * hashtag-replacements (i.e. cannot escape), but transparent for {@link DataName}s\n+     * and {@link StructuralName}s and {@link #setFuelCost} (i.e. available in outer scope).\n+     *\n+     * <p>\n@@ -707,2 +725,4 @@\n-     * If you require a scope that is non-transparent for some or all of the above, consider\n-     * using {@link scope}, {@link transparentScope}, {@link nameScope}, {@link setFuelCostScope}.\n+     * If you require a scope that is transparent or uses a different restriction, consider\n+     * using one of the other provided scopes: {@link #scope}, {@link #transparentScope},\n+     * {@link #nameScope}, or {@link #setFuelCostScope}. A \"scope-transparency-matrix\" can\n+     * also be found in the interface comment for {@link Template}.\n@@ -740,3 +760,3 @@\n-     * Creates a {@link ScopeToken} which represents a scope that is non-transparent for\n-     * {@link setFuelCost}. but transparent for {@link DataName}s and {@link StructuralName}s\n-     * and hashtag-replacements.\n+     * Creates a {@link ScopeToken} that represents a scope that is non-transparent for\n+     * {@link #setFuelCost} (i.e. cannot escape), but transparent for hashtag-replacements,\n+     * {@link DataName}s and {@link StructuralName}s (i.e. available in outer scope).\n@@ -748,2 +768,4 @@\n-     * If you require a scope that is non-transparent for some or all of the above, consider\n-     * using {@link scope}, {@link transparentScope}, {@link nameScope}, {@link setFuelCostScope}.\n+     * If you require a scope that is transparent or uses a different restriction, consider\n+     * using one of the other provided scopes: {@link #scope}, {@link #transparentScope},\n+     * {@link #hashtagScope}, or {@link #nameScope}. A \"scope-transparency-matrix\" can\n+     * also be found in the interface comment for {@link Template}.\n@@ -812,1 +834,1 @@\n-        \/\/ Note, since the dollar replacements do not change during a template\n+        \/\/ Note, since the dollar replacements do not change within a template\n@@ -918,1 +940,1 @@\n-        \/\/ Note, since the fuel amount does not change during a template\n+        \/\/ Note, since the fuel amount does not change within a template\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/Template.java","additions":67,"deletions":45,"binary":false,"changes":112,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * inner scope is local and disapears once we leave the scope. The {@link #parent} relationship\n+ * inner scope is local and disappears once we leave the scope. The {@link #parent} relationship\n@@ -38,1 +38,1 @@\n- * is reduced over this chain, to give a heuristic on how much time is spent on the code\n+ * is reduced over this chain to give a heuristic on how much time is spent on the code\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/template_framework\/TemplateFrame.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
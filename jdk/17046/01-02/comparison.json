{"files":[{"patch":"@@ -3687,1 +3687,1 @@\n-  Assembler::lwu(val, val, 0);\n+  lwu(val, Address(val));\n@@ -3717,1 +3717,12 @@\n-  Assembler::lwu(crc, tmp1, 0);\n+  lwu(crc, Address(tmp1));\n+\n+  \/\/ In order to access table elements according to initial algorithm\n+  \/\/ the following actions should be performed (with no Zba enabled):\n+  \/\/  tmp1 = v >> 8\n+  \/\/  tmp1 = tmp1 & bits8\n+  \/\/  tmp1 = tmp1 << 2\n+  \/\/  tmp1 += table2\n+  \/\/ Which is the same as:\n+  \/\/  tmp1 = v >> 6\n+  \/\/  tmp1 = tmp1 & (bits8 << 2)\n+  \/\/  tmp1 += table2\n@@ -3722,1 +3733,1 @@\n-  Assembler::lwu(tmp2, tmp1, 0);\n+  lwu(tmp2, Address(tmp1));\n@@ -3729,1 +3740,1 @@\n-  Assembler::lwu(tmp2, tmp1, 0);\n+  lwu(tmp2, Address(tmp1));\n@@ -3736,1 +3747,1 @@\n-  Assembler::lwu(tmp2, tmp1, 0);\n+  lwu(tmp2, Address(tmp1));\n@@ -3751,1 +3762,1 @@\n-  Label L_by16, L_by16_loop, L_by16_loop_entry, L_by4, L_by4_loop, L_by1, L_by1_loop, L_exit;\n+  Label L_by16_loop, L_by16_loop_entry, L_by4, L_by4_loop, L_by1, L_by1_loop, L_exit;\n@@ -3760,1 +3771,1 @@\n-  add(table3, table0, 3*256*sizeof(juint), tmp);\n+  add(table3, table2, 1*256*sizeof(juint), tmp);\n@@ -3762,8 +3773,7 @@\n-  bind(L_by16);\n-    subw(len, len, 16);\n-    bge(len, zr, L_by16_loop);\n-    addiw(len, len, 16-4);\n-    bge(len, zr, L_by4_loop);\n-    addiw(len, len, 4);\n-    bgt(len, zr, L_by1_loop);\n-    j(L_exit);\n+  subw(len, len, 16);\n+  bge(len, zr, L_by16_loop);\n+  addiw(len, len, 16-4);\n+  bge(len, zr, L_by4_loop);\n+  addiw(len, len, 4);\n+  bgt(len, zr, L_by1_loop);\n+  j(L_exit);\n@@ -3772,1 +3782,1 @@\n-    Assembler::lwu(tmp, buf, 0);\n+    lwu(tmp, Address(buf));\n@@ -3782,1 +3792,1 @@\n-    Assembler::lbu(tmp, buf, 0);\n+    lbu(tmp, Address(buf));\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":27,"deletions":17,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -4637,1 +4637,1 @@\n-   *       rax   - int crc result\n+   *   c_rarg0   - int crc result\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
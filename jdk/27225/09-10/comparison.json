{"files":[{"patch":"@@ -1673,1 +1673,0 @@\n-  Node* last = store;\n@@ -1679,0 +1678,1 @@\n+  Node* last = store;\n@@ -1681,4 +1681,4 @@\n-    out = unique_next;\n-    for (DUIterator_Fast imax, l = out->fast_outs(imax); l < imax; l++) {\n-      Node* use = out->fast_out(l);\n-      if (use->is_Mem() && use->in(MemNode::Memory) == out) {\n+    last = unique_next;\n+    for (DUIterator_Fast imax, l = last->fast_outs(imax); l < imax; l++) {\n+      Node* use = last->fast_out(l);\n+      if (use->is_Store() && use->in(MemNode::Memory) == last) {\n@@ -1687,1 +1687,1 @@\n-          assert(unique_next == out, \"memory node should only have one usage in the loop body\");\n+          assert(unique_next == last, \"memory node should only have one usage in the loop body\");\n@@ -1692,1 +1692,1 @@\n-  } while (out != unique_next);\n+  } while (last != unique_next);\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
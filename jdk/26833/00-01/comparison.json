{"files":[{"patch":"@@ -25,0 +25,1 @@\n+import java.awt.image.BufferedImage;\n@@ -26,0 +27,1 @@\n+import java.awt.Graphics2D;\n@@ -69,2 +71,4 @@\n-            Rectangle rect = new Rectangle(p.x, p.y, size, size);\n-            BufferedImage img = robot.createScreenCapture(rect);\n+            BufferedImage bi = new BufferedImage(size, size, BufferedImage.TYPE_INT_ARGB);\n+            final Graphics2D graphics = bi.createGraphics();\n+            desktopPane.paint(graphics);\n+            graphics.dispose();\n@@ -73,1 +77,0 @@\n-            Color testColor = new Color(testRGB);\n@@ -75,4 +78,2 @@\n-                int rgbCW = img.getRGB(i, size \/ 2);\n-                int rgbCH = img.getRGB(size \/ 2, i);\n-                Color rgbCWColor = new Color(rgbCW);\n-                Color rgbCHColor = new Color(rgbCH);\n+                int rgbCW = bi.getRGB(i, size \/ 2);\n+                int rgbCH = bi.getRGB(size \/ 2, i);\n@@ -80,6 +81,1 @@\n-                if (Math.abs(rgbCWColor.getRed() - testColor.getRed()) > tolerance\n-                    || Math.abs(rgbCWColor.getGreen() - testColor.getGreen()) > tolerance\n-                    || Math.abs(rgbCWColor.getBlue() - testColor.getBlue()) > tolerance\n-                    || Math.abs(rgbCHColor.getRed() - testColor.getRed()) > tolerance\n-                    || Math.abs(rgbCHColor.getGreen() - testColor.getGreen()) > tolerance\n-                    || Math.abs(rgbCHColor.getBlue() - testColor.getBlue()) > tolerance) {\n+                if (rgbCW != testRGB || rgbCH != testRGB) {\n","filename":"test\/jdk\/javax\/swing\/JInternalFrame\/8160248\/JInternalFrameDraggingTest.java","additions":9,"deletions":13,"binary":false,"changes":22,"status":"modified"}]}
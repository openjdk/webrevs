{"files":[{"patch":"@@ -37,1 +37,1 @@\n- * @summary Tests that DefaultComboBoxModel doesn't fire a \"contents changed\" unneccesarily\n+ * @summary Tests that DefaultComboBoxModel doesn't fire a \"contents changed\" unnecessarily\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/bug4180054.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -24,0 +24,1 @@\n+import java.awt.Dimension;\n@@ -49,0 +50,1 @@\n+    static JComboBox cmbAction;\n@@ -50,0 +52,1 @@\n+    static volatile Dimension btnSize;\n@@ -51,9 +54,1 @@\n-    private static boolean flag = false;\n-\n-    private static boolean passed() {\n-        return flag;\n-    }\n-\n-    private static void pass() {\n-        flag = true;\n-    }\n+    private static volatile boolean flag;\n@@ -66,1 +61,1 @@\n-            robot.delay(250);\n+            robot.delay(1000);\n@@ -77,1 +72,4 @@\n-            SwingUtilities.invokeAndWait(() -> loc = btnAction.getLocationOnScreen());\n+            SwingUtilities.invokeAndWait(() -> {\n+                loc = btnAction.getLocationOnScreen();\n+                btnSize = btnAction.getSize();\n+            });\n@@ -81,1 +79,4 @@\n-            robot.mouseMove(loc.x, loc.y);\n+            robot.mouseMove(loc.x + btnSize.width \/ 2,\n+                    loc.y + btnSize.height \/ 2);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -85,1 +86,1 @@\n-            robot.delay(250);\n+            robot.delay(1000);\n@@ -87,1 +88,1 @@\n-            if (!passed()) {\n+            if (!flag) {\n@@ -104,1 +105,3 @@\n-        JComboBox cmbAction = new JComboBox();\n+        cmbAction = new JComboBox();\n+\n+        flag = false;\n@@ -106,1 +109,1 @@\n-        ActionListener al = e -> pass();\n+        ActionListener al = e -> flag = true;\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/bug4530952.java","additions":19,"deletions":16,"binary":false,"changes":35,"status":"modified"}]}
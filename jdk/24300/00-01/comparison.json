{"files":[{"patch":"@@ -2540,1 +2540,6 @@\n-        __ movdqu(as_XMMRegister(Matcher::_regEncode[reg]), Address(rsp, stack_offset));\n+        if ((UseAVX < 3) || VM_Version::supports_avx512vl()) {\n+          __ movdqu(as_XMMRegister(Matcher::_regEncode[reg]), Address(rsp, stack_offset));\n+        } else {\n+          __ vpxor(as_XMMRegister(Matcher::_regEncode[reg]), as_XMMRegister(Matcher::_regEncode[reg]), as_XMMRegister(Matcher::_regEncode[reg]), 2);\n+          __ vinsertf32x4(as_XMMRegister(Matcher::_regEncode[reg]), as_XMMRegister(Matcher::_regEncode[reg]), Address(rsp, stack_offset),0x0);\n+        }\n@@ -2543,1 +2548,6 @@\n-        __ vmovdqu(as_XMMRegister(Matcher::_regEncode[reg]), Address(rsp, stack_offset));\n+        if ((UseAVX < 3) || VM_Version::supports_avx512vl()) {\n+          __ vmovdqu(as_XMMRegister(Matcher::_regEncode[reg]), Address(rsp, stack_offset));\n+        } else {\n+          __ vpxor(as_XMMRegister(Matcher::_regEncode[reg]), as_XMMRegister(Matcher::_regEncode[reg]), as_XMMRegister(Matcher::_regEncode[reg]), 2);\n+          __ vinsertf64x4(as_XMMRegister(Matcher::_regEncode[reg]), as_XMMRegister(Matcher::_regEncode[reg]), Address(rsp, stack_offset),0x0);\n+        }\n@@ -2560,1 +2570,6 @@\n-        __ movdqu(Address(rsp, stack_offset), as_XMMRegister(Matcher::_regEncode[reg]));\n+        if ((UseAVX < 3) || VM_Version::supports_avx512vl()) {\n+          __ movdqu(Address(rsp, stack_offset), as_XMMRegister(Matcher::_regEncode[reg]));\n+        }\n+        else {\n+          __ vextractf32x4(Address(rsp, stack_offset), as_XMMRegister(Matcher::_regEncode[reg]), 0x0);\n+        }\n@@ -2563,1 +2578,6 @@\n-        __ vmovdqu(Address(rsp, stack_offset), as_XMMRegister(Matcher::_regEncode[reg]));\n+        if ((UseAVX < 3) || VM_Version::supports_avx512vl()) {\n+          __ vmovdqu(Address(rsp, stack_offset), as_XMMRegister(Matcher::_regEncode[reg]));\n+        }\n+        else {\n+          __ vextractf64x4(Address(rsp, stack_offset), as_XMMRegister(Matcher::_regEncode[reg]), 0x0);\n+        }\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":24,"deletions":4,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -754,1 +754,0 @@\n-  \/\/ x86_32 combine x86.ad and x86_32.ad, the vec*\/legVec* can not be cleaned from IA32\n@@ -759,1 +758,1 @@\n-#elif defined(IA32) || defined(AMD64)\n+#elif defined(AMD64)\n","filename":"src\/hotspot\/share\/adlc\/archDesc.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
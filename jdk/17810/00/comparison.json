{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -1311,1 +1311,1 @@\n-            } else if (seltype.isReference() && bp.type.isPrimitive() && types.isCastable(seltype, bp.type)) {\n+            } else if (seltype.isReference() && bp.type.isPrimitive() && types.isUnconditionallyExact(types.unboxedType(seltype), bp.type)) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Flow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * @bug 8304487\n+ * @bug 8304487 8325653\n@@ -220,0 +220,24 @@\n+\n+    public static int nonExhaustive4() {\n+        Number n = Byte.valueOf((byte) 42);\n+        return switch (n) { \/\/ Error - not exhaustive\n+            case byte  b when b == 42 -> 1;\n+            case byte  b -> -1 ;\n+        };\n+    }\n+\n+    public static int nonExhaustive5() {\n+        Object n = 42;\n+        return switch (n) { \/\/ Error - not exhaustive\n+            case int  b when b == 42 -> 1;\n+            case int  b -> -1 ;\n+        };\n+    }\n+\n+    public static int nonExhaustive6() {\n+        Object n = 42;\n+        return switch (n) { \/\/ Error - not exhaustive\n+            case byte b -> -1 ;\n+            case int b -> -2 ;\n+        };\n+    }\n","filename":"test\/langtools\/tools\/javac\/patterns\/PrimitivePatternsSwitchErrors.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -35,0 +35,3 @@\n+PrimitivePatternsSwitchErrors.java:223:16: compiler.err.not.exhaustive\n+PrimitivePatternsSwitchErrors.java:231:16: compiler.err.not.exhaustive\n+PrimitivePatternsSwitchErrors.java:239:16: compiler.err.not.exhaustive\n@@ -37,1 +40,1 @@\n-34 errors\n\\ No newline at end of file\n+37 errors\n\\ No newline at end of file\n","filename":"test\/langtools\/tools\/javac\/patterns\/PrimitivePatternsSwitchErrors.out","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
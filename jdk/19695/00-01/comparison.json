{"files":[{"patch":"@@ -41,0 +41,2 @@\n+import javax.swing.UIManager;\n+import javax.swing.UnsupportedLookAndFeelException;\n@@ -51,1 +53,1 @@\n-    public static void main(String[] args) throws Exception {\n+    private static void setLookAndFeel(UIManager.LookAndFeelInfo laf) {\n@@ -53,43 +55,53 @@\n-            Robot robot = new Robot();\n-            SwingUtilities.invokeAndWait(() -> {\n-                frame = new JFrame();\n-                jsp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n-                                     new JButton(\"Left\"),\n-                                     new JButton(\"Right\"));\n-\n-                frame.getContentPane().add(jsp);\n-                jsp.setUI(new TestSplitPaneUI());\n-                jsp.setOneTouchExpandable(true);\n-\n-                jsp.setEnabled(false);\n-\n-                frame.setSize(400, 200);\n-                frame.setLocationRelativeTo(null);\n-                frame.setVisible(true);\n-            });\n-\n-            robot.waitForIdle();\n-            robot.delay(1000);\n-\n-            SwingUtilities.invokeAndWait(() -> {\n-                loc = leftOneTouchButton.getLocationOnScreen();\n-                prevDivLoc = jsp.getDividerLocation();\n-            });\n-            robot.mouseMove(loc.x, loc.y);\n-            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n-            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n-\n-            robot.waitForIdle();\n-            robot.delay(1000);\n-\n-            SwingUtilities.invokeAndWait(() -> {\n-                curDivLoc = jsp.getDividerLocation();\n-            });\n-            System.out.println(\"current Divider location \" + curDivLoc);\n-            if (curDivLoc != prevDivLoc) {\n-                throw new RuntimeException(\"Divider position changed on disabled oneTouchExpandable arrow click\");\n-            }\n-        } finally {\n-            SwingUtilities.invokeAndWait(() -> {\n-                if (frame != null) {\n-                    frame.dispose();\n+            UIManager.setLookAndFeel(laf.getClassName());\n+        } catch (UnsupportedLookAndFeelException ignored) {\n+            System.out.println(\"Unsupported LAF: \" + laf.getClassName());\n+        } catch (ClassNotFoundException | InstantiationException\n+                 | IllegalAccessException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        Robot robot = new Robot();\n+        for (UIManager.LookAndFeelInfo laf : UIManager.getInstalledLookAndFeels()) {\n+            System.out.println(\"Testing LAF : \" + laf.getClassName());\n+            SwingUtilities.invokeAndWait(() -> setLookAndFeel(laf));\n+\n+            try {\n+                SwingUtilities.invokeAndWait(() -> {\n+                    frame = new JFrame(\"SplitPaneTest\");\n+                    jsp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,\n+                                         new JButton(\"Left\"),\n+                                         new JButton(\"Right\"));\n+\n+                    frame.getContentPane().add(jsp);\n+                    jsp.setUI(new TestSplitPaneUI());\n+                    jsp.setOneTouchExpandable(true);\n+\n+                    jsp.setEnabled(false);\n+\n+                    frame.setSize(400, 200);\n+                    frame.setLocationRelativeTo(null);\n+                    frame.setVisible(true);\n+                });\n+\n+                robot.waitForIdle();\n+                robot.delay(1000);\n+\n+                SwingUtilities.invokeAndWait(() -> {\n+                    loc = leftOneTouchButton.getLocationOnScreen();\n+                    prevDivLoc = jsp.getDividerLocation();\n+                });\n+                robot.mouseMove(loc.x, loc.y);\n+                robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+\n+                robot.waitForIdle();\n+                robot.delay(1000);\n+\n+                SwingUtilities.invokeAndWait(() -> {\n+                    curDivLoc = jsp.getDividerLocation();\n+                });\n+                System.out.println(\"current Divider location \" + curDivLoc);\n+                if (curDivLoc != prevDivLoc) {\n+                    throw new RuntimeException(\"Divider position changed on disabled oneTouchExpandable arrow click\");\n@@ -97,1 +109,7 @@\n-            });\n+            } finally {\n+                SwingUtilities.invokeAndWait(() -> {\n+                    if (frame != null) {\n+                        frame.dispose();\n+                    }\n+                });\n+            }\n","filename":"test\/jdk\/javax\/swing\/JSplitPane\/TestSplitPaneEnableTest.java","additions":63,"deletions":45,"binary":false,"changes":108,"status":"modified"}]}
{"files":[{"patch":"@@ -2852,2 +2852,2 @@\n-    if (p.count_invar_summands() == 0) {\n-      tty->print_cr(\"  invar:     null\");\n+    if (!p.has_invar_summands()) {\n+      tty->print_cr(\"  invar:     none\");\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -860,1 +860,1 @@\n-  int count_invar_summands() const {\n+  bool has_invar_summands() const {\n@@ -865,1 +865,1 @@\n-    return invar_count;\n+    return invar_count > 0;\n@@ -1029,1 +1029,1 @@\n-  virtual void print() const = 0;\n+  DEBUG_ONLY( virtual void print() const = 0; )\n@@ -1063,0 +1063,1 @@\n+#ifndef PRODUCT\n@@ -1066,0 +1067,1 @@\n+#endif\n@@ -1086,0 +1088,1 @@\n+#ifndef PRODUCT\n@@ -1089,0 +1092,1 @@\n+#endif\n@@ -1161,2 +1165,2 @@\n-    bool both_no_invar = p1.count_invar_summands() == 0 &&\n-                         p2.count_invar_summands() == 0;\n+    bool both_no_invar = !p1.has_invar_summands() &&\n+                         !p2.has_invar_summands();\n@@ -1203,0 +1207,1 @@\n+#ifndef PRODUCT\n@@ -1205,2 +1210,11 @@\n-    if (_vpointer.count_invar_summands() > 0) {\n-      tty->print(\" - invar \/ (iv_scale(%d) * pre_stride)\", _vpointer.iv_scale());\n+    if (_vpointer.has_invar_summands()) {\n+      tty->print(\" - invar(\");\n+      int count = 0;\n+      _vpointer.for_each_invar_summand([&] (const MemPointerSummand& s) {\n+        if (count > 0) {\n+          tty->print(\" + \");\n+        }\n+        s.print_on(tty);\n+        count++;\n+      });\n+      tty->print(\") \/ (iv_scale(%d) * pre_stride)\", _vpointer.iv_scale());\n@@ -1210,0 +1224,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/opto\/vectorization.hpp","additions":22,"deletions":7,"binary":false,"changes":29,"status":"modified"}]}
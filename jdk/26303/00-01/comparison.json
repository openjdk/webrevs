{"files":[{"patch":"@@ -682,1 +682,1 @@\n-    thread->jvmti_thread_state()->update_thread_oop_during_vm_start(thread);\n+    thread->jvmti_thread_state()->update_thread_oop_during_vm_start();\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1044,5 +1044,4 @@\n-void JvmtiThreadState::update_thread_oop_during_vm_start(JavaThread* thread) {\n-  assert(thread->threadObj() != nullptr, \"santity check\");\n-  if (thread->jvmti_thread_state()->get_thread_oop() == nullptr) {\n-    _thread_oop_h.release(JvmtiExport::jvmti_oop_storage());\n-    _thread_oop_h = OopHandle(JvmtiExport::jvmti_oop_storage(), thread->threadObj());\n+void JvmtiThreadState::update_thread_oop_during_vm_start() {\n+  assert(_thread->threadObj() != nullptr, \"santity check\");\n+  if (get_thread_oop() == nullptr) {\n+    _thread_oop_h.replace(_thread->threadObj());\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.cpp","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -314,1 +314,2 @@\n-  void update_thread_oop_during_vm_start(JavaThread* thread);\n+\n+  void update_thread_oop_during_vm_start();\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -205,21 +205,0 @@\n-void StringDedup::Stat::emit_times(bool total) const {\n-  if (log_is_enabled(Debug, stringdedup)) {\n-    log_times(total ? \"Total\" : \"Last\");\n-  }\n-\n-  if (total) {\n-    \/\/ Send only JFR events about the last stats\n-    return;\n-  }\n-\n-  EventStringDeduplicationTimes e;\n-  if (e.should_commit()) {\n-    e.set_activeElapsed(_active_elapsed);\n-    e.set_processElapsed(_process_elapsed);\n-    e.set_idleElapsed(_idle_elapsed);\n-    e.set_resizeTableElapsed(_resize_table_elapsed);\n-    e.set_cleanupTableElapsed(_cleanup_table_elapsed);\n-    e.commit();\n-  }\n-}\n-\n@@ -248,1 +227,0 @@\n-  emit_times(total);\n@@ -250,0 +228,1 @@\n+    log_times(total ? \"Total\" : \"Last\");\n@@ -272,0 +251,5 @@\n+    e.set_activeElapsed(_active_elapsed);\n+    e.set_processElapsed(_process_elapsed);\n+    e.set_idleElapsed(_idle_elapsed);\n+    e.set_resizeTableElapsed(_resize_table_elapsed);\n+    e.set_cleanupTableElapsed(_cleanup_table_elapsed);\n","filename":"src\/hotspot\/share\/gc\/shared\/stringdedup\/stringDedupStat.cpp","additions":6,"deletions":22,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -74,1 +74,0 @@\n-  void emit_times(bool total) const;\n","filename":"src\/hotspot\/share\/gc\/shared\/stringdedup\/stringDedupStat.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1300,3 +1300,0 @@\n-  <\/Event>\n-\n-  <Event name=\"StringDeduplicationTimes\" category=\"Java Virtual Machine, GC, Detailed\" label=\"String Deduplication Times\" stackTrace=\"false\">\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -494,5 +494,0 @@\n-    <event name=\"jdk.StringDeduplicationTimes\">\n-      <setting name=\"enabled\" control=\"gc-enabled-normal\">true<\/setting>\n-      <setting name=\"threshold\">0 ms<\/setting>\n-    <\/event>\n-\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/default.jfc","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -494,5 +494,0 @@\n-    <event name=\"jdk.StringDeduplicationTimes\">\n-      <setting name=\"enabled\" control=\"gc-enabled-normal\">true<\/setting>\n-      <setting name=\"threshold\">0 ms<\/setting>\n-    <\/event>\n-\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/profile.jfc","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,0 +31,2 @@\n+x = jdk\/jfr\/event\/gc\/detailed\/TestStringDeduplicationEvent.java\n+\n","filename":"test\/jdk\/TEST.groups","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -128,5 +128,0 @@\n-    \/\/ Whether jdk.StringDeduplicationStatistics has been observed\n-    private static volatile boolean statisticsEventSeen = false;\n-    \/\/ Whether jdk.StringDeduplicationTimes has been observed\n-    private static volatile boolean timesEventSeen = false;\n-\n@@ -147,9 +142,1 @@\n-            recording.enable(EventNames.StringDeduplicationTimes);\n-            recording.onEvent(EventNames.StringDeduplicationStatistics, e -> {\n-                statisticsEventSeen = true;\n-                if (timesEventSeen) recording.close();\n-            });\n-            recording.onEvent(EventNames.StringDeduplicationTimes, e -> {\n-                timesEventSeen = true;\n-                if (statisticsEventSeen) recording.close();\n-            });\n+            recording.onEvent(EventNames.StringDeduplicationStatistics, e -> recording.close());\n@@ -171,2 +158,0 @@\n-        assert statisticsEventSeen;\n-        assert timesEventSeen;\n","filename":"test\/jdk\/jdk\/jfr\/event\/gc\/detailed\/TestStringDeduplicationEvent.java","additions":1,"deletions":16,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -164,1 +164,0 @@\n-    public static final String StringDeduplicationTimes = PREFIX + \"StringDeduplicationTimes\";\n","filename":"test\/lib\/jdk\/test\/lib\/jfr\/EventNames.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
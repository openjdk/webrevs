{"files":[{"patch":"@@ -1278,2 +1278,7 @@\n-        \n-        ServiceKey key = new ServiceKey(type, algorithm, false);\n+\n+        ServiceKey key = previousKey.get();\n+        if (!key.matches(type, algorithm)) {\n+            key = new ServiceKey(type, algorithm, false);\n+            previousKey.set(key);\n+        }\n+\n@@ -1305,2 +1310,2 @@\n-    private static volatile ServiceKey previousKey =\n-                                            new ServiceKey(\"\", \"\", false);\n+    private static ThreadLocal<ServiceKey> previousKey =\n+        ThreadLocal.withInitial(()-> new ServiceKey(\"\", \"\", false));\n","filename":"src\/java.base\/share\/classes\/java\/security\/Provider.java","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}
{"files":[{"patch":"@@ -444,0 +444,11 @@\n+\n+\/\/ AVX10 new minmax instruction control mask encoding.\n+\/\/\n+\/\/ imm8[4]                  =  0  (please refer to Table 11.1 of section 11.2 of AVX10 manual[1] for details)\n+\/\/ imm8[3:2] (sign control) =  01 (select sign, please refer to Table 11.5 of section 11.2 of AVX10 manual[1] for details)\n+\/\/ imm8[1:0]                =  00 (min) \/ 01 (max)\n+\/\/\n+\/\/ [1] https:\/\/www.intel.com\/content\/www\/us\/en\/content-details\/856721\/intel-advanced-vector-extensions-10-2-intel-avx10-2-architecture-specification.html?wapkw=AVX10\n+const int AVX10_MINMAX_MAX_COMPARE_SIGN = 0x5;\n+const int AVX10_MINMAX_MIN_COMPARE_SIGN = 0x4;\n+\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -1237,0 +1237,3 @@\n+\n+  int imm8 = (opc == Op_MinV || opc == Op_MinReductionV) ? AVX10_MINMAX_MIN_COMPARE_SIGN\n+                                                         : AVX10_MINMAX_MAX_COMPARE_SIGN;\n@@ -1238,1 +1241,1 @@\n-    evminmaxps(dst, mask, src1, src2, true, opc == Op_MinV || opc == Op_MinReductionV ? 0x4 : 0x5, vlen_enc);\n+    evminmaxps(dst, mask, src1, src2, true, imm8, vlen_enc);\n@@ -1241,1 +1244,1 @@\n-    evminmaxpd(dst, mask, src1, src2, true, opc == Op_MinV || opc == Op_MinReductionV ? 0x4 : 0x5, vlen_enc);\n+    evminmaxpd(dst, mask, src1, src2, true, imm8, vlen_enc);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -8845,1 +8845,1 @@\n-      evminmaxps(dst, mask, nds, src, merge, 0x4, vector_len); break;\n+      evminmaxps(dst, mask, nds, src, merge, AVX10_MINMAX_MIN_COMPARE_SIGN, vector_len); break;\n@@ -8847,1 +8847,1 @@\n-      evminmaxpd(dst, mask, nds, src, merge, 0x4, vector_len); break;\n+      evminmaxpd(dst, mask, nds, src, merge, AVX10_MINMAX_MIN_COMPARE_SIGN, vector_len); break;\n@@ -8864,1 +8864,1 @@\n-      evminmaxps(dst, mask, nds, src, merge, 0x5, vector_len); break;\n+      evminmaxps(dst, mask, nds, src, merge, AVX10_MINMAX_MAX_COMPARE_SIGN, vector_len); break;\n@@ -8866,1 +8866,1 @@\n-      evminmaxpd(dst, mask, nds, src, merge, 0x5, vector_len); break;\n+      evminmaxpd(dst, mask, nds, src, merge, AVX10_MINMAX_MAX_COMPARE_SIGN, vector_len); break;\n@@ -8883,1 +8883,1 @@\n-      evminmaxps(dst, mask, nds, src, merge, 0x4, vector_len); break;\n+      evminmaxps(dst, mask, nds, src, merge, AVX10_MINMAX_MIN_COMPARE_SIGN, vector_len); break;\n@@ -8885,1 +8885,1 @@\n-      evminmaxpd(dst, mask, nds, src, merge, 0x4, vector_len); break;\n+      evminmaxpd(dst, mask, nds, src, merge, AVX10_MINMAX_MIN_COMPARE_SIGN, vector_len); break;\n@@ -8902,1 +8902,1 @@\n-      evminmaxps(dst, mask, nds, src, merge, 0x5, vector_len); break;\n+      evminmaxps(dst, mask, nds, src, merge, AVX10_MINMAX_MAX_COMPARE_SIGN, vector_len); break;\n@@ -8904,1 +8904,1 @@\n-      evminmaxps(dst, mask, nds, src, merge, 0x5, vector_len); break;\n+      evminmaxps(dst, mask, nds, src, merge, AVX10_MINMAX_MAX_COMPARE_SIGN, vector_len); break;\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -10844,1 +10844,1 @@\n-    int function = this->ideal_Opcode() == Op_MinHF ? 0x4 : 0x5;\n+    int function = this->ideal_Opcode() == Op_MinHF ? AVX10_MINMAX_MIN_COMPARE_SIGN : AVX10_MINMAX_MAX_COMPARE_SIGN;\n@@ -10960,1 +10960,1 @@\n-    int function =  this->ideal_Opcode() == Op_MinVHF ? 0x4 : 0x5;\n+    int function =  this->ideal_Opcode() == Op_MinVHF ? AVX10_MINMAX_MIN_COMPARE_SIGN : AVX10_MINMAX_MAX_COMPARE_SIGN;\n@@ -10974,1 +10974,1 @@\n-    int function =  this->ideal_Opcode() == Op_MinVHF ? 0x4 : 0x5;\n+    int function =  this->ideal_Opcode() == Op_MinVHF ? AVX10_MINMAX_MIN_COMPARE_SIGN : AVX10_MINMAX_MAX_COMPARE_SIGN;\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -4459,1 +4459,1 @@\n-    __ eminmaxss($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, 0x5);\n+    __ eminmaxss($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, AVX10_MINMAX_MAX_COMPARE_SIGN);\n@@ -4495,1 +4495,1 @@\n-    __ eminmaxsd($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, 0x5);\n+    __ eminmaxsd($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, AVX10_MINMAX_MAX_COMPARE_SIGN);\n@@ -4531,1 +4531,1 @@\n-    __ eminmaxss($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, 0x4);\n+    __ eminmaxss($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, AVX10_MINMAX_MIN_COMPARE_SIGN);\n@@ -4567,1 +4567,1 @@\n-    __ eminmaxsd($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, 0x4);\n+    __ eminmaxsd($dst$$XMMRegister, $a$$XMMRegister, $b$$XMMRegister, AVX10_MINMAX_MIN_COMPARE_SIGN);\n","filename":"src\/hotspot\/cpu\/x86\/x86_64.ad","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
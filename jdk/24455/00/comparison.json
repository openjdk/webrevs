{"files":[{"patch":"@@ -0,0 +1,63 @@\n+\/*\n+ * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4785160\n+ * @summary Tests that when a TextField first gets focus, if modelToView fails\n+ *          (null is returned) that the caret will start to blink again.\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual PaintTest\n+*\/\n+\n+import java.awt.FlowLayout;\n+import javax.swing.JFrame;\n+import javax.swing.JTextField;\n+\n+public class PaintTest {\n+\n+    static final String INSTRUCTIONS = \"\"\"\n+         If the test window displays with the text caret flashing (do wait at\n+         least several second for it to start) the test PASSES, otherwise it FAILS.\n+    \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+            .title(\"PaintTest Test Instructions\")\n+            .instructions(INSTRUCTIONS)\n+            .columns(50)\n+            .testUI(PaintTest::createUI)\n+            .build()\n+            .awaitAndCheck();\n+    }\n+\n+    static JFrame createUI() {\n+        JFrame frame = new JFrame(\"PaintTest\");\n+        JTextField tf = new JTextField(20);\n+        frame.setLayout(new FlowLayout());\n+        frame.add(tf);\n+        frame.setSize(300, 300);\n+        return frame;\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultCaret\/PaintTest.java","additions":63,"deletions":0,"binary":false,"changes":63,"status":"added"},{"patch":"@@ -0,0 +1,71 @@\n+\/*\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4785160\n+ * @summary Test that the cursor is always visible when typing in JTextArea with JScrollBar\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4785160\n+*\/\n+\n+import javax.swing.JFrame;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTextArea;\n+\n+public class bug4785160 {\n+\n+    static final String INSTRUCTIONS = \"\"\"\n+         Ensure that the horizontal scrollbar is visible in the JTextArea.\n+         If necessary, reduce the width of the window so that the scrollbar becomes visible.\n+         Scroll all the way to the right so the end of the line is visible.\n+         If necessary, move the text caret in the text area to the end of line.\n+         The test PASSES if the caret is visible at the end of the line.\n+         The test FAILS if the caret disappears when moved to the end of the line.\n+    \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+            .title(\"bug4785160 Test Instructions\")\n+            .instructions(INSTRUCTIONS)\n+            .columns(50)\n+            .testUI(bug4785160::createUI)\n+            .build()\n+            .awaitAndCheck();\n+    }\n+\n+    static JFrame createUI() {\n+        JFrame frame = new JFrame(\"bug4785160\");\n+        JTextArea area = new JTextArea();\n+        String s = \"\";\n+        for (int i = 0; i < 80; i++) {\n+             s += \"m\";\n+        }\n+        area.setText(s);\n+        area.getCaret().setDot(area.getText().length() + 1);\n+        frame.add(new JScrollPane(area));\n+        frame.setSize(300, 300);\n+        return frame;\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultCaret\/bug4785160.java","additions":71,"deletions":0,"binary":false,"changes":71,"status":"added"}]}
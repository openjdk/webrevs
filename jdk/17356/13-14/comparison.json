{"files":[{"patch":"@@ -38,1 +38,1 @@\n- * @requires os.family != \"windows\"\n+ * @requires os.family != \"windows\" & os.family != \"aix\"\n@@ -50,1 +50,1 @@\n- * @requires os.family != \"windows\"\n+ * @requires os.family != \"windows\" & os.family != \"aix\"\n@@ -62,1 +62,1 @@\n- * @requires os.family != \"windows\"\n+ * @requires os.family != \"windows\" & os.family != \"aix\"\n@@ -74,1 +74,1 @@\n- * @requires os.family != \"windows\"\n+ * @requires os.family != \"windows\" & os.family != \"aix\"\n@@ -86,1 +86,1 @@\n- * @requires os.family != \"windows\"\n+ * @requires os.family != \"windows\" & os.family != \"aix\"\n@@ -98,1 +98,1 @@\n- * @requires os.family != \"windows\"\n+ * @requires os.family != \"windows\" & os.family != \"aix\"\n@@ -147,2 +147,0 @@\n-                        \/* Trace level log *\/\n-                        \"mmap failed: \\\\[0x.* - 0x.*\\\\), \\\\(.* bytes\\\\) errno=\"\n@@ -202,1 +200,0 @@\n-        output.shouldHaveExitValue(0);\n@@ -227,1 +224,2 @@\n-                    wb.NMTAttemptReserveMemoryAt(-1, PAGE_SIZE);\n+                    \/* attempting to reserve the same address should fail *\/\n+                    wb.NMTAttemptReserveMemoryAt(addr, PAGE_SIZE);\n@@ -235,1 +233,3 @@\n-                    wb.NMTCommitMemory(1, COMMIT_SIZE);\n+                    long addr = wb.NMTReserveMemory(PAGE_SIZE);\n+                    \/* addr is not a multiple of system page size, so it should fail *\/\n+                    wb.NMTCommitMemory(addr - 1, COMMIT_SIZE);\n@@ -241,1 +241,2 @@\n-                    wb.NMTUncommitMemory(1, PAGE_SIZE);\n+                    \/* addr is not a multiple of a system page size, so it should fail *\/\n+                    wb.NMTUncommitMemory(addr - 1, PAGE_SIZE);\n@@ -245,1 +246,3 @@\n-                    wb.NMTReleaseMemory(1, PAGE_SIZE);\n+                    long addr = wb.NMTReserveMemory(PAGE_SIZE);\n+                    \/* addr is not a multiple of system page size, so it should fail *\/\n+                    wb.NMTReleaseMemory(addr - 1, PAGE_SIZE);\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestMemoryAllocationLogging.java","additions":16,"deletions":13,"binary":false,"changes":29,"status":"modified"}]}
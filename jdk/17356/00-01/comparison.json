{"files":[{"patch":"@@ -82,0 +82,1 @@\n+#include \"utilities\/preserveErrno.hpp\"\n@@ -298,0 +299,2 @@\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"Cannot disclaim %p - %p (errno %d)\\n\", p, p + maxDisclaimSize, errno);\n@@ -306,0 +309,2 @@\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"Cannot disclaim %p - %p (errno %d)\\n\", p, p + lastDisclaimSize, errno);\n@@ -1473,0 +1478,3 @@\n+      log_trace(os,map)(\"[\" PTR_FORMAT \" - \" PTR_FORMAT \"] is not a sub \"\n+              \"range of [\" PTR_FORMAT \" - \" PTR_FORMAT \"].\",\n+              p2i(p), p2i(p + s), p2i(addr), p2i(addr + size));\n@@ -1478,0 +1486,2 @@\n+      log_trace(os,map)(\"range [\" PTR_FORMAT \" - \" PTR_FORMAT \"] is not\"\n+              \" aligned to pagesize (%lu)\", p2i(p), p2i(p + s), (unsigned long) pagesize);\n@@ -1546,0 +1556,1 @@\n+    log_trace(os,map)(\"Wish address \" PTR_FORMAT \" is too close to the BRK segment.\", p2i(requested_addr));\n@@ -1563,0 +1574,2 @@\n+    ErrorPreserver ep;\n+    log_trace(os,map)(\"shmget(.., \" UINTX_FORMAT \", ..) failed (errno: %d).\", size, errno);\n@@ -1577,0 +1590,3 @@\n+    ErrorPreserver ep;\n+    log_trace(os,map)(\"Failed to set page size (need \" UINTX_FORMAT \" 64K pages) - shmctl failed with %d.\",\n+               size \/ (64*K), errno);\n@@ -1595,0 +1611,2 @@\n+    ErrorPreserver ep;\n+    log_trace(os,map)(\"shmctl(%u, IPC_RMID) failed (%d)\\n\", shmid, errno);\n@@ -1601,0 +1619,2 @@\n+    ErrorPreserver ep;\n+    log_trace(os,map)(\"Failed to attach segment at \" PTR_FORMAT \" (%d).\", p2i(requested_addr), errno_shmat);\n@@ -1609,0 +1629,1 @@\n+    log_trace(os,map)(\"pagesize is, surprisingly, \" SIZE_FORMAT, real_pagesize);\n@@ -1617,0 +1638,1 @@\n+      log_trace(os,map)(\"failed to shm-allocate \" UINTX_FORMAT \" bytes at with address \" PTR_FORMAT \".\", size, p2i(requested_addr));\n@@ -1619,0 +1641,1 @@\n+      log_trace(os,map)(\"failed to shm-allocate \" UINTX_FORMAT \" bytes at any address.\", size);\n@@ -1639,0 +1662,2 @@\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"shmdt failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1670,0 +1695,1 @@\n+    log_trace(os,map)(\"Wish address \" PTR_FORMAT \" not aligned to page boundary.\", p2i(requested_addr));\n@@ -1677,0 +1703,1 @@\n+    log_trace(os,map)(\"Wish address \" PTR_FORMAT \" is too close to the BRK segment.\", p2i(requested_addr));\n@@ -1720,0 +1747,2 @@\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap(\" PTR_FORMAT \", \" UINTX_FORMAT \", ..) failed (%d)\", p2i(requested_addr), size, errno);\n@@ -1723,0 +1752,2 @@\n+    log_trace(os,map)(\"mmap(\" PTR_FORMAT \", \" UINTX_FORMAT \", ..) succeeded, but at a different address than requested (\" PTR_FORMAT \"), will unmap\",\n+               p2i(requested_addr), size, p2i(addr));\n@@ -1763,0 +1794,2 @@\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1784,0 +1817,2 @@\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"msync failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":35,"deletions":0,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+#include \"utilities\/preserveErrno.hpp\"\n@@ -1567,0 +1568,3 @@\n+  } else {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mprotect failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1573,0 +1577,3 @@\n+    } else {\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"mprotect failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1579,0 +1586,3 @@\n+    } else {\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1586,0 +1596,3 @@\n+  } else {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1662,1 +1675,7 @@\n-  return ::mprotect(addr, size, PROT_NONE) == 0;\n+  if (::mprotect(addr, size, PROT_NONE) == 0) {\n+    return true;\n+  } else {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mprotect failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+    return false;\n+  }\n@@ -1666,0 +1685,9 @@\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"madvise failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+      return false;\n+    }\n+    if (::mprotect(addr, size, PROT_NONE) == 0) {\n+      return true;\n+    } else {\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"mprotect failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -1668,1 +1696,0 @@\n-    return ::mprotect(addr, size, PROT_NONE) == 0;\n@@ -1672,1 +1699,6 @@\n-    return res  != (uintptr_t) MAP_FAILED;\n+    if (res == (uintptr_t) MAP_FAILED) {\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+      return false;\n+    }\n+    return true;\n@@ -1677,1 +1709,6 @@\n-  return res  != (uintptr_t) MAP_FAILED;\n+  if (res == (uintptr_t) MAP_FAILED) {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+    return false;\n+  }\n+  return true;\n@@ -1703,2 +1740,6 @@\n-\n-  return addr == MAP_FAILED ? nullptr : addr;\n+  if (addr == MAP_FAILED) {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(requested_addr, bytes), errno);\n+    return nullptr;\n+  }\n+  return addr;\n@@ -1708,1 +1749,7 @@\n-  return ::munmap(addr, size) == 0;\n+  if (::munmap(addr, size) == 0) {\n+    return 1;\n+  } else {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+    return 0;\n+  }\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":54,"deletions":7,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -82,0 +82,1 @@\n+#include \"utilities\/preserveErrno.hpp\"\n@@ -2839,0 +2840,3 @@\n+  } else {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -2844,0 +2848,2 @@\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n@@ -3341,1 +3347,6 @@\n-  return res  != (uintptr_t) MAP_FAILED;\n+  if (res == (uintptr_t) MAP_FAILED) {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+    return false;\n+  }\n+  return true;\n@@ -3560,2 +3571,6 @@\n-\n-  return addr == MAP_FAILED ? nullptr : addr;\n+  if (addr == MAP_FAILED) {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"mmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(requested_addr, bytes), errno);\n+    return nullptr;\n+  }\n+  return addr;\n@@ -3582,1 +3597,4 @@\n-        ::munmap(start, extra_size);\n+        if (::munmap(start, extra_size) != 0) {\n+          ErrnoPreserver ep;\n+          log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(start, extra_size), errno);\n+        }\n@@ -3590,1 +3608,5 @@\n-        ::munmap(start, start_aligned - start);\n+        if (::munmap(start, start_aligned - start) != 0) {\n+          ErrnoPreserver ep;\n+          size_t size = start_aligned - start;\n+          log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(start, size), errno);\n+        }\n@@ -3593,1 +3615,5 @@\n-        ::munmap(end_aligned, end - end_aligned);\n+        if (::munmap(end_aligned, end - end_aligned) != 0) {\n+          ErrnoPreserver ep;\n+          size_t size = end - end_aligned;\n+          log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(end_aligned, size), errno);\n+        }\n@@ -3602,1 +3628,6 @@\n-  return ::munmap(addr, size) == 0;\n+  if (::munmap(addr, size) != 0) {\n+    ErrnoPreserver ep;\n+    log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(addr, size), errno);\n+    return 0;\n+  }\n+  return 1;\n@@ -4032,1 +4063,4 @@\n-    ::munmap(small_start, small_size);\n+    if (::munmap(small_start, small_size) != 0) {\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(small_start, small_size), errno);\n+    }\n@@ -4041,1 +4075,4 @@\n-    ::munmap(aligned_start, large_bytes);\n+    if (::munmap(aligned_start, large_bytes) != 0) {\n+      ErrnoPreserver ep;\n+      log_trace(os,map)(\"munmap failed: \" RANGEFMT \" errno=(%d)\", RANGEFMTARGS(aligned_start, large_bytes), errno);\n+    }\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":46,"deletions":9,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -1815,1 +1815,1 @@\n-    log_debug(os,map)(\"Reserved [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\", p2i(result), p2i(result + bytes), bytes);\n+    log_debug(os,map)(\"Reserved [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\", p2i(result), p2i(result + bytes), bytes);\n@@ -1817,1 +1817,1 @@\n-    log_info(os,map)(\"Reserve failed (%zu bytes), errno %d %s\", bytes, get_last_error(), strerror(get_last_error()));\n+    log_info(os,map)(\"Reserve failed (%zu bytes)\", bytes);\n@@ -1826,1 +1826,1 @@\n-    log_debug(os,map)(\"Reserved [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\", p2i(result), p2i(result + bytes), bytes);\n+    log_debug(os,map)(\"Reserved [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\", p2i(result), p2i(result + bytes), bytes);\n@@ -1828,2 +1828,2 @@\n-    log_info(os,map)(\"Attempt to reserve [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes) failed, errno %d %s\",\n-      p2i(addr), p2i(addr + bytes), bytes, get_last_error(), strerror(get_last_error()));\n+    log_info(os,map)(\"Attempt to reserve [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes) failed\",\n+      p2i(addr), p2i(addr + bytes), bytes);\n@@ -2037,1 +2037,1 @@\n-    log_debug(os,map)(\"Committed [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\",\n+    log_debug(os,map)(\"Committed [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\",\n@@ -2040,2 +2040,2 @@\n-    log_info(os,map)(\"Failed to commit [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes), errno %d %s\",\n-      p2i(addr), p2i(addr + bytes), bytes, get_last_error(), strerror(get_last_error()));\n+    log_info(os,map)(\"Failed to commit [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes)\",\n+      p2i(addr), p2i(addr + bytes), bytes);\n@@ -2052,1 +2052,1 @@\n-    log_debug(os,map)(\"Committed [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\",\n+    log_debug(os,map)(\"Committed [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\",\n@@ -2055,2 +2055,2 @@\n-    log_info(os,map)(\"Failed to commit [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes), errno %d %s\",\n-      p2i(addr), p2i(addr + size), size, get_last_error(), strerror(get_last_error()));\n+    log_info(os,map)(\"Failed to commit [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes)\",\n+      p2i(addr), p2i(addr + size), size);\n@@ -2089,1 +2089,1 @@\n-    log_debug(os,map)(\"Uncommitted [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\",\n+    log_debug(os,map)(\"Uncommitted [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\",\n@@ -2092,2 +2092,2 @@\n-    log_info(os,map)(\"Failed to uncommit [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes), errno %d %s\",\n-      p2i(addr), p2i(addr + bytes), bytes, get_last_error(), strerror(get_last_error()));\n+    log_info(os,map)(\"Failed to uncommit [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes)\",\n+      p2i(addr), p2i(addr + bytes), bytes);\n@@ -2113,2 +2113,2 @@\n-    log_info(os,map)(\"Failed to release [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes), errno %d %s\",\n-      p2i(addr), p2i(addr + bytes), bytes, get_last_error(), strerror(get_last_error()));\n+    log_info(os,map)(\"Failed to release [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes)\",\n+      p2i(addr), p2i(addr + bytes), bytes);\n@@ -2116,1 +2116,1 @@\n-    log_debug(os,map)(\"Released [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\",\n+    log_debug(os,map)(\"Released [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\",\n@@ -2222,1 +2222,1 @@\n-    log_debug(os,map)(\"Reserved and committed [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT\"] (%zu bytes).\",\n+    log_debug(os,map)(\"Reserved and committed [\" INTPTR_FORMAT \" - \" INTPTR_FORMAT \"] (%zu bytes).\",\n@@ -2225,2 +2225,1 @@\n-    log_info(os,map)(\"Reserve and commit failed (%zu bytes), errno %d %s\", size, get_last_error(),\n-      strerror(get_last_error()));\n+    log_info(os,map)(\"Reserve and commit failed (%zu bytes)\", size);\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":19,"deletions":20,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -382,0 +382,3 @@\n+#define RANGEFMT                      \"[\" PTR_FORMAT \" - \" PTR_FORMAT \"], (\" SIZE_FORMAT \" bytes);\"\n+#define RANGEFMTARGS(p1, size)    p2i(p1), p2i(p1 + size -1), size\n+\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,16 @@\n+#include <errno.h>\n+\n+\n+\/\/ Preserve errno across a range of calls\n+\n+class ErrnoPreserver {\n+    int _e;\n+    public:\n+        ErrnoPreserver() {\n+            _e = errno;\n+        }\n+\n+        ~ErrnoPreserver() {\n+            errno = _e;\n+        }\n+};\n\\ No newline at end of file\n","filename":"src\/hotspot\/share\/utilities\/preserveErrno.hpp","additions":16,"deletions":0,"binary":false,"changes":16,"status":"added"},{"patch":"@@ -1,22 +1,1 @@\n-\/*\n- * Copyright (c) 2023 Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n+\n@@ -37,1 +16,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -48,1 +27,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -59,1 +38,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -70,1 +49,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -81,1 +60,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -92,1 +71,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -110,1 +89,1 @@\n-                \"-Xlog:os+map=debug\",\n+                \"-Xlog:os+map=trace\", \/\/ trace level will also print debug level\n@@ -122,0 +101,2 @@\n+\n+        \/* Debug logging level tests *\/\n@@ -125,0 +106,1 @@\n+                        \/* Debug level log *\/\n@@ -134,0 +116,1 @@\n+                        \/* Debug level log *\/\n@@ -135,1 +118,3 @@\n-                        String.format(\"Attempt to reserve \\\\[0x.* - 0x.*\\\\] \\\\(%d bytes\\\\) failed, errno\", PAGE_SIZE)\n+                        String.format(\"Attempt to reserve \\\\[0x.* - 0x.*\\\\] \\\\(.* bytes\\\\) failed\"),\n+                        \/* Trace level log *\/\n+                        String.format(\"mmap failed: \\\\[0x.* - 0x.*\\\\], \\\\(.* bytes\\\\); errno=\\\\(%d\\\\)\", 12)\n@@ -140,1 +125,5 @@\n-                expectedLogs = new String[] { \"Reserve failed \\\\(.* bytes\\\\), errno\"\n+                expectedLogs = new String[] {\n+                        \/* Debug level log *\/\n+                        \"Reserve failed \\\\(.* bytes\\\\)\",\n+                        \/* Trace level log *\/\n+                        String.format(\"mmap failed: \\\\[0x.* - 0x.*\\\\], \\\\(.* bytes\\\\); errno=\\\\(%d\\\\)\", 12)\n@@ -146,1 +135,4 @@\n-                        String.format(\"Failed to commit \\\\[0x.* - 0x.*\\\\] \\\\(%d bytes\\\\), errno\", COMMIT_SIZE)\n+                        \/* Debug level log *\/\n+                        String.format(\"Failed to commit \\\\[0x.* - 0x.*\\\\] \\\\(%d bytes\\\\)\", COMMIT_SIZE),\n+                        \/* Trace level log *\/\n+                        String.format(\"mmap failed: \\\\[0x.* - 0x.*\\\\], \\\\(.* bytes\\\\); errno=\\\\(%d\\\\)\", 22)\n@@ -152,0 +144,1 @@\n+                        \/* Debug level log *\/\n@@ -153,1 +146,3 @@\n-                       \"Failed to uncommit \\\\[0x.* - 0x.*\\\\] \\\\(.* bytes\\\\), errno\"\n+                        \"Failed to uncommit \\\\[0x.* - 0x.*\\\\] \\\\(.* bytes\\\\)\",\n+                        \/* Trace level log *\/\n+                        String.format(\"mmap failed: \\\\[0x.* - 0x.*\\\\], \\\\(.* bytes\\\\); errno=\\\\(%d\\\\)\", 12)\n@@ -159,1 +154,4 @@\n-                        \"Failed to release \\\\[0x.* - 0x.*\\\\] \\\\(.* bytes\\\\), errno\"\n+                        \/* Debug level log *\/\n+                        \"Failed to release \\\\[0x.* - 0x.*\\\\] \\\\(.* bytes\\\\)\",\n+                        \/* Trace level log *\/\n+                        String.format(\"munmap failed: \\\\[0x.* - 0x.*\\\\], \\\\(.* bytes\\\\); errno=\\\\(%d\\\\)\", 22)\n@@ -163,0 +161,1 @@\n+\n@@ -167,0 +166,1 @@\n+\n@@ -199,1 +199,1 @@\n-                    wb.NMTAttemptReserveMemoryAt(addr, PAGE_SIZE);\n+                    wb.NMTAttemptReserveMemoryAt(addr, tooBig);\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestMemoryAllocationLogging.java","additions":35,"deletions":35,"binary":false,"changes":70,"status":"modified"}]}
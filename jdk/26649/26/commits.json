[{"commit":{"message":"Minor revisions of javadoc for closes for brevity and clarity recommended in review."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"7843eb73f971247656afa18fb5862feec40c41bc"},{"commit":{"message":"Correct reference to ProcessExamples.java to use the `file` tag."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"58176c880039bcaeef79708c5d7640d14cffbe6b"},{"commit":{"message":"Miscellaneous javadoc improvements suggested by reviewers.\nUpdated the example program to be a standalone program as might be run\nas a compact source file main program."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"src\/java.base\/share\/classes\/java\/lang\/snippet-files\/ProcessExamples.java"}],"sha":"d68cd636cffcb6133baafc2945309afcf1cfcf38"},{"commit":{"message":"Replaced the test mechanism to force stream closes to throw exceptions.\nThe previous mechanism was subject to race conditions and was complicated and fragile.\nThe new mechanism interposes a stream implementation that closes the underlying stream and then throws a well known exception.\nIt is much less sensitive to platform and race conditions."},"files":[{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"a1bcf5ac05a70180852c649aa7df46e656b0bdd9"},{"commit":{"message":"Add \\@implNote to recommend overriding close and calling `super.close()`."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"c2072f7d458de265474744c3515872a180ad9ce8"},{"commit":{"message":"Doc update to use \"interrupted status\" terminology in alignment with JDK-8370568."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"b919c57d904db7158ec8687cb35f339a9a2e543c"},{"commit":{"message":"Merge branch 'master' into 8364361-process-autocloseable"},"files":[],"sha":"a40d2186d8132cbbfc8559f84f85006ddf11fb03"},{"commit":{"message":"Corrected ProcessCloseTest to expect a racy result from \"echo abc\" and Process.close."},"files":[{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"10cf85d9b58b5911e462b7eefcc3ccf0641571b8"},{"commit":{"message":"\"type\" on Windows isn't what I'm looking for."},"files":[{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"95dba3b519f46facb9e9d04551700bef17a64c6d"},{"commit":{"message":"Improve robustness of ProcessCloseTest:\nReplace \"cat <filename>\" on Linux with \"type\" on Windows.\nReplace \"cat -\" with builtin Child command, not a native program."},"files":[{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"ab009791d8c40fe8b8d145aec6d1e67943be0b3b"},{"commit":{"message":"Review comment updates to handle cases where stream close methods might\nthrow exceptions other then IOException and add them to the suppressed exceptions.\nUpdate the spec and @implSpec to be clear about exception handling\nand how the process is terminated with destroyForcibly."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"b6588f23f8954eaad9d59c76ecd267285ff3088c"},{"commit":{"message":"Adopt review suggestions for javadoc wording.\nRefactor the utility method to wait for the process, return true on termination, false on interrupt.\nVarious updates to the test related to logging of output when a test fails."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"f65dcf65773ea3772ca29fe01d96445907817abf"},{"commit":{"message":"Incremental update to make it clear that if it is necessary\nto forcibly destroy the process, close continues to wait for the\nprocess to terminate."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"0e59fe7d51c76df686c4217481d7771ce41328e2"},{"commit":{"message":"Merge branch 'master' into 8364361-process-autocloseable"},"files":[],"sha":"daefd79590ada3c60b32a0c9adb3a592e059368f"},{"commit":{"message":"Modify close to waitFor process to exit.\nIf the waitFor is interrupted, destroy the process (forcibly).\nWait indefinately for the process to terminate.\n\nUpdated tests with exit status indicating waiting for termination\ndue to reduction in racy exits."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"fb9a83fb772a64120ed2bc81501b25963264bc2c"},{"commit":{"message":"The ProcessCloseTest is modified to be able to test the logic\naround close() waiting for the process to exit and the specified\nbehavior of interrupting the waitFor."},"files":[{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"6f8f732752831bd9bdbe6ff0204fb1b8a81b7b74"},{"commit":{"message":"Close is modified to wait for the process to terminate before returning.\nPlease review the revised javadoc.\nAs suggested in review comments, waiting for the process to terminate\nallows a more orderly cleanup by the application.\nThe streams are closed and close uses `waitFor()` with an unlimited timeout\nfor the process to terminate.\nWhile waiting the thread can be `interrupted` to exit the `waitFor`.\nIf\/when `waitFor` is interrupted, the process is destroyedForcibly on\nall platforms. When close() returns, the thread interrupt will pending\nand can be handled by the caller.\nIf a watchdog timeout is desired on close(), a separate thread\ncan schedule an interrupt at a suitable time after close is called."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"c64bb62a4f5972c4fafa8a738b43032990a3d65d"},{"commit":{"message":"Review comment improvements to make expected behavior clearer."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"1fe4977f3b02358c06a27511bfb7083925753ee7"},{"commit":{"message":"Merge branch 'master' into 8364361-process-autocloseable"},"files":[],"sha":"fe771df41bbc18e9ad6db6954f76f2d55ea13f47"},{"commit":{"message":"Clarify the use of waitFor after close() or T-W-R exit."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"18637975ec12fe239f33b6b58bc29e0bc882f4c7"},{"commit":{"message":"Additional review feedback.\nUpdated to emphasize reading the data from the streams and calling waitFor\nto allow for normal termination."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"aadb11dbbc52af0cbc9b73f2c7be5188f0a5b825"},{"commit":{"message":"Merge branch 'master' into 8364361-process-autocloseable"},"files":[],"sha":"5a0c56027c5c73589cab1b61749215c82c23eb11"},{"commit":{"message":"Address review comments for code and javadoc in Process, the test and the example.\nReinforced that calling waitFor should occur before calling close to wait for termination and get the exitStatus.\nCorrected the error message check for invalid handles on Windows.\nUpdate test to allow normal completion when exceptions may be expected.\nCorrect the expected message on Windows for an invalid handle exception."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"src\/java.base\/share\/classes\/java\/lang\/snippet-files\/ProcessExamples.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"5ecec1a04ff8bbfb0e4fbcb15e5d68a87403c7c4"},{"commit":{"message":"Update close() to use \"terminate\" consistently."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"f57dc1606215a9c84605e3e5ec7dce2a8a0a6c69"},{"commit":{"message":"Remove volatile from \"closed\" field; updates are guarded by synchronized."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"e2a16fc1247c6fd2f8cce18e4b8b2f9f6c75db92"},{"commit":{"message":"The CSR review prompted the expansion of the description of responsibilities\nof subclasses of Process to invoke `super.close()` if overriding the `close()` method."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"bc79550968f3014c99c86c6f41e66ea2dcab0347"},{"commit":{"message":"Monor improvements to javadoc, move close() near the constructor\nto make it more prominent in the javadoc."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"e35b8fc711df1c51e1c9473e8c852de1c6176c8a"},{"commit":{"message":"Merge branch 'master' into 8364361-process-autocloseable"},"files":[],"sha":"174fc1d27196ef4e663593b6f0da2bf65f238542"},{"commit":{"message":"Expand the description of close() to describe the behavior of destroying the process."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"1642b5b9cc38b9c24bb351a6745ecca67c8944ec"},{"commit":{"message":"javadoc tweaks"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"d0c74cb75c699a2668c97c0ea4dae32804491ad1"},{"commit":{"message":"Misc, javadoc cleanup\nSimplified the Interrupt handling in ProcessCloseTest.ProcessCommand.ExpectExit."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"96b3d0df7b7196ed8ddf1ded4b0a7cb6ded002f9"},{"commit":{"message":"Revisited handling of IOExceptions to throw instead of completely ignoring or logging."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"src\/java.base\/share\/classes\/java\/lang\/snippet-files\/ProcessExamples.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"6f393df1bf1f5f5d32576bb98a678de312d7c3a1"},{"commit":{"message":"Merge branch 'master' into 8364361-process-autocloseable"},"files":[],"sha":"06af45c0be4d71a374075122d51eeb1d883197f7"},{"commit":{"message":"Throw IOExceptions on close instead of logging."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"fc34019a65fefcff5f87500c923d452a4e9e867d"},{"commit":{"message":"The close method is idempotent, it will only close the streams and\ndestroy the process on the first call to close."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"}],"sha":"e849a199a77cac6c1c95cee1e9dbef1bd728d925"},{"commit":{"message":"Updates from review comments:\n - Editorial improvements to javadoc\n - Exceptions that occur closing streams are quietly logged\n   to the java.lang.Process system log as DEBUG\n - The prototype code attempting to wait for process exit is removed,\n   it provided marginal benefit and raised complexity due to interrupt handling\n - Test updates for racy test cases that are not errors"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"src\/java.base\/share\/classes\/java\/lang\/snippet-files\/ProcessExamples.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"c04ee6e2caf01eb284543c283ce7c5b8c9496504"},{"commit":{"message":"8364361: [process] java.lang.Process should implement close and be AutoCloseable\nSpecify and implement AutoCloseable for Process.\nAdd tests and example code as a snippet."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/lang\/Process.java"},{"filename":"src\/java.base\/share\/classes\/java\/lang\/snippet-files\/ProcessExamples.java"},{"filename":"test\/jdk\/java\/lang\/Process\/ProcessCloseTest.java"}],"sha":"51355da26c6d5db86b700aa612c954f9f35c4e6e"}]
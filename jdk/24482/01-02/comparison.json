{"files":[{"patch":"@@ -78,1 +78,2 @@\n-        String heapdumpFilename = type + \".hprof\";\n+        \/\/ Test using %p pid substitution in HeapDumpPath:\n+        String heapdumpFilename = type + \".%p.hprof\";\n@@ -98,21 +99,5 @@\n-        output.shouldContain(\"Dumping heap to \" + type + \".hprof\");\n-        File dump = new File(heapdumpFilename);\n-        Asserts.assertTrue(dump.exists() && dump.isFile(), \"Could not find dump file \" + dump.getAbsolutePath());\n-        HprofParser.parse(new File(heapdumpFilename));\n-\n-        \/\/ Test again using %p pid substitution in HeapDumpPath:\n-        heapdumpFilename = type + \".%p.hprof\";\n-        pb = ProcessTools.createLimitedTestJavaProcessBuilder(\"-XX:+HeapDumpOnOutOfMemoryError\",\n-                \"-XX:HeapDumpPath=\" + heapdumpFilename,\n-                \"-XX:MaxMetaspaceSize=16m\",\n-                \"-Xmx128m\",\n-                Platform.isDebugBuild() ? \"-XX:-VerifyDependencies\" : \"-Dx\",\n-                TestHeapDumpOnOutOfMemoryError.class.getName(), type);\n-\n-        output = new OutputAnalyzer(pb.start());\n-        output.stdoutShouldNotBeEmpty();\n-        String actualHeapdumpFilename = type + \".\" + output.pid() + \".hprof\";\n-        output.shouldContain(\"Dumping heap to \" + actualHeapdumpFilename);\n-        dump = new File(actualHeapdumpFilename);\n-        Asserts.assertTrue(dump.exists() && dump.isFile(), \"Could not find dump file \" + dump.getAbsolutePath());\n-        HprofParser.parse(new File(actualHeapdumpFilename));\n+        String expectedHeapdumpFilename = type + \".\" + output.pid() + \".hprof\";\n+        output.shouldContain(\"Dumping heap to \" + expectedHeapdumpFilename);\n+        File dump = new File(expectedHeapdumpFilename);\n+        Asserts.assertTrue(dump.exists() && dump.isFile(), \"Expected heap dump file \" + dump.getAbsolutePath());\n+        HprofParser.parse(new File(expectedHeapdumpFilename));\n@@ -120,1 +105,0 @@\n-\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/TestHeapDumpOnOutOfMemoryError.java","additions":7,"deletions":23,"binary":false,"changes":30,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-            failed(\"Socket.getInputStream().read() returned unexpectedly!!\");\n+            failed(\"Socket.getInputStream().read() returned unexpectedly, n=\" + n);\n@@ -82,7 +82,8 @@\n-            Socket s2 = ss.accept();\n-            Thread thr = new Thread(this);\n-            thr.start();\n-            latch.await();\n-            Thread.sleep(5000); \/\/sleep, so Socket.getInputStream().read() can block\n-            s.close();\n-            thr.join();\n+            try (Socket s2 = ss.accept()) {\n+                Thread thr = new Thread(this);\n+                thr.start();\n+                latch.await();\n+                Thread.sleep(5000); \/\/sleep, so Socket.getInputStream().read() can block\n+                s.close();\n+                thr.join();\n+            }\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/Socket_getInputStream_read.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -71,7 +71,8 @@\n-            Socket s2 = ss.accept();\n-            Thread thr = new Thread(this);\n-            thr.start();\n-            latch.await();\n-            Thread.sleep(1000);\n-            s.close();\n-            thr.join();\n+            try (Socket s2 = ss.accept()) {\n+                Thread thr = new Thread(this);\n+                thr.start();\n+                latch.await();\n+                Thread.sleep(1000);\n+                s.close();\n+                thr.join();\n+            }\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/Socket_getOutputStream_write.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}
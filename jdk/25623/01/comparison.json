{"files":[{"patch":"@@ -435,18 +435,5 @@\n-  if (holder() == klass) {\n-    return;   \/\/ no change to make\n-  }\n-\n-  jobject hmj = _holder_mirror;\n-  if (hmj != nullptr) {   \/\/ clear out previous handle, if any\n-    _holder_mirror = nullptr;\n-    assert(JNIHandles::is_global_handle(hmj), \"\");\n-    JNIHandles::destroy_global(hmj);\n-  }\n-\n-  if (klass != nullptr) {\n-    Handle hm(JavaThread::current(), klass->java_mirror());\n-    hmj = JNIHandles::make_global(hm);\n-    Atomic::release_store(&_holder_mirror, hmj);\n-  }\n-\n-  Atomic::release_store(&_holder, const_cast<InstanceKlass*>(klass));\n+  assert(klass != nullptr, \"\");\n+  Handle hm(JavaThread::current(), klass->java_mirror());\n+  jobject hmj = JNIHandles::make_global(hm);\n+  _holder_mirror = hmj;\n+  _holder = klass;\n","filename":"src\/hotspot\/share\/oops\/trainingData.cpp","additions":5,"deletions":18,"binary":false,"changes":23,"status":"modified"}]}
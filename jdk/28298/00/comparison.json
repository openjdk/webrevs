{"files":[{"patch":"@@ -87,1 +87,1 @@\n-                Optional.ofNullable(category),\n+                category(),\n@@ -89,1 +89,1 @@\n-                Optional.ofNullable(release),\n+                release(),\n@@ -195,3 +195,3 @@\n-    private static final Defaults DEFAULTS = new Defaults(I18N.getString(\n-            \"param.menu-group.default\"));\n-\n+    \/\/ Should be one of https:\/\/specifications.freedesktop.org\/menu\/latest\/category-registry.html#main-category-registry\n+    \/\/ The category is an ID, not a localizable string\n+    private static final Defaults DEFAULTS = new Defaults(\"Utility\");\n","filename":"src\/jdk.jpackage\/linux\/classes\/jdk\/jpackage\/internal\/LinuxPackageBuilder.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -37,0 +37,6 @@\n+     * <p>\n+     * It sets the value of the \"Categories\" property in .desktop files of the\n+     * package.\n+     * <p>\n+     * Should be one of the values from <a href=\n+     * \"https:\/\/specifications.freedesktop.org\/menu\/latest\/category-registry.html\">https:\/\/specifications.freedesktop.org\/menu\/latest\/category-registry.html<\/a>\n@@ -47,0 +53,7 @@\n+     * <p>\n+     * For RPM packages this is the value of the optional \"Group\" property.\n+     * <p>\n+     * For DEB packages this is the value of the mandatory \"Section\" property.\n+     * <a href=\n+     * \"https:\/\/www.debian.org\/doc\/debian-policy\/ch-archive.html#s-subsections\">The\n+     * present list of recognized values.<\/a>\n@@ -65,1 +78,1 @@\n-     * For RPM packages, this is the value of a \"Release\" property in spec file. RPM\n+     * For RPM packages, this is the value of the \"Release\" property in spec file. RPM\n","filename":"src\/jdk.jpackage\/linux\/classes\/jdk\/jpackage\/internal\/model\/LinuxPackageMixin.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-param.menu-group.default=Unknown\n","filename":"src\/jdk.jpackage\/linux\/classes\/jdk\/jpackage\/internal\/resources\/LinuxResources.properties","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -567,1 +567,2 @@\n-                Map.entry(\"Comment\", launcherDescription)\n+                Map.entry(\"Comment\", launcherDescription),\n+                Map.entry(\"Categories\", Optional.ofNullable(cmd.getArgumentValue(\"--linux-menu-group\")).orElse(\"Utility\"))\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/LinuxHelper.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,0 +29,2 @@\n+import jdk.jpackage.test.Annotations.Parameter;\n+import jdk.jpackage.test.Annotations.Test;\n@@ -30,3 +32,0 @@\n-import jdk.jpackage.test.PackageType;\n-import jdk.jpackage.test.PackageTest;\n-import jdk.jpackage.test.TKit;\n@@ -35,1 +34,4 @@\n-import jdk.jpackage.test.Annotations.Test;\n+import jdk.jpackage.test.PackageTest;\n+import jdk.jpackage.test.PackageType;\n+import jdk.jpackage.test.RunnablePackageTest.Action;\n+import jdk.jpackage.test.TKit;\n@@ -182,0 +184,14 @@\n+\n+    \/**\n+     * Test \"--linux-menu-group\" option.\n+     *\n+     * @param menuGroup value of \"--linux-menu-group\" option\n+     *\/\n+    @Test\n+    \/\/ Values from https:\/\/specifications.freedesktop.org\/menu\/latest\/category-registry.html#main-category-registry\n+    @Parameter(\"Development\")\n+    public static void testMenuGroup(String menuGroup) {\n+        createTest().addInitializer(JPackageCommand::setFakeRuntime).addInitializer(cmd -> {\n+            cmd.addArgument(\"--linux-shortcut\").setArgumentValue(\"--linux-menu-group\", menuGroup);\n+        }).run(Action.CREATE_AND_UNPACK);\n+    }\n","filename":"test\/jdk\/tools\/jpackage\/linux\/ShortcutHintTest.java","additions":20,"deletions":4,"binary":false,"changes":24,"status":"modified"}]}
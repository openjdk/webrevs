{"files":[{"patch":"@@ -0,0 +1,103 @@\n+#!\/bin\/sh\n+#\n+# Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+# This script allows to easily generate (add or update) \"--release N\" data for JDK N + 1.\n+# N must be 11 or greater. This script works on Linux. To create new data, or update existing\n+# data, it is necessary to:\n+# - download a binary build of OpenJDK N for Linux, API of which will be recorded. It is strongly recommended\n+#   to use an official build, not a custom build, to avoid any chance of including unofficial changes.\n+#   The binary build should never be a build newer than the GA for JDK N. Install the build. The installation\n+#   directory will be denoted as \"${JDK_N_INSTALL}\" in the further text.\n+# - have a checkout the JDK to which the data should be added (or in which the data should be updated).\n+#   The checkout directory will be denoted as \"${JDK_CHECKOUT}\" in the further text.\n+#   The checkout must not have any local changes that could interfere with the new data. In particular,\n+#   there must be absolutely no changed, new or removed files under the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols\n+#   directory.\n+# - open a terminal program and run these commands:\n+#     cd \"${JDK_CHECKOUT}\"\/src\/jdk.compiler\/share\/data\/symbols\n+#     bash ..\/..\/..\/..\/..\/make\/scripts\/generate-symbol-data.sh \"${JDK_N_INSTALL}\"\n+# - this command will generate or update data for \"--release N\" into the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols\n+#   directory, updating all registration necessary. If the goal was to update the data, and there are no\n+#   new or changed files in the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols directory after running this script,\n+#   there were no relevant changes and no further action is necessary. Note that version for N > 9 are encoded\n+#   using capital letters, i.e. A represents version 10, B represents 11, and so on. The version numbers are in\n+#   the names of the files in the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols directory, as well as in\n+#   the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols\/symbols file.\n+# - if there are any changed\/new files in the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols directory after running this script,\n+#   then all the changes in this directory, including any new files, need to be sent for review and eventually pushed.\n+#   The commit message should specify which binary build was installed in the ${JDK_N_INSTALL} directory and also\n+#   include the SCM state that was used to build it, which can be found in ${JDK_N_INSTALL}\/release,\n+#   in property \"SOURCE\".\n+\n+source_path=\"$(dirname ${0})\"\n+this_script_dir=\"$(cd -- \"${source_path}\" > \/dev\/null && pwd)\"\n+if test -z \"${this_script_dir}\"; then\n+  echo \"Error: Could not determine location of this script\"\n+  exit 1\n+fi\n+\n+symbols_dir=\"$(dirname $this_script_dir)\/src\/jdk.compiler\/share\/data\/symbols\"\n+if [ ! -d $symbols_dir ] ; then\n+    echo \"Cannot locate symbols directory: $symbols_dir\" >&2\n+    exit 1\n+fi\n+\n+generator_dir=\"$(dirname $this_script_dir)\/make\/langtools\/src\/classes\/build\/tools\/symbolgenerator\"\n+\n+if [ \"$1x\" = \"x\" ] ; then\n+    echo \"Must provide the target JDK as a parameter:\" >&2\n+    echo \"$0 <target-jdk>\" >&2\n+    exit 1\n+fi;\n+\n+if [ ! -d $1 ] ; then\n+    echo \"Target JDK argument is not a directory:\" $1 >&2\n+    exit 1\n+fi;\n+\n+if [ ! -x $1\/bin\/java ] ; then\n+    echo \"Target JDK argument is not a valid JDK: $1\" >&2\n+    exit 1\n+fi;\n+\n+cd $symbols_dir\n+\n+if [ ! -f symbols ] ; then\n+    echo \"Must run inside the src\/jdk.compiler\/share\/data\/symbols directory\" >&2\n+    exit 1\n+fi;\n+\n+if [ \"`git status --porcelain=v1 .`x\" != \"x\" ] ; then\n+    echo \"The src\/jdk.compiler\/share\/data\/symbols directory contains local changes!\" >&2\n+    exit 1\n+fi;\n+\n+$1\/bin\/java --add-exports jdk.compiler\/com.sun.tools.javac.api=ALL-UNNAMED \\\n+            --add-exports jdk.compiler\/com.sun.tools.javac.jvm=ALL-UNNAMED \\\n+            --add-exports jdk.compiler\/com.sun.tools.javac.util=ALL-UNNAMED \\\n+            --add-modules jdk.jdeps \\\n+            $generator_dir\/CreateSymbols.java \\\n+            build-description-incremental symbols include.list\n","filename":"bin\/generate-symbol-data.sh","additions":103,"deletions":0,"binary":false,"changes":103,"status":"added"},{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -65,1 +65,1 @@\n-template_dir=${script_dir}\/..\/data\/license-templates\n+template_dir=${script_dir}\/..\/make\/data\/license-templates\n","filename":"bin\/lic_check.sh","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"make\/scripts\/lic_check.sh","status":"renamed"},{"patch":"","filename":"bin\/normalizer.pl","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"make\/scripts\/normalizer.pl","status":"renamed"},{"patch":"@@ -1,191 +0,0 @@\n-#\n-# Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-src\/bsd : jdk\/src\/bsd\n-src\/demo : jdk\/src\/demo\n-src\/java.activation : jaxws\/src\/java.activation\n-src\/java.base : jdk\/src\/java.base\n-src\/java.compiler : langtools\/src\/java.compiler\n-src\/java.corba : corba\/src\/java.corba\n-src\/java.datatransfer : jdk\/src\/java.datatransfer\n-src\/java.desktop : jdk\/src\/java.desktop\n-src\/java.instrument : jdk\/src\/java.instrument\n-src\/java.logging : jdk\/src\/java.logging\n-src\/java.management : jdk\/src\/java.management\n-src\/java.management.rmi : jdk\/src\/java.management.rmi\n-src\/java.naming : jdk\/src\/java.naming\n-src\/java.prefs : jdk\/src\/java.prefs\n-src\/java.rmi : jdk\/src\/java.rmi\n-src\/java.scripting : jdk\/src\/java.scripting\n-src\/java.se : jdk\/src\/java.se\n-src\/java.security.jgss : jdk\/src\/java.security.jgss\n-src\/java.security.sasl : jdk\/src\/java.security.sasl\n-src\/java.se.ee : jdk\/src\/java.se.ee\n-src\/java.smartcardio : jdk\/src\/java.smartcardio\n-src\/java.sql : jdk\/src\/java.sql\n-src\/java.sql.rowset : jdk\/src\/java.sql.rowset\n-src\/java.transaction : jdk\/src\/java.transaction\n-src\/java.xml : jaxp\/src\/java.xml\n-src\/java.xml.bind : jaxws\/src\/java.xml.bind\n-src\/java.xml.crypto : jdk\/src\/java.xml.crypto\n-src\/java.xml.ws : jaxws\/src\/java.xml.ws\n-src\/java.xml.ws.annotation : jaxws\/src\/java.xml.ws.annotation\n-src\/jdk.accessibility : jdk\/src\/jdk.accessibility\n-src\/jdk.aot : hotspot\/src\/jdk.aot\n-src\/jdk.attach : jdk\/src\/jdk.attach\n-src\/jdk.charsets : jdk\/src\/jdk.charsets\n-src\/jdk.compiler : jdk\/src\/jdk.compiler  langtools\/src\/jdk.compiler\n-src\/jdk.crypto.cryptoki : jdk\/src\/jdk.crypto.cryptoki\n-src\/jdk.crypto.ec : jdk\/src\/jdk.crypto.ec\n-src\/jdk.crypto.mscapi : jdk\/src\/jdk.crypto.mscapi\n-src\/jdk.dynalink : nashorn\/src\/jdk.dynalink\n-src\/jdk.editpad : jdk\/src\/jdk.editpad\n-src\/jdk.hotspot.agent : hotspot\/src\/jdk.hotspot.agent\n-src\/jdk.httpserver : jdk\/src\/jdk.httpserver\n-src\/jdk.incubator.httpclient : jdk\/src\/jdk.incubator.httpclient\n-src\/jdk.internal.ed : jdk\/src\/jdk.internal.ed\n-src\/jdk.internal.jvmstat : jdk\/src\/jdk.internal.jvmstat\n-src\/jdk.internal.le : jdk\/src\/jdk.internal.le\n-src\/jdk.internal.opt : jdk\/src\/jdk.internal.opt\n-src\/jdk.internal.vm.ci : hotspot\/src\/jdk.internal.vm.ci\n-src\/jdk.internal.vm.compiler : hotspot\/src\/jdk.internal.vm.compiler\n-src\/jdk.jartool : jdk\/src\/jdk.jartool\n-src\/jdk.javadoc : langtools\/src\/jdk.javadoc\n-src\/jdk.jcmd : jdk\/src\/jdk.jcmd\n-src\/jdk.jconsole : jdk\/src\/jdk.jconsole\n-src\/jdk.jdeps : langtools\/src\/jdk.jdeps\n-src\/jdk.jdi : jdk\/src\/jdk.jdi\n-src\/jdk.jdwp.agent : jdk\/src\/jdk.jdwp.agent\n-src\/jdk.jlink : jdk\/src\/jdk.jlink\n-src\/jdk.jshell : langtools\/src\/jdk.jshell\n-src\/jdk.jstatd : jdk\/src\/jdk.jstatd\n-src\/jdk.localedata : jdk\/src\/jdk.localedata\n-src\/jdk.management : jdk\/src\/jdk.management\n-src\/jdk.management.agent : jdk\/src\/jdk.management.agent\n-src\/jdk.naming.dns : jdk\/src\/jdk.naming.dns\n-src\/jdk.naming.rmi : jdk\/src\/jdk.naming.rmi\n-src\/jdk.net : jdk\/src\/jdk.net\n-src\/jdk.pack : jdk\/src\/jdk.pack\n-src\/jdk.scripting.nashorn : nashorn\/src\/jdk.scripting.nashorn\n-src\/jdk.scripting.nashorn.shell : nashorn\/src\/jdk.scripting.nashorn.shell\n-src\/jdk.sctp : jdk\/src\/jdk.sctp\n-src\/jdk.security.auth : jdk\/src\/jdk.security.auth\n-src\/jdk.security.jgss : jdk\/src\/jdk.security.jgss\n-src\/jdk.unsupported : jdk\/src\/jdk.unsupported\n-src\/jdk.xml.bind : jaxws\/src\/jdk.xml.bind\n-src\/jdk.xml.dom : jaxp\/src\/jdk.xml.dom\n-src\/jdk.xml.ws : jaxws\/src\/jdk.xml.ws\n-src\/jdk.zipfs : jdk\/src\/jdk.zipfs\n-src\/langtools\/sample : langtools\/src\/sample\n-src\/linux : jdk\/src\/linux\n-src\/sample : jdk\/src\/sample\n-src\/hotspot\/share : hotspot\/src\/share\/vm\n-src\/hotspot\/cpu\/aarch64 : hotspot\/src\/cpu\/aarch64\/vm\n-src\/hotspot\/cpu\/arm : hotspot\/src\/cpu\/arm\/vm\n-src\/hotspot\/cpu\/ppc : hotspot\/src\/cpu\/ppc\/vm\n-src\/hotspot\/cpu\/s390 : hotspot\/src\/cpu\/s390\/vm\n-src\/hotspot\/cpu\/x86 : hotspot\/src\/cpu\/x86\/vm\n-src\/hotspot\/cpu\/zero : hotspot\/src\/cpu\/zero\/vm\n-src\/hotspot\/os\/aix : hotspot\/src\/os\/aix\/vm\n-src\/hotspot\/os\/bsd : hotspot\/src\/os\/bsd\/vm\n-src\/hotspot\/os\/linux : hotspot\/src\/os\/linux\/vm\n-src\/hotspot\/os\/posix\/dtrace : hotspot\/src\/os\/posix\/dtrace\n-src\/hotspot\/os\/posix : hotspot\/src\/os\/posix\/vm\n-src\/hotspot\/os\/windows : hotspot\/src\/os\/windows\/vm\n-src\/hotspot\/os_cpu\/aix_ppc : hotspot\/src\/os_cpu\/aix_ppc\/vm\n-src\/hotspot\/os_cpu\/bsd_x86 : hotspot\/src\/os_cpu\/bsd_x86\/vm\n-src\/hotspot\/os_cpu\/bsd_zero : hotspot\/src\/os_cpu\/bsd_zero\/vm\n-src\/hotspot\/os_cpu\/linux_aarch64 : hotspot\/src\/os_cpu\/linux_aarch64\/vm\n-src\/hotspot\/os_cpu\/linux_arm : hotspot\/src\/os_cpu\/linux_arm\/vm\n-src\/hotspot\/os_cpu\/linux_ppc : hotspot\/src\/os_cpu\/linux_ppc\/vm\n-src\/hotspot\/os_cpu\/linux_s390 : hotspot\/src\/os_cpu\/linux_s390\/vm\n-src\/hotspot\/os_cpu\/linux_x86 : hotspot\/src\/os_cpu\/linux_x86\/vm\n-src\/hotspot\/os_cpu\/linux_zero : hotspot\/src\/os_cpu\/linux_zero\/vm\n-src\/hotspot\/os_cpu\/windows_x86 : hotspot\/src\/os_cpu\/windows_x86\/vm\n-src\/hotspot : hotspot\/src\n-src\/utils\/IdealGraphVisualizer : hotspot\/src\/share\/tools\/IdealGraphVisualizer\n-src\/utils\/LogCompilation : hotspot\/src\/share\/tools\/LogCompilation\n-src\/utils\/hsdis : hotspot\/src\/share\/tools\/hsdis\n-src\/utils\/reorder : jdk\/make\/non-build-utils\/reorder\n-src\/utils\/src\/build : jdk\/make\/non-build-utils\/src\/build\n-make\/BuildNashorn.gmk : nashorn\/make\/BuildNashorn.gmk\n-make\/CompileDemos.gmk : jdk\/make\/CompileDemos.gmk\n-make\/CompileInterimLangtools.gmk : langtools\/make\/CompileInterim.gmk\n-make\/CompileModuleTools.gmk : jdk\/make\/CompileModuleTools.gmk\n-make\/CompileToolsHotspot.gmk : hotspot\/make\/CompileTools.gmk\n-make\/CompileToolsJdk.gmk : jdk\/make\/CompileTools.gmk\n-make\/CopyInterimCLDRConverter.gmk : jdk\/make\/CopyInterimCLDRConverter.gmk\n-make\/GenerateModuleSummary.gmk : jdk\/make\/GenerateModuleSummary.gmk\n-make\/ModuleTools.gmk : jdk\/make\/ModuleTools.gmk\n-make\/ToolsJdk.gmk : jdk\/make\/Tools.gmk\n-make\/ToolsLangtools.gmk : langtools\/make\/Tools.gmk\n-make\/UnpackSecurity.gmk : jdk\/make\/UnpackSecurity.gmk\n-make\/autoconf : common\/autoconf\n-make\/conf : common\/conf\n-make\/copy : jdk\/make\/copy\n-make\/copy\/Copy-java.corba.gmk : corba\/make\/copy\/Copy-java.corba.gmk\n-make\/corba : corba\/make\n-make\/data : jdk\/make\/data\n-make\/gendata : jdk\/make\/gendata\n-make\/gendata\/Gendata-jdk.compiler.gmk : langtools\/make\/gendata\/Gendata-jdk.compiler.gmk\n-make\/gensrc : jdk\/make\/gensrc\n-make\/gensrc\/Gensrc-java.corba.gmk : corba\/make\/gensrc\/Gensrc-java.corba.gmk\n-make\/gensrc\/Gensrc-jdk.compiler.gmk : langtools\/make\/gensrc\/Gensrc-jdk.compiler.gmk\n-make\/gensrc\/Gensrc-jdk.hotspot.agent.gmk : hotspot\/make\/gensrc\/Gensrc-jdk.hotspot.agent.gmk\n-make\/gensrc\/Gensrc-jdk.internal.vm.compiler.gmk : hotspot\/make\/gensrc\/Gensrc-jdk.internal.vm.compiler.gmk\n-make\/gensrc\/Gensrc-jdk.javadoc.gmk : langtools\/make\/gensrc\/Gensrc-jdk.javadoc.gmk\n-make\/gensrc\/Gensrc-jdk.jdeps.gmk : langtools\/make\/gensrc\/Gensrc-jdk.jdeps.gmk\n-make\/gensrc\/Gensrc-jdk.jshell.gmk : langtools\/make\/gensrc\/Gensrc-jdk.jshell.gmk\n-make\/gensrc\/GensrcCommonLangtools.gmk : langtools\/make\/gensrc\/GensrcCommon.gmk\n-make\/hotspot : hotspot\/make\n-make\/jdk : jdk\/make\n-make\/langtools : langtools\/make\n-make\/launcher : jdk\/make\/launcher\n-make\/lib : jdk\/make\/lib\n-make\/lib\/Lib-jdk.hotspot.agent.gmk : hotspot\/make\/lib\/Lib-jdk.hotspot.agent.gmk\n-make\/mapfiles : jdk\/make\/mapfiles\n-make\/mapfiles\/libjsig : hotspot\/make\/mapfiles\/libjsig\n-make\/mapfiles\/libjvm_db : hotspot\/make\/mapfiles\/libjvm_db\n-make\/mapfiles\/libjvm_dtrace : hotspot\/make\/mapfiles\/libjvm_dtrace\n-make\/mapfiles\/libsaproc : hotspot\/make\/mapfiles\/libsaproc\n-make\/nashorn : nashorn\/make\n-make\/nb_native : common\/nb_native\n-make\/scripts\/addNotices.sh : jdk\/make\/scripts\/addNotices.sh\n-make\/scripts\/compare.sh : common\/bin\/compare.sh\n-make\/scripts\/compare_exceptions.sh.incl : common\/bin\/compare_exceptions.sh.incl\n-make\/scripts\/genExceptions.sh : jdk\/make\/scripts\/genExceptions.sh\n-make\/scripts\/hide_important_warnings_from_javac.sh : common\/bin\/hide_important_warnings_from_javac.sh\n-make\/scripts\/logger.sh : common\/bin\/logger.sh\n-make\/src\/native\/fixpath.c : common\/src\/fixpath.c\n-make\/test\/JtregNativeHotspot.gmk : hotspot\/make\/test\/JtregNative.gmk\n-make\/test\/JtregNativeJdk.gmk : jdk\/make\/test\/JtregNative.gmk\n-test\/jdk : jdk\/test\n-test\/langtools : langtools\/test\n-test\/nashorn : nashorn\/test\n-test\/jaxp : jaxp\/test\n-test\/hotspot\/gtest : hotspot\/test\/native\n-test\/hotspot\/jtreg : hotspot\/test\n-bin : common\/bin\n-bin\/nashorn : nashorn\/bin\n-doc : common\/doc\n-doc\/nashorn : nashorn\/docs\n","filename":"bin\/unshuffle_list.txt","additions":0,"deletions":191,"binary":false,"changes":191,"status":"deleted"},{"patch":"@@ -1,237 +0,0 @@\n-#!\/bin\/bash\n-#\n-# Copyright (c) 2014, 2017, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# Script for updating a patch file as per the shuffled\/unshuffled source location.\n-\n-usage() {\n-  echo \"Usage: $0 [-h|--help] [-v|--verbose] [-to9|-to10] [-r <repo>] <input_patch> <output_patch>\"\n-  echo \"where:\"\n-  echo \"  -to9            create patches appropriate for a JDK 9 source tree\"\n-  echo \"                  When going to 9, the output patches will be suffixed with the\"\n-  echo \"                  repo name\"\n-  echo \"  -to10           create patches appropriate for a JDK 10 source tree\"\n-  echo \"  -r <repo>       specify repo for source patch, set to 'top' for top repo\"\n-  echo \"  <input_patch>   is the input patch file, that needs shuffling\/unshuffling\"\n-  echo \"  <output_patch>  is the updated patch file \"\n-  echo \" \"\n-  exit 1\n-}\n-\n-SCRIPT_DIR=`dirname $0`\n-UNSHUFFLE_LIST=$SCRIPT_DIR\"\/unshuffle_list.txt\"\n-\n-if [ ! -f \"$UNSHUFFLE_LIST\" ] ; then\n-  echo \"FATAL: cannot find $UNSHUFFLE_LIST\" >&2\n-  exit 1\n-fi\n-\n-vflag=\"false\"\n-while [ $# -gt 0 ]\n-do\n-  case $1 in\n-    -h | --help )\n-      usage\n-      ;;\n-\n-    -v | --verbose )\n-      vflag=\"true\"\n-      ;;\n-\n-    -r)\n-      repo=\"$2\"\n-      shift\n-      ;;\n-\n-    -to9)\n-      shuffle_to=9\n-      ;;\n-\n-    -to10)\n-      shuffle_to=10\n-      ;;\n-\n-    -*)  # bad option\n-      usage\n-      ;;\n-\n-    * )  # non option\n-      break\n-      ;;\n-  esac\n-  shift\n-done\n-\n-# Make sure we have the right number of arguments\n-if [ ! $# -eq 2 ] ; then\n-  echo \"ERROR: Invalid number of arguments.\" >&2\n-  usage\n-fi\n-\n-# Check the given repo\n-repos=\"top corba jaxp jaxws jdk langtools nashorn hotspot\"\n-found=\"false\"\n-if [ -n \"$repo\" ]; then\n-  for r in $repos ; do\n-    if [ $repo = \"$r\" ] ; then\n-      found=\"true\"\n-      break;\n-    fi\n-  done\n-  if [ $found = \"false\" ] ; then\n-    echo \"ERROR: Unknown repo: $repo. Should be one of [$repos].\" >&2\n-    usage\n-  fi\n-fi\n-\n-if [ \"$shuffle_to\" != \"9\" -a \"$shuffle_to\" != \"10\" ]; then\n-  echo \"ERROR: Must pick either -to9 or -to10\"\n-  exit 1\n-fi\n-\n-# When going to 10, a repo must be specified for the source patch\n-if [ \"$shuffle_to\" = \"10\" -a -z \"$repo\" ]; then\n-  echo \"ERROR: Must specify src repo for JDK 9 patch\"\n-  exit 1\n-fi\n-\n-# Check given input\/output files\n-input=\"$1\"\n-if [ \"x$input\" = \"x-\" ] ; then\n-  input=\"\/dev\/stdin\"\n-fi\n-\n-if [ ! -f $input -a \"x$input\" != \"x\/dev\/stdin\" ] ; then\n-  echo \"ERROR: Cannot find input patch file: $input\" >&2\n-  exit 1\n-fi\n-\n-output=\"$2\"\n-if [ \"x$output\" = \"x-\" ] ; then\n-  output=\"\/dev\/stdout\"\n-fi\n-base_output=\"$output\"\n-\n-if [ \"$shuffle_to\" = \"10\" ]; then\n-  if [ -f $output -a \"x$output\" != \"x\/dev\/stdout\" ] ; then\n-    echo \"ERROR: Output patch already exists: $output\" >&2\n-    exit 1\n-  fi\n-else\n-  for r in $repos; do\n-    if [ -f \"$output.$r\" ]; then\n-      echo \"ERROR: Output patch already exists: $output.$r\" >&2\n-      exit 1\n-    fi\n-  done\n-fi\n-\n-verbose() {\n-  if [ ${vflag} = \"true\" ] ; then\n-    echo \"$@\" >&2\n-  fi\n-}\n-\n-unshuffle() {\n-  line=$@\n-  verbose \"Attempting to rewrite: \\\"$line\\\"\"\n-\n-  # Retrieve the file name\n-  path=\n-  if echo \"$line\" | egrep '^diff' > \/dev\/null ; then\n-    if ! echo \"$line\" | egrep '\\-\\-git' > \/dev\/null ; then\n-      echo \"ERROR: Only git patches supported. Please use 'hg export --git ...'.\" >&2\n-      exit 1\n-    fi\n-    path=\"`echo \"$line\" | sed -e s@'diff --git a\/'@@ -e s@' b\/.*$'@@`\"\n-  elif echo \"$line\" | egrep '^\\-\\-\\-' > \/dev\/null ; then\n-    path=\"`echo \"$line\" | sed -e s@'--- a\/'@@`\"\n-  elif echo \"$line\" | egrep '^\\+\\+\\+' > \/dev\/null ; then\n-    path=\"`echo \"$line\" | sed s@'+++ b\/'@@`\"\n-  fi\n-  verbose \"Extracted path: \\\"$path\\\"\"\n-\n-  # Find the most specific matches in the shuffle list\n-  matches=\n-  if [ -n \"$repo\" -a \"$repo\" != \"top\" ]; then\n-    matchpath=\"$repo\"\/\"$path\"\/x\n-  else\n-    matchpath=\"$path\"\/x\n-  fi\n-  while [ \"$matchpath\" != \"\" ] ; do\n-    matchpath=\"`echo $matchpath | sed s@'\\(.*\\)\/.*$'@'\\1'@`\"\n-\n-    if [ \"$shuffle_to\" =  \"10\" ] ; then\n-      pattern=\": $matchpath$\"\n-    else\n-      pattern=\"^$matchpath :\"\n-    fi\n-    verbose \"Attempting to find \\\"$matchpath\\\"\"\n-    matches=`egrep \"$pattern\" \"$UNSHUFFLE_LIST\"`\n-    if ! [ \"x${matches}\" = \"x\" ] ; then\n-      verbose \"Got matches: [$matches]\"\n-      break;\n-    fi\n-\n-    if ! echo \"$matchpath\" | egrep '.*\/.*' > \/dev\/null ; then\n-      break;\n-    fi\n-  done\n-\n-  # Rewrite the line, if we have a match\n-  if ! [ \"x${matches}\" = \"x\" ] ; then\n-    shuffled=\"${matches%% : *}\"\n-    unshuffled=\"${matches#* : }\"\n-    patch_suffix_9=\"\"\n-    for r in $repos; do\n-      if [ \"$unshuffled\" != \"${unshuffled#$r}\" ]; then\n-        unshuffled=\"${unshuffled#$r\\\/}\"\n-        patch_suffix_9=\".$r\"\n-      fi\n-    done\n-    verbose \"shuffled: $shuffled\"\n-    verbose \"unshuffled: $unshuffled\"\n-    verbose \"patch_suffix_9: $patch_suffix_9\"\n-    if [ \"$shuffle_to\" =  \"10\" ] ; then\n-      newline=\"`echo \"$line\" | sed -e s@\"$unshuffled\"@\"$shuffled\"@g`\"\n-    else\n-      newline=\"`echo \"$line\" | sed -e s@\"$shuffled\"@\"$unshuffled\"@g`\"\n-      output=$base_output$patch_suffix_9\n-      verbose \"Writing to $output\"\n-    fi\n-    verbose \"Rewriting to \\\"$newline\\\"\"\n-    echo \"$newline\" >> $output\n-  else\n-    echo \"WARNING: no match found for $path\"\n-    echo \"$line\" >> $output\n-  fi\n-}\n-\n-while IFS= read -r line\n-do\n-  if echo \"$line\" | egrep '^diff|^\\-\\-\\-|^\\+\\+\\+' > \/dev\/null ; then\n-    unshuffle \"$line\"\n-  else\n-    printf \"%s\\n\" \"$line\" >> $output\n-  fi\n-done < \"$input\"\n","filename":"bin\/unshuffle_patch.sh","additions":0,"deletions":237,"binary":false,"changes":237,"status":"deleted"},{"patch":"","filename":"bin\/update_copyright_year.sh","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"make\/scripts\/update_copyright_year.sh","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-#   appropriate 'if' clause to make sure all variants can build without \n+#   appropriate 'if' clause to make sure all variants can build without\n@@ -29,0 +29,10 @@\n+source_path=\"$(dirname ${0})\"\n+this_script_dir=\"$(cd -- \"${source_path}\" > \/dev\/null && pwd)\"\n+if test -z \"${this_script_dir}\"; then\n+  echo \"Error: Could not determine location of this script\"\n+  exit 1\n+fi\n+\n+# Work in top directory\n+cd $this_script_dir\/..\n+\n","filename":"bin\/update_pch.sh","additions":11,"deletions":1,"binary":false,"changes":12,"previous_filename":"make\/scripts\/update_pch.sh","status":"renamed"},{"patch":"@@ -113,1 +113,1 @@\n-$BASH $TOPDIR\/make\/scripts\/logger.sh $OUTPUTDIR\/compare.log $BASH \"$REAL_COMPARE_SCRIPT\" \"$@\"\n+$BASH $TOPDIR\/make\/scripts\/compare-logger.sh $OUTPUTDIR\/compare.log $BASH \"$REAL_COMPARE_SCRIPT\" \"$@\"\n","filename":"make\/autoconf\/compare.sh.template","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"","filename":"make\/scripts\/compare-logger.sh","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"make\/scripts\/logger.sh","status":"renamed"},{"patch":"@@ -1,76 +0,0 @@\n-#!\/bin\/sh\n-#\n-# Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.  Oracle designates this\n-# particular file as subject to the \"Classpath\" exception as provided\n-# by Oracle in the LICENSE file that accompanied this code.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# This script allows to easily generate (add or update) \"--release N\" data for JDK N + 1.\n-# N must be 11 or greater. This script works on Linux. To create new data, or update existing\n-# data, it is necessary to:\n-# - download a binary build of OpenJDK N for Linux, API of which will be recorded. It is strongly recommended\n-#   to use an official build, not a custom build, to avoid any chance of including unofficial changes.\n-#   The binary build should never be a build newer than the GA for JDK N. Install the build. The installation\n-#   directory will be denoted as \"${JDK_N_INSTALL}\" in the further text.\n-# - have a checkout the JDK to which the data should be added (or in which the data should be updated).\n-#   The checkout directory will be denoted as \"${JDK_CHECKOUT}\" in the further text.\n-#   The checkout must not have any local changes that could interfere with the new data. In particular,\n-#   there must be absolutely no changed, new or removed files under the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols\n-#   directory.\n-# - open a terminal program and run these commands:\n-#     cd \"${JDK_CHECKOUT}\"\/src\/jdk.compiler\/share\/data\/symbols\n-#     bash ..\/..\/..\/..\/..\/make\/scripts\/generate-symbol-data.sh \"${JDK_N_INSTALL}\"\n-# - this command will generate or update data for \"--release N\" into the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols\n-#   directory, updating all registration necessary. If the goal was to update the data, and there are no\n-#   new or changed files in the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols directory after running this script,\n-#   there were no relevant changes and no further action is necessary. Note that version for N > 9 are encoded\n-#   using capital letters, i.e. A represents version 10, B represents 11, and so on. The version numbers are in\n-#   the names of the files in the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols directory, as well as in\n-#   the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols\/symbols file.\n-# - if there are any changed\/new files in the ${JDK_CHECKOUT}\/src\/jdk.compiler\/share\/data\/symbols directory after running this script,\n-#   then all the changes in this directory, including any new files, need to be sent for review and eventually pushed.\n-#   The commit message should specify which binary build was installed in the ${JDK_N_INSTALL} directory and also\n-#   include the SCM state that was used to build it, which can be found in ${JDK_N_INSTALL}\/release,\n-#   in property \"SOURCE\".\n-\n-if [ \"$1x\" = \"x\" ] ; then\n-    echo \"Must provide the target JDK as a parameter:\" >&2\n-    echo \"$0 <target-jdk>\" >&2\n-    exit 1\n-fi;\n-\n-if [ ! -f symbols ] ; then\n-    echo \"Must run inside the src\/jdk.compiler\/share\/data\/symbols directory\" >&2\n-    exit 1\n-fi;\n-\n-if [ \"`git status --porcelain=v1 .`x\" != \"x\" ] ; then\n-    echo \"The src\/jdk.compiler\/share\/data\/symbols directory contains local changes!\" >&2\n-    exit 1\n-fi;\n-\n-$1\/bin\/java --add-exports jdk.compiler\/com.sun.tools.javac.api=ALL-UNNAMED \\\n-            --add-exports jdk.compiler\/com.sun.tools.javac.jvm=ALL-UNNAMED \\\n-            --add-exports jdk.compiler\/com.sun.tools.javac.util=ALL-UNNAMED \\\n-            --add-modules jdk.jdeps \\\n-            ..\/..\/..\/..\/..\/make\/langtools\/src\/classes\/build\/tools\/symbolgenerator\/CreateSymbols.java \\\n-            build-description-incremental symbols include.list\n","filename":"make\/scripts\/generate-symbol-data.sh","additions":0,"deletions":76,"binary":false,"changes":76,"status":"deleted"},{"patch":"@@ -1,36 +0,0 @@\n-#!\/bin\/bash\n-#\n-# Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-GREP=grep\n-\n-#\n-EXP=\"Note: Some input files use or override a deprecated API.\"\n-EXP=\"${EXP}|Note: Recompile with -Xlint:deprecation for details.\"\n-EXP=\"${EXP}|Note: Some input files use unchecked or unsafe operations.\"\n-EXP=\"${EXP}|Note: Recompile with -Xlint:unchecked for details.\"\n-EXP=\"${EXP}| warning\"\n-EXP=\"${EXP}|uses or overrides a deprecated API.\"\n-EXP=\"${EXP}|uses unchecked or unsafe operations.\"\n-#\n-${GREP} --line-buffered -v -E \"${EXP}\"\n","filename":"make\/scripts\/hide_important_warnings_from_javac.sh","additions":0,"deletions":36,"binary":false,"changes":36,"status":"deleted"}]}
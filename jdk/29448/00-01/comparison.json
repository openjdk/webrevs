{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -178,1 +178,1 @@\n-        is.close(io);\n+        is.resetStream(io);\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http3\/Http3ServerExchange.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -267,1 +267,1 @@\n-                en.is.close(new IOException(\"stopSendingRequested\"));\n+                en.is.resetStream(new IOException(\"stopSendingRequested\"));\n@@ -295,1 +295,1 @@\n-        \/\/ non-null if the QUIC stream was reset, or an exception occurred\n+        \/\/ non-null if the QUIC stream was reset\n@@ -304,0 +304,3 @@\n+            if (closed) {\n+                throw new IOException(\"Stream is closed\");\n+            }\n@@ -308,1 +311,8 @@\n-                if (current == QuicStreamReader.EOF) return current;\n+                if (current == QuicStreamReader.EOF) {\n+                    if (closed) {\n+                        throw new IOException(\"Stream is closed\");\n+                    }\n+                    var error = this.error;\n+                    if (error != null) throw error;\n+                    return current;\n+                }\n@@ -318,3 +328,1 @@\n-                    close(io);\n-                    var error = this.error;\n-                    if (error != null) throw error;\n+                    throw io;\n@@ -327,3 +335,0 @@\n-            if (closed) {\n-                throw new IOException(\"Stream is closed\");\n-            }\n@@ -332,6 +337,1 @@\n-                if (closed) {\n-                    throw new IOException(\"Stream is closed\");\n-                }\n-                var error = this.error;\n-                if (error == null) return -1;\n-                throw error;\n+                return -1;\n@@ -353,6 +353,1 @@\n-                        if (closed) {\n-                            throw new IOException(\"Stream is closed\");\n-                        }\n-                        var error = this.error;\n-                        if (error == null) return -1;\n-                        throw error;\n+                        return -1;\n@@ -377,1 +372,1 @@\n-        void close(IOException io) {\n+        void resetStream(IOException io) {\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http3\/Http3ServerStreamImpl.java","additions":17,"deletions":22,"binary":false,"changes":39,"status":"modified"}]}
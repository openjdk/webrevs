{"files":[{"patch":"@@ -206,1 +206,2 @@\n-  if (bytes == 1) {\n+  switch (bytes) {\n+  case 1:\n@@ -208,1 +209,2 @@\n-  } else if (bytes == 2) {\n+    break;\n+  case 2:\n@@ -210,1 +212,2 @@\n-  } else if (bytes == 4) {\n+    break;\n+  case 4:\n@@ -212,1 +215,2 @@\n-  } else if (bytes == 8) {\n+    break;\n+  case 8:\n@@ -218,0 +222,3 @@\n+    break;\n+  default:\n+    fatal(\"Unexpected size\");\n@@ -239,1 +246,2 @@\n-  if (bytes == 1) {\n+  switch (bytes) {\n+  case 1:\n@@ -241,1 +249,2 @@\n-  } else if (bytes == 2) {\n+    break;\n+  case 2:\n@@ -243,1 +252,2 @@\n-  } else if (bytes == 4) {\n+    break;\n+  case 4:\n@@ -245,1 +255,2 @@\n-  } else if (bytes == 8) {\n+    break;\n+  case 8:\n@@ -251,0 +262,3 @@\n+    break;\n+  default:\n+    fatal(\"Unexpected size\");\n","filename":"src\/hotspot\/cpu\/x86\/gc\/shared\/barrierSetAssembler_x86.cpp","additions":22,"deletions":8,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -1165,1 +1165,1 @@\n-  if (nargs >= 4)\n+  if (nargs == 4) {\n@@ -1167,0 +1167,1 @@\n+  }\n@@ -1172,1 +1173,1 @@\n-  if (nargs >= 4)\n+  if (nargs == 4) {\n@@ -1174,0 +1175,1 @@\n+  }\n@@ -1197,0 +1199,1 @@\n+  assert(nargs == 3 || nargs == 4, \"else fix\");\n@@ -1198,1 +1201,1 @@\n-  if (nargs >= 4) {\n+  if (nargs == 4) {\n@@ -1211,2 +1214,2 @@\n-  if (nargs >= 4) {\n-      __ mov(rcx, rax); \/\/ c_rarg3 (via rax)\n+  if (nargs == 4) {\n+    __ mov(rcx, rax); \/\/ c_rarg3 (via rax)\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-#include \"gc\/shared\/gc_globals.hpp\"\n@@ -1604,1 +1603,1 @@\n-  if (VM_Version::supports_avx512vlbw() && VM_Version::supports_bmi2() && MaxVectorSize  >= 32) {\n+  if ((!is_oop || bs->supports_avx3_masked_arraycopy()) && VM_Version::supports_avx512vlbw() && VM_Version::supports_bmi2() && MaxVectorSize  >= 32) {\n@@ -1716,1 +1715,1 @@\n-  if (VM_Version::supports_avx512vlbw() && VM_Version::supports_bmi2() && MaxVectorSize  >= 32) {\n+  if ((!is_oop || bs->supports_avx3_masked_arraycopy()) && VM_Version::supports_avx512vlbw() && VM_Version::supports_bmi2() && MaxVectorSize  >= 32) {\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64_arraycopy.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"}]}
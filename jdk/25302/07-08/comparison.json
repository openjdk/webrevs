{"files":[{"patch":"@@ -37,0 +37,1 @@\n+static JfrEventThrottler* _disabled_cpu_time_sample_throttler = nullptr;\n@@ -51,0 +52,3 @@\n+  assert(_disabled_cpu_time_sample_throttler == nullptr, \"invariant\");\n+  _disabled_cpu_time_sample_throttler = new JfrEventThrottler(JfrCPUTimeSampleEvent);\n+  _disabled_cpu_time_sample_throttler->_disabled = true;\n@@ -62,0 +66,2 @@\n+  delete _disabled_cpu_time_sample_throttler;\n+  _disabled_cpu_time_sample_throttler = nullptr;\n@@ -72,3 +78,1 @@\n-  if (event_id == JfrCPUTimeSampleEvent) {\n-    return nullptr;\n-  }\n+  assert(_disabled_cpu_time_sample_throttler != nullptr, \"Disabled CPU time throttler has not been properly initialized\");\n@@ -77,1 +81,1 @@\n-  assert(event_id == JfrObjectAllocationSampleEvent || event_id == JfrSafepointLatencyEvent, \"Event type has an unconfigured throttler\");\n+  assert(event_id == JfrObjectAllocationSampleEvent || event_id == JfrSafepointLatencyEvent || event_id == JfrCPUTimeSampleEvent, \"Event type has an unconfigured throttler\");\n@@ -84,0 +88,3 @@\n+  if (event_id == JfrCPUTimeSampleEvent) {\n+    return _disabled_cpu_time_sample_throttler;\n+  }\n@@ -118,3 +125,1 @@\n-  if (throttler == nullptr) {\n-    return true;\n-  }\n+  assert(throttler != nullptr, \"invariant\");\n","filename":"src\/hotspot\/share\/jfr\/recorder\/service\/jfrEventThrottler.cpp","additions":12,"deletions":7,"binary":false,"changes":19,"status":"modified"}]}
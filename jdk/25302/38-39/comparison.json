{"files":[{"patch":"@@ -324,1 +324,1 @@\n-      if (!jt->has_last_Java_frame() || jt->thread_state() != _thread_in_native || !tl->try_acquire_cpu_time_jfr_dequeue_lock()) {\n+      if (jt->thread_state() != _thread_in_native || !tl->try_acquire_cpu_time_jfr_dequeue_lock()) {\n@@ -328,1 +328,5 @@\n-      JfrThreadSampling::process_cpu_time_request(jt, tl, current, false);\n+      if (jt->has_last_Java_frame()) {\n+        JfrThreadSampling::process_cpu_time_request(jt, tl, current, false);\n+      } else {\n+        tl->set_do_async_processing_of_cpu_time_jfr_requests(false);\n+      }\n","filename":"src\/hotspot\/share\/jfr\/periodic\/sampling\/jfrCPUTimeThreadSampler.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -171,1 +171,1 @@\n-  volatile u4 _initialize_active_signal_handler_counter;\n+  volatile u4 _active_signal_handlers;\n@@ -204,1 +204,1 @@\n-  void allow_signal_handlers();\n+  void initialize_active_signal_handler_counter();\n@@ -229,1 +229,1 @@\n-  _initialize_active_signal_handler_counter(STOP_SIGNAL_BIT),\n+  _active_signal_handlers(STOP_SIGNAL_BIT),\n@@ -285,1 +285,1 @@\n-    allow_signal_handlers();\n+    initialize_active_signal_handler_counter();\n@@ -610,2 +610,2 @@\n-  Atomic::or_then_fetch(&_initialize_active_signal_handler_counter, STOP_SIGNAL_BIT, memory_order_acq_rel);\n-  while (Atomic::load_acquire(&_initialize_active_signal_handler_counter) > STOP_SIGNAL_BIT) {\n+  Atomic::or_then_fetch(&_active_signal_handlers, STOP_SIGNAL_BIT, memory_order_acq_rel);\n+  while (Atomic::load_acquire(&_active_signal_handlers) > STOP_SIGNAL_BIT) {\n@@ -620,1 +620,1 @@\n-  u4 old_value = Atomic::fetch_then_add(&_initialize_active_signal_handler_counter, (u4)1, memory_order_acq_rel);\n+  u4 old_value = Atomic::fetch_then_add(&_active_signal_handlers, (u4)1, memory_order_acq_rel);\n@@ -623,1 +623,1 @@\n-    Atomic::dec(&_initialize_active_signal_handler_counter, memory_order_acq_rel);\n+    Atomic::dec(&_active_signal_handlers, memory_order_acq_rel);\n@@ -630,1 +630,1 @@\n-  Atomic::dec(&_initialize_active_signal_handler_counter, memory_order_acq_rel);\n+  Atomic::dec(&_active_signal_handlers, memory_order_acq_rel);\n@@ -633,2 +633,2 @@\n-void JfrCPUSamplerThread::allow_signal_handlers() {\n-  Atomic::release_store(&_initialize_active_signal_handler_counter, (u4)0);\n+void JfrCPUSamplerThread::initialize_active_signal_handler_counter() {\n+  Atomic::release_store(&_active_signal_handlers, (u4)0);\n","filename":"src\/hotspot\/share\/jfr\/periodic\/sampling\/jfrCPUTimeThreadSampler.cpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"}]}
{"files":[{"patch":"@@ -421,1 +421,1 @@\n-JvmtiExport::get_jvmti_thread_state(JavaThread *thread) {\n+JvmtiExport::get_jvmti_thread_state(JavaThread *thread, bool allow_suspend) {\n@@ -425,1 +425,1 @@\n-    if (thread->is_suspended()) {\n+    if (allow_suspend && thread->is_suspended()) {\n@@ -2635,1 +2635,1 @@\n-  JvmtiThreadState *state = get_jvmti_thread_state(thread);\n+  JvmtiThreadState *state = get_jvmti_thread_state(thread, false \/* allow_suspend *\/);\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -312,1 +312,1 @@\n-  static JvmtiThreadState* get_jvmti_thread_state(JavaThread *thread);\n+  static JvmtiThreadState* get_jvmti_thread_state(JavaThread *thread, bool allow_suspend = true);\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
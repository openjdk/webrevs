{"files":[{"patch":"@@ -247,2 +247,2 @@\n-                if (LoadLibrary(crtpath) == 0) {\n-                    JLI_ReportErrorMessage(DLL_ERROR4, crtpath);\n+                if (LoadLibrary(crtpath) == NULL) {\n+                    JLI_ReportErrorMessageSys(DLL_ERROR4 \"%s\", crtpath, \" - \");\n@@ -264,2 +264,2 @@\n-                if (LoadLibrary(crtpath) == 0) {\n-                    JLI_ReportErrorMessage(DLL_ERROR4, crtpath);\n+                if (LoadLibrary(crtpath) == NULL) {\n+                    JLI_ReportErrorMessageSys(DLL_ERROR4 \"%s\", crtpath, \" - \");\n@@ -281,2 +281,2 @@\n-                if (LoadLibrary(crtpath) == 0) {\n-                    JLI_ReportErrorMessage(DLL_ERROR4, crtpath);\n+                if (LoadLibrary(crtpath) == NULL) {\n+                    JLI_ReportErrorMessageSys(DLL_ERROR4 \"%s\", crtpath, \" - \");\n@@ -387,3 +387,3 @@\n-    \/* Load the Java VM DLL *\/\n-    if ((handle = LoadLibrary(jvmpath)) == 0) {\n-        JLI_ReportErrorMessage(DLL_ERROR4, (char *)jvmpath);\n+    \/* Load the Java Virtual Machine *\/\n+    if ((handle = LoadLibrary(jvmpath)) == NULL) {\n+        JLI_ReportErrorMessageSys(DLL_ERROR4 \"%s\", (char *)jvmpath, \" - \");\n@@ -630,1 +630,1 @@\n-            errtext = \"\";\n+            errtext = \"Could not properly determine underlying error\";\n@@ -649,3 +649,1 @@\n-        if (freeit) {\n-           mlen += (int)JLI_StrLen(errtext);\n-        }\n+        mlen += (int)JLI_StrLen(errtext);\n@@ -657,3 +655,1 @@\n-        if (freeit) {\n-           JLI_StrCat(message, errtext);\n-        }\n+        JLI_StrCat(message, errtext);\n@@ -667,3 +663,1 @@\n-        if (freeit) {\n-           fprintf(stderr, \"%s\", errtext);\n-        }\n+        fprintf(stderr, \"%s\", errtext);\n","filename":"src\/java.base\/windows\/native\/libjli\/java_md.c","additions":13,"deletions":19,"binary":false,"changes":32,"status":"modified"}]}
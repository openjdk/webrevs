{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,10 +85,2 @@\n-        Deflater deflater = new Deflater(compressionLevel);\n-        deflater.setInput(bytesIn);\n-        ByteArrayOutputStream stream = new ByteArrayOutputStream(bytesIn.length);\n-        byte[] buffer = new byte[1024];\n-\n-        deflater.finish();\n-        while (!deflater.finished()) {\n-            int count = deflater.deflate(buffer);\n-            stream.write(buffer, 0, count);\n-        }\n+        try (Deflater deflater = new Deflater(compressionLevel);\n+             ByteArrayOutputStream stream = new ByteArrayOutputStream(bytesIn.length)) {\n@@ -96,5 +88,1 @@\n-        try {\n-            stream.close();\n-        } catch (IOException ex) {\n-            return bytesIn;\n-        }\n+            deflater.setInput(bytesIn);\n@@ -102,2 +90,1 @@\n-        byte[] bytesOut = stream.toByteArray();\n-        deflater.end();\n+            byte[] buffer = new byte[1024];\n@@ -105,1 +92,9 @@\n-        return bytesOut;\n+            deflater.finish();\n+            while (!deflater.finished()) {\n+                int count = deflater.deflate(buffer);\n+                stream.write(buffer, 0, count);\n+            }\n+            return stream.toByteArray(); \/\/ the compressed output\n+        } catch (IOException e) {\n+            return bytesIn; \/\/ return the original uncompressed input\n+        }\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/plugins\/ZipPlugin.java","additions":14,"deletions":19,"binary":false,"changes":33,"status":"modified"}]}
{"files":[{"patch":"@@ -150,0 +150,3 @@\n+JNIEXPORT jint JNICALL\n+JVM_HostActiveProcessorCount(void);\n+\n","filename":"src\/hotspot\/share\/include\/jvm.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -511,0 +511,7 @@\n+JVM_ENTRY_NO_ENV(jint, JVM_HostActiveProcessorCount(void))\n+#ifdef LINUX\n+  return os::Linux::active_processor_count();\n+#endif\n+  return os::active_processor_count();\n+JVM_END\n+\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -70,3 +70,1 @@\n-    \/\/ FIXME: This ought to use some JVM api to query host CPUs\n-    int retval = sysconf(_SC_NPROCESSORS_ONLN);\n-    return (jint)(retval);\n+    return JVM_HostActiveProcessorCount();\n","filename":"src\/java.base\/linux\/native\/libjava\/CgroupMetrics.c","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"}]}
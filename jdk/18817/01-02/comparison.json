{"files":[{"patch":"@@ -30,16 +30,16 @@\n- * @run main\/othervm KeepAliveTest c0\n- * @run main\/othervm KeepAliveTest c1\n- * @run main\/othervm KeepAliveTest c2\n- * @run main\/othervm KeepAliveTest c3\n- * @run main\/othervm KeepAliveTest c4\n- * @run main\/othervm KeepAliveTest c5\n- * @run main\/othervm KeepAliveTest c6\n- * @run main\/othervm KeepAliveTest c7\n- * @run main\/othervm KeepAliveTest c8\n- * @run main\/othervm KeepAliveTest c9\n- * @run main\/othervm KeepAliveTest c10\n- * @run main\/othervm KeepAliveTest c11\n- * @run main\/othervm KeepAliveTest c12\n- * @run main\/othervm KeepAliveTest c13\n- * @run main\/othervm KeepAliveTest c14\n- * @run main\/othervm KeepAliveTest c15\n+ * @run main\/othervm KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=100 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.proxy=200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=100 -Dhttp.keepAlive.time.proxy=200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=-100 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.proxy=-200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=-100 -Dhttp.keepAlive.time.proxy=-200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=0 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.proxy=0 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=0 -Dhttp.keepAlive.time.proxy=0 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=0 -Dhttp.keepAlive.time.proxy=-200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=-100 -Dhttp.keepAlive.time.proxy=0 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=100 -Dhttp.keepAlive.time.proxy=0 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=0 -Dhttp.keepAlive.time.proxy=200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=100 -Dhttp.keepAlive.time.proxy=-200 KeepAliveTest\n+ * @run main\/othervm -Dhttp.keepAlive.time.server=-100 -Dhttp.keepAlive.time.proxy=200 KeepAliveTest\n@@ -47,3 +47,0 @@\n-\n-import java.nio.charset.StandardCharsets;\n-import java.io.InputStream;\n@@ -52,0 +49,1 @@\n+import java.io.InputStream;\n@@ -63,1 +61,1 @@\n-import java.util.ArrayList;\n+import java.nio.charset.StandardCharsets;\n@@ -70,0 +68,3 @@\n+\n+import jdk.test.lib.net.URIBuilder;\n+\n@@ -73,1 +74,0 @@\n-import jdk.test.lib.net.URIBuilder;\n@@ -78,10 +78,1 @@\n-     * This test covers 160 scenarios.\n-     * For every scenario there is mapping between serverScenarios[int], clientScenarios[int] and expectedValues[int]\n-     *\n-     * serverScenarios[0] clientScenarios[0] expectedValues[0]\n-     * serverScenarios[1] clientScenarios[1] expectedValues[1]\n-     * serverScenarios[2] clientScenarios[2] expectedValues[2]\n-     *\n-     * ...\n-     *\n-     * serverScenarios[159] cientScenarios[159] expectedValues[159]\n+     * This test covers a matrix of 10 server scenarios and 16 client scenarios.\n@@ -90,565 +81,0 @@\n-   \/* Here is the complete table of server response headers, client system properties input and expected cache timeout at client side *\/\n-   \/* ScNo  |  SERVER RESPONSE HEADERS                        | CLIENT SYSTEM PROPERTIES                     | EXPECTED CACHE TIMEOUT AT CLIENT SIDE\n-    *****************************************************************************************************************************************\n-    *    0  |  Connection: keep-alive (A)                     | No Input Provided (NI)                       | Default Timeout set to 5\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    1  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 (SERVER_100)| Client Timeout set to 100\n-    *--------------------------------------------------------------------------------------------------------------------------\n-    *    2  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.proxy=200 (PROXY_200)  | Default Timeout set to 5\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    3  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 &&          |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=200              | Timeout set to 100\n-    *       |                                                 | (SERVER_100 && PROXY_200)                    |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    4  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100            | Default Timeout set to 5\n-    *       |                                                 | (SERVER_100_NEGATIVE)                        |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    5  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.proxy=-200             | Default Timeout set to 5\n-    *       |                                                 | (PROXY_200_NEGATIVE)                         |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    6  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100 &&         |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=-200             | Default Timeout set to 5\n-    *       |                                                 | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)  |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    7  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0               | Connection Closed Immediately\n-    *       |                                                 | (SERVER_ZERO)                                |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    8  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.proxy=0                | Default Timeout set to 5\n-    *       |                                                 | (PROXY_ZERO)                                 |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *    9  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0 &&            |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=0                | Connection Closed Immediately\n-    *       |                                                 | (SERVER_ZERO && PROXY_ZERO)                  |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   10  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0 &&            |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=-200             | Connection Closed Immediately\n-    *       |                                                 | (SERVER_ZERO && PROXY_200_NEGATIVE)          |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   11  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100 &&         |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=0                | Default Timeout set to 5\n-    *       |                                                 | (SERVER_100_NEGATIVE && PROXY_ZERO)          |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   12  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 &&          |\n-    *       |                                                 |  -Dhttp.keepAlive.time.proxy=0               | Timeout set to 100\n-    *       |                                                 | (SERVER_100 && PROXY_ZERO)                   |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   13  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=0 &&            |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=200              | Connection Closed Immediately\n-    *       |                                                 | (SERVER_ZERO && PROXY_200)                   |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   14  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=100 &&          |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=-200             | Timeout set to 100\n-    *       |                                                 | (SERVER_100 && PROXY_200_NEGATIVE)           |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   15  |  Connection: keep-alive (A)                     | -Dhttp.keepAlive.time.server=-100 &&         |\n-    *       |                                                 | -Dhttp.keepAlive.time.proxy=200              | Default Timeout set to 5\n-    *       |                                                 | (SERVER_100_NEGATIVE && PROXY_200)           |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   16  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | No Input Provided (NI)                   | Timeout set to 20\n-    *------------------------------------------------------------------------------------------------------------------------\n-    *   17  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100         | Timeout set to 20\n-    *       |                                                     | (SERVER_100)                             |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   18  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.proxy=200          | Timeout set to 20\n-    *       |                                                     | (PROXY_200)                              |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   19  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100 &&      |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=200          | Timeout set to 20\n-    *       |                                                     | (SERVER_100 && PROXY_200)                |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   20  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=-100        | Timeout set to 20\n-    *       |                                                     | (SERVER_100_NEGATIVE)                    |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   21  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.proxy=-200         | Timeout set to 20\n-    *       |                                                     | (PROXY_200_NEGATIVE)                     |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   22  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=-100 &&       |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200           | Timeout set to 20\n-    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   23  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0      | Timeout set to 20\n-    *       |                                                     | (SERVER_ZERO)                       |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   24  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n-    *       |                                                     | (PROXY_ZERO)                        |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   25  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n-    *       |                                                     | (SERVER_ZERO && PROXY_ZERO)         |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   26  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 20\n-    *       |                                                     | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   27  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n-    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   28  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 20\n-    *       |                                                     | (SERVER_100 && PROXY_ZERO)          |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   29  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 20\n-    *       |                                                     | (SERVER_ZERO && PROXY_200)          |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   30  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 20\n-    *       |                                                     | (SERVER_100 && PROXY_200_NEGATIVE)  |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   31  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 (B) |-Dhttp.keepAlive.time.server=-100 && |\n-    *       |                                                     |-Dhttp.keepAlive.time.proxy=200      | Timeout set to 20\n-    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_200)  |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   32  |Proxy-Connection: keep-alive (C)                     | No Input Provided (NI)              | Default timeout set to 60\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   33  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=100    | Default timeout set to 60\n-    *       |                                                     | (SERVER_100)                        |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   34  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                     | (PROXY_200)                         |\n-    *--------------------------------------------------------------------------------------------------------------------------\n-    *   35  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                     | (SERVER_100 && PROXY_200)           |\n-    *--------------------------------------------------------------------------------------------------------------------------\n-    *   36  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=-100   | Default timeout set to 60\n-    *       |                                                     | (SERVER_100_NEGATIVE)               |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   37  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n-    *       |                                                     | (PROXY_200_NEGATIVE)                |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   38  |Proxy-Connection: keep-alive (C)                     |-Dhttp.keepAlive.time.server=-100 &&       |\n-    *       |                                                     |-Dhttp.keepAlive.time.proxy=-200           | Default timeout set to 60\n-    *       |                                                     |(SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   39  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0      | Default timeout set to 60\n-    *       |                                                     | (SERVER_ZERO)                       |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   40  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                     | (PROXY_ZERO)                        |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   41  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                     | (SERVER_ZERO && PROXY_ZERO)         |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   42  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n-    *       |                                                     | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *   43  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *   44  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                     | (SERVER_100 && PROXY_ZERO)          |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   45  |Proxy-Connection: keep-alive (C)                     | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                     | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                     | (SERVER_ZERO && PROXY_200)          |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   46  |Proxy-Connection: keep-alive (C)                     |-Dhttp.keepAlive.time.server=100 &&  |\n-    *       |                                                     |-Dhttp.keepAlive.time.proxy=-200     | Default timeout set to 60\n-    *       |                                                     | (SERVER_100 && PROXY_200_NEGATIVE)  |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   47  |Proxy-Connection: keep-alive (C)                     |-Dhttp.keepAlive.time.server=-100 && |\n-    *       |                                                     |-Dhttp.keepAlive.time.proxy=200      | Timeout set to 200\n-    *       |                                                     | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   48  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | No Input Provided (NI)              | Default timeout set to 60\n-    *-----------------------------------------------------------------------------------------------------------------------------\n-    *   49  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100    | Default timeout set to 60\n-    *       |                                                         | (SERVER_100)                        |\n-    *---------------------------------------------------------------------------------------------------------------------------\n-    *   50  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                         | (PROXY_200)                         |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   51  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                         | (SERVER_100 && PROXY_200)           |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   52  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100   | Default timeout set to 60\n-    *       |                                                         | (SERVER_100_NEGATIVE)               |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   53  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n-    *       |                                                         | (PROXY_200_NEGATIVE)                |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   54  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100&&        |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200           | Default timeout set to 60\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   55  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0      | Default timeout set to 60\n-    *       |                                                         | (SERVER_ZERO)                       |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   56  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (PROXY_ZERO)                        |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   57  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   58  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | Default timeout set to 60\n-    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   59  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   60  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   61  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   62  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | default timeout set to 60\n-    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)  |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   63  |Connection:keep-alive\\r\\nProxy-connection:keep-alive (D) | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 200\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   64  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| No Input Provided (NI)              | Timeout set to 120\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   65  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100    | Timeout set to 120\n-    *       |                                                         | (SERVER_100)                        |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   66  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n-    *       |                                                         | (PROXY_200)                         |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   67  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n-    *       |                                                         | (SERVER_100 && PROXY_200)           |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   68  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100   | Timeout set to 120\n-    *       |                                                         | (SERVER_100_NEGATIVE)               |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   69  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 120\n-    *       |                                                         | (PROXY_200_NEGATIVE)                |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   70  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100 &&       |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200           | Timeout set to 120\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   71  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0      | Timeout set to 120\n-    *       |                                                         | (SERVER_ZERO)                       |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   72  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n-    *       |                                                         | (PROXY_ZERO)                        |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   73  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   74  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | Timeout set to 120\n-    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   75  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   76  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 120\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   77  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   78  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=100 &&         |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200            | Timeout set to 120\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE) |\n-    *-------------------------------------------------------------------------------------------------------------------------------\n-    *   79  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120 (E)| -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | Timeout set to 120\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n-    *-----------------------------------------------------------------------------------------------------------------------------\n-    *   80  |No Input (NI)                                            | No Input Provided (NI)              | default timeout set to 5\n-    *-----------------------------------------------------------------------------------------------------------------------------\n-    *   81  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=100    | Timeout set to 100\n-    *       |                                                         | (SERVER_100)                        |\n-    *-----------------------------------------------------------------------------------------------------------------------------\n-    *   82  |No Input (NI)                                            | -Dhttp.keepAlive.time.proxy=200     | default timeout set to 5\n-    *       |                                                         | (PROXY_200)                         |\n-    *-----------------------------------------------------------------------------------------------------------------------------\n-    *   83  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | client timeot set to 100\n-    *       |                                                         | (SERVER_100 && PROXY_200)           |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   84  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=-100   | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE)               |\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   85  |No Input (NI)                                            | -Dhttp.keepAlive.time.proxy=-200    | default timeout set to 5\n-    *       |                                                         | (PROXY_200_NEGATIVE)                |\n-    *----------------------------------------------------------------------------------------------------------------------------\n-    *   86  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=-100 &&       |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200           | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n-    *------------------------------------------------------------------------------------------------------------------------------\n-    *   87  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0      | close connection immediately\n-    *       |                                                         | (SERVER_ZERO)                       |\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *   88  |No Input (NI)                                            | -Dhttp.keepAlive.time.proxy=0       | default timeout set to 5\n-    *       |                                                         | (PROXY_ZERO)                        |\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *   89  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *   90  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   91  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   92  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | Timeout set to 100\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   93  |No Input (NI)                                            | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   94  |No Input (NI)                                            |-Dhttp.keepAlive.time.server=100 &&  |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200     | Timeout set to 100\n-    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)  |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   95  |No Input (NI)                                            |-Dhttp.keepAlive.time.server=-100 && |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   96  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    | No Input Provided (NI)              | default timeout set to 5\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   97  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100     | Timeout set to 100\n-    *       |                                                         | (SERVER_100)                        |\n-    *--------------------------------------------------------------------------------------------------------------------------------\n-    *   98  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.proxy=200      | default timeout set to 5\n-    *       |                                                         | (PROXY_200)                         |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *   99  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100 &&  |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | Timeout set to 100\n-    *       |                                                         |(SERVER_100 && PROXY_200)            |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  100  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100    | default timeout set to 5\n-    *       |                                                         |(SERVER_100_NEGATIVE)                |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  101  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.proxy=-200     | default timeout set to 5\n-    *       |                                                         |(PROXY_200_NEGATIVE)                 |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  102  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100 &&        |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200            | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  103  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0       | close connection immediately\n-    *       |                                                         | (SERVER_ZERO)                       |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  104  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.proxy=0        | default timeout set to 5\n-    *       |                                                         | (PROXY_ZERO)                        |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  105  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0 &&    |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  106  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0 &&    |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200     | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO_NEGATIVE)|\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  107  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100 && |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=0        | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  108  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100 &&  |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=0        | Timeout set to 100\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  109  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=0 &&    |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  110  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=100 &&  |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200     | Timeout set to 100\n-    *       |                                                         |(SERVER_100 && PROXY_200_NEGATIVE)   |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  111  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20 (F)    |-Dhttp.keepAlive.time.server=-100 && |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=200      | default timeout set to 5\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  112  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | No Input Provided (NI)              | close connection immediately\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  113  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100    | close connection immediately\n-    *       |                                                         | (SERVER_100)                        |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  114  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n-    *       |                                                         | (PROXY_200)                         |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  115  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_200)           |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  116  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=-100   | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE)               |\n-    *------------------------------------------------------------------------------------------------------------------------------------\n-    *  117  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n-    *       |                                                         | (PROXY_200_NEGATIVE)                |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  118  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      |-Dhttp.keepAlive.time.server=-100 &&         |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200             | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE) |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  119  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0      | close connection immediately\n-    *       |                                                         | (SERVER_ZERO)                       |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  120  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (PROXY_ZERO)                        |\n-    *------------------------------------------------------------------------------------------------------------------------------------\n-    *  121  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)         |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  122  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE) |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  123  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO) |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  124  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0       | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)          |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  125  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=0 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)          |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  126  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=100 && |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200    | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)  |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  127  |Connection: keep-alive\\r\\nKeep-alive: timeout=0 (G)      | -Dhttp.keepAlive.time.server=-100 &&|\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200     | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)  |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  128  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| No Input Provided (NI)                | default timeout set to 60\n-    ---------------------------------------------------------------------------------------------------------------------------------------\n-    *  129  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=100      | default timeout set to 60\n-    *       |                                                         | (SERVER_100)                          |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  130  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.proxy=200       | Timeout set to 200\n-    *       |                                                         | (PROXY_200)                           |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  131  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=100 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | Timeout set to 200\n-    *       |                                                         | (SERVER_100 && PROXY_200)             |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  132  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=-100     | default timeout set to 60\n-    *       |                                                         | (SERVER_100_NEGATIVE)                 |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  133  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.proxy=-200      | default timeout set to 60\n-    *       |                                                         | (PROXY_200_NEGATIVE)                  |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  134  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)|-Dhttp.keepAlive.time.server=-100 &&        |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200            | default timeout set to 60\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE)|\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *  135  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0        | default timeout set to 60\n-    *       |                                                         | (SERVER_ZERO)                         |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  136  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (PROXY_ZERO)                          |\n-    *----------------------------------------------------------------------------------------------------------------------------------\n-    *  137  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0 &&     |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)           |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  138  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0 &&     |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200      | default timeout set to 60\n-    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE)   |\n-    *---------------------------------------------------------------------------------------------------------------------------------------\n-    *  139  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=-100 &&  |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO)   |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  140  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=100 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)            |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  141  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)| -Dhttp.keepAlive.time.server=0 &&     |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | Timeout set to 20\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)            |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  142  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)|-Dhttp.keepAlive.time.server=100 &&    |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=-200       | default timeout set to 60\n-    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)    |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  143  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20 (H)|-Dhttp.keepAlive.time.server=-100 &&   |\n-    *       |                                                         |-Dhttp.keepAlive.time.proxy=200        | Timeout set to 200\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)    |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  144  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | No Input Provided (NI)                | close connection immediately\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  145  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100      | close connection immediately\n-    *       |                                                         | (SERVER_100)                          |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  146  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n-    *       |                                                         | (PROXY_200)                           |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  147  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_200)             |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  148  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100     | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE)                 |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  149  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.proxy=-200      | close connection immediately\n-    *       |                                                         | (PROXY_200_NEGATIVE)                  |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  150  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100 &&        |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200            | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200_NEGATIVE) |\n-    *------------------------------------------------------------------------------------------------------------------------------------\n-    *  151  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0        | close connection immediately\n-    *       |                                                         | (SERVER_ZERO)                         |\n-    *-----------------------------------------------------------------------------------------------------------------------------------\n-    *  152  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (PROXY_ZERO)                          |\n-    *---------------------------------------------------------------------------------------------------------------------------------\n-    *  153  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0 &&     |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_ZERO)           |\n-    *------------------------------------------------------------------------------------------------------------------------------------\n-    *  154  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0 &&     |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200      | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200_NEGATIVE)   |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  155  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100 &&  |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_ZERO)   |\n-    *-------------------------------------------------------------------------------------------------------------------------------------\n-    *  156  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=0         | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_ZERO)            |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  157  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=0 &&     |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n-    *       |                                                         | (SERVER_ZERO && PROXY_200)            |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  158  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=100 &&   |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=-200      | close connection immediately\n-    *       |                                                         | (SERVER_100 && PROXY_200_NEGATIVE)    |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *  159  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0 (I)  | -Dhttp.keepAlive.time.server=-100 &&  |\n-    *       |                                                         | -Dhttp.keepAlive.time.proxy=200       | close connection immediately\n-    *       |                                                         | (SERVER_100_NEGATIVE && PROXY_200)    |\n-    *--------------------------------------------------------------------------------------------------------------------------------------\n-    *\/\n-\n-    private static final String NOT_CACHED = \"NotCached\";\n-    private static final String CLIENT_SEPARATOR = \";\";\n@@ -657,2 +83,0 @@\n-    private static final String NI = \"NO_INPUT\";\n-\n@@ -665,6 +89,0 @@\n-    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_NEGATIVE = \"http.keepAlive.time.server=-100\";\n-    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_NEGATIVE = \"http.keepAlive.time.proxy=-200\";\n-    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_ZERO = \"http.keepAlive.time.server=0\";\n-    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_ZERO = \"http.keepAlive.time.proxy=0\";\n-    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_POSITIVE = \"http.keepAlive.time.server=100\";\n-    private static final String CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_POSITIVE = \"http.keepAlive.time.proxy=200\";\n@@ -673,50 +91,11 @@\n-    private static final String SERVER_100_NEGATIVE = CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_NEGATIVE;\n-    private static final String PROXY_200_NEGATIVE = CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_NEGATIVE;\n-    private static final String SERVER_ZERO = CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_ZERO;\n-    private static final String PROXY_ZERO = CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_ZERO;\n-    private static final String SERVER_100 = CLIENT_HTTP_KEEP_ALIVE_TIME_SERVER_POSITIVE;\n-    private static final String PROXY_200 = CLIENT_HTTP_KEEP_ALIVE_TIME_PROXY_POSITIVE;\n-\n-    private static final String[] serverScenarios = {\n-        CONNECTION_KEEP_ALIVE_ONLY,\n-        CONNECTION_KEEP_ALIVE_WITH_TIMEOUT,\n-        PROXY_CONNECTION_KEEP_ALIVE_ONLY,\n-        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + CONNECTION_KEEP_ALIVE_ONLY,\n-        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_PROXY_TIMEOUT,\n-        NI,\n-        CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_NEG,\n-        CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_ZERO,\n-        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_NEG,\n-        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_ZERO\n-    };\n-\n-    private static final String[] clientScenarios = {\n-        NI,\n-        SERVER_100,\n-        PROXY_200,\n-        SERVER_100 + CLIENT_SEPARATOR + PROXY_200,\n-        SERVER_100_NEGATIVE,\n-        PROXY_200_NEGATIVE,\n-        SERVER_100_NEGATIVE + CLIENT_SEPARATOR + PROXY_200_NEGATIVE,\n-        SERVER_ZERO,\n-        PROXY_ZERO,\n-        SERVER_ZERO + CLIENT_SEPARATOR + PROXY_ZERO,\n-        SERVER_ZERO + CLIENT_SEPARATOR + PROXY_200_NEGATIVE,\n-        SERVER_100_NEGATIVE + CLIENT_SEPARATOR + PROXY_ZERO,\n-        SERVER_100 + CLIENT_SEPARATOR + PROXY_ZERO,\n-        SERVER_ZERO + CLIENT_SEPARATOR + PROXY_200,\n-        SERVER_100 + CLIENT_SEPARATOR + PROXY_200_NEGATIVE,\n-        SERVER_100_NEGATIVE + CLIENT_SEPARATOR + PROXY_200\n-    };\n-\n-    private static final int[] expectedValues = {\n-          5, 100,   5, 100,   5,   5,   5,   0,   5,   0,   0,   5,  100,    0,   100,    5,\n-         20,  20,  20,  20,  20,  20,  20,  20,  20,  20 , 20,  20,   20,   20,    20,   20,\n-         60,  60, 200, 200,  60,  60,  60,  60,   0,   0,  60,   0,    0,  200,    60,  200,\n-         60,  60, 200, 200,  60,  60,  60,  60,   0,   0,  60,   0,    0,  200,    60,  200,\n-        120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120,  120,  120,   120,  120,\n-          5, 100,   5, 100,   5,   5,   5,   0,   5,   0,   0,   5,  100,    0,   100,    5,\n-          5, 100,   5, 100,   5,   5,   5,   0,   5,   0,   0,   5,  100,    0,   100,    5,\n-          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,    0,    0,     0,    0,\n-         60,  60, 200, 200,  60,  60,  60,  60,   0,   0,  60,   0,    0,  200,    60,  200,\n-          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,    0,    0,     0,    0,\n+    private static final String[] serverHeaders = {\n+        null,\n+        CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE,\n+        CONNECTION_KEEP_ALIVE_WITH_TIMEOUT + NEW_LINE,\n+        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE,\n+        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE,\n+        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_PROXY_TIMEOUT + NEW_LINE,\n+        CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_NEG + NEW_LINE,\n+        CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_ZERO + NEW_LINE,\n+        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_NEG + NEW_LINE,\n+        PROXY_CONNECTION_KEEP_ALIVE_ONLY + NEW_LINE + KEEP_ALIVE_TIMEOUT_ZERO + NEW_LINE\n@@ -734,36 +113,1 @@\n-\n-    \/*\n-     * setting of client properties -Dhttp.keepAlive.time.server and -Dhttp.keepAlive.time.proxy is handled through this method.\n-     * There are 16 client scenarios in total starting with scenarioNumber 0(zero) and ending with 15.\n-     * Server Scenarios are grouped into batch of 16 scenarios.\n-     * There are 10 batches in total and each batch contains 16 scenarios so 10 * 16 = 160 scenarios in total.\n-     * 16 Client Scenarios are used repeatedly for every server scenario batch.\n-     * for serverscenario[0],serverscenario[16],serverscenario[32] ... serverscenario[144] is mapped to clientscenario[0]\n-     * for serverscenario[1],serverscenario[17],serverscenario[33] ... serverscenario[145] is mapped to clientscenario[1]\n-     * for serverscenario[2],serverscenario[18],serverscenario[34] ... serverscenario[146] is mapped to clientscenario[2]\n-     * ...\n-     * for serverscenario[15],serverscenario[31],serverscenario[47] ... serverscenario[159] is mapped to clientscenario[15]\n-     *\/\n-    private static String getClientScenario(int scenarioNumber) {\n-        return clientScenarios[scenarioNumber % 16];\n-    }\n-\n-    \/*\n-     * Returns SERVER_RESPONSE as String based on integer inputParameter scenarioNumber.\n-     * Server Scenarios are grouped into batch of 16 scenarios starting with scenarioNumber 0 (zero)\n-     * so there are 10 batches in total and each batch contains 16 scenarios so 10 * 16 = 160 scenarios in total.\n-     * For each batch of 16 scenarios, there will be common SERVER_RESPONSE for all 16 scenarios in batch.\n-     * for scenario numbers from 0 to 15 server  response is: Connection:keep-alive\n-     * for scenario numbers from 16 to 31 server response is: SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=20\n-     * for scenario numbers from 32 to 47 server response is: SERVER_RESPONSE=Proxy-Connection: keep-alive\n-     * for scenario numbers from 48 to 63 server response is: SERVER_RESPONSE=Connection:keep-alive\\r\\nProxy-connection:keep-alive\n-     * for scenario numbers from 64 to 79 server response is: SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120\n-     * for scenario numbers from 80 to 95 server response is: SERVER_RESPONSE=No Input\n-     * for scenario numbers from 96 to 111 server response is: SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=-20\n-     * for scenario numbers from 112 to 127 server response is: Connection: keep-alive\\r\\nKeep-alive: timeout=0\n-     * for scenario numbers from 128 to 143 server response is: Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=-20\n-     * for scenario numbers from 144 to 159 server response is: Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=0\n-     *\/\n-    private static String getServerScenario(int scenarioNumber) {\n-        return serverScenarios[scenarioNumber >> 4];\n-    }\n+    private Thread server;\n@@ -788,3 +132,2 @@\n-        String serverScenarioContent = null;\n-        if (!getServerScenario(scenarioNumber).equalsIgnoreCase(NI)) {\n-            serverScenarioContent = getServerScenario(scenarioNumber) + NEW_LINE;\n+        String scenarioHeaders = serverHeaders[scenarioNumber];\n+        if (scenarioHeaders != null) {\n@@ -792,1 +135,1 @@\n-            isProxySet = serverScenarioContent.contains(\"Proxy\");\n+            isProxySet = scenarioHeaders.contains(\"Proxy\");\n@@ -806,1 +149,1 @@\n-                    \/\/ send the header\n+                    \/\/ send common headers\n@@ -810,3 +153,3 @@\n-                    \/\/ append each scenario content from array.\n-                    if (serverScenarioContent != null) {\n-                        out.write(serverScenarioContent);\n+                    \/\/ set scenario headers\n+                    if (scenarioHeaders != null) {\n+                        out.write(scenarioHeaders);\n@@ -814,0 +157,2 @@\n+\n+                    \/\/ send content\n@@ -822,2 +167,2 @@\n-    private Thread startServer(int scenarioNumber) {\n-        Thread server = new Thread(new Runnable() {\n+    private void startServer(int scenarioNumber) {\n+        server = new Thread(new Runnable() {\n@@ -834,1 +179,0 @@\n-        return server;\n@@ -837,1 +181,1 @@\n-    private void fetchInfo(int scenarioNumber, HttpURLConnection httpUrlConnection) throws Exception {\n+    private void fetchInfo(int expectedValue, HttpURLConnection httpUrlConnection) throws Exception {\n@@ -854,1 +198,1 @@\n-            if (expectedValues[scenarioNumber] == actualValue) {\n+            if (expectedValue == actualValue) {\n@@ -857,1 +201,1 @@\n-                throw new RuntimeException(\"Sleep time of \" + actualValue + \" not expected (\" + expectedValues[scenarioNumber] + \")\");\n+                throw new RuntimeException(\"Sleep time of \" + actualValue + \" not expected (\" + expectedValue + \")\");\n@@ -860,1 +204,1 @@\n-            if (expectedValues[scenarioNumber] == 0) {\n+            if (expectedValue == 0) {\n@@ -863,1 +207,1 @@\n-                throw new RuntimeException(\"Connection was not cached although expected with sleep time of:\" + expectedValues[scenarioNumber]);\n+                throw new RuntimeException(\"Connection was not cached although expected with sleep time of:\" + expectedValue);\n@@ -868,1 +212,1 @@\n-    private void connectToServerURL(int scenarioNumber) throws Exception {\n+    private void connectToServerURL(int expectedValue) throws Exception {\n@@ -872,1 +216,1 @@\n-        System.out.println(\"connecting client to server URL: \" + url + \", isProxySet: \" + isProxySet);\n+        System.out.println(\"connecting to server URL: \" + url + \", isProxySet: \" + isProxySet);\n@@ -882,2 +226,3 @@\n-        InputStreamReader inputStreamReader = new InputStreamReader(httpUrlConnection.getInputStream());\n-        try (BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n+\n+        try (InputStreamReader inputStreamReader = new InputStreamReader(httpUrlConnection.getInputStream());\n+             BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n@@ -885,2 +230,2 @@\n-                String eachLine = bufferedReader.readLine();\n-                if (eachLine == null) {\n+                String line = bufferedReader.readLine();\n+                if (line == null) {\n@@ -889,1 +234,1 @@\n-                System.out.println(eachLine);\n+                System.out.println(line);\n@@ -895,1 +240,1 @@\n-        fetchInfo(scenarioNumber, httpUrlConnection);\n+        fetchInfo(expectedValue, httpUrlConnection);\n@@ -898,10 +243,44 @@\n-    private void runScenario(int scenarioNumber) throws Exception {\n-        System.out.println(\"Testing scenario \" + scenarioNumber);\n-        System.out.println(\"Server: \" + getServerScenario(scenarioNumber));\n-        System.out.println(\"Client: \" + getClientScenario(scenarioNumber));\n-        System.out.println(\"Expected Cache Time: \" + (expectedValues[scenarioNumber] == 0 ? NOT_CACHED : expectedValues[scenarioNumber]));\n-        System.out.println();\n-        Thread serverThread = startServer(scenarioNumber);\n-        connectToServerURL(scenarioNumber);\n-        serverThread.join();\n-        System.out.println();\n+    private int getExpectedCachingValue(int serverScenario) {\n+        if (serverScenario == 2) {\n+            \/\/ Connection: keep-alive && Keep-alive: timeout=20\n+            \/\/\n+            \/\/ server side keep-alive timeout is what counts here\n+            return 20;\n+        } else if (serverScenario == 3 || serverScenario == 4 || serverScenario == 8) {\n+            \/\/ Proxy-Connection: keep-alive\n+            \/\/ Connection:keep-alive && Proxy-connection:keep-alive\n+            \/\/ Proxy-Connection:keep-alive && Keep-alive:timeout=-20\n+            \/\/\n+            \/\/ Proxy-connection:keep-alive is set, timeout could be invalid -> value of http.keepAlive.time.proxy or default of 60\n+            int httpKeepAliveTimeProxy;\n+            try {\n+                httpKeepAliveTimeProxy = Integer.valueOf(System.getProperty(\"http.keepAlive.time.proxy\"));\n+            } catch (NumberFormatException e) {\n+                httpKeepAliveTimeProxy = -1;\n+            }\n+            return httpKeepAliveTimeProxy < 0 ? 60 : httpKeepAliveTimeProxy;\n+        } else if (serverScenario == 5) {\n+            \/\/ Proxy-connection:keep-alive && Keep-alive:timeout=120\n+            \/\/\n+            \/\/ server side keep-alive timeout is what counts here\n+            return 120;\n+        } else if (serverScenario == 7 || serverScenario == 9) {\n+            \/\/ Connection: keep-alive && Keep-alive: timeout=0\n+            \/\/ Proxy-Connection:keep-alive && Keep-alive:timeout=0\n+            \/\/\n+            \/\/ no caching\n+            return 0;\n+        } else {\n+            \/\/ No server parameters\n+            \/\/ Connection: keep-alive\n+            \/\/ Connection: keep-alive && Keep-alive: timeout=-20\n+            \/\/\n+            \/\/ Nothing or Connection:keep-alive is set, timeout could be invalid -> value of http.keepAlive.time.server or default of 5\n+            int httpKeepAliveTimeServer;\n+            try {\n+                httpKeepAliveTimeServer = Integer.valueOf(System.getProperty(\"http.keepAlive.time.server\"));\n+            } catch (NumberFormatException e) {\n+                httpKeepAliveTimeServer = -1;\n+            }\n+            return httpKeepAliveTimeServer < 0 ? 5 : httpKeepAliveTimeServer;\n+        }\n@@ -910,4 +289,7 @@\n-    private static void collectPropertyValue(List<String> props, String prop) {\n-        var val = System.getProperty(prop);\n-        if (val != null) {\n-            props.add(prop + \"=\" + val);\n+    private void runScenario(int scenarioNumber) throws Exception {\n+        int expectedValue = getExpectedCachingValue(scenarioNumber);\n+        System.out.println(\"Expecting Cache Time of \" + expectedValue + \" for server headers:\");\n+        if (serverHeaders[scenarioNumber] == null) {\n+            System.out.println();\n+        } else {\n+            System.out.print(serverHeaders[scenarioNumber]);\n@@ -915,0 +297,4 @@\n+        startServer(scenarioNumber);\n+        connectToServerURL(expectedValue);\n+        server.join();\n+        System.out.println();\n@@ -917,14 +303,3 @@\n-    private static void initialize(int scenarioNumber) throws Exception {\n-        List<String> props = new ArrayList<>();\n-\n-        collectPropertyValue(props, \"http.keepAlive.time.server\");\n-        collectPropertyValue(props, \"http.keepAlive.time.proxy\");\n-        collectPropertyValue(props, \"http.proxyPort\");\n-        collectPropertyValue(props, \"http.proxyHost\");\n-\n-        if (props.size() > 0) {\n-            System.out.println(\"Existing System Properties:\");\n-            for (String prop : props) {\n-                System.out.println(prop);\n-            }\n-        }\n+    private static void initialize() throws Exception {\n+        System.clearProperty(\"http.proxyPort\");\n+        System.clearProperty(\"http.proxyHost\");\n@@ -932,10 +307,0 @@\n-        System.clearProperty(\"http.keepAlive.time.server\");\n-        System.clearProperty(\"http.keepAlive.time.proxy\");\n-\n-        \/\/ fetch clientScenario and set system properties\n-        if (!getClientScenario(scenarioNumber).equalsIgnoreCase(NI)) {\n-            for (String clientScenarioString : getClientScenario(scenarioNumber).split(CLIENT_SEPARATOR)) {\n-                String[] kv = clientScenarioString.split(\"=\");\n-                System.setProperty(kv[0], kv[1]);\n-            }\n-        }\n@@ -955,0 +320,3 @@\n+\n+        System.out.println(\"Client properties: http.keepAlive.time.server=\" + System.getProperty(\"http.keepAlive.time.server\") +\n+                \", http.keepAlive.time.proxy=\" + System.getProperty(\"http.keepAlive.time.proxy\"));\n@@ -958,1 +326,1 @@\n-        if (args.length != 1) {\n+        if (args.length > 1) {\n@@ -960,6 +328,11 @@\n-        }\n-        if (args[0].startsWith(\"c\")) {\n-            \/\/ all subtests of a specific client scenario\n-            int clientScenarioNumber = Integer.valueOf(args[0].substring(1));\n-            if (clientScenarioNumber < 0 || clientScenarioNumber > 15) {\n-                throw new IllegalArgumentException(\"Client Scenario \" + clientScenarioNumber + \" does not exist\");\n+        } else if (args.length == 1) {\n+            \/\/ an individual test scenario\n+            try {\n+                int scenarioNumber = Integer.valueOf(args[0]);\n+                if (scenarioNumber < 0 || scenarioNumber > 9) {\n+                    throw new IllegalArgumentException(\"Scenario \" + scenarioNumber + \" does not exist\");\n+                }\n+                initialize();\n+                new KeepAliveTest().runScenario(scenarioNumber);\n+            } catch (NumberFormatException e) {\n+                throw new IllegalArgumentException(\"Scenario must be a number, got \" + args[0]);\n@@ -967,2 +340,4 @@\n-            initialize(clientScenarioNumber);\n-            for (int i = clientScenarioNumber; i < 160; i += 16) {\n+        } else {\n+            \/\/ all server scenarios\n+            initialize();\n+            for (int i = 0; i < 10; i++) {\n@@ -971,5 +346,0 @@\n-        } else {\n-            \/\/ an individual test scenario\n-            int scenarioNumber = Integer.valueOf(args[0]);\n-            initialize(scenarioNumber);\n-            new KeepAliveTest().runScenario(scenarioNumber);\n","filename":"test\/jdk\/sun\/net\/www\/http\/HttpClient\/KeepAliveTest.java","additions":136,"deletions":766,"binary":false,"changes":902,"status":"modified"}]}
{"files":[{"patch":"@@ -25,0 +25,1 @@\n+\n@@ -26,0 +27,1 @@\n+import java.awt.Dimension;\n@@ -32,0 +34,1 @@\n+import java.awt.Toolkit;\n@@ -35,0 +38,3 @@\n+import java.io.File;\n+import java.io.IOException;\n+import javax.imageio.ImageIO;\n@@ -55,2 +61,0 @@\n-    private static int numOfFailedAttempts = 0;\n-    private static boolean skipColorCheck = false;\n@@ -128,1 +132,1 @@\n-        for(int i = 1; i <= 50; i++) {\n+        for (int i = 1; i <= 50; i++) {\n@@ -130,1 +134,0 @@\n-            skipColorCheck = false;\n@@ -147,3 +150,0 @@\n-                if (skipColorCheck) {\n-                    break;\n-                }\n@@ -154,3 +154,0 @@\n-                if (skipColorCheck) {\n-                    break;\n-                }\n@@ -183,2 +180,1 @@\n-            numOfFailedAttempts++;\n-            System.err.println(\"FAILED ATTEMPT #\" + numOfFailedAttempts);\n+            captureScreen();\n@@ -193,0 +189,3 @@\n+            throw new RuntimeException(\"Test failed. The shape has not been applied.\");\n+        }\n+    }\n@@ -194,5 +193,11 @@\n-            if (numOfFailedAttempts < 3) {\n-                skipColorCheck = true;\n-            } else {\n-                throw new RuntimeException(\"Test failed 3 times. The shape has not been applied.\");\n-            }\n+    private static void captureScreen() {\n+        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n+        Rectangle screenBounds = new Rectangle(0, 0, screenSize.width, screenSize.height);\n+        try {\n+            ImageIO.write(\n+                    robot.createScreenCapture(screenBounds),\n+                    \"png\",\n+                    new File(\"Screenshot.png\")\n+            );\n+        } catch (IOException e) {\n+            e.printStackTrace();\n","filename":"test\/jdk\/java\/awt\/Frame\/ShapeNotSetSometimes\/ShapeNotSetSometimes.java","additions":22,"deletions":17,"binary":false,"changes":39,"status":"modified"}]}
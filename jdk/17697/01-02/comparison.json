{"files":[{"patch":"@@ -4964,1 +4964,1 @@\n-      if (alock->is_coarsened() && !box->is_coarsened()) { \/\/ Not marked already\n+      if (alock->is_coarsened() && !box->is_unbalanced()) { \/\/ Not marked already\n@@ -4971,2 +4971,2 @@\n-            box->set_coarsened();\n-            this_box->set_coarsened();\n+            box->set_unbalanced();\n+            this_box->set_unbalanced();\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2551,1 +2551,1 @@\n-        if (!box->is_coarsened() && !alock->is_non_esc_obj()) {\n+        if (!box->is_unbalanced() && !alock->is_non_esc_obj()) {\n","filename":"src\/hotspot\/share\/opto\/escape.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -93,0 +93,3 @@\n+  if (is_unbalanced()) {\n+    return false;\n+  }\n","filename":"src\/hotspot\/share\/opto\/locknode.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -40,1 +40,2 @@\n-    Coarsened,         \/\/ Some lock\/unlock in region were coarsened\n+    Unbalanced,        \/\/ Some lock\/unlock in region were coarsened,\n+                       \/\/ as result this region become unbalanced\n@@ -65,1 +66,1 @@\n-  bool is_coarsened()  const { return _kind == Coarsened; }\n+  bool is_unbalanced() const { return _kind == Unbalanced; }\n@@ -67,1 +68,1 @@\n-  void set_coarsened()       { _kind = Coarsened; }\n+  void set_unbalanced()      { _kind = Unbalanced; }\n","filename":"src\/hotspot\/share\/opto\/locknode.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -1946,0 +1946,1 @@\n+  assert(!oldbox->as_BoxLock()->is_unbalanced(), \"this should not be called for unbalanced region\");\n@@ -2036,1 +2037,1 @@\n-  if (alock->box_node()->as_BoxLock()->is_coarsened()) {\n+  if (alock->box_node()->as_BoxLock()->is_unbalanced()) {\n","filename":"src\/hotspot\/share\/opto\/macro.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
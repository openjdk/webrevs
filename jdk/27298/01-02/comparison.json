{"files":[{"patch":"@@ -34,0 +34,2 @@\n+ * @run main\/othervm -Djdk.net.hosts.file=TestHosts KvnoNA des3-cbc-sha1\n+ * @run main\/othervm -Djdk.net.hosts.file=TestHosts KvnoNA rc4-hmac\n@@ -51,1 +53,1 @@\n-    static void prepareKtabs(boolean testDES) throws Exception {\n+    static void prepareKtabs(String etype) throws Exception {\n@@ -54,2 +56,2 @@\n-        \/\/ using the preferred etypes.\n-        if (testDES) {\n+        \/\/ using the preferred etype.\n+        if (etype != null && etype.startsWith(\"dec\")) {\n@@ -63,0 +65,6 @@\n+        } else if (etype != null) {\n+            Files.writeString(Path.of(\"temp.conf\"), String.format(\"\"\"\n+                    [libdefaults]\n+                    permitted_enctypes=%s\n+                    allow_weak_crypto = true\n+                    \"\"\", etype));\n@@ -98,8 +106,4 @@\n-        OneKDC kdc;\n-        if (args.length > 0) { \/\/ DES ones\n-            prepareKtabs(true);\n-            kdc = new OneKDC(args[0]);\n-        } else {\n-            prepareKtabs(false);\n-            kdc = new OneKDC(null);\n-        }\n+        String etype = args.length > 0 ? args[0] : null;\n+\n+        prepareKtabs(etype);\n+        OneKDC kdc = new OneKDC(etype);\n","filename":"test\/jdk\/sun\/security\/krb5\/auto\/KvnoNA.java","additions":15,"deletions":11,"binary":false,"changes":26,"status":"modified"}]}
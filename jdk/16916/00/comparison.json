{"files":[{"patch":"@@ -573,1 +573,0 @@\n-java\/nio\/file\/Files\/probeContentType\/Basic.java                 8320943 windows-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @modules java.base\/jdk.internal.util\n@@ -39,0 +40,3 @@\n+import jdk.internal.util.OperatingSystem;\n+import jdk.internal.util.OSVersion;\n+\n@@ -44,2 +48,11 @@\n-    private static final boolean IS_UNIX =\n-        ! System.getProperty(\"os.name\").startsWith(\"Windows\");\n+    \/\/ Whether the OS is Windows with version 11 or higher\n+    private static final boolean IS_WIN11_PLUS = OperatingSystem.isWindows() &&\n+        (System.getProperty(\"os.name\").endsWith(\"11\") ||\n+         new OSVersion(10, 0).compareTo(OSVersion.current()) > 0);\n+\n+    \/\/ Extra MIME types expected by Windows 11+\n+    private static final String EXTRA_BZ2 = IS_WIN11_PLUS ? \"application\/x-compressed\" : \"\";\n+    private static final String EXTRA_CSV = IS_WIN11_PLUS ? \"application\/vnd.ms-excel\" : \"\";\n+    private static final String EXTRA_RAR = IS_WIN11_PLUS ? \"application\/x-compressed\" : \"\";\n+    private static final String EXTRA_RTF = IS_WIN11_PLUS ? \"application\/msword\" : \"\";\n+    private static final String EXTRA_7Z  = IS_WIN11_PLUS ? \"application\/x-compressed\" : \"\";\n@@ -82,1 +95,1 @@\n-            if (IS_UNIX) {\n+            if (!OperatingSystem.isWindows()) {\n@@ -160,1 +173,1 @@\n-                new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\", \"application\/x-bzip\")),\n+                new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\", \"application\/x-bzip\", EXTRA_BZ2)),\n@@ -162,1 +175,1 @@\n-                new ExType(\"csv\", List.of(\"text\/csv\")),\n+                new ExType(\"csv\", List.of(\"text\/csv\", EXTRA_CSV)),\n@@ -183,2 +196,2 @@\n-                new ExType(\"rar\", List.of(\"application\/rar\", \"application\/vnd.rar\", \"application\/x-rar\", \"application\/x-rar-compressed\")),\n-                new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\")),\n+                new ExType(\"rar\", List.of(\"application\/rar\", \"application\/vnd.rar\", \"application\/x-rar\", \"application\/x-rar-compressed\", EXTRA_RAR)),\n+                new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\", EXTRA_RTF)),\n@@ -189,1 +202,1 @@\n-                new ExType(\"7z\", List.of(\"application\/x-7z-compressed\")),\n+                new ExType(\"7z\", List.of(\"application\/x-7z-compressed\", EXTRA_7Z)),\n","filename":"test\/jdk\/java\/nio\/file\/Files\/probeContentType\/Basic.java","additions":22,"deletions":9,"binary":false,"changes":31,"status":"modified"}]}
{"files":[{"patch":"@@ -63,1 +63,0 @@\n-        int max = format.length();\n@@ -65,1 +64,7 @@\n-        if (off == -1 || off + 1 == max) {\n+        if (off == -1) {\n+            \/\/ no formatting to be done\n+            return format;\n+        }\n+\n+        int max = format.length();\n+        if (off + 1 == max) {\n@@ -84,4 +89,0 @@\n-        if (conv == STRING && isBigInt(arg)) {\n-            conv = DECIMAL_INTEGER;\n-        }\n-\n@@ -89,1 +90,5 @@\n-            arg = String.valueOf(arg);\n+            if (isBigInt(arg)) {\n+                conv = DECIMAL_INTEGER;\n+            } else {\n+                arg = String.valueOf(arg);\n+            }\n@@ -100,1 +105,0 @@\n-        int max = format.length();\n@@ -102,1 +106,7 @@\n-        if (off0 == -1 || off0 + 1 == max) {\n+        if (off0 == -1) {\n+            \/\/ no formatting to be done\n+            return format;\n+        }\n+\n+        int max = format.length();\n+        if (off0 + 1 == max) {\n@@ -133,8 +143,0 @@\n-        byte coder = format.coder();\n-        if (conv0 == STRING && isBigInt(arg0)) {\n-            conv0 = DECIMAL_INTEGER;\n-        }\n-        if (conv1 == STRING && isBigInt(arg1)) {\n-            conv1 = DECIMAL_INTEGER;\n-        }\n-\n@@ -142,0 +144,1 @@\n+        byte coder = format.coder();\n@@ -143,3 +146,7 @@\n-            str = String.valueOf(arg0);\n-            coder |= str.coder();\n-            arg0 = str;\n+            if (isBigInt(arg0)) {\n+                conv0 = DECIMAL_INTEGER;\n+            } else {\n+                str = String.valueOf(arg0);\n+                coder |= str.coder();\n+                arg0 = str;\n+            }\n@@ -147,0 +154,1 @@\n+\n@@ -148,3 +156,7 @@\n-            str = String.valueOf(arg1);\n-            coder |= str.coder();\n-            arg1 = String.valueOf(str);\n+            if (isBigInt(arg1)) {\n+                conv1 = DECIMAL_INTEGER;\n+            } else {\n+                str = String.valueOf(arg1);\n+                coder |= str.coder();\n+                arg1 = String.valueOf(str);\n+            }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringFormat.java","additions":35,"deletions":23,"binary":false,"changes":58,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,2 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Alibaba Group Holding Limited. All Rights Reserved.\n@@ -60,1 +61,1 @@\n-        return \"%s\".formatted(s);\n+        return \"0123456789 %s\".formatted(s);\n@@ -64,2 +65,2 @@\n-    public String stringIntFormat() {\n-        return \"%s %d\".formatted(s, i);\n+    public String stringFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %s\".formatted(s);\n@@ -70,1 +71,6 @@\n-        return \"%3s\".formatted(s);\n+        return \"0123456789 %3s\".formatted(s);\n+    }\n+\n+    @Benchmark\n+    public String widthStringFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %3s\".formatted(s);\n@@ -75,1 +81,106 @@\n-        return \"%3s %d\".formatted(s, i);\n+        return \"0123456789 %3s %d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String widthStringIntFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %3s %d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String intFormat() {\n+        return \"0123456789 %d\".formatted(i);\n+    }\n+\n+    @Benchmark\n+    public String intFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %d\".formatted(i);\n+    }\n+\n+    @Benchmark\n+    public String intIntFormat() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %d %d\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intIntFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %d %d\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intHexFormat() {\n+        return \"0123456789 is %d %x\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intHexFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %d : %x\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intHexUFormat() {\n+        return \"0123456789 is %d %X\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intHexUFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %d : %X\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intOctalFormat() {\n+        return \"0123456789 is %d %o\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String intOctalFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %d : %o\".formatted(i, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntFormat() {\n+        return \"0123456789 %s : %d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %s : %d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntRFormat() {\n+        return \"0123456789 %s : %d 0123456789\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntRFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %s : %d \\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringWidthIntFormat() {\n+        return \"0123456789 %s : %3d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringWidthIntFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %s : %3d\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntHexFormat() {\n+        return \"0123456789 %s : %x\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntHexUFormat() {\n+        return \"0123456789 %s : %x\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntOctalFormat() {\n+        return \"0123456789 %s : %o\".formatted(s, i);\n+    }\n+\n+    @Benchmark\n+    public String stringIntOctalFormatUtf16() {\n+        return \"\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d %s : %o\".formatted(s, i);\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/lang\/StringFormat.java","additions":117,"deletions":6,"binary":false,"changes":123,"status":"modified"}]}
{"files":[{"patch":"@@ -29,1 +29,3 @@\n-import java.nio.channels.*;\n+import java.nio.channels.Pipe;\n+import java.nio.channels.SelectionKey;\n+import java.nio.channels.Selector;\n@@ -50,1 +52,1 @@\n-        long startTime = System.currentTimeMillis();\n+        long startTime = System.nanoTime();\n@@ -52,1 +54,1 @@\n-        long endTime = System.currentTimeMillis();\n+        long endTime = System.nanoTime();\n@@ -56,2 +58,3 @@\n-        if (endTime - startTime < 1000)\n-            throw new RuntimeException(\"test failed\");\n+        long delta = endTime - startTime;\n+        if (delta < 1_000_000_000)\n+            throw new RuntimeException(\"test failed with delta \" + delta);\n@@ -65,2 +68,0 @@\n-        Pipe p = Pipe.open();\n-        p.source().configureBlocking(false);\n@@ -71,1 +72,1 @@\n-        long startTime = System.currentTimeMillis();\n+        long startTime = System.nanoTime();\n@@ -73,1 +74,1 @@\n-        long endTime = System.currentTimeMillis();\n+        long endTime = System.nanoTime();\n@@ -75,2 +76,3 @@\n-        if (endTime - startTime < 1000)\n-            throw new RuntimeException(\"test failed\");\n+        long delta = endTime - startTime;\n+        if (delta < 1_000_000_000)\n+            throw new RuntimeException(\"test failed with delta \" + delta);\n","filename":"test\/jdk\/java\/nio\/channels\/Selector\/WakeupNow.java","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"}]}
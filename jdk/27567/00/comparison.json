{"files":[{"patch":"@@ -750,3 +750,2 @@\n-  assert(buffer && buflen > 0, \"call with useful buffer\");\n-  size_t index = 0;\n-\n+  assert((buffer != nullptr) && (buflen > 0), \"call with useful buffer\");\n+  stringStream ss{buffer, buflen};\n@@ -754,1 +753,1 @@\n-    jio_snprintf(buffer, buflen, \"%s\", \"(uninitialized)\");\n+    ss.print_raw(\"(uninitialized)\");\n@@ -756,4 +755,1 @@\n-    int rc = jio_snprintf(\n-        &buffer[index], buflen - index, \"%d.%d\", _major, _minor);\n-    if (rc == -1) return;\n-    index += rc;\n+    ss.print(\"%d.%d\", _major, _minor);\n@@ -761,3 +757,1 @@\n-      rc = jio_snprintf(&buffer[index], buflen - index, \".%d.%d\", _security, _patch);\n-      if (rc == -1) return;\n-      index += rc;\n+      ss.print(\".%d.%d\", _security, _patch);\n@@ -765,3 +759,1 @@\n-      rc = jio_snprintf(&buffer[index], buflen - index, \".%d\", _security);\n-      if (rc == -1) return;\n-      index += rc;\n+      ss.print(\".%d\", _security);\n@@ -770,3 +762,1 @@\n-      rc = jio_snprintf(&buffer[index], buflen - index, \"+%d\", _build);\n-      if (rc == -1) return;\n-      index += rc;\n+      ss.print(\"+%d\", _build);\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":7,"deletions":17,"binary":false,"changes":24,"status":"modified"}]}
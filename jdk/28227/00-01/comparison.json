{"files":[{"patch":"@@ -473,0 +473,11 @@\n+  if (JvmtiExport::should_post_thread_life()) {\n+    JvmtiExport::post_thread_end(thread);\n+  }\n+\n+  \/\/ Always call even when there are not JVMTI environments yet, since environments\n+  \/\/ may be attached late and JVMTI must track phases of VM execution\n+  JvmtiExport::post_vm_death();\n+  JvmtiAgentList::unload_agents();\n+\n+  \/\/ No user code can be executed in the current thread after this point.\n+\n@@ -479,0 +490,3 @@\n+  \/\/ Run before exit and then stop concurrent GC threads.\n+  Universe::before_exit();\n+\n@@ -492,14 +506,0 @@\n-  if (JvmtiExport::should_post_thread_life()) {\n-    JvmtiExport::post_thread_end(thread);\n-  }\n-\n-  \/\/ Always call even when there are not JVMTI environments yet, since environments\n-  \/\/ may be attached late and JVMTI must track phases of VM execution\n-  JvmtiExport::post_vm_death();\n-  JvmtiAgentList::unload_agents();\n-\n-  \/\/ No user code can be executed in the current thread after this point.\n-\n-  \/\/ Run before exit and then stop concurrent GC threads.\n-  Universe::before_exit();\n-\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}
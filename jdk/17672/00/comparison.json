{"files":[{"patch":"@@ -268,1 +268,1 @@\n-static char* reserve_mmapped_memory(size_t bytes, char* requested_addr) {\n+static char* reserve_mmapped_memory(size_t bytes, char* requested_addr, MEMFLAGS flag) {\n@@ -283,1 +283,1 @@\n-    MemTracker::record_virtual_memory_reserve((address)addr, bytes, CALLER_PC);\n+    MemTracker::record_virtual_memory_reserve((address)addr, bytes, CALLER_PC, flag);\n@@ -396,1 +396,1 @@\n-char* os::map_memory_to_file_aligned(size_t size, size_t alignment, int file_desc) {\n+char* os::map_memory_to_file_aligned(size_t size, size_t alignment, int file_desc, MEMFLAGS flag) {\n@@ -404,1 +404,1 @@\n-  char* extra_base = reserve_mmapped_memory(extra_size, nullptr);\n+  char* extra_base = reserve_mmapped_memory(extra_size, nullptr, flag);\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -3333,1 +3333,1 @@\n-static char* map_or_reserve_memory_aligned(size_t size, size_t alignment, int file_desc) {\n+static char* map_or_reserve_memory_aligned(size_t size, size_t alignment, int file_desc, MEMFLAGS flag = mtNone) {\n@@ -3346,2 +3346,2 @@\n-    char* extra_base = file_desc != -1 ? os::map_memory_to_file(extra_size, file_desc) :\n-                                         os::reserve_memory(extra_size);\n+    char* extra_base = file_desc != -1 ? os::map_memory_to_file(extra_size, file_desc, flag) :\n+                                         os::reserve_memory(extra_size, flag);\n@@ -3363,2 +3363,2 @@\n-    aligned_base = file_desc != -1 ? os::attempt_map_memory_to_file_at(aligned_base, size, file_desc) :\n-                                     os::attempt_reserve_memory_at(aligned_base, size);\n+    aligned_base = file_desc != -1 ? os::attempt_map_memory_to_file_at(aligned_base, size, file_desc, flag) :\n+                                     os::attempt_reserve_memory_at(aligned_base, size, flag);\n@@ -3377,2 +3377,2 @@\n-char* os::map_memory_to_file_aligned(size_t size, size_t alignment, int fd) {\n-  return map_or_reserve_memory_aligned(size, alignment, fd);\n+char* os::map_memory_to_file_aligned(size_t size, size_t alignment, int fd, MEMFLAGS flag) {\n+  return map_or_reserve_memory_aligned(size, alignment, fd, flag);\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -1819,1 +1819,1 @@\n-char* os::attempt_reserve_memory_at(char* addr, size_t bytes, bool executable) {\n+char* os::attempt_reserve_memory_at(char* addr, size_t bytes, bool executable, MEMFLAGS flag) {\n@@ -1822,1 +1822,1 @@\n-    MemTracker::record_virtual_memory_reserve((address)result, bytes, CALLER_PC);\n+    MemTracker::record_virtual_memory_reserve((address)result, bytes, CALLER_PC, flag);\n@@ -2133,1 +2133,1 @@\n-char* os::map_memory_to_file(size_t bytes, int file_desc) {\n+char* os::map_memory_to_file(size_t bytes, int file_desc, MEMFLAGS flag) {\n@@ -2139,1 +2139,1 @@\n-    MemTracker::record_virtual_memory_reserve_and_commit(result, bytes, CALLER_PC);\n+    MemTracker::record_virtual_memory_reserve_and_commit(result, bytes, CALLER_PC, flag);\n@@ -2144,1 +2144,1 @@\n-char* os::attempt_map_memory_to_file_at(char* addr, size_t bytes, int file_desc) {\n+char* os::attempt_map_memory_to_file_at(char* addr, size_t bytes, int file_desc, MEMFLAGS flag) {\n@@ -2147,1 +2147,1 @@\n-    MemTracker::record_virtual_memory_reserve_and_commit((address)result, bytes, CALLER_PC);\n+    MemTracker::record_virtual_memory_reserve_and_commit((address)result, bytes, CALLER_PC, flag);\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -445,1 +445,1 @@\n-  static char*  attempt_reserve_memory_at(char* addr, size_t bytes, bool executable = false);\n+  static char*  attempt_reserve_memory_at(char* addr, size_t bytes, bool executable = false, MEMFLAGS flag = mtNone);\n@@ -497,2 +497,2 @@\n-  static char* map_memory_to_file(size_t size, int fd);\n-  static char* map_memory_to_file_aligned(size_t size, size_t alignment, int fd);\n+  static char* map_memory_to_file(size_t size, int fd, MEMFLAGS flag = mtNone);\n+  static char* map_memory_to_file_aligned(size_t size, size_t alignment, int fd, MEMFLAGS flag = mtNone);\n@@ -500,1 +500,1 @@\n-  static char* attempt_map_memory_to_file_at(char* base, size_t size, int fd);\n+  static char* attempt_map_memory_to_file_at(char* base, size_t size, int fd, MEMFLAGS flag = mtNone);\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
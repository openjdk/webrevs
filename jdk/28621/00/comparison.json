{"files":[{"patch":"@@ -141,2 +141,0 @@\n-import sun.awt.screencast.ScreencastHelper;\n-import sun.awt.screencast.XdgDesktopPortal;\n@@ -1526,2 +1524,9 @@\n-                if (XdgDesktopPortal.isRemoteDesktop()\n-                        && ScreencastHelper.isAvailable()) {\n+                numberOfButtons = getNumberOfButtonsImpl();\n+                numberOfButtons = (numberOfButtons > MAX_BUTTONS_SUPPORTED) ? MAX_BUTTONS_SUPPORTED : numberOfButtons;\n+                \/\/4th and 5th buttons are for wheel and shouldn't be reported as buttons.\n+                \/\/If we have more than 3 physical buttons and a wheel, we report N-2 buttons.\n+                \/\/If we have 3 physical buttons and a wheel, we report 3 buttons.\n+                \/\/If we have 1,2,3 physical buttons, we report it as is i.e. 1,2 or 3 respectively.\n+                if (numberOfButtons >= 5) {\n+                    numberOfButtons -= 2;\n+                } else if (numberOfButtons == 4 || numberOfButtons == 5) {\n@@ -1529,12 +1534,0 @@\n-                } else {\n-                    numberOfButtons = getNumberOfButtonsImpl();\n-                    numberOfButtons = (numberOfButtons > MAX_BUTTONS_SUPPORTED) ? MAX_BUTTONS_SUPPORTED : numberOfButtons;\n-                    \/\/4th and 5th buttons are for wheel and shouldn't be reported as buttons.\n-                    \/\/If we have more than 3 physical buttons and a wheel, we report N-2 buttons.\n-                    \/\/If we have 3 physical buttons and a wheel, we report 3 buttons.\n-                    \/\/If we have 1,2,3 physical buttons, we report it as is i.e. 1,2 or 3 respectively.\n-                    if (numberOfButtons >= 5) {\n-                        numberOfButtons -= 2;\n-                    } else if (numberOfButtons == 4 || numberOfButtons == 5) {\n-                        numberOfButtons = 3;\n-                    }\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XToolkit.java","additions":9,"deletions":16,"binary":false,"changes":25,"status":"modified"}]}
{"files":[{"patch":"@@ -38,0 +38,2 @@\n+import static jdk.incubator.vector.Float16Consts.EXP_BIAS;\n+import static jdk.incubator.vector.Float16Consts.SIGNIFICAND_WIDTH;\n@@ -319,1 +321,1 @@\n-        if (value <= -65_520L) {  \/\/ -(Float16.MAX_VALUE + Float16.ulp(Float16.MAX_VALUE) \/ 2)\n+        if (value <= -65_520L) {  \/\/ -(MAX_VALUE + ulp(MAX_VALUE) \/ 2)\n@@ -322,1 +324,1 @@\n-            if (value >= 65_520L) {  \/\/ Float16.MAX_VALUE + Float16.ulp(Float16.MAX_VALUE) \/ 2\n+            if (value >= 65_520L) {  \/\/ MAX_VALUE + ulp(MAX_VALUE) \/ 2\n@@ -430,1 +432,0 @@\n-        \/\/ Exponent bias adjust in the representation is equal to MAX_EXPONENT.\n@@ -432,1 +433,1 @@\n-                                   ( ((exp + MAX_EXPONENT) << (PRECISION - 1)) + signif_bits ) ));\n+                                   ( ((exp + EXP_BIAS) << (PRECISION - 1)) + signif_bits) ));\n@@ -471,1 +472,1 @@\n-            || Math.abs(trialResult) > (65504.0 + 32.0) || \/\/ Float.MAX_VALUE + ulp(MAX_VALUE),\n+            || Math.abs(trialResult) > (65504.0 + 32.0) || \/\/ MAX_VALUE + ulp(MAX_VALUE),\n@@ -902,1 +903,1 @@\n-        Float16 f16 = isNaN(value) ? Float16.NaN : value;\n+        Float16 f16 = isNaN(value) ? NaN : value;\n@@ -949,1 +950,1 @@\n-            return Float16.NaN.value;\n+            return NaN.value;\n@@ -1534,2 +1535,2 @@\n-        int bin16ExpBits     = 0x0000_7c00 & bits;     \/\/ Five exponent bits.\n-        return (bin16ExpBits >> (PRECISION - 1)) - 15;\n+        int bin16ExpBits = EXP_BIT_MASK & bits; \/\/ Five exponent bits.\n+        return (bin16ExpBits >> (PRECISION - 1)) - EXP_BIAS;\n@@ -1566,2 +1567,2 @@\n-        case MAX_EXPONENT + 1 -> abs(f16);          \/\/ NaN or infinity\n-        case MIN_EXPONENT - 1 -> Float16.MIN_VALUE; \/\/ zero or subnormal\n+        case MAX_EXPONENT + 1 -> abs(f16);  \/\/ NaN or infinity\n+        case MIN_EXPONENT - 1 -> MIN_VALUE; \/\/ zero or subnormal\n@@ -1690,2 +1691,1 @@\n-        final int MAX_SCALE = Float16.MAX_EXPONENT + -Float16.MIN_EXPONENT +\n-                Float16Consts.SIGNIFICAND_WIDTH + 1;\n+        final int MAX_SCALE = MAX_EXPONENT + -MIN_EXPONENT + SIGNIFICAND_WIDTH + 1;\n@@ -1728,3 +1728,2 @@\n-        return shortBitsToFloat16((short) ((float16ToRawShortBits(sign) & SIGN_BIT_MASK) |\n-                                           (float16ToRawShortBits(magnitude) &\n-                                            (EXP_BIT_MASK | SIGNIF_BIT_MASK) )));\n+        return shortBitsToFloat16((short)((float16ToRawShortBits(sign)      & SIGN_BIT_MASK) |\n+                                          (float16ToRawShortBits(magnitude) & MAG_BIT_MASK)));\n","filename":"src\/jdk.incubator.vector\/share\/classes\/jdk\/incubator\/vector\/Float16.java","additions":15,"deletions":16,"binary":false,"changes":31,"status":"modified"}]}
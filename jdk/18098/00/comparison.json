{"files":[{"patch":"@@ -39,0 +39,22 @@\n+    \/**\n+     * An UncaughtExceptionHandler to ignore recoverable OOMEs\n+     * caused by other VM threads that do allocation or create\n+     * temporary strong roots to otherwise weakly referenced objects.\n+     * This can happen for example when using libgraal and -Xcomp.\n+     *\/\n+    static class UEH implements Thread.UncaughtExceptionHandler {\n+        @Override\n+        public void uncaughtException(Thread t, Throwable e) {\n+            if (e instanceof OutOfMemoryError err) {\n+                \/\/ Ignore. An unrecoverable memory leak will still\n+                \/\/ cause the VM to exit.\n+            } else if (e instanceof Error err) {\n+                throw err;\n+            } else if (e instanceof RuntimeException re) {\n+                throw re;\n+            } else {\n+                throw new RuntimeException(e);\n+            }\n+        }\n+    }\n+\n@@ -43,0 +65,1 @@\n+        Thread.setDefaultUncaughtExceptionHandler(new UEH());\n","filename":"test\/jdk\/java\/util\/concurrent\/Executors\/UnreferencedExecutor.java","additions":23,"deletions":0,"binary":false,"changes":23,"status":"modified"}]}
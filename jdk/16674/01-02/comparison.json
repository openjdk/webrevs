{"files":[{"patch":"@@ -63,37 +63,4 @@\n-\n-        try {\n-            \/\/ create test directory\n-            String tmpDir = System.getProperty(\"java.io.tmpdir\");\n-\n-            \/\/ Create a test directory that contains only folders\n-            testDir = new File(tmpDir, \"testDir\");\n-            if (!testDir.exists()) {\n-                testDir.mkdir();\n-            }\n-            testDir.deleteOnExit();\n-\n-            \/\/ create sub directories inside test directory\n-            SubDirs = new File[5];\n-            for (int i = 0; i < 5; ++i) {\n-                SubDirs[i] = new File(testDir, \"subDir_\" + (i+1));\n-                SubDirs[i].mkdir();\n-                SubDirs[i].deleteOnExit();\n-            }\n-\n-            \/\/ Create a test directory that contains only files\n-            testFile = new File(tmpDir, \"testFile\");\n-            if (!testFile.exists()) {\n-                testFile.mkdir();\n-            }\n-            testFile.deleteOnExit();\n-\n-            \/\/ create temporary files inside testFile\n-            subFiles = new File[5];\n-            for (int i = 0; i < 5; ++i) {\n-                subFiles[i] = File.createTempFile(\"subFiles_\" + (i+1),\n-                        \".txt\", new File(testFile.getAbsolutePath()));\n-                subFiles[i].deleteOnExit();\n-            }\n-        } catch (Exception e) {\n-            e.printStackTrace();\n-        }\n+        createFoldersOnlyDir();\n+        createFilesOnlyDir();\n+        populateDirs();\n+        populateFiles();\n@@ -101,1 +68,1 @@\n-                        UIManager.getInstalledLookAndFeels()) {\n+                UIManager.getInstalledLookAndFeels()) {\n@@ -111,0 +78,36 @@\n+    private static void createFoldersOnlyDir() {\n+        String tmpDir = System.getProperty(\"java.io.tmpdir\");\n+        testDir = new File(tmpDir, \"testDir\");\n+        if (!testDir.exists()) {\n+            testDir.mkdir();\n+        }\n+        testDir.deleteOnExit();\n+    }\n+\n+    private static void populateDirs() {\n+        SubDirs = new File[10];\n+        for (int i = 0; i < 10; ++i) {\n+            SubDirs[i] = new File(testDir, \"subDir_\" + (i+1));\n+            SubDirs[i].mkdir();\n+            SubDirs[i].deleteOnExit();\n+        }\n+    }\n+\n+    private static void createFilesOnlyDir() {\n+        String tmpDir = System.getProperty(\"java.io.tmpdir\");\n+        testFile = new File(tmpDir, \"testFile\");\n+        if (!testFile.exists()) {\n+            testFile.mkdir();\n+        }\n+        testFile.deleteOnExit();\n+    }\n+\n+    private static void populateFiles() throws Exception {\n+        subFiles = new File[10];\n+        for (int i = 0; i < 10; ++i) {\n+            subFiles[i] = File.createTempFile(\"subFiles_\" + (i+1),\n+                    \".txt\", new File(testFile.getAbsolutePath()));\n+            subFiles[i].deleteOnExit();\n+        }\n+    }\n+\n@@ -232,0 +235,1 @@\n+        robot.waitForIdle();\n","filename":"test\/jdk\/com\/sun\/java\/swing\/plaf\/gtk\/TestFileChooserSingleDirectorySelection.java","additions":42,"deletions":38,"binary":false,"changes":80,"status":"modified"}]}
{"files":[{"patch":"@@ -1252,1 +1252,1 @@\n-  void InterpreterMacroAssembler::test_method_data_pointer(Label& zero_continue, bool may_be_far) {\n+void InterpreterMacroAssembler::test_method_data_pointer(Label& zero_continue, bool may_be_far) {\n@@ -1260,1 +1260,0 @@\n-\n","filename":"src\/hotspot\/cpu\/ppc\/interp_masm_ppc_64.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,4 +29,2 @@\n- * @run main\/othervm -XX:BciProfileWidth=0\n- *      compiler.arguments.TestBciProfileWidth\n- * @run main\/othervm -XX:BciProfileWidth=1000\n- *      compiler.arguments.TestBciProfileWidth\n+ * @library \/test\/lib\n+ * @run main\/othervm compiler.arguments.TestBciProfileWidth\n@@ -37,0 +35,4 @@\n+import jdk.test.lib.process.ProcessTools;\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.Asserts;\n+\n@@ -39,2 +41,16 @@\n-    static public void main(String[] args) {\n-        System.out.println(\"Passed\");\n+    public static void main(String args[]) throws Throwable {\n+        checkBciProfileWidth(-1, true);\n+        checkBciProfileWidth(10000, true);\n+        checkBciProfileWidth(0, false);\n+        checkBciProfileWidth(1000, false);\n+    }\n+\n+    static void checkBciProfileWidth(int value, boolean fail) throws Throwable {\n+        OutputAnalyzer out = ProcessTools.executeTestJava(\"-XX:BciProfileWidth=\" + value);\n+        String output = out.getOutput();\n+        if (fail) {\n+            String pattern = \"int BciProfileWidth=\" + value + \" is outside the allowed range [ 0 ... 1000 ]\";\n+            Asserts.assertTrue(output.contains(pattern));\n+        } else {\n+            System.out.println(\"Passed\");\n+        }\n","filename":"test\/hotspot\/jtreg\/compiler\/arguments\/TestBciProfileWidth.java","additions":22,"deletions":6,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -42,1 +42,2 @@\n-    public static void main(String[] args) throws Exception {\n+\n+     public static void main(String[] args) throws Exception {\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/vm_flags\/IntxTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
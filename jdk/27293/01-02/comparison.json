{"files":[{"patch":"@@ -26,2 +26,0 @@\n-import java.lang.management.ManagementFactory;\n-import java.lang.management.ThreadMXBean;\n@@ -106,1 +104,1 @@\n-            AtomicLong burstThreadId = new AtomicLong();\n+            long burstThreadId = Thread.currentThread().threadId();\n@@ -112,1 +110,1 @@\n-                if (e.getThread(\"eventThread\").getJavaThreadId() == burstThreadId.get()) {\n+                if (e.getThread(\"eventThread\").getJavaThreadId() == burstThreadId) {\n@@ -123,1 +121,0 @@\n-            burstThreadId.set(Thread.currentThread().threadId());\n@@ -130,1 +127,1 @@\n-                \/\/ the safepoint handler, thereby also triggering the stack walkingand creation\n+                \/\/ the safepoint handler, thereby also triggering the stack walking and creation\n@@ -144,5 +141,1 @@\n-        boolean supported = WHITE_BOX.cpuSamplerSetOutOfStackWalking(false);\n-        if (!supported) {\n-            System.out.println(\"Out-of-stack-walking not supported, skipping test\");\n-            Asserts.assertFalse(true);\n-        }\n+        Asserts.assertTrue(WHITE_BOX.cpuSamplerSetOutOfStackWalking(false), \"Out-of-stack-walking not supported\");\n","filename":"test\/jdk\/jdk\/jfr\/event\/profiling\/TestCPUTimeSampleQueueAutoSizes.java","additions":4,"deletions":11,"binary":false,"changes":15,"status":"modified"}]}
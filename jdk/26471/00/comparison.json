{"files":[{"patch":"@@ -27,1 +27,2 @@\n- * @summary To check proper WINDOW_EVENTS are triggered when Frame gains or losses the focus\n+ * @summary To check proper WINDOW_EVENTS are triggered when Frame gains\n+ * or looses the focus\n@@ -47,0 +48,3 @@\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.TimeUnit;\n+\n@@ -53,3 +57,3 @@\n-    private final Object lock1 = new Object();\n-    private final Object lock2 = new Object();\n-    private final Object lock3 = new Object();\n+    private static final CountDownLatch windowActivatedLatch = new CountDownLatch(1);\n+    private static final CountDownLatch windowDeactivatedLatch = new CountDownLatch(1);\n+    private static final CountDownLatch windowFocusGainedLatch = new CountDownLatch(1);\n@@ -96,7 +100,1 @@\n-                synchronized (lock3) {\n-                    try {\n-                        lock3.notifyAll();\n-                    } catch (Exception ex) {\n-                        ex.printStackTrace();\n-                    }\n-                }\n+                windowFocusGainedLatch.countDown();\n@@ -113,7 +111,1 @@\n-                synchronized (lock1) {\n-                    try {\n-                        lock1.notifyAll();\n-                    } catch (Exception ex) {\n-                        ex.printStackTrace();\n-                    }\n-                }\n+                windowActivatedLatch.countDown();\n@@ -125,7 +117,1 @@\n-                synchronized (lock2) {\n-                    try {\n-                        lock2.notifyAll();\n-                    } catch (Exception ex) {\n-                        ex.printStackTrace();\n-                    }\n-                }\n+                windowDeactivatedLatch.countDown();\n@@ -186,6 +172,4 @@\n-            synchronized (lock1) {\n-                try {\n-                    lock1.wait(delay * 10);\n-                } catch (Exception e) {\n-                    e.printStackTrace();\n-                }\n+            try {\n+                windowActivatedLatch.await(delay * 10, TimeUnit.MILLISECONDS);\n+            } catch (Exception e) {\n+                e.printStackTrace();\n@@ -208,5 +192,3 @@\n-            synchronized (lock2) {\n-                try {\n-                    lock2.wait(delay * 10);\n-                } catch (Exception e) {\n-                }\n+            try {\n+                windowDeactivatedLatch.await(delay * 10, TimeUnit.MILLISECONDS);\n+            } catch (Exception e) {\n","filename":"test\/jdk\/java\/awt\/Frame\/MiscUndecorated\/ActiveAWTWindowTest.java","additions":18,"deletions":36,"binary":false,"changes":54,"status":"modified"}]}
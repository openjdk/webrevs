{"files":[{"patch":"@@ -1950,1 +1950,1 @@\n-      st->print_cr(\"Processor Information for all %d processors :\", proc_count);\n+      st->print_cr(\"Processor Information for the first %d processors :\", proc_count);\n@@ -4001,0 +4001,1 @@\n+  char error_msg_buffer[512];\n@@ -4007,1 +4008,2 @@\n-    warning(\"GetSystemDirectory() failed: GetLastError->%ld.\", GetLastError());\n+    size_t buf_len = os::lasterror(error_msg_buffer, sizeof(error_msg_buffer));\n+    warning(\"Attempt to determine system directory failed: %s\", buf_len != 0 ? error_msg_buffer : \"<unknown error>\");\n@@ -4014,1 +4016,2 @@\n-    warning(\"GetFileVersionInfoSize() failed: GetLastError->%ld.\", GetLastError());\n+    size_t buf_len = os::lasterror(error_msg_buffer, sizeof(error_msg_buffer));\n+    warning(\"Failed to determine whether the OS can retrieve version information from kernel32.dll: %s\", buf_len != 0 ? error_msg_buffer : \"<unknown error>\");\n@@ -4026,1 +4029,2 @@\n-    warning(\"GetFileVersionInfo() failed: GetLastError->%ld.\", GetLastError());\n+    size_t buf_len = os::lasterror(error_msg_buffer, sizeof(error_msg_buffer));\n+    warning(\"Attempt to retrieve version information from kernel32.dll failed: %s\", buf_len != 0 ? error_msg_buffer : \"<unknown error>\");\n@@ -4032,1 +4036,2 @@\n-    warning(\"VerQueryValue() failed. Cannot determine Windows version.\");\n+    size_t buf_len = os::lasterror(error_msg_buffer, sizeof(error_msg_buffer));\n+    warning(\"Attempt to determine Windows version from kernel32.dll failed: %s\", buf_len != 0 ? error_msg_buffer : \"<unknown error>\");\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"}]}
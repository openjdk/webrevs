{"files":[{"patch":"@@ -30,0 +30,1 @@\n+import java.nio.file.Files;\n@@ -31,0 +32,1 @@\n+import java.util.ArrayList;\n@@ -82,1 +84,1 @@\n-            final var theInputPath = inputPath;\n+            List<Path> excludes = new ArrayList<>();\n@@ -84,2 +86,1 @@\n-            var excludes = Stream.of(TEMP_ROOT.fetchFrom(params),\n-                    OUTPUT_DIR.fetchFrom(params), root).map(path -> {\n+            for (var path : List.of(TEMP_ROOT.fetchFrom(params), OUTPUT_DIR.fetchFrom(params), root)) {\n@@ -87,2 +88,2 @@\n-                if (!path.startsWith(theInputPath) || path.equals(theInputPath)) {\n-                    path = null;\n+                if (path.startsWith(inputPath) && !Files.isSameFile(path, inputPath)) {\n+                    excludes.add(path);\n@@ -90,2 +91,1 @@\n-                return path;\n-            }).filter(Objects::nonNull).toList();\n+            }\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/AbstractAppImageBuilder.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -28,1 +28,0 @@\n-import com.sun.tools.javac.Main;\n@@ -42,0 +41,1 @@\n+import java.util.Optional;\n@@ -44,0 +44,1 @@\n+import java.util.spi.ToolProvider;\n@@ -228,1 +229,0 @@\n-    @SuppressWarnings(\"deprecated\")\n@@ -237,1 +237,6 @@\n-        int exitcode = Main.compile(args, printWriter);\n+        Optional<ToolProvider> tool = ToolProvider.findFirst(\"javac\");\n+        if (tool.isEmpty()) {\n+            Log.error(\"Can't find tool javac\");\n+            return Result.ERROR.exitCode;\n+        }\n+        int exitcode = tool.get().run(printWriter, printWriter, args);\n","filename":"make\/langtools\/tools\/javacserver\/server\/Server.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"}]}
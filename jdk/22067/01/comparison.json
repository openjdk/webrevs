{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,2 +55,0 @@\n-        checkAttachPermission();\n-\n@@ -75,1 +73,0 @@\n-            checkAttachPermission();\n","filename":"src\/jdk.attach\/aix\/classes\/sun\/tools\/attach\/AttachProviderImpl.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,2 +52,0 @@\n-        checkAttachPermission();\n-\n@@ -72,1 +70,0 @@\n-            checkAttachPermission();\n","filename":"src\/jdk.attach\/linux\/classes\/sun\/tools\/attach\/AttachProviderImpl.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,2 +52,0 @@\n-        checkAttachPermission();\n-\n@@ -72,1 +70,0 @@\n-            checkAttachPermission();\n","filename":"src\/jdk.attach\/macosx\/classes\/sun\/tools\/attach\/AttachProviderImpl.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -35,1 +35,0 @@\n-import com.sun.tools.attach.AttachPermission;\n@@ -87,4 +86,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager sm = System.getSecurityManager();\n-        if (sm != null)\n-            sm.checkPermission(new AttachPermission(\"createAttachProvider\"));\n","filename":"src\/jdk.attach\/share\/classes\/com\/sun\/tools\/attach\/spi\/AttachProvider.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,0 @@\n-import com.sun.tools.attach.AttachPermission;\n@@ -50,10 +49,0 @@\n-    public void checkAttachPermission() {\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager sm = System.getSecurityManager();\n-        if (sm != null) {\n-            sm.checkPermission(\n-                new AttachPermission(\"attachVirtualMachine\")\n-            );\n-        }\n-    }\n-\n","filename":"src\/jdk.attach\/share\/classes\/sun\/tools\/attach\/HotSpotAttachProvider.java","additions":1,"deletions":12,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-import java.security.AccessController;\n@@ -57,2 +56,1 @@\n-        PrivilegedAction<ProcessHandle> pa = () -> ProcessHandle.current();\n-        return AccessController.doPrivileged(pa).pid();\n+        return ProcessHandle.current().pid();\n@@ -364,6 +362,1 @@\n-        try {\n-            String value = System.getProperty(\"jdk.attach.compat\");\n-            return !(\"true\".equalsIgnoreCase(value));\n-        } catch (SecurityException se) {\n-        }\n-        return true;\n+        return !Boolean.getBoolean(\"jdk.attach.compat\");\n@@ -566,1 +559,0 @@\n-                    } catch (SecurityException se) {\n","filename":"src\/jdk.attach\/share\/classes\/sun\/tools\/attach\/HotSpotVirtualMachine.java","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,2 +54,0 @@\n-        checkAttachPermission();\n-\n","filename":"src\/jdk.attach\/windows\/classes\/sun\/tools\/attach\/AttachProviderImpl.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -79,8 +79,0 @@\n-        int i = name.lastIndexOf('.');\n-        if (i != -1) {\n-            @SuppressWarnings(\"removal\")\n-            SecurityManager sm = System.getSecurityManager();\n-            if (sm != null) {\n-                sm.checkPackageAccess(name.substring(0, i));\n-            }\n-        }\n@@ -107,9 +99,0 @@\n-    \/**\n-     * allow any classes loaded from classpath to exit the VM.\n-     *\/\n-    protected PermissionCollection getPermissions(CodeSource codesource) {\n-        PermissionCollection perms = super.getPermissions(codesource);\n-        perms.add(new RuntimePermission(\"exitVM\"));\n-        return perms;\n-    }\n-\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/SALauncherLoader.java","additions":1,"deletions":18,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,3 +27,0 @@\n-import java.security.AccessController;\n-import java.security.PrivilegedAction;\n-\n@@ -47,13 +44,1 @@\n-    public static final boolean DEBUG;\n-\n-    static {\n-        @SuppressWarnings(\"removal\")\n-        String debug = AccessController.doPrivileged(\n-            new PrivilegedAction<>() {\n-                public String run() {\n-                    return System.getProperty(\"sun.jvm.hotspot.tools.jcore.ByteCodeRewriter.DEBUG\");\n-                }\n-            }\n-        );\n-        DEBUG = (debug != null ? debug.equalsIgnoreCase(\"true\") : false);\n-    }\n+    public static final boolean DEBUG = Boolean.getBoolean(\"sun.jvm.hotspot.tools.jcore.ByteCodeRewriter.DEBUG\");\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/tools\/jcore\/ByteCodeRewriter.java","additions":2,"deletions":17,"binary":false,"changes":19,"status":"modified"}]}
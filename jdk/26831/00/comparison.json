{"files":[{"patch":"@@ -602,1 +602,1 @@\n-                str = JLA.uncheckedNewStringNoRepl(bytearr, StandardCharsets.ISO_8859_1);\n+                str = JLA.uncheckedNewStringWithLatin1Bytes(bytearr);\n","filename":"src\/java.base\/share\/classes\/java\/io\/DataInputStream.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -762,0 +762,15 @@\n+    \/**\n+     * {@return a new String created using the supplied latin1 bytes}\n+     * @param src a byte array with the bytes for a latin1 string\n+     *\/\n+    static String newStringWithLatin1Bytes(byte[] src) {\n+        int len = src.length;\n+        if (len == 0) {\n+            return \"\";\n+        }\n+\n+        if (COMPACT_STRINGS)\n+            return new String(src, LATIN1);\n+        return new String(StringLatin1.inflate(src, 0, src.length), UTF16);\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/String.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -58,1 +58,0 @@\n-import java.util.concurrent.ScheduledExecutorService;\n@@ -2130,0 +2129,5 @@\n+\n+            public String uncheckedNewStringWithLatin1Bytes(byte[] bytes) {\n+                return String.newStringWithLatin1Bytes(bytes);\n+            }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -38,2 +38,0 @@\n-import java.nio.charset.CharacterCodingException;\n-import java.nio.charset.StandardCharsets;\n@@ -4152,5 +4150,1 @@\n-            try {\n-                return JLA.uncheckedNewStringNoRepl(buf, StandardCharsets.ISO_8859_1);\n-            } catch (CharacterCodingException cce) {\n-                throw new AssertionError(cce);\n-            }\n+            return JLA.uncheckedNewStringWithLatin1Bytes(buf);\n","filename":"src\/java.base\/share\/classes\/java\/math\/BigDecimal.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -36,2 +36,0 @@\n-import java.nio.charset.CharacterCodingException;\n-import java.nio.charset.StandardCharsets;\n@@ -463,6 +461,1 @@\n-        try {\n-            \/\/ Return a new string using the bytes without making a copy\n-            return jla.uncheckedNewStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(rep);\n@@ -698,5 +691,1 @@\n-        try {\n-            return jla.uncheckedNewStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(rep);\n@@ -734,5 +723,1 @@\n-        try {\n-            return jla.uncheckedNewStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(rep);\n@@ -762,5 +747,1 @@\n-        try {\n-            return jla.uncheckedNewStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(rep);\n@@ -798,5 +779,1 @@\n-        try {\n-            return jla.uncheckedNewStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(rep);\n@@ -826,5 +803,1 @@\n-        try {\n-            return jla.uncheckedNewStringNoRepl(rep, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(rep);\n","filename":"src\/java.base\/share\/classes\/java\/util\/HexFormat.java","additions":6,"deletions":33,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -28,2 +28,0 @@\n-import java.nio.charset.CharacterCodingException;\n-import java.nio.charset.StandardCharsets;\n@@ -482,5 +480,1 @@\n-        try {\n-            return jla.uncheckedNewStringNoRepl(buf, StandardCharsets.ISO_8859_1);\n-        } catch (CharacterCodingException cce) {\n-            throw new AssertionError(cce);\n-        }\n+        return jla.uncheckedNewStringWithLatin1Bytes(buf);\n","filename":"src\/java.base\/share\/classes\/java\/util\/UUID.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -320,0 +320,12 @@\n+    \/**\n+     * Constructs a new {@code String} with the supplied Latin1 bytes.\n+     * <p>\n+     * <b>WARNING: The caller of this method shall relinquish and transfer the\n+     * ownership of the byte array to the callee<\/b>, since the latter will not\n+     * make a copy.\n+     *\n+     * @param bytes the byte array source\n+     * @return the newly created string\n+     *\/\n+    String uncheckedNewStringWithLatin1Bytes(byte[] bytes);\n+\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"}]}
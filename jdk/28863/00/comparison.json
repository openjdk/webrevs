{"files":[{"patch":"@@ -11234,1 +11234,1 @@\n-     * @spec https:\/\/unicode.org\/reports\/tr51\/ Unicode Emoji\n+     * @spec https:\/\/www.unicode.org\/reports\/tr51\/ Unicode Emoji\n@@ -11253,1 +11253,1 @@\n-     * @spec https:\/\/unicode.org\/reports\/tr51\/ Unicode Emoji\n+     * @spec https:\/\/www.unicode.org\/reports\/tr51\/ Unicode Emoji\n@@ -11272,1 +11272,1 @@\n-     * @spec https:\/\/unicode.org\/reports\/tr51\/ Unicode Emoji\n+     * @spec https:\/\/www.unicode.org\/reports\/tr51\/ Unicode Emoji\n@@ -11291,1 +11291,1 @@\n-     * @spec https:\/\/unicode.org\/reports\/tr51\/ Unicode Emoji\n+     * @spec https:\/\/www.unicode.org\/reports\/tr51\/ Unicode Emoji\n@@ -11310,1 +11310,1 @@\n-     * @spec https:\/\/unicode.org\/reports\/tr51\/ Unicode Emoji\n+     * @spec https:\/\/www.unicode.org\/reports\/tr51\/ Unicode Emoji\n@@ -11329,1 +11329,1 @@\n-     * @spec https:\/\/unicode.org\/reports\/tr51\/ Unicode Emoji\n+     * @spec https:\/\/www.unicode.org\/reports\/tr51\/ Unicode Emoji\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Character.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,0 +60,3 @@\n+import jdk.javadoc.internal.html.HtmlAttr;\n+import jdk.javadoc.internal.html.HtmlId;\n+import jdk.javadoc.internal.html.HtmlTag;\n@@ -61,0 +64,1 @@\n+import jdk.javadoc.internal.html.Script;\n@@ -111,0 +115,18 @@\n+                .addMainContent(new Script(\"\"\"\n+                        let select = document.getElementById('specs-by-domain');\n+                        select.addEventListener(\"change\", selectHost);\n+                        addEventListener(\"pageshow\", selectHost);\n+                        function selectHost() {\n+                            const selectedClass = select.value ? \"external-specs-tab\" + select.value : \"external-specs\";\n+                            let tabPanel = document.getElementById(\"external-specs.tabpanel\");\n+                            let count = 0;\n+                            tabPanel.querySelectorAll(\"div.external-specs\").forEach(function(elem) {\n+                                elem.style.display = elem.classList.contains(selectedClass) ? \"\" : \"none\";\n+                                if (elem.style.display === \"\") {\n+                                    let isEvenRow = count++ % (4) < 2;\n+                                    toggleStyle(elem.classList, isEvenRow, evenRowColor, oddRowColor);\n+                                }\n+                            });\n+                        }\n+                        selectHost();\n+                        \"\"\").asContent())\n@@ -183,1 +205,1 @@\n-                URI uri = getSpecURI(searchIndexItems.get(0));\n+                URI uri = getSpecURI(searchIndexItems.getFirst());\n@@ -194,1 +216,0 @@\n-        var hostNamesList = new ArrayList<>(hostNamesSet);\n@@ -200,1 +221,6 @@\n-                .setId(HtmlIds.EXTERNAL_SPECS);\n+                .setId(HtmlIds.EXTERNAL_SPECS)\n+                .setDefaultTab(contents.externalSpecifications)\n+                .setRenderTabs(false);\n+\n+        var hostNamesList = new ArrayList<>(hostNamesSet);\n+        Content selector = Text.EMPTY;\n@@ -202,0 +228,1 @@\n+            selector = createHostSelect(hostNamesList, noHost);\n@@ -210,1 +237,0 @@\n-        table.setDefaultTab(Text.of(resources.getText(\"doclet.External_Specifications.All_Specifications\")));\n@@ -213,1 +239,1 @@\n-            IndexItem ii = searchIndexItems.get(0);\n+            IndexItem ii = searchIndexItems.getFirst();\n@@ -230,0 +256,1 @@\n+        content.add(selector);\n@@ -238,0 +265,23 @@\n+    private Content createHostSelect(List<String> hosts, boolean hasLocal) {\n+        var index = 1;\n+        var id = HtmlId.of(\"specs-by-domain\");\n+        var specsByHost = resources.getText(\"doclet.External_Specifications.by-host\");\n+        var select = HtmlTree.of(HtmlTag.SELECT)\n+                .setId(id)\n+                .add(HtmlTree.of(HtmlTag.OPTION)\n+                        .put(HtmlAttr.VALUE, \"\")\n+                        .add(Text.of(resources.getText(\"doclet.External_Specifications.all-hosts\"))));\n+\n+        for (var host : hosts) {\n+            select.add(HtmlTree.of(HtmlTag.OPTION)\n+                    .put(HtmlAttr.VALUE, Integer.toString(index++))\n+                    .add(Text.of(host)));\n+        }\n+        if (hasLocal) {\n+            select.add(HtmlTree.of(HtmlTag.OPTION)\n+                    .put(HtmlAttr.VALUE, Integer.toString(index))\n+                    .add(Text.of(\"Local\")));\n+        }\n+        return new ContentBuilder(HtmlTree.LABEL(id.name(), Text.of(specsByHost)), Text.of(\" \"), select);\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ExternalSpecsWriter.java","additions":56,"deletions":6,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -183,1 +183,2 @@\n-doclet.External_Specifications.All_Specifications=All Specifications\n+doclet.External_Specifications.by-host=Show specifications by host name:\n+doclet.External_Specifications.all-hosts=All host names\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard.properties","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1224,1 +1224,1 @@\n-select#search-modules {\n+select {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/stylesheet.css","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 6251738 8226279 8297802 8305407\n+ * @bug 6251738 8226279 8297802 8305407 8309748\n@@ -346,10 +346,9 @@\n-                    <div class=\"table-tabs\" role=\"tablist\" aria-orientation=\"horizontal\">\\\n-                    <button id=\"external-specs-tab0\" role=\"tab\" aria-selected=\"true\" aria-controls=\"external-specs.tabpanel\" \\\n-                    tabindex=\"0\" onkeydown=\"switchTab(event)\" onclick=\"show('external-specs', 'external-specs', 2)\" \\\n-                    class=\"active-table-tab\">All Specifications<\/button>\\\n-                    <button id=\"external-specs-tab1\" role=\"tab\" aria-selected=\"false\" aria-controls=\"external-specs.tabpanel\" \\\n-                    tabindex=\"-1\" onkeydown=\"switchTab(event)\" onclick=\"show('external-specs', 'external-specs-tab1', 2)\" \\\n-                    class=\"table-tab\">example.com<\/button>\\\n-                    <button id=\"external-specs-tab2\" role=\"tab\" aria-selected=\"false\" aria-controls=\"external-specs.tabpanel\" \\\n-                    tabindex=\"-1\" onkeydown=\"switchTab(event)\" onclick=\"show('external-specs', 'external-specs-tab2', 2)\" \\\n-                    class=\"table-tab\">example.net<\/button><\/div>\n+                    <label for=\"specs-by-domain\">Show specifications by host name:<\/label> <select id=\"specs-by-domain\">\n+                    <option value>All host names<\/option>\n+                    <option value=\"1\">example.com<\/option>\n+                    <option value=\"2\">example.net<\/option>\n+                    <\/select>\n+                    <div id=\"external-specs\">\n+                    <div class=\"table-tabs\">\n+                    <div class=\"caption\"><span>External Specifications<\/span><\/div>\n+                    <\/div>\n@@ -372,1 +371,19 @@\n-                    <\/div>\"\"\");\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <script type=\"text\/javascript\">let select = document.getElementById('specs-by-domain');\n+                    select.addEventListener(\"change\", selectHost);\n+                    addEventListener(\"pageshow\", selectHost);\n+                    function selectHost() {\n+                        const selectedClass = select.value ? \"external-specs-tab\" + select.value : \"external-specs\";\n+                        let tabPanel = document.getElementById(\"external-specs.tabpanel\");\n+                        let count = 0;\n+                        tabPanel.querySelectorAll(\"div.external-specs\").forEach(function(elem) {\n+                            elem.style.display = elem.classList.contains(selectedClass) ? \"\" : \"none\";\n+                            if (elem.style.display === \"\") {\n+                                let isEvenRow = count++ % (4) < 2;\n+                                toggleStyle(elem.classList, isEvenRow, evenRowColor, oddRowColor);\n+                            }\n+                        });\n+                    }\n+                    selectHost();\n+                    <\/script>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSpecTag\/TestSpecTag.java","additions":29,"deletions":12,"binary":false,"changes":41,"status":"modified"}]}
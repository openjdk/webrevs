{"files":[{"patch":"@@ -87,1 +87,1 @@\n-    private @Stable Boolean canSeek;\n+    private @Stable Boolean isRegularFile;\n@@ -339,1 +339,1 @@\n-        if (!canSeek())\n+        if (!isRegularFile())\n@@ -393,1 +393,1 @@\n-        if (!canSeek())\n+        if (!isRegularFile())\n@@ -432,1 +432,1 @@\n-        if (out instanceof FileOutputStream fos && canSeek()) {\n+        if (out instanceof FileOutputStream fos && isRegularFile()) {\n@@ -485,1 +485,1 @@\n-        if (canSeek())\n+        if (isRegularFile())\n@@ -624,4 +624,4 @@\n-    private boolean canSeek() {\n-        Boolean canSeek = this.canSeek;\n-        if (canSeek == null) {\n-            this.canSeek = canSeek = canSeek0(fd);\n+    private boolean isRegularFile() {\n+        Boolean isRegularFile = this.isRegularFile;\n+        if (isRegularFile == null) {\n+            this.isRegularFile = isRegularFile = isRegularFile0(fd);\n@@ -629,1 +629,1 @@\n-        return canSeek;\n+        return isRegularFile;\n@@ -631,1 +631,1 @@\n-    private native boolean canSeek0(FileDescriptor fd);\n+    private native boolean isRegularFile0(FileDescriptor fd);\n","filename":"src\/java.base\/share\/classes\/java\/io\/FileInputStream.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -146,1 +146,1 @@\n-Java_java_io_FileInputStream_canSeek0(JNIEnv *env, jobject this, jobject fdo) {\n+Java_java_io_FileInputStream_isRegularFile0(JNIEnv *env, jobject this, jobject fdo) {\n@@ -148,1 +148,1 @@\n-    return IO_CanSeek(env, fd);\n+    return IO_IsRegularFile(env, fd);\n","filename":"src\/java.base\/share\/native\/libjava\/FileInputStream.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -269,1 +269,1 @@\n-handleCanSeek(JNIEnv* env, FD fd)\n+handleIsRegularFile(JNIEnv* env, FD fd)\n@@ -275,4 +275,1 @@\n-    if (S_ISREG(fbuf.st_mode) || S_ISDIR(fbuf.st_mode) || S_ISLNK(fbuf.st_mode))\n-        return JNI_TRUE;\n-\n-    return JNI_FALSE;\n+    return S_ISREG(fbuf.st_mode) ? JNI_TRUE : JNI_FALSE;\n","filename":"src\/java.base\/unix\/native\/libjava\/io_util_md.c","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-jboolean handleCanSeek(JNIEnv* env, FD fd);\n+jboolean handleIsRegularFile(JNIEnv* env, FD fd);\n@@ -70,1 +70,1 @@\n-#define IO_CanSeek handleCanSeek\n+#define IO_IsRegularFile handleIsRegularFile\n","filename":"src\/java.base\/unix\/native\/libjava\/io_util_md.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -600,1 +600,1 @@\n-handleCanSeek(JNIEnv* env, FD fd)\n+handleIsRegularFile(JNIEnv* env, FD fd)\n","filename":"src\/java.base\/windows\/native\/libjava\/io_util_md.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-jboolean handleCanSeek(JNIEnv* env, FD fd);\n+jboolean handleIsRegularFile(JNIEnv* env, FD fd);\n","filename":"src\/java.base\/windows\/native\/libjava\/io_util_md.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
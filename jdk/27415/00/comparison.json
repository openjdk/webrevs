{"files":[{"patch":"@@ -43,1 +43,1 @@\n-typedef uint64_t GCThreadLocalData[43]; \/\/ 344 bytes\n+typedef uint64_t GCThreadLocalData[40]; \/\/ 320 bytes\n","filename":"src\/hotspot\/share\/gc\/shared\/gcThreadLocalData.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,2 +74,0 @@\n-void z_assert_is_barrier_safe();\n-\n","filename":"src\/hotspot\/share\/gc\/z\/zBarrier.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -309,2 +309,1 @@\n-template <typename PrintFn = void(*)(size_t, double)>\n-static bool is_high_usage(const ZDirectorStats& stats, PrintFn* print_function = nullptr) {\n+static bool is_high_usage(const ZDirectorStats& stats, bool log = false) {\n@@ -319,2 +318,3 @@\n-  if (print_function != nullptr) {\n-    (*print_function)(free, free_percent);\n+  if (log) {\n+    log_debug(gc, director)(\"Rule Minor: High Usage, Free: %zuMB(%.1f%%)\",\n+                            free \/ M, free_percent);\n@@ -380,13 +380,1 @@\n-\n-  const size_t soft_max_capacity = stats._heap._soft_max_heap_size;\n-  const size_t used = stats._heap._used;\n-  const size_t free_including_headroom = soft_max_capacity - MIN2(soft_max_capacity, used);\n-  const size_t free = free_including_headroom - MIN2(free_including_headroom, ZHeuristics::relocation_headroom());\n-  const double free_percent = percent_of(free, soft_max_capacity);\n-\n-  auto print_function = [&](size_t free, double free_percent) {\n-    log_debug(gc, director)(\"Rule Minor: High Usage, Free: %zuMB(%.1f%%)\",\n-                            free \/ M, free_percent);\n-  };\n-\n-  return is_high_usage(stats, &print_function);\n+  return is_high_usage(stats, true \/* log *\/);\n","filename":"src\/hotspot\/share\/gc\/z\/zDirector.cpp","additions":5,"deletions":17,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -705,1 +705,0 @@\n-  size_t last_populated_live = 0;\n@@ -711,1 +710,0 @@\n-      last_populated_live = young_live;\n@@ -725,1 +723,0 @@\n-  const size_t young_used_at_mark_start = ZGeneration::young()->stat_heap()->used_generation_at_mark_start();\n","filename":"src\/hotspot\/share\/gc\/z\/zGeneration.cpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -90,1 +90,0 @@\n-  void flip_age_pages(const ZArray<ZPage*>* pages);\n","filename":"src\/hotspot\/share\/gc\/z\/zGeneration.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -793,1 +793,0 @@\n-  ZMark* const                  _mark;\n@@ -804,1 +803,1 @@\n-  ZMarkOldRootsTask(ZMark* mark)\n+  ZMarkOldRootsTask()\n@@ -806,1 +805,0 @@\n-      _mark(mark),\n@@ -851,1 +849,0 @@\n-  ZMark* const               _mark;\n@@ -862,1 +859,1 @@\n-  ZMarkYoungRootsTask(ZMark* mark)\n+  ZMarkYoungRootsTask()\n@@ -864,1 +861,0 @@\n-      _mark(mark),\n@@ -932,1 +928,1 @@\n-  ZMarkYoungRootsTask task(this);\n+  ZMarkYoungRootsTask task;\n@@ -938,1 +934,1 @@\n-  ZMarkOldRootsTask task(this);\n+  ZMarkOldRootsTask task;\n","filename":"src\/hotspot\/share\/gc\/z\/zMark.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -46,3 +46,0 @@\n-  static ZNMethodTableEntry* create(size_t size);\n-  static void destroy(ZNMethodTableEntry* table);\n-\n@@ -70,3 +67,0 @@\n-\n-  static void unlink(ZWorkers* workers, bool unloading_occurred);\n-  static void purge(ZWorkers* workers);\n","filename":"src\/hotspot\/share\/gc\/z\/zNMethodTable.hpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1064,1 +1064,0 @@\n-  const ZVirtualMemory already_committed_vmem = vmem.first_part(already_committed);\n@@ -1426,1 +1425,0 @@\n-  const size_t committed = stats._total_committed_capacity;\n@@ -1967,3 +1965,0 @@\n-    \/\/ Remove the harvested part\n-    const ZVirtualMemory non_harvest_vmem = partial_vmem.last_part(allocation->harvested());\n-\n","filename":"src\/hotspot\/share\/gc\/z\/zPageAllocator.cpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -42,1 +42,0 @@\n-  uintptr_t              _uncolor_mask;\n@@ -54,1 +53,0 @@\n-      _uncolor_mask(0),\n","filename":"src\/hotspot\/share\/gc\/z\/zThreadLocalData.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -7731,1 +7731,1 @@\n-  match(Set dst (VectorCastF2X (VectorReinterpret (LoadVector src))));\n+  match(Set dst (VectorCastF2X (LoadVector src)));\n@@ -7734,0 +7734,1 @@\n+    int vlen = Matcher::vector_length(this);\n@@ -7735,1 +7736,1 @@\n-    int vlen_enc = (to_elem_bt == T_LONG) ? vector_length_encoding(this) : vector_length_encoding(this, $src);\n+    int vlen_enc = (to_elem_bt == T_LONG) ? vector_length_encoding(this) : vector_length_encoding(vlen * sizeof(jfloat));\n@@ -7804,1 +7805,1 @@\n-  match(Set dst (VectorCastD2X (VectorReinterpret (LoadVector src))));\n+  match(Set dst (VectorCastD2X (LoadVector src)));\n@@ -7807,1 +7808,2 @@\n-    int vlen_enc = vector_length_encoding(this, $src);\n+    int vlen = Matcher::vector_length(this);\n+    int vlen_enc = vector_length_encoding(vlen * sizeof(jdouble));\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-    @IR(counts = {IRNode.CAST_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2I, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -93,1 +93,1 @@\n-    @IR(counts = {IRNode.CAST2_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2I, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -113,1 +113,1 @@\n-    @IR(counts = {IRNode.CAST_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2L, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -115,1 +115,1 @@\n-    @IR(counts = {IRNode.CAST2_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2L, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -135,1 +135,1 @@\n-    @IR(counts = {IRNode.CAST_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2I, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -137,1 +137,1 @@\n-    @IR(counts = {IRNode.CAST2_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2I, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -157,1 +157,1 @@\n-    @IR(counts = {IRNode.CAST_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2L, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -159,1 +159,1 @@\n-    @IR(counts = {IRNode.CAST2_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2L, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -179,1 +179,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2I, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -181,1 +181,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2I, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n@@ -201,1 +201,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2L, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -203,1 +203,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2L, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n@@ -223,1 +223,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2I, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -225,1 +225,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2I, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n@@ -245,1 +245,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2I, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -247,1 +247,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2I, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorFPtoIntCastTest.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -299,1 +299,1 @@\n-    @IR(counts = {IRNode.CAST_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2I, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -301,1 +301,1 @@\n-    @IR(counts = {IRNode.CAST2_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2I, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -314,1 +314,1 @@\n-    @IR(counts = {IRNode.CAST_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2L, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -316,1 +316,1 @@\n-    @IR(counts = {IRNode.CAST2_F2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2L, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -329,1 +329,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2I, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -331,1 +331,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2I, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n@@ -344,1 +344,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2L, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -346,1 +346,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2L, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n@@ -361,1 +361,1 @@\n-    @IR(counts = {IRNode.CONV_F2I, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2I, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -363,1 +363,1 @@\n-    @IR(counts = {IRNode.CONV2_F2I, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2I, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -384,1 +384,1 @@\n-    @IR(counts = {IRNode.CONV_F2I, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_F2I, \"= 0\", IRNode.CAST2_F2X, \"= 0\"},\n@@ -386,1 +386,1 @@\n-    @IR(counts = {IRNode.CONV2_F2I, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_F2I, \"= 0\", IRNode.CAST_F2X, \"= 0\"},\n@@ -410,1 +410,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2I, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -412,1 +412,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2I, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n@@ -429,1 +429,1 @@\n-    @IR(counts = {IRNode.CAST_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV2_D2I, \"= 0\", IRNode.CAST2_D2X, \"= 0\"},\n@@ -431,1 +431,1 @@\n-    @IR(counts = {IRNode.CAST2_D2X, \"> 0\"},\n+    @IR(counts = {IRNode.CONV_D2I, \"= 0\", IRNode.CAST_D2X, \"= 0\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/ArrayTypeConvertTest.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"}]}
{"files":[{"patch":"@@ -24,2 +24,0 @@\n-#include \"jvm.h\"\n-#include \"unittest.hpp\"\n@@ -28,0 +26,1 @@\n+#include \"runtime\/os.hpp\"\n@@ -33,0 +32,2 @@\n+#include \"unittest.hpp\"\n+\n@@ -49,2 +50,2 @@\n-    int ret = jio_snprintf(buf, sizeof(buf), \"%s=%s\", name, value);\n-    if (ret > 0) {\n+    int ret = os::snprintf(buf, sizeof(buf), \"%s=%s\", name, value);\n+    if ((ret > 0) && ((size_t)ret < sizeof(buf))) {\n@@ -60,2 +61,3 @@\n-  int ret = jio_snprintf(ullong_max, sizeof(ullong_max), JULONG_FORMAT, ULLONG_MAX);\n-  ASSERT_NE(-1, ret);\n+  int ret = os::snprintf(ullong_max, sizeof(ullong_max), \"%llu\", ULLONG_MAX);\n+  ASSERT_LT(0, ret);\n+  ASSERT_LT(ret, (int)sizeof(ullong_max));\n@@ -175,1 +177,1 @@\n-  jio_snprintf(buff, sizeof(buff), JULONG_FORMAT, value);\n+  os::snprintf(buff, sizeof(buff), JULONG_FORMAT, value);\n","filename":"test\/hotspot\/gtest\/runtime\/test_arguments.cpp","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"}]}
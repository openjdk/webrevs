{"files":[{"patch":"@@ -53,5 +53,6 @@\n-        EventQueue.invokeAndWait(() -> {\n-            mf1 = new MyFrame();\n-            mf1.setBounds(100, 100, 300, 300);\n-            mf1.mc1.requestFocusInWindow();\n-        });\n+        try {\n+            EventQueue.invokeAndWait(() -> {\n+                mf1 = new MyFrame();\n+                mf1.setBounds(100, 100, 300, 300);\n+                mf1.mc1.requestFocusInWindow();\n+            });\n@@ -59,5 +60,5 @@\n-        Robot robot = new Robot();\n-        robot.waitForIdle();\n-        EventQueue.invokeAndWait(() -> {\n-            p = mf1.mb.getLocationOnScreen();\n-        });\n+            Robot robot = new Robot();\n+            robot.waitForIdle();\n+            EventQueue.invokeAndWait(() -> {\n+                p = mf1.mb.getLocationOnScreen();\n+            });\n@@ -65,1 +66,1 @@\n-        robot.waitForIdle();\n+            robot.waitForIdle();\n@@ -67,5 +68,10 @@\n-        robot.mouseMove(p.x + 5, p.y + 5);\n-        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n-        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n-        robot.delay(250);\n-        robot.waitForIdle();\n+            robot.mouseMove(p.x + 5, p.y + 5);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.delay(250);\n+            robot.waitForIdle();\n+        } finally {\n+            if (mf1 != null) {\n+                EventQueue.invokeAndWait(mf1::dispose);\n+            }\n+        }\n","filename":"test\/jdk\/java\/awt\/Container\/ActivateOnFocusTest.java","additions":22,"deletions":16,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -88,3 +88,4 @@\n-        EventQueue.invokeAndWait(() -> {\n-            test = new MouseEnteredTest();\n-        });\n+        try {\n+            EventQueue.invokeAndWait(() -> {\n+                test = new MouseEnteredTest();\n+            });\n@@ -92,4 +93,4 @@\n-        Robot robot = new Robot();\n-        robot.setAutoWaitForIdle(true);\n-        robot.waitForIdle();\n-        robot.delay(250);\n+            Robot robot = new Robot();\n+            robot.setAutoWaitForIdle(true);\n+            robot.waitForIdle();\n+            robot.delay(250);\n@@ -97,8 +98,8 @@\n-        EventQueue.invokeAndWait(() -> {\n-            p = m.getLocationOnScreen();\n-            p2 = menu.getLocationOnScreen();\n-        });\n-        robot.waitForIdle();\n-        robot.delay(250);\n-        robot.mouseMove(p.x + 5, p.y + 10);\n-        robot.waitForIdle();\n+            EventQueue.invokeAndWait(() -> {\n+                p = m.getLocationOnScreen();\n+                p2 = menu.getLocationOnScreen();\n+            });\n+            robot.waitForIdle();\n+            robot.delay(250);\n+            robot.mouseMove(p.x + 5, p.y + 10);\n+            robot.waitForIdle();\n@@ -106,6 +107,6 @@\n-        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n-        for (int i = p.x; i < p2.x + 10; i = i + 2) {\n-            robot.mouseMove(i, p2.y + 10);\n-        }\n-        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n-        robot.delay(2000);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            for (int i = p.x; i < p2.x + 10; i = i + 2) {\n+                robot.mouseMove(i, p2.y + 10);\n+            }\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.delay(2000);\n@@ -113,2 +114,7 @@\n-        if (m.isPopupMenuVisible()) {\n-            throw new RuntimeException(\"First menu is showing. Test Failed.\");\n+            if (m.isPopupMenuVisible()) {\n+                throw new RuntimeException(\"First menu is showing. Test Failed.\");\n+            }\n+        } finally {\n+            if (test != null) {\n+                EventQueue.invokeAndWait(test::dispose);\n+            }\n","filename":"test\/jdk\/java\/awt\/Container\/MouseEnteredTest.java","additions":29,"deletions":23,"binary":false,"changes":52,"status":"modified"}]}
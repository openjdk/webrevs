{"files":[{"patch":"@@ -3126,3 +3126,2 @@\n-void AwtWindow::_ModalDisable(void *param)\n-{\n-    JNIEnv *env = (JNIEnv *)JNU_GetEnv(jvm, JNI_VERSION_1_2);\n+void AwtWindow::_ModalDisable(void *param) {\n+    JNIEnv *env = (JNIEnv *) JNU_GetEnv(jvm, JNI_VERSION_1_2);\n@@ -3150,1 +3149,1 @@\n-    window = (AwtWindow *)pData;\n+    window = (AwtWindow *) pData;\n@@ -3161,3 +3160,2 @@\n-void AwtWindow::_ModalEnable(void *param)\n-{\n-    JNIEnv *env = (JNIEnv *)JNU_GetEnv(jvm, JNI_VERSION_1_2);\n+void AwtWindow::_ModalEnable(void *param) {\n+    JNIEnv *env = (JNIEnv *) JNU_GetEnv(jvm, JNI_VERSION_1_2);\n@@ -3165,1 +3163,1 @@\n-    jobject self = (jobject)param;\n+    jobject self = static_cast<jobject>(param);\n@@ -3170,2 +3168,5 @@\n-    {\n-        JNI_CHECK_NULL_GOTO(self, \"peer\", ret);\n+    if (self == NULL) {\n+        env->ExceptionClear();\n+        JNU_ThrowNullPointerException(env, \"self\");\n+        return;\n+    } else {\n@@ -3177,0 +3178,1 @@\n+    }\n@@ -3178,5 +3180,4 @@\n-        window = (AwtWindow *)pData;\n-        windowHWnd = window->GetHWnd();\n-        if (::IsWindow(windowHWnd)) {\n-            AwtWindow::SetModalBlocker(windowHWnd, NULL);\n-        }\n+    window = (AwtWindow *)pData;\n+    windowHWnd = window->GetHWnd();\n+    if (::IsWindow(windowHWnd)) {\n+        AwtWindow::SetModalBlocker(windowHWnd, NULL);\n@@ -3185,1 +3186,0 @@\n-  ret:\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Window.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"}]}
{"files":[{"patch":"@@ -50,1 +50,1 @@\n-        build\/tools\/runtimeimagelinkdeltaproducer \\\n+        build\/tools\/linkdeltaproducer \\\n","filename":"make\/CompileToolsJdk.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -113,2 +113,1 @@\n-  RL_BUILD_CLASSES := runtimeimagelinkdeltaproducer-classes\n-  RL_DELTA_GEN_CLASSES := $(BUILDTOOLS_OUTPUTDIR)\/$(RL_BUILD_CLASSES)\n+  RL_DELTA_GEN_CLASSES := $(BUILDTOOLS_OUTPUTDIR)\/linkdeltaproducer-classes\n@@ -116,4 +115,1 @@\n-  RL_JIMAGE_PATH_ARG := $(JDK_IMAGE_DIR)\/lib\/modules\n-  RL_DIFFS_OUTPUT_FILE_ARG := $(JDK_IMAGE_DIR)\/lib\/runtime-image-link.delta\n-  RL_MOD_PATH_ARG := $(IMAGES_OUTPUTDIR)\/jmods\n-  TOOL_RUNTIME_IMAGE_LINK_DELTA_PRODUCER := $(BUILD_JAVA) --add-modules jdk.jlink \\\n+  FLAGS_DIFF_GEN := --add-modules jdk.jlink \\\n@@ -123,2 +119,0 @@\n-      -cp $(RL_DELTA_GEN_CLASSES) \\\n-      build.tools.runtimeimagelinkdeltaproducer.RuntimeImageLinkDeltaProducer \\\n@@ -132,1 +126,1 @@\n-      INCLUDES := build\/tools\/runtimeimagelinkdeltaproducer, \\\n+      INCLUDES := build\/tools\/linkdeltaproducer, \\\n@@ -134,5 +128,1 @@\n-      JAVAC_FLAGS := \\\n-          --add-modules jdk.jlink \\\n-          --add-exports jdk.jlink\/jdk.tools.jlink.internal.runtimelink=ALL-UNNAMED \\\n-          --add-exports java.base\/jdk.internal.module=ALL-UNNAMED \\\n-          --add-exports java.base\/jdk.internal.jimage=ALL-UNNAMED \\\n+      JAVAC_FLAGS := $(FLAGS_DIFF_GEN), \\\n@@ -146,4 +136,7 @@\n-      COMMAND := $(TOOL_RUNTIME_IMAGE_LINK_DELTA_PRODUCER) \\\n-                 $(RL_MOD_PATH_ARG) \\\n-                 $(RL_JIMAGE_PATH_ARG) \\\n-                 $(RL_DIFFS_OUTPUT_FILE_ARG), \\\n+      COMMAND := $(BUILD_JAVA) \\\n+                 $(FLAGS_DIFF_GEN) \\\n+                 -cp $(RL_DELTA_GEN_CLASSES) \\\n+                 build.tools.linkdeltaproducer.LinkDeltaProducer \\\n+                 $(IMAGES_OUTPUTDIR)\/jmods \\\n+                 $(JDK_IMAGE_DIR)\/lib\/modules \\\n+                 $(JDK_IMAGE_DIR)\/lib\/runtime-image-link.delta, \\\n@@ -155,6 +148,0 @@\n-ifeq ($(JLINK_PRODUCE_RUNTIME_LINK_JDK), true)\n-  FINAL_JDK_JLINK := $(diff_runtime_jdk)\n-else\n-  FINAL_JDK_JLINK := $(jlink_jdk)\n-endif\n-\n@@ -208,1 +195,1 @@\n-      DEPS := $$(FINAL_JDK_JLINK), \\\n+      DEPS := $$(jlink_jdk), \\\n","filename":"make\/Images.gmk","additions":12,"deletions":25,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-package build.tools.runtimeimagelinkdeltaproducer;\n+package build.tools.linkdeltaproducer;\n@@ -45,1 +45,1 @@\n-public class RuntimeImageLinkDeltaProducer {\n+public class LinkDeltaProducer {\n@@ -55,1 +55,1 @@\n-                                   \"build.tools.runtimeimagelinkdeltaproducer.RuntimeImageLinkDeltaProducer <packaged-modules> <jimage-to-compare> <output-file>\");\n+                                   \"build.tools.linkdeltaproducer.LinkDeltaProducer <packaged-modules> <jimage-to-compare> <output-file>\");\n","filename":"make\/jdk\/src\/classes\/build\/tools\/linkdeltaproducer\/LinkDeltaProducer.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"make\/jdk\/src\/classes\/build\/tools\/runtimeimagelinkdeltaproducer\/RuntimeImageLinkDeltaProducer.java","status":"renamed"}]}
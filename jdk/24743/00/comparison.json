{"files":[{"patch":"@@ -0,0 +1,99 @@\n+\/*\n+ * Copyright (c) 2002, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4357012\n+ * @requires (os.family == \"windows\")\n+ * @summary JFileChooser.showSaveDialog inconsistent with Windows Save Dialog\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4357012\n+ *\/\n+\n+import java.io.File;\n+import java.io.IOException;\n+import javax.swing.JComponent;\n+import javax.swing.JFileChooser;\n+import javax.swing.UIManager;\n+\n+public class bug4357012 {\n+    private static File workDir = null;\n+    private static File dir = null;\n+    private static File file = null;\n+    private static final String INSTRUCTIONS = \"\"\"\n+            <html>\n+            Test is for Windows LAF only\n+            <p>In JFileChooser's files list :\n+            <ol>\n+            <li>Select directory. Verify that the directory name doesn't\n+            appear in \"file name\" field.<\/li>\n+            <li>Select file. Verify that the file name appears in\n+            \"file name\" field.<\/li>\n+            <li>Select directory again. Verify that the previous file name\n+            remains in file name field.<\/li>\n+            <\/ol>\n+            <\/p>\n+            <\/html>\n+            \"\"\";\n+\n+    public static void main(String[] argv) throws Exception {\n+        try {\n+            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n+            createTestDir();\n+            PassFailJFrame.builder()\n+                    .instructions(INSTRUCTIONS)\n+                    .rows(10)\n+                    .columns(40)\n+                    .testUI(bug4357012::createTestUI)\n+                    .build()\n+                    .awaitAndCheck();\n+        } finally {\n+            if (workDir != null) {\n+                System.out.println(\"Deleting '\" + file + \"': \" + file.delete());\n+                System.out.println(\"Deleting '\" + dir + \"': \" + dir.delete());\n+                System.out.println(\"Deleting '\" + workDir + \"': \" + workDir.delete());\n+            }\n+        }\n+    }\n+\n+    private static void createTestDir() throws IOException {\n+        String tempDir = \".\";\n+        String fs = System.getProperty(\"file.separator\");\n+\n+        workDir = new File(tempDir + fs + \"bug4357012\");\n+        System.out.println(\"Creating '\" + workDir + \"': \" + workDir.mkdir());\n+\n+        dir = new File(workDir + fs + \"Directory\");\n+        System.out.println(\"Creating '\" + dir + \"': \" + dir.mkdir());\n+\n+        file = new File(workDir + fs + \"File.txt\");\n+        System.out.println(\"Creating '\" + file + \"': \" + file.createNewFile());\n+    }\n+\n+    private static JComponent createTestUI() {\n+        JFileChooser fc = new JFileChooser(workDir);\n+        fc.setDialogType(JFileChooser.SAVE_DIALOG);\n+        return fc;\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/bug4357012.java","additions":99,"deletions":0,"binary":false,"changes":99,"status":"added"},{"patch":"@@ -0,0 +1,114 @@\n+\/*\n+ * Copyright (c) 2011, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4926884\n+ * @requires (os.family == \"windows\")\n+ * @summary Win L&F: JFileChooser problems with \"My Documents\" folder\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug4926884\n+ *\/\n+\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.OutputStream;\n+import javax.swing.JFileChooser;\n+import javax.swing.UIManager;\n+\n+public class bug4926884 {\n+    private static final String INSTRUCTIONS = \"\"\"\n+            Validate next statements step by step:\n+\n+            1. In the file list there are several dirs and files (like \"ski\",\n+               \"Snowboard\" etc.)\n+            2. Select \"Details\" view mode.\n+            3. Make file list in focus (e.g. by pressing mouse button)\n+            4. Press key \"w\" several times with delay LESS than 1 second.\n+              Selection should be changed across files started with letter \"w\"\n+              (without case sensitive).\n+            5. Press key \"w\" several times with delay MORE than 1 second.\n+              Selection should be changed across files started with letter \"w\"\n+              (without case sensitive).\n+            6. Type \"winnt\" (with delay less than 1 second between letters) -\n+               directory \"winnt\" should be selected.\n+            7. Change conditions:\n+              - Move column \"Name\" to the second position\n+              - Change sort mode by clicking column \"Size\"\n+            8. Repeat items 4-6\n+\n+            If above is true press PASS else FAIL\n+            \"\"\";\n+\n+    private static final String[] DIRS = {\"www\", \"winnt\", \"ski\"};\n+    private static final String[] FILES = {\"Window\", \"weel\", \"mice\",\n+                                           \"Wall\", \"Snowboard\", \"wood\"};\n+    private static final File testDir = new File(\".\");\n+\n+    public static void main(String[] argv) throws Exception {\n+        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n+        try {\n+            createTestDir();\n+            PassFailJFrame.builder()\n+                    .instructions(INSTRUCTIONS)\n+                    .columns(40)\n+                    .testUI(() -> new JFileChooser(testDir))\n+                    .build()\n+                    .awaitAndCheck();\n+        } finally {\n+            deleteTempDir();\n+        }\n+    }\n+\n+    private static void createTestDir() throws IOException {\n+        testDir.mkdir();\n+\n+        for (String dir : DIRS) {\n+            new File(testDir, dir).mkdir();\n+        }\n+\n+        for (int i = 0; i < FILES.length; i++) {\n+\n+            try (OutputStream outputStream = new FileOutputStream(\n+                    new File(testDir, FILES[i]))) {\n+                for (int j = 0; j < i * 1024; j++) {\n+                    outputStream.write('#');\n+                }\n+            }\n+        }\n+    }\n+\n+    private static void deleteTempDir() {\n+        File[] files = testDir.listFiles();\n+\n+        for (File file : files) {\n+            if (file != null) {\n+                file.delete();\n+            }\n+        }\n+\n+        testDir.delete();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/bug4926884.java","additions":114,"deletions":0,"binary":false,"changes":114,"status":"added"},{"patch":"@@ -0,0 +1,68 @@\n+\/*\n+ * Copyright (c) 2004, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 5045464\n+ * @requires (os.family == \"linux\")\n+ * @summary Regression: GTK L&F, JFileChooser shows \"null\/\" in folder list\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug5045464\n+ *\/\n+\n+import javax.swing.JComponent;\n+import javax.swing.JFileChooser;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+\n+public class bug5045464 {\n+    private static final String INSTRUCTIONS = \"\"\"\n+            When the filechooser appears check the directory list (the left list).\n+            If it starts with two items: \".\/\" (current directory)\n+            and \"..\/\" (parent directory) press PASS.\n+            If something else is here (e.g. \"null\/\" instead of \".\/\")\n+            press FAIL.\n+            \"\"\";\n+\n+    public static void main(String[] argv) throws Exception {\n+        PassFailJFrame.builder()\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(bug5045464::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JComponent createTestUI() {\n+        JFileChooser fc = new JFileChooser();\n+        fc.setControlButtonsAreShown(false);\n+        try {\n+         UIManager.setLookAndFeel(\"com.sun.java.swing.plaf.gtk.GTKLookAndFeel\");\n+        } catch (Exception ex) {\n+        throw new RuntimeException(\"Test Failed!\", ex);\n+        }\n+        SwingUtilities.updateComponentTreeUI(fc);\n+        return fc;\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/bug5045464.java","additions":68,"deletions":0,"binary":false,"changes":68,"status":"added"},{"patch":"@@ -0,0 +1,106 @@\n+\/*\n+ * Copyright (c) 2011, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6515169\n+ * @requires (os.family == \"windows\")\n+ * @summary wrong grid header in JFileChooser\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual bug6515169\n+ *\/\n+\n+import javax.swing.ButtonGroup;\n+import javax.swing.JCheckBoxMenuItem;\n+import javax.swing.JFileChooser;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+\n+public class bug6515169 {\n+    private static JFrame frame;\n+    private static final String INSTRUCTIONS = \"\"\"\n+            This test is to verify JFileChooser on Windows and Metal LAF.\n+            Use the \"Change LaF\" menu to switch between the 2 LaF\n+            and verify the following.\n+\n+            a. Change view mode to \"Details\"\n+            b. Check that 4 columns appear: Name, Size, Type and Date Modified\n+            c. Change current directory by pressing any available subdirectory\n+               or by pressing button \"Up One Level\".\n+            d. Check that still four columns exist.\n+\n+            Change LaF and repeat the steps a-d.\n+            If all conditions are true press PASS, else FAIL.\n+            \"\"\";\n+\n+    public static void main(String[] argv) throws Exception {\n+        PassFailJFrame.builder()\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(bug6515169::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createTestUI() {\n+        frame = new JFrame(\"bug6515169\");\n+        JMenuBar bar = new JMenuBar();\n+        JMenu lafMenu = new JMenu(\"Change LaF\");\n+        ButtonGroup lafGroup = new ButtonGroup();\n+        JCheckBoxMenuItem lafItem1 = new JCheckBoxMenuItem(\"Window LaF\");\n+        lafItem1.addActionListener(e ->\n+                setLaF(UIManager.getSystemLookAndFeelClassName()));\n+        lafGroup.add(lafItem1);\n+        lafMenu.add(lafItem1);\n+\n+        JCheckBoxMenuItem lafItem2 = new JCheckBoxMenuItem(\"Metal LaF\");\n+        lafItem2.addActionListener(e ->\n+                setLaF(UIManager.getCrossPlatformLookAndFeelClassName()));\n+        lafGroup.add(lafItem2);\n+        lafMenu.add(lafItem2);\n+\n+        bar.add(lafMenu);\n+        frame.setJMenuBar(bar);\n+\n+        String dir = \".\";\n+        JFileChooser fc = new JFileChooser(dir);\n+        fc.setControlButtonsAreShown(false);\n+        frame.add(fc);\n+        frame.pack();\n+\n+        return frame;\n+    }\n+\n+    private static void setLaF(String laf) {\n+        try {\n+            UIManager.setLookAndFeel(laf);\n+            SwingUtilities.updateComponentTreeUI(frame);\n+        } catch (Exception e) {\n+           throw new RuntimeException(\"Test Failed!\", e);\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/bug6515169.java","additions":106,"deletions":0,"binary":false,"changes":106,"status":"added"}]}
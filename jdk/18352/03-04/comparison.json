{"files":[{"patch":"@@ -68,1 +68,3 @@\n-            Files.deleteIfExists(addr.getPath());\n+            if (addr != null) {\n+                Files.deleteIfExists(addr.getPath());\n+            }\n","filename":"test\/jdk\/java\/nio\/channels\/unixdomain\/NonBlockingAccept.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import java.nio.file.Files;\n@@ -69,5 +70,0 @@\n-        ksFile.deleteOnExit();\n-        try (FileOutputStream fos = new FileOutputStream(ksFile)) {\n-            ks.store(fos, pw);\n-            fos.flush();\n-        }\n@@ -75,12 +71,19 @@\n-        \/\/ now see if we can get it back\n-        try (FileInputStream fis = new FileInputStream(ksFile)) {\n-            KeyStore ks2 = KeyStore.getInstance(keystoreType);\n-            ks2.load(fis, pw);\n-            KeyStore.Entry entry = ks2.getEntry(ALIAS, kspp);\n-            SecretKey keyIn = ((KeyStore.SecretKeyEntry)entry).getSecretKey();\n-            if (Arrays.equals(key.getEncoded(), keyIn.getEncoded())) {\n-                System.err.println(\"OK: worked just fine with \" + keystoreType +\n-                                   \" keystore\");\n-            } else {\n-                System.err.println(\"ERROR: keys are NOT equal after storing in \"\n-                                   + keystoreType + \" keystore\");\n+        try {\n+            try (FileOutputStream fos = new FileOutputStream(ksFile)) {\n+                ks.store(fos, pw);\n+                fos.flush();\n+            }\n+\n+            \/\/ now see if we can get it back\n+            try (FileInputStream fis = new FileInputStream(ksFile)) {\n+                KeyStore ks2 = KeyStore.getInstance(keystoreType);\n+                ks2.load(fis, pw);\n+                KeyStore.Entry entry = ks2.getEntry(ALIAS, kspp);\n+                SecretKey keyIn = ((KeyStore.SecretKeyEntry) entry).getSecretKey();\n+                if (Arrays.equals(key.getEncoded(), keyIn.getEncoded())) {\n+                    System.err.println(\"OK: worked just fine with \" + keystoreType +\n+                            \" keystore\");\n+                } else {\n+                    System.err.println(\"ERROR: keys are NOT equal after storing in \"\n+                            + keystoreType + \" keystore\");\n+                }\n@@ -88,0 +91,2 @@\n+        } finally {\n+            Files.deleteIfExists(ksFile.toPath());\n","filename":"test\/jdk\/sun\/security\/pkcs12\/P12SecretKey.java","additions":22,"deletions":17,"binary":false,"changes":39,"status":"modified"}]}
{"files":[{"patch":"@@ -2030,2 +2030,5 @@\n-    void copyToSegmentRaw(MemorySegment segment, long offset, int srcIndex, int numChars) {\n-        MemorySegment.copy(value, srcIndex, segment, ValueLayout.JAVA_BYTE, offset, numChars);\n+    void copyToSegmentRaw(MemorySegment segment, long offset, int srcIndex, int srcLength) {\n+        if (!isLatin1()) {\n+            throw new IllegalStateException(\"This string does not support copyToSegmentRaw\");\n+        }\n+        MemorySegment.copy(value, srcIndex, segment, ValueLayout.JAVA_BYTE, offset, srcLength);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/String.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2318,2 +2318,2 @@\n-            public void copyToSegmentRaw(String string, MemorySegment segment, long offset, int srcIndex, int numChars) {\n-                string.copyToSegmentRaw(segment, offset, srcIndex, numChars);\n+            public void copyToSegmentRaw(String string, MemorySegment segment, long offset, int srcIndex, int srcLength) {\n+                string.copyToSegmentRaw(segment, offset, srcIndex, srcLength);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2650,2 +2650,1 @@\n-     *                 the string bytes. The {@code charset} must be a\n-     *                 {@linkplain StandardCharsets standard charset}\n+     *                 the string bytes.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/foreign\/MemorySegment.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -615,1 +615,1 @@\n-    void copyToSegmentRaw(String string, MemorySegment segment, long offset, int srcIndex, int numChars);\n+    void copyToSegmentRaw(String string, MemorySegment segment, long offset, int srcIndex, int srcLength);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -371,2 +371,2 @@\n-    public static void copyToSegmentRaw(String string, MemorySegment segment, long offset, int srcIndex, int numChars) {\n-        JAVA_LANG_ACCESS.copyToSegmentRaw(string, segment, offset, srcIndex, numChars);\n+    public static void copyToSegmentRaw(String string, MemorySegment segment, long offset, int srcIndex, int srcLength) {\n+        JAVA_LANG_ACCESS.copyToSegmentRaw(string, segment, offset, srcIndex, srcLength);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/StringSupport.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
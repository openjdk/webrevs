{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,0 @@\n-import jtreg.SkippedException;\n@@ -42,0 +41,1 @@\n+import jtreg.SkippedException;\n@@ -50,1 +50,2 @@\n-        System.out.println(\"classes.jsa location:\" + jsaString);\n+        System.out.println(\"Default CDS archive location:\" + jsaString);\n+        String javaOptions = System.getProperty(\"test.java.opts\");\n@@ -60,1 +61,1 @@\n-                                       \": has default classes.jsa file\");\n+                                       \": has default \" + jsaString + \" file\");\n@@ -62,1 +63,6 @@\n-                    throw new RuntimeException(vmString + \"has no \" + jsaString);\n+                    if (javaOptions.indexOf(\"-XX:+UseCompactObjectHeaders\") != -1 && jsaString.endsWith(\"_coh.jsa\")) {\n+                       \/\/ JDK build may not include CDS archives for compact object headers.\n+                       throw new SkippedException(\"CDS archive for compact object headers \" + jsaString + \" is not available in this test JDK\");\n+                    } else {\n+                        throw new RuntimeException(vmString + \"has no \" + jsaString);\n+                    }\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/CheckDefaultArchiveFile.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"}]}
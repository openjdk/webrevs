{"files":[{"patch":"@@ -31,1 +31,0 @@\n- * @run main UNCTest\n@@ -39,0 +38,1 @@\n+import java.net.URI;\n@@ -46,4 +46,12 @@\n-        \/\/ Skip the test if Administrative Shares is disabled\n-        skipIfAdministrativeSharesDisabled(hostName);\n-        \/\/ Should always exist with Administrative Shares enabled\n-        URL url = new URL(\"file:\/\/\" + hostName +\"\/C$\/Windows\");\n+\n+        \/\/ UNC path which always exist with Administrative Shares enabled\n+        String path = \"\\\\\\\\\" + hostName + \"\\\\C$\\\\Windows\";\n+\n+        \/\/ Skip test if Administrative Shares is disabled\n+        if (! new File(path).exists()) {\n+            throw new SkippedException(\"Administrative shares not enabled\");\n+        }\n+\n+        \/\/ File URL for the UNC path\n+        URL url = new URI(\"file:\" + path.replace('\\\\', '\/')).toURL();\n+\n@@ -52,0 +60,1 @@\n+\n@@ -56,0 +65,1 @@\n+\n@@ -59,12 +69,0 @@\n-\n-    \/**\n-     * If the UNC path \"\\\\hostname\\C$\\Windows\" does not exists, then\n-     * 'Administrative Shares' is not enabled on this host and we skip the test\n-     * @param hostName the name of the local computer\n-     *\/\n-    private static void skipIfAdministrativeSharesDisabled(String hostName) {\n-        String uncPath = \"\\\\\\\\\" + hostName + \"\\\\C$\\\\Windows\";\n-        if (! new File(uncPath).exists()) {\n-            throw new SkippedException(\"Administrative shares not enabled\");\n-        }\n-    }\n","filename":"test\/jdk\/java\/net\/URLConnection\/UNCTest.java","additions":15,"deletions":17,"binary":false,"changes":32,"status":"modified"}]}
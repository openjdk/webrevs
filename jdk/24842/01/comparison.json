{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,2 @@\n+ * @modules java.base\/sun.net.www.protocol.file\n+ * @library \/test\/lib\n@@ -29,1 +31,0 @@\n- * @run main UNCTest file:\/\/jdk\/LOCAL-JAVA\/jdk1.4\/win\/README.txt\n@@ -32,0 +33,6 @@\n+import jtreg.SkippedException;\n+import sun.net.www.protocol.file.FileURLConnection;\n+\n+import java.io.File;\n+import java.net.InetAddress;\n+import java.net.URI;\n@@ -37,1 +44,15 @@\n-        URL url = new URL( args[0] );\n+        \/\/ Get the \"computer name\" for this host\n+        String hostName = InetAddress.getLocalHost().getHostName();\n+\n+        \/\/ UNC path which always exist with Administrative Shares enabled\n+        String path = \"\\\\\\\\\" + hostName + \"\\\\C$\\\\Windows\";\n+\n+        \/\/ Skip test if Administrative Shares is disabled\n+        if (! new File(path).exists()) {\n+            throw new SkippedException(\"Administrative shares not enabled\");\n+        }\n+\n+        \/\/ File URL for the UNC path\n+        URL url = new URI(\"file:\" + path.replace('\\\\', '\/')).toURL();\n+\n+        \/\/ Should return an UNCFileURLConnection\n@@ -39,0 +60,7 @@\n+\n+        \/\/ Sanity check that the UNC path resulted in a FileURLConnection\n+        if (! (conn instanceof FileURLConnection)) {\n+            throw new Exception(\"Expected FileURLConnection for UNC path, instead got \" + conn.getClass().getName());\n+        }\n+\n+        \/\/ Verify that the connection is not already connected\n","filename":"test\/jdk\/java\/net\/URLConnection\/UNCTest.java","additions":31,"deletions":3,"binary":false,"changes":34,"status":"modified"}]}
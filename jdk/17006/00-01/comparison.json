{"files":[{"patch":"@@ -4052,8 +4052,7 @@\n-  if (VM_Version::supports_fast_class_init_checks()) {\n-    const Register thread = LP64_ONLY(r15_thread) NOT_LP64(noreg);\n-    assert(thread != noreg, \"x86_32 not supported\");\n-    __ clinit_barrier(rcx, thread, nullptr \/*L_fast_path*\/, &slow_case);\n-  } else {\n-    __ cmpb(Address(rcx, InstanceKlass::init_state_offset()), InstanceKlass::fully_initialized);\n-    __ jcc(Assembler::notEqual, slow_case);\n-  }\n+#ifdef _LP64\n+  assert(VM_Version::supports_fast_class_init_checks(), \"must support fast class initialization checks\");\n+  __ clinit_barrier(rcx, r15_thread, nullptr \/*L_fast_path*\/, &slow_case);\n+#else\n+  __ cmpb(Address(rcx, InstanceKlass::init_state_offset()), InstanceKlass::fully_initialized);\n+  __ jcc(Assembler::notEqual, slow_case);\n+#endif\n","filename":"src\/hotspot\/cpu\/x86\/templateTable_x86.cpp","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"}]}
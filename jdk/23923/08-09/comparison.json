{"files":[{"patch":"@@ -171,2 +171,2 @@\n-        for (final var token : PredefinedToken.values()) {\n-            testCases.addAll(token.createTestCases(true));\n+        for (final var macro : Macro.values()) {\n+            testCases.addAll(createTestCases(macro, true));\n@@ -188,2 +188,2 @@\n-        for (final var token : PredefinedToken.values()) {\n-            testCases.addAll(token.createTestCases(false));\n+        for (final var macro : Macro.values()) {\n+            testCases.addAll(createTestCases(macro, false));\n@@ -203,17 +203,6 @@\n-    private enum PredefinedToken {\n-        APPDIR,\n-        BINDIR,\n-        ROOTDIR;\n-\n-        List<TestSpec> createTestCases(boolean caseSensitive) {\n-            final var name = name();\n-            final var name2 = name.transform(str -> {\n-                final var chars = name.toCharArray();\n-                for (int i = 0; i < chars.length; i += 2) {\n-                    chars[i] = Character.toLowerCase(chars[i]);\n-                }\n-                return new String(chars);\n-            });\n-\n-            if (name.equals(name2)) {\n-                throw new UnsupportedOperationException();\n+    private static List<TestSpec> createTestCases(Macro macro, boolean caseSensitive) {\n+        final var name = macro.name();\n+        final var name2 = name.transform(str -> {\n+            final var chars = name.toCharArray();\n+            for (int i = 0; i < chars.length; i += 2) {\n+                chars[i] = Character.toLowerCase(chars[i]);\n@@ -221,0 +210,2 @@\n+            return new String(chars);\n+        });\n@@ -222,6 +213,3 @@\n-            final var testSpec = testSpec(String.format(\"${%s}${%s}\", name, name2)).var(name, \"A\").var(name2, \"[foo]\");\n-            if (caseSensitive) {\n-                testSpec.expect(String.format(\"@@%s@@[foo]\", name, name2));\n-            } else {\n-                testSpec.expect(String.format(\"@@%s@@@@%s@@\", name, name));\n-            }\n+        if (name.equals(name2)) {\n+            throw new UnsupportedOperationException();\n+        }\n@@ -229,6 +217,6 @@\n-            final var testSpec2 = testSpec(String.format(\"${%s}${%s}\", name, name2)).var(name, \"A\");\n-            if (caseSensitive) {\n-                testSpec2.expect(String.format(\"@@%s@@${%s}\", name, name2));\n-            } else {\n-                testSpec2.expect(String.format(\"@@%s@@@@%s@@\", name, name));\n-            }\n+        final var testSpec = testSpec(String.format(\"${%s}${%s}\", name, name2)).var(name, \"A\").var(name2, \"[foo]\");\n+        if (caseSensitive) {\n+            testSpec.expect(String.format(\"@@%s@@[foo]\", name, name2));\n+        } else {\n+            testSpec.expect(String.format(\"@@%s@@@@%s@@\", name, name));\n+        }\n@@ -236,6 +224,6 @@\n-            final var testSpec3 = testSpec(String.format(\"${%s}${%s}\", name, name2));\n-            if (caseSensitive) {\n-                testSpec3.expect(String.format(\"@@%s@@${%s}\", name, name2));\n-            } else {\n-                testSpec3.expect(String.format(\"@@%s@@@@%s@@\", name, name));\n-            }\n+        final var testSpec2 = testSpec(String.format(\"${%s}${%s}\", name, name2)).var(name, \"A\");\n+        if (caseSensitive) {\n+            testSpec2.expect(String.format(\"@@%s@@${%s}\", name, name2));\n+        } else {\n+            testSpec2.expect(String.format(\"@@%s@@@@%s@@\", name, name));\n+        }\n@@ -243,1 +231,5 @@\n-            return Stream.of(testSpec, testSpec2).map(TestSpec.Builder::create).toList();\n+        final var testSpec3 = testSpec(String.format(\"${%s}${%s}\", name, name2));\n+        if (caseSensitive) {\n+            testSpec3.expect(String.format(\"@@%s@@${%s}\", name, name2));\n+        } else {\n+            testSpec3.expect(String.format(\"@@%s@@@@%s@@\", name, name));\n@@ -245,0 +237,2 @@\n+\n+        return Stream.of(testSpec, testSpec2).map(TestSpec.Builder::create).toList();\n","filename":"test\/jdk\/tools\/jpackage\/share\/AppLauncherSubstTest.java","additions":34,"deletions":40,"binary":false,"changes":74,"status":"modified"}]}
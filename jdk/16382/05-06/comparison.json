{"files":[{"patch":"@@ -4265,0 +4265,2 @@\n+  li(t0, 0x3f000000);\n+  fmv_w_x(ftmp, t0);\n@@ -4266,6 +4268,3 @@\n-  fclass_s(t0, src);\n-\n-  \/\/ dst = 0\n-  \/\/ if +\/-0, +\/-subnormal numbers, signaling\/quiet NaN\n-  andi(t0, t0, fclass_mask::nan | fclass_mask::zero | fclass_mask::subnorm);\n-  bnez(t0, done);\n+  \/\/ dst = 0 if NaN\n+  feq_s(t0, src, src);\n+  beqz(t0, done);\n@@ -4274,3 +4273,0 @@\n-  \/\/ if +\/-inf, +\/-normal numbers\n-  li(t0, 0x3f000000);\n-  fmv_w_x(ftmp, t0);\n@@ -4286,0 +4282,2 @@\n+  li(t0, 0x3fe0000000000000);\n+  fmv_d_x(ftmp, t0);\n@@ -4287,6 +4285,3 @@\n-  fclass_d(t0, src);\n-\n-  \/\/ dst = 0\n-  \/\/ if +\/-0, +\/-subnormal numbers, signaling\/quiet NaN\n-  andi(t0, t0, fclass_mask::nan | fclass_mask::zero | fclass_mask::subnorm);\n-  bnez(t0, done);\n+  \/\/ dst = 0 if NaN\n+  feq_d(t0, src, src);\n+  beqz(t0, done);\n@@ -4295,3 +4290,0 @@\n-  \/\/ if +\/-inf, +\/-normal numbers\n-  li(t0, 0x3fe0000000000000);\n-  fmv_d_x(ftmp, t0);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":10,"deletions":18,"binary":false,"changes":28,"status":"modified"}]}
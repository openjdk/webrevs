{"files":[{"patch":"@@ -50,0 +50,21 @@\n+    static String getEngineInfo(String format) throws Exception {\n+        return DockerTestUtils.execute(Container.ENGINE_COMMAND, \"info\", \"-f\", format)\n+            .shouldHaveExitValue(0)\n+            .getStdout();\n+    }\n+\n+    static boolean isPodman() {\n+        return Container.ENGINE_COMMAND.endsWith(\"podman\");\n+    }\n+\n+    static boolean isDocker() {\n+        return Container.ENGINE_COMMAND.endsWith(\"docker\");\n+    }\n+\n+    static boolean isRootless() throws Exception {\n+        return (isDocker() &&\n+                getEngineInfo(\"{{.SecurityOptions}}\").contains(\"name=rootless\")) || (\n+                isPodman() &&\n+                getEngineInfo(\"{{.Host.Security.Rootless}}\").contains(\"true\"));\n+    }\n+\n@@ -60,6 +81,1 @@\n-        if (DockerTestUtils.execute(Container.ENGINE_COMMAND,\n-                                    \"info\",\n-                                    \"-f\", \"{{println .SecurityOptions}}\")\n-                .shouldHaveExitValue(0)\n-                .getStdout()\n-                .contains(\"name=rootless\")) {\n+        if (isRootless()) {\n","filename":"test\/hotspot\/jtreg\/containers\/docker\/TestMemoryWithSubgroups.java","additions":22,"deletions":6,"binary":false,"changes":28,"status":"modified"}]}
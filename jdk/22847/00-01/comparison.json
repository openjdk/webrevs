{"files":[{"patch":"@@ -27,1 +27,1 @@\n- * @test TestPLABAdaptToMinTLABSize\n+ * @test TestPLABAdaptToMinTLABSizeG1\n@@ -30,1 +30,1 @@\n- * @requires vm.gc.Parallel | vm.gc.G1\n+ * @requires vm.gc.G1\n@@ -34,1 +34,12 @@\n- * @run driver gc.TestPLABAdaptToMinTLABSize\n+ * @run driver gc.TestPLABAdaptToMinTLABSize -XX:+UseG1GC\n+ *\/\n+\n+\/*\n+ * @test TestPLABAdaptToMinTLABSizeParallel\n+ * @bug 8289137\n+ * @summary Make sure that Young\/OldPLABSize adapt to MinTLABSize setting.\n+ * @requires vm.gc.Parallel\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.misc\n+ *          java.management\n+ * @run driver gc.TestPLABAdaptToMinTLABSize -XX:+UseParallelGC\n@@ -72,6 +83,5 @@\n-        for (String gc : Arrays.asList(\"-XX:+UseG1GC\", \"-XX:+UseParallelGC\")) {\n-            runTest(true, gc, \"-XX:MinTLABSize=100k\");\n-            \/\/ Should not succeed when explicitly specifying invalid combination.\n-            runTest(false, gc, \"-XX:MinTLABSize=100k\", \"-XX:OldPLABSize=5k\");\n-            runTest(false, gc, \"-XX:MinTLABSize=100k\", \"-XX:YoungPLABSize=5k\");\n-        }\n+        String gc = args[0];\n+        runTest(true, gc, \"-XX:MinTLABSize=100k\");\n+        \/\/ Should not succeed when explicitly specifying invalid combination.\n+        runTest(false, gc, \"-XX:MinTLABSize=100k\", \"-XX:OldPLABSize=5k\");\n+        runTest(false, gc, \"-XX:MinTLABSize=100k\", \"-XX:YoungPLABSize=5k\");\n","filename":"test\/hotspot\/jtreg\/gc\/TestPLABAdaptToMinTLABSize.java","additions":19,"deletions":9,"binary":false,"changes":28,"status":"modified"}]}
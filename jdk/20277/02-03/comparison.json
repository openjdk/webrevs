{"files":[{"patch":"@@ -42,0 +42,23 @@\n+\/\/ GCLockerTimingDebugLogger tracks specific timing information for GC lock waits.\n+class GCLockerTimingDebugLogger : public StackObj {\n+  private:\n+    const char*  _log_message;\n+    Ticks _start;\n+\n+  public:\n+    GCLockerTimingDebugLogger(const char* log_message) :\n+      _log_message(log_message) {\n+        assert(_log_message != nullptr, \"GC locker debug message must be set.\");\n+        _start = Ticks::now();\n+      }\n+\n+    ~GCLockerTimingDebugLogger() {\n+      const Tickspan elapsed_time = Ticks::now() - _start;\n+      Log(gc, jni) log;\n+      if (log.is_debug()) {\n+        ResourceMark rm; \/\/ JavaThread::name() allocates to convert to UTF8\n+        log.debug(\"%s Resumed after \" UINT64_FORMAT \"ms. Thread \\\"%s\\\".\", _log_message, elapsed_time.milliseconds(), Thread::current()->name());\n+      }\n+    }\n+};\n+\n@@ -179,15 +202,0 @@\n-\n-GCLockerTimingDebugLogger::GCLockerTimingDebugLogger(const char* log_message) :\n-  _log_message(log_message) {\n-  assert(_log_message != nullptr, \"GC locker debug message must be set.\");\n-  _start = Ticks::now();\n-}\n-\n-GCLockerTimingDebugLogger::~GCLockerTimingDebugLogger() {\n-  const Tickspan elapsed_time = Ticks::now() - _start;\n-  Log(gc, jni) log;\n-  if (log.is_debug()) {\n-    ResourceMark rm; \/\/ JavaThread::name() allocates to convert to UTF8\n-    log.debug(\"%s Resumed after \" JLONG_FORMAT \"ms. Thread \\\"%s\\\".\", _log_message, elapsed_time.milliseconds(), Thread::current()->name());\n-  }\n-}\n\\ No newline at end of file\n","filename":"src\/hotspot\/share\/gc\/shared\/gcLocker.cpp","additions":23,"deletions":15,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-#include \"utilities\/ticks.hpp\"\n@@ -154,13 +153,0 @@\n-\n-\/*\n- * GCLockerTimingDebugLogger tracks specific timing information for GC lock waits.\n- *\/\n-class GCLockerTimingDebugLogger : public StackObj {\n-private:\n-  const char*  _log_message;\n-  Ticks _start;\n-\n-public:\n-  GCLockerTimingDebugLogger(const char* log_message);\n-  ~GCLockerTimingDebugLogger();\n-};\n\\ No newline at end of file\n","filename":"src\/hotspot\/share\/gc\/shared\/gcLocker.hpp","additions":0,"deletions":14,"binary":false,"changes":14,"status":"modified"}]}
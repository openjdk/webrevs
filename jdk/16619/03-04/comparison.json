{"files":[{"patch":"@@ -426,0 +426,25 @@\n+    @Test\n+    void testThrowInCleanupSame() {\n+        AtomicInteger counter = new AtomicInteger();\n+        Throwable thrown = null;\n+        IllegalArgumentException iae = new IllegalArgumentException();\n+        try (Arena arena = Arena.ofConfined()) {\n+            for (int i = 0 ; i < 10 ; i++) {\n+                MemorySegment.ofAddress(42).reinterpret(arena, seg -> {\n+                    throw iae;\n+                });\n+            }\n+            for (int i = 10 ; i < 20 ; i++) {\n+                MemorySegment.ofAddress(42).reinterpret(100, arena, seg -> {\n+                    throw iae;\n+                });\n+            }\n+            MemorySegment.ofAddress(42).reinterpret(arena, seg -> counter.incrementAndGet());\n+        } catch (RuntimeException ex) {\n+            thrown = ex;\n+        }\n+        assertEquals(thrown, iae);\n+        assertEquals(counter.get(), 1);\n+        assertEquals(thrown.getSuppressed().length, 0);\n+    }\n+\n","filename":"test\/jdk\/java\/foreign\/TestSegments.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}
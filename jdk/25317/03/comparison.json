{"files":[{"patch":"@@ -0,0 +1,127 @@\n+<!DOCTYPE html>\n+<html xmlns=\"http:\/\/www.w3.org\/1999\/xhtml\" lang=\"\" xml:lang=\"\">\n+<head>\n+  <meta charset=\"utf-8\" \/>\n+  <meta name=\"generator\" content=\"pandoc\" \/>\n+  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" \/>\n+  <title>Explanation of start of release changes<\/title>\n+  <style>\n+    code{white-space: pre-wrap;}\n+    span.smallcaps{font-variant: small-caps;}\n+    div.columns{display: flex; gap: min(4vw, 1.5em);}\n+    div.column{flex: auto; overflow-x: auto;}\n+    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}\n+    \/* The extra [class] is a hack that increases specificity enough to\n+       override a similar rule in reveal.js *\/\n+    ul.task-list[class]{list-style: none;}\n+    ul.task-list li input[type=\"checkbox\"] {\n+      font-size: inherit;\n+      width: 0.8em;\n+      margin: 0 0.8em 0.2em -1.6em;\n+      vertical-align: middle;\n+    }\n+    .display.math{display: block; text-align: center; margin: 0.5rem auto;}\n+  <\/style>\n+  <link rel=\"stylesheet\" href=\"..\/make\/data\/docs-resources\/resources\/jdk-default.css\" \/>\n+  <!--[if lt IE 9]>\n+    <script src=\"\/\/cdnjs.cloudflare.com\/ajax\/libs\/html5shiv\/3.7.3\/html5shiv-printshiv.min.js\"><\/script>\n+  <![endif]-->\n+<\/head>\n+<body>\n+<header id=\"title-block-header\">\n+<h1 class=\"title\">Explanation of start of release changes<\/h1>\n+<\/header>\n+<nav id=\"TOC\" role=\"doc-toc\">\n+<ul>\n+<li><a href=\"#overview\" id=\"toc-overview\">Overview<\/a><\/li>\n+<li><a href=\"#details-and-file-updates\"\n+id=\"toc-details-and-file-updates\">Details and file updates<\/a>\n+<ul>\n+<li><a href=\"#meta-data-files\" id=\"toc-meta-data-files\">Meta-data\n+files<\/a><\/li>\n+<li><a href=\"#src-files\" id=\"toc-src-files\"><code>src<\/code>\n+files<\/a><\/li>\n+<li><a href=\"#test-files\" id=\"toc-test-files\"><code>test<\/code>\n+files<\/a><\/li>\n+<\/ul><\/li>\n+<\/ul>\n+<\/nav>\n+<h2 id=\"overview\">Overview<\/h2>\n+<p>The start of release changes, the changes that turn JDK <em>N<\/em>\n+into JDK (<em>N<\/em>+1), are primarily small updates to various files\n+along with new files to store symbol information to allow\n+<code>javac --release N ...<\/code> to run on JDK (<em>N<\/em>+1).<\/p>\n+<p>The updates include changes to files holding meta-data about the\n+release, files under the <code>src<\/code> directory for API and tooling\n+updates, and incidental updates under the <code>test<\/code>\n+directory.<\/p>\n+<h2 id=\"details-and-file-updates\">Details and file updates<\/h2>\n+<p>As a matter of policy, there are a number of semantically distinct\n+concepts which get incremented separately at the start of a new\n+release:<\/p>\n+<ul>\n+<li>Feature value of <code>Runtime.version()<\/code><\/li>\n+<li>Highest source version modeled by\n+<code>javax.lang.model.SourceVersion<\/code><\/li>\n+<li>Highest class file format major version recognized by the\n+platform<\/li>\n+<li>Highest\n+<code>-source<\/code>\/<code>-target<\/code>\/<code>--release<\/code>\n+argument recognized by <code>javac<\/code> and related tools<\/li>\n+<\/ul>\n+<p>The expected file updates are listed below. Additional files may need\n+to be updated for a particular release.<\/p>\n+<h3 id=\"meta-data-files\">Meta-data files<\/h3>\n+<ul>\n+<li><code>jcheck\/conf<\/code>: update meta-data used by\n+<code>jcheck<\/code> and the Skara tooling<\/li>\n+<li><code>make\/conf\/version-numbers.conf<\/code>: update to meta-data\n+used in the build<\/li>\n+<\/ul>\n+<h3 id=\"src-files\"><code>src<\/code> files<\/h3>\n+<ul>\n+<li><code>src\/hotspot\/share\/classfile\/classFileParser.cpp<\/code>: add a\n+<code>#define<\/code> for the new version<\/li>\n+<li><code>src\/java.base\/share\/classes\/java\/lang\/classfile\/ClassFile.java<\/code>:\n+add a constant for the new class file format version<\/li>\n+<li><code>src\/java.base\/share\/classes\/java\/lang\/reflect\/ClassFileFormatVersion.java<\/code>:\n+add an <code>enum<\/code> constant for the new class file format\n+version<\/li>\n+<li><code>src\/java.compiler\/share\/classes\/javax\/lang\/model\/SourceVersion.java<\/code>:\n+add an <code>enum<\/code> constant for the new source version<\/li>\n+<li><code>src\/java.compiler\/share\/classes\/javax\/lang\/model\/util\/*<\/code>\n+visitors: Update <code>@SupportedSourceVersion<\/code> annotations to\n+latest value. Note this update is done in lieu of introducing another\n+set of visitors for each Java SE release.<\/li>\n+<li><code>src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Source.java<\/code>:\n+add an <code>enum<\/code> constant for the new source version internal to\n+<code>javac<\/code><\/li>\n+<li><code>src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassFile.java<\/code>:\n+add an <code>enum<\/code> constant for the new class file format version\n+internal to <code>javac<\/code><\/li>\n+<li><code>src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/Target.java<\/code>:\n+add an <code>enum<\/code> constant for the new target version internal to\n+<code>javac<\/code><\/li>\n+<li><code>src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/processing\/PrintingProcessor.java<\/code>\n+update printing processor to support the new source version<\/li>\n+<li>The symbol information for <code>--release<\/code> is stored as new\n+text files in the <code>src\/jdk.compiler\/share\/data\/symbols<\/code>\n+directory, one file per module. The README file in that directory\n+contains directions on how to create the files.<\/li>\n+<\/ul>\n+<h3 id=\"test-files\"><code>test<\/code> files<\/h3>\n+<ul>\n+<li><code>test\/langtools\/tools\/javac\/api\/TestGetSourceVersions.java<\/code>:\n+add new <code>SourceVersion<\/code> constant to test matrix.<\/li>\n+<li><code>test\/langtools\/tools\/javac\/classfiles\/ClassVersionChecker.java<\/code>:\n+add new enum constant for the new class file version<\/li>\n+<li><code>test\/langtools\/tools\/javac\/lib\/JavacTestingAbstractProcessor.java<\/code>\n+update annotation processor extended by <code>javac<\/code> tests to\n+cover the new source version<\/li>\n+<li><code>test\/langtools\/tools\/javac\/preview\/classReaderTest\/Client.nopreview.out<\/code>\n+and\n+<code>test\/langtools\/tools\/javac\/preview\/classReaderTest\/Client.preview.out<\/code>:\n+update expected messages for preview errors and warnings<\/li>\n+<\/ul>\n+<\/body>\n+<\/html>\n","filename":"doc\/starting-next-release.html","additions":127,"deletions":0,"binary":false,"changes":127,"status":"added"},{"patch":"@@ -0,0 +1,68 @@\n+% Explanation of start of release changes\n+\n+## Overview\n+\n+The start of release changes, the changes that turn JDK _N_ into JDK\n+(_N_+1), are primarily small updates to various files along with new files to\n+store symbol information to allow `javac --release N ...` to run on\n+JDK (_N_+1).\n+\n+The updates include changes to files holding meta-data about the\n+release, files under the `src` directory for API and tooling updates,\n+and incidental updates under the `test` directory.\n+\n+## Details and file updates\n+\n+As a matter of policy, there are a number of semantically distinct\n+concepts which get incremented separately at the start of a new\n+release:\n+\n+* Feature value of `Runtime.version()`\n+* Highest source version modeled by `javax.lang.model.SourceVersion`\n+* Highest class file format major version recognized by the platform\n+* Highest `-source`\/`-target`\/`--release` argument recognized by\n+  `javac` and related tools\n+\n+The expected file updates are listed below. Additional files may need\n+to be updated for a particular release.\n+\n+### Meta-data files\n+\n+* `jcheck\/conf`: update meta-data used by `jcheck` and the Skara tooling\n+* `make\/conf\/version-numbers.conf`: update to meta-data used in the build\n+\n+### `src` files\n+\n+* `src\/hotspot\/share\/classfile\/classFileParser.cpp`: add a `#define`\n+  for the new version\n+* `src\/java.base\/share\/classes\/java\/lang\/classfile\/ClassFile.java`:\n+  add a constant for the new class file format version\n+* `src\/java.base\/share\/classes\/java\/lang\/reflect\/ClassFileFormatVersion.java`:\n+   add an `enum` constant for the new class file format version\n+* `src\/java.compiler\/share\/classes\/javax\/lang\/model\/SourceVersion.java`:\n+  add an `enum` constant for the new source version\n+* `src\/java.compiler\/share\/classes\/javax\/lang\/model\/util\/*` visitors: Update\n+  `@SupportedSourceVersion` annotations to latest value. Note this update\n+  is done in lieu of introducing another set of visitors for each Java\n+  SE release.\n+* `src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Source.java`:\n+   add an `enum` constant for the new source version internal to `javac`\n+* `src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassFile.java`:\n+   add an `enum` constant for the new class file format version internal to `javac`\n+* `src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/Target.java`:\n+   add an `enum` constant for the new target version internal to `javac`\n+* `src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/processing\/PrintingProcessor.java`\n+   update printing processor to support the new source version\n+* The symbol information for `--release` is stored as new text files in the\n+  `src\/jdk.compiler\/share\/data\/symbols` directory, one file per\n+  module. The README file in that directory contains directions on how\n+  to create the files.\n+\n+### `test` files\n+\n+* `test\/langtools\/tools\/javac\/api\/TestGetSourceVersions.java`: add new `SourceVersion` constant to test matrix.\n+* `test\/langtools\/tools\/javac\/classfiles\/ClassVersionChecker.java`: add new enum constant for the new class file version\n+* `test\/langtools\/tools\/javac\/lib\/JavacTestingAbstractProcessor.java`\n+   update annotation processor extended by `javac` tests to cover the new source version\n+* `test\/langtools\/tools\/javac\/preview\/classReaderTest\/Client.nopreview.out` and `test\/langtools\/tools\/javac\/preview\/classReaderTest\/Client.preview.out`: update expected messages for preview errors and warnings\n+\n","filename":"doc\/starting-next-release.md","additions":68,"deletions":0,"binary":false,"changes":68,"status":"added"}]}
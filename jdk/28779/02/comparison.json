{"files":[{"patch":"@@ -1055,1 +1055,5 @@\n-  if (is_obj_deopt_suspend()) {\n+  \/\/ We mustn't block for object deopt if the thread is\n+  \/\/ currently executing in a JNI critical region, as that\n+  \/\/ can cause deadlock because allocation may be locked out\n+  \/\/ and the object deopt suspender may try to allocate.\n+  if (is_obj_deopt_suspend() && !in_critical()) {\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
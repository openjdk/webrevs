{"files":[{"patch":"@@ -87,0 +87,1 @@\n+    private static final SSLContext serverSSLCtx = SimpleSSLContext.findSSLContext();\n@@ -171,2 +172,0 @@\n-        final SSLContext serverSSLCtx = new SimpleSSLContext().get();\n-        assertNotNull(serverSSLCtx, \"could not create SSLContext\");\n@@ -279,2 +278,0 @@\n-        final SSLContext serverSSLCtx = new SimpleSSLContext().get();\n-        assertNotNull(serverSSLCtx, \"could not create SSLContext\");\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/HttpsParametersClientAuthTest.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -125,1 +125,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/SANTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -87,1 +87,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/SelCacheTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -97,1 +97,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test1.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -80,1 +80,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test12.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -90,1 +90,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test13.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -58,1 +58,1 @@\n-        SSLContext ssl = new SimpleSSLContext().get();\n+        SSLContext ssl = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test6a.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-        SSLContext ssl = new SimpleSSLContext().get();\n+        SSLContext ssl = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test7a.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-            SSLContext ssl = new SimpleSSLContext().get();\n+            SSLContext ssl = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test8a.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -86,1 +86,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test9.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -59,2 +59,2 @@\n-    static SSLContext serverCtx;\n-    static volatile SSLContext clientCtx = null;\n+    private static final SSLContext serverCtx = SimpleSSLContext.findSSLContext();\n+    private static final SSLContext clientCtx = SimpleSSLContext.findSSLContext();\n@@ -79,2 +79,0 @@\n-            serverCtx = new SimpleSSLContext().get();\n-            clientCtx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/Test9a.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -80,1 +80,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/HandlerConnectionClose.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -72,1 +72,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/HttpsServerAlertTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -80,1 +80,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/HttpsServerTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -89,4 +89,0 @@\n-\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/MaxRequestTimeTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -145,10 +145,6 @@\n-        try {\n-            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n-                public boolean verify(String hostname, SSLSession session) {\n-                    return true;\n-                }\n-            });\n-            SSLContext.setDefault(new SimpleSSLContext().get());\n-        } catch (IOException ex) {\n-            throw new ExceptionInInitializerError(ex);\n-        }\n+        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n+            public boolean verify(String hostname, SSLSession session) {\n+                return true;\n+            }\n+        });\n+        SSLContext.setDefault(SimpleSSLContext.findSSLContext());\n","filename":"test\/jdk\/java\/net\/HttpURLConnection\/SetAuthenticator\/HTTPTest.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -115,1 +115,1 @@\n-            \/\/               new SimpleSSLContext().get().getSocketFactory());\n+            \/\/               SimpleSSLContext.findSSLContext().getSocketFactory());\n","filename":"test\/jdk\/java\/net\/HttpURLConnection\/SetAuthenticator\/HTTPTestClient.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -226,1 +226,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -246,2 +246,0 @@\n-\n-        ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/URLPermission\/URLTest.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,9 +47,1 @@\n-    static final SSLContext context;\n-    static {\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n-    }\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/ALPNProxyFailureTest.java","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -189,3 +189,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractNoBody.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -786,4 +786,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingPublishers.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -108,1 +108,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -763,4 +763,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingPushPromises.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -827,4 +827,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/AbstractThrowingSubscribers.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -858,4 +858,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/AggregateRequestBodyTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -70,5 +70,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/AltServiceUsageTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -354,4 +354,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/AsFileDownloadTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -415,3 +415,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/AsyncExecutorShutdown.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -409,3 +409,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/AsyncShutdownNow.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = jdk.test.lib.net.SimpleSSLContext.findSSLContext();\n@@ -81,6 +81,1 @@\n-        try {\n-            context = new jdk.test.lib.net.SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/AuthFilterCacheTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-                ? new SimpleSSLContext().get() : null;\n+                ? SimpleSSLContext.findSSLContext() : null;\n","filename":"test\/jdk\/java\/net\/httpclient\/BasicAuthTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -242,4 +242,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/BasicHTTP2Test.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -346,4 +346,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/BasicHTTP3Test.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -273,4 +273,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/BasicRedirectTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-        var sslContext = secure || HTTP_3.equals(version) ? new SimpleSSLContext().get() : null;\n+        var sslContext = secure || HTTP_3.equals(version) ? SimpleSSLContext.findSSLContext() : null;\n","filename":"test\/jdk\/java\/net\/httpclient\/BufferSize1Test.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -645,4 +645,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelRequestTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -355,4 +355,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelStreamedBodyTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -166,4 +166,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelledPartialResponseTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-    final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -100,1 +100,0 @@\n-        context = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelledResponse.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -155,2 +155,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelledResponse2.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -306,4 +306,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ConcurrentResponses.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -89,1 +89,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/ContentLengthHeaderTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -197,4 +197,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CookieHeaderTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,1 +72,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -342,4 +342,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CustomRequestPublisher.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -190,4 +190,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/CustomResponseSubscriber.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -646,4 +646,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/DependentActionsTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -704,4 +704,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/DependentPromiseActionsTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -168,1 +168,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -170,6 +170,1 @@\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/DigestEchoClient.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -105,9 +105,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n-\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new UncheckedIOException(exception);\n-        }\n-    }\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/DurationOverflowTest.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n@@ -63,8 +63,0 @@\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new RuntimeException(exception);\n-        }\n-    }\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/EmptyAuthenticate.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -314,4 +314,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/EncodedCharsInURI.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -270,4 +270,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/EscapedOctetsInURI.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -314,4 +314,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ExecutorShutdown.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -142,4 +142,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ExpectContinue.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n@@ -105,8 +105,0 @@\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new UncheckedIOException(exception);\n-        }\n-    }\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/FileChannelPublisherTest.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -186,4 +186,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/FilePublisherTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -361,4 +361,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/FlowAdapterPublisherTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -636,4 +636,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/FlowAdapterSubscriberTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -85,1 +85,0 @@\n-import static org.testng.Assert.assertNotNull;\n@@ -89,1 +88,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -339,4 +338,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ForbiddenHeadTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -492,4 +492,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/GZIPInputStreamTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -150,4 +150,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/HeadTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -79,4 +79,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/HeadersLowerCaseTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -59,9 +59,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n-\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new RuntimeException(exception);\n-        }\n-    }\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientAuthRetryLimitTest.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -321,1 +321,1 @@\n-        SSLContext a = (new SimpleSSLContext()).get();\n+        SSLContext a = SimpleSSLContext.findSSLContext();\n@@ -326,1 +326,1 @@\n-        SSLContext b = (new SimpleSSLContext()).get();\n+        SSLContext b = SimpleSSLContext.findSSLContext();\n@@ -332,1 +332,1 @@\n-        SSLContext c = (new SimpleSSLContext()).get();\n+        SSLContext c = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientBuilderTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -346,3 +346,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientClose.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -86,3 +86,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        Assert.assertNotNull(sslContext, \"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientLocalAddrTest.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -98,2 +98,1 @@\n-        final SSLContext sslContext = new SimpleSSLContext().get();\n-        assertNotNull(sslContext, \"could not create a SSLContext\");\n+        final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -152,2 +151,1 @@\n-        final SSLContext sslContext = new SimpleSSLContext().get();\n-        assertNotNull(sslContext, \"could not create a SSLContext\");\n+        final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientSNITest.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -467,3 +467,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientShutdown.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -101,5 +101,1 @@\n-            try {\n-                builder.sslContext(new SimpleSSLContext().get());\n-            } catch (IOException io) {\n-                throw new UncheckedIOException(io);\n-            }\n+            builder.sslContext(SimpleSSLContext.findSSLContext());\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpGetInCancelledFuture.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -85,6 +85,1 @@\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpRedirectTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n@@ -123,8 +123,0 @@\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new UncheckedIOException(exception);\n-        }\n-    }\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpResponseConnectionLabelTest.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -110,9 +110,1 @@\n-        private static final SSLContext SSL_CONTEXT = createSslContext();\n-\n-        private static SSLContext createSslContext() {\n-            try {\n-                return new SimpleSSLContext().get();\n-            } catch (IOException exception) {\n-                throw new UncheckedIOException(exception);\n-            }\n-        }\n+        private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpResponseLimitingTest.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -90,6 +90,1 @@\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpSlowServerTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -208,4 +208,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpVersionsTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -79,6 +79,1 @@\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpsTunnelAuthTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -87,6 +87,1 @@\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpsTunnelTest.java","additions":3,"deletions":8,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -415,4 +415,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ISO_8859_1_Test.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -115,1 +115,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/IdleConnectionTimeoutTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -71,1 +71,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -178,4 +178,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ImmutableFlowItems.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -98,4 +98,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/ImmutableSSLSessionTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -568,4 +568,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/InvalidInputStreamSubscriptionRequest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -65,1 +65,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -150,4 +150,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/InvalidSSLContextTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -464,4 +464,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/InvalidSubscriptionRequest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-    static final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -87,6 +87,1 @@\n-        try {\n-            context = new SimpleSSLContext().get();\n-            SSLContext.setDefault(context);\n-        } catch (Exception x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(context);\n","filename":"test\/jdk\/java\/net\/httpclient\/LargeResponseTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,1 +58,1 @@\n-    static SSLContext ctx;\n+    static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -114,1 +114,0 @@\n-        ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/LightWeightHttpServer.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -89,1 +89,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -680,4 +680,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/LineBodyHandlerTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-        SSLContext ctx = new SimpleSSLContext().get();\n+        SSLContext ctx = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/ManyRequests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,1 +108,1 @@\n-        SSLContext ctx = new SimpleSSLContext().get();\n+        SSLContext ctx = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/ManyRequestsLegacy.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -78,1 +78,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -218,4 +218,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/MappingResponseSubscriber.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-    SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -166,1 +166,0 @@\n-        ctx = (new SimpleSSLContext()).get();\n","filename":"test\/jdk\/java\/net\/httpclient\/MaxStreams.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -283,4 +283,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/NonAsciiCharsInURI.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -211,4 +211,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/BodyHandlerOfFileDownloadTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -219,4 +219,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/BodyHandlerOfFileTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -249,4 +249,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/PathSubscriber\/BodySubscriberOfFileTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -136,4 +136,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/PlainConnectionLockTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -89,1 +89,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -323,4 +323,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ProxySelectorTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,10 +83,6 @@\n-        try {\n-            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n-                    public boolean verify(String hostname, SSLSession session) {\n-                        return true;\n-                    }\n-                });\n-            SSLContext.setDefault(new SimpleSSLContext().get());\n-        } catch (IOException ex) {\n-            throw new ExceptionInInitializerError(ex);\n-        }\n+        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n+            public boolean verify(String hostname, SSLSession session) {\n+                return true;\n+            }\n+        });\n+        SSLContext.setDefault(SimpleSSLContext.findSSLContext());\n","filename":"test\/jdk\/java\/net\/httpclient\/ProxyTest.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -206,4 +206,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/RedirectMethodChange.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -80,4 +80,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/RedirectTimeoutTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -163,4 +163,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/RedirectWithCookie.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -110,4 +110,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/Response1xxTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -287,4 +287,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/Response204V2Test.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -541,3 +541,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/ResponseBodyBeforeError.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -459,4 +459,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ResponsePublisher.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -161,4 +161,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/RetryWithCookie.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -80,1 +80,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -229,4 +229,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ServerCloseTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -85,1 +85,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -660,3 +660,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/ShortResponseBody.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -324,4 +324,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/ShutdownNow.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -124,1 +124,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -811,1 +811,0 @@\n-        ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/SmokeTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -558,3 +558,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/SpecialHeadersTest.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-    final SSLContext context;\n+    private static final SSLContext context = SimpleSSLContext.findSSLContext();\n@@ -99,1 +99,1 @@\n-    SplitResponse(boolean useSSL) throws IOException {\n+    SplitResponse(boolean useSSL) {\n@@ -101,1 +101,0 @@\n-        context = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/SplitResponse.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -129,4 +129,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/StreamingBody.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -86,5 +86,1 @@\n-        try {\n-            SSLContext.setDefault(new SimpleSSLContext().get());\n-        } catch (IOException x) {\n-            throw new ExceptionInInitializerError(x);\n-        }\n+        SSLContext.setDefault(SimpleSSLContext.findSSLContext());\n","filename":"test\/jdk\/java\/net\/httpclient\/TimeoutBasic.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n@@ -129,8 +129,0 @@\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new UncheckedIOException(exception);\n-        }\n-    }\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/TimeoutResponseTestSupport.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-        server = SimpleSSLContext.getContext(\"TLS\");\n+        server = SimpleSSLContext.findSSLContext(\"TLS\");\n@@ -92,7 +92,7 @@\n-                { SimpleSSLContext.getContext(\"TLS\"),     HTTP_2,   \"TLSv1.3\" },\n-                { SimpleSSLContext.getContext(\"TLSv1.2\"), HTTP_2,   \"TLSv1.2\" },\n-                { SimpleSSLContext.getContext(\"TLSv1.1\"), HTTP_1_1, \"TLSv1.1\" },\n-                { SimpleSSLContext.getContext(\"TLSv1.1\"), HTTP_2,   \"TLSv1.1\" },\n-                { SimpleSSLContext.getContext(\"TLSv1.3\"), HTTP_3,   \"TLSv1.3\" },\n-                { SimpleSSLContext.getContext(\"TLSv1.2\"), HTTP_3,   \"TLSv1.2\" },\n-                { SimpleSSLContext.getContext(\"TLSv1.1\"), HTTP_3,   \"TLSv1.1\" },\n+                { SimpleSSLContext.findSSLContext(\"TLS\"),     HTTP_2,   \"TLSv1.3\" },\n+                { SimpleSSLContext.findSSLContext(\"TLSv1.2\"), HTTP_2,   \"TLSv1.2\" },\n+                { SimpleSSLContext.findSSLContext(\"TLSv1.1\"), HTTP_1_1, \"TLSv1.1\" },\n+                { SimpleSSLContext.findSSLContext(\"TLSv1.1\"), HTTP_2,   \"TLSv1.1\" },\n+                { SimpleSSLContext.findSSLContext(\"TLSv1.3\"), HTTP_3,   \"TLSv1.3\" },\n+                { SimpleSSLContext.findSSLContext(\"TLSv1.2\"), HTTP_3,   \"TLSv1.2\" },\n+                { SimpleSSLContext.findSSLContext(\"TLSv1.1\"), HTTP_3,   \"TLSv1.1\" },\n","filename":"test\/jdk\/java\/net\/httpclient\/TlsContextTest.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -210,4 +210,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/UnauthorizedTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-    volatile SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -70,1 +70,0 @@\n-        ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/UnknownBodyLengthTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-        SSLContext sslContext = new SimpleSSLContext().get();\n+        SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -120,1 +120,1 @@\n-        SSLContext sslContext = new SimpleSSLContext().get();\n+        SSLContext sslContext = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/UserAuthWithAuthenticator.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -205,4 +205,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/UserCookieTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -245,4 +245,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/BadHeadersTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -79,2 +79,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/BasicTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -243,4 +243,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ConnectionFlowControlTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -71,1 +71,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -83,2 +83,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        assertNotNull(sslContext, \"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ConnectionReuseTest.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -213,4 +213,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ContinuationFrameTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-        SSLContext sslContext = (new SimpleSSLContext()).get();\n+        SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -96,1 +96,1 @@\n-            SSLContext serverContext = (new SimpleSSLContext()).get();\n+            SSLContext serverContext = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ErrorTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -71,2 +71,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/FixedThreadPoolTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-    private static SSLContext sslCtx;\n+    private static final SSLContext sslCtx = SimpleSSLContext.findSSLContext();\n@@ -76,2 +76,0 @@\n-        sslCtx = new SimpleSSLContext().get();\n-        assertNotNull(sslCtx, \"SSLContext couldn't be created\");\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/H2GoAwayTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -138,4 +138,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/H2SelectorVTTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -67,2 +67,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/NoBodyTest.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,5 +67,1 @@\n-        try {\n-            SSLContext.setDefault(new SimpleSSLContext().get());\n-        } catch (IOException ex) {\n-            throw new ExceptionInInitializerError(ex);\n-        }\n+        SSLContext.setDefault(SimpleSSLContext.findSSLContext());\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/ProxyTest2.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -79,2 +79,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n@@ -97,3 +95,0 @@\n-        SimpleSSLContext sslct = new SimpleSSLContext();\n-        var sslContext = sslct.get();\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/SimpleGet.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -269,4 +269,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/StreamFlowControlTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,1 +63,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -67,1 +67,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/UserInfoTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        SSLContext sslContext = (new SimpleSSLContext()).get();\n+        SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -83,1 +83,1 @@\n-            SSLContext serverContext = (new SimpleSSLContext()).get();\n+            SSLContext serverContext = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/BadCipherSuiteErrorTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -403,4 +403,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/GetHTTP3Test.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -275,4 +275,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3BadHeadersTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -92,2 +92,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3BasicTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -115,1 +115,1 @@\n-        server = HttpTestServer.create(ANY, new SimpleSSLContext().get());\n+        server = HttpTestServer.create(ANY, SimpleSSLContext.findSSLContext());\n@@ -196,1 +196,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ConcurrentPush.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -90,2 +90,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ConnectionPoolTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -213,5 +213,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3DataLimitsTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -233,4 +233,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ErrorHandlingTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -80,2 +80,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3FixedThreadPoolTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-    private static SSLContext sslCtx;\n+    private static final SSLContext sslCtx = SimpleSSLContext.findSSLContext();\n@@ -75,2 +75,0 @@\n-        sslCtx = new SimpleSSLContext().get();\n-        assertNotNull(sslCtx, \"SSLContext couldn't be created\");\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3GoAwayTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -73,4 +73,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3HeaderSizeLimitTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -87,4 +87,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3HeadersEncoding.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    private static SSLContext sslCtx;\n+    private static final SSLContext sslCtx = SimpleSSLContext.findSSLContext();\n@@ -77,2 +77,0 @@\n-        sslCtx = new SimpleSSLContext().get();\n-        assert sslCtx != null : \"SSLContext is null\";\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3IdleExceedsQuicIdleTimeout.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-        server = HttpTestServer.create(ANY, new SimpleSSLContext().get());\n+        server = HttpTestServer.create(ANY, SimpleSSLContext.findSSLContext());\n@@ -128,1 +128,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ImplicitPushCancel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -125,4 +125,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3InsertionsLimitTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -82,4 +82,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3LogHandshakeErrors.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -302,4 +302,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3MalformedResponseTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -227,4 +227,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3MaxInitialTimeoutTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -79,4 +79,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3MemoryHandlingTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -175,1 +175,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -183,2 +183,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n@@ -201,3 +199,0 @@\n-        SimpleSSLContext sslct = new SimpleSSLContext();\n-        var sslContext = sslct.get();\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3MultipleConnectionsToSameHost.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -68,5 +68,1 @@\n-        try {\n-            SSLContext.setDefault(new SimpleSSLContext().get());\n-        } catch (IOException ex) {\n-            throw new ExceptionInInitializerError(ex);\n-        }\n+        SSLContext.setDefault(SimpleSSLContext.findSSLContext());\n@@ -160,1 +156,1 @@\n-                    .sslContext(new SimpleSSLContext().get())\n+                    .sslContext(SimpleSSLContext.findSSLContext())\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ProxyTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-        server = HttpTestServer.create(ANY, new SimpleSSLContext().get());\n+        server = HttpTestServer.create(ANY, SimpleSSLContext.findSSLContext());\n@@ -140,1 +140,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n@@ -246,1 +246,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3PushCancel.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-        SSLContext context = new SimpleSSLContext().get();\n+        SSLContext context = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3QuicTLSConnection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -142,4 +142,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3QuicVTTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -109,2 +109,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3RedirectTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -79,2 +79,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        assertNotNull(sslContext, \"SSLContext could not be constructed\");\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3RequestRejectedTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-        var sslContext = new SimpleSSLContext().get();\n+        var sslContext = SimpleSSLContext.findSSLContext();\n@@ -136,1 +136,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n@@ -186,1 +186,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n@@ -234,1 +234,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n@@ -266,1 +266,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n@@ -319,1 +319,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n@@ -364,1 +364,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ServerPush.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-        server = HttpTestServer.create(ANY, new SimpleSSLContext().get());\n+        server = HttpTestServer.create(ANY, SimpleSSLContext.findSSLContext());\n@@ -225,1 +225,1 @@\n-                .sslContext(new SimpleSSLContext().get())\n+                .sslContext(SimpleSSLContext.findSSLContext())\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ServerPushCancel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -98,9 +98,1 @@\n-    private static final SSLContext SSL_CONTEXT = createSslContext();\n-\n-    private static SSLContext createSslContext() {\n-        try {\n-            return new SimpleSSLContext().get();\n-        } catch (IOException exception) {\n-            throw new RuntimeException(exception);\n-        }\n-    }\n+    private static final SSLContext SSL_CONTEXT = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ServerPushTest.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -98,1 +98,1 @@\n-        var sslContext = new SimpleSSLContext().get();\n+        var sslContext = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3ServerPushWithDiffTypes.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -211,1 +211,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -219,2 +219,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n@@ -237,3 +235,0 @@\n-        SimpleSSLContext sslct = new SimpleSSLContext();\n-        var sslContext = sslct.get();\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3SimpleGet.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -75,2 +75,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n@@ -93,3 +91,0 @@\n-        SimpleSSLContext sslct = new SimpleSSLContext();\n-        var sslContext = sslct.get();\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3SimplePost.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -76,1 +76,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -82,4 +82,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3SimpleTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -131,1 +131,0 @@\n-        sslContext  = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3StopSendingTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -152,2 +152,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3StreamLimitReachedTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-        SSLContext context = new SimpleSSLContext().get();\n+        SSLContext context = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3Timeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -77,1 +77,0 @@\n-        sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/H3UserInfoTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -86,2 +86,0 @@\n-            SimpleSSLContext sslct = new SimpleSSLContext();\n-            sslContext = sslct.get();\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/HTTP3NoBodyTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -154,4 +154,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/Http3ExpectContinueTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -446,3 +446,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/PostHTTP3Test.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -73,4 +73,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/StopSendingTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -102,4 +102,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/http3\/StreamLimitTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -89,1 +89,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -97,4 +97,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/KeyUpdateTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -77,4 +77,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/PacketLossTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-    private SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -69,4 +69,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/QuicRequestResponseTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -81,4 +81,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/StatelessResetReceiptTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-    private static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -69,4 +69,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null) {\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-        }\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/VersionNegotiationTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,1 +53,1 @@\n-        SSLContext ctx = SimpleSSLContext.getContext(\"TLSv1.3\");\n+        SSLContext ctx = SimpleSSLContext.findSSLContext(\"TLSv1.3\");\n@@ -71,1 +71,1 @@\n-        SSLContext ctx = SimpleSSLContext.getContext(\"TLSv1.3\");\n+        SSLContext ctx = SimpleSSLContext.findSSLContext(\"TLSv1.3\");\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/tls\/QuicTLSEngineBadParametersTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-        SSLContext ctx = SimpleSSLContext.getContext(\"TLSv1.3\");\n+        SSLContext ctx = SimpleSSLContext.findSSLContext(\"TLSv1.3\");\n@@ -66,1 +66,1 @@\n-        SSLContext ctx = SimpleSSLContext.getContext(\"TLSv1.3\");\n+        SSLContext ctx = SimpleSSLContext.findSSLContext(\"TLSv1.3\");\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/tls\/QuicTLSEngineFailedALPNTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,1 +51,1 @@\n-        SSLContext ctx = SimpleSSLContext.getContext(\"TLSv1.3\");\n+        SSLContext ctx = SimpleSSLContext.findSSLContext(\"TLSv1.3\");\n@@ -66,1 +66,1 @@\n-        SSLContext ctx = SimpleSSLContext.getContext(\"TLSv1.3\");\n+        SSLContext ctx = SimpleSSLContext.findSSLContext(\"TLSv1.3\");\n","filename":"test\/jdk\/java\/net\/httpclient\/quic\/tls\/QuicTLSEngineMissingParametersTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -138,5 +138,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/websocket\/HandshakeUrlEncodingTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-    SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -164,4 +164,0 @@\n-        sslContext = new SimpleSSLContext().get();\n-        if (sslContext == null)\n-            throw new AssertionError(\"Unexpected null sslContext\");\n-\n","filename":"test\/jdk\/java\/net\/httpclient\/websocket\/WSHandshakeExceptionTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,5 +82,1 @@\n-        try {\n-            SSLContext.setDefault(new SimpleSSLContext().get());\n-        } catch (IOException ex) {\n-            throw new ExceptionInInitializerError(ex);\n-        }\n+        SSLContext.setDefault(SimpleSSLContext.findSSLContext());\n","filename":"test\/jdk\/java\/net\/httpclient\/websocket\/WebSocketProxyTest.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -110,1 +110,1 @@\n-    static SSLContext server;\n+    private static final SSLContext server = SimpleSSLContext.findSSLContext();\n@@ -114,1 +114,0 @@\n-        server = SimpleSSLContext.getContext(\"TLS\");\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/AltSvcFrameTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -90,1 +90,1 @@\n-    static SSLContext server;\n+    private static final SSLContext server = SimpleSSLContext.findSSLContext();\n@@ -94,1 +94,0 @@\n-        server = SimpleSSLContext.getContext(\"TLS\");\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/AltSvcRegistryTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @compile\/module=java.net.http ..\/..\/..\/..\/..\/..\/lib\/jdk\/test\/lib\/net\/SimpleSSLContext.java\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/FlowTestDriver.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @compile\/module=java.net.http ..\/..\/..\/..\/..\/..\/lib\/jdk\/test\/lib\/net\/SimpleSSLContext.java\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/SSLEchoTubeTestDriver.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @compile\/module=java.net.http ..\/..\/..\/..\/..\/..\/lib\/jdk\/test\/lib\/net\/SimpleSSLContext.java\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/SSLFlowDelegateTestDriver.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+ * @compile\/module=java.net.http ..\/..\/..\/..\/..\/..\/lib\/jdk\/test\/lib\/net\/SimpleSSLContext.java\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/SSLTubeTestDriver.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -289,2 +289,2 @@\n-    protected static SSLEngine createSSLEngine(boolean client) throws IOException {\n-        SSLContext context = (new SimpleSSLContext()).get();\n+    protected static SSLEngine createSSLEngine(boolean client) {\n+        SSLContext context = SimpleSSLContextWhiteboxAdapter.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/AbstractSSLTubeTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -79,1 +79,1 @@\n-        SSLContext ctx = (new SimpleSSLContext()).get();\n+        SSLContext ctx = SimpleSSLContextWhiteboxAdapter.findSSLContext();\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/FlowTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,1 +74,0 @@\n-    private SSLContext sslContext;\n@@ -83,1 +82,0 @@\n-        this.sslContext = new jdk.internal.net.http.SimpleSSLContext().get();\n@@ -90,1 +88,2 @@\n-        this.sslServerSocket = startServer(this.sslContext);\n+        var sslContext = SimpleSSLContextWhiteboxAdapter.findSSLContext();\n+        this.sslServerSocket = startServer(sslContext);\n@@ -94,1 +93,1 @@\n-        this.clientEngine = createClientEngine(this.sslContext);\n+        this.clientEngine = createClientEngine(sslContext);\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/SSLFlowDelegateTest.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-                new SSLLoopbackSubscriber((new SimpleSSLContext()).get(),\n+                new SSLLoopbackSubscriber(SimpleSSLContextWhiteboxAdapter.findSSLContext(),\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/SSLTubeTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,95 +0,0 @@\n-\/*\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-package jdk.internal.net.http;\n-\n-import java.io.File;\n-import java.io.FileInputStream;\n-import java.io.IOException;\n-import java.io.InputStream;\n-import java.security.KeyManagementException;\n-import java.security.KeyStore;\n-import java.security.KeyStoreException;\n-import java.security.NoSuchAlgorithmException;\n-import java.security.UnrecoverableKeyException;\n-import java.security.cert.CertificateException;\n-import java.util.StringTokenizer;\n-\n-import javax.net.ssl.KeyManagerFactory;\n-import javax.net.ssl.SSLContext;\n-import javax.net.ssl.TrustManagerFactory;\n-\n-\/**\n- * Creates a simple usable SSLContext for SSLSocketFactory\n- * or a HttpsServer using a default keystore in the test tree.\n- *\/\n-public class SimpleSSLContext {\n-\n-    private final SSLContext ssl;\n-\n-    \/**\n-     * Loads default keystore from SimpleSSLContext source directory\n-     *\/\n-    public SimpleSSLContext() throws IOException {\n-        String paths = System.getProperty(\"test.src.path\");\n-        StringTokenizer st = new StringTokenizer(paths, File.pathSeparator);\n-        SSLContext sslContext = null;\n-        while (st.hasMoreTokens()) {\n-            String path = st.nextToken();\n-            File f = new File(path, \"..\/..\/..\/..\/..\/lib\/jdk\/test\/lib\/net\/testkeys\");\n-            if (f.exists()) {\n-                try (FileInputStream fis = new FileInputStream(f)) {\n-                    sslContext = init(fis);\n-                    break;\n-                }\n-            }\n-        }\n-        ssl = sslContext;\n-    }\n-\n-    private SSLContext init(InputStream i) throws IOException {\n-        try {\n-            char[] passphrase = \"passphrase\".toCharArray();\n-            KeyStore ks = KeyStore.getInstance(\"PKCS12\");\n-            ks.load(i, passphrase);\n-\n-            KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"PKIX\");\n-            kmf.init(ks, passphrase);\n-\n-            TrustManagerFactory tmf = TrustManagerFactory.getInstance(\"PKIX\");\n-            tmf.init(ks);\n-\n-            SSLContext ssl = SSLContext.getInstance(\"TLS\");\n-            ssl.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n-            return ssl;\n-        } catch (KeyManagementException | KeyStoreException |\n-                UnrecoverableKeyException | CertificateException |\n-                NoSuchAlgorithmException e) {\n-            throw new RuntimeException(e.getMessage());\n-        }\n-    }\n-\n-    public SSLContext get() {\n-        return ssl;\n-    }\n-}\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/SimpleSSLContext.java","additions":0,"deletions":95,"binary":false,"changes":95,"status":"deleted"},{"patch":"@@ -0,0 +1,48 @@\n+\/*\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package jdk.internal.net.http;\n+\n+import jdk.test.lib.net.SimpleSSLContext;\n+\n+import javax.net.ssl.SSLContext;\n+\n+\/**\n+ * Adapter for {@link SimpleSSLContext} for whitebox tests.\n+ *\/\n+public final class SimpleSSLContextWhiteboxAdapter {\n+\n+    private SimpleSSLContextWhiteboxAdapter() {}\n+\n+    \/**\n+     * {@return a new {@link SSLContext} instance by searching for a key store\n+     * file path, and loading the first found one}\n+     *\n+     * @throws RuntimeException if no key store file can be found or the found\n+     * one cannot be loaded\n+     *\/\n+    public static SSLContext findSSLContext() {\n+        return SimpleSSLContext.findSSLContext(\"..\/..\/..\/..\/..\/lib\/jdk\/test\/lib\/net\/testkeys\", \"TLS\");\n+    }\n+\n+}\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/SimpleSSLContextWhiteboxAdapter.java","additions":48,"deletions":0,"binary":false,"changes":48,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -64,1 +64,0 @@\n-            sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/javax\/net\/ssl\/HttpsURLConnection\/DummyCacheResponse.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,1 +41,1 @@\n-    static SSLContext ctx;\n+    private static final SSLContext ctx = SimpleSSLContext.findSSLContext();\n@@ -53,1 +53,0 @@\n-            ctx = new SimpleSSLContext().get();\n","filename":"test\/jdk\/javax\/net\/ssl\/HttpsURLConnection\/Equals.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-    static SSLContext sslContext;\n+    private static final SSLContext sslContext = SimpleSSLContext.findSSLContext();\n@@ -56,2 +56,0 @@\n-\n-            sslContext = new SimpleSSLContext().get();\n","filename":"test\/jdk\/javax\/net\/ssl\/HttpsURLConnection\/HttpsSession.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-            new SimpleSSLContext().get().getServerSocketFactory();\n+            SimpleSSLContext.findSSLContext().getServerSocketFactory();\n@@ -142,1 +142,1 @@\n-        SSLSocketFactory sf = new SimpleSSLContext().get().getSocketFactory();\n+        SSLSocketFactory sf = SimpleSSLContext.findSSLContext().getSocketFactory();\n","filename":"test\/jdk\/javax\/net\/ssl\/HttpsURLConnection\/SubjectAltNameIP.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n-        SSLContext ctx = new SimpleSSLContext().get();\n+        SSLContext ctx = SimpleSSLContext.findSSLContext();\n","filename":"test\/jdk\/sun\/net\/www\/protocol\/http\/RedirectOnPost.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -217,1 +217,1 @@\n-                new HttpsConfigurator(new SimpleSSLContext().get()));\n+                new HttpsConfigurator(SimpleSSLContext.findSSLContext()));\n","filename":"test\/jdk\/sun\/security\/krb5\/auto\/HttpsCB.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -224,4 +224,1 @@\n-            SSLContext sslContext = new SimpleSSLContext().get();\n-            if (sslContext == null) {\n-                throw new AssertionError(\"Could not create a SSLContext\");\n-            }\n+            SSLContext sslContext = SimpleSSLContext.findSSLContext();\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testLinkOption\/TestRedirectLinks.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,0 +26,2 @@\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n@@ -30,1 +32,0 @@\n-import java.util.function.Supplier;\n@@ -34,3 +35,1 @@\n- * Creates a simple usable SSLContext for SSLSocketFactory\n- * or a HttpsServer using either a given keystore or a default\n- * one in the test tree.\n+ * Utility for creating a simple usable {@link SSLContext} for testing purposes.\n@@ -38,1 +37,1 @@\n-public class SimpleSSLContext {\n+public final class SimpleSSLContext {\n@@ -40,1 +39,1 @@\n-    SSLContext ssl;\n+    private SimpleSSLContext() {}\n@@ -43,2 +42,5 @@\n-     * loads default keystore from SimpleSSLContext\n-     * source directory\n+     * {@return a new {@link SSLContext} instance by searching for a key store\n+     * file path, and loading the first found one}\n+     *\n+     * @throws RuntimeException if no key store file can be found or the found\n+     * one cannot be loaded\n@@ -46,2 +48,2 @@\n-    public SimpleSSLContext() throws IOException {\n-        this(() -> \"TLS\");\n+    public static SSLContext findSSLContext() {\n+        return findSSLContext(\"TLS\");\n@@ -50,14 +52,11 @@\n-    private SimpleSSLContext(Supplier<String> protocols) throws IOException {\n-        String proto = protocols.get();\n-        String paths = System.getProperty(\"test.src.path\");\n-        StringTokenizer st = new StringTokenizer(paths, File.pathSeparator);\n-        while (st.hasMoreTokens()) {\n-            String path = st.nextToken();\n-            File f = new File(path, \"jdk\/test\/lib\/net\/testkeys\");\n-            if (f.exists()) {\n-                try (FileInputStream fis = new FileInputStream(f)) {\n-                    init(fis, proto);\n-                    break;\n-                }\n-            }\n-        }\n+    \/**\n+     * {@return a new {@link SSLContext} instance by searching for a key store\n+     * file path, and loading the first found one}\n+     *\n+     * @param protocol an {@link SSLContext} protocol\n+     *\n+     * @throws RuntimeException if no key store file can be found or the found\n+     * one cannot be loaded\n+     *\/\n+    public static SSLContext findSSLContext(String protocol) {\n+        return findSSLContext(\"jdk\/test\/lib\/net\/testkeys\", protocol);\n@@ -67,1 +66,10 @@\n-     * loads default keystore from given directory\n+     * {@return a new {@link SSLContext} instance by searching for a key store\n+     * file path, and loading the first found one}\n+     *\n+     * @param keyStoreFileRelPath a key store file path to be concatenated with\n+     *                            the search path(s) obtained from the\n+     *                            {@code test.src.path} system property\n+     * @param protocol an {@link SSLContext} protocol\n+     *\n+     * @throws RuntimeException if no key store file can be found or the found\n+     * one cannot be loaded\n@@ -69,4 +77,7 @@\n-    public SimpleSSLContext(String dir) throws IOException {\n-        String file = dir + \"\/testkeys\";\n-        try (FileInputStream fis = new FileInputStream(file)) {\n-            init(fis, \"TLS\");\n+    public static SSLContext findSSLContext(String keyStoreFileRelPath, String protocol) {\n+        var sourcePaths = System.getProperty(\"test.src.path\");\n+        for (var sourcePath : Collections.list(new StringTokenizer(sourcePaths, File.pathSeparator))) {\n+            var keyStoreFileAbsPath = Path.of((String) sourcePath, keyStoreFileRelPath);\n+            if (Files.exists(keyStoreFileAbsPath)) {\n+                return loadSSLContext(keyStoreFileAbsPath, protocol);\n+            }\n@@ -74,0 +85,3 @@\n+        throw new RuntimeException(\n+                \"Could not find any key store at source path(s) '%s' using key store file relative path '%s'\".formatted(\n+                        sourcePaths, keyStoreFileRelPath));\n@@ -76,2 +90,11 @@\n-    private void init(InputStream i, String protocol) throws IOException {\n-        try {\n+    \/**\n+     * {@return a new {@link SSLContext} loaded from the provided key store file\n+     * path using the given protocol}\n+     *\n+     * @param keyStoreFilePath a {@link KeyStore} file path\n+     * @param protocol an {@link SSLContext} protocol\n+     *\n+     * @throws RuntimeException if loading fails\n+     *\/\n+    private static SSLContext loadSSLContext(Path keyStoreFilePath, String protocol) {\n+        try (var storeStream = Files.newInputStream(keyStoreFilePath)) {\n@@ -80,1 +103,1 @@\n-            ks.load(i, passphrase);\n+            ks.load(storeStream, passphrase);\n@@ -88,15 +111,7 @@\n-            ssl = SSLContext.getInstance(protocol);\n-            ssl.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n-        } catch (KeyManagementException | KeyStoreException |\n-                UnrecoverableKeyException | CertificateException |\n-                NoSuchAlgorithmException e) {\n-            throw new RuntimeException(e.getMessage());\n-        }\n-    }\n-\n-    public static SSLContext getContext(String protocol) throws IOException {\n-        if(protocol == null || protocol.isEmpty()) {\n-            return new SimpleSSLContext().get();\n-        }\n-        else {\n-            return new SimpleSSLContext(() -> protocol).get();\n+            var sslContext = SSLContext.getInstance(protocol);\n+            sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n+            return sslContext;\n+        } catch (Exception e) {\n+            var message = \"Failed loading 'SSLContext' from key store at location '%s' for protocol '%s'\".formatted(\n+                    keyStoreFilePath, protocol);\n+            throw new RuntimeException(message, e);\n@@ -106,3 +121,0 @@\n-    public SSLContext get() {\n-        return ssl;\n-    }\n","filename":"test\/lib\/jdk\/test\/lib\/net\/SimpleSSLContext.java","additions":62,"deletions":50,"binary":false,"changes":112,"status":"modified"}]}
{"files":[{"patch":"@@ -37,0 +37,2 @@\n+\n+    static final int WASTE_SIZE = 32 * 1024;\n@@ -38,0 +40,1 @@\n+    static Object sink;\n@@ -62,1 +65,3 @@\n-                \/\/ fill until OOM\n+                \/\/ Fill until OOM with 1\/4 waste size. This would guarantee\n+                \/\/ that we will not be able to satisfy WASTE_SIZE allocation\n+                \/\/ after we caught the OOM.\n@@ -64,2 +69,2 @@\n-                for (;;) {\n-                    waste.add(new byte[64*1024]);\n+                while (true) {\n+                    waste.add(new byte[WASTE_SIZE \/ 4]);\n@@ -107,2 +112,2 @@\n-        for (int x=0; x<10; x++) {\n-            Object[] a = new Object[10000];\n+        for (int x = 0; x < 10; x++) {\n+            sink = new byte[WASTE_SIZE];\n@@ -118,1 +123,1 @@\n-            Object o = new Object();\n+            sink = new Object();\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/GCDuringDumpTransformer.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"}]}
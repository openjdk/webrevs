{"files":[{"patch":"@@ -111,1 +111,1 @@\n-        String appClasses[] = {MAIN_CLASS};\n+        String[] appClasses = {MAIN_CLASS};\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/aotClassLinking\/AOTClassLinkingVMOptions.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,0 +57,3 @@\n+    \/\/ A \"library\" class used by both MODULAR_MAIN_CLASS and NON_MODULAR_MAIN_CLASS\n+    private static final String LIB_CLASS = \"org.astro.World\";\n+\n@@ -58,2 +61,1 @@\n-    private static final String MAIN_CLASS = \"com.greetings.Main\";\n-    private static final String APP_CLASS = \"org.astro.World\";\n+    private static final String MODULAR_MAIN_CLASS = \"com.greetings.Main\";\n@@ -62,1 +64,1 @@\n-    private static final String UNNAMED_MAIN = \"com.nomodule.Main\";\n+    private static final String NON_MODULAR_MAIN_CLASS = \"com.nomodule.Main\";\n@@ -66,2 +68,2 @@\n-    private static Path appJar1 = null;\n-    private static Path appJar2 = null;\n+    private static Path modularAppJar = null; \/\/ a modular jar file that contains MODULAR_MAIN_CLASS\n+    private static Path nonModularAppJar = null; \/\/ a non-modular jar file that contains NON_MODULAR_MAIN_CLASS\n@@ -74,0 +76,2 @@\n+        \/\/ build a *modular* jar containing the MODULAR_MAIN_CLASS which\n+        \/\/ requires the org.astro package\n@@ -77,1 +81,1 @@\n-        appJar1 = modulePackager1.createModularJar(TEST_MODULE1);\n+        modularAppJar = modulePackager1.createModularJar(TEST_MODULE1);\n@@ -79,1 +83,1 @@\n-        \/\/ build a non-modular jar containing the main class which\n+        \/\/ build a *non-modular* jar containing the NON_MODULAR_MAIN_CLASS which\n@@ -81,1 +85,1 @@\n-        appJar2 = USER_DIR.resolve(\"non-modular.jar\");\n+        nonModularAppJar = USER_DIR.resolve(\"non-modular.jar\");\n@@ -83,1 +87,1 @@\n-        CDSJarUtils.buildFromSourceDirectory(appJar2.toString(), SRC_DIR.resolve(PKG_NAME).toString(),\n+        CDSJarUtils.buildFromSourceDirectory(nonModularAppJar.toString(), SRC_DIR.resolve(PKG_NAME).toString(),\n@@ -92,1 +96,3 @@\n-        String appClasses[] = {MAIN_CLASS, APP_CLASS};\n+        \/\/ (1) Modular JAR\n+\n+        String[] appClasses = {MODULAR_MAIN_CLASS, LIB_CLASS};\n@@ -98,1 +104,1 @@\n-                                        appJar1.toString(), appClasses,\n+                                        modularAppJar.toString(), appClasses,\n@@ -100,1 +106,1 @@\n-                                        \"--add-modules\", TEST_MODULE2, MAIN_CLASS);\n+                                        \"--add-modules\", TEST_MODULE2, MODULAR_MAIN_CLASS);\n@@ -107,1 +113,1 @@\n-                              \"-cp\", appJar1.toString(),\n+                              \"-cp\", modularAppJar.toString(),\n@@ -109,1 +115,1 @@\n-                              \"--add-modules\", TEST_MODULE2, MAIN_CLASS)\n+                              \"--add-modules\", TEST_MODULE2, MODULAR_MAIN_CLASS)\n@@ -114,1 +120,3 @@\n-        String appClasses2[] = {UNNAMED_MAIN, APP_CLASS};\n+        \/\/ (2) Non-modular JAR\n+\n+        String[] appClasses2 = {NON_MODULAR_MAIN_CLASS, LIB_CLASS};\n@@ -121,1 +129,1 @@\n-                                        appJar2.toString(), appClasses2,\n+                                        nonModularAppJar.toString(), appClasses2,\n@@ -125,1 +133,1 @@\n-                                        UNNAMED_MAIN);\n+                                        NON_MODULAR_MAIN_CLASS);\n@@ -131,1 +139,1 @@\n-                       \"-cp\", appJar2.toString(),\n+                       \"-cp\", nonModularAppJar.toString(),\n@@ -135,1 +143,1 @@\n-                       UNNAMED_MAIN)\n+                       NON_MODULAR_MAIN_CLASS)\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/ExportModule.java","additions":27,"deletions":19,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import java.nio.file.Files;\n@@ -33,1 +32,0 @@\n-import jdk.test.lib.util.FileUtils;\n","filename":"test\/lib\/jdk\/test\/lib\/cds\/CDSModulePackager.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import jdk.test.lib.process.ProcessTools;\n@@ -33,1 +32,0 @@\n-import jtreg.SkippedException;\n","filename":"test\/lib\/jdk\/test\/lib\/cds\/SimpleCDSAppTester.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
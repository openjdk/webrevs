{"files":[{"patch":"@@ -2547,3 +2547,1 @@\n-  jint lo = t->_lo;\n-  jint hi = t->_hi;\n-  if (lo == min_jint && hi == max_jint) {\n+  if (t == TypeInt::INT) {\n@@ -2555,1 +2553,5 @@\n-  if (lo != min_jint && hi != max_jint) {\n+\n+  jint lo = t->_lo;\n+  jint hi = t->_hi;\n+\n+  if (lo != min_jint) {\n@@ -2558,0 +2560,2 @@\n+  }\n+  if (hi != max_jint) {\n@@ -2559,9 +2563,1 @@\n-    br(Assembler::LE, L_success);\n-  } else if (lo != min_jint) {\n-    subsw(rtmp, rval, lo);\n-    br(Assembler::GE, L_success);\n-  } else if (hi != max_jint) {\n-    subsw(rtmp, rval, hi);\n-    br(Assembler::LE, L_success);\n-  } else {\n-    ShouldNotReachHere();\n+    br(Assembler::GT, L_failure);\n@@ -2569,0 +2565,1 @@\n+  b(L_success);\n@@ -2589,3 +2586,1 @@\n-  jlong lo = t->_lo;\n-  jlong hi = t->_hi;\n-  if (lo == min_jlong && hi == max_jlong) {\n+  if (t == TypeLong::LONG) {\n@@ -2597,1 +2592,5 @@\n-  if (lo != min_jlong && hi != max_jlong) {\n+\n+  jlong lo = t->_lo;\n+  jlong hi = t->_hi;\n+\n+  if (lo != min_jlong) {\n@@ -2600,0 +2599,2 @@\n+  }\n+  if (hi != max_jlong) {\n@@ -2601,9 +2602,1 @@\n-    br(Assembler::LE, L_success);\n-  } else if (lo != min_jlong) {\n-    subs(rtmp, rval, lo);\n-    br(Assembler::GE, L_success);\n-  } else if (hi != max_jlong) {\n-    subs(rtmp, rval, hi);\n-    br(Assembler::LE, L_success);\n-  } else {\n-    ShouldNotReachHere();\n+    br(Assembler::GT, L_failure);\n@@ -2611,0 +2604,1 @@\n+  b(L_success);\n","filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp","additions":20,"deletions":26,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -613,1 +613,1 @@\n-  if (lo == min_jint && hi == max_jint) {\n+  if (t == TypeInt::INT) {\n@@ -620,1 +620,2 @@\n-  if (hi == max_jint) {\n+\n+  if (lo != min_jint) {\n@@ -622,6 +623,3 @@\n-    jccb(Assembler::greaterEqual, succeed);\n-  } else {\n-    if (lo != min_jint) {\n-      cmpl(val, lo);\n-      jccb(Assembler::less, fail);\n-    }\n+    jccb(Assembler::less, fail);\n+  }\n+  if (hi != max_jint) {\n@@ -629,1 +627,1 @@\n-    jccb(Assembler::lessEqual, succeed);\n+    jccb(Assembler::greater, fail);\n@@ -631,0 +629,1 @@\n+  jmpb(succeed);\n@@ -652,1 +651,1 @@\n-  if (lo == min_jlong && hi == max_jlong) {\n+  if (t == TypeLong::LONG) {\n@@ -669,1 +668,1 @@\n-  if (hi == max_jlong) {\n+  if (lo != min_jlong) {\n@@ -671,6 +670,3 @@\n-    jccb(Assembler::greaterEqual, succeed);\n-  } else {\n-    if (lo != min_jlong) {\n-      cmp_val(lo);\n-      jccb(Assembler::less, fail);\n-    }\n+    jccb(Assembler::less, fail);\n+  }\n+  if (hi != max_jlong) {\n@@ -678,1 +674,1 @@\n-    jccb(Assembler::lessEqual, succeed);\n+    jccb(Assembler::greater, fail);\n@@ -680,0 +676,1 @@\n+  jmpb(succeed);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":15,"deletions":18,"binary":false,"changes":33,"status":"modified"}]}
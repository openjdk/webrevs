{"files":[{"patch":"@@ -95,1 +95,13 @@\n-    static final Cleaner CLEANER = Cleaner.create();\n+    \/\/ Singleton Cleaner for all relevant Buffer instances.\n+    \/\/ Lazily initialized to avoid bootstrapping circularities involving <clinit>.\n+    static class CleanerHolder {\n+        public static final Cleaner CLEANER = Cleaner.create();\n+        public static Cleanable register(Object buffer, Runnable action) {\n+            if (action != null) {\n+                return CLEANER.register(buffer, action);\n+            } else {\n+                return null;\n+            }\n+        }\n+    }\n+\n@@ -137,1 +149,1 @@\n-            cleanable = CLEANER.register(this, new Deallocator(base, size, cap));\n+            cleanable = CleanerHolder.register(this, new Deallocator(base, size, cap));\n@@ -212,1 +224,1 @@\n-        cleanable = (unmapper != null) ? CLEANER.register(this, unmapper) : null;\n+        cleanable = CleanerHolder.register(this, unmapper);\n","filename":"src\/java.base\/share\/classes\/java\/nio\/Direct-X-Buffer.java.template","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"}]}
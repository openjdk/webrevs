{"files":[{"patch":"@@ -26,1 +26,0 @@\n-import org.junit.jupiter.params.provider.Arguments;\n@@ -50,2 +49,2 @@\n- * @library \/test\/lib\n- * @run junit\/othervm --add-opens java.base\/java.net=ALL-UNNAMED CtorFailTest\n+ * @modules java.base\/java.net:+open\n+ * @run junit CtorFailTest\n@@ -81,1 +80,1 @@\n-    @MethodSource(\"testCases\")\n+    @MethodSource(\"socketImpls\")\n@@ -83,4 +82,1 @@\n-    void test(Exception bindException, Exception connectException) throws Throwable {\n-\n-        \/\/ Create a socket using the mock `SocketImpl` configured to fail\n-        MockSocketImpl socketImpl = new MockSocketImpl(bindException, connectException);\n+    void test(MockSocketImpl socketImpl) throws Throwable {\n@@ -99,1 +95,3 @@\n-            Exception expectedException = bindException != null ? bindException : connectException;\n+            Exception expectedException = socketImpl.bindException != null\n+                    ? socketImpl.bindException\n+                    : socketImpl.connectException;\n@@ -104,1 +102,0 @@\n-\n@@ -107,1 +104,1 @@\n-    static List<Arguments> testCases() {\n+    static List<MockSocketImpl> socketImpls() {\n@@ -109,0 +106,2 @@\n+        IOException checkedException = new IOException(exceptionMessage);\n+        IllegalArgumentException uncheckedException = new IllegalArgumentException(exceptionMessage);\n@@ -110,4 +109,4 @@\n-                Arguments.of(new IOException(exceptionMessage), null),\n-                Arguments.of(null, new IOException(exceptionMessage)),\n-                Arguments.of(new IllegalArgumentException(exceptionMessage), null),\n-                Arguments.of(null, new IllegalArgumentException(exceptionMessage)));\n+                new MockSocketImpl(checkedException, null),\n+                new MockSocketImpl(null, checkedException),\n+                new MockSocketImpl(uncheckedException, null),\n+                new MockSocketImpl(null, uncheckedException));\n","filename":"test\/jdk\/java\/net\/Socket\/CtorFailTest.java","additions":14,"deletions":15,"binary":false,"changes":29,"status":"modified"}]}
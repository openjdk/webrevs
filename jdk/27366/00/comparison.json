{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,6 +25,5 @@\n-  @test\n-  @key headful\n-  @bug 6895647\n-  @summary X11 Frame locations should be what we set them to\n-  @author anthony.petrov@oracle.com: area=awt.toplevel\n-  @run main FrameLocation\n+ * @test\n+ * @key headful\n+ * @bug 6895647\n+ * @summary X11 Frame locations should be what we set them to\n+ * @run main FrameLocation\n@@ -33,1 +32,2 @@\n-import java.awt.*;\n+import java.awt.EventQueue;\n+import java.awt.Frame;\n@@ -38,0 +38,3 @@\n+    private static Frame f;\n+    private static volatile int xPos;\n+    private static volatile int yPos;\n@@ -39,4 +42,6 @@\n-    public static void main(String[] args) {\n-        Frame f = new Frame(\"test\");\n-        f.setBounds(X, Y, 250, 250); \/\/ the size doesn't matter\n-        f.setVisible(true);\n+    public static void main(String[] args) throws Exception {\n+        EventQueue.invokeAndWait(() -> {\n+            f = new Frame(\"Frame Location Test\");\n+            f.setBounds(X, Y, 250, 250); \/\/ the size doesn't matter\n+            f.setVisible(true);\n+        });\n@@ -48,1 +53,1 @@\n-            } catch (InterruptedException ex) {\n+            } catch (InterruptedException _) {\n@@ -51,3 +56,5 @@\n-            \/\/ Check the location\n-            int x = f.getX();\n-            int y = f.getY();\n+            EventQueue.invokeAndWait(() -> {\n+                \/\/ Check the location\n+                xPos = f.getX();\n+                yPos = f.getY();\n+            });\n@@ -55,2 +62,3 @@\n-            if (x != X || y != Y) {\n-                throw new RuntimeException(\"The frame location is wrong! Current: \" + x + \", \" + y + \";  expected: \" + X + \", \" + Y);\n+            if (xPos != X || yPos != Y) {\n+                throw new RuntimeException(\"The frame location is wrong! Current: \" +\n+                        xPos + \", \" + yPos + \";  expected: \" + X + \", \" + Y);\n@@ -66,1 +74,5 @@\n-        f.dispose();\n+        EventQueue.invokeAndWait(() -> {\n+            if (f != null) {\n+                f.dispose();\n+            }\n+        });\n","filename":"test\/jdk\/java\/awt\/Frame\/FrameLocation\/FrameLocation.java","additions":31,"deletions":19,"binary":false,"changes":50,"status":"modified"}]}
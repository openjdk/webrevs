{"files":[{"patch":"@@ -177,17 +177,8 @@\n-      - name: 'Run tests on static JDK'\n-        id: run-tests-static\n-        if: ${{ inputs.static-suffix == '-static' }}\n-        run: >\n-          make test-prebuilt\n-          TEST='${{ matrix.test-suite }}'\n-          BOOT_JDK=${{ steps.bootjdk.outputs.path }}\n-          JDK_UNDER_TEST=${{ steps.bundles.outputs.static-jdk-path }}\n-          JDK_FOR_COMPILE=${{ steps.bundles.outputs.jdk-path }}\n-          JT_HOME=${{ steps.jtreg.outputs.path }}\n-          JDK_IMAGE_DIR=${{ steps.bundles.outputs.jdk-path }}\n-          SYMBOLS_IMAGE_DIR=${{ steps.bundles.outputs.symbols-path }}\n-          TEST_IMAGE_DIR=${{ steps.bundles.outputs.tests-path }}\n-          JTREG='JAVA_OPTIONS=-XX:-CreateCoredumpOnCrash;VERBOSE=fail,error,time;KEYWORDS=!headful;EXTRA_PROBLEM_LISTS=${{ steps.path.outputs.static-hotspot-problemlist-path }}%20${{ steps.path.outputs.static-jdk-problemlist-path }}%20${{ steps.path.outputs.static-langtools-problemlist-path }}%20${{ steps.path.outputs.static-lib-test-problemlist-path }}'\n-          && bash .\/.github\/scripts\/gen-test-summary.sh \"$GITHUB_STEP_SUMMARY\" \"$GITHUB_OUTPUT\"\n-        env:\n-          PATH: ${{ steps.path.outputs.value }}\n+      - name: 'Set Extra Options'\n+        id: extra-options\n+        run: |\n+          if [[ '${{ inputs.static-suffix }}' == '-static' ]]; then\n+            echo \"test-jdk=JDK_UNDER_TEST=${{ steps.bundles.outputs.static-jdk-path }}\" >> $GITHUB_OUTPUT\n+            echo \"compile-jdk=JDK_FOR_COMPILE=${{ steps.bundles.outputs.jdk-path }}\" >> $GITHUB_OUTPUT\n+            echo \"extra-problem-lists=EXTRA_PROBLEM_LISTS=${{ steps.path.outputs.static-hotspot-problemlist-path }}%20${{ steps.path.outputs.static-jdk-problemlist-path }}%20${{ steps.path.outputs.static-langtools-problemlist-path }}%20${{ steps.path.outputs.static-lib-test-problemlist-path }}\" >> $GITHUB_OUTPUT\n+          fi\n@@ -206,1 +197,3 @@\n-          JTREG='JAVA_OPTIONS=-XX:-CreateCoredumpOnCrash;VERBOSE=fail,error,time;KEYWORDS=!headful'\n+          ${{ steps.extra-options.test-jdk }}\n+          ${{ steps.extra-options.compile-jdk }}\n+          JTREG='JAVA_OPTIONS=-XX:-CreateCoredumpOnCrash;VERBOSE=fail,error,time;KEYWORDS=!headful;${{ steps.extra-options.extra-problem-lists }}'\n@@ -256,6 +249,0 @@\n-\n-      - name: 'Notify about test failures on static JDK'\n-        uses: actions\/github-script@v7\n-        with:\n-          script: core.setFailed('${{ steps.run-tests-static.outputs.error-message }}')\n-        if: steps.run-tests-static.outputs.failure == 'true'\n","filename":".github\/workflows\/test.yml","additions":11,"deletions":24,"binary":false,"changes":35,"status":"modified"}]}
{"files":[{"patch":"@@ -246,0 +246,3 @@\n+    \/\/ Pass $oldval to the pre-barrier (instead of loading from $mem), because\n+    \/\/ $oldval is the only value that can be overwritten.\n+    \/\/ The same holds for g1CompareAndSwapP and its Acq variant.\n@@ -247,2 +250,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp1$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n@@ -278,0 +281,3 @@\n+    \/\/ Pass $oldval to the pre-barrier (instead of loading from $mem), because\n+    \/\/ $oldval is the only value that can be overwritten.\n+    \/\/ The same holds for g1CompareAndSwapP and its Acq variant.\n@@ -279,2 +285,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp1$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n@@ -379,2 +385,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp1$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n@@ -414,2 +420,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp1$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/g1\/g1_aarch64.ad","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -142,0 +142,3 @@\n+    \/\/ Pass $oldval to the pre-barrier (instead of loading from $mem), because\n+    \/\/ $oldval is the only value that can be overwritten.\n+    \/\/ The same holds for g1CompareAndSwapP and its Acq variant.\n@@ -143,2 +146,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp1$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n@@ -218,2 +221,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp1$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/g1\/g1_aarch64.m4","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -179,0 +179,3 @@\n+    \/\/ Pass $oldval to the pre-barrier (instead of loading from $mem), because\n+    \/\/ $oldval is the only value that can be overwritten.\n+    \/\/ The same holds for g1CompareAndSwapP.\n@@ -180,2 +183,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp2$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n@@ -236,2 +239,2 @@\n-                      $mem$$Register \/* obj *\/,\n-                      $tmp2$$Register \/* pre_val *\/,\n+                      noreg \/* obj *\/,\n+                      $oldval$$Register \/* pre_val *\/,\n","filename":"src\/hotspot\/cpu\/x86\/gc\/g1\/g1_x86_64.ad","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"}]}
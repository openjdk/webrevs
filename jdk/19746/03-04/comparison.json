{"files":[{"patch":"@@ -36,8 +36,8 @@\n-static void g1_pre_write_barrier(MacroAssembler* masm,\n-                                 const MachNode* node,\n-                                 Register obj,\n-                                 Register pre_val,\n-                                 Register tmp1,\n-                                 Register tmp2,\n-                                 RegSet preserve = RegSet(),\n-                                 RegSet no_preserve = RegSet()) {\n+static void write_barrier_pre(MacroAssembler* masm,\n+                              const MachNode* node,\n+                              Register obj,\n+                              Register pre_val,\n+                              Register tmp1,\n+                              Register tmp2,\n+                              RegSet preserve = RegSet(),\n+                              RegSet no_preserve = RegSet()) {\n@@ -59,6 +59,6 @@\n-static void g1_post_write_barrier(MacroAssembler* masm,\n-                                  const MachNode* node,\n-                                  Register store_addr,\n-                                  Register new_val,\n-                                  Register tmp1,\n-                                  Register tmp2) {\n+static void write_barrier_post(MacroAssembler* masm,\n+                               const MachNode* node,\n+                               Register store_addr,\n+                               Register new_val,\n+                               Register tmp1,\n+                               Register tmp2) {\n@@ -91,6 +91,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -98,5 +98,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -117,6 +117,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -124,5 +124,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -143,6 +143,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -157,5 +157,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -177,6 +177,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -189,5 +189,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -211,6 +211,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -225,5 +225,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -246,7 +246,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -257,5 +257,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -278,7 +278,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -289,5 +289,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -310,7 +310,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -322,5 +322,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -343,7 +343,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -355,5 +355,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -378,7 +378,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -390,5 +390,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -413,7 +413,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -425,5 +425,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -448,7 +448,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -461,5 +461,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -484,7 +484,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -497,5 +497,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -517,6 +517,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $preval$$Register \/* pre_val (as a temporary register) *\/,\n-                         $tmp1$$Register \/* tmp1 *\/,\n-                         $tmp2$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $preval$$Register \/* pre_val (as a temporary register) *\/,\n+                      $tmp1$$Register \/* tmp1 *\/,\n+                      $tmp2$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n@@ -524,5 +524,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $newval$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $newval$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp2$$Register \/* tmp2 *\/);\n@@ -544,6 +544,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $preval$$Register \/* pre_val (as a temporary register) *\/,\n-                         $tmp1$$Register \/* tmp1 *\/,\n-                         $tmp2$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $preval$$Register \/* pre_val (as a temporary register) *\/,\n+                      $tmp1$$Register \/* tmp1 *\/,\n+                      $tmp2$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n@@ -551,5 +551,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $newval$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $newval$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp2$$Register \/* tmp2 *\/);\n@@ -571,6 +571,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n@@ -579,5 +579,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -599,6 +599,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n@@ -607,5 +607,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -627,5 +627,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         noreg \/* obj *\/,\n-                         $dst$$Register \/* pre_val *\/,\n-                         $tmp1$$Register \/* tmp1 *\/,\n-                         $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_pre(masm, this,\n+                      noreg \/* obj *\/,\n+                      $dst$$Register \/* pre_val *\/,\n+                      $tmp1$$Register \/* tmp1 *\/,\n+                      $tmp2$$Register \/* tmp2 *\/);\n@@ -647,5 +647,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         noreg \/* obj *\/,\n-                         $dst$$Register \/* pre_val *\/,\n-                         $tmp1$$Register \/* tmp1 *\/,\n-                         $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_pre(masm, this,\n+                      noreg \/* obj *\/,\n+                      $dst$$Register \/* pre_val *\/,\n+                      $tmp1$$Register \/* tmp1 *\/,\n+                      $tmp2$$Register \/* tmp2 *\/);\n@@ -669,5 +669,5 @@\n-      g1_pre_write_barrier(masm, this,\n-                           noreg \/* obj *\/,\n-                           $tmp1$$Register \/* pre_val *\/,\n-                           $tmp2$$Register \/* tmp1 *\/,\n-                           $tmp3$$Register \/* tmp2 *\/);\n+      write_barrier_pre(masm, this,\n+                        noreg \/* obj *\/,\n+                        $tmp1$$Register \/* pre_val *\/,\n+                        $tmp2$$Register \/* tmp1 *\/,\n+                        $tmp3$$Register \/* tmp2 *\/);\n@@ -692,5 +692,5 @@\n-      g1_pre_write_barrier(masm, this,\n-                           noreg \/* obj *\/,\n-                           $tmp1$$Register \/* pre_val *\/,\n-                           $tmp2$$Register \/* tmp1 *\/,\n-                           $tmp3$$Register \/* tmp2 *\/);\n+      write_barrier_pre(masm, this,\n+                        noreg \/* obj *\/,\n+                        $tmp1$$Register \/* pre_val *\/,\n+                        $tmp2$$Register \/* tmp1 *\/,\n+                        $tmp3$$Register \/* tmp2 *\/);\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/g1\/g1_aarch64.ad","additions":229,"deletions":229,"binary":false,"changes":458,"status":"modified"},{"patch":"@@ -38,6 +38,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -45,5 +45,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -68,6 +68,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -82,5 +82,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -103,6 +103,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $src$$Register) \/* preserve *\/);\n@@ -115,5 +115,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -142,7 +142,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -153,5 +153,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -178,7 +178,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -190,5 +190,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -217,7 +217,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -229,5 +229,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -256,7 +256,7 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $oldval$$Register, $newval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -269,5 +269,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -293,6 +293,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $preval$$Register \/* pre_val (as a temporary register) *\/,\n-                         $tmp1$$Register \/* tmp1 *\/,\n-                         $tmp2$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $preval$$Register \/* pre_val (as a temporary register) *\/,\n+                      $tmp1$$Register \/* tmp1 *\/,\n+                      $tmp2$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n@@ -300,5 +300,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $newval$$Register \/* new_val *\/,\n-                          $tmp1$$Register \/* tmp1 *\/,\n-                          $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $newval$$Register \/* new_val *\/,\n+                       $tmp1$$Register \/* tmp1 *\/,\n+                       $tmp2$$Register \/* tmp2 *\/);\n@@ -324,6 +324,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp1 *\/,\n-                         $tmp3$$Register \/* tmp2 *\/,\n-                         RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp1 *\/,\n+                      $tmp3$$Register \/* tmp2 *\/,\n+                      RegSet::of($mem$$Register, $preval$$Register, $newval$$Register) \/* preserve *\/);\n@@ -332,5 +332,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -356,5 +356,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         noreg \/* obj *\/,\n-                         $dst$$Register \/* pre_val *\/,\n-                         $tmp1$$Register \/* tmp1 *\/,\n-                         $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_pre(masm, this,\n+                      noreg \/* obj *\/,\n+                      $dst$$Register \/* pre_val *\/,\n+                      $tmp1$$Register \/* tmp1 *\/,\n+                      $tmp2$$Register \/* tmp2 *\/);\n@@ -382,5 +382,5 @@\n-      g1_pre_write_barrier(masm, this,\n-                           noreg \/* obj *\/,\n-                           $tmp1$$Register \/* pre_val *\/,\n-                           $tmp2$$Register \/* tmp1 *\/,\n-                           $tmp3$$Register \/* tmp2 *\/);\n+      write_barrier_pre(masm, this,\n+                        noreg \/* obj *\/,\n+                        $tmp1$$Register \/* pre_val *\/,\n+                        $tmp2$$Register \/* tmp1 *\/,\n+                        $tmp3$$Register \/* tmp2 *\/);\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/g1\/g1_aarch64.m4","additions":113,"deletions":113,"binary":false,"changes":226,"status":"modified"},{"patch":"@@ -36,7 +36,7 @@\n-static void g1_pre_write_barrier(MacroAssembler* masm,\n-                                 const MachNode* node,\n-                                 Register obj,\n-                                 Register pre_val,\n-                                 Register tmp,\n-                                 RegSet preserve = RegSet(),\n-                                 RegSet no_preserve = RegSet()) {\n+static void write_barrier_pre(MacroAssembler* masm,\n+                              const MachNode* node,\n+                              Register obj,\n+                              Register pre_val,\n+                              Register tmp,\n+                              RegSet preserve = RegSet(),\n+                              RegSet no_preserve = RegSet()) {\n@@ -58,6 +58,6 @@\n-static void g1_post_write_barrier(MacroAssembler* masm,\n-                                  const MachNode* node,\n-                                  Register store_addr,\n-                                  Register new_val,\n-                                  Register tmp1,\n-                                  Register tmp2) {\n+static void write_barrier_post(MacroAssembler* masm,\n+                               const MachNode* node,\n+                               Register store_addr,\n+                               Register new_val,\n+                               Register tmp1,\n+                               Register tmp2) {\n@@ -88,5 +88,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $tmp1$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($tmp1$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $tmp1$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($tmp1$$Register, $src$$Register) \/* preserve *\/);\n@@ -94,5 +94,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $tmp1$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp3$$Register \/* tmp1 *\/,\n-                          $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $tmp1$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp3$$Register \/* tmp1 *\/,\n+                       $tmp2$$Register \/* tmp2 *\/);\n@@ -115,5 +115,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $tmp1$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($tmp1$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $tmp1$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($tmp1$$Register, $src$$Register) \/* preserve *\/);\n@@ -129,5 +129,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $tmp1$$Register \/* store_addr *\/,\n-                          $tmp2$$Register \/* new_val *\/,\n-                          $tmp3$$Register \/* tmp1 *\/,\n-                          $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $tmp1$$Register \/* store_addr *\/,\n+                       $tmp2$$Register \/* new_val *\/,\n+                       $tmp3$$Register \/* tmp1 *\/,\n+                       $tmp2$$Register \/* tmp2 *\/);\n@@ -148,5 +148,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $tmp1$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($tmp1$$Register, $src$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $tmp1$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($tmp1$$Register, $src$$Register) \/* preserve *\/);\n@@ -160,5 +160,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $tmp1$$Register \/* store_addr *\/,\n-                          $src$$Register \/* new_val *\/,\n-                          $tmp3$$Register \/* tmp1 *\/,\n-                          $tmp2$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $tmp1$$Register \/* store_addr *\/,\n+                       $src$$Register \/* new_val *\/,\n+                       $tmp3$$Register \/* tmp1 *\/,\n+                       $tmp2$$Register \/* tmp2 *\/);\n@@ -178,5 +178,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/);\n@@ -186,5 +186,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -204,5 +204,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/);\n@@ -213,5 +213,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -234,6 +234,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -245,5 +245,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -266,6 +266,6 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/,\n-                         RegSet::of($res$$Register) \/* no_preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($mem$$Register, $newval$$Register, $oldval$$Register) \/* preserve *\/,\n+                      RegSet::of($res$$Register) \/* no_preserve *\/);\n@@ -278,5 +278,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -295,5 +295,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($mem$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($mem$$Register, $newval$$Register) \/* preserve *\/);\n@@ -302,5 +302,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -319,5 +319,5 @@\n-    g1_pre_write_barrier(masm, this,\n-                         $mem$$Register \/* obj *\/,\n-                         $tmp2$$Register \/* pre_val *\/,\n-                         $tmp3$$Register \/* tmp *\/,\n-                         RegSet::of($mem$$Register, $newval$$Register) \/* preserve *\/);\n+    write_barrier_pre(masm, this,\n+                      $mem$$Register \/* obj *\/,\n+                      $tmp2$$Register \/* pre_val *\/,\n+                      $tmp3$$Register \/* tmp *\/,\n+                      RegSet::of($mem$$Register, $newval$$Register) \/* preserve *\/);\n@@ -327,5 +327,5 @@\n-    g1_post_write_barrier(masm, this,\n-                          $mem$$Register \/* store_addr *\/,\n-                          $tmp1$$Register \/* new_val *\/,\n-                          $tmp2$$Register \/* tmp1 *\/,\n-                          $tmp3$$Register \/* tmp2 *\/);\n+    write_barrier_post(masm, this,\n+                       $mem$$Register \/* store_addr *\/,\n+                       $tmp1$$Register \/* new_val *\/,\n+                       $tmp2$$Register \/* tmp1 *\/,\n+                       $tmp3$$Register \/* tmp2 *\/);\n@@ -345,4 +345,4 @@\n-    g1_pre_write_barrier(masm, this,\n-                         noreg \/* obj *\/,\n-                         $dst$$Register \/* pre_val *\/,\n-                         $tmp$$Register \/* tmp *\/);\n+    write_barrier_pre(masm, this,\n+                      noreg \/* obj *\/,\n+                      $dst$$Register \/* pre_val *\/,\n+                      $tmp$$Register \/* tmp *\/);\n@@ -364,4 +364,4 @@\n-    g1_pre_write_barrier(masm, this,\n-                         noreg \/* obj *\/,\n-                         $tmp1$$Register \/* pre_val *\/,\n-                         $tmp2$$Register \/* tmp *\/);\n+    write_barrier_pre(masm, this,\n+                      noreg \/* obj *\/,\n+                      $tmp1$$Register \/* pre_val *\/,\n+                      $tmp2$$Register \/* tmp *\/);\n","filename":"src\/hotspot\/cpu\/x86\/gc\/g1\/g1_x86_64.ad","additions":113,"deletions":113,"binary":false,"changes":226,"status":"modified"}]}
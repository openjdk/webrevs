{"files":[{"patch":"@@ -1395,1 +1395,2 @@\n-  Heap_lock->lock();\n+  {\n+    MutexLocker ml(Heap_lock);\n@@ -1397,1 +1398,1 @@\n-  \/\/ STEP(\"printing heap information\")\n+    \/\/ STEP(\"printing heap information\")\n@@ -1399,2 +1400,2 @@\n-  if (Universe::is_fully_initialized()) {\n-    GCLogPrecious::print_on_error(st);\n+    if (Universe::is_fully_initialized()) {\n+      GCLogPrecious::print_on_error(st);\n@@ -1402,6 +1403,6 @@\n-    st->print_cr(\"Heap:\");\n-    StreamAutoIndentor indentor(st, 1);\n-    Universe::heap()->print_heap_on(st);\n-    MetaspaceUtils::print_on(st);\n-    st->cr();\n-  }\n+      st->print_cr(\"Heap:\");\n+      StreamAutoIndentor indentor(st, 1);\n+      Universe::heap()->print_heap_on(st);\n+      MetaspaceUtils::print_on(st);\n+      st->cr();\n+    }\n@@ -1409,1 +1410,1 @@\n-  \/\/ STEP(\"printing GC information\")\n+    \/\/ STEP(\"printing GC information\")\n@@ -1411,3 +1412,3 @@\n-  if (Universe::is_fully_initialized()) {\n-    Universe::heap()->print_gc_on(st);\n-    st->cr();\n+    if (Universe::is_fully_initialized()) {\n+      Universe::heap()->print_gc_on(st);\n+      st->cr();\n@@ -1415,2 +1416,3 @@\n-    st->print_cr(\"Polling page: \" PTR_FORMAT, p2i(SafepointMechanism::get_polling_page()));\n-    st->cr();\n+      st->print_cr(\"Polling page: \" PTR_FORMAT, p2i(SafepointMechanism::get_polling_page()));\n+      st->cr();\n+    }\n@@ -1419,2 +1421,0 @@\n-  Heap_lock->unlock();\n-\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"}]}
{"files":[{"patch":"@@ -106,2 +106,1 @@\n-    if (jt->thread_state() != _thread_in_vm) {\n-      assert(jt->thread_state() == _thread_in_native, \"invariant\");\n+    if (jt->thread_state() == _thread_in_native) {\n@@ -113,0 +112,3 @@\n+    \/\/ If a thread comes here still _thread_in_Java, which can happen for example\n+    \/\/ when loading the disassembler library in response to traps in JIT code - all is ok.\n+    \/\/ Since there is no ljf, an event will be committed without a stacktrace.\n","filename":"src\/hotspot\/share\/jfr\/support\/jfrNativeLibraryLoadEvent.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -36,2 +36,2 @@\n- * nextToken(hash, token) to get the next candidate, or to getElementByToken(token)\n- * or getIndexByToken to get the mapped element or index.\n+ * nextToken(hash, token) to get the next candidate, or to getIndexByToken to\n+ * get the mapped element or index.\n@@ -39,1 +39,1 @@\n-public abstract class EntryMap<T> {\n+public final class EntryMap {\n@@ -80,2 +80,0 @@\n-    protected abstract T fetchElement(int index);\n-\n@@ -113,4 +111,0 @@\n-    public T getElementByToken(int token) {\n-        return fetchElement(data[token + 1]);\n-    }\n-\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/EntryMap.java","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -66,2 +66,2 @@\n-    private EntryMap<PoolEntry> map;\n-    private EntryMap<BootstrapMethodEntryImpl> bsmMap;\n+    private EntryMap map;\n+    private EntryMap bsmMap;\n@@ -181,1 +181,1 @@\n-    private EntryMap<PoolEntry> map() {\n+    private EntryMap map() {\n@@ -183,6 +183,2 @@\n-            map = new EntryMap<>(Math.max(size, 1024), .75f) {\n-                @Override\n-                protected PoolEntry fetchElement(int index) {\n-                    return entryByIndex(index);\n-                }\n-            };\n+            map = new EntryMap(Math.max(size, 1024), .75f);\n+\n@@ -223,1 +219,1 @@\n-    private EntryMap<BootstrapMethodEntryImpl> bsmMap() {\n+    private EntryMap bsmMap() {\n@@ -225,6 +221,1 @@\n-            bsmMap = new EntryMap<>(Math.max(bsmSize, 16), .75f) {\n-                @Override\n-                protected BootstrapMethodEntryImpl fetchElement(int index) {\n-                    return bootstrapMethodEntry(index);\n-                }\n-            };\n+            bsmMap = new EntryMap(Math.max(bsmSize, 16), .75f);\n@@ -271,1 +262,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -273,1 +264,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -288,1 +279,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -290,1 +281,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -305,1 +296,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -307,1 +298,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -322,1 +313,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -324,1 +315,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -340,1 +331,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -342,1 +333,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -359,1 +350,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -361,1 +352,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -377,1 +368,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -380,1 +371,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -395,1 +386,1 @@\n-        EntryMap<PoolEntry> map = map();\n+        EntryMap map = map();\n@@ -397,1 +388,1 @@\n-            PoolEntry e = map.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map.getIndexByToken(token));\n@@ -516,1 +507,1 @@\n-        EntryMap<PoolEntry> map1 = map();\n+        EntryMap map1 = map();\n@@ -518,1 +509,1 @@\n-            PoolEntry e = map1.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map1.getIndexByToken(token));\n@@ -542,1 +533,1 @@\n-        EntryMap<PoolEntry> map1 = map();\n+        EntryMap map1 = map();\n@@ -544,1 +535,1 @@\n-            PoolEntry e = map1.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map1.getIndexByToken(token));\n@@ -573,1 +564,1 @@\n-        EntryMap<PoolEntry> map1 = map();\n+        EntryMap map1 = map();\n@@ -575,1 +566,1 @@\n-            PoolEntry e = map1.getElementByToken(token);\n+            PoolEntry e = entryByIndex(map1.getIndexByToken(token));\n@@ -643,1 +634,1 @@\n-        EntryMap<BootstrapMethodEntryImpl> map = bsmMap();\n+        EntryMap map = bsmMap();\n@@ -645,1 +636,1 @@\n-            BootstrapMethodEntryImpl e = map.getElementByToken(token);\n+            BootstrapMethodEntryImpl e = bootstrapMethodEntry(map.getIndexByToken(token));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/SplitConstantPool.java","additions":31,"deletions":40,"binary":false,"changes":71,"status":"modified"}]}
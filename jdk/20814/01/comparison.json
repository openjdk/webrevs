{"files":[{"patch":"@@ -30,0 +30,2 @@\n+\n+include Execute.gmk\n@@ -34,2 +36,1 @@\n-# Use this file inside the image as target for make rule\n-JIMAGE_TARGET_FILE := bin\/java$(EXECUTABLE_SUFFIX)\n+INTERIM_JLINK_SUPPORT_DIR := $(SUPPORT_OUTPUTDIR)\/interim-image-jlink\n@@ -45,13 +46,12 @@\n-$(INTERIM_IMAGE_DIR)\/$(JIMAGE_TARGET_FILE): $(JMODS) \\\n-    $(call DependOnVariable, INTERIM_MODULES_LIST)\n-\t$(call LogWarn, Creating interim jimage)\n-\t$(RM) -r $(INTERIM_IMAGE_DIR)\n-\t$(call MakeDir, $(INTERIM_IMAGE_DIR))\n-\t$(call ExecuteWithLog, $(INTERIM_IMAGE_DIR)\/jlink, \\\n-\t    $(JLINK_TOOL) \\\n-\t    --output $(INTERIM_IMAGE_DIR) \\\n-\t    --disable-plugin generate-jli-classes \\\n-\t    --add-modules $(INTERIM_MODULES_LIST))\n-\t$(TOUCH) $@\n-\n-TARGETS += $(INTERIM_IMAGE_DIR)\/$(JIMAGE_TARGET_FILE)\n+$(eval $(call SetupExecute, jlink_interim_image, \\\n+    WARN := Creating interim jimage, \\\n+    DEPS :=  $(JMODS) $(call DependOnVariable, INTERIM_MODULES_LIST), \\\n+    OUTPUT_DIR := $(INTERIM_IMAGE_DIR), \\\n+    SUPPORT_DIR := $(INTERIM_JLINK_SUPPORT_DIR), \\\n+    PRE_COMMAND := $(RM) -r $(INTERIM_IMAGE_DIR), \\\n+    COMMAND := $(JLINK_TOOL) --output $(INTERIM_IMAGE_DIR) \\\n+        --disable-plugin generate-jli-classes \\\n+        --add-modules $(INTERIM_MODULES_LIST), \\\n+))\n+\n+TARGETS += $(jlink_interim_image)\n","filename":"make\/InterimImage.gmk","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"}]}
{"files":[{"patch":"@@ -2156,1 +2156,1 @@\n-        \/\/ if non-portrait and 270 degree landscape rotation\n+        \/\/ if non-portraitgit status and 270 degree landscape rotation\n@@ -2399,1 +2399,1 @@\n-                    bandGraphics.translate(-deviceAddressableX,deviceAddressableY);\n+                    bandGraphics.translate(-deviceAddressableX, deviceAddressableY);\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/RasterPrinterJob.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-\n+import jtreg.SkippedException;\n@@ -50,0 +50,1 @@\n+ * @library \/test\/lib\n@@ -51,0 +52,1 @@\n+ * @build jtreg.SkippedException\n@@ -52,1 +54,1 @@\n- * @run main\/manual AlphaPrintingOffsets\n+ * @run main\/manual AlphaPrintingOffsets testAlpha\n@@ -57,1 +59,0 @@\n-            \"This test prints 6 pages with same image except text messages. \\n\" +\n@@ -61,1 +62,1 @@\n-                    \"3. Check that 6 pages have the same image except text messages.\\n\" +\n+                    \"3. Please check the page margin rectangle are properly drawn and visible on all sides on all pages.\\n\" +\n@@ -64,0 +65,6 @@\n+    private static boolean isAlphaTestModeSet = false;\n+\n+    public static boolean getAlphaTestModeSet() {\n+        return isAlphaTestModeSet;\n+    }\n+\n@@ -67,1 +74,8 @@\n-            PassFailJFrame.builder().instructions(INSTRUCTIONS)\n+            String instructionsHeader = \"This test prints 6 pages with same image except text messages. \\n\";\n+            if (args.length > 0)\n+                isAlphaTestModeSet = args[0].equals(\"testAlpha\");\n+            \n+            if(isAlphaTestModeSet)\n+                instructionsHeader = \"This test prints 2 pages with same image except text messages. \\n\";\n+            \n+            PassFailJFrame.builder().instructions(instructionsHeader + INSTRUCTIONS)\n@@ -73,1 +87,2 @@\n-            PassFailJFrame.forcePass();\n+            throw new SkippedException(\"Printer not configured or available.\"\n+                    + \" Test cannot continue.\");\n@@ -115,9 +130,17 @@\n-        Book book = new Book();\n-        book.append(printableOpaque, pageFormatP);\n-        book.append(printableTransparent, pageFormatP);\n-        book.append(printableOpaque, pageFormatL);\n-        book.append(printableTransparent, pageFormatL);\n-        book.append(printableOpaque, pageFormatRL);\n-        book.append(printableTransparent, pageFormatRL);\n-        printerJob.setPageable(book);\n-\n+        Book bookNoAlphaTest = new Book();\n+        bookNoAlphaTest.append(printableOpaque, pageFormatP);\n+        bookNoAlphaTest.append(printableTransparent, pageFormatP);\n+        bookNoAlphaTest.append(printableOpaque, pageFormatL);\n+        bookNoAlphaTest.append(printableTransparent, pageFormatL);\n+        bookNoAlphaTest.append(printableOpaque, pageFormatRL);\n+        bookNoAlphaTest.append(printableTransparent, pageFormatRL);\n+\n+        Book bookAlphaTest = new Book();\n+        bookAlphaTest.append(printableTransparent, pageFormatL);\n+        bookAlphaTest.append(printableTransparent, pageFormatRL);\n+\n+        if(isAlphaTestModeSet)\n+            printerJob.setPageable(bookAlphaTest);\n+        else\n+            printerJob.setPageable(bookNoAlphaTest);\n+        \n@@ -174,2 +197,3 @@\n-        drawSmallRectangle(g, pageFormat.getImageableX(), pageFormat.getImageableY(),\n-                pageFormat.getImageableWidth(), pageFormat.getImageableHeight());\n+        if(AlphaPrintingOffsets.getAlphaTestModeSet())\n+            drawSmallRectangle(g, pageFormat.getImageableX(), pageFormat.getImageableY(),\n+                    pageFormat.getImageableWidth(), pageFormat.getImageableHeight());\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/ImagePrinting\/AlphaPrintingOffsets.java","additions":41,"deletions":17,"binary":false,"changes":58,"status":"modified"}]}
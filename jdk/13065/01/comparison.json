{"files":[{"patch":"@@ -480,1 +480,5 @@\n-      DF_LOCAL_ONLY_OPTION='-T local'\n+      if \"$DF -T local > \/dev\/null 2>&1\"; then\n+        DF_LOCAL_ONLY_OPTION='-T local'\n+      else # AIX may use GNU-utils instead\n+        DF_LOCAL_ONLY_OPTION='-l'\n+      fi\n","filename":"make\/autoconf\/basic.m4","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -118,3 +118,3 @@\n-#pragma GCC diagnostic ignored \"-Wconversion\"                   \/\/ TODO fix\n-#pragma GCC diagnostic ignored \"-Wshadow\"                       \/\/ TODO fix\n-#pragma GCC diagnostic ignored \"-Wunused-parameter\"             \/\/ TODO fix\n+#pragma GCC diagnostic ignored \"-Wconversion\"\t\t\t\/\/ TODO fix\n+#pragma GCC diagnostic ignored \"-Wshadow\"\t\t\t\/\/ TODO fix\n+#pragma GCC diagnostic ignored \"-Wunused-parameter\"\t\t\/\/ TODO fix\n@@ -122,1 +122,1 @@\n-#pragma GCC diagnostic ignored \"-Wunused-result\"                \/\/ TODO fix\n+#pragma GCC diagnostic ignored \"-Wunused-result\"\t\t\/\/ TODO fix\n@@ -249,1 +249,9 @@\n-#if (defined(__GNUC__) || defined(__clang__)) && defined(__OPTIMIZE__)\n+\/\/ gcc 10 has __has_builtin but not earlier versions. Sanction any gcc >= 5\n+\/\/ clang defines it so no need.\n+#ifdef __has_builtin\n+#define hb_has_builtin __has_builtin\n+#else\n+#define hb_has_builtin(x) ((defined(__GNUC__) && __GNUC__ >= 5))\n+#endif\n+\n+#if defined(__OPTIMIZE__) && hb_has_builtin(__builtin_expect)\n@@ -268,1 +276,1 @@\n-#define HB_UNUSED       __attribute__((unused))\n+#define HB_UNUSED\t__attribute__((unused))\n@@ -504,0 +512,6 @@\n+\/* Pie time. *\/\n+\/\/ https:\/\/github.com\/harfbuzz\/harfbuzz\/issues\/4166\n+#define HB_PI 3.14159265358979f\n+#define HB_2_PI (2.f * HB_PI)\n+\n+\n@@ -511,8 +525,8 @@\n-#include \"hb-atomic.hh\" \/\/ Requires: hb-meta\n-#include \"hb-null.hh\"   \/\/ Requires: hb-meta\n-#include \"hb-algs.hh\"   \/\/ Requires: hb-meta hb-null hb-number\n-#include \"hb-iter.hh\"   \/\/ Requires: hb-algs hb-meta\n-#include \"hb-debug.hh\"  \/\/ Requires: hb-algs hb-atomic\n-#include \"hb-array.hh\"  \/\/ Requires: hb-algs hb-iter hb-null\n-#include \"hb-vector.hh\" \/\/ Requires: hb-array hb-null\n-#include \"hb-object.hh\" \/\/ Requires: hb-atomic hb-mutex hb-vector\n+#include \"hb-atomic.hh\"\t\/\/ Requires: hb-meta\n+#include \"hb-null.hh\"\t\/\/ Requires: hb-meta\n+#include \"hb-algs.hh\"\t\/\/ Requires: hb-meta hb-null hb-number\n+#include \"hb-iter.hh\"\t\/\/ Requires: hb-algs hb-meta\n+#include \"hb-debug.hh\"\t\/\/ Requires: hb-algs hb-atomic\n+#include \"hb-array.hh\"\t\/\/ Requires: hb-algs hb-iter hb-null\n+#include \"hb-vector.hh\"\t\/\/ Requires: hb-array hb-null\n+#include \"hb-object.hh\"\t\/\/ Requires: hb-atomic hb-mutex hb-vector\n","filename":"src\/java.desktop\/share\/native\/libharfbuzz\/hb.hh","additions":28,"deletions":14,"binary":false,"changes":42,"status":"modified"}]}
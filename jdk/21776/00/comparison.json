{"files":[{"patch":"@@ -405,6 +405,8 @@\n-            if (TKit.isOSX() && hasArgument(\"--app-image\")) {\n-                return Path.of(getArgumentValue(\"--app-image\", () -> null));\n-            }\n-            String dirName = name();\n-            if (TKit.isOSX()) {\n-                dirName = dirName + \".app\";\n+            String dirName;\n+            if (!TKit.isOSX()) {\n+                dirName = name();\n+            } else if (hasArgument(\"--app-image\") && hasArgument(\"--mac-sign\")) {\n+                \/\/ Request to sign external app image, not to build a new one\n+                dirName = getArgumentValue(\"--app-image\");\n+            } else {\n+                dirName = name() + \".app\";\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/JPackageCommand.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"}]}
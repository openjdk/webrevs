{"files":[{"patch":"@@ -183,1 +183,6 @@\n-  ifeq ($$($1_$2_MODULE), @:)\n+  ifeq ($$(filter lib%, $$($1_$2_NAME)),)\n+    $$(error Library name $$($1_$2_NAME) missing lib prefix in $1)\n+  endif\n+  $1_$2_NAME := $$(strip $$(patsubst lib%, %, $$($1_$2_NAME)))\n+\n+  ifeq ($$($1_$2_MODULE),)\n@@ -185,2 +190,0 @@\n-  else ifeq ($$($1_$2_MODULE),)\n-    $1_$2_MODULE := java.base\n@@ -268,6 +271,6 @@\n-#     These take the form <module>:<basename>. If the module is java.base,\n-#     the entire java.base: prefix can be omitted. If the module is @, this will\n-#     be replaced with the current module. The gtest module is a virtual module\n-#     that will be replaced with correct values for gtest. When specyfing\n-#     JDK_LIBS, suitable values for EXTRA_LINK_DEPS, LDFLAGS, LIBS and\n-#     EXTRA_HEADER_DIRS will be added.\n+#     These take the form <module>:<basename>. For the current module, the\n+#     module name and colon can be omitted. The basename should be specified\n+#     as the source directory, e.g. \"libjava\". The gtest module is a virtual\n+#     module that will be replaced with correct values for gtest. When\n+#     specifying JDK_LIBS, suitable values for EXTRA_LINK_DEPS, LDFLAGS, LIBS\n+#     and EXTRA_HEADER_DIRS will be added.\n","filename":"make\/common\/JdkNativeCompilation.gmk","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -154,2 +154,2 @@\n-      JDK_LIBS := jli, \\\n-      JDK_LIBS_windows := java, \\\n+      JDK_LIBS := java.base:libjli, \\\n+      JDK_LIBS_windows := java.base:libjava, \\\n","filename":"make\/common\/modules\/LauncherCommon.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n-    JDK_LIBS := gtest:gtest, \\\n+    JDK_LIBS := gtest:libgtest, \\\n@@ -153,1 +153,1 @@\n-    JDK_LIBS := gtest:jvm, \\\n+    JDK_LIBS := gtest:libjvm, \\\n","filename":"make\/hotspot\/lib\/CompileGtest.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    JDK_LIBS := java jvm, \\\n+    JDK_LIBS := libjava libjvm, \\\n@@ -79,1 +79,1 @@\n-    JDK_LIBS := java net, \\\n+    JDK_LIBS := libjava libnet, \\\n@@ -99,1 +99,1 @@\n-      JDK_LIBS := java, \\\n+      JDK_LIBS := libjava, \\\n","filename":"make\/modules\/java.base\/Lib.gmk","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-    JDK_LIBS := jvm, \\\n+    JDK_LIBS := libjvm, \\\n@@ -61,1 +61,1 @@\n-    JDK_LIBS := jvm, \\\n+    JDK_LIBS := libjvm, \\\n@@ -95,1 +95,1 @@\n-    JDK_LIBS := java jvm, \\\n+    JDK_LIBS := libjava libjvm, \\\n@@ -112,1 +112,1 @@\n-    JDK_LIBS := jvm, \\\n+    JDK_LIBS := libjvm, \\\n","filename":"make\/modules\/java.base\/lib\/CoreLibraries.gmk","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-      JDK_LIBS := java, \\\n+      JDK_LIBS := java.base:libjava, \\\n@@ -120,1 +120,1 @@\n-      JDK_LIBS := @:osxapp, \\\n+      JDK_LIBS := libosxapp, \\\n","filename":"make\/modules\/java.desktop\/Lib.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -140,1 +140,1 @@\n-    JDK_LIBS := java jvm, \\\n+    JDK_LIBS := java.base:libjava java.base:libjvm, \\\n@@ -241,1 +241,1 @@\n-      JDK_LIBS := @:awt java, \\\n+      JDK_LIBS := libawt java.base:libjava, \\\n@@ -287,1 +287,1 @@\n-    JDK_LIBS := @:awt java, \\\n+    JDK_LIBS := libawt java.base:libjava, \\\n@@ -321,1 +321,1 @@\n-    JDK_LIBS := java, \\\n+    JDK_LIBS := java.base:libjava, \\\n@@ -366,1 +366,1 @@\n-      JDK_LIBS := @:awt java, \\\n+      JDK_LIBS := libawt java.base:libjava, \\\n@@ -457,1 +457,1 @@\n-  LIBFONTMANAGER_JDK_LIBS += @:freetype\n+  LIBFONTMANAGER_JDK_LIBS += libfreetype\n@@ -504,2 +504,2 @@\n-    JDK_LIBS := @:awt java $(LIBFONTMANAGER_JDK_LIBS), \\\n-    JDK_LIBS_macosx := @:awt_lwawt, \\\n+    JDK_LIBS := libawt java.base:libjava $(LIBFONTMANAGER_JDK_LIBS), \\\n+    JDK_LIBS_macosx := libawt_lwawt, \\\n@@ -556,1 +556,1 @@\n-  LIBJAWT_JDK_LIBS_unix := @:awt\n+  LIBJAWT_JDK_LIBS_unix := libawt\n@@ -558,1 +558,1 @@\n-    LIBJAWT_JDK_LIBS_unix += @:awt_xawt\n+    LIBJAWT_JDK_LIBS_unix += libawt_xawt\n@@ -560,1 +560,1 @@\n-    LIBJAWT_JDK_LIBS_unix += @:awt_headless\n+    LIBJAWT_JDK_LIBS_unix += libawt_headless\n@@ -576,2 +576,2 @@\n-    JDK_LIBS_windows := @:awt, \\\n-    JDK_LIBS_macosx := @:awt_lwawt, \\\n+    JDK_LIBS_windows := libawt, \\\n+    JDK_LIBS_macosx := libawt_lwawt, \\\n@@ -705,2 +705,2 @@\n-      JDK_LIBS_windows := java, \\\n-      JDK_LIBS_macosx := @:osxapp, \\\n+      JDK_LIBS_windows := java.base:libjava, \\\n+      JDK_LIBS_macosx := libosxapp, \\\n@@ -773,1 +773,1 @@\n-      JDK_LIBS := @:awt java @:osxapp, \\\n+      JDK_LIBS := libawt java.base:libjava libosxapp, \\\n@@ -829,1 +829,1 @@\n-      JDK_LIBS := java @:osxapp, \\\n+      JDK_LIBS := java.base:libjava libosxapp, \\\n","filename":"make\/modules\/java.desktop\/lib\/Awt2dLibraries.gmk","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-    JDK_LIBS := java jli jvm, \\\n+    JDK_LIBS := java.base:libjava java.base:libjli java.base:libjvm, \\\n","filename":"make\/modules\/java.instrument\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-    JDK_LIBS := java jvm, \\\n+    JDK_LIBS := java.base:libjava java.base:libjvm, \\\n","filename":"make\/modules\/java.management\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-    JDK_LIBS := java jvm, \\\n+    JDK_LIBS := java.base:libjava java.base:libjvm, \\\n","filename":"make\/modules\/java.prefs\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-    JDK_LIBS := jvm, \\\n+    JDK_LIBS := java.base:libjvm, \\\n","filename":"make\/modules\/java.rmi\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-    JDK_LIBS := java, \\\n+    JDK_LIBS := java.base:libjava, \\\n","filename":"make\/modules\/jdk.attach\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-    JDK_LIBS := java, \\\n+    JDK_LIBS := java.base:libjava, \\\n","filename":"make\/modules\/jdk.hotspot.agent\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    JDK_LIBS := java, \\\n+    JDK_LIBS := java.base:libjava, \\\n","filename":"make\/modules\/jdk.management.agent\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-    JDK_LIBS := java jvm, \\\n+    JDK_LIBS := java.base:libjava java.base:libjvm, \\\n","filename":"make\/modules\/jdk.management\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-    JDK_LIBS := java, \\\n+    JDK_LIBS := java.base:libjava, \\\n","filename":"make\/modules\/jdk.net\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-      JDK_LIBS := java net, \\\n+      JDK_LIBS := java.base:libjava java.base:libnet, \\\n","filename":"make\/modules\/jdk.sctp\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -845,3 +845,3 @@\n-  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exeinvoke := jvm\n-  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exestack-gap := jvm\n-  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exestack-tls := jvm\n+  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exeinvoke := java.base:libjvm\n+  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exestack-gap := java.base:libjvm\n+  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exestack-tls := java.base:libjvm\n@@ -864,3 +864,3 @@\n-BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exesigtest := jvm\n-BUILD_HOTSPOT_JTREG_LIBRARIES_JDK_LIBS_libatExit := jvm\n-BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exedaemonDestroy := jvm\n+BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exesigtest := java.base:libjvm\n+BUILD_HOTSPOT_JTREG_LIBRARIES_JDK_LIBS_libatExit := java.base:libjvm\n+BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exedaemonDestroy := java.base:libjvm\n@@ -871,1 +871,1 @@\n-  BUILD_HOTSPOT_JTREG_LIBRARIES_JDK_LIBS_libnativeStack := jvm\n+  BUILD_HOTSPOT_JTREG_LIBRARIES_JDK_LIBS_libnativeStack := java.base:libjvm\n@@ -1511,1 +1511,1 @@\n-  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exeGetCreatedJavaVMs := jvm\n+  BUILD_HOTSPOT_JTREG_EXECUTABLES_JDK_LIBS_exeGetCreatedJavaVMs := java.base:libjvm\n","filename":"make\/test\/JtregNativeHotspot.gmk","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -56,3 +56,3 @@\n-BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeJliLaunchTest := jli\n-BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeCallerAccessTest := jvm\n-BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeNullCallerTest := jvm\n+BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeJliLaunchTest := java.base:libjli\n+BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeCallerAccessTest := java.base:libjvm\n+BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeNullCallerTest := java.base:libjvm\n@@ -60,4 +60,4 @@\n-BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libstringPlatformChars := java\n-BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libTracePinnedThreads := jvm\n-BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libNewDirectByteBuffer := java\n-BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libGetXSpace := java\n+BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libstringPlatformChars := java.base:libjava\n+BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libTracePinnedThreads := java.base:libjvm\n+BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libNewDirectByteBuffer := java.base:libjava\n+BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libGetXSpace := java.base:libjava\n@@ -75,1 +75,1 @@\n-  BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libDirectIO := java\n+  BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libDirectIO := java.base:libjava\n@@ -85,1 +85,1 @@\n-  BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libExplicitAttach := jvm\n+  BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libExplicitAttach := java.base:libjvm\n@@ -90,1 +90,1 @@\n-    BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libInheritedChannel := java\n+    BUILD_JDK_JTREG_LIBRARIES_JDK_LIBS_libInheritedChannel := java.base:libjava\n@@ -100,1 +100,1 @@\n-  BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeJniInvocationTest := jli\n+  BUILD_JDK_JTREG_EXECUTABLES_JDK_LIBS_exeJniInvocationTest := java.base:libjli\n","filename":"make\/test\/JtregNativeJdk.gmk","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-BUILD_LIBTEST_JTREG_EXECUTABLES_JDK_LIBS_exejvm-test-launcher := jvm\n+BUILD_LIBTEST_JTREG_EXECUTABLES_JDK_LIBS_exejvm-test-launcher := java.base:libjvm\n","filename":"make\/test\/JtregNativeLibTest.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
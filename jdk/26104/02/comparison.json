{"files":[{"patch":"@@ -1900,1 +1900,1 @@\n-     * Absolute bulk <i>get<\/i> method.\n+     * Relative bulk <i>get<\/i> method.\n@@ -1903,3 +1903,10 @@\n-     * buffer into the given array, starting at index {@code srcBegin} in this\n-     * buffer and at offset {@code dstBegin} in the array. The position of this\n-     * buffer is unchanged.\n+     * buffer into the given array, starting at index\n+     * {@code position() + srcBegin} in this buffer and at offset\n+     * {@code dstBegin} in the array. The position of this buffer is unchanged.\n+     *\n+     * <p> An invocation of this method behaves exactly the same was as the\n+     * invocation\n+     *\n+     * {@snippet lang=java :\n+     *     get(position() + srcBegin, dst, dstBegin, srcEnd - srcBegin)\n+     * }\n@@ -1908,2 +1915,4 @@\n-     *         The index in this buffer from which the first character will be\n-     *         read; must be non-negative and less than {@code limit()}\n+     *         The index in this buffer, relative to the current position,\n+     *         of the first character to\n+     *         read; must be non-negative and less than\n+     *         {@code limit() - position()}\n@@ -1912,3 +1921,4 @@\n-     *         The index in this buffer directly before the last character to\n-     *         read; must be non-negative and less or equal than {@code limit()}\n-     *         and must be greater or equal than {@code srcBegin}\n+     *         The index in this buffer, relative to the current position,\n+     *         after the last character to read;\n+     *         must be greater than or equal to {@code srcBegin} and less than\n+     *         or equal to {@code limit() - position()}\n@@ -1927,3 +1937,0 @@\n-     * @implSpec This method is equivalent to\n-     *           {@code get(srcBegin, dst, dstBegin, srcEnd - srcBegin)}.\n-     *\n@@ -1934,1 +1941,6 @@\n-        get(srcBegin, dst, dstBegin, srcEnd - srcBegin);\n+        \/\/ Check [srcBegin,srcEnd) is a subset of [0,limit()-position)\n+        int pos = position();\n+        int lim = limit();\n+        Objects.checkFromToIndex(srcBegin, srcEnd, lim - pos);\n+\n+        get(pos + srcBegin, dst, dstBegin, srcEnd - srcBegin);\n","filename":"src\/java.base\/share\/classes\/java\/nio\/X-Buffer.java.template","additions":25,"deletions":13,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- * @bug 8343110\n+ * @bug 8343110 8361299\n@@ -74,0 +74,13 @@\n+    @Test\n+    public void testSrcBeginIsNegationOfPosition() {\n+        CB.position(1);\n+        Assert.assertThrows(IndexOutOfBoundsException.class,\n+                            () -> {\n+                                try {\n+                                    CB.getChars(-1, 3, new char[4], 0);\n+                                } finally {\n+                                    CB.position(0);\n+                                }\n+                            });\n+    }\n+\n@@ -203,1 +216,1 @@\n-        cb.getChars(cb.position(), cb.limit(), dst, 0);\n+        cb.getChars(0, cb.remaining(), dst, 0);\n","filename":"test\/jdk\/java\/nio\/Buffer\/GetChars.java","additions":15,"deletions":2,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -60,2 +60,2 @@\n-os := $(shell uname -o)\n-cpu := $(shell uname -m)\n+OS := $(shell uname -o)\n+CPU := $(shell uname -m)\n@@ -64,1 +64,1 @@\n-me := $(cpu)-$(if $(findstring Linux,$(os)),linux-gnu)\n+ME := $(CPU)-$(if $(findstring Linux,$(OS)),linux-gnu)\n@@ -66,1 +66,1 @@\n-$(info Building on platform $(me))\n+$(info Building on platform $(ME))\n@@ -72,2 +72,2 @@\n-  platforms := $(me)\n-  host_platforms := $(platforms)\n+  PLATFORMS := $(ME)\n+  HOST_PLATFORMS := $(PLATFORMS)\n@@ -75,2 +75,2 @@\n-  platforms := $(subst $(COMMA), , $(TARGETS))\n-  host_platforms := $(me)\n+  PLATFORMS := $(subst $(COMMA), , $(TARGETS))\n+  HOST_PLATFORMS := $(ME)\n@@ -78,3 +78,3 @@\n-target_platforms := $(platforms)\n-$(info host_platforms $(host_platforms))\n-$(info target_platforms $(target_platforms))\n+TARGET_PLATFORMS := $(PLATFORMS)\n+$(info HOST_PLATFORMS $(HOST_PLATFORMS))\n+$(info TARGET_PLATFORMS $(TARGET_PLATFORMS))\n@@ -82,1 +82,1 @@\n-all compile : $(platforms)\n+all compile : $(PLATFORMS)\n@@ -85,1 +85,1 @@\n-  $(foreach p,$(filter-out $(me),$(platforms)),$(eval $(p) : $$(me)))\n+  $(foreach p,$(filter-out $(ME),$(PLATFORMS)),$(eval $(p) : $$(ME)))\n@@ -91,1 +91,1 @@\n-submakevars = HOST=$@ BUILD=$(me) RESULT=$(RESULT) OUTPUT_ROOT=$(OUTPUT_ROOT)\n+SUBMAKEVARS = HOST=$@ BUILD=$(ME) RESULT=$(RESULT) OUTPUT_ROOT=$(OUTPUT_ROOT)\n@@ -93,1 +93,1 @@\n-$(host_platforms) :\n+$(HOST_PLATFORMS) :\n@@ -95,3 +95,3 @@\n-\t@echo 'Targets: $(target_platforms)'\n-\tfor p in $(filter $@, $(target_platforms)) $(filter-out $@, $(target_platforms)); do \\\n-\t  $(MAKE) -f Tools.gmk download-rpms $(submakevars) \\\n+\t@echo 'Targets: $(TARGET_PLATFORMS)'\n+\tfor p in $(filter $@, $(TARGET_PLATFORMS)) $(filter-out $@, $(TARGET_PLATFORMS)); do \\\n+\t  $(MAKE) -f Tools.gmk download-rpms $(SUBMAKEVARS) \\\n@@ -99,1 +99,1 @@\n-\t  $(MAKE) -f Tools.gmk all $(submakevars) \\\n+\t  $(MAKE) -f Tools.gmk all $(SUBMAKEVARS) \\\n@@ -101,1 +101,1 @@\n-\t  $(MAKE) -f Tools.gmk ccache $(submakevars) \\\n+\t  $(MAKE) -f Tools.gmk ccache $(SUBMAKEVARS) \\\n@@ -106,1 +106,1 @@\n-today := $(shell date +%Y%m%d)\n+TODAY := $(shell date +%Y%m%d)\n@@ -109,1 +109,1 @@\n-  $(1)-to-$(2)_tar = $$(RESULT)\/sdk-$(1)-to-$(2)-$$(today).tar.gz\n+  $(1)-to-$(2)_tar = $$(RESULT)\/sdk-$(1)-to-$(2)-$$(TODAY).tar.gz\n@@ -114,1 +114,1 @@\n-$(foreach p,$(host_platforms),$(foreach t,$(target_platforms),$(eval $(call Mktar,$(p),$(t)))))\n+$(foreach p,$(HOST_PLATFORMS),$(foreach t,$(TARGET_PLATFORMS),$(eval $(call Mktar,$(p),$(t)))))\n@@ -122,1 +122,1 @@\n-\trm -rf $(addprefix ..\/..\/build\/devkit\/, result $(host_platforms))\n+\trm -rf $(addprefix ..\/..\/build\/devkit\/, result $(HOST_PLATFORMS))\n@@ -127,1 +127,1 @@\n-.PHONY : all compile tars $(configs) $(host_platforms) clean dist-clean\n+.PHONY : all compile tars $(HOST_PLATFORMS) clean dist-clean\n","filename":"make\/devkit\/Makefile","additions":25,"deletions":25,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-uppercase = $(shell echo $1 | tr a-z A-Z)\n+lowercase = $(shell echo $1 | tr A-Z a-z)\n@@ -107,3 +107,3 @@\n-gcc_ver_only := 14.2.0\n-binutils_ver_only := 2.43\n-ccache_ver_only := 4.10.2\n+GCC_VER_ONLY := 14.2.0\n+BINUTILS_VER_ONLY := 2.43\n+CCACHE_VER_ONLY := 4.10.2\n@@ -111,4 +111,4 @@\n-mpfr_ver_only := 4.2.1\n-gmp_ver_only := 6.3.0\n-mpc_ver_only := 1.3.1\n-gdb_ver_only := 15.2\n+MPFR_VER_ONLY := 4.2.1\n+GMP_VER_ONLY := 6.3.0\n+MPC_VER_ONLY := 1.3.1\n+GDB_VER_ONLY := 15.2\n@@ -116,1 +116,1 @@\n-dependencies := gcc binutils ccache mpfr gmp mpc gdb\n+DEPENDENCIES := GCC BINUTILS CCACHE MPFR GMP MPC GDB\n@@ -118,1 +118,1 @@\n-$(foreach dep,$(dependencies),$(eval $(dep)_ver := $(dep)-$($(dep)_ver_only)))\n+$(foreach dep,$(DEPENDENCIES),$(eval $(dep)_VER := $(call lowercase,$(dep)-$($(dep)_VER_ONLY))))\n@@ -120,7 +120,7 @@\n-GCC_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/gcc\/$(gcc_ver)\/$(gcc_ver).tar.xz\n-BINUTILS_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/binutils\/$(binutils_ver).tar.gz\n-CCACHE_URL := https:\/\/github.com\/ccache\/ccache\/releases\/download\/v$(ccache_ver_only)\/$(ccache_ver).tar.xz\n-MPFR_URL := https:\/\/www.mpfr.org\/$(mpfr_ver)\/$(mpfr_ver).tar.bz2\n-GMP_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/gmp\/$(gmp_ver).tar.bz2\n-MPC_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/mpc\/$(mpc_ver).tar.gz\n-GDB_URL := https:\/\/ftp.gnu.org\/gnu\/gdb\/$(gdb_ver).tar.xz\n+GCC_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/gcc\/$(GCC_VER)\/$(GCC_VER).tar.xz\n+BINUTILS_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/binutils\/$(BINUTILS_VER).tar.gz\n+CCACHE_URL := https:\/\/github.com\/ccache\/ccache\/releases\/download\/v$(CCACHE_VER_ONLY)\/$(CCACHE_VER).tar.xz\n+MPFR_URL := https:\/\/www.mpfr.org\/$(MPFR_VER)\/$(MPFR_VER).tar.bz2\n+GMP_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/gmp\/$(GMP_VER).tar.bz2\n+MPC_URL := https:\/\/ftp.gnu.org\/pub\/gnu\/mpc\/$(MPC_VER).tar.gz\n+GDB_URL := https:\/\/ftp.gnu.org\/gnu\/gdb\/$(GDB_VER).tar.xz\n@@ -183,1 +183,1 @@\n-rpms := $(SYSROOT)\/rpms_unpacked\n+RPMS := $(SYSROOT)\/rpms_unpacked\n@@ -186,1 +186,1 @@\n-libs := $(SYSROOT)\/libs_patched\n+LIBS := $(SYSROOT)\/libs_patched\n@@ -231,1 +231,1 @@\n-$(foreach dep,$(dependencies),$(eval $(call Download,$(call uppercase,$(dep)))))\n+$(foreach dep,$(DEPENDENCIES),$(eval $(call Download,$(dep))))\n@@ -253,1 +253,1 @@\n-  $$(rpms) : $(SYSROOT)\/$(notdir $(1)).unpacked\n+  $$(RPMS) : $(SYSROOT)\/$(notdir $(1)).unpacked\n@@ -280,1 +280,1 @@\n-$(libs) : $(rpms)\n+$(LIBS) : $(RPMS)\n@@ -296,1 +296,1 @@\n-  $(SYSROOT)\/usr\/include\/ffi.h: $(rpms)\n+  $(SYSROOT)\/usr\/include\/ffi.h: $(RPMS)\n@@ -299,1 +299,1 @@\n-  $(SYSROOT)\/usr\/include\/ffitarget.h: $(rpms)\n+  $(SYSROOT)\/usr\/include\/ffitarget.h: $(RPMS)\n@@ -308,1 +308,1 @@\n-$(foreach dep,$(dependencies),$(eval $(dep) = $(TARGETDIR)\/$($(dep)_ver).done))\n+$(foreach dep,$(DEPENDENCIES),$(eval $(dep) = $(TARGETDIR)\/$($(dep)_VER).done))\n@@ -348,1 +348,1 @@\n-  $$(BUILDDIR)\/$$(binutils_ver)-$(subst \/,-,$(1))\/Makefile \\\n+  $$(BUILDDIR)\/$$(BINUTILS_VER)-$(subst \/,-,$(1))\/Makefile \\\n@@ -350,1 +350,1 @@\n-  $$(BUILDDIR)\/$$(binutils_ver)-$(subst \/,-,$(1))\/Makefile \\\n+  $$(BUILDDIR)\/$$(BINUTILS_VER)-$(subst \/,-,$(1))\/Makefile \\\n@@ -353,2 +353,2 @@\n-  bfdlib += $$(TARGETDIR)\/$$(binutils_ver)-$(subst \/,-,$(1)).done\n-  bfdmakes += $$(BUILDDIR)\/$$(binutils_ver)-$(subst \/,-,$(1))\/Makefile\n+  BFDLIB += $$(TARGETDIR)\/$$(BINUTILS_VER)-$(subst \/,-,$(1)).done\n+  BFDMAKES += $$(BUILDDIR)\/$$(BINUTILS_VER)-$(subst \/,-,$(1))\/Makefile\n@@ -361,2 +361,2 @@\n-$(bfdlib) : MAKECMD = all-libiberty all-bfd\n-$(bfdlib) : INSTALLCMD = install-libiberty install-bfd\n+$(BFDLIB) : MAKECMD = all-libiberty all-bfd\n+$(BFDLIB) : INSTALLCMD = install-libiberty install-bfd\n@@ -366,1 +366,1 @@\n-$(bfdmakes) : CONFIG = --target=$(TARGET) \\\n+$(BFDMAKES) : CONFIG = --target=$(TARGET) \\\n@@ -372,1 +372,1 @@\n-$(bfdmakes) : TOOLS = $(call declare_tools,_FOR_TARGET,$(TARGET)-) $(call declare_tools,,$(TARGET)-)\n+$(BFDMAKES) : TOOLS = $(call declare_tools,_FOR_TARGET,$(TARGET)-) $(call declare_tools,,$(TARGET)-)\n@@ -376,7 +376,7 @@\n-$(gcc) \\\n-    $(binutils) \\\n-    $(gmp) \\\n-    $(mpfr) \\\n-    $(mpc) \\\n-    $(bfdmakes) \\\n-    $(ccache) : ENVS += $(TOOLS)\n+$(GCC) \\\n+    $(BINUTILS) \\\n+    $(GMP) \\\n+    $(MPFR) \\\n+    $(MPC) \\\n+    $(BFDMAKES) \\\n+    $(CCACHE) : ENVS += $(TOOLS)\n@@ -389,1 +389,1 @@\n-$(BUILDDIR)\/$(binutils_ver)\/Makefile : CONFIG += --enable-64-bit-bfd --libdir=$(PREFIX)\/$(word 1,$(LIBDIRS))\n+$(BUILDDIR)\/$(BINUTILS_VER)\/Makefile : CONFIG += --enable-64-bit-bfd --libdir=$(PREFIX)\/$(word 1,$(LIBDIRS))\n@@ -400,2 +400,2 @@\n-$(bfdmakes) \\\n-$(BUILDDIR)\/$(binutils_ver)\/Makefile \\\n+$(BFDMAKES) \\\n+$(BUILDDIR)\/$(BINUTILS_VER)\/Makefile \\\n@@ -420,1 +420,1 @@\n-$(BUILDDIR)\/$(mpfr_ver)\/Makefile \\\n+$(BUILDDIR)\/$(MPFR_VER)\/Makefile \\\n@@ -435,1 +435,1 @@\n-$(BUILDDIR)\/$(gmp_ver)\/Makefile \\\n+$(BUILDDIR)\/$(GMP_VER)\/Makefile \\\n@@ -452,1 +452,1 @@\n-$(BUILDDIR)\/$(mpc_ver)\/Makefile \\\n+$(BUILDDIR)\/$(MPC_VER)\/Makefile \\\n@@ -471,1 +471,1 @@\n-  $(BUILDDIR)\/$(gcc_ver)\/Makefile : CONFIG += --enable-__cxa_atexit\n+  $(BUILDDIR)\/$(GCC_VER)\/Makefile : CONFIG += --enable-__cxa_atexit\n@@ -475,1 +475,1 @@\n-  $(BUILDDIR)\/$(gcc_ver)\/Makefile : CONFIG +=  --with-float=hard\n+  $(BUILDDIR)\/$(GCC_VER)\/Makefile : CONFIG +=  --with-float=hard\n@@ -490,1 +490,1 @@\n-$(BUILDDIR)\/$(gcc_ver)\/Makefile \\\n+$(BUILDDIR)\/$(GCC_VER)\/Makefile \\\n@@ -512,1 +512,1 @@\n-$(gcc) : $(binutils)\n+$(GCC) : $(BINUTILS)\n@@ -515,3 +515,3 @@\n-$(BUILDDIR)\/$(gcc_ver)\/Makefile : $(gmp) $(mpfr) $(mpc)\n-$(mpfr) : $(gmp)\n-$(mpc) : $(gmp) $(mpfr)\n+$(BUILDDIR)\/$(GCC_VER)\/Makefile : $(GMP) $(MPFR) $(MPC)\n+$(MPFR) : $(GMP)\n+$(MPC) : $(GMP) $(MPFR)\n@@ -522,1 +522,1 @@\n-  $(BUILDDIR)\/$(gdb_ver)\/Makefile: $(GDB_CFG)\n+  $(BUILDDIR)\/$(GDB_VER)\/Makefile: $(GDB_CFG)\n@@ -535,1 +535,1 @@\n-  $(gdb): $(gcc)\n+  $(GDB): $(GCC)\n@@ -537,1 +537,1 @@\n-  $(BUILDDIR)\/$(gdb_ver)\/Makefile:\n+  $(BUILDDIR)\/$(GDB_VER)\/Makefile:\n@@ -546,1 +546,1 @@\n-$(BUILDDIR)\/$(ccache_ver)\/Makefile \\\n+$(BUILDDIR)\/$(CCACHE_VER)\/Makefile \\\n@@ -557,1 +557,1 @@\n-gccpatch = $(TARGETDIR)\/gcc-patched\n+GCC_PATCHED = $(TARGETDIR)\/gcc-patched\n@@ -562,1 +562,1 @@\n-  $(gccpatch) : $(gcc) link_libs\n+  $(GCC_PATCHED) : $(GCC) link_libs\n@@ -590,1 +590,1 @@\n-  $(gccpatch) :\n+  $(GCC_PATCHED) :\n@@ -618,1 +618,1 @@\n-\techo 'DEVKIT_NAME=\"$(gcc_ver) - $(LINUX_VERSION)\"' >> $@\n+\techo 'DEVKIT_NAME=\"$(GCC_VER) - $(LINUX_VERSION)\"' >> $@\n@@ -654,2 +654,2 @@\n-  missing-links := $(addprefix $(PREFIX)\/bin\/, \\\n-      addr2line ar as c++ c++filt dwp elfedit g++ gcc gcc-$(gcc_ver_only) gprof ld ld.bfd \\\n+  MISSING_LINKS := $(addprefix $(PREFIX)\/bin\/, \\\n+      addr2line ar as c++ c++filt dwp elfedit g++ gcc gcc-$(GCC_VER_ONLY) gprof ld ld.bfd \\\n@@ -660,1 +660,1 @@\n-$(PREFIX)\/lib\/bfd-plugins\/liblto_plugin.so: $(PREFIX)\/libexec\/gcc\/$(TARGET)\/$(gcc_ver_only)\/liblto_plugin.so\n+$(PREFIX)\/lib\/bfd-plugins\/liblto_plugin.so: $(PREFIX)\/libexec\/gcc\/$(TARGET)\/$(GCC_VER_ONLY)\/liblto_plugin.so\n@@ -665,1 +665,1 @@\n-missing-links += $(PREFIX)\/lib\/bfd-plugins\/liblto_plugin.so\n+MISSING_LINKS += $(PREFIX)\/lib\/bfd-plugins\/liblto_plugin.so\n@@ -669,4 +669,4 @@\n-bfdlib : $(bfdlib)\n-binutils : $(binutils)\n-rpms : $(rpms)\n-libs : $(libs)\n+bfdlib : $(BFDLIB)\n+binutils : $(BINUTILS)\n+rpms : $(RPMS)\n+libs : $(LIBS)\n@@ -674,3 +674,3 @@\n-gcc : sysroot $(gcc) $(gccpatch)\n-gdb : $(gdb)\n-all : binutils gcc bfdlib $(PREFIX)\/devkit.info $(missing-links) $(SYSROOT_LINKS) \\\n+gcc : sysroot $(GCC) $(GCC_PATCHED)\n+gdb : $(GDB)\n+all : binutils gcc bfdlib $(PREFIX)\/devkit.info $(MISSING_LINKS) $(SYSROOT_LINKS) \\\n@@ -680,1 +680,1 @@\n-ccache : $(ccache)\n+ccache : $(CCACHE)\n","filename":"make\/devkit\/Tools.gmk","additions":73,"deletions":73,"binary":false,"changes":146,"status":"modified"}]}
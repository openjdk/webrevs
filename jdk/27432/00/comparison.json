{"files":[{"patch":"@@ -41,0 +41,9 @@\n+\/\/ Return true iff an access to bt is single-copy atomic.\n+static bool access_is_atomic(BasicType bt) {\n+#ifdef CPU_MULTI_COPY_ATOMIC\n+  return type2aelembytes(bt) <= wordSize;\n+#else\n+  return false;\n+#endif\n+}\n+\n@@ -143,1 +152,1 @@\n-  bool is_atomic = is_volatile || AlwaysAtomicAccesses;\n+  bool is_atomic = is_volatile || (AlwaysAtomicAccesses && ! access_is_atomic(value->type()));\n@@ -172,1 +181,1 @@\n-  bool is_atomic = is_volatile || AlwaysAtomicAccesses;\n+  bool is_atomic = is_volatile || (AlwaysAtomicAccesses && ! access_is_atomic(result->type()));\n","filename":"src\/hotspot\/share\/gc\/shared\/c1\/barrierSetC1.cpp","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"}]}
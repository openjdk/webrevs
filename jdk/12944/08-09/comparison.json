{"files":[{"patch":"@@ -580,3 +580,3 @@\n-                        clb.withFlags(ACC_FINAL + ACC_SUPER);\n-                        clb.withInterfaceSymbols(List.of(CD_SYSTEM_MODULES));\n-                        clb.withVersion(52, 0);\n+                        clb.withFlags(ACC_FINAL + ACC_SUPER)\n+                           .withInterfaceSymbols(List.of(CD_SYSTEM_MODULES))\n+                           .withVersion(52, 0);\n@@ -850,2 +850,2 @@\n-                        cob.constantInstruction(map.size());\n-                        cob.anewarray(ClassDesc.ofInternalName(\"java\/util\/Map$Entry\"));\n+                        cob.constantInstruction(map.size())\n+                           .anewarray(ClassDesc.ofInternalName(\"java\/util\/Map$Entry\"));\n@@ -875,2 +875,2 @@\n-                                             true);\n-                            cob.aastore();\n+                                             true)\n+                               .aastore();\n@@ -885,2 +885,2 @@\n-                                         true);\n-                        cob.areturn();\n+                                         true)\n+                           .areturn();\n@@ -899,2 +899,2 @@\n-                cob.constantInstruction(size);\n-                cob.anewarray(CD_String);\n+                cob.constantInstruction(size)\n+                   .anewarray(CD_String);\n@@ -903,4 +903,4 @@\n-                    cob.stackInstruction(Opcode.DUP);\n-                    cob.constantInstruction(i);\n-                    cob.constantInstruction(element);\n-                    cob.arrayStoreInstruction(TypeKind.ReferenceType);\n+                    cob.dup()\n+                       .constantInstruction(i)\n+                       .constantInstruction(element)\n+                       .aastore();\n@@ -909,5 +909,5 @@\n-                cob.invokeInstruction(Opcode.INVOKESTATIC,\n-                        CD_Set,\n-                        \"of\",\n-                        MethodTypeDesc.ofDescriptor(\"([Ljava\/lang\/Object;)Ljava\/util\/Set;\"),\n-                        true);\n+                cob.invokestatic(CD_Set,\n+                                 \"of\",\n+                                 MethodTypeDesc.ofDescriptor(\n+                                         \"([Ljava\/lang\/Object;)Ljava\/util\/Set;\"),\n+                                 true);\n@@ -920,5 +920,4 @@\n-                cob.invokeInstruction(Opcode.INVOKESTATIC,\n-                        CD_Set,\n-                        \"of\",\n-                        MethodTypeDesc.of(CD_Set, mtdArgs),\n-                        true);\n+                cob.invokestatic(CD_Set,\n+                                 \"of\",\n+                                 MethodTypeDesc.of(CD_Set, mtdArgs),\n+                                 true);\n@@ -1243,3 +1242,3 @@\n-                cob.loadInstruction(TypeKind.ReferenceType, BUILDER_VAR);\n-                cob.constantInstruction(provides.size());\n-                cob.anewarray(CD_PROVIDES);\n+                cob.aload(BUILDER_VAR)\n+                   .constantInstruction(provides.size())\n+                   .anewarray(CD_PROVIDES);\n@@ -1248,2 +1247,2 @@\n-                    cob.stackInstruction(Opcode.DUP);    \/\/ arrayref\n-                    cob.constantInstruction(arrayIndex++);\n+                    cob.dup()    \/\/ arrayref\n+                       .constantInstruction(arrayIndex++);\n@@ -1251,1 +1250,1 @@\n-                    cob.arrayStoreInstruction(TypeKind.ReferenceType);\n+                    cob.aastore();\n@@ -1253,2 +1252,3 @@\n-                cob.invokeInstruction(Opcode.INVOKEVIRTUAL, CD_MODULE_BUILDER,\n-                    \"provides\", MTD_PROVIDES_ARRAY, false);\n+                cob.invokevirtual(CD_MODULE_BUILDER,\n+                                  \"provides\",\n+                                  MTD_PROVIDES_ARRAY);\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/plugins\/SystemModulesPlugin.java","additions":33,"deletions":33,"binary":false,"changes":66,"status":"modified"}]}
{"files":[{"patch":"@@ -34,0 +34,2 @@\n+  \/\/ Small values for mutator alloc, larger values for gc alloc;\n+  \/\/ odd for lab alloc, and even value for non-lab alloc;\n@@ -35,7 +37,6 @@\n-    _alloc_shared,      \/\/ Allocate common, outside of TLAB\n-    _alloc_shared_gc,   \/\/ Allocate common, outside of GCLAB\/PLAB\n-    _alloc_cds,         \/\/ Allocate for CDS\n-    _alloc_tlab,        \/\/ Allocate TLAB\n-    _alloc_gclab,       \/\/ Allocate GCLAB\n-    _alloc_plab,        \/\/ Allocate PLAB\n-    _ALLOC_LIMIT\n+    _alloc_cds        = 0, \/\/ Allocate for CDS\n+    _alloc_tlab       = 1, \/\/ Allocate TLAB\n+    _alloc_shared     = 2, \/\/ Allocate common, outside of TLAB\n+    _alloc_shared_gc  = 4, \/\/ Allocate common, outside of GCLAB\/PLAB\n+    _alloc_gclab      = 5, \/\/ Allocate GCLAB\n+    _alloc_plab       = 7  \/\/ Allocate PLAB\n@@ -46,4 +47,0 @@\n-      case _alloc_shared:\n-        return \"Shared\";\n-      case _alloc_shared_gc:\n-        return \"Shared GC\";\n@@ -54,0 +51,4 @@\n+      case _alloc_shared:\n+        return \"Shared\";\n+      case _alloc_shared_gc:\n+        return \"Shared GC\";\n@@ -170,13 +171,1 @@\n-    switch (_alloc_type) {\n-      case _alloc_tlab:\n-      case _alloc_shared:\n-      case _alloc_cds:\n-        return true;\n-      case _alloc_gclab:\n-      case _alloc_plab:\n-      case _alloc_shared_gc:\n-        return false;\n-      default:\n-        ShouldNotReachHere();\n-        return false;\n-    }\n+    return _alloc_type <= _alloc_shared;\n@@ -186,13 +175,1 @@\n-    switch (_alloc_type) {\n-      case _alloc_tlab:\n-      case _alloc_shared:\n-      case _alloc_cds:\n-        return false;\n-      case _alloc_gclab:\n-      case _alloc_plab:\n-      case _alloc_shared_gc:\n-        return true;\n-      default:\n-        ShouldNotReachHere();\n-        return false;\n-    }\n+    return _alloc_type >= _alloc_shared_gc;\n@@ -202,13 +179,1 @@\n-    switch (_alloc_type) {\n-      case _alloc_tlab:\n-      case _alloc_gclab:\n-      case _alloc_plab:\n-        return true;\n-      case _alloc_shared:\n-      case _alloc_shared_gc:\n-      case _alloc_cds:\n-        return false;\n-      default:\n-        ShouldNotReachHere();\n-        return false;\n-    }\n+    return (_alloc_type & 1) == 1;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAllocRequest.hpp","additions":15,"deletions":50,"binary":false,"changes":65,"status":"modified"}]}
{"files":[{"patch":"@@ -34,6 +34,14 @@\n-  \/\/ bit 0: mutator (0) or GC (1) alloc\n-  \/\/ bit 1: shared (0) or LAB (1) alloc\n-  \/\/ bit 2: if LAB, then GCLAB (0) or PLAB (1)\n-  \/\/ bit 3: if mutator, then normal (0) or CDS (1)\n-  \/\/ bit 4: if GC and shared, then YOUNG_GENERATION (0) or OLD_GENERATION (1); PLAB is always OLD_GENERATION (1)\n-  \/\/ bit 5: if GC shared OLD_GENERATION alloc, then non-promotion (0) or promotion (1).\n+  \/\/ Alloc type is encoded bits with scheme as:\n+  \/\/ [x|xx|xx|xx]\n+  \/\/          ^---- Requester:\n+  \/\/                  00 -- mutator\n+  \/\/                  10 -- mutator (CDS)\n+  \/\/                  01 -- GC\n+  \/\/       ^------- Purpose:\n+  \/\/                  00 -- shared\n+  \/\/                  01 -- TLAB\/GCLAB\n+  \/\/                  11 -- PLAB\n+  \/\/    ^---------- Affiliation:\n+  \/\/                  00 -- YOUNG\n+  \/\/                  01 -- OLD\n+  \/\/                  11 -- OLD, promotion\n@@ -43,3 +51,3 @@\n-  static constexpr int bit_lab_alloc        = 1 << 1;\n-  static constexpr int bit_plab_alloc       = 1 << 2;\n-  static constexpr int bit_cds_alloc        = 1 << 3;\n+  static constexpr int bit_cds_alloc        = 1 << 1;\n+  static constexpr int bit_lab_alloc        = 1 << 2;\n+  static constexpr int bit_plab_alloc       = 1 << 3;\n@@ -49,1 +57,0 @@\n-\n@@ -54,2 +61,2 @@\n-  static constexpr Type _alloc_shared_gc_old       = _alloc_shared_gc | bit_old_alloc;\n-  static constexpr Type _alloc_shared_gc_promotion = _alloc_shared_gc_old | bit_promotion_alloc;\n+  static constexpr Type _alloc_shared_gc_old       = bit_gc_alloc | bit_old_alloc;\n+  static constexpr Type _alloc_shared_gc_promotion = bit_gc_alloc | bit_old_alloc | bit_promotion_alloc;\n@@ -57,1 +64,1 @@\n-  static constexpr Type _alloc_plab                = bit_gc_alloc | bit_lab_alloc | bit_plab_alloc | bit_old_alloc;\n+  static constexpr Type _alloc_plab                = bit_gc_alloc | bit_plab_alloc | bit_old_alloc;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAllocRequest.hpp","additions":20,"deletions":13,"binary":false,"changes":33,"status":"modified"}]}
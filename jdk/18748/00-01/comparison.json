{"files":[{"patch":"@@ -2610,0 +2610,10 @@\n+    if (_oome) {\n+      \/\/ Each additional parallel writer requires several MB of internal memory\n+      \/\/ (DumpWriter buffer, DumperClassCacheTable, GZipCompressor buffers).\n+      \/\/ For the OOM handling we may already be limited in memory.\n+      \/\/ Lets ensure we have at least 20MB per thread.\n+      julong max_threads = os::free_memory() \/ (20 * M);\n+      if (num_dump_threads > max_threads) {\n+        num_dump_threads = MAX2<int>(1, (int)max_threads);\n+      }\n+    }\n","filename":"src\/hotspot\/share\/services\/heapDumper.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -771,5 +771,4 @@\n-  if (elem_klass == nullptr || shuffle_klass == nullptr || shuffle->is_top() || vlen == nullptr) {\n-    return false; \/\/ dead code\n-  }\n-  if (!vlen->is_con() || shuffle_klass->const_oop() == nullptr) {\n-    return false; \/\/ not enough info for intrinsification\n+  if (elem_klass == nullptr || shuffle_klass == nullptr || shuffle->is_top() || vlen == nullptr ||\n+      !vlen->is_con() || shuffle_klass->const_oop() == nullptr) {\n+    \/\/ not enough info for intrinsification\n+    return false;\n@@ -777,0 +776,1 @@\n+\n@@ -790,1 +790,0 @@\n-\n@@ -793,0 +792,2 @@\n+    log_if_needed(\"  ** not supported: op=wrapShuffleIndexes vlen=%d etype=%s\",\n+                  num_elem, type2name(shuffle_bt));\n@@ -805,1 +806,0 @@\n-\n@@ -808,1 +808,0 @@\n-\n@@ -2119,4 +2118,2 @@\n-  if (vector_klass == nullptr  || elem_klass == nullptr || vlen == nullptr) {\n-    return false; \/\/ dead code\n-  }\n-  if (vector_klass->const_oop()  == nullptr ||\n+  if (vector_klass == nullptr  || elem_klass == nullptr || vlen == nullptr ||\n+      vector_klass->const_oop()  == nullptr ||\n@@ -2141,1 +2138,0 @@\n-\n@@ -2143,2 +2139,2 @@\n-  if ((num_elem < 4) || !is_power_of_2(num_elem)) {\n-    log_if_needed(\"  ** vlen < 4 or not power of two=%d\", num_elem);\n+  if (!is_power_of_2(num_elem)) {\n+    log_if_needed(\"  ** vlen not power of two=%d\", num_elem);\n@@ -2187,1 +2183,7 @@\n-  if (v1 == nullptr || v2 == nullptr) {\n+  if (v1 == nullptr) {\n+    log_if_needed(\"  ** unbox failed v1=%s\", NodeClassNames[argument(4)->Opcode()]);\n+    return false; \/\/ operand unboxing failed\n+  }\n+\n+  if (v2 == nullptr) {\n+    log_if_needed(\"  ** unbox failed v2=%s\", NodeClassNames[argument(5)->Opcode()]);\n@@ -2197,2 +2199,1 @@\n-      log_if_needed(\"  ** not supported: op=selectFrom vlen=%d etype=%s is_masked_op=1\",\n-                      num_elem, type2name(elem_bt));\n+      log_if_needed(\"  ** unbox failed mask=%s\", NodeClassNames[argument(6)->Opcode()]);\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":19,"deletions":18,"binary":false,"changes":37,"status":"modified"}]}
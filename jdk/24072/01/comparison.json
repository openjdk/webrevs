{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,8 @@\n+import java.awt.Desktop;\n+import java.io.IOException;\n+import java.lang.reflect.InvocationTargetException;\n+import java.net.URI;\n+import javax.swing.JPanel;\n+\n+import jtreg.SkippedException;\n+\n@@ -28,2 +36,2 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @build PassFailJFrame\n+ * @library \/java\/awt\/regtesthelpers \/test\/lib\n+ * @build PassFailJFrame jtreg.SkippedException\n@@ -33,6 +41,0 @@\n-import java.awt.Desktop;\n-import java.io.IOException;\n-import java.lang.reflect.InvocationTargetException;\n-import java.net.URI;\n-import javax.swing.JPanel;\n-\n@@ -51,6 +53,0 @@\n-        if (!Desktop.isDesktopSupported()) {\n-            PassFailJFrame.log(\"Class java.awt.Desktop is not supported on \" +\n-                    \"current platform. Farther testing will not be performed\");\n-            PassFailJFrame.forcePass();\n-        }\n-\n@@ -58,5 +54,0 @@\n-        if (!desktop.isSupported(Desktop.Action.MAIL)) {\n-            PassFailJFrame.log(\"Action.MAIL is not supported.\");\n-            PassFailJFrame.forcePass();\n-        }\n-\n@@ -106,0 +97,12 @@\n+        if (!Desktop.isDesktopSupported()) {\n+            String errorMessage = \"Class java.awt.Desktop is not supported on \" +\n+                    \"current platform. Further testing will not be performed\";\n+            throw new SkippedException(errorMessage);\n+        }\n+\n+        Desktop desktop = Desktop.getDesktop();\n+        if (!desktop.isSupported(Desktop.Action.MAIL)) {\n+            String errorMessage = \"Action.MAIL is not supported.\";\n+            throw new SkippedException(errorMessage);\n+        }\n+\n","filename":"test\/jdk\/java\/awt\/Desktop\/MailTest.java","additions":23,"deletions":20,"binary":false,"changes":43,"status":"modified"}]}
{"files":[{"patch":"@@ -2027,0 +2027,2 @@\n+\n+            public abstract Spliterator<Map.Entry<K,V>> spliterator();\n@@ -2097,1 +2099,2 @@\n-        final class SubMapEntryIterator extends SubMapIterator<Map.Entry<K,V>> {\n+        final class SubMapEntryIterator extends SubMapIterator<Map.Entry<K,V>>\n+            implements Spliterator<Map.Entry<K,V>> {\n@@ -2108,0 +2111,35 @@\n+            public Spliterator<Map.Entry<K,V>> trySplit() {\n+                return null;\n+            }\n+            public void forEachRemaining(Consumer<? super Map.Entry<K,V>> action) {\n+                while (hasNext())\n+                    action.accept(next());\n+            }\n+            public boolean tryAdvance(Consumer<? super Map.Entry<K,V>> action) {\n+                if (hasNext()) {\n+                    action.accept(next());\n+                    return true;\n+                }\n+                return false;\n+            }\n+            public long estimateSize() {\n+                return Long.MAX_VALUE;\n+            }\n+            public int characteristics() {\n+                return Spliterator.DISTINCT | Spliterator.ORDERED |\n+                    Spliterator.SORTED;\n+            }\n+            public final Comparator<Map.Entry<K,V>> getComparator() {\n+                \/\/ Adapt or create a key-based comparator\n+                Comparator<? super K> cmp = NavigableSubMap.this.comparator();\n+                if (cmp != null) {\n+                    return Map.Entry.comparingByKey(cmp);\n+                }\n+                else {\n+                    return (Comparator<Map.Entry<K, V>> & Serializable) (e1, e2) -> {\n+                        @SuppressWarnings(\"unchecked\")\n+                        Comparable<? super K> k1 = (Comparable<? super K>) e1.getKey();\n+                        return k1.compareTo(e2.getKey());\n+                    };\n+                }\n+            }\n@@ -2110,1 +2148,2 @@\n-        final class DescendingSubMapEntryIterator extends SubMapIterator<Map.Entry<K,V>> {\n+        final class DescendingSubMapEntryIterator extends SubMapIterator<Map.Entry<K,V>>\n+            implements Spliterator<Map.Entry<K,V>> {\n@@ -2122,0 +2161,20 @@\n+            public Spliterator<Map.Entry<K,V>> trySplit() {\n+                return null;\n+            }\n+            public void forEachRemaining(Consumer<? super Map.Entry<K,V>> action) {\n+                while (hasNext())\n+                    action.accept(next());\n+            }\n+            public boolean tryAdvance(Consumer<? super Map.Entry<K,V>> action) {\n+                if (hasNext()) {\n+                    action.accept(next());\n+                    return true;\n+                }\n+                return false;\n+            }\n+            public long estimateSize() {\n+                return Long.MAX_VALUE;\n+            }\n+            public int characteristics() {\n+                return Spliterator.DISTINCT | Spliterator.ORDERED;\n+            }\n@@ -2267,0 +2326,4 @@\n+\n+            public Spliterator<Map.Entry<K,V>> spliterator() {\n+                return new SubMapEntryIterator(absLowest(), absHighFence());\n+            }\n@@ -2355,0 +2418,4 @@\n+\n+            public Spliterator<Map.Entry<K,V>> spliterator() {\n+                return new DescendingSubMapEntryIterator(absHighest(), absLowFence());\n+            }\n@@ -3381,0 +3448,1 @@\n+\n","filename":"src\/java.base\/share\/classes\/java\/util\/TreeMap.java","additions":70,"deletions":2,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -121,1 +121,0 @@\n-        maps.put(TreeMap.class.getName() + \".descendingMap()\", () -> new TreeMap<>(content).descendingMap());\n@@ -124,0 +123,1 @@\n+\/\/        maps.put(TreeMap.class.getName() + \".descendingMap()\", () -> new TreeMap<>(content).descendingMap());\n","filename":"test\/jdk\/java\/util\/stream\/test\/org\/openjdk\/tests\/java\/util\/stream\/CollectionAndMapModifyStreamTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
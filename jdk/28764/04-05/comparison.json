{"files":[{"patch":"@@ -153,4 +153,4 @@\n-\/\/     execute the loads after the stores (e.g. the loads are in cache so it can be executed sooner\n-\/\/     while the stores need to wait for the acquisition of the corresponding cache lines). As a\n-\/\/     result, we can consider those loads to be loads from an object that has not escaped, and\n-\/\/     fold o.x to v1 and o.y to v2.\n+\/\/     execute the loads after the stores (e.g. the loads are in cache so they can be executed\n+\/\/     sooner while the stores need to wait for the acquisition of the corresponding cache lines).\n+\/\/     As a result, we can consider those loads to be from an object that has not escaped, and fold\n+\/\/     o.x to v1 and o.y to v2.\n@@ -380,2 +380,2 @@\n-    \/\/ If we encounter a store that we cannot decide if it modify the memory candidate loads from,\n-    \/\/ give up\n+    \/\/ If we encounter a store that we cannot decide if it modifies the memory candidate loads\n+    \/\/ from, give up\n@@ -426,2 +426,1 @@\n-      } else {\n-        assert(res->is_Store(), \"must be a store %s\", res->Name());\n+      } else if (res->Opcode() == candidate->store_Opcode()) {\n@@ -429,0 +428,2 @@\n+      } else {\n+        return nullptr;\n","filename":"src\/hotspot\/share\/opto\/phaseloadfolding.cpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -53,2 +53,1 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @library \/test\/lib\n+ * @library \/java\/awt\/regtesthelpers \/test\/lib\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/Collate2DPrintingTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -35,1 +35,0 @@\n-import java.awt.print.PrinterException;\n@@ -45,4 +44,2 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @library \/test\/lib\n- * @build PassFailJFrame\n- * @build jtreg.SkippedException\n+ * @library \/java\/awt\/regtesthelpers \/test\/lib\n+ * @build PassFailJFrame jtreg.SkippedException\n@@ -66,0 +63,1 @@\n+\n@@ -75,13 +73,9 @@\n-        \/\/ print images\n-        if (image != null) {\n-            int imageH = image.getHeight(), imageW = image.getWidth();\n-            \/\/ make slightly smaller (25) than max possible width\n-            float scaleFactor = ((float) ((paperW - 25) - _objectBorder -\n-                    _objectBorder) \/ (float) (imageW));\n-\n-            BufferedImageOp scaleOp = new RescaleOp(scaleFactor, 0, null);\n-            g2D.drawImage(image, scaleOp, x + _objectBorder, y + _objectBorder);\n-            return Printable.PAGE_EXISTS;\n-        } else {\n-            return Printable.NO_SUCH_PAGE;\n-        }\n+        \/\/ make slightly smaller (25) than max possible width\n+        float scaleFactor = ((float) ((paperW - 25) - _objectBorder -\n+                _objectBorder) \/ (float) (image.getWidth()));\n+\n+        BufferedImageOp scaleOp = new RescaleOp(scaleFactor, 0, null);\n+        g2D.drawImage(image, scaleOp, x + _objectBorder, y + _objectBorder);\n+\n+        g2D.dispose();\n+        return Printable.PAGE_EXISTS;\n@@ -96,1 +90,1 @@\n-                if (pageIndex == 0) {\n+                if (pageIndex == 0 && _image != null) {\n@@ -102,5 +96,1 @@\n-                try {\n-                    pj.print();\n-                } catch (PrinterException e) {\n-                    System.out.println(e);\n-                }\n+                pj.print();\n@@ -110,1 +100,1 @@\n-            e.printStackTrace(System.out);\n+            e.printStackTrace();\n@@ -154,1 +144,0 @@\n-        AffineTransform original = g2D.getTransform();\n@@ -156,1 +145,1 @@\n-                5, h \/ 5);\n+                5.0, h \/ 5.0);\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/DrawImage.java","additions":16,"deletions":27,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -44,4 +44,2 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @library \/test\/lib\n- * @build PassFailJFrame\n- * @build jtreg.SkippedException\n+ * @library \/test\/lib \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame jtreg.SkippedException\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/DrawStringMethods.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -46,4 +46,2 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @library \/test\/lib\n- * @build PassFailJFrame\n- * @build jtreg.SkippedException\n+ * @library \/test\/lib \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame jtreg.SkippedException\n@@ -68,3 +66,3 @@\n-            try {\n-                if (pJob.printDialog()) {\n-                    pJob.setPrintable(InvalidPage.this, pf);\n+            if (pJob.printDialog()) {\n+                pJob.setPrintable(InvalidPage.this, pf);\n+                try {\n@@ -72,0 +70,2 @@\n+                } catch (PrinterException pe) {\n+                    pe.printStackTrace();\n@@ -73,1 +73,0 @@\n-            } catch (PrinterException pe) {\n@@ -108,0 +107,1 @@\n+        g2d.dispose();\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/InvalidPage.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -35,4 +35,2 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @library \/test\/lib\n- * @build PassFailJFrame\n- * @build jtreg.SkippedException\n+ * @library \/test\/lib \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame jtreg.SkippedException\n@@ -77,0 +75,1 @@\n+        g2d.dispose();\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/JobName\/PrinterJobName.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -38,4 +38,2 @@\n- * @library \/java\/awt\/regtesthelpers\n- * @library \/test\/lib\n- * @build PassFailJFrame\n- * @build jtreg.SkippedException\n+ * @library \/test\/lib \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame jtreg.SkippedException\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/NumCopies.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"}]}
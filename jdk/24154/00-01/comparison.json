{"files":[{"patch":"@@ -47,1 +47,1 @@\n-    private final Optional<String> connectionLabel;\n+    private final String connectionLabel;\n@@ -63,1 +63,1 @@\n-        this.connectionLabel = connectionLabel(exch);\n+        this.connectionLabel = connectionLabel(exch).orElse(null);\n@@ -76,13 +76,4 @@\n-        if (exchange == null) {\n-            return Optional.empty();\n-        }\n-        ExchangeImpl<?> exchImpl = exchange.exchImpl;\n-        if (exchImpl == null) {\n-            return Optional.empty();\n-        }\n-        @SuppressWarnings(\"resource\")\n-        HttpConnection connection = exchImpl.connection();\n-        if (connection == null) {\n-            return Optional.empty();\n-        }\n-        return Optional.of(connection.label());\n+        return Optional.ofNullable(exchange)\n+                                 .map(e -> e.exchImpl)\n+                                 .map(ExchangeImpl::connection)\n+                                 .map(HttpConnection::label);\n@@ -98,1 +89,1 @@\n-        return connectionLabel;\n+        return Optional.ofNullable(connectionLabel);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/HttpResponseImpl.java","additions":7,"deletions":16,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -815,1 +815,1 @@\n-  if (counted_loop && UseLoopPredicate) {\n+  if (counted_loop) {\n@@ -1453,5 +1453,3 @@\n-  if (UseLoopPredicate) {\n-    initialize_assertion_predicates_for_main_loop(pre_head, main_head, first_node_index_in_pre_loop_body,\n-                                                  last_node_index_in_pre_loop_body,\n-                                                  DEBUG_ONLY(last_node_index_from_backedge_goo COMMA) old_new);\n-  }\n+  initialize_assertion_predicates_for_main_loop(pre_head, main_head, first_node_index_in_pre_loop_body,\n+                                                last_node_index_in_pre_loop_body,\n+                                                DEBUG_ONLY(last_node_index_from_backedge_goo COMMA) old_new);\n@@ -1686,3 +1684,1 @@\n-  if (UseLoopPredicate) {\n-    initialize_assertion_predicates_for_post_loop(main_head, post_head, first_node_index_in_cloned_loop_body);\n-  }\n+  initialize_assertion_predicates_for_post_loop(main_head, post_head, first_node_index_in_cloned_loop_body);\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -170,1 +170,12 @@\n- * @test id=NoLoopPredication\n+ * @test id=NoLoopPredicationXcomp\n+ * @bug 8288981 8350577\n+ * @requires vm.compiler2.enabled\n+ * @run main\/othervm -Xcomp -XX:-UseLoopPredicate\n+ *                   -XX:+UnlockDiagnosticVMOptions -XX:+AbortVMOnCompilationFailure\n+ *                   -XX:CompileCommand=compileonly,compiler.predicates.assertion.TestAssertionPredicates::*\n+ *                   -XX:CompileCommand=dontinline,compiler.predicates.assertion.TestAssertionPredicates::*\n+ *                   compiler.predicates.assertion.TestAssertionPredicates NoLoopPredication\n+ *\/\n+\n+\/*\n+ * @test id=NoLoopPredicationXbatch\n","filename":"test\/hotspot\/jtreg\/compiler\/predicates\/assertion\/TestAssertionPredicates.java","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"}]}
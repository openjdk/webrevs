{"files":[{"patch":"@@ -807,1 +807,1 @@\n-    obj = _old_gen->promote(old, s);\n+    obj = _old_gen->allocate_for_promotion(old, s);\n@@ -813,2 +813,0 @@\n-    ContinuationGCSupport::transform_stack_chunk(obj);\n-\n@@ -816,4 +814,5 @@\n-  } else {\n-    \/\/ Prefetch beyond obj\n-    const intx interval = PrefetchCopyIntervalInBytes;\n-    Prefetch::write(obj, interval);\n+  }\n+\n+  \/\/ Prefetch beyond obj\n+  const intx interval = PrefetchCopyIntervalInBytes;\n+  Prefetch::write(obj, interval);\n@@ -821,2 +820,2 @@\n-    \/\/ Copy obj\n-    Copy::aligned_disjoint_words(cast_from_oop<HeapWord*>(old), cast_from_oop<HeapWord*>(obj), s);\n+  \/\/ Copy obj\n+  Copy::aligned_disjoint_words(cast_from_oop<HeapWord*>(old), cast_from_oop<HeapWord*>(obj), s);\n@@ -824,1 +823,1 @@\n-    ContinuationGCSupport::transform_stack_chunk(obj);\n+  ContinuationGCSupport::transform_stack_chunk(obj);\n@@ -826,0 +825,1 @@\n+  if (!new_obj_is_tenured) {\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -390,1 +390,1 @@\n-oop TenuredGeneration::promote(oop obj, size_t obj_size) {\n+oop TenuredGeneration::allocate_for_promotion(oop obj, size_t obj_size) {\n@@ -404,3 +404,0 @@\n-    if (result == nullptr) {\n-      return nullptr;\n-    }\n@@ -409,4 +406,1 @@\n-  \/\/ Copy to new location.\n-  Copy::aligned_disjoint_words(cast_from_oop<HeapWord*>(obj), result, obj_size);\n-  oop new_obj = cast_to_oop<HeapWord*>(result);\n-  return new_obj;\n+  return cast_to_oop<HeapWord*>(result);\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.cpp","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -171,1 +171,1 @@\n-  oop promote(oop obj, size_t obj_size);\n+  oop allocate_for_promotion(oop obj, size_t obj_size);\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
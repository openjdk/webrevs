{"files":[{"patch":"@@ -771,1 +771,1 @@\n-    obj = _old_gen->promote(old, s);\n+    obj = _old_gen->allocate_for_promotion(old, s);\n@@ -777,2 +777,0 @@\n-    ContinuationGCSupport::transform_stack_chunk(obj);\n-\n@@ -780,4 +778,5 @@\n-  } else {\n-    \/\/ Prefetch beyond obj\n-    const intx interval = PrefetchCopyIntervalInBytes;\n-    Prefetch::write(obj, interval);\n+  }\n+\n+  \/\/ Prefetch beyond obj\n+  const intx interval = PrefetchCopyIntervalInBytes;\n+  Prefetch::write(obj, interval);\n@@ -785,2 +784,2 @@\n-    \/\/ Copy obj\n-    Copy::aligned_disjoint_words(cast_from_oop<HeapWord*>(old), cast_from_oop<HeapWord*>(obj), s);\n+  \/\/ Copy obj\n+  Copy::aligned_disjoint_words(cast_from_oop<HeapWord*>(old), cast_from_oop<HeapWord*>(obj), s);\n@@ -788,1 +787,1 @@\n-    ContinuationGCSupport::transform_stack_chunk(obj);\n+  ContinuationGCSupport::transform_stack_chunk(obj);\n@@ -790,0 +789,1 @@\n+  if (!new_obj_is_tenured) {\n","filename":"src\/hotspot\/share\/gc\/serial\/defNewGeneration.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -390,1 +390,1 @@\n-oop TenuredGeneration::promote(oop obj, size_t obj_size) {\n+oop TenuredGeneration::allocate_for_promotion(oop obj, size_t obj_size) {\n@@ -404,3 +404,0 @@\n-    if (result == nullptr) {\n-      return nullptr;\n-    }\n@@ -409,4 +406,1 @@\n-  \/\/ Copy to new location.\n-  Copy::aligned_disjoint_words(cast_from_oop<HeapWord*>(obj), result, obj_size);\n-  oop new_obj = cast_to_oop<HeapWord*>(result);\n-  return new_obj;\n+  return cast_to_oop<HeapWord*>(result);\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.cpp","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -166,2 +166,1 @@\n-  \/\/ in the old-gen, and copy \"obj\" into the newly allocated space, if\n-  \/\/ possible, returning the result (or null if the allocation failed).\n+  \/\/ in the old-gen, returning the result (or null if the allocation failed).\n@@ -171,1 +170,1 @@\n-  oop promote(oop obj, size_t obj_size);\n+  oop allocate_for_promotion(oop obj, size_t obj_size);\n","filename":"src\/hotspot\/share\/gc\/serial\/tenuredGeneration.hpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"}]}
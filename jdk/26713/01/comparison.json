{"files":[{"patch":"@@ -423,0 +423,1 @@\n+  assert(thread->thread_state() == _thread_in_vm, \"thread should be in vm\");\n@@ -1834,2 +1835,5 @@\n-  JvmtiThreadState *state = get_jvmti_thread_state(thread);\n-\n+  JvmtiThreadState *state = nullptr;\n+  {\n+    ThreadInVMfromJava __tiv(thread);\n+    state = get_jvmti_thread_state(thread);\n+  }\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -86,1 +86,2 @@\n-NOT_PRODUCT(cflags(IGVPrintLevel,       intx, PrintIdealGraphLevel, IGVPrintLevel)) \\\n+NOT_PRODUCT(cflags(PhasePrintLevel, intx, PrintPhaseLevel, PhasePrintLevel)) \\\n+NOT_PRODUCT(cflags(IGVPrintLevel,   intx, PrintIdealGraphLevel, IGVPrintLevel)) \\\n@@ -205,1 +206,1 @@\n-  bool should_print_phase(const CompilerPhaseType cpt) const {\n+  bool should_print_ideal_phase(const CompilerPhaseType cpt) const {\n","filename":"src\/hotspot\/share\/compiler\/compilerDirectives.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -87,0 +87,1 @@\n+NOT_PRODUCT(option(PhasePrintLevel, \"PhasePrintLevel\", Intx)) \\\n","filename":"src\/hotspot\/share\/compiler\/compilerOracle.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -389,0 +389,9 @@\n+  develop(intx, PrintPhaseLevel, 0,                                         \\\n+          \"Level of detail of the phase trace print. \"                      \\\n+          \"System-wide value, -1=printing is disabled, \"                    \\\n+          \"0=print nothing except PhasePrintLevel directives, \"             \\\n+          \"6=all details printed. \"                                         \\\n+          \"Level of detail of printouts can be set on a per-method level \"  \\\n+          \"as well by using CompileCommand=option.\")                        \\\n+          range(-1, 6)                                                      \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/opto\/c2_globals.hpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+#include \"compiler\/compilerDefinitions.hpp\"\n@@ -578,0 +579,5 @@\n+void Compile::print_phase(const char* phase_name) {\n+  ttyLocker ttyl;\n+  tty->print_cr(\"%lu.\\t%s\", ++_phase_counter, phase_name);\n+}\n+\n@@ -1057,0 +1063,1 @@\n+  _phase_counter = 0;\n@@ -5137,1 +5144,4 @@\n-  if (should_print_phase(cpt)) {\n+  if (should_print_phase(level)) {\n+    print_phase(name);\n+  }\n+  if (should_print_ideal_phase(cpt)) {\n@@ -5168,1 +5178,10 @@\n-bool Compile::should_print_phase(CompilerPhaseType cpt) {\n+bool Compile::should_print_phase(const int level) const {\n+#ifndef PRODUCT\n+  return PrintPhaseLevel > 0 && directive()->PhasePrintLevelOption >= level &&\n+    env() != nullptr && env()->task() != nullptr && is_c2_compile(env()->task()->comp_level());\n+#else\n+  return false;\n+#endif\n+}\n+\n+bool Compile::should_print_ideal_phase(CompilerPhaseType cpt) {\n@@ -5170,1 +5189,1 @@\n-  if (_directive->should_print_phase(cpt)) {\n+  if (_directive->should_print_ideal_phase(cpt)) {\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":22,"deletions":3,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -349,0 +349,1 @@\n+  uintx                 _phase_counter;         \/\/ Counter for the number of already printed phases\n@@ -643,1 +644,1 @@\n-  bool          method_has_option(CompileCommandEnum option) {\n+  bool          method_has_option(CompileCommandEnum option) const {\n@@ -650,0 +651,1 @@\n+  void          print_phase(const char* phase_name);\n@@ -668,1 +670,2 @@\n-  bool should_print_phase(CompilerPhaseType cpt);\n+  bool should_print_phase(int level) const;\n+  bool should_print_ideal_phase(CompilerPhaseType cpt);\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}
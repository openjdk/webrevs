{"files":[{"patch":"@@ -29,1 +29,1 @@\n- *      8354344\n+ *      8354343 8354344\n@@ -74,0 +74,1 @@\n+import java.util.stream.Collectors;\n@@ -114,0 +115,2 @@\n+    \/\/ Special case currencies that should only exist after the cut-over occurs\n+    private static final Set<String> currenciesNotYetDefined = new HashSet<>();\n@@ -180,0 +183,1 @@\n+        setUpNotYetDefined();\n@@ -297,0 +301,5 @@\n+                } else {\n+                    \/\/ Add all future currencies to the set.\n+                    \/\/ We process it later once 'testCurrencies' is complete\n+                    \/\/ to only include ones that should not be defined yet.\n+                    currenciesNotYetDefined.add(tokens.nextToken());\n@@ -342,0 +351,11 @@\n+    \/\/ Future currencies that are already defined as ISO 4217 codes should be\n+    \/\/ removed. For example, in CW=ANG;2025-04-01-04-00-00;EUR \"EUR\" would be\n+    \/\/ removed as it is an already valid ISO 4217 code\n+    private static void setUpNotYetDefined() {\n+        var allFutureCurrencies = testCurrencies\n+                .stream()\n+                .map(Currency::getCurrencyCode)\n+                .collect(Collectors.toSet());\n+        currenciesNotYetDefined.removeIf(allFutureCurrencies::contains);\n+    }\n+\n@@ -422,0 +442,12 @@\n+    \/\/ Any future currencies that do not already exist before the cut-over\n+    \/\/ should not be instantiable. This scenario is when a country transfers\n+    \/\/ to a new code, that is not already a valid ISO 4217 code. For example,\n+    \/\/ what occurred in the 176 update situation.\n+    @Test\n+    public void nonDefinedFutureCurrenciesTest() {\n+        for (String curr : currenciesNotYetDefined) {\n+            assertThrows(IllegalArgumentException.class, () -> Currency.getInstance(curr),\n+                    \"The future cut-over currency: %s should not exist\".formatted(curr));\n+        }\n+    }\n+\n@@ -430,0 +462,2 @@\n+        \/\/ Implicitly checks that jreCurrencies does not contain any currencies\n+        \/\/ defined in currenciesNotYetDefined\n","filename":"test\/jdk\/java\/util\/Currency\/ValidateISO4217.java","additions":35,"deletions":1,"binary":false,"changes":36,"status":"modified"}]}
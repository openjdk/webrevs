{"files":[{"patch":"@@ -990,2 +990,3 @@\n-      \/\/ A test which leads to an uncommon trap which could be safe.\n-      \/\/ If so, this trap will later be converted into a trap that restarts\n+      \/\/ A test which leads to an uncommon trap. It is safe to convert the trap\n+      \/\/ into a trap that restarts at the beginning as long as its test does not\n+      \/\/ depend on intermediate results of the candidate chain.\n@@ -996,3 +997,4 @@\n-          \/\/ first check for dependency on a toString that is going away during stacked concats.\n-          if (_multiple && ((v1->is_Proj() && is_SB_toString(v1->in(0)) && ctrl_path.member(v1->in(0)))\n-                            || (v2->is_Proj() && is_SB_toString(v2->in(0)) && ctrl_path.member(v2->in(0))))) {\n+          \/\/ First check for dependency on a toString that is going away during stacked concats.\n+          if (_multiple &&\n+              ((v1->is_Proj() && is_SB_toString(v1->in(0)) && ctrl_path.member(v1->in(0))) ||\n+               (v2->is_Proj() && is_SB_toString(v2->in(0)) && ctrl_path.member(v2->in(0))))) {\n","filename":"src\/hotspot\/share\/opto\/stringopts.cpp","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}
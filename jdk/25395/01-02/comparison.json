{"files":[{"patch":"@@ -31,0 +31,3 @@\n+ * @run main\/othervm -XX:-TieredCompilation -Xbatch\n+ *                   -XX:CompileOnly=compiler.stringopts.TestStackedConcatsAppendUncommonTrap::*\n+ *                   compiler.stringopts.TestStackedConcatsAppendUncommonTrap\n@@ -38,2 +41,5 @@\n-        for (int i = 0; i < 1_000_000; i ++) {\n-            f(\" \");\n+        for (int i = 0; i < 10000; i++) {\n+            String s = f(\" \");\n+            if (!s.equals(\"    \")) {\n+                throw new RuntimeException(\"wrong result.\");\n+            }\n@@ -46,1 +52,1 @@\n-        s = new StringBuilder().append(s).append(s == c ? s : \" \").toString();\n+        s = new StringBuilder().append(s).append(s == c ? s : \"  \").toString();\n","filename":"test\/hotspot\/jtreg\/compiler\/stringopts\/TestStackedConcatsAppendUncommonTrap.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -82,0 +82,1 @@\n+    vm.cds.default.archive.available \\\n","filename":"test\/hotspot\/jtreg\/TEST.ROOT","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -31,1 +32,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n@@ -42,0 +42,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -44,1 +45,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n@@ -55,0 +55,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -57,1 +58,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n@@ -68,0 +68,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -70,1 +71,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/TestDefaultArchiveLoading.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -33,1 +34,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TestDumpClassListSource.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -33,1 +34,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TransformInterfaceOfLambda.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+ * @requires vm.cds.default.archive.available\n@@ -31,1 +32,0 @@\n- * @requires os.arch != \"riscv64\" | !(vm.cpu.features ~= \".*qemu.*\")\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/TestAutoCreateSharedArchiveNoDefaultArchive.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,0 +125,1 @@\n+        map.put(\"vm.cds.default.archive.available\", this::vmCDSDefaultArchiveAvailable);\n@@ -451,0 +452,10 @@\n+    \/**\n+     * Check for CDS default archive existence.\n+     *\n+     * @return true if CDS default archive classes.jsa exists in the JDK to be tested.\n+     *\/\n+    protected String vmCDSDefaultArchiveAvailable() {\n+        Path archive = Paths.get(System.getProperty(\"java.home\"), \"lib\", \"server\", \"classes.jsa\");\n+        return \"\" + (\"true\".equals(vmCDS()) && Files.exists(archive));\n+    }\n+\n","filename":"test\/jtreg-ext\/requires\/VMProps.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -72,1 +71,1 @@\n-  mangle_unused_area(MemRegion(_top, _end));\n+  mangle_unused_area(MemRegion(top(), _end));\n@@ -131,5 +130,2 @@\n-      HeapWord* result = AtomicAccess::cmpxchg(top_addr(), obj, new_top);\n-      \/\/ result can be one of two:\n-      \/\/  the old top value: the exchange succeeded\n-      \/\/  otherwise: the new value of the top is returned.\n-      if (result == obj) {\n+      \/\/ Retry if we did not successfully updated the top pointers.\n+      if (_top.compare_set(obj, new_top)) {\n","filename":"src\/hotspot\/share\/gc\/shared\/space.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -56,1 +57,1 @@\n-  HeapWord* _top;\n+  Atomic<HeapWord*> _top;\n@@ -67,2 +68,2 @@\n-  HeapWord* end() const            { return _end;    }\n-  HeapWord* top() const            { return _top;    }\n+  HeapWord* end() const            { return _end; }\n+  HeapWord* top() const            { return _top.load_relaxed();    }\n@@ -72,1 +73,1 @@\n-  void set_top(HeapWord* value)    { _top = value; }\n+  void set_top(HeapWord* value)    { _top.store_relaxed(value); }\n@@ -124,3 +125,0 @@\n-  \/\/ Addresses for inlined allocation\n-  HeapWord** top_addr() { return &_top; }\n-\n","filename":"src\/hotspot\/share\/gc\/shared\/space.hpp","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -100,1 +100,1 @@\n-  nonstatic_field(ContiguousSpace,             _top,                                          HeapWord*)                             \\\n+  nonstatic_field(ContiguousSpace,             _top,                                          Atomic<HeapWord*>)                     \\\n","filename":"src\/hotspot\/share\/gc\/shared\/vmStructs_gc.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -904,0 +904,1 @@\n+  declare_toplevel_type(Atomic<HeapWord*>)                                \\\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
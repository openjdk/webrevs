{"files":[{"patch":"@@ -35,1 +35,0 @@\n-#include \"runtime\/synchronizer.hpp\"\n","filename":"src\/hotspot\/share\/prims\/jvmtiClassFileReconstituter.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -456,2 +456,3 @@\n-      ik->link_class(current_thread);\n-      if (current_thread->has_pending_exception()) {\n+      JavaThread* THREAD = current_thread;\n+      ik->link_class(THREAD);\n+      if (HAS_PENDING_EXCEPTION) {\n@@ -460,1 +461,1 @@\n-        current_thread->clear_pending_exception();\n+        CLEAR_PENDING_EXCEPTION;\n@@ -3442,3 +3443,4 @@\n-  mh->method_holder()->link_class(current_thread);\n-  if (current_thread->has_pending_exception()) {\n-    current_thread->clear_pending_exception();\n+  JavaThread* THREAD = current_thread;\n+  mh->method_holder()->link_class(THREAD);\n+  if (HAS_PENDING_EXCEPTION) {\n+    CLEAR_PENDING_EXCEPTION;\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnv.cpp","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -46,1 +46,0 @@\n-\n@@ -1552,4 +1551,5 @@\n-        putChar(value, i    , c1);\n-        putChar(value, i + 1, c2);\n-        putChar(value, i + 2, c3);\n-        putChar(value, i + 3, c4);\n+        \/\/ Don't use the putChar method, Its instrinsic will cause C2 unable to combining values into larger stores.\n+        putChar1(value, i    , c1);\n+        putChar1(value, i + 1, c2);\n+        putChar1(value, i + 2, c3);\n+        putChar1(value, i + 3, c4);\n@@ -1559,5 +1559,12 @@\n-        putChar(value, i    , c1);\n-        putChar(value, i + 1, c2);\n-        putChar(value, i + 2, c3);\n-        putChar(value, i + 3, c4);\n-        putChar(value, i + 4, c5);\n+        \/\/ Don't use the putChar method, Its instrinsic will cause C2 unable to combining values into larger stores.\n+        putChar1(value, i    , c1);\n+        putChar1(value, i + 1, c2);\n+        putChar1(value, i + 2, c3);\n+        putChar1(value, i + 3, c4);\n+        putChar1(value, i + 4, c5);\n+    }\n+\n+    static void putChar1(byte[] value, int i, char c) {\n+        int address = Unsafe.ARRAY_BYTE_BASE_OFFSET + (i << 1);\n+        Unsafe.getUnsafe().putByte(value, address    , (byte)(c >> HI_BYTE_SHIFT));\n+        Unsafe.getUnsafe().putByte(value, address + 1, (byte)(c >> LO_BYTE_SHIFT));\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringUTF16.java","additions":17,"deletions":10,"binary":false,"changes":27,"status":"modified"}]}
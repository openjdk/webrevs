{"files":[{"patch":"@@ -37,2 +37,8 @@\n-    public static boolean hasNegativeOrZeros(byte[] ba) {\n-        for (int i = 0, len = ba.length; i < len; i++) {\n+    public static boolean isLatin1GreaterThanZero(String s) {\n+        byte[] value;\n+        return s.coder() == String.LATIN1 && countGreaterThanZero(value = s.value(), 0, value.length) == value.length;\n+    }\n+\n+    public static int countGreaterThanZero(byte[] ba, int off, int len) {\n+        int limit = off + len;\n+        for (int i = off; i < limit; i++) {\n@@ -40,1 +46,1 @@\n-                return true;\n+                return i - off;\n@@ -43,1 +49,1 @@\n-        return false;\n+        return len;\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringCoding.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2597,2 +2597,2 @@\n-            public boolean hasNegativeOrZeros(String s) {\n-                return s.coder() == String.UTF16 || StringCoding.hasNegativeOrZeros(s.value());\n+            public boolean isLatin1GreaterThanZero(String s) {\n+                return StringCoding.isLatin1GreaterThanZero(s);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -395,2 +395,1 @@\n-     * Calculates whether the string value is 0 or a negative number when the coder is LATIN1.\n-     * If the coder is UTF16, it always returns true.\n+     * Determine if the coder is Latin1 and the elements of the value array are greater than 0\n@@ -398,1 +397,1 @@\n-    boolean hasNegativeOrZeros(String s);\n+    boolean isLatin1GreaterThanZero(String s);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -424,1 +424,1 @@\n-                if (!JLA.hasNegativeOrZeros(stringValue)) {\n+                if (JLA.isLatin1GreaterThanZero(stringValue)) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/AbstractPoolEntry.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -29,1 +29,0 @@\n-import jdk.internal.misc.Unsafe;\n@@ -32,2 +31,0 @@\n-import static jdk.internal.misc.Unsafe.ARRAY_BYTE_BASE_OFFSET;\n-\n@@ -38,2 +35,0 @@\n-    private static final Unsafe UNSAFE = Unsafe.getUnsafe();\n-    private static final long POSITIVE_MASK = 0b10000000_10000000_10000000_10000000_10000000_10000000_10000000_10000000L;\n@@ -53,9 +48,1 @@\n-        int i = off;\n-        for (int end = limit - 7; i < end; i += 8) {\n-            long v = UNSAFE.getLongUnaligned(ba, i + ARRAY_BYTE_BASE_OFFSET);\n-            if ((v & POSITIVE_MASK) != 0 || (v & ~POSITIVE_MASK) != 0) {\n-                break;\n-            }\n-        }\n-\n-        for (; i < limit; i++) {\n+        for (int i = off; i < limit; i++) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringCoding.java","additions":1,"deletions":14,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -161,2 +161,2 @@\n-    void writeUTF(String s) {\n-        int len = s.length();\n+    void writeUTF(String str) {\n+        int strlen = str.length();\n@@ -165,2 +165,2 @@\n-        byte coder = JLA.stringCoder(s);\n-        int freeBytes = len + 2;\n+        byte coder = JLA.stringCoder(str);\n+        int freeBytes = strlen + 2;\n@@ -169,2 +169,2 @@\n-            if (len < 256) {\n-                countGreaterThanZero = JLA.countGreaterThanZero(s);\n+            if (strlen < 256) {\n+                countGreaterThanZero = JLA.countGreaterThanZero(str);\n@@ -172,1 +172,1 @@\n-            freeBytes += len - countGreaterThanZero; \/\/ 2 bytes\n+            freeBytes += strlen - countGreaterThanZero; \/\/ 2 bytes\n@@ -174,1 +174,1 @@\n-            freeBytes += (len << 1); \/\/ 3 bytes\n+            freeBytes += (strlen << 1); \/\/ 3 bytes\n@@ -182,1 +182,1 @@\n-        s.getBytes(0, countGreaterThanZero, elems, offset);\n+        str.getBytes(0, countGreaterThanZero, elems, offset);\n@@ -185,2 +185,2 @@\n-        for (int i = countGreaterThanZero; i < len; ++i) {\n-            char c = s.charAt(i);\n+        for (int i = countGreaterThanZero; i < strlen; ++i) {\n+            char c = str.charAt(i);\n@@ -200,2 +200,2 @@\n-        int utf_len = offset - start - 2;\n-        if (utf_len > 65535) {\n+        int utflen = offset - start - 2;\n+        if (utflen > 65535) {\n@@ -204,2 +204,2 @@\n-        elems[start    ] = (byte) (utf_len >> 8);\n-        elems[start + 1] = (byte)  utf_len;\n+        elems[start    ] = (byte) (utflen >> 8);\n+        elems[start + 1] = (byte)  utflen;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/BufWriterImpl.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"}]}
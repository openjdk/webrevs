{"files":[{"patch":"@@ -39,0 +39,2 @@\n+import static java.lang.foreign.ValueLayout.JAVA_LONG;\n+\n@@ -153,2 +155,3 @@\n-                \/\/ the Arena::close method is closed \"early\" as it checks thread\n-                \/\/ confinement and before any mutation of the internal state takes place.\n+                \/\/ the Arena::close method is called \"early\" as it checks thread\n+                \/\/ confinement and crucially before any mutation of the internal\n+                \/\/ state takes place.\n@@ -179,1 +182,2 @@\n-        long size = layout.byteAlignment() > 8\n+        \/\/ Allocations are always at least aligned with the largest Java type (e.g., long)\n+        long size = layout.byteAlignment() > JAVA_LONG.byteSize()\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/BufferStack.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}
{"files":[{"patch":"@@ -220,3 +220,3 @@\n-      $(EXPR) `wmic computersystem get totalphysicalmemory -value \\\n-          | $(GREP) = | $(SED) 's\/\\\\r\/\/g' \\\n-          | $(CUT) -d \"=\" -f 2-` \/ 1024 \/ 1024 \\\n+      $(EXPR) `powershell -Command \\\n+          \"(Get-CimInstance Win32_ComputerSystem).TotalPhysicalMemory\" \\\n+          | $(SED) 's\/\\\\r\/\/g' ` \/ 1024 \/ 1024 \\\n","filename":"make\/RunTestsPrebuilt.gmk","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -78,1 +78,2 @@\n-    MEMORY_SIZE=`wmic computersystem get totalphysicalmemory -value | grep = | cut -d \"=\" -f 2-`\n+    MEMORY_SIZE=`powershell -Command \\\n+        \"(Get-CimInstance Win32_ComputerSystem).TotalPhysicalMemory\" | $SED 's\/\\\\r\/\/g' `\n","filename":"make\/autoconf\/build-performance.m4","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n-config.getChildren.app=bash\n+config.getChildren.app=powershell\n@@ -27,1 +27,0 @@\n-config.getChildren.args=-c\\0wmic process where ParentProcessId=%p get ProcessId | tail -n+2\n@@ -29,0 +28,1 @@\n+config.getChildren.args=-NoLogo\\0-Command\\0\"Get-CimInstance Win32_Process -Filter \\\\\\\"ParentProcessId = %p\\\\\\\" | Select-Object ProcessId\" | tail -n+4\n@@ -42,2 +42,3 @@\n-native.info.app=wmic\n-native.info.args=process where processId=%p list full\n+native.info.app=powershell\n+native.info.delimiter=\\0\n+native.info.args=-NoLogo\\0-Command\\0\"Get-WmiObject Win32_Process -Filter \\\\\\\"ProcessId = %p\\\\\\\" | Format-List -Property *\"\n@@ -99,2 +100,3 @@\n-system.os.app=wmic\n-system.os.args=os get \/format:list\n+system.os.app=powershell\n+system.os.delimiter=\\0\n+system.os.args=-NoLogo\\0-Command\\0Get-WmiObject Win32_OperatingSystem | Format-List -Property *\n","filename":"test\/failure_handler\/src\/share\/conf\/windows.properties","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -325,7 +325,9 @@\n-        \/\/ wmic process where (name = \"foo.exe\") get ProcessID,ParentProcessID\n-        final var result = Executor.of(\"wmic\", \"process\", \"where\", \"(name\",\n-                \"=\",\n-                \"\\\"\" + cmd.appLauncherPath(launcherName).getFileName().toString() + \"\\\"\",\n-                \")\", \"get\", \"ProcessID,ParentProcessID\").dumpOutput(true).saveOutput().\n-                setWinRunWithEnglishOutput(true).execute();\n-        if (\"No Instance(s) Available.\".equals(result.stderr().findFirstLineOfOutput().map(String::trim).orElse(\"\"))) {\n+        \/\/ powershell -NoLogo -NoProfile -NonInteractive -Command\n+        \/\/   \"Get-CimInstance Win32_Process -Filter \\\"Name = 'foo.exe'\\\" | select ProcessID,ParentProcessID\"\n+        String command = \"Get-CimInstance Win32_Process -Filter \\\\\\\"Name = '\"\n+                + cmd.appLauncherPath(launcherName).getFileName().toString()\n+                + \"'\\\\\\\" | select ProcessID,ParentProcessID\";\n+        List<String> output = Executor.of(\"powershell\", \"-NoLogo\", \"-NoProfile\", \"-NonInteractive\", \"-Command\", command)\n+                .dumpOutput(true).saveOutput().setWinRunWithEnglishOutput(true).executeAndGetOutput();\n+\n+        if (output.size() < 1) {\n@@ -335,2 +337,1 @@\n-        final var stdout = result.stdout();\n-        String[] headers = Stream.of(stdout.getFirstLineOfOutput().split(\"\\\\s+\", 2)).map(\n+        String[] headers = Stream.of(output.get(1).split(\"\\\\s+\", 2)).map(\n@@ -338,1 +339,1 @@\n-        final Pattern pattern;\n+        Pattern pattern;\n@@ -341,1 +342,1 @@\n-            pattern = Pattern.compile(\"^(?<ppid>\\\\d+)\\\\s+(?<pid>\\\\d+)\\\\s+$\");\n+            pattern = Pattern.compile(\"^\\\\s+(?<ppid>\\\\d+)\\\\s+(?<pid>\\\\d+)$\");\n@@ -344,1 +345,1 @@\n-            pattern = Pattern.compile(\"^(?<pid>\\\\d+)\\\\s+(?<ppid>\\\\d+)\\\\s+$\");\n+            pattern = Pattern.compile(\"^\\\\s+(?<pid>\\\\d+)\\\\s+(?<ppid>\\\\d+)$\");\n@@ -347,1 +348,1 @@\n-                    \"Unrecognizable output of \\'wmic process\\' command\");\n+                    \"Unrecognizable output of \\'Get-CimInstance Win32_Process\\' command\");\n@@ -350,1 +351,1 @@\n-        List<long[]> processes = stdout.getOutput().stream().skip(1).map(line -> {\n+        List<long[]> processes = output.stream().skip(3).map(line -> {\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/WindowsHelper.java","additions":15,"deletions":14,"binary":false,"changes":29,"status":"modified"}]}
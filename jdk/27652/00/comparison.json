{"files":[{"patch":"@@ -32,0 +32,1 @@\n+import java.util.concurrent.ConcurrentHashMap;\n@@ -62,0 +63,3 @@\n+    private static final boolean perExchangeAttributes =\n+        !System.getProperty(\"jdk.httpserver.attributes\", \"\")\n+              .equals(\"context\");\n@@ -79,1 +83,1 @@\n-    Map<String,Object> attributes;\n+    final Map<String,Object> attributes;\n@@ -94,0 +98,3 @@\n+        this.attributes = perExchangeAttributes\n+            ? new ConcurrentHashMap<>()\n+            : getHttpContext().getAttributes();\n@@ -365,1 +372,1 @@\n-            throw new NullPointerException (\"null name parameter\");\n+            throw new NullPointerException(\"null name parameter\");\n@@ -367,4 +374,1 @@\n-        if (attributes == null) {\n-            attributes = getHttpContext().getAttributes();\n-        }\n-        return attributes.get (name);\n+        return attributes.get(name);\n@@ -375,4 +379,1 @@\n-            throw new NullPointerException (\"null name parameter\");\n-        }\n-        if (attributes == null) {\n-            attributes = getHttpContext().getAttributes();\n+            throw new NullPointerException(\"null name parameter\");\n@@ -381,1 +382,1 @@\n-            attributes.put (name, value);\n+            attributes.put(name, value);\n@@ -383,1 +384,1 @@\n-            attributes.remove (name);\n+            attributes.remove(name);\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ExchangeImpl.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"}]}
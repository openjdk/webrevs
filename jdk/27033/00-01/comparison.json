{"files":[{"patch":"@@ -66,0 +66,1 @@\n+#include <new>\n@@ -332,10 +333,0 @@\n-\n-  bool onJavaThread() {\n-    if (!onThread()) return false;\n-\n-    if (JavaThread::active() == nullptr) {\n-      tty->print_cr(\"Failed: Current thread is not a java thread or the vm thread\");\n-      return false;\n-    }\n-    return true;\n-  }\n@@ -454,3 +445,0 @@\n-  Command c(\"ps\");\n-  if (!c.onJavaThread()) return;\n-\n@@ -458,0 +446,2 @@\n+  Command c(\"ps\");\n+  if (!c.onThread()) return;\n@@ -459,0 +449,4 @@\n+  if (p == nullptr) {\n+    tty->print_cr(\"Failed: JavaThread::active is null\");\n+    return;\n+  }\n@@ -485,1 +479,1 @@\n-  if (!c.onJavaThread()) return;\n+  if (!c.onThread()) return;\n@@ -487,0 +481,4 @@\n+  if (p == nullptr) {\n+    tty->print_cr(\"Failed: JavaThread::active is null\");\n+    return;\n+  }\n@@ -497,1 +495,1 @@\n-  if (!c.onJavaThread()) return;\n+  if (!c.onThread()) return;\n@@ -499,0 +497,4 @@\n+  if (p == nullptr) {\n+    tty->print_cr(\"Failed: JavaThread::active is null\");\n+    return;\n+  }\n","filename":"src\/hotspot\/share\/utilities\/debug.cpp","additions":17,"deletions":15,"binary":false,"changes":32,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @library \/test\/lib\n@@ -31,2 +32,12 @@\n-import java.security.*;\n-import java.util.*;\n+\n+import jtreg.SkippedException;\n+\n+import java.security.InvalidAlgorithmParameterException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.Provider;\n+import java.security.Security;\n+import java.util.Arrays;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n@@ -37,1 +48,7 @@\n-        for (Provider p : Security.getProviders()) {\n+\n+        System.out.println(\"Removing SunPCSC provider from the list (A smartcard might not be installed).\");\n+        final List<Provider> providers = Arrays.stream(Security.getProviders())\n+                .filter(provider -> !provider.getName().equals(\"SunPCSC\"))\n+                .collect(Collectors.toList());\n+\n+        for (Provider p : providers) {\n@@ -40,4 +57,0 @@\n-            if (p.getName().equals(\"SunPCSC\")) {\n-                System.out.println(\"A smartcard might not be installed. Skip test.\");\n-                continue;\n-            }\n","filename":"test\/jdk\/java\/security\/Provider\/NewInstance.java","additions":21,"deletions":8,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @library \/test\/lib\n@@ -33,0 +34,1 @@\n+import jtreg.SkippedException;\n@@ -39,3 +41,4 @@\n-            System.out.println(\"LDAP is present, test skipped\");\n-            return;\n-        } catch (ClassNotFoundException ignore) { }\n+            throw new SkippedException(\"Test skipped :: LDAP is present\");\n+        } catch (ClassNotFoundException ignore) {\n+            System.err.println(\"Expected: class not found exception \" + ignore.getMessage());\n+        }\n","filename":"test\/jdk\/java\/security\/cert\/CertStore\/NoLDAP.java","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"}]}
{"files":[{"patch":"@@ -178,9 +178,7 @@\n-static bool is_significant_sfpt(Node* n) {\n-  if (n->is_SafePoint()) {\n-    SafePointNode* sfpt = n->as_SafePoint();\n-    if (sfpt->jvms() == nullptr) {\n-      return false; \/\/ not a real safepoint\n-    } else if (sfpt->is_CallStaticJava() && sfpt->as_CallStaticJava()->is_uncommon_trap()) {\n-      return false; \/\/ uncommon traps are exit points\n-    }\n-    return true;\n+\/\/ Some SafePoint nodes can't affect referent's reachability in any noticeable way and\n+\/\/ can be safely ignored during the analysis.\n+static bool is_interfering_sfpt_candidate(SafePointNode* sfpt) {\n+  if (sfpt->jvms() == nullptr) {\n+    return false; \/\/ not a real safepoint\n+  } else if (sfpt->is_CallStaticJava() && sfpt->as_CallStaticJava()->is_uncommon_trap()) {\n+    return false; \/\/ uncommon traps are exit points\n@@ -188,1 +186,1 @@\n-  return false;\n+  return true;\n@@ -394,1 +392,1 @@\n-      } else if (is_significant_sfpt(ctrl)) {\n+      } else if (ctrl->is_SafePoint() && is_interfering_sfpt_candidate(ctrl->as_SafePoint())) {\n@@ -526,1 +524,1 @@\n-      assert(is_significant_sfpt(sfpt), \"\");\n+      assert(is_interfering_sfpt_candidate(sfpt), \"\");\n","filename":"src\/hotspot\/share\/opto\/reachability.cpp","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"}]}
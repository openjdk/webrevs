{"files":[{"patch":"@@ -305,1 +305,8 @@\n-    } else if (MaxVectorSize < 16) {\n+    } else if (!is_power_of_2(MaxVectorSize)) {\n+      vm_exit_during_initialization(err_msg(\"Unsupported MaxVectorSize: %d, must be a power of 2\", (int)MaxVectorSize));\n+    } else if (MaxVectorSize > _initial_vector_length) {\n+      warning(\"Current system only supports max RVV vector length %d. Set MaxVectorSize to %d\",\n+              _initial_vector_length, _initial_vector_length);\n+      MaxVectorSize = _initial_vector_length;\n+    }\n+    if (MaxVectorSize < 16) {\n@@ -308,8 +315,1 @@\n-    } else if (is_power_of_2(MaxVectorSize)) {\n-      if (MaxVectorSize > _initial_vector_length) {\n-        warning(\"Current system only supports max RVV vector length %d. Set MaxVectorSize to %d\",\n-                _initial_vector_length, _initial_vector_length);\n-        MaxVectorSize = _initial_vector_length;\n-      }\n-    } else {\n-      vm_exit_during_initialization(err_msg(\"Unsupported MaxVectorSize: %d\", (int)MaxVectorSize));\n+      FLAG_SET_DEFAULT(MaxVectorSize, 0);\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.cpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -42,0 +42,1 @@\n+    private static int hiResWheelCount = 0;\n@@ -49,2 +50,3 @@\n-            the test will print all mouse wheel event messages into the logging panel\n-            below the instruction window.<br> <br>\n+            the test will print mouse wheel event messages in the format\n+            <b> [Event#, WheelRotation, PreciseWheelRotation]<\/b> into the logging\n+            panel below the instruction window.<br> <br>\n@@ -52,1 +54,5 @@\n-            Check if the test works OK when the mouse wheel is rotated very slow.<br> <br>\n+            A hi-res mouse is one which produces MouseWheelEvents having\n+            <b>preciseWheelRotation &lt 1.<\/b> <br>\n+            When preciseWheelRotation adds up to 1,wheelRotation becomes 1. <br>\n+            You should see a few events where preciseWheelRotation < 1 & wheelRotation = 0\n+            followed by a event where preciseWheelRotation = 1 & wheelRotation = 1.<br> <br>\n@@ -54,5 +60,2 @@\n-            This is a semi-automated test, when 5 or more MouseWheelEvents with\n-            <br><b> scrollType=WHEEL_UNIT_SCROLL and wheelRotation != 0 <\/b> <br>\n-            are recorded, the test automatically passes.<br>\n-            The events are also logged in the logging panel\n-            for user reference.<br> <br>\n+            Check if the test works OK when the mouse wheel is rotated very slow.<br> <br>\n+            Please press PASS if above is true, else FAIL. <br> <br>\n@@ -61,2 +64,4 @@\n-            PS: If you don't see events with scrollType=WHEEL_UNIT_SCROLL,\n-            then the mouse doesn't support high-resolution scrolling.<br> <br>\n+            PS: If you don't see events with preciseWheelRotation < 1,\n+            then the mouse doesn't support high-resolution scrolling.\n+            A warning is shown in the logging area if you are not using a hi-res mouse.\n+            <br> <br>\n@@ -71,1 +76,1 @@\n-                .rows(18)\n+                .rows(20)\n@@ -73,0 +78,1 @@\n+                .testTimeOut(10)\n@@ -84,7 +90,11 @@\n-            PassFailJFrame.log(e.toString());\n-            if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL\n-                    && e.getWheelRotation() != 0) {\n-                wheelEventCount++;\n-            }\n-            if (wheelEventCount > 5) {\n-                PassFailJFrame.forcePass();\n+            if (e.getScrollType() == MouseWheelEvent.WHEEL_UNIT_SCROLL) {\n+                PassFailJFrame.log(\"WheelEvent#\"+ ++wheelEventCount\n+                        + \" --- Wheel Rotation: \" + e.getWheelRotation()\n+                        + \" --- Precise Wheel Rotation: \"\n+                        + String.format(\"%.2f\", e.getPreciseWheelRotation()));\n+                if (e.getPreciseWheelRotation() < 1) {\n+                    hiResWheelCount++;\n+                }\n+                if (wheelEventCount >= 5 && hiResWheelCount == 0) {\n+                    PassFailJFrame.log(\"WARNING !!! You might not be using a high-res mouse.\");\n+                }\n","filename":"test\/jdk\/java\/awt\/event\/MouseEvent\/AWTPanelSmoothWheel.java","additions":28,"deletions":18,"binary":false,"changes":46,"status":"modified"}]}
{"files":[{"patch":"@@ -668,2 +668,5 @@\n-void InterpreterMacroAssembler::save_esp() {\n-  z_sgrk(Z_R0, Z_esp, Z_fp);\n+void InterpreterMacroAssembler::save_esp(Register fp) {\n+  if (fp == noreg) {\n+    fp = Z_fp;\n+  }\n+  z_sgrk(Z_R0, Z_esp, fp);\n@@ -671,1 +674,1 @@\n-  z_stg(Z_R0, Address(Z_fp, _z_ijava_state_neg(esp)));\n+  z_stg(Z_R0, Address(fp, _z_ijava_state_neg(esp)));\n","filename":"src\/hotspot\/cpu\/s390\/interp_masm_s390.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -172,1 +172,1 @@\n-  void save_esp();\n+  void save_esp(Register fp = noreg);\n","filename":"src\/hotspot\/cpu\/s390\/interp_masm_s390.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1184,3 +1184,1 @@\n-  __ z_sgrk(Z_R0, Z_esp, fp);\n-  __ z_srag(Z_R0, Z_R0, Interpreter::logStackElementSize);\n-  __ z_stg(Z_R0, _z_ijava_state_neg(esp), fp);\n+  __ save_esp(fp);\n","filename":"src\/hotspot\/cpu\/s390\/templateInterpreterGenerator_s390.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -26,1 +26,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -82,1 +81,1 @@\n-  assert(AtomicAccess::load(&_barrier_tag) == 0,\n+  assert(_barrier_tag.load_relaxed() == 0,\n@@ -84,2 +83,2 @@\n-         AtomicAccess::load(&_barrier_tag));\n-  AtomicAccess::release_store(&_barrier_tag, barrier_tag);\n+         _barrier_tag.load_relaxed());\n+  _barrier_tag.release_store(barrier_tag);\n@@ -95,1 +94,1 @@\n-  int barrier_tag = AtomicAccess::load_acquire(&_barrier_tag);\n+  int barrier_tag = _barrier_tag.load_acquire();\n@@ -97,1 +96,1 @@\n-  AtomicAccess::release_store(&_barrier_tag, 0);\n+  _barrier_tag.release_store(0);\n@@ -124,1 +123,1 @@\n-    state = AtomicAccess::load_acquire(&_state);\n+    state = _state.load_acquire();\n@@ -137,1 +136,1 @@\n-  int64_t prev_state = AtomicAccess::cmpxchg(&_state, state, new_state);\n+  int64_t prev_state = _state.compare_exchange(state, new_state);\n@@ -148,1 +147,1 @@\n-    int cur = AtomicAccess::load_acquire(&_outstanding_wakeups);\n+    int cur = _outstanding_wakeups.load_acquire();\n@@ -155,1 +154,1 @@\n-    int prev = AtomicAccess::cmpxchg(&_outstanding_wakeups, cur, cur - 1);\n+    int prev = _outstanding_wakeups.compare_exchange(cur, cur - 1);\n@@ -175,1 +174,1 @@\n-    int64_t state = AtomicAccess::load_acquire(&_state);\n+    int64_t state = _state.load_acquire();\n@@ -185,1 +184,1 @@\n-    if (AtomicAccess::cmpxchg(&_state, state, new_state) == state) {\n+    if (_state.compare_exchange(state, new_state) == state) {\n@@ -194,1 +193,1 @@\n-    AtomicAccess::release_store(&_outstanding_wakeups, waiters);\n+    _outstanding_wakeups.release_store(waiters);\n@@ -200,1 +199,1 @@\n-  assert(AtomicAccess::load(&_outstanding_wakeups) == 0, \"Post disarm: Should not have outstanding wakeups\");\n+  assert(_outstanding_wakeups.load_acquire() == 0, \"Post disarm: Should not have outstanding wakeups\");\n@@ -206,1 +205,1 @@\n-    int64_t state = AtomicAccess::load_acquire(&_state);\n+    int64_t state = _state.load_acquire();\n@@ -222,1 +221,1 @@\n-    if (AtomicAccess::cmpxchg(&_state, state, new_state) == state) {\n+    if (_state.compare_exchange(state, new_state) == state) {\n@@ -241,1 +240,1 @@\n-    int64_t state = AtomicAccess::load_acquire(&_state);\n+    int64_t state = _state.load_acquire();\n@@ -251,1 +250,1 @@\n-    if (AtomicAccess::cmpxchg(&_state, state, new_state) == state) {\n+    if (_state.compare_exchange(state, new_state) == state) {\n","filename":"src\/hotspot\/share\/utilities\/waitBarrier_generic.cpp","additions":17,"deletions":18,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -46,1 +47,1 @@\n-    volatile int64_t _state;\n+    Atomic<int64_t> _state;\n@@ -49,1 +50,1 @@\n-    volatile int _outstanding_wakeups;\n+    Atomic<int> _outstanding_wakeups;\n@@ -86,1 +87,1 @@\n-  volatile int _barrier_tag;\n+  Atomic<int> _barrier_tag;\n","filename":"src\/hotspot\/share\/utilities\/waitBarrier_generic.hpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}
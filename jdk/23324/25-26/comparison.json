{"files":[{"patch":"@@ -36,0 +36,1 @@\n+import java.util.Enumeration;\n@@ -37,0 +38,2 @@\n+import javax.swing.AbstractButton;\n+import javax.swing.ButtonGroup;\n@@ -38,0 +41,1 @@\n+import javax.swing.DefaultButtonModel;\n@@ -39,0 +43,1 @@\n+import javax.swing.JCheckBoxMenuItem;\n@@ -211,0 +216,20 @@\n+    private static boolean checkIfImageIconPresent(JMenuItem mi) {\n+        boolean iconPresent = false;\n+        ButtonModel model = mi.getModel();\n+        if (model instanceof DefaultButtonModel defaultModel) {\n+            ButtonGroup group = defaultModel.getGroup();\n+            if (group != null) {\n+                Enumeration<AbstractButton> elem = group.getElements();\n+                for (int i = 0; i < group.getButtonCount(); i++) {\n+                    if (elem.hasMoreElements()) {\n+                        AbstractButton button = elem.nextElement();\n+                        if (button.getIcon() != null) {\n+                            iconPresent = true;\n+                        }\n+                    }\n+                }\n+            }\n+        }\n+        return iconPresent;\n+    }\n+\n@@ -248,1 +273,14 @@\n-            rect.x = rect.x + checkIcon.getIconWidth() \/ 2;\n+            \/\/ If ImageIcon is present in any of the JRadioButtoMenuItems,\n+            \/\/ align menuItem text slightly ahead to be under same column\n+            \/\/ else place text slightly before so that text appears\n+            \/\/ to be at the same line as ImageIcon if it was present\n+            \/\/ Since JCheckBoxMenuItem is not part of ButtonGroup and can be\n+            \/\/ selected\/deselected individually without affecting other\n+            \/\/ the menuitem text alignment is decided by presence of imageicon\n+            \/\/ for that menuitem\n+            if (checkIfImageIconPresent(mi) ||\n+                    (mi instanceof JCheckBoxMenuItem && (menuItem.getIcon() != null))) {\n+                rect.x = rect.x + checkIcon.getIconWidth() \/ 2;\n+            } else {\n+                rect.x = rect.x - checkIcon.getIconWidth() \/ 2;\n+            }\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsMenuItemUI.java","additions":39,"deletions":1,"binary":false,"changes":40,"status":"modified"}]}
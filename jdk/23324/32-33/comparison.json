{"files":[{"patch":"@@ -929,1 +929,1 @@\n-                                if (icon == null) {\n+                                if (icon == null || icon.getIconHeight() <= 16) {\n@@ -932,5 +932,1 @@\n-                                    if (icon.getIconHeight() > 16) {\n-                                        skin.paintSkin(g, x + OFFSET, y + icon.getIconHeight() \/ 2, state);\n-                                    } else {\n-                                        skin.paintSkin(g, x + OFFSET, y + OFFSET, state);\n-                                    }\n+                                    skin.paintSkin(g, x + OFFSET, y + icon.getIconHeight() \/ 2, state);\n@@ -946,1 +942,1 @@\n-                        icon.paintIcon(c, g, x + 6*OFFSET,\n+                        icon.paintIcon(c, g, x + VistaMenuItemCheckIconFactory.getIconWidth(),\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsIconFactory.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -39,0 +39,2 @@\n+import java.awt.event.ActionEvent;\n+import java.awt.event.KeyEvent;\n@@ -51,0 +53,1 @@\n+import javax.swing.KeyStroke;\n@@ -95,0 +98,6 @@\n+        BufferedImage img2 = new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB);\n+        Graphics g2 = img2.getGraphics();\n+        g2.setColor(Color.red);\n+        g2.fillRect(0, 0, img2.getWidth(), img2.getHeight());\n+        g2.dispose();\n+\n@@ -97,1 +106,3 @@\n-        AbstractButton button1 = new JRadioButtonMenuItem(\"JRadioButtonMenuItem 1\",\n+        ImageIcon imageIcon2 = new ImageIcon(img2);\n+        AbstractButton button1;\n+        JRadioButtonMenuItem m1 = new JRadioButtonMenuItem(\"JRadioButtonMenuItem 1\",\n@@ -99,0 +110,2 @@\n+        m1.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F4, ActionEvent.ALT_MASK|ActionEvent.CTRL_MASK|ActionEvent.SHIFT_MASK));\n+        button1 = m1;\n@@ -100,1 +113,1 @@\n-        AbstractButton button2 = new JRadioButtonMenuItem(\"JRadioButtonMenuItem 2\", imageIcon1);\n+        AbstractButton button2 = new JRadioButtonMenuItem(\"JRadioButtonMenuItem 2\", imageIcon2);\n@@ -112,1 +125,3 @@\n-        AbstractButton check3 = new JCheckBoxMenuItem(\"JCheckBoxMenuItem 3\");\n+        JCheckBoxMenuItem c3;\n+        AbstractButton check3 = c3 = new JCheckBoxMenuItem(\"JCheckBoxMenuItem 3\");\n+        c3.setAccelerator(KeyStroke.getKeyStroke(KeyEvent.VK_F5, ActionEvent.ALT_MASK|ActionEvent.CTRL_MASK|ActionEvent.SHIFT_MASK));\n@@ -126,0 +141,6 @@\n+        AbstractButton menuitem1 = new JMenuItem(\"MenuItem1\");\n+        AbstractButton menuitem2 = new JMenuItem(\"MenuItem2\", imageIcon1);\n+        topLevel.addSeparator();\n+        topLevel.add(menuitem1);\n+        topLevel.add(menuitem2);\n+\n","filename":"test\/jdk\/javax\/swing\/JMenuItem\/TestRadioAndCheckMenuItemWithIcon.java","additions":24,"deletions":3,"binary":false,"changes":27,"status":"modified"}]}
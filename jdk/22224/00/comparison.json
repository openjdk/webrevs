{"files":[{"patch":"@@ -887,1 +887,1 @@\n-  _max(\"max\", \"Maximum number of events to be printed (newest first). If omitted, all events are printed.\", \"STRING\", false, nullptr)\n+  _max(\"max\", \"Maximum number of events to be printed (newest first). If omitted or zero, all events are printed.\", \"INT\", false, \"0\")\n@@ -894,8 +894,4 @@\n-  const char* max_value = _max.value();\n-  int max = -1;\n-  if (max_value != nullptr) {\n-    char* endptr = nullptr;\n-    if (!parse_integer(max_value, &max)) {\n-      output()->print_cr(\"Invalid max option: \\\"%s\\\".\", max_value);\n-      return;\n-    }\n+  int max = (int)_max.value();\n+  if (max < 0) {\n+    output()->print_cr(\"Invalid max option: \\\"%d\\\".\", max);\n+    return;\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -892,1 +892,1 @@\n-  DCmdArgument<char*> _max;\n+  DCmdArgument<jlong> _max;\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
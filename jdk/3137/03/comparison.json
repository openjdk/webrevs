{"files":[{"patch":"@@ -388,1 +388,1 @@\n-            super(msg, cause);\n+            super(msg + (cause == null ? \"\" : \" (\" + cause + \")\"), cause);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/Extern.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,0 +46,1 @@\n+import java.net.UnknownHostException;\n@@ -49,0 +50,2 @@\n+import java.time.Duration;\n+import java.time.Instant;\n@@ -87,1 +90,13 @@\n-        \/\/ first, test to see if access to external URLs is available\n+        \/\/ This test relies on access to an external resource, which may or may not be\n+        \/\/ reliably available, depending on the shost system configuration and other\n+        \/\/ networking issues. Therefore, it is disabled by default, unless the system\n+        \/\/ property \"javadoc.dev\" is set \"true\".\n+        String property = \"javadoc.dev\";\n+        if (!Boolean.getBoolean(property)) {\n+            out.println(\"Test case disabled by default; \"\n+                    + \"set system property \\\"\" + property + \"\\\" to true to enable it.\");\n+            return;\n+        }\n+\n+        \/\/ test to see if access to external URLs is available, and that the URL uses a redirect\n+\n@@ -89,0 +104,9 @@\n+        String testURLHost = testURL.getHost();\n+        try {\n+            InetAddress testAddr = InetAddress.getByName(testURLHost);\n+            out.println(\"Found \" + testURLHost + \": \" + testAddr);\n+        } catch (UnknownHostException e) {\n+            out.println(\"Setup failed (\" + testURLHost + \" not found); this test skipped\");\n+            return;\n+        }\n+\n@@ -90,0 +114,1 @@\n+        Instant start = Instant.now();\n@@ -110,0 +135,2 @@\n+            Instant now = Instant.now();\n+            out.println(\"Attempt took \" + Duration.between(start, now).toSeconds() + \" seconds\");\n@@ -113,1 +140,1 @@\n-            out.println(\"Setup failed; this test skipped\");\n+            out.println(\"Setup failed (no redirect URL); this test skipped\");\n@@ -122,0 +149,1 @@\n+                \"-Xdoclint:none\",\n@@ -160,1 +188,2 @@\n-                        \"--module\", \"mA,mB\")\n+                        \"--module\", \"mA,mB\",\n+                        \"-Xdoclint:none\")\n@@ -166,1 +195,2 @@\n-                \"--module\", \"mA,mB\" );\n+                \"--module\", \"mA,mB\",\n+                \"-Xdoclint:none\" );\n@@ -169,1 +199,2 @@\n-        InetAddress localHost = InetAddress.getLocalHost();\n+        \/\/ use loopback address to avoid any issues if proxy is in use\n+        InetAddress localHost = InetAddress.getLoopbackAddress();\n@@ -204,1 +235,2 @@\n-                        \"--module\", \"mC\" );\n+                        \"--module\", \"mC\",\n+                        \"-Xdoclint:none\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testLinkOption\/TestRedirectLinks.java","additions":39,"deletions":7,"binary":false,"changes":46,"status":"modified"}]}
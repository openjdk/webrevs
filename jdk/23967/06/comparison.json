{"files":[{"patch":"@@ -31,0 +31,1 @@\n+import java.util.LinkedHashMap;\n@@ -32,0 +33,1 @@\n+import java.util.Map;\n@@ -48,0 +50,1 @@\n+import jdk.javadoc.internal.doclets.toolkit.PropertyUtils;\n@@ -55,0 +58,1 @@\n+import jdk.javadoc.internal.html.HtmlId;\n@@ -209,2 +213,3 @@\n-\n-        buildMainSummary(summaryTreeList);\n+        var inheritedTocEntries = new LinkedHashMap<HtmlId, Content>();\n+        var ownMemberCount = buildMainSummary(summaryTreeList);\n+        var inheritedSummaries = 0;\n@@ -217,2 +222,3 @@\n-        if (showInherited)\n-            buildInheritedSummary(summaryTreeList);\n+        if (showInherited) {\n+            inheritedSummaries = buildInheritedSummary(summaryTreeList, inheritedTocEntries);\n+        }\n@@ -226,0 +232,6 @@\n+\n+            \/\/ Omit TOC entries for inherited members unless there's a substantial number of own members.\n+            if (!inheritedTocEntries.isEmpty() && ownMemberCount > 8 && inheritedSummaries > 0) {\n+                inheritedTocEntries.forEach((key, value)\n+                        -> writer.tableOfContents.addLink(key, value, TableOfContents.Level.SECOND));\n+            }\n@@ -233,0 +245,1 @@\n+     * @return the number of documented members\n@@ -234,1 +247,1 @@\n-    private void buildMainSummary(List<Content> summaryTreeList) {\n+    private int buildMainSummary(List<Content> summaryTreeList) {\n@@ -238,0 +251,1 @@\n+            var table = getSummaryTable();\n@@ -239,16 +253,1 @@\n-                final Element property = pHelper.getPropertyElement(member);\n-                if (property != null && member instanceof ExecutableElement ee) {\n-                    configuration.cmtUtils.updatePropertyMethodComment(ee, property);\n-                }\n-                if (utils.isMethod(member)) {\n-                    var docFinder = utils.docFinder();\n-                    Optional<List<? extends DocTree>> r = docFinder.search((ExecutableElement) member, (m -> {\n-                        var firstSentenceTrees = utils.getFirstSentenceTrees(m);\n-                        Optional<List<? extends DocTree>> optional = firstSentenceTrees.isEmpty() ? Optional.empty() : Optional.of(firstSentenceTrees);\n-                        return DocFinder.Result.fromOptional(optional);\n-                    })).toOptional();\n-                    \/\/ The fact that we use `member` for possibly unrelated tags is suspicious\n-                    addMemberSummary(typeElement, member, r.orElse(List.of()));\n-                } else {\n-                    addMemberSummary(typeElement, member, utils.getFirstSentenceTrees(member));\n-                }\n+                addMemberSummaryTableRow(typeElement, member, table, pHelper);\n@@ -258,0 +257,30 @@\n+        return members.size();\n+    }\n+\n+    \/**\n+     * Adds the summary table row for a member.\n+     * @param enclosingType the enclosing type of the member\n+     * @param member the member\n+     * @param table the summary table\n+     * @param propertyHelper property helper to patch doctree\n+     *\/\n+    private void addMemberSummaryTableRow(TypeElement enclosingType, Element member, Table<Element> table,\n+                                          PropertyUtils.PropertyHelper propertyHelper) {\n+        final Element property = propertyHelper.getPropertyElement(member);\n+        if (property != null && member instanceof ExecutableElement ee) {\n+            configuration.cmtUtils.updatePropertyMethodComment(ee, property);\n+        }\n+\n+        if (utils.isMethod(member)) {\n+            var docFinder = utils.docFinder();\n+            Optional<List<? extends DocTree>> r = docFinder.search((ExecutableElement) member, (m -> {\n+                var firstSentenceTrees = utils.getFirstSentenceTrees(m);\n+                Optional<List<? extends DocTree>> optional = firstSentenceTrees.isEmpty()\n+                        ? Optional.empty() : Optional.of(firstSentenceTrees);\n+                return DocFinder.Result.fromOptional(optional);\n+            })).toOptional();\n+            \/\/ The fact that we use `member` for possibly unrelated tags is suspicious\n+            addMemberSummary(enclosingType, member, r.orElse(List.of()), table);\n+        } else {\n+            addMemberSummary(enclosingType, member, utils.getFirstSentenceTrees(member), table);\n+        }\n@@ -264,0 +293,2 @@\n+     * @param tocEntries map of TOC entries for added summaries\n+     * @return the number of added summary lists, excluding methods from java.lang.Object\n@@ -265,1 +296,1 @@\n-    private void buildInheritedSummary(List<Content> targets) {\n+    private int buildInheritedSummary(List<Content> targets, Map<HtmlId, Content> tocEntries) {\n@@ -267,0 +298,2 @@\n+        \/\/ Avoid showing TOC entry if it's just methods inherited from java.lang.Object\n+        var summaryCount = kind == METHODS && utils.isClass(typeElement) ? -1 : 0;\n@@ -287,0 +320,11 @@\n+\n+                if (utils.isIncluded(inheritedClass)) {\n+                    var pHelper = writer.getPropertyHelper();\n+                    Table<Element> table = createInheritedSummaryTable(inheritedClass);\n+\n+                    for (Element member : inheritedMembers) {\n+                        addMemberSummaryTableRow(inheritedClass, member, table, pHelper);\n+                    }\n+\n+                    inheritedHeader.add(table);\n+                }\n@@ -288,0 +332,5 @@\n+\n+                summaryCount++;\n+                var label = new ContentBuilder();\n+                addInheritedSummaryLabel(inheritedClass, label);\n+                tocEntries.put(getInheritedSummaryId(inheritedClass), label.stripTags());\n@@ -290,0 +339,2 @@\n+\n+        return summaryCount;\n@@ -331,0 +382,1 @@\n+\n@@ -386,0 +438,22 @@\n+    \/**\n+     * Creates a summary table for members of the kind supported by this writer inherited\n+     * from {@code typeElement}.\n+     *\n+     * @param typeElement the superclass or interface\n+     * @return a summary table\n+     *\/\n+    protected Table<Element> createInheritedSummaryTable(TypeElement typeElement) {\n+        throw new UnsupportedOperationException(\"Inherited summary not supported for \" + kind);\n+    }\n+\n+    \/**\n+     * Creates an id for a summary table for members of the kind supported by this writer\n+     * inherited from {@code typeElement}.\n+     *\n+     * @param typeElement the superclass or interface\n+     * @return the id for the summary table\n+     *\/\n+    protected HtmlId getInheritedSummaryId(TypeElement typeElement) {\n+        throw new UnsupportedOperationException(\"Inherited summary not supported for \" + kind);\n+    }\n+\n@@ -392,1 +466,3 @@\n-    public abstract void addInheritedSummaryLabel(TypeElement typeElement, Content content);\n+    public void addInheritedSummaryLabel(TypeElement typeElement, Content content) {\n+        throw new UnsupportedOperationException(\"Inherited summary not supported for \" + kind);\n+    }\n@@ -431,2 +507,3 @@\n-    protected abstract void addInheritedSummaryLink(TypeElement typeElement,\n-            Element member, Content target);\n+    protected void addInheritedSummaryLink(TypeElement typeElement, Element member, Content target) {\n+        throw new UnsupportedOperationException(\"Inherited summary not supported for \" + kind);\n+    }\n@@ -619,5 +696,1 @@\n-            List<? extends DocTree> firstSentenceTrees) {\n-        if (tElement != typeElement) {\n-            throw new IllegalStateException(getClass() + \": \" + tElement + \", \" + typeElement);\n-        }\n-        var table = getSummaryTable();\n+            List<? extends DocTree> firstSentenceTrees, Table<Element> table) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AbstractMemberWriter.java","additions":103,"deletions":30,"binary":false,"changes":133,"status":"modified"},{"patch":"@@ -287,4 +287,0 @@\n-    @Override\n-    public void addInheritedSummaryLabel(TypeElement typeElement, Content content) {\n-    }\n-\n@@ -300,6 +296,0 @@\n-    @Override\n-    protected void addInheritedSummaryLink(TypeElement typeElement,\n-            Element member, Content target) {\n-        \/\/Not applicable.\n-    }\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AnnotationTypeMemberWriter.java","additions":0,"deletions":10,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-import javax.lang.model.element.TypeElement;\n@@ -43,1 +42,0 @@\n-import jdk.javadoc.internal.html.HtmlTag;\n@@ -296,4 +294,0 @@\n-    @Override\n-    public void addInheritedSummaryLabel(TypeElement typeElement, Content content) {\n-    }\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ConstructorWriter.java","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -216,4 +216,0 @@\n-    @Override\n-    public void addInheritedSummaryLabel(TypeElement typeElement, Content content) {\n-    }\n-\n@@ -229,4 +225,0 @@\n-    @Override\n-    protected void addInheritedSummaryLink(TypeElement typeElement, Element member, Content target) {\n-    }\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/EnumConstantWriter.java","additions":0,"deletions":8,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -28,3 +28,0 @@\n-import java.util.Arrays;\n-import java.util.List;\n-\n@@ -41,1 +38,1 @@\n-import jdk.javadoc.internal.html.HtmlStyle;\n+import jdk.javadoc.internal.html.HtmlId;\n@@ -222,3 +219,0 @@\n-        List<HtmlStyle> bodyRowStyles = Arrays.asList(HtmlStyles.colFirst, HtmlStyles.colSecond,\n-                HtmlStyles.colLast);\n-\n@@ -228,1 +222,10 @@\n-                .setColumnStyles(bodyRowStyles);\n+                .setColumnStyles(HtmlStyles.colFirst, HtmlStyles.colSecond,\n+                        HtmlStyles.colLast);\n+    }\n+\n+    @Override\n+    protected Table<Element> createInheritedSummaryTable(TypeElement typeElement) {\n+        return new Table<Element>(HtmlStyles.summaryTable)\n+                .setHeader(getSummaryTableHeader(null))\n+                .setColumnStyles(HtmlStyles.colFirst, HtmlStyles.colSecond, HtmlStyles.colLast)\n+                .setRenderTabs(false);\n@@ -246,1 +249,1 @@\n-        labelHeading.setId(htmlIds.forInheritedFields(typeElement));\n+        labelHeading.setId(getInheritedSummaryId(typeElement));\n@@ -272,0 +275,5 @@\n+    @Override\n+    protected HtmlId getInheritedSummaryId(TypeElement typeElement) {\n+        return htmlIds.forInheritedFields(typeElement);\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/FieldWriter.java","additions":17,"deletions":9,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -326,0 +326,1 @@\n+        copyResource(DocPaths.DOWN_SVG, DocPaths.RESOURCE_FILES.resolve(DocPaths.DOWN_SVG), true);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -46,0 +46,1 @@\n+import jdk.javadoc.internal.html.HtmlId;\n@@ -305,0 +306,8 @@\n+    @Override\n+    protected Table<Element> createInheritedSummaryTable(TypeElement typeElement) {\n+        return new Table<Element>(HtmlStyles.summaryTable)\n+                .setHeader(getSummaryTableHeader(null))\n+                .setColumnStyles(HtmlStyles.colFirst, HtmlStyles.colSecond, HtmlStyles.colLast)\n+                .setRenderTabs(false);\n+    }\n+\n@@ -320,1 +329,1 @@\n-        labelHeading.setId(htmlIds.forInheritedMethods(typeElement));\n+        labelHeading.setId(getInheritedSummaryId(typeElement));\n@@ -326,0 +335,5 @@\n+    @Override\n+    protected HtmlId getInheritedSummaryId(TypeElement typeElement) {\n+        return htmlIds.forInheritedMethods(typeElement);\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/MethodWriter.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -28,3 +28,0 @@\n-import java.util.Arrays;\n-import java.util.List;\n-\n@@ -39,1 +36,1 @@\n-import jdk.javadoc.internal.html.HtmlStyle;\n+import jdk.javadoc.internal.html.HtmlId;\n@@ -97,3 +94,0 @@\n-        List<HtmlStyle> bodyRowStyles = Arrays.asList(HtmlStyles.colFirst, HtmlStyles.colSecond,\n-                HtmlStyles.colLast);\n-\n@@ -103,1 +97,10 @@\n-                .setColumnStyles(bodyRowStyles);\n+                .setColumnStyles(HtmlStyles.colFirst, HtmlStyles.colSecond,\n+                        HtmlStyles.colLast);\n+    }\n+\n+    @Override\n+    protected Table<Element> createInheritedSummaryTable(TypeElement typeElement) {\n+        return new Table<Element>(HtmlStyles.summaryTable)\n+                .setHeader(getSummaryTableHeader(typeElement))\n+                .setColumnStyles(HtmlStyles.colFirst, HtmlStyles.colSecond, HtmlStyles.colLast)\n+                .setRenderTabs(false);\n@@ -120,1 +123,1 @@\n-        labelHeading.setId(htmlIds.forInheritedClasses(typeElement));\n+        labelHeading.setId(getInheritedSummaryId(typeElement));\n@@ -126,0 +129,5 @@\n+    @Override\n+    protected HtmlId getInheritedSummaryId(TypeElement typeElement) {\n+        return htmlIds.forInheritedClasses(typeElement);\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/NestedClassWriter.java","additions":17,"deletions":9,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+import jdk.javadoc.internal.html.HtmlId;\n@@ -258,0 +259,8 @@\n+    @Override\n+    protected Table<Element> createInheritedSummaryTable(TypeElement typeElement) {\n+        return new Table<Element>(HtmlStyles.summaryTable)\n+                .setHeader(getSummaryTableHeader(null))\n+                .setColumnStyles(HtmlStyles.colFirst, HtmlStyles.colSecond, HtmlStyles.colLast)\n+                .setRenderTabs(false);\n+    }\n+\n@@ -273,1 +282,1 @@\n-                        .setId(htmlIds.forInheritedProperties(typeElement))\n+                        .setId(getInheritedSummaryId(typeElement))\n@@ -279,0 +288,5 @@\n+    @Override\n+    protected HtmlId getInheritedSummaryId(TypeElement typeElement) {\n+        return htmlIds.forInheritedProperties(typeElement);\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/PropertyWriter.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -379,2 +379,5 @@\n-        if ((tabs == null || occurringTabs.size() == 1) && renderTabs) {\n-            if (tabs == null) {\n+        if (tabs == null || (occurringTabs.size() == 1 && renderTabs)) {\n+            \/\/ Render table with static content. Note that a single-tab table is only static\n+            \/\/ if it is controlled by local tabs. In a multi-table summary page, it still\n+            \/\/ must be able to show\/hide its content depending on page-level controls.\n+            if (caption != null) {\n@@ -382,1 +385,1 @@\n-            } else {\n+            } else if (tabs != null) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Table.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -0,0 +1,12 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+\n+ Licensed under the Universal Permissive License v 1.0 as shown at https:\/\/oss.oracle.com\/licenses\/upl\/\n+-->\n+\n+<svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 100 100\">\n+  <path d=\"m35.763 5.058 38.675 36.885a12.596 12.596 90 0 1 0 18.23L35.763 97.058v-18.32l27.055-25.431a2.975 2.975 90.09 0 0 .007-4.33L35.763 23.38Z\" style=\"fill:#000;stroke-width:.285806\" transform=\"rotate(90 53.877 47.354)\"\/>\n+<\/svg>\n\\ No newline at end of file\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/down.svg","additions":12,"deletions":0,"binary":false,"changes":12,"status":"added"},{"patch":"@@ -12,1 +12,1 @@\n-<\/svg>\n+<\/svg>\n\\ No newline at end of file\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/right.svg","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -23,0 +23,1 @@\n+const toggleMemberListing = \"##REPLACE:doclet.Toggle_member_listing##\";\n@@ -511,3 +512,3 @@\n-                template.innerHTML =\" <a href='#\" + encodeURI(id) + \"' class='anchor-link' aria-label='\" + linkToSection\n-                    + \"'><img src='\" + pathtoroot + \"resource-files\/link.svg' alt='\" + linkIcon +\"' tabindex='0'\"\n-                    + \" width='16' height='16'><\/a>\";\n+                template.innerHTML =\" <a href='#\" + encodeURI(id) + \"' class='anchor-link' aria-label='\"\n+                    + linkToSection + \"'><img src='\" + pathtoroot + \"resource-files\/link.svg' alt='\"\n+                    + linkIcon + \"' width='16' height='16'><\/a>\";\n@@ -517,0 +518,15 @@\n+    document.querySelectorAll(\"div.inherited-list:has( > div.summary-table) > h3\").forEach(h => {\n+        const button = document.createElement(\"button\");\n+        const p = h.parentElement;\n+        button.addEventListener(\"click\", e => {\n+            toggleStyle(p.classList, p.classList.contains(\"expanded\"), \"collapsed\", \"expanded\");\n+        });\n+        button.addEventListener(\"keydown\", e => {\n+            if (e.key === \" \" || e.key === \"Enter\") {\n+                toggleStyle(p.classList, p.classList.contains(\"expanded\"), \"collapsed\", \"expanded\");\n+                e.preventDefault();\n+            }\n+        });\n+        button.setAttribute(\"aria-label\", toggleMemberListing);\n+        h.insertAdjacentElement(\"afterbegin\", button);\n+    });\n@@ -522,10 +538,12 @@\n-        sections = [{ id: \"\", top: 0 }].concat(Array.from(main.querySelectorAll(\n-                \"section[id], h2[id], h2 a[id], h3[id], h3 a[id], div[id]\"))\n-            .filter((e) => {\n-                return sidebar.querySelector(\"a[href=\\\"#\" + encodeURI(e.getAttribute(\"id\")) + \"\\\"]\") !== null\n-            }).map((e) => {\n-                return {\n-                    id: e.getAttribute(\"id\"),\n-                    top: e.offsetTop\n-                };\n-            }));\n+        sections = [{ id: \"\", top: 0 }].concat(\n+            Array.from(main.querySelectorAll(\"section[id], h2[id], h2 a[id], h3[id], h3 a[id], div[id]\"))\n+                .filter((e) => {\n+                    var id = encodeURI(e.getAttribute(\"id\"));\n+                    return sidebar.querySelector(\"a[href=\\\"#\" + id + \"\\\"]\") !== null\n+                }).map((e) => {\n+                    return {\n+                        id: e.getAttribute(\"id\"),\n+                       top: e.offsetTop\n+                    };\n+                })\n+        );\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/script.js.template","additions":31,"deletions":13,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -158,1 +158,2 @@\n-    div.main-grid img {\n+    div.main-grid img,\n+    .inherited-list h3 > button {\n@@ -211,1 +212,2 @@\n-        div.main-grid img {\n+        div.main-grid img,\n+        .inherited-list h3 > button {\n@@ -260,1 +262,2 @@\n-        div.main-grid img {\n+        div.main-grid img,\n+        .inherited-list h3 > button {\n@@ -884,2 +887,2 @@\n-    padding:5px 12px 7px 12px;\n-    height:16px;\n+    padding:4.5px 12px;\n+    height:19px;\n@@ -891,2 +894,2 @@\n-    padding:6px 12px 7px 12px;\n-    height:17px;\n+    padding:5px 5px 6px 12px;\n+    height:18px;\n@@ -895,0 +898,1 @@\n+    font-size: 0.99em;\n@@ -910,0 +914,6 @@\n+.caption a:hover,\n+.caption a:active,\n+.inherited-list.expanded h3 a:hover,\n+.inherited-list.expanded h3 a:active {\n+    color: var(--link-color-active);\n+}\n@@ -998,1 +1008,1 @@\n-    padding: 8px 3px 3px 7px;\n+    padding: 8px 5px 3px 7px;\n@@ -1518,0 +1528,21 @@\n+.inherited-list h3 > button {\n+    cursor: pointer;\n+    color: var(--subnav-link-color);\n+    position: relative;\n+    background-color: transparent;\n+    background-image:url(\"right.svg\");\n+    background-repeat: no-repeat;\n+    background-size: 12px;\n+    background-position:3px 6px;\n+    border:none;\n+    width: 1.3em;\n+    height: 1.6em;\n+    vertical-align: middle;\n+    top: -2px;\n+}\n+.inherited-list h3:has(button) {\n+    padding-left: 2px;\n+}\n+.inherited-list.expanded h3 > button {\n+    background-image: url(\"down.svg\");\n+}\n@@ -1525,0 +1556,9 @@\n+.inherited-list > div {\n+    display: none;\n+}\n+.inherited-list.expanded > code {\n+    display: none;\n+}\n+.inherited-list.expanded > div {\n+    display: grid;\n+}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/stylesheet.css","additions":48,"deletions":8,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,2 +63,3 @@\n-        Content desc = tagletWriter.htmlWriter.commentTagsToContent(element, indexTree.getDescription(), context.within(indexTree));\n-        String descText = utils.normalizeWhitespace(extractText(desc));\n+        Content desc = tagletWriter.htmlWriter.commentTagsToContent(element, indexTree.getDescription(),\n+                context.within(indexTree));\n+        String descText = utils.normalizeWhitespace(desc.stripTags().toString());\n@@ -68,6 +69,0 @@\n-\n-    \/\/ ugly but simple;\n-    \/\/ alternatives would be to walk the Content's tree structure, or to add new functionality to Content\n-    private String extractText(Content c) {\n-        return c.toString().replaceAll(\"<[^>]+>\", \"\");\n-    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/taglets\/IndexTaglet.java","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -49,1 +49,0 @@\n-import jdk.javadoc.internal.html.Entity;\n@@ -51,1 +50,0 @@\n-import jdk.javadoc.internal.html.RawHtml;\n@@ -53,1 +51,0 @@\n-import jdk.javadoc.internal.html.TextBuilder;\n@@ -126,29 +123,1 @@\n-                utils.normalizeWhitespace(textOf(label)), label);\n-    }\n-\n-    \/\/ this is here, for now, but might be a useful addition elsewhere,\n-    \/\/ perhaps as a method on Content\n-    private String textOf(Content c) {\n-        return appendText(new StringBuilder(), c).toString();\n-    }\n-\n-    private StringBuilder appendText(StringBuilder sb, Content c) {\n-        if (c instanceof ContentBuilder cb) {\n-            appendText(sb, cb.getContents());\n-        } else if (c instanceof HtmlTree ht) {\n-            appendText(sb, ht.getContents());\n-        } else if (c instanceof RawHtml rh) {\n-            sb.append(rh.toString().replaceAll(\"<[^>]*>\", \"\"));\n-        } else if (c instanceof TextBuilder tb) {\n-            sb.append(tb.toString());\n-        } else if (c instanceof Text t) {\n-            sb.append(t.toString());\n-        } else if (c instanceof Entity e) {\n-            sb.append(e.toString());\n-        }\n-        return sb;\n-    }\n-\n-    private StringBuilder appendText(StringBuilder sb, List<? extends Content> contents) {\n-        contents.forEach(c -> appendText(sb, c));\n-        return sb;\n+                utils.normalizeWhitespace(label.stripTags().toString()), label);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/taglets\/SpecTaglet.java","additions":1,"deletions":32,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -364,0 +364,4 @@\n+        \/\/ Check if member was already processed\n+        if (dcInfoMap.containsKey(member)) {\n+            return;\n+        }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/CommentUtils.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -77,0 +77,1 @@\n+doclet.Toggle_member_listing=Toggle between short and detailed list view\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -109,0 +109,3 @@\n+    \/** The name of the downwards pointing angle icon. *\/\n+    public static final DocPath DOWN_SVG = DocPath.create(\"down.svg\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -145,0 +145,7 @@\n+    \/**\n+     * {@return the plain text of this content with HTML tags removed}\n+     *\/\n+    public Content stripTags() {\n+        return this;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/html\/Content.java","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -108,0 +108,9 @@\n+    @Override\n+    public Content stripTags() {\n+        var text = new ContentBuilder();\n+        for (Content c : contents) {\n+            text.add(c.stripTags());\n+        }\n+        return text;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/html\/ContentBuilder.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -181,0 +181,1 @@\n+        Objects.requireNonNull(content, \"Content must not be null\");\n@@ -282,0 +283,9 @@\n+    @Override\n+    public Content stripTags() {\n+        var text = new ContentBuilder();\n+        for (Content c : content) {\n+            text.add(c.stripTags());\n+        }\n+        return text;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/html\/HtmlTree.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -160,0 +160,5 @@\n+    @Override\n+    public Content stripTags() {\n+        return Text.of(rawHtmlContent.replaceAll(\"<[^>]*>\", \"\"));\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/html\/RawHtml.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -217,1 +217,1 @@\n-                <code><a href=\"PubJ.html#testJ()\" title=\"testJ()\">testJ<\/a><\/code><\/div>\n+                <code><a href=\"PubJ.html#testJ()\" title=\"testJ()\">testJ<\/a><\/code>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testDuplicateMethodsWarn\/TestDuplicateMethods.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-                    InnerExtendsInvisibleInner<\/a><\/code><\/div>\n+                    InnerExtendsInvisibleInner<\/a><\/code>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHiddenTag\/TestHiddenTag.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n-             8186332 8186703 8182765 8187288 8261976 8303349 8319988\n+             8186332 8186703 8182765 8187288 8261976 8303349 8319988 8350920\n@@ -214,1 +214,34 @@\n-                code><\/div>\"\"\");\n+                code>\n+                <div class=\"summary-table three-column-summary\">\n+                <div class=\"table-header col-first\">Modifier and Type<\/div>\n+                <div class=\"table-header col-second\">Interface<\/div>\n+                <div class=\"table-header col-last\">Description<\/div>\n+                <div class=\"col-first even-row-color\"><code>static interface&nbsp;<\/code><\/div>\n+                <div class=\"col-second even-row-color\"><code><a href=\"Spliterator.OfDouble.html\"\\\n+                 class=\"type-name-link\" title=\"interface in pkg2\">Spliterator.OfDouble<\/a><\/code\\\n+                ><\/div>\n+                <div class=\"col-last even-row-color\">&nbsp;<\/div>\n+                <div class=\"col-first odd-row-color\"><code>static interface&nbsp;<\/code><\/div>\n+                <div class=\"col-second odd-row-color\"><code><a href=\"Spliterator.OfInt.html\" cla\\\n+                ss=\"type-name-link\" title=\"interface in pkg2\">Spliterator.OfInt<\/a>&lt;<a href=\"\\\n+                Spliterator.OfInt.html#type-param-Integer\" title=\"type parameter in Spliterator.\\\n+                OfInt\">Integer<\/a>&gt;<\/code><\/div>\n+                <div class=\"col-last odd-row-color\">&nbsp;<\/div>\n+                <div class=\"col-first even-row-color\"><code>static interface&nbsp;<\/code><\/div>\n+                <div class=\"col-second even-row-color\"><code><a href=\"Spliterator.OfPrimitive.ht\\\n+                ml\" class=\"type-name-link\" title=\"interface in pkg2\">Spliterator.OfPrimitive<\/a>\\\n+                &lt;<a href=\"Spliterator.OfPrimitive.html#type-param-T\" title=\"type parameter in\\\n+                 Spliterator.OfPrimitive\">T<\/a>, <a href=\"Spliterator.OfPrimitive.html#type-para\\\n+                m-T_CONS\" title=\"type parameter in Spliterator.OfPrimitive\">T_CONS<\/a>, <a href\\\n+                =\"Spliterator.OfPrimitive.html#type-param-T_SPLITR\" title=\"type parameter in Sp\\\n+                literator.OfPrimitive\">T_SPLITR<\/a> extends <a href=\"Spliterator.OfPrimitive.ht\\\n+                ml\" title=\"interface in pkg2\">Spliterator.OfPrimitive<\/a>&lt;<a href=\"Spliterat\\\n+                or.OfPrimitive.html#type-param-T\" title=\"type parameter in Spliterator.OfPrimit\\\n+                ive\">T<\/a>,<wbr><a href=\"Spliterator.OfPrimitive.html#type-param-T_CONS\" title=\\\n+                \"type parameter in Spliterator.OfPrimitive\">T_CONS<\/a>,<wbr><a href=\"Spliterato\\\n+                r.OfPrimitive.html#type-param-T_SPLITR\" title=\"type parameter in Spliterator.Of\\\n+                Primitive\">T_SPLITR<\/a>&gt;&gt;<\/code><\/div>\n+                <div class=\"col-last even-row-color\">&nbsp;<\/div>\n+                <\/div>\n+                <\/div>\n+                <\/section>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testInterface\/TestInterface.java","additions":36,"deletions":3,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- *      8203791 8184205 8249633 8261976\n+ *      8203791 8184205 8249633 8261976 8350920\n@@ -244,1 +244,23 @@\n-                    <code><a href=\"C.html#pausedProperty\">paused<\/a>, <a href=\"C.html#rateProperty\">rate<\/a><\/code><\/div>\"\"\");\n+                    <code><a href=\"C.html#pausedProperty\">paused<\/a>, <a href=\"C.html#rateProperty\">rate<\/a><\/code>\n+                    <div class=\"summary-table three-column-summary\">\n+                    <div class=\"table-header col-first\">Type<\/div>\n+                    <div class=\"table-header col-second\">Property<\/div>\n+                    <div class=\"table-header col-last\">Description<\/div>\n+                    <div class=\"col-first even-row-color\"><code>final <a href=\"C.BooleanProperty.htm\\\n+                    l\" title=\"class in pkg1\">C.BooleanProperty<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><a href=\"C.html#pausedProperty\" cla\\\n+                    ss=\"member-name-link\">paused<\/a><\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Defines if paused.<\/div>\n+                    <\/div>\n+                    <div class=\"col-first odd-row-color\"><code>final <a href=\"C.DoubleProperty.html\"\\\n+                     title=\"class in pkg1\">C.DoubleProperty<\/a><\/code><\/div>\n+                    <div class=\"col-second odd-row-color\"><code><a href=\"C.html#rateProperty\" class=\\\n+                    \"member-name-link\">rate<\/a><\/code><\/div>\n+                    <div class=\"col-last odd-row-color\">\n+                    <div class=\"block\">Defines the direction\/speed at which the <code>Timeline<\/code> is expected to\n+                    be played.<\/div>\n+                    <\/div>\n+                    <\/div>\n+                    <\/div>\n+                    <\/section>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testJavaFX\/TestJavaFX.java","additions":24,"deletions":2,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8157000 8192850 8182765 8223607 8261976 8281376 8313204 8345777\n+ * @bug 8157000 8192850 8182765 8223607 8261976 8281376 8313204 8345777 8350920\n@@ -88,0 +88,11 @@\n+                \/\/ Check summary table for inherited nested classes\n+                \"summary-table three-column-summary\",\n+                \"Modifier and Type\",\n+                \"Class\",\n+                \"Description\",\n+                \"class&nbsp;\",\n+                \"Classes.P.PN.html\",\n+                \"Classes.P.PN.html#type-param-K\",\n+                \"Classes.P.PN.html#type-param-V\",\n+                \"A nested class in parent\",\n+\n@@ -95,0 +106,9 @@\n+                \/\/ Check summary table for inherited properties\n+                \"summary-table three-column-summary\",\n+                \"Type\",\n+                \"Property\",\n+                \"Description\",\n+                \"Classes.DoubleProperty\",\n+                \"Classes.P.html#rateProperty\",\n+                \"rate\",\n+\n@@ -101,0 +121,9 @@\n+                \/\/ Check summary table for inherited fields\n+                \"summary-table three-column-summary\",\n+                \"Modifier and Type\",\n+                \"Field\",\n+                \"Description\",\n+                \"int\",\n+                \"Classes.P.html#field0\",\n+                \"field0\",\n+\n@@ -121,0 +150,10 @@\n+                \/\/ Check summary table for inherited methods\n+                \"summary-table three-column-summary\",\n+                \"Modifier and Type\",\n+                \"Method\",\n+                \"Description\",\n+                \"void\",\n+                \"Classes.GP.html#m0()\",\n+                \"m0\",\n+                \"m0 in grand parent\",\n+\n@@ -123,3 +162,5 @@\n-                    Methods declared in class&nbsp;java.lang.Object\"\"\",\n-                \"\"\"\n-                    clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait\"\"\",\n+                    <h3 id=\"methods-inherited-from-class-java.lang.Object\">Methods declared in clas\\\n+                    s&nbsp;java.lang.Object<\/h3>\n+                    <code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString,\\\n+                     wait, wait, wait<\/code><\/div>\n+                    <\/section>\"\"\",\n@@ -193,0 +234,15 @@\n+        checkOrder(\"pkg5\/Classes.P.html\",\n+                \/\/ Check table of contents for inherited members\n+                \"\"\"\n+                    <li><a href=\"#nested-class-summary\" tabindex=\"0\">Nested Class Summary<\/a><\/li>\n+                    <li><a href=\"#property-summary\" tabindex=\"0\">Property Summary<\/a><\/li>\n+                    <li><a href=\"#field-summary\" tabindex=\"0\">Field Summary<\/a><\/li>\n+                    <li><a href=\"#constructor-summary\" tabindex=\"0\">Constructor Summary<\/a><\/li>\n+                    <li><a href=\"#method-summary\" tabindex=\"0\">Method Summary<\/a>\n+                    <ol class=\"toc-list\">\n+                    <li><a href=\"#methods-inherited-from-class-pkg5.Classes.GP\" tabindex=\"0\">Method\\\n+                    s declared in class&nbsp;Classes.GP<\/a><\/li>\n+                    <li><a href=\"#methods-inherited-from-class-java.lang.Object\" tabindex=\"0\">Metho\\\n+                    ds declared in class&nbsp;java.lang.Object<\/a><\/li>\n+                    <\/ol>\"\"\");\n+\n@@ -394,2 +450,26 @@\n-                    le=\"m3()\">m3<\/a>, <a href=\"Base.html#m9()\" title=\"m9()\">m9<\/a><\/code><\/div>\n-                    \"\"\");\n+                    le=\"m3()\">m3<\/a>, <a href=\"Base.html#m9()\" title=\"m9()\">m9<\/a><\/code>\n+                    <div class=\"summary-table three-column-summary\">\n+                    <div class=\"table-header col-first\">Modifier and Type<\/div>\n+                    <div class=\"table-header col-second\">Method<\/div>\n+                    <div class=\"table-header col-last\">Description<\/div>\n+                    <div class=\"col-first even-row-color\"><code>java.lang.Object<\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><a href=\"Base.html#m1()\" class=\"mem\\\n+                    ber-name-link\">m1<\/a>()<\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">This is Base::m1.<\/div>\n+                    <\/div>\n+                    <div class=\"col-first odd-row-color\"><code><a href=\"#type-param-T\" title=\"type p\\\n+                    arameter in Sub\">T<\/a><\/code><\/div>\n+                    <div class=\"col-second odd-row-color\"><code><a href=\"Base.html#m3()\" class=\"memb\\\n+                    er-name-link\">m3<\/a>()<\/code><\/div>\n+                    <div class=\"col-last odd-row-color\">\n+                    <div class=\"block\">This is Base::m3.<\/div>\n+                    <\/div>\n+                    <div class=\"col-first even-row-color\"><code>abstract java.lang.Object<\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><a href=\"Base.html#m9()\" class=\"mem\\\n+                    ber-name-link\">m9<\/a>()<\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">This is Base::m9.<\/div>\n+                    <\/div>\n+                    <\/div>\n+                    <\/div>\"\"\");\n@@ -418,1 +498,16 @@\n-                    , int[])\">m1<\/a><\/code><\/div>\"\"\");\n+                    , int[])\">m1<\/a><\/code>\n+                    <div class=\"summary-table three-column-summary\">\n+                    <div class=\"table-header col-first\">Modifier and Type<\/div>\n+                    <div class=\"table-header col-second\">Method<\/div>\n+                    <div class=\"table-header col-last\">Description<\/div>\n+                    <div class=\"col-first even-row-color\"><code>java.lang.Iterable<wbr>&lt;java.lang\\\n+                    .String&gt;<\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><a href=\"AnnotatedBase.html#m1(java\\\n+                    .lang.Class,int%5B%5D)\" class=\"member-name-link\">m1<\/a><wbr>(java.lang.Class&lt;\\\n+                    ? extends java.lang.CharSequence&gt;&nbsp;p1,\n+                     int[]&nbsp;p2)<\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">This is AnnotatedBase::m1.<\/div>\n+                    <\/div>\n+                    <\/div>\n+                    <\/div>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testOverriddenMethods\/TestOverrideMethods.java","additions":103,"deletions":8,"binary":false,"changes":111,"status":"modified"},{"patch":"@@ -89,1 +89,1 @@\n-                        padding: 8px 3px 3px 7px;\n+                        padding: 8px 5px 3px 7px;\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testStylesheet\/TestStylesheet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -261,1 +261,1 @@\n-                    <code><a href=\"internal\/InternalClass.html#p()\" title=\"p()\">p<\/a><\/code><\/div>\n+                    <code><a href=\"internal\/InternalClass.html#p()\" title=\"p()\">p<\/a><\/code>\n@@ -267,1 +267,1 @@\n-                    <code><a href=\"internal\/InternalInterface.html#m()\" title=\"m()\">m<\/a><\/code><\/div>\n+                    <code><a href=\"internal\/InternalInterface.html#m()\" title=\"m()\">m<\/a><\/code>\n@@ -289,1 +289,1 @@\n-                    <code><a href=\"..\/..\/ma\/pa\/internal\/InternalClass.html#p()\" title=\"p()\">p<\/a><\/code><\/div>\n+                    <code><a href=\"..\/..\/ma\/pa\/internal\/InternalClass.html#p()\" title=\"p()\">p<\/a><\/code>\n@@ -295,1 +295,1 @@\n-                    <code><a href=\"..\/..\/ma\/pa\/internal\/InternalInterface.html#m()\" title=\"m()\">m<\/a><\/code><\/div>\n+                    <code><a href=\"..\/..\/ma\/pa\/internal\/InternalInterface.html#m()\" title=\"m()\">m<\/a><\/code>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testUnexported\/TestUnexported.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -208,0 +208,1 @@\n+            \"resource-files\/down.svg\",\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/api\/basic\/APITest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
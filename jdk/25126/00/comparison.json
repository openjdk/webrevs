{"files":[{"patch":"@@ -1004,4 +1004,1 @@\n-        Path appImageDir = Path.of(\"\");\n-        if (isImagePackageType() && hasArgument(\"--app-image\")) {\n-            appImageDir = Path.of(getArgumentValue(\"--app-image\"));\n-        }\n+        final Path lookupPath = AppImageFile.getPathInAppImage(Path.of(\"\"));\n@@ -1009,1 +1006,0 @@\n-        final Path lookupPath = AppImageFile.getPathInAppImage(appImageDir);\n@@ -1076,2 +1072,8 @@\n-        final Path rootDir = isImagePackageType() ? outputBundle() : pathToUnpackedPackageFile(\n-                appInstallationDirectory());\n+        final Path rootDir;\n+        if (TKit.isOSX() && MacHelper.signPredefinedAppImage(this)) {\n+            rootDir = Path.of(getArgumentValue(\"--app-image\"));\n+        } else if (isImagePackageType()) {\n+            rootDir = outputBundle();\n+        } else {\n+            rootDir = pathToUnpackedPackageFile(appInstallationDirectory());\n+        }\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/JPackageCommand.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"}]}
{"files":[{"patch":"@@ -191,1 +191,0 @@\n-            JavaThing value = getField(\"value\");\n@@ -193,1 +192,5 @@\n-            boolean compact = ((JavaByte)coder).value == 0;\n+            boolean compact = false;\n+            if (coder instanceof JavaByte) {\n+                compact = ((JavaByte)coder).value == 0;\n+            }\n+            JavaThing value = getField(\"value\");\n","filename":"test\/lib\/jdk\/test\/lib\/hprof\/model\/JavaObject.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import java.nio.ByteOrder;\n@@ -351,0 +352,12 @@\n+    private static final int STRING_HI_BYTE_SHIFT;\n+    private static final int STRING_LO_BYTE_SHIFT;\n+    static {\n+        if (ByteOrder.nativeOrder() == ByteOrder.BIG_ENDIAN) {\n+            STRING_HI_BYTE_SHIFT = 8;\n+            STRING_LO_BYTE_SHIFT = 0;\n+        } else {\n+            STRING_HI_BYTE_SHIFT = 0;\n+            STRING_LO_BYTE_SHIFT = 8;\n+        }\n+    }\n+\n@@ -364,3 +377,3 @@\n-                    byte b1 = ((JavaByte)things[i]).value;\n-                    byte b2 = ((JavaByte)things[i + 1]).value;\n-                    chars[i \/ 2] = (char)(b1 + (b2 << 8));\n+                    int b1 = ((JavaByte)things[i]).value     << STRING_HI_BYTE_SHIFT;\n+                    int b2 = ((JavaByte)things[i + 1]).value << STRING_LO_BYTE_SHIFT;\n+                    chars[i \/ 2] = (char)(b1 | b2);\n","filename":"test\/lib\/jdk\/test\/lib\/hprof\/model\/JavaValueArray.java","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"}]}
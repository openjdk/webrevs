{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,2 @@\n+ * @library \/test\/lib\n+ * @build jtreg.SkippedException\n@@ -36,0 +38,1 @@\n+import java.util.List;\n@@ -48,0 +51,2 @@\n+import jtreg.SkippedException;\n+\n@@ -51,3 +56,1 @@\n-    private static final String FONT_WINDOWS = \"Myanmar Text\";\n-    private static final String FONT_LINUX = \"Padauk\";\n-    private static final String FONT_MACOS = \"Myanmar MN\";\n+    private static final String OS_NAME = System.getProperty(\"os.name\").toLowerCase();\n@@ -55,0 +58,5 @@\n+    private static final List<String> FONT_CANDIDATES =\n+            List.of(\"Myanmar MN\",\n+                    \"Padauk\",\n+                    \"Myanmar Text\",\n+                    \"Noto Sans Myanmar\");\n@@ -64,6 +72,5 @@\n-            System.err.println(\"Unsupported OS: exiting\");\n-            return;\n-        }\n-        if (!fontExists()) {\n-            System.err.println(\"Required font is not installed: \" + FONT_NAME);\n-            return;\n+            String fontList = String.join(\", \", FONT_CANDIDATES);\n+            System.err.println(\"Required font is not installed for OS: \" + OS_NAME);\n+            System.err.println(\"Checked fonts: \" + fontList);\n+            throw new SkippedException(\"Required fonts not installed for OS: \"\n+                    + OS_NAME + \". Checked fonts: \" + fontList);\n@@ -133,10 +140,6 @@\n-        String osName = System.getProperty(\"os.name\").toLowerCase();\n-        if (osName.contains(\"windows\")) {\n-            return FONT_WINDOWS;\n-        } else if (osName.contains(\"linux\")) {\n-            return FONT_LINUX;\n-        } else if (osName.contains(\"mac\")) {\n-            return FONT_MACOS;\n-        } else {\n-            return null;\n-        }\n+        return Arrays.stream(GraphicsEnvironment\n+                        .getLocalGraphicsEnvironment()\n+                        .getAvailableFontFamilyNames())\n+                .filter(FONT_CANDIDATES::contains)\n+                .findFirst()\n+                .orElse(null);\n@@ -145,6 +148,0 @@\n-    private static boolean fontExists() {\n-        String[] fontFamilyNames = GraphicsEnvironment\n-                                   .getLocalGraphicsEnvironment()\n-                                   .getAvailableFontFamilyNames();\n-        return Arrays.asList(fontFamilyNames).contains(FONT_NAME);\n-    }\n","filename":"test\/jdk\/java\/awt\/font\/TextLayout\/MyanmarTextTest.java","additions":23,"deletions":26,"binary":false,"changes":49,"status":"modified"}]}
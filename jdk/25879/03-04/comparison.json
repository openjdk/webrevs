{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import java.util.List;\n@@ -57,6 +58,6 @@\n-    private static final String[] FONTS_WINDOWS = {\"Myanmar Text\", \"Noto Sans Myanmar\"};\n-    private static final String[] FONTS_LINUX = {\"Padauk\", \"Noto Sans Myanmar\", \"Myanmar Text\"};\n-    private static final String[] FONTS_MACOS = {\"Myanmar MN\", \"Noto Sans Myanmar\", \"Myanmar Text\"};\n-\n-    private static final String[] FONT_CANDIDATES = selectFontCandidates();\n-    private static final String FONT_NAME = selectAvailableFont();\n+    private static final List<String> FONT_CANDIDATES =\n+            List.of(\"Myanmar MN\",\n+                    \"Padauk\",\n+                    \"Myanmar Text\",\n+                    \"Noto Sans Myanmar\");\n+    private static final String FONT_NAME = selectFontName();\n@@ -70,4 +71,0 @@\n-        if (FONT_CANDIDATES == null) {\n-            System.err.println(\"Unsupported OS: exiting\");\n-            throw new SkippedException(\"Unsupported OS: \" + OS_NAME);\n-        }\n@@ -105,0 +102,1 @@\n+\n@@ -141,10 +139,7 @@\n-    private static String[] selectFontCandidates() {\n-        if (OS_NAME.contains(\"windows\")) {\n-            return FONTS_WINDOWS;\n-        } else if (OS_NAME.contains(\"linux\")) {\n-            return FONTS_LINUX;\n-        } else if (OS_NAME.contains(\"mac\")) {\n-            return FONTS_MACOS;\n-        } else {\n-            return null;\n-        }\n+    private static String selectFontName() {\n+        return Arrays.stream(GraphicsEnvironment\n+                        .getLocalGraphicsEnvironment()\n+                        .getAvailableFontFamilyNames())\n+                .filter(FONT_CANDIDATES::contains)\n+                .findFirst()\n+                .orElse(null);\n@@ -153,16 +148,0 @@\n-    private static String selectAvailableFont() {\n-        if (FONT_CANDIDATES == null) {\n-            return null;\n-        }\n-        String[] installedFonts = GraphicsEnvironment\n-                .getLocalGraphicsEnvironment()\n-                .getAvailableFontFamilyNames();\n-\n-        for (String font : FONT_CANDIDATES) {\n-            if (Arrays.asList(installedFonts).contains(font)) {\n-                System.out.println(\"Using font: \" + font);\n-                return font;\n-            }\n-        }\n-        return null;\n-    }\n","filename":"test\/jdk\/java\/awt\/font\/TextLayout\/MyanmarTextTest.java","additions":15,"deletions":36,"binary":false,"changes":51,"status":"modified"}]}
{"files":[{"patch":"@@ -30,0 +30,1 @@\n+import java.lang.classfile.attribute.RuntimeVisibleAnnotationsAttribute;\n@@ -71,0 +72,3 @@\n+    private static final RuntimeVisibleAnnotationsAttribute STABLE_ANNOTATION = RuntimeVisibleAnnotationsAttribute.of(\n+            Annotation.of(ConstantUtils.referenceClassDesc(Stable.class))\n+    );\n@@ -618,1 +622,1 @@\n-            return ClassFile.of().build(classDesc, new Consumer<ClassBuilder>() {\n+            return ClassFile.of().build(classDesc, new Consumer<>() {\n@@ -626,1 +630,7 @@\n-                       .withField(sdFieldName, CD_SPECIES_DATA, ACC_STATIC);\n+                       .withField(sdFieldName, CD_SPECIES_DATA, new Consumer<>() {\n+                           @Override\n+                           public void accept(FieldBuilder fb) {\n+                               fb.withFlags(ACC_STATIC)\n+                                 .with(STABLE_ANNOTATION);\n+                           }\n+                       });\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/ClassSpecializer.java","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -529,0 +529,1 @@\n+    public static final RuntimeVisibleAnnotationsAttribute LF_DONTINLINE_PROFILE_ANNOTATIONS = RuntimeVisibleAnnotationsAttribute.of(HIDDEN, LF_COMPILED, DONTINLINE, INJECTEDPROFILE);\n@@ -530,0 +531,1 @@\n+    public static final RuntimeVisibleAnnotationsAttribute LF_FORCEINLINE_PROFILE_ANNOTATIONS = RuntimeVisibleAnnotationsAttribute.of(HIDDEN, LF_COMPILED, FORCEINLINE, INJECTEDPROFILE);\n@@ -589,1 +591,5 @@\n-                                        mb.with(RuntimeVisibleAnnotationsAttribute.of(List.of(INJECTEDPROFILE)));\n+                                        if (lambdaForm.forceInline) {\n+                                            mb.with(LF_FORCEINLINE_PROFILE_ANNOTATIONS);\n+                                        } else {\n+                                            mb.with(LF_DONTINLINE_PROFILE_ANNOTATIONS);\n+                                        }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InvokerBytecodeGenerator.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}
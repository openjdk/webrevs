{"files":[{"patch":"@@ -191,1 +191,0 @@\n-  inline void push(oop obj);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psCompactionManager.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -59,4 +59,0 @@\n-inline void ParCompactionManager::push(oop obj) {\n-  marking_stack()->push(ScannerTask(obj));\n-}\n-\n@@ -77,17 +73,8 @@\n-  if (!CompressedOops::is_null(heap_oop)) {\n-    oop obj = CompressedOops::decode_not_null(heap_oop);\n-    assert(ParallelScavengeHeap::heap()->is_in(obj), \"should be in heap\");\n-\n-    if (mark_bitmap()->mark_obj(obj)) {\n-      if (StringDedup::is_enabled() &&\n-          java_lang_String::is_instance(obj) &&\n-          psStringDedup::is_candidate_from_mark(obj)) {\n-        _string_dedup_requests.add(obj);\n-      }\n-\n-      ContinuationGCSupport::transform_stack_chunk(obj);\n-\n-      assert(_marking_stats_cache != nullptr, \"inv\");\n-      _marking_stats_cache->push(obj, obj->size());\n-      push(obj);\n-    }\n+  if (CompressedOops::is_null(heap_oop)) {\n+    return;\n+  }\n+\n+  oop obj = CompressedOops::decode_not_null(heap_oop);\n+  if (!mark_bitmap()->mark_obj(obj)) {\n+    \/\/ Marked by another worker.\n+    return;\n@@ -95,0 +82,11 @@\n+\n+  if (StringDedup::is_enabled() &&\n+      java_lang_String::is_instance(obj) &&\n+      psStringDedup::is_candidate_from_mark(obj)) {\n+    _string_dedup_requests.add(obj);\n+  }\n+\n+  ContinuationGCSupport::transform_stack_chunk(obj);\n+\n+  _marking_stats_cache->push(obj, obj->size());\n+  marking_stack()->push(ScannerTask(obj));\n","filename":"src\/hotspot\/share\/gc\/parallel\/psCompactionManager.inline.hpp","additions":19,"deletions":21,"binary":false,"changes":40,"status":"modified"}]}
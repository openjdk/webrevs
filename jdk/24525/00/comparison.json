{"files":[{"patch":"@@ -213,9 +213,0 @@\n-  elif test \"x$TOOLCHAIN_PATH\" != x; then\n-    UTIL_LOOKUP_PROGS(XCODEBUILD, xcodebuild, $TOOLCHAIN_PATH)\n-    if test \"x$XCODEBUILD\" != x; then\n-      XCODEBUILD_OUTPUT=`\"$XCODEBUILD\" -version 2>&1`\n-      if test $? -ne 0; then\n-        AC_MSG_WARN([Ignoring the located xcodebuild tool $XCODEBUILD due to an error: $XCODEBUILD_OUTPUT])\n-        XCODEBUILD=\n-      fi\n-    fi\n@@ -223,1 +214,1 @@\n-    UTIL_LOOKUP_PROGS(XCODEBUILD, xcodebuild)\n+    UTIL_LOOKUP_TOOLCHAIN_PROGS(XCODEBUILD, xcodebuild)\n@@ -351,5 +342,0 @@\n-  AC_ARG_WITH(sys-root, [AS_HELP_STRING([--with-sys-root],\n-      [alias for --with-sysroot for backwards compatibility])],\n-      [SYSROOT=$with_sys_root]\n-  )\n-\n@@ -361,5 +347,0 @@\n-  AC_ARG_WITH([tools-dir], [AS_HELP_STRING([--with-tools-dir],\n-      [alias for --with-toolchain-path for backwards compatibility])],\n-      [UTIL_PREPEND_TO_PATH([TOOLCHAIN_PATH],$with_tools_dir)]\n-  )\n-\n@@ -374,0 +355,3 @@\n+  UTIL_DEPRECATED_ARG_WITH(sys-root)\n+  UTIL_DEPRECATED_ARG_WITH(tools-dir)\n+\n","filename":"make\/autoconf\/basic.m4","additions":4,"deletions":20,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -210,1 +210,1 @@\n-    UTIL_LOOKUP_PROGS(CHECK_GMAKE, gmake)\n+    UTIL_LOOKUP_TOOLCHAIN_PROGS(CHECK_GMAKE, gmake)\n@@ -214,1 +214,1 @@\n-      UTIL_LOOKUP_PROGS(CHECK_MAKE, make)\n+      UTIL_LOOKUP_TOOLCHAIN_PROGS(CHECK_MAKE, make)\n@@ -218,15 +218,0 @@\n-    if test \"x$FOUND_MAKE\" = x; then\n-      if test \"x$TOOLCHAIN_PATH\" != x; then\n-        # We have a toolchain path, check that as well before giving up.\n-        OLD_PATH=$PATH\n-        PATH=$TOOLCHAIN_PATH:$PATH\n-        UTIL_LOOKUP_PROGS(CHECK_TOOLSDIR_GMAKE, gmake)\n-        BASIC_CHECK_MAKE_VERSION(\"$CHECK_TOOLSDIR_GMAKE\", [gmake in tools-dir])\n-        if test \"x$FOUND_MAKE\" = x; then\n-          UTIL_LOOKUP_PROGS(CHECK_TOOLSDIR_MAKE, make)\n-          BASIC_CHECK_MAKE_VERSION(\"$CHECK_TOOLSDIR_MAKE\", [make in tools-dir])\n-        fi\n-        PATH=$OLD_PATH\n-      fi\n-    fi\n-\n","filename":"make\/autoconf\/basic_tools.m4","additions":2,"deletions":17,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -165,6 +165,1 @@\n-  OLD_PATH=\"$PATH\"\n-  if test \"x$TOOLCHAIN_PATH\" != x; then\n-    PATH=$TOOLCHAIN_PATH:$PATH\n-  fi\n-  UTIL_LOOKUP_PROGS(CCACHE, ccache)\n-  PATH=\"$OLD_PATH\"\n+  UTIL_LOOKUP_TOOLCHAIN_PROGS(CCACHE, ccache)\n","filename":"make\/autoconf\/build-performance.m4","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-        UTIL_REQUIRE_PROGS(LLD, lld, $TOOLCHAIN_PATH:$PATH)\n+        UTIL_REQUIRE_TOOLCHAIN_PROGS(LLD, lld)\n","filename":"make\/autoconf\/flags-ldflags.m4","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -279,3 +279,0 @@\n-  # autoconf magic only relies on PATH, so update it if tools dir is specified\n-  OLD_PATH=\"$PATH\"\n-\n@@ -303,3 +300,4 @@\n-  # Finally prepend TOOLCHAIN_PATH to the PATH, to allow --with-tools-dir to\n-  # override all other locations.\n-  if test \"x$TOOLCHAIN_PATH\" != x; then\n+  # For the microsoft toolchain the toolchain path needs to be added to the\n+  # normal path, or the compiler will not work in some situations in later\n+  # configure checks.\n+  if test \"x$TOOLCHAIN_TYPE\" = \"xmicrosoft\" && test \"x$TOOLCHAIN_PATH\" != x; then\n@@ -313,7 +311,0 @@\n-  # Restore old path, except for the microsoft toolchain, which requires the\n-  # toolchain path to remain in place. Otherwise the compiler will not work in\n-  # some situations in later configure checks.\n-  if test \"x$TOOLCHAIN_TYPE\" != \"xmicrosoft\"; then\n-    PATH=\"$OLD_PATH\"\n-  fi\n-\n","filename":"make\/autoconf\/toolchain.m4","additions":4,"deletions":13,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -461,1 +461,3 @@\n-# first for cross-compilation tools.\n+# first for tools using the cross-compilation prefix, and then for tools without\n+# this prefix. For each of these name variants, it will look first in the\n+# toolchain path, and then in the normal path.\n@@ -464,1 +466,0 @@\n-# $3: [path]\n@@ -468,1 +469,1 @@\n-    UTIL_LOOKUP_PROGS($1, $2, $3)\n+    UTIL_LOOKUP_PROGS($1, $2, [$TOOLCHAIN_PATH:$PATH])\n@@ -471,1 +472,1 @@\n-    UTIL_LOOKUP_PROGS($1, $prefixed_names, $3)\n+    UTIL_LOOKUP_PROGS($1, $prefixed_names, [$TOOLCHAIN_PATH:$PATH])\n@@ -500,1 +501,0 @@\n-# $3: [path]\n@@ -503,1 +503,1 @@\n-  UTIL_LOOKUP_TOOLCHAIN_PROGS($1, $2, $3)\n+  UTIL_LOOKUP_TOOLCHAIN_PROGS($1, $2)\n","filename":"make\/autoconf\/util_paths.m4","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -840,1 +840,0 @@\n-        vm_exit(0);\n@@ -843,1 +842,0 @@\n-        vm_exit(0);\n@@ -845,0 +843,1 @@\n+      vm_direct_exit(0);\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -435,2 +435,4 @@\n-  DynamicArchive::dump_at_exit(thread);\n-  assert(!thread->has_pending_exception(), \"must be\");\n+  if (CDSConfig::is_dumping_dynamic_archive()) {\n+    DynamicArchive::dump_at_exit(thread);\n+    assert(!thread->has_pending_exception(), \"must be\");\n+  }\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
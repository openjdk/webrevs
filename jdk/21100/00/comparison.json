{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,4 @@\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.ListResourceBundle;\n+import java.util.Map;\n@@ -30,0 +34,2 @@\n+import static java.util.stream.Collectors.toMap;\n+import java.util.stream.Stream;\n@@ -34,4 +40,1 @@\n-        if (PLATFORM.containsKey(key)) {\n-            return PLATFORM.getString(key);\n-        }\n-        return SHARED.getString(key);\n+        return BUNDLE.getString(key);\n@@ -40,2 +43,22 @@\n-    private static final ResourceBundle SHARED = ResourceBundle.getBundle(\n-            \"jdk.jpackage.internal.resources.MainResources\");\n+    private static class MultiResourceBundle extends ListResourceBundle {\n+\n+        MultiResourceBundle(ResourceBundle... bundles) {\n+            contents = Stream.of(bundles).map(bundle -> {\n+                return bundle.keySet().stream().map(key -> {\n+                    return Map.entry(key, bundle.getObject(key));\n+                });\n+            }).flatMap(x -> x).collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (o, n) -> {\n+                \/\/ Override old value with the new one\n+                return n;\n+            })).entrySet().stream().map(e -> {\n+                return new Object[]{e.getKey(), e.getValue()};\n+            }).toArray(Object[][]::new);\n+        }\n+\n+        @Override\n+        protected Object[][] getContents() {\n+            return contents;\n+        }\n+\n+        private final Object[][] contents;\n+    }\n@@ -43,1 +66,1 @@\n-    private static final ResourceBundle PLATFORM;\n+    private final static MultiResourceBundle BUNDLE;\n@@ -46,0 +69,4 @@\n+        List<String> bundleNames = new ArrayList<>();\n+\n+        bundleNames.add(\"jdk.jpackage.internal.resources.MainResources\");\n+\n@@ -47,2 +74,1 @@\n-            PLATFORM = ResourceBundle.getBundle(\n-                    \"jdk.jpackage.internal.resources.LinuxResources\");\n+            bundleNames.add(\"jdk.jpackage.internal.resources.LinuxResources\");\n@@ -50,2 +76,2 @@\n-            PLATFORM = ResourceBundle.getBundle(\n-                    \"jdk.jpackage.internal.resources.WinResources\");\n+            bundleNames.add(\"jdk.jpackage.internal.resources.WinResources\");\n+            bundleNames.add(\"jdk.jpackage.internal.resources.WinResourcesNoL10N\");\n@@ -53,2 +79,1 @@\n-            PLATFORM = ResourceBundle.getBundle(\n-                    \"jdk.jpackage.internal.resources.MacResources\");\n+            bundleNames.add(\"jdk.jpackage.internal.resources.MacResources\");\n@@ -58,0 +83,3 @@\n+\n+        BUNDLE = new MultiResourceBundle(bundleNames.stream().map(ResourceBundle::getBundle)\n+                .toArray(ResourceBundle[]::new));\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/I18N.java","additions":42,"deletions":14,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-resource.wxl-file-name=MsiInstallerStrings_en.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResources.properties","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+#\n@@ -26,1 +27,0 @@\n-DISABLED_WARNINGS_java += dangling-doc-comments\n@@ -28,0 +28,1 @@\n+resource.wxl-file-name=MsiInstallerStrings_en.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResourcesNoL10N.properties","additions":2,"deletions":1,"binary":false,"changes":3,"previous_filename":"make\/modules\/jdk.zipfs\/Java.gmk","status":"copied"},{"patch":"@@ -25,0 +25,1 @@\n+#\n@@ -26,1 +27,0 @@\n-DISABLED_WARNINGS_java += dangling-doc-comments\n@@ -28,0 +28,1 @@\n+resource.wxl-file-name=MsiInstallerStrings_de.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResourcesNoL10N_de.properties","additions":2,"deletions":1,"binary":false,"changes":3,"previous_filename":"make\/modules\/jdk.zipfs\/Java.gmk","status":"copied"},{"patch":"@@ -25,0 +25,1 @@\n+#\n@@ -26,1 +27,0 @@\n-DISABLED_WARNINGS_java += dangling-doc-comments\n@@ -28,0 +28,1 @@\n+resource.wxl-file-name=MsiInstallerStrings_ja.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResourcesNoL10N_ja.properties","additions":2,"deletions":1,"binary":false,"changes":3,"previous_filename":"make\/modules\/jdk.zipfs\/Java.gmk","status":"copied"},{"patch":"@@ -25,0 +25,1 @@\n+#\n@@ -26,1 +27,0 @@\n-DISABLED_WARNINGS_java += dangling-doc-comments\n@@ -28,0 +28,1 @@\n+resource.wxl-file-name=MsiInstallerStrings_zh_CN.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResourcesNoL10N_zh_CN.properties","additions":2,"deletions":1,"binary":false,"changes":3,"previous_filename":"make\/modules\/jdk.zipfs\/Java.gmk","status":"copied"},{"patch":"@@ -33,4 +33,4 @@\n-resource.executable-properties-template=Vorlage für das Erstellen der ausführbaren Eigenschaftendatei\n-resource.setup-icon=Symbol für Dialogfeld \"Setup\"\n-resource.post-app-image-script=Auszuführendes Skript nach dem Auffüllen des Anwendungsimages\n-resource.post-msi-script=Auszuführendes Skript nach dem Erstellen der MSI-Datei für das EXE-Installationsprogramm\n+resource.executable-properties-template=Vorlage f�r das Erstellen der ausf�hrbaren Eigenschaftendatei\n+resource.setup-icon=Symbol f�r Dialogfeld \"Setup\"\n+resource.post-app-image-script=Auszuf�hrendes Skript nach dem Auff�llen des Anwendungsimages\n+resource.post-msi-script=Auszuf�hrendes Skript nach dem Erstellen der MSI-Datei f�r das EXE-Installationsprogramm\n@@ -38,1 +38,0 @@\n-resource.wxl-file-name=MsiInstallerStrings_de.wxl\n@@ -40,4 +39,4 @@\n-resource.overrides-wix-file=Überschreibt WiX-Projektdatei\n-resource.shortcutpromptdlg-wix-file=Dialogfeld für Verknüpfungs-Prompt der WiX-Projektdatei\n-resource.installdirnotemptydlg-wix-file=Nicht leeres Installationsverzeichnis in Dialogfeld für WiX-Projektdatei\n-resource.launcher-as-service-wix-file=WiX-Projektdatei für Serviceinstallationsprogramm\n+resource.overrides-wix-file=�berschreibt WiX-Projektdatei\n+resource.shortcutpromptdlg-wix-file=Dialogfeld f�r Verkn�pfungs-Prompt der WiX-Projektdatei\n+resource.installdirnotemptydlg-wix-file=Nicht leeres Installationsverzeichnis in Dialogfeld f�r WiX-Projektdatei\n+resource.launcher-as-service-wix-file=WiX-Projektdatei f�r Serviceinstallationsprogramm\n@@ -47,2 +46,2 @@\n-error.no-wix-tools.advice=Laden Sie WiX 3.0 oder höher von https:\/\/wixtoolset.org herunter, und fügen Sie es zu PATH hinzu.\n-error.version-string-wrong-format.advice=Setzen Sie den Wert des --app-version-Parameters auf eine gültige ProductVersion des Windows-Installationsprogramms.\n+error.no-wix-tools.advice=Laden Sie WiX 3.0 oder h�her von https:\/\/wixtoolset.org herunter, und f�gen Sie es zu PATH hinzu.\n+error.version-string-wrong-format.advice=Setzen Sie den Wert des --app-version-Parameters auf eine g�ltige ProductVersion des Windows-Installationsprogramms.\n@@ -53,3 +52,3 @@\n-error.version-swap=Versionsinformationen für {0} konnten nicht aktualisiert werden\n-error.icon-swap=Symbol für {0} konnte nicht aktualisiert werden\n-error.invalid-envvar=Ungültiger Wert der {0}-Umgebungsvariable\n+error.version-swap=Versionsinformationen f�r {0} konnten nicht aktualisiert werden\n+error.icon-swap=Symbol f�r {0} konnte nicht aktualisiert werden\n+error.invalid-envvar=Ung�ltiger Wert der {0}-Umgebungsvariable\n@@ -62,2 +61,2 @@\n-message.potential.windows.defender.issue=Warnung: Windows Defender verhindert eventuell die korrekte Ausführung von jpackage. Wenn ein Problem auftritt, deaktivieren Sie das Echtzeitmonitoring, oder fügen Sie einen Ausschluss für das Verzeichnis \"{0}\" hinzu.\n-message.outputting-to-location=EXE für Installationsprogramm wird generiert in: {0}.\n+message.potential.windows.defender.issue=Warnung: Windows Defender verhindert eventuell die korrekte Ausf�hrung von jpackage. Wenn ein Problem auftritt, deaktivieren Sie das Echtzeitmonitoring, oder f�gen Sie einen Ausschluss f�r das Verzeichnis \"{0}\" hinzu.\n+message.outputting-to-location=EXE f�r Installationsprogramm wird generiert in: {0}.\n@@ -66,1 +65,1 @@\n-message.creating-association-with-null-extension=Verknüpfung mit Nullerweiterung wird erstellt.\n+message.creating-association-with-null-extension=Verkn�pfung mit Nullerweiterung wird erstellt.\n@@ -74,1 +73,1 @@\n-message.invalid.install.dir=Warnung: Ungültiges Installationsverzeichnis {0}. Installationsverzeichnis muss ein relativer Unterpfad unter dem Standardinstallationsverzeichnis wie \"Programme\" sein. Der Anwendungsname \"{1}\" wird als Standardwert verwendet.\n+message.invalid.install.dir=Warnung: Ung�ltiges Installationsverzeichnis {0}. Installationsverzeichnis muss ein relativer Unterpfad unter dem Standardinstallationsverzeichnis wie \"Programme\" sein. Der Anwendungsname \"{1}\" wird als Standardwert verwendet.\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResources_de.properties","additions":17,"deletions":18,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-resource.wxl-file-name=MsiInstallerStrings_ja.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResources_ja.properties","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-resource.wxl-file-name=MsiInstallerStrings_zh_CN.wxl\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/WinResources_zh_CN.properties","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
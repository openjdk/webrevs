{"files":[{"patch":"@@ -44,0 +44,1 @@\n+import java.util.function.Predicate;\n@@ -594,5 +595,0 @@\n-                    Map<ModuleElement, SortedSet<PackageElement>> filteredIndirectPackages =\n-                            indirectPackages.entrySet()\n-                                            .stream()\n-                                            .filter(e -> !e.getKey().equals(javaBase))\n-                                            .collect(Collectors.toMap(e -> e.getKey(), e -> e.getValue()));\n@@ -601,1 +597,2 @@\n-                    addIndirectPackages(aepTable, filteredIndirectPackages);\n+                    addIndirectPackages(aepTable, indirectPackages,\n+                                        m -> !m.equals(javaBase));\n@@ -617,5 +614,0 @@\n-                    filteredIndirectPackages =\n-                            indirectPackages.entrySet()\n-                                            .stream()\n-                                            .filter(e -> e.getKey().equals(javaBase))\n-                                            .collect(Collectors.toMap(e -> e.getKey(), e -> e.getValue()));\n@@ -628,1 +620,2 @@\n-                    addIndirectPackages(aepPreviewTable, filteredIndirectPackages);\n+                    addIndirectPackages(aepPreviewTable, indirectPackages,\n+                                        m -> m.equals(javaBase));\n@@ -633,1 +626,1 @@\n-                    addIndirectPackages(aepTable, indirectPackages);\n+                    addIndirectPackages(aepTable, indirectPackages, _ -> true);\n@@ -640,1 +633,1 @@\n-                addIndirectPackages(aopTable, indirectOpenPackages);\n+                addIndirectPackages(aopTable, indirectOpenPackages, _ -> true);\n@@ -771,1 +764,3 @@\n-    public void addIndirectPackages(Table<?> table, Map<ModuleElement, SortedSet<PackageElement>> ip) {\n+    public void addIndirectPackages(Table<?> table,\n+                                    Map<ModuleElement, SortedSet<PackageElement>> ip,\n+                                    Predicate<ModuleElement> acceptModule) {\n@@ -774,0 +769,3 @@\n+            if (!acceptModule.test(m)) {\n+                continue;\n+            }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ModuleWriter.java","additions":13,"deletions":15,"binary":false,"changes":28,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,2 +33,0 @@\n-import java.security.AccessController;\n-import java.security.PrivilegedAction;\n@@ -197,5 +195,0 @@\n-                    @SuppressWarnings(\"removal\")\n-                    SecurityManager sm = System.getSecurityManager();\n-                    if (sm != null) {\n-                        sm.checkListen(isa.getPort());\n-                    }\n@@ -367,5 +360,0 @@\n-                @SuppressWarnings(\"removal\")\n-                SecurityManager sm = System.getSecurityManager();\n-                if (sm != null)\n-                    sm.checkConnect(isa.getAddress().getHostAddress(),\n-                                    isa.getPort());\n@@ -1100,7 +1088,1 @@\n-        AccessController.doPrivileged(\n-            new PrivilegedAction<>() {\n-                public Void run() {\n-                    System.loadLibrary(\"sctp\");\n-                    return null;\n-                }\n-            });\n+        System.loadLibrary(\"sctp\");\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpChannelImpl.java","additions":2,"deletions":20,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -152,4 +152,0 @@\n-                    @SuppressWarnings(\"removal\")\n-                    SecurityManager sm = System.getSecurityManager();\n-                    if (sm != null)\n-                        sm.checkListen(isa.getPort());\n@@ -511,15 +507,0 @@\n-                            @SuppressWarnings(\"removal\")\n-                            SecurityManager sm = System.getSecurityManager();\n-                            if (sm != null) {\n-                                InetSocketAddress isa  = (InetSocketAddress)info.address();\n-                                if (!addressMap.containsKey(isa)) {\n-                                    \/* must be a new association *\/\n-                                    try {\n-                                        sm.checkAccept(isa.getAddress().getHostAddress(),\n-                                                       isa.getPort());\n-                                    } catch (SecurityException se) {\n-                                        buffer.clear();\n-                                        throw se;\n-                                    }\n-                                }\n-                            }\n@@ -808,6 +789,0 @@\n-                        } else { \/* must be new association *\/\n-                            @SuppressWarnings(\"removal\")\n-                            SecurityManager sm = System.getSecurityManager();\n-                            if (sm != null)\n-                                sm.checkConnect(addr.getAddress().getHostAddress(),\n-                                                addr.getPort());\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpMultiChannelImpl.java","additions":1,"deletions":26,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,2 +35,0 @@\n-import java.security.AccessController;\n-import java.security.PrivilegedAction;\n@@ -94,1 +92,3 @@\n-            set = getRevealedLocalAddressSet(saa);\n+            set = new HashSet<>(saa.length);\n+            for (SocketAddress sa : saa)\n+                set.add(sa);\n@@ -100,29 +100,0 @@\n-    private static Set<SocketAddress> getRevealedLocalAddressSet(\n-            SocketAddress[] saa)\n-    {\n-         @SuppressWarnings(\"removal\")\n-         SecurityManager sm = System.getSecurityManager();\n-         Set<SocketAddress> set = new HashSet<>(saa.length);\n-         for (SocketAddress sa : saa) {\n-             set.add(getRevealedLocalAddress(sa, sm));\n-         }\n-         return set;\n-    }\n-\n-    private static SocketAddress getRevealedLocalAddress(SocketAddress sa,\n-                                                         @SuppressWarnings(\"removal\") SecurityManager sm)\n-    {\n-        if (sm == null || sa == null)\n-            return sa;\n-        InetSocketAddress ia = (InetSocketAddress)sa;\n-        try{\n-            sm.checkConnect(ia.getAddress().getHostAddress(), -1);\n-            \/\/ Security check passed\n-        } catch (SecurityException e) {\n-            \/\/ Return loopback address\n-            return new InetSocketAddress(InetAddress.getLoopbackAddress(),\n-                                         ia.getPort());\n-        }\n-        return sa;\n-    }\n-\n@@ -339,7 +310,1 @@\n-        java.security.AccessController.doPrivileged(\n-                new java.security.PrivilegedAction<Void>() {\n-                    public Void run() {\n-                        System.loadLibrary(\"sctp\");\n-                        return null;\n-                    }\n-                });\n+        System.loadLibrary(\"sctp\");\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpNet.java","additions":5,"deletions":40,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -112,4 +112,0 @@\n-                @SuppressWarnings(\"removal\")\n-                SecurityManager sm = System.getSecurityManager();\n-                if (sm != null)\n-                    sm.checkListen(isa.getPort());\n@@ -250,6 +246,0 @@\n-            @SuppressWarnings(\"removal\")\n-            SecurityManager sm = System.getSecurityManager();\n-            if (sm != null)\n-                sm.checkAccept(isa.getAddress().getHostAddress(),\n-                               isa.getPort());\n-\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpServerChannelImpl.java","additions":1,"deletions":11,"binary":false,"changes":12,"status":"modified"}]}
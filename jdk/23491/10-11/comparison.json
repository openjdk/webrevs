{"files":[{"patch":"@@ -90,0 +90,6 @@\n+     * @implSpec This method is not synchronized, and subclasses must not define\n+     * overridden {@code publish()} methods to be {@code synchronized} if they\n+     * call {@code super.publish()} or format user arguments. See the\n+     * {@linkplain Handler##threadSafety discussion in java.util.logging.Handler}\n+     * for more information.\n+     *\n@@ -95,1 +101,0 @@\n-        \/\/ JDK-8349206: Do NOT synchronize around the parent's publish() method.\n","filename":"src\/java.logging\/share\/classes\/java\/util\/logging\/ConsoleHandler.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -45,1 +45,3 @@\n- * <p>\n+ *\n+ * <h2><a id=threadSafety>Thread Safety and Deadlock Risk in Handlers<\/a><\/h2>\n+ *\n@@ -50,0 +52,10 @@\n+ * <p>\n+ * In particular, subclasses should avoid acquiring locks around code which\n+ * calls back to arbitrary user-supplied objects, especially during log record\n+ * formatting. Holding a lock around any such callbacks creates a deadlock risk\n+ * between logging code and user code.\n+ * <p>\n+ * As such, general purpose {@code Handler} subclasses should never synchronize\n+ * their {@link #publish(LogRecord)} method, or calls to {@code\n+ * super.publish()}, since these are always expected to need to process and\n+ * format user-supplied arguments.\n@@ -53,1 +65,0 @@\n-\n","filename":"src\/java.logging\/share\/classes\/java\/util\/logging\/Handler.java","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -171,0 +171,6 @@\n+     * @implSpec This method is not synchronized, and subclasses must not define\n+     * overridden {@code publish()} methods to be {@code synchronized} if they\n+     * call {@code super.publish()} or format user arguments. See the\n+     * {@linkplain Handler##threadSafety discussion in java.util.logging.Handler}\n+     * for more information.\n+     *\n@@ -176,1 +182,0 @@\n-        \/\/ JDK-8349206: Do NOT synchronize around the parent's publish() method.\n","filename":"src\/java.logging\/share\/classes\/java\/util\/logging\/SocketHandler.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}
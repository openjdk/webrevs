{"files":[{"patch":"@@ -208,2 +208,2 @@\n-                    String suffix = (snapshot.parkBlockerOwner() != null)\n-                            ? \", owner #\"  + snapshot.parkBlockerOwner().threadId()\n+                    String suffix = (snapshot.parkBlockerOwner() instanceof Thread owner)\n+                            ? \", owner #\"  + owner.threadId()\n@@ -341,2 +341,2 @@\n-            if (snapshot.parkBlockerOwner() != null) {\n-                jsonWriter.writeProperty(\"owner\", snapshot.parkBlockerOwner().threadId());\n+            if (snapshot.parkBlockerOwner() instanceof Thread owner) {\n+                jsonWriter.writeProperty(\"owner\", owner.threadId());\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/vm\/ThreadDumper.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -47,0 +47,2 @@\n+    \/\/ the owner of the blockerObject when the object is park blocker and is AQS\n+    private Thread parkBlockerOwner;\n@@ -51,3 +53,0 @@\n-    \/\/ the owner of the blockerObject when the object is park blocker and is AQS\n-    private Thread parkBlockerOwner;\n-\n@@ -76,1 +75,3 @@\n-            snapshot.blocker = new ThreadBlocker(snapshot.blockerTypeOrdinal, snapshot.blockerObject);\n+            snapshot.blocker = new ThreadBlocker(snapshot.blockerTypeOrdinal,\n+                                                 snapshot.blockerObject,\n+                                                 snapshot.parkBlockerOwner);\n@@ -78,0 +79,1 @@\n+            snapshot.parkBlockerOwner = null;\n@@ -114,1 +116,1 @@\n-        return parkBlockerOwner;\n+        return (blocker != null && blocker.type == BlockerLockType.PARK_BLOCKER) ? blocker.owner : null;\n@@ -224,1 +226,1 @@\n-    private record ThreadBlocker(BlockerLockType type, Object obj) {\n+    private record ThreadBlocker(BlockerLockType type, Object obj, Thread owner) {\n@@ -227,2 +229,2 @@\n-        ThreadBlocker(int typeOrdinal, Object obj) {\n-            this(lockTypeValues[typeOrdinal], obj);\n+        ThreadBlocker(int typeOrdinal, Object obj, Thread owner) {\n+            this(lockTypeValues[typeOrdinal], obj, owner);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/vm\/ThreadSnapshot.java","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -688,1 +688,1 @@\n-     * Returns true if lines of a plain text thread dump contain the given text.\n+     * Returns true if lines of a plain text thread dump containing the given text.\n@@ -696,1 +696,1 @@\n-     * Finds the line of plain text plain thread dump containing the given text.\n+     * Finds the line of plain text thread dump containing the given text.\n","filename":"test\/jdk\/com\/sun\/management\/HotSpotDiagnosticMXBean\/DumpThreads.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -1053,2 +1053,1 @@\n-void InterpreterMacroAssembler::profile_taken_branch(Register mdp,\n-                                                     Register bumped_count) {\n+void InterpreterMacroAssembler::profile_taken_branch(Register mdp) {\n@@ -1063,10 +1062,2 @@\n-    Address data(mdp, in_bytes(JumpData::taken_offset()));\n-    ld(bumped_count, data);\n-    assert(DataLayout::counter_increment == 1,\n-            \"flow-free idiom only works with 1\");\n-    addi(bumped_count, bumped_count, DataLayout::counter_increment);\n-    Label L;\n-    \/\/ eg: bumped_count=0x7fff ffff ffff ffff  + 1 < 0. so we use <= 0;\n-    blez(bumped_count, L);       \/\/ skip store if counter overflow,\n-    sd(bumped_count, data);\n-    bind(L);\n+    increment_mdp_data_at(mdp, in_bytes(JumpData::taken_offset()));\n+\n@@ -1086,1 +1077,1 @@\n-    \/\/ We are taking a branch.  Increment the not taken count.\n+    \/\/ We are not taking a branch.  Increment the not taken count.\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":4,"deletions":13,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -264,1 +264,1 @@\n-  void profile_taken_branch(Register mdp, Register bumped_count);\n+  void profile_taken_branch(Register mdp);\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1611,1 +1611,1 @@\n-  __ profile_taken_branch(x10, x11);\n+  __ profile_taken_branch(x10);\n@@ -1660,1 +1660,0 @@\n-    \/\/ x11: MDO bumped taken-count\n","filename":"src\/hotspot\/cpu\/riscv\/templateTable_riscv.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
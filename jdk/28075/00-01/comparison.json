{"files":[{"patch":"@@ -92,1 +92,1 @@\n-     * Use OneKDC to create a real TGT via JAAS LoginModule\n+     * Use OneKDC to create a real TGT via the JAAS LoginModule\n@@ -104,1 +104,1 @@\n-            \/\/ Authenticate using JAAS LoginModule\n+            \/\/ Authenticate using the JAAS LoginModule\n@@ -122,1 +122,1 @@\n-     * Copy the real TGT to memory cache using JNI\n+     * Copy the real TGT to an in-memory cache using JNI\n@@ -129,1 +129,1 @@\n-        \/\/ Create the memory cache\n+        \/\/ Create the in-memory cache\n@@ -135,1 +135,1 @@\n-        \/\/ Try to copy credentials from saved cache file\n+        \/\/ Try to copy credentials from the saved cache file\n@@ -146,1 +146,1 @@\n-        \/\/ Fallback to default cache if file cache doesn't exist\n+        \/\/ Fallback to the default cache if the file cache doesn't exist\n@@ -157,1 +157,1 @@\n-        \/\/ Set as default cache for JAAS testing\n+        \/\/ Set as the default cache for JAAS testing\n@@ -165,1 +165,1 @@\n-     * Test JAAS access to the memory cache (the main test)\n+     * Test JAAS access to an in-memory cache\n@@ -170,1 +170,1 @@\n-        \/\/ Verify KRB5CCNAME points to our memory cache\n+        \/\/ Verify KRB5CCNAME points to our in-memory cache\n@@ -191,1 +191,1 @@\n-                \/\/ Verify these are the OneKDC test credentials we copied\n+                \/\/ Verify these are the OneKDC test credentials\n","filename":"test\/jdk\/sun\/security\/krb5\/native\/NativeCacheTest.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -29,2 +29,2 @@\n-#include <unistd.h>  \/\/ for access()\n-#include <limits.h>  \/\/ for realpath()\n+#include <unistd.h>\n+#include <limits.h>\n@@ -34,1 +34,1 @@\n-\/\/ Global krb5 context - initialized once\n+\/\/ Global krb5 context\n@@ -37,1 +37,3 @@\n-\/\/ Initialize krb5 context with OneKDC config if available\n+\/**\n+ * Initialize krb5 context with OneKDC config\n+ *\/\n@@ -39,1 +41,1 @@\n-    \/\/ Always check for OneKDC config file and set environment\n+    \/\/ Check if OneKDC config file exists or needs to be created\n@@ -46,1 +48,1 @@\n-            \/\/ If context already exists, reinitialize it to pick up new config\n+            \/\/ If context already exists, reinitialize it\n@@ -60,1 +62,3 @@\n-\/\/ Utility function to convert Java string to C string\n+\/**\n+ * Convert Java string to C string\n+ *\/\n@@ -72,1 +76,3 @@\n-\/\/ Print error message for krb5 errors\n+\/**\n+ * Print error messages for krb5 errors\n+ *\/\n@@ -81,2 +87,0 @@\n- * Creates a MEMORY: type cache that can be used for testing JAAS access\n- * to in-memory credential stores.\n@@ -117,1 +121,0 @@\n-\n@@ -119,2 +122,1 @@\n- * Set the default credential cache to the specified credential cache.\n- * This makes the credential cache the target for credential lookups.\n+ * Set KRB5CCNAME so that the test will pick up the in-memory credential cache.\n@@ -143,3 +145,3 @@\n- * Copy real Kerberos credentials from a source cache to a memory cache.\n- * This preserves the proper credential format so JAAS can access them.\n- * Used to move OneKDC-generated TGTs to in-memory caches for testing.\n+ * Copy real Kerberos credentials from a source cache to an in-memory cache.\n+ * in-memory cache.  Used to move OneKDC-generated TGTs to an in-memory cache\n+ * for testing.\n@@ -267,4 +269,0 @@\n-\n-\n-\n-\n","filename":"test\/jdk\/sun\/security\/krb5\/native\/NativeCredentialCacheHelper.c","additions":18,"deletions":20,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Build script for NativeCacheTest - compiles Java classes and native library\n+# Build script for NativeCacheTest\n@@ -6,1 +6,1 @@\n-# Use jtreg environment variables when available, fallback to manual calculation\n+# Use jtreg environment variables when available\n@@ -26,1 +26,1 @@\n-    # Use jtreg's prepared classpath\n+    # Use the jtreg classpath\n@@ -44,1 +44,0 @@\n-# For manual execution, compile what's needed\n@@ -46,1 +45,1 @@\n-    # Manual execution - compile everything\n+    # Manual execution\n@@ -64,1 +63,1 @@\n-# Generate JNI header (always needed for native compilation)\n+# Generate JNI header\n@@ -72,1 +71,1 @@\n-# get the OS\n+# Get the OS to determine the compiler and library extension\n@@ -85,1 +84,1 @@\n-# Compile native library (work from test source directory)\n+# Compile native library\n","filename":"test\/jdk\/sun\/security\/krb5\/native\/build.sh","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"}]}
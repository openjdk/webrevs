{"files":[{"patch":"@@ -40,1 +40,0 @@\n- * @author Dmitriy Ermashov (dmitriy.ermashov@oracle.com)\n@@ -72,1 +71,3 @@\n-        } else if (!SystemTray.isSupported()) {\n+        }\n+\n+        if (!SystemTray.isSupported()) {\n@@ -74,16 +75,0 @@\n-        } else {\n-            if (System.getProperty(\"os.name\").toLowerCase().startsWith(\"win\")) {\n-                System.err.println(\"Test can fail if the icon hides to a tray icons pool \" +\n-                        \"in Windows 7, which is behavior by default.\\n\" +\n-                        \"Set \\\"Right mouse click\\\" -> \\\"Customize notification icons\\\" -> \" +\n-                        \"\\\"Always show all icons and notifications on the taskbar\\\" true to \" +\n-                        \"avoid this problem. Or change behavior only for Java SE tray icon \" +\n-                        \"and rerun test.\");\n-            } else  if (System.getProperty(\"os.name\").toLowerCase().startsWith(\"mac\")){\n-                isMacOS = true;\n-            } else if (SystemTrayIconHelper.isOel7orLater()) {\n-                System.out.println(\"OEL 7 doesn't support double click in \" +\n-                        \"systray. Skipped\");\n-                return;\n-            }\n-            new ActionCommand().doTest();\n@@ -91,0 +76,16 @@\n+\n+        if (Platform.isWindows()) {\n+            System.err.println(\"Test can fail if the icon hides to a tray icons pool \" +\n+                    \"in Windows 7, which is behavior by default.\\n\" +\n+                    \"Set \\\"Right mouse click\\\" -> \\\"Customize notification icons\\\" -> \" +\n+                    \"\\\"Always show all icons and notifications on the taskbar\\\" true to \" +\n+                    \"avoid this problem. Or change behavior only for Java SE tray icon \" +\n+                    \"and rerun test.\");\n+        } else if (Platform.isOSX()){\n+            isMacOS = true;\n+        } else if (SystemTrayIconHelper.isOel7orLater()) {\n+            System.out.println(\"OEL 7 doesn't support double click in \" +\n+                    \"systray. Skipped\");\n+            throw new SkippedException(\"Skipped on OEL 7+\");\n+        }\n+        new ActionCommand().doTest();\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/ActionCommand\/ActionCommand.java","additions":19,"deletions":18,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -85,1 +85,3 @@\n-        } else if (!SystemTray.isSupported()) {\n+        }\n+\n+        if (!SystemTray.isSupported()) {\n@@ -87,0 +89,6 @@\n+        }\n+\n+        if (Platform.isOSX()) {\n+            isMacOS = true;\n+        } else if (Platform.isWindows()) {\n+            isWinOS = true;\n@@ -88,9 +96,1 @@\n-            String osName = System.getProperty(\"os.name\").toLowerCase();\n-            if (osName.startsWith(\"mac\")) {\n-                isMacOS = true;\n-            } else if (osName.startsWith(\"win\")) {\n-                isWinOS = true;\n-            } else {\n-                isOelOS = SystemTrayIconHelper.isOel7orLater();\n-            }\n-            new TrayIconMouseTest().doTest();\n+            isOelOS = SystemTrayIconHelper.isOel7orLater();\n@@ -98,0 +98,1 @@\n+        new TrayIconMouseTest().doTest();\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/TrayIconMouseTest\/TrayIconMouseTest.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -41,1 +41,0 @@\n- * @author Shashidhara Veerabhadraiah (shashidhara.veerabhadraiah@oracle.com)\n@@ -68,1 +67,3 @@\n-        } else if (!SystemTray.isSupported()) {\n+        }\n+\n+        if (!SystemTray.isSupported()) {\n@@ -70,9 +71,0 @@\n-        } else {\n-            if (System.getProperty(\"os.name\").toLowerCase().startsWith(\"win\"))\n-                System.err.println(\"Test can fail if the icon hides to a tray icons pool \" +\n-                        \"in Windows 7\/10, which is behavior by default.\\n\" +\n-                        \"Set \\\"Right mouse click\\\" -> \\\"Customize notification icons\\\" -> \" +\n-                        \"\\\"Always show all icons and notifications on the taskbar\\\" true \" +\n-                        \"to avoid this problem. Or change behavior only for Java SE \" +\n-                        \"tray icon.\");\n-            new TrayIconPopupClickTest().doTest();\n@@ -80,0 +72,11 @@\n+\n+        if (Platform.isWindows()) {\n+            System.err.println(\"Test can fail if the icon hides to a tray icons pool \" +\n+                    \"in Windows 7\/10, which is behavior by default.\\n\" +\n+                    \"Set \\\"Right mouse click\\\" -> \\\"Customize notification icons\\\" -> \" +\n+                    \"\\\"Always show all icons and notifications on the taskbar\\\" true \" +\n+                    \"to avoid this problem. Or change behavior only for Java SE \" +\n+                    \"tray icon.\");\n+        }\n+\n+        new TrayIconPopupClickTest().doTest();\n@@ -107,1 +110,0 @@\n-\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/TrayIconPopup\/TrayIconPopupClickTest.java","additions":14,"deletions":12,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -46,1 +46,0 @@\n- * @author Dmitriy Ermashov (dmitriy.ermashov@oracle.com)\n@@ -80,1 +79,3 @@\n-        } else if (!SystemTray.isSupported()) {\n+        }\n+\n+        if (!SystemTray.isSupported()) {\n@@ -82,9 +83,0 @@\n-        } else {\n-            if (System.getProperty(\"os.name\").toLowerCase().startsWith(\"win\"))\n-                System.err.println(\"Test can fail if the icon hides to a tray icons pool \" +\n-                        \"in Windows 7, which is behavior by default.\\n\" +\n-                        \"Set \\\"Right mouse click\\\" -> \\\"Customize notification icons\\\" -> \" +\n-                        \"\\\"Always show all icons and notifications on the taskbar\\\" true \" +\n-                        \"to avoid this problem. Or change behavior only for Java SE \" +\n-                        \"tray icon.\");\n-            new TrayIconPopupTest().doTest();\n@@ -92,0 +84,10 @@\n+\n+        if (Platform.isWindows()) {\n+            System.err.println(\"Test can fail if the icon hides to a tray icons pool \" +\n+                    \"in Windows 7, which is behavior by default.\\n\" +\n+                    \"Set \\\"Right mouse click\\\" -> \\\"Customize notification icons\\\" -> \" +\n+                    \"\\\"Always show all icons and notifications on the taskbar\\\" true \" +\n+                    \"to avoid this problem. Or change behavior only for Java SE \" +\n+                    \"tray icon.\");\n+        }\n+        new TrayIconPopupTest().doTest();\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/TrayIconPopup\/TrayIconPopupTest.java","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"}]}
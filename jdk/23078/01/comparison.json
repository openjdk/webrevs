{"files":[{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2012, 2024 SAP SE. All rights reserved.\n+ * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025 SAP SE. All rights reserved.\n@@ -1070,2 +1070,0 @@\n-  char* const file_path = strdup(filename);\n-  char* const pointer_to_dot = strrchr(file_path, '.');\n@@ -1074,1 +1072,0 @@\n-  STATIC_ASSERT(sizeof(old_extension) >= sizeof(new_extension));\n@@ -1080,3 +1077,10 @@\n-  if (result == nullptr && eno == ENOENT && pointer_to_dot != nullptr && strcmp(pointer_to_dot, old_extension) == 0) {\n-    snprintf(pointer_to_dot, sizeof(old_extension), \"%s\", new_extension);\n-    result = dll_load_library(file_path, &eno, ebuf, ebuflen);\n+  if (result == nullptr && eno == ENOENT) {\n+    const char* pointer_to_dot = strrchr(filename, '.');\n+    if (pointer_to_dot != nullptr && strcmp(pointer_to_dot, old_extension) == 0) {\n+      STATIC_ASSERT(sizeof(old_extension) >= sizeof(new_extension));\n+      char* tmp_path = os::strdup(filename);\n+      size_t prefix_size = pointer_delta(pointer_to_dot, filename, 1);\n+      os::snprintf(tmp_path + prefix_size, sizeof(old_extension), \"%s\", new_extension);\n+      result = dll_load_library(tmp_path, &eno, ebuf, ebuflen);\n+      os::free(tmp_path);\n+    }\n@@ -1084,1 +1088,0 @@\n-  FREE_C_HEAP_ARRAY(char, file_path);\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"}]}
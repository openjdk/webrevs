{"files":[{"patch":"@@ -4821,1 +4821,0 @@\n-                    if (unconditionalCaseLabel == testCaseLabel) unconditionalFound = true;\n@@ -4836,5 +4835,0 @@\n-                    \/\/ Domination can occur even when we have not an unconditional pair between case labels.\n-                    if (unconditionalFound && unconditionalCaseLabel != label) {\n-                        dominated = true;\n-                    }\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * @bug 8304487 8325653\n+ * @bug 8304487 8325653 8332463\n@@ -62,1 +62,1 @@\n-            case byte ip     -> ip; \/\/ Error - dominated!\n+            case byte ip     -> ip; \/\/ OK - not dominated!\n","filename":"test\/langtools\/tools\/javac\/patterns\/PrimitivePatternsSwitchErrors.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4,1 +4,0 @@\n-PrimitivePatternsSwitchErrors.java:62:18: compiler.err.pattern.dominated\n@@ -47,1 +46,1 @@\n-44 errors\n+43 errors\n\\ No newline at end of file\n","filename":"test\/langtools\/tools\/javac\/patterns\/PrimitivePatternsSwitchErrors.out","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,54 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8332463\n+ * @summary Byte conditional pattern case element dominates short constant case element\n+ * @compile --enable-preview --source ${jdk.version} T8332463a.java\n+ *\/\n+public class T8332463a {\n+    public int test2() {\n+        Byte i = (byte) 42;\n+        return switch (i) {\n+            case Byte ib  -> 1;\n+            case short s  -> 2;\n+        };\n+    }\n+\n+    public int test4() {\n+        int i = 42;\n+        return switch (i) {\n+            case Integer ib -> 1;\n+            case byte ip    -> 2;\n+        };\n+    }\n+\n+    public int test3() {\n+        int i = 42;\n+        return switch (i) {\n+            case Integer ib -> 1;\n+            case (byte) 0   -> 2;\n+        };\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8332463a.java","additions":54,"deletions":0,"binary":false,"changes":54,"status":"added"},{"patch":"@@ -0,0 +1,40 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8332463\n+ * @summary Byte conditional pattern case element dominates short constant case element\n+ * @enablePreview\n+ * @compile T8332463b.java\n+ *  @compile --enable-preview --source ${jdk.version} T8332463b.java\n+ *\/\n+public class T8332463b {\n+    public int test1() {\n+        Byte i = (byte) 42;\n+        return switch (i) {\n+            case Byte ib   -> 1;\n+            case (short) 0 -> 2;\n+        };\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8332463b.java","additions":40,"deletions":0,"binary":false,"changes":40,"status":"added"}]}
{"files":[{"patch":"@@ -981,0 +981,6 @@\n+  bool ieee_handling = IEEE_subnormal_handling_OK();\n+  if (!ieee_handling) {\n+    Events::log_dll_message(nullptr, \"IEEE subnormal handling check failed before loading %s\", filename);\n+    log_info(os)(\"IEEE subnormal handling check failed before loading %s\", filename);\n+  }\n+\n@@ -1007,1 +1013,11 @@\n-    assert(IEEE_subnormal_handling_OK(), \"fsetenv didn't work\");\n+    bool ieee_handling_after_issue = IEEE_subnormal_handling_OK();\n+\n+    if (ieee_handling_after_issue) {\n+      Events::log_dll_message(nullptr, \"IEEE subnormal handling had to be corrected after loading %s\", filename);\n+      log_info(os)(\"IEEE subnormal handling had to be corrected after loading %s\", filename);\n+    } else {\n+      Events::log_dll_message(nullptr, \"IEEE subnormal handling could not be corrected after loading %s\", filename);\n+      log_info(os)(\"IEEE subnormal handling could not be corrected after loading %s\", filename);\n+    }\n+\n+    assert(ieee_handling_after_issue, \"fesetenv didn't work\");\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":17,"deletions":1,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -1807,0 +1807,6 @@\n+  bool ieee_handling = IEEE_subnormal_handling_OK();\n+  if (!ieee_handling) {\n+    Events::log_dll_message(nullptr, \"IEEE subnormal handling check failed before loading %s\", filename);\n+    log_info(os)(\"IEEE subnormal handling check failed before loading %s\", filename);\n+  }\n+\n@@ -1846,2 +1852,2 @@\n-      \/\/ We just dlopen()ed a library that mangled the floating-point\n-      \/\/ flags. Silently fix things now.\n+      \/\/ We just dlopen()ed a library that mangled the floating-point flags.\n+      \/\/ Attempt to fix things now.\n@@ -1850,1 +1856,10 @@\n-      assert(IEEE_subnormal_handling_OK(), \"fsetenv didn't work\");\n+      bool ieee_handling_after_issue = IEEE_subnormal_handling_OK();\n+\n+      if (ieee_handling_after_issue) {\n+        Events::log_dll_message(nullptr, \"IEEE subnormal handling had to be corrected after loading %s\", filename);\n+        log_info(os)(\"IEEE subnormal handling had to be corrected after loading %s\", filename);\n+      } else {\n+        Events::log_dll_message(nullptr, \"IEEE subnormal handling could not be corrected after loading %s\", filename);\n+        log_info(os)(\"IEEE subnormal handling could not be corrected after loading %s\", filename);\n+      }\n+      assert(ieee_handling_after_issue, \"fesetenv didn't work\");\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":18,"deletions":3,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- * @run main\/othervm\/native compiler.floatingpoint.TestSubnormalDouble\n+ * @run main\/othervm\/native -Xlog:os=info compiler.floatingpoint.TestSubnormalDouble\n","filename":"test\/hotspot\/jtreg\/compiler\/floatingpoint\/TestSubnormalDouble.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- * @run main\/othervm\/native compiler.floatingpoint.TestSubnormalFloat\n+ * @run main\/othervm\/native -Xlog:os=info compiler.floatingpoint.TestSubnormalFloat\n","filename":"test\/hotspot\/jtreg\/compiler\/floatingpoint\/TestSubnormalFloat.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -40,1 +40,0 @@\n-import static org.junit.jupiter.api.Assumptions.assumeTrue;\n@@ -225,4 +224,5 @@\n-        boolean marked = readOnlyZip.toFile().setReadOnly();\n-        assumeTrue(marked, \"skipping test since \" + readOnlyZip + \" couldn't be marked read-only\");\n-        assertThrows(IOException.class,\n-                () -> FileSystems.newFileSystem(readOnlyZip, Map.of(\"accessMode\", \"readWrite\")));\n+        \/\/ In theory this can fail, and we should avoid unwanted false-negatives.\n+        if (readOnlyZip.toFile().setReadOnly()) {\n+            assertThrows(IOException.class,\n+                    () -> FileSystems.newFileSystem(readOnlyZip, Map.of(\"accessMode\", \"readWrite\")));\n+        }\n","filename":"test\/jdk\/jdk\/nio\/zipfs\/NewFileSystemTests.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}
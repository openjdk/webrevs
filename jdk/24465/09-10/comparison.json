{"files":[{"patch":"@@ -260,1 +260,7 @@\n-                    path = resolve(currentPath).resolveSibling(path);\n+                    \/\/ JDK-8352728: we prefer java.io.File::getCanonicalFile\n+                    \/\/ over java.nio.file.Path::toRealPath because the former\n+                    \/\/ is more fault-tolerant, since the canonical form of a\n+                    \/\/ pathname is specified to exist even for nonexistent\n+                    \/\/ or inaccessible files.\n+                    path = currentPath.toFile().getCanonicalFile().toPath()\n+                            .resolveSibling(path);\n@@ -269,12 +275,0 @@\n-        private static Path resolve(Path path) {\n-            \/\/ JDK-8352728: we prefer java.io.File::getCanonicalFile over\n-            \/\/ java.nio.file.Path::toRealPath because the former is more\n-            \/\/ fault-tolerant, since the canonical form of a pathname is\n-            \/\/ specified to exist even for nonexistent\/inaccessible files.\n-            try {\n-                return path.toFile().getCanonicalFile().toPath();\n-            } catch (IOException e) {\n-                throw new InternalError(\"Cannot resolve path\", e);\n-            }\n-        }\n-\n@@ -328,1 +322,0 @@\n-                source = source instanceof Path path ? resolve(path) : source;\n","filename":"src\/java.base\/share\/classes\/java\/security\/Security.java","additions":7,"deletions":14,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -446,0 +446,1 @@\n+        final Path displayPath;\n@@ -447,1 +448,1 @@\n-        private Include(PropsFile propsFile, String value) {\n+        private Include(PropsFile propsFile, String value, Path displayPath) {\n@@ -450,0 +451,1 @@\n+            this.displayPath = displayPath;\n@@ -452,2 +454,3 @@\n-        static Include of(PropsFile propsFile) {\n-            return new Include(propsFile, propsFile.path.toString());\n+        static Include ofAbsolute(PropsFile propsFile) {\n+            return new Include(propsFile, propsFile.path.toString(),\n+                    propsFile.path);\n@@ -456,2 +459,7 @@\n-        static Include of(PropsFile propsFile, String value) {\n-            return new Include(propsFile, value);\n+        static Include ofRelative(PropsFile propsFile, Path baseDir) {\n+            Path rel = baseDir.relativize(propsFile.path);\n+            return new Include(propsFile, rel.toString(), baseDir.resolve(rel));\n+        }\n+\n+        Include withNewValue(String newValue) {\n+            return new Include(propsFile, newValue, displayPath);\n@@ -513,1 +521,1 @@\n-        addIncludeDefinition(Include.of(propsFile));\n+        addIncludeDefinition(Include.ofAbsolute(propsFile));\n@@ -517,2 +525,1 @@\n-        addIncludeDefinition(Include.of(propsFile,\n-                path.getParent().relativize(propsFile.path).toString()));\n+        addIncludeDefinition(Include.ofRelative(propsFile, path.getParent()));\n@@ -527,1 +534,1 @@\n-            oa.shouldContain(\"finished processing \" + include.propsFile.path);\n+            oa.shouldContain(\"finished processing \" + include.displayPath);\n@@ -539,1 +546,1 @@\n-            oa.shouldContain(\"finished processing \" + include.propsFile.path);\n+            oa.shouldContain(\"finished processing \" + include.displayPath);\n@@ -574,1 +581,1 @@\n-            include = Include.of(include.propsFile,\n+            include = include.withNewValue(\n","filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java","additions":18,"deletions":11,"binary":false,"changes":29,"status":"modified"}]}
[{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"d94feb26bcc1f1ce7ace84aab1fc4a0e42ab9cdd"},{"commit":{"message":"Update copyright for the New Year"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/ExtraFileAndIncludes.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/LinuxAnonymousFiles.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/WindowsParentDirPermissions.java"}],"sha":"79dade01f60226cb8eb3296668a5c6a2818501f9"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"6f1ffb6607724c1d0243e8bf34dcf7bdb39ca07a"},{"commit":{"message":"Remove superseded SecurityPropFile"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/ExtraFileAndIncludes.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/SecurityPropFile.file"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/SecurityPropFile.java"}],"sha":"df9dc5c7b4711f60a9ecb9a7e24917f5f4c23126"},{"commit":{"message":"Move tests into SecurityPropFile and rename them"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/ExtraFileAndIncludes.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/LinuxAnonymousFiles.java"},{"filename":"test\/jdk\/java\/security\/Security\/SecurityPropFile\/WindowsParentDirPermissions.java"}],"sha":"42289935d244c06d5634d104f549b0868d117253"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"66c809fba1f8a8383d6fd9cea1917df1842f62db"},{"commit":{"message":"3\/3) Adjust ConfigFileTest for unresolved paths"},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"c33bf62c2831acefd90ec476fcfb6d853be873ee"},{"commit":{"message":"2\/3) Refactor ConfigFileTest ExtraMode enum\n\nMove ExtraMode as an ExtraPropsFile field, so we have this information\nas soon as the ExtraPropsFile is created. This will be useful for the\nnext change."},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"1178544bda12bb4a6cd4d4400dad618292f29151"},{"commit":{"message":"1\/3) Revert ConfigFileTest adjustment\n\nThis reverts commit 7c80874c25bc99783ad24fb22d2c080d33c5503a only for\nConfigFileTest."},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"2a012397baf0599e7dbe209975b3b353c3de5617"},{"commit":{"message":"Do not resolve symlinks for relative includes\n\nAs @wangweij pointed out:\n> The person writing the original properties file may have expected\n> includes to resolve relative to its own location, but whoever created\n> the symlink may have intended a different resolution path. If they\n> wanted the original location, they could have just used the real file\n> directly instead of introducing a symlink.\n\nSince path resolution is causing trouble under certain conditions, let's\navoid doing it. Other programs with include directives support in their\nconfiguration files are doing the same."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"9f298af59431507a66e3141c54abb59fcf3666f6"},{"commit":{"message":"Convert ConfigFileTestAnonymousPipes to Java"},"files":[],"sha":"51a3ce86649e2e44048ae6028aea1edf0a72812d"},{"commit":{"message":"Review suggestion: go back tolerating IOException\n\nWe agreed an IOException in this case is recoverable, and decided to\ntolerate it, while adding a debug log message with the exception."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"f16e991cb50292802cfbe89a80fd47d5dbf14b4f"},{"commit":{"message":"Review suggestion: improve comment clarity"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"cedd43f9d4c39f55752df375103670c0a0e4df5f"},{"commit":{"message":"Address review comments"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"4e7206c082e4b0152d999b32eba0063a506eff67"},{"commit":{"message":"Slightly improve ConfigFileTestDirPermissions\n\nExtract restrictedAcl() AutoCloseable and also use AutoCloseable for the\ntemporary directory cleanup."},"files":[],"sha":"29c88c00aae065ee2a3f13271436892dce269e61"},{"commit":{"message":"Go back to java.nio.file.Path::toRealPath\n\nAfter JDK-8355342 (1f08a3ede2445fb05d9700a1293d681ca89cbf5b)\nFile::getCanonicalFile is no longer resolving symlinks in Windows, plus\nthere is some reluctance from core-libs maintainers about relying on\nspecific java.io.File behaviour with regard to parent directories\npermissions.\n\nOn the other hand, path resolution has been moved to a place where it's\nstrictly needed (when resolving a relative include directive), and this\nshould mitigate the majority of the use-cases, being an improvement with\nrespect to the current status quo.\n\nGiven the previous, I think that Path::toRealPath in its current\nlocation is a good compromise.\n\nThis also reverts commit 7abb62c069ad35f4ec34f6cd9b9f6d05febceecc, since\nwe are no longer supporting that use-case."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"e80a28ea787b74f22f62f24a09bbf37c8cdbce8a"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"6811268ed1cd9343a36bedd1d479572e36bcb0e0"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"b5063f0040187aa21cd2d320623e593db611a058"},{"commit":{"message":"Do symlinks resolution in a single place\n\nRemove path normalization from debugging messages, only keep it where\nstrictly necessary.\n\nAdjust test case to the new debugging messages which contain absolute\nbut not normalized paths (can contain some ..\/..\/ elements)."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"7c80874c25bc99783ad24fb22d2c080d33c5503a"},{"commit":{"message":"Use the right OutputAnalyzer method\n\nOutputAnalyzer::stderrMatches returns a boolean while\nOutputAnalyzer::stderrShouldMatch performs the check."},"files":[{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"4483469e453100259aa28d900943c34a4ab994b4"},{"commit":{"message":"Remove path resolution from exception message"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"},{"filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java"}],"sha":"40bc832ef22670a6ba2481fb53d2ebe4b3bbd434"},{"commit":{"message":"Detect cyclic includes with Files::isSameFile\n\ncheckCyclicInclude() is invoked after we successfully get an InputStream\nfor the path to avoid skipping the same IOException several times inside\ncheckCyclicInclude() if the path doesn't exist.\n\nAlso, perform symlinks resolution only in the following cases:\n â€¢ When we need to resolve a relative include\n â€¢ For clarity to the user in logging messages\n â€¢ For clarity to the user in exception messages\n\nIn the first case, the resolution is a requirement, in the last two\ncases it is a nice-to-have. But given the last two are exceptional\ncases anyway, we let any resolution error bubble up."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"a8d865c4985e6660655b27df28e76882855b2087"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"4e77fb36d23fd51d529e49e4e5c362133f2beb16"},{"commit":{"message":"Introduce a shell test for anonymous pipes\n\nThis use case has been discussed and analyzed in the pull request, but\nwe didn't have a test case for it. By introducing a test, we make sure\nwe don't have regressions in this area, regardless of the alternative\nwe choose to advance with for this fix."},"files":[],"sha":"71718e522feaf8e6404c526588b400d3073b26c2"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"4cfce61b8752e6dd25f2d9fca002f9c6e72768fc"},{"commit":{"message":"Fix typo"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"35933475549a36b19ce196410d93450d48471cba"},{"commit":{"message":"Merge openjdk:master into franferrax:JDK-8352728"},"files":[],"sha":"fc25514c9126cff5f0c1e46db2278d6cca8fe442"},{"commit":{"message":"Reintroduce links test using directory junctions\n\nJunctions do not require elevation, so this is a way of testing\nsoft-links are resolved without requiring elevation. This is useful\nbecause we need to avoid elevation in order to reproduce the parent\ndirectories permission issue.\n\nThis is testing directories structure:\n\n ğŸ“ JDK-8352728-tmp-*\/\n â”œâ”€ğŸ”’ jdk-parent-dir\/         (ACL with REMOVED-PERMISSIONS)\n â”‚ â””â”€ğŸ“ jdk\/\n â”‚   â”œâ”€ğŸ“ conf\/\n â”‚   â”‚ â”œâ”€ğŸ“ security\/\n â”‚   â”‚ â”‚ â”œâ”€ğŸ“„ java.security\n â”‚   â”‚ â”‚ â”‚    ğŸ“ include link-to-other-dir\/other.properties\n â”‚   â”‚ â”‚ â”œâ”€ğŸ”— link-to-other-dir\/ âŸ¹ ğŸ“ JDK-8352728-tmp-*\/other-dir\n â”‚   â”‚ â”‚ â””â”€...               (JUNCTION)\n â”‚   â”‚ â””â”€...\n â”‚   â””â”€...\n â”œâ”€ğŸ“ other-dir\/\n â”‚ â””â”€ğŸ“„ other.properties\n â”‚      ğŸ“ include ..\/relatively.included.properties\n â””â”€ğŸ“„ relatively.included.properties\n      ğŸ“ test.property.name=test_property_value"},"files":[],"sha":"7abb62c069ad35f4ec34f6cd9b9f6d05febceecc"},{"commit":{"message":"Do minor adjustments\n\nUpdate copyright year, improve comments and use File::toPath to convert\nback to Path."},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"a8c5ca745298a7efdef23bc7416bf2aacd284143"},{"commit":{"message":"Merge openjdk\/master into JDK-8352728"},"files":[],"sha":"7047a994219c569d3ce2163586c4b8d42f941c08"},{"commit":{"message":"8352728: InternalError loading java.security due to Windows parent folder permissions"},"files":[{"filename":"src\/java.base\/share\/classes\/java\/security\/Security.java"}],"sha":"308479dd767e162e0d8e16018cf19563ff9b6203"}]
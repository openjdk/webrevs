{"files":[{"patch":"@@ -1092,1 +1092,1 @@\n-    assert(VM_Version::supports_evex(), \"shouldn't have EVEX prefix\");\n+    assert(VM_Version::cpu_supports_evex(), \"shouldn't have EVEX prefix\");\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -812,1 +812,2 @@\n-    _features = feature_flags();\n+    _features = feature_flags(); \/\/ It can be changed by VM flags\n+    _cpu_features = _features;   \/\/ Preserve features\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -643,1 +643,1 @@\n-  \/\/ Feature identification\n+  \/\/ Feature identification which can be affected by VM flags\n@@ -706,0 +706,5 @@\n+  \/\/\n+  \/\/ Feature identification not affected by VM flags\n+  \/\/\n+  static bool cpu_supports_evex()         { return (_cpu_features & CPU_AVX512F) != 0; }\n+\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.hpp","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+uint64_t Abstract_VM_Version::_cpu_features = 0;\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-  \/\/ CPU feature flags.\n+  \/\/ CPU feature flags which can be restricted by VM flags.\n@@ -61,0 +61,3 @@\n+  \/\/ CPU feature flags not affected by VM flags.\n+  static uint64_t _cpu_features;\n+\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
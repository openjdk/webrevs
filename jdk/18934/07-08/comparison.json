{"files":[{"patch":"@@ -274,1 +274,1 @@\n-        checkModuleOrPackage(moduleVersion, moduleElement, ct, \"Module: \");\n+        checkModuleOrPackage(javadocHelper,moduleVersion, moduleElement, ct, \"Module: \");\n@@ -278,1 +278,1 @@\n-                checkModuleOrPackage(packageVersion, ed.getPackage(), ct, \"Package: \");\n+                checkModuleOrPackage(javadocHelper,packageVersion, ed.getPackage(), ct, \"Package: \");\n@@ -284,1 +284,1 @@\n-    private void checkModuleOrPackage(String moduleVersion, Element moduleElement, JavacTask ct, String elementCategory) {\n+    private void checkModuleOrPackage(EffectiveSourceSinceHelper javadocHelper, String moduleVersion, Element moduleElement, JavacTask ct, String elementCategory) {\n@@ -295,1 +295,2 @@\n-            checkEquals(moduleVersion, version, id);\n+            String position = javadocHelper.getElementPosition(id);\n+            checkEquals(position,moduleVersion, version, id);\n@@ -415,1 +416,2 @@\n-        checkEquals(sinceVersion, realMappedVersion, uniqueId);\n+        String position = javadocHelper.getElementPosition(uniqueId);\n+        checkEquals(position, sinceVersion, realMappedVersion, uniqueId);\n@@ -439,1 +441,1 @@\n-    private void checkEquals(String sinceVersion, String mappedVersion, String name) {\n+    private void checkEquals(String prefix, String sinceVersion, String mappedVersion, String name) {\n@@ -449,1 +451,1 @@\n-            String message = getWrongSinceMessage(sinceVersion, mappedVersion, name);\n+            String message = getWrongSinceMessage(prefix, sinceVersion, mappedVersion, name);\n@@ -453,2 +455,1 @@\n-\n-    private static String getWrongSinceMessage(String sinceVersion, String mappedVersion, String elementSimpleName) {\n+    private static String getWrongSinceMessage(String prefix, String sinceVersion, String mappedVersion, String elementSimpleName) {\n@@ -459,1 +460,1 @@\n-            message = elementSimpleName + \": `@since` version is \" + sinceVersion + \" instead of \" + mappedVersion;\n+            message = elementSimpleName + \": `@since` version: \" + sinceVersion + \"; found: \" + mappedVersion;\n@@ -461,1 +462,1 @@\n-        return message;\n+        return prefix + message;\n@@ -671,0 +672,1 @@\n+        private final Map<String, String> signature2Location = new HashMap<>();\n@@ -740,0 +742,4 @@\n+        private String getElementPosition(String signature) {\n+           return signature2Location.getOrDefault(signature, \"\");\n+        }\n+\n@@ -743,0 +749,1 @@\n+            String fileName = cut.getSourceFile().getName();\n@@ -747,1 +754,1 @@\n-                    handleDeclaration();\n+                    handleDeclaration(node,fileName);\n@@ -753,1 +760,1 @@\n-                    handleDeclaration();\n+                    handleDeclaration(node,fileName);\n@@ -759,1 +766,1 @@\n-                    handleDeclaration();\n+                    handleDeclaration(node,fileName);\n@@ -765,1 +772,1 @@\n-                    handleDeclaration();\n+                    handleDeclaration(node,fileName);\n@@ -777,1 +784,1 @@\n-                        handleDeclaration();\n+                        handleDeclaration(node,fileName);\n@@ -782,1 +789,1 @@\n-                private void handleDeclaration() {\n+                private void handleDeclaration(Tree node, String fileName) {\n@@ -786,0 +793,4 @@\n+                        long startPosition = trees.getSourcePositions().getStartPosition(cut, node);\n+                        long lineNumber = cut.getLineMap().getLineNumber(startPosition);\n+                        String filePathWithLineNumber = String.format(\"src%s:%s \",fileName,lineNumber);\n+\n@@ -787,0 +798,1 @@\n+                        signature2Location.put(getElementName(currentElement.getEnclosingElement(), currentElement, typeUtils), filePathWithLineNumber);\n","filename":"test\/jdk\/tools\/sincechecker\/SinceChecker.java","additions":29,"deletions":17,"binary":false,"changes":46,"status":"modified"}]}
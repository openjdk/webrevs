{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -88,1 +88,1 @@\n-    _input_state = ERR_STATE;\n+    _input_state = IState::ERR_STATE;\n@@ -91,1 +91,1 @@\n-    _input_state = definitely_done() ? EOF_STATE : NTR_STATE;\n+    _input_state = definitely_done() ? IState::EOF_STATE : IState::NTR_STATE;\n@@ -113,1 +113,1 @@\n-  _input_state = NTR_STATE;\n+  _input_state = IState::NTR_STATE;\n@@ -126,1 +126,1 @@\n-    if (_input != nullptr && _input_state == NTR_STATE) {\n+    if (_input != nullptr && _input_state == IState::NTR_STATE) {\n@@ -128,1 +128,1 @@\n-      if (nr == 0)  _input_state = EOF_STATE;  \/\/ do not get EOF twice\n+      if (nr == 0)  _input_state = IState::EOF_STATE;  \/\/ do not get EOF twice\n","filename":"src\/hotspot\/share\/utilities\/istream.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,1 +92,1 @@\n-  enum IState { NTR_STATE, EOF_STATE, ERR_STATE };\n+  enum class IState : int { NTR_STATE, EOF_STATE, ERR_STATE };\n@@ -108,1 +108,2 @@\n-  char   _small_buffer[SMALL_SIZE];  \/\/ buffer for holding lines\n+  char   _small_buffer[SMALL_SIZE];  \/\/ stack-allocated buffer for holding lines;\n+                                     \/\/ will switch to C_HEAP allocation when necessary.\n@@ -225,10 +226,12 @@\n-  inputStream() {\n-    _input = nullptr;\n-    _buffer = nullptr;\n-    _must_free = nullptr;\n-    _buffer_size = 0;\n-    _line_count = 0;\n-    _beg = _end = _next = _content_end = 0;\n-    _line_ending = 0;\n-    _input_state = NTR_STATE;\n-  }\n+  inputStream() :\n+    _input(nullptr),\n+    _input_state(IState::NTR_STATE),\n+    _line_ending(0),\n+    _buffer(nullptr),\n+    _buffer_size(0),\n+    _content_end(0),\n+    _beg(0),\n+    _end(0),\n+    _next(0),\n+    _must_free(nullptr),\n+    _line_count(0) {}\n@@ -289,1 +292,1 @@\n-    return _input_state == ERR_STATE;\n+    return _input_state == IState::ERR_STATE;\n@@ -373,2 +376,1 @@\n-  {\n-  }\n+  { }\n","filename":"src\/hotspot\/share\/utilities\/istream.hpp","additions":18,"deletions":16,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -290,1 +290,0 @@\n-      \/\/if (ncols > 0) ncols = (ncols == 1) ? (2*patlen)\/3 : patlen;\n","filename":"test\/hotspot\/gtest\/utilities\/test_istream.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
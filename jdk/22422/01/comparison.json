{"files":[{"patch":"@@ -67,5 +67,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkPrintJobAccess();\n-        }\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/print\/PrinterJob.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -396,10 +396,1 @@\n-        ArrayList<PrintService> registeredServices = null;\n-        try {\n-          @SuppressWarnings(\"removal\")\n-          SecurityManager security = System.getSecurityManager();\n-          if (security != null) {\n-            security.checkPrintJobAccess();\n-          }\n-          registeredServices = getRegisteredServices();\n-        } catch (SecurityException se) {\n-        }\n+        ArrayList<PrintService> registeredServices = getRegisteredServices();\n@@ -461,10 +452,1 @@\n-        ArrayList<PrintService> registeredServices = null;\n-        try {\n-          @SuppressWarnings(\"removal\")\n-          SecurityManager security = System.getSecurityManager();\n-          if (security != null) {\n-            security.checkPrintJobAccess();\n-          }\n-          registeredServices = getRegisteredServices();\n-        } catch (Exception e) {\n-        }\n+        ArrayList<PrintService> registeredServices = getRegisteredServices();\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/PrintServiceLookup.java","additions":2,"deletions":20,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -206,4 +206,1 @@\n-            try {\n-                dialog.setAlwaysOnTop(true);\n-            } catch (SecurityException e) {\n-            }\n+            dialog.setAlwaysOnTop(true);\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/ServiceUI.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -437,6 +437,1 @@\n-        String userName = \"\";\n-        try {\n-          userName = System.getProperty(\"user.name\");\n-        } catch (SecurityException se) {\n-        }\n-\n+        String userName = System.getProperty(\"user.name\");\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PSStreamPrintJob.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -313,6 +313,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkPrintJobAccess();\n-        }\n-\n@@ -369,5 +363,0 @@\n-                } catch (SecurityException se) {\n-                    \/\/There is already file read\/write access so at this point\n-                    \/\/ only delete access is denied.  Just ignore it because in\n-                    \/\/ most cases the file created in createNewFile gets overwritten\n-                    \/\/ anyway.\n@@ -679,21 +668,3 @@\n-                try {\n-                    if (fileName != null) {\n-                        if (fileName.isEmpty()) {\n-                            fileName = \".\";\n-                        }\n-                    } else {\n-                        \/\/ defaultDest should not be null.  The following code\n-                        \/\/ is only added to safeguard against a possible\n-                        \/\/ buggy implementation of a PrintService having a\n-                        \/\/ null default Destination.\n-                        fileName = \"out.prn\";\n-                    }\n-                    uri = (new File(fileName)).toURI();\n-                } catch (SecurityException se) {\n-                    try {\n-                        \/\/ '\\\\' file separator is illegal character in opaque\n-                        \/\/ part and causes URISyntaxException, so we replace\n-                        \/\/ it with '\/'\n-                        fileName = fileName.replace('\\\\', '\/');\n-                        uri = new URI(\"file:\"+fileName);\n-                    } catch (URISyntaxException e) {\n+                if (fileName != null) {\n+                    if (fileName.isEmpty()) {\n+                        fileName = \".\";\n@@ -701,0 +672,6 @@\n+                } else {\n+                    \/\/ defaultDest should not be null.  The following code\n+                    \/\/ is only added to safeguard against a possible\n+                    \/\/ buggy implementation of a PrintService having a\n+                    \/\/ null default Destination.\n+                    fileName = \"out.prn\";\n@@ -702,0 +679,1 @@\n+                uri = (new File(fileName)).toURI();\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PrintJob2D.java","additions":10,"deletions":32,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -819,4 +819,1 @@\n-            try {\n-                pageDialog.setAlwaysOnTop(true);\n-            } catch (SecurityException e) {\n-            }\n+            pageDialog.setAlwaysOnTop(true);\n@@ -951,9 +948,0 @@\n-        \/* A security check has already been performed in the\n-         * java.awt.print.printerJob.getPrinterJob method.\n-         * So by the time we get here, it is OK for the current thread\n-         * to print either to a file (from a Dialog we control!) or\n-         * to a chosen printer.\n-         *\n-         * We raise privilege when we put up the dialog, to avoid\n-         * the \"warning applet window\" banner.\n-         *\/\n@@ -1314,5 +1302,1 @@\n-            try {\n-                userNameAttr = getUserName();\n-            } catch (SecurityException e) {\n-                userNameAttr = \"\";\n-            }\n+            userNameAttr = getUserName();\n@@ -1657,5 +1641,0 @@\n-        } catch (SecurityException se) {\n-            \/\/There is already file read\/write access so at this point\n-            \/\/ only delete access is denied.  Just ignore it because in\n-            \/\/ most cases the file created in createNewFile gets overwritten\n-            \/\/ anyway.\n@@ -1821,1 +1800,0 @@\n-     * The caller must have security permission to read system properties.\n@@ -1834,5 +1812,1 @@\n-            try {\n-                return  getUserName();\n-            } catch (SecurityException e) {\n-                return \"\";\n-            }\n+            return getUserName();\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/RasterPrinterJob.java","additions":3,"deletions":29,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -172,4 +172,1 @@\n-                try {\n-                    setAlwaysOnTop(true);\n-                } catch (SecurityException e) {\n-                }\n+                setAlwaysOnTop(true);\n@@ -258,4 +255,1 @@\n-                try {\n-                    setAlwaysOnTop(true);\n-                } catch (SecurityException e) {\n-                }\n+                setAlwaysOnTop(true);\n@@ -2940,7 +2934,1 @@\n-            boolean exists;\n-\n-            try {\n-                exists = selected.exists();\n-            } catch (SecurityException e) {\n-                exists = false;\n-            }\n+            boolean exists = selected.exists();\n@@ -2969,5 +2957,0 @@\n-            } catch (SecurityException se) {\n-                \/\/There is already file read\/write access so at this point\n-                \/\/ only delete access is denied.  Just ignore it because in\n-                \/\/ most cases the file created in createNewFile gets\n-                \/\/ overwritten anyway.\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/ServiceDialog.java","additions":3,"deletions":20,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -58,6 +58,3 @@\n-        try {\n-              setPriority(Thread.NORM_PRIORITY-1);\n-              setDaemon(true);\n-              start();\n-        } catch (SecurityException e) {\n-        }\n+        setPriority(Thread.NORM_PRIORITY-1);\n+        setDaemon(true);\n+        start();\n@@ -96,4 +93,1 @@\n-        try {\n-            interrupt();\n-        } catch (SecurityException e) {\n-        }\n+        interrupt();\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/ServiceNotifier.java","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -514,5 +514,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkPrintJobAccess();\n-        }\n@@ -590,1 +585,0 @@\n-                try {\n@@ -592,7 +586,0 @@\n-                } catch (SecurityException se) {\n-                    try {\n-                        return new Destination(new URI(\"file:out.ps\"));\n-                    } catch (URISyntaxException e) {\n-                        return null;\n-                    }\n-                }\n@@ -800,5 +787,1 @@\n-            String userName = \"\";\n-            try {\n-              userName = System.getProperty(\"user.name\", \"\");\n-            } catch (SecurityException se) {\n-            }\n+            String userName = System.getProperty(\"user.name\", \"\");\n@@ -1577,9 +1560,1 @@\n-            try {\n-                return new Destination((new File(\"out.ps\")).toURI());\n-            } catch (SecurityException se) {\n-                try {\n-                    return new Destination(new URI(\"file:out.ps\"));\n-                } catch (URISyntaxException e) {\n-                    return null;\n-                }\n-            }\n+            return new Destination((new File(\"out.ps\")).toURI());\n@@ -1677,5 +1652,1 @@\n-            String userName = \"\";\n-            try {\n-              userName = System.getProperty(\"user.name\", \"\");\n-            } catch (SecurityException se) {\n-            }\n+            String userName = System.getProperty(\"user.name\", \"\");\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/IPPPrintService.java","additions":3,"deletions":32,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -213,6 +213,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkPrintJobAccess();\n-        }\n-\n@@ -552,5 +546,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-          security.checkPrintJobAccess();\n-        }\n@@ -616,5 +605,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-          security.checkPrintJobAccess();\n-        }\n@@ -626,6 +610,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-          security.checkPrintJobAccess();\n-        }\n-\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/PrintServiceLookupProvider.java","additions":0,"deletions":22,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -710,6 +710,1 @@\n-        String userName = \"\";\n-        try {\n-          userName = System.getProperty(\"user.name\");\n-        } catch (SecurityException se) {\n-        }\n-\n+        String userName = System.getProperty(\"user.name\");\n@@ -794,11 +789,0 @@\n-                    \/\/ check write access\n-                    @SuppressWarnings(\"removal\")\n-                    SecurityManager security = System.getSecurityManager();\n-                    if (security != null) {\n-                      try {\n-                        security.checkWrite(mDestination);\n-                      } catch (SecurityException se) {\n-                        notifyEvent(PrintJobEvent.JOB_FAILED);\n-                        throw new PrintException(se);\n-                      }\n-                    }\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/UnixPrintJob.java","additions":1,"deletions":17,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -419,5 +419,0 @@\n-      @SuppressWarnings(\"removal\")\n-      SecurityManager security = System.getSecurityManager();\n-      if (security != null) {\n-        security.checkPrintJobAccess();\n-      }\n@@ -630,9 +625,1 @@\n-            try {\n-                return new Destination((new File(\"out.ps\")).toURI());\n-            } catch (SecurityException se) {\n-                try {\n-                    return new Destination(new URI(\"file:out.ps\"));\n-                } catch (URISyntaxException e) {\n-                    return null;\n-                }\n-            }\n+            return new Destination((new File(\"out.ps\")).toURI());\n@@ -675,5 +662,1 @@\n-            String userName = \"\";\n-            try {\n-              userName = System.getProperty(\"user.name\", \"\");\n-            } catch (SecurityException se) {\n-            }\n+            String userName = System.getProperty(\"user.name\", \"\");\n@@ -736,1 +719,0 @@\n-            try {\n@@ -738,7 +720,0 @@\n-            } catch (SecurityException se) {\n-                try {\n-                    return new Destination(new URI(\"file:out.ps\"));\n-                } catch (URISyntaxException e) {\n-                    return null;\n-                }\n-            }\n@@ -753,5 +728,1 @@\n-            String userName = \"\";\n-            try {\n-              userName = System.getProperty(\"user.name\", \"\");\n-            } catch (SecurityException se) {\n-            }\n+            String userName = System.getProperty(\"user.name\", \"\");\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/UnixPrintService.java","additions":3,"deletions":32,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -1916,10 +1916,1 @@\n-                try {\n-                    attributes.add(new Destination(\n-                                               new File(\".\/out.prn\").toURI()));\n-                } catch (SecurityException se) {\n-                    try {\n-                        attributes.add(new Destination(\n-                                                new URI(\"file:out.prn\")));\n-                    } catch (URISyntaxException e) {\n-                    }\n-                }\n+                attributes.add(new Destination(new File(\".\/out.prn\").toURI()));\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WPrinterJob.java","additions":1,"deletions":10,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -109,5 +109,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkPrintJobAccess();\n-        }\n@@ -210,5 +205,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-          security.checkPrintJobAccess();\n-        }\n@@ -276,5 +266,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-          security.checkPrintJobAccess();\n-        }\n@@ -286,6 +271,0 @@\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-          security.checkPrintJobAccess();\n-        }\n-\n","filename":"src\/java.desktop\/windows\/classes\/sun\/print\/PrintServiceLookupProvider.java","additions":0,"deletions":21,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -595,5 +595,1 @@\n-        String userName = \"\";\n-        try {\n-          userName = System.getProperty(\"user.name\");\n-        } catch (SecurityException se) {\n-        }\n+        String userName = System.getProperty(\"user.name\");\n@@ -677,11 +673,0 @@\n-                \/\/ check write access\n-                @SuppressWarnings(\"removal\")\n-                SecurityManager security = System.getSecurityManager();\n-                if (security != null) {\n-                  try {\n-                    security.checkWrite(mDestination);\n-                  } catch (SecurityException se) {\n-                    notifyEvent(PrintJobEvent.JOB_FAILED);\n-                    throw new PrintException(se);\n-                  }\n-                }\n","filename":"src\/java.desktop\/windows\/classes\/sun\/print\/Win32PrintJob.java","additions":1,"deletions":16,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -861,5 +861,0 @@\n-      @SuppressWarnings(\"removal\")\n-      SecurityManager security = System.getSecurityManager();\n-      if (security != null) {\n-        security.checkPrintJobAccess();\n-      }\n@@ -1177,9 +1172,1 @@\n-            try {\n-                return new Destination((new File(\"out.prn\")).toURI());\n-            } catch (SecurityException se) {\n-                try {\n-                    return new Destination(new URI(\"file:out.prn\"));\n-                } catch (URISyntaxException e) {\n-                    return null;\n-                }\n-            }\n+            return new Destination((new File(\"out.prn\")).toURI());\n@@ -1226,5 +1213,1 @@\n-            String userName = \"\";\n-            try {\n-              userName = System.getProperty(\"user.name\", \"\");\n-            } catch (SecurityException se) {\n-            }\n+            String userName = System.getProperty(\"user.name\", \"\");\n@@ -1305,5 +1288,1 @@\n-          String userName = \"\";\n-          try {\n-            userName = System.getProperty(\"user.name\", \"\");\n-          } catch (SecurityException se) {\n-          }\n+            String userName = System.getProperty(\"user.name\", \"\");\n@@ -1346,9 +1325,1 @@\n-            try {\n-                return new Destination((new File(\"out.prn\")).toURI());\n-            } catch (SecurityException se) {\n-                try {\n-                    return new Destination(new URI(\"file:out.prn\"));\n-                } catch (URISyntaxException e) {\n-                    return null;\n-                }\n-            }\n+            return new Destination((new File(\"out.prn\")).toURI());\n","filename":"src\/java.desktop\/windows\/classes\/sun\/print\/Win32PrintService.java","additions":4,"deletions":33,"binary":false,"changes":37,"status":"modified"}]}
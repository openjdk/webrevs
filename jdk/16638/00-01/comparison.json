{"files":[{"patch":"@@ -946,10 +946,4 @@\n-    jobject thread_handle = nullptr;\n-    \/\/ Create all j.l.Thread objects for C1 and C2 threads here, but only one\n-    \/\/ for JVMCI compiler which can create further ones on demand.\n-    bool create = !UseDynamicNumberOfCompilerThreads || i == 0;\n-    if (create JVMCI_ONLY(|| !UseJVMCICompiler || UseJVMCINativeLibrary)) {\n-      \/\/ Create a name for our thread.\n-      os::snprintf_checked(name_buffer, sizeof(name_buffer), \"%s CompilerThread%d\", _compilers[1]->name(), i);\n-      Handle thread_oop = create_thread_oop(name_buffer, CHECK);\n-      thread_handle = JNIHandles::make_global(thread_oop);\n-    }\n+    \/\/ Create a name for our thread.\n+    os::snprintf_checked(name_buffer, sizeof(name_buffer), \"%s CompilerThread%d\", _compilers[1]->name(), i);\n+    Handle thread_oop = create_thread_oop(name_buffer, CHECK);\n+    jobject thread_handle = JNIHandles::make_global(thread_oop);\n@@ -1033,1 +1027,1 @@\n-      if (UseJVMCICompiler && !UseJVMCINativeLibrary) {\n+      if (UseJVMCICompiler && !UseJVMCINativeLibrary && _compiler2_objects[i] == nullptr) {\n@@ -1069,1 +1063,1 @@\n-      assert(compiler2_object(i) != nullptr, \"Thread oop must exist\");\n+      guarantee(compiler2_object(i) != nullptr, \"Thread oop must exist\");\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"}]}
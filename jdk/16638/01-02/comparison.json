{"files":[{"patch":"@@ -775,5 +775,0 @@\n-Handle CompileBroker::create_thread_oop(const char* name, TRAPS) {\n-  Handle thread_oop = JavaThread::create_system_thread_object(name, CHECK_NH);\n-  return thread_oop;\n-}\n-\n@@ -926,0 +921,7 @@\n+static jobject create_compiler_thread(AbstractCompiler* compiler, int i, TRAPS) {\n+  char name_buffer[256];\n+  os::snprintf_checked(name_buffer, sizeof(name_buffer), \"%s CompilerThread%d\", compiler->name(), i);\n+  Handle thread_oop = JavaThread::create_system_thread_object(name_buffer, CHECK_NULL);\n+  return JNIHandles::make_global(thread_oop);\n+}\n+\n@@ -956,2 +958,0 @@\n-  char name_buffer[256];\n-\n@@ -960,3 +960,1 @@\n-    os::snprintf_checked(name_buffer, sizeof(name_buffer), \"%s CompilerThread%d\", _compilers[1]->name(), i);\n-    Handle thread_oop = create_thread_oop(name_buffer, CHECK);\n-    jobject thread_handle = JNIHandles::make_global(thread_oop);\n+    jobject thread_handle = create_compiler_thread(_compilers[1], i, CHECK);\n@@ -983,3 +981,1 @@\n-    os::snprintf_checked(name_buffer, sizeof(name_buffer), \"C1 CompilerThread%d\", i);\n-    Handle thread_oop = create_thread_oop(name_buffer, CHECK);\n-    jobject thread_handle = JNIHandles::make_global(thread_oop);\n+    jobject thread_handle = create_compiler_thread(_compilers[0], i, CHECK);\n@@ -1013,1 +1009,1 @@\n-      Handle thread_oop = create_thread_oop(\"Deoptimize objects a lot single mode\", CHECK);\n+      Handle thread_oop = JavaThread::create_system_thread_object(\"Deoptimize objects a lot single mode\", CHECK);\n@@ -1056,1 +1052,1 @@\n-          thread_oop = create_thread_oop(name_buffer, THREAD);\n+          thread_oop = JavaThread::create_system_thread_object(name_buffer, THREAD);\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":11,"deletions":15,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -244,1 +244,0 @@\n-  static Handle create_thread_oop(const char* name, TRAPS);\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
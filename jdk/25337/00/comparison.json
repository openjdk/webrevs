{"files":[{"patch":"@@ -115,2 +115,3 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+        try {\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n@@ -118,7 +119,7 @@\n-        thrRef = debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+            thrRef = debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -127,1 +128,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/invokeMethod\/invokemethod009.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -114,2 +114,3 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+        try {\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n@@ -117,12 +118,4 @@\n-        thrRef = debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: unable to suspend debuggee thread\");\n+            thrRef = debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -132,2 +125,9 @@\n-            log.display(\"Waiting for debuggee thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: unable to suspend debuggee thread\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee thread suspension ...\");\n@@ -135,5 +135,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -141,1 +136,0 @@\n-        }\n@@ -143,1 +137,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/invokeMethod\/invokemethod010.java","additions":16,"deletions":23,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -116,13 +116,0 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n-        ClassType clsType = (ClassType) rType;\n-\n-        ThreadReference thrRef =\n-            debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n@@ -130,0 +117,13 @@\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+            ClassType clsType = (ClassType) rType;\n+\n+            ThreadReference thrRef =\n+                debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/invokeMethod\/invokemethod014.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -98,16 +98,9 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n-        ClassType clsType = (ClassType) rType;\n-\n-        ThreadReference thrRef = debuggee.threadByFieldName(rType, \"thread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: unable to suspend debuggee thread\");\n+        try {\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+            ClassType clsType = (ClassType) rType;\n+\n+            ThreadReference thrRef = debuggee.threadByFieldName(rType, \"thread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -117,2 +110,9 @@\n-            log.display(\"Waiting for debuggee thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: unable to suspend debuggee thread\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee thread suspension ...\");\n@@ -120,5 +120,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -126,1 +121,0 @@\n-        }\n@@ -128,1 +122,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/newInstance\/newinstance009.java","additions":18,"deletions":25,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -127,1 +127,2 @@\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n+        try {\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n@@ -129,7 +130,7 @@\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -138,1 +139,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod002.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -138,15 +138,16 @@\n-        ReferenceType[] rType = new ReferenceType[3];\n-        \/\/ debuggee main class\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n-        \/\/ debuggee dummy interface\n-        rType[1] = debuggee.classByName(DEBUGGEE_INTERFACE);\n-        \/\/ debuggee dummy abstract class\n-        rType[2] = debuggee.classByName(DEBUGGEE_ABSTRACTCLASS);\n-\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[3];\n+            \/\/ debuggee main class\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n+            \/\/ debuggee dummy interface\n+            rType[1] = debuggee.classByName(DEBUGGEE_INTERFACE);\n+            \/\/ debuggee dummy abstract class\n+            rType[2] = debuggee.classByName(DEBUGGEE_ABSTRACTCLASS);\n+\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -155,1 +156,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod003.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -114,1 +114,2 @@\n-        ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n+        try {\n+            ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n@@ -116,12 +117,4 @@\n-        thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: unable to suspend debuggee thread\");\n+            thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -131,2 +124,9 @@\n-            log.display(\"Waiting for debuggee thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: unable to suspend debuggee thread\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee thread suspension ...\");\n@@ -134,5 +134,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -140,1 +135,0 @@\n-        }\n@@ -143,1 +137,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod004.java","additions":15,"deletions":22,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -116,11 +116,12 @@\n-        ReferenceType[] rType = new ReferenceType[2];\n-        \/\/ debuggee main class\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[2];\n+            \/\/ debuggee main class\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -129,1 +130,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod005.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -114,11 +114,12 @@\n-        ReferenceType[] rType = new ReferenceType[2];\n-        \/\/ debuggee main class\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[2];\n+            \/\/ debuggee main class\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -127,1 +128,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod006.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -130,11 +130,12 @@\n-        ReferenceType[] rType = new ReferenceType[2];\n-        \/\/ debuggee main class\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[2];\n+            \/\/ debuggee main class\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -143,1 +144,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod007.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -123,13 +123,14 @@\n-        ReferenceType[] rType = new ReferenceType[3];\n-        \/\/ reference types of debuggee main & dummy classes\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASSES[0]);\n-        rType[1] = debuggee.classByName(DEBUGGEE_CLASSES[1]);\n-        rType[2] = debuggee.classByName(DEBUGGEE_CLASSES[2]);\n-\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[3];\n+            \/\/ reference types of debuggee main & dummy classes\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASSES[0]);\n+            rType[1] = debuggee.classByName(DEBUGGEE_CLASSES[1]);\n+            rType[2] = debuggee.classByName(DEBUGGEE_CLASSES[2]);\n+\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -138,1 +139,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod008.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -123,13 +123,14 @@\n-        ReferenceType[] rType = new ReferenceType[3];\n-        \/\/ reference types of debuggee main & dummy classes\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASSES[0]);\n-        rType[1] = debuggee.classByName(DEBUGGEE_CLASSES[1]);\n-        rType[2] = debuggee.classByName(DEBUGGEE_CLASSES[2]);\n-\n-        thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[3];\n+            \/\/ reference types of debuggee main & dummy classes\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASSES[0]);\n+            rType[1] = debuggee.classByName(DEBUGGEE_CLASSES[1]);\n+            rType[2] = debuggee.classByName(DEBUGGEE_CLASSES[2]);\n+\n+            thrRef = debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -138,1 +139,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod009.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -146,14 +146,15 @@\n-        ReferenceType[] rType = new ReferenceType[3];\n-        \/\/ debuggee main & dummy classes\n-        rType[0] = debuggee.classByName(DEBUGGEE_CLASSES[0]);\n-        rType[1] = debuggee.classByName(DEBUGGEE_CLASSES[1]);\n-        rType[2] = debuggee.classByName(DEBUGGEE_CLASSES[2]);\n-\n-        ThreadReference thrRef =\n-            debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n+        try {\n+            ReferenceType[] rType = new ReferenceType[3];\n+            \/\/ debuggee main & dummy classes\n+            rType[0] = debuggee.classByName(DEBUGGEE_CLASSES[0]);\n+            rType[1] = debuggee.classByName(DEBUGGEE_CLASSES[1]);\n+            rType[2] = debuggee.classByName(DEBUGGEE_CLASSES[2]);\n+\n+            ThreadReference thrRef =\n+                debuggee.threadByFieldName(rType[0], \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n@@ -162,1 +163,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/invokeMethod\/invokemethod014.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -112,1 +112,2 @@\n-        ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n+        try {\n+            ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n@@ -114,12 +115,4 @@\n-        thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee's thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: Unable to suspend debuggee's thread\");\n+            thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee's thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -129,2 +122,9 @@\n-            log.display(\"Waiting for debuggee's thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: Unable to suspend debuggee's thread\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee's thread suspension ...\");\n@@ -132,4 +132,0 @@\n-            } catch(InterruptedException ie) {\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -137,1 +133,0 @@\n-        }\n@@ -140,1 +135,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/setValue\/setvalue002.java","additions":15,"deletions":21,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -145,1 +145,2 @@\n-        ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n+        try {\n+            ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n@@ -147,12 +148,4 @@\n-        thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee's thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: Unable to suspend debuggee's thread\");\n+            thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee's thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -162,2 +155,9 @@\n-            log.display(\"Waiting for debuggee's thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: Unable to suspend debuggee's thread\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee's thread suspension ...\");\n@@ -165,6 +165,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n-            }\n@@ -174,1 +168,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/setValue\/setvalue003.java","additions":15,"deletions":22,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -125,1 +125,2 @@\n-        ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n+        try {\n+            ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n@@ -127,12 +128,4 @@\n-        thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee's thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: Unable to suspend debuggee's thread\");\n+            thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee's thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -142,2 +135,9 @@\n-            log.display(\"Waiting for debuggee's thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: Unable to suspend debuggee's thread\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee's thread suspension ...\");\n@@ -145,5 +145,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -151,1 +146,0 @@\n-        }\n@@ -154,1 +148,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/setValue\/setvalue004.java","additions":15,"deletions":22,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -112,1 +112,2 @@\n-        ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n+        try {\n+            ReferenceType debuggeeClass = debuggee.classByName(DEBUGGEE_CLASS); \/\/ debuggee main class\n@@ -114,13 +115,4 @@\n-        thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILED: Unable to suspend debuggee thread after \"\n-                    + ATTEMPTS + \" attempts\");\n+            thrRef = debuggee.threadByFieldName(debuggeeClass, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: Method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -130,2 +122,10 @@\n-            log.display(\"Waiting for debuggee thread suspension ...\");\n-            try {\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILED: Unable to suspend debuggee thread after \"\n+                                 + ATTEMPTS + \" attempts\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee thread suspension ...\");\n@@ -133,5 +133,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILED: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -139,1 +134,0 @@\n-        }\n@@ -142,1 +136,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/setValue\/setvalue005.java","additions":16,"deletions":23,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -159,12 +159,0 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        ThreadReference thrRef =\n-            debuggee.threadByFieldName(rType, \"mainThread\", DEBUGGEE_THRDNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRDNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n@@ -172,0 +160,12 @@\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            ThreadReference thrRef =\n+                debuggee.threadByFieldName(rType, \"mainThread\", DEBUGGEE_THRDNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRDNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/StackFrame\/setValue\/setvalue005\/setvalue005.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -94,19 +94,9 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        ThreadReference thrRef =\n-            debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n-        int num = 0;\n-        thrRef.suspend();\n-        while(!thrRef.isSuspended()) {\n-            num++;\n-            if (num > ATTEMPTS) {\n-                log.complain(\"TEST FAILURE: Unable to suspend debuggee thread after \"\n-                    + ATTEMPTS + \" attempts\");\n+        try {\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            ThreadReference thrRef =\n+                debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n@@ -116,2 +106,12 @@\n-            log.display(\"Waiting for debuggee thread suspension ...\");\n-            try {\n+\n+            int num = 0;\n+            thrRef.suspend();\n+            while(!thrRef.isSuspended()) {\n+                num++;\n+                if (num > ATTEMPTS) {\n+                    log.complain(\"TEST FAILURE: Unable to suspend debuggee thread after \"\n+                                 + ATTEMPTS + \" attempts\");\n+                    tot_res = Consts.TEST_FAILED;\n+                    return quitDebuggee();\n+                }\n+                log.display(\"Waiting for debuggee thread suspension ...\");\n@@ -119,5 +119,0 @@\n-            } catch(InterruptedException ie) {\n-                ie.printStackTrace();\n-                log.complain(\"TEST FAILURE: caught: \" + ie);\n-                tot_res = Consts.TEST_FAILED;\n-                return quitDebuggee();\n@@ -125,1 +120,0 @@\n-        }\n@@ -128,1 +122,0 @@\n-        try {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/ownedMonitors\/ownedmonitors002.java","additions":21,"deletions":28,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -109,12 +109,0 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        ThreadReference thrRef =\n-            debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n@@ -123,0 +111,12 @@\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            ThreadReference thrRef =\n+                debuggee.threadByFieldName(rType, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/popFrames\/popframes006.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -109,21 +109,0 @@\n-        \/\/ debuggee main class\n-        ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        ThreadReference mainThread =\n-            debuggee.threadByFieldName(rType, \"mainThread\", DEBUGGEE_MAIN_THREAD_NAME);\n-        if (mainThread == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                         + DEBUGGEE_MAIN_THREAD_NAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n-        ThreadReference auxThread =\n-            debuggee.threadByFieldName(rType, \"auxThr\", DEBUGGEE_AUX_THREAD_NAME);\n-        if (auxThread == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                         + DEBUGGEE_AUX_THREAD_NAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n@@ -132,0 +111,21 @@\n+            \/\/ debuggee main class\n+            ReferenceType rType = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            ThreadReference mainThread =\n+                debuggee.threadByFieldName(rType, \"mainThread\", DEBUGGEE_MAIN_THREAD_NAME);\n+            if (mainThread == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_MAIN_THREAD_NAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n+\n+            ThreadReference auxThread =\n+                debuggee.threadByFieldName(rType, \"auxThr\", DEBUGGEE_AUX_THREAD_NAME);\n+            if (auxThread == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_AUX_THREAD_NAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/popFrames\/popframes007.java","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -118,11 +118,0 @@\n-        \/\/ debuggee main class\n-        mainClass = debuggee.classByName(DEBUGGEE_CLASS);\n-\n-        ThreadReference thrRef = debuggee.threadByFieldName(mainClass, \"testThread\", DEBUGGEE_THRNAME);\n-        if (thrRef == null) {\n-            log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n-                + DEBUGGEE_THRNAME);\n-            tot_res = Consts.TEST_FAILED;\n-            return quitDebuggee();\n-        }\n-\n@@ -133,0 +122,1 @@\n+\n@@ -134,0 +124,11 @@\n+            \/\/ debuggee main class\n+            mainClass = debuggee.classByName(DEBUGGEE_CLASS);\n+\n+            ThreadReference thrRef = debuggee.threadByFieldName(mainClass, \"testThread\", DEBUGGEE_THRNAME);\n+            if (thrRef == null) {\n+                log.complain(\"TEST FAILURE: method Debugee.threadByFieldName() returned null for debuggee thread \"\n+                             + DEBUGGEE_THRNAME);\n+                tot_res = Consts.TEST_FAILED;\n+                return quitDebuggee();\n+            }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/stop\/stop002.java","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"}]}
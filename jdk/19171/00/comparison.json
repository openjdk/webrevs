{"files":[{"patch":"@@ -194,2 +194,3 @@\n-    \/\/ Holder for the initial value of `in`, set within `initPhase1()`.\n-    private static InputStream initialIn;\n+    \/\/ Initial values of System.in and System.err, set in initPhase1().\n+    private static @Stable InputStream initialIn;\n+    private static @Stable PrintStream initialErr;\n@@ -358,3 +359,0 @@\n-    \/\/ Remember initial System.err. setSecurityManager() warning goes here\n-    private static volatile @Stable PrintStream initialErrStream;\n-\n@@ -420,1 +418,1 @@\n-                initialErrStream.printf(\"\"\"\n+                initialErr.printf(\"\"\"\n@@ -2203,1 +2201,2 @@\n-        setErr0(newPrintStream(fdErr, props.getProperty(\"stderr.encoding\")));\n+        initialErr = newPrintStream(fdErr, props.getProperty(\"stderr.encoding\"));\n+        setErr0(initialErr);\n@@ -2409,2 +2408,0 @@\n-        initialErrStream = System.err;\n-\n@@ -2601,0 +2598,4 @@\n+            public PrintStream initialSystemErr() {\n+                return initialErr;\n+            }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import java.io.PrintStream;\n@@ -404,0 +405,5 @@\n+    \/**\n+     * Returns the initial value of System.err.\n+     *\/\n+    PrintStream initialSystemErr();\n+\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaLangAccess.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+import java.io.PrintStream;\n@@ -499,0 +500,7 @@\n+\n+    \/**\n+     * Return the initial value of System.err that was set during VM initialization.\n+     *\/\n+    public static PrintStream initialErr() {\n+        return SharedSecrets.getJavaLangAccess().initialSystemErr();\n+    }\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/misc\/VM.java","additions":9,"deletions":1,"binary":false,"changes":10,"status":"modified"}]}
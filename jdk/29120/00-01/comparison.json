{"files":[{"patch":"@@ -64,0 +64,1 @@\n+\n@@ -68,1 +69,0 @@\n-\n@@ -71,1 +71,1 @@\n-                } else if (!validCase && isErrEmpty) {\n+                } else if (!validCase && isErrEmpty && hasPixelData(icon.getImage())) {\n@@ -75,2 +75,3 @@\n-                if (validCase) {\n-                    assertHasPixelData(icon.getImage());\n+                if (validCase && !hasPixelData(icon.getImage())) {\n+                    throw new RuntimeException(\"Test failed: the parsed image \" +\n+                            \"does not contain any pixel data\");\n@@ -85,1 +86,1 @@\n-    private static void assertHasPixelData(Image img) {\n+    private static boolean hasPixelData(Image img) {\n@@ -94,2 +95,1 @@\n-            throw new RuntimeException(\"Test failed: the parsed image does \" +\n-                    \"not contain any pixel data\");\n+            return false;\n@@ -97,0 +97,1 @@\n+        return true;\n","filename":"test\/jdk\/java\/awt\/image\/XBMDecoder\/XBMDecoderTest.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -0,0 +1,6 @@\n+#define test_width 16\n+#define test_height 3\n+#define ht_x 1\n+#define ht_y 2\n+static unsigned char test_bits[] = {\n+};\n","filename":"test\/jdk\/java\/awt\/image\/XBMDecoder\/invalid_empty.xbm","additions":6,"deletions":0,"binary":false,"changes":6,"status":"added"}]}
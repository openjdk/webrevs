{"files":[{"patch":"@@ -1466,1 +1466,0 @@\n-        final AtomicInteger numFailed = new AtomicInteger();\n@@ -1472,3 +1471,0 @@\n-            } else {\n-                stream.connectionClosing(cause.getCloseCause());\n-                numFailed.incrementAndGet();\n@@ -1479,2 +1475,2 @@\n-            debug.log(\"%d stream(s) marked as unprocessed, %d stream(s) failed due to GOAWAY error\",\n-                    numUnprocessed.get(), numFailed.get());\n+            debug.log(\"%d stream(s) marked as unprocessed, processed streams will be closed by termination\",\n+                    numUnprocessed.get());\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Http2Connection.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+import jdk.test.lib.net.URIBuilder;\n@@ -105,1 +106,6 @@\n-        URI uri = URI.create(\"https:\/\/localhost:\" + port + \"\/test\");\n+        URI uri = URIBuilder.newBuilder()\n+                .scheme(\"https\")\n+                .host(server.getAddress().getAddress())\n+                .port(server.getAddress().getPort())\n+                .path(\"\/test\")\n+                .build();\n@@ -113,3 +119,1 @@\n-        if (!goAwaySentLatch.await(Utils.adjustTimeout(5), TimeUnit.SECONDS)) {\n-            throw new AssertionError(\"GOAWAY not sent in time\");\n-        }\n+        goAwaySentLatch.await();\n@@ -123,5 +127,0 @@\n-        CompletableFuture.allOf(first, second, third)\n-                .orTimeout(Utils.adjustTimeout(20), TimeUnit.SECONDS)\n-                .exceptionally(ex -> null)\n-                .join();\n-\n@@ -131,1 +130,0 @@\n-        int successCount = 0;\n@@ -137,3 +135,1 @@\n-                if (response.statusCode() == 200) {\n-                    successCount++;\n-                }\n+                assertEquals(200, response.statusCode(), \"unexpected status code\");\n@@ -154,1 +150,0 @@\n-        assertEquals(2, successCount, \"Exactly two requests should succeed\");\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/GoAwayWithErrorTest.java","additions":9,"deletions":14,"binary":false,"changes":23,"status":"modified"}]}
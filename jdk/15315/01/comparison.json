{"files":[{"patch":"@@ -4440,1 +4440,1 @@\n-  CompileTask::print_inlining_ul(callee, scope()->level(), bci(), msg);\n+  CompileTask::print_inlining_ul(callee, scope()->level(), bci(), inlining_kind_of(success), msg);\n@@ -4445,1 +4445,1 @@\n-  CompileTask::print_inlining_tty(callee, scope()->level(), bci(), msg);\n+  CompileTask::print_inlining_tty(callee, scope()->level(), bci(), inlining_kind_of(success), msg);\n","filename":"src\/hotspot\/share\/c1\/c1_GraphBuilder.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -412,1 +412,1 @@\n-void CompileTask::print_inlining_inner(outputStream* st, ciMethod* method, int inline_level, int bci, const char* msg) {\n+void CompileTask::print_inlining_inner(outputStream* st, ciMethod* method, int inline_level, int bci, InliningKind kind, const char* msg) {\n@@ -447,1 +447,3 @@\n-    st->print(\"   %s\", msg);\n+    st->print(\"   %s%s\", kind == InliningKind::SUCCESS ? \"\" : \"failed to inline: \", msg);\n+  } else if (kind == InliningKind::FAILURE) {\n+    st->print(\"   %s\", \"failed to inline\");\n@@ -472,1 +474,1 @@\n-void CompileTask::print_inlining_ul(ciMethod* method, int inline_level, int bci, const char* msg) {\n+void CompileTask::print_inlining_ul(ciMethod* method, int inline_level, int bci, InliningKind kind, const char* msg) {\n@@ -476,1 +478,1 @@\n-    print_inlining_inner(&ls, method, inline_level, bci, msg);\n+    print_inlining_inner(&ls, method, inline_level, bci, kind, msg);\n","filename":"src\/hotspot\/share\/compiler\/compileTask.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -38,0 +38,6 @@\n+enum class InliningKind { SUCCESS, FAILURE };\n+\n+inline InliningKind inlining_kind_of(bool success) {\n+  return success ? InliningKind::SUCCESS : InliningKind::FAILURE;\n+}\n+\n@@ -228,3 +234,3 @@\n-  static void print_inlining_inner(outputStream* st, ciMethod* method, int inline_level, int bci, const char* msg = nullptr);\n-  static void print_inlining_tty(ciMethod* method, int inline_level, int bci, const char* msg = nullptr) {\n-    print_inlining_inner(tty, method, inline_level, bci, msg);\n+  static void print_inlining_inner(outputStream* st, ciMethod* method, int inline_level, int bci, InliningKind kind, const char* msg = nullptr);\n+  static void print_inlining_tty(ciMethod* method, int inline_level, int bci, InliningKind kind, const char* msg = nullptr) {\n+    print_inlining_inner(tty, method, inline_level, bci, kind, msg);\n@@ -232,1 +238,1 @@\n-  static void print_inlining_ul(ciMethod* method, int inline_level, int bci, const char* msg = nullptr);\n+  static void print_inlining_ul(ciMethod* method, int inline_level, int bci, InliningKind kind, const char* msg = nullptr);\n","filename":"src\/hotspot\/share\/compiler\/compileTask.hpp","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -548,1 +548,1 @@\n-                                               caller_bci, inline_msg);\n+                                               caller_bci, inlining_kind_of(success), inline_msg);\n@@ -550,1 +550,2 @@\n-    C->print_inlining(callee_method, inline_level(), caller_bci, inline_msg);\n+\n+    C->print_inlining(callee_method, inline_level(), caller_bci, inlining_kind_of(success), inline_msg);\n","filename":"src\/hotspot\/share\/opto\/bytecodeInfo.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -355,1 +355,1 @@\n-  virtual void print_inlining_late(const char* msg) {\n+  virtual void print_inlining_late(InliningKind kind, const char* msg) {\n@@ -359,1 +359,1 @@\n-    C->print_inlining(method(), call->jvms()->depth()-1, call->jvms()->bci(), msg);\n+    C->print_inlining(method(), call->jvms()->depth()-1, call->jvms()->bci(), kind, msg);\n@@ -497,1 +497,1 @@\n-  virtual void print_inlining_late(const char* msg) {\n+  virtual void print_inlining_late(InliningKind kind, const char* msg) {\n@@ -501,1 +501,1 @@\n-    C->print_inlining(method(), call->jvms()->depth()-1, call->jvms()->bci(), msg);\n+    C->print_inlining(method(), call->jvms()->depth()-1, call->jvms()->bci(), kind, msg);\n@@ -530,1 +530,1 @@\n-      C->print_inlining(method(), jvms->depth()-1, call_node()->jvms()->bci(),\n+      C->print_inlining(method(), jvms->depth()-1, call_node()->jvms()->bci(), InliningKind::FAILURE,\n@@ -540,1 +540,1 @@\n-      C->print_inlining(method(), jvms->depth()-1, call_node()->jvms()->bci(),\n+      C->print_inlining(method(), jvms->depth()-1, call_node()->jvms()->bci(), InliningKind::FAILURE,\n","filename":"src\/hotspot\/share\/opto\/callGenerator.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -174,1 +174,1 @@\n-  virtual void print_inlining_late(const char* msg) { ShouldNotReachHere(); }\n+  virtual void print_inlining_late(InliningKind kind, const char* msg) { ShouldNotReachHere(); }\n@@ -177,3 +177,1 @@\n-    if (C->print_inlining()) {\n-      C->print_inlining(callee, inline_level, bci, msg);\n-    }\n+    print_inlining_impl(C, callee, inline_level, bci, InliningKind::SUCCESS, msg);\n@@ -183,1 +181,1 @@\n-    print_inlining(C, callee, inline_level, bci, msg);\n+    print_inlining_impl(C, callee, inline_level, bci, InliningKind::FAILURE, msg);\n@@ -190,0 +188,8 @@\n+\n+private:\n+  static void print_inlining_impl(Compile* C, ciMethod* callee, int inline_level, int bci,\n+                                  InliningKind kind, const char* msg) {\n+    if (C->print_inlining()) {\n+      C->print_inlining(callee, inline_level, bci, kind, msg);\n+    }\n+  }\n","filename":"src\/hotspot\/share\/opto\/callGenerator.hpp","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2099,1 +2099,1 @@\n-              cg->print_inlining_late(msg);\n+              cg->print_inlining_late(InliningKind::FAILURE, msg);\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -514,1 +514,1 @@\n-  void print_inlining(ciMethod* method, int inline_level, int bci, const char* msg = nullptr) {\n+  void print_inlining(ciMethod* method, int inline_level, int bci, InliningKind kind, const char* msg = nullptr) {\n@@ -516,1 +516,1 @@\n-    CompileTask::print_inlining_inner(&ss, method, inline_level, bci, msg);\n+    CompileTask::print_inlining_inner(&ss, method, inline_level, bci, kind, msg);\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-      CompileTask::print_inlining_tty(prof_method, depth, bci);\n+      CompileTask::print_inlining_tty(prof_method, depth, bci, InliningKind::SUCCESS);\n@@ -376,1 +376,1 @@\n-      print_inlining(callee, jvms->depth() - 1, jvms->bci(), msg);\n+      print_inlining(callee, jvms->depth() - 1, jvms->bci(), InliningKind::FAILURE, msg);\n","filename":"src\/hotspot\/share\/opto\/doCall.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n-    CompileTask::print_inlining_ul(callee, jvms->depth() - 1, bci, inline_msg);\n+    CompileTask::print_inlining_ul(callee, jvms->depth() - 1, bci, InliningKind::SUCCESS, inline_msg);\n@@ -123,1 +123,1 @@\n-      C->print_inlining(callee, jvms->depth() - 1, bci, inline_msg);\n+      C->print_inlining(callee, jvms->depth() - 1, bci, InliningKind::SUCCESS, inline_msg);\n@@ -149,1 +149,1 @@\n-    CompileTask::print_inlining_ul(callee, jvms->depth() - 1, bci, msg);\n+    CompileTask::print_inlining_ul(callee, jvms->depth() - 1, bci, InliningKind::FAILURE, msg);\n@@ -151,1 +151,1 @@\n-      C->print_inlining(callee, jvms->depth() - 1, bci, msg);\n+      C->print_inlining(callee, jvms->depth() - 1, bci, InliningKind::FAILURE, msg);\n@@ -192,1 +192,1 @@\n-    CompileTask::print_inlining_ul(callee, jvms->depth() - 1, bci, inline_msg);\n+    CompileTask::print_inlining_ul(callee, jvms->depth() - 1, bci, InliningKind::SUCCESS, inline_msg);\n@@ -194,1 +194,1 @@\n-      C->print_inlining(callee, jvms->depth() - 1, bci, inline_msg);\n+      C->print_inlining(callee, jvms->depth() - 1, bci, InliningKind::SUCCESS, inline_msg);\n@@ -210,1 +210,1 @@\n-    CompileTask::print_inlining_ul(kit.callee(), jvms->depth() - 1, bci, msg);\n+    CompileTask::print_inlining_ul(kit.callee(), jvms->depth() - 1, bci, InliningKind::FAILURE, msg);\n@@ -212,1 +212,1 @@\n-      C->print_inlining(kit.callee(), jvms->depth() - 1, bci, msg);\n+      C->print_inlining(kit.callee(), jvms->depth() - 1, bci, InliningKind::FAILURE, msg);\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"}]}
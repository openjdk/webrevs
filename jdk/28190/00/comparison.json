{"files":[{"patch":"@@ -216,0 +216,1 @@\n+  static inline bool is_instance_without_asserts(oop obj);\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -129,0 +129,7 @@\n+\/\/ We need to be able to check if this is a string even when we are in an\n+\/\/ erroneous state where the klass is corrupted\/can't be read safely.\n+\/\/ This happens when printing an oop during GC error reporting.\n+bool java_lang_String::is_instance_without_asserts(oop obj) {\n+  return obj != nullptr && obj->klass_without_asserts() == vmClasses::String_klass();\n+}\n+\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.inline.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-  if (java_lang_String::is_instance(obj)) {\n+  if (java_lang_String::is_instance_without_asserts(obj)) {\n","filename":"src\/hotspot\/share\/oops\/oop.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
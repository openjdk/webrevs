{"files":[{"patch":"@@ -216,1 +216,0 @@\n-  static inline bool is_instance_without_asserts(oop obj);\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -129,7 +129,0 @@\n-\/\/ We need to be able to check if this is a string even when we are in an\n-\/\/ erroneous state where the klass is corrupted\/can't be read safely.\n-\/\/ This happens when printing an oop during GC error reporting.\n-bool java_lang_String::is_instance_without_asserts(oop obj) {\n-  return obj != nullptr && obj->klass_without_asserts() == vmClasses::String_klass();\n-}\n-\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.inline.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -86,1 +86,4 @@\n-  if (java_lang_String::is_instance_without_asserts(obj)) {\n+  \/\/ We can't use java_lang_String::is_instance since that has klass assertions enabled.\n+  \/\/ If the klass is garbage we want to just fail the check and continue printing, as\n+  \/\/ opposed to aborting the VM entirely.\n+  if (obj != nullptr && obj->klass_without_asserts() == vmClasses::String_klass()) {\n","filename":"src\/hotspot\/share\/oops\/oop.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
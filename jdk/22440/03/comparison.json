{"files":[{"patch":"@@ -26,0 +26,1 @@\n+import java.awt.Color;\n@@ -70,0 +71,23 @@\n+\n+    public void setCustomColor(Color color) {\n+        if (color != null) {\n+            String hexColor = String.format(\"#%08X\", color.getRGB());\n+            getProperties().setProperty(\"color\", hexColor);\n+        } else {\n+            getProperties().setProperty(\"color\", null);\n+        }\n+    }\n+\n+    public Color getCustomColor() {\n+        String hexColor = getProperties().get(\"color\");\n+        if (hexColor != null) {\n+            try {\n+                String hex = hexColor.startsWith(\"#\") ? hexColor.substring(1) : hexColor;\n+                int argb = (int) Long.parseLong(hex, 16);\n+                return new Color(argb, true);\n+            } catch (Exception ignored) {\n+                return null;\n+            }\n+        }\n+        return null;\n+    }\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputNode.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+    private final InputGraph inputGraph;\n@@ -69,0 +70,1 @@\n+        this.inputGraph = graph;\n@@ -131,0 +133,4 @@\n+    public InputGraph getInputGraph() {\n+        return inputGraph;\n+    }\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Diagram.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.data.InputGraph;\n@@ -156,1 +157,6 @@\n-        return color;\n+        Color customColor = inputNode.getCustomColor();\n+        if (customColor != null) {\n+            return customColor;\n+        } else {\n+            return color;\n+        }\n@@ -418,0 +424,13 @@\n+\n+\n+    public void setCustomColor(Color color) {\n+        \/\/ Apply custom color not just to this input node but to all\n+        \/\/ corresponding input nodes in the group.\n+        InputGraph graph = diagram.getInputGraph();\n+        for (InputGraph g : graph.getGroup().getGraphs()) {\n+            InputNode n = g.getNode(inputNode.getId());\n+            if (n != null) {\n+                n.setCustomColor(color);\n+            }\n+        }\n+    }\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Figure.java","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -178,0 +178,1 @@\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Slot.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+\n@@ -285,1 +286,0 @@\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/HierarchicalLayoutManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/LayoutGraph.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/LayoutLayer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -127,0 +127,1 @@\n+\n@@ -327,0 +328,11 @@\n+\n+        return !sortedUpMap.isEmpty();\n+    }\n+\n+    public void computeReversedLinkPoints(boolean reverseLeft) {\n+        initSize();\n+        reversedLinkStartPoints.clear();\n+        reversedLinkEndPoints.clear();\n+\n+        boolean hasReversedDown = computeReversedStartPoints(reverseLeft);\n+        computeReversedEndPoints(hasReversedDown != reverseLeft);\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/LayoutNode.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -229,1 +229,1 @@\n-            figure.setColor(color);\n+            figure.setCustomColor(color);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramScene.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,0 +85,1 @@\n+    private static final Color NO_COLOR = new Color(0, 0, 0, 0);\n@@ -92,2 +93,2 @@\n-        selectedColorLabel.setOpaque(true);\n-        selectedColorLabel.setBackground(Color.WHITE);\n+        selectedColorLabel.setOpaque(false); \/\/ Allow transparency\n+        selectedColorLabel.setBackground(NO_COLOR); \/\/ Set transparent background\n@@ -103,0 +104,1 @@\n+                selectedColorLabel.setOpaque(selectedColor.getAlpha() != 0);\n@@ -121,0 +123,1 @@\n+                selectedColorLabel.setOpaque(color.getAlpha() != 0);\n@@ -125,0 +128,16 @@\n+\n+        \/\/ Add \"No Color\" button\n+        JButton noColorButton = new JButton(\"No Color\");\n+        noColorButton.setOpaque(true);\n+        noColorButton.setContentAreaFilled(true);\n+        noColorButton.setBorderPainted(true);\n+        noColorButton.setPreferredSize(new Dimension(90, 24));\n+        noColorButton.setFocusPainted(false);\n+        noColorButton.addActionListener(e -> {\n+            selectedColorLabel.setBackground(NO_COLOR);\n+            selectedColorLabel.setOpaque(false);\n+            selectedColorLabel.setForeground(Color.BLACK);\n+        });\n+        colorsPanel.add(noColorButton);\n+\n+        \/\/ Add the preview label\n@@ -151,2 +170,2 @@\n-                        if (selectedColor != null) {\n-                            editor.colorSelectedFigures(selectedColor);\n+                        if (selectedColor.equals(NO_COLOR)) {\n+                            selectedColor = null;\n@@ -154,0 +173,1 @@\n+                        editor.colorSelectedFigures(selectedColor);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/ColorAction.java","additions":24,"deletions":4,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -270,0 +270,1 @@\n+        refreshColor();\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/FigureWidget.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n-import com.sun.hotspot.igv.layout.Vertex;\n@@ -33,1 +32,0 @@\n-import com.sun.hotspot.igv.view.actions.CustomSelectAction;\n@@ -43,1 +41,0 @@\n-import org.netbeans.api.visual.action.SelectProvider;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/LineWidget.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"}]}
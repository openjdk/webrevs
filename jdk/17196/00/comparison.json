{"files":[{"patch":"@@ -431,1 +431,1 @@\n-void ZDriverMajor::collect_old() {\n+void ZDriverMajor::collect_old(const ZDriverRequest& request) {\n@@ -433,0 +433,5 @@\n+\n+  \/\/ Set up soft reference policy\n+  const bool clear_soft_refs = should_clear_soft_references(request.cause());\n+  ZGeneration::old()->set_soft_reference_policy(clear_soft_refs);\n+\n@@ -445,1 +450,1 @@\n-  collect_old();\n+  collect_old(request);\n@@ -468,4 +473,0 @@\n-    \/\/ Set up soft reference policy\n-    const bool clear_soft_refs = should_clear_soft_references(request.cause());\n-    ZGeneration::old()->set_soft_reference_policy(clear_soft_refs);\n-\n@@ -481,1 +482,1 @@\n-    handle_alloc_stalls(clear_soft_refs);\n+    handle_alloc_stalls(should_clear_soft_references(request.cause()));\n","filename":"src\/hotspot\/share\/gc\/z\/zDriver.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n-  void collect_old();\n+  void collect_old(const ZDriverRequest& request);\n","filename":"src\/hotspot\/share\/gc\/z\/zDriver.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -586,1 +586,1 @@\n-  product(bool, DoLocalEscapeAnalysis, true, DIAGNOSTIC                     \\\n+  product(bool, DoLocalEscapeAnalysis, true, DIAGNOSTIC,                    \\\n","filename":"src\/hotspot\/share\/opto\/c2_globals.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,0 +56,2 @@\n+        framework.addScenarios(new Scenario(0, \"-XX:+UnlockDiagnosticVMOptions\", \"-XX:-DoLocalEscapeAnalysis\"),\n+                new Scenario(1, \"-XX:+UnlockDiagnosticVMOptions\", \"-XX:+DoLocalEscapeAnalysis\"));\n@@ -63,1 +65,1 @@\n-    @IR(failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n@@ -73,1 +75,1 @@\n-    @IR(failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n@@ -87,1 +89,1 @@\n-    @IR(failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n@@ -98,1 +100,1 @@\n-    @IR(failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC, \"1\"})\n@@ -109,1 +111,1 @@\n-    @IR(counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, counts = {IRNode.ALLOC, \"1\"})\n@@ -122,1 +124,1 @@\n-    @IR(counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, counts = {IRNode.ALLOC, \"1\"})\n@@ -145,1 +147,1 @@\n-    @IR(counts = {IRNode.LOAD_I, \"1\", IRNode.ALLOC_ARRAY, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, counts = {IRNode.LOAD_I, \"1\", IRNode.ALLOC_ARRAY, \"1\"})\n@@ -159,1 +161,1 @@\n-    @IR(failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC_ARRAY, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"}, failOn = IRNode.LOAD_I, counts = {IRNode.ALLOC_ARRAY, \"1\"})\n@@ -182,1 +184,3 @@\n-    @IR(failOn = {IRNode.DYNAMIC_CALL_OF_METHOD, \"get\", IRNode.LOAD_OF_FIELD, \"f\", IRNode.CLASS_CHECK_TRAP}, counts = {IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"DoLocalEscapeAnalysis\", \"true\"},\n+        failOn = {IRNode.DYNAMIC_CALL_OF_METHOD, \"get\", IRNode.LOAD_OF_FIELD, \"f\", IRNode.CLASS_CHECK_TRAP},\n+        counts = {IRNode.ALLOC, \"1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/escapeAnalysis\/TestLoadFolding.java","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"}]}
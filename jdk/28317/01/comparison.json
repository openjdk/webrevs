{"files":[{"patch":"@@ -513,1 +513,5 @@\n-  sysinfo(&si);\n+  int ret = sysinfo(&si);\n+  if (ret != 0) {\n+    assert(false, \"sysinfo failed in host_swap(): %s\", os::strerror(errno));\n+    return 0;\n+  }\n@@ -2450,0 +2454,2 @@\n+  } else {\n+    st->print_cr(\"OS uptime could not be retrieved.\");\n@@ -2573,1 +2579,1 @@\n-  sysinfo(&si);\n+  int ret = sysinfo(&si);\n@@ -2581,4 +2587,8 @@\n-  st->print(\", swap \" UINT64_FORMAT \"k\",\n-            ((jlong)si.totalswap * si.mem_unit) >> 10);\n-  st->print(\"(\" UINT64_FORMAT \"k free)\",\n-            ((jlong)si.freeswap * si.mem_unit) >> 10);\n+  if (ret == 0) {\n+    st->print(\", swap \" UINT64_FORMAT \"k\",\n+              ((jlong)si.totalswap * si.mem_unit) >> 10);\n+    st->print(\"(\" UINT64_FORMAT \"k free)\",\n+              ((jlong)si.freeswap * si.mem_unit) >> 10);\n+  } else {\n+    st->print(\", swap could not be determined\");\n+  }\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -391,2 +391,6 @@\n-        sysinfo(SI_ISALIST, list, sizeof(list));\n-        sprops.cpu_isalist = strdup(list);\n+        int ret = sysinfo(SI_ISALIST, list, sizeof(list));\n+        if (ret == 0) {\n+            sprops.cpu_isalist = strdup(list);\n+        } else {\n+            sprops.cpu_isalist = NULL;\n+        }\n","filename":"src\/java.base\/unix\/native\/libjava\/java_props_md.c","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}
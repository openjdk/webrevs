{"files":[{"patch":"@@ -9069,5 +9069,1 @@\n-  format %{\n-    \"ble $dst, $src, skip\\t#@minI_reg_reg\\n\\t\"\n-    \"mv  $dst, $src\\n\\t\"\n-    \"skip:\"\n-  %}\n+  format %{\"minI_reg_reg $dst, $dst, $src\\t#@minI_reg_reg\\n\\t\"%}\n@@ -9076,4 +9072,2 @@\n-    Label Lskip;\n-    __ ble(as_Register($dst$$reg), as_Register($src$$reg), Lskip);\n-    __ mv(as_Register($dst$$reg), as_Register($src$$reg));\n-    __ bind(Lskip);\n+    __ cmov_gt(as_Register($dst$$reg), as_Register($src$$reg),\n+               as_Register($dst$$reg), as_Register($src$$reg));\n@@ -9090,5 +9084,1 @@\n-  format %{\n-    \"bge $dst, $src, skip\\t#@maxI_reg_reg\\n\\t\"\n-    \"mv  $dst, $src\\n\\t\"\n-    \"skip:\"\n-  %}\n+  format %{\"maxI_reg_reg $dst, $dst, $src\\t#@maxI_reg_reg\\n\\t\"%}\n@@ -9097,4 +9087,2 @@\n-    Label Lskip;\n-    __ bge(as_Register($dst$$reg), as_Register($src$$reg), Lskip);\n-    __ mv(as_Register($dst$$reg), as_Register($src$$reg));\n-    __ bind(Lskip);\n+    __ cmov_lt(as_Register($dst$$reg), as_Register($src$$reg),\n+               as_Register($dst$$reg), as_Register($src$$reg));\n@@ -9116,5 +9104,1 @@\n-  format %{\n-    \"blez $dst, skip\\t#@minI_reg_zero\\n\\t\"\n-    \"mv   $dst, zr\\n\\t\"\n-    \"skip:\"\n-  %}\n+  format %{\"minI_reg_zero $dst, $dst, zr\\t#@minI_reg_zero\\n\\t\"%}\n@@ -9123,4 +9107,2 @@\n-    Label Lskip;\n-    __ blez(as_Register($dst$$reg), Lskip);\n-    __ mv(as_Register($dst$$reg), zr);\n-    __ bind(Lskip);\n+    __ cmov_gt(as_Register($dst$$reg), zr,\n+               as_Register($dst$$reg), zr);\n@@ -9138,5 +9120,1 @@\n-  format %{\n-    \"bgez $dst, skip\\t#@maxI_reg_zero\\n\\t\"\n-    \"mv   $dst, zr\\n\\t\"\n-    \"skip:\"\n-  %}\n+  format %{\"maxI_reg_zero $dst, $dst, zr\\t#@maxI_reg_zero\\n\\t\"%}\n@@ -9145,4 +9123,2 @@\n-    Label Lskip;\n-    __ bgez(as_Register($dst$$reg), Lskip);\n-    __ mv(as_Register($dst$$reg), zr);\n-    __ bind(Lskip);\n+    __ cmov_lt(as_Register($dst$$reg), zr,\n+               as_Register($dst$$reg), zr);\n@@ -9161,8 +9137,1 @@\n-  format %{\n-    \"ble $src1, $src2, Lsrc1\\t#@minI_rReg\\n\\t\"\n-    \"mv $dst, $src2\\n\\t\"\n-    \"j Ldone\\n\\t\"\n-    \"Lsrc1:\\n\\t\"\n-    \"mv $dst, $src1\\n\\t\"\n-    \"Ldone:\"\n-  %}\n+  format %{\"minI_rReg $dst, $src1, $src2\\t#@minI_rReg\\n\\t\"%}\n@@ -9171,5 +9140,0 @@\n-    Label Lsrc1, Ldone;\n-    __ ble(as_Register($src1$$reg), as_Register($src2$$reg), Lsrc1);\n-    __ mv(as_Register($dst$$reg), as_Register($src2$$reg));\n-    __ j(Ldone);\n-    __ bind(Lsrc1);\n@@ -9177,1 +9141,2 @@\n-    __ bind(Ldone);\n+    __ cmov_gt(as_Register($src1$$reg), as_Register($src2$$reg),\n+               as_Register($dst$$reg), as_Register($src2$$reg));\n@@ -9190,8 +9155,1 @@\n-  format %{\n-    \"bge $src1, $src2, Lsrc1\\t#@maxI_rReg\\n\\t\"\n-    \"mv $dst, $src2\\n\\t\"\n-    \"j Ldone\\n\\t\"\n-    \"Lsrc1:\\n\\t\"\n-    \"mv $dst, $src1\\n\\t\"\n-    \"Ldone:\"\n-  %}\n+  format %{\"maxI_rReg $dst, $src1, $src2\\t#@maxI_rReg\\n\\t\"%}\n@@ -9200,5 +9158,0 @@\n-    Label Lsrc1, Ldone;\n-    __ bge(as_Register($src1$$reg), as_Register($src2$$reg), Lsrc1);\n-    __ mv(as_Register($dst$$reg), as_Register($src2$$reg));\n-    __ j(Ldone);\n-    __ bind(Lsrc1);\n@@ -9206,2 +9159,2 @@\n-    __ bind(Ldone);\n-\n+    __ cmov_lt(as_Register($src1$$reg), as_Register($src2$$reg),\n+               as_Register($dst$$reg), as_Register($src2$$reg));\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":18,"deletions":65,"binary":false,"changes":83,"status":"modified"}]}
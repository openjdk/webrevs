{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -191,0 +191,4 @@\n+        requireNonNull(lookup);\n+        requireNonNull(invocationType);\n+        requireNonNull(labels);\n+\n@@ -197,1 +201,1 @@\n-        for (Object l : labels) { \/\/ implicit null-check\n+        for (Object l : labels) {\n@@ -295,0 +299,4 @@\n+        requireNonNull(lookup);\n+        requireNonNull(invocationType);\n+        requireNonNull(labels);\n+\n@@ -302,1 +310,1 @@\n-        labels = labels.clone(); \/\/ implicit null check\n+        labels = labels.clone();\n@@ -310,1 +318,1 @@\n-                    convertEnumConstants(lookup, enumClass, labels[i]);\n+                    convertEnumConstants(enumClass, labels[i]);\n@@ -334,1 +342,1 @@\n-    private static <E extends Enum<E>> Object convertEnumConstants(MethodHandles.Lookup lookup, Class<?> enumClassTemplate, Object label) {\n+    private static <E extends Enum<E>> Object convertEnumConstants(Class<?> enumClassTemplate, Object label) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/runtime\/SwitchBootstraps.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -450,0 +450,27 @@\n+\n+    public void testNullLookup() throws Throwable {\n+        try {\n+            MethodType switchType = MethodType.methodType(int.class, Object.class, int.class);\n+            BSM_TYPE_SWITCH.invoke(null, \"\", switchType, Object.class);\n+            fail(\"Didn't get the expected exception.\");\n+        } catch (NullPointerException ex) {\n+            \/\/OK\n+        }\n+        enum E {}\n+        try {\n+            MethodType switchType = MethodType.methodType(int.class, E.class, int.class);\n+            BSM_ENUM_SWITCH.invoke(null, \"\", switchType,\n+                                   new Object[] {});\n+            fail(\"Didn't get the expected exception.\");\n+        } catch (NullPointerException ex) {\n+            \/\/OK\n+        }\n+        try {\n+            MethodType switchType = MethodType.methodType(int.class, E.class, int.class);\n+            BSM_ENUM_SWITCH.invoke(null, \"\", switchType,\n+                                   new Object[] {\"A\"});\n+            fail(\"Didn't get the expected exception.\");\n+        } catch (NullPointerException ex) {\n+            \/\/OK\n+        }\n+    }\n","filename":"test\/jdk\/java\/lang\/runtime\/SwitchBootstrapsTest.java","additions":28,"deletions":1,"binary":false,"changes":29,"status":"modified"}]}
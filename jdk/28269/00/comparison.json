{"files":[{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +27,1 @@\n- * @bug 8179678\n+ * @bug 8179678 8297933 8371628\n@@ -79,0 +80,11 @@\n+    static void test6(int x) {\n+        int[] src = new int[10];\n+        int l = 0;\n+        while (l < 1) { l++; } \/\/ Delay folding.\n+        \/\/ The bug relies on idealizations of ArrayCopy source and destination offsets but this would be limited if carried out before IGVN.\n+\n+        System.arraycopy(src, x + 1, src, x + 1, l);\n+        \/\/ source and destination offsets are a shared AddNode that would go away during LShiftL idealization\n+        \/\/ -- causing a crash if not for a hook node retaining its liveness.\n+    }\n+\n@@ -104,0 +116,1 @@\n+            test6(0);\n","filename":"test\/hotspot\/jtreg\/compiler\/arraycopy\/TestACSameSrcDst.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"}]}
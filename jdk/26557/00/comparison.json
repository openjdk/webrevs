{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -250,0 +250,1 @@\n+            config.tagletManager.checkTags(holder, t.getDescription());\n@@ -367,3 +368,4 @@\n-        if (i == -1) {\n-            \/\/ Since the description does not contain {@inheritDoc}, we either add a new entry, or\n-            \/\/ append to the current one. Here's an example of when we add a new entry:\n+        \/\/ Constructors do not support {@inheritDoc}, but we still want to render the remaining tag.\n+        if (i == -1 || holder.getKind() != ElementKind.METHOD) {\n+            \/\/ Since the description does not contain or support {@inheritDoc}, we either add a new entry,\n+            \/\/ or append to the current one. Here's an example of when we add a new entry:\n@@ -390,1 +392,0 @@\n-            assert holder.getKind() == ElementKind.METHOD : holder.getKind(); \/\/ only methods can use {@inheritDoc}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/taglets\/ThrowsTaglet.java","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -127,1 +127,1 @@\n-doclet.tag_misuse=Tag {0} cannot be used in {1} documentation.  It can only be used in the following types of documentation: {2}.\n+doclet.tag_misuse=Tag {0} cannot be used in {1} documentation. It can only be used in the following types of documentation: {2}.\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8284299 8287379 8298525 6934301\n+ * @bug 8284299 8287379 8298525 6934301 8361316\n@@ -201,1 +201,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -204,1 +204,1 @@\n-                            \"\"\",\n+                        \"\"\",\n@@ -207,1 +207,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -210,1 +210,1 @@\n-                            \"\"\",\n+                        \"\"\",\n@@ -213,1 +213,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -216,1 +216,1 @@\n-                            \"\"\");\n+                        \"\"\");\n@@ -259,1 +259,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -262,1 +262,1 @@\n-                                       \"\"\",\n+                        \"\"\",\n@@ -265,1 +265,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -268,1 +268,1 @@\n-                                       \"\"\",\n+                        \"\"\",\n@@ -271,1 +271,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -274,1 +274,1 @@\n-                                       \"\"\");\n+                        \"\"\");\n@@ -316,1 +316,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -322,1 +322,1 @@\n-                          It can only be used in the following types of documentation: method.\n+                         It can only be used in the following types of documentation: method.\n@@ -327,0 +327,69 @@\n+\n+    @Test\n+    public void testUnsupportedElement(Path base) throws Exception {\n+        Path src = base.resolve(\"src\");\n+        tb.writeJavaFiles(src,\n+                \"\"\"\n+                        \/**\n+                         * A simple class\n+                         *\/\n+                        public class A {\n+                            \/**\n+                             * A constant {@inheritDoc} ...\n+                             *\/\n+                            public final static int C = 10;\n+\n+                            \/**\n+                             * A constructor {@inheritDoc} ...\n+                             * @param p a parameter {@inheritDoc} ...\n+                             * @throws Exception an exception {@inheritDoc} ...\n+                             *\/\n+                            public A(int p) throws Exception {\n+                            }\n+                        }\n+                        \"\"\");\n+        javadoc(\"-Xdoclint:none\",\n+                \"--no-platform-links\",\n+                \"-d\", base.resolve(\"out\").toString(),\n+                src.resolve(\"A.java\").toString());\n+        checkExit(Exit.OK);\n+        checkOutput(Output.OUT, true,\n+                \"\"\"\n+                        A.java:6: warning: Tag @inheritDoc cannot be used in field documentation. \\\n+                        It can only be used in the following types of documentation: method.\n+                             * A constant {@inheritDoc} ...\n+                                          ^\n+                        \"\"\",\n+                \"\"\"\n+                        A.java:11: warning: Tag @inheritDoc cannot be used in constructor documentation. \\\n+                        It can only be used in the following types of documentation: method.\n+                             * A constructor {@inheritDoc} ...\n+                                             ^\n+                        \"\"\",\n+                \"\"\"\n+                        A.java:12: warning: Tag @inheritDoc cannot be used in constructor documentation. \\\n+                        It can only be used in the following types of documentation: method.\n+                             * @param p a parameter {@inheritDoc} ...\n+                                                    ^\n+                        \"\"\",\n+                \"\"\"\n+                        A.java:13: warning: Tag @inheritDoc cannot be used in constructor documentation. \\\n+                        It can only be used in the following types of documentation: method.\n+                             * @throws Exception an exception {@inheritDoc} ...\n+                                                              ^\n+                        \"\"\");\n+\n+        checkOutput(\"A.html\", true,\n+                \"\"\"\n+                        <div class=\"member-signature\"><span class=\"modifiers\">public static final<\/span>&nbsp;\\\n+                        <span class=\"return-type\">int<\/span>&nbsp;<span class=\"element-name\">C<\/span><\/div>\n+                        <div class=\"block\">A constant  ...<\/div>\"\"\",\n+                \"\"\"\n+                        <div class=\"block\">A constructor  ...<\/div>\n+                        <dl class=\"notes\">\n+                        <dt>Parameters:<\/dt>\n+                        <dd><code>p<\/code> - a parameter  ...<\/dd>\n+                        <dt>Throws:<\/dt>\n+                        <dd><code>java.lang.Exception<\/code> - an exception  ...<\/dd>\n+                        <\/dl>\"\"\");\n+    }\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testInheritDocWithinInappropriateTag\/TestInheritDocWithinInappropriateTag.java","additions":85,"deletions":16,"binary":false,"changes":101,"status":"modified"}]}
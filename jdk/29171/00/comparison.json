{"files":[{"patch":"@@ -492,1 +492,3 @@\n-    remove_range(0, idx);\n+    if (idx > 0) {\n+      remove_range(0, idx);\n+    }\n","filename":"src\/hotspot\/share\/utilities\/growableArray.hpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -235,0 +235,71 @@\n+  template <typename ArrayClass>\n+  static void test_remove_range(ArrayClass* a) {\n+    \/\/ Seed initial\n+    for (int i = 0; i < 10; i++) {\n+      a->append(i);\n+    }\n+    ASSERT_EQ(a->length(), 10);\n+\n+    \/\/ Remove one element from head, should result in [1 ... 9]\n+    a->remove_range(0, 1);\n+    ASSERT_EQ(a->length(), 9);\n+    for (int i = 0; i < a->length(); i++) {\n+      ASSERT_EQ(a->at(i), i + 1);\n+    }\n+\n+    \/\/ Remove one element from tail, should result in [1 ... 8]\n+    a->remove_range(8, 9);\n+    ASSERT_EQ(a->length(), 8);\n+    for (int i = 0; i < a->length(); i++) {\n+      ASSERT_EQ(a->at(i), i + 1);\n+    }\n+\n+    \/\/ Remove some elements from the middle, should result in [1 2 7 8]\n+    a->remove_range(2, 6);\n+    ASSERT_EQ(a->length(), 4);\n+    ASSERT_EQ(a->at(0), 1);\n+    ASSERT_EQ(a->at(1), 2);\n+    ASSERT_EQ(a->at(2), 7);\n+    ASSERT_EQ(a->at(3), 8);\n+\n+    \/\/ Remove the rest of the elements\n+    a->remove_range(0, 4);\n+    ASSERT_EQ(a->length(), 0);\n+\n+    \/\/ Seed again\n+    for (int i = 0; i < 10; i++) {\n+      a->append(i);\n+    }\n+    ASSERT_EQ(a->length(), 10);\n+\n+    \/\/ Remove nothing, should still be [0 ... 9]\n+    a->remove_till(0);\n+    ASSERT_EQ(a->length(), 10);\n+\n+    \/\/ Remove one element from head, should result in [1 ... 9]\n+    a->remove_till(1);\n+    ASSERT_EQ(a->length(), 9);\n+    for (int i = 0; i < a->length(); i++) {\n+      ASSERT_EQ(a->at(i), i + 1);\n+    }\n+\n+    \/\/ Remove all elements except two last, should result in [8 9]\n+    a->remove_till(7);\n+    ASSERT_EQ(a->length(), 2);\n+    ASSERT_EQ(a->at(0), 8);\n+    ASSERT_EQ(a->at(1), 9);\n+\n+    \/\/ Remove one leading element, should result in [9]\n+    a->remove_till(1);\n+    ASSERT_EQ(a->length(), 1);\n+    ASSERT_EQ(a->at(0), 9);\n+\n+    \/\/ Remove the remaining element, should result in []\n+    a->remove_till(1);\n+    ASSERT_EQ(a->length(), 0);\n+\n+    \/\/ Remove nothing on empty list\n+    a->remove_till(0);\n+    ASSERT_EQ(a->length(), 0);\n+  }\n+\n@@ -240,1 +311,2 @@\n-    Iterator\n+    Iterator,\n+    RemoveRange\n@@ -262,0 +334,4 @@\n+      case RemoveRange:\n+        test_remove_range(a);\n+        break;\n+\n@@ -454,0 +530,4 @@\n+TEST_VM_F(GrowableArrayTest, remove_range) {\n+  with_all_types_all_0(RemoveRange);\n+}\n+\n","filename":"test\/hotspot\/gtest\/utilities\/test_growableArray.cpp","additions":81,"deletions":1,"binary":false,"changes":82,"status":"modified"}]}
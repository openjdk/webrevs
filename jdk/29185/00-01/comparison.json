{"files":[{"patch":"@@ -776,6 +776,1 @@\n-\n-      stringStream ss;\n-      ss.print_cr(\"Dead loop detected, node references itself\");\n-      ss.print(\"#\\n#  Node: \");\n-      n->dump(\"\", false, &ss);\n-      fatal(\"%s\", ss.as_string());\n+      fatal(\"Dead loop detected, node references itself: %s\", n->Name());\n@@ -788,1 +783,1 @@\n-      if (in->in(j) == n || in->in(j) == in) {\n+      if (in->in(j) == n) {\n@@ -790,8 +785,6 @@\n-\n-        stringStream ss;\n-        ss.print_cr(\"Dead loop detected, node input references current node or itself\");\n-        ss.print(\"#\\n#  Input: \");\n-        in->dump(\"\", false, &ss);\n-        ss.print(\"#\\n#  Node: \");\n-        n->dump(\"\", false, &ss);\n-        fatal(\"%s\", ss.as_string());\n+        fatal(\"Dead loop detected, node input references current node: %s -> %s\",\n+              in->Name(), n->Name());\n+      }\n+      if (in->in(j) == in) {\n+        n->dump_bfs(100, nullptr, \"\");\n+        fatal(\"Dead loop detected, node input references itself: %s\", in->Name());\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":8,"deletions":15,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -166,2 +166,4 @@\n-  size_t len = strlen(mode) + (is_vm_statically_linked() ? strlen(static_info) : 0) +\n-               (CDSConfig::is_using_archive() ? strlen(sharing_info) : 0) + 1;\n+  size_t len = strlen(mode) +\n+               (is_vm_statically_linked() ? strlen(static_info) : 0) +\n+               (CDSConfig::is_using_archive() ? strlen(sharing_info) : 0) +\n+               1;\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    static String VMType = null;\n+    static String VMType;\n@@ -64,8 +64,11 @@\n-        if (!Platform.isStatic()) {\n-            if (Platform.isServer()) {\n-                VMType = \"-server\";\n-            } else if (Platform.isClient()) {\n-                VMType = \"-client\";\n-            } else if (Platform.isMinimal()) {\n-                VMType = \"-minimal\";\n-            }\n+        if (Platform.isStatic()) {\n+            \/\/ -server|-client|-minimal flags are not supported on static JDK.\n+            VMType = null;\n+        } else if (Platform.isServer()) {\n+            VMType = \"-server\";\n+        } else if (Platform.isClient()) {\n+            VMType = \"-client\";\n+        } else if (Platform.isMinimal()) {\n+            VMType = \"-minimal\";\n+        } else {\n+            VMType = null;\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/OptionsValidation\/common\/optionsvalidation\/JVMOptionsUtils.java","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"}]}
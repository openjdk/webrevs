{"files":[{"patch":"@@ -234,0 +234,4 @@\n+  if (p2u(addr) < MAX2(os::vm_min_address(), (size_t)16 * 0x100000 \/* 16 MB *\/)) {\n+    return false; \/\/ bail out\n+  }\n+\n@@ -242,2 +246,7 @@\n-    const uint8_t* here = align_down(addr, smallest_possible_alignment);\n-    const uint8_t* const end = here - (0x1000 + sizeof(MallocHeader)); \/\/ stop searching after 4k\n+    uintptr_t here = (uintptr_t)align_down(addr, smallest_possible_alignment);\n+    if (here == 0) {\n+      return false; \/\/ bail out\n+    }\n+    uintptr_t end = (here > (0x1000 + sizeof(MallocHeader)))\n+                      ? here - (0x1000 + sizeof(MallocHeader)) \/\/ stop searching after 4k\n+                      : 0;\n@@ -246,3 +255,2 @@\n-      if (!os::is_readable_range(here, here + sizeof(MallocHeader))) {\n-        \/\/ Probably OOB, give up\n-        break;\n+      if (!os::is_readable_range((void*)here, (void*)(here + sizeof(MallocHeader)))) {\n+        break; \/\/ Probably OOB, give up\n","filename":"src\/hotspot\/share\/nmt\/mallocTracker.cpp","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"}]}
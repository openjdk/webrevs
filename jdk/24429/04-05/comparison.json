{"files":[{"patch":"@@ -55,1 +55,0 @@\n-    private byte[] extraSalt;\n@@ -57,1 +56,0 @@\n-    private int extraIterations = -1;\n@@ -111,8 +109,0 @@\n-        }\n-\n-        \/\/ Get the old salt.\n-        this.extraSalt = macData[1].getOctetString();\n-\n-        \/\/ Old iterations are optional. The default value is 1.\n-        if (macData.length > 2) {\n-            this.extraIterations = macData[2].getInteger();\n@@ -120,5 +110,6 @@\n-            this.extraIterations = 1;\n-        }\n-        if (!this.digestAlgorithmName.equals(\"PBMAC1\")) {\n-            this.macSalt = this.extraSalt;\n-            this.iterations = this.extraIterations;\n+            this.macSalt = macData[1].getOctetString();\n+            if (macData.length > 2) {\n+                this.iterations = macData[2].getInteger();\n+            } else {\n+                this.iterations = 1;\n+            }\n@@ -129,2 +120,1 @@\n-            String kdfHmac, int keyLength, byte[] extraSalt,\n-            int extraIterationCount) throws NoSuchAlgorithmException {\n+            String kdfHmac, int keyLength) throws NoSuchAlgorithmException {\n@@ -165,2 +155,0 @@\n-            this.extraSalt = extraSalt;\n-            this.extraIterations = extraIterationCount;\n@@ -200,8 +188,0 @@\n-    byte[] getExtraSalt() {\n-        return this.extraSalt;\n-    }\n-\n-    int getExtraIterations() {\n-        return this.extraIterations;\n-    }\n-\n@@ -262,6 +242,2 @@\n-            tmp0.putOctetString(Objects.requireNonNullElse(this.extraSalt, not_used));\n-            if (this.extraIterations != -1) {\n-                tmp0.putInteger(this.extraIterations);\n-            } else {\n-                tmp0.putInteger(1);\n-            }\n+            tmp0.putOctetString(not_used);\n+            tmp0.putInteger(1);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/pkcs12\/MacData.java","additions":9,"deletions":33,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -179,2 +179,0 @@\n-    private byte[] extraSalt = null;\n-    private int extraIterationCount = -1;\n@@ -1487,1 +1485,0 @@\n-        boolean writePBMAC1 = false;\n@@ -1501,1 +1498,0 @@\n-            writePBMAC1 = true;\n@@ -1530,1 +1526,1 @@\n-                    kdfHmac, keyLength, extraSalt, extraIterationCount);\n+                    kdfHmac, keyLength);\n@@ -2209,2 +2205,0 @@\n-                        extraSalt = macData.getExtraSalt();\n-                        extraIterationCount = macData.getExtraIterations();\n@@ -2222,4 +2216,0 @@\n-                        \/\/ save in extra in case we write out as PBMAC1\n-                        extraSalt = salt;\n-                        extraIterationCount = ic;\n-\n","filename":"src\/java.base\/share\/classes\/sun\/security\/pkcs12\/PKCS12KeyStore.java","additions":1,"deletions":11,"binary":false,"changes":12,"status":"modified"}]}
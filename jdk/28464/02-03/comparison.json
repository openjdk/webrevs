{"files":[{"patch":"@@ -60,0 +60,2 @@\n+        Field field;\n+        int modifiers;\n@@ -61,2 +63,2 @@\n-            Field field = tclass.getDeclaredField(fieldName);\n-            int modifiers = field.getModifiers();\n+            field = tclass.getDeclaredField(fieldName);\n+            modifiers = field.getModifiers();\n@@ -64,0 +66,3 @@\n+        } catch (Exception ex) {\n+            throw new RuntimeException(ex);\n+        }\n@@ -65,9 +70,1 @@\n-            Class<?> fieldType = field.getType();\n-\n-            if (expectedType == int.class && fieldType != int.class) {\n-                throw new IllegalArgumentException(\"Must be integer type\");\n-            } else if (expectedType == long.class && fieldType != long.class) {\n-                throw new IllegalArgumentException(\"Must be long type\");\n-            } else if (expectedType == null && fieldType.isPrimitive()) {\n-                throw new IllegalArgumentException(\"Must be reference type\");\n-            }\n+        Class<?> fieldType = field.getType();\n@@ -75,3 +72,7 @@\n-            if (!Modifier.isVolatile(modifiers)) {\n-                throw new IllegalArgumentException(\"Must be volatile type\");\n-            }\n+        if (expectedType == int.class && fieldType != int.class) {\n+            throw new IllegalArgumentException(\"Must be integer type\");\n+        } else if (expectedType == long.class && fieldType != long.class) {\n+            throw new IllegalArgumentException(\"Must be long type\");\n+        } else if (expectedType == null && fieldType.isPrimitive()) {\n+            throw new IllegalArgumentException(\"Must be reference type\");\n+        }\n@@ -79,3 +80,3 @@\n-            if (Modifier.isStatic(modifiers)) {\n-                throw new IllegalArgumentException(\"Must not be a static field\");\n-            }\n+        if (!Modifier.isVolatile(modifiers)) {\n+            throw new IllegalArgumentException(\"Must be volatile type\");\n+        }\n@@ -83,3 +84,2 @@\n-            return field;\n-        } catch (Exception ex) {\n-            throw new RuntimeException(ex);\n+        if (Modifier.isStatic(modifiers)) {\n+            throw new IllegalArgumentException(\"Must not be a static field\");\n@@ -87,0 +87,2 @@\n+\n+        return field;\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/atomic\/FieldUpdaterUtil.java","additions":22,"deletions":20,"binary":false,"changes":42,"status":"modified"}]}
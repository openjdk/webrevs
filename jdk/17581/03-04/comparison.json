{"files":[{"patch":"@@ -292,1 +292,0 @@\n-\/\/ do we need to handle container envs separately ?\n@@ -294,4 +293,9 @@\n-  struct sysinfo si;\n-  int ret = sysinfo(&si);\n-  if (ret != 0) {\n-    return -1;\n+  if (OSContainer::is_containerized()) {\n+    return (jlong)(OSContainer::memory_and_swap_limit_in_bytes() - OSContainer::memory_limit_in_bytes());\n+  } else {\n+    struct sysinfo si;\n+    int ret = sysinfo(&si);\n+    if (ret != 0) {\n+      return -1;\n+    }\n+    return  (jlong)(si.totalswap * si.mem_unit);\n@@ -299,1 +303,0 @@\n-  return  (jlong)(si.totalswap * si.mem_unit);\n@@ -303,0 +306,1 @@\n+  \/\/ TODO support free swap space in container APIs\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"}]}
{"files":[{"patch":"@@ -36,0 +36,1 @@\n+import java.util.regex.Pattern;\n@@ -1245,1 +1246,2 @@\n-                .filter(p -> !Files.isDirectory(p))\n+                .filter(p -> p.toFile().isFile())\n+                .filter(p -> p.getFileName().toString().matches(\"africa|antarctica|asia|australasia|backward|etcetera|europe|northamerica|southamerica\"))\n@@ -1276,0 +1278,5 @@\n+    \/\/\n+    \/\/ The default entries from CLDR's windowsZones.xml file can be modified\n+    \/\/ with <tzDataDir>\/tzmappings.override where mapping overrides\n+    \/\/ can be specified.\n+    private static Pattern OVERRIDE_PATTERN = Pattern.compile(\"(?<win>([^:]+:[^:]+)):(?<java>[^:]+):\");\n@@ -1278,0 +1285,14 @@\n+        var override = Path.of(tzDataDir, \"tzmappings.override\");\n+        if (override.toFile().exists()) {\n+            Files.readAllLines(override).stream()\n+                .map(String::trim)\n+                .filter(o -> !o.isBlank() && !o.startsWith(\"#\"))\n+                .forEach(o -> {\n+                    var m = OVERRIDE_PATTERN.matcher(o);\n+                    if (m.matches()) {\n+                        handlerWinZones.put(m.group(\"win\"), m.group(\"java\"));\n+                    } else {\n+                        System.out.printf(\"Unrecognized tzmappings override: %s. Ignored%n\", o);\n+                    }\n+                });\n+        }\n","filename":"make\/jdk\/src\/classes\/build\/tools\/cldrconverter\/CLDRConverter.java","additions":22,"deletions":1,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -0,0 +1,32 @@\n+#\n+# Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+# Extra definitions for Windows \/lib\/tzmappings file. These entries\n+# replace the existing (Windows Zone Name):(REGION) entries, or are added\n+# as new entries\n+\n+# Example entries\n+# Foo Standard Time:US:America\/Los_Angeles:\n+# Bar Standard Time:001:Asia\/Tokyo:\n","filename":"src\/java.base\/share\/data\/tzdata\/tzmappings.override","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"}]}
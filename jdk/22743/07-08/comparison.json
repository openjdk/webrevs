{"files":[{"patch":"@@ -1919,11 +1919,1 @@\n-      \/\/ Note that this may either be a \"fresh\" mapping into unreserved address\n-      \/\/ space (Windows, first mapping attempt), or a mapping into pre-reserved\n-      \/\/ space (Posix). See also comment in MetaspaceShared::map_archives().\n-      char* mapped_base = r->mapped_base();\n-      size_t size = r->used_aligned();\n-\n-      assert(mapped_base != nullptr, \"must be initialized\");\n-      assert(rs.base() <= mapped_base && mapped_base + size <= rs.end(),\n-               PTR_FORMAT \" <= \" PTR_FORMAT \" < \" PTR_FORMAT \" <= \" PTR_FORMAT,\n-               p2i(rs.base()), p2i(mapped_base), p2i(mapped_base + size), p2i(rs.end()));\n-      r->set_in_reserved_space(rs.is_reserved());\n+      assert(r->mapped_base() != nullptr, \"must be initialized\");\n@@ -1936,0 +1926,11 @@\n+    char* mapped_base = r->mapped_base();\n+    size_t size = r->used_aligned();\n+\n+    \/\/ Only for Posix: verify that the region is inside the reserved space\n+    if (rs.is_reserved()) {\n+      assert(rs.base() <= mapped_base && mapped_base + size <= rs.end(),\n+                PTR_FORMAT \" <= \" PTR_FORMAT \" < \" PTR_FORMAT \" <= \" PTR_FORMAT,\n+                p2i(rs.base()), p2i(mapped_base), p2i(mapped_base + size), p2i(rs.end()));\n+    }\n+    r->set_in_reserved_space(rs.is_reserved());\n+\n","filename":"src\/hotspot\/share\/cds\/filemap.cpp","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -862,2 +862,2 @@\n-  phase->replace_ctrl_node_and_forward_ctrl_and_idom(outer, new_outer);\n-  phase->replace_ctrl_node_and_forward_ctrl_and_idom(le, new_le);\n+  phase->replace_node_and_forward_ctrl(outer, new_outer);\n+  phase->replace_node_and_forward_ctrl(le, new_le);\n@@ -1327,1 +1327,1 @@\n-      phase->replace_ctrl_node_and_forward_ctrl_and_idom(head, new_head);\n+      phase->replace_node_and_forward_ctrl(head, new_head);\n@@ -1780,1 +1780,1 @@\n-            _phase->replace_ctrl_node_and_forward_ctrl_and_idom(u, n);\n+            _phase->replace_node_and_forward_ctrl(u, n);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahSupport.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-    replace_ctrl_node_and_forward_ctrl_and_idom(uncommon_proj_orig, uncommon_trap);\n+    replace_node_and_forward_ctrl(uncommon_proj_orig, uncommon_trap);\n","filename":"src\/hotspot\/share\/opto\/loopPredicate.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4074,1 +4074,1 @@\n-    replace_ctrl_node_and_forward_ctrl_and_idom(outer_out, in);\n+    replace_node_and_forward_ctrl(outer_out, in);\n@@ -4083,1 +4083,1 @@\n-  replace_ctrl_node_and_forward_ctrl_and_idom(exit, result_ctrl);\n+  replace_node_and_forward_ctrl(exit, result_ctrl);\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -525,4 +525,4 @@\n-  \/\/ The replace_ctrl_node_and_forward_ctrl_and_idom ensures that any get_ctrl that used\n-  \/\/ to have multiversion_slow_proj as their control are forwarded to the new region node\n-  \/\/ as their control.\n-  replace_ctrl_node_and_forward_ctrl_and_idom(multiversion_slow_proj, region);\n+  \/\/ The replace_node_and_forward_ctrl ensures that any get_ctrl that used to have\n+  \/\/ multiversion_slow_proj as their control are forwarded to the new region node as\n+  \/\/ their control.\n+  replace_node_and_forward_ctrl(multiversion_slow_proj, region);\n","filename":"src\/hotspot\/share\/opto\/loopUnswitch.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1712,2 +1712,2 @@\n-  replace_ctrl_node_and_forward_ctrl_and_idom(head, new_inner_head);\n-  replace_ctrl_node_and_forward_ctrl_and_idom(exit_test, new_inner_exit);\n+  replace_node_and_forward_ctrl(head, new_inner_head);\n+  replace_node_and_forward_ctrl(exit_test, new_inner_exit);\n@@ -2385,1 +2385,1 @@\n-      replace_ctrl_node_and_forward_ctrl_and_idom(backedge_sfpt, iftrue);\n+      replace_node_and_forward_ctrl(backedge_sfpt, iftrue);\n@@ -2486,2 +2486,2 @@\n-    replace_ctrl_node_and_forward_ctrl_and_idom(iffalse, iff2);\n-    replace_ctrl_node_and_forward_ctrl_and_idom(iftrue,  ift2);\n+    replace_node_and_forward_ctrl(iffalse, iff2);\n+    replace_node_and_forward_ctrl(iftrue,  ift2);\n@@ -2502,1 +2502,1 @@\n-  replace_ctrl_node_and_forward_ctrl_and_idom(iff, le); \/\/ fix 'get_ctrl'\n+  replace_node_and_forward_ctrl(iff, le); \/\/ fix 'get_ctrl'\n@@ -2528,1 +2528,1 @@\n-  replace_ctrl_node_and_forward_ctrl_and_idom(x, l);\n+  replace_node_and_forward_ctrl(x, l);\n@@ -2554,1 +2554,1 @@\n-      replace_ctrl_node_and_forward_ctrl_and_idom(sfpt, sfpt->in(TypeFunc::Control));\n+      replace_node_and_forward_ctrl(sfpt, sfpt->in(TypeFunc::Control));\n@@ -3519,1 +3519,1 @@\n-    iloop->replace_ctrl_node_and_forward_ctrl_and_idom(outer_le, new_end);\n+    iloop->replace_node_and_forward_ctrl(outer_le, new_end);\n@@ -4490,1 +4490,1 @@\n-        phase->replace_ctrl_node_and_forward_ctrl_and_idom(n, n->in(TypeFunc::Control));\n+        phase->replace_node_and_forward_ctrl(n, n->in(TypeFunc::Control));\n@@ -6148,1 +6148,1 @@\n-            replace_ctrl_node_and_forward_ctrl_and_idom(n, in); \/\/ Pull safepoint now\n+            replace_node_and_forward_ctrl(n, in); \/\/ Pull safepoint now\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -895,1 +895,1 @@\n-  \/\/            installed. See: install_ctrl_and_idom_forwarding\n+  \/\/            installed. See: forward_ctrl\n@@ -965,2 +965,2 @@\n-  \/\/ control nodes that are dead because of \"replace_ctrl_node_and_forward_ctrl_and_idom\"\n-  \/\/ or have otherwise modified their ctrl state by \"install_ctrl_and_idom_forwarding\".\n+  \/\/ control nodes that are dead because of \"replace_node_and_forward_ctrl\"\n+  \/\/ or have otherwise modified their ctrl state by \"forward_ctrl\".\n@@ -1090,1 +1090,1 @@\n-    \/\/ See: install_ctrl_and_idom_forwarding\n+    \/\/ See: forward_ctrl\n@@ -1114,1 +1114,1 @@\n-    \/\/ See: install_ctrl_and_idom_forwarding.\n+    \/\/ See: forward_ctrl.\n@@ -1126,3 +1126,3 @@\n-      \/\/ forwarding installed, using \"install_ctrl_and_idom_forwarding\".\n-      \/\/ We now have to jump from the old (dead) ctrl node to the new (live)\n-      \/\/ ctrl node, in possibly multiple ctrl forwarding steps.\n+      \/\/ forwarding installed, using \"forward_ctrl\". We now have to jump from\n+      \/\/ the old (dead) ctrl node to the new (live) ctrl node, in possibly\n+      \/\/ multiple ctrl forwarding steps.\n@@ -1163,6 +1163,5 @@\n-  \/\/ Using \"install_ctrl_and_idom_forwarding\" allows us to only edit\n-  \/\/ the entry for the old dead node now, and we do not have to update all\n-  \/\/ the nodes that had the old_node as their \"get_ctrl\" or \"idom\". We\n-  \/\/ clean up the forwarding links when we query \"get_ctrl\" or \"idom\"\n-  \/\/ for these nodes the next time.\n-  void install_ctrl_and_idom_forwarding(Node* old_node, Node* new_node) {\n+  \/\/ Using \"forward_ctrl\" allows us to only edit the entry for the old\n+  \/\/ dead node now, and we do not have to update all the nodes that had\n+  \/\/ the old_node as their \"get_ctrl\" or \"idom\". We clean up the forwarding\n+  \/\/ links when we query \"get_ctrl\" or \"idom\" for these nodes the next time.\n+  void forward_ctrl(Node* old_node, Node* new_node) {\n@@ -1183,1 +1182,1 @@\n-  void replace_ctrl_node_and_forward_ctrl_and_idom(Node *old_node, Node *new_node) {\n+  void replace_node_and_forward_ctrl(Node *old_node, Node *new_node) {\n@@ -1185,1 +1184,1 @@\n-    install_ctrl_and_idom_forwarding(old_node, new_node);\n+    forward_ctrl(old_node, new_node);\n@@ -1267,3 +1266,3 @@\n-      \/\/ forwarding installed, using \"install_ctrl_and_idom_forwarding\".\n-      \/\/ We now have to jump from the old (dead) idom node to the new (live)\n-      \/\/ idom node, in possibly multiple idom forwarding steps.\n+      \/\/ forwarding installed, using \"forward_ctrl\". We now have to jump from\n+      \/\/ the old (dead) idom node to the new (live) idom node, in possibly\n+      \/\/ multiple idom forwarding steps.\n@@ -1289,1 +1288,1 @@\n-    \/\/ See: install_ctrl_and_idom_forwarding\n+    \/\/ See: forward_ctrl\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":19,"deletions":20,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -2745,1 +2745,1 @@\n-        \/\/ replace_ctrl_node_and_forward_ctrl_and_idom() below moves all nodes that are:\n+        \/\/ replace_node_and_forward_ctrl() below moves all nodes that are:\n@@ -2749,1 +2749,1 @@\n-        \/\/ replace_ctrl_node_and_forward_ctrl_and_idom() takes a dead control as first input.\n+        \/\/ replace_node_and_forward_ctrl() takes a dead control as first input.\n@@ -2760,1 +2760,1 @@\n-        replace_ctrl_node_and_forward_ctrl_and_idom(use, r);\n+        replace_node_and_forward_ctrl(use, r);\n","filename":"src\/hotspot\/share\/opto\/loopopts.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -658,1 +658,1 @@\n-    replace_ctrl_node_and_forward_ctrl_and_idom(ifp, ifpx);\n+    replace_node_and_forward_ctrl(ifp, ifpx);\n@@ -672,2 +672,2 @@\n-  replace_ctrl_node_and_forward_ctrl_and_idom(iff, region_dom);\n-  \/\/ Break the self-cycle. Required for install_ctrl_and_idom_forwarding to work on region.\n+  replace_node_and_forward_ctrl(iff, region_dom);\n+  \/\/ Break the self-cycle. Required for forward_ctrl to work on region.\n@@ -675,1 +675,1 @@\n-  install_ctrl_and_idom_forwarding(region, region_dom); \/\/ idom must be updated before handle_use\n+  forward_ctrl(region, region_dom); \/\/ idom must be updated before handle_use\n","filename":"src\/hotspot\/share\/opto\/split_if.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
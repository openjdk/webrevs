{"files":[{"patch":"@@ -57,2 +57,0 @@\n-  virtual ReferenceIterationMode reference_iteration_mode() { return DO_FIELDS; }\n-\n@@ -71,0 +69,10 @@\n+  \/\/ Because this closure is applied on pointers residing outside the\n+  \/\/ collection set, we shouldn't do discovery, which is why this closure has\n+  \/\/ its reference-processor being null.\n+  \/\/ Strictly speaking, one can use the same iteration mode from the superclass\n+  \/\/ BasicOopIterateClosure, and the null reference-processor will treat fields\n+  \/\/ as strong references anyway, equivalent to DO_FIELDS. Here we override the\n+  \/\/ iteration mode to skip the known null-check in\n+  \/\/ InstanceRefKlass::try_discover.\n+  virtual ReferenceIterationMode reference_iteration_mode() { return DO_FIELDS; }\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1OopClosures.hpp","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"}]}
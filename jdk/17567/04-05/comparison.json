{"files":[{"patch":"@@ -35,1 +35,0 @@\n- * @key headless\n@@ -37,1 +36,2 @@\n- * @summary JEditorPane.read throws ChangedCharSetException\n+ * @summary Verifies JEditorPane.read doesn't throw ChangedCharSetException\n+            but handles it and reads HTML in the specified encoding\n@@ -47,1 +47,2 @@\n-           \"    <meta http-equiv=\\\"Content-Type\\\" content=\\\"text\/html; charset=windows-1251\\\">\\n\" +\n+            \"    <meta http-equiv=\\\"Content-Type\\\" \" + \n+            \"         content=\\\"text\/html; charset=windows-1251\\\">\\n\" +\n@@ -52,1 +53,1 @@\n-    public static void main() throws IOException {\n+    public static void main(String[] args) throws IOException, BadLocationException {\n@@ -56,10 +57,6 @@\n-        try {\n-            \/\/ Shouldn't throw ChangedCharSetException\n-            editorPane.read(\n-                    new ByteArrayInputStream(\n-                            HTML_CYRILLIC.getBytes(\n-                                    Charset.forName(\"windows-1251\"))),\n-                    document);\n-        } catch (IOException e) {\n-            throw new RuntimeException(e);\n-        }\n+        \/\/ Shouldn't throw ChangedCharSetException\n+        editorPane.read(\n+                new ByteArrayInputStream(\n+                        HTML_CYRILLIC.getBytes(\n+                                Charset.forName(\"windows-1251\"))),\n+                document);\n@@ -70,8 +67,4 @@\n-        try {\n-            String pText = document.getText(p.getStartOffset(),\n-                                        p.getEndOffset() - p.getStartOffset());\n-            if (!CYRILLIC_TEXT.equals(pText)) {\n-                throw new RuntimeException(\"Text doesn't match\");\n-            }\n-        } catch (BadLocationException e) {\n-            throw new RuntimeException(e);\n+        String pText = document.getText(p.getStartOffset(),\n+                                    p.getEndOffset() - p.getStartOffset());\n+        if (!CYRILLIC_TEXT.equals(pText)) {\n+            throw new RuntimeException(\"Text doesn't match\");\n@@ -80,3 +73,0 @@\n-\n-    private EditorPaneCharset() {\n-    }\n","filename":"test\/jdk\/javax\/swing\/JEditorPane\/EditorPaneCharset.java","additions":15,"deletions":25,"binary":false,"changes":40,"status":"modified"}]}
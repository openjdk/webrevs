{"files":[{"patch":"@@ -231,0 +231,11 @@\n+\/*\n+ * Adds a string constant of the given property. Retrieves the value via\n+ * Arguments::get_property() and asserts the value for the does not differ from\n+ * the value retrievable from System.getProperty()\n+ *\/\n+void StatSampler::add_optional_property_constant(CounterNS name_space, const char* name, TRAPS) {\n+  const char* value = Arguments::get_property(name);\n+\n+  if (value != nullptr) add_property_constant(name_space, name, value, CHECK);\n+}\n+\n@@ -264,3 +275,3 @@\n-  add_property_constant(JAVA_PROPERTY, \"jdk.module.path\", CHECK);\n-  add_property_constant(JAVA_PROPERTY, \"jdk.module.upgrade.path\", CHECK);\n-  add_property_constant(JAVA_PROPERTY, \"jdk.module.main\", CHECK);\n+  add_optional_property_constant(JAVA_PROPERTY, \"jdk.module.path\", CHECK);\n+  add_optional_property_constant(JAVA_PROPERTY, \"jdk.module.upgrade.path\", CHECK);\n+  add_optional_property_constant(JAVA_PROPERTY, \"jdk.module.main\", CHECK);\n","filename":"src\/hotspot\/share\/runtime\/statSampler.cpp","additions":14,"deletions":3,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -56,0 +56,1 @@\n+    static void add_optional_property_constant(CounterNS name_space, const char* name, TRAPS);\n","filename":"src\/hotspot\/share\/runtime\/statSampler.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
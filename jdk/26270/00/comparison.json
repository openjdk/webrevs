{"files":[{"patch":"@@ -33,1 +33,7 @@\n-  do_arch_blob(preuniverse, 0)                                          \\\n+  do_arch_blob(preuniverse, 500)                                        \\\n+  do_stub(preuniverse, atomic_load_long)                                \\\n+  do_arch_entry(Arm, preuniverse, atomic_load_long,                     \\\n+                atomic_load_long_entry, atomic_load_long_entry)         \\\n+  do_stub(preuniverse, atomic_store_long)                               \\\n+  do_arch_entry(Arm, preuniverse, atomic_store_long,                    \\\n+                atomic_store_long_entry, atomic_store_long_entry)       \\\n@@ -44,6 +50,0 @@\n-  do_stub(initial, atomic_load_long)                                    \\\n-  do_arch_entry(Arm, initial, atomic_load_long,                         \\\n-                atomic_load_long_entry, atomic_load_long_entry)         \\\n-  do_stub(initial, atomic_store_long)                                   \\\n-  do_arch_entry(Arm, initial, atomic_store_long,                        \\\n-                atomic_store_long_entry, atomic_store_long_entry)       \\\n","filename":"src\/hotspot\/cpu\/arm\/stubDeclarations_arm.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -3130,1 +3130,8 @@\n-    \/\/ preuniverse stubs are not needed for arm\n+    \/\/ Atomics are used in universe initialization code (e.g. CDS relocation),\n+    \/\/ therefore we need to generate real stubs very early on.\n+    StubRoutines::_atomic_add_entry = generate_atomic_add();\n+    StubRoutines::_atomic_xchg_entry = generate_atomic_xchg();\n+    StubRoutines::_atomic_cmpxchg_entry = generate_atomic_cmpxchg();\n+    StubRoutines::_atomic_cmpxchg_long_entry = generate_atomic_cmpxchg_long();\n+    StubRoutines::Arm::_atomic_load_long_entry = generate_atomic_load_long();\n+    StubRoutines::Arm::_atomic_store_long_entry = generate_atomic_store_long();\n@@ -3154,8 +3161,0 @@\n-\n-    StubRoutines::_atomic_add_entry = generate_atomic_add();\n-    StubRoutines::_atomic_xchg_entry = generate_atomic_xchg();\n-    StubRoutines::_atomic_cmpxchg_entry = generate_atomic_cmpxchg();\n-    StubRoutines::_atomic_cmpxchg_long_entry = generate_atomic_cmpxchg_long();\n-    StubRoutines::Arm::_atomic_load_long_entry = generate_atomic_load_long();\n-    StubRoutines::Arm::_atomic_store_long_entry = generate_atomic_store_long();\n-\n","filename":"src\/hotspot\/cpu\/arm\/stubGenerator_arm.cpp","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -183,0 +183,4 @@\n+    StubRoutines::_atomic_xchg_entry         = ShouldNotCallThisStub();\n+    StubRoutines::_atomic_cmpxchg_entry      = ShouldNotCallThisStub();\n+    StubRoutines::_atomic_cmpxchg_long_entry = ShouldNotCallThisStub();\n+    StubRoutines::_atomic_add_entry          = ShouldNotCallThisStub();\n@@ -195,6 +199,0 @@\n-\n-    \/\/ atomic calls\n-    StubRoutines::_atomic_xchg_entry         = ShouldNotCallThisStub();\n-    StubRoutines::_atomic_cmpxchg_entry      = ShouldNotCallThisStub();\n-    StubRoutines::_atomic_cmpxchg_long_entry = ShouldNotCallThisStub();\n-    StubRoutines::_atomic_add_entry          = ShouldNotCallThisStub();\n","filename":"src\/hotspot\/cpu\/zero\/stubGenerator_zero.cpp","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -618,0 +618,11 @@\n+  do_stub(preuniverse, atomic_add)                                      \\\n+  do_entry(preuniverse, atomic_add, atomic_add_entry, atomic_add_entry) \\\n+  do_stub(preuniverse, atomic_xchg)                                     \\\n+  do_entry(preuniverse, atomic_xchg, atomic_xchg_entry,                 \\\n+           atomic_xchg_entry)                                           \\\n+  do_stub(preuniverse, atomic_cmpxchg)                                  \\\n+  do_entry(preuniverse, atomic_cmpxchg, atomic_cmpxchg_entry,           \\\n+           atomic_cmpxchg_entry)                                        \\\n+  do_stub(preuniverse, atomic_cmpxchg_long)                             \\\n+  do_entry(preuniverse, atomic_cmpxchg_long, atomic_cmpxchg_long_entry, \\\n+           atomic_cmpxchg_long_entry)                                   \\\n@@ -640,10 +651,0 @@\n-  do_stub(initial, atomic_add)                                          \\\n-  do_entry(initial, atomic_add, atomic_add_entry, atomic_add_entry)     \\\n-  do_stub(initial, atomic_xchg)                                         \\\n-  do_entry(initial, atomic_xchg, atomic_xchg_entry, atomic_xchg_entry)  \\\n-  do_stub(initial, atomic_cmpxchg)                                      \\\n-  do_entry(initial, atomic_cmpxchg, atomic_cmpxchg_entry,               \\\n-           atomic_cmpxchg_entry)                                        \\\n-  do_stub(initial, atomic_cmpxchg_long)                                 \\\n-  do_entry(initial, atomic_cmpxchg_long, atomic_cmpxchg_long_entry,     \\\n-           atomic_cmpxchg_long_entry)                                   \\\n","filename":"src\/hotspot\/share\/runtime\/stubDeclarations.hpp","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"}]}
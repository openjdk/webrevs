{"files":[{"patch":"@@ -106,0 +106,3 @@\n+        \/\/ If writeCommand, below, throws IOException, we need to process it further.\n+        IOException write_ioe = null;\n+\n@@ -118,2 +121,0 @@\n-            IOException ioe = null;\n-\n@@ -126,1 +127,1 @@\n-                    ioe = x;\n+                    write_ioe = x;\n@@ -130,9 +131,0 @@\n-            \/\/ create an input stream for the pipe\n-            SocketInputStreamImpl in = new SocketInputStreamImpl(hPipe);\n-\n-            \/\/ Process the command completion status\n-            processCompletionStatus(ioe, cmd, in);\n-\n-            \/\/ return the input stream\n-            return in;\n-\n@@ -143,0 +135,11 @@\n+\n+        \/\/ create an input stream for the pipe\n+        SocketInputStreamImpl in = new SocketInputStreamImpl(hPipe);\n+\n+        \/\/ Process the command completion status - this closes the stream\n+        \/\/ and thus the pipe if an exception is to be thrown.\n+        processCompletionStatus(write_ioe, cmd, in);\n+\n+        \/\/ return the input stream\n+        return in;\n+\n","filename":"src\/jdk.attach\/windows\/classes\/sun\/tools\/attach\/VirtualMachineImpl.java","additions":15,"deletions":12,"binary":false,"changes":27,"status":"modified"}]}
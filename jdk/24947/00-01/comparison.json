{"files":[{"patch":"@@ -89,2 +89,4 @@\n-    @IR(counts = {IRNode.FMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -96,2 +98,4 @@\n-    @IR(counts = {IRNode.FMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -103,2 +107,4 @@\n-    @IR(counts = {IRNode.FMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -110,2 +116,4 @@\n-    @IR(counts = {IRNode.FMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -117,2 +125,4 @@\n-    @IR(counts = {IRNode.FMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -124,2 +134,4 @@\n-    @IR(counts = {IRNode.FMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -131,2 +143,4 @@\n-    @IR(counts = {IRNode.FNMADD_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -138,2 +152,4 @@\n-    @IR(counts = {IRNode.FNMADD_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -145,2 +161,4 @@\n-    @IR(counts = {IRNode.FNMADD_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -152,2 +170,4 @@\n-    @IR(counts = {IRNode.FNMADD_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -159,2 +179,4 @@\n-    @IR(counts = {IRNode.FNMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -166,2 +188,4 @@\n-    @IR(counts = {IRNode.FNMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMSUB, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -173,2 +197,4 @@\n-    @IR(counts = {IRNode.FNMADD_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_F, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n@@ -180,2 +206,4 @@\n-    @IR(counts = {IRNode.FNMADD_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n-        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n+        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMA_D, \"= 1\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"}, applyIf = {\"UseFMA\", \"true\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestIRFma.java","additions":56,"deletions":28,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -2439,1 +2439,1 @@\n-    public static final String FMSUB_F = PREFIX + \"FMSUB_F\" + POSTFIX;\n+    public static final String FMSUB = PREFIX + \"FMSUB\" + POSTFIX;\n@@ -2441,1 +2441,1 @@\n-        beforeMatchingNameRegex(FMSUB_F, \"FmaF\");\n+        machOnlyNameRegex(FMSUB, \"msub(F|D)_reg_reg\");\n@@ -2444,1 +2444,1 @@\n-    public static final String FMSUB_D = PREFIX + \"FMSUB_D\" + POSTFIX;\n+    public static final String FNMADD = PREFIX + \"FNMADD\" + POSTFIX;\n@@ -2446,1 +2446,1 @@\n-        beforeMatchingNameRegex(FMSUB_D, \"FmaD\");\n+        machOnlyNameRegex(FNMADD, \"mnadd(F|D)_reg_reg\");\n@@ -2449,1 +2449,1 @@\n-    public static final String FNMADD_F = PREFIX + \"FNMADD_F\" + POSTFIX;\n+    public static final String FNMSUB = PREFIX + \"FNMSUB\" + POSTFIX;\n@@ -2451,1 +2451,1 @@\n-        beforeMatchingNameRegex(FNMADD_F, \"FmaF\");\n+        machOnlyNameRegex(FNMSUB, \"mnsub(F|D)_reg_reg\");\n@@ -2454,1 +2454,1 @@\n-    public static final String FNMADD_D = PREFIX + \"FNMADD_D\" + POSTFIX;\n+    public static final String FMA_F = PREFIX + \"FMA_F\" + POSTFIX;\n@@ -2456,1 +2456,1 @@\n-        beforeMatchingNameRegex(FNMADD_D, \"FmaD\");\n+        beforeMatchingNameRegex(FMA_F, \"FmaF\");\n@@ -2459,1 +2459,1 @@\n-    public static final String FNMSUB_F = PREFIX + \"FNFNMSUB_FMSUB\" + POSTFIX;\n+    public static final String FMA_D = PREFIX + \"FMA_D\" + POSTFIX;\n@@ -2461,6 +2461,1 @@\n-        beforeMatchingNameRegex(FNMSUB_F, \"FmaF\");\n-    }\n-\n-    public static final String FNMSUB_D = PREFIX + \"FNMSUB_D\" + POSTFIX;\n-    static {\n-        beforeMatchingNameRegex(FNMSUB_D, \"FmaD\");\n+        beforeMatchingNameRegex(FMA_D, \"FmaD\");\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":10,"deletions":15,"binary":false,"changes":25,"status":"modified"}]}
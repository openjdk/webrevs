{"files":[{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2025, Rivos Inc. All rights reserved.\n@@ -88,2 +89,2 @@\n-    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -95,2 +96,2 @@\n-    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -102,2 +103,2 @@\n-    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -109,2 +110,2 @@\n-    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -116,2 +117,2 @@\n-    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -123,2 +124,2 @@\n-    @IR(counts = {IRNode.FMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -130,2 +131,2 @@\n-    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -137,2 +138,2 @@\n-    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -144,2 +145,2 @@\n-    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -151,2 +152,2 @@\n-    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -158,2 +159,2 @@\n-    @IR(counts = {IRNode.FNMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMSUB_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -165,2 +166,2 @@\n-    @IR(counts = {IRNode.FNMSUB, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMSUB_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -172,2 +173,2 @@\n-    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD_F, \"> 0\", IRNode.NEG_F, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n@@ -179,2 +180,2 @@\n-    @IR(counts = {IRNode.FNMADD, \"> 0\"},\n-        applyIfCPUFeature = {\"asimd\", \"true\"})\n+    @IR(counts = {IRNode.FNMADD_D, \"> 0\", IRNode.NEG_D, \"> 0\"},\n+        applyIfCPUFeatureOr = {\"asimd\", \"true\", \"rvv\", \"true\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestIRFma.java","additions":29,"deletions":28,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -2439,1 +2439,1 @@\n-    public static final String FMSUB = PREFIX + \"FMSUB\" + POSTFIX;\n+    public static final String FMSUB_F = PREFIX + \"FMSUB_F\" + POSTFIX;\n@@ -2441,1 +2441,1 @@\n-        machOnlyNameRegex(FMSUB, \"msub(F|D)_reg_reg\");\n+        beforeMatchingNameRegex(FMSUB_F, \"FmaF\");\n@@ -2444,1 +2444,1 @@\n-    public static final String FNMADD = PREFIX + \"FNMADD\" + POSTFIX;\n+    public static final String FMSUB_D = PREFIX + \"FMSUB_D\" + POSTFIX;\n@@ -2446,1 +2446,1 @@\n-        machOnlyNameRegex(FNMADD, \"mnadd(F|D)_reg_reg\");\n+        beforeMatchingNameRegex(FMSUB_D, \"FmaD\");\n@@ -2449,1 +2449,1 @@\n-    public static final String FNMSUB = PREFIX + \"FNMSUB\" + POSTFIX;\n+    public static final String FNMADD_F = PREFIX + \"FNMADD_F\" + POSTFIX;\n@@ -2451,1 +2451,16 @@\n-        machOnlyNameRegex(FNMSUB, \"mnsub(F|D)_reg_reg\");\n+        beforeMatchingNameRegex(FNMADD_F, \"FmaF\");\n+    }\n+\n+    public static final String FNMADD_D = PREFIX + \"FNMADD_D\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(FNMADD_D, \"FmaD\");\n+    }\n+\n+    public static final String FNMSUB_F = PREFIX + \"FNFNMSUB_FMSUB\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(FNMSUB_F, \"FmaF\");\n+    }\n+\n+    public static final String FNMSUB_D = PREFIX + \"FNMSUB_D\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(FNMSUB_D, \"FmaD\");\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":21,"deletions":6,"binary":false,"changes":27,"status":"modified"}]}
{"files":[{"patch":"@@ -70,0 +70,1 @@\n+                        System.out.println(\"Class loader\" + e);\n@@ -90,0 +91,6 @@\n+            \/\/ When jdk.PhysicalMemory is expected to be emitted:\n+            \/\/ Chunk 1: begin, end\n+            \/\/ Chunk 2: begin, end\n+            \/\/ Chunk 3: begin, end\n+            \/\/ Chunk 4: begin, end\n+            assertCount(r1, \"jdk.PhysicalMemory\", physicalMemory, 2 * chunkFiles);\n@@ -96,8 +103,2 @@\n-            assertCount(\"jdk.ThreadDump\", threadDumps, 2 + 2 + (chunkFiles - 2));\n-            assertCount(\"jdk.ClassLoaderStatistics\", classLoaderStatistics, 2 + 2 + (chunkFiles - 2));\n-            \/\/ When jdk.PhysicalMemory is expected to be emitted:\n-            \/\/ Chunk 1: begin, end\n-            \/\/ Chunk 2: begin, end\n-            \/\/ Chunk 3: begin, end\n-            \/\/ Chunk 4: begin, end\n-            assertCount(\"jdk.PhysicalMemory\", physicalMemory, 2 * chunkFiles);\n+            assertCount(r1, \"jdk.ThreadDump\", threadDumps, 2 + 2 + (chunkFiles - 2));\n+            assertCount(r1, \"jdk.ClassLoaderStatistics\", classLoaderStatistics, 2 + 2 + (chunkFiles - 2));\n@@ -112,1 +113,1 @@\n-    private static void assertCount(String eventName, Set<Instant> timestamps, long expected) throws Exception {\n+    private static void assertCount(RecordingStream stream, String eventName, Set<Instant> timestamps, long expected) throws Exception {\n@@ -119,0 +120,2 @@\n+            System.out.println(\"Dumping failure file.\");\n+            stream.dump(Path.of(\"failure.jfr\"));\n","filename":"test\/jdk\/jdk\/jfr\/event\/runtime\/TestBackToBackSensitive.java","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,0 +47,1 @@\n+import javax.naming.ldap.LdapName;\n@@ -221,1 +222,1 @@\n-        private final String name;\n+        private final LdapName name;\n@@ -226,1 +227,8 @@\n-            this.name = checkName(name);\n+            try {\n+                \/\/ Convert DN to an LdapName so that it is not treated as a\n+                \/\/ composite name by JNDI. In JNDI, using a string name is\n+                \/\/ equivalent to calling new CompositeName(stringName).\n+                this.name = new LdapName(name);\n+            } catch (InvalidNameException ine) {\n+                throw new CertStoreException(\"Invalid name: \" + name, ine);\n+            }\n@@ -230,1 +238,1 @@\n-        private String checkName(String name) throws CertStoreException {\n+        private static String checkName(String name) throws CertStoreException {\n@@ -324,0 +332,3 @@\n+                        \/\/ In JNDI, it is not possible to use an LdapName for\n+                        \/\/ the referral DN, so we must validate the syntax of\n+                        \/\/ the string DN.\n@@ -374,1 +385,1 @@\n-        private byte[][] getAttributeValues(Attribute attr)\n+        private static byte[][] getAttributeValues(Attribute attr)\n","filename":"src\/java.naming\/share\/classes\/sun\/security\/provider\/certpath\/ldap\/LDAPCertStoreImpl.java","additions":16,"deletions":5,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -147,6 +147,5 @@\n-    \/\/ Owner: CN=ssltest-revoked.actalis.it, O=Actalis S.p.A., L=Ponte San Pietro,\n-    \/\/        ST=Bergamo, C=IT\n-    \/\/ Issuer: CN=Actalis Organization Validated Server CA G3, O=Actalis S.p .A.,\n-    \/\/         L=Ponte San Pietro, ST=Bergamo, C=IT\n-    \/\/ Serial number: 3dbdba0fefe7c6bd978220de52ffe3b2\n-    \/\/ Valid from: Fri Oct 08 02:23:49 PDT 2021 until: Sat Oct 08 02:23:49 PDT 2022\n+    \/\/ Owner: CN=ssltest-revoked.actalis.it, O=Actalis S.p.A., L=Ponte San Pietro, ST=Bergamo, C=IT\n+    \/\/ Issuer: CN=Actalis Organization Validated Server CA G3, O=Actalis S.p.A.,\n+    \/\/ L=Ponte San Pietro, ST=Bergamo, C=IT\n+    \/\/ Serial number: 320955171b78d49507508910da2c5bc4\n+    \/\/ Valid from: Tue Sep 27 03:40:43 PDT 2022 until: Wed Sep 27 03:40:43 PDT 2023\n@@ -154,1 +153,1 @@\n-            \"MIIH1zCCBb+gAwIBAgIQPb26D+\/nxr2XgiDeUv\/jsjANBgkqhkiG9w0BAQsFADCB\\n\" +\n+            \"MIIH1TCCBb2gAwIBAgIQMglVFxt41JUHUIkQ2ixbxDANBgkqhkiG9w0BAQsFADCB\\n\" +\n@@ -157,2 +156,2 @@\n-            \"Y3RhbGlzIE9yZ2FuaXphdGlvbiBWYWxpZGF0ZWQgU2VydmVyIENBIEczMB4XDTIx\\n\" +\n-            \"MTAwODA5MjM0OVoXDTIyMTAwODA5MjM0OVoweDELMAkGA1UEBhMCSVQxEDAOBgNV\\n\" +\n+            \"Y3RhbGlzIE9yZ2FuaXphdGlvbiBWYWxpZGF0ZWQgU2VydmVyIENBIEczMB4XDTIy\\n\" +\n+            \"MDkyNzEwNDA0M1oXDTIzMDkyNzEwNDA0M1oweDELMAkGA1UEBhMCSVQxEDAOBgNV\\n\" +\n@@ -161,7 +160,7 @@\n-            \"cy5pdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAPPgHusiIPuBvyPF\\n\" +\n-            \"5lvUnfRraGomDTTJ4FBHomWJgbyTcfjJ6WqP5p6dwcRTyXT1U\/odp5bxSYGBpj31\\n\" +\n-            \"1zi1tqtJGxuXauTytKUPL1pOXOD4V9JpOL9VetDZS5Lvo3bnAjGLJA\/Bqr7VRmMY\\n\" +\n-            \"l9LiGjIlJcSCQWCDxcHDkJA\/4Vrmek6z1Pwzz\/OjkBYRJ3T75qlWtTh\/8ZhvnKxs\\n\" +\n-            \"WAeHD\/n0hLshMbqke2CuGHGC1+tAUlb8ZzIZjdVKoWL4VrQPN0NzgQF2jX6AS\/ru\\n\" +\n-            \"NNO3UrvwjD2Us9YUrDxxQLCw0LT\/TkchhYWp675mY\/e1EjoX+vnXpO3J3CMEfCv5\\n\" +\n-            \"aVtXzusCAwEAAaOCA0kwggNFMAwGA1UdEwEB\/wQCMAAwHwYDVR0jBBgwFoAUn4qx\\n\" +\n+            \"cy5pdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKdBnbeFtw\/Ejp1U\\n\" +\n+            \"gr86BQ5rqgGXWWXb7fsOhPb5On9RXTojg6oaeIV4GxHsMZhEDKQdcZ6JWAo2dbtp\\n\" +\n+            \"\/7ereFEDWG\/YJahLHFZ\/ihXG4AmfObYEhoGbKitW75fOs\/aWC7Veck\/sXsw7cjLW\\n\" +\n+            \"GY623ybcF9DBExg3S4uLRaSkv5hXUDu\/CzphUgwiEd5YNBZjcryOiS8+Y5EQ+2q+\\n\" +\n+            \"g+tdRG9m5G5YxeHWgQz2HDDwLDsJhWkb8\/RsUurU\/I+avHPhYk13K5Ysf311gww8\\n\" +\n+            \"bAsplfdJ2gdn8Is+EAEH4GJHqMybC95YDh1w5dY7dk\/lIoNX4hYUIQimirIr3OW8\\n\" +\n+            \"Svkj1G8CAwEAAaOCA0cwggNDMAwGA1UdEwEB\/wQCMAAwHwYDVR0jBBgwFoAUn4qx\\n\" +\n@@ -175,21 +174,21 @@\n-            \"cy5pdC9SZXBvc2l0b3J5L0FVVEhPVi1HMy9nZXRMYXN0Q1JMMB0GA1UdDgQWBBTe\\n\" +\n-            \"jnmMDJmWf46bs3abftL18WTLPzAOBgNVHQ8BAf8EBAMCBaAwggGABgorBgEEAdZ5\\n\" +\n-            \"AgQCBIIBcASCAWwBagB2AFWB1MIWkDYBSuoLm1c8U\/DA5Dh4cCUIFy+jqh0HE9MM\\n\" +\n-            \"AAABfF9AbyoAAAQDAEcwRQIgb4G8Pbdfmo9KKxA1AXSB6MGNWb5SzDbKK12xR6\/d\\n\" +\n-            \"gvQCIQDlIsOyHxCDIPGFIRgKrsKH1nHj2DQ++7J1V5g9r\/JNwwB3AFGjsPX9AXmc\\n\" +\n-            \"Vm24N3iPDKR6zBsny\/eeiEKaDf7UiwXlAAABfF9Aby0AAAQDAEgwRgIhAO7xBWad\\n\" +\n-            \"yewERj1dP5Uebb4K4AFI\/1CDhVljDDJ\/hejTAiEAzQH3I6FyCBfT92HeMB3AonNC\\n\" +\n-            \"HaNEXSzmwksP6umHAzYAdwBGpVXrdfqRIDC1oolp9PN9ESxBdL79SbiFq\/L8cP5t\\n\" +\n-            \"RwAAAXxfQG70AAAEAwBIMEYCIQCCkh1gHDflb+PNRy3T7AEBvHf\/ZlFKpZcMMz2N\\n\" +\n-            \"4RV04QIhAJHrg7WiSAOW0qN3Xx5FCqm+GBomtByHlY8qg9F4VTEmMA0GCSqGSIb3\\n\" +\n-            \"DQEBCwUAA4ICAQBfsH+q\/ZIUIrIz4JsN8Ac8Rfbr0p1jqWc7WNyPKgDzxiI92T5O\\n\" +\n-            \"IjJty1sshsoWct4hLmCk0nqTt2\/Pvk76RUSvpneVh9lrmmnxOUeu\/PxykYzOQoYq\\n\" +\n-            \"gGvXQrDPc0R1Q\/gt2Q8Orcow\/TTNpbWjZYhlOmT8JHUCpUgfKm00xCWayWRVMyZH\\n\" +\n-            \"lFFOHcM7+1cngXC7rkGESB0pmdkJ3Zh0fhYYdhjltZJOScO3wGCH5UtlvgbcZkYh\\n\" +\n-            \"h1NMdp\/yveucVwNajHGIzJ56KyFcxHrXlqIhV8HslyrSvFHQklETLyAJBt8uLoVi\\n\" +\n-            \"W4ytCS11qHFcSv9D5btlGqqpub6XicRwM1jGRvD\/odrTuRetT8Wi4qB0XeDGmaG8\\n\" +\n-            \"al9Z6HEZoxTQ5+Pb0xIu5FOF7rC5p\/BjqDxGlKBCFWyhEwR7T17javCLMNQGCQMc\\n\" +\n-            \"LsLG8iUjPSQB\/wiJ8RtruU7kEQrEoxRJjJLIfkLt9ti8C3yK7T7SCPBdoeM6CyI\/\\n\" +\n-            \"V5p7FDcvBXtDPukWTnPQ2DtUUGw8244QLWavFoHbvFekzlm2GWZYTPEwlaNAcwmg\\n\" +\n-            \"0ZpxphiuMoouwud1Oaa1xzToPn+iyIjun8+wkB+rbaenIMSpqwWk8s3jtmconGKP\\n\" +\n-            \"JCJvmsfAxAXrAy4Iizums4Z1kPN1ApfNIoPprTfu5cSza3xeOMq0txkERQ==\\n\" +\n+            \"cy5pdC9SZXBvc2l0b3J5L0FVVEhPVi1HMy9nZXRMYXN0Q1JMMB0GA1UdDgQWBBS6\\n\" +\n+            \"o8qJpg3ixoyA2QBayptaTfc+5DAOBgNVHQ8BAf8EBAMCBaAwggF+BgorBgEEAdZ5\\n\" +\n+            \"AgQCBIIBbgSCAWoBaAB2AK33vvp8\/xDIi509nB4+GGq0Zyldz7EMJMqFhjTr3IKK\\n\" +\n+            \"AAABg36SGRYAAAQDAEcwRQIgDXxSCQGfcIYroxNiDJg08IX38Y9+r5CC6T4NeW14\\n\" +\n+            \"FzgCIQDdEhEYsGIWpwyrnTLr4RFB5CMEq+84dByNT07UYkiVwwB2AHoyjFTYty22\\n\" +\n+            \"IOo44FIe6YQWcDIThU070ivBOlejUutSAAABg36SGTUAAAQDAEcwRQIgL2ig9RrM\\n\" +\n+            \"FPWESGRYGJJJYRHdcayHev66jawrf98saN8CIQD\/CInlI3Vo7SBzzN\/4uykjYsFZ\\n\" +\n+            \"u9RypT6AYv6AHPlNdQB2AG9Tdqwx8DEZ2JkApFEV\/3cVHBHZAsEAKQaNsgiaN9kT\\n\" +\n+            \"AAABg36SGU0AAAQDAEcwRQIhAOCD\/dOs4HjyC+GQaQRh4U+\/mUwWyu+CnlHdebmD\\n\" +\n+            \"hAvFAiAvBE0rbxgm8TpZLG2TaMk3dqZj7Q6FFdLlqTsvwhKa3jANBgkqhkiG9w0B\\n\" +\n+            \"AQsFAAOCAgEAEnPALMVp1pySJgHhugLWAUgiD6stpDWCKfaBxPr+jf34A5wS+m5r\\n\" +\n+            \"2VhYyNQpOwIQB76K2RSJQrdpg7Dg2L6EiUnbbClSTrOkZ4XX5ggBIjldDEx4ZxhI\\n\" +\n+            \"zwSw4KB6+DDAVMwsCL0q0E7AAPOMaZ0RDLteusqQYIYm08TXfJPWD8LjQPt\/8Uie\\n\" +\n+            \"LOqm1eLUuwJc+eHFWV+Xr8Uea6SFwqNEj7qPHb2MElctET\/MhSIIUKI1ObmrFwyB\\n\" +\n+            \"ElKEPaUh9L0HXpnuD8IWc7tw2mdvnWJhuGG8G6JkasTGvtZ4gKIDBdTrJcuj7MCS\\n\" +\n+            \"amz3ZBCY47tP1ohgImjqwg4ITYjX6UQXgj\/nBVDdu+nXkEhx16uPJkTYWaun9Nio\\n\" +\n+            \"8RjYIOxXmDD39QbGUElP0Epsr2wcVT9tIFYMGzUpIO51mCk3Aq1AmiQZwZZhqOIN\\n\" +\n+            \"RDx7lGESPj3IgdVfJi9Ing\/OUNtS46Ug9DSuDcGqdY7KnTYEUdWGsUJNtnpjd4lS\\n\" +\n+            \"U6oIAeW1aKuOve6iNg1vsFAN57aJNh1ih3BOup58J9ve42bNlAYWN8wiNxM+Aeba\\n\" +\n+            \"ArUSTnH\/QEYCyMRD0XqIREVR9VhNODgSZbL3XedYBAW9wImi1whp+u+8aReXd7lC\\n\" +\n+            \"Q3kD9KRyfZ9Kk05Glf3DsZMWvp1N2ZZWaU2Ms5U3ijUheCiBrqrs8a8=\\n\" +\n@@ -201,1 +200,0 @@\n-        boolean ocspEnabled = false;\n@@ -208,1 +206,0 @@\n-            ocspEnabled = true;\n@@ -215,5 +212,0 @@\n-        if (ocspEnabled) {\n-            \/\/ Revoked test certificate will expire in Oct 2022\n-            pathValidator.setValidationDate(\"June 01, 2022\");\n-        }\n-\n@@ -223,1 +215,1 @@\n-                \"Mon Mar 07 06:11:11 PST 2022\", System.out);\n+                \"Tue Sep 27 03:52:40 PDT 2022\", System.out);\n","filename":"test\/jdk\/security\/infra\/java\/security\/cert\/CertPathValidator\/certification\/ActalisCA.java","additions":38,"deletions":46,"binary":false,"changes":84,"status":"modified"}]}
{"files":[{"patch":"@@ -1062,1 +1062,0 @@\n-  \/\/ Note:  This call must not deoptimize, since it is not a real at this bci!\n@@ -1065,5 +1064,11 @@\n-  make_runtime_call(RC_NO_LEAF | RC_MUST_THROW,\n-                    OptoRuntime::rethrow_Type(),\n-                    OptoRuntime::rethrow_stub(),\n-                    nullptr, nullptr,\n-                    ex_node);\n+  { PreserveReexecuteState preexecs(this);\n+    \/\/ When throwing an exception, set the reexecute flag for deoptimization.\n+    \/\/ This is mostly needed to pass -XX:+VerifyStack sanity checks.\n+    jvms()->set_should_reexecute(true);\n+\n+    make_runtime_call(RC_NO_LEAF | RC_MUST_THROW,\n+                      OptoRuntime::rethrow_Type(),\n+                      OptoRuntime::rethrow_stub(),\n+                      nullptr, nullptr,\n+                      ex_node);\n+  }\n","filename":"src\/hotspot\/share\/opto\/doCall.cpp","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+ *   -XX:+IgnoreUnrecognizedVMOptions  -XX:+VerifyStack\n@@ -36,0 +37,1 @@\n+ *   -XX:+IgnoreUnrecognizedVMOptions  -XX:+VerifyStack\n","filename":"test\/hotspot\/jtreg\/compiler\/exceptions\/TestAccessErrorInCatch.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}
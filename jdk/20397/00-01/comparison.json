{"files":[{"patch":"@@ -351,1 +351,0 @@\n-    jthread cur_thread = get_cur_thread(jvmti);\n@@ -358,1 +357,1 @@\n-    \/\/ Sync with VMDeath event guards agains JVMTI_ERROR WRONG_PHASE.\n+    \/\/ Sync with VMDeath event guards against JVMTI_ERROR WRONG_PHASE.\n@@ -364,3 +363,5 @@\n-        printf(\"  ## Error: unexpected phase: %d, expected: %d or %d\\n\",\n-               phase, JVMTI_PHASE_START, JVMTI_PHASE_LIVE);\n-\n+        if (phase != JVMTI_PHASE_DEAD) {\n+            printf(\"  ## Error: unexpected phase: %d, expected: %d or %d or %d\\n\",\n+                   phase, JVMTI_PHASE_START, JVMTI_PHASE_LIVE, JVMTI_PHASE_DEAD);\n+            result = FAILED;\n+        }\n@@ -372,0 +373,1 @@\n+        jthread cur_thread = get_cur_thread(jvmti);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/StartPhase\/AllowedFunctions\/libAllowedFunctions.c","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -1609,4 +1609,2 @@\n-  char* rfilename = NEW_RESOURCE_ARRAY(char, strlen(filename) + 1);\n-  char* robjectname = NEW_RESOURCE_ARRAY(char, strlen(objectname) + 1);\n-  strcpy(rfilename, filename);\n-  strcpy(robjectname, objectname);\n+  char* rfilename = RESOURCE_STRDUP(filename);\n+  char* robjectname = RESOURCE_STRDUP(objectname);\n","filename":"src\/hotspot\/os\/windows\/perfMemory_windows.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1513,2 +1513,1 @@\n-  char* orig_copy = NEW_RESOURCE_ARRAY_IN_THREAD(thread, char, strlen(orig)+1);\n-  strcpy(orig_copy, orig);\n+  char* orig_copy = RESOURCE_STRDUP_IN_THREAD(thread, orig);\n","filename":"src\/hotspot\/share\/classfile\/classLoader.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -642,2 +642,1 @@\n-    char* p = resource_allocate_bytes(strlen(prop_value) + 1);\n-    strcpy(p, prop_value);\n+    char* p = RESOURCE_STRDUP(prop_value);\n","filename":"src\/hotspot\/share\/classfile\/modules.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -376,1 +376,2 @@\n-\n+extern char* resource_strdup(const char* src);\n+extern char* resource_strdup(Thread* thread, const char* src);\n@@ -549,0 +550,5 @@\n+#define RESOURCE_STRDUP(src)\\\n+  resource_strdup((char*)src)\n+\n+#define RESOURCE_STRDUP_IN_THREAD(thread, src)\\\n+  resource_strdup(thread, (char*)src)\n","filename":"src\/hotspot\/share\/memory\/allocation.hpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -212,1 +212,1 @@\n-  const char* strdup(const char* s) {\n+  char* strdup(const char* s) {\n","filename":"src\/hotspot\/share\/memory\/arena.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,0 +62,8 @@\n+extern char* resource_strdup(const char* src) {\n+  return Thread::current()->resource_area()->strdup(src);\n+}\n+\n+extern char* resource_strdup(Thread* thread, const char* src) {\n+  return thread->resource_area()->strdup(src);\n+}\n+\n","filename":"src\/hotspot\/share\/memory\/resourceArea.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -471,2 +471,1 @@\n-      char* prefix_copy = NEW_RESOURCE_ARRAY(char, strlen(prefix)+1);\n-      strcpy(prefix_copy, prefix);\n+      char* prefix_copy = RESOURCE_STRDUP(prefix);\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2712,2 +2712,1 @@\n-    char* str = NEW_RESOURCE_ARRAY(char, strlen(error())+1);\n-    strcpy(str, error());\n+    char* str = RESOURCE_STRDUP(error());\n","filename":"src\/hotspot\/share\/services\/heapDumper.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
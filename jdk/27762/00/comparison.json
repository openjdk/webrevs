{"files":[{"patch":"@@ -170,1 +170,1 @@\n-  static OSXSemaphore sr_semaphore;\n+  static OSXSemaphore* sr_semaphore;\n@@ -172,1 +172,1 @@\n-  static PosixSemaphore sr_semaphore;\n+  static PosixSemaphore* sr_semaphore;\n@@ -1699,1 +1699,1 @@\n-      sr_semaphore.signal();\n+      sr_semaphore->signal();\n@@ -1708,1 +1708,1 @@\n-          sr_semaphore.signal();\n+          sr_semaphore->signal();\n@@ -1734,0 +1734,6 @@\n+#if defined(__APPLE__)\n+  sr_semaphore = new OSXSemaphore(0);\n+#else\n+  sr_semaphore = new PosixSemaphore(0);\n+#endif\n+\n@@ -1781,1 +1787,1 @@\n-  assert(!sr_semaphore.trywait(), \"semaphore has invalid state\");\n+  assert(!sr_semaphore->trywait(), \"semaphore has invalid state\");\n@@ -1796,1 +1802,1 @@\n-    if (sr_semaphore.timedwait(2)) {\n+    if (sr_semaphore->timedwait(2)) {\n@@ -1805,1 +1811,1 @@\n-        sr_semaphore.wait();\n+        sr_semaphore->wait();\n@@ -1820,1 +1826,1 @@\n-  assert(!sr_semaphore.trywait(), \"invalid semaphore state\");\n+  assert(!sr_semaphore->trywait(), \"invalid semaphore state\");\n@@ -1830,1 +1836,1 @@\n-      if (sr_semaphore.timedwait(2)) {\n+      if (sr_semaphore->timedwait(2)) {\n","filename":"src\/hotspot\/os\/posix\/signals_posix.cpp","additions":15,"deletions":9,"binary":false,"changes":24,"status":"modified"}]}
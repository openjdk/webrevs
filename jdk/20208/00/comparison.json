{"files":[{"patch":"@@ -250,0 +250,14 @@\n+\/**\n+ * Lookup time functions symbols, trying 64 bit version first\n+ *\/\n+static void* lookup_time_function(const char* symbol64, const char* symbol) {\n+    void* ret = NULL;\n+    if (sizeof(time_t) > 4) {\n+        ret = dlsym(RTLD_DEFAULT, symbol64);\n+    }\n+    if (ret == NULL) {\n+        ret = dlsym(RTLD_DEFAULT, symbol);\n+    }\n+    return ret;\n+}\n+\n@@ -355,2 +369,4 @@\n-    my_futimesat_func = (futimesat_func*) dlsym(RTLD_DEFAULT, \"futimesat\");\n-    my_lutimes_func = (lutimes_func*) dlsym(RTLD_DEFAULT, \"lutimes\");\n+    my_futimesat_func = (futimesat_func*) lookup_time_function(\"__futimesat64\",\n+        \"futimesat\");\n+    my_lutimes_func = (lutimes_func*) lookup_time_function(\"__lutimes64\",\n+        \"lutimes\");\n@@ -358,1 +374,2 @@\n-    my_futimens_func = (futimens_func*) dlsym(RTLD_DEFAULT, \"futimens\");\n+    my_futimens_func = (futimens_func*) lookup_time_function(\"__futimens64\",\n+        \"futimens\");\n","filename":"src\/java.base\/unix\/native\/libnio\/fs\/UnixNativeDispatcher.c","additions":20,"deletions":3,"binary":false,"changes":23,"status":"modified"}]}
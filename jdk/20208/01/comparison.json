{"files":[{"patch":"@@ -250,0 +250,19 @@\n+\/**\n+ * Lookup functions with time_t parameter, trying 64 bit version first\n+ * for linux.\n+ *\/\n+static void* lookup_time_t_function(const char* symbol, const char* symbol64) {\n+    void* ret = NULL;\n+\n+#if defined(__linux__)\n+    if (sizeof(time_t) > 4) {\n+        ret = dlsym(RTLD_DEFAULT, symbol64);\n+    }\n+#endif\n+\n+    if (ret == NULL) {\n+        ret = dlsym(RTLD_DEFAULT, symbol);\n+    }\n+    return ret;\n+}\n+\n@@ -355,2 +374,4 @@\n-    my_futimesat_func = (futimesat_func*) dlsym(RTLD_DEFAULT, \"futimesat\");\n-    my_lutimes_func = (lutimes_func*) dlsym(RTLD_DEFAULT, \"lutimes\");\n+    my_futimesat_func = (futimesat_func*) lookup_time_t_function(\"futimesat\",\n+        \"__futimesat64\");\n+    my_lutimes_func = (lutimes_func*) lookup_time_t_function(\"lutimes\",\n+        \"__lutimes64\");\n@@ -358,1 +379,2 @@\n-    my_futimens_func = (futimens_func*) dlsym(RTLD_DEFAULT, \"futimens\");\n+    my_futimens_func = (futimens_func*) lookup_time_t_function(\"futimens\",\n+        \"__futimens64\");\n","filename":"src\/java.base\/unix\/native\/libnio\/fs\/UnixNativeDispatcher.c","additions":25,"deletions":3,"binary":false,"changes":28,"status":"modified"}]}
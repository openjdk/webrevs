{"files":[{"patch":"@@ -241,10 +241,1 @@\n-#if defined(__linux__) && defined(_LP64) && defined(__NR_newfstatat)\n-#define FSTATAT64_SYSCALL_AVAILABLE\n-static int fstatat_wrapper(int dfd, const char *path,\n-                           struct stat *statbuf, int flag)\n-{\n-    return syscall(__NR_newfstatat, dfd, path, statbuf, flag);\n-}\n-#endif\n-\n-#if defined(__linux__)\n+#if defined(__linux__) && defined(__arm__)\n@@ -255,2 +246,1 @@\n-static void* lookup_time_t_function(const char* symbol, const char* symbol64) {\n-    void* ret = NULL;\n+static void* lookup_time_t_function(const char* symbol32, const char* symbol64) {\n@@ -258,4 +248,3 @@\n-        ret = dlsym(RTLD_DEFAULT, symbol64);\n-    }\n-    if (ret == NULL) {\n-        return dlsym(RTLD_DEFAULT, symbol);\n+        return dlsym(RTLD_DEFAULT, symbol64);\n+    } else {\n+        return dlsym(RTLD_DEFAULT, symbol32);\n@@ -263,1 +252,9 @@\n-    return ret;\n+}\n+#endif\n+\n+#if defined(__linux__) && defined(_LP64) && defined(__NR_newfstatat)\n+#define FSTATAT64_SYSCALL_AVAILABLE\n+static int fstatat_wrapper(int dfd, const char *path,\n+                           struct stat *statbuf, int flag)\n+{\n+    return syscall(__NR_newfstatat, dfd, path, statbuf, flag);\n@@ -371,1 +368,1 @@\n-#if defined(__linux__)\n+#if defined(__linux__) && defined(__arm__)\n","filename":"src\/java.base\/unix\/native\/libnio\/fs\/UnixNativeDispatcher.c","additions":15,"deletions":18,"binary":false,"changes":33,"status":"modified"}]}
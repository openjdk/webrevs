{"files":[{"patch":"@@ -208,15 +208,18 @@\n-  size_t v_used = used();\n-  size_t v_used_regions = used_regions_size();\n-  size_t v_soft_max_capacity = soft_max_capacity();\n-  size_t v_max_capacity = max_capacity();\n-  size_t v_available = available();\n-  size_t v_humongous_waste = get_humongous_waste();\n-  LogGcInfo::print(\"%s: %s generation used: \" SIZE_FORMAT \"%s, used regions: \" SIZE_FORMAT \"%s, \"\n-                   \"humongous waste: \" SIZE_FORMAT \"%s, soft capacity: \" SIZE_FORMAT \"%s, max capacity: \" SIZE_FORMAT \"%s, \"\n-                   \"available: \" SIZE_FORMAT \"%s\", msg, name(),\n-                   byte_size_in_proper_unit(v_used),              proper_unit_for_byte_size(v_used),\n-                   byte_size_in_proper_unit(v_used_regions),      proper_unit_for_byte_size(v_used_regions),\n-                   byte_size_in_proper_unit(v_humongous_waste),   proper_unit_for_byte_size(v_humongous_waste),\n-                   byte_size_in_proper_unit(v_soft_max_capacity), proper_unit_for_byte_size(v_soft_max_capacity),\n-                   byte_size_in_proper_unit(v_max_capacity),      proper_unit_for_byte_size(v_max_capacity),\n-                   byte_size_in_proper_unit(v_available),         proper_unit_for_byte_size(v_available));\n+  const size_t v_used = used();\n+  const size_t v_used_regions = used_regions_size();\n+  const size_t v_soft_max_capacity = soft_max_capacity();\n+  const size_t v_max_capacity = max_capacity();\n+  const size_t v_available = available();\n+  const size_t v_humongous_waste = get_humongous_waste();\n+\n+  const LogGcInfo target;\n+  LogStream ls(target);\n+  ls.print(\"%s: \", msg);\n+  if (_type != NON_GEN) {\n+    ls.print(\"%s generation \", name());\n+  }\n+\n+  ls.print_cr(\"used: \" PROPERFMT \", used regions: \" PROPERFMT \", humongous waste: \" PROPERFMT\n+              \", soft capacity: \" PROPERFMT \", max capacity: \" PROPERFMT \", available: \" PROPERFMT,\n+              PROPERFMTARGS(v_used), PROPERFMTARGS(v_used_regions), PROPERFMTARGS(v_humongous_waste),\n+              PROPERFMTARGS(v_soft_max_capacity), PROPERFMTARGS(v_max_capacity), PROPERFMTARGS(v_available));\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGeneration.cpp","additions":18,"deletions":15,"binary":false,"changes":33,"status":"modified"}]}
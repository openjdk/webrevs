{"files":[{"patch":"@@ -2124,3 +2124,13 @@\n-    m_hIcon = CreateIconFromRaster(env, iconRaster, w, h);\n-    JNU_CHECK_EXCEPTION(env);\n-    m_hIconSm = CreateIconFromRaster(env, smallIconRaster, smw, smh);\n+\n+    try {\n+        m_hIcon = CreateIconFromRaster(env, iconRaster, w, h);\n+        JNU_CHECK_EXCEPTION(env); \/\/ Might throw here\n+        m_hIconSm = CreateIconFromRaster(env, smallIconRaster, smw, smh);\n+        JNU_CHECK_EXCEPTION(env); \/\/ Or here\n+        } catch (...) {\n+            \/\/ Clean up any allocated resources here\n+            if (m_hIcon != NULL) {\n+                DestroyIcon(m_hIcon);\n+            }\n+            throw; \/\/ Re-throw the exception\n+    }\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Window.cpp","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"}]}
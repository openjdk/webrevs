{"files":[{"patch":"@@ -110,0 +110,7 @@\n+  bool is_in_encoding_range() {\n+    Klass* k = get_Klass();\n+    bool is_in_encoding_range = CompressedKlassPointers::is_in_encoding_range(k);\n+    assert(is_in_encoding_range || k->is_interface() || k->is_abstract(), \"sanity\");\n+    return is_in_encoding_range;\n+  }\n+\n","filename":"src\/hotspot\/share\/ci\/ciKlass.hpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-  assert(KlassEncodingMetaspaceMax > pd, \"change encoding max if new encoding\");\n+  assert(KlassEncodingMetaspaceMax > pd, \"change encoding max if new encoding (Klass \" PTR_FORMAT \", Base \" PTR_FORMAT \")\", p2i(v), p2i(narrow_base));\n","filename":"src\/hotspot\/share\/oops\/compressedKlass.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3327,1 +3327,1 @@\n-          (is_klass && Matcher::const_klass_prefer_decode())) {\n+          (is_klass && Matcher::const_klass_prefer_decode() && t->isa_klassptr()->exact_klass()->is_in_encoding_range())) {\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -394,0 +394,12 @@\n+\/\/ ------------------------------------------------------------------\n+\/\/ ciInstanceKlass::get_non_static_field_by_offset\n+ciField* ciInstanceKlass::get_non_static_field_by_offset(const int field_offset) {\n+  for (int i = 0, len = nof_nonstatic_fields(); i < len; i++) {\n+    ciField* field = _nonstatic_fields->at(i);\n+    int  field_off = field->offset_in_bytes();\n+    if (field_off == field_offset)\n+      return field;\n+  }\n+  return nullptr;\n+}\n+\n@@ -398,7 +410,1 @@\n-    for (int i = 0, len = nof_nonstatic_fields(); i < len; i++) {\n-      ciField* field = _nonstatic_fields->at(i);\n-      int  field_off = field->offset_in_bytes();\n-      if (field_off == field_offset)\n-        return field;\n-    }\n-    return nullptr;\n+    return get_non_static_field_by_offset(field_offset);\n@@ -438,7 +444,2 @@\n-    for (int i = 0, len = nof_nonstatic_fields(); i < len; i++) {\n-      ciField* field = _nonstatic_fields->at(i);\n-      int field_off = field->offset_in_bytes();\n-      if (field_off == field_offset)\n-        return field->layout_type();\n-    }\n-    return T_ILLEGAL;\n+    ciField* field = get_non_static_field_by_offset(field_offset);\n+    return field != nullptr ? field->layout_type() : T_ILLEGAL;\n","filename":"src\/hotspot\/share\/ci\/ciInstanceKlass.cpp","additions":15,"deletions":14,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -85,0 +85,2 @@\n+  ciField* get_non_static_field_by_offset(int field_offset);\n+\n","filename":"src\/hotspot\/share\/ci\/ciInstanceKlass.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -37,0 +37,1 @@\n+ *      -XX:CompileCommand=memlimit,compiler.loopopts.TestVerifyLoopOptimizationsHitsMemLimit::test,100M~crash\n@@ -46,4 +47,3 @@\n-    static final int a = 400;\n-    static long b;\n-    static int c;\n-    static float k;\n+    final int a = 400;\n+    int b;\n+    float c;\n@@ -51,1 +51,0 @@\n-    static long e;\n@@ -53,3 +52,2 @@\n-    static boolean l;\n-    static long g[];\n-    static volatile int h[];\n+    long g[];\n+    volatile int h[];\n@@ -57,10 +55,5 @@\n-    static void j(int i) {\n-    }\n-\n-    static void test(String[] m) {\n-        int n, o = 2, p, q[] = new int[a];\n-        short r = 10492;\n-        boolean s[] = new boolean[a];\n-        j(0);\n-        for (n = 1; n < a; ++n) {\n-            p = 1;\n+    void test() {\n+        int j, k = 2, l, o[] = new int[a];\n+        short m = 10492;\n+        for (j = 1;; ++j) {\n+            l = 1;\n@@ -68,6 +61,2 @@\n-                g[n] -= p;\n-                switch (n) {\n-                    case 133:\n-                    case 85:\n-                    case 93:\n-                        e = 1;\n+                g[j] = l;\n+                switch (j) {\n@@ -75,2 +64,1 @@\n-                        q[1] = c;\n-                        break;\n+                        o[1] = b;\n@@ -79,1 +67,0 @@\n-                    case 304:\n@@ -82,1 +69,1 @@\n-                        h[1] -= o;\n+                        h[1] -= k;\n@@ -88,1 +75,0 @@\n-                        k += b;\n@@ -92,1 +78,0 @@\n-                        s[1] = l;\n@@ -94,22 +79,3 @@\n-                    case 339:\n-                    case 365:\n-                        d = r;\n-                    case 219:\n-                    case 42:\n-                    case 314:\n-                        k = 2;\n-                    case 215:\n-                        f = (byte) k;\n-                        break;\n-                    case 212:\n-                    case 53:\n-                    case 74:\n-                        d -= o;\n-                    case 89:\n-                    case 210:\n-                    case 208:\n-                    case 128:\n-                    case 52:\n-                    case 56:\n-                    case 144:\n-                        h[1] |= e;\n+                        d = m;\n+                    case 2314:\n+                        f = (byte) c;\n@@ -117,1 +83,1 @@\n-            } while (++p < 24);\n+            } while (++l < 4);\n@@ -121,1 +87,1 @@\n-    public static void main(String[] t) {\n+    public static void main(String[] n) {\n@@ -123,1 +89,3 @@\n-            test(t);\n+            TestVerifyLoopOptimizationsHitsMemLimit test = new TestVerifyLoopOptimizationsHitsMemLimit();\n+            test.test();\n+            throw new RuntimeException(\"Expected a NPE for uninitialized array\");\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/TestVerifyLoopOptimizationsHitsMemLimit.java","additions":23,"deletions":55,"binary":false,"changes":78,"status":"modified"}]}
{"files":[{"patch":"@@ -2834,1 +2834,1 @@\n-          oop nmethod_mirror = data->get_nmethod_mirror(nm, \/* phantom_ref *\/ true);\n+          oop nmethod_mirror = data->get_nmethod_mirror(nm);\n@@ -2866,1 +2866,1 @@\n-          if (data->get_nmethod_mirror(nm, \/* phantom_ref *\/ false) != nullptr) {\n+          if (data->get_nmethod_mirror(nm) != nullptr) {\n","filename":"src\/hotspot\/share\/jvmci\/jvmciCompilerToVM.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -779,1 +779,1 @@\n-oop JVMCINMethodData::get_nmethod_mirror(nmethod* nm, bool phantom_ref) {\n+oop JVMCINMethodData::get_nmethod_mirror(nmethod* nm) {\n@@ -783,5 +783,1 @@\n-  if (phantom_ref) {\n-    return nm->oop_at_phantom(_nmethod_mirror_index);\n-  } else {\n-    return nm->oop_at(_nmethod_mirror_index);\n-  }\n+  return nm->oop_at(_nmethod_mirror_index);\n@@ -805,2 +801,1 @@\n-  oop nmethod_mirror = get_nmethod_mirror(nm, \/* phantom_ref *\/ false);\n-  if (nmethod_mirror == nullptr) {\n+  if (_nmethod_mirror_index == -1) {\n@@ -809,0 +804,1 @@\n+  oop nmethod_mirror = get_nmethod_mirror(nm);\n@@ -2181,1 +2177,1 @@\n-          assert(!nmethod_mirror.is_hotspot() || data->get_nmethod_mirror(nm, \/* phantom_ref *\/ false) == nullptr, \"must be\");\n+          assert(!nmethod_mirror.is_hotspot() || data->get_nmethod_mirror(nm) == nullptr, \"must be\");\n@@ -2224,1 +2220,1 @@\n-          assert(!nmethod_mirror.is_hotspot() || data->get_nmethod_mirror(nm, \/* phantom_ref *\/ false) == HotSpotJVMCI::resolve(nmethod_mirror), \"must be\");\n+          assert(!nmethod_mirror.is_hotspot() || data->get_nmethod_mirror(nm) == HotSpotJVMCI::resolve(nmethod_mirror), \"must be\");\n","filename":"src\/hotspot\/share\/jvmci\/jvmciRuntime.cpp","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -127,1 +127,1 @@\n-  oop get_nmethod_mirror(nmethod* nm, bool phantom_ref);\n+  oop get_nmethod_mirror(nmethod* nm);\n","filename":"src\/hotspot\/share\/jvmci\/jvmciRuntime.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
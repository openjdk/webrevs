{"files":[{"patch":"@@ -188,0 +188,1 @@\n+    HBITMAP hBM = NULL;\n@@ -190,4 +191,5 @@\n-    }\n-    HBITMAP hBM = ::CreateCompatibleBitmap(hBMDC, 1, 1);\n-    if (hBM == NULL) {\n-        J2dTraceLn(J2D_TRACE_WARNING, \"AwtWin32GraphicsDevice::Initialize CreateCompatibleBitmap failed\");\n+    } else {\n+        hBM = ::CreateCompatibleBitmap(hBMDC, 1, 1);\n+        if (hBM == NULL) {\n+            J2dTraceLn(J2D_TRACE_WARNING, \"AwtWin32GraphicsDevice::Initialize CreateCompatibleBitmap failed\");\n+        }\n@@ -197,2 +199,4 @@\n-    if (::GetDIBits(hBMDC, hBM, 0, 1, NULL, gpBitmapInfo, DIB_RGB_COLORS) == 0) {\n-        cbf = true;\n+    if (hBM != NULL) {\n+        if (::GetDIBits(hBMDC, hBM, 0, 1, NULL, gpBitmapInfo, DIB_RGB_COLORS) == 0) {\n+            cbf = true;\n+        }\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Win32GraphicsDevice.cpp","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"}]}
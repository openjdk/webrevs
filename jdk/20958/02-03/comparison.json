{"files":[{"patch":"@@ -43,2 +43,12 @@\n-    \/\/ The above classes are required to support the archival of sun.invoke.util.Wrapper\n-    \/\/ enums, which are referenced by archived java.lang.invoke.MethodType instances.\n+    \/\/ The above 3 classes are special cases needed to support the aot-caching of\n+    \/\/ java.lang.invoke.MethodType instances:\n+    \/\/ - MethodType points to sun.invoke.util.Wrapper enums\n+    \/\/ - The Wrapper enums point to static final fields in the above 3 classes.\n+    \/\/   E.g., ConstantDescs.CD_Boolean.\n+    \/\/ - If we re-run the <clinit> of these 3 classes again during the production\n+    \/\/   run, ConstantDescs.CD_Boolean will get a new value that has a different\n+    \/\/   object identity than the value referenced the the Wrapper enums.\n+    \/\/ - However, Wrapper requires object identity (it allows the use of == to\n+    \/\/   test the equality of ClassDesc, etc).\n+    \/\/ Therefore, we must preserve the static fields of these 3 classes from\n+    \/\/ the assembly phase.\n","filename":"src\/hotspot\/share\/cds\/aotClassInitializer.cpp","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -985,1 +985,2 @@\n-\/\/ before any Java code can access the Fruit class.\n+\/\/ before any Java code can access the Fruit class. Note that HashSet itself doesn't\n+\/\/ necessary need to be an aot-initialized class.\n","filename":"src\/hotspot\/share\/cds\/heapShared.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
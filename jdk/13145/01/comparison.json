{"files":[{"patch":"@@ -997,0 +997,5 @@\n+void G1ConcurrentMark::root_region_scan_abort_and_wait() {\n+  root_regions()->abort();\n+  root_regions()->wait_until_scan_finished();\n+}\n+\n@@ -2003,2 +2008,1 @@\n-  root_regions()->abort();\n-  root_regions()->wait_until_scan_finished();\n+  root_region_scan_abort_and_wait();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -222,3 +222,3 @@\n-\/\/ We need to complete this procedure before the next GC because it might determine\n-\/\/ that some of these \"root objects\" are dead, potentially dropping some required\n-\/\/ references.\n+\/\/ We need to complete this procedure before we can evacuate a particular region\n+\/\/ because evacuation might determine that some of these \"root objects\" are dead,\n+\/\/ potentially dropping some required references.\n@@ -229,1 +229,1 @@\n-  MemRegion*   _root_regions;\n+  MemRegion* _root_regions;\n@@ -560,0 +560,1 @@\n+  void root_region_scan_abort_and_wait();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.hpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -145,2 +145,1 @@\n-    _cm->root_regions()->abort();\n-    _cm->root_regions()->wait_until_scan_finished();\n+    _cm->root_region_scan_abort_and_wait();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMarkThread.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
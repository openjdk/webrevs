{"files":[{"patch":"@@ -686,0 +686,1 @@\n+            long remainingNanos = nanos;\n@@ -691,3 +692,0 @@\n-                    long remainingNanos = (nanos > 0)\n-                            ? nanos - (System.nanoTime() - startNanos)\n-                            : 0;\n@@ -714,1 +712,0 @@\n-                            \/\/ copy bytes to the DatagramPacket, and set length and sender\n@@ -716,0 +713,1 @@\n+                                \/\/ copy bytes to the DatagramPacket, and set length and sender\n@@ -723,0 +721,8 @@\n+                            } else {\n+                                \/\/ need to retry, adjusting timeout if needed\n+                                if (nanos > 0) {\n+                                    remainingNanos = nanos - (System.nanoTime() - startNanos);\n+                                    if (remainingNanos <= 0) {\n+                                        throw new SocketTimeoutException(\"Receive timed out\");\n+                                    }\n+                                }\n@@ -749,0 +755,1 @@\n+        assert nanos >= 0;\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/DatagramChannelImpl.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"}]}
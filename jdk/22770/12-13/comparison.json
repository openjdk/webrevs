{"files":[{"patch":"@@ -40,1 +40,1 @@\n-    assert(_instance->_producer_lock_holder != Thread::current(), \"Recursive locking not allowed\");\n+    assert(_instance->_producer_lock_holder != Thread::current_or_null(), \"Recursive locking not allowed\");\n@@ -42,1 +42,1 @@\n-    _instance->_producer_lock_holder = Thread::current();\n+    _instance->_producer_lock_holder = Thread::current_or_null();\n@@ -46,1 +46,1 @@\n-    assert(_instance->_producer_lock_holder != Thread::current(), \"Must be\");\n+    assert(_instance->_producer_lock_holder != Thread::current_or_null(), \"Must be\");\n@@ -317,1 +317,4 @@\n-  Thread* current = Thread::current();\n+  Thread* current = Thread::current_or_null();\n+  if (current == nullptr) {\n+    return false;\n+  }\n@@ -338,1 +341,4 @@\n-  Thread* current = Thread::current();\n+  Thread* current = Thread::current_or_null();\n+  if (current == nullptr) {\n+    return false;\n+  }\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.cpp","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"}]}
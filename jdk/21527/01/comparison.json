{"files":[{"patch":"@@ -0,0 +1,98 @@\n+\/*\n+ * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.BorderLayout;\n+import java.awt.Button;\n+import java.awt.Frame;\n+import java.awt.Graphics;\n+import java.awt.Label;\n+import java.awt.Panel;\n+import java.awt.PrintJob;\n+import java.awt.TextArea;\n+import java.awt.TextField;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+\/*\n+ * @test\n+ * @bug 4075786\n+ * @key printer\n+ * @summary Test that container prints multiline text properly\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual PrintTextTest\n+*\/\n+\n+public class PrintTextTest extends Frame implements ActionListener {\n+    Panel p;\n+\n+    static final String INSTRUCTIONS = \"\"\"\n+                Press \"Print\" button and check that multiline test\n+                printed correctly. If so press Pass, otherwise Fail.\n+                \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+                .title(\"PrintTextTest\")\n+                .instructions(INSTRUCTIONS)\n+                .rows((int) INSTRUCTIONS.lines().count() + 2)\n+                .columns(35)\n+                .testUI(PrintTextTest::new)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    public PrintTextTest() {\n+        p = new Panel();\n+        p.setLayout(new BorderLayout());\n+        TextArea text_area = new TextArea(\"multi\\nline\\ntext\\nfield\\nis \\nhere\\n!!!!\\n\");\n+\n+        TextField text_field = new TextField(\"single line textfield\");\n+        Button button = new Button(\"button\");\n+        Label label = new Label(\"single line label\");\n+        p.add(\"South\", text_area);\n+        p.add(\"North\", new TextArea(\"one single line of textarea\"));\n+        p.add(\"Center\", text_field);\n+        p.add(\"West\", button);\n+\n+        add(\"North\", p);\n+\n+        Button b = new Button(\"Print\");\n+        b.addActionListener(this);\n+        add(\"South\", b);\n+        pack();\n+    }\n+\n+    public void actionPerformed(ActionEvent e) {\n+        PrintJob pjob = getToolkit().getPrintJob(this, \"Print\", null);\n+        if (pjob != null) {\n+            Graphics pg = pjob.getGraphics();\n+\n+            if (pg != null) {\n+                p.printAll(pg);\n+                pg.dispose();  \/\/flush page\n+            }\n+            pjob.end();\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/TextArea\/PrintTextTest.java","additions":98,"deletions":0,"binary":false,"changes":98,"status":"added"}]}
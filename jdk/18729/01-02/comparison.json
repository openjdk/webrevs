{"files":[{"patch":"@@ -30,0 +30,1 @@\n+import java.time.DateTimeException;\n@@ -31,0 +32,1 @@\n+import java.time.ZoneOffset;\n@@ -83,1 +85,1 @@\n-        LocalDateTime timestamp = LocalDateTime.now();\n+        LocalDateTime timestamp = timestamp();\n@@ -105,0 +107,9 @@\n+    private static LocalDateTime timestamp() {\n+        try {\n+            return LocalDateTime.now();\n+        } catch (DateTimeException d) {\n+            Logger.log(LogTag.JFR, LogLevel.INFO, \"Could not create LocalDateTime with the default time zone. Using UTC time zone for chunk filename.\");\n+            return LocalDateTime.ofEpochSecond(System.currentTimeMillis(), 0, ZoneOffset.UTC);\n+        }\n+    }\n+\n@@ -109,1 +120,1 @@\n-        String basename = ValueFormatter.formatDateTime(LocalDateTime.now()) + \"_\" + JVM.getPid();\n+        String basename = ValueFormatter.formatDateTime(timestamp()) + \"_\" + JVM.getPid();\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/Repository.java","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"}]}
{"files":[{"patch":"@@ -1259,7 +1259,11 @@\n-        if (corePoolSize < 0 ||\n-            maximumPoolSize <= 0 ||\n-            maximumPoolSize < corePoolSize ||\n-            keepAliveTime < 0)\n-            throw new IllegalArgumentException();\n-        if (workQueue == null || threadFactory == null || handler == null)\n-            throw new NullPointerException();\n+        if (corePoolSize < 0)\n+            throw new IllegalArgumentException(\"corePoolSize must be non-negative\");\n+        if (maximumPoolSize <= 0 || maximumPoolSize < corePoolSize)\n+            throw new IllegalArgumentException(\"maximumPoolSize must be positive and greater-or-equal to corePoolSize\");\n+        if (keepAliveTime < 0)\n+            throw new IllegalArgumentException(\"keepAliveTime must be non-negative\");\n+\n+        Objects.requireNonNull(workQueue, \"workQueue\");\n+        Objects.requireNonNull(threadFactory, \"threadFactory\");\n+        Objects.requireNonNull(handler, \"handler\");\n+\n@@ -1292,2 +1296,1 @@\n-        if (command == null)\n-            throw new NullPointerException();\n+        Objects.requireNonNull(command, \"command\");\n@@ -1454,3 +1457,1 @@\n-        if (threadFactory == null)\n-            throw new NullPointerException();\n-        this.threadFactory = threadFactory;\n+        this.threadFactory = Objects.requireNonNull(threadFactory, \"threadFactory\");\n@@ -1477,3 +1478,1 @@\n-        if (handler == null)\n-            throw new NullPointerException();\n-        this.handler = handler;\n+        this.handler = Objects.requireNonNull(handler, \"handler\");\n@@ -1506,2 +1505,4 @@\n-        if (corePoolSize < 0 || maximumPoolSize < corePoolSize)\n-            throw new IllegalArgumentException();\n+        if (corePoolSize < 0)\n+            throw new IllegalArgumentException(\"corePoolSize must be non-negative\");\n+        if (maximumPoolSize < corePoolSize)\n+            throw new IllegalArgumentException(\"corePoolSize must be lesser-or-equal to maximumPoolSize\");\n@@ -1632,1 +1633,1 @@\n-            throw new IllegalArgumentException();\n+            throw new IllegalArgumentException(\"maximumPoolSize must be positive and greater-or-equal to corePoolSize\");\n@@ -1666,1 +1667,1 @@\n-            throw new IllegalArgumentException();\n+            throw new IllegalArgumentException(\"time must be non-negative\");\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ThreadPoolExecutor.java","additions":20,"deletions":19,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -740,1 +740,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"corePoolSize must be non-negative\", success.getMessage());\n+        }\n@@ -751,1 +753,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -762,1 +769,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -773,1 +785,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"keepAliveTime must be non-negative\", success.getMessage());\n+        }\n@@ -784,1 +798,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -795,1 +814,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"workQueue\", success.getMessage());\n+        }\n@@ -807,1 +828,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"corePoolSize must be non-negative\", success.getMessage());\n+        }\n@@ -819,1 +842,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -831,1 +859,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -843,1 +876,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"keepAliveTime must be non-negative\", success.getMessage());\n+        }\n@@ -855,1 +890,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -867,1 +907,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"workQueue\", success.getMessage());\n+        }\n@@ -879,1 +921,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"threadFactory\", success.getMessage());\n+        }\n@@ -891,1 +935,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"corePoolSize must be non-negative\", success.getMessage());\n+        }\n@@ -903,1 +949,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -915,1 +966,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -927,1 +983,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"keepAliveTime must be non-negative\", success.getMessage());\n+        }\n@@ -939,1 +997,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -951,1 +1014,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"workQueue\", success.getMessage());\n+        }\n@@ -963,1 +1028,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"handler\", success.getMessage());\n+        }\n@@ -976,1 +1043,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"corePoolSize must be non-negative\", success.getMessage());\n+        }\n@@ -989,1 +1058,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -1002,1 +1076,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -1015,1 +1094,3 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\"keepAliveTime must be non-negative\", success.getMessage());\n+        }\n@@ -1028,1 +1109,6 @@\n-        } catch (IllegalArgumentException success) {}\n+        } catch (IllegalArgumentException success) {\n+            assertEquals(\n+                \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                success.getMessage()\n+            );\n+        }\n@@ -1041,1 +1127,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"workQueue\", success.getMessage());\n+        }\n@@ -1054,1 +1142,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"handler\", success.getMessage());\n+        }\n@@ -1067,1 +1157,3 @@\n-        } catch (NullPointerException success) {}\n+        } catch (NullPointerException success) {\n+            assertEquals(\"threadFactory\", success.getMessage());\n+        }\n@@ -1231,1 +1323,3 @@\n-            } catch (IllegalArgumentException success) {}\n+            } catch (IllegalArgumentException success) {\n+                assertEquals(\"corePoolSize must be non-negative\", success.getMessage());\n+            }\n@@ -1248,1 +1342,6 @@\n-            } catch (IllegalArgumentException success) {}\n+            } catch (IllegalArgumentException success) {\n+                assertEquals(\n+                    \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                    success.getMessage()\n+                );\n+            }\n@@ -1265,1 +1364,6 @@\n-            } catch (IllegalArgumentException success) {}\n+            } catch (IllegalArgumentException success) {\n+                assertEquals(\n+                    \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                    success.getMessage()\n+                );\n+            }\n@@ -1285,1 +1389,6 @@\n-                } catch (IllegalArgumentException success) {}\n+                } catch (IllegalArgumentException success) {\n+                    assertEquals(\n+                        \"maximumPoolSize must be positive and greater-or-equal to corePoolSize\",\n+                        success.getMessage()\n+                    );\n+                }\n@@ -1291,1 +1400,6 @@\n-                } catch (IllegalArgumentException success) {}\n+                } catch (IllegalArgumentException success) {\n+                    assertEquals(\n+                        \"corePoolSize must be lesser-or-equal to maximumPoolSize\",\n+                        success.getMessage()\n+                    );\n+                }\n@@ -1311,1 +1425,3 @@\n-            } catch (IllegalArgumentException success) {}\n+            } catch (IllegalArgumentException success) {\n+                assertEquals(\"time must be non-negative\", success.getMessage());\n+            }\n","filename":"test\/jdk\/java\/util\/concurrent\/tck\/ThreadPoolExecutorTest.java","additions":150,"deletions":34,"binary":false,"changes":184,"status":"modified"}]}
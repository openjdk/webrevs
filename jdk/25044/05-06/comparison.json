{"files":[{"patch":"@@ -34,0 +34,1 @@\n+import java.util.Arrays;\n@@ -414,9 +415,0 @@\n-\n-                \/\/ the saved_image is initially filled with zeroes.\n-                \/\/ If this is our first time updating it, and if zeroes\n-                \/\/ are NOT the transparent pixel: we need to replace it\n-                \/\/ with the appropriate transparent pixel.\n-                boolean replaceTransPixelsInSavedImage = save &&\n-                        saved_model == null &&\n-                        trans_pixel > 0;\n-\n@@ -436,3 +428,0 @@\n-                        if (replaceTransPixelsInSavedImage) {\n-                            saved_image[off] = pixel;\n-                        }\n@@ -584,0 +573,3 @@\n+            if (model.getTransparentPixel() > 0) {\n+                Arrays.fill(saved_image, (byte) model.getTransparentPixel());\n+            }\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/GifImageDecoder.java","additions":4,"deletions":12,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -39,4 +39,0 @@\n-\n-        if (new Color(bi.getRGB(20, 20), true).getAlpha() != 0) {\n-            throw new Error(\"The pixel at (20, 20) should be transparent.\");\n-        }\n","filename":"test\/jdk\/sun\/awt\/image\/gif\/GifEmptyBackgroundTest.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"}]}
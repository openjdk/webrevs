{"files":[{"patch":"@@ -2861,1 +2861,1 @@\n-    public boolean overridesObjectMethod(TypeSymbol origin, Symbol msym) {\n+    public Symbol overriddenObjectMethod(TypeSymbol origin, Symbol msym) {\n@@ -2864,1 +2864,1 @@\n-                return true;\n+                return sym;\n@@ -2867,1 +2867,5 @@\n-        return false;\n+        return null;\n+    }\n+\n+    public boolean overridesObjectMethod(TypeSymbol origin, Symbol msym) {\n+        return overriddenObjectMethod(origin, msym) != null;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Types.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -709,7 +709,8 @@\n-        Symbol baseMethod = refSym.baseSymbol();\n-        Symbol origMethod = baseMethod.baseSymbol();\n-        if (baseMethod != origMethod && origMethod.owner == syms.objectType.tsym) {\n-            \/\/the implementation method is a java.lang.Object method transferred to an\n-            \/\/interface that does not declare it. Runtime will refer to this method as to\n-            \/\/a java.lang.Object method, so do the same:\n-            refSym = ((MethodSymbol) origMethod).asHandle();\n+        if (refSym.enclClass().isInterface()) {\n+            Symbol baseMethod = types.overriddenObjectMethod(refSym.enclClass(), refSym);\n+            if (baseMethod != null) {\n+                \/\/ The implementation method is a java.lang.Object method, runtime will resolve this method to\n+                \/\/ a java.lang.Object method, so do the same.\n+                \/\/ This case can be removed if JDK-8172817 is fixed.\n+                refSym = ((MethodSymbol) baseMethod).asHandle();\n+            }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/LambdaToMethod.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -0,0 +1,63 @@\n+\/*\n+ * Copyright (c) 2026, Google LLC and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @summary test lambda deserialization for Object method references on interfaces\n+ * @library \/tools\/lib\n+ * @modules jdk.compiler\/com.sun.tools.javac.api\n+ *          jdk.compiler\/com.sun.tools.javac.main\n+ *          jdk.jdeps\/com.sun.tools.javap\n+ * @build toolbox.ToolBox toolbox.JavacTask\n+ * @compile\/ref=SerializableObjectMethodReferencesOnInterfaces.out -XDrawDiagnostics --debug=dumpLambdaDeserializationStats SerializableObjectMethodReferencesOnInterfaces.java\n+ *\/\n+\n+import java.io.Serializable;\n+import java.lang.classfile.*;\n+\n+public class SerializableObjectMethodReferencesOnInterfaces {\n+\n+    static class Test {\n+        interface I1 extends Serializable {}\n+\n+        interface I2 extends I1 {\n+            @Override\n+            public int hashCode();\n+        }\n+\n+        interface F<T, R> extends Serializable {\n+            R apply(T t);\n+        }\n+\n+        enum E {\n+            ONE\n+        }\n+\n+        void f() throws Exception {\n+            F<I1, Integer> f1 = I1::hashCode;\n+            F<I2, Integer> f2 = I2::hashCode;\n+            F<E, Integer> f3 = E::hashCode;\n+            F<Object, Integer> f4 = Object::hashCode;\n+        }\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/lambda\/SerializableObjectMethodReferencesOnInterfaces.java","additions":63,"deletions":0,"binary":false,"changes":63,"status":"added"},{"patch":"@@ -0,0 +1,4 @@\n+SerializableObjectMethodReferencesOnInterfaces.java:57:33: compiler.note.lambda.deserialization.stat: SerializableObjectMethodReferencesOnInterfaces$Test$F, apply, (Ljava\/lang\/Object;)Ljava\/lang\/Object;, 5, java\/lang\/Object, hashCode, ()I\n+SerializableObjectMethodReferencesOnInterfaces.java:58:33: compiler.note.lambda.deserialization.stat: SerializableObjectMethodReferencesOnInterfaces$Test$F, apply, (Ljava\/lang\/Object;)Ljava\/lang\/Object;, 5, java\/lang\/Object, hashCode, ()I\n+SerializableObjectMethodReferencesOnInterfaces.java:59:32: compiler.note.lambda.deserialization.stat: SerializableObjectMethodReferencesOnInterfaces$Test$F, apply, (Ljava\/lang\/Object;)Ljava\/lang\/Object;, 5, java\/lang\/Enum, hashCode, ()I\n+SerializableObjectMethodReferencesOnInterfaces.java:60:37: compiler.note.lambda.deserialization.stat: SerializableObjectMethodReferencesOnInterfaces$Test$F, apply, (Ljava\/lang\/Object;)Ljava\/lang\/Object;, 5, java\/lang\/Object, hashCode, ()I\n","filename":"test\/langtools\/tools\/javac\/lambda\/SerializableObjectMethodReferencesOnInterfaces.out","additions":4,"deletions":0,"binary":false,"changes":4,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n-SerializableObjectMethods.java:60:35: compiler.note.lambda.deserialization.stat: SerializableObjectMethods$F, apply, (Ljava\/lang\/Object;)Ljava\/lang\/Object;, 9, SerializableObjectMethods$I2, hashCode, ()I\n+SerializableObjectMethods.java:60:35: compiler.note.lambda.deserialization.stat: SerializableObjectMethods$F, apply, (Ljava\/lang\/Object;)Ljava\/lang\/Object;, 5, java\/lang\/Object, hashCode, ()I\n","filename":"test\/langtools\/tools\/javac\/lambda\/SerializableObjectMethods.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
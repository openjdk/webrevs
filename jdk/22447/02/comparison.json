{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,0 @@\n-import java.security.AccessController;\n-import java.security.PrivilegedAction;\n@@ -108,3 +106,1 @@\n-                PrivilegedAction<Enumeration<InetAddress>> pa = ni::getInetAddresses;\n-                @SuppressWarnings(\"removal\")\n-                Enumeration<InetAddress> addrs = AccessController.doPrivileged(pa);\n+                Enumeration<InetAddress> addrs = ni.getInetAddresses();\n","filename":"src\/java.base\/macosx\/classes\/java\/net\/DefaultInterface.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -45,1 +45,0 @@\n-import sun.security.action.GetBooleanAction;\n@@ -214,1 +213,2 @@\n-    private static final boolean trustNameService = GetBooleanAction.privilegedGetProperty(\"sun.net.trustNameService\");\n+    private static final boolean trustNameService =\n+            Boolean.getBoolean(\"sun.net.trustNameService\");\n","filename":"src\/java.base\/share\/classes\/java\/net\/SocketPermission.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -713,1 +713,1 @@\n-            if (privilegedLocalHost().getHostAddress().equals(s)) {\n+            if (getLocalHost().getHostAddress().equals(s)) {\n@@ -719,1 +719,1 @@\n-            if (privilegedLocalHost().equals(address)) {\n+            if (getLocalHost().equals(address)) {\n@@ -727,1 +727,1 @@\n-            InetAddress[] names = privilegedGetAllByName(hostName);\n+            InetAddress[] names = getAllByName(hostName);\n@@ -741,1 +741,1 @@\n-    private static InetAddress privilegedLocalHost() throws FtpProtocolException {\n+    private static InetAddress getLocalHost() throws FtpProtocolException {\n@@ -751,1 +751,1 @@\n-    private static InetAddress[] privilegedGetAllByName(String hostName) throws FtpProtocolException {\n+    private static InetAddress[] getAllByName(String hostName) throws FtpProtocolException {\n","filename":"src\/java.base\/share\/classes\/sun\/net\/ftp\/impl\/FtpClient.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -120,1 +120,0 @@\n-    @SuppressWarnings(\"removal\")\n@@ -133,9 +132,3 @@\n-        nameservers =\n-            java.security.AccessController.doPrivileged(\n-                new java.security.PrivilegedAction<>() {\n-                    public ArrayList<String> run() {\n-                        \/\/ typically MAXNS is 3 but we've picked 5 here\n-                        \/\/ to allow for additional servers if required.\n-                        return resolvconf(\"nameserver\", 1, 5);\n-                    } \/* run *\/\n-                });\n+        \/\/ typically MAXNS is 3 but we've picked 5 here\n+        \/\/ to allow for additional servers if required.\n+        nameservers = resolvconf(\"nameserver\", 1, 5);\n@@ -152,2 +145,0 @@\n-\n-    @SuppressWarnings(\"removal\")\n@@ -156,2 +147,0 @@\n-        ArrayList<String> sl;\n-\n@@ -160,19 +149,3 @@\n-        sl = java.security.AccessController.doPrivileged(\n-                 new java.security.PrivilegedAction<>() {\n-                    public ArrayList<String> run() {\n-                        ArrayList<String> ll;\n-\n-                        \/\/ first try search keyword (max 6 domains)\n-                        ll = resolvconf(\"search\", 6, 1);\n-                        if (ll.size() > 0) {\n-                            return ll;\n-                        }\n-\n-                        return null;\n-\n-                    } \/* run *\/\n-\n-                });\n-        if (sl != null) {\n-            return sl;\n-        }\n+        \/\/ first try search keyword (max 6 domains)\n+        ArrayList<String> sl = resolvconf(\"search\", 6, 1);\n+        if (sl.size() > 0) return sl;\n@@ -183,17 +156,2 @@\n-\n-        sl = java.security.AccessController.doPrivileged(\n-                 new java.security.PrivilegedAction<>() {\n-                    public ArrayList<String> run() {\n-                        ArrayList<String> ll;\n-\n-                        ll = resolvconf(\"domain\", 1, 1);\n-                        if (ll.size() > 0) {\n-                            return ll;\n-                        }\n-                        return null;\n-\n-                    } \/* run *\/\n-                });\n-        if (sl != null) {\n-            return sl;\n-        }\n+        sl = resolvconf(\"domain\", 1, 1);\n+        if (sl.size() > 0) return sl;\n","filename":"src\/java.base\/unix\/classes\/sun\/net\/dns\/ResolverConfigurationImpl.java","additions":9,"deletions":51,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-import sun.security.action.GetPropertyAction;\n@@ -75,1 +74,1 @@\n-        NTLMAuthenticationCallback.getNTLMAuthenticationCallback();\n+            NTLMAuthenticationCallback.getNTLMAuthenticationCallback();\n@@ -82,0 +81,1 @@\n+\n@@ -83,3 +83,2 @@\n-        Properties props = GetPropertyAction.privilegedGetProperties();\n-        defaultDomain = props.getProperty(\"http.auth.ntlm.domain\", \"\");\n-        String ntlmCacheProp = props.getProperty(\"jdk.ntlm.cache\", \"true\");\n+        defaultDomain = System.getProperty(\"http.auth.ntlm.domain\", \"\");\n+        String ntlmCacheProp = System.getProperty(\"jdk.ntlm.cache\", \"true\");\n@@ -89,1 +88,1 @@\n-    public static boolean supportsTransparentAuth () {\n+    public static boolean supportsTransparentAuth() {\n@@ -104,17 +103,0 @@\n-    @SuppressWarnings(\"removal\")\n-    private void init0() {\n-\n-        hostname = java.security.AccessController.doPrivileged(\n-            new java.security.PrivilegedAction<>() {\n-            public String run() {\n-                String localhost;\n-                try {\n-                    localhost = InetAddress.getLocalHost().getHostName();\n-                } catch (UnknownHostException e) {\n-                     localhost = \"localhost\";\n-                }\n-                return localhost;\n-            }\n-        });\n-    };\n-\n@@ -153,1 +135,0 @@\n-        init0();\n@@ -155,1 +136,6 @@\n-            String version = GetPropertyAction.privilegedGetProperty(\"ntlm.version\");\n+            hostname = InetAddress.getLocalHost().getHostName();\n+        } catch (UnknownHostException e) {\n+            hostname = \"localhost\";\n+        }\n+        try {\n+            String version = System.getProperty(\"ntlm.version\");\n","filename":"src\/java.base\/unix\/classes\/sun\/net\/www\/protocol\/http\/ntlm\/NTLMAuthentication.java","additions":11,"deletions":25,"binary":false,"changes":36,"status":"modified"}]}
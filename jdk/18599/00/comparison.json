{"files":[{"patch":"@@ -104,0 +104,1 @@\n+  product(bool, UseRVA23U64, false, EXPERIMENTAL, \"Use RVA23U64 profile\")        \\\n","filename":"src\/hotspot\/cpu\/riscv\/globals_riscv.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -48,0 +48,12 @@\n+void VM_Version::useRVA20U64Profile() {\n+  RV_USE_RVA20U64;\n+}\n+\n+void VM_Version::useRVA22U64Profile() {\n+  RV_USE_RVA22U64;\n+}\n+\n+void VM_Version::useRVA23U64Profile() {\n+  RV_USE_RVA23U64;\n+}\n+\n@@ -64,1 +76,0 @@\n-  \/\/ https:\/\/github.com\/riscv\/riscv-profiles\/blob\/main\/profiles.adoc#rva20-profiles\n@@ -66,3 +77,1 @@\n-    if (FLAG_IS_DEFAULT(UseRVC)) {\n-      FLAG_SET_DEFAULT(UseRVC, true);\n-    }\n+    useRVA20U64Profile();\n@@ -70,1 +79,0 @@\n-  \/\/ https:\/\/github.com\/riscv\/riscv-profiles\/blob\/main\/profiles.adoc#rva22-profiles\n@@ -72,30 +80,4 @@\n-    if (FLAG_IS_DEFAULT(UseRVC)) {\n-      FLAG_SET_DEFAULT(UseRVC, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZba)) {\n-      FLAG_SET_DEFAULT(UseZba, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZbb)) {\n-      FLAG_SET_DEFAULT(UseZbb, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZbs)) {\n-      FLAG_SET_DEFAULT(UseZbs, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZfh)) {\n-      FLAG_SET_DEFAULT(UseZfh, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZic64b)) {\n-      FLAG_SET_DEFAULT(UseZic64b, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZicbom)) {\n-      FLAG_SET_DEFAULT(UseZicbom, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZicbop)) {\n-      FLAG_SET_DEFAULT(UseZicbop, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZicboz)) {\n-      FLAG_SET_DEFAULT(UseZicboz, true);\n-    }\n-    if (FLAG_IS_DEFAULT(UseZihintpause)) {\n-      FLAG_SET_DEFAULT(UseZihintpause, true);\n-    }\n+    useRVA22U64Profile();\n+  }\n+  if (UseRVA23U64) {\n+    useRVA23U64Profile();\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.cpp","additions":17,"deletions":35,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -173,0 +173,50 @@\n+  \/\/ enable extensions based on profile, current supported profiles:\n+  \/\/  RVA20U64\n+  \/\/  RVA22U64\n+  \/\/  RVA23U64\n+  #define RV_ENABLE_EXTENSION(UseExtension)     \\\n+    if (FLAG_IS_DEFAULT(UseExtension)) {        \\\n+      FLAG_SET_DEFAULT(UseExtension, true);     \\\n+    }                                           \\\n+\n+  \/\/ https:\/\/github.com\/riscv\/riscv-profiles\/blob\/main\/profiles.adoc#rva20-profiles\n+  #define RV_USE_RVA20U64                            \\\n+    RV_ENABLE_EXTENSION(UseRVC)                      \\\n+\n+  static void useRVA20U64Profile();\n+\n+  \/\/ https:\/\/github.com\/riscv\/riscv-profiles\/blob\/main\/profiles.adoc#rva22-profiles\n+  #define RV_USE_RVA22U64                            \\\n+    RV_ENABLE_EXTENSION(UseRVC)                      \\\n+    RV_ENABLE_EXTENSION(UseRVV)                      \\\n+    RV_ENABLE_EXTENSION(UseZba)                      \\\n+    RV_ENABLE_EXTENSION(UseZbb)                      \\\n+    RV_ENABLE_EXTENSION(UseZbs)                      \\\n+    RV_ENABLE_EXTENSION(UseZfh)                      \\\n+    RV_ENABLE_EXTENSION(UseZic64b)                   \\\n+    RV_ENABLE_EXTENSION(UseZicbom)                   \\\n+    RV_ENABLE_EXTENSION(UseZicbop)                   \\\n+    RV_ENABLE_EXTENSION(UseZicboz)                   \\\n+    RV_ENABLE_EXTENSION(UseZihintpause)              \\\n+\n+  static void useRVA22U64Profile();\n+\n+  \/\/ https:\/\/github.com\/riscv\/riscv-profiles\/blob\/main\/rva23-profile.adoc#rva23u64-profile\n+  #define RV_USE_RVA23U64                           \\\n+    RV_ENABLE_EXTENSION(UseRVC)                     \\\n+    RV_ENABLE_EXTENSION(UseRVV)                     \\\n+    RV_ENABLE_EXTENSION(UseZacas)                   \\\n+    RV_ENABLE_EXTENSION(UseZba)                     \\\n+    RV_ENABLE_EXTENSION(UseZbb)                     \\\n+    RV_ENABLE_EXTENSION(UseZbs)                     \\\n+    RV_ENABLE_EXTENSION(UseZfh)                     \\\n+    RV_ENABLE_EXTENSION(UseZcb)                     \\\n+    RV_ENABLE_EXTENSION(UseZic64b)                  \\\n+    RV_ENABLE_EXTENSION(UseZicbom)                  \\\n+    RV_ENABLE_EXTENSION(UseZicbop)                  \\\n+    RV_ENABLE_EXTENSION(UseZicboz)                  \\\n+    RV_ENABLE_EXTENSION(UseZihintpause)             \\\n+    RV_ENABLE_EXTENSION(UseZvfh)                    \\\n+\n+  static void useRVA23U64Profile();\n+\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.hpp","additions":50,"deletions":0,"binary":false,"changes":50,"status":"modified"}]}
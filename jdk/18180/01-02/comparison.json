{"files":[{"patch":"@@ -56,1 +56,1 @@\n-    private static final String instructionsText = \"\"\"\n+    private static final String INSTRUCTIONS = \"\"\"\n@@ -78,1 +78,1 @@\n-         PassFailJFrame passFailJFrame = new PassFailJFrame.Builder()\n+         PassFailJFrame.builder()\n@@ -80,2 +80,1 @@\n-                .instructions(instructionsText)\n-                .testTimeOut(5)\n+                .instructions(INSTRUCTIONS)\n@@ -84,21 +83,18 @@\n-                .build();\n-\n-        SwingUtilities.invokeAndWait(() -> {\n-            slider = new JSlider(0, 100);\n-            tfLink = new JTextField();\n-            btnStart = new JButton(\"Start\");\n-            btnStop = new JButton(\"Stop\");\n-            btnGC = new JButton(\"Run System.gc()\");\n-            frame = new JFrame(\"bug6798062\");\n-\n-            frame.setSize(400, 300);\n-            frame.setLocationRelativeTo(null);\n-            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n-            frame.add(new bug6798062().initialize());\n-\n-            PassFailJFrame.addTestWindow(frame);\n-            PassFailJFrame.positionTestWindow(frame,\n-                    PassFailJFrame.Position.HORIZONTAL);\n-            frame.setVisible(true);\n-        });\n-        passFailJFrame.awaitAndCheck();\n+                .testUI(bug6798062::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createUI() {\n+        slider = new JSlider(0, 100);\n+        tfLink = new JTextField();\n+        btnStart = new JButton(\"Start\");\n+        btnStop = new JButton(\"Stop\");\n+        btnGC = new JButton(\"Run System.gc()\");\n+        frame = new JFrame(\"bug6798062\");\n+\n+        frame.setSize(400, 300);\n+        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n+        frame.add(new bug6798062().initialize());\n+\n+        return frame;\n@@ -112,8 +108,0 @@\n-        String tempDir = System.getProperty(\"java.io.tmpdir\");\n-\n-        if (tempDir.length() == 0) { \/\/ 'java.io.tmpdir' isn't guaranteed to be defined\n-            tempDir = System.getProperty(\"user.home\");\n-        }\n-\n-        System.out.println(\"Temp directory: \" + tempDir);\n-\n@@ -121,1 +109,1 @@\n-            folder = ShellFolder.getShellFolder(new File(tempDir));\n+            folder = ShellFolder.getShellFolder(new File(\".\"));\n@@ -123,1 +111,1 @@\n-            fail(\"Directory \" + tempDir + \" not found\");\n+            fail(\"Directory not found\");\n@@ -189,0 +177,1 @@\n+        PassFailJFrame.forceFail();\n@@ -205,1 +194,1 @@\n-                e.printStackTrace();\n+                fail(\"File not found\");\n@@ -220,1 +209,1 @@\n-                        e.printStackTrace();\n+                        fail(\"File not found\");\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/6798062\/bug6798062.java","additions":26,"deletions":37,"binary":false,"changes":63,"status":"modified"}]}
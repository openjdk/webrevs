{"files":[{"patch":"@@ -30,0 +30,2 @@\n+import sun.java2d.Disposer;\n+import sun.java2d.DisposerRecord;\n@@ -94,1 +96,2 @@\n-    private long cfDictionaryPtr;\n+    private final long cfDictionaryPtr;\n+    private final Object disposerReferent = new Object();\n@@ -104,0 +107,1 @@\n+        Disposer.addRecord(disposerReferent, new JRSUIControlDisposerRecord(cfDictionaryPtr));\n@@ -112,0 +116,1 @@\n+        Disposer.addRecord(disposerReferent, new JRSUIControlDisposerRecord(cfDictionaryPtr));\n@@ -117,6 +122,13 @@\n-    @Override\n-    @SuppressWarnings(\"removal\")\n-    protected synchronized void finalize() throws Throwable {\n-        if (cfDictionaryPtr == 0) return;\n-        disposeCFDictionary(cfDictionaryPtr);\n-        cfDictionaryPtr = 0;\n+    private static class JRSUIControlDisposerRecord implements DisposerRecord {\n+\n+        private final long cfDictionaryPtr;\n+        JRSUIControlDisposerRecord(long ptr) {\n+            cfDictionaryPtr = ptr;\n+        }\n+\n+        public void dispose() {\n+            try {\n+                disposeCFDictionary(cfDictionaryPtr);\n+            } catch (Throwable t) {\n+            }\n+        }\n","filename":"src\/java.desktop\/macosx\/classes\/apple\/laf\/JRSUIControl.java","additions":19,"deletions":7,"binary":false,"changes":26,"status":"modified"}]}
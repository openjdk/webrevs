{"files":[{"patch":"@@ -30,0 +30,2 @@\n+import sun.java2d.Disposer;\n+import sun.java2d.DisposerRecord;\n@@ -95,0 +97,1 @@\n+    private Object disposerReferent = new Object();\n@@ -104,0 +107,1 @@\n+        Disposer.addRecord(disposerReferent, new JRSUIControlDisposerRecord(cfDictionaryPtr));\n@@ -112,0 +116,1 @@\n+        Disposer.addRecord(disposerReferent, new JRSUIControlDisposerRecord(cfDictionaryPtr));\n@@ -117,5 +122,17 @@\n-    @SuppressWarnings(\"removal\")\n-    protected synchronized void finalize() throws Throwable {\n-        if (cfDictionaryPtr == 0) return;\n-        disposeCFDictionary(cfDictionaryPtr);\n-        cfDictionaryPtr = 0;\n+    private static class JRSUIControlDisposerRecord implements DisposerRecord {\n+\n+        private long cfDictionaryPtr;\n+        JRSUIControlDisposerRecord(long ptr) {\n+            cfDictionaryPtr = ptr;\n+        }\n+\n+        public synchronized void dispose() {\n+            if (cfDictionaryPtr == 0) {\n+                return;\n+            }\n+            try {\n+                disposeCFDictionary(cfDictionaryPtr);\n+            } catch (Throwable t) {\n+            }\n+            cfDictionaryPtr = 0;\n+        }\n","filename":"src\/java.desktop\/macosx\/classes\/apple\/laf\/JRSUIControl.java","additions":22,"deletions":5,"binary":false,"changes":27,"status":"modified"}]}
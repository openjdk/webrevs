{"files":[{"patch":"@@ -1803,6 +1803,0 @@\n-CodeCache::DefaultPerfMapFile::DefaultPerfMapFile() {\n-  \/\/ Perf expects to find the map file at \/tmp\/perf-<pid>.map.\n-  \/\/ It is used as the default file name.\n-  jio_snprintf(_name, sizeof(_name), \"\/tmp\/perf-%d.map\", os::current_process_id());\n-}\n-\n@@ -1830,0 +1824,8 @@\n+\n+void CodeCache::write_default_perf_map() {\n+  \/\/ Perf expects to find the map file at \/tmp\/perf-<pid>.map.\n+  \/\/ It is used as the default file name.\n+  char fname[32];\n+  jio_snprintf(fname, sizeof(fname), \"\/tmp\/perf-%d.map\", os::current_process_id());\n+  write_perf_map(fname);\n+}\n","filename":"src\/hotspot\/share\/code\/codeCache.cpp","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -226,7 +226,0 @@\n-  LINUX_ONLY(class DefaultPerfMapFile {\n-    char _name[32];\n-  public:\n-    DefaultPerfMapFile();\n-    const char* name() const  { return _name; }\n-  };)\n-\n@@ -242,0 +235,1 @@\n+  LINUX_ONLY(static void write_default_perf_map();)\n","filename":"src\/hotspot\/share\/code\/codeCache.hpp","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -506,2 +506,1 @@\n-    CodeCache::DefaultPerfMapFile file;\n-    CodeCache::write_perf_map(file.name());\n+    CodeCache::write_default_perf_map();\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -856,2 +856,1 @@\n-    CodeCache::DefaultPerfMapFile file;\n-    CodeCache::write_perf_map(file.name());\n+    CodeCache::write_default_perf_map();\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
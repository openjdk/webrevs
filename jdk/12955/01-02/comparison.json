{"files":[{"patch":"@@ -369,14 +369,5 @@\n-        \/\/ Set the \"label\" property of the input node (and the slots' source\n-        \/\/ nodes), so that by default search is done on their labels (without\n-        \/\/ line breaks). See also class NodeQuickSearch in the View module.\n-        setLabelProperty(inputNode, null);\n-        for (InputSlot is : getInputSlots()) {\n-            for (InputNode in : is.getSource().getSourceNodes()) {\n-                setLabelProperty(in, is.shouldShowName() ? is.getShortName() : null);\n-            }\n-        }\n-        for (OutputSlot os : getOutputSlots()) {\n-            for (InputNode on : os.getSource().getSourceNodes()) {\n-                setLabelProperty(on, os.shouldShowName() ? os.getShortName() : null);\n-            }\n-        }\n+        \/\/ Set the \"label\" property of the input node, so that by default\n+        \/\/ search is done on the node label (without line breaks). See also\n+        \/\/ class NodeQuickSearch in the View module.\n+        String label = inputNode.getProperties().resolveString(diagram.getNodeText());\n+        inputNode.getProperties().setProperty(\"label\", label.replaceAll(\"\\\\R\", \" \"));\n@@ -389,9 +380,0 @@\n-    private void setLabelProperty(InputNode n, String shortName) {\n-        String label = n.getProperties().resolveString(diagram.getNodeText());\n-        String singleLineLabel = label.replaceAll(\"\\\\R\", \" \");\n-        if (shortName != null) {\n-            singleLineLabel += \" [\" + shortName + \"]\";\n-        }\n-        n.getProperties().setProperty(\"label\", singleLineLabel);\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Figure.java","additions":5,"deletions":23,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -214,1 +214,1 @@\n-                Set<Object> selectedObjects = new HashSet<>();\n+                Set<Figure> selectedFigures = new HashSet<>();\n@@ -217,6 +217,1 @@\n-                        selectedObjects.add(figure);\n-                    }\n-                    for (Slot slot : figure.getSlots()) {\n-                        if (!Collections.disjoint(slot.getSource().getSourceNodesAsSet(), ids)) {\n-                            selectedObjects.add(slot);\n-                        }\n+                        selectedFigures.add(figure);\n@@ -225,1 +220,1 @@\n-                setObjectSelection(selectedObjects);\n+                setFigureSelection(selectedFigures);\n@@ -529,1 +524,1 @@\n-                setObjectSelection(Collections.singleton(figure));\n+                setFigureSelection(Collections.singleton(figure));\n@@ -634,1 +629,1 @@\n-        setObjectSelection(model.getSelectedFigures());\n+        setFigureSelection(model.getSelectedFigures());\n@@ -887,1 +882,1 @@\n-        Set<Object> selectedObjects = new HashSet<>();\n+        Set<Figure> selectedFigures = new HashSet<>();\n@@ -890,11 +885,1 @@\n-                selectedObjects.add(figure);\n-            }\n-            for (InputSlot is : figure.getInputSlots()) {\n-                if (is.hasSourceNodes() && nodeIds.contains(is.getSource().getSourceNodes().get(0).getId())) {\n-                    selectedObjects.add(is);\n-                }\n-            }\n-            for (OutputSlot os : figure.getOutputSlots()) {\n-                if (os.hasSourceNodes() && nodeIds.contains(os.getSource().getSourceNodes().get(0).getId())) {\n-                    selectedObjects.add(os);\n-                }\n+                selectedFigures.add(figure);\n@@ -903,1 +888,1 @@\n-        setObjectSelection(selectedObjects);\n+        setFigureSelection(selectedFigures);\n@@ -964,2 +949,2 @@\n-    private void setObjectSelection(Set<?> selection) {\n-        super.setSelectedObjects(new HashSet<>(selection));\n+    private void setFigureSelection(Set<Figure> list) {\n+        super.setSelectedObjects(new HashSet<>(list));\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramScene.java","additions":10,"deletions":25,"binary":false,"changes":35,"status":"modified"}]}
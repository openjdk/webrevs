{"files":[{"patch":"@@ -96,0 +96,1 @@\n+ * <a id=\"MemoryConsistency\"><\/a>\n@@ -113,1 +114,1 @@\n- * the reference is removed from the queue by {@link ReferenceQueue#poll} or\n+ * the reference is removed from the queue (\"dequeued\") by {@link ReferenceQueue#poll} or\n@@ -116,0 +117,3 @@\n+ * <li>The Cleaner thread dequeues a reference to a registered object before\n+ * running the cleaning action for that object.<\/li>\n+ *\n@@ -118,0 +122,9 @@\n+ * The above chain of <i>happens-before<\/i> edges ensures that actions in a\n+ * thread prior to a {@link Reference#reachabilityFence Reference.reachabilityFence(x)}\n+ * <i>happen-before<\/i> cleanup code for {@code x} runs on the cleaner thread.\n+ *\n+ * In particular, changes to the state of {@code x} made before\n+ * {@code reachabilityFence(x)} will be visible to the cleanup code running on\n+ * the cleaner thread without additional synchronization.\n+ * See {@jls 17.4.5}.\n+ *\n","filename":"src\/java.base\/share\/classes\/java\/lang\/ref\/package-info.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"}]}
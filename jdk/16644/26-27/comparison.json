{"files":[{"patch":"@@ -137,2 +137,2 @@\n- * Certain interactions between the garbage collector, references, and reference\n- * queues form\n+ * Certain interactions between references, references queues, and the garbage\n+ * collector form\n@@ -157,1 +157,1 @@\n- * object, by the Cleaner thread, <i>happens-before<\/i> the Cleaner thread runs\n+ * object, by a Cleaner thread, <i>happens-before<\/i> that Cleaner thread runs\n@@ -160,1 +160,15 @@\n- * <li>For finalizers: actions in a thread prior to calling\n+ * <\/ul>\n+ * The above chain of <i>happens-before<\/i> edges ensures that actions in a\n+ * thread prior to a {@link Reference#reachabilityFence Reference.reachabilityFence(x)}\n+ * <i>happen-before<\/i> cleanup code for {@code x} runs on a Cleaner thread.\n+ * In particular, changes to the state of {@code x} made before\n+ * {@code reachabilityFence(x)} will be visible to the cleanup code running on\n+ * a Cleaner thread without additional synchronization.\n+ * See {@jls 17.4.5}.\n+ *\n+ * <p>\n+ * The interaction between references, finalizers, and the garbage collector\n+ * also forms a <em>happens-before<\/em> relationship:\n+ *\n+ * <ul>\n+ * <li>Actions in a thread prior to calling\n@@ -165,3 +179,3 @@\n- * The above chain of <i>happens-before<\/i> edges ensures that actions in a\n- * thread prior to a {@link Reference#reachabilityFence Reference.reachabilityFence(x)}\n- * <i>happen-before<\/i> cleanup code for {@code x} runs on a cleaner\/finalizer thread.\n+ * This ensures that actions in a thread prior to a\n+ * {@link Reference#reachabilityFence Reference.reachabilityFence(x)}\n+ * <i>happen-before<\/i> cleanup code for {@code x} runs on a finalizer thread.\n@@ -170,1 +184,1 @@\n- * a cleaner\/finalizer thread without additional synchronization.\n+ * a finalizer thread without additional synchronization.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/ref\/package-info.java","additions":22,"deletions":8,"binary":false,"changes":30,"status":"modified"}]}
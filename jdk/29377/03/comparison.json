{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -963,1 +963,3 @@\n-            invoker.addPropertyChangeListener(\"ancestor\", propListener);\n+            if (invoker != null) {\n+                invoker.addPropertyChangeListener(\"ancestor\", propListener);\n+            }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JPopupMenu.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2025, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 4938801\n+ * @bug 4938801 8376169\n@@ -33,0 +33,1 @@\n+import java.awt.Component;\n@@ -51,0 +52,1 @@\n+    static volatile Component invoker;\n@@ -76,0 +78,1 @@\n+                popupMenu.setInvoker(null);\n@@ -109,0 +112,5 @@\n+            SwingUtilities.invokeAndWait(() -> invoker = popupMenu.getInvoker());\n+\n+            if (invoker != null) {\n+                throw new RuntimeException(\"Invoker is not null\");\n+            }\n","filename":"test\/jdk\/javax\/swing\/JPopupMenu\/TestPopupInvoker.java","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -29,1 +29,0 @@\n-import java.util.stream.*;\n@@ -71,0 +70,13 @@\n+  private JavaThread mapThreadProxyToJavaThread(ThreadProxy thread) {\n+    var threads = VM.getVM().getThreads();\n+    for (int i = 0; i < threads.getNumberOfThreads(); i++) {\n+      var jt = threads.getJavaThreadAt(i);\n+      if (thread.equals(jt.getThreadProxy())) {\n+        return jt;\n+      }\n+    }\n+\n+    \/\/ not found\n+    return null;\n+  }\n+\n@@ -83,6 +95,2 @@\n-      Threads threads = VM.getVM().getThreads();\n-      JavaThread ownerThread = IntStream.range(0, threads.getNumberOfThreads())\n-                                        .mapToObj(threads::getJavaThreadAt)\n-                                        .filter(jt -> thread.equals(jt.getThreadProxy()))\n-                                        .findFirst()\n-                                        .orElse(null);\n+      \/\/ get JavaThread as the owner from ThreadProxy\n+      JavaThread ownerThread = mapThreadProxyToJavaThread(thread);\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/debugger\/windbg\/WindbgCDebugger.java","additions":15,"deletions":7,"binary":false,"changes":22,"status":"modified"}]}
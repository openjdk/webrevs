{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import static jdk.jpackage.internal.StandardBundlerParam.PREDEFINED_APP_IMAGE;\n@@ -49,1 +50,1 @@\n-            builder.appImageDir(PREDEFINED_RUNTIME_IMAGE.fetchFrom(params));\n+            PREDEFINED_RUNTIME_IMAGE.copyInto(params, builder::appImageDir);\n@@ -51,1 +52,1 @@\n-            builder.appImageDir(StandardBundlerParam.getPredefinedAppImage(params));\n+            PREDEFINED_APP_IMAGE.copyInto(params, builder::appImageDir);\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/BuildEnvFromParams.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import static jdk.jpackage.internal.I18N.buildConfigException;\n@@ -33,1 +32,0 @@\n-import java.nio.file.Files;\n@@ -119,9 +117,0 @@\n-        if (!Files.exists(runtimeDir)) {\n-            throw buildConfigException()\n-                    .message(\"message.runtime-image-dir-does-not-exist\",\n-                            \"--runtime-image\", runtimeDir)\n-                    .advice(\"message.runtime-image-dir-does-not-exist.advice\",\n-                            \"--runtime-image\")\n-                    .create();\n-        }\n-\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/RuntimeBuilderBuilder.java","additions":0,"deletions":11,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -97,0 +97,7 @@\n+    static final BundlerParamInfo<Path> PREDEFINED_APP_IMAGE =\n+            new BundlerParamInfo<>(\n+            Arguments.CLIOptions.PREDEFINED_APP_IMAGE.getId(),\n+            Path.class,\n+            params -> null,\n+            (s, p) -> Path.of(s));\n+\n@@ -100,1 +107,1 @@\n-                    var appImage = getPredefinedAppImage(params);\n+                    var appImage = PREDEFINED_APP_IMAGE.fetchFrom(params);\n@@ -130,7 +137,0 @@\n-    static final BundlerParamInfo<Path> PREDEFINED_APP_IMAGE =\n-            new BundlerParamInfo<>(\n-            Arguments.CLIOptions.PREDEFINED_APP_IMAGE.getId(),\n-            Path.class,\n-            params -> null,\n-            (s, p) -> Path.of(s));\n-\n@@ -536,12 +536,0 @@\n-    static Path getPredefinedAppImage(Map<String, ? super Object> params) {\n-        Path applicationImage = PREDEFINED_APP_IMAGE.fetchFrom(params);\n-        if (applicationImage != null && !IOUtils.exists(applicationImage)) {\n-            throw new RuntimeException(\n-                    MessageFormat.format(I18N.getString(\n-                            \"message.app-image-dir-does-not-exist\"),\n-                            PREDEFINED_APP_IMAGE.getID(),\n-                            applicationImage.toString()));\n-        }\n-        return applicationImage;\n-    }\n-\n","filename":"src\/jdk.jpackage\/share\/classes\/jdk\/jpackage\/internal\/StandardBundlerParam.java","additions":8,"deletions":20,"binary":false,"changes":28,"status":"modified"}]}
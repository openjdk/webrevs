{"files":[{"patch":"@@ -35,3 +35,2 @@\n- * @requires vm.debug == true & vm.compiler2.enabled\n- * @requires vm.flagless\n- * @summary Tests that stress compilations with the N different seed yield different\n+ * @requires vm.debug == true & vm.compiler2.enabled & vm.flagless\n+ * @summary Tests that stress compilations with the N different seeds yield different\n@@ -54,1 +53,1 @@\n-                className, \"10\" };\n+                className, \"5\" };\n@@ -97,0 +96,1 @@\n+        String igvntrace, ccptrace, macroexpansiontrace, macroeliminationtrace;\n@@ -98,5 +98,20 @@\n-            for (int s = 0; s < 10; s++) {\n-                igvnTraceSet.add(igvnTrace(s));\n-                ccpTraceSet.add(ccpTrace(s));\n-                macroExpansionTraceSet.add(macroExpansionTrace(s));\n-                macroEliminationTraceSet.add(macroEliminationTrace(s));\n+            for (int s = 0; s < 5; s++) {\n+                igvntrace = igvnTrace(s);\n+                ccptrace = ccpTrace(s);\n+                macroexpansiontrace = macroExpansionTrace(s);\n+                macroeliminationtrace = macroEliminationTrace(s);\n+                \/\/ Test same seed produce same result to test that different traces come from different seed and\n+                \/\/ not indeterminism with the test.\n+                Asserts.assertEQ(igvntrace, igvnTrace(s),\n+                        \"got different IGVN traces for the same seed\");\n+                Asserts.assertEQ(ccptrace, ccpTrace(s),\n+                        \"got different CCP traces for the same seed\");\n+                Asserts.assertEQ(macroexpansiontrace, macroExpansionTrace(s),\n+                        \"got different macro expansion traces for the same seed\");\n+                Asserts.assertEQ(macroeliminationtrace, macroEliminationTrace(s),\n+                        \"got different macro elimination traces for the same seed\");\n+\n+                igvnTraceSet.add(igvntrace);\n+                ccpTraceSet.add(ccptrace);\n+                macroExpansionTraceSet.add(macroexpansiontrace);\n+                macroEliminationTraceSet.add(macroeliminationtrace);\n@@ -105,1 +120,1 @@\n-                    \"got same IGVN traces for 10 different seeds\");\n+                    \"got same IGVN traces for 5 different seeds\");\n@@ -107,1 +122,1 @@\n-                    \"got same CCP traces for 10 different seeds\");\n+                    \"got same CCP traces for 5 different seeds\");\n@@ -109,1 +124,1 @@\n-                    \"got same macro expansion traces for 10 different seeds\");\n+                    \"got same macro expansion traces for 5 different seeds\");\n@@ -111,1 +126,1 @@\n-                    \"got same macro elimination traces for 10 different seeds\");\n+                    \"got same macro elimination traces for 5 different seeds\");\n","filename":"test\/hotspot\/jtreg\/compiler\/debug\/TestStressDistinctSeed.java","additions":28,"deletions":13,"binary":false,"changes":41,"status":"modified"}]}
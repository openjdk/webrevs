{"files":[{"patch":"@@ -2476,0 +2476,3 @@\n+            if (tree.expr != null) {\n+                attribExpr(tree.expr, env, env.info.yieldResult.pt);\n+            }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,20 @@\n+\/**\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8329115\n+ * @summary Crash involving return from inner switch\n+ * @compile\/fail\/ref=T8329115.out -XDrawDiagnostics -XDdev T8329115.java\n+ *\/\n+public class T8329115 {\n+    record R1() {}\n+    record R2() {}\n+\n+    int test() {\n+        return switch (new R1()) {\n+            case R1() -> {\n+                return switch (new R2()) { \/\/ crashes, instead it should just be the error: attempt to return out of a switch expression\n+                    case R2() -> 1;\n+                };\n+            }\n+        };\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8329115.java","additions":20,"deletions":0,"binary":false,"changes":20,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+T8329115.java:14:17: compiler.err.return.outside.switch.expression\n+T8329115.java:12:16: compiler.err.switch.expression.no.result.expressions\n+2 errors\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8329115.out","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"}]}
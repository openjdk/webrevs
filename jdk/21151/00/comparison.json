{"files":[{"patch":"@@ -0,0 +1,82 @@\n+\/*\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.Frame;\n+import java.awt.MenuItem;\n+import java.awt.PopupMenu;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+\/*\n+ * @test\n+ * @bug 6267162\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @summary Popup Menu gets hidden below the screen when opened near the periphery\n+ *          of the screen, XToolkit Test if popup menu window is adjusted on screen\n+ *          when trying to show outside\n+ * @run main\/manual PeripheryOfScreen\n+ *\/\n+\n+public class PeripheryOfScreen {\n+    public static void main(String[] args) throws Exception {\n+        String INSTRUCTIONS = \"\"\"\n+                Click on the button to show popup menu in the center of\n+                frame. Move frame beyond the edge of screen and click on\n+                button to show the popup menu and see if popup menu is\n+                adjusted to the edge.\n+\n+                Press Pass if popup menu behaves as per instruction, otherwise\n+                press Fail.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"PeripheryOfScreen Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(PeripheryOfScreen::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static Frame createUI () {\n+        Frame f = new Frame(\"PeripheryOfScreen Test frame\");\n+        Button b = new Button(\"Click to show popup menu\");\n+        PopupMenu pm = new PopupMenu(\"Test menu\");\n+        MenuItem i = new MenuItem(\"Click me\");\n+        pm.add(i);\n+        b.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                pm.show(f, 100, 100);\n+            }\n+        });\n+        f.add(b);\n+        f.add(pm);\n+        f.setSize(300, 200);\n+        f.toFront();\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/PopupMenu\/PeripheryOfScreen.java","additions":82,"deletions":0,"binary":false,"changes":82,"status":"added"},{"patch":"@@ -0,0 +1,81 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Component;\n+import java.awt.Frame;\n+import java.awt.Font;\n+import java.awt.MenuItem;\n+import java.awt.PopupMenu;\n+\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+\n+\/*\n+ * @test\n+ * @bug 4169155\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @summary Popup menus get a leading separator on Motif system\n+ * @run main\/manual PopupLeadingSeparatorTest\n+ *\/\n+\n+public class PopupLeadingSeparatorTest {\n+    public static void main(String[] args) throws Exception {\n+        PopupLeadingSeparatorTest obj = new PopupLeadingSeparatorTest();\n+        String INSTRUCTIONS = \"\"\"\n+                Press mouse button on the frame. Popup menu without leading\n+                separator should appear.\n+                If a PopupMenu behaves same, press Pass, else press Fail.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"PopupLeadingSeparatorTest Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(obj::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private Frame createUI() {\n+        Frame f = new Frame(\"PopupLeadingSeparatorTest Test\");\n+        PopupMenu popupMenu = new PopupMenu(\"Popup Menu Title\");\n+        popupMenu.add(new MenuItem(\"Item1\"));\n+        PopupMenu cascadeMenu = new PopupMenu(\"Multifont menu\");\n+        cascadeMenu.add(new MenuItem(\"Item1\"));\n+        MenuItem item2 = new MenuItem(\"Item2\");\n+        item2.setFont(new Font(\"Serif\", Font.BOLD, 36));\n+        cascadeMenu.add(item2);\n+\n+        popupMenu.add(cascadeMenu);\n+        f.add(popupMenu);\n+        f.setSize(300, 150);\n+        f.addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mousePressed(MouseEvent evt) {\n+                popupMenu.show((Component) evt.getSource(), evt.getX(), evt.getY());\n+            }\n+        });\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/PopupMenu\/PopupLeadingSeparatorTest.java","additions":81,"deletions":0,"binary":false,"changes":81,"status":"added"},{"patch":"@@ -0,0 +1,77 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.FlowLayout;\n+import java.awt.Frame;\n+import java.awt.Label;\n+import java.awt.MenuItem;\n+import java.awt.PopupMenu;\n+\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+\n+\/*\n+ * @test\n+ * @bug 4168006 4196790\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @summary Popup menu test fails on x86\/Solaris 2.6 combination.\n+ * @run main\/manual PopupMenuShowTest\n+ *\/\n+\n+public class PopupMenuShowTest {\n+    public static void main(String[] args) throws Exception {\n+        PopupMenuShowTest obj = new PopupMenuShowTest();\n+        String INSTRUCTIONS = \"\"\"\n+                Press the right mouse button in the PopupTest window.\n+                If a PopupMenu appears, press Pass, else press Fail.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"PopupMenuShowTest Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(obj::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private Frame createUI() {\n+        Frame f = new Frame(\"PopupMenuShowTest Test\");\n+        f.setLayout(new FlowLayout());\n+        f.add(new Label(\"Press right mouse button inside this frame.\"));\n+        f.add(new Label(\"A pop-up menu should appear.\"));\n+        PopupMenu popupMenu = new PopupMenu(\"Popup Menu Title\");\n+        MenuItem mi = new MenuItem(\"Menu Item\");\n+        popupMenu.add(mi);\n+        f.add(popupMenu);\n+        f.setSize(400, 350);\n+        f.addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mouseClicked(MouseEvent e) {\n+                popupMenu.show(e.getComponent(), e.getX(), e.getY());\n+            }\n+        });\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/PopupMenu\/PopupMenuShowTest.java","additions":77,"deletions":0,"binary":false,"changes":77,"status":"added"},{"patch":"@@ -0,0 +1,104 @@\n+\/*\n+ * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Frame;\n+import java.awt.Menu;\n+import java.awt.MenuBar;\n+import java.awt.MenuItem;\n+import java.awt.PopupMenu;\n+\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+\n+\/*\n+ * @test\n+ * @bug 4038140\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @summary Test for functionality of PopupMenuWithMenuBar\n+ * @run main\/manual PopupMenuWithMenuBar\n+ *\/\n+\n+public class PopupMenuWithMenuBar {\n+\n+    public static void main(String[] args) throws Exception {\n+        PopupMenuWithMenuBar obj = new PopupMenuWithMenuBar();\n+        String INSTRUCTIONS = \"\"\"\n+                There was a bug that prevented the popup menu from appearing properly\n+                (if even at all) for a frame window when there is also a menu bar.\n+\n+                Right click inside the frame window to display the popup window. If\n+                the popup menu appears normally, then the test is successful and the\n+                bug has been fixed.\"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"PopupMenuWithMenuBar Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(obj::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private Frame createUI() {\n+        Frame f = new Frame(\"PopupMenuWithMenuBar Test\");\n+        f.setBounds(10, 10, 300, 250);\n+        MenuBar menuBar = new MenuBar();\n+        Menu fileMenu = createFileMenu();\n+        menuBar.add(fileMenu);\n+        f.setMenuBar(menuBar);\n+        PopupMenu popupMenu = createPopupMenu();\n+        f.add(popupMenu);\n+        f.addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mouseClicked(MouseEvent e) {\n+                popupMenu.show(f, e.getX(), e.getY());\n+            }\n+        });\n+        return f;\n+    }\n+\n+    private Menu createFileMenu() {\n+        String[] menu1Labels = new String[]\n+                {\"Save As\", \"Save As\", \"Quit\"};\n+        MenuItem menuItem;\n+        Menu returnMenu = new Menu(\"File\");\n+        for (int menu1Index = 0; menu1Index < menu1Labels.length; menu1Index++) {\n+            menuItem = new MenuItem(menu1Labels[menu1Index]);\n+            returnMenu.add(menuItem);\n+        }\n+        return returnMenu;\n+    }\n+\n+    private PopupMenu createPopupMenu() {\n+        String[] popupLabels = new String[]\n+                {\"Popup 1\", \"Popup 2\", \"Quit\"};\n+        MenuItem menuItem;\n+        PopupMenu returnMenu = new PopupMenu(\"Popups\");\n+        for (int popupIndex = 0; popupIndex < popupLabels.length; popupIndex++) {\n+            menuItem = new MenuItem(popupLabels[popupIndex]);\n+            returnMenu.add(menuItem);\n+        }\n+        return returnMenu;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/PopupMenu\/PopupMenuWithMenuBar.java","additions":104,"deletions":0,"binary":false,"changes":104,"status":"added"},{"patch":"@@ -0,0 +1,88 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.Component;\n+import java.awt.Frame;\n+import java.awt.MenuItem;\n+import java.awt.PopupMenu;\n+\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+\n+\/*\n+ * @test\n+ * @bug 4181790\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @summary Tests a popup menu on a button.\n+ * @run main\/manual PopupOnButton\n+ *\/\n+\n+public class PopupOnButton {\n+   public static void main(String[] args) throws Exception {\n+       PopupOnButton obj = new PopupOnButton();\n+       String INSTRUCTIONS = \"\"\"\n+                Right-click on the button.\n+                Popup Menu should appear and behave fine.\n+                If a PopupMenu appears, press Pass, else press Fail.\n+                \"\"\";\n+\n+       PassFailJFrame.builder()\n+               .title(\"PopupOnButton Instruction\")\n+               .instructions(INSTRUCTIONS)\n+               .columns(40)\n+               .testUI(obj::createUI)\n+               .build()\n+               .awaitAndCheck();\n+   }\n+\n+    private Frame createUI() {\n+        Frame f = new Frame(\"PopupOnButton Test\");\n+        Button b = new Button(\"button with popup menu\");\n+        PopupMenu m = new PopupMenu(\"popup\");\n+        m.add(new MenuItem(\"item1\"));\n+        m.add(new MenuItem(\"item2\"));\n+        m.add(new MenuItem(\"item3\"));\n+        b.add(m);\n+        b.addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mousePressed(MouseEvent e) {\n+                if (e.isPopupTrigger()) {\n+                    m.show((Component) e.getSource(), e.getX(), e.getY());\n+                }\n+            }\n+\n+            @Override\n+            public void mouseReleased(MouseEvent e) {\n+                if (e.isPopupTrigger()) {\n+                    m.show((Component) e.getSource(), e.getX(), e.getY());\n+                }\n+            }\n+        });\n+\n+        f.add(b);\n+        f.setSize(200, 150);\n+        return f;\n+    }\n+ }\n","filename":"test\/jdk\/java\/awt\/PopupMenu\/PopupOnButton.java","additions":88,"deletions":0,"binary":false,"changes":88,"status":"added"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,2 +66,6 @@\n-      if (addr2 == addr1 + reserveSize) {\n-        long tmp = wb.NMTReserveMemory(reserveSize);\n+      if ((addr2 == addr1 + reserveSize) || (addr2 + reserveSize == addr1)) {\n+        \/\/ Reserve three adjacent regions and release the middle one.\n+        long tmp = wb.NMTReserveMemory(reserveSize * 3);\n+        wb.NMTReleaseMemory(tmp + reserveSize, reserveSize);\n+\n+        wb.NMTReleaseMemory(addr1, reserveSize);\n@@ -69,1 +73,2 @@\n-        addr2 = tmp;\n+        addr1 = tmp;\n+        addr2 = addr1 + reserveSize * 2;\n","filename":"test\/hotspot\/jtreg\/runtime\/NMT\/VirtualAllocTestType.java","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}
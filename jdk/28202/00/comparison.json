{"files":[{"patch":"@@ -75,1 +75,0 @@\n-        static final MemorySegment OTHER_SEGMENT = Arena.global().allocate(4);\n@@ -110,1 +109,3 @@\n-                SINK = OTHER_SEGMENT.get(ValueLayout.JAVA_INT, 0);\n+                try (Arena arena = Arena.ofConfined()) {\n+                    SINK = arena.allocate(4).get(ValueLayout.JAVA_INT, 0);\n+                }\n","filename":"test\/jdk\/java\/foreign\/sharedclosejvmti\/TestSharedCloseJvmti.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-void start(jvmtiEnv *jvmti_env, JNIEnv* jni_env) {\n+void start(jvmtiEnv*, JNIEnv* jni_env, jthread) {\n@@ -114,1 +114,1 @@\n-  callbacks.VMStart = start;\n+  callbacks.VMInit = start;\n@@ -127,1 +127,1 @@\n-  err = env->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_START, nullptr);\n+  err = env->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, nullptr);\n","filename":"test\/jdk\/java\/foreign\/sharedclosejvmti\/libSharedCloseAgent.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
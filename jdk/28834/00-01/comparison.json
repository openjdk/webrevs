{"files":[{"patch":"@@ -192,0 +192,8 @@\n+  adjust_spike_threshold(DEGENERATE_PENALTY_SD);\n+}\n+\n+void ShenandoahAdaptiveHeuristics::record_unsuccessful_degenerated() {\n+  ShenandoahHeuristics::record_unsuccessful_degenerated();\n+  \/\/ Adjust both trigger's parameters in the case of a degenerated GC because\n+  \/\/ either of them should have triggered earlier to avoid this case.\n+  adjust_margin_of_error(DEGENERATE_PENALTY_SD);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahAdaptiveHeuristics.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -118,0 +118,1 @@\n+  virtual void record_unsuccessful_degenerated() override;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahAdaptiveHeuristics.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -250,0 +250,4 @@\n+void ShenandoahHeuristics::record_unsuccessful_degenerated() {\n+  adjust_penalty(Degenerated_Penalty);\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahHeuristics.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -223,0 +223,2 @@\n+  virtual void record_unsuccessful_degenerated();\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahHeuristics.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -770,0 +770,6 @@\n+void ShenandoahOldHeuristics::record_unsuccessful_degenerated() {\n+  \/\/ Forget any triggers that occurred while OLD GC was ongoing.  If we really need to start another, it will retrigger.\n+  clear_triggers();\n+  this->ShenandoahHeuristics::record_unsuccessful_degenerated();\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -206,0 +206,2 @@\n+  void record_unsuccessful_degenerated() override;\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -314,2 +314,1 @@\n-  if (progress || (heap->mode()->is_generational() && !policy->generational_should_upgrade_degenerated_gc())) {\n-    \/\/ If we are not upgrading to full gc when no progress, count this as a successful degen.\n+  if (progress) {\n@@ -318,1 +317,1 @@\n-  } else {\n+  } else if (!heap->mode()->is_generational() || policy->generational_should_upgrade_degenerated_gc()) {\n@@ -321,0 +320,2 @@\n+  } else {\n+    _generation->heuristics()->record_unsuccessful_degenerated();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahDegeneratedGC.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}
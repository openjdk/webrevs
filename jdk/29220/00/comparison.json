{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -114,1 +114,0 @@\n-  volatile_nonstatic_field(ZForwarding,         _ref_count,           int)                           \\\n","filename":"src\/hotspot\/share\/gc\/z\/vmStructs_z.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,1 +32,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -53,1 +52,1 @@\n-  return AtomicAccess::cmpxchg(&_claimed, false, true) == false;\n+  return _claimed.compare_exchange(false, true) == false;\n@@ -63,1 +62,1 @@\n-  AtomicAccess::store(&_in_place_thread, Thread::current());\n+  _in_place_thread.store_relaxed(Thread::current());\n@@ -79,1 +78,1 @@\n-  AtomicAccess::store(&_in_place_thread, (Thread*)nullptr);\n+  _in_place_thread.store_relaxed(nullptr);\n@@ -84,1 +83,1 @@\n-  return AtomicAccess::load(&_in_place_thread) == Thread::current() && offset < _in_place_top_at_start;\n+  return _in_place_thread.load_relaxed() == Thread::current() && offset < _in_place_top_at_start;\n@@ -89,1 +88,1 @@\n-    const int32_t ref_count = AtomicAccess::load_acquire(&_ref_count);\n+    const int32_t ref_count = _ref_count.load_acquire();\n@@ -104,1 +103,1 @@\n-    if (AtomicAccess::cmpxchg(&_ref_count, ref_count, ref_count + 1) == ref_count) {\n+    if (_ref_count.compare_exchange(ref_count, ref_count + 1) == ref_count) {\n@@ -113,1 +112,1 @@\n-    const int32_t ref_count = AtomicAccess::load(&_ref_count);\n+    const int32_t ref_count = _ref_count.load_relaxed();\n@@ -117,1 +116,1 @@\n-    if (AtomicAccess::cmpxchg(&_ref_count, ref_count, -ref_count) != ref_count) {\n+    if (_ref_count.compare_exchange(ref_count, -ref_count) != ref_count) {\n@@ -125,1 +124,1 @@\n-      while (AtomicAccess::load_acquire(&_ref_count) != -1) {\n+      while (_ref_count.load_acquire() != -1) {\n@@ -137,1 +136,1 @@\n-    const int32_t ref_count = AtomicAccess::load(&_ref_count);\n+    const int32_t ref_count = _ref_count.load_relaxed();\n@@ -142,1 +141,1 @@\n-      if (AtomicAccess::cmpxchg(&_ref_count, ref_count, ref_count - 1) != ref_count) {\n+      if (_ref_count.compare_exchange(ref_count, ref_count - 1) != ref_count) {\n@@ -155,1 +154,1 @@\n-      if (AtomicAccess::cmpxchg(&_ref_count, ref_count, ref_count + 1) != ref_count) {\n+      if (_ref_count.compare_exchange(ref_count, ref_count + 1) != ref_count) {\n@@ -174,1 +173,1 @@\n-  if (AtomicAccess::load_acquire(&_ref_count) != 0) {\n+  if (_ref_count.load_acquire() != 0) {\n@@ -176,1 +175,1 @@\n-    while (AtomicAccess::load_acquire(&_ref_count) != 0) {\n+    while (_ref_count.load_acquire() != 0) {\n@@ -185,1 +184,1 @@\n-  assert(AtomicAccess::load(&_ref_count) != 0, \"The page has been released\/detached\");\n+  assert(_ref_count.load_relaxed() != 0, \"The page has been released\/detached\");\n@@ -190,1 +189,1 @@\n-  AtomicAccess::store(&_done, true);\n+  _done.store_relaxed(true);\n@@ -194,1 +193,1 @@\n-  return AtomicAccess::load(&_done);\n+  return _done.load_relaxed();\n@@ -291,1 +290,1 @@\n-  const ZPublishState res = AtomicAccess::cmpxchg(&_relocated_remembered_fields_state, ZPublishState::none, ZPublishState::published);\n+  const ZPublishState res = _relocated_remembered_fields_state.compare_exchange(ZPublishState::none, ZPublishState::published);\n@@ -322,1 +321,1 @@\n-  const ZPublishState res = AtomicAccess::cmpxchg(&_relocated_remembered_fields_state, ZPublishState::none, ZPublishState::reject);\n+  const ZPublishState res = _relocated_remembered_fields_state.compare_exchange(ZPublishState::none, ZPublishState::reject);\n@@ -343,1 +342,1 @@\n-    const ZPublishState res2 = AtomicAccess::cmpxchg(&_relocated_remembered_fields_state, ZPublishState::published, ZPublishState::reject);\n+    const ZPublishState res2 = _relocated_remembered_fields_state.compare_exchange(ZPublishState::published, ZPublishState::reject);\n@@ -371,1 +370,1 @@\n-  guarantee(_ref_count != 0, \"Invalid reference count\");\n+  guarantee(_ref_count.load_relaxed() != 0, \"Invalid reference count\");\n","filename":"src\/hotspot\/share\/gc\/z\/zForwarding.cpp","additions":22,"deletions":23,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -65,1 +66,1 @@\n-  volatile bool          _claimed;\n+  Atomic<bool>           _claimed;\n@@ -67,2 +68,2 @@\n-  volatile int32_t       _ref_count;\n-  volatile bool          _done;\n+  Atomic<int32_t>        _ref_count;\n+  Atomic<bool>           _done;\n@@ -71,1 +72,1 @@\n-  volatile ZPublishState _relocated_remembered_fields_state;\n+  Atomic<ZPublishState>  _relocated_remembered_fields_state;\n@@ -80,1 +81,1 @@\n-  volatile Thread*       _in_place_thread;\n+  Atomic<Thread*>        _in_place_thread;\n","filename":"src\/hotspot\/share\/gc\/z\/zForwarding.hpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -199,1 +199,1 @@\n-  assert(AtomicAccess::load(&_ref_count) != 0, \"The page has been released\/detached\");\n+  assert(_ref_count.load_relaxed() != 0, \"The page has been released\/detached\");\n@@ -310,1 +310,1 @@\n-  const ZPublishState res = AtomicAccess::load(&_relocated_remembered_fields_state);\n+  const ZPublishState res = _relocated_remembered_fields_state.load_relaxed();\n@@ -330,1 +330,1 @@\n-  return AtomicAccess::load(&_relocated_remembered_fields_state) == ZPublishState::reject;\n+  return _relocated_remembered_fields_state.load_relaxed() == ZPublishState::reject;\n@@ -338,1 +338,1 @@\n-  const ZPublishState res = AtomicAccess::load_acquire(&_relocated_remembered_fields_state);\n+  const ZPublishState res = _relocated_remembered_fields_state.load_acquire();\n@@ -366,1 +366,1 @@\n-    AtomicAccess::store(&_relocated_remembered_fields_state, ZPublishState::reject);\n+    _relocated_remembered_fields_state.store_relaxed(ZPublishState::reject);\n@@ -373,1 +373,1 @@\n-    AtomicAccess::store(&_relocated_remembered_fields_state, ZPublishState::accept);\n+    _relocated_remembered_fields_state.store_relaxed(ZPublishState::accept);\n","filename":"src\/hotspot\/share\/gc\/z\/zForwarding.inline.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
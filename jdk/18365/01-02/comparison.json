{"files":[{"patch":"@@ -24,0 +24,9 @@\n+import java.awt.FileDialog;\n+import java.awt.Frame;\n+import java.awt.Toolkit;\n+import java.io.File;\n+import java.io.IOException;\n+import java.lang.reflect.InvocationTargetException;\n+import javax.swing.JButton;\n+import jtreg.SkippedException;\n+\n@@ -30,0 +39,1 @@\n+ * @library \/test\/lib\n@@ -31,0 +41,1 @@\n+ * @build jtreg.SkippedException\n@@ -34,10 +45,0 @@\n-import java.awt.BorderLayout;\n-import java.awt.Button;\n-import java.awt.FileDialog;\n-import java.awt.Toolkit;\n-import java.io.File;\n-import java.io.IOException;\n-import java.lang.reflect.InvocationTargetException;\n-import javax.swing.JFrame;\n-import javax.swing.JTextField;\n-\n@@ -48,1 +49,1 @@\n-    private static Button showBtn;\n+    private static JButton showBtn;\n@@ -51,9 +52,2 @@\n-    private static JFrame initialize() {\n-        JFrame frame = new JFrame(\"File Name Override Test Frame\");\n-        frame.setLayout(new BorderLayout());\n-        JTextField textOutput = new JTextField(30);\n-        frame.add(textOutput, BorderLayout.NORTH);\n-\n-        fd = new FileDialog(frame, \"Open\");\n-\n-        showBtn = new Button(\"Show File Dialog\");\n+    private static JButton initialize() {\n+        showBtn = new JButton(\"Show File Dialog\");\n@@ -61,0 +55,2 @@\n+            Frame frame = new Frame();\n+            fd = new FileDialog(frame, \"Open\");\n@@ -65,0 +61,2 @@\n+            fd.dispose();\n+            frame.dispose();\n@@ -66,1 +64,1 @@\n-                textOutput.setText(\"TEST PASSED\");\n+                PassFailJFrame.forcePass();;\n@@ -68,1 +66,2 @@\n-                textOutput.setText(\"TEST FAILED (output file - \" + output + \")\");\n+                PassFailJFrame.forceFail(\"File name mismatch: \"\n+                        + fileName + \" vs \" + output);\n@@ -71,1 +70,0 @@\n-        frame.add(showBtn, BorderLayout.SOUTH);\n@@ -84,2 +82,1 @@\n-        frame.pack();\n-        return frame;\n+        return showBtn;\n@@ -92,2 +89,3 @@\n-                2) Double-click on '$clickDirName' and click OK.\n-                3) The text in the text field will indicate if test is passed or failed.\n+                2) Double-click on '$clickDirName' and click OK or Open\n+                   to confirm selection (label on the button depends on the current window manager).\n+                3) Test will pass or fail automatically.\n@@ -98,3 +96,1 @@\n-            instructions = \"\"\"\n-                    The test is not applicable for $toolkit. Press Pass.\n-                    \"\"\". replace(\"$toolkit\", toolkit);\n+            throw new SkippedException(\"Test is not designed for toolkit \" + toolkit);\n@@ -108,1 +104,1 @@\n-                .testUI(FileNameOverrideTest::initialize)\n+                .splitUIBottom(FileNameOverrideTest::initialize)\n","filename":"test\/jdk\/java\/awt\/FileDialog\/FileNameOverrideTest.java","additions":27,"deletions":31,"binary":false,"changes":58,"status":"modified"}]}
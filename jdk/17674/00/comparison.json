{"files":[{"patch":"@@ -310,9 +310,0 @@\n-static int sort_pairs(BlockPair** a, BlockPair** b) {\n-  if ((*a)->from() == (*b)->from()) {\n-    return (*a)->to()->block_id() - (*b)->to()->block_id();\n-  } else {\n-    return (*a)->from()->block_id() - (*b)->from()->block_id();\n-  }\n-}\n-\n-\n@@ -321,1 +312,0 @@\n-  IR*       _ir;\n@@ -324,1 +314,0 @@\n-  CriticalEdgeFinder(IR* ir): _ir(ir) {}\n@@ -332,1 +321,1 @@\n-          blocks.append(new BlockPair(bb, sux));\n+          blocks.append(new BlockPair(bb, sux, i));\n@@ -339,2 +328,0 @@\n-    BlockPair* last_pair = nullptr;\n-    blocks.sort(sort_pairs);\n@@ -343,1 +330,0 @@\n-      if (last_pair != nullptr && pair->is_same(last_pair)) continue;\n@@ -346,0 +332,5 @@\n+      int index = pair->index();\n+      if (to != from->end()->sux_at(index)) {\n+        \/\/ inserted\n+        continue;\n+      }\n@@ -353,1 +344,0 @@\n-      last_pair = pair;\n@@ -359,1 +349,1 @@\n-  CriticalEdgeFinder cef(this);\n+  CriticalEdgeFinder cef;\n","filename":"src\/hotspot\/share\/c1\/c1_IR.cpp","additions":7,"deletions":17,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2427,0 +2427,1 @@\n+  int _index;\n@@ -2428,1 +2429,1 @@\n-  BlockPair(BlockBegin* from, BlockBegin* to): _from(from), _to(to) {}\n+  BlockPair(BlockBegin* from, BlockBegin* to, int index): _from(from), _to(to), _index(index) {}\n@@ -2431,4 +2432,1 @@\n-  bool is_same(BlockBegin* from, BlockBegin* to) const { return  _from == from && _to == to; }\n-  bool is_same(BlockPair* p) const { return  _from == p->from() && _to == p->to(); }\n-  void set_to(BlockBegin* b)   { _to = b; }\n-  void set_from(BlockBegin* b) { _from = b; }\n+  int index() const        { return _index; }\n","filename":"src\/hotspot\/share\/c1\/c1_Instruction.hpp","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"}]}
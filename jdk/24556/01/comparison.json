{"files":[{"patch":"@@ -69,0 +69,12 @@\n+  if (InitialSurvivorRatio < MinSurvivorRatio) {\n+    if (FLAG_IS_CMDLINE(InitialSurvivorRatio)) {\n+      if (FLAG_IS_CMDLINE(MinSurvivorRatio)) {\n+        jio_fprintf(defaultStream::error_stream(),\n+          \"Inconsistent MinSurvivorRatio vs InitialSurvivorRatio: %d vs %d\\n\", MinSurvivorRatio, InitialSurvivorRatio);\n+      }\n+      FLAG_SET_DEFAULT(MinSurvivorRatio, InitialSurvivorRatio);\n+    } else {\n+      FLAG_SET_DEFAULT(InitialSurvivorRatio, MinSurvivorRatio);\n+    }\n+  }\n+\n@@ -104,11 +116,0 @@\n-\n-  \/\/ The survivor ratio's are calculated \"raw\", unlike the\n-  \/\/ default gc, which adds 2 to the ratio value. We need to\n-  \/\/ make sure the values are valid before using them.\n-  if (MinSurvivorRatio < 3) {\n-    FLAG_SET_ERGO(MinSurvivorRatio, 3);\n-  }\n-\n-  if (InitialSurvivorRatio < 3) {\n-    FLAG_SET_ERGO(InitialSurvivorRatio, 3);\n-  }\n","filename":"src\/hotspot\/share\/gc\/parallel\/parallelArguments.cpp","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -415,1 +415,1 @@\n-          range(0, max_uintx)                                               \\\n+          range(3, max_uintx)                                               \\\n","filename":"src\/hotspot\/share\/gc\/shared\/gc_globals.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,2 +68,0 @@\n-        testSurvivorRatio(-1, 3, 15, options, true);\n-        testSurvivorRatio(-1, 3, 15, options, false);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestMinAndInitialSurvivorRatioFlags.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
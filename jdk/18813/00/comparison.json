{"files":[{"patch":"@@ -2355,1 +2355,2 @@\n-  if (ABS(cl->stride_con()) == 1 ||\n+  if (cl->stride_con() == 1 ||\n+      cl->stride_con() == -1 ||\n@@ -2965,1 +2966,1 @@\n-  jlong scaled_iters_long = ((jlong)LoopStripMiningIter) * ABS(stride);\n+  jlong scaled_iters_long = ((jlong)LoopStripMiningIter) * ABS((jlong)stride);\n@@ -2967,1 +2968,6 @@\n-  int short_scaled_iters = LoopStripMiningIterShortLoop* ABS(stride);\n+  if ((jlong)scaled_iters != scaled_iters_long) {\n+    \/\/ Remove outer loop and safepoint (too few iterations)\n+    remove_outer_loop_and_safepoint(igvn);\n+    return;\n+  }\n+  int short_scaled_iters = LoopStripMiningIterShortLoop * ABS(stride);\n@@ -2971,2 +2977,2 @@\n-  if ((jlong)scaled_iters != scaled_iters_long || iter_estimate <= short_scaled_iters) {\n-    \/\/ Remove outer loop and safepoint (too few iterations)\n+  if (iter_estimate <= short_scaled_iters) {\n+    \/\/ Remove outer loop and safepoint: loop executes less than LoopStripMiningIterShortLoop\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"}]}
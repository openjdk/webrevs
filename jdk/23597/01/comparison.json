{"files":[{"patch":"@@ -50,1 +50,0 @@\n-import sun.util.logging.PlatformLogger;\n@@ -602,3 +601,3 @@\n-            PlatformLogger.getLogger(TimeZone.class.getName())\n-                .warning(\"Use of the three-letter time zone ID \\\"%s\\\" is deprecated and it will be removed in a future release\"\n-                    .formatted(ID));\n+            System.err.printf(\n+                \"WARNING: Use of the three-letter time zone ID \\\"%s\\\" is deprecated and it will be removed in a future release%n\",\n+                ID);\n","filename":"src\/java.base\/share\/classes\/java\/util\/TimeZone.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8342550\n+ * @bug 8342550 8349873\n@@ -31,1 +31,1 @@\n- * @run main ThreeLetterZoneID\n+ * @run junit ThreeLetterZoneID\n@@ -36,0 +36,2 @@\n+import org.junit.jupiter.api.Test;\n+\n@@ -37,1 +39,4 @@\n-    public static void main(String... args) throws Exception {\n+    private static final String WARNING =\n+        \"WARNING: Use of the three-letter time zone ID \\\"PST\\\" is deprecated and it will be removed in a future release\";\n+\n+    public static void main(String... args) {\n@@ -41,1 +46,1 @@\n-            checkWarningMessage();\n+            TimeZone.getDefault();\n@@ -45,3 +50,8 @@\n-    public static void checkWarningMessage() throws Exception {\n-        ProcessTools.executeTestJava(\"ThreeLetterZoneID\", \"dummy\")\n-            .shouldContain(\"Use of the three-letter time zone ID \\\"PST\\\" is deprecated and it will be removed in a future release\");\n+    @Test\n+    public void testExplicitGetTimeZone() throws Exception {\n+        ProcessTools.executeTestJava(\"ThreeLetterZoneID\", \"dummy\").stderrShouldMatch(WARNING);\n+    }\n+\n+    @Test\n+    public void testSysProp() throws Exception {\n+        ProcessTools.executeTestJava(\"-Duser.timezone=PST\", \"ThreeLetterZoneID\").stderrShouldMatch(WARNING);\n","filename":"test\/jdk\/java\/util\/TimeZone\/ThreeLetterZoneID.java","additions":17,"deletions":7,"binary":false,"changes":24,"status":"modified"}]}
{"files":[{"patch":"@@ -192,2 +192,1 @@\n-\/\/ FIXME: PRFM should not be used with writeback modes, but the assembler\n-\/\/ doesn't enfore that.\n+\/\/ PRFM does not support writeback or pre\/post index.\n@@ -195,1 +194,7 @@\n-  if (adr.getMode() == Address::literal) {\n+  Address::mode mode = adr.getMode();\n+  \/\/ PRFM does not support pre\/post index\n+  \/\/ Passing Address with pre\/post mode to ld_st2 will generate an undefined instruction.\n+  \/\/ So use guarantee to avoid pre\/post mode Address operand\n+  guarantee((mode != Address::pre), \"prfm does not support pre index\");\n+  guarantee((mode != Address::post), \"prfm does not support post index\");\n+  if (mode == Address::literal) {\n@@ -202,0 +207,2 @@\n+    assert((mode == Address::base_plus_offset)\n+            || (mode == Address::base_plus_offset_reg), \"must be base_plus_offset\/base_plus_offset_reg\");\n","filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.cpp","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"}]}
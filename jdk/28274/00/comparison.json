{"files":[{"patch":"@@ -82,0 +82,2 @@\n+import java.io.ObjectStreamField;\n+import java.io.Serial;\n@@ -145,0 +147,16 @@\n+    \/**\n+     * For backward compatibility of the serialized {@code LocalDate.class} object,\n+     * explicitly declare the types of the serialized fields as defined in JDK 1.8.\n+     * Instances of {@code LocalDate} are serialized using the dedicated\n+     * serialized form by {@code writeReplace}.\n+     * @serialField year int The year.\n+     * @serialField month short The month-of-year.\n+     * @serialField day short The day-of-month.\n+     *\/\n+    @Serial\n+    private static final ObjectStreamField[] serialPersistentFields = {\n+            new ObjectStreamField(\"year\", int.class),\n+            new ObjectStreamField(\"month\", short.class),\n+            new ObjectStreamField(\"day\", short.class)\n+    };\n+\n@@ -181,1 +199,1 @@\n-    private final int year;\n+    private final transient int year;\n@@ -185,1 +203,1 @@\n-    private final short month;\n+    private final transient byte month;\n@@ -189,1 +207,1 @@\n-    private final short day;\n+    private final transient byte day;\n@@ -493,2 +511,2 @@\n-        this.month = (short) month;\n-        this.day = (short) dayOfMonth;\n+        this.month = (byte) month;\n+        this.day = (byte) dayOfMonth;\n","filename":"src\/java.base\/share\/classes\/java\/time\/LocalDate.java","additions":23,"deletions":5,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -72,0 +72,2 @@\n+import java.io.ObjectStreamField;\n+import java.io.Serial;\n@@ -136,0 +138,14 @@\n+\n+    \/**\n+     * For backward compatibility of the serialized {@code MonthDay.class} object,\n+     * explicitly declare the types of the serialized fields as defined in JDK 1.8.\n+     * Instances of {@code MonthDay} are serialized using the dedicated\n+     * serialized form by {@code writeReplace}.\n+     * @serialField month int The month-of-year.\n+     * @serialField day int The day-of-month.\n+     *\/\n+    @Serial\n+    private static final ObjectStreamField[] serialPersistentFields = {\n+            new ObjectStreamField(\"month\", int.class),\n+            new ObjectStreamField(\"day\", int.class)\n+    };\n@@ -147,1 +163,1 @@\n-     * @serial The month-of-year, not null.\n+     * @serial The month-of-year.\n@@ -149,1 +165,1 @@\n-    private final int month;\n+    private final transient byte month;\n@@ -153,1 +169,1 @@\n-    private final int day;\n+    private final transient byte day;\n@@ -322,2 +338,2 @@\n-        this.month = month;\n-        this.day = dayOfMonth;\n+        this.month = (byte) month;\n+        this.day = (byte) dayOfMonth;\n","filename":"src\/java.base\/share\/classes\/java\/time\/MonthDay.java","additions":21,"deletions":5,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -81,0 +81,2 @@\n+import java.io.ObjectStreamField;\n+import java.io.Serial;\n@@ -140,0 +142,14 @@\n+\n+    \/**\n+     * For backward compatibility of the serialized {@code YearMonth.class} object,\n+     * explicitly declare the types of the serialized fields as defined in JDK 1.8.\n+     * Instances of {@code YearMonth} are serialized using the dedicated\n+     * serialized form by {@code writeReplace}.\n+     * @serialField year int The year.\n+     * @serialField month int The month-of-year.\n+     *\/\n+    @java.io.Serial\n+    private static final ObjectStreamField[] serialPersistentFields = {\n+            new ObjectStreamField(\"year\", int.class),\n+            new ObjectStreamField(\"month\", int.class),\n+    };\n@@ -152,1 +168,1 @@\n-    private final int year;\n+    private final transient int year;\n@@ -154,1 +170,1 @@\n-     * @serial The month-of-year, not null.\n+     * @serial The month-of-year..\n@@ -156,1 +172,1 @@\n-    private final int month;\n+    private final transient byte month;\n@@ -309,1 +325,1 @@\n-        this.month = month;\n+        this.month = (byte) month;\n","filename":"src\/java.base\/share\/classes\/java\/time\/YearMonth.java","additions":20,"deletions":4,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -140,1 +140,1 @@\n-    private final transient int monthOfYear;\n+    private final transient byte monthOfYear;\n@@ -144,1 +144,1 @@\n-    private final transient int dayOfMonth;\n+    private final transient byte dayOfMonth;\n@@ -276,2 +276,2 @@\n-        this.monthOfYear = monthOfYear;\n-        this.dayOfMonth = dayOfMonth;\n+        this.monthOfYear = (byte) monthOfYear;\n+        this.dayOfMonth = (byte) dayOfMonth;\n@@ -290,2 +290,2 @@\n-        this.monthOfYear = dateInfo[1];\n-        this.dayOfMonth = dateInfo[2];\n+        this.monthOfYear = (byte) dateInfo[1];\n+        this.dayOfMonth = (byte) dateInfo[2];\n","filename":"src\/java.base\/share\/classes\/java\/time\/chrono\/HijrahDate.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -68,0 +68,2 @@\n+import java.io.ObjectStreamClass;\n+import java.io.ObjectStreamField;\n@@ -518,0 +520,14 @@\n+\n+    \/\/ Verify serialized fields types are backward compatible\n+    @Test\n+    public void verifySerialFields() {\n+        var osc = ObjectStreamClass.lookup(LocalDate.class);\n+        for (ObjectStreamField f : osc.getFields()) {\n+            switch (f.getName()) {\n+                case \"year\" -> assertEquals(f.getType(), int.class, f.getName());\n+                case \"month\",\n+                     \"day\" -> assertEquals(f.getType(), short.class);\n+                default -> fail(\"unknown field in LocalDate: \" + f.getName());\n+            }\n+        }\n+    }\n","filename":"test\/jdk\/java\/time\/test\/java\/time\/TestLocalDate.java","additions":17,"deletions":1,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -65,0 +65,1 @@\n+import static org.testng.Assert.fail;\n@@ -66,0 +67,2 @@\n+import java.io.ObjectStreamClass;\n+import java.io.ObjectStreamField;\n@@ -147,0 +150,13 @@\n+\n+    \/\/ Verify serialized fields types are backward compatible\n+    @Test\n+    public void verifySerialFields() {\n+        var osc = ObjectStreamClass.lookup(MonthDay.class);\n+        for (ObjectStreamField f : osc.getFields()) {\n+            switch (f.getName()) {\n+                case \"month\",\n+                     \"day\" -> assertEquals(f.getType(), int.class, f.getName());\n+                default -> fail(\"unknown field in MonthDay: \" + f.getName());\n+            }\n+        }\n+    }\n","filename":"test\/jdk\/java\/time\/test\/java\/time\/TestMonthDay.java","additions":17,"deletions":1,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,0 +62,3 @@\n+import java.io.ObjectStreamClass;\n+import java.io.ObjectStreamField;\n+import java.time.LocalDate;\n@@ -66,0 +69,3 @@\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.fail;\n+\n@@ -78,0 +84,12 @@\n+    \/\/ Verify serialized fields types are backward compatible\n+    @Test\n+    public void verifySerialFields() {\n+        var osc = ObjectStreamClass.lookup(YearMonth.class);\n+        for (ObjectStreamField f : osc.getFields()) {\n+            switch (f.getName()) {\n+                case \"year\" -> assertEquals(f.getType(), int.class, f.getName());\n+                case \"month\" -> assertEquals(f.getType(), int.class, f.getName());\n+                default -> fail(\"unknown field in YearMonth: \" + f.getName());\n+            }\n+        }\n+    }\n","filename":"test\/jdk\/java\/time\/test\/java\/time\/TestYearMonth.java","additions":19,"deletions":1,"binary":false,"changes":20,"status":"modified"}]}
{"files":[{"patch":"@@ -852,4 +852,2 @@\n-    if (bs_nm->is_armed(nm)) {\n-      bool alive = bs_nm->nmethod_entry_barrier(nm);\n-      assert(alive, \"should be alive\");\n-    }\n+    bool alive = bs_nm->nmethod_entry_barrier(nm);\n+    assert(alive, \"should be alive\");\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -103,0 +103,6 @@\n+  if (!is_armed(nm)) {\n+    \/\/ Some other thread got here first and healed the oops\n+    \/\/ and disarmed the nmethod. No need to continue.\n+    return true;\n+  }\n+\n@@ -175,0 +181,3 @@\n+  \/\/ Check for disarmed method here to avoid going into DeoptimizeNMethodBarriersALot code\n+  \/\/ too often. nmethod_entry_barrier checks for disarmed status itself,\n+  \/\/ but we have no visibility into whether the barrier acted or not.\n","filename":"src\/hotspot\/share\/gc\/shared\/barrierSetNMethod.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -765,1 +765,1 @@\n-const Type *Type::hashcons(void) {\n+const Type* Type::hashcons() {\n@@ -768,1 +768,1 @@\n-  Dict *tdic = type_dict();\n+  Dict* tdic = type_dict();\n@@ -770,5 +770,6 @@\n-  if( old ) {                   \/\/ Pre-existing Type?\n-    if( old != this )           \/\/ Yes, this guy is not the pre-existing?\n-      delete this;              \/\/ Yes, Nuke this guy\n-    assert( old->_dual, \"\" );\n-    return old;                 \/\/ Return pre-existing\n+  if (old != nullptr) {\n+    if (old != this) {\n+      delete this;\n+    }\n+    assert(old->_dual, \"\");\n+    return old;\n@@ -777,0 +778,1 @@\n+#ifdef ASSERT\n@@ -793,1 +795,0 @@\n-#ifdef ASSERT\n@@ -797,2 +798,3 @@\n-#endif\n-  return this;                  \/\/ Return new Type\n+#endif \/\/ ASSERT\n+\n+  return this;\n@@ -1299,0 +1301,1 @@\n+#ifdef ASSERT\n@@ -1305,0 +1308,1 @@\n+#endif \/\/ ASSERT\n@@ -1533,0 +1537,1 @@\n+#ifdef ASSERT\n@@ -1538,0 +1543,1 @@\n+#endif \/\/ ASSERT\n@@ -1637,0 +1643,1 @@\n+#ifdef ASSERT\n@@ -1642,0 +1649,1 @@\n+#endif \/\/ ASSERT\n@@ -1743,0 +1751,1 @@\n+#ifdef ASSERT\n@@ -1748,0 +1757,1 @@\n+#endif \/\/ ASSERT\n@@ -1930,0 +1940,1 @@\n+#ifdef ASSERT\n@@ -1934,0 +1945,1 @@\n+#endif \/\/ ASSERT\n@@ -2068,0 +2080,1 @@\n+#ifdef ASSERT\n@@ -2072,0 +2085,1 @@\n+#endif \/\/ ASSERT\n@@ -2291,0 +2305,1 @@\n+#ifdef ASSERT\n@@ -2299,0 +2314,1 @@\n+#endif \/\/ ASSERT\n@@ -2443,0 +2459,1 @@\n+#ifdef ASSERT\n@@ -2450,0 +2467,1 @@\n+#endif \/\/ ASSERT\n@@ -2594,0 +2612,1 @@\n+#ifdef ASSERT\n@@ -2599,0 +2618,1 @@\n+#endif \/\/ ASSERT\n@@ -2827,0 +2847,2 @@\n+\n+#ifdef ASSERT\n@@ -2830,0 +2852,1 @@\n+#endif \/\/ ASSERT\n@@ -2908,0 +2931,1 @@\n+#ifdef ASSERT\n@@ -2917,0 +2941,1 @@\n+#endif \/\/ ASSERT\n@@ -3324,0 +3349,1 @@\n+#ifdef ASSERT\n@@ -3329,0 +3355,1 @@\n+#endif \/\/ ASSERT\n@@ -3465,0 +3492,1 @@\n+#ifdef ASSERT\n@@ -3468,0 +3496,1 @@\n+#endif \/\/ ASSERT\n@@ -3850,0 +3879,1 @@\n+#ifdef ASSERT\n@@ -3857,0 +3887,1 @@\n+#endif \/\/ ASSERT\n@@ -4754,0 +4785,1 @@\n+#ifdef ASSERT\n@@ -4760,0 +4792,1 @@\n+#endif \/\/ ASSERT\n@@ -5530,0 +5563,1 @@\n+#ifdef ASSERT\n@@ -5535,0 +5569,1 @@\n+#endif \/\/ ASSERT\n@@ -5656,0 +5691,1 @@\n+#ifdef ASSERT\n@@ -5660,0 +5696,1 @@\n+#endif \/\/ ASSERT\n@@ -5891,0 +5928,1 @@\n+#ifdef ASSERT\n@@ -5896,1 +5934,1 @@\n-\n+#endif \/\/ ASSERT\n@@ -6392,0 +6430,1 @@\n+#ifdef ASSERT\n@@ -6397,0 +6436,1 @@\n+#endif \/\/ ASSERT\n@@ -6591,1 +6631,1 @@\n-  if( this != TypeAryPtr::OOPS && this->dual() != TypeAryPtr::OOPS ) {\n+  if (this != TypeAryPtr::OOPS DEBUG_ONLY(&& this->dual() != TypeAryPtr::OOPS)) {\n@@ -6978,0 +7018,1 @@\n+#ifdef ASSERT\n@@ -6983,0 +7024,1 @@\n+#endif \/\/ ASSERT\n@@ -7084,0 +7126,1 @@\n+#ifdef ASSERT\n@@ -7089,0 +7132,1 @@\n+#endif \/\/ ASSERT\n","filename":"src\/hotspot\/share\/opto\/type.cpp","additions":56,"deletions":12,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -177,0 +177,1 @@\n+#ifdef ASSERT\n@@ -182,0 +183,1 @@\n+#endif\n@@ -196,1 +198,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -204,1 +206,1 @@\n-  Type( TYPES t ) : _dual(nullptr),  _base(t) {} \/\/ Simple types\n+  Type(TYPES t) : DEBUG_ONLY(_dual(nullptr) COMMA)  _base(t) {} \/\/ Simple types\n@@ -261,0 +263,1 @@\n+#ifdef ASSERT\n@@ -264,0 +267,1 @@\n+#endif \/\/ ASSERT\n@@ -533,1 +537,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -566,1 +570,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -598,1 +602,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -822,1 +826,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -910,1 +914,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -973,1 +977,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1014,1 +1018,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1050,1 +1054,1 @@\n-  virtual const Type* xdual() const; \/\/ Compute dual right now\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1124,1 +1128,1 @@\n-  const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1258,1 +1262,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1325,1 +1329,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1475,1 +1479,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1602,1 +1606,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1715,1 +1719,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1780,1 +1784,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1853,1 +1857,1 @@\n-  virtual const Type*    xdual()                     const { ShouldNotReachHere(); return nullptr; }\n+  DEBUG_ONLY(virtual const Type* xdual()             const { ShouldNotReachHere(); return nullptr; })\n@@ -1936,1 +1940,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -1999,1 +2003,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -2036,1 +2040,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n@@ -2169,1 +2173,1 @@\n-  virtual const Type* xdual() const;\n+  DEBUG_ONLY(virtual const Type* xdual() const;)\n","filename":"src\/hotspot\/share\/opto\/type.hpp","additions":26,"deletions":22,"binary":false,"changes":48,"status":"modified"}]}
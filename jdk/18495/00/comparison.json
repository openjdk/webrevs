{"files":[{"patch":"@@ -238,1 +238,1 @@\n-void CDSConfig::check_system_property(const char* key, const char* value) {\n+void CDSConfig::check_internal_module_property(const char* key, const char* value) {\n@@ -243,7 +243,6 @@\n-  if (strcmp(key, \"jdk.module.showModuleResolution\") == 0 ||\n-      strcmp(key, \"jdk.module.validation\") == 0 ||\n-      strcmp(key, \"java.system.class.loader\") == 0) {\n-    stop_dumping_full_module_graph();\n-    stop_using_full_module_graph();\n-    log_info(cds)(\"full module graph: disabled due to incompatible property: %s=%s\", key, value);\n-  }\n+}\n+\n+void CDSConfig::handle_incompatible_property(const char* prop) {\n+  stop_dumping_full_module_graph();\n+  stop_using_full_module_graph();\n+  log_info(cds)(\"full module graph: disabled due to incompatible property: %s\", prop);\n","filename":"src\/hotspot\/share\/cds\/cdsConfig.cpp","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -61,1 +61,2 @@\n-  static void check_system_property(const char* key, const char* value) NOT_CDS_RETURN;\n+  static void check_internal_module_property(const char* key, const char* value) NOT_CDS_RETURN;\n+  static void handle_incompatible_property(const char* prop) NOT_CDS_RETURN;\n","filename":"src\/hotspot\/share\/cds\/cdsConfig.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1260,2 +1260,0 @@\n-  CDSConfig::check_system_property(key, value);\n-\n@@ -1899,0 +1897,1 @@\n+  CDSConfig::check_internal_module_property(prop_name, prop_value);\n@@ -1918,0 +1917,1 @@\n+  CDSConfig::check_internal_module_property(prop_base_name, prop_value);\n@@ -2495,0 +2495,5 @@\n+      if (match_option(option, \"-Djava.system.class.loader=\", &value) ||\n+          match_option(option, \"-Djdk.module.showModuleResolution\", &value) ||\n+          match_option(option, \"-Djdk.module.validation\", &value)) {\n+        CDSConfig::handle_incompatible_property((const char*)option->optionString + 2);\n+      }\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}
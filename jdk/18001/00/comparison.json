{"files":[{"patch":"@@ -1330,0 +1330,3 @@\n+    \/\/ NMT: fix up the space tags\n+    MemTracker::record_virtual_memory_type(archive_space_rs.base(), mtClassShared);\n+    MemTracker::record_virtual_memory_type(class_space_rs.base(), mtClass);\n@@ -1359,1 +1362,1 @@\n-                                                     ccs_begin_offset);\n+                                                     ccs_begin_offset, mtClassShared, mtClass);\n@@ -1366,3 +1369,0 @@\n-  \/\/ NMT: fix up the space tags\n-  MemTracker::record_virtual_memory_type(archive_space_rs.base(), mtClassShared);\n-  MemTracker::record_virtual_memory_type(class_space_rs.base(), mtClass);\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -178,1 +178,1 @@\n-  static inline void record_virtual_memory_split_reserved(void* addr, size_t size, size_t split) {\n+  static inline void record_virtual_memory_split_reserved(void* addr, size_t size, size_t split, MEMFLAGS flag, MEMFLAGS split_flag) {\n@@ -183,1 +183,1 @@\n-      VirtualMemoryTracker::split_reserved_region((address)addr, size, split);\n+      VirtualMemoryTracker::split_reserved_region((address)addr, size, split, flag, split_flag);\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -563,1 +563,1 @@\n-bool VirtualMemoryTracker::split_reserved_region(address addr, size_t size, size_t split) {\n+bool VirtualMemoryTracker::split_reserved_region(address addr, size_t size, size_t split, MEMFLAGS flag, MEMFLAGS split_flag) {\n@@ -579,2 +579,2 @@\n-  add_reserved_region(addr, split, original_stack, original_flags);\n-  add_reserved_region(addr + split, size - split, original_stack, original_flags);\n+  add_reserved_region(addr, split, original_stack, flag);\n+  add_reserved_region(addr + split, size - split, original_stack, split_flag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -393,1 +393,1 @@\n-  static bool split_reserved_region(address addr, size_t size, size_t split);\n+  static bool split_reserved_region(address addr, size_t size, size_t split, MEMFLAGS flag, MEMFLAGS split_flag);\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
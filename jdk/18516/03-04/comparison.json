{"files":[{"patch":"@@ -91,1 +91,1 @@\n-\/\/ only cares about the latest version of the Method*.  This cache safely\n+\/\/ only cares about the latest version of the Method*. This cache safely\n@@ -94,4 +94,3 @@\n-  \/\/ We save the Klass* and the idnum of Method* in order to get\n-  \/\/ the current cached Method*.\n- private:\n-  Klass*                _klass;\n+  \/\/ We save the InstanceKlass* and the idnum of Method* in order to get\n+  \/\/ the current Method*.\n+  InstanceKlass*        _klass;\n@@ -103,5 +102,2 @@\n-  void   init(JavaThread* current, InstanceKlass* ik, const char* method,\n-              Symbol* signature, bool is_static);\n-  Klass* klass() const           { return _klass; }\n-  int    method_idnum() const    { return _method_idnum; }\n-\n+  void init(JavaThread* current, InstanceKlass* ik, const char* method,\n+            Symbol* signature, bool is_static);\n@@ -948,5 +944,7 @@\n-  if (klass() == nullptr) return nullptr;\n-  InstanceKlass* ik = InstanceKlass::cast(klass());\n-  Method* m = ik->method_with_idnum(method_idnum());\n-  assert(m != nullptr, \"sanity check\");\n-  return m;\n+  if (_klass == nullptr) {\n+    return nullptr;\n+  } else {\n+    Method* m = _klass->method_with_idnum(_method_idnum);\n+    assert(m != nullptr, \"sanity check\");\n+    return m;\n+  }\n","filename":"src\/hotspot\/share\/memory\/universe.cpp","additions":13,"deletions":15,"binary":false,"changes":28,"status":"modified"}]}
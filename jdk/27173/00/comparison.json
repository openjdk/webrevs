{"files":[{"patch":"@@ -217,0 +217,1 @@\n+                \/\/ Re-check writer between isLoggable() and here.\n@@ -218,3 +219,7 @@\n-                if (!doneHeader) {\n-                    writer.write(formatter.getHead(this));\n-                    doneHeader = true;\n+                if (writer != null) {\n+                    if (!doneHeader) {\n+                        writer.write(formatter.getHead(this));\n+                        doneHeader = true;\n+                    }\n+                    writer.write(msg);\n+                    synchronousPostWriteHook();\n@@ -222,2 +227,0 @@\n-                writer.write(msg);\n-                synchronousPostWriteHook();\n","filename":"src\/java.logging\/share\/classes\/java\/util\/logging\/StreamHandler.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}
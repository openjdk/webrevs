{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -556,0 +556,3 @@\n+  const char *COLD_SUFFIX = \".cold\";\n+  const int COLD_SUFFIX_LEN = strlen(COLD_SUFFIX);\n+\n@@ -557,0 +560,1 @@\n+\n@@ -559,4 +563,11 @@\n-     if (sym->name != NULL &&\n-         offset >= sym->offset && offset < sym->offset + sym->size) {\n-        if (poffset) *poffset = (offset - sym->offset);\n-        return sym->name;\n+     if (sym->name != NULL) {\n+       uintptr_t offset_max = sym->offset + sym->size;\n+       int symname_len = strlen(sym->name);\n+       if (symname_len > COLD_SUFFIX_LEN &&\n+           strncmp(&sym->name[symname_len - COLD_SUFFIX_LEN], COLD_SUFFIX, COLD_SUFFIX_LEN) == 0) {\n+         offset_max++;\n+       }\n+       if (offset >= sym->offset && offset < offset_max) {\n+          if (poffset) *poffset = (offset - sym->offset);\n+          return sym->name;\n+       }\n","filename":"src\/jdk.hotspot.agent\/linux\/native\/libsaproc\/symtab.c","additions":16,"deletions":5,"binary":false,"changes":21,"status":"modified"}]}
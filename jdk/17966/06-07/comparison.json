{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -180,3 +180,0 @@\n-    } else {\n-      \/\/ no swap\n-      return 0;\n","filename":"src\/hotspot\/os\/linux\/cgroupV1Subsystem_linux.cpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -220,1 +220,1 @@\n-        DockerTestUtils.dockerRunJava(\n+         OutputAnalyzer out = DockerTestUtils.dockerRunJava(\n@@ -224,2 +224,2 @@\n-                                      .addClassOptions(\"jdk.SwapSpace\"))\n-            .shouldHaveExitValue(0)\n+                                      .addClassOptions(\"jdk.SwapSpace\"));\n+         out.shouldHaveExitValue(0)\n@@ -227,1 +227,19 @@\n-            .shouldContain(\"freeSize = \" + expectedFreeValue);\n+            .shouldContain(\"freeSize = \");\n+         List<String> ls = out.asLinesWithoutVMWarnings();\n+         for (String cur : ls) {\n+             int idx = cur.indexOf(\"freeSize = \");\n+             if (idx != -1) {\n+                 int startNbr = idx+11;\n+                 int endNbr = cur.indexOf(' ', startNbr);\n+                 if (endNbr == -1) endNbr = cur.length();\n+                 String freeSizeStr = cur.substring(startNbr, endNbr);\n+                 long freeval = Long.parseLong(freeSizeStr);\n+                 long totalval = Long.parseLong(expectedTotalValue);\n+                 if (0 <= freeval && freeval <= totalval) {\n+                     System.out.println(\"Found freeSize value \" + freeval + \" is fine\");\n+                 } else {\n+                     System.out.println(\"Found freeSize value \" + freeval + \" is bad\");\n+                     throw new Exception(\"Found free size value is bad\");\n+                 }\n+             }\n+         }\n","filename":"test\/hotspot\/jtreg\/containers\/docker\/TestJFREvents.java","additions":22,"deletions":4,"binary":false,"changes":26,"status":"modified"}]}
{"files":[{"patch":"@@ -100,0 +100,1 @@\n+          --with-debug-info-level=1\n","filename":".github\/workflows\/build-alpine-linux.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -183,0 +183,1 @@\n+          --with-debug-info-level=1\n","filename":".github\/workflows\/build-cross-compile.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -147,0 +147,1 @@\n+          --with-debug-info-level=1\n","filename":".github\/workflows\/build-linux.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -114,0 +114,1 @@\n+          --with-debug-info-level=1\n","filename":".github\/workflows\/build-macos.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -72,0 +72,17 @@\n+  UTIL_ARG_WITH(NAME: debug-info-level, TYPE: string,\n+    DEFAULT: \"\",\n+    RESULT: DEBUG_INFO_LEVEL,\n+    DESC: [Sets the debug info level, when debug info generation is enabled (GCC and Clang only)],\n+    DEFAULT_DESC: [default])\n+  AC_SUBST(DEBUG_INFO_LEVEL)\n+\n+  if test \"x${TOOLCHAIN_TYPE}\" = xgcc || \\\n+     test \"x${TOOLCHAIN_TYPE}\" = xclang; then\n+    DEBUG_INFO_LEVEL_FLAGS=\"-g\"\n+    if test \"x${DEBUG_INFO_LEVEL}\" != \"x\"; then\n+      DEBUG_INFO_LEVEL_FLAGS=\"-g${DEBUG_INFO_LEVEL}\"\n+      FLAGS_COMPILER_CHECK_ARGUMENTS(ARGUMENT: [${DEBUG_INFO_LEVEL_FLAGS}],\n+          IF_FALSE: AC_MSG_ERROR(\"Debug info level ${DEBUG_INFO_LEVEL} is not supported\"))\n+    fi\n+  fi\n+\n@@ -96,2 +113,3 @@\n-    CFLAGS_DEBUG_SYMBOLS=\"-g -gdwarf-4\"\n-    ASFLAGS_DEBUG_SYMBOLS=\"-g\"\n+    # Debug info level should follow the debug format to be effective.\n+    CFLAGS_DEBUG_SYMBOLS=\"-gdwarf-4 ${DEBUG_INFO_LEVEL_FLAGS}\"\n+    ASFLAGS_DEBUG_SYMBOLS=\"${DEBUG_INFO_LEVEL_FLAGS}\"\n@@ -116,2 +134,3 @@\n-    CFLAGS_DEBUG_SYMBOLS=\"-g ${GDWARF_FLAGS}\"\n-    ASFLAGS_DEBUG_SYMBOLS=\"-g\"\n+    # Debug info level should follow the debug format to be effective.\n+    CFLAGS_DEBUG_SYMBOLS=\"${GDWARF_FLAGS} ${DEBUG_INFO_LEVEL_FLAGS}\"\n+    ASFLAGS_DEBUG_SYMBOLS=\"${DEBUG_INFO_LEVEL_FLAGS}\"\n","filename":"make\/autoconf\/flags-cflags.m4","additions":23,"deletions":4,"binary":false,"changes":27,"status":"modified"}]}
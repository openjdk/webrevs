{"files":[{"patch":"@@ -64,7 +64,0 @@\n-  if (DiagnoseSyncOnValueBasedClasses != 0) {\n-    load_klass(hdr, obj);\n-    lbu(hdr, Address(hdr, Klass::misc_flags_offset()));\n-    test_bit(temp, hdr, exact_log2(KlassFlags::_misc_is_value_based_class));\n-    bnez(temp, slow_case, true \/* is_far *\/);\n-  }\n-\n@@ -74,0 +67,8 @@\n+\n+    if (DiagnoseSyncOnValueBasedClasses != 0) {\n+      load_klass(hdr, obj);\n+      lbu(hdr, Address(hdr, Klass::misc_flags_offset()));\n+      test_bit(temp, hdr, exact_log2(KlassFlags::_misc_is_value_based_class));\n+      bnez(temp, slow_case, \/* is_far *\/ true);\n+    }\n+\n","filename":"src\/hotspot\/cpu\/riscv\/c1_MacroAssembler_riscv.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -292,1 +292,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -739,7 +739,0 @@\n-    if (DiagnoseSyncOnValueBasedClasses != 0) {\n-      load_klass(tmp, obj_reg);\n-      lbu(tmp, Address(tmp, Klass::misc_flags_offset()));\n-      test_bit(tmp, tmp, exact_log2(KlassFlags::_misc_is_value_based_class));\n-      bnez(tmp, slow_case);\n-    }\n-\n@@ -750,0 +743,8 @@\n+\n+      if (DiagnoseSyncOnValueBasedClasses != 0) {\n+        load_klass(tmp, obj_reg);\n+        lbu(tmp, Address(tmp, Klass::misc_flags_offset()));\n+        test_bit(tmp, tmp, exact_log2(KlassFlags::_misc_is_value_based_class));\n+        bnez(tmp, slow_case);\n+      }\n+\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -6365,1 +6365,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n@@ -6369,0 +6369,7 @@\n+  if (DiagnoseSyncOnValueBasedClasses != 0) {\n+    load_klass(tmp1, obj);\n+    lbu(tmp1, Address(tmp1, Klass::misc_flags_offset()));\n+    test_bit(tmp1, tmp1, exact_log2(KlassFlags::_misc_is_value_based_class));\n+    bnez(tmp1, slow, \/* is_far *\/ true);\n+  }\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -72,6 +72,0 @@\n-  if (DiagnoseSyncOnValueBasedClasses != 0) {\n-    load_klass(tmp, Roop);\n-    z_tm(Address(tmp, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n-    branch_optimized(Assembler::bcondAllOne, slow_case);\n-  }\n-\n@@ -83,0 +77,7 @@\n+\n+    if (DiagnoseSyncOnValueBasedClasses != 0) {\n+      load_klass(tmp, Roop);\n+      z_tm(Address(tmp, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n+      branch_optimized(Assembler::bcondAllOne, slow_case);\n+    }\n+\n","filename":"src\/hotspot\/cpu\/s390\/c1_MacroAssembler_s390.cpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1005,6 +1005,0 @@\n-  if (DiagnoseSyncOnValueBasedClasses != 0) {\n-    load_klass(tmp, object);\n-    z_tm(Address(tmp, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n-    z_btrue(slow_case);\n-  }\n-\n@@ -1015,0 +1009,6 @@\n+    if (DiagnoseSyncOnValueBasedClasses != 0) {\n+      load_klass(tmp, object);\n+      z_tm(Address(tmp, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n+      z_btrue(slow_case);\n+    }\n+\n","filename":"src\/hotspot\/cpu\/s390\/interp_masm_s390.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -6366,1 +6366,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n@@ -6371,0 +6371,6 @@\n+  if (DiagnoseSyncOnValueBasedClasses != 0) {\n+    load_klass(temp1, obj);\n+    z_tm(Address(temp1, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n+    z_brne(slow);\n+  }\n+\n@@ -6504,1 +6510,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n","filename":"src\/hotspot\/cpu\/s390\/macroAssembler_s390.cpp","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"}]}
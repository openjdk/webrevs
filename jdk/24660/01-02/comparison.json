{"files":[{"patch":"@@ -58,6 +58,0 @@\n-  if (DiagnoseSyncOnValueBasedClasses != 0) {\n-    load_klass(hdr, obj, rscratch1);\n-    testb(Address(hdr, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n-    jcc(Assembler::notZero, slow_case);\n-  }\n-\n@@ -68,0 +62,7 @@\n+\n+    if (DiagnoseSyncOnValueBasedClasses != 0) {\n+      load_klass(hdr, obj, rscratch1);\n+      testb(Address(hdr, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n+      jcc(Assembler::notZero, slow_case);\n+    }\n+\n","filename":"src\/hotspot\/cpu\/x86\/c1_MacroAssembler_x86.cpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1026,6 +1026,0 @@\n-    if (DiagnoseSyncOnValueBasedClasses != 0) {\n-      load_klass(tmp_reg, obj_reg, rklass_decode_tmp);\n-      testb(Address(tmp_reg, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n-      jcc(Assembler::notZero, slow_case);\n-    }\n-\n@@ -1035,0 +1029,6 @@\n+      if (DiagnoseSyncOnValueBasedClasses != 0) {\n+        load_klass(tmp_reg, obj_reg, rklass_decode_tmp);\n+        testb(Address(tmp_reg, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n+        jcc(Assembler::notZero, slow_case);\n+      }\n+\n","filename":"src\/hotspot\/cpu\/x86\/interp_masm_x86.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -10362,1 +10362,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n@@ -10366,0 +10366,6 @@\n+  if (DiagnoseSyncOnValueBasedClasses != 0) {\n+    load_klass(tmp, obj, rscratch1);\n+    testb(Address(tmp, Klass::misc_flags_offset()), KlassFlags::_misc_is_value_based_class);\n+    jcc(Assembler::notZero, slow);\n+  }\n+\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -57,1 +57,0 @@\n-#include \"runtime\/basicLock.inline.hpp\"\n@@ -768,4 +767,0 @@\n-  if (UseObjectMonitorTable) {\n-    \/\/ C1 fast-path does not use the BasicLock monitor cache.\n-    lock->lock()->clear_object_monitor_cache();\n-  }\n","filename":"src\/hotspot\/share\/c1\/c1_Runtime1.cpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -59,1 +59,0 @@\n-#include \"runtime\/basicLock.inline.hpp\"\n@@ -728,4 +727,0 @@\n-  if (UseObjectMonitorTable) {\n-    \/\/ Interpreter fast-path does not use the BasicLock monitor cache.\n-    elem->lock()->clear_object_monitor_cache();\n-  }\n","filename":"src\/hotspot\/share\/interpreter\/interpreterRuntime.cpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"}]}
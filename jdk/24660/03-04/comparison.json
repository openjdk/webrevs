{"files":[{"patch":"@@ -86,7 +86,0 @@\n-  if (DiagnoseSyncOnValueBasedClasses != 0) {\n-    load_klass(Rscratch, Roop);\n-    lbz(Rscratch, in_bytes(Klass::misc_flags_offset()), Rscratch);\n-    testbitdi(CR0, R0, Rscratch, exact_log2(KlassFlags::_misc_is_value_based_class));\n-    bne(CR0, slow_int);\n-  }\n-\n@@ -96,0 +89,8 @@\n+\n+    if (DiagnoseSyncOnValueBasedClasses != 0) {\n+      load_klass(Rscratch, Roop);\n+      lbz(Rscratch, in_bytes(Klass::misc_flags_offset()), Rscratch);\n+      testbitdi(CR0, R0, Rscratch, exact_log2(KlassFlags::_misc_is_value_based_class));\n+      bne(CR0, slow_int);\n+    }\n+\n","filename":"src\/hotspot\/cpu\/ppc\/c1_MacroAssembler_ppc.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -961,7 +961,0 @@\n-    if (DiagnoseSyncOnValueBasedClasses != 0) {\n-      load_klass(tmp, object);\n-      lbz(tmp, in_bytes(Klass::misc_flags_offset()), tmp);\n-      testbitdi(CR0, R0, tmp, exact_log2(KlassFlags::_misc_is_value_based_class));\n-      bne(CR0, slow_case);\n-    }\n-\n@@ -972,0 +965,8 @@\n+\n+      if (DiagnoseSyncOnValueBasedClasses != 0) {\n+        load_klass(tmp, object);\n+        lbz(tmp, in_bytes(Klass::misc_flags_offset()), tmp);\n+        testbitdi(CR0, R0, tmp, exact_log2(KlassFlags::_misc_is_value_based_class));\n+        bne(CR0, slow_case);\n+      }\n+\n","filename":"src\/hotspot\/cpu\/ppc\/interp_masm_ppc_64.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -3003,1 +3003,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n@@ -5002,1 +5002,1 @@\n-  assert_different_registers(box, obj, t1, t2);\n+  assert_different_registers(box, obj, t1, t2, R0);\n@@ -5005,2 +5005,0 @@\n-  const Register top = t1;\n-  const Register mark = t2;\n@@ -5010,1 +5008,1 @@\n-    \/\/ Clear cache in case fast locking succeeds.\n+    \/\/ Clear cache in case fast locking succeeds or we need to take the slow-path.\n@@ -5015,0 +5013,10 @@\n+  if (DiagnoseSyncOnValueBasedClasses != 0) {\n+    load_klass(t1, obj);\n+    lbz(t1, in_bytes(Klass::misc_flags_offset()), t1);\n+    testbitdi(CR0, R0, t1, exact_log2(KlassFlags::_misc_is_value_based_class));\n+    bne(CR0, slow);\n+  }\n+\n+  const Register top = t1;\n+  const Register mark = t2;\n+\n","filename":"src\/hotspot\/cpu\/ppc\/macroAssembler_ppc.cpp","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"}]}
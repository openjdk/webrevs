{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,1 +70,0 @@\n-import jdk.test.lib.Utils;\n@@ -1023,6 +1022,8 @@\n-        String[] cmd = new String[args.length + 2];\n-        cmd[0] = JdkUtils.class.getName();\n-        cmd[1] = method;\n-        System.arraycopy(args, 0, cmd, 2, args.length);\n-        ProcessBuilder pb = ProcessTools.createTestJavaProcessBuilder(cmd);\n-        return ProcessTools.executeCommand(pb).getStdout();\n+        String[] cmd = new String[args.length + 5];\n+        cmd[0] = jdkPath + \"\/bin\/java\";\n+        cmd[1] = \"-cp\";\n+        cmd[2] = TEST_CLASSES;\n+        cmd[3] = JdkUtils.class.getName();\n+        cmd[4] = method;\n+        System.arraycopy(args, 0, cmd, 5, args.length);\n+        return ProcessTools.executeCommand(cmd).getStdout();\n@@ -1039,2 +1040,2 @@\n-            String [] jvmArgs = getJvmTestOpts();\n-            cmd = new String[args.length + jvmArgs.length + 3];\n+            cmd = new String[args.length + 3];\n+            System.arraycopy(args, 0, cmd, 3, args.length);\n@@ -1044,2 +1045,0 @@\n-            System.arraycopy(jvmArgs,0, cmd, 3, jvmArgs.length);\n-            System.arraycopy(args, 0, cmd, 3 + jvmArgs.length, args.length);\n@@ -1054,6 +1053,0 @@\n-    private static String[] getJvmTestOpts() {\n-        return Arrays.stream(Utils.prependTestJavaOpts())\n-                .map(opt -> \"-J\" + opt)\n-                .toArray(String[]::new);\n-    }\n-\n","filename":"test\/jdk\/sun\/security\/tools\/jarsigner\/compatibility\/Compatibility.java","additions":11,"deletions":18,"binary":false,"changes":29,"status":"modified"}]}
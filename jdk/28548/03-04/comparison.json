{"files":[{"patch":"@@ -2658,2 +2658,1 @@\n-    assert(UseAESIntrinsics, \"Must be\");\n-    assert(UseZvkn, \"need AES instructions (Zvkned extension) support\");\n+    assert(UseAESIntrinsics, \"need AES instructions (Zvkned extension) support\");\n@@ -2748,2 +2747,1 @@\n-    assert(UseAESIntrinsics, \"Must be\");\n-    assert(UseZvkn, \"need AES instructions (Zvkned extension) support\");\n+    assert(UseAESIntrinsics, \"need AES instructions (Zvkned extension) support\");\n@@ -2953,3 +2951,1 @@\n-    assert(UseAESCTRIntrinsics, \"Must be\");\n-    assert(UseZvkn, \"need AES instructions (Zvkned extension) support\");\n-    assert(UseZbb, \"need basic bit manipulation (Zbb extension) support\");\n+    assert(UseAESCTRIntrinsics, \"need AES instructions (Zvkned extension) and Zbb extension support\");\n@@ -3017,3 +3013,1 @@\n-    assert(UseGHASHIntrinsics, \"Must be\");\n-    assert(UseZvbb, \"need Zvbb extension support\");\n-    assert(UseZvkg, \"need GHASH instructions (Zvkg extension) support\");\n+    assert(UseGHASHIntrinsics, \"need GHASH instructions (Zvkg extension) and Zvbb support\");\n@@ -3053,0 +3047,1 @@\n+\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -461,2 +461,9 @@\n-  if (UseZvkg && UseZvbb) {\n-    FLAG_SET_DEFAULT(UseGHASHIntrinsics, true);\n+  if (UseZvkg) {\n+    if (FLAG_IS_DEFAULT(UseGHASHIntrinsics) && UseZvbb) {\n+      FLAG_SET_DEFAULT(UseGHASHIntrinsics, true);\n+    }\n+\n+    if (UseGHASHIntrinsics && !UseZvbb) {\n+      warning(\"Cannot enable UseGHASHIntrinsics on cpu without UseZvbb support\");\n+      FLAG_SET_DEFAULT(UseGHASHIntrinsics, false);\n+    }\n@@ -464,2 +471,4 @@\n-    warning(\"GHASH intrinsics are not available on this CPU\");\n-    FLAG_SET_DEFAULT(UseGHASHIntrinsics, false);\n+    if (UseGHASHIntrinsics) {\n+      warning(\"Cannot enable UseGHASHIntrinsics on cpu without UseZvkg support\");\n+      FLAG_SET_DEFAULT(UseGHASHIntrinsics, false);\n+    }\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.cpp","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"}]}
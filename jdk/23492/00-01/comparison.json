{"files":[{"patch":"@@ -32,1 +32,0 @@\n-import jdk.test.lib.Asserts;\n@@ -35,1 +34,0 @@\n-import java.io.File;\n@@ -37,0 +35,2 @@\n+import java.nio.charset.Charset;\n+import java.nio.file.Path;\n@@ -38,1 +38,0 @@\n-import java.util.regex.Pattern;\n@@ -43,5 +42,5 @@\n-        final var certPath = String.format(\"%s%s..%sHostnameChecker%scert5.crt\",\n-                System.getProperty(\"test.src\", \".\"),\n-                File.separator,\n-                File.separator,\n-                File.separator);\n+        final var certPath = Path.of(System.getProperty(\"test.src\", \".\"))\n+                .getParent()\n+                .resolve(\"HostnameChecker\")\n+                .resolve(\"cert5.crt\")\n+                .toString();\n@@ -54,7 +53,0 @@\n-\n-        \/\/ printing and saving all output from the subprocess\n-        final var subProcessOutput = result.getStdout();\n-        final var subProcessErr = result.getStderr();\n-        System.out.printf(\"Output:\\n%s%n\", subProcessOutput);\n-        System.err.printf(\"Error output:\\n%s%n\", subProcessErr);\n-\n@@ -63,11 +55,0 @@\n-        \/\/ checking if there are any errors in the result\n-        Asserts.assertEquals(subProcessErr, \"\", \"Errors found in subprocess\");\n-\n-        \/\/ checking if there are non ASCII characters, as UTF-16 characters should be present in signature\n-        final var pattern = Pattern.compile(\"[^\\\\x00-\\\\x7F]\");\/\/ detects all non-ASCII characters\n-        final var matcher = pattern.matcher(subProcessOutput);\n-\n-        \/\/ Some systems may automatically convert non-ASCII to ?\n-        \/\/ so this will detect the signature in all possible scenarios\n-        final var isUTF16Used = matcher.find() || subProcessOutput.contains(\"??: ?\");\n-        Asserts.assertTrue(isUTF16Used, \"UTF-16 was used\");\n@@ -83,0 +64,4 @@\n+\n+            if (!\"UTF-16\".equals(Charset.defaultCharset().displayName())) {\n+                throw new RuntimeException(\"File encoding is not UTF-16\");\n+            }\n","filename":"test\/jdk\/sun\/security\/util\/Pem\/PemEncoding.java","additions":11,"deletions":26,"binary":false,"changes":37,"status":"modified"}]}
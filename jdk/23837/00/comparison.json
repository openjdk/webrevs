{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,0 @@\n- * @author Scott Violet\n@@ -48,1 +47,0 @@\n-\n@@ -51,7 +49,3 @@\n-    private JMenu menu;\n-\n-    private JFrame frame;\n-\n-    public static void main(String[] args) throws Throwable {\n-        new bug4213634();\n-    }\n+    private static JMenu menu;\n+    private static JFrame frame;\n+    private static Robot robot;\n@@ -59,6 +53,4 @@\n-    bug4213634() throws AWTException, InterruptedException, InvocationTargetException {\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            @Override\n-            public void run() {\n-                createAndShowGUI();\n-            }\n+    public static void main(String[] args) throws Exception {\n+        robot = new Robot();\n+        SwingUtilities.invokeAndWait(() -> {\n+            createAndShowGUI();\n@@ -67,0 +59,2 @@\n+        robot.waitForIdle();\n+        robot.delay(1000);\n@@ -70,1 +64,1 @@\n-    public  void createAndShowGUI() {\n+    public static void createAndShowGUI() {\n@@ -80,1 +74,2 @@\n-        frame.setBounds(100, 100, 400, 400);\n+        frame.setSize(400, 400);\n+        frame.setLocationRelativeTo(null);\n@@ -85,4 +80,1 @@\n-    private void test() throws AWTException, InterruptedException, InvocationTargetException {\n-        Robot robot = new Robot();\n-        robot.setAutoDelay(50);\n-        robot.waitForIdle();\n+    private static void test() throws AWTException, InterruptedException, InvocationTargetException {\n@@ -92,0 +84,1 @@\n+        robot.delay(100);\n@@ -93,10 +86,7 @@\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            @Override\n-            public void run() {\n-                if (!menu.isSelected()) {\n-                    throw new RuntimeException(\n-                        \"Failed: Menu didn't remain posted at end of test\");\n-                } else {\n-                    System.out.println(\"Test passed!\");\n-                    frame.dispose();\n-                }\n+        SwingUtilities.invokeAndWait(() -> {\n+            frame.dispose();\n+            if (!menu.isSelected()) {\n+                throw new RuntimeException(\n+                    \"Failed: Menu didn't remain posted at end of test\");\n+            } else {\n+                System.out.println(\"Test passed!\");\n@@ -106,1 +96,2 @@\n-    private JMenu createMenu(String str, boolean bFlag) {\n+\n+    private static JMenu createMenu(String str, boolean bFlag) {\n@@ -119,1 +110,1 @@\n-            if(bFlag)\n+            if (bFlag) {\n@@ -121,0 +112,1 @@\n+            }\n","filename":"test\/jdk\/javax\/swing\/JMenu\/4213634\/bug4213634.java","additions":26,"deletions":34,"binary":false,"changes":60,"status":"modified"}]}
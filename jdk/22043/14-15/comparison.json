{"files":[{"patch":"@@ -293,0 +293,1 @@\n+            final int lastIndex = head.size;\n@@ -294,2 +295,2 @@\n-            phc.index = head.size;\n-            head.arr[head.size] = phc;\n+            phc.index = lastIndex;\n+            head.arr[lastIndex] = phc;\n@@ -311,1 +312,0 @@\n-            assert head.size > 0;\n@@ -316,2 +316,4 @@\n-            if (head != phc.node || (phc.index != head.size - 1)) {\n-                PhantomCleanable<?> mover = head.arr[head.size - 1];\n+            final int lastIndex = head.size - 1;\n+            assert lastIndex >= 0;\n+            if (head != phc.node || (phc.index != lastIndex)) {\n+                PhantomCleanable<?> mover = head.arr[lastIndex];\n@@ -327,1 +329,1 @@\n-            head.arr[head.size - 1] = null;\n+            head.arr[lastIndex] = null;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/ref\/CleanerImpl.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,0 @@\n-import java.util.concurrent.atomic.AtomicReference;\n@@ -106,2 +105,1 @@\n-    private final AtomicReference<FontRenderContext> frc =\n-        new AtomicReference<FontRenderContext>(null);\n+    private volatile FontRenderContext frc;\n@@ -328,0 +326,1 @@\n+\n@@ -343,1 +342,2 @@\n-                        return (frc.get() == null)\n+                        FontRenderContext frc = TextComponentPrintable.this.frc;\n+                        return (frc == null)\n@@ -345,1 +345,1 @@\n-                            : FontDesignMetrics.getMetrics(font, frc.get());\n+                            : FontDesignMetrics.getMetrics(font, frc);\n@@ -357,1 +357,2 @@\n-                        return (frc.get() == null)\n+                        FontRenderContext frc = TextComponentPrintable.this.frc;\n+                        return (frc == null)\n@@ -359,1 +360,1 @@\n-                            : FontDesignMetrics.getMetrics(font, frc.get());\n+                            : FontDesignMetrics.getMetrics(font, frc);\n@@ -373,1 +374,2 @@\n-                        return (frc.get() == null)\n+                        FontRenderContext frc = TextComponentPrintable.this.frc;\n+                        return (frc == null)\n@@ -375,1 +377,1 @@\n-                            : FontDesignMetrics.getMetrics(font, frc.get());\n+                            : FontDesignMetrics.getMetrics(font, frc);\n@@ -383,1 +385,2 @@\n-                        return (frc.get() == null)\n+                        FontRenderContext frc = TextComponentPrintable.this.frc;\n+                        return (frc == null)\n@@ -385,1 +388,1 @@\n-                            : FontDesignMetrics.getMetrics(font, frc.get());\n+                            : FontDesignMetrics.getMetrics(font, frc);\n@@ -401,1 +404,2 @@\n-                        return (frc.get() == null)\n+                        FontRenderContext frc = TextComponentPrintable.this.frc;\n+                        return (frc == null)\n@@ -403,1 +407,1 @@\n-                            : FontDesignMetrics.getMetrics(font, frc.get());\n+                            : FontDesignMetrics.getMetrics(font, frc);\n@@ -469,1 +473,1 @@\n-                frc.set(((Graphics2D)graphics).getFontRenderContext());\n+                frc = ((Graphics2D)graphics).getFontRenderContext();\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/text\/TextComponentPrintable.java","additions":19,"deletions":15,"binary":false,"changes":34,"status":"modified"}]}
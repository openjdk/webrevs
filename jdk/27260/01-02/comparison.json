{"files":[{"patch":"@@ -199,1 +199,0 @@\n-  template <typename CMP>\n@@ -201,1 +200,1 @@\n-      std::is_invocable_r_v<RBTreeOrdering, decltype(&CMP::cmp), K, K>;\n+      std::is_invocable_r_v<RBTreeOrdering, decltype(&COMPARATOR::cmp), K, K>;\n@@ -203,1 +202,0 @@\n-  template <typename CMP>\n@@ -205,1 +203,1 @@\n-      std::is_invocable_r_v<RBTreeOrdering, decltype(&CMP::cmp), K, const NodeType*>;\n+      std::is_invocable_r_v<RBTreeOrdering, decltype(&COMPARATOR::cmp), K, const NodeType*>;\n@@ -207,2 +205,2 @@\n-  template <typename CMP, typename = void>\n-  static constexpr bool HasNodeVerifier = false;\n+  template<typename, typename = void>\n+  struct has_node_verifier : std::false_type {};\n@@ -211,2 +209,4 @@\n-  static constexpr bool HasNodeVerifier<CMP, std::void_t<decltype(&CMP::less_than)>> =\n-      std::is_invocable_r_v<bool, decltype(&CMP::less_than), const NodeType*, const NodeType*>;\n+  struct has_node_verifier<CMP, std::void_t<decltype(&CMP::less_than)>>\n+      : std::bool_constant<std::is_invocable_r_v<bool, decltype(&CMP::less_than), const NodeType*, const NodeType*>> {};\n+\n+  static constexpr bool HasNodeVerifier = has_node_verifier<COMPARATOR>::value;\n@@ -215,1 +215,1 @@\n-    if constexpr (HasNodeComparator<COMPARATOR>) {\n+    if constexpr (HasNodeComparator) {\n@@ -217,1 +217,1 @@\n-    } else if constexpr (HasKeyComparator<COMPARATOR>) {\n+    } else if constexpr (HasKeyComparator) {\n@@ -223,1 +223,1 @@\n-    if constexpr (HasNodeVerifier<COMPARATOR>) {\n+    if constexpr (HasNodeVerifier) {\n@@ -231,1 +231,1 @@\n-    if constexpr (HasKeyComparator<COMPARATOR>) { \/\/ Cannot assert if no key comparator exist.\n+    if constexpr (HasKeyComparator) { \/\/ Cannot assert if no key comparator exist.\n@@ -275,2 +275,1 @@\n-    static_assert(HasKeyComparator<COMPARATOR> || HasNodeComparator<COMPARATOR>,\n-                  \"comparator must be of correct type\");\n+    static_assert(HasKeyComparator || HasNodeComparator, \"comparator must be of correct type\");\n@@ -436,1 +435,1 @@\n-    if constexpr (HasNodeVerifier<COMPARATOR>) {\n+    if constexpr (HasNodeVerifier) {\n@@ -438,1 +437,1 @@\n-    } else if constexpr (HasKeyComparator<COMPARATOR>) {\n+    } else if constexpr (HasKeyComparator) {\n","filename":"src\/hotspot\/share\/utilities\/rbTree.hpp","additions":15,"deletions":16,"binary":false,"changes":31,"status":"modified"}]}
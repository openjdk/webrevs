{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -137,1 +137,1 @@\n-  _compaction_tops = NEW_C_HEAP_ARRAY(HeapWord*, _heap->max_num_regions(), mtGC);\n+  _compaction_tops = NEW_C_HEAP_ARRAY(Atomic<HeapWord*>, _heap->max_num_regions(), mtGC);\n@@ -140,1 +140,1 @@\n-    _compaction_tops[j] = nullptr;\n+    ::new (&_compaction_tops[j]) Atomic<HeapWord*>{};\n@@ -162,1 +162,1 @@\n-  FREE_C_HEAP_ARRAY(HeapWord*, _compaction_tops);\n+  FREE_C_HEAP_ARRAY(Atomic<HeapWord*>, _compaction_tops);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullCollector.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-  HeapWord* volatile* _compaction_tops;\n+  Atomic<HeapWord*>* _compaction_tops;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullCollector.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-  AtomicAccess::store(&_compaction_tops[r->hrm_index()], value);\n+  _compaction_tops[r->hrm_index()].store_relaxed(value);\n@@ -70,1 +70,1 @@\n-  return AtomicAccess::load(&_compaction_tops[r->hrm_index()]);\n+  return _compaction_tops[r->hrm_index()].load_relaxed();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullCollector.inline.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
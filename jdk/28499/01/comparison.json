{"files":[{"patch":"@@ -436,12 +436,1 @@\n-                CipherSuite suite;\n-                try {\n-                    suite = CipherSuite.nameOf(cipherSuiteNames[i]);\n-                } catch (IllegalArgumentException iae) {\n-                    if (SSLLogger.isOn() && SSLLogger.isOn(\"ssl,sslctx\")) {\n-                        SSLLogger.fine(\n-                                \"Unknown or unsupported cipher suite name: \" +\n-                                cipherSuiteNames[i]);\n-                    }\n-\n-                    continue;\n-                }\n+                CipherSuite suite = CipherSuite.nameOf(cipherSuiteNames[i]);\n@@ -452,5 +441,3 @@\n-                    if (SSLLogger.isOn() && SSLLogger.isOn(\"ssl,sslctx\")) {\n-                        SSLLogger.fine(\n-                                \"The current installed providers do not \" +\n-                                \"support cipher suite: \" + cipherSuiteNames[i]);\n-                    }\n+                    SSLLogger.logWarning(\"ssl,sslctx\",\n+                            \"Unknown or unsupported cipher suite: \"\n+                                    + cipherSuiteNames[i]);\n@@ -460,0 +447,6 @@\n+            if (cipherSuites.isEmpty()) {\n+                throw new IllegalArgumentException(\"System property \"\n+                        + propertyName\n+                        + \" contains no supported cipher suites\");\n+            }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLContextImpl.java","additions":10,"deletions":17,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,5 +36,0 @@\n- *      -Djdk.tls.client.cipherSuites=\"unknown\"\n- *      CustomizedCipherSuites Default true\n- *      TLS_RSA_WITH_AES_128_CBC_SHA\n- *      TLS_ECDH_anon_WITH_AES_128_CBC_SHA\n- * @run main\/othervm\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLContextImpl\/CustomizedCipherSuites.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -0,0 +1,51 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import static jdk.test.lib.Asserts.assertEquals;\n+import static jdk.test.lib.Asserts.assertTrue;\n+import static jdk.test.lib.Utils.runAndCheckException;\n+\n+\/*\n+ * @test\n+ * @bug 8371688\n+ * @summary Unexpected behavior for jdk.tls.client.cipherSuites system property\n+ * @library \/javax\/net\/ssl\/templates\n+ *          \/test\/lib\n+ * @run main\/othervm NoSupportedCipherSuites jdk.tls.client.cipherSuites\n+ * @run main\/othervm NoSupportedCipherSuites jdk.tls.server.cipherSuites\n+ *\/\n+\n+public class NoSupportedCipherSuites extends SSLSocketTemplate {\n+\n+    public static void main(String[] args) throws Exception {\n+        System.setProperty(args[0], \"Unsupported_Cipher_Suite\");\n+        runAndCheckException(() -> new NoSupportedCipherSuites().run(),\n+                ex -> {\n+                    assertTrue(ex instanceof ExceptionInInitializerError);\n+                    assertTrue(ex.getCause() instanceof IllegalArgumentException);\n+                    assertEquals(\"System property \" + args[0]\n+                            + \" contains no supported cipher suites\",\n+                            ex.getCause().getMessage());\n+                });\n+    }\n+}\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLContextImpl\/NoSupportedCipherSuites.java","additions":51,"deletions":0,"binary":false,"changes":51,"status":"added"}]}
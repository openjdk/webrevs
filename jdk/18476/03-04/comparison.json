{"files":[{"patch":"@@ -648,1 +648,1 @@\n-      \/\/ rbp | r12 | r20 | r28\n+      \/\/ rsp | r12 | r20 | r28\n@@ -670,1 +670,1 @@\n-      \/\/ !(rbp | r12 | r20 | r28) were handled above\n+      \/\/ !(rsp | r12 | r20 | r28) were handled above\n@@ -1391,1 +1391,1 @@\n-  (void) prefix_and_encode(dst->encoding(), true);\n+  (void) prefix_and_encode(dst->encoding(), true \/* is_map1 *\/);\n@@ -1617,1 +1617,1 @@\n-  prefix(dst, src, true);\n+  prefix(dst, src, true \/* is_map1 *\/);\n@@ -1675,1 +1675,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -1680,1 +1680,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -1685,1 +1685,1 @@\n-  int encode = prefix_and_encode(reg->encoding(), false, true);\n+  int encode = prefix_and_encode(reg->encoding(), false, true \/* is_map1 *\/);\n@@ -1799,1 +1799,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -2454,1 +2454,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -2630,1 +2630,1 @@\n-    prefix(src, true);\n+    prefix(src, true \/* is_map1 *\/);\n@@ -2658,1 +2658,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -2714,1 +2714,1 @@\n-  prefix(src, dst, true);\n+  prefix(src, dst, true \/* is_map1 *\/);\n@@ -3135,1 +3135,1 @@\n-  prefix(dst, src, true);\n+  prefix(dst, src, true \/* is_map1 *\/);\n@@ -3719,1 +3719,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -3810,1 +3810,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -4230,1 +4230,1 @@\n-  prefix(dst, src, true);\n+  prefix(dst, src, true \/* is_map1 *\/);\n@@ -5327,1 +5327,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -5400,1 +5400,1 @@\n-  prefix(src, true);\n+  prefix(src, true \/* is_map1 *\/);\n@@ -5408,1 +5408,1 @@\n-  prefix(src, true);\n+  prefix(src, true \/* is_map1 *\/);\n@@ -5416,1 +5416,1 @@\n-  prefix(src, true);\n+  prefix(src, true \/* is_map1 *\/);\n@@ -5424,1 +5424,1 @@\n-  prefix(src, true);\n+  prefix(src, true \/* is_map1 *\/);\n@@ -5432,1 +5432,1 @@\n-  prefix(src, true);\n+  prefix(src, true \/* is_map1 *\/);\n@@ -5440,1 +5440,1 @@\n-  prefix(src, true);\n+  prefix(src, true \/* is_map1 *\/);\n@@ -6226,1 +6226,1 @@\n-  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true);\n+  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true \/* is_map1 *\/);\n@@ -6231,1 +6231,1 @@\n-  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true);\n+  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true \/* is_map1 *\/);\n@@ -6236,1 +6236,1 @@\n-  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true);\n+  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true \/* is_map1 *\/);\n@@ -6241,1 +6241,1 @@\n-  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true);\n+  int encode = prefix_and_encode(src->encoding(), dst->encoding(), true \/* is_map1 *\/);\n@@ -6247,1 +6247,1 @@\n-  int encode = prefixq_and_encode(src->encoding(), dst->encoding(), true);\n+  int encode = prefixq_and_encode(src->encoding(), dst->encoding(), true \/* is_map1 *\/);\n@@ -6252,1 +6252,1 @@\n-  int encode = prefixq_and_encode(src->encoding(), dst->encoding(), true);\n+  int encode = prefixq_and_encode(src->encoding(), dst->encoding(), true \/* is_map1 *\/);\n@@ -6330,1 +6330,1 @@\n-    prefix(dst, true);\n+    prefix(dst, true \/* is_map1 *\/);\n@@ -6420,1 +6420,1 @@\n-    (void) prefix_and_encode(dst->encoding(), true);\n+    (void) prefix_and_encode(dst->encoding(), true \/* is_map1 *\/);\n@@ -6471,1 +6471,1 @@\n-  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefix_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -6487,1 +6487,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -6580,1 +6580,1 @@\n-  prefix(src, dst, true);\n+  prefix(src, dst, true \/* is_map1 *\/);\n@@ -6652,1 +6652,1 @@\n-  prefix(dst, src, true);\n+  prefix(dst, src, true \/* is_map1 *\/);\n@@ -12895,3 +12895,1 @@\n-  if (adr.index_needs_rex2()) {\n-    assert(false, \"prefix(Register dst, Address adr) does not support handling of an X\");\n-  }\n+  assert(!adr.index_needs_rex2(), \"prefix(Register dst, Address adr) does not support handling of an X\");\n@@ -13384,1 +13382,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13389,1 +13387,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13394,1 +13392,1 @@\n-  int encode = prefixq_and_encode(reg->encoding(), true);\n+  int encode = prefixq_and_encode(reg->encoding(), true \/* is_map1 *\/);\n@@ -13455,1 +13453,1 @@\n-  prefix(adr, true);\n+  prefix(adr, true \/* is_map1 *\/);\n@@ -13468,1 +13466,1 @@\n-  prefix(adr, true);\n+  prefix(adr, true \/* is_map1 *\/);\n@@ -13483,1 +13481,1 @@\n-  prefix(adr, true);\n+  prefix(adr, true \/* is_map1 *\/);\n@@ -13491,1 +13489,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13497,1 +13495,1 @@\n-  int prefix = get_prefixq(src, dst, true \/* M0 *\/);\n+  int prefix = get_prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13532,1 +13530,1 @@\n-  int prefix = get_prefixq(adr, reg, true \/* M0 *\/);\n+  int prefix = get_prefixq(adr, reg, true \/* is_map1 *\/);\n@@ -13650,1 +13648,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13685,1 +13683,1 @@\n-  int prefix = get_prefixq(src, dst, true \/* M0 *\/);\n+  int prefix = get_prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13775,1 +13773,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13783,1 +13781,1 @@\n-  prefixq(src, dst, true);\n+  prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13839,1 +13837,1 @@\n-  int prefix = get_prefixq(src, dst, true \/* page1 *\/);\n+  int prefix = get_prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13845,1 +13843,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13870,1 +13868,1 @@\n-  int prefix = get_prefixq(src, dst, true \/* M0 *\/);\n+  int prefix = get_prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13876,1 +13874,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13882,1 +13880,1 @@\n-  int prefix = get_prefixq(src, dst, true \/* M0 *\/);\n+  int prefix = get_prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13888,1 +13886,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13894,1 +13892,1 @@\n-  int prefix = get_prefixq(src, dst, true \/* M0 *\/);\n+  int prefix = get_prefixq(src, dst, true \/* is_map1 *\/);\n@@ -13900,1 +13898,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -13941,1 +13939,1 @@\n-  int prefix = get_prefixq(dst, true \/* page1 *\/);\n+  int prefix = get_prefixq(dst, true \/* is_map1 *\/);\n@@ -13950,1 +13948,1 @@\n-  int prefix = get_prefixq(dst, true \/* page1 *\/);\n+  int prefix = get_prefixq(dst, true \/* is_map1 *\/);\n@@ -14002,1 +14000,1 @@\n-  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true);\n+  int encode = prefixq_and_encode(dst->encoding(), src->encoding(), true \/* is_map1 *\/);\n@@ -14428,1 +14426,1 @@\n-  int prefix = get_prefixq(dst, src, true \/* page1 *\/);\n+  int prefix = get_prefixq(dst, src, true \/* is_map1 *\/);\n@@ -14479,1 +14477,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":62,"deletions":64,"binary":false,"changes":126,"status":"modified"},{"patch":"@@ -756,4 +756,4 @@\n-  int get_prefixq(Address adr, bool isPage1 = false);\n-  int get_prefixq_rex2(Address adr, bool isPage1 = false);\n-  int get_prefixq(Address adr, Register reg, bool isPage1 = false);\n-  int get_prefixq_rex2(Address adr, Register reg, bool isPage1 = false);\n+  int get_prefixq(Address adr, bool is_map1 = false);\n+  int get_prefixq_rex2(Address adr, bool is_map1 = false);\n+  int get_prefixq(Address adr, Register reg, bool is_map1 = false);\n+  int get_prefixq_rex2(Address adr, Register reg, bool ismap1 = false);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
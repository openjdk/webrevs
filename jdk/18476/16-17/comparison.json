{"files":[{"patch":"@@ -562,0 +562,4 @@\n+bool Assembler::needs_eevex(int enc1, int enc2, int enc3) {\n+  return enc1 >= 16 || enc2 >= 16 || enc3 >=16;\n+}\n+\n@@ -11839,1 +11843,1 @@\n-  if ((UseAVX > 2 || UseAPX) && !attributes->is_legacy_mode())\n+  if ((UseAVX > 2 && !attributes->is_legacy_mode()) || (UseAPX && is_extended))\n@@ -11898,1 +11902,1 @@\n-  if ((UseAVX > 2 || UseAPX) && !attributes->is_legacy_mode())\n+  if ((UseAVX > 2 && !attributes->is_legacy_mode()) || (UseAPX && needs_eevex(dst_enc, nds_enc, src_enc)))\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -776,0 +776,1 @@\n+  bool needs_eevex(int enc1, int enc2 = -1, int enc3 = -1);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -1941,1 +1941,1 @@\n-    int encode = vex_prefix_and_encode(crc->encoding(), 0, v->encoding(), VEX_SIMD_NONE, VEX_OPCODE_0F_3C, &attributes, true);\n+    int encode = vex_prefix_and_encode(crc->encoding(), 0, v->encoding(), sizeInBytes == 2 ? VEX_SIMD_66 : VEX_SIMD_NONE, VEX_OPCODE_0F_3C, &attributes, true);\n@@ -1989,1 +1989,1 @@\n-    vex_prefix(adr, 0, crc->encoding(), VEX_SIMD_NONE, VEX_OPCODE_0F_3C, &attributes);\n+    vex_prefix(adr, 0, crc->encoding(), sizeInBytes == 2 ? VEX_SIMD_66 : VEX_SIMD_NONE, VEX_OPCODE_0F_3C, &attributes);\n@@ -2621,1 +2621,1 @@\n-  if (UseAVX > 0 ) {\n+  if (UseAVX > 0 && !needs_rex2(src.base(), src.index()) ) {\n@@ -13263,1 +13263,0 @@\n-    assert(UseAPX, \"APX features not enabled\");\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}
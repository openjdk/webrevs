{"files":[{"patch":"@@ -438,3 +438,3 @@\n-  st->print(\"pc =\" INTPTR_FORMAT \"  \", (unsigned long)uc->uc_mcontext.jmp_context.iar);\n-  st->print(\"lr =\" INTPTR_FORMAT \"  \", (unsigned long)uc->uc_mcontext.jmp_context.lr);\n-  st->print(\"ctr=\" INTPTR_FORMAT \"  \", (unsigned long)uc->uc_mcontext.jmp_context.ctr);\n+  print_reg(st, \"pc =\", uc->uc_mcontext.jmp_context.iar);\n+  print_reg(st, \"lr =\", uc->uc_mcontext.jmp_context.lr);\n+  print_reg(st, \"ctr=\", uc->uc_mcontext.jmp_context.ctr);\n@@ -443,2 +443,3 @@\n-    st->print(\"r%-2d=\" INTPTR_FORMAT \"  \", i, (unsigned long)uc->uc_mcontext.jmp_context.gpr[i]);\n-    if (i % 3 == 2) st->cr();\n+    char regname[6] = {0};\n+    snprintf(regname, sizeof(regname), \"r%-2d=\", i);\n+    print_reg(st, regname, uc->uc_mcontext.jmp_context.gpr[i]);\n@@ -447,1 +448,0 @@\n-  st->cr();\n","filename":"src\/hotspot\/os_cpu\/aix_ppc\/os_aix_ppc.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -406,42 +406,11 @@\n-  st->print( \" x0=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 0]);\n-  st->print(\"  x1=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 1]);\n-  st->print(\"  x2=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 2]);\n-  st->print(\"  x3=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 3]);\n-  st->cr();\n-  st->print( \" x4=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 4]);\n-  st->print(\"  x5=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 5]);\n-  st->print(\"  x6=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 6]);\n-  st->print(\"  x7=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 7]);\n-  st->cr();\n-  st->print( \" x8=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 8]);\n-  st->print(\"  x9=\" INTPTR_FORMAT, (intptr_t)uc->context_x[ 9]);\n-  st->print(\" x10=\" INTPTR_FORMAT, (intptr_t)uc->context_x[10]);\n-  st->print(\" x11=\" INTPTR_FORMAT, (intptr_t)uc->context_x[11]);\n-  st->cr();\n-  st->print( \"x12=\" INTPTR_FORMAT, (intptr_t)uc->context_x[12]);\n-  st->print(\" x13=\" INTPTR_FORMAT, (intptr_t)uc->context_x[13]);\n-  st->print(\" x14=\" INTPTR_FORMAT, (intptr_t)uc->context_x[14]);\n-  st->print(\" x15=\" INTPTR_FORMAT, (intptr_t)uc->context_x[15]);\n-  st->cr();\n-  st->print( \"x16=\" INTPTR_FORMAT, (intptr_t)uc->context_x[16]);\n-  st->print(\" x17=\" INTPTR_FORMAT, (intptr_t)uc->context_x[17]);\n-  st->print(\" x18=\" INTPTR_FORMAT, (intptr_t)uc->context_x[18]);\n-  st->print(\" x19=\" INTPTR_FORMAT, (intptr_t)uc->context_x[19]);\n-  st->cr();\n-  st->print( \"x20=\" INTPTR_FORMAT, (intptr_t)uc->context_x[20]);\n-  st->print(\" x21=\" INTPTR_FORMAT, (intptr_t)uc->context_x[21]);\n-  st->print(\" x22=\" INTPTR_FORMAT, (intptr_t)uc->context_x[22]);\n-  st->print(\" x23=\" INTPTR_FORMAT, (intptr_t)uc->context_x[23]);\n-  st->cr();\n-  st->print( \"x24=\" INTPTR_FORMAT, (intptr_t)uc->context_x[24]);\n-  st->print(\" x25=\" INTPTR_FORMAT, (intptr_t)uc->context_x[25]);\n-  st->print(\" x26=\" INTPTR_FORMAT, (intptr_t)uc->context_x[26]);\n-  st->print(\" x27=\" INTPTR_FORMAT, (intptr_t)uc->context_x[27]);\n-  st->cr();\n-  st->print( \"x28=\" INTPTR_FORMAT, (intptr_t)uc->context_x[28]);\n-  st->print(\"  fp=\" INTPTR_FORMAT, (intptr_t)uc->context_fp);\n-  st->print(\"  lr=\" INTPTR_FORMAT, (intptr_t)uc->context_lr);\n-  st->print(\"  sp=\" INTPTR_FORMAT, (intptr_t)uc->context_sp);\n-  st->cr();\n-  st->print(  \"pc=\" INTPTR_FORMAT,  (intptr_t)uc->context_pc);\n-  st->print(\" cpsr=\" INTPTR_FORMAT, (intptr_t)uc->context_cpsr);\n+  for (int r = 0; r < 29; r++) {\n+    char regname[6] = {0};\n+    snprintf(regname, sizeof(regname), \"x%-2d=\", r);\n+    print_reg(st, regname, uc->context_x[r]);\n+  }\n+\n+  print_reg(st, \"fp=\", (intptr_t)uc->context_fp);\n+  print_reg(st, \"lr=\", (intptr_t)uc->context_lr);\n+  print_reg(st, \"sp=\", (intptr_t)uc->context_sp);\n+  print_reg(st, \"pc=\", (intptr_t)uc->context_pc);\n+  print_reg(st, \"cpsr=\", (intptr_t)uc->context_cpsr);\n","filename":"src\/hotspot\/os_cpu\/bsd_aarch64\/os_bsd_aarch64.cpp","additions":11,"deletions":42,"binary":false,"changes":53,"status":"modified"},{"patch":"@@ -801,41 +801,20 @@\n-#ifdef AMD64\n-  st->print(  \"RAX=\" INTPTR_FORMAT, (intptr_t)uc->context_rax);\n-  st->print(\", RBX=\" INTPTR_FORMAT, (intptr_t)uc->context_rbx);\n-  st->print(\", RCX=\" INTPTR_FORMAT, (intptr_t)uc->context_rcx);\n-  st->print(\", RDX=\" INTPTR_FORMAT, (intptr_t)uc->context_rdx);\n-  st->cr();\n-  st->print(  \"RSP=\" INTPTR_FORMAT, (intptr_t)uc->context_rsp);\n-  st->print(\", RBP=\" INTPTR_FORMAT, (intptr_t)uc->context_rbp);\n-  st->print(\", RSI=\" INTPTR_FORMAT, (intptr_t)uc->context_rsi);\n-  st->print(\", RDI=\" INTPTR_FORMAT, (intptr_t)uc->context_rdi);\n-  st->cr();\n-  st->print(  \"R8 =\" INTPTR_FORMAT, (intptr_t)uc->context_r8);\n-  st->print(\", R9 =\" INTPTR_FORMAT, (intptr_t)uc->context_r9);\n-  st->print(\", R10=\" INTPTR_FORMAT, (intptr_t)uc->context_r10);\n-  st->print(\", R11=\" INTPTR_FORMAT, (intptr_t)uc->context_r11);\n-  st->cr();\n-  st->print(  \"R12=\" INTPTR_FORMAT, (intptr_t)uc->context_r12);\n-  st->print(\", R13=\" INTPTR_FORMAT, (intptr_t)uc->context_r13);\n-  st->print(\", R14=\" INTPTR_FORMAT, (intptr_t)uc->context_r14);\n-  st->print(\", R15=\" INTPTR_FORMAT, (intptr_t)uc->context_r15);\n-  st->cr();\n-  st->print(  \"RIP=\" INTPTR_FORMAT, (intptr_t)uc->context_rip);\n-  st->print(\", EFLAGS=\" INTPTR_FORMAT, (intptr_t)uc->context_flags);\n-  st->print(\", ERR=\" INTPTR_FORMAT, (intptr_t)uc->context_err);\n-  st->cr();\n-  st->print(\"  TRAPNO=\" INTPTR_FORMAT, (intptr_t)uc->context_trapno);\n-#else\n-  st->print(  \"EAX=\" INTPTR_FORMAT, (intptr_t)uc->context_eax);\n-  st->print(\", EBX=\" INTPTR_FORMAT, (intptr_t)uc->context_ebx);\n-  st->print(\", ECX=\" INTPTR_FORMAT, (intptr_t)uc->context_ecx);\n-  st->print(\", EDX=\" INTPTR_FORMAT, (intptr_t)uc->context_edx);\n-  st->cr();\n-  st->print(  \"ESP=\" INTPTR_FORMAT, (intptr_t)uc->context_esp);\n-  st->print(\", EBP=\" INTPTR_FORMAT, (intptr_t)uc->context_ebp);\n-  st->print(\", ESI=\" INTPTR_FORMAT, (intptr_t)uc->context_esi);\n-  st->print(\", EDI=\" INTPTR_FORMAT, (intptr_t)uc->context_edi);\n-  st->cr();\n-  st->print(  \"EIP=\" INTPTR_FORMAT, (intptr_t)uc->context_eip);\n-  st->print(\", EFLAGS=\" INTPTR_FORMAT, (intptr_t)uc->context_eflags);\n-#endif \/\/ AMD64\n-  st->cr();\n+  print_reg(st, \"RAX=\", (intptr_t)uc->context_rax);\n+  print_reg(st, \"RBX=\", (intptr_t)uc->context_rbx);\n+  print_reg(st, \"RCX=\", (intptr_t)uc->context_rcx);\n+  print_reg(st, \"RDX=\", (intptr_t)uc->context_rdx);\n+  print_reg(st, \"RSP=\", (intptr_t)uc->context_rsp);\n+  print_reg(st, \"RBP=\", (intptr_t)uc->context_rbp);\n+  print_reg(st, \"RSI=\", (intptr_t)uc->context_rsi);\n+  print_reg(st, \"RDI=\", (intptr_t)uc->context_rdi);\n+  print_reg(st, \"R8 =\", (intptr_t)uc->context_r8);\n+  print_reg(st, \"R9 =\", (intptr_t)uc->context_r9);\n+  print_reg(st, \"R10=\", (intptr_t)uc->context_r10);\n+  print_reg(st, \"R11=\", (intptr_t)uc->context_r11);\n+  print_reg(st, \"R12=\", (intptr_t)uc->context_r12);\n+  print_reg(st, \"R13=\", (intptr_t)uc->context_r13);\n+  print_reg(st, \"R14=\", (intptr_t)uc->context_r14);\n+  print_reg(st, \"R15=\", (intptr_t)uc->context_r15);\n+  print_reg(st, \"RIP=\", (intptr_t)uc->context_rip);\n+  print_reg(st, \"EFLAGS=\",(intptr_t)uc->context_flags);\n+  print_reg(st, \"ERR=\", (intptr_t)uc->context_err);\n+  print_reg(st, \"TRAPNO=\", (intptr_t)uc->context_trapno);\n","filename":"src\/hotspot\/os_cpu\/bsd_x86\/os_bsd_x86.cpp","additions":20,"deletions":41,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -352,1 +352,3 @@\n-    st->print_cr(  \"R%d=\" INTPTR_FORMAT, r, (uintptr_t)uc->uc_mcontext.regs[r]);\n+    char regname[6] = {0};\n+    snprintf(regname, sizeof(regname), \"R%d=\", r);\n+    print_reg(st, regname, uc->uc_mcontext.regs[r]);\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/os_linux_aarch64.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -458,3 +458,3 @@\n-  st->print(\"pc =\" INTPTR_FORMAT \"  \", uc->uc_mcontext.regs->nip);\n-  st->print(\"lr =\" INTPTR_FORMAT \"  \", uc->uc_mcontext.regs->link);\n-  st->print(\"ctr=\" INTPTR_FORMAT \"  \", uc->uc_mcontext.regs->ctr);\n+  print_reg(st, \"pc =\", uc->uc_mcontext.regs->nip);\n+  print_reg(st, \"lr =\", uc->uc_mcontext.regs->link);\n+  print_reg(st, \"ctr=\", uc->uc_mcontext.regs->ctr);\n@@ -463,2 +463,4 @@\n-    st->print(\"r%-2d=\" INTPTR_FORMAT \"  \", i, uc->uc_mcontext.regs->gpr[i]);\n-    if (i % 3 == 2) st->cr();\n+    \/* st->print(\"r%-2d=\" INTPTR_FORMAT \"  \", i, uc->uc_mcontext.regs->gpr[i]); *\/\n+    char regname[6] = {0};\n+    snprintf(regname, sizeof(regname), \"r%-2d=\", i);\n+    print_reg(st, regname, uc->uc_mcontext.regs->gpr[i]);\n@@ -467,1 +469,0 @@\n-  st->cr();\n","filename":"src\/hotspot\/os_cpu\/linux_ppc\/os_linux_ppc.cpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -521,26 +521,21 @@\n-  st->print(  \"RAX=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RAX]);\n-  st->print(\", RBX=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RBX]);\n-  st->print(\", RCX=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RCX]);\n-  st->print(\", RDX=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RDX]);\n-  st->cr();\n-  st->print(  \"RSP=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RSP]);\n-  st->print(\", RBP=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RBP]);\n-  st->print(\", RSI=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RSI]);\n-  st->print(\", RDI=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RDI]);\n-  st->cr();\n-  st->print(  \"R8 =\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R8]);\n-  st->print(\", R9 =\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R9]);\n-  st->print(\", R10=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R10]);\n-  st->print(\", R11=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R11]);\n-  st->cr();\n-  st->print(  \"R12=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R12]);\n-  st->print(\", R13=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R13]);\n-  st->print(\", R14=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R14]);\n-  st->print(\", R15=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_R15]);\n-  st->cr();\n-  st->print(  \"RIP=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_RIP]);\n-  st->print(\", EFLAGS=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_EFL]);\n-  st->print(\", CSGSFS=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_CSGSFS]);\n-  st->print(\", ERR=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_ERR]);\n-  st->cr();\n-  st->print(\"  TRAPNO=\" INTPTR_FORMAT, (intptr_t)uc->uc_mcontext.gregs[REG_TRAPNO]);\n+  print_reg(st, \"RAX=\", (intptr_t)uc->uc_mcontext.gregs[REG_RAX]);\n+  print_reg(st, \"RBX=\", (intptr_t)uc->uc_mcontext.gregs[REG_RBX]);\n+  print_reg(st, \"RCX=\", (intptr_t)uc->uc_mcontext.gregs[REG_RCX]);\n+  print_reg(st, \"RDX=\", (intptr_t)uc->uc_mcontext.gregs[REG_RDX]);\n+  print_reg(st, \"RSP=\", (intptr_t)uc->uc_mcontext.gregs[REG_RSP]);\n+  print_reg(st, \"RBP=\", (intptr_t)uc->uc_mcontext.gregs[REG_RBP]);\n+  print_reg(st, \"RSI=\", (intptr_t)uc->uc_mcontext.gregs[REG_RSI]);\n+  print_reg(st, \"RDI=\", (intptr_t)uc->uc_mcontext.gregs[REG_RDI]);\n+  print_reg(st, \"R8 =\", (intptr_t)uc->uc_mcontext.gregs[REG_R8]);\n+  print_reg(st, \"R9 =\", (intptr_t)uc->uc_mcontext.gregs[REG_R9]);\n+  print_reg(st, \"R10=\", (intptr_t)uc->uc_mcontext.gregs[REG_R10]);\n+  print_reg(st, \"R11=\", (intptr_t)uc->uc_mcontext.gregs[REG_R11]);\n+  print_reg(st, \"R12=\", (intptr_t)uc->uc_mcontext.gregs[REG_R12]);\n+  print_reg(st, \"R13=\", (intptr_t)uc->uc_mcontext.gregs[REG_R13]);\n+  print_reg(st, \"R14=\", (intptr_t)uc->uc_mcontext.gregs[REG_R14]);\n+  print_reg(st, \"R15=\", (intptr_t)uc->uc_mcontext.gregs[REG_R15]);\n+  print_reg(st, \"RIP=\", (intptr_t)uc->uc_mcontext.gregs[REG_RIP]);\n+  print_reg(st, \"EFLAGS=\", (intptr_t)uc->uc_mcontext.gregs[REG_EFL]);\n+  print_reg(st, \"CSGSFS=\", (intptr_t)uc->uc_mcontext.gregs[REG_CSGSFS]);\n+  print_reg(st, \"ERR=\", (intptr_t)uc->uc_mcontext.gregs[REG_ERR]);\n+  print_reg(st, \"TRAPNO=\", (intptr_t)uc->uc_mcontext.gregs[REG_TRAPNO]);\n@@ -549,1 +544,0 @@\n-  st->cr();\n@@ -560,1 +554,1 @@\n-    st->print(\"  MXCSR=\" UINT32_FORMAT_X_0, uc->uc_mcontext.fpregs->mxcsr);\n+    st->print_cr(\"  MXCSR=\" UINT32_FORMAT_X_0, uc->uc_mcontext.fpregs->mxcsr);\n@@ -563,13 +557,10 @@\n-  st->print(  \"EAX=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EAX]);\n-  st->print(\", EBX=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EBX]);\n-  st->print(\", ECX=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_ECX]);\n-  st->print(\", EDX=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EDX]);\n-  st->cr();\n-  st->print(  \"ESP=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_UESP]);\n-  st->print(\", EBP=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EBP]);\n-  st->print(\", ESI=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_ESI]);\n-  st->print(\", EDI=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EDI]);\n-  st->cr();\n-  st->print(  \"EIP=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EIP]);\n-  st->print(\", EFLAGS=\" INTPTR_FORMAT, uc->uc_mcontext.gregs[REG_EFL]);\n-  st->print(\", CR2=\" UINT64_FORMAT_X_0, (uint64_t)uc->uc_mcontext.cr2);\n+  print_reg(st, \"EAX=\", (intptr_t) uc->uc_mcontext.gregs[REG_EAX]);\n+  print_reg(st, \"EBX=\", (intptr_t) uc->uc_mcontext.gregs[REG_EBX]);\n+  print_reg(st, \"ECX=\", (intptr_t) uc->uc_mcontext.gregs[REG_ECX]);\n+  print_reg(st, \"EDX=\", (intptr_t) uc->uc_mcontext.gregs[REG_EDX]);\n+  print_reg(st, \"ESP=\", (intptr_t) uc->uc_mcontext.gregs[REG_UESP]);\n+  print_reg(st, \"EBP=\", (intptr_t) uc->uc_mcontext.gregs[REG_EBP]);\n+  print_reg(st, \"ESI=\", (intptr_t) uc->uc_mcontext.gregs[REG_ESI]);\n+  print_reg(st, \"EDI=\", (intptr_t) uc->uc_mcontext.gregs[REG_EDI]);\n+  print_reg(st, \"EIP=\", (intptr_t) uc->uc_mcontext.gregs[REG_EIP]);\n+  print_reg(st, \"EFLAGS=\", (intptr_t) uc->uc_mcontext.gregs[REG_EFL]);\n@@ -578,1 +569,0 @@\n-  st->cr();\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/os_linux_x86.cpp","additions":32,"deletions":42,"binary":false,"changes":74,"status":"modified"},{"patch":"@@ -352,22 +352,19 @@\n-  st->print(  \"RAX=\" INTPTR_FORMAT, uc->Rax);\n-  st->print(\", RBX=\" INTPTR_FORMAT, uc->Rbx);\n-  st->print(\", RCX=\" INTPTR_FORMAT, uc->Rcx);\n-  st->print(\", RDX=\" INTPTR_FORMAT, uc->Rdx);\n-  st->cr();\n-  st->print(  \"RSP=\" INTPTR_FORMAT, uc->Rsp);\n-  st->print(\", RBP=\" INTPTR_FORMAT, uc->Rbp);\n-  st->print(\", RSI=\" INTPTR_FORMAT, uc->Rsi);\n-  st->print(\", RDI=\" INTPTR_FORMAT, uc->Rdi);\n-  st->cr();\n-  st->print(  \"R8 =\" INTPTR_FORMAT, uc->R8);\n-  st->print(\", R9 =\" INTPTR_FORMAT, uc->R9);\n-  st->print(\", R10=\" INTPTR_FORMAT, uc->R10);\n-  st->print(\", R11=\" INTPTR_FORMAT, uc->R11);\n-  st->cr();\n-  st->print(  \"R12=\" INTPTR_FORMAT, uc->R12);\n-  st->print(\", R13=\" INTPTR_FORMAT, uc->R13);\n-  st->print(\", R14=\" INTPTR_FORMAT, uc->R14);\n-  st->print(\", R15=\" INTPTR_FORMAT, uc->R15);\n-  st->cr();\n-  st->print(  \"RIP=\" INTPTR_FORMAT, uc->Rip);\n-  st->print(\", EFLAGS=\" INTPTR_FORMAT, uc->EFlags);\n+#ifdef AMD64\n+  print_reg(st, \"RAX=\", uc->Rax);\n+  print_reg(st, \"RBX=\", uc->Rbx);\n+  print_reg(st, \"RCX=\", uc->Rcx);\n+  print_reg(st, \"RDX=\", uc->Rdx);\n+  print_reg(st, \"RSP=\", uc->Rsp);\n+  print_reg(st, \"RBP=\", uc->Rbp);\n+  print_reg(st, \"RSI=\", uc->Rsi);\n+  print_reg(st, \"RDI=\", uc->Rdi);\n+  print_reg(st, \"R8 =\", uc->R8);\n+  print_reg(st, \"R9 =\", uc->R9);\n+  print_reg(st, \"R10=\", uc->R10);\n+  print_reg(st, \"R11=\", uc->R11);\n+  print_reg(st, \"R12=\", uc->R12);\n+  print_reg(st, \"R13=\", uc->R13);\n+  print_reg(st, \"R14=\", uc->R14);\n+  print_reg(st, \"R15=\", uc->R15);\n+  print_reg(st, \"RIP=\", uc->Rip);\n+  print_reg(st, \"EFLAGS=\", uc->EFlags);\n@@ -376,1 +373,0 @@\n-  st->cr();\n@@ -382,2 +378,13 @@\n-  st->print(\"  MXCSR=\" UINT32_FORMAT_X_0, uc->MxCsr);\n-  st->cr();\n+  st->print_cr(\"  MXCSR=\" UINT32_FORMAT_X_0, uc->MxCsr);\n+#else\n+  print_reg(st, \"EAX=\", uc->Eax);\n+  print_reg(st, \"EBX=\", uc->Ebx);\n+  print_reg(st, \"ECX=\", uc->Ecx);\n+  print_reg(st, \"EDX=\", uc->Edx);\n+  print_reg(st, \"ESP=\", uc->Esp);\n+  print_reg(st, \"EBP=\", uc->Ebp);\n+  print_reg(st, \"ESI=\", uc->Esi);\n+  print_reg(st, \"EDI=\", uc->Edi);\n+  print_reg(st, \"EIP=\", uc->Eip);\n+  print_reg(st, \"EFLAGS=\", uc->EFlags);\n+#endif \/\/ AMD64\n","filename":"src\/hotspot\/os_cpu\/windows_x86\/os_windows_x86.cpp","additions":32,"deletions":25,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -1243,0 +1243,5 @@\n+#ifdef _LP64\n+static intptr_t badResourceValueWord = 0xabababababababab;\n+#else\n+static intptr_t badResourceValueWord = 0xabababab;\n+#endif\n@@ -1355,0 +1360,8 @@\n+#ifndef PRODUCT\n+    \/\/ corruption or uninitialized access pattern\n+    if (is_aligned(addr, sizeof(intptr_t))) {\n+      if (badResourceValueWord == *(intptr_t*)addr) {\n+        st->print(\" <= unused storage marker found\");\n+      }\n+    }\n+#endif \/\/ PRODUCT\n@@ -1358,1 +1371,0 @@\n-\n@@ -1362,0 +1374,1 @@\n+}\n@@ -1363,0 +1376,26 @@\n+void os::print_reg(outputStream *st, const char* reg, intptr_t val) {\n+#ifndef PRODUCT\n+  \/\/ corruption or uninitialized access pattern\n+  \/\/ deadbeef is also 'not good', but seems to occur very seldom, at least in registers\n+  const intptr_t db1 = 0xdeadbeef;\n+#ifdef _LP64\n+  const intptr_t db2 = 0xdeadbeef00000000;\n+  const intptr_t val1 = val >> 32;\n+  const intptr_t val2 = val << 32;\n+#endif\n+  if (val == badResourceValueWord) {\n+    st->print_cr(\"%s\" INTPTR_FORMAT \" <= unused storage marker found\", reg, val);\n+  } else {\n+#ifdef _LP64\n+    if (val1 == db1 || val2 == db2) {\n+#else\n+    if (val == db1) {\n+#endif\n+      st->print_cr(\"%s\" INTPTR_FORMAT \" <= bad value marker found\", reg, val);\n+    } else {\n+#endif \/\/ PRODUCT\n+      st->print_cr(\"%s\" INTPTR_FORMAT, reg, val);\n+#ifndef PRODUCT\n+    }\n+  }\n+#endif\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":40,"deletions":1,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -836,0 +836,3 @@\n+  \/\/ print and highlight register values\n+  static void print_reg(outputStream *st, const char* reg, intptr_t val);\n+\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1078,1 +1078,3 @@\n-        \/\/ the native stack cannot be walked with next_frame.\n+        \/\/ the native stack cannot be walked with \n+        \n+        .\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
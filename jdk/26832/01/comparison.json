{"files":[{"patch":"@@ -995,2 +995,3 @@\n-  delete defaultStream::instance;\n-  xtty = nullptr;\n+  \/\/ Keep xtty usable as long as possible by ensuring we null it out before\n+  \/\/ deleting anything.\n+  defaultStream* ds = defaultStream::instance;\n@@ -998,0 +999,3 @@\n+  xtty = nullptr;\n+  OrderAccess::fence(); \/\/ force visibility to concurrently executing threads\n+  delete ds;\n","filename":"src\/hotspot\/share\/utilities\/ostream.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}
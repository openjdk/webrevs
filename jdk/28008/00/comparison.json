{"files":[{"patch":"@@ -2430,1 +2430,0 @@\n-    set_immutable_data_references_counter(reference_count - 1);\n@@ -2432,1 +2431,5 @@\n-    if (reference_count == 0) {\n+    if (reference_count == 1) {\n+      \/\/ Updating the counter here is not necessary since the memory is\n+      \/\/ being freed so only do it for debug builds to eliminate a write\n+      DEBUG_ONLY(set_immutable_data_references_counter(reference_count - 1);)\n+\n@@ -2434,0 +2437,2 @@\n+    } else {\n+      set_immutable_data_references_counter(reference_count - 1);\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -44,0 +44,1 @@\n+static volatile int _recursion_count = 0;\n@@ -52,0 +53,2 @@\n+  assert(_recursion_count == 0, \"not recursive\");\n+  _recursion_count++;\n@@ -55,0 +58,1 @@\n+  _recursion_count--;\n@@ -219,1 +223,1 @@\n-    \/\/ Free chunks under NMT lock so that NMT adjustment is stable.\n+    \/\/ Free chunks under a lock so that NMT adjustment is stable.\n","filename":"src\/hotspot\/share\/memory\/arena.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -55,1 +55,2 @@\n-  \/\/ Lock needed keep values in sync, total area size\n+  MallocMemorySnapshot* ms;\n+  \/\/ Lock needed to keep values in sync, total area size\n@@ -57,2 +58,4 @@\n-  ChunkPoolLocker lock;\n-  const MallocMemorySnapshot* ms = MallocMemorySummary::as_snapshot();\n+  {\n+    ChunkPoolLocker lock;\n+    ms = MallocMemorySummary::as_snapshot();\n+  }\n","filename":"src\/hotspot\/share\/nmt\/nmtUsage.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @run testng\/othervm BasicAuthenticatorRealm\n+ * @run junit\/othervm BasicAuthenticatorRealm\n@@ -50,1 +50,0 @@\n-import org.testng.annotations.Test;\n@@ -54,1 +53,0 @@\n-import static org.testng.Assert.assertEquals;\n@@ -56,0 +54,5 @@\n+import org.junit.jupiter.api.*;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import org.junit.jupiter.api.Test;\n+\n+@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@@ -64,1 +67,2 @@\n-    public static void testURLConnection() throws Exception {\n+    @Order(1)\n+    public void testURLConnection() throws Exception {\n@@ -76,2 +80,2 @@\n-            assertEquals(connection.getResponseCode(), 401);\n-            assertEquals(connection.getHeaderField(\"WWW-Authenticate\"), EXPECTED_AUTH_HEADER_VALUE);\n+            assertEquals(401, connection.getResponseCode());\n+            assertEquals(EXPECTED_AUTH_HEADER_VALUE, connection.getHeaderField(\"WWW-Authenticate\"));\n@@ -84,1 +88,2 @@\n-    public static void testURLConnectionAuthenticated() throws Exception {\n+    @Order(2)\n+    public void testURLConnectionAuthenticated() throws Exception {\n@@ -97,2 +102,2 @@\n-            assertEquals(connection.getResponseCode(), 200);\n-            assertEquals(connection.getInputStream().readAllBytes(), \"foo\".getBytes(UTF_8));\n+            assertEquals(200, connection.getResponseCode());\n+            Assertions.assertArrayEquals(\"foo\".getBytes(UTF_8), connection.getInputStream().readAllBytes());\n@@ -105,1 +110,2 @@\n-    public static void testHttpClient() throws Exception {\n+    @Order(3)\n+    public void testHttpClient() throws Exception {\n@@ -118,2 +124,2 @@\n-            assertEquals(response.statusCode(), 401);\n-            assertEquals(response.headers().firstValue(\"WWW-Authenticate\").orElseThrow(), EXPECTED_AUTH_HEADER_VALUE);\n+            assertEquals(401, response.statusCode());\n+            assertEquals(EXPECTED_AUTH_HEADER_VALUE, response.headers().firstValue(\"WWW-Authenticate\").orElseThrow());\n@@ -126,1 +132,2 @@\n-    public static void testHttpClientAuthenticated() throws Exception {\n+    @Order(4)\n+    public void testHttpClientAuthenticated() throws Exception {\n@@ -142,2 +149,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"foo\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"foo\", response.body());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/BasicAuthenticatorRealm.java","additions":23,"deletions":16,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm CreateHttpServerTest\n+ * @run junit\/othervm CreateHttpServerTest\n@@ -32,1 +32,0 @@\n-import org.testng.annotations.Test;\n@@ -38,1 +37,2 @@\n-import static org.testng.Assert.assertTrue;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.Test;\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/CreateHttpServerTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,3 +42,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -46,2 +43,7 @@\n-import static org.testng.Assert.assertTrue;\n-import static org.testng.Assert.fail;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import static org.junit.jupiter.api.Assertions.fail;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n@@ -56,1 +58,1 @@\n- * @run testng\/othervm DateFormatterTest\n+ * @run junit\/othervm DateFormatterTest\n@@ -60,1 +62,1 @@\n-    private HttpServer server;\n+    private static HttpServer server;\n@@ -67,2 +69,2 @@\n-    @BeforeTest\n-    public void setUp() throws IOException, URISyntaxException {\n+    @BeforeAll\n+    public static void setUp() throws IOException, URISyntaxException {\n@@ -88,2 +90,2 @@\n-    @AfterTest\n-    public void cleanUp() {\n+    @AfterAll\n+    public static void cleanUp() {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/DateFormatterTest.java","additions":14,"deletions":12,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm FilterTest\n+ * @run junit\/othervm FilterTest\n@@ -52,3 +52,0 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import org.testng.annotations.BeforeTest;\n@@ -56,1 +53,6 @@\n-import static org.testng.Assert.*;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -67,2 +69,2 @@\n-    @BeforeTest\n-    public void setup() {\n+    @BeforeAll\n+    public static void setup() {\n@@ -79,2 +81,2 @@\n-        expectThrows(NPE, () -> Filter.beforeHandler(null, e -> e.getResponseHeaders().set(\"X-Foo\", \"Bar\")));\n-        expectThrows(NPE, () -> Filter.beforeHandler(\"Some description\", null));\n+        assertThrows(NPE, () -> Filter.beforeHandler(null, e -> e.getResponseHeaders().set(\"X-Foo\", \"Bar\")));\n+        assertThrows(NPE, () -> Filter.beforeHandler(\"Some description\", null));\n@@ -82,2 +84,2 @@\n-        expectThrows(NPE, () -> Filter.afterHandler(\"Some description\", null));\n-        expectThrows(NPE, () -> Filter.afterHandler(null, HttpExchange::getResponseCode));\n+        assertThrows(NPE, () -> Filter.afterHandler(\"Some description\", null));\n+        assertThrows(NPE, () -> Filter.afterHandler(null, HttpExchange::getResponseCode));\n@@ -85,2 +87,2 @@\n-        expectThrows(NPE, () -> Filter.adaptRequest(\"Some description\", null));\n-        expectThrows(NPE, () -> Filter.adaptRequest(null, r -> r.with(\"Foo\", List.of(\"Bar\"))));\n+        assertThrows(NPE, () -> Filter.adaptRequest(\"Some description\", null));\n+        assertThrows(NPE, () -> Filter.adaptRequest(null, r -> r.with(\"Foo\", List.of(\"Bar\"))));\n@@ -94,1 +96,1 @@\n-        assertEquals(desc, beforeFilter.description());\n+        assertEquals(beforeFilter.description(), desc);\n@@ -97,1 +99,1 @@\n-        assertEquals(desc, afterFilter.description());\n+        assertEquals(afterFilter.description(), desc);\n@@ -100,1 +102,1 @@\n-        assertEquals(desc, adaptFilter.description());\n+        assertEquals(adaptFilter.description(), desc);\n@@ -103,1 +105,0 @@\n-    @DataProvider\n@@ -114,1 +115,2 @@\n-    @Test(dataProvider = \"throwingFilters\")\n+    @ParameterizedTest\n+    @MethodSource(\"throwingFilters\")\n@@ -126,1 +128,1 @@\n-                expectThrows(exception, () -> client.send(request, HttpResponse.BodyHandlers.ofString()));\n+                assertThrows(exception, () -> client.send(request, HttpResponse.BodyHandlers.ofString()));\n@@ -129,2 +131,2 @@\n-                assertEquals(response.statusCode(), 200);\n-                assertEquals(response.body(), \"hello world\");\n+                assertEquals(200, response.statusCode());\n+                assertEquals(\"hello world\", response.body());\n@@ -149,3 +151,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.headers().firstValue(\"x-foo\").orElseThrow(), \"bar\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(\"bar\", response.headers().firstValue(\"x-foo\").orElseThrow());\n@@ -173,3 +175,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.headers().firstValue(\"x-foo\").orElseThrow(), \"barbar\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(\"barbar\", response.headers().firstValue(\"x-foo\").orElseThrow());\n@@ -205,3 +207,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.headers().firstValue(\"x-foo\").orElseThrow(), \"bar\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(\"bar\", response.headers().firstValue(\"x-foo\").orElseThrow());\n@@ -226,2 +228,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.statusCode(), (int)respCode.get());\n+            assertEquals(200, response.statusCode());\n+            assertEquals((int)respCode.get(), response.statusCode());\n@@ -251,2 +253,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(attr.get(), value);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(value, attr.get());\n@@ -283,2 +285,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.statusCode(), (int)respCode.get());\n+            assertEquals(200, response.statusCode());\n+            assertEquals((int)respCode.get(), response.statusCode());\n@@ -307,4 +309,4 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.headers().firstValue(\"x-foo\").orElseThrow(), \"bar\");\n-            assertEquals(response.statusCode(), (int)respCode.get());\n+            assertEquals(200, response.statusCode());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(\"bar\", response.headers().firstValue(\"x-foo\").orElseThrow());\n+            assertEquals((int)respCode.get(), response.statusCode());\n@@ -329,2 +331,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(inspectedURI.get(), URI.create(\"\/foo\/bar\"));\n+            assertEquals(200, response.statusCode());\n+            assertEquals(URI.create(\"\/foo\/bar\"), inspectedURI.get());\n@@ -351,3 +353,3 @@\n-            assertEquals(r.getRequestHeaders(), originalExchange.getRequestHeaders());\n-            assertEquals(r.getRequestURI(), originalExchange.getRequestURI());\n-            assertEquals(r.getRequestMethod(), originalExchange.getRequestMethod());\n+            assertEquals(originalExchange.getRequestHeaders(), r.getRequestHeaders());\n+            assertEquals(originalExchange.getRequestURI(), r.getRequestURI());\n+            assertEquals(originalExchange.getRequestMethod(), r.getRequestMethod());\n@@ -365,2 +367,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"bar\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"bar\", response.body());\n@@ -401,12 +403,12 @@\n-            assertEquals(exchange.getLocalAddress(), originalExchange.getLocalAddress());\n-            assertEquals(exchange.getRemoteAddress(), originalExchange.getRemoteAddress());\n-            assertEquals(exchange.getProtocol(), originalExchange.getProtocol());\n-            assertEquals(exchange.getPrincipal(), originalExchange.getPrincipal());\n-            assertEquals(exchange.getHttpContext(), originalExchange.getHttpContext());\n-            assertEquals(exchange.getRequestMethod(), originalExchange.getRequestMethod());\n-            assertEquals(exchange.getRequestURI(), originalExchange.getRequestURI());\n-            assertEquals(exchange.getRequestBody(), originalExchange.getRequestBody());\n-            assertEquals(exchange.getResponseHeaders(), originalExchange.getResponseHeaders());\n-            assertEquals(exchange.getResponseCode(), originalExchange.getResponseCode());\n-            assertEquals(exchange.getResponseBody(), originalExchange.getResponseBody());\n-            assertEquals(exchange.getAttribute(\"foo\"), originalExchange.getAttribute(\"foo\"));\n+            assertEquals(originalExchange.getLocalAddress(), exchange.getLocalAddress());\n+            assertEquals(originalExchange.getRemoteAddress(), exchange.getRemoteAddress());\n+            assertEquals(originalExchange.getProtocol(), exchange.getProtocol());\n+            assertEquals(originalExchange.getPrincipal(), exchange.getPrincipal());\n+            assertEquals(originalExchange.getHttpContext(), exchange.getHttpContext());\n+            assertEquals(originalExchange.getRequestMethod(), exchange.getRequestMethod());\n+            assertEquals(originalExchange.getRequestURI(), exchange.getRequestURI());\n+            assertEquals(originalExchange.getRequestBody(), exchange.getRequestBody());\n+            assertEquals(originalExchange.getResponseHeaders(), exchange.getResponseHeaders());\n+            assertEquals(originalExchange.getResponseCode(), exchange.getResponseCode());\n+            assertEquals(originalExchange.getResponseBody(), exchange.getResponseBody());\n+            assertEquals(originalExchange.getAttribute(\"foo\"), exchange.getAttribute(\"foo\"));\n@@ -416,1 +418,1 @@\n-            assertEquals(exchange.getAttribute(\"foo\"), originalExchange.getAttribute(\"foo\"));\n+            assertEquals(originalExchange.getAttribute(\"foo\"), exchange.getAttribute(\"foo\"));\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/FilterTest.java","additions":63,"deletions":61,"binary":false,"changes":124,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n- * @run testng\/othervm HeadersTest\n+ * @run junit\/othervm HeadersTest\n@@ -60,2 +60,0 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -65,7 +63,11 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertFalse;\n-import static org.testng.Assert.assertNotEquals;\n-import static org.testng.Assert.assertNotSame;\n-import static org.testng.Assert.assertSame;\n-import static org.testng.Assert.assertThrows;\n-import static org.testng.Assert.assertTrue;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotSame;\n+import static org.junit.jupiter.api.Assertions.assertSame;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -80,1 +82,1 @@\n-    public static void testDefaultConstructor() {\n+    public void testDefaultConstructor() {\n@@ -86,1 +88,1 @@\n-    public static void testNull() {\n+    public void testNull() {\n@@ -160,2 +162,1 @@\n-    @DataProvider\n-    public Object[][] responseHeaders() {\n+    public static Object[][] responseHeaders() {\n@@ -175,1 +176,2 @@\n-    @Test(dataProvider = \"responseHeaders\")\n+    @ParameterizedTest\n+    @MethodSource(\"responseHeaders\")\n@@ -186,1 +188,1 @@\n-            assertEquals(throwable.get().getClass(), NPE);\n+            assertEquals(NPE, throwable.get().getClass());\n@@ -243,1 +245,0 @@\n-    @DataProvider\n@@ -262,3 +263,3 @@\n-    @Test(dataProvider = \"headerPairs\")\n-    public static void testEqualsAndHashCode(Headers h1, Headers h2) {\n-        \/\/ avoid testng's asserts(Map, Map) as they don't call Headers::equals\n+    @ParameterizedTest\n+    @MethodSource(\"headerPairs\")\n+    public void testEqualsAndHashCode(Headers h1, Headers h2) {\n@@ -266,1 +267,1 @@\n-        assertEquals(h1.hashCode(), h2.hashCode(), \"hashCode differ for \"\n+        assertEquals(h2.hashCode(), h1.hashCode(), \"hashCode differ for \"\n@@ -271,1 +272,1 @@\n-    public static void testEqualsMap() {\n+    public void testEqualsMap() {\n@@ -280,1 +281,1 @@\n-    public static void testToString() {\n+    public void testToString() {\n@@ -287,1 +288,1 @@\n-    public static void testPutAll() {\n+    public void testPutAll() {\n@@ -314,1 +315,1 @@\n-    public static void testReplaceAll() {\n+    public void testReplaceAll() {\n@@ -334,1 +335,1 @@\n-    public static void test1ArgConstructorNull() {\n+    public void test1ArgConstructorNull() {\n@@ -356,1 +357,1 @@\n-    public static void test1ArgConstructor() {\n+    public void test1ArgConstructor() {\n@@ -363,2 +364,2 @@\n-            assertEquals(h.get(\"Foo\"), List.of(\"Bar\"));\n-            assertEquals(h.size(), 1);\n+            assertEquals(List.of(\"Bar\"), h.get(\"Foo\"));\n+            assertEquals(1, h.size());\n@@ -370,2 +371,2 @@\n-            assertEquals(h1.get(\"Foo\"), List.of(\"Bar\"));\n-            assertEquals(h1.size(), 1);\n+            assertEquals(List.of(\"Bar\"), h1.get(\"Foo\"));\n+            assertEquals(1, h1.size());\n@@ -374,2 +375,2 @@\n-            assertEquals(h2.get(\"Foo\"), List.of(\"Bar\"));\n-            assertEquals(h2.size(), 1);\n+            assertEquals(List.of(\"Bar\"), h2.get(\"Foo\"));\n+            assertEquals(1, h2.size());\n@@ -377,1 +378,1 @@\n-            assertEquals(h1, h2);\n+            assertEquals(h2, h1);\n@@ -379,1 +380,1 @@\n-            assertNotEquals(h1, h2);\n+            assertNotEquals(h2, h1);\n@@ -384,1 +385,1 @@\n-    public static void testMutableHeaders() {\n+    public void testMutableHeaders() {\n@@ -403,1 +404,1 @@\n-    public static void testOfNull() {\n+    public void testOfNull() {\n@@ -429,1 +430,1 @@\n-    public static void testOf() {\n+    public void testOf() {\n@@ -431,1 +432,1 @@\n-        assertEquals(h.size(), 2);\n+        assertEquals(2, h.size());\n@@ -437,1 +438,1 @@\n-    public static void testOfEmpty() {\n+    public void testOfEmpty() {\n@@ -439,1 +440,1 @@\n-            assertEquals(h.size(), 0);\n+            assertEquals(0, h.size());\n@@ -445,1 +446,1 @@\n-    public static void testOfNumberOfElements() {\n+    public void testOfNumberOfElements() {\n@@ -451,1 +452,1 @@\n-    public static void testOfMultipleValues() {\n+    public void testOfMultipleValues() {\n@@ -453,1 +454,1 @@\n-        assertEquals(h.size(), 2);\n+        assertEquals(2, h.size());\n@@ -459,1 +460,1 @@\n-    public static void testNormalizeOnNull() {\n+    public void testNormalizeOnNull() {\n@@ -463,1 +464,0 @@\n-    @DataProvider\n@@ -481,2 +481,3 @@\n-    @Test(dataProvider = \"illegalKeys\")\n-    public static void testNormalizeOnIllegalKeys(String illegalKey) {\n+    @ParameterizedTest\n+    @MethodSource(\"illegalKeys\")\n+    public void testNormalizeOnIllegalKeys(String illegalKey) {\n@@ -486,1 +487,0 @@\n-    @DataProvider\n@@ -504,2 +504,3 @@\n-    @Test(dataProvider = \"normalizedKeys\")\n-    public static void testNormalizeOnNormalizedKeys(String normalizedKey) {\n+    @ParameterizedTest\n+    @MethodSource(\"normalizedKeys\")\n+    public void testNormalizeOnNormalizedKeys(String normalizedKey) {\n@@ -510,1 +511,0 @@\n-    @DataProvider\n@@ -520,2 +520,3 @@\n-    @Test(dataProvider = \"notNormalizedKeys\")\n-    public static void testNormalizeOnNotNormalizedKeys(String notNormalizedKey) {\n+    @ParameterizedTest\n+    @MethodSource(\"notNormalizedKeys\")\n+    public void testNormalizeOnNotNormalizedKeys(String notNormalizedKey) {\n@@ -527,1 +528,1 @@\n-        assertEquals(normalizedKey, expectedNormalizedKey);\n+        assertEquals(expectedNormalizedKey, normalizedKey);\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/HeadersTest.java","additions":56,"deletions":55,"binary":false,"changes":111,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm HttpContextTest\n+ * @run junit\/othervm HttpContextTest\n@@ -37,3 +37,4 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertThrows;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import org.junit.jupiter.api.Test;\n@@ -46,1 +47,1 @@\n-    public static void test() throws IOException {\n+    public void test() throws IOException {\n@@ -52,1 +53,1 @@\n-        assertEquals(context.getPath(), path);\n+        assertEquals(path, context.getPath());\n@@ -63,1 +64,1 @@\n-        assertEquals(context.getPath(), path);\n+        assertEquals(path, context.getPath());\n@@ -75,1 +76,1 @@\n-    public static void testSubcontext() throws IOException {\n+    public void testSubcontext() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/HttpContextTest.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm HttpPrincipalTest\n+ * @run junit\/othervm HttpPrincipalTest\n@@ -32,1 +32,0 @@\n-import org.testng.annotations.Test;\n@@ -34,1 +33,2 @@\n-import static org.testng.Assert.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import org.junit.jupiter.api.Test;\n@@ -42,5 +42,5 @@\n-        assertEquals(principal.getUsername(), \"test\");\n-        assertEquals(principal.getRealm(), \"123\");\n-        assertEquals(principal.getName(), \"123:test\");\n-        assertEquals(principal.toString(), principal.getName());\n-        assertEquals((\"test\"+\"123\").hashCode(), principal.hashCode());\n+        assertEquals(\"test\", principal.getUsername());\n+        assertEquals(\"123\", principal.getRealm());\n+        assertEquals(\"123:test\", principal.getName());\n+        assertEquals(principal.getName(), principal.toString());\n+        assertEquals(principal.hashCode(), (\"test\"+\"123\").hashCode());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/HttpPrincipalTest.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm\n+ * @run junit\/othervm\n@@ -31,1 +31,1 @@\n- * @run testng\/othervm\n+ * @run junit\/othervm\n@@ -34,1 +34,1 @@\n- * @run testng\/othervm\n+ * @run junit\/othervm\n@@ -37,1 +37,1 @@\n- * @run testng\/othervm\n+ * @run junit\/othervm\n@@ -40,1 +40,1 @@\n- * @run testng\/othervm\n+ * @run junit\/othervm\n@@ -51,4 +51,5 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertNull;\n-import static org.testng.Assert.expectThrows;\n+\n+import org.junit.jupiter.api.Assertions;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNull;\n+import org.junit.jupiter.api.Test;\n@@ -73,1 +74,1 @@\n-        assertEquals(System.getProperty(PROPERTY_KEY), n);\n+        assertEquals(n, System.getProperty(PROPERTY_KEY));\n@@ -82,1 +83,1 @@\n-        assertEquals(System.getProperty(PROPERTY_KEY), n);\n+        assertEquals(n, System.getProperty(PROPERTY_KEY));\n@@ -84,3 +85,3 @@\n-        var e = expectThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n-        assertEquals(e.getClass(), ServiceConfigurationError.class);\n-        assertEquals(e.getCause().getClass(), IllegalAccessException.class);\n+        var e = Assertions.assertThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n+        assertEquals(ServiceConfigurationError.class, e.getClass());\n+        assertEquals(IllegalAccessException.class, e.getCause().getClass());\n@@ -91,1 +92,1 @@\n-        assertEquals(System.getProperty(PROPERTY_KEY), n);\n+        assertEquals(n, System.getProperty(PROPERTY_KEY));\n@@ -93,3 +94,3 @@\n-        var e = expectThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n-        assertEquals(e.getClass(), ServiceConfigurationError.class);\n-        assertEquals(e.getCause().getClass(), IllegalAccessException.class);\n+        var e = Assertions.assertThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n+        assertEquals(ServiceConfigurationError.class, e.getClass());\n+        assertEquals(IllegalAccessException.class, e.getCause().getClass());\n@@ -100,1 +101,1 @@\n-        assertEquals(System.getProperty(PROPERTY_KEY), cn);\n+        assertEquals(cn, System.getProperty(PROPERTY_KEY));\n@@ -102,4 +103,4 @@\n-        var e = expectThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n-        assertEquals(e.getClass(), ServiceConfigurationError.class);\n-        assertEquals(e.getCause().getClass(), InvocationTargetException.class);\n-        assertEquals(e.getCause().getCause().getMessage(), \"throwing constructor\");\n+        var e = Assertions.assertThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n+        assertEquals(ServiceConfigurationError.class, e.getClass());\n+        assertEquals(InvocationTargetException.class, e.getCause().getClass());\n+        assertEquals(\"throwing constructor\", e.getCause().getCause().getMessage());\n@@ -110,1 +111,1 @@\n-        assertEquals(System.getProperty(PROPERTY_KEY), cn);\n+        assertEquals(cn, System.getProperty(PROPERTY_KEY));\n@@ -112,3 +113,3 @@\n-        var e = expectThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n-        assertEquals(e.getClass(), ServiceConfigurationError.class);\n-        assertEquals(e.getCause().getClass(), ClassNotFoundException.class);\n+        var e = Assertions.assertThrows(ServiceConfigurationError.class, HttpServerProvider::provider);\n+        assertEquals(ServiceConfigurationError.class, e.getClass());\n+        assertEquals(ClassNotFoundException.class, e.getCause().getClass());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/HttpServerProviderTest.java","additions":29,"deletions":28,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -31,2 +31,2 @@\n- * @run testng\/othervm InputNotRead\n- * @run testng\/othervm -Djava.net.preferIPv6Addresses=true InputNotRead\n+ * @run junit\/othervm InputNotRead\n+ * @run junit\/othervm -Djava.net.preferIPv6Addresses=true InputNotRead\n@@ -54,1 +54,0 @@\n-import org.testng.annotations.Test;\n@@ -59,0 +58,2 @@\n+import org.junit.jupiter.api.Test;\n+\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/InputNotRead.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm UnmodifiableHeadersTest\n+ * @run junit\/othervm UnmodifiableHeadersTest\n@@ -39,0 +39,1 @@\n+import java.util.stream.Stream;\n@@ -43,2 +44,0 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -46,4 +45,9 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertNotNull;\n-import static org.testng.Assert.assertThrows;\n-import static org.testng.Assert.assertTrue;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -54,1 +58,1 @@\n-    public static void testEquality() {\n+    public void testEquality() {\n@@ -57,3 +61,3 @@\n-        assertEquals(unmodifiableHeaders1, headers);\n-        assertEquals(unmodifiableHeaders1.hashCode(), headers.hashCode());\n-        assertEquals(unmodifiableHeaders1.get(\"Foo\"), headers.get(\"Foo\"));\n+        assertEquals(headers, unmodifiableHeaders1);\n+        assertEquals(headers.hashCode(), unmodifiableHeaders1.hashCode());\n+        assertEquals(headers.get(\"Foo\"), unmodifiableHeaders1.get(\"Foo\"));\n@@ -63,3 +67,3 @@\n-        assertEquals(unmodifiableHeaders2, headers);\n-        assertEquals(unmodifiableHeaders2.hashCode(), headers.hashCode());\n-        assertEquals(unmodifiableHeaders2.get(\"Foo\"), headers.get(\"Foo\"));\n+        assertEquals(headers, unmodifiableHeaders2);\n+        assertEquals(headers.hashCode(), unmodifiableHeaders2.hashCode());\n+        assertEquals(headers.get(\"Foo\"), unmodifiableHeaders2.get(\"Foo\"));\n@@ -68,2 +72,1 @@\n-    @DataProvider\n-    public Object[][] headers() {\n+    public static Stream<Headers> headers() {\n@@ -74,5 +77,3 @@\n-        return new Object[][] {\n-                { exchange.getRequestHeaders() },\n-                { Headers.of(\"Foo\", \"Bar\") },\n-                { Headers.of(Map.of(\"Foo\", List.of(\"Bar\"))) },\n-        };\n+        return Stream.of(exchange.getRequestHeaders(),\n+                Headers.of(\"Foo\", \"Bar\"),\n+                Headers.of(Map.of(\"Foo\", List.of(\"Bar\"))));\n@@ -81,2 +82,3 @@\n-    @Test(dataProvider = \"headers\")\n-    public static void testUnmodifiableHeaders(Headers headers) {\n+    @ParameterizedTest\n+    @MethodSource(\"headers\")\n+    public void testUnmodifiableHeaders(Headers headers) {\n@@ -88,2 +90,1 @@\n-    @DataProvider\n-    public Object[][] toStringHeaders() {\n+    public static Stream<Headers> toStringHeaders() {\n@@ -92,7 +93,7 @@\n-        return new Object[][] {\n-                { headers },\n-                { Headers.of(\"abc\", \"XYZ\") },\n-                { Headers.of(Map.of(\"foo\", List.of(\"Bar\"))) },\n-                { Headers.of(Map.of(\"Hello\", List.of())) },\n-                { Headers.of(Map.of(\"one\", List.of(\"two\", \"THREE\"))) },\n-        };\n+        return Stream.of(\n+                headers,\n+                Headers.of(\"abc\", \"XYZ\"),\n+                Headers.of(Map.of(\"foo\", List.of(\"Bar\"))),\n+                Headers.of(Map.of(\"Hello\", List.of())),\n+                Headers.of(Map.of(\"one\", List.of(\"two\", \"THREE\")))\n+        );\n@@ -105,1 +106,2 @@\n-    @Test(dataProvider = \"toStringHeaders\")\n+    @ParameterizedTest\n+    @MethodSource(\"toStringHeaders\")\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/UnmodifiableHeadersTest.java","additions":36,"deletions":34,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng BasicAuthenticatorExceptionCheck\n+ * @run junit BasicAuthenticatorExceptionCheck\n@@ -36,1 +36,0 @@\n-import org.testng.annotations.Test;\n@@ -38,2 +37,2 @@\n-import static org.testng.Assert.expectThrows;\n-import static org.testng.Assert.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n@@ -42,0 +41,3 @@\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+\n@@ -65,1 +67,1 @@\n-        Throwable ex = expectThrows(NPE, () ->\n+        Throwable ex = Assertions.assertThrows(NPE, () ->\n@@ -70,1 +72,1 @@\n-        ex = expectThrows(NPE, () ->\n+        ex = Assertions.assertThrows(NPE, () ->\n@@ -75,1 +77,1 @@\n-        ex = expectThrows(IAE, () ->\n+        ex = Assertions.assertThrows(IAE, () ->\n@@ -77,1 +79,1 @@\n-        assertEquals(ex.getMessage(), \"realm must not be empty\");\n+        assertEquals(\"realm must not be empty\", ex.getMessage());\n@@ -81,1 +83,1 @@\n-        ex = expectThrows(NPE, () ->\n+        ex = Assertions.assertThrows(NPE, () ->\n@@ -86,1 +88,1 @@\n-        ex = expectThrows(IAE, () ->\n+        ex = Assertions.assertThrows(IAE, () ->\n@@ -88,1 +90,1 @@\n-        assertEquals(ex.getMessage(), \"realm must not be empty\");\n+        assertEquals(\"realm must not be empty\", ex.getMessage());\n@@ -92,1 +94,1 @@\n-        ex = expectThrows(IAE, () ->\n+        ex = Assertions.assertThrows(IAE, () ->\n@@ -94,1 +96,1 @@\n-        assertEquals(ex.getMessage(), \"realm invalid: \\\"\/test\\\"\");\n+        assertEquals(\"realm invalid: \\\"\/test\\\"\", ex.getMessage());\n@@ -98,1 +100,1 @@\n-        ex = expectThrows(IAE, () ->\n+        ex = Assertions.assertThrows(IAE, () ->\n@@ -100,1 +102,1 @@\n-        assertEquals(ex.getMessage(), \"realm invalid: \\\"\");\n+        assertEquals(\"realm invalid: \\\"\", ex.getMessage());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/BasicAuthenticatorExceptionCheck.java","additions":18,"deletions":16,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- * @run testng\/othervm CommandLineNegativeTest\n+ * @run junit\/othervm CommandLineNegativeTest\n@@ -40,5 +40,0 @@\n-import org.testng.SkipException;\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -46,1 +41,7 @@\n-import static org.testng.Assert.assertFalse;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import org.junit.jupiter.api.Assumptions;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -58,2 +59,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -67,2 +68,1 @@\n-    @DataProvider\n-    public Object[][] unknownOption() {\n+    public static Object[][] unknownOption() {\n@@ -75,1 +75,2 @@\n-    @Test(dataProvider = \"unknownOption\")\n+    @ParameterizedTest\n+    @MethodSource(\"unknownOption\")\n@@ -83,2 +84,1 @@\n-    @DataProvider\n-    public Object[][] tooManyOptionArgs() {\n+    public static Object[][] tooManyOptionArgs() {\n@@ -98,1 +98,2 @@\n-    @Test(dataProvider = \"tooManyOptionArgs\")\n+    @ParameterizedTest\n+    @MethodSource(\"tooManyOptionArgs\")\n@@ -106,2 +107,1 @@\n-    @DataProvider\n-    public Object[][] noArg() {\n+    public static Object[][] noArg() {\n@@ -125,1 +125,2 @@\n-    @Test(dataProvider = \"noArg\")\n+    @ParameterizedTest\n+    @MethodSource(\"noArg\")\n@@ -134,2 +135,1 @@\n-    @DataProvider\n-    public Object[][] invalidValue() {\n+    public static Object[][] invalidValue() {\n@@ -149,1 +149,2 @@\n-    @Test(dataProvider = \"invalidValue\")\n+    @ParameterizedTest\n+    @MethodSource(\"invalidValue\")\n@@ -157,2 +158,1 @@\n-    @DataProvider\n-    public Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n+    public static Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n@@ -160,1 +160,2 @@\n-    @Test(dataProvider = \"portOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"portOptions\")\n@@ -168,2 +169,1 @@\n-    @DataProvider\n-    public Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n+    public static Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n@@ -171,1 +171,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -181,1 +182,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -191,1 +193,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -194,5 +197,2 @@\n-        if (Platform.isWindows()) {\n-            \/\/ Not applicable to Windows. Reason: cannot revoke an owner's read\n-            \/\/ access to a directory that was created by that owner\n-            throw new SkipException(\"cannot run on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"cannot run on Windows\"); \/\/ Not applicable to Windows. Reason: cannot revoke an owner's read\n+        \/\/ access to a directory that was created by that owner\n@@ -211,2 +211,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLineNegativeTest.java","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm\/manual CommandLinePortNotSpecifiedTest\n+ * @run junit\/othervm\/manual CommandLinePortNotSpecifiedTest\n@@ -42,3 +42,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -47,0 +44,4 @@\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n@@ -58,2 +59,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -86,1 +87,1 @@\n-    public void testPortNotSpecified() throws Throwable {\n+    public static void testPortNotSpecified() throws Throwable {\n@@ -95,2 +96,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLinePortNotSpecifiedTest.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm CommandLinePositiveTest\n+ * @run junit\/othervm CommandLinePositiveTest\n@@ -44,4 +44,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -50,0 +46,5 @@\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n@@ -87,2 +88,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -108,2 +109,1 @@\n-    @DataProvider\n-    public Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n+    public static Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n@@ -111,1 +111,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -117,1 +118,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -132,2 +134,1 @@\n-    @DataProvider\n-    public Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n+    public static Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n@@ -135,1 +136,2 @@\n-    @Test(dataProvider = \"portOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"portOptions\")\n@@ -145,2 +147,1 @@\n-    @DataProvider\n-    public Object[][] helpOptions() { return new Object[][] {{\"-h\"}, {\"-?\"}, {\"--help\"}}; }\n+    public static Object[][] helpOptions() { return new Object[][] {{\"-h\"}, {\"-?\"}, {\"--help\"}}; }\n@@ -164,1 +165,2 @@\n-    @Test(dataProvider = \"helpOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"helpOptions\")\n@@ -175,2 +177,1 @@\n-    @DataProvider\n-    public Object[][] versionOptions() { return new Object[][] {{\"-version\"}, {\"--version\"}}; }\n+    public static Object[][] versionOptions() { return new Object[][] {{\"-version\"}, {\"--version\"}}; }\n@@ -178,1 +179,2 @@\n-    @Test(dataProvider = \"versionOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"versionOptions\")\n@@ -187,2 +189,1 @@\n-    @DataProvider\n-    public Object[][] bindOptions() { return new Object[][] {{\"-b\"}, {\"--bind-address\"}}; }\n+    public static Object[][] bindOptions() { return new Object[][] {{\"-b\"}, {\"--bind-address\"}}; }\n@@ -190,1 +191,2 @@\n-    @Test(dataProvider = \"bindOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"bindOptions\")\n@@ -205,1 +207,2 @@\n-    @Test(dataProvider = \"bindOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"bindOptions\")\n@@ -215,1 +218,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -225,2 +229,1 @@\n-    @DataProvider\n-    public Object[][] outputOptions() { return new Object[][] {{\"-o\"}, {\"--output\"}}; }\n+    public static Object[][] outputOptions() { return new Object[][] {{\"-o\"}, {\"--output\"}}; }\n@@ -228,1 +231,2 @@\n-    @Test(dataProvider = \"outputOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"outputOptions\")\n@@ -238,1 +242,2 @@\n-    @Test(dataProvider = \"portOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"portOptions\")\n@@ -248,2 +253,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLinePositiveTest.java","additions":36,"deletions":31,"binary":false,"changes":67,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm CustomFileSystemTest\n+ * @run junit\/othervm CustomFileSystemTest\n@@ -74,4 +74,0 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import org.testng.SkipException;\n@@ -81,3 +77,9 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertFalse;\n-import static org.testng.Assert.assertTrue;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.Assumptions;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -91,2 +93,2 @@\n-    @BeforeTest\n-    public void setup() throws Exception {\n+    @BeforeAll\n+    public static void setup() throws Exception {\n@@ -114,5 +116,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"some text\");\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"some text\", response.body());\n+            assertEquals(\"text\/plain\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n@@ -143,5 +145,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -167,5 +169,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/plain\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -197,5 +199,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -207,2 +209,1 @@\n-    @DataProvider\n-    public Object[][] indexFiles() {\n+    public static Object[][] indexFiles() {\n@@ -224,1 +225,2 @@\n-    @Test(dataProvider = \"indexFiles\")\n+    @ParameterizedTest\n+    @MethodSource(\"indexFiles\")\n@@ -244,5 +246,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), contentType);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), contentLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(contentType, response.headers().firstValue(\"content-type\").get());\n+            assertEquals(contentLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -259,3 +261,1 @@\n-        if (Platform.isWindows()) {\n-            throw new SkipException(\"Not applicable on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"Not applicable on Windows\");\n@@ -279,3 +279,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -290,3 +290,1 @@\n-        if (Platform.isWindows()) {\n-            throw new SkipException(\"Not applicable on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"Not applicable on Windows\");\n@@ -312,3 +310,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -336,3 +334,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -359,3 +357,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -383,3 +381,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(\"\", response.body());\n@@ -409,3 +407,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -436,3 +434,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -444,1 +442,1 @@\n-    private void createSymLink(Path symlink, Path target) {\n+    private static void createSymLink(Path symlink, Path target) {\n@@ -448,1 +446,1 @@\n-            throw new SkipException(\"sym link creation not supported\", uoe);\n+            Assumptions.abort(\"sym link creation not supported\");\n@@ -450,1 +448,1 @@\n-            throw new SkipException(\"probably insufficient privileges to create sym links (Windows)\", ioe);\n+            Assumptions.abort(\"probably insufficient privileges to create sym links (Windows)\");\n@@ -473,3 +471,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -497,3 +495,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -505,1 +503,1 @@\n-    private Path createHiddenFile(Path root) throws IOException {\n+    private static Path createHiddenFile(Path root) throws IOException {\n@@ -517,1 +515,1 @@\n-    private Path createFileInHiddenDirectory(Path root) throws IOException {\n+    private static Path createFileInHiddenDirectory(Path root) throws IOException {\n@@ -552,3 +550,3 @@\n-                assertEquals(response.statusCode(), 301);\n-                assertEquals(response.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(response.headers().firstValue(\"location\").get(), \"\/aDirectory\/\");\n+                assertEquals(301, response.statusCode());\n+                assertEquals(\"0\", response.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/aDirectory\/\", response.headers().firstValue(\"location\").get());\n@@ -560,3 +558,3 @@\n-                assertEquals(res2.statusCode(), 301);\n-                assertEquals(res2.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(res2.headers().firstValue(\"location\").get(), \"\/aDirectory\/?query\");\n+                assertEquals(301, res2.statusCode());\n+                assertEquals(\"0\", res2.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/aDirectory\/?query\", res2.headers().firstValue(\"location\").get());\n@@ -571,4 +569,4 @@\n-                assertEquals(response.statusCode(), 200);\n-                assertEquals(response.body(), expectedBody);\n-                assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-                assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n+                assertEquals(200, response.statusCode());\n+                assertEquals(expectedBody, response.body());\n+                assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+                assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n@@ -591,1 +589,1 @@\n-            assertEquals(response.statusCode(), 404);\n+            assertEquals(404, response.statusCode());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CustomFileSystemTest.java","additions":85,"deletions":87,"binary":false,"changes":172,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @run testng FileServerHandlerTest\n+ * @run junit FileServerHandlerTest\n@@ -47,3 +47,5 @@\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.*;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -56,2 +58,1 @@\n-    @DataProvider\n-    public Object[][] notAllowedMethods() {\n+    public static Object[][] notAllowedMethods() {\n@@ -62,1 +63,2 @@\n-    @Test(dataProvider = \"notAllowedMethods\")\n+    @ParameterizedTest\n+    @MethodSource(\"notAllowedMethods\")\n@@ -67,2 +69,2 @@\n-        assertEquals(exchange.rCode, 405);\n-        assertEquals(exchange.getResponseHeaders().getFirst(\"allow\"), \"HEAD, GET\");\n+        assertEquals(405, exchange.rCode);\n+        assertEquals(\"HEAD, GET\", exchange.getResponseHeaders().getFirst(\"allow\"));\n@@ -71,2 +73,1 @@\n-    @DataProvider\n-    public Object[][] notImplementedMethods() {\n+    public static Object[][] notImplementedMethods() {\n@@ -77,1 +78,2 @@\n-    @Test(dataProvider = \"notImplementedMethods\")\n+    @ParameterizedTest\n+    @MethodSource(\"notImplementedMethods\")\n@@ -82,1 +84,1 @@\n-        assertEquals(exchange.rCode, 501);\n+        assertEquals(501, exchange.rCode);\n@@ -96,2 +98,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"getRequestBody\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"getRequestBody\", t.getMessage());\n@@ -105,2 +107,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"getResponseHeaders\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"getResponseHeaders\", t.getMessage());\n@@ -114,2 +116,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"sendResponseHeaders\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"sendResponseHeaders\", t.getMessage());\n@@ -123,2 +125,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"getResponseBody\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"getResponseBody\", t.getMessage());\n@@ -132,2 +134,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"close\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"close\", t.getMessage());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/FileServerHandlerTest.java","additions":26,"deletions":24,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm HttpHandlersTest\n+ * @run junit\/othervm HttpHandlersTest\n@@ -47,3 +47,0 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -52,1 +49,6 @@\n-import static org.testng.Assert.*;\n+\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -64,2 +66,2 @@\n-    @BeforeTest\n-    public void setup() {\n+    @BeforeAll\n+    public static void setup() {\n@@ -106,5 +108,5 @@\n-            assertEquals(response.headers().firstValue(\"foo\").get(), \"bar\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), \"0\");\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(\"bar\", response.headers().firstValue(\"foo\").get());\n+            assertEquals(\"0\", response.headers().firstValue(\"content-length\").get());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"\", response.body());\n@@ -128,5 +130,5 @@\n-            assertEquals(response.headers().firstValue(\"foo\").get(), \"bar\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"hello world\");\n+            assertEquals(\"bar\", response.headers().firstValue(\"foo\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"hello world\", response.body());\n@@ -151,3 +153,3 @@\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().map().size(), 2);\n-            assertEquals(response.statusCode(), 200);\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(2, response.headers().map().size());\n+            assertEquals(200, response.statusCode());\n@@ -171,5 +173,5 @@\n-            assertNotEquals(response.headers().firstValue(\"date\").get(), \"12345\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().map().size(), 2);\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"hello world\");\n+            assertNotEquals(\"12345\", response.headers().firstValue(\"date\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(2, response.headers().map().size());\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"hello world\", response.body());\n@@ -181,2 +183,1 @@\n-    @DataProvider\n-    public Object[][] responseBodies() {\n+    public static Object[][] responseBodies() {\n@@ -186,1 +187,2 @@\n-    @Test(dataProvider = \"responseBodies\")\n+    @ParameterizedTest\n+    @MethodSource(\"responseBodies\")\n@@ -195,2 +197,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"getRequestBody\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"getRequestBody\", t.getMessage());\n@@ -204,2 +206,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"getResponseHeaders\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"getResponseHeaders\", t.getMessage());\n@@ -213,2 +215,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"sendResponseHeaders\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"sendResponseHeaders\", t.getMessage());\n@@ -223,2 +225,2 @@\n-                var t = expectThrows(RE, () -> h.handle(exchange));\n-                assertEquals(t.getMessage(), \"getResponseBody\");\n+                var t = assertThrows(RE, () -> h.handle(exchange));\n+                assertEquals(\"getResponseBody\", t.getMessage());\n@@ -233,2 +235,2 @@\n-            var t = expectThrows(RE, () -> h.handle(exchange));\n-            assertEquals(t.getMessage(), \"close\");\n+            var t = assertThrows(RE, () -> h.handle(exchange));\n+            assertEquals(\"close\", t.getMessage());\n@@ -250,2 +252,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"TestHandler-1\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"TestHandler-1\", response.body());\n@@ -269,2 +271,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"TestHandler-2\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"TestHandler-2\", response.body());\n@@ -290,2 +292,2 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"TestHandler-2\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"TestHandler-2\", response.body());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/HttpHandlersTest.java","additions":47,"deletions":45,"binary":false,"changes":92,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm HttpsServerAlertTest\n+ * @run junit\/othervm HttpsServerAlertTest\n@@ -37,2 +37,0 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -53,1 +51,3 @@\n-import static org.testng.Assert.fail;\n+import static org.junit.jupiter.api.Assertions.fail;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -68,2 +68,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/HttpsServerAlertTest.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- * @run testng\/othervm HttpsServerTest\n+ * @run junit\/othervm HttpsServerTest\n@@ -54,2 +54,0 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -57,3 +55,6 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertNull;\n-import static org.testng.Assert.assertThrows;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNull;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -75,2 +76,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -100,1 +101,1 @@\n-        assertEquals(s1.getAddress().getAddress(), LOOPBACK_ADDR.getAddress());\n+        assertEquals(LOOPBACK_ADDR.getAddress(), s1.getAddress().getAddress());\n@@ -105,1 +106,1 @@\n-        assertEquals(s2.getAddress().getAddress(), LOOPBACK_ADDR.getAddress());\n+        assertEquals(LOOPBACK_ADDR.getAddress(), s2.getAddress().getAddress());\n@@ -122,5 +123,4 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"hello world\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(),\n-                    Integer.toString(\"hello world\".length()));\n-            assertEquals(response.statusCode(), filter.responseCode.get().intValue());\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"hello world\", response.body());\n+            assertEquals(                    Integer.toString(\"hello world\".length()), response.headers().firstValue(\"content-length\").get());\n+            assertEquals(filter.responseCode.get().intValue(), response.statusCode());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/HttpsServerTest.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,4 +40,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -46,2 +42,7 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertTrue;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -55,1 +56,1 @@\n- * @run testng\/othervm IdempotencyAndCommutativityTest\n+ * @run junit\/othervm IdempotencyAndCommutativityTest\n@@ -72,2 +73,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -92,2 +93,1 @@\n-    @DataProvider\n-    public Object[][] allBinarySequences() {\n+    public static Object[][] allBinarySequences() {\n@@ -111,1 +111,2 @@\n-    @Test(dataProvider = \"allBinarySequences\")\n+    @ParameterizedTest\n+    @MethodSource(\"allBinarySequences\")\n@@ -125,1 +126,1 @@\n-        assertEquals(response.statusCode(), e.respCode());\n+        assertEquals(e.respCode(), response.statusCode());\n@@ -127,1 +128,1 @@\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), e.contentType());\n+            assertEquals(e.contentType(), response.headers().firstValue(\"content-type\").get());\n@@ -133,1 +134,1 @@\n-    @AfterTest\n+    @AfterAll\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/IdempotencyAndCommutativityTest.java","additions":17,"deletions":16,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng\/othervm MapToPathTest\n+ * @run junit\/othervm MapToPathTest\n@@ -58,3 +58,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -64,1 +61,5 @@\n-import static org.testng.Assert.assertEquals;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -77,2 +78,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -91,1 +92,1 @@\n-    private void createDirectories(Path testDir) throws IOException {\n+    private static void createDirectories(Path testDir) throws IOException {\n@@ -127,4 +128,4 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-                assertEquals(res1.headers().firstValue(\"content-length\").get(), Long.toString(257L));\n-                assertEquals(res1.headers().firstValue(\"last-modified\").get(), getLastModified(TEST_DIR));\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"text\/html; charset=UTF-8\", res1.headers().firstValue(\"content-type\").get());\n+                assertEquals(Long.toString(257L), res1.headers().firstValue(\"content-length\").get());\n+                assertEquals(getLastModified(TEST_DIR), res1.headers().firstValue(\"last-modified\").get());\n@@ -134,1 +135,1 @@\n-                assertEquals(res2.statusCode(), 404);  \/\/ cannot escape root\n+                assertEquals(404, res2.statusCode());  \/\/ cannot escape root\n@@ -138,1 +139,1 @@\n-                assertEquals(res3.statusCode(), 404);  \/\/ not found\n+                assertEquals(404, res3.statusCode());  \/\/ not found\n@@ -142,1 +143,1 @@\n-                assertEquals(res4.statusCode(), 404);  \/\/ not found\n+                assertEquals(404, res4.statusCode());  \/\/ not found\n@@ -146,1 +147,1 @@\n-                assertEquals(res5.statusCode(), 404);  \/\/ not found\n+                assertEquals(404, res5.statusCode());  \/\/ not found\n@@ -150,1 +151,1 @@\n-                assertEquals(res6.statusCode(), 404);  \/\/ not found\n+                assertEquals(404, res6.statusCode());  \/\/ not found\n@@ -154,1 +155,1 @@\n-                assertEquals(res7.statusCode(), 404);  \/\/ not found\n+                assertEquals(404, res7.statusCode());  \/\/ not found\n@@ -158,3 +159,3 @@\n-                assertEquals(res8.statusCode(), 301);  \/\/ redirect\n-                assertEquals(res8.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(res8.headers().firstValue(\"location\").get(), \"\/foo\/\");\n+                assertEquals(301, res8.statusCode());  \/\/ redirect\n+                assertEquals(\"0\", res8.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/foo\/\", res8.headers().firstValue(\"location\").get());\n@@ -172,5 +173,5 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"testdir\");\n-                assertEquals(res1.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-                assertEquals(res1.headers().firstValue(\"content-length\").get(), Long.toString(7L));\n-                assertEquals(res1.headers().firstValue(\"last-modified\").get(), getLastModified(TEST_DIR.resolve(\"file.txt\")));\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"testdir\", res1.body());\n+                assertEquals(\"text\/plain\", res1.headers().firstValue(\"content-type\").get());\n+                assertEquals(Long.toString(7L), res1.headers().firstValue(\"content-length\").get());\n+                assertEquals(getLastModified(TEST_DIR.resolve(\"file.txt\")), res1.headers().firstValue(\"last-modified\").get());\n@@ -180,1 +181,1 @@\n-                assertEquals(res2.statusCode(), 404);  \/\/ no context found\n+                assertEquals(404, res2.statusCode());  \/\/ no context found\n@@ -193,5 +194,5 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"foo\");\n-                assertEquals(res1.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-                assertEquals(res1.headers().firstValue(\"content-length\").get(), Long.toString(3L));\n-                assertEquals(res1.headers().firstValue(\"last-modified\").get(), getLastModified(TEST_DIR.resolve(\"foo\").resolve(\"file.txt\")));\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"foo\", res1.body());\n+                assertEquals(\"text\/plain\", res1.headers().firstValue(\"content-type\").get());\n+                assertEquals(Long.toString(3L), res1.headers().firstValue(\"content-length\").get());\n+                assertEquals(getLastModified(TEST_DIR.resolve(\"foo\").resolve(\"file.txt\")), res1.headers().firstValue(\"last-modified\").get());\n@@ -201,1 +202,1 @@\n-                assertEquals(res2.statusCode(), 404);  \/\/ no context found\n+                assertEquals(404, res2.statusCode());  \/\/ no context found\n@@ -205,1 +206,1 @@\n-                assertEquals(res3.statusCode(), 404);  \/\/ cannot escape context\n+                assertEquals(404, res3.statusCode());  \/\/ cannot escape context\n@@ -209,1 +210,1 @@\n-                assertEquals(res4.statusCode(), 404);  \/\/ cannot escape root\n+                assertEquals(404, res4.statusCode());  \/\/ cannot escape root\n@@ -213,3 +214,3 @@\n-                assertEquals(res5.statusCode(), 301);  \/\/ redirect\n-                assertEquals(res5.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(res5.headers().firstValue(\"location\").get(), \"\/foo\/bar\/\");\n+                assertEquals(301, res5.statusCode());  \/\/ redirect\n+                assertEquals(\"0\", res5.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/foo\/bar\/\", res5.headers().firstValue(\"location\").get());\n@@ -228,5 +229,5 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"foo\");\n-                assertEquals(res1.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-                assertEquals(res1.headers().firstValue(\"content-length\").get(), Long.toString(3L));\n-                assertEquals(res1.headers().firstValue(\"last-modified\").get(), getLastModified(TEST_DIR.resolve(\"foo\").resolve(\"file.txt\")));\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"foo\", res1.body());\n+                assertEquals(\"text\/plain\", res1.headers().firstValue(\"content-type\").get());\n+                assertEquals(Long.toString(3L), res1.headers().firstValue(\"content-length\").get());\n+                assertEquals(getLastModified(TEST_DIR.resolve(\"foo\").resolve(\"file.txt\")), res1.headers().firstValue(\"last-modified\").get());\n@@ -236,1 +237,1 @@\n-                assertEquals(res2.statusCode(), 404);  \/\/ handler prevents mapping to \/foo\/bar\n+                assertEquals(404, res2.statusCode());  \/\/ handler prevents mapping to \/foo\/bar\n@@ -240,1 +241,1 @@\n-                assertEquals(res3.statusCode(), 404);  \/\/ handler prevents mapping to \/foo\/bar\/file.txt\n+                assertEquals(404, res3.statusCode());  \/\/ handler prevents mapping to \/foo\/bar\/file.txt\n@@ -244,1 +245,1 @@\n-                assertEquals(res4.statusCode(), 404);\n+                assertEquals(404, res4.statusCode());\n@@ -248,3 +249,3 @@\n-                assertEquals(res5.statusCode(), 301);  \/\/ redirect\n-                assertEquals(res5.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(res5.headers().firstValue(\"location\").get(), \"\/foo\/bar\/\");\n+                assertEquals(301, res5.statusCode());  \/\/ redirect\n+                assertEquals(\"0\", res5.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/foo\/bar\/\", res5.headers().firstValue(\"location\").get());\n@@ -254,3 +255,3 @@\n-                assertEquals(res6.statusCode(), 301);  \/\/ redirect\n-                assertEquals(res6.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(res6.headers().firstValue(\"location\").get(), \"\/foo\/\");\n+                assertEquals(301, res6.statusCode());  \/\/ redirect\n+                assertEquals(\"0\", res6.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/foo\/\", res6.headers().firstValue(\"location\").get());\n@@ -279,1 +280,1 @@\n-                assertEquals(res1.statusCode(), 404);  \/\/ not found\n+                assertEquals(404, res1.statusCode());  \/\/ not found\n@@ -306,2 +307,2 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"root response body\");\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"root response body\", res1.body());\n@@ -312,2 +313,2 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"foo\");\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"foo\", res1.body());\n@@ -317,2 +318,2 @@\n-                assertEquals(res2.statusCode(), 200);\n-                assertEquals(res2.body(), \"foo\/bar\/baz\");\n+                assertEquals(200, res2.statusCode());\n+                assertEquals(\"foo\/bar\/baz\", res2.body());\n@@ -323,2 +324,2 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"foobar\");\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"foobar\", res1.body());\n@@ -330,2 +331,2 @@\n-                assertEquals(res1.statusCode(), 200);\n-                assertEquals(res1.body(), \"bar response body\");\n+                assertEquals(200, res1.statusCode());\n+                assertEquals(\"bar response body\", res1.body());\n@@ -350,4 +351,4 @@\n-                assertEquals(res.statusCode(), 200);\n-                assertEquals(res.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-                assertEquals(res.headers().firstValue(\"content-length\").get(), Long.toString(257L));\n-                assertEquals(res.headers().firstValue(\"last-modified\").get(), getLastModified(TEST_DIR));\n+                assertEquals(200, res.statusCode());\n+                assertEquals(\"text\/html; charset=UTF-8\", res.headers().firstValue(\"content-type\").get());\n+                assertEquals(Long.toString(257L), res.headers().firstValue(\"content-length\").get());\n+                assertEquals(getLastModified(TEST_DIR), res.headers().firstValue(\"last-modified\").get());\n@@ -360,2 +361,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/MapToPathTest.java","additions":71,"deletions":70,"binary":false,"changes":141,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n- * @run testng\/othervm -Djdk.httpclient.redirects.retrylimit=1 OutputFilterTest\n+ * @run junit\/othervm -Djdk.httpclient.redirects.retrylimit=1 OutputFilterTest\n@@ -56,3 +56,0 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -62,3 +59,8 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertThrows;\n-import static org.testng.Assert.assertTrue;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -77,2 +79,2 @@\n-    @BeforeTest\n-    public void setup() {\n+    @BeforeAll\n+    public static void setup() {\n@@ -97,1 +99,1 @@\n-        assertEquals(filter.description(), \"HttpExchange OutputFilter (outputLevel: VERBOSE)\");\n+        assertEquals(\"HttpExchange OutputFilter (outputLevel: VERBOSE)\", filter.description());\n@@ -100,1 +102,1 @@\n-        assertEquals(filter.description(), \"HttpExchange OutputFilter (outputLevel: INFO)\");\n+        assertEquals(\"HttpExchange OutputFilter (outputLevel: INFO)\", filter.description());\n@@ -123,3 +125,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().map().size(), 3);\n-            assertEquals(response.body(), \"hello world\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(3, response.headers().map().size());\n+            assertEquals(\"hello world\", response.body());\n@@ -175,3 +177,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().map().size(), 2);\n-            assertEquals(response.body(), \"hello world\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(2, response.headers().map().size());\n+            assertEquals(\"hello world\", response.body());\n@@ -210,2 +212,1 @@\n-    @DataProvider\n-    public Object[][] throwingHandler() {\n+    public static Object[][] throwingHandler() {\n@@ -226,1 +227,2 @@\n-    @Test(dataProvider = \"throwingHandler\")\n+    @ParameterizedTest\n+    @MethodSource(\"throwingHandler\")\n@@ -246,1 +248,1 @@\n-            assertEquals(baos.toString(UTF_8), expectedOutput);\n+            assertEquals(expectedOutput, baos.toString(UTF_8));\n@@ -267,2 +269,2 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().map().size(), 3);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(3, response.headers().map().size());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/OutputFilterTest.java","additions":26,"deletions":24,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @run testng RequestTest\n+ * @run junit RequestTest\n@@ -38,3 +38,4 @@\n-import org.testng.annotations.Test;\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertThrows;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import org.junit.jupiter.api.Test;\n@@ -49,2 +50,2 @@\n-        assertEquals(request.getRequestHeaders().size(), 1);\n-        assertEquals(request.getRequestHeaders().get(\"Foo\"), List.of(\"Bar\"));\n+        assertEquals(1, request.getRequestHeaders().size());\n+        assertEquals(List.of(\"Bar\"), request.getRequestHeaders().get(\"Foo\"));\n@@ -60,3 +61,3 @@\n-        assertEquals(request.getRequestHeaders().size(), 2);\n-        assertEquals(request.getRequestHeaders().get(\"Foo\"), List.of(\"Bar\"));\n-        assertEquals(request.getRequestHeaders().get(\"X-Foo\"), List.of(\"Bar\"));\n+        assertEquals(2, request.getRequestHeaders().size());\n+        assertEquals(List.of(\"Bar\"), request.getRequestHeaders().get(\"Foo\"));\n+        assertEquals(List.of(\"Bar\"), request.getRequestHeaders().get(\"X-Foo\"));\n@@ -73,2 +74,2 @@\n-        assertEquals(request.getRequestHeaders().size(), 1);\n-        assertEquals(request.getRequestHeaders().get(headerName), List.of(\"Bar\"));\n+        assertEquals(1, request.getRequestHeaders().size());\n+        assertEquals(List.of(\"Bar\"), request.getRequestHeaders().get(headerName));\n@@ -86,5 +87,5 @@\n-        assertEquals(request.getRequestHeaders().size(), 4);\n-        assertEquals(request.getRequestHeaders().getFirst(\"Foo\"), \"Bar\");\n-        assertEquals(request.getRequestHeaders().getFirst(\"Larry\"), \"a\");\n-        assertEquals(request.getRequestHeaders().getFirst(\"Curly\"), \"b\");\n-        assertEquals(request.getRequestHeaders().getFirst(\"Moe\"  ), \"c\");\n+        assertEquals(4, request.getRequestHeaders().size());\n+        assertEquals(\"Bar\", request.getRequestHeaders().getFirst(\"Foo\"));\n+        assertEquals(\"a\", request.getRequestHeaders().getFirst(\"Larry\"));\n+        assertEquals(\"b\", request.getRequestHeaders().getFirst(\"Curly\"));\n+        assertEquals(\"c\", request.getRequestHeaders().getFirst(\"Moe\"  ));\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/RequestTest.java","additions":18,"deletions":17,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,3 +42,0 @@\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -48,2 +45,5 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertTrue;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -57,1 +57,1 @@\n- * @run testng\/othervm ServerMimeTypesResolutionTest\n+ * @run junit\/othervm ServerMimeTypesResolutionTest\n@@ -73,2 +73,2 @@\n-    @BeforeTest\n-    public void setup() throws Exception {\n+    @BeforeAll\n+    public static void setup() throws Exception {\n@@ -142,1 +142,1 @@\n-    public static void testMimeTypeHeaders() throws Exception {\n+    public void testMimeTypeHeaders() throws Exception {\n@@ -166,2 +166,2 @@\n-        assertEquals(response.statusCode(), 200);\n-        assertEquals(response.headers().firstValue(\"content-type\").get(),expectedMimeType);\n+        assertEquals(200, response.statusCode());\n+        assertEquals(expectedMimeType, response.headers().firstValue(\"content-type\").get());\n@@ -179,1 +179,0 @@\n-    @DataProvider\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/ServerMimeTypesResolutionTest.java","additions":12,"deletions":13,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- * @run testng\/othervm SimpleFileServerTest\n+ * @run junit\/othervm SimpleFileServerTest\n@@ -55,5 +55,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n-import org.testng.SkipException;\n@@ -63,1 +58,8 @@\n-import static org.testng.Assert.*;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.Assumptions;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -81,2 +83,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -108,5 +110,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"some text\");\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"some text\", response.body());\n+            assertEquals(\"text\/plain\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n@@ -137,5 +139,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -158,3 +160,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"image\/x-icon\");\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), EXPECTED_LAST_MODIFIED_OF_FAVICON);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"image\/x-icon\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(EXPECTED_LAST_MODIFIED_OF_FAVICON, response.headers().firstValue(\"last-modified\").get());\n@@ -168,4 +170,4 @@\n-                assertEquals(response.statusCode(), 200);\n-                assertEquals(response.headers().firstValue(\"content-type\").get(), \"application\/octet-stream\");\n-                assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-                assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n+                assertEquals(200, response.statusCode());\n+                assertEquals(\"application\/octet-stream\", response.headers().firstValue(\"content-type\").get());\n+                assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+                assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n@@ -178,3 +180,3 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"image\/x-icon\");\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), EXPECTED_LAST_MODIFIED_OF_FAVICON);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"image\/x-icon\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(EXPECTED_LAST_MODIFIED_OF_FAVICON, response.headers().firstValue(\"last-modified\").get());\n@@ -197,4 +199,4 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"image\/x-icon\");\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), EXPECTED_LAST_MODIFIED_OF_FAVICON);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"image\/x-icon\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(EXPECTED_LAST_MODIFIED_OF_FAVICON, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -220,5 +222,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/plain\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -250,5 +252,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -260,2 +262,1 @@\n-    @DataProvider\n-    public Object[][] indexFiles() {\n+    public static Object[][] indexFiles() {\n@@ -277,1 +278,2 @@\n-    @Test(dataProvider = \"indexFiles\")\n+    @ParameterizedTest\n+    @MethodSource(\"indexFiles\")\n@@ -297,5 +299,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), contentType);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), contentLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(contentType, response.headers().firstValue(\"content-type\").get());\n+            assertEquals(contentLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -312,3 +314,1 @@\n-        if (Platform.isWindows()) {\n-            throw new SkipException(\"Not applicable on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"Not applicable on Windows\");\n@@ -332,3 +332,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -343,3 +343,1 @@\n-        if (Platform.isWindows()) {\n-            throw new SkipException(\"Not applicable on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"Not applicable on Windows\");\n@@ -365,3 +363,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -389,3 +387,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -412,3 +410,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -436,3 +434,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(\"\", response.body());\n@@ -462,3 +460,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -489,3 +487,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -497,1 +495,1 @@\n-    private void createSymLink(Path symlink, Path target) {\n+    private static void createSymLink(Path symlink, Path target) {\n@@ -501,1 +499,1 @@\n-            throw new SkipException(\"sym link creation not supported\", uoe);\n+            Assumptions.abort(\"sym link creation not supported\");\n@@ -503,1 +501,1 @@\n-            throw new SkipException(\"probably insufficient privileges to create sym links (Windows)\", ioe);\n+            Assumptions.abort(\"probably insufficient privileges to create sym links (Windows)\");\n@@ -526,3 +524,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -550,3 +548,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -558,1 +556,1 @@\n-    private Path createHiddenFile(Path root) throws IOException {\n+    private static Path createHiddenFile(Path root) throws IOException {\n@@ -570,1 +568,1 @@\n-    private Path createFileInHiddenDirectory(Path root) throws IOException {\n+    private static Path createFileInHiddenDirectory(Path root) throws IOException {\n@@ -605,3 +603,3 @@\n-                assertEquals(response.statusCode(), 301);\n-                assertEquals(response.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(response.headers().firstValue(\"location\").get(), \"\/aDirectory\/\");\n+                assertEquals(301, response.statusCode());\n+                assertEquals(\"0\", response.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/aDirectory\/\", response.headers().firstValue(\"location\").get());\n@@ -613,3 +611,3 @@\n-                assertEquals(res2.statusCode(), 301);\n-                assertEquals(res2.headers().firstValue(\"content-length\").get(), \"0\");\n-                assertEquals(res2.headers().firstValue(\"location\").get(), \"\/aDirectory\/?query\");\n+                assertEquals(301, res2.statusCode());\n+                assertEquals(\"0\", res2.headers().firstValue(\"content-length\").get());\n+                assertEquals(\"\/aDirectory\/?query\", res2.headers().firstValue(\"location\").get());\n@@ -624,4 +622,4 @@\n-                assertEquals(response.statusCode(), 200);\n-                assertEquals(response.body(), expectedBody);\n-                assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-                assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n+                assertEquals(200, response.statusCode());\n+                assertEquals(expectedBody, response.body());\n+                assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+                assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n@@ -676,1 +674,1 @@\n-            var iae = expectThrows(IAE, () -> SimpleFileServer.createFileServer(addr, p, OutputLevel.INFO));\n+            var iae = assertThrows(IAE, () -> SimpleFileServer.createFileServer(addr, p, OutputLevel.INFO));\n@@ -682,1 +680,1 @@\n-            var iae = expectThrows(IAE, () -> SimpleFileServer.createFileServer(addr, p, OutputLevel.INFO));\n+            var iae = assertThrows(IAE, () -> SimpleFileServer.createFileServer(addr, p, OutputLevel.INFO));\n@@ -689,3 +687,1 @@\n-        if (Platform.isWindows()) {\n-            throw new SkipException(\"Not applicable on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"Not applicable on Windows\");\n@@ -697,1 +693,1 @@\n-            var iae = expectThrows(IAE, () -> SimpleFileServer.createFileServer(addr, p, OutputLevel.INFO));\n+            var iae = assertThrows(IAE, () -> SimpleFileServer.createFileServer(addr, p, OutputLevel.INFO));\n@@ -721,1 +717,1 @@\n-            assertEquals(response.statusCode(), 404);\n+            assertEquals(404, response.statusCode());\n@@ -729,2 +725,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/SimpleFileServerTest.java","additions":104,"deletions":108,"binary":false,"changes":212,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @run testng\/othervm\/timeout=180 StressDirListings\n+ * @run junit\/othervm\/timeout=180 StressDirListings\n@@ -46,3 +46,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -51,1 +48,5 @@\n-import static org.testng.Assert.assertEquals;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -69,1 +70,1 @@\n-    HttpServer simpleFileServer;\n+    static HttpServer simpleFileServer;\n@@ -71,2 +72,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -85,2 +86,2 @@\n-    @AfterTest\n-    public void teardown() {\n+    @AfterAll\n+    public static void teardown() {\n@@ -108,1 +109,1 @@\n-            assertEquals(response.statusCode(), 200);\n+            assertEquals(200, response.statusCode());\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/StressDirListings.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @run testng\/othervm ZipFileSystemTest\n+ * @run junit\/othervm ZipFileSystemTest\n@@ -54,4 +54,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -61,2 +57,8 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertTrue;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -74,2 +76,2 @@\n-    @BeforeTest\n-    public void setup() throws Exception {\n+    @BeforeAll\n+    public static void setup() throws Exception {\n@@ -101,5 +103,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.body(), \"some text\");\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"some text\", response.body());\n+            assertEquals(\"text\/plain\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n@@ -130,5 +132,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -156,5 +158,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/plain\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/plain\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -186,5 +188,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), \"text\/html; charset=UTF-8\");\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(200, response.statusCode());\n+            assertEquals(\"text\/html; charset=UTF-8\", response.headers().firstValue(\"content-type\").get());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(\"\", response.body());\n@@ -198,2 +200,1 @@\n-    @DataProvider\n-    public Object[][] indexFiles() {\n+    public static Object[][] indexFiles() {\n@@ -215,1 +216,2 @@\n-    @Test(dataProvider = \"indexFiles\")\n+    @ParameterizedTest\n+    @MethodSource(\"indexFiles\")\n@@ -235,5 +237,5 @@\n-            assertEquals(response.statusCode(), 200);\n-            assertEquals(response.headers().firstValue(\"content-type\").get(), contentType);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), contentLength);\n-            assertEquals(response.headers().firstValue(\"last-modified\").get(), lastModified);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(200, response.statusCode());\n+            assertEquals(contentType, response.headers().firstValue(\"content-type\").get());\n+            assertEquals(contentLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(lastModified, response.headers().firstValue(\"last-modified\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -268,3 +270,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -293,3 +295,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), expectedBody);\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(expectedBody, response.body());\n@@ -320,3 +322,3 @@\n-            assertEquals(response.statusCode(), 404);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), expectedLength);\n-            assertEquals(response.body(), \"\");\n+            assertEquals(404, response.statusCode());\n+            assertEquals(expectedLength, response.headers().firstValue(\"content-length\").get());\n+            assertEquals(\"\", response.body());\n@@ -342,3 +344,3 @@\n-            assertEquals(response.statusCode(), 301);\n-            assertEquals(response.headers().firstValue(\"content-length\").get(), \"0\");\n-            assertEquals(response.headers().firstValue(\"location\").get(), \"\/aDirectory\/\");\n+            assertEquals(301, response.statusCode());\n+            assertEquals(\"0\", response.headers().firstValue(\"content-length\").get());\n+            assertEquals(\"\/aDirectory\/\", response.headers().firstValue(\"location\").get());\n@@ -369,1 +371,1 @@\n-            assertEquals(response.statusCode(), 404);\n+            assertEquals(404, response.statusCode());\n@@ -379,2 +381,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/ZipFileSystemTest.java","additions":55,"deletions":53,"binary":false,"changes":108,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- * @run testng\/othervm CommandLineNegativeTest\n+ * @run junit\/othervm CommandLineNegativeTest\n@@ -40,5 +40,0 @@\n-import org.testng.SkipException;\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -46,1 +41,7 @@\n-import static org.testng.Assert.assertFalse;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import org.junit.jupiter.api.Assumptions;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n@@ -58,2 +59,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -67,2 +68,1 @@\n-    @DataProvider\n-    public Object[][] unknownOption() {\n+    public static Object[][] unknownOption() {\n@@ -75,1 +75,2 @@\n-    @Test(dataProvider = \"unknownOption\")\n+    @ParameterizedTest\n+    @MethodSource(\"unknownOption\")\n@@ -83,2 +84,1 @@\n-    @DataProvider\n-    public Object[][] tooManyOptionArgs() {\n+    public static Object[][] tooManyOptionArgs() {\n@@ -98,1 +98,2 @@\n-    @Test(dataProvider = \"tooManyOptionArgs\")\n+    @ParameterizedTest\n+    @MethodSource(\"tooManyOptionArgs\")\n@@ -106,2 +107,1 @@\n-    @DataProvider\n-    public Object[][] noArg() {\n+    public static Object[][] noArg() {\n@@ -125,1 +125,2 @@\n-    @Test(dataProvider = \"noArg\")\n+    @ParameterizedTest\n+    @MethodSource(\"noArg\")\n@@ -134,2 +135,1 @@\n-    @DataProvider\n-    public Object[][] invalidValue() {\n+    public static Object[][] invalidValue() {\n@@ -149,1 +149,2 @@\n-    @Test(dataProvider = \"invalidValue\")\n+    @ParameterizedTest\n+    @MethodSource(\"invalidValue\")\n@@ -157,2 +158,1 @@\n-    @DataProvider\n-    public Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n+    public static Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n@@ -160,1 +160,2 @@\n-    @Test(dataProvider = \"portOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"portOptions\")\n@@ -168,2 +169,1 @@\n-    @DataProvider\n-    public Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n+    public static Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n@@ -171,1 +171,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -181,1 +182,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -191,1 +193,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -194,5 +197,2 @@\n-        if (Platform.isWindows()) {\n-            \/\/ Not applicable to Windows. Reason: cannot revoke an owner's read\n-            \/\/ access to a directory that was created by that owner\n-            throw new SkipException(\"cannot run on Windows\");\n-        }\n+        Assumptions.assumeFalse(Platform.isWindows(), \"cannot run on Windows\"); \/\/ Not applicable to Windows. Reason: cannot revoke an owner's read\n+        \/\/ access to a directory that was created by that owner\n@@ -211,2 +211,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLineNegativeTest.java","additions":36,"deletions":36,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm\/manual CommandLinePortNotSpecifiedTest\n+ * @run junit\/othervm\/manual CommandLinePortNotSpecifiedTest\n@@ -42,3 +42,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -47,0 +44,4 @@\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n@@ -58,2 +59,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -95,2 +96,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLinePortNotSpecifiedTest.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm CommandLinePositiveTest\n+ * @run junit\/othervm CommandLinePositiveTest\n@@ -44,4 +44,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.DataProvider;\n-import org.testng.annotations.Test;\n@@ -50,0 +46,5 @@\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n@@ -87,2 +88,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -108,2 +109,1 @@\n-    @DataProvider\n-    public Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n+    public static Object[][] directoryOptions() { return new Object[][] {{\"-d\"}, {\"--directory\"}}; }\n@@ -111,1 +111,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -117,1 +118,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -132,2 +134,1 @@\n-    @DataProvider\n-    public Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n+    public static Object[][] portOptions() { return new Object[][] {{\"-p\"}, {\"--port\"}}; }\n@@ -135,1 +136,2 @@\n-    @Test(dataProvider = \"portOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"portOptions\")\n@@ -145,2 +147,1 @@\n-    @DataProvider\n-    public Object[][] helpOptions() { return new Object[][] {{\"-h\"}, {\"-?\"}, {\"--help\"}}; }\n+    public static Object[][] helpOptions() { return new Object[][] {{\"-h\"}, {\"-?\"}, {\"--help\"}}; }\n@@ -164,1 +165,2 @@\n-    @Test(dataProvider = \"helpOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"helpOptions\")\n@@ -175,2 +177,1 @@\n-    @DataProvider\n-    public Object[][] versionOptions() { return new Object[][] {{\"-version\"}, {\"--version\"}}; }\n+    public static Object[][] versionOptions() { return new Object[][] {{\"-version\"}, {\"--version\"}}; }\n@@ -178,1 +179,2 @@\n-    @Test(dataProvider = \"versionOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"versionOptions\")\n@@ -187,2 +189,1 @@\n-    @DataProvider\n-    public Object[][] bindOptions() { return new Object[][] {{\"-b\"}, {\"--bind-address\"}}; }\n+    public static Object[][] bindOptions() { return new Object[][] {{\"-b\"}, {\"--bind-address\"}}; }\n@@ -190,1 +191,2 @@\n-    @Test(dataProvider = \"bindOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"bindOptions\")\n@@ -205,1 +207,2 @@\n-    @Test(dataProvider = \"bindOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"bindOptions\")\n@@ -215,1 +218,2 @@\n-    @Test(dataProvider = \"directoryOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"directoryOptions\")\n@@ -225,2 +229,1 @@\n-    @DataProvider\n-    public Object[][] outputOptions() { return new Object[][] {{\"-o\"}, {\"--output\"}}; }\n+    public static Object[][] outputOptions() { return new Object[][] {{\"-o\"}, {\"--output\"}}; }\n@@ -228,1 +231,2 @@\n-    @Test(dataProvider = \"outputOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"outputOptions\")\n@@ -238,1 +242,2 @@\n-    @Test(dataProvider = \"portOptions\")\n+    @ParameterizedTest\n+    @MethodSource(\"portOptions\")\n@@ -248,2 +253,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLinePositiveTest.java","additions":36,"deletions":31,"binary":false,"changes":67,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng\/othervm MaxRequestTimeTest\n+ * @run junit\/othervm MaxRequestTimeTest\n@@ -50,3 +50,0 @@\n-import org.testng.annotations.AfterTest;\n-import org.testng.annotations.BeforeTest;\n-import org.testng.annotations.Test;\n@@ -55,1 +52,5 @@\n-import static org.testng.Assert.*;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import static org.junit.jupiter.api.Assertions.*;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n@@ -83,2 +84,2 @@\n-    @BeforeTest\n-    public void setup() throws IOException {\n+    @BeforeAll\n+    public static void setup() throws IOException {\n@@ -121,1 +122,1 @@\n-    void sendHTTPRequest() throws IOException, InterruptedException {\n+    static void sendHTTPRequest() throws IOException, InterruptedException {\n@@ -128,1 +129,1 @@\n-        assertEquals(response.body(), expectedBody);\n+        assertEquals(expectedBody, response.body());\n@@ -131,1 +132,1 @@\n-    void sendHTTPSRequest() throws IOException, InterruptedException {\n+    static void sendHTTPSRequest() throws IOException, InterruptedException {\n@@ -146,2 +147,2 @@\n-    @AfterTest\n-    public void teardown() throws IOException {\n+    @AfterAll\n+    public static void teardown() throws IOException {\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/MaxRequestTimeTest.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"}]}
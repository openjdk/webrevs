{"files":[{"patch":"@@ -2016,3 +2016,2 @@\n-                                     ((j & 1) == 0 &&\n-                                      t.getClass().getSuperclass() ==\n-                                      interruptibleTaskClass)) &&\n+                                     t.getClass().getSuperclass() ==\n+                                     interruptibleTaskClass) &&\n@@ -2058,1 +2057,1 @@\n-        int checks = (ac == 0) ? 1 : (ac == 1) ? 2 : 3;\n+        int checks = (ac <= 1) ? ac + 1 : 3;  \/\/ reactivation threshold\n@@ -2065,5 +2064,5 @@\n-            if ((q = qs[k & (n - 1)]) == null)\n-                Thread.onSpinWait();          \/\/ interleave spins and rechecks\n-            else if ((a = q.array) != null && (cap = a.length) > 0 &&\n-                     a[q.base & (cap - 1)] != null && --checks <= 0 &&\n-                     ctl == qc && compareAndSetCtl(qc, pc))\n+            Thread.onSpinWait();              \/\/ interleave spins and rechecks\n+            if ((k & 1) == 0 && (q = qs[k & (n - 1)]) != null &&\n+                (a = q.array) != null && (cap = a.length) > 0 &&\n+                a[q.base & (cap - 1)] != null && --checks <= 0 &&\n+                ctl == qc && compareAndSetCtl(qc, pc))\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ForkJoinPool.java","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -1294,2 +1294,1 @@\n-                else if ((room == 0 || s == base || a[m & (s - 1)] == null) &&\n-                         pool != null)\n+                else if ((room == 0 || a[m & (s - 1)] == null) && pool != null)\n@@ -1994,1 +1993,1 @@\n-                            ForkJoinTask<?> t; int b; long k;\n+                            ForkJoinTask<?> t; int b, nb; long k;\n@@ -2013,1 +2012,1 @@\n-                                ForkJoinTask<?> next = a[(q.base = b + 1) & m];\n+                                ForkJoinTask<?> next = a[(nb = q.base = b + 1) & m];\n@@ -2017,3 +2016,5 @@\n-                                if (next != null &&\n-                                    (!propagated || t.getClass().getSuperclass() ==\n-                                     interruptibleTaskClass)) {\n+                                if ((t.getClass().getSuperclass() ==\n+                                     interruptibleTaskClass) ?\n+                                    (next != null ||\n+                                     (j & 1) == 0 && q.top - nb > 0) :\n+                                    (!propagated && next != null)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ForkJoinPool.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"}]}
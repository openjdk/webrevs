{"files":[{"patch":"@@ -1294,1 +1294,5 @@\n-                else if ((room == 0 || a[m & (s - 1)] == null) && pool != null)\n+                else if ((room == 0 || a[m & (s - 1)] == null ||\n+                          (!internal && task != null &&\n+                           task.getClass().getSuperclass() == interruptibleTaskClass &&\n+                           a[m & (s - 2)] != null)) &&\n+                         pool != null)\n@@ -1993,1 +1997,1 @@\n-                            ForkJoinTask<?> t; int b, nb; long k;\n+                            ForkJoinTask<?> t; int b; long k;\n@@ -2012,1 +2016,1 @@\n-                                ForkJoinTask<?> next = a[(nb = q.base = b + 1) & m];\n+                                int nk = (q.base = b + 1) & m;\n@@ -2017,4 +2021,2 @@\n-                                     interruptibleTaskClass) ?\n-                                    (next != null ||\n-                                     (j & 1) == 0 && q.top - nb > 0) :\n-                                    (!propagated && next != null)) {\n+                                     interruptibleTaskClass || !propagated) &&\n+                                    a[nk] != null) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ForkJoinPool.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,0 @@\n-import jdk.test.lib.Platform;\n@@ -106,1 +105,1 @@\n-        Space(String name) {\n+        Space(String name) throws IOException {\n@@ -110,6 +109,1 @@\n-                try {\n-                    getCDDriveSpace(name, sizes);\n-                } catch (IOException e) {\n-                    e.printStackTrace();\n-                    throw new RuntimeException(\"can't get CDDrive sizes\");\n-                }\n+                getCDDriveSpace(name, sizes);\n@@ -173,1 +167,1 @@\n-    private static void compare(Space s) {\n+    private static void compare(Space s) throws IOException {\n@@ -321,1 +315,1 @@\n-    private static int testFile(Path dir) {\n+    private static int testFile(Path dir) throws IOException {\n@@ -336,1 +330,1 @@\n-    private static int testVolumes() {\n+    private static int testVolumes() throws IOException {\n@@ -339,1 +333,2 @@\n-        \/\/ returned by File::getXSpace are equivalent to those from getSpace or getCDDriveSpace\n+        \/\/ returned by File::getXSpace are equivalent to those from getSpace\n+        \/\/ or getCDDriveSpace\n@@ -353,1 +348,12 @@\n-            Space s = new Space(p);\n+            Space s;\n+            try {\n+                s = new Space(p);\n+            } catch (IOException x) {\n+                \/\/ Avoid failing for transient file systems on Windows\n+                if (Platform.isWindows()) {\n+                    File f = new File(p);\n+                    if (!f.exists())\n+                        continue;\n+                }\n+                throw new IOException(\"Failure for volume \" + p, x);\n+            }\n@@ -411,1 +417,2 @@\n-    private static native boolean getSpace0(String root, long[] space);\n+    private static native boolean getSpace0(String root, long[] space)\n+        throws IOException;\n@@ -415,1 +422,2 @@\n-    private static boolean getSpace(String root, long[] space) {\n+    private static boolean getSpace(String root, long[] space)\n+        throws IOException {\n@@ -418,1 +426,1 @@\n-        } catch (RuntimeException e) {\n+        } catch (IOException e) {\n@@ -420,2 +428,0 @@\n-            boolean exists = f.exists();\n-            boolean readable = f.canRead();\n@@ -423,1 +429,1 @@\n-                              root, exists, readable);\n+                              root, f.exists(), f.canRead());\n","filename":"test\/jdk\/java\/io\/File\/GetXSpace.java","additions":26,"deletions":20,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -88,1 +88,1 @@\n-            JNU_ThrowByNameWithLastError(env, \"java\/lang\/RuntimeException\",\n+            JNU_ThrowByNameWithLastError(env, \"java\/io\/IOException\",\n@@ -116,1 +116,1 @@\n-            JNU_ThrowByNameWithLastError(env, \"java\/lang\/RuntimeException\",\n+            JNU_ThrowByNameWithLastError(env, \"java\/io\/IOException\",\n@@ -134,2 +134,1 @@\n-        JNU_ThrowByNameWithLastError(env, \"java\/lang\/RuntimeException\",\n-                                     \"malloc\");\n+        JNU_ThrowOutOfMemoryError(env, \"malloc\");\n@@ -149,1 +148,1 @@\n-        JNU_ThrowByNameWithLastError(env, \"java\/lang\/RuntimeException\",\n+        JNU_ThrowByNameWithLastError(env, \"java\/io\/IOException\",\n","filename":"test\/jdk\/java\/io\/File\/libGetXSpace.c","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"}]}
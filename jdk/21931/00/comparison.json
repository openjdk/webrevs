{"files":[{"patch":"@@ -305,22 +305,0 @@\n-size_t ArchiveBuilder::estimate_archive_size() {\n-  \/\/ size of the symbol table and two dictionaries, plus the RunTimeClassInfo's\n-  size_t symbol_table_est = SymbolTable::estimate_size_for_archive();\n-  size_t dictionary_est = SystemDictionaryShared::estimate_size_for_archive();\n-  _estimated_hashtable_bytes = symbol_table_est + dictionary_est;\n-\n-  size_t total = 0;\n-\n-  total += _estimated_metaspaceobj_bytes;\n-  total += _estimated_hashtable_bytes;\n-\n-  \/\/ allow fragmentation at the end of each dump region\n-  total += _total_dump_regions * MetaspaceShared::core_region_alignment();\n-\n-  log_info(cds)(\"_estimated_hashtable_bytes = \" SIZE_FORMAT \" + \" SIZE_FORMAT \" = \" SIZE_FORMAT,\n-                symbol_table_est, dictionary_est, _estimated_hashtable_bytes);\n-  log_info(cds)(\"_estimated_metaspaceobj_bytes = \" SIZE_FORMAT, _estimated_metaspaceobj_bytes);\n-  log_info(cds)(\"total estimate bytes = \" SIZE_FORMAT, total);\n-\n-  return align_up(total, MetaspaceShared::core_region_alignment());\n-}\n-\n@@ -328,1 +306,1 @@\n-  size_t buffer_size = estimate_archive_size();\n+  size_t buffer_size = CompressedClassSpaceSize;\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.cpp","additions":1,"deletions":23,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -279,2 +279,0 @@\n-  size_t estimate_archive_size();\n-\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -156,1 +156,0 @@\n-  _last_verified_top(nullptr),\n@@ -158,1 +157,0 @@\n-  _other_region_used_bytes(0),\n@@ -175,3 +173,1 @@\n-  _total_heap_region_size(0),\n-  _estimated_metaspaceobj_bytes(0),\n-  _estimated_hashtable_bytes(0)\n+  _total_heap_region_size(0)\n@@ -239,4 +235,0 @@\n-    \/\/ See RunTimeClassInfo::get_for(): make sure we have enough space for both maximum\n-    \/\/ Klass alignment as well as the RuntimeInfo* pointer we will embed in front of a Klass.\n-    _estimated_metaspaceobj_bytes += align_up(BytesPerWord, CompressedKlassPointers::klass_alignment_in_bytes()) +\n-        align_up(sizeof(void*), SharedSpaceObjectAlignment);\n@@ -250,3 +242,0 @@\n-  int bytes = ref->size() * BytesPerWord;\n-  _estimated_metaspaceobj_bytes += align_up(bytes, SharedSpaceObjectAlignment);\n-\n@@ -291,4 +280,0 @@\n-\n-    \/\/ TODO -- we need a proper estimate for the archived modules, etc,\n-    \/\/ but this should be enough for now\n-    _estimated_metaspaceobj_bytes += 200 * 1024 * 1024;\n@@ -336,1 +321,0 @@\n-  _last_verified_top = buffer_bottom;\n@@ -339,1 +323,0 @@\n-  _other_region_used_bytes = 0;\n@@ -558,4 +541,0 @@\n-  address bottom = _last_verified_top;\n-  address top = (address)(current_dump_region()->top());\n-  _other_region_used_bytes += size_t(top - bottom);\n-\n@@ -565,15 +544,0 @@\n-\n-  _last_verified_top = (address)(current_dump_region()->top());\n-}\n-\n-void ArchiveBuilder::verify_estimate_size(size_t estimate, const char* which) {\n-  address bottom = _last_verified_top;\n-  address top = (address)(current_dump_region()->top());\n-  size_t used = size_t(top - bottom) + _other_region_used_bytes;\n-  int diff = int(estimate) - int(used);\n-\n-  log_info(cds)(\"%s estimate = \" SIZE_FORMAT \" used = \" SIZE_FORMAT \"; diff = %d bytes\", which, estimate, used, diff);\n-  assert(diff >= 0, \"Estimate is too small\");\n-\n-  _last_verified_top = top;\n-  _other_region_used_bytes = 0;\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.cpp","additions":1,"deletions":37,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -99,1 +99,0 @@\n-  address _last_verified_top;\n@@ -101,1 +100,0 @@\n-  size_t _other_region_used_bytes;\n@@ -276,4 +274,0 @@\n-  \/\/ Conservative estimate for number of bytes needed for:\n-  size_t _estimated_metaspaceobj_bytes;   \/\/ all archived MetaspaceObj's.\n-  size_t _estimated_hashtable_bytes;     \/\/ symbol table and dictionaries\n-\n@@ -283,1 +277,0 @@\n-  void verify_estimate_size(size_t estimate, const char* which);\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -136,2 +136,0 @@\n-    verify_estimate_size(_estimated_metaspaceobj_bytes, \"MetaspaceObjs\");\n-\n@@ -162,2 +160,0 @@\n-    verify_estimate_size(_estimated_hashtable_bytes, \"Hashtables\");\n-\n","filename":"src\/hotspot\/share\/cds\/dynamicArchive.cpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"}]}
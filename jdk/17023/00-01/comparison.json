{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+import java.util.Arrays;\n@@ -342,3 +343,9 @@\n-            if (tableEntry == INVALID_COUNTRY_ENTRY ||\n-                    (tableEntry & SPECIAL_CASE_COUNTRY_MASK) != 0 ||\n-                    (tableEntry & SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) != (currencyCode.charAt(2) - 'A')) {\n+\n+            \/\/ Do not allow a future currency to be classified as an otherCurrency,\n+            \/\/ otherwise it will leak out into Currency:getAvailableCurrencies\n+            boolean notFutureCurrency = !Arrays.asList(specialCaseNewCurrencies).contains(currencyCode);\n+            boolean notSimpleCurrency = tableEntry == INVALID_COUNTRY_ENTRY\n+                    || (tableEntry & SPECIAL_CASE_COUNTRY_MASK) != 0\n+                    || (tableEntry & SIMPLE_CASE_COUNTRY_FINAL_CHAR_MASK) != (currencyCode.charAt(2) - 'A');\n+\n+            if (notFutureCurrency && notSimpleCurrency) {\n","filename":"make\/jdk\/src\/classes\/build\/tools\/generatecurrencydata\/GenerateCurrencyData.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -272,0 +272,1 @@\n+XCG=XCG\n","filename":"src\/java.base\/share\/classes\/sun\/util\/resources\/CurrencyNames.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -177,5 +177,0 @@\n-                } else {\n-                    \/\/ Still need to add the future currency to testCurrencies\n-                    \/\/ without updating ISO4217Codes\n-                    String futureCurr = tokens.nextToken();\n-                    testCurrencies.add(Currency.getInstance(futureCurr));\n","filename":"test\/jdk\/java\/util\/Currency\/ValidateISO4217.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"}]}
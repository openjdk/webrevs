{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,0 +48,1 @@\n+  assert(requested_size <= SIZE_MAX - length, \"overflow\");\n@@ -132,0 +133,1 @@\n+  assert(items <= SIZE_MAX \/ x, \"overflow\");\n@@ -150,2 +152,3 @@\n-  if( (c_old+old_size == _hwm) &&       \/\/ Adjusting recent thing\n-      (c_old+new_size <= _max) ) {      \/\/ Still fits where it sits\n+  if( (c_old+old_size == _hwm) &&            \/\/ Adjusting recent thing\n+      ((size_t)(_max-c_old) >= new_size) ) { \/\/ Still fits where it sits, safe from overflow\n+\n","filename":"src\/hotspot\/share\/adlc\/adlArena.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,0 +108,1 @@\n+    assert(x <= SIZE_MAX - (8-1), \"overflow\");\n@@ -110,0 +111,1 @@\n+    assert(x <= SIZE_MAX - (4-1), \"overflow\");\n","filename":"src\/hotspot\/share\/adlc\/adlArena.hpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -338,2 +338,2 @@\n-  if( (c_old+old_size == _hwm) &&       \/\/ Adjusting recent thing\n-      (c_old+corrected_new_size <= _max) ) {      \/\/ Still fits where it sits\n+  if( (c_old+old_size == _hwm) &&                      \/\/ Adjusting recent thing\n+      ((size_t)(_max-c_old) >= corrected_new_size) ) { \/\/ Still fits where it sits, safe from overflow\n","filename":"src\/hotspot\/share\/memory\/arena.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
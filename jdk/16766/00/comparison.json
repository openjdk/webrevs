{"files":[{"patch":"@@ -1134,2 +1134,0 @@\n-      size_t const obj_size_in_words = cast_to_oop(hr->bottom())->size();\n-\n@@ -1137,2 +1135,3 @@\n-      \/\/ regions.\n-      assert(marked_bytes == 0 || obj_size_in_words * HeapWordSize == marked_bytes,\n+      \/\/ regions; also, we should not access their header any more them as their\n+      \/\/ klass may have been unloaded.\n+      assert(marked_bytes == 0 || cast_to_oop(hr->bottom())->size() * HeapWordSize == marked_bytes,\n@@ -1140,1 +1139,1 @@\n-             obj_size_in_words * HeapWordSize, marked_bytes);\n+             cast_to_oop(hr->bottom())->size() * HeapWordSize, marked_bytes);\n@@ -1152,3 +1151,1 @@\n-      assert(marked_bytes == 0,\n-             \"%zu bytes left after distributing space across %zu regions\",\n-             marked_bytes, G1CollectedHeap::humongous_obj_size_in_regions(obj_size_in_words));\n+      assert(marked_bytes == 0, \"%zu bytes left after distributing space \", marked_bytes);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"}]}
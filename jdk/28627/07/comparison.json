{"files":[{"patch":"@@ -55,0 +55,1 @@\n+import java.io.Externalizable;\n@@ -59,0 +60,2 @@\n+import java.io.ObjectInput;\n+import java.io.ObjectOutput;\n@@ -449,1 +452,1 @@\n-    private PropertyChangeListener editorRemover = null;\n+    private transient PropertyChangeListener editorRemover = null;\n@@ -5547,1 +5550,1 @@\n-    static class GenericEditor extends DefaultCellEditor {\n+    static class GenericEditor extends DefaultCellEditor implements Externalizable {\n@@ -5608,0 +5611,4 @@\n+\n+        public void writeExternal(ObjectOutput out) throws IOException {}\n+\n+        public void readExternal(ObjectInput in) throws IOException {}\n@@ -5943,0 +5950,3 @@\n+        if (this.isEditing()) {\n+            this.getCellEditor().cancelCellEditing();\n+        }\n@@ -5957,0 +5967,1 @@\n+        this.removeAll();\n@@ -6011,1 +6022,1 @@\n-        editorRemover = (PropertyChangeListener) f.get(\"editorRemover\", null);\n+\n@@ -6037,1 +6048,1 @@\n-         }\n+        }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JTable.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -0,0 +1,96 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 6441373\n+ * @summary Verifies Editing JTable is Serializable\n+ * @run main EditingJTableNotSerializable\n+ *\/\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+\n+import javax.swing.JTable;\n+import javax.swing.table.TableCellEditor;\n+import javax.swing.SwingUtilities;\n+\n+public class EditingJTableNotSerializable {\n+\n+    private static JTable serialize(JTable jt) throws Exception {\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        ObjectOutputStream oos = new ObjectOutputStream(baos);\n+        oos.writeObject(jt);\n+        byte[] bdata = baos.toByteArray();\n+        ByteArrayInputStream bais = new ByteArrayInputStream(bdata);\n+        ObjectInputStream ois = new ObjectInputStream(bais);\n+        return (JTable)ois.readObject();\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        StringBuilder str = new StringBuilder();\n+        testSerializeEditingTable(str);\n+        testSerializeNonEditingTable(str);\n+        if (str.length() != 0) {\n+            throw new RuntimeException(str.toString());\n+        }\n+    }\n+\n+    private static JTable jt;\n+    private static void testSerializeEditingTable(StringBuilder str) {\n+        try {\n+            Object[][] data = new Object[][]{ new Object[]{1, 2, 3, 4, 5}};\n+            Object[] names = new Object[]{1, 2, 3, 4, 5};\n+            SwingUtilities.invokeAndWait(() -> {\n+                jt = new JTable(data, names);\n+                jt.editCellAt(0,3);\n+            });\n+            System.out.println(\"Serializing editing JTable\");\n+            JTable newjt = serialize(jt);\n+            if (newjt.isEditing()) {\n+                str.append(\"\\nEditing table is serializable\");\n+            }\n+        } catch (Exception e) {\n+            str.append(\"Failed serializing editing table \" + e);\n+        }\n+    }\n+\n+    private static void testSerializeNonEditingTable(StringBuilder str) {\n+        try {\n+            Object[][] data = new Object[][]{ new Object[]{1, 2, 3, 4, 5}};\n+            Object[] names = new Object[]{1, 2, 3, 4, 5};\n+            SwingUtilities.invokeAndWait(() -> {\n+                jt = new JTable(data, names);\n+                jt.editCellAt(0,3);\n+                TableCellEditor tce = jt.getCellEditor();\n+                tce.stopCellEditing();\n+            });\n+            System.out.println(\"Serializing non-editing JTable\");\n+            serialize(jt);\n+        } catch (Exception e) {\n+            str.append(\"Failed serializing non-editing table \" + e);\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JTable\/EditingJTableNotSerializable.java","additions":96,"deletions":0,"binary":false,"changes":96,"status":"added"}]}
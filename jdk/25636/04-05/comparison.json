{"files":[{"patch":"@@ -74,0 +74,5 @@\n+\n+    \/\/ Following two only used during parsing\n+    private String maxAgeAttrVal;\n+    private String expiresAttrVal;\n+\n@@ -864,4 +869,0 @@\n-        \/\/ Attributes that require special handling\n-        String expiresValue = null;\n-        String maxAgeValue = null;\n-\n@@ -880,9 +881,0 @@\n-            if (name.equalsIgnoreCase(\"max-age\") && maxAgeValue == null) {\n-                maxAgeValue = value;\n-                continue;\n-            }\n-            if (name.equalsIgnoreCase(\"expires\") && expiresValue == null) {\n-                expiresValue = value;\n-                continue;\n-            }\n-\n@@ -892,1 +884,1 @@\n-        assignMaxAgeAttribute(cookie, expiresValue, maxAgeValue);\n+        setMaxAgeAttribute(cookie);\n@@ -970,0 +962,14 @@\n+        assignors.put(\"max-age\", new CookieAttributeAssignor(){\n+            public void assign(HttpCookie cookie,\n+                               String attrName,\n+                               String attrValue) {\n+                cookie.maxAgeAttrVal = attrValue;\n+            }\n+        });\n+        assignors.put(\"expires\", new CookieAttributeAssignor(){\n+            public void assign(HttpCookie cookie,\n+                               String attrName,\n+                               String attrValue) {\n+                cookie.expiresAttrVal = attrValue;\n+            }\n+        });\n@@ -984,3 +990,1 @@\n-    private static void assignMaxAgeAttribute(HttpCookie cookie,\n-                                               String expiresValue,\n-                                               String maxAgeValue)\n+    private static void setMaxAgeAttribute(HttpCookie cookie)\n@@ -990,1 +994,1 @@\n-        if (expiresValue == null && maxAgeValue == null)\n+        if (cookie.expiresAttrVal == null && cookie.maxAgeAttrVal == null)\n@@ -994,2 +998,2 @@\n-        expiresValue = stripOffSurroundingQuote(expiresValue);\n-        maxAgeValue = stripOffSurroundingQuote(maxAgeValue);\n+        String expiresValue = stripOffSurroundingQuote(cookie.expiresAttrVal);\n+        String maxAgeValue = stripOffSurroundingQuote(cookie.maxAgeAttrVal);\n","filename":"src\/java.base\/share\/classes\/java\/net\/HttpCookie.java","additions":24,"deletions":20,"binary":false,"changes":44,"status":"modified"}]}
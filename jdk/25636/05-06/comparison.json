{"files":[{"patch":"@@ -74,5 +74,0 @@\n-\n-    \/\/ Following two only used during parsing\n-    private String maxAgeAttrVal;\n-    private String expiresAttrVal;\n-\n@@ -869,0 +864,4 @@\n+        \/\/ Attributes that require special handling\n+        String expiresValue = null;\n+        String maxAgeValue = null;\n+\n@@ -881,0 +880,9 @@\n+            if (name.equalsIgnoreCase(\"max-age\") && maxAgeValue == null) {\n+                maxAgeValue = value;\n+                continue;\n+            }\n+            if (name.equalsIgnoreCase(\"expires\") && expiresValue == null) {\n+                expiresValue = value;\n+                continue;\n+            }\n+\n@@ -884,1 +892,1 @@\n-        setMaxAgeAttribute(cookie);\n+        assignMaxAgeAttribute(cookie, expiresValue, maxAgeValue);\n@@ -962,14 +970,0 @@\n-        assignors.put(\"max-age\", new CookieAttributeAssignor(){\n-            public void assign(HttpCookie cookie,\n-                               String attrName,\n-                               String attrValue) {\n-                cookie.maxAgeAttrVal = attrValue;\n-            }\n-        });\n-        assignors.put(\"expires\", new CookieAttributeAssignor(){\n-            public void assign(HttpCookie cookie,\n-                               String attrName,\n-                               String attrValue) {\n-                cookie.expiresAttrVal = attrValue;\n-            }\n-        });\n@@ -990,1 +984,3 @@\n-    private static void setMaxAgeAttribute(HttpCookie cookie)\n+    private static void assignMaxAgeAttribute(HttpCookie cookie,\n+                                               String expiresValue,\n+                                               String maxAgeValue)\n@@ -994,1 +990,1 @@\n-        if (cookie.expiresAttrVal == null && cookie.maxAgeAttrVal == null)\n+        if (expiresValue == null && maxAgeValue == null)\n@@ -998,2 +994,2 @@\n-        String expiresValue = stripOffSurroundingQuote(cookie.expiresAttrVal);\n-        String maxAgeValue = stripOffSurroundingQuote(cookie.maxAgeAttrVal);\n+        expiresValue = stripOffSurroundingQuote(expiresValue);\n+        maxAgeValue = stripOffSurroundingQuote(maxAgeValue);\n","filename":"src\/java.base\/share\/classes\/java\/net\/HttpCookie.java","additions":20,"deletions":24,"binary":false,"changes":44,"status":"modified"}]}
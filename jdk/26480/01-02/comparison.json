{"files":[{"patch":"@@ -127,1 +127,1 @@\n-            if (configuration.readAvailableHugePageNumberFromOS() == 0) {\n+            if (configuration.getExplicitAvailableHugePageNumber() == 0) {\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestHugePageDecisionsAtVMStartup.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+    long _explicitAvailableHugePageNumber = -1;\n@@ -83,0 +84,4 @@\n+    public long getExplicitAvailableHugePageNumber() {\n+        return _explicitAvailableHugePageNumber;\n+    }\n+\n@@ -119,1 +124,1 @@\n-    public HugePageConfiguration(Set<ExplicitHugePageConfig> explicitHugePageConfigurations, long explicitDefaultHugePageSize, THPMode _thpMode, long _thpPageSize, ShmemTHPMode _shmemThpMode) {\n+    public HugePageConfiguration(Set<ExplicitHugePageConfig> explicitHugePageConfigurations, long explicitDefaultHugePageSize, long explicitAvailableHugePageNumber, THPMode _thpMode, long _thpPageSize, ShmemTHPMode _shmemThpMode) {\n@@ -122,0 +127,1 @@\n+        this._explicitAvailableHugePageNumber = explicitAvailableHugePageNumber;\n@@ -132,0 +138,1 @@\n+                \", _explicitAvailableHugePageNumber=\" + _explicitAvailableHugePageNumber +\n@@ -141,0 +148,1 @@\n+                            _explicitAvailableHugePageNumber,\n@@ -152,0 +160,1 @@\n+        \/\/ _explicitAvailableHugePageNumber is not compared here, because there is no direct counterpart on the JVM-side log.\n@@ -172,1 +181,1 @@\n-    public static long readAvailableHugePageNumberFromOS() {\n+    private static long readAvailableHugePageNumberFromOS() {\n@@ -281,0 +290,1 @@\n+                readAvailableHugePageNumberFromOS(),\n@@ -351,1 +361,1 @@\n-        return new HugePageConfiguration(explicitHugePageConfigs, defaultHugepageSize, thpMode, thpPageSize, shmemThpMode);\n+        return new HugePageConfiguration(explicitHugePageConfigs, defaultHugepageSize, -1, thpMode, thpPageSize, shmemThpMode);\n","filename":"test\/lib\/jdk\/test\/lib\/os\/linux\/HugePageConfiguration.java","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"}]}
{"files":[{"patch":"@@ -47,4 +47,4 @@\n-        ClassBuilder b = downstream;\n-        while (b instanceof ChainedClassBuilder cb)\n-            b = cb.downstream;\n-        terminal = (DirectClassBuilder) b;\n+        this.terminal = switch (downstream) {\n+            case ChainedClassBuilder cb -> cb.terminal;\n+            case DirectClassBuilder db -> db;\n+        };\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ChainedClassBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -39,1 +39,0 @@\n-    private final FieldBuilder downstream;\n@@ -45,1 +44,0 @@\n-        this.downstream = downstream;\n@@ -47,4 +45,4 @@\n-        FieldBuilder b = downstream;\n-        while (b instanceof ChainedFieldBuilder cb)\n-            b = cb.downstream;\n-        terminal = (TerminalFieldBuilder) b;\n+        this.terminal = switch (downstream) {\n+            case ChainedFieldBuilder cb -> cb.terminal;\n+            case TerminalFieldBuilder tb -> tb;\n+        };\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ChainedFieldBuilder.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -50,4 +50,4 @@\n-        MethodBuilder b = downstream;\n-        while (b instanceof ChainedMethodBuilder cb)\n-            b = cb.downstream;\n-        terminal = (TerminalMethodBuilder) b;\n+        this.terminal = switch (downstream) {\n+            case ChainedMethodBuilder cb -> cb.terminal;\n+            case TerminalMethodBuilder tb -> tb;\n+        };\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ChainedMethodBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
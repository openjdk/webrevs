{"files":[{"patch":"@@ -71,0 +71,3 @@\n+    \/** flag: is the \"preview\" lint category enabled? *\/\n+    private final boolean verbose;\n+\n@@ -83,1 +86,0 @@\n-    private final Lint lint;\n@@ -104,1 +106,0 @@\n-        lint = Lint.instance(context);\n@@ -106,2 +107,2 @@\n-        this.previewHandler =\n-                new MandatoryWarningHandler(log, source, lint.isEnabled(LintCategory.PREVIEW), true, \"preview\", LintCategory.PREVIEW);\n+        verbose = Lint.instance(context).isEnabled(LintCategory.PREVIEW);\n+        previewHandler = new MandatoryWarningHandler(log, source, verbose, true, \"preview\", LintCategory.PREVIEW);\n@@ -179,6 +180,4 @@\n-        if (!lint.isSuppressed(LintCategory.PREVIEW)) {\n-            sourcesWithPreviewFeatures.add(log.currentSourceFile());\n-            previewHandler.report(pos, feature.isPlural() ?\n-                    LintWarnings.PreviewFeatureUsePlural(feature.nameFragment()) :\n-                    LintWarnings.PreviewFeatureUse(feature.nameFragment()));\n-        }\n+        sourcesWithPreviewFeatures.add(log.currentSourceFile());\n+        previewHandler.report(pos, feature.isPlural() ?\n+                LintWarnings.PreviewFeatureUsePlural(feature.nameFragment()) :\n+                LintWarnings.PreviewFeatureUse(feature.nameFragment()));\n@@ -194,1 +193,1 @@\n-        if (lint.isEnabled(LintCategory.PREVIEW)) {\n+        if (verbose) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Preview.java","additions":10,"deletions":11,"binary":false,"changes":21,"status":"modified"}]}
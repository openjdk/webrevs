{"files":[{"patch":"@@ -1004,1 +1004,1 @@\n-bool G1CollectedHeap::expand(size_t expand_bytes, WorkerThreads* pretouch_workers, double* expand_time_ms) {\n+bool G1CollectedHeap::expand(size_t expand_bytes, WorkerThreads* pretouch_workers) {\n@@ -1016,1 +1016,0 @@\n-  double expand_heap_start_time_sec = os::elapsedTime();\n@@ -1021,4 +1020,0 @@\n-  if (expand_time_ms != nullptr) {\n-    *expand_time_ms = (os::elapsedTime() - expand_heap_start_time_sec) * MILLIUNITS;\n-  }\n-\n@@ -2400,3 +2395,4 @@\n-    double expand_ms = 0.0;\n-    if (!expand(expand_bytes, _workers, &expand_ms)) {\n-      \/\/ We failed to expand the heap. Cannot do anything about it.\n+    Ticks expand_start = Ticks::now();\n+    if (expand(expand_bytes, _workers)) {\n+      double expand_ms = (Ticks::now() - expand_start).seconds() * MILLIUNITS;\n+      phase_times()->record_expand_heap_time(expand_ms);\n@@ -2404,1 +2400,0 @@\n-    phase_times()->record_expand_heap_time(expand_ms);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -575,1 +575,1 @@\n-  bool expand(size_t expand_bytes, WorkerThreads* pretouch_workers, double* expand_time_ms = nullptr);\n+  bool expand(size_t expand_bytes, WorkerThreads* pretouch_workers);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
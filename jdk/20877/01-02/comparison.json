{"files":[{"patch":"@@ -34,1 +34,1 @@\n- * @requires os.arch==\"amd64\" | os.arch==\"x86_64\"\n+ * @requires os.arch==\"amd64\" | os.arch==\"x86_64\" | os.arch==\"aarch64\"\n@@ -46,2 +46,8 @@\n-    @IR(counts = {IRNode.DIV_MOD_I, \"1\" }, applyIf = {\"UseDivMod\", \"true\"})\n-    @IR(failOn = {IRNode.DIV_MOD_I}, applyIf = {\"UseDivMod\", \"false\"})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"x64\", \"true\"},\n+            counts = {IRNode.DIV_MOD_I, \"1\"},\n+            failOn = {IRNode.DIV_I, IRNode.MOD_I})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"aarch64\", \"true\"},\n+            counts = {IRNode.MUL_I, \"1\", IRNode.SUB_I, \"1\"},\n+            failOn = {IRNode.DIV_I, IRNode.MOD_I})\n+    @IR(applyIf = {\"UseDivMod\", \"false\"},\n+            counts = {IRNode.DIV_I, \"1\", IRNode.MOD_I, \"1\"})\n@@ -57,2 +63,8 @@\n-    @IR(counts = {IRNode.DIV_MOD_L, \"1\" }, applyIf = {\"UseDivMod\", \"true\"})\n-    @IR(failOn = {IRNode.DIV_MOD_L}, applyIf = {\"UseDivMod\", \"false\"})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"x64\", \"true\"},\n+            counts = {IRNode.DIV_MOD_L, \"1\"},\n+            failOn = {IRNode.DIV_L, IRNode.MOD_L})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"aarch64\", \"true\"},\n+            counts = {IRNode.MUL_L, \"1\", IRNode.SUB_L, \"1\"},\n+            failOn = {IRNode.DIV_L, IRNode.MOD_L})\n+    @IR(applyIf = {\"UseDivMod\", \"false\"},\n+            counts = {IRNode.DIV_L, \"1\", IRNode.MOD_L, \"1\"})\n@@ -68,2 +80,8 @@\n-    @IR(counts = {IRNode.UDIV_MOD_I, \"1\" }, applyIf = {\"UseDivMod\", \"true\"})\n-    @IR(failOn = {IRNode.UDIV_MOD_I}, applyIf = {\"UseDivMod\", \"false\"})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"x64\", \"true\"},\n+            counts = {IRNode.UDIV_MOD_I, \"1\"},\n+            failOn = {IRNode.UDIV_I, IRNode.UMOD_I})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"aarch64\", \"true\"},\n+            counts = {IRNode.MUL_I, \"1\", IRNode.SUB_I, \"1\"},\n+            failOn = {IRNode.UDIV_I, IRNode.UMOD_I})\n+    @IR(applyIf = {\"UseDivMod\", \"false\"},\n+            counts = {IRNode.UDIV_I, \"1\", IRNode.UMOD_I, \"1\"})\n@@ -79,2 +97,8 @@\n-    @IR(counts = {IRNode.UDIV_MOD_L, \"1\" }, applyIf = {\"UseDivMod\", \"true\"})\n-    @IR(failOn = {IRNode.UDIV_MOD_L}, applyIf = {\"UseDivMod\", \"false\"})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"x64\", \"true\"},\n+            counts = {IRNode.UDIV_MOD_L, \"1\"},\n+            failOn = {IRNode.UDIV_L, IRNode.UMOD_L})\n+    @IR(applyIf = {\"UseDivMod\", \"true\"}, applyIfPlatform = {\"aarch64\", \"true\"},\n+            counts = {IRNode.MUL_L, \"1\", IRNode.SUB_L, \"1\"},\n+            failOn = {IRNode.UDIV_L, IRNode.MOD_L})\n+    @IR(applyIf = {\"UseDivMod\", \"false\"},\n+            counts = {IRNode.UDIV_L, \"1\", IRNode.UMOD_L, \"1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestDivModNodes.java","additions":33,"deletions":9,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -517,0 +517,5 @@\n+    public static final String DIV_I = PREFIX + \"DIV_I\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(DIV_I, \"DivI\");\n+    }\n+\n@@ -1010,0 +1015,10 @@\n+    public static final String MOD_I = PREFIX + \"MOD_I\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(MOD_I, \"ModI\");\n+    }\n+\n+    public static final String MOD_L = PREFIX + \"MOD_L\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(MOD_L, \"ModL\");\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"}]}
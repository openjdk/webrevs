{"files":[{"patch":"@@ -113,0 +113,2 @@\n+    private static final int MAX_UNBALANCED_TOP_NODES = 100;\n+\n@@ -976,5 +978,0 @@\n-     * <p>\n-     * The criteria for when we need a rebalance is subjective. For now this method\n-     * checks up to 500 of the topmost nodes of a AWTEventMulticaster. If they all include\n-     * one leaf node, then this method returns true. This criteria will be met after\n-     * 500 iterations of {@link #addInternal(EventListener, EventListener)}.\n@@ -985,1 +982,5 @@\n-            if (++level > 500) {\n+            \/\/ The criteria for when we need a rebalance is subjective. This method checks\n+            \/\/ up to a given threshold of the topmost nodes of a AWTEventMulticaster. If\n+            \/\/ they all include one leaf node, then this method returns true. This criteria\n+            \/\/ will be met after several consecutive iterations of `addInternal(a, b)`\n+            if (++level > MAX_UNBALANCED_TOP_NODES) {\n@@ -1020,1 +1021,1 @@\n-        int mid = (index0 + index1)\/2;\n+        int mid = (index0 + index1) \/ 2;\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/AWTEventMulticaster.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"test\/jdk\/java\/awt\/event\/StressTest\/LargeAWTEventMulticasterTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
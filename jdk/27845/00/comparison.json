{"files":[{"patch":"@@ -61,3 +61,3 @@\n-  _phase(phase), _is_par(is_par) {\n-  Threads::change_thread_claim_token();\n-}\n+  _phase(phase),\n+  _is_par(is_par),\n+  _threads_claim_token_scope() {}\n@@ -77,4 +77,0 @@\n-ShenandoahThreadRoots::~ShenandoahThreadRoots() {\n-  Threads::assert_all_threads_claimed();\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.cpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+#include \"runtime\/threads.hpp\"\n@@ -90,1 +91,2 @@\n-  const bool _is_par;\n+  const bool                    _is_par;\n+  ThreadsClaimTokenScope        _threads_claim_token_scope;\n@@ -93,1 +95,0 @@\n-  ~ShenandoahThreadRoots();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
{"files":[{"patch":"@@ -26,0 +26,1 @@\n+ * @bug 8340698\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/events\/NotifyFramePopStressTest\/NotifyFramePopStressTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -62,0 +62,1 @@\n+  char* expected_method = (char*)last_notify_method;\n@@ -68,1 +69,1 @@\n-  err =jvmti->GetMethodDeclaringClass(method, &cls);\n+  err = jvmti->GetMethodDeclaringClass(method, &cls);\n@@ -71,1 +72,1 @@\n-  err =jvmti->GetClassSignature(cls, &csig, nullptr);\n+  err = jvmti->GetClassSignature(cls, &csig, nullptr);\n@@ -78,1 +79,1 @@\n-    if (strcmp(name, (char*)last_notify_method) != 0) {\n+    if (strcmp(name, (char*)expected_method) != 0) {\n@@ -83,2 +84,0 @@\n-      deallocate(jvmti, jni, (void*)last_notify_method);\n-      fatal(jni, \"FramePop event in wrong method\\n\");\n@@ -87,1 +86,0 @@\n-  deallocate(jvmti, jni, (void*)last_notify_method);\n@@ -99,1 +97,1 @@\n-    LOG(\"GetEnv(JVMTI_VERSION_9) failedL error(%d)\", res);\n+    LOG(\"GetEnv(JVMTI_VERSION_9) failed error(%d)\", res);\n@@ -160,1 +158,1 @@\n-    LOG(\"\\nNotifyFramePop for method %d returned acceptable error: %s\\n\", name, TranslateError(err));\n+    \/\/LOG(\"\\nNotifyFramePop for method %s returned acceptable error: %s\\n\", name, TranslateError(err));\n@@ -172,0 +170,1 @@\n+    char* old_notify_method = (char*)last_notify_method;\n@@ -173,0 +172,1 @@\n+    deallocate(jvmti, jni, old_notify_method);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/events\/NotifyFramePopStressTest\/libNotifyFramePopStressTest.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"}]}
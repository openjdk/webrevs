{"files":[{"patch":"@@ -372,2 +372,2 @@\n-        int len = s1.length() + s2.length();\n-        byte[] buf = (byte[]) UNSAFE.allocateUninitializedArray(byte.class, len << coder);\n+        int newLength = (s1.length() + s2.length()) << coder;\n+        byte[] buf = newArray(newLength);\n@@ -444,1 +444,11 @@\n-        if (index < 0) {\n+        return newArray(index);\n+    }\n+\n+    \/**\n+     * Allocates an uninitialized byte array based on the length\n+     * @param length\n+     * @return the newly allocated byte array\n+     *\/\n+    @ForceInline\n+    static byte[] newArray(int length) {\n+        if (length < 0) {\n@@ -447,1 +457,1 @@\n-        return (byte[]) UNSAFE.allocateUninitializedArray(byte.class, index);\n+        return (byte[]) UNSAFE.allocateUninitializedArray(byte.class, length);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringConcatHelper.java","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,1 +108,1 @@\n-      COPY := .gif .png .xml .css .svg .js .js.template .txt javax.tools.JavaCompilerTool, \\\n+      COPY := .gif .png .xml .css .svg .js .js.template .txt .woff .woff2 javax.tools.JavaCompilerTool, \\\n","filename":"make\/CompileInterimLangtools.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2020, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n-COPY += .xml .css .svg .js .js.template .png .txt\n+COPY += .xml .css .svg .js .js.template .png .txt .woff .woff2\n","filename":"make\/modules\/jdk.javadoc\/Java.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+import java.io.BufferedReader;\n@@ -30,0 +31,2 @@\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n@@ -45,0 +48,2 @@\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n@@ -306,0 +311,4 @@\n+        if (!options.noFonts()) {\n+            copyFontResources();\n+        }\n+\n@@ -308,1 +317,1 @@\n-        if (options.stylesheetFile().length() == 0) {\n+        if (options.stylesheetFile().isEmpty()) {\n@@ -456,0 +465,25 @@\n+    private void copyFontResources() throws DocletException {\n+        DocPath cssPath = DocPaths.FONTS.resolve(DocPaths.DEJAVU_CSS);\n+        copyResource(cssPath, DocPaths.RESOURCE_FILES.resolve(cssPath), true);\n+\n+        try {\n+            \/\/ Extract font file names from CSS file\n+            URL cssURL = HtmlConfiguration.class.getResource(DocPaths.RESOURCES.resolve(cssPath).getPath());\n+            Pattern pattern = Pattern.compile(\"DejaVu[-\\\\w]+\\\\.\\\\w+\");\n+\n+            try (InputStream in = cssURL.openStream();\n+                 BufferedReader reader = new BufferedReader(new InputStreamReader(in))) {\n+                String line;\n+                while ((line = reader.readLine()) != null) {\n+                    Matcher m = pattern.matcher(line);\n+                    if (m.find()) {\n+                        DocPath fontPath = DocPaths.FONTS.resolve(m.group());\n+                        copyResource(fontPath, DocPaths.RESOURCE_FILES.resolve(fontPath), false);\n+                    }\n+                }\n+            }\n+        } catch (IOException e) {\n+            throw new ResourceIOException(cssPath, e);\n+        }\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":35,"deletions":1,"binary":false,"changes":36,"status":"modified"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans-Bold.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans-Bold.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans-BoldOblique.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans-BoldOblique.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans-Oblique.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans-Oblique.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSans.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono-Bold.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono-Bold.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono-BoldOblique.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono-BoldOblique.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono-Oblique.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono-Oblique.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSansMono.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif-Bold.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif-Bold.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif-BoldItalic.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif-BoldItalic.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif-Italic.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif-Italic.woff2","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif.woff","binary":true,"status":"added"},{"filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/DejaVuLGCSerif.woff2","binary":true,"status":"added"},{"patch":"@@ -0,0 +1,104 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * Licensed under the Universal Permissive License v 1.0 as shown at https:\/\/oss.oracle.com\/licenses\/upl\/\n+ *\/\n+\n+\/* DejaVu fonts v2.37 *\/\n+\n+@font-face {\n+  font-family: 'DejaVu Sans Mono';\n+  src: url('DejaVuLGCSansMono.woff2') format('woff2'),\n+       url('DejaVuLGCSansMono.woff') format('woff');\n+  font-weight: normal;\n+  font-style: normal;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans Mono';\n+  src: url('DejaVuLGCSansMono-Oblique.woff2') format('woff2'),\n+       url('DejaVuLGCSansMono-Oblique.woff') format('woff');\n+  font-weight: normal;\n+  font-style: italic;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans Mono';\n+  src: url('DejaVuLGCSansMono-Bold.woff2') format('woff2'),\n+       url('DejaVuLGCSansMono-Bold.woff') format('woff');\n+  font-weight: bold;\n+  font-style: normal;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans Mono';\n+  src: url('DejaVuLGCSansMono-BoldOblique.woff2') format('woff2'),\n+       url('DejaVuLGCSansMono-BoldOblique.woff') format('woff');\n+  font-weight: bold;\n+  font-style: italic;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans';\n+  src: url('DejaVuLGCSans.woff2') format('woff2'),\n+       url('DejaVuLGCSans.woff') format('woff');\n+  font-weight: normal;\n+  font-style: normal;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans';\n+  src: url('DejaVuLGCSans-Oblique.woff2') format('woff2'),\n+       url('DejaVuLGCSans-Oblique.woff') format('woff');\n+  font-weight: normal;\n+  font-style: italic;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans';\n+  src: url('DejaVuLGCSans-Bold.woff2') format('woff2'),\n+       url('DejaVuLGCSans-Bold.woff') format('woff');\n+  font-weight: bold;\n+  font-style: normal;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Sans';\n+  src: url('DejaVuLGCSans-BoldOblique.woff2') format('woff2'),\n+       url('DejaVuLGCSans-BoldOblique.woff') format('woff');\n+  font-weight: bold;\n+  font-style: italic;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Serif';\n+  src: url('DejaVuLGCSerif.woff2') format('woff2'),\n+       url('DejaVuLGCSerif.woff') format('woff');\n+  font-weight: normal;\n+  font-style: normal;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Serif';\n+  src: url('DejaVuLGCSerif-Italic.woff2') format('woff2'),\n+       url('DejaVuLGCSerif-Italic.woff') format('woff');\n+  font-weight: normal;\n+  font-style: italic;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Serif';\n+  src: url('DejaVuLGCSerif-Bold.woff2') format('woff2'),\n+       url('DejaVuLGCSerif-Bold.woff') format('woff');\n+  font-weight: bold;\n+  font-style: normal;\n+}\n+\n+@font-face {\n+  font-family: 'DejaVu Serif';\n+  src: url('DejaVuLGCSerif-BoldItalic.woff2') format('woff2'),\n+       url('DejaVuLGCSerif-BoldItalic.woff') format('woff');\n+  font-weight: bold;\n+  font-style: italic;\n+}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/fonts\/dejavu.css","additions":104,"deletions":0,"binary":false,"changes":104,"status":"added"},{"patch":"@@ -568,0 +568,3 @@\n+doclet.usage.no-fonts.description=\\\n+    Do not include standard web fonts in generated documentation\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard.properties","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -211,0 +211,7 @@\n+    \/**\n+     * Argument for command-line option {@code --no-fonts}.\n+     * True if command-line option {@code --no-fonts} is used and font files\n+     * should not be included in generated documentation. Default value is false.\n+     *\/\n+    private boolean noFonts = false;\n+\n@@ -484,0 +491,8 @@\n+                new Option(resources, \"--no-fonts\") {\n+                    @Override\n+                    public boolean process(String opt, List<String> args) {\n+                        noFonts = true;\n+                        return true;\n+                    }\n+                },\n+\n@@ -892,0 +907,9 @@\n+    \/**\n+     * Argument for command-line option {@code --no-fonts}.\n+     * True if command-line option {@code --no-fonts\"} is used.\n+     * Default value is false.\n+     *\/\n+    public boolean noFonts() {\n+        return noFonts;\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/BaseOptions.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -70,0 +70,6 @@\n+    \/** The name of the sub-directory containing font resources. *\/\n+    public static final DocPath FONTS = DocPath.create(\"fonts\");\n+\n+    \/** The name of the DejaVu web fonts CSS file. *\/\n+    public static final DocPath DEJAVU_CSS = DocPath.create(\"dejavu.css\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -0,0 +1,191 @@\n+## DejaVu fonts v2.37\n+\n+### DejaVu License\n+<pre>\n+Fonts are (c) Bitstream (see below). DejaVu changes are in public domain.\n+Glyphs imported from Arev fonts are (c) Tavmjong Bah (see below)\n+\n+\n+Bitstream Vera Fonts Copyright\n+------------------------------\n+\n+Copyright (c) 2003 by Bitstream, Inc. All Rights Reserved. Bitstream Vera is\n+a trademark of Bitstream, Inc.\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of the fonts accompanying this license (\"Fonts\") and associated\n+documentation files (the \"Font Software\"), to reproduce and distribute the\n+Font Software, including without limitation the rights to use, copy, merge,\n+publish, distribute, and\/or sell copies of the Font Software, and to permit\n+persons to whom the Font Software is furnished to do so, subject to the\n+following conditions:\n+\n+The above copyright and trademark notices and this permission notice shall\n+be included in all copies of one or more of the Font Software typefaces.\n+\n+The Font Software may be modified, altered, or added to, and in particular\n+the designs of glyphs or characters in the Fonts may be modified and\n+additional glyphs or characters may be added to the Fonts, only if the fonts\n+are renamed to names not containing either the words \"Bitstream\" or the word\n+\"Vera\".\n+\n+This License becomes null and void to the extent applicable to Fonts or Font\n+Software that has been modified and is distributed under the \"Bitstream\n+Vera\" names.\n+\n+The Font Software may be sold as part of a larger software package but no\n+copy of one or more of the Font Software typefaces may be sold by itself.\n+\n+THE FONT SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n+OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT,\n+TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL BITSTREAM OR THE GNOME\n+FOUNDATION BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING\n+ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES,\n+WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF\n+THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE\n+FONT SOFTWARE.\n+\n+Except as contained in this notice, the names of Gnome, the Gnome\n+Foundation, and Bitstream Inc., shall not be used in advertising or\n+otherwise to promote the sale, use or other dealings in this Font Software\n+without prior written authorization from the Gnome Foundation or Bitstream\n+Inc., respectively. For further information, contact: fonts at gnome dot\n+org.\n+\n+Arev Fonts Copyright\n+------------------------------\n+\n+Copyright (c) 2006 by Tavmjong Bah. All Rights Reserved.\n+\n+Permission is hereby granted, free of charge, to any person obtaining\n+a copy of the fonts accompanying this license (\"Fonts\") and\n+associated documentation files (the \"Font Software\"), to reproduce\n+and distribute the modifications to the Bitstream Vera Font Software,\n+including without limitation the rights to use, copy, merge, publish,\n+distribute, and\/or sell copies of the Font Software, and to permit\n+persons to whom the Font Software is furnished to do so, subject to\n+the following conditions:\n+\n+The above copyright and trademark notices and this permission notice\n+shall be included in all copies of one or more of the Font Software\n+typefaces.\n+\n+The Font Software may be modified, altered, or added to, and in\n+particular the designs of glyphs or characters in the Fonts may be\n+modified and additional glyphs or characters may be added to the\n+Fonts, only if the fonts are renamed to names not containing either\n+the words \"Tavmjong Bah\" or the word \"Arev\".\n+\n+This License becomes null and void to the extent applicable to Fonts\n+or Font Software that has been modified and is distributed under the\n+\"Tavmjong Bah Arev\" names.\n+\n+The Font Software may be sold as part of a larger software package but\n+no copy of one or more of the Font Software typefaces may be sold by\n+itself.\n+\n+THE FONT SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n+EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\n+MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\n+OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL\n+TAVMJONG BAH BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n+INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\n+DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n+FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\n+OTHER DEALINGS IN THE FONT SOFTWARE.\n+\n+Except as contained in this notice, the name of Tavmjong Bah shall not\n+be used in advertising or otherwise to promote the sale, use or other\n+dealings in this Font Software without prior written authorization\n+from Tavmjong Bah. For further information, contact: tavmjong @ free\n+. fr.\n+\n+TeX Gyre DJV Math\n+-----------------\n+Fonts are (c) Bitstream (see below). DejaVu changes are in public domain.\n+\n+Math extensions done by B. Jackowski, P. Strzelczyk and P. Pianowski\n+(on behalf of TeX users groups) are in public domain.\n+\n+Letters imported from Euler Fraktur from AMSfonts are (c) American\n+Mathematical Society (see below).\n+Bitstream Vera Fonts Copyright\n+Copyright (c) 2003 by Bitstream, Inc. All Rights Reserved. Bitstream Vera\n+is a trademark of Bitstream, Inc.\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of the fonts accompanying this license (\"Fonts\") and associated\n+documentation\n+files (the \"Font Software\"), to reproduce and distribute the Font Software,\n+including without limitation the rights to use, copy, merge, publish,\n+distribute,\n+and\/or sell copies of the Font Software, and to permit persons  to whom\n+the Font Software is furnished to do so, subject to the following\n+conditions:\n+\n+The above copyright and trademark notices and this permission notice\n+shall be\n+included in all copies of one or more of the Font Software typefaces.\n+\n+The Font Software may be modified, altered, or added to, and in particular\n+the designs of glyphs or characters in the Fonts may be modified and\n+additional\n+glyphs or characters may be added to the Fonts, only if the fonts are\n+renamed\n+to names not containing either the words \"Bitstream\" or the word \"Vera\".\n+\n+This License becomes null and void to the extent applicable to Fonts or\n+Font Software\n+that has been modified and is distributed under the \"Bitstream Vera\"\n+names.\n+\n+The Font Software may be sold as part of a larger software package but\n+no copy\n+of one or more of the Font Software typefaces may be sold by itself.\n+\n+THE FONT SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n+OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT,\n+TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL BITSTREAM OR THE GNOME\n+FOUNDATION\n+BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL,\n+SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN\n+ACTION\n+OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR\n+INABILITY TO USE\n+THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.\n+Except as contained in this notice, the names of GNOME, the GNOME\n+Foundation,\n+and Bitstream Inc., shall not be used in advertising or otherwise to promote\n+the sale, use or other dealings in this Font Software without prior written\n+authorization from the GNOME Foundation or Bitstream Inc., respectively.\n+For further information, contact: fonts at gnome dot org.\n+\n+AMSFonts (v. 2.2) copyright\n+\n+The PostScript Type 1 implementation of the AMSFonts produced by and\n+previously distributed by Blue Sky Research and Y&Y, Inc. are now freely\n+available for general use. This has been accomplished through the\n+cooperation\n+of a consortium of scientific publishers with Blue Sky Research and Y&Y.\n+Members of this consortium include:\n+\n+Elsevier Science IBM Corporation Society for Industrial and Applied\n+Mathematics (SIAM) Springer-Verlag American Mathematical Society (AMS)\n+\n+In order to assure the authenticity of these fonts, copyright will be\n+held by\n+the American Mathematical Society. This is not meant to restrict in any way\n+the legitimate use of the fonts, such as (but not limited to) electronic\n+distribution of documents containing these fonts, inclusion of these fonts\n+into other public domain or commercial font collections or computer\n+applications, use of the outline data to create derivative fonts and\/or\n+faces, etc. However, the AMS does require that the AMS copyright notice be\n+removed from any derivative versions of the fonts which have been altered in\n+any way. In addition, to ensure the fidelity of TeX documents using Computer\n+Modern fonts, Professor Donald Knuth, creator of the Computer Modern faces,\n+has requested that any alterations which yield different font metrics be\n+given a different name.\n+\n+<\/pre>\n","filename":"src\/jdk.javadoc\/share\/legal\/dejavufonts.md","additions":191,"deletions":0,"binary":false,"changes":191,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8293177\n+ * @bug 8293177 8324774\n@@ -50,1 +50,1 @@\n-    static final Pattern versionPattern = Pattern.compile(\"## ([\\\\w\\\\s]+) v(\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\");\n+    static final Pattern versionPattern = Pattern.compile(\"## ([\\\\w\\\\s]+) v(\\\\d+(\\\\.\\\\d+){1,2})\");\n@@ -57,2 +57,3 @@\n-            \"jquery.md\", List.of(\"jquery-%V%M.js\"),\n-            \"jqueryUI.md\", List.of(\"jquery-ui%M.js\", \"jquery-ui%M.css\")\n+            \"jquery.md\", List.of(\"jquery\/jquery-%V%M.js\"),\n+            \"jqueryUI.md\", List.of(\"jquery\/jquery-ui%M.js\", \"jquery\/jquery-ui%M.css\"),\n+            \"dejavufonts.md\", List.of(\"fonts\/dejavu.css\")\n@@ -76,1 +77,1 @@\n-                                     .resolve(\"resources\/jquery\");\n+                                     .resolve(\"resources\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/checkLibraryVersions\/CheckLibraryVersions.java","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -0,0 +1,120 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8324774 8327385\n+ * @summary Add DejaVu web fonts\n+ * @library \/tools\/lib ..\/..\/lib\n+ * @modules jdk.javadoc\/jdk.javadoc.internal.tool\n+ * @build toolbox.ToolBox javadoc.tester.*\n+ * @run main TestFonts\n+ *\/\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+\n+import javadoc.tester.JavadocTester;\n+import toolbox.ToolBox;\n+\n+public class TestFonts extends JavadocTester {\n+\n+    public static void main(String... args) throws Exception {\n+        var tester = new TestFonts();\n+        tester.setup().runTests();\n+    }\n+\n+    private final ToolBox tb = new ToolBox();\n+    Path src;\n+\n+    TestFonts setup() throws IOException {\n+        src = Path.of(\"src\");\n+        tb.writeJavaFiles(src, \"\"\"\n+                   \/**\n+                    * Simple dummy class.\n+                    *\/\n+                   public class Dummy {}\n+                   \"\"\");\n+        return this;\n+    }\n+\n+    @Test\n+    public void testFonts(Path base) throws Exception {\n+        setUseDefaultOptions(false);\n+        javadoc(\"-d\", base.resolve(\"out\").toString(),\n+                src.resolve(\"Dummy.java\").toString());\n+        checkExit(Exit.OK);\n+        checkOutput(\"resource-files\/fonts\/dejavu.css\", true,\n+                \"\"\"\n+                    \/* DejaVu fonts v2.37 *\/\"\"\",\n+                \"\"\"\n+                    @font-face {\n+                      font-family: 'DejaVu Sans Mono';\n+                      src: url('DejaVuLGCSansMono.woff2') format('woff2'),\n+                           url('DejaVuLGCSansMono.woff') format('woff');\n+                      font-weight: normal;\n+                      font-style: normal;\n+                    }\"\"\");\n+        checkFiles(true,\n+                \"resource-files\/fonts\/DejaVuLGCSans-Bold.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSans-Bold.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSans-BoldOblique.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSans-BoldOblique.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSans-Oblique.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSans-Oblique.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSans.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSans.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono-Bold.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono-Bold.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono-BoldOblique.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono-BoldOblique.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono-Oblique.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono-Oblique.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSansMono.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif-Bold.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif-Bold.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif-BoldItalic.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif-BoldItalic.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif-Italic.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif-Italic.woff2\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif.woff\",\n+                \"resource-files\/fonts\/DejaVuLGCSerif.woff2\");\n+    }\n+\n+    @Test\n+    public void testNoFontsOption(Path base) throws Exception {\n+        setUseDefaultOptions(false);\n+        javadoc(\"-d\", base.resolve(\"out\").toString(),\n+                \"--no-fonts\",\n+                src.resolve(\"Dummy.java\").toString());\n+        checkExit(Exit.OK);\n+        checkFiles(true, \"resource-files\/copy.svg\",\n+                \"resource-files\/glass.png\",\n+                \"resource-files\/jquery-ui.min.css\",\n+                \"resource-files\/link.svg\",\n+                \"resource-files\/stylesheet.css\",\n+                \"resource-files\/x.png\");\n+        checkFiles(false, \"resource-files\/fonts\");\n+    }\n+}\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testFonts\/TestFonts.java","additions":120,"deletions":0,"binary":false,"changes":120,"status":"added"},{"patch":"@@ -171,0 +171,3 @@\n+    \/** Default options used when running javadoc with the standard doclet. *\/\n+    private final String[] defaultOptions = {\"--no-fonts\"};\n+\n@@ -252,0 +255,1 @@\n+    private boolean useDefaultOptions = true;\n@@ -489,0 +493,1 @@\n+        boolean hasDocletOption = false;\n@@ -496,0 +501,1 @@\n+                case \"-doclet\" -> hasDocletOption = true;\n@@ -517,0 +523,7 @@\n+        \/\/ Use default options when running with standard doclet unless explicitly disabled\n+        if (!hasDocletOption && useDefaultOptions) {\n+            var newArgs = Arrays.copyOf(defaultOptions, defaultOptions.length + args.length);\n+            System.arraycopy(args, 0, newArgs, defaultOptions.length, args.length);\n+            args = newArgs;\n+        }\n+\n@@ -622,0 +635,7 @@\n+    \/**\n+     * Sets whether to use the default options when running javadoc with the standard doclet.\n+     *\/\n+    public void setUseDefaultOptions(boolean b) {\n+        useDefaultOptions = b;\n+    }\n+\n","filename":"test\/langtools\/jdk\/javadoc\/lib\/javadoc\/tester\/JavadocTester.java","additions":20,"deletions":0,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n- * @bug 8273154\n+ * @bug 8273154 8327385\n@@ -427,0 +427,5 @@\n+    @Test\n+    public void testDefaultOptions() {\n+        checkFiles(false, \"resource-files\/fonts\");\n+    }\n+\n","filename":"test\/langtools\/jdk\/javadoc\/testJavadocTester\/TestJavadocTester.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-    List<String> MISSING_IN_MAN_PAGE = List.of();\n+    List<String> MISSING_IN_MAN_PAGE = List.of(\"--no-fonts\");\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/CheckManPageOptions.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -218,0 +218,25 @@\n+            \"resource-files\/fonts\/dejavu.css\",\n+            \"resource-files\/fonts\/DejaVuLGCSans-Bold.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSans-Bold.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSans-BoldOblique.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSans-BoldOblique.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSans-Oblique.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSans-Oblique.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSans.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSans.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono-Bold.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono-Bold.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono-BoldOblique.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono-BoldOblique.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono-Oblique.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono-Oblique.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSansMono.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif-Bold.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif-Bold.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif-BoldItalic.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif-BoldItalic.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif-Italic.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif-Italic.woff2\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif.woff\",\n+            \"resource-files\/fonts\/DejaVuLGCSerif.woff2\",\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/api\/basic\/APITest.java","additions":26,"deletions":1,"binary":false,"changes":27,"status":"modified"}]}
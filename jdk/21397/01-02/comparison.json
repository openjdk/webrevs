{"files":[{"patch":"@@ -1357,1 +1357,2 @@\n-  if (jvf->method()->is_native()) {\n+  if (jvf->method()->is_native() ||\n+     (state->is_virtual() && (jvf->is_vthread_entry() || jvf->method()->jvmti_mount_transition()))) {\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -216,0 +216,1 @@\n+                @JvmtiMountTransition\n@@ -217,0 +218,3 @@\n+                    \/\/ notify JVMTI\n+                    vthread.notifyJvmtiStart();\n+\n@@ -218,0 +222,3 @@\n+\n+                    \/\/ notify JVMTI\n+                    vthread.notifyJvmtiEnd();\n@@ -392,3 +399,0 @@\n-        \/\/ notify JVMTI, may post VirtualThreadStart event\n-        notifyJvmtiStart();\n-\n@@ -420,2 +424,0 @@\n-                \/\/ notify JVMTI, may post VirtualThreadEnd event\n-                notifyJvmtiEnd();\n","filename":"src\/java.base\/share\/classes\/java\/lang\/VirtualThread.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}
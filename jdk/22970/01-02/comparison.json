{"files":[{"patch":"@@ -1114,0 +1114,3 @@\n+  if (_worklist.size() == 0) { return; }\n+\n+  ttyLocker ttyl;\n@@ -1119,1 +1122,1 @@\n-  if (_worklist.size() != 0 && node != 0) {\n+  if (_worklist.size() != 0 && node != nullptr) {\n@@ -1176,0 +1179,2 @@\n+\n+  ttyLocker ttyl;\n@@ -1189,1 +1194,2 @@\n-\/\/ Returns true if it found missed optimization opportunities and false otherwise and for exceptions.\n+\/\/ Returns true if it found missed optimization opportunities and\n+\/\/         false otherwise (no missed optimization, or skipped verification).\n@@ -1191,3 +1197,3 @@\n-  \/\/ First, we check a list of exceptions, which are known cases where Ideal\n-  \/\/ can optimize after IGVN. Some may be expected and cannot be fixed, and\n-  \/\/ others should be fixed.\n+  \/\/ First, we check a list of exceptions, where we skip verification,\n+  \/\/ because there are known cases where Ideal can optimize after IGVN.\n+  \/\/ Some may be expected and cannot be fixed, and others should be fixed.\n@@ -1227,0 +1233,9 @@\n+    \/\/ LongCountedLoopEndNode::Ideal\n+    \/\/ Probably same issue as above.\n+    \/\/\n+    \/\/ Found with:\n+    \/\/   compiler\/predicates\/assertion\/TestAssertionPredicates.java#NoLoopPredicationXbatch\n+    \/\/   -XX:StressLongCountedLoop=2000000 -XX:+IgnoreUnrecognizedVMOptions -XX:VerifyIterativeGVN=1110\n+    case Op_LongCountedLoopEnd:\n+      return false;\n+\n@@ -1646,0 +1661,9 @@\n+    \/\/ AryEqNode::Ideal\n+    \/\/ Not investigated. Reshapes itself and adds lots of nodes to the worklist.\n+    \/\/\n+    \/\/ Found with:\n+    \/\/   vmTestbase\/vm\/mlvm\/meth\/stress\/compiler\/i2c_c2i\/Test.java\n+    \/\/   -XX:+UnlockDiagnosticVMOptions -XX:-TieredCompilation -XX:+StressUnstableIfTraps -XX:+IgnoreUnrecognizedVMOptions -XX:VerifyIterativeGVN=1110\n+    case Op_AryEq:\n+      return false;\n+\n@@ -1671,0 +1695,7 @@\n+\n+    \/\/ MinINode::Ideal\n+    \/\/ Did not investigate, but there are some patterns that might\n+    \/\/ need more notification.\n+    case Op_MinI:\n+    case Op_MaxI: \/\/ preemptively removed it as well.\n+      return false;\n@@ -1780,0 +1811,1 @@\n+      ttyLocker ttyl;\n@@ -1794,0 +1826,1 @@\n+  ttyLocker ttyl;\n@@ -1809,1 +1842,2 @@\n-\/\/ Returns true if it found missed optimization opportunities and false otherwise and for exceptions.\n+\/\/ Returns true if it found missed optimization opportunities and\n+\/\/         false otherwise (no missed optimization, or skipped verification).\n@@ -1811,3 +1845,3 @@\n-  \/\/ First, we check a list of exceptions, which are known cases where Ideal\n-  \/\/ can optimize after IGVN. Some may be expected and cannot be fixed, and\n-  \/\/ others should be fixed.\n+  \/\/ First, we check a list of exceptions, where we skip verification,\n+  \/\/ because there are known cases where Ideal can optimize after IGVN.\n+  \/\/ Some may be expected and cannot be fixed, and others should be fixed.\n@@ -1987,1 +2021,2 @@\n-  \/\/ The verificatin just found a new Identity that was not found during IGVN.\n+  \/\/ The verification just found a new Identity that was not found during IGVN.\n+  ttyLocker ttyl;\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":45,"deletions":10,"binary":false,"changes":55,"status":"modified"}]}
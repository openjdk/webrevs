{"files":[{"patch":"@@ -199,1 +199,1 @@\n-static void verify_frame_kind(const frame& top, Continuation::preempt_kind preempt_kind, Method** m_ptr = nullptr, const char** code_name_ptr = nullptr, int* bci_ptr = nullptr);\n+static void verify_frame_kind(frame& top, Continuation::preempt_kind preempt_kind, Method** m_ptr = nullptr, const char** code_name_ptr = nullptr, int* bci_ptr = nullptr, stackChunkOop chunk = nullptr);\n@@ -1726,1 +1726,1 @@\n-static void verify_frame_kind(const frame& top, Continuation::preempt_kind preempt_kind, Method** m_ptr, const char** code_name_ptr, int* bci_ptr) {\n+static void verify_frame_kind(frame& top, Continuation::preempt_kind preempt_kind, Method** m_ptr, const char** code_name_ptr, int* bci_ptr, stackChunkOop chunk) {\n@@ -1750,1 +1750,7 @@\n-                  RegisterMap::WalkContinuation::skip);\n+                  RegisterMap::WalkContinuation::include);\n+      if (top.is_heap_frame()) {\n+        assert(chunk != nullptr, \"\");\n+        reg_map.set_stack_chunk(chunk);\n+        top = chunk->relativize(top);\n+        top.set_frame_index(0);\n+      }\n@@ -1806,1 +1812,1 @@\n-  verify_frame_kind(top_frame, pk, &m, &code_name, &bci);\n+  verify_frame_kind(top_frame, pk, &m, &code_name, &bci, cont.tail());\n","filename":"src\/hotspot\/share\/runtime\/continuationFreezeThaw.cpp","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"}]}
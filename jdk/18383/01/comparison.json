{"files":[{"patch":"@@ -4634,1 +4634,5 @@\n-                return types.createErrorType(site);\n+                Type errorType = types.createErrorType(site);\n+                if (resultInfo.checkMode.updateTreeType()) {\n+                    tree.type = errorType;\n+                }\n+                return errorType;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- *      8239536 8247456 8246774 8238173 8292625 8306560\n+ *      8239536 8247456 8246774 8238173 8292625 8306560 8328536\n@@ -967,0 +967,7 @@\n+    @Test\n+    public void testSwitchExpressionYieldUnknownType() {\n+        test(a -> assertCommandOutputContains(a,\n+                \"I m(I i, int x) { return switch (x) { default -> i; }; } \",\n+                \"created method m(I,int), however, it cannot be referenced until class I is declared\"));\n+    }\n+\n","filename":"test\/langtools\/jdk\/jshell\/ToolSimpleTest.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}
{"files":[{"patch":"@@ -1984,6 +1984,6 @@\n-JNIEXPORT uint64_t gHotSpotVMStructEntryTypeNameOffset = offset_of(VMStructEntry, typeName);\n-JNIEXPORT uint64_t gHotSpotVMStructEntryFieldNameOffset = offset_of(VMStructEntry, fieldName);\n-JNIEXPORT uint64_t gHotSpotVMStructEntryTypeStringOffset = offset_of(VMStructEntry, typeString);\n-JNIEXPORT uint64_t gHotSpotVMStructEntryIsStaticOffset = offset_of(VMStructEntry, isStatic);\n-JNIEXPORT uint64_t gHotSpotVMStructEntryOffsetOffset = offset_of(VMStructEntry, offset);\n-JNIEXPORT uint64_t gHotSpotVMStructEntryAddressOffset = offset_of(VMStructEntry, address);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMStructEntryTypeNameOffset = offsetof(VMStructEntry, typeName);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMStructEntryFieldNameOffset = offsetof(VMStructEntry, fieldName);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMStructEntryTypeStringOffset = offsetof(VMStructEntry, typeString);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMStructEntryIsStaticOffset = offsetof(VMStructEntry, isStatic);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMStructEntryOffsetOffset = offsetof(VMStructEntry, offset);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMStructEntryAddressOffset = offsetof(VMStructEntry, address);\n@@ -1993,6 +1993,6 @@\n-JNIEXPORT uint64_t gHotSpotVMTypeEntryTypeNameOffset = offset_of(VMTypeEntry, typeName);\n-JNIEXPORT uint64_t gHotSpotVMTypeEntrySuperclassNameOffset = offset_of(VMTypeEntry, superclassName);\n-JNIEXPORT uint64_t gHotSpotVMTypeEntryIsOopTypeOffset = offset_of(VMTypeEntry, isOopType);\n-JNIEXPORT uint64_t gHotSpotVMTypeEntryIsIntegerTypeOffset = offset_of(VMTypeEntry, isIntegerType);\n-JNIEXPORT uint64_t gHotSpotVMTypeEntryIsUnsignedOffset = offset_of(VMTypeEntry, isUnsigned);\n-JNIEXPORT uint64_t gHotSpotVMTypeEntrySizeOffset = offset_of(VMTypeEntry, size);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMTypeEntryTypeNameOffset = offsetof(VMTypeEntry, typeName);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMTypeEntrySuperclassNameOffset = offsetof(VMTypeEntry, superclassName);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMTypeEntryIsOopTypeOffset = offsetof(VMTypeEntry, isOopType);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMTypeEntryIsIntegerTypeOffset = offsetof(VMTypeEntry, isIntegerType);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMTypeEntryIsUnsignedOffset = offsetof(VMTypeEntry, isUnsigned);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMTypeEntrySizeOffset = offsetof(VMTypeEntry, size);\n@@ -2002,2 +2002,2 @@\n-JNIEXPORT uint64_t gHotSpotVMIntConstantEntryNameOffset = offset_of(VMIntConstantEntry, name);\n-JNIEXPORT uint64_t gHotSpotVMIntConstantEntryValueOffset = offset_of(VMIntConstantEntry, value);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMIntConstantEntryNameOffset = offsetof(VMIntConstantEntry, name);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMIntConstantEntryValueOffset = offsetof(VMIntConstantEntry, value);\n@@ -2007,2 +2007,2 @@\n-JNIEXPORT uint64_t gHotSpotVMLongConstantEntryNameOffset = offset_of(VMLongConstantEntry, name);\n-JNIEXPORT uint64_t gHotSpotVMLongConstantEntryValueOffset = offset_of(VMLongConstantEntry, value);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMLongConstantEntryNameOffset = offsetof(VMLongConstantEntry, name);\n+extern JNIEXPORT constexpr uint64_t gHotSpotVMLongConstantEntryValueOffset = offsetof(VMLongConstantEntry, value);\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -30,0 +30,2 @@\n+\n+#include <cstddef>\n@@ -160,1 +162,1 @@\n- { QUOTE(typeName), QUOTE(fieldName), QUOTE(type), 0, offset_of(typeName, fieldName), nullptr },\n+ { QUOTE(typeName), QUOTE(fieldName), QUOTE(type), 0, offsetof(typeName, fieldName), nullptr },\n@@ -175,1 +177,1 @@\n-  { QUOTE(typeName), QUOTE(fieldName), nullptr, 0, offset_of(typeName, fieldName), nullptr },\n+  { QUOTE(typeName), QUOTE(fieldName), nullptr, 0, offsetof(typeName, fieldName), nullptr },\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.hpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}
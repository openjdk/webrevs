{"files":[{"patch":"@@ -70,6 +70,5 @@\n-  oop obj;\n-  { \/\/ Call CDS$UnregisteredClassLoader::load(String name, String source)\n-    Symbol* methodName = SymbolTable::new_symbol(\"load\");\n-    Symbol* methodSignature = SymbolTable::new_symbol(\"(Ljava\/lang\/String;Ljava\/lang\/String;)Ljava\/lang\/Class;\");\n-    Handle ext_class_name = java_lang_String::externalize_classname(name, CHECK_NULL);\n-    Handle path_string = java_lang_String::create_from_str(path, CHECK_NULL);\n+  \/\/ Call CDS$UnregisteredClassLoader::load(String name, String source)\n+  Symbol* methodName = SymbolTable::new_symbol(\"load\");\n+  Symbol* methodSignature = SymbolTable::new_symbol(\"(Ljava\/lang\/String;Ljava\/lang\/String;)Ljava\/lang\/Class;\");\n+  Handle ext_class_name = java_lang_String::externalize_classname(name, CHECK_NULL);\n+  Handle path_string = java_lang_String::create_from_str(path, CHECK_NULL);\n@@ -77,12 +76,10 @@\n-    JavaValue result(T_OBJECT);\n-    JavaCalls::call_virtual(&result,\n-                            classloader,\n-                            UnregisteredClassLoader_klass(),\n-                            methodName,\n-                            methodSignature,\n-                            ext_class_name,\n-                            path_string,\n-                            CHECK_NULL);\n-    assert(result.get_type() == T_OBJECT, \"just checking\");\n-    obj = result.get_oop();\n-  }\n+  JavaValue result(T_OBJECT);\n+  JavaCalls::call_virtual(&result,\n+                          classloader,\n+                          UnregisteredClassLoader_klass(),\n+                          methodName,\n+                          methodSignature,\n+                          ext_class_name,\n+                          path_string,\n+                          CHECK_NULL);\n+  assert(result.get_type() == T_OBJECT, \"just checking\");\n@@ -90,1 +87,1 @@\n-  return InstanceKlass::cast(java_lang_Class::as_Klass(obj));\n+  return InstanceKlass::cast(java_lang_Class::as_Klass(result.get_oop()));\n","filename":"src\/hotspot\/share\/cds\/unregisteredClasses.cpp","additions":16,"deletions":19,"binary":false,"changes":35,"status":"modified"}]}
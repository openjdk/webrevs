{"files":[{"patch":"@@ -30,0 +30,1 @@\n+import java.io.OutputStream;\n@@ -114,1 +115,1 @@\n-      private StreamTask(InputStream stream, Charset cs) {\n+      private StreamTask(InputStream stream, Charset cs, OutputStream additionalStream) {\n@@ -117,1 +118,3 @@\n-        this.future = new StreamPumper(stream, buffer).process();\n+        StreamPumper pumper = new StreamPumper(stream, buffer);\n+        if (additionalStream != null) pumper.addOutputStream(additionalStream);\n+        this.future = pumper.process();\n@@ -147,2 +150,3 @@\n-      outTask = new StreamTask(p.getInputStream(), cs);\n-      errTask = new StreamTask(p.getErrorStream(), cs);\n+      boolean verbose = Boolean.getBoolean(\"outputanalyzer.verbose\");\n+      outTask = new StreamTask(p.getInputStream(), cs, verbose ? System.out : null);\n+      errTask = new StreamTask(p.getErrorStream(), cs, verbose ? System.err : null);\n","filename":"test\/lib\/jdk\/test\/lib\/process\/OutputBuffer.java","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"}]}
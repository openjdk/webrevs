{"files":[{"patch":"@@ -160,2 +160,2 @@\n-### 2.5 IR Tests with `@Stable` annotation\n-To run tests with `@Stable` annotations, one need to add the test classes to the boot classpath. This can easily be achieved by calling `TestFramework.addTestClassesToBootClassPath()` on the test framework object:\n+### 2.5 IR Tests with Privileged Classes\n+To run tests in a privileged mode (e.g. when using `@Stable`, `@Contended`, `@ReservedStackAccess` etc.), one need to add the test classes to the boot classpath. This can easily be achieved by calling `TestFramework.addTestClassesToBootClassPath()` on the test framework object:\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/README.md","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -329,1 +329,1 @@\n-     * to the boot classpath with \"-Xbootclasspath\/a\". This is useful when trying to run tests with @Stable annotations.\n+     * to the boot classpath with \"-Xbootclasspath\/a\". This is useful when trying to run tests in a privileged mode.\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/TestFramework.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+import java.util.stream.Collectors;\n@@ -100,1 +101,1 @@\n-            \/\/ Add test classes themselves to boot classpath. This is required, for example, for IR tests with @Stable.\n+            \/\/ Add test classes themselves to boot classpath to make them privileged.\n@@ -106,2 +107,2 @@\n-        \/\/ Ignore CompileThreshold and CompileCommand flags which have an impact on the profiling information.\n-        List<String> jtregVMFlags = Arrays.stream(Utils.getTestJavaOpts()).filter(s -> !s.contains(\"CompileThreshold\")).toList();\n+        \/\/ Ignore CompileCommand flags which have an impact on the profiling information.\n+        List<String> jtregVMFlags = Arrays.stream(Utils.getTestJavaOpts()).filter(s -> !s.contains(\"CompileThreshold\")).collect(Collectors.toList());\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/driver\/TestVMProcess.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}
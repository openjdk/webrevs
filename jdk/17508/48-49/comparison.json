{"files":[{"patch":"@@ -366,4 +366,28 @@\n-  \/\/ that ~ is a strictly decreasing function, if new_hi is the largest value\n-  \/\/ not larger than hi that satisfies {bits._zeros, bits._ones}, then ~new_hi\n-  \/\/ is the smallest value not smaller than ~hi that satisfies\n-  \/\/ {bits._ones, bits._zeros}\n+  \/\/ that bitwise-not is a strictly decreasing function, if new_hi is the\n+  \/\/ largest value not larger than hi that satisfies {bits._zeros, bits._ones},\n+  \/\/ then ~new_hi is the smallest value not smaller than ~hi that satisfies\n+  \/\/ {bits._ones, bits._zeros}.\n+  \/\/\n+  \/\/ Proof:\n+  \/\/ Calling h the smallest value not smaller than ~hi that satisfies\n+  \/\/ {bits._ones, bits._zeros}.\n+  \/\/\n+  \/\/ 1. Since h satisfies {bits._ones, bits._zeros}, ~h satisfies\n+  \/\/   {bits._zeros, bits._ones}. Assume the contradiction ~h does not satisfy\n+  \/\/   {bits._zeros, bits._ones}, There can be 2 cases:\n+  \/\/   1.1. There is a bit in ~h that is 0 where the corresponding bit in ones\n+  \/\/     is 1. This implies the corresponding bit in h is 1. But this is\n+  \/\/     contradictory since h satisfies {bits._ones, bits._zeros}.\n+  \/\/   1.2. There is a bit in ~h that is 1 where the corresponding bit in zeros\n+  \/\/     is 1. Similarly, this leads to contradiction because h needs to\n+  \/\/     satisfy {bits._ones, bits._zeros}.\n+  \/\/\n+  \/\/ 2. Assume there is a value k that is larger than ~h such that k is not\n+  \/\/ larger than hi and k satisfies {bits._zeros, bits._ones}. As a result, ~k\n+  \/\/ would satisfy {bits._ones, bits._zeros}. And since bitwise-not is a\n+  \/\/ strictly decreasing function, given ~h < k <= hi, we have h > ~k >= ~hi.\n+  \/\/ This contradicts the assumption that h is the smallest value not smaller\n+  \/\/ than ~hi and satisfies {bits._ones, bits._zeros}.\n+  \/\/\n+  \/\/ As a result, ~h is the largest value not larger than hi that satisfies\n+  \/\/ bits (QED).\n","filename":"src\/hotspot\/share\/opto\/rangeinference.cpp","additions":28,"deletions":4,"binary":false,"changes":32,"status":"modified"}]}
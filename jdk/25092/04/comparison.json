{"files":[{"patch":"@@ -71,1 +71,0 @@\n-  \/\/ Note: Only two flags exists at the moment but more could be added\n@@ -73,1 +72,2 @@\n-      has_appendix_shift        = 1,\n+    resolution_failed_shift = 0,\n+    has_appendix_shift      = 1,\n@@ -110,1 +110,1 @@\n-    set_flags(has_appendix);\n+    set_has_appendix(has_appendix);\n@@ -116,6 +116,5 @@\n-  \/\/ has_appendix is currently the only other flag besides resolution_failed\n-  void set_flags(bool has_appendix) {\n-    u1 new_flags = (has_appendix << has_appendix_shift);\n-    assert((new_flags & 1) == 0, \"New flags should not change resolution flag\");\n-    \/\/ Preserve the resolution_failed bit\n-    _flags = (_flags & 1) | new_flags;\n+  void set_has_appendix(bool has_appendix) {\n+    u1 new_flags = (has_appendix ? 1 : 0) << has_appendix_shift;\n+    u1 old_flags = _flags & ~(1 << has_appendix_shift);\n+    \/\/ Preserve the unaffected bits\n+    _flags = old_flags | new_flags;\n@@ -124,0 +123,1 @@\n+\n@@ -125,1 +125,1 @@\n-    _flags = _flags | 1;\n+    _flags = _flags | (1 << resolution_failed_shift);\n","filename":"src\/hotspot\/share\/oops\/resolvedIndyEntry.hpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"}]}
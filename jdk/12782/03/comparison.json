{"files":[{"patch":"@@ -1390,0 +1390,12 @@\n+instanceOop InstanceKlass::allocate_instance(oop java_class, TRAPS) {\n+  Klass* k = java_lang_Class::as_Klass(java_class);\n+  if (k == nullptr) {\n+    ResourceMark rm(THREAD);\n+    THROW_(vmSymbols::java_lang_InstantiationException(), nullptr);\n+  }\n+  InstanceKlass* ik = cast(k);\n+  ik->check_valid_for_instantiation(false, CHECK_NULL);\n+  ik->initialize(CHECK_NULL);\n+  return ik->allocate_instance(THREAD);\n+}\n+\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -846,1 +846,1 @@\n-  virtual void check_valid_for_instantiation(bool throwError, TRAPS);\n+  void check_valid_for_instantiation(bool throwError, TRAPS);\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,3 +28,0 @@\n-#include \"oops\/instanceKlass.hpp\"\n-\n-#include \"classfile\/javaClasses.hpp\"\n@@ -32,5 +29,0 @@\n-#include \"memory\/resourceArea.hpp\"\n-#include \"oops\/klass.inline.hpp\"\n-#include \"oops\/oop.inline.hpp\"\n-#include \"runtime\/atomic.hpp\"\n-#include \"utilities\/debug.hpp\"\n@@ -38,2 +30,0 @@\n-#include \"utilities\/globalDefinitions.hpp\"\n-#include \"utilities\/macros.hpp\"\n@@ -188,12 +178,0 @@\n-inline instanceOop InstanceKlass::allocate_instance(oop java_class, TRAPS) {\n-  Klass* k = java_lang_Class::as_Klass(java_class);\n-  if (k == nullptr) {\n-    ResourceMark rm(THREAD);\n-    THROW_(vmSymbols::java_lang_InstantiationException(), nullptr);\n-  }\n-  InstanceKlass* ik = cast(k);\n-  ik->check_valid_for_instantiation(false, CHECK_NULL);\n-  ik->initialize(CHECK_NULL);\n-  return ik->allocate_instance(THREAD);\n-}\n-\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.inline.hpp","additions":0,"deletions":22,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+#include \"oops\/klass.inline.hpp\"\n","filename":"src\/hotspot\/share\/oops\/oop.inline.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1017,1 +1017,1 @@\n-  obj = JNIHandles::make_local(THREAD, i);\n+    obj = JNIHandles::make_local(THREAD, i);\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -838,0 +838,5 @@\n+  product(intx, WaitUserThreadAtExitTimeout, 300,                           \\\n+          \"Maximum delay in milliseconds at exit waiting for user threads \" \\\n+          \"in native\")                                                      \\\n+          range(0, max_intx)                                                \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -394,4 +394,4 @@\n-  int max_wait_user_thread = 30;                  \/\/ at least 300 milliseconds\n-  int max_wait_compiler_thread = 1000;            \/\/ at least 10 seconds\n-\n-  int max_wait = max_wait_compiler_thread;\n+  int wait_time_per_attempt = 10;                 \/\/ in milliseconds\n+  int max_wait_attempts_user_thread =\n+                  WaitUserThreadAtExitTimeout \/ wait_time_per_attempt;\n+  int max_wait_attempts_compiler_thread = 1000; \/\/ at least 10 seconds\n@@ -430,1 +430,1 @@\n-    } else if (attempts > max_wait) {\n+    } else if (attempts >= max_wait_attempts_compiler_thread) {\n@@ -432,1 +432,2 @@\n-    } else if (num_active_compiler_thread == 0 && attempts > max_wait_user_thread) {\n+    } else if (num_active_compiler_thread == 0 &&\n+               attempts >= max_wait_attempts_user_thread) {\n@@ -439,1 +440,1 @@\n-    ml.wait(10);\n+    ml.wait(wait_time_per_attempt);\n","filename":"src\/hotspot\/share\/runtime\/vmOperations.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"}]}
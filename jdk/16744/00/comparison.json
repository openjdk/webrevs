{"files":[{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8311546\n+ * @bug 8311546 8230372\n@@ -41,2 +41,2 @@\n-    private static CertPath makeCertPath(String caStr, String targetCertStr)\n-        throws CertificateException {\n+    private static CertPath makeCertPath(String targetCertStr,\n+        PKIXParameters params) throws CertificateException {\n@@ -50,3 +50,2 @@\n-\n-        is = new ByteArrayInputStream(caStr.getBytes());\n-        Certificate ca = cf.generateCertificate(is);\n+        \/\/ set validity date so that validation won't fail when cert expires\n+        params.setDate(((X509Certificate)targetCert).getNotBefore());\n@@ -55,1 +54,1 @@\n-        List<Certificate> list = List.of(targetCert, ca);\n+        List<Certificate> list = List.of(targetCert);\n@@ -94,2 +93,2 @@\n-        CertPath pathWithoutLeadingPeriod = makeCertPath(caWithoutLeadingPeriod,\n-            targetFromCAWithoutPeriod);\n+        CertPath pathWithoutLeadingPeriod = makeCertPath(\n+            targetFromCAWithoutPeriod, paramsForCAWithoutLeadingPeriod);\n@@ -109,1 +108,1 @@\n-        CertPath pathWithLeadingPeriod = makeCertPath(caWithLeadingPeriod, targetFromCAWithPeriod);\n+        CertPath pathWithLeadingPeriod = makeCertPath(targetFromCAWithPeriod, paramsForCAWithLeadingPeriod);\n@@ -113,1 +112,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"test\/jdk\/sun\/security\/x509\/DNSName\/LeadingPeriod.java","additions":10,"deletions":11,"binary":false,"changes":21,"status":"modified"}]}
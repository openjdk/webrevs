{"files":[{"patch":"@@ -89,0 +89,12 @@\n+    public long getThpPageSizeFallback() {\n+        long pageSize = getThpPageSize();\n+        if (pageSize != 0) {\n+            return pageSize;\n+        }\n+        pageSize = getStaticDefaultHugePageSize();\n+        if (pageSize != 0) {\n+            return Math.min(pageSize, 16 * 1024 * 1024);\n+        }\n+        return 2 * 1024 * 1024;\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/HugePageConfiguration.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -128,9 +128,1 @@\n-            long thpPageSize = configuration.getThpPageSize();\n-            if (thpPageSize == 0) {\n-                thpPageSize = configuration.getStaticDefaultHugePageSize();\n-                if (thpPageSize != 0) {\n-                    thpPageSize = Math.min(thpPageSize, 16 * 1024 * 1024);\n-                } else {\n-                    thpPageSize = 2 * 1024 * 1024;\n-                }\n-            }\n+            long thpPageSize = configuration.getThpPageSizeFallback();\n","filename":"test\/hotspot\/jtreg\/runtime\/os\/TestHugePageDecisionsAtVMStartup.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"}]}
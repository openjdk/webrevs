{"files":[{"patch":"@@ -87,1 +87,2 @@\n-      log_error(attach)(\"could not open (%d) pipe %s\", GetLastError(), pipe);\n+      log_error(attach)(\"could not open %s (%d) pipe %s\",\n+                        (write_only ? \"write-only\" : \"read-write\"), GetLastError(), pipe);\n@@ -141,2 +142,2 @@\n-  void open_pipe(const char* pipe_name, bool write_only) {\n-    _pipe.open(pipe_name, write_only);\n+  bool open_pipe(const char* pipe_name, bool write_only) {\n+    return _pipe.open(pipe_name, write_only);\n@@ -146,1 +147,1 @@\n-      return AttachOperation::read_request(&_pipe);\n+    return AttachOperation::read_request(&_pipe);\n@@ -393,1 +394,5 @@\n-        op->open_pipe(request->pipe(), true\/*write-only*\/);\n+        if (!op->open_pipe(request->pipe(), true\/*write-only*\/)) {\n+          log_error(attach)(\"AttachListener::dequeue(v1), open pipe error\");\n+          delete op;\n+          op = nullptr;\n+        }\n@@ -397,3 +402,3 @@\n-        op->open_pipe(request->pipe(), false\/*write-only*\/);\n-        if (!op->read_request()) {\n-          log_error(attach)(\"AttachListener::dequeue, reading request ERROR\");\n+        if (!op->open_pipe(request->pipe(), false\/*write-only*\/)\n+            || !op->read_request()) {\n+          log_error(attach)(\"AttachListener::dequeue(v2), reading request ERROR\");\n","filename":"src\/hotspot\/os\/windows\/attachListener_windows.cpp","additions":13,"deletions":8,"binary":false,"changes":21,"status":"modified"}]}
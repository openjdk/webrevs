{"files":[{"patch":"@@ -64,0 +64,4 @@\n+GrowableArrayNestingCheck::GrowableArrayNestingCheck(Arena* arena) :\n+    _nesting((arena->get_tag() == Arena::Tag::tag_ra) ? static_cast<ResourceArea*>(arena)->nesting() : 0) {\n+}\n+\n@@ -73,0 +77,5 @@\n+void GrowableArrayNestingCheck::on_arena_alloc(Arena* arena) const {\n+  if ((arena->get_tag() == Arena::Tag::tag_ra) && _nesting != static_cast<ResourceArea*>(arena)->nesting()) {\n+    fatal(\"allocation bug: GrowableArray is growing within nested ResourceMark\");\n+  }\n+}\n@@ -92,0 +101,4 @@\n+void GrowableArrayMetadata::on_arena_alloc_check() const {\n+  _nesting_check.on_arena_alloc(arena());\n+}\n+\n","filename":"src\/hotspot\/share\/utilities\/growableArray.cpp","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -611,0 +611,1 @@\n+  GrowableArrayNestingCheck(Arena* arena);\n@@ -613,0 +614,1 @@\n+  void on_arena_alloc(Arena* arena) const;\n@@ -652,1 +654,1 @@\n-      debug_only(COMMA _nesting_check(false)) {\n+      debug_only(COMMA _nesting_check(arena)) {\n@@ -679,0 +681,1 @@\n+  void on_arena_alloc_check() const;\n@@ -743,0 +746,1 @@\n+    debug_only(_metadata.on_arena_alloc_check());\n","filename":"src\/hotspot\/share\/utilities\/growableArray.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
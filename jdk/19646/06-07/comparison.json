{"files":[{"patch":"@@ -73,2 +73,3 @@\n-  develop(uint, StressBailoutProbability, 100000,                           \\\n-          \"Stress bailout every n:th time on average\")                      \\\n+  develop(uint, StressBailoutMean, 100000,                                  \\\n+          \"The expected number of failing() checks made until \"             \\\n+          \"a random bailout.\")                                              \\\n","filename":"src\/hotspot\/share\/opto\/c2_globals.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -5126,0 +5126,1 @@\n+\/\/ Failures are geometrically distributed with probability 1\/StressBailoutMean.\n@@ -5127,1 +5128,1 @@\n-  if (!_stress_seed_is_initialized || ((random() % StressBailoutProbability) != 0)) {\n+  if (!_stress_seed_is_initialized || ((random() % StressBailoutMean) != 0)) {\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -841,1 +841,1 @@\n-  bool failing(DEBUG_ONLY(bool no_stress_bailout=false)) {\n+  bool failing(DEBUG_ONLY(bool no_stress_bailout = false)) {\n@@ -869,2 +869,2 @@\n-  void record_failure(const char* reason DEBUG_ONLY(COMMA bool allow_multiple_failures=false));\n-  void record_method_not_compilable(const char* reason DEBUG_ONLY(COMMA bool allow_multiple_failures=false)) {\n+  void record_failure(const char* reason DEBUG_ONLY(COMMA bool allow_multiple_failures = false));\n+  void record_method_not_compilable(const char* reason DEBUG_ONLY(COMMA bool allow_multiple_failures = false)) {\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -184,1 +184,1 @@\n-  bool failing(DEBUG_ONLY(bool no_stress_bailout=false)) const { return C->failing(DEBUG_ONLY(no_stress_bailout)); }\n+  bool failing(DEBUG_ONLY(bool no_stress_bailout = false)) const { return C->failing(DEBUG_ONLY(no_stress_bailout)); }\n","filename":"src\/hotspot\/share\/opto\/graphKit.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * @requires vm.debug == true & vm.compiler2.enabled\n+ * @requires vm.debug == true & vm.compiler2.enabled & (vm.opt.AbortVMOnCompilationFailure == \"null\" | !vm.opt.AbortVMOnCompilationFailure)\n@@ -46,2 +46,2 @@\n-                             \"-XX:StressBailoutProbability=\" + invprob, \"-version\"};\n-        ProcessBuilder pb  = ProcessTools.createLimitedTestJavaProcessBuilder(procArgs);\n+                             \"-XX:StressBailoutMean=\" + invprob, \"-version\"};\n+        ProcessBuilder pb  = ProcessTools.createTestJavaProcessBuilder(procArgs);\n","filename":"test\/hotspot\/jtreg\/compiler\/debug\/TestStressBailout.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -307,1 +307,1 @@\n-                \"-XX:StressBailoutProbability=100_000_000\",\n+                \"-XX:StressBailoutMean=100_000_000\",\n","filename":"test\/hotspot\/jtreg\/testlibrary\/ctw\/src\/sun\/hotspot\/tools\/ctw\/CtwRunner.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
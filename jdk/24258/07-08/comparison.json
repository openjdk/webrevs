{"files":[{"patch":"@@ -482,1 +482,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n","filename":"src\/hotspot\/share\/gc\/g1\/c2\/g1BarrierSetC2.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    if (is_mixed || !is_unordered || (mismatched && !_addr.type()->isa_aryptr())) {\n+    if (is_mixed || !is_unordered || (mismatched && !gvn().type(_addr)->isa_aryptr())) {\n@@ -147,1 +147,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -185,1 +185,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -414,2 +414,1 @@\n-    const TypePtr* adr_type = _addr.type();\n-    Node* adr = _addr.node();\n+    const TypePtr* adr_type = gvn().type(_addr)->isa_ptr();\n@@ -419,1 +418,1 @@\n-      AddPNode::Ideal_base_and_offset(adr, &gvn(), offset);\n+      AddPNode::Ideal_base_and_offset(_addr, &gvn(), offset);\n@@ -458,1 +457,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -518,1 +517,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -590,1 +589,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -640,1 +639,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/barrierSetC2.cpp","additions":9,"deletions":10,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -90,10 +90,0 @@\n-\/\/ This class wraps a node and a pointer type.\n-class C2AccessValuePtr: public C2AccessValue {\n-\n-public:\n-  C2AccessValuePtr(Node* node, const TypePtr* type) :\n-    C2AccessValue(node, type) {}\n-\n-  const TypePtr* type() const { return _type->is_ptr(); }\n-};\n-\n@@ -106,1 +96,1 @@\n-  C2AccessValuePtr& _addr;\n+  Node*             _addr;\n@@ -115,1 +105,1 @@\n-           BasicType type, Node* base, C2AccessValuePtr& addr) :\n+           BasicType type, Node* base, Node* addr) :\n@@ -126,1 +116,1 @@\n-  C2AccessValuePtr& addr() const  { return _addr; }\n+  Node* addr() const              { return _addr; }\n@@ -155,1 +145,1 @@\n-                BasicType type, Node* base, C2AccessValuePtr& addr) :\n+                BasicType type, Node* base, Node* addr) :\n@@ -175,1 +165,1 @@\n-                 Node* base, C2AccessValuePtr& addr, uint alias_idx) :\n+                 Node* base, Node* addr, uint alias_idx) :\n@@ -195,1 +185,1 @@\n-              BasicType type, Node* base, C2AccessValuePtr& addr) :\n+              BasicType type, Node* base, Node* addr) :\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/barrierSetC2.hpp","additions":6,"deletions":16,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -62,1 +62,1 @@\n-  post_barrier(access.kit(), access.base(), access.addr().node(), new_val, true);\n+  post_barrier(access.kit(), access.base(), access.addr(), new_val, true);\n@@ -90,1 +90,1 @@\n-    post_barrier(kit, access.base(), access.addr().node(), new_val, true);\n+    post_barrier(kit, access.base(), access.addr(), new_val, true);\n@@ -104,1 +104,1 @@\n-  post_barrier(access.kit(), access.base(), access.addr().node(), new_val, true);\n+  post_barrier(access.kit(), access.base(), access.addr(), new_val, true);\n","filename":"src\/hotspot\/share\/gc\/shared\/c2\/modRefBarrierSetC2.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -571,1 +571,1 @@\n-  Node* adr = access.addr().node();\n+  Node* adr = access.addr();\n@@ -633,1 +633,1 @@\n-    Node* adr = access.addr().node();\n+    Node* adr = access.addr();\n@@ -687,1 +687,1 @@\n-    Node* adr = access.addr().node();\n+    Node* adr = access.addr();\n@@ -720,1 +720,1 @@\n-                   access.addr().node(), access.alias_idx(), new_val, T_OBJECT, true);\n+                   access.addr(), access.alias_idx(), new_val, T_OBJECT, true);\n@@ -739,1 +739,1 @@\n-    Node* adr = access.addr().node();\n+    Node* adr = access.addr();\n@@ -778,1 +778,1 @@\n-                   access.addr().node(), access.alias_idx(), new_val, T_OBJECT, true);\n+                   access.addr(), access.alias_idx(), new_val, T_OBJECT, true);\n@@ -795,1 +795,1 @@\n-                   access.addr().node(), access.alias_idx(), val, T_OBJECT, true);\n+                   access.addr(), access.alias_idx(), val, T_OBJECT, true);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahBarrierSetC2.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -160,2 +160,1 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n-  C2OptAccess access(*phase, ctl, mem, decorators, bt, adr->in(AddPNode::Base), addr);\n+  C2OptAccess access(*phase, ctl, mem, decorators, bt, adr->in(AddPNode::Base), adr);\n@@ -172,1 +171,0 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n@@ -174,1 +172,1 @@\n-  C2OptAccess access(*phase, ctl, mem, decorators, bt, adr->in(AddPNode::Base), addr);\n+  C2OptAccess access(*phase, ctl, mem, decorators, bt, adr->in(AddPNode::Base), adr);\n","filename":"src\/hotspot\/share\/opto\/arraycopynode.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1650,1 +1650,0 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n@@ -1652,1 +1651,1 @@\n-  C2ParseAccess access(this, decorators | C2_WRITE_ACCESS, bt, obj, addr);\n+  C2ParseAccess access(this, decorators | C2_WRITE_ACCESS, bt, obj, adr);\n@@ -1670,2 +1669,1 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n-  C2ParseAccess access(this, decorators | C2_READ_ACCESS, bt, obj, addr);\n+  C2ParseAccess access(this, decorators | C2_READ_ACCESS, bt, obj, adr);\n@@ -1687,2 +1685,1 @@\n-  C2AccessValuePtr addr(adr, adr->bottom_type()->is_ptr());\n-  C2ParseAccess access(this, decorators | C2_READ_ACCESS, bt, nullptr, addr);\n+  C2ParseAccess access(this, decorators | C2_READ_ACCESS, bt, nullptr, adr);\n@@ -1705,1 +1702,0 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n@@ -1707,1 +1703,1 @@\n-                        bt, obj, addr, alias_idx);\n+                        bt, obj, adr, alias_idx);\n@@ -1724,1 +1720,0 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n@@ -1726,1 +1721,1 @@\n-                        bt, obj, addr, alias_idx);\n+                        bt, obj, adr, alias_idx);\n@@ -1742,1 +1737,0 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n@@ -1744,1 +1738,1 @@\n-                        bt, obj, addr, alias_idx);\n+                        bt, obj, adr, alias_idx);\n@@ -1760,2 +1754,1 @@\n-  C2AccessValuePtr addr(adr, adr_type);\n-  C2AtomicParseAccess access(this, decorators | C2_READ_ACCESS | C2_WRITE_ACCESS, bt, obj, addr, alias_idx);\n+  C2AtomicParseAccess access(this, decorators | C2_READ_ACCESS | C2_WRITE_ACCESS, bt, obj, adr, alias_idx);\n","filename":"src\/hotspot\/share\/opto\/graphKit.cpp","additions":7,"deletions":14,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -475,1 +475,0 @@\n-      C2AccessValuePtr addr(vec_adr, vec_adr->bottom_type()->is_ptr());\n@@ -479,1 +478,1 @@\n-      C2OptAccess access(gvn, ctrl, local_mem, decorators, T_OBJECT, obj, addr);\n+      C2OptAccess access(gvn, ctrl, local_mem, decorators, T_OBJECT, obj, vec_adr);\n","filename":"src\/hotspot\/share\/opto\/vector.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
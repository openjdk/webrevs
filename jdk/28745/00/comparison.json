{"files":[{"patch":"@@ -316,2 +316,1 @@\n-\n-bool CastLLNode::is_inner_loop_backedge(ProjNode* proj) {\n+bool CastLLNode::is_inner_loop_backedge(IfProjNode* proj) {\n@@ -336,2 +335,2 @@\n-          ProjNode* true_proj = iff->as_If()->proj_out_or_null(true);\n-          ProjNode* false_proj = iff->as_If()->proj_out_or_null(false);\n+          IfTrueNode* true_proj = iff->as_If()->true_proj_or_null();\n+          IfFalseNode* false_proj = iff->as_If()->false_proj_or_null();\n","filename":"src\/hotspot\/share\/opto\/castnode.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -242,1 +242,1 @@\n-  static bool is_inner_loop_backedge(ProjNode* proj);\n+  static bool is_inner_loop_backedge(IfProjNode* proj);\n","filename":"src\/hotspot\/share\/opto\/castnode.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -354,1 +354,1 @@\n-  ProjNode* range_check_trap_proj(int& flip, Node*& l, Node*& r);\n+  IfProjNode* range_check_trap_proj(int& flip, Node*& l, Node*& r) const;\n@@ -433,0 +433,18 @@\n+  IfTrueNode* true_proj() const {\n+    return proj_out(true)->as_IfTrue();\n+  }\n+\n+  IfTrueNode* true_proj_or_null() const {\n+    ProjNode* true_proj = proj_out_or_null(true);\n+    return true_proj == nullptr ? nullptr : true_proj->as_IfTrue();\n+  }\n+\n+  IfFalseNode* false_proj() const {\n+    return proj_out(false)->as_IfFalse();\n+  }\n+\n+  IfFalseNode* false_proj_or_null() const {\n+    ProjNode* false_proj = proj_out_or_null(false);\n+    return false_proj == nullptr ? nullptr : false_proj->as_IfFalse();\n+  }\n+\n@@ -523,1 +541,1 @@\n-    return proj_out(0)->as_IfFalse();\n+    return false_proj();\n","filename":"src\/hotspot\/share\/opto\/cfgnode.hpp","additions":20,"deletions":2,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -490,1 +490,1 @@\n-ProjNode* IfNode::range_check_trap_proj(int& flip_test, Node*& l, Node*& r) {\n+IfProjNode* IfNode::range_check_trap_proj(int& flip_test, Node*& l, Node*& r) const {\n@@ -518,2 +518,4 @@\n-  ProjNode* iftrap = proj_out_or_null(flip_test == 2 ? true : false);\n-  return iftrap;\n+  if (flip_test == 2) {\n+    return true_proj_or_null();\n+  }\n+  return false_proj_or_null();\n@@ -531,1 +533,1 @@\n-  ProjNode* iftrap = range_check_trap_proj(flip_test, l, r);\n+  IfProjNode* iftrap = range_check_trap_proj(flip_test, l, r);\n@@ -1878,2 +1880,2 @@\n-  Node* old_if_f = iff->proj_out(false);\n-  Node* old_if_t = iff->proj_out(true);\n+  IfFalseNode* old_if_f = iff->false_proj();\n+  IfTrueNode* old_if_t = iff->true_proj();\n@@ -2195,1 +2197,1 @@\n-  ParsePredicateUncommonProj* uncommon_proj = proj_out(0)->as_IfFalse();\n+  ParsePredicateUncommonProj* uncommon_proj = false_proj();\n","filename":"src\/hotspot\/share\/opto\/ifnode.cpp","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-    Node* cle_out = _head->as_CountedLoop()->loopexit()->proj_out(false);\n+    IfFalseNode* cle_out = _head->as_CountedLoop()->loopexit()->false_proj();\n@@ -1467,3 +1467,2 @@\n-  Node* pre_exit = pre_end->proj_out(false);\n-  assert(pre_exit->Opcode() == Op_IfFalse, \"\");\n-  IfFalseNode *new_pre_exit = new IfFalseNode(pre_end);\n+  IfFalseNode* pre_exit = pre_end->false_proj();\n+  IfFalseNode* new_pre_exit = new IfFalseNode(pre_end);\n@@ -1710,2 +1709,1 @@\n-  Node* main_exit = outer_main_end->proj_out(false);\n-  assert(main_exit->Opcode() == Op_IfFalse, \"\");\n+  IfFalseNode* main_exit = outer_main_end->false_proj();\n@@ -1724,1 +1722,1 @@\n-  main_exit = outer_main_end->proj_out(false);\n+  main_exit = outer_main_end->false_proj();\n@@ -1789,1 +1787,1 @@\n-  const Node* if_false = main_end->proj_out(false);\n+  const IfFalseNode* if_false = main_end->false_proj();\n@@ -3947,1 +3945,1 @@\n-  Node* exit = head->loopexit()->proj_out_or_null(0);\n+  IfFalseNode* exit = head->loopexit()->false_proj_or_null();\n@@ -3991,1 +3989,1 @@\n-  Node* backedge = head->loopexit()->proj_out(1);\n+  IfTrueNode* backedge = head->loopexit()->true_proj();\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -491,1 +491,1 @@\n-  IfFalseNode* multiversion_slow_proj = multiversion_if->proj_out(0)->as_IfFalse();\n+  IfFalseNode* multiversion_slow_proj = multiversion_if->false_proj();\n","filename":"src\/hotspot\/share\/opto\/loopUnswitch.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-        le->proj_out_or_null(1 \/* true *\/) == l->in(LoopNode::LoopBackControl)) {\n+        le->true_proj_or_null() == l->in(LoopNode::LoopBackControl)) {\n@@ -84,3 +84,2 @@\n-      Node* exit = le->proj_out_or_null(0 \/* false *\/);\n-      if (exit != nullptr && exit->Opcode() == Op_IfFalse &&\n-          phi != nullptr && phi->is_Phi() &&\n+      IfFalseNode* exit = le->false_proj_or_null();\n+      if (exit != nullptr && phi != nullptr && phi->is_Phi() &&\n@@ -945,1 +944,1 @@\n-  Node* exit_branch = exit_test->proj_out(false);\n+  IfFalseNode* exit_branch = exit_test->false_proj();\n@@ -3090,1 +3089,1 @@\n-  Node* c = le->proj_out_or_null(false);\n+  IfFalseNode* c = le->false_proj_or_null();\n@@ -3410,1 +3409,1 @@\n-  Node* cle_tail = inner_cle->proj_out(true);\n+  IfTrueNode* cle_tail = inner_cle->true_proj();\n@@ -3552,1 +3551,1 @@\n-  Node* backedge = cle->proj_out(true);\n+  IfTrueNode* backedge = cle->true_proj();\n@@ -3633,1 +3632,1 @@\n-    Node* backedge = proj_out_or_null(true);\n+    IfTrueNode* backedge = true_proj_or_null();\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -610,1 +610,1 @@\n-  IfFalseNode* inner_loop_exit() const { return inner_counted_loop_end()->proj_out(false)->as_IfFalse(); }\n+  IfFalseNode* inner_loop_exit() const { return inner_counted_loop_end()->false_proj(); }\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1324,2 +1324,2 @@\n-  Node* proj_true = dom_if->proj_out(1);\n-  Node* proj_false = dom_if->proj_out(0);\n+  IfTrueNode* proj_true = dom_if->true_proj();\n+  IfFalseNode* proj_false = dom_if->false_proj();\n@@ -1588,2 +1588,2 @@\n-    ProjNode* dom_proj_true = dom_if->proj_out(1);\n-    ProjNode* dom_proj_false = dom_if->proj_out(0);\n+    IfTrueNode* dom_proj_true = dom_if->true_proj();\n+    IfFalseNode* dom_proj_false = dom_if->false_proj();\n@@ -1633,1 +1633,1 @@\n-        dominated_by(dom_proj_true->as_IfProj(), new_false_region->in(i)->in(0)->as_If());\n+        dominated_by(dom_proj_true, new_false_region->in(i)->in(0)->as_If());\n@@ -1636,1 +1636,1 @@\n-        dominated_by(dom_proj_false->as_IfProj(), new_false_region->in(i)->in(0)->as_If());\n+        dominated_by(dom_proj_false, new_false_region->in(i)->in(0)->as_If());\n@@ -2397,1 +2397,1 @@\n-    Node* cle_out = cle->proj_out(false);\n+    IfFalseNode* cle_out = cle->false_proj();\n@@ -2694,1 +2694,1 @@\n-            use = le->proj_out(false);\n+            use = le->false_proj();\n","filename":"src\/hotspot\/share\/opto\/loopopts.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2382,2 +2382,2 @@\n-    Node* iftrue = iff->as_If()->proj_out(1);\n-    Node* iffalse = iff->as_If()->proj_out(0);\n+    IfTrueNode* iftrue = iff->as_If()->true_proj();\n+    IfFalseNode* iffalse = iff->as_If()->false_proj();\n","filename":"src\/hotspot\/share\/opto\/macro.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -258,1 +258,1 @@\n-      C->gvn_replace_by(n->in(0)->as_If()->proj_out(false), C->top());\n+      C->gvn_replace_by(n->in(0)->as_If()->false_proj(), C->top());\n","filename":"src\/hotspot\/share\/opto\/stringopts.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -268,2 +268,2 @@\n-     *         is less than 0\n-     * @throws IllegalArgumentException if {@code pixelStride} is less than 0\n+     *         is less than or equal to 0\n+     * @throws IllegalArgumentException if {@code pixelStride} is less than or equal to 0\n@@ -275,0 +275,2 @@\n+     * @throws IllegalArgumentException if any element of {@code bandOffsets} is greater\n+     *         than {@code pixelStride} or the {@code scanlineStride}\n@@ -292,2 +294,2 @@\n-        if (pixelStride < 0) {\n-            throw new IllegalArgumentException(\"pixelStride is < 0\");\n+        if (pixelStride <= 0) {\n+            throw new IllegalArgumentException(\"pixelStride is <= 0\");\n@@ -295,2 +297,2 @@\n-        if (scanlineStride < 0) {\n-            throw new IllegalArgumentException(\"scanlineStride is < 0\");\n+        if (scanlineStride <= 0) {\n+            throw new IllegalArgumentException(\"scanlineStride is <= 0\");\n@@ -433,0 +435,2 @@\n+     * @throws IllegalArgumentException if the lengths of {@code bankIndices}\n+     *         and {@code bandOffsets} are different.\n@@ -459,0 +463,4 @@\n+        if (bandOffsets.length != bankIndices.length) {\n+            throw new IllegalArgumentException(\n+                                   \"bankIndices.length != bandOffsets.length\");\n+        }\n@@ -761,0 +769,1 @@\n+     * @throws RasterFormatException if {@code dataBuffer} is too small.\n@@ -772,0 +781,2 @@\n+     * @throws IllegalArgumentException if any element of {@code bandOffsets} is greater\n+     *         than {@code pixelStride} or the {@code scanlineStride}\n@@ -847,0 +858,4 @@\n+     * @throws IllegalArgumentException if the lengths of {@code bankIndices}\n+     *         and {@code bandOffsets} are different.\n+     * @throws ArrayIndexOutOfBoundsException if any element of {@code bankIndices}\n+     *         is greater or equal to the number of bands in {@code dataBuffer}\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/Raster.java","additions":21,"deletions":6,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+    static DataBuffer dBuffer1 = new DataBufferByte(1);\n@@ -56,1 +57,1 @@\n-      * a RuntimeException becuase the exception argument\n+      * a RuntimeException because the exception argument\n@@ -776,0 +777,15 @@\n+        try {\n+            \/* @throws IllegalArgumentException if the lengths of {@code bankIndices}\n+             *         and {@code bandOffsets} are different.\n+             *\/\n+            Raster.createBandedRaster(DataBuffer.TYPE_INT, 1, 1, 1,\n+                                      bankIndices, bandOffsets2, null);\n+            noException();\n+        } catch (ArrayIndexOutOfBoundsException t) {\n+          checkIsOldVersion(26, t);\n+        } catch (IllegalArgumentException t) {\n+            System.out.println(\n+                   \"Got expected exception for different array lengths\");\n+            System.out.println(t);\n+        }\n+\n@@ -914,0 +930,15 @@\n+        try {\n+            \/* @throws ArrayIndexOutOfBoundsException if any element of {@code bankIndices}\n+             *         is greater or equal to the number of bands in {@code dataBuffer}\n+             *\/\n+            int[] indices = new int[] { 0, 1, 2 };\n+            int[] offsets = new int[] { 0, 0, 0 };\n+            Raster.createBandedRaster(dBuffer, 1, 1, 1,\n+                                      indices, offsets, null);\n+            noException();\n+        } catch (ArrayIndexOutOfBoundsException t) {\n+            System.out.println(\n+                   \"Got expected exception for bad bank index\");\n+            System.out.println(t);\n+        }\n+\n@@ -1101,1 +1132,1 @@\n-              * {@code scanlineStride} is less than 0\n+              * {@code scanlineStride} is less than or equal to 0\n@@ -1104,1 +1135,1 @@\n-                                      1, 1, -3, 1, bandOffsets, null);\n+                                      1, 1, 0, 1, bandOffsets, null);\n@@ -1114,1 +1145,1 @@\n-              * is less than 0\n+              * is less than or equal to 0\n@@ -1117,1 +1148,1 @@\n-                                      1, 1, 3, -1, bandOffsets, null);\n+                                      1, 1, 3, 0, bandOffsets, null);\n@@ -1123,0 +1154,2 @@\n+        } catch (RasterFormatException t) {\n+            checkIsOldVersion(26, t);\n@@ -1155,1 +1188,1 @@\n-\n+      \n@@ -1239,0 +1272,12 @@\n+        try {\n+             \/* @throws RasterFormatException if {@code dataBuffer} is too small.\n+              *\/\n+            Raster.createInterleavedRaster(dBuffer1, 5, 1, 15, 1,\n+                                      bandOffsets, null);\n+            noException();\n+        } catch (RasterFormatException t) {\n+            System.out.println(\n+                \"Got expected exception for databuffer too small\");\n+            System.out.println(t);\n+        }\n+\n@@ -1251,1 +1296,0 @@\n-if (t != null) throw t;\n@@ -1298,0 +1342,15 @@\n+\n+        try {\n+             \/* @throws IllegalArgumentException if any element of {@code bandOffsets} is greater\n+             *  than {@code pixelStride} or the {@code scanlineStride}\n+             *\/\n+            int[] offsets = new int[] { 0, 1, 2};\n+            Raster.createInterleavedRaster(dBuffer,\n+                                  1, 1, 1, 1, offsets, null);\n+            noException();\n+        } catch (IllegalArgumentException t) {\n+            System.out.println(\n+                   \"Got expected exception for element too large\");\n+            System.out.println(t);\n+        }\n+\n","filename":"test\/jdk\/java\/awt\/image\/Raster\/CreateRasterExceptionTest.java","additions":66,"deletions":7,"binary":false,"changes":73,"status":"modified"}]}
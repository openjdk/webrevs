{"files":[{"patch":"@@ -1056,2 +1056,1 @@\n-private:\n-  uint _worker_id;\n+  ParCompactionManager* _cm;\n@@ -1060,1 +1059,1 @@\n-  PCAddThreadRootsMarkingTaskClosure(uint worker_id) : _worker_id(worker_id) { }\n+  PCAddThreadRootsMarkingTaskClosure(ParCompactionManager* cm) : _cm(cm) { }\n@@ -1062,2 +1061,0 @@\n-    assert(ParallelScavengeHeap::heap()->is_stw_gc_active(), \"called outside gc\");\n-\n@@ -1066,3 +1063,1 @@\n-    ParCompactionManager* cm = ParCompactionManager::gc_thread_compaction_manager(_worker_id);\n-\n-    MarkingNMethodClosure mark_and_push_in_blobs(&cm->_mark_and_push_closure);\n+    MarkingNMethodClosure mark_and_push_in_blobs(&_cm->_mark_and_push_closure);\n@@ -1070,1 +1065,1 @@\n-    thread->oops_do(&cm->_mark_and_push_closure, &mark_and_push_in_blobs);\n+    thread->oops_do(&_cm->_mark_and_push_closure, &mark_and_push_in_blobs);\n@@ -1073,1 +1068,1 @@\n-    cm->follow_marking_stacks();\n+    _cm->follow_marking_stacks();\n@@ -1117,1 +1112,1 @@\n-      PCAddThreadRootsMarkingTaskClosure closure(worker_id);\n+      PCAddThreadRootsMarkingTaskClosure closure(cm);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -538,2 +538,14 @@\n-  const double old_vs_young_efficiency_ratio = current_young_bytes_freed_per_gc_time == 0 ? std::numeric_limits<double>::infinity()\n-                                                                                          : current_old_bytes_freed_per_gc_time \/ current_young_bytes_freed_per_gc_time;\n+\n+  if (current_young_bytes_freed_per_gc_time == 0.0) {\n+    if (current_old_bytes_freed_per_gc_time == 0.0) {\n+      \/\/ Neither young nor old collections have reclaimed any memory.\n+      \/\/ Give them equal priority.\n+      return 1.0;\n+    }\n+\n+    \/\/ Only old collections have reclaimed memory.\n+    \/\/ Prioritize old.\n+    return ZOldGCThreads;\n+  }\n+\n+  const double old_vs_young_efficiency_ratio = current_old_bytes_freed_per_gc_time \/ current_young_bytes_freed_per_gc_time;\n","filename":"src\/hotspot\/share\/gc\/z\/zDirector.cpp","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}
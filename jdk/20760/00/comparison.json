{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,1 +49,1 @@\n- * @requires (os.family == \"linux\")\n+ * @requires (os.family == \"linux\" | os.family == \"mac\")\n@@ -62,0 +62,1 @@\n+    private static final int TOLERANCE = 10;\n@@ -139,1 +140,1 @@\n-        int sampleRGB = bufferedImage.getRGB(0,0);\n+        Color firstPixel = new Color(bufferedImage.getRGB(0,0));\n@@ -142,1 +143,1 @@\n-                if (bufferedImage.getRGB(x, y) != sampleRGB) {\n+                if (!compareColor(firstPixel, new Color(bufferedImage.getRGB(x, y)))) {\n@@ -150,0 +151,6 @@\n+    private static boolean compareColor(Color c1, Color c2) {\n+        return Math.abs(c1.getRed() - c2.getRed()) < TOLERANCE &&\n+                Math.abs(c1.getGreen() - c2.getGreen()) < TOLERANCE &&\n+                Math.abs(c1.getBlue() - c2.getBlue()) < TOLERANCE;\n+    }\n+\n","filename":"test\/jdk\/javax\/swing\/JFrame\/JFrameBackgroundRefreshTest.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"}]}
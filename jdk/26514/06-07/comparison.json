{"files":[{"patch":"@@ -256,1 +256,0 @@\n-        precond(mapinfo->is_static());\n","filename":"src\/hotspot\/share\/cds\/aotMapLogger.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n","filename":"src\/hotspot\/share\/oops\/objArrayOop.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n- * @test\n+ * @test id=aot\n@@ -33,1 +33,1 @@\n- * @run driver AOTMapTest\n+ * @run driver AOTMapTest AOT --two-step-training\n@@ -36,0 +36,15 @@\n+\/**\n+ * @test id=dynamic\n+ * @bug 8362566\n+ * @summary Test the contents of -Xlog:aot+map with AOT workflow\n+ * @requires vm.flagless\n+ * @requires vm.cds.supports.aot.class.linking\n+ * @library \/test\/lib \/test\/hotspot\/jtreg\/runtime\/cds\n+ * @build jdk.test.whitebox.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n+ * @build AOTMapTest\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller -jar app.jar AOTMapTestApp\n+ * @run  main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI -Xbootclasspath\/a:. AOTMapTest DYNAMIC\n+ *\/\n+\n+\n@@ -46,1 +61,1 @@\n-        doTest(false);\n+        doTest(args, false);\n@@ -50,1 +65,1 @@\n-            doTest(true);\n+            doTest(args, true);\n@@ -54,1 +69,1 @@\n-    public static void doTest(boolean compressed) throws Exception {\n+    public static void doTest(String[] args, boolean compressed) throws Exception {\n@@ -56,1 +71,1 @@\n-        tester.run(new String[] {\"AOT\", \"--two-step-training\"});\n+        tester.run(args);\n@@ -102,1 +117,1 @@\n-            if (runMode == RunMode.ASSEMBLY) {\n+            if (runMode == RunMode.ASSEMBLY || runMode == RunMode.DUMP_DYNAMIC) {\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/aotCache\/AOTMapTest.java","additions":22,"deletions":7,"binary":false,"changes":29,"status":"modified"}]}
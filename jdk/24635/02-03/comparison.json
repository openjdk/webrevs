{"files":[{"patch":"@@ -365,2 +365,1 @@\n-        if (f.getPath().indexOf('\\u0000') >= 0)\n-            return true;\n+        final String pathname = f.getPath();\n@@ -368,9 +367,5 @@\n-        \/\/ Invalid if the pathname or a directory in it has a trailing space\n-        File theFile = f;\n-        do {\n-            String p = theFile.getPath();\n-            int len = p.length();\n-            if (len > 0 && p.charAt(len - 1) == ' ')\n-                return true;\n-            theFile = theFile.getParentFile();\n-        } while (theFile != null);\n+        \/\/ Invalid if the pathname string contains a null character or if\n+        \/\/ any name in the pathname's name sequence ends with a space\n+        if (pathname.indexOf('\\u0000') >= 0 || pathname.endsWith(\" \")\n+            || pathname.contains(\" \\\\\"))\n+            return true;\n@@ -384,1 +379,0 @@\n-        final String pathname = f.getPath();\n","filename":"src\/java.base\/windows\/classes\/java\/io\/WinNTFileSystem.java","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"}]}
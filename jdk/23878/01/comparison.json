{"files":[{"patch":"@@ -1169,0 +1169,2 @@\n+    log_info(cds)(\"ArchiveRelocationMode: %d\", ArchiveRelocationMode);\n+\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,2 +64,2 @@\n-        String forceRelocation = \"-XX:ArchiveRelocationMode=1\";\n-        String runRelocArg  = run_reloc  ? forceRelocation : \"-showversion\";\n+        String maybeRelocation = \"-XX:ArchiveRelocationMode=0\";\n+        String runRelocArg  = run_reloc  ? \"-showversion\" : maybeRelocation;\n@@ -78,1 +78,4 @@\n-                        output.shouldContain(\"Try to map archive(s) at an alternative address\");\n+                        output.shouldContain(\"ArchiveRelocationMode == 1: always map archive(s) at an alternative address\")\n+                              .shouldContain(\"Try to map archive(s) at an alternative address\");\n+                    } else {\n+                        output.shouldContain(\"ArchiveRelocationMode: 0\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/ArchiveRelocationTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -131,1 +131,1 @@\n-        System.out.println(\"2. Exec with \" + execGC + \" and test ArchiveRelocationMode\");\n+        System.out.println(\"2. Exec with \" + execGC + \" and test ArchiveRelocationMode=0\");\n@@ -138,1 +138,1 @@\n-                              \"-XX:ArchiveRelocationMode=1\", \/\/ always relocate shared metadata\n+                              \"-XX:ArchiveRelocationMode=0\", \/\/ may relocate shared metadata\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TestSerialGCWithCDS.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -82,3 +82,3 @@\n-        String forceRelocation = \"-XX:ArchiveRelocationMode=1\";\n-        String dumpTopRelocArg  = dump_top_reloc  ? forceRelocation : \"-showversion\";\n-        String runRelocArg      = run_reloc       ? forceRelocation : \"-showversion\";\n+        String maybeRelocation = \"-XX:ArchiveRelocationMode=0\";\n+        String dumpTopRelocArg  = dump_top_reloc  ? \"-showversion\" : maybeRelocation;\n+        String runRelocArg      = run_reloc       ? \"-showversion\" : maybeRelocation;\n@@ -92,0 +92,1 @@\n+        String relocationModeMsg = \"ArchiveRelocationMode: 0\";\n@@ -108,0 +109,2 @@\n+                    } else {\n+                        output.shouldContain(relocationModeMsg);\n@@ -119,0 +122,2 @@\n+                    } else {\n+                        output.shouldContain(relocationModeMsg);\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicArchiveRelocationTest.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"}]}
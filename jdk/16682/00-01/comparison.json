{"files":[{"patch":"@@ -989,1 +989,10 @@\n-                goto err;\n+                if (firstTime) {\n+                    OM_uint32 dummy;\n+                    gss_delete_sec_context(&dummy, context_handle, GSS_C_NO_BUFFER);\n+                }\n+                delete newCred;\n+                if (output_token->value) {\n+                    gss_release_buffer(NULL, output_token);\n+                }\n+                output_token = GSS_C_NO_BUFFER;\n+                return GSS_S_FAILURE;\n@@ -1011,1 +1020,10 @@\n-        goto err;\n+        if (firstTime) {\n+            OM_uint32 dummy;\n+            gss_delete_sec_context(&dummy, context_handle, GSS_C_NO_BUFFER);\n+        }\n+        delete newCred;\n+        if (output_token->value) {\n+            gss_release_buffer(NULL, output_token);\n+        }\n+        output_token = GSS_C_NO_BUFFER;\n+        return GSS_S_FAILURE;\n","filename":"src\/java.security.jgss\/windows\/native\/libsspi_bridge\/sspi.cpp","additions":20,"deletions":2,"binary":false,"changes":22,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,0 @@\n-import static com.sun.source.tree.Tree.Kind.METHOD;\n@@ -84,0 +83,1 @@\n+import java.util.TreeSet;\n@@ -117,1 +117,0 @@\n-import java.util.concurrent.Callable;\n@@ -152,1 +151,0 @@\n-import static jdk.jshell.Util.REPL_DOESNOTMATTER_CLASS_NAME;\n@@ -157,3 +155,0 @@\n-import static javax.lang.model.element.ElementKind.CONSTRUCTOR;\n-import static javax.lang.model.element.ElementKind.MODULE;\n-import static javax.lang.model.element.ElementKind.PACKAGE;\n@@ -818,1 +813,1 @@\n-            List<Highlight> result = new ArrayList<>();\n+            TreeSet<Highlight> result = new TreeSet<>(Comparator.comparing(Highlight::start).thenComparing(Highlight::end));\n@@ -1053,2 +1048,1 @@\n-            Collections.sort(result, (h1, h2) -> h1.start() - h2.start());\n-            return result;\n+            return new ArrayList<>(result);\n","filename":"src\/jdk.jshell\/share\/classes\/jdk\/jshell\/SourceCodeAnalysisImpl.java","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8274148 8301580 8359497\n+ * @bug 8274148 8301580 8359497 8374293\n@@ -125,0 +125,7 @@\n+    @Test \/\/ 8374293: The returned Highlights should not overlap\n+    public void testHighlightsOverlap() {\n+        assertHighlights(\"public void E test()\", \"Highlight[start=0, end=6, attributes=[KEYWORD]]\",\n+                \"Highlight[start=7, end=11, attributes=[KEYWORD]]\",\n+                \"Highlight[start=14, end=18, attributes=[DECLARATION]]\");\n+    }\n+\n@@ -137,1 +144,0 @@\n-                          .distinct()\n","filename":"test\/langtools\/jdk\/jshell\/SnippetHighlightTest.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}
{"files":[{"patch":"@@ -1535,2 +1535,14 @@\n-        case lir_add: __ z_agfi(lreg, c);  break;\n-        case lir_sub: __ z_agfi(lreg, -c); break; \/\/ note: -min_jint == min_jint\n+        case lir_add:\n+                      if (Immediate::is_simm16(c)) {\n+                        __ z_ahi(lreg, c);\n+                      } else {\n+                        __ z_afi(lreg, c);\n+                      }\n+                      break;\n+        case lir_sub:\n+                      if (c != min_jint) {\n+                        __ z_afi(lreg, -c);\n+                      } else {\n+                        __ z_afi(lreg, c); \/\/ note: -min_jint == min_jint\n+                      }\n+                      break;\n","filename":"src\/hotspot\/cpu\/s390\/c1_LIRAssembler_s390.cpp","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}
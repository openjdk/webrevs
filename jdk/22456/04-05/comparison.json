{"files":[{"patch":"@@ -696,13 +696,2 @@\n-  if (!PreferLAoverADD || (r2 == Z_R0)) {\n-    bool distinctOpnds = VM_Version::has_DistinctOpnds();\n-\n-    if (Immediate::is_simm16(imm)) {\n-      if (r1 == r2){\n-        z_ahi(r1, imm);\n-        return;\n-      }\n-      if (distinctOpnds) {\n-        z_ahik(r1, r2, imm);\n-        return;\n-      }\n-      lr_if_needed(r1, r2);\n+  if (Immediate::is_simm16(imm)) {\n+    if (r1 == r2){\n@@ -712,10 +701,2 @@\n-  } else {\n-    \/\/ Can we encode imm in 12 bits unsigned?\n-    if (Displacement::is_shortDisp(imm)) {\n-      z_la(r1, imm, r2);\n-      return;\n-    }\n-    \/\/ Can we encode imm in 20 bits signed?\n-    if (Displacement::is_validDisp(imm)) {\n-      \/\/ Always use LAY instruction, so we don't need the tmp register.\n-      z_lay(r1, imm, r2);\n+    if (VM_Version::has_DistinctOpnds()) {\n+      z_ahik(r1, r2, imm);\n@@ -724,1 +705,3 @@\n-\n+    lr_if_needed(r1, r2);\n+    z_ahi(r1, imm);\n+    return;\n","filename":"src\/hotspot\/cpu\/s390\/macroAssembler_s390.cpp","additions":7,"deletions":24,"binary":false,"changes":31,"status":"modified"}]}
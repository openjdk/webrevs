{"files":[{"patch":"@@ -246,0 +246,4 @@\n+    \/**\n+     * Grants native access to modules selected using the --enable-native-access\n+     * command line option.\n+     *\/\n@@ -250,0 +254,3 @@\n+            if (name.equals(\"ALL-UNNAMED\")) {\n+                continue; \/\/ was taken care of by module bootstrap\n+            }\n@@ -251,4 +258,4 @@\n-            if (found.isPresent()) {\n-                var module = found.get();\n-                if (!module.isNativeAccessEnabled()) {\n-                    controller.enableNativeAccess(module);\n+            if (found.isEmpty()) {\n+                if (shouldWarn) {\n+                    \/\/ same message as ModuleBootstrap.warnUnknownModule(ENABLE_NATIVE_ACCESS, name);\n+                    out.println(\"WARNING: Unknown module: \" + name + \" specified to --enable-native-access\");\n@@ -258,2 +265,3 @@\n-            if (shouldWarn) {\n-                out.println(\"WARNING: Unknown module: \" + name + \" specified to --enable-native-access\");\n+            var module = found.get();\n+            if (module.isNativeAccessEnabled()) {\n+                continue;\n@@ -261,0 +269,1 @@\n+            controller.enableNativeAccess(module);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/launcher\/MemoryContext.java","additions":15,"deletions":6,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -204,1 +204,1 @@\n-                \"--enable-native-access\", \"foo,bar,baz\",\n+                \"--enable-native-access\", \"foo,bar,baz,ALL-UNNAMED\",\n","filename":"test\/langtools\/tools\/javac\/launcher\/ModuleSourceLauncherTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
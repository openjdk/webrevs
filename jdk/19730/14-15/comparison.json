{"files":[{"patch":"@@ -411,1 +411,1 @@\n-        putDigit(str, index++, h);\n+        index = putDigit(str, index, h);\n@@ -417,1 +417,1 @@\n-            putDigit(str, index++, t >>> 28);\n+            index = putDigit(str, index, t >>> 28);\n@@ -420,1 +420,1 @@\n-        putChar(str, index++, '.');\n+        index = putChar(str, index, '.');\n@@ -423,1 +423,1 @@\n-            putDigit(str, index++, t >>> 28);\n+            index = putDigit(str, index, t >>> 28);\n@@ -431,2 +431,2 @@\n-        putCharsAt(str, index, '0', '.');\n-        index += 2;\n+        index = putDigit(str, index, 0);\n+        index = putChar(str, index, '.');\n@@ -434,1 +434,1 @@\n-            putDigit(str, index++, 0);\n+            index = putDigit(str, index, 0);\n@@ -436,3 +436,3 @@\n-        putDigit(str, index, h);\n-        put8Digits(str, index + 1, m);\n-        return lowDigits(str, index + 9, l);\n+        index = putDigit(str, index, h);\n+        index = put8Digits(str, index, m);\n+        return lowDigits(str, index, l);\n@@ -443,3 +443,4 @@\n-        putCharsAt(str, index, '0' + h, '.');\n-        put8Digits(str, index + 2, m);\n-        index = lowDigits(str, index + 10, l);\n+        index = putDigit(str, index, h);\n+        index = putChar(str, index, '.');\n+        index = put8Digits(str, index, m);\n+        index = lowDigits(str, index, l);\n@@ -451,2 +452,1 @@\n-            put8Digits(str, index, l);\n-            index += 8;\n+            index = put8Digits(str, index, l);\n@@ -464,2 +464,1 @@\n-            putDigit(str, index, e);\n-            return index + 1;\n+            return putDigit(str, index, e);\n@@ -482,2 +481,2 @@\n-        putCharsAt(str, index, '0' + d, '0' + e - 10 * d);\n-        return index + 2;\n+        index = putDigit(str, index, d);\n+        return putDigit(str, index, e - 10 * d);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/math\/DoubleToDecimal.java","additions":18,"deletions":19,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -372,1 +372,1 @@\n-        putDigit(str, index++, h);\n+        index = putDigit(str, index, h);\n@@ -378,1 +378,1 @@\n-            putDigit(str, index++, t >>> 28);\n+            index = putDigit(str, index, t >>> 28);\n@@ -381,1 +381,1 @@\n-        putChar(str, index++, '.');\n+        index = putChar(str, index, '.');\n@@ -384,1 +384,1 @@\n-            putDigit(str, index++, t >>> 28);\n+            index = putDigit(str, index, t >>> 28);\n@@ -392,2 +392,2 @@\n-        putCharsAt(str, index, '0', '.');\n-        index += 2;\n+        index = putDigit(str, index, 0);\n+        index = putChar(str, index, '.');\n@@ -395,1 +395,1 @@\n-            putDigit(str, index++, 0);\n+            index = putDigit(str, index, 0);\n@@ -397,3 +397,3 @@\n-        putDigit(str, index, h);\n-        put8Digits(str, index + 1, l);\n-        return removeTrailingZeroes(str, index + 9);\n+        index = putDigit(str, index, h);\n+        index = put8Digits(str, index, l);\n+        return removeTrailingZeroes(str, index);\n@@ -404,3 +404,4 @@\n-        putCharsAt(str, index, '0' + h, '.');\n-        put8Digits(str, index + 2     , l  );\n-        index = removeTrailingZeroes(str, index + 10);\n+        index = putDigit(str, index, h);\n+        index = putChar(str, index, '.');\n+        index = put8Digits(str, index, l);\n+        index = removeTrailingZeroes(str, index);\n@@ -411,1 +412,1 @@\n-        putChar(str, index++, 'E');\n+        index = putChar(str, index, 'E');\n@@ -413,1 +414,1 @@\n-            putChar(str, index++, '-');\n+            index = putChar(str, index, '-');\n@@ -417,2 +418,1 @@\n-            putDigit(str, index, e);\n-            return index + 1;\n+            return putDigit(str, index, e);\n@@ -425,2 +425,2 @@\n-        putCharsAt(str, index, '0' + d, '0' + e - 10 * d);\n-        return index + 2;\n+        index = putDigit(str, index, d);\n+        return putDigit(str, index, e - 10 * d);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/math\/FloatToDecimal.java","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -40,6 +40,6 @@\n-    static final int NON_SPECIAL = 0;\n-    static final int PLUS_ZERO   = 0x100;\n-    static final int MINUS_ZERO  = 0x200;\n-    static final int PLUS_INF    = 0x300;\n-    static final int MINUS_INF   = 0x400;\n-    static final int NAN         = 0x500;\n+    static final int NON_SPECIAL = 0 << 8;\n+    static final int PLUS_ZERO   = 1 << 8;\n+    static final int MINUS_ZERO  = 2 << 8;\n+    static final int PLUS_INF    = 3 << 8;\n+    static final int MINUS_INF   = 4 << 8;\n+    static final int NAN         = 5 << 8;\n@@ -63,1 +63,1 @@\n-    final void putChar(byte[] str, int index, int c) {\n+    final int putChar(byte[] str, int index, int c) {\n@@ -69,0 +69,1 @@\n+        return index + 1;\n@@ -71,12 +72,2 @@\n-    final void putCharsAt(byte[] str, int index, int c1, int c2) {\n-        if (coder == LATIN1) {\n-            str[index    ] = (byte) c1;\n-            str[index + 1] = (byte) c2;\n-        } else {\n-            JLA.putCharUTF16(str, index    , c1);\n-            JLA.putCharUTF16(str, index + 1, c2);\n-        }\n-    }\n-\n-    final void putDigit(byte[] str, int index, int d) {\n-        putChar(str, index, (byte) ('0' + d));\n+    final int putDigit(byte[] str, int index, int d) {\n+        return putChar(str, index, (byte) ('0' + d));\n@@ -85,1 +76,1 @@\n-    final void put8Digits(byte[] str, int index, int m) {\n+    final int put8Digits(byte[] str, int index, int m) {\n@@ -95,0 +86,1 @@\n+        return index + 8;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/math\/ToDecimal.java","additions":12,"deletions":20,"binary":false,"changes":32,"status":"modified"}]}
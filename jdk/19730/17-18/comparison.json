{"files":[{"patch":"@@ -46,1 +46,1 @@\n-    public static final DoubleToDecimal LATIN1 = new DoubleToDecimal(ToDecimal.LATIN1);\n+    public static final DoubleToDecimal LATIN1 = new DoubleToDecimal(true);\n@@ -52,1 +52,1 @@\n-    public static final DoubleToDecimal UTF16  = new DoubleToDecimal(ToDecimal.UTF16);\n+    public static final DoubleToDecimal UTF16  = new DoubleToDecimal(false);\n@@ -118,2 +118,2 @@\n-    private DoubleToDecimal(byte coder) {\n-        super(coder);\n+    private DoubleToDecimal(boolean latin1) {\n+        super(latin1);\n@@ -214,1 +214,1 @@\n-                putChar(str, index++, '-');\n+                index = putChar(str, index, '-');\n@@ -231,6 +231,3 @@\n-                int dk = 0;\n-                if (t < C_TINY) {\n-                    t *= 10;\n-                    dk = -1;\n-                }\n-                return toDecimal(str, index, Q_MIN, t, dk, fd) - start;\n+                return (t < C_TINY\n+                        ? toDecimal(str, index, Q_MIN, 10 * t, -1, fd)\n+                        : toDecimal(str, index, Q_MIN, t, 0, fd)) - start;\n@@ -458,1 +455,1 @@\n-        putChar(str, index++, 'E');\n+        index = putChar(str, index, 'E');\n@@ -460,1 +457,1 @@\n-            putChar(str, index++, '-');\n+            index = putChar(str, index, '-');\n@@ -473,1 +470,1 @@\n-            putDigit(str, index++, d);\n+            index = putDigit(str, index, d);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/math\/DoubleToDecimal.java","additions":11,"deletions":14,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    public static final FloatToDecimal LATIN1 = new FloatToDecimal(ToDecimal.LATIN1);\n+    public static final FloatToDecimal LATIN1 = new FloatToDecimal(true);\n@@ -52,1 +52,1 @@\n-    public static final FloatToDecimal UTF16  = new FloatToDecimal(ToDecimal.UTF16);\n+    public static final FloatToDecimal UTF16  = new FloatToDecimal(false);\n@@ -118,2 +118,2 @@\n-    private FloatToDecimal(byte coder) {\n-        super(coder);\n+    private FloatToDecimal(boolean latin1) {\n+        super(latin1);\n@@ -189,1 +189,1 @@\n-                putChar(str, index++, '-');\n+                index = putChar(str, index, '-');\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/math\/FloatToDecimal.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -47,3 +47,0 @@\n-    static final byte LATIN1 = 0;\n-    static final byte UTF16  = 1;\n-\n@@ -51,4 +48,1 @@\n-     * The identifier of the encoding used to encode the bytes. The supported values in this implementation are\n-     *\n-     * LATIN1\n-     * UTF16\n+     * The identifier of the encoding used to encode the bytes. If latin1 is true, the encoding is LATIN1, false is UTF16\n@@ -57,1 +51,1 @@\n-    private final byte coder;\n+    private final boolean latin1;\n@@ -59,2 +53,2 @@\n-    ToDecimal(byte coder) {\n-        this.coder = coder;\n+    ToDecimal(boolean latin1) {\n+        this.latin1 = latin1;\n@@ -64,1 +58,1 @@\n-        if (coder == LATIN1) {\n+        if (latin1) {\n@@ -81,1 +75,1 @@\n-        if (coder == LATIN1) {\n+        if (latin1) {\n@@ -122,1 +116,1 @@\n-        if (coder == LATIN1) {\n+        if (latin1) {\n@@ -146,1 +140,1 @@\n-        if (coder == LATIN1) {\n+        if (latin1) {\n@@ -157,1 +151,1 @@\n-        return str.length >> coder;\n+        return str.length >> (latin1 ? 0 : 1);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/math\/ToDecimal.java","additions":9,"deletions":15,"binary":false,"changes":24,"status":"modified"}]}
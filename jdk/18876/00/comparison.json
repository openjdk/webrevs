{"files":[{"patch":"@@ -1080,3 +1080,5 @@\n-    \/\/ An async deflation can race after the inflate() call and before we\n-    \/\/ can update the ObjectMonitor's header with the hash value below.\n-    monitor = inflate(current, obj, inflate_cause_hash_code);\n+    \/\/ There's no need to inflate if the mark has already got a monitor.\n+    \/\/ NOTE: an async deflation can race after we get the monitor and\n+    \/\/ before we can update the ObjectMonitor's header with the hash\n+    \/\/ value below.\n+    monitor = mark.has_monitor() ? mark.monitor() : inflate(current, obj, inflate_cause_hash_code);\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"}]}
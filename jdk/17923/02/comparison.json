{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -628,1 +628,6 @@\n-        p1.setNeedClientAuth(p.getNeedClientAuth());\n+        if (p.getNeedClientAuth()) {\n+            p1.setNeedClientAuth(true);\n+        }\n+        if (p.getWantClientAuth()) {\n+            p1.setWantClientAuth(true);\n+        }\n@@ -636,1 +641,0 @@\n-        p1.setWantClientAuth(p.getWantClientAuth());\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/common\/Utils.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n- * @bug 8209137\n+ * @bug 8209137 8326233\n@@ -274,0 +274,28 @@\n+        \/\/ test defaults for needClientAuth and wantClientAuth\n+        builder.sslParameters(new SSLParameters());\n+        try (var closer = closeable(builder)) {\n+            assertFalse(closer.build().sslParameters().getNeedClientAuth(),\n+                    \"needClientAuth() was expected to be false\");\n+            assertFalse(closer.build().sslParameters().getWantClientAuth(),\n+                    \"wantClientAuth() was expected to be false\");\n+        }\n+        \/\/ needClientAuth = true and thus wantClientAuth = false\n+        SSLParameters needClientAuthParams = new SSLParameters();\n+        needClientAuthParams.setNeedClientAuth(true);\n+        builder.sslParameters(needClientAuthParams);\n+        try (var closer = closeable(builder)) {\n+            assertTrue(closer.build().sslParameters().getNeedClientAuth(),\n+                    \"needClientAuth() was expected to be true\");\n+            assertFalse(closer.build().sslParameters().getWantClientAuth(),\n+                    \"wantClientAuth() was expected to be false\");\n+        }\n+        \/\/ wantClientAuth = true and thus needClientAuth = false\n+        SSLParameters wantClientAuthParams = new SSLParameters();\n+        wantClientAuthParams.setWantClientAuth(true);\n+        builder.sslParameters(wantClientAuthParams);\n+        try (var closer = closeable(builder)) {\n+            assertTrue(closer.build().sslParameters().getWantClientAuth(),\n+                    \"wantClientAuth() was expected to be true\");\n+            assertFalse(closer.build().sslParameters().getNeedClientAuth(),\n+                    \"needClientAuth() was expected to be false\");\n+        }\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpClientBuilderTest.java","additions":30,"deletions":2,"binary":false,"changes":32,"status":"modified"}]}
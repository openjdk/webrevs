{"files":[{"patch":"@@ -62,0 +62,1 @@\n+\n@@ -89,1 +90,0 @@\n-\n","filename":"src\/java.base\/share\/native\/libnet\/net_util.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -112,1 +112,1 @@\n-                    error != EAI_SYSTEM)\n+                    error == EAI_SYSTEM && errno == EINTR);\n@@ -237,1 +237,1 @@\n-                    r != EAI_SYSTEM)\n+                    r == EAI_SYSTEM && errno == EINTR);\n@@ -292,1 +292,1 @@\n-                    connect_rv != -1);\n+                    connect_rv == -1 && errno == EINTR);\n@@ -409,1 +409,1 @@\n-                        n != -1)\n+                        n == -1 && errno == EINTR)\n@@ -435,1 +435,2 @@\n-                                      (struct sockaddr *)&sa_recv, &len), n != -1);\n+                                      (struct sockaddr *)&sa_recv, &len),\n+                                      n == -1 && errno == EINTR);\n","filename":"src\/java.base\/unix\/native\/libnet\/Inet4AddressImpl.c","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -230,1 +230,2 @@\n-    NET_RESTARTABLE(error, getaddrinfo(hostname, NULL, &hints, &res), error != EAI_SYSTEM)\n+    NET_RESTARTABLE(error, getaddrinfo(hostname, NULL, &hints, &res),\n+                                      error == EAI_SYSTEM && errno == EINTR);\n@@ -436,1 +437,1 @@\n-                    r != EAI_SYSTEM)\n+                    r == EAI_SYSTEM && errno == EINTR);\n@@ -491,1 +492,1 @@\n-                    connect_rv != -1);\n+                    connect_rv == -1 && errno == EINTR);\n@@ -614,1 +615,1 @@\n-                        n != -1)\n+                        n == -1 && errno == EINTR);\n@@ -640,1 +641,2 @@\n-                                   (struct sockaddr *)&sa_recv, &len), n == -1);\n+                                   (struct sockaddr *)&sa_recv, &len),\n+                                   n == -1 && errno == EINTR);\n","filename":"src\/java.base\/unix\/native\/libnet\/Inet6AddressImpl.c","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -84,6 +84,3 @@\n- * Invokes call in a loop, setting RET to return value.\n- * Invokes PREDICATE for condition to break from loop\n- * If PREDICATE fails, and errno is not EINTR, loop breaks also\n- * Continue loop otherwise.\n- *\n- * NB. It is assumed that if PREDICATE fails then errno is set\n+ * Invokes CALL in a loop, setting RET to return value.\n+ * Invokes PREDICATE for condition to restart CALL (in loop)\n+ * Return RET otherwise\n@@ -93,2 +90,2 @@\n-        RET = CALL;                     \\\n-        if (PREDICATE || errno != EINTR) {      \\\n+        RET = CALL;                             \\\n+        if (!(PREDICATE)) {                     \\\n","filename":"src\/java.base\/unix\/native\/libnet\/net_util_md.h","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"}]}
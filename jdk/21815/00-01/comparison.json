{"files":[{"patch":"@@ -26,0 +26,1 @@\n+import java.util.concurrent.Semaphore;\n@@ -2018,1 +2019,1 @@\n-        private volatile boolean inuse = true;\n+        private Semaphore inuse = new Semaphore(1, true);\n@@ -2031,2 +2032,0 @@\n-            assert (inuse == true);\n-\n@@ -2088,11 +2087,1 @@\n-            if (inuse) {\n-                return false;\n-            }\n-            synchronized (this) {\n-                if (inuse) {\n-                    return false;\n-                } else {\n-                    inuse = true;\n-                    return true;\n-                }\n-            }\n+            return inuse.tryAcquire();\n@@ -2102,2 +2091,1 @@\n-            assert (inuse == true);\n-            inuse = false;\n+            inuse.release();\n@@ -2105,2 +2093,0 @@\n-\n-        boolean inUse() { return inuse; }\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/xerces\/internal\/impl\/xpath\/regex\/RegularExpression.java","additions":4,"deletions":18,"binary":false,"changes":22,"status":"modified"}]}
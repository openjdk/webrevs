{"files":[{"patch":"@@ -581,1 +581,0 @@\n-, _bailout_msg(nullptr)\n@@ -610,1 +609,3 @@\n-    _env->record_method_not_compilable(bailout_msg());\n+    if (strcmp(bailout_msg(), ciEnv::old_method_reason()) != 0) {\n+      _env->record_method_not_compilable(bailout_msg());\n+    }\n@@ -652,1 +653,1 @@\n-    _bailout_msg = msg;\n+    _env->record_failure(msg);\n","filename":"src\/hotspot\/share\/c1\/c1_Compilation.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -88,1 +88,0 @@\n-  const char*        _bailout_msg;\n@@ -216,2 +215,2 @@\n-  bool bailed_out() const                        { return _bailout_msg != nullptr; }\n-  const char* bailout_msg() const                { return _bailout_msg; }\n+  bool bailed_out() const                        { return _env->failing(); }\n+  const char* bailout_msg() const                { return _env->failure_reason(); }\n","filename":"src\/hotspot\/share\/c1\/c1_Compilation.hpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -322,0 +322,2 @@\n+  static const char* old_method_reason() { return \"method is old\"; }\n+\n","filename":"src\/hotspot\/share\/ci\/ciEnv.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -748,0 +748,1 @@\n+    CURRENT_THREAD_ENV->record_failure(ciEnv::old_method_reason());\n@@ -830,0 +831,1 @@\n+      CURRENT_THREAD_ENV->record_failure(ciEnv::old_method_reason());\n","filename":"src\/hotspot\/share\/ci\/ciMethod.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -934,0 +934,1 @@\n+    if (kit.failing()) return nullptr;\n@@ -938,0 +939,1 @@\n+    if (kit.failing()) return nullptr;\n","filename":"src\/hotspot\/share\/opto\/callGenerator.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -799,3 +799,5 @@\n-      stringStream ss;\n-      ss.print(\"method parse failed: %s\", failure_reason());\n-      record_method_not_compilable(ss.as_string());\n+      if (strcmp(failure_reason(), ciEnv::old_method_reason()) != 0) {\n+        stringStream ss;\n+        ss.print(\"method parse failed: %s\", failure_reason());\n+        record_method_not_compilable(ss.as_string());\n+      }\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -595,0 +595,1 @@\n+    if (failing()) return;\n@@ -1119,0 +1120,2 @@\n+  } else if (failing()) {\n+    return nullptr;\n@@ -1188,0 +1191,2 @@\n+  if (failing()) return nullptr;\n+\n","filename":"src\/hotspot\/share\/opto\/doCall.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}
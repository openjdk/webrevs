{"files":[{"patch":"@@ -36,1 +36,0 @@\n-import java.awt.image.PixelGrabber;\n@@ -48,1 +47,1 @@\n-    private static long delay = 500;\n+    private static int delay = 500;\n@@ -65,1 +64,1 @@\n-        frame = new Frame(\"Test frame\");\n+        frame = new Frame(\"ScreenCaptureRobotTest Frame\");\n@@ -92,1 +91,2 @@\n-        Thread.sleep(delay);\n+        robot.delay(delay);\n+        robot.waitForIdle();\n@@ -110,3 +110,3 @@\n-            BufferedImage realImg) throws InterruptedException {\n-        int[] capturedPixels;\n-        int[] realPixels;\n+            BufferedImage realImg) {\n+        int capturedPixel;\n+        int realPixel;\n@@ -121,15 +121,10 @@\n-        capturedPixels = new int[imgWidth * imgHeight];\n-        realPixels = new int[imgWidth * imgHeight];\n-\n-        \/\/ Extracting Pixels from Captured Image\n-        PixelGrabber pgCapturedImg = new PixelGrabber(capturedImg, 0, 0,\n-                imgWidth, imgHeight, capturedPixels, 0, imgWidth);\n-        pgCapturedImg.grabPixels();\n-        \/\/ Extracting Pixels from Real Image\n-        PixelGrabber pgRealImg = new PixelGrabber(realImg, 0, 0, imgWidth,\n-                imgHeight, realPixels, 0, imgWidth);\n-        pgRealImg.grabPixels();\n-\n-        for (int i = 0; i < (imgWidth * imgHeight); i++) {\n-            if (capturedPixels[i] != realPixels[i]) {\n-                toleranceLevel++;\n+        \/\/ Loop through each pixel in both images\n+        for (int i = 0; i < (imgWidth); i++) {\n+            for (int j = 0; j < (imgHeight); j++) {\n+                \/\/ Get the RGB values of each pixel in both images\n+                capturedPixel = capturedImg.getRGB(i, j);\n+                realPixel = realImg.getRGB(i, j);\n+                \/\/ Compare the pixel values\n+                if (capturedPixel != realPixel) {\n+                    toleranceLevel++;\n+                }\n@@ -140,1 +135,1 @@\n-        if (toleranceLevel > 100) {\n+        if (toleranceLevel > 10) {\n@@ -145,1 +140,0 @@\n-\n","filename":"test\/jdk\/java\/awt\/Robot\/ScreenCaptureRobotTest.java","additions":18,"deletions":24,"binary":false,"changes":42,"status":"modified"}]}
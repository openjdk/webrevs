{"files":[{"patch":"@@ -148,0 +148,19 @@\n+    enum Arch {\n+        X64,\n+        X86,\n+        AARCH64,\n+        OTHER;\n+    }\n+\n+    static Arch getArch() {\n+        if (Architecture.isX64()) {\n+            return Arch.X64;\n+        } else if (Architecture.isX86()) {\n+            return Arch.X86;\n+        } else if (Architecture.isAARCH64()) {\n+            return Arch.AARCH64;\n+        } else {\n+            return Arch.OTHER;\n+        }\n+    }\n+\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/WixFragmentBuilder.java","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -43,0 +43,2 @@\n+import static jdk.jpackage.internal.WixFragmentBuilder.Arch;\n+import static jdk.jpackage.internal.WixFragmentBuilder.getArch;\n@@ -204,0 +206,7 @@\n+        var archString = switch (WixFragmentBuilder.getArch()) {\n+            case Arch.X64 -> \"x64\";\n+            case Arch.X86 -> \"x86\";\n+            case Arch.AARCH64 -> \"arm64\";\n+            case Arch.OTHER -> throw new IOException(\"Unsupported architecture.\");\n+        };\n+\n@@ -211,1 +220,1 @@\n-                \"-arch\", WixFragmentBuilder.is64Bit() ? \"x64\" : \"x86\"\n+                \"-arch\", archString\n@@ -252,0 +261,6 @@\n+        var archString = switch (WixFragmentBuilder.getArch()) {\n+            case Arch.X64 -> \"x64\";\n+            case Arch.X86 -> \"x86\";\n+            case Arch.AARCH64, Arch.OTHER -> throw new IOException(\"Unsupported architecture.\");\n+        };\n+\n@@ -257,1 +272,1 @@\n-                \"-arch\", WixFragmentBuilder.is64Bit() ? \"x64\" : \"x86\",\n+                \"-arch\", archString,\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/WixPipeline.java","additions":17,"deletions":2,"binary":false,"changes":19,"status":"modified"}]}
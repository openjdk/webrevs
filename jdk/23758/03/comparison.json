{"files":[{"patch":"@@ -92,0 +92,1 @@\n+    -DJVM_VARIANT='\"$(JVM_VARIANT)\"' \\\n","filename":"make\/hotspot\/lib\/CompileJvm.gmk","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -245,10 +245,0 @@\n-\/\/ JVM variant\n-#if   defined(ZERO)\n-  #define JVM_VARIANT \"zero\"\n-#elif defined(COMPILER2)\n-  #define JVM_VARIANT \"server\"\n-#else\n-  #define JVM_VARIANT \"client\"\n-#endif\n-\n-\n@@ -1556,1 +1546,1 @@\n-        snprintf(jrelib_p, buflen-len, \"\/%s\", JVM_VARIANT);\n+        snprintf(jrelib_p, buflen-len, \"\/%s\", Abstract_VM_Version::vm_variant());\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":1,"deletions":11,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -89,4 +89,0 @@\n-    char jvm_path[JVM_MAXPATHLEN];\n-    os::jvm_path(jvm_path, sizeof(jvm_path));\n-    char *end = strrchr(jvm_path, *os::file_separator());\n-    if (end != nullptr) *end = '\\0';\n@@ -94,1 +90,3 @@\n-    tmp.print(\"%s%sclasses\", jvm_path, os::file_separator());\n+    const char* subdir = WINDOWS_ONLY(\"bin\") NOT_WINDOWS(\"lib\");\n+    tmp.print(\"%s%s%s%s%s%sclasses\", Arguments::get_java_home(), os::file_separator(), subdir,\n+              os::file_separator(), Abstract_VM_Version::vm_variant(), os::file_separator());\n","filename":"src\/hotspot\/share\/cds\/cdsConfig.cpp","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -84,0 +84,4 @@\n+#ifndef JVM_VARIANT\n+  #error JVM_VARIANT must be defined\n+#endif\n+\n@@ -198,0 +202,4 @@\n+const char* Abstract_VM_Version::vm_variant() {\n+  return JVM_VARIANT;\n+}\n+\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -113,0 +113,1 @@\n+  static const char* vm_variant();\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
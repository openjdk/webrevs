{"files":[{"patch":"@@ -117,1 +117,0 @@\n-    private static Rectangle[] allScreenBounds;\n@@ -171,7 +170,0 @@\n-        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n-        GraphicsDevice[] gs = ge.getScreenDevices();\n-        allScreenBounds = new Rectangle[gs.length];\n-\n-        for (int i = 0; i < gs.length; i++) {\n-            allScreenBounds[i] = gs[i].getDefaultConfiguration().getBounds();\n-        }\n@@ -236,0 +228,8 @@\n+        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n+        GraphicsDevice[] gs = ge.getScreenDevices();\n+        Rectangle[] allScreenBounds = new Rectangle[gs.length];\n+\n+        for (int i = 0; i < gs.length; i++) {\n+            allScreenBounds[i] = gs[i].getDefaultConfiguration().getBounds();\n+        }\n+\n@@ -237,2 +237,1 @@\n-            int closestX = Math.min(Math.max(x, screenBounds.x), screenBounds.x + screenBounds.width-1);\n-            int closestY = Math.min(Math.max(y, screenBounds.y), screenBounds.y + screenBounds.height-1);\n+            Point cP = calcClosestPoint(x, y, screenBounds);\n@@ -240,2 +239,2 @@\n-            int currXDiff = Math.abs(x - closestX);\n-            int currYDiff = Math.abs(y - closestY);\n+            int currXDiff = Math.abs(x - cP.x);\n+            int currYDiff = Math.abs(y - cP.y);\n@@ -248,2 +247,2 @@\n-                finX1 = closestX;\n-                finY1 = closestY;\n+                finX1 = cP.x;\n+                finY1 = cP.y;\n@@ -252,2 +251,2 @@\n-                finX2 = closestX;\n-                finY2 = closestY;\n+                finX2 = cP.x;\n+                finY2 = cP.y;\n@@ -267,0 +266,5 @@\n+    private Point calcClosestPoint(int x, int y, Rectangle screenBounds) {\n+        return new Point(Math.min(Math.max(x, screenBounds.x), screenBounds.x + screenBounds.width-1),\n+                Math.min(Math.max(y, screenBounds.y), screenBounds.y + screenBounds.height-1));\n+    }\n+\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Robot.java","additions":20,"deletions":16,"binary":false,"changes":36,"status":"modified"}]}
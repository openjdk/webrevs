{"files":[{"patch":"@@ -242,1 +242,1 @@\n-        \"linux-x64\", \"linux-x86\", \"macosx-x64\",\n+        \"linux-x64\", \"linux-x86\", \"macosx-x64\", \"macosx-aarch64\",\n@@ -399,1 +399,1 @@\n-    common.boot_jdk_version = \"15\";\n+    common.boot_jdk_version = (input.build_os == 'macosx' && input.build_cpu == 'aarch64') ? \"16\" : \"15\";\n@@ -450,0 +450,9 @@\n+        \"macosx-aarch64\": {\n+            target_os: \"macosx\",\n+            target_cpu: \"aarch64\",\n+            dependencies: [\"devkit\", \"gtest\"],\n+            configure_args: concat(common.configure_args_64bit, \"--with-zlib=system\",\n+                \"--with-macosx-version-max=11.00.00\",\n+                \"SETFILE=\/usr\/bin\/SetFile\"),\n+        },\n+\n@@ -560,1 +569,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\" ].forEach(function (name) {\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\" ].forEach(function (name) {\n@@ -649,1 +658,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"windows-x64\" ]\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\", \"windows-x64\" ]\n@@ -678,0 +687,4 @@\n+        \"macosx-aarch64\": {\n+            platform: \"osx-aarch64\",\n+            jdk_subdir: \"jdk-\" + data.version + \".jdk\/Contents\/Home\",\n+        },\n@@ -845,1 +858,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"windows-x64\" ]\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\", \"windows-x64\" ]\n@@ -865,1 +878,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\" ].forEach(function (name) {\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\" ].forEach(function (name) {\n@@ -977,2 +990,5 @@\n-            environment_path: input.get(\"devkit\", \"install_path\")\n-                + \"\/Xcode.app\/Contents\/Developer\/usr\/bin\"\n+            dependencies: [ \"lldb\" ],\n+            environment_path: [\n+                input.get(\"gnumake\", \"install_path\") + \"\/bin\",\n+                input.get(\"lldb\", \"install_path\") + \"\/Xcode.app\/Contents\/Developer\/usr\/bin\",\n+            ],\n@@ -1033,1 +1049,1 @@\n-        macosx_x64: \"Xcode11.3.1-MacOSX10.15+1.1\",\n+        macosx: \"Xcode12.4+1.0\",\n@@ -1046,0 +1062,2 @@\n+    } else if (input.target_os == \"macosx\") {\n+        devkit_platform = \"macosx\";\n@@ -1064,7 +1082,12 @@\n-\n-    var makeBinDir = (input.build_os == \"windows\"\n-        ? input.get(\"gnumake\", \"install_path\") + \"\/cygwin\/bin\"\n-        : input.get(\"gnumake\", \"install_path\") + \"\/bin\");\n-\n-    var dependencies = {\n-        boot_jdk: {\n+    var boot_jdk;\n+    if (boot_jdk_platform == 'osx-aarch64') {\n+        boot_jdk = {\n+            organization: common.organization,\n+            ext: \"tar.gz\",\n+            module: \"jdk-macosx_aarch64\",\n+            revision: \"16+1.0-beta1\",\n+            configure_args: \"--with-boot-jdk=\" + common.boot_jdk_home,\n+            environment_path: common.boot_jdk_home + \"\/bin\"\n+        }\n+    } else {\n+        boot_jdk = {\n@@ -1079,1 +1102,9 @@\n-        },\n+        }\n+    }\n+\n+    var makeBinDir = (input.build_os == \"windows\"\n+        ? input.get(\"gnumake\", \"install_path\") + \"\/cygwin\/bin\"\n+        : input.get(\"gnumake\", \"install_path\") + \"\/bin\");\n+\n+    var dependencies = {\n+        boot_jdk: boot_jdk,\n@@ -1098,0 +1129,7 @@\n+        lldb: {\n+            organization: common.organization,\n+            ext: \"tar.gz\",\n+            module: \"devkit-macosx\" + (input.build_cpu == \"x64\" ? \"_x64\" : \"\"),\n+            revision: (input.build_cpu == \"x64\" ? \"Xcode11.3.1-MacOSX10.15+1.1\" : devkit_platform_revisions[devkit_platform])\n+        },\n+\n","filename":"make\/conf\/jib-profiles.js","additions":55,"deletions":17,"binary":false,"changes":72,"status":"modified"}]}
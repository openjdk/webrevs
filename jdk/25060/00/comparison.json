{"files":[{"patch":"@@ -779,0 +779,1 @@\n+  assert(!is_interp_only_mode(), \"entering interp only when in interp only mode\");\n@@ -780,1 +781,1 @@\n-  _thread->increment_interp_only_mode();\n+  _thread->set_interp_only_mode();\n@@ -788,1 +789,1 @@\n-    --_saved_interp_only_mode;\n+    _saved_interp_only_mode = 0;\n@@ -790,1 +791,1 @@\n-    _thread->decrement_interp_only_mode();\n+    _thread->clear_interp_only_mode();\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -171,5 +171,1 @@\n-    MutexLocker mu(JvmtiThreadState_lock);\n-    state = current->jvmti_thread_state();\n-    if (state != nullptr && state->is_pending_interp_only_mode()) {\n-      JvmtiEventController::enter_interp_only_mode(state);\n-    }\n+    JvmtiEventController::enter_interp_only_mode(state);\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.inline.hpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1178,2 +1178,2 @@\n-  void increment_interp_only_mode()         { ++_interp_only_mode; }\n-  void decrement_interp_only_mode()         { --_interp_only_mode; }\n+  void set_interp_only_mode()               { _interp_only_mode = 1; }\n+  void clear_interp_only_mode()             { _interp_only_mode = 0; }\n","filename":"src\/hotspot\/share\/runtime\/javaThread.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
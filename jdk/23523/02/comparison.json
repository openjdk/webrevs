{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,0 @@\n-import java.awt.FlowLayout;\n@@ -28,0 +27,1 @@\n+import java.awt.GridLayout;\n@@ -29,0 +29,1 @@\n+import java.awt.Panel;\n@@ -41,1 +42,1 @@\n- * @bug 4035189\n+ * @bug 6425126\n@@ -58,7 +59,16 @@\n-                1. Select the Image for a Dialog and Frame using either\n-                   Load\/Save\/Just Dialog.\n-                2. Set the Icon Image\/s to Frame and Dialog. Verify that the\n-                   Icon is set for the respective Frame and Dialog.\n-                   If selected Icon is set to Frame and Dialog press PASS\n-                   else FAIL.\n-                                \"\"\";\n+                The 1st row of buttons in testUI are to open Load,\n+                Save and Simple Dialog respectively.\n+\n+                The rest of the buttons are to set icons to\n+                the Frame and Dialog.\n+\n+                1. Set an icon for the Frame and Dialog by clicking\n+                   on one of the set icon buttons.\n+                2. Verify that the icon is set for the Frame (testUI)\n+                   and for the Dialog (by clicking on Load, Save or\n+                   Simple Dialog button).\n+\n+                If selected icon is set to Frame and Dialog press PASS\n+                else FAIL.\n+                \"\"\";\n+\n@@ -66,1 +76,1 @@\n-                .title(\"Test Instructions\")\n+                .title(\"Test Instructions Frame\")\n@@ -76,2 +86,2 @@\n-    public static void setImagesToFD(java.util.List<Image> listIcon) {\n-        FileDialogIconTest.images = listIcon;\n+    public static void setImagesToFD(List<Image> listIcon) {\n+        images = listIcon;\n@@ -80,1 +90,1 @@\n-    public static void setImagesToFrame(java.util.List<Image> listIcon) {\n+    public static void setImagesToFrame(List<Image> listIcon) {\n@@ -85,1 +95,1 @@\n-        FileDialogIconTest.image = img;\n+        image = img;\n@@ -93,1 +103,1 @@\n-        frame = new Frame(\"FileDialogIconTest\");\n+        frame = new Frame(\"FileDialogIconTest TestUI\");\n@@ -98,2 +108,2 @@\n-        Button setImageButton5 = new Button(\"setIconBufferedImagesToDialog\");\n-        Button setImageButton6 = new Button(\"setIconBufferedImagesToFrame\");\n+        Button setImageButton5 = new Button(\"setIconBufferedImagesToFrame\");\n+        Button setImageButton6 = new Button(\"setIconBufferedImagesToDialog\");\n@@ -114,1 +124,1 @@\n-                    PassFailJFrame.log(\"Loaded image . setting to frame\");\n+                    PassFailJFrame.log(\"Loaded image. Setting to frame\");\n@@ -126,0 +136,1 @@\n+                    PassFailJFrame.log(\"Loaded image. Setting to dialog\");\n@@ -136,1 +147,1 @@\n-                    java.util.List<Image> list = new java.util.ArrayList();\n+                    List<Image> list = new ArrayList<>();\n@@ -140,1 +151,2 @@\n-                        PassFailJFrame.log(\"Loaded image \" + fileName + \". setting to the list for frame\");\n+                        PassFailJFrame.log(\"Loaded image \" + \"T\" + i + \".gif.\"\n+                                           + \" Setting to the list for frame\");\n@@ -159,1 +171,2 @@\n-                        PassFailJFrame.log(\"Loaded image \" + fileName + \". setting to the list for dialog\");\n+                        PassFailJFrame.log(\"Loaded image \" + \"T\" + i + \".gif.\"\n+                                           + \" Setting to the list for dialog\");\n@@ -172,1 +185,1 @@\n-                List<BufferedImage> list = new ArrayList<>();\n+                List<Image> list = new ArrayList<>();\n@@ -177,2 +190,3 @@\n-                        rectangle = new Rectangle(i * 10, i * 10, i * 10 + 40, i * 10 + 40);\n-                        java.awt.image.BufferedImage image = robot.createScreenCapture(rectangle);\n+                        rectangle = new Rectangle(i * 10, i * 10,\n+                                                  i * 10 + 40, i * 10 + 40);\n+                        BufferedImage image = robot.createScreenCapture(rectangle);\n@@ -182,0 +196,1 @@\n+                    setImagesToFrame(list);\n@@ -185,1 +200,1 @@\n-                PassFailJFrame.log(\"Captured images and set to the list for dialog\");\n+                PassFailJFrame.log(\"Captured images and set to the list for frame\");\n@@ -191,1 +206,1 @@\n-                List<BufferedImage> list = new ArrayList<>();\n+                List<Image> list = new ArrayList<>();\n@@ -196,2 +211,3 @@\n-                        rectangle = new Rectangle(i * 10, i * 10, i * 10 + 40, i * 10 + 40);\n-                        java.awt.image.BufferedImage image = robot.createScreenCapture(rectangle);\n+                        rectangle = new Rectangle(i * 10, i * 10,\n+                                                  i * 10 + 40, i * 10 + 40);\n+                        BufferedImage image = robot.createScreenCapture(rectangle);\n@@ -201,0 +217,1 @@\n+                    setImagesToFD(list);\n@@ -204,1 +221,1 @@\n-                PassFailJFrame.log(\"Captured images and set to the list for frame\");\n+                PassFailJFrame.log(\"Captured images and set to the list for dialog\");\n@@ -210,1 +227,1 @@\n-        Button buttonSimple = new Button(\"Just Dialog\");\n+        Button buttonSimple = new Button(\"Simple Dialog\");\n@@ -215,9 +232,17 @@\n-        frame.setSize(400, 400);\n-        frame.setLayout(new FlowLayout());\n-        frame.add(buttonLoad);\n-        frame.add(buttonSave);\n-        frame.add(buttonSimple);\n-        frame.add(setImageButton1);\n-        frame.add(setImageButton2);\n-        frame.add(setImageButton3);\n-        frame.add(setImageButton4);\n+        frame.setLayout(new GridLayout(2, 1));\n+\n+        Panel panel1 = new Panel(new GridLayout(1, 3));\n+        panel1.add(buttonLoad);\n+        panel1.add(buttonSave);\n+        panel1.add(buttonSimple);\n+\n+        Panel panel2 = new Panel(new GridLayout(3, 2));\n+        panel2.add(setImageButton1);\n+        panel2.add(setImageButton2);\n+        panel2.add(setImageButton3);\n+        panel2.add(setImageButton4);\n+        panel2.add(setImageButton5);\n+        panel2.add(setImageButton6);\n+\n+        frame.add(panel1);\n+        frame.add(panel2);\n@@ -225,0 +250,1 @@\n+\n@@ -227,1 +253,0 @@\n-}\n@@ -229,3 +254,3 @@\n-class MyActionListener implements ActionListener {\n-    int id;\n-    String name;\n+    static class MyActionListener implements ActionListener {\n+        int id;\n+        String name;\n@@ -233,4 +258,4 @@\n-    public MyActionListener(int id, String name) {\n-        this.id = id;\n-        this.name = name;\n-    }\n+        public MyActionListener(int id, String name) {\n+            this.id = id;\n+            this.name = name;\n+        }\n@@ -238,11 +263,11 @@\n-    public void actionPerformed(ActionEvent ae) {\n-        try {\n-            FileDialog filedialog;\n-            if (id == -1 && Objects.equals(name, \"\")) {\n-                filedialog = new FileDialog(FileDialogIconTest.frame);\n-            } else {\n-                filedialog = new FileDialog(FileDialogIconTest.frame, name, id);\n-            }\n-            if (FileDialogIconTest.image != null) {\n-                filedialog.setIconImage(FileDialogIconTest.image);\n-            }\n+        public void actionPerformed(ActionEvent ae) {\n+            try {\n+                FileDialog filedialog;\n+                if (id == -1 && Objects.equals(name, \"\")) {\n+                    filedialog = new FileDialog(FileDialogIconTest.frame);\n+                } else {\n+                    filedialog = new FileDialog(FileDialogIconTest.frame, name, id);\n+                }\n+                if (image != null) {\n+                    filedialog.setIconImage(image);\n+                }\n@@ -250,2 +275,6 @@\n-            if (FileDialogIconTest.images != null) {\n-                filedialog.setIconImages(FileDialogIconTest.images);\n+                if (FileDialogIconTest.images != null) {\n+                    filedialog.setIconImages(images);\n+                }\n+                filedialog.setVisible(true);\n+            } catch (Exception e) {\n+                e.printStackTrace();\n@@ -253,3 +282,0 @@\n-            filedialog.setVisible(true);\n-        } catch (Exception e) {\n-            e.printStackTrace();\n","filename":"test\/jdk\/java\/awt\/Dialog\/FileDialogIconTest\/FileDialogIconTest.java","additions":90,"deletions":64,"binary":false,"changes":154,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,1 +37,0 @@\n-import java.util.function.Predicate;\n@@ -55,0 +54,2 @@\n+ * @library \/javax\/swing\/regtesthelpers\n+ * @build Util\n@@ -231,1 +232,1 @@\n-        Component result = findComponent(container,\n+        Component result = Util.findComponent(container,\n@@ -238,1 +239,1 @@\n-        Component result = findComponent(container,\n+        Component result = Util.findComponent(container,\n@@ -242,16 +243,0 @@\n-\n-    private static Component findComponent(final Container container,\n-                                           final Predicate<Component> predicate) {\n-        for (Component child : container.getComponents()) {\n-            if (predicate.test(child)) {\n-                return child;\n-            }\n-            if (child instanceof Container cont && cont.getComponentCount() > 0) {\n-                Component result = findComponent(cont, predicate);\n-                if (result != null) {\n-                    return result;\n-                }\n-            }\n-        }\n-        return null;\n-    }\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/FileSizeCheck.java","additions":5,"deletions":20,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -34,0 +34,2 @@\n+import java.awt.Component;\n+import java.awt.Container;\n@@ -37,1 +39,0 @@\n-import java.awt.event.KeyEvent;\n@@ -75,2 +76,6 @@\n-            robot.keyPress(KeyEvent.VK_ESCAPE);\n-            robot.keyRelease(KeyEvent.VK_ESCAPE);\n+            JButton cancel = Util.invokeOnEDT(() -> findCancelButton(jfc));\n+            if (cancel == null) {\n+                throw new RuntimeException(\"Test failed! Cancel button not found\");\n+            }\n+            Point cancelLoc = Util.getCenterPoint(cancel);\n+            robot.mouseMove(cancelLoc.x, cancelLoc.y);\n@@ -124,0 +129,7 @@\n+\n+    private static JButton findCancelButton(final Container container) {\n+        Component result = Util.findComponent(container,\n+                                         c -> c instanceof JButton button\n+                                              && \"Cancel\".equals(button.getText()));\n+        return (JButton) result;\n+    }\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/bug4759934.java","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+import java.util.function.Predicate;\n@@ -149,0 +150,20 @@\n+    \/**\n+     * Find a component based on predicate.\n+     * Always run this method on the EDT thread\n+     *\/\n+    public static Component findComponent(final Container container,\n+                                           final Predicate<Component> predicate) {\n+        for (Component child : container.getComponents()) {\n+            if (predicate.test(child)) {\n+                return child;\n+            }\n+            if (child instanceof Container cont && cont.getComponentCount() > 0) {\n+                Component result = findComponent(cont, predicate);\n+                if (result != null) {\n+                    return result;\n+                }\n+            }\n+        }\n+        return null;\n+    }\n+\n","filename":"test\/jdk\/javax\/swing\/regtesthelpers\/Util.java","additions":22,"deletions":1,"binary":false,"changes":23,"status":"modified"}]}
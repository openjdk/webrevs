{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import java.util.function.Predicate;\n@@ -54,2 +55,0 @@\n- * @library \/javax\/swing\/regtesthelpers\n- * @build Util\n@@ -232,3 +231,3 @@\n-        Component result = Util.findComponent(container,\n-                                         c -> c instanceof JToggleButton button\n-                                              && \"Details\".equals(button.getToolTipText()));\n+        Component result = findComponent(container,\n+                c -> c instanceof JToggleButton button\n+                     && \"Details\".equals(button.getToolTipText()));\n@@ -239,2 +238,2 @@\n-        Component result = Util.findComponent(container,\n-                                              c -> c instanceof JTable);\n+        Component result = findComponent(container,\n+                                         c -> c instanceof JTable);\n@@ -243,0 +242,16 @@\n+\n+    private static Component findComponent(final Container container,\n+                                           final Predicate<Component> predicate) {\n+        for (Component child : container.getComponents()) {\n+            if (predicate.test(child)) {\n+                return child;\n+            }\n+            if (child instanceof Container cont && cont.getComponentCount() > 0) {\n+                Component result = findComponent(cont, predicate);\n+                if (result != null) {\n+                    return result;\n+                }\n+            }\n+        }\n+        return null;\n+    }\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/FileSizeCheck.java","additions":23,"deletions":8,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -34,2 +34,0 @@\n-import java.awt.Component;\n-import java.awt.Container;\n@@ -39,0 +37,1 @@\n+import java.awt.event.KeyEvent;\n@@ -76,4 +75,2 @@\n-            SwingUtilities.invokeAndWait(() -> {\n-                JButton cancel = findCancelButton(jfc);\n-                cancel.doClick();\n-            });\n+            robot.keyPress(KeyEvent.VK_ESCAPE);\n+            robot.keyRelease(KeyEvent.VK_ESCAPE);\n@@ -127,7 +124,0 @@\n-\n-    private static JButton findCancelButton(final Container container) {\n-        Component result = Util.findComponent(container,\n-                                              c -> c instanceof JButton button\n-                                                   && \"Cancel\".equals(button.getText()));\n-        return (JButton) result;\n-    }\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/bug4759934.java","additions":3,"deletions":13,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -24,3 +24,13 @@\n-import javax.swing.*;\n-import java.awt.*;\n-import java.awt.event.*;\n+import java.awt.AWTException;\n+import java.awt.BorderLayout;\n+import java.awt.Component;\n+import java.awt.Container;\n+import java.awt.Dialog;\n+import java.awt.Dimension;\n+import java.awt.Point;\n+import java.awt.Rectangle;\n+import java.awt.Robot;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.awt.event.InputEvent;\n+import java.awt.event.KeyEvent;\n@@ -34,0 +44,5 @@\n+import javax.swing.Box;\n+import javax.swing.JButton;\n+import javax.swing.JDialog;\n+import javax.swing.SwingUtilities;\n+\n@@ -129,2 +144,1 @@\n-     * Find a sub component by class name.\n-     * Always run this method on the EDT thread\n+     * Find a subcomponent by class name.\n@@ -133,17 +147,4 @@\n-        String parentClassName = parent.getClass().getName();\n-\n-        if (parentClassName.contains(className)) {\n-            return parent;\n-        }\n-\n-        if (parent instanceof Container) {\n-            for (Component child : ((Container) parent).getComponents()) {\n-                Component subComponent = findSubComponent(child, className);\n-\n-                if (subComponent != null) {\n-                    return subComponent;\n-                }\n-            }\n-        }\n-\n-        return null;\n+        return findComponentImpl((Container) parent,\n+                                 c -> c.getClass()\n+                                                  .getName()\n+                                                  .contains(className));\n@@ -321,2 +322,2 @@\n-        Box      buttonBox = Box.createHorizontalBox();\n-        JButton  passButton = new JButton(\"Pass\");\n+        Box buttonBox = Box.createHorizontalBox();\n+        JButton passButton = new JButton(\"Pass\");\n","filename":"test\/jdk\/javax\/swing\/regtesthelpers\/Util.java","additions":25,"deletions":24,"binary":false,"changes":49,"status":"modified"}]}
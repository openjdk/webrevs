{"files":[{"patch":"@@ -0,0 +1,87 @@\n+\/*\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.FileDialog;\n+import java.awt.Frame;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+\/*\n+ * @test\n+ * @bug 6259434\n+ * @summary PIT: Choice in FileDialog is not responding to keyboard interactions, XToolkit\n+ * @requires (os.family == \"linux\")\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual KeyboardInteractionTest\n+ *\/\n+\n+public class KeyboardInteractionTest {\n+    public static void main(String[] args) throws Exception {\n+        System.setProperty(\"sun.awt.disableGtkFileDialogs\", \"true\");\n+        String INSTRUCTIONS = \"\"\"\n+                1) Click on 'Show File Dialog' button to bring up the FileDialog window.\n+                   A file dialog will come up.\n+                2) You will see a text field 'Enter full path or filename'.\n+                   Right next to it, you will see a button.\n+                   Transfer the focus on this button using 'TAB'.\n+                   Make sure that the popup choice is not shown.\n+                3) Press 'ESC'. If file dialog isn't disposed, then the test failed.\n+                4) Again, click on 'Show File Dialog' to bring up the file dialog.\n+                   A file dialog will come up.\n+                5) You will see a text field 'Enter full path or filename'.\n+                   Right next to it, you will see a button.\n+                   Click on this button. The popup choice will appear.\n+                6) Look at the popup choice. Change the current item in the popup\n+                   choice by the arrow keys.\n+                   If the text in the 'Enter full path or filename' text field isn't\n+                   changed, then the test failed.\n+                7) The test passed.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"KeyboardInteractionTest Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(KeyboardInteractionTest::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    public static Frame createUI() {\n+        Frame f = new Frame(\"KeyboardInteractionTest Test\");\n+        Button b = new Button(\"Show File Dialog\");\n+        FileDialog fd = new FileDialog(f);\n+        b.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                fd.setVisible(true);\n+            }\n+        });\n+        f.add(b);\n+        f.setSize(300, 200);\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/FileDialog\/KeyboardInteractionTest.java","additions":87,"deletions":0,"binary":false,"changes":87,"status":"added"},{"patch":"@@ -0,0 +1,76 @@\n+\/*\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.FileDialog;\n+import java.awt.Frame;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+\/*\n+ * @test\n+ * @bug 6240084\n+ * @summary Test that disposing unfurled list by the pressing ESC\n+ *          in FileDialog is working properly on XToolkit\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual PathChoiceDisposeTest\n+ *\/\n+\n+public class PathChoiceDisposeTest {\n+    public static void main(String[] args) throws Exception {\n+        System.setProperty(\"sun.awt.disableGtkFileDialogs\",\"true\");\n+        String INSTRUCTIONS = \"\"\"\n+                1) Click on 'Show File Dialog' button to bring up the FileDialog window.\n+                2) Open the directory selection choice by clicking button next to\n+                   'Enter Path or Folder Name'. A drop-down will appear.\n+                3) Press 'ESC'.\n+                4) If you see that the dialog gets disposed and the popup\n+                   still remains on the screen, the test failed, otherwise passed.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"PathChoiceDisposeTest Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(PathChoiceDisposeTest::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    public static Frame createUI() {\n+        Frame f = new Frame(\"PathChoiceDisposeTest Test\");\n+        Button b = new Button(\"Show File Dialog\");\n+        FileDialog fd = new FileDialog(f);\n+        b.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                fd.setVisible(true);\n+            }\n+        });\n+        f.add(b);\n+        f.setSize(300, 200);\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/FileDialog\/PathChoiceDisposeTest.java","additions":76,"deletions":0,"binary":false,"changes":76,"status":"added"},{"patch":"@@ -0,0 +1,86 @@\n+\/*\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.FileDialog;\n+import java.awt.Frame;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+\/*\n+ * @test\n+ * @bug 6240074\n+ * @summary Test that file drop-down field in FileDialog is working properly on XToolkit\n+ * @requires (os.family == \"linux\")\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual PathChoiceWorkArrowsTest\n+ *\/\n+\n+public class PathChoiceWorkArrowsTest {\n+    public static void main(String[] args) throws Exception {\n+        System.setProperty(\"sun.awt.disableGtkFileDialogs\", \"true\");\n+        String INSTRUCTIONS = \"\"\"\n+                This is only XAWT test.\n+\n+                1) Click on 'Show File Dialog' to bring up the FileDialog window.\n+                   A file dialog would come up.\n+                2) Click on the button next to 'Enter folder name' field.\n+                   A drop-down will appear. After this, there are 2 scenarios.\n+                3) Press the down arrow one by one. You will see a '\/' being\n+                   appended as soon as the current entry is removed.\n+                   Keep pressing till the last entry is reached. Now the drop-down\n+                   will stop responding to arrow keys. If yes, the test failed.\n+                4) Press the up arrow. The cursor will directly go to the last\n+                   entry ('\/') and navigation will stop there. You will see 2\n+                   entries being selected at the same time.\n+                   If yes, the test failed.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"PathChoiceWorkArrowsTest Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(PathChoiceWorkArrowsTest::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    public static Frame createUI() {\n+        Frame f = new Frame(\"PathChoiceWorkArrowsTest Test\");\n+        Button b = new Button(\"Show File Dialog\");\n+        FileDialog fd = new FileDialog(f);\n+        b.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                fd.setSize(200, 200);\n+                fd.setLocation(200, 200);\n+                fd.setVisible(true);\n+            }\n+        });\n+        f.add(b);\n+        f.setSize(300, 200);\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/FileDialog\/PathChoiceWorkArrowsTest.java","additions":86,"deletions":0,"binary":false,"changes":86,"status":"added"},{"patch":"@@ -0,0 +1,87 @@\n+\/*\n+ * Copyright (c) 2005, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.FileDialog;\n+import java.awt.Frame;\n+\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+\n+import java.awt.Component;\n+\n+\/*\n+ * @test\n+ * @bug 6260650\n+ * @summary FileDialog.getDirectory() does not return null when file dialog is cancelled\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual SavedDirInitTest\n+ *\/\n+\n+public class SavedDirInitTest {\n+    public static void main(String[] args) throws Exception {\n+        String INSTRUCTIONS = \"\"\"\n+                Click on 'Show File Dialog' button to bring up the FileDialog window.\n+                1) A file dialog will come up.\n+                2) Press 'Cancel' button to cancel the file dialog.\n+                3) The result (passed or failed) will be shown in the message window below.\n+                \"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"SavedDirInitTest Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(SavedDirInitTest::createUI)\n+                .logArea(2)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    public static Frame createUI() {\n+        Frame f = new Frame(\"SavedDirInitTest Test\");\n+        Button b = new Button(\"Show File Dialog\");\n+        FileDialog fd = new FileDialog(f);\n+        b.addActionListener(new ActionListener() {\n+            @Override\n+            public void actionPerformed(ActionEvent e) {\n+                fd.setVisible(true);\n+                if (fd.getDirectory() == null && fd.getFile() == null) {\n+                    PassFailJFrame.log(\"TEST PASSED\");\n+                } else {\n+                    PassFailJFrame.log(\"TEST FAILED. dir = \" + fd.getDirectory()\n+                            + \" , file = \" + fd.getFile());\n+                }\n+                System.out.println(\"fd components count: \"+fd.getComponentCount());\n+                System.out.println(\"fd components: \"+fd.getComponents());\n+\n+                for (Component c : fd.getComponents()) {\n+                    System.out.println(\"1. fd components: \"+fd.getComponents());\n+                }\n+            }\n+        });\n+        f.add(b);\n+        f.setSize(300, 200);\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/FileDialog\/SavedDirInitTest.java","additions":87,"deletions":0,"binary":false,"changes":87,"status":"added"}]}
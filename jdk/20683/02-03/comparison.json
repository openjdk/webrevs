{"files":[{"patch":"@@ -5327,3 +5327,9 @@\n-  ALLOW_C_FUNCTION(::_fullpath, result = ::_fullpath(outbuf, filename, outbuflen);)\n-  if (result == nullptr) {\n-    errno = ENAMETOOLONG;\n+  ALLOW_C_FUNCTION(::_fullpath, char* p = ::_fullpath(nullptr, filename, 0);)\n+  if (p != nullptr) {\n+    if (strlen(p) < outbuflen) {\n+      strcpy(outbuf, p);\n+      result = outbuf;\n+    } else {\n+      errno = ENAMETOOLONG;\n+    }\n+    ALLOW_C_FUNCTION(::free, ::free(p);) \/\/ *not* os::free\n@@ -5331,1 +5337,0 @@\n-  return result;\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}
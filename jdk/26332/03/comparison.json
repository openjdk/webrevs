{"files":[{"patch":"@@ -40,0 +40,2 @@\n+import sun.java2d.Disposer;\n+import sun.java2d.DisposerRecord;\n@@ -85,1 +87,1 @@\n-    private native void deregisterDisplayReconfiguration(long context);\n+    private static native void deregisterDisplayReconfiguration(long context);\n@@ -96,0 +98,1 @@\n+    private final Object disposerReferent = new Object();\n@@ -117,0 +120,1 @@\n+        Disposer.addRecord(disposerReferent, new CGEDisposerRecord(displayReconfigContext));\n@@ -142,6 +146,8 @@\n-    @Override\n-    @SuppressWarnings(\"removal\")\n-    protected void finalize() throws Throwable {\n-        try {\n-            super.finalize();\n-        } finally {\n+    private static class CGEDisposerRecord implements DisposerRecord {\n+        private final long displayReconfigContext;\n+\n+        CGEDisposerRecord(long ptr) {\n+            displayReconfigContext = ptr;\n+        }\n+\n+        public void dispose() {\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/awt\/CGraphicsEnvironment.java","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -165,1 +165,1 @@\n-(JNIEnv *env, jobject this, jlong p)\n+(JNIEnv *env, jclass clazz, jlong p)\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/CGraphicsEnv.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -140,1 +140,1 @@\n-            } catch (Exception e) {\n+            } catch (Throwable t) {\n@@ -160,1 +160,1 @@\n-        } catch (final Exception e) {\n+        } catch (final Throwable t) {\n@@ -215,1 +215,1 @@\n-        } catch (Exception e) {\n+        } catch (Throwable t) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/Disposer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
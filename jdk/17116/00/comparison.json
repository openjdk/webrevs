{"files":[{"patch":"@@ -851,1 +851,1 @@\n-        this.sizeCtl = DEFAULT_CAPACITY;\n+        this(m.size(), LOAD_FACTOR, 1);\n@@ -1087,1 +1087,3 @@\n-        tryPresize(m.size());\n+        if (table != null) {\n+            tryPresize(m.size());\n+        }\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ConcurrentHashMap.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import org.openjdk.jmh.annotations.Param;\n@@ -51,0 +52,2 @@\n+    private Map<Integer, Integer> staticMap;\n+    private Map<Integer, Integer> dummy;\n@@ -58,0 +61,3 @@\n+    @Param(\"10000\")\n+    private int nkeys;\n+\n@@ -60,1 +66,0 @@\n-        int nkeys = 10000;\n@@ -74,0 +79,5 @@\n+\n+        staticMap = new ConcurrentHashMap<>();\n+        for (int i = 0; i < nkeys; ++i) {\n+            staticMap.put(rng.next(), rng.next());\n+        }\n@@ -109,0 +119,6 @@\n+    @Benchmark\n+    public void testCopyConstructor() {\n+        ConcurrentHashMap<Integer, Integer> clone = new ConcurrentHashMap<>(staticMap);\n+        dummy = clone;\n+    }\n+\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/util\/concurrent\/Maps.java","additions":17,"deletions":1,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -0,0 +1,50 @@\n+\/*\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4300224\n+ * @summary BasicListUI.ListDataHandler improperly updates list selection on insertion\n+ * @run main bug4300224\n+ *\/\n+\n+import javax.swing.JList;\n+import javax.swing.DefaultListModel;\n+\n+public class bug4300224 {\n+\n+    public static void main(String[] args) throws Exception {\n+        DefaultListModel<String> model = new DefaultListModel<>();\n+        JList<String> list = new JList<>(model);\n+\n+        model.addElement(\"List Item 1\");\n+        model.addElement(\"List Item 2\");\n+        model.addElement(\"List Item 3\");\n+        model.addElement(\"List Item 4\");\n+        list.setSelectedIndex(2);\n+        model.insertElementAt(\"Inserted Item\", 0);\n+        if (list.getSelectedIndex() != 3) {\n+            throw new RuntimeException(\"Inserted element improperly updates list selection\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JList\/bug4300224.java","additions":50,"deletions":0,"binary":false,"changes":50,"status":"added"},{"patch":"@@ -0,0 +1,46 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4487689\n+ * @summary JList.setSelectedValue() throws ArrayIndexOutOfBoundsException on empty list.\n+ * @run main bug4487689\n+ *\/\n+\n+import java.util.Vector;\n+import javax.swing.JList;\n+\n+public class bug4487689 {\n+\n+    public static void main(String[] args) throws Exception {\n+        JList<String> list = new JList<>(new Vector<String>());\n+\n+        list.setSelectedIndex(0);\n+        list.getSelectedValue();\n+\n+        int[] indices = {0,1};\n+        list.setSelectedIndices(indices);\n+        list.getSelectedValues();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JList\/bug4487689.java","additions":46,"deletions":0,"binary":false,"changes":46,"status":"added"},{"patch":"@@ -0,0 +1,67 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4832765\n+ * @summary JList vertical scrolling doesn't work properly.\n+ * @run main bug4832765\n+ *\/\n+\n+import java.awt.Dimension;\n+import java.awt.Rectangle;\n+import javax.swing.JFrame;\n+import javax.swing.JList;\n+import javax.swing.JScrollPane;\n+import javax.swing.SwingConstants;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4832765 {\n+\n+    static String[] data = {\"One\", \"Two\", \"Three\", \"Four\",\n+                            \"Five\", \"Six \", \"Seven\", \"Eight\",\n+                            \"Nine\", \"Ten\", \"Eleven\", \"Twelv\"};\n+\n+    public static void main(String[] argv) throws Exception {\n+        SwingUtilities.invokeAndWait(() -> {\n+            JList<String> list = new JList<>(data);\n+            list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\n+\n+            JScrollPane jsp = new JScrollPane(list);\n+            Rectangle rect = list.getCellBounds(5, 5);\n+            Dimension d = new Dimension(200, rect.height);\n+            jsp.setPreferredSize(d);\n+            jsp.setMinimumSize(d);\n+\n+            list.scrollRectToVisible(rect);\n+\n+            int unit = list.getScrollableUnitIncrement(rect,\n+                    SwingConstants.VERTICAL,\n+                    -1);\n+            if (unit <= 0) {\n+                throw new RuntimeException(\"JList scrollable unit increment\" +\n+                        \" should be greate than 0.\");\n+            }\n+        });\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JList\/bug4832765.java","additions":67,"deletions":0,"binary":false,"changes":67,"status":"added"},{"patch":"@@ -0,0 +1,87 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4802656\n+ * @summary Problem with keyboard navigation in JMenus JMenuItems if setVisible(false)\n+ * @key headful\n+ * @run main bug4802656\n+ *\/\n+\n+import java.awt.Robot;\n+import java.awt.event.KeyEvent;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4802656 {\n+\n+    public static JFrame mainFrame;\n+    public static JMenu menu2;\n+    public static volatile boolean menu2Selected = true;\n+\n+    public static void main(String[] args) throws Exception {\n+        Robot robo = new Robot();\n+        robo.setAutoDelay(100);\n+        try {\n+            SwingUtilities.invokeAndWait(() -> {\n+                mainFrame = new JFrame(\"Bug4802656\");\n+                JMenuBar menuBar = new JMenuBar();\n+                JMenu menu1 = new JMenu(\"File\");\n+                menu2 = new JMenu(\"Hidden\");\n+                JMenu menu3 = new JMenu(\"Help\");\n+                menuBar.add(menu1);\n+                menuBar.add(menu2);\n+                menuBar.add(menu3);\n+                menu2.setVisible(false);\n+                mainFrame.setJMenuBar(menuBar);\n+                mainFrame.setSize(200, 200);\n+                mainFrame.setLocationRelativeTo(null);\n+                mainFrame.setVisible(true);\n+            });\n+            robo.waitForIdle();\n+            robo.delay(1000);\n+            robo.keyPress(KeyEvent.VK_F10);\n+            robo.keyRelease(KeyEvent.VK_F10);\n+            robo.keyPress(KeyEvent.VK_RIGHT);\n+            robo.keyRelease(KeyEvent.VK_RIGHT);\n+            robo.delay(500);\n+\n+            SwingUtilities.invokeAndWait(() -> {\n+                menu2Selected = menu2.isSelected();\n+            });\n+\n+            if (menu2Selected) {\n+                throw new RuntimeException(\"Test failed\");\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (mainFrame != null) {\n+                    mainFrame.dispose();\n+                }\n+            });\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenuBar\/bug4802656.java","additions":87,"deletions":0,"binary":false,"changes":87,"status":"added"}]}
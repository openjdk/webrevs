{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,1 @@\n-#include \"runtime\/atomicAccess.hpp\"\n+#include \"runtime\/atomic.hpp\"\n@@ -492,1 +492,1 @@\n-      if (AtomicAccess::cmpxchg(top_addr(), cur_top, cur_chunk_top) == cur_top) {\n+      if (top_addr()->compare_set(cur_top, cur_chunk_top)) {\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableNUMASpace.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,0 @@\n-#include \"runtime\/atomicAccess.hpp\"\n@@ -126,1 +125,1 @@\n-  AtomicAccess::release_store(end_addr(), mr.end());\n+  _end.release_store(mr.end());\n@@ -143,1 +142,1 @@\n-  mangle_region(MemRegion(_top, _end));\n+  mangle_region(MemRegion(top(), end()));\n@@ -158,1 +157,1 @@\n-    HeapWord* obj = AtomicAccess::load_acquire(top_addr());\n+    HeapWord* obj = _top.load_acquire();\n@@ -161,5 +160,1 @@\n-      HeapWord* result = AtomicAccess::cmpxchg(top_addr(), obj, new_top);\n-      \/\/ result can be one of two:\n-      \/\/  the old top value: the exchange succeeded\n-      \/\/  otherwise: the new value of the top is returned.\n-      if (result != obj) {\n+      if (!_top.compare_set(obj, new_top)) {\n@@ -180,1 +175,1 @@\n-  return AtomicAccess::cmpxchg(top_addr(), expected_top, obj) == expected_top;\n+  return _top.compare_set(expected_top, obj);\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableSpace.cpp","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -56,2 +57,2 @@\n-  HeapWord* volatile _top;\n-  HeapWord* _end;\n+  Atomic<HeapWord*> _top;\n+  Atomic<HeapWord*> _end;\n@@ -67,0 +68,2 @@\n+  Atomic<HeapWord*>* top_addr()            { return &_top;              }\n+\n@@ -73,2 +76,2 @@\n-  HeapWord* top() const                    { return _top;    }\n-  HeapWord* end() const                    { return _end; }\n+  HeapWord* top() const                    { return _top.load_relaxed(); }\n+  HeapWord* end() const                    { return _end.load_relaxed(); }\n@@ -77,5 +80,2 @@\n-  virtual void set_top(HeapWord* value)    { _top = value;   }\n-  void set_end(HeapWord* value)            { _end = value; }\n-\n-  HeapWord* volatile* top_addr()           { return &_top; }\n-  HeapWord** end_addr()                    { return &_end; }\n+  virtual void set_top(HeapWord* value)    { _top.store_relaxed(value); }\n+  void set_end(HeapWord* value)            { _end.store_relaxed(value); }\n@@ -113,1 +113,1 @@\n-  bool contains(const void* p) const { return _bottom <= p && p < _end; }\n+  bool contains(const void* p) const { return _bottom <= p && p < end(); }\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableSpace.hpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -50,2 +50,2 @@\n-  nonstatic_field(MutableSpace,                _end,                                          HeapWord*)                             \\\n-  volatile_nonstatic_field(MutableSpace,       _top,                                          HeapWord*)                             \\\n+  nonstatic_field(MutableSpace,                _end,                                          Atomic<HeapWord*>)                     \\\n+  volatile_nonstatic_field(MutableSpace,       _top,                                          Atomic<HeapWord*>)                     \\\n","filename":"src\/hotspot\/share\/gc\/parallel\/vmStructs_parallelgc.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -904,0 +904,1 @@\n+  declare_toplevel_type(Atomic<HeapWord*>)                                \\\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
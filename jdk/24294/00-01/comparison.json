{"files":[{"patch":"@@ -80,0 +80,1 @@\n+        handlers = NATIVE.stream().collect(Collectors.toMap(v -> v, v -> new Handler()));\n@@ -84,5 +85,0 @@\n-        handlers = NATIVE.stream()\n-                .collect(Collectors.toMap(v -> v, v -> new Handler()));\n-        if (currentTypes.isEmpty()) {\n-            PackageType.throwSkippedExceptionIfNativePackagingUnavailable();\n-        }\n@@ -108,0 +104,1 @@\n+                .filter(handlers.keySet()::contains)\n@@ -462,0 +459,3 @@\n+        if (handlers.keySet().stream().noneMatch(isPackageTypeEnabled)) {\n+            PackageType.throwSkippedExceptionIfNativePackagingUnavailable();\n+        }\n@@ -464,1 +464,0 @@\n-                .filter(entry -> NATIVE.contains(entry.getKey()))\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/PackageTest.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"}]}
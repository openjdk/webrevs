{"files":[{"patch":"@@ -129,1 +129,5 @@\n-      $1_OUTPUT_DIR := $$(call FindLibDirForModule, $$(MODULE))\n+      ifeq ($$($1_TYPE), STATIC_LIBRARY)\n+        $1_OUTPUT_DIR := $$(SUPPORT_OUTPUTDIR)\/native\/$$(MODULE)\n+      else\n+        $1_OUTPUT_DIR := $$(call FindLibDirForModule, $$(MODULE))\n+      endif\n","filename":"make\/common\/JdkNativeCompilation.gmk","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -76,2 +76,0 @@\n-#   ARFLAGS the archiver flags to be used on unix platforms\n-#   LIBFLAGS the flags for the lib tool used on windows\n","filename":"make\/common\/NativeCompilation.gmk","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -154,3 +154,1 @@\n-      JDK_LIBS_linux := -ljli, \\\n-      JDK_LIBS_macosx := -ljli, \\\n-      JDK_LIBS_aix := -ljli_static, \\\n+      JDK_LIBS_unix := -ljli, \\\n@@ -180,1 +178,1 @@\n-    $$(BUILD_LAUNCHER_$1): $(call FindStaticLib, java.base, jli_static)\n+    $$(BUILD_LAUNCHER_$1): $(call FindStaticLib, java.base, jli)\n","filename":"make\/common\/modules\/LauncherCommon.gmk","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-  $1_VARDEPS := $$($1_AR) $$(ARFLAGS) $$($1_ARFLAGS) $$($1_LIBS) \\\n+  $1_VARDEPS := $$($1_AR) $$(ARFLAGS) $$($1_LIBS) \\\n@@ -119,1 +119,1 @@\n-\t    $$($1_AR) $$(ARFLAGS) $$($1_ARFLAGS) -r -cs $$($1_TARGET) \\\n+\t    $$($1_AR) $$(ARFLAGS) -r -cs $$($1_TARGET) \\\n","filename":"make\/common\/native\/Link.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-  $1_VARDEPS := $$($1_LIB) $$(LIBFLAGS) $$($1_LIBFLAGS) $$($1_LIBS) \\\n+  $1_VARDEPS := $$($1_LIB) $$(LIBFLAGS) $$($1_LIBS) \\\n@@ -53,1 +53,1 @@\n-\t    $$($1_LIB) -nologo $$(LIBFLAGS) $$($1_LIBFLAGS) -out:$$($1_TARGET) \\\n+\t    $$($1_LIB) -nologo $$(LIBFLAGS) -out:$$($1_TARGET) \\\n","filename":"make\/common\/native\/LinkMicrosoft.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -166,0 +166,5 @@\n+ifeq ($(call isTargetOs, aix), true)\n+  # AIX requires a static libjli because the compiler doesn't support '-rpath'\n+  BUILD_LIBJLI_TYPE := STATIC_LIBRARY\n+endif\n+\n@@ -168,0 +173,1 @@\n+    TYPE := $(BUILD_LIBJLI_TYPE), \\\n@@ -176,1 +182,0 @@\n-    LIBS_aix := $(LIBDL),\\\n@@ -186,23 +191,0 @@\n-\n-LIBJLI_SRC_DIRS := $(call FindSrcDirsForComponent, java.base, libjli)\n-\n-ifeq ($(call isTargetOs, aix), true)\n-  # AIX also requires a static libjli because the compiler doesn't support\n-  # '-rpath'\n-  $(eval $(call SetupNativeCompilation, BUILD_LIBJLI_STATIC, \\\n-      NAME := jli_static, \\\n-      TYPE := STATIC_LIBRARY, \\\n-      OUTPUT_DIR := $(SUPPORT_OUTPUTDIR)\/native\/$(MODULE), \\\n-      SRC := $(LIBJLI_SRC_DIRS), \\\n-      EXCLUDE_FILES := $(LIBJLI_EXCLUDE_FILES), \\\n-      EXTRA_FILES := $(LIBJLI_EXTRA_FILES), \\\n-      OPTIMIZATION := HIGH, \\\n-      CFLAGS := $(STATIC_LIBRARY_FLAGS) $(CFLAGS_JDKLIB) $(LIBJLI_CFLAGS) \\\n-          $(LIBZ_CFLAGS) $(addprefix -I, $(LIBJLI_SRC_DIRS)), \\\n-      DISABLED_WARNINGS_clang_aix := format-nonliteral \\\n-          deprecated-non-prototype, \\\n-      ARFLAGS := $(ARFLAGS), \\\n-      OBJECT_DIR := $(SUPPORT_OUTPUTDIR)\/native\/$(MODULE)\/libjli_static))\n-\n-  TARGETS += $(BUILD_LIBJLI_STATIC)\n-endif\n","filename":"make\/modules\/java.base\/lib\/CoreLibraries.gmk","additions":6,"deletions":24,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -44,3 +44,1 @@\n-    JDK_LIBS_linux := -ljli, \\\n-    JDK_LIBS_macosx := -ljli, \\\n-    JDK_LIBS_aix := -ljli_static, \\\n+    JDK_LIBS_unix := -ljli, \\\n@@ -60,1 +58,1 @@\n-  $(BUILD_LIBINSTRUMENT): $(call FindStaticLib, java.base, jli_static)\n+  $(BUILD_LIBINSTRUMENT): $(call FindStaticLib, java.base, jli)\n","filename":"make\/modules\/java.instrument\/Lib.gmk","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -97,0 +97,3 @@\n+  ifeq ($(call isTargetOs, aix), true)\n+    BUILD_JDK_JTREG_EXECUTABLES_LDFLAGS_exeJliLaunchTest := -L$(SUPPORT_OUTPUTDIR)\/native\/java.base\n+  endif\n","filename":"make\/test\/JtregNativeJdk.gmk","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
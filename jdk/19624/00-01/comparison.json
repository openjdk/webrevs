{"files":[{"patch":"@@ -1302,1 +1302,1 @@\n-                \/\/ No ACC, therefore no SM. May have a Subject.\n+                \/\/ No ACC, therefore no SM. May have a Subject:\n@@ -1428,1 +1428,1 @@\n-                \/\/ No ACC, therefore no SM:\n+                \/\/ No ACC, therefore no SM. May have a Subject:\n@@ -1435,1 +1435,1 @@\n-                \/\/ ACC not null, so SM must be allowed, and we were given a Subject:\n+                \/\/ ACC is present, we have a Subject and SM is permitted:\n@@ -1455,1 +1455,1 @@\n-                throw (SecurityException) e; \/\/ do not wrap SecurityException\n+                throw (SecurityException) e;\n@@ -1626,1 +1626,1 @@\n-                    \/\/ No ACC therefore no SM:\n+                    \/\/ No ACC, therefore no SM. May have a Subject:\n@@ -1633,2 +1633,7 @@\n-                    \/\/ We have ACC therefore SM is permitted, and Subject must be non-null:\n-                    return Subject.doAs(subject, (PrivilegedExceptionAction<T>) () -> AccessController.doPrivileged((PrivilegedExceptionAction<T>) () -> wrappedClass.cast(mo.get()), acc));\n+                    \/\/ ACC is present, we have a Subject and SM is permitted:\n+                    PrivilegedExceptionAction<T> action = new PrivilegedExceptionAction<T>() {\n+                        public T run() throws Exception {\n+                            return wrappedClass.cast(mo.get());\n+                        }\n+                    };\n+                    return AccessController.doPrivileged(action, acc);\n","filename":"src\/java.management.rmi\/share\/classes\/javax\/management\/remote\/rmi\/RMIConnectionImpl.java","additions":12,"deletions":7,"binary":false,"changes":19,"status":"modified"}]}
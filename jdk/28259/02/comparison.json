{"files":[{"patch":"@@ -110,1 +110,1 @@\n-  if (!phase->is_member(this, phase->get_ctrl(cl->loopexit()->in(CountedLoopEndNode::TestValue))))\n+  if (!phase->ctrl_is_member(this, cl->loopexit()->in(CountedLoopEndNode::TestValue)))\n@@ -614,1 +614,1 @@\n-          !loop->is_member(get_loop(get_ctrl(test_cond)))) {\n+          !ctrl_is_member(loop, test_cond)) {\n@@ -1685,1 +1685,1 @@\n-        if (is_member(outer_loop, get_ctrl(use))) {\n+        if (ctrl_is_member(outer_loop, use)) {\n@@ -1798,1 +1798,1 @@\n-      if (!is_member(outer_loop, get_ctrl(store->in(MemNode::Memory)))) {\n+      if (!ctrl_is_member(outer_loop, store->in(MemNode::Memory))) {\n@@ -3288,1 +3288,1 @@\n-  if (!phase->is_member(this, phase->get_ctrl(cl->loopexit()->in(CountedLoopEndNode::TestValue)))) {\n+  if (!phase->ctrl_is_member(this, cl->loopexit()->in(CountedLoopEndNode::TestValue))) {\n@@ -3379,1 +3379,1 @@\n-  if (phase->is_member(this, phase->get_ctrl(cl->limit()))) {\n+  if (phase->ctrl_is_member(this, cl->limit())) {\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -466,1 +466,1 @@\n-  if (!is_member(loop, get_ctrl(incr))) { \/\/ Swapped trip counter and limit?\n+  if (!ctrl_is_member(loop, incr)) { \/\/ Swapped trip counter and limit?\n@@ -472,1 +472,1 @@\n-  if (is_member(loop, get_ctrl(limit))) { \/\/ Limit must be loop-invariant\n+  if (ctrl_is_member(loop, limit)) { \/\/ Limit must be loop-invariant\n@@ -475,1 +475,1 @@\n-  if (!is_member(loop, get_ctrl(incr))) { \/\/ Trip counter must be loop-variant\n+  if (!ctrl_is_member(loop, incr)) { \/\/ Trip counter must be loop-variant\n@@ -488,1 +488,1 @@\n-    if (!is_member(loop, get_ctrl(incr))) { \/\/ Trip counter must be loop-variant\n+    if (!ctrl_is_member(loop, incr)) { \/\/ Trip counter must be loop-variant\n@@ -1798,1 +1798,1 @@\n-      if (loop->is_member(get_loop(get_ctrl(in)))) {\n+      if (ctrl_is_member(loop, in)) {\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1379,1 +1379,1 @@\n-  IdealLoopTree *get_loop( Node *n ) const {\n+  IdealLoopTree* get_loop(const Node* n) const {\n@@ -1389,2 +1389,8 @@\n-  int is_member( const IdealLoopTree *loop, Node *n ) const {\n-    return loop->is_member(get_loop(n)); }\n+  bool is_member(const IdealLoopTree* loop, const Node* n) const {\n+    return loop->is_member(get_loop(n));\n+  }\n+\n+  \/\/ is the control for 'n' a (nested) member of 'loop'?\n+  bool ctrl_is_member(const IdealLoopTree* loop, const Node* n) {\n+    return is_member(loop, get_ctrl(n));\n+  }\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -640,1 +640,1 @@\n-        if (is_member(n_loop,get_ctrl(V))) {\n+        if (ctrl_is_member(n_loop, V)) {\n@@ -644,1 +644,1 @@\n-        if (!is_member(n_loop,get_ctrl(I))) {\n+        if (!ctrl_is_member(n_loop, I)) {\n@@ -940,2 +940,0 @@\n-    IdealLoopTree* address_loop = get_loop(get_ctrl(address));\n-    IdealLoopTree* value_loop = get_loop(get_ctrl(value));\n@@ -960,2 +958,2 @@\n-    if (!n_loop->is_member(address_loop) &&\n-        !n_loop->is_member(value_loop) &&\n+    if (!ctrl_is_member(n_loop, address) &&\n+        !ctrl_is_member(n_loop, value) &&\n@@ -1024,1 +1022,0 @@\n-      IdealLoopTree* address_loop = get_loop(get_ctrl(address));\n@@ -1026,1 +1023,1 @@\n-      if (!n_loop->is_member(address_loop)) {\n+      if (!ctrl_is_member(n_loop, address)) {\n@@ -1033,2 +1030,1 @@\n-            IdealLoopTree *u_loop = get_loop(get_ctrl(u));\n-            if (!n_loop->is_member(u_loop)) {\n+            if (!ctrl_is_member(n_loop, u)) {\n@@ -1841,1 +1837,1 @@\n-              if (in != nullptr && n_loop->is_member(get_loop(get_ctrl(in)))) {\n+              if (in != nullptr && ctrl_is_member(n_loop, in)) {\n@@ -2369,5 +2365,3 @@\n-      Node* c = phase->get_ctrl(u);\n-      IdealLoopTree* u_loop = phase->get_loop(c);\n-      assert(!loop->is_member(u_loop) || !loop->_body.contains(u), \"can be in outer loop or out of both loops only\");\n-      if (!loop->is_member(u_loop)) {\n-        if (outer_loop->is_member(u_loop)) {\n+      assert(!phase->ctrl_is_member(loop, u) || !loop->_body.contains(u), \"can be in outer loop or out of both loops only\");\n+      if (!phase->ctrl_is_member(loop, u)) {\n+        if (phase->ctrl_is_member(outer_loop, u)) {\n@@ -2852,1 +2846,1 @@\n-  if (is_member(get_loop(iff), get_ctrl(cmp->in(2)))) {\n+  if (ctrl_is_member(get_loop(iff), cmp->in(2))) {\n","filename":"src\/hotspot\/share\/opto\/loopopts.cpp","additions":11,"deletions":17,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1004,1 +1004,1 @@\n-  return _phase->is_member(_ilt, _phase->get_ctrl(node));\n+  return _phase->ctrl_is_member(_ilt, node);\n","filename":"src\/hotspot\/share\/opto\/predicates.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -78,2 +78,1 @@\n-    Node* ctrl = _vloop.phase()->get_ctrl(n);\n-    if (_vloop.lpt()->is_member(_vloop.phase()->get_loop(ctrl))) {\n+    if (_vloop.phase()->ctrl_is_member(_vloop.lpt(), n)) {\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
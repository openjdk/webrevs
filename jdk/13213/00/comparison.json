{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,2 @@\n+import jdk.internal.util.OperatingSystem;\n+\n@@ -682,2 +684,1 @@\n-                    if (System.getProperties().getProperty(\"os.name\")\n-                            .startsWith(\"Linux\")) {\n+                    if (OperatingSystem.isLinux()) {\n@@ -717,2 +718,1 @@\n-                    if (System.getProperties().getProperty(\"os.name\")\n-                            .startsWith(\"Windows\")) {\n+                    if (OperatingSystem.isWindows()) {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftSynthesizer.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,0 @@\n-import java.security.AccessController;\n@@ -48,0 +47,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -49,1 +49,0 @@\n-import sun.awt.OSInfo;\n@@ -292,2 +291,1 @@\n-            if ((AccessController.doPrivileged(OSInfo.getOSTypeAction()) ==\n-                OSInfo.OSType.MACOSX) && (owner != null) &&\n+            if (OperatingSystem.isMacOS() && (owner != null) &&\n@@ -1033,1 +1031,0 @@\n-\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/PopupFactory.java","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,0 +56,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -57,1 +58,0 @@\n-import sun.awt.OSInfo;\n@@ -383,3 +383,1 @@\n-        @SuppressWarnings(\"removal\")\n-        OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());\n-        if (osType == OSInfo.OSType.WINDOWS) {\n+        if (OperatingSystem.isWindows()) {\n@@ -394,1 +392,1 @@\n-        else if (osType == OSInfo.OSType.MACOSX) {\n+        else if (OperatingSystem.isMacOS()) {\n@@ -662,3 +660,1 @@\n-        @SuppressWarnings(\"removal\")\n-        OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());\n-        if (osType == OSInfo.OSType.WINDOWS) {\n+        if (OperatingSystem.isWindows()) {\n@@ -676,1 +672,1 @@\n-            if (osType == OSInfo.OSType.MACOSX) {\n+            if (OperatingSystem.isMacOS()) {\n@@ -1292,2 +1288,1 @@\n-                    OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());\n-                    if (osType == OSInfo.OSType.MACOSX) {\n+                    if (OperatingSystem.isMacOS()) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/UIManager.java","additions":7,"deletions":12,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -121,3 +122,1 @@\n-            @SuppressWarnings(\"removal\")\n-            OSInfo.OSType osType = AccessController.doPrivileged(OSInfo.getOSTypeAction());\n-            if (osType == OSInfo.OSType.WINDOWS) {\n+            if (OperatingSystem.isWindows()) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalLookAndFeel.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,0 +52,1 @@\n+\n@@ -58,0 +59,2 @@\n+import jdk.internal.util.OperatingSystem;\n+\n@@ -133,2 +136,1 @@\n-            String osName = getSystemProperty(\"os.name\");\n-            boolean isWindows = osName != null && osName.contains(\"Windows\");\n+            boolean isWindows = OperatingSystem.isWindows();\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/NimbusLookAndFeel.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,1 @@\n+\n@@ -54,0 +55,2 @@\n+import jdk.internal.util.OperatingSystem;\n+\n@@ -1370,10 +1373,0 @@\n-        \/\/This method will only be called during build time, do we\n-        \/\/need do PrivilegedAction?\n-        @SuppressWarnings(\"removal\")\n-        String osName = java.security.AccessController.doPrivileged(\n-                            new java.security.PrivilegedAction<String>() {\n-            public String run() {\n-                return System.getProperty(\"os.name\");\n-            }\n-        });\n-\n@@ -1386,1 +1379,1 @@\n-                if (osName.contains(\"Windows\")) {\n+                if (OperatingSystem.isWindows()) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/FontConfiguration.java","additions":5,"deletions":12,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -96,2 +96,0 @@\n-                    String arch = System.getProperty(\"os.arch\");\n-\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/ImagingLib.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,2 @@\n-import sun.awt.OSInfo;\n+\n+import jdk.internal.util.OperatingSystem;\n@@ -296,1 +297,1 @@\n-        if (f.equals(canonical) || OSInfo.getOSType() == OSInfo.OSType.WINDOWS) {\n+        if (f.equals(canonical) || OperatingSystem.isWindows()) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/shell\/ShellFolder.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n-import sun.java2d.SunGraphicsEnvironment;\n+import jdk.internal.util.OperatingSystem;\n@@ -38,1 +38,1 @@\n-               if (System.getProperty(\"os.name\").startsWith(\"Windows\")) {\n+               if (OperatingSystem.isWindows()) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/FontManagerNativeLibrary.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -67,1 +68,0 @@\n-                String osName = System.getProperty(\"os.name\", \"unknownOS\");\n@@ -69,1 +69,1 @@\n-                isLinux = osName.startsWith(\"Linux\");\n+                isLinux = OperatingSystem.isLinux();\n@@ -71,1 +71,1 @@\n-                isMacOSX = osName.contains(\"OS X\"); \/\/ TODO: MacOSX\n+                isMacOSX = OperatingSystem.isMacOS(); \/\/ TODO: MacOSX\n@@ -103,1 +103,1 @@\n-                isWindows = osName.startsWith(\"Windows\");\n+                isWindows = OperatingSystem.isWindows();\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/FontUtilities.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,0 +83,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -347,2 +348,1 @@\n-                String osName = System.getProperty(\"os.name\");\n-                isMac = osName.startsWith(\"Mac\");\n+                isMac = OperatingSystem.isMacOS();\n@@ -1626,2 +1626,2 @@\n-        String osname = System.getProperty(\"os.name\");\n-        if (osname.equals(\"Linux\") || osname.contains(\"OS X\")) {\n+        if (OperatingSystem.isLinux() ||\n+                OperatingSystem.isMacOS()) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PSPrinterJob.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,2 +39,0 @@\n-import java.security.AccessController;\n-import java.security.PrivilegedAction;\n@@ -56,0 +54,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -81,1 +80,1 @@\n-        boolean isXPPlatform = (OSInfo.getOSType() == OSInfo.OSType.WINDOWS &&\n+        boolean isXPPlatform = (OperatingSystem.isWindows() &&\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/WindowsPlacesBar.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -316,1 +317,1 @@\n-        if (!osName.equals(\"Linux\")) {\n+        if (!OperatingSystem.isLinux()) {\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/FcFontConfiguration.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,0 +56,1 @@\n+import jdk.internal.util.OperatingSystem;\n@@ -79,4 +80,0 @@\n-    @SuppressWarnings(\"removal\")\n-    static String osname = java.security.AccessController.doPrivileged(\n-            new sun.security.action.GetPropertyAction(\"os.name\"));\n-\n@@ -153,5 +150,1 @@\n-        return osname.startsWith(\"Mac\");\n-    }\n-\n-    static boolean isLinux() {\n-        return (osname.equals(\"Linux\"));\n+        return OperatingSystem.isMacOS();\n@@ -161,2 +154,2 @@\n-        return (osname.equals(\"Linux\") ||\n-                osname.contains(\"OS X\"));\n+        return (OperatingSystem.isLinux() ||\n+                OperatingSystem.isMacOS());\n@@ -166,1 +159,1 @@\n-        return osname.equals(\"AIX\");\n+        return OperatingSystem.isAix();\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/PrintServiceLookupProvider.java","additions":6,"deletions":13,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -102,0 +102,2 @@\n+import jdk.internal.util.OperatingSystem;\n+\n@@ -162,1 +164,1 @@\n-        return OSInfo.getOSType() == OSInfo.OSType.WINDOWS;\n+        return OperatingSystem.isWindows();\n@@ -595,1 +597,1 @@\n-                (OSInfo.getOSType() == OSInfo.OSType.WINDOWS &&\n+                (OperatingSystem.isWindows() &&\n@@ -1592,1 +1594,1 @@\n-        return OSInfo.getOSType() == OSInfo.OSType.WINDOWS\n+        return OperatingSystem.isWindows()\n@@ -1597,1 +1599,1 @@\n-        return OSInfo.getOSType() == OSInfo.OSType.WINDOWS\n+        return OperatingSystem.isWindows()\n@@ -2127,1 +2129,1 @@\n-            if (OSInfo.getOSType() == OSInfo.OSType.WINDOWS &&\n+            if (OperatingSystem.isWindows() &&\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsLookAndFeel.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"}]}
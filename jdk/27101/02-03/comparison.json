{"files":[{"patch":"@@ -452,0 +452,1 @@\n+#ifdef ASSERT\n@@ -454,3 +455,4 @@\n-    assert((entry_offset[i] > 0 && entry_offset[i] < cb->insts()->size()) ||\n-           (entry_offset[i] == -1),\n-           \"invalid entry offset[%d] = 0x%x\", i, entry_offset[i]);\n+    int offset = entry_offset[i];\n+    assert((offset > 0 && offset < cb->insts()->size()) ||\n+           (i >= C2I_No_Clinit_Check && offset == -1),\n+           \"invalid entry offset[%d] = 0x%x\", i, offset);\n@@ -458,0 +460,1 @@\n+#endif \/\/ ASSERT\n","filename":"src\/hotspot\/share\/code\/codeBlob.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -3408,1 +3408,1 @@\n-  if (get_i2c_entry() != nullptr) {\n+  if (adapter_blob() != nullptr) {\n@@ -3410,2 +3410,0 @@\n-  }\n-  if (get_c2i_entry() != nullptr) {\n@@ -3413,2 +3411,0 @@\n-  }\n-  if (get_c2i_unverified_entry() != nullptr) {\n@@ -3416,3 +3412,3 @@\n-  }\n-  if (get_c2i_no_clinit_check_entry() != nullptr) {\n-    st->print(\" c2iNCI: \" INTPTR_FORMAT, p2i(get_c2i_no_clinit_check_entry()));\n+    if (get_c2i_no_clinit_check_entry() != nullptr) {\n+      st->print(\" c2iNCI: \" INTPTR_FORMAT, p2i(get_c2i_no_clinit_check_entry()));\n+    }\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -736,4 +736,39 @@\n-  address get_i2c_entry()                  const { return _adapter_blob != nullptr ? _adapter_blob->i2c_entry() : nullptr; }\n-  address get_c2i_entry()                  const { return _adapter_blob != nullptr ? _adapter_blob->c2i_entry() : nullptr; }\n-  address get_c2i_unverified_entry()       const { return _adapter_blob != nullptr ? _adapter_blob->c2i_unverified_entry() : nullptr; }\n-  address get_c2i_no_clinit_check_entry()  const { return _adapter_blob != nullptr ? _adapter_blob->c2i_no_clinit_check_entry() : nullptr; }\n+  address get_i2c_entry() const {\n+#ifndef ZERO\n+    assert(_adapter_blob != nullptr, \"must be\");\n+    return _adapter_blob->i2c_entry();\n+#else\n+    ShouldNotReachHere();\n+    return nullptr;\n+#endif \/\/ ZERO\n+  }\n+\n+  address get_c2i_entry() const {\n+#ifndef ZERO\n+    assert(_adapter_blob != nullptr, \"must be\");\n+    return _adapter_blob->c2i_entry();\n+#else\n+    ShouldNotReachHere();\n+    return nullptr;\n+#endif \/\/ ZERO\n+  }\n+\n+  address get_c2i_unverified_entry() const {\n+#ifndef ZERO\n+    assert(_adapter_blob != nullptr, \"must be\");\n+    return _adapter_blob->c2i_unverified_entry();\n+#else\n+    ShouldNotReachHere();\n+    return nullptr;\n+#endif \/\/ ZERO\n+  }\n+\n+  address get_c2i_no_clinit_check_entry()  const {\n+#ifndef ZERO\n+    assert(_adapter_blob != nullptr, \"must be\");\n+    return _adapter_blob->c2i_no_clinit_check_entry();\n+#else\n+    ShouldNotReachHere();\n+    return nullptr;\n+#endif \/\/ ZERO\n+  }\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.hpp","additions":39,"deletions":4,"binary":false,"changes":43,"status":"modified"}]}
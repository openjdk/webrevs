{"files":[{"patch":"@@ -3070,0 +3070,12 @@\n+#if defined(AMD64)\n+  \/\/ Unfortunately we have to bring all these macros here from vsyscall.h\n+  \/\/ to be able to compile on old linuxes.\n+  #define __NR_vgetcpu 2\n+  #define VSYSCALL_START (-10UL << 20)\n+  #define VSYSCALL_SIZE 1024\n+  #define VSYSCALL_ADDR(vsyscall_nr) (VSYSCALL_START+VSYSCALL_SIZE*(vsyscall_nr))\n+  typedef long (*vgetcpu_t)(unsigned int *cpu, unsigned int *node, unsigned long *tcache);\n+  vgetcpu_t vgetcpu = (vgetcpu_t)VSYSCALL_ADDR(__NR_vgetcpu);\n+  retval = vgetcpu(&cpu, nullptr, nullptr);\n+#endif\n+\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"}]}
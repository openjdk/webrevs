[{"commit":{"message":"Add flag in debug builds and nothing in release builds"},"files":[{"filename":"make\/autoconf\/flags-cflags.m4"}],"sha":"242ba542d4e5116b8e17fd774c3c6b3188b8e6ed"},{"commit":{"message":"Merge branch 'master' into switch-pattern-to-zero"},"files":[],"sha":"d9809e7c54f87c9e862b6125693ca4d26bc73622"},{"commit":{"message":"8365312: __builtin_clear_padding not supported for variable length aggregates\n\n`-ftrivial-auto-var-init=pattern` [1] supported by gcc-12 was added\nrecently to help detect uses of uninitialized memory. [2] Under\nthis extension mode, `__builtin_clear_padding` is called to clear\nthe padding bits in object representation. But the builtin function\ndoes not support variable length aggregates [3].\n\n`vfloat2_sve_sleef` is a typedef of `svfloat32x2_t`, which is\ndefined as an opaque sizeless type in ARM C Language Extensions\n(ACLE) [4]. When `__builtin_clear_padding` is applied to such a type,\nit triggers the unsupported code path and results in build failures\nwhen compiling libsleef on Linux-AArch64, as reported in JDK-8364185 [5].\n\nSwitching the initialization mode with gcc-12 from `pattern` to `zero`\navoids the use of this unsupported `__builtin_clear_padding` and\nresolves the issue.\n\nI did not encounter similar problems when building with Clang-16 [6].\n\nThis patch changes the initialization mode from `pattern` to `zero`\nwhen compiling libsleef SVE component on Linux-AArch64 with gcc-12\nto fix the build failure and help avoid potential security issues\nrelated to uninitialized padding\n\nTesting (combined with https:\/\/github.com\/openjdk\/jdk\/pull\/26577):\n1. Release and fastdebug build with gcc-11, gcc-12, and clang-16\n2. `test\/jdk\/jdk\/incubator\/vector` passed on both 256-bit SVE and\n   NEON machines\n\n[1] https:\/\/gcc.gnu.org\/onlinedocs\/gcc-12.1.0\/gcc\/Optimize-Options.html#index-ftrivial-auto-var-init\n[2] https:\/\/github.com\/openjdk\/jdk\/commit\/fae37aaae8b36fd74309b84fa1fdf017c7d932ed\n[3] https:\/\/gcc.gnu.org\/pipermail\/gcc-patches\/2020-November\/559214.html\n[4] https:\/\/arm-software.github.io\/acle\/main\/acle.html#arm_sveh\n[5] https:\/\/bugs.openjdk.org\/browse\/JDK-8364185\n[6] https:\/\/releases.llvm.org\/16.0.0\/tools\/clang\/docs\/ReleaseNotes.html"},"files":[{"filename":"make\/autoconf\/flags-cflags.m4"}],"sha":"e8bfe2b5704506eaf54dc00017c861bbf07b3036"}]
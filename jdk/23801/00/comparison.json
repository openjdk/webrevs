{"files":[{"patch":"@@ -79,2 +79,1 @@\n-        @JEP(number=494, title=\"Module Import Declarations\", status=\"Second Preview\")\n-        MODULE_IMPORTS,\n+        MODULE_IMPORTS, \/\/remove when the boot JDK is JDK 25\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/javac\/PreviewFeature.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -28,2 +28,0 @@\n-import jdk.internal.javac.PreviewFeature;\n-\n@@ -52,0 +50,1 @@\n+\n@@ -54,1 +53,1 @@\n-     * @since 23\n+     * @since 25\n@@ -56,1 +55,0 @@\n-    @PreviewFeature(feature=PreviewFeature.Feature.MODULE_IMPORTS, reflective=true)\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/source\/tree\/ImportTree.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -234,2 +234,0 @@\n-            case MODULE_IMPORTS -> true;\n-            case JAVA_BASE_TRANSITIVE -> true;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Preview.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -270,2 +270,2 @@\n-        MODULE_IMPORTS(JDK23, Fragments.FeatureModuleImports, DiagKind.PLURAL),\n-        JAVA_BASE_TRANSITIVE(JDK24, Fragments.FeatureJavaBaseTransitive, DiagKind.PLURAL),\n+        MODULE_IMPORTS(JDK25, Fragments.FeatureModuleImports, DiagKind.PLURAL),\n+        JAVA_BASE_TRANSITIVE(JDK25, Fragments.FeatureJavaBaseTransitive, DiagKind.PLURAL),\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Source.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import jdk.internal.javac.PreviewFeature;\n@@ -222,1 +221,1 @@\n-         * @since 23\n+         * @since 25\n@@ -224,1 +223,0 @@\n-        @PreviewFeature(feature=PreviewFeature.Feature.MODULE_IMPORTS, reflective=true)\n","filename":"src\/jdk.jshell\/share\/classes\/jdk\/jshell\/Snippet.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -95,1 +95,0 @@\n-                .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -104,1 +103,0 @@\n-                    .vmOptions(\"--enable-preview\")\n@@ -120,1 +118,0 @@\n-                .options(\"--enable-preview\", \"--source\", SOURCE_VERSION)\n@@ -129,1 +126,0 @@\n-                    .vmOptions(\"--enable-preview\")\n@@ -164,1 +160,1 @@\n-                    .options(\"--release\", \"21\", \"-XDrawDiagnostics\")\n+                    .options(\"--release\", \"24\", \"-XDrawDiagnostics\")\n@@ -172,1 +168,1 @@\n-                \"Test.java:2:8: compiler.err.preview.feature.disabled.plural: (compiler.misc.feature.module.imports)\",\n+                \"Test.java:2:8: compiler.err.feature.not.supported.in.source.plural: (compiler.misc.feature.module.imports), 24, 25\",\n@@ -178,1 +174,1 @@\n-                                      \", actual: \" + out);\n+                                      \", actual: \" + actualErrors);\n@@ -181,17 +177,0 @@\n-        actualErrors =\n-                new JavacTask(tb)\n-                    .options(\"-XDrawDiagnostics\")\n-                    .outdir(classes)\n-                    .files(tb.findJavaFiles(src))\n-                    .run(Task.Expect.FAIL)\n-                    .writeAll()\n-                    .getOutputLines(Task.OutputKind.DIRECT);\n-\n-        expectedErrors = List.of(\n-                \"Test.java:2:8: compiler.err.preview.feature.disabled.plural: (compiler.misc.feature.module.imports)\",\n-                \"1 error\"\n-        );\n-\n-        if (!Objects.equals(expectedErrors, actualErrors)) {\n-            throw new AssertionError(\"Incorrect Output, expected: \" + expectedErrors +\n-                                      \", actual: \" + out);\n@@ -199,1 +178,6 @@\n-        }\n+        new JavacTask(tb)\n+            .options(\"-XDrawDiagnostics\")\n+            .outdir(classes)\n+            .files(tb.findJavaFiles(src))\n+            .run()\n+            .writeAll();\n@@ -223,2 +207,1 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                     \"-XDrawDiagnostics\")\n+            .options(\"-XDrawDiagnostics\")\n@@ -243,1 +226,0 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -261,1 +243,0 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -277,1 +258,0 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -295,2 +275,1 @@\n-                    .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                             \"-XDrawDiagnostics\")\n+                    .options(\"-XDrawDiagnostics\")\n@@ -305,2 +284,0 @@\n-                \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -328,1 +305,0 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -390,2 +366,1 @@\n-                    .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                             \"-p\", libClasses.toString(),\n+                    .options(\"-p\", libClasses.toString(),\n@@ -402,2 +377,0 @@\n-                \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -415,2 +388,1 @@\n-                    .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                             \"-p\", libClasses.toString(),\n+                    .options(\"-p\", libClasses.toString(),\n@@ -428,2 +400,0 @@\n-                \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -447,2 +417,1 @@\n-                    .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                             \"-p\", libClasses.toString(),\n+                    .options(\"-p\", libClasses.toString(),\n@@ -460,2 +429,0 @@\n-                \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -542,2 +509,1 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                     \"--module-source-path\", libSrc.toString(),\n+            .options(\"--module-source-path\", libSrc.toString(),\n@@ -594,2 +560,1 @@\n-                    .options(\"--enable-preview\", \"--release\", SOURCE_VERSION,\n-                             \"--module-path\", libClasses.toString(),\n+                    .options(\"--module-path\", libClasses.toString(),\n@@ -614,2 +579,0 @@\n-                \"- compiler.note.preview.plural: DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -643,1 +606,0 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -702,1 +664,0 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n@@ -724,1 +685,1 @@\n-            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION)\n+            .options(\"--enable-preview\", \"--release\", SOURCE_VERSION) \/\/for implicitly declared classes\n@@ -764,2 +725,1 @@\n-                .options(\"-XDrawDiagnostics\",\n-                        \"--enable-preview\", \"--release\", SOURCE_VERSION)\n+                .options(\"-XDrawDiagnostics\")\n@@ -775,2 +735,0 @@\n-                \"- compiler.note.preview.filename: module-info.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -819,1 +777,1 @@\n-                \"Test.java:2:8: compiler.err.preview.feature.disabled.plural: (compiler.misc.feature.module.imports)\",\n+                \"Test.java:2:8: compiler.err.feature.not.supported.in.source.plural: (compiler.misc.feature.module.imports), 8, 25\",\n@@ -828,1 +786,1 @@\n-                                      \", actual: \" + out);\n+                                      \", actual: \" + actualErrors);\n@@ -881,1 +839,0 @@\n-                         \"--enable-preview\", \"--release\", SOURCE_VERSION,\n@@ -891,2 +848,0 @@\n-                \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n@@ -917,1 +872,0 @@\n-                         \"--enable-preview\", \"--release\", SOURCE_VERSION,\n@@ -1004,1 +958,2 @@\n-                .options(\"-XDrawDiagnostics\")\n+                .options(\"-XDrawDiagnostics\",\n+                         \"--release\", \"24\")\n@@ -1012,1 +967,1 @@\n-                \"module-info.java:2:4: compiler.err.preview.feature.disabled.plural: (compiler.misc.feature.java.base.transitive)\",\n+                \"module-info.java:2:4: compiler.err.feature.not.supported.in.source.plural: (compiler.misc.feature.java.base.transitive), 24, 25\",\n@@ -1037,2 +992,1 @@\n-            .options(\"-XDrawDiagnostics\",\n-                     \"--enable-preview\", \"--release\", SOURCE_VERSION)\n+            .options(\"-XDrawDiagnostics\")\n@@ -1046,1 +1000,1 @@\n-        if (ClassFile.of().parse(maModuleInfo2).minorVersion() != ClassFile.PREVIEW_MINOR_VERSION) {\n+        if (ClassFile.of().parse(maModuleInfo2).minorVersion() != 0) {\n","filename":"test\/langtools\/tools\/javac\/ImportModule.java","additions":25,"deletions":71,"binary":false,"changes":96,"status":"modified"},{"patch":"@@ -25,2 +25,2 @@\n- \/\/ key: compiler.warn.preview.feature.use.plural\n- \/\/ options: --release ${jdk.version} --enable-preview -Xlint:preview\n+ \/\/ key: compiler.err.feature.not.supported.in.source.plural\n+ \/\/ options: --release 24 -Xlint:preview\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImportModule.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -25,3 +25,1 @@\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --release ${jdk.version} --enable-preview\n+\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImportModuleDoesNotRead\/module-info.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -25,3 +25,1 @@\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --release ${jdk.version} --enable-preview --limit-modules java.base\n+\/\/ options: --limit-modules java.base\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImportModuleDoesNotReadUnnamed.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -25,3 +25,0 @@\n- \/\/ key: compiler.note.preview.filename\n- \/\/ key: compiler.note.preview.recompile\n- \/\/ options: --release ${jdk.version} --enable-preview\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImportModuleNotFound.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-\/\/ key: compiler.err.preview.feature.disabled.plural\n+\/\/ key: compiler.err.feature.not.supported.in.source.plural\n@@ -26,0 +26,1 @@\n+\/\/ options: --release 24\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ModifierNotAllowed\/module-info.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -451,1 +451,0 @@\n-                         \"--enable-preview\", \"--source\", System.getProperty(\"java.specification.version\"),\n@@ -461,2 +460,0 @@\n-                \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n-                \"- compiler.note.preview.recompile\",\n","filename":"test\/langtools\/tools\/javac\/modules\/ConvenientAccessErrorsTest.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1181,1 +1181,2 @@\n-            .options(\"-XDrawDiagnostics\", \"-XDshould-stop.at=FLOW\")\n+            .options(\"-XDrawDiagnostics\", \"-XDshould-stop.at=FLOW\",\n+                     \"--release\", \"24\")\n@@ -1189,1 +1190,1 @@\n-                \"Test.java:2:8: compiler.err.preview.feature.disabled.plural: (compiler.misc.feature.module.imports)\",\n+                \"Test.java:2:8: compiler.err.feature.not.supported.in.source.plural: (compiler.misc.feature.module.imports), 24, 25\",\n","filename":"test\/langtools\/tools\/javac\/modules\/EdgeCases.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-                expectOK = false;\n+                expectOK = true;\n@@ -169,1 +169,1 @@\n-                    : \"compiler.err.preview.feature.disabled.plural: (compiler.misc.feature.java.base.transitive)\";\n+                    : \"compiler.err.feature.not.supported.in.source.plural: (compiler.misc.feature.java.base.transitive), $(VERSION), 25\".replace(\"$(VERSION)\", target);\n","filename":"test\/langtools\/tools\/javac\/modules\/JavaBaseTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -95,1 +95,0 @@\n-                                \"java.base\/jdk.internal.javac\",\n","filename":"test\/langtools\/tools\/jdeps\/listdeps\/ListModuleDeps.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -6060,0 +6060,1 @@\n+                MTD_int_TemporalField         = MethodTypeDesc.of(CD_int, CD_TemporalField),\n@@ -6424,1 +6425,0 @@\n-                    cb.invokeinterface(CD_TemporalAccessor, \"getLong\", MTD_long_TemporalField);\n@@ -6428,18 +6428,9 @@\n-                    if (pp.field instanceof ChronoField chronoField) {\n-                        boolean formatInt = switch (chronoField) {\n-                            case YEAR,\n-                                 YEAR_OF_ERA,\n-                                 MONTH_OF_YEAR,\n-                                 DAY_OF_YEAR,\n-                                 DAY_OF_MONTH,\n-                                 HOUR_OF_DAY,\n-                                 MINUTE_OF_HOUR,\n-                                 SECOND_OF_MINUTE,\n-                                 NANO_OF_SECOND -> true;\n-                            default             -> false;\n-                        };\n-                        if (formatInt) {\n-                            cb.l2i();\n-                            formatMethod = formatMethod(pp);\n-                            mtd = MTD_formatValue_int;\n-                        }\n+                    boolean formatInt = pp.field != ChronoField.NANO_OF_DAY\n+                                     && pp.field != ChronoField.MICRO_OF_DAY\n+                                     && pp.field != ChronoField.INSTANT_SECONDS;\n+                    if (formatInt) {\n+                        cb.invokeinterface(CD_TemporalAccessor, \"get\", MTD_int_TemporalField)\n+                          .invokevirtual(CD_NumberPrinterParser, formatMethod(pp), MTD_formatValue_int);\n+                    } else {\n+                        cb.invokeinterface(CD_TemporalAccessor, \"getLong\", MTD_long_TemporalField)\n+                          .invokevirtual(CD_NumberPrinterParser, \"format\", MTD_formatValue_long);\n@@ -6447,1 +6438,0 @@\n-                    cb.invokevirtual(CD_NumberPrinterParser, formatMethod, mtd);\n","filename":"src\/java.base\/share\/classes\/java\/time\/format\/DateTimeFormatterBuilder.java","additions":10,"deletions":20,"binary":false,"changes":30,"status":"modified"}]}
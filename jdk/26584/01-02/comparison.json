{"files":[{"patch":"@@ -0,0 +1,84 @@\n+#!\/bin\/bash\n+\n+# Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+\n+#\n+# Filters output produced by running jpackage test(s).\n+#\n+\n+set -eu\n+set -o pipefail\n+\n+\n+sed_inplace_option=-i\n+sed_version_string=$(sed --version 2>&1 | head -1 || true)\n+if [ \"${sed_version_string#sed (GNU sed)}\" != \"$sed_version_string\" ]; then\n+  # GNU sed, the default\n+  :\n+elif [ \"${sed_version_string#sed: illegal option}\" != \"$sed_version_string\" ]; then\n+  # Macos sed\n+  sed_inplace_option=\"-i ''\"\n+else\n+  echo 'WARNING: Unknown sed variant, assume it is GNU compatible'\n+fi\n+\n+\n+filterFile () {\n+  local expressions=(\n+      # Strip leading log message timestamp `[19:33:44.713] `\n+      -e 's\/^\\[[0-9]\\{2\\}:[0-9]\\{2\\}:[0-9]\\{2\\}\\.[0-9]\\{3\\}\\] \/\/'\n+\n+      # Strip log message timestamps `[19:33:44.713]`\n+      -e 's\/\\[[0-9]\\{2\\}:[0-9]\\{2\\}:[0-9]\\{2\\}\\.[0-9]\\{3\\}\\]\/\/g'\n+\n+      # Convert variable part of R\/O directory path timestamp `#2025-07-24T16:38:13.3589878Z`\n+      -e 's\/#[0-9]\\{4\\}-[0-9]\\{2\\}-[0-9]\\{2\\}T[0-9]\\{2\\}:[0-9]\\{2\\}:[0-9]\\{2\\}\\.[0-9]\\{1,\\}Z\/#<ts>Z\/'\n+\n+      # Strip variable part of temporary directory name `jdk.jpackage5060841750457404688`\n+      -e 's|\\([\\\/]\\)jdk\\.jpackage[0-9]\\{1,\\}\\b|\\1jdk.jpackage|g'\n+\n+      # Convert PID value `[PID: 131561]`\n+      -e 's\/\\[PID: [0-9]\\{1,\\}\\]\/[PID: <pid>]\/'\n+\n+      # Strip a warning message `Windows Defender may prevent jpackage from functioning`\n+      -e '\/Windows Defender may prevent jpackage from functioning\/d'\n+\n+      # Convert variable part of test output directory `out-6268`\n+      -e 's|\\bout-[0-9]\\{1,\\}\\b|out-N|g'\n+\n+      # Convert variable part of test summary `[       OK ] IconTest(AppImage, ResourceDirIcon, DefaultIcon).test; checks=39`\n+      -e 's\/^\\(.*\\bchecks=\\)[0-9]\\{1,\\}\\(\\r\\{0,1\\}\\)$\/\\1N\\2\/'\n+\n+      # Convert variable part of ldd output `libdl.so.2 => \/lib64\/libdl.so.2 (0x00007fbf63c81000)`\n+      -e 's\/(0x[[:xdigit:]]\\{1,\\})$\/(0xHEX)\/'\n+\n+      # Convert variable part of rpmbuild output `Executing(%build): \/bin\/sh -e \/var\/tmp\/rpm-tmp.CMO6a9`\n+      -e 's|\/rpm-tmp\\...*$|\/rpm-tmp.V|'\n+  )\n+\n+  sed $sed_inplace_option \"$1\" \"${expressions[@]}\"\n+}\n+\n+\n+for f in \"$@\"; do\n+  filterFile \"$f\"\n+done\n","filename":"test\/jdk\/tools\/jpackage\/clean_test_output.sh","additions":84,"deletions":0,"binary":false,"changes":84,"status":"added"},{"patch":"@@ -272,1 +272,1 @@\n-            \/\/ wait to make it wait for exit of a process it triggers.\n+            \/\/ way to make it wait for exit of a process it triggers.\n","filename":"test\/jdk\/tools\/jpackage\/share\/AddLShortcutTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
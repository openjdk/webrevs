{"files":[{"patch":"@@ -309,1 +309,1 @@\n-                    sun.net.www.MimeTable.loadTable();\n+                    sun.net.www.MimeTable.getDefaultTable();\n","filename":"src\/java.base\/share\/classes\/java\/net\/URLConnection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,3 +45,0 @@\n-    \/** Keyed by content type, returns MimeEntries *\/\n-    private final Hashtable<String, MimeEntry> entries = new Hashtable<>();\n-\n@@ -51,1 +48,1 @@\n-    MimeTable() {\n+    private MimeTable() {\n@@ -55,2 +52,2 @@\n-    private static class DefaultInstanceHolder {\n-        static final MimeTable defaultInstance = getDefaultInstance();\n+    private static final class DefaultInstanceHolder {\n+        private static final MimeTable defaultInstance = getDefaultInstance();\n@@ -58,1 +55,1 @@\n-        static MimeTable getDefaultInstance() {\n+        private static MimeTable getDefaultInstance() {\n@@ -73,8 +70,0 @@\n-    public static FileNameMap loadTable() {\n-        return getDefaultTable();\n-    }\n-\n-    public synchronized int getSize() {\n-        return entries.size();\n-    }\n-\n@@ -90,3 +79,1 @@\n-    public synchronized void add(MimeEntry m) {\n-        entries.put(m.getType(), m);\n-\n+    private void add(MimeEntry m) {\n@@ -103,32 +90,0 @@\n-    public synchronized MimeEntry remove(String type) {\n-        MimeEntry entry = entries.get(type);\n-        return remove(entry);\n-    }\n-\n-    public synchronized MimeEntry remove(MimeEntry entry) {\n-        String[] extensionKeys = entry.getExtensions();\n-        if (extensionKeys != null) {\n-            for (String extensionKey : extensionKeys) {\n-                extensionMap.remove(extensionKey);\n-            }\n-        }\n-\n-        return entries.remove(entry.getType());\n-    }\n-\n-    public synchronized MimeEntry find(String type) {\n-        MimeEntry entry = entries.get(type);\n-        if (entry == null) {\n-            \/\/ try a wildcard lookup\n-            Enumeration<MimeEntry> e = entries.elements();\n-            while (e.hasMoreElements()) {\n-                MimeEntry wild = e.nextElement();\n-                if (wild.matches(type)) {\n-                    return wild;\n-                }\n-            }\n-        }\n-\n-        return entry;\n-    }\n-\n@@ -138,1 +93,1 @@\n-    private MimeEntry findViaFileExtension(String fname) {\n+    private MimeEntry findByFileExtension(String fname) {\n@@ -149,1 +104,2 @@\n-        return findByExt(ext);\n+        return extensionMap.get(ext);\n+\n@@ -160,1 +116,1 @@\n-    public MimeEntry findByFileName(String fname) {\n+    private MimeEntry findByFileName(String fname) {\n@@ -166,1 +122,1 @@\n-            MimeEntry entry = findViaFileExtension(fname.substring(0, hashIndex));\n+            MimeEntry entry = findByFileExtension(fname.substring(0, hashIndex));\n@@ -174,11 +130,1 @@\n-        return findViaFileExtension(fname);\n-\n-    }\n-\n-    \/**\n-     * Locate a MimeEntry by the file extension that has been associated\n-     * with it.\n-     *\/\n-    public synchronized MimeEntry findByExt(String fileExtension) {\n-        return extensionMap.get(fileExtension);\n-    }\n+        return findByFileExtension(fname);\n@@ -186,2 +132,0 @@\n-    public synchronized Enumeration<MimeEntry> elements() {\n-        return entries.elements();\n@@ -190,1 +134,1 @@\n-    public synchronized void load() {\n+    private synchronized void load() {\n@@ -219,1 +163,1 @@\n-    void parse(Properties entries) {\n+    private void parse(Properties entries) {\n@@ -262,1 +206,1 @@\n-    void parse(String type, String attrs) {\n+    private void parse(String type, String attrs) {\n@@ -275,1 +219,1 @@\n-    void parse(String pair, MimeEntry entry) {\n+    private static void parse(String pair, MimeEntry entry) {\n@@ -295,1 +239,1 @@\n-    void fill(MimeEntry entry, String name, String value) {\n+    private static void fill(MimeEntry entry, String name, String value) {\n@@ -315,1 +259,1 @@\n-    int getActionCode(String action) {\n+    private static int getActionCode(String action) {\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/MimeTable.java","additions":17,"deletions":73,"binary":false,"changes":90,"status":"modified"}]}
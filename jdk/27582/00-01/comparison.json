{"files":[{"patch":"@@ -79,1 +79,0 @@\n-        started = true;\n@@ -81,0 +80,1 @@\n+            started = true;\n@@ -86,1 +86,1 @@\n-            Thread.sleep(500);\n+            Thread.sleep(1000);\n@@ -94,0 +94,2 @@\n+        } finally {\n+            exitRawMonitor();\n@@ -147,0 +149,1 @@\n+                boolean first_iteration = true;\n@@ -149,3 +152,4 @@\n-                    if (TEST_MODE != 1) {\n-                        \/\/ Don't stop() worker1 with JVMTI raw monitors since if the monitor is\n-                        \/\/ not released worker2 will deadlock on enter\n+                    if (first_iteration || TEST_MODE != 1) {\n+                        \/\/ Don't stop() worker1 with JVMTI raw monitors more than once because\n+                        \/\/ the exception could be thrown at the finally clause before releasing\n+                        \/\/ the monitor, causing worker2 to deadlock on enter.\n@@ -153,0 +157,1 @@\n+                        first_iteration = false;\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/AsyncExceptionOnMonitorEnter.java","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -81,1 +81,0 @@\n-        started = true;\n@@ -83,0 +82,1 @@\n+            started = true;\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/AsyncExceptionTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
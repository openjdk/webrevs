{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -625,1 +625,2 @@\n-  if (!Matcher::mask_op_prefers_predicate(mopc, mask_vec->bottom_type()->is_vect())) {\n+  const TypeVect* mask_vt = TypeVect::makemask(elem_bt, num_elem);\n+  if (!Matcher::mask_op_prefers_predicate(mopc, mask_vt)) {\n@@ -2548,1 +2549,2 @@\n-      if (!Matcher::mask_op_prefers_predicate(Op_VectorMaskToLong, opd->bottom_type()->is_vect())) {\n+      const TypeVect* mask_vt = TypeVect::makemask(elem_bt, num_elem);\n+      if (!Matcher::mask_op_prefers_predicate(Op_VectorMaskToLong, mask_vt)) {\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -1922,1 +1922,6 @@\n-    assert(!Matcher::mask_op_prefers_predicate(Opcode(), mask->bottom_type()->is_vect()), \"sanity\");\n+    const TypeVect* mask_vt = mask->bottom_type()->isa_vect();\n+    if (mask_vt == nullptr) {\n+      \/\/ Skip optimization if mask type is not a vector (e.g., Type::TOP for dead code).\n+      return nullptr;\n+    }\n+    assert(!Matcher::mask_op_prefers_predicate(Opcode(), mask_vt), \"sanity\");\n","filename":"src\/hotspot\/share\/opto\/vectornode.cpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}
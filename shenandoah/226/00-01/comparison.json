{"files":[{"patch":"@@ -39,3 +39,0 @@\n-#ifdef ASSERT\n-  _start_candidate(0),\n-#endif\n@@ -156,2 +153,3 @@\n-  \/\/ that was pointing at a region that has been added to the cset. We\n-  \/\/ are done when the leftmost pinned region has been slid up.\n+  \/\/ that was pointing at a region that has been added to the cset (or was pointing\n+  \/\/ to a pinned region that we've already moved up). We are done when the leftmost\n+  \/\/ pinned region has been slid up.\n@@ -166,4 +164,3 @@\n-      RegionData& added_to_cset = _region_data[write_index];\n-      assert(added_to_cset._region->is_cset(), \"Can only overwrite slots used by regions added to the collection set.\");\n-      added_to_cset._region = skipped._region;\n-      added_to_cset._garbage = skipped._garbage;\n+      RegionData& available_slot = _region_data[write_index];\n+      available_slot._region = skipped._region;\n+      available_slot._garbage = skipped._garbage;\n@@ -178,14 +175,0 @@\n-\n-  \/\/ Everything left should already be in the cset\n-  \/\/ [ r x x p p p p r ]\n-  \/\/   ^   ^         ^\n-  \/\/   |   |         | next pointer points at the first region which was not added to the collection set.\n-  \/\/   |   | After the above loop, the write pointer is just left of the start of the pinned regions\n-  \/\/   | Start index maintains the pointer to the beginning of the regions we scanned on this cycle.\n-#ifdef ASSERT\n-  for (size_t check = write_index; check != _start_candidate; --check) {\n-    ShenandoahHeapRegion* region = _region_data[check]._region;\n-    assert(region->is_cset(), \"All regions here should be in the collection set.\");\n-  }\n-  _start_candidate = _next_old_collection_candidate;\n-#endif\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.cpp","additions":6,"deletions":23,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -51,4 +51,0 @@\n-  \/\/ This points to the first candidate of the current mixed collection. This\n-  \/\/ is only used for an assertion when handling pinned regions.\n-  debug_only(uint _start_candidate);\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"}]}
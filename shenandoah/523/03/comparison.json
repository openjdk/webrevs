{"files":[{"patch":"@@ -80,1 +80,2 @@\n-      bool needs_reset = _generation->contains(region) || !region->is_affiliated();\n+      auto const affiliation = region->affiliation();\n+      bool needs_reset = affiliation == FREE || _generation->contains(affiliation);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGeneration.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"gc\/shenandoah\/shenandoahAffiliation.hpp\"\n@@ -178,0 +179,2 @@\n+  virtual bool contains(ShenandoahAffiliation affiliation) const = 0;\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGeneration.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -84,0 +84,4 @@\n+bool ShenandoahGlobalGeneration::contains(ShenandoahAffiliation affiliation) const {\n+  return true;\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGlobalGeneration.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+  bool contains(ShenandoahAffiliation affiliation) const override;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGlobalGeneration.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -318,0 +318,3 @@\n+bool ShenandoahOldGeneration::contains(ShenandoahAffiliation affiliation) const {\n+  return affiliation == OLD_GENERATION;\n+}\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahOldGeneration.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -200,0 +200,1 @@\n+  bool contains(ShenandoahAffiliation affiliation) const override;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahOldGeneration.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -51,0 +51,4 @@\n+bool ShenandoahYoungGeneration::contains(ShenandoahAffiliation affiliation) const {\n+  return affiliation == YOUNG_GENERATION;\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahYoungGeneration.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -58,0 +58,1 @@\n+  bool contains(ShenandoahAffiliation affiliation) const override;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahYoungGeneration.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
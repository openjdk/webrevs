{"files":[{"patch":"@@ -443,2 +443,0 @@\n-  ShenandoahHeap* heap = ShenandoahHeap::heap();\n-\n@@ -452,3 +450,2 @@\n-  if (heap->mode()->is_generational() && heap->is_in_old(reference) && heap->is_in_young(raw_referent)) {\n-    \/\/ Note: would be sufficient to mark only the card that holds the start of this Reference object.\n-    heap->old_generation()->card_scan()->mark_range_as_dirty(cast_from_oop<HeapWord*>(reference), reference->size());\n+  if (ShenandoahCardBarrier) {\n+    card_mark_barrier(cast_from_oop<HeapWord*>(reference), cast_to_oop(raw_referent));\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahReferenceProcessor.cpp","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"}]}
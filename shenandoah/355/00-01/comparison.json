{"files":[{"patch":"@@ -237,2 +237,2 @@\n-  \/\/ Now that we have made the old generation parseable, it is safe to reset the mark bitmap.\n-  assert(state() != FILLING, \"Cannot reset old without making it parseable\");\n+  \/\/ Now that we have made the old generation parsable, it is safe to reset the mark bitmap.\n+  assert(state() != FILLING, \"Cannot reset old without making it parsable\");\n@@ -259,1 +259,1 @@\n-\/\/ Make the old generation regions parseable, so they can be safely\n+\/\/ Make the old generation regions parsable, so they can be safely\n@@ -376,1 +376,1 @@\n-\/\/ parseable _before_ the old generation bitmap is reset. The diagram does not depict\n+\/\/ parsable _before_ the old generation bitmap is reset. The diagram does not depict\n@@ -381,1 +381,1 @@\n-\/\/ old generation mark bitmap, but any uncollected old regions must still be made parseable\n+\/\/ old generation mark bitmap, but any uncollected old regions must still be made parsable\n@@ -385,1 +385,1 @@\n-\/\/ the mark bitmaps are all reset, all regions are parseable and the mark context will\n+\/\/ the mark bitmaps are all reset, all regions are parsable and the mark context will\n@@ -390,22 +390,22 @@\n-\/\/               +------------> |     FILLING     |\n-\/\/               |   +--------> |                 |\n-\/\/               |   |          +-----------------+\n-\/\/               |   |            |\n-\/\/               |   |            | Filling Complete\n-\/\/               |   |            v\n-\/\/               |   |          +-----------------+\n-\/\/               |   +--------> |     WAITING     |\n-\/\/               |   |          |  FOR BOOTSTRAP  |\n-\/\/               |   |          +-----------------+\n-\/\/               |   |            |\n-\/\/               |   |            | Reset Bitmap\n-\/\/               |   |            v\n-\/\/               |   |          +-----------------+     +----------------------+\n-\/\/               |   |          |    BOOTSTRAP    | <-> |       YOUNG GC       |\n-\/\/               |   |          |                 |     | (RSet Parses Region) |\n-\/\/               |   |          +-----------------+     +----------------------+\n-\/\/               |   |            |\n-\/\/               |   |            | Old Marking\n-\/\/               |   |            v\n-\/\/               |   |          +-----------------+     +----------------------+\n-\/\/               |   |          |     MARKING     | <-> |       YOUNG GC       |\n+\/\/               +------------> |     FILLING     | <---+\n+\/\/               |   +--------> |                 |     |\n+\/\/               |   |          +-----------------+     |\n+\/\/               |   |            |                     |\n+\/\/               |   |            | Filling Complete    | <-> A global collection may\n+\/\/               |   |            v                     |     may move the old generation\n+\/\/               |   |          +-----------------+     |     directly from waiting for\n+\/\/               |   +--------> |     WAITING     |     |     bootstrap to filling or \n+\/\/               |   |    +---- |  FOR BOOTSTRAP  | ----+     evacuating.\n+\/\/               |   |    |     +-----------------+\n+\/\/               |   |    |       |\n+\/\/               |   |    |       | Reset Bitmap\n+\/\/               |   |    |       v\n+\/\/               |   |    |     +-----------------+     +----------------------+\n+\/\/               |   |    |     |    BOOTSTRAP    | <-> |       YOUNG GC       |\n+\/\/               |   |    |     |                 |     | (RSet Parses Region) |\n+\/\/               |   |    |     +-----------------+     +----------------------+\n+\/\/               |   |    |       |\n+\/\/               |   |    |       | Old Marking\n+\/\/               |   |    |       v\n+\/\/               |   |    |     +-----------------+     +----------------------+\n+\/\/               |   |    |     |     MARKING     | <-> |       YOUNG GC       |\n@@ -413,6 +413,6 @@\n-\/\/               |              +-----------------+     +----------------------+\n-\/\/               |                |\n-\/\/               |                | Has Evacuation Candidates\n-\/\/               |                v\n-\/\/               |              +-----------------+     +--------------------+\n-\/\/               |              |    EVACUATING   | <-> |      YOUNG GC      |\n+\/\/               |        |     +-----------------+     +----------------------+\n+\/\/               |        |       |\n+\/\/               |        |       | Has Evacuation Candidates\n+\/\/               |        |       v\n+\/\/               |        |     +-----------------+     +--------------------+\n+\/\/               |        +---> |    EVACUATING   | <-> |      YOUNG GC      |\n@@ -428,0 +428,1 @@\n+      assert(_state != BOOTSTRAPPING, \"Cannot beging making old regions parsable after bootstrapping\");    \n@@ -432,1 +433,1 @@\n-      \/\/ GC cancellation can send us back to IDLE from any state.\n+      \/\/ GC cancellation can send us back here from any state.\n@@ -438,1 +439,1 @@\n-      assert(_state == WAITING_FOR_BOOTSTRAP, \"Cannot reset bitmap without making old regions parseable, state is '%s'\", state_name(_state));\n+      assert(_state == WAITING_FOR_BOOTSTRAP, \"Cannot reset bitmap without making old regions parsable, state is '%s'\", state_name(_state));\n@@ -440,1 +441,1 @@\n-      assert(!heap->is_prepare_for_old_mark_in_progress(), \"Cannot still be making old regions parseable.\");\n+      assert(!heap->is_prepare_for_old_mark_in_progress(), \"Cannot still be making old regions parsable.\");\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahOldGeneration.cpp","additions":38,"deletions":37,"binary":false,"changes":75,"status":"modified"}]}
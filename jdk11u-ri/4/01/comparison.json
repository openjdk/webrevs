{"files":[{"patch":"@@ -0,0 +1,15 @@\n+\/build\/\n+\/dist\/\n+\/.idea\/\n+nbproject\/private\/\n+\/webrev\n+\/.src-rev\n+\/.jib\/\n+.DS_Store\n+.metadata\/\n+.recommenders\/\n+test\/nashorn\/script\/external\n+test\/nashorn\/lib\n+NashornProfile.txt\n+**\/JTreport\/**\n+**\/JTwork\/**\n","filename":".gitignore","additions":15,"deletions":0,"binary":false,"changes":15,"status":"added"},{"patch":"@@ -1,2 +1,31 @@\n-project=jdk10\n-bugids=dup\n+[general]\n+project=jdk-updates\n+jbs=JDK\n+version=11.0.0.1\n+\n+[checks]\n+error=author,committer,reviewers,merge,issues,executable,symlink,message,hg-tag,whitespace\n+\n+[repository]\n+tags=(?:jdk-(?:[1-9]([0-9]*)(?:\\.(?:0|[1-9][0-9]*)){0,4})(?:\\+(?:(?:[0-9]+))|(?:-ga)))|(?:jdk[4-9](?:u\\d{1,3})?-(?:(?:b\\d{2,3})|(?:ga)))|(?:hs\\d\\d(?:\\.\\d{1,2})?-b\\d\\d)\n+branches=\n+\n+[census]\n+version=0\n+domain=openjdk.org\n+\n+[checks \"whitespace\"]\n+files=.*\\.cpp|.*\\.hpp|.*\\.c|.*\\.h|.*\\.java\n+\n+[checks \"merge\"]\n+message=Merge\n+\n+[checks \"reviewers\"]\n+reviewers=1\n+ignore=duke\n+\n+[checks \"committer\"]\n+role=committer\n+\n+[checks \"issues\"]\n+pattern=^([124-8][0-9]{6}): (\\S.*)$\n","filename":".jcheck\/conf","additions":31,"deletions":2,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,0 @@\n-default: all\n-\n@@ -31,1 +29,1 @@\n-$(eval $(call IncludeCustomExtension, SourceRevision.gmk))\n+$(eval $(call IncludeCustomExtension, SourceRevision-pre.gmk))\n@@ -36,1 +34,1 @@\n-# image, and can be used to recreate the source revision used.\n+# source image, and can be used to recreate the source revision used.\n@@ -38,5 +36,5 @@\n-# We're either building directly from a mercurial forest, and if so, use the\n-# current revision from mercurial. Otherwise, we are building from a source\n-# bundle. As a part of creating this source bundle, the current mercurial\n-# revisions of all repos will be stored in a file in the top dir, which is then\n-# used when creating the tracker file.\n+# We're either building directly from an SCM repository, and if so, use the\n+# current revision from that SCM. Otherwise, we are building from a source\n+# bundle. As a part of creating this source bundle, the current SCM revisions of\n+# all repos will be stored in a file in the top dir, which is then used when\n+# creating the tracker file.\n@@ -46,1 +44,1 @@\n-# Are we using mercurial?\n+USE_SCM := false\n@@ -48,0 +46,12 @@\n+  USE_SCM := true\n+  SCM_DIR := .hg\n+  ID_COMMAND := $(PRINTF) \"hg:%s\" \"$$($(HG) id -i)\"\n+else ifneq ($(and $(GIT), $(wildcard $(TOPDIR)\/.git)), )\n+  USE_SCM := true\n+  SCM_DIR := .git\n+  ID_COMMAND := $(PRINTF) \"git:%s%s\\n\" \\\n+      \"$$(git log -n1 --format=%H | cut -c1-12)\" \\\n+      \"$$(if test -n \"$$(git status --porcelain)\"; then printf '+'; fi)\"\n+endif\n+\n+ifeq ($(USE_SCM), true)\n@@ -51,2 +61,2 @@\n-    $(if $(wildcard $(TOPDIR)\/$(repo)\/.hg),, \\\n-        $(error Inconsistent revision control: $(repo) is missing .hg directory)) \\\n+    $(if $(wildcard $(TOPDIR)\/$(repo)\/$(SCM_DIR)),, \\\n+        $(error Inconsistent revision control: $(repo) is missing $(SCM_DIR) directory)) \\\n@@ -61,1 +71,3 @@\n-  # the name of the repository and the output of \"hg id\" for that repository.\n+  # the name of the repository and the output of the scm command for that\n+  # repository.\n+  #\n@@ -71,1 +83,1 @@\n-\t$$(ECHO) $$(strip $1):`$$(HG) id -i --repository $$($1_REPO_PATH)` > $$@\n+\t$$(ECHO) $$(strip $1):`$$(CD) $$($1_REPO_PATH) && $$(ID_COMMAND)` > $$@\n@@ -97,1 +109,1 @@\n-  store-source-revision: $(STORED_SOURCE_REVISION)\n+  scm-store-source-revision: $(STORED_SOURCE_REVISION)\n@@ -101,1 +113,6 @@\n-  create-source-revision-tracker: $(SOURCE_REVISION_TRACKER)\n+  scm-create-source-revision-tracker: $(SOURCE_REVISION_TRACKER)\n+\n+  STORE_SOURCE_REVISION_TARGET := scm-store-source-revision\n+  CREATE_SOURCE_REVISION_TRACKER_TARGET := scm-create-source-revision-tracker\n+\n+  .PHONY: scm-store-source-revision scm-create-source-revision-tracker\n@@ -104,1 +121,1 @@\n-  # Not using HG\n+  # Not using any SCM\n@@ -109,2 +126,2 @@\n-    store-source-revision:\n-\t$(call LogInfo, No mercurial configuration present$(COMMA) not updating .src-rev)\n+    src-store-source-revision:\n+\t$(call LogInfo, No SCM configuration present$(COMMA) not updating .src-rev)\n@@ -115,1 +132,1 @@\n-    create-source-revision-tracker: $(SOURCE_REVISION_TRACKER)\n+    src-create-source-revision-tracker: $(SOURCE_REVISION_TRACKER)\n@@ -119,2 +136,2 @@\n-    store-source-revision:\n-\t$(call LogWarn, Error: No mercurial configuration present$(COMMA) cannot create .src-rev)\n+    src-store-source-revision:\n+\t$(call LogWarn, Error: No SCM configuration present$(COMMA) cannot create .src-rev)\n@@ -123,2 +140,2 @@\n-    create-source-revision-tracker:\n-\t$(call LogWarn, Warning: No mercurial configuration present and no .src-rev)\n+    src-create-source-revision-tracker:\n+\t$(call LogWarn, Warning: No SCM configuration present and no .src-rev)\n@@ -127,0 +144,5 @@\n+  STORE_SOURCE_REVISION_TARGET := src-store-source-revision\n+  CREATE_SOURCE_REVISION_TRACKER_TARGET := src-create-source-revision-tracker\n+\n+  .PHONY: src-store-source-revision src-create-source-revision-tracker\n+\n@@ -129,1 +151,9 @@\n-all: store-source-revision create-source-revision-tracker\n+################################################################################\n+\n+$(eval $(call IncludeCustomExtension, SourceRevision-post.gmk))\n+\n+################################################################################\n+\n+store-source-revision: $(STORE_SOURCE_REVISION_TARGET)\n+\n+create-source-revision-tracker: $(CREATE_SOURCE_REVISION_TRACKER_TARGET)\n@@ -133,1 +163,1 @@\n-.PHONY: all store-source-revision create-source-revision-tracker\n+.PHONY: store-source-revision create-source-revision-tracker\n","filename":"make\/SourceRevision.gmk","additions":57,"deletions":27,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -1193,0 +1193,1 @@\n+  BASIC_PATH_PROGS(GIT, git)\n","filename":"make\/autoconf\/basics.m4","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -719,0 +719,1 @@\n+GIT:=@GIT@\n","filename":"make\/autoconf\/spec.gmk.in","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2018, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,2 +31,2 @@\n-DEFAULT_VERSION_PATCH=0\n-DEFAULT_VERSION_DATE=2018-09-25\n+DEFAULT_VERSION_PATCH=1\n+DEFAULT_VERSION_DATE=2023-05-09\n","filename":"make\/autoconf\/version-numbers","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -350,0 +350,1 @@\n+        $(addprefix $(TOPDIR)\/, .git *\/.git *\/*\/.git *\/*\/*\/.git *\/*\/*\/*\/.git) \\\n","filename":"make\/common\/MakeBase.gmk","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
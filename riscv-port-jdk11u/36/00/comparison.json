{"files":[{"patch":"@@ -909,1 +909,1 @@\n-  push_reg(0xc00, sp); \/\/ save x10, x11\n+  push_reg(RegSet::of(x10, x11), sp); \/\/ save x10, x11\n@@ -922,1 +922,1 @@\n-  pop_reg(0xc00, sp);\n+  pop_reg(RegSet::of(x10, x11), sp);\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -966,1 +966,1 @@\n-\/\/ Push lots of registers in the bit set supplied.  Don't push sp.\n+\/\/ Push integer registers in the bitset supplied. Don't push sp.\n@@ -978,1 +978,1 @@\n-    addi(stack, stack, - count * wordSize - offset);\n+    addi(stack, stack, -count * wordSize - offset);\n@@ -982,1 +982,1 @@\n-    DEBUG_ONLY(words_pushed ++;)\n+    DEBUG_ONLY(words_pushed++;)\n@@ -1001,1 +1001,1 @@\n-    DEBUG_ONLY(words_popped ++;)\n+    DEBUG_ONLY(words_popped++;)\n@@ -1012,2 +1012,2 @@\n-\/\/ Push float registers in the bitset, except sp.\n-\/\/ Return the number of heapwords pushed.\n+\/\/ Push floating-point registers in the bitset supplied.\n+\/\/ Return the number of words pushed\n@@ -1016,1 +1016,1 @@\n-  int words_pushed = 0;\n+  DEBUG_ONLY(int words_pushed = 0;)\n@@ -1027,1 +1027,1 @@\n-    words_pushed++;\n+    DEBUG_ONLY(words_pushed++;)\n@@ -1031,0 +1031,1 @@\n+\n@@ -1036,1 +1037,1 @@\n-  int words_popped = 0;\n+  DEBUG_ONLY(int words_popped = 0;)\n@@ -1043,1 +1044,1 @@\n-    words_popped++;\n+    DEBUG_ONLY(words_popped++;)\n@@ -1051,0 +1052,1 @@\n+\n@@ -1064,1 +1066,1 @@\n-      fsd(as_FloatRegister(i), Address(sp, wordSize * (offset ++)));\n+      fsd(as_FloatRegister(i), Address(sp, wordSize * (offset++)));\n@@ -1074,1 +1076,1 @@\n-      fld(as_FloatRegister(i), Address(sp, wordSize * (offset ++)));\n+      fld(as_FloatRegister(i), Address(sp, wordSize * (offset++)));\n@@ -1085,1 +1087,1 @@\n-  push_reg(0xffffffe2, sp);\n+  push_reg(RegSet::of(x1) + RegSet::range(x5, x31), sp);\n@@ -1091,1 +1093,1 @@\n-  pop_reg(0xffffffe2, sp);\n+  pop_reg(RegSet::of(x1) + RegSet::range(x5, x31), sp);\n@@ -1097,1 +1099,1 @@\n-  push_reg(0xffffffe0, sp);\n+  push_reg(RegSet::range(x5, x31), sp);\n@@ -1116,1 +1118,1 @@\n-  pop_reg(0xffffffe0, sp);\n+  pop_reg(RegSet::range(x5, x31), sp);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":18,"deletions":16,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -497,2 +497,7 @@\n-  void push_reg(RegSet regs, Register stack) { if (regs.bits()) { push_reg(regs.bits(), stack); } }\n-  void pop_reg(RegSet regs, Register stack) { if (regs.bits()) { pop_reg(regs.bits(), stack); } }\n+private:\n+  int push_reg(unsigned int bitset, Register stack);\n+  int pop_reg(unsigned int bitset, Register stack);\n+  int push_fp(unsigned int bitset, Register stack);\n+  int pop_fp(unsigned int bitset, Register stack);\n+\n+public:\n@@ -501,2 +506,2 @@\n-  int  push_reg(unsigned int bitset, Register stack);\n-  int  pop_reg(unsigned int bitset, Register stack);\n+  void push_reg(RegSet regs, Register stack) { if (regs.bits()) push_reg(regs.bits(), stack); }\n+  void pop_reg(RegSet regs, Register stack)  { if (regs.bits()) pop_reg(regs.bits(), stack); }\n@@ -807,3 +812,0 @@\n-  int push_fp(unsigned int bitset, Register stack);\n-  int pop_fp(unsigned int bitset, Register stack);\n-\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -601,1 +601,1 @@\n-    __ push_reg(0x3000, sp);   \/\/ save c_rarg2 and c_rarg3\n+    __ push_reg(RegSet::of(c_rarg2, c_rarg3), sp); \/\/ save c_rarg2 and c_rarg3\n@@ -627,1 +627,1 @@\n-    __ pop_reg(0x3000, sp);   \/\/ pop c_rarg2 and c_rarg3\n+    __ pop_reg(RegSet::of(c_rarg2, c_rarg3), sp);  \/\/ pop c_rarg2 and c_rarg3\n@@ -632,1 +632,1 @@\n-    __ pop_reg(0x3000, sp);   \/\/ pop c_rarg2 and c_rarg3\n+    __ pop_reg(RegSet::of(c_rarg2, c_rarg3), sp); \/\/ pop c_rarg2 and c_rarg3\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -2217,1 +2217,1 @@\n-    addi(result, zr, 1);\n+    li(result, 1);\n@@ -2252,1 +2252,1 @@\n-  Label succ, fail, done;\n+  Label fail, done;\n@@ -2261,1 +2261,1 @@\n-  beqz(tmp, succ);\n+  bnez(tmp, fail);\n@@ -2263,2 +2263,2 @@\n-  bind(fail);\n-  addi(result, zr, 1);\n+  \/\/ Success\n+  li(result, 1);\n@@ -2267,1 +2267,2 @@\n-  bind(succ);\n+  \/\/ Fail\n+  bind(fail);\n@@ -2311,1 +2312,1 @@\n-  Label fail, done, sc_done;\n+  Label fail, done;\n@@ -2315,1 +2316,1 @@\n-  beqz(t0, sc_done);\n+  bnez(t0, fail);\n@@ -2317,2 +2318,1 @@\n-  \/\/ fail\n-  bind(fail);\n+  \/\/ Success\n@@ -2322,3 +2322,4 @@\n-  \/\/ sc_done\n-  bind(sc_done);\n-  mv(result, 0);\n+  \/\/ Fail\n+  bind(fail);\n+  mv(result, zr);\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -5467,1 +5467,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapB\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapB\"\n@@ -5474,1 +5474,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5491,1 +5490,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapS\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapS\"\n@@ -5498,1 +5497,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5512,1 +5510,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapI\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapI\"\n@@ -5518,1 +5516,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5532,1 +5529,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapL\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapL\"\n@@ -5538,1 +5535,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5552,1 +5548,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapN\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapN\"\n@@ -5558,1 +5554,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5572,1 +5567,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapP\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapP\"\n@@ -5578,1 +5573,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5597,1 +5591,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapBAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapBAcq\"\n@@ -5604,1 +5598,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5623,1 +5616,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapSAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapSAcq\"\n@@ -5630,1 +5623,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5646,1 +5638,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapIAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapIAcq\"\n@@ -5652,1 +5644,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5668,1 +5659,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapLAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapLAcq\"\n@@ -5674,1 +5665,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5690,1 +5680,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapNAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapNAcq\"\n@@ -5696,1 +5686,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5712,1 +5701,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapPAcq\"\n+    \"\\t# $res == 1 when success, #@weakCompareAndSwapPAcq\"\n@@ -5718,1 +5707,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":12,"deletions":24,"binary":false,"changes":36,"status":"modified"}]}
{"files":[{"patch":"@@ -189,3 +189,0 @@\n-  if (tiny_classpointer_mode()) {\n-    return nullptr;\n-  }\n@@ -197,3 +194,0 @@\n-  if (tiny_classpointer_mode()) {\n-    return nullptr;\n-  }\n","filename":"src\/hotspot\/share\/oops\/compressedKlass.cpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+    static final String usesCompactObjectHeadersPat = \"UseCompactObjectHeaders 1\";\n@@ -60,0 +61,5 @@\n+    \/\/ Returns true if the output indicates that the VM uses compact object headers\n+    static boolean usesCompactObjectHeaders(OutputAnalyzer output) {\n+        return output.getOutput().contains(usesCompactObjectHeadersPat);\n+    }\n+\n@@ -224,1 +230,1 @@\n-        if (!isCCSReservedAnywhere(output)) {\n+        if (!isCCSReservedAnywhere(output) && !usesCompactObjectHeaders(output)) {\n@@ -242,1 +248,1 @@\n-        if (!isCCSReservedAnywhere(output)) {\n+        if (!isCCSReservedAnywhere(output) && !usesCompactObjectHeaders(output)) {\n@@ -245,1 +251,1 @@\n-        if (!Platform.isAArch64() && !Platform.isPPC()) {\n+        if (!Platform.isAArch64()  && !usesCompactObjectHeaders(output) && !Platform.isPPC()) {\n@@ -264,1 +270,1 @@\n-        if (!isCCSReservedAnywhere(output)) {\n+        if (!isCCSReservedAnywhere(output) && !usesCompactObjectHeaders(output)) {\n@@ -267,1 +273,1 @@\n-        if (!Platform.isAArch64() && !Platform.isPPC()) {\n+        if (!Platform.isAArch64()  && !usesCompactObjectHeaders(output) && !Platform.isPPC()) {\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/CompressedClassPointers.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"}]}
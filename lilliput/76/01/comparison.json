{"files":[{"patch":"@@ -875,2 +875,4 @@\n-      ldr(header_reg, Address(rthread, JavaThread::lock_stack_current_offset()));\n-      cmpoop(header_reg, obj_reg);\n+      Register tmp = header_reg;\n+      ldr(tmp, Address(rthread, JavaThread::lock_stack_current_offset()));\n+      ldr(tmp, Address(tmp, -oopSize));\n+      cmpoop(tmp, obj_reg);\n","filename":"src\/hotspot\/cpu\/aarch64\/interp_masm_aarch64.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -900,2 +900,4 @@\n-      ld(header_reg, Address(xthread, JavaThread::lock_stack_current_offset()));\n-      bne(header_reg, obj_reg, slow_case);\n+      Register tmp = header_reg;\n+      ld(tmp, Address(xthread, JavaThread::lock_stack_current_offset()));\n+      ld(tmp, Address(tmp, -oopSize));\n+      bne(tmp, obj_reg, slow_case);\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1353,1 +1353,3 @@\n-      cmpptr(obj_reg, Address(thread, JavaThread::lock_stack_current_offset()));\n+      Register tmp = swap_reg;\n+      movptr(tmp, Address(thread, JavaThread::lock_stack_current_offset()));\n+      cmpptr(obj_reg, Address(tmp, -oopSize));\n","filename":"src\/hotspot\/cpu\/x86\/interp_masm_x86.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -2966,2 +2966,10 @@\n-    if (FLAG_IS_CMDLINE(UseObjectMonitorTable)) {\n-      warning(\"Compact object headers requires ObjectMonitorTable. Disabling compact object headers.\");\n+    \/\/ If UseCompactObjectHeaders is on the command line, turn on UseObjectMonitorTable.\n+    if (FLAG_IS_CMDLINE(UseCompactObjectHeaders)) {\n+      FLAG_SET_DEFAULT(UseObjectMonitorTable, true);\n+\n+    \/\/ If UseObjectMonitorTable is on the command line, turn off UseCompactObjectHeaders.\n+    } else if (FLAG_IS_CMDLINE(UseObjectMonitorTable)) {\n+      FLAG_SET_DEFAULT(UseCompactObjectHeaders, false);\n+    \/\/ If neither on the command line, the defaults are incompatible.\n+    } else {\n+      fatal(\"Compact object headers requires ObjectMonitorTable. Defaults are incompatible.\");\n@@ -2969,1 +2977,0 @@\n-    FLAG_SET_DEFAULT(UseCompactObjectHeaders, false);\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"}]}
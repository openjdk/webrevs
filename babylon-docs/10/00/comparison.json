{"files":[{"patch":"@@ -5,1 +5,1 @@\n-#### June 2024 {.date}\n+#### June 2024, Updated Dec 2025 {.date}\n@@ -8,1 +8,1 @@\n-representations of Java code in method bodies and lambda bodies. \"Symbolic\n+representations of Java code in method and lambda expressions. \"Symbolic\n@@ -10,5 +10,6 @@\n-demystified. It's a model of Java code where the code of a method or lambda body\n-is represented as instances of specific Java classes arranged in an appropriate\n-structure. Thereby it is possible to write Java programs that manipulate Java\n-programs. Before we get into the details of how code reflection models Java code\n-we should talk about two existing approaches to modeling Java code.\n+demystified. It's a model of Java code where the code of a method or lambda\n+expressions is represented as instances of specific Java classes arranged in an\n+appropriate structure. Thereby it is possible to write Java programs that\n+manipulate Java programs. Before we get into the details of how code reflection\n+models Java code we should talk about two existing approaches to modeling Java\n+code.\n@@ -55,4 +56,4 @@\n-called _code models_. Code models for identified method and lambda bodies are\n-produced by the Java compiler, stored in class files, and made accessible at run\n-time via reflective APIs. The Java compiler will transform an AST to a Java code\n-model, in addition to generating bytecode instructions. Such code models\n+called _code models_. Code models for identified method and lambda expressions\n+are produced by the Java compiler, stored in class files, and made accessible at\n+run time via reflective APIs. The Java compiler will transform an AST to a Java\n+code model, in addition to generating bytecode instructions. Such code models\n@@ -130,1 +131,1 @@\n-@CodeReflection\n+@Reflect\n@@ -137,1 +138,1 @@\n-We annotate it with `@CodeReflection` to identify that the method's code model\n+We annotate it with `@Reflect` to identify that the method's code model\n@@ -142,2 +143,7 @@\n-its code model by invoking the method `getCodeModel`. Only methods annotated\n-with `@CodeReflection` will have code models, hence this method is partial.\n+its code model by invoking the method `Op.ofMethod`. Only methods annotated\n+with `@Reflect` will have code models, hence this method is partial.\n+\n+(Note: since code reflection is an incubating feature we cannot add new APIs in\n+packages of other modules, such as in the `java.lang.reflect` package of the\n+`java.base` module. For now, we must provide such methods in the incubating code\n+reflection module.)\n@@ -148,1 +154,1 @@\n-Method m = ExpressionGraphs.class.getDeclaredMethod(\n+Method m = TestExpressionGraphs.class.getDeclaredMethod(\n@@ -151,1 +157,1 @@\n-Optional<CoreOp.FuncOp> oModel = m.getCodeModel();\n+Optional<CoreOp.FuncOp> oModel = Op.ofMethod(m);\n@@ -165,4 +171,3 @@\n-\/\/ Depth-first search, reporting elements in pre-order\n-model.traverse(null, (acc, codeElement) -> {\n-    \/\/ Count the depth of the code element by\n-    \/\/ traversing up the tree from child to parent\n+\/\/ Stream of elements topologically sorted in depth-first search pre-order\n+model.elements().forEach(codeElement -> {\n+    \/\/ Count the depth of the code element\n@@ -174,1 +179,0 @@\n-    return acc;\n@@ -179,8 +183,4 @@\n-> The first argument passed to the `traverse` method is the initial value of an\n-> object that can be used to accumulate a result. The final accumulated\n-> result is returned. In this case we don't need to accumulate, so we pass\n-> a `null` value.\n-\n-The method `traverse` calls the lambda expression for each encountered _code\n-element_ in the model and prints out the class name prefixed with space\n-proportional to the tree depth of the element. The output is shown below.\n+The lambda expression passed to the stream's `forEach` method is called for each\n+encountered _code element_ in the model, and it prints out the class name\n+prefixed with space proportional to the tree depth of the element. The output is\n+shown below.\n@@ -189,9 +189,9 @@\n-class java.lang.reflect.code.op.CoreOp$FuncOp\n-  class java.lang.reflect.code.Body\n-    class java.lang.reflect.code.Block\n-      class java.lang.reflect.code.op.CoreOp$VarOp\n-      class java.lang.reflect.code.op.CoreOp$VarOp\n-      class java.lang.reflect.code.op.CoreOp$VarAccessOp$VarLoadOp\n-      class java.lang.reflect.code.op.CoreOp$VarAccessOp$VarLoadOp\n-      class java.lang.reflect.code.op.CoreOp$SubOp\n-      class java.lang.reflect.code.op.CoreOp$ReturnOp\n+class jdk.incubator.code.dialect.core.CoreOp$FuncOp\n+  class jdk.incubator.code.Body\n+    class jdk.incubator.code.Block\n+      class jdk.incubator.code.dialect.core.CoreOp$VarOp\n+      class jdk.incubator.code.dialect.core.CoreOp$VarOp\n+      class jdk.incubator.code.dialect.core.CoreOp$VarAccessOp$VarLoadOp\n+      class jdk.incubator.code.dialect.core.CoreOp$VarAccessOp$VarLoadOp\n+      class jdk.incubator.code.dialect.java.JavaOp$SubOp\n+      class jdk.incubator.code.dialect.core.CoreOp$ReturnOp\n@@ -204,2 +204,2 @@\n-The implementation of `traverse` applies the code element to the function\n-parameter and then the code element's children are recursively traversed.\n+The `CodeElement.elements` method returns a stream constructed with a gathering\n+operation that whose integrator recursively traverses code elements:\n@@ -208,5 +208,4 @@\n-default <T> T traverse(T t, BiFunction<T, CodeElement<?, ?>, T> v) {\n-    t = v.apply(t, this);\n-    for (C r : children()) {\n-        t = r.traverse(t, v);\n-    }\n+default Stream<CodeElement<?, ?>> elements() {\n+    return Stream.of(this).gather(\n+            () -> (_, e, downstream) -> traversePreOrder(e, downstream));\n+}\n@@ -214,1 +213,12 @@\n-    return t;\n+private static boolean traversePreOrder(\n+        CodeElement<?, ?> e,\n+        Gatherer.Downstream<? super CodeElement<?, ?>> d) {\n+    if (!d.push(e)) {\n+        return false;\n+    }\n+    for (CodeElement<?, ?> c : e.children()) {\n+        if (!traversePreOrder(c, d)) {\n+            return false;\n+        }\n+    }\n+    return true;\n@@ -224,1 +234,1 @@\n-   the `traverse` method.\n+   the `elements` method.\n@@ -244,7 +254,8 @@\n-func @\"sub\" @loc=\"19:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : Var<double> = var %0 @\"a\" @loc=\"19:5\";\n-    %3 : Var<double> = var %1 @\"b\" @loc=\"19:5\";\n-    %4 : double = var.load %2 @loc=\"21:16\";\n-    %5 : double = var.load %3 @loc=\"21:20\";\n-    %6 : double = sub %4 %5 @loc=\"21:16\";\n-    return %6 @loc=\"21:9\";\n+func @loc=\"46:5:file:\/...\/TestExpressionGraphs.java\" @\"sub\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double\"> = var %0 @loc=\"46:5\" @\"a\";\n+    %3 : Var<java.type:\"double\"> = var %1 @loc=\"46:5\" @\"b\";\n+    %4 : java.type:\"double\" = var.load %2 @loc=\"48:16\";\n+    %5 : java.type:\"double\" = var.load %3 @loc=\"48:20\";\n+    %6 : java.type:\"double\" = sub %4 %5 @loc=\"48:16\";\n+    return %6 @loc=\"48:9\";\n@@ -266,1 +277,1 @@\n-class, all of which extend from the abstract class `java.lang.reflect.code.Op`\n+class, all of which extend from the abstract class `jdk.incubator.code.Op`\n@@ -276,8 +287,8 @@\n-of `double`, which model method `sub`'s initial values for parameters `a`\n-and `b`. The method parameters themselves (variables) are modeled as `var`\n-operations that are initialized with the corresponding block parameters. The\n-result of a `var` operation is value, a _variable value_, whose type is a\n-_variable type_, `Var<T>`. A variable value holds another value of type `T`, the\n-value of the variable, which can be loaded or stored using variable access\n-operations, respectively modeling an expression that denotes a variable and\n-assignment to a variable.\n+of `java.type:\"double\"`, which model method `sub`'s initial values for\n+parameters `a` and `b`. The method parameters themselves (variables) are modeled\n+as `var` operations that are initialized with the corresponding block\n+parameters. The result of a `var` operation is value, a _variable value_, whose\n+type is a _variable type_, `Var<T>`. A variable value holds another value of\n+type `T`, the value of the variable, which can be loaded or stored using\n+variable access operations, respectively modeling an expression that denotes a\n+variable and assignment to a variable.\n@@ -307,1 +318,1 @@\n-@CodeReflection\n+@Reflect\n@@ -321,8 +332,9 @@\n-func @\"distance1\" @loc=\"24:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : Var<double> = var %0 @\"a\" @loc=\"24:5\";\n-    %3 : Var<double> = var %1 @\"b\" @loc=\"24:5\";\n-    %4 : double = var.load %2 @loc=\"26:25\";\n-    %5 : double = var.load %3 @loc=\"26:29\";\n-    %6 : double = sub %4 %5 @loc=\"26:25\";\n-    %7 : double = invoke %6 @\"java.lang.Math::abs(double)double\" @loc=\"26:16\";\n-    return %7 @loc=\"26:9\";\n+func @loc=\"51:5:file:\/...\/TestExpressionGraphs.java\" @\"distance1\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double\"> = var %0 @loc=\"51:5\" @\"a\";\n+    %3 : Var<java.type:\"double\"> = var %1 @loc=\"51:5\" @\"b\";\n+    %4 : java.type:\"double\" = var.load %2 @loc=\"53:25\";\n+    %5 : java.type:\"double\" = var.load %3 @loc=\"53:29\";\n+    %6 : java.type:\"double\" = sub %4 %5 @loc=\"53:25\";\n+    %7 : java.type:\"double\" = invoke %6 @loc=\"53:16\" @java.ref:\"java.lang.Math::abs(double):double\";\n+    return %7 @loc=\"53:9\";\n@@ -357,1 +369,1 @@\n-@CodeReflection\n+@Reflect\n@@ -375,12 +387,13 @@\n-func @\"distance1a\" @loc=\"29:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : Var<double> = var %0 @\"a\" @loc=\"29:5\";\n-    %3 : Var<double> = var %1 @\"b\" @loc=\"29:5\";\n-    %4 : double = var.load %2 @loc=\"31:29\";\n-    %5 : double = var.load %3 @loc=\"31:33\";\n-    %6 : double = sub %4 %5 @loc=\"31:29\";\n-    %7 : Var<double> = var %6 @\"diff\" @loc=\"31:9\";\n-    %8 : double = var.load %7 @loc=\"32:40\";\n-    %9 : double = invoke %8 @\"java.lang.Math::abs(double)double\" @loc=\"32:31\";\n-    %10 : Var<double> = var %9 @\"result\" @loc=\"32:9\";\n-    %11 : double = var.load %10 @loc=\"33:16\";\n-    return %11 @loc=\"33:9\";\n+func @loc=\"56:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distance1a\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double\"> = var %0 @loc=\"56:5\" @\"a\";\n+    %3 : Var<java.type:\"double\"> = var %1 @loc=\"56:5\" @\"b\";\n+    %4 : java.type:\"double\" = var.load %2 @loc=\"58:29\";\n+    %5 : java.type:\"double\" = var.load %3 @loc=\"58:33\";\n+    %6 : java.type:\"double\" = sub %4 %5 @loc=\"58:29\";\n+    %7 : Var<java.type:\"double\"> = var %6 @loc=\"58:9\" @\"diff\";\n+    %8 : java.type:\"double\" = var.load %7 @loc=\"59:40\";\n+    %9 : java.type:\"double\" = invoke %8 @loc=\"59:31\" @java.ref:\"java.lang.Math::abs(double):double\";\n+    %10 : Var<java.type:\"double\"> = var %9 @loc=\"59:9\" @\"result\";\n+    %11 : java.type:\"double\" = var.load %10 @loc=\"60:16\";\n+    return %11 @loc=\"60:9\";\n@@ -406,4 +419,5 @@\n-func @\"distance1\" @loc=\"24:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : double = sub %0 %1 @loc=\"26:25\";\n-    %3 : double = invoke %2 @\"java.lang.Math::abs(double)double\" @loc=\"26:16\";\n-    return %3 @loc=\"26:9\";\n+func @loc=\"51:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distance1\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : java.type:\"double\" = sub %0 %1 @loc=\"53:25\";\n+    %3 : java.type:\"double\" = invoke %2 @loc=\"53:16\" @java.ref:\"java.lang.Math::abs(double):double\";\n+    return %3 @loc=\"53:9\";\n@@ -412,4 +426,5 @@\n-func @\"distance1a\" @loc=\"29:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : double = sub %0 %1 @loc=\"31:29\";\n-    %3 : double = invoke %2 @\"java.lang.Math::abs(double)double\" @loc=\"32:31\";\n-    return %3 @loc=\"33:9\";\n+func @loc=\"56:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distance1a\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : java.type:\"double\" = sub %0 %1 @loc=\"58:29\";\n+    %3 : java.type:\"double\" = invoke %2 @loc=\"59:31\" @java.ref:\"java.lang.Math::abs(double):double\";\n+    return %3 @loc=\"60:9\";\n@@ -433,1 +448,1 @@\n-@CodeReflection\n+@Reflect\n@@ -448,13 +463,14 @@\n-func @\"distance1b\" @loc=\"36:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : Var<double> = var %0 @\"a\" @loc=\"36:5\";\n-    %3 : Var<double> = var %1 @\"b\" @loc=\"36:5\";\n-    %4 : double = var.load %2 @loc=\"38:29\";\n-    %5 : double = var.load %3 @loc=\"38:33\";\n-    %6 : double = sub %4 %5 @loc=\"38:29\";\n-    %7 : Var<double> = var %6 @\"diff\" @loc=\"38:9\";\n-    %8 : double = java.cexpression @loc=\"40:31\"\n-        ()boolean -> {\n-            %9 : double = var.load %7 @loc=\"40:31\";\n-            %10 : double = constant @\"0.0\" @loc=\"40:38\";\n-            %11 : boolean = lt %9 %10 @loc=\"40:31\";\n-            yield %11 @loc=\"40:31\";\n+func @loc=\"63:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distance1b\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double\"> = var %0 @loc=\"63:5\" @\"a\";\n+    %3 : Var<java.type:\"double\"> = var %1 @loc=\"63:5\" @\"b\";\n+    %4 : java.type:\"double\" = var.load %2 @loc=\"65:29\";\n+    %5 : java.type:\"double\" = var.load %3 @loc=\"65:33\";\n+    %6 : java.type:\"double\" = sub %4 %5 @loc=\"65:29\";\n+    %7 : Var<java.type:\"double\"> = var %6 @loc=\"65:9\" @\"diff\";\n+    %8 : java.type:\"double\" = java.cexpression @loc=\"67:31\"\n+        ()java.type:\"boolean\" -> {\n+            %9 : java.type:\"double\" = var.load %7 @loc=\"67:31\";\n+            %10 : java.type:\"double\" = constant @loc=\"67:38\" @0.0d;\n+            %11 : java.type:\"boolean\" = lt %9 %10 @loc=\"67:31\";\n+            yield %11 @loc=\"67:31\";\n@@ -462,4 +478,4 @@\n-        ()double -> {\n-            %12 : double = var.load %7 @loc=\"40:44\";\n-            %13 : double = neg %12 @loc=\"40:43\";\n-            yield %13 @loc=\"40:31\";\n+        ()java.type:\"double\" -> {\n+            %12 : java.type:\"double\" = var.load %7 @loc=\"67:44\";\n+            %13 : java.type:\"double\" = neg %12 @loc=\"67:43\";\n+            yield %13 @loc=\"67:31\";\n@@ -467,3 +483,3 @@\n-        ()double -> {\n-            %14 : double = var.load %7 @loc=\"40:51\";\n-            yield %14 @loc=\"40:31\";\n+        ()java.type:\"double\" -> {\n+            %14 : java.type:\"double\" = var.load %7 @loc=\"67:51\";\n+            yield %14 @loc=\"67:31\";\n@@ -471,3 +487,3 @@\n-    %15 : Var<double> = var %8 @\"result\" @loc=\"40:9\";\n-    %16 : double = var.load %15 @loc=\"41:16\";\n-    return %16 @loc=\"41:9\";\n+    %15 : Var<java.type:\"double\"> = var %8 @loc=\"67:9\" @\"result\";\n+    %16 : java.type:\"double\" = var.load %15 @loc=\"68:16\";\n+    return %16 @loc=\"68:9\";\n@@ -508,10 +524,11 @@\n-func @\"distance1b\" @loc=\"36:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : Var<double> = var %0 @\"a\" @loc=\"36:5\";\n-    %3 : Var<double> = var %1 @\"b\" @loc=\"36:5\";\n-    %4 : double = var.load %2 @loc=\"38:29\";\n-    %5 : double = var.load %3 @loc=\"38:33\";\n-    %6 : double = sub %4 %5 @loc=\"38:29\";\n-    %7 : Var<double> = var %6 @\"diff\" @loc=\"38:9\";\n-    %8 : double = var.load %7 @loc=\"40:31\";\n-    %9 : double = constant @\"0.0\" @loc=\"40:38\";\n-    %10 : boolean = lt %8 %9 @loc=\"40:31\";\n+func @loc=\"63:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distance1b\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double\"> = var %0 @loc=\"63:5\" @\"a\";\n+    %3 : Var<java.type:\"double\"> = var %1 @loc=\"63:5\" @\"b\";\n+    %4 : java.type:\"double\" = var.load %2 @loc=\"65:29\";\n+    %5 : java.type:\"double\" = var.load %3 @loc=\"65:33\";\n+    %6 : java.type:\"double\" = sub %4 %5 @loc=\"65:29\";\n+    %7 : Var<java.type:\"double\"> = var %6 @loc=\"65:9\" @\"diff\";\n+    %8 : java.type:\"double\" = var.load %7 @loc=\"67:31\";\n+    %9 : java.type:\"double\" = constant @loc=\"67:38\" @0.0d;\n+    %10 : java.type:\"boolean\" = lt %8 %9 @loc=\"67:31\";\n@@ -521,2 +538,2 @@\n-    %11 : double = var.load %7 @loc=\"40:44\";\n-    %12 : double = neg %11 @loc=\"40:43\";\n+    %11 : java.type:\"double\" = var.load %7 @loc=\"67:44\";\n+    %12 : java.type:\"double\" = neg %11 @loc=\"67:43\";\n@@ -526,1 +543,1 @@\n-    %13 : double = var.load %7 @loc=\"40:51\";\n+    %13 : java.type:\"double\" = var.load %7 @loc=\"67:51\";\n@@ -529,4 +546,4 @@\n-  ^block_3(%14 : double):\n-    %15 : Var<double> = var %14 @\"result\" @loc=\"40:9\";\n-    %16 : double = var.load %15 @loc=\"41:16\";\n-    return %16 @loc=\"41:9\";\n+  ^block_3(%14 : java.type:\"double\"):\n+    %15 : Var<java.type:\"double\"> = var %14 @loc=\"67:9\" @\"result\";\n+    %16 : java.type:\"double\" = var.load %15 @loc=\"68:16\";\n+    return %16 @loc=\"68:9\";\n@@ -540,1 +557,1 @@\n-The `func` operation's body's entry block contains the same operations in the\n+The `func` operation body's entry block contains the same operations in the\n@@ -549,1 +566,1 @@\n-The last operations in each body of the `java.cexpression` operation,\n+The last operation in each body of the `java.cexpression` operation,\n@@ -577,4 +594,5 @@\n-func @\"distance1b\" @loc=\"36:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : double = sub %0 %1 @loc=\"38:29\";\n-    %3 : double = constant @\"0.0\" @loc=\"40:38\";\n-    %4 : boolean = lt %2 %3 @loc=\"40:31\";\n+func @loc=\"63:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distance1b\"\n+(%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : java.type:\"double\" = sub %0 %1 @loc=\"65:29\";\n+    %3 : java.type:\"double\" = constant @loc=\"67:38\" @0.0d;\n+    %4 : java.type:\"boolean\" = lt %2 %3 @loc=\"67:31\";\n@@ -584,1 +602,1 @@\n-    %5 : double = neg %2 @loc=\"40:43\";\n+    %5 : java.type:\"double\" = neg %2 @loc=\"67:43\";\n@@ -590,2 +608,2 @@\n-  ^block_3(%6 : double):\n-    return %6 @loc=\"41:9\";\n+  ^block_3(%6 : java.type:\"double\"):\n+    return %6 @loc=\"68:9\";\n@@ -607,1 +625,1 @@\n-@CodeReflection\n+@Reflect\n@@ -625,10 +643,11 @@\n-func @\"distanceN\" @loc=\"44:5:file:\/...\/ExpressionGraphs.java\" (%0 : double[], %1 : double[])double -> {\n-    %2 : Var<double[]> = var %0 @\"a\" @loc=\"44:5\";\n-    %3 : Var<double[]> = var %1 @\"b\" @loc=\"44:5\";\n-    %4 : double = constant @\"0.0\" @loc=\"46:22\";\n-    %5 : Var<double> = var %4 @\"sum\" @loc=\"46:9\";\n-    java.for @loc=\"47:9\"\n-        ()Var<int> -> {\n-            %6 : int = constant @\"0\" @loc=\"47:22\";\n-            %7 : Var<int> = var %6 @\"i\" @loc=\"47:14\";\n-            yield %7 @loc=\"47:9\";\n+func @loc=\"71:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distanceN\"\n+(%0 : java.type:\"double[]\", %1 : java.type:\"double[]\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double[]\"> = var %0 @loc=\"71:5\" @\"a\";\n+    %3 : Var<java.type:\"double[]\"> = var %1 @loc=\"71:5\" @\"b\";\n+    %4 : java.type:\"double\" = constant @loc=\"73:22\" @0.0d;\n+    %5 : Var<java.type:\"double\"> = var %4 @loc=\"73:9\" @\"sum\";\n+    java.for @loc=\"74:9\"\n+        ()Var<java.type:\"int\"> -> {\n+            %6 : java.type:\"int\" = constant @loc=\"74:22\" @0;\n+            %7 : Var<java.type:\"int\"> = var %6 @loc=\"74:14\" @\"i\";\n+            yield %7 @loc=\"74:9\";\n@@ -636,6 +655,6 @@\n-        (%8 : Var<int>)boolean -> {\n-            %9 : int = var.load %8 @loc=\"47:25\";\n-            %10 : double[] = var.load %2 @loc=\"47:29\";\n-            %11 : int = array.length %10 @loc=\"47:29\";\n-            %12 : boolean = lt %9 %11 @loc=\"47:25\";\n-            yield %12 @loc=\"47:9\";\n+        (%8 : Var<java.type:\"int\">)java.type:\"boolean\" -> {\n+            %9 : java.type:\"int\" = var.load %8 @loc=\"74:25\";\n+            %10 : java.type:\"double[]\" = var.load %2 @loc=\"74:29\";\n+            %11 : java.type:\"int\" = array.length %10 @loc=\"74:29\";\n+            %12 : java.type:\"boolean\" = lt %9 %11 @loc=\"74:25\";\n+            yield %12 @loc=\"74:9\";\n@@ -643,6 +662,6 @@\n-        (%13 : Var<int>)void -> {\n-            %14 : int = var.load %13 @loc=\"47:39\";\n-            %15 : int = constant @\"1\" @loc=\"47:39\";\n-            %16 : int = add %14 %15 @loc=\"47:39\";\n-            var.store %13 %16 @loc=\"47:39\";\n-            yield @loc=\"47:9\";\n+        (%13 : Var<java.type:\"int\">)java.type:\"void\" -> {\n+            %14 : java.type:\"int\" = var.load %13 @loc=\"74:39\";\n+            %15 : java.type:\"int\" = constant @loc=\"74:39\" @1;\n+            %16 : java.type:\"int\" = add %14 %15 @loc=\"74:39\";\n+            var.store %13 %16 @loc=\"74:39\";\n+            yield @loc=\"74:9\";\n@@ -650,14 +669,14 @@\n-        (%17 : Var<int>)void -> {\n-            %18 : double = var.load %5 @loc=\"48:13\";\n-            %19 : double[] = var.load %2 @loc=\"48:29\";\n-            %20 : int = var.load %17 @loc=\"48:31\";\n-            %21 : double = array.load %19 %20 @loc=\"48:29\";\n-            %22 : double[] = var.load %3 @loc=\"48:36\";\n-            %23 : int = var.load %17 @loc=\"48:38\";\n-            %24 : double = array.load %22 %23 @loc=\"48:36\";\n-            %25 : double = sub %21 %24 @loc=\"48:29\";\n-            %26 : double = constant @\"2.0\" @loc=\"48:42\";\n-            %27 : double = invoke %25 %26 @\"java.lang.Math::pow(double, double)double\" @loc=\"48:20\";\n-            %28 : double = add %18 %27 @loc=\"48:13\";\n-            var.store %5 %28 @loc=\"48:13\";\n-            java.continue @loc=\"47:9\";\n+        (%17 : Var<java.type:\"int\">)java.type:\"void\" -> {\n+            %18 : java.type:\"double\" = var.load %5 @loc=\"75:13\";\n+            %19 : java.type:\"double[]\" = var.load %2 @loc=\"75:29\";\n+            %20 : java.type:\"int\" = var.load %17 @loc=\"75:31\";\n+            %21 : java.type:\"double\" = array.load %19 %20 @loc=\"75:29\";\n+            %22 : java.type:\"double[]\" = var.load %3 @loc=\"75:36\";\n+            %23 : java.type:\"int\" = var.load %17 @loc=\"75:38\";\n+            %24 : java.type:\"double\" = array.load %22 %23 @loc=\"75:36\";\n+            %25 : java.type:\"double\" = sub %21 %24 @loc=\"75:29\";\n+            %26 : java.type:\"double\" = constant @loc=\"75:42\" @2.0d;\n+            %27 : java.type:\"double\" = invoke %25 %26 @loc=\"75:20\" @java.ref:\"java.lang.Math::pow(double, double):double\";\n+            %28 : java.type:\"double\" = add %18 %27 @loc=\"75:13\";\n+            var.store %5 %28 @loc=\"75:13\";\n+            java.continue @loc=\"74:9\";\n@@ -665,3 +684,3 @@\n-    %29 : double = var.load %5 @loc=\"50:26\";\n-    %30 : double = invoke %29 @\"java.lang.Math::sqrt(double)double\" @loc=\"50:16\";\n-    return %30 @loc=\"50:9\";\n+    %29 : java.type:\"double\" = var.load %5 @loc=\"77:26\";\n+    %30 : java.type:\"double\" = invoke %29 @loc=\"77:16\" @java.ref:\"java.lang.Math::sqrt(double):double\";\n+    return %30 @loc=\"77:9\";\n@@ -686,1 +705,1 @@\n-[jls-14.14.1]: https:\/\/docs.oracle.com\/javase\/specs\/jls\/se22\/html\/jls-14.html#jls-14.14.1\n+[jls-14.14.1]: https:\/\/docs.oracle.com\/javase\/specs\/jls\/se25\/html\/jls-14.html#jls-14.14.1\n@@ -695,2 +714,2 @@\n-> models do not explicitly support the grouping of multiple return values or an\n-> operation producing multiple results.\n+> models do not intrinsically support the grouping of multiple return values or\n+> an operation producing multiple results.\n@@ -710,7 +729,8 @@\n-func @\"distanceN\" @loc=\"44:5:file:\/...\/ExpressionGraphs.java\" (%0 : double[], %1 : double[])double -> {\n-    %2 : Var<double[]> = var %0 @\"a\" @loc=\"44:5\";\n-    %3 : Var<double[]> = var %1 @\"b\" @loc=\"44:5\";\n-    %4 : double = constant @\"0.0\" @loc=\"46:22\";\n-    %5 : Var<double> = var %4 @\"sum\" @loc=\"46:9\";\n-    %6 : int = constant @\"0\" @loc=\"47:22\";\n-    %7 : Var<int> = var %6 @\"i\" @loc=\"47:14\";\n+func @loc=\"71:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distanceN\"\n+(%0 : java.type:\"double[]\", %1 : java.type:\"double[]\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double[]\"> = var %0 @loc=\"71:5\" @\"a\";\n+    %3 : Var<java.type:\"double[]\"> = var %1 @loc=\"71:5\" @\"b\";\n+    %4 : java.type:\"double\" = constant @loc=\"73:22\" @0.0d;\n+    %5 : Var<java.type:\"double\"> = var %4 @loc=\"73:9\" @\"sum\";\n+    %6 : java.type:\"int\" = constant @loc=\"74:22\" @0;\n+    %7 : Var<java.type:\"int\"> = var %6 @loc=\"74:14\" @\"i\";\n@@ -720,4 +740,4 @@\n-    %8 : int = var.load %7 @loc=\"47:25\";\n-    %9 : double[] = var.load %2 @loc=\"47:29\";\n-    %10 : int = array.length %9 @loc=\"47:29\";\n-    %11 : boolean = lt %8 %10 @loc=\"47:25\";\n+    %8 : java.type:\"int\" = var.load %7 @loc=\"74:25\";\n+    %9 : java.type:\"double[]\" = var.load %2 @loc=\"74:29\";\n+    %10 : java.type:\"int\" = array.length %9 @loc=\"74:29\";\n+    %11 : java.type:\"boolean\" = lt %8 %10 @loc=\"74:25\";\n@@ -727,12 +747,12 @@\n-    %12 : double = var.load %5 @loc=\"48:13\";\n-    %13 : double[] = var.load %2 @loc=\"48:29\";\n-    %14 : int = var.load %7 @loc=\"48:31\";\n-    %15 : double = array.load %13 %14;\n-    %16 : double[] = var.load %3 @loc=\"48:36\";\n-    %17 : int = var.load %7 @loc=\"48:38\";\n-    %18 : double = array.load %16 %17;\n-    %19 : double = sub %15 %18 @loc=\"48:29\";\n-    %20 : double = constant @\"2.0\" @loc=\"48:42\";\n-    %21 : double = invoke %19 %20 @\"java.lang.Math::pow(double, double)double\" @loc=\"48:20\";\n-    %22 : double = add %12 %21 @loc=\"48:13\";\n-    var.store %5 %22 @loc=\"48:13\";\n+    %12 : java.type:\"double\" = var.load %5 @loc=\"75:13\";\n+    %13 : java.type:\"double[]\" = var.load %2 @loc=\"75:29\";\n+    %14 : java.type:\"int\" = var.load %7 @loc=\"75:31\";\n+    %15 : java.type:\"double\" = array.load %13 %14 @loc=\"75:29\";\n+    %16 : java.type:\"double[]\" = var.load %3 @loc=\"75:36\";\n+    %17 : java.type:\"int\" = var.load %7 @loc=\"75:38\";\n+    %18 : java.type:\"double\" = array.load %16 %17 @loc=\"75:36\";\n+    %19 : java.type:\"double\" = sub %15 %18 @loc=\"75:29\";\n+    %20 : java.type:\"double\" = constant @loc=\"75:42\" @2.0d;\n+    %21 : java.type:\"double\" = invoke %19 %20 @loc=\"75:20\" @java.ref:\"java.lang.Math::pow(double, double):double\";\n+    %22 : java.type:\"double\" = add %12 %21 @loc=\"75:13\";\n+    var.store %5 %22 @loc=\"75:13\";\n@@ -742,4 +762,4 @@\n-    %23 : int = var.load %7 @loc=\"47:39\";\n-    %24 : int = constant @\"1\" @loc=\"47:39\";\n-    %25 : int = add %23 %24 @loc=\"47:39\";\n-    var.store %7 %25 @loc=\"47:39\";\n+    %23 : java.type:\"int\" = var.load %7 @loc=\"74:39\";\n+    %24 : java.type:\"int\" = constant @loc=\"74:39\" @1;\n+    %25 : java.type:\"int\" = add %23 %24 @loc=\"74:39\";\n+    var.store %7 %25 @loc=\"74:39\";\n@@ -749,3 +769,3 @@\n-    %26 : double = var.load %5 @loc=\"50:26\";\n-    %27 : double = invoke %26 @\"java.lang.Math::sqrt(double)double\" @loc=\"50:16\";\n-    return %27 @loc=\"50:9\";\n+    %26 : java.type:\"double\" = var.load %5 @loc=\"77:26\";\n+    %27 : java.type:\"double\" = invoke %26 @loc=\"77:16\" @java.ref:\"java.lang.Math::sqrt(double):double\";\n+    return %27 @loc=\"77:9\";\n@@ -768,4 +788,5 @@\n-func @\"distanceN\" @loc=\"44:5:file:\/...\/ExpressionGraphs.java\" (%0 : double[], %1 : double[])double -> {\n-    %2 : double = constant @\"0.0\" @loc=\"46:22\";\n-    %3 : int = constant @\"0\" @loc=\"47:22\";\n-    branch ^block_1(%2, %3);\n+func @loc=\"71:5:file:\/\/\/...\/TestExpressionGraphs.java\" @\"distanceN\"\n+(%0 : java.type:\"double[]\", %1 : java.type:\"double[]\")java.type:\"double\" -> {\n+    %2 : java.type:\"double\" = constant @loc=\"73:22\" @0.0d;\n+    %3 : java.type:\"int\" = constant @loc=\"74:22\" @0;\n+    branch ^block_1(%3, %2);\n@@ -773,3 +794,3 @@\n-  ^block_1(%4 : double, %5 : int):\n-    %6 : int = array.length %0 @loc=\"47:29\";\n-    %7 : boolean = lt %5 %6 @loc=\"47:25\";\n+  ^block_1(%4 : java.type:\"int\", %5 : java.type:\"double\"):\n+    %6 : java.type:\"int\" = array.length %0 @loc=\"74:29\";\n+    %7 : java.type:\"boolean\" = lt %4 %6 @loc=\"74:25\";\n@@ -779,6 +800,6 @@\n-    %8 : double = array.load %0 %5;\n-    %9 : double = array.load %1 %5;\n-    %10 : double = sub %8 %9 @loc=\"48:29\";\n-    %11 : double = constant @\"2.0\" @loc=\"48:42\";\n-    %12 : double = invoke %10 %11 @\"java.lang.Math::pow(double, double)double\" @loc=\"48:20\";\n-    %13 : double = add %4 %12 @loc=\"48:13\";\n+    %8 : java.type:\"double\" = array.load %0 %4 @loc=\"75:29\";\n+    %9 : java.type:\"double\" = array.load %1 %4 @loc=\"75:36\";\n+    %10 : java.type:\"double\" = sub %8 %9 @loc=\"75:29\";\n+    %11 : java.type:\"double\" = constant @loc=\"75:42\" @2.0d;\n+    %12 : java.type:\"double\" = invoke %10 %11 @loc=\"75:20\" @java.ref:\"java.lang.Math::pow(double, double):double\";\n+    %13 : java.type:\"double\" = add %5 %12 @loc=\"75:13\";\n@@ -788,3 +809,3 @@\n-    %14 : int = constant @\"1\" @loc=\"47:39\";\n-    %15 : int = add %5 %14 @loc=\"47:39\";\n-    branch ^block_1(%13, %15);\n+    %14 : java.type:\"int\" = constant @loc=\"74:39\" @1;\n+    %15 : java.type:\"int\" = add %4 %14 @loc=\"74:39\";\n+    branch ^block_1(%15, %13);\n@@ -793,2 +814,2 @@\n-    %16 : double = invoke %4 @\"java.lang.Math::sqrt(double)double\" @loc=\"50:16\";\n-    return %16 @loc=\"50:9\";\n+    %16 : java.type:\"double\" = invoke %5 @loc=\"77:16\" @java.ref:\"java.lang.Math::sqrt(double):double\";\n+    return %16 @loc=\"77:9\";\n@@ -799,1 +820,1 @@\n-values of local variables `sum` and `i` respectively for the current loop\n+values of local variables `i` and `sum` respectively for the current loop\n@@ -805,1 +826,1 @@\n-> in `^block_2` or the `invoke` operation in `^block_4` can use `%4`, since \n+> in `^block_2` or the `invoke` operation in `^block_4` can use `%5`, since\n@@ -808,1 +829,1 @@\n-> Structured control flow operations and pure SSA form are not mutually\n+> Operations with structured control flow and pure SSA form are not mutually\n@@ -971,1 +992,1 @@\n-@CodeReflection\n+@Reflect\n@@ -976,8 +997,9 @@\n-func @\"distance1\" @loc=\"24:5:file:\/...\/ExpressionGraphs.java\" (%0 : double, %1 : double)double -> {\n-    %2 : Var<double> = var %0 @\"a\" @loc=\"24:5\";\n-    %3 : Var<double> = var %1 @\"b\" @loc=\"24:5\";\n-    %4 : double = var.load %2 @loc=\"26:25\";\n-    %5 : double = var.load %3 @loc=\"26:29\";\n-    %6 : double = sub %4 %5 @loc=\"26:25\";\n-    %7 : double = invoke %6 @\"java.lang.Math::abs(double)double\" @loc=\"26:16\";\n-    %8 : void = return %7 @loc=\"26:9\";\n+func @loc=\"51:5:file:\/\/\/...\/TestExpressionGraphs.java\"\n+@\"distance1\" (%0 : java.type:\"double\", %1 : java.type:\"double\")java.type:\"double\" -> {\n+    %2 : Var<java.type:\"double\"> = var %0 @loc=\"51:5\" @\"a\";\n+    %3 : Var<java.type:\"double\"> = var %1 @loc=\"51:5\" @\"b\";\n+    %4 : java.type:\"double\" = var.load %2 @loc=\"53:25\";\n+    %5 : java.type:\"double\" = var.load %3 @loc=\"53:29\";\n+    %6 : java.type:\"double\" = sub %4 %5 @loc=\"53:25\";\n+    %7 : java.type:\"double\" = invoke %6 @loc=\"53:16\" @java.ref:\"java.lang.Math::abs(double):double\";\n+    %8 : java.type:\"void\" = return %7 @loc=\"53:9\";\n@@ -986,5 +1008,5 @@\n-%8 : void = return %7 @loc=\"26:9\";\n-└── %7 : double = invoke %6 @\"java.lang.Math::abs(double)double\" @loc=\"26:16\";\n-    └── %6 : double = sub %4 %5 @loc=\"26:25\";\n-        ├── %4 : double = var.load %2 @loc=\"26:25\";\n-        │   └── %2 : Var<double> = var %0 @\"a\" @loc=\"24:5\";\n+%8 : java.type:\"void\" = return %7 @loc=\"53:9\";\n+└── %7 : java.type:\"double\" = invoke %6 @loc=\"53:16\" @java.ref:\"java.lang.Math::abs(double):double\";\n+    └── %6 : java.type:\"double\" = sub %4 %5 @loc=\"53:25\";\n+        ├── %4 : java.type:\"double\" = var.load %2 @loc=\"53:25\";\n+        │   └── %2 : Var<java.type:\"double\"> = var %0 @loc=\"51:5\" @\"a\";\n@@ -992,2 +1014,2 @@\n-        └── %5 : double = var.load %3 @loc=\"26:29\";\n-            └── %3 : Var<double> = var %1 @\"b\" @loc=\"24:5\";\n+        └── %5 : java.type:\"double\" = var.load %3 @loc=\"53:29\";\n+            └── %3 : Var<java.type:\"double\"> = var %1 @loc=\"51:5\" @\"b\";\n@@ -1022,1 +1044,1 @@\n-@CodeReflection\n+@Reflect\n@@ -1028,5 +1050,5 @@\n-└── %2 : Var<double> = var %0 @\"a\" @loc=\"24:5\";\n-    └── %4 : double = var.load %2 @loc=\"26:25\";\n-        └── %6 : double = sub %4 %5 @loc=\"26:25\";\n-            └── %7 : double = invoke %6 @\"java.lang.Math::abs(double)double\" @loc=\"26:16\";\n-                └── %8 : void = return %7 @loc=\"26:9\";\n+└── %2 : Var<java.type:\"double\"> = var %0 @loc=\"51:5\" @\"a\";\n+    └── %4 : java.type:\"double\" = var.load %2 @loc=\"53:25\";\n+        └── %6 : java.type:\"double\" = sub %4 %5 @loc=\"53:25\";\n+            └── %7 : java.type:\"double\" = invoke %6 @loc=\"53:16\" @java.ref:\"java.lang.Math::abs(double):double\";\n+                └── %8 : java.type:\"void\" = return %7 @loc=\"53:9\";\n@@ -1035,5 +1057,5 @@\n-└── %3 : Var<double> = var %1 @\"b\" @loc=\"24:5\";\n-    └── %5 : double = var.load %3 @loc=\"26:29\";\n-        └── %6 : double = sub %4 %5 @loc=\"26:25\";\n-            └── %7 : double = invoke %6 @\"java.lang.Math::abs(double)double\" @loc=\"26:16\";\n-                └── %8 : void = return %7 @loc=\"26:9\";\n+└── %3 : Var<java.type:\"double\"> = var %1 @loc=\"51:5\" @\"b\";\n+    └── %5 : java.type:\"double\" = var.load %3 @loc=\"53:29\";\n+        └── %6 : java.type:\"double\" = sub %4 %5 @loc=\"53:25\";\n+            └── %7 : java.type:\"double\" = invoke %6 @loc=\"53:16\" @java.ref:\"java.lang.Math::abs(double):double\";\n+                └── %8 : java.type:\"void\" = return %7 @loc=\"53:9\";\n@@ -1057,2 +1079,2 @@\n-    \/\/ Traverse the model building structurally shared expression graphs\n-    return b.traverse(new LinkedHashMap<>(), (graphs, codeElement) -> {\n+    LinkedHashMap<Value, Node<Value>> graphs = new LinkedHashMap<>();\n+    b.elements().forEach(codeElement -> {\n@@ -1083,1 +1105,0 @@\n-        return graphs;\n@@ -1085,0 +1106,1 @@\n+    return graphs;\n@@ -1180,1 +1202,1 @@\n-@CodeReflection\n+@Reflect\n@@ -1197,7 +1219,7 @@\n-%15 : void = return %14 @loc=\"58:9\";\n-└── %14 : double = mul %12 %13 @loc=\"58:16\";\n-    ├── %12 : double = var.load %7 @loc=\"58:16\";\n-    │   └── %7 : Var<double> = var %6 @\"plus\" @loc=\"56:9\";\n-    │       └── %6 : double = add %4 %5 @loc=\"56:29\";\n-    │           ├── %4 : double = var.load %2 @loc=\"56:29\";\n-    │           │   └── %2 : Var<double> = var %0 @\"a\" @loc=\"53:5\";\n+%15 : java.type:\"void\" = return %14 @loc=\"85:9\";\n+└── %14 : java.type:\"double\" = mul %12 %13 @loc=\"85:16\";\n+    ├── %12 : java.type:\"double\" = var.load %7 @loc=\"85:16\";\n+    │   └── %7 : Var<java.type:\"double\"> = var %6 @loc=\"83:9\" @\"plus\";\n+    │       └── %6 : java.type:\"double\" = add %4 %5 @loc=\"83:29\";\n+    │           ├── %4 : java.type:\"double\" = var.load %2 @loc=\"83:29\";\n+    │           │   └── %2 : Var<java.type:\"double\"> = var %0 @loc=\"80:5\" @\"a\";\n@@ -1205,2 +1227,2 @@\n-    │           └── %5 : double = var.load %3 @loc=\"56:33\";\n-    │               └── %3 : Var<double> = var %1 @\"b\" @loc=\"53:5\";\n+    │           └── %5 : java.type:\"double\" = var.load %3 @loc=\"83:33\";\n+    │               └── %3 : Var<java.type:\"double\"> = var %1 @loc=\"80:5\" @\"b\";\n@@ -1208,5 +1230,5 @@\n-    └── %13 : double = var.load %11 @loc=\"58:23\";\n-        └── %11 : Var<double> = var %10 @\"minus\" @loc=\"57:9\";\n-            └── %10 : double = sub %8 %9 @loc=\"57:30\";\n-                ├── %8 : double = var.load %2 @loc=\"57:30\";\n-                │   └── %2 : Var<double> = var %0 @\"a\" @loc=\"53:5\";\n+    └── %13 : java.type:\"double\" = var.load %11 @loc=\"85:23\";\n+        └── %11 : Var<java.type:\"double\"> = var %10 @loc=\"84:9\" @\"minus\";\n+            └── %10 : java.type:\"double\" = sub %8 %9 @loc=\"84:30\";\n+                ├── %8 : java.type:\"double\" = var.load %2 @loc=\"84:30\";\n+                │   └── %2 : Var<java.type:\"double\"> = var %0 @loc=\"80:5\" @\"a\";\n@@ -1214,2 +1236,2 @@\n-                └── %9 : double = var.load %3 @loc=\"57:34\";\n-                    └── %3 : Var<double> = var %1 @\"b\" @loc=\"53:5\";\n+                └── %9 : java.type:\"double\" = var.load %3 @loc=\"84:34\";\n+                    └── %3 : Var<java.type:\"double\"> = var %1 @loc=\"80:5\" @\"b\";\n@@ -1269,0 +1291,1 @@\n+    LinkedHashMap<Value, Node<Value>> graphs = new LinkedHashMap<>();\n@@ -1270,1 +1293,1 @@\n-    return b.traverse(new LinkedHashMap<>(), (graphs, codeElement) -> {\n+    b.elements().forEach(codeElement -> {\n@@ -1288,1 +1311,0 @@\n-        return graphs;\n@@ -1290,0 +1312,1 @@\n+    return graphs;\n@@ -1291,0 +1314,1 @@\n+\n@@ -1310,1 +1334,1 @@\n-@CodeReflection\n+@Reflect\n@@ -1318,4 +1342,4 @@\n-%7 : Var<double> = var %6 @\"plus\" @loc=\"56:9\";\n-└── %6 : double = add %4 %5 @loc=\"56:29\";\n-    ├── %4 : double = var.load %2 @loc=\"56:29\";\n-    └── %5 : double = var.load %3 @loc=\"56:33\";\n+%7 : Var<java.type:\"double\"> = var %6 @loc=\"83:9\" @\"plus\";\n+└── %6 : java.type:\"double\" = add %4 %5 @loc=\"83:29\";\n+    ├── %4 : java.type:\"double\" = var.load %2 @loc=\"83:29\";\n+    └── %5 : java.type:\"double\" = var.load %3 @loc=\"83:33\";\n@@ -1323,4 +1347,4 @@\n-%11 : Var<double> = var %10 @\"minus\" @loc=\"57:9\";\n-└── %10 : double = sub %8 %9 @loc=\"57:30\";\n-    ├── %8 : double = var.load %2 @loc=\"57:30\";\n-    └── %9 : double = var.load %3 @loc=\"57:34\";\n+%11 : Var<java.type:\"double\"> = var %10 @loc=\"84:9\" @\"minus\";\n+└── %10 : java.type:\"double\" = sub %8 %9 @loc=\"84:30\";\n+    ├── %8 : java.type:\"double\" = var.load %2 @loc=\"84:30\";\n+    └── %9 : java.type:\"double\" = var.load %3 @loc=\"84:34\";\n@@ -1328,4 +1352,4 @@\n-%15 : void = return %14 @loc=\"58:9\";\n-└── %14 : double = mul %12 %13 @loc=\"58:16\";\n-    ├── %12 : double = var.load %7 @loc=\"58:16\";\n-    └── %13 : double = var.load %11 @loc=\"58:23\";\n+%15 : java.type:\"void\" = return %14 @loc=\"85:9\";\n+└── %14 : java.type:\"double\" = mul %12 %13 @loc=\"85:16\";\n+    ├── %12 : java.type:\"double\" = var.load %7 @loc=\"85:16\";\n+    └── %13 : java.type:\"double\" = var.load %11 @loc=\"85:23\";\n","filename":"site\/articles\/code-models.md","additions":324,"deletions":300,"binary":false,"changes":624,"status":"modified"}]}
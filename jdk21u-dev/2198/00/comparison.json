{"files":[{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2012, 2023 SAP SE. All rights reserved.\n+ * Copyright (c) 2012, 2025 SAP SE. All rights reserved.\n@@ -1163,2 +1163,0 @@\n-  char* const file_path = strdup(filename);\n-  char* const pointer_to_dot = strrchr(file_path, '.');\n@@ -1167,1 +1165,0 @@\n-  STATIC_ASSERT(sizeof(old_extension) >= sizeof(new_extension));\n@@ -1169,1 +1166,1 @@\n-  int eno=0;\n+  int eno = 0;\n@@ -1171,1 +1168,1 @@\n-  \/\/ If the load fails,we try to reload by changing the extension to .a for .so files only.\n+  \/\/ If the load fails, we try to reload by changing the extension to .a for .so files only.\n@@ -1173,3 +1170,10 @@\n-  if (result == nullptr && eno == ENOENT && pointer_to_dot != nullptr && strcmp(pointer_to_dot, old_extension) == 0) {\n-    snprintf(pointer_to_dot, sizeof(old_extension), \"%s\", new_extension);\n-    result = dll_load_library(file_path, &eno, ebuf, ebuflen);\n+  if (result == nullptr && eno == ENOENT) {\n+    const char* pointer_to_dot = strrchr(filename, '.');\n+    if (pointer_to_dot != nullptr && strcmp(pointer_to_dot, old_extension) == 0) {\n+      STATIC_ASSERT(sizeof(old_extension) >= sizeof(new_extension));\n+      char* tmp_path = os::strdup(filename);\n+      size_t prefix_size = pointer_delta(pointer_to_dot, filename, 1);\n+      os::snprintf(tmp_path + prefix_size, sizeof(old_extension), \"%s\", new_extension);\n+      result = dll_load_library(tmp_path, &eno, ebuf, ebuflen);\n+      os::free(tmp_path);\n+    }\n@@ -1177,1 +1181,0 @@\n-  FREE_C_HEAP_ARRAY(char, file_path);\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":13,"deletions":10,"binary":false,"changes":23,"status":"modified"}]}
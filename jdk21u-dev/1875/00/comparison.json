{"files":[{"patch":"@@ -211,0 +211,2 @@\n+    virtual jlong rss_usage_in_bytes() = 0;\n+    virtual jlong cache_usage_in_bytes() = 0;\n","filename":"src\/hotspot\/os\/linux\/cgroupSubsystem_linux.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -235,0 +235,24 @@\n+jlong CgroupV1Subsystem::rss_usage_in_bytes() {\n+  julong rss;\n+  bool is_ok = _memory->controller()->read_numerical_key_value(\"\/memory.stat\",\n+                                                               \"rss\",\n+                                                               &rss);\n+  if (!is_ok) {\n+    return OSCONTAINER_ERROR;\n+  }\n+  log_trace(os, container)(\"RSS usage is: \" JULONG_FORMAT, rss);\n+  return (jlong)rss;\n+}\n+\n+jlong CgroupV1Subsystem::cache_usage_in_bytes() {\n+  julong cache;\n+  bool is_ok = _memory->controller()->read_numerical_key_value(\"\/memory.stat\",\n+                                                               \"cache\",\n+                                                               &cache);\n+  if (!is_ok) {\n+    return OSCONTAINER_ERROR;\n+  }\n+  log_trace(os, container)(\"Cache usage is: \" JULONG_FORMAT, cache);\n+  return (jlong)cache;\n+}\n+\n","filename":"src\/hotspot\/os\/linux\/cgroupV1Subsystem_linux.cpp","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -82,0 +82,2 @@\n+    jlong rss_usage_in_bytes();\n+    jlong cache_usage_in_bytes();\n","filename":"src\/hotspot\/os\/linux\/cgroupV1Subsystem_linux.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -148,0 +148,22 @@\n+jlong CgroupV2Subsystem::rss_usage_in_bytes() {\n+  julong rss;\n+  bool is_ok = _memory->controller()->\n+                    read_numerical_key_value(\"\/memory.stat\", \"anon\", &rss);\n+  if (!is_ok) {\n+    return OSCONTAINER_ERROR;\n+  }\n+  log_trace(os, container)(\"RSS usage is: \" JULONG_FORMAT, rss);\n+  return (jlong)rss;\n+}\n+\n+jlong CgroupV2Subsystem::cache_usage_in_bytes() {\n+  julong cache;\n+  bool is_ok = _memory->controller()->\n+                    read_numerical_key_value(\"\/memory.stat\", \"file\", &cache);\n+  if (!is_ok) {\n+    return OSCONTAINER_ERROR;\n+  }\n+  log_trace(os, container)(\"Cache usage is: \" JULONG_FORMAT, cache);\n+  return (jlong)cache;\n+}\n+\n","filename":"src\/hotspot\/os\/linux\/cgroupV2Subsystem_linux.cpp","additions":22,"deletions":0,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -77,0 +77,2 @@\n+    jlong rss_usage_in_bytes();\n+    jlong cache_usage_in_bytes();\n","filename":"src\/hotspot\/os\/linux\/cgroupV2Subsystem_linux.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -95,0 +95,10 @@\n+jlong OSContainer::rss_usage_in_bytes() {\n+  assert(cgroup_subsystem != nullptr, \"cgroup subsystem not available\");\n+  return cgroup_subsystem->rss_usage_in_bytes();\n+}\n+\n+jlong OSContainer::cache_usage_in_bytes() {\n+  assert(cgroup_subsystem != nullptr, \"cgroup subsystem not available\");\n+  return cgroup_subsystem->cache_usage_in_bytes();\n+}\n+\n","filename":"src\/hotspot\/os\/linux\/osContainer_linux.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -58,0 +58,2 @@\n+  static jlong rss_usage_in_bytes();\n+  static jlong cache_usage_in_bytes();\n","filename":"src\/hotspot\/os\/linux\/osContainer_linux.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2383,0 +2383,2 @@\n+  OSContainer::print_container_helper(st, OSContainer::rss_usage_in_bytes(), \"rss_usage_in_bytes\");\n+  OSContainer::print_container_helper(st, OSContainer::cache_usage_in_bytes(), \"cache_usage_in_bytes\");\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,1 +120,3 @@\n-            \"current number of tasks\"\n+            \"current number of tasks\",\n+            \"rss_usage_in_bytes\",\n+            \"cache_usage_in_bytes\"\n","filename":"test\/hotspot\/jtreg\/containers\/docker\/TestMisc.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
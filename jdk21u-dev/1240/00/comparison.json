{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -81,3 +81,2 @@\n-        obj = null;\n-        Reference.reachabilityFence(obj);\n-        Reference.reachabilityFence(ref);\n+        try {\n+            obj = null;\n@@ -85,5 +84,5 @@\n-        int retries = (int)(timeout \/ 200);\n-        for (; retries >= 0; retries--) {\n-            if (booleanSupplier.getAsBoolean()) {\n-                return true;\n-            }\n+            int retries = (int) (timeout \/ 200);\n+            for (; retries >= 0; retries--) {\n+                if (booleanSupplier.getAsBoolean()) {\n+                    return true;\n+                }\n@@ -91,1 +90,1 @@\n-            System.gc();\n+                System.gc();\n@@ -93,8 +92,9 @@\n-            try {\n-                \/\/ The remove() will always block for the specified milliseconds\n-                \/\/ if the reference has already been removed from the queue.\n-                \/\/ But it is fine.  For most cases, the 1st GC is sufficient\n-                \/\/ to trigger and complete the cleanup.\n-                queue.remove(200L);\n-            } catch (InterruptedException ie) {\n-                \/\/ ignore, the loop will try again\n+                try {\n+                    \/\/ The remove() will always block for the specified milliseconds\n+                    \/\/ if the reference has already been removed from the queue.\n+                    \/\/ But it is fine.  For most cases, the 1st GC is sufficient\n+                    \/\/ to trigger and complete the cleanup.\n+                    queue.remove(200L);\n+                } catch (InterruptedException ie) {\n+                    \/\/ ignore, the loop will try again\n+                }\n@@ -102,0 +102,2 @@\n+        } finally {\n+            Reference.reachabilityFence(ref);\n@@ -103,1 +105,0 @@\n-\n","filename":"test\/lib\/jdk\/test\/lib\/util\/ForceGC.java","additions":20,"deletions":19,"binary":false,"changes":39,"status":"modified"}]}
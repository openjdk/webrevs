{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,1 +57,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createTestJvm(\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/TestInvalidReplayFile.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createTestJvm(\n","filename":"test\/hotspot\/jtreg\/compiler\/rangechecks\/TestRangeCheckHoistingScaledIV.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,2 +26,1 @@\n- * @test SharedStubToInterpTest\n- * @summary Checks that stubs to the interpreter can be shared for static or final method.\n+ * @test id=C1\n@@ -29,0 +28,1 @@\n+ * @summary Checks that stubs to the interpreter can be shared for static or final method.\n@@ -30,0 +30,4 @@\n+ * @requires vm.opt.TieredStopAtLevel == null & vm.opt.TieredCompilation == null\n+ * @requires vm.simpleArch == \"x86\" | vm.simpleArch == \"x64\" | vm.simpleArch == \"aarch64\" | vm.simpleArch == \"riscv64\"\n+ * @requires vm.debug\n+ * @run driver compiler.sharedstubs.SharedStubToInterpTest -XX:TieredStopAtLevel=1\n@@ -31,1 +35,3 @@\n- * @requires os.arch==\"amd64\" | os.arch==\"x86_64\" | os.arch==\"i386\" | os.arch==\"x86\" | os.arch==\"aarch64\" | os.arch==\"riscv64\"\n+ * @test id=C2\n+ * @requires vm.opt.TieredStopAtLevel == null & vm.opt.TieredCompilation == null\n+ * @requires vm.simpleArch == \"x86\" | vm.simpleArch == \"x64\" | vm.simpleArch == \"aarch64\" | vm.simpleArch == \"riscv64\"\n@@ -33,0 +39,1 @@\n+ * @run driver compiler.sharedstubs.SharedStubToInterpTest -XX:-TieredCompilation\n@@ -34,1 +41,0 @@\n- * @run driver compiler.sharedstubs.SharedStubToInterpTest\n@@ -48,1 +54,1 @@\n-    private static void runTest(String compiler, String test) throws Exception {\n+    private static void runTest(String test) throws Exception {\n@@ -51,1 +57,0 @@\n-        command.add(compiler);\n@@ -64,1 +69,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createTestJvm(command);\n@@ -76,8 +81,3 @@\n-        List<String> compilers = java.util.Arrays.asList(\"-XX:-TieredCompilation\" \/* C2 *\/,\n-            \"-XX:TieredStopAtLevel=1\" \/* C1 *\/);\n-        List<String> tests = java.util.Arrays.asList(\"StaticMethodTest\",\n-            \"FinalClassTest\", \"FinalMethodTest\");\n-        for (String compiler : compilers) {\n-            for (String test : tests) {\n-                runTest(compiler, test);\n-            }\n+        String[] methods = new String[] { \"StaticMethodTest\", \"FinalClassTest\", \"FinalMethodTest\"};\n+        for (String methodName : methods) {\n+            runTest(methodName);\n","filename":"test\/hotspot\/jtreg\/compiler\/sharedstubs\/SharedStubToInterpTest.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test SharedTrampolineTest\n+ * @test SharedTrampolineTest id=C2\n@@ -31,0 +31,1 @@\n+ * @requires vm.opt.TieredCompilation == null\n@@ -34,1 +35,1 @@\n- * @run driver compiler.sharedstubs.SharedTrampolineTest\n+ * @run driver compiler.sharedstubs.SharedTrampolineTest -XX:-TieredCompilation\n@@ -40,1 +41,0 @@\n-import java.util.Iterator;\n@@ -42,1 +42,0 @@\n-import java.util.stream.Collectors;\n@@ -50,1 +49,1 @@\n-    private static void runTest(String compiler, String test) throws Exception {\n+    private static void runTest(String test) throws Exception {\n@@ -53,1 +52,0 @@\n-        command.add(compiler);\n@@ -63,1 +61,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(command);\n+        ProcessBuilder pb = ProcessTools.createTestJvm(command);\n@@ -75,6 +73,3 @@\n-        List<String> compilers = List.of(\"-XX:-TieredCompilation\" \/* C2 *\/);\n-        List<String> tests = List.of(\"StaticMethodTest\");\n-        for (String compiler : compilers) {\n-            for (String test : tests) {\n-                runTest(compiler, test);\n-            }\n+        String[] tests = new String[] {\"StaticMethodTest\"};\n+        for (String test : tests) {\n+            runTest(test);\n","filename":"test\/hotspot\/jtreg\/compiler\/sharedstubs\/SharedTrampolineTest.java","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"}]}
{"files":[{"patch":"@@ -40,0 +40,4 @@\n+void XArguments::initialize_heap_flags_and_sizes() {\n+  \/\/ Nothing extra to do\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/x\/xArguments.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+  static void initialize_heap_flags_and_sizes();\n","filename":"src\/hotspot\/share\/gc\/x\/xArguments.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,0 +41,10 @@\n+void ZSharedArguments::initialize_heap_flags_and_sizes() {\n+  GCArguments::initialize_heap_flags_and_sizes();\n+\n+  if (ZGenerational) {\n+    ZArguments::initialize_heap_flags_and_sizes();\n+  } else {\n+    XArguments::initialize_heap_flags_and_sizes();\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/z\/shared\/zSharedArguments.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+  virtual void initialize_heap_flags_and_sizes();\n","filename":"src\/hotspot\/share\/gc\/z\/shared\/zSharedArguments.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -40,0 +40,13 @@\n+void ZArguments::initialize_heap_flags_and_sizes() {\n+  if (!FLAG_IS_CMDLINE(MaxHeapSize) &&\n+      !FLAG_IS_CMDLINE(MaxRAMFraction) &&\n+      !FLAG_IS_CMDLINE(MaxRAMPercentage) &&\n+      !FLAG_IS_CMDLINE(SoftMaxHeapSize)) {\n+    \/\/ We are really just guessing how much memory the program needs.\n+    \/\/ When that is the case, we don't want the soft and hard limits to be the same\n+    \/\/ as it can cause flakyness in the number of GC threads used, in order to keep\n+    \/\/ to a random number we just pulled out of thin air.\n+    FLAG_SET_ERGO(SoftMaxHeapSize, MaxHeapSize * 90 \/ 100);\n+  }\n+}\n+\n@@ -129,10 +142,0 @@\n-  if (!FLAG_IS_CMDLINE(MaxHeapSize) &&\n-      !FLAG_IS_CMDLINE(MaxRAMFraction) &&\n-      !FLAG_IS_CMDLINE(MaxRAMPercentage)) {\n-    \/\/ We are really just guessing how much memory the program needs.\n-    \/\/ When that is the case, we don't want the soft and hard limits to be the same\n-    \/\/ as it can cause flakyness in the number of GC threads used, in order to keep\n-    \/\/ to a random number we just pulled out of thin air.\n-    FLAG_SET_ERGO_IF_DEFAULT(SoftMaxHeapSize, MaxHeapSize * 90 \/ 100);\n-  }\n-\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.cpp","additions":13,"deletions":10,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+  static void initialize_heap_flags_and_sizes();\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
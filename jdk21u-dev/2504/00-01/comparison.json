{"files":[{"patch":"@@ -0,0 +1,53 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+\n+package com.sun.org.apache.bcel.internal.classfile;\n+\n+\/**\n+ * Thrown when the BCEL attempts to read a class file and determines that a class is malformed or otherwise cannot be interpreted as a class file.\n+ *\n+ * @since 6.8.0\n+ *\/\n+public class InvalidMethodSignatureException extends ClassFormatException {\n+\n+    private static final long serialVersionUID = 1L;\n+\n+    \/**\n+     * Constructs a new instance with the specified invalid signature as the message.\n+     *\n+     * @param signature The invalid signature is saved for later retrieval by the {@link #getMessage()} method.\n+     *\/\n+    public InvalidMethodSignatureException(final String signature) {\n+        super(signature);\n+    }\n+\n+    \/**\n+     * Constructs a new instance with the specified invalid signature as the message and a cause.\n+     *\n+     * @param signature The invalid signature is saved for later retrieval by the {@link #getMessage()} method.\n+     * @param cause     the cause (which is saved for later retrieval by the {@link #getCause()} method). A {@code null} value is permitted, and indicates that\n+     *                  the cause is nonexistent or unknown.\n+     *\/\n+    public InvalidMethodSignatureException(final String signature, final Throwable cause) {\n+        super(signature, cause);\n+    }\n+\n+}\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/classfile\/InvalidMethodSignatureException.java","additions":53,"deletions":0,"binary":false,"changes":53,"status":"added"},{"patch":"@@ -0,0 +1,153 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+\n+package com.sun.org.apache.bcel.internal.classfile;\n+\n+import java.io.DataInput;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n+\n+import com.sun.org.apache.bcel.internal.Const;\n+import com.sun.org.apache.bcel.internal.util.Args;\n+\n+\/**\n+ * Extends {@link Attribute} and records the classes and\n+ * interfaces that are authorized to claim membership in the nest hosted by the\n+ * current class or interface. There may be at most one Record attribute in a\n+ * ClassFile structure.\n+ *\n+ * @see Attribute\n+ * @since 6.9.0\n+ *\/\n+public final class Record extends Attribute {\n+\n+    private static final RecordComponentInfo[] EMPTY_RCI_ARRAY = {};\n+\n+    private static RecordComponentInfo[] readComponents(final DataInput input, final ConstantPool constantPool)\n+            throws IOException {\n+        final int classCount = input.readUnsignedShort();\n+        final RecordComponentInfo[] components = new RecordComponentInfo[classCount];\n+        for (int i = 0; i < classCount; i++) {\n+            components[i] = new RecordComponentInfo(input, constantPool);\n+        }\n+        return components;\n+    }\n+\n+    private RecordComponentInfo[] components;\n+\n+    \/**\n+     * Constructs object from input stream.\n+     *\n+     * @param nameIndex    Index in constant pool\n+     * @param length       Content length in bytes\n+     * @param input        Input stream\n+     * @param constantPool Array of constants\n+     * @throws IOException if an I\/O error occurs.\n+     *\/\n+    Record(final int nameIndex, final int length, final DataInput input, final ConstantPool constantPool)\n+            throws IOException {\n+        this(nameIndex, length, readComponents(input, constantPool), constantPool);\n+    }\n+\n+    \/**\n+     * Constructs a new instance using components.\n+     *\n+     * @param nameIndex    Index in constant pool\n+     * @param length       Content length in bytes\n+     * @param classes      Array of Record Component Info elements\n+     * @param constantPool Array of constants\n+     *\/\n+    public Record(final int nameIndex, final int length, final RecordComponentInfo[] classes,\n+            final ConstantPool constantPool) {\n+        super(Const.ATTR_RECORD, nameIndex, length, constantPool);\n+        this.components = classes != null ? classes : EMPTY_RCI_ARRAY;\n+        Args.requireU2(this.components.length, \"attributes.length\");\n+    }\n+\n+    \/**\n+     * Called by objects that are traversing the nodes of the tree implicitly\n+     * defined by the contents of a Java class. For example, the hierarchy of methods,\n+     * fields, attributes, etc. spawns a tree of objects.\n+     *\n+     * @param v Visitor object\n+     *\/\n+    @Override\n+    public void accept(final Visitor v) {\n+        v.visitRecord(this);\n+    }\n+\n+    \/**\n+     * Copies this instance and its components.\n+     *\n+     * @return a deep copy of this instance and its components.\n+     *\/\n+    @Override\n+    public Attribute copy(final ConstantPool constantPool) {\n+        final Record c = (Record) clone();\n+        if (components.length > 0) {\n+            c.components = components.clone();\n+        }\n+        c.setConstantPool(constantPool);\n+        return c;\n+    }\n+\n+    \/**\n+     * Dumps this instance into a file stream in binary format.\n+     *\n+     * @param file output stream.\n+     * @throws IOException if an I\/O error occurs.\n+     *\/\n+    @Override\n+    public void dump(final DataOutputStream file) throws IOException {\n+        super.dump(file);\n+        file.writeShort(components.length);\n+        for (final RecordComponentInfo component : components) {\n+            component.dump(file);\n+        }\n+    }\n+\n+    \/**\n+     * Gets all the record components.\n+     *\n+     * @return array of Record Component Info elements.\n+     *\/\n+    public RecordComponentInfo[] getComponents() {\n+        return components;\n+    }\n+\n+    \/**\n+     * Converts this instance to a String suitable for debugging.\n+     *\n+     * @return String a String suitable for debugging.\n+     *\/\n+    @Override\n+    public String toString() {\n+        final StringBuilder buf = new StringBuilder();\n+        buf.append(\"Record(\");\n+        buf.append(components.length);\n+        buf.append(\"):\\n\");\n+        for (final RecordComponentInfo component : components) {\n+            buf.append(\"  \").append(component.toString()).append(\"\\n\");\n+        }\n+        return buf.substring(0, buf.length() - 1); \/\/ remove the last newline\n+    }\n+\n+}\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/classfile\/Record.java","additions":153,"deletions":0,"binary":false,"changes":153,"status":"added"},{"patch":"@@ -0,0 +1,139 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+package com.sun.org.apache.bcel.internal.classfile;\n+\n+import java.io.DataInput;\n+import java.io.DataOutputStream;\n+import java.io.IOException;\n+\n+import com.sun.org.apache.bcel.internal.Const;\n+\n+\/**\n+ * Record component info from a record. Instances from this class maps\n+ * every component from a given record.\n+ *\n+ * @see <a href=\"https:\/\/docs.oracle.com\/javase\/specs\/jvms\/se14\/preview\/specs\/records-jvms.html#jvms-4.7.30\">\n+ *      The Java Virtual Machine Specification, Java SE 14 Edition, Records (preview)<\/a>\n+ * @since 6.9.0\n+ *\/\n+public class RecordComponentInfo implements Node {\n+\n+    private final int index;\n+    private final int descriptorIndex;\n+    private final Attribute[] attributes;\n+    private final ConstantPool constantPool;\n+\n+    \/**\n+     * Constructs a new instance from an input stream.\n+     *\n+     * @param input        Input stream\n+     * @param constantPool Array of constants\n+     * @throws IOException if an I\/O error occurs.\n+     *\/\n+    public RecordComponentInfo(final DataInput input, final ConstantPool constantPool) throws IOException {\n+        this.index = input.readUnsignedShort();\n+        this.descriptorIndex = input.readUnsignedShort();\n+        final int attributesCount = input.readUnsignedShort();\n+        this.attributes = new Attribute[attributesCount];\n+        for (int j = 0; j < attributesCount; j++) {\n+            attributes[j] = Attribute.readAttribute(input, constantPool);\n+        }\n+        this.constantPool = constantPool;\n+    }\n+\n+    @Override\n+    public void accept(final Visitor v) {\n+        v.visitRecordComponent(this);\n+    }\n+\n+    \/**\n+     * Dumps contents into a file stream in binary format.\n+     *\n+     * @param file Output file stream\n+     * @throws IOException if an I\/O error occurs.\n+     *\/\n+    public void dump(final DataOutputStream file) throws IOException {\n+        file.writeShort(index);\n+        file.writeShort(descriptorIndex);\n+        file.writeShort(attributes.length);\n+        for (final Attribute attribute : attributes) {\n+            attribute.dump(file);\n+        }\n+    }\n+\n+    \/**\n+     * Gets all attributes.\n+     *\n+     * @return all attributes.\n+     *\/\n+    public Attribute[] getAttributes() {\n+        return attributes;\n+    }\n+\n+    \/**\n+     * Gets the constant pool.\n+     *\n+     * @return Constant pool.\n+     *\/\n+    public ConstantPool getConstantPool() {\n+        return constantPool;\n+    }\n+\n+    \/**\n+     * Gets the description index.\n+     *\n+     * @return index in constant pool of this record component descriptor.\n+     *\/\n+    public int getDescriptorIndex() {\n+        return descriptorIndex;\n+    }\n+\n+    \/**\n+     * Gets the name index.\n+     *\n+     * @return index in constant pool of this record component name.\n+     *\/\n+    public int getIndex() {\n+        return index;\n+    }\n+\n+    \/**\n+     * Converts this instance to a String suitable for debugging.\n+     *\n+     * @return a String suitable for debugging.\n+     *\/\n+    @Override\n+    public String toString() {\n+        final StringBuilder buf = new StringBuilder();\n+        buf.append(\"RecordComponentInfo(\");\n+        buf.append(constantPool.getConstantString(index, Const.CONSTANT_Utf8));\n+        buf.append(\",\");\n+        buf.append(constantPool.getConstantString(descriptorIndex, Const.CONSTANT_Utf8));\n+        buf.append(\",\");\n+        buf.append(attributes.length);\n+        buf.append(\"):\\n\");\n+        for (final Attribute attribute : attributes) {\n+            buf.append(\"  \").append(attribute.toString()).append(\"\\n\");\n+        }\n+        return buf.substring(0, buf.length() - 1); \/\/ remove the last newline\n+    }\n+\n+}\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/classfile\/RecordComponentInfo.java","additions":139,"deletions":0,"binary":false,"changes":139,"status":"added"},{"patch":"@@ -0,0 +1,25 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+\n+\/**\n+ * Classes that describe the structure of a Java class file and a class file parser.\n+ *\/\n+package com.sun.org.apache.bcel.internal.classfile;\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/classfile\/package-info.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"added"},{"patch":"@@ -0,0 +1,26 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+\n+\/**\n+ * Generic part of the <a href=\"https:\/\/commons.apache.org\/bcel\/\">Apache Byte Code Engineering Library (BCEL)<\/a>, classes to dynamically modify class objects\n+ * and byte code instructions.\n+ *\/\n+package com.sun.org.apache.bcel.internal.generic;\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/generic\/package-info.java","additions":26,"deletions":0,"binary":false,"changes":26,"status":"added"},{"patch":"@@ -0,0 +1,26 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+\n+\/**\n+ * Basic classes for the <a href=\"https:\/\/commons.apache.org\/bcel\/\">Apache Byte Code Engineering Library (BCEL)<\/a> and constants defined by the\n+ * <a href=\"https:\/\/docs.oracle.com\/javase\/specs\/\"> JVM specification<\/a>.\n+ *\/\n+package com.sun.org.apache.bcel.internal;\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/package-info.java","additions":26,"deletions":0,"binary":false,"changes":26,"status":"added"},{"patch":"@@ -0,0 +1,32 @@\n+\/*\n+ * reserved comment block\n+ * DO NOT REMOVE OR ALTER!\n+ *\/\n+\/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ *\/\n+\n+\/**\n+ * Utility classes for the <a href=\"https:\/\/commons.apache.org\/bcel\/\">Apache Byte Code Engineering Library (BCEL)<\/a>, namely:\n+ * <ul>\n+ * <li>Collection classes for JavaClass objects<\/li>\n+ * <li>A converter for class files to HTML<\/li>\n+ * <li>A tool to find instructions patterns via regular expressions<\/li>\n+ * <li>A class to find classes as defined in the CLASSPATH<\/li>\n+ * <li>A class loader that allows to create classes at run time<\/li>\n+ * <\/ul>\n+ *\/\n+package com.sun.org.apache.bcel.internal.util;\n","filename":"src\/java.xml\/share\/classes\/com\/sun\/org\/apache\/bcel\/internal\/util\/package-info.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"}]}
{"files":[{"patch":"@@ -913,0 +913,1 @@\n+                checkNoMods(pos, mods.flags & Flags.FINAL);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,24 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8317300\n+ * @summary javac erroneously allows \"final\" in front of a record pattern\n+ * @compile\/fail\/ref=T8317300.out -XDrawDiagnostics T8317300.java\n+ *\/\n+public class T8317300 {\n+    record Foo (int x) {}\n+    record Bar (Foo x) {}\n+\n+    void test1(Object obj) {\n+        switch (obj) {\n+            case final Foo(int x) -> {}\n+            default -> {}\n+        }\n+    }\n+\n+    void test2(Object obj) {\n+        switch (obj) {\n+            case Bar(final Foo(int x)) -> {}\n+            default -> {}\n+        }\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8317300.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"added"},{"patch":"@@ -0,0 +1,5 @@\n+T8317300.java:13:18: compiler.err.mod.not.allowed.here: final\n+T8317300.java:20:22: compiler.err.illegal.start.of.expr\n+T8317300.java:20:31: compiler.err.expected: token.identifier\n+T8317300.java:20:37: compiler.err.expected: ';'\n+4 errors\n","filename":"test\/langtools\/tools\/javac\/patterns\/T8317300.out","additions":5,"deletions":0,"binary":false,"changes":5,"status":"added"}]}
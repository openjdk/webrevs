{"files":[{"patch":"@@ -27,0 +27,1 @@\n+import java.awt.Font;\n@@ -190,1 +191,1 @@\n-    private static TimeoutHandler timeoutHandler;\n+    private static TimeoutHandlerPanel timeoutHandlerPanel;\n@@ -427,4 +428,2 @@\n-\n-        JLabel testTimeoutLabel = new JLabel(\"\", JLabel.CENTER);\n-        timeoutHandler = new TimeoutHandler(testTimeoutLabel, testTimeOut);\n-        main.add(testTimeoutLabel, BorderLayout.NORTH);\n+        timeoutHandlerPanel = new TimeoutHandlerPanel(testTimeOut);\n+        main.add(timeoutHandlerPanel, BorderLayout.NORTH);\n@@ -442,1 +441,1 @@\n-            timeoutHandler.stop();\n+            timeoutHandlerPanel.stop();\n@@ -448,1 +447,1 @@\n-            timeoutHandler.stop();\n+            timeoutHandlerPanel.stop();\n@@ -606,2 +605,9 @@\n-    private static final class TimeoutHandler implements ActionListener {\n-        private final long endTime;\n+    private static final class TimeoutHandlerPanel\n+            extends JPanel\n+            implements ActionListener {\n+\n+        private static final String PAUSE_BUTTON_LABEL = \"Pause\";\n+        private static final String RESUME_BUTTON_LABEL = \"Resume\";\n+\n+        private long endTime;\n+        private long pauseTimeLeft;\n@@ -612,0 +618,1 @@\n+        private final JButton button;\n@@ -613,2 +620,3 @@\n-        public TimeoutHandler(final JLabel label, final long testTimeOut) {\n-            endTime = System.currentTimeMillis() + TimeUnit.MINUTES.toMillis(testTimeOut);\n+        public TimeoutHandlerPanel(final long testTimeOut) {\n+            endTime = System.currentTimeMillis()\n+                    + TimeUnit.MINUTES.toMillis(testTimeOut);\n@@ -616,1 +624,10 @@\n-            this.label = label;\n+            label =  new JLabel(\"\", JLabel.CENTER);\n+            button = new JButton(PAUSE_BUTTON_LABEL);\n+\n+            button.setFocusPainted(false);\n+            button.setFont(new Font(Font.DIALOG, Font.BOLD, 10));\n+            button.addActionListener(e -> pauseToggle());\n+\n+            setLayout(new BorderLayout());\n+            add(label, BorderLayout.CENTER);\n+            add(button, BorderLayout.EAST);\n@@ -648,0 +665,16 @@\n+\n+        private void pauseToggle() {\n+            if (timer.isRunning()) {\n+                pauseTimeLeft = endTime - System.currentTimeMillis();\n+                timer.stop();\n+                label.setEnabled(false);\n+                button.setText(RESUME_BUTTON_LABEL);\n+            } else {\n+                endTime = System.currentTimeMillis() + pauseTimeLeft;\n+                updateTime(pauseTimeLeft);\n+                timer.start();\n+                label.setEnabled(true);\n+                button.setText(PAUSE_BUTTON_LABEL);\n+            }\n+        }\n+\n","filename":"test\/jdk\/java\/awt\/regtesthelpers\/PassFailJFrame.java","additions":45,"deletions":12,"binary":false,"changes":57,"status":"modified"}]}
{"files":[{"patch":"@@ -57,0 +57,1 @@\n+import java.util.stream.Collectors;\n@@ -63,0 +64,1 @@\n+import jdk.test.lib.Utils;\n@@ -489,2 +491,1 @@\n-        String base = getBase();\n-\n+        String nssConfigDir = copyNssFiles();\n@@ -496,1 +497,1 @@\n-                base + SEP + \"nss\" + SEP + \"db\";\n+                nssConfigDir + SEP + \"db\";\n@@ -506,1 +507,1 @@\n-                base + SEP + \"nss\" + SEP + customConfigName;\n+                nssConfigDir + SEP + customConfigName;\n@@ -789,0 +790,25 @@\n+    \/\/Copy the nss config files to the current directory for tests. Returns the destination path\n+    private static String copyNssFiles() throws Exception {\n+        String nss = \"nss\";\n+        String db = \"db\";\n+        Path nssDirSource = Path.of(getBase()).resolve(nss);\n+        Path nssDirDestination = Path.of(\".\").resolve(nss);\n+\n+        \/\/ copy files from nss directory\n+        copyFiles(nssDirSource, nssDirDestination);\n+        \/\/ copy files from nss\/db directory\n+        copyFiles(nssDirSource.resolve(db), nssDirDestination.resolve(db));\n+        return nssDirDestination.toString();\n+    }\n+\n+    private static void copyFiles(Path dirSource, Path dirDestination) throws IOException {\n+        List<Path> sourceFiles = Arrays\n+                .stream(dirSource.toFile().listFiles())\n+                .filter(File::isFile)\n+                .map(File::toPath)\n+                .collect(Collectors.toList());\n+        List<Path> destFiles = Utils.copyFiles(sourceFiles, dirDestination,\n+                StandardCopyOption.REPLACE_EXISTING);\n+        destFiles.forEach((Path file) -> file.toFile().setWritable(true));\n+    }\n+\n","filename":"test\/jdk\/sun\/security\/pkcs11\/PKCS11Test.java","additions":30,"deletions":4,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2021, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+#        jdk.test.lib.Utils\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Provider\/MultipleLogins.sh","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -851,0 +851,4 @@\n+  ifneq ($$(findstring -XX:+UseShenandoahGC, $$(JTREG_ALL_OPTIONS)), )\n+    JTREG_AUTO_PROBLEM_LISTS += ProblemList-shenandoah.txt\n+  endif\n+\n","filename":"make\/RunTests.gmk","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -37,0 +37,9 @@\n+bool LeakProfiler::is_supported() {\n+  if (UseShenandoahGC) {\n+    \/\/ Leak Profiler uses mark words in the ways that might interfere\n+    \/\/ with concurrent GC uses of them. This affects Shenandoah.\n+    return false;\n+  }\n+  return true;\n+}\n+\n@@ -51,0 +60,6 @@\n+  \/\/ Exit cleanly if not supported\n+  if (!is_supported()) {\n+    log_trace(jfr, system)(\"Object sampling is not supported\");\n+    return false;\n+  }\n+\n","filename":"src\/hotspot\/share\/jfr\/leakprofiler\/leakProfiler.cpp","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+  static bool is_supported();\n","filename":"src\/hotspot\/share\/jfr\/leakprofiler\/leakProfiler.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,60 @@\n+#\n+# Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+#############################################################################\n+#\n+# List of quarantined tests for testing with Shenandoah.\n+#\n+#############################################################################\n+\n+# Quiet all LeakProfiler tests\n+\n+jdk\/jfr\/api\/consumer\/TestRecordingFileWrite.java        8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestAllocationTime.java         8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestArrayInformation.java       8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestCircularReference.java      8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestClassLoaderLeak.java        8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestFieldInformation.java       8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestG1.java                     8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestHeapDeep.java               8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestHeapShallow.java            8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestLargeRootSet.java           8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestLastKnownHeapUsage.java     8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestListenerLeak.java           8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestMetadataRetention.java      8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestObjectAge.java              8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestObjectDescription.java      8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestObjectSize.java             8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestParallel.java               8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestReferenceChainLimit.java    8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestSanityDefault.java          8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestSerial.java                 8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestShenandoah.java             8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestThreadLocalLeak.java        8342951     generic-all\n+jdk\/jfr\/event\/oldobject\/TestZ.java                      8342951     generic-all\n+jdk\/jfr\/jcmd\/TestJcmdDump.java                          8342951     generic-all\n+jdk\/jfr\/jcmd\/TestJcmdDumpPathToGCRoots.java             8342951     generic-all\n+jdk\/jfr\/jcmd\/TestJcmdStartPathToGCRoots.java            8342951     generic-all\n+jdk\/jfr\/jvm\/TestWaste.java                              8342951     generic-all\n+jdk\/jfr\/startupargs\/TestOldObjectQueueSize.java         8342951     generic-all\n+\n","filename":"test\/jdk\/ProblemList-shenandoah.txt","additions":60,"deletions":0,"binary":false,"changes":60,"status":"added"},{"patch":"@@ -755,0 +755,1 @@\n+jdk\/jfr\/event\/oldobject\/TestShenandoah.java                     8342951 generic-all\n","filename":"test\/jdk\/ProblemList.txt","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
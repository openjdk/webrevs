{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -498,0 +498,2 @@\n+    JLI_TraceLauncher(\"Attempt to get JRE path from launcher executable path\\n\");\n+\n@@ -505,12 +507,0 @@\n-        \/* ensure storage for path + \/jre + NULL *\/\n-        if ((JLI_StrLen(path) + 4  + 1) > (size_t) pathsize) {\n-            JLI_TraceLauncher(\"Insufficient space to store JRE path\\n\");\n-            return JNI_FALSE;\n-        }\n-        \/* Does the app ship a private JRE in <apphome>\/jre directory? *\/\n-        JLI_Snprintf(libjava, sizeof(libjava), \"%s\/jre\/lib\/\" JAVA_DLL, path);\n-        if (access(libjava, F_OK) == 0) {\n-            JLI_StrCat(path, \"\/jre\");\n-            JLI_TraceLauncher(\"JRE path is %s\\n\", path);\n-            return JNI_TRUE;\n-        }\n@@ -519,0 +509,2 @@\n+    JLI_TraceLauncher(\"Attempt to get JRE path from shared lib of the image\\n\");\n+\n","filename":"src\/java.base\/unix\/native\/libjli\/java_md.c","additions":5,"deletions":13,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,4 +52,0 @@\n-#ifdef USE_REGISTRY_LOOKUP\n-jboolean GetPublicJREHome(char *buf, jint bufsize);\n-#endif\n-\n@@ -303,0 +299,2 @@\n+    JLI_TraceLauncher(\"Attempt to get JRE path from launcher executable path\\n\");\n+\n@@ -310,12 +308,0 @@\n-        \/* ensure storage for path + \\jre + NULL *\/\n-        if ((JLI_StrLen(path) + 4 + 1) > (size_t) pathsize) {\n-            JLI_TraceLauncher(\"Insufficient space to store JRE path\\n\");\n-            return JNI_FALSE;\n-        }\n-        \/* Does this app ship a private JRE in <apphome>\\jre directory? *\/\n-        JLI_Snprintf(javadll, sizeof (javadll), \"%s\\\\jre\\\\bin\\\\\" JAVA_DLL, path);\n-        if (stat(javadll, &s) == 0) {\n-            JLI_StrCat(path, \"\\\\jre\");\n-            JLI_TraceLauncher(\"JRE path is %s\\n\", path);\n-            return JNI_TRUE;\n-        }\n@@ -324,0 +310,2 @@\n+    JLI_TraceLauncher(\"Attempt to get JRE path from shared lib of the image\\n\");\n+\n@@ -333,8 +321,0 @@\n-#ifdef USE_REGISTRY_LOOKUP\n-    \/* Lookup public JRE using Windows registry. *\/\n-    if (GetPublicJREHome(path, pathsize)) {\n-        JLI_TraceLauncher(\"JRE path is %s\\n\", path);\n-        return JNI_TRUE;\n-    }\n-#endif\n-\n","filename":"src\/java.base\/windows\/native\/libjli\/java_md.c","additions":5,"deletions":25,"binary":false,"changes":30,"status":"modified"}]}
{"files":[{"patch":"@@ -932,1 +932,3 @@\n-    assert(!_thread->is_in_any_VTMS_transition(), \"CFLH events are not allowed in any VTMS transition\");\n+    if (_thread->is_in_any_VTMS_transition()) {\n+      return; \/\/ no events should be posted if thread is in any VTMS transition\n+    }\n@@ -1366,2 +1368,2 @@\n-  if (thread->is_in_tmp_VTMS_transition()) {\n-    return; \/\/ skip ClassLoad events in tmp VTMS transition\n+  if (thread->is_in_any_VTMS_transition()) {\n+    return; \/\/ no events should be posted if thread is in any VTMS transition\n@@ -1369,1 +1371,0 @@\n-  assert(!thread->is_in_any_VTMS_transition(), \"class load events are not allowed in any VTMS transition\");\n@@ -1404,2 +1405,2 @@\n-  if (thread->is_in_tmp_VTMS_transition()) {\n-    return; \/\/ skip ClassPrepare events in tmp VTMS transition\n+  if (thread->is_in_any_VTMS_transition()) {\n+    return; \/\/ no events should be posted if thread is in any VTMS transition\n@@ -1407,1 +1408,0 @@\n-  assert(!thread->is_in_any_VTMS_transition(), \"class prepare events are not allowed in any VTMS transition\");\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
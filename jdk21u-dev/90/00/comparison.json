{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -176,2 +176,1 @@\n-            ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n-                    command.toArray(new String[command.size()]));\n+            ProcessBuilder processBuilder = ProcessTools.createTestJvm(command);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/AbstractFilePermissionTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -98,3 +98,1 @@\n-            ProcessBuilder client = ProcessTools.createJavaProcessBuilder(\n-                \"-cp\",\n-                Utils.TEST_CLASS_PATH,\n+            ProcessBuilder client = ProcessTools.createTestJvm(\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/CustomLauncherTest.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -233,1 +233,0 @@\n-        private static final int WAIT_FOR_JMX_AGENT_TIMEOUT_MS = 20_000;\n@@ -238,1 +237,0 @@\n-        private boolean jmxAgentStarted = false;\n@@ -272,1 +270,0 @@\n-            boolean expired = false;\n@@ -274,5 +271,2 @@\n-                expired = !latch.await(WAIT_FOR_JMX_AGENT_TIMEOUT_MS, TimeUnit.MILLISECONDS);\n-                System.out.println(\n-                        \"MainThread: Finished waiting for JMX agent to become available: expired == \"\n-                                + expired);\n-                jmxAgentStarted = !expired;\n+                latch.await();\n+                System.out.println(\"MainThread: Finished waiting for JMX agent to become available.\");\n@@ -282,4 +276,0 @@\n-            if (!jmxAgentStarted) {\n-                throw new RuntimeException(\n-                        \"Test failed. JMX server agents not becoming available.\");\n-            }\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/JMXAgentInterfaceBinding.java","additions":2,"deletions":12,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- * @run main\/timeout=60 JMXInterfaceBindingTest\n+ * @run main JMXInterfaceBindingTest\n@@ -68,1 +68,0 @@\n-    public static final String TEST_CLASSPATH = System.getProperty(\"test.classes\", \".\");\n@@ -201,2 +200,0 @@\n-            args.add(\"-classpath\");\n-            args.add(TEST_CLASSPATH);\n@@ -224,1 +221,1 @@\n-                ProcessBuilder builder = ProcessTools.createJavaProcessBuilder(args.toArray(new String[]{}));\n+                ProcessBuilder builder = ProcessTools.createTestJvm(args.toArray(new String[]{}));\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/JMXInterfaceBindingTest.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -110,1 +110,1 @@\n-        ProcessBuilder server = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder server = ProcessTools.createTestJvm(\n@@ -136,1 +136,1 @@\n-            ProcessBuilder client = ProcessTools.createJavaProcessBuilder(\n+            ProcessBuilder client = ProcessTools.createTestJvm(\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/LocalManagementTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -191,1 +191,1 @@\n-            ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(command.toArray(new String[command.size()]));\n+            ProcessBuilder processBuilder = ProcessTools.createTestJvm(command);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/RmiRegistrySslTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -394,2 +394,0 @@\n-                \"-cp\",\n-                System.getProperty(\"test.class.path\"),\n@@ -403,3 +401,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n-                pbArgs.toArray(new String[pbArgs.size()])\n-        );\n+        ProcessBuilder pb = ProcessTools.createTestJvm(pbArgs);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/startstop\/JMXStartStopTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-        testAppPb = ProcessTools.createJavaProcessBuilder(\n+        testAppPb = ProcessTools.createTestJvm(\n@@ -64,1 +64,0 @@\n-            \"-cp\", System.getProperty(\"test.class.path\"),\n","filename":"test\/jdk\/sun\/management\/jmxremote\/startstop\/JMXStatusPerfCountersTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -87,2 +87,0 @@\n-        args.add(\"-cp\");\n-        args.add(System.getProperty(\"test.class.path\"));\n@@ -92,1 +90,1 @@\n-        testAppPb = ProcessTools.createJavaProcessBuilder(args.toArray(new String[args.size()]));\n+        testAppPb = ProcessTools.createTestJvm(args);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/startstop\/JMXStatusTest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"}]}
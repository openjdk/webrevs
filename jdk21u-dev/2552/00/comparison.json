{"files":[{"patch":"@@ -0,0 +1,30 @@\n+\/*\n+ * @test\n+ * @summary Test WhiteBox.waitForReferenceProcessing\n+ * @bug 8305186 8355632\n+ * @library \/test\/lib\n+ * @build jdk.test.whitebox.WhiteBox\n+ * @modules java.base\/java.lang.ref:open\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n+ * @run main\/othervm -ea -esa\n+ *      -Xbootclasspath\/a:.\n+ *      -XX:+UnlockDiagnosticVMOptions\n+ *      -XX:+WhiteBoxAPI\n+ *      WaitForRefProcTest\n+ *\/\n+\n+import jdk.test.whitebox.WhiteBox;\n+\n+public class WaitForRefProcTest {\n+\n+    public static void main(String[] args) {\n+        WhiteBox.getWhiteBox().fullGC();\n+        try {\n+            boolean ret = WhiteBox.getWhiteBox().waitForReferenceProcessing();\n+            System.out.println(\"wFRP returned \" + ret);\n+        } catch (InterruptedException e) {\n+            e.printStackTrace();\n+            throw new RuntimeException(\"test caught InterruptedException\");\n+        }\n+    }\n+}\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/WaitForRefProcTest.java","additions":30,"deletions":0,"binary":false,"changes":30,"status":"added"},{"patch":"@@ -542,1 +542,1 @@\n-        assert wfrp.getReturnType() == Boolean.class;\n+        assert wfrp.getReturnType().equals(boolean.class);\n","filename":"test\/lib\/jdk\/test\/whitebox\/WhiteBox.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
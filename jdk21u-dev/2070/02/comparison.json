{"files":[{"patch":"@@ -43,6 +43,12 @@\n-        if (server.getSession(client1).getSessionContext() == null) {\n-            for (Exception e : server.getExceptionList()) {\n-                System.out.println(\"Looking at \" + e.getClass() + \" \" +\n-                    e.getMessage());\n-                if (e.getMessage().contains(args[0])) {\n-                    System.out.println(\"Found correct exception: \" + args[0] +\n+\n+        server.getSession(client1).getSessionContext();\n+        server.done();\n+\n+        var eList = server.getExceptionList();\n+        System.out.println(\"Exception list size is \" + eList.size());\n+\n+        for (Exception e : eList) {\n+            System.out.println(\"Looking at \" + e.getClass() + \" \" +\n+                e.getMessage());\n+            if (e.getMessage().contains(args[0])) {\n+                System.out.println(\"Found correct exception: \" + args[0] +\n@@ -50,4 +56,3 @@\n-                    return;\n-                } else {\n-                    System.out.println(\"No \\\"\" + args[0] + \"\\\" found.\");\n-                }\n+                return;\n+            } else {\n+                System.out.println(\"No \\\"\" + args[0] + \"\\\" found.\");\n@@ -55,2 +60,0 @@\n-\n-            throw new Exception(\"Failed to find expected alert: \" + args[0]);\n@@ -58,0 +61,2 @@\n+\n+        throw new Exception(\"Failed to find expected alert: \" + args[0]);\n","filename":"test\/jdk\/javax\/net\/ssl\/SSLSession\/CertMsgCheck.java","additions":17,"deletions":12,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -100,2 +100,2 @@\n-            fis = new FileInputStream(System.getProperty(\"test.src\", \".\/\") + \"\/\" + pathToStores +\n-                \"\/\" + keyStoreFile);\n+            fis = new FileInputStream(System.getProperty(\"test.src\", \".\/\") +\n+                \"\/\" + pathToStores + \"\/\" + keyStoreFile);\n@@ -116,2 +116,2 @@\n-            fis = new FileInputStream(System.getProperty(\"test.src\", \".\/\") + \"\/\" + pathToStores +\n-                \"\/\" + trustStoreFile);\n+            fis = new FileInputStream(System.getProperty(\"test.src\", \".\/\") +\n+                \"\/\" + pathToStores + \"\/\" + trustStoreFile);\n@@ -151,1 +151,0 @@\n-        boolean exit = false;\n@@ -160,1 +159,2 @@\n-                sslContext.init(TLSBase.getKeyManager(builder.km), TLSBase.getTrustManager(builder.tm), null);\n+                sslContext.init(TLSBase.getKeyManager(builder.km),\n+                    TLSBase.getTrustManager(builder.tm), null);\n@@ -166,1 +166,1 @@\n-                System.err.println(e.getMessage());\n+                System.err.println(\"Failure during server initialization\");\n@@ -181,0 +181,1 @@\n+                            System.out.println(\"Caught \" + e.getMessage());\n@@ -206,1 +207,2 @@\n-                sslContext.init(TLSBase.getKeyManager(km), TLSBase.getTrustManager(tm), null);\n+                sslContext.init(TLSBase.getKeyManager(km),\n+                    TLSBase.getTrustManager(tm), null);\n@@ -212,1 +214,1 @@\n-                System.err.println(e.getMessage());\n+                System.err.println(\"Failure during server initialization\");\n@@ -227,0 +229,1 @@\n+                                System.out.println(\"Caught \" + e.getMessage());\n@@ -228,0 +231,1 @@\n+                                exceptionList.add(e);\n@@ -242,1 +246,1 @@\n-                t.interrupt();\n+                t.join(5000);\n","filename":"test\/jdk\/javax\/net\/ssl\/templates\/TLSBase.java","additions":14,"deletions":10,"binary":false,"changes":24,"status":"modified"}]}
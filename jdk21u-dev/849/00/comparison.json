{"files":[{"patch":"@@ -1784,1 +1784,0 @@\n-                    int soTimeout = getSoTimeout();\n@@ -1786,10 +1785,16 @@\n-                        \/\/ deplete could hang on the skip operation\n-                        \/\/ in case of infinite socket read timeout.\n-                        \/\/ Change read timeout to avoid deadlock.\n-                        \/\/ This workaround could be replaced later\n-                        \/\/ with the right synchronization\n-                        if (soTimeout == 0)\n-                            setSoTimeout(DEFAULT_SKIP_TIMEOUT);\n-                        inputRecord.deplete(false);\n-                    } catch (java.net.SocketTimeoutException stEx) {\n-                        \/\/ skip timeout exception during deplete\n+                        int soTimeout = getSoTimeout();\n+                        try {\n+                            \/\/ deplete could hang on the skip operation\n+                            \/\/ in case of infinite socket read timeout.\n+                            \/\/ Change read timeout to avoid deadlock.\n+                            \/\/ This workaround could be replaced later\n+                            \/\/ with the right synchronization\n+                            if (soTimeout == 0)\n+                                setSoTimeout(DEFAULT_SKIP_TIMEOUT);\n+                            inputRecord.deplete(false);\n+                        } catch (java.net.SocketTimeoutException stEx) {\n+                            \/\/ skip timeout exception during deplete\n+                        } finally {\n+                            if (soTimeout == 0)\n+                                setSoTimeout(soTimeout);\n+                        }\n@@ -1797,2 +1802,0 @@\n-                        if (soTimeout == 0)\n-                            setSoTimeout(soTimeout);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLSocketImpl.java","additions":16,"deletions":13,"binary":false,"changes":29,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,0 @@\n- * @author Anton Nashatyrev\n@@ -35,3 +34,9 @@\n-import java.awt.*;\n-import java.awt.event.*;\n-import javax.swing.*;\n+import java.awt.Rectangle;\n+import java.awt.Robot;\n+import java.awt.event.KeyEvent;\n+import java.awt.event.InputEvent;\n+import javax.swing.JFrame;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTextArea;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n@@ -39,1 +44,1 @@\n-public class bug4278839 extends JFrame {\n+public class bug4278839 {\n@@ -50,1 +55,1 @@\n-            robo.setAutoDelay(200);\n+            robo.setAutoDelay(100);\n@@ -52,6 +57,1 @@\n-            SwingUtilities.invokeAndWait(new Runnable() {\n-                @Override\n-                public void run() {\n-                    createAndShowGUI();\n-                }\n-            });\n+            SwingUtilities.invokeAndWait(() -> createAndShowGUI());\n@@ -60,0 +60,1 @@\n+            robo.delay(1000);\n@@ -103,6 +104,2 @@\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-\n-            @Override\n-            public void run() {\n-                result[0] = area.getCaretPosition();\n-            }\n+        SwingUtilities.invokeAndWait(() -> {\n+            result[0] = area.getCaretPosition();\n@@ -111,2 +108,1 @@\n-        int pos = result[0];\n-        return pos;\n+        return result[0];\n@@ -118,5 +114,2 @@\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            @Override\n-            public void run() {\n-                result[0] = new Rectangle(area.getLocationOnScreen(), area.getSize());\n-            }\n+        SwingUtilities.invokeAndWait(() -> {\n+            result[0] = new Rectangle(area.getLocationOnScreen(), area.getSize());\n@@ -128,2 +121,4 @@\n-        robo.mousePress(InputEvent.BUTTON1_MASK);\n-        robo.mouseRelease(InputEvent.BUTTON1_MASK);\n+        robo.waitForIdle();\n+        robo.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+        robo.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+        robo.waitForIdle();\n","filename":"test\/jdk\/javax\/swing\/text\/DefaultEditorKit\/4278839\/bug4278839.java","additions":23,"deletions":28,"binary":false,"changes":51,"status":"modified"}]}
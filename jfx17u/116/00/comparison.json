{"files":[{"patch":"@@ -2075,1 +2075,1 @@\n-        \/\/ viewport to the top of the current index. We will increment it\n+        \/\/ viewport to the top of the current index. We will decrement it\n@@ -2880,0 +2880,4 @@\n+        double maxOff = estimatedSize - getViewportLength();\n+        if ((maxOff > 0) && (absoluteOffset > maxOff)) {\n+            return maxOff - absoluteOffset;\n+        }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/VirtualFlow.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -3686,1 +3686,1 @@\n-        assertEquals(cellCountAtStart + 14, rt36452_instanceCount);\n+        assertTrue(rt36452_instanceCount < cellCountAtStart + 15);\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TreeTableViewTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1257,0 +1257,34 @@\n+    @Test\n+    \/\/ See JDK-8291908\n+    public void test_noEmptyTrailingCells() {\n+        flow = new VirtualFlowShim();\n+        flow.setVertical(true);\n+        flow.setCellFactory(p -> new CellStub(flow) {\n+            @Override\n+            protected double computeMaxHeight(double width) {\n+                return computePrefHeight(width);\n+            }\n+\n+            @Override\n+            protected double computePrefHeight(double width) {\n+                return (getIndex() > 100) ? 1 : 20;\n+            }\n+\n+            @Override\n+            protected double computeMinHeight(double width) {\n+                return computePrefHeight(width);\n+            }\n+\n+        });\n+        flow.setCellCount(100);\n+        flow.setViewportLength(1000);\n+        flow.resize(100, 1000);\n+        pulse();\n+        flow.sheetChildren.addListener((InvalidationListener) (o) -> {\n+            int count = ((List) o).size();\n+            assertTrue(Integer.toString(count), count < 101);\n+        });\n+        flow.scrollTo(99);\n+        pulse();\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/VirtualFlowTest.java","additions":34,"deletions":0,"binary":false,"changes":34,"status":"modified"}]}
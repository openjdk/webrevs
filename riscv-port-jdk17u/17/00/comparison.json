{"files":[{"patch":"@@ -9860,0 +9860,19 @@\n+instruct cmovI_cmpUL(iRegINoSp dst, iRegI src, iRegL op1, iRegL op2, cmpOpU cop) %{\n+  match(Set dst (CMoveI (Binary cop (CmpUL op1 op2)) (Binary dst src)));\n+  ins_cost(ALU_COST + BRANCH_COST);\n+\n+  format %{\n+             \"bneg$cop $op1, $op2, skip\\t#@cmovI_cmpUL\\n\\t\"\n+             \"mv $dst, $src\\n\\t\"\n+             \"skip:\"\n+         %}\n+\n+  ins_encode %{\n+    __ enc_cmove($cop$$cmpcode | C2_MacroAssembler::unsigned_branch_mask,\n+                 as_Register($op1$$reg), as_Register($op2$$reg),\n+                 as_Register($dst$$reg), as_Register($src$$reg));\n+  %}\n+\n+  ins_pipe(pipe_slow);\n+%}\n+\n@@ -9898,2 +9917,2 @@\n-instruct cmovI_cmpUL(iRegINoSp dst, iRegI src, iRegL op1, iRegL op2, cmpOpU cop) %{\n-  match(Set dst (CMoveI (Binary cop (CmpUL op1 op2)) (Binary dst src)));\n+instruct cmovL_cmpI(iRegLNoSp dst, iRegL src, iRegI op1, iRegI op2, cmpOp cop) %{\n+  match(Set dst (CMoveL (Binary cop (CmpI op1 op2)) (Binary dst src)));\n@@ -9902,1 +9921,1 @@\n-             \"bneg$cop $op1, $op2\\t#@cmovI_cmpUL\\n\\t\"\n+             \"bneg$cop $op1, $op2\\t#@cmovL_cmpI\\n\\t\"\n@@ -9908,1 +9927,1 @@\n-    __ enc_cmove($cop$$cmpcode | C2_MacroAssembler::unsigned_branch_mask,\n+    __ enc_cmove($cop$$cmpcode,\n@@ -9916,0 +9935,18 @@\n+instruct cmovL_cmpU(iRegLNoSp dst, iRegL src, iRegI op1, iRegI op2, cmpOpU cop) %{\n+  match(Set dst (CMoveL (Binary cop (CmpU op1 op2)) (Binary dst src)));\n+  ins_cost(ALU_COST + BRANCH_COST);\n+\n+  format %{\n+             \"bneg$cop $op1, $op2\\t#@cmovL_cmpU\\n\\t\"\n+             \"mv $dst, $src\\n\\t\"\n+             \"skip:\"\n+         %}\n+\n+  ins_encode %{\n+    __ enc_cmove($cop$$cmpcode | C2_MacroAssembler::unsigned_branch_mask,\n+                 as_Register($op1$$reg), as_Register($op2$$reg),\n+                 as_Register($dst$$reg), as_Register($src$$reg));\n+  %}\n+\n+  ins_pipe(pipe_slow);\n+%}\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":41,"deletions":4,"binary":false,"changes":45,"status":"modified"}]}
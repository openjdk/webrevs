{"files":[{"patch":"@@ -346,1 +346,1 @@\n-            public Stream<String> entryNamesIn(String module) {\n+            public Stream<String> getEntryNames(String module) {\n@@ -362,7 +362,5 @@\n-                \/\/ Other types of invalid name just result in no entry being found.\n-                if (name.startsWith(\"\/modules\/\") || name.startsWith(\"\/packages\/\")) {\n-                    throw new IllegalArgumentException(\"Invalid entry name: \" + name);\n-                }\n-                ImageLocation location = BasicImageReader.this.findLocation(name);\n-                if (location == null) {\n-                    throw new NoSuchElementException(\"No such resource entry: \" + name);\n+                if (!name.startsWith(\"\/modules\/\") && !name.startsWith(\"\/packages\/\")) {\n+                    ImageLocation location = BasicImageReader.this.findLocation(name);\n+                    if (location != null) {\n+                        return location;\n+                    }\n@@ -370,1 +368,1 @@\n-                return location;\n+                throw new NoSuchElementException(\"No such resource entry: \" + name);\n@@ -374,1 +372,1 @@\n-            public long sizeOf(String name) {\n+            public long getSize(String name) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/jimage\/BasicImageReader.java","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -41,2 +41,2 @@\n- * <p>It disallows access to resource directories (i.e. {@code \"\/modules\/...\"}\n- * or packages (i.e. {@code \"\/packages\/...\"}.\n+ * <p>It disallows access to resource directories (i.e. {@code \"\/modules\/...\"})\n+ * or packages entries (i.e. {@code \"\/packages\/...\"}).\n@@ -52,1 +52,1 @@\n-     * Returns the full entry names for all resources in the given module, in\n+     * Returns the jimage names for all resources in the given module, in\n@@ -56,1 +56,1 @@\n-    Stream<String> entryNamesIn(String module);\n+    Stream<String> getEntryNames(String module);\n@@ -59,1 +59,1 @@\n-     * Returns the (uncompressed) size of a resource given its full entry name.\n+     * Returns the (uncompressed) size of a resource given its jimage name.\n@@ -63,1 +63,1 @@\n-    long sizeOf(String name);\n+    long getSize(String name);\n@@ -66,1 +66,1 @@\n-     * Returns an {@link InputStream} for a resource given its full entry name.\n+     * Returns an {@link InputStream} for a resource given its jimage name.\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/jimage\/ResourceEntries.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Red Hat, Inc.\n+ * Copyright (c) 2024, 2025 Red Hat, Inc.\n@@ -35,1 +35,0 @@\n-import java.lang.module.ModuleReference;\n@@ -179,1 +178,1 @@\n-            imageResources.entryNamesIn(module)\n+            imageResources.getEntryNames(module)\n@@ -447,1 +446,1 @@\n-                        return archive.imageResources.sizeOf(resPath);\n+                        return archive.imageResources.getSize(resPath);\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/JRTArchive.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -1057,0 +1057,1 @@\n+            List<IOException> thrown = null;\n@@ -1058,1 +1059,13 @@\n-                archive.close();\n+                try {\n+                    archive.close();\n+                } catch (IOException ex) {\n+                    if (thrown == null) {\n+                        thrown = new ArrayList<>();\n+                    }\n+                    thrown.add(ex);\n+                }\n+            }\n+            if (thrown != null) {\n+                IOException ex = new IOException(\"Archives could not be closed\", thrown.getFirst());\n+                thrown.subList(1, thrown.size()).forEach(ex::addSuppressed);\n+                throw ex;\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/JlinkTask.java","additions":15,"deletions":2,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Red Hat, Inc.\n+ * Copyright (c) 2024, 2025, Red Hat, Inc.\n","filename":"test\/jdk\/tools\/jlink\/runtimeImage\/PackagedModulesVsRuntimeImageLinkTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
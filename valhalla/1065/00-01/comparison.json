{"files":[{"patch":"@@ -635,1 +635,1 @@\n-            FT_CHECKED_VALUE    = FT_LAST_WRAPPER+2,  \/\/ flattened and non-flattened and null-restricted\n+            FT_CHECKED_VALUE    = FT_LAST_WRAPPER+2,  \/\/ flat vs non-flat x null value vs null-restricted value\n@@ -700,3 +700,1 @@\n-    private static Kind getFieldKind(boolean isGetter, boolean isVolatile,\n-                                     boolean isFlat,\n-                                     Wrapper wrapper) {\n+    private static Kind getFieldKind(boolean isGetter, boolean isVolatile, boolean isFlat, Wrapper wrapper) {\n@@ -765,2 +763,1 @@\n-                                                          boolean isFlat,\n-                                                          boolean isNullRestricted, int ftypeKind) {\n+                                                          boolean isFlat, boolean isNullRestricted, int ftypeKind) {\n@@ -771,1 +768,0 @@\n-        boolean needsZeroInstance = isNullRestricted && !isFlat;\n@@ -780,1 +776,0 @@\n-        boolean hasValueTypeArg = isFlat;\n@@ -782,1 +777,1 @@\n-            linkerType = hasValueTypeArg\n+            linkerType = isFlat\n@@ -786,1 +781,1 @@\n-            linkerType = hasValueTypeArg\n+            linkerType = isFlat\n@@ -820,1 +815,1 @@\n-        final int VALUE_TYPE = (hasValueTypeArg ? nameCursor++ : -1);\n+        final int VALUE_TYPE = (isFlat ? nameCursor++ : -1);\n@@ -824,2 +819,2 @@\n-        final int FIELD_TYPE = (needsZeroInstance && isGetter ? nameCursor++ : -1);\n-        final int ZERO_INSTANCE = (needsZeroInstance && isGetter ? nameCursor++ : -1);\n+        final int FIELD_TYPE = (isNullRestricted && isGetter ? nameCursor++ : -1);\n+        final int ZERO_INSTANCE = (isNullRestricted && isGetter ? nameCursor++ : -1);\n@@ -838,1 +833,1 @@\n-        assert (outArgs.length == (isGetter ? 3 : 4) + (hasValueTypeArg ? 1 : 0));\n+        assert (outArgs.length == (isGetter ? 3 : 4) + (isFlat ? 1 : 0));\n@@ -848,1 +843,1 @@\n-        if (hasValueTypeArg) {\n+        if (isFlat) {\n@@ -859,1 +854,1 @@\n-            if (needsZeroInstance) {\n+            if (isNullRestricted) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/DirectMethodHandle.java","additions":11,"deletions":16,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -5193,1 +5193,0 @@\n-        \/\/ TODO: implicitly constructible value class\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/MethodHandles.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -31,1 +31,0 @@\n-tools\/javap\/4870651\/T4870651.java 8372740 generic-all\n","filename":"test\/langtools\/ProblemList-enable-preview.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n- * @test\n+ * @test id=zeroClass\n@@ -30,3 +30,14 @@\n- * @modules java.base\/jdk.internal.misc\n- * @build T4870651 Test\n- * @run main T4870651\n+ * @compile Test.java\n+ * @run main\/othervm -DpreviewClass=false T4870651\n+ * @comment runtime in preview or not should not affect javac\/javap behavior\n+ *\/\n+\n+\/*\n+ * @test id=previewClass\n+ * @bug 4870651 6715757\n+ * @summary javap should recognize generics, varargs, enum;\n+ *          javap prints \"extends java.lang.Object\"\n+ * @modules jdk.jdeps\/com.sun.tools.javap\n+ * @compile --enable-preview -source ${jdk.version} -XDforcePreview Test.java\n+ * @run main\/othervm -DpreviewClass=true T4870651\n+ * @comment runtime in preview or not should not affect javac\/javap behavior\n@@ -36,1 +47,0 @@\n-import jdk.internal.misc.PreviewFeatures;\n@@ -51,1 +61,1 @@\n-               PreviewFeatures.isEnabled()\n+               Boolean.getBoolean(\"previewClass\") \/\/ .65535 instead of .0\n","filename":"test\/langtools\/tools\/javap\/4870651\/T4870651.java","additions":17,"deletions":7,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,0 +76,2 @@\n+\n+    record Record() {} \/\/ triggers -XDforcePreview\n","filename":"test\/langtools\/tools\/javap\/4870651\/Test.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
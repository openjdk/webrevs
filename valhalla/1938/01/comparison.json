{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -824,1 +824,3 @@\n-            classModifers.add(\"value\");\n+            if (!flagSet.contains(AccessFlag.IDENTITY)) {\n+                classModifers.add(\"value\");\n+            }\n","filename":"src\/jdk.jdeps\/share\/classes\/com\/sun\/tools\/javap\/ClassWriter.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,2 @@\n- * @test 8335770\n+ * @test\n+ * @bug 8335770 8375740\n@@ -54,1 +55,1 @@\n-    private static final List<String> expectedOutput1 = List.of(\n+    private static final List<String> expectedValueClassOutput = List.of(\n@@ -59,1 +60,1 @@\n-    private static final List<String> expectedOutput2 = List.of(\n+    private static final List<String> expectedAbstractValueClassOutput = List.of(\n@@ -64,1 +65,1 @@\n-    private static final List<String> expectedOutput3 = List.of(\n+    private static final List<String> expectedLoadableDescriptorOutput = List.of(\n@@ -68,0 +69,14 @@\n+    private static final List<String> expectedIdentityClassOutput = \"\"\"\n+            Compiled from \"ValueClassesJavapTest.java\"\n+            class ValueClassesJavapTest$IdentityClass {\n+              ValueClassesJavapTest$ValueClass val;\n+              ValueClassesJavapTest$IdentityClass(ValueClassesJavapTest);\n+            }\n+            \"\"\".lines().toList();\n+    private static final List<String> expectedIdentityClass2Output = \"\"\"\n+            Compiled from \"ValueClassesJavapTest.java\"\n+            class ValueClassesJavapTest$IdentityClass2 {\n+              ValueClassesJavapTest$IdentityClass2(ValueClassesJavapTest);\n+              void m(ValueClassesJavapTest$ValueClass);\n+            }\n+            \"\"\".lines().toList();\n@@ -91,1 +106,1 @@\n-        if (!output.equals(expectedOutput1)) {\n+        if (!output.equals(expectedValueClassOutput)) {\n@@ -101,1 +116,11 @@\n-        if (!output.equals(expectedOutput2)) {\n+        if (!output.equals(expectedAbstractValueClassOutput)) {\n+            throw new AssertionError(String.format(\"unexpected output:\\n %s\", output));\n+        }\n+\n+        output = new JavapTask(tb)\n+                .options(\"-p\", testClassesPath.resolve(this.getClass().getSimpleName() + \"$IdentityClass.class\").toString())\n+                .run()\n+                .writeAll()\n+                .getOutputLines(Task.OutputKind.DIRECT);\n+        System.out.println(output);\n+        if (!output.equals(expectedIdentityClassOutput)) {\n@@ -111,1 +136,11 @@\n-        if (!output.containsAll(expectedOutput3)) {\n+        if (!output.containsAll(expectedLoadableDescriptorOutput)) {\n+            throw new AssertionError(String.format(\"unexpected output:\\n %s\", output));\n+        }\n+\n+        output = new JavapTask(tb)\n+                .options(\"-p\", testClassesPath.resolve(this.getClass().getSimpleName() + \"$IdentityClass2.class\").toString())\n+                .run()\n+                .writeAll()\n+                .getOutputLines(Task.OutputKind.DIRECT);\n+        System.out.println(output);\n+        if (!output.equals(expectedIdentityClass2Output)) {\n@@ -121,1 +156,1 @@\n-        if (!output.containsAll(expectedOutput3)) {\n+        if (!output.containsAll(expectedLoadableDescriptorOutput)) {\n","filename":"test\/langtools\/tools\/javap\/value_classes\/ValueClassesJavapTest.java","additions":44,"deletions":9,"binary":false,"changes":53,"status":"modified"}]}
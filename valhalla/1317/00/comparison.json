{"files":[{"patch":"@@ -489,0 +489,2 @@\n+  int null_marker_offset(int index) const { return inline_layout_info(index).null_marker_offset(); }\n+\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -365,1 +365,1 @@\n-UNSAFE_ENTRY(jboolean, Unsafe_HasNullMarker(JNIEnv *env, jobject unsage, jobject o)) {\n+UNSAFE_ENTRY(jboolean, Unsafe_HasNullMarker(JNIEnv *env, jobject unsafe, jobject o)) {\n@@ -372,1 +372,1 @@\n-UNSAFE_ENTRY(jint, Unsafe_NullMarkerOffset(JNIEnv *env, jobject unsage, jobject o)) {\n+UNSAFE_ENTRY(jint, Unsafe_NullMarkerOffset(JNIEnv *env, jobject unsafe, jobject o)) {\n@@ -376,1 +376,1 @@\n-  fatal(\"Not supported yet\");\n+  return InstanceKlass::cast(k)->null_marker_offset(slot);\n","filename":"src\/hotspot\/share\/prims\/unsafe.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n- * @run main\/othervm -XX:FlatArrayElementMaxSize=-1 -XX:InlineFieldMaxFlatSize=-1 runtime.valhalla.inlinetypes.UnsafeTest\n+ * @run main\/othervm -XX:+NullableFieldFlattening -XX:FlatArrayElementMaxSize=-1 -XX:InlineFieldMaxFlatSize=-1 runtime.valhalla.inlinetypes.UnsafeTest\n@@ -169,0 +169,1 @@\n+    \/\/ Requires -XX:+NullableFieldFlattening\n@@ -204,1 +205,1 @@\n-        \/\/ test1();  \/\/ test1 is about nullable flat fields which are not fully supported yet\n+        test1();\n","filename":"test\/hotspot\/jtreg\/runtime\/valhalla\/inlinetypes\/UnsafeTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
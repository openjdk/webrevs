{"files":[{"patch":"@@ -80,0 +80,1 @@\n+    private boolean checkNulls;\n@@ -178,1 +179,2 @@\n-        super.visitAssign(tree);\n+        tree.lhs = translate(tree.lhs, false);\n+        tree.rhs = translate(tree.rhs);\n@@ -187,0 +189,7 @@\n+    @Override\n+    public void visitAssignop(JCAssignOp tree) {\n+        tree.lhs = translate(tree.lhs, false);\n+        tree.rhs = translate(tree.rhs);\n+        result = tree;\n+    }\n+\n@@ -206,1 +215,2 @@\n-                    sym.owner != currentClass) {\n+                    sym.owner != currentClass &&\n+                    checkNulls) {\n@@ -318,0 +328,16 @@\n+\n+    @Override\n+    public <T extends JCTree> T translate(T tree) {\n+        return translate(tree, true);\n+    }\n+\n+    public <T extends JCTree> T translate(T tree, boolean checkNulls) {\n+        boolean prevCheckNulls = this.checkNulls;\n+        try {\n+            this.checkNulls = checkNulls;\n+            return super.translate(tree);\n+        } finally {\n+            this.checkNulls = prevCheckNulls;\n+        }\n+    }\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/NullChecksWriter.java","additions":28,"deletions":2,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -313,0 +313,27 @@\n+                \"\"\",\n+                \/\/should not crash javac:\n+                \"\"\"\n+                class Test {\n+                    static String get() {\n+                        return Other.str = \"\";\n+                    }\n+                    public static void main(String... args) {\n+                        get();\n+                    }\n+                }\n+                class Other {\n+                    public static String! str = \"\";\n+                }\n+                \"\"\",\n+                \"\"\"\n+                class Test {\n+                    static String get() {\n+                        return Other.str += \"add\";\n+                    }\n+                    public static void main(String... args) {\n+                        get();\n+                    }\n+                }\n+                class Other {\n+                    public static String! str = \"\";\n+                }\n","filename":"test\/langtools\/tools\/javac\/nullability\/RuntimeNullChecks.java","additions":27,"deletions":0,"binary":false,"changes":27,"status":"modified"}]}
{"files":[{"patch":"@@ -34,3 +34,0 @@\n-# Runtime (all Valhalla):\n-runtime\/cds\/appcds\/cacheObject\/ArchivedIntegerCacheTest.java                                     8374959 generic-all\n-\n","filename":"test\/hotspot\/jtreg\/ProblemList-enable-preview.txt","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,5 +31,2 @@\n-\/*\n- * test\n- * @run main CheckIntegerCacheApp\n- * @run main\/othervm --enable-preview CheckIntegerCacheApp\n- *\/\n+import jdk.internal.misc.PreviewFeatures;\n+\n@@ -85,3 +82,11 @@\n-        if (Integer.valueOf(high + 1) == Integer.valueOf(high + 1)) {\n-            throw new RuntimeException(\n-                    \"FAILED. Value not expected to be retrieved from cache: \" + high);\n+        \/\/ In preview mode the Integer is a value class and the Integer cache is disabled\n+        if (!PreviewFeatures.isEnabled()) {\n+            if (Integer.valueOf(high + 1) == Integer.valueOf(high + 1)) {\n+                throw new RuntimeException(\n+                        \"FAILED. Value not expected to be retrieved from cache: \" + high);\n+            }\n+        } else {\n+            if (Integer.valueOf(high + 1) != Integer.valueOf(high + 1)) {\n+                throw new RuntimeException(\n+                        \"FAILED. Values must be equal in preview mode: \" + high);\n+            }\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/CheckIntegerCacheApp.java","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -50,0 +50,24 @@\n+void StackMapFrame::unsatisfied_strict_fields_error(InstanceKlass* klass, int bci) {\n+  Symbol* name;\n+  Symbol* sig;\n+  int num_uninit_fields = 0;\n+\n+  auto find_unset = [&] (const NameAndSig& key, const bool& value) {\n+    if (!value) {\n+      name = key._name;\n+      sig = key._signature;\n+      num_uninit_fields++;\n+    }\n+  };\n+  assert_unset_fields()->iterate_all(find_unset);\n+\n+  verifier()->verify_error(\n+    ErrorContext::bad_strict_fields(bci, this),\n+    \"All strict final fields must be initialized before super(): %d field(s), %s:%s in %s\",\n+    num_uninit_fields,\n+    name->as_C_string(),\n+    sig->as_C_string(),\n+    klass->name()->as_C_string()\n+  );\n+}\n+\n","filename":"src\/hotspot\/share\/classfile\/stackMapFrame.cpp","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -217,0 +217,1 @@\n+  void unsatisfied_strict_fields_error(InstanceKlass* ik, int bci);\n","filename":"src\/hotspot\/share\/classfile\/stackMapFrame.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -267,1 +267,1 @@\n-            \"Strict fields not a subset of initial strict instance fields\");\n+            \"Strict fields not a subset of initial strict instance fields: %s:%s\", name->as_C_string(), sig->as_C_string());\n","filename":"src\/hotspot\/share\/classfile\/stackMapTable.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -484,0 +484,3 @@\n+    case BAD_STRICT_FIELDS:\n+      ss->print(\"Invalid use of strict instance fields\");\n+      break;\n@@ -2423,1 +2426,1 @@\n-                           \"Initializing unknown strict field\");\n+                           \"Initializing unknown strict field: %s:%s\", fd.name()->as_C_string(), fd.signature()->as_C_string());\n@@ -2720,1 +2723,1 @@\n-        verify_error(ErrorContext::bad_code(bci), \"All strict final fields must be initialized before super()\");\n+        current_frame->unsatisfied_strict_fields_error(current_class(), bci);\n","filename":"src\/hotspot\/share\/classfile\/verifier.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}
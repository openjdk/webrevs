{"files":[{"patch":"@@ -28,0 +28,1 @@\n+ * @enablePreview false\n@@ -41,1 +42,0 @@\n-import jdk.internal.value.ValueClass;\n@@ -62,1 +62,1 @@\n-        assertTrue(Modifier.isIdentity(amod), \"Modifier of array of inline types should have IDENTITY set\");\n+        assertEquals(PreviewFeatures.isPreviewEnabled(), Modifier.isIdentity(amod), \"Modifier of array should have IDENTITY set\");\n@@ -67,2 +67,5 @@\n-        Set<AccessFlag> iacc = Integer.class.accessFlags();\n-        assertFalseIfPreview(iacc.contains(Modifier.IDENTITY), \"Access flags should not contain IDENTITY\");\n+        if (PreviewFeatures.isEnabled()) {\n+            Set<AccessFlag> iacc = Integer.class.accessFlags();\n+            assertFalse(iacc.contains(AccessFlag.IDENTITY), \"Access flags should not contain IDENTITY\");\n+        }\n+Without --enable-preview (before Valhalla), there was no IDENTITY accessflag.\n","filename":"test\/jdk\/valhalla\/valuetypes\/IsIdentityClassTest.java","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"}]}
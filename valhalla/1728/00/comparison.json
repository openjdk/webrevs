{"files":[{"patch":"@@ -1645,0 +1645,1 @@\n+                Env<AttrContext> initEnv = memberEnter.initEnv(tree, env);\n@@ -1651,1 +1652,0 @@\n-                    Env<AttrContext> initEnv = memberEnter.initEnv(tree, env);\n@@ -1668,6 +1668,0 @@\n-                        if (allowValueClasses && v.owner.kind == TYP && !v.isStatic()) {\n-                            \/\/ strict field initializers are inlined in constructor's prologues\n-                            CtorPrologueVisitor ctorPrologueVisitor = new CtorPrologueVisitor(initEnv,\n-                                    !v.isStrict() ? PrologueVisitorMode.WARNINGS_ONLY : PrologueVisitorMode.SUPER_CONSTRUCTOR);\n-                            ctorPrologueVisitor.scan(tree.init);\n-                        }\n@@ -1678,0 +1672,6 @@\n+                if (allowValueClasses && v.owner.kind == TYP && !v.isStatic()) {\n+                    \/\/ strict field initializers are inlined in constructor's prologues\n+                    CtorPrologueVisitor ctorPrologueVisitor = new CtorPrologueVisitor(initEnv,\n+                            !v.isStrict() ? PrologueVisitorMode.WARNINGS_ONLY : PrologueVisitorMode.SUPER_CONSTRUCTOR);\n+                    ctorPrologueVisitor.scan(tree.init);\n+                }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -10,0 +10,1 @@\n+    int b = 5;\n@@ -12,1 +13,0 @@\n-\n@@ -181,0 +181,3 @@\n+\n+    \/\/ this should FAIL\n+    int a = b;\n","filename":"test\/langtools\/tools\/javac\/SuperInit\/ValueClassSuperInitFails.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -17,0 +17,1 @@\n+ValueClassSuperInitFails.java:183:13: compiler.err.cant.ref.before.ctor.called: b\n@@ -28,1 +29,1 @@\n-25 errors\n+26 errors\n","filename":"test\/langtools\/tools\/javac\/SuperInit\/ValueClassSuperInitFails.out","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
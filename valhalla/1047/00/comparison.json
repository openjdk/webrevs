{"files":[{"patch":"@@ -4353,1 +4353,1 @@\n-         (_major_version == JAVA_22_VERSION \/*&& _minor_version == JAVA_PREVIEW_MINOR_VERSION*\/); \/\/ JAVA_PREVIEW_MINOR_VERSION not yet implemented by javac, check JVMS draft\n+         (_major_version == JAVA_22_VERSION && _minor_version == JAVA_PREVIEW_MINOR_VERSION);\n@@ -4662,1 +4662,1 @@\n-  \/\/ if (!_need_verify) { return; }\n+  if (!_need_verify) { return; }\n@@ -4675,2 +4675,1 @@\n-      (!is_interface && major_gte_1_5 && is_annotation) ||\n-      (!is_identity_class && is_enum)) {\n+      (!is_interface && major_gte_1_5 && is_annotation)) {\n@@ -6041,2 +6040,8 @@\n-  if ((!(flags & JVM_ACC_INTERFACE)) && _major_version <= JAVA_22_VERSION && _minor_version != JAVA_PREVIEW_MINOR_VERSION) {\n-    flags |= JVM_ACC_IDENTITY;\n+  if (EnableValhalla) {\n+    if (!supports_inline_types()) {\n+      const bool is_module = (flags & JVM_ACC_MODULE) != 0;\n+      const bool is_interface = (flags & JVM_ACC_INTERFACE) != 0;\n+      if (!is_module && !is_interface) {\n+        flags |= JVM_ACC_IDENTITY;\n+      }\n+    }\n@@ -6060,10 +6065,0 @@\n-  if (EnableValhalla) {\n-    if(!supports_inline_types()) {\n-      const bool is_module = (flags & JVM_ACC_MODULE) != 0;\n-      const bool is_interface = (flags & JVM_ACC_INTERFACE) != 0;\n-      if (!is_module && !is_interface && !is_java_lang_Object) {\n-        flags |= JVM_ACC_IDENTITY;\n-      }\n-    }\n-  }\n-\n","filename":"src\/hotspot\/share\/classfile\/classFileParser.cpp","additions":11,"deletions":16,"binary":false,"changes":27,"status":"modified"}]}
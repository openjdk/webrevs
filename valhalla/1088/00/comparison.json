{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import jdk.internal.misc.PreviewFeatures;\n@@ -619,0 +620,12 @@\n+\n+    \/\/ Temp internal hack (@see java.lang.Class.isValue())\n+    private static boolean isValueClass(Class<?> clazz) {\n+        if (!PreviewFeatures.isEnabled()) {\n+            return false;\n+        }\n+        if (clazz.isPrimitive() || clazz.isArray() || clazz.isInterface()) {\n+             return false;\n+        }\n+        return ((clazz.getModifiers() & \/*Modifier.IDENTITY*\/0x00000020) == 0);\n+    }\n+\n@@ -656,1 +669,1 @@\n-        if (declaringClass.isValue()) {\n+        if (isValueClass(declaringClass)) {\n@@ -698,1 +711,1 @@\n-        if (declaringClass.isValue()) {\n+        if (isValueClass(declaringClass)) {\n@@ -732,1 +745,1 @@\n-        if (declaringClass.isValue()) {\n+        if (isValueClass(declaringClass)) {\n","filename":"src\/jdk.unsupported\/share\/classes\/sun\/misc\/Unsafe.java","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"}]}
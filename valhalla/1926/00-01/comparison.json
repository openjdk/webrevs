{"files":[{"patch":"@@ -46,0 +46,1 @@\n+import static com.sun.tools.javac.code.Kinds.Kind.PCK;\n@@ -150,1 +151,14 @@\n-        return env.toplevel.getTypeDecls().stream().anyMatch(tree -> TreeInfo.symbolFor(tree) == sym.outermostClass());\n+        return env.toplevel.getTypeDecls().stream().anyMatch(\n+                tree -> {\n+                    Symbol csym = TreeInfo.symbolFor(tree);\n+                    return csym.kind == TYP && csym instanceof Symbol.ClassSymbol && csym == outermostType(sym);\n+                });\n+    }\n+\n+    private Symbol outermostType(Symbol sym) {\n+        Symbol prev = null;\n+        while (sym.kind != PCK) {\n+            prev = sym;\n+            sym = sym.owner;\n+        }\n+        return prev;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/NullChecksWriter.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}
{"files":[{"patch":"@@ -50,0 +50,10 @@\n+static void assert_mark_word_print_pattern(Handle object, const char* pattern) {\n+  if (LockingMode == LM_MONITOR) {\n+    \/\/ With heavy monitors, we do not use the mark word. Printing the oop only shows \"monitor\" regardless of the\n+    \/\/ locking state.\n+    assert_test_pattern(object, \"monitor\");\n+  } else {\n+    assert_test_pattern(object, pattern);\n+  }\n+}\n+\n@@ -89,1 +99,1 @@\n-    assert_test_pattern(h_obj, \"locked\");\n+    assert_mark_word_print_pattern(h_obj, \"locked\");\n@@ -91,1 +101,1 @@\n-  assert_test_pattern(h_obj, \"is_neutral no_hash\");\n+  assert_mark_word_print_pattern(h_obj, \"is_neutral no_hash\");\n@@ -95,1 +105,1 @@\n-  assert_test_pattern(h_obj, \"is_neutral hash=0x\");\n+  assert_mark_word_print_pattern(h_obj, \"is_neutral hash=0x\");\n@@ -114,1 +124,5 @@\n-  EXPECT_FALSE(mark.has_locker());\n+  if (LockingMode == LM_LEGACY) {\n+    EXPECT_FALSE(mark.has_locker());\n+  } else if (LockingMode == LM_LIGHTWEIGHT) {\n+    EXPECT_FALSE(mark.is_fast_locked());\n+  }\n","filename":"test\/hotspot\/gtest\/oops\/test_markWord.cpp","additions":18,"deletions":4,"binary":false,"changes":22,"status":"modified"}]}
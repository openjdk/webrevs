{"files":[{"patch":"@@ -438,1 +438,1 @@\n-  int len = to - from;\n+  int len = to - from;  \/\/ length of the new array\n@@ -449,1 +449,2 @@\n-    for (int i = from; i < to; i++) {\n+    int end = to < oh()->length() ? to : oh()->length();\n+    for (int i = from; i < end; i++) {\n@@ -461,1 +462,2 @@\n-    for (int i = from; i < to; i++) {\n+    int end = to < oh()->length() ? to : oh()->length();\n+    for (int i = from; i < end; i++) {\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+ * @run main\/othervm -XX:+UseArrayFlattening -XX:+UseFieldFlattening -XX:+UseNullableValueFlattening runtime.valhalla.inlinetypes.InlineTypeArray\n@@ -591,1 +592,1 @@\n-        \/\/ Range starting after the end of the original array, must fail for null-restricted arrays\n+        \/\/ Range starting after the end of the original array, must suceed for nullable arrays\n","filename":"test\/hotspot\/jtreg\/runtime\/valhalla\/inlinetypes\/InlineTypeArray.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
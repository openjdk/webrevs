{"files":[{"patch":"@@ -200,0 +200,13 @@\n+static void add_wrapper_classes(ClassLoaderData* cld) {\n+  MonitorLocker mu1(SystemDictionary_lock);\n+  JavaThread* current = JavaThread::current();\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Boolean());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Byte());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Character());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Short());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Integer());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Long());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Float());\n+  add_wrapper_class(current, cld, vmSymbols::java_lang_Double());\n+}\n+\n@@ -206,14 +219,6 @@\n-    cld = (class_loader() == nullptr) ? ClassLoaderData::the_null_class_loader_data() :\n-                                      ClassLoaderDataGraph::find_or_create(class_loader);\n-  }\n-  if (class_loader() != nullptr && cld->dictionary() != nullptr) {\n-    MonitorLocker mu1(SystemDictionary_lock);\n-    JavaThread* current = JavaThread::current();\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Boolean());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Byte());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Character());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Short());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Integer());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Long());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Float());\n-    add_wrapper_class(current, cld, vmSymbols::java_lang_Double());\n+    if (class_loader() == nullptr) {\n+      cld = ClassLoaderData::the_null_class_loader_data();\n+    } else {\n+      cld = ClassLoaderDataGraph::find_or_create(class_loader);\n+      add_wrapper_classes(cld);\n+    }\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":19,"deletions":14,"binary":false,"changes":33,"status":"modified"}]}
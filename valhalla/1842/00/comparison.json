{"files":[{"patch":"@@ -130,6 +130,0 @@\n-    \/**\n-     * The modifier {@code implicit}\n-     * @since 21\n-     *\/\n-    IMPLICIT,\n-\n","filename":"src\/java.compiler\/share\/classes\/javax\/lang\/model\/element\/Modifier.java","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -136,3 +136,0 @@\n-    @Use({FlagTarget.CLASS})\n-    @NoToStringValue\n-    public static final int ACC_NON_ATOMIC = 1<<8;\n@@ -543,6 +540,0 @@\n-    \/**\n-     * Flag to indicate that a value class constructor is implicit\n-     *\/\n-    @Use({FlagTarget.METHOD})\n-    public static final long IMPLICIT    = 1L<<59;\n-\n@@ -588,1 +579,1 @@\n-        ModifierFlags                     = ((long)StandardFlags & ~INTERFACE) | DEFAULT | SEALED | NON_SEALED | VALUE_CLASS | IMPLICIT,\n+        ModifierFlags                     = ((long)StandardFlags & ~INTERFACE) | DEFAULT | SEALED | NON_SEALED | VALUE_CLASS,\n@@ -592,2 +583,1 @@\n-        ReceiverParamFlags                = PARAMETER,\n-        ImplicitConstructorFlags          = PUBLIC | IMPLICIT;\n+        ReceiverParamFlags                = PARAMETER;\n@@ -616,1 +606,0 @@\n-            if (0 != (flags & IMPLICIT))        modifiers.add(Modifier.IMPLICIT);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Flags.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -494,6 +494,0 @@\n-    \/** Is this symbol an implicit constructor?\n-     *\/\n-    public boolean isImplicitConstructor() {\n-        return isConstructor() && ((flags() & IMPLICIT) != 0);\n-    }\n-\n@@ -1361,2 +1355,0 @@\n-        private boolean hasImplicitConstructor = false;\n-\n@@ -1728,29 +1720,0 @@\n-\n-        public boolean hasImplicitConstructor() {\n-            if (hasImplicitConstructor) {\n-                return true;\n-            } else {\n-                if (getImplicitConstructor() != null) {\n-                    hasImplicitConstructor = true;\n-                }\n-                return hasImplicitConstructor;\n-            }\n-        }\n-\n-        public void implicitConstructorFound() {\n-            hasImplicitConstructor = true;\n-        }\n-\n-        private MethodSymbol getImplicitConstructor() {\n-            for (Symbol s : members().getSymbols(NON_RECURSIVE)) {\n-                switch (s.kind) {\n-                    case MTH:\n-                        if (s.isConstructor()) {\n-                            if (s.isImplicitConstructor()) {\n-                                return (MethodSymbol) s;\n-                            }\n-                        }\n-                }\n-            }\n-            return null;\n-        }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Symbol.java","additions":0,"deletions":37,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -243,4 +243,0 @@\n-    public boolean hasImplicitConstructor() {\n-        return false;\n-    }\n-\n@@ -1217,5 +1213,0 @@\n-        @Override\n-        public boolean hasImplicitConstructor() {\n-            return tsym != null && tsym.kind == TYP && ((ClassSymbol)tsym).hasImplicitConstructor();\n-        }\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Type.java","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1822,1 +1822,1 @@\n-                if (s.hasTag(ERROR) || s.hasTag(BOT) && (!t.hasImplicitConstructor() || !isNonNullable(t)))\n+                if (s.hasTag(ERROR) || s.hasTag(BOT) && (!isNonNullable(t)))\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Types.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1184,8 +1184,0 @@\n-            if (allowNullRestrictedTypes && tree.sym.isImplicitConstructor()) {\n-                if (tree.body == null) {\n-                    tree.body = make.Block(0, List.nil());\n-                } else {\n-                    log.error(tree.pos(), Errors.ImplicitConstCantHaveBody);\n-                }\n-            }\n-\n@@ -1742,1 +1734,1 @@\n-                        ((types.isNonNullable(result) || types.isNonNullable(elemOrType)) && (!elemOrType.isValueClass() || !elemOrType.hasImplicitConstructor()))) {\n+                        ((types.isNonNullable(result) || types.isNonNullable(elemOrType)) && (!elemOrType.isValueClass()))) {\n@@ -5822,5 +5814,0 @@\n-            if (c.type.isValueClass()) {\n-                final Env<AttrContext> env = typeEnvs.get(c);\n-                if (allowNullRestrictedTypes && env != null && env.tree != null && env.tree.hasTag(CLASSDEF) && TreeInfo.getImplicitConstructor(((JCClassDecl)env.tree).defs) != null)\n-                    chk.checkNonCyclicMembership((JCClassDecl)env.tree);\n-            }\n@@ -6016,1 +6003,0 @@\n-                chk.checkConstraintsOfValueClassesWithImplicitConst((JCClassDecl) env.tree, c);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":1,"deletions":15,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -734,24 +734,0 @@\n-    void checkConstraintsOfValueClassesWithImplicitConst(JCClassDecl classDecl, ClassSymbol c) {\n-        if (allowNullRestrictedTypes) {\n-            JCMethodDecl implicitConstructor = TreeInfo.getImplicitConstructor(classDecl.defs);\n-            if (implicitConstructor != null) {\n-                Type encl = c.type.getEnclosingType();\n-                if (encl != null && encl.hasTag(CLASS)) {\n-                    log.error(classDecl.pos(), Errors.ValueClassWithImplicitCannotBeInner(c));\n-                }\n-                if ((c.flags() & HASINITBLOCK) != 0) {\n-                    log.error(classDecl.pos(), Errors.ValueClassWithImplicitDeclaresInitBlock(c));\n-                }\n-                for (Symbol s : c.members().getSymbols(NON_RECURSIVE)) {\n-                    switch (s.kind) {\n-                        case VAR:\n-                            if ((s.flags() & STATIC) == 0 & (s.flags() & HASINIT) != 0) {\n-                                log.error(classDecl.pos(), Errors.ValueClassWithImplicitInstanceFieldInitializer(c));\n-                            }\n-                            break;\n-                    }\n-                }\n-            }\n-        }\n-    }\n-\n@@ -1260,9 +1236,1 @@\n-                } else if ((flags & IMPLICIT) != 0) {\n-                    if ((flags & PUBLIC) == 0) {\n-                        log.error(pos, Errors.ImplicitConstMustBePublic);\n-                    }\n-                    if ((sym.owner.flags_field & VALUE_CLASS) == 0) {\n-                        log.error(pos, Errors.ImplicitConstMustBeDeclaredInValueClass);\n-                    }\n-                    mask = ImplicitConstructorFlags;\n-                } else {\n+                } else\n@@ -1270,1 +1238,0 @@\n-                }\n@@ -2414,43 +2381,0 @@\n-    \/\/ A primitive class cannot contain a field of its own type either or indirectly.\n-    \/\/ TODO, update this method once we have null restricted types\n-    void checkNonCyclicMembership(JCClassDecl tree) {\n-        if (!tree.sym.type.hasImplicitConstructor()) {\n-            return;\n-        }\n-        Assert.check((tree.sym.flags_field & LOCKED) == 0);\n-        try {\n-            tree.sym.flags_field |= LOCKED;\n-            for (List<? extends JCTree> l = tree.defs; l.nonEmpty(); l = l.tail) {\n-                if (l.head.hasTag(VARDEF)) {\n-                    JCVariableDecl field = (JCVariableDecl) l.head;\n-                    if (cyclePossible(field.sym)) {\n-                        checkNonCyclicMembership((ClassSymbol) field.type.tsym, field.pos());\n-                    }\n-                }\n-            }\n-        } finally {\n-            tree.sym.flags_field &= ~LOCKED;\n-        }\n-    }\n-    \/\/ where\n-    private void checkNonCyclicMembership(ClassSymbol c, DiagnosticPosition pos) {\n-        \/*\n-        if ((c.flags_field & LOCKED) != 0) {\n-            log.error(pos, Errors.CyclicPrimitiveClassMembership(c));\n-            return;\n-        }\n-        try {\n-            c.flags_field |= LOCKED;\n-            for (Symbol fld : c.members().getSymbols(s -> s.kind == VAR && cyclePossible((VarSymbol) s), NON_RECURSIVE)) {\n-                checkNonCyclicMembership((ClassSymbol) fld.type.tsym, pos);\n-            }\n-        } finally {\n-            c.flags_field &= ~LOCKED;\n-        }\n-        *\/\n-    }\n-        \/\/ where\n-        private boolean cyclePossible(VarSymbol symbol) {\n-            return (symbol.flags() & STATIC) == 0 && symbol.type.isValueClass() && symbol.type.hasImplicitConstructor() && types.isNonNullable(symbol.type);\n-        }\n-\n@@ -2712,14 +2636,0 @@\n-\n-        boolean implementsLooselyConsistentValue = false;\n-        try {\n-            implementsLooselyConsistentValue = allowValueClasses && allowNullRestrictedTypes ? types.asSuper(c, syms.looselyConsistentValueType.tsym) != null : false;\n-        } catch (CompletionFailure cf) {\n-            \/\/ ignore\n-        }\n-        boolean cIsValue = (c.tsym.flags() & VALUE_CLASS) != 0;\n-        boolean cHasIdentity = (c.tsym.flags() & IDENTITY_TYPE) != 0;\n-        if (c.getKind() == TypeKind.DECLARED && implementsLooselyConsistentValue && !c.tsym.isAbstract()) {\n-            if (!cIsValue || !((ClassSymbol)c.tsym).hasImplicitConstructor()) {\n-                log.error(pos, Errors.CantImplementInterface(c.tsym));\n-            }\n-        }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":1,"deletions":91,"binary":false,"changes":92,"status":"modified"},{"patch":"@@ -2126,1 +2126,1 @@\n-                            } else if (!tree.sym.isImplicitConstructor()) { \/\/ implicit constructors are special, ignore them\n+                            } else {\n@@ -2628,1 +2628,1 @@\n-                if (name == names._super && !currentMethod.sym.isImplicitConstructor()) {\n+                if (name == names._super) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Flow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1371,15 +1371,0 @@\n-            new AttributeReader(names.ImplicitCreation, V66, CLASS_ATTRIBUTE) {\n-                @Override\n-                protected boolean accepts(AttributeKind kind) {\n-                    return super.accepts(kind) && allowValueClasses;\n-                }\n-                protected void read(Symbol sym, int attrLen) {\n-                    if (((ClassSymbol)sym).hasImplicitConstructor()) { \/\/ there can only be one per class\n-                        throw badClassFile(\"attribute.must.be.unique\", names.ImplicitCreation);\n-                    }\n-                    if (sym.kind == TYP) {\n-                        nextChar();\n-                        ((ClassSymbol)sym).implicitConstructorFound();\n-                    }\n-                }\n-            },\n@@ -2748,4 +2733,0 @@\n-            if (((ClassSymbol)currentOwner).hasImplicitConstructor() && type.getParameterTypes().size() == 0) {\n-                \/\/ this has to be the implicit constructor\n-                flags |= IMPLICIT;\n-            }\n@@ -3375,2 +3356,0 @@\n-        \/\/ we need to do some checks now that the class has been loaded\n-        checkNonCyclicMembership(c);\n@@ -3669,51 +3648,0 @@\n-    \/\/ A value class cannot contain a non-nullable instance field of its own type either directly or indirectly.\n-    void checkNonCyclicMembership(ClassSymbol csym) {\n-        if (!allowValueClasses || !csym.type.hasImplicitConstructor()) {\n-            \/\/ nothing to see here\n-            return;\n-        }\n-        Assert.check((csym.flags_field & LOCKED) == 0);\n-        try {\n-            ListBuffer<Symbol> fields = new ListBuffer<>();\n-            \/\/ invoking c::members can provoke symbol completion and thus the LOCKED flag can be set before expected\n-            for (Symbol field : csym.members().getSymbols(s -> s.kind == VAR && cyclePossible((VarSymbol) s), NON_RECURSIVE)) {\n-                fields.add(field);\n-            }\n-            csym.flags_field |= LOCKED;\n-            for (Symbol field : fields) {\n-                checkNonCyclicMembershipHelper((ClassSymbol) field.type.tsym);\n-            }\n-        } finally {\n-            csym.flags_field &= ~LOCKED;\n-        }\n-    }\n-    \/\/ where\n-    private void checkNonCyclicMembershipHelper(ClassSymbol c) {\n-        \/*if ((c.flags_field & LOCKED) != 0) {\n-            JavaFileObject prevSource = log.useSource(currentClassFile);\n-            try {\n-                log.error(CompilerProperties.Errors.CyclicPrimitiveClassMembership(c));\n-                return;\n-            } finally {\n-                log.useSource(prevSource);\n-            }\n-        }\n-        try {\n-            ListBuffer<Symbol> fields = new ListBuffer<>();\n-            \/\/ invoking c::members can provoke symbol completion and thus the LOCKED flag can be set before expected\n-            for (Symbol fld : c.members().getSymbols(s -> s.kind == VAR && cyclePossible((VarSymbol) s), NON_RECURSIVE)) {\n-                fields.add(fld);\n-            }\n-            c.flags_field |= LOCKED;\n-            for (Symbol field : fields) {\n-                checkNonCyclicMembershipHelper((ClassSymbol) field.type.tsym);\n-            }\n-        } finally {\n-            c.flags_field &= ~LOCKED;\n-        }*\/\n-    }\n-    \/\/ where\n-    private boolean cyclePossible(VarSymbol symbol) {\n-        return (symbol.flags() & STATIC) == 0 && symbol.type.isValueClass() && symbol.type.hasImplicitConstructor() && types.isNonNullable(symbol.type);\n-    }\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassReader.java","additions":0,"deletions":72,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -1023,13 +1023,0 @@\n-    \/** Write \"ImplicitCreation\" attribute.\n-     *\/\n-    int writeImplicitCreationIfNeeded(ClassSymbol csym) {\n-        if (allowNullRestrictedTypes && csym.isValueClass() && csym.hasImplicitConstructor()) {\n-            int alenIdx = writeAttr(names.ImplicitCreation);\n-            int flags = \/*ACC_DEFAULT |*\/ (csym.isSubClass(syms.looselyConsistentValueType.tsym, types) ? ACC_NON_ATOMIC : 0);\n-            databuf.appendChar(flags);\n-            endAttr(alenIdx);\n-            return 1;\n-        }\n-        return 0;\n-    }\n-\n@@ -1881,4 +1868,0 @@\n-        if (target.hasValueClasses()) {\n-            acount += writeImplicitCreationIfNeeded(c);\n-        }\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassWriter.java","additions":0,"deletions":17,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -1133,2 +1133,0 @@\n-                selfType = selfType.hasImplicitConstructor() ?\n-                        selfType.addMetadata(new TypeMetadata.NullMarker(JCNullableTypeExpression.NullMarker.NOT_NULL)) : selfType;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/Gen.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3804,4 +3804,0 @@\n-                if (isImplicitModifier()) {\n-                    flag = Flags.IMPLICIT;\n-                    break;\n-                }\n@@ -4078,7 +4074,0 @@\n-        if (name == names.implicit) {\n-            if (allowValueClasses) {\n-                return Source.JDK23;\n-            } else if (shouldWarn) {\n-                log.warning(pos, Warnings.RestrictedTypeNotAllowedPreview(name, Source.JDK18));\n-            }\n-        }\n@@ -5232,19 +5221,0 @@\n-    protected boolean isImplicitModifier() {\n-        if (token.kind == IDENTIFIER && token.name() == names.implicit) {\n-            boolean isImplicitModifier = false;\n-            Token next = S.token(1);\n-            switch (next.kind) {\n-                case PRIVATE: case PROTECTED: case PUBLIC: case MONKEYS_AT:\n-                case STATIC: case FINAL: case ABSTRACT: case NATIVE:\n-                case SYNCHRONIZED: case STRICTFP: case DEFAULT: case IDENTIFIER:\n-                    isImplicitModifier = true;\n-                    break;\n-            }\n-            if (isImplicitModifier) {\n-                checkSourceLevel(Feature.VALUE_CLASSES);\n-                return true;\n-            }\n-        }\n-        return false;\n-    }\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":0,"deletions":30,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -4322,29 +4322,0 @@\n-# 0: symbol\n-compiler.err.value.class.with.implicit.cannot.be.inner=\\\n-    The value class {0} declares an implicit constructor. It cannot be an inner class.\n-\n-# 0: symbol\n-compiler.err.value.class.with.implicit.declares.init.block=\\\n-    The value class {0} declares an implicit constructor.\\n\\\n-    It cannot declare one or more non-empty instance initializer blocks\n-\n-# 0: symbol\n-compiler.err.value.class.with.implicit.instance.field.initializer=\\\n-    The value class {0} declares an implicit constructor.\\n\\\n-    And it defines an instance field with an initializer. This is disallowed.\n-\n-compiler.err.implicit.const.cant.have.body=\\\n-    implicit constructors cannot have a body\n-\n-compiler.err.implicit.const.must.be.public=\\\n-    implicit constructors must be public\n-\n-compiler.err.implicit.const.must.be.declared.in.value.class=\\\n-    only value classes can declare implicit constructors\n-\n-# 0: symbol\n-compiler.err.cant.implement.interface=\\\n-    class {0} cannot implement LooselyConsistentValue interface. Concrete classes implementing this interface must:\\n\\\n-     be value classes and declare an implicit constructor.\n-\n-\n@@ -4400,1 +4371,1 @@\n-    it must be a value class with an implicit constructor\n+    it must be a value class\n@@ -4405,1 +4376,1 @@\n-    its element type must be a value class with an implicit constructor\n+    its element type must be a value class\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/compiler.properties","additions":2,"deletions":31,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -114,6 +114,0 @@\n-    public static JCMethodDecl getImplicitConstructor(List<JCTree> trees) {\n-        for (List<JCTree> l = trees; l.nonEmpty(); l = l.tail)\n-            if (isConstructor(l.head) && (((JCMethodDecl)l.head).mods.flags & IMPLICIT) != 0) return (JCMethodDecl) l.head;\n-        return null;\n-    }\n-\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/tree\/TreeInfo.java","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -173,1 +173,0 @@\n-    public final Name ImplicitCreation;\n@@ -243,1 +242,0 @@\n-    public final Name implicit;\n@@ -378,1 +376,0 @@\n-        ImplicitCreation = fromString(\"ImplicitCreation\");\n@@ -442,1 +439,0 @@\n-        implicit = fromString(\"implicit\");\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/util\/Names.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -102,24 +102,0 @@\n-\n-    @Test\n-    public void testImplicitConstModifiers(Path base) throws IOException {\n-        Path src = base.resolve(\"src\");\n-        tb.writeJavaFiles(src,\n-                \"\"\"\n-                package p;\n-\n-                public value class ValueClassWithImplicitConst {\n-                    public implicit ValueClassWithImplicitConst();\n-                }\n-                \"\"\");\n-\n-        javadoc(\"-d\", base.resolve(\"out\").toString(),\n-                \"--enable-preview\", \"-source\", String.valueOf(Runtime.version().feature()),\n-                \"-sourcepath\", src.toString(),\n-                \"p\");\n-        checkExit(Exit.OK);\n-\n-        checkOutput(\"p\/ValueClassWithImplicitConst.html\", true,\n-                \"\"\"\n-                <div class=\"member-signature\"><span class=\"modifiers\">public implicit<\/span>&nbsp;<span class=\"element-name\">ValueClassWithImplicitConst<\/span>()<\/div>\n-                \"\"\");\n-    }\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testValueClasses\/TestValueClasses.java","additions":0,"deletions":24,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -1,28 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.cant.implement.interface\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-class CantImplementInterface implements LooselyConsistentValue {\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/CantImplementInterface.java","additions":0,"deletions":28,"binary":false,"changes":28,"status":"deleted"},{"patch":"@@ -1,31 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.implicit.const.cant.have.body\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-value class ImplicitConstructorWithBody {\n-    public implicit ImplicitConstructorWithBody() {}\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImplicitConstructorWithBody.java","additions":0,"deletions":31,"binary":false,"changes":31,"status":"deleted"},{"patch":"@@ -1,31 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.implicit.const.must.be.declared.in.value.class\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-class ImplicitMustBeInValueClass {\n-    public implicit ImplicitMustBeInValueClass();\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImplicitMustBeInValueClass.java","additions":0,"deletions":31,"binary":false,"changes":31,"status":"deleted"},{"patch":"@@ -1,31 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.implicit.const.must.be.public\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-value class ImplicitMustBePublic {\n-    implicit ImplicitMustBePublic();\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ImplicitMustBePublic.java","additions":0,"deletions":31,"binary":false,"changes":31,"status":"deleted"},{"patch":"@@ -1,33 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.value.class.with.implicit.cannot.be.inner\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-class ValueClassWithImplicitCannotBeInner {\n-    value class V {\n-        public implicit V();\n-    }\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ValueClassWithImplicitCannotBeInner.java","additions":0,"deletions":33,"binary":false,"changes":33,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.value.class.with.implicit.declares.init.block\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-value class ValueClassWithImplicitCantDeclareInitBlock {\n-    int i;\n-    {\n-        i = 0;\n-    }\n-    public implicit ValueClassWithImplicitCantDeclareInitBlock();\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ValueClassWithImplicitCantDeclareInitBlock.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,32 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/\/ key: compiler.err.value.class.with.implicit.instance.field.initializer\n-\/\/ key: compiler.note.preview.filename\n-\/\/ key: compiler.note.preview.recompile\n-\/\/ options: --enable-preview -source ${jdk.version}\n-\n-value class ValueClassWithImplicitCantHaveFieldInit {\n-    int i = 0;\n-    public implicit ValueClassWithImplicitCantHaveFieldInit ();\n-}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/ValueClassWithImplicitCantHaveFieldInit.java","additions":0,"deletions":32,"binary":false,"changes":32,"status":"deleted"},{"patch":"@@ -138,1 +138,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -155,1 +155,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -184,1 +184,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -207,1 +207,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -224,1 +224,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -241,1 +241,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -258,1 +258,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -275,1 +275,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -292,1 +292,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -317,1 +317,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -339,1 +339,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -386,1 +386,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -398,1 +398,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -586,1 +586,1 @@\n-                                    static value class Point { public implicit Point(); }\n+                                    static value class Point { }\n@@ -602,1 +602,1 @@\n-                                    static value class Point { public implicit Point(); }\n+                                    static value class Point { }\n@@ -648,1 +648,1 @@\n-                                value class Point implements Shape { public implicit Point(); }\n+                                value class Point implements Shape { }\n@@ -662,1 +662,1 @@\n-                                value class Point implements Shape { public implicit Point(); }\n+                                value class Point implements Shape { }\n@@ -726,1 +726,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n@@ -807,1 +807,0 @@\n-                                    public implicit Test();\n@@ -847,1 +846,1 @@\n-                                value class Point { public implicit Point(); }\n+                                value class Point { }\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityCompilationTests.java","additions":19,"deletions":20,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -35,2 +35,0 @@\n-    public implicit CanonicalCtorTest();\n-\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/CanonicalCtorTest.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,15 +0,0 @@\n-\/* @test \/nodynamiccopyright\/\n- * @summary [lw5] check that there can only be one ImplicitCreation attribute\n- * @modules jdk.compiler\/com.sun.tools.javac.api\n- *          jdk.compiler\/com.sun.tools.javac.main\n- *          jdk.compiler\/com.sun.tools.javac.util\n- * @library \/tools\/lib\n- * @compile DuplicateImplicitCreationAttr.jcod\n- * @compile\/fail\/ref=CheckImplicitCreationAttrIsUnique.out --enable-preview -source ${jdk.version} -XDrawDiagnostics CheckImplicitCreationAttrIsUnique.java\n- *\/\n-\n-public class CheckImplicitCreationAttrIsUnique {\n-    void m() {\n-        DuplicateImplicitCreationAttr v = new DuplicateImplicitCreationAttr();\n-    }\n-}\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/classfile\/implicit_creation_attr\/CheckImplicitCreationAttrIsUnique.java","additions":0,"deletions":15,"binary":false,"changes":15,"status":"deleted"},{"patch":"@@ -1,2 +0,0 @@\n-CheckImplicitCreationAttrIsUnique.java:13:9: compiler.err.cant.access: DuplicateImplicitCreationAttr, (compiler.misc.bad.class.file.header: DuplicateImplicitCreationAttr.class, (compiler.misc.attribute.must.be.unique: ImplicitCreation))\n-1 error\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/classfile\/implicit_creation_attr\/CheckImplicitCreationAttrIsUnique.out","additions":0,"deletions":2,"binary":false,"changes":2,"status":"deleted"},{"patch":"@@ -1,70 +0,0 @@\n-class DuplicateImplicitCreationAttr {\n-  0xCAFEBABE;\n-  0; \/\/ minor version\n-  66; \/\/ version\n-  [] { \/\/ Constant Pool\n-    ; \/\/ first element is empty\n-    class #2; \/\/ #1\n-    Utf8 \"DuplicateImplicitCreationAttr\"; \/\/ #2\n-    class #4; \/\/ #3\n-    Utf8 \"java\/lang\/Object\"; \/\/ #4\n-    Utf8 \"<vnew>\"; \/\/ #5\n-    Utf8 \"()LDuplicateImplicitCreationAttr;\"; \/\/ #6\n-    Utf8 \"Code\"; \/\/ #7\n-    Utf8 \"LineNumberTable\"; \/\/ #8\n-    Utf8 \"SourceFile\"; \/\/ #9\n-    Utf8 \"DuplicateImplicitCreationAttr.java\"; \/\/ #10\n-    Utf8 \"ImplicitCreation\"; \/\/ #11\n-  } \/\/ Constant Pool\n-\n-  0x0050; \/\/ access\n-  #1;\/\/ this_cpx\n-  #3;\/\/ super_cpx\n-\n-  [] { \/\/ Interfaces\n-  } \/\/ Interfaces\n-\n-  [] { \/\/ Fields\n-  } \/\/ Fields\n-\n-  [] { \/\/ Methods\n-    {  \/\/ method\n-      0x0009; \/\/ access\n-      #5; \/\/ name_index\n-      #6; \/\/ descriptor_index\n-      [] { \/\/ Attributes\n-        Attr(#7) { \/\/ Code\n-          1; \/\/ max_stack\n-          1; \/\/ max_locals\n-          Bytes[]{\n-            0xCB00014B2AB0;\n-          }\n-          [] { \/\/ Traps\n-          } \/\/ end Traps\n-          [] { \/\/ Attributes\n-            Attr(#8) { \/\/ LineNumberTable\n-              [] { \/\/ line_number_table\n-                0  2;\n-                4  1;\n-              }\n-            } \/\/ end LineNumberTable\n-          } \/\/ Attributes\n-        } \/\/ end Code\n-      } \/\/ Attributes\n-    }\n-  } \/\/ Methods\n-\n-  [] { \/\/ Attributes\n-    Attr(#9) { \/\/ SourceFile\n-      #10;\n-    } \/\/ end SourceFile\n-    ;\n-    Attr(#11) { \/\/ ImplicitCreation\n-      0x0001;\n-    } \/\/ end ImplicitCreation\n-    ;\n-    Attr(#11) { \/\/ ImplicitCreation\n-      0x0001;\n-    } \/\/ end ImplicitCreation\n-  } \/\/ Attributes\n-} \/\/ end class DuplicateImplicitCreationAttr\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/classfile\/implicit_creation_attr\/DuplicateImplicitCreationAttr.jcod","additions":0,"deletions":70,"binary":false,"changes":70,"status":"deleted"}]}
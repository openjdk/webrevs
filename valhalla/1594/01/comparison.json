{"files":[{"patch":"@@ -6021,1 +6021,1 @@\n-                       SystemDictionary::resolve_with_circularity_detection_or_fail(_class_name,\n+                       SystemDictionary::resolve_super_or_fail(_class_name,\n@@ -6093,1 +6093,1 @@\n-        interf = SystemDictionary::resolve_with_circularity_detection_or_fail(\n+        interf = SystemDictionary::resolve_super_or_fail(\n@@ -6172,4 +6172,4 @@\n-        InstanceKlass* klass = SystemDictionary::resolve_with_circularity_detection_or_fail(_class_name, s,\n-                                                                                            Handle(THREAD,\n-                                                                                            _loader_data->class_loader()),\n-                                                                                            false, THREAD);\n+        InstanceKlass* klass = SystemDictionary::resolve_with_circularity_detection(_class_name, s,\n+                                                                                    Handle(THREAD,\n+                                                                                    _loader_data->class_loader()),\n+                                                                                    false, THREAD);\n@@ -6199,3 +6199,3 @@\n-          Klass* klass = SystemDictionary::resolve_with_circularity_detection_or_fail(_class_name, name,\n-                                                                                      Handle(THREAD, loader),\n-                                                                                      false, THREAD);\n+          Klass* klass = SystemDictionary::resolve_super_or_fail(_class_name, name,\n+                                                                 Handle(THREAD, loader),\n+                                                                 false, THREAD);\n","filename":"src\/hotspot\/share\/classfile\/classFileParser.cpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -64,2 +64,2 @@\n-\/\/ For INLINE_FIELD, set when loading inline type fields for\n-\/\/ class circularity checking.\n+\/\/ For DETECT_CIRCULARITY, set when loading super class, interfaces, or inline type\n+\/\/ fields for class circularity checking.\n","filename":"src\/hotspot\/share\/classfile\/placeholders.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,0 @@\n-  \/\/ VALUE_OBJECT_FIELD: needed to check for inline type fields circularity\n","filename":"src\/hotspot\/share\/classfile\/placeholders.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -377,1 +377,1 @@\n-      \/\/ Ignore wrapping L and ; (and Q and ; for value types).\n+      \/\/ Ignore wrapping L and ;.\n@@ -425,1 +425,2 @@\n-\/\/ during class definition to allow class circularity checking\n+\/\/ during class definition, or may be called for inline field layout processing\n+\/\/ to detect class circularity errors.\n@@ -438,0 +439,2 @@\n+\/\/ inline field layout callers:\n+\/\/    The field's class must be loaded to determine layout.\n@@ -441,1 +444,1 @@\n-\/\/ placeholder for the same thread, class, classloader is found.\n+\/\/ placeholder for the same thread, class, and classloader is found.\n@@ -476,1 +479,1 @@\n-    \/\/ Must check ClassCircularity before resolving next_name (superclass or interface).\n+    \/\/ Must check ClassCircularity before resolving next_name (superclass, interface, field types or speculatively preloaded argument types).\n@@ -500,1 +503,1 @@\n-  \/\/ Resolve the superclass or superinterface, check results on return\n+  \/\/ Resolve the superclass, superinterface, field type or speculatively preloaded argument types and check results on return.\n@@ -1107,1 +1110,1 @@\n-  InstanceKlass* real_k = SystemDictionary::resolve_with_circularity_detection_or_fail(ik->name(), name,\n+  InstanceKlass* real_k = SystemDictionary::resolve_with_circularity_detection(ik->name(), name,\n@@ -1145,1 +1148,1 @@\n-    InstanceKlass* real_k = SystemDictionary::resolve_with_circularity_detection_or_fail(ik->name(), name,\n+    InstanceKlass* real_k = SystemDictionary::resolve_with_circularity_detection(ik->name(), name,\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -71,1 +71,0 @@\n-class AllFieldStream;\n@@ -116,2 +115,1 @@\n-  static InstanceKlass* resolve_with_circularity_detection_or_fail(Symbol* class_name,\n-                                              Symbol* super_name,\n+  static InstanceKlass* resolve_super_or_fail(Symbol* class_name, Symbol* super_name,\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.hpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"}]}
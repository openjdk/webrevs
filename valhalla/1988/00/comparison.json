{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,2 @@\n- * &commat;jls section-number description\n+ * &commat;jls chapter.section description\n+ * &commat;jls preview-feature-chapter.section description\n@@ -59,0 +60,1 @@\n+ * &commat;jls primitive-types-in-patterns-instanceof-switch-5.7.1 Exact Testing Conversions\n@@ -67,0 +69,3 @@\n+ * <dd><a href=\"..\/..\/specs\/primitive-types-in-patterns-instanceof-switch-jls.html#jls-5.7.1\">\n+ * 5.7.1 Exact Testing Conversions<\/a><sup class=\"preview-mark\">\n+ * <a href=\"..\/..\/specs\/jls\/jls-1.html#jls-1.5.1\">PREVIEW<\/a><\/sup>\n@@ -69,2 +74,13 @@\n- * Copies of JLS and JVMS are expected to have been placed in the {@code specs}\n- * folder. These documents are not included in open-source repositories.\n+ * In inline tags (note you need manual JLS\/JVMS prefix):\n+ * <pre>\n+ * JLS {&commat;jls 3.4}\n+ * <\/pre>\n+ *\n+ * produces (note the section sign and no trailing dot):\n+ * <pre>\n+ * JLS <a href=\"..\/..\/specs\/jls\/jls-3.html#jls-3.4\">§3.4<\/a>\n+ * <\/pre>\n+ *\n+ * Copies of JLS, JVMS, and preview JLS and JVMS changes are expected to have\n+ * been placed in the {@code specs} folder. These documents are not included\n+ * in open-source repositories.\n@@ -90,3 +106,3 @@\n-    private String tagName;\n-    private String specTitle;\n-    private String idPrefix;\n+    private final String tagName;\n+    private final String specTitle;\n+    private final String idPrefix;\n@@ -101,1 +117,1 @@\n-    private static final Pattern TAG_PATTERN = Pattern.compile(\"(?s)(.+ )?(?<chapter>[1-9][0-9]*)(?<section>[0-9a-z_.]*)( .*)?$\");\n+    private static final Pattern TAG_PATTERN = Pattern.compile(\"(?s)(.+ )?(?<preview>([a-z0-9]+-)+)?(?<chapter>[1-9][0-9]*)(?<section>[0-9a-z_.]*)( .*)?$\");\n@@ -160,0 +176,2 @@\n+                \/\/ preview-feature-4.6 is preview-feature-, 4, .6\n+                String preview = m.group(\"preview\"); \/\/ null if no preview feature\n@@ -164,2 +182,20 @@\n-                String url = String.format(\"%1$s\/specs\/%2$s\/%2$s-%3$s.html#%2$s-%3$s%4$s\",\n-                        rootParent, idPrefix, chapter, section);\n+                String url = preview == null ?\n+                        String.format(\"%1$s\/specs\/%2$s\/%2$s-%3$s.html#%2$s-%3$s%4$s\",\n+                                rootParent, idPrefix, chapter, section) :\n+                        String.format(\"%1$s\/specs\/%5$s%2$s.html#%2$s-%3$s%4$s\",\n+                                rootParent, idPrefix, chapter, section, preview);\n+\n+                var literal = expand(contents).trim();\n+                var prefix = (preview == null ? \"\" : preview) + chapter + section;\n+                if (literal.startsWith(prefix)) {\n+                    var hasFullTitle = literal.length() > prefix.length();\n+                    if (hasFullTitle) {\n+                        \/\/ Drop the preview identifier\n+                        literal = chapter + section + literal.substring(prefix.length());\n+                    } else {\n+                        \/\/ No section sign if the tag refers to a chapter, like {@jvms 4}\n+                        String sectionSign = section.isEmpty() ? \"\" : \"§\";\n+                        \/\/ Change whole text to \"§chapter.x\" in inline tags.\n+                        literal = sectionSign + chapter + section;\n+                    }\n+                }\n@@ -170,1 +206,1 @@\n-                        .append(expand(contents))\n+                        .append(literal)\n@@ -173,0 +209,11 @@\n+                if (preview != null) {\n+                    \/\/ Add PREVIEW superscript that links to JLS\/JVMS 1.5.1\n+                    \/\/ \"Restrictions on the Use of Preview Features\"\n+                    \/\/ Similar to how APIs link to the Preview info box warning\n+                    var sectionLink = String.format(\"%1$s\/specs\/%2$s\/%2$s-%3$s.html#%2$s-%3$s%4$s\",\n+                            rootParent, idPrefix, \"1\", \".5.1\");\n+                    sb.append(\"<sup class=\\\"preview-mark\\\"><a href=\\\"\")\n+                            .append(sectionLink)\n+                            .append(\"\\\">PREVIEW<\/a><\/sup>\");\n+                }\n+\n","filename":"make\/jdk\/src\/classes\/build\/tools\/taglet\/JSpec.java","additions":58,"deletions":11,"binary":false,"changes":69,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,1 +54,1 @@\n- *          See {@jls The Java Language Specification 8.1.1.5 Value Classes}.\n+ *          See The Java Language Specification {@jls value-objects-8.1.1.5 Value Classes}.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Number.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n- *          See {@jls The Java Language Specification 8.1.1.5 Value Classes}.\n+ *          See The Java Language Specification {@jls value-objects-8.1.1.5 Value Classes}.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Object.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,1 +76,1 @@\n- *          See {@jls The Java Language Specification 8.1.1.5 Value Classes}.\n+ *          See The Java Language Specification {@jls value-objects-8.1.1.5 Value Classes}.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Record.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -258,1 +258,2 @@\n-     * {@return Attribute mapper for the {@code LoadableDescriptors} attribute}\n+     * {@return the mapper for the {@code LoadableDescriptors} attribute}\n+     *\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/Attributes.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n- * attribute (JVMS {@jvms 4.7.32}), which suggests the JVM may load mentioned\n+ * attribute (JVMS {@jvms value-objects-4.7.32}), which suggests the JVM may load mentioned\n@@ -59,1 +59,1 @@\n- * @jvms 4.7.32 The {@code LoadableDescriptors} Attribute\n+ * @jvms value-objects-4.7.32 The {@code LoadableDescriptors} Attribute\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/attribute\/LoadableDescriptorsAttribute.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-     * @see <a href=\"https:\/\/cr.openjdk.org\/~dlsmith\/jep401\/jep401-20250409\/specs\/strict-fields-jvms.html\">Specs<\/a>\n+     * @jvms strict-fields-4.7.4 The {@code StackMapTable} Attribute\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/attribute\/StackMapFrameInfo.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -178,1 +178,0 @@\n-     * @jvms 4.1 -B. Class access and property modifiers\n@@ -180,0 +179,1 @@\n+     * @jvms value-objects-4.1 Class access and property modifiers\n@@ -290,1 +290,1 @@\n-     * @jvms 4.5 Fields\n+     * @jvms strict-fields-4.5 Field access and property flags\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/AccessFlag.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,6 +67,3 @@\n- * @see <a href=\"..\/..\/..\/..\/..\/specs\/primitive-types-in-patterns-instanceof-switch-jls.html#jls-5.7.1\">\n- * JLS 5.7.1 Exact Testing Conversions<\/a>\n- * @see <a href=\"..\/..\/..\/..\/..\/specs\/primitive-types-in-patterns-instanceof-switch-jls.html#jls-5.7.2\">\n- * JLS 5.7.2 Unconditionally Exact Testing Conversions<\/a>\n- * @see <a href=\"..\/..\/..\/..\/..\/specs\/primitive-types-in-patterns-instanceof-switch-jls.html#jls-15.20.2\">\n- * JLS 15.20.2 The instanceof Operator<\/a>\n+ * @jls primitive-types-in-patterns-instanceof-switch-5.7.1 Exact Testing Conversions\n+ * @jls primitive-types-in-patterns-instanceof-switch-5.7.2 Unconditionally Exact Testing Conversions\n+ * @jls primitive-types-in-patterns-instanceof-switch-15.20.2 The {@code instanceof} Operator\n","filename":"src\/java.base\/share\/classes\/java\/lang\/runtime\/ExactConversionsSupport.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -42,2 +42,0 @@\n-\n-jdk\/javadoc\/doccheck\/checks\/jdkCheckLinks.java 8375777 generic-all\n","filename":"test\/docs\/ProblemList.txt","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -102,0 +102,3 @@\n+    \/\/ With Valhalla, when Integer is a value class, we have only one allocation\n+    \/\/ at first (Iter), which goes away.\n+    \/\/\n@@ -105,2 +108,4 @@\n-    @IR(phase = { CompilePhase.PHASEIDEAL_BEFORE_EA }, counts = { IRNode.ALLOC, \"2\" })\n-    @IR(phase = { CompilePhase.ITER_GVN_AFTER_ELIMINATION }, counts = { IRNode.ALLOC, \"1\" })\n+    @IR(applyIf = {\"enable-valhalla\", \"false\"}, phase = { CompilePhase.PHASEIDEAL_BEFORE_EA }, counts = { IRNode.ALLOC, \"2\" })\n+    @IR(applyIf = {\"enable-valhalla\", \"false\"}, phase = { CompilePhase.ITER_GVN_AFTER_ELIMINATION }, counts = { IRNode.ALLOC, \"1\"})\n+    @IR(applyIf = {\"enable-valhalla\", \"true\"}, phase = { CompilePhase.PHASEIDEAL_BEFORE_EA }, counts = { IRNode.ALLOC, \"1\" })\n+    @IR(applyIf = {\"enable-valhalla\", \"true\"}, phase = { CompilePhase.ITER_GVN_AFTER_ELIMINATION }, failOn = { IRNode.ALLOC })\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/scalarReplacement\/ScalarReplacementWithGCBarrierTests.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -478,0 +478,3 @@\n+        if (flag.equals(\"enable-valhalla\")) {\n+            return checkBooleanFlag(flag, value, Integer.class.isValue());\n+        }\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/test\/IREncodingPrinter.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -166,1 +166,0 @@\n-    public final Type objectsType;\n@@ -563,1 +562,0 @@\n-        objectsType = enterClass(\"java.util.Objects\");\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Symtab.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -93,1 +93,0 @@\n-import static com.sun.tools.javac.tree.JCTree.Tag.NULLCHK2;\n@@ -764,1 +763,1 @@\n-            if (!oldNewClazz.args.isEmpty() && (oldNewClazz.args.head.hasTag(NULLCHK) || oldNewClazz.args.head.hasTag(NULLCHK2))) {\n+            if (!oldNewClazz.args.isEmpty() && oldNewClazz.args.head.hasTag(NULLCHK)) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Analyzer.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3510,6 +3510,0 @@\n-        return makeNullCheck(arg, false);\n-    }\n-\n-    \/** Make an attributed null check tree.\n-     *\/\n-    public JCExpression makeNullCheck(JCExpression arg, boolean nullRestricted) {\n@@ -3523,3 +3517,2 @@\n-        JCTree.Tag optag = !nullRestricted ? NULLCHK : NULLCHK2;\n-        JCUnary tree = make.at(arg.pos).Unary(optag, arg);\n-        tree.operator = operators.resolveUnary(arg, optag, arg.type);\n+        JCUnary tree = make.at(arg.pos).Unary(NULLCHK, arg);\n+        tree.operator = operators.resolveUnary(arg, NULLCHK, arg.type);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -687,2 +687,0 @@\n-                        .addUnaryOperator(OBJECT, OBJECT, nullchk),\n-                new UnaryReferenceOperator(Tag.NULLCHK2)\n@@ -843,1 +841,0 @@\n-        setOperatorName(Tag.NULLCHK2, \"<*nullchk2*>\");\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Operators.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -418,1 +418,0 @@\n-            case NULLCHK2:\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/ThisEscapeAnalyzer.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-            return attr.makeNullCheck(tree, true);\n+            return attr.makeNullCheck(tree);\n@@ -1072,1 +1072,1 @@\n-        tree.arg = translate(tree.arg, (tree.getTag() == Tag.NULLCHK || tree.getTag() == Tag.NULLCHK2)\n+        tree.arg = translate(tree.arg, (tree.getTag() == Tag.NULLCHK)\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/TransTypes.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2331,1 +2331,0 @@\n-            case NULLCHK2:\n@@ -2334,1 +2333,1 @@\n-                genNullCheck(tree, tree.getTag() == NULLCHK2);\n+                genNullCheck(tree);\n@@ -2344,4 +2343,0 @@\n-        genNullCheck(tree, false);\n-    }\n-\n-    private void genNullCheck(JCTree tree, boolean nullRestricted) {\n@@ -2349,8 +2344,2 @@\n-        if (!nullRestricted) {\n-            callMethod(tree.pos(), syms.objectsType, names.requireNonNull,\n-                    List.of(syms.objectType), true);\n-            code.emitop0(pop);\n-        } else {\n-            callMethod(tree.pos(), syms.checksType, names.nullCheck,\n-                    List.of(syms.objectType), true);\n-        }\n+        callMethod(tree.pos(), syms.checksType, names.nullCheck,\n+                List.of(syms.objectType), true);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/Gen.java","additions":3,"deletions":14,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -343,4 +343,0 @@\n-        \/** unary operator for null reference checks, only used internally\n-         *  for null restricted types\n-         *\/\n-        NULLCHK2,\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/tree\/JCTree.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1314,1 +1314,0 @@\n-            case NULLCHK2: return \"<*nullchk2*>\";\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/tree\/Pretty.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1180,2 +1180,1 @@\n-        case NULLCHK:\n-        case NULLCHK2: return postfixPrec;\n+        case NULLCHK: return postfixPrec;\n@@ -1320,1 +1319,0 @@\n-        case NULLCHK2:\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/tree\/TreeInfo.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -199,1 +199,0 @@\n-    public final Name requireNonNull;\n@@ -403,1 +402,0 @@\n-        requireNonNull = fromString(\"requireNonNull\");\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/util\/Names.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
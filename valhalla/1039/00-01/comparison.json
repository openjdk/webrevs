{"files":[{"patch":"@@ -90,17 +90,5 @@\n-            try {\n-                MethodHandles.Lookup lookup = MethodHandles.lookup();\n-\n-                @SuppressWarnings(\"removal\")\n-                ClassLoader loader = AccessController.doPrivileged(new PrivilegedAction<ClassLoader>() {\n-                    @Override public ClassLoader run() { return ClassLoader.getPlatformClassLoader(); }\n-                });\n-\n-                primitiveSubstitutable.putAll(primitiveEquals); \/\/ adopt all the primitive eq methods\n-                primitiveSubstitutable.put(float.class, lookup.findStatic(MethodHandleBuilder.class, \"eqValue\",\n-                        MethodType.fromMethodDescriptorString(\"(FF)Z\", loader)));\n-                primitiveSubstitutable.put(double.class, lookup.findStatic(MethodHandleBuilder.class, \"eqValue\",\n-                        MethodType.fromMethodDescriptorString(\"(DD)Z\", loader)));\n-\n-            } catch (ReflectiveOperationException e) {\n-                throw new RuntimeException(e);\n-            }\n+            primitiveSubstitutable.putAll(primitiveEquals); \/\/ adopt all the primitive eq methods\n+            primitiveSubstitutable.put(float.class,\n+                    findStatic(\"eqValue\", methodType(boolean.class, float.class, float.class)));\n+            primitiveSubstitutable.put(double.class,\n+                    findStatic(\"eqValue\", methodType(boolean.class, double.class, double.class)));\n","filename":"src\/java.base\/share\/classes\/java\/lang\/runtime\/ValueObjectMethods.java","additions":5,"deletions":17,"binary":false,"changes":22,"status":"modified"}]}
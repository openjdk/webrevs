{"files":[{"patch":"@@ -68,2 +68,2 @@\n-      if (vk->is_naturally_atomic() && vk->has_non_atomic_layout()) return LayoutKind::NON_ATOMIC_FLAT;\n-      return (vk->has_atomic_layout() && use_atomic_flat) ? LayoutKind::ATOMIC_FLAT : LayoutKind::REFERENCE;\n+      if (vk->is_naturally_atomic() && vk->has_non_atomic_layout()) return LayoutKind::NULL_FREE_NON_ATOMIC_FLAT;\n+      return (vk->has_atomic_layout() && use_atomic_flat) ? LayoutKind::NULL_FREE_ATOMIC_FLAT : LayoutKind::REFERENCE;\n@@ -71,1 +71,1 @@\n-      return vk->has_non_atomic_layout() ? LayoutKind::NON_ATOMIC_FLAT : LayoutKind::REFERENCE;\n+      return vk->has_non_atomic_layout() ? LayoutKind::NULL_FREE_NON_ATOMIC_FLAT : LayoutKind::REFERENCE;\n@@ -84,1 +84,1 @@\n-    case LayoutKind::NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n@@ -88,1 +88,1 @@\n-    case LayoutKind::ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n@@ -627,17 +627,0 @@\n-static const char* layout_kind_to_string(LayoutKind lk) {\n-  switch(lk) {\n-    case LayoutKind::REFERENCE:\n-      return \"REFERENCE\";\n-    case LayoutKind::NON_ATOMIC_FLAT:\n-      return \"NON_ATOMIC_FLAT\";\n-    case LayoutKind::ATOMIC_FLAT:\n-      return \"ATOMIC_FLAT\";\n-    case LayoutKind::NULLABLE_ATOMIC_FLAT:\n-      return \"NULLABLE_ATOMIC_FLAT\";\n-    case LayoutKind::UNKNOWN:\n-      return \"UNKNOWN\";\n-    default:\n-      ShouldNotReachHere();\n-  }\n-}\n-\n@@ -672,1 +655,1 @@\n-                         ik->class_loader_data(), layout_kind_to_string(b->layout_kind()));\n+                         ik->class_loader_data(), LayoutKindHelper::layout_kind_as_string(b->layout_kind()));\n@@ -1537,1 +1520,1 @@\n-  if (PrintFieldLayout || (PrintInlineLayout && _has_flattening_information)) {\n+  if (PrintFieldLayout || (PrintInlineLayout && (_has_flattening_information || _is_abstract_value))) {\n@@ -1558,1 +1541,2 @@\n-      st.print_cr(\"Payload layout: %d\/%d\", _payload_size_in_bytes, _payload_alignment);\n+      st.print_cr(\"%s layout: %d\/%d\", LayoutKindHelper::layout_kind_as_string(LayoutKind::BUFFERED),\n+                  _payload_size_in_bytes, _payload_alignment);\n@@ -1560,1 +1544,3 @@\n-        st.print_cr(\"Non atomic flat layout: %d\/%d\", _non_atomic_layout_size_in_bytes, _non_atomic_layout_alignment);\n+        st.print_cr(\"%s layout: %d\/%d\",\n+                    LayoutKindHelper::layout_kind_as_string(LayoutKind::NULL_FREE_NON_ATOMIC_FLAT),\n+                    _non_atomic_layout_size_in_bytes, _non_atomic_layout_alignment);\n@@ -1562,1 +1548,2 @@\n-        st.print_cr(\"Non atomic flat layout: -\/-\");\n+        st.print_cr(\"%s layout: -\/-\",\n+                    LayoutKindHelper::layout_kind_as_string(LayoutKind::NULL_FREE_NON_ATOMIC_FLAT));\n@@ -1565,1 +1552,3 @@\n-        st.print_cr(\"Atomic flat layout: %d\/%d\", _atomic_layout_size_in_bytes, _atomic_layout_size_in_bytes);\n+        st.print_cr(\"%s layout: %d\/%d\",\n+                    LayoutKindHelper::layout_kind_as_string(LayoutKind::NULL_FREE_ATOMIC_FLAT),\n+                    _atomic_layout_size_in_bytes, _atomic_layout_size_in_bytes);\n@@ -1567,1 +1556,2 @@\n-        st.print_cr(\"Atomic flat layout: -\/-\");\n+        st.print_cr(\"%s layout: -\/-\",\n+                    LayoutKindHelper::layout_kind_as_string(LayoutKind::NULL_FREE_ATOMIC_FLAT));\n@@ -1570,1 +1560,3 @@\n-        st.print_cr(\"Nullable flat layout: %d\/%d\", _nullable_layout_size_in_bytes, _nullable_layout_size_in_bytes);\n+        st.print_cr(\"%s layout: %d\/%d\",\n+                    LayoutKindHelper::layout_kind_as_string(LayoutKind::NULLABLE_ATOMIC_FLAT),\n+                    _nullable_layout_size_in_bytes, _nullable_layout_size_in_bytes);\n@@ -1572,1 +1564,2 @@\n-        st.print_cr(\"Nullable flat layout: -\/-\");\n+        st.print_cr(\"%s layout: -\/-\",\n+                    LayoutKindHelper::layout_kind_as_string(LayoutKind::NULLABLE_ATOMIC_FLAT));\n","filename":"src\/hotspot\/share\/classfile\/fieldLayoutBuilder.cpp","additions":24,"deletions":31,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -224,1 +224,1 @@\n-    case LayoutKind::ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n@@ -227,1 +227,1 @@\n-    case LayoutKind::NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n","filename":"src\/hotspot\/share\/oops\/arrayKlass.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -76,2 +76,2 @@\n-    case LayoutKind::NON_ATOMIC_FLAT:\n-    case LayoutKind::ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n","filename":"src\/hotspot\/share\/oops\/flatArrayKlass.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-    case LayoutKind::NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n@@ -129,1 +129,1 @@\n-    case LayoutKind::ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n@@ -147,1 +147,1 @@\n-    case LayoutKind::NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n@@ -151,1 +151,1 @@\n-    case LayoutKind::ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n@@ -169,1 +169,1 @@\n-    case LayoutKind::NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n@@ -172,1 +172,1 @@\n-    case LayoutKind::ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n@@ -214,2 +214,2 @@\n-    case LayoutKind::ATOMIC_FLAT:\n-    case LayoutKind::NON_ATOMIC_FLAT: {\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT: {\n@@ -239,2 +239,2 @@\n-    case LayoutKind::ATOMIC_FLAT:\n-    case LayoutKind::NON_ATOMIC_FLAT: {\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT: {\n","filename":"src\/hotspot\/share\/oops\/inlineKlass.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -0,0 +1,45 @@\n+\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#include \"oops\/layoutKind.hpp\"\n+\n+const char* LayoutKindHelper::layout_kind_as_string(LayoutKind lk) {\n+  switch(lk) {\n+    case LayoutKind::REFERENCE:\n+      return \"REFERENCE\";\n+    case LayoutKind::BUFFERED:\n+      return \"BUFFERED\";\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n+      return \"NULL_FREE_NON_ATOMIC_FLAT\";\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n+      return \"NULL_FREE_ATOMIC_FLAT\";\n+    case LayoutKind::NULLABLE_ATOMIC_FLAT:\n+      return \"NULLABLE_ATOMIC_FLAT\";\n+    case LayoutKind::UNKNOWN:\n+      return \"UNKNOWN\";\n+    default:\n+      ShouldNotReachHere();\n+  }\n+}\n\\ No newline at end of file\n","filename":"src\/hotspot\/share\/oops\/layoutKind.cpp","additions":45,"deletions":0,"binary":false,"changes":45,"status":"added"},{"patch":"@@ -41,1 +41,1 @@\n-\/\/ NON_ATOMIC_FLAT : this layout is the simplest form of flattening. Any field embedded inside the flat field\n+\/\/ NULL_FREE_NON_ATOMIC_FLAT : this layout is the simplest form of flattening. Any field embedded inside the flat field\n@@ -44,1 +44,1 @@\n-\/\/ ATOMIC_FLAT : this flat layout is designed for atomic updates, with size and alignment that make use of\n+\/\/ NULL_FREE_ATOMIC_FLAT : this flat layout is designed for atomic updates, with size and alignment that make use of\n@@ -77,6 +77,6 @@\n-  REFERENCE            = 0,    \/\/ indirection to a heap allocated instance\n-  BUFFERED             = 1,    \/\/ layout used in heap allocated standalone instances\n-  NON_ATOMIC_FLAT      = 2,    \/\/ flat, no guarantee of atomic updates, no null marker\n-  ATOMIC_FLAT          = 3,    \/\/ flat, size compatible with atomic updates, alignment requirement is equal to the size\n-  NULLABLE_ATOMIC_FLAT = 4,    \/\/ flat, include a null marker, plus same properties as ATOMIC layout\n-  UNKNOWN              = 5     \/\/ used for uninitialized fields of type LayoutKind\n+  REFERENCE                 = 0,    \/\/ indirection to a heap allocated instance\n+  BUFFERED                  = 1,    \/\/ layout used in heap allocated standalone instances\n+  NULL_FREE_NON_ATOMIC_FLAT = 2,    \/\/ flat, null-free (no null marker), no guarantee of atomic updates\n+  NULL_FREE_ATOMIC_FLAT     = 3,    \/\/ flat, null-free, size compatible with atomic updates, alignment requirement is equal to the size\n+  NULLABLE_ATOMIC_FLAT      = 4,    \/\/ flat, include a null marker, plus same size\/alignment properties as ATOMIC layout\n+  UNKNOWN                   = 5     \/\/ used for uninitialized fields of type LayoutKind\n@@ -88,1 +88,2 @@\n-    return lk == LayoutKind::NON_ATOMIC_FLAT || lk == LayoutKind::ATOMIC_FLAT || lk == LayoutKind::NULLABLE_ATOMIC_FLAT;\n+    return lk == LayoutKind::NULL_FREE_NON_ATOMIC_FLAT\n+                 || lk == LayoutKind::NULL_FREE_ATOMIC_FLAT || lk == LayoutKind::NULLABLE_ATOMIC_FLAT;\n@@ -91,1 +92,1 @@\n-    return lk == LayoutKind::ATOMIC_FLAT || lk == LayoutKind::NULLABLE_ATOMIC_FLAT;\n+    return lk == LayoutKind::NULL_FREE_ATOMIC_FLAT || lk == LayoutKind::NULLABLE_ATOMIC_FLAT;\n@@ -96,0 +97,1 @@\n+  static const char* layout_kind_as_string(LayoutKind lk);\n","filename":"src\/hotspot\/share\/oops\/layoutKind.hpp","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -108,2 +108,2 @@\n-    case LayoutKind::ATOMIC_FLAT:\n-    case LayoutKind::NON_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_ATOMIC_FLAT:\n+    case LayoutKind::NULL_FREE_NON_ATOMIC_FLAT:\n","filename":"src\/hotspot\/share\/oops\/markWord.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -187,1 +187,1 @@\n-        return ArrayDescription(FlatArrayKlassKind, properties, LayoutKind::NON_ATOMIC_FLAT);\n+        return ArrayDescription(FlatArrayKlassKind, properties, LayoutKind::NULL_FREE_NON_ATOMIC_FLAT);\n@@ -194,1 +194,1 @@\n-        return ArrayDescription(FlatArrayKlassKind, properties, LayoutKind::NON_ATOMIC_FLAT);\n+        return ArrayDescription(FlatArrayKlassKind, properties, LayoutKind::NULL_FREE_NON_ATOMIC_FLAT);\n@@ -196,1 +196,1 @@\n-        return ArrayDescription(FlatArrayKlassKind, properties, LayoutKind::ATOMIC_FLAT);\n+        return ArrayDescription(FlatArrayKlassKind, properties, LayoutKind::NULL_FREE_ATOMIC_FLAT);\n","filename":"src\/hotspot\/share\/oops\/objArrayKlass.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -3873,1 +3873,1 @@\n-  Node* cmp = _gvn.transform(new CmpINode(layout_kind, intcon((int)LayoutKind::ATOMIC_FLAT)));\n+  Node* cmp = _gvn.transform(new CmpINode(layout_kind, intcon((int)LayoutKind::NULL_FREE_ATOMIC_FLAT)));\n","filename":"src\/hotspot\/share\/opto\/graphKit.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2787,2 +2787,2 @@\n-  assert(layout == LayoutKind::REFERENCE || layout == LayoutKind::NON_ATOMIC_FLAT ||\n-         layout == LayoutKind::ATOMIC_FLAT || layout == LayoutKind::NULLABLE_ATOMIC_FLAT,\n+  assert(layout == LayoutKind::REFERENCE || layout == LayoutKind::NULL_FREE_NON_ATOMIC_FLAT ||\n+         layout == LayoutKind::NULL_FREE_ATOMIC_FLAT || layout == LayoutKind::NULLABLE_ATOMIC_FLAT,\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -540,1 +540,1 @@\n-  \/\/   - the array uses an atomic flat layout: NULLABLE_ATOMIC_FLAT or ATOMIC_FLAT\n+  \/\/   - the array uses an atomic flat layout: NULLABLE_ATOMIC_FLAT or NULL_FREE_ATOMIC_FLAT\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -195,1 +195,1 @@\n-  markWord mark = markWord::flat_array_prototype(LayoutKind::NON_ATOMIC_FLAT);\n+  markWord mark = markWord::flat_array_prototype(LayoutKind::NULL_FREE_NON_ATOMIC_FLAT);\n","filename":"test\/hotspot\/gtest\/oops\/test_markWord.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -83,3 +83,3 @@\n-    NON_ATOMIC_FLAT,\n-    ATOMIC_FLAT,\n-    NULLABLE_FLAT;\n+    NULL_FREE_NON_ATOMIC_FLAT,\n+    NULL_FREE_ATOMIC_FLAT,\n+    NULLABLE_ATOMIC_FLAT;\n@@ -89,4 +89,4 @@\n-        case \"\"                : return NON_FLAT;\n-        case \"NON_ATOMIC_FLAT\" : return NON_ATOMIC_FLAT;\n-        case \"ATOMIC_FLAT\"     : return ATOMIC_FLAT;\n-        case \"NULLABLE_ATOMIC_FLAT\"   : return NULLABLE_FLAT;\n+        case \"\"                          : return NON_FLAT;\n+        case \"NULL_FREE_NON_ATOMIC_FLAT\" : return NULL_FREE_NON_ATOMIC_FLAT;\n+        case \"NULL_FREE_ATOMIC_FLAT\"     : return NULL_FREE_ATOMIC_FLAT;\n+        case \"NULLABLE_ATOMIC_FLAT\"      : return NULLABLE_ATOMIC_FLAT;\n@@ -211,1 +211,1 @@\n-        case NON_ATOMIC_FLAT:\n+        case NULL_FREE_NON_ATOMIC_FLAT:\n@@ -214,1 +214,1 @@\n-        case ATOMIC_FLAT:\n+        case NULL_FREE_ATOMIC_FLAT:\n@@ -217,1 +217,1 @@\n-        case NULLABLE_FLAT:\n+        case NULLABLE_ATOMIC_FLAT:\n@@ -229,1 +229,1 @@\n-        case NON_ATOMIC_FLAT:\n+        case NULL_FREE_NON_ATOMIC_FLAT:\n@@ -232,1 +232,1 @@\n-        case ATOMIC_FLAT:\n+        case NULL_FREE_ATOMIC_FLAT:\n@@ -235,1 +235,1 @@\n-        case NULLABLE_FLAT:\n+        case NULLABLE_ATOMIC_FLAT:\n@@ -292,2 +292,2 @@\n-        \/\/ Payload layout: x\/y\n-        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"Payload layout\"));\n+        \/\/ BUFFERED layout: x\/y\n+        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"BUFFERED layout\"));\n@@ -299,2 +299,2 @@\n-        \/\/ Non atomic flat layout: x\/y\n-        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"Non atomic flat layout\"));\n+        \/\/ NULL_FREE_NON_ATOMIC_FLAT layout: x\/y\n+        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"NULL_FREE_NON_ATOMIC_FLAT layout\"));\n@@ -302,1 +302,1 @@\n-        size_align = nonAtomicLayoutLine[4].split(\"\/\");\n+        size_align = nonAtomicLayoutLine[2].split(\"\/\");\n@@ -312,2 +312,2 @@\n-        \/\/ Atomic flat layout: x\/y\n-        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"Atomic flat layout\"));\n+        \/\/ NULL_FREE_ATOMIC_FLAT layout: x\/y\n+        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"NULL_FREE_ATOMIC_FLAT layout\"));\n@@ -315,1 +315,1 @@\n-        size_align = atomicLayoutLine[3].split(\"\/\");\n+        size_align = atomicLayoutLine[2].split(\"\/\");\n@@ -325,2 +325,2 @@\n-        \/\/ Nullable flat layout: x\/y\n-        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"Nullable flat layout\"));\n+        \/\/ NULLABLE_ATOMIC_FLAT layout: x\/y\n+        Asserts.assertTrue(lo.getCurrentLine().startsWith(\"NULLABLE_ATOMIC_FLAT layout\"));\n@@ -328,1 +328,1 @@\n-        size_align = nullableLayoutLine[3].split(\"\/\");\n+        size_align = nullableLayoutLine[2].split(\"\/\");\n","filename":"test\/hotspot\/jtreg\/runtime\/valhalla\/inlinetypes\/field_layout\/FieldLayoutAnalyzer.java","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -150,1 +150,1 @@\n-            Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f0.layoutKind());\n+            Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f0.layoutKind());\n@@ -187,1 +187,1 @@\n-            Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+            Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n","filename":"test\/hotspot\/jtreg\/runtime\/valhalla\/inlinetypes\/field_layout\/TestLayoutFlags.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -116,1 +116,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.ATOMIC_FLAT, f0.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_ATOMIC_FLAT, f0.layoutKind());\n@@ -122,1 +122,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f1.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f1.layoutKind());\n@@ -143,1 +143,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.ATOMIC_FLAT, f.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_ATOMIC_FLAT, f.layoutKind());\n@@ -149,1 +149,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f1.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f1.layoutKind());\n@@ -196,1 +196,1 @@\n-    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n@@ -199,1 +199,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f1.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f1.layoutKind());\n@@ -219,1 +219,1 @@\n-    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n@@ -222,1 +222,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f1.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f1.layoutKind());\n@@ -243,1 +243,1 @@\n-    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n@@ -266,1 +266,1 @@\n-    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n@@ -269,1 +269,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f1.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f1.layoutKind());\n@@ -289,1 +289,1 @@\n-    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n@@ -292,1 +292,1 @@\n-      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_FLAT, f1.layoutKind());\n+      Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULLABLE_ATOMIC_FLAT, f1.layoutKind());\n@@ -313,1 +313,1 @@\n-    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NON_ATOMIC_FLAT, f0.layoutKind());\n+    Asserts.assertEquals(FieldLayoutAnalyzer.LayoutKind.NULL_FREE_NON_ATOMIC_FLAT, f0.layoutKind());\n","filename":"test\/hotspot\/jtreg\/runtime\/valhalla\/inlinetypes\/field_layout\/ValueCompositionTest.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}
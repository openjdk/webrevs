{"files":[{"patch":"@@ -3086,2 +3086,1 @@\n-    const char* inner_name = inner_name_index == 0 ? \"unnamed\" : cp->symbol_at(inner_name_index)->as_utf8();\n-    verify_legal_class_modifiers(flags, inner_name, CHECK_0);\n+    verify_legal_class_modifiers(flags, CHECK_0);\n@@ -4425,1 +4424,1 @@\n-void ClassFileParser::verify_legal_class_modifiers(jint flags, const char* inner_name, TRAPS) const {\n+void ClassFileParser::verify_legal_class_modifiers(jint flags, TRAPS) const {\n@@ -4461,18 +4460,7 @@\n-    if (inner_name == nullptr) { \/\/ Not an inner class\n-      Exceptions::fthrow(\n-        THREAD_AND_LOCATION,\n-        vmSymbols::java_lang_ClassFormatError(),\n-        \"Illegal class modifiers in class %s%s: 0x%X\",\n-        _class_name->as_C_string(), class_note, flags\n-      );\n-      return;\n-    } else {\n-      \/\/ Names are all known to be < 64k so we know this formatted message is not excessively large.\n-      Exceptions::fthrow(\n-        THREAD_AND_LOCATION,\n-        vmSymbols::java_lang_ClassFormatError(),\n-        \"Illegal class modifiers in declaration of inner class %s%s of class %s: 0x%X\",\n-        inner_name, class_note, _class_name->as_C_string(), flags\n-      );\n-      return;\n-    }\n+    Exceptions::fthrow(\n+      THREAD_AND_LOCATION,\n+      vmSymbols::java_lang_ClassFormatError(),\n+      \"Illegal class modifiers in class %s%s: 0x%X\",\n+      _class_name->as_C_string(), class_note, flags\n+    );\n+    return;\n@@ -5809,1 +5797,1 @@\n-  verify_legal_class_modifiers(flags, nullptr, CHECK);\n+  verify_legal_class_modifiers(flags, CHECK);\n","filename":"src\/hotspot\/share\/classfile\/classFileParser.cpp","additions":10,"deletions":22,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -466,1 +466,1 @@\n-  void verify_legal_class_modifiers(jint flags, const char* name, TRAPS) const;\n+  void verify_legal_class_modifiers(jint flags, TRAPS) const;\n","filename":"src\/hotspot\/share\/classfile\/classFileParser.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
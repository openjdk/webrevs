{"files":[{"patch":"@@ -169,26 +169,0 @@\n-                                \"compiler.err.prob.found.req\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test<T> {\n-                                    void m() {\n-                                        Supplier<? extends T> factory = nullFactory();\n-                                    }\n-                                    Supplier<? extends T!> nullFactory() { return () -> null; }\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n-                                \"compiler.err.prob.found.req\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                value class Point { }\n-                                class MyList<T> {\n-                                    void add(T e) {}\n-                                }\n-                                class Test {\n-                                    void m(MyList<? super Point!> ls) {\n-                                        ls.add(null);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n@@ -243,43 +217,1 @@\n-                                    Point![]! s;\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n-                                \"compiler.err.non.nullable.should.be.initialized\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo {\n-                                    Foo![]! s;\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n-                                \"compiler.err.non.nullable.should.be.initialized\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                value class Point { }\n-                                class Foo {\n-                                    Point![]![]! s;\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n-                                \"compiler.err.non.nullable.should.be.initialized\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo {\n-                                    Foo![]![]! s;\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n-                                \"compiler.err.non.nullable.should.be.initialized\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                value class Point { }\n-                                class Foo {\n-                                    Point[]![] s;\n-                                }\n-                                \"\"\",\n-                                Result.Error,\n-                                \"compiler.err.non.nullable.should.be.initialized\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo {\n-                                    Foo[]![] s;\n+                                    Point[]! s;\n@@ -294,1 +226,1 @@\n-                                    Point[]![][] s;\n+                                    Point[][]! s;\n@@ -302,1 +234,1 @@\n-                                    Foo[]![][] s;\n+                                    Foo[][]! s;\n@@ -315,12 +247,0 @@\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                value class Point { }\n-                                class Foo {\n-                                    void m(Point! s1, Point? s3) {\n-                                        s1 = s3;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n@@ -347,289 +267,0 @@\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo<T extends String!> {\n-                                    Foo<String?> f2;\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo<T extends String!> {\n-                                    Foo<String> f2;\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo<T extends Object!> {\n-                                    Foo<String?> f2;\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Foo<T extends Object!> {\n-                                    Foo<String> f2;\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        \/\/ wildcards\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                value class Point { }\n-                                class Foo {\n-                                    void test(List<? extends Point!> ls1, List<? extends Point> ls3) {\n-                                        ls1 = ls3;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                value class Point { }\n-                                class Foo {\n-                                    void test(List<? extends Point!> ls1, List<? extends Point?> ls3) {\n-                                        ls1 = ls3;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                class Foo {\n-                                    void test(List<? extends Object!> ls1, List<? extends String> ls3) {\n-                                        ls1 = ls3;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                class Foo {\n-                                    void test(List<? extends Object!> ls1, List<? extends String?> ls3) {\n-                                        ls1 = ls3;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Test {\n-                                    static value class Atom {}\n-                                    static class Box<X> {}\n-                                    void test(Box<? extends Atom!> t1, Box<Atom> t2) {\n-                                        t1 = t2;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Test {\n-                                    static value class Atom {}\n-                                    static class Box<X> {}\n-                                    void test(Box<? extends Atom!> t1, Box<Atom?> t2) {\n-                                        t1 = t2;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Wrapper<T> {}\n-                                class Test<T> {\n-                                    Wrapper<T> newWrapper() { return null; }\n-                                    void m() {\n-                                        Wrapper<T!> w = newWrapper();\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Wrapper<T> {}\n-                                class Test<T> {\n-                                    Wrapper<T?> newWrapper() { return null; }\n-                                    void m() {\n-                                        Wrapper<T!> w = newWrapper();\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test {\n-                                    void plot(Function<String, String> f) {}\n-                                    void m(Function<String!, String> gradient) {\n-                                        plot(gradient);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test {\n-                                    void plot(Function<String?, String> f) {}\n-                                    void m(Function<String!, String> gradient) {\n-                                        plot(gradient);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test {\n-                                    void plot(Function<String!, String> f) {}\n-                                    void m(Function<String, String> gradient) {\n-                                        plot(gradient);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test {\n-                                    void plot(Function<String!, String> f) {}\n-                                    void m(Function<String?, String> gradient) {\n-                                        plot(gradient);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test<T> {\n-                                    void m() {\n-                                        Supplier<? extends T!> factory = nullFactory();\n-                                    }\n-                                    Supplier<? extends T> nullFactory() { return () -> null; }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                class Test<T> {\n-                                    Set<Map.Entry<String, T>> allEntries() { return null; }\n-                                    void m() {\n-                                        Set<Map.Entry<String, T!>> entries = allEntries();\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.function.*;\n-                                class Test<T> {\n-                                    T field;\n-                                    void foo(Consumer<? super T!> action) {\n-                                        action.accept(field);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                class Test<T> {\n-                                    Set<Map.Entry<String, T!>> allEntries() { return null; }\n-                                    void m() {\n-                                        Set<Map.Entry<String, T>> entries = allEntries();\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Test {\n-                                    class Box<X> {}\n-                                    static value class Point { }\n-                                    @SafeVarargs\n-                                    private <Z> Z make_box_uni(Z... bs) {\n-                                        return bs[0];\n-                                    }\n-                                    void test(Box<Point!> bref, Box<Point> bval) {\n-                                        Box<? extends Point!> res = make_box_uni(bref, bval);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                class Test {\n-                                    class Box<X> {}\n-                                    static value class Point { }\n-                                    @SafeVarargs\n-                                    private <Z> Z make_box_uni(Z... bs) {\n-                                        return bs[0];\n-                                    }\n-                                    void test(Box<Point!> bref, Box<Point?> bval) {\n-                                        Box<? extends Point!> res = make_box_uni(bref, bval);\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Warning,\n-                                \"compiler.warn.unchecked.nullness.conversion\",\n-                                1),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                class Foo {\n-                                    void test(List<? extends String!> ls1, List<? extends String> ls3) {\n-                                        ls3 = ls1;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                import java.util.*;\n-                                class Foo {\n-                                    void test(List<? extends String!> ls1, List<? extends Object> ls3) {\n-                                        ls3 = ls1;\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n@@ -645,28 +276,0 @@\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                interface Shape {}\n-                                value class Point implements Shape { }\n-                                class Box<T> {}\n-                                class Test {\n-                                    void m(Box<Point!> lp) {\n-                                        foo(lp);\n-                                    }\n-                                    void foo(Box<? extends Shape> ls) {}\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                interface Shape {}\n-                                value class Point implements Shape { }\n-                                class Box<T> {}\n-                                class Test {\n-                                    void m(Box<Shape> lp) {\n-                                        foo(lp);\n-                                    }\n-                                    void foo(Box<? super Point!> ls) {}\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n@@ -708,33 +311,0 @@\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                value class Point {}\n-                                class MyList<T> {\n-                                    static <E> MyList<E> of(E e1) {\n-                                        return null;\n-                                    }\n-                                }\n-                                class Test {\n-                                    void m() {\n-                                        MyList.of(new Point!());\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n-                        new DiagAndCode(\n-                                \"\"\"\n-                                value class Point { }\n-                                class MyCollection<T> {}\n-                                class MyList<T> extends MyCollection<T!> {\n-                                    static <E> MyList<E> of(E e1) {\n-                                        return null;\n-                                    }\n-                                }\n-                                class Test {\n-                                    void m() {\n-                                        MyCollection<Point> mpc = MyList.of(new Point!());\n-                                    }\n-                                }\n-                                \"\"\",\n-                                Result.Clean,\n-                                \"\"),\n@@ -806,10 +376,6 @@\n-                                value class Test {\n-                                    void m(Test t1, Test[] t2, Test[][] t3, Test[][][] t4) {\n-                                        Test! l1 = (Test!) t1;\n-                                        Test![] l2 = (Test![]) t2;\n-                                        Test![][] l3 = (Test![][]) t3;\n-                                        Test![][][] l4 = (Test![][][]) t4;\n-\n-                                        Test[]! l5 = (Test[]!) t2;\n-                                        Test[][]! l6 = (Test[][]!) t3;\n-                                        Test[][][]! l7 = (Test[][][]!) t4;\n+                                class Test {\n+                                    void test1() {\n+                                        String[][] arr_local = null;\n+                                        arr_local = new String[3][4];\n+                                        arr_local = new String![3][4];\n+                                    }\n@@ -817,2 +383,4 @@\n-                                        Test[]![]! l8 = (Test[]![]!) t3;\n-                                        Test[]![]![]! l9 = (Test[]![]![]!) t4;\n+                                    void test2() {\n+                                        String[][]! arr_local = new String[0][0];\n+                                        arr_local = new String[3][4];\n+                                        arr_local = new String![3][4];\n@@ -823,9 +391,1 @@\n-                                \"\")\n-                )\n-        );\n-    }\n-\n-    @Test\n-    void testOverridingWarnings() {\n-        testList(\n-                List.of(\n+                                \"\"),\n@@ -834,6 +394,7 @@\n-                                abstract class A {\n-                                    abstract String! lookup(String arg);\n-                                }\n-\n-                                abstract class B extends A {\n-                                    abstract String? lookup(String arg);\n+                                value class Test {\n+                                    void m(Test t1, Test[] t2, Test[][] t3, Test[][][] t4) {\n+                                        Test! l1 = (Test!) t1;\n+                                        Test[]! l2 = (Test[]!) t2;\n+                                        Test[][]! l3 = (Test[][]!) t3;\n+                                        Test[][][]! l4 = (Test[][][]!) t4;\n+                                    }\n@@ -842,2 +403,2 @@\n-                                Result.Warning,\n-                                \"compiler.warn.overrides.with.different.nullness.1\"),\n+                                Result.Clean,\n+                                \"\"),\n@@ -846,7 +407,6 @@\n-                                value class Point { }\n-                                abstract class A {\n-                                    abstract String lookup(Point! arg);\n-                                }\n-\n-                                abstract class B extends A {\n-                                    abstract String lookup(Point? arg);\n+                                class Test {\n+                                    void test() {\n+                                        String! s_nonnull = \"\";\n+                                        String s = null;\n+                                        s = s_nonnull;\n+                                    }\n@@ -855,2 +415,2 @@\n-                                Result.Warning,\n-                                \"compiler.warn.overrides.with.different.nullness.2\")\n+                                Result.Clean,\n+                                \"\")\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityCompilationTests.java","additions":31,"deletions":471,"binary":false,"changes":502,"status":"modified"},{"patch":"@@ -1,50 +0,0 @@\n-\/*\n- * @test \/nodynamiccopyright\/\n- * @summary Smoke test for nullability inference\n- * @enablePreview\n- * @compile\/fail\/ref=NullabilityInferenceTest.out -XDrawDiagnostics NullabilityInferenceTest.java\n- * @compile\/fail\/ref=NullabilityInferenceTest_parametric.out -XDrawDiagnostics -XDtvarUnspecifiedNullity NullabilityInferenceTest.java\n- *\/\n-\n-import java.util.List;\n-\n-class Test {\n-    static class Box<T> { }\n-\n-    static <T> List<Box<T>> makeInvariant(Box<T>... boxes) { return null; }\n-    static <T> List<Box<T>> makeCovariant(Box<? extends T>... boxes) { return null; }\n-    static <T> List<Box<T>> makeContravariant(Box<? super T>... boxes) { return null; }\n-\n-    void testInvariant() {\n-        Box<String?> bs_null = null;\n-        Box<String!> bs_nonnull = null;\n-\n-        Integer i = null;\n-        i = (Integer)makeInvariant(bs_null, bs_nonnull); \/\/ List<Box<String?>>\n-        i = (Integer)makeInvariant(bs_nonnull, bs_null); \/\/ List<Box<String?>>\n-        i = (Integer)makeInvariant(bs_null, bs_null); \/\/ List<Box<String?>>\n-        i = (Integer)makeInvariant(bs_nonnull, bs_nonnull); \/\/ List<Box<String!>>\n-    }\n-\n-    void testCovariant() {\n-        Box<String?> bs_null = null;\n-        Box<String!> bs_nonnull = null;\n-\n-        Integer i = null;\n-        i = (Integer)makeCovariant(bs_null, bs_nonnull); \/\/ List<Box<String?>>\n-        i = (Integer)makeCovariant(bs_nonnull, bs_null); \/\/ List<Box<String?>>\n-        i = (Integer)makeCovariant(bs_null, bs_null); \/\/ List<Box<String?>>\n-        i = (Integer)makeCovariant(bs_nonnull, bs_nonnull); \/\/ List<Box<String!>>\n-    }\n-\n-    void testContravariant() {\n-        Box<String?> bs_null = null;\n-        Box<String!> bs_nonnull = null;\n-\n-        Integer i = null;\n-        i = (Integer)makeContravariant(bs_null, bs_nonnull); \/\/ List<Box<String!>>\n-        i = (Integer)makeContravariant(bs_nonnull, bs_null); \/\/ List<Box<String!>>\n-        i = (Integer)makeContravariant(bs_null, bs_null); \/\/ List<Box<String?>>\n-        i = (Integer)makeContravariant(bs_nonnull, bs_nonnull); \/\/ List<Box<String!>>\n-    }\n-}\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityInferenceTest.java","additions":0,"deletions":50,"binary":false,"changes":50,"status":"deleted"},{"patch":"@@ -1,17 +0,0 @@\n-NullabilityInferenceTest.java:23:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:24:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:25:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:26:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:34:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:35:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:36:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:37:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:45:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:46:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:47:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:48:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-- compiler.note.unchecked.filename: NullabilityInferenceTest.java\n-- compiler.note.unchecked.recompile\n-- compiler.note.preview.filename: NullabilityInferenceTest.java, DEFAULT\n-- compiler.note.preview.recompile\n-12 errors\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityInferenceTest.out","additions":0,"deletions":17,"binary":false,"changes":17,"status":"deleted"},{"patch":"@@ -1,17 +0,0 @@\n-NullabilityInferenceTest.java:23:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:24:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:25:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:26:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:34:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:35:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:36:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:37:35: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:45:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:46:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:47:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-NullabilityInferenceTest.java:48:39: compiler.err.prob.found.req: (compiler.misc.inconvertible.types: java.util.List<Test.Box<java.lang.String>>, java.lang.Integer)\n-- compiler.note.unchecked.filename: NullabilityInferenceTest.java\n-- compiler.note.unchecked.recompile\n-- compiler.note.preview.filename: NullabilityInferenceTest.java, DEFAULT\n-- compiler.note.preview.recompile\n-12 errors\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityInferenceTest_parametric.out","additions":0,"deletions":17,"binary":false,"changes":17,"status":"deleted"},{"patch":"@@ -1,72 +0,0 @@\n-\/*\n- * @test \/nodynamiccopyright\/\n- * @summary Smoke test for nullability warnings\n- * @enablePreview\n- * @compile\/fail\/ref=NullabilityWarningsTest.out -XDrawDiagnostics -Werror -Xlint:null NullabilityWarningsTest.java\n- * @compile\/fail\/ref=NullabilityWarningsTest_parametric.out -XDrawDiagnostics -Werror -Xlint:null -XDtvarUnspecifiedNullity NullabilityWarningsTest.java\n- *\/\n-\n-public class NullabilityWarningsTest {\n-    static class Box<T> {\n-        T t;\n-        Box(T t) {\n-            this.t = t;\n-        }\n-        T get() { return t; }\n-        void set(T t) { this.t = t; }\n-    }\n-\n-    void test() {\n-        String? s_null = null;\n-        String! s_nonnull = \"\";\n-        String s_unknown = null;\n-        s_null = s_nonnull;\n-        s_nonnull = s_null; \/\/warn\n-        s_unknown = s_null;\n-        s_unknown = s_nonnull;\n-\n-        Box<String?> bs_null = null;\n-        Box<String!> bs_nonnull = null;\n-        Box<String> bs_unknown = null;\n-        bs_null = bs_nonnull; \/\/warn\n-        bs_nonnull = bs_null; \/\/warn\n-        bs_unknown = bs_null;\n-        bs_unknown = bs_nonnull;\n-\n-        Box<? super String?> bss_null = null;\n-        Box<? super String!> bss_nonnull = null;\n-        Box<? super String!> bss_unknown = null;\n-\n-        bss_nonnull = bss_null;\n-        bss_null = bss_nonnull; \/\/warn\n-        bss_unknown = bss_null;\n-        bss_unknown = bss_nonnull;\n-\n-        Box<? extends String?> bes_null = null;\n-        Box<? extends String!> bes_nonnull = null;\n-        Box<? extends String> bes_unknown = null;\n-\n-        bes_nonnull = bes_null; \/\/warn\n-        bes_null = bes_nonnull;\n-        bes_unknown = bes_null;\n-        bes_unknown = bes_nonnull;\n-    }\n-\n-    void testMember() {\n-        Box<String?> bs_null = null;\n-        Box<String!> bs_nonnull = null;\n-        Box<String> bs_unknown = null;\n-\n-        String s_unknown = bs_null.get();\n-        s_unknown = bs_nonnull.get();\n-        s_unknown = bs_unknown.get();\n-\n-        String? s_null = bs_null.get();\n-        s_null = bs_nonnull.get();\n-        s_null = bs_unknown.get();\n-\n-        String! s_nonnull = bs_null.get(); \/\/warn\n-        s_nonnull = bs_nonnull.get();\n-        s_nonnull = bs_unknown.get();\n-    }\n-}\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityWarningsTest.java","additions":0,"deletions":72,"binary":false,"changes":72,"status":"deleted"},{"patch":"@@ -1,11 +0,0 @@\n-NullabilityWarningsTest.java:24:21: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:31:19: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:32:22: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:41:20: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:49:23: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:68:40: compiler.warn.unchecked.nullness.conversion\n-- compiler.err.warnings.and.werror\n-- compiler.note.preview.filename: NullabilityWarningsTest.java, DEFAULT\n-- compiler.note.preview.recompile\n-1 error\n-6 warnings\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityWarningsTest.out","additions":0,"deletions":11,"binary":false,"changes":11,"status":"deleted"},{"patch":"@@ -1,10 +0,0 @@\n-NullabilityWarningsTest.java:24:21: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:31:19: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:32:22: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:41:20: compiler.warn.unchecked.nullness.conversion\n-NullabilityWarningsTest.java:49:23: compiler.warn.unchecked.nullness.conversion\n-- compiler.err.warnings.and.werror\n-- compiler.note.preview.filename: NullabilityWarningsTest.java, DEFAULT\n-- compiler.note.preview.recompile\n-1 error\n-5 warnings\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullabilityWarningsTest_parametric.out","additions":0,"deletions":10,"binary":false,"changes":10,"status":"deleted"},{"patch":"@@ -96,2 +96,2 @@\n-                \"\"\"\n-                class Test {\/\/\n+                \/*\"\"\"\n+                class Test { \/\/ should fail, needs to be fixed once we redo null-restricted array creation\n@@ -100,1 +100,1 @@\n-                        String![] sr = new String![10];\n+                        String[]! sr = new String![10];\n@@ -104,1 +104,1 @@\n-                \"\"\",\n+                \"\"\",*\/\n@@ -155,1 +155,1 @@\n-                    boolean isSystemProperty(String key, String value, String def, Object? o) {\n+                    boolean isSystemProperty(String key, String value, String def, Object o) {\n","filename":"test\/langtools\/tools\/javac\/nullability\/RuntimeNullChecks.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1,72 +0,0 @@\n-\/*\n- * @test \/nodynamiccopyright\/\n- * @enablePreview\n- * @summary Smoke test for nullable types in array types and array creation expressions\n- * @compile\/fail\/ref=TestArrays.out -Xlint:null -Werror -XDrawDiagnostics TestArrays.java\n- *\/\n-\n-public class TestArrays {\n-    void test1() {\n-        String! []?[]? arr_local = null;\n-        arr_local = new String! [3]? [4]?;\n-        arr_local = new String! [3]! [4]?;\n-        arr_local = new String! [3]? [4]!;\n-        arr_local = new String! [3]! [4]!;\n-    }\n-\n-    void test2() {\n-        String! []?[]! arr_local = null;\n-        arr_local = new String! [3]? [4]?; \/\/ warn\n-        arr_local = new String! [3]! [4]?; \/\/ warn\n-        arr_local = new String! [3]? [4]!;\n-        arr_local = new String! [3]! [4]!;\n-    }\n-\n-    void test3() {\n-        String! []![]? arr_local = new String! [0]![]?;\n-        arr_local = new String! [3]? [4]?; \/\/ warn\n-        arr_local = new String! [3]! [4]?;\n-        arr_local = new String! [3]? [4]!; \/\/ warn\n-        arr_local = new String! [3]! [4]!;\n-    }\n-\n-    void test4() {\n-        String! []![]! arr_local = new String! [0]![]!;\n-        arr_local = new String! [3]? [4]?; \/\/ warn\n-        arr_local = new String! [3]! [4]?; \/\/ warn\n-        arr_local = new String! [3]? [4]!; \/\/ warn\n-        arr_local = new String! [3]! [4]!;\n-    }\n-\n-    void test5() {\n-        String! []?[]? arr_local = null;\n-        arr_local = new String! [3]? []?;\n-        arr_local = new String! [3]! []?;\n-        arr_local = new String! [3]? []!;\n-        arr_local = new String! [3]! []!;\n-    }\n-\n-    void test6() {\n-        String! []?[]! arr_local = null;\n-        arr_local = new String! [3]? []?; \/\/ warn\n-        arr_local = new String! [3]! []?; \/\/ warn\n-        arr_local = new String! [3]? []!;\n-        arr_local = new String! [3]! []!;\n-    }\n-\n-    void test7() {\n-        String! []![]? arr_local = new String! [0]![]?;\n-        arr_local = new String! [3]? []?; \/\/ warn\n-        arr_local = new String! [3]! []?;\n-        arr_local = new String! [3]? []!; \/\/ warn\n-        arr_local = new String! [3]! []!;\n-    }\n-\n-    void test8() {\n-        String! []![]! arr_local = new String! [0]![]!;\n-        arr_local = new String! [3]? []?; \/\/ warn\n-        arr_local = new String! [3]! []?; \/\/ warn\n-        arr_local = new String! [3]? []!; \/\/ warn\n-        arr_local = new String! [3]! []!;\n-    }\n-}\n","filename":"test\/langtools\/tools\/javac\/nullability\/TestArrays.java","additions":0,"deletions":72,"binary":false,"changes":72,"status":"deleted"},{"patch":"@@ -1,19 +0,0 @@\n-TestArrays.java:19:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:20:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:27:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:29:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:35:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:36:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:37:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:51:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:52:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:59:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:61:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:67:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:68:21: compiler.warn.unchecked.nullness.conversion\n-TestArrays.java:69:21: compiler.warn.unchecked.nullness.conversion\n-- compiler.err.warnings.and.werror\n-- compiler.note.preview.filename: TestArrays.java, DEFAULT\n-- compiler.note.preview.recompile\n-1 error\n-14 warnings\n","filename":"test\/langtools\/tools\/javac\/nullability\/TestArrays.out","additions":0,"deletions":19,"binary":false,"changes":19,"status":"deleted"}]}
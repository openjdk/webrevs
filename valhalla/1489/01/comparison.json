{"files":[{"patch":"@@ -1479,0 +1479,4 @@\n+  uin = unique_input_recursive(phase);\n+  if (uin != nullptr) {\n+    return uin;\n+  }\n@@ -1578,0 +1582,34 @@\n+\/\/ Find the unique input, try to look recursively through input Phis\n+Node* PhiNode::unique_input_recursive(PhaseGVN* phase) const {\n+  if (!phase->is_IterGVN()) {\n+    return nullptr;\n+  }\n+\n+  ResourceMark rm;\n+  Node* unique = nullptr;\n+  GrowableArray<const PhiNode*> visited;\n+  visited.push(this);\n+\n+  for (int visited_idx = 0; visited_idx < visited.length(); visited_idx++) {\n+    const PhiNode* current = visited.at(visited_idx);\n+    RegionNode* current_region = current->region();\n+    for (uint i = 1; i < current->req(); i++) {\n+      Node* phi_in = current->in(i);\n+      if (phi_in == nullptr) {\n+        continue;\n+      }\n+\n+      if (phi_in->is_Phi()) {\n+        visited.append_if_missing(phi_in->as_Phi());\n+      } else {\n+        if (unique == nullptr) {\n+          unique = phi_in;\n+        } else if (unique != phi_in) {\n+          return nullptr;\n+        }\n+      }\n+    }\n+  }\n+  return unique;\n+}\n+\n","filename":"src\/hotspot\/share\/opto\/cfgnode.cpp","additions":38,"deletions":0,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -235,0 +235,1 @@\n+  Node* unique_input_recursive(PhaseGVN* phase) const;\n","filename":"src\/hotspot\/share\/opto\/cfgnode.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -4161,3 +4161,1 @@\n-\/\/ TODO 8336003 This triggers #  assert(false) failed: Should have been buffered\n-\/*\n-    \/\/ Same as test150 but with val not being allocated in the scope of the method\n+    \/\/ Same as test150 but with a real loop and val not being allocated in the scope of the method\n@@ -4165,0 +4163,2 @@\n+    \/\/ Dynamic call does not null check the receiver, so it cannot be strength reduced to a static\n+    \/\/ call without an explicit null check\n@@ -4168,0 +4168,1 @@\n+        val = Objects.requireNonNull(val);\n@@ -4185,1 +4186,0 @@\n-*\/\n","filename":"test\/hotspot\/jtreg\/compiler\/valhalla\/inlinetypes\/TestLWorld.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -1788,1 +1788,0 @@\n-                                skipUnsupportedNullRestriction();\n@@ -2513,1 +2512,1 @@\n-        if (token.kind == LT &&\n+        if (isParameterizedTypeStart() &&\n@@ -2522,0 +2521,6 @@\n+\n+    private boolean isParameterizedTypeStart() {\n+        return token.kind == LT ||\n+                (allowNullRestrictedTypes && EMOTIONAL_QUALIFIER.test(token.kind) && peekToken(LT));\n+    }\n+\n@@ -2620,0 +2625,1 @@\n+        skipUnsupportedNullRestriction(); \/\/ null-restriction not supported immediately before '<'\n@@ -2913,1 +2919,1 @@\n-        if (token.kind == LT) {\n+        if (isParameterizedTypeStart()) {\n@@ -2918,0 +2924,3 @@\n+\n+        skipUnsupportedNullRestriction();\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":12,"deletions":3,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -60,0 +60,14 @@\n+    void testInnerClassCreator() {\n+        encl.new Foo!();\n+        encl.new Foo<String!>();\n+        encl.new Foo<String>!();\n+    }\n+\n+    void testQualifiedType() {\n+        A<String>!.B<Integer> a;\n+        A!<String>.B<Integer> a;\n+        A<String>.B!<Integer> a;\n+        A<String>.B<Integer!> a;\n+        A<String!>.B<Integer> a;\n+    }\n+\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullRestrictionNegParserTest.java","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -40,2 +40,10 @@\n-NullRestrictionNegParserTest.java:61:24: compiler.err.unsupported.null.restriction\n-40 errors\n+NullRestrictionNegParserTest.java:61:21: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:62:28: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:63:29: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:67:18: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:68:10: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:69:20: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:70:28: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:71:17: compiler.err.unsupported.null.restriction\n+NullRestrictionNegParserTest.java:75:24: compiler.err.unsupported.null.restriction\n+48 errors\n","filename":"test\/langtools\/tools\/javac\/nullability\/NullRestrictionNegParserTest.out","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"}]}
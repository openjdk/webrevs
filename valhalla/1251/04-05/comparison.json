{"files":[{"patch":"@@ -28,1 +28,0 @@\n-\n@@ -31,1 +30,0 @@\n-import com.sun.tools.javac.code.Source.Feature;\n@@ -36,0 +34,1 @@\n+import com.sun.tools.javac.tree.JCTree.JCNullableTypeExpression.NullMarker;\n@@ -177,1 +176,1 @@\n-        if (expectedNullness == JCNullableTypeExpression.NullMarker.NOT_NULL && !types.isNonNullable(tree.type)) {\n+        if (expectedNullness == NullMarker.NOT_NULL && !types.isNonNullable(tree.type)) {\n@@ -193,1 +192,2 @@\n-        return translateArgs(_args, parameters, List.nil(), varargsElement, JCNullableTypeExpression.NullMarker.UNSPECIFIED);\n+        return translateArgs(_args, parameters, parameters.map(t -> NullMarker.UNSPECIFIED),\n+                varargsElement, NullMarker.UNSPECIFIED);\n@@ -200,1 +200,1 @@\n-     *  @param paramsNullMarkers      The list of target original parameter types.\n+     *  @param paramsNullMarkers          The list of null markers of the target types\n@@ -203,0 +203,1 @@\n+     *  @param varargsElementNullMarker   The null marker of the varargs element type\n@@ -204,1 +205,0 @@\n-    @SuppressWarnings(\"unchecked\")\n@@ -207,1 +207,1 @@\n-                                           List<JCNullableTypeExpression.NullMarker> paramsNullMarkers,\n+                                           List<NullMarker> paramsNullMarkers,\n@@ -209,1 +209,1 @@\n-                                           JCNullableTypeExpression.NullMarker varargsElementNullMarker) {\n+                                           NullMarker varargsElementNullMarker) {\n@@ -213,5 +213,1 @@\n-            args.head = translate(args.head, parameters.head,\n-                    (!paramsNullMarkers.isEmpty() && paramsNullMarkers.head != null) ?\n-                            paramsNullMarkers.head :\n-                            JCNullableTypeExpression.NullMarker.UNSPECIFIED\n-                    );\n+            args.head = translate(args.head, parameters.head, paramsNullMarkers.head);\n@@ -232,5 +228,1 @@\n-            args.head = translate(args.head, parameter,\n-                    (!paramsNullMarkers.isEmpty() && paramsNullMarkers.head != null) ?\n-                            paramsNullMarkers.head :\n-                            JCNullableTypeExpression.NullMarker.UNSPECIFIED\n-            );\n+            args.head = translate(args.head, parameter, paramsNullMarkers.head);\n@@ -472,1 +464,1 @@\n-    private JCNullableTypeExpression.NullMarker expectedNullness = JCNullableTypeExpression.NullMarker.UNSPECIFIED;\n+    private NullMarker expectedNullness = NullMarker.UNSPECIFIED;\n@@ -477,1 +469,1 @@\n-        return translate(tree, pt, JCNullableTypeExpression.NullMarker.UNSPECIFIED);\n+        return translate(tree, pt, NullMarker.UNSPECIFIED);\n@@ -480,1 +472,1 @@\n-    public <T extends JCTree> T translate(T tree, Type pt, JCNullableTypeExpression.NullMarker expectedNullness) {\n+    public <T extends JCTree> T translate(T tree, Type pt, NullMarker expectedNullness) {\n@@ -482,1 +474,1 @@\n-        JCNullableTypeExpression.NullMarker prevExpectedNullness = this.expectedNullness;\n+        NullMarker prevExpectedNullness = this.expectedNullness;\n@@ -496,1 +488,1 @@\n-        return translate(trees, pt, JCNullableTypeExpression.NullMarker.UNSPECIFIED);\n+        return translate(trees, pt, NullMarker.UNSPECIFIED);\n@@ -499,1 +491,1 @@\n-    public <T extends JCTree> List<T> translate(List<T> trees, Type pt, JCNullableTypeExpression.NullMarker expectedNullness) {\n+    public <T extends JCTree> List<T> translate(List<T> trees, Type pt, NullMarker expectedNullness) {\n@@ -501,1 +493,1 @@\n-        JCNullableTypeExpression.NullMarker prevExpectedNullness = this.expectedNullness;\n+        NullMarker prevExpectedNullness = this.expectedNullness;\n@@ -723,2 +715,2 @@\n-        List<JCNullableTypeExpression.NullMarker> paramsNullMarkers = meth.type.getParameterTypes().map(t->t.getNullMarker());\n-        JCNullableTypeExpression.NullMarker varargsElementNullMarker = tree.varargsElement != null ? tree.varargsElement.getNullMarker() : null;\n+        List<NullMarker> paramsNullMarkers = meth.type.getParameterTypes().map(t->t.getNullMarker());\n+        NullMarker varargsElementNullMarker = tree.varargsElement != null ? tree.varargsElement.getNullMarker() : null;\n@@ -768,1 +760,1 @@\n-        JCNullableTypeExpression.NullMarker varargsElementNullMarker = tree.varargsElement != null ? tree.varargsElement.getNullMarker() : null;\n+        NullMarker varargsElementNullMarker = tree.varargsElement != null ? tree.varargsElement.getNullMarker() : null;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/TransTypes.java","additions":20,"deletions":28,"binary":false,"changes":48,"status":"modified"}]}
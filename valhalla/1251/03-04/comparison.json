{"files":[{"patch":"@@ -193,1 +193,1 @@\n-        return translateArgs(_args, parameters, List.nil(), varargsElement, varargsElement);\n+        return translateArgs(_args, parameters, List.nil(), varargsElement, JCNullableTypeExpression.NullMarker.UNSPECIFIED);\n@@ -199,2 +199,2 @@\n-     *  @param erasedParameterTypes       The list of target types (after erasure).\n-     *  @param unerasedParamTypes         The list of target original parameter types.\n+     *  @param parameters                 The list of target types (after erasure).\n+     *  @param paramsNullMarkers      The list of target original parameter types.\n@@ -206,2 +206,2 @@\n-                                           List<Type> erasedParameterTypes,\n-                                           List<Type> unerasedParamTypes,\n+                                           List<Type> parameters,\n+                                           List<JCNullableTypeExpression.NullMarker> paramsNullMarkers,\n@@ -209,2 +209,2 @@\n-                                           Type originalVarargsElement) {\n-        if (erasedParameterTypes.isEmpty()) return _args;\n+                                           JCNullableTypeExpression.NullMarker varargsElementNullMarker) {\n+        if (parameters.isEmpty()) return _args;\n@@ -212,5 +212,5 @@\n-        while (erasedParameterTypes.tail.nonEmpty()) {\n-            args.head = translate(args.head, erasedParameterTypes.head,\n-                    (!unerasedParamTypes.isEmpty() && unerasedParamTypes.head != null) ?\n-                        unerasedParamTypes.head.getNullMarker() :\n-                        JCNullableTypeExpression.NullMarker.UNSPECIFIED\n+        while (parameters.tail.nonEmpty()) {\n+            args.head = translate(args.head, parameters.head,\n+                    (!paramsNullMarkers.isEmpty() && paramsNullMarkers.head != null) ?\n+                            paramsNullMarkers.head :\n+                            JCNullableTypeExpression.NullMarker.UNSPECIFIED\n@@ -219,3 +219,3 @@\n-            erasedParameterTypes = erasedParameterTypes.tail;\n-            if (!unerasedParamTypes.isEmpty()) {\n-                unerasedParamTypes = unerasedParamTypes.tail;\n+            parameters = parameters.tail;\n+            if (!paramsNullMarkers.isEmpty()) {\n+                paramsNullMarkers = paramsNullMarkers.tail;\n@@ -224,1 +224,1 @@\n-        Type parameter = erasedParameterTypes.head;\n+        Type parameter = parameters.head;\n@@ -228,1 +228,1 @@\n-                args.head = translate(args.head, varargsElement, originalVarargsElement.getNullMarker());\n+                args.head = translate(args.head, varargsElement, varargsElementNullMarker);\n@@ -233,2 +233,2 @@\n-                    (!unerasedParamTypes.isEmpty() && unerasedParamTypes.head != null) ?\n-                            unerasedParamTypes.head.getNullMarker() :\n+                    (!paramsNullMarkers.isEmpty() && paramsNullMarkers.head != null) ?\n+                            paramsNullMarkers.head :\n@@ -723,2 +723,2 @@\n-        List<Type> unerasedParamTypes = meth.type.getParameterTypes();\n-        Type originalVarargsElement = tree.varargsElement;\n+        List<JCNullableTypeExpression.NullMarker> paramsNullMarkers = meth.type.getParameterTypes().map(t->t.getNullMarker());\n+        JCNullableTypeExpression.NullMarker varargsElementNullMarker = tree.varargsElement != null ? tree.varargsElement.getNullMarker() : null;\n@@ -733,1 +733,0 @@\n-            unerasedParamTypes = unerasedParamTypes.tail.tail;\n@@ -742,1 +741,1 @@\n-        tree.args = translateArgs(tree.args, argtypes, unerasedParamTypes, tree.varargsElement, originalVarargsElement);\n+        tree.args = translateArgs(tree.args, argtypes, paramsNullMarkers, tree.varargsElement, varargsElementNullMarker);\n@@ -769,1 +768,1 @@\n-        Type originalVarargsElement = tree.varargsElement;\n+        JCNullableTypeExpression.NullMarker varargsElementNullMarker = tree.varargsElement != null ? tree.varargsElement.getNullMarker() : null;\n@@ -773,1 +772,1 @@\n-            tree.args, argtypes, tree.constructor.type.getParameterTypes(), tree.varargsElement, originalVarargsElement);\n+            tree.args, argtypes, tree.constructor.type.getParameterTypes().map(t->t.getNullMarker()), tree.varargsElement, varargsElementNullMarker);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/TransTypes.java","additions":24,"deletions":25,"binary":false,"changes":49,"status":"modified"}]}
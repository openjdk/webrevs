{"files":[{"patch":"@@ -1395,0 +1395,8 @@\n+                        } else if (mode == PrologueVisitorMode.THIS_CONSTRUCTOR &&\n+                                TreeInfo.isThisOrSelectorDotThis(subtree) &&\n+                                TreeInfo.isExplicitThisReference(\n+                                        types,\n+                                        (ClassType)localEnv.enclClass.sym.type,\n+                                        subtree)) {\n+                            reportPrologueError(tree, sym);\n+                            return;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -197,0 +197,15 @@\n+    \/** Is this tree `this`, or `Ident.this`?\n+     *\/\n+    public static boolean isThisOrSelectorDotThis(JCTree tree) {\n+        switch (tree.getTag()) {\n+            case PARENS:\n+                return isThisOrSelectorDotThis(skipParens(tree));\n+            case IDENT:\n+                return ((JCIdent)tree).name == ((JCIdent)tree).name.table.names._this;\n+            case SELECT:\n+                return ((JCFieldAccess)tree).name == ((JCFieldAccess)tree).name.table.names._this;\n+            default:\n+                return false;\n+        }\n+    }\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/tree\/TreeInfo.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-EarlyAssignmentNoPreview2.java:13:18: compiler.err.feature.not.supported.in.source: (compiler.misc.feature.flexible.constructors), 24, 25\n+EarlyAssignmentNoPreview2.java:12:13: compiler.err.feature.not.supported.in.source: (compiler.misc.feature.flexible.constructors), 24, 25\n","filename":"test\/langtools\/tools\/javac\/SuperInit\/EarlyAssignmentNoPreview2.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-EarlyAssignmentNoPreview3.java:13:44: compiler.err.feature.not.supported.in.source: (compiler.misc.feature.flexible.constructors), 24, 25\n+EarlyAssignmentNoPreview3.java:12:39: compiler.err.feature.not.supported.in.source: (compiler.misc.feature.flexible.constructors), 24, 25\n","filename":"test\/langtools\/tools\/javac\/SuperInit\/EarlyAssignmentNoPreview3.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -310,0 +310,9 @@\n+\n+    static class Inner12 {\n+        static final boolean check = true;\n+        Inner12() {}\n+        Inner12(int a) {\n+            boolean b = Inner12.this.check; \/\/compilation error expected here\n+            this();\n+        }\n+    }\n","filename":"test\/langtools\/tools\/javac\/SuperInit\/SuperInitFails.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+SuperInitFails.java:315:37: compiler.err.cant.ref.before.ctor.called: check\n@@ -42,1 +43,1 @@\n-41 errors\n+42 errors\n","filename":"test\/langtools\/tools\/javac\/SuperInit\/SuperInitFails.out","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
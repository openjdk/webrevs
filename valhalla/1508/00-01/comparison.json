{"files":[{"patch":"@@ -2858,1 +2858,1 @@\n-  {\n+  if (C->macro_count() > 0) {\n@@ -2883,6 +2883,9 @@\n-\n-      \/\/ Eliminate some macro nodes before EA to reduce analysis pressure\n-      PhaseMacroExpand mexp(igvn);\n-      mexp.eliminate_macro_nodes();\n-      if (failing()) {\n-        return;\n+      if (C->macro_count() > 0) {\n+        \/\/ Eliminate some macro nodes before EA to reduce analysis pressure\n+        PhaseMacroExpand mexp(igvn);\n+        mexp.eliminate_macro_nodes();\n+        if (failing()) {\n+          return;\n+        }\n+        igvn.set_delay_transform(false);\n+        print_method(PHASE_ITER_GVN_AFTER_ELIMINATION, 2);\n@@ -2890,2 +2893,0 @@\n-      igvn.set_delay_transform(false);\n-      print_method(PHASE_ITER_GVN_AFTER_ELIMINATION, 2);\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -312,0 +312,1 @@\n+            CompilePhase.ITER_GVN_AFTER_ELIMINATION,\n@@ -337,0 +338,1 @@\n+                CompilePhase.ITER_GVN_AFTER_ELIMINATION,\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/ir_framework\/tests\/TestPhaseIRMatching.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}
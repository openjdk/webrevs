{"files":[{"patch":"@@ -103,1 +103,1 @@\n-                    sink.accept(U.nullMarkerOffset(f), byte.class);\n+                    sink.accept(U.nullMarkerOffset(f) + memberOffsetDelta, byte.class);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/value\/LayoutIteration.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-import jdk.internal.value.ValueClass;\n@@ -235,0 +234,21 @@\n+    static value class OuterValue {\n+        NestedValue nested;\n+\n+        static final NestedValue[] EDGE_CASES = {\n+                null, new NestedValue(0), new NestedValue(1), new NestedValue(2),\n+                new NestedValue(3), new NestedValue(0)\n+        };\n+\n+        public OuterValue(int index) {\n+            nested = EDGE_CASES[index];\n+        }\n+\n+        public String toString() {\n+            return \"Outer(\" + nested + \")\";\n+        }\n+\n+        static boolean cmp(int i, int j) {\n+            return EDGE_CASES[i] == EDGE_CASES[j];\n+        }\n+    }\n+\n@@ -241,7 +261,5 @@\n-        \/\/ NestedValue\n-        for (int i = 0; i < NestedValue.EDGE_CASES.length; ++i) {\n-            for (int j = 0; j < NestedValue.EDGE_CASES.length; ++j) {\n-                NestedValue val1 = new NestedValue(i);\n-                NestedValue val2 = new NestedValue(j);\n-                boolean res = testNestedValue(val1, val2);\n-                assertEquals(NestedValue.cmp(i, j), res, () -> val1 + \" == \" + val2);\n+        for (int i = 0; i < OuterValue.EDGE_CASES.length; ++i) {\n+            for (int j = 0; j < OuterValue.EDGE_CASES.length; ++j) {\n+                OuterValue val1 = new OuterValue(i);\n+                OuterValue val2 = new OuterValue(j);\n+                assertEquals(NestedValue.cmp(i, j), val1 == val2, () -> val1 + \" == \" + val2);\n","filename":"test\/jdk\/valhalla\/valuetypes\/SubstitutabilityTest.java","additions":26,"deletions":8,"binary":false,"changes":34,"status":"modified"}]}
{"files":[{"patch":"@@ -6451,1 +6451,1 @@\n-      int inherited_fields= 0;\n+      int inherited_instance_fields = 0;\n@@ -6453,1 +6453,3 @@\n-        inherited_fields += k->total_fields_count();\n+        for (AllFieldStream fs(k); !fs.done(); fs.next()) {\n+          if (!fs.access_flags().is_static()) inherited_instance_fields++;\n+        }\n@@ -6456,2 +6458,2 @@\n-      if (inherited_fields > 0) {\n-        THROW_MSG(vmSymbols::java_lang_IncompatibleClassChangeError(), \"Value classes don't support inherited fields yet\");\n+      if (inherited_instance_fields > 0) {\n+        THROW_MSG(vmSymbols::java_lang_IncompatibleClassChangeError(), \"Value classes don't support inherited non-static fields yet\");\n","filename":"src\/hotspot\/share\/classfile\/classFileParser.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"}]}
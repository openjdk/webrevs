{"files":[{"patch":"@@ -50,1 +50,1 @@\n-import java.lang.classfile.attribute.PreloadAttribute;\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -93,1 +93,1 @@\n-                PermittedSubclassesAttribute, PreloadAttribute,\n+                PermittedSubclassesAttribute, LoadableDescriptorsAttribute,\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/Attribute.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n-import java.lang.classfile.attribute.PreloadAttribute;\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -169,2 +169,2 @@\n-    \/** Preload *\/\n-    public static final String NAME_PRELOAD = \"Preload\";\n+    \/** LoadableDescriptors *\/\n+    public static final String NAME_LOADABLE_DESCRIPTORS = \"LoadableDescriptors\";\n@@ -727,3 +727,3 @@\n-    \/** Attribute mapper for the {@code Preload} attribute *\/\n-    public static final AttributeMapper<PreloadAttribute>\n-            PRELOAD = new AbstractAttributeMapper<>(NAME_PRELOAD) {\n+    \/** Attribute mapper for the {@code LoadableDescriptors} attribute *\/\n+    public static final AttributeMapper<LoadableDescriptorsAttribute>\n+            LOADABLE_DESCRIPTORS = new AbstractAttributeMapper<>(NAME_LOADABLE_DESCRIPTORS) {\n@@ -731,2 +731,2 @@\n-                public PreloadAttribute readAttribute(AttributedElement e, ClassReader cf, int p) {\n-                    return new BoundAttribute.BoundPreloadAttribute(cf, this, p);\n+                public LoadableDescriptorsAttribute readAttribute(AttributedElement e, ClassReader cf, int p) {\n+                    return new BoundAttribute.BoundLoadableDescriptorsAttribute(cf, this, p);\n@@ -736,2 +736,2 @@\n-                protected void writeBody(BufWriter buf, PreloadAttribute attr) {\n-                    buf.writeListIndices(attr.preloads());\n+                protected void writeBody(BufWriter buf, LoadableDescriptorsAttribute attr) {\n+                    buf.writeListIndices(attr.loadableDescriptors());\n@@ -1042,1 +1042,1 @@\n-            PRELOAD,\n+            LOADABLE_DESCRIPTORS,\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/Attributes.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-import java.lang.classfile.attribute.PreloadAttribute;\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -69,1 +69,1 @@\n-                NestHostAttribute, NestMembersAttribute, PermittedSubclassesAttribute, PreloadAttribute,\n+                NestHostAttribute, NestMembersAttribute, PermittedSubclassesAttribute, LoadableDescriptorsAttribute,\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/ClassElement.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,71 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package java.lang.classfile.attribute;\n+\n+import java.lang.classfile.constantpool.Utf8Entry;\n+import java.lang.constant.ClassDesc;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import java.lang.classfile.Attribute;\n+import java.lang.classfile.ClassElement;\n+import java.lang.classfile.constantpool.ClassEntry;\n+import jdk.internal.classfile.impl.BoundAttribute;\n+import jdk.internal.classfile.impl.UnboundAttribute;\n+import jdk.internal.classfile.impl.Util;\n+import jdk.internal.javac.PreviewFeature;\n+\n+\/**\n+ *  <p><b>This is NOT part of any supported API.\n+ *  If you write code that depends on this, you do so at your own risk.\n+ *  This code and its internal interfaces are subject to change or\n+ *  deletion without notice.<\/b>\n+ *\/\n+@PreviewFeature(feature = PreviewFeature.Feature.CLASSFILE_API)\n+public sealed interface LoadableDescriptorsAttribute\n+        extends Attribute<LoadableDescriptorsAttribute>, ClassElement\n+        permits BoundAttribute.BoundLoadableDescriptorsAttribute, UnboundAttribute.UnboundLoadableDescriptorsAttribute {\n+\n+    \/**\n+     * {@return the list of loadable descriptors}\n+     *\/\n+    List<Utf8Entry> loadableDescriptors();\n+\n+    \/**\n+     * {@return a {@code LoadableDescriptors} attribute}\n+     * @param loadableDescriptors the loadable descriptors\n+     *\/\n+    static LoadableDescriptorsAttribute of(List<Utf8Entry> loadableDescriptors) {\n+        return new UnboundAttribute.UnboundLoadableDescriptorsAttribute(loadableDescriptors);\n+    }\n+\n+    \/**\n+     * {@return a {@code LoadableDescriptors} attribute}\n+     * @param loadableDescriptors the loadable descriptors\n+     *\/\n+    static LoadableDescriptorsAttribute of(Utf8Entry... loadableDescriptors) {\n+        return of(List.of(loadableDescriptors));\n+    }\n+}\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/attribute\/LoadableDescriptorsAttribute.java","additions":71,"deletions":0,"binary":false,"changes":71,"status":"added"},{"patch":"@@ -1,86 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package java.lang.classfile.attribute;\n-\n-import java.lang.constant.ClassDesc;\n-import java.util.Arrays;\n-import java.util.List;\n-\n-import java.lang.classfile.Attribute;\n-import java.lang.classfile.ClassElement;\n-import java.lang.classfile.constantpool.ClassEntry;\n-import jdk.internal.classfile.impl.BoundAttribute;\n-import jdk.internal.classfile.impl.UnboundAttribute;\n-import jdk.internal.classfile.impl.Util;\n-import jdk.internal.javac.PreviewFeature;\n-\n-\/**\n- *  <p><b>This is NOT part of any supported API.\n- *  If you write code that depends on this, you do so at your own risk.\n- *  This code and its internal interfaces are subject to change or\n- *  deletion without notice.<\/b>\n- *\/\n-@PreviewFeature(feature = PreviewFeature.Feature.CLASSFILE_API)\n-public sealed interface PreloadAttribute\n-        extends Attribute<PreloadAttribute>, ClassElement\n-        permits BoundAttribute.BoundPreloadAttribute, UnboundAttribute.UnboundPreloadAttribute {\n-\n-    \/**\n-     * {@return the list of preload classes}\n-     *\/\n-    List<ClassEntry> preloads();\n-\n-    \/**\n-     * {@return a {@code Preload} attribute}\n-     * @param preloads the preload classes\n-     *\/\n-    static PreloadAttribute of(List<ClassEntry> preloads) {\n-        return new UnboundAttribute.UnboundPreloadAttribute(preloads);\n-    }\n-\n-    \/**\n-     * {@return a {@code Preload} attribute}\n-     * @param preloads the preload classes\n-     *\/\n-    static PreloadAttribute of(ClassEntry... preloads) {\n-        return of(List.of(preloads));\n-    }\n-\n-    \/**\n-     * {@return a {@code Preload} attribute}\n-     * @param preloads the preload classes\n-     *\/\n-    static PreloadAttribute ofSymbols(List<ClassDesc> preloads) {\n-        return of(Util.entryList(preloads));\n-    }\n-\n-    \/**\n-     * {@return a {@code Preload} attribute}\n-     * @param preloads the preload classes\n-     *\/\n-    static PreloadAttribute ofSymbols(ClassDesc... preloads) {\n-        return ofSymbols(Arrays.asList(preloads));\n-    }\n-}\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/attribute\/PreloadAttribute.java","additions":0,"deletions":86,"binary":false,"changes":86,"status":"deleted"},{"patch":"@@ -457,1 +457,1 @@\n- *     | PreloadAttribute?(List<ClassEntry> preloads)\n+ *     | LoadableDescriptorsAttribute?(List<ClassEntry> loadableDescriptors)\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/package-info.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -358,2 +358,2 @@\n-        \/\/ generate Preload attribute if it references any value class\n-        PreloadAttributeBuilder builder = new PreloadAttributeBuilder(targetClass);\n+        \/\/ generate LoadableDescriptors attribute if it references any value class\n+        LoadableDescriptorsAttributeBuilder builder = new LoadableDescriptorsAttributeBuilder(targetClass);\n@@ -583,1 +583,1 @@\n-     * Preload attribute builder\n+     * LoadableDescriptors attribute builder\n@@ -585,5 +585,5 @@\n-    static class PreloadAttributeBuilder {\n-        private final Set<Class<?>> preloadClasses = new HashSet<>();\n-        PreloadAttributeBuilder(Class<?> targetClass) {\n-            if (requiresPreload(targetClass)) {\n-                preloadClasses.add(targetClass);\n+    static class LoadableDescriptorsAttributeBuilder {\n+        private final Set<Class<?>> loadableDescriptors = new HashSet<>();\n+        LoadableDescriptorsAttributeBuilder(Class<?> targetClass) {\n+            if (requiresLoadableDescriptors(targetClass)) {\n+                loadableDescriptors.add(targetClass);\n@@ -596,1 +596,1 @@\n-        PreloadAttributeBuilder add(MethodType mt) {\n+        LoadableDescriptorsAttributeBuilder add(MethodType mt) {\n@@ -599,2 +599,2 @@\n-                if (requiresPreload(paramType)) {\n-                    preloadClasses.add(paramType);\n+                if (requiresLoadableDescriptors(paramType)) {\n+                    loadableDescriptors.add(paramType);\n@@ -604,2 +604,2 @@\n-            if (requiresPreload(mt.returnType())) {\n-                preloadClasses.add(mt.returnType());\n+            if (requiresLoadableDescriptors(mt.returnType())) {\n+                loadableDescriptors.add(mt.returnType());\n@@ -610,1 +610,1 @@\n-        PreloadAttributeBuilder add(MethodType... mtypes) {\n+        LoadableDescriptorsAttributeBuilder add(MethodType... mtypes) {\n@@ -617,1 +617,1 @@\n-        boolean requiresPreload(Class<?> cls) {\n+        boolean requiresLoadableDescriptors(Class<?> cls) {\n@@ -626,1 +626,1 @@\n-            return preloadClasses.isEmpty();\n+            return loadableDescriptors.isEmpty();\n@@ -630,1 +630,1 @@\n-            return new Attribute(\"Preload\") {\n+            return new Attribute(\"LoadableDescriptors\") {\n@@ -638,2 +638,2 @@\n-                    attr.putShort(preloadClasses.size());\n-                    for (Class<?> c : preloadClasses) {\n+                    attr.putShort(loadableDescriptors.size());\n+                    for (Class<?> c : loadableDescriptors) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InnerClassLambdaMetafactory.java","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -458,1 +458,1 @@\n-     * are listed in the preload attribute of the interface class.  The\n+     * are listed in the loadable descriptors attribute of the interface class.  The\n@@ -461,1 +461,1 @@\n-     * generated with no preload attributes as it essentially has no effect.\n+     * generated with no loadable descriptors attributes as it essentially has no effect.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/ProxyGenerator.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -938,3 +938,3 @@\n-    public static final class BoundPreloadAttribute extends BoundAttribute<PreloadAttribute>\n-            implements PreloadAttribute {\n-        private List<ClassEntry> preloads = null;\n+    public static final class BoundLoadableDescriptorsAttribute extends BoundAttribute<LoadableDescriptorsAttribute>\n+            implements LoadableDescriptorsAttribute {\n+        private List<Utf8Entry> loadableDescriptors = null;\n@@ -942,1 +942,1 @@\n-        public BoundPreloadAttribute(ClassReader cf, AttributeMapper<PreloadAttribute> mapper, int pos) {\n+        public BoundLoadableDescriptorsAttribute(ClassReader cf, AttributeMapper<LoadableDescriptorsAttribute> mapper, int pos) {\n@@ -947,3 +947,3 @@\n-        public List<ClassEntry> preloads() {\n-            if (preloads == null) {\n-                preloads = readEntryList(payloadStart);\n+        public List<Utf8Entry> loadableDescriptors() {\n+            if (loadableDescriptors == null) {\n+                loadableDescriptors = readEntryList(payloadStart);\n@@ -951,1 +951,1 @@\n-            return preloads;\n+            return loadableDescriptors;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/BoundAttribute.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -904,3 +904,3 @@\n-                case PreloadAttribute pa ->\n-                    nodes.add(list(\"preload classes\", \"class\", pa.preloads().stream()\n-                            .map(e -> e.name().stringValue())));\n+                case LoadableDescriptorsAttribute pa ->\n+                    nodes.add(list(\"loadable descriptors\", \"descriptor\", pa.loadableDescriptors().stream()\n+                            .map(e -> e.stringValue())));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ClassPrinterImpl.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-import java.lang.classfile.attribute.PreloadAttribute;\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -146,4 +146,2 @@\n-            case PreloadAttribute pa ->\n-                clb.with(PreloadAttribute.ofSymbols(\n-                        pa.preloads().stream().map(pc ->\n-                                map(pc.asSymbol())).toList()));\n+            case LoadableDescriptorsAttribute pa ->\n+                clb.with(LoadableDescriptorsAttribute.of(pa.loadableDescriptors()));\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ClassRemapperImpl.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-import java.lang.classfile.attribute.PreloadAttribute;\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -433,4 +433,4 @@\n-    public static final class UnboundPreloadAttribute\n-            extends UnboundAttribute<PreloadAttribute>\n-            implements PreloadAttribute {\n-        private final List<ClassEntry> preloads;\n+    public static final class UnboundLoadableDescriptorsAttribute\n+            extends UnboundAttribute<LoadableDescriptorsAttribute>\n+            implements LoadableDescriptorsAttribute {\n+        private final List<Utf8Entry> loadableDescriptors;\n@@ -438,3 +438,3 @@\n-        public UnboundPreloadAttribute(List<ClassEntry> preloads) {\n-            super(Attributes.PRELOAD);\n-            this.preloads = List.copyOf(preloads);\n+        public UnboundLoadableDescriptorsAttribute(List<Utf8Entry> loadableDescriptors) {\n+            super(Attributes.LOADABLE_DESCRIPTORS);\n+            this.loadableDescriptors = List.copyOf(loadableDescriptors);\n@@ -444,2 +444,2 @@\n-        public List<ClassEntry> preloads() {\n-            return preloads;\n+        public List<Utf8Entry> loadableDescriptors() {\n+            return loadableDescriptors;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/UnboundAttribute.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -243,1 +243,1 @@\n-    public boolean requiresPreload(Symbol referringClass) {\n+    public boolean requiresLoadableDescriptors(Symbol referringClass) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Type.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -855,1 +855,1 @@\n-     \/** Write out \"Preload\" attribute by enumerating the value classes encountered in field\/method descriptors during this compilation.\n+     \/** Write out \"LoadableDescriptors\" attribute by enumerating the value classes encountered in field\/method descriptors during this compilation.\n@@ -857,5 +857,5 @@\n-     void writePreloadAttribute() {\n-        int alenIdx = writeAttr(names.Preload);\n-        databuf.appendChar(poolWriter.preloadClasses.size());\n-        for (ClassSymbol c : poolWriter.preloadClasses) {\n-            databuf.appendChar(poolWriter.putClass(c));\n+     void writeLoadableDescriptorsAttribute() {\n+        int alenIdx = writeAttr(names.LoadableDescriptors);\n+        databuf.appendChar(poolWriter.loadableDescriptors.size());\n+        for (Symbol c : poolWriter.loadableDescriptors) {\n+            databuf.appendChar(poolWriter.putDescriptor(c));\n@@ -989,2 +989,2 @@\n-        if (fldType.requiresPreload(v.owner)) {\n-            poolWriter.enterPreloadClass((ClassSymbol) fldType.tsym);\n+        if (fldType.requiresLoadableDescriptors(v.owner)) {\n+            poolWriter.enterLoadableDescriptorsClass((ClassSymbol) fldType.tsym);\n@@ -1022,2 +1022,2 @@\n-            if (t.requiresPreload(m.owner)) {\n-                poolWriter.enterPreloadClass((ClassSymbol) t.tsym);\n+            if (t.requiresLoadableDescriptors(m.owner)) {\n+                poolWriter.enterLoadableDescriptorsClass((ClassSymbol) t.tsym);\n@@ -1027,2 +1027,2 @@\n-        if (returnType.requiresPreload(m.owner)) {\n-            poolWriter.enterPreloadClass((ClassSymbol) returnType.tsym);\n+        if (returnType.requiresLoadableDescriptors(m.owner)) {\n+            poolWriter.enterLoadableDescriptorsClass((ClassSymbol) returnType.tsym);\n@@ -1737,2 +1737,2 @@\n-        if (!poolWriter.preloadClasses.isEmpty()) {\n-            writePreloadAttribute();\n+        if (!poolWriter.loadableDescriptors.isEmpty()) {\n+            writeLoadableDescriptorsAttribute();\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassWriter.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1117,2 +1117,2 @@\n-        if (localType.requiresPreload(env.enclClass.sym)) {\n-            poolWriter.enterPreloadClass((ClassSymbol) localType.tsym);\n+        if (localType.requiresLoadableDescriptors(env.enclClass.sym)) {\n+            poolWriter.enterLoadableDescriptorsClass((ClassSymbol) localType.tsym);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/Gen.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-    Set<ClassSymbol> preloadClasses = new HashSet<>();\n+    Set<Symbol> loadableDescriptors = new HashSet<>();\n@@ -239,1 +239,1 @@\n-    \/** Enter a value class into the `preloadClasses' set.\n+    \/** Enter a value class into the `loadableDescriptorsClasses' set.\n@@ -241,1 +241,1 @@\n-    void enterPreloadClass(ClassSymbol c) {\n+    void enterLoadableDescriptorsClass(Symbol c) {\n@@ -246,1 +246,1 @@\n-        preloadClasses.add(c);\n+        loadableDescriptors.add(c);\n@@ -529,1 +529,1 @@\n-        preloadClasses.clear();\n+        loadableDescriptors.clear();\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/PoolWriter.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -156,1 +156,1 @@\n-    public final Name Preload;\n+    public final Name LoadableDescriptors;\n@@ -359,1 +359,1 @@\n-        Preload = fromString(\"Preload\");\n+        LoadableDescriptors = fromString(\"LoadableDescriptors\");\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/util\/Names.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-    public static final String Preload                  = \"Preload\";\n+    public static final String LoadableDescriptors      = \"LoadableDescriptors\";\n@@ -140,1 +140,1 @@\n-            standardAttributes.put(Preload, Preload_attribute.class);\n+            standardAttributes.put(LoadableDescriptors, LoadableDescriptors_attribute.class);\n@@ -197,0 +197,1 @@\n+        R visitLoadableDescriptors(LoadableDescriptors_attribute attr, P p);\n@@ -208,1 +209,0 @@\n-        R visitPreload(Preload_attribute attr, P p);\n","filename":"src\/jdk.jdeps\/share\/classes\/com\/sun\/tools\/classfile\/Attribute.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -758,1 +758,1 @@\n-        public Void visitPreload(Preload_attribute attr, ClassOutputStream out) {\n+        public Void visitLoadableDescriptors(LoadableDescriptors_attribute attr, ClassOutputStream out) {\n","filename":"src\/jdk.jdeps\/share\/classes\/com\/sun\/tools\/classfile\/ClassWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,51 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package com.sun.tools.classfile;\n+\n+import java.io.IOException;\n+\n+\/**\n+ *  <p><b>This is NOT part of any supported API.\n+ *  If you write code that depends on this, you do so at your own risk.\n+ *  This code and its internal interfaces are subject to change or\n+ *  deletion without notice.<\/b>\n+ *\/\n+public class LoadableDescriptors_attribute extends Attribute {\n+    LoadableDescriptors_attribute(ClassReader cr, int name_index, int length) throws IOException {\n+        super(name_index, length);\n+        number_of_classes = cr.readUnsignedShort();\n+        value_class_info_index = new int[number_of_classes];\n+        for (int i = 0; i < number_of_classes; i++)\n+            value_class_info_index[i] = cr.readUnsignedShort();\n+    }\n+\n+    public <R, D> R accept(Visitor<R, D> visitor, D data) {\n+        return visitor.visitLoadableDescriptors(this, data);\n+    }\n+\n+    public final int number_of_classes;\n+    public final int value_class_info_index[];\n+}\n\\ No newline at end of file\n","filename":"src\/jdk.jdeps\/share\/classes\/com\/sun\/tools\/classfile\/LoadableDescriptors_attribute.java","additions":51,"deletions":0,"binary":false,"changes":51,"status":"added"},{"patch":"@@ -1,51 +0,0 @@\n-\/*\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-package com.sun.tools.classfile;\n-\n-import java.io.IOException;\n-\n-\/**\n- *  <p><b>This is NOT part of any supported API.\n- *  If you write code that depends on this, you do so at your own risk.\n- *  This code and its internal interfaces are subject to change or\n- *  deletion without notice.<\/b>\n- *\/\n-public class Preload_attribute extends Attribute {\n-    Preload_attribute(ClassReader cr, int name_index, int length) throws IOException {\n-        super(name_index, length);\n-        number_of_classes = cr.readUnsignedShort();\n-        value_class_info_index = new int[number_of_classes];\n-        for (int i = 0; i < number_of_classes; i++)\n-            value_class_info_index[i] = cr.readUnsignedShort();\n-    }\n-\n-    public <R, D> R accept(Visitor<R, D> visitor, D data) {\n-        return visitor.visitPreload(this, data);\n-    }\n-\n-    public final int number_of_classes;\n-    public final int value_class_info_index[];\n-}\n\\ No newline at end of file\n","filename":"src\/jdk.jdeps\/share\/classes\/com\/sun\/tools\/classfile\/Preload_attribute.java","additions":0,"deletions":51,"binary":false,"changes":51,"status":"deleted"},{"patch":"@@ -530,2 +530,2 @@\n-            case PreloadAttribute attr -> {\n-                println(\"Preload:\");\n+            case LoadableDescriptorsAttribute attr -> {\n+                println(\"LoadableDescriptors:\");\n@@ -533,1 +533,1 @@\n-                for (var sc : attr.preloads()) {\n+                for (var sc : attr.loadableDescriptors()) {\n","filename":"src\/jdk.jdeps\/share\/classes\/com\/sun\/tools\/javap\/AttributeWriter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
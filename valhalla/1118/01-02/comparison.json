{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -50,1 +51,0 @@\n-import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -89,1 +89,1 @@\n-                LocalVariableTableAttribute, LocalVariableTypeTableAttribute,\n+                LoadableDescriptorsAttribute, LocalVariableTableAttribute, LocalVariableTypeTableAttribute,\n@@ -93,1 +93,1 @@\n-                PermittedSubclassesAttribute, LoadableDescriptorsAttribute,\n+                PermittedSubclassesAttribute,\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/Attribute.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -67,1 +68,0 @@\n-import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -133,0 +133,3 @@\n+    \/** LoadableDescriptors *\/\n+    public static final String NAME_LOADABLE_DESCRIPTORS = \"LoadableDescriptors\";\n+\n@@ -169,3 +172,0 @@\n-    \/** LoadableDescriptors *\/\n-    public static final String NAME_LOADABLE_DESCRIPTORS = \"LoadableDescriptors\";\n-\n@@ -1030,0 +1030,1 @@\n+            LOADABLE_DESCRIPTORS,\n@@ -1042,1 +1043,0 @@\n-            LOADABLE_DESCRIPTORS,\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/Attributes.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -40,1 +41,0 @@\n-import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -67,0 +67,1 @@\n+                LoadableDescriptorsAttribute,\n@@ -69,1 +70,1 @@\n-                NestHostAttribute, NestMembersAttribute, PermittedSubclassesAttribute, LoadableDescriptorsAttribute,\n+                NestHostAttribute, NestMembersAttribute, PermittedSubclassesAttribute,\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/ClassElement.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -457,1 +457,1 @@\n- *     | LoadableDescriptorsAttribute?(List<ClassEntry> loadableDescriptors)\n+ *     | LoadableDescriptorsAttribute?(List<Utf8Entry> loadableDescriptors)\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/package-info.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -586,1 +586,1 @@\n-        private final Set<Class<?>> loadableDescriptors = new HashSet<>();\n+        private final Set<String> loadableDescriptors = new HashSet<>();\n@@ -589,1 +589,1 @@\n-                loadableDescriptors.add(targetClass);\n+                loadableDescriptors.add(Type.getDescriptor(targetClass));\n@@ -600,1 +600,1 @@\n-                    loadableDescriptors.add(paramType);\n+                    loadableDescriptors.add(Type.getDescriptor(paramType));\n@@ -605,1 +605,1 @@\n-                loadableDescriptors.add(mt.returnType());\n+                loadableDescriptors.add(Type.getDescriptor(mt.returnType()));\n@@ -618,5 +618,1 @@\n-            Class<?> c = cls;\n-            while (c.isArray()) {\n-                c = c.getComponentType();\n-            }\n-            return c.isValue();\n+            return cls.isValue();\n@@ -639,2 +635,2 @@\n-                    for (Class<?> c : loadableDescriptors) {\n-                        attr.putShort(cw.newClass(Type.getInternalName(c)));\n+                    for (String s : loadableDescriptors) {\n+                        attr.putShort(cw.newUTF8(s));\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InnerClassLambdaMetafactory.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -59,1 +60,0 @@\n-import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ClassRemapperImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n@@ -75,1 +76,0 @@\n-import java.lang.classfile.attribute.LoadableDescriptorsAttribute;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/UnboundAttribute.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -990,1 +990,1 @@\n-            poolWriter.enterLoadableDescriptorsClass((ClassSymbol) fldType.tsym);\n+            poolWriter.enterLoadableDescriptorsClass(fldType.tsym);\n@@ -1023,1 +1023,1 @@\n-                poolWriter.enterLoadableDescriptorsClass((ClassSymbol) t.tsym);\n+                poolWriter.enterLoadableDescriptorsClass(t.tsym);\n@@ -1028,1 +1028,1 @@\n-            poolWriter.enterLoadableDescriptorsClass((ClassSymbol) returnType.tsym);\n+            poolWriter.enterLoadableDescriptorsClass(returnType.tsym);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassWriter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
{"files":[{"patch":"@@ -67,0 +67,1 @@\n+    private static final boolean PreloadClasses = WHITEBOX.getBooleanVMFlag(\"PreloadClasses\");\n@@ -1220,1 +1221,1 @@\n-            Asserts.assertTrue(UseFieldFlattening);\n+            Asserts.assertTrue(UseFieldFlattening && PreloadClasses);\n@@ -1223,1 +1224,1 @@\n-            Asserts.assertFalse(UseFieldFlattening);\n+            Asserts.assertFalse(UseFieldFlattening && PreloadClasses);\n@@ -1259,2 +1260,2 @@\n-            TEST64_BASE_OFFSET = U.arrayBaseOffset(TEST64_ARRAY.getClass());\n-            TEST64_INDEX_SCALE = U.arrayIndexScale(TEST64_ARRAY.getClass());\n+            TEST64_BASE_OFFSET = U.arrayBaseOffset(TEST64_ARRAY);\n+            TEST64_INDEX_SCALE = U.arrayIndexScale(TEST64_ARRAY);\n@@ -1263,1 +1264,1 @@\n-            TEST64_LAYOUT = U.arrayLayout(TEST64_ARRAY.getClass());\n+            TEST64_LAYOUT = U.arrayLayout(TEST64_ARRAY);\n@@ -1306,1 +1307,1 @@\n-            Asserts.assertTrue(UseFieldFlattening);\n+            Asserts.assertTrue(UseFieldFlattening && PreloadClasses);\n@@ -1309,1 +1310,1 @@\n-            Asserts.assertFalse(UseFieldFlattening);\n+            Asserts.assertFalse(UseFieldFlattening && PreloadClasses);\n@@ -1334,1 +1335,1 @@\n-            Asserts.assertTrue(UseFieldFlattening);\n+            Asserts.assertTrue(UseFieldFlattening && PreloadClasses);\n@@ -1337,1 +1338,1 @@\n-            Asserts.assertFalse(UseFieldFlattening);\n+            Asserts.assertFalse(UseFieldFlattening && PreloadClasses);\n@@ -1362,1 +1363,1 @@\n-            Asserts.assertTrue(UseFieldFlattening);\n+            Asserts.assertTrue(UseFieldFlattening && PreloadClasses);\n@@ -1365,1 +1366,1 @@\n-            Asserts.assertFalse(UseFieldFlattening);\n+            Asserts.assertFalse(UseFieldFlattening && PreloadClasses);\n@@ -1430,1 +1431,1 @@\n-            Asserts.assertTrue(UseFieldFlattening);\n+            Asserts.assertTrue(UseFieldFlattening && PreloadClasses);\n@@ -1433,1 +1434,1 @@\n-            Asserts.assertFalse(UseFieldFlattening);\n+            Asserts.assertFalse(UseFieldFlattening && PreloadClasses);\n@@ -1459,1 +1460,1 @@\n-            Asserts.assertTrue(UseFieldFlattening);\n+            Asserts.assertTrue(UseFieldFlattening && PreloadClasses);\n@@ -1462,1 +1463,1 @@\n-            Asserts.assertFalse(UseFieldFlattening);\n+            Asserts.assertFalse(UseFieldFlattening && PreloadClasses);\n","filename":"test\/hotspot\/jtreg\/compiler\/valhalla\/inlinetypes\/TestIntrinsics.java","additions":16,"deletions":15,"binary":false,"changes":31,"status":"modified"}]}
{"files":[{"patch":"@@ -1453,1 +1453,3 @@\n-  assert(words > 0, \"precondition\");\n+  precond(words > 0);\n+\n+  const bool safe = words >= (size_t)oopDesc::header_size();\n@@ -1457,3 +1459,1 @@\n-  if (UseCompactObjectHeaders) {\n-    return true;\n-  }\n+  assert(!UseCompactObjectHeaders || safe, \"Compact Object Headers should always be safe\");\n@@ -1461,2 +1461,1 @@\n-  \/\/ Otherwise, it is only safe to read the full header if we've copied all of it\n-  return words >= (size_t)oopDesc::header_size();\n+  return safe;\n@@ -1503,1 +1502,0 @@\n-            log_info(gc)(\"Preserving markWord for %p\", cur_addr);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"}]}
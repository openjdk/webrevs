{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -642,1 +643,1 @@\n-     *          preview features are disabled or {@linkplain Modifier#IDENTITY} is set in the\n+     *          preview features are disabled or {@linkplain ClassFile#ACC_IDENTITY} is set in the\n@@ -664,1 +665,1 @@\n-     *          preview features are enabled and {@linkplain Modifier#IDENTITY} is not set in the\n+     *          preview features are enabled and {@linkplain ClassFile#ACC_IDENTITY} is not set in the\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Class.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -175,3 +176,2 @@\n-     * The access flag {@code ACC_IDENTITY}, corresponding to the\n-     * modifier {@link Modifier#IDENTITY identity}, with a mask\n-     * value of <code>{@value \"0x%04x\" Modifier#IDENTITY}<\/code>.\n+     * The access flag {@code ACC_IDENTITY} with a mask value of\n+     * <code>{@value \"0x%04x\" ClassFile#ACC_IDENTITY}<\/code>.\n@@ -183,1 +183,1 @@\n-    IDENTITY(Modifier.IDENTITY, false,\n+    IDENTITY(ACC_IDENTITY, false,\n@@ -288,1 +288,1 @@\n-     * <code>{@value \"0x%04x\" java.lang.classfile.ClassFile#ACC_STRICT_INIT}<\/code>.\n+     * <code>{@value \"0x%04x\" ClassFile#ACC_STRICT_INIT}<\/code>.\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/AccessFlag.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -140,18 +140,0 @@\n-    \/**\n-     * Return {@code true} if the integer argument includes the\n-     * {@code identity} modifier, {@code false} otherwise.\n-     *\n-     * @apiNote {@code isIdentity} should only be called with the modifiers\n-     * of a {@linkplain Class#getModifiers() class}.\n-     *\n-     * @param   mod a set of modifiers\n-     * @return {@code true} if {@code mod} includes the\n-     * {@code identity} modifier; {@code false} otherwise.\n-     *\n-     * @since Valhalla\n-     *\/\n-    @PreviewFeature(feature = PreviewFeature.Feature.VALUE_OBJECTS, reflective=true)\n-    public static boolean isIdentity(int mod) {\n-        return (mod & IDENTITY) != 0;\n-    }\n-\n@@ -346,9 +328,0 @@\n-    \/**\n-     * The {@code int} value representing the {@code ACC_IDENTITY}\n-     * modifier.\n-     *\n-     * @since Valhalla\n-     *\/\n-    @PreviewFeature(feature = PreviewFeature.Feature.VALUE_OBJECTS, reflective=true)\n-    public static final int IDENTITY         = 0x00000020;\n-\n@@ -429,1 +402,0 @@\n-    \/\/ Does not include IDENTITY - this is used by SYNCHRONIZED for printing already\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/Modifier.java","additions":1,"deletions":29,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -448,1 +449,1 @@\n-                if ((accessFlags & ~(Modifier.PUBLIC | Modifier.IDENTITY)) != 0) {\n+                if ((accessFlags & ~Modifier.PUBLIC) != 0) {\n@@ -470,1 +471,1 @@\n-                                                                      context.accessFlags() | Modifier.FINAL | Modifier.IDENTITY);\n+                                                                      context.accessFlags() | Modifier.FINAL | ClassFile.ACC_IDENTITY);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/Proxy.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -65,0 +66,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -91,6 +93,6 @@\n-        Asserts.assertEQ(CanonicalizeGetModifiers.class.getModifiers(), Modifier.PUBLIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(T1.class.getModifiers(), Modifier.PUBLIC | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(T2.class.getModifiers(), Modifier.PUBLIC | Modifier.FINAL | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(T3.class.getModifiers(), Modifier.PRIVATE | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(T4.class.getModifiers(), Modifier.PROTECTED | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(new CanonicalizeGetModifiers().new T5().getClass().getModifiers(), 0\/* NONE *\/ | Modifier.IDENTITY);\n+        Asserts.assertEQ(CanonicalizeGetModifiers.class.getModifiers(), Modifier.PUBLIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(T1.class.getModifiers(), Modifier.PUBLIC | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(T2.class.getModifiers(), Modifier.PUBLIC | Modifier.FINAL | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(T3.class.getModifiers(), Modifier.PRIVATE | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(T4.class.getModifiers(), Modifier.PROTECTED | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(new CanonicalizeGetModifiers().new T5().getClass().getModifiers(), 0\/* NONE *\/ | ClassFile.ACC_IDENTITY);\n@@ -107,15 +109,15 @@\n-        Asserts.assertEQ(int[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(long[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(double[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(float[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(char[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(byte[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(short[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(Object[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-        Asserts.assertEQ(CanonicalizeGetModifiers[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? Modifier.IDENTITY : 0));\n-\n-        Asserts.assertEQ(new CanonicalizeGetModifiers().getClass().getModifiers(), Modifier.PUBLIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(new T1().getClass().getModifiers(), Modifier.PUBLIC | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(new T2().getClass().getModifiers(), Modifier.PUBLIC | Modifier.FINAL | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(new T3().getClass().getModifiers(), Modifier.PRIVATE | Modifier.STATIC | Modifier.IDENTITY);\n-        Asserts.assertEQ(new T4().getClass().getModifiers(), Modifier.PROTECTED | Modifier.STATIC | Modifier.IDENTITY);\n+        Asserts.assertEQ(int[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(long[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(double[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(float[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(char[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(byte[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(short[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(Object[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+        Asserts.assertEQ(CanonicalizeGetModifiers[].class.getModifiers(), Modifier.PUBLIC | Modifier.ABSTRACT | Modifier.FINAL | (PreviewFeatures.isEnabled() ? ClassFile.ACC_IDENTITY : 0));\n+\n+        Asserts.assertEQ(new CanonicalizeGetModifiers().getClass().getModifiers(), Modifier.PUBLIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(new T1().getClass().getModifiers(), Modifier.PUBLIC | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(new T2().getClass().getModifiers(), Modifier.PUBLIC | Modifier.FINAL | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(new T3().getClass().getModifiers(), Modifier.PRIVATE | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n+        Asserts.assertEQ(new T4().getClass().getModifiers(), Modifier.PROTECTED | Modifier.STATIC | ClassFile.ACC_IDENTITY);\n","filename":"test\/hotspot\/jtreg\/compiler\/c1\/CanonicalizeGetModifiers.java","additions":23,"deletions":21,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +60,1 @@\n-import java.lang.reflect.Modifier;\n+import static java.lang.classfile.ClassFile.ACC_IDENTITY;\n@@ -94,5 +95,5 @@\n-        test(T1.class,                                      PUBLIC | STATIC | IDENTITY);\n-        test(T2.class,                                      PUBLIC | FINAL | STATIC | IDENTITY);\n-        test(T3.class,                                      PRIVATE | STATIC | IDENTITY);\n-        test(T4.class,                                      PROTECTED | STATIC | IDENTITY);\n-        test(new TestGetModifiers().new T5().getClass(),       IDENTITY);\n+        test(T1.class,                                      PUBLIC | STATIC | ACC_IDENTITY);\n+        test(T2.class,                                      PUBLIC | FINAL | STATIC | ACC_IDENTITY);\n+        test(T3.class,                                      PRIVATE | STATIC | ACC_IDENTITY);\n+        test(T4.class,                                      PROTECTED | STATIC | ACC_IDENTITY);\n+        test(new TestGetModifiers().new T5().getClass(),       ACC_IDENTITY);\n@@ -109,15 +110,15 @@\n-        test(int[].class,                                   PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(long[].class,                                  PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(double[].class,                                PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(float[].class,                                 PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(char[].class,                                  PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(byte[].class,                                  PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(short[].class,                                 PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(Object[].class,                                PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-        test(TestGetModifiers[].class,                      PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? IDENTITY : 0));\n-\n-        test(new TestGetModifiers().getClass(),             PUBLIC | IDENTITY);\n-        test(new T1().getClass(),                           PUBLIC | STATIC | IDENTITY);\n-        test(new T2().getClass(),                           PUBLIC | FINAL | STATIC | IDENTITY);\n-        test(new T3().getClass(),                           PRIVATE | STATIC | IDENTITY);\n-        test(new T4().getClass(),                           PROTECTED | STATIC | IDENTITY);\n+        test(int[].class,                                   PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(long[].class,                                  PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(double[].class,                                PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(float[].class,                                 PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(char[].class,                                  PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(byte[].class,                                  PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(short[].class,                                 PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(Object[].class,                                PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+        test(TestGetModifiers[].class,                      PUBLIC | ABSTRACT | FINAL | (PreviewFeatures.isEnabled() ? ACC_IDENTITY : 0));\n+\n+        test(new TestGetModifiers().getClass(),             PUBLIC | ACC_IDENTITY);\n+        test(new T1().getClass(),                           PUBLIC | STATIC | ACC_IDENTITY);\n+        test(new T2().getClass(),                           PUBLIC | FINAL | STATIC | ACC_IDENTITY);\n+        test(new T3().getClass(),                           PRIVATE | STATIC | ACC_IDENTITY);\n+        test(new T4().getClass(),                           PROTECTED | STATIC | ACC_IDENTITY);\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/klass\/TestGetModifiers.java","additions":22,"deletions":21,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -56,1 +57,1 @@\n-        testIt(\"SUPERset\", Modifier.PUBLIC | Modifier.IDENTITY);\n+        testIt(\"SUPERset\", Modifier.PUBLIC | ClassFile.ACC_IDENTITY);\n@@ -58,1 +59,1 @@\n-        testIt(\"SUPERnotset\", Modifier.PUBLIC | Modifier.IDENTITY);\n+        testIt(\"SUPERnotset\", Modifier.PUBLIC | ClassFile.ACC_IDENTITY);\n@@ -80,1 +81,1 @@\n-        if (flags != (Modifier.ABSTRACT | Modifier.FINAL | Modifier.PUBLIC | Modifier.IDENTITY)) {\n+        if (flags != (Modifier.ABSTRACT | Modifier.FINAL | Modifier.PUBLIC | ClassFile.ACC_IDENTITY)) {\n@@ -102,1 +103,1 @@\n-        if (flags != (Modifier.PUBLIC | Modifier.IDENTITY)) {\n+        if (flags != (Modifier.PUBLIC | ClassFile.ACC_IDENTITY)) {\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/ClassAccessFlagsRawTest.java","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -77,1 +78,1 @@\n-                expectedModifiers |= Modifier.IDENTITY;\n+                expectedModifiers |= ClassFile.ACC_IDENTITY;\n","filename":"test\/jdk\/java\/lang\/Class\/getModifiers\/TestPrimitiveAndArrayModifiers.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2025, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -60,1 +61,2 @@\n-            assertFalse(Modifier.isIdentity(imod), \"Modifier of Integer should not have IDENTITY set\");\n+            assertFalse((imod & ClassFile.ACC_IDENTITY) != 0,\n+                    \"Modifier of Integer \" + Integer.toHexString(imod) + \" should not have ACC_IDENTITY set\");\n@@ -63,1 +65,2 @@\n-        assertEquals(PreviewFeatures.isEnabled(), Modifier.isIdentity(amod), \"Modifier of array should have IDENTITY set\");\n+        assertEquals(PreviewFeatures.isEnabled(), (amod & ClassFile.ACC_IDENTITY) != 0,\n+                \"Modifier of array \" + Integer.toHexString(amod) + \" should have ACC_IDENTITY set\");\n","filename":"test\/jdk\/valhalla\/valuetypes\/IsIdentityClassTest.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,1 @@\n+import java.lang.classfile.ClassFile;\n@@ -41,1 +42,0 @@\n-import java.lang.reflect.Modifier;\n@@ -173,2 +173,2 @@\n-        assertEquals(clazz.isIdentity(), (modifiers & Modifier.IDENTITY) != 0, \"Class.getModifiers() & IDENTITY != 0\");\n-        assertEquals(clazz.isValue(), (modifiers & Modifier.IDENTITY) == 0, \"Class.getModifiers() & IDENTITY == 0\");\n+        assertEquals(clazz.isIdentity(), (modifiers & ClassFile.ACC_IDENTITY) != 0, \"Class.getModifiers() & ACC_IDENTITY != 0\");\n+        assertEquals(clazz.isValue(), (modifiers & ClassFile.ACC_IDENTITY) == 0, \"Class.getModifiers() & ACC_IDENTITY == 0\");\n","filename":"test\/jdk\/valhalla\/valuetypes\/ValueObjectMethodsTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
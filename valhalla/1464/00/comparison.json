{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2023, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,4 +34,1 @@\n-\n-\n-\n-\n+import jdk.test.whitebox.WhiteBox;\n@@ -46,2 +43,3 @@\n- * @compile AnnotationsTests.java\n- * @run main\/othervm AnnotationsTests\n+ * @build jdk.test.whitebox.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n+ * @run main\/othervm -Xbootclasspath\/a:. -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI AnnotationsTests\n@@ -50,1 +48,0 @@\n-\n@@ -52,0 +49,2 @@\n+    private static final WhiteBox WHITEBOX = WhiteBox.getWhiteBox();\n+    private static final boolean UseNullableValueFlattening = WHITEBOX.getBooleanVMFlag(\"UseNullableValueFlattening\");\n@@ -54,1 +53,0 @@\n-    static boolean nullableLayoutEnabled;\n@@ -58,2 +56,0 @@\n-        List<String> arguments = runtimeMxBean.getInputArguments();\n-        nullableLayoutEnabled = arguments.contains(\"-XX:+UseNullableValueFlattening\");\n@@ -162,1 +158,1 @@\n-      ValueClass5 f0 = new ValueClass5();\n+        ValueClass5 f0 = new ValueClass5();\n@@ -174,1 +170,1 @@\n-            if (nullableLayoutEnabled) {\n+            if (UseNullableValueFlattening) {\n","filename":"test\/hotspot\/jtreg\/runtime\/valhalla\/inlinetypes\/AnnotationsTests.java","additions":9,"deletions":13,"binary":false,"changes":22,"status":"modified"}]}
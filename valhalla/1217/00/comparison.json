{"files":[{"patch":"@@ -29,0 +29,1 @@\n+#include \"runtime\/globals.hpp\"\n@@ -58,0 +59,3 @@\n+    if (EnableValhalla && type == T_PRIMITIVE_OBJECT) {\n+      return true; \/\/CMH: tighten the alignment when removing T_PRIMITIVE_OBJECT\n+    }\n@@ -59,1 +63,1 @@\n-    if (type == T_OBJECT || type == T_ARRAY || type == T_PRIMITIVE_OBJECT) {\n+    if (type == T_OBJECT || type == T_ARRAY) {\n@@ -63,1 +67,1 @@\n-    return type == T_DOUBLE || type == T_LONG || type == T_PRIMITIVE_OBJECT;\n+    return type == T_DOUBLE || type == T_LONG;\n","filename":"src\/hotspot\/share\/oops\/arrayOop.hpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -53,1 +53,2 @@\n-    julong size_in_bytes = header_size_in_bytes() + element_size(lh, length);\n+    julong size_in_bytes = base_offset_in_bytes(Klass::layout_helper_element_type(lh));\n+    size_in_bytes += element_size(lh, length);\n","filename":"src\/hotspot\/share\/oops\/flatArrayOop.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}
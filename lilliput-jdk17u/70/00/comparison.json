{"files":[{"patch":"@@ -80,0 +80,12 @@\n+\n+void LockStack::print_on(outputStream* st) {\n+  for (int i = to_index(_top); (--i) >= 0;) {\n+    st->print(\"LockStack[%d]: \", i);\n+    oop o = _base[i];\n+    if (oopDesc::is_oop(o)) {\n+      o->print_on(st);\n+    } else {\n+      st->print_cr(\"not an oop: \" PTR_FORMAT, p2i(o));\n+    }\n+  }\n+}\n","filename":"src\/hotspot\/share\/runtime\/lockStack.cpp","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-class Thread;\n+class JavaThread;\n@@ -35,0 +35,1 @@\n+class outputStream;\n@@ -94,0 +95,2 @@\n+  \/\/ Printing\n+  void print_on(outputStream* st);\n","filename":"src\/hotspot\/share\/runtime\/lockStack.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -949,0 +949,8 @@\n+  STEP(\"printing lock stack\")\n+\n+    if (_verbose && _thread != nullptr && _thread->is_Java_thread() && LockingMode == LM_LIGHTWEIGHT) {\n+      st->print_cr(\"Lock stack of current Java thread (top to bottom):\");\n+      reinterpret_cast<JavaThread*>(_thread)->lock_stack().print_on(st);\n+      st->cr();\n+    }\n+\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}
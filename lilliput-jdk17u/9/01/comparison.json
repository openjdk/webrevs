{"files":[{"patch":"@@ -881,2 +881,4 @@\n-      ldr(header_reg, Address(rthread, JavaThread::lock_stack_current_offset()));\n-      cmpoop(header_reg, obj_reg);\n+      Register tmp = header_reg;\n+      ldr(tmp, Address(rthread, JavaThread::lock_stack_current_offset()));\n+      ldr(tmp, Address(tmp, -oopSize));\n+      cmpoop(tmp, obj_reg);\n","filename":"src\/hotspot\/cpu\/aarch64\/interp_masm_aarch64.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1360,1 +1360,3 @@\n-      cmpptr(obj_reg, Address(thread, JavaThread::lock_stack_current_offset()));\n+      Register tmp = swap_reg;\n+      movptr(tmp, Address(thread, JavaThread::lock_stack_current_offset()));\n+      cmpptr(obj_reg, Address(tmp, -oopSize));\n","filename":"src\/hotspot\/cpu\/x86\/interp_masm_x86.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
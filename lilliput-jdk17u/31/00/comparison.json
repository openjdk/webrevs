{"files":[{"patch":"@@ -299,1 +299,1 @@\n-        assert(!UseCompressedClassPointers, \"should only happen without compressed class pointers\");\n+        assert(!UseCompressedClassPointers || UseCompactObjectHeaders, \"should only happen without compressed class pointers or with compact object headers\");\n","filename":"src\/hotspot\/share\/gc\/z\/c2\/zBarrierSetC2.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -147,0 +147,4 @@\n+    \/\/ Get the size of the object before calling the closure, which\n+    \/\/ might overwrite the object in case we are relocating in-place.\n+    const size_t size = ZUtils::object_size(addr);\n+\n@@ -151,1 +155,1 @@\n-    const uintptr_t next_addr = align_up(addr + 1, 1 << page_object_alignment_shift);\n+    const uintptr_t next_addr = align_up(addr + size, 1 << page_object_alignment_shift);\n","filename":"src\/hotspot\/share\/gc\/z\/zLiveMap.inline.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
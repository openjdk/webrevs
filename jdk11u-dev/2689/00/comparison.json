{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -1215,0 +1215,11 @@\n+        \/\/ subset zero indicates to run all subsets\n+        int subset = Integer.valueOf(System.getProperty(\"subset\",\n+            String.valueOf(1 + random.nextInt(3))));\n+        if (subset < 0 || subset > 3) {\n+            throw new RuntimeException(\"Unknown subset \" + subset);\n+        }\n+        if (subset == 0)\n+            System.out.println(\"Testing all subsets\");\n+        else\n+            System.out.println(\"Testing subset \" + subset);\n+\n@@ -1230,4 +1241,2 @@\n-        constructor();\n-\n-        prime();\n-        nextProbablePrime();\n+        if (subset == 0 || subset == 1) {\n+            constructor();\n@@ -1235,3 +1244,2 @@\n-        arithmetic(order1);   \/\/ small numbers\n-        arithmetic(order3);   \/\/ Karatsuba range\n-        arithmetic(order4);   \/\/ Toom-Cook \/ Burnikel-Ziegler range\n+            prime();\n+            nextProbablePrime();\n@@ -1239,3 +1247,3 @@\n-        divideAndRemainder(order1);   \/\/ small numbers\n-        divideAndRemainder(order3);   \/\/ Karatsuba range\n-        divideAndRemainder(order4);   \/\/ Toom-Cook \/ Burnikel-Ziegler range\n+            arithmetic(order1);   \/\/ small numbers\n+            arithmetic(order3);   \/\/ Karatsuba range\n+            arithmetic(order4);   \/\/ Toom-Cook \/ Burnikel-Ziegler range\n@@ -1243,3 +1251,3 @@\n-        pow(order1);\n-        pow(order3);\n-        pow(order4);\n+            divideAndRemainder(order1);   \/\/ small numbers\n+            divideAndRemainder(order3);   \/\/ Karatsuba range\n+            divideAndRemainder(order4);   \/\/ Toom-Cook \/ Burnikel-Ziegler range\n@@ -1247,3 +1255,3 @@\n-        square(ORDER_MEDIUM);\n-        square(ORDER_KARATSUBA_SQUARE);\n-        square(ORDER_TOOM_COOK_SQUARE);\n+            pow(order1);\n+            pow(order3);\n+            pow(order4);\n@@ -1251,2 +1259,3 @@\n-        squareRoot();\n-        squareRootAndRemainder();\n+            square(ORDER_MEDIUM);\n+            square(ORDER_KARATSUBA_SQUARE);\n+            square(ORDER_TOOM_COOK_SQUARE);\n@@ -1254,4 +1263,2 @@\n-        bitCount();\n-        bitLength();\n-        bitOps(order1);\n-        bitwise(order1);\n+            squareRoot();\n+            squareRootAndRemainder();\n@@ -1259,1 +1266,4 @@\n-        shift(order1);\n+            bitCount();\n+            bitLength();\n+            bitOps(order1);\n+            bitwise(order1);\n@@ -1261,1 +1271,1 @@\n-        byteArrayConv(order1);\n+            shift(order1);\n@@ -1263,3 +1273,1 @@\n-        modInv(order1);   \/\/ small numbers\n-        modInv(order3);   \/\/ Karatsuba range\n-        modInv(order4);   \/\/ Toom-Cook \/ Burnikel-Ziegler range\n+            byteArrayConv(order1);\n@@ -1267,2 +1275,5 @@\n-        modExp(order1, order2);\n-        modExp2(order1);\n+            modInv(order1);   \/\/ small numbers\n+            modInv(order3);   \/\/ Karatsuba range\n+        }\n+        if (subset == 0 || subset == 2) {\n+            modInv(order4);   \/\/ Toom-Cook \/ Burnikel-Ziegler range\n@@ -1270,2 +1281,6 @@\n-        stringConv();\n-        serialize();\n+            modExp(order1, order2);\n+            modExp2(order1);\n+        }\n+        if (subset == 0 || subset == 3) {\n+            stringConv();\n+            serialize();\n@@ -1273,3 +1288,4 @@\n-        multiplyLarge();\n-        squareLarge();\n-        divideLarge();\n+            multiplyLarge();\n+            squareLarge();\n+            divideLarge();\n+        }\n","filename":"test\/jdk\/java\/math\/BigInteger\/BigIntegerTest.java","additions":51,"deletions":35,"binary":false,"changes":86,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,2 @@\n+import org.testng.ITestResult;\n+import org.testng.annotations.AfterMethod;\n@@ -65,0 +67,7 @@\n+    \/\/ Print the run time of each sub-test in milliseconds\n+    @AfterMethod\n+    public void getRunTime(ITestResult tr) {\n+        long time = tr.getEndMillis() - tr.getStartMillis();\n+        System.out.printf(\"Run time: %d ms%n\", time);\n+    }\n+\n","filename":"test\/jdk\/java\/math\/BigInteger\/LargeValueExceptions.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,2 @@\n+    private static final Random RANDOM = RandomFactory.getRandom();\n+\n@@ -120,2 +122,1 @@\n-            Random random = RandomFactory.getRandom();\n-            BigInteger actual = new BigInteger(bitLength, 0, random);\n+            BigInteger actual = new BigInteger(bitLength, 0, RANDOM);\n@@ -624,40 +625,59 @@\n-        testOverflowInMakePositive();\n-        testBug8021204();\n-        testOverflowInBitSieve();\n-        testAdd();\n-        testSubtract();\n-        testMultiply();\n-        testDivide();\n-        testDivideAndRemainder();\n-        testBug9005933();\n-        testRemainder();\n-        testPow();\n-        testGcd();\n-        testAbs();\n-        testNegate();\n-        testMod();\n-        testModPow();\n-\/\/        testModInverse();\n-        testShiftLeft();\n-        testShiftRight();\n-        testAnd();\n-        testOr();\n-        testXor();\n-        testNot();\n-        testSetBit();\n-        testClearBit();\n-        testFlipBit();\n-        testGetLowestSetBit();\n-        testBitLength();\n-        testBitCount();\n-        testToString();\n-        testToByteArrayWithConstructor();\n-        testIntValue();\n-        testLongValue();\n-        testFloatValue();\n-        testDoubleValue();\n-        testSerialization();\n-        testLongValueExact();\n-        testIntValueExact();\n-        testShortValueExact();\n-        testByteValueExact();\n+        \/\/ subset zero indicates to run all subsets\n+        int subset = Integer.valueOf(System.getProperty(\"subset\",\n+            String.valueOf(1 + RANDOM.nextInt(4))));\n+        if (subset < 0 || subset > 4) {\n+            throw new RuntimeException(\"Unknown subset \" + subset);\n+        }\n+        if (subset == 0)\n+            System.out.println(\"Testing all subsets\");\n+        else\n+            System.out.println(\"Testing subset \" + subset);\n+\n+        if (subset == 0 || subset == 1) {\n+            testOverflowInMakePositive();\n+            testBug8021204();\n+            testOverflowInBitSieve();\n+            testAdd();\n+            testSubtract();\n+        }\n+        if (subset == 0 || subset == 2) {\n+            testMultiply();\n+            testDivide();\n+            testDivideAndRemainder();\n+            testBug9005933();\n+        }\n+        if (subset == 0 || subset == 3) {\n+            testRemainder();\n+            testPow();\n+            testGcd();\n+            testAbs();\n+            testNegate();\n+            testMod();\n+            testModPow();\n+            \/\/        testModInverse();\n+            testShiftLeft();\n+            testShiftRight();\n+            testAnd();\n+            testOr();\n+            testXor();\n+            testNot();\n+            testSetBit();\n+            testClearBit();\n+            testFlipBit();\n+            testGetLowestSetBit();\n+            testBitLength();\n+            testBitCount();\n+        }\n+        if (subset == 0 || subset == 4) {\n+            testToString();\n+            testToByteArrayWithConstructor();\n+            testIntValue();\n+            testLongValue();\n+            testFloatValue();\n+            testDoubleValue();\n+            testSerialization();\n+            testLongValueExact();\n+            testIntValueExact();\n+            testShortValueExact();\n+            testByteValueExact();\n+        }\n","filename":"test\/jdk\/java\/math\/BigInteger\/largeMemory\/SymmetricRangeTests.java","additions":63,"deletions":43,"binary":false,"changes":106,"status":"modified"}]}
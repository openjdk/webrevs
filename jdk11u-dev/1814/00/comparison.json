{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -1808,1 +1808,6 @@\n-  \/\/ Link into hierachy. Make sure the vtables are initialized before linking into\n+  k->set_init_state(InstanceKlass::loaded);\n+  \/\/ make sure init_state store is already done.\n+  \/\/ The compiler reads the hierarchy outside of the Compile_lock.\n+  \/\/ Access ordering is used to add to hierarchy.\n+\n+  \/\/ Link into hierachy.\n@@ -1811,1 +1816,1 @@\n-  k->set_init_state(InstanceKlass::loaded);\n+\n@@ -1814,2 +1819,0 @@\n-  \/\/ Also, first reinitialize vtable because it may have gotten out of synch\n-  \/\/ while the new class wasn't connected to the class hierarchy.\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -3699,1 +3699,0 @@\n-#ifdef ASSERT\n@@ -3701,0 +3700,1 @@\n+#ifdef ASSERT\n@@ -3705,0 +3705,1 @@\n+#endif\n@@ -3707,1 +3708,0 @@\n-#endif\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -1262,1 +1262,0 @@\n-#ifdef ASSERT\n@@ -1264,3 +1263,0 @@\n-#else\n-  void set_init_state(ClassState state) { _init_state = (u1)state; }\n-#endif\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.hpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"}]}
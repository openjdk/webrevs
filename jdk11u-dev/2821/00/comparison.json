{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -442,1 +442,1 @@\n-        \/\/ all over the place. The values came straight off of MToolkit.\n+        \/\/ all over the place. The values came straight off of XToolkit.\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/LWCToolkit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -203,1 +203,1 @@\n-     * XToolkit or MToolkit is currently in use.  There are native macros\n+     * XToolkit is currently in use.  There are native macros\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/SunToolkit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,1 +67,1 @@\n-                 * Note: The MToolkit object depends on the static initializer\n+                 * Note: The XToolkit object depends on the static initializer\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11GraphicsEnvironment.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -220,1 +220,1 @@\n-     * The following methods are invoked from MToolkit or XToolkit.java and\n+     * The following methods are invoked from XToolkit.java and\n","filename":"src\/java.desktop\/unix\/classes\/sun\/java2d\/opengl\/GLXGraphicsConfig.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1995, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1995, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-\/* The JVM instance: defined in awt_MToolkit.c *\/\n+\/* The JVM instance: defined in awt_LoadLibrary.c *\/\n","filename":"src\/java.desktop\/unix\/native\/common\/awt\/awt.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -134,1 +134,1 @@\n-            throw new RuntimeException(\"Test failed. (XToolkit\/MToolkit). KeyEvent was addressed to TextField.\");\n+            throw new RuntimeException(\"Test failed. (XToolkit). KeyEvent was addressed to TextField.\");\n","filename":"test\/jdk\/java\/awt\/Choice\/ChoiceKeyEventReaction\/ChoiceKeyEventReaction.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,5 +72,0 @@\n-        if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-            System.out.println(\"No testing on Motif. Test passed.\");\n-            return;\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/ActualFocusedWindowTest\/ActualFocusedWindowBlockingTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -296,4 +296,1 @@\n-        if (\"sun.awt.motif.MToolkit\".equals(toolkitClassName)) {\n-            System.out.println(\"Stage 6 - Skiping.\");\n-        } else {\n-            System.out.println(\"Stage 6 in progress...\");\n+        System.out.println(\"Stage 6 in progress...\");\n@@ -301,7 +298,7 @@\n-            \/\/ ---\n-            \/\/ Testing the bug of activating invisible modal Dialog (awt_Window::SetAndActivateModalBlocker).\n-            \/\/ Having some window not excluded from modality, so that it would be blocked.\n-            Frame f = new Frame(\"Aux. Frame\");\n-            f.setSize(100, 100);\n-            setVisible(f, true);\n-            \/\/ ---\n+        \/\/ ---\n+        \/\/ Testing the bug of activating invisible modal Dialog (awt_Window::SetAndActivateModalBlocker).\n+        \/\/ Having some window not excluded from modality, so that it would be blocked.\n+        Frame f = new Frame(\"Aux. Frame\");\n+        f.setSize(100, 100);\n+        setVisible(f, true);\n+        \/\/ ---\n@@ -309,1 +306,4 @@\n-            setVisible(focusedFrame, true);\n+        setVisible(focusedFrame, true);\n+        if (!focusOwner.hasFocus()) {\n+            Util.clickOnComp(focusOwner, robot);\n+            Util.waitForIdle(robot);\n@@ -311,5 +311,1 @@\n-                Util.clickOnComp(focusOwner, robot);\n-                Util.waitForIdle(robot);\n-                if (!focusOwner.hasFocus()) {\n-                    throw new Error(\"Test error: the frame couldn't be focused.\");\n-                }\n+                throw new Error(\"Test error: the frame couldn't be focused.\");\n@@ -317,0 +313,1 @@\n+        }\n@@ -318,3 +315,3 @@\n-            dialog.setModal(true);\n-            dialog.setAutoRequestFocus(false);\n-            focusedFrame.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n+        dialog.setModal(true);\n+        dialog.setAutoRequestFocus(false);\n+        focusedFrame.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n@@ -322,5 +319,5 @@\n-            TestHelper.invokeLaterAndWait(new Runnable() {\n-                    public void run() {\n-                        dialog.setVisible(true);\n-                    }\n-                }, robot);\n+        TestHelper.invokeLaterAndWait(new Runnable() {\n+                public void run() {\n+                    dialog.setVisible(true);\n+                }\n+            }, robot);\n@@ -328,4 +325,2 @@\n-            if (dialog.isFocused()) {\n-                throw new TestFailedException(\"the unblocking dialog shouldn't gain focus but it did!\");\n-            }\n-            setVisible(dialog, false);\n+        if (dialog.isFocused()) {\n+            throw new TestFailedException(\"the unblocking dialog shouldn't gain focus but it did!\");\n@@ -333,0 +328,1 @@\n+        setVisible(dialog, false);\n","filename":"test\/jdk\/java\/awt\/Focus\/AutoRequestFocusTest\/AutoRequestFocusSetVisibleTest.java","additions":26,"deletions":30,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -205,3 +205,2 @@\n-        if (!\"sun.awt.motif.MToolkit\".equals(toolkitClassName)) {\n-            recreateGUI();\n-            auxFrame.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n+        recreateGUI();\n+        auxFrame.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n@@ -209,3 +208,2 @@\n-            Test.setWindows(modalDialog, modalDialog, new Window[] {modalDialog, frame3});\n-            Test.test(\"Test stage 6.1 in progress\", modalDlgButton);\n-        }\n+        Test.setWindows(modalDialog, modalDialog, new Window[] {modalDialog, frame3});\n+        Test.test(\"Test stage 6.1 in progress\", modalDlgButton);\n@@ -218,3 +216,2 @@\n-        if (!\"sun.awt.motif.MToolkit\".equals(toolkitClassName)) {\n-            recreateGUI();\n-            auxFrame.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n+        recreateGUI();\n+        auxFrame.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n@@ -222,3 +219,2 @@\n-            Test.setWindows(frame3, modalDialog, new Window[] {modalDialog, frame3});\n-            Test.test(\"Test stage 6.2 in progress\", modalDlgButton, true);\n-        }\n+        Test.setWindows(frame3, modalDialog, new Window[] {modalDialog, frame3});\n+        Test.test(\"Test stage 6.2 in progress\", modalDlgButton, true);\n@@ -425,1 +421,0 @@\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/AutoRequestFocusTest\/AutoRequestFocusToFrontTest.java","additions":9,"deletions":14,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,5 +50,0 @@\n-        if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-            System.out.println(\"The test is not for MToolkit.\");\n-            return;\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/ModalBlockedStealsFocusTest\/ModalBlockedStealsFocusTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,6 +60,0 @@\n-\n-        if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-            System.out.println(\"No testing on MToolkit.\");\n-            return;\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/ModalExcludedWindowClickTest\/ModalExcludedWindowClickTest.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,6 +59,0 @@\n-\n-        if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-            System.out.println(\"No testing on MToolkit.\");\n-            return;\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/NonFocusableBlockedOwnerTest\/NonFocusableBlockedOwnerTest.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,6 +59,0 @@\n-\n-        if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-            System.out.println(\"No testing on Motif. Test passed.\");\n-            return;\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/SimpleWindowActivationTest\/SimpleWindowActivationTest.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,5 +66,0 @@\n-        if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-            System.out.println(\"No testing on Motif.\");\n-            return;\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/Focus\/WindowUpdateFocusabilityTest\/WindowUpdateFocusabilityTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,1 +108,1 @@\n-                    if (tk.equals(\"sun.awt.X11.XToolkit\") || tk.equals(\"sun.awt.motif.MToolkit\")) {\n+                    if (tk.equals(\"sun.awt.X11.XToolkit\")) {\n@@ -155,1 +155,0 @@\n-\n","filename":"test\/jdk\/java\/awt\/Mouse\/MouseModifiersUnitTest\/ExtraButtonDrag.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n-        if (tk.equals(\"sun.awt.X11.XToolkit\") || tk.equals(\"sun.awt.motif.MToolkit\")) {\n+        if (tk.equals(\"sun.awt.X11.XToolkit\")) {\n","filename":"test\/jdk\/java\/awt\/Robot\/AcceptExtraMouseButtons\/AcceptExtraMouseButtons.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,5 +43,0 @@\n-        String toolkit = Toolkit.getDefaultToolkit().getClass().getName();\n-        if ( toolkit.equals(\"sun.awt.motif.MToolkit\")){\n-            System.out.println(\"This test is for XToolkit and WToolkit only. Now using \" + toolkit + \". Automatically passed.\");\n-            return;\n-        }\n","filename":"test\/jdk\/java\/awt\/Window\/GrabSequence\/GrabSequence.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -413,2 +413,1 @@\n-     * The values directly map to the ones of\n-     * sun.awt.X11.XWM & sun.awt.motif.MToolkit classes.\n+     * The values directly map to the ones of sun.awt.X11.XWM class.\n@@ -441,2 +440,0 @@\n-            } else if (\"sun.awt.motif.MToolkit\".equals(Toolkit.getDefaultToolkit().getClass().getName())) {\n-                clazz = Class.forName(\"sun.awt.motif.MToolkit\");\n@@ -454,1 +451,0 @@\n-            \/\/ No MToolkit anymore: nothing to do about it.\n","filename":"test\/jdk\/java\/awt\/regtesthelpers\/Util.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"}]}
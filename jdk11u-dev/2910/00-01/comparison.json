{"files":[{"patch":"@@ -115,1 +115,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/DatagramSocket\/UnreferencedDatagramSockets.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/IPSupport\/MinimumPermissions.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Inet4Address\/PingThis.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-            IPSupport.skipIfCurrentConfigurationIsInvalid();\n+            IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/InetAddress\/GetLocalHostWithSM.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/MulticastSocket\/JoinLeave.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -174,1 +174,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/MulticastSocket\/Promiscuous.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/MulticastSocket\/SetGetNetworkInterfaceTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -162,1 +162,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/MulticastSocket\/Test.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -110,1 +110,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/MulticastSocket\/UnreferencedMulticastSockets.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/NetworkInterface\/NetworkInterfaceStreamTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/NetworkInterface\/Test.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/ServerSocket\/UnreferencedSockets.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -158,1 +158,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/AddressTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/B6210227.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/CloseAvailable.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/DeadlockTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/GetLocalAddress.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/HttpProxy.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/InheritHandle.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/InheritTimeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -110,1 +110,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/LingerTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/LinkLocal.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/ProxyCons.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/RST.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-    IPSupport.skipIfCurrentConfigurationIsInvalid();\n+    IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/ReadTimeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/RejectIPv6.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/SetSoLinger.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/ShutdownInput.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/SocksConnectTimeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/TestAfterClose.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/TestClose.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/TestTcpNoDelay.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/Timeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/TrafficClass.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/UrgentDataTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/AsyncClose.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/BrokenPipe.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -231,1 +231,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/setReuseAddress\/Basic.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/Socket\/setReuseAddress\/Restart.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketInputStream\/SocketClosedException.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-    IPSupport.skipIfCurrentConfigurationIsInvalid();\n+    IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketInputStream\/SocketTimeout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketOption\/ImmutableOptions.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketOption\/MinimumRcvBufferSize.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -283,1 +283,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketOption\/OptionsTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketOption\/SupportedOptionsSet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/net\/SocketOption\/UnsupportedOptionsTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/Disconnect.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -243,1 +243,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/MulticastSendReceiveTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -196,1 +196,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/Promiscuous.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-        IPSupport.skipIfCurrentConfigurationIsInvalid();\n+        IPSupport.throwSkippedExceptionIfNonOperational();\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/UseDGWithIPv6.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,1 +32,0 @@\n-import java.net.ServerSocket;\n@@ -50,0 +49,1 @@\n+    private static final boolean preferIPv6Addresses;\n@@ -67,0 +67,2 @@\n+        preferIPv6Addresses = runPrivilegedAction(() -> Boolean.parseBoolean(\n+                System.getProperty(\"java.net.preferIPv6Addresses\")));\n@@ -115,0 +117,7 @@\n+    \/**\n+     * Whether or not the \"java.net.preferIPv6Addresses\" system property is set.\n+     *\/\n+    public static final boolean preferIPv6Addresses() {\n+        return preferIPv6Addresses;\n+    }\n+\n@@ -126,1 +135,11 @@\n-     * Throws a jtreg.SkippedException if the current networking configuration is invalid.\n+     * Ensures that the platform supports the ability to create a\n+     * minimally-operational socket whose protocol is either one of IPv4\n+     * or IPv6.\n+     *\n+     * <p> A minimally-operation socket is one that can be created and\n+     * bound to an IP-specific loopback address. IP support is\n+     * considered non-operational if a socket cannot be bound to either\n+     * one of, an IPv4 loopback address, or the IPv6 loopback address.\n+     *\n+     * @throws SkippedException if the current networking configuration\n+     *         is non-operational\n@@ -128,1 +147,1 @@\n-    public static void skipIfCurrentConfigurationIsInvalid() throws SkippedException {\n+    public static void throwSkippedExceptionIfNonOperational() throws SkippedException {\n@@ -145,0 +164,1 @@\n+        out.println(\"preferIPv6Addresses: \" + preferIPv6Addresses());\n","filename":"test\/lib\/jdk\/test\/lib\/net\/IPSupport.java","additions":24,"deletions":4,"binary":false,"changes":28,"status":"modified"}]}
{"files":[{"patch":"@@ -574,3 +574,1 @@\n-                    ProtocolVersion.TLS10,\n-                    ProtocolVersion.SSL30,\n-                    ProtocolVersion.SSL20Hello\n+                    ProtocolVersion.TLS10\n@@ -640,2 +638,1 @@\n-                    ProtocolVersion.TLS10,\n-                    ProtocolVersion.SSL30\n+                    ProtocolVersion.TLS10\n@@ -680,2 +677,1 @@\n-                    ProtocolVersion.TLS10,\n-                    ProtocolVersion.SSL30\n+                    ProtocolVersion.TLS10\n@@ -723,2 +719,1 @@\n-                    ProtocolVersion.TLS10,\n-                    ProtocolVersion.SSL30\n+                    ProtocolVersion.TLS10\n@@ -767,2 +762,1 @@\n-                    ProtocolVersion.TLS10,\n-                    ProtocolVersion.SSL30\n+                    ProtocolVersion.TLS10\n@@ -930,2 +924,1 @@\n-                            ProtocolVersion.TLS10,\n-                            ProtocolVersion.SSL30\n+                            ProtocolVersion.TLS10\n@@ -947,3 +940,1 @@\n-                            ProtocolVersion.TLS10,\n-                            ProtocolVersion.SSL30,\n-                            ProtocolVersion.SSL20Hello\n+                            ProtocolVersion.TLS10\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLContextImpl.java","additions":7,"deletions":16,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @bug 4495742\n+ * @bug 4495742 8190492\n@@ -307,0 +307,5 @@\n+        \/\/ Enable all supported protocols on server side to test SSLv3\n+        if (\"SSLv3\".equals(tlsProtocol)) {\n+            serverEngine.setEnabledProtocols(serverEngine.getSupportedProtocols());\n+        }\n+\n","filename":"test\/jdk\/javax\/net\/ssl\/SSLEngine\/NoAuthClientAuth.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @bug 7068321\n+ * @bug 7068321 8190492\n@@ -83,0 +83,3 @@\n+        \/\/ Enable all supported protocols on server side to test SSLv3\n+        ssle.setEnabledProtocols(ssle.getSupportedProtocols());\n+\n","filename":"test\/jdk\/javax\/net\/ssl\/ServerName\/SSLEngineExplorer.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @bug 7068321\n+ * @bug 7068321 8190492\n@@ -151,0 +151,3 @@\n+        \/\/ Enable all supported protocols on server side to test SSLv3\n+        sslSocket.setEnabledProtocols(sslSocket.getSupportedProtocols());\n+\n","filename":"test\/jdk\/javax\/net\/ssl\/ServerName\/SSLSocketExplorer.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,0 +54,4 @@\n+\n+        \/\/ JDK-8190492: Enable all supported protocols on server side to test SSLv3\n+        serverSocket.setEnabledProtocols(serverSocket.getSupportedProtocols());\n+\n","filename":"test\/jdk\/javax\/net\/ssl\/sanity\/interop\/JSSEServer.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,0 +55,4 @@\n+\n+        \/\/ JDK-8190492: Enable all supported protocols on server side to test SSLv3\n+        serverSocket.setEnabledProtocols(serverSocket.getSupportedProtocols());\n+\n","filename":"test\/jdk\/sun\/security\/pkcs11\/sslecc\/JSSEServer.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 4671289\n+ * @bug 4671289 8190492\n@@ -91,0 +91,3 @@\n+        \/\/ Enable all supported protocols on server side to test SSLv3\n+        sslServerSocket.setEnabledProtocols(sslServerSocket.getSupportedProtocols());\n+\n","filename":"test\/jdk\/sun\/security\/ssl\/ProtocolVersion\/HttpsProtocols.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @bug 7093640\n+ * @bug 7093640 8190492\n@@ -57,1 +57,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\"}),\n+                new String[] {\"TLSv1\"}),\n@@ -59,1 +59,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\"}),\n+                new String[] {\"TLSv1\"}),\n@@ -61,1 +61,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\"}),\n@@ -63,1 +63,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n@@ -65,1 +65,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -73,0 +73,2 @@\n+        final static String[] serverDefaultProtocols = new String[] {\n+                \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"};\n@@ -83,1 +85,1 @@\n-            System.out.println(\"\\tError: No protocols\");\n+            System.out.println(\"\\t\\t\\t*** Error: No protocols\");\n@@ -88,1 +90,1 @@\n-            System.out.println(\"\\tError: Expected to get protocols \" +\n+            System.out.println(\"\\t\\t\\t*** Error: Expected to get protocols \" +\n@@ -92,1 +94,2 @@\n-        System.out.println(\"\\t  Protocols found \" + Arrays.toString(target));\n+        System.out.println(\"\\t\\t\\t  Protocols found \" + Arrays.toString(target));\n+        System.out.println(\"\\t\\t\\t--> Protocol check passed!!\");\n@@ -117,1 +120,1 @@\n-            System.out.println(\"\\tError: No cipher suites\");\n+            System.out.println(\"\\t\\t\\t*** Error: No cipher suites\");\n@@ -121,0 +124,1 @@\n+        System.out.println(\"\\t\\t\\t--> Cipher check passed!!\");\n@@ -131,1 +135,2 @@\n-            System.out.println(\"Checking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"\\n\\nChecking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"============================\");\n@@ -145,0 +150,1 @@\n+            System.out.println(\"\\t\\tChecking SSLContext.getDefaultSSLParameters().getProtocols\");\n@@ -154,1 +160,1 @@\n-            System.out.println(\"\\tChecking supported SSLParameters\");\n+            System.out.println(\"\\t\\tChecking supported SSLParameters\");\n@@ -169,1 +175,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSSLParameters()\");\n@@ -180,1 +186,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -184,1 +190,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -188,1 +194,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -193,1 +199,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -203,1 +209,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getSSLParameters()\");\n@@ -214,1 +220,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -218,1 +224,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -222,1 +228,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -227,1 +233,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -237,1 +243,1 @@\n-            System.out.println(\"\\tChecking SSLServerSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLServerSocket.getSSLParameters()\");\n@@ -243,1 +249,1 @@\n-            failed |= !checkProtocols(protocols, cv.supportedProtocols);\n+            failed |= !checkProtocols(protocols, cv.serverDefaultProtocols);\n@@ -248,1 +254,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -250,1 +256,1 @@\n-            failed |= !checkProtocols(protocols, cv.supportedProtocols);\n+            failed |= !checkProtocols(protocols, cv.serverDefaultProtocols);\n@@ -252,1 +258,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -256,1 +262,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -261,1 +267,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -268,2 +274,0 @@\n-        } else {\n-            System.out.println(\"\\t... Success\");\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLContextImpl\/CustomizedDefaultProtocols.java","additions":36,"deletions":32,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+ * @bug 8196584 8190492\n@@ -51,0 +52,2 @@\n+    final static String[] serverDefaultProtocols = new String[] {\n+            \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"};\n@@ -55,1 +58,1 @@\n-                new String[]{\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[]{\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -58,1 +61,1 @@\n-                new String[]{\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[]{\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -60,2 +63,2 @@\n-                supportedProtocols,\n-                new String[]{\"SSLv3\", \"TLSv1\"}),\n+                serverDefaultProtocols,\n+                new String[]{\"TLSv1\"}),\n@@ -63,2 +66,2 @@\n-                supportedProtocols,\n-                new String[]{\"SSLv3\", \"TLSv1\"}),\n+                serverDefaultProtocols,\n+                new String[]{\"TLSv1\"}),\n@@ -66,2 +69,2 @@\n-                supportedProtocols,\n-                new String[]{\"SSLv3\", \"TLSv1\", \"TLSv1.1\"}),\n+                serverDefaultProtocols,\n+                new String[]{\"TLSv1\", \"TLSv1.1\"}),\n@@ -69,2 +72,2 @@\n-                supportedProtocols,\n-                new String[]{\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n+                serverDefaultProtocols,\n+                new String[]{\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n@@ -72,2 +75,2 @@\n-                supportedProtocols,\n-                new String[]{\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                serverDefaultProtocols,\n+                new String[]{\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -76,1 +79,1 @@\n-                new String[]{\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"});\n+                new String[]{\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"});\n@@ -93,1 +96,1 @@\n-            System.out.println(\"\\tError: No protocols\");\n+            System.out.println(\"\\t\\t\\t*** Error: No protocols\");\n@@ -98,1 +101,1 @@\n-            System.out.println(\"\\tError: Expected to get protocols \" +\n+            System.out.println(\"\\t\\t\\t*** Error: Expected to get protocols \" +\n@@ -102,1 +105,3 @@\n-        System.out.println(\"\\t  Protocols found \" + Arrays.toString(target));\n+        System.out.println(\"\\t\\t\\t  Protocols found \" + Arrays.toString(target));\n+        System.out.println(\"\\t\\t\\t--> Protocol check passed!!\");\n+\n@@ -126,1 +131,1 @@\n-            System.out.println(\"\\tError: No cipher suites\");\n+            System.out.println(\"\\t\\t\\t*** Error: No cipher suites\");\n@@ -130,0 +135,1 @@\n+        System.out.println(\"\\t\\t\\t--> Cipher check passed!!\");\n@@ -148,1 +154,2 @@\n-            System.out.println(\"Checking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"\\n\\nChecking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"============================\");\n@@ -162,0 +169,1 @@\n+            System.out.println(\"\\t\\tChecking SSLContext.getDefaultSSLParameters().getProtocols\");\n@@ -171,1 +179,1 @@\n-            System.out.println(\"\\tChecking supported SSLParameters\");\n+            System.out.println(\"\\t\\tChecking supported SSLParameters\");\n@@ -186,1 +194,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSSLParameters()\");\n@@ -197,1 +205,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -201,1 +209,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -205,1 +213,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -210,1 +218,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -220,1 +228,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getSSLParameters()\");\n@@ -231,1 +239,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getEnabledProtocols()\");\n@@ -235,1 +243,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getEnabledCipherSuites()\");\n@@ -239,1 +247,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getSupportedProtocols()\");\n@@ -244,1 +252,1 @@\n-                    \"\\tChecking SSLSocket.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLSocket.getSupportedCipherSuites()\");\n@@ -254,1 +262,1 @@\n-            System.out.println(\"\\tChecking SSLServerSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLServerSocket.getSSLParameters()\");\n@@ -265,1 +273,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -269,1 +277,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -273,1 +281,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -278,1 +286,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -284,2 +292,0 @@\n-            } else {\n-                System.out.println(\"\\t... Success\");\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLContextImpl\/CustomizedServerDefaultProtocols.java","additions":43,"deletions":37,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,1 +52,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -54,1 +54,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -56,1 +56,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\"}),\n+                new String[] {\"TLSv1\"}),\n@@ -58,1 +58,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\"}),\n+                new String[] {\"TLSv1\"}),\n@@ -60,1 +60,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\"}),\n@@ -62,1 +62,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n@@ -64,1 +64,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -66,1 +66,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"});\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"});\n@@ -72,0 +72,2 @@\n+        final static String[] serverDefaultProtocols = new String[] {\n+                \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"};\n@@ -82,1 +84,1 @@\n-            System.out.println(\"\\tError: No protocols\");\n+            System.out.println(\"\\t\\t\\t*** Error: No protocols\");\n@@ -87,1 +89,1 @@\n-            System.out.println(\"\\tError: Expected to get protocols \" +\n+            System.out.println(\"\\t\\t\\t*** Error: Expected to get protocols \" +\n@@ -91,1 +93,2 @@\n-        System.out.println(\"\\t  Protocols found \" + Arrays.toString(target));\n+        System.out.println(\"\\t\\t\\t  Protocols found \" + Arrays.toString(target));\n+        System.out.println(\"\\t\\t\\t--> Protocol check passed!!\");\n@@ -110,0 +113,1 @@\n+        System.out.println(\"\\t\\t\\t--> Cipher check passed!!\");\n@@ -116,1 +120,1 @@\n-            System.out.println(\"\\tError: No cipher suites\");\n+            System.out.println(\"\\t\\t\\t*** Error: No cipher suites\");\n@@ -130,1 +134,2 @@\n-            System.out.println(\"Checking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"\\n\\nChecking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"============================\");\n@@ -144,0 +149,1 @@\n+            System.out.println(\"\\t\\tChecking SSLContext.getDefaultSSLParameters().getProtocols\");\n@@ -153,1 +159,1 @@\n-            System.out.println(\"\\tChecking supported SSLParameters\");\n+            System.out.println(\"\\t\\tChecking SSLContext.getSupportedSSLParameters().getProtocols()\");\n@@ -168,1 +174,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSSLParameters()\");\n@@ -179,1 +185,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -183,1 +189,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -187,1 +193,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -192,1 +198,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -202,1 +208,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getSSLParameters()\");\n@@ -213,1 +219,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -217,1 +223,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -221,1 +227,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -226,1 +232,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -236,1 +242,1 @@\n-            System.out.println(\"\\tChecking SSLServerSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLServerSocket.getSSLParameters()\");\n@@ -242,1 +248,1 @@\n-            failed |= !checkProtocols(protocols, cv.supportedProtocols);\n+            failed |= !checkProtocols(protocols, cv.serverDefaultProtocols);\n@@ -247,1 +253,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -249,1 +255,1 @@\n-            failed |= !checkProtocols(protocols, cv.supportedProtocols);\n+            failed |= !checkProtocols(protocols, cv.serverDefaultProtocols);\n@@ -251,1 +257,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -255,1 +261,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -260,1 +266,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -267,2 +273,0 @@\n-        } else {\n-            System.out.println(\"\\t... Success\");\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLContextImpl\/DefaultEnabledProtocols.java","additions":38,"deletions":34,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @bug 7093640\n+ * @bug 7093640 8190492\n@@ -57,1 +57,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\"}),\n+                new String[] {\"TLSv1\"}),\n@@ -59,1 +59,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\"}),\n+                new String[] {\"TLSv1\"}),\n@@ -61,1 +61,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\"}),\n@@ -63,1 +63,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\"}),\n@@ -65,1 +65,1 @@\n-                new String[] {\"SSLv3\", \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n+                new String[] {\"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"}),\n@@ -73,0 +73,2 @@\n+        final static String[] serverDefaultProtocols = new String[] {\n+                \"TLSv1\", \"TLSv1.1\", \"TLSv1.2\", \"TLSv1.3\"};\n@@ -83,1 +85,1 @@\n-            System.out.println(\"\\tError: No protocols\");\n+            System.out.println(\"\\t\\t\\t*** Error: No protocols\");\n@@ -88,1 +90,1 @@\n-            System.out.println(\"\\tError: Expected to get protocols \" +\n+            System.out.println(\"\\t\\t\\t*** Error: Expected to get protocols \" +\n@@ -90,1 +92,1 @@\n-            System.out.println(\"\\tError: The actual protocols \" +\n+            System.out.println(\"\\t\\t\\t*** Error: The actual protocols \" +\n@@ -112,0 +114,1 @@\n+        System.out.println(\"\\t\\t\\t--> Protocol check passed!!\");\n@@ -118,1 +121,1 @@\n-            System.out.println(\"\\tError: No cipher suites\");\n+            System.out.println(\"\\t\\t\\t*** Error: No cipher suites\");\n@@ -122,0 +125,1 @@\n+        System.out.println(\"\\t\\t\\t--> Cipher check passed!!\");\n@@ -132,1 +136,2 @@\n-            System.out.println(\"Checking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"\\n\\nChecking SSLContext of \" + cv.contextVersion);\n+            System.out.println(\"============================\");\n@@ -146,0 +151,1 @@\n+            System.out.println(\"\\t\\tChecking SSLContext.getDefaultSSLParameters().getProtocols\");\n@@ -155,1 +161,1 @@\n-            System.out.println(\"\\tChecking supported SSLParameters\");\n+            System.out.println(\"\\t\\tChecking SSLContext.getSupportedSSLParameters().getProtocols()\");\n@@ -169,2 +175,2 @@\n-            System.out.println(\"\\tChecking SSLEngine of this SSLContext\");\n-            System.out.println(\"\\tChecking SSLEngine.getSSLParameters()\");\n+            System.out.println(\"\\tChecking SSLEngine of this SSLContext - client mode\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSSLParameters()\");\n@@ -181,1 +187,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -185,1 +191,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -189,1 +195,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -194,1 +200,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -204,1 +210,1 @@\n-            System.out.println(\"\\tChecking SSLSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLSocket.getSSLParameters()\");\n@@ -215,1 +221,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -219,1 +225,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -223,1 +229,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -228,1 +234,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -238,1 +244,1 @@\n-            System.out.println(\"\\tChecking SSLServerSocket.getSSLParameters()\");\n+            System.out.println(\"\\t\\tChecking SSLServerSocket.getSSLParameters()\");\n@@ -244,1 +250,1 @@\n-            failed |= !checkProtocols(protocols, cv.supportedProtocols);\n+            failed |= !checkProtocols(protocols, cv.serverDefaultProtocols);\n@@ -249,1 +255,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledProtocols()\");\n@@ -251,1 +257,1 @@\n-            failed |= !checkProtocols(protocols, cv.supportedProtocols);\n+            failed |= !checkProtocols(protocols, cv.serverDefaultProtocols);\n@@ -253,1 +259,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getEnabledCipherSuites()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getEnabledCipherSuites()\");\n@@ -257,1 +263,1 @@\n-            System.out.println(\"\\tChecking SSLEngine.getSupportedProtocols()\");\n+            System.out.println(\"\\t\\tChecking SSLEngine.getSupportedProtocols()\");\n@@ -262,1 +268,1 @@\n-                    \"\\tChecking SSLEngine.getSupportedCipherSuites()\");\n+                    \"\\t\\tChecking SSLEngine.getSupportedCipherSuites()\");\n@@ -269,2 +275,0 @@\n-        } else {\n-            System.out.println(\"\\t... Success\");\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLContextImpl\/NoOldVersionContext.java","additions":37,"deletions":33,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2011, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * @bug 4403428\n+ * @bug 4403428 8190492\n@@ -123,0 +123,6 @@\n+\n+        \/\/ Enable all supported protocols on server side to test SSLv3\n+        if (\"SSLv3\".equals(tlsProtocol)) {\n+            sslSocket.setEnabledProtocols(sslSocket.getSupportedProtocols());\n+        }\n+\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSocketImpl\/InvalidateServerSessionRenegotiate.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n- * @bug 7188658\n+ * @bug 7188658 8190492\n@@ -124,0 +124,6 @@\n+\n+        \/\/ Enable all supported protocols on server side to test SSLv3\n+        if (\"SSLv3\".equals(tlsProtocol)) {\n+            sslSocket.setEnabledProtocols(sslSocket.getSupportedProtocols());\n+        }\n+\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSocketImpl\/NoImpactServerRenego.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"}]}
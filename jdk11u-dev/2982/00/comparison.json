{"files":[{"patch":"@@ -27,0 +27,3 @@\n+# Import common utils\n+. .github\/scripts\/report-utils.sh\n+\n@@ -33,0 +36,4 @@\n+# Collect hs_errs for build-time crashes, e.g. javac, jmod, jlink, CDS.\n+# These usually land in make\/\n+hs_err_files=$(ls make\/hs_err*.log 2> \/dev\/null || true)\n+\n@@ -49,0 +56,12 @@\n+  for hs_err in $hs_err_files; do\n+    echo \"<details><summary><b>View HotSpot error log: \"$hs_err\"<\/b><\/summary>\"\n+    echo ''\n+    echo '```'\n+    echo \"$hs_err:\"\n+    echo ''\n+    cat \"$hs_err\"\n+    echo '```'\n+    echo '<\/details>'\n+    echo ''\n+  done\n+\n@@ -52,0 +71,2 @@\n+\n+truncate_summary\n","filename":".github\/scripts\/gen-build-failure-report.sh","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -27,0 +27,3 @@\n+# Import common utils\n+. .github\/scripts\/report-utils.sh\n+\n@@ -78,14 +81,0 @@\n-# With many failures, the summary can easily exceed 1024 kB, the limit set by Github\n-# Trim it down if so.\n-summary_size=$(wc -c < $GITHUB_STEP_SUMMARY)\n-if [[ $summary_size -gt 1000000 ]]; then\n-  # Trim to below 1024 kB, and cut off after the last detail group\n-  head -c 1000000 $GITHUB_STEP_SUMMARY | tac | sed -n -e '\/<\\\/details>\/,$ p' | tac > $GITHUB_STEP_SUMMARY.tmp\n-  mv $GITHUB_STEP_SUMMARY.tmp $GITHUB_STEP_SUMMARY\n-  (\n-    echo ''\n-    echo ':x: **WARNING: Summary is too large and has been truncated.**'\n-    echo ''\n-  )  >> $GITHUB_STEP_SUMMARY\n-fi\n-\n@@ -93,0 +82,2 @@\n+\n+truncate_summary\n","filename":".github\/scripts\/gen-test-results.sh","additions":5,"deletions":14,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -0,0 +1,41 @@\n+#!\/bin\/bash\n+#\n+# Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+function truncate_summary() {\n+  # With large hs_errs, the summary can easily exceed 1024 kB, the limit set by Github\n+  # Trim it down if so.\n+  summary_size=$(wc -c < $GITHUB_STEP_SUMMARY)\n+  if [[ $summary_size -gt 1000000 ]]; then\n+    # Trim to below 1024 kB, and cut off after the last detail group\n+    head -c 1000000 $GITHUB_STEP_SUMMARY | tac | sed -n -e '\/<\\\/details>\/,$ p' | tac > $GITHUB_STEP_SUMMARY.tmp\n+    mv $GITHUB_STEP_SUMMARY.tmp $GITHUB_STEP_SUMMARY\n+    (\n+      echo ''\n+      echo ':x: **WARNING: Summary is too large and has been truncated.**'\n+      echo ''\n+    )  >> $GITHUB_STEP_SUMMARY\n+  fi\n+}\n","filename":".github\/scripts\/report-utils.sh","additions":41,"deletions":0,"binary":false,"changes":41,"status":"added"}]}
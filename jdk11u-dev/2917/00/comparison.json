{"files":[{"patch":"@@ -27,0 +27,1 @@\n+ * @library \/test\/lib\n@@ -38,0 +39,1 @@\n+import jdk.test.lib.net.IPSupport;\n@@ -83,5 +85,7 @@\n-        \/\/ SOCKS V4\n-        System.setProperty(\"socksProxyVersion\", Integer.toString(4));\n-        this.expected = 4;\n-        check(new Socket(), addr, port);\n-        check(new Socket(proxy), addr, port);\n+        if (IPSupport.hasIPv4()) {\n+            \/\/ SOCKS V4 (requires IPv4)\n+            System.setProperty(\"socksProxyVersion\", \"4\");\n+            this.expected = 4;\n+            check(new Socket(), addr, port);\n+            check(new Socket(proxy), addr, port);\n+        }\n@@ -90,1 +94,1 @@\n-        System.setProperty(\"socksProxyVersion\", Integer.toString(5));\n+        System.setProperty(\"socksProxyVersion\", \"5\");\n","filename":"test\/jdk\/java\/net\/Socks\/SocksProxyVersion.java","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+import java.net.InetAddress;\n@@ -33,1 +34,1 @@\n- * A simple socks4 proxy for traveling socket.\n+ * A simple socks proxy for traveling socket.\n@@ -52,1 +53,2 @@\n-        System.setProperty(\"socksProxyHost\", \"127.0.0.1\");\n+        System.setProperty(\"socksProxyHost\",\n+                InetAddress.getLoopbackAddress().getHostAddress());\n@@ -55,1 +57,1 @@\n-        System.setProperty(\"socksProxyVersion\", \"4\");\n+        System.setProperty(\"socksProxyVersion\", \"5\");\n","filename":"test\/jdk\/sun\/security\/x509\/URICertStore\/SocksProxy.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+#include \"utilities\/globalDefinitions.hpp\"\n@@ -119,5 +120,1 @@\n-    ResourceMark rm;\n-\n-    char* buf = NEW_RESOURCE_ARRAY(char, len + 1);\n-    strncpy(buf, str, len);\n-    buf[len] = '\\0';\n+    const int maxprint = 64;\n@@ -125,1 +122,4 @@\n-      \"Integer parsing error in command argument '%s'. Could not parse: %s.\\n\", _name, buf);\n+      \"Integer parsing error in command argument '%s'. Could not parse: %.*s%s.\\n\", _name,\n+      MIN2((int)len, maxprint),\n+      (str == NULL ? \"<null>\" : str),\n+      (len > maxprint ? \"...\" : \"\"));\n","filename":"src\/hotspot\/share\/services\/diagnosticArgument.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}
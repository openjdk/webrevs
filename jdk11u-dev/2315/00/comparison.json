{"files":[{"patch":"@@ -37,0 +37,2 @@\n+import java.nio.file.Files;\n+import java.nio.file.FileStore;\n@@ -106,2 +108,9 @@\n-        \/\/ relative path length within the 256 limit\n-        char[] chars = new char[255];\n+        \/\/ relative path length within the file system limit\n+        int fn_max_length = 255;\n+        \/\/ In AUFS file system, the maximal file name length is 242\n+        FileStore store = Files.getFileStore(new File(\".\").toPath());\n+        String fs_type = store.type();\n+        if (\"aufs\".equals(fs_type)) {\n+            fn_max_length = 242;\n+        }\n+        char[] chars = new char[fn_max_length];\n","filename":"test\/hotspot\/jtreg\/runtime\/LoadClass\/LongBCP.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"}]}
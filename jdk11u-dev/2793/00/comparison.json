{"files":[{"patch":"@@ -0,0 +1,49 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4143592\n+ * @summary Tests the method add(Component, int) of JMenu for insertion\n+            the given component to a specified position of menu\n+ * @run main bug4143592\n+ *\/\n+\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.JMenuItem;\n+\n+public class bug4143592 {\n+\n+    public static void main(String[] argv) {\n+        JMenuBar mb = new JMenuBar();\n+        JMenu m = mb.add(new JMenu(\"Order\"));\n+        m.add(\"beginning\");\n+        m.add(\"middle\");\n+        m.add(\"end\");\n+        m.add(new JMenuItem(\"in between\"), 1);\n+        if (!m.getItem(1).getText().equals(\"in between\")) {\n+            throw new RuntimeException(\"Item was inserted incorrectly.\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenu\/bug4143592.java","additions":49,"deletions":0,"binary":false,"changes":49,"status":"added"},{"patch":"@@ -0,0 +1,50 @@\n+\/*\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4148154\n+ * @summary Tests that menu items created by JMenu.add(Action) method\n+           have right HorizontalTextPosition.\n+ * @run main bug4148154\n+ *\/\n+\n+import java.awt.event.ActionEvent;\n+import javax.swing.AbstractAction;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuItem;\n+\n+public class bug4148154\n+{\n+    public static void main(String[] args) {\n+        JMenu menu = new JMenu();\n+        JMenuItem mi = menu.add(new AbstractAction() {\n+                public void actionPerformed(ActionEvent ev) {}\n+            });\n+        if (mi.getHorizontalTextPosition() != JMenu.LEADING &&\n+            mi.getHorizontalTextPosition() != JMenu.TRAILING) {\n+\n+            throw new RuntimeException(\"Failed:\");\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenu\/bug4148154.java","additions":50,"deletions":0,"binary":false,"changes":50,"status":"added"},{"patch":"@@ -0,0 +1,43 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4156316\n+ * @summary checks if JMenu.add(Component) throws NullPointerException\n+ * @run main bug4156316\n+ *\/\n+\n+import javax.swing.JComponent;\n+import javax.swing.JMenu;\n+\n+public class bug4156316 {\n+\n+    public static void main(String[] args) {\n+        JMenu m = new JMenu(\"test\");\n+        m.add(new XComponent());\n+    }\n+\n+    static class XComponent extends JComponent {\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenu\/bug4156316.java","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4161866\n+ * @summary Method AccessibleJMenu.removeAccessibleSelection does not\n+            remove selections correctly\n+ * @run main bug4161866\n+ *\/\n+\n+import javax.accessibility.AccessibleSelection;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+\n+public class bug4161866 {\n+\n+  public static void main(String[] argv) {\n+      JMenuBar mb = new JMenuBar();\n+      JMenu mnu = new JMenu();\n+      AccessibleSelection acs = mnu.getAccessibleContext().\n+              getAccessibleSelection();\n+      mb.add(mnu);\n+      JMenu jm = new JMenu();\n+      mnu.add(jm);\n+      jm.setSelected(true);\n+      acs.addAccessibleSelection(0);\n+      if (!jm.isSelected()) {\n+          throw new RuntimeException(\"Selection should be non-empty...\");\n+      }\n+\n+      acs.removeAccessibleSelection(0);\n+      if (jm.isSelected()) {\n+          throw new RuntimeException(\"Selection still non-empty after \" +\n+                  \"it was removed\");\n+      }\n+  }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenu\/bug4161866.java","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+\/*\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4244796\n+ * @summary Tests that JMenu has JMenu(Action) constructor\n+ * @run main bug4244796\n+ *\/\n+\n+import java.awt.event.ActionEvent;\n+import java.beans.PropertyChangeListener;\n+import javax.swing.Action;\n+import javax.swing.JMenu;\n+\n+public class bug4244796 {\n+\n+    \/**\n+      * Auxilliary class implementing Action\n+     *\/\n+    static class NullAction implements Action {\n+        public void addPropertyChangeListener(\n+                       PropertyChangeListener listener) {}\n+        public void removePropertyChangeListener(\n+                       PropertyChangeListener listener) {}\n+        public void putValue(String key, Object value) {}\n+        public void setEnabled(boolean b) {}\n+        public void actionPerformed(ActionEvent e) {}\n+\n+        public Object getValue(String key) { return null; }\n+        public boolean isEnabled() { return false; }\n+    }\n+\n+    public static void main(String[] argv) {\n+        Action action = new NullAction();\n+        JMenu menu = new JMenu(action);\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenu\/bug4244796.java","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,99 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4767393\n+ * @summary Disabled JMenu is selectable via mnemonic\n+ * @key headful\n+ * @run main bug4767393\n+ *\/\n+\n+import java.awt.Robot;\n+import java.awt.event.KeyEvent;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.SwingUtilities;\n+\n+public class bug4767393 {\n+\n+    public static JFrame mainFrame;\n+    public static JMenuBar menuBar;\n+    public static JMenu menu;\n+    public static JMenu disabled;\n+    public static volatile boolean disabledMenuSelected = true;\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            Robot robo = new Robot();\n+            robo.setAutoDelay(100);\n+            SwingUtilities.invokeAndWait(() -> {\n+                mainFrame = new JFrame(\"Bug4767393\");\n+                menuBar = new JMenuBar();\n+                menu = new JMenu(\"File\");\n+                disabled = new JMenu(\"Disabled\");\n+                menuBar.add(menu);\n+                menu.add(\"Menu Item 1\");\n+                menu.add(\"Menu Item 2\");\n+                disabled.setEnabled(false);\n+                disabled.setMnemonic('D');\n+                disabled.add(\"Dummy menu item\");\n+                menu.add(disabled);\n+                menu.add(\"Menu Item 3\");\n+                menu.add(\"Menu Item 4\");\n+                mainFrame.setJMenuBar(menuBar);\n+\n+                mainFrame.setSize(200, 200);\n+                mainFrame.setLocationRelativeTo(null);\n+                mainFrame.setVisible(true);\n+            });\n+            robo.waitForIdle();\n+            robo.delay(500);\n+\n+            robo.keyPress(KeyEvent.VK_F10);\n+            robo.keyRelease(KeyEvent.VK_F10);\n+            robo.keyPress(KeyEvent.VK_DOWN);\n+            robo.keyRelease(KeyEvent.VK_DOWN);\n+            robo.delay(500);\n+            robo.keyPress(KeyEvent.VK_D);\n+            robo.keyRelease(KeyEvent.VK_D);\n+            robo.delay(100);\n+\n+            SwingUtilities.invokeAndWait(() -> {\n+                disabledMenuSelected = disabled.isSelected();\n+            });\n+\n+            if (disabledMenuSelected) {\n+                throw new RuntimeException(\"Disabled JMenu is selected\" +\n+                        \" by the mnemonic. Test failed.\");\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (mainFrame != null) {\n+                    mainFrame.dispose();\n+                }\n+            });\n+        }\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JMenu\/bug4767393.java","additions":99,"deletions":0,"binary":false,"changes":99,"status":"added"}]}
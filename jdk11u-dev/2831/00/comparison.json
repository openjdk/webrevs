{"files":[{"patch":"@@ -752,1 +752,1 @@\n-      $$(JAVA) $$($1_JTREG_LAUNCHER_OPTIONS) \\\n+      $$(JTREG_JAVA) $$($1_JTREG_LAUNCHER_OPTIONS) \\\n","filename":"make\/RunTests.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,0 +125,1 @@\n+$(eval $(call SetupVariable,JTREG_JDK,$(BOOT_JDK)))\n@@ -297,0 +298,1 @@\n+    JTREG_JDK := $(JTREG_JDK), \\\n","filename":"make\/RunTestsPrebuilt.gmk","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -128,0 +128,2 @@\n+JTREG_JAVA := $(FIXPATH) $(JTREG_JDK)\/bin\/java $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)\n+\n","filename":"make\/RunTestsPrebuiltSpec.gmk","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -148,0 +148,29 @@\n+  # Specify a JDK for running jtreg. Defaults to the BOOT_JDK.\n+  AC_ARG_WITH(jtreg-jdk, [AS_HELP_STRING([--with-jdk],\n+    [path to JDK for running jtreg @<:@BOOT_JDK@:>@])])\n+\n+  AC_MSG_CHECKING([for jtreg jdk])\n+  if test \"x${with_jtreg_jdk}\" != x; then\n+    if test \"x${with_jtreg_jdk}\" = xno; then\n+      AC_MSG_RESULT([no, jtreg jdk not specified])\n+    elif test \"x${with_jtreg_jdk}\" = xyes; then\n+      AC_MSG_RESULT([not specified])\n+      AC_MSG_ERROR([--with-jtreg-jdk needs a value])\n+    else\n+      JTREG_JDK=\"${with_jtreg_jdk}\"\n+      AC_MSG_RESULT([$JTREG_JDK])\n+      UTIL_FIXUP_PATH(JTREG_JDK)\n+      if test ! -f \"$JTREG_JDK\/bin\/java\"; then\n+        AC_MSG_ERROR([Could not find jtreg java at $JTREG_JDK\/bin\/java])\n+      fi\n+    fi\n+  else\n+    JTREG_JDK=\"${BOOT_JDK}\"\n+    AC_MSG_RESULT([no, using BOOT_JDK])\n+  fi\n+\n+  UTIL_FIXUP_PATH(JTREG_JDK)\n+  AC_SUBST([JTREG_JDK])\n+  # For use in the configure script\n+  JTREG_JAVA=\"$FIXPATH $JTREG_JDK\/bin\/java\"\n+\n@@ -150,0 +179,5 @@\n+    AC_MSG_CHECKING([jtreg jar existence])\n+    if test ! -f \"$JT_HOME\/lib\/jtreg.jar\"; then\n+      AC_MSG_ERROR([Could not find jtreg jar at $JT_HOME\/lib\/jtreg.jar])\n+    fi\n+\n@@ -153,1 +187,2 @@\n-    jtreg_version_full=`$JAVA -jar $JT_HOME\/lib\/jtreg.jar -version | $HEAD -n 1 | $CUT -d ' ' -f 2`\n+    jtreg_version_full=$($JTREG_JAVA -jar $JT_HOME\/lib\/jtreg.jar -version | $HEAD -n 1 | $CUT -d ' ' -f 2)\n+\n","filename":"make\/autoconf\/lib-tests.m4","additions":36,"deletions":1,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -655,0 +655,3 @@\n+JTREG_JDK := @JTREG_JDK@\n+JTREG_JAVA = @FIXPATH@ $(JTREG_JDK)\/bin\/java $(JAVA_FLAGS_BIG) $(JAVA_FLAGS)\n+\n","filename":"make\/autoconf\/spec.gmk.in","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}
{"files":[{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,2 +31,11 @@\n-VS_VERSION=\"2019\"\n-VS_VERSION_NUM_NODOT=\"160\"\n+usage_and_exit() {\n+    echo \"Usage: createWindowsDevkit.sh <2019 | 2022>\"\n+    exit 1\n+}\n+\n+if [ ! $# = 1 ]; then\n+    usage_and_exit\n+fi\n+\n+VS_VERSION=\"$1\"\n+\n@@ -35,4 +44,0 @@\n-SDK_FULL_VERSION=\"10.0.17763.0\"\n-MSVC_DIR=\"Microsoft.VC142.CRT\"\n-MSVC_FULL_VERSION=\"14.12.27508\"\n-REDIST_FULL_VERSION=\"14.20.27508\"\n@@ -69,0 +74,20 @@\n+PROGRAMFILES=\"$($WINDOWS_PATH_TO_UNIX_PATH \"$PROGRAMFILES\")\"\n+\n+case $VS_VERSION in\n+    2019)\n+        MSVC_PROGRAMFILES_DIR=\"${PROGRAMFILES_X86}\"\n+        MSVC_CRT_DIR=\"Microsoft.VC142.CRT\"\n+        VS_VERSION_NUM_NODOT=\"160\"\n+        ;;\n+\n+    2022)\n+        MSVC_PROGRAMFILES_DIR=\"${PROGRAMFILES}\"\n+        MSVC_CRT_DIR=\"Microsoft.VC143.CRT\"\n+        VS_VERSION_NUM_NODOT=\"170\"\n+        ;;\n+    *)\n+        echo \"Unexpected VS version: $VS_VERSION\"\n+        usage_and_exit\n+        ;;\n+esac\n+\n@@ -75,1 +100,1 @@\n-    VS_INSTALL_DIR=\"${PROGRAMFILES_X86}\/Microsoft Visual Studio\/2019\"\n+    VS_INSTALL_DIR=\"${MSVC_PROGRAMFILES_DIR}\/Microsoft Visual Studio\/$VS_VERSION\"\n@@ -104,3 +129,3 @@\n-MSVCR_DLL=${MSVC_DIR}\/vcruntime${VS_DLL_VERSION}.dll\n-VCRUNTIME_1_DLL=${MSVC_DIR}\/vcruntime${VS_DLL_VERSION}_1.dll\n-MSVCP_DLL=${MSVC_DIR}\/msvcp${VS_DLL_VERSION}.dll\n+MSVCR_DLL=${MSVC_CRT_DIR}\/vcruntime${VS_DLL_VERSION}.dll\n+VCRUNTIME_1_DLL=${MSVC_CRT_DIR}\/vcruntime${VS_DLL_VERSION}_1.dll\n+MSVCP_DLL=${MSVC_CRT_DIR}\/msvcp${VS_DLL_VERSION}.dll\n","filename":"make\/devkit\/createWindowsDevkit.sh","additions":36,"deletions":11,"binary":false,"changes":47,"previous_filename":"make\/devkit\/createWindowsDevkit2019.sh","status":"renamed"}]}
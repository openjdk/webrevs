{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -213,1 +213,1 @@\n-        for (var client : List.of(authClient, noAuthClient)) {\n+        for (boolean useAuth : List.of(true, false)) {\n@@ -220,1 +220,1 @@\n-                            if (client == authClient) continue;\n+                            if (useAuth) continue;\n@@ -224,1 +224,1 @@\n-                            result.add(new Object[]{uri + srv + auth, pcode, async, client});\n+                            result.add(new Object[]{uri + srv + auth, pcode, async, useAuth});\n@@ -245,1 +245,1 @@\n-    void test(String uriString, int code, boolean async, HttpClient client) throws Throwable {\n+    void test(String uriString, int code, boolean async, boolean useAuth) throws Throwable {\n@@ -247,0 +247,1 @@\n+        HttpClient client = useAuth ? authClient : noAuthClient;\n@@ -250,1 +251,1 @@\n-        assert client.authenticator().isPresent() ? client == authClient : client == noAuthClient;\n+        assert client.authenticator().isPresent() == useAuth;\n@@ -393,7 +394,10 @@\n-\n-        proxy.stop();\n-        authproxy.stop();\n-        httpTestServer.stop();\n-        httpsTestServer.stop();\n-        http2TestServer.stop();\n-        https2TestServer.stop();\n+        try {\n+            proxy.stop();\n+            authproxy.stop();\n+            httpTestServer.stop();\n+            httpsTestServer.stop();\n+            http2TestServer.stop();\n+            https2TestServer.stop();\n+        } finally {\n+            if (fail != null) throw fail;\n+        }\n","filename":"test\/jdk\/java\/net\/httpclient\/ForbiddenHeadTest.java","additions":17,"deletions":13,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -389,9 +389,12 @@\n-\n-        proxy.stop();\n-        authproxy.stop();\n-        httpTestServer.stop();\n-        proxyHttpTestServer.stop();\n-        authProxyHttpTestServer.stop();\n-        httpsTestServer.stop();\n-        http2TestServer.stop();\n-        https2TestServer.stop();\n+        try {\n+            proxy.stop();\n+            authproxy.stop();\n+            httpTestServer.stop();\n+            proxyHttpTestServer.stop();\n+            authProxyHttpTestServer.stop();\n+            httpsTestServer.stop();\n+            http2TestServer.stop();\n+            https2TestServer.stop();\n+        } finally {\n+            if (fail != null) throw fail;\n+        }\n","filename":"test\/jdk\/java\/net\/httpclient\/ProxySelectorTest.java","additions":13,"deletions":10,"binary":false,"changes":23,"status":"modified"}]}
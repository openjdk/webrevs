{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -620,5 +620,5 @@\n-  sample_infos = NULL;\n-  ref_infos = NULL;\n-  array_infos = NULL;\n-  field_infos = NULL;\n-  root_infos = NULL;\n+  assert(field_infos == NULL, \"Invariant\");\n+  assert(sample_infos == NULL, \"Invariant\");\n+  assert(ref_infos == NULL, \"Invariant\");\n+  assert(array_infos == NULL, \"Invariant\");\n+  assert(root_infos == NULL, \"Invariant\");\n@@ -633,0 +633,10 @@\n+\n+  \/\/ Followings are RA allocated, memory will be released automatically.\n+  if (field_infos != NULL) {\n+    field_infos->~FieldTable();\n+    field_infos = NULL;\n+  }\n+  sample_infos = NULL;\n+  ref_infos = NULL;\n+  array_infos = NULL;\n+  root_infos = NULL;\n","filename":"src\/hotspot\/share\/jfr\/leakprofiler\/checkpoint\/objectSampleWriter.cpp","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -173,0 +173,2 @@\n+        ::DeleteDC(hdcMem);\n+        ::DeleteDC(hdcScreen);\n@@ -192,1 +194,7 @@\n-    if (!IS_SAFE_SIZE_MUL(width, height)) throw std::bad_alloc();\n+    if (!IS_SAFE_SIZE_MUL(width, height)) {\n+        ::DeleteObject(hbitmap);\n+        ::DeleteDC(hdcMem);\n+        ::DeleteDC(hdcScreen);\n+        throw std::bad_alloc();\n+    }\n+\n@@ -194,1 +202,7 @@\n-    if (!IS_SAFE_SIZE_MUL(BYTES_PER_PIXEL, numPixels)) throw std::bad_alloc();\n+    if (!IS_SAFE_SIZE_MUL(BYTES_PER_PIXEL, numPixels)) {\n+        ::DeleteObject(hbitmap);\n+        ::DeleteDC(hdcMem);\n+        ::DeleteDC(hdcScreen);\n+        throw std::bad_alloc();\n+    }\n+\n@@ -205,0 +219,3 @@\n+        ::DeleteObject(hbitmap);\n+        ::DeleteDC(hdcMem);\n+        ::DeleteDC(hdcScreen);\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Robot.cpp","additions":20,"deletions":3,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -56,0 +56,1 @@\n+import javax.swing.Box;\n@@ -158,0 +159,1 @@\n+ *     <li>to add a log area<\/li>,\n@@ -207,0 +209,2 @@\n+    private static JTextArea logArea;\n+\n@@ -376,0 +380,14 @@\n+    \/**\n+     * Does the same as {@link #invokeOnEDT(Runnable)}, but does not throw\n+     * any checked exceptions.\n+     *\n+     * @param doRun an operation to run on EDT\n+     *\/\n+    private static void invokeOnEDTUncheckedException(Runnable doRun) {\n+        try {\n+            invokeOnEDT(doRun);\n+        } catch (InterruptedException | InvocationTargetException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n@@ -387,1 +405,2 @@\n-                                           enableScreenCapture),\n+                                           enableScreenCapture,\n+                                           false, 0),\n@@ -404,2 +423,3 @@\n-                                         builder.screenCapture);\n-\n+                                         builder.screenCapture,\n+                                         builder.addLogArea,\n+                                         builder.logAreaRows);\n@@ -424,1 +444,3 @@\n-                                                       boolean enableScreenCapture) {\n+                                                       boolean enableScreenCapture,\n+                                                       boolean addLogArea,\n+                                                       int logAreaRows) {\n@@ -458,1 +480,14 @@\n-        main.add(buttonsPanel, BorderLayout.SOUTH);\n+        if (addLogArea) {\n+            logArea = new JTextArea(logAreaRows, columns);\n+            logArea.setEditable(false);\n+\n+            Box buttonsLogPanel = Box.createVerticalBox();\n+\n+            buttonsLogPanel.add(buttonsPanel);\n+            buttonsLogPanel.add(new JScrollPane(logArea));\n+\n+            main.add(buttonsLogPanel, BorderLayout.SOUTH);\n+        } else {\n+            main.add(buttonsPanel, BorderLayout.SOUTH);\n+        }\n+\n@@ -1042,0 +1077,30 @@\n+    \/**\n+     * Adds a {@code message} to the log area, if enabled by\n+     * {@link Builder#logArea()} or {@link Builder#logArea(int)}.\n+     *\n+     * @param message to log\n+     *\/\n+    public static void log(String message) {\n+        System.out.println(\"PassFailJFrame: \" + message);\n+        invokeOnEDTUncheckedException(() -> logArea.append(message + \"\\n\"));\n+    }\n+\n+    \/**\n+     * Clears the log area, if enabled by\n+     * {@link Builder#logArea()} or {@link Builder#logArea(int)}.\n+     *\/\n+    public static void logClear() {\n+        System.out.println(\"\\nPassFailJFrame: log cleared\\n\");\n+        invokeOnEDTUncheckedException(() -> logArea.setText(\"\"));\n+    }\n+\n+    \/**\n+     * Replaces the log area content with provided {@code text}, if enabled by\n+     * {@link Builder#logArea()} or {@link Builder#logArea(int)}.\n+     * @param text new text for the log area\n+     *\/\n+    public static void logSet(String text) {\n+        System.out.println(\"\\nPassFailJFrame: log set to:\\n\" + text + \"\\n\");\n+        invokeOnEDTUncheckedException(() -> logArea.setText(text));\n+    }\n+\n@@ -1049,0 +1114,2 @@\n+        private boolean addLogArea;\n+        private int logAreaRows = 10;\n@@ -1090,0 +1157,31 @@\n+        \/**\n+         * Adds a log area below the \"Pass\", \"Fail\" buttons.\n+         * <p>\n+         * The log area can be controlled by {@link #log(String)},\n+         * {@link #logClear()} and {@link #logSet(String)}.\n+         *\n+         * @return this builder\n+         *\/\n+        public Builder logArea() {\n+            this.addLogArea = true;\n+            return this;\n+        }\n+\n+        \/**\n+         * Adds a log area below the \"Pass\", \"Fail\" buttons.\n+         * <p>\n+         * The log area can be controlled by {@link #log(String)},\n+         * {@link #logClear()} and {@link #logSet(String)}.\n+         * <p>\n+         * The number of columns is taken from the number of\n+         * columns in the instructional JTextArea.\n+         *\n+         * @param rows of the log area\n+         * @return this builder\n+         *\/\n+        public Builder logArea(int rows) {\n+            this.addLogArea = true;\n+            this.logAreaRows = rows;\n+            return this;\n+        }\n+\n","filename":"test\/jdk\/java\/awt\/regtesthelpers\/PassFailJFrame.java","additions":103,"deletions":5,"binary":false,"changes":108,"status":"modified"}]}
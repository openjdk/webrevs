{"files":[{"patch":"@@ -110,5 +110,1 @@\n-        File xctrace = getXCodeDevToolsPath().resolve(Paths.get(\"usr\", \"bin\", \"xctrace\")).toFile();\n-        String xctracePath = xctrace.getAbsolutePath();\n-        if (!xctrace.exists()) {\n-            throw new ProfilerException(\"xctrace was not found at \" + xctracePath);\n-        }\n+        final String xctracePath = resolveXCTracePath();\n@@ -123,1 +119,19 @@\n-        return xctrace.getAbsolutePath();\n+        return xctracePath;\n+    }\n+\n+    private static String resolveXCTracePath() throws ProfilerException {\n+        final Path relativeXCTracePath = Paths.get(\"usr\", \"bin\", \"xctrace\");\n+        File xctrace = getXCodeDevToolsPath().resolve(relativeXCTracePath).toFile();\n+        if (xctrace.exists()) {\n+            return xctrace.getAbsolutePath();\n+        }\n+\n+        final String sdkroot = System.getenv().get(\"SDKROOT\");\n+        if (sdkroot != null) {\n+            xctrace = Paths.get(sdkroot).resolve(relativeXCTracePath).toFile();\n+            if (xctrace.exists()) {\n+                return xctrace.getAbsolutePath();\n+            }\n+        }\n+\n+        throw new ProfilerException(\"xctrace was not found at \" + xctrace.getAbsolutePath());\n","filename":"jmh-core\/src\/main\/java\/org\/openjdk\/jmh\/profile\/XCTraceSupport.java","additions":20,"deletions":6,"binary":false,"changes":26,"status":"modified"}]}
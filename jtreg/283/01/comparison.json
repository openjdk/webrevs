{"files":[{"patch":"@@ -114,6 +114,6 @@\n-                for (var sr : List.of(\n-                        SummaryReporter.forTestNG(params.getWorkDirectory()),\n-                        SummaryReporter.forJUnit(params.getWorkDirectory()))) {\n-                    if (!sr.isEmpty()) {\n-                        sr.writeReport(rd);\n-                    }\n+                int countTestNG = SummaryReporter.forTestNG(params.getWorkDirectory()).writeReport(rd);\n+                int countJUnit = SummaryReporter.forJUnit(params.getWorkDirectory()).writeReport(rd);\n+                int sumOfCounts = countTestNG + countJUnit;\n+                if (sumOfCounts > 0) {\n+                    log.println(String.format(\"Framework-based tests: %d = %d TestNG + %d JUnit\",\n+                            sumOfCounts, countTestNG, countJUnit));\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/report\/RegressionReporter.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+import java.util.stream.IntStream;\n@@ -76,7 +77,0 @@\n-    \/**\n-     * Returns {@code true} if there is no content to be shown.\n-     *\n-     * @return {@code true} if there is no content to be shown\n-     *\/\n-    public abstract boolean isEmpty();\n-\n@@ -94,0 +88,1 @@\n+     * @return the sum of executed tests\n@@ -97,1 +92,1 @@\n-    public abstract void writeReport(File reportDir) throws IOException;\n+    abstract int writeReport(File reportDir) throws IOException;\n@@ -107,5 +102,0 @@\n-        @Override\n-        public boolean isEmpty() {\n-            return infoMap.isEmpty();\n-        }\n-\n@@ -158,1 +148,2 @@\n-        public void writeReport(File reportDir) throws IOException {\n+        int writeReport(File reportDir) throws IOException {\n+            if (infoMap.isEmpty()) return 0;\n@@ -167,0 +158,1 @@\n+            return infoMap.values().stream().flatMapToInt(info -> IntStream.of(info.count)).sum();\n@@ -197,5 +189,0 @@\n-        @Override\n-        public boolean isEmpty() {\n-            return infoMap.isEmpty();\n-        }\n-\n@@ -243,1 +230,2 @@\n-        public void writeReport(File reportDir) throws IOException {\n+        int writeReport(File reportDir) throws IOException {\n+            if (infoMap.isEmpty()) return 0;\n@@ -252,0 +240,1 @@\n+            return infoMap.values().stream().flatMapToInt(info -> IntStream.of(info.tests.count)).sum();\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/report\/SummaryReporter.java","additions":9,"deletions":20,"binary":false,"changes":29,"status":"modified"}]}
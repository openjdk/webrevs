{"files":[{"patch":"@@ -44,0 +44,1 @@\n+import java.util.Locale;\n@@ -114,6 +115,7 @@\n-                for (var sr : List.of(\n-                        SummaryReporter.forTestNG(params.getWorkDirectory()),\n-                        SummaryReporter.forJUnit(params.getWorkDirectory()))) {\n-                    if (!sr.isEmpty()) {\n-                        sr.writeReport(rd);\n-                    }\n+                int countTestNG = SummaryReporter.forTestNG(params.getWorkDirectory()).writeReport(rd);\n+                int countJUnit = SummaryReporter.forJUnit(params.getWorkDirectory()).writeReport(rd);\n+                int sumOfCounts = countTestNG + countJUnit;\n+                if (sumOfCounts > 0) {\n+                    log.println(String.format(Locale.ROOT,\n+                            \"Framework-based tests: %,d = %,d TestNG + %,d JUnit\",\n+                            sumOfCounts, countTestNG, countJUnit));\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/report\/RegressionReporter.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -76,7 +76,0 @@\n-    \/**\n-     * Returns {@code true} if there is no content to be shown.\n-     *\n-     * @return {@code true} if there is no content to be shown\n-     *\/\n-    public abstract boolean isEmpty();\n-\n@@ -94,0 +87,1 @@\n+     * @return the sum of executed test counts\n@@ -97,1 +91,1 @@\n-    public abstract void writeReport(File reportDir) throws IOException;\n+    abstract int writeReport(File reportDir) throws IOException;\n@@ -107,5 +101,0 @@\n-        @Override\n-        public boolean isEmpty() {\n-            return infoMap.isEmpty();\n-        }\n-\n@@ -158,1 +147,2 @@\n-        public void writeReport(File reportDir) throws IOException {\n+        int writeReport(File reportDir) throws IOException {\n+            if (infoMap.isEmpty()) return 0;\n@@ -162,0 +152,1 @@\n+            int sum = 0;\n@@ -164,1 +155,3 @@\n-                    out.println(e.getKey() + \" \" + e.getValue());\n+                    Info info = e.getValue();\n+                    out.println(e.getKey() + \" \" + info);\n+                    sum += info.count;\n@@ -167,0 +160,1 @@\n+            return sum;\n@@ -197,5 +191,0 @@\n-        @Override\n-        public boolean isEmpty() {\n-            return infoMap.isEmpty();\n-        }\n-\n@@ -243,1 +232,2 @@\n-        public void writeReport(File reportDir) throws IOException {\n+        int writeReport(File reportDir) throws IOException {\n+            if (infoMap.isEmpty()) return 0;\n@@ -247,0 +237,1 @@\n+            int sum = 0;\n@@ -249,1 +240,3 @@\n-                    out.println(e.getKey() + \" \" + e.getValue());\n+                    Info info = e.getValue();\n+                    out.println(e.getKey() + \" \" + info);\n+                    sum += info.tests.count;\n@@ -252,0 +245,1 @@\n+            return sum;\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/report\/SummaryReporter.java","additions":16,"deletions":22,"binary":false,"changes":38,"status":"modified"}]}
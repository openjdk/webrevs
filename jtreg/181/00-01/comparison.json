{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -156,1 +156,3 @@\n-        return mep.getExcludeFiles();\n+        return mep.getExcludeFiles() != null\n+            ? mep.getExcludeFiles()\n+            : new File[0];\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/config\/RegressionParameters.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -0,0 +1,25 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n@@ -2,0 +27,1 @@\n+\n@@ -5,3 +31,0 @@\n-import java.util.ArrayList;\n-import java.util.List;\n-import java.io.IOException;\n@@ -9,0 +32,2 @@\n+import java.io.IOException;\n+import java.io.PrintWriter;\n@@ -10,1 +35,1 @@\n-import java.util.regex.Pattern;\n+import java.util.ArrayList;\n@@ -12,0 +37,2 @@\n+import java.util.List;\n+import java.util.regex.Pattern;\n@@ -14,4 +41,4 @@\n-    private static String testName(String line) {\n-        line = line.trim();\n-        String[] words = line.split(\"\\\\s+\");\n-        return words.length >= 1 ? words[0] : null;\n+    private PrintWriter out;\n+\n+    public ExcludeFileVerifier(PrintWriter out) {\n+        this.out = out;\n@@ -35,2 +62,1 @@\n-            while ((line = br.readLine()) != null)\n-            {\n+            while ((line = br.readLine()) != null) {\n@@ -39,1 +65,1 @@\n-                for(Check c : checks) {\n+                for (Check c : checks) {\n@@ -41,6 +67,6 @@\n-                        System.out.println(file.getAbsolutePath() + \" line \" + n + \" is invalid. Reason:\");\n-                        System.out.println(c.description());\n-                        System.out.println(\"Line contents:\");\n-                        System.out.println(\"--------------\");\n-                        System.out.println(line);\n-                        System.out.println(\"--------------\");\n+                        out.println(file.getAbsolutePath() + \" line \" + n + \" is invalid. Reason:\");\n+                        out.println(c.description());\n+                        out.println(\"Line contents:\");\n+                        out.println(\"--------------\");\n+                        out.println(line);\n+                        out.println(\"--------------\");\n@@ -70,1 +96,7 @@\n-    abstract class Check {\n+    private static String testName(String line) {\n+        line = line.trim();\n+        String[] words = line.split(\"\\\\s+\");\n+        return words.length >= 1 ? words[0] : null;\n+    }\n+\n+    abstract static class Check {\n@@ -75,1 +107,1 @@\n-    class LineFormatCheck extends Check {\n+    static class LineFormatCheck extends Check {\n@@ -77,1 +109,1 @@\n-        private static final String p = \"\\\\S+\\\\s+\" + commalist + \"\\\\s\" + commalist + \".*\";\n+        private static Pattern pattern = Pattern.compile(\"\\\\S+\\\\s+\" + commalist + \"\\\\s\" + commalist + \".*\");\n@@ -83,1 +115,1 @@\n-            return Pattern.matches(p, line);\n+            return pattern.matcher(line).matches();\n@@ -87,1 +119,1 @@\n-    class TestExistsCheck extends Check {\n+    static class TestExistsCheck extends Check {\n@@ -103,1 +135,1 @@\n-    class DuplicateCheck extends Check {\n+    static class DuplicateCheck extends Check {\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/tool\/ExcludeFileVerifier.java","additions":55,"deletions":23,"binary":false,"changes":78,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -1439,1 +1439,1 @@\n-            ExcludeFileVerifier efv = new ExcludeFileVerifier();\n+            ExcludeFileVerifier efv = new ExcludeFileVerifier(out);\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/tool\/Tool.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/tool\/i18n.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/excludeverify\/ExcludeVerifyTest.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/excludeverify\/p\/Pass.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/excludeverify\/p\/Pass2.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import java.io.IOException;\n@@ -57,9 +58,8 @@\n-        ClassLoader loader = ClassLoader.getSystemClassLoader();\n-        if (path != null) {\n-            SearchPath classpath = new SearchPath(path);\n-            List<URL> urls = new ArrayList<>();\n-            for (Path f : classpath.asList()) {\n-                try {\n-                    urls.add(f.toUri().toURL());\n-                } catch (MalformedURLException e) {\n-                }\n+\n+        SearchPath classpath = new SearchPath(path);\n+        List<URL> urls = new ArrayList<>();\n+        for (Path f : classpath.asList()) {\n+            try {\n+                urls.add(f.toUri().toURL());\n+            } catch (MalformedURLException e) {\n+                throw new RuntimeException(e);\n@@ -67,1 +67,0 @@\n-            loader = new URLClassLoader(urls.toArray(new URL[urls.size()]), loader);\n@@ -69,1 +68,2 @@\n-        try {\n+\n+        try (URLClassLoader loader = new URLClassLoader(urls.toArray(new URL[]{}), ClassLoader.getSystemClassLoader())) {\n@@ -75,1 +75,1 @@\n-                 | InstantiationException | IllegalAccessException e) {\n+                 | InstantiationException | IllegalAccessException | IOException e) {\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/agent\/TestThreadFactoryHelper.java","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"}]}
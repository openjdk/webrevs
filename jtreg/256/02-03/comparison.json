{"files":[{"patch":"@@ -257,5 +257,8 @@\n-those classes. A test that relies upon library classes should contain appropriate\n-<code>@build<\/code> directives to ensure that the classes will be compiled.\n-It is strongly recommended that tests do not rely on the use of implicit compilation\n-by the Java compiler. Such an approach is generally fragile, and may lead to\n-incomplete recompilation when a test or library code has been modified.\n+those classes. The library directory is used as additional sourcepath for test compilation.\n+So jtreg impliitly compiles all test dependcies that are located in library directory.\n+A test that relies upon library classes might contain appropriate\n+<code>@build<\/code> directives to explictily point classes to be compiled.\n+This might be useful when test depends on linbrary classes during runtime only.\n+\n+<p>\n+The implicit usage might cause incomplete recompilation when a test or library code has been modified.\n","filename":"src\/share\/doc\/javatest\/regtest\/tag-spec.html","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -23,2 +23,0 @@\n-\n-JUnit.dirs = .\n\\ No newline at end of file\n","filename":"test\/libs-build-implicit\/TEST.ROOT","additions":1,"deletions":3,"binary":false,"changes":4,"previous_filename":"test\/junitQueryTest\/a\/b\/c\/TEST.properties","status":"copied"},{"patch":"@@ -0,0 +1,32 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+public class LibA {\n+\n+    public static void name() {\n+       \/\/ do nothing\n+     throw new RuntimeException();\n+    }\n+\n+}\n","filename":"test\/libs-build-implicit\/lib\/LibA.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+\n@@ -22,0 +23,1 @@\n+ *\n@@ -24,1 +26,2 @@\n-package java\/io;\n+public class LibB extends LibA {\n+  public static void main(String args[]) {\n@@ -26,4 +29,2 @@\n-public class IOHelper2\n-    version 58:0\n-{\n-} \/\/ end class IOHelper2\n+  }\n+}\n","filename":"test\/libs-build-implicit\/lib\/LibB.java","additions":6,"deletions":5,"binary":false,"changes":11,"previous_filename":"test\/modlibs\/compileAction\/patch\/java.base\/java\/io\/IOHelper2.jasm","status":"copied"},{"patch":"@@ -0,0 +1,39 @@\n+#\n+# Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+\n+$(BUILDTESTDIR)\/libsBuildImplicit.ok: \\\n+\t$(JTREG_IMAGEDIR)\/lib\/jtreg.jar \\\n+\t$(JTREG_IMAGEDIR)\/bin\/jtreg\n+\t$(RM) $(@:%.ok=%) ; $(MKDIR) $(@:%.ok=%)\n+\t$(JTREG_IMAGEDIR)\/bin\/jtreg $(JTREG_OPTS) \\\n+\t\t-w:$(@:%.ok=%)\/work -r:$(@:%.ok=%)\/report \\\n+\t\t-jdk:$(JDKHOME) \\\n+\t\t$(TESTDIR)\/libs-build-implicit \\\n+\t\t\t> $(@:%.ok=%\/jt.log) 2>&1\n+\techo \"test passed at `date`\" > $@\n+\n+TESTS.jtreg += \\\n+\t$(BUILDTESTDIR)\/libsBuildImplicit.ok\n","filename":"test\/libs-build-implicit\/libsBuildImplicit.gmk","additions":39,"deletions":0,"binary":false,"changes":39,"status":"added"},{"patch":"@@ -0,0 +1,40 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+\n+\/*\n+ * @test\n+ * @summary This test tries to build LibA implicitly and LibB explictitly.\n+ * @library \/lib\n+ * @build Test1\n+ * @run main LibB\n+ * @run main Test1\n+ *\/\n+\n+public class Test1 extends LibA {\n+  public static void main(String args[]) {\n+\n+\n+  }\n+}\n","filename":"test\/libs-build-implicit\/test\/Test1.java","additions":40,"deletions":0,"binary":false,"changes":40,"status":"added"},{"patch":"@@ -0,0 +1,39 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+\n+\/*\n+ * @test\n+ * @summary Test executes LibB that should have been build in 2 steps by Test1\n+ * @library \/lib\n+ * @run main LibB\n+ * @run main Test2\n+ *\/\n+\n+public class Test2 {\n+  public static void main(String args[]) {\n+\n+\n+  }\n+}\n","filename":"test\/libs-build-implicit\/test\/Test2.java","additions":39,"deletions":0,"binary":false,"changes":39,"status":"added"}]}
{"files":[{"patch":"@@ -332,3 +332,11 @@\n-                \/\/ JDK 1.8 introduces a Process.waitFor(timeout) method which could\n-                \/\/ be used here. We need run on 1.5 so using interrupt() instead.\n-                victim.interrupt();\n+                \/\/ unlock the main thread if the process fails\n+                \/\/ to exit\n+                try {\n+                    if (!process.waitFor(timeout, TimeUnit.SECONDS)) {\n+                        victim.interrupt();\n+                    }\n+                }\n+                catch (InterruptedException e) {\n+                    log.println(\"Interrupted exception: \" + e);\n+                    victim.interrupt();\n+                }\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/exec\/ProcessCommand.java","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"}]}
{"files":[{"patch":"@@ -58,0 +58,2 @@\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n@@ -73,0 +75,4 @@\n+    \/\/ example \"11:12:22.256\"\n+    private static final DateTimeFormatter HOUR_MIN_SEC_MS_FORMAT =\n+            DateTimeFormatter.ofPattern(\"HH:mm:ss.SSS\");\n+\n@@ -206,0 +212,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -208,0 +215,1 @@\n+                String skippedTime = now.format(HOUR_MIN_SEC_MS_FORMAT);\n@@ -213,1 +221,1 @@\n-                    printer.printf(\"%-10s %s '%s' %s%n\", status, source, name, reason);\n+                    printer.printf(\"[%s] %-10s %s '%s' %s%n\", skippedTime, status, source, name, reason);\n@@ -223,0 +231,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -226,0 +235,1 @@\n+                String startTime = now.format(HOUR_MIN_SEC_MS_FORMAT);\n@@ -231,1 +241,1 @@\n-                    printer.printf(\"%-10s %s '%s'%n\", status, source, name);\n+                    printer.printf(\"[%s] %-10s %s '%s'%n\", startTime, status, source, name);\n@@ -241,0 +251,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -258,0 +269,1 @@\n+                    String finishedTime = now.format(HOUR_MIN_SEC_MS_FORMAT);\n@@ -261,1 +273,1 @@\n-                    printer.printf(\"%-10s %s '%s' [%dms]%n\", status, source, name, millis);\n+                    printer.printf(\"[%s] %-10s %s '%s' [%dms]%n\", finishedTime, status, source, name, millis);\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/agent\/JUnitRunner.java","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,2 @@\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n@@ -62,0 +64,4 @@\n+    \/\/ example \"11:12:22.256\"\n+    private static final DateTimeFormatter HOUR_MIN_SEC_MS_FORMAT =\n+            DateTimeFormatter.ofPattern(\"HH:mm:ss.SSS\");\n+\n@@ -144,0 +150,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -145,1 +152,1 @@\n-            report(InfoKind.TEST, itr);\n+            report(now, InfoKind.TEST, itr);\n@@ -150,0 +157,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -151,1 +159,1 @@\n-            report(InfoKind.TEST, itr);\n+            report(now, InfoKind.TEST, itr);\n@@ -156,0 +164,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -162,1 +171,1 @@\n-            report(InfoKind.TEST, itr);\n+            report(now, InfoKind.TEST, itr);\n@@ -167,0 +176,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -168,1 +178,1 @@\n-            report(InfoKind.TEST, itr);\n+            report(now, InfoKind.TEST, itr);\n@@ -181,0 +191,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -182,1 +193,1 @@\n-            report(InfoKind.CONFIG, itr);\n+            report(now, InfoKind.CONFIG, itr);\n@@ -187,0 +198,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -188,1 +200,1 @@\n-            report(InfoKind.CONFIG, itr);\n+            report(now, InfoKind.CONFIG, itr);\n@@ -193,0 +205,1 @@\n+            ZonedDateTime now = ZonedDateTime.now();\n@@ -194,1 +207,1 @@\n-            report(InfoKind.CONFIG, itr);\n+            report(now, InfoKind.CONFIG, itr);\n@@ -197,1 +210,1 @@\n-        void report(InfoKind k, ITestResult itr) {\n+        void report(ZonedDateTime reportedAt, InfoKind k, ITestResult itr) {\n@@ -217,1 +230,2 @@\n-            System.out.print(k.toString().toLowerCase()\n+            System.out.print(\"[\" + reportedAt.format(HOUR_MIN_SEC_MS_FORMAT) + \"]\"\n+                    + \" \" + k.toString().toLowerCase()\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/agent\/TestNGRunner.java","additions":24,"deletions":10,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -42,4 +42,6 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m11(): success test Test1.m12(): success test Test1.m13(): success test Test2.m21(): success test Test2.m22(): success test Test2.m23(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m11(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test1.m12(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test1.m13(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test2.m21(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test2.m22(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test2.m23(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n@@ -66,4 +68,1 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m12(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m12(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n@@ -93,4 +92,4 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m12(): success test Test2.m21(): success test Test2.m22(): success test Test2.m23(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m12(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test2.m21(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test2.m22(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test2.m23(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n@@ -119,4 +118,1 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m12(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m12(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n@@ -145,4 +141,1 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m13(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m13(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n@@ -171,4 +164,3 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m11(): success test Test1.m12(): success test Test1.m13(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m11(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test1.m12(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n+\t$(GREP) -s 'test Test1.m13(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n@@ -197,4 +189,1 @@\n-\tOUT=$$( $(ECHO) $$( $(AWK) '\/STDOUT:\/,\/STDERR:\/{ print $0; } { }' $(@:%.ok=%)\/jt.log | $(GREP) -v STD  | $(GREP) -o \"^test.*success \") ) ; \\\n-\tif [ \"$$OUT\" != \"test Test1.m13(): success\" ]; then \\\n-\t    echo \"unexpected set of tests run: $$OUT\"; exit 1 ; \\\n-\tfi\n+\t$(GREP) -s 'test Test1.m13(): success' $(@:%.ok=%\/jt.log)  > \/dev\/null\n","filename":"test\/testngQueryTest\/TestNGQueryTest.gmk","additions":17,"deletions":28,"binary":false,"changes":45,"status":"modified"}]}
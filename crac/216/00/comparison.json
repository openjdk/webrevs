{"files":[{"patch":"@@ -154,1 +154,7 @@\n-static bool parse_bool(const char *str, bool *result) {\n+\/\/ Value of a boolean configuration option.\n+struct BoolOption {\n+  bool value;\n+  bool is_default = true;\n+};\n+\n+static bool parse_bool(const char *str, BoolOption *result) {\n@@ -156,1 +162,1 @@\n-    *result = true;\n+    *result = {true, false};\n@@ -160,1 +166,1 @@\n-    *result = false;\n+    *result = {false, false};\n@@ -183,2 +189,2 @@\n-  bool _keep_running = false;\n-  bool _direct_map = false;\n+  BoolOption _keep_running{false};\n+  BoolOption _direct_map{true};\n@@ -211,2 +217,2 @@\n-  bool keep_running() const { return _keep_running; }\n-  bool direct_map() const { return _direct_map; }\n+  BoolOption keep_running() const { return _keep_running; }\n+  BoolOption direct_map() const { return _direct_map; }\n@@ -362,1 +368,1 @@\n-    \"* direct_map=<true\/false> (default: false) - on restore, map process data directly from saved \"\n+    \"* direct_map=<true\/false> (default: true) - on restore, map process data directly from saved \"\n@@ -527,1 +533,1 @@\n-  if (conf->direct_map()) {\n+  if (!conf->direct_map().is_default) {\n@@ -534,1 +540,1 @@\n-        (conf->keep_running() && !env.append(\"CRAC_CRIU_LEAVE_RUNNING\", \"\"))) {\n+        (conf->keep_running().value && !env.append(\"CRAC_CRIU_LEAVE_RUNNING\", \"\"))) {\n@@ -581,1 +587,1 @@\n-  if (conf->keep_running()) {\n+  if (!conf->keep_running().is_default) {\n@@ -595,1 +601,1 @@\n-      (!conf->direct_map() && !env.add_criu_option(\"--no-mmap-page-image\"))) {\n+      (!conf->direct_map().value && !env.add_criu_option(\"--no-mmap-page-image\"))) {\n","filename":"src\/java.base\/share\/native\/libcrexec\/crexec.cpp","additions":18,"deletions":12,"binary":false,"changes":30,"status":"modified"}]}
{"files":[{"patch":"@@ -584,1 +584,1 @@\n-  { \"IgnoreCPUFeatures\",            JDK_Version::jdk(26), JDK_Version::jdk(29), JDK_Version::undefined() },\n+  { \"IgnoreCPUFeatures\",            JDK_Version::jdk(26), JDK_Version::jdk(27), JDK_Version::jdk(28) },\n@@ -1918,0 +1918,16 @@\n+\n+  if (IgnoreCPUFeatures) {\n+    if (FLAG_IS_DEFAULT(CheckCPUFeatures)) {\n+      FLAG_SET_CMDLINE(CheckCPUFeatures, \"skip\");\n+    } else {\n+      jio_fprintf(defaultStream::error_stream(),\n+                \"Cannot set both -XX:+IgnoreCPUFeatures and -XX:CheckCPUFeatures=%s\\n\", CheckCPUFeatures);\n+      return false;\n+    }\n+  }\n+  if (CheckCPUFeatures != nullptr && !strcmp(CheckCPUFeatures, \"skip\") && !UnlockExperimentalVMOptions) {\n+    jio_fprintf(defaultStream::error_stream(),\n+                \"-XX:CheckCPUFeatures=skip is allowed only with -XX:+UnlockExperimentalVMOptions\\n\");\n+    return false;\n+  }\n+\n@@ -4074,8 +4090,0 @@\n-  if (IgnoreCPUFeatures) {\n-    if (FLAG_IS_DEFAULT(CheckCPUFeatures)) {\n-      FLAG_SET_ERGO(CheckCPUFeatures, \"skip\");\n-    } else {\n-      vm_exit_during_initialization(err_msg(\"Cannot set both -XX:+IgnoreCPUFeatures and -XX:CheckCPUFeatures=%s\", CheckCPUFeatures));\n-    }\n-  }\n-\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":17,"deletions":9,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -817,1 +817,1 @@\n-  if (CheckCPUFeatures == nullptr) {\n+  if (CheckCPUFeatures == nullptr || !strcmp(CheckCPUFeatures, \"compatible\")) {\n@@ -820,4 +820,0 @@\n-    if (!UnlockExperimentalVMOptions) {\n-      log_error(crac)(\"-XX:CheckCPUFeatures=skip is allowed only with -XX:+UnlockExperimentalVMOptions\");\n-      return;\n-    }\n@@ -827,1 +823,1 @@\n-  } else if (strcmp(CheckCPUFeatures, \"compatible\")) {\n+  } else {\n","filename":"src\/hotspot\/share\/runtime\/crac.cpp","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"}]}
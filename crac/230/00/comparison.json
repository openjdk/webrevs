{"files":[{"patch":"@@ -24,0 +24,1 @@\n+import jdk.test.lib.Platform;\n@@ -106,3 +107,8 @@\n-                builder\n-                    .containerSetup(Arrays.asList(\"bash\", \"-x\", \"-c\", \"useradd the_user && cat \/proc\/sys\/kernel\/pid_max && \" + setupLastPidCmd))\n-                    .dockerCheckpointOptions(Arrays.asList(\"-u\", \"the_user\"));\n+                if (Platform.isMusl()) {\n+                    builder.containerSetup(Arrays.asList(\"sh\", \"-x\", \"-c\",\n+                            \"adduser -D the_user && cat \/proc\/sys\/kernel\/pid_max && \" + setupLastPidCmd));\n+                } else {\n+                    builder.containerSetup(Arrays.asList(\"bash\", \"-x\", \"-c\",\n+                            \"useradd the_user && cat \/proc\/sys\/kernel\/pid_max && \" + setupLastPidCmd));\n+                }\n+                builder.dockerCheckpointOptions(Arrays.asList(\"-u\", \"the_user\"));\n","filename":"test\/jdk\/jdk\/crac\/ContainerPidAdjustmentTest.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import jdk.test.lib.Platform;\n@@ -74,1 +75,2 @@\n-            builder.withBaseImage(\"ghcr.io\/crac\/test-base\", \"latest\")\n+            String baseImage = Platform.isMusl() ? \"ghcr.io\/crac\/test-base-musl\" : \"ghcr.io\/crac\/test-base\";\n+            builder.withBaseImage(baseImage, \"latest\")\n","filename":"test\/jdk\/jdk\/crac\/java\/lang\/System\/NanoTimeTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+import jdk.test.lib.Platform;\n@@ -69,1 +70,2 @@\n-            builder.withBaseImage(\"ghcr.io\/crac\/test-base\", \"latest\")\n+            String baseImage = Platform.isMusl() ? \"ghcr.io\/crac\/test-base-musl\" : \"ghcr.io\/crac\/test-base\";\n+            builder.withBaseImage(baseImage, \"latest\")\n","filename":"test\/jdk\/jdk\/crac\/java\/lang\/System\/TimedWaitingTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,0 +54,4 @@\n+        if (Platform.isMusl()) {\n+            return \"alpine\";\n+        }\n+\n","filename":"test\/lib\/jdk\/test\/lib\/containers\/docker\/DockerfileConfig.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -54,2 +54,1 @@\n-    _force_uncommit(false),\n-    _force_uncommit_lock() {\n+    _force_uncommit(false) {\n@@ -85,0 +84,1 @@\n+\n@@ -433,8 +433,3 @@\n-  {\n-    ZLocker<ZConditionLock> locker(&_lock);\n-    _force_uncommit = true;\n-    _lock.notify_all();\n-  }\n-\n-  wait_for_finish_force_uncommit();\n-}\n+  ZLocker<ZConditionLock> locker(&_lock);\n+  _force_uncommit = true;\n+  _lock.notify_all();\n@@ -442,4 +437,2 @@\n-void ZUncommitter::wait_for_finish_force_uncommit() {\n-  ZLocker<ZConditionLock> locker(&_force_uncommit_lock);\n-  while (_force_uncommit) {\n-    _force_uncommit_lock.wait();\n+  while (_force_uncommit && ZUncommit && !_stop) {\n+    _lock.wait();\n@@ -450,0 +443,1 @@\n+  ZLocker<ZConditionLock> locker(&_lock);\n@@ -451,1 +445,0 @@\n-    ZLocker<ZConditionLock> locker(&_force_uncommit_lock);\n@@ -453,1 +446,1 @@\n-    _force_uncommit_lock.notify_all();\n+    _lock.notify_all();\n","filename":"src\/hotspot\/share\/gc\/z\/zUncommitter.cpp","additions":9,"deletions":16,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -46,1 +46,0 @@\n-  mutable ZConditionLock _force_uncommit_lock;\n@@ -70,1 +69,0 @@\n-  void wait_for_finish_force_uncommit();\n","filename":"src\/hotspot\/share\/gc\/z\/zUncommitter.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}
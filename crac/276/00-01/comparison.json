{"files":[{"patch":"@@ -85,1 +85,8 @@\n-                    d.setFd(fileDescriptorAccess.get(entry.getKey()));\n+                    int fd = fileDescriptorAccess.get(entry.getKey());\n+                    if (fd < 0) {\n+                        assert fileDescriptorAccess.getHandle(entry.getKey()) != -1;\n+                        \/\/ On Windows the native FDs check is a no-op, but we need to set\n+                        \/\/ the FD to prevent assertion failure on Descriptor.getFd()\n+                        fd = 0;\n+                    }\n+                    d.setFd(fd);\n@@ -100,2 +107,2 @@\n-        LoggerContainer.debug(\"ClaimFD: fd {0} claimer {1} existing {2}\",\n-            fd, claimer, descriptor != null ? descriptor.claimer : \"NONE\");\n+        LoggerContainer.debug(\"ClaimFD: fd {0} ({1}) claimer {2} existing {3}\",\n+            fd, fileDescriptorAccess.get(fd), claimer, descriptor != null ? descriptor.claimer : \"NONE\");\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/ClaimedFDs.java","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"}]}
{"files":[{"patch":"@@ -35,1 +35,0 @@\n-import sun.security.action.GetBooleanAction;\n@@ -53,1 +52,1 @@\n-                GetBooleanAction.privilegedGetProperty(JDKContext.COLLECT_FD_STACKTRACES_PROPERTY);\n+                Boolean.getBoolean(JDKContext.COLLECT_FD_STACKTRACES_PROPERTY);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/JDKContext.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -5,1 +5,0 @@\n-import sun.security.action.GetBooleanAction;\n@@ -15,1 +14,1 @@\n-        GetBooleanAction.privilegedGetProperty(COLLECT_FD_STACKTRACES_PROPERTY);\n+        Boolean.getBoolean(COLLECT_FD_STACKTRACES_PROPERTY);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/JDKFdResource.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -7,1 +7,0 @@\n-import sun.security.action.GetPropertyAction;\n@@ -24,1 +23,1 @@\n-        String[] items = GetPropertyAction.privilegedGetProperty(\"java.class.path\")\n+        String[] items = System.getProperty(\"java.class.path\")\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/JDKFileResource.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -5,1 +5,0 @@\n-import sun.security.action.GetPropertyAction;\n@@ -58,1 +57,1 @@\n-        String file = GetPropertyAction.privilegedGetProperty(PROPERTY);\n+        String file = System.getProperty(PROPERTY);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/OpenResourcePolicies.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -34,1 +34,0 @@\n-import sun.security.action.GetBooleanAction;\n@@ -71,1 +70,1 @@\n-            GetBooleanAction.privilegedGetProperty(\"jdk.crac.trace-startup-time\");\n+            Boolean.getBoolean(\"jdk.crac.trace-startup-time\");\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/mirror\/Core.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -5,1 +5,0 @@\n-import sun.security.action.GetPropertyAction;\n@@ -11,1 +10,1 @@\n-        String implName = GetPropertyAction.privilegedGetProperty(GLOBAL_CONTEXT_IMPL_PROP, \"\");\n+        String implName = System.getProperty(GLOBAL_CONTEXT_IMPL_PROP, \"\");\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/mirror\/impl\/GlobalContext.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -148,4 +148,6 @@\n-                synchronized (phantomCleanableList) {\n-                    for (var ref = phantomCleanableList.next; ref != phantomCleanableList; ref = ref.next) {\n-                        if (ref.refersTo(null)) {\n-                            refArr.add(ref);\n+                synchronized (activeList) {\n+                    for (var node = activeList.head; node != null; node = node.next) {\n+                        for (int i = node.size - 1; i >= 0; --i) {\n+                            if (node.arr[i].refersTo(null)) {\n+                                refArr.add(node.arr[i]);\n+                            }\n@@ -189,1 +191,1 @@\n-        if (phantomCleanableList.isListEmpty()) {\n+        if (activeList.isEmpty()) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/ref\/CleanerImpl.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}
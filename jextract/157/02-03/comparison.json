{"files":[{"patch":"@@ -329,0 +329,1 @@\n+            \/\/ anonymous struct\n@@ -428,11 +429,0 @@\n-    record ScopedLayout(MemoryLayout layout) {\n-        public static void with(Scoped declaration, MemoryLayout layout) {\n-            declaration.addAttribute(new ScopedLayout(layout));\n-        }\n-\n-        public static Optional<MemoryLayout> get(Scoped declaration) {\n-            return declaration.getAttribute(ScopedLayout.class)\n-                    .map(ScopedLayout::layout);\n-        }\n-    }\n-\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/DeclarationImpl.java","additions":1,"deletions":11,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import java.lang.foreign.*;\n@@ -32,1 +31,0 @@\n-import org.openjdk.jextract.impl.DeclarationImpl.ScopedLayout;\n@@ -36,1 +34,0 @@\n-import java.net.URI;\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/OutputFactory.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -308,3 +308,0 @@\n-                if ((ClangAlignOf.getOrThrow(member) \/ 8) > align) {\n-                    memberLayout = STR.\"\\{memberLayout}.withByteAlignment(\\{align})\";\n-                }\n@@ -324,1 +321,4 @@\n-            memberLayouts.add(paddingLayoutString((expectedSize - size) \/ 8));\n+            long trailPadding = isStruct ?\n+                    (expectedSize - size) \/ 8 :\n+                    expectedSize \/ 8;\n+            memberLayouts.add(paddingLayoutString(trailPadding));\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/StructBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -63,1 +63,0 @@\n-        String longType = TypeImpl.IS_WINDOWS ? \"INT\" : \"LONG\";\n@@ -69,1 +68,0 @@\n-            public static final ValueLayout.OfLong C_LONG = ValueLayout.JAVA_\\{longType};\n@@ -77,1 +75,4 @@\n-            first.appendIndentedLines(\"public static final AddressLayout C_LONG_DOUBLE = ValueLayout.JAVA_DOUBLE;\");\n+            first.appendIndentedLines(\"public static final ValueLayout.OfInt C_LONG = ValueLayout.JAVA_INT;\");\n+            first.appendIndentedLines(\"public static final ValueLayout.OfDouble C_LONG_DOUBLE = ValueLayout.JAVA_DOUBLE;\");\n+        } else {\n+            first.appendIndentedLines(\"public static final ValueLayout.OfLong C_LONG = ValueLayout.JAVA_LONG;\");\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/ToplevelBuilder.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}
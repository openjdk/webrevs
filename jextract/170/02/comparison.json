{"files":[{"patch":"@@ -253,3 +253,3 @@\n-                    paddingLayoutString(8);\n-            case HalfFloat, Char16, WChar -> paddingLayoutString(2); \/\/ unsupported\n-            case Float128, Int128 -> paddingLayoutString(16); \/\/ unsupported\n+                    paddingLayoutString(8, 0);\n+            case HalfFloat, Char16, WChar -> paddingLayoutString(2, 0); \/\/ unsupported\n+            case Float128, Int128 -> paddingLayoutString(16, 0); \/\/ unsupported\n@@ -266,2 +266,2 @@\n-    String paddingLayoutString(long size) {\n-        return STR.\"MemoryLayout.paddingLayout(\\{size})\";\n+    String paddingLayoutString(long size, int indent) {\n+        return STR.\"\\{indentString(indent)}MemoryLayout.paddingLayout(\\{size})\";\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/ClassSourceBuilder.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -380,1 +380,1 @@\n-            return STR.\"Arena.ofAuto().allocateFrom(\\\"\\{Utils.quote(Objects.toString(value))}\\\");\";\n+            return STR.\"Arena.ofAuto().allocateFrom(\\\"\\{Utils.quote(Objects.toString(value))}\\\")\";\n@@ -382,1 +382,1 @@\n-            return STR.\"MemorySegment.ofAddress(\\{((Number)value).longValue()}L);\";\n+            return STR.\"MemorySegment.ofAddress(\\{((Number)value).longValue()}L)\";\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/HeaderFileBuilder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -286,1 +286,1 @@\n-            case Declared d when Utils.isStructOrUnion(type) -> structOrUnionLayoutString(0, d.tree());\n+            case Declared d when Utils.isStructOrUnion(type) -> structOrUnionLayoutString(0, d.tree(), 0);\n@@ -300,1 +300,1 @@\n-    private String structOrUnionLayoutString(long base, Declaration.Scoped scoped) {\n+    private String structOrUnionLayoutString(long base, Declaration.Scoped scoped, int indent) {\n@@ -314,1 +314,1 @@\n-                    memberLayouts.add(paddingLayoutString(delta \/ 8));\n+                    memberLayouts.add(paddingLayoutString(delta \/ 8, indent + 1));\n@@ -323,1 +323,1 @@\n-                    memberLayout = STR.\"\\{memberLayout}.withName(\\\"\\{member.name()}\\\")\";\n+                    memberLayout = STR.\"\\{indentString(indent + 1)}\\{memberLayout}.withName(\\\"\\{member.name()}\\\")\";\n@@ -326,1 +326,1 @@\n-                    memberLayout = structOrUnionLayoutString(offset, (Scoped) member);\n+                    memberLayout = structOrUnionLayoutString(offset, (Scoped) member, indent + 1);\n@@ -344,1 +344,1 @@\n-            memberLayouts.add(paddingLayoutString(trailPadding));\n+            memberLayouts.add(paddingLayoutString(trailPadding, indent + 1));\n@@ -347,3 +347,4 @@\n-        String indentNewLine = STR.\"\\n\\{indentString(1)}\";\n-        String prefix = isStruct ? \"MemoryLayout.structLayout(\" :\n-                \"MemoryLayout.unionLayout(\";\n+        String prefix = isStruct ?\n+                STR.\"\\{indentString(indent)}MemoryLayout.structLayout(\\n\" :\n+                STR.\"\\{indentString(indent)}MemoryLayout.unionLayout(\\n\";\n+        String suffix = STR.\"\\n\\{indentString(indent)})\";\n@@ -351,1 +352,1 @@\n-                .collect(Collectors.joining(\",\" + indentNewLine, prefix + indentNewLine, \"\\n)\"));\n+                .collect(Collectors.joining(\",\\n\", prefix, suffix));\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/StructBuilder.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"}]}
{"files":[{"patch":"@@ -990,2 +990,2 @@\n-| `--macos-framework <dir>` (macOs only)           | specify the framework directory include files <br\/>defaults to the current Mac OS X SDK dir<br\/> This removes the need of having a compile_flags.txt with the required `-framework XYZ` options in the folder where jextract is ran |\n-| `-f <framework>` (macOs only)                    | specify the name of the library, path will be expanded to that of the framework folder                                                                                                                                                 |\n+| `--macos-framework <dir>` (macOs only)           | specify the framework directory include files. Defaults to the current Mac OS X SDK dir.|\n+| `-f <framework>` (macOs only)                    | specify the name of the library, path will be expanded to that of the framework folder.|\n","filename":"doc\/GUIDE.md","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,2 +1,2 @@\n-jextract -t opengl -f GLUT \\\n-  -f OpenGL \\\n+jextract -t opengl -F GLUT \\\n+  -F OpenGL \\\n","filename":"samples\/opengl\/compilesource.sh","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -75,0 +75,1 @@\n+    private List<String> frameworkDirs;\n@@ -78,0 +79,1 @@\n+        this.frameworkDirs = new ArrayList<>();\n@@ -363,2 +365,2 @@\n-        parser.accepts(\"--macos-framework\", \"help.mac.framework\", true);\n-        parser.accepts(\"-f\", \"help.framework.library.path\", true);\n+        parser.accepts(\"-framework\", \"help.mac.framework\", true);\n+        parser.accepts(\"-F\", \"help.framework.library.path\", true);\n@@ -392,1 +394,4 @@\n-                Files.lines(compileFlagsTxt).forEach(opt -> builder.addClangArg(opt));\n+                Files.lines(compileFlagsTxt).forEach(opt -> {\n+                    builder.addClangArg(opt);\n+                    frameworkDirs.add(opt.substring(2).trim());\n+                });\n@@ -447,1 +452,1 @@\n-        optionError = parseLibraries(\"f\", optionSet, useSystemLoadLibrary, builder);\n+        optionError = parseLibraries(\"F\", optionSet, useSystemLoadLibrary, builder);\n@@ -451,2 +456,6 @@\n-        if (optionSet.has(\"--macos-framework\")) {\n-            optionSet.valuesOf(\"--macos-framework\").forEach(p -> builder.addClangArg(\"-F\" + p));\n+        if (optionSet.has(\"-framework\")) {\n+            optionSet.valuesOf(\"-framework\").forEach(\n+                    p -> {\n+                        builder.addClangArg(\"-F\" + p);\n+                        frameworkDirs.add(p);\n+                    });\n@@ -455,1 +464,4 @@\n-        inferMacOSFrameworkPath().ifPresent(platformPath -> builder.addClangArg(\"-F\" + platformPath));\n+        inferMacOSFrameworkPath().ifPresent(platformPath -> {\n+            builder.addClangArg(\"-F\" + platformPath);\n+            frameworkDirs.add(String.valueOf(platformPath));\n+        });\n@@ -530,1 +542,1 @@\n-                    if (optionString.equals(\"f\")) {\n+                    if (optionString.equals(\"F\")) {\n@@ -534,1 +546,0 @@\n-                    assert lib != null;\n@@ -604,0 +615,7 @@\n+        for (String dir : frameworkDirs) {\n+            Path path = Path.of(dir, optionString + \".framework\");\n+            if (Files.exists(path)) {\n+                return String.format(\":%s%s\", path, optionString);\n+            }\n+        }\n+\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/JextractTool.java","additions":27,"deletions":9,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-f.option.value.invalid=invalid library specifier for -f option: {0}\n+f.option.value.invalid=invalid library specifier for -F option: {0}\n@@ -90,3 +90,3 @@\n---macos-framework <dir>            specify the framework directory                              \\n\\\n--f <framework>                     specify framework library. -f libGL is equivalent to         \\n\\\n-\\                                      -l :\/System\/Library\/Frameworks\/libGL.framework\/libGL     \\n\n+-framework <dir>            specify the framework directory                                     \\n\\\n+-F <framework>                     specify framework library. -F libGL is equivalent to         \\n\\\n+\\                                      -l :\/System\/Library\/Frameworks\/libGL.framework\/libGL\n","filename":"src\/main\/resources\/org\/openjdk\/jextract\/impl\/resources\/Messages.properties","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
{"files":[{"patch":"@@ -231,3 +231,2 @@\n-            static final SymbolLookup SYMBOL_LOOKUP;\n-\n-            static {\n+            static final SymbolLookup SYMBOL_LOOKUP\n+                    = SymbolLookup.loaderLookup().or(Linker.nativeLinker().defaultLookup());\n@@ -235,9 +234,10 @@\n-        incrAlign();\n-        for (String lib : libraries) {\n-            String quotedLibName = lib.replace(\"\\\\\", \"\\\\\\\\\"); \/\/ double up slashes\n-            String method = quotedLibName.indexOf(File.separatorChar) != -1 ? \"load\" : \"loadLibrary\";\n-            appendIndentedLines(STR.\"System.\\{method}(\\\"\\{quotedLibName}\\\");\");\n-        }\n-        decrAlign();\n-        appendIndentedLines(\"\"\"\n-                SYMBOL_LOOKUP = SymbolLookup.loaderLookup().or(Linker.nativeLinker().defaultLookup());\n+        if (!libraries.isEmpty()) {\n+            appendIndentedLines(\"\"\"\n+\n+                static {\n+                \"\"\");\n+            incrAlign();\n+            for (String lib : libraries) {\n+                String quotedLibName = lib.replace(\"\\\\\", \"\\\\\\\\\"); \/\/ double up slashes\n+                String method = quotedLibName.indexOf(File.separatorChar) != -1 ? \"load\" : \"loadLibrary\";\n+                appendIndentedLines(STR.\"System.\\{method}(\\\"\\{quotedLibName}\\\");\");\n@@ -245,1 +245,5 @@\n-            \"\"\");\n+            decrAlign();\n+            appendIndentedLines(\"\"\"\n+                }\n+                \"\"\");\n+        }\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/HeaderFileBuilder.java","additions":17,"deletions":13,"binary":false,"changes":30,"status":"modified"}]}
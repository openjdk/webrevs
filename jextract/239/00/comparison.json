{"files":[{"patch":"@@ -56,1 +56,0 @@\n-            TOOLCHAIN_JAVA_HOME: \/tmp\/deps\/jdk-toolchain\n@@ -62,1 +61,0 @@\n-            TOOLCHAIN_JAVA_HOME: \/tmp\/deps\/jdk-toolchain\/jdk-22.jdk\/Contents\/Home\n@@ -68,1 +66,0 @@\n-            TOOLCHAIN_JAVA_HOME: C:\/tmp\/deps\/jdk-toolchain\/jdk-22\n@@ -101,2 +98,6 @@\n-        mkdir -p ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\n-        tar --strip-components=1 -xvf ${{ steps.download-toolchain-jdk.outputs.archive }} -C ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\n+        mkdir -p ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\n+        tar --strip-components=1 -xvf ${{ steps.download-toolchain-jdk.outputs.archive }} -C ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\n+        ls -lah ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\n+        jdk_root=\"$(dirname $(find ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked -name bin -type d))\"\n+        echo \"jdk_root = $jdk_root\"\n+        mv \"$jdk_root\"\/* ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/\n@@ -104,1 +105,1 @@\n-        ${{ matrix.TOOLCHAIN_JAVA_HOME }}\/bin\/java --version\n+        ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/bin\/java --version\n@@ -110,4 +111,8 @@\n-        New-Item -ItemType Directory ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\n-        7z x ${{ steps.download-toolchain-jdk.outputs.archive }} -o${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/\n-        ls ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/jdk-22\n-        ${{ matrix.TOOLCHAIN_JAVA_HOME }}\/bin\/java --version\n+        New-Item -ItemType Directory ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\n+        7z x ${{ steps.download-toolchain-jdk.outputs.archive }} -o${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\n+        ls ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\n+        $jdk_root = Get-ChildItem -Path ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/unpacked\/*\/bin -Recurse | Select-Object -First 1 | %{ $_.Parent.Parent.FullName }\n+        Write-Host \"jdk_root = $jdk_root\"\n+        Move-Item -Path \"$jdk_root\/*\" -Destination ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/\n+        ls ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/\n+        ${{ matrix.DEPS_ROOT }}\/jdk-toolchain\/bin\/java --version\n@@ -161,1 +166,1 @@\n-        sh .\/gradlew -Pjdk22_home=${{ matrix.TOOLCHAIN_JAVA_HOME }} -Pllvm_home=${{ matrix.DEPS_ROOT }}\/llvm\/image clean verify        \n+        sh .\/gradlew -Pjdk22_home=${{ matrix.DEPS_ROOT }}\/jdk-toolchain -Pllvm_home=${{ matrix.DEPS_ROOT }}\/llvm\/image clean verify        \n@@ -174,1 +179,1 @@\n-        sh .\/gradlew -Pjdk22_home=${{ matrix.TOOLCHAIN_JAVA_HOME }} -Pllvm_home=${{ matrix.DEPS_ROOT }}\/llvm\/image -Pjtreg_home=.\/deps\/jtreg\/build\/images\/jtreg jtreg\n+        sh .\/gradlew -Pjdk22_home=${{ matrix.DEPS_ROOT }}\/jdk-toolchain -Pllvm_home=${{ matrix.DEPS_ROOT }}\/llvm\/image -Pjtreg_home=.\/deps\/jtreg\/build\/images\/jtreg jtreg\n","filename":".github\/workflows\/test.yml","additions":17,"deletions":12,"binary":false,"changes":29,"status":"modified"}]}
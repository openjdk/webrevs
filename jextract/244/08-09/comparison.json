{"files":[{"patch":"@@ -204,2 +204,2 @@\n-            case Declared d when Utils.isStructOrUnion(d) -> alignIfNeeded(\"%1$s.layout()\", JavaName.getFullNameOrThrow(d.tree()), ClangAlignOf.getOrThrow(d.tree()) \/ 8, align);\n-            case Delegated d when d.kind() == Delegated.Kind.POINTER -> alignIfNeeded(\"%1$s.C_POINTER\", runtimeHelperName(), 8, align);\n+            case Declared d when Utils.isStructOrUnion(d) -> alignIfNeeded(JavaName.getFullNameOrThrow(d.tree()) + \".layout()\", ClangAlignOf.getOrThrow(d.tree()) \/ 8, align);\n+            case Delegated d when d.kind() == Delegated.Kind.POINTER -> alignIfNeeded(runtimeHelperName() + \".C_POINTER\", 8, align);\n@@ -207,1 +207,1 @@\n-            case Function _ -> alignIfNeeded(\"%1$s.C_POINTER\", runtimeHelperName(), 8, align);\n+            case Function _ -> alignIfNeeded(runtimeHelperName() + \".C_POINTER\", 8, align);\n@@ -249,6 +249,6 @@\n-            case Short -> alignIfNeeded(\"%1$s.C_SHORT\", runtimeHelperName(), 2, align);\n-            case Int -> alignIfNeeded(\"%1$s.C_INT\", runtimeHelperName(), 4, align);\n-            case Long -> alignIfNeeded(\"%1$s.C_LONG\", runtimeHelperName(), TypeImpl.IS_WINDOWS ? 4 : 8, align);\n-            case LongLong -> alignIfNeeded(\"%1$s.C_LONG_LONG\", runtimeHelperName(), 8, align);\n-            case Float -> alignIfNeeded(\"%1$s.C_FLOAT\", runtimeHelperName(), 4, align);\n-            case Double -> alignIfNeeded(\"%1$s.C_DOUBLE\", runtimeHelperName(), 8, align);\n+            case Short -> alignIfNeeded(runtimeHelperName() + \".C_SHORT\", 2, align);\n+            case Int -> alignIfNeeded(runtimeHelperName() + \".C_INT\", 4, align);\n+            case Long -> alignIfNeeded(runtimeHelperName() + \".C_LONG\", TypeImpl.IS_WINDOWS ? 4 : 8, align);\n+            case LongLong -> alignIfNeeded(runtimeHelperName() + \".C_LONG_LONG\", 8, align);\n+            case Float -> alignIfNeeded(runtimeHelperName() + \".C_FLOAT\", 4, align);\n+            case Double -> alignIfNeeded(runtimeHelperName() + \".C_DOUBLE\", 8, align);\n@@ -256,1 +256,1 @@\n-                    alignIfNeeded(\"%1$s.C_LONG_DOUBLE\", runtimeHelperName(), 8, align) :\n+                    alignIfNeeded(runtimeHelperName() + \".C_LONG_DOUBLE\", 8, align) :\n@@ -264,2 +264,1 @@\n-    private String alignIfNeeded(String layout, String prefix, long align, long expectedAlign) {\n-        String layoutPrefix = String.format(layout, prefix);\n+    private String alignIfNeeded(String layoutPrefix, long align, long expectedAlign) {\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/ClassSourceBuilder.java","additions":11,"deletions":12,"binary":false,"changes":23,"status":"modified"}]}
{"files":[{"patch":"@@ -215,1 +215,6 @@\n-void createJtregTask(String name, boolean coverage, String os_lib_dir) {\n+\/\/ alias that can be easily referenced from a run configuration\n+tasks.register(\"testDeps\") {\n+    dependsOn createRuntimeImageForTest,cmakeBuild\n+}\n+\n+void createJtregTask(String name, String jacocoAgent, String os_lib_dir) {\n@@ -217,1 +222,1 @@\n-        dependsOn createRuntimeImageForTest,cmakeBuild\n+        dependsOn testDeps\n@@ -222,4 +227,0 @@\n-        \/\/ e.g.: <jacoco repo>\/org.jacoco.agent\/target\/classes\/jacocoagent.jar\n-        if (coverage && findProperty(\"jacoco_agent\") == null) {\n-            throw new GradleException(\"jacoco_agent is not defined\")\n-        }\n@@ -242,2 +243,1 @@\n-        if (coverage) {\n-            String jacocoAgent = findProperty(\"jacoco_agent\")\n+        if (jacocoAgent != null) {\n@@ -253,2 +253,6 @@\n-createJtregTask(\"jtreg\", false, os_lib_dir)\n-createJtregTask(\"jtregWithCoverage\", true, os_lib_dir)\n+createJtregTask(\"jtreg\", null, os_lib_dir)\n+\/\/ e.g.: <jacoco repo>\/org.jacoco.agent\/target\/classes\/jacocoagent.jar\n+String jacocoAgent = findProperty(\"jacoco_agent\")\n+if (jacocoAgent != null) {\n+    createJtregTask(\"jtregWithCoverage\", jacocoAgent, os_lib_dir)\n+}\n","filename":"build.gradle","additions":14,"deletions":10,"binary":false,"changes":24,"status":"modified"}]}
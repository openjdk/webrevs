{"files":[{"patch":"@@ -4,0 +4,1 @@\n+import java.nio.file.attribute.PosixFilePermission;\n@@ -126,2 +127,1 @@\n-         \"--output=${jextract_app_dir}\",\n-         \"--launcher=jextract=org.openjdk.jextract\/org.openjdk.jextract.JextractTool\",\n+         \"--output=${jextract_app_dir}\/runtime\",\n@@ -132,0 +132,13 @@\n+\n+    doLast {\n+        \/\/ Add launcher scripts\n+        Path unixOut = Path.of(\"${jextract_app_dir}\/jextract\");\n+        Files.copy(Path.of(\"$projectDir\/src\/main\/jextract\"), unixOut);\n+        Set<PosixFilePermission> perms = Files.getPosixFilePermissions(unixOut);\n+        perms.add(PosixFilePermission.OWNER_EXECUTE);\n+        perms.add(PosixFilePermission.GROUP_EXECUTE);\n+        perms.add(PosixFilePermission.OTHERS_EXECUTE);\n+        Files.setPosixFilePermissions(unixOut, perms);\n+\n+        Files.copy(Path.of(\"$projectDir\/src\/main\/jextract.bat\"), Path.of(\"${jextract_app_dir}\/jextract.bat\"))\n+    }\n@@ -141,1 +154,1 @@\n-    executable = \"${jextract_app_dir}\/bin\/jextract${os_script_extension}\"\n+    executable = \"${jextract_app_dir}\/jextract${os_script_extension}\"\n","filename":"build.gradle","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-\t    --output \"$(JEXTRACT_IMAGE_DIR)\" \\\n+\t    --output \"$(JEXTRACT_IMAGE_DIR)\/runtime\" \\\n@@ -86,2 +86,3 @@\n-\t    --add-options \"\\\"--enable-native-access=org.openjdk.jextract\\\" \\\"--enable-preview\\\"\" \\\n-\t    --launcher jextract=org.openjdk.jextract\/org.openjdk.jextract.JextractTool\n+\t    --add-options \"\\\"--enable-native-access=org.openjdk.jextract\\\" \\\"--enable-preview\\\"\"\n+\t$(CP) src\/main\/jextract \"$(JEXTRACT_IMAGE_DIR)\"\n+\t$(CP) src\/main\/jextract.bat \"$(JEXTRACT_IMAGE_DIR)\"\n","filename":"make\/Build.gmk","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -0,0 +1,3 @@\n+#!\/bin\/sh\n+DIR=`dirname $0`\n+$DIR\/runtime\/bin\/java -m org.openjdk.jextract\/org.openjdk.jextract.JextractTool \"$@\"\n","filename":"src\/main\/jextract","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"},{"patch":"@@ -0,0 +1,2 @@\n+@set DIR=%~dp0\n+@\"%DIR%\\runtime\\bin\\java\" -m org.openjdk.jextract\/org.openjdk.jextract.JextractTool %*\n","filename":"src\/main\/jextract.bat","additions":2,"deletions":0,"binary":false,"changes":2,"status":"added"}]}
{"files":[{"patch":"@@ -293,6 +293,8 @@\n-                        Declaration fieldDecl = createTree(fc);\n-                        ClangSizeOf.with(fieldDecl, fc.type().kind() == TypeKind.IncompleteArray ?\n-                                0 : fc.type().size() * 8);\n-                        ClangOffsetOf.with(fieldDecl, parent.type().getOffsetOf(fc.spelling()));\n-                        ClangAlignOf.with(fieldDecl, fc.type().align() * 8);\n-                        pendingFields.add(fieldDecl);\n+                        if (fc.kind() == CursorKind.FieldDecl) {\n+                            Declaration fieldDecl = createTree(fc);\n+                            ClangSizeOf.with(fieldDecl, fc.type().kind() == TypeKind.IncompleteArray ?\n+                                    0 : fc.type().size() * 8);\n+                            ClangOffsetOf.with(fieldDecl, parent.type().getOffsetOf(fc.spelling()));\n+                            ClangAlignOf.with(fieldDecl, fc.type().align() * 8);\n+                            pendingFields.add(fieldDecl);\n+                        }\n@@ -372,4 +374,6 @@\n-                Declaration enumConstantDecl = createTree(child);\n-                if (enumConstantDecl != null) { \/\/ see CODETOOLS-7903673\n-                    DeclarationString.with(enumConstantDecl, enumConstantString(c.spelling(), (Declaration.Constant) enumConstantDecl));\n-                    decls.add(enumConstantDecl);\n+                if (child.kind() == CursorKind.EnumConstantDecl) {\n+                    Declaration enumConstantDecl = createTree(child);\n+                    if (enumConstantDecl != null) {\n+                        DeclarationString.with(enumConstantDecl, enumConstantString(c.spelling(), (Declaration.Constant) enumConstantDecl));\n+                        decls.add(enumConstantDecl);\n+                    }\n@@ -474,1 +478,4 @@\n-                    nestedTypes.add(createTree(m));\n+                    Declaration decl = createTree(m);\n+                    if (decl != null) {\n+                        nestedTypes.add(decl);\n+                    }\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/impl\/TreeMaker.java","additions":18,"deletions":11,"binary":false,"changes":29,"status":"modified"}]}
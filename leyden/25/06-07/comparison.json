{"files":[{"patch":"@@ -2518,0 +2518,11 @@\n+#if INCLUDE_CDS\n+static inline bool adapter_fp_equals_compact_hashtable_entry(AdapterHandlerEntry* entry, AdapterFingerPrint* fp, int len_unused) {\n+  return AdapterFingerPrint::equals(entry->fingerprint(), fp);\n+}\n+\n+class ArchivedAdapterTable : public OffsetCompactHashtable<\n+  AdapterFingerPrint*,\n+  AdapterHandlerEntry*,\n+  adapter_fp_equals_compact_hashtable_entry> {};\n+#endif \/\/ INCLUDE_CDS\n+\n@@ -2670,1 +2681,1 @@\n-      if (generate_adapter_code(adapter_blob, entry, total_args_passed, sig_bt, \/* is_transient *\/ true)) {\n+      if (!generate_adapter_code(adapter_blob, entry, total_args_passed, sig_bt, \/* is_transient *\/ false)) {\n@@ -2999,1 +3010,1 @@\n-        log_trace(cds)(\"Added fp=%p, entry=%p to the archived adater table\", buffered_fp, buffered_entry);\n+        log_trace(cds)(\"Added fp=%p (%s), entry=%p to the archived adater table\", buffered_fp, buffered_fp->as_basic_args_string(), buffered_entry);\n@@ -3003,1 +3014,1 @@\n-        log_trace(cds)(\"Skipping adapter handler %p as it is not archived\", entry);\n+        log_trace(cds)(\"Skipping adapter handler %p (fp=%s) as it is not archived\", entry, fp->as_basic_args_string());\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":14,"deletions":3,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -831,3 +831,0 @@\n-  static bool EQUALS(AdapterHandlerEntry* entry, AdapterFingerPrint* fp, int len_unused) {\n-    return entry->fingerprint() == fp;\n-  }\n@@ -836,7 +833,0 @@\n-#if INCLUDE_CDS\n-class ArchivedAdapterTable : public OffsetCompactHashtable<\n-  AdapterFingerPrint*,\n-  AdapterHandlerEntry*,\n-  AdapterHandlerLibrary::EQUALS> {};\n-#endif \/\/ INCLUDE_CDS\n-\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.hpp","additions":0,"deletions":10,"binary":false,"changes":10,"status":"modified"}]}
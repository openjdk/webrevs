{"files":[{"patch":"@@ -577,0 +577,12 @@\n+    if (StoreCachedCode) {\n+      \/\/ Assembly phase runs C1 and C2 compilation in separate phases,\n+      \/\/ and can use all the CPU threads it can reach. Adjust the common\n+      \/\/ options before policy starts overwriting them. There is a block\n+      \/\/ at the very end that overrides final thread counts.\n+      if (FLAG_IS_DEFAULT(UseDynamicNumberOfCompilerThreads)) {\n+        FLAG_SET_ERGO(UseDynamicNumberOfCompilerThreads, false);\n+      }\n+      if (FLAG_IS_DEFAULT(CICompilerCount)) {\n+        FLAG_SET_ERGO(CICompilerCount, MAX2(2, os::active_processor_count()));\n+      }\n+    }\n@@ -645,0 +657,5 @@\n+    if (StoreCachedCode) {\n+      set_c1_count(count);\n+      set_c2_count(count);\n+      count *= 2; \/\/ satisfy the assert below\n+    }\n","filename":"src\/hotspot\/share\/compiler\/compilationPolicy.cpp","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -666,1 +666,7 @@\n-    if (AOTCodeCache::is_code_load_thread_on()) {\n+    \/\/ We cannot trust AOTCodeCache status here, due to bootstrapping circularity.\n+    \/\/ Compilation policy init runs before AOT cache is fully initialized, so the\n+    \/\/ normal AOT cache status check would always fail.\n+    \/\/ See: https:\/\/bugs.openjdk.org\/browse\/JDK-8358690\n+    \/\/\n+    \/\/ if (AOTCodeCache::is_code_load_thread_on()) {\n+    if (AOTCodeCaching && UseCodeLoadThread && CDSConfig::is_using_archive()) {\n","filename":"src\/hotspot\/share\/compiler\/compilationPolicy.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}
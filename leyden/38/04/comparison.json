{"files":[{"patch":"@@ -488,0 +488,3 @@\n+  product(bool, PreloadReduceTraps, true, DIAGNOSTIC,                       \\\n+          \"Preload code should avoid traps as much as possible.\")           \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/compiler\/compiler_globals.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4117,0 +4117,4 @@\n+  if (PreloadReduceTraps && for_preload()) {\n+    \/\/ Preload code should not have traps, if possible.\n+    return true;\n+  }\n@@ -4142,0 +4146,4 @@\n+  if (PreloadReduceTraps && for_preload()) {\n+    \/\/ Preload code should not have traps, if possible.\n+    return true;\n+  }\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2126,0 +2126,10 @@\n+  if (PreloadReduceTraps && Compile::current()->for_preload() &&\n+      (action != Deoptimization::Action_none)) {\n+    ResourceMark rm;\n+    ciMethod* cim = Compile::current()->method();\n+    log_debug(scc,deoptimization)(\"Uncommon trap in preload code: reason=%s action=%s method=%s::%s bci=%d, %s\",\n+                  Deoptimization::trap_reason_name(reason), Deoptimization::trap_action_name(action),\n+                  cim->holder()->name()->as_klass_external_name(), cim->name()->as_klass_external_name(),\n+                  bci(), comment);\n+  }\n+\n","filename":"src\/hotspot\/share\/opto\/graphKit.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2016,2 +2016,2 @@\n-    ls.print(\"cid=%4d %s level=%d\",\n-             nm->compile_id(), (is_osr ? \"osr\" : \"   \"), nm->comp_level());\n+    ls.print(\"cid=%4d %s%s level=%d\",\n+             nm->compile_id(), (is_osr ? \"osr\" : \"   \"), (nm->preloaded() ? \"preload\" : \"\"), nm->comp_level());\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
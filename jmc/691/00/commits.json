[{"commit":{"message":"Add benchmark comparison tool and enhance documentation\n\nAdd compare.py Python script for easy comparison of JMH benchmark results\nbetween baseline and optimized runs. The script automatically handles different\nbenchmark modes (throughput vs average time) and displays improvements with\ndirectional indicators.\n\nChanges:\n- Add compare.py utility script with:\n  - Automatic detection of benchmark modes (thrpt, avgt, etc.)\n  - Correct calculation of improvements (higher\/lower is better)\n  - Formatted output with directional arrows (â†‘\/â†“)\n  - Support for parameterized benchmarks\n  - Optional custom title for comparisons\n- Update README.md with:\n  - Detailed compare.py usage instructions\n  - Example output showing improvement percentages\n  - Explanation of benchmark mode handling\n\nUsage:\n  python3 compare.py baseline.json optimized.json \"Optional Title\"\n\nðŸ¤– Generated with [Claude Code](https:\/\/claude.com\/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>"},"files":[{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/README.md"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/compare.py"}],"sha":"449eefdc3b4f4536fd09aa3674cff869bfa3e5d4"},{"commit":{"message":"Fix JMH benchmark build and add comprehensive documentation\n\nFix maven-jar-plugin configuration to correctly locate MANIFEST.MF from\nthe resources directory, enabling successful benchmark JAR creation.\n\nChanges:\n- Add manifestFile configuration pointing to ${project.build.outputDirectory}\/META-INF\/MANIFEST.MF\n- Create comprehensive README.md with:\n  - Build and usage instructions\n  - All 13 benchmark descriptions\n  - Profiling guide with examples\n  - Output format options (JSON, CSV, text)\n  - Common JMH options reference\n  - Troubleshooting guide\n- Add src\/main\/resources\/META-INF\/MANIFEST.MF for JAR packaging\n\nThe benchmark JAR (benchmarks.jar) now builds successfully via 'mvn clean package'\nand supports all JMH command-line arguments out-of-the-box.\n\nVerified functionality:\n- JAR executes and responds to -h (help)\n- All 13 benchmarks listed with -l\n- Benchmarks execute successfully (e.g., writeSimpleEvent: ~950K ops\/s)\n- JSON\/CSV output formats work\n- Profilers available (gc, jfr, stack, etc.)\n- Regex filtering and parameterization work\n\nðŸ¤– Generated with [Claude Code](https:\/\/claude.com\/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>"},"files":[{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/README.md"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/pom.xml"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/src\/main\/resources\/META-INF\/MANIFEST.MF"}],"sha":"7264aa4edcb61398465fe37fed436eaeda78a959"},{"commit":{"message":"Refactor mmap configuration from system properties to builder pattern\n\nReplace system property-based configuration with fluent builder API for\nconfiguring memory-mapped file settings when creating JFR recordings.\n\nChanges:\n- Add RecordingSettingsBuilder.withMmap() methods for enabling mmap with\n  default (4MB) or custom chunk sizes\n- Add useMmap() and getMmapChunkSize() methods to RecordingSettings\n- Remove system property constants from RecordingImpl:\n  - org.openjdk.jmc.flightrecorder.writer.mmap.enabled\n  - org.openjdk.jmc.flightrecorder.writer.mmap.chunkSize\n- Update MmapRecordingIntegrationTest to use builder pattern instead of\n  system properties\n- Add @since 10.0.0 javadoc tags to all new public API methods\n\nMigration example:\n  Before: System.setProperty(\"org.openjdk.jmc.flightrecorder.writer.mmap.enabled\", \"true\")\n  After:  Recordings.newRecording(stream, settings -> settings.withMmap())\n\nðŸ¤– Generated with [Claude Code](https:\/\/claude.com\/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>"},"files":[{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/RecordingImpl.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/RecordingSettingsBuilderImpl.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/api\/RecordingSettings.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/api\/RecordingSettingsBuilder.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.test\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/MmapRecordingIntegrationTest.java"}],"sha":"aaddf983b36c6776c74ea8e46845accaf4d9bc6f"},{"commit":{"message":"Add memory-mapped file support for JFR Writer\n\nImplements opt-in memory-mapped file (mmap) support for off-heap event\nstorage to reduce heap pressure during JFR recording. The implementation\nuses double-buffered per-thread mapped byte buffers with automatic\nrotation and background flushing.\n\nKey Components:\n- LEB128MappedWriter: Fixed-size mmap-backed LEB128 writer with\n  overflow detection\n- ThreadMmapManager: Manages per-thread double buffers and coordinates\n  rotation with background flush executor (daemon threads)\n- Chunk: Enhanced with automatic rotation support when buffer fills\n- RecordingImpl: Conditionally uses mmap or heap mode based on system\n  properties\n\nConfiguration:\n- org.openjdk.jmc.flightrecorder.writer.mmap.enabled=true (default: false)\n- org.openjdk.jmc.flightrecorder.writer.mmap.chunkSize=<bytes> (default: 4MB)\n\nPerformance: Benchmarks show 8-12% improvement over heap mode across all\nevent types (writeSimpleEvent +8.3%, writeMultiFieldEvent +11.9%,\nwriteRepeatedStringsEvent +11.9%, writeStringHeavyEvent +10.4%).\n\nBackward Compatibility: Heap mode remains the default. All existing tests\npass. New unit tests and integration tests verify mmap functionality.\n\nðŸ¤– Generated with [Claude Code](https:\/\/claude.com\/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>"},"files":[{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/doc\/mmap-implementation.md"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/Chunk.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/LEB128MappedWriter.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/RecordingImpl.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/ThreadMmapManager.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.test\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/LEB128MappedWriterTest.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.test\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/MmapRecordingIntegrationTest.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.test\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/ThreadMmapManagerTest.java"}],"sha":"5def3258783eeb7c9e1c2d8713f2b255fefe2eb3"},{"commit":{"message":"Add JMH benchmark infrastructure for JFR Writer performance analysis\n\n- Created benchmark module with JMH 1.37 support\n- Implemented 4 benchmark suites:\n  * EventWriteThroughputBenchmark: measures ops\/sec for different event types\n  * AllocationRateBenchmark: measures allocation rates during event writing\n  * StringEncodingBenchmark: measures UTF-8 encoding and caching performance\n  * ConstantPoolBenchmark: measures constant pool buildup and lookup\n\n- Baseline results (Apple M1 Max, JDK 21.0.5):\n  * Simple events: 986K ops\/s\n  * Multi-field events: 862K ops\/s\n  * Unique strings: 11.9x slower than repeated strings\n  * Identified OutOfMemoryError with unbounded constant pool growth\n\n- Comprehensive documentation with build\/run instructions\n- JSON results for programmatic comparison\n\nðŸ¤– Generated with [Claude Code](https:\/\/claude.com\/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>"},"files":[{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/doc\/baseline-quick.json"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/doc\/performance-benchmarks.md"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/baseline-quick.json"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/pom.xml"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/benchmarks\/AllocationRateBenchmark.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/benchmarks\/ConstantPoolBenchmark.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/benchmarks\/EventWriteThroughputBenchmark.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.benchmarks\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/benchmarks\/StringEncodingBenchmark.java"},{"filename":"core\/tests\/pom.xml"}],"sha":"44aa63776e828d20fa4b4729e1bb61bd8352ed0c"},{"commit":{"message":"8475: Writing events with fields not explicitly set can corrupt the recording"},"files":[{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/Chunk.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/TypedValueImpl.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/api\/Type.java"},{"filename":"core\/org.openjdk.jmc.flightrecorder.writer\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/api\/TypedValueBuilder.java"},{"filename":"core\/tests\/org.openjdk.jmc.flightrecorder.writer.test\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/writer\/ImplicitEventFieldsTest.java"}],"sha":"d6f6798891e6d9f8d1387de79fab93db03b24c24"}]
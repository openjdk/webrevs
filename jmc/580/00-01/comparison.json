{"files":[{"patch":"@@ -212,1 +212,0 @@\n-\tprivate static final Boolean IS_DARK_MODE = ThemeUtils.isDarkMode();\n@@ -259,8 +258,2 @@\n-\t\t\tif (IS_DARK_MODE) {\n-\t\t\t\tformText.setImage(COUNT_IMG_KEY, SWTColorToolkit.getColorThumbnail(COUNT_COLOR_DARK_MODE.getRGB()));\n-\t\t\t\tformText.setImage(SIBLINGS_IMG_KEY,\n-\t\t\t\t\t\tSWTColorToolkit.getColorThumbnail(SIBLINGS_COUNT_COLOR_DARK_MODE.getRGB()));\n-\t\t\t} else {\n-\t\t\t\tformText.setImage(COUNT_IMG_KEY, SWTColorToolkit.getColorThumbnail(COUNT_COLOR.getRGB()));\n-\t\t\t\tformText.setImage(SIBLINGS_IMG_KEY, SWTColorToolkit.getColorThumbnail(SIBLINGS_COUNT_COLOR.getRGB()));\n-\t\t\t}\n+\t\t\tformText.setImage(COUNT_IMG_KEY, SWTColorToolkit.getColorThumbnail(COUNT_COLOR.getRGB()));\n+\t\t\tformText.setImage(SIBLINGS_IMG_KEY, SWTColorToolkit.getColorThumbnail(SIBLINGS_COUNT_COLOR.getRGB()));\n@@ -873,1 +866,2 @@\n-\t\t\t\tevent.gc.setBackground(IS_DARK_MODE ? SIBLINGS_COUNT_COLOR_DARK_MODE : SIBLINGS_COUNT_COLOR);\n+\t\t\t\tevent.gc.setBackground(\n+\t\t\t\t\t\tThemeUtils.isDarkTheme() ? SIBLINGS_COUNT_COLOR_DARK_MODE : SIBLINGS_COUNT_COLOR);\n@@ -878,1 +872,1 @@\n-\t\t\t\tevent.gc.setBackground(IS_DARK_MODE ? COUNT_COLOR_DARK_MODE : COUNT_COLOR);\n+\t\t\t\tevent.gc.setBackground(ThemeUtils.isDarkTheme() ? COUNT_COLOR_DARK_MODE : COUNT_COLOR);\n@@ -899,1 +893,2 @@\n-\t\t\t\tevent.gc.setBackground(IS_DARK_MODE ? SIBLINGS_COUNT_COLOR_DARK_MODE : SIBLINGS_COUNT_COLOR);\n+\t\t\t\tevent.gc.setBackground(\n+\t\t\t\t\t\tThemeUtils.isDarkTheme() ? SIBLINGS_COUNT_COLOR_DARK_MODE : SIBLINGS_COUNT_COLOR);\n@@ -904,1 +899,1 @@\n-\t\t\t\tevent.gc.setBackground(IS_DARK_MODE ? COUNT_COLOR_DARK_MODE : COUNT_COLOR);\n+\t\t\t\tevent.gc.setBackground(ThemeUtils.isDarkTheme() ? COUNT_COLOR_DARK_MODE : COUNT_COLOR);\n@@ -1070,1 +1065,1 @@\n-\t\t\tif (treeLayout || IS_DARK_MODE) {\n+\t\t\tif (treeLayout || ThemeUtils.isDarkTheme()) {\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/views\/stacktrace\/StacktraceView.java","additions":9,"deletions":14,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -3,0 +3,2 @@\n+import org.eclipse.jface.util.PropertyChangeEvent;\n+\n@@ -5,0 +7,1 @@\n+import org.eclipse.jface.util.IPropertyChangeListener;\n@@ -9,0 +12,22 @@\n+\n+\tprivate static boolean isCurrentThemeDark = isDarkMode();\n+\n+\tstatic {\n+\t\tIPropertyChangeListener propertyChangeListener = new IPropertyChangeListener() {\n+\n+\t\t\tpublic void propertyChange(PropertyChangeEvent event) {\n+\t\t\t\tif (event.getProperty().equalsIgnoreCase(JFacePreferences.CONTENT_ASSIST_BACKGROUND_COLOR)) {\n+\t\t\t\t\tisCurrentThemeDark = isDarkMode();\n+\t\t\t\t}\n+\n+\t\t\t}\n+\n+\t\t};\n+\t\tPlatformUI.getWorkbench().getThemeManager().addPropertyChangeListener(propertyChangeListener);\n+\n+\t}\n+\n+\tpublic static boolean isDarkTheme() {\n+\t\treturn isCurrentThemeDark;\n+\t}\n+\n@@ -11,1 +36,1 @@\n-\tpublic static boolean isDarkMode() {\n+\tprivate static boolean isDarkMode() {\n@@ -19,1 +44,0 @@\n-\n","filename":"application\/org.openjdk.jmc.ui.common\/src\/main\/java\/org\/openjdk\/jmc\/ui\/common\/util\/ThemeUtils.java","additions":26,"deletions":2,"binary":false,"changes":28,"status":"modified"}]}
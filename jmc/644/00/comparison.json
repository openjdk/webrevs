{"files":[{"patch":"@@ -69,0 +69,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -131,1 +132,1 @@\n-\t\t\tsuper(m_dialsHolder, toolkit, dialConfiguration);\n+\t\t\tsuper(m_dialsHolder, toolkit, dialConfiguration, ThemeUtils.isDarkTheme());\n","filename":"application\/org.openjdk.jmc.rjmx.ui\/src\/main\/java\/org\/openjdk\/jmc\/rjmx\/ui\/internal\/CombinedDialsSectionPart.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/dial-bkgnd-dark.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/dial_100_to_1000-dark.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/dial_10_to_100-dark.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/dial_1_to_10-dark.png","binary":true,"status":"added"},{"patch":"@@ -166,0 +166,1 @@\n+\tpublic static final String ICON_DIAL_BACKGROUND_DARK = \"dial-bkgnd-dark.png\"; \/\/$NON-NLS-1$\n@@ -171,0 +172,5 @@\n+\n+\tpublic static final String ICON_DIAL_PANEL_1_10_DARK = \"dial_1_to_10-dark.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_DIAL_PANEL_10_100_DARK = \"dial_10_to_100-dark.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_DIAL_PANEL_100_1000_DARK = \"dial_100_to_1000-dark.png\"; \/\/$NON-NLS-1$\n+\n@@ -325,0 +331,3 @@\n+\t\tregisterImage(registry, ICON_DIAL_PANEL_1_10_DARK, ICON_DIAL_PANEL_1_10_DARK);\n+\t\tregisterImage(registry, ICON_DIAL_PANEL_10_100_DARK, ICON_DIAL_PANEL_10_100_DARK);\n+\t\tregisterImage(registry, ICON_DIAL_PANEL_100_1000_DARK, ICON_DIAL_PANEL_100_1000_DARK);\n@@ -327,0 +336,1 @@\n+\t\tregisterImage(registry, ICON_DIAL_BACKGROUND_DARK, ICON_DIAL_BACKGROUND_DARK);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/UIPlugin.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -67,0 +67,2 @@\n+\t * @param dialConfiguration\n+\t *            the dial configuration to use\n@@ -69,0 +71,16 @@\n+\t\tthis(parent, formToolkit, dialConfiguration, false);\n+\t}\n+\n+\t\/**\n+\t * Creates the actual dial widget with theme support.\n+\t *\n+\t * @param parent\n+\t *            a widget which will be the parent of the new widget\n+\t * @param toolkit\n+\t *            the form toolkit in use\n+\t * @param dialConfiguration\n+\t *            the dial configuration to use\n+\t * @param isDarkMode\n+\t *            whether to use dark mode styling\n+\t *\/\n+\tpublic Dial(Composite parent, FormToolkit formToolkit, DialConfiguration dialConfiguration, boolean isDarkMode) {\n@@ -78,1 +96,1 @@\n-\t\tm_dialViewer = new DialViewer(this, SWT.NONE);\n+\t\tm_dialViewer = new DialViewer(this, SWT.NONE, isDarkMode);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/dial\/Dial.java","additions":19,"deletions":1,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -58,1 +59,1 @@\n-\tprivate Color m_waterMarkColor = new Color(150, 150, 150);\n+\tprivate Color m_waterMarkColor = ThemeUtils.isDarkTheme() ? new Color(80, 80, 80) : new Color(150, 150, 150);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/dial\/DialConfiguration.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -55,0 +55,8 @@\n+\tprivate static final ImageDescription[] DARK_BACKGROUNDS = new ImageDescription[] {\n+\t\t\tImageDescription.createStandardConfiguration(\n+\t\t\t\t\tUIPlugin.getDefault().getImage(UIPlugin.ICON_DIAL_PANEL_1_10_DARK), 10),\n+\t\t\tImageDescription.createStandardConfiguration(\n+\t\t\t\t\tUIPlugin.getDefault().getImage(UIPlugin.ICON_DIAL_PANEL_10_100_DARK), 100),\n+\t\t\tImageDescription.createStandardConfiguration(\n+\t\t\t\t\tUIPlugin.getDefault().getImage(UIPlugin.ICON_DIAL_PANEL_100_1000_DARK), 1000)};\n+\n@@ -58,0 +66,1 @@\n+\tprivate final boolean isDarkMode;\n@@ -59,1 +68,1 @@\n-\tprivate DialDevice(IUnit unit, ImageDescription background, Boolean positive) {\n+\tprivate DialDevice(IUnit unit, ImageDescription background, Boolean positive, boolean isDarkMode) {\n@@ -63,0 +72,1 @@\n+\t\tthis.isDarkMode = isDarkMode;\n@@ -98,1 +108,1 @@\n-\tstatic DialDevice buildSuitableDevice(double minValue, double maxValue, IUnit inUnit) {\n+\tstatic DialDevice buildSuitableDevice(double minValue, double maxValue, IUnit inUnit, boolean isDarkMode) {\n@@ -102,1 +112,1 @@\n-\t\t\t\t\tBACKGROUNDS[0], true);\n+\t\t\t\t\tisDarkMode ? DARK_BACKGROUNDS[0] : BACKGROUNDS[0], true, isDarkMode);\n@@ -108,1 +118,2 @@\n-\t\tfor (ImageDescription bg : BACKGROUNDS) {\n+\t\tImageDescription[] backgrounds = isDarkMode ? DARK_BACKGROUNDS : BACKGROUNDS;\n+\t\tfor (ImageDescription bg : backgrounds) {\n@@ -111,1 +122,1 @@\n-\t\t\t\treturn new DialDevice(preferredUnit, bg, positive);\n+\t\t\t\treturn new DialDevice(preferredUnit, bg, positive, isDarkMode);\n@@ -121,1 +132,1 @@\n-\t\treturn new DialDevice(preferredUnit, BACKGROUNDS[BACKGROUNDS.length - 1], true);\n+\t\treturn new DialDevice(preferredUnit, backgrounds[backgrounds.length - 1], true, isDarkMode);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/dial\/DialDevice.java","additions":17,"deletions":6,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -86,0 +86,1 @@\n+\tprivate final boolean m_isDarkMode;\n@@ -112,0 +113,15 @@\n+\t\tthis(parent, style, false);\n+\t}\n+\n+\t\/**\n+\t * Constructs a {@link DialViewer} with a given configuration on the parent composite,\n+\t * respecting the theme settings.\n+\t *\n+\t * @param parent\n+\t *            the parent composite\n+\t * @param style\n+\t *            the SWT style\n+\t * @param isDarkMode\n+\t *            whether to use dark mode dial images\n+\t *\/\n+\tpublic DialViewer(Composite parent, int style, boolean isDarkMode) {\n@@ -113,0 +129,1 @@\n+\t\tm_isDarkMode = isDarkMode;\n@@ -355,1 +372,1 @@\n-\t\tDialDevice dd = DialDevice.buildSuitableDevice(minValue, maxValue, getUnit());\n+\t\tDialDevice dd = DialDevice.buildSuitableDevice(minValue, maxValue, getUnit(), m_isDarkMode);\n@@ -416,1 +433,6 @@\n-\t\tImage g = UIPlugin.getDefault().getImage(UIPlugin.ICON_DIAL_BACKGROUND);\n+\t\tImage g;\n+\t\tif (m_isDarkMode) {\n+\t\t\tg = UIPlugin.getDefault().getImage(UIPlugin.ICON_DIAL_BACKGROUND_DARK);\n+\t\t} else {\n+\t\t\tg = UIPlugin.getDefault().getImage(UIPlugin.ICON_DIAL_BACKGROUND);\n+\t\t}\n@@ -459,2 +481,6 @@\n-\t\t\/\/ FIXME: Once we have dark background dials we should just use the default fg color...\n-\t\tColor foreground = new Color(gc.getDevice(), 0, 0, 0);\n+\t\tColor foreground;\n+\t\tif (m_isDarkMode) {\n+\t\t\tforeground = new Color(gc.getDevice(), 255, 255, 255);\n+\t\t} else {\n+\t\t\tforeground = new Color(gc.getDevice(), 0, 0, 0);\n+\t\t}\n@@ -509,1 +535,0 @@\n-\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/dial\/DialViewer.java","additions":30,"deletions":5,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -107,1 +108,1 @@\n-\t\tthis(id, new Color(0, 0, 0));\n+\t\tthis(id, getDefaultDialColor());\n@@ -377,0 +378,4 @@\n+\tprivate static Color getDefaultDialColor() {\n+\t\treturn ThemeUtils.isDarkTheme() ? new Color(255, 255, 255) : new Color(0, 0, 0);\n+\t}\n+\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/dial\/MovingDial.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}
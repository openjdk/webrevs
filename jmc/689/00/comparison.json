{"files":[{"patch":"@@ -153,1 +153,1 @@\n-\t\tif (isSelfMonitoring() || address == null) {\n+\t\tif (isSelfMonitoring()) {\n@@ -163,1 +163,1 @@\n-\t\t} else {\n+\t\t} else if (address != null) {\n","filename":"application\/org.openjdk.jmc.browser.attach\/src\/main\/java\/org\/openjdk\/jmc\/browser\/attach\/LocalConnectionDescriptor.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -530,1 +530,1 @@\n-\t\treturn executeCommandForPid(pid, command, false);\n+\t\treturn executeCommandForPid(pid, command, true);\n","filename":"application\/org.openjdk.jmc.browser.attach\/src\/main\/java\/org\/openjdk\/jmc\/browser\/attach\/LocalJVMToolkit.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-import org.eclipse.osgi.util.NLS;\n@@ -55,1 +54,0 @@\n-import org.openjdk.jmc.console.agent.AgentPlugin;\n@@ -100,7 +98,6 @@\n-\t\t\t\tIWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();\n-\t\t\t\tDialogToolkit.showException(window.getShell(), Messages.AgentEditorOpener_MESSAGE_COULD_NOT_CONNECT, e);\n-\n-\t\t\t\treturn new Status(IStatus.ERROR, AgentPlugin.PLUGIN_ID, IStatus.ERROR,\n-\t\t\t\t\t\tNLS.bind(Messages.AgentEditorOpener_MESSAGE_COULD_NOT_CONNECT,\n-\t\t\t\t\t\t\t\tserverHandle.getServerDescriptor().getDisplayName(), e.getMessage()),\n-\t\t\t\t\t\te);\n+\t\t\t\tDisplayToolkit.safeAsyncExec(Display.getDefault(), () -> {\n+\t\t\t\t\tIWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();\n+\t\t\t\t\tDialogToolkit.showException(window.getShell(), Messages.AgentEditorOpener_MESSAGE_COULD_NOT_CONNECT,\n+\t\t\t\t\t\t\te);\n+\t\t\t\t});\n+\t\t\t\treturn Status.OK_STATUS;\n","filename":"application\/org.openjdk.jmc.console.agent\/src\/main\/java\/org\/openjdk\/jmc\/console\/agent\/actions\/AgentEditorOpener.java","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"}]}
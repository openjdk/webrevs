{"files":[{"patch":"@@ -78,0 +78,3 @@\n+\tpublic static final JavaVersion JDK_22 = new JavaVersion(22, 0);\n+\tpublic static final JavaVersion JDK_23 = new JavaVersion(23, 0);\n+\tpublic static final JavaVersion JDK_24 = new JavaVersion(24, 0);\n","filename":"core\/org.openjdk.jmc.common\/src\/main\/java\/org\/openjdk\/jmc\/common\/version\/JavaVersionSupport.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -281,3 +281,4 @@\n-\t\t\tnew DeprecatedOption(\"MaxGCMinorPauseMillis\", JavaVersionSupport.JDK_8, null, null), \/\/$NON-NLS-1$\n-\t\t\tnew DeprecatedOption(\"DefaultMaxRAMFraction\", JavaVersionSupport.JDK_8, null, null, \/\/$NON-NLS-1$\n-\t\t\t\t\tMessages.getString(Messages.OptionsCheckRule_TEXT_USE_MAXRAMFRACTION)),\n+\t\t\tnew DeprecatedOption(\"MaxGCMinorPauseMillis\", JavaVersionSupport.JDK_8, JavaVersionSupport.JDK_23, \/\/$NON-NLS-1$\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"DefaultMaxRAMFraction\", JavaVersionSupport.JDK_8, JavaVersionSupport.JDK_23, \/\/$NON-NLS-1$\n+\t\t\t\t\tJavaVersionSupport.JDK_24, Messages.getString(Messages.OptionsCheckRule_TEXT_USE_MAXRAMFRACTION)),\n@@ -367,4 +368,8 @@\n-\t\t\tnew DeprecatedOption(\"InitialRAMFraction\", JavaVersionSupport.JDK_10, null, null),\n-\t\t\tnew DeprecatedOption(\"MaxRAMFraction\", JavaVersionSupport.JDK_10, null, null),\n-\t\t\tnew DeprecatedOption(\"MinRAMFraction\", JavaVersionSupport.JDK_10, null, null),\n-\t\t\tnew DeprecatedOption(\"AggressiveOpts\", JavaVersionSupport.JDK_11, null, JavaVersionSupport.JDK_13),\n+\t\t\tnew DeprecatedOption(\"InitialRAMFraction\", JavaVersionSupport.JDK_10, JavaVersionSupport.JDK_23,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"MaxRAMFraction\", JavaVersionSupport.JDK_10, JavaVersionSupport.JDK_23,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"MinRAMFraction\", JavaVersionSupport.JDK_10, JavaVersionSupport.JDK_23,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"AggressiveOpts\", JavaVersionSupport.JDK_11, JavaVersionSupport.JDK_12,\n+\t\t\t\t\tJavaVersionSupport.JDK_13),\n@@ -373,11 +378,16 @@\n-\t\t\tnew DeprecatedOption(\"MonitorInUseLists\", null, JavaVersionSupport.JDK_12, null),\n-\t\t\tnew DeprecatedOption(\"UseConcMarkSweepGC\", null, JavaVersionSupport.JDK_14, null),\n-\t\t\tnew DeprecatedOption(\"CMSClassUnloadingEnabled\", null, JavaVersionSupport.JDK_14, null),\n-\t\t\tnew DeprecatedOption(\"CMSExpAvgFactor\", null, JavaVersionSupport.JDK_14, null),\n-\t\t\tnew DeprecatedOption(\"CMSInitiatingOccupancyFraction\", null, JavaVersionSupport.JDK_14, null),\n-\t\t\tnew DeprecatedOption(\"CMSScavengeBeforeRemark\", null, JavaVersionSupport.JDK_14, null),\n-\t\t\tnew DeprecatedOption(\"CMSTriggerRatio\", null, JavaVersionSupport.JDK_14, null),\n-\t\t\tnew DeprecatedOption(\"UseParallelOldGC\", JavaVersionSupport.JDK_14, null, null),\n-\t\t\tnew DeprecatedOption(\"UseAdaptiveGCBoundary\", null, JavaVersionSupport.JDK_15, null),\n-\t\t\tnew DeprecatedOption(\"ForceNUMA\", JavaVersionSupport.JDK_15, null, null),\n-\t\t\tnew DeprecatedOption(\"UseBiasedLocking\", JavaVersionSupport.JDK_15, JavaVersionSupport.JDK_18, null),\n+\t\t\tnew DeprecatedOption(\"MonitorInUseLists\", null, JavaVersionSupport.JDK_12, JavaVersionSupport.JDK_13),\n+\t\t\tnew DeprecatedOption(\"UseConcMarkSweepGC\", null, JavaVersionSupport.JDK_14, JavaVersionSupport.JDK_15),\n+\t\t\tnew DeprecatedOption(\"CMSClassUnloadingEnabled\", null, JavaVersionSupport.JDK_14,\n+\t\t\t\t\tJavaVersionSupport.JDK_15),\n+\t\t\tnew DeprecatedOption(\"CMSExpAvgFactor\", null, JavaVersionSupport.JDK_14, JavaVersionSupport.JDK_15),\n+\t\t\tnew DeprecatedOption(\"CMSInitiatingOccupancyFraction\", null, JavaVersionSupport.JDK_14,\n+\t\t\t\t\tJavaVersionSupport.JDK_15),\n+\t\t\tnew DeprecatedOption(\"CMSScavengeBeforeRemark\", null, JavaVersionSupport.JDK_14, JavaVersionSupport.JDK_15),\n+\t\t\tnew DeprecatedOption(\"CMSTriggerRatio\", null, JavaVersionSupport.JDK_14, JavaVersionSupport.JDK_15),\n+\t\t\tnew DeprecatedOption(\"UseParallelOldGC\", JavaVersionSupport.JDK_14, JavaVersionSupport.JDK_15,\n+\t\t\t\t\tJavaVersionSupport.JDK_16),\n+\t\t\tnew DeprecatedOption(\"UseAdaptiveGCBoundary\", null, JavaVersionSupport.JDK_15, JavaVersionSupport.JDK_16),\n+\t\t\tnew DeprecatedOption(\"ForceNUMA\", JavaVersionSupport.JDK_15, JavaVersionSupport.JDK_16,\n+\t\t\t\t\tJavaVersionSupport.JDK_17),\n+\t\t\tnew DeprecatedOption(\"UseBiasedLocking\", JavaVersionSupport.JDK_15, JavaVersionSupport.JDK_18,\n+\t\t\t\t\tJavaVersionSupport.JDK_19),\n@@ -385,7 +395,11 @@\n-\t\t\t\t\tnull),\n-\t\t\tnew DeprecatedOption(\"TraceClassLoading\", JavaVersionSupport.JDK_9, JavaVersionSupport.JDK_16, null),\n-\t\t\tnew DeprecatedOption(\"TraceClassUnloading\", JavaVersionSupport.JDK_9, JavaVersionSupport.JDK_16, null),\n-\t\t\tnew DeprecatedOption(\"TraceExceptions\", JavaVersionSupport.JDK_9, JavaVersionSupport.JDK_16, null),\n-\t\t\tnew DeprecatedOption(\"UseContainerCpuShares\", JavaVersionSupport.JDK_17, null, null),\n-\t\t\tnew DeprecatedOption(\"G1RSetRegionEntries\", null, JavaVersionSupport.JDK_18, null),\n-\t\t\tnew DeprecatedOption(\"G1RSetSparseRegionEntries\", null, JavaVersionSupport.JDK_18, null),\n+\t\t\t\t\tJavaVersionSupport.JDK_19),\n+\t\t\tnew DeprecatedOption(\"TraceClassLoading\", JavaVersionSupport.JDK_9, JavaVersionSupport.JDK_16,\n+\t\t\t\t\tJavaVersionSupport.JDK_17),\n+\t\t\tnew DeprecatedOption(\"TraceClassUnloading\", JavaVersionSupport.JDK_9, JavaVersionSupport.JDK_16,\n+\t\t\t\t\tJavaVersionSupport.JDK_17),\n+\t\t\tnew DeprecatedOption(\"TraceExceptions\", JavaVersionSupport.JDK_9, JavaVersionSupport.JDK_16,\n+\t\t\t\t\tJavaVersionSupport.JDK_17),\n+\t\t\tnew DeprecatedOption(\"UseContainerCpuShares\", JavaVersionSupport.JDK_17, JavaVersionSupport.JDK_18, null),\n+\t\t\tnew DeprecatedOption(\"G1RSetRegionEntries\", null, JavaVersionSupport.JDK_18, JavaVersionSupport.JDK_19),\n+\t\t\tnew DeprecatedOption(\"G1RSetSparseRegionEntries\", null, JavaVersionSupport.JDK_18,\n+\t\t\t\t\tJavaVersionSupport.JDK_19),\n@@ -393,8 +407,13 @@\n-\t\t\tnew DeprecatedOption(\"G1UseAdaptiveConcRefinement\", null, JavaVersionSupport.JDK_20, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRefinementGreenZone\", null, JavaVersionSupport.JDK_20, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRefinementYellowZone\", null, JavaVersionSupport.JDK_20, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRefinementRedZone\", null, JavaVersionSupport.JDK_20, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRefinementThresholdStep\", null, JavaVersionSupport.JDK_20, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRefinementServiceIntervalMillis\", null, JavaVersionSupport.JDK_20, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRSLogCacheSize\", null, JavaVersionSupport.JDK_21, null),\n-\t\t\tnew DeprecatedOption(\"G1ConcRSHotCardLimit\", null, JavaVersionSupport.JDK_21, null),\n+\t\t\tnew DeprecatedOption(\"G1UseAdaptiveConcRefinement\", null, JavaVersionSupport.JDK_20,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRefinementGreenZone\", null, JavaVersionSupport.JDK_20,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRefinementYellowZone\", null, JavaVersionSupport.JDK_20,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRefinementRedZone\", null, JavaVersionSupport.JDK_20, JavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRefinementThresholdStep\", null, JavaVersionSupport.JDK_20,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRefinementServiceIntervalMillis\", null, JavaVersionSupport.JDK_20,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRSLogCacheSize\", null, JavaVersionSupport.JDK_21, JavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"G1ConcRSHotCardLimit\", null, JavaVersionSupport.JDK_21, JavaVersionSupport.JDK_24),\n@@ -402,1 +421,7 @@\n-\t\t\tnew DeprecatedOption(\"MetaspaceReclaimPolicy\", null, JavaVersionSupport.JDK_21, null)};\n+\t\t\tnew DeprecatedOption(\"MetaspaceReclaimPolicy\", null, JavaVersionSupport.JDK_21, null),\n+\t\t\tnew DeprecatedOption(\"RegisterFinalizersAtInit\", JavaVersionSupport.JDK_22, JavaVersionSupport.JDK_23,\n+\t\t\t\t\tJavaVersionSupport.JDK_24),\n+\t\t\tnew DeprecatedOption(\"PreserveAllAnnotations\", JavaVersionSupport.JDK_23, JavaVersionSupport.JDK_24, null),\n+\t\t\tnew DeprecatedOption(\"DontYieldALot\", JavaVersionSupport.JDK_23, JavaVersionSupport.JDK_24, null),\n+\t\t\tnew DeprecatedOption(\"UseEmptySlotsInSupers\", JavaVersionSupport.JDK_23, JavaVersionSupport.JDK_24, null),\n+\t\t\tnew DeprecatedOption(\"UseNotificationThread\", JavaVersionSupport.JDK_23, JavaVersionSupport.JDK_24, null),};\n@@ -412,1 +437,3 @@\n-\t\t\tnew DeprecatedOption(\"noconcgc\", null, JavaVersionSupport.JDK_14, null)};\n+\t\t\tnew DeprecatedOption(\"noconcgc\", null, JavaVersionSupport.JDK_14, null),\n+\t\t\tnew DeprecatedOption(\"noagent\", JavaVersionSupport.JDK_22, null, JavaVersionSupport.JDK_23),\n+\t\t\tnew DeprecatedOption(\"debug\", JavaVersionSupport.JDK_22, null, null),};\n","filename":"core\/org.openjdk.jmc.flightrecorder.rules.jdk\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/rules\/jdk\/general\/OptionsCheckRule.java","additions":62,"deletions":35,"binary":false,"changes":97,"status":"modified"},{"patch":"@@ -5440,1 +5440,1 @@\n-            <explanation>The following option flags are or will be deprecated. &lt;ul&gt;&lt;li&gt;-XX:+UseParallelOldGC: Deprecated in Java 14.&lt;\/li&gt;&lt;li&gt;-XX:+UnlockCommercialFeatures: Deprecated in Java 11.&lt;\/li&gt;&lt;\/ul&gt; Deprecated option flags should be avoided. In some cases they enable legacy code and in other cases they are ignored completely. They will usually be removed in a later Java release.<\/explanation>\n+            <explanation>The following option flags are or will be deprecated. &lt;ul&gt;&lt;li&gt;-XX:+UseParallelOldGC: Deprecated in Java 14, ignored in Java 15, and removed in Java 16.&lt;\/li&gt;&lt;li&gt;-XX:+UnlockCommercialFeatures: Deprecated in Java 11.&lt;\/li&gt;&lt;\/ul&gt; Deprecated option flags should be avoided. In some cases they enable legacy code and in other cases they are ignored completely. They will usually be removed in a later Java release.<\/explanation>\n","filename":"core\/tests\/org.openjdk.jmc.flightrecorder.rules.jdk.test\/src\/main\/resources\/baseline\/JfrRuleBaseline.xml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
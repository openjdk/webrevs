{"files":[{"patch":"@@ -244,0 +244,1 @@\n+\tpublic static String GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_EVENTS_MESSAGE;\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/messages\/internal\/Messages.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -313,0 +313,1 @@\n+\t\tprivate IItemCollection tenuringDistributionItems;\n@@ -356,0 +357,1 @@\n+\t\t\ttenuringDistributionItems = getDataSource().getItems().apply(JdkFilters.TENURING_DISTRIBUTION);\n@@ -361,1 +363,3 @@\n-\t\t\t\tupdateTenuringHistogram();\n+\t\t\t\tif (tenuringDistributionItems.hasItems()) {\n+\t\t\t\t\tupdateTenuringHistogram();\n+\t\t\t\t}\n@@ -412,11 +416,18 @@\n-\t\t\tnoGcIdSelectionLabel = new Label(tenuringComposite, SWT.CENTER);\n-\t\t\tnoGcIdSelectionLabel.setText(Messages.GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_SELECTION_MESSAGE);\n-\t\t\tmultiGcIdSelectionLabel = new Label(tenuringComposite, SWT.CENTER);\n-\t\t\tmultiGcIdSelectionLabel\n-\t\t\t\t\t.setText(Messages.GarbageCollectionsPage_TENURING_DISTRIBUTION_MULTI_SELECTION_MESSAGE);\n-\t\t\ttenuringChart = new XYChart(UnitLookup.NUMBER.getDefaultUnit().quantity(0),\n-\t\t\t\t\tUnitLookup.NUMBER.getDefaultUnit().quantity(16), RendererToolkit.empty(), 95);\n-\t\t\ttenuringChartCanvas = new ChartCanvas(tenuringComposite);\n-\t\t\ttenuringChartCanvas.setChart(tenuringChart);\n-\t\t\tDataPageToolkit.createChartTooltip(tenuringChartCanvas);\n-\t\t\ttenuringLayout.topControl = noGcIdSelectionLabel;\n+\t\t\tif (tenuringDistributionItems.hasItems()) {\n+\t\t\t\tnoGcIdSelectionLabel = new Label(tenuringComposite, SWT.CENTER);\n+\t\t\t\tnoGcIdSelectionLabel\n+\t\t\t\t\t\t.setText(Messages.GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_SELECTION_MESSAGE);\n+\t\t\t\tmultiGcIdSelectionLabel = new Label(tenuringComposite, SWT.CENTER);\n+\t\t\t\tmultiGcIdSelectionLabel\n+\t\t\t\t\t\t.setText(Messages.GarbageCollectionsPage_TENURING_DISTRIBUTION_MULTI_SELECTION_MESSAGE);\n+\t\t\t\ttenuringChart = new XYChart(UnitLookup.NUMBER.getDefaultUnit().quantity(0),\n+\t\t\t\t\t\tUnitLookup.NUMBER.getDefaultUnit().quantity(16), RendererToolkit.empty(), 95);\n+\t\t\t\ttenuringChartCanvas = new ChartCanvas(tenuringComposite);\n+\t\t\t\ttenuringChartCanvas.setChart(tenuringChart);\n+\t\t\t\tDataPageToolkit.createChartTooltip(tenuringChartCanvas);\n+\t\t\t\ttenuringLayout.topControl = noGcIdSelectionLabel;\n+\t\t\t} else {\n+\t\t\t\tLabel noTenuringItemsLabel = new Label(tenuringComposite, SWT.CENTER);\n+\t\t\t\tnoTenuringItemsLabel.setText(Messages.GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_EVENTS_MESSAGE);\n+\t\t\t\ttenuringLayout.topControl = noTenuringItemsLabel;\n+\t\t\t}\n@@ -499,2 +510,1 @@\n-\t\t\t\tIItemCollection items = getDataSource().getItems()\n-\t\t\t\t\t\t.apply(ItemFilters.type(JdkTypeIDs.TENURING_DISTRIBUTION))\n+\t\t\t\tIItemCollection items = tenuringDistributionItems\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/pages\/GarbageCollectionsPage.java","additions":24,"deletions":14,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -348,2 +348,3 @@\n-GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_SELECTION_MESSAGE=No valid Selection\n-GarbageCollectionsPage_TENURING_DISTRIBUTION_MULTI_SELECTION_MESSAGE=Distribution is shown for a single GC cycle\n+GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_EVENTS_MESSAGE=No Tenuring Distribution available. Events were not recorded or may have been disabled.\n+GarbageCollectionsPage_TENURING_DISTRIBUTION_NO_SELECTION_MESSAGE=No valid GC cycle selection.\n+GarbageCollectionsPage_TENURING_DISTRIBUTION_MULTI_SELECTION_MESSAGE=Multiple GC cycles selected. Distribution is only shown for a single GC.\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/resources\/org\/openjdk\/jmc\/flightrecorder\/ui\/messages\/internal\/messages.properties","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -90,0 +90,1 @@\n+\tpublic static final IItemFilter TENURING_DISTRIBUTION = ItemFilters.type(JdkTypeIDs.TENURING_DISTRIBUTION);\n","filename":"core\/org.openjdk.jmc.flightrecorder\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/jdk\/JdkFilters.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}
{"files":[{"patch":"@@ -40,0 +40,8 @@\n+# Ignore .classpath files, as Eclipse \/ the maven plug-in will update them.\n+# If you truly want to change them, force the change.\n+.classpath\n+\n+# Ignore launchers, as any little modification in Eclipse will radically alter them.\n+# If you truly want to change a launcher, manually update it and force the change.\n+*.launch\n+\n@@ -58,0 +66,1 @@\n+\n","filename":".gitignore","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-JMC_RCP_P2_UPDATESITE_NICK_NAME=JDK Mission Control 9.1.0 RCP\\u66F4\\u65B0\\u30B5\\u30A4\\u30C8\n+JMC_RCP_P2_UPDATESITE_NICK_NAME=JDK Mission Control 10.0.0 RCP\\u66F4\\u65B0\\u30B5\\u30A4\\u30C8\n","filename":"application\/l10n\/org.openjdk.jmc.rcp.application.ja\/src\/main\/resources\/org\/openjdk\/jmc\/rcp\/application\/messages_ja.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-JMC_RCP_P2_UPDATESITE_NICK_NAME=JDK Mission Control 9.1.0 RCP \\u66F4\\u65B0\\u7AD9\\u70B9\n+JMC_RCP_P2_UPDATESITE_NICK_NAME=JDK Mission Control 10.0.0 RCP \\u66F4\\u65B0\\u7AD9\\u70B9\n","filename":"application\/l10n\/org.openjdk.jmc.rcp.application.zh_CN\/src\/main\/resources\/org\/openjdk\/jmc\/rcp\/application\/messages_zh.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,0 +51,1 @@\n+import org.eclipse.jface.util.IPropertyChangeListener;\n@@ -67,0 +68,1 @@\n+import org.eclipse.ui.PlatformUI;\n@@ -82,0 +84,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -156,1 +159,0 @@\n-\n@@ -255,0 +257,12 @@\n+\tprivate IPropertyChangeListener themeChangeListener = event -> {\n+\t\tif (browser != null && !browser.isDisposed() && isLoaded) {\n+\t\t\tDisplayToolkit.safeAsyncExec(() -> {\n+\t\t\t\ttry {\n+\t\t\t\t\tbrowser.execute(String.format(\"overview.setTheme(%b);\", ThemeUtils.isDarkTheme()));\n+\t\t\t\t} catch (SWTException e) {\n+\t\t\t\t\tFlightRecorderUI.getDefault().getLogger().log(Level.WARNING, \"Could not update theme\", e);\n+\t\t\t\t}\n+\t\t\t});\n+\t\t}\n+\t};\n+\n@@ -443,0 +457,6 @@\n+\n+\t\tPlatformUI.getWorkbench().getThemeManager().addPropertyChangeListener(themeChangeListener);\n+\t\tbrowser.addDisposeListener(e -> {\n+\t\t\tPlatformUI.getWorkbench().getThemeManager().removePropertyChangeListener(themeChangeListener);\n+\t\t});\n+\n@@ -449,0 +469,1 @@\n+\n@@ -450,1 +471,2 @@\n-\t\t\tString html = isSinglePage ? RulesHtmlToolkit.generateSinglePageHtml(results)\n+\t\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\t\t\tString html = isSinglePage ? RulesHtmlToolkit.generateSinglePageHtml(results, isDarkTheme)\n@@ -452,1 +474,1 @@\n-\t\t\t\t\t\t\tresultExpandedStates, false);\n+\t\t\t\t\t\t\tresultExpandedStates, false, isDarkTheme);\n@@ -464,0 +486,2 @@\n+\t\t\t\t\tbrowser.execute(String.format(\"overview.setTheme(%b);\", isDarkTheme));\n+\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/overview\/ResultReportUi.java","additions":27,"deletions":3,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -64,0 +64,1 @@\n+import org.openjdk.jmc.greychart.FontAndColors;\n@@ -83,0 +84,2 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n+import org.openjdk.jmc.ui.misc.PatternFly.Palette;\n@@ -314,1 +317,4 @@\n-\t\t\/\/ DateXAxis d = new DateXAxis(m_chart);\n+\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\n+\t\td.setForeground(isDarkTheme ? java.awt.Color.WHITE : FontAndColors.getDefaultForeground());\n+\t\td.setBackground(isDarkTheme ? Palette.PF_BLACK_900.getAWTColor() : java.awt.Color.WHITE);\n@@ -316,0 +322,1 @@\n+\n@@ -321,0 +328,3 @@\n+\t\tyAxis.setForeground(isDarkTheme ? java.awt.Color.WHITE : FontAndColors.getDefaultForeground());\n+\t\tyAxis.setBackground(isDarkTheme ? Palette.PF_BLACK_900.getAWTColor() : java.awt.Color.WHITE);\n+\n","filename":"application\/org.openjdk.jmc.greychart.ui\/src\/main\/java\/org\/openjdk\/jmc\/greychart\/ui\/views\/ChartComposite.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-JMC_RCP_P2_UPDATESITE_NICK_NAME=JDK Mission Control 9.1.0 RCP Update Site\n\\ No newline at end of file\n+JMC_RCP_P2_UPDATESITE_NICK_NAME=JDK Mission Control 10.0.0 RCP Update Site\n\\ No newline at end of file\n","filename":"application\/org.openjdk.jmc.rcp.application\/src\/main\/resources\/org\/openjdk\/jmc\/rcp\/application\/messages.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-# \"{0}\" will be replaced by the version number of JDK Mission Control, e.g. \"9.1.0\"\n+# \"{0}\" will be replaced by the version number of JDK Mission Control, e.g. \"10.0.0\"\n","filename":"application\/org.openjdk.jmc.rcp.application\/src\/main\/resources\/updatesites.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -96,0 +96,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -102,0 +103,1 @@\n+import org.openjdk.jmc.ui.misc.PatternFly.Palette;\n@@ -108,0 +110,1 @@\n+import org.openjdk.jmc.greychart.YAxis;\n@@ -242,0 +245,8 @@\n+\n+\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\t\tchart.getChart().setBackground(isDarkTheme ? Palette.PF_BLACK_900.getAWTColor() : Color.WHITE);\n+\t\tColor axisForeground = isDarkTheme ? Color.WHITE : Color.BLACK;\n+\t\tchart.getChart().getXAxis().setForeground(axisForeground);\n+\t\tfor (YAxis yAxis : chart.getChart().getYAxis()) {\n+\t\t\tyAxis.setForeground(axisForeground);\n+\t\t}\n","filename":"application\/org.openjdk.jmc.rjmx.ui\/src\/main\/java\/org\/openjdk\/jmc\/rjmx\/ui\/internal\/CombinedChartSectionPart.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -309,0 +310,4 @@\n+\t\tPaint originalPaint = ctx.getPaint();\n+\t\tPaint axisPaint = ThemeUtils.isDarkTheme() ? Color.WHITE : Color.BLACK;\n+\t\tctx.setPaint(axisPaint);\n+\n@@ -377,0 +382,3 @@\n+\n+\t\t\/\/ Restore original paint after drawing the axis\n+\t\tctx.setPaint(originalPaint);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/charts\/AWTChartToolkit.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -54,0 +54,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -61,1 +62,2 @@\n-\tprivate static final Color SELECTION_COLOR = new Color(255, 255, 255, 220);\n+\tprivate static final Color LIGHT_SELECTION_COLOR = new Color(255, 255, 255, 220);\n+\tprivate static final Color DARK_SELECTION_COLOR = new Color(0, 0, 0, 175);\n@@ -238,1 +240,11 @@\n-\t\tcontext.setPaint(Color.LIGHT_GRAY);\n+\n+\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\n+\t\tif (isDarkTheme) {\n+\t\t\tcontext.setBackground(Color.BLACK);\n+\t\t\tcontext.clearRect(0, 0, axisWidth, axisHeight);\n+\t\t\tcontext.setPaint(new Color(70, 70, 70));\n+\t\t} else {\n+\t\t\tcontext.setPaint(Color.LIGHT_GRAY);\n+\t\t}\n+\n@@ -240,0 +252,1 @@\n+\n@@ -241,1 +254,2 @@\n-\t\tcontext.setPaint(Color.BLACK);\n+\t\tcontext.setPaint(isDarkTheme ? Color.WHITE : Color.BLACK);\n+\n@@ -247,0 +261,1 @@\n+\n@@ -256,2 +271,3 @@\n-\t\t\/\/ .. and finally a semitransparent axis line again.\n-\t\tcontext.setPaint(new Color(0, 0, 0, 64));\n+\n+\t\t\/\/ ... and finally a semitransparent axis line again.\n+\t\tcontext.setPaint(isDarkTheme ? new Color(255, 255, 255, 64) : new Color(0, 0, 0, 64));\n@@ -295,1 +311,1 @@\n-\t\t\t\tdimRect(context, 0, axisWidth, row.getHeight());\n+\t\t\t\tdimRect(context, 0, axisWidth, row.getHeight(), ThemeUtils.isDarkTheme());\n@@ -312,1 +328,1 @@\n-\t\t\t\tdimRect(context, 0, axisWidth, row.getHeight());\n+\t\t\t\tdimRect(context, 0, axisWidth, row.getHeight(), ThemeUtils.isDarkTheme());\n@@ -327,2 +343,8 @@\n-\t\t\tif (rowColorCounter % 2 == 0) {\n-\t\t\t\tcontext.setColor(Palette.PF_BLACK_100.getAWTColor());\n+\t\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\n+\t\t\tif (isDarkTheme) {\n+\t\t\t\tif (rowColorCounter % 2 == 0) {\n+\t\t\t\t\tcontext.setColor(Palette.PF_BLACK_700.getAWTColor()); \/\/ Darker gray\n+\t\t\t\t} else {\n+\t\t\t\t\tcontext.setColor(Palette.PF_BLACK_600.getAWTColor()); \/\/ Lighter gray\n+\t\t\t\t}\n@@ -330,1 +352,5 @@\n-\t\t\t\tcontext.setColor(Palette.PF_BLACK_200.getAWTColor());\n+\t\t\t\tif (rowColorCounter % 2 == 0) {\n+\t\t\t\t\tcontext.setColor(Palette.PF_BLACK_100.getAWTColor());\n+\t\t\t\t} else {\n+\t\t\t\t\tcontext.setColor(Palette.PF_BLACK_200.getAWTColor());\n+\t\t\t\t}\n@@ -332,0 +358,1 @@\n+\n@@ -343,1 +370,4 @@\n-\t\t\t\tcontext.setColor(Color.BLACK);\n+\n+\t\t\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\t\t\t\tcontext.setColor(isDarkTheme ? Color.WHITE : Color.BLACK);\n+\n@@ -801,0 +831,2 @@\n+\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\n@@ -817,2 +849,2 @@\n-\t\t\tdimRect(context, 0, selFrom, height);\n-\t\t\tcontext.setColor(Color.BLACK);\n+\t\t\tdimRect(context, 0, selFrom, height, isDarkTheme);\n+\t\t\tcontext.setColor(isDarkTheme ? Color.LIGHT_GRAY : Color.BLACK);\n@@ -822,2 +854,2 @@\n-\t\t\tdimRect(context, selTo, axisWidth - selTo, height);\n-\t\t\tcontext.setColor(Color.BLACK);\n+\t\t\tdimRect(context, selTo, axisWidth - selTo, height, isDarkTheme);\n+\t\t\tcontext.setColor(isDarkTheme ? Color.LIGHT_GRAY : Color.BLACK);\n@@ -828,2 +860,2 @@\n-\tprivate static void dimRect(Graphics2D context, int from, int width, int height) {\n-\t\tcontext.setColor(SELECTION_COLOR);\n+\tprivate static void dimRect(Graphics2D context, int from, int width, int height, boolean isDarkTheme) {\n+\t\tcontext.setColor(isDarkTheme ? DARK_SELECTION_COLOR : LIGHT_SELECTION_COLOR);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/charts\/XYChart.java","additions":49,"deletions":17,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -53,1 +53,0 @@\n-import org.eclipse.ui.forms.IFormColors;\n@@ -443,2 +442,0 @@\n-\t\tColor c = UIPlugin.getDefault().getFormColors(getDisplay()).getColor(IFormColors.TITLE);\n-\t\tgc.setForeground(c);\n@@ -461,0 +458,2 @@\n+\n+\t\t\/\/ FIXME: Once we have dark background dials we should just use the default fg color...\n@@ -463,0 +462,1 @@\n+\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/dial\/DialViewer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -78,0 +78,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -242,1 +243,2 @@\n-\t\t\t\tg2d.setColor(Palette.PF_BLACK_100.getAWTColor());\n+\t\t\t\tg2d.setColor(ThemeUtils.isDarkTheme() ? Palette.PF_BLACK_900.getAWTColor()\n+\t\t\t\t\t\t: Palette.PF_BLACK_100.getAWTColor());\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/misc\/ChartCanvas.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -68,0 +68,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -229,1 +230,3 @@\n-\t\t\t\tg2d.setColor(Palette.PF_BLACK_100.getAWTColor());\n+\t\t\t\t\/\/ Use theme-appropriate color for background\n+\t\t\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\t\t\t\tg2d.setColor(isDarkTheme ? Palette.PF_BLACK_900.getAWTColor() : Palette.PF_BLACK_100.getAWTColor());\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/misc\/ChartTextCanvas.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+import org.openjdk.jmc.ui.common.util.ThemeUtils;\n@@ -119,1 +120,2 @@\n-\t\t\tg2d.setColor(Palette.PF_BLACK_100.getAWTColor());\n+\t\t\tboolean isDarkTheme = ThemeUtils.isDarkTheme();\n+\t\t\tg2d.setColor(isDarkTheme ? Palette.PF_BLACK_900.getAWTColor() : Palette.PF_BLACK_100.getAWTColor());\n@@ -124,1 +126,1 @@\n-\t\t\t\tg2d.setColor(Palette.PF_BLACK.getAWTColor());\n+\t\t\t\tg2d.setColor(isDarkTheme ? java.awt.Color.WHITE : Palette.PF_BLACK.getAWTColor());\n@@ -142,1 +144,1 @@\n-\t\t\tg2d.setPaint(Palette.PF_BLACK_600.getAWTColor());\n+\t\t\tg2d.setPaint(isDarkTheme ? java.awt.Color.LIGHT_GRAY : Palette.PF_BLACK_600.getAWTColor());\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/misc\/TimelineCanvas.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-                <p><font color=\"#DE2516\"><b>Version 9.1.0<\/b><\/font> is now available. It supports the HotSpot VM (Oracle JDK 8 and up, OpenJDK 11).\n+                <p><font color=\"#DE2516\"><b>Version 10.0.0<\/b><\/font> is now available. It supports the HotSpot VM (Oracle JDK 8 and up, OpenJDK 11).\n@@ -55,1 +55,1 @@\n-                <p><font color=\"#DE2516\">Note that any prior versions of JMC <b>MUST BE UNINSTALLED<\/b> from Eclipse before installing JMC 9.1.0.<\/font><\/p>\n+                <p><font color=\"#DE2516\">Note that any prior versions of JMC <b>MUST BE UNINSTALLED<\/b> from Eclipse before installing JMC 10.0.0.<\/font><\/p>\n@@ -93,1 +93,1 @@\n-                <font color=\"#DE2516\"><b>Version 9.1.0<\/b><\/font> is now available. It supports the HotSpot VM and JDK Flight Recorder.<br><br>\n+                <font color=\"#DE2516\"><b>Version 10.0.0<\/b><\/font> is now available. It supports the HotSpot VM and JDK Flight Recorder.<br><br>\n","filename":"application\/org.openjdk.jmc.updatesite.ide\/src\/main\/resources\/index.html","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-          <b>https:\/\/download.oracle.com\/technology\/products\/missioncontrol\/updatesites\/openjdk\/9.1.0\/ide\/<\/b><br><br>\n+          <b>https:\/\/download.oracle.com\/technology\/products\/missioncontrol\/updatesites\/openjdk\/10.0.0\/ide\/<\/b><br><br>\n@@ -79,1 +79,1 @@\n-                        <p><b>https:\/\/download.oracle.com\/technology\/products\/missioncontrol\/updatesites\/openjdk\/9.1.0\/ide\/<\/b><\/p>\n+                        <p><b>https:\/\/download.oracle.com\/technology\/products\/missioncontrol\/updatesites\/openjdk\/10.0.0\/ide\/<\/b><\/p>\n","filename":"application\/org.openjdk.jmc.updatesite.ide\/src\/main\/resources\/update-site-instructions\/index.html","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-                  <li>Requires JDK Mission Control RCP Edition 9.1.0<\/li>\n+                  <li>Requires JDK Mission Control RCP Edition 10.0.0<\/li>\n","filename":"application\/org.openjdk.jmc.updatesite.rcp\/src\/main\/resources\/index.html","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -158,2 +158,3 @@\n-\tprivate static String getHtmlTemplate() {\n-\t\treturn TEMPLATE;\n+\tprivate static String getHtmlTemplate(boolean isDarkTheme) {\n+\t\tString themeClass = isDarkTheme ? \" class=\\\"dark-theme\\\"\" : \" class=\\\"light-theme\\\"\";\n+\t\treturn TEMPLATE.replace(\"<body>\", \"<body\" + themeClass + \">\");\n@@ -283,0 +284,4 @@\n+\t\treturn generateSinglePageHtml(results, false);\n+\t}\n+\n+\tpublic static String generateSinglePageHtml(Collection<IResult> results, boolean isDarkMode) throws IOException {\n@@ -286,1 +291,1 @@\n-\t\tStringBuilder html = new StringBuilder(getHtmlTemplate());\n+\t\tStringBuilder html = new StringBuilder(getHtmlTemplate(isDarkMode));\n@@ -311,1 +316,7 @@\n-\t\tStringBuilder div = new StringBuilder(getHtmlTemplate());\n+\t\treturn generateStructuredHtml(editor, descriptors, resultExpandedStates, addShowOkCheckBox, false);\n+\t}\n+\n+\tpublic static String generateStructuredHtml(\n+\t\tHtmlResultProvider editor, Iterable<HtmlResultGroup> descriptors, HashMap<String, Boolean> resultExpandedStates,\n+\t\tboolean addShowOkCheckBox, boolean isDarkMode) {\n+\t\tStringBuilder div = new StringBuilder(getHtmlTemplate(isDarkMode));\n","filename":"core\/org.openjdk.jmc.flightrecorder.rules\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/rules\/report\/html\/internal\/RulesHtmlToolkit.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -10,0 +10,1 @@\n+<!-- Sadly the IE based windows browser does not support reading CSS variables from JavaScript, so slightly cludgey -->\n@@ -11,0 +12,33 @@\n+:root {\n+\t--background-color: white;\n+\t--text-color: #3a3a3a;\n+\t--heading-color: #403E3E;\n+\t--heading-bg-color: #EDE8E8;\n+\t--heading-hover-color: #dadada;\n+\t--hide-button-color: #7F7D7D;\n+\t--link-color: blue;\n+\t--rule-border-color: darkgrey;\n+}\n+\n+.light-theme {\n+\t--background-color: white;\n+\t--text-color: #3a3a3a;\n+\t--heading-color: #403E3E;\n+\t--heading-bg-color: #EDE8E8;\n+\t--heading-hover-color: #dadada;\n+\t--hide-button-color: #7F7D7D;\n+\t--link-color: blue;\n+\t--rule-border-color: darkgrey;\n+}\n+\n+.dark-theme {\n+\t--background-color: #2F3136;\n+\t--text-color: #E5E5E5;\n+\t--heading-color: #E5E5E5;\n+\t--heading-bg-color: #36393f;\n+\t--heading-hover-color: #40444B;\n+\t--hide-button-color: #9E9E9E;\n+\t--link-color: #58a6ff;\n+\t--rule-border-color: #555;\n+}\n+\n@@ -18,0 +52,1 @@\n+\tbackground-color: var(--background-color);\n@@ -21,1 +56,2 @@\n-\tbackground-color: white\n+\tbackground-color: var(--background-color);\n+\tcolor: var(--text-color);\n@@ -30,0 +66,1 @@\n+\tbackground-color: var(--background-color);\n@@ -54,0 +91,1 @@\n+\tcolor: var(--heading-color);\n@@ -57,1 +95,5 @@\n-\tbackground: #dadada;\n+\tbackground-color: #dadada !important;\n+}\n+\n+.dark-theme .column_title:hover {\n+\tbackground-color: #40444B !important;\n@@ -61,1 +103,5 @@\n-\tbackground: #dadada;\n+\tbackground-color: #dadada !important;\n+}\n+\n+.dark-theme .page_heading:hover {\n+\tbackground-color: #40444B !important;\n@@ -78,0 +124,1 @@\n+\tcolor: var(--heading-color);\n@@ -98,1 +145,1 @@\n-\tcolor: #403E3E;\n+\tcolor: var(--heading-color);\n@@ -100,1 +147,1 @@\n-\tbackground-color: #EDE8E8;\n+\tbackground-color: var(--heading-bg-color);\n@@ -110,1 +157,1 @@\n-\tborder: 0.1em solid darkgrey;\n+\tborder: 0.1em solid var(--rule-border-color);\n@@ -185,1 +232,1 @@\n-\tcolor: #3a3a3a;\n+\tcolor: var(--text-color);\n@@ -189,0 +236,5 @@\n+\n+.longDescription {\n+\tcolor: var(--text-color);\n+}\n+\n@@ -202,1 +254,1 @@\n-\tcolor: #7F7D7D;\n+\tcolor: var(--hide-button-color);\n@@ -231,0 +283,1 @@\n+\tbackground-color: var(--background-color);\n@@ -242,0 +295,1 @@\n+\tcolor: var(--text-color);\n@@ -247,0 +301,7 @@\n+\tcolor: var(--text-color);\n+}\n+\n+.allIgnored {\n+\tfont-family: sans-serif;\n+\tfont-size: 2em;\n+\tcolor: var(--text-color);\n@@ -252,0 +313,1 @@\n+\tcolor: var(--text-color);\n@@ -257,0 +319,1 @@\n+\tcolor: var(--text-color);\n@@ -261,1 +324,1 @@\n-\tcolor:blue;\n+\tcolor: var(--link-color);\n@@ -270,1 +333,1 @@\n-\t\/\/ E.g. the button of id \"hide_heap_live_set_trend_text\" controls the element of id \"heap_live_set_trend_text\"\n+\t\/\/ E.g. the button of id \"hide_heap_live_set_trend_text\" controls the element of id \"heap_live_set_trend_text\"\t\n@@ -272,0 +335,111 @@\n+\t\/\/ Debug mode toggle, to make life easier for the next poor person having to deal with this...\n+\tvar DEBUG_MODE = false;\n+\t\n+\tfunction setupDebugConsole() {\t\n+\t\tvar debugConsole = document.createElement('div');\n+\t\tdebugConsole.id = 'debug-console';\n+\t\tdebugConsole.style.cssText = 'position:fixed; bottom:0; left:0; right:0; height:150px; background:white; ' +\n+\t\t\t'border-top:1px solid black; overflow:auto; z-index:9999; color:black; font-family:monospace; padding:5px; font-size:12px;';\n+\t\tdocument.body.appendChild(debugConsole);\n+\t\t\n+\t\tvar clearButton = document.createElement('button');\n+\t\tclearButton.innerText = 'Clear Log';\n+\t\tclearButton.style.cssText = 'position:absolute; top:5px; right:5px; z-index:10000;';\n+\t\tclearButton.onclick = function() { debugConsole.innerHTML = ''; };\n+\t\tdebugConsole.appendChild(clearButton);\n+\t\t\n+\t\tvar inspectButton = document.createElement('button');\n+\t\tinspectButton.innerText = 'Print Used Colors';\n+\t\tinspectButton.style.cssText = 'position:absolute; top:5px; right:80px; z-index:10000;';\n+\t\tinspectButton.onclick = function() { printUsedColors(); };\n+\t\tdebugConsole.appendChild(inspectButton);\n+\t\t\n+\t\t\/\/ Override console.log\n+\t\tvar oldLog = console.log;\n+\t\tconsole.log = function(message) {\n+\t\t\tif (oldLog) oldLog.apply(console, arguments);\n+\t\t\t\n+\t\t\tvar entry = document.createElement('div');\n+\t\t\tentry.innerText = new Date().toLocaleTimeString() + ': ' + message;\n+\t\t\tdebugConsole.appendChild(entry);\n+\t\t\tdebugConsole.scrollTop = debugConsole.scrollHeight;\n+\t\t};\n+\t\t\n+\t\treturn debugConsole;\n+\t}\n+\t\n+\tfunction printUsedColors() {\n+\t\tif (!DEBUG_MODE) return;\n+\t\t\n+\t\tconsole.log(\"--- THEME COLORS INSPECTION ---\");\n+\t\tconsole.log(\"Current theme: \" + (document.body.classList.contains('dark-theme') ? 'Dark Mode' : 'Light Mode'));\n+\t\t\n+\t\tvar bodyStyle = getComputedStyle(document.body);\t\t\n+\t\tconsole.log(\"Body background-color: \" + bodyStyle.backgroundColor);\n+\t\tconsole.log(\"Body text color: \" + bodyStyle.color);\n+\t\t\n+\t\tif (document.querySelector('.rule_heading')) {\n+\t\t\tvar headingStyle = getComputedStyle(document.querySelector('.rule_heading'));\n+\t\t\tconsole.log(\"rule_heading background-color: \" + headingStyle.backgroundColor);\n+\t\t\tconsole.log(\"rule_heading text color: \" + headingStyle.color);\n+\t\t}\n+\t\t\n+\t\tif (document.querySelector('.column_title')) {\n+\t\t\tvar titleStyle = getComputedStyle(document.querySelector('.column_title'));\n+\t\t\tconsole.log(\"column_title background-color: \" + titleStyle.backgroundColor);\n+\t\t\tconsole.log(\"column_title text color: \" + titleStyle.color);\n+\t\t\t\n+\t\t\tvar tempElement = document.createElement('div');\n+\t\t\ttempElement.className = document.body.classList.contains('dark-theme') ? \n+\t\t\t\t'column_title dark-theme' : 'column_title';\n+\t\t\ttempElement.style.cssText = 'position: absolute; left: -9999px; top: -9999px;';\n+\t\t\tdocument.body.appendChild(tempElement);\n+\t\t\t\n+\t\t\tvar sheet = document.styleSheets[0];\n+\t\t\tvar rules = sheet.cssRules || sheet.rules;\n+\t\t\tvar hoverSelector = document.body.classList.contains('dark-theme') ? \n+\t\t\t\t'.dark-theme .column_title:hover' : '.column_title:hover';\n+\t\t\t\t\n+\t\t\tfor (var i = 0; i < rules.length; i++) {\n+\t\t\t\tif (rules[i].selectorText === hoverSelector) {\n+\t\t\t\t\tconsole.log(\"column_title hover background-color: \" + \n+\t\t\t\t\t\trules[i].style.getPropertyValue('background-color'));\n+\t\t\t\t\tbreak;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\t\n+\t\t\tdocument.body.removeChild(tempElement);\n+\t\t}\n+\t\t\n+\t\tconsole.log(\"Severity colors:\");\n+\t\t['warning', 'info', 'ok', 'na', 'ignore', 'error'].forEach(function(severity) {\n+\t\t\tif (document.querySelector('.rule_score.' + severity)) {\n+\t\t\t\tvar scoreStyle = getComputedStyle(document.querySelector('.rule_score.' + severity));\n+\t\t\t\tconsole.log(\"  \" + severity + \" score background-color: \" + scoreStyle.backgroundColor);\n+\t\t\t}\n+\t\t});\n+\t\t\n+\t\tconsole.log(\"--- END THEME COLORS INSPECTION ---\");\n+\t}\n+\t\n+\t\/\/ Theme toggle button for debugging\n+\tfunction addThemeToggleButton() {\n+\t\tif (!DEBUG_MODE) return;\n+\t\t\n+\t\tif (document.getElementById('debug-console')) {\n+\t\t\tvar debugConsole = document.getElementById('debug-console');\n+\t\t\tvar themeToggle = document.createElement('button');\n+\t\t\tthemeToggle.innerText = document.body.classList.contains('dark-theme') ? 'Switch to Light Mode' : 'Switch to Dark Mode';\n+\t\t\tthemeToggle.style.cssText = 'position:absolute; top:5px; right:180px; z-index:10000;';\n+\t\t\tthemeToggle.onclick = function() {\n+\t\t\t\tvar isDark = !document.body.classList.contains('dark-theme');\n+\t\t\t\toverview.setTheme(isDark);\n+\t\t\t\tthis.innerText = isDark ? 'Switch to Light Mode' : 'Switch to Dark Mode';\n+\t\t\t};\n+\t\t\tdebugConsole.appendChild(themeToggle);\n+\t\t\tconsole.log(\"Added theme toggle button to debug console\");\n+\t\t} else {\n+\t\t\tconsole.log(\"Debug console not found for theme toggle button\");\n+\t\t}\n+\t}\n+\t\n@@ -273,0 +447,1 @@\n+\t\t\/\/ Initialize rule overview logic\n@@ -274,0 +449,14 @@\n+\t\t\n+\t\t\/\/ Set up debug features if enabled\n+\t\tif (DEBUG_MODE) {\n+\t\t\t\/\/ First set up the debug console\n+\t\t\tsetupDebugConsole();\n+\t\t\t\n+\t\t\t\/\/ Then add the theme toggle button to it\n+\t\t\twindow.setTimeout(function() {\n+\t\t\t\taddThemeToggleButton();\n+\t\t\t}, 100);\n+\t\t\t\n+\t\t\t\/\/ Log initial theme state\n+\t\t\tconsole.log(\"Initial theme: \" + (document.body.classList.contains('dark-theme') ? 'dark' : 'light'));\n+\t\t}\n@@ -280,0 +469,28 @@\n+\t\tsetTheme : function(isDark) {\n+\t\t\tconsole.log(\"Setting theme: \" + (isDark ? \"dark\" : \"light\"));\n+\t\t\t\n+\t\t\tif (isDark) {\n+\t\t\t\tdocument.body.classList.add(\"dark-theme\");\n+\t\t\t\tdocument.body.classList.remove(\"light-theme\");\t\t\t\t\n+\t\t\t\tdocument.body.style.backgroundColor = '#2F3136';\n+\t\t\t\tdocument.body.style.color = '#E5E5E5';\t\t\t\t\n+\t\t\t\tvar ruleHeadings = document.getElementsByClassName('rule_heading');\n+\t\t\t\tfor(var i=0; i<ruleHeadings.length; i++) {\n+\t\t\t\t\truleHeadings[i].style.backgroundColor = '#36393f';\n+\t\t\t\t\truleHeadings[i].style.color = '#E5E5E5';\n+\t\t\t\t}\n+\t\t\t} else {\n+\t\t\t\tdocument.body.classList.remove(\"dark-theme\");\n+\t\t\t\tdocument.body.classList.add(\"light-theme\");\n+\t\t\t\tdocument.body.style.backgroundColor = 'white';\n+\t\t\t\tdocument.body.style.color = '#3a3a3a';\n+\t\t\t\tvar ruleHeadings = document.getElementsByClassName('rule_heading');\n+\t\t\t\tfor(var i=0; i<ruleHeadings.length; i++) {\n+\t\t\t\t\truleHeadings[i].style.backgroundColor = '#EDE8E8';\n+\t\t\t\t\truleHeadings[i].style.color = '#403E3E';\n+\t\t\t\t}\n+\t\t\t}\t\t\t\n+\t\t\t\/\/ Log the current theme state for debugging\n+\t\t\tconsole.log(\"Theme applied: \" + (isDark ? \"dark\" : \"light\"));\n+\t\t},\n+\t\t\n","filename":"core\/org.openjdk.jmc.flightrecorder.rules\/src\/main\/resources\/org\/openjdk\/jmc\/flightrecorder\/rules\/report\/html\/internal\/rules_overview.html","additions":227,"deletions":10,"binary":false,"changes":237,"status":"modified"}]}
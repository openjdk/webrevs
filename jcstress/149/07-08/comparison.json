{"files":[{"patch":"@@ -59,2 +59,2 @@\n-        ConfigsWithScheduler configs = getConfigs();\n-        if (configs == null) {\n+        ConfigsWithScheduler config = getConfigs();\n+        if (config == null) {\n@@ -64,1 +64,1 @@\n-        TimeBudget timeBudget = new TimeBudget(configsWithScheduler.configs.size(), opts.timeBudget());\n+        TimeBudget timeBudget = new TimeBudget(config.configs.size(), opts.timeBudget());\n@@ -67,1 +67,1 @@\n-        ConsoleReportPrinter printer = new ConsoleReportPrinter(opts, new PrintWriter(out, true), configsWithScheduler.configs.size(), timeBudget);\n+        ConsoleReportPrinter printer = new ConsoleReportPrinter(opts, new PrintWriter(out, true), config.configs.size(), timeBudget);\n@@ -72,1 +72,1 @@\n-        TestExecutor executor = new TestExecutor(opts.verbosity(), sink, configsWithScheduler.scheduler, timeBudget);\n+        TestExecutor executor = new TestExecutor(opts.verbosity(), sink, config.scheduler, timeBudget);\n@@ -75,1 +75,1 @@\n-        executor.runAll(configsWithScheduler.configs);\n+        executor.runAll(config.configs);\n@@ -87,1 +87,1 @@\n-    public ConfigsWithScheduler getConfigs() {\n+    private ConfigsWithScheduler getConfigs() {\n@@ -121,1 +121,1 @@\n-    public static class ConfigsWithScheduler {\n+    private static class ConfigsWithScheduler {\n@@ -229,0 +229,21 @@\n+    public int listTests(Options opts, JCStress jcstress) {\n+        JCStress.ConfigsWithScheduler configsWithScheduler = jcstress.getConfigs();\n+        Set<String> testsToPrint = new TreeSet<>();\n+        for (TestConfig test : configsWithScheduler.configs) {\n+            if (opts.verbosity().printAllTests()) {\n+                testsToPrint.add(test.toDetailedTest());\n+            } else {\n+                testsToPrint.add(test.name);\n+            }\n+        }\n+        if (opts.verbosity().printAllTests()) {\n+            System.out.println(\"All matching tests combinations - \" + testsToPrint.size());\n+        } else {\n+            System.out.println(\"All matching tests - \" + testsToPrint.size());\n+        }\n+        for (String test : testsToPrint) {\n+            System.out.println(test);\n+        }\n+        return testsToPrint.size();\n+    }\n+\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/JCStress.java","additions":29,"deletions":8,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -32,3 +32,0 @@\n-import java.net.URL;\n-import java.util.Set;\n-import java.util.TreeSet;\n@@ -58,1 +55,1 @@\n-            listTests(opts, jcstress);\n+            jcstress.listTests(opts, jcstress);\n@@ -66,20 +63,0 @@\n-    private static void listTests(Options opts, JCStress jcstress) {\n-        JCStress.ConfigsWithScheduler configsWithScheduler = jcstress.getConfigs();\n-        Set<String> testsToPrint = new TreeSet<>();\n-        for (TestConfig test : configsWithScheduler.configs) {\n-            if (opts.verbosity().printAllTests()) {\n-                testsToPrint.add(test.toDetailedTest());\n-            } else {\n-                testsToPrint.add(test.name);\n-            }\n-        }\n-        if (opts.verbosity().printAllTests()) {\n-            System.out.println(\"All matching tests combinations - \" + testsToPrint.size());\n-        } else {\n-            System.out.println(\"All matching tests - \" + testsToPrint.size());\n-        }\n-        for (String test : testsToPrint) {\n-            System.out.println(test);\n-        }\n-    }\n-\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/Main.java","additions":1,"deletions":24,"binary":false,"changes":25,"status":"modified"}]}
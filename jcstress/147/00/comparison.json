{"files":[{"patch":"@@ -30,1 +30,0 @@\n-import org.openjdk.jcstress.util.StringUtils;\n@@ -33,3 +32,0 @@\n-import java.util.concurrent.ExecutionException;\n-import java.util.concurrent.ExecutorService;\n-import java.util.concurrent.Future;\n@@ -37,1 +33,0 @@\n-import java.util.concurrent.TimeoutException;\n@@ -65,2 +60,0 @@\n-        } catch (ClassFormatError | NoClassDefFoundError | NoSuchMethodError | NoSuchFieldError e) {\n-            return dumpFailure(Status.API_MISMATCH, \"Test sanity check failed, skipping\", e);\n@@ -68,1 +61,5 @@\n-            return dumpFailure(Status.CHECK_TEST_ERROR, \"Check test failed\", e);\n+            if (isAPIMismatchException(e)) {\n+                return dumpFailure(Status.API_MISMATCH, \"Test sanity check failed, skipping\", e);\n+            } else {\n+                return dumpFailure(Status.CHECK_TEST_ERROR, \"Check test failed\", e);\n+            }\n@@ -106,0 +103,14 @@\n+    private static boolean isAPIMismatchException(Throwable e) {\n+        while (e != null) {\n+            if (e instanceof ClassFormatError ||\n+                    e instanceof NoClassDefFoundError ||\n+                    e instanceof NoSuchMethodError ||\n+                    e instanceof NoSuchFieldError ||\n+                    e instanceof UnsupportedOperationException) {\n+                return true;\n+            }\n+            e = e.getCause();\n+        }\n+        return false;\n+    }\n+\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/runners\/Runner.java","additions":19,"deletions":8,"binary":false,"changes":27,"status":"modified"}]}
{"files":[{"patch":"@@ -346,8 +346,0 @@\n-#if defined(_ALLBSD_SOURCE)\n-    my_openat_func = (openat_func*) openat;\n-    my_fstatat_func = (fstatat_func*) fstatat;\n-#else\n-    \/\/ Make sure we link to the 64-bit version of the functions\n-    my_openat_func = (openat_func*) dlsym(RTLD_DEFAULT, \"openat64\");\n-    my_fstatat_func = (fstatat_func*) dlsym(RTLD_DEFAULT, \"fstatat64\");\n-#endif\n@@ -358,0 +350,2 @@\n+    my_openat_func = (openat_func*) dlsym(RTLD_DEFAULT, \"open64at\");\n+    my_fstatat_func = (fstatat_func*) dlsym(RTLD_DEFAULT, \"stat64at\");\n@@ -360,0 +354,2 @@\n+    my_openat_func = (openat_func*) openat;\n+    my_fstatat_func = (fstatat_func*) fstatat;\n@@ -362,0 +358,3 @@\n+    \/\/ Make sure we link to the 64-bit version of the functions\n+    my_openat_func = (openat_func*) dlsym(RTLD_DEFAULT, \"openat64\");\n+    my_fstatat_func = (fstatat_func*) dlsym(RTLD_DEFAULT, \"fstatat64\");\n","filename":"src\/java.base\/unix\/native\/libnio\/fs\/UnixNativeDispatcher.c","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @requires (os.family == \"linux\" | os.family == \"mac\")\n+ * @requires (os.family == \"linux\" | os.family == \"mac\" | os.family == \"aix\")\n","filename":"test\/jdk\/java\/nio\/file\/DirectoryStream\/SecureDS.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
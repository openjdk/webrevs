{"files":[{"patch":"@@ -75,0 +75,1 @@\n+    \/\/ TODO: Need to revisit this when porting the AOT features.\n@@ -76,4 +77,1 @@\n-  }\n-\n-  if (stub_addr != nullptr) {\n-    stub_addr = MacroAssembler::target_addr_for_insn(call_addr);\n+    assert(stub_addr != nullptr, \"Sanity\");\n@@ -116,1 +114,0 @@\n-  address stub_addr = nullptr;\n@@ -118,4 +115,5 @@\n-    stub_addr = trampoline_stub_Relocation::get_trampoline_for(call_addr, code->as_nmethod());\n-  }\n-  if (stub_addr != nullptr) {\n-    MacroAssembler::pd_patch_instruction_size(call_addr, stub_addr);\n+    \/\/ TODO: Need to revisit this when porting the AOT features.\n+    assert(dest != nullptr, \"Sanity\");\n+    assert(dest == trampoline_stub_Relocation::get_trampoline_for(call_addr,\n+                                                          code->as_nmethod()), \"Sanity\");\n+    MacroAssembler::pd_patch_instruction_size(call_addr, dest);\n","filename":"src\/hotspot\/cpu\/riscv\/nativeInst_riscv.cpp","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -97,1 +97,0 @@\n-\n@@ -125,1 +124,0 @@\n- public:\n@@ -127,0 +125,1 @@\n+ public:\n","filename":"src\/hotspot\/cpu\/riscv\/nativeInst_riscv.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}
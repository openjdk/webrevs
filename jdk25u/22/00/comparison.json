{"files":[{"patch":"@@ -299,1 +299,5 @@\n-        applyIfCPUFeatureOr = { \"avx512\", \"true\", \"rvv\", \"true\" },\n+        applyIfCPUFeature = { \"avx512\", \"true\" },\n+        counts = { IRNode.MAX_REDUCTION_V, \"> 0\" })\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfAnd = { \"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\" },\n+        applyIfCPUFeature = { \"rvv\", \"true\" },\n@@ -334,1 +338,5 @@\n-        applyIfCPUFeatureOr = { \"avx512\", \"true\", \"rvv\", \"true\" },\n+        applyIfCPUFeature = { \"avx512\", \"true\" },\n+        counts = { IRNode.MIN_REDUCTION_V, \"> 0\" })\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfAnd = { \"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\" },\n+        applyIfCPUFeature = { \"rvv\", \"true\" },\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestIfMinMax.java","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -143,1 +143,1 @@\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\", \"MaxVectorSize\", \">=32\"},\n@@ -165,1 +165,1 @@\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\", \"MaxVectorSize\", \">=32\"},\n@@ -187,1 +187,1 @@\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\", \"MaxVectorSize\", \">=32\"},\n@@ -209,1 +209,1 @@\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\", \"MaxVectorSize\", \">=32\"},\n@@ -231,1 +231,1 @@\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\", \"MaxVectorSize\", \">=32\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/RedTest_long.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"LoopMaxUnroll\", \">= 8\", \"MaxVectorSize\", \">=32\"},\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/SumRed_Long.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n@@ -88,0 +88,4 @@\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+        counts = {IRNode.ADD_REDUCTION_VI, \">= 1\"})\n@@ -97,1 +101,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n@@ -101,0 +105,4 @@\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+        counts = {IRNode.ADD_REDUCTION_VI, \">= 1\"})\n@@ -111,1 +119,1 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n@@ -115,0 +123,4 @@\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIfAnd = {\"SuperWordReductions\", \"true\", \"MaxVectorSize\", \">=32\"},\n+        counts = {IRNode.ADD_REDUCTION_VI, \">= 1\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestGeneralizedReductions.java","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -69,1 +69,13 @@\n-        applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"})\n+        applyIfCPUFeature = {\"avx2\", \"true\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,   IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.OR_REDUCTION_V,                                                 \"> 0\",},\n+        applyIfAnd = {\"AlignVector\", \"false\", \"MaxVectorSize\", \">=32\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"})\n+    @IR(counts = {IRNode.LOAD_VECTOR_I,   IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.VECTOR_CAST_I2L, IRNode.VECTOR_SIZE + \"min(max_int, max_long)\", \"> 0\",\n+                  IRNode.OR_REDUCTION_V,                                                 \"> 0\",},\n+        applyIfAnd = {\"UseCompactObjectHeaders\", \"false\", \"MaxVectorSize\", \">=32\"},\n+        applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"})\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/superword\/TestUnorderedReductionPartialVectorization.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -180,1 +180,5 @@\n-    @IR(applyIfCPUFeatureOr = {\"avx2\", \"true\", \"rvv\", \"true\"},\n+    @IR(applyIfCPUFeature = {\"avx2\", \"true\"},\n+        counts = {IRNode.ADD_REDUCTION_V, \">0\"})\n+    @IR(applyIfPlatform = {\"riscv64\", \"true\"},\n+        applyIfCPUFeature = {\"rvv\", \"true\"},\n+        applyIf = {\"MaxVectorSize\", \">=32\" },\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/runner\/LoopReductionOpTest.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}
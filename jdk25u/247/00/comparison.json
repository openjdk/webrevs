{"files":[{"patch":"@@ -210,0 +210,6 @@\n+  if (ZapCHeap) {\n+    \/\/ To do this zapping, we need to know the block size.\n+    \/\/ This is why we have to do it here, and not in os::free.\n+    memset(memblock, freeBlockPad, header->size());\n+  }\n+\n","filename":"src\/hotspot\/share\/nmt\/mallocTracker.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -491,0 +491,3 @@\n+  develop(bool, ZapCHeap, trueInDebug,                                      \\\n+          \"Zap allocated\/freed C heap space\")                               \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -669,2 +669,2 @@\n-  } else {\n-    DEBUG_ONLY(::memset(inner_ptr, uninitBlockPad, size);)\n+  } else if (ZapCHeap) {\n+    ::memset(inner_ptr, uninitBlockPad, size);\n@@ -743,1 +743,1 @@\n-    if (old_size < size) {\n+    if (ZapCHeap && old_size < size) {\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}
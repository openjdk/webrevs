{"files":[{"patch":"@@ -335,1 +335,1 @@\n-    log_if_needed(\"  ** missing constant: opr=%s opr_type = %s vclass=%s etype=%s vlen=%s\",\n+    log_if_needed(\"  ** missing constant: opr=%s vclass=%s etype=%s opr_type=%s vlen=%s\",\n@@ -337,1 +337,0 @@\n-                    NodeClassNames[argument(5)->Opcode()],\n@@ -340,1 +339,2 @@\n-                    NodeClassNames[argument(4)->Opcode()]);\n+                    NodeClassNames[argument(5)->Opcode()],\n+                    NodeClassNames[argument(6)->Opcode()]);\n@@ -345,2 +345,1 @@\n-  if (!elem_type->is_primitive_type() ||\n-      opr_type->get_con() != VectorSupport::VECTOR_TYPE_PRIM) {\n+  if (!elem_type->is_primitive_type()) {\n@@ -381,1 +380,1 @@\n-  int opc = VectorSupport::vop2ideal(opr->get_con(), elem_bt);\n+  int opc = VectorSupport::vop2ideal(opr->get_con(), elem_bt, opr_type->get_con());\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -202,1 +202,1 @@\n-int VectorSupport::vop2ideal(jint id, BasicType bt) {\n+int VectorSupport::vop2ideal(jint id, BasicType bt, int operType) {\n@@ -208,1 +208,5 @@\n-        case T_SHORT:  \/\/ fall-through\n+        case T_SHORT:\n+          if (operType == VECTOR_TYPE_FP16) {\n+            return Op_AddHF;\n+          }\n+          \/\/ fall-through\n@@ -220,1 +224,5 @@\n-        case T_SHORT:  \/\/ fall-through\n+        case T_SHORT:\n+          if (operType == VECTOR_TYPE_FP16) {\n+            return Op_SubHF;\n+          }\n+          \/\/ fall-through\n@@ -232,1 +240,5 @@\n-        case T_SHORT:  \/\/ fall-through\n+        case T_SHORT:\n+          if (operType == VECTOR_TYPE_FP16) {\n+            return Op_MulHF;\n+          }\n+          \/\/ fall-through\n@@ -244,1 +256,5 @@\n-        case T_SHORT:  \/\/ fall-through\n+        case T_SHORT:\n+          if (operType == VECTOR_TYPE_FP16) {\n+            return Op_DivHF;\n+          }\n+          \/\/ fall-through\n@@ -257,0 +273,4 @@\n+          if (operType == VECTOR_TYPE_FP16) {\n+            return Op_MinHF;\n+          }\n+          \/\/ fall-through\n@@ -269,0 +289,4 @@\n+          if (operType == VECTOR_TYPE_FP16) {\n+            return Op_MaxHF;\n+          }\n+          \/\/ fall-through\n@@ -353,0 +377,1 @@\n+        case T_SHORT:  return Op_SqrtHF;\n@@ -361,0 +386,1 @@\n+        case T_SHORT:  return Op_FmaHF;\n","filename":"src\/hotspot\/share\/prims\/vectorSupport.cpp","additions":31,"deletions":5,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -133,1 +133,1 @@\n-  static int vop2ideal(jint vop, BasicType bt);\n+  static int vop2ideal(jint vop, BasicType bt, int operType = VECTOR_TYPE_PRIM);\n","filename":"src\/hotspot\/share\/prims\/vectorSupport.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
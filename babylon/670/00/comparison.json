{"files":[{"patch":"@@ -165,0 +165,1 @@\n+            int unsupported = 0;\n@@ -166,1 +167,1 @@\n-        var testEngine = \"hat.test.engine.HatTestEngine\";\n+        var testEngine = \"hat.test.engine.HATTestEngine\";\n@@ -253,1 +254,2 @@\n-                            System.out.println(\"\\n\\n\");\n+                           System.out.println(\"\\n\\n\");\n+                           System.out.println(\"*****************************************************************\");\n@@ -255,3 +257,3 @@\n-                           System.out.println(\"                 HAT Test Report \");\n-                           System.out.println(\"************************************************\");\n-                           var pattern = Pattern.compile( \"passed: (\\\\d+), failed: (\\\\d+)\");\n+                           System.out.println(\"                     HAT Test Report \");\n+                           System.out.println(\"*****************************************************************\");\n+                           var pattern = Pattern.compile( \"passed: (\\\\d+), failed: (\\\\d+), unsupported: (\\\\d+)\");\n@@ -264,0 +266,1 @@\n+                                 stats.unsupported+=Integer.parseInt(matcher.group(3));\n@@ -266,2 +269,2 @@\n-                          System.out.printf(\"Global passed: %d, failed: %d, pass-rate: %.2f%%\",\n-                                stats.passed, stats.failed, ((float)(stats.passed * 100 \/ (stats.passed + stats.failed))));\n+                          System.out.printf(\"Global passed: %d, failed: %d, unsupported: %d, pass-rate: %.2f%%\\\\n\",\n+                                stats.passed, stats.failed, stats.unsupported, ((float)(stats.passed * 100 \/ (stats.passed + stats.failed + stats.unsupported))));\n","filename":"hat\/hat.java","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-            testMainClassName = \"hat.test.engine.HatTestEngine\";\n+            testMainClassName = \"hat.test.engine.HATTestEngine\";\n@@ -95,0 +95,1 @@\n+    int unsupported = 0;\n@@ -96,1 +97,1 @@\n-        passed += val;\n+        this.passed += val;\n@@ -99,1 +100,4 @@\n-        failed += fail;\n+        this.failed += fail;\n+    }\n+    public void incrementUnsupported(int unsupporeted) {\n+        this.unsupported += unsupporeted;\n@@ -108,0 +112,3 @@\n+    public int getUnsupported() {\n+        return unsupported;\n+    }\n@@ -111,1 +118,2 @@\n-        return String.format(\"Global passed: %d, failed: %d, pass-rate: %.2f%%\", passed, failed, ((float)(passed * 100 \/ (passed + failed))));\n+        return String.format(\"Global passed: %d, failed: %d, unsupported: %d, pass-rate: %.2f%%\",\n+                passed, failed, unsupported, ((float)(passed * 100 \/ (passed + failed + unsupported))));\n@@ -195,1 +203,1 @@\n-        String regex = \"passed: (\\\\d+), failed: (\\\\d+)\";\n+        String regex = \"passed: (\\\\d+), failed: (\\\\d+), unsupported: (\\\\d+)\";\n@@ -211,0 +219,1 @@\n+                    int unsupported = Integer.parseInt(matcher.group(3));\n@@ -213,0 +222,1 @@\n+                    stats.incrementUnsupported(unsupported);\n","filename":"hat\/hat\/test.java","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -75,1 +75,1 @@\n-            HatAsserts.assertEquals(i * i, arr.array(i));\n+            HATAsserts.assertEquals(i * i, arr.array(i));\n@@ -109,1 +109,1 @@\n-                HatAsserts.assertEquals((i * 5 + j) * (i * 5 + j), arr.get(i, j));\n+                HATAsserts.assertEquals((i * 5 + j) * (i * 5 + j), arr.get(i, j));\n@@ -303,1 +303,1 @@\n-                HatAsserts.assertEquals(resultGrid[i][j], cellGrid.array(((long) i * cellGrid.width()) + j));\n+                HATAsserts.assertEquals(resultGrid[i][j], cellGrid.array(((long) i * cellGrid.width()) + j));\n@@ -390,1 +390,1 @@\n-                HatAsserts.assertEquals(paletteCheck, palletteValue);\n+                HATAsserts.assertEquals(paletteCheck, palletteValue);\n@@ -504,2 +504,2 @@\n-            HatAsserts.assertEquals(res[0], call.array(i), 0.0001);\n-            HatAsserts.assertEquals(res[1], put.array(i), 0.0001);\n+            HATAsserts.assertEquals(res[0], call.array(i), 0.0001);\n+            HATAsserts.assertEquals(res[1], put.array(i), 0.0001);\n@@ -591,1 +591,1 @@\n-            HatAsserts.assertEquals(2 * i + 17, arr.array(i));\n+            HATAsserts.assertEquals(2 * i + 17, arr.array(i));\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestArrayView.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -123,1 +123,1 @@\n-            HatAsserts.assertEquals(test.array(i), array.array(i));\n+            HATAsserts.assertEquals(test.array(i), array.array(i));\n@@ -149,1 +149,1 @@\n-            HatAsserts.assertEquals(test.array(i), arrayC.array(i));\n+            HATAsserts.assertEquals(test.array(i), arrayC.array(i));\n@@ -179,1 +179,1 @@\n-            HatAsserts.assertEquals(test.array(i), arrayC.array(i), 0.01f);\n+            HATAsserts.assertEquals(test.array(i), arrayC.array(i), 0.01f);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestArrays.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -149,2 +149,2 @@\n-            HatAsserts.assertEquals(seqCall.array(i), call.array(i), 0.01f);\n-            HatAsserts.assertEquals(seqPut.array(i), put.array(i), 0.01f);\n+            HATAsserts.assertEquals(seqCall.array(i), call.array(i), 0.01f);\n+            HATAsserts.assertEquals(seqPut.array(i), put.array(i), 0.01f);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestBlackscholes.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -85,1 +85,1 @@\n-            HatAsserts.assertEquals(test.array(i), arrayC.array(i));\n+            HATAsserts.assertEquals(test.array(i), arrayC.array(i));\n@@ -137,1 +137,1 @@\n-            HatAsserts.assertEquals(test.array(i), arrayC.array(i));\n+            HATAsserts.assertEquals(test.array(i), arrayC.array(i));\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestConstants.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -39,1 +39,4 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAssertionError;\n+import hat.test.engine.HATAsserts;\n+import hat.test.engine.HATExpectedFailureException;\n+import hat.test.engine.HATTestException;\n@@ -43,0 +46,1 @@\n+import java.lang.reflect.InvocationTargetException;\n@@ -318,1 +322,1 @@\n-            HatAsserts.assertEquals((float)i, F16.f16ToFloat(val), 0.001f);\n+            HATAsserts.assertEquals((float)i, F16.f16ToFloat(val), 0.001f);\n@@ -345,1 +349,1 @@\n-            HatAsserts.assertEquals((fa + fb), F16.f16ToFloat(val), 0.001f);\n+            HATAsserts.assertEquals((fa + fb), F16.f16ToFloat(val), 0.001f);\n@@ -372,1 +376,1 @@\n-            HatAsserts.assertEquals((fa + fb + fb), F16.f16ToFloat(val), 0.001f);\n+            HATAsserts.assertEquals((fa + fb + fb), F16.f16ToFloat(val), 0.001f);\n@@ -407,1 +411,1 @@\n-            HatAsserts.assertEquals(Float.float16ToFloat(r5.value()), Float.float16ToFloat(gotResult), 0.01f);\n+            HATAsserts.assertEquals(Float.float16ToFloat(r5.value()), Float.float16ToFloat(gotResult), 0.01f);\n@@ -427,1 +431,1 @@\n-            HatAsserts.assertEquals(2.1f, Float.float16ToFloat(val), 0.01f);\n+            HATAsserts.assertEquals(2.1f, Float.float16ToFloat(val), 0.01f);\n@@ -447,1 +451,1 @@\n-            HatAsserts.assertEquals(i, Float.float16ToFloat(val), 0.01f);\n+            HATAsserts.assertEquals(i, Float.float16ToFloat(val), 0.01f);\n@@ -457,1 +461,1 @@\n-        HatAsserts.assertEquals((2.5f + 3.5f), Float.float16ToFloat(c.value()), 0.01f);\n+        HATAsserts.assertEquals((2.5f + 3.5f), Float.float16ToFloat(c.value()), 0.01f);\n@@ -460,1 +464,1 @@\n-        HatAsserts.assertEquals((2.5f - 3.5f), Float.float16ToFloat(d.value()), 0.01f);\n+        HATAsserts.assertEquals((2.5f - 3.5f), Float.float16ToFloat(d.value()), 0.01f);\n@@ -463,1 +467,1 @@\n-        HatAsserts.assertEquals((2.5f * 3.5f), Float.float16ToFloat(e.value()), 0.01f);\n+        HATAsserts.assertEquals((2.5f * 3.5f), Float.float16ToFloat(e.value()), 0.01f);\n@@ -466,1 +470,1 @@\n-        HatAsserts.assertEquals((2.5f \/ 3.5f), Float.float16ToFloat(f.value()), 0.01f);\n+        HATAsserts.assertEquals((2.5f \/ 3.5f), Float.float16ToFloat(f.value()), 0.01f);\n@@ -485,1 +489,1 @@\n-            HatAsserts.assertEquals(i, Float.float16ToFloat(val), 0.01f);\n+            HATAsserts.assertEquals(i, Float.float16ToFloat(val), 0.01f);\n@@ -506,1 +510,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i).value(), val.value());\n+            HATAsserts.assertEquals(arrayA.array(i).value(), val.value());\n@@ -520,1 +524,1 @@\n-            HatAsserts.assertEquals(1.1f, F16.f16ToFloat(val), 0.01f);\n+            HATAsserts.assertEquals(1.1f, F16.f16ToFloat(val), 0.01f);\n@@ -536,1 +540,8 @@\n-        accelerator.compute(computeContext -> TestF16Type.compute11(computeContext, arrayA, arrayB));\n+        try {\n+            accelerator.compute(computeContext -> TestF16Type.compute11(computeContext, arrayA, arrayB));\n+        } catch (Throwable e) {\n+            \/\/ We expect this to fail since it is unsupported at the moment,\n+            IO.println(\"-------------------\");\n+            IO.println(e.getMessage());\n+            throw new HATExpectedFailureException(\"Expected to fail due to unsupported use of F16 in local and private memory\");\n+        }\n@@ -540,1 +551,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i).value(), val.value());\n+            HATAsserts.assertEquals(arrayA.array(i).value(), val.value());\n@@ -562,1 +573,1 @@\n-            HatAsserts.assertEquals(F16.f16ToFloat(F16.add(arrayA.array(i), arrayB.array(i))), F16.f16ToFloat(result), 0.01f);\n+            HATAsserts.assertEquals(F16.f16ToFloat(F16.add(arrayA.array(i), arrayB.array(i))), F16.f16ToFloat(result), 0.01f);\n@@ -584,1 +595,1 @@\n-            HatAsserts.assertEquals(F16.f16ToFloat(arrayA.array(i)), F16.f16ToFloat(result), 0.01f);\n+            HATAsserts.assertEquals(F16.f16ToFloat(arrayA.array(i)), F16.f16ToFloat(result), 0.01f);\n@@ -605,1 +616,1 @@\n-            HatAsserts.assertEquals(F16.f16ToFloat(arrayA.array(i)) + 32.1f, F16.f16ToFloat(result), 0.1f);\n+            HATAsserts.assertEquals(F16.f16ToFloat(arrayA.array(i)) + 32.1f, F16.f16ToFloat(result), 0.1f);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestF16Type.java","additions":30,"deletions":19,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -376,1 +376,1 @@\n-            HatAsserts.assertEquals((arrayA.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n@@ -396,2 +396,2 @@\n-            HatAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 1)), arrayB.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 1)), arrayB.array(i + 1), 0.001f);\n@@ -416,2 +416,2 @@\n-            HatAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n@@ -436,2 +436,2 @@\n-            HatAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n@@ -458,1 +458,1 @@\n-            HatAsserts.assertEquals((arrayA.array(i) + arrayB.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i) + arrayB.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n@@ -479,1 +479,1 @@\n-            HatAsserts.assertEquals((arrayA.array(i) - arrayB.array(i)), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i) - arrayB.array(i)), arrayC.array(i), 0.001f);\n@@ -500,1 +500,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayC.array(i), 0.001f);\n@@ -522,1 +522,1 @@\n-            HatAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n@@ -544,1 +544,1 @@\n-            HatAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n@@ -564,1 +564,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n@@ -584,1 +584,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n@@ -604,1 +604,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n@@ -618,1 +618,1 @@\n-        HatAsserts.assertEquals(expectedSum, vC, 0.001f);\n+        HATAsserts.assertEquals(expectedSum, vC, 0.001f);\n@@ -624,1 +624,1 @@\n-        HatAsserts.assertEquals(expectedSub, vD, 0.001f);\n+        HATAsserts.assertEquals(expectedSub, vD, 0.001f);\n@@ -630,1 +630,1 @@\n-        HatAsserts.assertEquals(expectedMul, vE, 0.001f);\n+        HATAsserts.assertEquals(expectedMul, vE, 0.001f);\n@@ -636,1 +636,1 @@\n-        HatAsserts.assertEquals(expectedDiv, vF, 0.001f);\n+        HATAsserts.assertEquals(expectedDiv, vF, 0.001f);\n@@ -653,1 +653,1 @@\n-            HatAsserts.assertEquals(10.0f, arrayA.array(i), 0.001f);\n+            HATAsserts.assertEquals(10.0f, arrayA.array(i), 0.001f);\n@@ -672,2 +672,2 @@\n-            HatAsserts.assertEquals(v.x(), arrayA.array(i), 0.001f);\n-            HatAsserts.assertEquals(v.y(), arrayA.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals(v.x(), arrayA.array(i), 0.001f);\n+            HATAsserts.assertEquals(v.y(), arrayA.array(i + 1), 0.001f);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestFloat2.java","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -102,1 +102,1 @@\n-        HatAsserts.assertTrue(isCorrect);\n+        HATAsserts.assertTrue(isCorrect);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestLocal.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -127,1 +127,1 @@\n-                HatAsserts.assertEquals(palletteValueSeq, palletteValue);\n+                HATAsserts.assertEquals(palletteValueSeq, palletteValue);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestMandel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -313,1 +313,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n@@ -347,1 +347,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n@@ -382,1 +382,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n@@ -416,1 +416,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n@@ -450,1 +450,1 @@\n-                HatAsserts.assertEquals(\n+                HATAsserts.assertEquals(\n@@ -487,1 +487,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n@@ -783,1 +783,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n@@ -817,1 +817,1 @@\n-                HatAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n+                HATAsserts.assertEquals(resultSeq.array(i * size + j), matrixC.array(i * size + j), 0.01f);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestMatMul.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -192,6 +192,6 @@\n-            HatAsserts.assertEquals(seqBody.x(), hatBody.x(), delta);\n-            HatAsserts.assertEquals(seqBody.y(), hatBody.y(), delta);\n-            HatAsserts.assertEquals(seqBody.z(), hatBody.z(), delta);\n-            HatAsserts.assertEquals(seqBody.vx(), hatBody.vx(), delta);\n-            HatAsserts.assertEquals(seqBody.vy(), hatBody.vy(), delta);\n-            HatAsserts.assertEquals(seqBody.vz(), hatBody.vz(), delta);\n+            HATAsserts.assertEquals(seqBody.x(), hatBody.x(), delta);\n+            HATAsserts.assertEquals(seqBody.y(), hatBody.y(), delta);\n+            HATAsserts.assertEquals(seqBody.z(), hatBody.z(), delta);\n+            HATAsserts.assertEquals(seqBody.vx(), hatBody.vx(), delta);\n+            HATAsserts.assertEquals(seqBody.vy(), hatBody.vy(), delta);\n+            HATAsserts.assertEquals(seqBody.vz(), hatBody.vz(), delta);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestNbody.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -104,1 +104,1 @@\n-        HatAsserts.assertEquals(c, data.array(0));\n+        HATAsserts.assertEquals(c, data.array(0));\n@@ -122,1 +122,1 @@\n-        HatAsserts.assertEquals(c, data.array(0));\n+        HATAsserts.assertEquals(c, data.array(0));\n@@ -140,1 +140,1 @@\n-        HatAsserts.assertEquals(c, data.array(0));\n+        HATAsserts.assertEquals(c, data.array(0));\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestParenthesis.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -99,1 +99,1 @@\n-        HatAsserts.assertTrue(isCorrect);\n+        HATAsserts.assertTrue(isCorrect);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestPrivate.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -170,1 +170,1 @@\n-        HatAsserts.assertEquals(finalResultSeq, finalResultHat);\n+        HATAsserts.assertEquals(finalResultSeq, finalResultHat);\n@@ -204,1 +204,1 @@\n-        HatAsserts.assertEquals(finalResultSeq, finalResultHat);\n+        HATAsserts.assertEquals(finalResultSeq, finalResultHat);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestReductions.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-import hat.test.engine.HatAsserts;\n+import hat.test.engine.HATAsserts;\n@@ -380,1 +380,1 @@\n-            HatAsserts.assertEquals((arrayA.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n@@ -400,4 +400,4 @@\n-            HatAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 1)), arrayB.array(i + 1), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 2)), arrayB.array(i + 2), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 3)), arrayB.array(i + 3), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 1)), arrayB.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 2)), arrayB.array(i + 2), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 3)), arrayB.array(i + 3), 0.001f);\n@@ -422,4 +422,4 @@\n-            HatAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 2) * 30.0f), arrayB.array(i + 2), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 3) * 40.0f), arrayB.array(i + 3), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 2) * 30.0f), arrayB.array(i + 2), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 3) * 40.0f), arrayB.array(i + 3), 0.001f);\n@@ -444,4 +444,4 @@\n-            HatAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 2) * 30.0f), arrayB.array(i + 2), 0.001f);\n-            HatAsserts.assertEquals((arrayA.array(i + 3) * 40.0f), arrayB.array(i + 3), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 0) * 10.0f), arrayB.array(i + 0), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 1) * 20.0f), arrayB.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 2) * 30.0f), arrayB.array(i + 2), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i + 3) * 40.0f), arrayB.array(i + 3), 0.001f);\n@@ -468,1 +468,1 @@\n-            HatAsserts.assertEquals((arrayA.array(i) + arrayB.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i) + arrayB.array(i) + arrayB.array(i)), arrayC.array(i), 0.001f);\n@@ -489,1 +489,1 @@\n-            HatAsserts.assertEquals((arrayA.array(i) - arrayB.array(i)), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals((arrayA.array(i) - arrayB.array(i)), arrayC.array(i), 0.001f);\n@@ -510,1 +510,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayC.array(i), 0.001f);\n@@ -532,1 +532,1 @@\n-            HatAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n@@ -554,1 +554,1 @@\n-            HatAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n+            HATAsserts.assertEquals(val, arrayC.array(i), 0.001f);\n@@ -574,1 +574,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n@@ -594,1 +594,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n@@ -614,1 +614,1 @@\n-            HatAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n+            HATAsserts.assertEquals(arrayA.array(i), arrayB.array(i), 0.001f);\n@@ -629,1 +629,1 @@\n-        HatAsserts.assertEquals(expectedSum, vC, 0.001f);\n+        HATAsserts.assertEquals(expectedSum, vC, 0.001f);\n@@ -638,1 +638,1 @@\n-        HatAsserts.assertEquals(expectedSub, vD, 0.001f);\n+        HATAsserts.assertEquals(expectedSub, vD, 0.001f);\n@@ -647,1 +647,1 @@\n-        HatAsserts.assertEquals(expectedMul, vE, 0.001f);\n+        HATAsserts.assertEquals(expectedMul, vE, 0.001f);\n@@ -656,1 +656,1 @@\n-        HatAsserts.assertEquals(expectedDiv, vF, 0.001f);\n+        HATAsserts.assertEquals(expectedDiv, vF, 0.001f);\n@@ -673,1 +673,1 @@\n-            HatAsserts.assertEquals(10.0f, arrayA.array(i), 0.001f);\n+            HATAsserts.assertEquals(10.0f, arrayA.array(i), 0.001f);\n@@ -692,4 +692,4 @@\n-            HatAsserts.assertEquals(v.x(), arrayA.array(i), 0.001f);\n-            HatAsserts.assertEquals(v.y(), arrayA.array(i + 1), 0.001f);\n-            HatAsserts.assertEquals(v.z(), arrayA.array(i + 2), 0.001f);\n-            HatAsserts.assertEquals(v.w(), arrayA.array(i + 3), 0.001f);\n+            HATAsserts.assertEquals(v.x(), arrayA.array(i), 0.001f);\n+            HATAsserts.assertEquals(v.y(), arrayA.array(i + 1), 0.001f);\n+            HATAsserts.assertEquals(v.z(), arrayA.array(i + 2), 0.001f);\n+            HATAsserts.assertEquals(v.w(), arrayA.array(i + 3), 0.001f);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestVectorTypes.java","additions":31,"deletions":31,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -0,0 +1,32 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package hat.test.engine;\n+\n+public class HATAssertionError extends HATTestException {\n+\n+    public HATAssertionError(String errorMessage) {\n+        super(errorMessage);\n+    }\n+}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HATAssertionError.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -0,0 +1,91 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package hat.test.engine;\n+\n+import hat.buffer.Float2;\n+import hat.buffer.Float4;\n+\n+public class HATAsserts {\n+\n+    public static void assertEquals(short expected, short actual) {\n+        if (expected != actual) {\n+            throw new HATAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n+        }\n+    }\n+\n+    public static void assertEquals(int expected, int actual) {\n+        if (expected != actual) {\n+            throw new HATAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n+        }\n+    }\n+\n+    public static void assertEquals(long expected, long actual) {\n+        if (expected != actual) {\n+            throw new HATAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n+        }\n+    }\n+\n+    public static void assertEquals(float expected, float actual, float delta) {\n+        if (Math.abs(expected - actual) > delta) {\n+            throw new HATAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n+        }\n+    }\n+\n+    public static void assertEquals(double expected, double actual, double delta) {\n+        if (Math.abs(expected - actual) > delta) {\n+            throw new HATAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n+        }\n+    }\n+\n+    public static void assertEquals(Float4 expected, Float4 actual, float delta) {\n+        float[] arrayExpected = expected.toArray();\n+        float[] arrayActual = actual.toArray();\n+        for (int i = 0; i < 4; i++) {\n+            var expectedValue = arrayExpected[i];\n+            var actualValue = arrayActual[i];\n+            if (Math.abs(expectedValue - actualValue) > delta) {\n+                throw new HATAssertionError(\"Expected: \" + expectedValue + \" != actual: \" + actualValue);\n+            }\n+        }\n+    }\n+\n+    public static void assertEquals(Float2 expected, Float2 actual, float delta) {\n+        float[] arrayExpected = expected.toArray();\n+        float[] arrayActual = actual.toArray();\n+        for (int i = 0; i < 2; i++) {\n+            var expectedValue = arrayExpected[i];\n+            var actualValue = arrayActual[i];\n+            if (Math.abs(expectedValue - actualValue) > delta) {\n+                throw new HATAssertionError(\"Expected: \" + expectedValue + \" != actual: \" + actualValue);\n+            }\n+        }\n+    }\n+\n+    public static void assertTrue(boolean isCorrect) {\n+        if (!isCorrect) {\n+            throw new HATAssertionError(\"Expected: \" + isCorrect);\n+        }\n+    }\n+}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HATAsserts.java","additions":91,"deletions":0,"binary":false,"changes":91,"status":"added"},{"patch":"@@ -0,0 +1,32 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package hat.test.engine;\n+\n+public class HATExpectedFailureException extends HATTestException {\n+\n+    public HATExpectedFailureException(String message) {\n+        super(message);\n+    }\n+}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HATExpectedFailureException.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -0,0 +1,190 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package hat.test.engine;\n+\n+import hat.Accelerator;\n+import hat.backend.Backend;\n+import hat.test.annotation.HatTest;\n+\n+import java.io.BufferedWriter;\n+import java.io.FileWriter;\n+import java.io.IOException;\n+import java.lang.annotation.Annotation;\n+import java.lang.invoke.MethodHandles;\n+import java.lang.reflect.InvocationTargetException;\n+import java.lang.reflect.Method;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class HATTestEngine {\n+\n+    public static boolean DETAIL_ERROR_STACK_TRACE = false;\n+\n+    public static final String TEST_REPORT_FILE_NAME = \"test_report.txt\";\n+\n+    private static class Stats {\n+        int passed = 0;\n+        int failed = 0;\n+        int unsupported = 0;\n+        public void incrementPassed() {\n+            passed++;\n+        }\n+        public void incrementFailed() {\n+            failed++;\n+        }\n+        public void incrementUnsupported() { unsupported++; }\n+\n+        public int getPassed() {\n+            return passed;\n+        }\n+        public int getFailed() {\n+            return failed;\n+        }\n+        public int getUnsupported() { return unsupported; }\n+\n+        @Override\n+        public String toString() {\n+            return String.format(\"passed: %d, failed: %d, unsupported: %d\", passed, failed, unsupported);\n+        }\n+    }\n+\n+    private static void testMethod(StringBuilder builder, Method method, Stats stats, Object instance) {\n+        try {\n+            HATTestFormatter.testing(builder, method.getName());\n+            method.invoke(instance);\n+            HATTestFormatter.ok(builder);\n+            stats.incrementPassed();\n+        } catch (HATAssertionError e) {\n+            HATTestFormatter.fail(builder);\n+            stats.incrementFailed();\n+        } catch (HATExpectedFailureException failureException) {\n+            HATTestFormatter.expectedToFail(builder, failureException.getMessage());\n+            stats.incrementUnsupported();\n+        } catch (IllegalAccessException | InvocationTargetException e) {\n+            if (e.getCause() instanceof HATAssertionError hatAssertionError) {\n+                HATTestFormatter.failWithReason(builder, hatAssertionError.getMessage());\n+                stats.incrementFailed();\n+            } else if (e.getCause() instanceof HATExpectedFailureException failureException) {\n+                HATTestFormatter.expectedToFail(builder, failureException.getMessage());\n+                stats.incrementUnsupported();\n+            }  else {\n+                e.getCause().printStackTrace();\n+                HATTestFormatter.fail(builder);\n+                if (DETAIL_ERROR_STACK_TRACE) {\n+                    e.printStackTrace();\n+                }\n+                stats.incrementFailed();\n+            }\n+        }\n+    }\n+\n+    private static void filterIfNeeded(String filterMethod, List<Method> methodsToTest) {\n+        \/\/ Filter the methodToTest if filterMethod is enabled\n+        List<Method> replaceMethods = new ArrayList<>();\n+        if (filterMethod != null) {\n+            for (Method declaredMethod : methodsToTest) {\n+                if (declaredMethod.getName().equals(filterMethod)) {\n+                    replaceMethods.add(declaredMethod);\n+                }\n+            }\n+            methodsToTest.clear();\n+            methodsToTest.addAll(replaceMethods);\n+        }\n+    }\n+\n+    public static void printStats(StringBuilder builder, Stats stats) {\n+        System.out.println();\n+        System.out.println(builder.toString());\n+        System.out.println(stats.toString());\n+        System.out.println();\n+    }\n+\n+    public static void dumpStats(StringBuilder builder, Stats stats) {\n+        try (BufferedWriter writer = new BufferedWriter(new FileWriter(TEST_REPORT_FILE_NAME, true))){\n+            writer.write(builder.toString());\n+            writer.write(stats.toString());\n+            writer.newLine();\n+            writer.newLine();\n+        } catch (IOException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    public static void testClassEngine(String classNameToTest) {\n+        String filterMethod = null;\n+        if (classNameToTest.contains(\"#\")) {\n+            String[] split = classNameToTest.split(\"#\");\n+            classNameToTest = split[0];\n+            filterMethod = split[1];\n+        }\n+\n+        try {\n+            Class<?> testClass = Class.forName(classNameToTest);\n+            \/\/ Obtain all method with the desired annotation\n+            List<Method> methodToTest = new ArrayList<>();\n+            for (Method declaredMethod : testClass.getDeclaredMethods()) {\n+                Annotation[] declaredAnnotations = declaredMethod.getDeclaredAnnotations();\n+                for (Annotation declaredAnnotation : declaredAnnotations) {\n+                    if (declaredAnnotation.annotationType().equals(HatTest.class)) {\n+                        methodToTest.add(declaredMethod);\n+                    }\n+                }\n+            }\n+\n+            if (methodToTest.isEmpty()) {\n+                throw new RuntimeException(\"No test methods found for class \" + classNameToTest);\n+            }\n+\n+            filterIfNeeded(filterMethod, methodToTest);\n+\n+            Object instance = testClass.getDeclaredConstructor().newInstance();\n+\n+            StringBuilder builder = new StringBuilder();\n+            HATTestFormatter.appendClass(builder, classNameToTest);\n+            Stats stats = new Stats();\n+\n+            for (Method method : methodToTest) {\n+                testMethod(builder, method, stats, instance);\n+            }\n+            printStats(builder, stats);\n+            dumpStats(builder, stats);\n+\n+        } catch (ClassNotFoundException | InvocationTargetException | InstantiationException | IllegalAccessException |\n+                 NoSuchMethodException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    static void main(String[] args) {\n+        IO.println(Colours.BLUE + \"HAT Engine Testing Framework\" + Colours.RESET);\n+        var accelerator = new Accelerator(MethodHandles.lookup(), Backend.FIRST);\n+        IO.println(Colours.BLUE + \"Testing Backend: \" + accelerator.backend.getName() + Colours.RESET);\n+        \/\/ We get a set of classes from the arguments\n+        if (args.length < 1) {\n+            throw new RuntimeException(\"No test classes provided\");\n+        }\n+        testClassEngine(args[0]);\n+    }\n+}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HATTestEngine.java","additions":190,"deletions":0,"binary":false,"changes":190,"status":"added"},{"patch":"@@ -27,4 +27,3 @@\n-public class HatAssertionError extends RuntimeException {\n-\n-    public HatAssertionError(String s) {\n-        super(s);\n+public class HATTestException extends RuntimeException {\n+    public HATTestException(String message) {\n+        super(message);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HATTestException.java","additions":3,"deletions":4,"binary":false,"changes":7,"previous_filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HatAssertionError.java","status":"renamed"},{"patch":"@@ -0,0 +1,85 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package hat.test.engine;\n+\n+public class HATTestFormatter {\n+\n+    public static void appendClass(StringBuilder builder, String className) {\n+        builder.append(Colours.CYAN)\n+                .append(\"Class: \")\n+                .append(className)\n+                .append(Colours.RESET)\n+                .append(\"\\n\");;\n+    }\n+\n+    public static void testing(StringBuilder builder, String methodName) {\n+        builder.append(Colours.BLUE)\n+                .append(String.format(\"Testing: #%-30s\", methodName))\n+                .append(String.format(\"%-20s\", \"..................... \"))\n+                .append(Colours.RESET);\n+    }\n+\n+    public static void ok(StringBuilder builder) {\n+        builder.append(Colours.GREEN)\n+                .append(\"[ok]\")\n+                .append(Colours.RESET)\n+                .append(\"\\n\");;\n+    }\n+\n+    public static void fail(StringBuilder builder) {\n+        builder.append(Colours.RED)\n+                .append(\"[fail]\")\n+                .append(Colours.RESET)\n+                .append(\"\\n\");;\n+    }\n+\n+    public static void expectedToFail(StringBuilder builder, String reason) {\n+        builder.append(Colours.YELLOW)\n+                .append(\"[FAIL][EXPECTED]\")\n+                .append(Colours.RED)\n+                .append(\" Reason: \")\n+                .append(reason)\n+                .append(Colours.RESET)\n+                .append(\"\\n\");;\n+    }\n+\n+    public static void failWithReason(StringBuilder builder, String reason) {\n+        builder.append(Colours.RED)\n+                .append(\"[fail]\")\n+                .append(Colours.YELLOW)\n+                .append(\" Reason: \")\n+                .append(reason)\n+                .append(Colours.RESET)\n+                .append(\"\\n\");;\n+    }\n+\n+    public static void illegal(StringBuilder builder) {\n+        builder.append(Colours.YELLOW)\n+                .append(\"[illegal]\")\n+                .append(Colours.RESET)\n+                .append(\"\\n\");;\n+    }\n+\n+}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HATTestFormatter.java","additions":85,"deletions":0,"binary":false,"changes":85,"status":"added"},{"patch":"@@ -1,85 +0,0 @@\n-\/*\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.test.engine;\n-\n-import hat.buffer.Float2;\n-import hat.buffer.Float4;\n-\n-public class HatAsserts {\n-\n-    public static void assertEquals(int expected, int actual) {\n-        if (expected != actual) {\n-            throw new HatAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n-        }\n-    }\n-\n-    public static void assertEquals(long expected, long actual) {\n-        if (expected != actual) {\n-            throw new HatAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n-        }\n-    }\n-\n-    public static void assertEquals(float expected, float actual, float delta) {\n-        if (Math.abs(expected - actual) > delta) {\n-            throw new HatAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n-        }\n-    }\n-\n-    public static void assertEquals(double expected, double actual, double delta) {\n-        if (Math.abs(expected - actual) > delta) {\n-            throw new HatAssertionError(\"Expected: \" + expected + \" != actual: \" + actual);\n-        }\n-    }\n-\n-    public static void assertEquals(Float4 expected, Float4 actual, float delta) {\n-        float[] arrayExpected = expected.toArray();\n-        float[] arrayActual = actual.toArray();\n-        for (int i = 0; i < 4; i++) {\n-            var expectedValue = arrayExpected[i];\n-            var actualValue = arrayActual[i];\n-            if (Math.abs(expectedValue - actualValue) > delta) {\n-                throw new HatAssertionError(\"Expected: \" + expectedValue + \" != actual: \" + actualValue);\n-            }\n-        }\n-    }\n-\n-    public static void assertEquals(Float2 expected, Float2 actual, float delta) {\n-        float[] arrayExpected = expected.toArray();\n-        float[] arrayActual = actual.toArray();\n-        for (int i = 0; i < 2; i++) {\n-            var expectedValue = arrayExpected[i];\n-            var actualValue = arrayActual[i];\n-            if (Math.abs(expectedValue - actualValue) > delta) {\n-                throw new HatAssertionError(\"Expected: \" + expectedValue + \" != actual: \" + actualValue);\n-            }\n-        }\n-    }\n-\n-    public static void assertTrue(boolean isCorrect) {\n-        if (!isCorrect) {\n-            throw new HatAssertionError(\"Expected: \" + isCorrect);\n-        }\n-    }\n-}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HatAsserts.java","additions":0,"deletions":85,"binary":false,"changes":85,"status":"deleted"},{"patch":"@@ -1,174 +0,0 @@\n-\/*\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.test.engine;\n-\n-import hat.test.annotation.HatTest;\n-\n-import java.io.BufferedWriter;\n-import java.io.FileWriter;\n-import java.io.IOException;\n-import java.lang.annotation.Annotation;\n-import java.lang.reflect.InvocationTargetException;\n-import java.lang.reflect.Method;\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-public class HatTestEngine {\n-\n-    public static boolean DETAIL_ERROR_STACK_TRACE = false;\n-\n-    public static final String TEST_REPORT_FILE_NAME = \"test_report.txt\";\n-\n-    private static class Stats {\n-        int passed = 0;\n-        int failed = 0;\n-        public void incrementPassed() {\n-            passed++;\n-        }\n-        public void incrementFailed() {\n-            failed++;\n-        }\n-\n-        public int getPassed() {\n-            return passed;\n-        }\n-        public int getFailed() {\n-            return failed;\n-        }\n-\n-        @Override\n-        public String toString() {\n-            return String.format(\"passed: %d, failed: %d\", passed, failed);\n-        }\n-    }\n-\n-    private static void testMethod(StringBuilder builder, Method method, Stats stats, Object instance) {\n-        try {\n-            HatTestFormatter.testing(builder, method.getName());\n-            method.invoke(instance);\n-            HatTestFormatter.ok(builder);\n-            stats.incrementPassed();\n-        } catch (HatAssertionError e) {\n-                HatTestFormatter.fail(builder);\n-                stats.incrementFailed();\n-        } catch (IllegalAccessException | InvocationTargetException e) {\n-            if (e.getCause() instanceof HatAssertionError hatAssertionError) {\n-                HatTestFormatter.failWithReason(builder, hatAssertionError.getMessage());\n-            }  else {\n-                HatTestFormatter.fail(builder);\n-                if (DETAIL_ERROR_STACK_TRACE) {\n-                    e.printStackTrace();\n-                }\n-            }\n-            stats.incrementFailed();\n-        }\n-    }\n-\n-    private static void filterIfNeeded(String filterMethod, List<Method> methodsToTest) {\n-        \/\/ Filter the methodToTest if filterMethod is enabled\n-        List<Method> replaceMethods = new ArrayList<>();\n-        if (filterMethod != null) {\n-            for (Method declaredMethod : methodsToTest) {\n-                if (declaredMethod.getName().equals(filterMethod)) {\n-                    replaceMethods.add(declaredMethod);\n-                }\n-            }\n-            methodsToTest.clear();\n-            methodsToTest.addAll(replaceMethods);\n-        }\n-    }\n-\n-    public static void printStats(StringBuilder builder, Stats stats) {\n-        System.out.println();\n-        System.out.println(builder.toString());\n-        System.out.println(stats.toString());\n-        System.out.println();\n-    }\n-\n-    public static void dumpStats(StringBuilder builder, Stats stats) {\n-        try (BufferedWriter writer = new BufferedWriter(new FileWriter(TEST_REPORT_FILE_NAME, true))){\n-            writer.write(builder.toString());\n-            writer.write(stats.toString());\n-            writer.newLine();\n-            writer.newLine();\n-        } catch (IOException e) {\n-            throw new RuntimeException(e);\n-        }\n-    }\n-\n-    public static void testClassEngine(String classNameToTest) {\n-        String filterMethod = null;\n-        if (classNameToTest.contains(\"#\")) {\n-            String[] split = classNameToTest.split(\"#\");\n-            classNameToTest = split[0];\n-            filterMethod = split[1];\n-        }\n-\n-        try {\n-            Class<?> testClass = Class.forName(classNameToTest);\n-            \/\/ Obtain all method with the desired annotation\n-            List<Method> methodToTest = new ArrayList<>();\n-            for (Method declaredMethod : testClass.getDeclaredMethods()) {\n-                Annotation[] declaredAnnotations = declaredMethod.getDeclaredAnnotations();\n-                for (Annotation declaredAnnotation : declaredAnnotations) {\n-                    if (declaredAnnotation.annotationType().equals(HatTest.class)) {\n-                        methodToTest.add(declaredMethod);\n-                    }\n-                }\n-            }\n-\n-            if (methodToTest.isEmpty()) {\n-                throw new RuntimeException(\"No test methods found for class \" + classNameToTest);\n-            }\n-\n-            filterIfNeeded(filterMethod, methodToTest);\n-\n-            Object instance = testClass.getDeclaredConstructor().newInstance();\n-\n-            StringBuilder builder = new StringBuilder();\n-            HatTestFormatter.appendClass(builder, classNameToTest);\n-            Stats stats = new Stats();\n-\n-            for (Method method : methodToTest) {\n-                testMethod(builder, method, stats, instance);\n-            }\n-            printStats(builder, stats);\n-            dumpStats(builder, stats);\n-\n-        } catch (ClassNotFoundException | InvocationTargetException | InstantiationException | IllegalAccessException |\n-                 NoSuchMethodException e) {\n-            throw new RuntimeException(e);\n-        }\n-    }\n-\n-    static void main(String[] args) {\n-        System.out.println(Colours.BLUE + \"HAT Engine Testing Framework\" + Colours.RESET);\n-        \/\/ We get a set of classes from the arguments\n-        if (args.length < 1) {\n-            throw new RuntimeException(\"No test classes provided\");\n-        }\n-        testClassEngine(args[0]);\n-    }\n-}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HatTestEngine.java","additions":0,"deletions":174,"binary":false,"changes":174,"status":"deleted"},{"patch":"@@ -1,71 +0,0 @@\n-\/*\n- * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.test.engine;\n-\n-public class HatTestFormatter {\n-\n-    public static void appendClass(StringBuilder builder, String className) {\n-        builder.append(Colours.CYAN).append(\"Class: \" + className).append(Colours.RESET).append(\"\\n\");;\n-    }\n-\n-    public static void testing(StringBuilder builder, String methodName) {\n-        builder.append(Colours.BLUE)\n-                .append(String.format(\"Testing: #%-30s\", methodName))\n-                .append(String.format(\"%-20s\", \"..................... \"))\n-                .append(Colours.RESET);\n-    }\n-\n-    public static void ok(StringBuilder builder) {\n-        builder.append(Colours.GREEN)\n-                .append(\"[ok]\")\n-                .append(Colours.RESET)\n-                .append(\"\\n\");;\n-    }\n-\n-    public static void fail(StringBuilder builder) {\n-        builder.append(Colours.RED)\n-                .append(\"[fail]\")\n-                .append(Colours.RESET)\n-                .append(\"\\n\");;\n-    }\n-\n-    public static void failWithReason(StringBuilder builder, String reason) {\n-        builder.append(Colours.RED)\n-                .append(\"[fail]\")\n-                .append(Colours.YELLOW)\n-                .append(\" Reason: \")\n-                .append(reason)\n-                .append(Colours.RESET)\n-                .append(\"\\n\");;\n-    }\n-\n-    public static void illegal(StringBuilder builder) {\n-        builder.append(Colours.YELLOW)\n-                .append(\"[illegal]\")\n-                .append(Colours.RESET)\n-                .append(\"\\n\");;\n-    }\n-\n-}\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/engine\/HatTestFormatter.java","additions":0,"deletions":71,"binary":false,"changes":71,"status":"deleted"}]}
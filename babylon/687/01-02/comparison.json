{"files":[{"patch":"@@ -152,1 +152,1 @@\n-            J_L_OBJECT, \/\/ result type: TypeElement or null for void\n+            INT, \/\/ result type index\n@@ -163,1 +163,1 @@\n-            J_L_OBJECT, \/\/ result type: TypeElement or null for void\n+            INT, \/\/ result type index\n@@ -175,1 +175,1 @@\n-            J_L_OBJECT, \/\/ result type: TypeElement or null for void\n+            INT, \/\/ result type index\n@@ -179,0 +179,2 @@\n+    static final FunctionType TYPE_BUILDER_F_TYPE = functionType(JavaType.type(TypeElement.class), INT);\n+\n@@ -250,1 +252,1 @@\n-                \/\/                TypeElement resultType,\n+                \/\/                int resultTypeIndex,\n@@ -258,1 +260,1 @@\n-                \/\/                                resultType,\n+                \/\/                                $type(resultTypeIndex),\n@@ -272,1 +274,1 @@\n-                                    args.get(4),\n+                                    b.op(funcCall(TYPE_BUILDER_F_NAME, TYPE_BUILDER_F_TYPE, args.get(4))),\n@@ -281,1 +283,1 @@\n-                \/\/                       TypeElement resultType,\n+                \/\/                       int resultTypeIndex,\n@@ -312,1 +314,1 @@\n-                \/\/                       TypeElement resultType,\n+                \/\/                       int resultTypeIndex,\n@@ -337,2 +339,2 @@\n-                \/\/  static private TypeElement type(int typeIndex) {\n-                \/\/      return JavaOp.JAVA_DIALECT_FACTORY.typeElementFactory().constructType(exType(typeIndex));\n+                \/\/  static private TypeElement $type(int typeIndex) {\n+                \/\/      return JavaOp.JAVA_DIALECT_FACTORY.typeElementFactory().constructType($exType(typeIndex));\n@@ -352,1 +354,1 @@\n-        static private ExternalizedTypeElement exType(int typeIndex) {\n+        static private ExternalizedTypeElement $exType(int typeIndex) {\n@@ -494,1 +496,1 @@\n-        args.add(buildType(resultType));\n+        args.add(builder.op(constant(INT, registerType(resultType.externalize()))));\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/internal\/OpBuilder.java","additions":14,"deletions":12,"binary":false,"changes":26,"status":"modified"}]}
{"files":[{"patch":"@@ -29,1 +29,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/backends\/ffi\/cuda\/src\/main\/java\/hat\/backend\/ffi\/CudaHATKernelBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/backends\/ffi\/opencl\/src\/main\/java\/hat\/backend\/ffi\/OpenCLHATKernelBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/backends\/ffi\/shared\/src\/main\/java\/hat\/backend\/ffi\/C99FFIBackend.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/backends\/jextracted\/opencl\/src\/main\/java\/hat\/backend\/jextracted\/OpenCLJExtractedHATKernelBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/backends\/jextracted\/shared\/src\/main\/java\/hat\/backend\/jextracted\/C99JExtractedBackend.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import hat.optools.OpTk;\n@@ -34,0 +33,1 @@\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n@@ -36,1 +36,1 @@\n-public interface BabylonKernelOpBuilder<T extends HATCodeBuilder<?>> extends BabylonCoreOpBuilder<T,ScopedCodeBuilderContext> {\n+public interface BabylonKernelOpBuilder<T extends HATCodeBuilder<?>> extends BabylonCoreOpBuilder<T, ScopedCodeBuilderContext> {\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/BabylonKernelOpBuilder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n@@ -54,1 +55,1 @@\n-        implements BabylonCoreOpBuilder<T,ScopedCodeBuilderContext> {\n+        implements BabylonCoreOpBuilder<T, ScopedCodeBuilderContext> {\n@@ -56,9 +57,0 @@\n-  \/*  public final  T type(ScopedCodeBuilderContext buildContext, JavaType javaType) {\n-        if (OpTk.isAssignable(buildContext.lookup, javaType, MappableIface.class)\n-                        && javaType instanceof ClassType classType) {\n-            suffix_t(classType).asterisk();\n-        } else {\n-            typeName(javaType.toBasicType().toString());\n-        }\n-        return self();\n-    } *\/\n@@ -85,0 +77,3 @@\n+\n+        \/\/TODO see if VarLikeOp marker interface fixes this\n+\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATCodeBuilderContext.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATComputeBuilder.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATKernelBuilder.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import optkl.VarLikeOp;\n@@ -32,1 +33,3 @@\n-public abstract sealed class  HATF16Op extends HATOp implements HATVarOp permits HATF16BinaryOp, HATF16ConvOp, HATF16ToFloatConvOp, HATF16VarLoadOp, HATF16VarOp {\n+\n+public abstract sealed class  HATF16Op extends HATOp implements VarLikeOp permits HATF16BinaryOp, HATF16ConvOp, HATF16ToFloatConvOp, HATF16VarLoadOp, HATF16VarOp {\n+\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATF16Op.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import optkl.VarLikeOp;\n@@ -34,1 +35,3 @@\n-public abstract sealed class HATMemoryVarOp extends HATOp implements HATVarOp permits HATLocalVarOp, HATPrivateVarOp, HATPrivateInitVarOp  {\n+\n+public abstract sealed class HATMemoryVarOp extends HATOp implements VarLikeOp permits HATLocalVarOp, HATPrivateVarOp, HATPrivateInitVarOp  {\n+\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATMemoryVarOp.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import optkl.VarLikeOp;\n@@ -33,1 +34,0 @@\n-public abstract sealed class HATVectorOp extends HATOp implements HATVarOp permits HATVectorBinaryOp, HATVectorLoadOp, HATVectorMakeOfOp, HATVectorOfOp, HATVectorSelectLoadOp, HATVectorSelectStoreOp, HATVectorStoreView, HATVectorVarLoadOp, HATVectorVarOp {\n@@ -35,0 +35,1 @@\n+public abstract sealed class HATVectorOp extends HATOp implements VarLikeOp permits HATVectorBinaryOp, HATVectorLoadOp, HATVectorMakeOfOp, HATVectorOfOp, HATVectorSelectLoadOp, HATVectorSelectStoreOp, HATVectorStoreView, HATVectorVarLoadOp, HATVectorVarOp {\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATVectorOp.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.dialect;\n+package optkl;\n@@ -27,1 +27,1 @@\n-public interface HATVarOp {\n+public interface VarLikeOp {\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/VarLikeOp.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATVarOp.java","status":"renamed"},{"patch":"@@ -25,1 +25,4 @@\n-package hat.codebuilders;\n+package optkl.codebuilders;\n+\n+\n+import optkl.VarLikeOp;\n@@ -27,3 +30,0 @@\n-import hat.dialect.HATF16VarOp;\n-import hat.dialect.HATMemoryVarOp;\n-import hat.dialect.HATVectorVarOp;\n@@ -36,1 +36,0 @@\n-import optkl.codebuilders.CodeBuilderContext;\n@@ -46,1 +45,1 @@\n-        final Scope<?> parent;\n+        public final Scope<?> parent;\n@@ -59,7 +58,0 @@\n-            if (value instanceof Op.Result result && result.op() instanceof HATMemoryVarOp hatMemoryVarOp) {\n-                return hatMemoryVarOp;\n-            }\n-\n-            if (value instanceof Op.Result result && result.op() instanceof HATVectorVarOp hatVectorVarOp) {\n-                return hatVectorVarOp;\n-            }\n@@ -67,2 +59,2 @@\n-            if (value instanceof Op.Result result && result.op() instanceof HATF16VarOp hatf16VarOp) {\n-                return hatf16VarOp;\n+            if (value instanceof Op.Result result && result.op() instanceof VarLikeOp varOp) {\n+                return (Op) varOp;\n@@ -70,1 +62,0 @@\n-\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/codebuilders\/ScopedCodeBuilderContext.java","additions":7,"deletions":16,"binary":false,"changes":23,"previous_filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/ScopedCodeBuilderContext.java","status":"renamed"},{"patch":"@@ -29,1 +29,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/text\/JavaHATCodeBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-import hat.codebuilders.ScopedCodeBuilderContext;\n+import optkl.codebuilders.ScopedCodeBuilderContext;\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/text\/TestJavaHATCodeBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
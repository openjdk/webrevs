{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,2 +57,2 @@\n-        public Set<Value> dependsOn() {\n-            return Set.of();\n+        public SequencedSet<Value> dependsOn() {\n+            return Collections.emptyNavigableSet();\n@@ -285,1 +285,2 @@\n-     * @return the set of predecessors, as an unmodifiable set.\n+     * @return the set of predecessors, as an unmodifiable sequenced set. The encouncter order is unspecified\n+     * and determined by the order in which operations are built.\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/Block.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,0 @@\n-import java.lang.reflect.InvocationTargetException;\n@@ -252,2 +251,2 @@\n-        public Set<Value> dependsOn() {\n-            Set<Value> depends = new LinkedHashSet<>(op.operands());\n+        public SequencedSet<Value> dependsOn() {\n+            SequencedSet<Value> depends = new LinkedHashSet<>(op.operands());\n@@ -258,1 +257,1 @@\n-            return Collections.unmodifiableSet(depends);\n+            return Collections.unmodifiableSequencedSet(depends);\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/Op.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2024, 2026, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n-import java.util.Set;\n+import java.util.SequencedSet;\n@@ -43,1 +43,1 @@\n-    final Set<Op.Result> uses;\n+    final SequencedSet<Op.Result> uses;\n@@ -106,1 +106,1 @@\n-     * A block parameter does not depend on any values.\n+     * A block parameter does not depend on any values, and therefore this method returns an empty sequenced set.\n@@ -108,1 +108,2 @@\n-     * @return the values this value directly depends on, as an unmodifiable set.\n+     * @return the values this value directly depends on, as an unmodifiable sequenced set. For an operation result the\n+     * operation's operands will occur first and then block arguments of each successor.\n@@ -110,2 +111,1 @@\n-    \/\/ @@@ Consider an additional method that returns a lazy stream of all dependent values, in order.\n-    public abstract Set<Value> dependsOn();\n+    public abstract SequencedSet<Value> dependsOn();\n@@ -117,1 +117,2 @@\n-     * @return the uses of this value, as an unmodifiable set.\n+     * @return the uses of this value, as an unmodifiable sequenced set. The encouncter order is unspecified\n+     * and determined by the order in which operations are built.\n@@ -120,2 +121,1 @@\n-    \/\/ @@@ Consider an additional method that returns a lazy stream of all uses, in order.\n-    public Set<Op.Result> uses() {\n+    public SequencedSet<Op.Result> uses() {\n@@ -126,1 +126,1 @@\n-        return Collections.unmodifiableSet(uses);\n+        return Collections.unmodifiableSequencedSet(uses);\n@@ -201,3 +201,1 @@\n-            \/\/ @@@ order should be defined by CFG and dominator relations\n-            List<Block> bs = r1.blocks();\n-            return Integer.compare(bs.indexOf(b1), bs.indexOf(b2));\n+            return Integer.compare(b1.index(), b2.index());\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/Value.java","additions":12,"deletions":14,"binary":false,"changes":26,"status":"modified"}]}
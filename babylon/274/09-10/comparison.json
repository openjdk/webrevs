{"files":[{"patch":"@@ -0,0 +1,21 @@\n+#!\/bin\/zsh\n+\n+babylon_dir=$PWD\n+target_file=\"$babylon_dir\/b.csv\"\n+echo \"\" > $target_file\n+echo \"writing data to $target_file ...\"\n+for fp in `find hat\/build\/hat-example*classes -name \"*.class\"`; do \\\n+  fdir=$(dirname $fp)\n+  cp test\/jdk\/java\/lang\/reflect\/code\/writer\/OpFieldToMethodBuilder.java $fdir\n+  cd $fdir\n+  pkgName=$(dirname $(sed 's#^.*classes\/\\(.*\\)#\\1#g'<<< $fp) | sed 's#\/#.#g')\n+  echo \"package $pkgName;\" > tmp && cat OpFieldToMethodBuilder.java >> tmp && mv tmp OpFieldToMethodBuilder.java\n+  # we want example_name\/..\/class_file\n+  example_name=$(sed 's#^.*classes\/\\(.*\\)#\\1#g'<<< $fp | sed 's#\/#.#g')\n+  java --enable-preview -ea OpFieldToMethodBuilder.java $(basename $fp) | awk \"{\\$1=\\\"$example_name\\\"; print}\" OFS=, >> $target_file\n+  rm OpFieldToMethodBuilder.java\n+  cd $babylon_dir\n+; done\n+awk '!seen[$0]++' $target_file > tmp && mv tmp $target_file\n+awk -F ',' '$2 < $3' $target_file > tmp && mv tmp $target_file\n+echo \"classfile, original_size, new_size\" > tmp && cat $target_file >> tmp && mv tmp $target_file\n","filename":"script2.sh","additions":21,"deletions":0,"binary":false,"changes":21,"status":"added"}]}
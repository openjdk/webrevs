{"files":[{"patch":"@@ -295,2 +295,1 @@\n-                .braceNlIndented(body::accept)\n-                .nl();\n+                .braceNlIndented(body::accept);\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATCodeBuilder.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -94,1 +94,0 @@\n-                \/\/ TODO: we should avoid direct implementations here\n@@ -100,1 +99,0 @@\n-                \/\/ TODO: we should avoid direct implementations here\n@@ -188,0 +186,1 @@\n+                    semicolon();\n@@ -418,1 +417,1 @@\n-                recurse(buildContext, OpTk.asResultOrThrow(hatf16BinaryOp.operands().get(0)).op());\n+                recurse(buildContext, OpTk.asResultOrThrow(hatf16BinaryOp.operands().getFirst()).op());\n@@ -423,1 +422,1 @@\n-                } else if (hatf16BinaryOp.operands().get(0) instanceof Op.Result r && !(r.op().resultType() instanceof PrimitiveType)) {\n+                } else if (!OpTk.isPrimitiveResult(hatf16BinaryOp.operands().getFirst())) {\n@@ -441,1 +440,1 @@\n-                } else if (hatf16BinaryOp.operands().get(1) instanceof Op.Result r && !(r.op().resultType() instanceof PrimitiveType)) {\n+                } else if (!OpTk.isPrimitiveResult(hatf16BinaryOp.operands().get(1))) {\n@@ -467,1 +466,1 @@\n-                } else if (hatF16BinaryOp.operands().getFirst() instanceof Op.Result r2 && !(r2.op().resultType() instanceof PrimitiveType)) {\n+                } else if (!OpTk.isPrimitiveResult(hatF16BinaryOp.operands().getFirst())) {\n@@ -476,1 +475,1 @@\n-                } else if (hatF16BinaryOp.operands().get(1) instanceof Op.Result r4 && !(r4.op().resultType() instanceof PrimitiveType)) {\n+                } else if (!OpTk.isPrimitiveResult(hatF16BinaryOp.operands().get(1))) {\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATKernelBuilder.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -527,1 +527,1 @@\n-        return separated(iterable, _ -> semicolonNl(), consumer).semicolon();\n+        return separated(iterable, _ -> semicolonNl(), consumer);\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/CodeBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -553,0 +553,12 @@\n+    public static PrimitiveType asPrimitiveResultOrNull(Value v){\n+        if (v instanceof Op.Result r){\n+            if (r.op().resultType() instanceof PrimitiveType primitiveType){\n+                return primitiveType;\n+            }\n+        }\n+        return null;\n+    }\n+    public static boolean isPrimitiveResult(Value v){\n+        return (asPrimitiveResultOrNull(v)!=null);\n+    }\n+\n","filename":"hat\/core\/src\/main\/java\/hat\/optools\/OpTk.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_X\" project-jdk-name=\"26-ea (2)\" project-jdk-type=\"JavaSDK\">\n+  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_X\" project-jdk-name=\"Babylon-26-09-12-25\" project-jdk-type=\"JavaSDK\">\n","filename":"hat\/intellij\/.idea\/misc.xml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -13,0 +13,2 @@\n+    <orderEntry type=\"module\" module-name=\"backend_ffi_shared\" \/>\n+    <orderEntry type=\"module\" module-name=\"backend_ffi_opencl\" \/>\n@@ -14,1 +16,1 @@\n-<\/module>\n+<\/module>\n\\ No newline at end of file\n","filename":"hat\/intellij\/tests.iml","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}
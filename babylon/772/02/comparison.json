{"files":[{"patch":"@@ -4991,1 +4991,1 @@\n-                return narrowingOrder.get(t) <= narrowingOrder.get(s);\n+                return narrowingOrder.get(t) <= narrowingOrder.get(s) && !s.equals(t); \/\/ need to be strict, to not consider int -> int as narrowing\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/dialect\/java\/JavaOp.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -172,2 +172,2 @@\n-    static boolean identityPrimitive(short s) {\n-        return s instanceof short _;\n+    static boolean identityPrimitive(short s, int i, float f) {\n+        return s instanceof short _ && i instanceof int _ && f instanceof float _;\n@@ -183,0 +183,2 @@\n+        \/\/ because it's an identity conversion, we expect no check performed\n+        Assertions.assertTrue(lf.elements().noneMatch(e -> e instanceof JavaOp.InvokeOp));\n@@ -184,1 +186,2 @@\n-        Assertions.assertEquals(true, Interpreter.invoke(MethodHandles.lookup(), lf, Short.MAX_VALUE));\n+        Assertions.assertEquals(true, Interpreter.invoke(MethodHandles.lookup(), lf,\n+                Short.MAX_VALUE, Integer.MAX_VALUE, Float.MAX_VALUE));\n","filename":"test\/jdk\/java\/lang\/reflect\/code\/TestPrimitiveTypePatterns.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}
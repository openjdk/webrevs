{"files":[{"patch":"@@ -1531,1 +1531,1 @@\n-                Body.Builder caseBody = visitCaseBody(c, caseBodyType);\n+                Body.Builder caseBody = visitCaseBody(tree, c, caseBodyType);\n@@ -1547,2 +1547,2 @@\n-                pushBody(tree, FunctionType.VOID);\n-                append(CoreOp._yield());\n+                pushBody(tree, FunctionType.functionType(JavaType.BOOLEAN));\n+                append(CoreOp._yield(append(CoreOp.constant(JavaType.BOOLEAN, true))));\n@@ -1654,1 +1654,1 @@\n-                pushBody(headCl, FunctionType.VOID);\n+                pushBody(headCl, FunctionType.functionType(JavaType.BOOLEAN));\n@@ -1656,1 +1656,1 @@\n-                append(CoreOp._yield());\n+                append(CoreOp._yield(append(CoreOp.constant(JavaType.BOOLEAN, true))));\n@@ -1668,1 +1668,1 @@\n-        private Body.Builder visitCaseBody(JCTree.JCCase c, FunctionType caseBodyType) {\n+        private Body.Builder visitCaseBody(JCTree tree, JCTree.JCCase c, FunctionType caseBodyType) {\n@@ -1671,1 +1671,1 @@\n-            Type yieldType = typeElementToType(caseBodyType.returnType());\n+            Type yieldType = tree.type != null ? adaptBottom(tree.type) : null;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/ReflectMethods.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -311,2 +311,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -345,2 +346,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -380,2 +382,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -416,2 +419,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -450,2 +454,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -485,2 +490,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n","filename":"test\/langtools\/tools\/javac\/reflect\/BoxingConversionTest.java","additions":18,"deletions":12,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -231,2 +231,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -266,2 +267,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -300,2 +302,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -334,2 +337,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -369,2 +373,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -403,2 +408,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n","filename":"test\/langtools\/tools\/javac\/reflect\/ImplicitConversionTest.java","additions":18,"deletions":12,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -176,2 +176,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -208,2 +209,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -240,2 +242,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -272,2 +275,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -305,2 +309,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -337,2 +342,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -369,2 +375,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -401,2 +408,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n","filename":"test\/langtools\/tools\/javac\/reflect\/NullTest.java","additions":24,"deletions":16,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -72,2 +72,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -120,2 +121,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %14 : boolean = constant @\"true\";\n+                        yield %14;\n@@ -172,2 +174,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -220,2 +223,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -264,2 +268,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %11 : boolean = constant @\"true\";\n+                        yield %11;\n@@ -306,2 +311,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %10 : boolean = constant @\"true\";\n+                        yield %10;\n@@ -371,2 +377,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %10 : boolean = constant @\"true\";\n+                        yield %10;\n@@ -478,2 +485,3 @@\n-                    ^defaultCaseLabel()void -> {\n-                        yield;\n+                    ^defaultCaseLabel()boolean -> {\n+                        %37 : boolean = constant @\"true\";\n+                        yield %37;\n","filename":"test\/langtools\/tools\/javac\/reflect\/SwitchExpressionTest.java","additions":24,"deletions":16,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -44,2 +44,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -96,2 +97,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -156,2 +158,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -215,2 +218,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %19 : boolean = constant @\"true\";\n+                        yield %19;\n@@ -258,2 +262,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %15 : boolean = constant @\"true\";\n+                        yield %15;\n@@ -291,2 +296,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %9 : boolean = constant @\"true\";\n+                        yield %9;\n@@ -341,2 +347,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %12 : boolean = constant @\"true\";\n+                        yield %12;\n@@ -429,2 +436,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %29 : boolean = constant @\"true\";\n+                        yield %29;\n@@ -610,2 +618,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %84 : boolean = constant @\"true\";\n+                        yield %84;\n@@ -683,2 +692,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %25 : boolean = constant @\"true\";\n+                        yield %25;\n@@ -734,2 +744,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %19 : boolean = constant @\"true\";\n+                        yield %19;\n@@ -779,2 +790,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %13 : boolean = constant @\"true\";\n+                        yield %13;\n@@ -884,2 +896,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %19 : boolean = constant @\"true\";\n+                        yield %19;\n@@ -925,2 +938,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %13 : boolean = constant @\"true\";\n+                        yield %13;\n","filename":"test\/langtools\/tools\/javac\/reflect\/SwitchExpressionTest2.java","additions":42,"deletions":28,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -57,2 +57,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %26 : boolean = constant @\"true\";\n+                          yield %26;\n@@ -126,2 +127,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %26 : boolean = constant @\"true\";\n+                          yield %26;\n@@ -203,2 +205,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %26 : boolean = constant @\"true\";\n+                          yield %26;\n@@ -280,2 +283,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %24 : boolean = constant @\"true\";\n+                        yield %24;\n@@ -337,2 +341,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -381,2 +386,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -443,2 +449,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -786,2 +793,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -874,2 +882,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -939,2 +948,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -1057,2 +1067,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -1131,2 +1142,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -1255,2 +1267,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -1329,2 +1342,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -1409,2 +1423,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -1485,2 +1500,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -1607,2 +1623,3 @@\n-                      ()void -> {\n-                          yield;\n+                      ()boolean -> {\n+                          %17 : boolean = constant @\"true\";\n+                          yield %17;\n@@ -1767,2 +1784,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -1826,2 +1844,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -1926,2 +1945,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n@@ -1982,2 +2002,3 @@\n-                    ()void -> {\n-                        yield;\n+                    ()boolean -> {\n+                        %17 : boolean = constant @\"true\";\n+                        yield %17;\n","filename":"test\/langtools\/tools\/javac\/reflect\/SwitchStatementTest.java","additions":63,"deletions":42,"binary":false,"changes":105,"status":"modified"}]}
{"files":[{"patch":"@@ -30,7 +30,1 @@\n-import java.lang.reflect.code.type.ArrayType;\n-import java.lang.reflect.code.type.ClassType;\n-import java.lang.reflect.code.type.MethodRef;\n-import java.lang.reflect.code.type.RecordTypeRef;\n-import java.lang.reflect.code.type.FunctionType;\n-import java.lang.reflect.code.type.JavaType;\n-import java.lang.reflect.code.type.TupleType;\n+import java.lang.reflect.code.type.*;\n@@ -38,1 +32,0 @@\n-import java.lang.reflect.code.type.VarType;\n@@ -829,1 +822,1 @@\n-            if (!haveNullCase()) {\n+            if (!(selectorExpression.type() instanceof PrimitiveType) && !haveNullCase()) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/code\/op\/ExtendedOp.java","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -96,0 +96,18 @@\n+    @CodeReflection\n+    private static String f5(int i) {\n+        return switch (i) {\n+            case 1 -> \"1\";\n+            case 2 -> \"2\";\n+            default -> \"default\";\n+        };\n+    }\n+\n+    @Test\n+    public void test5() {\n+        CoreOp.FuncOp lf = lower(\"f5\");\n+\n+        Assert.assertEquals(Interpreter.invoke(lf, 1), f5(1));\n+        Assert.assertEquals(Interpreter.invoke(lf, 2), f5(2));\n+        Assert.assertEquals(Interpreter.invoke(lf, 99), f5(99));\n+    }\n+\n","filename":"test\/jdk\/java\/lang\/reflect\/code\/TestSwitchExpressionOp.java","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"}]}
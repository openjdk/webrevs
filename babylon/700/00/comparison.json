{"files":[{"patch":"@@ -142,3 +142,3 @@\n-        return local != NDRange.EMPTY_LOCAL_1D\n-                && local != NDRange.EMPTY_LOCAL_2D\n-                && local != NDRange.EMPTY_LOCAL_3D;\n+        return local != NDRange.Local1D.EMPTY\n+                && local != NDRange.Local2D.EMPTY\n+                && local != NDRange.Local3D.EMPTY;\n","filename":"hat\/core\/src\/main\/java\/hat\/KernelContext.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -44,3 +44,3 @@\n-        return (this instanceof NDRange.NDRange1D r1 && r1.local() != NDRange.EMPTY_LOCAL_1D)||\n-                (this instanceof NDRange.NDRange2D r2 && r2.local() != NDRange.EMPTY_LOCAL_2D)||\n-                (this instanceof NDRange.NDRange3D r3 && r3.local() != NDRange.EMPTY_LOCAL_3D);\n+        return (this instanceof NDRange.NDRange1D r1 && r1.local() != Local1D.EMPTY)||\n+                (this instanceof NDRange.NDRange2D r2 && r2.local() != Local2D.EMPTY)||\n+                (this instanceof NDRange.NDRange3D r3 && r3.local() != Local3D.EMPTY);\n@@ -92,0 +92,1 @@\n+\n@@ -100,1 +101,0 @@\n-\n@@ -114,0 +114,1 @@\n+        Local1D EMPTY = Local1D.of(0);\n@@ -120,0 +121,2 @@\n+        Local2D EMPTY = Local2D.of(0, 0);\n+\n@@ -127,0 +130,1 @@\n+        Local3D EMPTY = Local3D.of(0, 0, 0);\n@@ -134,42 +138,1 @@\n-    record NDRange1D(Global1D global, Local1D local) implements Range<Global1D,Local1D>, _1D {\n-        public static NDRange1D of(int gsx, int lsx){\n-            return new NDRange1D(Global1D.of(gsx), Local1D.of(lsx));\n-        }\n-        static NDRange1D of(int gsx){\n-            return new NDRange1D(Global1D.of(gsx), EMPTY_LOCAL_1D);\n-        }\n-    }\n-\n-    record NDRange2D(Global2D global, Local2D local) implements Range<Global2D,Local2D>, _2D {\n-        static NDRange2D of(int gsx, int gsy, int lsx, int lsy ){\n-            return new NDRange2D(Global2D.of(gsx,gsy), Local2D.of(lsx,lsy));\n-        }\n-        static NDRange2D of(int gsx, int gsy){\n-            return NDRange.of(Global2D.of(gsx,gsy), NDRange.EMPTY_LOCAL_2D);\n-        }\n-    }\n-\n-    record NDRange3D(Global3D global, Local3D local) implements Range<Global3D,Local3D>, _3D {\n-        static NDRange3D of(int gsx, int gsy, int gsz, int lsx, int lsy, int lsz ){\n-            return new NDRange3D(Global3D.of(gsx,gsy,gsz), Local3D.of(lsx,lsy,lsz));\n-        }\n-        static NDRange3D of(int gsx, int gsy, int gsz){\n-            return NDRange.of(Global3D.of(gsx,gsy,gsz), NDRange.EMPTY_LOCAL_3D);\n-        }\n-    }\n-\n-    private static NDRange1D of(int x) {\n-        return new NDRange1D(Global1D.of(x), NDRange.EMPTY_LOCAL_1D);\n-    }\n-\n-    private static NDRange1D of(Global1D global) {\n-        return new NDRange1D(global, NDRange.EMPTY_LOCAL_1D);\n-    }\n-\n-    private static NDRange1D of(Global1D global, Local1D local) {\n-        return new NDRange1D(global, local);\n-    }\n-\n-\n-    private static NDRange2D of(Global2D global) {\n-        return new NDRange2D(global, NDRange.EMPTY_LOCAL_2D);\n+    record  NDRange1D(Global1D global, Local1D local) implements Range<Global1D,Local1D>, _1D {\n@@ -177,3 +140,2 @@\n-\n-    private static NDRange2D of(Global2D global, Local2D local) {\n-        return new NDRange2D(global, local);\n+    static NDRange<Global1D,Local1D> of1D(int gsx,  int lsx) {\n+        return  new NDRange1D(Global1D.of(gsx), Local1D.of(lsx));\n@@ -181,4 +143,2 @@\n-\n-\n-    private static NDRange3D of(Global3D global) {\n-        return new NDRange3D(global, NDRange.EMPTY_LOCAL_3D);\n+    static NDRange<Global1D,Local1D> of1D(int gsx) {\n+        return new NDRange1D(Global1D.of(gsx), Local1D.EMPTY);\n@@ -186,3 +146,1 @@\n-\n-    private static NDRange3D of(Global3D global, Local3D local) {\n-        return new NDRange3D(global, local);\n+    record NDRange2D(Global2D global, Local2D local) implements Range<Global2D,Local2D>, _2D {\n@@ -191,6 +149,2 @@\n-     Local1D EMPTY_LOCAL_1D = Local1D.of(0);\n-    Local2D EMPTY_LOCAL_2D = Local2D.of(0, 0);\n-    Local3D EMPTY_LOCAL_3D = Local3D.of(0, 0, 0);\n-\n-    static NDRange1D of1D(int gsx,  int lsx) {\n-        return NDRange1D.of(gsx,lsx);\n+    static NDRange<Global2D,Local2D> of2D(int gsx, int gsy, int lsx, int lsy) {\n+        return new NDRange2D(Global2D.of(gsx,gsy), Local2D.of(lsx,lsy));\n@@ -198,2 +152,2 @@\n-    static NDRange1D of1D(int gsx) {\n-        return NDRange1D.of(gsx);\n+    static NDRange<Global2D,Local2D> of2D(int gsx,int gsy) {\n+        return new NDRange2D(Global2D.of(gsx,gsy), Local2D.EMPTY);\n@@ -202,5 +156,1 @@\n-    static NDRange2D of2D(int gsx, int gsy, int lsx, int lsy) {\n-        return NDRange2D.of(gsx,gsy,lsx,lsy);\n-    }\n-    static NDRange2D of2D(int gsx,int gsy) {\n-        return NDRange2D.of(gsx,gsy);\n+    record NDRange3D(Global3D global, Local3D local) implements Range<Global3D,Local3D>, _3D {\n@@ -209,2 +159,2 @@\n-    static NDRange3D of3D(int gsx, int gsy, int gsz, int lsx, int lsy, int lsz) {\n-        return NDRange3D.of(gsx,gsy,gsz, lsx,lsy,lsz);\n+    static NDRange<Global3D,Local3D> of3D(int gsx, int gsy, int gsz, int lsx, int lsy, int lsz) {\n+        return new NDRange3D(Global3D.of(gsx,gsy,gsz), Local3D.of(lsx,lsy,lsz));\n@@ -212,2 +162,2 @@\n-    static NDRange3D of3D(int gsx,int gsy, int gsz) {\n-        return NDRange3D.of(gsx,gsy, gsz);\n+    static NDRange<Global3D,Local3D> of3D(int gsx,int gsy, int gsz) {\n+        return new NDRange3D(Global3D.of(gsx,gsy,gsz), Local3D.EMPTY);\n","filename":"hat\/core\/src\/main\/java\/hat\/NDRange.java","additions":23,"deletions":73,"binary":false,"changes":96,"status":"modified"}]}
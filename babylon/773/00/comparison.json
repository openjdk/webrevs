{"files":[{"patch":"@@ -536,0 +536,2 @@\n+\n+        identifier(hatPtrName(hatPtrOp));\n@@ -543,1 +545,0 @@\n-        identifier(hatPtrName(hatPtrOp));\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATKernelBuilder.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,24 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/BinaryOpEnum.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -43,0 +43,19 @@\n+    public static List<String> getFieldsOfBuffer(Class<?> clazz) {\n+        List<String> retValue = List.of();\n+        if (Modifier.isPublic(clazz.getModifiers())) {\n+            try {\n+                if (clazz.getField(\"schema\").get(null\/* we expect static *\/) instanceof Schema<?> schema) {\n+                    retValue = schema.rootIfaceType.fields\n+                            .stream()\n+                            .map(fieldNode -> fieldNode.name)\n+                            .toList();\n+                    retValue = retValue.isEmpty()\n+                            ?retValue\n+                            :retValue.subList(0, retValue.size() - 1); \/\/ is this intended to drop the last one?\n+                }\n+            } catch (IllegalAccessException | NoSuchFieldException e) {\n+                throw new RuntimeException(\"No schema field \",e);\n+            }\n+        }\n+        return retValue;\n+    }\n@@ -47,2 +66,1 @@\n-        List<String> fields = getFieldsOfBuffer(bufferClass);\n-        this.strides = (fields == null) ? List.of() : fields.subList(0, fields.size() - 1);\n+        this.strides = getFieldsOfBuffer(bufferClass);\n@@ -63,5 +81,0 @@\n-    public Class<?> bufferClass() {\n-        return bufferClass;\n-    }\n-\n-\n@@ -77,15 +90,0 @@\n-    public static List<String> getFieldsOfBuffer(Class<?> clazz) {\n-        try {\n-            if (!Modifier.isPublic(clazz.getModifiers())) return null;\n-            Object obj = clazz.getField(\"schema\").get(null);\n-            if (obj instanceof DeviceSchema<?> deviceSchema) {\n-                return null;\n-            } else if (obj instanceof Schema<?> schema) {\n-                return schema.rootIfaceType.fields.stream().map(fieldNode -> fieldNode.name).toList();\n-            }\n-            return null;\n-        } catch (IllegalAccessException | NoSuchFieldException e) {\n-            throw new RuntimeException(e);\n-        }\n-        \/\/ return Schema.of(clazz).rootIfaceType.fields;\n-    }\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATPtrOp.java","additions":20,"deletions":22,"binary":false,"changes":42,"status":"modified"}]}
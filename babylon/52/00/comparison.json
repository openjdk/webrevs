{"files":[{"patch":"@@ -215,1 +215,2 @@\n-                               implKind == H_INVOKESPECIAL;\n+                               implKind == H_INVOKESPECIAL ||\n+                               implInfo.getDeclaringClass().isHidden();\n@@ -626,1 +627,6 @@\n-            for (int i = 0; i < argNames.length; i++) {\n+            int argCount = argNames.length;\n+            if (quotableOpField != null) {\n+                \/\/ @@@ quotable doubles the parameters so here we must cut them\n+                argCount \/= 2;\n+            }\n+            for (int i = 0; i < argCount; i++) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InnerClassLambdaMetafactory.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -112,3 +112,1 @@\n-            hcl = l.in(l.defineClass(classBytes));\n-\/\/ @@@ lambdas do not work in hidden classes\n-\/\/            hcl = l.defineHiddenClass(classBytes, true);\n+            hcl = l.defineHiddenClass(classBytes, true);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/code\/bytecode\/BytecodeGenerator.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n-         Function<Object, String> f = Object::toString;\n+         Function<Object, String> f = o -> o.toString();\n","filename":"test\/jdk\/java\/lang\/invoke\/defineHiddenClass\/src\/Lambda.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
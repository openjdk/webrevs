{"files":[{"patch":"@@ -341,16 +341,2 @@\n-    \/**\n-     * An option describing how to color the output.\n-     *\/\n-    public enum ColoringOption implements Option {\n-        \/** Performs no coloring. *\/\n-        NONE((_, text) -> text),\n-\n-        \/** Uses ANSI codes to color the output. *\/\n-        ANSI((itemType, text) -> \"\\033[3\" +\n-                (itemType == Op.class ? '4' : \/\/ blue\n-                itemType == Block.class ? '5': \/\/ purple\n-                itemType == TypeElement.class ? '2': '1') \/\/ green : red\n-                + \"m\" + text + \"\\033[0m\"),\n-\n-        \/** Uses ANSI high intensity codes to color the output. *\/\n-        ANSI_HI((itemType, text) -> \"\\033[9\" +\n+    static BiFunction<Class<? extends CodeItem>, String, String> getDyer() {\n+        return Boolean.getBoolean(\"jdk.incubator.code.extern.OpWriter.COLOR\") ? (itemType, text) -> \"\\033[3\" +\n@@ -360,18 +346,1 @@\n-                + \"m\" + text + \"\\033[0m\"),\n-\n-        \/** Uses HTML elements to color the output *\/\n-        HTML((itemType, text) -> \"<font color=\\\"\" +\n-                (itemType == Op.class ? \"blue\" :\n-                itemType == Block.class ? \"purple\":\n-                itemType == TypeElement.class ? \"green\" : \"red\")\n-                + \"\\\">\" + text + \"<\/font>\");\n-\n-        public static ColoringOption defaultValue() {\n-            return NONE;\n-        }\n-\n-        final BiFunction<Class<? extends CodeItem>, String, String> dyer;\n-\n-        ColoringOption(BiFunction<Class<? extends CodeItem>, String, String> dyer) {\n-            this.dyer = dyer;\n-        }\n+                + \"m\" + text + \"\\033[0m\" : (_, text) -> text;\n@@ -398,1 +367,1 @@\n-        this.dyer = ColoringOption.NONE.dyer;\n+        this.dyer = getDyer();\n@@ -412,1 +381,0 @@\n-        var dyer = ColoringOption.NONE.dyer;\n@@ -429,3 +397,0 @@\n-                case ColoringOption colorSchemaOption -> {\n-                    dyer = colorSchemaOption.dyer;\n-                }\n@@ -440,1 +405,1 @@\n-        this.dyer = dyer;\n+        this.dyer = getDyer();\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/extern\/OpWriter.java","additions":5,"deletions":40,"binary":false,"changes":45,"status":"modified"}]}
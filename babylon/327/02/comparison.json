{"files":[{"patch":"@@ -32,0 +32,1 @@\n+import java.lang.foreign.ValueLayout;\n@@ -50,1 +51,0 @@\n-\n@@ -52,2 +52,2 @@\n-        var bb = ByteBuffer.wrap(MNISTDemo.class.getResourceAsStream(resource).readAllBytes()).order(ByteOrder.LITTLE_ENDIAN);\n-        return FloatBuffer.allocate(bb.capacity() \/ 4).put(bb.asFloatBuffer()).array();\n+        return MemorySegment.ofArray(MNISTDemo.class.getResourceAsStream(resource).readAllBytes())\n+                .toArray(ValueLayout.JAVA_FLOAT_UNALIGNED);\n@@ -113,0 +113,1 @@\n+    static final String[] COLORS = {\"1034a6\", \"412f88\", \"722b6a\", \"a2264b\", \"d3212d\", \"f62d2d\"};\n@@ -118,0 +119,1 @@\n+        var results = new JLabel();\n@@ -131,0 +133,2 @@\n+        results.setPreferredSize(new Dimension(100, 0));\n+\n@@ -148,0 +152,1 @@\n+        frame.add(results, BorderLayout.EAST);\n@@ -158,5 +163,1 @@\n-                    int max = 0;\n-                    for (int i = 1; i < 10; i++) {\n-                        if (result.get(i) > result.get(max)) max = i;\n-                    }\n-                    var msg = new StringBuilder(\"<html>&nbsp;\");\n+                    var msg = new StringBuilder(\"<html>\");\n@@ -164,3 +165,3 @@\n-                        msg.append((max == i ? \"&nbsp;&nbsp;<b><u>%d:&nbsp;%.1f%%<\/u><\/b>\"\n-                                             : \"&nbsp;&nbsp;%d:&nbsp;%.1f%%\")\n-                                .formatted(i, 100 * result.get(i)));\n+                        var w = result.get(i);\n+                        msg.append(\"&nbsp;<font size=\\\"%d\\\" color=\\\"#%s\\\">%d<\/font>&nbsp;(%.1f%%)&nbsp;<br><br><br>\"\n+                                .formatted((int)(20 * w) + 3, COLORS[(int)(5.99 * w)], i, 100 * w));\n@@ -168,1 +169,1 @@\n-                    statusBar.setText(msg.toString());\n+                    results.setText(msg.toString());\n","filename":"cr-examples\/onnx\/src\/test\/java\/oracle\/code\/onnx\/MNISTDemo.java","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"}]}
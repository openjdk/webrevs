{"files":[{"patch":"@@ -43,0 +43,5 @@\n+        <dependency>\n+            <groupId>oracle.code<\/groupId>\n+            <artifactId>hat-optkl<\/artifactId>\n+            <version>1.0<\/version>\n+        <\/dependency>\n","filename":"hat\/core\/pom.xml","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import hat.util.StreamOptionalMutable;\n@@ -34,0 +33,1 @@\n+import java.util.Optional;\n@@ -171,0 +171,23 @@\n+    private static class StreamOptionalMutable<R> {\n+        private Optional<R> value = Optional.empty();\n+\n+        public void of(R value) {\n+            this.value = Optional.of(value);\n+        }\n+\n+        public boolean isPresent() {\n+            return value.isPresent();\n+        }\n+\n+        public R get() {\n+            return value.orElseThrow();\n+        }\n+\n+        public StreamOptionalMutable(R initial) {\n+            of(initial);\n+        }\n+\n+        public StreamOptionalMutable() {\n+\n+        }\n+    }\n","filename":"hat\/core\/src\/main\/java\/hat\/ifacemapper\/accessor\/AccessorInfo.java","additions":24,"deletions":1,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -1,51 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.util;\n-\n-import java.util.Optional;\n-\n-public class StreamOptionalMutable<R> {\n-    private Optional<R> value = Optional.empty();\n-\n-    public void of(R value) {\n-        this.value = Optional.of(value);\n-    }\n-\n-    public boolean isPresent() {\n-        return value.isPresent();\n-    }\n-\n-    public R get() {\n-        return value.orElseThrow();\n-    }\n-\n-    public StreamOptionalMutable(R initial) {\n-        of(initial);\n-    }\n-\n-    public StreamOptionalMutable() {\n-\n-    }\n-}\n","filename":"hat\/core\/src\/main\/java\/hat\/util\/StreamOptionalMutable.java","additions":0,"deletions":51,"binary":false,"changes":51,"status":"deleted"},{"patch":"@@ -34,1 +34,1 @@\n-import hat.util.Regex;\n+\n@@ -36,0 +36,1 @@\n+import optkl.Regex;\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/EliteMeshParser.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -132,1 +132,2 @@\n-        var core = hat.jar(\"core\");\n+        var optkl = hat.jar(\"optkl\");\n+        var core = hat.jar(\"core\", optkl);\n","filename":"hat\/hat.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -14,0 +14,1 @@\n+      <module fileurl=\"file:\/\/$PROJECT_DIR$\/optkl.iml\" filepath=\"$PROJECT_DIR$\/optkl.iml\" \/>\n","filename":"hat\/intellij\/.idea\/modules.xml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -5,0 +5,1 @@\n+    <mapping directory=\"$PROJECT_DIR$\/..\/..\/..\/beehive-spirv-toolkit\" vcs=\"Git\" \/>\n","filename":"hat\/intellij\/.idea\/vcs.xml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -11,0 +11,1 @@\n+    <orderEntry type=\"module\" module-name=\"optkl\" \/>\n","filename":"hat\/intellij\/core.iml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -14,0 +14,1 @@\n+    <orderEntry type=\"module\" module-name=\"optkl\" \/>\n@@ -15,1 +16,1 @@\n-<\/module>\n+<\/module>\n\\ No newline at end of file\n","filename":"hat\/intellij\/example_view.iml","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,12 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<module type=\"JAVA_MODULE\" version=\"4\">\n+  <component name=\"NewModuleRootManager\" inherit-compiler-output=\"true\">\n+    <exclude-output \/>\n+    <content url=\"file:\/\/$MODULE_DIR$\/..\/optkl\/\">\n+      <sourceFolder url=\"file:\/\/$MODULE_DIR$\/..\/optkl\/src\/main\/java\" isTestSource=\"false\" \/>\n+      <excludeFolder url=\"file:\/\/$MODULE_DIR$\/..\/optkl\/src\/main\/test\" \/>\n+    <\/content>\n+    <orderEntry type=\"inheritedJdk\" \/>\n+    <orderEntry type=\"sourceFolder\" forTests=\"false\" \/>\n+  <\/component>\n+<\/module>\n","filename":"hat\/intellij\/optkl.iml","additions":12,"deletions":0,"binary":false,"changes":12,"status":"added"},{"patch":"@@ -11,0 +11,1 @@\n+    <orderEntry type=\"module\" module-name=\"optkl\" \/>\n@@ -16,1 +17,1 @@\n-<\/module>\n\\ No newline at end of file\n+<\/module>\n","filename":"hat\/intellij\/tests.iml","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -11,0 +11,1 @@\n+    <orderEntry type=\"module\" module-name=\"optkl\" \/>\n","filename":"hat\/intellij\/tools.iml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-    <artifactId>hat-core<\/artifactId>\n+    <artifactId>hat-optkl<\/artifactId>\n","filename":"hat\/optkl\/pom.xml","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/core\/pom.xml","status":"copied"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.text;\n+package optkl;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/OpCodeBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/text\/OpCodeBuilder.java","status":"renamed"},{"patch":"@@ -0,0 +1,33 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl;\n+\n+public class OpTkl{\n+   public static void main(String[] args){\n+      System.out.println(\"hey\");\n+   }\n+}\n+\n+\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/OpTkl.java","additions":33,"deletions":0,"binary":false,"changes":33,"status":"added"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.util;\n+package optkl;\n@@ -30,1 +30,0 @@\n-import java.util.function.Supplier;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/Regex.java","additions":1,"deletions":2,"binary":false,"changes":3,"previous_filename":"hat\/core\/src\/main\/java\/hat\/util\/Regex.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.jdot;\n+package optkl.jdot;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/jdot\/DotBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/jdot\/DotBuilder.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.jdot.ui;\n+package optkl.jdot.ui;\n@@ -27,8 +27,8 @@\n-import hat.tools.jdot.DotBuilder;\n-import hat.tools.json.Json;\n-import hat.tools.json.JsonArray;\n-import hat.tools.json.JsonNumber;\n-import hat.tools.json.JsonObject;\n-import hat.tools.json.JsonString;\n-import hat.tools.json.JsonValue;\n-import hat.util.Regex;\n+import optkl.jdot.DotBuilder;\n+import optkl.json.Json;\n+import optkl.json.JsonArray;\n+import optkl.json.JsonNumber;\n+import optkl.json.JsonObject;\n+import optkl.json.JsonString;\n+import optkl.json.JsonValue;\n+import optkl.Regex;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/jdot\/ui\/JDot.java","additions":9,"deletions":9,"binary":false,"changes":18,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/jdot\/ui\/JDot.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -28,2 +28,2 @@\n-import hat.tools.json.impl.JsonParser;\n-import hat.tools.json.impl.Utils;\n+import optkl.json.impl.JsonParser;\n+import optkl.json.impl.Utils;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/Json.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/Json.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.impl.JsonArrayImpl;\n+import optkl.json.impl.JsonArrayImpl;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonArray.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonArray.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.impl.JsonBooleanImpl;\n+import optkl.json.impl.JsonBooleanImpl;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonBoolean.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonBoolean.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.impl.JsonNullImpl;\n+import optkl.json.impl.JsonNullImpl;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonNull.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonNull.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.impl.JsonNumberImpl;\n+import optkl.json.impl.JsonNumberImpl;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonNumber.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonNumber.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -29,2 +29,2 @@\n-import hat.tools.json.impl.JsonObjectImpl;\n-import hat.tools.json.impl.Utils;\n+import optkl.json.impl.JsonObjectImpl;\n+import optkl.json.impl.Utils;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonObject.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonObject.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonParseException.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonParseException.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.impl.JsonStringImpl;\n+import optkl.json.impl.JsonStringImpl;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonString.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonString.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json;\n+package optkl.json;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/JsonValue.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/JsonValue.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,2 +29,2 @@\n-import hat.tools.json.JsonArray;\n-import hat.tools.json.JsonValue;\n+import optkl.json.JsonArray;\n+import optkl.json.JsonValue;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonArrayImpl.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonArrayImpl.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.JsonBoolean;\n+import optkl.json.JsonBoolean;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonBooleanImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonBooleanImpl.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.JsonNull;\n+import optkl.json.JsonNull;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonNullImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonNullImpl.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.JsonNumber;\n+import optkl.json.JsonNumber;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonNumberImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonNumberImpl.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,2 +29,2 @@\n-import hat.tools.json.JsonObject;\n-import hat.tools.json.JsonValue;\n+import optkl.json.JsonObject;\n+import optkl.json.JsonValue;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonObjectImpl.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonObjectImpl.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,5 +29,5 @@\n-import hat.tools.json.JsonArray;\n-import hat.tools.json.JsonObject;\n-import hat.tools.json.JsonParseException;\n-import hat.tools.json.JsonString;\n-import hat.tools.json.JsonValue;\n+import optkl.json.JsonArray;\n+import optkl.json.JsonObject;\n+import optkl.json.JsonParseException;\n+import optkl.json.JsonString;\n+import optkl.json.JsonValue;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonParser.java","additions":6,"deletions":6,"binary":false,"changes":12,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonParser.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,1 +29,1 @@\n-import hat.tools.json.JsonString;\n+import optkl.json.JsonString;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/JsonStringImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/JsonStringImpl.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.json.impl;\n+package optkl.json.impl;\n@@ -29,3 +29,3 @@\n-import hat.tools.json.JsonArray;\n-import hat.tools.json.JsonObject;\n-import hat.tools.json.JsonValue;\n+import optkl.json.JsonArray;\n+import optkl.json.JsonObject;\n+import optkl.json.JsonValue;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/json\/impl\/Utils.java","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/json\/impl\/Utils.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel;\n+package optkl.textmodel;\n@@ -27,1 +27,1 @@\n-import hat.util.Regex;\n+import optkl.Regex;\n@@ -29,14 +29,14 @@\n-import hat.tools.textmodel.tokens.Arrow;\n-import hat.tools.textmodel.tokens.At;\n-import hat.tools.textmodel.tokens.Ch;\n-import hat.tools.textmodel.tokens.DottedName;\n-import hat.tools.textmodel.tokens.FloatConst;\n-import hat.tools.textmodel.tokens.IntConst;\n-import hat.tools.textmodel.tokens.LeafReplacementToken;\n-import hat.tools.textmodel.tokens.LineCol;\n-import hat.tools.textmodel.tokens.Parenthesis;\n-import hat.tools.textmodel.tokens.ReservedWord;\n-import hat.tools.textmodel.tokens.Seq;\n-import hat.tools.textmodel.tokens.StringLiteral;\n-import hat.tools.textmodel.tokens.Token;\n-import hat.tools.textmodel.tokens.Ws;\n+import optkl.textmodel.tokens.Arrow;\n+import optkl.textmodel.tokens.At;\n+import optkl.textmodel.tokens.Ch;\n+import optkl.textmodel.tokens.DottedName;\n+import optkl.textmodel.tokens.FloatConst;\n+import optkl.textmodel.tokens.IntConst;\n+import optkl.textmodel.tokens.LeafReplacementToken;\n+import optkl.textmodel.tokens.LineCol;\n+import optkl.textmodel.tokens.Parenthesis;\n+import optkl.textmodel.tokens.ReservedWord;\n+import optkl.textmodel.tokens.Seq;\n+import optkl.textmodel.tokens.StringLiteral;\n+import optkl.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.Ws;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/BabylonTextModel.java","additions":16,"deletions":16,"binary":false,"changes":32,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/BabylonTextModel.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel;\n+package optkl.textmodel;\n@@ -27,1 +27,1 @@\n-import hat.tools.textmodel.tokens.Pos;\n+import optkl.textmodel.tokens.Pos;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/Cursor.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/Cursor.java","status":"renamed"},{"patch":"@@ -0,0 +1,93 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel;\n+\n+import optkl.textmodel.tokens.At;\n+import optkl.textmodel.tokens.Ch;\n+import optkl.textmodel.tokens.DottedName;\n+import optkl.textmodel.tokens.FloatConst;\n+import optkl.textmodel.tokens.IntConst;\n+import optkl.textmodel.tokens.LeafReplacementToken;\n+import optkl.textmodel.tokens.ReservedWord;\n+import optkl.textmodel.tokens.Seq;\n+import optkl.textmodel.tokens.Token;\n+import optkl.Regex;\n+\n+public class JavaTextModel extends TextModel {\n+\n+\n+    public static class JavaModifier extends LeafReplacementToken {\n+        public static final Regex regex = Regex.of(\"static|abstract|public|private|protected|final\");\n+        public JavaModifier(Token t) {\n+            super(t);\n+        }\n+    }\n+    public static class JavaType extends LeafReplacementToken  {\n+\n+        public static final Regex regex = Regex.of(\n+                \"var|if|while|case|switch|break|for|new|import|instanceof|default|return|super|package\"\n+        );\n+\n+        public JavaType(Token t) {\n+            super(t);\n+        }\n+    }\n+    public static class JavaAnnotation extends LeafReplacementToken{\n+        public JavaAnnotation(Token at, Token identifier) {\n+            super(at, identifier);\n+        }\n+    }\n+\n+     public void transform(){\n+         \/\/ \"[0-9][0-9]*\" ->IntConst\n+         replace(true, t -> Seq.isA(t, $->$.matches(IntConst.regex)), IntConst::new);\n+\n+         \/\/ IntConst '.' IntConst ->FloatConst   (yeah we are missing '.' IntConst  and the exponent stuff)\n+         replace(true, (t1,t2,t3) -> IntConst.isA(t1) && Ch.isADot(t2) && IntConst.isA(t3), FloatConst::new);\n+\n+         \/\/ @ (char) -> At\n+         replace(true, Ch::isAnAt, At::new);\n+\n+         Regex javaTypes = Regex.of(\"void|int|float|double|boolean|char|short|long|class|record|interface|String\");\n+\n+         replace(true,t -> Seq.isA(t, $->$.matches(javaTypes)), ReservedWord::new);\n+\n+         replace(true,t -> Seq.isA(t,$->$.matches(JavaType.regex)), JavaType::new);\n+\n+         replace(true,t -> Seq.isA(t,$->$.matches(JavaModifier.regex)),JavaModifier::new);\n+\n+         \/\/ (Seq|Dname) '.' Seq -> Dname\n+         replace(true,(t1,t2,t3) -> (Seq.isA(t1) || DottedName.isA(t1)) && Ch.isADot(t2) && Seq.isA(t3),DottedName::new);\n+\n+         \/\/ map all seqs to DottedName\n+         replace(true, t -> Seq.isA(t,$->$.matches(DottedName.regex)), DottedName::new);\n+     }\n+    static public JavaTextModel of(String text) {\n+        JavaTextModel doc = new JavaTextModel();\n+        doc.parse(text);\n+        doc.transform();\n+        return doc;\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/JavaTextModel.java","additions":93,"deletions":0,"binary":false,"changes":93,"status":"added"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel;\n+package optkl.textmodel;\n@@ -27,3 +27,3 @@\n-import hat.tools.textmodel.tokens.Parenthesis;\n-import hat.tools.textmodel.tokens.Root;\n-import hat.tools.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.Parenthesis;\n+import optkl.textmodel.tokens.Root;\n+import optkl.textmodel.tokens.Token;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/TextModel.java","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/TextModel.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.html;\n+package optkl.textmodel.html;\n@@ -28,1 +28,1 @@\n-import hat.tools.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.Token;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/html\/Spanner.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/html\/Spanner.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.html.tokens;\n+package optkl.textmodel.html.tokens;\n@@ -27,2 +27,2 @@\n-import hat.tools.textmodel.tokens.Token;\n-import hat.tools.textmodel.tokens.LeafReplacementToken;\n+import optkl.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.LeafReplacementToken;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/html\/tokens\/GT_ENTITY.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/html\/tokens\/GT_ENTITY.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.html.tokens;\n+package optkl.textmodel.html.tokens;\n@@ -27,2 +27,2 @@\n-import hat.tools.textmodel.tokens.Token;\n-import hat.tools.textmodel.tokens.LeafReplacementToken;\n+import optkl.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.LeafReplacementToken;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/html\/tokens\/LT_ENTITY.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/html\/tokens\/LT_ENTITY.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.terminal;\n+package optkl.textmodel.terminal;\n@@ -27,1 +27,1 @@\n-import hat.tools.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.Token;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/terminal\/ANSI.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/terminal\/ANSI.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.terminal;\n+package optkl.textmodel.terminal;\n@@ -27,12 +27,12 @@\n-import hat.tools.textmodel.BabylonTextModel;\n-import hat.tools.textmodel.JavaTextModel;\n-import hat.tools.textmodel.tokens.At;\n-import hat.tools.textmodel.tokens.Close;\n-import hat.tools.textmodel.tokens.DottedName;\n-import hat.tools.textmodel.tokens.Nl;\n-import hat.tools.textmodel.tokens.Parenthesis;\n-import hat.tools.textmodel.tokens.ReservedWord;\n-import hat.tools.textmodel.tokens.Root;\n-import hat.tools.textmodel.tokens.Seq;\n-import hat.tools.textmodel.tokens.StringLiteral;\n-import hat.tools.textmodel.tokens.Ws;\n+import optkl.textmodel.BabylonTextModel;\n+import optkl.textmodel.JavaTextModel;\n+import optkl.textmodel.tokens.At;\n+import optkl.textmodel.tokens.Close;\n+import optkl.textmodel.tokens.DottedName;\n+import optkl.textmodel.tokens.Nl;\n+import optkl.textmodel.tokens.Parenthesis;\n+import optkl.textmodel.tokens.ReservedWord;\n+import optkl.textmodel.tokens.Root;\n+import optkl.textmodel.tokens.Seq;\n+import optkl.textmodel.tokens.StringLiteral;\n+import optkl.textmodel.tokens.Ws;\n@@ -49,1 +49,1 @@\n-import static hat.tools.textmodel.terminal.ANSI.*;\n+import static optkl.textmodel.terminal.ANSI.*;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/terminal\/CodeModelFormatter.java","additions":14,"deletions":14,"binary":false,"changes":28,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/terminal\/CodeModelFormatter.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.terminal;\n+package optkl.textmodel.terminal;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/terminal\/TestANSI.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/terminal\/TestANSI.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/AbstractParentToken.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/AbstractParentToken.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/AbstractToken.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/AbstractToken.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/AbstractTokenWithCh.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/AbstractTokenWithCh.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/AbstractTokenWithLength.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/AbstractTokenWithLength.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Arrow.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Arrow.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/At.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/At.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Ch.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Ch.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/CharLiteral.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/CharLiteral.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Close.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Close.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Comment.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Comment.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n@@ -28,1 +28,1 @@\n-import hat.util.Regex;\n+import optkl.Regex;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/DottedName.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/DottedName.java","status":"renamed"},{"patch":"@@ -0,0 +1,76 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens;\n+\n+import optkl.textmodel.tokens.defaults.Close;\n+import optkl.textmodel.tokens.defaults.LineComment;\n+import optkl.textmodel.tokens.defaults.MultiLineComment;\n+import optkl.textmodel.tokens.defaults.Open;\n+\n+public interface Factory {\n+    default Open open(Parent parent, Pos pos, char ch) {\n+        return new Open(parent, pos, ch);\n+    }\n+\n+    default Close close(Parent parent, Pos pos, char ch) {\n+        return new Close(parent, pos, ch);\n+    }\n+\n+    default LineComment lineComment(Parent parent, Pos pos, int len) {\n+        return new LineComment(parent, pos, len);\n+    }\n+\n+    default MultiLineComment multiLineComment(Parent parent, Pos pos, int len) {\n+        return new MultiLineComment(parent, pos, len);\n+    }\n+\n+    default Ws ws(Parent parent, Pos pos, int len) {\n+        return new optkl.textmodel.tokens.defaults.Ws(parent, pos, len);\n+    }\n+\n+    default CharLiteral charLiteral(Parent parent, Pos pos, int len) {\n+        return new optkl.textmodel.tokens.defaults.CharLiteral(parent, pos, len);\n+    }\n+\n+    default StringLiteral stringLiteral(Parent parent, Pos pos, int len) {\n+        return new optkl.textmodel.tokens.defaults.StringLiteral(parent, pos, len);\n+    }\n+\n+    default Nl nl(Parent parent, Pos pos) {\n+        return new optkl.textmodel.tokens.defaults.Nl(parent, pos);\n+    }\n+\n+    default Parenthesis parenthesis(Parent parent, Pos pos, Parenthesis.OpenClose openClose) {\n+        return new optkl.textmodel.tokens.defaults.Parenthesis(parent, pos,  openClose);\n+    }\n+\n+    default Seq seq(Parent parent, Pos pos, int len) {\n+        return new optkl.textmodel.tokens.defaults.Seq(parent, pos, len);\n+    }\n+\n+    default Ch ch(Parent parent, Pos pos) {\n+        return new optkl.textmodel.tokens.defaults.Ch(parent, pos);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Factory.java","additions":76,"deletions":0,"binary":false,"changes":76,"status":"added"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/FloatConst.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/FloatConst.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n@@ -27,1 +27,1 @@\n-import hat.util.Regex;\n+import optkl.Regex;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/IntConst.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/IntConst.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n@@ -27,1 +27,1 @@\n-import hat.util.Regex;\n+import optkl.Regex;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Leaf.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Leaf.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/LeafReplacementToken.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/LeafReplacementToken.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/LineCol.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/LineCol.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/LineComment.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/LineComment.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Literal.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Literal.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/MultiLineComment.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/MultiLineComment.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Nl.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Nl.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Open.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Open.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/OpenClose.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/OpenClose.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n@@ -27,1 +27,1 @@\n-import hat.tools.textmodel.Cursor;\n+import optkl.textmodel.Cursor;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Parent.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Parent.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Parenthesis.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Parenthesis.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Pos.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Pos.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/ReservedWord.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/ReservedWord.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n@@ -27,1 +27,1 @@\n-import hat.tools.textmodel.Cursor;\n+import optkl.textmodel.Cursor;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Root.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Root.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Seq.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Seq.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/SingleCharLeaf.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/SingleCharLeaf.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Span.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Span.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/StringLiteral.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/StringLiteral.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Token.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Token.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.tokens;\n+package optkl.textmodel.tokens;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/Ws.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Ws.java","status":"renamed"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractToken;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class Ch extends AbstractToken implements optkl.textmodel.tokens.Ch {\n+    public Ch(Parent parent, Pos pos){\n+        super(parent, pos);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Ch.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,38 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithLength;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class CharLiteral extends AbstractTokenWithLength implements optkl.textmodel.tokens.CharLiteral {\n+\n+int len;\n+    public CharLiteral(Parent parent, Pos pos, int len) {\n+        super(parent,pos, len);\n+    }\n+\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/CharLiteral.java","additions":38,"deletions":0,"binary":false,"changes":38,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithCh;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class Close extends AbstractTokenWithCh implements optkl.textmodel.tokens.Close {\n+    public Close(Parent parent, Pos pos, char ch) {\n+        super(parent, pos, ch);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Close.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithLength;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class LineComment extends AbstractTokenWithLength implements optkl.textmodel.tokens.LineComment {\n+    public LineComment(Parent parent, Pos pos, int len) {\n+        super(parent, pos, len);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/LineComment.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithLength;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class MultiLineComment extends AbstractTokenWithLength implements optkl.textmodel.tokens.MultiLineComment {\n+    public MultiLineComment(Parent parent, Pos pos, int len) {\n+        super(parent, pos, len);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/MultiLineComment.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractToken;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class Nl extends AbstractToken implements optkl.textmodel.tokens.Nl {\n+    public Nl(Parent parent, Pos pos) {\n+        super(parent, pos);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Nl.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithCh;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class Open extends AbstractTokenWithCh implements optkl.textmodel.tokens.Open {\n+    public Open(Parent parent, Pos pos, char ch) {\n+        super(parent, pos, ch);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Open.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,43 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractParentToken;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class  Parenthesis extends AbstractParentToken implements optkl.textmodel.tokens.Parenthesis {\n+    OpenClose openClose;\n+\n+    public Parenthesis(Parent parent, Pos pos, OpenClose openClose) {\n+        super(parent, pos);\n+        this.openClose = openClose;\n+    }\n+\n+    @Override\n+    public  OpenClose openClose() {\n+        return openClose;\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Parenthesis.java","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithLength;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class Seq extends AbstractTokenWithLength implements optkl.textmodel.tokens.Seq {\n+    public Seq(Parent parent, Pos pos, int len) {\n+        super(parent, pos, len);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Seq.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithLength;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class StringLiteral extends AbstractTokenWithLength implements optkl.textmodel.tokens.StringLiteral {\n+    public StringLiteral(Parent parent, Pos pos, int len) {\n+        super(parent, pos, len);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/StringLiteral.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.tokens.defaults;\n+\n+import optkl.textmodel.tokens.AbstractTokenWithLength;\n+import optkl.textmodel.tokens.Parent;\n+import optkl.textmodel.tokens.Pos;\n+\n+public class Ws extends AbstractTokenWithLength implements optkl.textmodel.tokens.Ws {\n+    public Ws(Parent parent, Pos pos, int len) {\n+        super(parent, pos, len);\n+    }\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/tokens\/defaults\/Ws.java","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n@@ -27,15 +27,15 @@\n-import hat.tools.textmodel.BabylonTextModel;\n-import hat.tools.textmodel.JavaTextModel;\n-import hat.tools.textmodel.TextModel;\n-import hat.tools.textmodel.tokens.Arrow;\n-import hat.tools.textmodel.tokens.At;\n-import hat.tools.textmodel.tokens.Ch;\n-import hat.tools.textmodel.tokens.Comment;\n-import hat.tools.textmodel.tokens.DottedName;\n-import hat.tools.textmodel.tokens.FloatConst;\n-import hat.tools.textmodel.tokens.IntConst;\n-import hat.tools.textmodel.tokens.Nl;\n-import hat.tools.textmodel.tokens.ReservedWord;\n-import hat.tools.textmodel.tokens.Seq;\n-import hat.tools.textmodel.tokens.StringLiteral;\n-import hat.tools.textmodel.tokens.Ws;\n+import optkl.textmodel.BabylonTextModel;\n+import optkl.textmodel.JavaTextModel;\n+import optkl.textmodel.TextModel;\n+import optkl.textmodel.tokens.Arrow;\n+import optkl.textmodel.tokens.At;\n+import optkl.textmodel.tokens.Ch;\n+import optkl.textmodel.tokens.Comment;\n+import optkl.textmodel.tokens.DottedName;\n+import optkl.textmodel.tokens.FloatConst;\n+import optkl.textmodel.tokens.IntConst;\n+import optkl.textmodel.tokens.Nl;\n+import optkl.textmodel.tokens.ReservedWord;\n+import optkl.textmodel.tokens.Seq;\n+import optkl.textmodel.tokens.StringLiteral;\n+import optkl.textmodel.tokens.Ws;\n@@ -44,1 +44,0 @@\n-import javax.swing.text.DefaultHighlighter;\n@@ -46,1 +45,0 @@\n-import javax.swing.text.StyleConstants;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/BabylonStyleMapper.java","additions":16,"deletions":18,"binary":false,"changes":34,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/BabylonStyleMapper.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n@@ -27,2 +27,2 @@\n-import hat.tools.textmodel.tokens.Span;\n-import hat.tools.textmodel.tokens.Token;\n+import optkl.textmodel.tokens.Span;\n+import optkl.textmodel.tokens.Token;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/ElementSpan.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/ElementSpan.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n@@ -27,2 +27,2 @@\n-import hat.tools.textmodel.BabylonTextModel;\n-import hat.tools.textmodel.TextModel;\n+import optkl.textmodel.BabylonTextModel;\n+import optkl.textmodel.TextModel;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/FuncOpTextModelViewer.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/FuncOpTextModelViewer.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n@@ -27,1 +27,1 @@\n-import hat.tools.textmodel.BabylonTextModel;\n+import optkl.textmodel.BabylonTextModel;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/FuncOpViewer.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/FuncOpViewer.java","status":"renamed"},{"patch":"@@ -26,1 +26,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n@@ -28,2 +28,2 @@\n-import hat.tools.textmodel.JavaTextModel;\n-import hat.tools.textmodel.TextModel;\n+import optkl.textmodel.JavaTextModel;\n+import optkl.textmodel.TextModel;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/JavaTextModelViewer.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/JavaTextModelViewer.java","status":"renamed"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n@@ -27,3 +27,3 @@\n-import hat.tools.jdot.DotBuilder;\n-import hat.tools.jdot.ui.JDot;\n-import hat.tools.textmodel.BabylonTextModel;\n+import optkl.jdot.DotBuilder;\n+import optkl.jdot.ui.JDot;\n+import optkl.textmodel.BabylonTextModel;\n@@ -42,4 +42,0 @@\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/SSAIDViewer.java","additions":4,"deletions":8,"binary":false,"changes":12,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/SSAIDViewer.java","status":"renamed"},{"patch":"@@ -0,0 +1,57 @@\n+\/*\n+ * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package optkl.textmodel.ui;\n+\n+import optkl.textmodel.TextModel;\n+\n+import javax.swing.JTextPane;\n+import javax.swing.text.DefaultHighlighter;\n+import javax.swing.text.Highlighter;\n+import javax.swing.text.Style;\n+import javax.swing.text.StyleConstants;\n+import java.awt.Color;\n+\n+public abstract class StyleMapper {\n+    JTextPane jTextPane;\n+    protected final Style defaultStyle;\n+    protected final Highlighter.HighlightPainter highlightPainter;\n+    public Style style(String name, Color color, boolean bold, boolean italic, boolean underline) {\n+        var s = jTextPane.addStyle(name, null);\n+        StyleConstants.setForeground(s, color);\n+        StyleConstants.setBold(s, bold);\n+        StyleConstants.setItalic(s, italic);\n+        StyleConstants.setUnderline(s, underline);\n+        return s;\n+    }\n+    StyleMapper( JTextPane jtextPane, Color highlightPainterColor, Color defaultStyleColor, Color backGroundColor) {\n+        this.jTextPane = jtextPane;\n+        this.highlightPainter =   new DefaultHighlighter.DefaultHighlightPainter(highlightPainterColor);\n+        this.defaultStyle = style(\"Default\", defaultStyleColor, false, false, false);\n+        this.jTextPane.setBackground(backGroundColor);\n+    }\n+\n+    public abstract void applyStyles(TextModel textModel);\n+\n+}\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/StyleMapper.java","additions":57,"deletions":0,"binary":false,"changes":57,"status":"added"},{"patch":"@@ -25,1 +25,1 @@\n-package hat.tools.textmodel.ui;\n+package optkl.textmodel.ui;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/TextGutter.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/TextGutter.java","status":"renamed"},{"patch":"@@ -25,4 +25,4 @@\n-package hat.tools.textmodel.ui;\n-import hat.tools.textmodel.TextModel;\n-import hat.tools.textmodel.tokens.LineCol;\n-import hat.tools.textmodel.tokens.Span;\n+package optkl.textmodel.ui;\n+import optkl.textmodel.TextModel;\n+import optkl.textmodel.tokens.LineCol;\n+import optkl.textmodel.tokens.Span;\n","filename":"hat\/optkl\/src\/main\/java\/optkl\/textmodel\/ui\/TextModelViewer.java","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/TextModelViewer.java","status":"renamed"},{"patch":"@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project name=\"maven-antrun-\" default=\"main\"  >\n+<target name=\"main\">\n+  <copy file=\"target\/hat-optkl-1.0.jar\" toDir=\"\/Users\/grfrost\/github\/babylon-grfrost-fork\/hat\/build\"\/>\n+<\/target>\n+<\/project>\n\\ No newline at end of file\n","filename":"hat\/optkl\/target\/antrun\/build-main.xml","additions":6,"deletions":0,"binary":false,"changes":6,"status":"added"},{"filename":"hat\/optkl\/target\/classes\/optkl\/OpTkl.class","binary":true,"status":"added"},{"filename":"hat\/optkl\/target\/hat-optkl-1.0.jar","binary":true,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+artifactId=hat-optkl\n+groupId=oracle.code\n+version=1.0\n","filename":"hat\/optkl\/target\/maven-archiver\/pom.properties","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+optkl\/OpTkl.class\n","filename":"hat\/optkl\/target\/maven-status\/maven-compiler-plugin\/compile\/default-compile\/createdFiles.lst","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+\/Users\/grfrost\/github\/babylon-grfrost-fork\/hat\/optkl\/src\/main\/java\/optkl\/OpTkl.java\n","filename":"hat\/optkl\/target\/maven-status\/maven-compiler-plugin\/compile\/default-compile\/inputFiles.lst","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -40,0 +40,1 @@\n+    <module>optkl<\/module>\n","filename":"hat\/pom.xml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+import optkl.OpCodeBuilder;\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/text\/TestJavaHATCodeBuilder.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1,93 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel;\n-\n-import hat.tools.textmodel.tokens.At;\n-import hat.tools.textmodel.tokens.Ch;\n-import hat.tools.textmodel.tokens.DottedName;\n-import hat.tools.textmodel.tokens.FloatConst;\n-import hat.tools.textmodel.tokens.IntConst;\n-import hat.tools.textmodel.tokens.LeafReplacementToken;\n-import hat.tools.textmodel.tokens.ReservedWord;\n-import hat.tools.textmodel.tokens.Seq;\n-import hat.tools.textmodel.tokens.Token;\n-import hat.util.Regex;\n-\n-public class JavaTextModel extends TextModel {\n-\n-\n-    public static class JavaModifier extends LeafReplacementToken {\n-        public static final Regex regex = Regex.of(\"static|abstract|public|private|protected|final\");\n-        public JavaModifier(Token t) {\n-            super(t);\n-        }\n-    }\n-    public static class JavaType extends LeafReplacementToken  {\n-\n-        public static final Regex regex = Regex.of(\n-                \"var|if|while|case|switch|break|for|new|import|instanceof|default|return|super|package\"\n-        );\n-\n-        public JavaType(Token t) {\n-            super(t);\n-        }\n-    }\n-    public static class JavaAnnotation extends LeafReplacementToken{\n-        public JavaAnnotation(Token at, Token identifier) {\n-            super(at, identifier);\n-        }\n-    }\n-\n-     public void transform(){\n-         \/\/ \"[0-9][0-9]*\" ->IntConst\n-         replace(true, t -> Seq.isA(t, $->$.matches(IntConst.regex)), IntConst::new);\n-\n-         \/\/ IntConst '.' IntConst ->FloatConst   (yeah we are missing '.' IntConst  and the exponent stuff)\n-         replace(true, (t1,t2,t3) -> IntConst.isA(t1) && Ch.isADot(t2) && IntConst.isA(t3), FloatConst::new);\n-\n-         \/\/ @ (char) -> At\n-         replace(true, Ch::isAnAt, At::new);\n-\n-         Regex javaTypes = Regex.of(\"void|int|float|double|boolean|char|short|long|class|record|interface|String\");\n-\n-         replace(true,t -> Seq.isA(t, $->$.matches(javaTypes)), ReservedWord::new);\n-\n-         replace(true,t -> Seq.isA(t,$->$.matches(JavaType.regex)), JavaType::new);\n-\n-         replace(true,t -> Seq.isA(t,$->$.matches(JavaModifier.regex)),JavaModifier::new);\n-\n-         \/\/ (Seq|Dname) '.' Seq -> Dname\n-         replace(true,(t1,t2,t3) -> (Seq.isA(t1) || DottedName.isA(t1)) && Ch.isADot(t2) && Seq.isA(t3),DottedName::new);\n-\n-         \/\/ map all seqs to DottedName\n-         replace(true, t -> Seq.isA(t,$->$.matches(DottedName.regex)), DottedName::new);\n-     }\n-    static public JavaTextModel of(String text) {\n-        JavaTextModel doc = new JavaTextModel();\n-        doc.parse(text);\n-        doc.transform();\n-        return doc;\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/JavaTextModel.java","additions":0,"deletions":93,"binary":false,"changes":93,"status":"deleted"},{"patch":"@@ -1,76 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens;\n-\n-import hat.tools.textmodel.tokens.defaults.Close;\n-import hat.tools.textmodel.tokens.defaults.LineComment;\n-import hat.tools.textmodel.tokens.defaults.MultiLineComment;\n-import hat.tools.textmodel.tokens.defaults.Open;\n-\n-public interface Factory {\n-    default Open open(Parent parent, Pos pos, char ch) {\n-        return new Open(parent, pos, ch);\n-    }\n-\n-    default Close close(Parent parent, Pos pos, char ch) {\n-        return new Close(parent, pos, ch);\n-    }\n-\n-    default LineComment lineComment(Parent parent, Pos pos, int len) {\n-        return new LineComment(parent, pos, len);\n-    }\n-\n-    default MultiLineComment multiLineComment(Parent parent, Pos pos, int len) {\n-        return new MultiLineComment(parent, pos, len);\n-    }\n-\n-    default Ws ws(Parent parent, Pos pos, int len) {\n-        return new hat.tools.textmodel.tokens.defaults.Ws(parent, pos, len);\n-    }\n-\n-    default CharLiteral charLiteral(Parent parent, Pos pos, int len) {\n-        return new hat.tools.textmodel.tokens.defaults.CharLiteral(parent, pos, len);\n-    }\n-\n-    default StringLiteral stringLiteral(Parent parent, Pos pos, int len) {\n-        return new hat.tools.textmodel.tokens.defaults.StringLiteral(parent, pos, len);\n-    }\n-\n-    default Nl nl(Parent parent, Pos pos) {\n-        return new hat.tools.textmodel.tokens.defaults.Nl(parent, pos);\n-    }\n-\n-    default Parenthesis parenthesis(Parent parent, Pos pos, Parenthesis.OpenClose openClose) {\n-        return new hat.tools.textmodel.tokens.defaults.Parenthesis(parent, pos,  openClose);\n-    }\n-\n-    default Seq seq(Parent parent, Pos pos, int len) {\n-        return new hat.tools.textmodel.tokens.defaults.Seq(parent, pos, len);\n-    }\n-\n-    default Ch ch(Parent parent, Pos pos) {\n-        return new hat.tools.textmodel.tokens.defaults.Ch(parent, pos);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/Factory.java","additions":0,"deletions":76,"binary":false,"changes":76,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractToken;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class Ch extends AbstractToken implements hat.tools.textmodel.tokens.Ch {\n-    public Ch(Parent parent, Pos pos){\n-        super(parent, pos);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Ch.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,38 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithLength;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class CharLiteral extends AbstractTokenWithLength implements hat.tools.textmodel.tokens.CharLiteral {\n-\n-int len;\n-    public CharLiteral(Parent parent, Pos pos, int len) {\n-        super(parent,pos, len);\n-    }\n-\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/CharLiteral.java","additions":0,"deletions":38,"binary":false,"changes":38,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithCh;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class Close extends AbstractTokenWithCh implements hat.tools.textmodel.tokens.Close {\n-    public Close(Parent parent, Pos pos, char ch) {\n-        super(parent, pos, ch);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Close.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithLength;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class LineComment extends AbstractTokenWithLength implements hat.tools.textmodel.tokens.LineComment {\n-    public LineComment(Parent parent, Pos pos, int len) {\n-        super(parent, pos, len);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/LineComment.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithLength;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class MultiLineComment extends AbstractTokenWithLength implements hat.tools.textmodel.tokens.MultiLineComment {\n-    public MultiLineComment(Parent parent, Pos pos, int len) {\n-        super(parent, pos, len);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/MultiLineComment.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractToken;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class Nl extends AbstractToken implements hat.tools.textmodel.tokens.Nl {\n-    public Nl(Parent parent, Pos pos) {\n-        super(parent, pos);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Nl.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithCh;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class Open extends AbstractTokenWithCh implements hat.tools.textmodel.tokens.Open {\n-    public Open(Parent parent, Pos pos, char ch) {\n-        super(parent, pos, ch);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Open.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,43 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractParentToken;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class  Parenthesis extends AbstractParentToken implements hat.tools.textmodel.tokens.Parenthesis {\n-    OpenClose openClose;\n-\n-    public Parenthesis(Parent parent, Pos pos, OpenClose openClose) {\n-        super(parent, pos);\n-        this.openClose = openClose;\n-    }\n-\n-    @Override\n-    public  OpenClose openClose() {\n-        return openClose;\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Parenthesis.java","additions":0,"deletions":43,"binary":false,"changes":43,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithLength;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class Seq extends AbstractTokenWithLength implements hat.tools.textmodel.tokens.Seq {\n-    public Seq(Parent parent, Pos pos, int len) {\n-        super(parent, pos, len);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Seq.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithLength;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class StringLiteral extends AbstractTokenWithLength implements hat.tools.textmodel.tokens.StringLiteral {\n-    public StringLiteral(Parent parent, Pos pos, int len) {\n-        super(parent, pos, len);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/StringLiteral.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,35 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.tokens.defaults;\n-\n-import hat.tools.textmodel.tokens.AbstractTokenWithLength;\n-import hat.tools.textmodel.tokens.Parent;\n-import hat.tools.textmodel.tokens.Pos;\n-\n-public class Ws extends AbstractTokenWithLength implements hat.tools.textmodel.tokens.Ws {\n-    public Ws(Parent parent, Pos pos, int len) {\n-        super(parent, pos, len);\n-    }\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/tokens\/defaults\/Ws.java","additions":0,"deletions":35,"binary":false,"changes":35,"status":"deleted"},{"patch":"@@ -1,72 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.ui;\n-\n-import com.sun.source.doctree.TextTree;\n-import hat.tools.textmodel.BabylonTextModel;\n-import hat.tools.textmodel.JavaTextModel;\n-import hat.tools.textmodel.TextModel;\n-import hat.tools.textmodel.tokens.Arrow;\n-import hat.tools.textmodel.tokens.At;\n-import hat.tools.textmodel.tokens.Ch;\n-import hat.tools.textmodel.tokens.Comment;\n-import hat.tools.textmodel.tokens.DottedName;\n-import hat.tools.textmodel.tokens.FloatConst;\n-import hat.tools.textmodel.tokens.IntConst;\n-import hat.tools.textmodel.tokens.Nl;\n-import hat.tools.textmodel.tokens.ReservedWord;\n-import hat.tools.textmodel.tokens.Seq;\n-import hat.tools.textmodel.tokens.StringLiteral;\n-import hat.tools.textmodel.tokens.Ws;\n-\n-import javax.swing.JTextPane;\n-import javax.swing.text.DefaultHighlighter;\n-import javax.swing.text.Highlighter;\n-import javax.swing.text.Style;\n-import javax.swing.text.StyleConstants;\n-import java.awt.Color;\n-\n-public abstract class StyleMapper {\n-    JTextPane jTextPane;\n-    protected final Style defaultStyle;\n-    protected final Highlighter.HighlightPainter highlightPainter;\n-    public Style style(String name, Color color, boolean bold, boolean italic, boolean underline) {\n-        var s = jTextPane.addStyle(name, null);\n-        StyleConstants.setForeground(s, color);\n-        StyleConstants.setBold(s, bold);\n-        StyleConstants.setItalic(s, italic);\n-        StyleConstants.setUnderline(s, underline);\n-        return s;\n-    }\n-    StyleMapper( JTextPane jtextPane, Color highlightPainterColor, Color defaultStyleColor, Color backGroundColor) {\n-        this.jTextPane = jtextPane;\n-        this.highlightPainter =   new DefaultHighlighter.DefaultHighlightPainter(highlightPainterColor);\n-        this.defaultStyle = style(\"Default\", defaultStyleColor, false, false, false);\n-        this.jTextPane.setBackground(backGroundColor);\n-    }\n-\n-    public abstract void applyStyles(TextModel textModel);\n-\n-}\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/StyleMapper.java","additions":0,"deletions":72,"binary":false,"changes":72,"status":"deleted"},{"patch":"@@ -1,82 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package hat.tools.textmodel.ui;\n-\n-import hat.ComputeContext;\n-import hat.NDRange;\n-import hat.KernelContext;\n-import hat.buffer.S32Array;\n-import hat.buffer.S32Array2D;\n-import hat.ifacemapper.MappableIface;\n-import jdk.incubator.code.Reflect;\n-import jdk.incubator.code.Op;\n-import jdk.incubator.code.dialect.core.CoreOp;\n-\n-import java.io.IOException;\n-import java.lang.reflect.Method;\n-\n-public class TestFuncOpViewer {\n-    static class Compute {\n-        @Reflect\n-        public static void mandel(@MappableIface.RO KernelContext kc, @MappableIface.RW S32Array2D s32Array2D, @MappableIface.RO S32Array pallette, float offsetx, float offsety, float scale) {\n-            if (kc.gix < kc.gsx) {\n-                float width = s32Array2D.width();\n-                float height = s32Array2D.height();\n-                float x = ((kc.gix % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n-                float y = ((kc.gix \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n-                float zx = x;\n-                float zy = y;\n-                float new_zx;\n-                int colorIdx = 0;\n-                while ((colorIdx < pallette.length()) && (((zx * zx) + (zy * zy)) < 4f)) {\n-                    new_zx = ((zx * zx) - (zy * zy)) + x;\n-                    zy = (2f * zx * zy) + y;\n-                    zx = new_zx;\n-                    colorIdx++;\n-                }\n-                int color = colorIdx < pallette.length() ? pallette.array(colorIdx) : 0;\n-                s32Array2D.array(kc.gix, color);\n-            }\n-        }\n-\n-\n-        @Reflect\n-        static public void compute(final ComputeContext computeContext, S32Array pallete, S32Array2D s32Array2D, float x, float y, float scale) {\n-\n-            computeContext.dispatchKernel(\n-                    NDRange.of1D(s32Array2D.width() * s32Array2D.height()),         \/\/0..S32Array2D.size()\n-                    kc -> mandel(kc, s32Array2D, pallete, x, y, scale));\n-        }\n-\n-    }\n-\n-    public static void main(String[] args) throws NoSuchMethodException, IOException {\n-        String methodName = \"mandel\";\n-        Method method = Compute.class.getDeclaredMethod(methodName,\n-                KernelContext.class, S32Array2D.class, S32Array.class, float.class, float.class, float.class);\n-        CoreOp.FuncOp javaFunc = Op.ofMethod(method).get();\n-        FuncOpViewer.launch(javaFunc);\n-    }\n-}\n\\ No newline at end of file\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/TestFuncOpViewer.java","additions":0,"deletions":82,"binary":false,"changes":82,"status":"deleted"}]}
{"files":[{"patch":"@@ -1608,1 +1608,0 @@\n-\n@@ -1622,1 +1621,0 @@\n-\n@@ -1636,1 +1634,0 @@\n-\n@@ -1642,1 +1639,0 @@\n-\n@@ -1678,1 +1674,0 @@\n-\n@@ -1782,1 +1777,0 @@\n-\n@@ -1799,2 +1793,1 @@\n-                            Value bodyVal = toValue(s);\n-                            appendTerminating(CoreOp::_yield);\n+                            toValue(s);\n@@ -1804,0 +1797,1 @@\n+                        appendTerminating(c.completesNormally ? CoreOp::_yield : CoreOp::unreachable);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/ReflectMethods.java","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -135,0 +135,41 @@\n+    @CodeReflection\n+    @IR(\"\"\"\n+            func @\"test5\" (%0 : int)void -> {\n+                %1 : Var<int> = var %0 @\"n\";\n+                %2 : int = var.load %1;\n+                %3 : java.lang.String = java.switch.expression %2\n+                    (%4 : int)boolean -> {\n+                        %5 : int = constant @\"42\";\n+                        %6 : boolean = eq %4 %5;\n+                        yield %6;\n+                    }\n+                    ()java.lang.String -> {\n+                        java.while\n+                            ()boolean -> {\n+                                %7 : boolean = constant @\"true\";\n+                                yield %7;\n+                            }\n+                            ()void -> {\n+                                java.continue;\n+                            };\n+                        unreachable;\n+                    }\n+                    ()boolean -> {\n+                        %8 : boolean = constant @\"true\";\n+                        yield %8;\n+                    }\n+                    ()java.lang.String -> {\n+                        %9 : java.lang.String = constant @\"\";\n+                        yield %9;\n+                    };\n+                %10 : Var<java.lang.String> = var %3 @\"s\";\n+                return;\n+            };\n+            \"\"\")\n+    static void test5(int n) {\n+        String s = switch (n) {\n+            case 42 -> { while (true); }\n+            default -> \"\";\n+        };\n+    }\n+\n","filename":"test\/langtools\/tools\/javac\/reflect\/UnreachableTest.java","additions":41,"deletions":0,"binary":false,"changes":41,"status":"modified"}]}
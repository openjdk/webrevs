{"files":[{"patch":"@@ -4515,1 +4515,4 @@\n-            } else if (v.uses().size() == 1 && !(v.uses().iterator().next().op() instanceof VarOp) && !operandsAndCaptures.contains(v)) {\n+            } else if (v.uses().size() == 1\n+                    && !(v.uses().iterator().next().op() instanceof VarOp vop && vop.result().uses().size() >= 1\n+                        && vop.result().uses().stream().noneMatch(u -> u.op().parentBlock() == fblock))\n+                    && !operandsAndCaptures.contains(v)) {\n@@ -4536,4 +4539,0 @@\n-                    if (!operandsAndCaptures.contains(varOp.result())) {\n-                        throw new IllegalArgumentException(\"Result of VarOp initialized with a block parameter,\" +\n-                                \"expected to be an operand or a captured value\");\n-                    }\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/op\/CoreOp.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"}]}
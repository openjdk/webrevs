{"files":[{"patch":"@@ -4508,1 +4508,6 @@\n-                case VarOp varOp when varOp.initOperand() instanceof Block.Parameter p -> {\n+                case VarOp varOp -> {\n+                    if (varOp.initOperand() instanceof Block.Parameter p) {\n+                        unvisitedParams.remove(p);\n+                    } else if (varOp.initOperand() instanceof Op.Result opr && !(opr.op() instanceof ConstantOp)) {\n+                        throw new IllegalArgumentException(\"VarOp initial value came from an operation that's not a ConstantOp\");\n+                    }\n@@ -4513,10 +4518,0 @@\n-                    unvisitedParams.remove(p);\n-                }\n-                case VarOp varOp when varOp.initOperand() instanceof Op.Result opr -> {\n-                    if (!(opr.op() instanceof ConstantOp)) {\n-                        throw new IllegalArgumentException(\"VarOp initial value came from an operation that's not a ConstantOp\");\n-                    }\n-                    if (!op.capturedValues().contains(varOp.result())) {\n-                        throw new IllegalArgumentException(\"Result of a VarOp initialized with a constant,\" +\n-                                \"expected to be a captured value\");\n-                    }\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/op\/CoreOp.java","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"}]}
{"files":[{"patch":"@@ -250,14 +250,2 @@\n-        Object ret = invoke(l, r, capturedValues, new OpContext(), args);\n-        if (ret instanceof Integer i) {\n-            TypeElement rt = invokableOp.invokableType().returnType();\n-            if (rt.equals(JavaType.BOOLEAN)) {\n-                return i != 0;\n-            } else if (rt.equals(JavaType.BYTE)) {\n-                return i.byteValue();\n-            } else if (rt.equals(JavaType.CHAR)) {\n-                return (short)i.intValue();\n-            } else if (rt.equals(JavaType.SHORT)) {\n-                return i.shortValue();\n-            }\n-        }\n-        return ret;\n+        return invoke(l, r, capturedValues, new OpContext(), args);\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/code\/interpreter\/Interpreter.java","additions":2,"deletions":14,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+import java.lang.reflect.code.TypeElement;\n@@ -41,0 +42,1 @@\n+import java.lang.reflect.code.type.JavaType;\n@@ -358,1 +360,1 @@\n-                Assert.assertEquals(Interpreter.invoke(flift, args), d.testMethod.invoke(null, args)));\n+                Assert.assertEquals(invokeAndConvert(flift, args), d.testMethod.invoke(null, args)));\n@@ -365,0 +367,17 @@\n+    private static Object invokeAndConvert(CoreOps.FuncOp func, Object[] args) {\n+        Object ret = Interpreter.invoke(func, args);\n+        if (ret instanceof Integer i) {\n+            TypeElement rt = func.invokableType().returnType();\n+            if (rt.equals(JavaType.BOOLEAN)) {\n+                return i != 0;\n+            } else if (rt.equals(JavaType.BYTE)) {\n+                return i.byteValue();\n+            } else if (rt.equals(JavaType.CHAR)) {\n+                return (short)i.intValue();\n+            } else if (rt.equals(JavaType.SHORT)) {\n+                return i.shortValue();\n+            }\n+        }\n+        return ret;\n+    }\n+\n","filename":"test\/jdk\/java\/lang\/reflect\/code\/bytecode\/TestBytecode.java","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"}]}
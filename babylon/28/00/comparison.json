{"files":[{"patch":"@@ -311,0 +311,1 @@\n+            checkTensorShape(ptr, mask);\n@@ -498,0 +499,6 @@\n+            List<Integer> s = checkTensorShape(a, b);\n+            Type e = checkScalarTypes(a.eType(), b.eType());\n+            return new TensorType(e, s);\n+        }\n+\n+        static List<Integer> checkTensorShape(TensorType a, TensorType b) {\n@@ -526,2 +533,1 @@\n-            Type e = checkScalarTypes(a.eType(), b.eType());\n-            return new TensorType(e, s);\n+            return s;\n@@ -674,1 +680,1 @@\n-        };\n+        }\n@@ -835,1 +841,1 @@\n-        \/\/ Remove unsued ops\n+        \/\/ Remove unused ops\n","filename":"cr-examples\/triton\/src\/main\/java\/oracle\/code\/triton\/TritonTransformer.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-import java.util.stream.Gatherer;\n+import java.util.function.Predicate;\n@@ -52,0 +52,1 @@\n+    \/\/ Code copied into the compiler cannot depend on new gatherer API\n@@ -53,1 +54,1 @@\n-        return Stream.of(Void.class).gather(() -> (_, _, downstream) -> traversePreOrder(downstream));\n+\/*__throw new UnsupportedOperationException();__*\/        return Stream.of(Void.class).gather(() -> (_, _, downstream) -> traversePreOrder(downstream::push));\n@@ -56,2 +57,3 @@\n-    private boolean traversePreOrder(Gatherer.Downstream<? super CodeElement<?, ?>> v) {\n-        if (!v.push(this)) {\n+\/\/    private boolean traversePreOrder(Gatherer.Downstream<? super CodeElement<?, ?>> v) {\n+    private boolean traversePreOrder(Predicate<? super CodeElement<?, ?>> v) {\n+        if (!v.test(this)) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/code\/CodeElement.java","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1965,1 +1965,1 @@\n-                return operands().get(0).type();\n+                return JavaType.VOID;\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/code\/op\/CoreOps.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
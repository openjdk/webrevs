{"files":[{"patch":"@@ -35,1 +35,1 @@\n-import hat.dialect.HATPrivateVarInitOp;\n+import hat.dialect.HATPrivateInitVarOp;\n@@ -155,1 +155,1 @@\n-    T hatPrivateVarInitOp(ScopedCodeBuilderContext builderContext, HATPrivateVarInitOp hatPrivateVarInitOp);\n+    T hatPrivateVarInitOp(ScopedCodeBuilderContext builderContext, HATPrivateInitVarOp hatPrivateInitVarOp);\n@@ -189,1 +189,1 @@\n-            case HATPrivateVarInitOp $ -> hatPrivateVarInitOp(buildContext, $);\n+            case HATPrivateInitVarOp $ -> hatPrivateVarInitOp(buildContext, $);\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/BabylonOpBuilder.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-import hat.dialect.HATPrivateVarInitOp;\n+import hat.dialect.HATPrivateInitVarOp;\n@@ -324,2 +324,2 @@\n-    public T hatPrivateVarInitOp(ScopedCodeBuilderContext builderContext, HATPrivateVarInitOp hatPrivateVarInitOp) {\n-        suffix_t(hatPrivateVarInitOp.classType()).space().identifier(hatPrivateVarInitOp.varName());\n+    public T hatPrivateVarInitOp(ScopedCodeBuilderContext builderContext, HATPrivateInitVarOp hatPrivateInitVarOp) {\n+        suffix_t(hatPrivateInitVarOp.classType()).space().identifier(hatPrivateInitVarOp.varName());\n@@ -327,1 +327,1 @@\n-        Value operand = hatPrivateVarInitOp.operands().getFirst();\n+        Value operand = hatPrivateInitVarOp.operands().getFirst();\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATKernelBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import hat.device.DeviceType;\n@@ -35,0 +34,1 @@\n+import hat.dialect.HATPrivateInitVarOp;\n@@ -84,4 +84,12 @@\n-        if (op instanceof CoreOp.VarOp varOp) {\n-            varName(varOp).equals();\n-        } else if (op instanceof HATF16VarOp hatf16VarOp) {\n-            varName(hatf16VarOp).equals();\n+        \/\/ When the op is intended to operate as VarOp, then we need to include it in the following switch.\n+        \/\/ This is because HAT has its own dialect, and some of the Ops operate on HAT Types (not included in the Java\n+        \/\/ dialect). For instance, private data structures, local data structures, vector types, etc.\n+        switch (op) {\n+            case CoreOp.VarOp varOp -> varName(varOp).equals();\n+            case HATF16VarOp hatf16VarOp -> varName(hatf16VarOp).equals();\n+            case HATPrivateInitVarOp hatPrivateInitVarOp -> varName(hatPrivateInitVarOp).equals();\n+            case HATPrivateVarOp hatPrivateVarOp -> varName(hatPrivateVarOp).equals();\n+            case HATLocalVarOp hatLocalVarOp -> varName(hatLocalVarOp).equals();\n+            case HATVectorVarOp hatVectorVarOp -> varName(hatVectorVarOp).equals();\n+            case null, default -> {\n+            }\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/HATCodeBuilderWithContext.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-public class HATPrivateVarInitOp extends HATMemoryOp {\n+public class HATPrivateInitVarOp extends HATMemoryOp {\n@@ -44,1 +44,1 @@\n-    public HATPrivateVarInitOp(String varName, ClassType javaType, TypeElement typeElement, TypeElement invokeResultType, List<Value> operands) {\n+    public HATPrivateInitVarOp(String varName, ClassType javaType, TypeElement typeElement, TypeElement invokeResultType, List<Value> operands) {\n@@ -52,1 +52,1 @@\n-    public HATPrivateVarInitOp(HATPrivateVarInitOp op, CodeContext copyContext) {\n+    public HATPrivateInitVarOp(HATPrivateInitVarOp op, CodeContext copyContext) {\n@@ -62,1 +62,1 @@\n-        return new HATPrivateVarInitOp(this, copyContext);\n+        return new HATPrivateInitVarOp(this, copyContext);\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATPrivateInitVarOp.java","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATPrivateVarInitOp.java","status":"renamed"},{"patch":"@@ -32,1 +32,1 @@\n-import hat.dialect.HATPrivateVarInitOp;\n+import hat.dialect.HATPrivateInitVarOp;\n@@ -259,1 +259,1 @@\n-            HATPrivateVarInitOp privateVarOp = new HATPrivateVarInitOp(varOp.varName(),\n+            HATPrivateInitVarOp privateVarOp = new HATPrivateInitVarOp(varOp.varName(),\n","filename":"hat\/core\/src\/main\/java\/hat\/phases\/HATDialectifyMemoryPhase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -613,2 +613,2 @@\n-                        F16 acc2 = F16.add(acc, mul);   \/\/ FIXME: this is a partial fix until we support expressions such as: acc = acc <OP> val\n-                        threadResults.array((resIdxM * TN + resIdxN)).value(acc2.value());\n+                        acc = F16.add(acc, mul);\n+                        threadResults.array((resIdxM * TN + resIdxN)).value(acc.value());\n","filename":"hat\/examples\/matmul\/src\/main\/java\/matmul\/Main.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -929,2 +929,2 @@\n-                        F16 acc2 = F16.add(acc, mul);   \/\/ FIXME: this is a partial fix until we support expressions such as: acc = acc <OP> val\n-                        threadResults.array((resIdxM * TN + resIdxN)).value(acc2.value());\n+                        acc = F16.add(acc, mul);\n+                        threadResults.array((resIdxM * TN + resIdxN)).value(acc.value());\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestMatMul.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-import hat.dialect.HATPrivateVarInitOp;\n+import hat.dialect.HATPrivateInitVarOp;\n@@ -36,1 +36,0 @@\n-import hat.dialect.HATVectorOp;\n@@ -231,1 +230,1 @@\n-    public T hatPrivateVarInitOp(ScopedCodeBuilderContext builderContext, HATPrivateVarInitOp hatPrivateVarInitOp) {\n+    public T hatPrivateVarInitOp(ScopedCodeBuilderContext builderContext, HATPrivateInitVarOp hatPrivateInitVarOp) {\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/text\/JavaHATCodeBuilder.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"}]}
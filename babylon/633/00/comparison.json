{"files":[{"patch":"@@ -34,0 +34,1 @@\n+import hat.annotations.Preformatted;\n@@ -169,1 +170,1 @@\n-            builder.lineComment(\"Preformatted from annotation\");\n+\n@@ -173,1 +174,9 @@\n-                builder.preformatted(typedef.value());\n+                builder.lineComment(\"Preformatted typedef body from @Typedef annotation\");\n+                builder.typedefKeyword().space().structKeyword().space().suffix_s(typedef.name()).braceNlIndented(_->\n+                        builder.preformatted(typedef.body())\n+                ).suffix_t(typedef.name()).semicolon().nl();\n+            }\n+            var preformatted = kernelCallGraph.entrypoint.method.getAnnotation(Preformatted.class);\n+            if (preformatted!=null){\n+                builder.lineComment(\"Preformatted text from @Preformatted annotation\");\n+                builder.preformatted(preformatted.value());\n@@ -175,1 +184,1 @@\n-          \/\/  System.out.println(annotation.value());\n+            builder.lineComment(\"Preformatted code body from @Kernel annotation\");\n","filename":"hat\/backends\/ffi\/shared\/src\/main\/java\/hat\/backend\/ffi\/C99FFIBackend.java","additions":12,"deletions":3,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-public @interface TypeDef {\n+public @interface Preformatted {\n","filename":"hat\/core\/src\/main\/java\/hat\/annotations\/Preformatted.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"hat\/core\/src\/main\/java\/hat\/annotations\/TypeDef.java","status":"copied"},{"patch":"@@ -35,1 +35,2 @@\n-    String value();\n+    String name();\n+    String body();\n","filename":"hat\/core\/src\/main\/java\/hat\/annotations\/TypeDef.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import hat.annotations.Preformatted;\n@@ -210,4 +211,2 @@\n-    @TypeDef(\"\"\"\n-            typedef struct SharedS32x256Array_s{\n-                int array[32];\n-            }SharedS32x256Array_t;\n+    @Preformatted(\"\"\"\n+            \/\/ anything you like !\n@@ -215,0 +214,1 @@\n+    @TypeDef(name=\"SharedS32x256Array\", body=\"int array[32];\")\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/PrefixSum.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
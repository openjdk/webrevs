{"files":[{"patch":"@@ -1339,6 +1339,13 @@\n-            for (JCVariableDecl jcVar : variables) {\n-                \/\/ @@@ use uninitialized variable\n-                Value defaultValue = variablesStack.block.op(defaultValue(jcVar.type));\n-                Value init = convert(defaultValue, jcVar.type);\n-                Op.Result op = variablesStack.block.op(CoreOp.var(jcVar.name.toString(), typeToTypeElement(jcVar.type), init));\n-                variablesStack.localToOp.put(jcVar.sym, op);\n+            BodyStack previous = stack;\n+            \/\/ Temporarily position the stack to where the pattern variables are to be declared\n+            stack = variablesStack;\n+            try {\n+                for (JCVariableDecl jcVar : variables) {\n+                    \/\/ @@@ use uninitialized variable\n+                    Value defaultValue = append(defaultValue(jcVar.type));\n+                    Value init = convert(defaultValue, jcVar.type);\n+                    Op.Result op = append(CoreOp.var(jcVar.name.toString(), typeToTypeElement(jcVar.type), init));\n+                    stack.localToOp.put(jcVar.sym, op);\n+                }\n+            } finally {\n+                stack = previous;\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/internal\/ReflectMethods.java","additions":13,"deletions":6,"binary":false,"changes":19,"status":"modified"}]}
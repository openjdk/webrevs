{"files":[{"patch":"@@ -1,1 +1,1 @@\n--cp hat\/job.jar --enable-preview --source 26 hat.java test-suite ffi-opencl \n+-cp hat\/job.jar --enable-preview --source 26 hat.java test-suite\n","filename":"hat\/.test-suite","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -179,1 +179,1 @@\n-\n+\/\/ this is where varName is null\n@@ -225,1 +225,1 @@\n-        either(hatVectorLoadOp instanceof HATVectorOp.Shared, CodeBuilder::dot, CodeBuilder::rarrow);\n+        either( hatVectorLoadOp instanceof HATVectorOp.Shared, CodeBuilder::dot, CodeBuilder::rarrow);\n","filename":"hat\/backends\/ffi\/cuda\/src\/main\/java\/hat\/backend\/ffi\/CudaHATKernelBuilder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -98,2 +98,2 @@\n-        public HATVectorBinaryOp( BinaryOpEnum operationType, Vector.Shape vectorShape, List<Value> operands) {\n-            super(  \"null\" \/* this is clearly wrong binary ops have no name *\/,\n+        public HATVectorBinaryOp(String varName,  BinaryOpEnum operationType, Vector.Shape vectorShape, List<Value> operands) {\n+            super(  varName \/* this is clearly wrong binary ops have no name *\/,\n@@ -116,2 +116,2 @@\n-            public HATVectorAddOp(Vector.Shape vectorShape, List<Value> operands) {\n-                super( BinaryOpEnum.ADD, vectorShape, operands);\n+            public HATVectorAddOp(String varName, Vector.Shape vectorShape, List<Value> operands) {\n+                super(varName, BinaryOpEnum.ADD, vectorShape, operands);\n@@ -131,2 +131,2 @@\n-            public HATVectorDivOp( Vector.Shape vectorShape, List<Value> operands) {\n-                super(BinaryOpEnum.DIV, vectorShape, operands);\n+            public HATVectorDivOp(String varName, Vector.Shape vectorShape, List<Value> operands) {\n+                super(varName,BinaryOpEnum.DIV, vectorShape, operands);\n@@ -147,2 +147,2 @@\n-            public HATVectorMulOp( Vector.Shape vectorShape, List<Value> operands) {\n-                super( BinaryOpEnum.MUL, vectorShape, operands);\n+            public HATVectorMulOp(String varName, Vector.Shape vectorShape, List<Value> operands) {\n+                super(varName, BinaryOpEnum.MUL, vectorShape, operands);\n@@ -163,2 +163,2 @@\n-            public HATVectorSubOp( Vector.Shape vectorShape, List<Value> operands) {\n-                super(BinaryOpEnum.SUB, vectorShape, operands);\n+            public HATVectorSubOp(String varName, Vector.Shape vectorShape, List<Value> operands) {\n+                super(varName, BinaryOpEnum.SUB, vectorShape, operands);\n","filename":"hat\/core\/src\/main\/java\/hat\/dialect\/HATVectorOp.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -62,0 +62,1 @@\n+                                    invoke.varOpFromFirstUseOrThrow().varName(),\n","filename":"hat\/core\/src\/main\/java\/hat\/phases\/HATArrayViewPhase.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-    static HATVectorOp.HATVectorBinaryOp buildVectorBinaryOp(String opType, Vector.Shape vectorShape, List<Value> outputOperands) {\n+    static HATVectorOp.HATVectorBinaryOp buildVectorBinaryOp(String varName, String opType, Vector.Shape vectorShape, List<Value> outputOperands) {\n@@ -90,4 +90,4 @@\n-            case \"add\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorAddOp(  vectorShape, outputOperands);\n-            case \"sub\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorSubOp(  vectorShape, outputOperands);\n-            case \"mul\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorMulOp(  vectorShape, outputOperands);\n-            case \"div\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorDivOp(  vectorShape, outputOperands);\n+            case \"add\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorAddOp(varName,  vectorShape, outputOperands);\n+            case \"sub\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorSubOp(varName,  vectorShape, outputOperands);\n+            case \"mul\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorMulOp(varName,  vectorShape, outputOperands);\n+            case \"div\" -> new HATVectorOp.HATVectorBinaryOp.HATVectorDivOp(varName,  vectorShape, outputOperands);\n","filename":"hat\/core\/src\/main\/java\/hat\/phases\/HATPhaseUtils.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-    private HATVectorOp.HATVectorBinaryOp buildVectorBinaryOp(BinaryOpEnum opType,\n+    private HATVectorOp.HATVectorBinaryOp buildVectorBinaryOp(String varName, BinaryOpEnum opType,\n@@ -135,4 +135,4 @@\n-            case ADD -> new HATVectorOp.HATVectorBinaryOp.HATVectorAddOp( vectorShape, outputOperands);\n-            case SUB -> new HATVectorOp.HATVectorBinaryOp.HATVectorSubOp(  vectorShape, outputOperands);\n-            case MUL -> new HATVectorOp.HATVectorBinaryOp.HATVectorMulOp(  vectorShape, outputOperands);\n-            case DIV -> new HATVectorOp.HATVectorBinaryOp.HATVectorDivOp(  vectorShape, outputOperands);\n+            case ADD -> new HATVectorOp.HATVectorBinaryOp.HATVectorAddOp(varName, vectorShape, outputOperands);\n+            case SUB -> new HATVectorOp.HATVectorBinaryOp.HATVectorSubOp(varName,  vectorShape, outputOperands);\n+            case MUL -> new HATVectorOp.HATVectorBinaryOp.HATVectorMulOp(varName,  vectorShape, outputOperands);\n+            case DIV -> new HATVectorOp.HATVectorBinaryOp.HATVectorDivOp(varName,  vectorShape, outputOperands);\n@@ -156,0 +156,1 @@\n+                var varOp = invokeToVar.get(invokeOp);\n@@ -157,0 +158,1 @@\n+                        varOp.varName(),\n@@ -245,0 +247,1 @@\n+                             HATPhaseUtils.findVectorVarNameOrNull(invokeOp.operands().getFirst()),\n","filename":"hat\/core\/src\/main\/java\/hat\/phases\/HATVectorPhase.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -5,1 +5,0 @@\n-    <mapping directory=\"$PROJECT_DIR$\/..\/..\/..\/beehive-spirv-toolkit\" vcs=\"Git\" \/>\n","filename":"hat\/intellij\/.idea\/vcs.xml","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}
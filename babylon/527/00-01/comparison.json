{"files":[{"patch":"@@ -97,1 +97,1 @@\n-    public CudaHATKernelBuilder blockSize(int id) {\n+    public CudaHATKernelBuilder blockId(int id) {\n@@ -102,1 +102,0 @@\n-\n","filename":"hat\/backends\/ffi\/cuda\/src\/main\/java\/hat\/backend\/ffi\/CudaHATKernelBuilder.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-    public OpenCLHATKernelBuilder blockSize(int id) {\n+    public OpenCLHATKernelBuilder blockId(int id) {\n","filename":"hat\/backends\/ffi\/opencl\/src\/main\/java\/hat\/backend\/ffi\/OpenCLHATKernelBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -362,11 +362,0 @@\n-\/\/ class ThreadMesh {\n-\/\/ public:\n-\/\/     int x;\n-\/\/     int maxX;\n-\/\/     int y;\n-\/\/     int maxY;\n-\/\/     int z;\n-\/\/     int maxZ;\n-\/\/     int dimensions;\n-\/\/ };\n-\n@@ -382,0 +371,2 @@\n+\n+    \/\/ global index\n@@ -385,0 +376,7 @@\n+\n+    \/\/ global sizes\n+    int gsx;\n+    int gsy;\n+    int gsz;\n+\n+    \/\/ local index\n@@ -388,0 +386,2 @@\n+\n+    \/\/ local size\n@@ -391,0 +391,2 @@\n+\n+    \/\/ Group index\n@@ -394,2 +396,0 @@\n-    \/\/ ThreadMesh globalMesh;\n-    \/\/ ThreadMesh localMesh;\n","filename":"hat\/backends\/ffi\/shared\/src\/main\/native\/include\/shared.h","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -76,1 +76,1 @@\n-    public OpenCLHatKernelBuilder blockSize(int id) {\n+    public OpenCLHatKernelBuilder blockId(int id) {\n","filename":"hat\/backends\/jextracted\/opencl\/src\/main\/java\/hat\/backend\/jextracted\/OpenCLHatKernelBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,3 +54,7 @@\n-    final public int gix;\n-    final public int giy;\n-    final public int giz;\n+    public int gix;\n+    public int giy;\n+    public int giz;\n+\n+    public final int gsx;\n+    public final int gsy;\n+    public final int gsz;\n@@ -68,4 +72,4 @@\n-    \/\/ Specify number of blocks per dimension\n-    public int bsx;\n-    public int bsy;\n-    public int bsz;\n+    \/\/ Specify group\/block index\n+    public int bix;\n+    public int biy;\n+    public int biz;\n@@ -83,3 +87,3 @@\n-        this.gix = computeRange.getGlobalMesh().getX();\n-        this.giy = computeRange.getGlobalMesh().getY();\n-        this.giz = computeRange.getGlobalMesh().getZ();\n+        this.gsx = computeRange.getGlobalMesh().getX();\n+        this.gsy = computeRange.getGlobalMesh().getY();\n+        this.gsz = computeRange.getGlobalMesh().getZ();\n@@ -99,3 +103,3 @@\n-        this.gix = maxX;\n-        this.giy = 0;\n-        this.giz = 0;\n+        this.gsx = maxX;\n+        this.gsy = 0;\n+        this.gsz = 0;\n@@ -117,3 +121,3 @@\n-        this.gix = maxX;\n-        this.giy = maxY;\n-        this.giz = 0;\n+        this.gsx = maxX;\n+        this.gsy = maxY;\n+        this.gsz = 0;\n@@ -137,3 +141,3 @@\n-        this.gix = maxX;\n-        this.giy = maxY;\n-        this.giz = maxZ;\n+        this.gsx = maxX;\n+        this.gsy = maxY;\n+        this.gsz = maxZ;\n","filename":"hat\/core\/src\/main\/java\/hat\/KernelContext.java","additions":23,"deletions":19,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -72,0 +72,7 @@\n+    int gsx();\n+    void gsx(int gsx);\n+    int gsy();\n+    void gsy(int gsy);\n+    int gsz();\n+    void gsz(int gsz);\n+\n@@ -80,1 +87,1 @@\n-    \/\/ Block size\n+    \/\/ Local group size \/ block size\n@@ -101,0 +108,1 @@\n+                            \"gsx\", \"gsy\", \"gsz\",  \/\/ global sizes\n@@ -119,0 +127,5 @@\n+\n+        kernelContext.gsy(0);\n+        kernelContext.giy(0);\n+        kernelContext.giz(0);\n+\n@@ -122,0 +135,1 @@\n+\n@@ -125,0 +139,1 @@\n+\n","filename":"hat\/core\/src\/main\/java\/hat\/buffer\/KernelContext.java","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -86,0 +86,4 @@\n+                    intDeclaration(\"gsx\").semicolonNl();\n+                    intDeclaration(\"gsy\").semicolonNl();\n+                    intDeclaration(\"gsz\").semicolonNl();\n+\n@@ -94,3 +98,3 @@\n-                    intDeclaration(\"bsx\").semicolonNl();\n-                    intDeclaration(\"bsy\").semicolonNl();\n-                    intDeclaration(\"bsz\").semicolonNl();\n+                    intDeclaration(\"bix\").semicolonNl();\n+                    intDeclaration(\"biy\").semicolonNl();\n+                    intDeclaration(\"biz\").semicolonNl();\n@@ -119,0 +123,1 @@\n+        identifier(\"kc\").rarrow().identifier(\"gsx\").equals().globalSize(0).semicolon().nl();\n@@ -121,1 +126,2 @@\n-        identifier(\"kc\").rarrow().identifier(\"bsx\").equals().blockSize(0).semicolon().nl();\n+        identifier(\"kc\").rarrow().identifier(\"bix\").equals().blockId(0).semicolon().nl();\n+\n@@ -128,0 +134,1 @@\n+            identifier(\"kc\").rarrow().identifier(\"gsy\").equals().globalSize(1).semicolon().nl();\n@@ -130,1 +137,1 @@\n-            identifier(\"kc\").rarrow().identifier(\"bsy\").equals().blockSize(1).semicolon().nl();\n+            identifier(\"kc\").rarrow().identifier(\"biy\").equals().blockId(1).semicolon().nl();\n@@ -132,0 +139,1 @@\n+\n@@ -137,0 +145,1 @@\n+            identifier(\"kc\").rarrow().identifier(\"gsz\").equals().globalSize(1).semicolon().nl();\n@@ -139,1 +148,1 @@\n-            identifier(\"kc\").rarrow().identifier(\"bsz\").equals().blockSize(2).semicolon().nl();\n+            identifier(\"kc\").rarrow().identifier(\"biz\").equals().blockId(2).semicolon().nl();\n@@ -267,1 +276,1 @@\n-    public abstract T blockSize(int id);\n+    public abstract T blockId(int id);\n","filename":"hat\/core\/src\/main\/java\/hat\/codebuilders\/C99HATKernelBuilder.java","additions":16,"deletions":7,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-        int bsx = context.bsx;\n+        int bix = context.bix;\n@@ -60,1 +60,1 @@\n-        arrayC.array(gx, bsx);\n+        arrayC.array(gx, bix);\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/LocalIds.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
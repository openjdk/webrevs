{"files":[{"patch":"@@ -2794,1 +2794,0 @@\n-\n@@ -2849,1 +2848,1 @@\n-                            case CoreOp.YieldOp yop when isLastLabel && this instanceof SwitchExpressionOp -> {\n+                            case CoreOp.YieldOp _ when isLastLabel && this instanceof SwitchExpressionOp -> {\n@@ -2857,1 +2856,1 @@\n-                            case Lowerable lop -> block = lop.lower(block);\n+                            case Lowerable lop -> block = lop.lower(block, opT);\n@@ -2865,1 +2864,1 @@\n-                            case CoreOp.YieldOp yop when this instanceof SwitchStatementOp -> block.op(branch(exit.successor()));\n+                            case CoreOp.YieldOp _ when this instanceof SwitchStatementOp -> block.op(branch(exit.successor()));\n@@ -2867,1 +2866,1 @@\n-                            case Lowerable lop -> block = lop.lower(block);\n+                            case Lowerable lop -> block = lop.lower(block, opT);\n","filename":"src\/jdk.incubator.code\/share\/classes\/jdk\/incubator\/code\/dialect\/java\/JavaOp.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -510,0 +510,26 @@\n+    @Test\n+    void testTryAndSwitch() {\n+        CoreOp.FuncOp lmodel = lower(\"tryAndSwitch\");\n+        String[] args = {\"A\", \"B\"};\n+        for (String arg : args) {\n+            Assert.assertEquals(Interpreter.invoke(MethodHandles.lookup(), lmodel, arg), tryAndSwitch(arg));\n+        }\n+    }\n+\n+    @CodeReflection\n+    private static List<String> tryAndSwitch(String s) {\n+        List<String> r = new ArrayList<>();\n+        try {\n+            switch (s) {\n+                case \"A\":\n+                    r.add(\"A\");\n+                    return r;\n+                default:\n+                    r.add(\"B\");\n+            }\n+        } finally {\n+            r.add(\"finally\");\n+        }\n+        return r;\n+    }\n+\n","filename":"test\/jdk\/java\/lang\/reflect\/code\/TestSwitchStatementOp.java","additions":26,"deletions":0,"binary":false,"changes":26,"status":"modified"}]}
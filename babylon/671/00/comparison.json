{"files":[{"patch":"@@ -267,6 +267,6 @@\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(6)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(7)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(8)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(9)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(10)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(11)).idx(),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(6)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(7)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(8)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(9)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(10)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(11)),\n@@ -279,5 +279,5 @@\n-                                           oldMesh.get().vecEntries.get(s32xN.asInt(6)).idx(),\n-                                           oldMesh.get().vecEntries.get(s32xN.asInt(7)).idx(),\n-                                           oldMesh.get().vecEntries.get(s32xN.asInt(8)).idx(),\n-                                           oldMesh.get().vecEntries.get(s32xN.asInt(9)).idx(),\n-                                           oldMesh.get().vecEntries.get(s32xN.asInt(10)).idx(),\n+                                           oldMesh.get().vecEntries.get(s32xN.asInt(6)),\n+                                           oldMesh.get().vecEntries.get(s32xN.asInt(7)),\n+                                           oldMesh.get().vecEntries.get(s32xN.asInt(8)),\n+                                           oldMesh.get().vecEntries.get(s32xN.asInt(9)),\n+                                           oldMesh.get().vecEntries.get(s32xN.asInt(10)),\n@@ -290,4 +290,4 @@\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(6)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(7)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(8)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(9)).idx(),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(6)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(7)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(8)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(9)),\n@@ -300,3 +300,3 @@\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(6)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(7)).idx(),\n-                                        oldMesh.get().vecEntries.get(s32xN.asInt(8)).idx(),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(6)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(7)),\n+                                        oldMesh.get().vecEntries.get(s32xN.asInt(8)),\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/EliteMeshReader.java","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -1,97 +0,0 @@\n-\/*\n- * Copyright (c) 2024, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/*\n- *  Based on mesh descriptions found here\n- *      https:\/\/6502disassembly.com\/a2-elite\/\n- *      https:\/\/6502disassembly.com\/a2-elite\/meshes.html\n- *\n- *\/\n-package view;\n-\n-import view.f32.F32Triangle2D;\n-import view.f32.F32Vec2;\n-\n-import java.awt.Color;\n-import java.awt.Graphics2D;\n-\n-public record Graphics2DRenderer(int width, int height, DisplayMode displayMode) implements Renderer {\n-    static private Renderer of(int width, int height, DisplayMode displayMode) {\n-\n-        return new Graphics2DRenderer(width, height,displayMode);\n-    }\n-\n-    static public Renderer wireOf(int width, int height) {\n-        return of(width, height, DisplayMode.WIRE);\n-    }\n-\n-    static public Renderer fillOf(int width, int height) {\n-        return of(width, height, DisplayMode.FILL);\n-    }\n-\n-\n-    @Override\n-    public void render() {\n-\n-    }\n-\n-    @Override\n-    public void paint(Graphics2D g) {\n-\n-        g.setColor(Color.BLACK);\n-        g.fillRect(0,width,0,height);\n-        Color color =new Color(0x404040);\n-\n-\n-            for (int t = 0; t < F32Triangle2D.f32Triangle2DPool.count; t++) {\n-                int v0 = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.V0];\n-                int v1 = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.V1];\n-                int v2 = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.V2];\n-                float x0 = F32Vec2.f32Vec2Pool.entries[v0 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.X];\n-                float y0 = F32Vec2.f32Vec2Pool.entries[v0 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.Y];\n-                float x1 = F32Vec2.f32Vec2Pool.entries[v1 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.X];\n-                float y1 = F32Vec2.f32Vec2Pool.entries[v1 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.Y];\n-                float x2 = F32Vec2.f32Vec2Pool.entries[v2 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.X];\n-                float y2 = F32Vec2.f32Vec2Pool.entries[v2 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.Y];\n-                color =new Color( F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.RGB]);\n-                g.setColor(color);\n-                g.drawLine((int)(width*x0),(int)(height*y0),(int)(width*x1),(int)(height*y1));\n-                \/\/ if (displayMode.filled && F32Triangle2D.intriangle(x, y, x0, y0, x1, y1, x2, y2)) {\n-                color =new Color( F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.RGB]);\n-                \/\/} else if (displayMode.wire && F32Triangle2D.onedge(x, y, x0, y0, x1, y1, x2, y2)) {\n-                \/\/  color = new Color(F32Triangle2D.pool.entries[F32Triangle2D.pool.stride * t + F32Triangle2D.RGB]);\n-                \/\/ }\n-\n-            }\n-\n-        \/\/ IntStream.range(0, width * height).parallel().forEach(id -> kernel(id, old));\n-        \/\/System.arraycopy(offscreenRgb, 0, ((DataBufferInt) image.getRaster().getDataBuffer()).getData(), 0, offscreenRgb.length);\n-\n-        \/*\n-        g.drawImage(image, 0, 0, width, height, null); *\/\n-    }\n-\n-\n-}\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/Graphics2DRenderer.java","additions":0,"deletions":97,"binary":false,"changes":97,"status":"deleted"},{"patch":"@@ -47,1 +47,1 @@\n-        args.add(\"COBRA\");\n+       args.add(\"COBRA\");\n@@ -50,3 +50,1 @@\n-        var wire =\/\/RasterizingRenderer.fillOf(1024, 1024);\n-              \/\/  Graphics2DRenderer.wireOf(1024,1024);\n-                RasterizingRenderer.wireOf(1024, 1024);\n+        var wire = RasterizingRenderer.wireOf(1024, 1024);\n@@ -55,1 +53,1 @@\n-            for (int x = -2; x < 6; x += 2) {\n+          \/\/  for (int x = -2; x < 6; x += 2) {\n@@ -58,3 +56,1 @@\n-\n-                            F32Mesh3D.of(\"cubeoctahedron\").cubeoctahedron(x, y, z, 2).fin();\n-\n+                            F32Mesh3D.of(\"cubeoctahedron\").cubeoctahedron(0, y, z, 2).fin();\n@@ -63,1 +59,1 @@\n-            }\n+           \/\/ }\n@@ -66,1 +62,3 @@\n-        ViewFrame viewFrame = (args.size() > 0 ? ViewFrame.of(\"view\",wire, elite): ViewFrame.of(\"view\", fill,cubeoctahedron));\n+        ViewFrame viewFrame = (args.size() > 0\n+                ? ViewFrame.of(\"view\",fill, elite)\n+                : ViewFrame.of(\"true\", fill,cubeoctahedron));\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/Main.java","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -42,1 +42,2 @@\n-public record RasterizingRenderer(int width, int height,  DisplayMode displayMode, BufferedImage image, int[] offscreenRgb) implements Renderer {\n+public record RasterizingRenderer(int width, int height, DisplayMode displayMode, BufferedImage image,\n+                                  int[] offscreenRgb) implements Renderer {\n@@ -60,18 +61,3 @@\n-\n-            for (int t = 0; t < F32Triangle2D.f32Triangle2DPool.count; t++) {\n-                int v0 = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.V0];\n-                int v1 = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.V1];\n-                int v2 = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.V2];\n-                float x0 = F32Vec2.f32Vec2Pool.entries[v0 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.X];\n-                float y0 = F32Vec2.f32Vec2Pool.entries[v0 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.Y];\n-                float x1 = F32Vec2.f32Vec2Pool.entries[v1 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.X];\n-                float y1 = F32Vec2.f32Vec2Pool.entries[v1 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.Y];\n-                float x2 = F32Vec2.f32Vec2Pool.entries[v2 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.X];\n-                float y2 = F32Vec2.f32Vec2Pool.entries[v2 * F32Vec2.f32Vec2Pool.stride + F32Vec2.F32Vec2Pool.Y];\n-                if (displayMode.filled && F32Triangle2D.intriangle(x, y, x0, y0, x1, y1, x2, y2)) {\n-                    col = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.RGB];\n-                } else if (displayMode.wire && F32Triangle2D.onedge(x, y, x0, y0, x1, y1, x2, y2)) {\n-                    col = F32Triangle2D.f32Triangle2DPool.entries[F32Triangle2D.f32Triangle2DPool.stride * t + F32Triangle2D.F32Triangle2DPool.RGB];\n-                }\n-            }\n-\n+        for (int t = 0; t < F32Triangle2D.f32Triangle2DPool.count; t++) {\n+            col = F32Triangle2D.rgb(displayMode.filled,x, y, F32Triangle2D.f32Triangle2DPool.idx(t),col);\n+        }\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/RasterizingRenderer.java","additions":5,"deletions":19,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -66,3 +66,3 @@\n-    F32Vec3 cameraVec3Old;\n-    F32Matrix4x4 projF32Mat4x4Old;\n-    F32Vec3 moveAwayVec3Old;\n+    F32Vec3 cameraVec3;\n+    F32Matrix4x4 projF32Mat4x4;\n+    F32Vec3 moveAwayVec3;\n@@ -70,1 +70,1 @@\n-    ModelHighWaterMark markOld;\n+    ModelHighWaterMark mark;\n@@ -75,1 +75,0 @@\n-\n@@ -113,1 +112,1 @@\n-        float quarterHeight = renderer.height() \/ 4f;\/\/??\n+        float quarterHeight = renderer.height() \/ 4f;\n@@ -115,1 +114,1 @@\n-        cameraVec3Old = F32Vec3.F32Vec3Impl.of(originX, originY, originZ);\n+        cameraVec3 = F32Vec3.f32Vec3Pool.of(originX, originY, originZ);\n@@ -118,4 +117,3 @@\n-        projF32Mat4x4Old = F32Matrix4x4.mulMat4(projF32Mat4x4_2, F32Matrix4x4.transformation(halfHeight));\n-        moveAwayVec3Old = F32Vec3.F32Vec3Impl.of(originX, originY, moveAwayZ);\n-        markOld = new ModelHighWaterMark();\/\/ mark all buffers.  transforms create new points so this allows us to garbage colect\n-\n+        projF32Mat4x4 = F32Matrix4x4.mulMat4(projF32Mat4x4_2, F32Matrix4x4.transformation(halfHeight));\n+        moveAwayVec3 = F32Vec3.f32Vec3Pool.of(originX, originY, moveAwayZ);\n+        mark = new ModelHighWaterMark();\/\/ mark all buffers.  transforms create new points so this allows us to garbage colect\n@@ -138,2 +136,2 @@\n-        markOld.resetAll();\n-        var xyzRot4x4 = new F32Matrix4x4.Rotation(theta * 2, theta \/ 2, theta);\n+        mark.resetAll();\n+        var xyzRot4x4 = F32Matrix4x4.rotation(theta * 2, theta \/ 2, theta);\n@@ -143,2 +141,0 @@\n-        for (F32Triangle3D t : F32Triangle3D.F32Triangle3DImpl.all()) {\n-            \/\/ here we rotate and then move into the Z plane.\n@@ -146,1 +142,5 @@\n-            t = F32Triangle3D.addVec3(F32Triangle3D.mulMat4(t, xyzRot4x4), moveAwayVec3Old);\n+        for (int tidx = 0; tidx < F32Triangle3D.f32Triangle3DPool.count; tidx++) {\n+            var t = (F32Triangle3D) F32Triangle3D.f32Triangle3DPool.idx(tidx);\n+\n+            \/\/ here we rotate and then move into the Z plane.\n+            t = F32Triangle3D.addVec3(F32Triangle3D.mulMat4(t, xyzRot4x4), moveAwayVec3);\n@@ -161,1 +161,1 @@\n-                F32Vec3 cameraDeltaVec3 = F32Vec3.subVec3(F32Triangle3D.getCentre(t), cameraVec3Old);\/\/ clearly our default camera is 0,0,0\n+                F32Vec3 cameraDeltaVec3 = F32Vec3.subVec3(F32Triangle3D.getCentre(t), cameraVec3);\/\/ clearly our default camera is 0,0,0\n@@ -178,1 +178,1 @@\n-                t = F32Triangle3D.mulMat4(t, projF32Mat4x4Old);\/\/  projection matrix also scales to screen and translate half a screen\n+                t = F32Triangle3D.mulMat4(t, projF32Mat4x4);\/\/  projection matrix also scales to screen and translate half a screen\n@@ -184,0 +184,1 @@\n+\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/ViewFrame.java","additions":19,"deletions":18,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-    int idx();\n+  \/\/  int idx();\n@@ -358,4 +358,0 @@\n-        @Override\n-        default int idx() {\n-            return id().idx();\n-        }\n@@ -495,108 +491,0 @@\n-    \/\/https:\/\/medium.com\/swlh\/understanding-3d-matrix-transforms-with-pixijs-c76da3f8bd8\n-    record Transformation(F32Matrix4x4 id) implements Impl {\n-        public Transformation(float x, float y, float z) {\n-            this(F32Matrix4x4.f32matrix4x4Pool.of(\n-                    1f, 0f, 0f, 0f,\n-                    0f, 1f, 0f, 0f,\n-                    0f, 0f, 1f, 0f,\n-                    x, y, z, 1f\n-            ));\n-        }\n-\n-        public static Transformation of(float v) {\n-            return new Transformation(v, v, v);\n-        }\n-    }\n-\n-    \/\/ https:\/\/medium.com\/swlh\/understanding-3d-matrix-transforms-with-pixijs-c76da3f8bd8\n-\n-    record Scale(F32Matrix4x4 id) implements Impl {\n-        Scale(float x, float y, float z) {\n-            this(F32Matrix4x4.f32matrix4x4Pool.of(\n-                            x, 0f, 0f, 0f,\n-                            0f, y, 0f, 0f,\n-                            0f, 0f, z, 0f,\n-                            0f, 0f, 0f, 1f\n-                    )\n-            );\n-        }\n-\n-        public static Scale of(float v) {\n-            return new Scale(v, v, v);\n-        }\n-    }\n-\n-    record Rotation(F32Matrix4x4 id) implements Impl {\n-\n-        static F32Matrix4x4 ofX(float thetaRadians) {\n-            float sinTheta = (float) Math.sin(thetaRadians);\n-            float cosTheta = (float) Math.cos(thetaRadians);\n-            return F32Matrix4x4.f32matrix4x4Pool.of(\n-                    1, 0, 0, 0,\n-                    0, cosTheta, -sinTheta, 0,\n-                    0, sinTheta, cosTheta, 0,\n-                    0, 0, 0, 1\n-\n-            );\n-        }\n-\n-        static F32Matrix4x4 ofZ(float thetaRadians) {\n-            float sinTheta = (float) Math.sin(thetaRadians);\n-            float cosTheta = (float) Math.cos(thetaRadians);\n-            return F32Matrix4x4.f32matrix4x4Pool.of(\n-                    cosTheta, sinTheta, 0, 0,\n-                    -sinTheta, cosTheta, 0, 0,\n-                    0, 0, 1, 0,\n-                    0, 0, 0, 1\n-            );\n-        }\n-\n-        static F32Matrix4x4 ofY(float thetaRadians) {\n-            float sinTheta = (float) Math.sin(thetaRadians);\n-            float cosTheta = (float) Math.cos(thetaRadians);\n-            return F32Matrix4x4.f32matrix4x4Pool.of(\n-                    cosTheta, 0, sinTheta, 0,\n-                    0, 1, 0, 0,\n-                    -sinTheta, 0, cosTheta, 0,\n-                    0, 0, 0, 1\n-            );\n-        }\n-\n-\n-        public Rotation(float thetaX, float thetaY, float thetaZ) {\n-            this(F32Matrix4x4.mulMat4(F32Matrix4x4.mulMat4(ofX(thetaX), ofY(thetaY)), ofZ(thetaZ)));\n-        }\n-\n-    }\n-\n-    \/*\n-                 https:\/\/youtu.be\/ih20l3pJoeU?t=973\n-                 https:\/\/stackoverflow.com\/questions\/28075743\/how-do-i-compose-a-rotation-matrix-with-human-readable-angles-from-scratch\/28084380#28084380^\n-                --------------------            far\n-                 \\                \/              ^    ^\n-                  \\              \/               |    |   far-near\n-                   \\            \/                |    |\n-                    \\__________\/         near    |    v\n-                                          ^      |\n-                                          v      v\n-                        \\^\/\n-                      [x,y,z]\n-\n-               *\/\n-    record Projection(F32Matrix4x4 id) implements Impl {\n-        public static Projection of(F32Matrix4x4 id) {\n-            return new Projection(id);\n-        }\n-\n-        public static Projection of(float width, float height, float near, float far, float fieldOfViewDeg) {\n-            float aspectRatio = height \/ width;\n-            float fieldOfViewRadians = (float) (1.0f \/ Math.tan((fieldOfViewDeg * 0.5f) \/ 180.0 * Math.PI));\n-            return of(F32Matrix4x4.f32matrix4x4Pool.of(\n-                    aspectRatio * fieldOfViewRadians, 0f, 0f, 0f,\n-                    0f, fieldOfViewRadians, 0f, 0f,\n-                    0f, 0f, far \/ (far - near), (-far * near) \/ (far - near),\n-                    0f, 0f, (-far * near) \/ (far - near), 0f));\n-\n-        }\n-    }\n-\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/F32Matrix4x4.java","additions":1,"deletions":113,"binary":false,"changes":114,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+\n@@ -50,2 +51,3 @@\n-    public Face tri(int v0Idx, int v1Idx, int v2Idx, int rgb) {\n-        Face face =Face.of(F32Triangle3D.f32Triangle3DPool.of(F32Vec3.f32Vec3Pool.idx(v0Idx), F32Vec3.f32Vec3Pool.idx(v1Idx), F32Vec3.f32Vec3Pool.idx(v2Idx), rgb));\n+\n+    public Face tri(F32Vec3 v0, F32Vec3 v1, F32Vec3 v2, int rgb) {\n+        Face face =Face.of(F32Triangle3D.f32Triangle3DPool.of(v0, v1, v2, rgb));\n@@ -56,1 +58,0 @@\n-\n@@ -58,9 +59,3 @@\n-        var  triSumIdx = StreamMutable.of(0);\n-        var first  = StreamMutable.of(true);\n-        faces.forEach(face ->{\n-            if (first.get().equals(true)){\n-                triSumIdx.set(face.centerVec3Idx.idx());\n-                first.set(false);\n-            }else {\n-                triSumIdx.set(F32Vec3.addVec3(F32Vec3.f32Vec3Pool.idx(triSumIdx.get()), face.centerVec3Idx).idx());\n-            }\n+        var  triSumIdx =StreamMutable.of(faces.getFirst().centerVec3Idx);\n+        faces.stream().skip(1).forEach(face -> {\n+            triSumIdx.set(F32Vec3.addVec3(triSumIdx.get(), face.centerVec3Idx));\n@@ -68,1 +63,1 @@\n-        var meshCenterVec3 = F32Vec3.divScaler(F32Vec3.f32Vec3Pool.idx(triSumIdx.get()), faces.size());\n+        var meshCenterVec3 = F32Vec3.divScaler(triSumIdx.get(), faces.size());\n@@ -79,1 +74,1 @@\n-    public F32Mesh3D quad(int v0, int v1, int v2, int v3, int rgb) {\n+    public F32Mesh3D quad(F32Vec3 v0, F32Vec3 v1, F32Vec3 v2, F32Vec3 v3, int rgb) {\n@@ -95,1 +90,1 @@\n-    public F32Mesh3D pent(int v0, int v1, int v2, int v3, int v4, int rgb) {\n+    public F32Mesh3D pent(F32Vec3 v0, F32Vec3 v1, F32Vec3 v2, F32Vec3 v3, F32Vec3 v4, int rgb) {\n@@ -111,1 +106,1 @@\n-    public F32Mesh3D hex(int v0, int v1, int v2, int v3, int v4, int v5, int rgb) {\n+    public F32Mesh3D hex(F32Vec3 v0, F32Vec3 v1, F32Vec3 v2, F32Vec3 v3, F32Vec3 v4, F32Vec3 v5, int rgb) {\n@@ -131,1 +126,1 @@\n-               a-----------d\n+              v0-----------v3\n@@ -134,1 +129,1 @@\n-           h------------g  |\n+          v6------------v7 |\n@@ -136,1 +131,1 @@\n-           |   b--------|--c\n+           |  v1--------|--v2\n@@ -139,1 +134,1 @@\n-           e------------f\n+          v4------------v5\n@@ -149,14 +144,14 @@\n-        var a = vec3(x - (s * .5f), y - (s * .5f), z - (s * .5f));  \/\/000  000 111 111\n-        var b = vec3(x - (s * .5f), y + (s * .5f), z - (s * .5f));  \/\/010  010 101 101\n-        var c = vec3(x + (s * .5f), y + (s * .5f), z - (s * .5f));  \/\/110  011 001 100\n-        var d = vec3(x + (s * .5f), y - (s * .5f), z - (s * .5f));  \/\/100  001 011 110\n-        var e = vec3(x - (s * .5f), y + (s * .5f), z + (s * .5f));  \/\/011  110 100 001\n-        var f = vec3(x + (s * .5f), y + (s * .5f), z + (s * .5f));  \/\/111  111 000 000\n-        var g = vec3(x + (s * .5f), y - (s * .5f), z + (s * .5f));  \/\/101  101 010 010\n-        var h = vec3(x - (s * .5f), y - (s * .5f), z + (s * .5f));  \/\/001  100 110 011\n-        quad(a.idx(), b.idx(), c.idx(), d.idx(), 0xff0000); \/\/front\n-        quad(b.idx(), e.idx(), f.idx(), c.idx(), 0x0000ff); \/\/top\n-        quad(d.idx(), c.idx(), f.idx(), g.idx(), 0xffff00); \/\/right\n-        quad(h.idx(), e.idx(), b.idx(), a.idx(), 0xffffff); \/\/left\n-        quad(g.idx(), f.idx(), e.idx(), h.idx(), 0x00ff00);\/\/back\n-        quad(g.idx(), h.idx(), a.idx(), d.idx(), 0xffa500);\/\/bottom\n+        var v0 = vec3(x - (s * .5f), y - (s * .5f), z - (s * .5f));  \/\/000  000 111 111\n+        var v1 = vec3(x - (s * .5f), y + (s * .5f), z - (s * .5f));  \/\/010  010 101 101\n+        var v2 = vec3(x + (s * .5f), y + (s * .5f), z - (s * .5f));  \/\/110  011 001 100\n+        var v3 = vec3(x + (s * .5f), y - (s * .5f), z - (s * .5f));  \/\/100  001 011 110\n+        var v4 = vec3(x - (s * .5f), y + (s * .5f), z + (s * .5f));  \/\/011  110 100 001\n+        var v5 = vec3(x + (s * .5f), y + (s * .5f), z + (s * .5f));  \/\/111  111 000 000\n+        var v6 = vec3(x + (s * .5f), y - (s * .5f), z + (s * .5f));  \/\/101  101 010 010\n+        var v7 = vec3(x - (s * .5f), y - (s * .5f), z + (s * .5f));  \/\/001  100 110 011\n+        quad(v0, v1, v2, v3, 0xff0000); \/\/front\n+        quad(v1, v4, v5, v2, 0x0000ff); \/\/top\n+        quad(v3, v2, v5, v6, 0xffff00); \/\/right\n+        quad(v7, v4, v1, v0, 0xffffff); \/\/left\n+        quad(v6, v5, v4, v7, 0x00ff00);\/\/back\n+        quad(v6, v7, v0, v3, 0xffa500);\/\/bottom\n@@ -190,20 +185,20 @@\n-        tri(v1.idx(), v2.idx(), v3.idx(), 0xff0000);\n-        tri(v4.idx(), v2.idx(), v5.idx(), 0x7f8000);\n-        tri(v5.idx(), v2.idx(), v1.idx(), 0x3fc000);\n-        tri(v6.idx(), v7.idx(), v8.idx(), 0x1fe000);\n-        tri(v9.idx(), v10.idx(), v11.idx(), 0x0ff000);\n-        tri(v8.idx(), v2.idx(), v4.idx(), 0x07f800);\n-        tri(v5.idx(), v1.idx(), v9.idx(), 0x03fc00);\n-        tri(v3.idx(), v7.idx(), v10.idx(), 0x01fe00);\n-        tri(v8.idx(), v7.idx(), v2.idx(), 0x00ff00);\n-        tri(v2.idx(), v7.idx(), v3.idx(), 0x007f80);\n-        tri(v8.idx(), v4.idx(), v6.idx(), 0x003fc0);\n-        tri(v6.idx(), v4.idx(), v12.idx(), 0x001fe0);\n-        tri(v11.idx(), v12.idx(), v9.idx(), 0x000ff0);\n-        tri(v9.idx(), v12.idx(), v5.idx(), 0x0007f8);\n-        tri(v7.idx(), v6.idx(), v10.idx(), 0x0003fc);\n-        tri(v6.idx(), v11.idx(), v10.idx(), 0x0001fe);\n-        tri(v1.idx(), v3.idx(), v9.idx(), 0x0000ff);\n-        tri(v9.idx(), v3.idx(), v10.idx(), 0x00007f);\n-        tri(v12.idx(), v4.idx(), v5.idx(), 0x00003f);\n-        tri(v6.idx(), v12.idx(), v11.idx(), 0x00001f);\n+        tri(v1, v2, v3, 0xff0000);\n+        tri(v4, v2, v5, 0x7f8000);\n+        tri(v5, v2, v1, 0x3fc000);\n+        tri(v6, v7, v8, 0x1fe000);\n+        tri(v9, v10, v11, 0x0ff000);\n+        tri(v8, v2, v4, 0x07f800);\n+        tri(v5, v1, v9, 0x03fc00);\n+        tri(v3, v7, v10, 0x01fe00);\n+        tri(v8, v7, v2, 0x00ff00);\n+        tri(v2, v7, v3, 0x007f80);\n+        tri(v8, v4, v6, 0x003fc0);\n+        tri(v6, v4, v12, 0x001fe0);\n+        tri(v11, v12, v9, 0x000ff0);\n+        tri(v9, v12, v5, 0x0007f8);\n+        tri(v7, v6, v10, 0x0003fc);\n+        tri(v6, v11, v10, 0x0001fe);\n+        tri(v1, v3, v9, 0x0000ff);\n+        tri(v9, v3, v10, 0x00007f);\n+        tri(v12, v4, v5, 0x00003f);\n+        tri(v6, v12, v11, 0x00001f);\n@@ -225,1 +220,1 @@\n-    public  F32Vec3.F32Vec3Pool.Idx  vec3(float x, float y, float z) {\n+    public  F32Vec3  vec3(float x, float y, float z) {\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/F32Mesh3D.java","additions":50,"deletions":55,"binary":false,"changes":105,"status":"modified"},{"patch":"@@ -28,0 +28,8 @@\n+    F32Vec2 v0();\n+\n+    F32Vec2 v1();\n+\n+    F32Vec2 v2();\n+\n+    int rgb();\n+\n@@ -32,0 +40,4 @@\n+    class F32Triangle2DPool extends Pool<F32Triangle2D.F32Triangle2DPool> {\n+        static int V0 = 0;\n+        static int V1 = 1;\n+        static int V2 = 2;\n@@ -33,1 +45,0 @@\n-    F32Vec2 v0();\n@@ -35,1 +46,4 @@\n-    F32Vec2 v1();\n+        public record Idx(F32Triangle2DPool pool, int idx) implements Pool.Idx<F32Triangle2D.F32Triangle2DPool>, F32Triangle2D {\n+            int v0Idx() {\n+                return pool.stride * idx + V0;\n+            }\n@@ -37,1 +51,3 @@\n-    F32Vec2 v2();\n+            public F32Vec2 v0() {\n+                return pool.entries[v0Idx()];\n+            }\n@@ -39,1 +55,3 @@\n-    int rgb();\n+            int v1Idx() {\n+                return pool.stride * idx + V1;\n+            }\n@@ -41,0 +59,3 @@\n+            public F32Vec2 v1() {\n+                return pool.entries[v1Idx()];\n+            }\n@@ -42,0 +63,3 @@\n+            int v2Idx() {\n+                return pool.stride * idx + V2;\n+            }\n@@ -43,0 +67,3 @@\n+            public F32Vec2 v2() {\n+                return pool.entries[v2Idx()];\n+            }\n@@ -44,14 +71,5 @@\n-    class F32Triangle2DPool extends Pool<F32Triangle2DPool> {\n-        public static int V0 = 0;\n-        public static int V1 = 1;\n-        public static int V2 = 2;\n-        public static int RGB = 3;\n-        public record Idx(F32Triangle2DPool pool, int idx) implements Pool.Idx<F32Triangle2DPool>{\n-            int v0(){return pool.stride * idx+V0;}\n-            int v0Entry(){return pool.entries[v0()];}\n-            int v1(){return pool.stride * idx+V1;}\n-            int v1Entry(){return pool.entries[v1()];}\n-            int v2(){return pool.stride * idx+V2;}\n-            int v2Entry(){return pool.entries[v2()];}\n-            int rgb(){return pool.stride * idx+RGB;}\n-            int rgbEntry(){return pool.entries[rgb()];}\n+            int rgbIdx() {\n+                return idx;\n+            }\n+\n+            public int rgb() {return pool.rgbs[rgbIdx()];}\n@@ -59,1 +77,4 @@\n-        public final int entries[];\n+\n+        public final F32Vec2 entries[];\n+        public final int rgbs[];\n+\n@@ -61,2 +82,3 @@\n-            super(4, max);\n-            this.entries = new int[max * stride];\n+            super(3, max);\n+            this.entries = new F32Vec2[max * stride];\n+            this.rgbs = new int[max];\n@@ -66,2 +88,12 @@\n-        Idx idx(int idx) {\n-            return new Idx(this, idx);\n+        public F32Triangle2D.F32Triangle2DPool.Idx idx(int idx) {\n+            return new F32Triangle2D.F32Triangle2DPool.Idx(this, idx);\n+        }\n+\n+        public F32Triangle2D of(F32Vec2 v0, F32Vec2 v1, F32Vec2 v2, int rgb) {\n+            var i = idx(count++);\n+            var side = false;\/\/side(v0.x(),v0.y(), v1, v2) > 0; \/\/ We need the triangle to be clock wound\n+            entries[i.v0Idx()] = v0;\n+            entries[i.v1Idx()] = side?v1:v2;\n+            entries[i.v2Idx()] = side?v2:v1;\n+            rgbs[i.rgbIdx()] = rgb;\n+            return i;\n@@ -71,1 +103,4 @@\n-    F32Triangle2DPool f32Triangle2DPool = new F32Triangle2DPool(9000);\n+    \/*\n+           return (\n+               v1.Y() - v0.Y() * (v.X() - v0.X()) + (-v1.X() + v0.X()) * (v.Y() - v0.Y())\n+               );\n@@ -73,3 +108,5 @@\n-    static float side(float x, float y, float x0, float y0, float x1, float y1) {\n-        return (y1 - y0) * (x - x0) + (-x1 + x0) * (y - y0);\n-    }\n+     *\/\n+    \/*\n+       return (v1.Y() - v0.Y() * (v.X() - v0.X()) + (-v1.X() + v0.X()) * (v.Y() - v0.Y()));\n+\n+     *\/\n@@ -77,5 +114,4 @@\n-    static float side(int v, int v0, int v1) {\n-        v *= F32Vec2.f32Vec2Pool.stride;\n-        v0 *= F32Vec2.f32Vec2Pool.stride;\n-        v1 *= F32Vec2.f32Vec2Pool.stride;\n-        return (F32Vec2.f32Vec2Pool.entries[v1 + F32Vec2.F32Vec2Pool.Y] - F32Vec2.f32Vec2Pool.entries[v0 + F32Vec2.F32Vec2Pool.Y] * (F32Vec2.f32Vec2Pool.entries[v + F32Vec2.F32Vec2Pool.X] - F32Vec2.f32Vec2Pool.entries[v0 + F32Vec2.F32Vec2Pool.X]) + (-F32Vec2.f32Vec2Pool.entries[v1 + F32Vec2.F32Vec2Pool.X] + F32Vec2.f32Vec2Pool.entries[v0 + F32Vec2.F32Vec2Pool.X]) * (F32Vec2.f32Vec2Pool.entries[v + F32Vec2.F32Vec2Pool.Y] - F32Vec2.f32Vec2Pool.entries[v0 + F32Vec2.F32Vec2Pool.Y]));\n+    F32Triangle2DPool f32Triangle2DPool = new F32Triangle2DPool(12800);\n+\n+    static float side(float x,float y, F32Vec2 v0, F32Vec2 v1) {\n+         return    (v1.y() - v0.y() * (x - v0.x()) + (-v1.x() + v0.x()) * (y - v0.y()));\n@@ -84,2 +120,32 @@\n-    static boolean intriangle(float x, float y, float x0, float y0, float x1, float y1, float x2, float y2) {\n-        return side(x, y, x0, y0, x1, y1) >= 0 && side(x, y, x1, y1, x2, y2) >= 0 && side(x, y, x2, y2, x0, y0) >= 0;\n+    \/*\n+              V0                V0\n+              |  \\              |  \\\n+              |    \\            |    \\        P2\n+              |  P1  \\          |      \\\n+              V1------V0        V1------V0\n+\n+\n+Barycentric coordinate allows to express new p coordinates as a linear combination of p1, p2, p3.\n+ More precisely, it defines 3 scalars a, b, c such that :\n+\n+x = a * x1 + b * x2  + c * x3\n+y = a * y1 + b * y2 + c * y3\n+a + b + c = 1\n+\n+\n+a = ((y2 - y3)*(x - x3) + (x3 - x2)*(y - y3)) \/ ((y2 - y3)*(x1 - x3) + (x3 - x2)*(y1 - y3))\n+b = ((y3 - y1)*(x - x3) + (x1 - x3)*(y - y3)) \/ ((y2 - y3)*(x1 - x3) + (x3 - x2)*(y1 - y3))\n+c = 1 - a - b\n+\n+p lies in T if and only if 0 <= a <= 1 and 0 <= b <= 1 and 0 <= c <= 1\n+*\/\n+\n+    static boolean intriangle (float x, float y, float x0, float y0, float x1, float y1, float x2, float y2) {\n+        var denominator = ((y1 - y2)*(x0 - x2) + (x2 - x1)*(y0 - y2));\n+        var a = ((y1 - y2)*(x - x2) + (x2 - x1)*(y - y2)) \/ denominator;\n+        var b = ((y2 - y0)*(x - x2) + (x0 - x2)*(y - y2)) \/ denominator;\n+        var c = 1 - a - b;\n+        return 0 <= a && a <= 1 && 0 <= b && b <= 1 && 0 <= c && c <= 1;\n+    }\n+    static boolean intriangle(float x, float y,  F32Vec2 v0, F32Vec2 v1, F32Vec2 v2) {\n+        return intriangle(x,y, v0.x(), v0.y(), v1.x(), v1.y(),v2.x(), v2.y());\n@@ -88,2 +154,2 @@\n-    static boolean intriangle(int v, int v0, int v1, int v2) {\n-        return side(v, v0, v1) >= 0 && side(v, v1, v2) >= 0 && side(v, v2, v0) >= 0;\n+    static boolean intriangle(float x, float y,  F32Triangle2D tri) {\n+       return intriangle(x,y, tri.v0(), tri.v1(),tri.v2());\n@@ -92,4 +158,4 @@\n-    static boolean online(float x, float y, float x0, float y0, float x1, float y1, float deltaSquare) {\n-        float dxl = x1 - x0;\n-        float dyl = y1 - y0;\n-        float cross = (x - x0) * dyl - (y - y0) * dxl;\n+    static boolean online(float x, float y,  F32Vec2 v0, F32Vec2 v1, float deltaSquare) {\n+        float dxl = v1.x() - v0.x();\n+        float dyl = v1.y() - v0.y();;\n+        float cross = (x - v0.x()) * dyl - (y - v0.y()) * dxl;\n@@ -98,1 +164,1 @@\n-                return dxl > 0 ? x0 <= x && x <= x1 : x1 <= x && x <= x0;\n+                return dxl > 0 ? v0.x() <= x && x <= v1.x() : v1.x() <= x && x <= v0.x();\n@@ -100,1 +166,1 @@\n-                return dyl > 0 ? y0 <= y && y <= y1 : y1 <= y && y <= y0;\n+                return dyl > 0 ? v0.y() <= y && y <= v1.y() : v1.y() <= y && y <= v0.y();\n@@ -106,1 +172,1 @@\n-    float deltaSquare = 10000f;\n+    float deltaSquare = 2000f;\n@@ -108,2 +174,4 @@\n-    static boolean onedge(float x, float y, float x0, float y0, float x1, float y1, float x2, float y2) {\n-        return online(x, y, x0, y0, x1, y1, deltaSquare) || F32Triangle2D.online(x, y, x1, y1, x2, y2, deltaSquare) || F32Triangle2D.online(x, y, x2, y2, x0, y0, deltaSquare);\n+    static boolean onedge(float x, float y, F32Triangle2D tri) {\n+        return online(x, y, tri.v0(), tri.v1(), deltaSquare)\n+                || online(x, y,tri.v1(),tri.v2(), deltaSquare)\n+                || online(x, y, tri.v2(),tri.v0(), deltaSquare);\n@@ -112,1 +180,2 @@\n-    record F32Triangle2DImpl(int id, F32Vec2 v0, F32Vec2 v1, F32Vec2 v2, int rgb) implements F32Triangle2D {\n+    static  boolean useRgb(boolean filled, float x, float y,  F32Triangle2D tri){\n+        return filled? intriangle(x,y,tri):onedge(x,y,tri);\n@@ -115,9 +184,2 @@\n-    static F32Triangle2DImpl createTriangle(float x0, float y0, float x1, float y1, float x2, float y2, int col) {\n-        var impl = side(x0, y0, x1, y1, x2, y2) > 0 \/\/ We need the triangle to be clock wound\n-                ? new F32Triangle2DImpl(f32Triangle2DPool.count, F32Vec2.of(x0, y0), F32Vec2.of(x1, y1), F32Vec2.of(x2, y2), col)\n-                : new F32Triangle2DImpl(f32Triangle2DPool.count, F32Vec2.of(x0, y0), F32Vec2.of(x2, y2), F32Vec2.of(x1, y1), col);\n-        f32Triangle2DPool.entries[f32Triangle2DPool.count * f32Triangle2DPool.stride + F32Triangle2DPool.V0] = ((F32Vec2.F32Vec2Impl) impl.v0).id();\/\/F32Vec2.createVec2(x0,y0).id;\n-        f32Triangle2DPool.entries[f32Triangle2DPool.count * f32Triangle2DPool.stride + F32Triangle2DPool.V1] = ((F32Vec2.F32Vec2Impl) impl.v1).id();\n-        f32Triangle2DPool.entries[f32Triangle2DPool.count * f32Triangle2DPool.stride + F32Triangle2DPool.V2] = ((F32Vec2.F32Vec2Impl) impl.v2).id();\n-        f32Triangle2DPool.entries[f32Triangle2DPool.count++ * f32Triangle2DPool.stride + F32Triangle2DPool.RGB] = impl.rgb();\n-        return impl;\n+    static  int rgb(boolean filled, float x, float y,  F32Triangle2D tri, int rgb){\n+        return useRgb(filled,x,y,tri)? tri.rgb() : rgb;\n@@ -126,0 +188,1 @@\n+\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/F32Triangle2D.java","additions":118,"deletions":55,"binary":false,"changes":173,"status":"modified"},{"patch":"@@ -39,2 +39,0 @@\n-    int idx();\n-\n@@ -160,21 +158,0 @@\n-    record F32Triangle3DImpl(F32Triangle3D id) implements F32Triangle3D {\n-        public static List<F32Triangle3DImpl> all() {\n-            List<F32Triangle3DImpl> all = new ArrayList<>();\n-            for (int t = 0; t < f32Triangle3DPool.count; t++) {\n-                all.add(new F32Triangle3DImpl(f32Triangle3DPool.idx(t))\/*Pool.Idx.of(t))*\/);\n-            }\n-            return all;\n-        }\n-\n-        @Override\n-        public int idx() {\n-            return id.idx();\n-        }\n-\n-        public F32Vec3 v0() {\n-            return id.v0();\n-        }\n-\n-        public F32Vec3 v1() {\n-            return id.v1();\n-        }\n@@ -182,8 +159,0 @@\n-        public F32Vec3 v2() {\n-            return id.v2();\n-        }\n-\n-        public int rgb() {\n-            return id.rgb();\n-        }\n-    }\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/F32Triangle3D.java","additions":0,"deletions":31,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -32,0 +32,2 @@\n+    float x();\n+    float y();\n@@ -37,8 +39,22 @@\n-    class F32Vec2Pool extends FloatPool<F32Vec2Pool> {\n-        static public int X = 0;\n-        static public int Y = 1;\n-        record Idx(F32Vec2Pool pool, int idx) implements Pool.Idx<F32Vec2Pool>{\n-            int x(){return pool.stride * idx+X;}\n-            float xEntry(){return pool.entries[x()];}\n-            int y(){return pool.stride * idx+Y;}\n-            float yEntry(){return pool.entries[y()];}\n+    class F32Vec2Pool extends FloatPool<F32Vec2.F32Vec2Pool> {\n+        public static int X = 0;\n+        public static int Y = 1;\n+        public record Idx(F32Vec2Pool pool, int idx) implements Pool.Idx<F32Vec2.F32Vec2Pool>, F32Vec2 {\n+            private int xIdx() {\n+                return pool.stride * idx + X;\n+            }\n+\n+            @Override\n+            public float x() {\n+                return pool.entries[xIdx()];\n+            }\n+\n+            private int yIdx() {\n+                return pool.stride * idx + Y;\n+            }\n+\n+            @Override\n+            public float y() {\n+                return pool.entries[yIdx()];\n+            }\n+\n@@ -46,2 +62,3 @@\n-        F32Vec2Pool() {\n-            super(2,12800);\n+\n+        F32Vec2Pool(int max) {\n+            super(2, max);\n@@ -49,0 +66,1 @@\n+\n@@ -50,2 +68,2 @@\n-        Idx idx(int idx) {\n-            return new Idx(this, idx);\n+        F32Vec2.F32Vec2Pool.Idx idx(int idx) {\n+            return new F32Vec2.F32Vec2Pool.Idx(this, idx);\n@@ -53,2 +71,0 @@\n-    }\n-    F32Vec2Pool f32Vec2Pool = new F32Vec2Pool();\n@@ -56,5 +72,6 @@\n-    record F32Vec2Impl(int id, float x, float y) implements F32Vec2{ }\n-     static F32Vec2Impl of(float x, float y) {\n-        f32Vec2Pool.entries[f32Vec2Pool.count * f32Vec2Pool.stride + F32Vec2Pool.X] = x;\n-        f32Vec2Pool.entries[f32Vec2Pool.count * f32Vec2Pool.stride + F32Vec2Pool.Y] = y;\n-        return  new F32Vec2Impl(f32Vec2Pool.count++, x,y);\n+        public F32Vec2.F32Vec2Pool.Idx of(float x, float y) {\n+            F32Vec2.F32Vec2Pool.Idx i = idx(count++);\n+            entries[i.xIdx()] = x;\n+            entries[i.yIdx()] = y;\n+            return i;\n+        }\n@@ -62,0 +79,1 @@\n+    F32Vec2Pool f32Vec2Pool = new F32Vec2Pool(12000);\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/F32Vec2.java","additions":37,"deletions":19,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -34,1 +34,0 @@\n-    int idx();\n@@ -84,1 +83,1 @@\n-        F32Vec3Pool.Idx of(float x, float y, float z) {\n+        public F32Vec3Pool.Idx of(float x, float y, float z) {\n@@ -198,30 +197,0 @@\n-\n-    record F32Vec3Impl(F32Vec3 id) implements F32Vec3 {\n-        public static F32Vec3Impl of(F32Vec3 id) {\n-            return new F32Vec3Impl(id);\n-        }\n-\n-        public static F32Vec3 of(float x, float y, float z) {\n-            return of(f32Vec3Pool.of(x, y, z));\n-        }\n-\n-        public F32Vec3 add(F32Vec3Impl v) {\n-            return addVec3(id, v);\n-        }\n-\n-        public float x() {\n-            return id.x();\n-        }\n-\n-        public float y() {\n-            return id.y();\n-        }\n-\n-        public float z() {\n-            return id.z();\n-        }\n-\n-        public int idx() {\n-            return id.idx();\n-        }\n-    }\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/F32Vec3.java","additions":1,"deletions":32,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -82,1 +82,4 @@\n-        return F32Triangle2D.createTriangle(x0, y0, x1, y1, x2, y2, (r & 0xff) << 16 | (g & 0xff) << 8 | (b & 0xff));\n+        F32Vec2 v0 = F32Vec2.f32Vec2Pool.of(x0,y0);\n+        F32Vec2 v1 = F32Vec2.f32Vec2Pool.of(x1,y1);\n+        F32Vec2 v2 = F32Vec2.f32Vec2Pool.of(x2,y2);\n+        return F32Triangle2D.f32Triangle2DPool.of(v0,v1,v2, (r & 0xff) << 16 | (g & 0xff) << 8 | (b & 0xff));\n","filename":"hat\/examples\/view\/src\/main\/java\/view\/f32\/ZPos.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
{"files":[{"patch":"@@ -158,1 +158,1 @@\n-    int blocksPerGridX = (kernelContext->maxX + threadsPerBlockX - 1) \/ threadsPerBlockX;\n+    int blocksPerGridX = (kernelContext->gsx + threadsPerBlockX - 1) \/ threadsPerBlockX;\n@@ -162,1 +162,1 @@\n-        blocksPerGridY = (kernelContext->maxY + threadsPerBlockY - 1) \/ threadsPerBlockY;\n+        blocksPerGridY = (kernelContext->gsy + threadsPerBlockY - 1) \/ threadsPerBlockY;\n@@ -165,1 +165,1 @@\n-        blocksPerGridZ = (kernelContext->maxZ + threadsPerBlockZ - 1) \/ threadsPerBlockZ;\n+        blocksPerGridZ = (kernelContext->gsz + threadsPerBlockZ - 1) \/ threadsPerBlockZ;\n","filename":"hat\/backends\/ffi\/cuda\/src\/main\/native\/cpp\/cuda_backend_queue.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -29,2 +29,0 @@\n-\n-\n@@ -35,1 +33,1 @@\n-                    : Backend::CompilationUnit::Kernel(compilationUnit, name) {\n+                : Backend::CompilationUnit::Kernel(compilationUnit, name) {\n@@ -37,0 +35,1 @@\n+\n@@ -38,2 +37,3 @@\n-            bool setArg(KernelArg *arg, Buffer *buffer) override{\n-                return false ;\n+\n+            bool setArg(KernelArg *arg, Buffer *buffer) override {\n+                return false;\n@@ -41,2 +41,3 @@\n-            bool setArg(KernelArg *arg) override{\n-                return false ;\n+\n+            bool setArg(KernelArg *arg) override {\n+                return false;\n@@ -47,2 +48,2 @@\n-        MockProgram(Backend *backend, char *src, char *log, bool ok )\n-                : Backend::CompilationUnit(backend, src,log, ok) {\n+        MockProgram(Backend *backend, char *src, char *log, bool ok)\n+            : Backend::CompilationUnit(backend, src, log, ok) {\n@@ -53,1 +54,1 @@\n-        Kernel* getKernel(int nameLen, char *name) override {\n+        Kernel *getKernel(int nameLen, char *name) override {\n@@ -57,1 +58,2 @@\n-    class MockQueue final : public Backend::Queue{\n+\n+    class MockQueue final : public Backend::Queue {\n@@ -59,5 +61,13 @@\n-        void wait()override{};\n-        void release()override{};\n-        void computeStart()override{};\n-        void computeEnd()override{};\n-        void dispatch(KernelContext *kernelContext, Backend::CompilationUnit::Kernel *kernel) override{\n+        void wait() override {\n+        };\n+\n+        void release() override {\n+        };\n+\n+        void computeStart() override {\n+        };\n+\n+        void computeEnd() override {\n+        };\n+\n+        void dispatch(KernelContext *kernelContext, Backend::CompilationUnit::Kernel *kernel) override {\n@@ -66,2 +76,3 @@\n-            if (backend->config->trace | backend->config->traceEnqueues){\n-                std::cout << \"enqueued kernel dispatch \\\"\"<< kernel->name <<\"\\\" globalSize=\" << kernelContext->maxX << std::endl;\n+            if (backend->config->trace | backend->config->traceEnqueues) {\n+                std::cout << \"enqueued kernel dispatch \\\"\" << kernel->name << \"\\\" globalSize=\" << kernelContext->gsx <<\n+                        std::endl;\n@@ -69,0 +80,7 @@\n+        }\n+\n+        void copyToDevice(Buffer *buffer) override {\n+        }\n+\n+        void copyFromDevice(Buffer *buffer) override {\n+        };\n@@ -70,0 +88,1 @@\n+        explicit MockQueue(Backend *backend) : Queue(backend) {\n@@ -71,4 +90,2 @@\n-        void copyToDevice(Buffer *buffer) override{}\n-        void copyFromDevice(Buffer *buffer) override{};\n-        explicit MockQueue(Backend *backend):Queue(backend){}\n-        ~MockQueue() override =default;\n+\n+        ~MockQueue() override = default;\n@@ -76,1 +93,0 @@\n-public:\n@@ -78,1 +94,3 @@\n-    explicit MockBackend(int configBits): Backend(new Config(configBits), new MockQueue(this)) {}\n+public:\n+    explicit MockBackend(int configBits) : Backend(new Config(configBits), new MockQueue(this)) {\n+    }\n@@ -81,1 +99,2 @@\n-    Buffer * getOrCreateBuffer(BufferState *bufferState) override{\n+\n+    Buffer *getOrCreateBuffer(BufferState *bufferState) override {\n@@ -97,0 +116,1 @@\n+\n@@ -98,1 +118,1 @@\n-        std::cout << \"attempting  to get buffer from Mockbackend \"<<std::endl;\n+        std::cout << \"attempting  to get buffer from Mockbackend \" << std::endl;\n@@ -107,1 +127,1 @@\n-    void computeStart() override{\n+    void computeStart() override {\n@@ -111,1 +131,1 @@\n-    void computeEnd() override{\n+    void computeEnd() override {\n@@ -115,1 +135,1 @@\n-    CompilationUnit *compile(int len, char *source) override{\n+    CompilationUnit *compile(int len, char *source) override {\n@@ -119,1 +139,1 @@\n-        ::strncpy(src, source, srcLen);\n+        strncpy(src, source, srcLen);\n@@ -122,1 +142,1 @@\n-        auto *mockProgram = new MockProgram(this,src, nullptr, false);\n+        auto *mockProgram = new MockProgram(this, src, nullptr, false);\n@@ -129,1 +149,1 @@\n-     return backendHandle;\n+    return backendHandle;\n","filename":"hat\/backends\/ffi\/mock\/src\/main\/native\/cpp\/mock_backend.cpp","additions":52,"deletions":32,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -242,1 +242,1 @@\n-void OpenCLBackend::OpenCLQueue::dispatch(KernelContext *kernelContext, Backend::CompilationUnit::Kernel *kernel) {\n+void OpenCLBackend::OpenCLQueue::dispatch(KernelContext *kernelContext, CompilationUnit::Kernel *kernel) {\n@@ -246,3 +246,3 @@\n-        static_cast<size_t>(kernelContext->maxX),  \/\/ to be replaced with gsx\n-        static_cast<size_t>(kernelContext->maxY),  \/\/ to be replaced with gsy\n-        static_cast<size_t>(kernelContext->maxZ)   \/\/ to be replaced with gsz\n+        static_cast<size_t>(kernelContext->gsx),\n+        static_cast<size_t>(kernelContext->gsy),\n+        static_cast<size_t>(kernelContext->gsz)\n@@ -284,1 +284,1 @@\n-        std::cout << \"enqueued kernel dispatch \\\"\" << kernel->name << \"\\\" globalSize=\" << kernelContext->maxX <<\n+        std::cout << \"enqueued kernel dispatch \\\"\" << kernel->name << \"\\\" globalSize=\" << kernelContext->gsx <<\n","filename":"hat\/backends\/ffi\/opencl\/src\/main\/native\/cpp\/opencl_backend_queue.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -86,3 +86,3 @@\n-            kernelBufferContext.maxX(kc.maxX);\n-            kernelBufferContext.maxY(kc.maxY);\n-            kernelBufferContext.maxZ(kc.maxZ);\n+            kernelBufferContext.gsx(kc.gsx);\n+            kernelBufferContext.gsy(kc.gsy);\n+            kernelBufferContext.gsz(kc.gsz);\n@@ -93,3 +93,3 @@\n-            kernelBufferContext.maxX(threadMesh.getX());\n-            kernelBufferContext.maxY(threadMesh.getY());\n-            kernelBufferContext.maxZ(threadMesh.getZ());\n+            kernelBufferContext.gsx(threadMesh.getX());\n+            kernelBufferContext.gsy(threadMesh.getY());\n+            kernelBufferContext.gsz(threadMesh.getZ());\n","filename":"hat\/backends\/ffi\/shared\/src\/main\/java\/hat\/backend\/ffi\/C99FFIBackend.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -378,1 +378,1 @@\n-        std::cout << \"kernelContext = \" << kernelContext->maxX << std::endl;\n+        std::cout << \"kernelContext = <\" << kernelContext->gsx << \",\" << kernelContext->gsy << \",\" << kernelContext->gsz << \">\" << std::endl;\n","filename":"hat\/backends\/ffi\/shared\/src\/main\/native\/cpp\/shared.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -364,6 +364,2 @@\n-    int x;\n-    int maxX;\n-    int y;\n-    int maxY;\n-    int z;\n-    int maxZ;\n+\n+    \/\/ Dimensions of the kernel (1D, 2D or 3D)\n","filename":"hat\/backends\/ffi\/shared\/src\/main\/native\/include\/shared.h","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-        for (ndRange.kid.x = 0; ndRange.kid.x < ndRange.kid.maxX; ndRange.kid.x++) {\n+        for (ndRange.kid.gix = 0; ndRange.kid.gix < ndRange.kid.gsx; ndRange.kid.gix++) {\n","filename":"hat\/backends\/java\/seq\/src\/main\/java\/hat\/backend\/java\/JavaSequentialBackend.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-            kernelContext.maxX(ndRange.kid.maxX);\n+            kernelContext.gsx(ndRange.kid.gsx);\n","filename":"hat\/backends\/jextracted\/shared\/src\/main\/java\/hat\/backend\/jextracted\/C99JExtractedBackend.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,3 +27,0 @@\n-import hat.buffer.F32Array;\n-import hat.buffer.S32Array;\n-\n@@ -48,8 +45,0 @@\n-    public int x;    \/\/ proposal to rename to gix\n-    public int y;    \/\/ proposal to rename to giy\n-    public int z;    \/\/ proposal to rename to giz\n-\n-    final public int maxX;\n-    final public int maxY;\n-    final public int maxZ;\n-\n@@ -87,3 +76,0 @@\n-        this.maxX = computeRange.getGlobalMesh().getX();\n-        this.maxY = computeRange.getGlobalMesh().getY();\n-        this.maxZ = computeRange.getGlobalMesh().getZ();\n@@ -103,3 +89,0 @@\n-        this.maxX = maxX;\n-        this.maxY = 0;\n-        this.maxZ = 0;\n@@ -120,4 +103,0 @@\n-        this.maxX = maxX;\n-        this.maxY = maxY;\n-        this.maxZ = 0;\n-\n@@ -127,1 +106,0 @@\n-\n@@ -140,4 +118,0 @@\n-        this.maxX = maxX;\n-        this.maxY = maxY;\n-        this.maxZ = maxZ;\n-\n","filename":"hat\/core\/src\/main\/java\/hat\/KernelContext.java","additions":0,"deletions":26,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-        for (ndRange.kid.x = 0; ndRange.kid.x < ndRange.kid.maxX; ndRange.kid.x++) {\n+        for (ndRange.kid.gix = 0; ndRange.kid.gix < ndRange.kid.gsx; ndRange.kid.gix++) {\n","filename":"hat\/core\/src\/main\/java\/hat\/backend\/BackendAdaptor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -105,1 +105,1 @@\n-                for (ndRange.kid.x = 0; ndRange.kid.x < ndRange.kid.maxX; ndRange.kid.x++) {\n+                for (ndRange.kid.gix = 0; ndRange.kid.gix < ndRange.kid.gsx; ndRange.kid.gix++) {\n","filename":"hat\/core\/src\/main\/java\/hat\/backend\/DebugBackend.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-                            for (ndRange.kid.x = myChunk * chunkSize; ndRange.kid.x < (myChunk + 1) * chunkSize && ndRange.kid.x < range; ndRange.kid.x++) {\n+                            for (ndRange.kid.gix = myChunk * chunkSize; ndRange.kid.gix < (myChunk + 1) * chunkSize && ndRange.kid.gix < range; ndRange.kid.gix++) {\n@@ -114,1 +114,1 @@\n-            this.range = ndRange.kid.maxX;\n+            this.range = ndRange.kid.gsx;\n@@ -121,1 +121,1 @@\n-            for (ndRange.kid.x = 0; ndRange.kid.x < range; ndRange.kid.x++) {\n+            for (ndRange.kid.gix = 0; ndRange.kid.gix < range; ndRange.kid.gix++) {\n","filename":"hat\/core\/src\/main\/java\/hat\/backend\/java\/WorkStealer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -43,18 +43,0 @@\n-    int x();\n-    void x(int x);\n-\n-    int y();\n-    void y(int y);\n-\n-    int z();\n-    void z(int z);\n-\n-    int maxX();\n-    void maxX(int maxX);\n-\n-    int maxY();\n-    void maxY(int maxY);\n-\n-    int maxZ();\n-    void maxZ(int maxZ);\n-\n@@ -62,0 +44,1 @@\n+\n@@ -105,7 +88,6 @@\n-                    .fields(\n-                            \"x\", \"maxX\", \"y\", \"maxY\", \"z\", \"maxZ\", \"dimensions\",  \/\/ Initial version: to be deprecated\n-                            \"gix\", \"giy\", \"giz\",  \/\/ global accesses\n-                            \"gsx\", \"gsy\", \"gsz\",  \/\/ global sizes\n-                            \"lix\", \"liy\", \"liz\",  \/\/ local (thread-ids)\n-                            \"lsx\", \"lsy\", \"lsz\",  \/\/ block size\n-                            \"bix\", \"biy\", \"biz\"   \/\/ block id\n+                    .fields(\"dimensions\",  \/\/ Dimension (1D, 2D or 3D)\n+                            \"gix\", \"giy\", \"giz\",   \/\/ global thread-id accesses\n+                            \"gsx\", \"gsy\", \"gsz\",   \/\/ global sizes\n+                            \"lix\", \"liy\", \"liz\",   \/\/ local (thread-ids)\n+                            \"lsx\", \"lsy\", \"lsz\",   \/\/ block size\n+                            \"bix\", \"biy\", \"biz\"    \/\/ block id\n@@ -115,7 +97,1 @@\n-        KernelBufferContext kernelBufferContext =  schema.allocate(accelerator);\n-        kernelBufferContext.x(0);\n-        kernelBufferContext.maxX(0);\n-        kernelBufferContext.y(0);\n-        kernelBufferContext.maxY(0);\n-        kernelBufferContext.z(0);\n-        kernelBufferContext.maxZ(0);\n+        KernelBufferContext kernelBufferContext = schema.allocate(accelerator);\n@@ -123,1 +99,0 @@\n-\n","filename":"hat\/core\/src\/main\/java\/hat\/buffer\/KernelBufferContext.java","additions":8,"deletions":33,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -50,4 +50,4 @@\n-        if (kc.x<kc.maxX){\n-            float S = sArray.array(kc.x);\n-            float X = xArray.array(kc.x);\n-            float T = tArray.array(kc.x);\n+        if (kc.gix < kc.gsx){\n+            float S = sArray.array(kc.gix);\n+            float X = xArray.array(kc.gix);\n+            float T = tArray.array(kc.gix);\n@@ -59,3 +59,3 @@\n-            float value = (float) (S * cnd1 - expNegRt * X * cnd2);\n-            call.array(kc.x, value);\n-            put.array(kc.x, expNegRt * X * (1 - cnd2) - S * (1 - cnd1));\n+            float value = S * cnd1 - expNegRt * X * cnd2;\n+            call.array(kc.gix, value);\n+            put.array(kc.gix, expNegRt * X * (1 - cnd2) - S * (1 - cnd1));\n","filename":"hat\/examples\/blackscholes\/src\/main\/java\/blackscholes\/Main.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -41,2 +41,2 @@\n-            long i = kc.x;\n-            long size = kc.maxX;\n+            long i = kc.gix;\n+            long size = kc.gsx;\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/ForTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -121,3 +121,3 @@\n-            if (kc.x < kc.maxX) {\n-                MeshData.Point3D point = mesh.point(kc.x);\n-                point.x(kc.x);\n+            if (kc.gix < kc.gsx) {\n+                MeshData.Point3D point = mesh.point(kc.gix);\n+                point.x(kc.gix);\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/Mesh.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -46,2 +46,2 @@\n-            if (kc.x < kc.maxX) {\n-                s32Array.array(kc.x, s32Array.array(kc.x) + 1);\n+            if (kc.gix < kc.gsx) {\n+                s32Array.array(kc.gix, s32Array.array(kc.gix) + 1);\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/MinBufferTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-        out.array(kc.x, in.array(kc.x) + scaler);\n+        out.array(kc.gix, in.array(kc.gix) + scaler);\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/QuotedArrayArg.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-        out.array(kc.x, in.array(kc.x) + scaler);\n+        out.array(kc.gix, in.array(kc.gix) + scaler);\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/QuotedConstantArgs.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            for (int j = 0; j < kid.maxX; j++) {\n+            for (int j = 0; j < kid.gsx; j++) {\n@@ -97,1 +97,1 @@\n-                for (int k = 0; k < kid.maxX; k++) {\n+                for (int k = 0; k < kid.gsx; k++) {\n@@ -99,1 +99,1 @@\n-                    sum += a.array(kid.x * kid.maxX + k) * b.array(k * kid.maxX + j);\n+                    sum += a.array(kid.gix * kid.gsx + k) * b.array(k * kid.gsx + j);\n@@ -101,1 +101,1 @@\n-                    sum += a.array(kid.x * kid.maxX + k) * b.array(k * kid.maxX + j);\n+                    sum += a.array(kid.gix * kid.gsx + k) * b.array(k * kid.gsx + j);\n@@ -104,1 +104,1 @@\n-                c.array(kid.x * kid.maxX + j, sum);\n+                c.array(kid.gix * kid.gsx + j, sum);\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/spirv\/GetBackend.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-            long i = kc.x;\n+            long i = kc.gix;\n","filename":"hat\/examples\/experiments\/src\/main\/java\/experiments\/spirv\/MatrixMultiply.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -239,1 +239,1 @@\n-        bestFitCore(kc.x, s32Array2D, searchArea, selectionBox, xyrgbList, sumArray);\n+        bestFitCore(kc.gix, s32Array2D, searchArea, selectionBox, xyrgbList, sumArray);\n","filename":"hat\/examples\/heal\/src\/main\/java\/heal\/Compute.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -204,2 +204,2 @@\n-            if (kc.x < kc.maxX) {\n-                Compute.lifePerIdx(kc.x, control, cellGrid);\n+            if (kc.gix < kc.gsx) {\n+                Compute.lifePerIdx(kc.gix, control, cellGrid);\n","filename":"hat\/examples\/life\/src\/main\/java\/life\/Main.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -48,2 +48,2 @@\n-            float x = ((kc.x % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n-            float y = ((kc.x \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n+            float x = ((kc.gix % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n+            float y = ((kc.gix \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n@@ -61,1 +61,1 @@\n-            s32Array2D.array(kc.x, color);\n+            s32Array2D.array(kc.gix, color);\n","filename":"hat\/examples\/mandel\/src\/main\/java\/mandel\/Main.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -85,2 +85,2 @@\n-        if (kc.x < kc.maxX) {\n-            if (kc.y < kc.maxY) {\n+        if (kc.gix < kc.gsx) {\n+            if (kc.giy < kc.gsy) {\n@@ -89,1 +89,1 @@\n-                    acc += (matrixA.array(kc.x * size + k) * matrixB.array(k * size + kc.y));\n+                    acc += (matrixA.array(kc.gix * size + k) * matrixB.array(k * size + kc.giy));\n@@ -91,1 +91,1 @@\n-                matrixC.array(kc.x * size + kc.y, acc);\n+                matrixC.array(kc.gix * size + kc.giy, acc);\n@@ -107,2 +107,2 @@\n-        if (kc.x < kc.maxX) {\n-            if (kc.y < kc.maxY) {\n+        if (kc.gix < kc.gsx) {\n+            if (kc.giy < kc.gsy) {\n@@ -111,1 +111,1 @@\n-                    acc += (matrixA.array(kc.y * size + k) * matrixB.array(k * size + kc.x));\n+                    acc += (matrixA.array(kc.giy * size + k) * matrixB.array(k * size + kc.gix));\n@@ -113,1 +113,1 @@\n-                matrixC.array(kc.y * size + kc.x, acc);\n+                matrixC.array(kc.giy * size + kc.gix, acc);\n@@ -467,1 +467,1 @@\n-            acc += (matrixA.array(kc.x * size + k) * matrixB.array(k * size + j));\n+            acc += (matrixA.array(kc.gix * size + k) * matrixB.array(k * size + j));\n@@ -483,1 +483,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -487,1 +487,1 @@\n-                    acc += (matrixA.array(kc.x * size + k) * matrixB.array(k * size + j));\n+                    acc += (matrixA.array(kc.gix * size + k) * matrixB.array(k * size + j));\n@@ -489,1 +489,1 @@\n-                matrixC.array(kc.x * size + j, acc);\n+                matrixC.array(kc.gix * size + j, acc);\n@@ -499,1 +499,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -502,1 +502,1 @@\n-                matrixC.array(kc.x * size + j, acc);\n+                matrixC.array(kc.gix * size + j, acc);\n","filename":"hat\/examples\/matmul\/src\/main\/java\/matmul\/Main.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-        Universe.Body me = universe.body(kc.x);\n+        Universe.Body me = universe.body(kc.gix);\n@@ -76,1 +76,1 @@\n-        for (int i = 0; i < kc.maxX; i++) {\n+        for (int i = 0; i < kc.gsx; i++) {\n","filename":"hat\/examples\/nbody\/src\/main\/java\/nbody\/opencl\/OpenCLNBodyGLWindow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -47,3 +47,3 @@\n-        if (kc.x<kc.maxX){\n-           int value = s32Array.array(kc.x);     \/\/ arr[cc.x]\n-           s32Array.array(kc.x, squareit(value));  \/\/ arr[cc.x]=value*value\n+        if (kc.gix < kc.gsx){\n+           int value = s32Array.array(kc.gix);       \/\/ arr[cc.x]\n+           s32Array.array(kc.gix, squareit(value));  \/\/ arr[cc.x]=value*value\n@@ -60,3 +60,1 @@\n-\n-    public static void main(String[] args) {\n-\n+    static void main(String[] args) {\n","filename":"hat\/examples\/squares\/src\/main\/java\/squares\/Main.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -75,2 +75,2 @@\n-        if (kc.x < kc.maxX){\n-           rgbToGrey(kc.x, rgbImage, greyImage);\n+        if (kc.gix < kc.gsx){\n+           rgbToGrey(kc.gix, rgbImage, greyImage);\n@@ -90,3 +90,3 @@\n-        if (kc.x <kc.maxX){  \/\/ kc.maxX = imageWidth\n-           int x = kc.x;\n-           int width = kc.maxX;\n+        if (kc.gix <kc.gsx){  \/\/ kc.gsx = imageWidth\n+           int x = kc.gix;\n+           int width = kc.gsx;\n@@ -120,2 +120,2 @@\n-        if (kc.x <kc.maxX){  \/\/ kc.maxX == imageHeight\n-           int y = kc.x;\n+        if (kc.gix <kc.gsx){  \/\/ kc.gsx == imageHeight\n+           int y = kc.gix;\n@@ -243,1 +243,1 @@\n-        if (kc.x < kc.maxX){\/\/;scaleTable.multiScaleAccumulativeRange()) {\n+        if (kc.gix < kc.gsx){\/\/;scaleTable.multiScaleAccumulativeRange()) {\n@@ -252,1 +252,1 @@\n-            while (kc.x >= scale.accumGridSizeMax() && scalc<scaleTable.length()) {\n+            while (kc.gix >= scale.accumGridSizeMax() && scalc<scaleTable.length()) {\n@@ -261,1 +261,1 @@\n-            int scaleGid = kc.x - scale.accumGridSizeMin();\n+            int scaleGid = kc.gix - scale.accumGridSizeMin();\n@@ -289,1 +289,1 @@\n-                stillLooksLikeAFace = isAFaceStage(kc.x, scale.scaleValue(), scale.invArea(), x, y, vnorm, integral, stage, cascade);\n+                stillLooksLikeAFace = isAFaceStage(kc.gix, scale.scaleValue(), scale.invArea(), x, y, vnorm, integral, stage, cascade);\n","filename":"hat\/examples\/violajones\/src\/main\/java\/violajones\/ViolaJonesCoreCompute.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -334,1 +334,1 @@\n-                                r.kid.x,\n+                                r.kid.gix,\n","filename":"hat\/examples\/violajones\/src\/main\/java\/violajones\/attic\/ViolaJones.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-        if (kc.x<kc.maxX){\n+        if (kc.gix < kc.gsx){\n@@ -51,1 +51,1 @@\n-            arr[kc.x] *= arr[kc.x];\n+            arr[kc.gix] *= arr[kc.gix];\n@@ -80,1 +80,1 @@\n-        if (kc.x<kc.maxX){\n+        if (kc.gix < kc.gsx){\n@@ -82,1 +82,1 @@\n-            arr[kc.x][kc.y] *= arr[kc.x][kc.y];\n+            arr[kc.gix][kc.giy] *= arr[kc.gix][kc.giy];\n@@ -227,2 +227,2 @@\n-            if (kc.x < kc.maxX) {\n-                Compute.lifePerIdx(kc.x, control, cellGrid);\n+            if (kc.gix < kc.gsx) {\n+                Compute.lifePerIdx(kc.gix, control, cellGrid);\n@@ -327,1 +327,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -332,2 +332,2 @@\n-            float x = ((kc.x % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n-            float y = ((kc.x \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n+            float x = ((kc.gix % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n+            float y = ((kc.gix \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n@@ -345,1 +345,1 @@\n-            s32[kc.x % s32Array2D.width()][kc.x \/ s32Array2D.width()] = color;\n+            s32[kc.gix % s32Array2D.width()][kc.gix \/ s32Array2D.width()] = color;\n@@ -417,1 +417,1 @@\n-        if (kc.x<kc.maxX){\n+        if (kc.gix<kc.gsx){\n@@ -424,3 +424,3 @@\n-            float expNegRt = (float) Math.exp(-r * tArr[kc.x]);\n-            float d1 = (float) ((Math.log(sArr[kc.x] \/ xArr[kc.x]) + (r + v * v * .5f) * tArr[kc.x]) \/ (v * Math.sqrt(tArr[kc.x])));\n-            float d2 = (float) (d1 - v * Math.sqrt(tArr[kc.x]));\n+            float expNegRt = (float) Math.exp(-r * tArr[kc.gix]);\n+            float d1 = (float) ((Math.log(sArr[kc.gix] \/ xArr[kc.gix]) + (r + v * v * .5f) * tArr[kc.gix]) \/ (v * Math.sqrt(tArr[kc.gix])));\n+            float d2 = (float) (d1 - v * Math.sqrt(tArr[kc.gix]));\n@@ -429,3 +429,3 @@\n-            float value = sArr[kc.x] * cnd1 - expNegRt * xArr[kc.x] * cnd2;\n-            callArr[kc.x] = value;\n-            putArr[kc.x] = expNegRt * xArr[kc.x] * (1 - cnd2) - sArr[kc.x] * (1 - cnd1);\n+            float value = sArr[kc.gix] * cnd1 - expNegRt * xArr[kc.gix] * cnd2;\n+            callArr[kc.gix] = value;\n+            putArr[kc.gix] = expNegRt * xArr[kc.gix] * (1 - cnd2) - sArr[kc.gix] * (1 - cnd1);\n@@ -554,1 +554,1 @@\n-        if (kc.x<kc.maxX){\n+        if (kc.gix < kc.gsx){\n@@ -556,1 +556,1 @@\n-            arr[kc.x] += arr[kc.x];\n+            arr[kc.gix] += arr[kc.gix];\n@@ -563,1 +563,1 @@\n-            arr[kc.x] += privView[0];\n+            arr[kc.gix] += privView[0];\n@@ -567,1 +567,1 @@\n-            arr[kc.x] += sharedView[0];\n+            arr[kc.gix] += sharedView[0];\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestArrayView.java","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -54,3 +54,3 @@\n-        if (kc.x < kc.gsx){\n-            int value = array.array(kc.x);\n-            array.array(kc.x, squareit(value));\n+        if (kc.gix < kc.gsx){\n+            int value = array.array(kc.gix);\n+            array.array(kc.gix, squareit(value));\n@@ -70,4 +70,4 @@\n-        if (kc.x < kc.gsx) {\n-            int valueA = arrayA.array(kc.x);\n-            int valueB = arrayB.array(kc.x);\n-            arrayC.array(kc.x, (valueA + valueB));\n+        if (kc.gix < kc.gsx) {\n+            int valueA = arrayA.array(kc.gix);\n+            int valueB = arrayB.array(kc.gix);\n+            arrayC.array(kc.gix, (valueA + valueB));\n@@ -87,3 +87,3 @@\n-        if (kc.x < kc.gsx) {\n-            float valueA = arrayA.array(kc.x);\n-            float valueB = arrayB.array(kc.x);\n+        if (kc.gix < kc.gsx) {\n+            float valueA = arrayA.array(kc.gix);\n+            float valueB = arrayB.array(kc.gix);\n@@ -91,1 +91,1 @@\n-            arrayC.array(kc.x, result);\n+            arrayC.array(kc.gix, result);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestArrays.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -49,4 +49,4 @@\n-        if (kc.x < kc.gsx) {\n-            float S = sArray.array(kc.x);\n-            float X = xArray.array(kc.x);\n-            float T = tArray.array(kc.x);\n+        if (kc.gix < kc.gsx) {\n+            float S = sArray.array(kc.gix);\n+            float X = xArray.array(kc.gix);\n+            float T = tArray.array(kc.gix);\n@@ -59,2 +59,2 @@\n-            call.array(kc.x, value);\n-            put.array(kc.x, expNegRt * X * (1 - cnd2) - S * (1 - cnd1));\n+            call.array(kc.gix, value);\n+            put.array(kc.gix, expNegRt * X * (1 - cnd2) - S * (1 - cnd1));\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestBlackscholes.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -49,4 +49,4 @@\n-        if (kc.x < kc.gsx) {\n-            final int valueA = arrayA.array(kc.x);\n-            final int valueB = arrayB.array(kc.x);\n-            arrayC.array(kc.x, (BM + valueA + valueB));\n+        if (kc.gix < kc.gsx) {\n+            final int valueA = arrayA.array(kc.gix);\n+            final int valueB = arrayB.array(kc.gix);\n+            arrayC.array(kc.gix, (BM + valueA + valueB));\n@@ -98,3 +98,3 @@\n-        if (kc.x < kc.gsx) {\n-            final int valueA = arrayA.array(kc.x);\n-            final int valueB = arrayB.array(kc.x);\n+        if (kc.gix < kc.gsx) {\n+            final int valueA = arrayA.array(kc.gix);\n+            final int valueB = arrayB.array(kc.gix);\n@@ -102,1 +102,1 @@\n-            arrayC.array(kc.x, result);\n+            arrayC.array(kc.gix, result);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestConstants.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -50,2 +50,2 @@\n-            float x = ((kc.x % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n-            float y = ((kc.x \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n+            float x = ((kc.gix % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n+            float y = ((kc.gix \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n@@ -63,1 +63,1 @@\n-            s32Array2D.array(kc.x, color);\n+            s32Array2D.array(kc.gix, color);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestMandel.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -59,2 +59,2 @@\n-        if (kc.x < kc.maxX) {\n-            if (kc.y < kc.maxY) {\n+        if (kc.gix < kc.gsx) {\n+            if (kc.gix < kc.gsy) {\n@@ -63,1 +63,1 @@\n-                    acc += (matrixA.array(kc.x * size + k) * matrixB.array(k * size + kc.y));\n+                    acc += (matrixA.array(kc.gix * size + k) * matrixB.array(k * size + kc.giy));\n@@ -65,1 +65,1 @@\n-                matrixC.array(kc.x * size + kc.y, acc);\n+                matrixC.array(kc.gix * size + kc.giy, acc);\n@@ -72,2 +72,2 @@\n-        if (kc.x < kc.maxX) {\n-            if (kc.y < kc.maxY) {\n+        if (kc.gix < kc.gsx) {\n+            if (kc.giy < kc.gsy) {\n@@ -76,1 +76,1 @@\n-                    acc += (matrixA.array(kc.y * size + k) * matrixB.array(k * size + kc.x));\n+                    acc += (matrixA.array(kc.giy * size + k) * matrixB.array(k * size + kc.gix));\n@@ -78,1 +78,1 @@\n-                matrixC.array(kc.y * size + kc.x, acc);\n+                matrixC.array(kc.giy * size + kc.gix, acc);\n@@ -85,2 +85,2 @@\n-        if (kc.x < kc.maxX) {\n-            if (kc.y < kc.maxY) {\n+        if (kc.gix < kc.gsx) {\n+            if (kc.giy < kc.gsy) {\n@@ -89,2 +89,2 @@\n-                    F16 valA = matrixA.array(kc.y * size + k);\n-                    F16 valB = matrixB.array(k * size + kc.x);\n+                    F16 valA = matrixA.array(kc.giy * size + k);\n+                    F16 valB = matrixB.array(k * size + kc.gix);\n@@ -94,1 +94,1 @@\n-                F16 resultC = matrixC.array(kc.y * size + kc.x);\n+                F16 resultC = matrixC.array(kc.giy * size + kc.gix);\n@@ -168,1 +168,1 @@\n-            acc += (matrixA.array(kc.x * size + k) * matrixB.array(k * size + j));\n+            acc += (matrixA.array(kc.gix * size + k) * matrixB.array(k * size + j));\n@@ -175,1 +175,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -179,1 +179,1 @@\n-                    acc += (matrixA.array(kc.x * size + k) * matrixB.array(k * size + j));\n+                    acc += (matrixA.array(kc.gix * size + k) * matrixB.array(k * size + j));\n@@ -181,1 +181,1 @@\n-                matrixC.array(kc.x * size + j, acc);\n+                matrixC.array(kc.gix * size + j, acc);\n@@ -188,1 +188,1 @@\n-        if (kc.x < kc.maxX) {\n+        if (kc.gix < kc.gsx) {\n@@ -191,1 +191,1 @@\n-                matrixC.array(kc.x * size + j, acc);\n+                matrixC.array(kc.gix * size + j, acc);\n@@ -288,2 +288,0 @@\n-\n-\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestMatMul.java","additions":19,"deletions":21,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-        data.array(context.x, c);\n+        data.array(context.gix, c);\n@@ -60,1 +60,1 @@\n-        data.array(context.x, c);\n+        data.array(context.gix, c);\n@@ -69,1 +69,1 @@\n-        data.array(context.x, c);\n+        data.array(context.gix, c);\n","filename":"hat\/tests\/src\/main\/java\/hat\/test\/TestParenthesis.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-            if (kc.x < kc.maxX) {\n+            if (kc.gix < kc.gsx) {\n@@ -49,2 +49,2 @@\n-                float x = ((kc.x % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n-                float y = ((kc.x \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n+                float x = ((kc.gix % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n+                float y = ((kc.gix \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n@@ -62,1 +62,1 @@\n-                s32Array2D.array(kc.x, color);\n+                s32Array2D.array(kc.gix, color);\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/text\/TestJavaHATCodeBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-            if (kc.x < kc.maxX) {\n+            if (kc.gix < kc.gsx) {\n@@ -47,2 +47,2 @@\n-                float x = ((kc.x % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n-                float y = ((kc.x \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n+                float x = ((kc.gix % s32Array2D.width()) * scale - (scale \/ 2f * width)) \/ width + offsetx;\n+                float y = ((kc.gix \/ s32Array2D.width()) * scale - (scale \/ 2f * height)) \/ height + offsety;\n@@ -60,1 +60,1 @@\n-                s32Array2D.array(kc.x, color);\n+                s32Array2D.array(kc.gix, color);\n","filename":"hat\/tools\/src\/main\/java\/hat\/tools\/textmodel\/ui\/TestFuncOpViewer.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}
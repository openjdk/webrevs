{"files":[{"patch":"@@ -26,0 +26,1 @@\n+#include <iterator>\n","filename":"hat\/backends\/ffi\/shared\/cpp\/json.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -8,1 +8,1 @@\n-set(JEXTRACT_HEADER ${JEXTRACT_SOURCE}\/${JEXTRACT_PACKAGE}\/${JEXTRACT_PACKAGE}_h.java)  \n+set(JEXTRACT_HEADER ${JEXTRACT_SOURCE}\/${JEXTRACT_PACKAGE}\/${JEXTRACT_PACKAGE}_h.java)\n@@ -15,3 +15,3 @@\n-   COMMAND jextract \n-       --target-package ${JEXTRACT_PACKAGE} \n-       --output ${JEXTRACT_SOURCE} \n+   COMMAND jextract\n+       --target-package ${JEXTRACT_PACKAGE}\n+       --output ${JEXTRACT_SOURCE}\n","filename":"hat\/extractions\/cuda\/CMakeLists.txt","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -11,2 +11,2 @@\n-   set(JEXTRACT_SOURCE ${CMAKE_SOURCE_DIR}\/src\/main\/java)\n-   set(JEXTRACT_HEADER ${JEXTRACT_SOURCE}\/${JEXTRACT_PACKAGE}\/${JEXTRACT_PACKAGE}_h.java)  \n+   set(JEXTRACT_SOURCE ${CMAKE_SOURCE_DIR}\/${JEXTRACT_PACKAGE}\/src\/main\/java)\n+   set(JEXTRACT_HEADER ${JEXTRACT_SOURCE}\/${JEXTRACT_PACKAGE}\/${JEXTRACT_PACKAGE}_h.java)\n@@ -18,1 +18,1 @@\n-   \n+\n@@ -23,5 +23,5 @@\n-        COMMAND jextract \n-            --target-package ${JEXTRACT_PACKAGE} \n-            --output ${JEXTRACT_SOURCE} \n-            --library :${OSX_SYS_LIBRARY_FRAMEWORKS}\/OpenCL.framework\/OpenCL \n-           --header-class-name ${JEXTRACT_PACKAGE}_h\n+        COMMAND jextract\n+            --target-package ${JEXTRACT_PACKAGE}\n+            --output ${JEXTRACT_SOURCE}\n+            --library :${OSX_SYS_LIBRARY_FRAMEWORKS}\/OpenCL.framework\/OpenCL\n+            --header-class-name ${JEXTRACT_PACKAGE}_h\n@@ -33,1 +33,13 @@\n-   \n+     add_custom_command(OUTPUT  ${JEXTRACT_HEADER}\n+        COMMAND echo creating ${JEXTRACT_SOURCE}\n+        COMMAND mkdir -p ${JEXTRACT_SOURCE}\n+        COMMAND jextract\n+            --target-package ${JEXTRACT_PACKAGE}\n+            --output ${JEXTRACT_SOURCE}\n+            --library :${OpenCL_LIBRARY}\n+            --header-class-name ${JEXTRACT_PACKAGE}_h\n+              ${OpenCL_INCLUDE_DIR}\/CL\/opencl.h\n+            WORKING_DIRECTORY \"${CMAKE_BINARY_DIR}\"\n+            VERBATIM\n+       )\n+\n","filename":"hat\/extractions\/opencl\/CMakeLists.txt","additions":21,"deletions":9,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -4,0 +4,4 @@\n+#get_cmake_property(_variableNames VARIABLES)\n+#foreach (_variableName ${_variableNames})\n+#    message(STATUS \"${_variableName}=${${_variableName}}\")\n+#endforeach()\n@@ -8,3 +12,3 @@\n-   set(JEXTRACT_SOURCE ${CMAKE_SOURCE_DIR}\/src\/main\/java)\n-   set(JEXTRACT_HEADER ${JEXTRACT_SOURCE}\/${JEXTRACT_PACKAGE}\/${JEXTRACT_PACKAGE}_h.java)  \n-   \n+   set(JEXTRACT_SOURCE ${CMAKE_SOURCE_DIR}\/${JEXTRACT_PACKAGE}\/src\/main\/java)\n+   set(JEXTRACT_HEADER ${JEXTRACT_SOURCE}\/${JEXTRACT_PACKAGE}\/${JEXTRACT_PACKAGE}_h.java)\n+\n@@ -19,5 +23,5 @@\n-         COMMAND jextract \n-             --target-package ${JEXTRACT_PACKAGE} \n-             --output ${JEXTRACT_SOURCE} \n-             --library :${OSX_SYS_LIBRARY_FRAMEWORKS}\/OpenGL.framework\/OpenGL \n-             --library :${OSX_SYS_LIBRARY_FRAMEWORKS}\/GLUT.framework\/GLUT \n+         COMMAND jextract\n+             --target-package ${JEXTRACT_PACKAGE}\n+             --output ${JEXTRACT_SOURCE}\n+             --library :${OSX_SYS_LIBRARY_FRAMEWORKS}\/OpenGL.framework\/OpenGL\n+             --library :${OSX_SYS_LIBRARY_FRAMEWORKS}\/GLUT.framework\/GLUT\n@@ -33,5 +37,6 @@\n-         COMMAND jextract \n-             --target-package ${JEXTRACT_PACKAGE} \n-             --output ${JEXTRACT_SOURCE} \n-             --library :\/usr\/lib\/aarch64-linux-gnu\/libOpenGL.so\n-             --library :\/usr\/lib\/aarch64-linux-gnu\/libGLU.so\n+         COMMAND jextract\n+             --target-package ${JEXTRACT_PACKAGE}\n+             --output ${JEXTRACT_SOURCE}\n+             --library :\/usr\/lib\/${CMAKE_CXX_LIBRARY_ARCHITECTURE}\/libOpenGL.so\n+#             --library :\/usr\/lib\/${CMAKE_CXX_LIBRARY_ARCHITECTURE}\/libGLU.so\n+             --library :\/usr\/lib\/${CMAKE_CXX_LIBRARY_ARCHITECTURE}\/libglut.so.3.12.0\n@@ -43,1 +48,1 @@\n-   \n+\n@@ -45,1 +50,1 @@\n-   \n+\n","filename":"hat\/extractions\/opengl\/CMakeLists.txt","additions":20,"deletions":15,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -144,0 +144,2 @@\n+    }else{\n+        print(\"no src for jextractedOpenCL\");\n@@ -151,0 +153,2 @@\n+    }else{\n+        print(\"no src for jextractedOpenGL\");\n","filename":"hat\/hat\/bld.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -152,1 +152,4 @@\n-                  config.startOnFirstThread = true;\n+                  if (Script.os instanceof Script.OS.Mac){\n+                     println(\"For MAC we added  --startOnFirstThread\");\n+                     config.startOnFirstThread = true;\n+                  }\n","filename":"hat\/hat\/run.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}
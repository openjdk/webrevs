{"files":[{"patch":"@@ -58,0 +58,2 @@\n+\n+import hat.util.ui.SevenSegmentDisplay;\n@@ -93,2 +95,1 @@\n-    public static void heal(Accelerator accelerator, S32Array2D s32Array2D, Selection selection, Point bestMatchOffset,\n-                            JTextField maskTB, JTextField healTB) {\n+    public static void heal(Accelerator accelerator, S32Array2D s32Array2D, Selection selection, Point bestMatchOffset) {\n@@ -107,1 +108,1 @@\n-        maskTB.setText(Long.toString(System.currentTimeMillis() - start));\n+        \/\/maskTB.setText(Long.toString(System.currentTimeMillis() - start));\n@@ -173,1 +174,1 @@\n-        healTB.setText(Long.toString(System.currentTimeMillis() - start));\n+      \/\/  healTB.setText(Long.toString(System.currentTimeMillis() - start));\n@@ -273,1 +274,1 @@\n-    public static Point getBestMatchOffset(Accelerator accelerator, S32Array2D s32Array2D, Selection selection, JTextField searchTB) {\n+    public static Point getBestMatchOffset(Accelerator accelerator, S32Array2D s32Array2D, Selection selection, SevenSegmentDisplay searchSevenSegmentDisplay) {\n@@ -325,1 +326,2 @@\n-            searchTB.setText(Long.toString(System.currentTimeMillis() - hatStart));\n+            searchSevenSegmentDisplay.set((int)(System.currentTimeMillis() - hatStart));\n+           \/\/ searchTB.setText(Long.toString(System.currentTimeMillis() - hatStart));\n","filename":"hat\/examples\/heal\/src\/main\/java\/heal\/Compute.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+import hat.util.ui.SevenSegmentDisplay;\n@@ -107,2 +108,2 @@\n-                        bestMatchOffset = Compute.getBestMatchOffset(accelerator, s32Array2D, selection.close(), controls.search);\n-                        Compute.heal(accelerator, s32Array2D, selection, bestMatchOffset, controls.mask, controls.heal);\n+                        bestMatchOffset = Compute.getBestMatchOffset(accelerator, s32Array2D, selection.close(), controls.sevenSegmentDisplay);\n+                        Compute.heal(accelerator, s32Array2D, selection, bestMatchOffset);\n@@ -227,2 +228,2 @@\n-        JTextField mask;\n-        JTextField heal;\n+       \/\/ JTextField mask;\n+       \/\/ JTextField heal;\n@@ -230,0 +231,1 @@\n+        SevenSegmentDisplay sevenSegmentDisplay;\n@@ -234,3 +236,5 @@\n-            search = create (\"Search ms\");\n-            mask = create (\"Mask ms\");\n-            heal = create (\"Heal ms\");\n+            menuBar.add(new JLabel(\"Search\"));\n+            sevenSegmentDisplay = (SevenSegmentDisplay) menuBar.add(new SevenSegmentDisplay(4,20));\n+          \/\/ search = create (\"Search ms\");\n+           \/\/ mask = create (\"Mask ms\");\n+           \/\/ heal = create (\"Heal ms\");\n@@ -238,1 +242,1 @@\n-         JTextField create (String name){\n+        \/* JTextField create (String name){\n@@ -243,1 +247,1 @@\n-         }\n+         } *\/\n","filename":"hat\/examples\/heal\/src\/main\/java\/heal\/Viewer.java","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import hat.buffer.BufferAllocator;\n@@ -34,0 +33,1 @@\n+import hat.util.ui.SevenSegmentDisplay;\n@@ -40,0 +40,2 @@\n+import javax.swing.JLabel;\n+import javax.swing.JMenuBar;\n@@ -51,1 +53,0 @@\n-import java.lang.invoke.MethodHandles;\n@@ -57,1 +58,2 @@\n-\n+    private final SevenSegmentDisplay foundCountSevenSegment;\n+    private final SevenSegmentDisplay timeSevenSegment;\n@@ -159,1 +161,1 @@\n-    public void showResults(ResultTable resultTable, ScaleTable scaleTable, S32Array resultIds) {\n+    public void showResults(ResultTable resultTable, ScaleTable scaleTable, S32Array resultIds, long ms) {\n@@ -163,0 +165,1 @@\n+        this.timeSevenSegment.set((int)ms);\n@@ -199,1 +202,3 @@\n-                    for (int i = 0; i < resultTable.atomicResultTableCount(); i++) {\n+                    var facesFound = resultTable.atomicResultTableCount();\n+                    foundCountSevenSegment.set(facesFound);\n+                    for (int i = 0; i < facesFound; i++) {\n@@ -247,0 +252,9 @@\n+        JMenuBar menuBar = new JMenuBar();\n+        menuBar.add(new JLabel(\"Found\"));\n+        this.foundCountSevenSegment = (SevenSegmentDisplay)\n+                menuBar.add(new SevenSegmentDisplay(6,30));\n+        menuBar.add(new JLabel(\" faces in \"));\n+        this.timeSevenSegment = (SevenSegmentDisplay)\n+                menuBar.add(new SevenSegmentDisplay(6,30));\n+        menuBar.add(new JLabel(\"ms\"));\n+        setJMenuBar(menuBar);\n","filename":"hat\/examples\/violajones\/src\/main\/java\/violajones\/HaarViewer.java","additions":19,"deletions":5,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -78,0 +78,2 @@\n+            long start = System.currentTimeMillis();\n+\n@@ -79,4 +81,8 @@\n-            System.out.println(resultTable.atomicResultTableCount()+ \"faces found\");\n-        }\n-        if (haarViewer != null) {\n-            haarViewer.showResults(resultTable, null, null);\n+            if (headless) {\n+                System.out.print(resultTable.atomicResultTableCount() + \"faces found in\");\n+                System.out.println((System.currentTimeMillis() - start)+\"ms\");\n+            }else{\n+                if (haarViewer != null) {\n+                    haarViewer.showResults(resultTable, null, null, (System.currentTimeMillis() - start));\n+                }\n+            }\n@@ -84,0 +90,1 @@\n+\n","filename":"hat\/examples\/violajones\/src\/main\/java\/violajones\/Main.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -311,1 +311,1 @@\n-        long start = System.currentTimeMillis();\n+\n@@ -328,1 +328,0 @@\n-        System.out.println((System.currentTimeMillis() - start)+\"ms\");\n","filename":"hat\/examples\/violajones\/src\/main\/java\/violajones\/ViolaJonesCoreCompute.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -342,2 +342,3 @@\n-            System.out.println(\"done \" + (System.currentTimeMillis() - start) + \"ms\");\n-            harViz.showResults(resultTable, null, null);\n+            long ms = (System.currentTimeMillis() - start);\n+            System.out.println(\"done \" + ms + \"ms\");\n+            harViz.showResults(resultTable, null, null, ms);\n","filename":"hat\/examples\/violajones\/src\/main\/java\/violajones\/attic\/ViolaJones.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}
{"files":[{"patch":"@@ -12,28 +12,2 @@\n-        include_directories(\n-                ${CMAKE_SOURCE_DIR}\/opencl\/shared\/include\n-                ${CMAKE_SOURCE_DIR}\/opencl\/include\n-                ${CMAKE_SOURCE_DIR}\/shared\/include\n-                \"-framework OpenCL\"\n-        )\n-        link_directories(\n-                ${CMAKE_BINARY_DIR}\n-        )\n-\n-        add_library(opencl_backend SHARED\n-                ${CMAKE_SOURCE_DIR}\/shared\/cpp\/shared.cpp\n-                ${CMAKE_SOURCE_DIR}\/opencl\/cpp\/opencl_backend.cpp\n-        )\n-\n-        target_link_libraries(opencl_backend\n-                \"-framework OpenCL\"\n-        )\n-\n-        add_executable(opencl_info\n-                ${CMAKE_SOURCE_DIR}\/opencl\/cpp\/info.cpp\n-        )\n-\n-        target_link_libraries(opencl_info\n-                opencl_backend\n-                \"-framework OpenCL\"\n-        )\n-        add_custom_target(backends DEPENDS opencl_info opencl_backend)\n+       set(OPENCL_INCLUDE_DIR \"-framework OpenCL\")\n+       set(OPENCL_LIB \"-framework OpenCL\")\n@@ -41,1 +15,2 @@\n-        message(\"OPENCL but not on APPLE\")\n+       #set(OPENCL_INCLUDE_DIR \"-framework OpenCL\")  \n+       set(OPENCL_LIB \"OpenCL\")\n@@ -44,0 +19,28 @@\n+    include_directories(\n+        ${CMAKE_SOURCE_DIR}\/opencl\/shared\/include\n+        ${CMAKE_SOURCE_DIR}\/opencl\/include\n+        ${CMAKE_SOURCE_DIR}\/shared\/include\n+        ${OPENCL_INCLUDE_DIR}\n+    )\n+    link_directories(\n+        ${CMAKE_BINARY_DIR}\n+    )\n+\n+    add_library(opencl_backend SHARED\n+        ${CMAKE_SOURCE_DIR}\/shared\/cpp\/shared.cpp\n+        ${CMAKE_SOURCE_DIR}\/opencl\/cpp\/opencl_backend.cpp\n+    )\n+\n+    target_link_libraries(opencl_backend\n+        ${OPENCL_LIB}\n+    )\n+\n+    add_executable(opencl_info\n+        ${CMAKE_SOURCE_DIR}\/opencl\/cpp\/info.cpp\n+    )\n+\n+    target_link_libraries(opencl_info\n+        opencl_backend\n+        ${OPENCL_LIB}\n+    )\n+    add_custom_target(opencl_natives DEPENDS opencl_info opencl_backend)\n@@ -79,1 +82,1 @@\n-    add_custom_target(backends DEPENDS cuda_info cuda_backend)\n+    add_custom_target(cuda_natives DEPENDS cuda_info cuda_backend)\n","filename":"hat\/backends\/CMakeLists.txt","additions":33,"deletions":30,"binary":false,"changes":63,"status":"modified"}]}
{"files":[{"patch":"@@ -351,1 +351,1 @@\n-    private static void print(StringBuilder out, int indent, String name, Object value) throws ReflectiveOperationException {\n+    private static void print(StringBuilder out, int indent, String name, Object value, boolean skipBigData) throws ReflectiveOperationException {\n@@ -357,1 +357,1 @@\n-                for (var el : l) print(out, indent + 1, \"- \" + name, el);\n+                for (var el : l) print(out, indent + 1, \"- \" + name, el, skipBigData);\n@@ -362,1 +362,1 @@\n-                    print(out, indent + 2, rc.getName(), rc.getAccessor().invoke(r));\n+                    print(out, indent + 2, rc.getName(), rc.getAccessor().invoke(r), skipBigData);\n@@ -366,1 +366,1 @@\n-                out.append(checkSize(a.length, () -> Arrays.toString(a)));\n+                out.append(checkSize(a.length, () -> Arrays.toString(a), skipBigData));\n@@ -368,1 +368,1 @@\n-                out.append(checkSize(a.length, () -> Arrays.toString(a)));\n+                out.append(checkSize(a.length, () -> Arrays.toString(a), skipBigData));\n@@ -370,1 +370,1 @@\n-                out.append(checkSize(a.length, () -> Arrays.toString(a)));\n+                out.append(checkSize(a.length, () -> Arrays.toString(a), skipBigData));\n@@ -372,1 +372,1 @@\n-                out.append(checkSize(a.length, () -> Arrays.toString(a)));\n+                out.append(checkSize(a.length, () -> Arrays.toString(a), skipBigData));\n@@ -380,2 +380,4 @@\n-    static String checkSize(int size, Supplier<String> sup) {\n-        return \": \" + (size > 1000 ? \"# skipped \" + size + \" values\" : \": \" + sup.get()) + System.lineSeparator();\n+    private static final int SKIP_LIMIT = 1000;\n+\n+    private static String checkSize(int size, Supplier<String> sup, boolean skipBigData) {\n+        return \": \" + (skipBigData && size > SKIP_LIMIT ? \"# skipped \" + size + \" values\" : \": \" + sup.get()) + System.lineSeparator();\n@@ -385,0 +387,4 @@\n+        return toText(true);\n+    }\n+\n+    public String toText(boolean skipBigData) {\n@@ -387,1 +393,1 @@\n-            print(sb, 0, \"OnnxProtoModel\", this);\n+            print(sb, 0, \"OnnxProtoModel\", this, skipBigData);\n","filename":"cr-examples\/onnx\/src\/main\/java\/oracle\/code\/onnx\/proto\/OnnxProtoModel.java","additions":16,"deletions":10,"binary":false,"changes":26,"status":"modified"}]}
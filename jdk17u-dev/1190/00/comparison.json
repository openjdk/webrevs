{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-    public static void main(String argv[]) {\n+    public static void main(String[] argv) {\n@@ -107,2 +107,2 @@\n-        \/\/ uncomment the following line to reproduce JDK-8210927\n-        \/\/verifyBPSource(2, bp2Reply);\n+        \/\/ verify source code is printed correctly\n+        verifyBPSource(2, bp2Reply);\n","filename":"test\/jdk\/com\/sun\/jdi\/RedefineTTYLineNumber.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+import java.io.File;\n@@ -278,0 +279,4 @@\n+\n+    public static JdbCommand use(String... sourcePath) {\n+        return new JdbCommand(\"use \" + String.join(File.pathSeparator, sourcePath));\n+    }\n","filename":"test\/jdk\/com\/sun\/jdi\/lib\/jdb\/JdbCommand.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -201,3 +201,4 @@\n-    \/\/ transforms class with the specified id (see {@code ClassTransformer})\n-    \/\/ and executes \"redefine\" jdb command for {@code launchOptions.debuggeeClass}.\n-    \/\/ returns reply for the command.\n+    \/\/ transforms class with the specified id (see {@code ClassTransformer}),\n+    \/\/ executes \"redefine\" jdb command for {@code launchOptions.debuggeeClass}\n+    \/\/ and updates source path by using \"use\" jdb command.\n+    \/\/ returns reply for the commands.\n@@ -208,1 +209,3 @@\n-        return jdb.command(JdbCommand.redefine(launchOptions.debuggeeClass, transformedClassFile));\n+        List<String> reply = jdb.command(JdbCommand.redefine(launchOptions.debuggeeClass, transformedClassFile));\n+        reply.addAll(jdb.command(JdbCommand.use(Paths.get(transformedClassFile).getParent().toString())));\n+        return reply;\n","filename":"test\/jdk\/com\/sun\/jdi\/lib\/jdb\/JdbTest.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}
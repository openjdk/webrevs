{"files":[{"patch":"@@ -35,0 +35,1 @@\n+import javax.swing.JSpinner;\n@@ -124,1 +125,5 @@\n-                    valueChanged(ptr);\n+                    AccessibleContext thisAC = accessible.getAccessibleContext();\n+                    Accessible parentAccessible = thisAC.getAccessibleParent();\n+                    if (!(parentAccessible instanceof JSpinner.NumberEditor)) {\n+                        valueChanged(ptr);\n+                    }\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CAccessible.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -0,0 +1,75 @@\n+\/*\n+ * Copyright (c) 2025, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.BorderLayout;\n+\n+import javax.swing.JFrame;\n+import javax.swing.JSpinner;\n+import javax.swing.SpinnerModel;\n+import javax.swing.SpinnerNumberModel;\n+\n+\/*\n+ * @test\n+ * @bug 8286204\n+ * @summary Verifies that VoiceOver announces the JSpinner's value correctly\n+ * @requires os.family == \"mac\"\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual TestJSpinnerAccessibility\n+ *\/\n+\n+public class TestJSpinnerAccessibility {\n+    public static void main(String[] args) throws Exception {\n+        String INSTRUCTIONS = \"\"\"\n+                Test UI contains a JSpinner with minimum value 0, maximum value 20\n+                and current value 5. On press of up \/ down arrow, value will be\n+                incremented \/ decremented by 1.\n+\n+                Follow these steps to test the behaviour:\n+\n+                1. Start the VoiceOver (Press Command + F5) application\n+                2. Move focus on test window if it is not focused\n+                3. Press Up \/ Down arrow to increase \/ decrease Spinner value\n+                4. VO should announce correct values in terms of percentage\n+                   (e.g. For JSpinner's value 10, VO should announce 50%)\n+                5. Press Pass if you are able to hear correct announcements\n+                   else Fail\"\"\";\n+\n+        PassFailJFrame.builder()\n+                .title(\"TestJSpinnerAccessibility Instruction\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(40)\n+                .testUI(TestJSpinnerAccessibility::createUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createUI() {\n+        JFrame frame = new JFrame(\"A Frame with JSpinner\");\n+        SpinnerModel spinnerModel = new SpinnerNumberModel(5, 0, 20, 1);\n+        JSpinner spinner = new JSpinner(spinnerModel);\n+        frame.getContentPane().add(spinner, BorderLayout.CENTER);\n+        frame.setSize(200, 100);\n+        return frame;\n+    }\n+}\n","filename":"test\/jdk\/javax\/accessibility\/TestJSpinnerAccessibility.java","additions":75,"deletions":0,"binary":false,"changes":75,"status":"added"}]}
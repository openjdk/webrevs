{"files":[{"patch":"@@ -219,3 +219,3 @@\n-      $(EXPR) `wmic computersystem get totalphysicalmemory -value \\\n-          | $(GREP) = | $(SED) 's\/\\\\r\/\/g' \\\n-          | $(CUT) -d \"=\" -f 2-` \/ 1024 \/ 1024 \\\n+      $(EXPR) `powershell -Command \\\n+          \"(Get-CimInstance Win32_ComputerSystem).TotalPhysicalMemory\" \\\n+          | $(SED) 's\/\\\\r\/\/g' ` \/ 1024 \/ 1024 \\\n","filename":"make\/RunTestsPrebuilt.gmk","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -88,1 +88,2 @@\n-    MEMORY_SIZE=`wmic computersystem get totalphysicalmemory -value | grep = | cut -d \"=\" -f 2-`\n+    MEMORY_SIZE=`powershell -Command \\\n+        \"(Get-CimInstance Win32_ComputerSystem).TotalPhysicalMemory\" | $SED 's\/\\\\r\/\/g' `\n","filename":"make\/autoconf\/build-performance.m4","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2015, 2024, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n-config.getChildren.app=bash\n+config.getChildren.app=powershell\n@@ -27,1 +27,0 @@\n-config.getChildren.args=-c\\0wmic process where ParentProcessId=%p get ProcessId | tail -n+2\n@@ -29,0 +28,1 @@\n+config.getChildren.args=-NoLogo\\0-Command\\0\"Get-CimInstance Win32_Process -Filter \\\\\\\"ParentProcessId = %p\\\\\\\" | Select-Object ProcessId\" | tail -n+4\n@@ -42,2 +42,3 @@\n-native.info.app=wmic\n-native.info.args=process where processId=%p list full\n+native.info.app=powershell\n+native.info.delimiter=\\0\n+native.info.args=-NoLogo\\0-Command\\0\"Get-WmiObject Win32_Process -Filter \\\\\\\"ProcessId = %p\\\\\\\" | Format-List -Property *\"\n@@ -99,2 +100,3 @@\n-system.os.app=wmic\n-system.os.args=os get \/format:list\n+system.os.app=powershell\n+system.os.delimiter=\\0\n+system.os.args=-NoLogo\\0-Command\\0Get-WmiObject Win32_OperatingSystem | Format-List -Property *\n","filename":"test\/failure_handler\/src\/share\/conf\/windows.properties","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import java.util.NoSuchElementException;\n@@ -103,12 +102,8 @@\n-        \/\/ Get the list of PIDs and PPIDs of app launcher processes.\n-        \/\/ wmic process where (name = \"foo.exe\") get ProcessID,ParentProcessID\n-        List<String> output = Executor.of(\"wmic\", \"process\", \"where\", \"(name\",\n-                \"=\",\n-                \"\\\"\" + cmd.appLauncherPath().getFileName().toString() + \"\\\"\",\n-                \")\", \"get\", \"ProcessID,ParentProcessID\").dumpOutput(true).\n-                saveOutput().executeAndGetOutput();\n-\n-        if (output.isEmpty()) {\n-            throw new NoSuchElementException();\n-        }\n-        String first = output.get(0);\n+        \/\/ Get the list of PIDs and PPIDs of app launcher processes. Run setWinRunWithEnglishOutput(true) for JDK-8344275.\n+        \/\/ powershell -NoLogo -NoProfile -NonInteractive -Command\n+        \/\/   \"Get-CimInstance Win32_Process -Filter \\\"Name = 'foo.exe'\\\" | select ProcessID,ParentProcessID\"\n+        String command = \"Get-CimInstance Win32_Process -Filter \\\\\\\"Name = '\"\n+                + cmd.appLauncherPath().getFileName().toString()\n+                + \"'\\\\\\\" | select ProcessID,ParentProcessID\";\n+        List<String> output = Executor.of(\"powershell\", \"-NoLogo\", \"-NoProfile\", \"-NonInteractive\", \"-Command\", command)\n+                .dumpOutput(true).saveOutput().executeAndGetOutput();\n@@ -117,3 +112,3 @@\n-            TKit.assertEquals(\"No Instance(s) Available.\", first.\n-                    trim(), \"Check no app launcher processes found running\");\n-            return Optional.empty();\n+            if (output.size() < 1) {\n+                return Optional.empty();\n+            }\n@@ -122,1 +117,1 @@\n-        String[] headers = Stream.of(first.split(\"\\\\s+\", 2)).map(\n+        String[] headers = Stream.of(output.get(1).split(\"\\\\s+\", 2)).map(\n@@ -127,1 +122,1 @@\n-            pattern = Pattern.compile(\"^(?<ppid>\\\\d+)\\\\s+(?<pid>\\\\d+)\\\\s+$\");\n+            pattern = Pattern.compile(\"^\\\\s+(?<ppid>\\\\d+)\\\\s+(?<pid>\\\\d+)$\");\n@@ -130,1 +125,1 @@\n-            pattern = Pattern.compile(\"^(?<pid>\\\\d+)\\\\s+(?<ppid>\\\\d+)\\\\s+$\");\n+            pattern = Pattern.compile(\"^\\\\s+(?<pid>\\\\d+)\\\\s+(?<ppid>\\\\d+)$\");\n@@ -133,1 +128,1 @@\n-                    \"Unrecognizable output of \\'wmic process\\' command\");\n+                    \"Unrecognizable output of \\'Get-CimInstance Win32_Process\\' command\");\n@@ -136,1 +131,1 @@\n-        List<long[]> processes = output.stream().skip(1).map(line -> {\n+        List<long[]> processes = output.stream().skip(3).map(line -> {\n","filename":"test\/jdk\/tools\/jpackage\/windows\/Win8301247Test.java","additions":16,"deletions":21,"binary":false,"changes":37,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -131,1 +131,1 @@\n-            ancestorLoc.translate(isOel7() ? 5 : f.getWidth() \/ 2 - 15, 2);\n+            ancestorLoc.translate(isOel7orLater() ? 5 : f.getWidth() \/ 2 - 15, 2);\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/GlassPaneOverlappingTestBase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+import java.util.regex.*;\n@@ -145,1 +146,1 @@\n-            ancestorLoc.translate(isOel7() ? 5 :\n+            ancestorLoc.translate(isOel7orLater() ? 5 :\n@@ -161,4 +162,12 @@\n-    public boolean isOel7() {\n-        return System.getProperty(\"os.name\").toLowerCase()\n-                .contains(\"linux\") && System.getProperty(\"os.version\")\n-                .toLowerCase().contains(\"el7\");\n+    public boolean isOel7orLater() {\n+        if (System.getProperty(\"os.name\").toLowerCase().contains(\"linux\") &&\n+            System.getProperty(\"os.version\").toLowerCase().contains(\"el\")) {\n+            Pattern p = Pattern.compile(\"el(\\\\d+)\");\n+            Matcher m = p.matcher(System.getProperty(\"os.version\"));\n+            if (m.find()) {\n+                try {\n+                    return Integer.parseInt(m.group(1)) >= 7;\n+                } catch (NumberFormatException nfe) {}\n+            }\n+        }\n+        return false;\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/SimpleOverlappingTestBase.java","additions":15,"deletions":6,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-            } else if (SystemTrayIconHelper.isOel7()) {\n+            } else if (SystemTrayIconHelper.isOel7orLater()) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/ActionCommand\/ActionCommand.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-            } else if (SystemTrayIconHelper.isOel7()) {\n+            } else if (SystemTrayIconHelper.isOel7orLater()) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/ActionEventMask\/ActionEventMask.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-    private static boolean isOEL7;\n+    private static boolean isOel7orLater;\n@@ -88,1 +88,1 @@\n-            isOEL7 = SystemTrayIconHelper.isOel7();\n+            isOel7orLater = SystemTrayIconHelper.isOel7orLater();\n@@ -233,1 +233,1 @@\n-        if (isOEL7) {\n+        if (isOel7orLater) {\n@@ -246,1 +246,1 @@\n-        if(!isOEL7) {\n+        if(!isOel7orLater) {\n@@ -263,1 +263,1 @@\n-            if(isOEL7) {\n+            if(isOel7orLater) {\n@@ -286,1 +286,1 @@\n-            if(isOEL7) {\n+            if(isOel7orLater) {\n@@ -318,1 +318,1 @@\n-        if (!isOEL7) {\n+        if (!isOel7orLater) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/ModalityTest\/ModalityTest.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -78,1 +78,1 @@\n-            } else if (SystemTrayIconHelper.isOel7()) {\n+            } else if (SystemTrayIconHelper.isOel7orLater()) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/MouseEventMask\/MouseEventMaskTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,1 @@\n-        if (SystemTrayIconHelper.isOel7()) {\n+        if (SystemTrayIconHelper.isOel7orLater()) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/MouseMovedTest\/MouseMovedTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,1 +58,1 @@\n-    static boolean isOEL7;\n+    static boolean isOel7orLater;\n@@ -77,1 +77,1 @@\n-            isOEL7 = SystemTrayIconHelper.isOel7();\n+            isOel7orLater = SystemTrayIconHelper.isOel7orLater();\n@@ -197,1 +197,1 @@\n-        if (isOEL7) {\n+        if (isOel7orLater) {\n@@ -206,1 +206,1 @@\n-        if(!isOEL7) {\n+        if(!isOel7orLater) {\n@@ -223,1 +223,1 @@\n-            if(isOEL7) {\n+            if(isOel7orLater) {\n@@ -246,1 +246,1 @@\n-            if(isOEL7) {\n+            if(isOel7orLater) {\n@@ -278,1 +278,1 @@\n-        if(!isOEL7) {\n+        if(!isOel7orLater) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/SecurityCheck\/FunctionalityCheck\/FunctionalityCheck.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,2 @@\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n@@ -213,1 +215,1 @@\n-        if(isOel7()) {\n+        if(isOel7orLater()) {\n@@ -237,4 +239,12 @@\n-    public static boolean isOel7() {\n-        return System.getProperty(\"os.name\").toLowerCase()\n-                .contains(\"linux\") && System.getProperty(\"os.version\")\n-                .toLowerCase().contains(\"el7\");\n+    public static boolean isOel7orLater() {\n+        if (System.getProperty(\"os.name\").toLowerCase().contains(\"linux\") &&\n+            System.getProperty(\"os.version\").toLowerCase().contains(\"el\")) {\n+            Pattern p = Pattern.compile(\"el(\\\\d+)\");\n+            Matcher m = p.matcher(System.getProperty(\"os.version\"));\n+            if (m.find()) {\n+                try {\n+                    return Integer.parseInt(m.group(1)) >= 7;\n+                } catch (NumberFormatException nfe) {}\n+            }\n+        }\n+        return false;\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/SystemTrayIconHelper.java","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -113,1 +113,1 @@\n-            if (SystemTrayIconHelper.isOel7()) {\n+            if (SystemTrayIconHelper.isOel7orLater()) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/TrayIconEventModifiers\/TrayIconEventModifiersTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-    private static boolean isOEL7;\n+    private static boolean isOel7orLater;\n@@ -85,1 +85,1 @@\n-            isOEL7 = SystemTrayIconHelper.isOel7();\n+            isOel7orLater = SystemTrayIconHelper.isOel7orLater();\n@@ -204,1 +204,1 @@\n-        if (isOEL7) {\n+        if (isOel7orLater) {\n@@ -213,1 +213,1 @@\n-        if(!isOEL7) {\n+        if(!isOel7orLater) {\n@@ -230,1 +230,1 @@\n-            if(isOEL7) {\n+            if(isOel7orLater) {\n@@ -253,1 +253,1 @@\n-            if(isOEL7) {\n+            if(isOel7orLater) {\n@@ -286,1 +286,1 @@\n-        if (!isOEL7) {\n+        if (!isOel7orLater) {\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/TrayIconEvents\/TrayIconEventsTest.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -79,1 +79,1 @@\n-                isOelOS = SystemTrayIconHelper.isOel7();\n+                isOelOS = SystemTrayIconHelper.isOel7orLater();\n","filename":"test\/jdk\/java\/awt\/TrayIcon\/TrayIconMouseTest\/TrayIconMouseTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,1 +46,1 @@\n-        ref: 'release-${{ steps.version.outputs.value }}'\n+        ref: 'v${{ steps.version.outputs.value }}'\n","filename":".github\/actions\/get-gtest\/action.yml","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -517,1 +517,1 @@\n-<p>Building of Hotspot Gtest suite requires the source code of Google Test framework. The top directory, which contains both <code>googletest<\/code> and <code>googlemock<\/code> directories, should be specified via <code>--with-gtest<\/code>. The supported version of Google Test is 1.8.1, whose source code can be obtained:<\/p>\n+<p>Building of Hotspot Gtest suite requires the source code of Google Test framework. The top directory, which contains both <code>googletest<\/code> and <code>googlemock<\/code> directories, should be specified via <code>--with-gtest<\/code>. The supported version of Google Test is 1.13.0, whose source code can be obtained:<\/p>\n@@ -519,2 +519,2 @@\n-<li>by downloading and unpacking the source bundle from <a href=\"https:\/\/github.com\/google\/googletest\/releases\/tag\/release-1.8.1\">here<\/a><\/li>\n-<li>or by checking out <code>release-1.8.1<\/code> tag of <code>googletest<\/code> project: <code>git clone -b release-1.8.1 https:\/\/github.com\/google\/googletest<\/code><\/li>\n+<li>by downloading and unpacking the source bundle from <a href=\"https:\/\/github.com\/google\/googletest\/releases\/tag\/v1.13.0\">here<\/a><\/li>\n+<li>or by checking out <code>v1.13.0<\/code> tag of <code>googletest<\/code> project: <code>git clone -b v1.13.0 https:\/\/github.com\/google\/googletest<\/code><\/li>\n","filename":"doc\/building.html","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -855,7 +855,8 @@\n-Building of Hotspot Gtest suite requires the source code of Google Test framework.\n-The top directory, which contains both `googletest` and `googlemock`\n-directories, should be specified via `--with-gtest`.\n-The supported version of Google Test is 1.8.1, whose source code can be obtained:\n-\n- * by downloading and unpacking the source bundle from [here](https:\/\/github.com\/google\/googletest\/releases\/tag\/release-1.8.1)\n- * or by checking out `release-1.8.1` tag of `googletest` project: `git clone -b release-1.8.1 https:\/\/github.com\/google\/googletest`\n+Building of Hotspot Gtest suite requires the source code of Google\n+Test framework.  The top directory, which contains both `googletest`\n+and `googlemock` directories, should be specified via `--with-gtest`.\n+The minimum supported version of Google Test is 1.13.0, whose source\n+code can be obtained:\n+\n+ * by downloading and unpacking the source bundle from [here](https:\/\/github.com\/google\/googletest\/releases\/tag\/v1.13.0)\n+ * or by checking out `v1.13.0` tag of `googletest` project: `git clone -b v1.13.0 https:\/\/github.com\/google\/googletest`\n","filename":"doc\/building.md","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+GTEST_MINIMUM_VERSION=1.13.0\n@@ -61,14 +62,7 @@\n-        # Try to verify version. We require 1.8.1, but this can not be directly\n-        # determined. :-( Instead, there are different, incorrect version\n-        # numbers we can look for.\n-        GTEST_VERSION_1=\"`$GREP GOOGLETEST_VERSION $GTEST_FRAMEWORK_SRC\/CMakeLists.txt | $SED -E -e 's\/set\\(GOOGLETEST_VERSION (.*)\\)\/\\1\/'`\"\n-        if test \"x$GTEST_VERSION_1\" != \"x1.9.0\"; then\n-          AC_MSG_ERROR([gtest at $GTEST_FRAMEWORK_SRC does not seem to be version 1.8.1])\n-        fi\n-\n-        # We cannot grep for \"AC_IN*T\" as a literal since then m4 will treat it as a macro\n-        # and expand it.\n-        # Additional [] needed to keep m4 from mangling shell constructs.\n-        [ GTEST_VERSION_2=\"`$GREP -A1 ^.C_INIT $GTEST_FRAMEWORK_SRC\/configure.ac | $TAIL -n 1 | $SED -E -e 's\/ +\\[(.*)],\/\\1\/'`\" ]\n-        if test \"x$GTEST_VERSION_2\" != \"x1.8.0\"; then\n-          AC_MSG_ERROR([gtest at $GTEST_FRAMEWORK_SRC does not seem to be version 1.8.1 B])\n+        # Verify that the version is the required one.\n+        # This is a simplified version of TOOLCHAIN_CHECK_COMPILER_VERSION\n+        gtest_version=\"`$GREP GOOGLETEST_VERSION $GTEST_FRAMEWORK_SRC\/CMakeLists.txt | $SED -E -e 's\/set\\(GOOGLETEST_VERSION (.*)\\)\/\\1\/'`\"\n+        comparable_actual_version=`$AWK -F. '{ printf(\"%05d%05d%05d%05d\\n\", [$]1, [$]2, [$]3, [$]4) }' <<< \"$gtest_version\"`\n+        comparable_minimum_version=`$AWK -F. '{ printf(\"%05d%05d%05d%05d\\n\", [$]1, [$]2, [$]3, [$]4) }' <<< \"$GTEST_MINIMUM_VERSION\"`\n+        if test $comparable_actual_version -lt $comparable_minimum_version ; then\n+          AC_MSG_ERROR([gtest version is too old, at least version $GTEST_MINIMUM_VERSION is required])\n","filename":"make\/autoconf\/lib-tests.m4","additions":8,"deletions":14,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n-GTEST_VERSION=1.8.1\n+GTEST_VERSION=1.13.0\n","filename":"make\/conf\/github-actions.conf","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1245,1 +1245,1 @@\n-            revision: \"1.8.1\"\n+            revision: \"1.13.0+1.0\"\n","filename":"make\/conf\/jib-profiles.js","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -234,1 +234,1 @@\n-  if (::testing::internal::GTEST_FLAG(internal_run_death_test).length() > 0) {\n+  if (::testing::GTEST_FLAG(internal_run_death_test).length() > 0) {\n","filename":"test\/hotspot\/gtest\/gtestMain.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}
{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -111,0 +111,1 @@\n+        HttpServerAdapters.enableServerLogging();\n@@ -146,1 +147,1 @@\n-        var ps = proxySelector = ProxySelector.of(proxy.getProxyAddress());\n+        proxySelector = ProxySelector.of(proxy.getProxyAddress());\n@@ -148,2 +149,0 @@\n-        \/\/ Creates a client that uses the above proxy selector\n-        client = newHttpClient(ps);\n@@ -180,3 +179,6 @@\n-            \/\/ tests proxy and server authentication through:\n-            \/\/ - plain proxy connection to plain HTTP\/1.1 server,\n-            test.test(Version.HTTP_1_1, \"http\", \"\/foo\/http1\");\n+            {\n+                HttpClient client = test.newHttpClient(test.proxySelector);\n+                \/\/ tests proxy and server authentication through:\n+                \/\/ - plain proxy connection to plain HTTP\/1.1 server,\n+                test.test(client, Version.HTTP_1_1, \"http\", \"\/foo\/http1\");\n+            }\n@@ -189,2 +191,3 @@\n-            test.client = test.newHttpClient(test.proxySelector);\n-            test.test(Version.HTTP_2, \"http\", \"\/foo\/http2\");\n+            {\n+                HttpClient client = test.newHttpClient(test.proxySelector);\n+                test.test(client, Version.HTTP_2, \"http\", \"\/foo\/http2\");\n@@ -192,2 +195,2 @@\n-            \/\/ - proxy tunnel SSL connection to HTTP\/1.1 server\n-            test.test(Version.HTTP_1_1, \"https\", \"\/foo\/https1\");\n+                \/\/ - proxy tunnel SSL connection to HTTP\/1.1 server\n+                test.test(client, Version.HTTP_1_1, \"https\", \"\/foo\/https1\");\n@@ -195,2 +198,3 @@\n-            \/\/ - proxy tunnel SSl connection to HTTP\/2 server\n-            test.test(Version.HTTP_2, \"https\", \"\/foo\/https2\");\n+                \/\/ - proxy tunnel SSl connection to HTTP\/2 server\n+                test.test(client, Version.HTTP_2, \"https\", \"\/foo\/https2\");\n+            }\n@@ -230,1 +234,1 @@\n-    public void test(Version version, String scheme, String path) throws Exception {\n+    public void test(HttpClient client, Version version, String scheme, String path) throws Exception {\n@@ -237,1 +241,1 @@\n-                    .host(\"localhost\")\n+                    .loopback()\n","filename":"test\/jdk\/java\/net\/httpclient\/HttpsTunnelAuthTest.java","additions":19,"deletions":15,"binary":false,"changes":34,"status":"modified"}]}
{"files":[{"patch":"@@ -0,0 +1,99 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.BorderLayout;\n+import java.awt.Frame;\n+import java.awt.Label;\n+import java.awt.Menu;\n+import java.awt.MenuBar;\n+import java.awt.MenuItem;\n+import java.awt.ScrollPane;\n+import java.awt.Window;\n+import java.util.List;\n+\n+\/*\n+ * @test\n+ * @bug 4084766\n+ * @summary Test for bug(s): 4084766\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual FrameMenuPackTest\n+ *\/\n+\n+public class FrameMenuPackTest {\n+    private static final String INSTRUCTIONS = \"\"\"\n+            Check that both frames that appear are properly packed with\n+            the scrollpane visible.\n+            \"\"\";\n+\n+    public static void main(String[] argv) throws Exception {\n+        PassFailJFrame.builder()\n+                .title(\"FrameMenuPackTest Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(45)\n+                .testUI(FrameMenuPackTest::createAndShowUI)\n+                .positionTestUIRightRow()\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static List<Window> createAndShowUI() {\n+        \/\/ Frame without menu, packs correctly\n+        PackedFrame f1 = new PackedFrame(false);\n+        f1.pack();\n+\n+        \/\/ Frame with menu, doesn't pack right\n+        PackedFrame f2 = new PackedFrame(true);\n+        f2.pack();\n+\n+        return List.of(f1, f2);\n+    }\n+\n+    private static class PackedFrame extends Frame {\n+        public PackedFrame(boolean withMenu) {\n+            super(\"PackedFrame\");\n+\n+            MenuBar menubar;\n+            Menu fileMenu;\n+            MenuItem foo;\n+            ScrollPane sp;\n+\n+            sp = new ScrollPane();\n+            sp.add(new Label(\"Label in ScrollPane\"));\n+            System.out.println(sp.getMinimumSize());\n+\n+            this.setLayout(new BorderLayout());\n+            this.add(sp, \"Center\");\n+            this.add(new Label(\"Label in Frame\"), \"South\");\n+\n+            if (withMenu) {\n+                menubar = new MenuBar();\n+                fileMenu = new Menu(\"File\");\n+                foo = new MenuItem(\"foo\");\n+                fileMenu.add(foo);\n+                menubar.add(fileMenu);\n+                this.setMenuBar(menubar);\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/Frame\/FrameMenuPackTest.java","additions":99,"deletions":0,"binary":false,"changes":99,"status":"added"},{"patch":"@@ -0,0 +1,86 @@\n+\/*\n+ * Copyright (c) 2000, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.Frame;\n+import java.awt.GridLayout;\n+import java.awt.Window;\n+import java.awt.event.ActionListener;\n+\n+\/*\n+ * @test\n+ * @bug 4097207\n+ * @summary setSize() on a Frame does not resize its content\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual FrameResizeTest_3\n+*\/\n+\n+public class FrameResizeTest_3 {\n+\n+    private static final String INSTRUCTIONS = \"\"\"\n+            1. You would see a frame titled 'TestFrame' with 2 buttons\n+               named 'setSize(500,500)' and 'setSize(400,400)'\n+            2. Click any button and you would see the frame resized\n+            3. If the buttons get resized along with the frame\n+               (ie., to fit the frame), press Pass else press Fail.\n+            \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+                .title(\"FrameResizeTest_3 Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(45)\n+                .logArea(6)\n+                .testUI(FrameResizeTest_3::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static Window createTestUI() {\n+        Frame frame = new Frame(\"TestFrame\");\n+        frame.setLayout(new GridLayout(2, 1));\n+\n+        Button butSize500 = new Button(\"setSize(500,500)\");\n+        Button butSize400 = new Button(\"setSize(400,400)\");\n+\n+        ActionListener actionListener = e -> {\n+            if (e.getSource() instanceof Button) {\n+                if (e.getSource() == butSize500) {\n+                    frame.setSize(500, 500);\n+                    PassFailJFrame.log(\"New bounds: \" + frame.getBounds());\n+                } else if (e.getSource() == butSize400) {\n+                    frame.setSize(400, 400);\n+                    PassFailJFrame.log(\"New bounds: \" + frame.getBounds());\n+                }\n+            }\n+        };\n+        butSize500.addActionListener(actionListener);\n+        butSize400.addActionListener(actionListener);\n+        frame.add(butSize500);\n+        frame.add(butSize400);\n+\n+        frame.setSize(270, 200);\n+        return frame;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/Frame\/FrameResizeTest\/FrameResizeTest_3.java","additions":86,"deletions":0,"binary":false,"changes":86,"status":"added"},{"patch":"@@ -0,0 +1,76 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* Note that although this test makes use of Swing classes, like JFrame and *\/\n+\/* JButton, it is really an AWT test, because it tests mechanism of sending *\/\n+\/* paint events. *\/\n+\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import java.awt.BorderLayout;\n+\n+\/*\n+ * @test\n+ * @bug 4174831\n+ * @summary Tests that frame do not flicker on diagonal resize\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual FrameResizeTest_4\n+ *\/\n+\n+public class FrameResizeTest_4 {\n+    private static final String INSTRUCTIONS = \"\"\"\n+          Try enlarging the frame diagonally.\n+          If buttons inside frame excessively repaint themselves and flicker\n+          while you enlarge frame, the test fails.\n+          Otherwise, it passes.\n+          \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+                .title(\"FrameResizeTest_4 Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(45)\n+                .testUI(FrameResizeTest_4::createTestUI)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static JFrame createTestUI() {\n+        JFrame f = new JFrame(\"FrameResizeTest_4 Flickering Frame\");\n+\n+        JPanel panel = new JPanel(new BorderLayout());\n+        panel.add(new JButton(\"West\"), BorderLayout.WEST);\n+        panel.add(new JButton(\"East\"), BorderLayout.EAST);\n+        panel.add(new JButton(\"North\"), BorderLayout.NORTH);\n+        panel.add(new JButton(\"South\"), BorderLayout.SOUTH);\n+        panel.add(new JButton(\"Center\"), BorderLayout.CENTER);\n+        f.setContentPane(panel);\n+\n+        f.pack();\n+        f.setBounds(100, 50, 300, 200);\n+\n+        return f;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/Frame\/FrameResizeTest\/FrameResizeTest_4.java","additions":76,"deletions":0,"binary":false,"changes":76,"status":"added"},{"patch":"@@ -0,0 +1,105 @@\n+\/*\n+ * Copyright (c) 1999, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.awt.Button;\n+import java.awt.Frame;\n+import java.awt.GridLayout;\n+\n+\/*\n+ * @test\n+ * @summary Test to make sure non-resizable Frames can be resized with the\n+ *          setSize() method.\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @run main\/manual FrameResizeTest_5\n+*\/\n+\n+public class FrameResizeTest_5  {\n+    private static final String INSTRUCTIONS = \"\"\"\n+            This tests the programmatic resizability of non-resizable Frames.\n+            Even when a Frame is set to be non-resizable, it should still be\n+            programmatically resizable using the setSize() method.\n+\n+            Initially the Frame will be resizable.  Try using the \"Smaller\"\n+            and \"Larger\" buttons to verify that the Frame resizes correctly.\n+            Then, click the \"Toggle\" button to make the Frame non-resizable.\n+            Again, verify that clicking the \"Larger\" and \"Smaller\" buttons\n+            causes the Frame to get larger and smaller.  If the Frame does\n+            not change size, or does not re-layout correctly, the test fails.\n+            \"\"\";\n+\n+    public static void main(String[] args) throws Exception {\n+        PassFailJFrame.builder()\n+                .title(\"FrameResizeTest_5 Instructions\")\n+                .instructions(INSTRUCTIONS)\n+                .columns(45)\n+                .logArea(6)\n+                .testUI(TestFrame::new)\n+                .build()\n+                .awaitAndCheck();\n+    }\n+\n+    private static class TestFrame extends Frame {\n+        Button bLarger, bSmaller, bCheck, bToggle;\n+\n+        public TestFrame() {\n+            super(\"Frame Resize Test\");\n+            setSize(200, 200);\n+            bLarger = new Button(\"Larger\");\n+            bLarger.addActionListener(e -> {\n+                setSize(400, 400);\n+                validate();\n+            });\n+            bSmaller = new Button(\"Smaller\");\n+            bSmaller.addActionListener(e -> {\n+                setSize(200, 100);\n+                validate();\n+            });\n+            bCheck = new Button(\"Resizable?\");\n+            bCheck.addActionListener(e -> {\n+                if (isResizable()) {\n+                    PassFailJFrame.log(\"Frame is resizable\");\n+                    setResizable(true);\n+                } else {\n+                    PassFailJFrame.log(\"Frame is not resizable\");\n+                    setResizable(false);\n+                }\n+            });\n+            bToggle = new Button(\"Toggle\");\n+            bToggle.addActionListener(e -> {\n+                if (isResizable()) {\n+                    PassFailJFrame.log(\"Frame is now not resizable\");\n+                    setResizable(false);\n+                } else {\n+                    PassFailJFrame.log(\"Frame is now resizable\");\n+                    setResizable(true);\n+                }\n+            });\n+            setLayout(new GridLayout(4, 1));\n+            add(bSmaller);\n+            add(bLarger);\n+            add(bCheck);\n+            add(bToggle);\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/Frame\/FrameResizeTest\/FrameResizeTest_5.java","additions":105,"deletions":0,"binary":false,"changes":105,"status":"added"}]}
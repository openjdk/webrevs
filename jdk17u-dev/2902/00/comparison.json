{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2024, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-        revision = \"0.16\", extension = \"jar\", unpack = false)\n+        revision = JcstressRunner.VERSION, extension = \"jar\", unpack = false)\n@@ -48,0 +48,1 @@\n+    public static final String VERSION = \"0.17-SNAPSHOT-20240328\";\n@@ -50,3 +51,2 @@\n-    \/\/ Allow to configure jcstress mode parameter.\n-    \/\/ Test mode preset: sanity, quick, default, tough, stress.\n-    public static final String MODE_PROPERTY = \"jcstress.mode\";\n+    public static final String TIME_BUDGET_PROPERTY = \"jcstress.time_budget\";\n+    public static String timeBudget = \"6m\";\n@@ -62,1 +62,1 @@\n-        return artifacts.get(\"org.openjdk.jcstress.jcstress-tests-all-0.16\")\n+        return artifacts.get(\"org.openjdk.jcstress.jcstress-tests-all-\" + VERSION)\n@@ -112,3 +112,0 @@\n-        \/\/ The \"default\" preset might take days for some tests\n-        \/\/ so use quick testing by default.\n-        String mode = \"quick\";\n@@ -116,4 +113,5 @@\n-            if(jvmArg.startsWith(\"-D\" + MODE_PROPERTY)) {\n-                String[] pair = jvmArg.split(\"=\", 2);\n-                mode = pair[1];\n-                continue;\n+            if (jvmArg.startsWith(\"-D\" + TIME_BUDGET_PROPERTY)) {\n+                timeBudget = jvmArg.split(\"=\", 2)[1];\n+            } else {\n+                extraFlags.add(\"--jvmArgs\");\n+                extraFlags.add(jvmArg);\n@@ -121,2 +119,0 @@\n-            extraFlags.add(\"--jvmArgs\");\n-            extraFlags.add(jvmArg);\n@@ -125,2 +121,2 @@\n-        extraFlags.add(\"-m\");\n-        extraFlags.add(mode);\n+        extraFlags.add(\"-tb\");\n+        extraFlags.add(timeBudget);\n","filename":"test\/hotspot\/jtreg\/applications\/jcstress\/JcstressRunner.java","additions":13,"deletions":17,"binary":false,"changes":30,"status":"modified"}]}
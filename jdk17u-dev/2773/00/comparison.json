{"files":[{"patch":"@@ -0,0 +1,80 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>Button Demo<\/td>\r\n+        <td>\r\n+            <ol>\r\n+                <li> Tab until the Button Demo icon <img src=\".\/resource\/rbtn.png\"> has focus. Press 'space' to\r\n+                    choose.<br>\r\n+                <li> Tab until the \"Button Demo\" tab has focus. Press 'space'. Press 'tab'.<br>\r\n+                <li> Use the arrow keys to navigate between \"Buttons\", \"Radio Buttons\", and \"Check Boxes\".<br>\r\n+                <li> Tab to enter the demo pane. Tab & Shift-Tab to move between each button.<br>\r\n+                <li> Press 'space' to trigger (i.e. \"press\") a button.<br>\r\n+                <li> Repeat steps 1 through 5 for the <b>Radio Button<\/b> & <b>Check Boxes<\/b> tabs.<br>\r\n+            <\/ol>\r\n+        <\/td>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Expected Result<\/b><\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            <ol>\r\n+                <li>Verify that as you navigate, the focus is shown, e.g.<\/li>\r\n+                <img src=\".\/resource\/btn.png\">\r\n+                <li>As you press 'space' to trigger each button, verify that you see each button visually depress.\r\n+                    e.g.:\r\n+                <\/li>\r\n+                <img src=\".\/resource\/dep.png\">\r\n+            <\/ol>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Note: actual component appearence may vary depending on look and\r\n+            feel.<\/b><\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\r\n+\r\n","filename":"test\/jdk\/javax\/accessibility\/manual\/ButtonDemo.html","additions":80,"deletions":0,"binary":false,"changes":80,"status":"added"},{"patch":"@@ -0,0 +1,28 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest ButtonDemo\n+*\/\n","filename":"test\/jdk\/javax\/accessibility\/manual\/ButtonDemo.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,75 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>ComboBox Demo<\/td>\r\n+        <td>\r\n+            <ol>\r\n+                <li> Tab until ComboBox icon<img src=\".\/resource\/cmb.png\"> has focus. Press 'Space' to choose.<\/li>\r\n+                <li>Tab until the \"ComboBox Demo\" tab has focus. Press 'space'. Press 'tab'.<\/li>\r\n+                <li> Use Tab and Shift-Tab to move between the four ComboBox widgets.\r\n+                <li>Use the space and down arrow keys to bring up the drop-down list.<\/li>\r\n+                <li> Use the up and down arrows to navigate up and down the list.<\/li>\r\n+                <li>Use the 'space' key to make a the selection.<\/li>\r\n+                <li> Repeat 4,5 but hit Esc key to cancel the drop-down.<\/li>\r\n+            <\/ol>\r\n+        <\/td>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Expected Result<\/b><\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            <ol>\r\n+                <li>Verify that space and down arrow bring up the drop-down list.<\/li>\r\n+                <img src=\".\/resource\/list.png\">\r\n+                <li>Verify that up and down arrows move up and down the list.<\/li>\r\n+                <li>Verify that 'space' makes the selection (the drop-down list should collapse).<\/li>\r\n+            <\/ol>\r\n+        <\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\r\n+\r\n+        \n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/accessibility\/manual\/ComboBoxDemo.html","additions":75,"deletions":0,"binary":false,"changes":75,"status":"added"},{"patch":"@@ -0,0 +1,28 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest ComboBoxDemo\n+*\/\n","filename":"test\/jdk\/javax\/accessibility\/manual\/ComboBoxDemo.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,66 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>Demo Selection<\/td>\r\n+        <td>Move between demos with 'tab' and 'shift-tab', and left and right arrows. Type 'space' to activate a demo.\r\n+            <img src=\".\/resource\/dms.png\">\r\n+        <\/td>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Expected Result<\/b><\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            Verify that there is visible focus as you tab (or arrow) between demo icons. Typing 'space' should change\r\n+            the selected demo.\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Note: actual component appearence may vary depending on look and\r\n+            feel.<\/b><\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\r\n+\r\n","filename":"test\/jdk\/javax\/accessibility\/manual\/DemoSelection.html","additions":66,"deletions":0,"binary":false,"changes":66,"status":"added"},{"patch":"@@ -0,0 +1,28 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest DemoSelection\n+*\/\n","filename":"test\/jdk\/javax\/accessibility\/manual\/DemoSelection.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,78 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>OptionPane Demo<\/td>\r\n+        <td>\r\n+            <ol>\r\n+                <li>Tab until the OptionPane icon <img src=\".\/resource\/op.png\">has focus. Press 'space' to choose.\r\n+                <li>Tab until the \"OptionPane Demo\" tab has focus. Press 'space'. Press 'tab'. The 'Show Input Dialog'\r\n+                    button should have focus.\r\n+                <li>Press 'space'. An Input dialog should pop up. Type some text, and hit return. The dialog should\r\n+                    change to a Message dialog with text saying \"That was a pretty good movie!\" Press return.\r\n+                <li>Bring up the dialog again (space). Press 'esc' and confirm that the dialog goes away without the\r\n+                    Message from above.\r\n+                <li>Press Tab to move down through the buttons, and select \"Component Dialog Example\" (press space). A\r\n+                    dialog should appear. Tab to ensure that you can navigate through all the components:<br>\r\n+                    a. Textfield<br>\r\n+                    b. ComboBox<br>\r\n+                    c. All 4 buttons: \"Cancel\", \"Probably\", \"Maybe\", \"No\", \"Yes\".<br>\r\n+                    d. Press 'esc' to cancel the dialog.<br>\r\n+            <\/ol>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            <b>Expected Result<\/b>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            When a popup window is created, focus must be on the popup window; when the window is closed, focus must\r\n+            return to the previous focus point.\r\n+        <\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\r\n+\r\n+                                            \n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/accessibility\/manual\/OptionPaneDemo.html","additions":78,"deletions":0,"binary":false,"changes":78,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest OptionPaneDemo\n+*\/\n+\n","filename":"test\/jdk\/javax\/accessibility\/manual\/OptionPaneDemo.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -0,0 +1,79 @@\n+<!--\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+\n+This code is free software; you can redistribute it and\/or modify it\n+under the terms of the GNU General Public License version 2 only, as\n+published by the Free Software Foundation.\n+\n+This code is distributed in the hope that it will be useful, but WITHOUT\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+version 2 for more details (a copy is included in the LICENSE file that\n+accompanied this code).\n+\n+You should have received a copy of the GNU General Public License version\n+2 along with this work; if not, write to the Free Software Foundation,\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+or visit www.oracle.com if you need additional information or have any\n+questions.\n+-->\n+\n+# Manual javax.accessibility test suite\n+\n+##  Configure environment\n+\n+### Swing Set 2\n+\n+Prepare an appropriate version of Swing Set 2 from JDK demos.\n+\n+### Acessibility frameworks\n+\n+Testing can be performed without an accessibility framework or with one of these frameworks:\n+\n+1. Windows\n+   1. JAWS\n+   2. NVDA\n+2. Mac OS X\n+   1. Voice over\n+\n+## Executing a test run\n+\n+* Start the required accessibility framework, if necessary\n+* Swing Set 2 jar default location is\n+<code>&lt;tested jdk&gt;\/demo\/jfc\/SwingSet2\/SwingSet2.jar<\/code>\n+* To override Swing Set 2 jar use <code>SWINGSET2_JAR<\/code> environment variable:\n+\n+\n+    jtreg ... -e:SWINGSET2_JAR=<file location> -m ...\/javax\/accessibility\/manual\/...\n+\n+\n+## Performing tests\n+\n+When a test a started, a UI appears consisting of two frames: test framework frame and Swing Set 2 frame. Test framework\n+frame will contain a name of the test in the title and detailed instructions.\n+\n+1. Follow the test instructions\n+2. If everything goes as expected\n+   1. Push \"Pass\"\n+   2. UI for this test closes\n+3. If something goes not accordding to the instructions:\n+   1. Push \"Fail\"\n+   2. A screenshot is taken automatically\n+   3. Describe the problem\n+   4. Retake the screenshot, if necessary\n+      1. Interract with the Swing Set 2 UI to make it showing the failure. Hit \"Retake screenshot\"\n+      2. If to demonstrate the failure the UI need to be in a state which prevents using test framework UI, such as model dialogs need to be opened or menu expanded\n+         1. Enter delay (in seconds)\n+         2. Push \"Retake screenshot\"\n+         3. Prepare the UI\n+         4. Wait for the screenshot to be retaken\n+   5. Push \"Fail\" button again\n+   6. Screenshot and the description are saved for further analysis\n+   7. Test UI closes\n+   \n+**Wasning: Do not close any window directly, all windows will be closed once the test is finished as passed or failed.**\n+\n+**Note: Keyboard navigation is supported throughout the test framework UI.**\n","filename":"test\/jdk\/javax\/accessibility\/manual\/README.md","additions":79,"deletions":0,"binary":false,"changes":79,"status":"added"},{"patch":"@@ -0,0 +1,59 @@\n+\/**\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * ORACLE PROPRIETARY\/CONFIDENTIAL. Use is subject to license terms.\n+ *\/\n+\n+import lib.ManualTestFrame;\n+import lib.TestResult;\n+\n+import javax.imageio.ImageIO;\n+import java.io.File;\n+import java.io.IOException;\n+import java.lang.reflect.InvocationTargetException;\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+import java.nio.file.Files;\n+import java.util.function.Supplier;\n+\n+import static java.io.File.separator;\n+\n+public class SwingSetTest {\n+\n+    public static void main(String[] args) throws IOException, InterruptedException,\n+            ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n+        System.out.println(\"test image \" + System.getenv(\"TEST_IMAGE_DIR\"));\n+        Supplier<TestResult> resultSupplier = ManualTestFrame.showUI(args[0],\n+                \"Wait for SwingSet2 to load, follow the instructions, select pass or fail. \" +\n+                        \"Do not close windows manually.\",\n+                SwingSetTest.class.getResource(args[0] + \".html\"));\n+        String swingSetJar = System.getenv(\"SWINGSET2_JAR\");\n+        if (swingSetJar == null) {\n+            swingSetJar = \"file:\/\/\" + System.getProperty(\"java.home\") +\n+                    separator + \"demo\" +\n+                    separator + \"jfc\" +\n+                    separator + \"SwingSet2\" +\n+                    separator + \"SwingSet2.jar\";\n+        }\n+        System.out.println(\"Loading SwingSet2 from \" + swingSetJar);\n+        ClassLoader ss = new URLClassLoader(new URL[]{new URL(swingSetJar)});\n+        ss.loadClass(\"SwingSet2\").getMethod(\"main\", String[].class).invoke(null, (Object)new String[0]);\n+        \/\/this will block until user decision to pass or fail the test\n+        TestResult result = resultSupplier.get();\n+        if (result != null) {\n+            System.err.println(\"Failure reason: \\n\" + result.getFailureDescription());\n+            if (result.getScreenCapture() != null) {\n+                File screenDump = new File(System.getProperty(\"test.classes\") + separator + args[0] + \".png\");\n+                System.err.println(\"Saving screen image to \" + screenDump.getAbsolutePath());\n+                ImageIO.write(result.getScreenCapture(), \"png\", screenDump);\n+            }\n+            Throwable e = result.getException();\n+            if (e != null) {\n+                throw new RuntimeException(e);\n+            } else {\n+                if (!result.getStatus()) throw new RuntimeException(\"Test failed!\");\n+            }\n+        } else {\n+            throw new RuntimeException(\"No result returned!\");\n+        }\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/accessibility\/manual\/SwingSetTest.java","additions":59,"deletions":0,"binary":false,"changes":59,"status":"added"},{"patch":"@@ -0,0 +1,81 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>Table Demo (tests table navigation, as well as textfield input)<\/td>\r\n+        <td>\r\n+            <ol>\r\n+                <li>Tab until the Table icon <img src=\".\/resource\/tbld.png\"> has focus. Press 'space' to choose.\r\n+                <li>Tab until the \"Table Demo\" tab has focus. Press 'space'. Press 'tab'. \"Reordering allowed\" should\r\n+                    have focus.\r\n+                <li>Tab to the Printing\/Header textfield. Verify that you can type in some text.\r\n+                <li>Continue tabbing until focus moves to the table. The table should show focus.\r\n+                <li>Press the down arrow. \"Mike Albers\" should have focus.\r\n+                <li>Use the right and left arrow keys to navigate between cells.\r\n+                <li>Set focus to a text cell (e.g. someone's first name). Press space to edit. Type some text. Hit\r\n+                    'enter' and verify the text has been changed. After editing a text cell and hitting 'enter', the\r\n+                    focus could remain on the current cell or go to the next line.\r\n+                <li>Press the 'Page Up' and 'Page Down' keys (if available on your keyboard); verify that the Table\r\n+                    scrolls up and down, page by page.\r\n+                    <ol><br>\r\n+                        <img src=\".\/resource\/tbl.png\">\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            <b>Expected Result<\/b>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            See above test description.\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Note: actual component appearence may vary depending on look and\r\n+            feel.<\/b><\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\r\n+\r\n+                                        \n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/accessibility\/manual\/TableDemo.html","additions":81,"deletions":0,"binary":false,"changes":81,"status":"added"},{"patch":"@@ -0,0 +1,28 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest TableDemo\n+*\/\n","filename":"test\/jdk\/javax\/accessibility\/manual\/TableDemo.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,67 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>Tabs within demos (tests table navigation, as well as textfield input)<\/td>\r\n+        <td>\r\n+            Continue tabbing to enter a demo's pane. When the top demo tabs have focus, the left and right arrow keys\r\n+            move between tabs.<br>\r\n+            <img src=\".\/resource\/ifm.png\">\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            <b>Expected Result<\/b>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            Verify that the selected tab changes, e.g. between 'Internal Frame Demo' and \"Source Code'.\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\"><b>Note: actual component appearence may vary depending on look and\r\n+            feel.<\/b><\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/accessibility\/manual\/TabsDemo.html","additions":67,"deletions":0,"binary":false,"changes":67,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest TabsDemo\n+*\/\n+\n","filename":"test\/jdk\/javax\/accessibility\/manual\/TabsDemo.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -0,0 +1,65 @@\n+<!--\r\n+Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\r\n+DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n+\r\n+This code is free software; you can redistribute it and\/or modify it\r\n+under the terms of the GNU General Public License version 2 only, as\r\n+published by the Free Software Foundation.\r\n+\r\n+This code is distributed in the hope that it will be useful, but WITHOUT\r\n+ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n+version 2 for more details (a copy is included in the LICENSE file that\r\n+accompanied this code).\r\n+\r\n+You should have received a copy of the GNU General Public License version\r\n+2 along with this work; if not, write to the Free Software Foundation,\r\n+Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\r\n+\r\n+Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n+or visit www.oracle.com if you need additional information or have any\r\n+questions.\r\n+-->\r\n+<!DOCTYPE html>\r\n+<html>\r\n+<head>\r\n+    <style>\r\n+  table, th, td {\r\n+  border: 1px solid black;\r\n+}\r\n+\r\n+    <\/style>\r\n+<\/head>\r\n+<body>\r\n+\r\n+\r\n+<table>\r\n+    <tr>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:5%;\">S.No<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:25%;\">Test<\/th>\r\n+        <th style=\"background-color:rgb(204,255,255); font-weight:bold; width:75%;\">Scenario<\/th>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td>1<\/td>\r\n+        <td>Tree Demo<\/td>\r\n+        <td>\r\n+            Tab until the Tree icon <img src=\".\/resource\/tree.png\"> has focus. Press 'space' to choose.\r\n+            Tab until the \"Tree Demo\" tab has focus. Press 'space'. Press 'tab'. Press the down arrow. \"Music\" should\r\n+            have focus.\r\n+            Navigate up and down the tree using the up and down arrow keys.\r\n+            Expand and collapse folders using the right and left arrow keys.\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            <b>Expected Result<\/b>\r\n+        <\/td>\r\n+    <\/tr>\r\n+    <tr>\r\n+        <td style=\"Width:100%;\" colspan=\"3\">\r\n+            See above test description.\r\n+        <\/td>\r\n+    <\/tr>\r\n+<\/table>\r\n+<\/body>\r\n+<\/html>\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/accessibility\/manual\/TreeDemo.html","additions":65,"deletions":0,"binary":false,"changes":65,"status":"added"},{"patch":"@@ -0,0 +1,28 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\/*\n+@test\n+@key headful\n+@summary manual test for accessibility button demo\n+@run main\/manual SwingSetTest TreeDemo\n+*\/\n","filename":"test\/jdk\/javax\/accessibility\/manual\/TreeDemo.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"added"},{"patch":"@@ -0,0 +1,53 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package lib;\n+\n+import javax.swing.JEditorPane;\n+import javax.swing.JPanel;\n+import javax.swing.JScrollPane;\n+import java.awt.BorderLayout;\n+import java.awt.Dimension;\n+import java.io.IOException;\n+import java.net.URL;\n+\n+\/**\n+ * Displays instructions provided through a URL.\n+ *\/\n+class DescriptionPane extends JPanel {\n+\n+    DescriptionPane(URL instructions) throws IOException {\n+        JEditorPane editorPane = new JEditorPane();\n+        editorPane.setFocusable(false);\n+        editorPane.setContentType(\"text\/html\");\n+        editorPane.setPage(instructions);\n+        editorPane.setEditable(false);\n+\n+        JScrollPane esp = new JScrollPane(editorPane);\n+        esp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n+        esp.setPreferredSize(new Dimension(250, 350));\n+\n+        setLayout(new BorderLayout());\n+\n+        add(esp);\n+    }\n+}\n","filename":"test\/jdk\/javax\/accessibility\/manual\/lib\/DescriptionPane.java","additions":53,"deletions":0,"binary":false,"changes":53,"status":"added"},{"patch":"@@ -0,0 +1,73 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package lib;\n+\n+import javax.swing.JLabel;\n+import javax.swing.JPanel;\n+import javax.swing.JTextArea;\n+import javax.swing.event.DocumentEvent;\n+import javax.swing.event.DocumentListener;\n+import java.awt.BorderLayout;\n+import java.util.function.Consumer;\n+\n+import static java.awt.BorderLayout.CENTER;\n+import static java.awt.BorderLayout.NORTH;\n+\n+\/**\n+ * Allows to enter reason for the test failure.\n+ *\/\n+class FailureReasonPane extends JPanel {\n+\n+    private final JTextArea text;\n+\n+    FailureReasonPane(Consumer<String> listener) {\n+        setLayout(new BorderLayout(10, 10));\n+        add(new JLabel(\"Failure reason:\"), NORTH);\n+        text = new JTextArea(3, 10);\n+        text.getDocument().addDocumentListener(new DocumentListener() {\n+            @Override\n+            public void insertUpdate(DocumentEvent e) {\n+                listener.accept(text.getText());\n+            }\n+\n+            @Override\n+            public void removeUpdate(DocumentEvent e) {\n+                listener.accept(text.getText());\n+            }\n+\n+            @Override\n+            public void changedUpdate(DocumentEvent e) {\n+                listener.accept(text.getText());\n+            }\n+        });\n+        add(text, CENTER);\n+    }\n+\n+    public String getReason() {\n+        return text.getText();\n+    }\n+\n+    public void requestFocus() {\n+        text.requestFocus();\n+    }\n+}\n","filename":"test\/jdk\/javax\/accessibility\/manual\/lib\/FailureReasonPane.java","additions":73,"deletions":0,"binary":false,"changes":73,"status":"added"},{"patch":"@@ -0,0 +1,159 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package lib;\n+\n+import javax.swing.BorderFactory;\n+import javax.swing.JFrame;\n+import javax.swing.JLabel;\n+import javax.swing.JPanel;\n+import javax.swing.JSplitPane;\n+import javax.swing.JTextArea;\n+import javax.swing.border.BevelBorder;\n+import java.awt.BorderLayout;\n+import java.awt.Dimension;\n+import java.awt.GridLayout;\n+import java.io.IOException;\n+import java.lang.reflect.InvocationTargetException;\n+import java.net.URL;\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.atomic.AtomicReference;\n+import java.util.function.Consumer;\n+import java.util.function.Supplier;\n+\n+import static java.awt.BorderLayout.*;\n+import static javax.swing.SwingUtilities.invokeAndWait;\n+\n+\/**\n+ * A frame which can be used to display manual test descriptions as well as, in case of a failure,\n+ * enter failure reason and capture the screen.\n+ *\/\n+public class ManualTestFrame extends JFrame {\n+\n+    private boolean alreadyFailed = false;\n+\n+    private ManualTestFrame(String testName, String headerText, URL instructions, Consumer<TestResult> listener) throws IOException {\n+\n+        super(testName);\n+\n+        JLabel statusLabel = new JLabel(\"Follow test description, select \\\"Pass\\\" or \\\"Fail\\\"\");\n+        statusLabel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n+\n+        JSplitPane split = new JSplitPane(JSplitPane.VERTICAL_SPLIT);\n+        PassFailPane[] passFail = new PassFailPane[1];\n+        FailureReasonPane failureReason = new FailureReasonPane(reason -> {\n+            passFail[0].setFailEnabled(!reason.isEmpty());\n+        });\n+        ScreenImagePane image = new ScreenImagePane(e -> {\n+            listener.accept(new TestResult(e));\n+            dispose();\n+        });\n+\n+        JPanel failureInfoPane = new JPanel();\n+        failureInfoPane.setLayout(new GridLayout(1, 2, 10, 10));\n+        failureInfoPane.add(failureReason);\n+        failureInfoPane.add(image);\n+        failureInfoPane.setVisible(false);\n+\n+        JPanel main = new JPanel();\n+        main.setLayout(new BorderLayout(10, 10));\n+        DescriptionPane description = new DescriptionPane(instructions);\n+        main.add(description, CENTER);\n+        passFail[0] = new PassFailPane((status) -> {\n+            if (status) {\n+                listener.accept(new TestResult());\n+                dispose();\n+            } else {\n+                if (!alreadyFailed) {\n+                    alreadyFailed = true;\n+                    split.setDividerLocation(.5);\n+                    failureInfoPane.setVisible(true);\n+                    pack();\n+                    image.capture();\n+                    failureReason.requestFocus();\n+                    statusLabel.setText(\"Enter failure reason, re-take screenshot, push \\\"Fail\\\"\");\n+                } else {\n+                    listener.accept(new TestResult(failureReason.getReason(), image.getImage()));\n+                    dispose();\n+                }\n+            }\n+        });\n+        main.add(passFail[0], SOUTH);\n+\n+        split.setLeftComponent(main);\n+        split.setRightComponent(failureInfoPane);\n+        split.setDividerLocation(1.);\n+\n+        getContentPane().setLayout(new BorderLayout());\n+\n+        if (headerText != null) {\n+            JTextArea warningLabel = new JTextArea(headerText);\n+            warningLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n+            warningLabel.setEditable(false);\n+            warningLabel.setFocusable(false);\n+            getContentPane().add(warningLabel, NORTH);\n+        }\n+\n+        getContentPane().add(statusLabel, SOUTH);\n+        getContentPane().add(split, CENTER);\n+\n+        setPreferredSize(new Dimension(800, 600));\n+        pack();\n+        setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);\n+        setVisible(true);\n+    }\n+\n+    \/**\n+     * Show a test control frame which allows a user to either pass or fail the test.\n+     * @param testName\n+     * @param headerText\n+     * @param instructions\n+     * @return Returning supplier blocks till the test is passed or failed by the user.\n+     * @throws InterruptedException\n+     * @throws InvocationTargetException\n+     *\/\n+    public static Supplier<TestResult> showUI(String testName, String headerText, URL instructions)\n+            throws InterruptedException, InvocationTargetException {\n+        AtomicReference<TestResult> resultContainer = new AtomicReference<>();\n+        CountDownLatch latch = new CountDownLatch(1);\n+        invokeAndWait(() -> {\n+            try {\n+                new ManualTestFrame(testName, headerText, instructions, (status) -> {\n+                    resultContainer.set(status);\n+                    latch.countDown();\n+                });\n+            } catch (IOException e) {\n+                resultContainer.set(new TestResult(e));\n+                e.printStackTrace();\n+            }\n+        });\n+        return () -> {\n+            try {\n+                latch.await();\n+            } catch (InterruptedException e) {\n+                return new TestResult(e);\n+            }\n+            return resultContainer.get();\n+        };\n+    }\n+\n+}\n","filename":"test\/jdk\/javax\/accessibility\/manual\/lib\/ManualTestFrame.java","additions":159,"deletions":0,"binary":false,"changes":159,"status":"added"},{"patch":"@@ -0,0 +1,74 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package lib;\n+\n+import javax.swing.JButton;\n+import javax.swing.JPanel;\n+import java.awt.HeadlessException;\n+import java.io.IOException;\n+import java.util.function.Consumer;\n+\n+\/**\n+ * Allows to chose if a test fails or passes. It is a multi-use component. A chosen answer can be confirmed later\n+ * upon providing additional information.\n+ *\/\n+class PassFailPane extends JPanel {\n+    private final Consumer<Boolean> listener;\n+\n+    private final JButton btnPass = new JButton(\"Pass\");\n+    private final JButton btnFail = new JButton(\"Fail\");\n+\n+    \/**\n+     * @param listener gets called with true (pass) or false (fail).\n+     * @throws HeadlessException\n+     *\/\n+    PassFailPane(Consumer<Boolean> listener)\n+            throws HeadlessException, IOException {\n+        this.listener = listener;\n+\n+        add(btnPass);\n+        add(btnFail);\n+\n+        btnPass.requestFocus();\n+\n+        btnPass.addActionListener((e) -> {\n+            disableButtons();\n+            listener.accept(true);\n+        });\n+\n+        btnFail.addActionListener((e) -> {\n+            disableButtons();\n+            listener.accept(false);\n+        });\n+    }\n+\n+    private void disableButtons() {\n+        btnFail.setEnabled(false);\n+        btnPass.setEnabled(false);\n+    }\n+\n+    public void setFailEnabled(boolean enabled) {\n+        btnFail.setEnabled(enabled);\n+    }\n+\n+}\n","filename":"test\/jdk\/javax\/accessibility\/manual\/lib\/PassFailPane.java","additions":74,"deletions":0,"binary":false,"changes":74,"status":"added"},{"patch":"@@ -0,0 +1,124 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package lib;\n+\n+import javax.swing.ImageIcon;\n+import javax.swing.JButton;\n+import javax.swing.JFormattedTextField;\n+import javax.swing.JLabel;\n+import javax.swing.JPanel;\n+import java.awt.BorderLayout;\n+import java.awt.Dimension;\n+import java.awt.Image;\n+import java.awt.Rectangle;\n+import java.awt.Robot;\n+import java.awt.Toolkit;\n+import java.awt.image.BufferedImage;\n+import java.text.NumberFormat;\n+import java.util.concurrent.atomic.AtomicReference;\n+import java.util.function.Consumer;\n+\n+import static java.awt.BorderLayout.CENTER;\n+import static java.awt.BorderLayout.NORTH;\n+import static java.lang.String.format;\n+import static javax.swing.SwingUtilities.invokeAndWait;\n+import static javax.swing.SwingUtilities.invokeLater;\n+\n+\/**\n+ * Allows ti take screenshot, possible with a delay to preapare the UI.\n+ *\/\n+class ScreenImagePane extends JPanel {\n+    private final JPanel imagePanel;\n+    private final JLabel imageLabel;\n+    private final AtomicReference<BufferedImage> image = new AtomicReference<>();\n+    private final Rectangle screenRect;\n+    private final JFormattedTextField delayField;\n+    private final Consumer<Throwable> exceptionHandler;\n+\n+    \/**\n+     *\n+     * @param handler should an exception appear on other threads\n+     *\/\n+    ScreenImagePane(Consumer<Throwable> handler) {\n+        exceptionHandler = handler;\n+        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n+        screenRect = new Rectangle(0, 0, screenSize.width, screenSize.height);\n+        JPanel controls = new JPanel();\n+        delayField = new JFormattedTextField(NumberFormat.getNumberInstance());\n+        delayField.setText(\"0\");\n+        delayField.setColumns(3);\n+        JButton capture = new JButton(\"Retake screenshot\");\n+        controls.add(new JLabel(\"in \"));\n+        controls.add(delayField);\n+        controls.add(new JLabel(\" seconds \"));\n+        controls.add(capture);\n+        capture.addActionListener((e) -> capture());\n+        imagePanel = new JPanel();\n+        imageLabel = new JLabel();\n+        imagePanel.add(imageLabel);\n+\n+        setLayout(new BorderLayout());\n+        add(controls, NORTH);\n+        add(imagePanel, CENTER);\n+    }\n+\n+    public void capture() {\n+        new Thread(() -> {\n+            try {\n+                int delay = Integer.parseInt(delayField.getText());\n+                invokeAndWait(() -> imageLabel.setIcon(null));\n+                while (delay > 0) {\n+                    String message = format(\"Retaking screenshot in %d seconds\", delay);\n+                    invokeLater(() -> imageLabel.setText(message));\n+                    delay--;\n+                    try {\n+                        Thread.sleep(1000);\n+                    } catch (InterruptedException e) {\n+                    }\n+                }\n+                BufferedImage image = new Robot().createScreenCapture(screenRect);\n+                ScreenImagePane.this.image.set(image);\n+                int newWidth = imagePanel.getWidth();\n+                int newHeight = imagePanel.getHeight();\n+                float xratio = (float) newWidth \/ (float) image.getWidth();\n+                float yratio = (float) newHeight \/ (float) image.getHeight();\n+                if (xratio < yratio) {\n+                    newHeight = (int) (image.getHeight() * xratio);\n+                } else {\n+                    newWidth = (int) (image.getWidth() * yratio);\n+                }\n+                Image scaled = image.getScaledInstance(newWidth, newHeight, Image.SCALE_FAST);\n+                invokeAndWait(() -> {\n+                    imageLabel.setText(null);\n+                    imageLabel.setIcon(new ImageIcon(scaled));\n+                });\n+            } catch (Throwable e) {\n+                exceptionHandler.accept(e);\n+            }\n+        }).start();\n+    }\n+\n+    public BufferedImage getImage() {\n+        return image.get();\n+    }\n+}\n","filename":"test\/jdk\/javax\/accessibility\/manual\/lib\/ScreenImagePane.java","additions":124,"deletions":0,"binary":false,"changes":124,"status":"added"},{"patch":"@@ -0,0 +1,79 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package lib;\n+\n+import java.awt.image.BufferedImage;\n+\n+public final class TestResult {\n+    private final boolean status;\n+    private final String failureDescription;\n+    private final BufferedImage screenCapture;\n+    private final Throwable exception;\n+\n+    \/**\n+     * Failed due to an exception.\n+     *\/\n+    public TestResult(Throwable exception) {\n+        status = false;\n+        failureDescription = exception.getMessage();\n+        screenCapture = null;\n+        this.exception = exception;\n+    }\n+\n+    \/**\n+     * Failed by used decision.\n+     *\/\n+    public TestResult(String description, BufferedImage capture) {\n+        status = false;\n+        failureDescription = description;\n+        screenCapture = capture;\n+        exception = null;\n+    }\n+\n+    \/**\n+     * Passed.\n+     *\/\n+    public TestResult() {\n+        this.status = true;\n+        failureDescription = null;\n+        screenCapture = null;\n+        exception = null;\n+    }\n+\n+    \/**\n+     * true - pass, false - no pass.\n+     *\/\n+    public boolean getStatus() {\n+        return status;\n+    }\n+\n+    public String getFailureDescription() {\n+        return failureDescription;\n+    }\n+\n+    public BufferedImage getScreenCapture() {\n+        return screenCapture;\n+    }\n+\n+    public Throwable getException() {return exception;}\n+}\n","filename":"test\/jdk\/javax\/accessibility\/manual\/lib\/TestResult.java","additions":79,"deletions":0,"binary":false,"changes":79,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/btn.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/cmb.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/dep.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/dms.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/hc.jpg","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/if.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/ifm.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/list.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/op.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/rbtn.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/tbl.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/tbld.png","binary":true,"status":"added"},{"filename":"test\/jdk\/javax\/accessibility\/manual\/resource\/tree.png","binary":true,"status":"added"}]}
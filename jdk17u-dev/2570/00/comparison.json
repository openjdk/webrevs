{"files":[{"patch":"@@ -1139,0 +1139,8 @@\n+    \/**\n+     * The data is not available yet.\n+     * @see\n+     * <a href=\"https:\/\/learn.microsoft.com\/en-us\/windows\/win32\/com\/com-error-codes-1\">COM\n+     * Error Codes<\/a>.\n+     *\/\n+    private static final long E_PENDING = 0x8000000AL;\n+\n@@ -1164,1 +1172,1 @@\n-                    if (hIcon <= 0) {\n+                    if (hIcon == E_PENDING || hIcon == 0) {\n@@ -1167,1 +1175,1 @@\n-                        if (hIcon <= 0) {\n+                        if (hIcon == 0) {\n@@ -1407,0 +1415,2 @@\n+            assert !resolutionVariants.containsValue(null)\n+                   : \"There are null icons in the MRI variants map\";\n@@ -1412,0 +1422,1 @@\n+            assert image != null : \"Null icon passed as the base image for MRI\";\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/shell\/Win32ShellFolder2.java","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -977,1 +977,1 @@\n-    HICON hIcon = NULL;\n+    HICON hIcon;\n@@ -998,3 +998,7 @@\n-            if (size < 24) {\n-                fn_DestroyIcon((HICON)hIcon);\n-                hIcon = hIconSmall;\n+            if (SUCCEEDED(hres)) {\n+                if (size < 24) {\n+                    fn_DestroyIcon((HICON)hIcon);\n+                    hIcon = hIconSmall;\n+                } else {\n+                    fn_DestroyIcon((HICON)hIconSmall);\n+                }\n@@ -1002,1 +1006,1 @@\n-                fn_DestroyIcon((HICON)hIconSmall);\n+                hIcon = NULL;\n@@ -1006,1 +1010,3 @@\n-            return E_PENDING;\n+            return (unsigned) E_PENDING;\n+        } else {\n+            hIcon = NULL;\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/ShellFolder2.cpp","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8046391\n+ * @bug 8046391 8293862\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/8046391\/bug8046391.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}
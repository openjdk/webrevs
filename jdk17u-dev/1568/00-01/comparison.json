{"files":[{"patch":"@@ -1090,13 +1090,14 @@\n-\n-  AC_MSG_CHECKING([jtreg version number])\n-  # jtreg -version looks like this: \"jtreg 6.1+1-19\"\n-  # Extract actual version part (\"6.1\" in this case)\n-  jtreg_version_full=`$JAVA -jar $JT_HOME\/lib\/jtreg.jar -version | $HEAD -n 1 | $CUT -d ' ' -f 2`\n-  jtreg_version=${jtreg_version_full\/%+*}\n-  AC_MSG_RESULT([$jtreg_version])\n-\n-  # This is a simplified version of TOOLCHAIN_CHECK_COMPILER_VERSION\n-  comparable_actual_version=`$AWK -F. '{ printf(\"%05d%05d%05d%05d\\n\", [$]1, [$]2, [$]3, [$]4) }' <<< \"$jtreg_version\"`\n-  comparable_minimum_version=`$AWK -F. '{ printf(\"%05d%05d%05d%05d\\n\", [$]1, [$]2, [$]3, [$]4) }' <<< \"$JTREG_MINIMUM_VERSION\"`\n-  if test $comparable_actual_version -lt $comparable_minimum_version ; then\n-    AC_MSG_ERROR([jtreg version is too old, at least version $JTREG_MINIMUM_VERSION is required])\n+  if test \"x$JT_HOME\" != x; then\n+    AC_MSG_CHECKING([jtreg version number])\n+    # jtreg -version looks like this: \"jtreg 6.1+1-19\"\n+    # Extract actual version part (\"6.1\" in this case)\n+    jtreg_version_full=`$JAVA -jar $JT_HOME\/lib\/jtreg.jar -version | $HEAD -n 1 | $CUT -d ' ' -f 2`\n+    jtreg_version=${jtreg_version_full\/%+*}\n+    AC_MSG_RESULT([$jtreg_version])\n+\n+    # This is a simplified version of TOOLCHAIN_CHECK_COMPILER_VERSION\n+    comparable_actual_version=`$AWK -F. '{ printf(\"%05d%05d%05d%05d\\n\", [$]1, [$]2, [$]3, [$]4) }' <<< \"$jtreg_version\"`\n+    comparable_minimum_version=`$AWK -F. '{ printf(\"%05d%05d%05d%05d\\n\", [$]1, [$]2, [$]3, [$]4) }' <<< \"$JTREG_MINIMUM_VERSION\"`\n+    if test $comparable_actual_version -lt $comparable_minimum_version ; then\n+      AC_MSG_ERROR([jtreg version is too old, at least version $JTREG_MINIMUM_VERSION is required])\n+    fi\n","filename":"make\/autoconf\/toolchain.m4","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"}]}
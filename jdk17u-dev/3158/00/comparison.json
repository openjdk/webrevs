{"files":[{"patch":"@@ -140,1 +140,1 @@\n-        NavigableMap<Integer, AnnotationMirror> toBeFound;\n+        NavigableMap<Integer, List<AnnotationMirror>> toBeFound;\n@@ -148,1 +148,1 @@\n-            NavigableMap<Integer, AnnotationMirror> testByPos = new TreeMap<>();\n+            NavigableMap<Integer, List<AnnotationMirror>> testByPos = new TreeMap<>();\n@@ -151,1 +151,1 @@\n-                    testByPos.put(pos, test);\n+                    testByPos.computeIfAbsent(pos, ArrayList::new).add(test);\n@@ -173,9 +173,5 @@\n-                            AnnotationMirror test = toBeFound.pollFirstEntry().getValue();\n-                            String annoType = getAnnoType(test);\n-                            AnnotationMirror anno = getAnnotation(t, annoType);\n-                            if (anno == null) {\n-                                error(elem, \"annotation not found on \" + count + \": \" + t);\n-                            } else {\n-                                String v = getValue(anno, \"value\").toString();\n-                                if (v.equals(getExpect(test))) {\n-                                    out.println(\"found \" + anno + \" as expected\");\n+                            for (AnnotationMirror test : toBeFound.pollFirstEntry().getValue()) {\n+                                String annoType = getAnnoType(test);\n+                                AnnotationMirror anno = getAnnotation(t, annoType);\n+                                if (anno == null) {\n+                                    error(elem, \"annotation not found on \" + count + \": \" + t);\n@@ -183,1 +179,6 @@\n-                                    error(elem, \"Unexpected value: \" + v + \", expected: \" + getExpect(test));\n+                                    String v = getValue(anno, \"value\").toString();\n+                                    if (v.equals(getExpect(test))) {\n+                                        out.println(\"found \" + anno + \" as expected\");\n+                                    } else {\n+                                        error(elem, \"Unexpected value: \" + v + \", expected: \" + getExpect(test));\n+                                    }\n","filename":"test\/langtools\/tools\/javac\/processing\/model\/type\/BasicAnnoTests.java","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"}]}
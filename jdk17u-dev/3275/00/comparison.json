{"files":[{"patch":"@@ -45,0 +45,4 @@\n+    \/\/\n+    \/\/ If exceptionExpected == null, then any IOException thrown by\n+    \/\/ File.createTempFile is ignored.\n+    \/\/\n@@ -46,1 +50,1 @@\n-                             boolean exceptionExpected) throws IOException\n+                             Boolean exceptionExpected) throws IOException\n@@ -73,8 +77,13 @@\n-                    if (exceptionExpected) {\n-                        if (e.getMessage().startsWith(exceptionMsg))\n-                            exceptionThrown = true;\n-                        else\n-                            System.out.println(\"Wrong error message:\" +\n-                                               e.getMessage());\n-                    } else {\n-                        throw e;\n+                    if (exceptionExpected != null) {\n+                        if (exceptionExpected) {\n+                            if (e.getMessage().startsWith(exceptionMsg))\n+                                exceptionThrown = true;\n+                            else\n+                                System.out.println(\"Wrong error message:\" +\n+                                                   e.getMessage());\n+                        } else {\n+                            throw e;\n+                        }\n+\n+                        if (exceptionExpected && (!exceptionThrown || f != null))\n+                            throw new RuntimeException(\"IOException expected\");\n@@ -83,3 +92,0 @@\n-\n-                if (exceptionExpected && (!exceptionThrown || f != null))\n-                    throw new RuntimeException(\"IOException is expected\");\n@@ -118,0 +124,7 @@\n+\n+        System.out.println(\"OS name:    \" + System.getProperty(\"os.name\") + \"\\n\" +\n+                           \"OS version: \" + OSVersion.current());\n+\n+        \/\/ Here the test is for whether File.createTempFile hangs, so whether\n+        \/\/ an exception is thrown is ignored: expectedException == null\n+        test(\"ReservedName\", resvPre, resvSuf, null);\n","filename":"test\/jdk\/java\/io\/File\/createTempFile\/SpecialTempFile.java","additions":25,"deletions":12,"binary":false,"changes":37,"status":"modified"}]}
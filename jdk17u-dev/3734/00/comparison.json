{"files":[{"patch":"@@ -317,1 +317,2 @@\n-                throw new IllegalArgumentException();\n+                throw new IllegalArgumentException(\"The input currency code must \" +\n+                        \"have a length of 3 characters\");\n@@ -340,1 +341,2 @@\n-                    throw new IllegalArgumentException();\n+                    throw new IllegalArgumentException(\"The input currency code\" +\n+                            \" is not a valid ISO 4217 code\");\n@@ -395,1 +397,2 @@\n-            throw new IllegalArgumentException();\n+            throw new IllegalArgumentException(\"The country of the input locale\" +\n+                    \" is not a valid ISO 3166 country code\");\n@@ -412,1 +415,2 @@\n-                throw new IllegalArgumentException();\n+                throw new IllegalArgumentException(\"The country of the input locale\" +\n+                        \" is not a valid ISO 3166 country code\");\n@@ -677,1 +681,2 @@\n-            throw new IllegalArgumentException();\n+            throw new IllegalArgumentException(\"The country code is not a \" +\n+                    \"valid ISO 3166 code\");\n@@ -688,1 +693,2 @@\n-            throw new IllegalArgumentException();\n+            throw new IllegalArgumentException(\"The country code is not a \" +\n+                    \"valid ISO 3166 code\");\n","filename":"src\/java.base\/share\/classes\/java\/util\/Currency.java","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-        @MethodSource(\"invalidCurrencies\")\n+        @MethodSource(\"non4217Currencies\")\n@@ -85,1 +85,1 @@\n-            assertThrows(IllegalArgumentException.class, () ->\n+            IllegalArgumentException ex = assertThrows(IllegalArgumentException.class, () ->\n@@ -87,0 +87,2 @@\n+            assertEquals(\"The input currency code is not a\" +\n+                    \" valid ISO 4217 code\", ex.getMessage());\n@@ -89,2 +91,17 @@\n-        private static Stream<String> invalidCurrencies() {\n-            return Stream.of(\"AQD\", \"US$\", \"\\u20AC\");\n+        private static Stream<String> non4217Currencies() {\n+            return Stream.of(\"AQD\", \"US$\");\n+        }\n+\n+        \/\/ Calling getInstance() with a currency code not 3 characters long should throw\n+        \/\/ an IAE\n+        @ParameterizedTest\n+        @MethodSource(\"invalidLengthCurrencies\")\n+        public void invalidCurrencyLengthTest(String currencyCode) {\n+            IllegalArgumentException ex = assertThrows(IllegalArgumentException.class, () ->\n+                    Currency.getInstance(currencyCode), \"getInstance() did not throw IAE\");\n+            assertEquals(\"The input currency code must have a length of 3\" +\n+                    \" characters\", ex.getMessage());\n+        }\n+\n+        private static Stream<String> invalidLengthCurrencies() {\n+            return Stream.of(\"\\u20AC\", \"\", \"12345\");\n@@ -147,1 +164,4 @@\n-                    assertThrows(IllegalArgumentException.class, () -> Currency.getInstance(locale), \"Did not throw IAE\");\n+                    IllegalArgumentException ex = assertThrows(IllegalArgumentException.class,\n+                            () -> Currency.getInstance(locale), \"Did not throw IAE\");\n+                    assertEquals(\"The country of the input locale is not a\" +\n+                            \" valid ISO 3166 country code\", ex.getMessage());\n@@ -166,2 +186,5 @@\n-            assertThrows(IllegalArgumentException.class, ()->\n-                    Currency.getInstance(new Locale(\"\", \"EU\")), \"Did not throw IAE\");\n+            Locale l = new Locale(\"\", \"EU\");\n+            IllegalArgumentException ex = assertThrows(IllegalArgumentException.class,\n+                    ()-> Currency.getInstance(l), \"Did not throw IAE\");\n+            assertEquals(\"The country of the input locale is not a valid\" +\n+                    \" ISO 3166 country code\", ex.getMessage());\n","filename":"test\/jdk\/java\/util\/Currency\/CurrencyTest.java","additions":30,"deletions":7,"binary":false,"changes":37,"status":"modified"}]}
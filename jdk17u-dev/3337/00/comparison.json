{"files":[{"patch":"@@ -895,8 +895,10 @@\n-        final X11GraphicsDevice device = (X11GraphicsDevice) gc.getDevice();\n-        Insets insets = device.getInsets();\n-        if (insets == null) {\n-            synchronized (device) {\n-                insets = device.getInsets();\n-                if (insets == null) {\n-                    insets = getScreenInsetsImpl(gc);\n-                    device.setInsets(insets);\n+        final GraphicsDevice gd = gc.getDevice();\n+        if (gd instanceof X11GraphicsDevice x11Device) {\n+            Insets insets = x11Device.getInsets();\n+            if (insets == null) {\n+                synchronized (x11Device) {\n+                    insets = x11Device.getInsets();\n+                    if (insets == null) {\n+                        insets = getScreenInsetsImpl(gc);\n+                        x11Device.setInsets(insets);\n+                    }\n@@ -905,0 +907,3 @@\n+            return (Insets) insets.clone();\n+        } else {\n+            return super.getScreenInsets(gc);\n@@ -906,1 +911,0 @@\n-        return (Insets) insets.clone();\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XToolkit.java","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"}]}
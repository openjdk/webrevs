{"files":[{"patch":"@@ -1148,11 +1148,11 @@\n-            return switch (chronoUnit) {\n-                case NANOS     -> nanosUntil(end);\n-                case MICROS    -> microsUntil(end);\n-                case MILLIS    -> millisUntil(end);\n-                case SECONDS   -> secondsUntil(end);\n-                case MINUTES   -> secondsUntil(end) \/ SECONDS_PER_MINUTE;\n-                case HOURS     -> secondsUntil(end) \/ SECONDS_PER_HOUR;\n-                case HALF_DAYS -> secondsUntil(end) \/ (12 * SECONDS_PER_HOUR);\n-                case DAYS      -> secondsUntil(end) \/ (SECONDS_PER_DAY);\n-                default -> throw new UnsupportedTemporalTypeException(\"Unsupported unit: \" + unit);\n-            };\n+            switch (chronoUnit) {\n+                case NANOS: return nanosUntil(end);\n+                case MICROS: return nanosUntil(end) \/ 1000;\n+                case MILLIS: return Math.subtractExact(end.toEpochMilli(), toEpochMilli());\n+                case SECONDS: return secondsUntil(end);\n+                case MINUTES: return secondsUntil(end) \/ SECONDS_PER_MINUTE;\n+                case HOURS: return secondsUntil(end) \/ SECONDS_PER_HOUR;\n+                case HALF_DAYS: return secondsUntil(end) \/ (12 * SECONDS_PER_HOUR);\n+                case DAYS: return secondsUntil(end) \/ (SECONDS_PER_DAY);\n+            }\n+            throw new UnsupportedTemporalTypeException(\"Unsupported unit: \" + unit);\n","filename":"src\/java.base\/share\/classes\/java\/time\/Instant.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"}]}
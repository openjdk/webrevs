{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,2 @@\n+import jtreg.SkippedException;\n+\n@@ -66,2 +68,1 @@\n-            System.out.println(\"No support of DH KeyPairGenerator, skipping\");\n-            return;\n+           throw new SkippedException(\"No support of DH KeyPairGenerator, skipping\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyAgreement\/SupportedDHKeys.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jtreg.SkippedException;\n@@ -48,2 +49,1 @@\n-            System.out.println(\"DH not supported, skipping\");\n-            return;\n+            throw new SkippedException(\"DH not supported, skipping\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyAgreement\/TestDH.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,1 @@\n+import jtreg.SkippedException;\n@@ -80,2 +81,1 @@\n-            System.out.println(\"DH not supported, skipping\");\n-            return;\n+            throw new SkippedException(\"DH not supported, skipping\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyAgreement\/TestInterop.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,2 @@\n+import jtreg.SkippedException;\n+\n@@ -94,2 +96,1 @@\n-            System.out.println(\"DH not supported, skipping\");\n-            return;\n+            throw new SkippedException(\"DH not supported, skipping\");\n@@ -97,0 +98,1 @@\n+\n@@ -98,2 +100,0 @@\n-            DHPublicKeySpec publicSpec;\n-            DHPrivateKeySpec privateSpec;\n@@ -110,1 +110,1 @@\n-            if (Arrays.equals(s2, n2) == false) {\n+            if (!Arrays.equals(s2, n2)) {\n@@ -118,1 +118,1 @@\n-            if (Arrays.equals(s3, n3) == false) {\n+            if (!Arrays.equals(s3, n3)) {\n@@ -127,21 +127,0 @@\n-\n-\/*\n-        KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"DH\", provider);\n-        kpg.initialize(512);\n-\/\/        KeyPair kp1 = kpg.generateKeyPair();\n-\/\/      System.out.println(kp1.getPublic());\n-\/\/      System.out.println(kp1.getPrivate());\n-        while (true) {\n-            KeyAgreement ka = KeyAgreement.getInstance(\"DH\", provider);\n-            ka.init(pr1);\n-            KeyPair kp2 = kpg.generateKeyPair();\n-            ka.doPhase(kp2.getPublic(), true);\n-            byte[] sec = ka.generateSecret();\n-            if (sec.length == 64) {\n-                System.out.println(kp2.getPrivate());\n-                System.out.println(kp2.getPublic());\n-                System.out.println(toString(sec));\n-                break;\n-            }\n-        }\n-\/**\/\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyAgreement\/TestShort.java","additions":7,"deletions":28,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,2 @@\n+import jtreg.SkippedException;\n+\n@@ -63,2 +65,1 @@\n-            System.out.println(\"No supported of DH KeyPairGenerator, skipping\");\n-            return;\n+            throw new SkippedException(\"DH (DiffieHellman) is not supported in KeyPairGenerator, skipping\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyAgreement\/UnsupportedDHKeys.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}
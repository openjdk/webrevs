{"files":[{"patch":"@@ -2094,7 +2094,6 @@\n-      \/\/ we can, in fact, use even RLIM_INFINITY, so try the max value\n-      \/\/ that the system claims can be used first, same as other BSD OSes.\n-      \/\/ However, some terminals (ksh) will internally use \"int\" type\n-      \/\/ to store this value and since RLIM_INFINITY overflows an \"int\"\n-      \/\/ we might end up with a negative value, so cap the system limit max\n-      \/\/ at INT_MAX instead, just in case, for everyone.\n-      nbr_files.rlim_cur = MIN(INT_MAX, nbr_files.rlim_max);\n+      \/\/ we can, in fact, use even RLIM_INFINITY.\n+      \/\/ However, we need to limit the value to 0x100000 (which is the max value\n+      \/\/ allowed on Linux) so that any existing code that iterates over all allowed\n+      \/\/ file descriptors, finishes in a reasonable time, without appearing\n+      \/\/ to hang.\n+      nbr_files.rlim_cur = MIN(0x100000, nbr_files.rlim_max);\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"}]}
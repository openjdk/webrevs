{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -73,1 +73,1 @@\n-            System.out.println(\"No swap memory limits, test case skipped\");\n+            System.out.println(\"No swap memory limits. Ignoring test!\");\n","filename":"test\/jdk\/jdk\/internal\/platform\/docker\/MetricsMemoryTester.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2024, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2025, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+import jtreg.SkippedException;\n@@ -114,1 +115,5 @@\n-        \/\/ 'java -Xms{mem-limit} -Xmx{mem-limit} -version' would fail due to swap space size being 0.\n+        \/\/ 'java -Xms{mem-limit} -Xmx{mem-limit} -XX:+AlwaysPreTouch -version'\n+        \/\/ would fail due to swap space size being 0. Note that when swap is\n+        \/\/ properly enabled on the system the container gets the same amount\n+        \/\/ of swap as is configured for memory. Thus, 2x{mem-limit} is the actual\n+        \/\/ memory and swap bound for this pre-test.\n@@ -119,0 +124,1 @@\n+                .addJavaOpts(\"-XX:+AlwaysPreTouch\")\n@@ -124,2 +130,1 @@\n-            System.out.println(\"Swapping doesn't work for this test.\");\n-            return;\n+            throw new SkippedException(\"Swapping doesn't work for this test.\");\n@@ -139,2 +144,1 @@\n-            System.out.println(\"Ignored by the tester\");\n-            return;\n+            throw new SkippedException(\"Ignored by the tester\");\n","filename":"test\/jdk\/jdk\/internal\/platform\/docker\/TestDockerMemoryMetrics.java","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"}]}
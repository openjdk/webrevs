{"files":[{"patch":"@@ -2460,15 +2460,0 @@\n-TableStatistics SystemDictionary::placeholders_statistics() {\n-  MutexLocker ml(SystemDictionary_lock);\n-  return placeholders()->statistics_calculate();\n-}\n-\n-TableStatistics SystemDictionary::loader_constraints_statistics() {\n-  MutexLocker ml(SystemDictionary_lock);\n-  return constraints()->statistics_calculate();\n-}\n-\n-TableStatistics SystemDictionary::protection_domain_cache_statistics() {\n-  MutexLocker ml(SystemDictionary_lock);\n-  return pd_cache_table()->statistics_calculate();\n-}\n-\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":0,"deletions":15,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,1 +82,0 @@\n-class TableStatistics;\n@@ -414,5 +413,0 @@\n-\n-public:\n-  static TableStatistics placeholders_statistics();\n-  static TableStatistics loader_constraints_statistics();\n-  static TableStatistics protection_domain_cache_statistics();\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.hpp","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -810,36 +810,0 @@\n-    <Field type=\"float\" name=\"insertionRate\" label=\"Insertion Rate\" description=\"How many items were added since last event (per second)\" \/>\n-    <Field type=\"float\" name=\"removalRate\" label=\"Removal Rate\" description=\"How many items were removed since last event (per second)\" \/>\n-  <\/Event>\n-\n-  <Event name=\"PlaceholderTableStatistics\" category=\"Java Virtual Machine, Runtime, Tables\" label=\"Placeholder Table Statistics\" period=\"everyChunk\">\n-    <Field type=\"ulong\" name=\"bucketCount\" label=\"Bucket Count\" description=\"Number of buckets\" \/>\n-    <Field type=\"ulong\" name=\"entryCount\" label=\"Entry Count\" description=\"Number of all entries\" \/>\n-    <Field type=\"ulong\" contentType=\"bytes\" name=\"totalFootprint\" label=\"Total Footprint\" description=\"Total memory footprint (the table itself plus all of the entries)\" \/>\n-    <Field type=\"ulong\" name=\"bucketCountMaximum\" label=\"Maximum Bucket Count\" description=\"The maximum bucket length (entries in a single bucket)\" \/>\n-    <Field type=\"float\" name=\"bucketCountAverage\" label=\"Average Bucket Count\" description=\"The average bucket length\" \/>\n-    <Field type=\"float\" name=\"bucketCountVariance\" label=\"Bucket Count Variance\" description=\"How far bucket lengths are spread out from their average value\" \/>\n-    <Field type=\"float\" name=\"bucketCountStandardDeviation\" label=\"Bucket Count Standard Deviation\" description=\"How far bucket lengths are spread out from their mean (expected) value\" \/>\n-    <Field type=\"float\" name=\"insertionRate\" label=\"Insertion Rate\" description=\"How many items were added since last event (per second)\" \/>\n-    <Field type=\"float\" name=\"removalRate\" label=\"Removal Rate\" description=\"How many items were removed since last event (per second)\" \/>\n-  <\/Event>\n-\n-  <Event name=\"LoaderConstraintsTableStatistics\" category=\"Java Virtual Machine, Runtime, Tables\" label=\"Loader Constraints Table Statistics\" period=\"everyChunk\">\n-    <Field type=\"ulong\" name=\"bucketCount\" label=\"Bucket Count\" \/>\n-    <Field type=\"ulong\" name=\"entryCount\" label=\"Entry Count\" description=\"Number of all entries\" \/>\n-    <Field type=\"ulong\" contentType=\"bytes\" name=\"totalFootprint\" label=\"Total Footprint\" description=\"Total memory footprint (the table itself plus all of the entries)\" \/>\n-    <Field type=\"ulong\" name=\"bucketCountMaximum\" label=\"Maximum Bucket Count\" description=\"The maximum bucket length (entries in a single bucket)\" \/>\n-    <Field type=\"float\" name=\"bucketCountAverage\" label=\"Average Bucket Count\" description=\"The average bucket length\" \/>\n-    <Field type=\"float\" name=\"bucketCountVariance\" label=\"Bucket Count Variance\" description=\"How far bucket lengths are spread out from their average value\" \/>\n-    <Field type=\"float\" name=\"bucketCountStandardDeviation\" label=\"Bucket Count Standard Deviation\" description=\"How far bucket lengths are spread out from their mean (expected) value\" \/>\n-    <Field type=\"float\" name=\"insertionRate\" label=\"Insertion Rate\" description=\"How many items were added since last event (per second)\" \/>\n-    <Field type=\"float\" name=\"removalRate\" label=\"Removal Rate\" description=\"How many items were removed since last event (per second)\" \/>\n-  <\/Event>\n-\n-  <Event name=\"ProtectionDomainCacheTableStatistics\" category=\"Java Virtual Machine, Runtime, Tables\" label=\"Protection Domain Cache Table Statistics\" period=\"everyChunk\">\n-    <Field type=\"ulong\" name=\"bucketCount\" label=\"Bucket Count\" description=\"Number of buckets\" \/>\n-    <Field type=\"ulong\" name=\"entryCount\" label=\"Entry Count\" description=\"Number of all entries\" \/>\n-    <Field type=\"ulong\" contentType=\"bytes\" name=\"totalFootprint\" label=\"Total Footprint\" description=\"Total memory footprint (the table itself plus all of the entries)\" \/>\n-    <Field type=\"ulong\" name=\"bucketCountMaximum\" label=\"Maximum Bucket Count\" description=\"The maximum bucket length (entries in a single bucket)\" \/>\n-    <Field type=\"float\" name=\"bucketCountAverage\" label=\"Average Bucket Count\" description=\"The average bucket length\" \/>\n-    <Field type=\"float\" name=\"bucketCountVariance\" label=\"Bucket Count Variance\" description=\"How far bucket lengths are spread out from their average value\" \/>\n-    <Field type=\"float\" name=\"bucketCountStandardDeviation\" label=\"Bucket Count Standard Deviation\" description=\"How far bucket lengths are spread out from their mean (expected) value\" \/>\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":0,"deletions":36,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -550,15 +550,0 @@\n-TRACE_REQUEST_FUNC(PlaceholderTableStatistics) {\n-  TableStatistics statistics = SystemDictionary::placeholders_statistics();\n-  emit_table_statistics<EventPlaceholderTableStatistics>(statistics);\n-}\n-\n-TRACE_REQUEST_FUNC(LoaderConstraintsTableStatistics) {\n-  TableStatistics statistics = SystemDictionary::loader_constraints_statistics();\n-  emit_table_statistics<EventLoaderConstraintsTableStatistics>(statistics);\n-}\n-\n-TRACE_REQUEST_FUNC(ProtectionDomainCacheTableStatistics) {\n-  TableStatistics statistics = SystemDictionary::protection_domain_cache_statistics();\n-  emit_table_statistics<EventProtectionDomainCacheTableStatistics>(statistics);\n-}\n-\n","filename":"src\/hotspot\/share\/jfr\/periodic\/jfrPeriodic.cpp","additions":0,"deletions":15,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -40,15 +40,0 @@\n-    <event name=\"jdk.PlaceholderTableStatistics\">\n-      <setting name=\"enabled\">true<\/setting>\n-      <setting name=\"period\">10 s<\/setting>\n-    <\/event>\n-\n-    <event name=\"jdk.LoaderConstraintsTableStatistics\">\n-      <setting name=\"enabled\">true<\/setting>\n-      <setting name=\"period\">10 s<\/setting>\n-    <\/event>\n-\n-    <event name=\"jdk.ProtectionDomainCacheTableStatistics\">\n-      <setting name=\"enabled\">true<\/setting>\n-      <setting name=\"period\">10 s<\/setting>\n-    <\/event>\n-\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/default.jfc","additions":0,"deletions":15,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -40,15 +40,0 @@\n-    <event name=\"jdk.PlaceholderTableStatistics\">\n-      <setting name=\"enabled\">true<\/setting>\n-      <setting name=\"period\">10 s<\/setting>\n-    <\/event>\n-\n-    <event name=\"jdk.LoaderConstraintsTableStatistics\">\n-      <setting name=\"enabled\">true<\/setting>\n-      <setting name=\"period\">10 s<\/setting>\n-    <\/event>\n-\n-    <event name=\"jdk.ProtectionDomainCacheTableStatistics\">\n-      <setting name=\"enabled\">true<\/setting>\n-      <setting name=\"period\">10 s<\/setting>\n-    <\/event>\n-\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/profile.jfc","additions":0,"deletions":15,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,3 +51,0 @@\n-      recording.enable(EventNames.PlaceholderTableStatistics);\n-      recording.enable(EventNames.LoaderConstraintsTableStatistics);\n-      recording.enable(EventNames.ProtectionDomainCacheTableStatistics);\n@@ -60,3 +57,0 @@\n-      verifyTable(events, EventNames.PlaceholderTableStatistics);\n-      verifyTable(events, EventNames.LoaderConstraintsTableStatistics);\n-      verifyTable(events, EventNames.ProtectionDomainCacheTableStatistics);\n","filename":"test\/jdk\/jdk\/jfr\/event\/runtime\/TestTableStatisticsEvent.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -88,3 +88,0 @@\n-    public static final String PlaceholderTableStatistics = PREFIX + \"PlaceholderTableStatistics\";\n-    public static final String LoaderConstraintsTableStatistics = PREFIX + \"LoaderConstraintsTableStatistics\";\n-    public static final String ProtectionDomainCacheTableStatistics = PREFIX + \"ProtectionDomainCacheTableStatistics\";\n","filename":"test\/lib\/jdk\/test\/lib\/jfr\/EventNames.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"}]}
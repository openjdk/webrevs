{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,0 +60,1 @@\n+import static java.net.StandardSocketOptions.SO_RCVBUF;\n@@ -68,2 +69,0 @@\n-    private final static int IPV4_SNDBUF = 65507;\n-    private final static int IPV6_SNDBUF = 65527;\n@@ -94,1 +93,1 @@\n-                    IPV4_SNDBUF,\n+                    IPSupport.getMaxUDPSendBufSizeIPv4(),\n@@ -99,1 +98,1 @@\n-                    IPV4_SNDBUF,\n+                    IPSupport.getMaxUDPSendBufSizeIPv4(),\n@@ -110,1 +109,1 @@\n-                    IPV6_SNDBUF,\n+                    IPSupport.getMaxUDPSendBufSizeIPv6(),\n@@ -115,1 +114,1 @@\n-                    IPV6_SNDBUF,\n+                    IPSupport.getMaxUDPSendBufSizeIPv6(),\n@@ -137,0 +136,4 @@\n+            assertTrue(receiver.getOption(SO_RCVBUF) >= capacity,\n+                       receiver.getOption(SO_RCVBUF) +\n+                       \" for UDP receive buffer too small to hold capacity \" +\n+                       capacity);\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/SendReceiveMaxSize.java","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,2 @@\n+import jdk.test.lib.Platform;\n+\n@@ -50,0 +52,3 @@\n+    private static final int IPV4_SNDBUF = 65507;\n+    private static final int IPV6_SNDBUF = 65527;\n+    private static final int IPV6_SNDBUF_AIX = 65487;\n@@ -124,1 +129,0 @@\n-\n@@ -167,0 +171,17 @@\n+    \/**\n+     * Return current platform's maximum size for IPv4 UDP send buffer\n+     *\/\n+    public static final int getMaxUDPSendBufSizeIPv4() {\n+        return IPV4_SNDBUF;\n+    }\n+\n+    \/**\n+     * Return current platform's maximum size for IPv6 UDP send buffer\n+     *\/\n+    public static final int getMaxUDPSendBufSizeIPv6() {\n+        if (Platform.isAix()) {\n+            return IPV6_SNDBUF_AIX;\n+        } else {\n+            return IPV6_SNDBUF;\n+        }\n+    }\n","filename":"test\/lib\/jdk\/test\/lib\/net\/IPSupport.java","additions":23,"deletions":2,"binary":false,"changes":25,"status":"modified"}]}
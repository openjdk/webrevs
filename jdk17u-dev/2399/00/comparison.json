{"files":[{"patch":"@@ -574,2 +574,0 @@\n-javax\/management\/remote\/mandatory\/notif\/NotifReconnectDeadlockTest.java 8042215 generic-all\n-\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -90,1 +90,4 @@\n-        Thread.sleep(100); \/\/ let pass the first client open notif if there is\n+        \/\/ Sleeping here was an attempt to avoid seeing an initial notification.\n+        \/\/ This does not work, but does not matter.\n+        \/\/ Thread.sleep(100);\n+\n@@ -103,0 +106,1 @@\n+                System.out.println(\"Calling sendNotifications\");\n@@ -108,1 +112,1 @@\n-                    lock.wait(10);\n+                    lock.wait(1000); \/\/ sleep as no point in constant notifications\n@@ -146,1 +150,1 @@\n-                \/\/ treat the client notif to know the end\n+                System.out.println(\"handleNotification: \" + n);\n@@ -149,1 +153,1 @@\n-\n+                        \/\/ Expected: [type=jmx.remote.connection.opened][message=Reconnected to server]\n@@ -162,1 +166,1 @@\n-                System.out.println(\">>> Do sleep to make reconnection.\");\n+                System.out.println(\">>> sleeping in NotificationListener to force reconnection.\");\n@@ -173,1 +177,3 @@\n-    private static final long serverTimeout = 1000;\n+    \/\/ serverTimeout increased to avoid occasional problems with initial connect.\n+    \/\/ Not using Utils.adjustTimeout to avoid accidentally making it too long.\n+    private static final long serverTimeout = 2000;\n@@ -176,1 +182,1 @@\n-    private static String clientState = null;\n+    private volatile static String clientState = null;\n","filename":"test\/jdk\/javax\/management\/remote\/mandatory\/notif\/NotifReconnectDeadlockTest.java","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"}]}
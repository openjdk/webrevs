{"files":[{"patch":"@@ -102,257 +102,11 @@\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b\n-) {\n-  assert(\n-    a != b,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT \"\", p2i(a), p2i(b)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c\n-) {\n-  assert(\n-    a != b && a != c\n-           && b != c,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d\n-) {\n-  assert(\n-    a != b && a != c && a != d\n-           && b != c && b != d\n-                     && c != d,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e\n-           && b != c && b != d && b != e\n-                     && c != d && c != e\n-                               && d != e,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f\n-           && b != c && b != d && b != e && b != f\n-                     && c != d && c != e && c != f\n-                               && d != e && d != f\n-                                         && e != f,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f,\n-  AbstractRegister g\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f && a != g\n-           && b != c && b != d && b != e && b != f && b != g\n-                     && c != d && c != e && c != f && c != g\n-                               && d != e && d != f && d != g\n-                                         && e != f && e != g\n-                                                   && f != g,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \", g=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f), p2i(g)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f,\n-  AbstractRegister g,\n-  AbstractRegister h\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f && a != g && a != h\n-           && b != c && b != d && b != e && b != f && b != g && b != h\n-                     && c != d && c != e && c != f && c != g && c != h\n-                               && d != e && d != f && d != g && d != h\n-                                         && e != f && e != g && e != h\n-                                                   && f != g && f != h\n-                                                             && g != h,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \", g=\" INTPTR_FORMAT \", h=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f), p2i(g), p2i(h)\n-  );\n-}\n-\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f,\n-  AbstractRegister g,\n-  AbstractRegister h,\n-  AbstractRegister i\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f && a != g && a != h && a != i\n-           && b != c && b != d && b != e && b != f && b != g && b != h && b != i\n-                     && c != d && c != e && c != f && c != g && c != h && c != i\n-                               && d != e && d != f && d != g && d != h && d != i\n-                                         && e != f && e != g && e != h && e != i\n-                                                   && f != g && f != h && f != i\n-                                                             && g != h && g != i\n-                                                                       && h != i,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \", g=\" INTPTR_FORMAT \", h=\" INTPTR_FORMAT\n-    \", i=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f), p2i(g), p2i(h), p2i(i)\n-  );\n-}\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f,\n-  AbstractRegister g,\n-  AbstractRegister h,\n-  AbstractRegister i,\n-  AbstractRegister j\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f && a != g && a != h && a != i && a != j\n-           && b != c && b != d && b != e && b != f && b != g && b != h && b != i && b != j\n-                     && c != d && c != e && c != f && c != g && c != h && c != i && c != j\n-                               && d != e && d != f && d != g && d != h && d != i && d != j\n-                                         && e != f && e != g && e != h && e != i && e != j\n-                                                   && f != g && f != h && f != i && f != j\n-                                                             && g != h && g != i && g != j\n-                                                                       && h != i && h != j\n-                                                                                 && i != j,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \", g=\" INTPTR_FORMAT \", h=\" INTPTR_FORMAT\n-    \", i=\" INTPTR_FORMAT \", j=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f), p2i(g), p2i(h), p2i(i), p2i(j)\n-  );\n-}\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f,\n-  AbstractRegister g,\n-  AbstractRegister h,\n-  AbstractRegister i,\n-  AbstractRegister j,\n-  AbstractRegister k\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f && a != g && a != h && a != i && a != j && a !=k\n-           && b != c && b != d && b != e && b != f && b != g && b != h && b != i && b != j && b !=k\n-                     && c != d && c != e && c != f && c != g && c != h && c != i && c != j && c !=k\n-                               && d != e && d != f && d != g && d != h && d != i && d != j && d !=k\n-                                         && e != f && e != g && e != h && e != i && e != j && e !=k\n-                                                   && f != g && f != h && f != i && f != j && f !=k\n-                                                             && g != h && g != i && g != j && g !=k\n-                                                                       && h != i && h != j && h !=k\n-                                                                                 && i != j && i !=k\n-                                                                                           && j !=k,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \", g=\" INTPTR_FORMAT \", h=\" INTPTR_FORMAT\n-    \", i=\" INTPTR_FORMAT \", j=\" INTPTR_FORMAT \", k=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f), p2i(g), p2i(h), p2i(i), p2i(j), p2i(k)\n-  );\n-}\n-\n-inline void assert_different_registers(\n-  AbstractRegister a,\n-  AbstractRegister b,\n-  AbstractRegister c,\n-  AbstractRegister d,\n-  AbstractRegister e,\n-  AbstractRegister f,\n-  AbstractRegister g,\n-  AbstractRegister h,\n-  AbstractRegister i,\n-  AbstractRegister j,\n-  AbstractRegister k,\n-  AbstractRegister l\n-) {\n-  assert(\n-    a != b && a != c && a != d && a != e && a != f && a != g && a != h && a != i && a != j && a !=k && a !=l\n-           && b != c && b != d && b != e && b != f && b != g && b != h && b != i && b != j && b !=k && b !=l\n-                     && c != d && c != e && c != f && c != g && c != h && c != i && c != j && c !=k && c !=l\n-                               && d != e && d != f && d != g && d != h && d != i && d != j && d !=k && d !=l\n-                                         && e != f && e != g && e != h && e != i && e != j && e !=k && e !=l\n-                                                   && f != g && f != h && f != i && f != j && f !=k && f !=l\n-                                                             && g != h && g != i && g != j && g !=k && g !=l\n-                                                                       && h != i && h != j && h !=k && h !=l\n-                                                                                 && i != j && i !=k && i !=l\n-                                                                                           && j !=k && j !=l\n-                                                                                                    && k !=l,\n-    \"registers must be different: a=\" INTPTR_FORMAT \", b=\" INTPTR_FORMAT\n-    \", c=\" INTPTR_FORMAT \", d=\" INTPTR_FORMAT \", e=\" INTPTR_FORMAT\n-    \", f=\" INTPTR_FORMAT \", g=\" INTPTR_FORMAT \", h=\" INTPTR_FORMAT\n-    \", i=\" INTPTR_FORMAT \", j=\" INTPTR_FORMAT \", k=\" INTPTR_FORMAT\n-    \", l=\" INTPTR_FORMAT \"\",\n-    p2i(a), p2i(b), p2i(c), p2i(d), p2i(e), p2i(f), p2i(g), p2i(h), p2i(i), p2i(j), p2i(k), p2i(l)\n-  );\n+template<typename R, typename... Rx>\n+inline void assert_different_registers(R first_register, Rx... more_registers) {\n+#ifdef ASSERT\n+  const R regs[] = { first_register, more_registers... };\n+  \/\/ Verify there are no equal entries.\n+  for (size_t i = 0; i < ARRAY_SIZE(regs) - 1; ++i) {\n+    for (size_t j = i + 1; j < ARRAY_SIZE(regs); ++j) {\n+      assert(regs[i] != regs[j], \"Multiple uses of register: %s\", regs[i]->name());\n+    }\n+  }\n+#endif\n","filename":"src\/hotspot\/share\/asm\/register.hpp","additions":11,"deletions":257,"binary":false,"changes":268,"status":"modified"}]}
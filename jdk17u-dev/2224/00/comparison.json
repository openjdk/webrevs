{"files":[{"patch":"@@ -54,0 +54,1 @@\n+import javax.swing.JEditorPane;\n@@ -61,0 +62,3 @@\n+import javax.swing.text.JTextComponent;\n+import javax.swing.text.html.HTMLEditorKit;\n+import javax.swing.text.html.StyleSheet;\n@@ -84,0 +88,1 @@\n+\n@@ -85,0 +90,1 @@\n+\n@@ -86,0 +92,1 @@\n+\n@@ -172,1 +179,1 @@\n-                    enableScreenCapture);\n+                     enableScreenCapture);\n@@ -190,3 +197,5 @@\n-        JTextArea instructionsText = new JTextArea(instructions, rows, columns);\n-        instructionsText.setEditable(false);\n-        instructionsText.setLineWrap(true);\n+\n+        JTextComponent text = instructions.startsWith(\"<html>\")\n+                              ? configureHTML(instructions, rows, columns)\n+                              : configurePlainText(instructions, rows, columns);\n+        text.setEditable(false);\n@@ -213,1 +222,1 @@\n-        frame.add(new JScrollPane(instructionsText), BorderLayout.CENTER);\n+        frame.add(new JScrollPane(text), BorderLayout.CENTER);\n@@ -252,0 +261,26 @@\n+    private static JTextComponent configurePlainText(String instructions,\n+                                                     int rows, int columns) {\n+        JTextArea text = new JTextArea(instructions, rows, columns);\n+        text.setLineWrap(true);\n+        text.setWrapStyleWord(true);\n+        return text;\n+    }\n+\n+    private static JTextComponent configureHTML(String instructions,\n+                                                int rows, int columns) {\n+        JEditorPane text = new JEditorPane(\"text\/html\", instructions);\n+        text.putClientProperty(JEditorPane.HONOR_DISPLAY_PROPERTIES,\n+                               Boolean.TRUE);\n+        \/\/ Set preferred size as if it were JTextArea\n+        text.setPreferredSize(new JTextArea(rows, columns).getPreferredSize());\n+\n+        HTMLEditorKit kit = (HTMLEditorKit) text.getEditorKit();\n+        StyleSheet styles = kit.getStyleSheet();\n+        \/\/ Reduce the default margins\n+        styles.addRule(\"ol, ul { margin-left-ltr: 20; margin-left-rtl: 20 }\");\n+        \/\/ Make the size of code blocks the same as other text\n+        styles.addRule(\"code { font-size: inherit }\");\n+\n+        return text;\n+    }\n+\n","filename":"test\/jdk\/java\/awt\/regtesthelpers\/PassFailJFrame.java","additions":40,"deletions":5,"binary":false,"changes":45,"status":"modified"}]}
{"files":[{"patch":"@@ -2219,0 +2219,6 @@\n+        \/**\n+         * A supertype_index value of 65535 specifies that the annotation appears on the superclass\n+         * in an extends clause of a class declaration, see JVMS 4.7.20.1\n+         *\/\n+        public static final int SUPERCLASS_INDEX = 65535;\n+\n@@ -2228,1 +2234,1 @@\n-            t.supertype_field = addTypeAnnotations(t.supertype_field, classExtends(65535));\n+            t.supertype_field = addTypeAnnotations(t.supertype_field, classExtends(SUPERCLASS_INDEX));\n@@ -2467,1 +2473,3 @@\n-            TypeMetadata.Annotations existing = mapped.getMetadata(TypeMetadata.Annotations.class);\n+            TypeMetadata metadata = mapped.getMetadata();\n+            TypeMetadata.Annotations existing =\n+                    (TypeMetadata.Annotations) metadata.get(TypeMetadata.Entry.Kind.ANNOTATIONS);\n@@ -2469,2 +2477,4 @@\n-                existing.annotationBuffer().addAll(attributes);\n-                return mapped;\n+                TypeMetadata.Annotations combined = new TypeMetadata.Annotations(\n+                        existing.getAnnotations().appendList(attributes));\n+                return mapped.cloneWithMetadata(\n+                        metadata.without(TypeMetadata.Entry.Kind.ANNOTATIONS).combine(combined));\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassReader.java","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"}]}
{"files":[{"patch":"@@ -2303,1 +2303,1 @@\n-  st->print(\"container_type: %s\\n\", p_ct != NULL ? p_ct : \"failed\");\n+  st->print(\"container_type: %s\\n\", p_ct != NULL ? p_ct : \"not supported\");\n@@ -2306,1 +2306,1 @@\n-  st->print(\"cpu_cpuset_cpus: %s\\n\", p != NULL ? p : \"failed\");\n+  st->print(\"cpu_cpuset_cpus: %s\\n\", p != NULL ? p : \"not supported\");\n@@ -2310,1 +2310,1 @@\n-  st->print(\"cpu_memory_nodes: %s\\n\", p != NULL ? p : \"failed\");\n+  st->print(\"cpu_memory_nodes: %s\\n\", p != NULL ? p : \"not supported\");\n@@ -2314,0 +2314,1 @@\n+  st->print(\"active_processor_count: \");\n@@ -2315,1 +2316,1 @@\n-    st->print(\"active_processor_count: %d\\n\", i);\n+    st->print(\"%d\\n\", i);\n@@ -2317,1 +2318,1 @@\n-    st->print(\"active_processor_count: failed\\n\");\n+    st->print(\"not supported\\n\");\n@@ -2321,1 +2322,6 @@\n-  st->print(\"cpu_quota: %d\\n\", i);\n+  st->print(\"cpu_quota: \");\n+  if (i > 0) {\n+    st->print(\"%d\\n\", i);\n+  } else {\n+    st->print(\"%s\\n\", i == OSCONTAINER_ERROR ? \"not supported\" : \"no quota\");\n+  }\n@@ -2324,1 +2330,6 @@\n-  st->print(\"cpu_period: %d\\n\", i);\n+  st->print(\"cpu_period: \");\n+  if (i > 0) {\n+    st->print(\"%d\\n\", i);\n+  } else {\n+    st->print(\"%s\\n\", i == OSCONTAINER_ERROR ? \"not supported\" : \"no period\");\n+  }\n@@ -2327,1 +2338,6 @@\n-  st->print(\"cpu_shares: %d\\n\", i);\n+  st->print(\"cpu_shares: \");\n+  if (i > 0) {\n+    st->print(\"%d\\n\", i);\n+  } else {\n+    st->print(\"%s\\n\", i == OSCONTAINER_ERROR ? \"not supported\" : \"no shares\");\n+  }\n@@ -2330,1 +2346,6 @@\n-  st->print(\"memory_limit_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_limit_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2333,1 +2354,6 @@\n-  st->print(\"memory_and_swap_limit_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_and_swap_limit_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2336,1 +2362,6 @@\n-  st->print(\"memory_soft_limit_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_soft_limit_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2339,1 +2370,6 @@\n-  st->print(\"memory_usage_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_usage_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2342,1 +2378,6 @@\n-  st->print(\"memory_max_usage_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_max_usage_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n","filename":"hotspot\/src\/os\/linux\/vm\/os_linux.cpp","additions":54,"deletions":13,"binary":false,"changes":67,"status":"modified"}]}